[
  {
    "text": "thank you all for showing up uh we are here to talk about a cross-platform cross tool rayon kubernetes deployment",
    "start": "6899",
    "end": "14700"
  },
  {
    "text": "yay don't everyone get too excited",
    "start": "14700",
    "end": "19740"
  },
  {
    "text": "um very enjoyable and by that I mean Mr fire",
    "start": "19740",
    "end": "26640"
  },
  {
    "text": "um and so okay yeah I'm Holden I'm an open source engineer at Netflix um use right Netflix I also am working",
    "start": "26640",
    "end": "34440"
  },
  {
    "text": "on a book about Rey and using Rey for some personal projects and so there's sort of going to be a mixture of",
    "start": "34440",
    "end": "40320"
  },
  {
    "text": "different contexts that are going to float through here and I'll try and make it clear when I'm talking about the different things",
    "start": "40320",
    "end": "46739"
  },
  {
    "text": "um Queer as oh I probably shouldn't have sworn uh Queer as Frick",
    "start": "46739",
    "end": "53039"
  },
  {
    "text": "um and then that's just because like it's not related to Rey there's no secret gay garbage collector hanging out",
    "start": "53039",
    "end": "59039"
  },
  {
    "text": "that we've been hiding from y'all but it's just important to me that we all talk about where we're from and the",
    "start": "59039",
    "end": "65700"
  },
  {
    "text": "different communities that we're in so that as we're building these open source communities we realize like sometimes",
    "start": "65700",
    "end": "71280"
  },
  {
    "text": "maybe we hang out with people and we're like oh we're all like the same skin tone and",
    "start": "71280",
    "end": "76740"
  },
  {
    "text": "from the same University maybe we should get some different folks involved in this project and I think that's like super important for like machine",
    "start": "76740",
    "end": "83220"
  },
  {
    "text": "learning and data projects and stuff like that I'm also a dog Mom you can see the picture of myself and Timbit Timbit",
    "start": "83220",
    "end": "90240"
  },
  {
    "text": "is the reason why I still have to have a job and also the reason why I bothered to",
    "start": "90240",
    "end": "95520"
  },
  {
    "text": "wake up in the morning so shout out to my dog um and I am Kyle I'm an open source",
    "start": "95520",
    "end": "102840"
  },
  {
    "text": "engineer at tabular I also previously worked at Tinder where I did a lot of",
    "start": "102840",
    "end": "109020"
  },
  {
    "text": "data things as well as machine learning uh search trust and safety a number of things I",
    "start": "109020",
    "end": "116579"
  },
  {
    "text": "would probably get in trouble if I spoke about um so I'm also I'm also pretty queer I'm",
    "start": "116579",
    "end": "123180"
  },
  {
    "text": "also gay so that's good to know to have some diversity in the room especially as we know with some machine learning",
    "start": "123180",
    "end": "128459"
  },
  {
    "text": "output can be uh a little skewed if if not careful and",
    "start": "128459",
    "end": "134459"
  },
  {
    "text": "then I'm also a dog dad that is uh barely a picture of me and barely a picture of my dog as much as I could",
    "start": "134459",
    "end": "140580"
  },
  {
    "text": "force him to be in the photo um all right",
    "start": "140580",
    "end": "145739"
  },
  {
    "text": "and then I'll take you from here so what are we talking about this is uh we're",
    "start": "145739",
    "end": "151319"
  },
  {
    "text": "talking cross-platform so by that we mean we want to be running both arm instances as well as x86 instances the",
    "start": "151319",
    "end": "159959"
  },
  {
    "text": "ones we're traditionally used to um and then cross tool by that we mean",
    "start": "159959",
    "end": "165480"
  },
  {
    "text": "we have spark in the mix for reading munging data sets a desk tensorflow",
    "start": "165480",
    "end": "172040"
  },
  {
    "text": "Cuda potentially Apache Iceberg which I work on with my employer as well as running this on kubernetes",
    "start": "172040",
    "end": "180599"
  },
  {
    "text": "which can be a great way to run your infrastructure it can also be give you",
    "start": "180599",
    "end": "186420"
  },
  {
    "text": "enough rope to hang yourself some people spoke earlier yesterday about Cube Ray which will be a great way",
    "start": "186420",
    "end": "193560"
  },
  {
    "text": "to help you know minimize some of those issues but we did this with just a traditional deployments and stateful",
    "start": "193560",
    "end": "199920"
  },
  {
    "text": "sets and then also of course we're talking about Ray a general purpose distributed",
    "start": "199920",
    "end": "206400"
  },
  {
    "text": "system so if you're new to Rey welcome welcome to the party we're glad to have you",
    "start": "206400",
    "end": "211440"
  },
  {
    "text": "um and so our general focus area is on data sets we both work on the spark in",
    "start": "211440",
    "end": "218940"
  },
  {
    "text": "the spark community on Apache Iceberg so I'm very focused on",
    "start": "218940",
    "end": "224459"
  },
  {
    "text": "reading in data reading out data uh probably a join or two here or there and",
    "start": "224459",
    "end": "231420"
  },
  {
    "text": "then also Holden has a special interest in satellites in space yeah that we will",
    "start": "231420",
    "end": "237239"
  },
  {
    "text": "get to um so what makes this a hard problem to be running a ray on multiple types of",
    "start": "237239",
    "end": "244980"
  },
  {
    "text": "machine architectures for one Ray doesn't yet have a multi-linux",
    "start": "244980",
    "end": "250500"
  },
  {
    "text": "architecture container um nor does it have Linux arm packages",
    "start": "250500",
    "end": "255959"
  },
  {
    "text": "yet I do want to give a shout out that there is a provided Mac arm",
    "start": "255959",
    "end": "261739"
  },
  {
    "text": "developmental dependencies so you can use that on your local to get the speed up from your arm instance there if you",
    "start": "261740",
    "end": "268380"
  },
  {
    "text": "have an M1 or M2 I suppose as well as different Native dependencies that are",
    "start": "268380",
    "end": "274320"
  },
  {
    "text": "needed so as we know our our python code is typically calling out to uh C plus",
    "start": "274320",
    "end": "279780"
  },
  {
    "text": "machine code or even to the GPU and these things require different base",
    "start": "279780",
    "end": "286020"
  },
  {
    "text": "containers for different tools as well as some of our tools don't really work",
    "start": "286020",
    "end": "291479"
  },
  {
    "text": "on Linux arm still at the moment so there might not be packages available Wheels available for them they might not",
    "start": "291479",
    "end": "298380"
  },
  {
    "text": "be tested and then of course working across architecture and having in your",
    "start": "298380",
    "end": "304500"
  },
  {
    "text": "cluster a machine speaking to another that speaks has a different instruction set could lead to some data",
    "start": "304500",
    "end": "311820"
  },
  {
    "text": "data correctness Adventures if you want to think maybe things like endian-ness",
    "start": "311820",
    "end": "317280"
  },
  {
    "text": "of the data on one side or the other the machine has to be able to interpret it correctly you can potentially get silent",
    "start": "317280",
    "end": "324780"
  },
  {
    "text": "errors which are the most dangerous classifiers in terms of data and then",
    "start": "324780",
    "end": "331620"
  },
  {
    "text": "also pip dependency resolution has made this harder as pip can as it",
    "start": "331620",
    "end": "339840"
  },
  {
    "text": "got more intelligent it's able to do more for you but at the expense of speed",
    "start": "339840",
    "end": "346280"
  },
  {
    "text": "and figuring out the dependency set um and now why does this matter why do",
    "start": "346280",
    "end": "352979"
  },
  {
    "text": "we care about doing this my biggest Focus for why do we care about doing this is Cash arm instances can be up to",
    "start": "352979",
    "end": "360720"
  },
  {
    "text": "30 percent cheaper that's money that can be then applied towards uh having more",
    "start": "360720",
    "end": "366120"
  },
  {
    "text": "gpus in your cluster you can get bonuses or leave bonuses that's that's the important place where the money should",
    "start": "366120",
    "end": "372120"
  },
  {
    "text": "go yeah or bonuses I I would say probably bonuses and then gpus",
    "start": "372120",
    "end": "378780"
  },
  {
    "text": "um as well as we can avoid emulation when talking to Edge devices that run",
    "start": "378780",
    "end": "383819"
  },
  {
    "text": "arm as well a classic example of this would be if you're sending a output to",
    "start": "383819",
    "end": "389280"
  },
  {
    "text": "Android games or Edge devices could be cars if you're sending large instruction",
    "start": "389280",
    "end": "395520"
  },
  {
    "text": "sets to them and then also Ray data sets are they're",
    "start": "395520",
    "end": "401160"
  },
  {
    "text": "good but they're not complete entirely they can't entirely replace",
    "start": "401160",
    "end": "407539"
  },
  {
    "text": "things like spark and traditional tools like that they only recently for example added Key by operations so that's your",
    "start": "407539",
    "end": "414840"
  },
  {
    "text": "group by key reduced by key which many people really want and as we",
    "start": "414840",
    "end": "421500"
  },
  {
    "text": "know most developers most likely want really just pandas at scale maybe not",
    "start": "421500",
    "end": "427680"
  },
  {
    "text": "exactly the pandas API but that is you know uh the ideal world if pandas could",
    "start": "427680",
    "end": "432780"
  },
  {
    "text": "scale to thousands and thousands of nodes uh in an efficient way",
    "start": "432780",
    "end": "438660"
  },
  {
    "text": "um also raid environments are dynamically created so that means that a lot of",
    "start": "438660",
    "end": "445259"
  },
  {
    "text": "things are if done in a normal way are created as build time so there's a",
    "start": "445259",
    "end": "453000"
  },
  {
    "text": "compilation step and that can be very slow on arm as there might not be a",
    "start": "453000",
    "end": "458580"
  },
  {
    "text": "wheel available so that code then needs to be compiled in the container before the actors can come up that can add",
    "start": "458580",
    "end": "466259"
  },
  {
    "text": "several minutes or or quite longer hours to the time before the machine is",
    "start": "466259",
    "end": "472740"
  },
  {
    "text": "actually up and running and able to do work and that's time you're spending for compute that's not really Computing",
    "start": "472740",
    "end": "479220"
  },
  {
    "text": "anything of value to you um so you run into a situation where you",
    "start": "479220",
    "end": "484560"
  },
  {
    "text": "say I'm going to launch this tensorflow Pipeline and oh it has to come up and do it first it might actually wind up",
    "start": "484560",
    "end": "491520"
  },
  {
    "text": "compiling all of tensorflow on every node in the cluster now that would be a",
    "start": "491520",
    "end": "497340"
  },
  {
    "text": "way so you have 20 node cluster each one of them just did the compilation of tensorflow that's a obvious waste of",
    "start": "497340",
    "end": "504419"
  },
  {
    "text": "money and can add significant amount of time to a job that otherwise would take much less time",
    "start": "504419",
    "end": "512659"
  },
  {
    "text": "um now so how did we how do we solve this problem um well of course we're running on",
    "start": "512880",
    "end": "518880"
  },
  {
    "text": "kubernetes so Docker files um as one does with Docker files they're",
    "start": "518880",
    "end": "524459"
  },
  {
    "text": "trying to find out uh you know making things work so it can be a little",
    "start": "524459",
    "end": "530519"
  },
  {
    "text": "sketchy in some of our examples but the ray Community is thankfully working on making this better and providing a cube",
    "start": "530519",
    "end": "538380"
  },
  {
    "text": "Ray and other tools like that to abstract that away from the end user so it looks more like just developing from",
    "start": "538380",
    "end": "544800"
  },
  {
    "text": "your laptop to the cluster but for us we have you know Docker files that have a",
    "start": "544800",
    "end": "551040"
  },
  {
    "text": "lot of well-specified dependencies well specified dependency",
    "start": "551040",
    "end": "556560"
  },
  {
    "text": "sets Etc and then also building from Source but",
    "start": "556560",
    "end": "562260"
  },
  {
    "text": "doing that in a builder container for example so that that doesn't need to be done when things come up ensuring that",
    "start": "562260",
    "end": "569220"
  },
  {
    "text": "when the when the actor is when the machine comes up the actors can start doing their work right away",
    "start": "569220",
    "end": "574940"
  },
  {
    "text": "and now one other way that people sometimes solve this when they want to have multiple tools is they just have a",
    "start": "574940",
    "end": "581519"
  },
  {
    "text": "container for each tool and they can be running in the same pod and then speak over localhost so that's an approach",
    "start": "581519",
    "end": "588300"
  },
  {
    "text": "that some tools take Apache beam takes that you would have a tool you would have a container for spark a container",
    "start": "588300",
    "end": "595320"
  },
  {
    "text": "for Ray they could speak to each other but that has a lot of room for improvement with regards to Performance",
    "start": "595320",
    "end": "601019"
  },
  {
    "text": "as well as cluster utilization each of those containers is going to need to",
    "start": "601019",
    "end": "606180"
  },
  {
    "text": "have a minimum amount of memory maybe four gigabytes eight gigabytes whatever",
    "start": "606180",
    "end": "612060"
  },
  {
    "text": "um and if that could be all processed into one container um that would save you know you could",
    "start": "612060",
    "end": "618480"
  },
  {
    "text": "maybe half or you know uh reduced by 20 or more uh the amount of compute that is",
    "start": "618480",
    "end": "625380"
  },
  {
    "text": "needed for running the same job and room for improvement is sort of what I think",
    "start": "625380",
    "end": "630720"
  },
  {
    "text": "Holden said was her last uh performance review to be fair I did not read my last",
    "start": "630720",
    "end": "636540"
  },
  {
    "text": "performance review so I'm just assuming it's had room for improvement based on the fact that I didn't bother reading my last performance review",
    "start": "636540",
    "end": "644360"
  },
  {
    "text": "mm-hmm all right so let's take a look at some",
    "start": "645839",
    "end": "651480"
  },
  {
    "text": "Docker files so as we can see here we did some let me get to the",
    "start": "651480",
    "end": "660360"
  },
  {
    "text": "we had to make a number of updates uh one thing you can see here that we do is",
    "start": "660540",
    "end": "666899"
  },
  {
    "text": "fall back so for certain dependency isn't available because the architecture",
    "start": "666899",
    "end": "672420"
  },
  {
    "text": "that this is compiling on is for um is going to be for arm for instance",
    "start": "672420",
    "end": "679200"
  },
  {
    "text": "you fall back using the or statement other things we have is including we",
    "start": "679200",
    "end": "685380"
  },
  {
    "text": "need multiple compilers to ensure that we have the compiler available for each",
    "start": "685380",
    "end": "690779"
  },
  {
    "text": "even though those are included in the Builder container the final output actually still needs those because they",
    "start": "690779",
    "end": "697260"
  },
  {
    "text": "need to be linked um but it still saves us time on building",
    "start": "697260",
    "end": "702420"
  },
  {
    "text": "and setting up our whole cluster so this is available online and we will have",
    "start": "702420",
    "end": "707700"
  },
  {
    "text": "links to that go now huh so why does all this still maybe",
    "start": "707700",
    "end": "715800"
  },
  {
    "text": "take you know you go to run this you go to build it it takes uh two days was our",
    "start": "715800",
    "end": "722880"
  },
  {
    "text": "first attempt at doing this two days was the compilation process I thought my computer was broken for quite some time",
    "start": "722880",
    "end": "728279"
  },
  {
    "text": "but that was not the case so one issue is that the new pip resolver does a much",
    "start": "728279",
    "end": "734459"
  },
  {
    "text": "better job of handling dependency conflicts so you don't have to specify versions as much but that's quite a lot",
    "start": "734459",
    "end": "741180"
  },
  {
    "text": "of work that it has to do there's many versions of many packages and determining the",
    "start": "741180",
    "end": "746220"
  },
  {
    "text": "navigating the whole dag of dependencies to determine which ones fit together can take an extreme amount of time as well",
    "start": "746220",
    "end": "753180"
  },
  {
    "text": "as the way pip resolves it actually downloads the dependency to check that if it'll work so there's could be quite",
    "start": "753180",
    "end": "759839"
  },
  {
    "text": "a lot of downloading that takes place and if that's happening regularly on your cluster every time you're running",
    "start": "759839",
    "end": "765240"
  },
  {
    "text": "that is a waste of compute additionally our machines are very often",
    "start": "765240",
    "end": "772019"
  },
  {
    "text": "lower powered CPUs well the ones I got for free I got some free free arm machines with low power CPUs and big",
    "start": "772019",
    "end": "778440"
  },
  {
    "text": "gpus um yeah exactly and they will be having more uh focus on the GPU for doing the",
    "start": "778440",
    "end": "784920"
  },
  {
    "text": "heavy lifting but pip obviously doesn't use GPU acceleration for resolving dependencies and the gpus are only used",
    "start": "784920",
    "end": "791459"
  },
  {
    "text": "for very specialized purposes so we want to keep them used for just their specialized purpose and run everything",
    "start": "791459",
    "end": "797459"
  },
  {
    "text": "else on x86 or compile it ahead of time as need be",
    "start": "797459",
    "end": "802560"
  },
  {
    "text": "yeah cool um so there's there's different ways that we can solve this we can cross",
    "start": "802560",
    "end": "808260"
  },
  {
    "text": "build things without using M1 or Tegra or an actual arm machine",
    "start": "808260",
    "end": "814500"
  },
  {
    "text": "um but if if you're like you know what sounds fast is emulating another architecture uh that is not the case",
    "start": "814500",
    "end": "821339"
  },
  {
    "text": "this doesn't actually make it faster but if you don't have one you know you can run this high quality fixqumu.sh shell",
    "start": "821339",
    "end": "828060"
  },
  {
    "text": "script only the finest and it does a bunch of random things that I don't",
    "start": "828060",
    "end": "833339"
  },
  {
    "text": "understand but then after you run it you can cross build with Docker using",
    "start": "833339",
    "end": "838560"
  },
  {
    "text": "emulation the only downside is if anything touches seago it will explode and not work uh so that's great but the",
    "start": "838560",
    "end": "846120"
  },
  {
    "text": "good news is we don't we don't touch anything in seagull and Rey so that's that's fine um another one is we want to use Cuda",
    "start": "846120",
    "end": "852600"
  },
  {
    "text": "right we want to be able to use our fancy GPU acceleration um but for me personally I've got these",
    "start": "852600",
    "end": "858540"
  },
  {
    "text": "Linux for Tegra machines um super wonderful machines but they they do take what could be described as",
    "start": "858540",
    "end": "865139"
  },
  {
    "text": "a conservative approach to upgrading also known as no",
    "start": "865139",
    "end": "870360"
  },
  {
    "text": "um and so they're still on Ubuntu 1804 and a lot of raised dependencies do not love Ubuntu 1804 and so I do a bunch of",
    "start": "870360",
    "end": "880079"
  },
  {
    "text": "Terrible Things um to to make this work wherein I end up",
    "start": "880079",
    "end": "885779"
  },
  {
    "text": "slipstreaming a bunch of different packages together building in one environment and then running in another",
    "start": "885779",
    "end": "893279"
  },
  {
    "text": "environment and you get some really fun glib C errors but eventually you can make it work and if you like lib Sears",
    "start": "893279",
    "end": "901380"
  },
  {
    "text": "I I don't know who hurt you but I'm really sorry um but anyway so that's that's fine we",
    "start": "901380",
    "end": "907260"
  },
  {
    "text": "we can make it work and looking at that Docker file is just going to result in sadness so there's a link to it but",
    "start": "907260",
    "end": "913380"
  },
  {
    "text": "we're not we're not going to go into it in too much detail and the last one which is a little funky is making a",
    "start": "913380",
    "end": "920220"
  },
  {
    "text": "Jupiter uh notebooks work with rayon Cube and now we could of course try and",
    "start": "920220",
    "end": "926279"
  },
  {
    "text": "just pip install Rey On Top of the base notebook image right or we could",
    "start": "926279",
    "end": "931680"
  },
  {
    "text": "alternatively try and take the ray container and then pip install Jupiter",
    "start": "931680",
    "end": "937139"
  },
  {
    "text": "Notebook on top of it it turns out that the second one kind of is what could be",
    "start": "937139",
    "end": "943079"
  },
  {
    "text": "politely described as painful because the entry points are super super funky",
    "start": "943079",
    "end": "948480"
  },
  {
    "text": "and Jupiter Hub makes a lot of assumptions about how the container is set up so it's not a simple matter of",
    "start": "948480",
    "end": "954660"
  },
  {
    "text": "just like installing the jupyter Hub extensions on top of your ray container",
    "start": "954660",
    "end": "960240"
  },
  {
    "text": "and just rolling a new one so we actually found it easier to instead build a rain notebook container where we",
    "start": "960240",
    "end": "968880"
  },
  {
    "text": "essentially copied a bunch of the initial Ray container setup logic and ran it again on top of the Jupiter",
    "start": "968880",
    "end": "975839"
  },
  {
    "text": "container setup logic because the Jupiter container setup logic is a nightmare but it's okay it's",
    "start": "975839",
    "end": "984600"
  },
  {
    "text": "you don't have to look at twice because it kind of runs and so there's there's different ways to deploy this I",
    "start": "984600",
    "end": "991500"
  },
  {
    "text": "think zero to Jupiter Hub is the least painful way to get Jupiter running on",
    "start": "991500",
    "end": "997199"
  },
  {
    "text": "kubernetes it's the one that I chose there are different ways to do it of course if you don't like them you can",
    "start": "997199",
    "end": "1003380"
  },
  {
    "text": "you can feel free to do that setting it up is a little bit painful",
    "start": "1003380",
    "end": "1008600"
  },
  {
    "text": "because it turns out that you need to have this thing called authentication and and I have a funny story about",
    "start": "1008600",
    "end": "1015500"
  },
  {
    "text": "authentication which is namely I'm lazy so I didn't really want to set up an ldap server so I was like what could I",
    "start": "1015500",
    "end": "1022220"
  },
  {
    "text": "use for authentication well there's a GitHub plugin I could just set up a GitHub organization and to be clear this",
    "start": "1022220",
    "end": "1028699"
  },
  {
    "text": "is like personal stuff right like glorious employer has much better",
    "start": "1028699",
    "end": "1033798"
  },
  {
    "text": "authentication but in my own fun times you know when I'm doing things I need authentication because I don't",
    "start": "1033799",
    "end": "1040819"
  },
  {
    "text": "want to end up mining cryptocurrency for some random person that isn't me me but also I don't really want to put a lot of",
    "start": "1040819",
    "end": "1047900"
  },
  {
    "text": "effort into it so I ended up using the GitHub oauth authentication",
    "start": "1047900",
    "end": "1053200"
  },
  {
    "text": "and you know it's it's fun oh yeah and then also if you've ever said to yourself you know what I really wish I",
    "start": "1053200",
    "end": "1059600"
  },
  {
    "text": "could do is write python with no syntax highlighting in line in a yaml file I",
    "start": "1059600",
    "end": "1065299"
  },
  {
    "text": "have news for you zero to Jupiter Hub can help that dream become a reality because it has",
    "start": "1065299",
    "end": "1073580"
  },
  {
    "text": "hmm how would I say this so it has a really convenient hooks so we can see",
    "start": "1073580",
    "end": "1079820"
  },
  {
    "text": "here we've got this pre-spawn hook and this is where I set the service account based on which user is logging in",
    "start": "1079820",
    "end": "1086860"
  },
  {
    "text": "unfortunately I have to do that inside of a yaml file inside of some Python and",
    "start": "1086860",
    "end": "1094039"
  },
  {
    "text": "so that's just kind of not great and involved a lot of typos on my part",
    "start": "1094039",
    "end": "1100039"
  },
  {
    "text": "because white space sensitive languages and yaml files are a great mix",
    "start": "1100039",
    "end": "1105740"
  },
  {
    "text": "um anyways mild mild sarcasm here um and then here's the GitHub authenticator we can see I allowed it for everyone who's",
    "start": "1105740",
    "end": "1112280"
  },
  {
    "text": "working on the scaling python book with me or scaling python books with me and",
    "start": "1112280",
    "end": "1117559"
  },
  {
    "text": "then I didn't actually give you my GitHub Secrets this time I have live streamed them before and rotated them",
    "start": "1117559",
    "end": "1123799"
  },
  {
    "text": "but this time I did not funny story uh the GitHub oauth Authenticator",
    "start": "1123799",
    "end": "1130940"
  },
  {
    "text": "doesn't do a great job of knowing when you've like hit your request limit and",
    "start": "1130940",
    "end": "1136520"
  },
  {
    "text": "so if you have multiple things using your GitHub oauth Keys like say for example a PR dashboard",
    "start": "1136520",
    "end": "1143059"
  },
  {
    "text": "um you might get into a situation where you just can randomly not log in sometimes and you get very very confused",
    "start": "1143059",
    "end": "1148520"
  },
  {
    "text": "and it takes you two to three days and this is some hypothetical person that definitely was not me",
    "start": "1148520",
    "end": "1154640"
  },
  {
    "text": "um definitely did not run into this problem okay yes oh wait it says I ran into this",
    "start": "1154640",
    "end": "1159799"
  },
  {
    "text": "problem in my slides so much for that lie okay not the most convincing",
    "start": "1159799",
    "end": "1165200"
  },
  {
    "text": "okay yeah and so like I was saying um we do this really funky thing uh we",
    "start": "1165200",
    "end": "1172280"
  },
  {
    "text": "can go look at the docker file but I do want to do the demo instead of scrolling through Docker files some more but",
    "start": "1172280",
    "end": "1178460"
  },
  {
    "text": "essentially we end up layering Rey On Top of the Jupiter container rather than rather than the other way around",
    "start": "1178460",
    "end": "1185299"
  },
  {
    "text": "um and so now now we've got all of our fun containers and it's time to use them",
    "start": "1185299",
    "end": "1190400"
  },
  {
    "text": "with Rey and the main thing is like we we end up it's pretty easy all we have",
    "start": "1190400",
    "end": "1196220"
  },
  {
    "text": "to do is override the image and operator image and then we we of course add our different you know worker groups but",
    "start": "1196220",
    "end": "1202880"
  },
  {
    "text": "this is really the only thing that we need to do that's specific to the multi-arch one and that's just because the default Ray containers aren't",
    "start": "1202880",
    "end": "1210080"
  },
  {
    "text": "available in multi-arch so you have to build your own containers and then override the configuration to point to",
    "start": "1210080",
    "end": "1215419"
  },
  {
    "text": "your custom containers um oh yeah and this other thing is because the Nvidia GPU labeler doesn't",
    "start": "1215419",
    "end": "1222559"
  },
  {
    "text": "run on the Nvidia Hardware that I got I'm sure that makes sense and this one",
    "start": "1222559",
    "end": "1228740"
  },
  {
    "text": "is running qbre in that example yeah yeah um yeah but in practice I ended up using",
    "start": "1228740",
    "end": "1235940"
  },
  {
    "text": "Ray up because it was it was less of a pain really yeah so what can we do with",
    "start": "1235940",
    "end": "1241940"
  },
  {
    "text": "these fun containers right like what can we and also what can I show you because I can't really show you like my",
    "start": "1241940",
    "end": "1248960"
  },
  {
    "text": "employer's data so we can do a bunch of fun things including the finest logos",
    "start": "1248960",
    "end": "1254539"
  },
  {
    "text": "from fiverr.com if you've ever said to yourself wow I wish I had an MS paint license",
    "start": "1254539",
    "end": "1260380"
  },
  {
    "text": "fiverr.com is the solution um no more seriously so I'm gonna I'm gonna run two demos uh the first one is",
    "start": "1260380",
    "end": "1267140"
  },
  {
    "text": "going to be the space Beaver demo and if you've ever said to yourself I wish I had an open source satellite",
    "start": "1267140",
    "end": "1273020"
  },
  {
    "text": "communication device that used the VHF frequency band and was super super",
    "start": "1273020",
    "end": "1278360"
  },
  {
    "text": "sketchy I have a solution for you and you should go to spacebeaver.com and",
    "start": "1278360",
    "end": "1283700"
  },
  {
    "text": "give me your email address to definitely not spam but contact with select unique",
    "start": "1283700",
    "end": "1289700"
  },
  {
    "text": "marketing opportunities for qualified users like yourself but yeah we're going to run the back end",
    "start": "1289700",
    "end": "1296240"
  },
  {
    "text": "for space beaver and we're going to run this on Ray on a mixed architecture",
    "start": "1296240",
    "end": "1301520"
  },
  {
    "text": "cluster so the pre-work AKA stuff that takes too long to do live is the first",
    "start": "1301520",
    "end": "1308360"
  },
  {
    "text": "step is deploying a multi-architecture cluster now you know you don't have to have a stack of Hardware machines down",
    "start": "1308360",
    "end": "1315740"
  },
  {
    "text": "in Fremont California like myself to do that uh you can run it on AWS but of course I would encourage you uh to get a",
    "start": "1315740",
    "end": "1323120"
  },
  {
    "text": "nice little Colo cage down in Fremont California and then you can yeah",
    "start": "1323120",
    "end": "1328220"
  },
  {
    "text": "clicky button not clicking there we go and then we can see here",
    "start": "1328220",
    "end": "1333380"
  },
  {
    "text": "I've got like this really really high quality uh k3s setup book",
    "start": "1333380",
    "end": "1339620"
  },
  {
    "text": "um you can you can copy it and and don't don't worry about it only the highest",
    "start": "1339620",
    "end": "1344659"
  },
  {
    "text": "quality code but that gives us a nice multi-architecture cluster and then you",
    "start": "1344659",
    "end": "1349820"
  },
  {
    "text": "build some royalty architecture Ray Docker images I built one of them this morning and let's hope that it works",
    "start": "1349820",
    "end": "1357260"
  },
  {
    "text": "because it only finished doing a push to Docker Hub during the previous talk so I",
    "start": "1357260",
    "end": "1363380"
  },
  {
    "text": "haven't actually oh that doesn't look like it worked oh no okay let's run this",
    "start": "1363380",
    "end": "1368840"
  },
  {
    "text": "high quality shell script called deploy.sh and I'm going to comment out the part where we do the build X because",
    "start": "1368840",
    "end": "1376159"
  },
  {
    "text": "the conference Wi-Fi is kind of slow okay let's see if this works",
    "start": "1376159",
    "end": "1383500"
  },
  {
    "text": "to see here okay uh uh waiting for SSH to become",
    "start": "1383840",
    "end": "1389539"
  },
  {
    "text": "available which isn't actually SSH we can go over here and we can look at the nodes",
    "start": "1389539",
    "end": "1395840"
  },
  {
    "text": "okay cool so we've got a head node that's actually been up for 30 minutes",
    "start": "1395840",
    "end": "1402020"
  },
  {
    "text": "interesting interesting so I will say off hand many",
    "start": "1402020",
    "end": "1407419"
  },
  {
    "text": "times when speakers at conferences not us of course say that these are sketchy and this is not a great way it's",
    "start": "1407419",
    "end": "1414620"
  },
  {
    "text": "oftentimes a do as I say not as I do of course that's not what I'm saying is the",
    "start": "1414620",
    "end": "1419960"
  },
  {
    "text": "case for us but in practice in production at many places you do wind up",
    "start": "1419960",
    "end": "1425000"
  },
  {
    "text": "with some of these uh largely written out what feels kind of hacky at the time",
    "start": "1425000",
    "end": "1432080"
  },
  {
    "text": "infrastructure pieces and that can be holding up quite a large number of things yeah",
    "start": "1432080",
    "end": "1437539"
  },
  {
    "text": "so we'll we'll try this deploy one more time and if it fails we'll fall back to the second demo which doesn't depend on",
    "start": "1437539",
    "end": "1444740"
  },
  {
    "text": "satellites so I'm sad because I was hoping to to do the demo which we which",
    "start": "1444740",
    "end": "1451280"
  },
  {
    "text": "we put in the book but you know failing that it's okay we can do the Jupiter Hub multi-arch multi-container uh demo",
    "start": "1451280",
    "end": "1459620"
  },
  {
    "text": "um but let's see here",
    "start": "1459620",
    "end": "1464500"
  },
  {
    "text": "get pods container creating okay okay",
    "start": "1465559",
    "end": "1470980"
  },
  {
    "text": "I'll describe oh Dash and space beaver what's it doing okay it's pulling the",
    "start": "1473120",
    "end": "1479059"
  },
  {
    "text": "image uh so that's gonna take a hot minute uh so maybe while it's pulling the image we'll do the other demo and",
    "start": "1479059",
    "end": "1485960"
  },
  {
    "text": "we'll we'll Circle back to this demo uh once it's done done pulling the image so",
    "start": "1485960",
    "end": "1491960"
  },
  {
    "text": "demo number two um is going to be we're gonna run Ray and desk together",
    "start": "1491960",
    "end": "1497500"
  },
  {
    "text": "on a arm node so much fun",
    "start": "1497500",
    "end": "1504440"
  },
  {
    "text": "um and so this is our uh yeah this is our our fun notebook we can",
    "start": "1504440",
    "end": "1513020"
  },
  {
    "text": "yeah okay uh kernel restart and run all",
    "start": "1513020",
    "end": "1518240"
  },
  {
    "text": "cells and we can go ahead and we can see that it's actually running on an arm node and",
    "start": "1518240",
    "end": "1523340"
  },
  {
    "text": "so we'll do that over here um jhub",
    "start": "1523340",
    "end": "1528760"
  },
  {
    "text": "uh Dash o wide and we can see Jupiter holding K is running on Kate's worker",
    "start": "1528760",
    "end": "1535340"
  },
  {
    "text": "nv3 um and then if we go Cube CTL get describe",
    "start": "1535340",
    "end": "1542299"
  },
  {
    "text": "get nodes so wide we can see k3s worker NV",
    "start": "1542299",
    "end": "1547600"
  },
  {
    "text": "nv3 is running the 4.9 Tegra kernel if",
    "start": "1547600",
    "end": "1552679"
  },
  {
    "text": "you don't trust me I can SSH to that machine",
    "start": "1552679",
    "end": "1556840"
  },
  {
    "text": "and uh yeah um yeah and we can see it's got arm",
    "start": "1560419",
    "end": "1566299"
  },
  {
    "text": "processors in it and so it's it's actually doing its thing all kinds of fun and we can see like it actually did",
    "start": "1566299",
    "end": "1573140"
  },
  {
    "text": "start desk on top of Ray and so we have both of these installed in the same",
    "start": "1573140",
    "end": "1578419"
  },
  {
    "text": "container and it's working and being happy um and let's see if the other thing",
    "start": "1578419",
    "end": "1584360"
  },
  {
    "text": "worked um oh it looks like it worked okay cool we're",
    "start": "1584360",
    "end": "1590000"
  },
  {
    "text": "gonna do a hella fast demo okay we're going to attach to this thing",
    "start": "1590000",
    "end": "1598580"
  },
  {
    "text": "um cool we can see our actors have started I'm going to go ahead and run tail Dash F temp oh yeah I'll zoom in",
    "start": "1598580",
    "end": "1605299"
  },
  {
    "text": "sorry Ray uh",
    "start": "1605299",
    "end": "1611299"
  },
  {
    "text": "wait ah there we go session latest",
    "start": "1612320",
    "end": "1617799"
  },
  {
    "text": "logs okay worker star okay cool uh okay",
    "start": "1617799",
    "end": "1623299"
  },
  {
    "text": "so you can tell this is a real demo because there's a bug in my code uh get message URL is undefined I thought I",
    "start": "1623299",
    "end": "1629900"
  },
  {
    "text": "fixed that it's okay it's not crucial that just means the message won't actually make it to the satellite but",
    "start": "1629900",
    "end": "1635360"
  },
  {
    "text": "that's okay too so um what this what this high quality demo does is it sets up actor Andre and it",
    "start": "1635360",
    "end": "1645080"
  },
  {
    "text": "sets up a SMTP server inside of the actor and exposes it as a service and so",
    "start": "1645080",
    "end": "1651140"
  },
  {
    "text": "we can go ahead okay cool thankfully it looks like I did tell that to that IP address before yay",
    "start": "1651140",
    "end": "1658100"
  },
  {
    "text": "and we can see it says like hey this is who I am I'm the ray worker I'm running space Beaver PCF Labs LLC and we can go",
    "start": "1658100",
    "end": "1665419"
  },
  {
    "text": "hello farts.com okay mail from",
    "start": "1665419",
    "end": "1671360"
  },
  {
    "text": "farts at farts.com rcpt2 farts that's spacebeaver.com",
    "start": "1671360",
    "end": "1679760"
  },
  {
    "text": "data subject did you eat your beans",
    "start": "1679760",
    "end": "1686260"
  },
  {
    "text": "I am worried for your farts okay",
    "start": "1686539",
    "end": "1693080"
  },
  {
    "text": "um and now we see here message accepted for delivery and then once again we can see this is an actual demo it gives me",
    "start": "1693080",
    "end": "1698419"
  },
  {
    "text": "an error for bad syntax because I pressed enter twice instead of once um but it's okay it's still accepted my",
    "start": "1698419",
    "end": "1704000"
  },
  {
    "text": "message and if we go over here we can see that it turns out that there is no satellite user named farts",
    "start": "1704000",
    "end": "1711500"
  },
  {
    "text": "um so unfortunately we cannot ask farts if they ate their beans because they have not yet signed up for space Beaver",
    "start": "1711500",
    "end": "1717080"
  },
  {
    "text": "but that's okay because you're going to sign up for space beaver and get questions about your farts while you're",
    "start": "1717080",
    "end": "1722539"
  },
  {
    "text": "in the woods um to be clear that is not a message endorsed by my employer in case you did",
    "start": "1722539",
    "end": "1728299"
  },
  {
    "text": "not know um it is a message endorsed by me because I",
    "start": "1728299",
    "end": "1734240"
  },
  {
    "text": "think farts are hilarious okay so why did we do this besides the opportunity",
    "start": "1734240",
    "end": "1739580"
  },
  {
    "text": "to make fart jokes on stage um so both of our day jobs use Iceberg and python for data Adventures",
    "start": "1739580",
    "end": "1747320"
  },
  {
    "text": "um some of my day job does involve doing some fun stuff with Ray it's kind of neat it's not super my place to talk",
    "start": "1747320",
    "end": "1753620"
  },
  {
    "text": "about the details of what we're doing at glorious employer so that's why I showed a demo of my own",
    "start": "1753620",
    "end": "1761000"
  },
  {
    "text": "stuff I also got some free arm nodes with gpus so shout out to the Nvidia",
    "start": "1761000",
    "end": "1767000"
  },
  {
    "text": "folks thank you for giving me free Hardware I don't know why you did that but uh I appreciate it and also I have",
    "start": "1767000",
    "end": "1775340"
  },
  {
    "text": "the space Beaver project and a book called scaling scaling python with Rey",
    "start": "1775340",
    "end": "1780440"
  },
  {
    "text": "and in all seriousness if you do have like colleagues you're trying to get into Rey I would really love your",
    "start": "1780440",
    "end": "1787520"
  },
  {
    "text": "feedback or your suggestions sort of for what you're thinking about uh we have a",
    "start": "1787520",
    "end": "1793220"
  },
  {
    "text": "almost complete first draft of the book and if you are willing to be like an",
    "start": "1793220",
    "end": "1798260"
  },
  {
    "text": "unofficial Tech reviewer just take a look at it tell us what might be missing I would really really appreciate that",
    "start": "1798260",
    "end": "1803720"
  },
  {
    "text": "and failing that I would also really appreciate it if you bought several",
    "start": "1803720",
    "end": "1809059"
  },
  {
    "text": "copies with your corporate credit card and you can pre-order today on Amazon",
    "start": "1809059",
    "end": "1814940"
  },
  {
    "text": "and you can also help Jeff Bezos afford another newspaper you know that that stuff's expensive that stuff's expensive",
    "start": "1814940",
    "end": "1821419"
  },
  {
    "text": "oh and you should also give me your email addresses on spacebeaver.com so that I can contact you and definitely",
    "start": "1821419",
    "end": "1828080"
  },
  {
    "text": "not spam about exciting opportunities to find out about farts",
    "start": "1828080",
    "end": "1834020"
  },
  {
    "text": "okay uh so the original plan had q a but the original plan also had the demo not",
    "start": "1834020",
    "end": "1841340"
  },
  {
    "text": "crashing so uh you can find us in the hallway uh for for any questions and I'm sorry",
    "start": "1841340",
    "end": "1847760"
  },
  {
    "text": "about the demo crashing but that's how you know it wasn't staged um thanks thanks y'all for coming",
    "start": "1847760",
    "end": "1853040"
  },
  {
    "text": "[Applause]",
    "start": "1853040",
    "end": "1857730"
  }
]