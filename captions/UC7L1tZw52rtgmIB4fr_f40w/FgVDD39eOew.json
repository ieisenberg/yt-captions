[
  {
    "text": "hi everyone uh thanks for coming my name",
    "start": "3120",
    "end": "4960"
  },
  {
    "text": "is Jerry this is Brandon we're both",
    "start": "4960",
    "end": "6879"
  },
  {
    "text": "software Engineers here at",
    "start": "6879",
    "end": "8360"
  },
  {
    "text": "fedra um so fed's mission is to make the",
    "start": "8360",
    "end": "11360"
  },
  {
    "text": "industrial sector radically more",
    "start": "11360",
    "end": "12880"
  },
  {
    "text": "resource efficient and it's doing this",
    "start": "12880",
    "end": "15280"
  },
  {
    "text": "by building a virtual plan operator this",
    "start": "15280",
    "end": "17760"
  },
  {
    "text": "is essentially a autonomous agent that",
    "start": "17760",
    "end": "20760"
  },
  {
    "text": "acts as a control system for physical",
    "start": "20760",
    "end": "22680"
  },
  {
    "text": "facilities and the goal is to be able to",
    "start": "22680",
    "end": "25320"
  },
  {
    "text": "adapt to changing conditions in these",
    "start": "25320",
    "end": "27439"
  },
  {
    "text": "facilities over time",
    "start": "27439",
    "end": "30560"
  },
  {
    "text": "um typically a lot of these facilities",
    "start": "30560",
    "end": "33399"
  },
  {
    "text": "are uh controlled using hardcoded",
    "start": "33399",
    "end": "35600"
  },
  {
    "text": "controls logic these are built based on",
    "start": "35600",
    "end": "38840"
  },
  {
    "text": "assumptions that don't hold over time so",
    "start": "38840",
    "end": "41600"
  },
  {
    "text": "equipment gets changed in and out um the",
    "start": "41600",
    "end": "44520"
  },
  {
    "text": "the environment changes and systems",
    "start": "44520",
    "end": "46640"
  },
  {
    "text": "degrade and thus the original Control",
    "start": "46640",
    "end": "48800"
  },
  {
    "text": "Systems don't always work well a fadis",
    "start": "48800",
    "end": "51760"
  },
  {
    "text": "control system is meant to learn from",
    "start": "51760",
    "end": "53520"
  },
  {
    "text": "the data over time so it can adapt to",
    "start": "53520",
    "end": "55120"
  },
  {
    "text": "these changing conditions and actually",
    "start": "55120",
    "end": "58199"
  },
  {
    "text": "improve and some of the system that",
    "start": "58199",
    "end": "60359"
  },
  {
    "text": "we're actually live in production in",
    "start": "60359",
    "end": "62440"
  },
  {
    "text": "include uh data centers pharmaceutical",
    "start": "62440",
    "end": "65000"
  },
  {
    "text": "manufacturing facilities as well as",
    "start": "65000",
    "end": "66720"
  },
  {
    "text": "District",
    "start": "66720",
    "end": "68320"
  },
  {
    "text": "energy the way that I like to think",
    "start": "68320",
    "end": "70479"
  },
  {
    "text": "about deploying one of these agents to a",
    "start": "70479",
    "end": "72240"
  },
  {
    "text": "facility like this is in two stages one",
    "start": "72240",
    "end": "75360"
  },
  {
    "text": "is actually setting up the problem",
    "start": "75360",
    "end": "76840"
  },
  {
    "text": "itself and Al and then setting up the",
    "start": "76840",
    "end": "78840"
  },
  {
    "text": "solution for the",
    "start": "78840",
    "end": "80200"
  },
  {
    "text": "problem so the problems that we solve",
    "start": "80200",
    "end": "82799"
  },
  {
    "text": "are sequential decision-making problems",
    "start": "82799",
    "end": "84920"
  },
  {
    "text": "where every uh few time stamps you'll",
    "start": "84920",
    "end": "87280"
  },
  {
    "text": "want to make a decision based on some uh",
    "start": "87280",
    "end": "90040"
  },
  {
    "text": "the OB observations that you make on the",
    "start": "90040",
    "end": "91720"
  },
  {
    "text": "facility so the components of this",
    "start": "91720",
    "end": "94320"
  },
  {
    "text": "problem include what the action space is",
    "start": "94320",
    "end": "96520"
  },
  {
    "text": "in in our case this could be turning on",
    "start": "96520",
    "end": "98360"
  },
  {
    "text": "and off chillers at a chiller plant uh",
    "start": "98360",
    "end": "100920"
  },
  {
    "text": "opening and closing valves uh for a pipe",
    "start": "100920",
    "end": "104360"
  },
  {
    "text": "uh full of",
    "start": "104360",
    "end": "105600"
  },
  {
    "text": "water uh the observations would include",
    "start": "105600",
    "end": "108360"
  },
  {
    "text": "various sensor measurements at these",
    "start": "108360",
    "end": "109920"
  },
  {
    "text": "facilities like temperature pressure",
    "start": "109920",
    "end": "111759"
  },
  {
    "text": "humidity and virtual sensors of",
    "start": "111759",
    "end": "114280"
  },
  {
    "text": "equipment status um and such and of",
    "start": "114280",
    "end": "117200"
  },
  {
    "text": "course we'll have an objective which",
    "start": "117200",
    "end": "119520"
  },
  {
    "text": "often times is minimizing resource usage",
    "start": "119520",
    "end": "122039"
  },
  {
    "text": "such as",
    "start": "122039",
    "end": "123360"
  },
  {
    "text": "energy on top of all that we also have",
    "start": "123360",
    "end": "125719"
  },
  {
    "text": "to deal with constraints on the system",
    "start": "125719",
    "end": "127719"
  },
  {
    "text": "uh of course the most resource efficient",
    "start": "127719",
    "end": "131120"
  },
  {
    "text": "way to run a data center is to shut",
    "start": "131120",
    "end": "132440"
  },
  {
    "text": "everything off but we can't uh just do",
    "start": "132440",
    "end": "135120"
  },
  {
    "text": "everything so",
    "start": "135120",
    "end": "136879"
  },
  {
    "text": "blindly um in order to build this the",
    "start": "136879",
    "end": "139480"
  },
  {
    "text": "the agent every few uh every few seconds",
    "start": "139480",
    "end": "143200"
  },
  {
    "text": "will observe data from from these",
    "start": "143200",
    "end": "145480"
  },
  {
    "text": "facilities uh Run a search algorithm to",
    "start": "145480",
    "end": "147800"
  },
  {
    "text": "figure out what the best action is to",
    "start": "147800",
    "end": "150160"
  },
  {
    "text": "minimize the the objective and then send",
    "start": "150160",
    "end": "153120"
  },
  {
    "text": "those actions to the",
    "start": "153120",
    "end": "154680"
  },
  {
    "text": "facility the agent itself is made of uh",
    "start": "154680",
    "end": "158080"
  },
  {
    "text": "of a pretty sophisticated search",
    "start": "158080",
    "end": "160280"
  },
  {
    "text": "algorithm but internally it requires a",
    "start": "160280",
    "end": "163840"
  },
  {
    "text": "model uh of the future essentially this",
    "start": "163840",
    "end": "166640"
  },
  {
    "text": "model is an action value function that",
    "start": "166640",
    "end": "168920"
  },
  {
    "text": "takes the current observations as well",
    "start": "168920",
    "end": "171280"
  },
  {
    "text": "as some potential candidate actions and",
    "start": "171280",
    "end": "173519"
  },
  {
    "text": "tries to predict what the future outcome",
    "start": "173519",
    "end": "175800"
  },
  {
    "text": "will be and the rest of this talk we'll",
    "start": "175800",
    "end": "177959"
  },
  {
    "text": "talk about the data processing pipeline",
    "start": "177959",
    "end": "179519"
  },
  {
    "text": "for for building this",
    "start": "179519",
    "end": "182480"
  },
  {
    "text": "model um so the the data that we receive",
    "start": "183120",
    "end": "187280"
  },
  {
    "text": "can come from the customer in many",
    "start": "187280",
    "end": "188680"
  },
  {
    "text": "different ways um it could be live",
    "start": "188680",
    "end": "191120"
  },
  {
    "text": "streamed from the data through our own",
    "start": "191120",
    "end": "193200"
  },
  {
    "text": "apis but it could also be bulk",
    "start": "193200",
    "end": "195319"
  },
  {
    "text": "historical Imports uh of of previous",
    "start": "195319",
    "end": "198319"
  },
  {
    "text": "data so one example of that is CSV files",
    "start": "198319",
    "end": "202120"
  },
  {
    "text": "that the customer can give to us these",
    "start": "202120",
    "end": "204400"
  },
  {
    "text": "are files of where the rows are tuples",
    "start": "204400",
    "end": "207120"
  },
  {
    "text": "of timestamp uh sensor name and the",
    "start": "207120",
    "end": "210000"
  },
  {
    "text": "actual measurement value of Those",
    "start": "210000",
    "end": "212080"
  },
  {
    "text": "sensors so there's several stages that",
    "start": "212080",
    "end": "214640"
  },
  {
    "text": "we have to transform this data in and",
    "start": "214640",
    "end": "216519"
  },
  {
    "text": "I'll just briefly cover some of",
    "start": "216519",
    "end": "218920"
  },
  {
    "text": "them uh one is we have to Pivot the data",
    "start": "218920",
    "end": "221760"
  },
  {
    "text": "from this this tupple form into a matrix",
    "start": "221760",
    "end": "224640"
  },
  {
    "text": "where every row is a time stamp and a",
    "start": "224640",
    "end": "226560"
  },
  {
    "text": "column is a sensor value uh this",
    "start": "226560",
    "end": "229120"
  },
  {
    "text": "requires us to uh clean up the data make",
    "start": "229120",
    "end": "231439"
  },
  {
    "text": "sure the time stamps are aligned",
    "start": "231439",
    "end": "233560"
  },
  {
    "text": "properly formatted as well as figure out",
    "start": "233560",
    "end": "235680"
  },
  {
    "text": "what to do with dupes as well as uh",
    "start": "235680",
    "end": "237920"
  },
  {
    "text": "Missing data",
    "start": "237920",
    "end": "241319"
  },
  {
    "text": "another important part of data",
    "start": "241319",
    "end": "242480"
  },
  {
    "text": "processing is actually standardizing",
    "start": "242480",
    "end": "244000"
  },
  {
    "text": "data into a representation that uh kind",
    "start": "244000",
    "end": "247000"
  },
  {
    "text": "of abstracts way that the the dirtiness",
    "start": "247000",
    "end": "249920"
  },
  {
    "text": "of the real world effectively um",
    "start": "249920",
    "end": "252959"
  },
  {
    "text": "Everybody may have a different way of uh",
    "start": "252959",
    "end": "255480"
  },
  {
    "text": "having putting units for their data they",
    "start": "255480",
    "end": "257160"
  },
  {
    "text": "may have different sampling frequencies",
    "start": "257160",
    "end": "258840"
  },
  {
    "text": "they may have different naming",
    "start": "258840",
    "end": "259840"
  },
  {
    "text": "conventions but we want to build a",
    "start": "259840",
    "end": "261680"
  },
  {
    "text": "representation for an agent that's kind",
    "start": "261680",
    "end": "263560"
  },
  {
    "text": "of agnostic to all that uh so that the",
    "start": "263560",
    "end": "266240"
  },
  {
    "text": "same agent can work for multiple types",
    "start": "266240",
    "end": "268280"
  },
  {
    "text": "of uh systems of of the similar",
    "start": "268280",
    "end": "272199"
  },
  {
    "text": "type uh from this standardized data we",
    "start": "272199",
    "end": "276280"
  },
  {
    "text": "then need to build training data for the",
    "start": "276280",
    "end": "277720"
  },
  {
    "text": "models uh since we're building",
    "start": "277720",
    "end": "279479"
  },
  {
    "text": "predictive models of the future",
    "start": "279479",
    "end": "280800"
  },
  {
    "text": "typically you know we will take Windows",
    "start": "280800",
    "end": "283160"
  },
  {
    "text": "of these",
    "start": "283160",
    "end": "284280"
  },
  {
    "text": "observations um as inputs we will look",
    "start": "284280",
    "end": "286600"
  },
  {
    "text": "at the actions and the state in the",
    "start": "286600",
    "end": "288199"
  },
  {
    "text": "beginning of the window and for the",
    "start": "288199",
    "end": "289759"
  },
  {
    "text": "targets we try to predict what will",
    "start": "289759",
    "end": "291360"
  },
  {
    "text": "happen throughout the period of the",
    "start": "291360",
    "end": "292840"
  },
  {
    "text": "window",
    "start": "292840",
    "end": "295199"
  },
  {
    "text": "itself so originally these scripts were",
    "start": "295520",
    "end": "298320"
  },
  {
    "text": "built using ad hoc Python scripts and",
    "start": "298320",
    "end": "300440"
  },
  {
    "text": "collab Jupiter",
    "start": "300440",
    "end": "301759"
  },
  {
    "text": "notebooks um this was kind of out of",
    "start": "301759",
    "end": "303840"
  },
  {
    "text": "necessity as we were building proof of",
    "start": "303840",
    "end": "305520"
  },
  {
    "text": "Concepts and iterating a lot of",
    "start": "305520",
    "end": "306960"
  },
  {
    "text": "different concepts and",
    "start": "306960",
    "end": "308600"
  },
  {
    "text": "features but of course this doesn't",
    "start": "308600",
    "end": "310639"
  },
  {
    "text": "scale and uh as soon as we started",
    "start": "310639",
    "end": "313280"
  },
  {
    "text": "deploying this to production systems and",
    "start": "313280",
    "end": "314919"
  },
  {
    "text": "had to replicate this in multiple",
    "start": "314919",
    "end": "316400"
  },
  {
    "text": "customers we needed a better solution",
    "start": "316400",
    "end": "318240"
  },
  {
    "text": "than",
    "start": "318240",
    "end": "319080"
  },
  {
    "text": "that uh some of the problems that we ran",
    "start": "319080",
    "end": "321600"
  },
  {
    "text": "into were uh running out of memory we",
    "start": "321600",
    "end": "323919"
  },
  {
    "text": "had to constantly try to fetch bigger",
    "start": "323919",
    "end": "326160"
  },
  {
    "text": "and bigger",
    "start": "326160",
    "end": "327160"
  },
  {
    "text": "machines and these jobs would take a",
    "start": "327160",
    "end": "329319"
  },
  {
    "text": "really long time to run uh sometimes",
    "start": "329319",
    "end": "331400"
  },
  {
    "text": "tens of hours for one of these pipelines",
    "start": "331400",
    "end": "334280"
  },
  {
    "text": "um and sometimes they will fail at the",
    "start": "334280",
    "end": "336039"
  },
  {
    "text": "11th Hour uh sometimes literally and you",
    "start": "336039",
    "end": "338520"
  },
  {
    "text": "have to go through and through all the",
    "start": "338520",
    "end": "340560"
  },
  {
    "text": "logs and and try to debug what's going",
    "start": "340560",
    "end": "343039"
  },
  {
    "text": "on uh after several consideration uh",
    "start": "343039",
    "end": "346840"
  },
  {
    "text": "using the ray core framework was really",
    "start": "346840",
    "end": "349360"
  },
  {
    "text": "appealing to us because it allowed us to",
    "start": "349360",
    "end": "351720"
  },
  {
    "text": "move from our ad hoc scripts to this",
    "start": "351720",
    "end": "354440"
  },
  {
    "text": "distributed um engine very easily",
    "start": "354440",
    "end": "357479"
  },
  {
    "text": "theoretically you know moving processing",
    "start": "357479",
    "end": "359440"
  },
  {
    "text": "from from single process to uh this",
    "start": "359440",
    "end": "362120"
  },
  {
    "text": "distributed computation should be very",
    "start": "362120",
    "end": "364080"
  },
  {
    "text": "difficult but raise Primitives of of",
    "start": "364080",
    "end": "366360"
  },
  {
    "text": "actors and and tasks made that pretty",
    "start": "366360",
    "end": "368080"
  },
  {
    "text": "easy for us we were able to really",
    "start": "368080",
    "end": "369639"
  },
  {
    "text": "easily paralyze a lot of these tasks and",
    "start": "369639",
    "end": "372319"
  },
  {
    "text": "got the runtime from tens of hours to",
    "start": "372319",
    "end": "374800"
  },
  {
    "text": "just under 1 hour we're also able to",
    "start": "374800",
    "end": "377840"
  },
  {
    "text": "replicate the same pipeline to many",
    "start": "377840",
    "end": "379880"
  },
  {
    "text": "different facilities through purely a",
    "start": "379880",
    "end": "382000"
  },
  {
    "text": "configuration driven approach and",
    "start": "382000",
    "end": "384520"
  },
  {
    "text": "there's a bunch of debugging uh tracing",
    "start": "384520",
    "end": "387000"
  },
  {
    "text": "tools that Ray provides for us to make",
    "start": "387000",
    "end": "389080"
  },
  {
    "text": "uh actually",
    "start": "389080",
    "end": "390319"
  },
  {
    "text": "um analyzing this and and and improving",
    "start": "390319",
    "end": "392680"
  },
  {
    "text": "it much",
    "start": "392680",
    "end": "394880"
  },
  {
    "text": "easier so Ray has significantly improved",
    "start": "394880",
    "end": "397720"
  },
  {
    "text": "our data processing infrastructure uh",
    "start": "397720",
    "end": "400000"
  },
  {
    "text": "but it isn't without its challenges so",
    "start": "400000",
    "end": "402599"
  },
  {
    "text": "I'll hand over to Brandon to talk about",
    "start": "402599",
    "end": "404199"
  },
  {
    "text": "some of those challenges and what we did",
    "start": "404199",
    "end": "406039"
  },
  {
    "text": "to to solve",
    "start": "406039",
    "end": "408680"
  },
  {
    "text": "them thank you Jerry um so I want to",
    "start": "409039",
    "end": "412080"
  },
  {
    "text": "start with sort of the biggest challenge",
    "start": "412080",
    "end": "414280"
  },
  {
    "text": "we faced which was solving the multi-",
    "start": "414280",
    "end": "416039"
  },
  {
    "text": "tendency problem so our data processing",
    "start": "416039",
    "end": "418560"
  },
  {
    "text": "platform needs to be able to support",
    "start": "418560",
    "end": "420599"
  },
  {
    "text": "running multiple jobs for multiple users",
    "start": "420599",
    "end": "423240"
  },
  {
    "text": "and we when we initially built this",
    "start": "423240",
    "end": "424759"
  },
  {
    "text": "platform we started off with a single",
    "start": "424759",
    "end": "426560"
  },
  {
    "text": "cluster approach so all jobs getting",
    "start": "426560",
    "end": "428440"
  },
  {
    "text": "submitted to a single cluster um but",
    "start": "428440",
    "end": "430680"
  },
  {
    "text": "that has a couple of problems um you",
    "start": "430680",
    "end": "432919"
  },
  {
    "text": "could run into resource starvation",
    "start": "432919",
    "end": "434280"
  },
  {
    "text": "issues where jobs might be competing for",
    "start": "434280",
    "end": "436639"
  },
  {
    "text": "resources and could even end up",
    "start": "436639",
    "end": "438280"
  },
  {
    "text": "deadlocking each other and then no jobs",
    "start": "438280",
    "end": "440160"
  },
  {
    "text": "ever finished um and then if you're",
    "start": "440160",
    "end": "442160"
  },
  {
    "text": "running into memory issues on like",
    "start": "442160",
    "end": "444840"
  },
  {
    "text": "unexpected memory usage with some of",
    "start": "444840",
    "end": "446680"
  },
  {
    "text": "your rate tests you might end up killing",
    "start": "446680",
    "end": "448759"
  },
  {
    "text": "workers at and as a result killing other",
    "start": "448759",
    "end": "451199"
  },
  {
    "text": "jobs that might be running on those same",
    "start": "451199",
    "end": "452639"
  },
  {
    "text": "workers um so what we did we built a job",
    "start": "452639",
    "end": "456280"
  },
  {
    "text": "system which instead of running",
    "start": "456280",
    "end": "458440"
  },
  {
    "text": "everything on one cluster we spin up the",
    "start": "458440",
    "end": "460199"
  },
  {
    "text": "Emeral clusters to run those jobs um",
    "start": "460199",
    "end": "462560"
  },
  {
    "text": "we're leveraging cubre under the hood to",
    "start": "462560",
    "end": "464919"
  },
  {
    "text": "manage all the clubster life cycle magic",
    "start": "464919",
    "end": "467840"
  },
  {
    "text": "um and as you can see in the diagram",
    "start": "467840",
    "end": "469319"
  },
  {
    "text": "here how it works is users submit their",
    "start": "469319",
    "end": "471400"
  },
  {
    "text": "jobs they go onto a queue and then the",
    "start": "471400",
    "end": "473879"
  },
  {
    "text": "cu's uh only Pop Jobs off once we can",
    "start": "473879",
    "end": "477039"
  },
  {
    "text": "guarantee that there's enough free",
    "start": "477039",
    "end": "478400"
  },
  {
    "text": "capacity to to guarantee that those jobs",
    "start": "478400",
    "end": "480879"
  },
  {
    "text": "will be able to run to completion so",
    "start": "480879",
    "end": "482720"
  },
  {
    "text": "that solves the the deadlocking issue um",
    "start": "482720",
    "end": "486240"
  },
  {
    "text": "and then we create the the ray jobs",
    "start": "486240",
    "end": "488479"
  },
  {
    "text": "submit them to the cluster um and then",
    "start": "488479",
    "end": "491080"
  },
  {
    "text": "since we have a lot of jobs running we",
    "start": "491080",
    "end": "492599"
  },
  {
    "text": "have a lot of Ray dashboards obviously",
    "start": "492599",
    "end": "494440"
  },
  {
    "text": "so users can access those dashboards via",
    "start": "494440",
    "end": "497120"
  },
  {
    "text": "a reverse web proxy um and if you look",
    "start": "497120",
    "end": "499520"
  },
  {
    "text": "at the diagram there's actually multiple",
    "start": "499520",
    "end": "501440"
  },
  {
    "text": "job cues the reason for that is because",
    "start": "501440",
    "end": "503960"
  },
  {
    "text": "we have a way of defining job",
    "start": "503960",
    "end": "505960"
  },
  {
    "text": "configurations where if we have",
    "start": "505960",
    "end": "507840"
  },
  {
    "text": "different types of jobs we might want",
    "start": "507840",
    "end": "510120"
  },
  {
    "text": "isolated cues to have isolated uh",
    "start": "510120",
    "end": "513240"
  },
  {
    "text": "resource capacities so for example as",
    "start": "513240",
    "end": "515440"
  },
  {
    "text": "Jerry mentioned we have raw data and tag",
    "start": "515440",
    "end": "517479"
  },
  {
    "text": "data processing jobs so instead of",
    "start": "517479",
    "end": "519640"
  },
  {
    "text": "saying oh we want to have a Max Capacity",
    "start": "519640",
    "end": "522959"
  },
  {
    "text": "of 10 jobs for example running um if",
    "start": "522959",
    "end": "526080"
  },
  {
    "text": "User submitted 10 raw data processing",
    "start": "526080",
    "end": "528000"
  },
  {
    "text": "jobs then we wouldn't be able to run any",
    "start": "528000",
    "end": "530000"
  },
  {
    "text": "tag data processing jobs and that's",
    "start": "530000",
    "end": "531480"
  },
  {
    "text": "something we wanted to avoid so instead",
    "start": "531480",
    "end": "533720"
  },
  {
    "text": "we can Define job configurations for the",
    "start": "533720",
    "end": "535560"
  },
  {
    "text": "different job types we have and say for",
    "start": "535560",
    "end": "537399"
  },
  {
    "text": "example oh we want five and five of each",
    "start": "537399",
    "end": "540079"
  },
  {
    "text": "job type as the Max Capacity and then if",
    "start": "540079",
    "end": "542720"
  },
  {
    "text": "you exceed the capacity for one job type",
    "start": "542720",
    "end": "545079"
  },
  {
    "text": "you can still submit other job types um",
    "start": "545079",
    "end": "548040"
  },
  {
    "text": "something else you could do with these",
    "start": "548040",
    "end": "549240"
  },
  {
    "text": "job configurations is Define job sizes",
    "start": "549240",
    "end": "551760"
  },
  {
    "text": "so if you have a rate task which is",
    "start": "551760",
    "end": "553399"
  },
  {
    "text": "running on a custom tag data processor",
    "start": "553399",
    "end": "555680"
  },
  {
    "text": "resource you could then say Okay I want",
    "start": "555680",
    "end": "557760"
  },
  {
    "text": "medium jobs that use this resource to uh",
    "start": "557760",
    "end": "560880"
  },
  {
    "text": "use some standard nodes and then large",
    "start": "560880",
    "end": "562880"
  },
  {
    "text": "jobs are going to use high memory nodes",
    "start": "562880",
    "end": "564720"
  },
  {
    "text": "so this allow us allows us to do Dynamic",
    "start": "564720",
    "end": "566920"
  },
  {
    "text": "resource",
    "start": "566920",
    "end": "567880"
  },
  {
    "text": "allocation um and then finally since",
    "start": "567880",
    "end": "570360"
  },
  {
    "text": "obviously these clusters are getting",
    "start": "570360",
    "end": "571720"
  },
  {
    "text": "spun down once the job's complete uh we",
    "start": "571720",
    "end": "574399"
  },
  {
    "text": "need to export all the logs out of the",
    "start": "574399",
    "end": "576279"
  },
  {
    "text": "Clusters so that uh users can debug",
    "start": "576279",
    "end": "578760"
  },
  {
    "text": "afterwards so we're using some neat Ray",
    "start": "578760",
    "end": "581760"
  },
  {
    "text": "features to make that simpler in our Ray",
    "start": "581760",
    "end": "583519"
  },
  {
    "text": "scripts so we're setting up some IDs to",
    "start": "583519",
    "end": "586240"
  },
  {
    "text": "uniquely identify the jobs and using the",
    "start": "586240",
    "end": "588320"
  },
  {
    "text": "worker process setup hook which",
    "start": "588320",
    "end": "590560"
  },
  {
    "text": "automatically uh you know just runs some",
    "start": "590560",
    "end": "592600"
  },
  {
    "text": "logging setup functions to add these IDs",
    "start": "592600",
    "end": "595480"
  },
  {
    "text": "to all the logs emitted by all the rate",
    "start": "595480",
    "end": "597440"
  },
  {
    "text": "tasks uh from that job",
    "start": "597440",
    "end": "601079"
  },
  {
    "text": "um going over some performance",
    "start": "601079",
    "end": "602560"
  },
  {
    "text": "improvements we were able to make to the",
    "start": "602560",
    "end": "604040"
  },
  {
    "text": "jobs uh obviously obviously um the job",
    "start": "604040",
    "end": "608760"
  },
  {
    "text": "life cycle sort of system is only one",
    "start": "608760",
    "end": "611200"
  },
  {
    "text": "half of the equation you actually want",
    "start": "611200",
    "end": "613560"
  },
  {
    "text": "the jobs themselves to also perform well",
    "start": "613560",
    "end": "616839"
  },
  {
    "text": "um so as Jerry mentioned we have",
    "start": "616839",
    "end": "619399"
  },
  {
    "text": "different types of data we have raw data",
    "start": "619399",
    "end": "621560"
  },
  {
    "text": "which is the customer sensor data and",
    "start": "621560",
    "end": "623680"
  },
  {
    "text": "then we have tag data which is our",
    "start": "623680",
    "end": "624959"
  },
  {
    "text": "internal standard representation so this",
    "start": "624959",
    "end": "628240"
  },
  {
    "text": "expression at the top is an example of",
    "start": "628240",
    "end": "630360"
  },
  {
    "text": "what a definition for a tag might look",
    "start": "630360",
    "end": "633279"
  },
  {
    "text": "like so we might say something like uh a",
    "start": "633279",
    "end": "636560"
  },
  {
    "text": "certain time window of sensor values for",
    "start": "636560",
    "end": "638880"
  },
  {
    "text": "sensor a uh the mean of that is going to",
    "start": "638880",
    "end": "641480"
  },
  {
    "text": "be one tag and then so in our live",
    "start": "641480",
    "end": "644079"
  },
  {
    "text": "stream pipeline where we're just",
    "start": "644079",
    "end": "645320"
  },
  {
    "text": "ingesting raw data in real time we're",
    "start": "645320",
    "end": "648040"
  },
  {
    "text": "pretty much always Computing just one",
    "start": "648040",
    "end": "650040"
  },
  {
    "text": "time stamp of tag data because we're",
    "start": "650040",
    "end": "651639"
  },
  {
    "text": "just receiving that data uh you know",
    "start": "651639",
    "end": "653639"
  },
  {
    "text": "24/7 um so when we first uh designed our",
    "start": "653639",
    "end": "657440"
  },
  {
    "text": "data processing jobs we just took our",
    "start": "657440",
    "end": "659440"
  },
  {
    "text": "existing live stream logic and just put",
    "start": "659440",
    "end": "662240"
  },
  {
    "text": "it into a for Loop and iterate it over",
    "start": "662240",
    "end": "664519"
  },
  {
    "text": "the entire data set and you know the way",
    "start": "664519",
    "end": "666079"
  },
  {
    "text": "you can make that more efficient is just",
    "start": "666079",
    "end": "668880"
  },
  {
    "text": "having small batch sizes and running a",
    "start": "668880",
    "end": "670639"
  },
  {
    "text": "lot of those in parallel but that's",
    "start": "670639",
    "end": "672800"
  },
  {
    "text": "obvious that's going to be fast but it's",
    "start": "672800",
    "end": "674120"
  },
  {
    "text": "not going to be resource efficient right",
    "start": "674120",
    "end": "675920"
  },
  {
    "text": "so you just want to make use of",
    "start": "675920",
    "end": "677720"
  },
  {
    "text": "vectorization here so that's an example",
    "start": "677720",
    "end": "679720"
  },
  {
    "text": "of how you might transform that",
    "start": "679720",
    "end": "680959"
  },
  {
    "text": "expression into one that makes use of",
    "start": "680959",
    "end": "682920"
  },
  {
    "text": "vectorized operations um and then",
    "start": "682920",
    "end": "685399"
  },
  {
    "text": "another example of a performance",
    "start": "685399",
    "end": "687079"
  },
  {
    "text": "Improvement we made to the jobs is more",
    "start": "687079",
    "end": "688959"
  },
  {
    "text": "in ENT task pipelining so this piece of",
    "start": "688959",
    "end": "691839"
  },
  {
    "text": "code is a high level of what our agent",
    "start": "691839",
    "end": "693639"
  },
  {
    "text": "deployment job might look like so we",
    "start": "693639",
    "end": "696160"
  },
  {
    "text": "need to process the tag data write it to",
    "start": "696160",
    "end": "698160"
  },
  {
    "text": "the database then we process our feature",
    "start": "698160",
    "end": "700200"
  },
  {
    "text": "data write that to the database and once",
    "start": "700200",
    "end": "702160"
  },
  {
    "text": "the feature data is in the database we",
    "start": "702160",
    "end": "704040"
  },
  {
    "text": "can go ahead and Trigger the model",
    "start": "704040",
    "end": "705519"
  },
  {
    "text": "training um now if we pay attention the",
    "start": "705519",
    "end": "709560"
  },
  {
    "text": "feature data processing is taking the",
    "start": "709560",
    "end": "711800"
  },
  {
    "text": "tag data as a reference and so that",
    "start": "711800",
    "end": "714320"
  },
  {
    "text": "means we don't actually need the tag",
    "start": "714320",
    "end": "716440"
  },
  {
    "text": "data to be available in the database so",
    "start": "716440",
    "end": "718600"
  },
  {
    "text": "what we can do here here is just",
    "start": "718600",
    "end": "719920"
  },
  {
    "text": "completely remove the the blocking call",
    "start": "719920",
    "end": "723360"
  },
  {
    "text": "uh that which waits for the tag data to",
    "start": "723360",
    "end": "725240"
  },
  {
    "text": "be written to the database and just Shi",
    "start": "725240",
    "end": "727440"
  },
  {
    "text": "that to the bottom um and the reason",
    "start": "727440",
    "end": "729480"
  },
  {
    "text": "this is a performance Improvement is",
    "start": "729480",
    "end": "731279"
  },
  {
    "text": "because the tag data since it represents",
    "start": "731279",
    "end": "733399"
  },
  {
    "text": "all of the raw customer data that's",
    "start": "733399",
    "end": "735120"
  },
  {
    "text": "coming in that's a much much greater",
    "start": "735120",
    "end": "737399"
  },
  {
    "text": "volume of data than the future data so",
    "start": "737399",
    "end": "740000"
  },
  {
    "text": "the database rights for that take a lot",
    "start": "740000",
    "end": "742760"
  },
  {
    "text": "longer than the feature data wres so by",
    "start": "742760",
    "end": "745120"
  },
  {
    "text": "the time we hit the model training we're",
    "start": "745120",
    "end": "747399"
  },
  {
    "text": "still going to be writing tag data to",
    "start": "747399",
    "end": "748880"
  },
  {
    "text": "the dat database but that's okay because",
    "start": "748880",
    "end": "750760"
  },
  {
    "text": "the model training doesn't require the",
    "start": "750760",
    "end": "752560"
  },
  {
    "text": "tag data it only requires the features",
    "start": "752560",
    "end": "754800"
  },
  {
    "text": "which have already been computed from",
    "start": "754800",
    "end": "756360"
  },
  {
    "text": "the tag",
    "start": "756360",
    "end": "757800"
  },
  {
    "text": "data um so yeah th those are some of the",
    "start": "757800",
    "end": "760639"
  },
  {
    "text": "challenges we fac and some of the",
    "start": "760639",
    "end": "761760"
  },
  {
    "text": "improvements um now our platform is in a",
    "start": "761760",
    "end": "764519"
  },
  {
    "text": "much better spot than it was uh you know",
    "start": "764519",
    "end": "766880"
  },
  {
    "text": "when we first started this work but",
    "start": "766880",
    "end": "768320"
  },
  {
    "text": "there's still some more improvements we",
    "start": "768320",
    "end": "769720"
  },
  {
    "text": "can make uh so there's improvements we",
    "start": "769720",
    "end": "771720"
  },
  {
    "text": "can make with regards to surfacing",
    "start": "771720",
    "end": "774240"
  },
  {
    "text": "issues and errors in the jobs for users",
    "start": "774240",
    "end": "777120"
  },
  {
    "text": "so I mentioned already that we're",
    "start": "777120",
    "end": "778360"
  },
  {
    "text": "exporting all the from the job so that",
    "start": "778360",
    "end": "780160"
  },
  {
    "text": "users can debug the jobs to see why one",
    "start": "780160",
    "end": "782920"
  },
  {
    "text": "might have failed but we can further",
    "start": "782920",
    "end": "784560"
  },
  {
    "text": "improve this by having the jobs kind of",
    "start": "784560",
    "end": "786680"
  },
  {
    "text": "self- report why they filed and then",
    "start": "786680",
    "end": "789440"
  },
  {
    "text": "having the user clients just pull that",
    "start": "789440",
    "end": "791360"
  },
  {
    "text": "information so that users don't even",
    "start": "791360",
    "end": "793199"
  },
  {
    "text": "have to look at logs um we can also",
    "start": "793199",
    "end": "795880"
  },
  {
    "text": "break up our Ray jobs further so there's",
    "start": "795880",
    "end": "798600"
  },
  {
    "text": "going to be use case in the future for",
    "start": "798600",
    "end": "800000"
  },
  {
    "text": "us where we might want to just trigger",
    "start": "800000",
    "end": "801720"
  },
  {
    "text": "certain parts of our pipeline so for",
    "start": "801720",
    "end": "803519"
  },
  {
    "text": "example we might want to trigger just",
    "start": "803519",
    "end": "805920"
  },
  {
    "text": "the future data processing on an",
    "start": "805920",
    "end": "807600"
  },
  {
    "text": "existing tag data set and so since we",
    "start": "807600",
    "end": "810519"
  },
  {
    "text": "now have all these Ray scripts which are",
    "start": "810519",
    "end": "812120"
  },
  {
    "text": "you know just a bunch of rate tests uh",
    "start": "812120",
    "end": "814160"
  },
  {
    "text": "we can just import them into a new job",
    "start": "814160",
    "end": "816160"
  },
  {
    "text": "and you know easily create these new job",
    "start": "816160",
    "end": "818600"
  },
  {
    "text": "pipelines um and finally we can uh move",
    "start": "818600",
    "end": "822079"
  },
  {
    "text": "some of our other use cases which aren't",
    "start": "822079",
    "end": "823880"
  },
  {
    "text": "currently using Ray uh to to leverage uh",
    "start": "823880",
    "end": "827360"
  },
  {
    "text": "you know the power of Ray so our agent",
    "start": "827360",
    "end": "829160"
  },
  {
    "text": "inference is getting quite complex so",
    "start": "829160",
    "end": "831320"
  },
  {
    "text": "that's something that in the future we",
    "start": "831320",
    "end": "832680"
  },
  {
    "text": "might want to actually move to Ray um",
    "start": "832680",
    "end": "836279"
  },
  {
    "text": "but yeah with that that's it thank you",
    "start": "836279",
    "end": "838040"
  },
  {
    "text": "for listening",
    "start": "838040",
    "end": "839110"
  },
  {
    "text": "[Applause]",
    "start": "839110",
    "end": "842549"
  }
]