[
  {
    "text": "[Music]",
    "start": "170",
    "end": "14719"
  },
  {
    "text": "hey everyone",
    "start": "14719",
    "end": "15679"
  },
  {
    "text": "um my name is alex um and i will be",
    "start": "15679",
    "end": "18080"
  },
  {
    "text": "talking about",
    "start": "18080",
    "end": "18960"
  },
  {
    "text": "well i'm going to do a deep dive into",
    "start": "18960",
    "end": "20720"
  },
  {
    "text": "ray's scheduling uh policy",
    "start": "20720",
    "end": "22640"
  },
  {
    "text": "in this talk so um a little bit about me",
    "start": "22640",
    "end": "25359"
  },
  {
    "text": "i'm a software engineer at any scale",
    "start": "25359",
    "end": "27680"
  },
  {
    "text": "and as part of that my job here um i",
    "start": "27680",
    "end": "29920"
  },
  {
    "text": "work a lot on the raycore and in",
    "start": "29920",
    "end": "31359"
  },
  {
    "text": "particular i've been focusing a lot",
    "start": "31359",
    "end": "33280"
  },
  {
    "text": "on the race scheduler uh and a lot of",
    "start": "33280",
    "end": "36079"
  },
  {
    "text": "the peripheral components around it",
    "start": "36079",
    "end": "38960"
  },
  {
    "text": "so this talk will naturally be uh pretty",
    "start": "38960",
    "end": "41440"
  },
  {
    "text": "technical but i'm hoping that there's",
    "start": "41440",
    "end": "43120"
  },
  {
    "text": "uh some interesting things that you can",
    "start": "43120",
    "end": "45440"
  },
  {
    "text": "take away on no matter how much",
    "start": "45440",
    "end": "46960"
  },
  {
    "text": "experience you have with ray so",
    "start": "46960",
    "end": "48640"
  },
  {
    "text": "if you're just getting started with rey",
    "start": "48640",
    "end": "50239"
  },
  {
    "text": "or deciding whether or not you want to",
    "start": "50239",
    "end": "51520"
  },
  {
    "text": "use it",
    "start": "51520",
    "end": "52399"
  },
  {
    "text": "hopefully this talk will give you some",
    "start": "52399",
    "end": "54000"
  },
  {
    "text": "insight into some of the things that you",
    "start": "54000",
    "end": "55680"
  },
  {
    "text": "may want to look for",
    "start": "55680",
    "end": "56879"
  },
  {
    "text": "in raise scheduler or some interesting",
    "start": "56879",
    "end": "59600"
  },
  {
    "text": "points that you may want to compare if",
    "start": "59600",
    "end": "60800"
  },
  {
    "text": "you're thinking about using any other",
    "start": "60800",
    "end": "62960"
  },
  {
    "text": "any other distributed systems for the",
    "start": "62960",
    "end": "65760"
  },
  {
    "text": "average rate user",
    "start": "65760",
    "end": "67360"
  },
  {
    "text": "i think this talk will hopefully give",
    "start": "67360",
    "end": "69280"
  },
  {
    "text": "you a good idea of the types of",
    "start": "69280",
    "end": "71119"
  },
  {
    "text": "optimizations and benefits that you can",
    "start": "71119",
    "end": "73040"
  },
  {
    "text": "get just by using ray for free",
    "start": "73040",
    "end": "75840"
  },
  {
    "text": "even if you're not a distributed systems",
    "start": "75840",
    "end": "77360"
  },
  {
    "text": "expert and finally",
    "start": "77360",
    "end": "79920"
  },
  {
    "text": "i know there will be a couple of you out",
    "start": "79920",
    "end": "81280"
  },
  {
    "text": "there that are like really power users",
    "start": "81280",
    "end": "83200"
  },
  {
    "text": "and really want to get into the details",
    "start": "83200",
    "end": "84799"
  },
  {
    "text": "of how ray's scheduler works and",
    "start": "84799",
    "end": "87200"
  },
  {
    "text": "hopefully",
    "start": "87200",
    "end": "87920"
  },
  {
    "text": "this talk will give you uh you know a",
    "start": "87920",
    "end": "90079"
  },
  {
    "text": "much better idea of the architecture and",
    "start": "90079",
    "end": "92000"
  },
  {
    "text": "maybe allow you to you know design",
    "start": "92000",
    "end": "93759"
  },
  {
    "text": "better applications to squeeze every",
    "start": "93759",
    "end": "95439"
  },
  {
    "text": "last ounce of juice out of raid",
    "start": "95439",
    "end": "99040"
  },
  {
    "text": "all right so um for this talk uh i think",
    "start": "99040",
    "end": "102320"
  },
  {
    "text": "we'll",
    "start": "102320",
    "end": "102720"
  },
  {
    "text": "try to you know start out um by sort of",
    "start": "102720",
    "end": "106720"
  },
  {
    "text": "framing where rey fits into sort of the",
    "start": "106720",
    "end": "109360"
  },
  {
    "text": "you know",
    "start": "109360",
    "end": "109840"
  },
  {
    "text": "ecosystem of other distributed systems i",
    "start": "109840",
    "end": "112479"
  },
  {
    "text": "mean how it compares to like a lot of",
    "start": "112479",
    "end": "113840"
  },
  {
    "text": "other schedulers you may have heard of",
    "start": "113840",
    "end": "115759"
  },
  {
    "text": "um then we'll talk about sort of the",
    "start": "115759",
    "end": "117840"
  },
  {
    "text": "scheduling problem and how we frame it",
    "start": "117840",
    "end": "119439"
  },
  {
    "text": "in ray",
    "start": "119439",
    "end": "120000"
  },
  {
    "text": "uh why it matters and then we'll take a",
    "start": "120000",
    "end": "121759"
  },
  {
    "text": "look at how we sort of",
    "start": "121759",
    "end": "123439"
  },
  {
    "text": "uh you know take those requirements and",
    "start": "123439",
    "end": "126079"
  },
  {
    "text": "build a scheduler out of it and take a",
    "start": "126079",
    "end": "127680"
  },
  {
    "text": "look at some of the",
    "start": "127680",
    "end": "128959"
  },
  {
    "text": "most important or at least in my opinion",
    "start": "128959",
    "end": "130800"
  },
  {
    "text": "some of the most important",
    "start": "130800",
    "end": "132560"
  },
  {
    "text": "optimizations that uh rey's scheduler",
    "start": "132560",
    "end": "135120"
  },
  {
    "text": "has",
    "start": "135120",
    "end": "136720"
  },
  {
    "text": "okay so to start with um i want to kind",
    "start": "136720",
    "end": "139520"
  },
  {
    "text": "of",
    "start": "139520",
    "end": "140400"
  },
  {
    "text": "sort of compare rey to a couple other",
    "start": "140400",
    "end": "142319"
  },
  {
    "text": "schedulers that you may have heard of",
    "start": "142319",
    "end": "143760"
  },
  {
    "text": "before",
    "start": "143760",
    "end": "144640"
  },
  {
    "text": "so in particular uh the linux kernel",
    "start": "144640",
    "end": "146560"
  },
  {
    "text": "scheduler which you know you're almost",
    "start": "146560",
    "end": "148239"
  },
  {
    "text": "certainly",
    "start": "148239",
    "end": "148959"
  },
  {
    "text": "using uh whether you really think about",
    "start": "148959",
    "end": "150800"
  },
  {
    "text": "it or not um",
    "start": "150800",
    "end": "152160"
  },
  {
    "text": "and some other uh systems that you may",
    "start": "152160",
    "end": "153920"
  },
  {
    "text": "have heard of like kubernetes and spark",
    "start": "153920",
    "end": "156879"
  },
  {
    "text": "so we'll start by taking a look at sort",
    "start": "156879",
    "end": "158319"
  },
  {
    "text": "of the linux scheduler so",
    "start": "158319",
    "end": "160640"
  },
  {
    "text": "the linux scheduler is in many ways uh",
    "start": "160640",
    "end": "163040"
  },
  {
    "text": "you may not think about it or if you do",
    "start": "163040",
    "end": "164640"
  },
  {
    "text": "think about it it's typically what you",
    "start": "164640",
    "end": "165920"
  },
  {
    "text": "think of when you think of a scheduler",
    "start": "165920",
    "end": "167280"
  },
  {
    "text": "so",
    "start": "167280",
    "end": "168160"
  },
  {
    "text": "it obviously only works on a single node",
    "start": "168160",
    "end": "169920"
  },
  {
    "text": "um which is sort of like the main",
    "start": "169920",
    "end": "171680"
  },
  {
    "text": "drawback but it sort of provides",
    "start": "171680",
    "end": "173280"
  },
  {
    "text": "everything else that you'd expect so",
    "start": "173280",
    "end": "174720"
  },
  {
    "text": "when you're using",
    "start": "174720",
    "end": "175519"
  },
  {
    "text": "threads or multiprocessing in python uh",
    "start": "175519",
    "end": "177920"
  },
  {
    "text": "the linux scheduler is really doing",
    "start": "177920",
    "end": "179920"
  },
  {
    "text": "uh the bulk of the work there and so",
    "start": "179920",
    "end": "181920"
  },
  {
    "text": "it's a very very general purpose uh",
    "start": "181920",
    "end": "183760"
  },
  {
    "text": "scheduler it has",
    "start": "183760",
    "end": "184879"
  },
  {
    "text": "extremely low overhead um you know like",
    "start": "184879",
    "end": "187280"
  },
  {
    "text": "i think in terms of like nanoseconds",
    "start": "187280",
    "end": "189120"
  },
  {
    "text": "um and it is able to you know provide",
    "start": "189120",
    "end": "190879"
  },
  {
    "text": "strong resource isolation",
    "start": "190879",
    "end": "192319"
  },
  {
    "text": "because it has a lot of control over the",
    "start": "192319",
    "end": "193760"
  },
  {
    "text": "hardware it runs on",
    "start": "193760",
    "end": "196000"
  },
  {
    "text": "um and so like in a lot of ways uh you",
    "start": "196000",
    "end": "198239"
  },
  {
    "text": "know when we're developing distributed",
    "start": "198239",
    "end": "199680"
  },
  {
    "text": "applications",
    "start": "199680",
    "end": "200720"
  },
  {
    "text": "uh with ray like our goal is to you know",
    "start": "200720",
    "end": "202800"
  },
  {
    "text": "allow you to program as if you're",
    "start": "202800",
    "end": "204159"
  },
  {
    "text": "programming on a single laptop and so in",
    "start": "204159",
    "end": "205680"
  },
  {
    "text": "a lot of ways like we want to",
    "start": "205680",
    "end": "207040"
  },
  {
    "text": "sort of try to get as close as possible",
    "start": "207040",
    "end": "208720"
  },
  {
    "text": "to this like sort of single node linux",
    "start": "208720",
    "end": "210799"
  },
  {
    "text": "experience as possible",
    "start": "210799",
    "end": "212560"
  },
  {
    "text": "but obviously we want to do it across an",
    "start": "212560",
    "end": "214239"
  },
  {
    "text": "entire cluster",
    "start": "214239",
    "end": "216879"
  },
  {
    "text": "so another scheduler or system you may",
    "start": "216959",
    "end": "219040"
  },
  {
    "text": "have heard of is kubernetes and",
    "start": "219040",
    "end": "221040"
  },
  {
    "text": "kubernetes is a great example",
    "start": "221040",
    "end": "222560"
  },
  {
    "text": "of sort of a very coarse grained",
    "start": "222560",
    "end": "224080"
  },
  {
    "text": "resource scheduler um",
    "start": "224080",
    "end": "225680"
  },
  {
    "text": "so you know you can define how many",
    "start": "225680",
    "end": "226959"
  },
  {
    "text": "resources your pods uh have",
    "start": "226959",
    "end": "229040"
  },
  {
    "text": "and kubernetes will take it will uh do",
    "start": "229040",
    "end": "231599"
  },
  {
    "text": "all the work to like launch those pods",
    "start": "231599",
    "end": "233760"
  },
  {
    "text": "um and schedule them on the nodes it",
    "start": "233760",
    "end": "235840"
  },
  {
    "text": "wants to and so this is a like really",
    "start": "235840",
    "end": "238000"
  },
  {
    "text": "great scheduler for",
    "start": "238000",
    "end": "239439"
  },
  {
    "text": "certain things because it's it's really",
    "start": "239439",
    "end": "241040"
  },
  {
    "text": "really robust uh it uses",
    "start": "241040",
    "end": "243040"
  },
  {
    "text": "you know fcd as a very reliable store",
    "start": "243040",
    "end": "246239"
  },
  {
    "text": "um and it's you know really great if",
    "start": "246239",
    "end": "248799"
  },
  {
    "text": "what you're trying to schedule is",
    "start": "248799",
    "end": "249840"
  },
  {
    "text": "something like pods which",
    "start": "249840",
    "end": "251360"
  },
  {
    "text": "you don't typically have to schedule too",
    "start": "251360",
    "end": "252879"
  },
  {
    "text": "many of them so it's a relatively",
    "start": "252879",
    "end": "254799"
  },
  {
    "text": "like low throughput um and so like",
    "start": "254799",
    "end": "258160"
  },
  {
    "text": "it has it's like really great uses and",
    "start": "258160",
    "end": "260160"
  },
  {
    "text": "so because it has like these low",
    "start": "260160",
    "end": "261840"
  },
  {
    "text": "throughput properties",
    "start": "261840",
    "end": "263040"
  },
  {
    "text": "um you know we wouldn't think of it as",
    "start": "263040",
    "end": "264639"
  },
  {
    "text": "competing with ray um",
    "start": "264639",
    "end": "266160"
  },
  {
    "text": "like we think that ray can complement it",
    "start": "266160",
    "end": "268080"
  },
  {
    "text": "and so in fact like the way we typically",
    "start": "268080",
    "end": "270160"
  },
  {
    "text": "use kubernetes is you know when people",
    "start": "270160",
    "end": "271759"
  },
  {
    "text": "run a ray cluster on kubernetes",
    "start": "271759",
    "end": "273600"
  },
  {
    "text": "uh we let the kubernetes scheduler do a",
    "start": "273600",
    "end": "275759"
  },
  {
    "text": "lot of the work in scheduling rain nodes",
    "start": "275759",
    "end": "278080"
  },
  {
    "text": "so it's not quite fast enough to",
    "start": "278080",
    "end": "279360"
  },
  {
    "text": "schedule uh you know array task or",
    "start": "279360",
    "end": "281120"
  },
  {
    "text": "anything like that",
    "start": "281120",
    "end": "282560"
  },
  {
    "text": "but um it's still useful enough to",
    "start": "282560",
    "end": "286000"
  },
  {
    "text": "schedule a raid node",
    "start": "286000",
    "end": "287120"
  },
  {
    "text": "a ray node which uh brain nodes may go",
    "start": "287120",
    "end": "289680"
  },
  {
    "text": "up and down",
    "start": "289680",
    "end": "290240"
  },
  {
    "text": "um but they typically don't do that like",
    "start": "290240",
    "end": "291840"
  },
  {
    "text": "many times a second um",
    "start": "291840",
    "end": "294000"
  },
  {
    "text": "and so yeah",
    "start": "294000",
    "end": "297040"
  },
  {
    "text": "all right uh another schedule you may",
    "start": "297040",
    "end": "298720"
  },
  {
    "text": "have heard of is spark um",
    "start": "298720",
    "end": "300479"
  },
  {
    "text": "and so spark is a great example of a",
    "start": "300479",
    "end": "302960"
  },
  {
    "text": "centralized static scheduler",
    "start": "302960",
    "end": "304880"
  },
  {
    "text": "um and so this is really really really",
    "start": "304880",
    "end": "306639"
  },
  {
    "text": "great when it works um",
    "start": "306639",
    "end": "307919"
  },
  {
    "text": "and so you'll see these in a lot of uh",
    "start": "307919",
    "end": "309600"
  },
  {
    "text": "special purpose systems especially",
    "start": "309600",
    "end": "311759"
  },
  {
    "text": "in the data processing space so spark is",
    "start": "311759",
    "end": "314720"
  },
  {
    "text": "a you know like sort of the canonical",
    "start": "314720",
    "end": "316160"
  },
  {
    "text": "example of this",
    "start": "316160",
    "end": "317039"
  },
  {
    "text": "um das has a similar design",
    "start": "317039",
    "end": "320479"
  },
  {
    "text": "and um these types of schedulers are",
    "start": "320479",
    "end": "322320"
  },
  {
    "text": "really really great when you have a",
    "start": "322320",
    "end": "324160"
  },
  {
    "text": "special purpose workload that you can",
    "start": "324160",
    "end": "325440"
  },
  {
    "text": "make a lot of assumptions on",
    "start": "325440",
    "end": "327039"
  },
  {
    "text": "because uh it allows you to do things",
    "start": "327039",
    "end": "329199"
  },
  {
    "text": "like query planning uh and take do a lot",
    "start": "329199",
    "end": "331360"
  },
  {
    "text": "of optimizations",
    "start": "331360",
    "end": "332639"
  },
  {
    "text": "that may not actually work super well on",
    "start": "332639",
    "end": "334400"
  },
  {
    "text": "a general purpose system",
    "start": "334400",
    "end": "336479"
  },
  {
    "text": "and so you know again like i think these",
    "start": "336479",
    "end": "338479"
  },
  {
    "text": "schedulers have like really really great",
    "start": "338479",
    "end": "339840"
  },
  {
    "text": "properties",
    "start": "339840",
    "end": "340720"
  },
  {
    "text": "um and ideally you know we we want you",
    "start": "340720",
    "end": "343120"
  },
  {
    "text": "to use them",
    "start": "343120",
    "end": "343840"
  },
  {
    "text": "uh on top of ray and so like desk on ray",
    "start": "343840",
    "end": "347360"
  },
  {
    "text": "uh is like an example of using das",
    "start": "347360",
    "end": "349919"
  },
  {
    "text": "scheduler to sort of",
    "start": "349919",
    "end": "351280"
  },
  {
    "text": "generate its static task graph but then",
    "start": "351280",
    "end": "354240"
  },
  {
    "text": "use ray to actually execute that graph",
    "start": "354240",
    "end": "356479"
  },
  {
    "text": "and so ideally you can get the best of",
    "start": "356479",
    "end": "358240"
  },
  {
    "text": "both worlds that way",
    "start": "358240",
    "end": "359840"
  },
  {
    "text": "radp is a ray data processing project",
    "start": "359840",
    "end": "362880"
  },
  {
    "text": "and it currently lets you run an entire",
    "start": "362880",
    "end": "365680"
  },
  {
    "text": "spark cluster on top of ray and so",
    "start": "365680",
    "end": "367680"
  },
  {
    "text": "with radip you can take advantage of",
    "start": "367680",
    "end": "370880"
  },
  {
    "text": "your spark scheduler and get all the",
    "start": "370880",
    "end": "372800"
  },
  {
    "text": "great optimization benefits out of it",
    "start": "372800",
    "end": "374800"
  },
  {
    "text": "but not be fully constrained to you know",
    "start": "374800",
    "end": "376720"
  },
  {
    "text": "the special purpose workloads that spark",
    "start": "376720",
    "end": "378319"
  },
  {
    "text": "can handle",
    "start": "378319",
    "end": "381120"
  },
  {
    "text": "okay so now we've taken a look at these",
    "start": "381120",
    "end": "383440"
  },
  {
    "text": "schedulers um let's talk about like what",
    "start": "383440",
    "end": "385440"
  },
  {
    "text": "ray scheduler is meant to be so ray is",
    "start": "385440",
    "end": "387360"
  },
  {
    "text": "meant to be a distributed dynamic",
    "start": "387360",
    "end": "389120"
  },
  {
    "text": "scheduler",
    "start": "389120",
    "end": "390319"
  },
  {
    "text": "and so uh this means that you know like",
    "start": "390319",
    "end": "392560"
  },
  {
    "text": "the task graph can be",
    "start": "392560",
    "end": "394080"
  },
  {
    "text": "like constructed dynamically on the fly",
    "start": "394080",
    "end": "397120"
  },
  {
    "text": "um and it's meant to be much more",
    "start": "397120",
    "end": "399440"
  },
  {
    "text": "general purpose",
    "start": "399440",
    "end": "400560"
  },
  {
    "text": "uh and have low overhead and you know we",
    "start": "400560",
    "end": "403039"
  },
  {
    "text": "want to be able to scale to",
    "start": "403039",
    "end": "404560"
  },
  {
    "text": "you know be able to handle hundreds of",
    "start": "404560",
    "end": "405840"
  },
  {
    "text": "thousands of tasks per second",
    "start": "405840",
    "end": "408240"
  },
  {
    "text": "so this is a just a brief summary of the",
    "start": "408240",
    "end": "410319"
  },
  {
    "text": "schedulers we've talked about",
    "start": "410319",
    "end": "411840"
  },
  {
    "text": "and so you know like ideally uh we we",
    "start": "411840",
    "end": "414560"
  },
  {
    "text": "want to be able to interact with all",
    "start": "414560",
    "end": "415599"
  },
  {
    "text": "these schedulers and sort of like",
    "start": "415599",
    "end": "417039"
  },
  {
    "text": "pretend to be like the linux scheduler",
    "start": "417039",
    "end": "418880"
  },
  {
    "text": "in a lot of ways um but still have the",
    "start": "418880",
    "end": "420960"
  },
  {
    "text": "scalability benefit of like not being",
    "start": "420960",
    "end": "422639"
  },
  {
    "text": "limited to a single node",
    "start": "422639",
    "end": "426000"
  },
  {
    "text": "okay so that was a little bit about um",
    "start": "427199",
    "end": "429440"
  },
  {
    "text": "other schedulers",
    "start": "429440",
    "end": "430400"
  },
  {
    "text": "and how ray sort of compares and fits in",
    "start": "430400",
    "end": "432400"
  },
  {
    "text": "with them um so let's talk about like",
    "start": "432400",
    "end": "434560"
  },
  {
    "text": "scheduling uh as we think about it in",
    "start": "434560",
    "end": "437120"
  },
  {
    "text": "rey",
    "start": "437120",
    "end": "437599"
  },
  {
    "text": "um and so like i think one easy way of",
    "start": "437599",
    "end": "439280"
  },
  {
    "text": "doing that may be uh to sort of like",
    "start": "439280",
    "end": "441199"
  },
  {
    "text": "take a look at a concrete example so",
    "start": "441199",
    "end": "442720"
  },
  {
    "text": "like",
    "start": "442720",
    "end": "443120"
  },
  {
    "text": "one common workload uh or yeah",
    "start": "443120",
    "end": "446319"
  },
  {
    "text": "um so like first uh let's talk about",
    "start": "446319",
    "end": "448160"
  },
  {
    "text": "what like the scheduling problem is",
    "start": "448160",
    "end": "450319"
  },
  {
    "text": "so um scheduling is essentially like",
    "start": "450319",
    "end": "452080"
  },
  {
    "text": "solving a couple of problems like",
    "start": "452080",
    "end": "453680"
  },
  {
    "text": "given a task or an actor uh we want to",
    "start": "453680",
    "end": "455680"
  },
  {
    "text": "figure out like which node",
    "start": "455680",
    "end": "457360"
  },
  {
    "text": "and like which like worker process on a",
    "start": "457360",
    "end": "459440"
  },
  {
    "text": "node we can run that",
    "start": "459440",
    "end": "460960"
  },
  {
    "text": "um to ask a reactor in",
    "start": "460960",
    "end": "464240"
  },
  {
    "text": "we also want to think about like when we",
    "start": "464240",
    "end": "466000"
  },
  {
    "text": "run it because sometimes we may try to",
    "start": "466000",
    "end": "467919"
  },
  {
    "text": "you know a user may try to schedule more",
    "start": "467919",
    "end": "469599"
  },
  {
    "text": "tasks uh that require more resources",
    "start": "469599",
    "end": "471599"
  },
  {
    "text": "than are available in the cluster",
    "start": "471599",
    "end": "473120"
  },
  {
    "text": "in which case you know we have to pick",
    "start": "473120",
    "end": "474319"
  },
  {
    "text": "which ones we want to run first or maybe",
    "start": "474319",
    "end": "476400"
  },
  {
    "text": "maybe these tasks have dependencies",
    "start": "476400",
    "end": "478720"
  },
  {
    "text": "and finally uh it's going to be really",
    "start": "478720",
    "end": "480639"
  },
  {
    "text": "important that we solve this problem at",
    "start": "480639",
    "end": "482240"
  },
  {
    "text": "scale",
    "start": "482240",
    "end": "483759"
  },
  {
    "text": "uh so one concrete example of this is",
    "start": "483759",
    "end": "485440"
  },
  {
    "text": "you know you can imagine uh",
    "start": "485440",
    "end": "486960"
  },
  {
    "text": "like one one real world example that uh",
    "start": "486960",
    "end": "489440"
  },
  {
    "text": "one of our users at amazon",
    "start": "489440",
    "end": "491840"
  },
  {
    "text": "had is sort of the example of uh like",
    "start": "491840",
    "end": "495280"
  },
  {
    "text": "trying to do some data processing job",
    "start": "495280",
    "end": "496960"
  },
  {
    "text": "using das conrad",
    "start": "496960",
    "end": "498560"
  },
  {
    "text": "and so like the type of job we're",
    "start": "498560",
    "end": "500000"
  },
  {
    "text": "talking about here is like you know you",
    "start": "500000",
    "end": "501520"
  },
  {
    "text": "have three petabytes of input data you",
    "start": "501520",
    "end": "503520"
  },
  {
    "text": "want to do",
    "start": "503520",
    "end": "504080"
  },
  {
    "text": "a sliding window operation on each like",
    "start": "504080",
    "end": "506400"
  },
  {
    "text": "sort of row of the sensor",
    "start": "506400",
    "end": "508160"
  },
  {
    "text": "and then write like a pretty massive",
    "start": "508160",
    "end": "509840"
  },
  {
    "text": "output so",
    "start": "509840",
    "end": "511440"
  },
  {
    "text": "the sort of task graph that you get out",
    "start": "511440",
    "end": "513360"
  },
  {
    "text": "of that",
    "start": "513360",
    "end": "514479"
  },
  {
    "text": "will like look something like this um",
    "start": "514479",
    "end": "516719"
  },
  {
    "text": "you know you have a bunch of different",
    "start": "516719",
    "end": "518000"
  },
  {
    "text": "tasks that all depend on other tasks",
    "start": "518000",
    "end": "520159"
  },
  {
    "text": "and this is sort of like an example of",
    "start": "520159",
    "end": "522560"
  },
  {
    "text": "part of the workload but you can imagine",
    "start": "522560",
    "end": "524480"
  },
  {
    "text": "that this is actually like millions of",
    "start": "524480",
    "end": "526000"
  },
  {
    "text": "times larger",
    "start": "526000",
    "end": "527920"
  },
  {
    "text": "um and so the job of ray here will be",
    "start": "527920",
    "end": "529519"
  },
  {
    "text": "essentially to like take all of these",
    "start": "529519",
    "end": "531600"
  },
  {
    "text": "tasks and figure out what the right",
    "start": "531600",
    "end": "532880"
  },
  {
    "text": "order to run them is and where we want",
    "start": "532880",
    "end": "535040"
  },
  {
    "text": "to run",
    "start": "535040",
    "end": "535600"
  },
  {
    "text": "these tasks um",
    "start": "535600",
    "end": "539920"
  },
  {
    "text": "yeah so um in terms of scale",
    "start": "539920",
    "end": "543440"
  },
  {
    "text": "uh rey publishes we've begun to publish",
    "start": "543440",
    "end": "545760"
  },
  {
    "text": "a scalability envelope with ray",
    "start": "545760",
    "end": "547600"
  },
  {
    "text": "um these are not necessarily the hard",
    "start": "547600",
    "end": "550000"
  },
  {
    "text": "limits that",
    "start": "550000",
    "end": "550959"
  },
  {
    "text": "you can run a ray cluster with we know",
    "start": "550959",
    "end": "552720"
  },
  {
    "text": "that they're actually you know people",
    "start": "552720",
    "end": "554000"
  },
  {
    "text": "who",
    "start": "554000",
    "end": "554640"
  },
  {
    "text": "are running larger clusters um but these",
    "start": "554640",
    "end": "557600"
  },
  {
    "text": "are sort of",
    "start": "557600",
    "end": "558160"
  },
  {
    "text": "uh this is sort of an example of the",
    "start": "558160",
    "end": "561120"
  },
  {
    "text": "scale that we typically test ray at and",
    "start": "561120",
    "end": "563120"
  },
  {
    "text": "try to guarantee it'll work really well",
    "start": "563120",
    "end": "564720"
  },
  {
    "text": "at",
    "start": "564720",
    "end": "565279"
  },
  {
    "text": "um and so you can go to our github page",
    "start": "565279",
    "end": "567279"
  },
  {
    "text": "and like",
    "start": "567279",
    "end": "568480"
  },
  {
    "text": "take a look at this page and we you know",
    "start": "568480",
    "end": "570560"
  },
  {
    "text": "try our best to keep this updated live",
    "start": "570560",
    "end": "572240"
  },
  {
    "text": "and so",
    "start": "572240",
    "end": "572959"
  },
  {
    "text": "um you know these are the numbers as of",
    "start": "572959",
    "end": "575200"
  },
  {
    "text": "recording this talk",
    "start": "575200",
    "end": "576399"
  },
  {
    "text": "um but you know i would encourage you to",
    "start": "576399",
    "end": "578080"
  },
  {
    "text": "go check out this page um",
    "start": "578080",
    "end": "579680"
  },
  {
    "text": "and see the numbers and uh you know like",
    "start": "579680",
    "end": "582320"
  },
  {
    "text": "we would",
    "start": "582320",
    "end": "582880"
  },
  {
    "text": "expect that uh all of these numbers will",
    "start": "582880",
    "end": "585200"
  },
  {
    "text": "hopefully increase and you know ray will",
    "start": "585200",
    "end": "586800"
  },
  {
    "text": "continue to operate at higher and higher",
    "start": "586800",
    "end": "588839"
  },
  {
    "text": "scales",
    "start": "588839",
    "end": "591440"
  },
  {
    "text": "okay um so that is scheduling uh now",
    "start": "591440",
    "end": "594320"
  },
  {
    "text": "let's take a look at like how the ray",
    "start": "594320",
    "end": "595680"
  },
  {
    "text": "scheduler works",
    "start": "595680",
    "end": "596640"
  },
  {
    "text": "and um yeah how do we like actually",
    "start": "596640",
    "end": "599120"
  },
  {
    "text": "build a scheduler that meets these",
    "start": "599120",
    "end": "600399"
  },
  {
    "text": "requirements",
    "start": "600399",
    "end": "602320"
  },
  {
    "text": "okay so before we do that let's take a",
    "start": "602320",
    "end": "604160"
  },
  {
    "text": "brief look at ray's architecture",
    "start": "604160",
    "end": "605760"
  },
  {
    "text": "um so um you may have seen very similar",
    "start": "605760",
    "end": "609360"
  },
  {
    "text": "figures to this before",
    "start": "609360",
    "end": "610800"
  },
  {
    "text": "but essentially ray consists of a bunch",
    "start": "610800",
    "end": "613120"
  },
  {
    "text": "of nodes that are essentially identical",
    "start": "613120",
    "end": "615360"
  },
  {
    "text": "and then a global control store which we",
    "start": "615360",
    "end": "617440"
  },
  {
    "text": "call gcs",
    "start": "617440",
    "end": "618480"
  },
  {
    "text": "that typically lives on uh just one of",
    "start": "618480",
    "end": "620880"
  },
  {
    "text": "the nodes and that's the node that we",
    "start": "620880",
    "end": "622160"
  },
  {
    "text": "refer to as the head node",
    "start": "622160",
    "end": "624480"
  },
  {
    "text": "okay um so uh a node",
    "start": "624480",
    "end": "628079"
  },
  {
    "text": "has a couple of important things first",
    "start": "628079",
    "end": "630640"
  },
  {
    "text": "of all uh it has a bunch of worker",
    "start": "630640",
    "end": "632240"
  },
  {
    "text": "processes and these are the processes",
    "start": "632240",
    "end": "634079"
  },
  {
    "text": "that are actually responsible for",
    "start": "634079",
    "end": "635519"
  },
  {
    "text": "executing",
    "start": "635519",
    "end": "636560"
  },
  {
    "text": "your uh task or actor yeah it also has a",
    "start": "636560",
    "end": "639200"
  },
  {
    "text": "driver",
    "start": "639200",
    "end": "639760"
  },
  {
    "text": "um a driver is just a special worker and",
    "start": "639760",
    "end": "642079"
  },
  {
    "text": "so in a lot of this presentation",
    "start": "642079",
    "end": "643680"
  },
  {
    "text": "uh we're going to talk about the driver",
    "start": "643680",
    "end": "645680"
  },
  {
    "text": "as um",
    "start": "645680",
    "end": "647360"
  },
  {
    "text": "like the thing that submits tasks um any",
    "start": "647360",
    "end": "649440"
  },
  {
    "text": "worker can submit tasks but we'll just",
    "start": "649440",
    "end": "651200"
  },
  {
    "text": "pretend that the task is always",
    "start": "651200",
    "end": "652399"
  },
  {
    "text": "submitted by the driver for now just for",
    "start": "652399",
    "end": "654160"
  },
  {
    "text": "the sake of clarity",
    "start": "654160",
    "end": "656240"
  },
  {
    "text": "um nodes also have a rail it um there's",
    "start": "656240",
    "end": "659200"
  },
  {
    "text": "a single railit process per node",
    "start": "659200",
    "end": "661360"
  },
  {
    "text": "and the rayleigh process is responsible",
    "start": "661360",
    "end": "663279"
  },
  {
    "text": "for managing the resources of the node",
    "start": "663279",
    "end": "665519"
  },
  {
    "text": "as well as the worker processes on the",
    "start": "665519",
    "end": "667680"
  },
  {
    "text": "node",
    "start": "667680",
    "end": "669120"
  },
  {
    "text": "and then finally there's a global",
    "start": "669120",
    "end": "670320"
  },
  {
    "text": "control store and this",
    "start": "670320",
    "end": "673040"
  },
  {
    "text": "you can think of this as like the single",
    "start": "673040",
    "end": "674640"
  },
  {
    "text": "central process in rey",
    "start": "674640",
    "end": "676480"
  },
  {
    "text": "and so because it's centralized you know",
    "start": "676480",
    "end": "677920"
  },
  {
    "text": "we're going to want to make sure that uh",
    "start": "677920",
    "end": "679360"
  },
  {
    "text": "we're careful to not introduce a lot of",
    "start": "679360",
    "end": "680880"
  },
  {
    "text": "bottlenecks here",
    "start": "680880",
    "end": "682000"
  },
  {
    "text": "and uh keep it out of sort of like the",
    "start": "682000",
    "end": "683839"
  },
  {
    "text": "critical path of scheduling",
    "start": "683839",
    "end": "685680"
  },
  {
    "text": "um but it is a really convenient place",
    "start": "685680",
    "end": "687440"
  },
  {
    "text": "to track cluster-wide properties and",
    "start": "687440",
    "end": "688880"
  },
  {
    "text": "things like that",
    "start": "688880",
    "end": "691360"
  },
  {
    "text": "okay so um let's take a look",
    "start": "691360",
    "end": "694880"
  },
  {
    "text": "so for most of this presentation um i",
    "start": "694880",
    "end": "696720"
  },
  {
    "text": "want to try to follow a single simple",
    "start": "696720",
    "end": "698640"
  },
  {
    "text": "example",
    "start": "698640",
    "end": "699200"
  },
  {
    "text": "uh that i think you know can do a good",
    "start": "699200",
    "end": "701040"
  },
  {
    "text": "job of",
    "start": "701040",
    "end": "702240"
  },
  {
    "text": "um sort of uh illustrating like this",
    "start": "702240",
    "end": "705440"
  },
  {
    "text": "rescheduler and a lot of the",
    "start": "705440",
    "end": "706800"
  },
  {
    "text": "optimizations it has",
    "start": "706800",
    "end": "708800"
  },
  {
    "text": "um and so like in this example uh",
    "start": "708800",
    "end": "712000"
  },
  {
    "text": "we have a gradient descent um algorithm",
    "start": "712000",
    "end": "715040"
  },
  {
    "text": "and so like what this will do is you",
    "start": "715040",
    "end": "717279"
  },
  {
    "text": "know we have a",
    "start": "717279",
    "end": "718560"
  },
  {
    "text": "function that takes a step it takes in",
    "start": "718560",
    "end": "720560"
  },
  {
    "text": "some data and takes in some weights",
    "start": "720560",
    "end": "722160"
  },
  {
    "text": "and then for each batch in our data uh",
    "start": "722160",
    "end": "724079"
  },
  {
    "text": "we'll we'll launch a new",
    "start": "724079",
    "end": "726000"
  },
  {
    "text": "remote remote task to calculate the",
    "start": "726000",
    "end": "727760"
  },
  {
    "text": "gradient over that batch",
    "start": "727760",
    "end": "729440"
  },
  {
    "text": "and then finally we'll have a combining",
    "start": "729440",
    "end": "731680"
  },
  {
    "text": "task that is responsible for taking all",
    "start": "731680",
    "end": "733760"
  },
  {
    "text": "of those gradients of each chunk",
    "start": "733760",
    "end": "735519"
  },
  {
    "text": "and combining them together into like a",
    "start": "735519",
    "end": "738480"
  },
  {
    "text": "single gradient",
    "start": "738480",
    "end": "739360"
  },
  {
    "text": "that we can then like update and return",
    "start": "739360",
    "end": "743360"
  },
  {
    "text": "okay so here's what the task graph for",
    "start": "743519",
    "end": "745519"
  },
  {
    "text": "that sort of looks like so the driver",
    "start": "745519",
    "end": "747440"
  },
  {
    "text": "and again the driver doesn't actually",
    "start": "747440",
    "end": "748800"
  },
  {
    "text": "have to be a driver uh it can be any",
    "start": "748800",
    "end": "750480"
  },
  {
    "text": "worker process",
    "start": "750480",
    "end": "751760"
  },
  {
    "text": "um it will launch a couple of tasks that",
    "start": "751760",
    "end": "754639"
  },
  {
    "text": "are responsible",
    "start": "754639",
    "end": "755519"
  },
  {
    "text": "for calculating the gradient these tasks",
    "start": "755519",
    "end": "758160"
  },
  {
    "text": "will",
    "start": "758160",
    "end": "758880"
  },
  {
    "text": "generate uh some objects that are the",
    "start": "758880",
    "end": "760720"
  },
  {
    "text": "gradients for the you know individual",
    "start": "760720",
    "end": "762240"
  },
  {
    "text": "chunks that they were calculating",
    "start": "762240",
    "end": "764399"
  },
  {
    "text": "uh then the driver will launch a new",
    "start": "764399",
    "end": "766240"
  },
  {
    "text": "task that will be responsible for",
    "start": "766240",
    "end": "767760"
  },
  {
    "text": "combining these gradients",
    "start": "767760",
    "end": "769440"
  },
  {
    "text": "it'll receive all of the gradients uh",
    "start": "769440",
    "end": "771519"
  },
  {
    "text": "and combine them and generate a result",
    "start": "771519",
    "end": "774560"
  },
  {
    "text": "so this is sort of what the dependency",
    "start": "774560",
    "end": "776160"
  },
  {
    "text": "graph uh view",
    "start": "776160",
    "end": "777600"
  },
  {
    "text": "of scheduling would look like from the",
    "start": "777600",
    "end": "779920"
  },
  {
    "text": "perspective",
    "start": "779920",
    "end": "780639"
  },
  {
    "text": "of uh sort of like how we're actually in",
    "start": "780639",
    "end": "782399"
  },
  {
    "text": "the schedules on nodes it might look",
    "start": "782399",
    "end": "783920"
  },
  {
    "text": "something like this",
    "start": "783920",
    "end": "784800"
  },
  {
    "text": "so we'll start with the driver again um",
    "start": "784800",
    "end": "787279"
  },
  {
    "text": "it'll launch",
    "start": "787279",
    "end": "788160"
  },
  {
    "text": "you know a calculate gradient task maybe",
    "start": "788160",
    "end": "789920"
  },
  {
    "text": "on the same node um but like maybe this",
    "start": "789920",
    "end": "791920"
  },
  {
    "text": "node runs out of space so now we'll",
    "start": "791920",
    "end": "793680"
  },
  {
    "text": "probably want to launch all of the other",
    "start": "793680",
    "end": "795600"
  },
  {
    "text": "grade calculate gradient tasks",
    "start": "795600",
    "end": "797519"
  },
  {
    "text": "on another node so that they can still",
    "start": "797519",
    "end": "798959"
  },
  {
    "text": "run in parallel and then finally",
    "start": "798959",
    "end": "801519"
  },
  {
    "text": "because now like most of our results are",
    "start": "801519",
    "end": "803040"
  },
  {
    "text": "on node 2 like ideally we would even",
    "start": "803040",
    "end": "805200"
  },
  {
    "text": "want to schedule our combined task",
    "start": "805200",
    "end": "807440"
  },
  {
    "text": "on that node to avoid having to like",
    "start": "807440",
    "end": "809440"
  },
  {
    "text": "transfer all of our gradients over",
    "start": "809440",
    "end": "811519"
  },
  {
    "text": "over the network okay",
    "start": "811519",
    "end": "815279"
  },
  {
    "text": "so now let's take a look at uh how raise",
    "start": "815279",
    "end": "817600"
  },
  {
    "text": "scheduler will do this",
    "start": "817600",
    "end": "818959"
  },
  {
    "text": "um so ray uses a distributed scheduler",
    "start": "818959",
    "end": "821279"
  },
  {
    "text": "to avoid having centralized bottlenecks",
    "start": "821279",
    "end": "823440"
  },
  {
    "text": "um and so uh like let's first just take",
    "start": "823440",
    "end": "827040"
  },
  {
    "text": "an example of like how are we gonna run",
    "start": "827040",
    "end": "828800"
  },
  {
    "text": "like a single one of these calculate",
    "start": "828800",
    "end": "830320"
  },
  {
    "text": "gradient tasks",
    "start": "830320",
    "end": "833040"
  },
  {
    "text": "okay so um the general process for this",
    "start": "833040",
    "end": "836079"
  },
  {
    "text": "um goes along the lines of iterative",
    "start": "836079",
    "end": "837920"
  },
  {
    "text": "querying so",
    "start": "837920",
    "end": "839680"
  },
  {
    "text": "the first thing that a worker will do is",
    "start": "839680",
    "end": "842000"
  },
  {
    "text": "it'll talk to it's like local rail it or",
    "start": "842000",
    "end": "844160"
  },
  {
    "text": "it'll talk to a rayleigh and ask for a",
    "start": "844160",
    "end": "845920"
  },
  {
    "text": "worker process to run that task on",
    "start": "845920",
    "end": "848079"
  },
  {
    "text": "so you know just for the sake of uh",
    "start": "848079",
    "end": "851440"
  },
  {
    "text": "you know illustrating sort of the longer",
    "start": "851440",
    "end": "853760"
  },
  {
    "text": "path for rey",
    "start": "853760",
    "end": "854639"
  },
  {
    "text": "let's pretend that this rayleigh does",
    "start": "854639",
    "end": "855920"
  },
  {
    "text": "not have any available workers",
    "start": "855920",
    "end": "858000"
  },
  {
    "text": "so the rayleigh will send a spill back",
    "start": "858000",
    "end": "861040"
  },
  {
    "text": "uh to the requesting worker and the",
    "start": "861040",
    "end": "863360"
  },
  {
    "text": "spillback will",
    "start": "863360",
    "end": "864560"
  },
  {
    "text": "essentially tell the worker that it",
    "start": "864560",
    "end": "865839"
  },
  {
    "text": "needs to query a different rail it",
    "start": "865839",
    "end": "868000"
  },
  {
    "text": "um in order to like find a worker so in",
    "start": "868000",
    "end": "870320"
  },
  {
    "text": "this case uh the railing on node one",
    "start": "870320",
    "end": "872399"
  },
  {
    "text": "is going to refer us to the railit on",
    "start": "872399",
    "end": "874399"
  },
  {
    "text": "node two",
    "start": "874399",
    "end": "875680"
  },
  {
    "text": "so now we'll do that same process again",
    "start": "875680",
    "end": "877839"
  },
  {
    "text": "and ask the railing on node two",
    "start": "877839",
    "end": "880160"
  },
  {
    "text": "um if we can get a worker process here",
    "start": "880160",
    "end": "882079"
  },
  {
    "text": "before running the task",
    "start": "882079",
    "end": "884160"
  },
  {
    "text": "um the rail on node 2 in this case let's",
    "start": "884160",
    "end": "886480"
  },
  {
    "text": "just pretend that it does have a worker",
    "start": "886480",
    "end": "888240"
  },
  {
    "text": "available",
    "start": "888240",
    "end": "889199"
  },
  {
    "text": "um it will then respond with a worker",
    "start": "889199",
    "end": "891440"
  },
  {
    "text": "address um",
    "start": "891440",
    "end": "892399"
  },
  {
    "text": "now you know it is possible that like",
    "start": "892399",
    "end": "895360"
  },
  {
    "text": "relay that node 2 does not actually have",
    "start": "895360",
    "end": "897199"
  },
  {
    "text": "any available workers",
    "start": "897199",
    "end": "898560"
  },
  {
    "text": "and you know you could keep repeating",
    "start": "898560",
    "end": "899839"
  },
  {
    "text": "steps two and three um a bunch",
    "start": "899839",
    "end": "902320"
  },
  {
    "text": "but let's let's say it does have a",
    "start": "902320",
    "end": "904079"
  },
  {
    "text": "worker available it'll send",
    "start": "904079",
    "end": "905920"
  },
  {
    "text": "uh an address to that worker um to our",
    "start": "905920",
    "end": "908800"
  },
  {
    "text": "requesting worker",
    "start": "908800",
    "end": "910560"
  },
  {
    "text": "and our uh two workers can now just",
    "start": "910560",
    "end": "913279"
  },
  {
    "text": "directly communicate with each other in",
    "start": "913279",
    "end": "914800"
  },
  {
    "text": "order to execute a task",
    "start": "914800",
    "end": "917040"
  },
  {
    "text": "um and so now presumably like now that",
    "start": "917040",
    "end": "920480"
  },
  {
    "text": "we've done this uh we can now just run",
    "start": "920480",
    "end": "922079"
  },
  {
    "text": "our calculate gradient task because",
    "start": "922079",
    "end": "923519"
  },
  {
    "text": "we're communicating directly with the",
    "start": "923519",
    "end": "924800"
  },
  {
    "text": "worker that will run it",
    "start": "924800",
    "end": "927199"
  },
  {
    "text": "okay so there were like five steps there",
    "start": "927199",
    "end": "929839"
  },
  {
    "text": "and we want to do this for every single",
    "start": "929839",
    "end": "931680"
  },
  {
    "text": "batch of",
    "start": "931680",
    "end": "932560"
  },
  {
    "text": "batch in a data set so that's a lot of",
    "start": "932560",
    "end": "934880"
  },
  {
    "text": "requests right because we have to repeat",
    "start": "934880",
    "end": "936399"
  },
  {
    "text": "that like five step process every single",
    "start": "936399",
    "end": "938560"
  },
  {
    "text": "time",
    "start": "938560",
    "end": "939600"
  },
  {
    "text": "it would be really great if we could",
    "start": "939600",
    "end": "940880"
  },
  {
    "text": "have a way of speeding that up",
    "start": "940880",
    "end": "942720"
  },
  {
    "text": "um and so that's going to get into get",
    "start": "942720",
    "end": "944480"
  },
  {
    "text": "us into our first optimization which we",
    "start": "944480",
    "end": "946399"
  },
  {
    "text": "call leasing",
    "start": "946399",
    "end": "947360"
  },
  {
    "text": "and so leasing is essentially what",
    "start": "947360",
    "end": "949040"
  },
  {
    "text": "allows us to reuse workers",
    "start": "949040",
    "end": "951120"
  },
  {
    "text": "so let's take a look at how we can apply",
    "start": "951120",
    "end": "953279"
  },
  {
    "text": "this leasing",
    "start": "953279",
    "end": "954399"
  },
  {
    "text": "optimization uh to reuse workers so the",
    "start": "954399",
    "end": "956959"
  },
  {
    "text": "idea here",
    "start": "956959",
    "end": "957600"
  },
  {
    "text": "is that when you lease a worker uh you",
    "start": "957600",
    "end": "960800"
  },
  {
    "text": "keep control over that worker and you",
    "start": "960800",
    "end": "962399"
  },
  {
    "text": "can do whatever you want with it and",
    "start": "962399",
    "end": "963680"
  },
  {
    "text": "execute whatever tasks you want on that",
    "start": "963680",
    "end": "965440"
  },
  {
    "text": "worker",
    "start": "965440",
    "end": "966959"
  },
  {
    "text": "so um let's let's skip through some of",
    "start": "966959",
    "end": "969839"
  },
  {
    "text": "the uh like",
    "start": "969839",
    "end": "971279"
  },
  {
    "text": "the similar parts to the previous steps",
    "start": "971279",
    "end": "972880"
  },
  {
    "text": "so like let's pretend we ask our local",
    "start": "972880",
    "end": "974720"
  },
  {
    "text": "rayleigh for a lease",
    "start": "974720",
    "end": "975920"
  },
  {
    "text": "and it builds us back to uh node two uh",
    "start": "975920",
    "end": "978959"
  },
  {
    "text": "and then we request a",
    "start": "978959",
    "end": "980560"
  },
  {
    "text": "lease from node 2. so now the rail it",
    "start": "980560",
    "end": "983440"
  },
  {
    "text": "will grant us a lease for the worker",
    "start": "983440",
    "end": "985199"
  },
  {
    "text": "instead of just",
    "start": "985199",
    "end": "986160"
  },
  {
    "text": "like letting us execute a single task on",
    "start": "986160",
    "end": "987920"
  },
  {
    "text": "that worker",
    "start": "987920",
    "end": "989600"
  },
  {
    "text": "we'll then again communicate directly",
    "start": "989600",
    "end": "991440"
  },
  {
    "text": "with that worker and",
    "start": "991440",
    "end": "992800"
  },
  {
    "text": "send it a task to execute but now the",
    "start": "992800",
    "end": "995199"
  },
  {
    "text": "difference here is that after this task",
    "start": "995199",
    "end": "996959"
  },
  {
    "text": "finishes",
    "start": "996959",
    "end": "997600"
  },
  {
    "text": "we still have the lease on the worker",
    "start": "997600",
    "end": "999360"
  },
  {
    "text": "and we can keep reusing it",
    "start": "999360",
    "end": "1001440"
  },
  {
    "text": "um and so now for the second task that",
    "start": "1001440",
    "end": "1004560"
  },
  {
    "text": "we have",
    "start": "1004560",
    "end": "1005040"
  },
  {
    "text": "uh we can just directly reuse that",
    "start": "1005040",
    "end": "1006800"
  },
  {
    "text": "worker and we don't have to repeat that",
    "start": "1006800",
    "end": "1008399"
  },
  {
    "text": "entire five step process",
    "start": "1008399",
    "end": "1010000"
  },
  {
    "text": "and so if you have a lot of uh small",
    "start": "1010000",
    "end": "1011839"
  },
  {
    "text": "tasks uh this will save a lot of time",
    "start": "1011839",
    "end": "1013839"
  },
  {
    "text": "because",
    "start": "1013839",
    "end": "1014480"
  },
  {
    "text": "you know a lot of these requests we were",
    "start": "1014480",
    "end": "1015839"
  },
  {
    "text": "doing were over a network um and could",
    "start": "1015839",
    "end": "1017920"
  },
  {
    "text": "like really increase the latency of uh",
    "start": "1017920",
    "end": "1020000"
  },
  {
    "text": "submitting tasks",
    "start": "1020000",
    "end": "1022480"
  },
  {
    "text": "um so yeah so just for a little bit of",
    "start": "1022480",
    "end": "1024720"
  },
  {
    "text": "context you know uh a typical lease uh",
    "start": "1024720",
    "end": "1026959"
  },
  {
    "text": "is for as long as the tasks execute or",
    "start": "1026959",
    "end": "1029520"
  },
  {
    "text": "like up to a couple hundred milliseconds",
    "start": "1029520",
    "end": "1031438"
  },
  {
    "text": "um whichever uh is longer um and so like",
    "start": "1031439",
    "end": "1034959"
  },
  {
    "text": "that really helps us out with short",
    "start": "1034959",
    "end": "1036319"
  },
  {
    "text": "tasks um but like leases will expire and",
    "start": "1036319",
    "end": "1038959"
  },
  {
    "text": "you know",
    "start": "1038959",
    "end": "1039438"
  },
  {
    "text": "after a while you probably do want to",
    "start": "1039439",
    "end": "1041120"
  },
  {
    "text": "keep talking to your railits uh to get",
    "start": "1041120",
    "end": "1042720"
  },
  {
    "text": "like",
    "start": "1042720",
    "end": "1043280"
  },
  {
    "text": "potentially better places to run your",
    "start": "1043280",
    "end": "1044720"
  },
  {
    "text": "tasks",
    "start": "1044720",
    "end": "1047120"
  },
  {
    "text": "all right um so that was leasing uh the",
    "start": "1047360",
    "end": "1050240"
  },
  {
    "text": "other topic",
    "start": "1050240",
    "end": "1051039"
  },
  {
    "text": "one of the other topics i want to talk",
    "start": "1051039",
    "end": "1052320"
  },
  {
    "text": "about here is uh the actual like",
    "start": "1052320",
    "end": "1054559"
  },
  {
    "text": "scheduling policy um or like that",
    "start": "1054559",
    "end": "1056559"
  },
  {
    "text": "spillback policy uh which is",
    "start": "1056559",
    "end": "1058080"
  },
  {
    "text": "i think typically what people think of",
    "start": "1058080",
    "end": "1059360"
  },
  {
    "text": "when they think of scheduling policy",
    "start": "1059360",
    "end": "1062559"
  },
  {
    "text": "okay um so you know the spillback policy",
    "start": "1062559",
    "end": "1065679"
  },
  {
    "text": "was essentially like if you recall a",
    "start": "1065679",
    "end": "1067200"
  },
  {
    "text": "couple minutes ago",
    "start": "1067200",
    "end": "1068080"
  },
  {
    "text": "when we were talking about our scheduler",
    "start": "1068080",
    "end": "1070480"
  },
  {
    "text": "um",
    "start": "1070480",
    "end": "1071440"
  },
  {
    "text": "we sort of said that like rayleigh that",
    "start": "1071440",
    "end": "1073760"
  },
  {
    "text": "node one will spill back to node two",
    "start": "1073760",
    "end": "1076080"
  },
  {
    "text": "and so this spillback policy here is",
    "start": "1076080",
    "end": "1078080"
  },
  {
    "text": "essentially just answering the question",
    "start": "1078080",
    "end": "1079520"
  },
  {
    "text": "of why did we pick node two there right",
    "start": "1079520",
    "end": "1081440"
  },
  {
    "text": "there could be many other nodes in our",
    "start": "1081440",
    "end": "1082720"
  },
  {
    "text": "cluster um like",
    "start": "1082720",
    "end": "1084480"
  },
  {
    "text": "why do we why do we pick whichever node",
    "start": "1084480",
    "end": "1086400"
  },
  {
    "text": "that we pick",
    "start": "1086400",
    "end": "1088400"
  },
  {
    "text": "um and so like in order to understand",
    "start": "1088400",
    "end": "1090240"
  },
  {
    "text": "that uh i think we need to first take a",
    "start": "1090240",
    "end": "1092000"
  },
  {
    "text": "step back and take a look at what a rail",
    "start": "1092000",
    "end": "1093600"
  },
  {
    "text": "it has",
    "start": "1093600",
    "end": "1094160"
  },
  {
    "text": "so like we mentioned before um a rail it",
    "start": "1094160",
    "end": "1097360"
  },
  {
    "text": "has a local",
    "start": "1097360",
    "end": "1098080"
  },
  {
    "text": "view of or manages all the local",
    "start": "1098080",
    "end": "1100320"
  },
  {
    "text": "resources on its node so it'll keep like",
    "start": "1100320",
    "end": "1102000"
  },
  {
    "text": "a table of all of the resources on the",
    "start": "1102000",
    "end": "1103600"
  },
  {
    "text": "node",
    "start": "1103600",
    "end": "1104320"
  },
  {
    "text": "and it's also responsible for managing",
    "start": "1104320",
    "end": "1105760"
  },
  {
    "text": "the workers which we typically call the",
    "start": "1105760",
    "end": "1108160"
  },
  {
    "text": "worker pool",
    "start": "1108160",
    "end": "1109600"
  },
  {
    "text": "so the rail it will take its local",
    "start": "1109600",
    "end": "1111919"
  },
  {
    "text": "resource view",
    "start": "1111919",
    "end": "1112640"
  },
  {
    "text": "and every once in a while um like on the",
    "start": "1112640",
    "end": "1114799"
  },
  {
    "text": "order of you know 100 milliseconds",
    "start": "1114799",
    "end": "1116559"
  },
  {
    "text": "we'll send off the like local uh like",
    "start": "1116559",
    "end": "1119679"
  },
  {
    "text": "available resources on the node to gcs",
    "start": "1119679",
    "end": "1122720"
  },
  {
    "text": "and remember every node has a rail it",
    "start": "1122720",
    "end": "1124400"
  },
  {
    "text": "and every rail it will be doing the same",
    "start": "1124400",
    "end": "1126000"
  },
  {
    "text": "thing",
    "start": "1126000",
    "end": "1126480"
  },
  {
    "text": "and so because of this uh gcs will now",
    "start": "1126480",
    "end": "1129200"
  },
  {
    "text": "have",
    "start": "1129200",
    "end": "1129600"
  },
  {
    "text": "a semi-up-to-date view of all the",
    "start": "1129600",
    "end": "1131919"
  },
  {
    "text": "resource utilization in the cluster",
    "start": "1131919",
    "end": "1134400"
  },
  {
    "text": "and so um gcs can now broadcast",
    "start": "1134400",
    "end": "1138000"
  },
  {
    "text": "that view of all the resources on the",
    "start": "1138000",
    "end": "1140080"
  },
  {
    "text": "other nodes in the cluster",
    "start": "1140080",
    "end": "1141280"
  },
  {
    "text": "back to the rail it um and so in this",
    "start": "1141280",
    "end": "1144799"
  },
  {
    "text": "way like arrayli can now actually have a",
    "start": "1144799",
    "end": "1146799"
  },
  {
    "text": "like",
    "start": "1146799",
    "end": "1147200"
  },
  {
    "text": "semi-up-to-date view of like what",
    "start": "1147200",
    "end": "1149600"
  },
  {
    "text": "clusters what resources are available in",
    "start": "1149600",
    "end": "1151360"
  },
  {
    "text": "the rest of the cluster",
    "start": "1151360",
    "end": "1153200"
  },
  {
    "text": "um and so like by taking information",
    "start": "1153200",
    "end": "1155280"
  },
  {
    "text": "like that into account",
    "start": "1155280",
    "end": "1156400"
  },
  {
    "text": "um like you know we can now like use",
    "start": "1156400",
    "end": "1158160"
  },
  {
    "text": "that information to pick a good node",
    "start": "1158160",
    "end": "1160160"
  },
  {
    "text": "for scheduling a task okay um so the",
    "start": "1160160",
    "end": "1163200"
  },
  {
    "text": "other thing i really will have",
    "start": "1163200",
    "end": "1164400"
  },
  {
    "text": "is a queue of like lease requests you",
    "start": "1164400",
    "end": "1166720"
  },
  {
    "text": "know these are the requests that the",
    "start": "1166720",
    "end": "1167919"
  },
  {
    "text": "workers have been sending in",
    "start": "1167919",
    "end": "1169760"
  },
  {
    "text": "and so we can take all this information",
    "start": "1169760",
    "end": "1171440"
  },
  {
    "text": "into account um and this is what we",
    "start": "1171440",
    "end": "1173520"
  },
  {
    "text": "would consider our scheduling policy",
    "start": "1173520",
    "end": "1175360"
  },
  {
    "text": "and then uh we'll you know this policy",
    "start": "1175360",
    "end": "1177600"
  },
  {
    "text": "will tell us whether or not we can lease",
    "start": "1177600",
    "end": "1178880"
  },
  {
    "text": "a worker or which",
    "start": "1178880",
    "end": "1180160"
  },
  {
    "text": "uh node we need to spill back to",
    "start": "1180160",
    "end": "1183360"
  },
  {
    "text": "okay so i don't want to get into the",
    "start": "1183360",
    "end": "1185440"
  },
  {
    "text": "exact details of our scheduling policy",
    "start": "1185440",
    "end": "1187600"
  },
  {
    "text": "because",
    "start": "1187600",
    "end": "1188240"
  },
  {
    "text": "uh this is something that's constantly",
    "start": "1188240",
    "end": "1189600"
  },
  {
    "text": "changing we're always trying to improve",
    "start": "1189600",
    "end": "1191200"
  },
  {
    "text": "it um so that our scheduler works better",
    "start": "1191200",
    "end": "1193200"
  },
  {
    "text": "for",
    "start": "1193200",
    "end": "1193679"
  },
  {
    "text": "uh different workloads um and so instead",
    "start": "1193679",
    "end": "1196240"
  },
  {
    "text": "like i think i want to just like briefly",
    "start": "1196240",
    "end": "1197679"
  },
  {
    "text": "talk a little bit about some of the",
    "start": "1197679",
    "end": "1198960"
  },
  {
    "text": "principles that we consider when",
    "start": "1198960",
    "end": "1200080"
  },
  {
    "text": "scheduling",
    "start": "1200080",
    "end": "1201520"
  },
  {
    "text": "um so like uh you know like there's a",
    "start": "1201520",
    "end": "1205120"
  },
  {
    "text": "one like really common thing that",
    "start": "1205120",
    "end": "1206880"
  },
  {
    "text": "we tend to think about with scheduling",
    "start": "1206880",
    "end": "1208159"
  },
  {
    "text": "is sort of the idea of like load",
    "start": "1208159",
    "end": "1209280"
  },
  {
    "text": "balancing versus locality",
    "start": "1209280",
    "end": "1211200"
  },
  {
    "text": "um so if we you know wanted to load",
    "start": "1211200",
    "end": "1214960"
  },
  {
    "text": "if we load balanced uh all these",
    "start": "1214960",
    "end": "1216559"
  },
  {
    "text": "calculate gradient tasks uh that would",
    "start": "1216559",
    "end": "1218240"
  },
  {
    "text": "like make a lot of sense because it",
    "start": "1218240",
    "end": "1219360"
  },
  {
    "text": "would quickly distribute these tasks",
    "start": "1219360",
    "end": "1220799"
  },
  {
    "text": "across the cluster",
    "start": "1220799",
    "end": "1222159"
  },
  {
    "text": "um and uh you know you can avoid like a",
    "start": "1222159",
    "end": "1224640"
  },
  {
    "text": "bunch of types of interference",
    "start": "1224640",
    "end": "1226159"
  },
  {
    "text": "that are like really really really hard",
    "start": "1226159",
    "end": "1227919"
  },
  {
    "text": "to avoid um",
    "start": "1227919",
    "end": "1229440"
  },
  {
    "text": "and nearly impossible to you know like",
    "start": "1229440",
    "end": "1230880"
  },
  {
    "text": "there are things like cpu cache",
    "start": "1230880",
    "end": "1232480"
  },
  {
    "text": "coherence that uh",
    "start": "1232480",
    "end": "1234799"
  },
  {
    "text": "you like arguably don't even want to",
    "start": "1234799",
    "end": "1236480"
  },
  {
    "text": "avoid because the impacts of avoiding it",
    "start": "1236480",
    "end": "1238240"
  },
  {
    "text": "would be worse than",
    "start": "1238240",
    "end": "1239120"
  },
  {
    "text": "uh dealing with it um there's other",
    "start": "1239120",
    "end": "1240799"
  },
  {
    "text": "things like object spilling",
    "start": "1240799",
    "end": "1242480"
  },
  {
    "text": "and so like uh for that reason like you",
    "start": "1242480",
    "end": "1244480"
  },
  {
    "text": "know a lot of for a lot of types of",
    "start": "1244480",
    "end": "1246720"
  },
  {
    "text": "um workloads like people typically",
    "start": "1246720",
    "end": "1249120"
  },
  {
    "text": "default to load balancing",
    "start": "1249120",
    "end": "1250799"
  },
  {
    "text": "um but on the other hand uh because",
    "start": "1250799",
    "end": "1253200"
  },
  {
    "text": "people use ray a lot for things like",
    "start": "1253200",
    "end": "1254559"
  },
  {
    "text": "machine learning",
    "start": "1254559",
    "end": "1255600"
  },
  {
    "text": "if we were to load balance all of our",
    "start": "1255600",
    "end": "1257280"
  },
  {
    "text": "tasks to different nodes that would mean",
    "start": "1257280",
    "end": "1259039"
  },
  {
    "text": "that that combined step we have to do",
    "start": "1259039",
    "end": "1260400"
  },
  {
    "text": "later",
    "start": "1260400",
    "end": "1261200"
  },
  {
    "text": "is going to have to fetch a bunch of",
    "start": "1261200",
    "end": "1263679"
  },
  {
    "text": "gradients from a bunch of different",
    "start": "1263679",
    "end": "1264720"
  },
  {
    "text": "nodes and",
    "start": "1264720",
    "end": "1265520"
  },
  {
    "text": "uh that would require like a lot of",
    "start": "1265520",
    "end": "1266880"
  },
  {
    "text": "network cost and so like",
    "start": "1266880",
    "end": "1268720"
  },
  {
    "text": "we may not fully want to uh we may not",
    "start": "1268720",
    "end": "1272000"
  },
  {
    "text": "fully want to load balance",
    "start": "1272000",
    "end": "1273919"
  },
  {
    "text": "so uh there will be a blog post about uh",
    "start": "1273919",
    "end": "1276559"
  },
  {
    "text": "you know sort of about like a lot of the",
    "start": "1276559",
    "end": "1278000"
  },
  {
    "text": "work that we've done in scheduling",
    "start": "1278000",
    "end": "1279520"
  },
  {
    "text": "um with a lot more data on this topic um",
    "start": "1279520",
    "end": "1282159"
  },
  {
    "text": "it's gonna come out on the any scale",
    "start": "1282159",
    "end": "1283360"
  },
  {
    "text": "blog so i would encourage you to check",
    "start": "1283360",
    "end": "1285360"
  },
  {
    "text": "out the any skill blog",
    "start": "1285360",
    "end": "1286880"
  },
  {
    "text": "um and keep a watch out for that blog",
    "start": "1286880",
    "end": "1288799"
  },
  {
    "text": "post um if you're like really really",
    "start": "1288799",
    "end": "1290720"
  },
  {
    "text": "interested in some of the experiments",
    "start": "1290720",
    "end": "1292000"
  },
  {
    "text": "that we've run",
    "start": "1292000",
    "end": "1293120"
  },
  {
    "text": "and how we've designed the policy that",
    "start": "1293120",
    "end": "1295520"
  },
  {
    "text": "we use today",
    "start": "1295520",
    "end": "1298159"
  },
  {
    "text": "okay um the final like really important",
    "start": "1298400",
    "end": "1300559"
  },
  {
    "text": "optimization i want to talk about here",
    "start": "1300559",
    "end": "1302480"
  },
  {
    "text": "is data locality so data locality",
    "start": "1302480",
    "end": "1306240"
  },
  {
    "text": "um is essentially answering the problem",
    "start": "1306240",
    "end": "1308880"
  },
  {
    "text": "of",
    "start": "1308880",
    "end": "1309679"
  },
  {
    "text": "you know like we have this like combined",
    "start": "1309679",
    "end": "1311440"
  },
  {
    "text": "gradients uh",
    "start": "1311440",
    "end": "1312799"
  },
  {
    "text": "like operation that we did that takes in",
    "start": "1312799",
    "end": "1314559"
  },
  {
    "text": "a bunch of gradients so we could in",
    "start": "1314559",
    "end": "1316480"
  },
  {
    "text": "theory run this uh",
    "start": "1316480",
    "end": "1318000"
  },
  {
    "text": "this task on any node in the cluster and",
    "start": "1318000",
    "end": "1319760"
  },
  {
    "text": "we would get a correctness guarantee",
    "start": "1319760",
    "end": "1321760"
  },
  {
    "text": "but uh it would be really really great",
    "start": "1321760",
    "end": "1323600"
  },
  {
    "text": "if we could run this task",
    "start": "1323600",
    "end": "1325120"
  },
  {
    "text": "where a bunch of our gradients already",
    "start": "1325120",
    "end": "1327120"
  },
  {
    "text": "live um so that we don't have to like",
    "start": "1327120",
    "end": "1329280"
  },
  {
    "text": "download them all onto some remote node",
    "start": "1329280",
    "end": "1332240"
  },
  {
    "text": "um so the way that we handle this is",
    "start": "1332240",
    "end": "1334320"
  },
  {
    "text": "through something we call locality aware",
    "start": "1334320",
    "end": "1336080"
  },
  {
    "text": "leasing",
    "start": "1336080",
    "end": "1336880"
  },
  {
    "text": "and so this takes advantage of a couple",
    "start": "1336880",
    "end": "1338480"
  },
  {
    "text": "of things so one thing it takes",
    "start": "1338480",
    "end": "1340400"
  },
  {
    "text": "advantage of is the fact that",
    "start": "1340400",
    "end": "1341679"
  },
  {
    "text": "essentially",
    "start": "1341679",
    "end": "1342320"
  },
  {
    "text": "uh in ray uh objects are owned",
    "start": "1342320",
    "end": "1345360"
  },
  {
    "text": "by the task or by the like worker that",
    "start": "1345360",
    "end": "1348480"
  },
  {
    "text": "created them",
    "start": "1348480",
    "end": "1349760"
  },
  {
    "text": "and so um if you've never heard of",
    "start": "1349760",
    "end": "1351039"
  },
  {
    "text": "ownership before um that's perfectly",
    "start": "1351039",
    "end": "1353200"
  },
  {
    "text": "fine",
    "start": "1353200",
    "end": "1353600"
  },
  {
    "text": "just know that uh an object and the",
    "start": "1353600",
    "end": "1356960"
  },
  {
    "text": "information about an object and all of",
    "start": "1356960",
    "end": "1358400"
  },
  {
    "text": "its metadata lives on the worker that",
    "start": "1358400",
    "end": "1360320"
  },
  {
    "text": "creates the object",
    "start": "1360320",
    "end": "1362000"
  },
  {
    "text": "if you want to learn more about",
    "start": "1362000",
    "end": "1363520"
  },
  {
    "text": "ownership uh stephanie another",
    "start": "1363520",
    "end": "1366000"
  },
  {
    "text": "engineer at any scale and a phd student",
    "start": "1366000",
    "end": "1369120"
  },
  {
    "text": "at berkeley wrote a great paper on this",
    "start": "1369120",
    "end": "1371760"
  },
  {
    "text": "and",
    "start": "1371760",
    "end": "1372640"
  },
  {
    "text": "presented it at nsdi this year um and",
    "start": "1372640",
    "end": "1375520"
  },
  {
    "text": "i've put a link to that at the bottom of",
    "start": "1375520",
    "end": "1376799"
  },
  {
    "text": "these slides so",
    "start": "1376799",
    "end": "1377840"
  },
  {
    "text": "i would encourage you to check that out",
    "start": "1377840",
    "end": "1379039"
  },
  {
    "text": "if you really want to learn more about",
    "start": "1379039",
    "end": "1380640"
  },
  {
    "text": "the details of ownership",
    "start": "1380640",
    "end": "1383200"
  },
  {
    "text": "okay um but workers own",
    "start": "1383200",
    "end": "1386240"
  },
  {
    "text": "own the objects that they create um and",
    "start": "1386240",
    "end": "1388880"
  },
  {
    "text": "workers",
    "start": "1388880",
    "end": "1389679"
  },
  {
    "text": "can already send lease requests to any",
    "start": "1389679",
    "end": "1391440"
  },
  {
    "text": "railet right because they had to be able",
    "start": "1391440",
    "end": "1392880"
  },
  {
    "text": "to for that spillback policy to work",
    "start": "1392880",
    "end": "1395280"
  },
  {
    "text": "um so one thing we could do here to get",
    "start": "1395280",
    "end": "1397360"
  },
  {
    "text": "data locality is essentially to say like",
    "start": "1397360",
    "end": "1399760"
  },
  {
    "text": "okay well like on this worker we know",
    "start": "1399760",
    "end": "1401760"
  },
  {
    "text": "where all the objects are",
    "start": "1401760",
    "end": "1403200"
  },
  {
    "text": "we can't control where we send our lease",
    "start": "1403200",
    "end": "1404799"
  },
  {
    "text": "requests to so instead of sending a",
    "start": "1404799",
    "end": "1406880"
  },
  {
    "text": "lease request to our local arrayli like",
    "start": "1406880",
    "end": "1408559"
  },
  {
    "text": "why don't we just",
    "start": "1408559",
    "end": "1409440"
  },
  {
    "text": "start out by being smart and sending our",
    "start": "1409440",
    "end": "1411360"
  },
  {
    "text": "lease request to the correct railit",
    "start": "1411360",
    "end": "1414080"
  },
  {
    "text": "okay so let's take a look at how this",
    "start": "1414080",
    "end": "1415600"
  },
  {
    "text": "works so here we have like",
    "start": "1415600",
    "end": "1417840"
  },
  {
    "text": "a diagram of what a single worker looks",
    "start": "1417840",
    "end": "1420880"
  },
  {
    "text": "like",
    "start": "1420880",
    "end": "1421200"
  },
  {
    "text": "there's some code that lives in python",
    "start": "1421200",
    "end": "1422799"
  },
  {
    "text": "land uh that's the blue section um",
    "start": "1422799",
    "end": "1425200"
  },
  {
    "text": "you know and that's where like you're",
    "start": "1425200",
    "end": "1426240"
  },
  {
    "text": "actually calling combine.remote",
    "start": "1426240",
    "end": "1428559"
  },
  {
    "text": "um and uh below that is sort of the rest",
    "start": "1428559",
    "end": "1431520"
  },
  {
    "text": "of like the ray core worker",
    "start": "1431520",
    "end": "1433520"
  },
  {
    "text": "so what's gonna happen and this core",
    "start": "1433520",
    "end": "1435360"
  },
  {
    "text": "worker is what contains the",
    "start": "1435360",
    "end": "1436880"
  },
  {
    "text": "uh object directory and like the all the",
    "start": "1436880",
    "end": "1439840"
  },
  {
    "text": "information",
    "start": "1439840",
    "end": "1440480"
  },
  {
    "text": "about um each node or each object and",
    "start": "1440480",
    "end": "1443600"
  },
  {
    "text": "where it lives",
    "start": "1443600",
    "end": "1445120"
  },
  {
    "text": "so what we're going to do here is when",
    "start": "1445120",
    "end": "1446799"
  },
  {
    "text": "you call something like combine.remote",
    "start": "1446799",
    "end": "1449360"
  },
  {
    "text": "we're going to take that request and",
    "start": "1449360",
    "end": "1450640"
  },
  {
    "text": "we're going to cue it",
    "start": "1450640",
    "end": "1452640"
  },
  {
    "text": "in a like task queue then as",
    "start": "1452640",
    "end": "1455760"
  },
  {
    "text": "our like calculate gradient operations",
    "start": "1455760",
    "end": "1457600"
  },
  {
    "text": "finish this like directory of all of our",
    "start": "1457600",
    "end": "1459840"
  },
  {
    "text": "objects will begin to be populated",
    "start": "1459840",
    "end": "1461679"
  },
  {
    "text": "and we'll get the node locations that",
    "start": "1461679",
    "end": "1463600"
  },
  {
    "text": "each object live on",
    "start": "1463600",
    "end": "1465360"
  },
  {
    "text": "so once all of these objects have been",
    "start": "1465360",
    "end": "1467679"
  },
  {
    "text": "resolved",
    "start": "1467679",
    "end": "1468880"
  },
  {
    "text": "we'll have all the information we need",
    "start": "1468880",
    "end": "1471120"
  },
  {
    "text": "and we can use a leasing policy that",
    "start": "1471120",
    "end": "1472960"
  },
  {
    "text": "will take into account you know like the",
    "start": "1472960",
    "end": "1474559"
  },
  {
    "text": "that specific task and all of the uh",
    "start": "1474559",
    "end": "1477679"
  },
  {
    "text": "objects it depends on and it'll pick a",
    "start": "1477679",
    "end": "1480080"
  },
  {
    "text": "node um ideally the node that",
    "start": "1480080",
    "end": "1482240"
  },
  {
    "text": "would require downloading the least",
    "start": "1482240",
    "end": "1483600"
  },
  {
    "text": "amount of data um and then we'll queue",
    "start": "1483600",
    "end": "1486720"
  },
  {
    "text": "up a lease request",
    "start": "1486720",
    "end": "1487760"
  },
  {
    "text": "um to send out um and you know like",
    "start": "1487760",
    "end": "1490720"
  },
  {
    "text": "maybe we'll use that lease request",
    "start": "1490720",
    "end": "1492240"
  },
  {
    "text": "but maybe we could also take advantage",
    "start": "1492240",
    "end": "1493760"
  },
  {
    "text": "of the worker reuse policies that we've",
    "start": "1493760",
    "end": "1495760"
  },
  {
    "text": "talked about before",
    "start": "1495760",
    "end": "1498240"
  },
  {
    "text": "okay and then finally uh we'll actually",
    "start": "1498240",
    "end": "1500320"
  },
  {
    "text": "send out that lease request",
    "start": "1500320",
    "end": "1503200"
  },
  {
    "text": "okay um so those were the main",
    "start": "1503200",
    "end": "1505840"
  },
  {
    "text": "optimizations i wanted to talk about",
    "start": "1505840",
    "end": "1507600"
  },
  {
    "text": "with ray um and hopefully that gives you",
    "start": "1507600",
    "end": "1509279"
  },
  {
    "text": "an idea of how the race scheduler works",
    "start": "1509279",
    "end": "1511440"
  },
  {
    "text": "um but i just wanted to quickly",
    "start": "1511440",
    "end": "1512640"
  },
  {
    "text": "summarize uh like what we've talked",
    "start": "1512640",
    "end": "1514320"
  },
  {
    "text": "about today",
    "start": "1514320",
    "end": "1515600"
  },
  {
    "text": "so um hopefully you've seen that like",
    "start": "1515600",
    "end": "1517440"
  },
  {
    "text": "ray can",
    "start": "1517440",
    "end": "1518720"
  },
  {
    "text": "you know speed up your distributed",
    "start": "1518720",
    "end": "1520080"
  },
  {
    "text": "applications and it it has a lot of",
    "start": "1520080",
    "end": "1521679"
  },
  {
    "text": "these optimizations that in other",
    "start": "1521679",
    "end": "1523039"
  },
  {
    "text": "systems you'd have to really think about",
    "start": "1523039",
    "end": "1525120"
  },
  {
    "text": "um or even implement yourself um so",
    "start": "1525120",
    "end": "1528240"
  },
  {
    "text": "we've talked about like worker reuse",
    "start": "1528240",
    "end": "1530159"
  },
  {
    "text": "we've taught we've talked about uh like",
    "start": "1530159",
    "end": "1532000"
  },
  {
    "text": "resource based scheduling",
    "start": "1532000",
    "end": "1533600"
  },
  {
    "text": "we've talked about data locality um and",
    "start": "1533600",
    "end": "1536400"
  },
  {
    "text": "we've",
    "start": "1536400",
    "end": "1536880"
  },
  {
    "text": "sort of shown how ray's architecture can",
    "start": "1536880",
    "end": "1538640"
  },
  {
    "text": "allow you to uh",
    "start": "1538640",
    "end": "1540159"
  },
  {
    "text": "get all these features um with very very",
    "start": "1540159",
    "end": "1542960"
  },
  {
    "text": "little overhead and scheduling",
    "start": "1542960",
    "end": "1544640"
  },
  {
    "text": "uh it's able to do to schedule tasks",
    "start": "1544640",
    "end": "1546559"
  },
  {
    "text": "dynamically",
    "start": "1546559",
    "end": "1548159"
  },
  {
    "text": "um and we can scale up to hundreds of",
    "start": "1548159",
    "end": "1550720"
  },
  {
    "text": "thousands of tasks per second",
    "start": "1550720",
    "end": "1552400"
  },
  {
    "text": "and hopefully even more in the future um",
    "start": "1552400",
    "end": "1556080"
  },
  {
    "text": "and uh so yeah and you know",
    "start": "1556080",
    "end": "1559120"
  },
  {
    "text": "ray is built so that it can work on top",
    "start": "1559120",
    "end": "1560960"
  },
  {
    "text": "of other distributed systems or",
    "start": "1560960",
    "end": "1562880"
  },
  {
    "text": "hopefully even perform",
    "start": "1562880",
    "end": "1564080"
  },
  {
    "text": "improve the performance of some of the",
    "start": "1564080",
    "end": "1565600"
  },
  {
    "text": "systems that you're already used to",
    "start": "1565600",
    "end": "1566880"
  },
  {
    "text": "working with",
    "start": "1566880",
    "end": "1569360"
  },
  {
    "text": "um so you know a couple of takeaways if",
    "start": "1569360",
    "end": "1572320"
  },
  {
    "text": "you know",
    "start": "1572320",
    "end": "1572799"
  },
  {
    "text": "you've you know maybe got lost or",
    "start": "1572799",
    "end": "1575440"
  },
  {
    "text": "stopped paying attention halfway through",
    "start": "1575440",
    "end": "1577200"
  },
  {
    "text": "um you know like a couple of things to",
    "start": "1577200",
    "end": "1579039"
  },
  {
    "text": "probably just really remember",
    "start": "1579039",
    "end": "1580640"
  },
  {
    "text": "so like there are a lot of features",
    "start": "1580640",
    "end": "1582480"
  },
  {
    "text": "we've talked about here um you know if",
    "start": "1582480",
    "end": "1583919"
  },
  {
    "text": "you're considering whether or not you",
    "start": "1583919",
    "end": "1585039"
  },
  {
    "text": "want to use ray like i would highly",
    "start": "1585039",
    "end": "1586320"
  },
  {
    "text": "encourage you to think about these",
    "start": "1586320",
    "end": "1587520"
  },
  {
    "text": "features think about whether or not your",
    "start": "1587520",
    "end": "1589200"
  },
  {
    "text": "workload",
    "start": "1589200",
    "end": "1590080"
  },
  {
    "text": "uh can take advantage of them and you",
    "start": "1590080",
    "end": "1592159"
  },
  {
    "text": "know maybe think about like",
    "start": "1592159",
    "end": "1593440"
  },
  {
    "text": "how you would maybe get some of these",
    "start": "1593440",
    "end": "1595279"
  },
  {
    "text": "features if you were to pick a different",
    "start": "1595279",
    "end": "1596960"
  },
  {
    "text": "distributed system",
    "start": "1596960",
    "end": "1599039"
  },
  {
    "text": "um also you know like we've talked a lot",
    "start": "1599039",
    "end": "1602320"
  },
  {
    "text": "about details here and you know if",
    "start": "1602320",
    "end": "1604000"
  },
  {
    "text": "you're",
    "start": "1604000",
    "end": "1604320"
  },
  {
    "text": "not a distributed systems expert uh",
    "start": "1604320",
    "end": "1606400"
  },
  {
    "text": "these are things that you may not really",
    "start": "1606400",
    "end": "1607760"
  },
  {
    "text": "want to think about",
    "start": "1607760",
    "end": "1608880"
  },
  {
    "text": "um and i think you know like that's one",
    "start": "1608880",
    "end": "1610159"
  },
  {
    "text": "of the things that we work really hard",
    "start": "1610159",
    "end": "1611679"
  },
  {
    "text": "on is to make sure you don't actually",
    "start": "1611679",
    "end": "1613039"
  },
  {
    "text": "have to think about these things so",
    "start": "1613039",
    "end": "1614799"
  },
  {
    "text": "you know hopefully you have a bit of an",
    "start": "1614799",
    "end": "1615919"
  },
  {
    "text": "appreciation for these now but in order",
    "start": "1615919",
    "end": "1618080"
  },
  {
    "text": "to take advantage of all the",
    "start": "1618080",
    "end": "1619120"
  },
  {
    "text": "optimizations we've talked about today",
    "start": "1619120",
    "end": "1620799"
  },
  {
    "text": "all you have to do is use your radar",
    "start": "1620799",
    "end": "1622720"
  },
  {
    "text": "remote decorator that you're already",
    "start": "1622720",
    "end": "1624080"
  },
  {
    "text": "using",
    "start": "1624080",
    "end": "1625200"
  },
  {
    "text": "and all these things are sort of",
    "start": "1625200",
    "end": "1626480"
  },
  {
    "text": "happening under the hood and you know as",
    "start": "1626480",
    "end": "1628000"
  },
  {
    "text": "long as you keep updating to the latest",
    "start": "1628000",
    "end": "1629440"
  },
  {
    "text": "versions of rey",
    "start": "1629440",
    "end": "1630480"
  },
  {
    "text": "these are the types of things that will",
    "start": "1630480",
    "end": "1632080"
  },
  {
    "text": "just improve beneath you uh just because",
    "start": "1632080",
    "end": "1634080"
  },
  {
    "text": "you're using ray",
    "start": "1634080",
    "end": "1635120"
  },
  {
    "text": "and so you don't have to be a",
    "start": "1635120",
    "end": "1636159"
  },
  {
    "text": "distributed systems expert to reap all",
    "start": "1636159",
    "end": "1638080"
  },
  {
    "text": "the benefits",
    "start": "1638080",
    "end": "1639279"
  },
  {
    "text": "um finally uh you know like for the",
    "start": "1639279",
    "end": "1641919"
  },
  {
    "text": "experts out there hopefully like you now",
    "start": "1641919",
    "end": "1643520"
  },
  {
    "text": "have a better understanding of",
    "start": "1643520",
    "end": "1644799"
  },
  {
    "text": "ray um and you can use it to you know",
    "start": "1644799",
    "end": "1647600"
  },
  {
    "text": "improve the applications or libraries",
    "start": "1647600",
    "end": "1649200"
  },
  {
    "text": "you're working on",
    "start": "1649200",
    "end": "1650720"
  },
  {
    "text": "all right uh so that is all i have for",
    "start": "1650720",
    "end": "1653120"
  },
  {
    "text": "you today thank you",
    "start": "1653120",
    "end": "1654720"
  },
  {
    "text": "and i think there's a little bit of",
    "start": "1654720",
    "end": "1655840"
  },
  {
    "text": "remaining time so i'm happy to take some",
    "start": "1655840",
    "end": "1657679"
  },
  {
    "text": "questions now",
    "start": "1657679",
    "end": "1662240"
  }
]