[
  {
    "text": "okay so welcome everyone uh I'm Mark I'm a senior ml engineer at kico and um",
    "start": "2840",
    "end": "8920"
  },
  {
    "text": "first of all I will introduce you a bit to Kao and then I will go into my talk so we are a Dutch switch Swiss skillup",
    "start": "8920",
    "end": "16160"
  },
  {
    "text": "uh founded in 2021 so we're not super old yet we're inter international team of about 60 employees and we focus on",
    "start": "16160",
    "end": "23439"
  },
  {
    "text": "building Foundation models for oncology so for cancer and curing cancer uh furthermore we have a",
    "start": "23439",
    "end": "30199"
  },
  {
    "text": "strategic partnership with the Dutch Cancer Institute and we're also having our office in the",
    "start": "30199",
    "end": "37360"
  },
  {
    "text": "hospital so today I'm going to talk about leveraging Ray in our model development cycle to iterate multimodel",
    "start": "37360",
    "end": "44239"
  },
  {
    "text": "oncology Foundation models in the clinic so first I'll introduce you to",
    "start": "44239",
    "end": "49760"
  },
  {
    "text": "these models and our clinical assistant then I actually take you through how we use Ray in this model",
    "start": "49760",
    "end": "56680"
  },
  {
    "text": "development cycle and finally I'll go over some of the challenges we encountered or are still",
    "start": "56680",
    "end": "62480"
  },
  {
    "text": "facing um but let's start with medical data the",
    "start": "62480",
    "end": "69759"
  },
  {
    "text": "Journey of a uh cancer patient is uh well it basically built around a wide",
    "start": "69759",
    "end": "75840"
  },
  {
    "text": "variety of multimodal data ranging from the text in their electronic health",
    "start": "75840",
    "end": "81200"
  },
  {
    "text": "record to uh MRIs and CT scans from the radiology department but also WSI for",
    "start": "81200",
    "end": "89960"
  },
  {
    "text": "where the pathologist basically looks under the microscope through their cells and all of these different data",
    "start": "89960",
    "end": "97399"
  },
  {
    "text": "silos often uh resonate to a specific specialism in the",
    "start": "97399",
    "end": "104119"
  },
  {
    "text": "hospital for example radiologist as set looked at MRIs a pathologist looks at",
    "start": "104119",
    "end": "110000"
  },
  {
    "text": "wsis and so on however to actually diagnose a patient or come up with a",
    "start": "110000",
    "end": "116200"
  },
  {
    "text": "treatment plan you have to combine these modalities and to together figure out",
    "start": "116200",
    "end": "121479"
  },
  {
    "text": "what's going on and what is the best choice to make so at kico we're on a mission to",
    "start": "121479",
    "end": "129399"
  },
  {
    "text": "provide assistance assistance in the clinic by enabling oncological Foundation models",
    "start": "129399",
    "end": "137319"
  },
  {
    "text": "we work on a variety of models both single model and multimodel that can help various medical",
    "start": "137319",
    "end": "144440"
  },
  {
    "text": "experts in their daily work eventually we work towards",
    "start": "144440",
    "end": "150360"
  },
  {
    "text": "assisting these medical experts in actually curing patients now to actually make this work",
    "start": "150360",
    "end": "157760"
  },
  {
    "text": "we introduce our multimodal assistant it's named Kao insight and it",
    "start": "157760",
    "end": "163879"
  },
  {
    "text": "provides an interface to the insights that are coming from the foundation models to well cure patients so to start",
    "start": "163879",
    "end": "173239"
  },
  {
    "text": "let's have a look at what Geico inside actually does uh",
    "start": "173239",
    "end": "180480"
  },
  {
    "text": "yes so when you open the tool it will event it will load the data and infer",
    "start": "180480",
    "end": "187040"
  },
  {
    "text": "with the models to gain insights on the specific patient that we're looking at so here we see a patient we see some",
    "start": "187040",
    "end": "193400"
  },
  {
    "text": "personal data but we also see some Imaging results some sample information",
    "start": "193400",
    "end": "198519"
  },
  {
    "text": "and well we this is a summary page but actually today I want to focus on the pathologist view which is the view that",
    "start": "198519",
    "end": "205519"
  },
  {
    "text": "the pathologist would open to do their work so here you see a whole slide image with which is an image taken under a",
    "start": "205519",
    "end": "211480"
  },
  {
    "text": "microscope that shows well cells or issue a tissue that has cells in it on",
    "start": "211480",
    "end": "217680"
  },
  {
    "text": "which a pathologist can determine whether tumor is apparent and specific subtypes of that and Well",
    "start": "217680",
    "end": "224959"
  },
  {
    "text": "normally pathologist uses a zoom either under a microscope or in their computer to look in different stages towards the",
    "start": "224959",
    "end": "232280"
  },
  {
    "text": "cell level of these images to determine features of the patient now we enabled AI predictions on",
    "start": "232280",
    "end": "239519"
  },
  {
    "text": "top this helps the pathologist to for example see where the model thinks",
    "start": "239519",
    "end": "244599"
  },
  {
    "text": "there's tumor area apparent but also uh what type of tissue we look at whether",
    "start": "244599",
    "end": "251079"
  },
  {
    "text": "there's metastasis and also showing some confidences to actually know whether to",
    "start": "251079",
    "end": "256320"
  },
  {
    "text": "use these and let's now focus on our multimodo assistance so here we have a",
    "start": "256320",
    "end": "262960"
  },
  {
    "text": "chat which you all know that's the type of AI we use daily and this chat has the",
    "start": "262960",
    "end": "269800"
  },
  {
    "text": "picture the context of the patient and of course really broad range of medical",
    "start": "269800",
    "end": "274919"
  },
  {
    "text": "knowledge now we can ask a question such as whether the model thinks there's vascular invasion in these sections and",
    "start": "274919",
    "end": "282720"
  },
  {
    "text": "given that the model has access to the image the patient data but also all the medical knowledge it can not only answer",
    "start": "282720",
    "end": "289039"
  },
  {
    "text": "the question but also provide assistance on next steps to take now in this example you saw a",
    "start": "289039",
    "end": "297360"
  },
  {
    "text": "vision language model that is trained to understand both the visual context of a",
    "start": "297360",
    "end": "303039"
  },
  {
    "text": "pathological image and the medical context of a patient and the medical",
    "start": "303039",
    "end": "308639"
  },
  {
    "text": "experience of the doctor it had um this this combined",
    "start": "308639",
    "end": "314880"
  },
  {
    "text": "knowledge is normally used by a Pathologists to actually diagnose a patient and that's exactly what this",
    "start": "314880",
    "end": "320960"
  },
  {
    "text": "model now can assist you with so now you have some ideas of the",
    "start": "320960",
    "end": "326360"
  },
  {
    "text": "assistant that we have been building let's take a look what's behind it and what basically how it works technically",
    "start": "326360",
    "end": "333639"
  },
  {
    "text": "so behind all of those features in our assistance we have multimodel Foundation",
    "start": "333639",
    "end": "339080"
  },
  {
    "text": "models or single model Foundation models",
    "start": "339080",
    "end": "344280"
  },
  {
    "text": "and many of those Downstream tasks are driven by these models which are heavy",
    "start": "344840",
    "end": "351000"
  },
  {
    "text": "need resources need computes need to be managed properly and therefore we",
    "start": "351000",
    "end": "356400"
  },
  {
    "text": "leverage Ray and kubernetes to make this setup uh efficient and scale",
    "start": "356400",
    "end": "364160"
  },
  {
    "text": "well so now let's dive into how we use Ray in our model development",
    "start": "364160",
    "end": "370319"
  },
  {
    "text": "cycle so here you see the cycle I meant so",
    "start": "370319",
    "end": "375720"
  },
  {
    "text": "first of all we train a model we then serve it to our clinical assistant and then we validate it in the clinic to",
    "start": "375720",
    "end": "382440"
  },
  {
    "text": "gain insights we train a model uh using raay train where we leverage BYO lightning uh",
    "start": "382440",
    "end": "389039"
  },
  {
    "text": "in AK to utilize gpus in an optimal manner without the engineers having to deal too",
    "start": "389039",
    "end": "394520"
  },
  {
    "text": "much with the infr infrastructure for serving we leverage race serve and we actually serve all our",
    "start": "394520",
    "end": "402080"
  },
  {
    "text": "models through a single application where the application Builder is not",
    "start": "402080",
    "end": "407840"
  },
  {
    "text": "that aware of the applica of the model served it just requests an output from",
    "start": "407840",
    "end": "413120"
  },
  {
    "text": "the model they need and then finally the validation we do with our medical ambassadors at the clinic so so we",
    "start": "413120",
    "end": "419840"
  },
  {
    "text": "actually have our setup working going and look with a pathologist or a radiologist into the different results",
    "start": "419840",
    "end": "427080"
  },
  {
    "text": "to figure out where whether we're doing the right thing so now I'll first dive a bit into",
    "start": "427080",
    "end": "434280"
  },
  {
    "text": "why it's difficult to deploy these models in production so first of all we have to",
    "start": "434280",
    "end": "439759"
  },
  {
    "text": "ensure stable infrastructure and a proper security setup the data in our",
    "start": "439759",
    "end": "445160"
  },
  {
    "text": "system should remain private and it includes many sensitive data of",
    "start": "445160",
    "end": "450800"
  },
  {
    "text": "patients and we have to comply with the local regulations which in our case in the EU are rather",
    "start": "450800",
    "end": "456919"
  },
  {
    "text": "strict and furthermore we need to make sure that the output of the model doesn't actually harm the patient or",
    "start": "456919",
    "end": "463440"
  },
  {
    "text": "well any of the choices the doctor makes furthermore we also need to make sure that our development cycle is consistent",
    "start": "463440",
    "end": "470680"
  },
  {
    "text": "efficient and as much as possible automated so we so that our Engineers can do their",
    "start": "470680",
    "end": "477400"
  },
  {
    "text": "job next off is Model Management we need to make sure that in this cycle the",
    "start": "477400",
    "end": "484199"
  },
  {
    "text": "right models are used at the right time the version need to align and the models need to be kept up to date with the",
    "start": "484199",
    "end": "490520"
  },
  {
    "text": "latest relevant versions furthermore we need to make sure that performance is staying as expected and is not drifting",
    "start": "490520",
    "end": "497440"
  },
  {
    "text": "up off in production F next to that we also need",
    "start": "497440",
    "end": "502680"
  },
  {
    "text": "to make sure that in the different uh environments that we are using our models both the data and the model",
    "start": "502680",
    "end": "510080"
  },
  {
    "text": "versioning is similar and that Engineers can actually sort of expect that",
    "start": "510080",
    "end": "515719"
  },
  {
    "text": "everything works as they expect it to work and uh next to this we as well",
    "start": "515719",
    "end": "523279"
  },
  {
    "text": "basically platform building team building a stack but we're collaborating with a multidisiplinary set of teams",
    "start": "523279",
    "end": "530160"
  },
  {
    "text": "where people both train models and also test them with the medical experts this",
    "start": "530160",
    "end": "535760"
  },
  {
    "text": "means that we have on the one hand Engineers that are very in-depth known about have a broad knowledge about the",
    "start": "535760",
    "end": "542240"
  },
  {
    "text": "tool set and know what they want but we also have people that just need a model",
    "start": "542240",
    "end": "547800"
  },
  {
    "text": "to work and to get quick insights in the clinic so on the one hand we need to make sure our setup is customizable and",
    "start": "547800",
    "end": "554519"
  },
  {
    "text": "the engineers are not complaining too much that they're restricted but on the other hand we also need to make sure",
    "start": "554519",
    "end": "560000"
  },
  {
    "text": "that the less technically involved Engineers can do their work quickly and are not running into issues in the",
    "start": "560000",
    "end": "565839"
  },
  {
    "text": "clinic to make sure the wheel isn't reinvented we also want to make sure that models are",
    "start": "565839",
    "end": "571720"
  },
  {
    "text": "discoverable and that features can be reused so that our Engineers are not doing double",
    "start": "571720",
    "end": "577000"
  },
  {
    "text": "work but this talks about General cases that every company deals with let's now",
    "start": "577000",
    "end": "582120"
  },
  {
    "text": "also go a bit into our setup in the clinic and why that's even more",
    "start": "582120",
    "end": "588160"
  },
  {
    "text": "difficult so first of all these data restrictions as I said our data is",
    "start": "588160",
    "end": "593519"
  },
  {
    "text": "rather sensitive and therefore with the current hospitals we work they don't want the data to leave their tenants",
    "start": "593519",
    "end": "599760"
  },
  {
    "text": "this brings the problem that we have to work with their own premise systems and bring our models and compute to their",
    "start": "599760",
    "end": "607399"
  },
  {
    "text": "site um furthermore data access is strictly managed so it is on even a user",
    "start": "607399",
    "end": "613440"
  },
  {
    "text": "level managed who can see what data from which patient and that also means that for our Engineers it's very strictly",
    "start": "613440",
    "end": "620200"
  },
  {
    "text": "managed which team can train data and therefore Which models can expect which",
    "start": "620200",
    "end": "626680"
  },
  {
    "text": "data uh second of all we need to integrate with their systems not only their on premise infrastructure but also",
    "start": "626680",
    "end": "634360"
  },
  {
    "text": "the internal systems and the data models they use this means that for every other",
    "start": "634360",
    "end": "639920"
  },
  {
    "text": "client you need a new transformation layer to make sure that our assistant can work with the different data silos",
    "start": "639920",
    "end": "646600"
  },
  {
    "text": "in their hospital and that we actually have a good understanding and alignment on what the data models actually",
    "start": "646600",
    "end": "653680"
  },
  {
    "text": "mean um next to this we run it on their infrastructure we have to deal with",
    "start": "653680",
    "end": "660120"
  },
  {
    "text": "their resources U budgets are not as Loose as in for example our own site or",
    "start": "660120",
    "end": "667200"
  },
  {
    "text": "well many of the big companies that we have seen in the last days so we have be be very strict with running gpus and",
    "start": "667200",
    "end": "674160"
  },
  {
    "text": "serving models often have to scale down to zero so that we don't use them too much and then finally uh let's talk a",
    "start": "674160",
    "end": "682320"
  },
  {
    "text": "little bit about certification as you might know in the medical setup there is",
    "start": "682320",
    "end": "687639"
  },
  {
    "text": "a lot more restrictions in terms of what you can do with a model in production this is regulated by the MDR in the EU",
    "start": "687639",
    "end": "694240"
  },
  {
    "text": "or the FDA in the US and this means that it once you",
    "start": "694240",
    "end": "700040"
  },
  {
    "text": "actually your model actually influences choices that have affected patient you first have to get certified for us this",
    "start": "700040",
    "end": "707519"
  },
  {
    "text": "means that in our development cycle we also try to find how we can phrase our",
    "start": "707519",
    "end": "712600"
  },
  {
    "text": "model and our assistant to not influence the patient outcomes yet so that we can",
    "start": "712600",
    "end": "719040"
  },
  {
    "text": "quick quickly iterate without having to get certifications on anything of everything we",
    "start": "719040",
    "end": "725360"
  },
  {
    "text": "do so now let's uh have a look at our training setup so when we designed this setup we",
    "start": "725800",
    "end": "733440"
  },
  {
    "text": "kept three design principles in mind first of all reproducibility so that we",
    "start": "733440",
    "end": "738920"
  },
  {
    "text": "can audit any run we do and we can also reproduce anything that has been",
    "start": "738920",
    "end": "746079"
  },
  {
    "text": "run second of all traceability as I said we need to manage the data",
    "start": "746079",
    "end": "752600"
  },
  {
    "text": "access so we want Insight in who accessed which data but also what data",
    "start": "752600",
    "end": "758199"
  },
  {
    "text": "was used to train which model and finally to make sure that with",
    "start": "758199",
    "end": "763720"
  },
  {
    "text": "all these stri this strictness our Engineers are not annoyed too much we want to keep in mind the path of least",
    "start": "763720",
    "end": "771120"
  },
  {
    "text": "resistance this yeah to satisfy our Engineers but also to overcome unnecessary",
    "start": "771120",
    "end": "777839"
  },
  {
    "text": "blockers so this is an overview of our training setup and it might be difficult to look",
    "start": "777839",
    "end": "784120"
  },
  {
    "text": "from this slide I will dive in some of the details in the pre in the next slides but one thing I want you to",
    "start": "784120",
    "end": "790000"
  },
  {
    "text": "remember is that in our production setup we have a single Ray cluster for a single team this way we can manage the",
    "start": "790000",
    "end": "797240"
  },
  {
    "text": "data access per team and we can also manage the cluster access on a user",
    "start": "797240",
    "end": "804680"
  },
  {
    "text": "level so let's have a first look at the audit Trail so to make sure that we can actually",
    "start": "804680",
    "end": "811160"
  },
  {
    "text": "reproduce what is happening and Trace what has been going on we audit every",
    "start": "811160",
    "end": "816519"
  },
  {
    "text": "run we do and this this audit includes for example which user run this dat uh",
    "start": "816519",
    "end": "822079"
  },
  {
    "text": "this job but also what data was accessed and finally which runtime environment",
    "start": "822079",
    "end": "827680"
  },
  {
    "text": "was used to actually make this work then the data access as mentioned",
    "start": "827680",
    "end": "834680"
  },
  {
    "text": "for every cluster we have a managed identity that is then saying that this cluster can use this managed identity to",
    "start": "834680",
    "end": "841680"
  },
  {
    "text": "access data in our storage on the data set level we now have access rules which",
    "start": "841680",
    "end": "847639"
  },
  {
    "text": "Define that for example a certain managed identity can read certain data set or even write certain data set and",
    "start": "847639",
    "end": "855399"
  },
  {
    "text": "in this way we can very specifically tra track which cluster can access which",
    "start": "855399",
    "end": "860759"
  },
  {
    "text": "data set and now coming to actually easing the lives of our Engineers we have",
    "start": "860759",
    "end": "867360"
  },
  {
    "text": "introduced Kray this is an tool that basically reps the ray CLI tool to make",
    "start": "867360",
    "end": "874959"
  },
  {
    "text": "sure that an engineer that wants to access a cluster can actually access it for this we Leverage The Ray job submit",
    "start": "874959",
    "end": "882759"
  },
  {
    "text": "hook to first sign into to entry ID make sure this user has access to the cluster",
    "start": "882759",
    "end": "888959"
  },
  {
    "text": "and when it has access we authorize it and we forward the job and if the user is not allowed to see the cluster we",
    "start": "888959",
    "end": "895440"
  },
  {
    "text": "actually prevent it and well stop the user from doing",
    "start": "895440",
    "end": "901360"
  },
  {
    "text": "this another step we took to ease the life of our Engineers is an environment resolver so at kico we work with a monor",
    "start": "901920",
    "end": "908880"
  },
  {
    "text": "repo which has a lot of external and intern internal dependencies so when an",
    "start": "908880",
    "end": "915480"
  },
  {
    "text": "engineer wants to run a job actually figuring out what are the dependencies and what are the local dependencies is",
    "start": "915480",
    "end": "920759"
  },
  {
    "text": "quite a pain furthermore we use pant build to manage all this work in the",
    "start": "920759",
    "end": "926120"
  },
  {
    "text": "monor repo and on top of this we have runtime environment resolver that basically given user wants to run",
    "start": "926120",
    "end": "933440"
  },
  {
    "text": "certain scripts we figure out what are the dependencies what is the optimal environment and forward this to the",
    "start": "933440",
    "end": "939839"
  },
  {
    "text": "cluster so that every run has an optimal environment and different user can users",
    "start": "939839",
    "end": "945839"
  },
  {
    "text": "can run very different jobs on the same cluster then finally a short note on our",
    "start": "945839",
    "end": "953199"
  },
  {
    "text": "development setup here to actually test different things out and make sure that",
    "start": "953199",
    "end": "958959"
  },
  {
    "text": "Engineers can also Test new things on Ray we allow every engineer to host their own cluster using Helm and just",
    "start": "958959",
    "end": "965839"
  },
  {
    "text": "basically spin up a new cluster to test certain things however this setup only has access to development or public data",
    "start": "965839",
    "end": "973560"
  },
  {
    "text": "So to avoid actually Engineers just doing random stuff with our production",
    "start": "973560",
    "end": "978839"
  },
  {
    "text": "patient data so now that we have train a model and are interested in the clinical",
    "start": "978839",
    "end": "985440"
  },
  {
    "text": "performance let's deploy it in our surf application whereas training happened on our own",
    "start": "985440",
    "end": "991279"
  },
  {
    "text": "tenants in our own private environment the models are served on the hospitals",
    "start": "991279",
    "end": "996839"
  },
  {
    "text": "tenants which actually includes some additional difficulties so let's go over",
    "start": "996839",
    "end": "1002160"
  },
  {
    "text": "these difficulties and requirements first before diving into the setup so like in the training setup it's",
    "start": "1002160",
    "end": "1010720"
  },
  {
    "text": "important that we ensure the security at reliability best practices given that",
    "start": "1010720",
    "end": "1015759"
  },
  {
    "text": "now pii data is actually entering our setup we should be really sure that it's",
    "start": "1015759",
    "end": "1021279"
  },
  {
    "text": "secure and up to date with the latest standards and furthermore medical",
    "start": "1021279",
    "end": "1026720"
  },
  {
    "text": "experts are well testing but also potentially now making decisions with the outcomes of this tool so we need to",
    "start": "1026720",
    "end": "1033678"
  },
  {
    "text": "make sure that the expected outcomes of the model are actually shown and nothing is difficult different than",
    "start": "1033679",
    "end": "1041000"
  },
  {
    "text": "expected then as said before we need to manage GPU resources so we rely on the",
    "start": "1041039",
    "end": "1047880"
  },
  {
    "text": "hospital client spe their specific setup and therefore either their on premise system or their private",
    "start": "1047880",
    "end": "1054840"
  },
  {
    "text": "Cloud their budgets are often not super high and uh yeah to make this work we",
    "start": "1054840",
    "end": "1061919"
  },
  {
    "text": "have been doing a lot of work in optimizing scaling from zero but yeah this mainly led to many discussions so",
    "start": "1061919",
    "end": "1068440"
  },
  {
    "text": "far and how can we really optimally make sure that models are available but gpus",
    "start": "1068440",
    "end": "1073480"
  },
  {
    "text": "are only running when they're required to well basically make sure we don't spend too much",
    "start": "1073480",
    "end": "1079640"
  },
  {
    "text": "and then finally we want to make sure that we allow for sort of smooth transitioning to the production SL",
    "start": "1079640",
    "end": "1085600"
  },
  {
    "text": "clinical side um for this we oned the self-surface system in which a data",
    "start": "1085600",
    "end": "1092280"
  },
  {
    "text": "scientist or engineer can basically add their model to the config of the application and by pushing this config",
    "start": "1092280",
    "end": "1100000"
  },
  {
    "text": "to the to the production site actually enabled our model this uh allows for an",
    "start": "1100000",
    "end": "1106159"
  },
  {
    "text": "easy transition and this also means that the engine doesn't have to fully understand the serving",
    "start": "1106159",
    "end": "1111640"
  },
  {
    "text": "stack we have a very flexible model back end to make this work and we also set up an internal model storage so that they",
    "start": "1111640",
    "end": "1118760"
  },
  {
    "text": "basically only have to add their model to the model storage and can push it to",
    "start": "1118760",
    "end": "1125080"
  },
  {
    "text": "production now let's first have a look at the infrastructure around our surf app so we host our app in AKs uh where",
    "start": "1125080",
    "end": "1133159"
  },
  {
    "text": "we deploy Cube Ray and we have access to both CPU and GPU node pools um",
    "start": "1133159",
    "end": "1139880"
  },
  {
    "text": "each worker and or we then deploy race surf with a head Noe that runs on CPU",
    "start": "1139880",
    "end": "1145080"
  },
  {
    "text": "and basically is a router to write to Route the call to a model to the right model in the right worker each worker",
    "start": "1145080",
    "end": "1153039"
  },
  {
    "text": "has a specific uh Docker image that is basically forming the set of dependencies that specific model needs",
    "start": "1153039",
    "end": "1159440"
  },
  {
    "text": "and has access to gpus when required furthermore the access to data",
    "start": "1159440",
    "end": "1165360"
  },
  {
    "text": "and models is again managed using managed identities to make sure that",
    "start": "1165360",
    "end": "1170880"
  },
  {
    "text": "this the worker can reach the model and can also reach data that is potentially",
    "start": "1170880",
    "end": "1176880"
  },
  {
    "text": "required to uh serve the uh the request now let's see how that actually",
    "start": "1176880",
    "end": "1184360"
  },
  {
    "text": "works in the race surf application so as set we have kico inside which behind it",
    "start": "1184360",
    "end": "1190200"
  },
  {
    "text": "are our foundation models now to actually call a foundation model we first get a call to our head",
    "start": "1190200",
    "end": "1196679"
  },
  {
    "text": "which then routes the call to the right model every model type you can think of",
    "start": "1196679",
    "end": "1203159"
  },
  {
    "text": "as a different backend so you could have Transformers or you could have flm or you could have something",
    "start": "1203159",
    "end": "1210120"
  },
  {
    "text": "customized so that so each different model type has",
    "start": "1210120",
    "end": "1215480"
  },
  {
    "text": "custom dependency set a custom wave model loading and a their own inference",
    "start": "1215480",
    "end": "1220720"
  },
  {
    "text": "logic however for each model type you may have several models you for example could have different uh language models",
    "start": "1220720",
    "end": "1227280"
  },
  {
    "text": "of different sizes and to make sure that the right model is running in the right situation with the",
    "start": "1227280",
    "end": "1234520"
  },
  {
    "text": "right number of workers we do autoscaling and resource man Management on the model",
    "start": "1234520",
    "end": "1241240"
  },
  {
    "text": "level furthermore as said uh we use our internal sto storage to Simply download",
    "start": "1241240",
    "end": "1247120"
  },
  {
    "text": "the model to the right worker without any overhead from any of the",
    "start": "1247120",
    "end": "1252360"
  },
  {
    "text": "engineers so let's take a quick look at what that means in terms of onboarding a new model so we see models as an asset",
    "start": "1252360",
    "end": "1261280"
  },
  {
    "text": "indexer which actually means that we see a model as a similar thing as a data set",
    "start": "1261280",
    "end": "1267960"
  },
  {
    "text": "so once a model is trained an engineer makes it an asset in our Dexter setup and this makes it makes it accessible in",
    "start": "1267960",
    "end": "1274960"
  },
  {
    "text": "the model storage now the next step is for the engineer to figure out whether the right",
    "start": "1274960",
    "end": "1280039"
  },
  {
    "text": "worker type is available so that they can actually uh get the the model type",
    "start": "1280039",
    "end": "1285880"
  },
  {
    "text": "in our setup this is found in the ation and it's basically a simple config which",
    "start": "1285880",
    "end": "1291559"
  },
  {
    "text": "states that well there is a certain name for the model and the they can find back",
    "start": "1291559",
    "end": "1298240"
  },
  {
    "text": "what that model type represents in terms of dependencies and then finally they add the model to the uh to the model config",
    "start": "1298240",
    "end": "1306080"
  },
  {
    "text": "of the application which basically just adds a simple model name which version to use of that model and what deployment",
    "start": "1306080",
    "end": "1314080"
  },
  {
    "text": "type does this model actually use that's enough for an engineer to add model to",
    "start": "1314080",
    "end": "1319279"
  },
  {
    "text": "our surf stack so once that's running and the",
    "start": "1319279",
    "end": "1324880"
  },
  {
    "text": "clinical assistant has access to the model we can go to the clinic and sit with the medical experts to validate how",
    "start": "1324880",
    "end": "1331600"
  },
  {
    "text": "the model does and whether it does as expected for them so we do validation on multiple",
    "start": "1331600",
    "end": "1338320"
  },
  {
    "text": "levels uh and we leverage different approaches in this so first of all we do clinical validation where we primarily",
    "start": "1338320",
    "end": "1344960"
  },
  {
    "text": "focus on understanding is the is the model doing what the clinician wants it to do so",
    "start": "1344960",
    "end": "1351840"
  },
  {
    "text": "does it assist on the right things this also involved validating the features in",
    "start": "1351840",
    "end": "1357360"
  },
  {
    "text": "our app but it's a really interesting way of actually getting an Insight in how does the model perform and if it",
    "start": "1357360",
    "end": "1364320"
  },
  {
    "text": "makes a mistake is it a very severe mistake or is it actually something the clinician doesn't care about at",
    "start": "1364320",
    "end": "1369600"
  },
  {
    "text": "all because then in another uh the other side of our validation is more focused on the general evaluation of the models",
    "start": "1369600",
    "end": "1377559"
  },
  {
    "text": "here we Leverage LS to actually scale our evaluation but here it's sometimes very difficult to see how severe the",
    "start": "1377559",
    "end": "1385159"
  },
  {
    "text": "errors made are for the clinical output and what we so basically do with",
    "start": "1385159",
    "end": "1393360"
  },
  {
    "text": "these two model um modes of validation is we take the insights from the clinical validation and the data from",
    "start": "1393360",
    "end": "1400880"
  },
  {
    "text": "the actual llm evaluation and feed this back into the training Loop to further improve our models",
    "start": "1400880",
    "end": "1409440"
  },
  {
    "text": "so this concludes our model development cycle now uh let's dive a bit into the",
    "start": "1409520",
    "end": "1414720"
  },
  {
    "text": "challenges we faced uh some of the challenges we've solved with Ray some which we solved around it and some that",
    "start": "1414720",
    "end": "1421919"
  },
  {
    "text": "we're still facing so let's first dive into the two main uh challenges that we solved using",
    "start": "1421919",
    "end": "1429200"
  },
  {
    "text": "Ray so first of all that's the scaling from zero I've mentioned it before but in our clinical setup the budgets are",
    "start": "1429200",
    "end": "1436880"
  },
  {
    "text": "limited so we need to make sure that gpus are not running all the time and they're really available when they",
    "start": "1436880",
    "end": "1443039"
  },
  {
    "text": "need to be available so for this we use the autoscaler config and uh actually in",
    "start": "1443039",
    "end": "1448240"
  },
  {
    "text": "our setup right now most models are skilled down to zero most of the time and they're up when the clinician needs",
    "start": "1448240",
    "end": "1454919"
  },
  {
    "text": "them one thing we still struggle with is startup time we'll come back to that",
    "start": "1454919",
    "end": "1460200"
  },
  {
    "text": "next to this we wanted to make sure that our whole cycle can be is easily accessible for all the engineers so that",
    "start": "1460200",
    "end": "1467600"
  },
  {
    "text": "both for trade and for serving they can use the different tools without a lot of",
    "start": "1467600",
    "end": "1472840"
  },
  {
    "text": "resistance for this we for example have a Dev setup where each engineer can test",
    "start": "1472840",
    "end": "1478320"
  },
  {
    "text": "out different things in their own clusters but we also have Kray so that they can easily access the production",
    "start": "1478320",
    "end": "1484640"
  },
  {
    "text": "clusters furthermore we have an easy onboarding setup for our surfing setup so that anyone can easily enter of add a",
    "start": "1484640",
    "end": "1492520"
  },
  {
    "text": "new model then some challenges we solved working around Ray and interesting ly",
    "start": "1492520",
    "end": "1498880"
  },
  {
    "text": "these sort of came back the last days also in other talks so the first thing",
    "start": "1498880",
    "end": "1505240"
  },
  {
    "text": "we needed to solve was actually authentication and arback support uh in general Ray clusters are accessible to",
    "start": "1505240",
    "end": "1512120"
  },
  {
    "text": "anyone and we needed to put the ray end points behind protected ingresses um we used the ray job submit",
    "start": "1512120",
    "end": "1519440"
  },
  {
    "text": "hook for this and well that's eventually solved by Ray but it took us quite a",
    "start": "1519440",
    "end": "1524600"
  },
  {
    "text": "while to figure this out and actually finding it in the ray docks was a quite a struggle next to this we introduce Kray",
    "start": "1524600",
    "end": "1532399"
  },
  {
    "text": "for easier easier interaction of our development uh developers with the production setup um this adds runtime",
    "start": "1532399",
    "end": "1540120"
  },
  {
    "text": "environment resolving uh user management and traceability and finally we added Ray to",
    "start": "1540120",
    "end": "1546760"
  },
  {
    "text": "our logging stack and for this we leverage fluent bit so as you probably know Ray writes logs to a bunch of files",
    "start": "1546760",
    "end": "1556240"
  },
  {
    "text": "and uh yeah you need to make sure that these logs actually end up in your stack so we added a side card that basically",
    "start": "1556240",
    "end": "1562360"
  },
  {
    "text": "subscribes to the different files and forwards it to the stack one thing we still uh struggle",
    "start": "1562360",
    "end": "1568840"
  },
  {
    "text": "with sometimes with Ray is that there is a lot of logging but it happens in a lot of different places and while the team",
    "start": "1568840",
    "end": "1575720"
  },
  {
    "text": "that works a lot with Ray has a good understanding of what to find where the engineers that just want to do their",
    "start": "1575720",
    "end": "1581600"
  },
  {
    "text": "daily job or the data scientist that wants to deploy a model has quite an issue in finding back the right logs at",
    "start": "1581600",
    "end": "1587440"
  },
  {
    "text": "the right time to quickly debug then I want to shortly go over two",
    "start": "1587440",
    "end": "1594159"
  },
  {
    "text": "open challenges that we still face that yeah might be interesting you might have a interesting answer for us but I wanted",
    "start": "1594159",
    "end": "1601039"
  },
  {
    "text": "to share so the initial uh challenge that we actually faced for the past year",
    "start": "1601039",
    "end": "1609080"
  },
  {
    "text": "is one that's not completely related to Ray but it's more related to CU pray we",
    "start": "1609080",
    "end": "1614480"
  },
  {
    "text": "deal with very large models and large data sets which require access to to additional disc space but they need to",
    "start": "1614480",
    "end": "1620559"
  },
  {
    "text": "be close to the gpus however to provision a local disc",
    "start": "1620559",
    "end": "1626440"
  },
  {
    "text": "CU bra needs to know on which note a worker is going to run and the same holds to basically uh",
    "start": "1626440",
    "end": "1635000"
  },
  {
    "text": "to uh format a dis the cubr needs to know which dis is going to be used this",
    "start": "1635000",
    "end": "1641799"
  },
  {
    "text": "leads to a bit of a chicken egg problem where you either know the disc or you know the note but you never know exactly",
    "start": "1641799",
    "end": "1648640"
  },
  {
    "text": "you cannot say basically they're together um we've been trying to solve this first with people from Azure as",
    "start": "1648640",
    "end": "1654320"
  },
  {
    "text": "it's seems to be more of an AKs problem uh but also trying to talk with the ray team but so far uh there's not been a",
    "start": "1654320",
    "end": "1661679"
  },
  {
    "text": "really proper solution found we currently solve it by basically provisioning a note and then on Startup",
    "start": "1661679",
    "end": "1668519"
  },
  {
    "text": "time running a script to make sure okay that we actually provision the right dis and assign it to that worker but this is",
    "start": "1668519",
    "end": "1675919"
  },
  {
    "text": "requires admin access to the worker which is something you well likely don't",
    "start": "1675919",
    "end": "1681320"
  },
  {
    "text": "want um and then well as mentioned before one thing we still F phase is",
    "start": "1681320",
    "end": "1686919"
  },
  {
    "text": "startup time when scaling from zero um we run our most of for most clients we",
    "start": "1686919",
    "end": "1693840"
  },
  {
    "text": "run in Azure APS so we first need to provision a note which sometimes takes",
    "start": "1693840",
    "end": "1699360"
  },
  {
    "text": "up to six minutes then we need to pull a Docker image to that note to actually make sure that the right Docker image is",
    "start": "1699360",
    "end": "1706679"
  },
  {
    "text": "found to run the process and then we still need to load it load the model into the GPU so worst case scenario",
    "start": "1706679",
    "end": "1714559"
  },
  {
    "text": "there is a lot of downtime here um and yeah this is something we will be",
    "start": "1714559",
    "end": "1719640"
  },
  {
    "text": "working on to solve over the next months because this is one of our well main challenges so",
    "start": "1719640",
    "end": "1725880"
  },
  {
    "text": "um so to conclude at Geo we build multimodal clinical assistant using our",
    "start": "1725880",
    "end": "1733080"
  },
  {
    "text": "oncological foundation model we leverage Ray both in our training and surfing",
    "start": "1733080",
    "end": "1738200"
  },
  {
    "text": "setup and well Ray helped us to overcome many of the challenges but we still face",
    "start": "1738200",
    "end": "1743480"
  },
  {
    "text": "certain several so uh yeah thank you and",
    "start": "1743480",
    "end": "1748919"
  },
  {
    "text": "uh let's continue the",
    "start": "1748919",
    "end": "1751840"
  },
  {
    "text": "[Applause]",
    "start": "1755260",
    "end": "1758420"
  },
  {
    "text": "conversation yeah I I like to get dong on the stage as well he is my he's the one who worked more on train so we can",
    "start": "1761840",
    "end": "1768840"
  },
  {
    "text": "both answer hey great talk um you mentioned that you do most of your",
    "start": "1768840",
    "end": "1774000"
  },
  {
    "text": "training on AKs is that because of HIPPA",
    "start": "1774000",
    "end": "1779840"
  },
  {
    "text": "restrictions [Music] or so I'm curious if you if you chose",
    "start": "1779840",
    "end": "1786240"
  },
  {
    "text": "AKs because of HIPPA restrictions or you use um you plan to use other Cloud",
    "start": "1786240",
    "end": "1791559"
  },
  {
    "text": "providers as well H you you go I'm so to repeat the question so you're asking why",
    "start": "1791559",
    "end": "1797399"
  },
  {
    "text": "we chose a right um so it's mostly our necessity so our client most of our",
    "start": "1797399",
    "end": "1803440"
  },
  {
    "text": "client use AKs so we chose that as well our necessity but we do have plan to",
    "start": "1803440",
    "end": "1809159"
  },
  {
    "text": "support um whatever cloud provider that our client will have yeah as because as",
    "start": "1809159",
    "end": "1814559"
  },
  {
    "text": "Mark already show uh a lot of this uh on premise requirement exist in hospital in",
    "start": "1814559",
    "end": "1819960"
  },
  {
    "text": "Europe yeah yeah and one thing we also for specific now larger trainings we also are onboarding a new cluster that's",
    "start": "1819960",
    "end": "1827320"
  },
  {
    "text": "external so not one of the big clouds but yeah that's also one of the solutions we took to fix this thank",
    "start": "1827320",
    "end": "1836679"
  },
  {
    "text": "you uh great presentation can you speak a little bit about the model architecture like are you guys using",
    "start": "1842480",
    "end": "1848240"
  },
  {
    "text": "something off the shelf and customizing are you guys using DP or Megatron to train like just a little bit more information yeah um yeah I can talk a",
    "start": "1848240",
    "end": "1855000"
  },
  {
    "text": "bit about that so on the one hand uh for example for the model for the example you saw with the vision language model",
    "start": "1855000",
    "end": "1861120"
  },
  {
    "text": "we uh leverag the lava architecture and there the vision encoder is Our Own",
    "start": "1861120",
    "end": "1868159"
  },
  {
    "text": "Foundation model which is actually a public model I don't have a link to it there but if you yeah we published the",
    "start": "1868159",
    "end": "1874320"
  },
  {
    "text": "model I think a year ago and then the text encoder is a have to I'm not 100%",
    "start": "1874320",
    "end": "1881880"
  },
  {
    "text": "because I have not been involved with the training but it is a uh medic medical language model mainly trained on",
    "start": "1881880",
    "end": "1888039"
  },
  {
    "text": "poat uh resources and then for those two models a TCH and vision are you training foundationally or are you only have the",
    "start": "1888039",
    "end": "1894840"
  },
  {
    "text": "yeah so so the foundation model is completely trained on internal private whight images and the text is so is it I",
    "start": "1894840",
    "end": "1903960"
  },
  {
    "text": "think it is a language model for fine tuned on pmat and then fine tuned on",
    "start": "1903960",
    "end": "1909000"
  },
  {
    "text": "internal more Dutch language as well CU many of the reports are in Dutch so",
    "start": "1909000",
    "end": "1914600"
  },
  {
    "text": "that's uh yeah can you share how how large your compute Fleet is for training the foundation how big the your compute",
    "start": "1914600",
    "end": "1921480"
  },
  {
    "text": "Fleet is for training the foundation model um so maybe you can yeah so um so",
    "start": "1921480",
    "end": "1926960"
  },
  {
    "text": "the question is how big is our um like basically uh comu resources right so we uh we recently acquired um 64",
    "start": "1926960",
    "end": "1936000"
  },
  {
    "text": "GBU from a note of uh H1 100",
    "start": "1936000",
    "end": "1941919"
  },
  {
    "text": "yeah any other question otherwise yeah thank you",
    "start": "1945559",
    "end": "1951919"
  },
  {
    "text": "[Applause]",
    "start": "1954020",
    "end": "1957200"
  }
]