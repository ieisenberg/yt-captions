[
  {
    "text": "hi everyone",
    "start": "3439",
    "end": "4240"
  },
  {
    "text": "thanks for joining so today we're going",
    "start": "4240",
    "end": "6319"
  },
  {
    "text": "to talk about how",
    "start": "6319",
    "end": "7600"
  },
  {
    "text": "we integrated rey into linkedin stack in",
    "start": "7600",
    "end": "10480"
  },
  {
    "text": "some ways",
    "start": "10480",
    "end": "11120"
  },
  {
    "text": "that we've applied ray to linkedin's",
    "start": "11120",
    "end": "13679"
  },
  {
    "text": "machine learning use cases",
    "start": "13679",
    "end": "17920"
  },
  {
    "text": "so i'm jonathan i'm an engineer on the",
    "start": "18160",
    "end": "20480"
  },
  {
    "text": "deep learning infrastructure team at",
    "start": "20480",
    "end": "22240"
  },
  {
    "text": "linkedin",
    "start": "22240",
    "end": "23119"
  },
  {
    "text": "i'll be covering the first half of this",
    "start": "23119",
    "end": "24800"
  },
  {
    "text": "talk about linkedin's offline machine",
    "start": "24800",
    "end": "27039"
  },
  {
    "text": "learning infrastructure",
    "start": "27039",
    "end": "28240"
  },
  {
    "text": "and how we run rey on hadoop and then",
    "start": "28240",
    "end": "30880"
  },
  {
    "text": "i'll pass it over to my teammate nitin",
    "start": "30880",
    "end": "33040"
  },
  {
    "text": "who will talk about how we use ray for",
    "start": "33040",
    "end": "35360"
  },
  {
    "text": "hyperparameter tuning",
    "start": "35360",
    "end": "38480"
  },
  {
    "text": "so the agenda for this talk is we'll",
    "start": "39120",
    "end": "41440"
  },
  {
    "text": "first go over",
    "start": "41440",
    "end": "44480"
  },
  {
    "text": "linkedin's offline machine learning",
    "start": "44640",
    "end": "46320"
  },
  {
    "text": "infrastructure",
    "start": "46320",
    "end": "47680"
  },
  {
    "text": "then we'll talk about some platforms",
    "start": "47680",
    "end": "49520"
  },
  {
    "text": "that we built",
    "start": "49520",
    "end": "50719"
  },
  {
    "text": "on top of hadoop that we use to run",
    "start": "50719",
    "end": "53760"
  },
  {
    "text": "distributed ray clusters",
    "start": "53760",
    "end": "55840"
  },
  {
    "text": "and then at the end we'll talk about how",
    "start": "55840",
    "end": "58559"
  },
  {
    "text": "we use",
    "start": "58559",
    "end": "58960"
  },
  {
    "text": "ray for hyper parameter tuning",
    "start": "58960",
    "end": "62480"
  },
  {
    "text": "so linkedin's vision is to create a",
    "start": "63440",
    "end": "65760"
  },
  {
    "text": "economic opportunity for every member of",
    "start": "65760",
    "end": "68000"
  },
  {
    "text": "the global workforce",
    "start": "68000",
    "end": "69520"
  },
  {
    "text": "to do this we have a large data lake to",
    "start": "69520",
    "end": "71760"
  },
  {
    "text": "draw on",
    "start": "71760",
    "end": "72799"
  },
  {
    "text": "hundreds of millions of members dozens",
    "start": "72799",
    "end": "75280"
  },
  {
    "text": "of millions of companies",
    "start": "75280",
    "end": "76880"
  },
  {
    "text": "that we can use to extract insights for",
    "start": "76880",
    "end": "79360"
  },
  {
    "text": "our members",
    "start": "79360",
    "end": "81840"
  },
  {
    "text": "so to better connect people with their",
    "start": "82799",
    "end": "85280"
  },
  {
    "text": "next opportunity",
    "start": "85280",
    "end": "86320"
  },
  {
    "text": "we have many platforms that we can use",
    "start": "86320",
    "end": "89200"
  },
  {
    "text": "to derive insights from",
    "start": "89200",
    "end": "91040"
  },
  {
    "text": "such as people you may know for",
    "start": "91040",
    "end": "93040"
  },
  {
    "text": "recommending",
    "start": "93040",
    "end": "94320"
  },
  {
    "text": "connections to members",
    "start": "94320",
    "end": "97600"
  },
  {
    "text": "feed recommendations jobs you may be",
    "start": "98079",
    "end": "100720"
  },
  {
    "text": "interested",
    "start": "100720",
    "end": "101439"
  },
  {
    "text": "and other use cases which we can use to",
    "start": "101439",
    "end": "105040"
  },
  {
    "text": "recommend relevant content",
    "start": "105040",
    "end": "106399"
  },
  {
    "text": "to our members",
    "start": "106399",
    "end": "109040"
  },
  {
    "text": "so this is the high level offline",
    "start": "110079",
    "end": "112320"
  },
  {
    "text": "infrastructure",
    "start": "112320",
    "end": "113119"
  },
  {
    "text": "at linkedin at the bottom you can see",
    "start": "113119",
    "end": "115680"
  },
  {
    "text": "that we are mainly a hadoop shop",
    "start": "115680",
    "end": "118079"
  },
  {
    "text": "so for our storage infrastructure we use",
    "start": "118079",
    "end": "121600"
  },
  {
    "text": "hadoop's hdfs and for",
    "start": "121600",
    "end": "125280"
  },
  {
    "text": "for compute we use yarn which is",
    "start": "125280",
    "end": "127360"
  },
  {
    "text": "hadoop's resource management layer",
    "start": "127360",
    "end": "130560"
  },
  {
    "text": "above hadoop we use we use many",
    "start": "130560",
    "end": "133200"
  },
  {
    "text": "different",
    "start": "133200",
    "end": "133599"
  },
  {
    "text": "compute engines such as mapreduce pig",
    "start": "133599",
    "end": "135920"
  },
  {
    "text": "and hive",
    "start": "135920",
    "end": "137200"
  },
  {
    "text": "but for machine learning specifically we",
    "start": "137200",
    "end": "139280"
  },
  {
    "text": "use mostly",
    "start": "139280",
    "end": "140879"
  },
  {
    "text": "apache spark which is a well-known",
    "start": "140879",
    "end": "143760"
  },
  {
    "text": "general purpose compute engine",
    "start": "143760",
    "end": "145840"
  },
  {
    "text": "which also includes support for machine",
    "start": "145840",
    "end": "147680"
  },
  {
    "text": "learning and we also",
    "start": "147680",
    "end": "149680"
  },
  {
    "text": "use tony which is an in-house platform",
    "start": "149680",
    "end": "152560"
  },
  {
    "text": "that we built at linkedin",
    "start": "152560",
    "end": "154400"
  },
  {
    "text": "which we named after tensorflow on yarn",
    "start": "154400",
    "end": "157280"
  },
  {
    "text": "this was originally a use case",
    "start": "157280",
    "end": "158959"
  },
  {
    "text": "for running tensorflow jobs on top of",
    "start": "158959",
    "end": "161280"
  },
  {
    "text": "hadoop but we have since adapted it to",
    "start": "161280",
    "end": "163840"
  },
  {
    "text": "non-tensorflow use cases such as array",
    "start": "163840",
    "end": "167440"
  },
  {
    "text": "and then above that we use azkaban which",
    "start": "167440",
    "end": "169760"
  },
  {
    "text": "is another in-house",
    "start": "169760",
    "end": "171120"
  },
  {
    "text": "platform that we built at linkedin",
    "start": "171120",
    "end": "173840"
  },
  {
    "text": "azkaban is used for workflow management",
    "start": "173840",
    "end": "176319"
  },
  {
    "text": "so users can chain various types of jobs",
    "start": "176319",
    "end": "178800"
  },
  {
    "text": "together to form",
    "start": "178800",
    "end": "180319"
  },
  {
    "text": "a dag to run their jobs in a flow",
    "start": "180319",
    "end": "185360"
  },
  {
    "text": "so our main development hadoop cluster",
    "start": "185360",
    "end": "188480"
  },
  {
    "text": "our largest cluster consists of 7 000",
    "start": "188480",
    "end": "190879"
  },
  {
    "text": "nodes",
    "start": "190879",
    "end": "192000"
  },
  {
    "text": "it contains 1.8 petabytes of compute",
    "start": "192000",
    "end": "195200"
  },
  {
    "text": "memory and over 300 petabytes of storage",
    "start": "195200",
    "end": "198879"
  },
  {
    "text": "we have over 4 000 users running on our",
    "start": "198879",
    "end": "201599"
  },
  {
    "text": "cluster",
    "start": "201599",
    "end": "202480"
  },
  {
    "text": "with over 200k apps running per day and",
    "start": "202480",
    "end": "205200"
  },
  {
    "text": "then",
    "start": "205200",
    "end": "205680"
  },
  {
    "text": "for our machine learning use cases we",
    "start": "205680",
    "end": "208480"
  },
  {
    "text": "have built out a separate cluster",
    "start": "208480",
    "end": "210640"
  },
  {
    "text": "that contains over 2000 gpus for users",
    "start": "210640",
    "end": "213519"
  },
  {
    "text": "to run their deep learning training on",
    "start": "213519",
    "end": "217360"
  },
  {
    "text": "so in addition to hadoop we also",
    "start": "218400",
    "end": "221680"
  },
  {
    "text": "have built out an experimental",
    "start": "221680",
    "end": "223200"
  },
  {
    "text": "kubernetes cluster that",
    "start": "223200",
    "end": "225519"
  },
  {
    "text": "many researchers use at linkedin to",
    "start": "225519",
    "end": "227840"
  },
  {
    "text": "experiment with",
    "start": "227840",
    "end": "229280"
  },
  {
    "text": "various open source libraries all of our",
    "start": "229280",
    "end": "232319"
  },
  {
    "text": "data still sits in hdfs",
    "start": "232319",
    "end": "234400"
  },
  {
    "text": "and so to access this data from",
    "start": "234400",
    "end": "236879"
  },
  {
    "text": "kubernetes",
    "start": "236879",
    "end": "237760"
  },
  {
    "text": "we have built another tool called kong",
    "start": "237760",
    "end": "240159"
  },
  {
    "text": "or kubernetes on grid",
    "start": "240159",
    "end": "242319"
  },
  {
    "text": "which is used to securely access data in",
    "start": "242319",
    "end": "244959"
  },
  {
    "text": "hdfs from kubernetes",
    "start": "244959",
    "end": "248480"
  },
  {
    "text": "so next let's talk about how we run",
    "start": "250080",
    "end": "252480"
  },
  {
    "text": "distributed ray clusters on yarn",
    "start": "252480",
    "end": "256479"
  },
  {
    "text": "so to do this we need to first talk",
    "start": "256639",
    "end": "258560"
  },
  {
    "text": "about how yarn works",
    "start": "258560",
    "end": "260639"
  },
  {
    "text": "so at high level yarn manages all of the",
    "start": "260639",
    "end": "263520"
  },
  {
    "text": "compute resources in a hadoop cluster",
    "start": "263520",
    "end": "265680"
  },
  {
    "text": "and it also provides apis to users",
    "start": "265680",
    "end": "268960"
  },
  {
    "text": "for them to request compute resources",
    "start": "268960",
    "end": "271040"
  },
  {
    "text": "from the cluster",
    "start": "271040",
    "end": "272080"
  },
  {
    "text": "and then run tasks on the cluster in a",
    "start": "272080",
    "end": "274800"
  },
  {
    "text": "distributed fashion",
    "start": "274800",
    "end": "276880"
  },
  {
    "text": "so in yarn terminology every application",
    "start": "276880",
    "end": "280240"
  },
  {
    "text": "will implement what's called an",
    "start": "280240",
    "end": "281680"
  },
  {
    "text": "application master which contains",
    "start": "281680",
    "end": "283919"
  },
  {
    "text": "the user's logic in requesting compute",
    "start": "283919",
    "end": "287600"
  },
  {
    "text": "research from the cluster",
    "start": "287600",
    "end": "288880"
  },
  {
    "text": "and then launching tasks remotely on the",
    "start": "288880",
    "end": "291360"
  },
  {
    "text": "given allocations",
    "start": "291360",
    "end": "293280"
  },
  {
    "text": "so first the application master will",
    "start": "293280",
    "end": "295280"
  },
  {
    "text": "talk to the cluster to request resources",
    "start": "295280",
    "end": "297759"
  },
  {
    "text": "and then the scheduler inside yarn will",
    "start": "297759",
    "end": "300320"
  },
  {
    "text": "find open slots inside the cluster",
    "start": "300320",
    "end": "303440"
  },
  {
    "text": "once it finds these slots it will return",
    "start": "303440",
    "end": "305360"
  },
  {
    "text": "them to the application master",
    "start": "305360",
    "end": "307039"
  },
  {
    "text": "which the application master can then",
    "start": "307039",
    "end": "309919"
  },
  {
    "text": "use",
    "start": "309919",
    "end": "310400"
  },
  {
    "text": "to remotely launch tasks within these",
    "start": "310400",
    "end": "313120"
  },
  {
    "text": "containers",
    "start": "313120",
    "end": "315680"
  },
  {
    "text": "so next how do we bridge the gap between",
    "start": "318240",
    "end": "321680"
  },
  {
    "text": "running ray on yarn so normally in ray",
    "start": "321680",
    "end": "325600"
  },
  {
    "text": "you need to",
    "start": "325600",
    "end": "326320"
  },
  {
    "text": "run commands on different nodes that you",
    "start": "326320",
    "end": "328400"
  },
  {
    "text": "want to run your ray cluster on",
    "start": "328400",
    "end": "330720"
  },
  {
    "text": "which includes some manual processes",
    "start": "330720",
    "end": "333039"
  },
  {
    "text": "such as finding available ports",
    "start": "333039",
    "end": "334880"
  },
  {
    "text": "and then you need to start your array",
    "start": "334880",
    "end": "338160"
  },
  {
    "text": "entry points via command line",
    "start": "338160",
    "end": "340400"
  },
  {
    "text": "so instead to do this we leverage tony",
    "start": "340400",
    "end": "343759"
  },
  {
    "text": "to do all of this orchestration",
    "start": "343759",
    "end": "346479"
  },
  {
    "text": "so tony is a generic platform that we",
    "start": "346479",
    "end": "349039"
  },
  {
    "text": "use",
    "start": "349039",
    "end": "349520"
  },
  {
    "text": "for requesting compute resources on",
    "start": "349520",
    "end": "351759"
  },
  {
    "text": "behalf of the user from the yarn cluster",
    "start": "351759",
    "end": "354479"
  },
  {
    "text": "which includes resources such as memory",
    "start": "354479",
    "end": "356720"
  },
  {
    "text": "cpu or gpu",
    "start": "356720",
    "end": "359120"
  },
  {
    "text": "we have also handled tasks such as port",
    "start": "359120",
    "end": "362160"
  },
  {
    "text": "allocation within tony itself",
    "start": "362160",
    "end": "363919"
  },
  {
    "text": "so that the user running their",
    "start": "363919",
    "end": "366000"
  },
  {
    "text": "distributed ray application",
    "start": "366000",
    "end": "367600"
  },
  {
    "text": "doesn't have to worry about that and",
    "start": "367600",
    "end": "370319"
  },
  {
    "text": "then tony will also",
    "start": "370319",
    "end": "371440"
  },
  {
    "text": "handle some application lifecycle",
    "start": "371440",
    "end": "375440"
  },
  {
    "text": "monitoring such as fault tolerance and",
    "start": "375440",
    "end": "378160"
  },
  {
    "text": "monitoring the status of the job",
    "start": "378160",
    "end": "381840"
  },
  {
    "text": "so next we'll go through an example of",
    "start": "383919",
    "end": "386080"
  },
  {
    "text": "how tony starts a distributed ray",
    "start": "386080",
    "end": "388560"
  },
  {
    "text": "cluster on yarn",
    "start": "388560",
    "end": "391039"
  },
  {
    "text": "so for example suppose the user wants to",
    "start": "391039",
    "end": "393919"
  },
  {
    "text": "request",
    "start": "393919",
    "end": "394639"
  },
  {
    "text": "a one head container which requires two",
    "start": "394639",
    "end": "398080"
  },
  {
    "text": "gigabytes and one v",
    "start": "398080",
    "end": "399199"
  },
  {
    "text": "core and three worker containers each",
    "start": "399199",
    "end": "402560"
  },
  {
    "text": "with",
    "start": "402560",
    "end": "404160"
  },
  {
    "text": "eight gigabytes and two v cores and one",
    "start": "404160",
    "end": "406400"
  },
  {
    "text": "gpu resource requirements",
    "start": "406400",
    "end": "408960"
  },
  {
    "text": "so first the tony application master",
    "start": "408960",
    "end": "410960"
  },
  {
    "text": "will send these resource requests to the",
    "start": "410960",
    "end": "412960"
  },
  {
    "text": "yarn cluster",
    "start": "412960",
    "end": "415360"
  },
  {
    "text": "so once yarn finds the open slots on the",
    "start": "415360",
    "end": "417680"
  },
  {
    "text": "cluster with",
    "start": "417680",
    "end": "419280"
  },
  {
    "text": "these resource demands it will launch",
    "start": "419280",
    "end": "421360"
  },
  {
    "text": "containers",
    "start": "421360",
    "end": "422800"
  },
  {
    "text": "it will send these allocations to the",
    "start": "422800",
    "end": "424319"
  },
  {
    "text": "application master and then the",
    "start": "424319",
    "end": "425840"
  },
  {
    "text": "application master can launch containers",
    "start": "425840",
    "end": "427759"
  },
  {
    "text": "on these given allocations",
    "start": "427759",
    "end": "429599"
  },
  {
    "text": "so here we see we got two containers",
    "start": "429599",
    "end": "432880"
  },
  {
    "text": "one head and one worker on the first",
    "start": "432880",
    "end": "434960"
  },
  {
    "text": "node and",
    "start": "434960",
    "end": "436400"
  },
  {
    "text": "at the bottom on the second node we",
    "start": "436400",
    "end": "439120"
  },
  {
    "text": "receive two allocations for the other",
    "start": "439120",
    "end": "440960"
  },
  {
    "text": "two worker nodes",
    "start": "440960",
    "end": "443919"
  },
  {
    "text": "so once these containers have started",
    "start": "444720",
    "end": "446880"
  },
  {
    "text": "then within each container tony will",
    "start": "446880",
    "end": "448880"
  },
  {
    "text": "allocate a port for this particular",
    "start": "448880",
    "end": "450720"
  },
  {
    "text": "process",
    "start": "450720",
    "end": "451440"
  },
  {
    "text": "so for example in the head container at",
    "start": "451440",
    "end": "453520"
  },
  {
    "text": "the top tony",
    "start": "453520",
    "end": "455360"
  },
  {
    "text": "happened to find a port 1234 that was",
    "start": "455360",
    "end": "457840"
  },
  {
    "text": "available on this node",
    "start": "457840",
    "end": "459759"
  },
  {
    "text": "and it will reserve this port for this",
    "start": "459759",
    "end": "462840"
  },
  {
    "text": "container",
    "start": "462840",
    "end": "464080"
  },
  {
    "text": "so once all these containers have found",
    "start": "464080",
    "end": "466319"
  },
  {
    "text": "their port allocations",
    "start": "466319",
    "end": "467680"
  },
  {
    "text": "they will send this topology information",
    "start": "467680",
    "end": "471360"
  },
  {
    "text": "including the host and the port that the",
    "start": "471360",
    "end": "472960"
  },
  {
    "text": "container is running on back to the",
    "start": "472960",
    "end": "474639"
  },
  {
    "text": "application master",
    "start": "474639",
    "end": "477599"
  },
  {
    "text": "so once the application master receives",
    "start": "477680",
    "end": "479840"
  },
  {
    "text": "all four of",
    "start": "479840",
    "end": "480960"
  },
  {
    "text": "these uh topology information from the",
    "start": "480960",
    "end": "483599"
  },
  {
    "text": "four containers",
    "start": "483599",
    "end": "484639"
  },
  {
    "text": "it will aggregate that into uh a single",
    "start": "484639",
    "end": "488080"
  },
  {
    "text": "config",
    "start": "488080",
    "end": "488720"
  },
  {
    "text": "and then broadcast this information to",
    "start": "488720",
    "end": "490800"
  },
  {
    "text": "every container",
    "start": "490800",
    "end": "493840"
  },
  {
    "text": "so after the application master",
    "start": "495120",
    "end": "498639"
  },
  {
    "text": "sends this topology information to the",
    "start": "498639",
    "end": "500479"
  },
  {
    "text": "container it will also",
    "start": "500479",
    "end": "502080"
  },
  {
    "text": "send the command that each container is",
    "start": "502080",
    "end": "505039"
  },
  {
    "text": "supposed to run",
    "start": "505039",
    "end": "506240"
  },
  {
    "text": "so for example uh to the head container",
    "start": "506240",
    "end": "508720"
  },
  {
    "text": "it will",
    "start": "508720",
    "end": "509280"
  },
  {
    "text": "tell it to run the race start command",
    "start": "509280",
    "end": "511840"
  },
  {
    "text": "with this",
    "start": "511840",
    "end": "512479"
  },
  {
    "text": "head parameters since within this",
    "start": "512479",
    "end": "514479"
  },
  {
    "text": "container it will be running the",
    "start": "514479",
    "end": "516399"
  },
  {
    "text": "head process for the distributed ray",
    "start": "516399",
    "end": "518880"
  },
  {
    "text": "cluster and for all the other workers",
    "start": "518880",
    "end": "521919"
  },
  {
    "text": "it will start the command line to start",
    "start": "521919",
    "end": "524640"
  },
  {
    "text": "these processes as ray workers",
    "start": "524640",
    "end": "528160"
  },
  {
    "text": "so next we have a quick demo of how we",
    "start": "530320",
    "end": "532640"
  },
  {
    "text": "run",
    "start": "532640",
    "end": "533440"
  },
  {
    "text": "ray on top of yarn",
    "start": "533440",
    "end": "536640"
  },
  {
    "text": "so here we have a simple code example",
    "start": "540080",
    "end": "543600"
  },
  {
    "text": "at the top we have this function called",
    "start": "543600",
    "end": "545920"
  },
  {
    "text": "get hostname",
    "start": "545920",
    "end": "547440"
  },
  {
    "text": "all this function does is it prints the",
    "start": "547440",
    "end": "549760"
  },
  {
    "text": "hostname",
    "start": "549760",
    "end": "551839"
  },
  {
    "text": "of the machine that this process is",
    "start": "551839",
    "end": "553600"
  },
  {
    "text": "running on",
    "start": "553600",
    "end": "555519"
  },
  {
    "text": "and then in the middle we have this main",
    "start": "555519",
    "end": "557120"
  },
  {
    "text": "function which",
    "start": "557120",
    "end": "559440"
  },
  {
    "text": "we'll call the git hostname function",
    "start": "559440",
    "end": "562880"
  },
  {
    "text": "remotely 100 times in a single iteration",
    "start": "562880",
    "end": "567360"
  },
  {
    "text": "and then aggregate the results and print",
    "start": "567360",
    "end": "570000"
  },
  {
    "text": "them on the command line",
    "start": "570000",
    "end": "571120"
  },
  {
    "text": "and then we do this iteration 10 times",
    "start": "571120",
    "end": "577839"
  },
  {
    "text": "so here we have the azkaban flow",
    "start": "580320",
    "end": "584240"
  },
  {
    "text": "so at the top we have some",
    "start": "584240",
    "end": "585519"
  },
  {
    "text": "pre-processing",
    "start": "585519",
    "end": "587279"
  },
  {
    "text": "you can do things like set up your",
    "start": "587279",
    "end": "589600"
  },
  {
    "text": "libraries",
    "start": "589600",
    "end": "591120"
  },
  {
    "text": "clean up your data anything that's",
    "start": "591120",
    "end": "592480"
  },
  {
    "text": "required before you actually run",
    "start": "592480",
    "end": "594959"
  },
  {
    "text": "the the ray ray job",
    "start": "594959",
    "end": "600240"
  },
  {
    "text": "in the middle is the actual rate job so",
    "start": "601040",
    "end": "604480"
  },
  {
    "text": "if we open this",
    "start": "604480",
    "end": "605279"
  },
  {
    "text": "we can see parameters such as",
    "start": "605279",
    "end": "608720"
  },
  {
    "text": "the number of head instances we only",
    "start": "608720",
    "end": "610720"
  },
  {
    "text": "want one head and three workers",
    "start": "610720",
    "end": "613680"
  },
  {
    "text": "and then we also have parameters for",
    "start": "613680",
    "end": "616880"
  },
  {
    "text": "what command that we want both the head",
    "start": "616880",
    "end": "621920"
  },
  {
    "text": "and the workers to run",
    "start": "621920",
    "end": "625920"
  },
  {
    "text": "so this is the worker command",
    "start": "627200",
    "end": "633839"
  },
  {
    "text": "so now we go back to the workflow we can",
    "start": "634800",
    "end": "637600"
  },
  {
    "text": "click on",
    "start": "637600",
    "end": "638399"
  },
  {
    "text": "execute to run this workflow",
    "start": "638399",
    "end": "642240"
  },
  {
    "text": "this will start the raid job",
    "start": "642320",
    "end": "645760"
  },
  {
    "text": "and then if we open this execution we",
    "start": "645760",
    "end": "647920"
  },
  {
    "text": "can see",
    "start": "647920",
    "end": "649040"
  },
  {
    "text": "these are the logs for uh the",
    "start": "649040",
    "end": "652800"
  },
  {
    "text": "array the distributed ray cluster so we",
    "start": "652800",
    "end": "655839"
  },
  {
    "text": "can see at the bottom",
    "start": "655839",
    "end": "657120"
  },
  {
    "text": "there is one head that was allocated",
    "start": "657120",
    "end": "660880"
  },
  {
    "text": "and three workers and for each of these",
    "start": "660880",
    "end": "663519"
  },
  {
    "text": "components we can see things such as",
    "start": "663519",
    "end": "666079"
  },
  {
    "text": "links to the logs for each of these",
    "start": "666079",
    "end": "667440"
  },
  {
    "text": "components",
    "start": "667440",
    "end": "670000"
  },
  {
    "text": "so if we open up for example the logs",
    "start": "673519",
    "end": "675839"
  },
  {
    "text": "for the head",
    "start": "675839",
    "end": "677760"
  },
  {
    "text": "we can see that tony is doing some of",
    "start": "677760",
    "end": "679519"
  },
  {
    "text": "its setup which includes",
    "start": "679519",
    "end": "681279"
  },
  {
    "text": "the port allocations and sending that",
    "start": "681279",
    "end": "683839"
  },
  {
    "text": "information back to the application",
    "start": "683839",
    "end": "685519"
  },
  {
    "text": "master",
    "start": "685519",
    "end": "686959"
  },
  {
    "text": "and after that is finished uh we will",
    "start": "686959",
    "end": "689680"
  },
  {
    "text": "actually start",
    "start": "689680",
    "end": "690640"
  },
  {
    "text": "the uh the distributed ray",
    "start": "690640",
    "end": "694640"
  },
  {
    "text": "uh code and in this example it's the",
    "start": "694640",
    "end": "697839"
  },
  {
    "text": "get host name implementation so here we",
    "start": "697839",
    "end": "700399"
  },
  {
    "text": "can see the",
    "start": "700399",
    "end": "701200"
  },
  {
    "text": "10 iterations um that we saw previously",
    "start": "701200",
    "end": "704399"
  },
  {
    "text": "in the code",
    "start": "704399",
    "end": "705920"
  },
  {
    "text": "so you can see in the first iteration",
    "start": "705920",
    "end": "708240"
  },
  {
    "text": "iteration zero",
    "start": "708240",
    "end": "709839"
  },
  {
    "text": "we have four entries in this counter",
    "start": "709839",
    "end": "714079"
  },
  {
    "text": "there's one entry for each of the worker",
    "start": "714079",
    "end": "717200"
  },
  {
    "text": "uh each of the head and the three",
    "start": "717200",
    "end": "718880"
  },
  {
    "text": "workers and we can see",
    "start": "718880",
    "end": "721200"
  },
  {
    "text": "for each of these hosts the get host",
    "start": "721200",
    "end": "724480"
  },
  {
    "text": "the git hostname remote function ran 25",
    "start": "724480",
    "end": "726800"
  },
  {
    "text": "times",
    "start": "726800",
    "end": "728160"
  },
  {
    "text": "and we can see that printed in the logs",
    "start": "728160",
    "end": "731839"
  },
  {
    "text": "and then we can see that this counter",
    "start": "731839",
    "end": "736160"
  },
  {
    "text": "the aggregation these 100 iterations",
    "start": "736160",
    "end": "738800"
  },
  {
    "text": "were aggregated",
    "start": "738800",
    "end": "740000"
  },
  {
    "text": "10 times",
    "start": "740000",
    "end": "745839"
  },
  {
    "text": "uh so that is how we run rayon yarn next",
    "start": "748240",
    "end": "751040"
  },
  {
    "text": "i want to pass it over to my teammate",
    "start": "751040",
    "end": "753200"
  },
  {
    "text": "nitin who will",
    "start": "753200",
    "end": "755040"
  },
  {
    "text": "talk about some use cases that we've",
    "start": "755040",
    "end": "757760"
  },
  {
    "text": "applied",
    "start": "757760",
    "end": "758880"
  },
  {
    "text": "uh rey at linkedin thank you jonathan",
    "start": "758880",
    "end": "762480"
  },
  {
    "text": "hi everyone i'm nitin pasmarti from the",
    "start": "762480",
    "end": "765680"
  },
  {
    "text": "performance team",
    "start": "765680",
    "end": "767040"
  },
  {
    "text": "at linkedin and today i will walk you",
    "start": "767040",
    "end": "769839"
  },
  {
    "text": "through",
    "start": "769839",
    "end": "770240"
  },
  {
    "text": "a small use case of how we",
    "start": "770240",
    "end": "773760"
  },
  {
    "text": "used raytune for building our network",
    "start": "773760",
    "end": "776320"
  },
  {
    "text": "quality service deep learning model",
    "start": "776320",
    "end": "779680"
  },
  {
    "text": "for the agenda we will first talk about",
    "start": "779680",
    "end": "784399"
  },
  {
    "text": "a problem called image optimization and",
    "start": "784399",
    "end": "787279"
  },
  {
    "text": "how we",
    "start": "787279",
    "end": "788639"
  },
  {
    "text": "use network quality service to solve",
    "start": "788639",
    "end": "790639"
  },
  {
    "text": "that problem",
    "start": "790639",
    "end": "791839"
  },
  {
    "text": "and then we'll briefly talk or we'll",
    "start": "791839",
    "end": "793839"
  },
  {
    "text": "heavily talk about",
    "start": "793839",
    "end": "795120"
  },
  {
    "text": "how nqs network quality service",
    "start": "795120",
    "end": "798160"
  },
  {
    "text": "was built using radeon and then finally",
    "start": "798160",
    "end": "801200"
  },
  {
    "text": "we'll wrap up with",
    "start": "801200",
    "end": "802399"
  },
  {
    "text": "some aspiring ideas on how we can use ai",
    "start": "802399",
    "end": "806000"
  },
  {
    "text": "for solving other performance problems",
    "start": "806000",
    "end": "810000"
  },
  {
    "text": "so images play a big role in engagement",
    "start": "810320",
    "end": "813760"
  },
  {
    "text": "at linkedin",
    "start": "813760",
    "end": "814639"
  },
  {
    "text": "we see them all the time on feed network",
    "start": "814639",
    "end": "817519"
  },
  {
    "text": "jobs company or",
    "start": "817519",
    "end": "818800"
  },
  {
    "text": "any pages so if we are able to",
    "start": "818800",
    "end": "822160"
  },
  {
    "text": "optimize the way images are delivered we",
    "start": "822160",
    "end": "825199"
  },
  {
    "text": "will see",
    "start": "825199",
    "end": "825680"
  },
  {
    "text": "a huge boost or we have seen in the past",
    "start": "825680",
    "end": "827839"
  },
  {
    "text": "as well a huge boost",
    "start": "827839",
    "end": "829440"
  },
  {
    "text": "in member engagement so anything that",
    "start": "829440",
    "end": "833040"
  },
  {
    "text": "helps delivering these images faster is",
    "start": "833040",
    "end": "836320"
  },
  {
    "text": "awesome so one way of",
    "start": "836320",
    "end": "839600"
  },
  {
    "text": "doing this is reducing the resolution of",
    "start": "839600",
    "end": "842160"
  },
  {
    "text": "image",
    "start": "842160",
    "end": "842639"
  },
  {
    "text": "such that it is appropriate like say",
    "start": "842639",
    "end": "845920"
  },
  {
    "text": "on the right hand side here which is 400",
    "start": "845920",
    "end": "848399"
  },
  {
    "text": "pixels",
    "start": "848399",
    "end": "849600"
  },
  {
    "text": "now that is great it will reduce the",
    "start": "849600",
    "end": "852240"
  },
  {
    "text": "number of bytes that are transferred",
    "start": "852240",
    "end": "853839"
  },
  {
    "text": "over the wire",
    "start": "853839",
    "end": "854720"
  },
  {
    "text": "but however you can see the quality of",
    "start": "854720",
    "end": "856639"
  },
  {
    "text": "the image or the essence of the image is",
    "start": "856639",
    "end": "858480"
  },
  {
    "text": "lost",
    "start": "858480",
    "end": "859519"
  },
  {
    "text": "so that will indirectly",
    "start": "859519",
    "end": "862720"
  },
  {
    "text": "reduce the member engagement because the",
    "start": "862720",
    "end": "864480"
  },
  {
    "text": "image essence is gone",
    "start": "864480",
    "end": "866639"
  },
  {
    "text": "whereas on the left hand side if you see",
    "start": "866639",
    "end": "868399"
  },
  {
    "text": "we deliver the original 800 pixel",
    "start": "868399",
    "end": "870639"
  },
  {
    "text": "quality",
    "start": "870639",
    "end": "871600"
  },
  {
    "text": "this will improve the essence or the",
    "start": "871600",
    "end": "874079"
  },
  {
    "text": "real meaning of the image or the detail",
    "start": "874079",
    "end": "875839"
  },
  {
    "text": "of the image",
    "start": "875839",
    "end": "876800"
  },
  {
    "text": "but it will be pretty slow for members",
    "start": "876800",
    "end": "879760"
  },
  {
    "text": "who have",
    "start": "879760",
    "end": "880399"
  },
  {
    "text": "bad network conditions so we would like",
    "start": "880399",
    "end": "883519"
  },
  {
    "text": "to have a balance between the two",
    "start": "883519",
    "end": "885279"
  },
  {
    "text": "and cleverly identify if a member is is",
    "start": "885279",
    "end": "888240"
  },
  {
    "text": "on a good network",
    "start": "888240",
    "end": "889360"
  },
  {
    "text": "or a bad network at runtime at that",
    "start": "889360",
    "end": "891680"
  },
  {
    "text": "moment",
    "start": "891680",
    "end": "892560"
  },
  {
    "text": "and see which image we should",
    "start": "892560",
    "end": "896079"
  },
  {
    "text": "use for their experience",
    "start": "896079",
    "end": "900000"
  },
  {
    "text": "and that's exactly the goal for this",
    "start": "900000",
    "end": "902240"
  },
  {
    "text": "model called network quality service",
    "start": "902240",
    "end": "904639"
  },
  {
    "text": "and we call it nqs in short it is a",
    "start": "904639",
    "end": "908240"
  },
  {
    "text": "service",
    "start": "908240",
    "end": "908880"
  },
  {
    "text": "which we designed to be able to predict",
    "start": "908880",
    "end": "912320"
  },
  {
    "text": "this",
    "start": "912320",
    "end": "913120"
  },
  {
    "text": "type of quality information for every",
    "start": "913120",
    "end": "915519"
  },
  {
    "text": "member",
    "start": "915519",
    "end": "916480"
  },
  {
    "text": "using their current network information",
    "start": "916480",
    "end": "918639"
  },
  {
    "text": "and we would like to",
    "start": "918639",
    "end": "920720"
  },
  {
    "text": "make it like a internal service publicly",
    "start": "920720",
    "end": "923199"
  },
  {
    "text": "available so that",
    "start": "923199",
    "end": "924639"
  },
  {
    "text": "anyone at linkedin any other team at",
    "start": "924639",
    "end": "926560"
  },
  {
    "text": "linkedin can use it",
    "start": "926560",
    "end": "928000"
  },
  {
    "text": "for their own creative optimization",
    "start": "928000",
    "end": "930000"
  },
  {
    "text": "ideas",
    "start": "930000",
    "end": "931920"
  },
  {
    "text": "there are many more use cases and",
    "start": "931920",
    "end": "934240"
  },
  {
    "text": "several other inspirational stories",
    "start": "934240",
    "end": "936399"
  },
  {
    "text": "of how and why we started nqs and they",
    "start": "936399",
    "end": "939519"
  },
  {
    "text": "are listed",
    "start": "939519",
    "end": "940639"
  },
  {
    "text": "in that link below",
    "start": "940639",
    "end": "943600"
  },
  {
    "text": "so we wanted to build nqs for all",
    "start": "947040",
    "end": "949360"
  },
  {
    "text": "linkedin apps",
    "start": "949360",
    "end": "950399"
  },
  {
    "text": "and for that we have some input features",
    "start": "950399",
    "end": "953440"
  },
  {
    "text": "we could use",
    "start": "953440",
    "end": "954480"
  },
  {
    "text": "to make a prediction of good bad and",
    "start": "954480",
    "end": "956720"
  },
  {
    "text": "average network quality",
    "start": "956720",
    "end": "958480"
  },
  {
    "text": "some features of interest could be where",
    "start": "958480",
    "end": "960880"
  },
  {
    "text": "the user is coming from",
    "start": "960880",
    "end": "962079"
  },
  {
    "text": "are they coming from india u.s brazil",
    "start": "962079",
    "end": "965440"
  },
  {
    "text": "wherever whichever part of the world",
    "start": "965440",
    "end": "967519"
  },
  {
    "text": "what network conditions like",
    "start": "967519",
    "end": "970000"
  },
  {
    "text": "which isp they are connected to are they",
    "start": "970000",
    "end": "971920"
  },
  {
    "text": "connected to atnt",
    "start": "971920",
    "end": "973360"
  },
  {
    "text": "t-mobile or any other isp provider",
    "start": "973360",
    "end": "976480"
  },
  {
    "text": "which device are they using which",
    "start": "976480",
    "end": "978639"
  },
  {
    "text": "browser are they using to browse",
    "start": "978639",
    "end": "980480"
  },
  {
    "text": "linkedin on",
    "start": "980480",
    "end": "981600"
  },
  {
    "text": "using these input features we would like",
    "start": "981600",
    "end": "983839"
  },
  {
    "text": "to create a model that can predict",
    "start": "983839",
    "end": "986800"
  },
  {
    "text": "good bad or average network quality at",
    "start": "986800",
    "end": "989120"
  },
  {
    "text": "that moment in time",
    "start": "989120",
    "end": "990480"
  },
  {
    "text": "and expose that to teams at linkedin for",
    "start": "990480",
    "end": "992880"
  },
  {
    "text": "their users",
    "start": "992880",
    "end": "994880"
  },
  {
    "text": "the idea is fantastic but there is a lot",
    "start": "994880",
    "end": "997839"
  },
  {
    "text": "of work",
    "start": "997839",
    "end": "998560"
  },
  {
    "text": "involved in achieving this",
    "start": "998560",
    "end": "1001680"
  },
  {
    "text": "as you can see on the right hand side",
    "start": "1001680",
    "end": "1003680"
  },
  {
    "text": "there are things around",
    "start": "1003680",
    "end": "1004880"
  },
  {
    "text": "resource management we have",
    "start": "1004880",
    "end": "1008160"
  },
  {
    "text": "lots of gpus which jonathan talked about",
    "start": "1008160",
    "end": "1010240"
  },
  {
    "text": "and we would like to",
    "start": "1010240",
    "end": "1011279"
  },
  {
    "text": "use appropriate number of them for this",
    "start": "1011279",
    "end": "1014160"
  },
  {
    "text": "particular task",
    "start": "1014160",
    "end": "1015279"
  },
  {
    "text": "we need to also bookkeep all the trials",
    "start": "1015279",
    "end": "1018720"
  },
  {
    "text": "or experiments that we have run",
    "start": "1018720",
    "end": "1020560"
  },
  {
    "text": "and the pros and cons from each of those",
    "start": "1020560",
    "end": "1024160"
  },
  {
    "text": "so that we can plan our next set of",
    "start": "1024160",
    "end": "1026000"
  },
  {
    "text": "experiments",
    "start": "1026000",
    "end": "1027438"
  },
  {
    "text": "all this is pretty cumbersome but",
    "start": "1027439",
    "end": "1030400"
  },
  {
    "text": "luckily",
    "start": "1030400",
    "end": "1031438"
  },
  {
    "text": "there are tools like tensorboard ml flow",
    "start": "1031439",
    "end": "1034720"
  },
  {
    "text": "and ray also to help us here",
    "start": "1034720",
    "end": "1039199"
  },
  {
    "text": "but the other aspect is the tuning of",
    "start": "1039199",
    "end": "1041600"
  },
  {
    "text": "hyper parameters itself",
    "start": "1041600",
    "end": "1044079"
  },
  {
    "text": "which involve or which directly impact",
    "start": "1044079",
    "end": "1046400"
  },
  {
    "text": "the accuracy of the model",
    "start": "1046400",
    "end": "1048240"
  },
  {
    "text": "as you can see i listed some hyper",
    "start": "1048240",
    "end": "1050080"
  },
  {
    "text": "parameters of interest like what",
    "start": "1050080",
    "end": "1052080"
  },
  {
    "text": "learning rate should we use for the",
    "start": "1052080",
    "end": "1053520"
  },
  {
    "text": "model",
    "start": "1053520",
    "end": "1054240"
  },
  {
    "text": "what optimizer like adam delta sgd",
    "start": "1054240",
    "end": "1057360"
  },
  {
    "text": "any and what neurons should be there in",
    "start": "1057360",
    "end": "1060960"
  },
  {
    "text": "each model",
    "start": "1060960",
    "end": "1061760"
  },
  {
    "text": "or each layer how many layers should it",
    "start": "1061760",
    "end": "1064240"
  },
  {
    "text": "include",
    "start": "1064240",
    "end": "1064880"
  },
  {
    "text": "so many such hyper parameters and there",
    "start": "1064880",
    "end": "1066799"
  },
  {
    "text": "is no single rule of thumb",
    "start": "1066799",
    "end": "1068640"
  },
  {
    "text": "which says okay for this problem these",
    "start": "1068640",
    "end": "1071280"
  },
  {
    "text": "are the ideal set of fiber parameters",
    "start": "1071280",
    "end": "1073440"
  },
  {
    "text": "the only way currently that is available",
    "start": "1073440",
    "end": "1075600"
  },
  {
    "text": "is to iteratively experiment different",
    "start": "1075600",
    "end": "1078080"
  },
  {
    "text": "values",
    "start": "1078080",
    "end": "1079120"
  },
  {
    "text": "for these hyper parameters and see how",
    "start": "1079120",
    "end": "1081760"
  },
  {
    "text": "well the model accuracy is",
    "start": "1081760",
    "end": "1084080"
  },
  {
    "text": "but luckily you know there is you know",
    "start": "1084080",
    "end": "1087360"
  },
  {
    "text": "ray tune which can help us here and what",
    "start": "1087360",
    "end": "1089520"
  },
  {
    "text": "we used heavily",
    "start": "1089520",
    "end": "1090960"
  },
  {
    "text": "in nqs design as well",
    "start": "1090960",
    "end": "1095760"
  },
  {
    "text": "but why is tuning the hyper parameter",
    "start": "1095760",
    "end": "1097919"
  },
  {
    "text": "important these are the three main",
    "start": "1097919",
    "end": "1099600"
  },
  {
    "text": "reasons for us",
    "start": "1099600",
    "end": "1100799"
  },
  {
    "text": "one is obviously to get better",
    "start": "1100799",
    "end": "1102480"
  },
  {
    "text": "accuracies we would like to",
    "start": "1102480",
    "end": "1104400"
  },
  {
    "text": "find hyper parameter combinations that",
    "start": "1104400",
    "end": "1107120"
  },
  {
    "text": "would give us the best possible accuracy",
    "start": "1107120",
    "end": "1109280"
  },
  {
    "text": "for that particular data set",
    "start": "1109280",
    "end": "1111280"
  },
  {
    "text": "and then we would like to identify these",
    "start": "1111280",
    "end": "1113679"
  },
  {
    "text": "hyper parameters",
    "start": "1113679",
    "end": "1115120"
  },
  {
    "text": "that give us best accuracies in least",
    "start": "1115120",
    "end": "1118080"
  },
  {
    "text": "amount of time",
    "start": "1118080",
    "end": "1119280"
  },
  {
    "text": "we would like to spend more time on the",
    "start": "1119280",
    "end": "1121679"
  },
  {
    "text": "hyper parameters",
    "start": "1121679",
    "end": "1123120"
  },
  {
    "text": "that would give us better results",
    "start": "1123120",
    "end": "1126480"
  },
  {
    "text": "and lastly we would like to efficiently",
    "start": "1126480",
    "end": "1129600"
  },
  {
    "text": "use our resources so that",
    "start": "1129600",
    "end": "1132640"
  },
  {
    "text": "maximum time of resource utilization",
    "start": "1132640",
    "end": "1136720"
  },
  {
    "text": "is spent on trials that lead or probably",
    "start": "1136720",
    "end": "1140799"
  },
  {
    "text": "would lead better models",
    "start": "1140799",
    "end": "1144080"
  },
  {
    "text": "and raytune is extensively used",
    "start": "1144080",
    "end": "1147360"
  },
  {
    "text": "in achieving all these three things",
    "start": "1147360",
    "end": "1150799"
  },
  {
    "text": "today we will see four approaches",
    "start": "1150799",
    "end": "1154480"
  },
  {
    "text": "in tuning six hyper parameters",
    "start": "1154480",
    "end": "1158400"
  },
  {
    "text": "the first approach is obviously without",
    "start": "1158400",
    "end": "1160799"
  },
  {
    "text": "any help and fully manual",
    "start": "1160799",
    "end": "1162480"
  },
  {
    "text": "is the first thing we did",
    "start": "1162480",
    "end": "1166400"
  },
  {
    "text": "we tuned complex cyber parameters like",
    "start": "1166400",
    "end": "1168640"
  },
  {
    "text": "the model architecture itself",
    "start": "1168640",
    "end": "1170559"
  },
  {
    "text": "or the base network architecture should",
    "start": "1170559",
    "end": "1172720"
  },
  {
    "text": "i use a recurrent neural network should",
    "start": "1172720",
    "end": "1174559"
  },
  {
    "text": "i use",
    "start": "1174559",
    "end": "1175200"
  },
  {
    "text": "graph neural network etc or should i use",
    "start": "1175200",
    "end": "1177760"
  },
  {
    "text": "a deep neural network",
    "start": "1177760",
    "end": "1180720"
  },
  {
    "text": "however the challenge with this approach",
    "start": "1181520",
    "end": "1184559"
  },
  {
    "text": "is",
    "start": "1184559",
    "end": "1184799"
  },
  {
    "text": "like the guy in that picture so we",
    "start": "1184799",
    "end": "1187200"
  },
  {
    "text": "choose a configuration",
    "start": "1187200",
    "end": "1189120"
  },
  {
    "text": "we see we leave it to run for few hours",
    "start": "1189120",
    "end": "1192240"
  },
  {
    "text": "see the result come back plan the next",
    "start": "1192240",
    "end": "1194240"
  },
  {
    "text": "set of hyper parameters",
    "start": "1194240",
    "end": "1195919"
  },
  {
    "text": "see the result and come back it's a it's",
    "start": "1195919",
    "end": "1198080"
  },
  {
    "text": "a very cumbersome and manual process",
    "start": "1198080",
    "end": "1200000"
  },
  {
    "text": "like as the name suggests however we",
    "start": "1200000",
    "end": "1204159"
  },
  {
    "text": "also there is another volume actually we",
    "start": "1204159",
    "end": "1206640"
  },
  {
    "text": "only get to use one gpu here",
    "start": "1206640",
    "end": "1208720"
  },
  {
    "text": "unless until the framework itself",
    "start": "1208720",
    "end": "1210320"
  },
  {
    "text": "supports",
    "start": "1210320",
    "end": "1212559"
  },
  {
    "text": "in order to solve the resource",
    "start": "1212559",
    "end": "1214080"
  },
  {
    "text": "utilization problem",
    "start": "1214080",
    "end": "1216080"
  },
  {
    "text": "we switch to raytune which immediately",
    "start": "1216080",
    "end": "1219840"
  },
  {
    "text": "showed a huge",
    "start": "1219840",
    "end": "1220880"
  },
  {
    "text": "improvement in all in the usage of all",
    "start": "1220880",
    "end": "1224240"
  },
  {
    "text": "the resources that are there on the node",
    "start": "1224240",
    "end": "1226559"
  },
  {
    "text": "you can see here on the left hand side",
    "start": "1226559",
    "end": "1228640"
  },
  {
    "text": "the cpus are fully busy",
    "start": "1228640",
    "end": "1230799"
  },
  {
    "text": "trying to crunch the numbers trying to",
    "start": "1230799",
    "end": "1232559"
  },
  {
    "text": "get the model input",
    "start": "1232559",
    "end": "1234240"
  },
  {
    "text": "hyper input data ready and on the right",
    "start": "1234240",
    "end": "1237200"
  },
  {
    "text": "hand side you can see the gpus also",
    "start": "1237200",
    "end": "1239039"
  },
  {
    "text": "being very busy",
    "start": "1239039",
    "end": "1240159"
  },
  {
    "text": "trying to use that data and get out",
    "start": "1240159",
    "end": "1242559"
  },
  {
    "text": "amazing model",
    "start": "1242559",
    "end": "1243919"
  },
  {
    "text": "ray helped us in automating all this",
    "start": "1243919",
    "end": "1246480"
  },
  {
    "text": "quite easily",
    "start": "1246480",
    "end": "1248960"
  },
  {
    "text": "not only that with a simple run",
    "start": "1248960",
    "end": "1252320"
  },
  {
    "text": "i just set up some hyper parameters for",
    "start": "1252320",
    "end": "1254640"
  },
  {
    "text": "exploration",
    "start": "1254640",
    "end": "1255679"
  },
  {
    "text": "using an interesting library called",
    "start": "1255679",
    "end": "1257679"
  },
  {
    "text": "interesting algorithm called hyperopt",
    "start": "1257679",
    "end": "1259760"
  },
  {
    "text": "and i was immediately able to you see",
    "start": "1259760",
    "end": "1262080"
  },
  {
    "text": "that the learning rate i was using",
    "start": "1262080",
    "end": "1264000"
  },
  {
    "text": "is low and i can increase it uh by",
    "start": "1264000",
    "end": "1268080"
  },
  {
    "text": "i think here it is so i can increase it",
    "start": "1268080",
    "end": "1270880"
  },
  {
    "text": "up to 0.7",
    "start": "1270880",
    "end": "1273520"
  },
  {
    "text": "in some units to have better accuracies",
    "start": "1273520",
    "end": "1277200"
  },
  {
    "text": "hyperopt is an interesting algorithm",
    "start": "1277200",
    "end": "1278960"
  },
  {
    "text": "that is provided by ray tune",
    "start": "1278960",
    "end": "1281200"
  },
  {
    "text": "which uses a binary search type of",
    "start": "1281200",
    "end": "1283520"
  },
  {
    "text": "approach",
    "start": "1283520",
    "end": "1284240"
  },
  {
    "text": "where it tries some hyper parameters say",
    "start": "1284240",
    "end": "1287360"
  },
  {
    "text": "on this end of the spectrum",
    "start": "1287360",
    "end": "1289120"
  },
  {
    "text": "and another hyper parameters of this end",
    "start": "1289120",
    "end": "1291840"
  },
  {
    "text": "at the spectrum like a very high value",
    "start": "1291840",
    "end": "1293760"
  },
  {
    "text": "and it looks at the results say the",
    "start": "1293760",
    "end": "1295919"
  },
  {
    "text": "results are pretty good in this range",
    "start": "1295919",
    "end": "1298080"
  },
  {
    "text": "it tries to try more and more hyper",
    "start": "1298080",
    "end": "1300720"
  },
  {
    "text": "parameters around the higher end of the",
    "start": "1300720",
    "end": "1302559"
  },
  {
    "text": "spectrum",
    "start": "1302559",
    "end": "1303679"
  },
  {
    "text": "and like a binary search approach it",
    "start": "1303679",
    "end": "1305679"
  },
  {
    "text": "tries to walk through and narrow down",
    "start": "1305679",
    "end": "1307120"
  },
  {
    "text": "the search space",
    "start": "1307120",
    "end": "1308240"
  },
  {
    "text": "which brings us to a very good",
    "start": "1308240",
    "end": "1310320"
  },
  {
    "text": "configuration of",
    "start": "1310320",
    "end": "1311440"
  },
  {
    "text": "best optimal hyper parameters that is",
    "start": "1311440",
    "end": "1314720"
  },
  {
    "text": "great",
    "start": "1314720",
    "end": "1315360"
  },
  {
    "text": "but you can see the problem here",
    "start": "1315360",
    "end": "1317120"
  },
  {
    "text": "immediately as shown here",
    "start": "1317120",
    "end": "1319440"
  },
  {
    "text": "there are so many trials let's say the",
    "start": "1319440",
    "end": "1321760"
  },
  {
    "text": "gray one here",
    "start": "1321760",
    "end": "1323679"
  },
  {
    "text": "that plattered in the accuracy",
    "start": "1323679",
    "end": "1326880"
  },
  {
    "text": "at around 14 units of time but still",
    "start": "1326880",
    "end": "1329840"
  },
  {
    "text": "hyperop doesn't know that it doesn't do",
    "start": "1329840",
    "end": "1331919"
  },
  {
    "text": "any better or it doesn't",
    "start": "1331919",
    "end": "1333520"
  },
  {
    "text": "use any smart way to stop training it",
    "start": "1333520",
    "end": "1336960"
  },
  {
    "text": "further",
    "start": "1336960",
    "end": "1338080"
  },
  {
    "text": "that is no smart no smart early stopping",
    "start": "1338080",
    "end": "1342960"
  },
  {
    "text": "in order to solve that problem i",
    "start": "1342960",
    "end": "1345120"
  },
  {
    "text": "switched to async hyperband which is",
    "start": "1345120",
    "end": "1347200"
  },
  {
    "text": "another library in raytoon",
    "start": "1347200",
    "end": "1348799"
  },
  {
    "text": "or an algorithm in radion you can see",
    "start": "1348799",
    "end": "1352320"
  },
  {
    "text": "here immediately that i was able to try",
    "start": "1352320",
    "end": "1354559"
  },
  {
    "text": "150 experiments in just 14 hours",
    "start": "1354559",
    "end": "1358000"
  },
  {
    "text": "when compared to uh i think",
    "start": "1358000",
    "end": "1362559"
  },
  {
    "text": "15 trials in six hours pretty awesome",
    "start": "1362799",
    "end": "1366159"
  },
  {
    "text": "right like a lot of",
    "start": "1366159",
    "end": "1367520"
  },
  {
    "text": "speed up not only that i switched",
    "start": "1367520",
    "end": "1370640"
  },
  {
    "text": "from hyper off to base off which is an",
    "start": "1370640",
    "end": "1373440"
  },
  {
    "text": "exploration",
    "start": "1373440",
    "end": "1374400"
  },
  {
    "text": "versus exploitation strategy instead of",
    "start": "1374400",
    "end": "1376720"
  },
  {
    "text": "just exploitation strategy",
    "start": "1376720",
    "end": "1378640"
  },
  {
    "text": "the idea is you try some trials check",
    "start": "1378640",
    "end": "1381120"
  },
  {
    "text": "the results",
    "start": "1381120",
    "end": "1382159"
  },
  {
    "text": "try to exploit the results best results",
    "start": "1382159",
    "end": "1384480"
  },
  {
    "text": "from those",
    "start": "1384480",
    "end": "1385440"
  },
  {
    "text": "and train them further and also in",
    "start": "1385440",
    "end": "1388400"
  },
  {
    "text": "parallel exploit new areas",
    "start": "1388400",
    "end": "1390720"
  },
  {
    "text": "hopefully that might lead to better",
    "start": "1390720",
    "end": "1392960"
  },
  {
    "text": "hyper parameters",
    "start": "1392960",
    "end": "1394159"
  },
  {
    "text": "configurations that might lead to better",
    "start": "1394159",
    "end": "1395919"
  },
  {
    "text": "accuracies",
    "start": "1395919",
    "end": "1397200"
  },
  {
    "text": "that is base off with this combination",
    "start": "1397200",
    "end": "1400240"
  },
  {
    "text": "i was able to train a lot of experiments",
    "start": "1400240",
    "end": "1403600"
  },
  {
    "text": "and using a view like parallel",
    "start": "1403600",
    "end": "1405440"
  },
  {
    "text": "coordinates we",
    "start": "1405440",
    "end": "1407280"
  },
  {
    "text": "can see that",
    "start": "1407280",
    "end": "1410480"
  },
  {
    "text": "with low loss and high accuracy",
    "start": "1410720",
    "end": "1414799"
  },
  {
    "text": "the hyper parameters should be a high",
    "start": "1414799",
    "end": "1417440"
  },
  {
    "text": "learning rate",
    "start": "1417440",
    "end": "1418480"
  },
  {
    "text": "and a low number of asn or hashing",
    "start": "1418480",
    "end": "1421600"
  },
  {
    "text": "buckets which is one of the features",
    "start": "1421600",
    "end": "1423520"
  },
  {
    "text": "that i have used so",
    "start": "1423520",
    "end": "1427600"
  },
  {
    "text": "this graphic is provided by ml flow and",
    "start": "1427600",
    "end": "1430720"
  },
  {
    "text": "with ray's open integration or open",
    "start": "1430720",
    "end": "1434559"
  },
  {
    "text": "interface i was easily able to integrate",
    "start": "1434559",
    "end": "1436640"
  },
  {
    "text": "both these libraries to provide these",
    "start": "1436640",
    "end": "1438640"
  },
  {
    "text": "amazing visualizations for analysis",
    "start": "1438640",
    "end": "1440880"
  },
  {
    "text": "later",
    "start": "1440880",
    "end": "1443200"
  },
  {
    "text": "but there is a problem with this",
    "start": "1443600",
    "end": "1445200"
  },
  {
    "text": "approach as well",
    "start": "1445200",
    "end": "1446799"
  },
  {
    "text": "in this three-dimensional visualization",
    "start": "1446799",
    "end": "1448720"
  },
  {
    "text": "where i show you on the x-axis the",
    "start": "1448720",
    "end": "1450720"
  },
  {
    "text": "learning rate and on the y-axis the",
    "start": "1450720",
    "end": "1452559"
  },
  {
    "text": "accuracy",
    "start": "1452559",
    "end": "1454240"
  },
  {
    "text": "you see the dots appearing here are the",
    "start": "1454240",
    "end": "1457120"
  },
  {
    "text": "trials or the experiments",
    "start": "1457120",
    "end": "1459039"
  },
  {
    "text": "darker the dot more recent is the trial",
    "start": "1459039",
    "end": "1462000"
  },
  {
    "text": "like that is very soft",
    "start": "1462000",
    "end": "1463520"
  },
  {
    "text": "tried trial looked at the results and",
    "start": "1463520",
    "end": "1465600"
  },
  {
    "text": "then tried a more recent trial",
    "start": "1465600",
    "end": "1468480"
  },
  {
    "text": "we would like eventually to have",
    "start": "1468480",
    "end": "1471679"
  },
  {
    "text": "more number of blue dots",
    "start": "1471679",
    "end": "1475039"
  },
  {
    "text": "in upper half of this chart right",
    "start": "1475039",
    "end": "1478159"
  },
  {
    "text": "we want more accuracy as the b",
    "start": "1478159",
    "end": "1481360"
  },
  {
    "text": "soft is working on optimizing these",
    "start": "1481360",
    "end": "1483120"
  },
  {
    "text": "hyper parameters",
    "start": "1483120",
    "end": "1484559"
  },
  {
    "text": "but as you see that's not the case here",
    "start": "1484559",
    "end": "1486960"
  },
  {
    "text": "there are a lot of",
    "start": "1486960",
    "end": "1488000"
  },
  {
    "text": "experiments even at the end of the",
    "start": "1488000",
    "end": "1491039"
  },
  {
    "text": "session with lower accuracies",
    "start": "1491039",
    "end": "1495039"
  },
  {
    "text": "so you might think that fine we can tune",
    "start": "1495039",
    "end": "1498320"
  },
  {
    "text": "bay sorts hyper parameters",
    "start": "1498320",
    "end": "1500720"
  },
  {
    "text": "to solve this problem but isn't this",
    "start": "1500720",
    "end": "1503520"
  },
  {
    "text": "like an inception",
    "start": "1503520",
    "end": "1504559"
  },
  {
    "text": "we are trying to solve hyper parameters",
    "start": "1504559",
    "end": "1506559"
  },
  {
    "text": "of the model",
    "start": "1506559",
    "end": "1507760"
  },
  {
    "text": "but in order to get better hyper",
    "start": "1507760",
    "end": "1509279"
  },
  {
    "text": "parameters for the model we are to",
    "start": "1509279",
    "end": "1510880"
  },
  {
    "text": "tune hyper parameters of the base of",
    "start": "1510880",
    "end": "1513360"
  },
  {
    "text": "itself",
    "start": "1513360",
    "end": "1514640"
  },
  {
    "text": "so i chose a different approach to solve",
    "start": "1514640",
    "end": "1516960"
  },
  {
    "text": "this problem",
    "start": "1516960",
    "end": "1518559"
  },
  {
    "text": "that is using pbt algorithm",
    "start": "1518559",
    "end": "1521840"
  },
  {
    "text": "pbt or population based training is",
    "start": "1521840",
    "end": "1524480"
  },
  {
    "text": "another algorithm from raytune",
    "start": "1524480",
    "end": "1526640"
  },
  {
    "text": "which is based on evolutionary and",
    "start": "1526640",
    "end": "1528799"
  },
  {
    "text": "genetic theory",
    "start": "1528799",
    "end": "1530640"
  },
  {
    "text": "the idea is it will try a set of trials",
    "start": "1530640",
    "end": "1533679"
  },
  {
    "text": "try a set of hyper parameters pick the",
    "start": "1533679",
    "end": "1536320"
  },
  {
    "text": "best of them",
    "start": "1536320",
    "end": "1537840"
  },
  {
    "text": "after some time and then modify them a",
    "start": "1537840",
    "end": "1540559"
  },
  {
    "text": "little bit",
    "start": "1540559",
    "end": "1541600"
  },
  {
    "text": "and then train them further as you can",
    "start": "1541600",
    "end": "1544240"
  },
  {
    "text": "see every",
    "start": "1544240",
    "end": "1545120"
  },
  {
    "text": "generation it tries to pick the best",
    "start": "1545120",
    "end": "1547840"
  },
  {
    "text": "train them further",
    "start": "1547840",
    "end": "1549279"
  },
  {
    "text": "and then again try to pick the best from",
    "start": "1549279",
    "end": "1551840"
  },
  {
    "text": "the second generation",
    "start": "1551840",
    "end": "1553520"
  },
  {
    "text": "this way we can find the best set of",
    "start": "1553520",
    "end": "1556559"
  },
  {
    "text": "hyper parameters",
    "start": "1556559",
    "end": "1557919"
  },
  {
    "text": "in a very short time with this approach",
    "start": "1557919",
    "end": "1561440"
  },
  {
    "text": "i started with the best configurations",
    "start": "1561440",
    "end": "1564320"
  },
  {
    "text": "from bay sort",
    "start": "1564320",
    "end": "1565440"
  },
  {
    "text": "and it trained using pvt and as you can",
    "start": "1565440",
    "end": "1568559"
  },
  {
    "text": "see",
    "start": "1568559",
    "end": "1569360"
  },
  {
    "text": "most of the trials in pvt are",
    "start": "1569360",
    "end": "1572799"
  },
  {
    "text": "in the upper half of the corner just",
    "start": "1572799",
    "end": "1574880"
  },
  {
    "text": "like we expected right that's what",
    "start": "1574880",
    "end": "1576480"
  },
  {
    "text": "exactly we want we want",
    "start": "1576480",
    "end": "1577919"
  },
  {
    "text": "more time to be spent on more promising",
    "start": "1577919",
    "end": "1582000"
  },
  {
    "text": "trials",
    "start": "1582840",
    "end": "1585279"
  },
  {
    "text": "another way to look at this result is by",
    "start": "1585279",
    "end": "1588480"
  },
  {
    "text": "seeing",
    "start": "1588480",
    "end": "1589120"
  },
  {
    "text": "how packed each of these trials are as",
    "start": "1589120",
    "end": "1592240"
  },
  {
    "text": "you can see i am comparing",
    "start": "1592240",
    "end": "1593919"
  },
  {
    "text": "hyper opt baseop and pvt",
    "start": "1593919",
    "end": "1597200"
  },
  {
    "text": "with x-axis with the time and the y-axis",
    "start": "1597200",
    "end": "1601279"
  },
  {
    "text": "as the accuracy hyper opt spent a lot of",
    "start": "1601279",
    "end": "1604080"
  },
  {
    "text": "time on trials which are not successful",
    "start": "1604080",
    "end": "1606080"
  },
  {
    "text": "like you can see these",
    "start": "1606080",
    "end": "1607120"
  },
  {
    "text": "pink color lines whereas bay soft was",
    "start": "1607120",
    "end": "1610320"
  },
  {
    "text": "able to use this smart",
    "start": "1610320",
    "end": "1613039"
  },
  {
    "text": "early stopping approach and was spending",
    "start": "1613039",
    "end": "1615760"
  },
  {
    "text": "most of its time on more promising",
    "start": "1615760",
    "end": "1617600"
  },
  {
    "text": "results",
    "start": "1617600",
    "end": "1618400"
  },
  {
    "text": "but you can see pvt spent almost all the",
    "start": "1618400",
    "end": "1621600"
  },
  {
    "text": "time in a very compact manner you can",
    "start": "1621600",
    "end": "1623679"
  },
  {
    "text": "see these lines are packed right",
    "start": "1623679",
    "end": "1625440"
  },
  {
    "text": "most of the trials are being utilized or",
    "start": "1625440",
    "end": "1628320"
  },
  {
    "text": "being",
    "start": "1628320",
    "end": "1628960"
  },
  {
    "text": "used for very promising configurations",
    "start": "1628960",
    "end": "1633520"
  },
  {
    "text": "in summary we tried four approaches",
    "start": "1633520",
    "end": "1636480"
  },
  {
    "text": "three from raytune and one manual",
    "start": "1636480",
    "end": "1638640"
  },
  {
    "text": "and we saw that how pbt",
    "start": "1638640",
    "end": "1641760"
  },
  {
    "text": "and i observed that pbt gave a very good",
    "start": "1641760",
    "end": "1644159"
  },
  {
    "text": "result",
    "start": "1644159",
    "end": "1644880"
  },
  {
    "text": "in terms of accuracy so you can see in",
    "start": "1644880",
    "end": "1647520"
  },
  {
    "text": "this chart",
    "start": "1647520",
    "end": "1648320"
  },
  {
    "text": "pbt's loss",
    "start": "1648320",
    "end": "1651360"
  },
  {
    "text": "is lower than all the other approaches",
    "start": "1651360",
    "end": "1654080"
  },
  {
    "text": "however pvd",
    "start": "1654080",
    "end": "1655200"
  },
  {
    "text": "is having another it is not as fast as",
    "start": "1655200",
    "end": "1658640"
  },
  {
    "text": "baysoft and",
    "start": "1658640",
    "end": "1659600"
  },
  {
    "text": "hp but it is spending most of its time",
    "start": "1659600",
    "end": "1663360"
  },
  {
    "text": "on promising trials though it is not",
    "start": "1663360",
    "end": "1666000"
  },
  {
    "text": "able to explore",
    "start": "1666000",
    "end": "1667039"
  },
  {
    "text": "as fast as others it's not the slowest",
    "start": "1667039",
    "end": "1670320"
  },
  {
    "text": "to be honest",
    "start": "1670320",
    "end": "1672960"
  },
  {
    "text": "then with this we deployed it into",
    "start": "1672960",
    "end": "1674960"
  },
  {
    "text": "production and we saw some amazing",
    "start": "1674960",
    "end": "1676960"
  },
  {
    "text": "results",
    "start": "1676960",
    "end": "1677760"
  },
  {
    "text": "we saw huge improvements in activity of",
    "start": "1677760",
    "end": "1680399"
  },
  {
    "text": "our members",
    "start": "1680399",
    "end": "1681360"
  },
  {
    "text": "number of weekly active users have",
    "start": "1681360",
    "end": "1683279"
  },
  {
    "text": "increased",
    "start": "1683279",
    "end": "1684399"
  },
  {
    "text": "and also the revenue has slightly",
    "start": "1684399",
    "end": "1686080"
  },
  {
    "text": "increased",
    "start": "1686080",
    "end": "1687440"
  },
  {
    "text": "with this amazing positive result we",
    "start": "1687440",
    "end": "1690320"
  },
  {
    "text": "wanted to scale nqs",
    "start": "1690320",
    "end": "1692159"
  },
  {
    "text": "to other use cases at linkedin",
    "start": "1692159",
    "end": "1696240"
  },
  {
    "text": "and we are in the process of doing that",
    "start": "1696240",
    "end": "1698799"
  },
  {
    "text": "not only that we wanted to extend this",
    "start": "1698799",
    "end": "1700960"
  },
  {
    "text": "tuning concept in a not in a more",
    "start": "1700960",
    "end": "1703760"
  },
  {
    "text": "regular and automated manner",
    "start": "1703760",
    "end": "1705520"
  },
  {
    "text": "so that the models are trained",
    "start": "1705520",
    "end": "1707840"
  },
  {
    "text": "frequently on newer data when the data",
    "start": "1707840",
    "end": "1709919"
  },
  {
    "text": "distribution changes heavily",
    "start": "1709919",
    "end": "1712799"
  },
  {
    "text": "but besides that we also want to use",
    "start": "1712799",
    "end": "1716000"
  },
  {
    "text": "ai for other interesting performance",
    "start": "1716000",
    "end": "1718159"
  },
  {
    "text": "problems like",
    "start": "1718159",
    "end": "1719360"
  },
  {
    "text": "choosing the right image compression",
    "start": "1719360",
    "end": "1720960"
  },
  {
    "text": "algorithm based on the type of image and",
    "start": "1720960",
    "end": "1724559"
  },
  {
    "text": "something like predicting what the",
    "start": "1724559",
    "end": "1727200"
  },
  {
    "text": "members",
    "start": "1727200",
    "end": "1727760"
  },
  {
    "text": "might visit next let's say they are",
    "start": "1727760",
    "end": "1730000"
  },
  {
    "text": "going to visit jobs page next",
    "start": "1730000",
    "end": "1731840"
  },
  {
    "text": "can we predict and prefetch the results",
    "start": "1731840",
    "end": "1734640"
  },
  {
    "text": "or",
    "start": "1734640",
    "end": "1734960"
  },
  {
    "text": "the page so that when they visit it will",
    "start": "1734960",
    "end": "1737039"
  },
  {
    "text": "be much faster",
    "start": "1737039",
    "end": "1738240"
  },
  {
    "text": "so we see lot of interesting areas where",
    "start": "1738240",
    "end": "1741440"
  },
  {
    "text": "ai can be",
    "start": "1741440",
    "end": "1742240"
  },
  {
    "text": "used so praveen and prasanna are my",
    "start": "1742240",
    "end": "1746880"
  },
  {
    "text": "other colleagues",
    "start": "1746880",
    "end": "1747919"
  },
  {
    "text": "whom i worked with extensively in",
    "start": "1747919",
    "end": "1750159"
  },
  {
    "text": "productionizing designing this model",
    "start": "1750159",
    "end": "1751919"
  },
  {
    "text": "using raytune extensively",
    "start": "1751919",
    "end": "1753840"
  },
  {
    "text": "and we would like to thank richard a lot",
    "start": "1753840",
    "end": "1756080"
  },
  {
    "text": "for guiding us",
    "start": "1756080",
    "end": "1757520"
  },
  {
    "text": "in many aspects and helping us solving",
    "start": "1757520",
    "end": "1759919"
  },
  {
    "text": "many tricky",
    "start": "1759919",
    "end": "1761360"
  },
  {
    "text": "situations in using raytune",
    "start": "1761360",
    "end": "1764799"
  },
  {
    "text": "that's all folks thank you",
    "start": "1764799",
    "end": "1770639"
  }
]