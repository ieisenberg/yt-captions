[
  {
    "text": "so we're going to follow up a bit on the",
    "start": "80",
    "end": "1439"
  },
  {
    "text": "vpn video we did the other day one of",
    "start": "1439",
    "end": "3360"
  },
  {
    "text": "the things i mentioned in that video is",
    "start": "3360",
    "end": "4799"
  },
  {
    "text": "how vpns often use udp or raw ip sockets",
    "start": "4799",
    "end": "9280"
  },
  {
    "text": "to send the data rather than using tcp",
    "start": "9280",
    "end": "11840"
  },
  {
    "text": "to communicate which is what lots of",
    "start": "11840",
    "end": "13200"
  },
  {
    "text": "other protocols like http and so on use",
    "start": "13200",
    "end": "16160"
  },
  {
    "text": "to communicate i thought it'd be a good",
    "start": "16160",
    "end": "17920"
  },
  {
    "text": "idea to follow up on why they use udp",
    "start": "17920",
    "end": "20000"
  },
  {
    "text": "rather than tcp because if they did use",
    "start": "20000",
    "end": "22480"
  },
  {
    "text": "tcp you would suffer from what's been",
    "start": "22480",
    "end": "24480"
  },
  {
    "text": "dubbed the tcp meltdown problem and so",
    "start": "24480",
    "end": "27760"
  },
  {
    "text": "it's a good idea to look at this because",
    "start": "27760",
    "end": "28960"
  },
  {
    "text": "we actually get to see a lot of how the",
    "start": "28960",
    "end": "30320"
  },
  {
    "text": "internet works and how we make sure that",
    "start": "30320",
    "end": "32320"
  },
  {
    "text": "the data that's sent from your from the",
    "start": "32320",
    "end": "34160"
  },
  {
    "text": "server to the client gets there reliably",
    "start": "34160",
    "end": "36480"
  },
  {
    "text": "or vice versa",
    "start": "36480",
    "end": "39440"
  },
  {
    "text": "so to understand what's going on it",
    "start": "40000",
    "end": "41760"
  },
  {
    "text": "helps to sort of think about how the",
    "start": "41760",
    "end": "43520"
  },
  {
    "text": "internet works now the internet is built",
    "start": "43520",
    "end": "45600"
  },
  {
    "text": "around the internet protocol ip which is",
    "start": "45600",
    "end": "48480"
  },
  {
    "text": "designed to enable a computer to send a",
    "start": "48480",
    "end": "50800"
  },
  {
    "text": "packet of data so a small amount of data",
    "start": "50800",
    "end": "53520"
  },
  {
    "text": "anywhere on the internet so you can take",
    "start": "53520",
    "end": "55520"
  },
  {
    "text": "that piece of data it's a destination",
    "start": "55520",
    "end": "57520"
  },
  {
    "text": "address of where it wants to go with",
    "start": "57520",
    "end": "58640"
  },
  {
    "text": "source address and ip says i will send",
    "start": "58640",
    "end": "61680"
  },
  {
    "text": "this packet out anywhere over the",
    "start": "61680",
    "end": "63840"
  },
  {
    "text": "internet to where you want it to go so i",
    "start": "63840",
    "end": "65439"
  },
  {
    "text": "can send it from my house to sean's",
    "start": "65439",
    "end": "66880"
  },
  {
    "text": "house i can send it from my house to",
    "start": "66880",
    "end": "68640"
  },
  {
    "text": "microsoft or apple service to get a web",
    "start": "68640",
    "end": "70560"
  },
  {
    "text": "page whatever it is i want to do now ip",
    "start": "70560",
    "end": "74560"
  },
  {
    "text": "says i will do my best to get this",
    "start": "74560",
    "end": "76320"
  },
  {
    "text": "packet to you",
    "start": "76320",
    "end": "77759"
  },
  {
    "text": "i will try and pass it on but something",
    "start": "77759",
    "end": "80240"
  },
  {
    "text": "may go wrong i may have it may not get",
    "start": "80240",
    "end": "82320"
  },
  {
    "text": "there and in that case",
    "start": "82320",
    "end": "84320"
  },
  {
    "text": "ah oh well um it's what's called a best",
    "start": "84320",
    "end": "87600"
  },
  {
    "text": "effort network ip doesn't guarantee that",
    "start": "87600",
    "end": "90479"
  },
  {
    "text": "it will get your packet from point a",
    "start": "90479",
    "end": "92720"
  },
  {
    "text": "your machine to point b the destination",
    "start": "92720",
    "end": "95119"
  },
  {
    "text": "it says it'll do its best it's not what",
    "start": "95119",
    "end": "97200"
  },
  {
    "text": "we call a reliable network a reliable",
    "start": "97200",
    "end": "99280"
  },
  {
    "text": "network is one where when you send some",
    "start": "99280",
    "end": "101439"
  },
  {
    "text": "data",
    "start": "101439",
    "end": "102399"
  },
  {
    "text": "it'll guarantee that it'll be received",
    "start": "102399",
    "end": "104399"
  },
  {
    "text": "or it'll tell you that it hasn't been",
    "start": "104399",
    "end": "106320"
  },
  {
    "text": "received ip doesn't do that ip is the",
    "start": "106320",
    "end": "108399"
  },
  {
    "text": "best effort network it'll do its best to",
    "start": "108399",
    "end": "110479"
  },
  {
    "text": "get there and these days probably 99 out",
    "start": "110479",
    "end": "113040"
  },
  {
    "text": "of 100 times whatever the percentages",
    "start": "113040",
    "end": "114960"
  },
  {
    "text": "are the package will get there but",
    "start": "114960",
    "end": "116960"
  },
  {
    "text": "occasionally there'll be a sort of splat",
    "start": "116960",
    "end": "119280"
  },
  {
    "text": "of noise on the one of the networks",
    "start": "119280",
    "end": "120799"
  },
  {
    "text": "somewhere that obliterates the packet a",
    "start": "120799",
    "end": "122799"
  },
  {
    "text": "computer will have too many packets",
    "start": "122799",
    "end": "124240"
  },
  {
    "text": "arriving at it and one will get dropped",
    "start": "124240",
    "end": "126079"
  },
  {
    "text": "it just won't get there that's just the",
    "start": "126079",
    "end": "128000"
  },
  {
    "text": "way the internet works it doesn't",
    "start": "128000",
    "end": "129679"
  },
  {
    "text": "guarantee that your data will get from a",
    "start": "129679",
    "end": "131599"
  },
  {
    "text": "to b",
    "start": "131599",
    "end": "132400"
  },
  {
    "text": "now this sounds like it should be a",
    "start": "132400",
    "end": "134319"
  },
  {
    "text": "problem but actually what we can do is",
    "start": "134319",
    "end": "137280"
  },
  {
    "text": "we can build other things on top of that",
    "start": "137280",
    "end": "139520"
  },
  {
    "text": "unreliable network which give us",
    "start": "139520",
    "end": "141520"
  },
  {
    "text": "reliable transport so we can send things",
    "start": "141520",
    "end": "144400"
  },
  {
    "text": "over that network but as it stands it's",
    "start": "144400",
    "end": "146640"
  },
  {
    "text": "worth remembering this because this is",
    "start": "146640",
    "end": "147840"
  },
  {
    "text": "part of the reason that we get this tcp",
    "start": "147840",
    "end": "149680"
  },
  {
    "text": "meltdown problem ip is an unreliable",
    "start": "149680",
    "end": "152800"
  },
  {
    "text": "network it also doesn't guarantee that",
    "start": "152800",
    "end": "154879"
  },
  {
    "text": "the packets you send will arrive in the",
    "start": "154879",
    "end": "157040"
  },
  {
    "text": "order that you send them",
    "start": "157040",
    "end": "159120"
  },
  {
    "text": "and",
    "start": "159120",
    "end": "159920"
  },
  {
    "text": "there's no correlation between the",
    "start": "159920",
    "end": "161360"
  },
  {
    "text": "packets you send you send packet packet",
    "start": "161360",
    "end": "162959"
  },
  {
    "text": "packet and they arrive at the other",
    "start": "162959",
    "end": "164160"
  },
  {
    "text": "machines as separate packets it's up to",
    "start": "164160",
    "end": "165840"
  },
  {
    "text": "the other machine to sort of understand",
    "start": "165840",
    "end": "168160"
  },
  {
    "text": "how they get there",
    "start": "168160",
    "end": "169680"
  },
  {
    "text": "and it's worth remembering these three",
    "start": "169680",
    "end": "171200"
  },
  {
    "text": "things because these are part of the",
    "start": "171200",
    "end": "173040"
  },
  {
    "text": "problem that leads to tcp meltdown so",
    "start": "173040",
    "end": "175680"
  },
  {
    "text": "even though ip doesn't give us a",
    "start": "175680",
    "end": "177040"
  },
  {
    "text": "reliable network this isn't a problem",
    "start": "177040",
    "end": "178560"
  },
  {
    "text": "for the internet because we can build",
    "start": "178560",
    "end": "180800"
  },
  {
    "text": "other things on top of that and one of",
    "start": "180800",
    "end": "182640"
  },
  {
    "text": "the things that we use is tcp tcp over",
    "start": "182640",
    "end": "185440"
  },
  {
    "text": "ip tcp stands for the transmission",
    "start": "185440",
    "end": "188159"
  },
  {
    "text": "control protocol what tcp does is it",
    "start": "188159",
    "end": "190560"
  },
  {
    "text": "uses ip packets",
    "start": "190560",
    "end": "192480"
  },
  {
    "text": "in specific way between the two ends of",
    "start": "192480",
    "end": "194720"
  },
  {
    "text": "the connection to guarantee",
    "start": "194720",
    "end": "196720"
  },
  {
    "text": "a reliable connection between the two",
    "start": "196720",
    "end": "198800"
  },
  {
    "text": "machines what this means is when you",
    "start": "198800",
    "end": "200239"
  },
  {
    "text": "send data you can guarantee this will",
    "start": "200239",
    "end": "202000"
  },
  {
    "text": "arrive in order down that tcp connection",
    "start": "202000",
    "end": "205040"
  },
  {
    "text": "it'll guarantee that they will get there",
    "start": "205040",
    "end": "207360"
  },
  {
    "text": "and they will correlate them together so",
    "start": "207360",
    "end": "208959"
  },
  {
    "text": "you can open a connection between two",
    "start": "208959",
    "end": "210319"
  },
  {
    "text": "machines and the data you sent down one",
    "start": "210319",
    "end": "212400"
  },
  {
    "text": "will arrive to the program at the other",
    "start": "212400",
    "end": "214640"
  },
  {
    "text": "as is expected so this is guaranteed by",
    "start": "214640",
    "end": "216799"
  },
  {
    "text": "tcp",
    "start": "216799",
    "end": "217840"
  },
  {
    "text": "and it does that by using the unreliable",
    "start": "217840",
    "end": "219840"
  },
  {
    "text": "ip packets",
    "start": "219840",
    "end": "221280"
  },
  {
    "text": "in a specific way but it's built on the",
    "start": "221280",
    "end": "223360"
  },
  {
    "text": "assumption",
    "start": "223360",
    "end": "224560"
  },
  {
    "text": "that ip is an unreliable network that",
    "start": "224560",
    "end": "227519"
  },
  {
    "text": "the packets may get lost they may arrive",
    "start": "227519",
    "end": "229599"
  },
  {
    "text": "out of order",
    "start": "229599",
    "end": "230879"
  },
  {
    "text": "and so on so and it has to take that",
    "start": "230879",
    "end": "232879"
  },
  {
    "text": "into account and again that comes down",
    "start": "232879",
    "end": "234959"
  },
  {
    "text": "to part of what is the problem if you",
    "start": "234959",
    "end": "236400"
  },
  {
    "text": "try and build a vpn on top of tcp so now",
    "start": "236400",
    "end": "238879"
  },
  {
    "text": "that it doesn't work is that the",
    "start": "238879",
    "end": "240159"
  },
  {
    "text": "performance drops and it'll become",
    "start": "240159",
    "end": "242080"
  },
  {
    "text": "really really slow when actually you",
    "start": "242080",
    "end": "243439"
  },
  {
    "text": "could get a much faster thing so what's",
    "start": "243439",
    "end": "245439"
  },
  {
    "text": "going on well it's worth looking at",
    "start": "245439",
    "end": "246799"
  },
  {
    "text": "actually how tcp works we can see that",
    "start": "246799",
    "end": "248959"
  },
  {
    "text": "and then we can see what happens when we",
    "start": "248959",
    "end": "250159"
  },
  {
    "text": "put one tcp connection inside another",
    "start": "250159",
    "end": "252879"
  },
  {
    "text": "tcp connection which is what would",
    "start": "252879",
    "end": "254080"
  },
  {
    "text": "happen if we ran a vpn over the top of a",
    "start": "254080",
    "end": "257199"
  },
  {
    "text": "tcp connection when we send data over",
    "start": "257199",
    "end": "259280"
  },
  {
    "text": "tcp connection we have a stream of data",
    "start": "259280",
    "end": "261120"
  },
  {
    "text": "that we're going to send from one",
    "start": "261120",
    "end": "262160"
  },
  {
    "text": "computer to the other abcde and so i'm",
    "start": "262160",
    "end": "265199"
  },
  {
    "text": "going to send that in order it's going",
    "start": "265199",
    "end": "266240"
  },
  {
    "text": "to arrive in order what tcp does is it",
    "start": "266240",
    "end": "269040"
  },
  {
    "text": "breaks that up into a series of packets",
    "start": "269040",
    "end": "272400"
  },
  {
    "text": "so we've got five packets what it does",
    "start": "272400",
    "end": "276240"
  },
  {
    "text": "is it puts a tcp header which contains",
    "start": "276240",
    "end": "279600"
  },
  {
    "text": "some information so that tcp can re",
    "start": "279600",
    "end": "283040"
  },
  {
    "text": "assemble the stream at the other end so",
    "start": "283040",
    "end": "284639"
  },
  {
    "text": "it adds an extra header in there so as",
    "start": "284639",
    "end": "286320"
  },
  {
    "text": "well as the ip packet header we've also",
    "start": "286320",
    "end": "288400"
  },
  {
    "text": "got a tcp packet header in there as well",
    "start": "288400",
    "end": "290880"
  },
  {
    "text": "so i'm drawing this in red on top of the",
    "start": "290880",
    "end": "292639"
  },
  {
    "text": "packet",
    "start": "292639",
    "end": "293600"
  },
  {
    "text": "and then just to pick another color",
    "start": "293600",
    "end": "295199"
  },
  {
    "text": "let's have a nice green",
    "start": "295199",
    "end": "296639"
  },
  {
    "text": "you've got the sort of ip header on",
    "start": "296639",
    "end": "299120"
  },
  {
    "text": "there",
    "start": "299120",
    "end": "300400"
  },
  {
    "text": "as well so we've got a series of packets",
    "start": "300400",
    "end": "303120"
  },
  {
    "text": "we want to say contain some data in this",
    "start": "303120",
    "end": "304320"
  },
  {
    "text": "case number one two three four five and",
    "start": "304320",
    "end": "306400"
  },
  {
    "text": "they're wrapped up in the tcp header and",
    "start": "306400",
    "end": "308560"
  },
  {
    "text": "they're wrapped up in the ip header as",
    "start": "308560",
    "end": "311360"
  },
  {
    "text": "well and then they're sent out over the",
    "start": "311360",
    "end": "312639"
  },
  {
    "text": "internet but what does tcp need to do to",
    "start": "312639",
    "end": "315280"
  },
  {
    "text": "make sure that it can reassemble this",
    "start": "315280",
    "end": "317039"
  },
  {
    "text": "data in the right order",
    "start": "317039",
    "end": "318960"
  },
  {
    "text": "well the first thing it does is in the",
    "start": "318960",
    "end": "320560"
  },
  {
    "text": "tcp header it gives each packet a",
    "start": "320560",
    "end": "323759"
  },
  {
    "text": "sequence number and this is just a",
    "start": "323759",
    "end": "325840"
  },
  {
    "text": "number that increases each time it gets",
    "start": "325840",
    "end": "328560"
  },
  {
    "text": "sent over the internet and now if these",
    "start": "328560",
    "end": "330880"
  },
  {
    "text": "packets arrive in a different order say",
    "start": "330880",
    "end": "332800"
  },
  {
    "text": "we get packet one packet two packet four",
    "start": "332800",
    "end": "335199"
  },
  {
    "text": "packet five packet three",
    "start": "335199",
    "end": "337440"
  },
  {
    "text": "when they arrive because they've perhaps",
    "start": "337440",
    "end": "339120"
  },
  {
    "text": "taken different routes around the",
    "start": "339120",
    "end": "340960"
  },
  {
    "text": "internet then the algorithm can reorder",
    "start": "340960",
    "end": "344000"
  },
  {
    "text": "them just by sorting them into the right",
    "start": "344000",
    "end": "345840"
  },
  {
    "text": "order because we can use the sequence",
    "start": "345840",
    "end": "347199"
  },
  {
    "text": "number so it's relatively",
    "start": "347199",
    "end": "349360"
  },
  {
    "text": "straightforward to solve the problem",
    "start": "349360",
    "end": "350800"
  },
  {
    "text": "that the packets may arrive out of order",
    "start": "350800",
    "end": "352960"
  },
  {
    "text": "because we can resequence them but how",
    "start": "352960",
    "end": "354880"
  },
  {
    "text": "do we solve the problem that the packet",
    "start": "354880",
    "end": "356560"
  },
  {
    "text": "may get lost",
    "start": "356560",
    "end": "357919"
  },
  {
    "text": "well",
    "start": "357919",
    "end": "359360"
  },
  {
    "text": "the answer is relatively straightforward",
    "start": "359360",
    "end": "361039"
  },
  {
    "text": "let me",
    "start": "361039",
    "end": "362000"
  },
  {
    "text": "start another diagram",
    "start": "362000",
    "end": "363840"
  },
  {
    "text": "let's have a think about what we've got",
    "start": "363840",
    "end": "365360"
  },
  {
    "text": "on our two machines we've got our",
    "start": "365360",
    "end": "367360"
  },
  {
    "text": "sending machine here we'll call that s",
    "start": "367360",
    "end": "369680"
  },
  {
    "text": "and we've got our receiving machine over",
    "start": "369680",
    "end": "371680"
  },
  {
    "text": "here we'll call that r and this is going",
    "start": "371680",
    "end": "374000"
  },
  {
    "text": "to send packets to the other machine so",
    "start": "374000",
    "end": "376000"
  },
  {
    "text": "it'll send packet one over to the",
    "start": "376000",
    "end": "378479"
  },
  {
    "text": "machine that'll take some time to get",
    "start": "378479",
    "end": "379919"
  },
  {
    "text": "there but eventually it'll get there and",
    "start": "379919",
    "end": "381440"
  },
  {
    "text": "then it will send packet two",
    "start": "381440",
    "end": "384160"
  },
  {
    "text": "and then it will send packet three",
    "start": "384160",
    "end": "386800"
  },
  {
    "text": "then it sends bracket four but let's say",
    "start": "386800",
    "end": "388240"
  },
  {
    "text": "that gets lost in transmission it then",
    "start": "388240",
    "end": "390960"
  },
  {
    "text": "sends packet five so we've got one two",
    "start": "390960",
    "end": "394319"
  },
  {
    "text": "three four",
    "start": "394319",
    "end": "395919"
  },
  {
    "text": "five",
    "start": "395919",
    "end": "396800"
  },
  {
    "text": "and at the other end we received packet",
    "start": "396800",
    "end": "398240"
  },
  {
    "text": "one packet two packet three and packet",
    "start": "398240",
    "end": "401280"
  },
  {
    "text": "five",
    "start": "401280",
    "end": "402479"
  },
  {
    "text": "now how does the tcp algorithm make sure",
    "start": "402479",
    "end": "405440"
  },
  {
    "text": "that it gets all of them and it can send",
    "start": "405440",
    "end": "407039"
  },
  {
    "text": "the data in the right order",
    "start": "407039",
    "end": "408800"
  },
  {
    "text": "well it's really quite simple what",
    "start": "408800",
    "end": "410160"
  },
  {
    "text": "happens is",
    "start": "410160",
    "end": "411440"
  },
  {
    "text": "when the receiving machine has received",
    "start": "411440",
    "end": "413759"
  },
  {
    "text": "a packet of data",
    "start": "413759",
    "end": "415280"
  },
  {
    "text": "it sends back an acknowledgement package",
    "start": "415280",
    "end": "417599"
  },
  {
    "text": "so it just says to the other machine yep",
    "start": "417599",
    "end": "419599"
  },
  {
    "text": "i received packet one yep i've received",
    "start": "419599",
    "end": "422000"
  },
  {
    "text": "packet two and at this point the sender",
    "start": "422000",
    "end": "424560"
  },
  {
    "text": "knows the packet one's been received",
    "start": "424560",
    "end": "426080"
  },
  {
    "text": "correctly",
    "start": "426080",
    "end": "427360"
  },
  {
    "text": "it gets the acknowledgement from packet",
    "start": "427360",
    "end": "429360"
  },
  {
    "text": "two it knows that's been received",
    "start": "429360",
    "end": "431440"
  },
  {
    "text": "correctly it gets the acknowledgement",
    "start": "431440",
    "end": "432720"
  },
  {
    "text": "from packet three",
    "start": "432720",
    "end": "434319"
  },
  {
    "text": "knows that that's been received",
    "start": "434319",
    "end": "435440"
  },
  {
    "text": "correctly",
    "start": "435440",
    "end": "436639"
  },
  {
    "text": "but it never gets an acknowledgement",
    "start": "436639",
    "end": "438000"
  },
  {
    "text": "from packet four because it was never",
    "start": "438000",
    "end": "439759"
  },
  {
    "text": "received and then eventually you'll get",
    "start": "439759",
    "end": "441440"
  },
  {
    "text": "an acknowledgement from packet five so",
    "start": "441440",
    "end": "444000"
  },
  {
    "text": "if we send an acknowledgement of receipt",
    "start": "444000",
    "end": "446160"
  },
  {
    "text": "we say to the thing that sent it yep i",
    "start": "446160",
    "end": "448000"
  },
  {
    "text": "got packet one or whatever the sequence",
    "start": "448000",
    "end": "449599"
  },
  {
    "text": "number we put on it yep i got packet two",
    "start": "449599",
    "end": "452000"
  },
  {
    "text": "or whatever the sequence number i put on",
    "start": "452000",
    "end": "453599"
  },
  {
    "text": "it then the other end knows that that's",
    "start": "453599",
    "end": "456080"
  },
  {
    "text": "been received what does it do when they",
    "start": "456080",
    "end": "457919"
  },
  {
    "text": "get lost well at the same time as",
    "start": "457919",
    "end": "460080"
  },
  {
    "text": "transmitting a packet so when it",
    "start": "460080",
    "end": "461599"
  },
  {
    "text": "transmits packet one",
    "start": "461599",
    "end": "463680"
  },
  {
    "text": "it also puts a copy",
    "start": "463680",
    "end": "466000"
  },
  {
    "text": "of packet one in what's called the",
    "start": "466000",
    "end": "468560"
  },
  {
    "text": "retransmission queue and when it sends",
    "start": "468560",
    "end": "470400"
  },
  {
    "text": "packet two it puts a copy of packet two",
    "start": "470400",
    "end": "472639"
  },
  {
    "text": "in there",
    "start": "472639",
    "end": "473680"
  },
  {
    "text": "and it puts packet three",
    "start": "473680",
    "end": "475520"
  },
  {
    "text": "packet four",
    "start": "475520",
    "end": "477520"
  },
  {
    "text": "and packet five and when it puts these",
    "start": "477520",
    "end": "480000"
  },
  {
    "text": "packets on there it sets a countdown",
    "start": "480000",
    "end": "482160"
  },
  {
    "text": "timer with them that after a certain",
    "start": "482160",
    "end": "484160"
  },
  {
    "text": "amount of time",
    "start": "484160",
    "end": "485599"
  },
  {
    "text": "will",
    "start": "485599",
    "end": "486560"
  },
  {
    "text": "expire and at that point if it hasn't",
    "start": "486560",
    "end": "488479"
  },
  {
    "text": "received the acknowledgement as soon as",
    "start": "488479",
    "end": "490560"
  },
  {
    "text": "it's been lost re-transmitted and then",
    "start": "490560",
    "end": "492639"
  },
  {
    "text": "restart the countdown again and so if",
    "start": "492639",
    "end": "495120"
  },
  {
    "text": "the enhancement isn't received either",
    "start": "495120",
    "end": "497120"
  },
  {
    "text": "because the packet didn't get there or",
    "start": "497120",
    "end": "499440"
  },
  {
    "text": "because the acknowledgement got lost on",
    "start": "499440",
    "end": "501120"
  },
  {
    "text": "the route which can happen that's not a",
    "start": "501120",
    "end": "502800"
  },
  {
    "text": "problem then",
    "start": "502800",
    "end": "504720"
  },
  {
    "text": "the packet will get sent again and",
    "start": "504720",
    "end": "506240"
  },
  {
    "text": "because tcp keeps track of the sequence",
    "start": "506240",
    "end": "508160"
  },
  {
    "text": "numbers if it gets duplicates if the",
    "start": "508160",
    "end": "510080"
  },
  {
    "text": "acknowledgement gets lost that's not a",
    "start": "510080",
    "end": "511280"
  },
  {
    "text": "problem either it can eventually will",
    "start": "511280",
    "end": "513518"
  },
  {
    "text": "get all the packets and can resort them",
    "start": "513519",
    "end": "515200"
  },
  {
    "text": "into order",
    "start": "515200",
    "end": "516399"
  },
  {
    "text": "now",
    "start": "516399",
    "end": "517360"
  },
  {
    "text": "it doesn't actually work exactly like",
    "start": "517360",
    "end": "519039"
  },
  {
    "text": "this it's not sending a packet then",
    "start": "519039",
    "end": "520240"
  },
  {
    "text": "waiting for acknowledgement and sending",
    "start": "520240",
    "end": "521518"
  },
  {
    "text": "a packet what it uses is also a thing",
    "start": "521519",
    "end": "524080"
  },
  {
    "text": "called a window on the receiving end",
    "start": "524080",
    "end": "526640"
  },
  {
    "text": "which says you can send up to this many",
    "start": "526640",
    "end": "528800"
  },
  {
    "text": "packets before i'll send an",
    "start": "528800",
    "end": "530399"
  },
  {
    "text": "acknowledgement for you effectively it's",
    "start": "530399",
    "end": "531920"
  },
  {
    "text": "a bit more complicated than that but",
    "start": "531920",
    "end": "533120"
  },
  {
    "text": "that's the general gist",
    "start": "533120",
    "end": "534640"
  },
  {
    "text": "so that",
    "start": "534640",
    "end": "536160"
  },
  {
    "text": "you don't have to keep waiting for it",
    "start": "536160",
    "end": "537440"
  },
  {
    "text": "and you can make the most use of the",
    "start": "537440",
    "end": "538640"
  },
  {
    "text": "bandwidth between the two machines so",
    "start": "538640",
    "end": "540399"
  },
  {
    "text": "there's a bit of optimizations there but",
    "start": "540399",
    "end": "542160"
  },
  {
    "text": "you now have a problem",
    "start": "542160",
    "end": "544240"
  },
  {
    "text": "how long do you wait before resetting",
    "start": "544240",
    "end": "546240"
  },
  {
    "text": "that packet and how many packets do you",
    "start": "546240",
    "end": "548399"
  },
  {
    "text": "allow to be built up in that window",
    "start": "548399",
    "end": "551440"
  },
  {
    "text": "before you stop sending it this very",
    "start": "551440",
    "end": "554160"
  },
  {
    "text": "much depends on your network conditions",
    "start": "554160",
    "end": "556160"
  },
  {
    "text": "if you've got a very fast local area",
    "start": "556160",
    "end": "557680"
  },
  {
    "text": "network waiting 30 seconds for a packet",
    "start": "557680",
    "end": "561040"
  },
  {
    "text": "before you resent it is probably not",
    "start": "561040",
    "end": "562880"
  },
  {
    "text": "using the network that well because if",
    "start": "562880",
    "end": "564800"
  },
  {
    "text": "you haven't received the acknowledgement",
    "start": "564800",
    "end": "566399"
  },
  {
    "text": "probably in a few micro second or few",
    "start": "566399",
    "end": "568800"
  },
  {
    "text": "milliseconds",
    "start": "568800",
    "end": "570080"
  },
  {
    "text": "chances are you're not going to receive",
    "start": "570080",
    "end": "571680"
  },
  {
    "text": "that packet likewise",
    "start": "571680",
    "end": "573920"
  },
  {
    "text": "waiting a few seconds on a very",
    "start": "573920",
    "end": "575519"
  },
  {
    "text": "congested slow",
    "start": "575519",
    "end": "577120"
  },
  {
    "text": "link particularly when tcp was creating",
    "start": "577120",
    "end": "578800"
  },
  {
    "text": "the 80s perhaps a sort of 56 kilobit",
    "start": "578800",
    "end": "581120"
  },
  {
    "text": "network link waiting a few seconds",
    "start": "581120",
    "end": "583360"
  },
  {
    "text": "probably wouldn't be a good time either",
    "start": "583360",
    "end": "585440"
  },
  {
    "text": "because the chances of the network is",
    "start": "585440",
    "end": "586720"
  },
  {
    "text": "more loaded so what ccp does is it",
    "start": "586720",
    "end": "589440"
  },
  {
    "text": "analyzes this thing as it starts sending",
    "start": "589440",
    "end": "591519"
  },
  {
    "text": "data so it starts in the data out and",
    "start": "591519",
    "end": "594640"
  },
  {
    "text": "you look at what's happening how long",
    "start": "594640",
    "end": "596640"
  },
  {
    "text": "it's taking for the acknowledgements to",
    "start": "596640",
    "end": "598800"
  },
  {
    "text": "be returned how quickly the window is",
    "start": "598800",
    "end": "600800"
  },
  {
    "text": "getting filled up and so on and it",
    "start": "600800",
    "end": "602560"
  },
  {
    "text": "adjusts both the window size and the",
    "start": "602560",
    "end": "604720"
  },
  {
    "text": "re-transmission timer on the fly to find",
    "start": "604720",
    "end": "607680"
  },
  {
    "text": "the best performance",
    "start": "607680",
    "end": "609360"
  },
  {
    "text": "for that network at that point",
    "start": "609360",
    "end": "611920"
  },
  {
    "text": "so that's what it's doing and it's doing",
    "start": "611920",
    "end": "613680"
  },
  {
    "text": "that because it knows that the network",
    "start": "613680",
    "end": "615120"
  },
  {
    "text": "is transmitting over is unreliable the",
    "start": "615120",
    "end": "617360"
  },
  {
    "text": "packets may get lost and that they may",
    "start": "617360",
    "end": "619440"
  },
  {
    "text": "arrive out of sequence so it can reorder",
    "start": "619440",
    "end": "621279"
  },
  {
    "text": "them using the sequence numbers",
    "start": "621279",
    "end": "623440"
  },
  {
    "text": "it sends acknowledgements and so on it",
    "start": "623440",
    "end": "625360"
  },
  {
    "text": "knows that the packets may get lost as",
    "start": "625360",
    "end": "626720"
  },
  {
    "text": "they're being transmitted it knows that",
    "start": "626720",
    "end": "628480"
  },
  {
    "text": "they may arrive out of order so by",
    "start": "628480",
    "end": "630079"
  },
  {
    "text": "giving the sequence numbers on there by",
    "start": "630079",
    "end": "632000"
  },
  {
    "text": "using the acknowledgements back to the",
    "start": "632000",
    "end": "633519"
  },
  {
    "text": "thing that was sending it it's able to",
    "start": "633519",
    "end": "635279"
  },
  {
    "text": "correct for these things and analyze the",
    "start": "635279",
    "end": "637440"
  },
  {
    "text": "network connections to make best use of",
    "start": "637440",
    "end": "639120"
  },
  {
    "text": "the available network at that point in",
    "start": "639120",
    "end": "640880"
  },
  {
    "text": "time",
    "start": "640880",
    "end": "642079"
  },
  {
    "text": "and that generally works in most cases",
    "start": "642079",
    "end": "644079"
  },
  {
    "text": "pretty well and the internet is",
    "start": "644079",
    "end": "645839"
  },
  {
    "text": "generally able to utilize all the",
    "start": "645839",
    "end": "647920"
  },
  {
    "text": "bandwidth that's available between two",
    "start": "647920",
    "end": "649600"
  },
  {
    "text": "people when tcp works well we talked",
    "start": "649600",
    "end": "652240"
  },
  {
    "text": "about in the previous video how i might",
    "start": "652240",
    "end": "653519"
  },
  {
    "text": "connect using a virtual private network",
    "start": "653519",
    "end": "655760"
  },
  {
    "text": "over the internet from my machine at",
    "start": "655760",
    "end": "657839"
  },
  {
    "text": "home to my business corporate network",
    "start": "657839",
    "end": "659839"
  },
  {
    "text": "that i want to access resources on or go",
    "start": "659839",
    "end": "662079"
  },
  {
    "text": "out over the internet from that and so",
    "start": "662079",
    "end": "664399"
  },
  {
    "text": "on so if i create my vpn",
    "start": "664399",
    "end": "666880"
  },
  {
    "text": "using a tcp connection between my",
    "start": "666880",
    "end": "668959"
  },
  {
    "text": "machine at home and the business",
    "start": "668959",
    "end": "670800"
  },
  {
    "text": "corporate network i've created a",
    "start": "670800",
    "end": "672800"
  },
  {
    "text": "reliable connection which guarantees",
    "start": "672800",
    "end": "674560"
  },
  {
    "text": "that every byte of data i sent will",
    "start": "674560",
    "end": "676800"
  },
  {
    "text": "arrive and it will arrive in the order i",
    "start": "676800",
    "end": "679200"
  },
  {
    "text": "send it it's very different from what",
    "start": "679200",
    "end": "680800"
  },
  {
    "text": "tcp is expecting when it sends packets",
    "start": "680800",
    "end": "683519"
  },
  {
    "text": "out using ips expecting the exact",
    "start": "683519",
    "end": "685279"
  },
  {
    "text": "opposite that when i send data they",
    "start": "685279",
    "end": "688160"
  },
  {
    "text": "might get lost and that they might",
    "start": "688160",
    "end": "689760"
  },
  {
    "text": "arrive out of order",
    "start": "689760",
    "end": "691440"
  },
  {
    "text": "so what happens is i take the data i",
    "start": "691440",
    "end": "693600"
  },
  {
    "text": "want to send in my virtual private",
    "start": "693600",
    "end": "695360"
  },
  {
    "text": "network",
    "start": "695360",
    "end": "696800"
  },
  {
    "text": "i wrap it up in the tcp header there",
    "start": "696800",
    "end": "699279"
  },
  {
    "text": "and then wrap it up in an ip packet",
    "start": "699279",
    "end": "700959"
  },
  {
    "text": "header and then i put that ip package",
    "start": "700959",
    "end": "704160"
  },
  {
    "text": "into another tcp stream and that gets",
    "start": "704160",
    "end": "706880"
  },
  {
    "text": "sent to the business network this is",
    "start": "706880",
    "end": "708480"
  },
  {
    "text": "going to get complicated so let's call",
    "start": "708480",
    "end": "710399"
  },
  {
    "text": "the ones at the very top tcp one they're",
    "start": "710399",
    "end": "712959"
  },
  {
    "text": "the ones that are being sent over the",
    "start": "712959",
    "end": "715279"
  },
  {
    "text": "virtual connection and the ones that are",
    "start": "715279",
    "end": "717600"
  },
  {
    "text": "being used to form in the virtual",
    "start": "717600",
    "end": "719120"
  },
  {
    "text": "connection were called tcp2",
    "start": "719120",
    "end": "721360"
  },
  {
    "text": "just give them different names",
    "start": "721360",
    "end": "723519"
  },
  {
    "text": "so these tcp one packets get sent out",
    "start": "723519",
    "end": "726639"
  },
  {
    "text": "and if everything's fine if the network",
    "start": "726639",
    "end": "728240"
  },
  {
    "text": "is working fine it'll it'll generally",
    "start": "728240",
    "end": "730000"
  },
  {
    "text": "work okay you can do this the packets",
    "start": "730000",
    "end": "732240"
  },
  {
    "text": "will get there it's just that they can",
    "start": "732240",
    "end": "734160"
  },
  {
    "text": "sometimes go horribly wrong",
    "start": "734160",
    "end": "736000"
  },
  {
    "text": "now",
    "start": "736000",
    "end": "736959"
  },
  {
    "text": "let's think what happens if",
    "start": "736959",
    "end": "739040"
  },
  {
    "text": "at tcp 2 at the lower level on the",
    "start": "739040",
    "end": "741279"
  },
  {
    "text": "virtual link tcp2 effectively a packet",
    "start": "741279",
    "end": "744160"
  },
  {
    "text": "goes missing",
    "start": "744160",
    "end": "745440"
  },
  {
    "text": "or it arrives out of order let's say",
    "start": "745440",
    "end": "747200"
  },
  {
    "text": "packet goes missing that lower level",
    "start": "747200",
    "end": "749200"
  },
  {
    "text": "tcp2 connection",
    "start": "749200",
    "end": "751040"
  },
  {
    "text": "will ask for the packet to be resent",
    "start": "751040",
    "end": "754079"
  },
  {
    "text": "and so it will send the data again",
    "start": "754079",
    "end": "756800"
  },
  {
    "text": "however many times that's needed and so",
    "start": "756800",
    "end": "758800"
  },
  {
    "text": "on",
    "start": "758800",
    "end": "759600"
  },
  {
    "text": "until it gets sent across and it's then",
    "start": "759600",
    "end": "761680"
  },
  {
    "text": "passed up to tcp one which gets it but",
    "start": "761680",
    "end": "764639"
  },
  {
    "text": "tcp1 says hang on",
    "start": "764639",
    "end": "767680"
  },
  {
    "text": "this",
    "start": "767680",
    "end": "768639"
  },
  {
    "text": "didn't come as quickly as i expected",
    "start": "768639",
    "end": "772399"
  },
  {
    "text": "and",
    "start": "772399",
    "end": "773279"
  },
  {
    "text": "something's going on here and you'll",
    "start": "773279",
    "end": "774720"
  },
  {
    "text": "probably find the sender at that point",
    "start": "774720",
    "end": "775920"
  },
  {
    "text": "and said oh i haven't had the akka",
    "start": "775920",
    "end": "777440"
  },
  {
    "text": "expected",
    "start": "777440",
    "end": "778560"
  },
  {
    "text": "um this connection is a bit slow so i",
    "start": "778560",
    "end": "780160"
  },
  {
    "text": "better slow down sending things out and",
    "start": "780160",
    "end": "782880"
  },
  {
    "text": "because tcp2 had delayed this so it",
    "start": "782880",
    "end": "785040"
  },
  {
    "text": "arrived in order it arrived at tcp one",
    "start": "785040",
    "end": "787839"
  },
  {
    "text": "also delayed and so the sun says oh that",
    "start": "787839",
    "end": "790000"
  },
  {
    "text": "packet was slow as well",
    "start": "790000",
    "end": "791760"
  },
  {
    "text": "um and it might have already we tried to",
    "start": "791760",
    "end": "794240"
  },
  {
    "text": "transmit this at the tcp one level which",
    "start": "794240",
    "end": "796560"
  },
  {
    "text": "means there's more packets going to tcp",
    "start": "796560",
    "end": "798480"
  },
  {
    "text": "two than the necessary and very quickly",
    "start": "798480",
    "end": "800639"
  },
  {
    "text": "you find the two algorithms start to",
    "start": "800639",
    "end": "802560"
  },
  {
    "text": "fight each other and tcp one's algorithm",
    "start": "802560",
    "end": "806079"
  },
  {
    "text": "will start sending more packets thinking",
    "start": "806079",
    "end": "807680"
  },
  {
    "text": "they're getting lost while cp2 will be",
    "start": "807680",
    "end": "810079"
  },
  {
    "text": "doing its best to make sure they get",
    "start": "810079",
    "end": "811440"
  },
  {
    "text": "there in the order that they're sent and",
    "start": "811440",
    "end": "813360"
  },
  {
    "text": "so what will end up is that the",
    "start": "813360",
    "end": "814480"
  },
  {
    "text": "performance will drop of your network",
    "start": "814480",
    "end": "816320"
  },
  {
    "text": "connection because the two algorithms",
    "start": "816320",
    "end": "818800"
  },
  {
    "text": "are trying to",
    "start": "818800",
    "end": "820160"
  },
  {
    "text": "fight each other",
    "start": "820160",
    "end": "821600"
  },
  {
    "text": "now if you use udp which is what most",
    "start": "821600",
    "end": "824079"
  },
  {
    "text": "vpn things do udp doesn't provide any",
    "start": "824079",
    "end": "827199"
  },
  {
    "text": "guarantees that packets will get there",
    "start": "827199",
    "end": "829120"
  },
  {
    "text": "all it does is sort of multiplex things",
    "start": "829120",
    "end": "830959"
  },
  {
    "text": "so you can have more than one",
    "start": "830959",
    "end": "832560"
  },
  {
    "text": "connection between two machines",
    "start": "832560",
    "end": "834639"
  },
  {
    "text": "it's got port numbers that know what you",
    "start": "834639",
    "end": "836000"
  },
  {
    "text": "do that",
    "start": "836000",
    "end": "837040"
  },
  {
    "text": "those packets can still get lost at the",
    "start": "837040",
    "end": "838800"
  },
  {
    "text": "lower level so you only have one",
    "start": "838800",
    "end": "840800"
  },
  {
    "text": "algorithm tcp one at the top",
    "start": "840800",
    "end": "843360"
  },
  {
    "text": "would now be running over udp the packet",
    "start": "843360",
    "end": "845760"
  },
  {
    "text": "gets lost tcp one knows it's got lost at",
    "start": "845760",
    "end": "848480"
  },
  {
    "text": "the point it's got lost and so the",
    "start": "848480",
    "end": "850240"
  },
  {
    "text": "algorithm works as expected because it's",
    "start": "850240",
    "end": "852639"
  },
  {
    "text": "got the same assumptions that it's",
    "start": "852639",
    "end": "854880"
  },
  {
    "text": "expecting underneath for the lower level",
    "start": "854880",
    "end": "856639"
  },
  {
    "text": "network which is why wherever possible",
    "start": "856639",
    "end": "859120"
  },
  {
    "text": "most vpns will use udp or ip packets",
    "start": "859120",
    "end": "863199"
  },
  {
    "text": "because they provide the same level of",
    "start": "863199",
    "end": "865199"
  },
  {
    "text": "assumptions that tcp is expecting it was",
    "start": "865199",
    "end": "867199"
  },
  {
    "text": "built it's a bit more complicated that",
    "start": "867199",
    "end": "869040"
  },
  {
    "text": "but you get the general gist of what's",
    "start": "869040",
    "end": "870800"
  },
  {
    "text": "going on",
    "start": "870800",
    "end": "872639"
  },
  {
    "text": "that will be the internet and so those",
    "start": "872639",
    "end": "874959"
  },
  {
    "text": "machines can also access the internet",
    "start": "874959",
    "end": "877360"
  },
  {
    "text": "via the router and the router can act as",
    "start": "877360",
    "end": "880079"
  },
  {
    "text": "a firewall so that people can't get into",
    "start": "880079",
    "end": "883440"
  },
  {
    "text": "it",
    "start": "883440",
    "end": "884240"
  },
  {
    "text": "it's all going to be encrypted using the",
    "start": "884240",
    "end": "886720"
  },
  {
    "text": "k-a-t session key we've just obtained so",
    "start": "886720",
    "end": "889519"
  },
  {
    "text": "k-a-t",
    "start": "889519",
    "end": "892519"
  }
]