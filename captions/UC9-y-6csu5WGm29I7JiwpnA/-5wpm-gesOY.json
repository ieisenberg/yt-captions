[
  {
    "text": "Sooner or later, every programmer has to deal with time zones.",
    "start": "420",
    "end": "4820"
  },
  {
    "text": "And I can't really offer much advice here; I can offer a cautionary tale.",
    "start": "4840",
    "end": "9780"
  },
  {
    "text": "I can tell you why you really should never, ever deal with time zones if you can help it.",
    "start": "9780",
    "end": "16600"
  },
  {
    "text": "Let's imagine that someone has built an application",
    "start": "18440",
    "end": "21560"
  },
  {
    "text": "that lets you calculate how many seconds something is in the past.",
    "start": "21560",
    "end": "25920"
  },
  {
    "text": "You type in a date and a time, it gives you the number of seconds.",
    "start": "25920",
    "end": "29500"
  },
  {
    "text": "And they look at that and think \"OK, that kind of works for me...\"",
    "start": "29500",
    "end": "32860"
  },
  {
    "text": "\"But let's add a little box that lets you change the time zone\"",
    "start": "32860",
    "end": "36160"
  },
  {
    "text": "So if you're comparing between now in New York and five days ago in London, you can work that out.",
    "start": "36160",
    "end": "44620"
  },
  {
    "text": "And that's fine - the little drop down lets you change which hour forward or backward of Greenwich you are.",
    "start": "44620",
    "end": "50780"
  },
  {
    "text": "Brilliant.",
    "start": "50780",
    "end": "51620"
  },
  {
    "text": "Sooner or later, after it gets a bit popular, they'll get a call from Australia.",
    "start": "51620",
    "end": "56239"
  },
  {
    "text": "And Australia will say \"G'day ma--\"",
    "start": "56240",
    "end": "58020"
  },
  {
    "text": "-- I'm not gonna try and do accents.",
    "start": "58020",
    "end": "60360"
  },
  {
    "text": "I just shouldn't do accents.",
    "start": "60360",
    "end": "62360"
  },
  {
    "text": "Australia will say \"Hello!\"",
    "start": "62360",
    "end": "64680"
  },
  {
    "text": "\"By the way, we're 9½ hours ahead of Greenwich.\"",
    "start": "64680",
    "end": "69640"
  },
  {
    "text": "And the programmer will go \"really?\"",
    "start": "69640",
    "end": "71640"
  },
  {
    "text": "\"Yeah, 9½ hours.\"",
    "start": "71640",
    "end": "73080"
  },
  {
    "text": "\"OK, I'll add a special case for you. That's fine.\"",
    "start": "73080",
    "end": "76020"
  },
  {
    "text": "A little bit later, someone will call from Nepal.",
    "start": "76020",
    "end": "78799"
  },
  {
    "text": "And they'll say \"Hello. We're 5¼ hours ahead of Greenwich.\"",
    "start": "78800",
    "end": "84180"
  },
  {
    "text": "And they'll say \"really?\"\n\"Yeah we've been that for ages! Yeah 5¼ hours!\"",
    "start": "84180",
    "end": "88580"
  },
  {
    "text": "Great. Okay. And they'll put in a special case.\nAnd maybe they'll look up",
    "start": "88580",
    "end": "91900"
  },
  {
    "text": "the list of time zones. The Canonical list that tells you",
    "start": "91900",
    "end": "95760"
  },
  {
    "text": "what everything is, and they'll make sure they've covered every time zone in the world.",
    "start": "95760",
    "end": "100400"
  },
  {
    "text": "And then Autumn will come along.",
    "start": "100740",
    "end": "102619"
  },
  {
    "text": "And they'll get a call from England.",
    "start": "102620",
    "end": "104620"
  },
  {
    "text": "And England will say \"Excuse me. Um, we're an hour out at the minute, what's going on?\"",
    "start": "104620",
    "end": "109540"
  },
  {
    "text": "\"Hold on the clock's just changed!\"",
    "start": "109540",
    "end": "111540"
  },
  {
    "text": "\"That's fine - no, we dealt with that.\"",
    "start": "111540",
    "end": "113960"
  },
  {
    "text": "\"We made a note of when daylight savings changes for us, and we've put that in!\"",
    "start": "113960",
    "end": "118400"
  },
  {
    "text": "And England will say \"No, see daylight savings changes a week earlier for us.\"",
    "start": "118400",
    "end": "123260"
  },
  {
    "text": "\"It's different depending on where you live.\"",
    "start": "123260",
    "end": "125260"
  },
  {
    "text": "\"We shift our clocks back a week before you do.\"",
    "start": "125260",
    "end": "128660"
  },
  {
    "text": "And at that point",
    "start": "128660",
    "end": "130660"
  },
  {
    "text": "generally the programmer will start to hold their head in their hands",
    "start": "130660",
    "end": "134020"
  },
  {
    "text": "and realise what they've gotten themselves into.",
    "start": "134020",
    "end": "136240"
  },
  {
    "text": "And that's fine! They'll put that in",
    "start": "136240",
    "end": "138240"
  },
  {
    "text": "and they will deal with each country shifting to daylight savings time on a different day.",
    "start": "138240",
    "end": "142620"
  },
  {
    "text": "They'll look at the file that tells them how to do that and they'll copy all that in.",
    "start": "142620",
    "end": "147060"
  },
  {
    "text": "Then they'll get a call from someone in the southern hemisphere again who will say",
    "start": "147660",
    "end": "150940"
  },
  {
    "text": "\"Yeah we're not shifting back in the Autumn we shift forward.\"",
    "start": "150940",
    "end": "154680"
  },
  {
    "text": "\"Our spring... is in November.\"",
    "start": "154680",
    "end": "158379"
  },
  {
    "text": "At that point they'll generally start looking longingly at their intoxicant of choice",
    "start": "158760",
    "end": "164599"
  },
  {
    "text": "and wondering whether they should have a quick drink before keeping going...",
    "start": "164600",
    "end": "167880"
  },
  {
    "text": "...and they'll code that in as well.",
    "start": "168080",
    "end": "170080"
  },
  {
    "text": "Then they'll get a call from Samoa.",
    "start": "170080",
    "end": "172540"
  },
  {
    "text": "Out in the Pacific on the international date line.",
    "start": "172540",
    "end": "174819"
  },
  {
    "text": "And Samoa will say \"Hello!\"",
    "start": "174820",
    "end": "177460"
  },
  {
    "text": "\"Yeah we skipped a day the other year.\"",
    "start": "177460",
    "end": "179840"
  },
  {
    "text": "And the programmer will say \"what?\"",
    "start": "179840",
    "end": "181840"
  },
  {
    "text": "\"Yeah we skipped a day. We went from December 29th, 2011 to December 31st.\"",
    "start": "181840",
    "end": "190540"
  },
  {
    "text": "\"We shifted from one side of the international date line from being hours and hours behind Greenwich ...",
    "start": "190540",
    "end": "195980"
  },
  {
    "text": "... to being hours and hours ahead of Greenwich. Helps us with trading with Australia.\"",
    "start": "195980",
    "end": "200200"
  },
  {
    "text": "\"Can you take account of that when you work out how many days things are, and how many seconds things are in the past?\"",
    "start": "200680",
    "end": "207140"
  },
  {
    "text": "[breathing deeply]\nThat's fine, there's a file that tells you when any country has changed its time zone.",
    "start": "207140",
    "end": "213000"
  },
  {
    "text": "It turns out that that happens fairly often.",
    "start": "213000",
    "end": "215660"
  },
  {
    "text": "But they're announced ahead of schedule so as long as you keep that file updated",
    "start": "215660",
    "end": "220140"
  },
  {
    "text": "and code that into your program's logic as well, it'll be fine.",
    "start": "220140",
    "end": "223580"
  },
  {
    "text": "Then you look back and you notice that during World War II,",
    "start": "223580",
    "end": "226680"
  },
  {
    "text": "England had double British Summer Time.",
    "start": "226680",
    "end": "229620"
  },
  {
    "text": "It went completely onto BST and then just added an extra hour.",
    "start": "229620",
    "end": "234239"
  },
  {
    "text": "So it was two hours ahead of Greenwich despite... having Greenwich.",
    "start": "234240",
    "end": "237660"
  },
  {
    "text": "That's fine you deal with that.",
    "start": "237660",
    "end": "239260"
  },
  {
    "text": "Have you noticed I've started talking as if it was you or me?",
    "start": "239260",
    "end": "242739"
  },
  {
    "text": "Because I've done this before and it's really, really frustrating.",
    "start": "242740",
    "end": "245960"
  },
  {
    "text": "And you make sure you subscribe to the list",
    "start": "245960",
    "end": "248900"
  },
  {
    "text": "of when countries are going to change their time zones - which happens, apparently, many times!",
    "start": "248900",
    "end": "254280"
  },
  {
    "text": "Like, sometimes, several times in a year because governments change over.",
    "start": "254280",
    "end": "258940"
  },
  {
    "text": "And then this mythical programmer gets a call from Libya;",
    "start": "258940",
    "end": "262580"
  },
  {
    "text": "who in 2013, with only a couple of days' notice, decided that they weren't going to put the clocks back.",
    "start": "262580",
    "end": "268599"
  },
  {
    "text": "With enough notice that it wasn't possible for anyone to get the update out in time.",
    "start": "268740",
    "end": "274020"
  },
  {
    "text": "Meaning that every Libyan computer, no matter what operating system it ran...",
    "start": "274020",
    "end": "278520"
  },
  {
    "text": "... was an hour out.",
    "start": "278520",
    "end": "280520"
  },
  {
    "text": "That's OK, you read the news article about that and you hurriedly code that in as well.",
    "start": "281080",
    "end": "285659"
  },
  {
    "text": "And then, then you get a call from the West Bank.",
    "start": "285660",
    "end": "289260"
  },
  {
    "text": "Where the Israeli population is on a different time zone to the Palestinian population.",
    "start": "289260",
    "end": "296080"
  },
  {
    "text": "Because one is following Israel and one isn't.",
    "start": "296080",
    "end": "299220"
  },
  {
    "text": "Now you have two populations of people in the same location who are following different time zones.",
    "start": "299220",
    "end": "305080"
  },
  {
    "text": "And now they're all having to ask themselves whether they're on this time zone or this one, depending on who they are and where they are",
    "start": "305080",
    "end": "311639"
  },
  {
    "text": "And there's no way to code that into your program! And then...",
    "start": "311640",
    "end": "314400"
  },
  {
    "text": "Then you get a call from the historian.",
    "start": "314400",
    "end": "317639"
  },
  {
    "text": "Who says \"Right, I'm trying to calculate some times back in the 18th century.\"",
    "start": "317640",
    "end": "323900"
  },
  {
    "text": "\"And we changed from the Julian calendar to the Gregorian calendar.\"",
    "start": "323900",
    "end": "329060"
  },
  {
    "text": "\"It's not that we lost about three weeks ...",
    "start": "329060",
    "end": "332120"
  },
  {
    "text": "... it's just that we skipped right from this date to this date, and missed the others.\"",
    "start": "332120",
    "end": "337260"
  },
  {
    "text": "\"Can you code it so that it just kind of works that out for me?\"",
    "start": "338040",
    "end": "342760"
  },
  {
    "text": "It's fine because someone has already told you when those dates are,",
    "start": "343240",
    "end": "347319"
  },
  {
    "text": "and you can code that into your program's logic as well",
    "start": "347320",
    "end": "349660"
  },
  {
    "text": "but now it's looking really, long and really complicated",
    "start": "349660",
    "end": "352240"
  },
  {
    "text": "and it's a tangled mess of spaghetti code that somehow works",
    "start": "352240",
    "end": "355800"
  },
  {
    "text": "and then you get a call from the Russian historian!",
    "start": "355800",
    "end": "358620"
  },
  {
    "text": "Who says \"Yeah, we only changed to the Gregorian calendar in the 20th century ...",
    "start": "358620",
    "end": "363360"
  },
  {
    "text": "... and it turns out the dates you've skipped change depending on your location ...",
    "start": "363360",
    "end": "368300"
  },
  {
    "text": "... and can you deal with that as well?\"\nAnd then you get a call from the British historian!",
    "start": "368300",
    "end": "371319"
  },
  {
    "text": "Who says that until, I think it was the 16th century ...",
    "start": "371320",
    "end": "375140"
  },
  {
    "text": "the year started on the 25th of March!",
    "start": "375140",
    "end": "379240"
  },
  {
    "text": "Just to blow your mind there.",
    "start": "379700",
    "end": "381500"
  },
  {
    "text": "From 24th of March, 924",
    "start": "381500",
    "end": "386300"
  },
  {
    "text": "and then it would be 25th of March, 925. And that is the next day.",
    "start": "386300",
    "end": "391340"
  },
  {
    "text": "Because you have gone from December 31st, 924, to January 1st, 924 because it goes in that order!",
    "start": "391340",
    "end": "399120"
  },
  {
    "text": "It's massively complicated, AND THEN...",
    "start": "399120",
    "end": "401240"
  },
  {
    "text": "You get the call from the astrophysicist...",
    "start": "401240",
    "end": "404240"
  },
  {
    "text": "Who says \"By the way, we just had a leap second!\"",
    "start": "404240",
    "end": "408520"
  },
  {
    "text": "And at this point, you just kind of go \"... what?!\"",
    "start": "408900",
    "end": "412220"
  },
  {
    "text": "Leap seconds; because the Earth does not rotate at a constant speed.",
    "start": "412220",
    "end": "416500"
  },
  {
    "text": "It slows down, it speeds up, as tectonic plates move about",
    "start": "416500",
    "end": "420260"
  },
  {
    "text": "and magnetic fields shift, or something like that, and so occasionally",
    "start": "420260",
    "end": "424800"
  },
  {
    "text": "the International Astronomical Union will work out whether we need a leap second.",
    "start": "424800",
    "end": "430139"
  },
  {
    "text": "If you do, the clocks go 23:59:58",
    "start": "430140",
    "end": "436640"
  },
  {
    "text": "and then it's 23:59:59",
    "start": "436640",
    "end": "439140"
  },
  {
    "text": "and then instead of going [00:00:00] like any sensible time zone would",
    "start": "439140",
    "end": "443680"
  },
  {
    "text": "it goes 23:59:60!",
    "start": "443680",
    "end": "446840"
  },
  {
    "text": "And everything breaks because suddenly you have 61 seconds in a minute!",
    "start": "446840",
    "end": "451600"
  },
  {
    "text": "So depending on your implementation, either ...",
    "start": "451600",
    "end": "455120"
  },
  {
    "text": "... your clock gets one second out of sync with the rest of the world",
    "start": "455120",
    "end": "459160"
  },
  {
    "text": "or it repeats a second.",
    "start": "459160",
    "end": "461560"
  },
  {
    "text": "The way you're meant to deal with this is with something called the Unix Timestamp.",
    "start": "461560",
    "end": "466020"
  },
  {
    "text": "And Numberphile, I think, has talked about this before.",
    "start": "466020",
    "end": "468960"
  },
  {
    "text": "That you have this number that started on the first exact second of 1970",
    "start": "468960",
    "end": "474680"
  },
  {
    "text": "and increments one second, per second.",
    "start": "474680",
    "end": "477620"
  },
  {
    "text": "Constantly. Tick. Tick. Tick.",
    "start": "477620",
    "end": "480720"
  },
  {
    "text": "And that's great because what you're meant to do is take whatever date has been given to you,",
    "start": "480720",
    "end": "485840"
  },
  {
    "text": "and you calculate that as a Unix Timestamp,",
    "start": "485840",
    "end": "488199"
  },
  {
    "text": "and you put that into your database.",
    "start": "488200",
    "end": "490200"
  },
  {
    "text": "And that'll just deal with leap seconds",
    "start": "490200",
    "end": "492520"
  },
  {
    "text": "EXCEPT IT DOESN'T! Of course it doesn't!",
    "start": "492520",
    "end": "494580"
  },
  {
    "text": "Because you have Universal Coordinated Time",
    "start": "494580",
    "end": "498500"
  },
  {
    "text": "which includes leap seconds!",
    "start": "498500",
    "end": "501020"
  },
  {
    "text": "It repeats occasionally, and it just includes 23:59:60",
    "start": "501020",
    "end": "504500"
  },
  {
    "text": "and then you have astronomical time! Which does not include leap seconds",
    "start": "504500",
    "end": "508460"
  },
  {
    "text": "and has steadily been getting out of sync with the rest of the world",
    "start": "508460",
    "end": "511380"
  },
  {
    "text": "because we need to look at the stars and design telescopes around it!",
    "start": "511380",
    "end": "514700"
  },
  {
    "text": "[deep sigh]",
    "start": "514700",
    "end": "516580"
  },
  {
    "text": "And what you learn...",
    "start": "516580",
    "end": "518320"
  },
  {
    "text": "What you learn after dealing with time zones, is that what you do ...",
    "start": "518320",
    "end": "522880"
  },
  {
    "text": "... is you put away your code ...",
    "start": "522880",
    "end": "525000"
  },
  {
    "text": "... you don't try and write anything to deal with this.",
    "start": "525000",
    "end": "527540"
  },
  {
    "text": "You look at the people who have been there before you.",
    "start": "527540",
    "end": "530540"
  },
  {
    "text": "You look at the first people, the people who have dealt with this before,",
    "start": "530540",
    "end": "534480"
  },
  {
    "text": "the people who have built the spaghetti code,",
    "start": "534480",
    "end": "536480"
  },
  {
    "text": "and you thank them very much for making it open source,",
    "start": "536480",
    "end": "540860"
  },
  {
    "text": "and you give them credit, and you take what they have made and you put it in your program,",
    "start": "540860",
    "end": "545519"
  },
  {
    "text": "and you never ever look at it again.",
    "start": "545520",
    "end": "548080"
  },
  {
    "text": "Because that way lies madness.",
    "start": "548080",
    "end": "551320"
  },
  {
    "text": "Google actually has a really, really good approach to leap seconds that they invented themselves.",
    "start": "556000",
    "end": "560440"
  },
  {
    "text": "There's an article about it on their blog, I think, that explains it.",
    "start": "560440",
    "end": "563640"
  },
  {
    "text": "They do something called a \"leap smear.\"",
    "start": "563640",
    "end": "565940"
  },
  {
    "text": "Because having 61 seconds in a minute,",
    "start": "565940",
    "end": "568980"
  },
  {
    "text": "or because having a clock tick back a second,",
    "start": "568980",
    "end": "571820"
  },
  {
    "text": "can be really, really bad for massive agencies that have to",
    "start": "571820",
    "end": "576620"
  },
  {
    "text": "synchronise everything really precisely and have to trust that one bit of data was stored before another,",
    "start": "576620",
    "end": "582500"
  },
  {
    "text": "they essentially smear the second out over the whole day.",
    "start": "582500",
    "end": "586300"
  },
  {
    "text": "They increase their clock by a microsecond at a time.",
    "start": "586300",
    "end": "589660"
  },
  {
    "text": "Tick tick tick, all the way through the day.",
    "start": "589660",
    "end": "592319"
  },
  {
    "text": "So that it's, sometimes maybe even half a second out from reality,",
    "start": "592320",
    "end": "596420"
  },
  {
    "text": "but as long as everything on their servers is half a second out.",
    "start": "596420",
    "end": "599519"
  },
  {
    "text": "It's built to be out of sync with the world, as long as it knows that one thing happened before another.",
    "start": "599520",
    "end": "607280"
  },
  {
    "text": "Having continuity is more important than actually having accurate time.",
    "start": "607280",
    "end": "612120"
  }
]