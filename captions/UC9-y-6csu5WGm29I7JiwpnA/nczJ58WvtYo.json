[
  {
    "text": "last time we talked about pipelines and",
    "start": "120",
    "end": "1880"
  },
  {
    "text": "pipelining and CPUs so you give us a",
    "start": "1880",
    "end": "4520"
  },
  {
    "text": "little hint about what might be next on",
    "start": "4520",
    "end": "5920"
  },
  {
    "text": "the horizon absolutely and branches yes",
    "start": "5920",
    "end": "8120"
  },
  {
    "text": "predicting branches yeah predicting",
    "start": "8120",
    "end": "9559"
  },
  {
    "text": "branches so yeah so the story so far is",
    "start": "9559",
    "end": "12759"
  },
  {
    "text": "we have our little pipeline of robots",
    "start": "12759",
    "end": "16960"
  },
  {
    "text": "and I forgotten how I to draw a robot",
    "start": "16960",
    "end": "18320"
  },
  {
    "text": "they have square heads not not round",
    "start": "18320",
    "end": "20000"
  },
  {
    "text": "heads otherwise they're humans right and",
    "start": "20000",
    "end": "22519"
  },
  {
    "text": "we've got our various conveyor belts and",
    "start": "22519",
    "end": "25160"
  },
  {
    "text": "we've got the shoveling robot at the",
    "start": "25160",
    "end": "27439"
  },
  {
    "text": "beginning who's picking up bites from",
    "start": "27439",
    "end": "30000"
  },
  {
    "text": "from memory and these btes encode the",
    "start": "30000",
    "end": "32800"
  },
  {
    "text": "instructions the recipe steps that the",
    "start": "32800",
    "end": "36399"
  },
  {
    "text": "um the computer is going to follow the",
    "start": "36399",
    "end": "38160"
  },
  {
    "text": "next robot in the uh production line",
    "start": "38160",
    "end": "41000"
  },
  {
    "text": "interprets them oh I don't know what I'm",
    "start": "41000",
    "end": "42840"
  },
  {
    "text": "drawing here but something like that",
    "start": "42840",
    "end": "44239"
  },
  {
    "text": "interprets them as instructions and so",
    "start": "44239",
    "end": "46520"
  },
  {
    "text": "he now says hey I decoded those sequence",
    "start": "46520",
    "end": "48559"
  },
  {
    "text": "of numbers this means please add the",
    "start": "48559",
    "end": "50680"
  },
  {
    "text": "number one to address 22 or something",
    "start": "50680",
    "end": "53160"
  },
  {
    "text": "like this and then at the very end we've",
    "start": "53160",
    "end": "55199"
  },
  {
    "text": "got a robot and again who has a square",
    "start": "55199",
    "end": "57800"
  },
  {
    "text": "head um who's actually doing the work of",
    "start": "57800",
    "end": "60199"
  },
  {
    "text": "the addition and all that stuff right",
    "start": "60199",
    "end": "62039"
  },
  {
    "text": "and that's great and it's faster um but",
    "start": "62039",
    "end": "65239"
  },
  {
    "text": "there's a problem because every time the",
    "start": "65239",
    "end": "67960"
  },
  {
    "text": "end robot discovers that we need to be",
    "start": "67960",
    "end": "70159"
  },
  {
    "text": "doing something different if we're going",
    "start": "70159",
    "end": "71479"
  },
  {
    "text": "to change which recipe step we're on and",
    "start": "71479",
    "end": "73119"
  },
  {
    "text": "it's not just strictly the next one in",
    "start": "73119",
    "end": "74600"
  },
  {
    "text": "the sequence like for example uh going",
    "start": "74600",
    "end": "76880"
  },
  {
    "text": "back round to the top of a loop he has",
    "start": "76880",
    "end": "78600"
  },
  {
    "text": "to pull the horn and everything has to",
    "start": "78600",
    "end": "80400"
  },
  {
    "text": "restart and that's a shame because now",
    "start": "80400",
    "end": "81880"
  },
  {
    "text": "it takes two ticks of the clock before",
    "start": "81880",
    "end": "84320"
  },
  {
    "text": "any useful work is done again so we",
    "start": "84320",
    "end": "86360"
  },
  {
    "text": "discussed last time some simple ways of",
    "start": "86360",
    "end": "88000"
  },
  {
    "text": "of of making this work this time we're",
    "start": "88000",
    "end": "90200"
  },
  {
    "text": "going to talk about Branch",
    "start": "90200",
    "end": "93560"
  },
  {
    "text": "prediction most of the things that",
    "start": "94000",
    "end": "95960"
  },
  {
    "text": "modern processes do actually involve",
    "start": "95960",
    "end": "98159"
  },
  {
    "text": "adding more steps to this pipeline so uh",
    "start": "98159",
    "end": "101880"
  },
  {
    "text": "I haven't D myself room on this piece of",
    "start": "101880",
    "end": "103479"
  },
  {
    "text": "paper now but there is now a new robot",
    "start": "103479",
    "end": "106399"
  },
  {
    "text": "at the beginning of the production line",
    "start": "106399",
    "end": "109119"
  },
  {
    "text": "and that robot's job is to make a",
    "start": "109119",
    "end": "112399"
  },
  {
    "text": "prediction and I think we had some",
    "start": "112399",
    "end": "114920"
  },
  {
    "text": "really squiggly eyes that you drew you",
    "start": "114920",
    "end": "117640"
  },
  {
    "text": "animated beautifully in the last one",
    "start": "117640",
    "end": "119479"
  },
  {
    "text": "once Crystal Ball but it proved beyond",
    "start": "119479",
    "end": "122360"
  },
  {
    "text": "my capabilities so instead he turned",
    "start": "122360",
    "end": "125159"
  },
  {
    "text": "into a hypnotized H because I said",
    "start": "125159",
    "end": "127159"
  },
  {
    "text": "something about it being Clairvoyant it",
    "start": "127159",
    "end": "128640"
  },
  {
    "text": "has to predict the future and that's",
    "start": "128640",
    "end": "130840"
  },
  {
    "text": "exactly what this robot is going to do",
    "start": "130840",
    "end": "133120"
  },
  {
    "text": "um this robot now is responsible for",
    "start": "133120",
    "end": "135200"
  },
  {
    "text": "handing the address of the bites to",
    "start": "135200",
    "end": "139360"
  },
  {
    "text": "fetch to the shoveling robot so uh to",
    "start": "139360",
    "end": "143959"
  },
  {
    "text": "start with this robot is going to start",
    "start": "143959",
    "end": "145599"
  },
  {
    "text": "with the program counter like the place",
    "start": "145599",
    "end": "147720"
  },
  {
    "text": "in the recipe you know step one for",
    "start": "147720",
    "end": "149480"
  },
  {
    "text": "example",
    "start": "149480",
    "end": "150800"
  },
  {
    "text": "and uh he's going to just say fetch bite",
    "start": "150800",
    "end": "154560"
  },
  {
    "text": "one then fetch bite two then fetch bite",
    "start": "154560",
    "end": "157160"
  },
  {
    "text": "three and he's just going to keep",
    "start": "157160",
    "end": "158400"
  },
  {
    "text": "handing addresses sequential addresses",
    "start": "158400",
    "end": "160760"
  },
  {
    "text": "to our fetching robot who then fetches",
    "start": "160760",
    "end": "162560"
  },
  {
    "text": "address one puts it onto the conveyor",
    "start": "162560",
    "end": "164640"
  },
  {
    "text": "Bel and in this extended version as well",
    "start": "164640",
    "end": "168040"
  },
  {
    "text": "as putting the btes onto the conveyor",
    "start": "168040",
    "end": "169560"
  },
  {
    "text": "about he also notes down which address",
    "start": "169560",
    "end": "171599"
  },
  {
    "text": "they came from because we need to do",
    "start": "171599",
    "end": "173440"
  },
  {
    "text": "some checking later on and we'll get to",
    "start": "173440",
    "end": "174879"
  },
  {
    "text": "that so now um everything else is pretty",
    "start": "174879",
    "end": "177239"
  },
  {
    "text": "much the same though so right now as it",
    "start": "177239",
    "end": "179400"
  },
  {
    "text": "started what we've done is we've added",
    "start": "179400",
    "end": "181040"
  },
  {
    "text": "one extra stage to our pipeline which",
    "start": "181040",
    "end": "183040"
  },
  {
    "text": "means it takes one more cycle one more",
    "start": "183040",
    "end": "185280"
  },
  {
    "text": "tick of the clock to start up and we've",
    "start": "185280",
    "end": "187239"
  },
  {
    "text": "got no",
    "start": "187239",
    "end": "188280"
  },
  {
    "text": "benefit but this is where it gets clever",
    "start": "188280",
    "end": "191120"
  },
  {
    "text": "now when our executing robot says hey we",
    "start": "191120",
    "end": "195319"
  },
  {
    "text": "got to a a jump or a branch and he has",
    "start": "195319",
    "end": "198400"
  },
  {
    "text": "to pull the ripe to say you know",
    "start": "198400",
    "end": "201000"
  },
  {
    "text": "everything needs to restart he sends a",
    "start": "201000",
    "end": "203159"
  },
  {
    "text": "message to the first robot and says by",
    "start": "203159",
    "end": "204959"
  },
  {
    "text": "the way I got to this point in the code",
    "start": "204959",
    "end": "207760"
  },
  {
    "text": "and then I needed to go somewhere else I",
    "start": "207760",
    "end": "209879"
  },
  {
    "text": "needed to Branch to a new location and",
    "start": "209879",
    "end": "212760"
  },
  {
    "text": "our little robot notes that down so I'm",
    "start": "212760",
    "end": "214519"
  },
  {
    "text": "going to make up a really really simple",
    "start": "214519",
    "end": "216760"
  },
  {
    "text": "example just so that we've got something",
    "start": "216760",
    "end": "218720"
  },
  {
    "text": "to talk about and so our uh instructions",
    "start": "218720",
    "end": "221760"
  },
  {
    "text": "are going to be and I'm going to say",
    "start": "221760",
    "end": "223720"
  },
  {
    "text": "this is like an address 50 in memory uh",
    "start": "223720",
    "end": "226360"
  },
  {
    "text": "and I'm still using the 6502 based",
    "start": "226360",
    "end": "228760"
  },
  {
    "text": "assembly code hopefully it's you know it",
    "start": "228760",
    "end": "230319"
  },
  {
    "text": "doesn't really matter what it is and the",
    "start": "230319",
    "end": "231840"
  },
  {
    "text": "6502 didn't do this nor would it need",
    "start": "231840",
    "end": "233959"
  },
  {
    "text": "anything like this but it's we're",
    "start": "233959",
    "end": "235680"
  },
  {
    "text": "sticking with what I know so I'm just",
    "start": "235680",
    "end": "237720"
  },
  {
    "text": "going to have a loop of incrementing the",
    "start": "237720",
    "end": "239920"
  },
  {
    "text": "X register which is a one bite",
    "start": "239920",
    "end": "242560"
  },
  {
    "text": "instruction and then the next thing is",
    "start": "242560",
    "end": "245040"
  },
  {
    "text": "to",
    "start": "245040",
    "end": "245920"
  },
  {
    "text": "jump unconditionally like every single",
    "start": "245920",
    "end": "248599"
  },
  {
    "text": "time back to address 50 which is a three",
    "start": "248599",
    "end": "252599"
  },
  {
    "text": "byte instruction what's this one's EB",
    "start": "252599",
    "end": "255400"
  },
  {
    "text": "hex this is 4 C and I'm doing this in",
    "start": "255400",
    "end": "258680"
  },
  {
    "text": "HEX but whatever these are the bytes",
    "start": "258680",
    "end": "260400"
  },
  {
    "text": "that are actually going to be in our",
    "start": "260400",
    "end": "261440"
  },
  {
    "text": "memory cells in sequential memory which",
    "start": "261440",
    "end": "263240"
  },
  {
    "text": "I can draw out in a second and then it",
    "start": "263240",
    "end": "265440"
  },
  {
    "text": "it doesn't really matter what's next but",
    "start": "265440",
    "end": "266639"
  },
  {
    "text": "I'm just going to write down that there",
    "start": "266639",
    "end": "267840"
  },
  {
    "text": "are some other bites after this in",
    "start": "267840",
    "end": "269360"
  },
  {
    "text": "memory so that we can and I'm going to",
    "start": "269360",
    "end": "270639"
  },
  {
    "text": "put knops here we wouldn't normally do",
    "start": "270639",
    "end": "272280"
  },
  {
    "text": "this it's just so that I've got",
    "start": "272280",
    "end": "273360"
  },
  {
    "text": "something uh to do so this is EA I think",
    "start": "273360",
    "end": "275800"
  },
  {
    "text": "EA there we are right okay so just I",
    "start": "275800",
    "end": "278400"
  },
  {
    "text": "mean it's probably obvious but knp is",
    "start": "278400",
    "end": "280160"
  },
  {
    "text": "null operation a no operation yes it's",
    "start": "280160",
    "end": "282479"
  },
  {
    "text": "it's it seems weird that you have to",
    "start": "282479",
    "end": "283800"
  },
  {
    "text": "have a recipe step that says do nothing",
    "start": "283800",
    "end": "285520"
  },
  {
    "text": "today you know have a lie in have a nice",
    "start": "285520",
    "end": "288240"
  },
  {
    "text": "relax for a clock cycle but it's very",
    "start": "288240",
    "end": "290240"
  },
  {
    "text": "useful for this kind of thing and also",
    "start": "290240",
    "end": "292400"
  },
  {
    "text": "for timing and stuff like that but right",
    "start": "292400",
    "end": "295080"
  },
  {
    "text": "now um yeah we I've just put those there",
    "start": "295080",
    "end": "297960"
  },
  {
    "text": "because I need a bit of padding exactly",
    "start": "297960",
    "end": "300160"
  },
  {
    "text": "exactly so in our production line the",
    "start": "300160",
    "end": "302880"
  },
  {
    "text": "predicting robot would predict let's say",
    "start": "302880",
    "end": "304680"
  },
  {
    "text": "we already knew that we were starting at",
    "start": "304680",
    "end": "305960"
  },
  {
    "text": "number 50 he would predict number 50",
    "start": "305960",
    "end": "308759"
  },
  {
    "text": "he'd hand over 50 to the um the fetching",
    "start": "308759",
    "end": "311600"
  },
  {
    "text": "guy who would fetch the bite the bite",
    "start": "311600",
    "end": "313520"
  },
  {
    "text": "would be put on the conveyor Bel the",
    "start": "313520",
    "end": "314759"
  },
  {
    "text": "next person the next robot would decode",
    "start": "314759",
    "end": "316880"
  },
  {
    "text": "it as an increment it would go to the",
    "start": "316880",
    "end": "318240"
  },
  {
    "text": "executing robot meanwhile of course the",
    "start": "318240",
    "end": "320919"
  },
  {
    "text": "predicting robot has predicted 51 given",
    "start": "320919",
    "end": "322960"
  },
  {
    "text": "it to the fetching robot 52 53 these are",
    "start": "322960",
    "end": "326080"
  },
  {
    "text": "the btes over here so this is bite 50",
    "start": "326080",
    "end": "328479"
  },
  {
    "text": "this is bite 51 52 2 53 54 55 or",
    "start": "328479",
    "end": "331400"
  },
  {
    "text": "whatever and he's just happily shoveling",
    "start": "331400",
    "end": "334479"
  },
  {
    "text": "out incrementing numbers with no no idea",
    "start": "334479",
    "end": "336440"
  },
  {
    "text": "at all he's just like 50 51 52 53 54",
    "start": "336440",
    "end": "339120"
  },
  {
    "text": "it's a best guess right meanwhile um the",
    "start": "339120",
    "end": "341479"
  },
  {
    "text": "increment has gone through and then the",
    "start": "341479",
    "end": "343039"
  },
  {
    "text": "jump instructions gone through and",
    "start": "343039",
    "end": "344360"
  },
  {
    "text": "eventually gets to the executing robot",
    "start": "344360",
    "end": "346520"
  },
  {
    "text": "so by the time that the third bite of",
    "start": "346520",
    "end": "348639"
  },
  {
    "text": "the jump has been decoded by the decode",
    "start": "348639",
    "end": "350919"
  },
  {
    "text": "robot turned into a jump to address 50",
    "start": "350919",
    "end": "353400"
  },
  {
    "text": "handed to the executing robot the the",
    "start": "353400",
    "end": "356560"
  },
  {
    "text": "predictor and the fetcher have already",
    "start": "356560",
    "end": "357919"
  },
  {
    "text": "fetched these next two bytes and it's",
    "start": "357919",
    "end": "359360"
  },
  {
    "text": "been coded as a KN so there's a knp",
    "start": "359360",
    "end": "361600"
  },
  {
    "text": "that's waiting in the pipeline and",
    "start": "361600",
    "end": "362800"
  },
  {
    "text": "there's another KN that's been the bites",
    "start": "362800",
    "end": "365000"
  },
  {
    "text": "of it have been loaded onto the conveyor",
    "start": "365000",
    "end": "366520"
  },
  {
    "text": "belt and those are not things we want to",
    "start": "366520",
    "end": "369000"
  },
  {
    "text": "do right we want to actually go back to",
    "start": "369000",
    "end": "370800"
  },
  {
    "text": "the top of the loop so just to be clear",
    "start": "370800",
    "end": "372280"
  },
  {
    "text": "this this jump is an infinite Loop",
    "start": "372280",
    "end": "374840"
  },
  {
    "text": "that's just going to sit and increment",
    "start": "374840",
    "end": "376000"
  },
  {
    "text": "the X register forever it's a pointless",
    "start": "376000",
    "end": "377759"
  },
  {
    "text": "thing to do but it was just a very",
    "start": "377759",
    "end": "379400"
  },
  {
    "text": "straightforward um little little program",
    "start": "379400",
    "end": "382080"
  },
  {
    "text": "for the purposes of this so the first",
    "start": "382080",
    "end": "384199"
  },
  {
    "text": "time this happens the executing robot",
    "start": "384199",
    "end": "387599"
  },
  {
    "text": "pulls the rip cord and says way way wa",
    "start": "387599",
    "end": "389639"
  },
  {
    "text": "wait wait wait we're going the wrong way",
    "start": "389639",
    "end": "391560"
  },
  {
    "text": "I need to get back to address 50 please",
    "start": "391560",
    "end": "393759"
  },
  {
    "text": "he sends a message over to the",
    "start": "393759",
    "end": "395199"
  },
  {
    "text": "predicting robot and the predicting",
    "start": "395199",
    "end": "397560"
  },
  {
    "text": "robot notes down oh interesting next",
    "start": "397560",
    "end": "400759"
  },
  {
    "text": "time I I fetch bite",
    "start": "400759",
    "end": "403000"
  },
  {
    "text": "53 I should actually then start back at",
    "start": "403000",
    "end": "406360"
  },
  {
    "text": "50 because that's what the executing",
    "start": "406360",
    "end": "408919"
  },
  {
    "text": "robot has told me he said I've got to",
    "start": "408919",
    "end": "410680"
  },
  {
    "text": "the end of a jump I took this jump I",
    "start": "410680",
    "end": "413919"
  },
  {
    "text": "just the address was 53 because that was",
    "start": "413919",
    "end": "416160"
  },
  {
    "text": "noted down on the flow of instructions",
    "start": "416160",
    "end": "418120"
  },
  {
    "text": "coming through and by the way next time",
    "start": "418120",
    "end": "420800"
  },
  {
    "text": "could you just like go straight to 50",
    "start": "420800",
    "end": "422520"
  },
  {
    "text": "please all right we'll talk about how",
    "start": "422520",
    "end": "425919"
  },
  {
    "text": "the predicting robot notes that down but",
    "start": "425919",
    "end": "428960"
  },
  {
    "text": "now you can see that the pipeline is",
    "start": "428960",
    "end": "431039"
  },
  {
    "text": "flushed and then we start again and so",
    "start": "431039",
    "end": "434120"
  },
  {
    "text": "we know that we have to start at 50 and",
    "start": "434120",
    "end": "435960"
  },
  {
    "text": "we go to 50 and so now the fetcher is",
    "start": "435960",
    "end": "437840"
  },
  {
    "text": "going to do 50 51 52 53 oh the",
    "start": "437840",
    "end": "441199"
  },
  {
    "text": "prediction Rob says having just",
    "start": "441199",
    "end": "442680"
  },
  {
    "text": "predicted 53 I should predict 50",
    "start": "442680",
    "end": "445319"
  },
  {
    "text": "now and so that's the number he sends to",
    "start": "445319",
    "end": "448120"
  },
  {
    "text": "the fetcher and and now the sequence of",
    "start": "448120",
    "end": "450240"
  },
  {
    "text": "instructions is just going to keep",
    "start": "450240",
    "end": "451319"
  },
  {
    "text": "flowing through correctly and we won't",
    "start": "451319",
    "end": "453080"
  },
  {
    "text": "have any delays while we flush the",
    "start": "453080",
    "end": "455400"
  },
  {
    "text": "pipeline because our executing robot",
    "start": "455400",
    "end": "457960"
  },
  {
    "text": "actually Peaks ahead and says well okay",
    "start": "457960",
    "end": "459639"
  },
  {
    "text": "I would like you to I would like to jump",
    "start": "459639",
    "end": "461280"
  },
  {
    "text": "to address 50 and then before he pulls",
    "start": "461280",
    "end": "462919"
  },
  {
    "text": "the rip cord and says uh oh we need to",
    "start": "462919",
    "end": "464319"
  },
  {
    "text": "flush the pipeline he peers ahead and",
    "start": "464319",
    "end": "466960"
  },
  {
    "text": "looks at the next instruction and if",
    "start": "466960",
    "end": "468879"
  },
  {
    "text": "it's tagged with address 50 he's like oh",
    "start": "468879",
    "end": "470800"
  },
  {
    "text": "cool the predicting robot predicted the",
    "start": "470800",
    "end": "473319"
  },
  {
    "text": "correct way I don't have to pull the rip",
    "start": "473319",
    "end": "475319"
  },
  {
    "text": "cord we just have to carry on this is",
    "start": "475319",
    "end": "476840"
  },
  {
    "text": "great and so now we filled up the",
    "start": "476840",
    "end": "479039"
  },
  {
    "text": "pipeline with increment jump increment",
    "start": "479039",
    "end": "480919"
  },
  {
    "text": "jump increment jump and none of these",
    "start": "480919",
    "end": "482720"
  },
  {
    "text": "knots make it through anymore MH so we",
    "start": "482720",
    "end": "486240"
  },
  {
    "text": "have predicted for a very very very very",
    "start": "486240",
    "end": "488639"
  },
  {
    "text": "simple case what's going on so let's",
    "start": "488639",
    "end": "490080"
  },
  {
    "text": "talk about how the robot at the",
    "start": "490080",
    "end": "491919"
  },
  {
    "text": "beginning of the pipeline the predicting",
    "start": "491919",
    "end": "493879"
  },
  {
    "text": "robot how the predicting robot does this",
    "start": "493879",
    "end": "495759"
  },
  {
    "text": "job because I just said he notes it down",
    "start": "495759",
    "end": "498520"
  },
  {
    "text": "but like yeah sure I could also say hey",
    "start": "498520",
    "end": "500680"
  },
  {
    "text": "why doesn't he just read the op the the",
    "start": "500680",
    "end": "502960"
  },
  {
    "text": "the memory himself and just look it up",
    "start": "502960",
    "end": "504560"
  },
  {
    "text": "then it's a jump to 50 but that's too",
    "start": "504560",
    "end": "506319"
  },
  {
    "text": "much work for a single step of the",
    "start": "506319",
    "end": "508159"
  },
  {
    "text": "pipeline so some what whatever he does",
    "start": "508159",
    "end": "510039"
  },
  {
    "text": "has to be incredibly",
    "start": "510039",
    "end": "512279"
  },
  {
    "text": "simple so first piece of paper off so",
    "start": "512279",
    "end": "515640"
  },
  {
    "text": "let's there are many ways that this can",
    "start": "515640",
    "end": "517518"
  },
  {
    "text": "be done and in some ways it's similar to",
    "start": "517519",
    "end": "519880"
  },
  {
    "text": "caching which I'm sure there are",
    "start": "519880",
    "end": "521719"
  },
  {
    "text": "computer file videos about and or we'll",
    "start": "521719",
    "end": "524039"
  },
  {
    "text": "talk about some more another time but",
    "start": "524039",
    "end": "526399"
  },
  {
    "text": "let's just say this is the simplest way",
    "start": "526399",
    "end": "527680"
  },
  {
    "text": "that I could think of that that's",
    "start": "527680",
    "end": "528959"
  },
  {
    "text": "visually straightforward let's give the",
    "start": "528959",
    "end": "531920"
  },
  {
    "text": "robot a notebook with 10 entries 0 one",
    "start": "531920",
    "end": "536839"
  },
  {
    "text": "two and in this table he has a",
    "start": "536839",
    "end": "541600"
  },
  {
    "text": "from and a to address every time he's",
    "start": "541600",
    "end": "545839"
  },
  {
    "text": "told that there is a branch at address",
    "start": "545839",
    "end": "548360"
  },
  {
    "text": "say 53 and I've already thrown that on",
    "start": "548360",
    "end": "550399"
  },
  {
    "text": "the floor so let me put this over here",
    "start": "550399",
    "end": "553000"
  },
  {
    "text": "in this particular instance I'm I'm",
    "start": "553000",
    "end": "554480"
  },
  {
    "text": "using the last bite of the jump",
    "start": "554480",
    "end": "556560"
  },
  {
    "text": "instruction itself as being the place",
    "start": "556560",
    "end": "558440"
  },
  {
    "text": "because that's the last one the robot",
    "start": "558440",
    "end": "559800"
  },
  {
    "text": "the the fetcher would have to fetch",
    "start": "559800",
    "end": "561160"
  },
  {
    "text": "before he had to start going back to",
    "start": "561160",
    "end": "562800"
  },
  {
    "text": "address 50 there are different ways to",
    "start": "562800",
    "end": "564279"
  },
  {
    "text": "do this but oh and of course I haven't",
    "start": "564279",
    "end": "566000"
  },
  {
    "text": "actually put three in the table here",
    "start": "566000",
    "end": "567279"
  },
  {
    "text": "okay there's three dot dot dot the robot",
    "start": "567279",
    "end": "569399"
  },
  {
    "text": "could search through this whole table",
    "start": "569399",
    "end": "571200"
  },
  {
    "text": "every single time and look for if",
    "start": "571200",
    "end": "572959"
  },
  {
    "text": "there's one of these 10 entries that",
    "start": "572959",
    "end": "575279"
  },
  {
    "text": "matches the from address then you could",
    "start": "575279",
    "end": "577399"
  },
  {
    "text": "go to the two address but that's a lot",
    "start": "577399",
    "end": "578839"
  },
  {
    "text": "of work even that I mean it's that's 10",
    "start": "578839",
    "end": "580279"
  },
  {
    "text": "whole steps every single click of the of",
    "start": "580279",
    "end": "583120"
  },
  {
    "text": "the clock and that's just too much work",
    "start": "583120",
    "end": "585040"
  },
  {
    "text": "for for our simple uh predicting robot",
    "start": "585040",
    "end": "587959"
  },
  {
    "text": "so what he does is he looks at the last",
    "start": "587959",
    "end": "590640"
  },
  {
    "text": "digit of the address so in this instance",
    "start": "590640",
    "end": "594519"
  },
  {
    "text": "um as he's predicting address 53 he",
    "start": "594519",
    "end": "597120"
  },
  {
    "text": "knows to only look in slot three now",
    "start": "597120",
    "end": "599440"
  },
  {
    "text": "that means that there could be some",
    "start": "599440",
    "end": "600800"
  },
  {
    "text": "other things in there that are the wrong",
    "start": "600800",
    "end": "602720"
  },
  {
    "text": "thing but if it matches then he's going",
    "start": "602720",
    "end": "605480"
  },
  {
    "text": "to take that so let let me work through",
    "start": "605480",
    "end": "607120"
  },
  {
    "text": "that and hopefully that'll make a little",
    "start": "607120",
    "end": "608360"
  },
  {
    "text": "bit more sense so the table starts out",
    "start": "608360",
    "end": "610279"
  },
  {
    "text": "empty to begin with the robot uh is",
    "start": "610279",
    "end": "613279"
  },
  {
    "text": "predicting 50 and as he's predicting 50",
    "start": "613279",
    "end": "615839"
  },
  {
    "text": "he quickly looks in the table and he",
    "start": "615839",
    "end": "617120"
  },
  {
    "text": "looks at the last digit of 50 zero the",
    "start": "617120",
    "end": "619279"
  },
  {
    "text": "table entry for zero is empty fine 51",
    "start": "619279",
    "end": "622480"
  },
  {
    "text": "without anything in the table he just",
    "start": "622480",
    "end": "623800"
  },
  {
    "text": "predicts the next address right we're",
    "start": "623800",
    "end": "625839"
  },
  {
    "text": "just going to sequentially sequentially",
    "start": "625839",
    "end": "627720"
  },
  {
    "text": "go from address to address and so on and",
    "start": "627720",
    "end": "629920"
  },
  {
    "text": "so forth so we get to 54 and 55 and",
    "start": "629920",
    "end": "632320"
  },
  {
    "text": "that's when the the air horn is pulled",
    "start": "632320",
    "end": "634800"
  },
  {
    "text": "and our friend the executing robot says",
    "start": "634800",
    "end": "637279"
  },
  {
    "text": "Hey 53 has a jump to 50 so we will",
    "start": "637279",
    "end": "640680"
  },
  {
    "text": "update entry three of our table and say",
    "start": "640680",
    "end": "643920"
  },
  {
    "text": "hey",
    "start": "643920",
    "end": "645000"
  },
  {
    "text": "53 goes",
    "start": "645000",
    "end": "646880"
  },
  {
    "text": "to",
    "start": "646880",
    "end": "648560"
  },
  {
    "text": "50 then we reset we start again zero",
    "start": "648560",
    "end": "652399"
  },
  {
    "text": "check 5501 check 52 check 53 okay we're",
    "start": "652399",
    "end": "655839"
  },
  {
    "text": "looking at slot three oh the from",
    "start": "655839",
    "end": "657480"
  },
  {
    "text": "address matches for this particular jump",
    "start": "657480",
    "end": "660240"
  },
  {
    "text": "oh so I know that instead of",
    "start": "660240",
    "end": "661480"
  },
  {
    "text": "incrementing I'm going to go to address",
    "start": "661480",
    "end": "663120"
  },
  {
    "text": "50 and that's a really simple way of",
    "start": "663120",
    "end": "665720"
  },
  {
    "text": "doing it now there are obvious flaws",
    "start": "665720",
    "end": "667880"
  },
  {
    "text": "with this simple approach and that is",
    "start": "667880",
    "end": "669760"
  },
  {
    "text": "what happens if there are two branches",
    "start": "669760",
    "end": "671680"
  },
  {
    "text": "one at address 53 and one at address 63",
    "start": "671680",
    "end": "674680"
  },
  {
    "text": "they're going to land in the same bucket",
    "start": "674680",
    "end": "676560"
  },
  {
    "text": "and then what we keep doing is",
    "start": "676560",
    "end": "677519"
  },
  {
    "text": "overwriting them and that's a shame and",
    "start": "677519",
    "end": "679480"
  },
  {
    "text": "it's unfortunate there are limitations",
    "start": "679480",
    "end": "681320"
  },
  {
    "text": "to this and there are ways of improving",
    "start": "681320",
    "end": "682680"
  },
  {
    "text": "that we can have multiple slots in this",
    "start": "682680",
    "end": "684320"
  },
  {
    "text": "thing in this uh this table um but it's",
    "start": "684320",
    "end": "688120"
  },
  {
    "text": "a straightforward way and it's you a",
    "start": "688120",
    "end": "689560"
  },
  {
    "text": "flavor of the kinds of things that are",
    "start": "689560",
    "end": "690920"
  },
  {
    "text": "going on inside in modern CPUs this is",
    "start": "690920",
    "end": "693079"
  },
  {
    "text": "called the btb the branch Target buffer",
    "start": "693079",
    "end": "697519"
  },
  {
    "text": "and it's a predictor for where the",
    "start": "697519",
    "end": "699760"
  },
  {
    "text": "target of a branch is and in fact it's",
    "start": "699760",
    "end": "701760"
  },
  {
    "text": "also predicting whether there is a",
    "start": "701760",
    "end": "703560"
  },
  {
    "text": "branch because our predicting robot",
    "start": "703560",
    "end": "706360"
  },
  {
    "text": "doesn't know anything about the program",
    "start": "706360",
    "end": "709000"
  },
  {
    "text": "at all he doesn't know anything at all",
    "start": "709000",
    "end": "710920"
  },
  {
    "text": "he just has he's just got a increment",
    "start": "710920",
    "end": "713320"
  },
  {
    "text": "numbers and occasionally check his table",
    "start": "713320",
    "end": "714760"
  },
  {
    "text": "and say oh no no no actually we're going",
    "start": "714760",
    "end": "716000"
  },
  {
    "text": "to go somewhere else now if you've ever",
    "start": "716000",
    "end": "718279"
  },
  {
    "text": "heard of Branch prediction",
    "start": "718279",
    "end": "719880"
  },
  {
    "text": "before a lot of it um a lot of it",
    "start": "719880",
    "end": "722920"
  },
  {
    "text": "concentrates on predicting whether a",
    "start": "722920",
    "end": "725240"
  },
  {
    "text": "branch is taken or not and in this",
    "start": "725240",
    "end": "727440"
  },
  {
    "text": "instance I've started with an",
    "start": "727440",
    "end": "728720"
  },
  {
    "text": "unconditional Branch this always happens",
    "start": "728720",
    "end": "731480"
  },
  {
    "text": "and so it's an easy Choice every it",
    "start": "731480",
    "end": "733800"
  },
  {
    "text": "always happens so every time we get to",
    "start": "733800",
    "end": "735720"
  },
  {
    "text": "address 53 we want to go back to 50 fine",
    "start": "735720",
    "end": "738959"
  },
  {
    "text": "what happens if this was a conditional",
    "start": "738959",
    "end": "741279"
  },
  {
    "text": "Branch what if it was comparing two",
    "start": "741279",
    "end": "742800"
  },
  {
    "text": "numbers and it says well if the number",
    "start": "742800",
    "end": "744120"
  },
  {
    "text": "is greater than 10 do something else not",
    "start": "744120",
    "end": "747639"
  },
  {
    "text": "how can we update this well let let's",
    "start": "747639",
    "end": "749600"
  },
  {
    "text": "get a very simple example I'm going to",
    "start": "749600",
    "end": "752279"
  },
  {
    "text": "put you over there and I'm going to work",
    "start": "752279",
    "end": "756320"
  },
  {
    "text": "through uh let's say we've got a our",
    "start": "756320",
    "end": "759000"
  },
  {
    "text": "Fibonacci Sequence they again load 1,000",
    "start": "759000",
    "end": "761920"
  },
  {
    "text": "comma X add 1001 comma X store 1002",
    "start": "761920",
    "end": "767680"
  },
  {
    "text": "comma X increment X compare x with say",
    "start": "767680",
    "end": "771519"
  },
  {
    "text": "100 to get the 100 fidar numbers Branch",
    "start": "771519",
    "end": "774240"
  },
  {
    "text": "if not equal back to 60 at the top here",
    "start": "774240",
    "end": "777480"
  },
  {
    "text": "this is address 60 this will be 60 3",
    "start": "777480",
    "end": "780440"
  },
  {
    "text": "66 69 70 72 I think I'm they're trying",
    "start": "780440",
    "end": "785720"
  },
  {
    "text": "to remember how big each of these it",
    "start": "785720",
    "end": "787639"
  },
  {
    "text": "doesn't really matter but like it gives",
    "start": "787639",
    "end": "788760"
  },
  {
    "text": "us some idea but you know for example",
    "start": "788760",
    "end": "790320"
  },
  {
    "text": "here's the first example where these two",
    "start": "790320",
    "end": "792680"
  },
  {
    "text": "instructions 60 and 70 would land in the",
    "start": "792680",
    "end": "795480"
  },
  {
    "text": "same table entry and so if there was a",
    "start": "795480",
    "end": "797880"
  },
  {
    "text": "branch in both of those locations they",
    "start": "797880",
    "end": "799440"
  },
  {
    "text": "would fight for each other but there",
    "start": "799440",
    "end": "800480"
  },
  {
    "text": "aren't in this particular example but",
    "start": "800480",
    "end": "802040"
  },
  {
    "text": "what we've got here is a conditional",
    "start": "802040",
    "end": "803720"
  },
  {
    "text": "let's do RTS here uh which would be 74",
    "start": "803720",
    "end": "807079"
  },
  {
    "text": "we've got a conditional Branch at this",
    "start": "807079",
    "end": "809199"
  },
  {
    "text": "this point in the table so let's assume",
    "start": "809199",
    "end": "811240"
  },
  {
    "text": "we've actually run one program and then",
    "start": "811240",
    "end": "812880"
  },
  {
    "text": "the other so we're going to use the same",
    "start": "812880",
    "end": "813839"
  },
  {
    "text": "bit of paper for the sake of making this",
    "start": "813839",
    "end": "816000"
  },
  {
    "text": "easier what would happen if we just use",
    "start": "816000",
    "end": "818040"
  },
  {
    "text": "this the approach that we've got so far",
    "start": "818040",
    "end": "820440"
  },
  {
    "text": "well we would run through 60 and there'",
    "start": "820440",
    "end": "823959"
  },
  {
    "text": "be nothing there 61 62 63 of 63 when we",
    "start": "823959",
    "end": "827320"
  },
  {
    "text": "get to the ad we would look in this slot",
    "start": "827320",
    "end": "829560"
  },
  {
    "text": "but we would compare it with 53 and",
    "start": "829560",
    "end": "831800"
  },
  {
    "text": "we're like well that's not the address",
    "start": "831800",
    "end": "833680"
  },
  {
    "text": "of a branch right that's we know that",
    "start": "833680",
    "end": "835360"
  },
  {
    "text": "it's not a branch because 53 not equal",
    "start": "835360",
    "end": "837480"
  },
  {
    "text": "to 63 so we don't use this particular",
    "start": "837480",
    "end": "839279"
  },
  {
    "text": "entry to the table we keep on going",
    "start": "839279",
    "end": "841040"
  },
  {
    "text": "round and round this thing um eventually",
    "start": "841040",
    "end": "843120"
  },
  {
    "text": "we get to this Branch now let's say it's",
    "start": "843120",
    "end": "845320"
  },
  {
    "text": "the first iteration of the loop so the",
    "start": "845320",
    "end": "847199"
  },
  {
    "text": "branch is definitely taken um when we",
    "start": "847199",
    "end": "850279"
  },
  {
    "text": "get to the branch and the executing",
    "start": "850279",
    "end": "851800"
  },
  {
    "text": "robot says wait a second I did the",
    "start": "851800",
    "end": "854040"
  },
  {
    "text": "comparison and we're going to go back to",
    "start": "854040",
    "end": "856040"
  },
  {
    "text": "address 60 here we are at number 72 in",
    "start": "856040",
    "end": "859240"
  },
  {
    "text": "this instance the end of the branch is",
    "start": "859240",
    "end": "860759"
  },
  {
    "text": "address 73 oh isn't that convenient that",
    "start": "860759",
    "end": "862959"
  },
  {
    "text": "actually wipes out our branched hobby",
    "start": "862959",
    "end": "865560"
  },
  {
    "text": "buffer over here so 73 um would actually",
    "start": "865560",
    "end": "869320"
  },
  {
    "text": "land in this same slot so this is a good",
    "start": "869320",
    "end": "871079"
  },
  {
    "text": "example of evicting something from the",
    "start": "871079",
    "end": "872519"
  },
  {
    "text": "branch Target buffer unintentional he",
    "start": "872519",
    "end": "874680"
  },
  {
    "text": "would send a message and say wait a",
    "start": "874680",
    "end": "875880"
  },
  {
    "text": "second next time you get to 73 go back",
    "start": "875880",
    "end": "878360"
  },
  {
    "text": "to 60 please so our uh our our",
    "start": "878360",
    "end": "881440"
  },
  {
    "text": "predicting robot would come in cross out",
    "start": "881440",
    "end": "884079"
  },
  {
    "text": "53 here and we write 73 and it goes to",
    "start": "884079",
    "end": "888759"
  },
  {
    "text": "60 brilliant um and then we would go",
    "start": "888759",
    "end": "892360"
  },
  {
    "text": "back to 60 and we'd Loop Round And of",
    "start": "892360",
    "end": "894320"
  },
  {
    "text": "course when we get to that Branch we",
    "start": "894320",
    "end": "895600"
  },
  {
    "text": "would correctly predict that it we go to",
    "start": "895600",
    "end": "897519"
  },
  {
    "text": "the top of the loop again and so this is",
    "start": "897519",
    "end": "899279"
  },
  {
    "text": "going to work for 100 times that's great",
    "start": "899279",
    "end": "902000"
  },
  {
    "text": "we've predicted the branch correctly 100",
    "start": "902000",
    "end": "904639"
  },
  {
    "text": "times or 99 times I guess if the first",
    "start": "904639",
    "end": "906800"
  },
  {
    "text": "time was a misprediction and then we get",
    "start": "906800",
    "end": "909560"
  },
  {
    "text": "to the problem on the hundredth time",
    "start": "909560",
    "end": "910959"
  },
  {
    "text": "when we don't take that Branch something",
    "start": "910959",
    "end": "913399"
  },
  {
    "text": "interesting happens the executing robot",
    "start": "913399",
    "end": "916199"
  },
  {
    "text": "will get to the branch he will look",
    "start": "916199",
    "end": "918240"
  },
  {
    "text": "ahead and go well I'm expecting to see",
    "start": "918240",
    "end": "921079"
  },
  {
    "text": "address 74 now because I didn't take the",
    "start": "921079",
    "end": "924480"
  },
  {
    "text": "branch but the next thing in the",
    "start": "924480",
    "end": "926120"
  },
  {
    "text": "pipeline is actually the load for 60 oh",
    "start": "926120",
    "end": "929279"
  },
  {
    "text": "dear this is a new kind of emergency",
    "start": "929279",
    "end": "931680"
  },
  {
    "text": "situation instead of us taking the",
    "start": "931680",
    "end": "933319"
  },
  {
    "text": "branch it's like well we took a branch",
    "start": "933319",
    "end": "935279"
  },
  {
    "text": "and you didn't guess right sorry Mr",
    "start": "935279",
    "end": "937360"
  },
  {
    "text": "predictor you made a mistake so he pulls",
    "start": "937360",
    "end": "940800"
  },
  {
    "text": "the chord and we throw away all the work",
    "start": "940800",
    "end": "942560"
  },
  {
    "text": "again but he also sends a message back",
    "start": "942560",
    "end": "944319"
  },
  {
    "text": "to the predictor to say like you guessed",
    "start": "944319",
    "end": "946240"
  },
  {
    "text": "wrong and this could also happen for",
    "start": "946240",
    "end": "948319"
  },
  {
    "text": "example if we've loaded a new program",
    "start": "948319",
    "end": "949959"
  },
  {
    "text": "and we actually don't have a branch",
    "start": "949959",
    "end": "951279"
  },
  {
    "text": "there anymore for example but so in that",
    "start": "951279",
    "end": "953680"
  },
  {
    "text": "instance what the uh robot would do in",
    "start": "953680",
    "end": "955880"
  },
  {
    "text": "this very simple predictor is just cross",
    "start": "955880",
    "end": "959199"
  },
  {
    "text": "out these entries and leave them empty",
    "start": "959199",
    "end": "961040"
  },
  {
    "text": "again and then he next time around um he",
    "start": "961040",
    "end": "964480"
  },
  {
    "text": "won't make that prediction and so that's",
    "start": "964480",
    "end": "967680"
  },
  {
    "text": "an okay prediction system we always",
    "start": "967680",
    "end": "970839"
  },
  {
    "text": "predict effectively what we're doing is",
    "start": "970839",
    "end": "972639"
  },
  {
    "text": "for every Branch we predict if it's",
    "start": "972639",
    "end": "974720"
  },
  {
    "text": "conditional that it did the same thing",
    "start": "974720",
    "end": "976360"
  },
  {
    "text": "it did last time because if we",
    "start": "976360",
    "end": "978440"
  },
  {
    "text": "remembered it from the last time and the",
    "start": "978440",
    "end": "980000"
  },
  {
    "text": "and we were rered we go oh all right",
    "start": "980000",
    "end": "981720"
  },
  {
    "text": "well next time I'll predict it to be",
    "start": "981720",
    "end": "983399"
  },
  {
    "text": "taken or whoops no next time I predict",
    "start": "983399",
    "end": "985759"
  },
  {
    "text": "it to be not there at all and that's not",
    "start": "985759",
    "end": "987800"
  },
  {
    "text": "terrible you know it's like um the old",
    "start": "987800",
    "end": "990279"
  },
  {
    "text": "adage about like predicting the weather",
    "start": "990279",
    "end": "991800"
  },
  {
    "text": "you know yesterday's weather is a",
    "start": "991800",
    "end": "993480"
  },
  {
    "text": "perfectly good predictor for today's",
    "start": "993480",
    "end": "995040"
  },
  {
    "text": "weather under almost all circumstances",
    "start": "995040",
    "end": "996959"
  },
  {
    "text": "and and it's pretty true of most",
    "start": "996959",
    "end": "998560"
  },
  {
    "text": "branches they probably go the same way",
    "start": "998560",
    "end": "999959"
  },
  {
    "text": "certainly of Loops that is a good guess",
    "start": "999959",
    "end": "1002959"
  },
  {
    "text": "if you took it last time you'll probably",
    "start": "1002959",
    "end": "1004240"
  },
  {
    "text": "take it again cuz Loops often go more",
    "start": "1004240",
    "end": "1005720"
  },
  {
    "text": "than a couple of times and you've",
    "start": "1005720",
    "end": "1007000"
  },
  {
    "text": "already paid back the cost of predicting",
    "start": "1007000",
    "end": "1009160"
  },
  {
    "text": "or mispredicting but what if we wanted",
    "start": "1009160",
    "end": "1010720"
  },
  {
    "text": "to go a little bit more intelligent so",
    "start": "1010720",
    "end": "1014000"
  },
  {
    "text": "you know maybe I mean what would you do",
    "start": "1014000",
    "end": "1015720"
  },
  {
    "text": "if you if if if uh if you kept being",
    "start": "1015720",
    "end": "1018399"
  },
  {
    "text": "asked or being told that things are",
    "start": "1018399",
    "end": "1020279"
  },
  {
    "text": "being taken or not taken um how might",
    "start": "1020279",
    "end": "1023839"
  },
  {
    "text": "you think of like trying to make a guess",
    "start": "1023839",
    "end": "1025839"
  },
  {
    "text": "about whether next time something's",
    "start": "1025839",
    "end": "1027038"
  },
  {
    "text": "taken or not well um you could maybe jot",
    "start": "1027039",
    "end": "1030400"
  },
  {
    "text": "how many times you'd done it I don't",
    "start": "1030400",
    "end": "1031798"
  },
  {
    "text": "know would that exactly exactly so yes",
    "start": "1031799",
    "end": "1034880"
  },
  {
    "text": "what we're going to do and again all",
    "start": "1034880",
    "end": "1036720"
  },
  {
    "text": "these things have to be so ludicrously",
    "start": "1036720",
    "end": "1038600"
  },
  {
    "text": "simple that they can be done in one",
    "start": "1038600",
    "end": "1040280"
  },
  {
    "text": "clock cycle by this prediction robot and",
    "start": "1040280",
    "end": "1043038"
  },
  {
    "text": "I have a prop you don't know this but",
    "start": "1043039",
    "end": "1045520"
  },
  {
    "text": "I've got a",
    "start": "1045520",
    "end": "1047120"
  },
  {
    "text": "prop hopefully this shows up on the",
    "start": "1047120",
    "end": "1049080"
  },
  {
    "text": "camera this is like me raiding the kids",
    "start": "1049080",
    "end": "1050799"
  },
  {
    "text": "toys they're all grown up now so that",
    "start": "1050799",
    "end": "1053280"
  },
  {
    "text": "you know we've got a basement full of",
    "start": "1053280",
    "end": "1055559"
  },
  {
    "text": "nonsense here is our table again drawn",
    "start": "1055559",
    "end": "1058559"
  },
  {
    "text": "out or rather doodled onto the side of a",
    "start": "1058559",
    "end": "1060880"
  },
  {
    "text": "toy um here are our slots are from and",
    "start": "1060880",
    "end": "1064720"
  },
  {
    "text": "our two and I've got some validity thing",
    "start": "1064720",
    "end": "1066679"
  },
  {
    "text": "here that's to say whether or not it's",
    "start": "1066679",
    "end": "1067720"
  },
  {
    "text": "filled it or not but I'll just use",
    "start": "1067720",
    "end": "1068960"
  },
  {
    "text": "whether I've written in it or not and so",
    "start": "1068960",
    "end": "1071320"
  },
  {
    "text": "what we're going to do is every time we",
    "start": "1071320",
    "end": "1073520"
  },
  {
    "text": "take a branch let's let's copy out my",
    "start": "1073520",
    "end": "1076159"
  },
  {
    "text": "chart from here what were we number",
    "start": "1076159",
    "end": "1077600"
  },
  {
    "text": "three was uh to from 73 back to 60 so",
    "start": "1077600",
    "end": "1081159"
  },
  {
    "text": "number three was 73 whoops now it's not",
    "start": "1081159",
    "end": "1084240"
  },
  {
    "text": "going to write on here 73 back to 60 and",
    "start": "1084240",
    "end": "1087320"
  },
  {
    "text": "I guess it's valid I'll tick the box",
    "start": "1087320",
    "end": "1088679"
  },
  {
    "text": "there to say it's valid there you go",
    "start": "1088679",
    "end": "1090200"
  },
  {
    "text": "it's an actual branch that we we did",
    "start": "1090200",
    "end": "1091760"
  },
  {
    "text": "take um you know in obviously in",
    "start": "1091760",
    "end": "1094240"
  },
  {
    "text": "Computing terms you can't have empty",
    "start": "1094240",
    "end": "1096159"
  },
  {
    "text": "boxes you have to have a bit somewhere",
    "start": "1096159",
    "end": "1098080"
  },
  {
    "text": "that says are the boxes empty or not and",
    "start": "1098080",
    "end": "1099760"
  },
  {
    "text": "that's what this little bit is on the",
    "start": "1099760",
    "end": "1100840"
  },
  {
    "text": "end here it's like a earli thing so we",
    "start": "1100840",
    "end": "1103679"
  },
  {
    "text": "start out with these predictions here",
    "start": "1103679",
    "end": "1105400"
  },
  {
    "text": "and I have these frowning faces going",
    "start": "1105400",
    "end": "1107039"
  },
  {
    "text": "through to Smiling Faces which may not",
    "start": "1107039",
    "end": "1109080"
  },
  {
    "text": "be visible on the camera but never mind",
    "start": "1109080",
    "end": "1111039"
  },
  {
    "text": "and this is our the number of times that",
    "start": "1111039",
    "end": "1113440"
  },
  {
    "text": "we have either taken or not taken and",
    "start": "1113440",
    "end": "1115840"
  },
  {
    "text": "every time we take the branch we move",
    "start": "1115840",
    "end": "1117720"
  },
  {
    "text": "the counter one to the right and every",
    "start": "1117720",
    "end": "1119880"
  },
  {
    "text": "time we don't take the branch we move it",
    "start": "1119880",
    "end": "1121880"
  },
  {
    "text": "one to the left and then when we have to",
    "start": "1121880",
    "end": "1123840"
  },
  {
    "text": "come and make a prediction we say if",
    "start": "1123840",
    "end": "1126000"
  },
  {
    "text": "it's in the left half we'll assume that",
    "start": "1126000",
    "end": "1129600"
  },
  {
    "text": "it's not taken and if it's in the right",
    "start": "1129600",
    "end": "1131480"
  },
  {
    "text": "half we'll assume it is so we have some",
    "start": "1131480",
    "end": "1133720"
  },
  {
    "text": "kind of track of like it so like for",
    "start": "1133720",
    "end": "1135520"
  },
  {
    "text": "example um well let's say we initialize",
    "start": "1135520",
    "end": "1137679"
  },
  {
    "text": "them all as like we're going to guess",
    "start": "1137679",
    "end": "1139080"
  },
  {
    "text": "that these are referred to as you know",
    "start": "1139080",
    "end": "1140600"
  },
  {
    "text": "very unlikely unlikely likely and very",
    "start": "1140600",
    "end": "1144360"
  },
  {
    "text": "likely something like that and so we'll",
    "start": "1144360",
    "end": "1146919"
  },
  {
    "text": "assume that it's just likely slightly",
    "start": "1146919",
    "end": "1148960"
  },
  {
    "text": "likely is our sort of default case so",
    "start": "1148960",
    "end": "1151280"
  },
  {
    "text": "the very first time we hear about a",
    "start": "1151280",
    "end": "1152720"
  },
  {
    "text": "branch that's conditional we write it",
    "start": "1152720",
    "end": "1155120"
  },
  {
    "text": "into our table and we initialize its",
    "start": "1155120",
    "end": "1156799"
  },
  {
    "text": "counter to be here right in the in the",
    "start": "1156799",
    "end": "1159320"
  },
  {
    "text": "somewhat likely case and then we go",
    "start": "1159320",
    "end": "1161360"
  },
  {
    "text": "around the loop and then the next",
    "start": "1161360",
    "end": "1162799"
  },
  {
    "text": "iteration around the loop we we we",
    "start": "1162799",
    "end": "1165760"
  },
  {
    "text": "predict that it's taken because it's in",
    "start": "1165760",
    "end": "1167679"
  },
  {
    "text": "the somewhat likely camp and then when",
    "start": "1167679",
    "end": "1169799"
  },
  {
    "text": "we get the feedback so now now our",
    "start": "1169799",
    "end": "1171880"
  },
  {
    "text": "executing unit has to always give us",
    "start": "1171880",
    "end": "1173640"
  },
  {
    "text": "feedback it doesn't always tell doesn't",
    "start": "1173640",
    "end": "1175520"
  },
  {
    "text": "just tell us when we got our prediction",
    "start": "1175520",
    "end": "1177159"
  },
  {
    "text": "wrong and you know pulled the rip cord",
    "start": "1177159",
    "end": "1178919"
  },
  {
    "text": "has to tell us like hey yeah you guess",
    "start": "1178919",
    "end": "1180520"
  },
  {
    "text": "right well done you and if he says well",
    "start": "1180520",
    "end": "1182600"
  },
  {
    "text": "done we pick up our counter and we move",
    "start": "1182600",
    "end": "1185000"
  },
  {
    "text": "it over to the the right here and now",
    "start": "1185000",
    "end": "1187440"
  },
  {
    "text": "we're even more likely to predict it now",
    "start": "1187440",
    "end": "1189240"
  },
  {
    "text": "obviously that means that next time",
    "start": "1189240",
    "end": "1190440"
  },
  {
    "text": "around the L we're definitely going to",
    "start": "1190440",
    "end": "1191679"
  },
  {
    "text": "predict it uh in our particular example",
    "start": "1191679",
    "end": "1194720"
  },
  {
    "text": "that we just explained here with the",
    "start": "1194720",
    "end": "1196960"
  },
  {
    "text": "with the loop of 100 when we get to that",
    "start": "1196960",
    "end": "1199080"
  },
  {
    "text": "100th iteration and we make a mistake",
    "start": "1199080",
    "end": "1201840"
  },
  {
    "text": "and we go yeah we're predicting it",
    "start": "1201840",
    "end": "1203919"
  },
  {
    "text": "instead of throwing away our work the um",
    "start": "1203919",
    "end": "1207240"
  },
  {
    "text": "executor robot says hey you guessed",
    "start": "1207240",
    "end": "1208880"
  },
  {
    "text": "wrong um we didn't take that Branch this",
    "start": "1208880",
    "end": "1211240"
  },
  {
    "text": "time and we go oh well I guess we're",
    "start": "1211240",
    "end": "1213720"
  },
  {
    "text": "going to move you back down to only",
    "start": "1213720",
    "end": "1215520"
  },
  {
    "text": "slightly likely and that's pretty cool",
    "start": "1215520",
    "end": "1218480"
  },
  {
    "text": "because if we were to re-execute our",
    "start": "1218480",
    "end": "1221080"
  },
  {
    "text": "Fibonacci loop it's still the case that",
    "start": "1221080",
    "end": "1223799"
  },
  {
    "text": "the next time we run it we probably",
    "start": "1223799",
    "end": "1225159"
  },
  {
    "text": "start from zero again that we do",
    "start": "1225159",
    "end": "1226960"
  },
  {
    "text": "actually want to predict it was taken in",
    "start": "1226960",
    "end": "1229360"
  },
  {
    "text": "without this this counter here we would",
    "start": "1229360",
    "end": "1230960"
  },
  {
    "text": "have just said no it's not taken",
    "start": "1230960",
    "end": "1232080"
  },
  {
    "text": "immediately we'd have just predicted the",
    "start": "1232080",
    "end": "1233240"
  },
  {
    "text": "same way as last time but here we have a",
    "start": "1233240",
    "end": "1235200"
  },
  {
    "text": "little bit of hysteresis we've got a",
    "start": "1235200",
    "end": "1236640"
  },
  {
    "text": "little bit of a memory about how this",
    "start": "1236640",
    "end": "1238440"
  },
  {
    "text": "has gone before and it's still extremely",
    "start": "1238440",
    "end": "1242520"
  },
  {
    "text": "extremely straightforward for uh system",
    "start": "1242520",
    "end": "1245280"
  },
  {
    "text": "this is just two bits inside this",
    "start": "1245280",
    "end": "1246919"
  },
  {
    "text": "otherwise quite large table that",
    "start": "1246919",
    "end": "1248960"
  },
  {
    "text": "predicts whether or not we're going to",
    "start": "1248960",
    "end": "1250760"
  },
  {
    "text": "take and obviously if it was a more",
    "start": "1250760",
    "end": "1253280"
  },
  {
    "text": "complicated conditional instruction or",
    "start": "1253280",
    "end": "1255840"
  },
  {
    "text": "sorry conditional Branch then eventually",
    "start": "1255840",
    "end": "1257760"
  },
  {
    "text": "we might learn that it's not taken ever",
    "start": "1257760",
    "end": "1259480"
  },
  {
    "text": "again you know we keep going back until",
    "start": "1259480",
    "end": "1260720"
  },
  {
    "text": "it's like no never predict this is being",
    "start": "1260720",
    "end": "1262200"
  },
  {
    "text": "taken that's kind of the the simplest",
    "start": "1262200",
    "end": "1264280"
  },
  {
    "text": "form of this s of Branch prediction um",
    "start": "1264280",
    "end": "1267880"
  },
  {
    "text": "with with the conditional part of it",
    "start": "1267880",
    "end": "1269320"
  },
  {
    "text": "like that is deciding whether this",
    "start": "1269320",
    "end": "1270559"
  },
  {
    "text": "branch is taken or not so this this",
    "start": "1270559",
    "end": "1272279"
  },
  {
    "text": "Branch Target buffer here which I'm",
    "start": "1272279",
    "end": "1274240"
  },
  {
    "text": "representing has two jobs the first",
    "start": "1274240",
    "end": "1276799"
  },
  {
    "text": "thing is is there a branch at all and",
    "start": "1276799",
    "end": "1279720"
  },
  {
    "text": "the second thing is should it be taken",
    "start": "1279720",
    "end": "1281799"
  },
  {
    "text": "should we predict that it's taken this",
    "start": "1281799",
    "end": "1283520"
  },
  {
    "text": "time and obviously you can just if you",
    "start": "1283520",
    "end": "1285039"
  },
  {
    "text": "get an unconditional Branch you could",
    "start": "1285039",
    "end": "1286559"
  },
  {
    "text": "use the same table and just initialize",
    "start": "1286559",
    "end": "1288120"
  },
  {
    "text": "it as you know extremely likely like if",
    "start": "1288120",
    "end": "1290520"
  },
  {
    "text": "there's a branch up here but in practice",
    "start": "1290520",
    "end": "1292320"
  },
  {
    "text": "they're done separately and so this is",
    "start": "1292320",
    "end": "1295679"
  },
  {
    "text": "great but there are a lot of things um",
    "start": "1295679",
    "end": "1298720"
  },
  {
    "text": "even that this doesn't cover and so just",
    "start": "1298720",
    "end": "1300760"
  },
  {
    "text": "to give you a flavor of the way that",
    "start": "1300760",
    "end": "1302400"
  },
  {
    "text": "modern processes work what modern",
    "start": "1302400",
    "end": "1304760"
  },
  {
    "text": "processors tend to do is they separate",
    "start": "1304760",
    "end": "1307360"
  },
  {
    "text": "these two tables out they have the",
    "start": "1307360",
    "end": "1308720"
  },
  {
    "text": "predictions in one table that's much",
    "start": "1308720",
    "end": "1310440"
  },
  {
    "text": "bigger because the tables of it's only",
    "start": "1310440",
    "end": "1312480"
  },
  {
    "text": "these two bits for every entry in the",
    "start": "1312480",
    "end": "1314039"
  },
  {
    "text": "table and then they have the the from",
    "start": "1314039",
    "end": "1316080"
  },
  {
    "text": "and the two and then they use a",
    "start": "1316080",
    "end": "1318760"
  },
  {
    "text": "combination of where the branch was the",
    "start": "1318760",
    "end": "1322799"
  },
  {
    "text": "history of the last few branches that",
    "start": "1322799",
    "end": "1325000"
  },
  {
    "text": "have been taken like for every time we",
    "start": "1325000",
    "end": "1326559"
  },
  {
    "text": "take a branch we add a one to like a a",
    "start": "1326559",
    "end": "1329320"
  },
  {
    "text": "register that's being shifted along and",
    "start": "1329320",
    "end": "1331120"
  },
  {
    "text": "every time we don't take a branch we put",
    "start": "1331120",
    "end": "1332320"
  },
  {
    "text": "a zero so we've kind of got like a",
    "start": "1332320",
    "end": "1333559"
  },
  {
    "text": "pattern of like what's happened recently",
    "start": "1333559",
    "end": "1336000"
  },
  {
    "text": "and we smoos all those bits together",
    "start": "1336000",
    "end": "1337600"
  },
  {
    "text": "with like a very simple hashing",
    "start": "1337600",
    "end": "1339559"
  },
  {
    "text": "algorithm to get like a unique",
    "start": "1339559",
    "end": "1341520"
  },
  {
    "text": "fingerprint for when I got to this",
    "start": "1341520",
    "end": "1343720"
  },
  {
    "text": "branch and I had taken the pre previous",
    "start": "1343720",
    "end": "1345960"
  },
  {
    "text": "three branches and I had not taken the",
    "start": "1345960",
    "end": "1347960"
  },
  {
    "text": "the branch immediately before that then",
    "start": "1347960",
    "end": "1350360"
  },
  {
    "text": "I go and look at a particular entry in",
    "start": "1350360",
    "end": "1352760"
  },
  {
    "text": "my likely or unlikely table and then I",
    "start": "1352760",
    "end": "1356120"
  },
  {
    "text": "will update and use that for my",
    "start": "1356120",
    "end": "1357559"
  },
  {
    "text": "prediction and that allows the branch",
    "start": "1357559",
    "end": "1360080"
  },
  {
    "text": "predictor to take into account patterns",
    "start": "1360080",
    "end": "1362440"
  },
  {
    "text": "in sequences so for example you know if",
    "start": "1362440",
    "end": "1364760"
  },
  {
    "text": "this if two things are correlated as",
    "start": "1364760",
    "end": "1366720"
  },
  {
    "text": "they often are then the the branch PR",
    "start": "1366720",
    "end": "1369600"
  },
  {
    "text": "will learn that if you take this Branch",
    "start": "1369600",
    "end": "1371200"
  },
  {
    "text": "you're almost certainly not going to",
    "start": "1371200",
    "end": "1372679"
  },
  {
    "text": "take this other Branch because that will",
    "start": "1372679",
    "end": "1374080"
  },
  {
    "text": "be in the pattern and it will be in the",
    "start": "1374080",
    "end": "1375520"
  },
  {
    "text": "history so it's kind of like a learning",
    "start": "1375520",
    "end": "1377240"
  },
  {
    "text": "very straightforward Learning System",
    "start": "1377240",
    "end": "1378520"
  },
  {
    "text": "system and it's remarkably good um at uh",
    "start": "1378520",
    "end": "1382880"
  },
  {
    "text": "predicting the flow which as I've said",
    "start": "1382880",
    "end": "1385440"
  },
  {
    "text": "before is really important with modern",
    "start": "1385440",
    "end": "1386799"
  },
  {
    "text": "CPUs where this pipeline isn't the three",
    "start": "1386799",
    "end": "1388880"
  },
  {
    "text": "or four steps that I've described it's",
    "start": "1388880",
    "end": "1390279"
  },
  {
    "text": "many many many steps and it gets even",
    "start": "1390279",
    "end": "1392840"
  },
  {
    "text": "more important to get this right when we",
    "start": "1392840",
    "end": "1395159"
  },
  {
    "text": "start adding more and more execution",
    "start": "1395159",
    "end": "1397600"
  },
  {
    "text": "units that is more and more robots at",
    "start": "1397600",
    "end": "1399360"
  },
  {
    "text": "the end of the pipeline that can do lots",
    "start": "1399360",
    "end": "1401400"
  },
  {
    "text": "of work",
    "start": "1401400",
    "end": "1403640"
  },
  {
    "text": "simultaneously is I ask a question is is",
    "start": "1403640",
    "end": "1406559"
  },
  {
    "text": "there a situation where no matter how",
    "start": "1406559",
    "end": "1408919"
  },
  {
    "text": "complicated or impressive this is that",
    "start": "1408919",
    "end": "1411039"
  },
  {
    "text": "it just doesn't improve things",
    "start": "1411039",
    "end": "1413360"
  },
  {
    "text": "absolutely yes yes there absolutely is",
    "start": "1413360",
    "end": "1416520"
  },
  {
    "text": "so there are pathological cases for",
    "start": "1416520",
    "end": "1418360"
  },
  {
    "text": "certain so um things that can't be",
    "start": "1418360",
    "end": "1421200"
  },
  {
    "text": "predicted are like random events random",
    "start": "1421200",
    "end": "1423840"
  },
  {
    "text": "events can't be predicted and so the",
    "start": "1423840",
    "end": "1425559"
  },
  {
    "text": "pipeline is got you know at best 50/50",
    "start": "1425559",
    "end": "1428679"
  },
  {
    "text": "chance of getting things right in which",
    "start": "1428679",
    "end": "1430320"
  },
  {
    "text": "case you know you're throwing away work",
    "start": "1430320",
    "end": "1431880"
  },
  {
    "text": "half the time it's still no worse than",
    "start": "1431880",
    "end": "1435039"
  },
  {
    "text": "if you didn't do prediction at all",
    "start": "1435039",
    "end": "1437320"
  },
  {
    "text": "because you'd still be wrong a lot of of",
    "start": "1437320",
    "end": "1438600"
  },
  {
    "text": "the time but it can be considerably",
    "start": "1438600",
    "end": "1440520"
  },
  {
    "text": "slower than a branch that is predicted",
    "start": "1440520",
    "end": "1443840"
  },
  {
    "text": "um so for example actually there's",
    "start": "1443840",
    "end": "1445520"
  },
  {
    "text": "there's a um uh I wrote a ray Tracer",
    "start": "1445520",
    "end": "1448960"
  },
  {
    "text": "which I'm sure you've covered before and",
    "start": "1448960",
    "end": "1451159"
  },
  {
    "text": "one of the things you do when you're Ray",
    "start": "1451159",
    "end": "1452760"
  },
  {
    "text": "tracing is you take a line in space and",
    "start": "1452760",
    "end": "1454799"
  },
  {
    "text": "you intersect it with a triangle and see",
    "start": "1454799",
    "end": "1456679"
  },
  {
    "text": "if does this line cross through this",
    "start": "1456679",
    "end": "1458400"
  },
  {
    "text": "triangle and um for any one individual",
    "start": "1458400",
    "end": "1461480"
  },
  {
    "text": "triangle you're very unlikely to hit the",
    "start": "1461480",
    "end": "1463320"
  },
  {
    "text": "triangle with any particular line This",
    "start": "1463320",
    "end": "1465120"
  },
  {
    "text": "is in three dimensions um and one of the",
    "start": "1465120",
    "end": "1468399"
  },
  {
    "text": "checks is am I off to the right of the",
    "start": "1468399",
    "end": "1470960"
  },
  {
    "text": "uh triangle or I am off the left side of",
    "start": "1470960",
    "end": "1472760"
  },
  {
    "text": "the triangle right and each of those is",
    "start": "1472760",
    "end": "1474360"
  },
  {
    "text": "a comparison and a and a check now for",
    "start": "1474360",
    "end": "1476720"
  },
  {
    "text": "any random triangle and any random line",
    "start": "1476720",
    "end": "1480240"
  },
  {
    "text": "you're it's it's a literally a random",
    "start": "1480240",
    "end": "1482080"
  },
  {
    "text": "chance whether it's off the left or off",
    "start": "1482080",
    "end": "1484000"
  },
  {
    "text": "the right and so the branch predictor",
    "start": "1484000",
    "end": "1485600"
  },
  {
    "text": "there can't get it right it's like hey",
    "start": "1485600",
    "end": "1487080"
  },
  {
    "text": "you just gave me a ray that's anywhere",
    "start": "1487080",
    "end": "1489120"
  },
  {
    "text": "in 3D space and it turns out it's off",
    "start": "1489120",
    "end": "1491880"
  },
  {
    "text": "the right but it's just as like to be",
    "start": "1491880",
    "end": "1493039"
  },
  {
    "text": "off the left right and that's",
    "start": "1493039",
    "end": "1494520"
  },
  {
    "text": "unpredictable and that's hugely slow to",
    "start": "1494520",
    "end": "1497120"
  },
  {
    "text": "predict but if you combine those two",
    "start": "1497120",
    "end": "1499960"
  },
  {
    "text": "comparisons together and say is it off",
    "start": "1499960",
    "end": "1503039"
  },
  {
    "text": "the left or is it off the right together",
    "start": "1503039",
    "end": "1505520"
  },
  {
    "text": "and then do a branch off of the the pair",
    "start": "1505520",
    "end": "1507679"
  },
  {
    "text": "of those things combined that branch is",
    "start": "1507679",
    "end": "1510200"
  },
  {
    "text": "very very predictable because it's",
    "start": "1510200",
    "end": "1511559"
  },
  {
    "text": "almost always yes like you didn't hit",
    "start": "1511559",
    "end": "1513440"
  },
  {
    "text": "the triangle Branch away skip this",
    "start": "1513440",
    "end": "1515159"
  },
  {
    "text": "triangle go to the next triangle and so",
    "start": "1515159",
    "end": "1517159"
  },
  {
    "text": "a tiny literally one character change in",
    "start": "1517159",
    "end": "1519720"
  },
  {
    "text": "my source code for the ray Tracer sped",
    "start": "1519720",
    "end": "1523000"
  },
  {
    "text": "It Up by 30 or 40% because this was in",
    "start": "1523000",
    "end": "1525559"
  },
  {
    "text": "the Deep core Loop of of of the C of the",
    "start": "1525559",
    "end": "1527960"
  },
  {
    "text": "rendering Loop and it was just really",
    "start": "1527960",
    "end": "1529399"
  },
  {
    "text": "fascinating and really interesting sort",
    "start": "1529399",
    "end": "1531440"
  },
  {
    "text": "of to to be able to track that down and",
    "start": "1531440",
    "end": "1533240"
  },
  {
    "text": "and trace it right back to the predictor",
    "start": "1533240",
    "end": "1536520"
  },
  {
    "text": "inside the",
    "start": "1536520",
    "end": "1539120"
  },
  {
    "text": "CPU metronome clicks before that",
    "start": "1539240",
    "end": "1542760"
  },
  {
    "text": "particular thing has finished but what",
    "start": "1542760",
    "end": "1545120"
  },
  {
    "text": "you'll notice is that if we can keep it",
    "start": "1545120",
    "end": "1548520"
  },
  {
    "text": "fed if this therefore we can calculate",
    "start": "1548520",
    "end": "1550840"
  },
  {
    "text": "the lighting effects and it's why I'm",
    "start": "1550840",
    "end": "1553320"
  },
  {
    "text": "able to have a shadow here because",
    "start": "1553320",
    "end": "1558200"
  }
]