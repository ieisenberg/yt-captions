[
  {
    "text": "over the Christmas period I picked up",
    "start": "0",
    "end": "2159"
  },
  {
    "text": "this game for my PlayStation Atari 50",
    "start": "2159",
    "end": "5940"
  },
  {
    "text": "which is a sort of interactive history",
    "start": "5940",
    "end": "7799"
  },
  {
    "text": "of the Atari games consoles misses out",
    "start": "7799",
    "end": "11219"
  },
  {
    "text": "the stuck but the Atari games consoles",
    "start": "11219",
    "end": "14280"
  },
  {
    "text": "and arcade games and one of the things",
    "start": "14280",
    "end": "16560"
  },
  {
    "text": "it does is it emulates the game so you",
    "start": "16560",
    "end": "18720"
  },
  {
    "text": "can actually play them there's been a",
    "start": "18720",
    "end": "19800"
  },
  {
    "text": "new Jaguar emulator written by Richard",
    "start": "19800",
    "end": "21600"
  },
  {
    "text": "Whitehouse which has then been released",
    "start": "21600",
    "end": "23520"
  },
  {
    "text": "for the PC as well and so I thought what",
    "start": "23520",
    "end": "25980"
  },
  {
    "text": "would be an interesting thing to do",
    "start": "25980",
    "end": "27300"
  },
  {
    "text": "would be to actually look at how we",
    "start": "27300",
    "end": "29039"
  },
  {
    "text": "would write an emulator for a game",
    "start": "29039",
    "end": "31320"
  },
  {
    "text": "system or a computer or anything really",
    "start": "31320",
    "end": "35719"
  },
  {
    "text": "first thing to start is actually we need",
    "start": "36719",
    "end": "38399"
  },
  {
    "text": "to know what's in the system that we",
    "start": "38399",
    "end": "40559"
  },
  {
    "text": "want to emulate we're not going to build",
    "start": "40559",
    "end": "42000"
  },
  {
    "text": "a complete emulator because we don't do",
    "start": "42000",
    "end": "43440"
  },
  {
    "text": "tutorials on computer file but we'll",
    "start": "43440",
    "end": "45480"
  },
  {
    "text": "look at things so let's start with a",
    "start": "45480",
    "end": "47100"
  },
  {
    "text": "system and let's keep the Atari theme so",
    "start": "47100",
    "end": "49260"
  },
  {
    "text": "let's grab a 2600 start off thinking oh",
    "start": "49260",
    "end": "52260"
  },
  {
    "text": "it would be really hard to write an",
    "start": "52260",
    "end": "53340"
  },
  {
    "text": "emulator then when you actually start",
    "start": "53340",
    "end": "54480"
  },
  {
    "text": "looking at it you think actually this is",
    "start": "54480",
    "end": "55980"
  },
  {
    "text": "really easy and then when you try and",
    "start": "55980",
    "end": "58079"
  },
  {
    "text": "actually make it work for every single",
    "start": "58079",
    "end": "59879"
  },
  {
    "text": "bit of software that's ever been written",
    "start": "59879",
    "end": "61199"
  },
  {
    "text": "for it you realize it was hard in the",
    "start": "61199",
    "end": "63719"
  },
  {
    "text": "first place so you can get something",
    "start": "63719",
    "end": "65338"
  },
  {
    "text": "going that will run simple software",
    "start": "65339",
    "end": "68460"
  },
  {
    "text": "quite easily but to get the most out of",
    "start": "68460",
    "end": "71159"
  },
  {
    "text": "things like the 2600 or an Amiga or an",
    "start": "71159",
    "end": "74520"
  },
  {
    "text": "Atari St or whatever it is even a modern",
    "start": "74520",
    "end": "76500"
  },
  {
    "text": "PC lots of software tricks are often",
    "start": "76500",
    "end": "79500"
  },
  {
    "text": "used and getting them to emulate",
    "start": "79500",
    "end": "81299"
  },
  {
    "text": "accurately",
    "start": "81299",
    "end": "82500"
  },
  {
    "text": "can be really really hard and that's",
    "start": "82500",
    "end": "84659"
  },
  {
    "text": "where things get interesting but let's",
    "start": "84659",
    "end": "86100"
  },
  {
    "text": "break this open literally and see where",
    "start": "86100",
    "end": "88799"
  },
  {
    "text": "we get started",
    "start": "88799",
    "end": "91259"
  },
  {
    "text": "there we go so it's not pushing it peace",
    "start": "91259",
    "end": "94439"
  },
  {
    "text": "and then we've got the circuit board",
    "start": "94439",
    "end": "98400"
  },
  {
    "text": "and most of this is just stuff to make",
    "start": "98400",
    "end": "102479"
  },
  {
    "text": "it appear on the TV screen so we've got",
    "start": "102479",
    "end": "103979"
  },
  {
    "text": "the TV modulator over here a few buttons",
    "start": "103979",
    "end": "106680"
  },
  {
    "text": "for input and output sockets for the",
    "start": "106680",
    "end": "108840"
  },
  {
    "text": "joysticks on the back a few switches",
    "start": "108840",
    "end": "110880"
  },
  {
    "text": "that's power input quite useful doesn't",
    "start": "110880",
    "end": "112560"
  },
  {
    "text": "work without it but the main things that",
    "start": "112560",
    "end": "114540"
  },
  {
    "text": "we're interested in if we're trying to",
    "start": "114540",
    "end": "115619"
  },
  {
    "text": "build an emulator are these three chips",
    "start": "115619",
    "end": "118140"
  },
  {
    "text": "here the one in the middle this one is",
    "start": "118140",
    "end": "120780"
  },
  {
    "text": "the CPU it's a variant of the 6502 CPU",
    "start": "120780",
    "end": "124020"
  },
  {
    "text": "so we'll need to emulate that and by",
    "start": "124020",
    "end": "126420"
  },
  {
    "text": "emulate I mean we'll need to write",
    "start": "126420",
    "end": "127740"
  },
  {
    "text": "software which does exactly the same",
    "start": "127740",
    "end": "129899"
  },
  {
    "text": "thing for the CPU drills won't give them",
    "start": "129899",
    "end": "132540"
  },
  {
    "text": "the same code",
    "start": "132540",
    "end": "134280"
  },
  {
    "text": "um this one over here is the wonderfully",
    "start": "134280",
    "end": "136500"
  },
  {
    "text": "named Riot chip that's short for Ram",
    "start": "136500",
    "end": "139200"
  },
  {
    "text": "input output and timers uh chip here and",
    "start": "139200",
    "end": "142440"
  },
  {
    "text": "we'll need to emulate that as well and",
    "start": "142440",
    "end": "144420"
  },
  {
    "text": "we've got down here the television",
    "start": "144420",
    "end": "145920"
  },
  {
    "text": "interface adapter the Tia chip which is",
    "start": "145920",
    "end": "148260"
  },
  {
    "text": "one that produces the graphics and so on",
    "start": "148260",
    "end": "150300"
  },
  {
    "text": "that actually gets displayed on screen",
    "start": "150300",
    "end": "152940"
  },
  {
    "text": "of course the other thing which is the",
    "start": "152940",
    "end": "154739"
  },
  {
    "text": "game the cop the Atari is well known for",
    "start": "154739",
    "end": "156720"
  },
  {
    "text": "is that you have the cartridges which",
    "start": "156720",
    "end": "157860"
  },
  {
    "text": "you slot into here and actually all the",
    "start": "157860",
    "end": "160140"
  },
  {
    "text": "cartridge was was a ROM chip which",
    "start": "160140",
    "end": "162959"
  },
  {
    "text": "contained the program so your actual",
    "start": "162959",
    "end": "164760"
  },
  {
    "text": "program code was in the cartridge so",
    "start": "164760",
    "end": "166739"
  },
  {
    "text": "that was there and then the CPU was here",
    "start": "166739",
    "end": "169200"
  },
  {
    "text": "and the ram was in the chip here to go",
    "start": "169200",
    "end": "171660"
  },
  {
    "text": "actually and you had the wonderfully",
    "start": "171660",
    "end": "173700"
  },
  {
    "text": "high amount of 128 bytes of memory we're",
    "start": "173700",
    "end": "178080"
  },
  {
    "text": "not going to go into the details of how",
    "start": "178080",
    "end": "179220"
  },
  {
    "text": "the 2600 works that's another video and",
    "start": "179220",
    "end": "181920"
  },
  {
    "text": "we should probably already be covered",
    "start": "181920",
    "end": "183060"
  },
  {
    "text": "part of it but we need to know where",
    "start": "183060",
    "end": "185099"
  },
  {
    "text": "those things were so that when we",
    "start": "185099",
    "end": "187200"
  },
  {
    "text": "emulate the CPU and we write a",
    "start": "187200",
    "end": "189720"
  },
  {
    "text": "particular memory location or read from",
    "start": "189720",
    "end": "191280"
  },
  {
    "text": "a particular memory location we know",
    "start": "191280",
    "end": "192780"
  },
  {
    "text": "whether we're getting data from the",
    "start": "192780",
    "end": "193920"
  },
  {
    "text": "cartridge getting data from the RAM and",
    "start": "193920",
    "end": "196319"
  },
  {
    "text": "the riot chip or whether accessing some",
    "start": "196319",
    "end": "198420"
  },
  {
    "text": "other Hardware",
    "start": "198420",
    "end": "199440"
  },
  {
    "text": "that's attached to it so the first thing",
    "start": "199440",
    "end": "202260"
  },
  {
    "text": "that we need to know when building an",
    "start": "202260",
    "end": "204480"
  },
  {
    "text": "emulator is",
    "start": "204480",
    "end": "207000"
  },
  {
    "text": "what's the memory like this is pretty",
    "start": "207000",
    "end": "209040"
  },
  {
    "text": "much exactly the same things you need to",
    "start": "209040",
    "end": "210780"
  },
  {
    "text": "know when designing a computer or",
    "start": "210780",
    "end": "212700"
  },
  {
    "text": "designing a games column in the first",
    "start": "212700",
    "end": "214080"
  },
  {
    "text": "place you need to know where things are",
    "start": "214080",
    "end": "215280"
  },
  {
    "text": "going to be so you can build the",
    "start": "215280",
    "end": "216840"
  },
  {
    "text": "hardware to decode it we're not building",
    "start": "216840",
    "end": "218879"
  },
  {
    "text": "Hardware we're writing software but we",
    "start": "218879",
    "end": "221280"
  },
  {
    "text": "need to do the same sort of thing in",
    "start": "221280",
    "end": "223379"
  },
  {
    "text": "there",
    "start": "223379",
    "end": "225540"
  },
  {
    "text": "exactly that's exactly what we're going",
    "start": "225540",
    "end": "227220"
  },
  {
    "text": "to do we're writing software that",
    "start": "227220",
    "end": "228180"
  },
  {
    "text": "pretends it's Hardware so on the 2600 we",
    "start": "228180",
    "end": "230760"
  },
  {
    "text": "have address zero down at the bottom we",
    "start": "230760",
    "end": "233280"
  },
  {
    "text": "have FF FF up here yes I know the 6507",
    "start": "233280",
    "end": "238319"
  },
  {
    "text": "CPU variant in the 2600 only has a",
    "start": "238319",
    "end": "241620"
  },
  {
    "text": "limited number of address pins so only",
    "start": "241620",
    "end": "243000"
  },
  {
    "text": "goes up to one FFF but in terms of the",
    "start": "243000",
    "end": "245099"
  },
  {
    "text": "6502 it's still try and access the high",
    "start": "245099",
    "end": "247379"
  },
  {
    "text": "addresses to fetch things like the reset",
    "start": "247379",
    "end": "249299"
  },
  {
    "text": "Vector we'll come back to that so at the",
    "start": "249299",
    "end": "251939"
  },
  {
    "text": "top we would have the ROM",
    "start": "251939",
    "end": "254580"
  },
  {
    "text": "and that would be a line to the top of",
    "start": "254580",
    "end": "256199"
  },
  {
    "text": "it is a ffff f",
    "start": "256199",
    "end": "258720"
  },
  {
    "text": "um so that the reset vector and things",
    "start": "258720",
    "end": "260220"
  },
  {
    "text": "are in the right place so the low 128",
    "start": "260220",
    "end": "262440"
  },
  {
    "text": "bytes of that are for the Tia chip and",
    "start": "262440",
    "end": "265979"
  },
  {
    "text": "you access that with those addresses the",
    "start": "265979",
    "end": "268620"
  },
  {
    "text": "next 128 bytes are your RAM 128 bytes of",
    "start": "268620",
    "end": "273540"
  },
  {
    "text": "it and then it addressed two zero zero",
    "start": "273540",
    "end": "276120"
  },
  {
    "text": "zero or so in HEX you have the rest of",
    "start": "276120",
    "end": "279060"
  },
  {
    "text": "the riot chip that you can access there",
    "start": "279060",
    "end": "282120"
  },
  {
    "text": "so we now know where things are in",
    "start": "282120",
    "end": "284940"
  },
  {
    "text": "memory and we can relatively easily",
    "start": "284940",
    "end": "287699"
  },
  {
    "text": "duplicate that in a program the ROM",
    "start": "287699",
    "end": "289860"
  },
  {
    "text": "cartridge if we've got the code for it",
    "start": "289860",
    "end": "292020"
  },
  {
    "text": "we can load that into an array and we",
    "start": "292020",
    "end": "293639"
  },
  {
    "text": "can access the bytes from that",
    "start": "293639",
    "end": "294840"
  },
  {
    "text": "relatively easily again the ram we can",
    "start": "294840",
    "end": "297540"
  },
  {
    "text": "load that into an array access the bytes",
    "start": "297540",
    "end": "300180"
  },
  {
    "text": "right bikes into that when we Access",
    "start": "300180",
    "end": "301680"
  },
  {
    "text": "Memory there easy to do as we said when",
    "start": "301680",
    "end": "304620"
  },
  {
    "text": "you start off it looks complex as you",
    "start": "304620",
    "end": "306360"
  },
  {
    "text": "start to break it down and so I thought",
    "start": "306360",
    "end": "307500"
  },
  {
    "text": "oh this looks relatively easily one",
    "start": "307500",
    "end": "309180"
  },
  {
    "text": "array two arrays",
    "start": "309180",
    "end": "311340"
  },
  {
    "text": "easy to implement then it starts gets",
    "start": "311340",
    "end": "313620"
  },
  {
    "text": "harder again for things like the input",
    "start": "313620",
    "end": "316259"
  },
  {
    "text": "output device is the Tia the riot your",
    "start": "316259",
    "end": "318900"
  },
  {
    "text": "keyboard your mouse will be doing a",
    "start": "318900",
    "end": "320100"
  },
  {
    "text": "computer or something they don't",
    "start": "320100",
    "end": "322020"
  },
  {
    "text": "necessarily memory locations but when",
    "start": "322020",
    "end": "324240"
  },
  {
    "text": "the CPU reads from there you can write",
    "start": "324240",
    "end": "326160"
  },
  {
    "text": "software that basically says if it is",
    "start": "326160",
    "end": "328199"
  },
  {
    "text": "this location",
    "start": "328199",
    "end": "329699"
  },
  {
    "text": "call this routine to process the value",
    "start": "329699",
    "end": "332039"
  },
  {
    "text": "that's being written or call this",
    "start": "332039",
    "end": "333419"
  },
  {
    "text": "routine to produce the value that's",
    "start": "333419",
    "end": "334860"
  },
  {
    "text": "being read",
    "start": "334860",
    "end": "335940"
  },
  {
    "text": "from that location",
    "start": "335940",
    "end": "337500"
  },
  {
    "text": "so the memory side of things",
    "start": "337500",
    "end": "339720"
  },
  {
    "text": "starts off looking straight forward the",
    "start": "339720",
    "end": "341699"
  },
  {
    "text": "other thing we then need to implement",
    "start": "341699",
    "end": "343979"
  },
  {
    "text": "is of course",
    "start": "343979",
    "end": "345780"
  },
  {
    "text": "our CPU and then that's normally in",
    "start": "345780",
    "end": "349259"
  },
  {
    "text": "Hardware would talk to the memory via a",
    "start": "349259",
    "end": "352080"
  },
  {
    "text": "databus and an address bus so the",
    "start": "352080",
    "end": "355560"
  },
  {
    "text": "address bus will contain the address of",
    "start": "355560",
    "end": "357300"
  },
  {
    "text": "what it wanted to access and the data",
    "start": "357300",
    "end": "358919"
  },
  {
    "text": "will be funneled over the data bus as we",
    "start": "358919",
    "end": "361199"
  },
  {
    "text": "said we can emulate that",
    "start": "361199",
    "end": "363060"
  },
  {
    "text": "our emulation the CPU can produce an",
    "start": "363060",
    "end": "365400"
  },
  {
    "text": "address and then we can then fetch it or",
    "start": "365400",
    "end": "367560"
  },
  {
    "text": "store it based on the data that we want",
    "start": "367560",
    "end": "369180"
  },
  {
    "text": "to access",
    "start": "369180",
    "end": "370740"
  },
  {
    "text": "so the question is the real question is",
    "start": "370740",
    "end": "373440"
  },
  {
    "text": "how do we emulate the CPU",
    "start": "373440",
    "end": "375780"
  },
  {
    "text": "well to do that we need to understand",
    "start": "375780",
    "end": "377940"
  },
  {
    "text": "how the CPU works you need to understand",
    "start": "377940",
    "end": "379740"
  },
  {
    "text": "what registers it has what internal",
    "start": "379740",
    "end": "382259"
  },
  {
    "text": "values they have for we can store things",
    "start": "382259",
    "end": "383759"
  },
  {
    "text": "we need to know what it does when it",
    "start": "383759",
    "end": "385500"
  },
  {
    "text": "starts up we need to know what the",
    "start": "385500",
    "end": "387900"
  },
  {
    "text": "instructions are and the effect that",
    "start": "387900",
    "end": "389819"
  },
  {
    "text": "they have and then we can write a",
    "start": "389819",
    "end": "391560"
  },
  {
    "text": "program that does exactly the same thing",
    "start": "391560",
    "end": "394500"
  },
  {
    "text": "so let's have a think about the 6502 CPU",
    "start": "394500",
    "end": "397199"
  },
  {
    "text": "and the only reason we're using that is",
    "start": "397199",
    "end": "398699"
  },
  {
    "text": "because it's dead simple",
    "start": "398699",
    "end": "400340"
  },
  {
    "text": "that's based inside the 2600 or",
    "start": "400340",
    "end": "403440"
  },
  {
    "text": "something it's also inside the NES the",
    "start": "403440",
    "end": "406199"
  },
  {
    "text": "Nintendo Entertainment System",
    "start": "406199",
    "end": "408199"
  },
  {
    "text": "the snares use the later variation of it",
    "start": "408199",
    "end": "411240"
  },
  {
    "text": "the",
    "start": "411240",
    "end": "412100"
  },
  {
    "text": "658c16 I think it was",
    "start": "412100",
    "end": "414900"
  },
  {
    "text": "um and so on and the 6502 has been",
    "start": "414900",
    "end": "416580"
  },
  {
    "text": "around for donkeys years pet the",
    "start": "416580",
    "end": "419100"
  },
  {
    "text": "Commodore 64 the BBC micro or 6502 based",
    "start": "419100",
    "end": "422940"
  },
  {
    "text": "if I remember correctly or variance of",
    "start": "422940",
    "end": "426000"
  },
  {
    "text": "it should we say and things so the 6502",
    "start": "426000",
    "end": "429180"
  },
  {
    "text": "based CPUs are dead simple we've got",
    "start": "429180",
    "end": "431819"
  },
  {
    "text": "three registers a X and Y and they all",
    "start": "431819",
    "end": "435660"
  },
  {
    "text": "store eight bits so we've got an 8-bit",
    "start": "435660",
    "end": "438900"
  },
  {
    "text": "for that I've got eight bits for that",
    "start": "438900",
    "end": "440880"
  },
  {
    "text": "and we've got eight bits for that we",
    "start": "440880",
    "end": "442620"
  },
  {
    "text": "also have a stack pointer which we will",
    "start": "442620",
    "end": "444539"
  },
  {
    "text": "call S which is also eight bits long",
    "start": "444539",
    "end": "448139"
  },
  {
    "text": "but the 6502 does something Slightly",
    "start": "448139",
    "end": "450660"
  },
  {
    "text": "bizarre in that it always prepends a one",
    "start": "450660",
    "end": "453720"
  },
  {
    "text": "to it so your address is all four",
    "start": "453720",
    "end": "455580"
  },
  {
    "text": "between one zero zero and one FF in",
    "start": "455580",
    "end": "458280"
  },
  {
    "text": "hexadecimal in memory which Maps quite",
    "start": "458280",
    "end": "461280"
  },
  {
    "text": "nicely to our display here because our",
    "start": "461280",
    "end": "466979"
  },
  {
    "text": "Ram starts from FF down to 7f but the",
    "start": "466979",
    "end": "470280"
  },
  {
    "text": "way it's implemented is it also appears",
    "start": "470280",
    "end": "472280"
  },
  {
    "text": "at 100 to 1 FF so you can use the Rambo",
    "start": "472280",
    "end": "476940"
  },
  {
    "text": "for just general purpose things and also",
    "start": "476940",
    "end": "478919"
  },
  {
    "text": "for the stack which you need for the CPU",
    "start": "478919",
    "end": "480840"
  },
  {
    "text": "to work properly things like calling a",
    "start": "480840",
    "end": "483180"
  },
  {
    "text": "subroutine will only work with the cpu's",
    "start": "483180",
    "end": "485280"
  },
  {
    "text": "got a stack for that to store the return",
    "start": "485280",
    "end": "488160"
  },
  {
    "text": "address in and things it's the way the",
    "start": "488160",
    "end": "491099"
  },
  {
    "text": "CPU works when you call a procedure",
    "start": "491099",
    "end": "492539"
  },
  {
    "text": "effectively it needs to store where to",
    "start": "492539",
    "end": "493919"
  },
  {
    "text": "go back to and it does that by putting",
    "start": "493919",
    "end": "495240"
  },
  {
    "text": "it on the stack so that you can then",
    "start": "495240",
    "end": "496620"
  },
  {
    "text": "pull it off when it's finished again",
    "start": "496620",
    "end": "499500"
  },
  {
    "text": "starting to get slightly complicated",
    "start": "499500",
    "end": "501240"
  },
  {
    "text": "because we thought these things only",
    "start": "501240",
    "end": "502680"
  },
  {
    "text": "appeared here",
    "start": "502680",
    "end": "503879"
  },
  {
    "text": "but actually they now appear at the same",
    "start": "503879",
    "end": "506099"
  },
  {
    "text": "thing so there's two addresses that can",
    "start": "506099",
    "end": "507599"
  },
  {
    "text": "access the same thing so we need to",
    "start": "507599",
    "end": "509460"
  },
  {
    "text": "write our software that emulates the",
    "start": "509460",
    "end": "511319"
  },
  {
    "text": "memory to cope with both set of",
    "start": "511319",
    "end": "513180"
  },
  {
    "text": "addresses and get the same thing because",
    "start": "513180",
    "end": "514500"
  },
  {
    "text": "if you access them either value you get",
    "start": "514500",
    "end": "516539"
  },
  {
    "text": "the same result",
    "start": "516539",
    "end": "517800"
  },
  {
    "text": "starts to get slightly more complicated",
    "start": "517800",
    "end": "519419"
  },
  {
    "text": "still not that complicated yet we'll",
    "start": "519419",
    "end": "521760"
  },
  {
    "text": "come to that",
    "start": "521760",
    "end": "523320"
  },
  {
    "text": "so we've got our axy we've got our stack",
    "start": "523320",
    "end": "526500"
  },
  {
    "text": "pointer which is one and then the value",
    "start": "526500",
    "end": "528480"
  },
  {
    "text": "in there",
    "start": "528480",
    "end": "529560"
  },
  {
    "text": "we have a program counter",
    "start": "529560",
    "end": "532140"
  },
  {
    "text": "and this is 16 bits long",
    "start": "532140",
    "end": "535200"
  },
  {
    "text": "I'm here and that stores the address of",
    "start": "535200",
    "end": "538140"
  },
  {
    "text": "the next instruction we're going to",
    "start": "538140",
    "end": "539339"
  },
  {
    "text": "execute the CPU works by fetching an",
    "start": "539339",
    "end": "541440"
  },
  {
    "text": "instruction from memory executing it",
    "start": "541440",
    "end": "543660"
  },
  {
    "text": "then fixing the next one and it knows",
    "start": "543660",
    "end": "546060"
  },
  {
    "text": "where to get it from based on the",
    "start": "546060",
    "end": "547800"
  },
  {
    "text": "program counter here so that's a 16-bit",
    "start": "547800",
    "end": "550200"
  },
  {
    "text": "value and then finally we have a set of",
    "start": "550200",
    "end": "552660"
  },
  {
    "text": "processor Flags which are generally",
    "start": "552660",
    "end": "553980"
  },
  {
    "text": "referred to as p and which are eight",
    "start": "553980",
    "end": "556320"
  },
  {
    "text": "bits long",
    "start": "556320",
    "end": "558000"
  },
  {
    "text": "and depending on the instructions they",
    "start": "558000",
    "end": "559920"
  },
  {
    "text": "get set with specific values so we can",
    "start": "559920",
    "end": "562560"
  },
  {
    "text": "break these down for example we have a",
    "start": "562560",
    "end": "564120"
  },
  {
    "text": "flag n",
    "start": "564120",
    "end": "565320"
  },
  {
    "text": "which is set if the instruction produces",
    "start": "565320",
    "end": "567540"
  },
  {
    "text": "a negative result so if you say subtract",
    "start": "567540",
    "end": "569640"
  },
  {
    "text": "one number from another and it's",
    "start": "569640",
    "end": "571200"
  },
  {
    "text": "negative",
    "start": "571200",
    "end": "572100"
  },
  {
    "text": "that bit in the practice of flags will",
    "start": "572100",
    "end": "574200"
  },
  {
    "text": "get set to say that it's produced a",
    "start": "574200",
    "end": "575580"
  },
  {
    "text": "negative result there's another one",
    "start": "575580",
    "end": "577500"
  },
  {
    "text": "which is set if it produces a zero",
    "start": "577500",
    "end": "579899"
  },
  {
    "text": "result",
    "start": "579899",
    "end": "581459"
  },
  {
    "text": "um there's one that happens if there's a",
    "start": "581459",
    "end": "583200"
  },
  {
    "text": "overflow a carry I'm not writing these",
    "start": "583200",
    "end": "585779"
  },
  {
    "text": "in the right order because one tells if",
    "start": "585779",
    "end": "588180"
  },
  {
    "text": "there's interrupts enabled there's",
    "start": "588180",
    "end": "590339"
  },
  {
    "text": "another one that tells it if it's in",
    "start": "590339",
    "end": "591779"
  },
  {
    "text": "decimal mode which is a pain in the neck",
    "start": "591779",
    "end": "594420"
  },
  {
    "text": "to implement and then there's one that",
    "start": "594420",
    "end": "596640"
  },
  {
    "text": "tells it if the break has happened of",
    "start": "596640",
    "end": "598740"
  },
  {
    "text": "course you need to make sure if you're",
    "start": "598740",
    "end": "599940"
  },
  {
    "text": "implementing it that they were in the",
    "start": "599940",
    "end": "601500"
  },
  {
    "text": "right order so that's basically the",
    "start": "601500",
    "end": "604019"
  },
  {
    "text": "internal state of the 6502 CPU it is",
    "start": "604019",
    "end": "607200"
  },
  {
    "text": "relatively straightforward and we could",
    "start": "607200",
    "end": "609600"
  },
  {
    "text": "easily write a program to store this",
    "start": "609600",
    "end": "612180"
  },
  {
    "text": "state",
    "start": "612180",
    "end": "613019"
  },
  {
    "text": "we could have a variable called a which",
    "start": "613019",
    "end": "615839"
  },
  {
    "text": "stores the value in the a register we",
    "start": "615839",
    "end": "617459"
  },
  {
    "text": "could have a variable called what do you",
    "start": "617459",
    "end": "619200"
  },
  {
    "text": "think Sean uh well I would have called",
    "start": "619200",
    "end": "621300"
  },
  {
    "text": "it B but they called it y so is it Y no",
    "start": "621300",
    "end": "624060"
  },
  {
    "text": "it's X so yeah we'll have a variable",
    "start": "624060",
    "end": "625500"
  },
  {
    "text": "called X to store the x that is a",
    "start": "625500",
    "end": "627720"
  },
  {
    "text": "variable called y to store the Y",
    "start": "627720",
    "end": "629580"
  },
  {
    "text": "register the variable called s which",
    "start": "629580",
    "end": "631440"
  },
  {
    "text": "stores the stack pointer a variable",
    "start": "631440",
    "end": "633779"
  },
  {
    "text": "called PC which is 16 bits long which",
    "start": "633779",
    "end": "636000"
  },
  {
    "text": "stores the program counter and a",
    "start": "636000",
    "end": "637800"
  },
  {
    "text": "variable called P which can store the",
    "start": "637800",
    "end": "639420"
  },
  {
    "text": "processor Flags so again relatively",
    "start": "639420",
    "end": "641760"
  },
  {
    "text": "straightforward we can create these just",
    "start": "641760",
    "end": "643800"
  },
  {
    "text": "use normal variables to implement them",
    "start": "643800",
    "end": "646740"
  },
  {
    "text": "then we need to think about what does",
    "start": "646740",
    "end": "648779"
  },
  {
    "text": "the CPU do when it starts up with a 6502",
    "start": "648779",
    "end": "652279"
  },
  {
    "text": "what it says happens is no idea what's",
    "start": "652279",
    "end": "656279"
  },
  {
    "text": "going to be in the registers except it",
    "start": "656279",
    "end": "659040"
  },
  {
    "text": "will go and fetch into the program",
    "start": "659040",
    "end": "660540"
  },
  {
    "text": "counter from memory locations",
    "start": "660540",
    "end": "663920"
  },
  {
    "text": "fffc and fffd so it'll fetch those two",
    "start": "663920",
    "end": "667920"
  },
  {
    "text": "bytes and put them in the program",
    "start": "667920",
    "end": "669420"
  },
  {
    "text": "counter as the first address it's going",
    "start": "669420",
    "end": "671880"
  },
  {
    "text": "to access which is why our ROM",
    "start": "671880",
    "end": "673920"
  },
  {
    "text": "cartridges are mapped in at the very top",
    "start": "673920",
    "end": "676079"
  },
  {
    "text": "of memory because then those addresses",
    "start": "676079",
    "end": "678300"
  },
  {
    "text": "are in the ROM and the ROM can specify",
    "start": "678300",
    "end": "680700"
  },
  {
    "text": "where it wants to start its program in",
    "start": "680700",
    "end": "683459"
  },
  {
    "text": "there in the games console and so when",
    "start": "683459",
    "end": "686160"
  },
  {
    "text": "we write our program the first thing",
    "start": "686160",
    "end": "687899"
  },
  {
    "text": "that we'd want to do is to set the",
    "start": "687899",
    "end": "690120"
  },
  {
    "text": "program counter to equal the location in",
    "start": "690120",
    "end": "692880"
  },
  {
    "text": "memory",
    "start": "692880",
    "end": "694500"
  },
  {
    "text": "at address",
    "start": "694500",
    "end": "696360"
  },
  {
    "text": "0xffc",
    "start": "696360",
    "end": "699360"
  },
  {
    "text": "oops I missed an F in there",
    "start": "700560",
    "end": "702959"
  },
  {
    "text": "and then we just need to do some bit",
    "start": "702959",
    "end": "705000"
  },
  {
    "text": "shifting",
    "start": "705000",
    "end": "707100"
  },
  {
    "text": "to get the location at zero xff",
    "start": "707100",
    "end": "711540"
  },
  {
    "text": "D it's a little engine CPU hate Little",
    "start": "711540",
    "end": "714779"
  },
  {
    "text": "Engine CPUs big ending is the way to go",
    "start": "714779",
    "end": "716820"
  },
  {
    "text": "I'm a Motorola fan and we'll shift it",
    "start": "716820",
    "end": "719459"
  },
  {
    "text": "left eight bits to get it into the right",
    "start": "719459",
    "end": "721740"
  },
  {
    "text": "place so we fetched the address of the",
    "start": "721740",
    "end": "724620"
  },
  {
    "text": "first instruction we are emulating what",
    "start": "724620",
    "end": "726720"
  },
  {
    "text": "the CPU do the hardware that implements",
    "start": "726720",
    "end": "729300"
  },
  {
    "text": "it here when it comes out of reset when",
    "start": "729300",
    "end": "731760"
  },
  {
    "text": "it starts we'll take the address that's",
    "start": "731760",
    "end": "733980"
  },
  {
    "text": "in memory which will be in the ROM",
    "start": "733980",
    "end": "735720"
  },
  {
    "text": "cartridge on this system or the",
    "start": "735720",
    "end": "737760"
  },
  {
    "text": "different computer system will be in a",
    "start": "737760",
    "end": "739140"
  },
  {
    "text": "different place gets the address there",
    "start": "739140",
    "end": "740940"
  },
  {
    "text": "puts into the program counter and then",
    "start": "740940",
    "end": "743220"
  },
  {
    "text": "goes and fetches the first instruction",
    "start": "743220",
    "end": "745680"
  },
  {
    "text": "so what our program would need to do and",
    "start": "745680",
    "end": "748200"
  },
  {
    "text": "we'll write this in pseudo code is fetch",
    "start": "748200",
    "end": "751200"
  },
  {
    "text": "instruction at PC so we fetch the byte",
    "start": "751200",
    "end": "756000"
  },
  {
    "text": "that's there on the 6502 the",
    "start": "756000",
    "end": "757860"
  },
  {
    "text": "instructions are by long on different",
    "start": "757860",
    "end": "759000"
  },
  {
    "text": "CPUs there are different widths if",
    "start": "759000",
    "end": "760740"
  },
  {
    "text": "you're trying to emulate the x86 CPU uh",
    "start": "760740",
    "end": "763740"
  },
  {
    "text": "good luck to you they're an absolute",
    "start": "763740",
    "end": "765420"
  },
  {
    "text": "nightmare they can be anything from 1 to",
    "start": "765420",
    "end": "766920"
  },
  {
    "text": "15 bytes long pain in the neck to",
    "start": "766920",
    "end": "769320"
  },
  {
    "text": "emulate so we can fetch the instruction",
    "start": "769320",
    "end": "770940"
  },
  {
    "text": "there and that gives us what's called",
    "start": "770940",
    "end": "773040"
  },
  {
    "text": "the op code we then increment the",
    "start": "773040",
    "end": "775560"
  },
  {
    "text": "program counter so it's pointing at the",
    "start": "775560",
    "end": "777959"
  },
  {
    "text": "next instruction we then need to emulate",
    "start": "777959",
    "end": "781079"
  },
  {
    "text": "that particular instruction and the way",
    "start": "781079",
    "end": "782820"
  },
  {
    "text": "we can do that is look at the op code",
    "start": "782820",
    "end": "785300"
  },
  {
    "text": "and then if the opcode has value 0 we'll",
    "start": "785300",
    "end": "789120"
  },
  {
    "text": "do one instruction if it has its value",
    "start": "789120",
    "end": "791519"
  },
  {
    "text": "one we'd do a different instruction it",
    "start": "791519",
    "end": "793800"
  },
  {
    "text": "has value two we'll do another",
    "start": "793800",
    "end": "795480"
  },
  {
    "text": "instruction so we could use something",
    "start": "795480",
    "end": "796740"
  },
  {
    "text": "like a switch statement and just say",
    "start": "796740",
    "end": "798779"
  },
  {
    "text": "switch zero do this which one do that",
    "start": "798779",
    "end": "800940"
  },
  {
    "text": "switch to do this to have the same",
    "start": "800940",
    "end": "803579"
  },
  {
    "text": "effect as the CPU would have when that",
    "start": "803579",
    "end": "806760"
  },
  {
    "text": "instruction is executed so let's have a",
    "start": "806760",
    "end": "809160"
  },
  {
    "text": "look at a very simple instruction this",
    "start": "809160",
    "end": "811139"
  },
  {
    "text": "one has the value A9",
    "start": "811139",
    "end": "813779"
  },
  {
    "text": "which if you were to look at up in the",
    "start": "813779",
    "end": "816060"
  },
  {
    "text": "instruction is the load a register",
    "start": "816060",
    "end": "819480"
  },
  {
    "text": "with an immediate value which just means",
    "start": "819480",
    "end": "821399"
  },
  {
    "text": "it follows it in memory",
    "start": "821399",
    "end": "824100"
  },
  {
    "text": "so if we saw the value of A9",
    "start": "824100",
    "end": "827100"
  },
  {
    "text": "we would then write some code that would",
    "start": "827100",
    "end": "829320"
  },
  {
    "text": "read the next value from memory",
    "start": "829320",
    "end": "831420"
  },
  {
    "text": "which we've already incremented the",
    "start": "831420",
    "end": "832860"
  },
  {
    "text": "program counter to point to so we'd read",
    "start": "832860",
    "end": "835320"
  },
  {
    "text": "that and then we would take it and write",
    "start": "835320",
    "end": "838560"
  },
  {
    "text": "it into our variable a one other thing",
    "start": "838560",
    "end": "841440"
  },
  {
    "text": "we need to do is we have these flags",
    "start": "841440",
    "end": "843959"
  },
  {
    "text": "that we need to set based on the value",
    "start": "843959",
    "end": "846560"
  },
  {
    "text": "of the variable a",
    "start": "846560",
    "end": "849240"
  },
  {
    "text": "so for example if this is 65",
    "start": "849240",
    "end": "852300"
  },
  {
    "text": "it's not negative so we'd set that to be",
    "start": "852300",
    "end": "854940"
  },
  {
    "text": "false it's not zero so we'd set that to",
    "start": "854940",
    "end": "857820"
  },
  {
    "text": "be false and because of the way that LDA",
    "start": "857820",
    "end": "860040"
  },
  {
    "text": "is specified in the documentation for",
    "start": "860040",
    "end": "862200"
  },
  {
    "text": "the 6 over 2 we don't change any of the",
    "start": "862200",
    "end": "864300"
  },
  {
    "text": "other flags in the flags register and",
    "start": "864300",
    "end": "867000"
  },
  {
    "text": "the status register so what we'd have to",
    "start": "867000",
    "end": "868740"
  },
  {
    "text": "do for every instruction is write a",
    "start": "868740",
    "end": "870839"
  },
  {
    "text": "piece of code that would do the same",
    "start": "870839",
    "end": "872940"
  },
  {
    "text": "thing for a x y s p c and P that the CPU",
    "start": "872940",
    "end": "876540"
  },
  {
    "text": "would do and as long as it has the same",
    "start": "876540",
    "end": "878399"
  },
  {
    "text": "effect when we then execute the next",
    "start": "878399",
    "end": "880320"
  },
  {
    "text": "instruction because the state's been",
    "start": "880320",
    "end": "882600"
  },
  {
    "text": "updated to have the same thing that the",
    "start": "882600",
    "end": "884699"
  },
  {
    "text": "hardware would have that instruction",
    "start": "884699",
    "end": "886680"
  },
  {
    "text": "will have the same effect now you might",
    "start": "886680",
    "end": "889380"
  },
  {
    "text": "think there's 256 values in a byte that",
    "start": "889380",
    "end": "891779"
  },
  {
    "text": "means I'm going to implement 256",
    "start": "891779",
    "end": "893220"
  },
  {
    "text": "routines",
    "start": "893220",
    "end": "894480"
  },
  {
    "text": "actually it's not quite as bad as that",
    "start": "894480",
    "end": "897120"
  },
  {
    "text": "because a lot of the",
    "start": "897120",
    "end": "899459"
  },
  {
    "text": "um instructions are similar so for",
    "start": "899459",
    "end": "902519"
  },
  {
    "text": "example the one we've got here the A9",
    "start": "902519",
    "end": "904740"
  },
  {
    "text": "routine we can actually break down",
    "start": "904740",
    "end": "907320"
  },
  {
    "text": "to a set of bits the end one zero",
    "start": "907320",
    "end": "911699"
  },
  {
    "text": "and then you have three bits we'll call",
    "start": "911699",
    "end": "915180"
  },
  {
    "text": "them B",
    "start": "915180",
    "end": "916620"
  },
  {
    "text": "here which specify how the addressing",
    "start": "916620",
    "end": "919199"
  },
  {
    "text": "mode works and we'll have three bits a",
    "start": "919199",
    "end": "921899"
  },
  {
    "text": "here that specify what the instruction",
    "start": "921899",
    "end": "925079"
  },
  {
    "text": "is so these three bits will tell you how",
    "start": "925079",
    "end": "927600"
  },
  {
    "text": "to fetch the value from memory is it an",
    "start": "927600",
    "end": "930120"
  },
  {
    "text": "immediate value do you read it from",
    "start": "930120",
    "end": "931620"
  },
  {
    "text": "another memory location and these will",
    "start": "931620",
    "end": "933720"
  },
  {
    "text": "tell you what do you do with that value",
    "start": "933720",
    "end": "935040"
  },
  {
    "text": "so it might be in this case LDA which",
    "start": "935040",
    "end": "937920"
  },
  {
    "text": "means we load the accumulator the a",
    "start": "937920",
    "end": "940019"
  },
  {
    "text": "register with it it might be that we add",
    "start": "940019",
    "end": "942300"
  },
  {
    "text": "the value on to the a register or we",
    "start": "942300",
    "end": "944459"
  },
  {
    "text": "subtract the value or so on so actually",
    "start": "944459",
    "end": "946639"
  },
  {
    "text": "you can split this down and say well I",
    "start": "946639",
    "end": "949560"
  },
  {
    "text": "need to write eight different routines",
    "start": "949560",
    "end": "950940"
  },
  {
    "text": "to do the actual operation and eight",
    "start": "950940",
    "end": "953160"
  },
  {
    "text": "routines that fetch the value for memory",
    "start": "953160",
    "end": "956220"
  },
  {
    "text": "and then 30 years only 16 routines you",
    "start": "956220",
    "end": "958440"
  },
  {
    "text": "have to write not what looks like it",
    "start": "958440",
    "end": "960480"
  },
  {
    "text": "might be 64. so it's not quite as bad as",
    "start": "960480",
    "end": "963839"
  },
  {
    "text": "it seems and some of the other ones will",
    "start": "963839",
    "end": "965579"
  },
  {
    "text": "have similar effects as you do that",
    "start": "965579",
    "end": "969899"
  },
  {
    "text": "so it starts to look like writing it",
    "start": "969899",
    "end": "972720"
  },
  {
    "text": "wouldn't be too hard",
    "start": "972720",
    "end": "975300"
  },
  {
    "text": "but we've only considered the CPU and",
    "start": "975300",
    "end": "977639"
  },
  {
    "text": "what x it's executing remember we said",
    "start": "977639",
    "end": "980279"
  },
  {
    "text": "that the CPU is actually talking",
    "start": "980279",
    "end": "983100"
  },
  {
    "text": "to the other chips on the system so it's",
    "start": "983100",
    "end": "986459"
  },
  {
    "text": "talking to the right chip and it's",
    "start": "986459",
    "end": "988500"
  },
  {
    "text": "talking to the television interface",
    "start": "988500",
    "end": "990060"
  },
  {
    "text": "adapter to cause things to appear on the",
    "start": "990060",
    "end": "993600"
  },
  {
    "text": "screen to access the joysticks and so on",
    "start": "993600",
    "end": "996420"
  },
  {
    "text": "to know what you're doing uh as you're",
    "start": "996420",
    "end": "998519"
  },
  {
    "text": "playing the game and this is where",
    "start": "998519",
    "end": "1000019"
  },
  {
    "text": "things become more complicated because",
    "start": "1000019",
    "end": "1002079"
  },
  {
    "text": "each of the instructions takes a certain",
    "start": "1002079",
    "end": "1005180"
  },
  {
    "text": "amount of time to execute",
    "start": "1005180",
    "end": "1008240"
  },
  {
    "text": "and the hardware is doing things it",
    "start": "1008240",
    "end": "1010880"
  },
  {
    "text": "takes a certain amount of time to",
    "start": "1010880",
    "end": "1012199"
  },
  {
    "text": "execute if you go back and watch the",
    "start": "1012199",
    "end": "1014060"
  },
  {
    "text": "video where I looked at how you wrote",
    "start": "1014060",
    "end": "1015259"
  },
  {
    "text": "software for 2600 one of the things you",
    "start": "1015259",
    "end": "1017959"
  },
  {
    "text": "had to do was change the registers in",
    "start": "1017959",
    "end": "1019759"
  },
  {
    "text": "the television interface adapter at",
    "start": "1019759",
    "end": "1021620"
  },
  {
    "text": "exactly the right Point as it was",
    "start": "1021620",
    "end": "1023120"
  },
  {
    "text": "traveling across the television screen",
    "start": "1023120",
    "end": "1024740"
  },
  {
    "text": "to change color to set things up to",
    "start": "1024740",
    "end": "1027079"
  },
  {
    "text": "appear on the right point in the right",
    "start": "1027079",
    "end": "1028640"
  },
  {
    "text": "line if you",
    "start": "1028640",
    "end": "1030079"
  },
  {
    "text": "mean right it'll be at a different point",
    "start": "1030079",
    "end": "1032480"
  },
  {
    "text": "to where the television interface",
    "start": "1032480",
    "end": "1034459"
  },
  {
    "text": "adapter is and so it'll have a different",
    "start": "1034459",
    "end": "1036140"
  },
  {
    "text": "effect of what appears on screen it",
    "start": "1036140",
    "end": "1038240"
  },
  {
    "text": "might execute the right code but what",
    "start": "1038240",
    "end": "1040220"
  },
  {
    "text": "appears on screen wouldn't be what you'd",
    "start": "1040220",
    "end": "1043339"
  },
  {
    "text": "expect it to be so you actually have to",
    "start": "1043339",
    "end": "1045079"
  },
  {
    "text": "write the code here and the code that",
    "start": "1045079",
    "end": "1047720"
  },
  {
    "text": "emulates the television interface",
    "start": "1047720",
    "end": "1048980"
  },
  {
    "text": "adapter or any other Hardware in your",
    "start": "1048980",
    "end": "1051260"
  },
  {
    "text": "system so that you get them working at",
    "start": "1051260",
    "end": "1054679"
  },
  {
    "text": "the same speed that they're in lockstep",
    "start": "1054679",
    "end": "1057020"
  },
  {
    "text": "if you want to get exactly the same",
    "start": "1057020",
    "end": "1059059"
  },
  {
    "text": "effect now for something like a games",
    "start": "1059059",
    "end": "1060919"
  },
  {
    "text": "console that's really important so that",
    "start": "1060919",
    "end": "1063320"
  },
  {
    "text": "the games work fine if you're just",
    "start": "1063320",
    "end": "1065240"
  },
  {
    "text": "wanting to run a program",
    "start": "1065240",
    "end": "1067460"
  },
  {
    "text": "um say something like a word processor",
    "start": "1067460",
    "end": "1069080"
  },
  {
    "text": "it's probably less important you could",
    "start": "1069080",
    "end": "1071120"
  },
  {
    "text": "probably write an emulator for say a BBC",
    "start": "1071120",
    "end": "1073039"
  },
  {
    "text": "micro that could run a word processor",
    "start": "1073039",
    "end": "1075320"
  },
  {
    "text": "run basic without worrying about that",
    "start": "1075320",
    "end": "1078080"
  },
  {
    "text": "you could provide the data when you got",
    "start": "1078080",
    "end": "1080299"
  },
  {
    "text": "to it which key's been pressed for",
    "start": "1080299",
    "end": "1081860"
  },
  {
    "text": "example you could output the data onto",
    "start": "1081860",
    "end": "1083900"
  },
  {
    "text": "the screen and display it and it would",
    "start": "1083900",
    "end": "1085460"
  },
  {
    "text": "work fine for something like that",
    "start": "1085460",
    "end": "1086780"
  },
  {
    "text": "because it's not so tightly coupled",
    "start": "1086780",
    "end": "1088340"
  },
  {
    "text": "between the timing of things but when",
    "start": "1088340",
    "end": "1089960"
  },
  {
    "text": "you you go to things like gaming",
    "start": "1089960",
    "end": "1092200"
  },
  {
    "text": "and sort of you talking to other bits of",
    "start": "1092200",
    "end": "1094460"
  },
  {
    "text": "hardware and so on then you really have",
    "start": "1094460",
    "end": "1096500"
  },
  {
    "text": "to make sure that the timing is",
    "start": "1096500",
    "end": "1098840"
  },
  {
    "text": "absolutely right and that's where things",
    "start": "1098840",
    "end": "1100820"
  },
  {
    "text": "get interesting because something like",
    "start": "1100820",
    "end": "1103039"
  },
  {
    "text": "the 6502 is relatively straightforward",
    "start": "1103039",
    "end": "1104960"
  },
  {
    "text": "in terms of targeting if you look at",
    "start": "1104960",
    "end": "1106940"
  },
  {
    "text": "something like the 68000 which was used",
    "start": "1106940",
    "end": "1108799"
  },
  {
    "text": "in the Amiga or the Atari St or the Sega",
    "start": "1108799",
    "end": "1110900"
  },
  {
    "text": "Game savior Mega Drive saber Genesis and",
    "start": "1110900",
    "end": "1114500"
  },
  {
    "text": "things",
    "start": "1114500",
    "end": "1115460"
  },
  {
    "text": "you find that the length of time and",
    "start": "1115460",
    "end": "1117919"
  },
  {
    "text": "instruction takes Can Depend depending",
    "start": "1117919",
    "end": "1120799"
  },
  {
    "text": "on the way the hardware is built on the",
    "start": "1120799",
    "end": "1122480"
  },
  {
    "text": "instructions next to it the way the",
    "start": "1122480",
    "end": "1124880"
  },
  {
    "text": "hardware is implemented means that some",
    "start": "1124880",
    "end": "1126200"
  },
  {
    "text": "instructions may take longer at certain",
    "start": "1126200",
    "end": "1128240"
  },
  {
    "text": "times than others on the Amiga for",
    "start": "1128240",
    "end": "1130760"
  },
  {
    "text": "example if the CPU could be stalled",
    "start": "1130760",
    "end": "1133940"
  },
  {
    "text": "while the graphics Hardware fetch values",
    "start": "1133940",
    "end": "1135919"
  },
  {
    "text": "in certain cases and so on and so you",
    "start": "1135919",
    "end": "1139039"
  },
  {
    "text": "had to really make sure that",
    "start": "1139039",
    "end": "1140120"
  },
  {
    "text": "everything's balanced what this means is",
    "start": "1140120",
    "end": "1141799"
  },
  {
    "text": "even though you're emulating a CPU which",
    "start": "1141799",
    "end": "1143240"
  },
  {
    "text": "is about one megahertz or something like",
    "start": "1143240",
    "end": "1144740"
  },
  {
    "text": "this eight megahertz on an Atari St or",
    "start": "1144740",
    "end": "1146720"
  },
  {
    "text": "Amiga say",
    "start": "1146720",
    "end": "1148220"
  },
  {
    "text": "is relatively low spec the actual CPU",
    "start": "1148220",
    "end": "1151039"
  },
  {
    "text": "power you need in the computer that's",
    "start": "1151039",
    "end": "1152299"
  },
  {
    "text": "running the emulator can be considerably",
    "start": "1152299",
    "end": "1154580"
  },
  {
    "text": "higher because you have to make sure",
    "start": "1154580",
    "end": "1156440"
  },
  {
    "text": "each of these things are happening in",
    "start": "1156440",
    "end": "1158660"
  },
  {
    "text": "the right amount of time so they appear",
    "start": "1158660",
    "end": "1160400"
  },
  {
    "text": "on screen at the right amount of time",
    "start": "1160400",
    "end": "1161840"
  },
  {
    "text": "and everything's happening and it can",
    "start": "1161840",
    "end": "1163520"
  },
  {
    "text": "get a lot more complicated very quickly",
    "start": "1163520",
    "end": "1165260"
  },
  {
    "text": "as we said you can create a very simple",
    "start": "1165260",
    "end": "1167299"
  },
  {
    "text": "emulator it's a relatively",
    "start": "1167299",
    "end": "1168860"
  },
  {
    "text": "straightforwardly all you have to do is",
    "start": "1168860",
    "end": "1170539"
  },
  {
    "text": "make sure the right values end up in the",
    "start": "1170539",
    "end": "1172520"
  },
  {
    "text": "registers and in memory at the right",
    "start": "1172520",
    "end": "1173840"
  },
  {
    "text": "time",
    "start": "1173840",
    "end": "1174620"
  },
  {
    "text": "but to actually emulate a more",
    "start": "1174620",
    "end": "1176840"
  },
  {
    "text": "complicated system",
    "start": "1176840",
    "end": "1178220"
  },
  {
    "text": "it gets quite complicated quite quickly",
    "start": "1178220",
    "end": "1181039"
  },
  {
    "text": "and often these things aren't documented",
    "start": "1181039",
    "end": "1183080"
  },
  {
    "text": "so often you will have to sort of write",
    "start": "1183080",
    "end": "1185360"
  },
  {
    "text": "tests that run on the real Hardware",
    "start": "1185360",
    "end": "1186799"
  },
  {
    "text": "assume you can get access to it that",
    "start": "1186799",
    "end": "1190580"
  },
  {
    "text": "test and find out how things actually",
    "start": "1190580",
    "end": "1192500"
  },
  {
    "text": "work out in practice because sometimes",
    "start": "1192500",
    "end": "1195260"
  },
  {
    "text": "the documentation is wrong sometimes the",
    "start": "1195260",
    "end": "1196880"
  },
  {
    "text": "designers of games and things have push",
    "start": "1196880",
    "end": "1198440"
  },
  {
    "text": "this so far that they're beyond what the",
    "start": "1198440",
    "end": "1201140"
  },
  {
    "text": "actual Hardware designers expected",
    "start": "1201140",
    "end": "1203900"
  },
  {
    "text": "things to do so some of the things you",
    "start": "1203900",
    "end": "1206539"
  },
  {
    "text": "end up trying to emulate",
    "start": "1206539",
    "end": "1208280"
  },
  {
    "text": "are specified the CPU and things but",
    "start": "1208280",
    "end": "1210440"
  },
  {
    "text": "actually the way that interacts with the",
    "start": "1210440",
    "end": "1211880"
  },
  {
    "text": "other bits of Hardware some of it's",
    "start": "1211880",
    "end": "1213799"
  },
  {
    "text": "documented and some of it is just sort",
    "start": "1213799",
    "end": "1215840"
  },
  {
    "text": "of a byproduct of the way things have",
    "start": "1215840",
    "end": "1217280"
  },
  {
    "text": "been built and to make sure the software",
    "start": "1217280",
    "end": "1219620"
  },
  {
    "text": "has exactly the same effect in the",
    "start": "1219620",
    "end": "1221360"
  },
  {
    "text": "emulator as it would on the real",
    "start": "1221360",
    "end": "1222380"
  },
  {
    "text": "Hardware you need to make sure that",
    "start": "1222380",
    "end": "1224660"
  },
  {
    "text": "that's those same side effects happen",
    "start": "1224660",
    "end": "1226640"
  },
  {
    "text": "often at the same point in time",
    "start": "1226640",
    "end": "1230179"
  },
  {
    "text": "and that's how writing an emulator",
    "start": "1230179",
    "end": "1231980"
  },
  {
    "text": "becomes more and more complicated you",
    "start": "1231980",
    "end": "1234799"
  },
  {
    "text": "have to do tests to find out how the",
    "start": "1234799",
    "end": "1236900"
  },
  {
    "text": "hardware actually works in practice",
    "start": "1236900",
    "end": "1238220"
  },
  {
    "text": "rather than just the way it looks like",
    "start": "1238220",
    "end": "1239780"
  },
  {
    "text": "it should work and you need to keep all",
    "start": "1239780",
    "end": "1241760"
  },
  {
    "text": "the different parts of the hardware",
    "start": "1241760",
    "end": "1242720"
  },
  {
    "text": "synchronized not necessarily in terms of",
    "start": "1242720",
    "end": "1245179"
  },
  {
    "text": "real time but certainly in terms of in",
    "start": "1245179",
    "end": "1248000"
  },
  {
    "text": "relation to each other so if the real",
    "start": "1248000",
    "end": "1250280"
  },
  {
    "text": "Hardware takes this long to display a",
    "start": "1250280",
    "end": "1252500"
  },
  {
    "text": "line of graphics on screen and the CPU",
    "start": "1252500",
    "end": "1254900"
  },
  {
    "text": "executes that many instructions in that",
    "start": "1254900",
    "end": "1257240"
  },
  {
    "text": "same amount of time then your emulator",
    "start": "1257240",
    "end": "1259460"
  },
  {
    "text": "needs to emulate that number of",
    "start": "1259460",
    "end": "1261260"
  },
  {
    "text": "instructions in the same amount of time",
    "start": "1261260",
    "end": "1263000"
  },
  {
    "text": "it takes the graphics emulator emulation",
    "start": "1263000",
    "end": "1265100"
  },
  {
    "text": "to display those things and so you need",
    "start": "1265100",
    "end": "1267980"
  },
  {
    "text": "to keep track of how many cycles it's",
    "start": "1267980",
    "end": "1269539"
  },
  {
    "text": "often referred to each instruction takes",
    "start": "1269539",
    "end": "1271400"
  },
  {
    "text": "place with and then you can advance the",
    "start": "1271400",
    "end": "1274100"
  },
  {
    "text": "graphics by the same amount and so on as",
    "start": "1274100",
    "end": "1276080"
  },
  {
    "text": "you're going through even if you're",
    "start": "1276080",
    "end": "1277820"
  },
  {
    "text": "writing a simple emulator though there",
    "start": "1277820",
    "end": "1279620"
  },
  {
    "text": "are certain things you need to keep",
    "start": "1279620",
    "end": "1281419"
  },
  {
    "text": "track of for example on the Apple M1 Max",
    "start": "1281419",
    "end": "1284120"
  },
  {
    "text": "the Macos running on there can emulate",
    "start": "1284120",
    "end": "1286760"
  },
  {
    "text": "an x86 64 CPU very effectively and but",
    "start": "1286760",
    "end": "1290539"
  },
  {
    "text": "even there they've had to be careful",
    "start": "1290539",
    "end": "1292880"
  },
  {
    "text": "because the memory model of an armed CPU",
    "start": "1292880",
    "end": "1296120"
  },
  {
    "text": "is different from an x86 CPU what I mean",
    "start": "1296120",
    "end": "1299000"
  },
  {
    "text": "by that is x86 has certain",
    "start": "1299000",
    "end": "1302539"
  },
  {
    "text": "design decisions made which means that",
    "start": "1302539",
    "end": "1304700"
  },
  {
    "text": "in this case this will happen",
    "start": "1304700",
    "end": "1306799"
  },
  {
    "text": "particularly if you have multiple",
    "start": "1306799",
    "end": "1308000"
  },
  {
    "text": "threads running alongside each other",
    "start": "1308000",
    "end": "1309500"
  },
  {
    "text": "there's a strict ordering of when memory",
    "start": "1309500",
    "end": "1311960"
  },
  {
    "text": "will get written back which the arm CPU",
    "start": "1311960",
    "end": "1314840"
  },
  {
    "text": "doesn't Implement so if you're emulating",
    "start": "1314840",
    "end": "1316760"
  },
  {
    "text": "an x86 CPU on an armed CPU you have to",
    "start": "1316760",
    "end": "1320419"
  },
  {
    "text": "make sure that you also emulate that",
    "start": "1320419",
    "end": "1322400"
  },
  {
    "text": "memory ordering and things in there so",
    "start": "1322400",
    "end": "1324860"
  },
  {
    "text": "you can get something going relatively",
    "start": "1324860",
    "end": "1326600"
  },
  {
    "text": "quickly that emulates the CPU but to get",
    "start": "1326600",
    "end": "1328520"
  },
  {
    "text": "it totally accurate you often have to",
    "start": "1328520",
    "end": "1330260"
  },
  {
    "text": "really delve deeply into how the",
    "start": "1330260",
    "end": "1332299"
  },
  {
    "text": "hardware actually works and then",
    "start": "1332299",
    "end": "1334159"
  },
  {
    "text": "Implement that in your software",
    "start": "1334159",
    "end": "1337840"
  },
  {
    "text": "maybe it's going to work for 90 of the",
    "start": "1339380",
    "end": "1341600"
  },
  {
    "text": "internet or 80 for the internet",
    "start": "1341600",
    "end": "1343640"
  },
  {
    "text": "but it's going to die for the other 10",
    "start": "1343640",
    "end": "1345500"
  },
  {
    "text": "or 20 this is the ossification chance of",
    "start": "1345500",
    "end": "1348799"
  },
  {
    "text": "getting the train within three cycles",
    "start": "1348799",
    "end": "1350780"
  },
  {
    "text": "and then if you go any longer then it's",
    "start": "1350780",
    "end": "1353480"
  },
  {
    "text": "going to take you longer you know your",
    "start": "1353480",
    "end": "1357039"
  }
]