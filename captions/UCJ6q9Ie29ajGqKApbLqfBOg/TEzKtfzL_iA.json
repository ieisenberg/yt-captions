[
  {
    "text": "uh my I essentially just do Consulting I don't do any training they don't let me",
    "start": "359",
    "end": "5560"
  },
  {
    "text": "do any fun things okay um this came up we wrote an",
    "start": "5560",
    "end": "11960"
  },
  {
    "text": "article for digital Battlefield which is a column published by our president stum McLure um we wrote a white paper or more",
    "start": "11960",
    "end": "19400"
  },
  {
    "text": "like just a short article about terminal server and from there came this speech",
    "start": "19400",
    "end": "24760"
  },
  {
    "text": "so if we can get started okay yeah",
    "start": "24760",
    "end": "30840"
  },
  {
    "text": "okay so with terminal Services I'm",
    "start": "30840",
    "end": "36079"
  },
  {
    "text": "stand um last night joking around over some beers we were describing terminal server as the SSH of Unix now um it",
    "start": "37680",
    "end": "47480"
  },
  {
    "text": "gives you what SSH does to Unix allows you to act as if you were sitting right at the server and as we",
    "start": "47480",
    "end": "54480"
  },
  {
    "text": "know operates on ports 3389 and there's two separate modes which we'll go into there's application",
    "start": "54480",
    "end": "60879"
  },
  {
    "text": "server and remote Administration mode so we're going to talk about the",
    "start": "60879",
    "end": "66720"
  },
  {
    "text": "advantages of using terminal server why you should use it over some other third party products um some of the risks that can",
    "start": "66720",
    "end": "74240"
  },
  {
    "text": "be that you can run into of running terminal server and finally ways to mitigate those",
    "start": "74240",
    "end": "80880"
  },
  {
    "text": "risks okay so first we're going to get into a little bit of telling you about terminal server give you an overview of",
    "start": "81720",
    "end": "87799"
  },
  {
    "text": "it maybe a little comparing contra with Windows 2000 versus nt4 going to talk about how to identify",
    "start": "87799",
    "end": "94840"
  },
  {
    "text": "a terminal server and maybe ways to up UPC a little bit then we're going to come into some",
    "start": "94840",
    "end": "101119"
  },
  {
    "text": "hacking using terminal server and then finally securing terminal server now",
    "start": "101119",
    "end": "106479"
  },
  {
    "text": "bear with us a couple of the slides may be different than the ones in your book and I'll try to make note when that happens so then you guys can take some",
    "start": "106479",
    "end": "113040"
  },
  {
    "text": "notes down okay so this is a code from",
    "start": "113040",
    "end": "118360"
  },
  {
    "text": "Microsoft that terminal service component of the Microsoft Windows 2000 server operating system can deliver the",
    "start": "118360",
    "end": "126079"
  },
  {
    "text": "Windows 2000 desktop as well as the latest windows-based applications to virtually any desktop Computing device",
    "start": "126079",
    "end": "133080"
  },
  {
    "text": "including those that cannot run Windows so this is a pretty big pitch here and it's it's something that sounds like a",
    "start": "133080",
    "end": "139519"
  },
  {
    "text": "really great thing so let's go on but the downfall here is when a user",
    "start": "139519",
    "end": "144840"
  },
  {
    "text": "runs applications in the Windows 2000 terminal server all the application",
    "start": "144840",
    "end": "150160"
  },
  {
    "text": "execution takes place in the server I think that should be a little foreshadowing for things to",
    "start": "150160",
    "end": "156680"
  },
  {
    "text": "come okay um how many people out there actually use terminal server okay so",
    "start": "156959",
    "end": "162120"
  },
  {
    "text": "most of you already know it um we're just going to touch a little overview for those that aren't as familiar with",
    "start": "162120",
    "end": "167200"
  },
  {
    "text": "it U before we actually go into um exploiting it and then hardening it um",
    "start": "167200",
    "end": "172920"
  },
  {
    "text": "terminal server as you know is a thing client um it's actually integrated into the OS and Windows 2000 um it's an on",
    "start": "172920",
    "end": "181400"
  },
  {
    "text": "server Advanced server on uh back office it's on every one of them takes about two and a half Megs of memory to run and",
    "start": "181400",
    "end": "189000"
  },
  {
    "text": "it'll allow you to have remote access and administration to the desktop um so",
    "start": "189000",
    "end": "195000"
  },
  {
    "text": "it'll replace a lot of the tools that you may have had to use in the past to do that um it can also provide a",
    "start": "195000",
    "end": "200720"
  },
  {
    "text": "distributed application um solution so if you have developers working on one",
    "start": "200720",
    "end": "205920"
  },
  {
    "text": "platform and they all can't be in the same room or obviously share the same server um they can come in remotely and",
    "start": "205920",
    "end": "212239"
  },
  {
    "text": "work on um a product just like they were all working on the same host so",
    "start": "212239",
    "end": "217519"
  },
  {
    "text": "everything stored locally any updates that need to be made or updated there um and then of course in the management",
    "start": "217519",
    "end": "224720"
  },
  {
    "text": "mode it can provide a secure Remote Management solution um as kind of went over already",
    "start": "224720",
    "end": "232120"
  },
  {
    "text": "the uh distributive application replaces third party products um it centralizes",
    "start": "232120",
    "end": "237480"
  },
  {
    "text": "the collaboration and it's easy to administer if you use organizational units um and with your groups you have",
    "start": "237480",
    "end": "244959"
  },
  {
    "text": "to make sure you do it properly however otherwise you're going to introduce additional risks into the environment that wouldn't be there without um",
    "start": "244959",
    "end": "251760"
  },
  {
    "text": "terminal server actually functioning in the Remote Management",
    "start": "251760",
    "end": "257680"
  },
  {
    "text": "side we already mentioned that it's tightly integrated with the OS um if you actually run terminal server it it takes",
    "start": "257680",
    "end": "264040"
  },
  {
    "text": "up zero uh Megs on the drive space it just enables some registry keys um",
    "start": "264040",
    "end": "270199"
  },
  {
    "text": "you'll see that a little later on and if you actually just run the server listening takes up about two and a half",
    "start": "270199",
    "end": "276720"
  },
  {
    "text": "Megs of resources just why it's listening obviously when you connect to it and do things it takes up additional",
    "start": "276720",
    "end": "281960"
  },
  {
    "text": "resources but it's only those resources that would be taken up if you were local on the",
    "start": "281960",
    "end": "287960"
  },
  {
    "text": "console um the best thing one of the best things is it's going to replace a lot of third- party products so you",
    "start": "287960",
    "end": "293919"
  },
  {
    "text": "don't have to have PC anywhere on the on your your um Windows NT servers so that",
    "start": "293919",
    "end": "299199"
  },
  {
    "text": "you can administer them um on nt4 there was nt4 and then there was terminal",
    "start": "299199",
    "end": "304280"
  },
  {
    "text": "server addition there wasn't really just a Remote Management type of solution it was put there for a distributed",
    "start": "304280",
    "end": "311080"
  },
  {
    "text": "application um it also was free um all you have to do is enable it in the remote admin mode",
    "start": "311080",
    "end": "318000"
  },
  {
    "text": "you can have two concurrent connections um and you don't have to have a license other than the license for the operating",
    "start": "318000",
    "end": "324759"
  },
  {
    "text": "system um it is secure it can be secure um everything has weakness is and and",
    "start": "324759",
    "end": "330520"
  },
  {
    "text": "you know there could be an exploit come out tomorrow that allows everybody to have full route access um but that's not",
    "start": "330520",
    "end": "337039"
  },
  {
    "text": "something that anybody can foresee so that's a risk that everybody takes whenever you place anything on the",
    "start": "337039",
    "end": "342120"
  },
  {
    "text": "network um it is fully supported by Microsoft at this time um so if you run",
    "start": "342120",
    "end": "348160"
  },
  {
    "text": "into any problems and you have a license for the software you can obviously call and contact them um they can help talk",
    "start": "348160",
    "end": "354440"
  },
  {
    "text": "you through the problems you may be experiencing and of course the negligible performance performance",
    "start": "354440",
    "end": "360720"
  },
  {
    "text": "impact and this quote too says there's no impact on application compatibility in remote Administration mode um that's",
    "start": "360720",
    "end": "368840"
  },
  {
    "text": "true as far as the applications that run but there are a few bugs that I've come across for instance uh if for some",
    "start": "368840",
    "end": "374800"
  },
  {
    "text": "reason you use that host for our Outlook um if it's your your own box and you're running terminal server you can't do",
    "start": "374800",
    "end": "380120"
  },
  {
    "text": "offline storage unless you go through uh the installer install some special",
    "start": "380120",
    "end": "385280"
  },
  {
    "text": "values that you have to kind of customize um and also uh it really doesn't play with modems very well once",
    "start": "385280",
    "end": "391680"
  },
  {
    "text": "it's in the administration mode very you have a service that wants",
    "start": "391680",
    "end": "400039"
  },
  {
    "text": "to SC of the desktop like web done that doesn't REM it doesn't Okay I I know",
    "start": "400039",
    "end": "408400"
  },
  {
    "text": "there are some some problems they they claim that it is fully compatible local you know so your other applications",
    "start": "408400",
    "end": "414199"
  },
  {
    "text": "should run locally but there are there are definitely issues with that um as I pointed out in web TRS is another one",
    "start": "414199",
    "end": "422160"
  },
  {
    "text": "um there's three components to the Windows 2000 terminal server basically there's the server there's a transfer",
    "start": "422160",
    "end": "428440"
  },
  {
    "text": "protocol and then there's the client um the server can be run in two modes",
    "start": "428440",
    "end": "433599"
  },
  {
    "text": "either remote",
    "start": "433599",
    "end": "436759"
  },
  {
    "text": "Administration either remote Administration or distributed application um if you Haven it in distributive app mode and you have all",
    "start": "439280",
    "end": "445160"
  },
  {
    "text": "these security features in place the remote Administration Mode still functions um some of the restrictions",
    "start": "445160",
    "end": "450400"
  },
  {
    "text": "that you can put are put on the users not necessarily on the administrator so he's still going to have a privileges so",
    "start": "450400",
    "end": "455680"
  },
  {
    "text": "when we go through the Harding process you'll see where some of these things cross that line um the transfer protocol on",
    "start": "455680",
    "end": "462560"
  },
  {
    "text": "terminal server is rp5 um the old was rdp4 um it you know it's specific to",
    "start": "462560",
    "end": "470159"
  },
  {
    "text": "Windows um there was a slide earlier that said it virtually a quote from Microsoft was virtually any desktop um",
    "start": "470159",
    "end": "476479"
  },
  {
    "text": "regardless of operating system U well if you're going to run a Mac or you're going to run a Unix you're still going to have to get a Citrix metaframe plugin",
    "start": "476479",
    "end": "483400"
  },
  {
    "text": "um there are some Internet Explorer browsers out there but they don't support ActiveX controls on Unix and Mac",
    "start": "483400",
    "end": "489479"
  },
  {
    "text": "so even the new terminal server Advanced client is not going to help you out there um and speaking of client there's",
    "start": "489479",
    "end": "495479"
  },
  {
    "text": "there's a lot of clients out there there's the old Legacy clients from NT um there's the uh 32-bit and the 16bit",
    "start": "495479",
    "end": "503080"
  },
  {
    "text": "from terminal server which will run anywhere from 56 bit on that particular client up to 128 bit um for security",
    "start": "503080",
    "end": "511960"
  },
  {
    "text": "there's also like I mentioned the terminal server Advanced client uh it's actually an active X component so you",
    "start": "511960",
    "end": "517640"
  },
  {
    "text": "don't have to install the software on every desktop so if you want to administer a server and you're you",
    "start": "517640",
    "end": "523959"
  },
  {
    "text": "happen to be at someone's desk and you want to go ahead and make some changes to the server you don't have to run to yours or you don't have to have the",
    "start": "523959",
    "end": "529240"
  },
  {
    "text": "client on theirs you can just have this ActiveX component on your web server inter internal uh you can password",
    "start": "529240",
    "end": "535360"
  },
  {
    "text": "protect the side however you want to do it and you can access it and get a fully functioned client without having to to",
    "start": "535360",
    "end": "540920"
  },
  {
    "text": "sit down and push it out to everyone um now we're going to go into",
    "start": "540920",
    "end": "546440"
  },
  {
    "text": "identifying terminal server um just a second here Eric's going to go",
    "start": "546440",
    "end": "551760"
  },
  {
    "text": "ahead and show some techniques uh a real General technique to identify it as he",
    "start": "551760",
    "end": "557200"
  },
  {
    "text": "mentioned earlier the default Port that it runs and listens on is 3389 um there's no way to really change",
    "start": "557200",
    "end": "564000"
  },
  {
    "text": "this in any of the settings but there is a way to change it um and we'll actually show you where you can make that change",
    "start": "564000",
    "end": "570600"
  },
  {
    "text": "the problem you're going to have um is going to be on the client side so Eric go ahead and show how someone would",
    "start": "570600",
    "end": "576560"
  },
  {
    "text": "identify the terminal server so the tool I'm going to be using is it's called",
    "start": "576560",
    "end": "581920"
  },
  {
    "text": "fcan um it's available on our website bone.com it was written by Robin",
    "start": "581920",
    "end": "587920"
  },
  {
    "text": "Kier um same guy who wrote super scan and the rest really very good command line scanner for",
    "start": "587920",
    "end": "594519"
  },
  {
    "text": "n um so you can do you can use it to just ping",
    "start": "594519",
    "end": "601320"
  },
  {
    "text": "um spell it",
    "start": "601959",
    "end": "605360"
  },
  {
    "text": "right so the obviously the first identification would be just to look for what kind of pings are out there 238 and",
    "start": "607200",
    "end": "614399"
  },
  {
    "text": "252 are Clinton's box and my box so we'll just disregard those but we see those response at",
    "start": "614399",
    "end": "620959"
  },
  {
    "text": "10.1.1.1",
    "start": "620959",
    "end": "623959"
  },
  {
    "text": "so could obviously look for many other ports but since it's a terminal server talk actually let",
    "start": "628320",
    "end": "635320"
  },
  {
    "text": "me yeah Eric's going to go ahead and just run a regular scan against that host for the 3389 so we've identified",
    "start": "641800",
    "end": "648600"
  },
  {
    "text": "there's something running at 3389 using fcan um escan also has an option to do",
    "start": "648600",
    "end": "654959"
  },
  {
    "text": "Banner grabbing other kinds of things which is useful for identifying web type services that's really out of scope for",
    "start": "654959",
    "end": "662880"
  },
  {
    "text": "this okay we mentioned that you can change the default Port um and this is",
    "start": "662880",
    "end": "668360"
  },
  {
    "text": "not in your slides so we went went in the registry and dug this one up if you",
    "start": "668360",
    "end": "673440"
  },
  {
    "text": "change this right here you can change it to run on um the port of your",
    "start": "673440",
    "end": "678519"
  },
  {
    "text": "choice an interesting thing we came up with last night uh was due to the fact",
    "start": "678519",
    "end": "683800"
  },
  {
    "text": "that the client isn't configurable in the registry um we figure you're going to have to do some hex headit to change",
    "start": "683800",
    "end": "689480"
  },
  {
    "text": "it it comes up with a pretty nice security through obscurity mechanism to hide your remote",
    "start": "689480",
    "end": "694519"
  },
  {
    "text": "Administration um we talking about the thought of moving it to say something like",
    "start": "694519",
    "end": "700240"
  },
  {
    "text": "1723 so if someone even was trying to connect to it they'd be trying to connect via pptp to it they' be sitting",
    "start": "700240",
    "end": "705959"
  },
  {
    "text": "there all day with no connection so you could basically put it wherever you want it's going to be pretty difficult to",
    "start": "705959",
    "end": "711200"
  },
  {
    "text": "identify the uh RDP connection there yeah one thing too to note when you change the server Port",
    "start": "711200",
    "end": "717639"
  },
  {
    "text": "obviously this is not something that you would do do in a distributed application mode because to actually to to change",
    "start": "717639",
    "end": "724399"
  },
  {
    "text": "everybody's client or to push it out through ActiveX may be a problem since it is hardcoded in the reg in the actual",
    "start": "724399",
    "end": "730639"
  },
  {
    "text": "executable on the client side um one thing though on the admin side since",
    "start": "730639",
    "end": "735959"
  },
  {
    "text": "you're you may be accessing this port remotely from the Internet for whatever reason um through a VPN or whatever you",
    "start": "735959",
    "end": "743880"
  },
  {
    "text": "could you could run a data pipe on your local box and actually force a client to",
    "start": "743880",
    "end": "749160"
  },
  {
    "text": "to another um Port so you could send it to your box listen on 3389 but then send",
    "start": "749160",
    "end": "754920"
  },
  {
    "text": "it out on another port and you don't have to modify the client at all um we did that and that's that's actually the",
    "start": "754920",
    "end": "760320"
  },
  {
    "text": "the trickiest way and it's no one has any idea that it's terminal server sitting out there and I'm actually going",
    "start": "760320",
    "end": "765880"
  },
  {
    "text": "to show you guys how to do the port redirection um during what I co the Uber attack demo um but it's definitely useful it'",
    "start": "765880",
    "end": "774000"
  },
  {
    "text": "be fun to mess with your Security Consultants and hide hide your terminal server all over the place and they don't even have any idea what's",
    "start": "774000",
    "end": "780120"
  },
  {
    "text": "running um so a quote from our our paper was saying that the majority of our",
    "start": "780120",
    "end": "786440"
  },
  {
    "text": "concerns in most cases are not a result of poor products but products being implemented poorly I don't know those of",
    "start": "786440",
    "end": "793120"
  },
  {
    "text": "you out there that do penetration testing on Windows platforms um I I hate to admit it but a",
    "start": "793120",
    "end": "799480"
  },
  {
    "text": "majority of my successful attacks are due to administrator no password um so these kind of things are happening and I",
    "start": "799480",
    "end": "806320"
  },
  {
    "text": "guess one of the biggest points I want to make sure people are clear on is is that when you make a mistake like that with terminal server um I think you've",
    "start": "806320",
    "end": "813760"
  },
  {
    "text": "you really Amplified the amount of damage and this the ease of the",
    "start": "813760",
    "end": "819160"
  },
  {
    "text": "attack so get up actually up until now um do does anyone",
    "start": "819160",
    "end": "827600"
  },
  {
    "text": "out here do attack and penetration testing that sort of work okay good um",
    "start": "827600",
    "end": "832959"
  },
  {
    "text": "so if you had an admin account on a Windows 2000 or you know NT box or not",
    "start": "832959",
    "end": "838360"
  },
  {
    "text": "an admin account I'm sorry a user account till recently it really didn't have a whole lot of value you could map",
    "start": "838360",
    "end": "844440"
  },
  {
    "text": "to some shares um you could maybe numerate a little more system information but generally the",
    "start": "844440",
    "end": "850120"
  },
  {
    "text": "administrator accounts hold the keys to the kingdom well the one point that I really want to get across today is that",
    "start": "850120",
    "end": "856800"
  },
  {
    "text": "that's all changed now with terminal server tightly integrated with Windows 2000 um oh sorry go back",
    "start": "856800",
    "end": "864120"
  },
  {
    "text": "please so now we have the Brave New World of privilege escalation attacks privilege escalation attacks as of",
    "start": "864120",
    "end": "870639"
  },
  {
    "text": "Windows 2000 terminal server are a whole new world they're they we can use them in ways we never did before and I'm",
    "start": "870639",
    "end": "876800"
  },
  {
    "text": "going to show you some of those so user level accounts have finally come into their own I feel like and those of you",
    "start": "876800",
    "end": "882920"
  },
  {
    "text": "that have done security testing I would imagine you've seen when you crack the passwords on the client that user",
    "start": "882920",
    "end": "889199"
  },
  {
    "text": "accounts are generally terrible I mean almost always you'll have you're lucky if the administrators and domain",
    "start": "889199",
    "end": "894320"
  },
  {
    "text": "administrators have strong passwords but I have very rarely seen user users a",
    "start": "894320",
    "end": "899959"
  },
  {
    "text": "majority of users that have strong passwords well now as it administrators you now have a whole another problem on",
    "start": "899959",
    "end": "905800"
  },
  {
    "text": "your hands actually getting these people to use passwords because now you can get on graphically with terminal",
    "start": "905800",
    "end": "910959"
  },
  {
    "text": "server so if we um another security firm found a name",
    "start": "910959",
    "end": "916920"
  },
  {
    "text": "pipe vulnerability back a couple months back um Microsoft rece excuse me",
    "start": "916920",
    "end": "923360"
  },
  {
    "text": "Microsoft released their patch which is ms53 and then just a few we back um",
    "start": "923360",
    "end": "930880"
  },
  {
    "text": "person by the name of Macio who I don't know but the website is dog mile.com",
    "start": "930880",
    "end": "936639"
  },
  {
    "text": "released exploit code for this and this this code here is pipe up.exe which you",
    "start": "936639",
    "end": "943279"
  },
  {
    "text": "can run locally on a system as administrator to dump the hashes out just like a PW",
    "start": "943279",
    "end": "948839"
  },
  {
    "text": "dump attack the really the only point of that is to see if you're vulnerable where it starts to get really fun is you",
    "start": "948839",
    "end": "954800"
  },
  {
    "text": "can run something called pipe up Sam which will dump out the hashes um with a non-privileged account pretty exciting",
    "start": "954800",
    "end": "961959"
  },
  {
    "text": "stuff and we'll show it to you and finally my most favorite is pipe up admin which will escalate your user into",
    "start": "961959",
    "end": "969240"
  },
  {
    "text": "the administrator account provided you log back off and back onto the system well that's a bit um a bit tricky",
    "start": "969240",
    "end": "976120"
  },
  {
    "text": "without terminal server but now that we have terminal server it's very simple to connect as a user or maybe we're in in",
    "start": "976120",
    "end": "983279"
  },
  {
    "text": "application mode where we're on the system as a user already we want to be administrator so we just simply run this",
    "start": "983279",
    "end": "988519"
  },
  {
    "text": "attack log off and log back on I'm going to show you that okay so what can go wrong in in the",
    "start": "988519",
    "end": "994959"
  },
  {
    "text": "remote Administration tool scenario or the distributed scenario um next one so I'm just going to talk",
    "start": "994959",
    "end": "1002959"
  },
  {
    "text": "through the first one because it's not really doesn't even really weren't showing you but in this situation we",
    "start": "1002959",
    "end": "1008399"
  },
  {
    "text": "have a collocation with our web and database servers back there the administrator set it up to drw Port 139",
    "start": "1008399",
    "end": "1016639"
  },
  {
    "text": "um from his local network so that nobody in his local network would be messing with his machines and then he also",
    "start": "1016639",
    "end": "1023360"
  },
  {
    "text": "blocked 3389 from anyone except the internal Network so he could administer the boxes and we have um for my recipe",
    "start": "1023360",
    "end": "1030360"
  },
  {
    "text": "here the final ingredient is a dash of disgruntled",
    "start": "1030360",
    "end": "1035120"
  },
  {
    "text": "employee okay well the pitfalls of this scenario I'm sure a lot of you know this already by now but old school Windows NT",
    "start": "1035559",
    "end": "1043400"
  },
  {
    "text": "Port 139 tricks work over 445 so in my little scenario",
    "start": "1043400",
    "end": "1049480"
  },
  {
    "text": "this person dumps the shares and dumps the users well it turns out the administrator was pretty Sly and he",
    "start": "1049480",
    "end": "1056080"
  },
  {
    "text": "removed all the administrative shares so now we have a IPC dollar sign share that we were lucky enough to guess an admin",
    "start": "1056080",
    "end": "1062679"
  },
  {
    "text": "account on but we really can't do a lot with it but in this scenario terminal server has given us the means to be able",
    "start": "1062679",
    "end": "1069080"
  },
  {
    "text": "to connect and do anything we want even though the person has removed the shares the administrative shares",
    "start": "1069080",
    "end": "1075720"
  },
  {
    "text": "so an N quote I I heard from Once one of my classes I was teaching was the only thing better than admin is guey admin so",
    "start": "1075720",
    "end": "1083840"
  },
  {
    "text": "terminal server has given us this opportunity now and once the person is on the system as guey they simply FTP",
    "start": "1083840",
    "end": "1090320"
  },
  {
    "text": "back to their own system get everything they want their PW dump LSA dump whatever tools that they enjoy and it's",
    "start": "1090320",
    "end": "1098400"
  },
  {
    "text": "playtime next one so the basic corrective steps for",
    "start": "1098400",
    "end": "1103480"
  },
  {
    "text": "this one the simple the same old NTI hardening stuff block 139 block 4 45 now",
    "start": "1103480",
    "end": "1110200"
  },
  {
    "text": "say you're restrict Anonymous that will disallow them to enumerate users and",
    "start": "1110200",
    "end": "1116200"
  },
  {
    "text": "shares set account lock out and use pass prop to lock out your",
    "start": "1116200",
    "end": "1121720"
  },
  {
    "text": "administrators if you can remote restrict the remote Administration only to the administrative",
    "start": "1121720",
    "end": "1128360"
  },
  {
    "text": "accounts and of course use complexity the complexity setting and the password policy now in Windows",
    "start": "1128360",
    "end": "1135679"
  },
  {
    "text": "2000 sit down give me a second second to sit down here and bear with me while I try to",
    "start": "1135679",
    "end": "1142280"
  },
  {
    "text": "look up here and type cuz my computer's not happy about Public public speaking it will only do one of the",
    "start": "1142280",
    "end": "1148400"
  },
  {
    "text": "other okay so in scenario number two what we have here is a",
    "start": "1148400",
    "end": "1154000"
  },
  {
    "text": "telemarketer out in Vegas gambling loses all his money and craps ends out at the bar having a",
    "start": "1154000",
    "end": "1160159"
  },
  {
    "text": "conversation and turns out someone offers this telemarketer some money for",
    "start": "1160159",
    "end": "1166120"
  },
  {
    "text": "the uh client data on their system so okay let's",
    "start": "1166120",
    "end": "1173360"
  },
  {
    "text": "see what I'm going to do is terminal server in oh my gosh this is",
    "start": "1173360",
    "end": "1179039"
  },
  {
    "text": "hard to see okay so I'm just going to connect",
    "start": "1179039",
    "end": "1185159"
  },
  {
    "text": "with the user account that he's been given we're simulating an distributed application",
    "start": "1185159",
    "end": "1190360"
  },
  {
    "text": "here where they go in there and they use some sort of telemarketing application",
    "start": "1190360",
    "end": "1195440"
  },
  {
    "text": "and the data gets saved into a stored into a protected area with NTFS permissions they can't get to the data",
    "start": "1195440",
    "end": "1201440"
  },
  {
    "text": "files and it will connect it's just for some reason really slow not sure why so",
    "start": "1201440",
    "end": "1207840"
  },
  {
    "text": "Eric with his outstanding password of Eric lcks",
    "start": "1207840",
    "end": "1213760"
  },
  {
    "text": "in those of you that have tried to administer user accounts you know some of them are passwords are just that",
    "start": "1213760",
    "end": "1220679"
  },
  {
    "text": "good okay so hold on a second",
    "start": "1220679",
    "end": "1228840"
  },
  {
    "text": "okay okay",
    "start": "1238679",
    "end": "1245360"
  },
  {
    "text": "um okay so there's a client data",
    "start": "1245360",
    "end": "1249440"
  },
  {
    "text": "directory and I can't get into it um because it's protected and it's only",
    "start": "1250720",
    "end": "1256240"
  },
  {
    "text": "allowed to administrators and in this case",
    "start": "1256240",
    "end": "1260600"
  },
  {
    "text": "in this case the only administrators are administrator Thomas and a ha and hacker account that I",
    "start": "1267039",
    "end": "1273080"
  },
  {
    "text": "added so what we're going to do",
    "start": "1273080",
    "end": "1277880"
  },
  {
    "text": "is imagine that this person either went via the web and pulled down the files",
    "start": "1278480",
    "end": "1284600"
  },
  {
    "text": "FTP them back it doesn't really matter um I have an FTP this is how I got them over",
    "start": "1284600",
    "end": "1290520"
  },
  {
    "text": "here I'm going to show you these these commands that I was telling you about the privilege escalation",
    "start": "1290520",
    "end": "1297039"
  },
  {
    "text": "stuff the first one's pipe up Sam which I think is a lot of fun we're still just a user now and just",
    "start": "1298919",
    "end": "1306039"
  },
  {
    "text": "by using this pipe up Sam command here's the hashes for the Box just like that I me quick save it",
    "start": "1306039",
    "end": "1314200"
  },
  {
    "text": "down into a text file get that back off to your local system and as a CEO my president always says you don't want to",
    "start": "1314200",
    "end": "1320240"
  },
  {
    "text": "waste those Cycles get them back and start cracking them as soon as you can well where the fun really begins and",
    "start": "1320240",
    "end": "1327440"
  },
  {
    "text": "where this tele marketer starts to realize he can hopefully get some money for this and make his crap's money",
    "start": "1327440",
    "end": "1333240"
  },
  {
    "text": "back is with the pipe up admin command so it that it does some kind of overflow",
    "start": "1333640",
    "end": "1342200"
  },
  {
    "text": "with not overflow rather um names pipes impersonation and adds our user to the",
    "start": "1342200",
    "end": "1347240"
  },
  {
    "text": "administrator group so now if I do the local that I did before you'll see us in here but",
    "start": "1347240",
    "end": "1355840"
  },
  {
    "text": "naturally we have to log off first well actually if you want me to show",
    "start": "1355840",
    "end": "1362240"
  },
  {
    "text": "you where' that go oh I was shutting down we had a",
    "start": "1362480",
    "end": "1368880"
  },
  {
    "text": "little bit of a lag here sorry oh my",
    "start": "1368880",
    "end": "1374080"
  },
  {
    "text": "God okay um so while we're in the",
    "start": "1374080",
    "end": "1382000"
  },
  {
    "text": "group we still can't get to that",
    "start": "1382000",
    "end": "1386600"
  },
  {
    "text": "yet we can solve that very simply by logging Eric",
    "start": "1388440",
    "end": "1395799"
  },
  {
    "text": "off run you can run yourself yes oh cool",
    "start": "1395799",
    "end": "1401720"
  },
  {
    "text": "okay yeah I didn't even think about that option that's that's true um in this",
    "start": "1401720",
    "end": "1406919"
  },
  {
    "text": "case I'm just going to go through and show it this way but that's a good idea we have to wait for the",
    "start": "1406919",
    "end": "1413640"
  },
  {
    "text": "uh massive tashiba to respond now",
    "start": "1413640",
    "end": "1419760"
  },
  {
    "text": "you okay so back on with Eric Eric we",
    "start": "1419760",
    "end": "1426080"
  },
  {
    "text": "go essentially this user who was connecting within Windows 9 would have just regular privileges to look at uh um",
    "start": "1435120",
    "end": "1442760"
  },
  {
    "text": "statistics and that type of thing from a database to track it and kind of monitor it he obviously he wouldn't have access",
    "start": "1442760",
    "end": "1448640"
  },
  {
    "text": "to uh credit card data he wouldn't need that the the idea that I'm imagining is",
    "start": "1448640",
    "end": "1453720"
  },
  {
    "text": "that the application saves the data in a restricted area they can't get to it's",
    "start": "1453720",
    "end": "1459240"
  },
  {
    "text": "just a scenario I came up with so in this case we're in the client data directory oh hang",
    "start": "1459240",
    "end": "1466039"
  },
  {
    "text": "on that we weren't able to get into before",
    "start": "1466039",
    "end": "1470360"
  },
  {
    "text": "and we can list out all the information so just like that the user has all the information",
    "start": "1471120",
    "end": "1478200"
  },
  {
    "text": "they want if they're really if they're really smooth hold",
    "start": "1478200",
    "end": "1485760"
  },
  {
    "text": "on just drop back at administ rors have the information then they're out of",
    "start": "1495600",
    "end": "1502279"
  },
  {
    "text": "there now of course some of this is logged um so those of you who who think",
    "start": "1502279",
    "end": "1507840"
  },
  {
    "text": "this may be happening in your organization um you can go in and Eric can show you here where some of these",
    "start": "1507840",
    "end": "1513760"
  },
  {
    "text": "errors are showing you dropped yourself out of admin but no we're still we're still actually in his admin um I want",
    "start": "1513760",
    "end": "1520240"
  },
  {
    "text": "this so if you think if you have users in your network you suspect that they may be this crafty or this devious um if",
    "start": "1520240",
    "end": "1526600"
  },
  {
    "text": "they haven't gone through and and z the logs which now they can do if they want to um you'll see that there'll be",
    "start": "1526600",
    "end": "1532840"
  },
  {
    "text": "failures on the DDE service which uh is you'll see the clip one CU that I look for is a clipbook error here um that's",
    "start": "1532840",
    "end": "1540760"
  },
  {
    "text": "going to be a dead dead giveaway they ran pipe up admin or pipe up Sam so if you see these sort of things in your",
    "start": "1540760",
    "end": "1546120"
  },
  {
    "text": "logs you should definitely be suspicious how reli are the logs ass some",
    "start": "1546120",
    "end": "1552240"
  },
  {
    "text": "G well obviously they could they could zap the logs if they had administrative privileges so um if he's taking it from",
    "start": "1552240",
    "end": "1559520"
  },
  {
    "text": "that perspective then you know that could be damaged um yesterday JD one of",
    "start": "1559520",
    "end": "1564600"
  },
  {
    "text": "our uh co-workers he went over that specific thing you know doing forensics on a a Windows 2000 system so we could",
    "start": "1564600",
    "end": "1571000"
  },
  {
    "text": "talk about more with uh JD with going over that later if you want way around",
    "start": "1571000",
    "end": "1579158"
  },
  {
    "text": "that admin Group Policy",
    "start": "1579399",
    "end": "1586360"
  },
  {
    "text": "remotely not not the interactive run the terminal server client yeah that's we'll",
    "start": "1586360",
    "end": "1591679"
  },
  {
    "text": "actually go into those settings in a minute um you might want to remember if you go and do that setting change before",
    "start": "1591679",
    "end": "1597240"
  },
  {
    "text": "you have apply some service packs so you may find yourself locked out not only from a terminal server remote session",
    "start": "1597240",
    "end": "1603559"
  },
  {
    "text": "but from the console um it's it's kind of a a little bug um it has been fixed",
    "start": "1603559",
    "end": "1609039"
  },
  {
    "text": "but that's occurred more than once uh places that arriv b",
    "start": "1609039",
    "end": "1616039"
  },
  {
    "text": "question somebody actually uh yes you can and we'll go",
    "start": "1616120",
    "end": "1622240"
  },
  {
    "text": "into that that's another utility and in fact the utilities that I'm going to go over later are actually on the CD the",
    "start": "1622240",
    "end": "1628039"
  },
  {
    "text": "black hat CD so there is a way to log um failed attempts successful attempts by",
    "start": "1628039",
    "end": "1634039"
  },
  {
    "text": "host name and IP um it's a it's a Microsoft tool and then obviously you should be doing this on your network too",
    "start": "1634039",
    "end": "1639799"
  },
  {
    "text": "you shouldn't rely just on hostb based security measures but that's what we're focusing on here because it's obviously",
    "start": "1639799",
    "end": "1644960"
  },
  {
    "text": "a 2000 class is that just for terminal service can IP or is that for um well",
    "start": "1644960",
    "end": "1652120"
  },
  {
    "text": "native to NT you may have to add another tool but to terminal server there's a resource kit utility that does it by",
    "start": "1652120",
    "end": "1658760"
  },
  {
    "text": "default logs IP and host name we're going to get those are the",
    "start": "1658760",
    "end": "1663960"
  },
  {
    "text": "end slides we're C so if you want to wait until we get to that Eric's just going over the demos to kind of show you",
    "start": "1663960",
    "end": "1670519"
  },
  {
    "text": "what types of things are going to happen and then we'll go through each of the the settings specific for terminal server through both the user and the RDP",
    "start": "1670519",
    "end": "1678240"
  },
  {
    "text": "protocol then we'll also go into some of the settings that you can modify and change with the uh resource kit",
    "start": "1678240",
    "end": "1683559"
  },
  {
    "text": "utilities and then what you need to do on a host level basically hardening it uh that's a little further on so let's",
    "start": "1683559",
    "end": "1689080"
  },
  {
    "text": "go ahead and go into the next um while the corrective steps for Eric's last",
    "start": "1689080",
    "end": "1694600"
  },
  {
    "text": "demonstration um the corrective steps on this one are to apply the patch issued by Microsoft the 53 patch or it's the",
    "start": "1694600",
    "end": "1702159"
  },
  {
    "text": "article 53 rather Ms ms53 right um it's still definitely",
    "start": "1702159",
    "end": "1708720"
  },
  {
    "text": "helps to enforce strong password account policies additionally in this case um",
    "start": "1708720",
    "end": "1714519"
  },
  {
    "text": "although it may not have worked in our little demo in our little situation here but you should certainly if you're going to be running terminal server on the",
    "start": "1714519",
    "end": "1721279"
  },
  {
    "text": "internet there's no reason to not not be restricting it by IP address for the people who are going to be using it",
    "start": "1721279",
    "end": "1727120"
  },
  {
    "text": "remotely if you have to if you have to take that that route make sure that you do it as safe as possible and restrict",
    "start": "1727120",
    "end": "1732760"
  },
  {
    "text": "it to just the people that you trust um certainly in this case probably the user",
    "start": "1732760",
    "end": "1738320"
  },
  {
    "text": "would have been VPN in or something so it wouldn't have helped but definitely I've seen a lot of 3389 just flying",
    "start": "1738320",
    "end": "1744640"
  },
  {
    "text": "around on the internet some of my clients I would highly recommend that you don't do that um and I wish I would",
    "start": "1744640",
    "end": "1749799"
  },
  {
    "text": "stop I wish I would stop seeing it but I I keep seeing it and actually it seems to be getting worse um it used to make me shiver when",
    "start": "1749799",
    "end": "1756440"
  },
  {
    "text": "I'd see 139s in the internet and now I see 3389 I'm just I'm mortified",
    "start": "1756440",
    "end": "1761960"
  },
  {
    "text": "sometimes yep okay we're going to talk about AP sec we're going to push that one off till the end when Clinton has",
    "start": "1761960",
    "end": "1767159"
  },
  {
    "text": "some slides to show you okay this is kind of the fun scenario I put together to show you guys",
    "start": "1767159",
    "end": "1774480"
  },
  {
    "text": "some of the neat ways you can tie together some Concepts and attacks that you may have may or may have not done before into a way that can be",
    "start": "1774480",
    "end": "1781399"
  },
  {
    "text": "devastating to the client um this case I'm calling it death by router misconfiguration these are actual uh",
    "start": "1781399",
    "end": "1788159"
  },
  {
    "text": "things that we've actually seen in our in our trials okay",
    "start": "1788159",
    "end": "1794440"
  },
  {
    "text": "so what I want to do here I turned on um a firewall system to simulate a",
    "start": "1794440",
    "end": "1801519"
  },
  {
    "text": "router in between myself and the target system I don't know how many of you people out there have had your network",
    "start": "1801519",
    "end": "1808279"
  },
  {
    "text": "administrator or yourself had said we need higher we need higher throughput we can't have a firewall we're just going",
    "start": "1808279",
    "end": "1813840"
  },
  {
    "text": "to run routers um anyone seen this done out in the field people running routers",
    "start": "1813840",
    "end": "1819440"
  },
  {
    "text": "rather than firewalls you call pardon",
    "start": "1819440",
    "end": "1824960"
  },
  {
    "text": "me glorified um okay well um in this",
    "start": "1824960",
    "end": "1831039"
  },
  {
    "text": "scenario what I'm describing the person configuring the router what they did was",
    "start": "1831039",
    "end": "1837720"
  },
  {
    "text": "when they set to allow FTP to come back in they allowed FTP any traffic coming with a source Port of 20 going to a port",
    "start": "1837720",
    "end": "1845120"
  },
  {
    "text": "above 1023 to get this to get the data Channel back additionally my my person who",
    "start": "1845120",
    "end": "1852200"
  },
  {
    "text": "configured this router for me they set it up to allow TCP 53",
    "start": "1852200",
    "end": "1858600"
  },
  {
    "text": "with a sour Port of 53 coming back to a port above 1023 so what they think will allow they",
    "start": "1858600",
    "end": "1865159"
  },
  {
    "text": "think they need that to do DNS name resolution um in reality we know that",
    "start": "1865159",
    "end": "1870639"
  },
  {
    "text": "you only need UDP that TCP is just used for Zone transfers but I've seen this many times out there people just not",
    "start": "1870639",
    "end": "1877399"
  },
  {
    "text": "sure you things aren't working you've got people screaming so you just start throwing rules at these kind of routers",
    "start": "1877399",
    "end": "1884120"
  },
  {
    "text": "and firewalls um it happens frequently",
    "start": "1884120",
    "end": "1888760"
  },
  {
    "text": "okay there is one very extreme Cas you",
    "start": "1889159",
    "end": "1894480"
  },
  {
    "text": "actually leg okay well so there is some extreme",
    "start": "1894480",
    "end": "1900760"
  },
  {
    "text": "case I'm not sure I'm more than happy to chat about that later I would like to hear it you know over some",
    "start": "1900760",
    "end": "1907159"
  },
  {
    "text": "beers okay so in this",
    "start": "1907159",
    "end": "1911840"
  },
  {
    "text": "case so I turned our me just ping it first to prove to you that",
    "start": "1914120",
    "end": "1919159"
  },
  {
    "text": "there okay so 10.1.1 is",
    "start": "1919159",
    "end": "1924240"
  },
  {
    "text": "back now let's scan it again looking for 3389 all right it's not there anymore",
    "start": "1924240",
    "end": "1931200"
  },
  {
    "text": "okay because we have the naturally have the firewall up but what fcan gives you the option to do and so does CLS rather",
    "start": "1931200",
    "end": "1938679"
  },
  {
    "text": "than CSL so you can do you can use a minus I which will spec",
    "start": "1938679",
    "end": "1946840"
  },
  {
    "text": "which will bind to a local given port in this case we're going to do 20 this is a standard part of my methodology when I'm",
    "start": "1946840",
    "end": "1953360"
  },
  {
    "text": "assessing an external network I do standard scans I do scans without pinging first of course ping sweeps and",
    "start": "1953360",
    "end": "1959639"
  },
  {
    "text": "then we'll go and start doing Source Port of 20 Source Port of 25 Source Port of 53 and scan the ranges too because",
    "start": "1959639",
    "end": "1965600"
  },
  {
    "text": "you'd be surprised you may find a misconfigured router rule somewhere it may give some good information away in",
    "start": "1965600",
    "end": "1970760"
  },
  {
    "text": "this case it's going to give a lot of information what um I'm going to let's see",
    "start": "1970760",
    "end": "1977480"
  },
  {
    "text": "okay in this case I'm just going to look for certain ports um the basic NT stuff",
    "start": "1980600",
    "end": "1986840"
  },
  {
    "text": "excuse me I keep I constantly call it NT and Windows 2000 it's have it um so",
    "start": "1986840",
    "end": "1992279"
  },
  {
    "text": "we're looking for that and then we're looking for some ports above 1023 well we scan now that Source port",
    "start": "1992279",
    "end": "1998720"
  },
  {
    "text": "and look what we have we have the ports above 1023 the reason being is because they",
    "start": "1998720",
    "end": "2004360"
  },
  {
    "text": "have that rule specifying if a source Port of 20 comes through and you're going to something above 1023 well come",
    "start": "2004360",
    "end": "2009720"
  },
  {
    "text": "on through that's my job you know there's just traffic cops standing there saying hey come on in okay so now we have these ports how",
    "start": "2009720",
    "end": "2017799"
  },
  {
    "text": "are we going to do anything with them um and that's where our Port redirection comes in something I think is really",
    "start": "2017799",
    "end": "2024279"
  },
  {
    "text": "fun you can get what's called f pipe from our website also it's a TCP UDP",
    "start": "2024279",
    "end": "2029559"
  },
  {
    "text": "Port redirector that we that we all love here at foundstone",
    "start": "2029559",
    "end": "2035639"
  },
  {
    "text": "um what I'm going to show you how to do I'm going to make it since we saw 1433 I'm going to make it listen on my own",
    "start": "2035639",
    "end": "2042480"
  },
  {
    "text": "box at 1433 and I'm going to specify a source",
    "start": "2042480",
    "end": "2049398"
  },
  {
    "text": "Port of 20 and a remote Port of",
    "start": "2049399",
    "end": "2056960"
  },
  {
    "text": "1433 10111 so I'm going to have this listening",
    "start": "2056960",
    "end": "2063079"
  },
  {
    "text": "here on 1433 so any traffic that hits my box on 1433 is going to be rerouted out",
    "start": "2063079",
    "end": "2069480"
  },
  {
    "text": "to 1433 on that host with a source Port of",
    "start": "2069480",
    "end": "2074078"
  },
  {
    "text": "20 and bear with me a second here I'll type this command",
    "start": "2076839",
    "end": "2082638"
  },
  {
    "text": "Okay Okay cool so I'm going to use the um command line SQL query tool oql for",
    "start": "2109480",
    "end": "2116560"
  },
  {
    "text": "my little trick here so the command line options are us",
    "start": "2116560",
    "end": "2122640"
  },
  {
    "text": "you to specify user and we're going to go with saay in this case",
    "start": "2122640",
    "end": "2129480"
  },
  {
    "text": "the system administrator who is a different person than our router administrator assumes that the router",
    "start": "2129480",
    "end": "2135920"
  },
  {
    "text": "administrator people who are the perimeter security team that he assumes that there's no way anyone can get to",
    "start": "2135920",
    "end": "2141400"
  },
  {
    "text": "his box except on Port 80 or 443 which is a specified purpose of this box well unfortunately the other team",
    "start": "2141400",
    "end": "2148320"
  },
  {
    "text": "let down our network administrator team team here so we have a situation so he didn't put an sa password on there",
    "start": "2148320",
    "end": "2154640"
  },
  {
    "text": "because it wasn't really using the database server in this case didn't really even think about it left the saay blank password we see this",
    "start": "2154640",
    "end": "2162040"
  },
  {
    "text": "essay blank password all the time um and also in this case you could",
    "start": "2162040",
    "end": "2168400"
  },
  {
    "text": "use something SQ uh SQL di. exe it's a SQL password cracker to try to crack the",
    "start": "2168400",
    "end": "2174359"
  },
  {
    "text": "password written by Arie vidrom it's NT ntse security. nuu um some really good",
    "start": "2174359",
    "end": "2180880"
  },
  {
    "text": "tools on there also all right that was fast oh good",
    "start": "2180880",
    "end": "2187760"
  },
  {
    "text": "point thank you yeah please watch my typing it's terrible be more fun for everyone if I",
    "start": "2187760",
    "end": "2193400"
  },
  {
    "text": "don't make typos okay so we're going to tell it to",
    "start": "2193400",
    "end": "2198480"
  },
  {
    "text": "execute a command and then stay on and this let's see so I'm just going to do",
    "start": "2198480",
    "end": "2205920"
  },
  {
    "text": "execute speed command",
    "start": "2206680",
    "end": "2210280"
  },
  {
    "text": "shell okay I'm just going to list out um C colon for now",
    "start": "2211920",
    "end": "2218599"
  },
  {
    "text": "and then I'm going to break it off because I'm about to do it against the server instead of against",
    "start": "2219800",
    "end": "2225000"
  },
  {
    "text": "myself okay what I almost just did there was look for a SQL server on that box that we couldn't see so now I switched",
    "start": "2225000",
    "end": "2231440"
  },
  {
    "text": "it and now I'm looking for a SQL server on my own box which isn't there but I'm going to be redirected to that box in",
    "start": "2231440",
    "end": "2240240"
  },
  {
    "text": "theory okay well there is the directory of C over the router",
    "start": "2241960",
    "end": "2248440"
  },
  {
    "text": "so in this case now now I'm just going to have a little fun with",
    "start": "2248440",
    "end": "2252960"
  },
  {
    "text": "it okay so my first command is going to be to add a user called style the password password",
    "start": "2271720",
    "end": "2279359"
  },
  {
    "text": "can I add a local group I'm not I'm rather going to add someone to a local",
    "start": "2284760",
    "end": "2290640"
  },
  {
    "text": "group to the group administrators administrators no spelling",
    "start": "2290640",
    "end": "2297280"
  },
  {
    "text": "errors just make sure I didn't do have any typos here before I do this net local group administrators I think we're",
    "start": "2300000",
    "end": "2306359"
  },
  {
    "text": "good except for this okay and then I just execute a",
    "start": "2306359",
    "end": "2313400"
  },
  {
    "text": "go perfect um so now we just added a user and it made of an administrator now",
    "start": "2314200",
    "end": "2320040"
  },
  {
    "text": "I'm just going to just jump off here go back to my other my f pipe and",
    "start": "2320040",
    "end": "2326640"
  },
  {
    "text": "let you see the connection that happened it went from myself a port above 1023 naturally connected to 1433 on my own",
    "start": "2326640",
    "end": "2332760"
  },
  {
    "text": "box then sent me outbound with a source Port of 20 to 1433 so you can understand",
    "start": "2332760",
    "end": "2338359"
  },
  {
    "text": "what happened there now now we're going to make a little more",
    "start": "2338359",
    "end": "2343760"
  },
  {
    "text": "fun and in this case I'm switching it to back to 53 cuz when you use Source ports",
    "start": "2343760",
    "end": "2349599"
  },
  {
    "text": "um there's some timeouts that we'd have to sit here and wait so I'm just the reason I set up 53 N20 is just to make it better for the",
    "start": "2349599",
    "end": "2354970"
  },
  {
    "text": "[Music] demo but you could certainly just wait it",
    "start": "2354970",
    "end": "2360480"
  },
  {
    "text": "out okay again that wouldn't work if your toow",
    "start": "2364160",
    "end": "2369680"
  },
  {
    "text": "onlyp address that's true absolutely the but the 20 the 20 is a better example but I just threw 503 in there so we",
    "start": "2369680",
    "end": "2376000"
  },
  {
    "text": "would have to wait for the timeouts and of course which we'll get into it wouldn't work if you had established connection keyword set but we'll get to",
    "start": "2376000",
    "end": "2382560"
  },
  {
    "text": "that okay so here we are again we have our pipe set up open up terminal server",
    "start": "2382560",
    "end": "2388720"
  },
  {
    "text": "instead this time I'm going to connect the terminal server on my box which isn't there just F pipe",
    "start": "2388720",
    "end": "2396640"
  },
  {
    "text": "and it's slow as usual but it will work not a result of uh",
    "start": "2398440",
    "end": "2403960"
  },
  {
    "text": "Windows 2000 it's simply a result of the brick it's this it's a server very with this the brick is doing the very best it",
    "start": "2403960",
    "end": "2410040"
  },
  {
    "text": "can on 64 Megs of ram okay so here we are connected to",
    "start": "2410040",
    "end": "2417520"
  },
  {
    "text": "10.1.1 238 which does not have terminal server running on it however F pipe was",
    "start": "2417520",
    "end": "2423560"
  },
  {
    "text": "nice enough to pass our traffic over and put it on this system so now we're going to log in as style",
    "start": "2423560",
    "end": "2431880"
  },
  {
    "text": "and passord to",
    "start": "2431880",
    "end": "2435440"
  },
  {
    "text": "password okay why did it just come back on what's that no black guys decided it",
    "start": "2450480",
    "end": "2458359"
  },
  {
    "text": "wanted to turn back on without me asking me",
    "start": "2458359",
    "end": "2462200"
  },
  {
    "text": "first over here so what I'm going to",
    "start": "2464359",
    "end": "2470160"
  },
  {
    "text": "do and there we are in the administrator group um all across a router with just a",
    "start": "2475280",
    "end": "2481680"
  },
  {
    "text": "small misconfiguration and terminal server was more than happy to make this all so nice and gooey for us and just oh",
    "start": "2481680",
    "end": "2487760"
  },
  {
    "text": "so easy um so with that said close actually I'll just leave that",
    "start": "2487760",
    "end": "2494720"
  },
  {
    "text": "up that's fine want to talk the the counter",
    "start": "2494720",
    "end": "2499920"
  },
  {
    "text": "measures for that one you want to hit them oh go ahead well the big there's the obvious countermeasures for that one",
    "start": "2499920",
    "end": "2506079"
  },
  {
    "text": "I mean the sa password I see it all the time I can't believe how much I see it",
    "start": "2506079",
    "end": "2511119"
  },
  {
    "text": "it really is out there um sa password you should use something that's stateful",
    "start": "2511119",
    "end": "2517599"
  },
  {
    "text": "to do your perimeter protection um in this case if you're using a router make sure that you use the established keywords and make sure you test your own",
    "start": "2517599",
    "end": "2524599"
  },
  {
    "text": "systems I mean test your perimeter devices with these sort of scans understand what a hacker would see um",
    "start": "2524599",
    "end": "2531680"
  },
  {
    "text": "and that's really about it for the two initial downfalls of this demo of this particular demo a",
    "start": "2531680",
    "end": "2537599"
  },
  {
    "text": "question set ,000 that",
    "start": "2537599",
    "end": "2543839"
  },
  {
    "text": "yeah okay so say we move terminal server to Port 60,000 are there any techniques to",
    "start": "2548200",
    "end": "2554319"
  },
  {
    "text": "identify terminal server I was think talking about this with a couple people last night and I couldn't come up with",
    "start": "2554319",
    "end": "2559760"
  },
  {
    "text": "any um yeah um you know obviously if they connect on the on the and monitor",
    "start": "2559760",
    "end": "2565440"
  },
  {
    "text": "the network level and they send some nudge strings back they may be able to retrieve uh some data if they really",
    "start": "2565440",
    "end": "2570720"
  },
  {
    "text": "know what they're looking for that will tell them that this is it but they're not going to get a clear text thing back like on tet or FTP that's going to say",
    "start": "2570720",
    "end": "2576960"
  },
  {
    "text": "hey look this is a terminal server connection so while technically someone",
    "start": "2576960",
    "end": "2582599"
  },
  {
    "text": "could craft if they knew what they were doing they could craft and look for this um it's not something that's going to",
    "start": "2582599",
    "end": "2588240"
  },
  {
    "text": "you know it's going to raise that bar you know to the one percentile it's it's",
    "start": "2588240",
    "end": "2593440"
  },
  {
    "text": "uh not going to be something that your common people are going to go out and do they're not going to see if they see",
    "start": "2593440",
    "end": "2599040"
  },
  {
    "text": "Port uh what is it 1723 they see 1723 you don't think they're going to try to hit it with a terminal server client",
    "start": "2599040",
    "end": "2605160"
  },
  {
    "text": "right I mean they're not going to get anything when they connect to to it um and they're going to sit there and think that they can maybe get in another way",
    "start": "2605160",
    "end": "2611559"
  },
  {
    "text": "which isn't going to happen so it's not possible for them to uh not find out",
    "start": "2611559",
    "end": "2620000"
  },
  {
    "text": "that it is terminal server but uh it can it can definitely raise that bar and it",
    "start": "2620000",
    "end": "2626760"
  },
  {
    "text": "also there's another thing too it depends on is the level of encryption that you're running on terminal server whether it be low medium or high which",
    "start": "2626760",
    "end": "2633559"
  },
  {
    "text": "we'll go into a little bit later just for a one last followup of what I was talking about um say you did want to run",
    "start": "2633559",
    "end": "2639280"
  },
  {
    "text": "it on 60,000 just so you guys can see this is this would be your command um",
    "start": "2639280",
    "end": "2645119"
  },
  {
    "text": "imagining that you wanted to use it to hide hide the port you're running your remote Administration on you just set your listener on your own box at 3389",
    "start": "2645119",
    "end": "2652839"
  },
  {
    "text": "shoot it off remote to wherever you want don't specify the source Port you don't even need to if you're using it for this purpose then just put the IP of the host",
    "start": "2652839",
    "end": "2660559"
  },
  {
    "text": "set it off to listen and you're good to go I mean SEC security through obscurity I don't recommend it but in this case it",
    "start": "2660559",
    "end": "2666359"
  },
  {
    "text": "is kind of cool it there's it's a little bit deeper than that so it seems like a pretty fun idea I'm interested to see if",
    "start": "2666359",
    "end": "2671400"
  },
  {
    "text": "people try to play with this kind of stuff okay um I'm going to go ahead and",
    "start": "2671400",
    "end": "2677280"
  },
  {
    "text": "uh while I go into this next section uh which is actually kind of more the technical part of securing terminal",
    "start": "2677280",
    "end": "2684480"
  },
  {
    "text": "server why don't you go ahead and and change that registry value and then actually and Eric will set up the box",
    "start": "2684480",
    "end": "2690920"
  },
  {
    "text": "and actually show you how you can change that port and then you can get terminal server listing on another another port",
    "start": "2690920",
    "end": "2696599"
  },
  {
    "text": "and then he'll use the redirection to connect to it do you remember where it was it's it's hm yeah I got them all",
    "start": "2696599",
    "end": "2703440"
  },
  {
    "text": "down no where it is hkm current control set",
    "start": "2703440",
    "end": "2708760"
  },
  {
    "text": "control um teral server yeah and the port number is the",
    "start": "2708760",
    "end": "2715480"
  },
  {
    "text": "key yeah you looked it right there is this H machine system uh okay um now",
    "start": "2715480",
    "end": "2722400"
  },
  {
    "text": "what what Eric is demoed is some actual things that we actually see out there every day uh Believe It or Not uh as as",
    "start": "2722400",
    "end": "2727920"
  },
  {
    "text": "surprising as as obvious those things look to you and me sitting here as he goes through those this is what",
    "start": "2727920",
    "end": "2733599"
  },
  {
    "text": "administrators are out there doing um for whatever reason I don't know if they don't understand what they're doing or",
    "start": "2733599",
    "end": "2739040"
  },
  {
    "text": "the implications of it but uh there are people out there who actually set things up just like that and we go to clients",
    "start": "2739040",
    "end": "2746640"
  },
  {
    "text": "these are actually uh kind of taken from our past experience from everywhere we've been and we've seen this over and",
    "start": "2746640",
    "end": "2753240"
  },
  {
    "text": "over and over so to secure terminal server you really got to look at it in a in multiple levels you got to look at",
    "start": "2753240",
    "end": "2759400"
  },
  {
    "text": "the host 2000 operating system first of all you can't just you know leave it as it is and walk away it's like installing",
    "start": "2759400",
    "end": "2766520"
  },
  {
    "text": "a firewall on top of a default installation of Solaris if anything were to happen on that piece of software your",
    "start": "2766520",
    "end": "2771559"
  },
  {
    "text": "box is rooted um then of course you want to go into terminal server specific and",
    "start": "2771559",
    "end": "2777640"
  },
  {
    "text": "then obviously you want to go into uh the network so let's go into the terminal",
    "start": "2777640",
    "end": "2782920"
  },
  {
    "text": "server specific uh settings yeah yeah what we have is uh the",
    "start": "2782920",
    "end": "2791280"
  },
  {
    "text": "terminal server profile for each individual user uh this is actually what we're going to",
    "start": "2791280",
    "end": "2797480"
  },
  {
    "text": "do is go into the user settings first before we go into the the RDP session settings so we have the terminal server",
    "start": "2797480",
    "end": "2804520"
  },
  {
    "text": "profile the session settings environment controls uh remote control all these",
    "start": "2804520",
    "end": "2810040"
  },
  {
    "text": "things you can set on users on the who actually have access to go into terminal",
    "start": "2810040",
    "end": "2815240"
  },
  {
    "text": "server whether it be remoted ministration or distributed",
    "start": "2815240",
    "end": "2820960"
  },
  {
    "text": "application um here you see I don't know why those are the",
    "start": "2821800",
    "end": "2828400"
  },
  {
    "text": "macros are doing that um here you actually see what a user profile looks like in the properties um imagine this",
    "start": "2828400",
    "end": "2835960"
  },
  {
    "text": "is exactly what you see with regular 2000 except you have the terminal server plugin um so you now have the terminal",
    "start": "2835960",
    "end": "2843200"
  },
  {
    "text": "Services profile the remote control the environment and also the sessions tabs",
    "start": "2843200",
    "end": "2848800"
  },
  {
    "text": "now the terminal server Services profile you can set up a user profile specific when they come in through terminal",
    "start": "2848800",
    "end": "2854160"
  },
  {
    "text": "server which might be different from what they get on the domain depending on how you have your uh directory set up on",
    "start": "2854160",
    "end": "2860119"
  },
  {
    "text": "that um you can also give them a different home directory um this is pretty critical when you start dealing with some of the tools that you can",
    "start": "2860119",
    "end": "2866319"
  },
  {
    "text": "Implement through n resource kit um you don't want to just say okay here's our",
    "start": "2866319",
    "end": "2872520"
  },
  {
    "text": "terminal server solution let's roll it out and you know let's not configure it properly you really need to go through",
    "start": "2872520",
    "end": "2878000"
  },
  {
    "text": "all of these and as mentioned earlier um here's the value to allow log on to terminal server the gentleman over here",
    "start": "2878000",
    "end": "2883880"
  },
  {
    "text": "mentioned earlier that you don't have to allow every everyone to log into it that's true but if I tell you what if",
    "start": "2883880",
    "end": "2889960"
  },
  {
    "text": "you take a 2,000 server and you go into the administrator and you uh you disable",
    "start": "2889960",
    "end": "2895599"
  },
  {
    "text": "that right there you take that check off you're not going to turn around and get on Console um you're going to have to",
    "start": "2895599",
    "end": "2901680"
  },
  {
    "text": "attach to it through a share you can't interactively log in it's uh it's been fixed if you go up through the patch",
    "start": "2901680",
    "end": "2907839"
  },
  {
    "text": "levels you'll be okay but I just want to warn you because i' I've done it more than once um the next slide um the",
    "start": "2907839",
    "end": "2917800"
  },
  {
    "text": "session this is this is people who actually get access to a terminal server session through RDP um there's a couple of things if you",
    "start": "2917800",
    "end": "2925960"
  },
  {
    "text": "want to set it the client or the RDP protocol itself um we'll we'll go on to",
    "start": "2925960",
    "end": "2932760"
  },
  {
    "text": "the r uh the client for the users but it's going to carry over later on on um",
    "start": "2932760",
    "end": "2938040"
  },
  {
    "text": "in a disconnected session if the line drops or if their power goes out and they they get dropped",
    "start": "2938040",
    "end": "2945240"
  },
  {
    "text": "they're no no longer on the internet um you can have terminal server just close all the applications they were running",
    "start": "2945240",
    "end": "2951640"
  },
  {
    "text": "and reset it so they won't take up any more system process usage because keep",
    "start": "2951640",
    "end": "2956920"
  },
  {
    "text": "alive to detect the situation or I'm sorry does it use keep alive to take the situation um on this no actually you can",
    "start": "2956920",
    "end": "2965880"
  },
  {
    "text": "on a disconnect I'm not sure that's I'm not sure the question how does it know that the user",
    "start": "2965880",
    "end": "2973200"
  },
  {
    "text": "isn't just Idol when you actually go into the um terminal server manager you",
    "start": "2973200",
    "end": "2979880"
  },
  {
    "text": "you can actually see where it it maintains State the specific thing that it keys on on that I'm not sure if it's a state table in the tcpip or what um",
    "start": "2979880",
    "end": "2987680"
  },
  {
    "text": "but there is a specific thing that you can go through and you can see if someone's idle or you can see if they're disconnected I'm not sure what the",
    "start": "2987680",
    "end": "2993559"
  },
  {
    "text": "mechanism is that uh terminal server uses we can talk more about that offline",
    "start": "2993559",
    "end": "2998599"
  },
  {
    "text": "um on the active session though if they're actually if they're typing and moving and doing things um you can set",
    "start": "2998599",
    "end": "3004760"
  },
  {
    "text": "it so that you know it's never going to log them out but if you have certain hours restricted that they only get to use it for an hour or two hours a day",
    "start": "3004760",
    "end": "3011119"
  },
  {
    "text": "for whatever reason you can change it here um and then if they you know if they're the kind of people that walk",
    "start": "3011119",
    "end": "3017000"
  },
  {
    "text": "away from their computer at lunch and don't log out you know they don't log out of the screen they don't lock it um",
    "start": "3017000",
    "end": "3023960"
  },
  {
    "text": "you can just you know an idle session you can just kill it um after a certain amount of time then once it's",
    "start": "3023960",
    "end": "3029760"
  },
  {
    "text": "disconnected then the the top one will kick in um otherwise if you just want to let it let it still be in there but you",
    "start": "3029760",
    "end": "3036760"
  },
  {
    "text": "know not allow someone to walk up to it and just start playing on your on your uh distributed application server you",
    "start": "3036760",
    "end": "3043000"
  },
  {
    "text": "can leave this in disconnected session to never and when they log back in as long as they",
    "start": "3043000",
    "end": "3049119"
  },
  {
    "text": "um there's a couple of things that that can cause it to mess up but normally if they log back in they they'll get that",
    "start": "3049119",
    "end": "3055119"
  },
  {
    "text": "session back um we'll go over what a few things will do to cause that to disrupt",
    "start": "3055119",
    "end": "3061480"
  },
  {
    "text": "um and then the session limit and reconnection um this is what the roaming feature is on Windows 2000 in didn't",
    "start": "3061480",
    "end": "3068319"
  },
  {
    "text": "have this you can either let them come back from the exact same IP address or if they want they can walk down the hall",
    "start": "3068319",
    "end": "3073880"
  },
  {
    "text": "and and log into another box or use an ActiveX terminal server client and connect again or at home whatever um if",
    "start": "3073880",
    "end": "3082280"
  },
  {
    "text": "you have from any client or from origin client and what",
    "start": "3082280",
    "end": "3088000"
  },
  {
    "text": "happens you have a a user pool behind a firewall and it looks like they're all coming from the same IP address um I've",
    "start": "3088000",
    "end": "3094559"
  },
  {
    "text": "get about 30% failure rate trying to connect back to that previous session um terminal server doesn't handle it quite",
    "start": "3094559",
    "end": "3100880"
  },
  {
    "text": "as well as it should and the next slide um one more click and the",
    "start": "3100880",
    "end": "3108480"
  },
  {
    "text": "environment um what you want to start at log on if if you if you're running it for the for them to do a distributed",
    "start": "3108480",
    "end": "3113680"
  },
  {
    "text": "application you would want to start this at log on and then you want to implement some of the other features to actually keep them from only being able to do",
    "start": "3113680",
    "end": "3120440"
  },
  {
    "text": "this ideally um these client devices this is something that terminal server 2000 did",
    "start": "3120440",
    "end": "3127240"
  },
  {
    "text": "that nt4 didn't do by default um it allows you to connect to client drives at log on um it connect to client",
    "start": "3127240",
    "end": "3135000"
  },
  {
    "text": "printers at log on it it Maps them it's a St Standalone client that Maps it internally you don't have to add a third",
    "start": "3135000",
    "end": "3140720"
  },
  {
    "text": "party product with NT you had to go out and buy another product if you wanted to use a network printer through a terminal",
    "start": "3140720",
    "end": "3147319"
  },
  {
    "text": "server session um one thing you'll notice on these client devices is the",
    "start": "3147319",
    "end": "3154079"
  },
  {
    "text": "reason terminal server can do it is because it it had now supports virtual channels um nt4 didn't do that um that's",
    "start": "3154079",
    "end": "3163079"
  },
  {
    "text": "why you had to go out and buy the plugins one thing with the virtual channels though is you'll see clear text",
    "start": "3163079",
    "end": "3168880"
  },
  {
    "text": "go across the network not a lot of clear text so if I",
    "start": "3168880",
    "end": "3175200"
  },
  {
    "text": "cre something do the local computer which I wrote the remote computer the",
    "start": "3175200",
    "end": "3181440"
  },
  {
    "text": "pretter Comm communication is uncried no that is not what happens what happens is",
    "start": "3181440",
    "end": "3188079"
  },
  {
    "text": "when a virtual channel is established in terminal server it has to negotiate that connection so it sends the the name of",
    "start": "3188079",
    "end": "3195359"
  },
  {
    "text": "the shares and it also sends the computer name in clear text it then negotiates the encryption and then at",
    "start": "3195359",
    "end": "3200720"
  },
  {
    "text": "that point it's secure so it's it doesn't release anything more than what a ping minus a would release",
    "start": "3200720",
    "end": "3207040"
  },
  {
    "text": "or if someone knew that you were sharing uh a printer named you know Lex Mark but",
    "start": "3207040",
    "end": "3212920"
  },
  {
    "text": "everything within the channel once that established connection is made is then encrypted at whatever level you have can",
    "start": "3212920",
    "end": "3219200"
  },
  {
    "text": "do traffic flow analysis sometimes yes and I can uh pick up for example if I",
    "start": "3219200",
    "end": "3224760"
  },
  {
    "text": "know that the next Mar driver is broken in some way can say well that's a",
    "start": "3224760",
    "end": "3230680"
  },
  {
    "text": "possible a opening for yeah I tell you what why don't don't",
    "start": "3230680",
    "end": "3236640"
  },
  {
    "text": "we talk about that a little bit later though okay but you're right it the driver issue could be however if you",
    "start": "3236640",
    "end": "3244680"
  },
  {
    "text": "implement other security measures in terminal server to prevent that trojen of the driver then we then we have a a",
    "start": "3244680",
    "end": "3251040"
  },
  {
    "text": "solution that's already in place so if you don't Implement terminal server correctly yeah you could put a Trojan",
    "start": "3251040",
    "end": "3256400"
  },
  {
    "text": "for that driver or or something else but uh you know that's why we're here we're here to learn how to secure it properly",
    "start": "3256400",
    "end": "3263680"
  },
  {
    "text": "next slide remote control um this allows you to",
    "start": "3263680",
    "end": "3269720"
  },
  {
    "text": "watch a desktop or take over a desktop session um if you want to you can you",
    "start": "3269720",
    "end": "3276000"
  },
  {
    "text": "can have a user ask you if it's all right um I don't know why is an",
    "start": "3276000",
    "end": "3282160"
  },
  {
    "text": "administrator you would want the user to let you take over his session or watch him um one thing that this is this could",
    "start": "3282160",
    "end": "3289480"
  },
  {
    "text": "actually come into play on the security side is if you've got someone who is you suspect of doing malicious activity",
    "start": "3289480",
    "end": "3296920"
  },
  {
    "text": "depending on the legal impl implications your security policy and uh the type of",
    "start": "3296920",
    "end": "3303000"
  },
  {
    "text": "organization you are you could actually do remote control monitoring of his active sessions and and record those",
    "start": "3303000",
    "end": "3308640"
  },
  {
    "text": "with the third party software on your box so you could play it back later if you wanted to now obviously you just",
    "start": "3308640",
    "end": "3313839"
  },
  {
    "text": "can't go out and do that um without thinking if there's any type of implications legally that's going to you",
    "start": "3313839",
    "end": "3319880"
  },
  {
    "text": "know come against you because um you know one party monitoring may not be legal in your state or um it may be his",
    "start": "3319880",
    "end": "3327319"
  },
  {
    "text": "his Hardware so there's all kinds of things that he could argue on the legal side next sry before we move on I",
    "start": "3327319",
    "end": "3334200"
  },
  {
    "text": "thought I ATT that we've seen that lock up sometimes not only that if you allow",
    "start": "3334200",
    "end": "3339359"
  },
  {
    "text": "that through a firewall espe if you have a consultant you you want to consult work on your server right when that",
    "start": "3339359",
    "end": "3346000"
  },
  {
    "text": "session locks it will also lock up the stateful inspection on your firewall you have to reset theall really they back",
    "start": "3346000",
    "end": "3353440"
  },
  {
    "text": "which firewall is this have you used it with more than one firewall product or just this one",
    "start": "3353440",
    "end": "3360000"
  },
  {
    "text": "that's okay yeah I I I'll uh go into that a little bit more too cuz that that may be interesting to know that may be a",
    "start": "3360000",
    "end": "3367039"
  },
  {
    "text": "a bug that needs to be worked out it' be a good way to knock out St inspection and get into attack",
    "start": "3367039",
    "end": "3372559"
  },
  {
    "text": "show Deni a service your own network Singapore we'll see we can figure out um",
    "start": "3372559",
    "end": "3378400"
  },
  {
    "text": "now there's terminal Services configuration we kind of went over the the client configuration the user",
    "start": "3378400",
    "end": "3383720"
  },
  {
    "text": "configuration not necessarily the client but the user user configuration tabs um",
    "start": "3383720",
    "end": "3389480"
  },
  {
    "text": "these follow essentially the same uh flow except you have the right to",
    "start": "3389480",
    "end": "3395359"
  },
  {
    "text": "override whatever the client's doing so you can override the client's setting if he sets his encryption at low you can",
    "start": "3395359",
    "end": "3401680"
  },
  {
    "text": "override it force it to High um if he says that you um if for instance he said",
    "start": "3401680",
    "end": "3407039"
  },
  {
    "text": "that he wanted to um cash bit Maps or not cash bit Maps locally you can make",
    "start": "3407039",
    "end": "3413319"
  },
  {
    "text": "him do it anyway um go ahead and click the next",
    "start": "3413319",
    "end": "3418799"
  },
  {
    "text": "slide now now terminal Services configuration",
    "start": "3419920",
    "end": "3425720"
  },
  {
    "text": "um you can see here when you go into this on the MMC you have connections and",
    "start": "3425720",
    "end": "3430799"
  },
  {
    "text": "you have server settings the connections deal with the RDP uh protocol itself or if you have",
    "start": "3430799",
    "end": "3437000"
  },
  {
    "text": "metaframe it'll have the Ia in there if you've added it um now the server settings themselves you have two modes",
    "start": "3437000",
    "end": "3443839"
  },
  {
    "text": "here application and remote now you have to change this through the add install",
    "start": "3443839",
    "end": "3449440"
  },
  {
    "text": "uh Windows component um the rest of these you can change at will essentially um delete",
    "start": "3449440",
    "end": "3456559"
  },
  {
    "text": "temporary folders on exit obviously you really want to do that um uh you also",
    "start": "3456559",
    "end": "3462559"
  },
  {
    "text": "want to use temporary folders per session and these are just security measures that you kind of want to put in place um now internet connector",
    "start": "3462559",
    "end": "3469680"
  },
  {
    "text": "licensing that depends on which mode you're in and and your licensing that you've actually purchased for Microsoft",
    "start": "3469680",
    "end": "3475240"
  },
  {
    "text": "and your TLS and those types of things Active Desktop you probably want to",
    "start": "3475240",
    "end": "3481160"
  },
  {
    "text": "disable that I mean that's going to take up a lot of resources across the network it's going to take up a lot of resources on the server um I don't see why someone",
    "start": "3481160",
    "end": "3489200"
  },
  {
    "text": "would need that specifically um there may be cases from a product or an",
    "start": "3489200",
    "end": "3494440"
  },
  {
    "text": "application or a development point of view um that may affect that decision",
    "start": "3494440",
    "end": "3499720"
  },
  {
    "text": "and permission compatibility um this is kind of odd here because what it does is either it",
    "start": "3499720",
    "end": "3505559"
  },
  {
    "text": "gives you straight Windows 2000 user permissions or it allows you to default back to the",
    "start": "3505559",
    "end": "3511119"
  },
  {
    "text": "nt4 um which are a little looser in the registry this is because some of the applications that you may be running in",
    "start": "3511119",
    "end": "3517200"
  },
  {
    "text": "distributed application mode they don't work well with uh 2000 um they need to",
    "start": "3517200",
    "end": "3523000"
  },
  {
    "text": "have a little more freedom for these users to be able to interact and and do the things they need to do so this again",
    "start": "3523000",
    "end": "3529400"
  },
  {
    "text": "unless you unless you know specifically that the that the application doesn't work I would set it at windows ,000",
    "start": "3529400",
    "end": "3536480"
  },
  {
    "text": "users and then if you find out that there are problems I would set it down but I would raise the bar high in the",
    "start": "3536480",
    "end": "3541520"
  },
  {
    "text": "beginning so that if there is a problem you can drop it down to solve it because if you drop it low and then you change",
    "start": "3541520",
    "end": "3547079"
  },
  {
    "text": "it later there's going to be a lot to pay for that yes are these default",
    "start": "3547079",
    "end": "3552119"
  },
  {
    "text": "terminal server settings or they suggested um",
    "start": "3552119",
    "end": "3557240"
  },
  {
    "text": "actually the permissions compatibility is what you set up when you actually decide whether or not you want to go",
    "start": "3558160",
    "end": "3563559"
  },
  {
    "text": "applicational or remote if you go remote Administration mode only that uh the",
    "start": "3563559",
    "end": "3569119"
  },
  {
    "text": "permission compatibility I don't even think is a is something that you can set until you get to this point um the",
    "start": "3569119",
    "end": "3575680"
  },
  {
    "text": "temporary folders on exit but out of the box right right",
    "start": "3575680",
    "end": "3582720"
  },
  {
    "text": "right I yeah I know what you're asking hang on it's been a while since I've done one out of the box um I think the",
    "start": "3582720",
    "end": "3588880"
  },
  {
    "text": "internet the Active Desktop isn't abl by default but the rest of them I believe are said at",
    "start": "3588880",
    "end": "3594280"
  },
  {
    "text": "yes next slide okay now these were the you click it one",
    "start": "3594280",
    "end": "3600400"
  },
  {
    "text": "more time these are the same essentially the same tabs that we saw on the user profiles except this is global for the",
    "start": "3600400",
    "end": "3607200"
  },
  {
    "text": "entire box so if you have a small amount of users or you want every user to have",
    "start": "3607200",
    "end": "3612240"
  },
  {
    "text": "the same settings you can pretty much go through here and on all these different tabs you can override um you can",
    "start": "3612240",
    "end": "3619240"
  },
  {
    "text": "override any client settings or anything that's in the the local client profile",
    "start": "3619240",
    "end": "3624359"
  },
  {
    "text": "so this makes the administration and management a little bit easier so these will over whatever Prof",
    "start": "3624359",
    "end": "3631880"
  },
  {
    "text": "if you select the if you select the box to do that",
    "start": "3631880",
    "end": "3637160"
  },
  {
    "text": "um can you I can I actually have it on this box",
    "start": "3637160",
    "end": "3643200"
  },
  {
    "text": "I mean we could go through it more but for instance What's that show the end",
    "start": "3643200",
    "end": "3648319"
  },
  {
    "text": "yeah if we have some time at the end we can go through those in more detail but you can actually there's a there's a value box that you check you either",
    "start": "3648319",
    "end": "3655000"
  },
  {
    "text": "override or you allow the client to the client settings specific and it's not",
    "start": "3655000",
    "end": "3660640"
  },
  {
    "text": "necessarily the remote client but it's that client profile that you have set up um the encryption level let's go",
    "start": "3660640",
    "end": "3667559"
  },
  {
    "text": "ahead and talk about that real quick um in nt4 it was low medium and high in",
    "start": "3667559",
    "end": "3673039"
  },
  {
    "text": "2000 it's low medium and High completely different things though um in NT low",
    "start": "3673039",
    "end": "3680119"
  },
  {
    "text": "basically used encryption to send your credentials over and after that it was it wasn't encrypted um medium it was",
    "start": "3680119",
    "end": "3686799"
  },
  {
    "text": "everything you sent was encrypted um but things coming back they weren't and high it it stepped it up",
    "start": "3686799",
    "end": "3694880"
  },
  {
    "text": "to um 128bit encrypted both ways now on 2000 that's completely different um low",
    "start": "3694880",
    "end": "3702400"
  },
  {
    "text": "medium and high uh deal with uh the bit value and also um a little bit on the",
    "start": "3702400",
    "end": "3709599"
  },
  {
    "text": "the transfer of data now low you don't want to do because it does only encrypts the client side data that sending so if",
    "start": "3709599",
    "end": "3716559"
  },
  {
    "text": "the server sends a response back um that could be an issue medium it's going to go 56 bit both ways and high it's going",
    "start": "3716559",
    "end": "3723960"
  },
  {
    "text": "to go 128bit now there is a there is a time when this can drop down to 40 bit that's if you use a legacy nt4 client so",
    "start": "3723960",
    "end": "3732240"
  },
  {
    "text": "if you still have terminal server client that's an NT 4.0 and you're connecting to a 2000 your your 2,000 box have",
    "start": "3732240",
    "end": "3738559"
  },
  {
    "text": "dropped down to 40 bit so that may be something that you want to consider um but isn't there a way to say if the C",
    "start": "3738559",
    "end": "3745559"
  },
  {
    "text": "does suppos 56 or 128 oh absolutely that's that's a that's a it's like in 5",
    "start": "3745559",
    "end": "3751760"
  },
  {
    "text": "minutes okay there's a there's actual tool that'll let you set a version number and everything and that's when you can log it by IP address and host",
    "start": "3751760",
    "end": "3758520"
  },
  {
    "text": "name um and that's the resource kit utility if",
    "start": "3758520",
    "end": "3763318"
  },
  {
    "text": "you're depends on how you make the client if you make that client from that after you've added that encryption level",
    "start": "3766680",
    "end": "3772279"
  },
  {
    "text": "then then it may uh it may increase that I haven't tried that but if the it",
    "start": "3772279",
    "end": "3777640"
  },
  {
    "text": "doesn't matter if the client was made prior to that encryption level pack so and plus on the client side if it's if",
    "start": "3777640",
    "end": "3784000"
  },
  {
    "text": "it's set to go to 40 bit and you don't have it overriding it then you're going to have the issue anyway next",
    "start": "3784000",
    "end": "3791880"
  },
  {
    "text": "slide okay now these are the these are the tools that you can go out for Microsoft and they're actually on that CD um unfortunately the read file didn't",
    "start": "3792799",
    "end": "3800319"
  },
  {
    "text": "get transferred over but if you look under the the directory for Eric and myself",
    "start": "3800319",
    "end": "3805880"
  },
  {
    "text": "these tools that we talk about today are actually in there with the exception of I believe two or three only because I",
    "start": "3805880",
    "end": "3813160"
  },
  {
    "text": "couldn't find them free on the site and I didn't want to violate any copyright laws um",
    "start": "3813160",
    "end": "3818799"
  },
  {
    "text": "absc LS report LS view TS regg TS spur next slide winstat Rd clip um",
    "start": "3818799",
    "end": "3828680"
  },
  {
    "text": "capacity planning tool for the distributed application mode which is very handy and then the drivve map",
    "start": "3828680",
    "end": "3834279"
  },
  {
    "text": "serve. EXE and that's that's it okay absc what is absc okay this",
    "start": "3834279",
    "end": "3842079"
  },
  {
    "text": "allows you to actually limit people from doing this pipe up admin um why should you give",
    "start": "3842079",
    "end": "3848480"
  },
  {
    "text": "someone interactive console access on a server right when all he's doing is is",
    "start": "3848480",
    "end": "3854039"
  },
  {
    "text": "coming in and using something like a net objects for a team HTML type of project",
    "start": "3854039",
    "end": "3859440"
  },
  {
    "text": "or something right he does all he needs to do is run that client he doesn't need to be opening up internet explore he",
    "start": "3859440",
    "end": "3865039"
  },
  {
    "text": "doesn't need to be in ing opening up a command line he he doesn't need to be you know trying to do uh overflows and",
    "start": "3865039",
    "end": "3871559"
  },
  {
    "text": "that type of thing it actually allows you to put strong restrictions on what the user can",
    "start": "3871559",
    "end": "3876680"
  },
  {
    "text": "perform um the default settings are to allow none so if you activate it you can",
    "start": "3876680",
    "end": "3881960"
  },
  {
    "text": "you can set it and it'll allow no applications to be run um you'll see though that there's some when you when",
    "start": "3881960",
    "end": "3887839"
  },
  {
    "text": "you run this utility there's some that's actually already included in there that you may want to take out like cmd.exe",
    "start": "3887839",
    "end": "3893559"
  },
  {
    "text": "for instance um um it allows a tracking of processes to",
    "start": "3893559",
    "end": "3899559"
  },
  {
    "text": "ensure adequate files are authorized um if if you let someone run Internet Explorer and they have to send an email",
    "start": "3899559",
    "end": "3906640"
  },
  {
    "text": "Internet Explorer is going to call out Outlook well there's other applications that do that too sometimes it's not",
    "start": "3906640",
    "end": "3913200"
  },
  {
    "text": "quite so obvious so what you can do is you can put in that application run it a few times this tool will track what",
    "start": "3913200",
    "end": "3920079"
  },
  {
    "text": "other files it's calling on and you can add these to the profile and best of all this this is completely free you go out",
    "start": "3920079",
    "end": "3927039"
  },
  {
    "text": "to ftp.com yes but as far as I know it doesn't stand for uh n create process",
    "start": "3927039",
    "end": "3935200"
  },
  {
    "text": "which means that basically if you if you offer a language like basic",
    "start": "3935200",
    "end": "3941559"
  },
  {
    "text": "oras applications you can create processes which circum it depends on which applications",
    "start": "3941559",
    "end": "3947799"
  },
  {
    "text": "you're allowing appsc to run but if those applications can can call on it",
    "start": "3947799",
    "end": "3953440"
  },
  {
    "text": "yes absolutely there there is a tool I sure what it's called but there's a well",
    "start": "3953440",
    "end": "3959079"
  },
  {
    "text": "there there's some third party products one is like secure. exe which actually does a hash of that and then it doesn't",
    "start": "3959079",
    "end": "3965440"
  },
  {
    "text": "allow other things but it still wouldn't circumvent what you're talking about running an actual script inside of the",
    "start": "3965440",
    "end": "3970799"
  },
  {
    "text": "application yeah um here you see the actual opening of this tool um the",
    "start": "3970799",
    "end": "3977599"
  },
  {
    "text": "security is either enabled or disabled by default if you open this up when you load it it's going to be disabled and",
    "start": "3977599",
    "end": "3983279"
  },
  {
    "text": "these are the applications that are going to be in there um you can take",
    "start": "3983279",
    "end": "3988680"
  },
  {
    "text": "some of these out I don't know how that's going to affect it um but if you click on",
    "start": "3988680",
    "end": "3994559"
  },
  {
    "text": "ADD next if you click on ADD you can see where you actually enter a path of an",
    "start": "3994559",
    "end": "4001279"
  },
  {
    "text": "application to be authorized and then it'll it'll start tracking that as you run it so that's when you get to find",
    "start": "4001279",
    "end": "4007359"
  },
  {
    "text": "out what other applications it calls on um now Eric did mention there's another third party product that does this very",
    "start": "4007359",
    "end": "4014079"
  },
  {
    "text": "similar to this except well let me back up a second Microsoft",
    "start": "4014079",
    "end": "4020720"
  },
  {
    "text": "does this um by tracking with the location of the file okay so if it if it",
    "start": "4020720",
    "end": "4026680"
  },
  {
    "text": "runs notepad under win um notepad.exe um if for some reason they have privileges",
    "start": "4026680",
    "end": "4033240"
  },
  {
    "text": "to replace that file then they could put a Trojan there too um there's no hash that it checks per se now in uh uh I",
    "start": "4033240",
    "end": "4042319"
  },
  {
    "text": "don't even remember what it's called they went across the m one of the well SEC secure exe which is from a Swedish",
    "start": "4042319",
    "end": "4049599"
  },
  {
    "text": "company they actually have the same thing it's it looks very similar to this but it actually adds a it does an MP5",
    "start": "4049599",
    "end": "4057319"
  },
  {
    "text": "check sum of of the application or the the binary and the dll and stores it in",
    "start": "4057319",
    "end": "4062720"
  },
  {
    "text": "a table so it tracks it so that if somebody goes and modifies it puts a Trojan there it's not going to run it",
    "start": "4062720",
    "end": "4068079"
  },
  {
    "text": "because it doesn't match the signature and also that particular third party product if you move it out of the",
    "start": "4068079",
    "end": "4074200"
  },
  {
    "text": "directory it was in and put it somewhere else it's still going to know where that file is and it's still going to run the",
    "start": "4074200",
    "end": "4079279"
  },
  {
    "text": "one that you call um the only time that won't work is if you took and took your notepad with the exact same check sum",
    "start": "4079279",
    "end": "4086359"
  },
  {
    "text": "and put it in the place of the old one obviously it's going to call on yours that's where it's going to look first um",
    "start": "4086359",
    "end": "4093760"
  },
  {
    "text": "Now with uh with the new Windows product that's that's going to be built in so",
    "start": "4093760",
    "end": "4099040"
  },
  {
    "text": "when you do app SEC with it they're actually you know they're taking um a",
    "start": "4099040",
    "end": "4104318"
  },
  {
    "text": "cryptographic little check of that application so you can't just substitute it by name so that's that's one thing",
    "start": "4104319",
    "end": "4110920"
  },
  {
    "text": "that this still doesn't do yet so if it's a very very critical thing for you and you think someone's going to go out",
    "start": "4110920",
    "end": "4116480"
  },
  {
    "text": "there and put Trojans you may want to look at a third party product but I'm focusing only on the terminal server and",
    "start": "4116480",
    "end": "4123400"
  },
  {
    "text": "the Microsoft products today next",
    "start": "4123400",
    "end": "4127960"
  },
  {
    "text": "one LS report and LS view I don't know how how much of a you know security nature these are going to be for you but",
    "start": "4128480",
    "end": "4135159"
  },
  {
    "text": "BAS basically there are utilities that you can run across your domain you can get the report of the licensing server",
    "start": "4135159",
    "end": "4140560"
  },
  {
    "text": "and view the different licensing servers that are out there to authorize these clients to people as they connect in a",
    "start": "4140560",
    "end": "4146159"
  },
  {
    "text": "distributed application mode um next",
    "start": "4146159",
    "end": "4152279"
  },
  {
    "text": "slide those two applications I don't believe are on your dis by the way the TL uh serve um TS regge and this is a",
    "start": "4154600",
    "end": "4163318"
  },
  {
    "text": "registry setting tool for the client side um when it first came out it probably",
    "start": "4163319",
    "end": "4168920"
  },
  {
    "text": "had some some level of impact um I don't I don't see this having as",
    "start": "4168920",
    "end": "4175238"
  },
  {
    "text": "big of an impact today because of the ActiveX client that they have out um but this actually let you go out and modify",
    "start": "4175239",
    "end": "4181080"
  },
  {
    "text": "the the client side registry um for performance measures um not not a whole",
    "start": "4181080",
    "end": "4186758"
  },
  {
    "text": "lot on the security side here but uh for caching and and some miscellaneous types of items um it's pretty high level and",
    "start": "4186759",
    "end": "4193880"
  },
  {
    "text": "like I said with the with the TAC client probably doesn't come into play as much as it could have um it was kind of",
    "start": "4193880",
    "end": "4200080"
  },
  {
    "text": "released and then they upgraded and there's not a real reason for it TS ver.",
    "start": "4200080",
    "end": "4206000"
  },
  {
    "text": "exe that's that's a great application to have um if you don't if you're not",
    "start": "4206000",
    "end": "4211080"
  },
  {
    "text": "running this when you should be along with appc um this gives you explicit",
    "start": "4211080",
    "end": "4216199"
  },
  {
    "text": "controls on what clients can connect and it does this by build number um it also",
    "start": "4216199",
    "end": "4222159"
  },
  {
    "text": "allows you to give a customized message to the client who's connected to you so for instance um if you're going to",
    "start": "4222159",
    "end": "4230719"
  },
  {
    "text": "configure it to only accept you know 20 2500 build number and above right and a",
    "start": "4230719",
    "end": "4237600"
  },
  {
    "text": "hacker's out there on the Internet or someone's on the internet trying to to enumerate your domains or just log in or",
    "start": "4237600",
    "end": "4243040"
  },
  {
    "text": "just see if see if it responds and they connect with an older version um not only do they get logged by host name and",
    "start": "4243040",
    "end": "4250239"
  },
  {
    "text": "IP address um but they also will have a message pop up",
    "start": "4250239",
    "end": "4255840"
  },
  {
    "text": "if you want you could put in the message something you know obscure like um terminal server uh has died you know or",
    "start": "4255840",
    "end": "4264760"
  },
  {
    "text": "this uh you've connected to a dead a port that is no longer listening or no longer in service you know just",
    "start": "4264760",
    "end": "4270840"
  },
  {
    "text": "something that your average person would just kind of walk away from now it's not going to do a lot to someone who knows what they're doing because they're going",
    "start": "4270840",
    "end": "4276640"
  },
  {
    "text": "to know that you've implemented this tool but it's it's kind of nice just a turnaway message you know and if you",
    "start": "4276640",
    "end": "4282560"
  },
  {
    "text": "want you could put a warning you know this authorized you only that gives you some level of legal grounds in the event",
    "start": "4282560",
    "end": "4288719"
  },
  {
    "text": "that they do intrude into your uh Network and remember since it's a you know it's a full TCP connection they're",
    "start": "4288719",
    "end": "4294920"
  },
  {
    "text": "not spoofing the IP but they're probably not coming from their own either um and",
    "start": "4294920",
    "end": "4300080"
  },
  {
    "text": "it can be turned on or off easily next slide as you see here um basically this",
    "start": "4300080",
    "end": "4305520"
  },
  {
    "text": "is this is like the second screen um the the client versions on the left are just",
    "start": "4305520",
    "end": "4311239"
  },
  {
    "text": "the default ones that are on when you actually open up the application but you can you can add anyone and you could",
    "start": "4311239",
    "end": "4317679"
  },
  {
    "text": "allow higher than um you can allow only a real old client if that's what you",
    "start": "4317679",
    "end": "4323199"
  },
  {
    "text": "want for whatever reason um you can allow a specific one or you can disallow specific ones um it's it's really a good",
    "start": "4323199",
    "end": "4330800"
  },
  {
    "text": "tool for that um if you you know that's just obviously a screenshot but if you",
    "start": "4330800",
    "end": "4336440"
  },
  {
    "text": "go next that's where you configure the message yes that's a very good history",
    "start": "4336440",
    "end": "4342639"
  },
  {
    "text": "make sure they one people to use or using versions true true because it's",
    "start": "4342639",
    "end": "4350920"
  },
  {
    "text": "you know question whe whether it really has security implications because uh",
    "start": "4350920",
    "end": "4356080"
  },
  {
    "text": "other if the protocol allows a client to downgrade encryption level then the",
    "start": "4356080",
    "end": "4361800"
  },
  {
    "text": "protocol allows also a higher version to to lower the encryption l so I can I can",
    "start": "4361800",
    "end": "4368760"
  },
  {
    "text": "take forget I mean you're going to you're going to want to set that in your settings so that it it overrides the",
    "start": "4368760",
    "end": "4374040"
  },
  {
    "text": "client settings know yeah out of the box but out of the box someone's not going to be using this",
    "start": "4374040",
    "end": "4379840"
  },
  {
    "text": "either okay question is whe How much of the security is implemented the protocol",
    "start": "4379840",
    "end": "4385280"
  },
  {
    "text": "and how much of the client if I write my own client how how how far will I get",
    "start": "4385280",
    "end": "4390719"
  },
  {
    "text": "will I be able to force the server to an un encrypted connection if you have to unencrypted not not on",
    "start": "4390719",
    "end": "4398239"
  },
  {
    "text": "3389 no when is the version pass it passed at",
    "start": "4398239",
    "end": "4404440"
  },
  {
    "text": "the beginning of after clear it",
    "start": "4404440",
    "end": "4409560"
  },
  {
    "text": "theel um on the version number yeah um well",
    "start": "4409560",
    "end": "4415760"
  },
  {
    "text": "it's not past there's not like a clear text here as my version here's this it's like it's like SSH I mean it's",
    "start": "4415760",
    "end": "4421440"
  },
  {
    "text": "essentially it's encrypted but it just hasn't established and handed off the go out once um as far as where the where",
    "start": "4421440",
    "end": "4429000"
  },
  {
    "text": "the version key is yes um I'm not specifically sure",
    "start": "4429000",
    "end": "4435760"
  },
  {
    "text": "if that's the the very first thing that's sent out once that connection is established or if it's the second thing",
    "start": "4435760",
    "end": "4441920"
  },
  {
    "text": "um but guess the question is where does this really kick in oh this kicks in right before they can log even log in",
    "start": "4441920",
    "end": "4447920"
  },
  {
    "text": "when they launch the client and it goes against the server the server says oh you have the wrong version and it just automatically drops them okay so no they",
    "start": "4447920",
    "end": "4454480"
  },
  {
    "text": "won't get even they won't even get to the login part um they'll just automatically get dropped and then that",
    "start": "4454480",
    "end": "4459800"
  },
  {
    "text": "the error message will come up to them you know I'm thinking WR a routine that basically uh goes it goes through",
    "start": "4459800",
    "end": "4465600"
  },
  {
    "text": "different version numbers until it brutes it yeah absolutely that's a that that would be a tool that you would use",
    "start": "4465600",
    "end": "4471840"
  },
  {
    "text": "to defeat this um this isn't something that you should rely on to secure your terminal server I mean this is just a",
    "start": "4471840",
    "end": "4478560"
  },
  {
    "text": "tool to raise the bar okay um if if all you're doing is is allowing people to",
    "start": "4478560",
    "end": "4484360"
  },
  {
    "text": "come in on Terminal from the internet and that's all you're doing and and you're using tsv you deserve what's coming to you let",
    "start": "4484360",
    "end": "4491679"
  },
  {
    "text": "me tell you um you should be using you know uh IPC you should be using ACL on",
    "start": "4491679",
    "end": "4497199"
  },
  {
    "text": "your routers you should be you you can't rely on just one application but this is something that you you should add in",
    "start": "4497199",
    "end": "4503480"
  },
  {
    "text": "there just to increase the level of difficulty next um wind station monitor",
    "start": "4503480",
    "end": "4510920"
  },
  {
    "text": "um this basically this is like a a real stripped",
    "start": "4510920",
    "end": "4516280"
  },
  {
    "text": "down version of uh terminal server manager where you actually see people who are connected what their state",
    "start": "4516280",
    "end": "4523120"
  },
  {
    "text": "status is where they're connected from um what this doesn't do is this doesn't tell you what processes they're running",
    "start": "4523120",
    "end": "4529159"
  },
  {
    "text": "or anything like this but if you fire this up on the server um just so that",
    "start": "4529159",
    "end": "4534600"
  },
  {
    "text": "you can watch who's on and off it's a little less intensive on the resources so it saves you you know couple one mega",
    "start": "4534600",
    "end": "4542199"
  },
  {
    "text": "ram I believe can you use this on your Cent workst such that from my client I can run that and see running work server",
    "start": "4542199",
    "end": "4549400"
  },
  {
    "text": "um actually I don't there's no way to force this against another server um you talk about in the terminal server window",
    "start": "4549400",
    "end": "4556800"
  },
  {
    "text": "no no no okay yeah no there's there's no way now you may be able to to pull the terminal server tools on your local box",
    "start": "4556800",
    "end": "4562600"
  },
  {
    "text": "and then push it out um because there's some specific utilities that that uh load at the command prompt level and",
    "start": "4562600",
    "end": "4568600"
  },
  {
    "text": "then you could authenticate across push for specific domains and and terminal servers and maybe query it from that",
    "start": "4568600",
    "end": "4574880"
  },
  {
    "text": "perspective but this tool won't let you do that next",
    "start": "4574880",
    "end": "4580000"
  },
  {
    "text": "slide um steps St hard the host um and you",
    "start": "4580400",
    "end": "4586800"
  },
  {
    "text": "know the network um I'm going to go ahead and let Eric step in with me on",
    "start": "4586800",
    "end": "4591880"
  },
  {
    "text": "these um what we went through were just kind of what you have to do on the",
    "start": "4591880",
    "end": "4597120"
  },
  {
    "text": "server side but that's not what you that's not all you should do um I don't",
    "start": "4597120",
    "end": "4602920"
  },
  {
    "text": "know how many people were in the um hacking 2000 class okay I if you notice there was a",
    "start": "4602920",
    "end": "4611040"
  },
  {
    "text": "one of the one of the instructors is adamant against terminal server well he he's not adamant against it specifically",
    "start": "4611040",
    "end": "4617760"
  },
  {
    "text": "but about having people stick it out on the internet on Port 3389 and listening I mean that's like I mean that's as",
    "start": "4617760",
    "end": "4624320"
  },
  {
    "text": "insane as someone sits sticking PC anywhere out there and have it listening and then not do anything at the host",
    "start": "4624320",
    "end": "4629360"
  },
  {
    "text": "level or the network level um so once you've gone through and you've already hardened the host the users and used the",
    "start": "4629360",
    "end": "4635280"
  },
  {
    "text": "registry or the resource kit tools what you need to do is you need to implement some type of security measures on the network whether it be through the",
    "start": "4635280",
    "end": "4641719"
  },
  {
    "text": "firewall through the routers using acl's use IP locally on the host you know specify which Port specify um which IP",
    "start": "4641719",
    "end": "4649600"
  },
  {
    "text": "address lock that down don't just let anybody come in from anywhere to try to knock up against the door um you'll see",
    "start": "4649600",
    "end": "4656920"
  },
  {
    "text": "a couple of slides at the end there are there are issues with terminal server There's issues with all products so you",
    "start": "4656920",
    "end": "4662199"
  },
  {
    "text": "want to stop as many people as you can from even getting to it okay um",
    "start": "4662199",
    "end": "4667360"
  },
  {
    "text": "EFS um in the case of the the first lab I showed you um where the guy was able",
    "start": "4667360",
    "end": "4673400"
  },
  {
    "text": "to grab the data well encryption at a file level certainly would have helped there too I'm not sure I had that listed but that obviously",
    "start": "4673400",
    "end": "4679920"
  },
  {
    "text": "would have solved the problem there also so you need to understand that defense defense in depth is really the only way",
    "start": "4679920",
    "end": "4686199"
  },
  {
    "text": "to truly be secure so you need to secure these things all the way through from the file system all the way out to the",
    "start": "4686199",
    "end": "4692560"
  },
  {
    "text": "you know transport levels if you can um now on terminal server and distribute",
    "start": "4692560",
    "end": "4699040"
  },
  {
    "text": "application mode well with 2000 you you can't just say okay here's your local policy or here's your group policy you",
    "start": "4699040",
    "end": "4704960"
  },
  {
    "text": "got to take this that cluster you got to put it in its own organizational unit you have to do specific settings for",
    "start": "4704960",
    "end": "4710639"
  },
  {
    "text": "those people when they come in there okay different from what the network may be you got to lock them down because",
    "start": "4710639",
    "end": "4715840"
  },
  {
    "text": "what if somebody does get on that box it's not an authorized user well you don't want them to transfer the same",
    "start": "4715840",
    "end": "4720960"
  },
  {
    "text": "rights against the other other units in your um domain so what you you got to do is you got to you got to properly um",
    "start": "4720960",
    "end": "4727880"
  },
  {
    "text": "treat everything as an object even in terminal server as a completely separate object from them if they were local on",
    "start": "4727880",
    "end": "4733159"
  },
  {
    "text": "your network oh and Group Policy obviously you know",
    "start": "4733159",
    "end": "4740000"
  },
  {
    "text": "if you have a you know if you're going to have four or five different distributed applications up there um you",
    "start": "4740000",
    "end": "4745960"
  },
  {
    "text": "probably want to put it on separate servers one thing I didn't not mention that I did have on the slide was the",
    "start": "4745960",
    "end": "4751560"
  },
  {
    "text": "capacity planning tool it's on that CD and that actually allows you if you're going to implement terminal server in in",
    "start": "4751560",
    "end": "4757920"
  },
  {
    "text": "a distributed application mode it allows you to put different users uh anywhere from just a normal user who who might",
    "start": "4757920",
    "end": "4764440"
  },
  {
    "text": "use three to five Megs of memory up to a power user who might run 10 or so um it allows you to determine how much RAM how",
    "start": "4764440",
    "end": "4771000"
  },
  {
    "text": "much CPU that you're going to need to be able to to properly serve these people",
    "start": "4771000",
    "end": "4776280"
  },
  {
    "text": "um and then the local policy go ahead yeah local policies let's not forget",
    "start": "4776280",
    "end": "4781440"
  },
  {
    "text": "about the basic principles of running Windows products you know you need to set account lockout you need to set",
    "start": "4781440",
    "end": "4786760"
  },
  {
    "text": "things like password complexity test your passwords apply the",
    "start": "4786760",
    "end": "4792760"
  },
  {
    "text": "patches uh terminal servers just an extension you know it gives you gives you the gooey don't forget it's just",
    "start": "4792760",
    "end": "4798560"
  },
  {
    "text": "that you need to secure things just the way you would normally with your policies and procedures that you guys have all developed of course and",
    "start": "4798560",
    "end": "4803679"
  },
  {
    "text": "implemented um so don't forget that it's just a Windows 2000 box with a nice little gooey that gets handed off to",
    "start": "4803679",
    "end": "4810520"
  },
  {
    "text": "somebody so some of these things here like I said um password",
    "start": "4810520",
    "end": "4815880"
  },
  {
    "text": "complexity um password age length password history and this is old hat for most people but I just wanted to show",
    "start": "4815880",
    "end": "4821960"
  },
  {
    "text": "you guys so you don't forget that these kind of things are very important",
    "start": "4821960",
    "end": "4826638"
  },
  {
    "text": "okay now we've kind of taking you through some of the things that Eric has shown you on the out there in the wild",
    "start": "4830760",
    "end": "4837400"
  },
  {
    "text": "that we've seen just from a poor configuration and then we've shown you how to you should properly go about trying to approach a configuration so",
    "start": "4837400",
    "end": "4844440"
  },
  {
    "text": "that it's secure from both a a host and a network level now what kind of problems have been out there so far well",
    "start": "4844440",
    "end": "4851159"
  },
  {
    "text": "just like any problem or just like any product there's going to be problems in and the latest one was about a week and",
    "start": "4851159",
    "end": "4856480"
  },
  {
    "text": "a half ago two weeks ago and it was a denial service vulnerability um they can",
    "start": "4856480",
    "end": "4861840"
  },
  {
    "text": "send a espcially crafted string of characters to port 3389 and they can",
    "start": "4861840",
    "end": "4866880"
  },
  {
    "text": "crash the server what happens when that uh occurs is that every work in progress",
    "start": "4866880",
    "end": "4872560"
  },
  {
    "text": "at that time is lost it's not saved um it's just lost the server is still going to run um it may blue screen but",
    "start": "4872560",
    "end": "4880320"
  },
  {
    "text": "regardless it's got to be rebooted um this patch has been out for a week and a half two weeks if you haven't installed",
    "start": "4880320",
    "end": "4886120"
  },
  {
    "text": "it you need to go install it is that bu over um it's actually there there is a",
    "start": "4886120",
    "end": "4891760"
  },
  {
    "text": "uh it's F thing is field validation it's like a weird it's not a buffer overflow it's just like strange input it's not",
    "start": "4891760",
    "end": "4898679"
  },
  {
    "text": "you're not actually pushing past the buffer you just it's looking for one thing it's get something else",
    "start": "4898679",
    "end": "4905199"
  },
  {
    "text": "puts I believe I believe it does overflow buffer on that there's a full write up two two gentlemen from Japan",
    "start": "4905199",
    "end": "4911040"
  },
  {
    "text": "discovered that and released it um one thing to note is the the actual string that they did this with they haven't",
    "start": "4911040",
    "end": "4917320"
  },
  {
    "text": "released but that's not to say it's not out there um now it doesn't allow access only because you know it's not uh the",
    "start": "4917320",
    "end": "4924880"
  },
  {
    "text": "proper format hasn't been found but if you know if it follows the regular state",
    "start": "4924880",
    "end": "4931000"
  },
  {
    "text": "of progression of every other overflow that's been found someone will get the right one and then they'll get remote",
    "start": "4931000",
    "end": "4936360"
  },
  {
    "text": "access of your server so you need to get this patched um this was one that already",
    "start": "4936360",
    "end": "4941600"
  },
  {
    "text": "allows someone to get remote route access of your server if they can just get to the log on screen um it only",
    "start": "4941600",
    "end": "4948560"
  },
  {
    "text": "affected the specific Chinese IM version of Windows 2000 um and only if it was in",
    "start": "4948560",
    "end": "4957040"
  },
  {
    "text": "put in during the installation but basically if they could get to the login screen they could uh they could enter",
    "start": "4957040",
    "end": "4965080"
  },
  {
    "text": "characters on the keyboard and hit enter and they would get r or administrator um",
    "start": "4965080",
    "end": "4972040"
  },
  {
    "text": "now the ime what that is is basically it's how the the keyboard the you know",
    "start": "4972040",
    "end": "4977440"
  },
  {
    "text": "104 key keyboard or whatever translates the Chinese alphabet into words so they",
    "start": "4977440",
    "end": "4983520"
  },
  {
    "text": "can't obviously put a thousand keys on a keyboard so they put maybe 100 or 200 and four or five Keys make up one letter",
    "start": "4983520",
    "end": "4990639"
  },
  {
    "text": "well ime is how that is translated does it understands the",
    "start": "4990639",
    "end": "4996440"
  },
  {
    "text": "entire sentence yeah translated as a whole each key individually yes that's",
    "start": "4996440",
    "end": "5002520"
  },
  {
    "text": "correct um and there's a fix for this one too Post Service Pack one again um the last one was the the Gina which",
    "start": "5002520",
    "end": "5009800"
  },
  {
    "text": "didn't affect terminal server 2000 um it's not even out there but uh",
    "start": "5009800",
    "end": "5015440"
  },
  {
    "text": "basically it was from the another log on screen issue that occurred um Eric do you have no that's",
    "start": "5015440",
    "end": "5023120"
  },
  {
    "text": "um are there any other other well who has some questions regarding some of the",
    "start": "5023120",
    "end": "5028280"
  },
  {
    "text": "the utilities and tools that we talked about today oh wait you know what before we do that let me show you guys okay",
    "start": "5028280",
    "end": "5034280"
  },
  {
    "text": "yeah yes really quick yeah Eric went ahead and and changed the port that terminal server is listening on so am I",
    "start": "5034280",
    "end": "5041080"
  },
  {
    "text": "on here go ahead and do a scan first okay yeah so first he'll scan it and show you where the server is now",
    "start": "5041080",
    "end": "5047040"
  },
  {
    "text": "listening it's not listening on",
    "start": "5047040",
    "end": "5051080"
  },
  {
    "text": "3389 or maybe it is oh did you reboot it he",
    "start": "5059280",
    "end": "5064840"
  },
  {
    "text": "uh yeah let me see if it works and there's actually two registry keys um",
    "start": "5064840",
    "end": "5070239"
  },
  {
    "text": "there's a rpwd I did the right one I thought let me let me check this real quick so much for setting something up on the Fly see",
    "start": "5070239",
    "end": "5077560"
  },
  {
    "text": "if they have any questions Clinton I'll take a quick look I thought I checked it right but I didn't check the slide",
    "start": "5077560",
    "end": "5083840"
  },
  {
    "text": "there's two places where the 3389 is in there and it's apparent that I obviously did the wrong one yeah you did that's",
    "start": "5083840",
    "end": "5089280"
  },
  {
    "text": "okay though it's you did under soch back then yeah well that one",
    "start": "5089280",
    "end": "5095600"
  },
  {
    "text": "doesn't affect this yeah um I had two choices and I chose poorly um does",
    "start": "5095600",
    "end": "5101920"
  },
  {
    "text": "anyone have any questions while he's going to do this he's going to just fire off a reboot and then we'll give you a last little bit of fun and let you guys",
    "start": "5101920",
    "end": "5108400"
  },
  {
    "text": "out of here I guess for lunch um all the way in the back",
    "start": "5108400",
    "end": "5114360"
  },
  {
    "text": "you I'm I'm sorry what was that you got in anded your local administrator um and then you can add",
    "start": "5114600",
    "end": "5121320"
  },
  {
    "text": "yourself yes is there a way is that way to SCP that list is addra",
    "start": "5121320",
    "end": "5130320"
  },
  {
    "text": "fromt I mean well not a not a one you know I mean not it's not inherent to",
    "start": "5133760",
    "end": "5139560"
  },
  {
    "text": "Windows 2000 but I mean that you could certainly script it I mean make some little script that would fire that command and then analyze the output and",
    "start": "5139560",
    "end": "5145440"
  },
  {
    "text": "look if it had extra users in it I mean you had the key but yes okay all right",
    "start": "5145440",
    "end": "5150560"
  },
  {
    "text": "yeah there's so the short answer is yeah you could I don't it's something that I've seen n",
    "start": "5150560",
    "end": "5156320"
  },
  {
    "text": "I'm not sure say",
    "start": "5156320",
    "end": "5161440"
  },
  {
    "text": "again policy I didn't hear the first word you could use restricted groups yeah restricted groups okay any other",
    "start": "5161440",
    "end": "5168560"
  },
  {
    "text": "question any other questions here's the oh go ahead security templates",
    "start": "5168560",
    "end": "5176960"
  },
  {
    "text": "arear they're they're actually um they're not by default but there are some out there um I believe I I came",
    "start": "5177920",
    "end": "5183560"
  },
  {
    "text": "across some on site and I do have um there's a list of",
    "start": "5183560",
    "end": "5189639"
  },
  {
    "text": "um documents that are available on the web from Microsoft site in our directory that kind of will point you in that",
    "start": "5189639",
    "end": "5195440"
  },
  {
    "text": "direction um everything from registry key values that you want to go back and specifically Harden that we're a little",
    "start": "5195440",
    "end": "5201760"
  },
  {
    "text": "bit more in depth than what we went today um and then on the local policy there's some recommendations um that we",
    "start": "5201760",
    "end": "5208400"
  },
  {
    "text": "didn't cover that they do include um if you look here on this screen you can see on the registry here",
    "start": "5208400",
    "end": "5215239"
  },
  {
    "text": "um under the uh system CCS control terminal server wind station RDP TCP",
    "start": "5215239",
    "end": "5223560"
  },
  {
    "text": "there's a a port number",
    "start": "5223560",
    "end": "5230000"
  },
  {
    "text": "key and it uh as you can see this is my box but it's set at 3389 um if you go up here on terminal",
    "start": "5230000",
    "end": "5236920"
  },
  {
    "text": "server under WDS um R RDP WD TDS TCP",
    "start": "5236920",
    "end": "5242040"
  },
  {
    "text": "there's another key um I've with changing this key and I haven't gotten any any response back from terminal",
    "start": "5242040",
    "end": "5249040"
  },
  {
    "text": "server as far as it it didn't like it I mean I've had it set at you know 20 and",
    "start": "5249040",
    "end": "5255520"
  },
  {
    "text": "uh everything chugs along just like normal I'm not sure where this comes into play I'm trying to track that one",
    "start": "5255520",
    "end": "5261679"
  },
  {
    "text": "down and then with the actual executable um Robin Kier is working with us to go",
    "start": "5261679",
    "end": "5267239"
  },
  {
    "text": "in and and make that change on that executable so that we can demo the the modified client now obviously that would",
    "start": "5267239",
    "end": "5273600"
  },
  {
    "text": "uh negate any type of customer support",
    "start": "5273600",
    "end": "5279440"
  },
  {
    "text": "um we're getting there I got turn off the all right we take one more question",
    "start": "5279440",
    "end": "5285080"
  },
  {
    "text": "and then one more question",
    "start": "5285080",
    "end": "5289880"
  },
  {
    "text": "yeah sorry what was that no it's going to do do it's going to do it like P I",
    "start": "5294800",
    "end": "5300639"
  },
  {
    "text": "don't think it I don't think that one shows you sisy no it's but it's no what he's saying is like if you run regular",
    "start": "5300639",
    "end": "5305679"
  },
  {
    "text": "PW dump one 2000 Buck it's going to be sis key so it won't be any good so you need PW dump 2 my only um I haven't",
    "start": "5305679",
    "end": "5312480"
  },
  {
    "text": "tested it with that but to get way to get around that real quick would be to pipe up admin and PW dump to if it",
    "start": "5312480",
    "end": "5319119"
  },
  {
    "text": "doesn't work that way you can modify the exploit and and have it dump it with",
    "start": "5319119",
    "end": "5324159"
  },
  {
    "text": "sisy okay okay so now I'm going to do the First Command 3039 and it's not there",
    "start": "5324159",
    "end": "5332520"
  },
  {
    "text": "anymore okay so 30 389 is no longer there the port I moved it to scan like a",
    "start": "5332520",
    "end": "5339239"
  },
  {
    "text": "couple of thousand or something what okay yeah okay so the default port at",
    "start": "5339239",
    "end": "5345400"
  },
  {
    "text": "3389 is gone so you wouldn't think that this box is serving up terminal server um Eric changed this port to some number",
    "start": "5345400",
    "end": "5351679"
  },
  {
    "text": "that I don't even know I Ed it to so now it's running on um 10",
    "start": "5351679",
    "end": "5357280"
  },
  {
    "text": "10,38 okay now again as we said we don't we're not showing you the modification",
    "start": "5357280",
    "end": "5363040"
  },
  {
    "text": "of the client to go to 1038 um 10,38 but just by running fpip and doing",
    "start": "5363040",
    "end": "5369239"
  },
  {
    "text": "a little Port redirection he can push this push this uh call right out from his local box on 3389 and redirect it",
    "start": "5369239",
    "end": "5377119"
  },
  {
    "text": "out to this box on Port 1030 or",
    "start": "5377119",
    "end": "5382119"
  },
  {
    "text": "10,38 why is it that's Joel Mr",
    "start": "5385080",
    "end": "5390320"
  },
  {
    "text": "scre wasn't no it wasn't wasn't it a",
    "start": "5390320",
    "end": "5396040"
  },
  {
    "text": "really you know how to change a client we'd be I'd be interested to hear Do you know how to do it for Windows",
    "start": "5401000",
    "end": "5407480"
  },
  {
    "text": "2000 yeah I I've done a lot of",
    "start": "5408400",
    "end": "5412560"
  },
  {
    "text": "searches cool really we'll look again but I didn't notice that behind the ISA server so here we are running on 10,000",
    "start": "5417320",
    "end": "5424239"
  },
  {
    "text": "4 1038 um just with a connection with for direction against ourselves so with",
    "start": "5424239",
    "end": "5430280"
  },
  {
    "text": "that um good luck have fun out there and let's enjoy the rest of the conference yeah this this would be great for a",
    "start": "5430280",
    "end": "5435760"
  },
  {
    "text": "remote Administration [Applause]",
    "start": "5435760",
    "end": "5443949"
  }
]