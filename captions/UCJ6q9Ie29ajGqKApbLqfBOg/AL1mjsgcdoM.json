[
  {
    "text": "[Music]",
    "start": "1700",
    "end": "4810"
  },
  {
    "text": "all right everyone uh thanks for joining uh by the attendance I can see there are a lot of circuit designers in the room",
    "start": "10040",
    "end": "16139"
  },
  {
    "text": "uh but um anyway so let's get caught let's get uh moving forward and talk about fault",
    "start": "16139",
    "end": "21960"
  },
  {
    "text": "injection detection so we're going to talk about some fault injection detection Basics we're going to dive",
    "start": "21960",
    "end": "28199"
  },
  {
    "text": "into the tunable replica circuit itself we're going to talk about how Intel integrated the TRC a little bit about",
    "start": "28199",
    "end": "35219"
  },
  {
    "text": "calibration and validation and some conclusions a little bit a little bit about myself I've been with Intel for a",
    "start": "35219",
    "end": "42180"
  },
  {
    "text": "long long time working on such products as a manageability engine and the convert security manageability engine",
    "start": "42180",
    "end": "48600"
  },
  {
    "text": "since their inceptions Carlos tokunaga is on the phone he's been a circuit",
    "start": "48600",
    "end": "54840"
  },
  {
    "text": "designer and architect in Intel labs for also a very long time so let's get started I 10 and ask questions to the",
    "start": "54840",
    "end": "62460"
  },
  {
    "text": "audience so pay attention and I'm hoping you guys are going to learn something here the focus is to explain to you all",
    "start": "62460",
    "end": "69000"
  },
  {
    "text": "what Intel is doing for fall injection detection and a little bit about the technology itself okay so some of the",
    "start": "69000",
    "end": "76560"
  },
  {
    "text": "basics so focusing on non-invasive fault injection attacks where modification of",
    "start": "76560",
    "end": "83640"
  },
  {
    "text": "the package is out of scope is really the um the gist of the presentation so",
    "start": "83640",
    "end": "89700"
  },
  {
    "text": "um some of the attacks when we refer to non-invasive fall injection what we're saying is you can attack anything around",
    "start": "89700",
    "end": "97320"
  },
  {
    "text": "the package the motherboard the bumps the pins Etc but once you start cracking",
    "start": "97320",
    "end": "102360"
  },
  {
    "text": "the package open that's out of scope for these types of these types of attacks and so when we talk about non-invasive",
    "start": "102360",
    "end": "109259"
  },
  {
    "text": "fall injection we're talking about voltage attacks we're talking about clock attacks uh",
    "start": "109259",
    "end": "116040"
  },
  {
    "text": "we're talking about electromagnetic radiation attacks otherwise known as emfi and then finally we're talking",
    "start": "116040",
    "end": "123000"
  },
  {
    "text": "about thermal attacks and so all these attacks are unique in that you can you",
    "start": "123000",
    "end": "128399"
  },
  {
    "text": "can mount them on Silicon without touching anything inside the package itself so once you crack the package",
    "start": "128399",
    "end": "135239"
  },
  {
    "text": "open it's a different type of attack and but once again really again for",
    "start": "135239",
    "end": "141480"
  },
  {
    "text": "non-invasive fault injection we're talking about pin modification for the most part and the primary pins that",
    "start": "141480",
    "end": "147000"
  },
  {
    "text": "we're talking about here are both digital and analog voltage rails as well as on our parts we have two inputs from",
    "start": "147000",
    "end": "154500"
  },
  {
    "text": "crystals our 32.7 kilohertz Crystal and our 38.4 megahertz Crystal so these are",
    "start": "154500",
    "end": "161580"
  },
  {
    "text": "really the primary attack surfaces for non-invasive fault injection and the primary focus of this talk when we get",
    "start": "161580",
    "end": "169080"
  },
  {
    "text": "to semi-invasive really the primary attack Vector is laser others because for the most part they require a",
    "start": "169080",
    "end": "177360"
  },
  {
    "text": "package de-lib right now there has been some research done where you could avoid a package delayed and shoot a laser from",
    "start": "177360",
    "end": "183900"
  },
  {
    "text": "the side but that research is is pretty new so for the majority of falling of",
    "start": "183900",
    "end": "190440"
  },
  {
    "text": "laser-based attacks you know you do require a d-lib so now to complete the circle so again",
    "start": "190440",
    "end": "197819"
  },
  {
    "text": "laser attacks are also out of scope because the tunable replica circuit isn't we're not we're not making any",
    "start": "197819",
    "end": "204239"
  },
  {
    "text": "promises that it will detect a laser attack uh so completing the circle is we have",
    "start": "204239",
    "end": "210300"
  },
  {
    "text": "um we have highly invasive fault injection attacks and these attacks are completely out of scope now I'll give",
    "start": "210300",
    "end": "217080"
  },
  {
    "text": "you guys three guesses at what slide I had to spend the most time with the lawyers on right yeah exactly this one",
    "start": "217080",
    "end": "224760"
  },
  {
    "text": "okay um so what is uh an attacker trying to",
    "start": "224760",
    "end": "229920"
  },
  {
    "text": "accomplish with fault injection and really what they're trying to do is to get circuit timing to fail without",
    "start": "229920",
    "end": "236940"
  },
  {
    "text": "causing the whole platform to crash because if they do a fall injection attack using voltage or clock emfi or or",
    "start": "236940",
    "end": "245159"
  },
  {
    "text": "heat and the platform just crashes then there's no point right so they really want to get to the point where they can",
    "start": "245159",
    "end": "251700"
  },
  {
    "text": "cause circuit timing to fail but the platform maintains or the the target of evaluation uh The Entity under attack",
    "start": "251700",
    "end": "258900"
  },
  {
    "text": "doesn't completely crash right and so why is circuit timing interesting well",
    "start": "258900",
    "end": "265860"
  },
  {
    "text": "circuit timing is interesting because when circuit timing fails you can get data to be latched either too early or",
    "start": "265860",
    "end": "273060"
  },
  {
    "text": "too late now in this presentation we're going to focus on latching data too early because that is a that is in the",
    "start": "273060",
    "end": "280199"
  },
  {
    "text": "scope of under voltage attacks we could talk about latching data too it would",
    "start": "280199",
    "end": "285419"
  },
  {
    "text": "just take too much time but the same principles apply so now when you if you",
    "start": "285419",
    "end": "290580"
  },
  {
    "text": "latch data too early in many platforms or microcontrollers what's happening is",
    "start": "290580",
    "end": "295680"
  },
  {
    "text": "you're latching zeros okay and so first question for the audience is what",
    "start": "295680",
    "end": "301139"
  },
  {
    "text": "instruction is mostly associated with the value of zero anybody know yeah no op exactly right and so the kind",
    "start": "301139",
    "end": "309479"
  },
  {
    "text": "of Holy Grail of a fault injection attack is if you can convert a jump to a",
    "start": "309479",
    "end": "316139"
  },
  {
    "text": "no op when authenticating trusted firmware in a secure engine right so",
    "start": "316139",
    "end": "322320"
  },
  {
    "text": "um so at just the right time after an attacker slaps their malicious firmware",
    "start": "322320",
    "end": "328680"
  },
  {
    "text": "inside a flash device or some other device or loads it into the memory of a controller it's going to fail",
    "start": "328680",
    "end": "335039"
  },
  {
    "text": "authentication but the jump to error if they can cause that jump to error to be a no-off it'll fall through and execute",
    "start": "335039",
    "end": "342600"
  },
  {
    "text": "the main image of their malicious firmware so that's kind of the Holy Grail here so converting a jump to a no",
    "start": "342600",
    "end": "349979"
  },
  {
    "text": "op is really what at a simple level an attacker is trying to do with a fault injection attack okay and so how does",
    "start": "349979",
    "end": "357539"
  },
  {
    "text": "this apply to timing well in a standard timing diagram you might have something again this is very simplified but I I'm",
    "start": "357539",
    "end": "364620"
  },
  {
    "text": "trying to hone in on some key points here so as you can see uh on the second",
    "start": "364620",
    "end": "370380"
  },
  {
    "text": "Rising edge of this clock when you have data running at nominal voltage the jump",
    "start": "370380",
    "end": "376020"
  },
  {
    "text": "is latched right and so but as as as some of you may know",
    "start": "376020",
    "end": "382160"
  },
  {
    "text": "once you drop the voltage of the data lines the data moves faster or slower",
    "start": "382160",
    "end": "390120"
  },
  {
    "text": "slower good okay so if you can get the data to move slower you push those data",
    "start": "390120",
    "end": "395220"
  },
  {
    "text": "lines out to the right and the clock isn't changing presumably on this simple",
    "start": "395220",
    "end": "400800"
  },
  {
    "text": "attack and so you're latching a jump and Sr you'll actually know up instead of a",
    "start": "400800",
    "end": "406199"
  },
  {
    "text": "jump and you've succeeded in executing malicious code okay this is kind of important so this",
    "start": "406199",
    "end": "412259"
  },
  {
    "text": "is really what the attacker is trying to do now if we take clock glitching it's very similar so you have the same good clock",
    "start": "412259",
    "end": "419220"
  },
  {
    "text": "and data executing um and data actually data uh being",
    "start": "419220",
    "end": "425639"
  },
  {
    "text": "driven at nominal voltage so what would the clock look like if they glitched it",
    "start": "425639",
    "end": "432120"
  },
  {
    "text": "to a faster clock anybody know it'd be a little louder",
    "start": "432120",
    "end": "438918"
  },
  {
    "text": "uh well so okay so the clock would shift over and the clock cycle itself would be",
    "start": "439560",
    "end": "444840"
  },
  {
    "text": "much smaller right right there and so in effect the clock is latch the clock's",
    "start": "444840",
    "end": "451139"
  },
  {
    "text": "Rising Edge is the second Rising edge of the caucus much earlier again latching and Noah because you sped up that clock",
    "start": "451139",
    "end": "457919"
  },
  {
    "text": "now how fast do you want to speed up the clock and how and how fast you want to",
    "start": "457919",
    "end": "463560"
  },
  {
    "text": "drive the voltage so you you don't want to drive that voltage low for a second",
    "start": "463560",
    "end": "468599"
  },
  {
    "text": "because if you drop it low for a second at that low of a voltage it's going to crash the whole platform and so what",
    "start": "468599",
    "end": "474539"
  },
  {
    "text": "attacker is trying to do ideally is Drive the voltage to a very low value",
    "start": "474539",
    "end": "480360"
  },
  {
    "text": "for roughly a clock cycle so in 100 megahertz processor they're trying to drive that voltage to a very low voltage",
    "start": "480360",
    "end": "487500"
  },
  {
    "text": "for roughly 10 nanoseconds and they're trying to convert a 10 Nan ore and a",
    "start": "487500",
    "end": "492660"
  },
  {
    "text": "clock attack they're trying to in one clock cycle change the clock cycle from a 10 to let's say a five nanosecond",
    "start": "492660",
    "end": "499020"
  },
  {
    "text": "clock cycle if they can do that precisely they've got a very good system for mounting an attack",
    "start": "499020",
    "end": "504960"
  },
  {
    "text": "okay so what do we do to solve this problem well as you may have gathered we're focused a little bit more on",
    "start": "504960",
    "end": "512640"
  },
  {
    "text": "circuit timing than we are on actual voltage or clock frequencies and so",
    "start": "512640",
    "end": "517740"
  },
  {
    "text": "that's kind of what's unique and special here okay so the tunable replica circuit",
    "start": "517740",
    "end": "523740"
  },
  {
    "text": "which Carlos on the phone and his team actually invented way back when to mitigate they invented",
    "start": "523740",
    "end": "529980"
  },
  {
    "text": "it to mitigate aging and silicon because when silicon ages its timing starts to fail as they all get older we start",
    "start": "529980",
    "end": "536459"
  },
  {
    "text": "slowing down right and circuits are no different and so by detecting when circuit timing started to slow down",
    "start": "536459",
    "end": "542899"
  },
  {
    "text": "Carlos and the team could actually uh reduce guard banding and and and add",
    "start": "542899",
    "end": "549120"
  },
  {
    "text": "more and essentially yield more dye for Intel and so that technology was named the tunable replica circuit now since as",
    "start": "549120",
    "end": "555720"
  },
  {
    "text": "we've just discussed fault injection behaves the same way through through bad timing if the TRC can detect when timing",
    "start": "555720",
    "end": "562380"
  },
  {
    "text": "fails in a circuit it can detect voltage and clock in emfi and thermal attacks",
    "start": "562380",
    "end": "567839"
  },
  {
    "text": "and so what the TRC is is it's a very simple circuit again this is the most",
    "start": "567839",
    "end": "573420"
  },
  {
    "text": "complicated circuit diagram and it might be an eye chart but I'm going to get a little bit simpler and we're going to dive into it with a simpler more concise",
    "start": "573420",
    "end": "580500"
  },
  {
    "text": "diagram but what it consists of is a launch flop a tunable delay chain and a capture flop",
    "start": "580500",
    "end": "587880"
  },
  {
    "text": "now this capture flop here is really determining if a data line that's being",
    "start": "587880",
    "end": "593760"
  },
  {
    "text": "driven along the delay line is coming in too slow versus what we call a reference",
    "start": "593760",
    "end": "601140"
  },
  {
    "text": "signal and you'll see this in a in the next diagram so don't worry this isn't the only diagram we're going to see",
    "start": "601140",
    "end": "606360"
  },
  {
    "text": "we're going to dive in and the key element is the delay line and it's the delay line that's tuned to",
    "start": "606360",
    "end": "613200"
  },
  {
    "text": "match worst case nominal timings in our product right so it's supposed so that",
    "start": "613200",
    "end": "619980"
  },
  {
    "text": "delay line should match what the worst case delays are and still work right and",
    "start": "619980",
    "end": "626279"
  },
  {
    "text": "once you fall below that our our product won't functionally work in me timing and",
    "start": "626279",
    "end": "631560"
  },
  {
    "text": "that point uh it can only be an attack we've determined so we're going to jump ahead and dive a little bit deeper and",
    "start": "631560",
    "end": "638279"
  },
  {
    "text": "make things a little bit simpler so a slightly more a simplified diagram",
    "start": "638279",
    "end": "644220"
  },
  {
    "text": "here so you've got some key signals one is the clock one is a reference line and",
    "start": "644220",
    "end": "650160"
  },
  {
    "text": "one is in data actual line that is calibrated uh to match the timing of the",
    "start": "650160",
    "end": "655740"
  },
  {
    "text": "circuit at a worst case level and then you've got the launch in the capture flop so the input clock that's coming in",
    "start": "655740",
    "end": "663060"
  },
  {
    "text": "will actually on the rising edge launch the signal along the data reference line",
    "start": "663060",
    "end": "668220"
  },
  {
    "text": "and the data actual line and the second Rising Edge it will capture whether",
    "start": "668220",
    "end": "673740"
  },
  {
    "text": "those two lines are the same or different and there's an as you can see you have the xor gate that is that is",
    "start": "673740",
    "end": "681600"
  },
  {
    "text": "inputting those two data lines and as we know with an xor if if two signals are the same you get a zero if the signals",
    "start": "681600",
    "end": "688500"
  },
  {
    "text": "are different you get a one and so on the second Rising edge of the clock if",
    "start": "688500",
    "end": "694019"
  },
  {
    "text": "the if the data reference line in the data actual line are not the same you will generate you'll latch a y line and",
    "start": "694019",
    "end": "700920"
  },
  {
    "text": "output an error in other words you've determined that timing has failed okay so how does this work looking at",
    "start": "700920",
    "end": "708839"
  },
  {
    "text": "these two lines now the data reference line you can see it's slightly coming",
    "start": "708839",
    "end": "714120"
  },
  {
    "text": "Rising uh after the input clock because the launch flop has a slightly smaller",
    "start": "714120",
    "end": "720600"
  },
  {
    "text": "proper it has a slight propagation delay over nothing right now what is really",
    "start": "720600",
    "end": "725640"
  },
  {
    "text": "pushed out to the right is the data actual line due to that delay so all those uh all those inverters in uh and",
    "start": "725640",
    "end": "733560"
  },
  {
    "text": "nor Gates are causing that data line to move slower okay now at that point in time",
    "start": "733560",
    "end": "740820"
  },
  {
    "text": "going through now again this this data actual line is not under attack it's a",
    "start": "740820",
    "end": "746760"
  },
  {
    "text": "nominal line that we've calibrated to come up uh at this very time so this is",
    "start": "746760",
    "end": "752100"
  },
  {
    "text": "these are a couple easy questions so in nominal cases what is going to be the",
    "start": "752100",
    "end": "757140"
  },
  {
    "text": "value of the xor and Slash the error on this line zero good I know this is just to make",
    "start": "757140",
    "end": "764399"
  },
  {
    "text": "sure you guys are paying attention right so let's say we have an attack and that date and that data line that data actual",
    "start": "764399",
    "end": "771120"
  },
  {
    "text": "line is moved over even to the right a little bit this is right at which point now that's because again Lower voltage",
    "start": "771120",
    "end": "778380"
  },
  {
    "text": "equals a slower data line okay so which point what again now is the actual result",
    "start": "778380",
    "end": "784320"
  },
  {
    "text": "one excellent good so it now is detecting that data has moved",
    "start": "784320",
    "end": "790380"
  },
  {
    "text": "too far to the right and as an error it's failing timing and it's been calibrated at this point that the only",
    "start": "790380",
    "end": "797220"
  },
  {
    "text": "way it's moved as far is an attack sorry that's kind of an important concept",
    "start": "797220",
    "end": "804600"
  },
  {
    "text": "okay all right so I'm moving right along okay",
    "start": "804600",
    "end": "811620"
  },
  {
    "text": "um so I'm not sure we'll take questions at the end if that was a question I was I wasn't sure so okay so why and how uh",
    "start": "811620",
    "end": "818639"
  },
  {
    "text": "did Intel integrate the TRC so um so we integrated the TRC into csme",
    "start": "818639",
    "end": "825060"
  },
  {
    "text": "which is an embedded an embedded subsystem in the PCH or the platform",
    "start": "825060",
    "end": "830160"
  },
  {
    "text": "component Hub of our client platform it stands for converge security manageability engine it's a standalone",
    "start": "830160",
    "end": "838320"
  },
  {
    "text": "subsystem running inside what most people refer to as the South Bridge and",
    "start": "838320",
    "end": "844019"
  },
  {
    "text": "it has quite a few secure high security applications in it and you may have heard of uh this morning there was a",
    "start": "844019",
    "end": "849899"
  },
  {
    "text": "talk on boot guard on biosguard it's the route of trust for boot guard it's the",
    "start": "849899",
    "end": "855120"
  },
  {
    "text": "root of trust for many applications like our integrated TPM it's the root of",
    "start": "855120",
    "end": "860339"
  },
  {
    "text": "trust for our manageability solution so if an attacker was able to run and it",
    "start": "860339",
    "end": "865980"
  },
  {
    "text": "normally executes it executes Intel signed firmware so if an attacker",
    "start": "865980",
    "end": "872519"
  },
  {
    "text": "was able to uh if an attacker was able to load their own firmware they could",
    "start": "872519",
    "end": "878040"
  },
  {
    "text": "essentially root the platform and bad things can happen and there have been presentations at black hat where we have",
    "start": "878040",
    "end": "884160"
  },
  {
    "text": "been attacked successfully through uh software means physical means uh non-fit",
    "start": "884160",
    "end": "889920"
  },
  {
    "text": "physical means such as reflashing the part uh Etc and and so that's a very so",
    "start": "889920",
    "end": "895440"
  },
  {
    "text": "having malware execute on csme is pretty much a worst case scenario for Intel and",
    "start": "895440",
    "end": "902940"
  },
  {
    "text": "so we we are doing everything possible to mitigate that and now we're mitigating it through uh fault injection",
    "start": "902940",
    "end": "909660"
  },
  {
    "text": "detection as well okay so where and how did we integrate",
    "start": "909660",
    "end": "915240"
  },
  {
    "text": "this tunable replica circuit into csme so csme is made up of three partitions",
    "start": "915240",
    "end": "921420"
  },
  {
    "text": "as you can see here there's a x86 uh sometimes called the minute IE microcontroller there's a system agent",
    "start": "921420",
    "end": "928680"
  },
  {
    "text": "and there's our i o devices a gasket and so we integrated the TRC into the system",
    "start": "928680",
    "end": "935040"
  },
  {
    "text": "agent and into the TRC we fed the same power line and the same clock line that",
    "start": "935040",
    "end": "942120"
  },
  {
    "text": "are coming into csme now as you can see from this diagram there's no direct way",
    "start": "942120",
    "end": "947820"
  },
  {
    "text": "for using a non-invasive means to glitch the csme clock because it's coming out",
    "start": "947820",
    "end": "953880"
  },
  {
    "text": "of a PLL so for a attacker to glitch the csme clock they they can essentially",
    "start": "953880",
    "end": "960540"
  },
  {
    "text": "they have to use some pretty sophisticated mechanisms by glitching the crystal itself however the voltage",
    "start": "960540",
    "end": "967199"
  },
  {
    "text": "rail directly coming into the package and powering the majority of the circuitry inside the PCH is also",
    "start": "967199",
    "end": "973019"
  },
  {
    "text": "powering csme and so by placing a TRC on vnn inside csme it essentially can",
    "start": "973019",
    "end": "981060"
  },
  {
    "text": "attack it will detect an attack on any of the csme partitions and even more than that theoretically although we're",
    "start": "981060",
    "end": "987360"
  },
  {
    "text": "not making any promises about this it would detect it would the same attack would apply to any of the other devices",
    "start": "987360",
    "end": "993600"
  },
  {
    "text": "or IPS inside the PCH now we don't make claims about that because csme is often",
    "start": "993600",
    "end": "999060"
  },
  {
    "text": "power gated and if csme is powergated so is the TRC so we don't really make any",
    "start": "999060",
    "end": "1004699"
  },
  {
    "text": "claims about for example the CSM the the TRC protecting the USB controller or",
    "start": "1004699",
    "end": "1010399"
  },
  {
    "text": "some other controller however it is we do make a claim that the TRC will protect csme against all voltage and",
    "start": "1010399",
    "end": "1017779"
  },
  {
    "text": "clock attacks as well as as thermal and emfi",
    "start": "1017779",
    "end": "1023300"
  },
  {
    "text": "um okay so there's no specific reason we placed it in the system agent it was",
    "start": "1023300",
    "end": "1028339"
  },
  {
    "text": "well the reason replacing the system agent is because it was easiest to invoke our countermeasures so once the",
    "start": "1028339",
    "end": "1034100"
  },
  {
    "text": "TRC detects an error it outputs a signal and from that point we isolate csme and",
    "start": "1034100",
    "end": "1039980"
  },
  {
    "text": "take it through reset right so the result of a um of a glitch attack your CSM goes into reset uh the platform does",
    "start": "1039980",
    "end": "1047240"
  },
  {
    "text": "not reset we got specific marching orders from our client team we didn't want to just reset the end user's",
    "start": "1047240",
    "end": "1053120"
  },
  {
    "text": "platform at least initially and so if you're attacking csme and CSM goes to",
    "start": "1053120",
    "end": "1060260"
  },
  {
    "text": "reset essentially all the csme services will fail safe right that's um that's",
    "start": "1060260",
    "end": "1065780"
  },
  {
    "text": "really what what the trc's goal is initially now initially in addition to that we have calibration logic we have",
    "start": "1065780",
    "end": "1072620"
  },
  {
    "text": "fuses that we have to pull and we'll get into that details in just a second",
    "start": "1072620",
    "end": "1078020"
  },
  {
    "text": "okay so why do we choose to integrate the TRC um physical attacks are getting cheaper",
    "start": "1078020",
    "end": "1084080"
  },
  {
    "text": "to mount these voltage and clock glitches you can just buy right directly from various companies",
    "start": "1084080",
    "end": "1091039"
  },
  {
    "text": "um or you can rent them uh Intel view security as an evolutionary concept and",
    "start": "1091039",
    "end": "1096799"
  },
  {
    "text": "every year we're seeking to add more one or two significant features to improve",
    "start": "1096799",
    "end": "1102260"
  },
  {
    "text": "the security of csme and the TRC is just a good example of those roadmap of this",
    "start": "1102260",
    "end": "1108799"
  },
  {
    "text": "roadmap um like I mentioned before csme has integrated a TCG compliant TPM 2.0",
    "start": "1108799",
    "end": "1116000"
  },
  {
    "text": "device I kind of that's near and dear to my heart because I was actually responsible for that for some years",
    "start": "1116000",
    "end": "1123080"
  },
  {
    "text": "and as some of you may know TPMS especially discrete TPMS have requirements to protect against",
    "start": "1123080",
    "end": "1130280"
  },
  {
    "text": "physical attacks so it's one of our goals to make the integrated TPM for csme as close to discrete TPM and",
    "start": "1130280",
    "end": "1137600"
  },
  {
    "text": "robustness as possible and and we believe that with the TRC we",
    "start": "1137600",
    "end": "1142940"
  },
  {
    "text": "have without question a best-in-class TPM inside the PCH",
    "start": "1142940",
    "end": "1149720"
  },
  {
    "text": "um so I I just mentioned that okay so getting to uh validation and",
    "start": "1149720",
    "end": "1156860"
  },
  {
    "text": "calibration okay so what are some of the key principles of calibrating this and we're going to go back to the stuff we",
    "start": "1156860",
    "end": "1162919"
  },
  {
    "text": "talked about so if you incorrectly calibrate the TRC",
    "start": "1162919",
    "end": "1168380"
  },
  {
    "text": "you can have false positives and or you can misdetect and attacks typically both",
    "start": "1168380",
    "end": "1175100"
  },
  {
    "text": "won't happen it's it's a very very bad thing if we had a false positive",
    "start": "1175100",
    "end": "1180980"
  },
  {
    "text": "um under knowing that that by by far is is critical so if if a false positive",
    "start": "1180980",
    "end": "1186799"
  },
  {
    "text": "occurred really really bad things such as product Replacements Etc might happen so without question we we do not we we",
    "start": "1186799",
    "end": "1194660"
  },
  {
    "text": "are very very concerned with false pauses and obviously we want to avoid any chance of missing an attack as well",
    "start": "1194660",
    "end": "1200840"
  },
  {
    "text": "and if you calibrate this thing incorrectly one of the two will happen um so how does calibration work well it",
    "start": "1200840",
    "end": "1209539"
  },
  {
    "text": "starts from the concept that given a circuit at a fixed frequency we know when the circuit timing will fail right",
    "start": "1209539",
    "end": "1217280"
  },
  {
    "text": "we just know that inherently as circuit designer so I'm not a circuit designer but Carlos is and so we have called that",
    "start": "1217280",
    "end": "1224600"
  },
  {
    "text": "point where circuit where the circuit timing will fail be glitch and that's at a point that only could be a result of",
    "start": "1224600",
    "end": "1231980"
  },
  {
    "text": "an attack there are normal voltage droops that you see uh when you're",
    "start": "1231980",
    "end": "1237260"
  },
  {
    "text": "running High workloads let's say you're you know let's say you're copying uh you're ripping a DVD and and sending it",
    "start": "1237260",
    "end": "1244039"
  },
  {
    "text": "out on the network or something from a Serial ATA drive on your network so you're going to see voltage droops due",
    "start": "1244039",
    "end": "1249620"
  },
  {
    "text": "to those high workloads and so there are normal League what we'll call legal or",
    "start": "1249620",
    "end": "1254900"
  },
  {
    "text": "kosher droops that occur in the wilds and we don't want a false positive to occur as a result of those groups we",
    "start": "1254900",
    "end": "1262039"
  },
  {
    "text": "want a an attack to be detected only as a result of a glitch that we know could",
    "start": "1262039",
    "end": "1267740"
  },
  {
    "text": "only be caused as a result of an attacker okay now this value so hypothetically let's say and I'm not",
    "start": "1267740",
    "end": "1274220"
  },
  {
    "text": "going to give you real numbers because I'll tell you everything I can but but very process specific stuff I'm not",
    "start": "1274220",
    "end": "1280580"
  },
  {
    "text": "going to tell you so let's say hypothetically nominal voltage is one volt you might see a V glitch of let's",
    "start": "1280580",
    "end": "1287059"
  },
  {
    "text": "say 750 millivolts right and so the only way to get from one to one volt to 750",
    "start": "1287059",
    "end": "1293419"
  },
  {
    "text": "millivolts is through an attack and we and when and when we're measuring the 750 millivolts we're measuring it at",
    "start": "1293419",
    "end": "1300020"
  },
  {
    "text": "csme we're not measuring it at the pin right because between what you see at",
    "start": "1300020",
    "end": "1305179"
  },
  {
    "text": "the pin and what you see at csme is totally different or any other integrated and any other highly",
    "start": "1305179",
    "end": "1310280"
  },
  {
    "text": "integrated device because of various levels of circuits and buffers and isolation Etc so so you have to drive a",
    "start": "1310280",
    "end": "1317900"
  },
  {
    "text": "very very low voltage value typically in the negative voltage on the PIN to see a droop to let's say from a 250 millivolt",
    "start": "1317900",
    "end": "1325940"
  },
  {
    "text": "droop at the device itself and this v-glitch again is global so all the",
    "start": "1325940",
    "end": "1331580"
  },
  {
    "text": "hundreds of millions of parts that we ship in a for a given product be glitch will be the same for all those parts",
    "start": "1331580",
    "end": "1338720"
  },
  {
    "text": "so there's and I'm mentioning this because there are various part specific pieces to calibration and then there's",
    "start": "1338720",
    "end": "1344360"
  },
  {
    "text": "Global pieces of calibration so calibrating each TRC is done",
    "start": "1344360",
    "end": "1350720"
  },
  {
    "text": "independently so each one is uniquely calibrated on our manufacturing line now",
    "start": "1350720",
    "end": "1356000"
  },
  {
    "text": "I don't they're not uniquely because everyone doesn't have a unique value but they're independently calibrated and",
    "start": "1356000",
    "end": "1361640"
  },
  {
    "text": "they're done and what calibration really is is taking that big witch value which is a droop let's say I just mentioned of",
    "start": "1361640",
    "end": "1368299"
  },
  {
    "text": "hypothetically 250 millivolts and converting it to delays right so what's",
    "start": "1368299",
    "end": "1373520"
  },
  {
    "text": "the what is the data path speed at one volt versus the data pass speed at 750",
    "start": "1373520",
    "end": "1378980"
  },
  {
    "text": "millivolts for that's each specific part and it's different for every part okay so that and then we fuse that delay",
    "start": "1378980",
    "end": "1386000"
  },
  {
    "text": "value into silicon and that fusing blows in that the right number of of inverters",
    "start": "1386000",
    "end": "1391520"
  },
  {
    "text": "and nor gates in the TRC itself okay so we're going to jump back to the",
    "start": "1391520",
    "end": "1396919"
  },
  {
    "text": "TRC uh schematic in waveforms and talk a little bit more about this",
    "start": "1396919",
    "end": "1402559"
  },
  {
    "text": "so here we go to our favorite diagram in this picture again we have a TRC calibrated running a nominal voltage not",
    "start": "1402559",
    "end": "1410240"
  },
  {
    "text": "generating an error okay so on this timing diagram",
    "start": "1410240",
    "end": "1416299"
  },
  {
    "text": "what is the delay corresponding to V glitch and I'll give you a hint it's the distance between two",
    "start": "1416299",
    "end": "1423919"
  },
  {
    "text": "Rising edges so and anybody whether anybody want to guess which two Rising",
    "start": "1423919",
    "end": "1430460"
  },
  {
    "text": "edges is corresponding to the delay of v-glitch let's see",
    "start": "1430460",
    "end": "1436100"
  },
  {
    "text": "exactly good if I had if I had I forgot my candy and if I had it I would give",
    "start": "1436100",
    "end": "1441320"
  },
  {
    "text": "any candy yeah so that point there is a value in picoseconds right that we need",
    "start": "1441320",
    "end": "1448159"
  },
  {
    "text": "to fuse into each into every part okay so here's something very important",
    "start": "1448159",
    "end": "1454100"
  },
  {
    "text": "what happens if we increase that delay right what happens is uh well so let's",
    "start": "1454100",
    "end": "1459620"
  },
  {
    "text": "say let's let's change that if that if the delay value was Zero if we didn't fuse any Gates",
    "start": "1459620",
    "end": "1465080"
  },
  {
    "text": "that TRC did actually would be the exact same as TRC data ref and it would be and and it would be",
    "start": "1465080",
    "end": "1471980"
  },
  {
    "text": "impossible to detect an attack at that point because no matter how much they glitched that no matter how much they",
    "start": "1471980",
    "end": "1478100"
  },
  {
    "text": "slowed down the TR the data actual it would never get far enough to detect an",
    "start": "1478100",
    "end": "1483980"
  },
  {
    "text": "attack conversely if we blew in too many of those Gates",
    "start": "1483980",
    "end": "1489740"
  },
  {
    "text": "at nominal volt that that uh that rising and lowering edge of action would move",
    "start": "1489740",
    "end": "1494840"
  },
  {
    "text": "over so far to the right at nominal voltage when you flipped on the machine it would detect an attack as and that's",
    "start": "1494840",
    "end": "1501799"
  },
  {
    "text": "obviously a false positive so the danger in in calibrating it with too long of a",
    "start": "1501799",
    "end": "1507020"
  },
  {
    "text": "delay is that you get a false positive due to either nominal voltage that's not so bad we detect that right",
    "start": "1507020",
    "end": "1513799"
  },
  {
    "text": "away right but worse is a rare droop that occurs because somebody is running",
    "start": "1513799",
    "end": "1519440"
  },
  {
    "text": "some workload that we didn't think of okay so that delay making it just the right",
    "start": "1519440",
    "end": "1525020"
  },
  {
    "text": "length is done on each part and is the Mainstay of calibration",
    "start": "1525020",
    "end": "1531500"
  },
  {
    "text": "okay so how do we find the per part glitch so",
    "start": "1531500",
    "end": "1537380"
  },
  {
    "text": "we use high school math right to essentially generate a slope that mimics",
    "start": "1537380",
    "end": "1544520"
  },
  {
    "text": "that is that is actually that that will allow us to that that shows us the voltage delay curve again this is",
    "start": "1544520",
    "end": "1551960"
  },
  {
    "text": "important that's common to all parts okay so all parts have uh we we",
    "start": "1551960",
    "end": "1557720"
  },
  {
    "text": "calculate a slope where on the y-axis you have delay on the x-axis you have voltage so for any given part you would",
    "start": "1557720",
    "end": "1565520"
  },
  {
    "text": "just go and find a voltage and get that right delay for that part okay and what",
    "start": "1565520",
    "end": "1570559"
  },
  {
    "text": "the TRS so in menu so we calculate this using a whole bunch of data what this slope is",
    "start": "1570559",
    "end": "1575779"
  },
  {
    "text": "right y equals MX plus b right pretty big if you guys remember high school math so now what the TRC does in",
    "start": "1575779",
    "end": "1583640"
  },
  {
    "text": "manufacturing is it's running at in manufacturing at nominal voltage and a",
    "start": "1583640",
    "end": "1588679"
  },
  {
    "text": "nominal voltage of TRC will spit out what delay is causing is what the delay",
    "start": "1588679",
    "end": "1594740"
  },
  {
    "text": "is at nominal voltage it is report that to us okay and just through uh we have",
    "start": "1594740",
    "end": "1601400"
  },
  {
    "text": "an internal finite State machine that just calculates what the delay is a nominal voltage",
    "start": "1601400",
    "end": "1607039"
  },
  {
    "text": "um and so with that information right what we can using the slope again y equals MX plus b we can go and find the",
    "start": "1607039",
    "end": "1614360"
  },
  {
    "text": "point in time we can reduce it down to V glitch so if you know the slope",
    "start": "1614360",
    "end": "1620539"
  },
  {
    "text": "you know Venom right and you know V and therefore you get no Vietnam delay it's and then you",
    "start": "1620539",
    "end": "1627620"
  },
  {
    "text": "know V glitch because it's Global using two points on a on a line that you on a",
    "start": "1627620",
    "end": "1633200"
  },
  {
    "text": "line equation that you already know it's very easy to calculate what the delay at V glitches and we do this for every",
    "start": "1633200",
    "end": "1640520"
  },
  {
    "text": "single part so again what's uh what is global is the",
    "start": "1640520",
    "end": "1646159"
  },
  {
    "text": "slope the slope equation um v-glitch is global what is unique per",
    "start": "1646159",
    "end": "1652640"
  },
  {
    "text": "Venom is known right we know that isn't it's a vault um and the part what is unique to the",
    "start": "1652640",
    "end": "1659000"
  },
  {
    "text": "part it's spitting out the delay of V non which it spits out to us and the delay at V glitch now you may ask why",
    "start": "1659000",
    "end": "1667460"
  },
  {
    "text": "can't the part just spit out why do you need this slope thing why can't you just run the part at V glitch and have it",
    "start": "1667460",
    "end": "1673039"
  },
  {
    "text": "spit out the delay well you you can't you can't run at vigorous for more than a few nanoseconds",
    "start": "1673039",
    "end": "1679340"
  },
  {
    "text": "so the whole machine dies right so and our testers can't generate values that low so you actually it would be great it",
    "start": "1679340",
    "end": "1686299"
  },
  {
    "text": "would be really easy to calibrate these parts if they would run a v-glitch but the whole purpose of of it is they don't",
    "start": "1686299",
    "end": "1692000"
  },
  {
    "text": "run a V glitch right so that's why we have to use this uh slope-based",
    "start": "1692000",
    "end": "1697220"
  },
  {
    "text": "calculation uh to um to calculate B glitch per part a vegan's delay per part",
    "start": "1697220",
    "end": "1704059"
  },
  {
    "text": "okay um okay so then we do some testing right so how do we make sure this is the right",
    "start": "1704059",
    "end": "1710539"
  },
  {
    "text": "what we call recipe well we run initially false positive testing we put the part under high workloads to make",
    "start": "1710539",
    "end": "1717020"
  },
  {
    "text": "sure it's not generating any false positives but then we start glitching it right and so we essentially drive mult",
    "start": "1717020",
    "end": "1723740"
  },
  {
    "text": "we drive different voltages uh a matrix of voltages and and pulse widths",
    "start": "1723740",
    "end": "1729320"
  },
  {
    "text": "something like this so we generate you know at at a given glitch length of you",
    "start": "1729320",
    "end": "1734960"
  },
  {
    "text": "know of of 10 20 30 40 mil seconds we drive a hundred different voltages and",
    "start": "1734960",
    "end": "1741440"
  },
  {
    "text": "we do that for all various glitch lengths and various voltages now what's really and what we see is we all we see",
    "start": "1741440",
    "end": "1748880"
  },
  {
    "text": "areas in green where nothing fails just fine then we get areas in kind of that beige",
    "start": "1748880",
    "end": "1755840"
  },
  {
    "text": "or yellow where the pla the whole platform crashed right so it was either running at a voltage for too long",
    "start": "1755840",
    "end": "1763159"
  },
  {
    "text": "um or too low of a voltage and the platform just completely crashed and died what is really critical is this red",
    "start": "1763159",
    "end": "1769220"
  },
  {
    "text": "band of lines and that is where the TRC detects an error right but the platform",
    "start": "1769220",
    "end": "1774799"
  },
  {
    "text": "right before the platform crashes or if the platform might not crash and so it's Uber critical for us at",
    "start": "1774799",
    "end": "1781880"
  },
  {
    "text": "every horizontal line right for us to detect",
    "start": "1781880",
    "end": "1787159"
  },
  {
    "text": "um a for the TRC to detect an attack because if it doesn't as you can see in",
    "start": "1787159",
    "end": "1793279"
  },
  {
    "text": "one the third horizontal Row from the bottom then we essentially have a hole in the TRC where somebody could",
    "start": "1793279",
    "end": "1800899"
  },
  {
    "text": "um could successfully glitch us and we wouldn't detect it okay that's what this means I'll see you",
    "start": "1800899",
    "end": "1807260"
  },
  {
    "text": "I think I already said all this stuff so in our first pass of testing on this",
    "start": "1807260",
    "end": "1813080"
  },
  {
    "text": "product which is the Intel 12th generation CPU core CPU otherwise known",
    "start": "1813080",
    "end": "1819320"
  },
  {
    "text": "as Alder Lake we saw this that we had missed the TRC calibration okay",
    "start": "1819320",
    "end": "1826880"
  },
  {
    "text": "um and so um yeah I'm running a little faster than I thought but that's okay more time for questions so what happened so with the",
    "start": "1826880",
    "end": "1835340"
  },
  {
    "text": "initial batch of TRC so what we do is we fuse roughly 100 parts we run them",
    "start": "1835340",
    "end": "1840799"
  },
  {
    "text": "through what we call false positive testing and glitch detection and if any of them fail like they did we just we",
    "start": "1840799",
    "end": "1848000"
  },
  {
    "text": "determine why and what we determined was that we actually had set V glitch too low so instead of 750 millivolts it",
    "start": "1848000",
    "end": "1855500"
  },
  {
    "text": "really should have been let's say 780 775 millivolts right and we and with",
    "start": "1855500",
    "end": "1863059"
  },
  {
    "text": "that information we modify the value of V glitch to what we determined should be the right value",
    "start": "1863059",
    "end": "1869260"
  },
  {
    "text": "and we then we fuse another 100 Parts take them through false positive testing",
    "start": "1869260",
    "end": "1874340"
  },
  {
    "text": "take them through fall injection testing and make sure they all pass and once they do and they did and at this point",
    "start": "1874340",
    "end": "1881720"
  },
  {
    "text": "we didn't record any failures and we also didn't record any false positives and based on this data we",
    "start": "1881720",
    "end": "1889100"
  },
  {
    "text": "locked in the recipe for this 12th generation Alder Lake CPU and it's shipping in desktop and mobile",
    "start": "1889100",
    "end": "1895940"
  },
  {
    "text": "configuration right now um so um so some some more so some more points",
    "start": "1895940",
    "end": "1902240"
  },
  {
    "text": "about the TRC I want to make is that because I've got some time is that",
    "start": "1902240",
    "end": "1908419"
  },
  {
    "text": "um why did we choose the TRC right so TPMS smart cars have been shipping with",
    "start": "1908419",
    "end": "1914419"
  },
  {
    "text": "analog clock and voltage level detectors for almost 20 years now so why didn't we",
    "start": "1914419",
    "end": "1920179"
  },
  {
    "text": "just follow that model uh so there's a couple things we like about the trc-1 is that with one circuit",
    "start": "1920179",
    "end": "1925580"
  },
  {
    "text": "we can detect all four attacks that's one number two is that the TRC is a",
    "start": "1925580",
    "end": "1931159"
  },
  {
    "text": "purely digital circuit using standard cells which means it's very easy to Port right so we have so it's not a soft IP",
    "start": "1931159",
    "end": "1938720"
  },
  {
    "text": "it's a hard IP but it can but it takes a very very short amount of effort to Port",
    "start": "1938720",
    "end": "1944659"
  },
  {
    "text": "it to a new process and we typically change processes well less often than we'd like but we change",
    "start": "1944659",
    "end": "1951980"
  },
  {
    "text": "them as often as we can and we want to make that that effort we want to make it very easy for us to switch processes",
    "start": "1951980",
    "end": "1958580"
  },
  {
    "text": "because the csme IP is on a various number of products all on different",
    "start": "1958580",
    "end": "1964100"
  },
  {
    "text": "processes and we and we want to make sure it's as cheap as possible for us to go to different processes another reason",
    "start": "1964100",
    "end": "1970399"
  },
  {
    "text": "is that the CSS is that the TRC hip as a as a digital device is very small far",
    "start": "1970399",
    "end": "1977120"
  },
  {
    "text": "smaller than Analog Devices and so while TPMS don't often change their design and",
    "start": "1977120",
    "end": "1984380"
  },
  {
    "text": "don't often change their processes and are on very much older processes we tend to be changing our process often as",
    "start": "1984380",
    "end": "1991159"
  },
  {
    "text": "possible and obviously Intel is trying to be on the state of the art for our CPUs and our chipsets and our Graphics",
    "start": "1991159",
    "end": "1996860"
  },
  {
    "text": "devices so these are some of the reasons why we've chosen the TRC over more of a",
    "start": "1996860",
    "end": "2003519"
  },
  {
    "text": "legacy analog device now the challenge though is that",
    "start": "2003519",
    "end": "2009640"
  },
  {
    "text": "um we build a lot of parts right hundreds of millions a year and for a massively deployed products on scale we",
    "start": "2009640",
    "end": "2016299"
  },
  {
    "text": "need to make sure that we've calibrated this thing correctly and we we believe we have now to prove that we asked riskier uh",
    "start": "2016299",
    "end": "2024880"
  },
  {
    "text": "who is if you're not familiar with the skier they're a third party they're third-party security firm that does that",
    "start": "2024880",
    "end": "2031299"
  },
  {
    "text": "does fall injection detection testing for products and we ask them to take the TRC through uh through fault injection",
    "start": "2031299",
    "end": "2038080"
  },
  {
    "text": "and for many many months they went and did that uh and and they evaluated the",
    "start": "2038080",
    "end": "2043840"
  },
  {
    "text": "TRC for using clock voltage and emfi and as a result and the result of that was",
    "start": "2043840",
    "end": "2050618"
  },
  {
    "text": "that to happen we were happy to say that they were not able to uh to successfully",
    "start": "2050619",
    "end": "2056378"
  },
  {
    "text": "glitch csme and they said that in all cases the in all cases the glitches were",
    "start": "2056379",
    "end": "2061658"
  },
  {
    "text": "detected by the implemented countermeasures inside of the TRC so so",
    "start": "2061659",
    "end": "2067000"
  },
  {
    "text": "we got a little bit of um so once we did that we said oh maybe we should take this to Black Cat because not until we",
    "start": "2067000",
    "end": "2073720"
  },
  {
    "text": "were 100 sure we didn't want to go and you know inform everybody exactly what we had done",
    "start": "2073720",
    "end": "2079118"
  },
  {
    "text": "uh so anyway I'm right at the five minute Mark um and so I just want to thank there a",
    "start": "2079119",
    "end": "2085419"
  },
  {
    "text": "lot of people who worked on this uh Carlos and I started working on this in 2014 I think",
    "start": "2085419",
    "end": "2091540"
  },
  {
    "text": "um and it finally got implemented last year uh and again like I said there's a lot of people it's not just us there's a",
    "start": "2091540",
    "end": "2098140"
  },
  {
    "text": "whole team of people in circuit design uh in uh in high volume manufacturing",
    "start": "2098140",
    "end": "2103839"
  },
  {
    "text": "testing Etc and so um now's a good time for questions can you uh please bring",
    "start": "2103839",
    "end": "2109660"
  },
  {
    "text": "Carlos Carlos you're going to get brought up now so if you guys have any questions it's a it's a great time to",
    "start": "2109660",
    "end": "2115000"
  },
  {
    "text": "ask foreign",
    "start": "2115000",
    "end": "2119700"
  },
  {
    "text": "[Music]",
    "start": "2124210",
    "end": "2127300"
  }
]