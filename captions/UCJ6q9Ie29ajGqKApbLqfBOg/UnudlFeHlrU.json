[
  {
    "text": "thank you James and uh thank you",
    "start": "2560",
    "end": "4400"
  },
  {
    "text": "everyone for attending it's a very",
    "start": "4400",
    "end": "6560"
  },
  {
    "text": "exciting floor to be um let's get into",
    "start": "6560",
    "end": "9400"
  },
  {
    "text": "it so my name is Yuda smirnov I'm a red",
    "start": "9400",
    "end": "12840"
  },
  {
    "text": "team and security researcher at",
    "start": "12840",
    "end": "14559"
  },
  {
    "text": "Accenture security Israel uh can find me",
    "start": "14559",
    "end": "17080"
  },
  {
    "text": "on Twitter I like learning and",
    "start": "17080",
    "end": "18960"
  },
  {
    "text": "researching windows and active directory",
    "start": "18960",
    "end": "21840"
  },
  {
    "text": "anything that's interesting uh I do some",
    "start": "21840",
    "end": "24119"
  },
  {
    "text": "development in CN CP do some assembly um",
    "start": "24119",
    "end": "28279"
  },
  {
    "text": "I like to serve and play tennis and I'm",
    "start": "28279",
    "end": "31080"
  },
  {
    "text": "also an ex private investigator and ex",
    "start": "31080",
    "end": "34200"
  },
  {
    "text": "detective in the military and um even",
    "start": "34200",
    "end": "37600"
  },
  {
    "text": "though I was an ex private investigator",
    "start": "37600",
    "end": "39760"
  },
  {
    "text": "I mean there's still a lot of mysteries",
    "start": "39760",
    "end": "41480"
  },
  {
    "text": "that I'm having a bit of a hard time",
    "start": "41480",
    "end": "43559"
  },
  {
    "text": "with um that's me falling from the",
    "start": "43559",
    "end": "46680"
  },
  {
    "text": "softboard so yeah let's get into it uh",
    "start": "46680",
    "end": "51199"
  },
  {
    "text": "so today uh our agenda for today we're",
    "start": "51199",
    "end": "53760"
  },
  {
    "text": "going to have a bit of introduction to",
    "start": "53760",
    "end": "55879"
  },
  {
    "text": "Windows Al for business uh we're going",
    "start": "55879",
    "end": "58199"
  },
  {
    "text": "to talk a bit about the web API which is",
    "start": "58199",
    "end": "60960"
  },
  {
    "text": "the underly mechanism for authentication",
    "start": "60960",
    "end": "63680"
  },
  {
    "text": "kind of for Windows level for business",
    "start": "63680",
    "end": "65880"
  },
  {
    "text": "uh we're going to talk a bit about my",
    "start": "65880",
    "end": "67479"
  },
  {
    "text": "investigation and about uh proxy fishing",
    "start": "67479",
    "end": "70880"
  },
  {
    "text": "uh and finally some mitigations so let's",
    "start": "70880",
    "end": "73159"
  },
  {
    "text": "get into",
    "start": "73159",
    "end": "74040"
  },
  {
    "text": "it um Windows Al for business or whfb",
    "start": "74040",
    "end": "77640"
  },
  {
    "text": "for short from now because it's a long",
    "start": "77640",
    "end": "80000"
  },
  {
    "text": "phrase uh is considered a fishing",
    "start": "80000",
    "end": "82000"
  },
  {
    "text": "resistant authentication method and uh I",
    "start": "82000",
    "end": "85600"
  },
  {
    "text": "kind of discovered a way to fish windows",
    "start": "85600",
    "end": "88799"
  },
  {
    "text": "for business by way of a downgrade",
    "start": "88799",
    "end": "90680"
  },
  {
    "text": "attack uh we're going to see exactly how",
    "start": "90680",
    "end": "92200"
  },
  {
    "text": "it plays out but uh before we talk about",
    "start": "92200",
    "end": "95479"
  },
  {
    "text": "Windows alow for business we should talk",
    "start": "95479",
    "end": "97200"
  },
  {
    "text": "a bit about uh Windows alow Windows alow",
    "start": "97200",
    "end": "100320"
  },
  {
    "text": "is the authentication mechanisms uh that",
    "start": "100320",
    "end": "103079"
  },
  {
    "text": "you might be familiar with from Windows",
    "start": "103079",
    "end": "105960"
  },
  {
    "text": "it allows you to use a pin code to",
    "start": "105960",
    "end": "107640"
  },
  {
    "text": "authenticate your device or use a facial",
    "start": "107640",
    "end": "110960"
  },
  {
    "text": "recognition or fingerprint or PIN code",
    "start": "110960",
    "end": "114759"
  },
  {
    "text": "and uh the way it works is by utilizing",
    "start": "114759",
    "end": "117560"
  },
  {
    "text": "something called the TPM uh or The",
    "start": "117560",
    "end": "120079"
  },
  {
    "text": "Trusted platform model um that's located",
    "start": "120079",
    "end": "122960"
  },
  {
    "text": "on the motherboard or on the CPU and it",
    "start": "122960",
    "end": "125680"
  },
  {
    "text": "stores cryptographic Keys directly on",
    "start": "125680",
    "end": "128160"
  },
  {
    "text": "the hardware meaning uh it is not uh in",
    "start": "128160",
    "end": "131120"
  },
  {
    "text": "the hard disk and like the file system",
    "start": "131120",
    "end": "133440"
  },
  {
    "text": "shouldn't have access uh to that",
    "start": "133440",
    "end": "136720"
  },
  {
    "text": "um so this is just a bit of an overview",
    "start": "136720",
    "end": "139400"
  },
  {
    "text": "so we can kind of understand how it",
    "start": "139400",
    "end": "141120"
  },
  {
    "text": "works because it's a bit needed so first",
    "start": "141120",
    "end": "144120"
  },
  {
    "text": "of all to use Windows hello uh you need",
    "start": "144120",
    "end": "146120"
  },
  {
    "text": "to enroll to Windows hello so you create",
    "start": "146120",
    "end": "148360"
  },
  {
    "text": "a pin code for example uh which is",
    "start": "148360",
    "end": "150760"
  },
  {
    "text": "hashed and then there's some a lot of",
    "start": "150760",
    "end": "153239"
  },
  {
    "text": "magic that's done to it but it gets",
    "start": "153239",
    "end": "155239"
  },
  {
    "text": "stored in the TPM now when you want to",
    "start": "155239",
    "end": "158760"
  },
  {
    "text": "authenticate to uh your uh Windows",
    "start": "158760",
    "end": "161280"
  },
  {
    "text": "device you provide the windows a low pin",
    "start": "161280",
    "end": "163400"
  },
  {
    "text": "and that is kind of sent uh to the TPM",
    "start": "163400",
    "end": "167040"
  },
  {
    "text": "now the TPM performs the",
    "start": "167040",
    "end": "169840"
  },
  {
    "text": "verification uh and Compares it those",
    "start": "169840",
    "end": "172080"
  },
  {
    "text": "stuff and if all matches then uh you get",
    "start": "172080",
    "end": "175120"
  },
  {
    "text": "access to your",
    "start": "175120",
    "end": "176640"
  },
  {
    "text": "device now windows alow for business is",
    "start": "176640",
    "end": "179879"
  },
  {
    "text": "kind of the uh extension for it it's the",
    "start": "179879",
    "end": "182519"
  },
  {
    "text": "kind of Enterprise uh way basically it",
    "start": "182519",
    "end": "184680"
  },
  {
    "text": "allows you to use your local uh Windows",
    "start": "184680",
    "end": "187120"
  },
  {
    "text": "Alo uh mechanism to authenticate to",
    "start": "187120",
    "end": "189840"
  },
  {
    "text": "Cloud applications uh and it looks",
    "start": "189840",
    "end": "192360"
  },
  {
    "text": "something like this so when you go to",
    "start": "192360",
    "end": "194040"
  },
  {
    "text": "the uh Microsoft portal to authenticate",
    "start": "194040",
    "end": "197200"
  },
  {
    "text": "you can click on the sign in options and",
    "start": "197200",
    "end": "199200"
  },
  {
    "text": "then you can click on the uh box to",
    "start": "199200",
    "end": "201959"
  },
  {
    "text": "authenticate using uh windows alow for",
    "start": "201959",
    "end": "204959"
  },
  {
    "text": "business now when you do click on that",
    "start": "204959",
    "end": "208000"
  },
  {
    "text": "uh it's going to look something like",
    "start": "208000",
    "end": "209159"
  },
  {
    "text": "this or it's going to have a popup like",
    "start": "209159",
    "end": "211200"
  },
  {
    "text": "a window security kind of box and you're",
    "start": "211200",
    "end": "213480"
  },
  {
    "text": "going to select a credential and once",
    "start": "213480",
    "end": "215560"
  },
  {
    "text": "you do you need to prove your uh uh like",
    "start": "215560",
    "end": "219200"
  },
  {
    "text": "your You by either a fingerprint or a",
    "start": "219200",
    "end": "221319"
  },
  {
    "text": "pin code um and then you will have",
    "start": "221319",
    "end": "223799"
  },
  {
    "text": "access to uh the entra portal for",
    "start": "223799",
    "end": "227799"
  },
  {
    "text": "example uh a quick note on that is apart",
    "start": "227799",
    "end": "230840"
  },
  {
    "text": "from uh windows alow for business",
    "start": "230840",
    "end": "232640"
  },
  {
    "text": "there's also uh Pho keys so they kind of",
    "start": "232640",
    "end": "236480"
  },
  {
    "text": "act as a replacement for the TPMS role",
    "start": "236480",
    "end": "239200"
  },
  {
    "text": "in the authentication part meaning they",
    "start": "239200",
    "end": "241360"
  },
  {
    "text": "can store uh cryptographic uh keys on",
    "start": "241360",
    "end": "244920"
  },
  {
    "text": "them um they have many names some call",
    "start": "244920",
    "end": "247400"
  },
  {
    "text": "them UB Keys uh or security Keys pass",
    "start": "247400",
    "end": "250239"
  },
  {
    "text": "keys but um we're going to stick with",
    "start": "250239",
    "end": "252560"
  },
  {
    "text": "the term physical authenticators because",
    "start": "252560",
    "end": "254879"
  },
  {
    "text": "that's the term uh described in the web",
    "start": "254879",
    "end": "257880"
  },
  {
    "text": "API uh specification so yeah uh another",
    "start": "257880",
    "end": "262639"
  },
  {
    "text": "thing I want to quickly cover is the",
    "start": "262639",
    "end": "264240"
  },
  {
    "text": "default authentication so uh today it is",
    "start": "264240",
    "end": "267120"
  },
  {
    "text": "no longer the case Microsoft changed it",
    "start": "267120",
    "end": "269520"
  },
  {
    "text": "and",
    "start": "269520",
    "end": "270440"
  },
  {
    "text": "it's good that they did um but uh when",
    "start": "270440",
    "end": "273520"
  },
  {
    "text": "you use to perform successful",
    "start": "273520",
    "end": "275240"
  },
  {
    "text": "authentication to Azure if it was for",
    "start": "275240",
    "end": "277680"
  },
  {
    "text": "example using an OTP code um then the",
    "start": "277680",
    "end": "281039"
  },
  {
    "text": "next time you would want to authenticate",
    "start": "281039",
    "end": "282720"
  },
  {
    "text": "to Azure um and you enter your kind of",
    "start": "282720",
    "end": "286160"
  },
  {
    "text": "email and click on next uh then it would",
    "start": "286160",
    "end": "288720"
  },
  {
    "text": "prompt you to use that authentication",
    "start": "288720",
    "end": "290479"
  },
  {
    "text": "mechanism even if you are enrolled to",
    "start": "290479",
    "end": "293199"
  },
  {
    "text": "Stronger kind of",
    "start": "293199",
    "end": "294639"
  },
  {
    "text": "authentication um today the default",
    "start": "294639",
    "end": "296759"
  },
  {
    "text": "authentication is the strongest one",
    "start": "296759",
    "end": "298400"
  },
  {
    "text": "available so it's good that they",
    "start": "298400",
    "end": "300160"
  },
  {
    "text": "actually did that and it looks something",
    "start": "300160",
    "end": "302240"
  },
  {
    "text": "like this so you click you enter your",
    "start": "302240",
    "end": "304280"
  },
  {
    "text": "email click on next and you know the",
    "start": "304280",
    "end": "306400"
  },
  {
    "text": "rest now you might ask yourself uh it's",
    "start": "306400",
    "end": "310000"
  },
  {
    "text": "just a pin code I mean can't we fish",
    "start": "310000",
    "end": "312400"
  },
  {
    "text": "that password too I mean what's so",
    "start": "312400",
    "end": "314840"
  },
  {
    "text": "secure about it uh and the answer is not",
    "start": "314840",
    "end": "317479"
  },
  {
    "text": "so simple uh because of the web of an",
    "start": "317479",
    "end": "320520"
  },
  {
    "text": "API uh and we're going to understand uh",
    "start": "320520",
    "end": "323840"
  },
  {
    "text": "what happens now we're going to see uh",
    "start": "323840",
    "end": "326639"
  },
  {
    "text": "what happens when you try and fish",
    "start": "326639",
    "end": "327919"
  },
  {
    "text": "someone who uses windows alow for",
    "start": "327919",
    "end": "329800"
  },
  {
    "text": "business if you set everything up",
    "start": "329800",
    "end": "331280"
  },
  {
    "text": "correctly for the fishing framework so",
    "start": "331280",
    "end": "333840"
  },
  {
    "text": "you go to the uh attacker website you",
    "start": "333840",
    "end": "336199"
  },
  {
    "text": "put your email click on next and uh then",
    "start": "336199",
    "end": "339960"
  },
  {
    "text": "you uh will get this kind of uh message",
    "start": "339960",
    "end": "343240"
  },
  {
    "text": "this is like the windows box we saw",
    "start": "343240",
    "end": "345360"
  },
  {
    "text": "before but as you can see there are no",
    "start": "345360",
    "end": "347280"
  },
  {
    "text": "credentials here and if we take a closer",
    "start": "347280",
    "end": "350039"
  },
  {
    "text": "look we see that uh it is it says",
    "start": "350039",
    "end": "352800"
  },
  {
    "text": "attacker.com on the domain and it it's",
    "start": "352800",
    "end": "356000"
  },
  {
    "text": "very interesting and we're going to see",
    "start": "356000",
    "end": "357479"
  },
  {
    "text": "exactly uh why uh uh it goes like this",
    "start": "357479",
    "end": "361400"
  },
  {
    "text": "but this is the general thing that",
    "start": "361400",
    "end": "364120"
  },
  {
    "text": "happens now I said a few times the webon",
    "start": "364120",
    "end": "367080"
  },
  {
    "text": "API let's talk about it so the webon API",
    "start": "367080",
    "end": "370599"
  },
  {
    "text": "supposed to protect you against fishing",
    "start": "370599",
    "end": "372919"
  },
  {
    "text": "uh it's supposed to reduce the impact in",
    "start": "372919",
    "end": "374880"
  },
  {
    "text": "the case of a breach and it's supposed",
    "start": "374880",
    "end": "377160"
  },
  {
    "text": "to protect against password based",
    "start": "377160",
    "end": "379319"
  },
  {
    "text": "attacks um it does so by enabling the",
    "start": "379319",
    "end": "382039"
  },
  {
    "text": "use of strong and scoped credentials",
    "start": "382039",
    "end": "384800"
  },
  {
    "text": "which are uh public and private key",
    "start": "384800",
    "end": "387840"
  },
  {
    "text": "based so there are a few mechanisms for",
    "start": "387840",
    "end": "390360"
  },
  {
    "text": "the authentication and uh we're going to",
    "start": "390360",
    "end": "392280"
  },
  {
    "text": "go through them so that we can",
    "start": "392280",
    "end": "394240"
  },
  {
    "text": "understand how it works uh better so",
    "start": "394240",
    "end": "396800"
  },
  {
    "text": "first of all there's the challenge or",
    "start": "396800",
    "end": "398479"
  },
  {
    "text": "announ which is just a big string that's",
    "start": "398479",
    "end": "401280"
  },
  {
    "text": "valid for a few minutes it is generated",
    "start": "401280",
    "end": "403680"
  },
  {
    "text": "by Microsoft for example um and this non",
    "start": "403680",
    "end": "408080"
  },
  {
    "text": "needs to be signed using the appropriate",
    "start": "408080",
    "end": "410520"
  },
  {
    "text": "private key um it is either stored in",
    "start": "410520",
    "end": "412520"
  },
  {
    "text": "the TPM or in the physical authenticator",
    "start": "412520",
    "end": "415199"
  },
  {
    "text": "uh we're going to see exactly how that",
    "start": "415199",
    "end": "416960"
  },
  {
    "text": "private key gets to the TPM but just",
    "start": "416960",
    "end": "419720"
  },
  {
    "text": "keep this in mind um the signature is",
    "start": "419720",
    "end": "422840"
  },
  {
    "text": "produced by encrypting the challenge",
    "start": "422840",
    "end": "425840"
  },
  {
    "text": "that we just uh spoke about with the uh",
    "start": "425840",
    "end": "428720"
  },
  {
    "text": "private key um and it does so by uh",
    "start": "428720",
    "end": "432120"
  },
  {
    "text": "having your browser kind of interact",
    "start": "432120",
    "end": "433919"
  },
  {
    "text": "with the operating system uh we're going",
    "start": "433919",
    "end": "435840"
  },
  {
    "text": "to see exactly how that also comes into",
    "start": "435840",
    "end": "438639"
  },
  {
    "text": "play later but keep this in mind as well",
    "start": "438639",
    "end": "441560"
  },
  {
    "text": "um then there's the origin check so uh",
    "start": "441560",
    "end": "445039"
  },
  {
    "text": "just a quick reminder origin the origin",
    "start": "445039",
    "end": "447360"
  },
  {
    "text": "header is defined as the protocol schema",
    "start": "447360",
    "end": "450720"
  },
  {
    "text": "uh the host name and the port um and it",
    "start": "450720",
    "end": "453720"
  },
  {
    "text": "is a implemented by the browser and uh",
    "start": "453720",
    "end": "457759"
  },
  {
    "text": "it is not something that the web",
    "start": "457759",
    "end": "459199"
  },
  {
    "text": "application can supply to the client",
    "start": "459199",
    "end": "462080"
  },
  {
    "text": "meaning uh a web application cannot just",
    "start": "462080",
    "end": "464879"
  },
  {
    "text": "come to us to a user and say hi I am",
    "start": "464879",
    "end": "468039"
  },
  {
    "text": "microsoft.com and please treat me as",
    "start": "468039",
    "end": "470280"
  },
  {
    "text": "such uh no it is determined by the",
    "start": "470280",
    "end": "472440"
  },
  {
    "text": "client",
    "start": "472440",
    "end": "473759"
  },
  {
    "text": "itself and we will see that this is also",
    "start": "473759",
    "end": "476400"
  },
  {
    "text": "checked by both the client and by the",
    "start": "476400",
    "end": "478199"
  },
  {
    "text": "server",
    "start": "478199",
    "end": "480039"
  },
  {
    "text": "um last but not least is the assertion",
    "start": "480039",
    "end": "482919"
  },
  {
    "text": "so the assertion is just the name for",
    "start": "482919",
    "end": "484599"
  },
  {
    "text": "the entire package that's gets gets sent",
    "start": "484599",
    "end": "487479"
  },
  {
    "text": "uh Tod server uh which contains the",
    "start": "487479",
    "end": "490159"
  },
  {
    "text": "encrypted Challenge and the signature",
    "start": "490159",
    "end": "492280"
  },
  {
    "text": "and uh everything like that and it is",
    "start": "492280",
    "end": "495120"
  },
  {
    "text": "just a big URL in code Json which we",
    "start": "495120",
    "end": "497720"
  },
  {
    "text": "have just seen a few slides ago and if",
    "start": "497720",
    "end": "500000"
  },
  {
    "text": "we dive into the client data Json it's",
    "start": "500000",
    "end": "503319"
  },
  {
    "text": "just the challenge and the origin that",
    "start": "503319",
    "end": "505520"
  },
  {
    "text": "are also being",
    "start": "505520",
    "end": "507919"
  },
  {
    "text": "sent um and yet I mean why is it so",
    "start": "507919",
    "end": "511639"
  },
  {
    "text": "secure and to really answer that we",
    "start": "511639",
    "end": "514080"
  },
  {
    "text": "should talk now about the architecture",
    "start": "514080",
    "end": "516880"
  },
  {
    "text": "so first of all is the registration you",
    "start": "516880",
    "end": "519800"
  },
  {
    "text": "have to enroll to Windows alow for",
    "start": "519800",
    "end": "521399"
  },
  {
    "text": "business before you can use it use it to",
    "start": "521399",
    "end": "523800"
  },
  {
    "text": "authenticate um and a quick note here uh",
    "start": "523800",
    "end": "526560"
  },
  {
    "text": "for Windows alow for business",
    "start": "526560",
    "end": "528120"
  },
  {
    "text": "specifically the um the registration is",
    "start": "528120",
    "end": "532320"
  },
  {
    "text": "goes a bit differently but the end",
    "start": "532320",
    "end": "534160"
  },
  {
    "text": "result is still very much the same um",
    "start": "534160",
    "end": "536959"
  },
  {
    "text": "and this is how it goes for Pho uh",
    "start": "536959",
    "end": "539000"
  },
  {
    "text": "registra ation so first of all you have",
    "start": "539000",
    "end": "541600"
  },
  {
    "text": "to log in with username or password and",
    "start": "541600",
    "end": "544079"
  },
  {
    "text": "this might be the equivalent of uh",
    "start": "544079",
    "end": "546079"
  },
  {
    "text": "joining or registering your device to",
    "start": "546079",
    "end": "548920"
  },
  {
    "text": "entra for Windows Al for business and",
    "start": "548920",
    "end": "551839"
  },
  {
    "text": "then you will choose to create a new",
    "start": "551839",
    "end": "553760"
  },
  {
    "text": "credential for example a f key if you",
    "start": "553760",
    "end": "556839"
  },
  {
    "text": "plug that physical authenticator to your",
    "start": "556839",
    "end": "560040"
  },
  {
    "text": "uh device or if you just want to enroll",
    "start": "560040",
    "end": "562040"
  },
  {
    "text": "to",
    "start": "562040",
    "end": "563839"
  },
  {
    "text": "whfb um then what happens is uh like a",
    "start": "563839",
    "end": "568240"
  },
  {
    "text": "script will be served to your uh browser",
    "start": "568240",
    "end": "570720"
  },
  {
    "text": "and uh that will utilize the web API",
    "start": "570720",
    "end": "574079"
  },
  {
    "text": "that's implemented in the",
    "start": "574079",
    "end": "576160"
  },
  {
    "text": "browsers uh in most uh like modern and",
    "start": "576160",
    "end": "579440"
  },
  {
    "text": "uh like popular browsers and it utilizes",
    "start": "579440",
    "end": "582240"
  },
  {
    "text": "something called the client platform uh",
    "start": "582240",
    "end": "584440"
  },
  {
    "text": "the client platform is comprised from",
    "start": "584440",
    "end": "586440"
  },
  {
    "text": "the user agent header and the device",
    "start": "586440",
    "end": "588560"
  },
  {
    "text": "itself the laptop and the mobile device",
    "start": "588560",
    "end": "591880"
  },
  {
    "text": "whatever",
    "start": "591880",
    "end": "593399"
  },
  {
    "text": "um so it uses the client platform to",
    "start": "593399",
    "end": "596920"
  },
  {
    "text": "connect to the authenticator either the",
    "start": "596920",
    "end": "598880"
  },
  {
    "text": "physical authenticator or the TPM and it",
    "start": "598880",
    "end": "602279"
  },
  {
    "text": "will request an authorization gesture",
    "start": "602279",
    "end": "604279"
  },
  {
    "text": "for example your fingerprint or a pin",
    "start": "604279",
    "end": "606079"
  },
  {
    "text": "code uh and once you provide that uh a",
    "start": "606079",
    "end": "609120"
  },
  {
    "text": "new credential will be created now",
    "start": "609120",
    "end": "612120"
  },
  {
    "text": "what's this credential so it is a public",
    "start": "612120",
    "end": "616079"
  },
  {
    "text": "key and a private key that is just a key",
    "start": "616079",
    "end": "618720"
  },
  {
    "text": "pair and the private key will be stored",
    "start": "618720",
    "end": "622120"
  },
  {
    "text": "in the authenticator while the public",
    "start": "622120",
    "end": "624160"
  },
  {
    "text": "key uh will be sent to the server along",
    "start": "624160",
    "end": "626440"
  },
  {
    "text": "with some metadata now if you recall few",
    "start": "626440",
    "end": "629519"
  },
  {
    "text": "slides ago you might remember that uh",
    "start": "629519",
    "end": "632279"
  },
  {
    "text": "the web ofan kind of promises to reduce",
    "start": "632279",
    "end": "634480"
  },
  {
    "text": "the impact in a case of a breach and we",
    "start": "634480",
    "end": "636360"
  },
  {
    "text": "can see here it kind of lives up to this",
    "start": "636360",
    "end": "639120"
  },
  {
    "text": "because if the server contains uh just",
    "start": "639120",
    "end": "642440"
  },
  {
    "text": "public Keys then and someone were to",
    "start": "642440",
    "end": "644519"
  },
  {
    "text": "breach it then the attacker would only",
    "start": "644519",
    "end": "646440"
  },
  {
    "text": "have a bunch of public keys and not the",
    "start": "646440",
    "end": "649240"
  },
  {
    "text": "private key uh and this means that uh",
    "start": "649240",
    "end": "652399"
  },
  {
    "text": "the attacker cannot use it to",
    "start": "652399",
    "end": "653839"
  },
  {
    "text": "impersonate other users or take it",
    "start": "653839",
    "end": "655760"
  },
  {
    "text": "offline for Brute Force attacks things",
    "start": "655760",
    "end": "658000"
  },
  {
    "text": "like that",
    "start": "658000",
    "end": "660160"
  },
  {
    "text": "now uh now we know how the private key",
    "start": "660160",
    "end": "663200"
  },
  {
    "text": "kind of got to the TPM or the",
    "start": "663200",
    "end": "665040"
  },
  {
    "text": "authenticator uh let's talk about the",
    "start": "665040",
    "end": "666880"
  },
  {
    "text": "authentication process so um first of",
    "start": "666880",
    "end": "670680"
  },
  {
    "text": "all when you choose to authenticate",
    "start": "670680",
    "end": "672440"
  },
  {
    "text": "using the whfb uh a script will be serve",
    "start": "672440",
    "end": "675600"
  },
  {
    "text": "to your browser uh the browser will",
    "start": "675600",
    "end": "678320"
  },
  {
    "text": "request a NS from the server uh and once",
    "start": "678320",
    "end": "682480"
  },
  {
    "text": "the server Returns the nouns to the",
    "start": "682480",
    "end": "684839"
  },
  {
    "text": "client the challenge uh it will use the",
    "start": "684839",
    "end": "687200"
  },
  {
    "text": "webos and API to interact with the",
    "start": "687200",
    "end": "689320"
  },
  {
    "text": "client platform uh which will request",
    "start": "689320",
    "end": "691959"
  },
  {
    "text": "Hardware authorization uh once you",
    "start": "691959",
    "end": "695440"
  },
  {
    "text": "authorize uh for example provide your uh",
    "start": "695440",
    "end": "698240"
  },
  {
    "text": "pin code or the fingerprint uh it will",
    "start": "698240",
    "end": "700519"
  },
  {
    "text": "search for uh relevant uh credentials",
    "start": "700519",
    "end": "702959"
  },
  {
    "text": "within the authenticator within either",
    "start": "702959",
    "end": "704600"
  },
  {
    "text": "the TPM or the physical authenticator",
    "start": "704600",
    "end": "707040"
  },
  {
    "text": "and I kind of wanted to illustrate it",
    "start": "707040",
    "end": "708680"
  },
  {
    "text": "with a cute picture of the TPM I hope",
    "start": "708680",
    "end": "711120"
  },
  {
    "text": "you like it um so the TPM can hold many",
    "start": "711120",
    "end": "715440"
  },
  {
    "text": "many credentials for example you can see",
    "start": "715440",
    "end": "717760"
  },
  {
    "text": "credentials for user one and user two",
    "start": "717760",
    "end": "720079"
  },
  {
    "text": "three and four for microsoft.com or",
    "start": "720079",
    "end": "722839"
  },
  {
    "text": "github.com and the web of an API will",
    "start": "722839",
    "end": "726120"
  },
  {
    "text": "ask something like this uh it will ask",
    "start": "726120",
    "end": "728880"
  },
  {
    "text": "what credentials are available for",
    "start": "728880",
    "end": "731480"
  },
  {
    "text": "microsoft.com now what is microsoft.com",
    "start": "731480",
    "end": "734760"
  },
  {
    "text": "really derived from here uh well that's",
    "start": "734760",
    "end": "737399"
  },
  {
    "text": "the origin we just talked about a few",
    "start": "737399",
    "end": "739560"
  },
  {
    "text": "slides ago so the origin uh being a",
    "start": "739560",
    "end": "743680"
  },
  {
    "text": "client side protection mechanism is not",
    "start": "743680",
    "end": "746360"
  },
  {
    "text": "something an attacker on a web server",
    "start": "746360",
    "end": "748279"
  },
  {
    "text": "can um",
    "start": "748279",
    "end": "750000"
  },
  {
    "text": "can interfere with so it's good that uh",
    "start": "750000",
    "end": "753720"
  },
  {
    "text": "really you can see how the client checks",
    "start": "753720",
    "end": "756320"
  },
  {
    "text": "uh checks the uh the origin in this in",
    "start": "756320",
    "end": "760000"
  },
  {
    "text": "this part so one stud is done uh for",
    "start": "760000",
    "end": "763720"
  },
  {
    "text": "example user one and user two are the",
    "start": "763720",
    "end": "765600"
  },
  {
    "text": "credentials that a user can use to",
    "start": "765600",
    "end": "768199"
  },
  {
    "text": "authenticate using Pho authentication or",
    "start": "768199",
    "end": "771399"
  },
  {
    "text": "Windows Al for",
    "start": "771399",
    "end": "773279"
  },
  {
    "text": "business so that's good uh and it looks",
    "start": "773279",
    "end": "776560"
  },
  {
    "text": "something like this and if you uh recall",
    "start": "776560",
    "end": "779800"
  },
  {
    "text": "uh we saw beforehand the attacker.com",
    "start": "779800",
    "end": "782440"
  },
  {
    "text": "domain but if we were on login",
    "start": "782440",
    "end": "784920"
  },
  {
    "text": "microsoft.com we can see how that is",
    "start": "784920",
    "end": "786800"
  },
  {
    "text": "kind of connected to the domain itself",
    "start": "786800",
    "end": "789519"
  },
  {
    "text": "so uh we take the challenge and we uh",
    "start": "789519",
    "end": "792279"
  },
  {
    "text": "encrypt it using the appropriate private",
    "start": "792279",
    "end": "794440"
  },
  {
    "text": "key to create a Json uh that Json is",
    "start": "794440",
    "end": "797760"
  },
  {
    "text": "just the assertion we also talked about",
    "start": "797760",
    "end": "799440"
  },
  {
    "text": "a few slides ago uh and that is return",
    "start": "799440",
    "end": "801839"
  },
  {
    "text": "to the web application server now the",
    "start": "801839",
    "end": "804199"
  },
  {
    "text": "web application server will perform some",
    "start": "804199",
    "end": "806240"
  },
  {
    "text": "checks here it will perform some",
    "start": "806240",
    "end": "807800"
  },
  {
    "text": "verifications on the sign signature on",
    "start": "807800",
    "end": "809959"
  },
  {
    "text": "the origin it will check is that me is",
    "start": "809959",
    "end": "812160"
  },
  {
    "text": "that not me uh it's important stuff and",
    "start": "812160",
    "end": "815079"
  },
  {
    "text": "uh once all is done you will get",
    "start": "815079",
    "end": "818120"
  },
  {
    "text": "access so now we know a bit about the",
    "start": "818120",
    "end": "821040"
  },
  {
    "text": "webon API and we can start uh talking",
    "start": "821040",
    "end": "823760"
  },
  {
    "text": "about uh my",
    "start": "823760",
    "end": "825360"
  },
  {
    "text": "investigation so I started with uh the",
    "start": "825360",
    "end": "829720"
  },
  {
    "text": "assertion which uh as we remember it",
    "start": "829720",
    "end": "833360"
  },
  {
    "text": "looks something like this I tried uh",
    "start": "833360",
    "end": "836639"
  },
  {
    "text": "signing the the challenges using",
    "start": "836639",
    "end": "839680"
  },
  {
    "text": "different private keys I tried",
    "start": "839680",
    "end": "841920"
  },
  {
    "text": "intercepting the the challenges",
    "start": "841920",
    "end": "844279"
  },
  {
    "text": "themselves using different",
    "start": "844279",
    "end": "845920"
  },
  {
    "text": "challenges uh modifying the origin",
    "start": "845920",
    "end": "848519"
  },
  {
    "text": "trying to modify it from attacker.com to",
    "start": "848519",
    "end": "850839"
  },
  {
    "text": "really login microsoft.com to see if",
    "start": "850839",
    "end": "852959"
  },
  {
    "text": "there's any failure in that case and um",
    "start": "852959",
    "end": "857160"
  },
  {
    "text": "the answer is no uh I banged my head",
    "start": "857160",
    "end": "859519"
  },
  {
    "text": "against the wall and nothing came out so",
    "start": "859519",
    "end": "861880"
  },
  {
    "text": "I decided to take a step back to what",
    "start": "861880",
    "end": "864040"
  },
  {
    "text": "happens when you click on the uh face",
    "start": "864040",
    "end": "866160"
  },
  {
    "text": "fingerprint or security key kind of box",
    "start": "866160",
    "end": "869759"
  },
  {
    "text": "uh or when you put your email and click",
    "start": "869759",
    "end": "871759"
  },
  {
    "text": "on next and this is the request that we",
    "start": "871759",
    "end": "874120"
  },
  {
    "text": "see uh when we click on that and if",
    "start": "874120",
    "end": "876639"
  },
  {
    "text": "you're sharp and uh well it took me a",
    "start": "876639",
    "end": "879199"
  },
  {
    "text": "lot of time to figure this but um there",
    "start": "879199",
    "end": "881720"
  },
  {
    "text": "are two interesting parameters here so",
    "start": "881720",
    "end": "883560"
  },
  {
    "text": "there's the efid supported parameter",
    "start": "883560",
    "end": "885839"
  },
  {
    "text": "which is I think a dead giveaway and um",
    "start": "885839",
    "end": "889120"
  },
  {
    "text": "the user agent which if we recall",
    "start": "889120",
    "end": "891360"
  },
  {
    "text": "according to the spec it kind of",
    "start": "891360",
    "end": "892800"
  },
  {
    "text": "comprises the client platform so by",
    "start": "892800",
    "end": "896600"
  },
  {
    "text": "changing the iso supported from True to",
    "start": "896600",
    "end": "898680"
  },
  {
    "text": "false we could uh basically downgrade",
    "start": "898680",
    "end": "901880"
  },
  {
    "text": "the authentication from uh windows alow",
    "start": "901880",
    "end": "904600"
  },
  {
    "text": "for business which is uh secure rather",
    "start": "904600",
    "end": "907920"
  },
  {
    "text": "uh to something that is not secure and",
    "start": "907920",
    "end": "909880"
  },
  {
    "text": "something we can fish using a common",
    "start": "909880",
    "end": "912120"
  },
  {
    "text": "fishing",
    "start": "912120",
    "end": "913120"
  },
  {
    "text": "Frameworks um the same can be done with",
    "start": "913120",
    "end": "915240"
  },
  {
    "text": "the user agent head header but uh well",
    "start": "915240",
    "end": "918360"
  },
  {
    "text": "today at least you will cannot modify",
    "start": "918360",
    "end": "920480"
  },
  {
    "text": "the isfo supported parameter uh",
    "start": "920480",
    "end": "923360"
  },
  {
    "text": "Microsoft fixed that um but still the",
    "start": "923360",
    "end": "926440"
  },
  {
    "text": "user agent header kind of works",
    "start": "926440",
    "end": "929560"
  },
  {
    "text": "but uh it is just uh client side",
    "start": "929560",
    "end": "933240"
  },
  {
    "text": "defenses I mean since this is just",
    "start": "933240",
    "end": "935279"
  },
  {
    "text": "JavaScript running on your uh kind of",
    "start": "935279",
    "end": "937279"
  },
  {
    "text": "local browser you you will always have",
    "start": "937279",
    "end": "939519"
  },
  {
    "text": "the ability to interfere with it so on",
    "start": "939519",
    "end": "941759"
  },
  {
    "text": "the mitigations we'll focus on something",
    "start": "941759",
    "end": "943440"
  },
  {
    "text": "that's more uh bulletproof or something",
    "start": "943440",
    "end": "946160"
  },
  {
    "text": "that's more um definitive for this so",
    "start": "946160",
    "end": "951279"
  },
  {
    "text": "just a quick demonstration uh using a",
    "start": "951279",
    "end": "953519"
  },
  {
    "text": "verb Suite a common proxy we put our",
    "start": "953519",
    "end": "956319"
  },
  {
    "text": "username and then we intercept the",
    "start": "956319",
    "end": "958519"
  },
  {
    "text": "request we see the supported on true we",
    "start": "958519",
    "end": "961319"
  },
  {
    "text": "swap it to false and then our",
    "start": "961319",
    "end": "963480"
  },
  {
    "text": "authentication gets",
    "start": "963480",
    "end": "965560"
  },
  {
    "text": "downgraded um and then we get access to",
    "start": "965560",
    "end": "968160"
  },
  {
    "text": "the entra",
    "start": "968160",
    "end": "970480"
  },
  {
    "text": "portal so now we know about that but I",
    "start": "970480",
    "end": "973160"
  },
  {
    "text": "wanted to really take what I discovered",
    "start": "973160",
    "end": "975480"
  },
  {
    "text": "then do it kind of for a massive scale",
    "start": "975480",
    "end": "977920"
  },
  {
    "text": "uh I wanted to uh not just use a proxy",
    "start": "977920",
    "end": "981399"
  },
  {
    "text": "and like uh have have it end there so",
    "start": "981399",
    "end": "985800"
  },
  {
    "text": "first of all in case you don't know how",
    "start": "985800",
    "end": "987800"
  },
  {
    "text": "proxy fishing works so a legitimate",
    "start": "987800",
    "end": "990240"
  },
  {
    "text": "authentication flow might look something",
    "start": "990240",
    "end": "991759"
  },
  {
    "text": "like this you send a request directly to",
    "start": "991759",
    "end": "993480"
  },
  {
    "text": "Azure and get the response from Azure",
    "start": "993480",
    "end": "995639"
  },
  {
    "text": "back to yourself but if you are a proxy",
    "start": "995639",
    "end": "999399"
  },
  {
    "text": "or an attacker in the middle who set up",
    "start": "999399",
    "end": "1001399"
  },
  {
    "text": "your own server you can send fishing",
    "start": "1001399",
    "end": "1003639"
  },
  {
    "text": "links to users and then um have them",
    "start": "1003639",
    "end": "1007199"
  },
  {
    "text": "sign in to your application which",
    "start": "1007199",
    "end": "1009199"
  },
  {
    "text": "proxies Azure so they send uh the",
    "start": "1009199",
    "end": "1012440"
  },
  {
    "text": "requests to Azure and the responses from",
    "start": "1012440",
    "end": "1014920"
  },
  {
    "text": "Azure are returned uh to the malicious",
    "start": "1014920",
    "end": "1018480"
  },
  {
    "text": "server and are then sent back to the",
    "start": "1018480",
    "end": "1020440"
  },
  {
    "text": "user so the attacker can kind of stand",
    "start": "1020440",
    "end": "1023399"
  },
  {
    "text": "in the middle and um just capture this",
    "start": "1023399",
    "end": "1026199"
  },
  {
    "text": "credential uh capture these cookies and",
    "start": "1026199",
    "end": "1029160"
  },
  {
    "text": "uh with these cookies I can bypass for",
    "start": "1029160",
    "end": "1031760"
  },
  {
    "text": "example common MFA or authenticator kind",
    "start": "1031760",
    "end": "1034678"
  },
  {
    "text": "of authentications because we can just",
    "start": "1034679",
    "end": "1036600"
  },
  {
    "text": "take the cookies and import them to our",
    "start": "1036600",
    "end": "1038880"
  },
  {
    "text": "local browser session and hijack that",
    "start": "1038880",
    "end": "1042199"
  },
  {
    "text": "session um I chose to use evil Jinx a",
    "start": "1042199",
    "end": "1045240"
  },
  {
    "text": "great framework made by kuag Gretzky if",
    "start": "1045240",
    "end": "1047959"
  },
  {
    "text": "you do not know it then you should",
    "start": "1047959",
    "end": "1049400"
  },
  {
    "text": "definitely check it out it's a great",
    "start": "1049400",
    "end": "1051880"
  },
  {
    "text": "framework um and I wanted to show you",
    "start": "1051880",
    "end": "1054120"
  },
  {
    "text": "how it kind of looks like when you set",
    "start": "1054120",
    "end": "1055840"
  },
  {
    "text": "it up so uh you're going to see this is",
    "start": "1055840",
    "end": "1058559"
  },
  {
    "text": "the like just the regular Microsoft page",
    "start": "1058559",
    "end": "1061600"
  },
  {
    "text": "and really it's a onetoone replica I",
    "start": "1061600",
    "end": "1063760"
  },
  {
    "text": "mean you cannot really tell uh it is not",
    "start": "1063760",
    "end": "1066320"
  },
  {
    "text": "a fishing page because there's no HTML",
    "start": "1066320",
    "end": "1068440"
  },
  {
    "text": "or css involved here it's just a proxy",
    "start": "1068440",
    "end": "1071160"
  },
  {
    "text": "for microsoft.com if Microsoft did some",
    "start": "1071160",
    "end": "1073720"
  },
  {
    "text": "rebranding sometime well it would still",
    "start": "1073720",
    "end": "1076600"
  },
  {
    "text": "look exactly like how Microsoft",
    "start": "1076600",
    "end": "1078080"
  },
  {
    "text": "rebranded it because it's just a proxy",
    "start": "1078080",
    "end": "1080919"
  },
  {
    "text": "the only real way to tell is by the uh",
    "start": "1080919",
    "end": "1084720"
  },
  {
    "text": "by the domain name in this case it's it",
    "start": "1084720",
    "end": "1086880"
  },
  {
    "text": "might not be so obvious attacker.com but",
    "start": "1086880",
    "end": "1089240"
  },
  {
    "text": "that's a malicious domain um but in all",
    "start": "1089240",
    "end": "1092120"
  },
  {
    "text": "seriousness attackers can use type",
    "start": "1092120",
    "end": "1094240"
  },
  {
    "text": "squats and like try and modify Microsoft",
    "start": "1094240",
    "end": "1097120"
  },
  {
    "text": "swap an O for a zero and try to look",
    "start": "1097120",
    "end": "1099919"
  },
  {
    "text": "like",
    "start": "1099919",
    "end": "1100919"
  },
  {
    "text": "Microsoft um so to automate the entire",
    "start": "1100919",
    "end": "1103159"
  },
  {
    "text": "thing I had to add just a bit of support",
    "start": "1103159",
    "end": "1105400"
  },
  {
    "text": "to the evil Jinx framework to support",
    "start": "1105400",
    "end": "1107400"
  },
  {
    "text": "some Json parameters",
    "start": "1107400",
    "end": "1109320"
  },
  {
    "text": "and with that I could be able to craft",
    "start": "1109320",
    "end": "1112080"
  },
  {
    "text": "something called a fish fish is just a",
    "start": "1112080",
    "end": "1114559"
  },
  {
    "text": "template for evil jinkx which we can",
    "start": "1114559",
    "end": "1117039"
  },
  {
    "text": "specify that we want for example to",
    "start": "1117039",
    "end": "1118919"
  },
  {
    "text": "proxy",
    "start": "1118919",
    "end": "1120440"
  },
  {
    "text": "microsoft.com and uh for example we want",
    "start": "1120440",
    "end": "1123039"
  },
  {
    "text": "to capture the specific request you can",
    "start": "1123039",
    "end": "1125280"
  },
  {
    "text": "see in the red box the get credential",
    "start": "1125280",
    "end": "1127720"
  },
  {
    "text": "type request we find the isfo supported",
    "start": "1127720",
    "end": "1130840"
  },
  {
    "text": "parameter and switch it from a star to",
    "start": "1130840",
    "end": "1133280"
  },
  {
    "text": "false and this way we can achieve the",
    "start": "1133280",
    "end": "1135480"
  },
  {
    "text": "downgrade so let's see a short rtion so",
    "start": "1135480",
    "end": "1140760"
  },
  {
    "text": "uh you go to the attacker's website you",
    "start": "1140760",
    "end": "1143360"
  },
  {
    "text": "put your username and then uh you will",
    "start": "1143360",
    "end": "1146520"
  },
  {
    "text": "be downgraded so you put your password",
    "start": "1146520",
    "end": "1149799"
  },
  {
    "text": "and you get the OTP code instead of",
    "start": "1149799",
    "end": "1152280"
  },
  {
    "text": "Windows alow for business um and then we",
    "start": "1152280",
    "end": "1155240"
  },
  {
    "text": "can just redirect the victim user to uh",
    "start": "1155240",
    "end": "1158280"
  },
  {
    "text": "office.com because we don't care what",
    "start": "1158280",
    "end": "1160000"
  },
  {
    "text": "happens with him next um from the",
    "start": "1160000",
    "end": "1162400"
  },
  {
    "text": "attacker side we can see the username",
    "start": "1162400",
    "end": "1164960"
  },
  {
    "text": "and password obviously not the real",
    "start": "1164960",
    "end": "1166919"
  },
  {
    "text": "credentials and we can see the cookie",
    "start": "1166919",
    "end": "1169280"
  },
  {
    "text": "uh with that cookie we can actually even",
    "start": "1169280",
    "end": "1171640"
  },
  {
    "text": "if the user has MFA enabled we can just",
    "start": "1171640",
    "end": "1174679"
  },
  {
    "text": "uh take that cookie and import it to a",
    "start": "1174679",
    "end": "1176960"
  },
  {
    "text": "session of our choosing and then we can",
    "start": "1176960",
    "end": "1180000"
  },
  {
    "text": "uh have our initial access to the Target",
    "start": "1180000",
    "end": "1184200"
  },
  {
    "text": "tenant for",
    "start": "1184200",
    "end": "1186159"
  },
  {
    "text": "example now for some uh mitigation",
    "start": "1186159",
    "end": "1189840"
  },
  {
    "text": "strategies um so uh we're going to use",
    "start": "1189840",
    "end": "1194600"
  },
  {
    "text": "conditional access policies uh",
    "start": "1194600",
    "end": "1196559"
  },
  {
    "text": "specifically we're going to use",
    "start": "1196559",
    "end": "1198080"
  },
  {
    "text": "Authentication strength is something",
    "start": "1198080",
    "end": "1200120"
  },
  {
    "text": "Microsoft introduced a while back um and",
    "start": "1200120",
    "end": "1204520"
  },
  {
    "text": "with it we can require authentication",
    "start": "1204520",
    "end": "1207240"
  },
  {
    "text": "strength specifically there are uh three",
    "start": "1207240",
    "end": "1210240"
  },
  {
    "text": "authentication strengths um what's what",
    "start": "1210240",
    "end": "1213200"
  },
  {
    "text": "interests us is the fishing resistant",
    "start": "1213200",
    "end": "1215840"
  },
  {
    "text": "MFA option so we want to create a",
    "start": "1215840",
    "end": "1219600"
  },
  {
    "text": "conditional access policy which will",
    "start": "1219600",
    "end": "1221840"
  },
  {
    "text": "require users um to use um",
    "start": "1221840",
    "end": "1225520"
  },
  {
    "text": "authentication strengths of require fish",
    "start": "1225520",
    "end": "1229039"
  },
  {
    "text": "resistant meaning uh we do not want them",
    "start": "1229039",
    "end": "1231919"
  },
  {
    "text": "to be able to sign in for example to all",
    "start": "1231919",
    "end": "1234280"
  },
  {
    "text": "Cloud applications using uh lesser",
    "start": "1234280",
    "end": "1236919"
  },
  {
    "text": "secure uh um like passwords and MFA",
    "start": "1236919",
    "end": "1241000"
  },
  {
    "text": "anything like",
    "start": "1241000",
    "end": "1242080"
  },
  {
    "text": "that um now we should create an",
    "start": "1242080",
    "end": "1245360"
  },
  {
    "text": "additional conditional access policy",
    "start": "1245360",
    "end": "1247880"
  },
  {
    "text": "because um well suppose right now an",
    "start": "1247880",
    "end": "1252080"
  },
  {
    "text": "attacker cannot authenticate or",
    "start": "1252080",
    "end": "1254159"
  },
  {
    "text": "downgrade the",
    "start": "1254159",
    "end": "1255360"
  },
  {
    "text": "authentication uh because they have to",
    "start": "1255360",
    "end": "1257840"
  },
  {
    "text": "use uh um like um they cannot use it to",
    "start": "1257840",
    "end": "1261400"
  },
  {
    "text": "authenticate all Cloud applications but",
    "start": "1261400",
    "end": "1263880"
  },
  {
    "text": "they can use it to register new security",
    "start": "1263880",
    "end": "1266360"
  },
  {
    "text": "information and new security information",
    "start": "1266360",
    "end": "1268480"
  },
  {
    "text": "is basically the MFA or the OTP or new",
    "start": "1268480",
    "end": "1271679"
  },
  {
    "text": "authenticator or even uh pH key so it",
    "start": "1271679",
    "end": "1275360"
  },
  {
    "text": "would be kind of pointless if we had the",
    "start": "1275360",
    "end": "1276960"
  },
  {
    "text": "previous conditional access policy",
    "start": "1276960",
    "end": "1278840"
  },
  {
    "text": "without something to actually limit the",
    "start": "1278840",
    "end": "1280640"
  },
  {
    "text": "ability to register security information",
    "start": "1280640",
    "end": "1283400"
  },
  {
    "text": "and now how would we do that I mean we",
    "start": "1283400",
    "end": "1285200"
  },
  {
    "text": "still don't have a Windows alow for",
    "start": "1285200",
    "end": "1287000"
  },
  {
    "text": "business I mean we cannot limit that to",
    "start": "1287000",
    "end": "1288559"
  },
  {
    "text": "fishing resistant authentication only so",
    "start": "1288559",
    "end": "1290840"
  },
  {
    "text": "we can for example require that anybody",
    "start": "1290840",
    "end": "1293200"
  },
  {
    "text": "who wants to register security",
    "start": "1293200",
    "end": "1294640"
  },
  {
    "text": "information needs to have their device",
    "start": "1294640",
    "end": "1297279"
  },
  {
    "text": "joined or registered so an attacker is",
    "start": "1297279",
    "end": "1300640"
  },
  {
    "text": "less likely to have a device already",
    "start": "1300640",
    "end": "1303000"
  },
  {
    "text": "registered in the tenant um but it can",
    "start": "1303000",
    "end": "1306039"
  },
  {
    "text": "still kind of happen and that's",
    "start": "1306039",
    "end": "1307559"
  },
  {
    "text": "demonstrated by Derk John's great talk",
    "start": "1307559",
    "end": "1310520"
  },
  {
    "text": "lately if you haven't uh seen it about",
    "start": "1310520",
    "end": "1313480"
  },
  {
    "text": "uh like fishing for primary refresh",
    "start": "1313480",
    "end": "1315720"
  },
  {
    "text": "tokens and basically what that means is",
    "start": "1315720",
    "end": "1318919"
  },
  {
    "text": "um we should also take a look at",
    "start": "1318919",
    "end": "1320880"
  },
  {
    "text": "limiting the ability to register or join",
    "start": "1320880",
    "end": "1323240"
  },
  {
    "text": "devices meaning uh not all users should",
    "start": "1323240",
    "end": "1326120"
  },
  {
    "text": "be able uh to do that unfortunately I",
    "start": "1326120",
    "end": "1328919"
  },
  {
    "text": "don't have time to cover all of that um",
    "start": "1328919",
    "end": "1332400"
  },
  {
    "text": "but it's definitely something you should",
    "start": "1332400",
    "end": "1333880"
  },
  {
    "text": "also take into",
    "start": "1333880",
    "end": "1335679"
  },
  {
    "text": "consideration",
    "start": "1335679",
    "end": "1337400"
  },
  {
    "text": "um so uh the other recommendation by",
    "start": "1337400",
    "end": "1342159"
  },
  {
    "text": "Microsoft is to also enable MFA for all",
    "start": "1342159",
    "end": "1345360"
  },
  {
    "text": "users so obviously this won't block uh",
    "start": "1345360",
    "end": "1348720"
  },
  {
    "text": "uh proxy fishing attacks because you can",
    "start": "1348720",
    "end": "1351000"
  },
  {
    "text": "just capture the cookies um but uh MFA",
    "start": "1351000",
    "end": "1354799"
  },
  {
    "text": "is better than no MFA and it will",
    "start": "1354799",
    "end": "1356960"
  },
  {
    "text": "certainly make an attacker's life that",
    "start": "1356960",
    "end": "1359559"
  },
  {
    "text": "much harder um so it's definitely",
    "start": "1359559",
    "end": "1362840"
  },
  {
    "text": "something to consider if you do not have",
    "start": "1362840",
    "end": "1364960"
  },
  {
    "text": "some conditional access policy like",
    "start": "1364960",
    "end": "1367520"
  },
  {
    "text": "this um all of this goes without say uh",
    "start": "1367520",
    "end": "1370720"
  },
  {
    "text": "don't deploy stuff straight to",
    "start": "1370720",
    "end": "1372159"
  },
  {
    "text": "production I think uh you should",
    "start": "1372159",
    "end": "1373840"
  },
  {
    "text": "definitely do some testing before uh",
    "start": "1373840",
    "end": "1376600"
  },
  {
    "text": "before you just push things like that to",
    "start": "1376600",
    "end": "1378480"
  },
  {
    "text": "uction let your users know that uh",
    "start": "1378480",
    "end": "1380840"
  },
  {
    "text": "things like that are coming uh and don't",
    "start": "1380840",
    "end": "1384480"
  },
  {
    "text": "just push it all because you might burn",
    "start": "1384480",
    "end": "1386600"
  },
  {
    "text": "the house down and that's not",
    "start": "1386600",
    "end": "1388440"
  },
  {
    "text": "good um just a final demonstration what",
    "start": "1388440",
    "end": "1391799"
  },
  {
    "text": "happens when you try and log into a",
    "start": "1391799",
    "end": "1393840"
  },
  {
    "text": "ficient site which has the conditional",
    "start": "1393840",
    "end": "1395720"
  },
  {
    "text": "access policies in place uh you enter",
    "start": "1395720",
    "end": "1398120"
  },
  {
    "text": "the password you are downgraded but uh",
    "start": "1398120",
    "end": "1400840"
  },
  {
    "text": "you are required to use Windows alow for",
    "start": "1400840",
    "end": "1403039"
  },
  {
    "text": "business",
    "start": "1403039",
    "end": "1404200"
  },
  {
    "text": "authentication um and at this point the",
    "start": "1404200",
    "end": "1406880"
  },
  {
    "text": "attacker uh will be sad because he",
    "start": "1406880",
    "end": "1409159"
  },
  {
    "text": "couldn't get any credentials from your",
    "start": "1409159",
    "end": "1411679"
  },
  {
    "text": "tenant um just some info about the",
    "start": "1411679",
    "end": "1414400"
  },
  {
    "text": "report timeline I reported this to",
    "start": "1414400",
    "end": "1416760"
  },
  {
    "text": "Microsoft on September 2023 and uh they",
    "start": "1416760",
    "end": "1420880"
  },
  {
    "text": "said they fixed it on November 2023 and",
    "start": "1420880",
    "end": "1423360"
  },
  {
    "text": "you saw uh some changes uh like",
    "start": "1423360",
    "end": "1426000"
  },
  {
    "text": "something that was possible when I",
    "start": "1426000",
    "end": "1427240"
  },
  {
    "text": "researched this and now it is not so",
    "start": "1427240",
    "end": "1430400"
  },
  {
    "text": "possible um so",
    "start": "1430400",
    "end": "1433640"
  },
  {
    "text": "takeaways we talked about Windows low",
    "start": "1433640",
    "end": "1435880"
  },
  {
    "text": "for business uh why it is secure uh why",
    "start": "1435880",
    "end": "1439080"
  },
  {
    "text": "it is fishing resistant uh because of",
    "start": "1439080",
    "end": "1440919"
  },
  {
    "text": "the webos and API um we talked about the",
    "start": "1440919",
    "end": "1444840"
  },
  {
    "text": "downgrade attack Vector I mean even if",
    "start": "1444840",
    "end": "1446919"
  },
  {
    "text": "you have passwordless or Windows alow",
    "start": "1446919",
    "end": "1450559"
  },
  {
    "text": "for business for your users if you do",
    "start": "1450559",
    "end": "1452840"
  },
  {
    "text": "not enforce it then what's the point of",
    "start": "1452840",
    "end": "1455640"
  },
  {
    "text": "it and uh we talked about how to",
    "start": "1455640",
    "end": "1458159"
  },
  {
    "text": "mitigate this using conditional access",
    "start": "1458159",
    "end": "1460320"
  },
  {
    "text": "policies so if we just recap quickly you",
    "start": "1460320",
    "end": "1463400"
  },
  {
    "text": "should enforce the fishing resistant",
    "start": "1463400",
    "end": "1465480"
  },
  {
    "text": "authentication for all Cloud",
    "start": "1465480",
    "end": "1467120"
  },
  {
    "text": "applications you should",
    "start": "1467120",
    "end": "1469039"
  },
  {
    "text": "limit the ability to register new",
    "start": "1469039",
    "end": "1471520"
  },
  {
    "text": "security information and you should also",
    "start": "1471520",
    "end": "1473760"
  },
  {
    "text": "limit the ability to join or register uh",
    "start": "1473760",
    "end": "1476440"
  },
  {
    "text": "entra devices to your tenant to actually",
    "start": "1476440",
    "end": "1480399"
  },
  {
    "text": "uh be a bit more uh secure against these",
    "start": "1480399",
    "end": "1483559"
  },
  {
    "text": "kind of",
    "start": "1483559",
    "end": "1484760"
  },
  {
    "text": "attacks um the gab Brio with the slides",
    "start": "1484760",
    "end": "1487320"
  },
  {
    "text": "will be available here if any of you",
    "start": "1487320",
    "end": "1489679"
  },
  {
    "text": "want to uh check them out later they're",
    "start": "1489679",
    "end": "1492679"
  },
  {
    "text": "also available on the black hat",
    "start": "1492679",
    "end": "1495360"
  },
  {
    "text": "website um so uh any questions I think I",
    "start": "1495360",
    "end": "1500200"
  },
  {
    "text": "can take them now or off stage if you",
    "start": "1500200",
    "end": "1502320"
  },
  {
    "text": "have",
    "start": "1502320",
    "end": "1504519"
  },
  {
    "text": "any so um thank you all for joining me",
    "start": "1507039",
    "end": "1512039"
  },
  {
    "text": "and I",
    "start": "1512039",
    "end": "1515320"
  }
]