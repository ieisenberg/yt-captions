[
  {
    "text": "thank you",
    "start": "8300",
    "end": "11360"
  },
  {
    "text": "Michael mukin someone was supposed to officially introduce me but I think I jump started them",
    "start": "52800",
    "end": "58020"
  },
  {
    "text": "so I apologize if you're out there the one question that everyone's",
    "start": "58020",
    "end": "63359"
  },
  {
    "text": "probably asking is where are the slides or where's the presentations and your handouts",
    "start": "63359",
    "end": "68760"
  },
  {
    "text": "um due to last minute cancellation I'm I'm filling in with about six days notice so",
    "start": "68760",
    "end": "74640"
  },
  {
    "text": "my slides never made the manual they will be available on the website and hopefully by tomorrow",
    "start": "74640",
    "end": "81479"
  },
  {
    "text": "they can be printed out for you I don't know um I'll make sure I leave my email address if anybody wants them I'll send them to",
    "start": "81479",
    "end": "88200"
  },
  {
    "text": "you get up can everyone hear me anyone not okay",
    "start": "88200",
    "end": "94259"
  },
  {
    "text": "like I said my name is Michael Machin I'm a security architect I work for MCS",
    "start": "94259",
    "end": "99659"
  },
  {
    "text": "which is Microsoft Consulting Services a very different Beast than Microsoft",
    "start": "99659",
    "end": "105060"
  },
  {
    "text": "corporate it's almost like a different entity altogether we're the guys that are out there day in day out actually",
    "start": "105060",
    "end": "111720"
  },
  {
    "text": "working at the customer locations doing a number of different things I specifically as a security specialist",
    "start": "111720",
    "end": "119780"
  },
  {
    "text": "do both sides I do the design of network security and I also do",
    "start": "119780",
    "end": "125899"
  },
  {
    "text": "assessments attacks penetration tests Etc I'm gonna here talk to you today about",
    "start": "125899",
    "end": "132239"
  },
  {
    "text": "IIs 6 security architecture and I called it it's a whole new world for a number of reasons number one IIs 6 is basically",
    "start": "132239",
    "end": "140160"
  },
  {
    "text": "the culmination of the security push that you probably heard so much about right you heard Scott Culp talk about",
    "start": "140160",
    "end": "145620"
  },
  {
    "text": "this morning it's all over everything Microsoft security press always talks",
    "start": "145620",
    "end": "151860"
  },
  {
    "text": "about trustworthy Computing and security push I'm gonna tell you what that actually means in this product",
    "start": "151860",
    "end": "157920"
  },
  {
    "text": "um and a whole new world as well not just from is6 itself but",
    "start": "157920",
    "end": "164640"
  },
  {
    "text": "you know we're getting into that next phase of the web right where you're going to see a lot lot more",
    "start": "164640",
    "end": "171180"
  },
  {
    "text": "uh Mission critical and intercommunicated systems through",
    "start": "171180",
    "end": "177239"
  },
  {
    "text": "web services soap Etc so I'm going to try and talk about that a little bit I will be",
    "start": "177239",
    "end": "183000"
  },
  {
    "text": "talking about asp.net I have about an hour and 15 minutes to try and cover a lot of materials so",
    "start": "183000",
    "end": "188940"
  },
  {
    "text": "I'll get there as best I can if anyone has questions throughout don't hesitate to ask",
    "start": "188940",
    "end": "194940"
  },
  {
    "text": "if we start going too far down I'll hold off and hold the questions till the end because I want to make sure we get through everything",
    "start": "194940",
    "end": "202280"
  },
  {
    "text": "okay so the agenda real quick we're just going to set stage what we're talking about",
    "start": "202860",
    "end": "208680"
  },
  {
    "text": "we're going to talk about the security design of IIs 6 what makes it different from iis-5 and everything before it",
    "start": "208680",
    "end": "216720"
  },
  {
    "text": "um we'll talk about asp.net and we'll look at some scanning and some tools that are available for you",
    "start": "216720",
    "end": "223799"
  },
  {
    "text": "some some scanning tools you may be aware of we'll launch them against IIs 6",
    "start": "223799",
    "end": "229379"
  },
  {
    "text": "just to see what comes back and then we'll look at locking down an IIs Xbox",
    "start": "229379",
    "end": "235159"
  },
  {
    "text": "which is going to be significantly easier because a lot of the work is already done for you you know you've",
    "start": "235159",
    "end": "240540"
  },
  {
    "text": "heard about the security default well we'll take a look at that and you'll see uh and the demos throughout is actually",
    "start": "240540",
    "end": "246959"
  },
  {
    "text": "not 100 true we're going to do most of the demos at the end okay",
    "start": "246959",
    "end": "252620"
  },
  {
    "text": "so no news out there first of all how many people have actually had the chance to",
    "start": "252840",
    "end": "258239"
  },
  {
    "text": "to touch Ias 6. okay not that many all right",
    "start": "258239",
    "end": "264960"
  },
  {
    "text": "um we already know IIs is a primary target",
    "start": "264960",
    "end": "270660"
  },
  {
    "text": "for for a number of attacks and that's not going to change just",
    "start": "270660",
    "end": "275759"
  },
  {
    "text": "because is 6 is coming out people are still going to go after it they're going to go after anything that's out there",
    "start": "275759",
    "end": "282540"
  },
  {
    "text": "um I already talked about security deposition trustworthy Computing is-6 should be the first real tangible evidence of what those initiatives are",
    "start": "282540",
    "end": "289800"
  },
  {
    "text": "going to give to you because up until now there hasn't been a whole lot of real tangible evidence in",
    "start": "289800",
    "end": "295199"
  },
  {
    "text": "that space has there been yeah we've we've got some tools for doing patches we got other things but this should be",
    "start": "295199",
    "end": "301560"
  },
  {
    "text": "an actual product that you could say hey you know this isn't a bad job from what I've seen of it from when I",
    "start": "301560",
    "end": "308160"
  },
  {
    "text": "would I've touched it and had other customers that I've worked with touched it I think we've done a pretty good job",
    "start": "308160",
    "end": "315740"
  },
  {
    "text": "so um as far as trends everybody see these slides okay",
    "start": "316320",
    "end": "322440"
  },
  {
    "text": "all right as far as Trends in the vulnerability space I always look at things from from a vertical perspective",
    "start": "322440",
    "end": "327840"
  },
  {
    "text": "in a horizontal perspective you know the vertical you got the your physical security which we really can't talk much",
    "start": "327840",
    "end": "333120"
  },
  {
    "text": "about that's just physical security is physical security then you got your network and your OS and your application layer",
    "start": "333120",
    "end": "339479"
  },
  {
    "text": "um and then at the horizontal you got your browser your web server your logic",
    "start": "339479",
    "end": "344880"
  },
  {
    "text": "and or web services and your data on the back end and I think it's safe to say",
    "start": "344880",
    "end": "351419"
  },
  {
    "text": "that vulnerabilities in that area are pretty much leveling out",
    "start": "351419",
    "end": "357120"
  },
  {
    "text": "okay we've pretty much figured out how to lock down the network we've pretty much figured out how to lock down the OS",
    "start": "357120",
    "end": "363060"
  },
  {
    "text": "okay I'm not saying there's not going to be more vulnerabilities in that area okay but it's not that steep curve that",
    "start": "363060",
    "end": "368639"
  },
  {
    "text": "it's been",
    "start": "368639",
    "end": "371360"
  },
  {
    "text": "and I think we can also agree that if we look at those areas the application layer itself",
    "start": "373680",
    "end": "380039"
  },
  {
    "text": "and then either through the browser or the web server punching backwards and getting a hold of",
    "start": "380039",
    "end": "385440"
  },
  {
    "text": "data or the actual logic that you're attacking",
    "start": "385440",
    "end": "390680"
  },
  {
    "text": "those types of vulnerabilities are on the rise okay and I I certainly agree or believe",
    "start": "390680",
    "end": "397080"
  },
  {
    "text": "I should say that is 6 and the web server space is going to continue that",
    "start": "397080",
    "end": "402300"
  },
  {
    "text": "leveling out um in that particular area it's going to become more and more where a majority of",
    "start": "402300",
    "end": "408720"
  },
  {
    "text": "the vulnerabilities come from the application itself okay",
    "start": "408720",
    "end": "413840"
  },
  {
    "text": "okay so what they do with this design the whole goal was fewer vulnerabilities",
    "start": "418440",
    "end": "424620"
  },
  {
    "text": "out of the box we'll talk about how we got there the reduced attack surface the defensive",
    "start": "424620",
    "end": "430860"
  },
  {
    "text": "depth and staying up to date which is the patching is-6 will have some",
    "start": "430860",
    "end": "436220"
  },
  {
    "text": "depending on the type of patch you did if it's a specific patch to is6 we'll have the ability to patch it on the Fly",
    "start": "436220",
    "end": "442680"
  },
  {
    "text": "right in other words you don't have to reboot it you don't have to kill your box to install a patch I mean I know I'm really happy to hear",
    "start": "442680",
    "end": "448919"
  },
  {
    "text": "that one myself um",
    "start": "448919",
    "end": "452599"
  },
  {
    "text": "as far as the product quality what they did to get there the security Stand Down what that really",
    "start": "454680",
    "end": "461520"
  },
  {
    "text": "meant okay well as everyone stopped writing code for new features and just",
    "start": "461520",
    "end": "467160"
  },
  {
    "text": "went back and took a look at every piece of code they had that went into IIs and scrubbed it from top to bottom and",
    "start": "467160",
    "end": "473880"
  },
  {
    "text": "it wasn't just us there are a number of third parties out there that came in and did code reviews for us",
    "start": "473880",
    "end": "480240"
  },
  {
    "text": "okay um a lot of buffer over underfound okay I I",
    "start": "480240",
    "end": "486300"
  },
  {
    "text": "wish we could I wish they would publicly say all the things they found as a",
    "start": "486300",
    "end": "491520"
  },
  {
    "text": "result of the push a few things did come out of bulletins but not nowhere near as many as were actually found",
    "start": "491520",
    "end": "498240"
  },
  {
    "text": "um the slash GS when they compile that's not a guarantee but it's one it's just an added feature",
    "start": "498240",
    "end": "505259"
  },
  {
    "text": "when you're writing when you're compiling your code to look for your buffer overruns internally we had two",
    "start": "505259",
    "end": "510840"
  },
  {
    "text": "tools called prefix and pre-fast that every piece of code has to go through that is another buffer over on scanner",
    "start": "510840",
    "end": "517380"
  },
  {
    "text": "that's all it does um the qfe and the is core teams merged",
    "start": "517380",
    "end": "524459"
  },
  {
    "text": "which you know the part of the siloing inside of Microsoft we're trying to to knock down those silos and make people",
    "start": "524459",
    "end": "530339"
  },
  {
    "text": "work a little more jointly that was that's going to be a huge one um",
    "start": "530339",
    "end": "535700"
  },
  {
    "text": "removed a lot of Legacy code which we'll be talking about",
    "start": "535700",
    "end": "540440"
  },
  {
    "text": "So when you say reduce the attack service what am I talking about when you install an is-5 box that's what",
    "start": "543540",
    "end": "550740"
  },
  {
    "text": "you get okay clean and install with Windows 2000",
    "start": "550740",
    "end": "556140"
  },
  {
    "text": "just pop the CD in and run over and run with it what do you get you get all that stuff enabled asp isappy",
    "start": "556140",
    "end": "564360"
  },
  {
    "text": "CGI front page just way too much stuff is turned on by default so when we say reducing the tax",
    "start": "564360",
    "end": "570360"
  },
  {
    "text": "surface it's important you understand it's not just the attack surface of that box but by extension",
    "start": "570360",
    "end": "575940"
  },
  {
    "text": "how many people just take that CD and slap it in there okay so we're reducing the attack",
    "start": "575940",
    "end": "581279"
  },
  {
    "text": "surface of your box and the community at Large right because if if everyone's taking",
    "start": "581279",
    "end": "587760"
  },
  {
    "text": "that CD and popping it in there is turning those features on then the attack surface of the network",
    "start": "587760",
    "end": "594420"
  },
  {
    "text": "at large is just that much greater okay when you install Windows 2003 what used",
    "start": "594420",
    "end": "601680"
  },
  {
    "text": "to be.net server and so if I say.net server it's a hard habit to break but it",
    "start": "601680",
    "end": "607140"
  },
  {
    "text": "is Windows Server 2003 now all those features are disabled the only",
    "start": "607140",
    "end": "612720"
  },
  {
    "text": "thing in fact if you just install Windows 2003 server you don't even get is it is not turned on by default",
    "start": "612720",
    "end": "620760"
  },
  {
    "text": "okay when you choose to install IIs on Windows 2003 the only thing that's",
    "start": "620760",
    "end": "627600"
  },
  {
    "text": "turned on by default is it's a static web server in other words they'll shell back html",
    "start": "627600",
    "end": "633720"
  },
  {
    "text": "text files and things like that they won't do any type of dynamic content whatsoever you have to specifically tell it what",
    "start": "633720",
    "end": "641040"
  },
  {
    "text": "you want which I think is a great thing I mean that just that's going to give",
    "start": "641040",
    "end": "649079"
  },
  {
    "text": "your network a whole another degree of protection just that right there",
    "start": "649079",
    "end": "655260"
  },
  {
    "text": "it'll also Force administrators and developers to work in in what they're given right",
    "start": "655260",
    "end": "661220"
  },
  {
    "text": "yeah I mean if you have a wide open box to start with it's just like well it worked here I'm going to try to put it",
    "start": "661500",
    "end": "666959"
  },
  {
    "text": "in production and now it doesn't work anymore well in production a lot of times you lock things down you break them if you",
    "start": "666959",
    "end": "672660"
  },
  {
    "text": "start in that environment and you have to work in that environment then you're going to be safe throughout",
    "start": "672660",
    "end": "679399"
  },
  {
    "text": "to take a look at this how this could potentially affect the vulnerability Matrix what is this table telling us",
    "start": "682980",
    "end": "690300"
  },
  {
    "text": "the large red dots represent major vulnerabilities in the iis-5 space",
    "start": "690300",
    "end": "696899"
  },
  {
    "text": "okay the yellow ones are moderate and the white ones are less critical",
    "start": "696899",
    "end": "702480"
  },
  {
    "text": "vulnerabilities but as you can see here",
    "start": "702480",
    "end": "708420"
  },
  {
    "text": "all of the major vulnerabilities the large red dots occurred in either Legacy",
    "start": "708420",
    "end": "713760"
  },
  {
    "text": "code or things that probably didn't need to be turned on by default in the first place",
    "start": "713760",
    "end": "719360"
  },
  {
    "text": "okay the idq the Web Hits stuff the internet",
    "start": "719700",
    "end": "726420"
  },
  {
    "text": "printing isapi I mean who who in here has ever used internet printing does anyone",
    "start": "726420",
    "end": "733560"
  },
  {
    "text": "no okay so I'm not the only one who hasn't um the ism the password change",
    "start": "733560",
    "end": "738600"
  },
  {
    "text": "functionality I mean you know not a good idea in the first place right but has anyone ever used that",
    "start": "738600",
    "end": "746060"
  },
  {
    "text": "I know I haven't so I mean it doesn't need to be there the the last presentation that was just",
    "start": "746160",
    "end": "752220"
  },
  {
    "text": "in here front page a lot of times that gets turned on by default and we saw the damage that can happen with that by it",
    "start": "752220",
    "end": "757500"
  },
  {
    "text": "just being there okay so get rid of it out of the box",
    "start": "757500",
    "end": "763260"
  },
  {
    "text": "um ASP had one major one the ASP overflow uh the chunked encoding and the IIs core",
    "start": "763260",
    "end": "771360"
  },
  {
    "text": "had two major ones as well so",
    "start": "771360",
    "end": "776940"
  },
  {
    "text": "what that what else did we do the other steps were taken in that the buffer overflows are we saying there's never",
    "start": "776940",
    "end": "781980"
  },
  {
    "text": "going to be another buffer overflow in the product absolutely not okay there's code that's been out there for 20 years they're still finding uh",
    "start": "781980",
    "end": "789360"
  },
  {
    "text": "buffer overflow overflows in a BSD type code so the buffer overflow is not going",
    "start": "789360",
    "end": "795480"
  },
  {
    "text": "away we hope we can kill it we're doing our best but that we don't think it's going to happen but the idea is reduce the Damage Done",
    "start": "795480",
    "end": "803760"
  },
  {
    "text": "if it happens when you install is-6 you have two new accounts that you have at your disposal",
    "start": "803760",
    "end": "810240"
  },
  {
    "text": "and the default account is called the network service account all of the code",
    "start": "810240",
    "end": "815279"
  },
  {
    "text": "for IIs 6 runs under the network service account by default which has very very",
    "start": "815279",
    "end": "820800"
  },
  {
    "text": "very minimal privileges just as a comparison here you also have something called the local service which",
    "start": "820800",
    "end": "827579"
  },
  {
    "text": "if that box is not going to talk to any other box for any other reason then that's fine",
    "start": "827579",
    "end": "833459"
  },
  {
    "text": "if that box needs to go talk to a another server for logic uh or talk to a",
    "start": "833459",
    "end": "840839"
  },
  {
    "text": "database or anything like that you never get to give it the network service so it can have network communication",
    "start": "840839",
    "end": "845880"
  },
  {
    "text": "okay it's basically that means when it talks to the other in the other box it's going to authenticate as the machine",
    "start": "845880",
    "end": "851760"
  },
  {
    "text": "okay but the default privilege is the NT privileges that we're talking about",
    "start": "851760",
    "end": "859740"
  },
  {
    "text": "um with those accounts or just those six there's about 25 or so can't remember",
    "start": "859740",
    "end": "865500"
  },
  {
    "text": "the exact number privileges that you can have assigned to a principal okay the network service only gets those",
    "start": "865500",
    "end": "872339"
  },
  {
    "text": "six right there I think it might actually bumped up to seven before we go to RTM everything I'm talking about by",
    "start": "872339",
    "end": "877740"
  },
  {
    "text": "the way is is subject to change because we haven't actually published the shipping code yet",
    "start": "877740",
    "end": "884699"
  },
  {
    "text": "but uh and you can see here nothing there is extremely dangerous okay there's no debug there's no there's no",
    "start": "884699",
    "end": "892260"
  },
  {
    "text": "uh overriding memory there's no access part of the operating system there's none of that",
    "start": "892260",
    "end": "898639"
  },
  {
    "text": "okay versus the local system context which has 21 full NT Privileges and is",
    "start": "898860",
    "end": "905279"
  },
  {
    "text": "basically God on the box okay well what happened with is5 all your I sappy stuff ran in the inet",
    "start": "905279",
    "end": "913320"
  },
  {
    "text": "info process and the inet info process ran with what security context",
    "start": "913320",
    "end": "919320"
  },
  {
    "text": "local system right so if you buffer overflowed something of a nice happy that was running in the inet info",
    "start": "919320",
    "end": "925079"
  },
  {
    "text": "process you're sitting on the box as God all right these processors will be sitting in the",
    "start": "925079",
    "end": "932279"
  },
  {
    "text": "network service context by default you can change it if you want okay but you have to do it",
    "start": "932279",
    "end": "939120"
  },
  {
    "text": "all right you can change it make it the local system account but then you're putting yourself right in the same spot you were",
    "start": "939120",
    "end": "944940"
  },
  {
    "text": "with iis5 okay so if you buffer over run something in is6",
    "start": "944940",
    "end": "950699"
  },
  {
    "text": "you're going to be sitting there with very few privileges you're not going to be able to do much okay we hope that",
    "start": "950699",
    "end": "955800"
  },
  {
    "text": "doesn't happen but if it does we're hoping we're hoping you're going to be protected",
    "start": "955800",
    "end": "961940"
  },
  {
    "text": "you know the note at the bottom you know don't run anything as local system unless you absolutely have to it's just",
    "start": "964620",
    "end": "969779"
  },
  {
    "text": "not a good yes",
    "start": "969779",
    "end": "973519"
  },
  {
    "text": "the question is can you programmatically enable a lot of those features and which features were they",
    "start": "979980",
    "end": "985920"
  },
  {
    "text": "the the list that I had up there before yeah yes because the answer is yes you",
    "start": "985920",
    "end": "991260"
  },
  {
    "text": "can programmatically and enable them either from a number of different ways you can do it with the metabase",
    "start": "991260",
    "end": "997560"
  },
  {
    "text": "um that's probably the best way of doing it hitting the metabase",
    "start": "997560",
    "end": "1002920"
  },
  {
    "text": "any other questions on that last slide okay the canonicalization which I",
    "start": "1007820",
    "end": "1014180"
  },
  {
    "text": "actually said it right the first time so I'm not going to say it anymore uh",
    "start": "1014180",
    "end": "1019339"
  },
  {
    "text": "first of all what what is that word canonicalization it means you know in its simplest format",
    "start": "1019339",
    "end": "1026540"
  },
  {
    "text": "and this one hurt us real bad on a lot of places right the uh",
    "start": "1026540",
    "end": "1032120"
  },
  {
    "text": "uh the Unicorn the Unicode directly traversal the double decode directory",
    "start": "1032120",
    "end": "1037880"
  },
  {
    "text": "traversal they are results of Canon canonicalization issues",
    "start": "1037880",
    "end": "1046160"
  },
  {
    "text": "in other words in other words through and different types of encoding of different character sets what you think",
    "start": "1046160",
    "end": "1051919"
  },
  {
    "text": "you are saying is one thing but it actually means something else we'll get a little more detail in that just a second",
    "start": "1051919",
    "end": "1057740"
  },
  {
    "text": "um the default hander is restricted to a",
    "start": "1057740",
    "end": "1062900"
  },
  {
    "text": "list of known extensions which I'll show you So when you say you know I'm going to",
    "start": "1062900",
    "end": "1068419"
  },
  {
    "text": "turn this feature on I'm going to turn ASP on okay but I'm only going to enable or",
    "start": "1068419",
    "end": "1074120"
  },
  {
    "text": "associate a few extensions with that and in addition as you'll see you can also",
    "start": "1074120",
    "end": "1079220"
  },
  {
    "text": "say I'm only going to enable a few verbs to go along with that um",
    "start": "1079220",
    "end": "1085900"
  },
  {
    "text": "denial service there's there's built-in recycling you can set all kinds of limits we'll get to that in a minute",
    "start": "1086539",
    "end": "1091760"
  },
  {
    "text": "cross-site scripting issues again it's not a guarantee but with asp.net you",
    "start": "1091760",
    "end": "1097039"
  },
  {
    "text": "have server-side validation on a lot of things there's a whole list of asp.net",
    "start": "1097039",
    "end": "1102260"
  },
  {
    "text": "server-side functions that you can use to validate data coming into you yes you should be doing data validation on the",
    "start": "1102260",
    "end": "1108679"
  },
  {
    "text": "client side as well the client side is easily bypassed right I mean I I could spoof data going to",
    "start": "1108679",
    "end": "1115220"
  },
  {
    "text": "server coming from a client in a number of different ways so you want to validate your data on the client and you also want to validate data on the server",
    "start": "1115220",
    "end": "1121460"
  },
  {
    "text": "by the way if you want real good details on that kind of stuff you know how to actually go through all the ins and outs",
    "start": "1121460",
    "end": "1127220"
  },
  {
    "text": "of validating data on both sides I'm going to show you an example but if you really want to drill down into it make sure you see Mike Howard and Dave",
    "start": "1127220",
    "end": "1133700"
  },
  {
    "text": "leblanc's talk they go into that in great detail executing command line Scripts",
    "start": "1133700",
    "end": "1141260"
  },
  {
    "text": "if you looked at a Windows 2000 box not even an is-5 box just looked at a Windows 2000 box right and the default",
    "start": "1141260",
    "end": "1148640"
  },
  {
    "text": "permissions on all your exes and system 32 or everyone full control oops okay not a good idea",
    "start": "1148640",
    "end": "1155900"
  },
  {
    "text": "so when I have is 6 I the accounts that are associated with the IIs and asp.net",
    "start": "1155900",
    "end": "1163220"
  },
  {
    "text": "for that matter can't execute those X's okay",
    "start": "1163220",
    "end": "1168620"
  },
  {
    "text": "I still recommend you know always checking out your environment are those apples good enough for you and if you need to lock it down tighter go right",
    "start": "1168620",
    "end": "1174799"
  },
  {
    "text": "ahead but by default your I user accounts and your iom accounts cannot",
    "start": "1174799",
    "end": "1179840"
  },
  {
    "text": "get to those files and by default no right access for your Anonymous accounts in your home",
    "start": "1179840",
    "end": "1185539"
  },
  {
    "text": "directory sounds simple right but but it's there",
    "start": "1185539",
    "end": "1192039"
  },
  {
    "text": "so what do we get rid of the virtual directories for your scripts and your msadc Scripps probably hurt us",
    "start": "1192919",
    "end": "1199460"
  },
  {
    "text": "as bad as anything out there okay the site name slash scripts and your",
    "start": "1199460",
    "end": "1204799"
  },
  {
    "text": "funky URLs with percent c0 and percent 255c and the next thing you know you",
    "start": "1204799",
    "end": "1212419"
  },
  {
    "text": "gotta command shell back to you right we all seen those somewhere and hacking",
    "start": "1212419",
    "end": "1217520"
  },
  {
    "text": "exposed and things like that well take away those those executable directories and you can't do anything",
    "start": "1217520",
    "end": "1225039"
  },
  {
    "text": "um secure timeout and limits if anyone's ever hardened an is-5 box 16k request",
    "start": "1225620",
    "end": "1231140"
  },
  {
    "text": "limit where you go into the parameters of the W3 service and set max client receive buffer to",
    "start": "1231140",
    "end": "1237400"
  },
  {
    "text": "16384. that's their that's there automatically now you don't have to go out of your way and do that in a registry",
    "start": "1237400",
    "end": "1243200"
  },
  {
    "text": "okay you can tweak it if you want but that's the default size there to make",
    "start": "1243200",
    "end": "1248480"
  },
  {
    "text": "sure you don't get dosed or an attempted dos Legacy code already talked about the",
    "start": "1248480",
    "end": "1254600"
  },
  {
    "text": "ism that's that's the password change uh dll",
    "start": "1254600",
    "end": "1259700"
  },
  {
    "text": "that's gone okay you shouldn't be changing your password over the Internet anyhow um the Suboxone the sub authentication",
    "start": "1259700",
    "end": "1265880"
  },
  {
    "text": "module is gone the uh is sub a.dll",
    "start": "1265880",
    "end": "1271160"
  },
  {
    "text": "that is no longer there and check if file exists we'll talk about that in a little more detail in a",
    "start": "1271160",
    "end": "1277520"
  },
  {
    "text": "minute but all that stuff has been taken out okay so a lot of that attack service that existed for is5 is now gone",
    "start": "1277520",
    "end": "1286120"
  },
  {
    "text": "log files are locked down um",
    "start": "1292720",
    "end": "1298480"
  },
  {
    "text": "I already told you about the the uh all your exes are locked down",
    "start": "1298640",
    "end": "1304059"
  },
  {
    "text": "this is a very recent one by the way the ie Windows 2003 server",
    "start": "1306740",
    "end": "1314480"
  },
  {
    "text": "will come shipped with ie lockdown very tightly okay the zones in your IE configuration",
    "start": "1314480",
    "end": "1321020"
  },
  {
    "text": "are going to be locked down so you really can't get it anywhere except you know the local computer and not much",
    "start": "1321020",
    "end": "1326720"
  },
  {
    "text": "else so why do you think that's there well you",
    "start": "1326720",
    "end": "1332120"
  },
  {
    "text": "shouldn't be browsing from your servers anyhow okay but to further lock down the",
    "start": "1332120",
    "end": "1337159"
  },
  {
    "text": "Box another layer of Defense that's in there if you want to browse some stuff from your server you're going to have to turn on what you're going to browse to",
    "start": "1337159",
    "end": "1343700"
  },
  {
    "text": "yes sir the question is will IE be on the server",
    "start": "1343700",
    "end": "1350240"
  },
  {
    "text": "the answer is yes it will be",
    "start": "1350240",
    "end": "1353679"
  },
  {
    "text": "that's a good point that is a good point um I know in XP you can remove it if if so desired I don't",
    "start": "1356059",
    "end": "1363260"
  },
  {
    "text": "think it's going to be there for server but maybe it will be",
    "start": "1363260",
    "end": "1369620"
  },
  {
    "text": "in the future um asp this one could cause some issues",
    "start": "1369620",
    "end": "1376340"
  },
  {
    "text": "in your development process ASP enable parental enable parent paths",
    "start": "1376340",
    "end": "1383240"
  },
  {
    "text": "is turned off so if you know in your code if you have",
    "start": "1383240",
    "end": "1388340"
  },
  {
    "text": "dot dot slash anywhere then you're going to have some problems okay",
    "start": "1388340",
    "end": "1393740"
  },
  {
    "text": "but dot dot slash can cause other problems besides just you having to maybe redo",
    "start": "1393740",
    "end": "1399559"
  },
  {
    "text": "some code or re redevelop your rethink your development procedures hang detection we'll take a look at this",
    "start": "1399559",
    "end": "1406159"
  },
  {
    "text": "in a bit if if your asp applications are hanging in is5 you",
    "start": "1406159",
    "end": "1414679"
  },
  {
    "text": "basically had to wait for it to time out to see if it will come back okay but in the meantime your website",
    "start": "1414679",
    "end": "1420799"
  },
  {
    "text": "isn't doing much else okay there's a hang detection built in there now so that",
    "start": "1420799",
    "end": "1427220"
  },
  {
    "text": "if the ASP is in a hunk state for a while and the timeout doesn't kick in it can it can send a signal and and reset",
    "start": "1427220",
    "end": "1435260"
  },
  {
    "text": "itself a default form egg response buffer limit",
    "start": "1435260",
    "end": "1440659"
  },
  {
    "text": "for you know denial service and buffer over on protection and the health detection which is very similar to the",
    "start": "1440659",
    "end": "1447020"
  },
  {
    "text": "hand detection which we'll get to in just a second",
    "start": "1447020",
    "end": "1450880"
  },
  {
    "text": "the actual details on the canonicalization basically it comes down to a raw bite",
    "start": "1452480",
    "end": "1458840"
  },
  {
    "text": "must be in the form of URL token per the rfcs",
    "start": "1458840",
    "end": "1465320"
  },
  {
    "text": "okay nothing else will be accepted in particular I mean I'm not going to",
    "start": "1465320",
    "end": "1470659"
  },
  {
    "text": "read all that to you you guys can can read that as well as I can the real important one is that last bullet item",
    "start": "1470659",
    "end": "1477080"
  },
  {
    "text": "down there but not 0x 0 0 Dash 0x1f",
    "start": "1477080",
    "end": "1484460"
  },
  {
    "text": "Etc that's the UTF encoding character sets which caused all the problems with the directory traversal stuff",
    "start": "1484460",
    "end": "1491659"
  },
  {
    "text": "okay does anybody know exactly how that that",
    "start": "1491659",
    "end": "1497480"
  },
  {
    "text": "happened the the UTF stuff",
    "start": "1497480",
    "end": "1502960"
  },
  {
    "text": "does anyone want to know okay uh",
    "start": "1505039",
    "end": "1511880"
  },
  {
    "text": "take her take the the Unicode reversal the percent C zero",
    "start": "1511880",
    "end": "1517460"
  },
  {
    "text": "percent AF now if you if you take the c0 and the AF and binary that means one thing",
    "start": "1517460",
    "end": "1524419"
  },
  {
    "text": "okay just a regular bite let's see I'm kind of rusty here c0 that would be one one zero zero right",
    "start": "1524419",
    "end": "1532940"
  },
  {
    "text": "and zero zero zero zero and then the AF would be one zero one zero one one one one",
    "start": "1532940",
    "end": "1539480"
  },
  {
    "text": "um now you take that into UTF format and the UTF uh trans imposes",
    "start": "1539480",
    "end": "1546620"
  },
  {
    "text": "certain bits at the front end of that so what really happened is what was",
    "start": "1546620",
    "end": "1552679"
  },
  {
    "text": "supposed to be the uh the one character that turned into a 2f",
    "start": "1552679",
    "end": "1560240"
  },
  {
    "text": "okay which if you look at the 2f character is a slash okay",
    "start": "1560240",
    "end": "1567140"
  },
  {
    "text": "that's where when you put in that particular series of characters in the URL it considered it a slash it escaped",
    "start": "1567140",
    "end": "1575360"
  },
  {
    "text": "out went to your system 32 directory and executed stuff well that's not there",
    "start": "1575360",
    "end": "1581059"
  },
  {
    "text": "anymore okay you know what that has been taken care of and the way the the URLs are handled",
    "start": "1581059",
    "end": "1588380"
  },
  {
    "text": "okay there's a parser there that will parse all that stuff correctly the NTFS canonicalization",
    "start": "1588380",
    "end": "1596059"
  },
  {
    "text": "um there's really not any known exploits or known problems with the whack whack",
    "start": "1596059",
    "end": "1601220"
  },
  {
    "text": "question mark whack but that has been addressed as well as part of of the reviewing of the code",
    "start": "1601220",
    "end": "1608960"
  },
  {
    "text": "all right and uh streams are are gone so the the colon colon dollar sign data and",
    "start": "1608960",
    "end": "1615140"
  },
  {
    "text": "another similar type issues you won't have to worry about any longer",
    "start": "1615140",
    "end": "1620559"
  },
  {
    "text": "all right third-party code and what do I mean by third-party code anything that is application specific",
    "start": "1624080",
    "end": "1629960"
  },
  {
    "text": "code okay the web files any ASP files Etc your dlls",
    "start": "1629960",
    "end": "1636860"
  },
  {
    "text": "they run out in the worker processes very powerful sandboxing the the isolation features in is6 are far and",
    "start": "1636860",
    "end": "1644480"
  },
  {
    "text": "above what we have with is-5 okay yeah we had the pooled and we had",
    "start": "1644480",
    "end": "1650240"
  },
  {
    "text": "the isolated in um in is5 right but a lot of people chose",
    "start": "1650240",
    "end": "1656779"
  },
  {
    "text": "to run their stuff in process anyhow for performance reasons and you really kind of lost the benefit",
    "start": "1656779",
    "end": "1662900"
  },
  {
    "text": "of having that and in the medium even if you put the stuff in medium you're trying to get you know the best of both worlds if you got the medium",
    "start": "1662900",
    "end": "1670659"
  },
  {
    "text": "and you know that one component in the medium space crashed it would take down everything else with it that was also in",
    "start": "1670659",
    "end": "1677299"
  },
  {
    "text": "the medium space so tell me a question yes",
    "start": "1677299",
    "end": "1683020"
  },
  {
    "text": "are these the ones that are what examples",
    "start": "1689140",
    "end": "1695320"
  },
  {
    "text": "sandbox oh so the question is uh the actual W3 services",
    "start": "1695659",
    "end": "1702200"
  },
  {
    "text": "are they are they what's actually being sandboxed yes yes they are and I have a good graphic",
    "start": "1702200",
    "end": "1707600"
  },
  {
    "text": "of that in just a second",
    "start": "1707600",
    "end": "1710200"
  },
  {
    "text": "where's the third party code apply",
    "start": "1712700",
    "end": "1716200"
  },
  {
    "text": "um good question and I think we'll get there very shortly and if I don't bring it back please okay",
    "start": "1718940",
    "end": "1725539"
  },
  {
    "text": "and uh HTTP pre-request logging which is a big part of the whole",
    "start": "1725539",
    "end": "1731179"
  },
  {
    "text": "re-architecture so here's where I think a lot will start coming together okay in is5 here's what it looked like you",
    "start": "1731179",
    "end": "1738559"
  },
  {
    "text": "had inetinfo.exe which will basically was was everything and it ran out there in the user space",
    "start": "1738559",
    "end": "1744320"
  },
  {
    "text": "the user process space um it had its isap filters and extensions",
    "start": "1744320",
    "end": "1750140"
  },
  {
    "text": "loaded and you could also through dll host EXE with medium or isolated have other",
    "start": "1750140",
    "end": "1758419"
  },
  {
    "text": "applications running out there but everything still kind of had to come through inetinfo.exe",
    "start": "1758419",
    "end": "1764960"
  },
  {
    "text": "so if you lost inetinfo.exe what happened you pretty much lost everything right",
    "start": "1764960",
    "end": "1772520"
  },
  {
    "text": "or if inet info was compromised then you were compromised all the way through",
    "start": "1772520",
    "end": "1778820"
  },
  {
    "text": "because we already talked about the process or the context that that process runs in right",
    "start": "1778820",
    "end": "1785480"
  },
  {
    "text": "also notice the interface from the TCP stack to inet info everything went",
    "start": "1785480",
    "end": "1791120"
  },
  {
    "text": "through windsock so that's another thing when you're accepting web input you have to process",
    "start": "1791120",
    "end": "1797659"
  },
  {
    "text": "it at info and then you have to process it through windsock so you got extra layers of going through",
    "start": "1797659",
    "end": "1803000"
  },
  {
    "text": "number one performance you have an issue number two anytime the more complexity you have",
    "start": "1803000",
    "end": "1808640"
  },
  {
    "text": "when you're processing information complexity is the enemy of security right so",
    "start": "1808640",
    "end": "1815179"
  },
  {
    "text": "I might have parsed something correctly and I didn't info but one sock may not have par something correctly",
    "start": "1815179",
    "end": "1821480"
  },
  {
    "text": "and that's that was the case often so you had to recycle the box or excuse",
    "start": "1821480",
    "end": "1828440"
  },
  {
    "text": "me recycle IIs to get everything back which is basically is reset right and while you're doing the IIs",
    "start": "1828440",
    "end": "1834799"
  },
  {
    "text": "reset all your every website or virtual directory that was in there was was down",
    "start": "1834799",
    "end": "1840620"
  },
  {
    "text": "during that period of time so what's it look like in is6o",
    "start": "1840620",
    "end": "1849200"
  },
  {
    "text": "well big change here let's talk about in a little bit as you notice there's no more of the windsock there",
    "start": "1849200",
    "end": "1856580"
  },
  {
    "text": "okay we have something a new HTTP request Handler that sits down in kernel",
    "start": "1856580",
    "end": "1862159"
  },
  {
    "text": "mode um what we're going to talk about just a second the requests come into that",
    "start": "1862159",
    "end": "1868640"
  },
  {
    "text": "up above in the user space we have your application pools which that's where the actual code is running and the actual",
    "start": "1868640",
    "end": "1874820"
  },
  {
    "text": "server web service is serving that content out and we have uh what's called the Waf",
    "start": "1874820",
    "end": "1882700"
  },
  {
    "text": "which kind of which monitors all of that off to the side so there's your three components there your request Handler",
    "start": "1883100",
    "end": "1889399"
  },
  {
    "text": "your application pools and your web application service over here identfo is",
    "start": "1889399",
    "end": "1894860"
  },
  {
    "text": "still there but it's only there for FTP SMTP and the metabase it's there",
    "start": "1894860",
    "end": "1900980"
  },
  {
    "text": "okay so when a request comes in it goes into",
    "start": "1900980",
    "end": "1906440"
  },
  {
    "text": "the kernel mode queue right and cues up these requests",
    "start": "1906440",
    "end": "1911600"
  },
  {
    "text": "HTTP http.s is we're going to call it here in just a second we'll uh forward that",
    "start": "1911600",
    "end": "1918260"
  },
  {
    "text": "request to the appropriate application pool based on how you configure it and",
    "start": "1918260",
    "end": "1924320"
  },
  {
    "text": "the response will come back through http.sys but if you lose an application pool",
    "start": "1924320",
    "end": "1933380"
  },
  {
    "text": "okay you still have all your requests in the queue",
    "start": "1933380",
    "end": "1939620"
  },
  {
    "text": "all right the www service Administration and monitoring will pick",
    "start": "1939620",
    "end": "1946340"
  },
  {
    "text": "up that that application pool has crashed for whatever reason recycle it",
    "start": "1946340",
    "end": "1954398"
  },
  {
    "text": "and let the let the the response continue okay so you don't lose your your request",
    "start": "1954559",
    "end": "1960380"
  },
  {
    "text": "because they're being queued up in the HTTP kernel mode uh listener",
    "start": "1960380",
    "end": "1967000"
  },
  {
    "text": "okay",
    "start": "1972500",
    "end": "1974860"
  },
  {
    "text": "say again I'm sorry",
    "start": "1978020",
    "end": "1980980"
  },
  {
    "text": "the question is what would happen to any Associated session data uh that that's a that's a very good question and it",
    "start": "1984799",
    "end": "1990679"
  },
  {
    "text": "depends on how you're doing session if if if you're doing it um cookie based or storing it back in a",
    "start": "1990679",
    "end": "1997700"
  },
  {
    "text": "database you should be fine if you're doing it session based from the application specific session then you're probably",
    "start": "1997700",
    "end": "2004779"
  },
  {
    "text": "going to lose that",
    "start": "2004779",
    "end": "2007380"
  },
  {
    "text": "I'm sorry I can't hear you",
    "start": "2019360",
    "end": "2022320"
  },
  {
    "text": "what does that mean that those those services are still handled the question is um FTP and St SMTP uh what are they",
    "start": "2027940",
    "end": "2036039"
  },
  {
    "text": "doing in that info right is that the question okay uh they're they are still over there because let's face it there's",
    "start": "2036039",
    "end": "2042460"
  },
  {
    "text": "not a huge demand for for if for redoing FTP or redoing SMTP uh from an IIs",
    "start": "2042460",
    "end": "2049839"
  },
  {
    "text": "perspective so it was decided that they they were fine right there in the onet info process",
    "start": "2049839",
    "end": "2056320"
  },
  {
    "text": "so they they were always there before in is5 they were there and they were just they have just they are still there in",
    "start": "2056320",
    "end": "2062740"
  },
  {
    "text": "is6 are they still going through windsock you know that's a good question I don't",
    "start": "2062740",
    "end": "2068320"
  },
  {
    "text": "know that I don't know that I would assume they are but I don't quote me on it",
    "start": "2068320",
    "end": "2075960"
  },
  {
    "text": "can you say that again please",
    "start": "2084399",
    "end": "2087240"
  },
  {
    "text": "oh um I'll repeat the comment was how do you start an SMTP session from an HTTP",
    "start": "2105040",
    "end": "2110859"
  },
  {
    "text": "request they're generally separate uh pieces of communication and and",
    "start": "2110859",
    "end": "2116320"
  },
  {
    "text": "wouldn't be there anyhow so that would never come into that area your SMTP listener will be",
    "start": "2116320",
    "end": "2122619"
  },
  {
    "text": "listening on a completely different service right and that would have to be serviced through that listener",
    "start": "2122619",
    "end": "2129599"
  },
  {
    "text": "okay so uh putting this that prior slide into some",
    "start": "2132579",
    "end": "2138280"
  },
  {
    "text": "diagrams here it came up with a HTTP HTTP that says",
    "start": "2138280",
    "end": "2145660"
  },
  {
    "text": "kernel mode listener okay it's the listener and the request router which we just saw it sits in a kernel",
    "start": "2145660",
    "end": "2151599"
  },
  {
    "text": "mode the web application service is your configuration and process manager that's",
    "start": "2151599",
    "end": "2158079"
  },
  {
    "text": "your tool basically to configure how http.sys handles its information and what",
    "start": "2158079",
    "end": "2166060"
  },
  {
    "text": "applications are you're going to put where",
    "start": "2166060",
    "end": "2169740"
  },
  {
    "text": "and then your W3 core that's your actual web applications where they're actually going to run",
    "start": "2172240",
    "end": "2178000"
  },
  {
    "text": "where apps get loaded including ASP stuff including isappies",
    "start": "2178000",
    "end": "2184680"
  },
  {
    "text": "and you can have many many W3 cores you've probably heard the term Web garden if you haven't heard it and if you start",
    "start": "2187119",
    "end": "2193420"
  },
  {
    "text": "reading through is6 literature you'll see that so you know take the idea of a web farm and bring it down to a single",
    "start": "2193420",
    "end": "2199480"
  },
  {
    "text": "box and you can have multiple web servers running on a single box and and and I",
    "start": "2199480",
    "end": "2206079"
  },
  {
    "text": "have actually have them be truly isolated",
    "start": "2206079",
    "end": "2209940"
  },
  {
    "text": "okay as a kernel mode component http.sys will always be running",
    "start": "2212200",
    "end": "2217540"
  },
  {
    "text": "you know assuming the box is up it will always be there um",
    "start": "2217540",
    "end": "2223720"
  },
  {
    "text": "if the reliability it processes the routing based on the URL",
    "start": "2223720",
    "end": "2229420"
  },
  {
    "text": "and obviously as a kernel mode is going to be extremely fast",
    "start": "2229420",
    "end": "2234779"
  },
  {
    "text": "the question is is http.sys a component of IAS or dot net",
    "start": "2240579",
    "end": "2246099"
  },
  {
    "text": "um let me define.net when I say.net I talk about the.net framework and that's only",
    "start": "2246099",
    "end": "2251920"
  },
  {
    "text": "what I talk about so in that context http.sys is not a component of the.net",
    "start": "2251920",
    "end": "2257920"
  },
  {
    "text": "framework http.tp.sys is a part of iis6",
    "start": "2257920",
    "end": "2263760"
  },
  {
    "text": "so the question follow-on question is if you don't install IIs 6 well http.cis be",
    "start": "2269680",
    "end": "2275380"
  },
  {
    "text": "there no okay",
    "start": "2275380",
    "end": "2280440"
  },
  {
    "text": "okay and this just gives you a little more detail on how http.sys will accept the requests the namespace mapper is",
    "start": "2289300",
    "end": "2296920"
  },
  {
    "text": "where it figures out where to send it by the URL if it doesn't find a namespace mapped to",
    "start": "2296920",
    "end": "2302619"
  },
  {
    "text": "it in that space that's where you'll get a 404 okay and if it does find it it'll send it to",
    "start": "2302619",
    "end": "2309520"
  },
  {
    "text": "the you know pop it in the proper request queue get the get the response back and send back the response",
    "start": "2309520",
    "end": "2314740"
  },
  {
    "text": "obviously what sits on top of it is the actual application pools and the administration service",
    "start": "2314740",
    "end": "2321780"
  },
  {
    "text": "all right the application manager the web admin service manages the lifetime of the W3",
    "start": "2327160",
    "end": "2333040"
  },
  {
    "text": "course like I said it is basically your configuration manager for configuring",
    "start": "2333040",
    "end": "2338820"
  },
  {
    "text": "http.sys there's no application code here okay that's what the application pools are for this is just the configuration",
    "start": "2338820",
    "end": "2345400"
  },
  {
    "text": "component only and that is uh hosted in the service",
    "start": "2345400",
    "end": "2350640"
  },
  {
    "text": "host.exe process",
    "start": "2350640",
    "end": "2354480"
  },
  {
    "text": "okay uh your W3 core this is your main web processing dll",
    "start": "2360460",
    "end": "2365500"
  },
  {
    "text": "for processing the web requests that come from http.sys okay so once they've",
    "start": "2365500",
    "end": "2370780"
  },
  {
    "text": "come into that queue the queue decides where to send it to and it goes to one of these application pools through the",
    "start": "2370780",
    "end": "2376780"
  },
  {
    "text": "through your W3 core it loads you any isap e filters and extensions that have to be configured",
    "start": "2376780",
    "end": "2383020"
  },
  {
    "text": "and remember here here's where the process that those things are running in is important because here's where your",
    "start": "2383020",
    "end": "2389440"
  },
  {
    "text": "application pools run okay and your application Pools by default are running in the network",
    "start": "2389440",
    "end": "2395260"
  },
  {
    "text": "service context okay so even though we're loading nice appease which may possibly have some issues with them",
    "start": "2395260",
    "end": "2401740"
  },
  {
    "text": "okay you're in a safe context by default",
    "start": "2401740",
    "end": "2405839"
  },
  {
    "text": "okay I don't know how well you can see that particular slide I want to fire up the other box here shortly and show it",
    "start": "2411760",
    "end": "2417400"
  },
  {
    "text": "to you and what showing here is you have application pool",
    "start": "2417400",
    "end": "2423000"
  },
  {
    "text": "can you guys see that let me try it this way I have a terminal session over to the",
    "start": "2423940",
    "end": "2430420"
  },
  {
    "text": "other box here apologize for not having a VMware",
    "start": "2430420",
    "end": "2436000"
  },
  {
    "text": "session but I had a whole six days to get ready for this and what we have here is application",
    "start": "2436000",
    "end": "2443619"
  },
  {
    "text": "pooled I don't know if you can see this much better than the other than that slide was but I have three pools here",
    "start": "2443619",
    "end": "2448839"
  },
  {
    "text": "okay and just the forsake of example I also have three websites and what I did is I just",
    "start": "2448839",
    "end": "2454960"
  },
  {
    "text": "associated each website with a particular pool",
    "start": "2454960",
    "end": "2462480"
  },
  {
    "text": "okay so here are your application pools that you can associate one or more websites I could associate all those",
    "start": "2467260",
    "end": "2472720"
  },
  {
    "text": "sites to to one pool if I wanted to I mean you have the greatest degree flexibility as you want but",
    "start": "2472720",
    "end": "2479980"
  },
  {
    "text": "uh the pools themselves",
    "start": "2479980",
    "end": "2483540"
  },
  {
    "text": "if I look at the identity tab here Again by default there's a default setting I haven't changed anything on",
    "start": "2488020",
    "end": "2493839"
  },
  {
    "text": "the box it's predefined running as a network service account",
    "start": "2493839",
    "end": "2498880"
  },
  {
    "text": "okay I can also again what's the difference between a network service and the other ones available to you I could say local",
    "start": "2498880",
    "end": "2505420"
  },
  {
    "text": "service the local service assumes that box doesn't have to talk to any other boxes",
    "start": "2505420",
    "end": "2511000"
  },
  {
    "text": "okay if that if this box needs to communicate with another box you want to use a network service they both have the same",
    "start": "2511000",
    "end": "2517480"
  },
  {
    "text": "amount of privileges on that box okay but the network service has the ability",
    "start": "2517480",
    "end": "2522880"
  },
  {
    "text": "to talk to another box where local servers does not and you do local system is there you can choose to",
    "start": "2522880",
    "end": "2529240"
  },
  {
    "text": "do that I highly I highly discourage you from doing that",
    "start": "2529240",
    "end": "2534520"
  },
  {
    "text": "okay because you're not really getting the benefits of that of of the security model built there",
    "start": "2534520",
    "end": "2540339"
  },
  {
    "text": "and if you need something to look more along the lines of is5 okay for backward compatibility or",
    "start": "2540339",
    "end": "2546099"
  },
  {
    "text": "whatever you can run it in say the iwam context okay",
    "start": "2546099",
    "end": "2551500"
  },
  {
    "text": "which is what your medium and your isolated applications in is5 run in",
    "start": "2551500",
    "end": "2557400"
  },
  {
    "text": "okay so that's what that slide there is trying to show",
    "start": "2559540",
    "end": "2565260"
  },
  {
    "text": "and that's what I just showed you how you can figure the actual uh process or the identity the process runs under",
    "start": "2572680",
    "end": "2580019"
  },
  {
    "text": "uh the recycling there's for the the tabs are across that dialog box that I just had up there",
    "start": "2580060",
    "end": "2586060"
  },
  {
    "text": "you have recycling you have performance you have health and you have identity you want to run through them all I already did the identity so I don't have",
    "start": "2586060",
    "end": "2591099"
  },
  {
    "text": "to but recycling you can choose to recycle on a number of different parameters you can just",
    "start": "2591099",
    "end": "2597819"
  },
  {
    "text": "recycle every x amount of minutes if you want",
    "start": "2597819",
    "end": "2603640"
  },
  {
    "text": "why would you do that who knows okay huh",
    "start": "2603640",
    "end": "2608800"
  },
  {
    "text": "bad code right it's not a bad idea really just say you",
    "start": "2608800",
    "end": "2614440"
  },
  {
    "text": "know once a day I want to recycle the app because when you're recycling it you're not killing the box I'll show you what I",
    "start": "2614440",
    "end": "2619660"
  },
  {
    "text": "mean by recycle okay recycle isn't killing the app okay it's just starting it over again",
    "start": "2619660",
    "end": "2625359"
  },
  {
    "text": "okay you have a cop you have a copy that'll basically make a copy of right and any requests that we're going",
    "start": "2625359",
    "end": "2630700"
  },
  {
    "text": "to that are held for a second and uh you know when this one's spun up it'll just route those requests that way",
    "start": "2630700",
    "end": "2638020"
  },
  {
    "text": "um you can recycle it based on number of requests again this is a reliability feature but it kind of goes along the",
    "start": "2638020",
    "end": "2644560"
  },
  {
    "text": "ways of a Dos it's not saying it won't do OS your box but it may make the Dos a",
    "start": "2644560",
    "end": "2649660"
  },
  {
    "text": "little less severe if you you know if you know if you can tune those number of requests just right",
    "start": "2649660",
    "end": "2655900"
  },
  {
    "text": "and again you could say um at certain times recycle the worker",
    "start": "2655900",
    "end": "2661599"
  },
  {
    "text": "processes you can set it by memory by virtual memory and by uh maximum used memory",
    "start": "2661599",
    "end": "2669520"
  },
  {
    "text": "again this would all be a specific fine tuning that you wouldn't just set on a whim you'd have to actually go through",
    "start": "2669520",
    "end": "2675220"
  },
  {
    "text": "and stress test it and see what you're looking at but the ability to do this is",
    "start": "2675220",
    "end": "2680920"
  },
  {
    "text": "you know light years above what you had in is5 okay should make the Box a lot more",
    "start": "2680920",
    "end": "2687460"
  },
  {
    "text": "reliable and also if anyone's ever done any real",
    "start": "2687460",
    "end": "2693460"
  },
  {
    "text": "you know attacking on a box how reliable is you know if opening up a netcat shell",
    "start": "2693460",
    "end": "2699040"
  },
  {
    "text": "on a web server how reliable is that really okay you know even if you say you know",
    "start": "2699040",
    "end": "2704740"
  },
  {
    "text": "listen really hard with the capital L so you can come back and do another connection chances are if you're trying",
    "start": "2704740",
    "end": "2711040"
  },
  {
    "text": "to reconnect too many times you're going to crash that process right so",
    "start": "2711040",
    "end": "2717099"
  },
  {
    "text": "uh recycling it if anyone did have something nasty running on your box you make it go away",
    "start": "2717099",
    "end": "2724500"
  },
  {
    "text": "doesn't mean it won't come back right but at least you're getting rid of them temporarily okay here's the overlapping recycle",
    "start": "2726940",
    "end": "2734680"
  },
  {
    "text": "um you have the old worker process you decided it's 12 o'clock I'm going to recycle it so expires up a copy",
    "start": "2734680",
    "end": "2742599"
  },
  {
    "text": "okay through the web admin service it starts up the new one the request comes in still going to the old worker process",
    "start": "2742599",
    "end": "2751078"
  },
  {
    "text": "eventually the new worker process will send a signal that is ready shut down the old one",
    "start": "2752079",
    "end": "2757359"
  },
  {
    "text": "and then the new requests should be routed to the new worker process",
    "start": "2757359",
    "end": "2764400"
  },
  {
    "text": "okay so that's what the recycling does when you had to recycle in that info",
    "start": "2764920",
    "end": "2770020"
  },
  {
    "text": "what was it it was it was an All or Nothing event IIs reset everything's down",
    "start": "2770020",
    "end": "2775780"
  },
  {
    "text": "until it comes back up all right so this is the better",
    "start": "2775780",
    "end": "2782079"
  },
  {
    "text": "alternative to IIs reset",
    "start": "2782079",
    "end": "2786119"
  },
  {
    "text": "another way to counter dos from a programmatic perspective with a nice sappy interaction you can do the report",
    "start": "2789640",
    "end": "2795760"
  },
  {
    "text": "on healthy and this is where I was talking about the uh um if the script doesn't time out",
    "start": "2795760",
    "end": "2802480"
  },
  {
    "text": "if it doesn't catch the timeout when it is when a particular script is hung it'll just say stay in a hung state",
    "start": "2802480",
    "end": "2809020"
  },
  {
    "text": "you have the ability to do a report unhealthy",
    "start": "2809020",
    "end": "2814300"
  },
  {
    "text": "to allow an iceapy to report to IIs that needs to be recycled now again this is something that has to",
    "start": "2814300",
    "end": "2820660"
  },
  {
    "text": "be there in your code but at least it's there okay that ability is there",
    "start": "2820660",
    "end": "2827560"
  },
  {
    "text": "highly recommend if you write code and you write isappies that you investigate using that that function",
    "start": "2827560",
    "end": "2836160"
  },
  {
    "text": "so if you're fat you're you're your extension or filter gets caught in a hung state it can report back recycle me",
    "start": "2836319",
    "end": "2844480"
  },
  {
    "text": "okay um",
    "start": "2844480",
    "end": "2849300"
  },
  {
    "text": "uh healthy Health detection the other tab on there that we haven't looked yet",
    "start": "2852579",
    "end": "2859500"
  },
  {
    "text": "um when when a failure occurs it publishes an event to the event log",
    "start": "2860920",
    "end": "2866680"
  },
  {
    "text": "it will check the crash count that you set okay by default you have five and five five crashes within five minutes",
    "start": "2866680",
    "end": "2873579"
  },
  {
    "text": "if that's too liberal for you you can tweak it down all right if the crash count is greater",
    "start": "2873579",
    "end": "2878920"
  },
  {
    "text": "than the max allowed in that time disable that out at pool",
    "start": "2878920",
    "end": "2884020"
  },
  {
    "text": "and start a new process okay so it all comes down to that recycling of the process that we looked",
    "start": "2884020",
    "end": "2889900"
  },
  {
    "text": "at before you have a rapid fail protection",
    "start": "2889900",
    "end": "2896800"
  },
  {
    "text": "allow only that's what I just said I have a bad habit of doing that I'll talk about what I'm doing before I actually show it",
    "start": "2896800",
    "end": "2904920"
  },
  {
    "text": "um so when you if you start seeing 503s coming back service unavailable that means a a a a forced",
    "start": "2906400",
    "end": "2914800"
  },
  {
    "text": "recycling occurred not that graceful recycling that we saw so something you know really cracked hard and boom you",
    "start": "2914800",
    "end": "2921099"
  },
  {
    "text": "had to get that that app pull back up quickly yes sir",
    "start": "2921099",
    "end": "2927299"
  },
  {
    "text": "that's a good question the question is does the was service have to be running all the time uh yes it does it's it's it",
    "start": "2933880",
    "end": "2941140"
  },
  {
    "text": "sits there and and watches what's going on so it does have to be watching what's going on",
    "start": "2941140",
    "end": "2948000"
  },
  {
    "text": "right technically speaking it doesn't and the queue would just fill up but nothing would ever get responded to",
    "start": "2948700",
    "end": "2954220"
  },
  {
    "text": "I mean if you want it to be a functional application then yes it does",
    "start": "2954220",
    "end": "2959700"
  },
  {
    "text": "okay I'm going to move on from just just basic basic is-6 stuff and talk a little bit more about asp.net are there any any",
    "start": "2962500",
    "end": "2969099"
  },
  {
    "text": "specific questions on the on the is-6 piece yes sir",
    "start": "2969099",
    "end": "2974039"
  },
  {
    "text": "crash protection another yeah very very good question does that do those types of events show",
    "start": "2976900",
    "end": "2983380"
  },
  {
    "text": "up in the event log absolutely okay the recycling the cracked events all that the the the event model in is6",
    "start": "2983380",
    "end": "2991060"
  },
  {
    "text": "is much greater than what it was in is5 in fact there's a all the Eventing in 2003 is is much more",
    "start": "2991060",
    "end": "2998319"
  },
  {
    "text": "robust than it was with 2000.",
    "start": "2998319",
    "end": "3002420"
  },
  {
    "text": "okay so uh we'll look at the security lighters of asp.net configuring ASP security and uh we'll talk a little bit",
    "start": "3004260",
    "end": "3011760"
  },
  {
    "text": "about server-side input validation now asp.net is a huge topic I'm only going to touch on the key parts of it I could",
    "start": "3011760",
    "end": "3019260"
  },
  {
    "text": "you know you could spend half half a day on just asp.net but the layers are it has to go through",
    "start": "3019260",
    "end": "3024720"
  },
  {
    "text": "IIs first okay and I'm only talking about IIs excuse me asp.net",
    "start": "3024720",
    "end": "3030060"
  },
  {
    "text": "as far as is 6 is concerned because remember asp.net camera non-is5 but I'm not talking about is-5 and there are",
    "start": "3030060",
    "end": "3036900"
  },
  {
    "text": "differences right there are differences",
    "start": "3036900",
    "end": "3041660"
  },
  {
    "text": "um but from from for our context IIs does its security layers of what type of",
    "start": "3042180",
    "end": "3048599"
  },
  {
    "text": "authentication if any there's a tool called URL scan how many people have actually used URL",
    "start": "3048599",
    "end": "3054780"
  },
  {
    "text": "scan good tool very good tool I'm going to show you",
    "start": "3054780",
    "end": "3059880"
  },
  {
    "text": "some stuff with URL scan here shortly um and URL scan is not specific to",
    "start": "3059880",
    "end": "3065160"
  },
  {
    "text": "asp.net I'm not trying to say that URL scan is part of the ASP and only the ASP security layer URL scan is for any web",
    "start": "3065160",
    "end": "3073020"
  },
  {
    "text": "stuff lack of a better term in fact you can take URL scan and run it on Isis",
    "start": "3073020",
    "end": "3078540"
  },
  {
    "text": "server which is our reverse proxy for web web services",
    "start": "3078540",
    "end": "3084780"
  },
  {
    "text": "okay in fact it's a very effective way of doing it so you block everything out at the proxy before it even hits your",
    "start": "3084780",
    "end": "3090300"
  },
  {
    "text": "web server file apples obviously any files that are part of",
    "start": "3090300",
    "end": "3096180"
  },
  {
    "text": "your web app should be equal to only give access to exactly what's needed",
    "start": "3096180",
    "end": "3102540"
  },
  {
    "text": "um so I'm talking about static file equals I'm talking about NT permissions there",
    "start": "3102540",
    "end": "3108558"
  },
  {
    "text": "then asp.net web service extensions we're going to look at oh yeah I got URL scan and I can do this",
    "start": "3109619",
    "end": "3116760"
  },
  {
    "text": "with URL scan and then I got these things called Web extensions when do I use what we'll talk about when you may want to",
    "start": "3116760",
    "end": "3123180"
  },
  {
    "text": "use one over the other you have the capability of doing authorization by both role and URL",
    "start": "3123180",
    "end": "3132059"
  },
  {
    "text": "with asp.net okay the roles thing can be either Windows domain accounts or something",
    "start": "3132059",
    "end": "3138599"
  },
  {
    "text": "called forms authentication where you either pull the info out of a database or you create your own little",
    "start": "3138599",
    "end": "3144140"
  },
  {
    "text": "config file with users stored in there okay but there's a great degree of",
    "start": "3144140",
    "end": "3150960"
  },
  {
    "text": "flexibility with how you call you map a role and actually the URL you can actually say",
    "start": "3150960",
    "end": "3156480"
  },
  {
    "text": "you know this this particular file here if it's in my URL I'm only going to allow this role access",
    "start": "3156480",
    "end": "3163740"
  },
  {
    "text": "to it and I'm only going to allow the get verb to touch it",
    "start": "3163740",
    "end": "3169500"
  },
  {
    "text": "so I can do all that with asp.net um and I already talked about the mapped",
    "start": "3169500",
    "end": "3175079"
  },
  {
    "text": "extensions to ASP which I'll show you in just a minute so when you when you enable aasp.net",
    "start": "3175079",
    "end": "3182819"
  },
  {
    "text": "you have a new account called asp.net and a new group called IIs underscore wpg",
    "start": "3182819",
    "end": "3189540"
  },
  {
    "text": "um as always you can reconfigure all this stuff in IIs service manager",
    "start": "3189540",
    "end": "3196440"
  },
  {
    "text": "for multiple pools and the reason I'm talking about this I'm trying to get if you need complete isolation say you're",
    "start": "3196440",
    "end": "3202260"
  },
  {
    "text": "you're a web hosting company right and you have two competitors actually on one",
    "start": "3202260",
    "end": "3208980"
  },
  {
    "text": "box and you you have their website sitting right next to each other they have to be",
    "start": "3208980",
    "end": "3214619"
  },
  {
    "text": "completely isolated right back with other competitors right you just want a reliable box",
    "start": "3214619",
    "end": "3221400"
  },
  {
    "text": "okay so here's what you know what I would recommend create some low privilege accounts for each pool",
    "start": "3221400",
    "end": "3227460"
  },
  {
    "text": "okay remember you want to put one website in one pool another website in the other pool add those accounts to that IIs",
    "start": "3227460",
    "end": "3234740"
  },
  {
    "text": "underscore wpg group because they've already been automatically actled to the files they need to get access to or",
    "start": "3234740",
    "end": "3240839"
  },
  {
    "text": "don't need access to for instance anyone in that group is not going to touch your ex your exes",
    "start": "3240839",
    "end": "3246359"
  },
  {
    "text": "okay they're not going to touch your system 32 they're not going to touch your repair directory",
    "start": "3246359",
    "end": "3251520"
  },
  {
    "text": "okay figure each pool with the appropriate identity so so yeah they run by network",
    "start": "3251520",
    "end": "3258720"
  },
  {
    "text": "service by default but maybe you want to configure your own identity so for that pool to run under and then you want to",
    "start": "3258720",
    "end": "3264540"
  },
  {
    "text": "configure an inner identity for that pool to run under then you have complete isolation all the way through",
    "start": "3264540",
    "end": "3270500"
  },
  {
    "text": "okay your asp.net and I user accounts need",
    "start": "3271020",
    "end": "3276359"
  },
  {
    "text": "read and execute ntf permissions to any of your asp.net files asp.x asmx",
    "start": "3276359",
    "end": "3283500"
  },
  {
    "text": "Etc and um there's a technique in asp.net called",
    "start": "3283500",
    "end": "3290040"
  },
  {
    "text": "code behind which where your ASP X and as MX are basically shells if you will that pull",
    "start": "3290040",
    "end": "3296819"
  },
  {
    "text": "in other code that sits behind the scenes so no one from the web server actually directly hitting that code",
    "start": "3296819",
    "end": "3303119"
  },
  {
    "text": "but since I don't know of any specific way to take advantage of that but that's not saying",
    "start": "3303119",
    "end": "3308819"
  },
  {
    "text": "that tomorrow someone might figure out a way to take advantage of that right I think it's just a matter of time before",
    "start": "3308819",
    "end": "3313859"
  },
  {
    "text": "we will see some types of vulnerabilities in the asp.net space right I mean or at least we have to assume we have to take that default",
    "start": "3313859",
    "end": "3320099"
  },
  {
    "text": "position so if you're using Code behind make sure you act all those prop files appropriately as well",
    "start": "3320099",
    "end": "3325260"
  },
  {
    "text": "all right don't put everyone full control on them that's what I'm trying to say because you have to create those files so it's",
    "start": "3325260",
    "end": "3331559"
  },
  {
    "text": "up to you to Echo them",
    "start": "3331559",
    "end": "3334520"
  },
  {
    "text": "big files if anyone going through an asp.net config the machine config and the web config",
    "start": "3337200",
    "end": "3343079"
  },
  {
    "text": "and all that a lot of stuff in there right it can get tedious but you have a high degree of control as",
    "start": "3343079",
    "end": "3349619"
  },
  {
    "text": "well it's a hierarchical thing what are the config files they're XML files with web and application settings Apple these",
    "start": "3349619",
    "end": "3356819"
  },
  {
    "text": "files tightly by default the users and power users on there I would remove them",
    "start": "3356819",
    "end": "3361980"
  },
  {
    "text": "it's just me okay there's no reason for them to be in there only give them exactly what you need",
    "start": "3361980",
    "end": "3367380"
  },
  {
    "text": "the hierarchy that it goes is machine machine dot config is the top of the top of the tree then you have web.config for",
    "start": "3367380",
    "end": "3374040"
  },
  {
    "text": "everything asp.net then if I have application X that is another app right that will have",
    "start": "3374040",
    "end": "3380460"
  },
  {
    "text": "its own web.config and the configuration trickles down so if you set some so you you have",
    "start": "3380460",
    "end": "3387900"
  },
  {
    "text": "settings in machine.config and then web.config and then the individual web.config you your your settings for",
    "start": "3387900",
    "end": "3394500"
  },
  {
    "text": "that app or the resultant of all those three yes sir",
    "start": "3394500",
    "end": "3399440"
  },
  {
    "text": "uh the question is what else does machine.config influence a lot that has machine.config has a lot",
    "start": "3403200",
    "end": "3409680"
  },
  {
    "text": "to do with NET the.net Framework in general um what which I there's a lot in there",
    "start": "3409680",
    "end": "3416099"
  },
  {
    "text": "absolutely but uh you know it's kind of beyond the scope of what we're doing here but there's a lot in there",
    "start": "3416099",
    "end": "3421440"
  },
  {
    "text": "absolutely yeah be careful what you do in machine.config good good point to bring",
    "start": "3421440",
    "end": "3427079"
  },
  {
    "text": "up try and stay in the web.config files to do what you need",
    "start": "3427079",
    "end": "3432140"
  },
  {
    "text": "I just uh I had that in there for point of clarity so you know that that does definitely impact what you're doing it",
    "start": "3432540",
    "end": "3437640"
  },
  {
    "text": "will affect what you're doing that at your application Level okay uh some something I've seen many",
    "start": "3437640",
    "end": "3445200"
  },
  {
    "text": "times and I cringe every time I see it don't put connection strings in your config files",
    "start": "3445200",
    "end": "3451619"
  },
  {
    "text": "right because basically that's a clear text file don't put usernames and passwords in there",
    "start": "3451619",
    "end": "3458160"
  },
  {
    "text": "all right um if anyone wants to know the ways to get around that you can store a",
    "start": "3458160",
    "end": "3463260"
  },
  {
    "text": "lot of that stuff in the registry um Mike Howard the book The Writing secure",
    "start": "3463260",
    "end": "3469859"
  },
  {
    "text": "code has a lot of examples on how to do that if you want to know all the details about keeping that stuff out of the",
    "start": "3469859",
    "end": "3475500"
  },
  {
    "text": "config files and still getting at getting access to it securely yes ma'am",
    "start": "3475500",
    "end": "3481338"
  },
  {
    "text": "the question is the idea of asp.net was to do x copy installs",
    "start": "3492780",
    "end": "3498180"
  },
  {
    "text": "um well that gives you a great degree of flexibility but speaking strictly from a security perspective",
    "start": "3498180",
    "end": "3504859"
  },
  {
    "text": "I don't any username and password in clear text in maze just about is taboo I mean I",
    "start": "3504859",
    "end": "3512520"
  },
  {
    "text": "just wouldn't do it I understand putting it in a registry you're you're making a little more work for yourself for",
    "start": "3512520",
    "end": "3517920"
  },
  {
    "text": "configuration wise but there's ways around that too I mean if the goal is to keep things",
    "start": "3517920",
    "end": "3523859"
  },
  {
    "text": "secure then you know you want to build as many layers in there as you can",
    "start": "3523859",
    "end": "3530240"
  },
  {
    "text": "okay A little example of users and roles in your web.config file and your system.webtag",
    "start": "3535380",
    "end": "3542339"
  },
  {
    "text": "for authorization I'm going to say for this application I'm only going to allow the user Sue and",
    "start": "3542339",
    "end": "3548160"
  },
  {
    "text": "Joe and I'm going to deny all other users the question mark in your config files is any unauthenticated user",
    "start": "3548160",
    "end": "3556500"
  },
  {
    "text": "so the only two people that can get to this app are suing Joe now Sue and Joe again can be Windows domain accounts or",
    "start": "3556500",
    "end": "3562680"
  },
  {
    "text": "they can be forms based Authentication and so it's up to you",
    "start": "3562680",
    "end": "3567799"
  },
  {
    "text": "um continuing on with the authorization from another perspective not just the",
    "start": "3569040",
    "end": "3575940"
  },
  {
    "text": "users but what else can we can we do in the authorization space what verbs am I going to allow on this",
    "start": "3575940",
    "end": "3581760"
  },
  {
    "text": "particular web app okay I'm only going to allow the head getting post or whatever suits your",
    "start": "3581760",
    "end": "3587220"
  },
  {
    "text": "needs all right um I'm only going to allow the role of",
    "start": "3587220",
    "end": "3592380"
  },
  {
    "text": "Administrators and the role of users and I'm going to deny everybody else",
    "start": "3592380",
    "end": "3598380"
  },
  {
    "text": "again this might not be a I didn't take this from an actual app but I did this is for them this is",
    "start": "3598380",
    "end": "3603839"
  },
  {
    "text": "really for illustrative purposes so you can see what you can do in here okay",
    "start": "3603839",
    "end": "3609420"
  },
  {
    "text": "you can do the actual HTTP verbs and actually you can go down a little",
    "start": "3609420",
    "end": "3614700"
  },
  {
    "text": "bit more granular than this I'll show you in just a second and you can assign the users uh in your config files as",
    "start": "3614700",
    "end": "3620700"
  },
  {
    "text": "well you can go to the location tab",
    "start": "3620700",
    "end": "3627119"
  },
  {
    "text": "I mentioned you can actually go to a specific file in this case list users.aspx",
    "start": "3627119",
    "end": "3634500"
  },
  {
    "text": "and say for that particular file this is an example of an authentication mode being formed it could be a Windows",
    "start": "3634500",
    "end": "3642420"
  },
  {
    "text": "domain account it's completely up to you",
    "start": "3642420",
    "end": "3646640"
  },
  {
    "text": "um and the authorization for that is the admin only",
    "start": "3649500",
    "end": "3654839"
  },
  {
    "text": "and I'm going to deny everybody else the star as you would imagine is everything so for those for that particular",
    "start": "3654839",
    "end": "3661799"
  },
  {
    "text": "file I'm only going to allow the admin account to touch it",
    "start": "3661799",
    "end": "3668280"
  },
  {
    "text": "okay again I could have done HTTP verbs here I could get very granular with this",
    "start": "3668280",
    "end": "3677240"
  },
  {
    "text": "if you want some real details on on how to configure these files on the tech net site if you go to",
    "start": "3677280",
    "end": "3685079"
  },
  {
    "text": "TechNet and just do a search on asp.net security there's been two recent guides put out",
    "start": "3685079",
    "end": "3690420"
  },
  {
    "text": "that are very very good on telling you how to configure these config files for",
    "start": "3690420",
    "end": "3696119"
  },
  {
    "text": "what you need I apologize I don't have the URL here for you",
    "start": "3696119",
    "end": "3703160"
  },
  {
    "text": "okay I said I told you real quick about on server-side validation how am I doing on time",
    "start": "3705599",
    "end": "3711119"
  },
  {
    "text": "I got 15 minutes okay I gotta hurry uh server side validation um",
    "start": "3711119",
    "end": "3717740"
  },
  {
    "text": "you got to validate the input at the client with JavaScript or whatever script you like and you gotta input or",
    "start": "3718920",
    "end": "3725520"
  },
  {
    "text": "validate the input that's hitting your server okay just doing that the client isn't good enough you also have to do it",
    "start": "3725520",
    "end": "3731040"
  },
  {
    "text": "at the server because who knows where it really came from at the server right this is just a very plain example of of",
    "start": "3731040",
    "end": "3738180"
  },
  {
    "text": "how you can do this but you can expand from this and plug in what you need",
    "start": "3738180",
    "end": "3744500"
  },
  {
    "text": "basically what this is is a control that's a c-sharp example",
    "start": "3744500",
    "end": "3749700"
  },
  {
    "text": "that's going to validate input coming into it and it's only going to",
    "start": "3749700",
    "end": "3755700"
  },
  {
    "text": "accept an ID that is numerical and four digits only",
    "start": "3755700",
    "end": "3761880"
  },
  {
    "text": "okay there's a regular expression there server validation",
    "start": "3761880",
    "end": "3769380"
  },
  {
    "text": "try you're going to create a new regular expression if it doesn't match the argument's",
    "start": "3769380",
    "end": "3776339"
  },
  {
    "text": "coming into it can it obviously I snipped it because there's a lot of code underneath that",
    "start": "3776339",
    "end": "3781980"
  },
  {
    "text": "but that's that's the nuts and bolts of the code right there",
    "start": "3781980",
    "end": "3786920"
  },
  {
    "text": "and then on the other side of that how do you hook into that",
    "start": "3787559",
    "end": "3792660"
  },
  {
    "text": "okay on your form I'm going to create a text box",
    "start": "3792660",
    "end": "3799200"
  },
  {
    "text": "I'm going to call it custom validator it's going to be a server validation",
    "start": "3799200",
    "end": "3805160"
  },
  {
    "text": "and ASP and button ID on click validate button on click and run add",
    "start": "3805799",
    "end": "3812579"
  },
  {
    "text": "server so when I put that input out there and I click it it's going to forward that info",
    "start": "3812579",
    "end": "3818760"
  },
  {
    "text": "run it at the server and validate the input there you should also what I haven't showed is client side code to",
    "start": "3818760",
    "end": "3824280"
  },
  {
    "text": "validate the same information but you should also have that too okay cannot have enough layers",
    "start": "3824280",
    "end": "3831540"
  },
  {
    "text": "again if you go to that if you go on Tech night TechNet and look in the asp.net security I told you about there's",
    "start": "3831540",
    "end": "3837299"
  },
  {
    "text": "scads of examples on the different types of asp.net validators some really good stuff there",
    "start": "3837299",
    "end": "3844440"
  },
  {
    "text": "um hopefully this was enough to show you the concept of what you can do so you",
    "start": "3844440",
    "end": "3850740"
  },
  {
    "text": "can you know thing with code is you can write code to do whatever you want right but this is this is just a specific",
    "start": "3850740",
    "end": "3855960"
  },
  {
    "text": "example of numbers only if you're doing your own authentication",
    "start": "3855960",
    "end": "3861240"
  },
  {
    "text": "scheme right you can do a regular expression to accept users either of a certain type and",
    "start": "3861240",
    "end": "3867540"
  },
  {
    "text": "um password of a certain type the the rule of thumb on anything is what look for what look for what you are looking for",
    "start": "3867540",
    "end": "3874020"
  },
  {
    "text": "and reject everything else don't try and build strings and match for Strings you want to reject right",
    "start": "3874020",
    "end": "3880319"
  },
  {
    "text": "only accept what you want and can everything else and don't look for bad stuff it's a",
    "start": "3880319",
    "end": "3885420"
  },
  {
    "text": "waste of time look for what you know is good and everything else is bad",
    "start": "3885420",
    "end": "3890359"
  },
  {
    "text": "okay um what I'm going to do is throw a couple scans at this is box so",
    "start": "3891299",
    "end": "3897299"
  },
  {
    "text": "you can see what kind of information we get back um I'm going to show you a tool called",
    "start": "3897299",
    "end": "3903420"
  },
  {
    "text": "The Log parser which is going to be a resource kit tool that comes with IIs 6. a very powerful tool to allow you to",
    "start": "3903420",
    "end": "3911579"
  },
  {
    "text": "write scripts it's exposed via com you can run a command line it's",
    "start": "3911579",
    "end": "3918720"
  },
  {
    "text": "you can you can do SQL like queries right from a command line if you're",
    "start": "3918720",
    "end": "3923760"
  },
  {
    "text": "looking for specific things in your IIs log it's not just your is logs it's the is logs it's your event logs it's your",
    "start": "3923760",
    "end": "3930240"
  },
  {
    "text": "url scan logs if you have URL scan if wmi events it's all kinds of stuff that",
    "start": "3930240",
    "end": "3935880"
  },
  {
    "text": "you can that you can look for and is lockdown",
    "start": "3935880",
    "end": "3941579"
  },
  {
    "text": "I really can't show you is lockdown because a lot of the functionality in is lockdown which is baked into the product",
    "start": "3941579",
    "end": "3947339"
  },
  {
    "text": "okay but what I can show you is URL scan I'm not saying you can't use uis lockdown",
    "start": "3947339",
    "end": "3953400"
  },
  {
    "text": "but I'm going to specifically show you URL scan which is a part of IIs lockdown",
    "start": "3953400",
    "end": "3959579"
  },
  {
    "text": "and then we'll talk about web extensions and which one makes sense",
    "start": "3959579",
    "end": "3965000"
  },
  {
    "text": "okay can we all see that hopefully now",
    "start": "3967079",
    "end": "3973940"
  },
  {
    "text": "is that better all right",
    "start": "3984000",
    "end": "3988880"
  },
  {
    "text": "what I have it I have another I have two box up here this is an is-6 server it's running rc2 code",
    "start": "4007760",
    "end": "4013460"
  },
  {
    "text": "um I'm just going to run a a tool called nickto against it which is basically",
    "start": "4013460",
    "end": "4018940"
  },
  {
    "text": "a a very similar to the whisker uh Pro scanner",
    "start": "4018940",
    "end": "4025280"
  },
  {
    "text": "and it's got a whole library of known bones packaged into it so I'm going to run that and see what we get out here",
    "start": "4025280",
    "end": "4033640"
  },
  {
    "text": "I'm dumping it out to a log file I'll open up the log file and we'll take a look at it",
    "start": "4044059",
    "end": "4049280"
  },
  {
    "text": "and keep in mind though this box is just an is-6 box that I installed as a default and then I turned on ASP that's",
    "start": "4049280",
    "end": "4054680"
  },
  {
    "text": "all I've done",
    "start": "4054680",
    "end": "4057160"
  },
  {
    "text": "okay",
    "start": "4077000",
    "end": "4079480"
  },
  {
    "text": "there we go",
    "start": "4136640",
    "end": "4139480"
  },
  {
    "text": "okay um so it ran the scan I don't know why everyone didn't run the first time",
    "start": "4143060",
    "end": "4149620"
  },
  {
    "text": "it finds it as an is fixed box uh a little custom header in there X",
    "start": "4150259",
    "end": "4156980"
  },
  {
    "text": "powered by asp.net uh one thing you should notice right off the bat is Trace and track are turned",
    "start": "4156980",
    "end": "4164120"
  },
  {
    "text": "off okay and this kind of significant because there's a big deal going on",
    "start": "4164120",
    "end": "4169219"
  },
  {
    "text": "right now about Trace right the cross-site tracing vulnerability being able to pull back clients",
    "start": "4169219",
    "end": "4174920"
  },
  {
    "text": "information and combine that with crossbite scripting and you can pull cookies down from a from a client",
    "start": "4174920",
    "end": "4182480"
  },
  {
    "text": "and get their username and password so Trace is turned on by default track which is similar to traces turned off",
    "start": "4182480",
    "end": "4187940"
  },
  {
    "text": "and we just go through this whole thing and I'll just scroll down to the bottom",
    "start": "4187940",
    "end": "4193940"
  },
  {
    "text": "because that'll give you the results but just about every known vulnerability and obviously not all these are is specific",
    "start": "4193940",
    "end": "4201460"
  },
  {
    "text": "but basically any known vulnerability that we could think of at this time is",
    "start": "4203960",
    "end": "4209000"
  },
  {
    "text": "not there right now okay again I'm not saying there's not going to be a new one come tomorrow all",
    "start": "4209000",
    "end": "4214940"
  },
  {
    "text": "right but as of right now it's in a very very good state the other thing I want to show you",
    "start": "4214940",
    "end": "4221719"
  },
  {
    "text": "is a URL scan if you haven't used URL scan before I'm",
    "start": "4221719",
    "end": "4228860"
  },
  {
    "text": "going to uh I'm on the actual web server now",
    "start": "4228860",
    "end": "4234340"
  },
  {
    "text": "when you install URL scan you configure it with uh the url url scan dot any file",
    "start": "4252920",
    "end": "4260679"
  },
  {
    "text": "and there's just a whole boatload of stuff here that you can configure",
    "start": "4265040",
    "end": "4270159"
  },
  {
    "text": "right off the bat you have your allow verbs get head and post I can do the same thing in asp.net but",
    "start": "4270739",
    "end": "4277820"
  },
  {
    "text": "here's the thing of what do I you know where to use URL scan where to use going down to the app level",
    "start": "4277820",
    "end": "4283699"
  },
  {
    "text": "if you said if you set it on URL scan you're basically saying well on on this box here this applies to everything right so it's",
    "start": "4283699",
    "end": "4291560"
  },
  {
    "text": "it's a bigger hammer if that hammer applies to every app that's on your box then go ahead and do it",
    "start": "4291560",
    "end": "4297860"
  },
  {
    "text": "so right off the bat I'm only using allowing get head and post and",
    "start": "4297860",
    "end": "4303199"
  },
  {
    "text": "that's all that's going to be allowed in so if any other verb comes in it's going to get canned",
    "start": "4303199",
    "end": "4308560"
  },
  {
    "text": "headers what kind of deny headers do we want to put in here by default translate if lock token I",
    "start": "4308560",
    "end": "4316520"
  },
  {
    "text": "could put soap action in there if I don't want any slope traffic coming in I can put um",
    "start": "4316520",
    "end": "4323199"
  },
  {
    "text": "the transfer Dash encoding if I want to prevent that box from being hit by any type of Chunk encoding vulnerabilities",
    "start": "4323360",
    "end": "4330620"
  },
  {
    "text": "that exist or may come to exist now obviously if your app requires that then you don't want to do that",
    "start": "4330620",
    "end": "4336199"
  },
  {
    "text": "any header that you don't want whatsoever you can put there okay",
    "start": "4336199",
    "end": "4342020"
  },
  {
    "text": "so you can actually dig into the HTTP headers and do this",
    "start": "4342020",
    "end": "4346599"
  },
  {
    "text": "down the bottom here there's a new section with the newer version of",
    "start": "4348020",
    "end": "4353800"
  },
  {
    "text": "URL scan which is a URL scan 2.5 with the Service Pack release or service roll",
    "start": "4353800",
    "end": "4360860"
  },
  {
    "text": "up pack excuse me you have the ability to again dig into",
    "start": "4360860",
    "end": "4366800"
  },
  {
    "text": "the headers and down the bottom I hadn't commented out right now but there's three of them you can you can look at Max allowed",
    "start": "4366800",
    "end": "4374600"
  },
  {
    "text": "content length so you can actually specify a Content length of what size you want to come in now obviously you",
    "start": "4374600",
    "end": "4382159"
  },
  {
    "text": "need to know your app well but if you know your app doesn't accept anything in more than 500 bytes and never should",
    "start": "4382159",
    "end": "4387320"
  },
  {
    "text": "then you set that right anyone tries to launch a buffer",
    "start": "4387320",
    "end": "4392780"
  },
  {
    "text": "overrun or a Dos against your box you can block it right there it never gets processed",
    "start": "4392780",
    "end": "4398060"
  },
  {
    "text": "same thing with Max URL and Max query string expect URL scan to evolve okay",
    "start": "4398060",
    "end": "4403460"
  },
  {
    "text": "expect it to get give you the ability to to to give you even more granular control than that",
    "start": "4403460",
    "end": "4409880"
  },
  {
    "text": "right that's it's a it's a very powerful tool as I said has anyone ever used ISO server",
    "start": "4409880",
    "end": "4417099"
  },
  {
    "text": "okay um as far as protecting web content and I",
    "start": "4418100",
    "end": "4423500"
  },
  {
    "text": "go there's a talk on ISX but the reason I want to bring it up is I can take your oil scan I'm running on Isis server now too",
    "start": "4423500",
    "end": "4429860"
  },
  {
    "text": "okay and say I'm publishing what we call publishing and reverse processing five websites",
    "start": "4429860",
    "end": "4435140"
  },
  {
    "text": "all right I can take that kind of stuff and lock it down on ice and it never touches my is boxes so again another",
    "start": "4435140",
    "end": "4440960"
  },
  {
    "text": "layer of Defense okay",
    "start": "4440960",
    "end": "4446120"
  },
  {
    "text": "um and I don't think I have much more time do I",
    "start": "4446120",
    "end": "4450219"
  },
  {
    "text": "okay um I'm about out of time so real quick summary here",
    "start": "4454520",
    "end": "4460480"
  },
  {
    "text": "just summarize IES 6 is a brand new architecture you got your kernel mode listener you got your web application",
    "start": "4461060",
    "end": "4467000"
  },
  {
    "text": "service you got your application pools security and reliability or the are the names of the game for it",
    "start": "4467000",
    "end": "4472760"
  },
  {
    "text": "um I tried to give you a real quick overview of what that means to you",
    "start": "4472760",
    "end": "4477980"
  },
  {
    "text": "uh how you can take advantage of that when you go to deploy it and I tried to",
    "start": "4477980",
    "end": "4483020"
  },
  {
    "text": "give you some info on how asp.net and is sex kind of work together and uh and and",
    "start": "4483020",
    "end": "4488600"
  },
  {
    "text": "give you some pointers on how to go ahead and lock that stuff down remember URL scan the web service extensions",
    "start": "4488600",
    "end": "4494900"
  },
  {
    "text": "which I really didn't get a chance to show so I'll do it real quick right here",
    "start": "4494900",
    "end": "4501699"
  },
  {
    "text": "if you go to an app to a web app or website for that matter and you go into your configuration",
    "start": "4505940",
    "end": "4512120"
  },
  {
    "text": "here's your extension I know that's real small but say on the dot ASA extension",
    "start": "4512120",
    "end": "4519500"
  },
  {
    "text": "or any extension you want here.asp I only want to allow the certain verbs so",
    "start": "4519500",
    "end": "4524540"
  },
  {
    "text": "you see traces turn on there right so why didn't Trace show up where do I have it turned off",
    "start": "4524540",
    "end": "4531860"
  },
  {
    "text": "URL scan right so again later your layers of Defense there so in this case I choose to block",
    "start": "4531860",
    "end": "4537199"
  },
  {
    "text": "that URL scan but I could have chose to block it at the extension itself",
    "start": "4537199",
    "end": "4542239"
  },
  {
    "text": "whatever works for you is what I'm trying to say you have flexibility there and I can go to any extension I want",
    "start": "4542239",
    "end": "4547699"
  },
  {
    "text": "there and uh and configure those verbs",
    "start": "4547699",
    "end": "4552800"
  },
  {
    "text": "um ones I would definitely take off or well Trace isn't going to be there all",
    "start": "4552800",
    "end": "4557840"
  },
  {
    "text": "right that's one change from what I have here which is rc2 and what's going to be RTM Trace will not be there by default",
    "start": "4557840",
    "end": "4563840"
  },
  {
    "text": "but debug may be there on a few of them I would probably take debug off",
    "start": "4563840",
    "end": "4569000"
  },
  {
    "text": "okay and in fact if you don't need the actual extension at all then get rid of",
    "start": "4569000",
    "end": "4574040"
  },
  {
    "text": "it remove it okay just get it out of there if you don't need it can it",
    "start": "4574040",
    "end": "4581380"
  },
  {
    "text": "okay and I had to get my one little piece of marketing in there all right over 10 000",
    "start": "4583100",
    "end": "4589040"
  },
  {
    "text": "sites already running is 6. so there's my marketing piece I'm done any",
    "start": "4589040",
    "end": "4594560"
  },
  {
    "text": "questions yes sir",
    "start": "4594560",
    "end": "4600760"
  },
  {
    "text": "can I run the what session",
    "start": "4606800",
    "end": "4610059"
  },
  {
    "text": "the pro tool can I run it",
    "start": "4611900",
    "end": "4615219"
  },
  {
    "text": "ah",
    "start": "4619400",
    "end": "4621940"
  },
  {
    "text": "okay I'm gonna delete this one here first",
    "start": "4668960",
    "end": "4673119"
  },
  {
    "text": "and we got the same results back",
    "start": "4707960",
    "end": "4711820"
  },
  {
    "text": "yeah I removed it completely",
    "start": "4714500",
    "end": "4718120"
  },
  {
    "text": "that's a good point",
    "start": "4722719",
    "end": "4725980"
  },
  {
    "text": "URL scans gone um let's make sure it's not on the actual site itself",
    "start": "4733520",
    "end": "4740540"
  },
  {
    "text": "aha that'll do it",
    "start": "4740540",
    "end": "4746739"
  },
  {
    "text": "it should be different",
    "start": "4752659",
    "end": "4755679"
  },
  {
    "text": "and now Trey said showing up",
    "start": "4789199",
    "end": "4793060"
  },
  {
    "text": "okay and let's see what we got for totals one item found which was the trace item",
    "start": "4795020",
    "end": "4803500"
  },
  {
    "text": "so take your oil scan off Trace does come back um I could turn that off on the verb level",
    "start": "4804380",
    "end": "4810620"
  },
  {
    "text": "if I want again important note on that one is this",
    "start": "4810620",
    "end": "4816620"
  },
  {
    "text": "is this is an rc2 box uh the trace verb on the default install has already been",
    "start": "4816620",
    "end": "4821659"
  },
  {
    "text": "removed between rc2 and what's going to become RTM so uh",
    "start": "4821659",
    "end": "4828080"
  },
  {
    "text": "when the actual product hits the streets Trace should be off",
    "start": "4828080",
    "end": "4832960"
  },
  {
    "text": "any other questions",
    "start": "4833600",
    "end": "4836320"
  },
  {
    "text": "um I I don't know I I really don't know",
    "start": "4838699",
    "end": "4844640"
  },
  {
    "text": "um it's coming soon but I really don't know Scott any idea",
    "start": "4844640",
    "end": "4851199"
  },
  {
    "text": "real soon yeah it is coming soon I mean the launch is scheduled sometime",
    "start": "4851199",
    "end": "4858140"
  },
  {
    "text": "soon so it's got to be coming soon any other questions",
    "start": "4858140",
    "end": "4865300"
  },
  {
    "text": "uh no I like I said I I had about six days to get ready for this so I uh I",
    "start": "4866239",
    "end": "4871460"
  },
  {
    "text": "haven't I never I didn't get a chance to to get him in on time to get printed out but they will be up on the website soon",
    "start": "4871460",
    "end": "4878440"
  },
  {
    "text": "if you need if you need them by the way my email is uh",
    "start": "4878780",
    "end": "4884300"
  },
  {
    "text": "let me write it up here real quick",
    "start": "4884300",
    "end": "4887559"
  },
  {
    "text": "that's m m u c k i n and mucken at microsoft.com if for some reason they",
    "start": "4900020",
    "end": "4906860"
  },
  {
    "text": "don't show up soon let me know I'll I'll mail them to you",
    "start": "4906860",
    "end": "4911800"
  },
  {
    "text": "any other questions",
    "start": "4916040",
    "end": "4918760"
  },
  {
    "text": "thanks for your time",
    "start": "4921380",
    "end": "4924158"
  }
]