[
  {
    "text": "next presentation is the million uh browser botnet um two speakers who Le",
    "start": "80",
    "end": "5440"
  },
  {
    "text": "little or no introduction so let me just turn it right over to them Jeremiah grman Matt",
    "start": "5440",
    "end": "11040"
  },
  {
    "text": "Johansson thank",
    "start": "11040",
    "end": "14240"
  },
  {
    "text": "you thank you everybody for uh attending our presentation today we're pretty excited about doing this uh here we've",
    "start": "18240",
    "end": "23680"
  },
  {
    "text": "been working on this for uh for 6 months and uh all too anxious to share off what",
    "start": "23680",
    "end": "29199"
  },
  {
    "text": "we got the we got the show today so uh black hat I just want to say thank you for having us again we come back every",
    "start": "29199",
    "end": "34600"
  },
  {
    "text": "year we love this event thank you for the black hat staff you guys Rule and uh hopefully everybody's going to have a lot of fun in this particular",
    "start": "34600",
    "end": "40440"
  },
  {
    "text": "presentation so it's going to go by real fast we're going to have a lot of fun uh just a little bit of background the company that we work for uh we work for",
    "start": "40440",
    "end": "47000"
  },
  {
    "text": "wh hat security founder at CTO I'm manager of the threat Research Center and we mostly do during the daytime at",
    "start": "47000",
    "end": "53640"
  },
  {
    "text": "whiteh hat is uh we break into websites fting vulnerabilities in them and uh do that on mass scale but we get to have",
    "start": "53640",
    "end": "60000"
  },
  {
    "text": "some research time and today we're going to start cracking browsers and use that to crack websites so we're going to",
    "start": "60000",
    "end": "65360"
  },
  {
    "text": "bring the whole uh web security full circle uh just a little bit about us uh",
    "start": "65360",
    "end": "71479"
  },
  {
    "text": "we do get around a bit but founder CTO I've been actually my first black hat presentation was in 2002 so I've been",
    "start": "71479",
    "end": "77159"
  },
  {
    "text": "doing this a while so this been a it's been a pretty fun ride and uh so most of the time I'm either doing research you",
    "start": "77159",
    "end": "82720"
  },
  {
    "text": "know help with product development and uh presenting up here yeah and I have a background in uh penetration testing and",
    "start": "82720",
    "end": "88920"
  },
  {
    "text": "application security I started uh in our threat Research Center just hacking websites and uh kind of moved up to",
    "start": "88920",
    "end": "94920"
  },
  {
    "text": "Heading an army of hackers myself uh so I got to do all this cool research stuff I'm hiring a lot if you're looking for",
    "start": "94920",
    "end": "100680"
  },
  {
    "text": "jobs come talk to [Laughter] me all right so let's uh let's get this",
    "start": "100680",
    "end": "107479"
  },
  {
    "text": "party started all right so uh I don't think there's a single person in this room that hasn't been on the web today",
    "start": "107479",
    "end": "113399"
  },
  {
    "text": "but you know maybe this is black at maybe you weren't connected to the internet at the time but when you go home everybody here everybody you know",
    "start": "113399",
    "end": "119920"
  },
  {
    "text": "everybody you interact with is going to be using a browser it's just part of a modern everyday life and I'm going to tell you describe for you a little about",
    "start": "119920",
    "end": "126200"
  },
  {
    "text": "what that means and the way the web is designed to work and that's going to be the critical piece of understanding here",
    "start": "126200",
    "end": "132040"
  },
  {
    "text": "is that everything we do we're not necess we're not really hacking stuff we are using the web the way it was meant",
    "start": "132040",
    "end": "138280"
  },
  {
    "text": "to be used we're just going to use it for our own purposes yeah let's just apologize out right we don't really have",
    "start": "138280",
    "end": "144480"
  },
  {
    "text": "a solution for anything we're going to talk about today sorry yeah if so",
    "start": "144480",
    "end": "150400"
  },
  {
    "text": "this is blackhead all right so uh when you visit a web page and it doesn't matter what",
    "start": "150400",
    "end": "156040"
  },
  {
    "text": "browser you're in uh Chrome Firefox Safari Opera IE whatever the case may be",
    "start": "156040",
    "end": "162319"
  },
  {
    "text": "by Nature the way the web perks it has near complete control over your browser for as long as you are at that web page",
    "start": "162319",
    "end": "168280"
  },
  {
    "text": "when you surf to the next page it has complete control so that JavaScript on that page or that flash on that page can",
    "start": "168280",
    "end": "174760"
  },
  {
    "text": "force your browser to do what basically whatever it wants and any type of request response to any destination on",
    "start": "174760",
    "end": "182120"
  },
  {
    "text": "the Internet or on the interet um that includes cross-site uh cross site",
    "start": "182120",
    "end": "187159"
  },
  {
    "text": "scripting cross site request forgery hopefully you guys have a basic understanding at least of what these are uh also clickjacking and a thousand",
    "start": "187159",
    "end": "193720"
  },
  {
    "text": "other browser tricks but we're going to go over some reviews so you understand browser security but that's the general idea the browser we get to control",
    "start": "193720",
    "end": "200920"
  },
  {
    "text": "without zero day exploits and there's nothing you can patch against if you don't know about cross side scripting",
    "start": "200920",
    "end": "206159"
  },
  {
    "text": "you can ask AR snake yeah all right so some overview of the stuff",
    "start": "206159",
    "end": "212560"
  },
  {
    "text": "we're going to go briefly through because it's important for everybody to understand the the state of browser security as it exists today uh we're",
    "start": "212560",
    "end": "219439"
  },
  {
    "text": "going to go through this list very very quickly so you come to appreciate what we're talking about here because we're",
    "start": "219439",
    "end": "224680"
  },
  {
    "text": "not talking about exploits that breach the browser walls that L Mau the zero day memory exploit stuff we're just",
    "start": "224680",
    "end": "230080"
  },
  {
    "text": "talking pure JavaScript that stays within the browser walls so when you go to any website most of them do this",
    "start": "230080",
    "end": "236720"
  },
  {
    "text": "screenshot here is from CNN um when you go to CNN they have a metric system on the site that forces your browser to",
    "start": "236720",
    "end": "243280"
  },
  {
    "text": "make a request to metrics. CNN and it has a whole bunch of information about",
    "start": "243280",
    "end": "248439"
  },
  {
    "text": "your browsing environment what browser it is the version numbers the plugins you have operating system information",
    "start": "248439",
    "end": "255159"
  },
  {
    "text": "whatever you want because they want to know who's visiting their sites what times of the day using what technology",
    "start": "255159",
    "end": "261840"
  },
  {
    "text": "so that's very simple let's get a little bit more advanced let's talk about evil cross-site request forgery JavaScript",
    "start": "261840",
    "end": "268840"
  },
  {
    "text": "here is not necess neily required so many of you might be running no script doesn't matter we're going to do it with straight up HTML so your we can force",
    "start": "268840",
    "end": "277440"
  },
  {
    "text": "your browser with JavaScript or HTML to hack any other website upload illegal content download illegal content force",
    "start": "277440",
    "end": "284000"
  },
  {
    "text": "your browser to search for what anything that we want uh on any search engine including Google we can initiate bank",
    "start": "284000",
    "end": "290000"
  },
  {
    "text": "wire transfers if you're logged into your bank uh post offensive messages and should we like um vote for Ed Snowden As",
    "start": "290000",
    "end": "296919"
  },
  {
    "text": "Time person of the year uh the one that sinks home here also is",
    "start": "296919",
    "end": "301960"
  },
  {
    "text": "uh yeah Justin Bieber is kind of embarrassing we can get this trending uh and get your names on some lists but some probably some worse list is",
    "start": "301960",
    "end": "308120"
  },
  {
    "text": "probably child porn that kind of syncs the message there with csrf yeah we could force you to download child porn so if there's guys from Google here that",
    "start": "308120",
    "end": "314240"
  },
  {
    "text": "allow us to send about a million search request for anything we want just let us know we'll do that um so the first line there that's",
    "start": "314240",
    "end": "321560"
  },
  {
    "text": "when we can force your browser to force your browser to SQL inject any other website that we want so we can make you",
    "start": "321560",
    "end": "327080"
  },
  {
    "text": "a hacker and get you in trouble that way um we can force you to download TS and make you a pirate and get all kinds of",
    "start": "327080",
    "end": "332919"
  },
  {
    "text": "dmca violations Force you like uh like Matt said search for Justin Bieber fan",
    "start": "332919",
    "end": "338199"
  },
  {
    "text": "club we thought that was pretty embarrassing um for those that are familiar with weave and the AT&T hack of",
    "start": "338199",
    "end": "344120"
  },
  {
    "text": "which he's now in jail for cycling numbers and URLs we're not going to go into legality",
    "start": "344120",
    "end": "349479"
  },
  {
    "text": "of it but we can make your browser do that too on any website that we want um and then also the last one there it's",
    "start": "349479",
    "end": "355240"
  },
  {
    "text": "kind of just a little voting example but we can make your browser do all these things there's not much you can do about it",
    "start": "355240",
    "end": "360560"
  },
  {
    "text": "then we got login detection here you come to a website that we control we can know what websites you're logged into Google Facebook Twitter LinkedIn",
    "start": "360560",
    "end": "367280"
  },
  {
    "text": "whatever the case may be there's about six different techniques to pull this off in a browser but so we know what sites you're logged into and it helps us",
    "start": "367280",
    "end": "373720"
  },
  {
    "text": "make targeted attacks against your browser to the user but this is a user specific",
    "start": "373720",
    "end": "379080"
  },
  {
    "text": "attack moving on we can de anonymize let's say you're logged into Twitter let's say you're logged into Facebook if",
    "start": "380039",
    "end": "385759"
  },
  {
    "text": "we can click Jack you which is make you think you're clicking on something but you're really click on one of our like buttons or our follow buttons we can",
    "start": "385759",
    "end": "392240"
  },
  {
    "text": "actually de anonymize you and tell you and tell who you are it's not just random person logged into Facebook or",
    "start": "392240",
    "end": "398280"
  },
  {
    "text": "LinkedIn this things we talked about you click a link and we know your first name and everything you put on Twitter in LinkedIn just one click and we know who",
    "start": "398280",
    "end": "404000"
  },
  {
    "text": "you are right down to the city and everything in your profile information one click you think some tracking companies or some advertisement",
    "start": "404000",
    "end": "409759"
  },
  {
    "text": "companies might want to know your actual full name yeah I think it's pretty valuable to them so the again we're just moving",
    "start": "409759",
    "end": "415879"
  },
  {
    "text": "through history here these are well-known things well amongst the blackhead probably um we have Internet",
    "start": "415879",
    "end": "421560"
  },
  {
    "text": "hacking here so yes we can force your browser to make connections we can force your browser to make connections to the internet and hack your DSL routers first",
    "start": "421560",
    "end": "427840"
  },
  {
    "text": "time we uh May mention this was back in 2006 it is unfixed still works works",
    "start": "427840",
    "end": "435919"
  },
  {
    "text": "great we can force autoc Crosset script you with autof frames you come to our site if we know a a Crosset scripting",
    "start": "436160",
    "end": "442000"
  },
  {
    "text": "vulnerability in a major portal Webmail provider or whatever load up an if frame autocross site script you hijack your",
    "start": "442000",
    "end": "448039"
  },
  {
    "text": "account Zip Zap you won't see it and finally actually we're a couple more",
    "start": "448039",
    "end": "453400"
  },
  {
    "text": "here we keep going fast through this stuff we can load traditional M everybody's familiar with this the you SQL inject to land iframes on particular",
    "start": "453400",
    "end": "460319"
  },
  {
    "text": "web pages so you insert content so you go to these infected websites they'll iframe in malicious malare content that",
    "start": "460319",
    "end": "466639"
  },
  {
    "text": "exploits your browser and owns your machine so these are these are possible attacks in the browser so these are some of the ones",
    "start": "466639",
    "end": "473400"
  },
  {
    "text": "that we're going to focus on so that's all history uh Jeremiah's talked about a lot of that stuff in the past there's other blackhead talks about this there's",
    "start": "473400",
    "end": "479599"
  },
  {
    "text": "even talks about this kind of stuff but the way that we distributed it is a little bit different so this is some research that was uh about distributed",
    "start": "479599",
    "end": "486000"
  },
  {
    "text": "computing using JavaScript to uh actually crack passwords and the cool thing about JavaScript besides being uh",
    "start": "486000",
    "end": "492319"
  },
  {
    "text": "pretty easy to write is that it's really really fast so in this particular research uh he found a metric that you",
    "start": "492319",
    "end": "499360"
  },
  {
    "text": "could actually crack or attempt to crack a 100,000 md5 hashes per second using JavaScript so if you could distribute",
    "start": "499360",
    "end": "505840"
  },
  {
    "text": "this JavaScript over a broad enough span you can start farming out CP you and potentially get through a big pile of",
    "start": "505840",
    "end": "511680"
  },
  {
    "text": "md5 hashes really really quickly so this has actually happened so these are uh",
    "start": "511680",
    "end": "517120"
  },
  {
    "text": "some pcc's uh Ravon is one of the uh ones that actually does use the distributed model it's not just showing",
    "start": "517120",
    "end": "523279"
  },
  {
    "text": "that JavaScript can do it this is actually distributed computing you can download this today the other screenshot there is just proving that JavaScript",
    "start": "523279",
    "end": "530200"
  },
  {
    "text": "can very quickly uh this isn't distributed by any means it's just uh showing the speed of JavaScript cracking",
    "start": "530200",
    "end": "536399"
  },
  {
    "text": "md5 hashes uh so this is using web work workers and I think it's about 12 you said 12 web workers to uh and they're",
    "start": "536399",
    "end": "544519"
  },
  {
    "text": "attempting about 60 60 to 70,000 passwords per second per web worker time 12 do the math um and yeah so this stuff",
    "start": "544519",
    "end": "552760"
  },
  {
    "text": "is fast it's been done it's out there you can grab it um but what we're focusing on is how we're going to",
    "start": "552760",
    "end": "557880"
  },
  {
    "text": "distribute it so this was uh this was black at last year this came out so we're going to leverage it uh so in that",
    "start": "557880",
    "end": "564399"
  },
  {
    "text": "same vein you can do uh besides just password cracking we could do denial of service and this is the one that we",
    "start": "564399",
    "end": "569720"
  },
  {
    "text": "really focused on in our research in the past couple months uh we could force JavaScript to use things called uh cross",
    "start": "569720",
    "end": "575959"
  },
  {
    "text": "origin requests and web workers and HTML 5 tools and a bunch of different methods",
    "start": "575959",
    "end": "581040"
  },
  {
    "text": "to force as many requests as possible out of a single browser or a lot of browsers to a single website right so",
    "start": "581040",
    "end": "587720"
  },
  {
    "text": "again in this metric there was found that they could do about 10,000 requests per minute uh sent from a single browser",
    "start": "587720",
    "end": "593680"
  },
  {
    "text": "again if you think big and distribute this this number gets very large very quickly and you can actually get some",
    "start": "593680",
    "end": "599079"
  },
  {
    "text": "you know Big Boy denial of service attacks via JavaScript all right the important point",
    "start": "599079",
    "end": "604560"
  },
  {
    "text": "on this particular slide here is that you can funnel a whole lot of web requests down a single connection pipe",
    "start": "604560",
    "end": "609920"
  },
  {
    "text": "but you can't scale it across multiple connections so there's a what's called a uh a connection limit in the browser and",
    "start": "609920",
    "end": "615959"
  },
  {
    "text": "that's what we're going to talk about next um this is a tool called browser scope it's at browsers scope.com or.org",
    "start": "615959",
    "end": "621360"
  },
  {
    "text": "uh.org and every browser has a connection limit not for security but for stability and performance so you go",
    "start": "621360",
    "end": "627440"
  },
  {
    "text": "to a website and your browser will find wire open a whole bunch of requests to that website to download the content",
    "start": "627440",
    "end": "632839"
  },
  {
    "text": "most browsers will max out at six connections and you've made it through the review so we're going to tempt the",
    "start": "632839",
    "end": "638519"
  },
  {
    "text": "demo Gods here and we're going to start doing some of this stuff live so most browsers about six uh mobile browsers we",
    "start": "638519",
    "end": "644360"
  },
  {
    "text": "could see that we can get about eight um and if we invoke uh some HTML 5 tricks and and web workers you can get about",
    "start": "644360",
    "end": "650120"
  },
  {
    "text": "seven uh so I'm not going to rerun this just well for save time you just have to take my word for it here so this is",
    "start": "650120",
    "end": "655800"
  },
  {
    "text": "browser scope they run a bunch of browser performance tests you can see what browsers actually support which is what versus what they say they support",
    "start": "655800",
    "end": "662560"
  },
  {
    "text": "So this does a sends a whole bunch of uh simultaneous connections to the server and tells you how many simultaneous",
    "start": "662560",
    "end": "668200"
  },
  {
    "text": "connections it's able to send so in this case in Firefox it was six so I'm going",
    "start": "668200",
    "end": "673560"
  },
  {
    "text": "to go back to the slides here real quick but because that's what we want to",
    "start": "673560",
    "end": "680360"
  },
  {
    "text": "bypass so when we started researching this stuff here uh we found that Firefox I didn't we didn't test this in IE but",
    "start": "680360",
    "end": "686200"
  },
  {
    "text": "Firefox is actually a way to circumvent the connection limit bypass which allows us to scale out our denial of service",
    "start": "686200",
    "end": "692880"
  },
  {
    "text": "request so if you see the code on the left there what this does is when you go to a web page with this code it Loops",
    "start": "692880",
    "end": "698920"
  },
  {
    "text": "300 times and sends off a whole bunch of image requests to the same server but it'll only send six at a time in the",
    "start": "698920",
    "end": "705399"
  },
  {
    "text": "browser so you only get six connections when those are served back the next six will go and the next six will go but we",
    "start": "705399",
    "end": "710440"
  },
  {
    "text": "found that the connection limits in the browser at least in Firefox were tied to the HTTP uh protocol Handler if we",
    "start": "710440",
    "end": "717600"
  },
  {
    "text": "swapped it to FTP and put the port number of 80 to redirect it we got a lot",
    "start": "717600",
    "end": "723079"
  },
  {
    "text": "more no no ceiling right so the the magic number seemed to be about 400 before Apache went bye-bye with one",
    "start": "723079",
    "end": "728880"
  },
  {
    "text": "browser so we can use one browser instance to kill Apache uh important distinguishment here so we are using FTP",
    "start": "728880",
    "end": "735959"
  },
  {
    "text": "it cannot speak HTTP so we can't do a lot of the uh the top of that list of of",
    "start": "735959",
    "end": "741040"
  },
  {
    "text": "proof of Concepts we can't uh do a lot of the csfs but this is just connections we're trying to open up as many",
    "start": "741040",
    "end": "746320"
  },
  {
    "text": "connections as possible to a single website so it's not really Trad denial of service where we're trying to get as many megabits or gigs per second per",
    "start": "746320",
    "end": "753639"
  },
  {
    "text": "hour type thing this is number of simultaneous connections allowed open so I'm running an Apache server on this",
    "start": "753639",
    "end": "759399"
  },
  {
    "text": "laptop here it's a plain vanilla uh Apache web server it is a version if",
    "start": "759399",
    "end": "765880"
  },
  {
    "text": "anybody cares 2.4.4 it's just all basic all defaults it didn't change a thing so in this",
    "start": "765880",
    "end": "773240"
  },
  {
    "text": "particular screen here you're actually we're going to focus on the first four Loop there that will Loop up to well up to zero I'm going to set here let's say",
    "start": "773240",
    "end": "780480"
  },
  {
    "text": "just 100 and it's going to set up a whole bunch of image requests to the server just looking for an image with a",
    "start": "780480",
    "end": "785639"
  },
  {
    "text": "sleep of three meaning the server won't respond back for 3 seconds just so you can see it build up here so I'm going to",
    "start": "785639",
    "end": "791480"
  },
  {
    "text": "load that up right now live so you can see how this works so you count one two three and the images",
    "start": "791480",
    "end": "798760"
  },
  {
    "text": "start coming up because it won't fire all of them at the same time so you kind of get the idea right that there's connection limits in the browser and",
    "start": "798760",
    "end": "805399"
  },
  {
    "text": "they're not coming all at once so we can kill that so the other thing here is this is a performance feature in the",
    "start": "805399",
    "end": "811800"
  },
  {
    "text": "browser it's not a security feature we happen to be able to abuse it in a security fashion which you'll see in a few minutes but the reason being exactly",
    "start": "811800",
    "end": "818519"
  },
  {
    "text": "what you just saw they didn't want all of those image to try to load at the same time for performance reasons and just uh use of the web so I'm going to",
    "start": "818519",
    "end": "825519"
  },
  {
    "text": "reload this one more time I I forgot to point out one thing so this is the Apache status here of this particular",
    "start": "825519",
    "end": "830759"
  },
  {
    "text": "web server uh actually I me Loop this up here back up to 100 and I want you to",
    "start": "830759",
    "end": "835839"
  },
  {
    "text": "watch the status screen in the bottom left so if you notice in the bottom left see the number of simultaneous requests down",
    "start": "835839",
    "end": "842440"
  },
  {
    "text": "here uh seven so it's maxing out so it's one for the browser window that I'm opening and the other one the other six",
    "start": "842440",
    "end": "849000"
  },
  {
    "text": "images so that is very very important there we're going to try to break the upper bound there with one particular",
    "start": "849000",
    "end": "854440"
  },
  {
    "text": "browser so kill this drop this back down to zero we don't need it anymore now as",
    "start": "854440",
    "end": "860240"
  },
  {
    "text": "I mentioned way to bypass the connection limits in Firefox we just Loop that up to 100 is",
    "start": "860240",
    "end": "866360"
  },
  {
    "text": "using FTP same host name same everything don't need to all cuz it's FTP it's not sending HTTP so we're going to flip it",
    "start": "866360",
    "end": "873120"
  },
  {
    "text": "so now watch the bottom left when I reload this page boom",
    "start": "873120",
    "end": "879800"
  },
  {
    "text": "100 now watch when I hit stop they'll all go away instantly see",
    "start": "880120",
    "end": "887959"
  },
  {
    "text": "what do you want see 100 to one if you guys all catch that all right so now uh as I was I was curious when we were",
    "start": "887959",
    "end": "895720"
  },
  {
    "text": "testing this let's Loop it to 400 00 so this is refreshing itself every uh every second",
    "start": "895720",
    "end": "902680"
  },
  {
    "text": "so let's hit it so 270 and it gets to a point where",
    "start": "902680",
    "end": "910560"
  },
  {
    "text": "it'll start to panic and it can't serve up any more requests so all you got to do is you load this code in a web page",
    "start": "910560",
    "end": "916759"
  },
  {
    "text": "an Apache browser if somebody else runs into it you point it and you got three 400 simultaneous connections so right",
    "start": "916759",
    "end": "922839"
  },
  {
    "text": "now it's it's having a difficult time serving right now so kind of get the idea that you looping over and over again you bypass the connection until",
    "start": "922839",
    "end": "929519"
  },
  {
    "text": "Apache exhausts at about 250 300 or so so this is all with a single browser",
    "start": "929519",
    "end": "934800"
  },
  {
    "text": "we're just using one browser brows bypassing the connection limits and causing an Apache install some pain so I",
    "start": "934800",
    "end": "941680"
  },
  {
    "text": "I won't do it live because we have another live demo going in the background what you see there scrolling up we have another system on the Amazon",
    "start": "941680",
    "end": "947720"
  },
  {
    "text": "AWS system I don't want to kill that with this dos attack right now I would prefer you see the other demos before I kill",
    "start": "947720",
    "end": "953600"
  },
  {
    "text": "it but this does work uh on a red hat Apache Ami that I loaded up",
    "start": "953600",
    "end": "960519"
  },
  {
    "text": "so let's go back so now we know what we can do with uh Firefox at",
    "start": "960519",
    "end": "966160"
  },
  {
    "text": "least so we have some more capabilities but in general so what are the benefits of hacking this way right so why not",
    "start": "966319",
    "end": "973000"
  },
  {
    "text": "just do a traditional uh denial of service attack try to get as many megabits per second as as you can um so",
    "start": "973000",
    "end": "980240"
  },
  {
    "text": "some of the conversations that came up uh when we were doing this research is oh well it's not really a bot net because it's not persistent and I think",
    "start": "980240",
    "end": "986920"
  },
  {
    "text": "that's a benefit that it's not persistent it goes away there is no trace of this right so we put we put",
    "start": "986920",
    "end": "992839"
  },
  {
    "text": "money in a machine uh and and the JavaScript gets served up and then it goes away right um in an ad Network",
    "start": "992839",
    "end": "1000160"
  },
  {
    "text": "we're going to get to this really quick uh and it's it's very very easy the code you saw the code I'm pretty sure most of",
    "start": "1000160",
    "end": "1005839"
  },
  {
    "text": "the people in this room could probably read the code that we wrote right it wasn't anything crazy fantastic and the",
    "start": "1005839",
    "end": "1011880"
  },
  {
    "text": "other key Point here is like like we said in the beginning this is how it's supposed to work this is the way the web",
    "start": "1011880",
    "end": "1017199"
  },
  {
    "text": "is supposed to work this is just we're just loading images as quickly as possible so whose problem is it to fix I",
    "start": "1017199",
    "end": "1022920"
  },
  {
    "text": "don't know but yeah so what we're going to focus on though is how to distribute this so I kind of got a little ahead of",
    "start": "1022920",
    "end": "1028959"
  },
  {
    "text": "myself but uh these are all the kind of the historical ways that uh these kinds",
    "start": "1028959",
    "end": "1034199"
  },
  {
    "text": "of malicious codes have been distributed throughout the past right drive by malware uh email spam we're not going to",
    "start": "1034199",
    "end": "1040720"
  },
  {
    "text": "go over this stuff this is you know some of these are decades old uh they work if you're trying to hack a user right but",
    "start": "1040720",
    "end": "1047520"
  },
  {
    "text": "we need to think bigger on scale uh so for the for our purposes",
    "start": "1047520",
    "end": "1052600"
  },
  {
    "text": "these were not big enough yep so we had all these ways to distribute our JavaScript and that's the point we could do a lot in JavaScript but we have to",
    "start": "1052600",
    "end": "1058520"
  },
  {
    "text": "get other browsers running it a lot of them and for this we invoke the crockford uh for those that don't",
    "start": "1058520",
    "end": "1064880"
  },
  {
    "text": "familiar with Douglas crockford he wrote the book on JavaScript so he figured he's a pretty good uh good source for this information so he says the most",
    "start": "1064880",
    "end": "1071160"
  },
  {
    "text": "reliable costeffective method to inject evil code is to buy an ad let's try it let's try it so how does",
    "start": "1071160",
    "end": "1079120"
  },
  {
    "text": "an advertising Network work because they get a lot of reach so here's the",
    "start": "1079120",
    "end": "1084159"
  },
  {
    "text": "ecosystem if you will first you have the advertisers on the top that want to show you something some kind of AD to buy",
    "start": "1084159",
    "end": "1089679"
  },
  {
    "text": "flowers a date whatever right and they have they have advertisement they have money to spend but they need sites for",
    "start": "1089679",
    "end": "1096360"
  },
  {
    "text": "it to go on so they need to get it into the hands of Publishers those that run blogs content websites social networks",
    "start": "1096360",
    "end": "1102360"
  },
  {
    "text": "news sites and there needs to be a bridge between the two between the advertiser and the publisher we call",
    "start": "1102360",
    "end": "1107400"
  },
  {
    "text": "those advertising Networks so what the advertisers do for a little bit of money they post an ad to an advertising",
    "start": "1107400",
    "end": "1112880"
  },
  {
    "text": "Network and it gets funneled out to the blogs and social networking websites this could be images popups JavaScript",
    "start": "1112880",
    "end": "1118880"
  },
  {
    "text": "whatever and then when you run into it when you see it you're the little blue guys at the bottom so this morning we",
    "start": "1118880",
    "end": "1124799"
  },
  {
    "text": "went on to TMZ we're like let's think of a site that has a lot of ads just for a cool screenshot and this one we just",
    "start": "1124799",
    "end": "1131080"
  },
  {
    "text": "couldn't leave out uh that that one in the the bottom right just cracked us up because that's what we're doing ising",
    "start": "1131080",
    "end": "1138200"
  },
  {
    "text": "done right and then if you guys can't read it at the bottom there it sees it shows says",
    "start": "1138200",
    "end": "1143480"
  },
  {
    "text": "see what's possible what's possible I was like I think we will okay um yeah so",
    "start": "1143480",
    "end": "1148840"
  },
  {
    "text": "we had already done all the research when we found this but it was just too perfect all right so every spot on this page is an Advertiser that could have",
    "start": "1148840",
    "end": "1155440"
  },
  {
    "text": "loaded their JavaScript code in front of the users of TMZ so they're using the a",
    "start": "1155440",
    "end": "1160880"
  },
  {
    "text": "TMZ's audience to do their bidding for just a little bit of money so some examples of these advertising networks",
    "start": "1160880",
    "end": "1166960"
  },
  {
    "text": "you have AdSense and clicks or and double click yeah we're not an advertising Network we did a dry run",
    "start": "1166960",
    "end": "1172679"
  },
  {
    "text": "here and someone pointed out that our template might might confuse people all right so there's there's",
    "start": "1172679",
    "end": "1179280"
  },
  {
    "text": "dozens hundreds of these systems and they all have different capabilities different price points and things some",
    "start": "1179280",
    "end": "1185039"
  },
  {
    "text": "allow arbitrary JavaScript in the ad some don't I was annoyed by the ones that don't so I emailed",
    "start": "1185039",
    "end": "1191400"
  },
  {
    "text": "them and I said I would like to add thirdparty JavaScript into your system and one of the one of the guys responded",
    "start": "1191400",
    "end": "1196720"
  },
  {
    "text": "really quickly like in two minutes right he says the only third party code we allow is that from a large ad serving",
    "start": "1196720",
    "end": "1202159"
  },
  {
    "text": "companies like double click and such who we trust and are already scanning their stuff on their side to prevent potential",
    "start": "1202159",
    "end": "1208679"
  },
  {
    "text": "vulnerabilities okay let's let's just get a quick show of hands who trusts their advertising networks out there to",
    "start": "1208679",
    "end": "1215039"
  },
  {
    "text": "find their own vulnerabilities all right so that was nice so we got a bunch of emails like that it was kind of funny zero hands",
    "start": "1215039",
    "end": "1221159"
  },
  {
    "text": "went up everyone in front Okay so the this is traditional advertising networks where you pay a little bit of money and",
    "start": "1221159",
    "end": "1226520"
  },
  {
    "text": "we'll get to some of the metrics and you get ad ser there's a different type of network out there that we came across",
    "start": "1226520",
    "end": "1233000"
  },
  {
    "text": "we're going to purposely not give you the names of these because well we don't know if we're going to get in trouble for that so you'll go find them but this",
    "start": "1233000",
    "end": "1239360"
  },
  {
    "text": "particular one doesn't serve ads the way this particular system works is that you pay a little bit of money and PE and",
    "start": "1239360",
    "end": "1244840"
  },
  {
    "text": "they have browsers people in the network that will view your web page for a certain amount of time so you buy",
    "start": "1244840",
    "end": "1250280"
  },
  {
    "text": "browser time for pennies so in this particular case 10,000 Minutes you can buy for about 12 and a half bucks",
    "start": "1250280",
    "end": "1258000"
  },
  {
    "text": "converted so 10,000 Minutes of browser time so the important distinguish uh distinguishment here is that this uh is",
    "start": "1258000",
    "end": "1265760"
  },
  {
    "text": "very useful for the password cracking and things like that when you actually need time for your code to run and get",
    "start": "1265760",
    "end": "1272080"
  },
  {
    "text": "through piles of uh passwords to brute force or logins to brute force or things like that uh the the regular advertising",
    "start": "1272080",
    "end": "1279480"
  },
  {
    "text": "networks that are just trying to blast across a network no guaranteed amount of time that your code is going to run this",
    "start": "1279480",
    "end": "1285720"
  },
  {
    "text": "ad will load on a page at some point you're paying for that uh but if the person sits there for a minute 10",
    "start": "1285720",
    "end": "1291880"
  },
  {
    "text": "minutes 2 seconds no guarantee there you're not paying for that uh that we can use for the denial of service right",
    "start": "1291880",
    "end": "1297840"
  },
  {
    "text": "but it might not be as reliable for the uh cracking and bruteforce type uh",
    "start": "1297840",
    "end": "1303200"
  },
  {
    "text": "activities to give a point of context here at the bottom 1 million minutes so you can buy 1 million minutes or it",
    "start": "1303200",
    "end": "1308279"
  },
  {
    "text": "equals about almost two years of browser time for about",
    "start": "1308279",
    "end": "1313360"
  },
  {
    "text": "$650 so it's good metrics now the web runs on Advertising that's how all these",
    "start": "1313400",
    "end": "1318679"
  },
  {
    "text": "websites are paid for so their reach is phenomenal for just pennies so back to",
    "start": "1318679",
    "end": "1324000"
  },
  {
    "text": "the agenda we're going to focus on the last two uh we've talked about Brute",
    "start": "1324000",
    "end": "1329480"
  },
  {
    "text": "Force hash cracking so imagine scaling this out on a million browsers or just you know add $650 and you can run passer",
    "start": "1329480",
    "end": "1336400"
  },
  {
    "text": "cracking for the equivalent of two years or dos and we're going to show you a couple of live demos there but let's",
    "start": "1336400",
    "end": "1342000"
  },
  {
    "text": "talk about some economics so yeah to get into the economics of it this uh so we talked a little bit you saw the screenshot of that one particular",
    "start": "1342000",
    "end": "1348559"
  },
  {
    "text": "network of buying minutes uh but as far as the ad networks go there's some language that ad networks use that I had",
    "start": "1348559",
    "end": "1355159"
  },
  {
    "text": "to figure out the hard way uh they like to call them Impressions right so you know we're really looking at Pennies on",
    "start": "1355159",
    "end": "1361039"
  },
  {
    "text": "the dollar here uh but the the average number that we seem to run into over and over again throughout the past couple",
    "start": "1361039",
    "end": "1366520"
  },
  {
    "text": "months is around 50 cents per thousand Impressions so when I say Impressions uh",
    "start": "1366520",
    "end": "1371799"
  },
  {
    "text": "you guys think browsers right like a bot like you get one person like this this ad loaded in this browser we have",
    "start": "1371799",
    "end": "1378000"
  },
  {
    "text": "control over this browser at this point of time it's effectively a bot uh so yeah they call it Impressions we call",
    "start": "1378000",
    "end": "1383720"
  },
  {
    "text": "them Bots and there's no particular reason why bad guys when you know real bad guys when they steal credit cards",
    "start": "1383720",
    "end": "1389520"
  },
  {
    "text": "they couldn't use stolen credit cards to buy minutes or buy Impressions this way and leverage what we're doing here so",
    "start": "1389520",
    "end": "1396400"
  },
  {
    "text": "these are some screenshots from the actual advertising Network that we were using so you guys can get a feel for the dashboard that we were kind of clicking",
    "start": "1396400",
    "end": "1402360"
  },
  {
    "text": "around and and uh trying to get our ads displayed in this network so if we had",
    "start": "1402360",
    "end": "1407400"
  },
  {
    "text": "it our way we probably would have displayed an ad that just said nothing probably blank or whatever just run our",
    "start": "1407400",
    "end": "1412640"
  },
  {
    "text": "JavaScript code we don't care we're not actually trying to be advertisers here we want this to be as invisible as possible to the user and to the ad",
    "start": "1412640",
    "end": "1419640"
  },
  {
    "text": "Network so that they just let us go on our peaceful hacking ways of dossing our own web servers uh so again you can see",
    "start": "1419640",
    "end": "1427200"
  },
  {
    "text": "uh you know for the first I don't know how many months of of This research we hadn't even spent 10 bucks yet and we",
    "start": "1427200",
    "end": "1432799"
  },
  {
    "text": "were already taking down our web servers and all this stuff so you can really do Pennies on the dollar here uh you could see you could set daily limits you can",
    "start": "1432799",
    "end": "1438760"
  },
  {
    "text": "do all the sorts of things that you would think you'd be able to do in an ad Network pick specific keywords that you want your ads to focus on uh potentially",
    "start": "1438760",
    "end": "1446720"
  },
  {
    "text": "pick geolocation pick uh operating systems or browsers that you would like your ad to particularly focus on mobile",
    "start": "1446720",
    "end": "1453360"
  },
  {
    "text": "non-mobile all those kinds of choices I just picked as broad as possible I just wanted this ad to get everywhere uh so I",
    "start": "1453360",
    "end": "1459840"
  },
  {
    "text": "just picked you know they made you pick a keyword so I pick computers so sorry guys um and yeah and but you know there",
    "start": "1459840",
    "end": "1466919"
  },
  {
    "text": "was all the adult keywords you can imagine what this uh this side of the internet looks like uh but yeah on the",
    "start": "1466919",
    "end": "1473120"
  },
  {
    "text": "bottom you can see some of the days uh the first day of research we actually got 15",
    "start": "1473120",
    "end": "1478480"
  },
  {
    "text": "clicks that's return on investment there guys come on so uh I'll show you the it's going to be even funnier once you",
    "start": "1478480",
    "end": "1484159"
  },
  {
    "text": "see the ad 15 people clicked it but uh yeah you can see the the amount of money that we spend each day versus the amount",
    "start": "1484159",
    "end": "1490200"
  },
  {
    "text": "of Impressions the second column is the amount of Impressions that we got that day at any given time so again there's",
    "start": "1490200",
    "end": "1495399"
  },
  {
    "text": "no guarantee of minutes here but that's just at some point your code loaded in 8326 browsers in this 24-hour period",
    "start": "1495399",
    "end": "1504000"
  },
  {
    "text": "cool so let's uh how do we input this code right so a lot of the ad networks we went to they just wanted to do a lot",
    "start": "1504000",
    "end": "1509320"
  },
  {
    "text": "of it themselves we wanted we picked this one because they let us do it yeah so uh you can pick an image Banner great",
    "start": "1509320",
    "end": "1516399"
  },
  {
    "text": "like put an image up give it a URL that when you click it that's where it goes or they give you the HTML JavaScript",
    "start": "1516399",
    "end": "1521720"
  },
  {
    "text": "option that sounds pretty good so uh you can see we started out on the top we we uh we had to go through this whole",
    "start": "1521720",
    "end": "1527679"
  },
  {
    "text": "approval process that was probably the hardest part of all this research was the approval process not for the reasons that you would think uh they happen to",
    "start": "1527679",
    "end": "1535120"
  },
  {
    "text": "not be very good at reading JavaScript or even caring about JavaScript what they actually cared about was if the ad",
    "start": "1535120",
    "end": "1540440"
  },
  {
    "text": "looked pretty and worked like an ad um so I couldn't really go about our invisible way of just mystical",
    "start": "1540440",
    "end": "1547200"
  },
  {
    "text": "JavaScript going on in the background but uh you'll see in a second what got approved so uh we we started out doing",
    "start": "1547200",
    "end": "1553520"
  },
  {
    "text": "the code that you that you saw Jeremiah uh tinkering with just straight up in the ad which was fine here the code they",
    "start": "1553520",
    "end": "1558880"
  },
  {
    "text": "saw it in this text box got approved no problem but anytime we wanted to tweak something you know we're doing research",
    "start": "1558880",
    "end": "1564640"
  },
  {
    "text": "here things Chang like the URLs or if we wanted to try something new it had to go through a real approval process this",
    "start": "1564640",
    "end": "1570200"
  },
  {
    "text": "didn't take long but it was just getting annoying uh because sometimes they'd approve it sometimes they didn't like it",
    "start": "1570200",
    "end": "1575720"
  },
  {
    "text": "was just getting really weird uh at one point I think their email application",
    "start": "1575720",
    "end": "1580919"
  },
  {
    "text": "was stripping script tags uh so all the JavaScript stuff was going on going away so I actually replaced it with please",
    "start": "1580919",
    "end": "1587600"
  },
  {
    "text": "put a less than sign here please put a greater than sign here and they then they came back and said your ad's not displaying properly and it's still head",
    "start": "1587600",
    "end": "1593880"
  },
  {
    "text": "please put your less than sign here anyway so this was the fun part uh of this so we wound up changing it and so",
    "start": "1593880",
    "end": "1599480"
  },
  {
    "text": "instead of putting the code directly into the ad we actually uh put just a little script source so we just Source",
    "start": "1599480",
    "end": "1604760"
  },
  {
    "text": "it out to a Javascript file on our side that it's going to call out to every time we can change that file however",
    "start": "1604760",
    "end": "1610600"
  },
  {
    "text": "many times we want and no re-approval process so once this got approved it was approved end of story cool um so even if",
    "start": "1610600",
    "end": "1618320"
  },
  {
    "text": "they did somehow hire people at these advertising networks that are really good at JavaScript sta code analysis or",
    "start": "1618320",
    "end": "1624120"
  },
  {
    "text": "something uh we could just change it right we can just make completely benign JavaScript at first get approved cool",
    "start": "1624120",
    "end": "1630520"
  },
  {
    "text": "we're going to change this it'd be really hard to keep up with us if if you wanted to try that you get that kind of thing right so here's the ads I tried to",
    "start": "1630520",
    "end": "1636799"
  },
  {
    "text": "get approved um so they only approved one of these uh and it was the one that fit but",
    "start": "1636799",
    "end": "1642559"
  },
  {
    "text": "I was lazy to go and find other pictures so I just grabbed this picture off of white Hat's corporate website it has no",
    "start": "1642559",
    "end": "1648200"
  },
  {
    "text": "no branding to white hat whatsoever it's just get a 30-day free trial claim",
    "start": "1648200",
    "end": "1653799"
  },
  {
    "text": "now 15 people click 30-day free trial of what who",
    "start": "1653799",
    "end": "1659200"
  },
  {
    "text": "knows let's click it cool they're out there right free yeah it's free right 30",
    "start": "1659200",
    "end": "1667240"
  },
  {
    "text": "days I'll tell you their names later all right so de de anonymize them so all of this was the same exact code through all",
    "start": "1667240",
    "end": "1673519"
  },
  {
    "text": "these banners there was more on the bottom here you get the idea they were just different shapes and sizes uh and",
    "start": "1673519",
    "end": "1679240"
  },
  {
    "text": "they just said I'm sorry we can't approve anything but this one because none of the other images fit even though it was all the same JavaScript code that",
    "start": "1679240",
    "end": "1685120"
  },
  {
    "text": "we were all doing sort of nastiness with so that's the ad so what we what we did here as you",
    "start": "1685120",
    "end": "1691919"
  },
  {
    "text": "Matt put up the code he put a script tag that went to the top URL there so as he mentioned that we could just change our",
    "start": "1691919",
    "end": "1696960"
  },
  {
    "text": "payload our JavaScript payload whenever we want and not have to go through reapprovals browsers were going to be",
    "start": "1696960",
    "end": "1703159"
  },
  {
    "text": "viewing our ads in this particular ad Network so instead of looping to 100 200 300 we just looped it to 10,000 and hope",
    "start": "1703159",
    "end": "1708600"
  },
  {
    "text": "for the best we started small we were like okay let's see if we can get them to make the connections to us and we could see it on our end right um so we",
    "start": "1708600",
    "end": "1715159"
  },
  {
    "text": "actually got to see all the people who were approving us their requests would come out of their browser because you",
    "start": "1715159",
    "end": "1720240"
  },
  {
    "text": "know we were only dealing with a few requests at the time so it was like oh my ad's not approved oh I saw a request",
    "start": "1720240",
    "end": "1725919"
  },
  {
    "text": "oh my ads approved Okay cool so now I know who that one that IP address is but uh yeah so we started small and then",
    "start": "1725919",
    "end": "1731640"
  },
  {
    "text": "just wound up looping it so we we were trying to get a feel for once we actually deployed this thing how like",
    "start": "1731640",
    "end": "1737640"
  },
  {
    "text": "long was the code running uh cuz again this is not the service that you're paying for guaranteed minutes right so",
    "start": "1737640",
    "end": "1743000"
  },
  {
    "text": "we were trying to get a feel for is it a few seconds are we just getting this one little burst or do we actually have some",
    "start": "1743000",
    "end": "1748279"
  },
  {
    "text": "time here that we can play with some stuff so we're going to fly through some screenshots the way to set up this particular this slide demo here is that",
    "start": "1748279",
    "end": "1754600"
  },
  {
    "text": "when we got to black hat uh yesterday Monday we well mon Monday Monday we reset the servers we reset it and that's",
    "start": "1754600",
    "end": "1761360"
  },
  {
    "text": "what you see in the bottom left here this is Amazon AWS live running right now and we reset the settings so right",
    "start": "1761360",
    "end": "1766760"
  },
  {
    "text": "now we hit the Aver iing networks Matt put money in the till I I kicked off the uh the minute one and we started to go",
    "start": "1766760",
    "end": "1773480"
  },
  {
    "text": "and just wanted to measure the impact So within 8 minutes we had 4,130 total hits these are not unique",
    "start": "1773480",
    "end": "1780120"
  },
  {
    "text": "visitors these are actual web requests and with 1.9 megabits transferred uh and",
    "start": "1780120",
    "end": "1785640"
  },
  {
    "text": "five simultaneous requests so that's we're going to start watching the minutes the logs the metrics as we click",
    "start": "1785640",
    "end": "1791000"
  },
  {
    "text": "through this stuff and what you see in the top left there that's the web server logs as they're flying by so the first few slides that we're going to go",
    "start": "1791000",
    "end": "1796679"
  },
  {
    "text": "through you can you can hit next but uh the the the number you're going to see crawling up for a little bit uh the the",
    "start": "1796679",
    "end": "1803039"
  },
  {
    "text": "network that we were playing with that was buying the minutes uh actually kicked in immediately as soon as we hit",
    "start": "1803039",
    "end": "1808880"
  },
  {
    "text": "go it would go right so now you know we are between 8 and 10 minutes you saw a jump in about you know 10 or 11,000",
    "start": "1808880",
    "end": "1815159"
  },
  {
    "text": "requests right that's all from that just that one network my ad I put like you can just add more funds to an",
    "start": "1815159",
    "end": "1821000"
  },
  {
    "text": "advertising Network and it'll kind of peek and Valley as it goes um so ours didn't kick in yet this is all just from",
    "start": "1821000",
    "end": "1826679"
  },
  {
    "text": "the one uh the browser minute network of the two at the same time we're 10 minutes in 15,000 requests and then we",
    "start": "1826679",
    "end": "1834120"
  },
  {
    "text": "started seeing interesting things all right so yeah we were looking at uh okay we're we're this isn't a traditional",
    "start": "1834120",
    "end": "1839519"
  },
  {
    "text": "advertising Network this is some weird pay for browser minutes so you can actually give them money in in uh in",
    "start": "1839519",
    "end": "1845600"
  },
  {
    "text": "exchange for browser minutes or what you could do is actually offer up your browser time for browser credits right",
    "start": "1845600",
    "end": "1852039"
  },
  {
    "text": "you can say okay I'm going to let my browser be a part of this you can use my CPU time and my browser time as part of",
    "start": "1852039",
    "end": "1857760"
  },
  {
    "text": "your your little magic Network here and in return you get browser minutes to use right we didn't do that we just gave",
    "start": "1857760",
    "end": "1863600"
  },
  {
    "text": "them money that worked uh like 12 bucks but what what we noticed we like okay let's get a feel for what's actually",
    "start": "1863600",
    "end": "1869519"
  },
  {
    "text": "going on behind the scenes in this network and we noticed uh maybe okay what kind of browsers are we working",
    "start": "1869519",
    "end": "1874639"
  },
  {
    "text": "with can we start playing with that Firefox connection bypass that we saw and we saw a bunch of phantomjs calls",
    "start": "1874639",
    "end": "1880840"
  },
  {
    "text": "come in how many people are familiar with phantomjs okay just a few cool so phantomjs is actually a headless browser",
    "start": "1880840",
    "end": "1887360"
  },
  {
    "text": "so this isn't someone sitting at a web browser clicking around on their desktop that's a robot so someone's gaming this",
    "start": "1887360",
    "end": "1893480"
  },
  {
    "text": "system right phantomjs is used in a lot in like unit tests and things like that you can run it from the command line uh",
    "start": "1893480",
    "end": "1899480"
  },
  {
    "text": "but that's someone gaming the system to try to get minutes so other people are abusing this in different ways which was",
    "start": "1899480",
    "end": "1904880"
  },
  {
    "text": "kind of amusing to us so we thought we'd share that because then we started abusing their Bots yeah yeah we don't care that they're not a person sitting",
    "start": "1904880",
    "end": "1911000"
  },
  {
    "text": "there clicking around right we just want their browser time cool I'll take a I'll take a phantomjs browser any day right",
    "start": "1911000",
    "end": "1916559"
  },
  {
    "text": "all right so now we're 15 minutes in and 28,000 requests so we're starting to tick",
    "start": "1916559",
    "end": "1921639"
  },
  {
    "text": "up we're now 20 minutes in 43,000 request you'll also notice the total",
    "start": "1921639",
    "end": "1928320"
  },
  {
    "text": "traffic is very small we're just sending them to a URL that doesn't exist so that's 8 and half megabytes of 404 Pages",
    "start": "1928320",
    "end": "1933919"
  },
  {
    "text": "really what we're looking at uh 22 minutes 61,000 so we're",
    "start": "1933919",
    "end": "1939039"
  },
  {
    "text": "starting to pick up a little bit here you see the concurrent requests you remember what we were showing you guys earlier 33 that's starting to tick up to",
    "start": "1939039",
    "end": "1945000"
  },
  {
    "text": "33 that's that's you know it's getting there it's not sick it's not one browser we're 25 minutes in we're uh 82,000",
    "start": "1945000",
    "end": "1953440"
  },
  {
    "text": "hits getting closer now we're uh what are we got 35 minutes in uh nine",
    "start": "1953440",
    "end": "1959559"
  },
  {
    "text": "concurrent requests 100,000 so we made 100,000 hits from the",
    "start": "1959559",
    "end": "1965279"
  },
  {
    "text": "Matrix in uh in 35 minutes so then then",
    "start": "1965279",
    "end": "1970559"
  },
  {
    "text": "so then this is when so I you know like I said I put money in the till at the same time that he hit go and uh it",
    "start": "1970559",
    "end": "1975840"
  },
  {
    "text": "looked like it takes about half an hour to 45 minutes for the advertising Network to kick in and now we had both going at the same time so we're starting",
    "start": "1975840",
    "end": "1982320"
  },
  {
    "text": "to get those Impressions rolling in again we we were putting in really really small amounts of money until about today like 20 bucks this is yeah",
    "start": "1982320",
    "end": "1989840"
  },
  {
    "text": "less than I think I had a Max of $10 a day spent so I mean the first couple",
    "start": "1989840",
    "end": "1996279"
  },
  {
    "text": "slides here that you're going to see is I mean the the amount that I gave for the day was 20 bucks the when we were",
    "start": "1996279",
    "end": "2001519"
  },
  {
    "text": "taking screenshots in that couple you know hour or two that we were sitting there watching this uh probably two",
    "start": "2001519",
    "end": "2007320"
  },
  {
    "text": "bucks $2 and now we're pegged look at the simultaneous requests we're pegged at 255 Apache won't serve any faster",
    "start": "2007320",
    "end": "2014039"
  },
  {
    "text": "than that it's actually kind of hard to get these screenshots once we start doing this because that server page just doesn't want to refresh on us so we're",
    "start": "2014039",
    "end": "2020159"
  },
  {
    "text": "at 130,000 where server maxed out and then we decided Well why four or four",
    "start": "2020159",
    "end": "2025679"
  },
  {
    "text": "pages let's start taking up some bandwidth so we pointed them towards downloading an application security specialist",
    "start": "2025679",
    "end": "2033000"
  },
  {
    "text": "logo so we have a whole lot more certified asses out there for everyone",
    "start": "2033200",
    "end": "2039399"
  },
  {
    "text": "um yeah so then that the meab bits start shooting up right instead of 8 and 10 we're at 117 this is right when we flip",
    "start": "2039399",
    "end": "2045960"
  },
  {
    "text": "the switch 117 Megs we're pegged at 255 the next one here just a few minutes",
    "start": "2045960",
    "end": "2051960"
  },
  {
    "text": "later we're at 250 Megs still pegged and then uh at about 1 hour El",
    "start": "2051960",
    "end": "2058760"
  },
  {
    "text": "lapse so about 20 minutes of images we're up over a gig of transferred",
    "start": "2058760",
    "end": "2064638"
  },
  {
    "text": "traffic and then we decided you know what let's just let it sit for a while let's let it sit for 7 hours we just let",
    "start": "2064639",
    "end": "2071440"
  },
  {
    "text": "It Bake and now we're up to 432 is that wait what is this 4 million 4 million we",
    "start": "2071440",
    "end": "2077520"
  },
  {
    "text": "made we just made the same mistake that we made the first time we did this we went to lunch so before we like we were",
    "start": "2077520",
    "end": "2083440"
  },
  {
    "text": "just started playing with the advertising Network we you know we had like 30,000 hits over a bunch of hours",
    "start": "2083440",
    "end": "2089520"
  },
  {
    "text": "we were still tinkering with our code we finally hit that 10,000 number and it was kind of taking a while for the",
    "start": "2089520",
    "end": "2094720"
  },
  {
    "text": "advertising Network to kick in jar and I went and grabbed lunch we came back we like okay 300,000 so yeah 50,000 300,000",
    "start": "2094720",
    "end": "2101000"
  },
  {
    "text": "we're like wait a second that's an extra digit so we had you know we average when we actually cranked this thing up um and",
    "start": "2101000",
    "end": "2107800"
  },
  {
    "text": "we haven't really cranked it all like I said we're we're we're spending pennies so we haven't really cranked it up you know if you wanted to start dumping a",
    "start": "2107800",
    "end": "2114040"
  },
  {
    "text": "lot more money into this you'll get a lot more Impressions a lot faster we we we did it's actually in the background",
    "start": "2114040",
    "end": "2119480"
  },
  {
    "text": "yeah yeah it's kind of going on right now and and we've only even then kind of cranked it up we're averaging about a",
    "start": "2119480",
    "end": "2124800"
  },
  {
    "text": "million and a half uh connections per and that's continuously 256 concurrent",
    "start": "2124800",
    "end": "2130640"
  },
  {
    "text": "concuss uh concurrent connections oh say that five times fast and uh and so that",
    "start": "2130640",
    "end": "2136079"
  },
  {
    "text": "yeah the our Apache server was really really feeling it at that time so now we're at 117 or 114 gigs on Amazon and",
    "start": "2136079",
    "end": "2142880"
  },
  {
    "text": "I'm kind of like I think the the the Amazon hosting is actually more expensive than the",
    "start": "2142880",
    "end": "2148119"
  },
  {
    "text": "hack so hosting our server that we're trying to take down and then we let it bake for 18 hours total elapsed and now",
    "start": "2148119",
    "end": "2154800"
  },
  {
    "text": "we're up to 239 gigs transferred 8 .1 million requests so that was overnight and so we are kind of noticing that the",
    "start": "2154800",
    "end": "2161280"
  },
  {
    "text": "advertising Network kind of goes in Peaks and valleys with the internet right as far as Impressions go so it kind of slows down overnight and then",
    "start": "2161280",
    "end": "2167640"
  },
  {
    "text": "now we're we've used up half our minutes on the system and we go okay we kind of need more minutes and we don't know what's going to happen in the middle of",
    "start": "2167640",
    "end": "2173319"
  },
  {
    "text": "the night so we decided to do e-commerce at black hat and we bought some more not",
    "start": "2173319",
    "end": "2178680"
  },
  {
    "text": "recommended I broke my own rule um and but now we're at 250 gigs of traffic and",
    "start": "2178680",
    "end": "2183800"
  },
  {
    "text": "that's kind of a lot and to give you an idea and we're going to go through some of the live stuff here because we have",
    "start": "2183800",
    "end": "2189839"
  },
  {
    "text": "we'll have a lot of time um see the uh the metrics you probably want to cover this yeah so this is uh this is how you",
    "start": "2189839",
    "end": "2195680"
  },
  {
    "text": "add funds to it just to give you guys an idea it's really that easy like we're just throwing money into this thing and",
    "start": "2195680",
    "end": "2200920"
  },
  {
    "text": "it just keeps going we we try to spend our speaker fee but it's been hard yeah we were like okay cool they're paying us",
    "start": "2200920",
    "end": "2206680"
  },
  {
    "text": "let's D dump it right in we were like oh it's veg we didn't know how quick this this all was going to work like once we",
    "start": "2206680",
    "end": "2212119"
  },
  {
    "text": "added money to it we didn't know okay how fast until this turns around and starts actually dossing something so",
    "start": "2212119",
    "end": "2217880"
  },
  {
    "text": "like oh we this whole idea it's going to be Vegas we're going to get the speaker fee and cash on the stage and slide it across and do this L ad Network thing",
    "start": "2217880",
    "end": "2224160"
  },
  {
    "text": "and Doss our server but it takes a little bit too long to do that on stage but you can appreciate the theatric idea",
    "start": "2224160",
    "end": "2229520"
  },
  {
    "text": "I'm sure so we're we're tailing the log F files live on our Apache Ami so that's the requests as they're coming in and we",
    "start": "2229520",
    "end": "2237079"
  },
  {
    "text": "this is the Apache status screen it keeps dying because it's",
    "start": "2237079",
    "end": "2242040"
  },
  {
    "text": "dossed uh the permission T is requesting an image that I just turned off the per for I could turn it back on but I don't",
    "start": "2242839",
    "end": "2249720"
  },
  {
    "text": "want to show you my root password we did notice so why not man this is a trusting",
    "start": "2249720",
    "end": "2255119"
  },
  {
    "text": "crowd uh so uh we did turn the image off because we noticed that the actual hits",
    "start": "2255119",
    "end": "2260560"
  },
  {
    "text": "were slowing down when we actually gave it an image because we did we haven't mentioned this we haven't even invoked",
    "start": "2260560",
    "end": "2266800"
  },
  {
    "text": "that whole connection limit bypass yeah we didn't use the Firefox hacking this is all still just six of a time per",
    "start": "2266800",
    "end": "2272760"
  },
  {
    "text": "browser um so we were really nervous to kind of push that big red button and start pushing the whole FTP bypass out",
    "start": "2272760",
    "end": "2279599"
  },
  {
    "text": "there we just we just didn't know what was going to happen so we stayed on the side of legality and this was impressive",
    "start": "2279599",
    "end": "2285560"
  },
  {
    "text": "enough to us so uh without even really trying and spending a lot of money you could see right now that's live um so oh",
    "start": "2285560",
    "end": "2293160"
  },
  {
    "text": "we took the image away cuz it slowed down because it was still it was actually trying to load the image before moving on to the next six requests so",
    "start": "2293160",
    "end": "2299079"
  },
  {
    "text": "that 243 gigs you see kind of kind of stayed the same in the past day cuz we were like okay let's get this hit number back up so when we uh met in the speaker",
    "start": "2299079",
    "end": "2306640"
  },
  {
    "text": "room this morning I think that was at uh 15 million and it's at 20 million now a few hours later uh concurrent",
    "start": "2306640",
    "end": "2313960"
  },
  {
    "text": "connections cuz we're going to the 404 page again so the only reason we're not able to pump more traffic CU we just",
    "start": "2313960",
    "end": "2319160"
  },
  {
    "text": "incremented that was good timing oh the the server dies um you know so we're",
    "start": "2319160",
    "end": "2325240"
  },
  {
    "text": "going to try to get bigger test platforms and funnel more traffic because the only reason that's at 20 million not at probably a 100 or a",
    "start": "2325240",
    "end": "2331359"
  },
  {
    "text": "billion is because this it's only one Apache server server is pretty slow itself right so that that's not that",
    "start": "2331359",
    "end": "2337400"
  },
  {
    "text": "impressive but you guys can kind of get an idea for the the scale here and if you could scale this up it's really not that much money to to do damage to uh",
    "start": "2337400",
    "end": "2345440"
  },
  {
    "text": "you know normal websites out there on the internet so since we're",
    "start": "2345440",
    "end": "2350839"
  },
  {
    "text": "here should we Doss it yeah which FTP FTP push the big red button we don't",
    "start": "2351119",
    "end": "2356280"
  },
  {
    "text": "know what's going to happen so we're pointing at the Amazon instance uh so",
    "start": "2356280",
    "end": "2362920"
  },
  {
    "text": "just so you can see so that uh Matt's ads that he put on the network it's pulling that it was pulling that code",
    "start": "2362920",
    "end": "2368920"
  },
  {
    "text": "right there so that's the campaign. JS I named it campaign just to ease the approval process and you could it's my",
    "start": "2368920",
    "end": "2376119"
  },
  {
    "text": "it's my ad campaign I'm so clever so yeah there there's a whole lot of",
    "start": "2376119",
    "end": "2381240"
  },
  {
    "text": "there's a whole lot of essert traffic out there right now this was really hard guys uh that's the hit no I almost",
    "start": "2381240",
    "end": "2388000"
  },
  {
    "text": "dropped it do not okay so uh so this all the stuff flying by that's all the ads",
    "start": "2388000",
    "end": "2393560"
  },
  {
    "text": "right now we couldn't stop that if we wanted to um it's just kind of out there right now until it hits it limit it hit",
    "start": "2393560",
    "end": "2399480"
  },
  {
    "text": "you know I I put the money in the machine some people come to Vegas get off the plane and start putting money in slot machines we started putting money",
    "start": "2399480",
    "end": "2404880"
  },
  {
    "text": "in ad networks so hope you guys enjoy all right so that's 400 looping FTP to the Amazon",
    "start": "2404880",
    "end": "2411880"
  },
  {
    "text": "instance uh I suppose I can do put up the web developer stuff here so you can see",
    "start": "2411880",
    "end": "2417760"
  },
  {
    "text": "it uh yeah we'll just reload that who knows what's going to happen uh and hit it reload",
    "start": "2417760",
    "end": "2426079"
  },
  {
    "text": "there uh hit it's grinding no way it's going to",
    "start": "2426079",
    "end": "2432480"
  },
  {
    "text": "respond oh there it goes where's the and it's",
    "start": "2432480",
    "end": "2438319"
  },
  {
    "text": "gone so still tailing the log just so I guess it's still logging but the web server is effectively",
    "start": "2438319",
    "end": "2444079"
  },
  {
    "text": "dead um the browser will uh time out eventually and free up the connections",
    "start": "2444079",
    "end": "2449319"
  },
  {
    "text": "and Apache will clean itself up with a whole bunch of like option star things you'll see in the logs but it's uh yeah",
    "start": "2449319",
    "end": "2455839"
  },
  {
    "text": "it'll it'll die pretty that is the reason we didn't do the FTP thing live in the wild on the ad Network we didn't",
    "start": "2455839",
    "end": "2461480"
  },
  {
    "text": "really know the effect of what would happen to the actual person's browsers so this whole time like I hope you guys",
    "start": "2461480",
    "end": "2467839"
  },
  {
    "text": "realize we did not hack anybody right we just used the way the web works and took down our own servers so we stayed",
    "start": "2467839",
    "end": "2474079"
  },
  {
    "text": "completely on the on the legal side here but you can kind of get ideas of how this would get fun if you didn't um the",
    "start": "2474079",
    "end": "2481000"
  },
  {
    "text": "other thing that we didn't even touch right so yeah this approval process uh you know we we had relatively",
    "start": "2481000",
    "end": "2488359"
  },
  {
    "text": "uh benign looking JavaScript even if you kind of knew what was going on but if you started using some of the other uh",
    "start": "2488359",
    "end": "2494920"
  },
  {
    "text": "possible evil ideas that we went over the the code might start to look a little bit more suspicious and but we",
    "start": "2494920",
    "end": "2502160"
  },
  {
    "text": "were talking about it we we didn't even touch adult ad networks and you know they don't care right what like what",
    "start": "2502160",
    "end": "2507599"
  },
  {
    "text": "goes in there right that's where driveby malware goes to breed so uh since we're",
    "start": "2507599",
    "end": "2512640"
  },
  {
    "text": "not even doing dryb Mount Weare and that's easier to detect than what we're doing uh uh we didn't think that it",
    "start": "2512640",
    "end": "2518560"
  },
  {
    "text": "would be a problem right so all right so uh I think the quote was we didn't dip",
    "start": "2518560",
    "end": "2524119"
  },
  {
    "text": "our toe into the porn networks um before anything else you",
    "start": "2524119",
    "end": "2529480"
  },
  {
    "text": "guys wanted to see here before we talk about maybe yeah the apach locks have a very good question what are the Apache",
    "start": "2529480",
    "end": "2535160"
  },
  {
    "text": "logs on some Apache defaults there is no log um we can I might be able to tail it",
    "start": "2535160",
    "end": "2541240"
  },
  {
    "text": "here uh in this one here if I've let me just Loop this here and we'll see it let me zero that out and funnel it here so",
    "start": "2541240",
    "end": "2550480"
  },
  {
    "text": "this is a a 10an Apache uh no I just I downloaded installed Apache um and let's hit it let's",
    "start": "2550480",
    "end": "2559240"
  },
  {
    "text": "see and make sure this is running so that's the local one yes local so on",
    "start": "2559599",
    "end": "2565079"
  },
  {
    "text": "this one here uh it doesn't log on the Amazon server for whatever",
    "start": "2565079",
    "end": "2571760"
  },
  {
    "text": "reason you'll see 408s with no URLs not because it's not it's not",
    "start": "2571760",
    "end": "2577200"
  },
  {
    "text": "sending HTTP it's not saying it just says 408 and you don't know what's coming out to you unless you're running packet capture um but it's still Port 80",
    "start": "2577200",
    "end": "2584720"
  },
  {
    "text": "and it's still opening connections a lot of them so yeah it'll die get back to the slides here all right so yeah so we",
    "start": "2584720",
    "end": "2591839"
  },
  {
    "text": "got okay we're good so now this is the stuff we did we do with",
    "start": "2591839",
    "end": "2599000"
  },
  {
    "text": "staying on the right side of law obviously as Matt said we could have gone much much further and then as it",
    "start": "2599000",
    "end": "2604119"
  },
  {
    "text": "happens as it normally happens in the world of information security advertising networks they they're not",
    "start": "2604119",
    "end": "2610160"
  },
  {
    "text": "software developers over there believe us they're not software developers um they run advertising",
    "start": "2610160",
    "end": "2615800"
  },
  {
    "text": "networks so they're advertising platforms and there's actually advertising platform software so you can be your own advertising Network and one",
    "start": "2615800",
    "end": "2622400"
  },
  {
    "text": "of the ones they use out there that's quite popular it's called open X Source um so you can go look it up this is one",
    "start": "2622400",
    "end": "2627760"
  },
  {
    "text": "many advertising networks use and as it happens just a couple of weeks ago somebody had found vulnerabilities in",
    "start": "2627760",
    "end": "2632839"
  },
  {
    "text": "them so in case you didn't want to pay them money you just wanted to exploit the advertising Network you certainly",
    "start": "2632839",
    "end": "2638599"
  },
  {
    "text": "could yeah um so you hack the advertising Network load it up and blast and anybody that's viewing an ad on",
    "start": "2638599",
    "end": "2644880"
  },
  {
    "text": "those networks at that point in time you own them so I guess that is the one Trace that would come back to us if we",
    "start": "2644880",
    "end": "2651119"
  },
  {
    "text": "went down this road was we did put the money in the machine that served up that ad it's really hard to figure out what",
    "start": "2651119",
    "end": "2656200"
  },
  {
    "text": "ad did this um All Those ads are iframed but it doesn't matter so like yeah we",
    "start": "2656200",
    "end": "2661760"
  },
  {
    "text": "could try to re research like frame busting code and actually worry about hacking the browser but that was not the point of our research we were just",
    "start": "2661760",
    "end": "2667839"
  },
  {
    "text": "trying to use the browser to hack other people ourselves uh hack yourself first",
    "start": "2667839",
    "end": "2674280"
  },
  {
    "text": "I guess right so uh yeah but like we we probably could break out of that and uh",
    "start": "2674280",
    "end": "2680040"
  },
  {
    "text": "and and start hacking the people themselves gain some persistence using local storage and some other things but just didn't go there so This research uh",
    "start": "2680040",
    "end": "2686680"
  },
  {
    "text": "will continue U again we're just using one uh Amazon Ami we're going to get together with some of our partners out",
    "start": "2686680",
    "end": "2692440"
  },
  {
    "text": "there and uh try to go after the Dos protected website and see how much",
    "start": "2692440",
    "end": "2697839"
  },
  {
    "text": "traffic we can funnel at them because again we're we're not in the defense industry we're in the offense industry",
    "start": "2697839",
    "end": "2703920"
  },
  {
    "text": "so we're going to start sending a lot of traffic that way and uh some followup stuff and we're actually going to try to do the the hash cracking in the ad",
    "start": "2703920",
    "end": "2710160"
  },
  {
    "text": "Network right so we have metrics that give us a a good idea of JavaScript can do this much this fast we want to see",
    "start": "2710160",
    "end": "2717119"
  },
  {
    "text": "correlate that to dollar amount right so how much per 50 cents can you can you",
    "start": "2717119",
    "end": "2724040"
  },
  {
    "text": "crack how many md5 hashes per 50 cents can you can you crack through so because again I just impr press the heck out of",
    "start": "2724040",
    "end": "2729640"
  },
  {
    "text": "me you can get to a million browsers maybe not in the single moment in time but you can get to a million browsers out there for 500 bucks million browser",
    "start": "2729640",
    "end": "2736400"
  },
  {
    "text": "bought it tada all right so let's before we got we get the questions let's",
    "start": "2736400",
    "end": "2744440"
  },
  {
    "text": "just gotta invoke Kaminsky all right so I've been deal",
    "start": "2744839",
    "end": "2750520"
  },
  {
    "text": "working in web security for a while uh I've said before that I think we have to break the web in order to secure it",
    "start": "2750520",
    "end": "2757040"
  },
  {
    "text": "because what is designed to do now unless we're able to break business models it's really going to be difficult to secure this stuff now because we're",
    "start": "2757040",
    "end": "2762839"
  },
  {
    "text": "using the way the web was meant to be used and so I was making these comments and Dan who's been right since 2010 is",
    "start": "2762839",
    "end": "2769200"
  },
  {
    "text": "he says no one's breaking the web dude not now not ever and so far he's been right and because you got to think about",
    "start": "2769200",
    "end": "2775319"
  },
  {
    "text": "this particular problem whose problem is this is it the advertising Network's problem is it the browser vendor problem",
    "start": "2775319",
    "end": "2782200"
  },
  {
    "text": "is it the website owner problem who maybe we don't know whose problem it is not really but we also don't know whose",
    "start": "2782200",
    "end": "2788119"
  },
  {
    "text": "responsibility it is like who do we this kind of why we're here you know who fixes this yeah I mean it's it's we're",
    "start": "2788119",
    "end": "2795480"
  },
  {
    "text": "loading images I think that's supposed to happen so yeah we're just loading a lot of them very quickly so yeah we",
    "start": "2795480",
    "end": "2802720"
  },
  {
    "text": "we've we've tossed around some ideas of who could impose limits where right the connection limits in browsers we OB we",
    "start": "2802720",
    "end": "2809400"
  },
  {
    "text": "got around them but then we didn't even used that and wound up taking ourselves down so um yeah that that was a",
    "start": "2809400",
    "end": "2815559"
  },
  {
    "text": "protection not for this it was a performance thing that that was a potential you know hurdle for us and it",
    "start": "2815559",
    "end": "2821559"
  },
  {
    "text": "just didn't didn't really didn't take that hard to jump over on the upside for those of you that are running ad",
    "start": "2821559",
    "end": "2826599"
  },
  {
    "text": "blockers there's actually a security reason why you use an ad blocker now so you just use ad blocker or disconnect",
    "start": "2826599",
    "end": "2833079"
  },
  {
    "text": "and yeah now and you your browser won't be leveraged this particular way but so you know share the knowledge um we have",
    "start": "2833079",
    "end": "2840200"
  },
  {
    "text": "10 minutes or so for questions anybody have a question yes sir",
    "start": "2840200",
    "end": "2847119"
  },
  {
    "text": "so today on the Amazon side oh on the Amazon side on the Amazon side maybe 100 bucks maybe we don't even know yet we",
    "start": "2847440",
    "end": "2854559"
  },
  {
    "text": "don't know yet today was when we really dumped money into the advertising Network to try to spike the numbers before the talk and we put 75 in and we",
    "start": "2854559",
    "end": "2862359"
  },
  {
    "text": "haven't even used it before the talk I was trying to get it to use as much as possible there seems to be like a percentage thing going on how much you",
    "start": "2862359",
    "end": "2868599"
  },
  {
    "text": "give it it uses certain percentages and waves so yes sir myver",
    "start": "2868599",
    "end": "2877240"
  },
  {
    "text": "it goes to either the advertising Network or the user's browser not to us there might be some identifiable information of what advertising Network",
    "start": "2883000",
    "end": "2889920"
  },
  {
    "text": "it was and the user agent or things like that but it's just the browser it's like the IP the in our logs with like like I",
    "start": "2889920",
    "end": "2895359"
  },
  {
    "text": "said when our ads was are were getting approved we were seeing the IP address of the approver right so we didn't see",
    "start": "2895359",
    "end": "2902359"
  },
  {
    "text": "anything about us so yeah so we we'll take questions up here so if you have some time but thank you everybody for hope you liked it",
    "start": "2902359",
    "end": "2910520"
  }
]