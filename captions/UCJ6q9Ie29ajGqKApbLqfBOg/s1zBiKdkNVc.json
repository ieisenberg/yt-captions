[
  {
    "start": "0",
    "end": "17000"
  },
  {
    "text": "so we're microsoft and i'm patrick i'm one of the security advisors for windows and",
    "start": "160",
    "end": "5440"
  },
  {
    "text": "this is mark hi i'm mark samos i'm a solutions architect and i",
    "start": "5440",
    "end": "10800"
  },
  {
    "text": "mostly help customers defending against pass the hash and similar attacks and i'm with trustworthy computing group",
    "start": "10800",
    "end": "17199"
  },
  {
    "start": "17000",
    "end": "131000"
  },
  {
    "text": "so we're gonna talk to you guys um about the problem the way we see it we're just gonna do an",
    "start": "17199",
    "end": "23680"
  },
  {
    "text": "overview here of of some of the work that we've done on on the review i'm assuming most people are familiar",
    "start": "23680",
    "end": "29359"
  },
  {
    "text": "with pass the hash attacks or at least the concept is any anyone not familiar with it i guess we",
    "start": "29359",
    "end": "35360"
  },
  {
    "text": "won't get any hands here black hat on that um but we're going to do an overview so we",
    "start": "35360",
    "end": "41280"
  },
  {
    "text": "level set so basically we're going to show you the problem as we see it um and we're going to walk through just a",
    "start": "41280",
    "end": "46559"
  },
  {
    "text": "simple attack scenario and then we're going to go over review we published a white paper last year that had some",
    "start": "46559",
    "end": "51680"
  },
  {
    "text": "information on pasta has anybody had a chance to read how many people read the white paper so we got a few hands",
    "start": "51680",
    "end": "59839"
  },
  {
    "text": "um so we're gonna go briefly over this talk is not about the white paper um we",
    "start": "60079",
    "end": "65198"
  },
  {
    "text": "will cover some of the things that are included in the white paper there are some mitigations in there that are important",
    "start": "65199",
    "end": "70479"
  },
  {
    "text": "some of the concepts that we put uh are published on that document uh is still relevant",
    "start": "70479",
    "end": "76000"
  },
  {
    "text": "so we're gonna step through briefly on on on the review section and then we're gonna jump into platform updates we're",
    "start": "76000",
    "end": "82159"
  },
  {
    "text": "gonna go over some new things we've introduced in windows 8.1 and 2012 r2",
    "start": "82159",
    "end": "89520"
  },
  {
    "text": "and some of this functionality can also be used to mitigate past the hash so we're going to walk you through some of",
    "start": "89520",
    "end": "95200"
  },
  {
    "text": "the new things have been introduced we'll present the concepts and then we'll take a look at",
    "start": "95200",
    "end": "101360"
  },
  {
    "text": "a quick demo to see exactly what we've done under the hood and at last we'll cover some next steps",
    "start": "101360",
    "end": "107280"
  },
  {
    "text": "and where we're going with this we formed a work group last year we released a white paper documenting some",
    "start": "107280",
    "end": "112320"
  },
  {
    "text": "initial basic steps that we believe were practical and most organizations could do we didn't advise anyone to go and",
    "start": "112320",
    "end": "118640"
  },
  {
    "text": "re-architect everything or implement anything dramatic it was really simple mitigations",
    "start": "118640",
    "end": "124719"
  },
  {
    "text": "but the work group will continue we will continue as always trying to improve uh the platform",
    "start": "124719",
    "end": "131039"
  },
  {
    "start": "131000",
    "end": "147000"
  },
  {
    "text": "so let's go over the to the problem mark will cover this problem scenario for us okay",
    "start": "131039",
    "end": "136959"
  },
  {
    "text": "and this is a example uh scenario of how we typically see past the hash conducted",
    "start": "136959",
    "end": "142480"
  },
  {
    "text": "in the field and what we typically observe and so we're going to kind of just go over that just to do a very quick level",
    "start": "142480",
    "end": "148640"
  },
  {
    "start": "147000",
    "end": "221000"
  },
  {
    "text": "set ultimately it pass the hash is not an initial compromise it's not what causes",
    "start": "148640",
    "end": "154400"
  },
  {
    "text": "the original box to be popped so that has to happen and that the",
    "start": "154400",
    "end": "159599"
  },
  {
    "text": "attacker has to have control of a domain member to be able to start past the hash in most circumstances there's a few",
    "start": "159599",
    "end": "166000"
  },
  {
    "text": "exceptions but they do have to have admin or system level control so in this case it's a phishing attack",
    "start": "166000",
    "end": "173040"
  },
  {
    "text": "and one of the users clicks on it and they have lost control of that box the attacker is now sharing control of the",
    "start": "173040",
    "end": "179360"
  },
  {
    "text": "box and then typically what the attacker does is they steal a number of different credentials some are the lsas",
    "start": "179360",
    "end": "185519"
  },
  {
    "text": "credentials in memory some are the other ones that are available are the local sam database the empty hashes",
    "start": "185519",
    "end": "191920"
  },
  {
    "text": "and the also any other save password such as the machine account password services that are starting on that",
    "start": "191920",
    "end": "197920"
  },
  {
    "text": "computer there's a number of different passwords that can be stolen or credentials rather then the attacker then typically takes",
    "start": "197920",
    "end": "203760"
  },
  {
    "text": "those credentials and compromises additional machines in this case they found a machine where domain admin had",
    "start": "203760",
    "end": "210000"
  },
  {
    "text": "logged in and so they've gotten a set of credentials for the domain admin at that point they are sharing control of the",
    "start": "210000",
    "end": "215760"
  },
  {
    "text": "domain admin account with the legitimate domain admin because they both have credentials to log into it and sharing",
    "start": "215760",
    "end": "222080"
  },
  {
    "text": "convent sharing control of a domain admin account means you're sharing control of the domain and all of the",
    "start": "222080",
    "end": "227599"
  },
  {
    "text": "resources that are joined to it including workstations and servers that are member servers and anything else",
    "start": "227599",
    "end": "232879"
  },
  {
    "text": "that's active directory integrated that depends on active directory for its trust and security",
    "start": "232879",
    "end": "238319"
  },
  {
    "text": "and so that's the the typical flow that we see in a lot of these attacks it's not without exception but that's",
    "start": "238319",
    "end": "244000"
  },
  {
    "text": "typically what we see so just to recap some of the key things here i think that are important to point",
    "start": "244000",
    "end": "249120"
  },
  {
    "text": "out is the first of all uh when a workstation get compromised and let's say the local administrator account",
    "start": "249120",
    "end": "256000"
  },
  {
    "text": "password hash gets used on a lateral movement usually it's because the passwords are the same on those machines right so if",
    "start": "256000",
    "end": "262320"
  },
  {
    "text": "you have an image that you deploy with the same local administrator account passwords",
    "start": "262320",
    "end": "267440"
  },
  {
    "text": "and that initial machine gets compromised obviously those password hashes can be used to authenticate and",
    "start": "267440",
    "end": "272560"
  },
  {
    "text": "perform lateral movement also if there's privileged accounts on that machine at that level that the",
    "start": "272560",
    "end": "278560"
  },
  {
    "text": "attacker has obtained access you can do just pretty much anything to obtain those credentials so",
    "start": "278560",
    "end": "284560"
  },
  {
    "text": "whatever is on that box if it's captured it can be reused and i think this is important to keep that in mind as we walk through",
    "start": "284560",
    "end": "292000"
  },
  {
    "start": "292000",
    "end": "350000"
  },
  {
    "text": "so there's some facts that we have to keep in mind though if we strip the creds out take the creds we run into a",
    "start": "293040",
    "end": "299520"
  },
  {
    "text": "usability problem right every time the user needs to do something those credits are there for a single sign-on and to",
    "start": "299520",
    "end": "305440"
  },
  {
    "text": "allow the machine to act on behalf of the user every time you go check email you don't get prompted for a username",
    "start": "305440",
    "end": "310720"
  },
  {
    "text": "and password box and obviously that's why we're storing some of those credits in there and we need credentials to be",
    "start": "310720",
    "end": "315919"
  },
  {
    "text": "able for the system to perform on your behalf the other thing is we have to keep in mind it doesn't matter what we do to the",
    "start": "315919",
    "end": "321680"
  },
  {
    "text": "platform credentials can be still be stolen in in a way if you log in to a compromised computer or you hand those",
    "start": "321680",
    "end": "328000"
  },
  {
    "text": "credentials away whether your own or a privileged credential",
    "start": "328000",
    "end": "333120"
  },
  {
    "text": "there's little that we can do with that respect so it's really a process and technology problem and that's what we want to highlight and",
    "start": "333120",
    "end": "339680"
  },
  {
    "text": "obviously our focus here and to discuss down with platforms updates to see how we can fast facilitate that and provide",
    "start": "339680",
    "end": "346720"
  },
  {
    "text": "you the means to make that more resilient so let's go over a review of some of the",
    "start": "346720",
    "end": "352000"
  },
  {
    "start": "350000",
    "end": "369000"
  },
  {
    "text": "work that we published for the ones that read the white paper this would be familiar for the ones that haven't we're",
    "start": "352000",
    "end": "357120"
  },
  {
    "text": "not going to cover in great detail some of these mitigations so please take a look at the white paper we have some references at the end and we have some",
    "start": "357120",
    "end": "363440"
  },
  {
    "text": "reference documentation that we are going to leave with the slides and then when it's posted you can and we can go and get that information",
    "start": "363440",
    "end": "370400"
  },
  {
    "start": "369000",
    "end": "586000"
  },
  {
    "text": "so back to the attack scenario that we just covered the first thing is to protect those privileged accounts so",
    "start": "370400",
    "end": "375919"
  },
  {
    "text": "we've published step by step on on guidelines that we believe would be simple enough that anyone could deploy",
    "start": "375919",
    "end": "382240"
  },
  {
    "text": "on their infrastructure and the idea there is that to prevent or at least to reduce",
    "start": "382240",
    "end": "387440"
  },
  {
    "text": "significantly that attack surface for those privileged accounts right i mean a lot of the times the challenge is really",
    "start": "387440",
    "end": "392560"
  },
  {
    "text": "knowing where those accounts are and knowing where they're they're authenticating to and obviously if there's no control of where",
    "start": "392560",
    "end": "399280"
  },
  {
    "text": "they are and we assume a certain level of compromise it becomes really problematic right because then it's a",
    "start": "399280",
    "end": "404560"
  },
  {
    "text": "matter of time also if we combine that with images having the same password it becomes really trivial for an attacker",
    "start": "404560",
    "end": "411120"
  },
  {
    "text": "to compromise an infrastructure because they increase their attack surface if they haven't already compromised a",
    "start": "411120",
    "end": "416880"
  },
  {
    "text": "machine that have those that has those privileged accounts they can increase significantly their",
    "start": "416880",
    "end": "422080"
  },
  {
    "text": "tax surface and obviously it becomes a problem so what we wanted our customers to do is to protect",
    "start": "422080",
    "end": "428400"
  },
  {
    "text": "those privileged accounts we got some feedback uh that maybe this this mitigation was too simple",
    "start": "428400",
    "end": "435280"
  },
  {
    "text": "but based on what we've seen through consulting services and to our own experience is that some of these",
    "start": "435280",
    "end": "440560"
  },
  {
    "text": "practices are not even commonly deployed so there's accounts environments become really",
    "start": "440560",
    "end": "446400"
  },
  {
    "text": "interconnected so obviously from an availability standpoint you end up using privileged",
    "start": "446400",
    "end": "451680"
  },
  {
    "text": "accounts to do certain things and machines get compromised and obviously the attacker is able to",
    "start": "451680",
    "end": "457199"
  },
  {
    "text": "elevate its privileges so we want to protect those accounts really that's that's what it is and that's what we're trying to cover here the second thing",
    "start": "457199",
    "end": "463440"
  },
  {
    "text": "was to take care of those local accounts we've seen a number of incidents like we covered on the attack that uh",
    "start": "463440",
    "end": "470479"
  },
  {
    "text": "accounts share the same username or the same password and therefore they have the same hash because the hash is not",
    "start": "470479",
    "end": "475759"
  },
  {
    "text": "salted and obviously the hash can be passed and it can be used for authenticated just like plain text passwords so we want to make sure that",
    "start": "475759",
    "end": "482160"
  },
  {
    "text": "those accounts have unique passwords and we can't do that on the platform um",
    "start": "482160",
    "end": "489440"
  },
  {
    "text": "managing those local accounts or we couldn't in the past but we want to make sure that those",
    "start": "489440",
    "end": "494720"
  },
  {
    "text": "accounts are properly handled so you can deny network log on for authentication for local for local accounts and we",
    "start": "494720",
    "end": "502000"
  },
  {
    "text": "provided the means to do that you can randomize those passwords there's a number of things that you can do",
    "start": "502000",
    "end": "508400"
  },
  {
    "text": "and again the outcome of that is that even if the attacker compromises that machine he wouldn't be able to use those",
    "start": "508400",
    "end": "515279"
  },
  {
    "text": "those password hashes if he obtained them so the idea here would be on these two mitigations is that containment i",
    "start": "515279",
    "end": "522240"
  },
  {
    "text": "mean the the workstation or the user itself would be compromised but the risk would be reduced and again this is not",
    "start": "522240",
    "end": "528160"
  },
  {
    "text": "fixing the problem what we're trying to do is really reduce that attack surface or the risk",
    "start": "528160",
    "end": "533680"
  },
  {
    "text": "and the one thing i do want to add real quick is each of these mitigations one two and three do have prescriptive",
    "start": "533680",
    "end": "539279"
  },
  {
    "text": "step-by-step uh instructions in the white paper for how to implement them at least at a basic level of course you",
    "start": "539279",
    "end": "544480"
  },
  {
    "text": "have to customize for your administrative model but each of these described is detailed in the white paper",
    "start": "544480",
    "end": "551120"
  },
  {
    "text": "the last thing we advised was for",
    "start": "551519",
    "end": "556880"
  },
  {
    "text": "for our customers to use the local firewall administration i mean you can use any firewall you can do segmentation",
    "start": "556880",
    "end": "562000"
  },
  {
    "text": "but the point here is really to restrict uh traffic or untrusted or undesirable",
    "start": "562000",
    "end": "568720"
  },
  {
    "text": "traffic that could be at risk to workstations local firewall management on a server infrastructure we realize",
    "start": "568720",
    "end": "574320"
  },
  {
    "text": "that's not doable but workstations they can benefit from that and that would also reduce the attack surface if if an",
    "start": "574320",
    "end": "580959"
  },
  {
    "text": "attacker can't connect to a machine then you won't be able to authenticate to it",
    "start": "580959",
    "end": "586560"
  },
  {
    "start": "586000",
    "end": "716000"
  },
  {
    "text": "so there's a couple of mitigations that have been proposed and discussed in a number of different forums some public",
    "start": "588160",
    "end": "593760"
  },
  {
    "text": "some private um and we wanted to highlight where these don't by themselves stop credential theft or pass",
    "start": "593760",
    "end": "599680"
  },
  {
    "text": "the hash the first one is disabling ntlm disabling mtlm is a great security",
    "start": "599680",
    "end": "606080"
  },
  {
    "text": "move forward in your security posture but pass the ticket stealing a password",
    "start": "606080",
    "end": "612480"
  },
  {
    "text": "stealing it through you know from lsas memory or from keystrokes any of those elements are",
    "start": "612480",
    "end": "618720"
  },
  {
    "text": "still available even if ntlm is completely disabled so we don't really consider the credential theft problem",
    "start": "618720",
    "end": "623920"
  },
  {
    "text": "solved just by disabling ntlm although it is a good thing to do and we have some progress report on that later",
    "start": "623920",
    "end": "630720"
  },
  {
    "text": "smart cards and multi-factor authentication fundamentally the workstation where the conversion from",
    "start": "630720",
    "end": "636640"
  },
  {
    "text": "two factor is made into one factor so ntlm kerberos all these are one factor",
    "start": "636640",
    "end": "642000"
  },
  {
    "text": "protocols so if you have the tgt if you have the mt hash that's associated with the account you can still authenticate",
    "start": "642000",
    "end": "647920"
  },
  {
    "text": "as that account even with a smart card log on so smart cards themselves are wonderful",
    "start": "647920",
    "end": "654000"
  },
  {
    "text": "great technologies we love them the multi-factor aspect is great however",
    "start": "654000",
    "end": "659120"
  },
  {
    "text": "they do not alone solve past the hash without a secure host that is not compromised",
    "start": "659120",
    "end": "665120"
  },
  {
    "text": "jump servers also suffer from a similar thing does everybody know what jump servers are",
    "start": "665120",
    "end": "670800"
  },
  {
    "text": "you rdp into a server and then you do administration so a jump server you still have to type",
    "start": "670800",
    "end": "677120"
  },
  {
    "text": "your password in you still have to type in various other credentials you have to prove who you are and that machine has",
    "start": "677120",
    "end": "683360"
  },
  {
    "text": "access to those original proof now some of them like rsa tokens can turn out and such but fundamentally you are exposing",
    "start": "683360",
    "end": "690320"
  },
  {
    "text": "to that lower trust machine that's jumping up to the higher rdp server the credentials that allow you to",
    "start": "690320",
    "end": "695839"
  },
  {
    "text": "authenticate so they are not a magical solution by themselves and then of course rebooting",
    "start": "695839",
    "end": "700959"
  },
  {
    "text": "workstations and servers after you use them it doesn't hurt but the credentials are",
    "start": "700959",
    "end": "706000"
  },
  {
    "text": "still exposed at the point of entry and during the session so they don't magically solve the problem by",
    "start": "706000",
    "end": "711839"
  },
  {
    "text": "themselves all right so let's talk about new stuff",
    "start": "711839",
    "end": "718240"
  },
  {
    "start": "716000",
    "end": "742000"
  },
  {
    "text": "so this has been what we've done last year um the white paper is available like i said there'll be references we",
    "start": "718240",
    "end": "724000"
  },
  {
    "text": "will later update some of that information with some of the new",
    "start": "724000",
    "end": "729120"
  },
  {
    "text": "mitigations that we can enable now so what we're going to cover now is the stuff in 8.1 or blue and 2012 r2 which",
    "start": "729120",
    "end": "736959"
  },
  {
    "text": "is in preview and it's available in preview",
    "start": "736959",
    "end": "742160"
  },
  {
    "start": "742000",
    "end": "885000"
  },
  {
    "text": "so we've made some core platform changes if you guys have if anyone has been playing with mimikatz",
    "start": "742160",
    "end": "748320"
  },
  {
    "text": "or wce on the new preview you've seen that we've cleaned up a few things um we removed lm hashes from elsa so no",
    "start": "748320",
    "end": "756720"
  },
  {
    "text": "longer those hashes are available we know they're weak and and uh um",
    "start": "756720",
    "end": "761839"
  },
  {
    "text": "we started the process by looking holistically what we could do we could read it get rid of and and still like i",
    "start": "761839",
    "end": "768639"
  },
  {
    "text": "said back to the reducing the attack surface those are things that you know we were able to do so we we got rid of",
    "start": "768639",
    "end": "774160"
  },
  {
    "text": "it the other thing that we did is has anybody here playing with mimikyats i assume most people do right yeah good",
    "start": "774160",
    "end": "780160"
  },
  {
    "text": "so we don't have to get down that road um so if you played with me cats you know you're on the tool it's single",
    "start": "780160",
    "end": "785839"
  },
  {
    "text": "binary do a dump you see all those credentials in plain text right they're not in plain text they're reversibly",
    "start": "785839",
    "end": "792160"
  },
  {
    "text": "encrypted but the encryption keys in the process memory and we got to put them somewhere and",
    "start": "792160",
    "end": "798560"
  },
  {
    "text": "that level of access i mean even if we were to update that the attackers would",
    "start": "798560",
    "end": "803680"
  },
  {
    "text": "still be able to obtain that and decrypt so we'll call them plain text equivalent for now but bottom line is the attackers",
    "start": "803680",
    "end": "810639"
  },
  {
    "text": "are able to dump them and plaintext will look over this in a little bit more detail in a little bit",
    "start": "810639",
    "end": "816800"
  },
  {
    "text": "the other thing we did was when we were doing some testing we noticed you know there's there's times that obviously",
    "start": "816800",
    "end": "822079"
  },
  {
    "text": "there's session leaks or there are things that cause some machines that even after you log off you still have",
    "start": "822079",
    "end": "827200"
  },
  {
    "text": "some credentials in memory so we strictly enforce log off so what we do",
    "start": "827200",
    "end": "832240"
  },
  {
    "text": "now is once you log off that machine we make sure that there is no processor running on on that user that's logged in",
    "start": "832240",
    "end": "839760"
  },
  {
    "text": "one more change that we did and again you can see how especially this one will relate to our mitigation too we want to",
    "start": "839760",
    "end": "845199"
  },
  {
    "text": "push preventing local accounts and more specifically local administ accounts",
    "start": "845199",
    "end": "852000"
  },
  {
    "text": "from being used to access machines on the network and what we've done is we've",
    "start": "852000",
    "end": "857839"
  },
  {
    "text": "marked the sid of the local accounts and",
    "start": "857839",
    "end": "862880"
  },
  {
    "text": "the local accounts that are members of the domain administrators group those are the new sids of the local",
    "start": "862880",
    "end": "868399"
  },
  {
    "text": "administrators and just one last note on that those",
    "start": "868399",
    "end": "874959"
  },
  {
    "text": "last list of uh features all of those are on by default you don't have to do anything you have to configure anything",
    "start": "874959",
    "end": "880639"
  },
  {
    "text": "those are just default behavior changes and platform",
    "start": "880639",
    "end": "885560"
  },
  {
    "start": "885000",
    "end": "992000"
  },
  {
    "text": "there's a few other changes that we're going to cover down here that we're not really they're not really mitigations but they're changes that we made and",
    "start": "885839",
    "end": "891760"
  },
  {
    "text": "directions that we're going we're also going to cover that just for transparency we also modified remote desktop we know",
    "start": "891760",
    "end": "898560"
  },
  {
    "text": "a lot of administrators like to use remote desktop and remote desktop as it stands right now you use it uh we're",
    "start": "898560",
    "end": "904320"
  },
  {
    "text": "going to cover a little bit more detail but basically passes your credentials to the target host that you're going to and then it authenticates on your behalf",
    "start": "904320",
    "end": "910880"
  },
  {
    "text": "therefore that machine or sorry authenticate to access those resources on your behalf therefore that",
    "start": "910880",
    "end": "915920"
  },
  {
    "text": "machine will have your credentials and it can be captured so what we did is we've implemented um",
    "start": "915920",
    "end": "922720"
  },
  {
    "text": "basically a flag that goes to rdp on a new mode that is called restricted admin mode so when you use the remote desktop",
    "start": "922720",
    "end": "929279"
  },
  {
    "text": "client with this flag what will happen and again we're going to get a little bit more details on this but basically",
    "start": "929279",
    "end": "935519"
  },
  {
    "text": "those credentials are not passed to the target workstation so if you need to log into a machine to do",
    "start": "935519",
    "end": "941839"
  },
  {
    "text": "administrative work you'll be able to do that without disclosing your credentials and that includes any type of target",
    "start": "941839",
    "end": "948000"
  },
  {
    "text": "whether it's an rdp excuse me an rdp to a server or to a workstation so anything",
    "start": "948000",
    "end": "953440"
  },
  {
    "text": "that you rdp to you can do it authenticate to it but not provide credentials on that far end",
    "start": "953440",
    "end": "959680"
  },
  {
    "text": "and it is configurable both as a command line switch to the mstsc.exe",
    "start": "959680",
    "end": "964959"
  },
  {
    "text": "as well as you can enforce a gpo on the place where you're running the rdp client where that is run and it will",
    "start": "964959",
    "end": "971279"
  },
  {
    "text": "obey that gpo so obviously this will facilitate the",
    "start": "971279",
    "end": "976720"
  },
  {
    "text": "administration of machines the credentials if they're not there they can't be captured but obviously there",
    "start": "976720",
    "end": "982240"
  },
  {
    "text": "are limitations if you start that connection from a compromised box uh or a computer",
    "start": "982240",
    "end": "988160"
  },
  {
    "text": "we're not protecting you against that obviously it goes without saying there are limitations",
    "start": "988160",
    "end": "993279"
  },
  {
    "text": "so if we look at a little bit in comparison how rdp used to work so you enter your credentials right",
    "start": "993279",
    "end": "999360"
  },
  {
    "text": "this laser is so weak um",
    "start": "999360",
    "end": "1004480"
  },
  {
    "text": "you enter your credentials it's passed to the windows host and you connect to resources as the user",
    "start": "1004480",
    "end": "1010000"
  },
  {
    "text": "now what we're doing is whether in curb mode or an ntlm you connect to a windows",
    "start": "1010000",
    "end": "1016639"
  },
  {
    "text": "8.1 device and the rdp will connect without without sending those credentials only and then",
    "start": "1016639",
    "end": "1023040"
  },
  {
    "text": "kerb will be using a service ticket and on network log on those credits are also stripped once it's it's authenticated",
    "start": "1023040",
    "end": "1030079"
  },
  {
    "text": "the the only thing is when you're on that machine um in restrict admin mode your credits",
    "start": "1030079",
    "end": "1036240"
  },
  {
    "text": "are not there so if you're trying to access resources that are associated with you you're not going to be able to reach them you can you because you're",
    "start": "1036240",
    "end": "1041760"
  },
  {
    "text": "going to be basically be the computer account",
    "start": "1041760",
    "end": "1045678"
  },
  {
    "text": "you do need to have the remote admin flag in order for this to work if you use we're going to cover",
    "start": "1047679",
    "end": "1053520"
  },
  {
    "text": "protected accounts in a little bit views protected accounts without restrict admin mode",
    "start": "1053520",
    "end": "1058720"
  },
  {
    "text": "or any other accounts without your credentials will be sent to the target host and a couple",
    "start": "1058720",
    "end": "1065200"
  },
  {
    "text": "of a quick little extra technical details um you know you get a service ticket to",
    "start": "1065200",
    "end": "1070559"
  },
  {
    "text": "that rdp host where that's running the session or a normal ntlm challenge response which is not transfer the",
    "start": "1070559",
    "end": "1076320"
  },
  {
    "text": "credentials over that authenticates you proves who you are and then they did something new and different is instead",
    "start": "1076320",
    "end": "1082640"
  },
  {
    "text": "of creating the the process level token from scratch on the on the rdp host they",
    "start": "1082640",
    "end": "1088400"
  },
  {
    "text": "actually create a local token based on that network token so that's how they populate that data structure so to that",
    "start": "1088400",
    "end": "1094320"
  },
  {
    "text": "rdp host you are you you're the person that authenticated logged in it's got a token like it always would",
    "start": "1094320",
    "end": "1100240"
  },
  {
    "text": "and when you travel off that box you are traveling as the machine account and so",
    "start": "1100240",
    "end": "1105520"
  },
  {
    "text": "it will look like that computer is taking actions and all the various logs so",
    "start": "1105520",
    "end": "1110799"
  },
  {
    "text": "just to give you guys a little technical depth on on how that works",
    "start": "1110799",
    "end": "1115519"
  },
  {
    "start": "1116000",
    "end": "1316000"
  },
  {
    "text": "the question is are we planning on changing that um we just implemented this functionality right uh there's i i can't",
    "start": "1121360",
    "end": "1129039"
  },
  {
    "text": "comment if if uh if we're gonna change to a new model you mean on a new version or something like",
    "start": "1129039",
    "end": "1135200"
  },
  {
    "text": "to the that you're having user state action as a machine account that makes it really",
    "start": "1135200",
    "end": "1142400"
  },
  {
    "text": "hard to audit correct and that's actually a good question we understand that the thing is if that machine is",
    "start": "1142400",
    "end": "1147440"
  },
  {
    "text": "compromised already right i mean you can use a computer account if it's locked",
    "start": "1147440",
    "end": "1153120"
  },
  {
    "text": "now the the way rdp in restricted min mode is set up to is",
    "start": "1153120",
    "end": "1159200"
  },
  {
    "text": "strictly for that administration of that machine without without the resources only have the user so the short answer",
    "start": "1159200",
    "end": "1165520"
  },
  {
    "text": "is there is no plans on on changing that at the moment",
    "start": "1165520",
    "end": "1170159"
  },
  {
    "text": "anytime you need to administer only that box and support whether it's the workstation of the server and you don't",
    "start": "1174720",
    "end": "1180240"
  },
  {
    "text": "trust it fully and you don't want to expose your credentials to it it is extremely well suited for that scenario",
    "start": "1180240",
    "end": "1185679"
  },
  {
    "text": "it is not necessary it is not the default it is something you have to explicitly set a gpo on your helpdesk",
    "start": "1185679",
    "end": "1190840"
  },
  {
    "text": "workstations or you have to explicitly do slash restricted admin",
    "start": "1190840",
    "end": "1196799"
  },
  {
    "text": "that's okay um we're actually going to save some of the questions at the end we'll leave some time in our booth to go over some of the",
    "start": "1196799",
    "end": "1203120"
  },
  {
    "text": "questions we expect quite a few questions so um so protected users",
    "start": "1203120",
    "end": "1208880"
  },
  {
    "text": "so one of one of the this is a very much a supporting feature to a couple of others one",
    "start": "1208880",
    "end": "1214240"
  },
  {
    "text": "effectively what protected users does it's a new group in active directory when you put a user in this group they",
    "start": "1214240",
    "end": "1220400"
  },
  {
    "text": "are restricted to only using kerberos to authenticate and only a restricted pre-configured form of kerberos so uh",
    "start": "1220400",
    "end": "1228080"
  },
  {
    "text": "only aes for the uh for the various uh cryptographic operations in the protocol",
    "start": "1228080",
    "end": "1234000"
  },
  {
    "text": "only a four-hour lifetime that is non-renewable this can be overridden with authentication policies which",
    "start": "1234000",
    "end": "1240400"
  },
  {
    "text": "we'll cover next and delegation is forbidden on this account so it is fundamentally a",
    "start": "1240400",
    "end": "1247760"
  },
  {
    "text": "kerberos only account and it's even enforced on the domain level so if you have valid empty hashes",
    "start": "1247760",
    "end": "1254000"
  },
  {
    "text": "to do authentication the domain will not authenticate those hashes for a protected user",
    "start": "1254000",
    "end": "1260080"
  },
  {
    "text": "and this like all the other features we've been discussing is currently only available on the 8 1 and server 2012 r2",
    "start": "1260080",
    "end": "1267600"
  },
  {
    "text": "preview so",
    "start": "1267600",
    "end": "1273039"
  },
  {
    "text": "the the big thing where protected users is a very key effect is in the authentication policies because those",
    "start": "1273039",
    "end": "1278880"
  },
  {
    "text": "policies which we'll discuss as the last technical item are enforcing kubrow's",
    "start": "1278880",
    "end": "1283919"
  },
  {
    "text": "policies and you have to make sure that the user can only use kerberos for those policies to fully take effect",
    "start": "1283919",
    "end": "1290799"
  },
  {
    "text": "it does not prevent someone from interactively signing out to a host exposing their credentials there",
    "start": "1290799",
    "end": "1296559"
  },
  {
    "text": "and it's kerberos only it does not fall back on ntlm",
    "start": "1296559",
    "end": "1301760"
  },
  {
    "text": "so if your kerberos is broken or one of the dependencies that allows kerberos to work the spns dns lookups etc you will",
    "start": "1301760",
    "end": "1308559"
  },
  {
    "text": "not be able to log in with these accounts so you have to be careful this forces the account into kerberos only",
    "start": "1308559",
    "end": "1316000"
  },
  {
    "start": "1316000",
    "end": "1737000"
  },
  {
    "text": "and the picture here just talks about how the the dc does refuse ntlm authentication in the case of a",
    "start": "1317039",
    "end": "1323360"
  },
  {
    "text": "protected user and those are some of the specifics on the features",
    "start": "1323360",
    "end": "1328640"
  },
  {
    "text": "you guys want to see some demos all right let's take a look at this hopefully the demo gods are with us",
    "start": "1328640",
    "end": "1336559"
  },
  {
    "text": "um so what i have here is a win 8.1 client",
    "start": "1336880",
    "end": "1342080"
  },
  {
    "text": "blue attached to a 2012 r2 domain as well as a win8 client so any that would",
    "start": "1342080",
    "end": "1348320"
  },
  {
    "text": "represent anything prior to 8.1 and the first thing we're going to do is get my",
    "start": "1348320",
    "end": "1353679"
  },
  {
    "text": "desktop to work so here's my win8 client and what we're going to do is",
    "start": "1353679",
    "end": "1359760"
  },
  {
    "text": "to save some time we're going to just run mimikatz most of you have are the ones that have",
    "start": "1359760",
    "end": "1366400"
  },
  {
    "text": "run this is nothing new just run it's one binary couple flags and you get mimikats to work and to do",
    "start": "1366400",
    "end": "1372960"
  },
  {
    "text": "its thing and i'm just gonna",
    "start": "1372960",
    "end": "1378720"
  },
  {
    "text": "fight with my desktop here",
    "start": "1378720",
    "end": "1382158"
  },
  {
    "text": "there we go all right so i ran many cats",
    "start": "1386400",
    "end": "1392320"
  },
  {
    "text": "on my win8 client so this is currently what happens on all",
    "start": "1392320",
    "end": "1397520"
  },
  {
    "text": "current shipping platforms and on this case just to save some time i had a session with my local admin in",
    "start": "1397520",
    "end": "1403760"
  },
  {
    "text": "here and i had a domain user which is represented in here and as you see",
    "start": "1403760",
    "end": "1410480"
  },
  {
    "text": "here's your user account here's your domain i mean the main the user is just user domains domain and the local admin",
    "start": "1410720",
    "end": "1417200"
  },
  {
    "text": "is local underscored man and here's your password for ts package here's your password for w digest and here's your",
    "start": "1417200",
    "end": "1423360"
  },
  {
    "text": "password for kerberos authentication also if we look at",
    "start": "1423360",
    "end": "1430960"
  },
  {
    "text": "so we got some your local admin or this is another session i started this just to save a",
    "start": "1430960",
    "end": "1436880"
  },
  {
    "text": "little bit of time here's the same thing password hashes we got our alarm hash you're in t hash and again the same",
    "start": "1436880",
    "end": "1443440"
  },
  {
    "text": "series of passwords now i'm gonna switch over to blue",
    "start": "1443440",
    "end": "1450158"
  },
  {
    "text": "and do the exact same thing",
    "start": "1450320",
    "end": "1453600"
  },
  {
    "text": "so we let mammy cats do its thing oh my god not really",
    "start": "1456799",
    "end": "1464679"
  },
  {
    "text": "oh my there you go",
    "start": "1472559",
    "end": "1477120"
  },
  {
    "text": "and as we start looking at it um here's the interactive user domain",
    "start": "1480400",
    "end": "1487919"
  },
  {
    "text": "so we still have lm hashes are gone they're zeroed um",
    "start": "1487919",
    "end": "1494320"
  },
  {
    "text": "ts package is disabled by default now a a a good thing to point out and again at the end we'll just go over a quick",
    "start": "1494320",
    "end": "1500559"
  },
  {
    "text": "summary here of what we're just showing you guys but just to show you that really the passwords are no longer there we got rid of the lm hashes and now um",
    "start": "1500559",
    "end": "1509440"
  },
  {
    "text": "that is also valid for local account",
    "start": "1509440",
    "end": "1515279"
  },
  {
    "text": "where is it and the empty hashes are still there for",
    "start": "1515279",
    "end": "1521360"
  },
  {
    "text": "all accounts by default",
    "start": "1521360",
    "end": "1524880"
  },
  {
    "text": "here we go here's the location at the bottom now i have a user here",
    "start": "1527200",
    "end": "1533840"
  },
  {
    "text": "which is my protected user and say the protected user has authenticated to this box",
    "start": "1533840",
    "end": "1540799"
  },
  {
    "text": "and just to explain that a local underscore admin is a local account which is why you're seeing the plain",
    "start": "1540799",
    "end": "1546000"
  },
  {
    "text": "text password in memory",
    "start": "1546000",
    "end": "1549200"
  },
  {
    "text": "so my p admin user as you see it's set up",
    "start": "1552559",
    "end": "1559200"
  },
  {
    "text": "and joined to the protected users group and i have previous login here again just to save us time and as you see this",
    "start": "1559200",
    "end": "1565760"
  },
  {
    "text": "is what you get no credits and obviously no creds they can't be",
    "start": "1565760",
    "end": "1570880"
  },
  {
    "text": "stolen so i think um the protected admin groups",
    "start": "1570880",
    "end": "1577440"
  },
  {
    "text": "just gonna and the protected admin kicks off two protections when you put a user in there on the dc level it refuses the",
    "start": "1577440",
    "end": "1583840"
  },
  {
    "text": "authentication from the down level protocols and then on each individual client that they log into the up level",
    "start": "1583840",
    "end": "1590080"
  },
  {
    "text": "clients that behave this way it does not cache any of the credentials it will be there for the first use",
    "start": "1590080",
    "end": "1595919"
  },
  {
    "text": "because it has to authenticate the user it's exposed to that machine but it does not keep or cache any of them for the",
    "start": "1595919",
    "end": "1601360"
  },
  {
    "text": "user session and here you can see that the curb ticket for the for the user that's",
    "start": "1601360",
    "end": "1606640"
  },
  {
    "text": "logged in it does have a tgt but no other cache credentials",
    "start": "1606640",
    "end": "1613200"
  },
  {
    "text": "all right so now what we're going to look at i mean i'm going to be using my dc here",
    "start": "1613200",
    "end": "1618559"
  },
  {
    "text": "but obviously this is not a good idea for administration and what i'm going to do is i'm going to",
    "start": "1618559",
    "end": "1624240"
  },
  {
    "text": "log in to my windows blue",
    "start": "1624240",
    "end": "1629760"
  },
  {
    "text": "as the p admin with restricted admin mode",
    "start": "1629760",
    "end": "1634400"
  },
  {
    "text": "and you notice that he didn't get prompted for credentials actually before i do that",
    "start": "1637120",
    "end": "1642320"
  },
  {
    "text": "i'm just going to cancel that in the restricted admin mode it uses the",
    "start": "1642320",
    "end": "1647520"
  },
  {
    "text": "authentication of the session that you're in to log you in to that remote target",
    "start": "1647520",
    "end": "1655840"
  },
  {
    "text": "so i could have logged out of sign out of each one of them but this will be quicker i can show you",
    "start": "1657120",
    "end": "1665080"
  },
  {
    "text": "now while my rdp connection does its thing",
    "start": "1672000",
    "end": "1676240"
  },
  {
    "text": "um what we're doing here is just rdping using the restricted flag",
    "start": "1677279",
    "end": "1682480"
  },
  {
    "text": "as well as a protected user account so in that case user can't log with ntlm oh",
    "start": "1682480",
    "end": "1689760"
  },
  {
    "text": "damn my demo god's not with us is that machine's still rebooting",
    "start": "1689760",
    "end": "1695559"
  },
  {
    "text": "no",
    "start": "1698559",
    "end": "1700720"
  },
  {
    "text": "maybe not and again connecting from the dc as",
    "start": "1708159",
    "end": "1714080"
  },
  {
    "text": "essentially the support workstation because we ran out of vm space and then connecting into that same",
    "start": "1714080",
    "end": "1720159"
  },
  {
    "text": "client we were connecting to earlier in restricted admin mode so the only credentials we should see are the",
    "start": "1720159",
    "end": "1725919"
  },
  {
    "text": "credentials of the machine account itself yeah i'm going to cancel this demo i'll",
    "start": "1725919",
    "end": "1731120"
  },
  {
    "text": "just walk you guys through what we've done in terms of summary because otherwise we're going to",
    "start": "1731120",
    "end": "1738159"
  },
  {
    "text": "so anyways what we saw there when i dumped the creds is basically this this is what we had before",
    "start": "1738159",
    "end": "1744480"
  },
  {
    "text": "um microsoft account is is the msa you didn't see that and by the way this table we had a different table here this",
    "start": "1744480",
    "end": "1750799"
  },
  {
    "text": "uh table was tweeted or a similar table tweeted by the mimikatz author and we liked it and",
    "start": "1750799",
    "end": "1756880"
  },
  {
    "text": "we just modified a little bit to include some of the changes that we've done that weren't documented and and we'll just walk over so that's what you used to see",
    "start": "1756880",
    "end": "1763679"
  },
  {
    "text": "before when i showed you all those grads um microsoft account you didn't see it",
    "start": "1763679",
    "end": "1768799"
  },
  {
    "text": "because we're not connected to the network this is an isolated test environment and that's what you see on 8.1 the asterisk there is just to",
    "start": "1768799",
    "end": "1775360"
  },
  {
    "text": "highlight that it's off by default but if you do enable ts package or w digest those spreads that will be there and",
    "start": "1775360",
    "end": "1780559"
  },
  {
    "text": "they can be stolen and reused and this is what you see with protected",
    "start": "1780559",
    "end": "1786399"
  },
  {
    "text": "use in restricted admin mode so that really sums it up in terms of",
    "start": "1786399",
    "end": "1792000"
  },
  {
    "text": "what you can use and like i said the crowds won't be there for local administration so mark is just going to walk you guys over some of the policies",
    "start": "1792000",
    "end": "1798320"
  },
  {
    "text": "that we change yep and i just want to explain one last thing on that table the third-party ssp if someone puts a ssp on",
    "start": "1798320",
    "end": "1805679"
  },
  {
    "text": "that box it will have access to those credentials whether it caches it or not is up to that provider but the current",
    "start": "1805679",
    "end": "1812159"
  },
  {
    "text": "architecture of the ssp provides the credentials to those ssps",
    "start": "1812159",
    "end": "1818158"
  },
  {
    "start": "1817000",
    "end": "1880000"
  },
  {
    "text": "so authentication policies and silos is mike on can you guys hear me",
    "start": "1818720",
    "end": "1824960"
  },
  {
    "text": "okay so authentication policies and silos are two new types of objects in active directory they are forest wide policies",
    "start": "1824960",
    "end": "1833120"
  },
  {
    "text": "and uh and policy silos that enforce authentication rules",
    "start": "1833120",
    "end": "1838320"
  },
  {
    "text": "on kerberos logons two types of rules that you can do where a tgt may be issued so based on",
    "start": "1838320",
    "end": "1845440"
  },
  {
    "text": "the identity of the machine that you are requesting your tgt from so the user the service account whatever is",
    "start": "1845440",
    "end": "1851039"
  },
  {
    "text": "authenticating on that machine can the will the dc provide a tgt to that",
    "start": "1851039",
    "end": "1856320"
  },
  {
    "text": "workstation and then the other question is if i have a tgt and i'm logged in can i get a",
    "start": "1856320",
    "end": "1861919"
  },
  {
    "text": "service ticket to the service and so you can restrict it at the service level and at the issuance of the tgt level",
    "start": "1861919",
    "end": "1869360"
  },
  {
    "text": "authentication policy silos are very much a support function of authentication policies authentication",
    "start": "1869360",
    "end": "1875360"
  },
  {
    "text": "policies do the enforcement silos make them a little easier to manage i'll show you how that works",
    "start": "1875360",
    "end": "1881440"
  },
  {
    "start": "1880000",
    "end": "1917000"
  },
  {
    "text": "the effect is you get granular control of authentication within an active directory forest environment",
    "start": "1881440",
    "end": "1888480"
  },
  {
    "text": "key is this is not just a switch you turn on this is something that has to be planned has to be designed has to work",
    "start": "1888720",
    "end": "1894640"
  },
  {
    "text": "for the administration model of the of the of the enterprise and of course enforcement requires",
    "start": "1894640",
    "end": "1900640"
  },
  {
    "text": "kerberos which means that you need to have the users that are going to be uh",
    "start": "1900640",
    "end": "1906640"
  },
  {
    "text": "the the account the you know the user accounts that are going to be managed by the authentication policies have to be protected users for them to",
    "start": "1906640",
    "end": "1913440"
  },
  {
    "text": "take effect so that ntlm fallback is not an option",
    "start": "1913440",
    "end": "1918559"
  },
  {
    "start": "1917000",
    "end": "1962000"
  },
  {
    "text": "so when you enforce authentication policies",
    "start": "1919279",
    "end": "1924320"
  },
  {
    "text": "there are three fundamental different types of principles in the active directory one is a",
    "start": "1924320",
    "end": "1929760"
  },
  {
    "text": "standard user account which we're all familiar with sometimes you can use a user account to run a service and it",
    "start": "1929760",
    "end": "1935039"
  },
  {
    "text": "acts as a service so it can be managed in both of those ways a computer account is a separate account",
    "start": "1935039",
    "end": "1940799"
  },
  {
    "text": "type and it has a different set of rules and the policies allow you to configure those differently than you would",
    "start": "1940799",
    "end": "1946640"
  },
  {
    "text": "configure the policies for a computer or from a user and then the third is a service account",
    "start": "1946640",
    "end": "1951760"
  },
  {
    "text": "and that's comprised of two different object types a managed service account or a group managed service account and",
    "start": "1951760",
    "end": "1957120"
  },
  {
    "text": "that's what those policies refer to in the act and the authentication policies",
    "start": "1957120",
    "end": "1963120"
  },
  {
    "text": "so i'm going to give you guys a quick view of what this looks like and where to manage it and then i'm going to switch back to slides because quite",
    "start": "1963120",
    "end": "1968480"
  },
  {
    "text": "frankly it's a very busy interface and i want to focus on the elements that are interesting",
    "start": "1968480",
    "end": "1975880"
  },
  {
    "text": "there's my dc so these guys are pretty easy to get to within the authentication policy and",
    "start": "1976240",
    "end": "1983200"
  },
  {
    "start": "1978000",
    "end": "2083000"
  },
  {
    "text": "silos excuse me within the active directory administrative center you notice",
    "start": "1983200",
    "end": "1988320"
  },
  {
    "text": "wait i'm looking at my screen not on yours i apologize there we go",
    "start": "1988320",
    "end": "1994880"
  },
  {
    "text": "so this is the active directory administrative center bottom left there under dynamic access control there's",
    "start": "1994880",
    "end": "2000320"
  },
  {
    "text": "those two new nodes one is authentication policy silos and one is authentication policies",
    "start": "2000320",
    "end": "2008000"
  },
  {
    "text": "the policy silos are effectively for the purposes of authentication policy they",
    "start": "2008000",
    "end": "2013120"
  },
  {
    "text": "are like groups so if we crack open one of these guys",
    "start": "2013120",
    "end": "2018159"
  },
  {
    "text": "you'll notice that there's a number of principles that you can put into it and you can put users computers service",
    "start": "2018159",
    "end": "2024000"
  },
  {
    "text": "accounts and then of course you can apply the policy to them so it's",
    "start": "2024000",
    "end": "2030240"
  },
  {
    "text": "very much like a group ultimately the control though is on",
    "start": "2030240",
    "end": "2037120"
  },
  {
    "text": "and this is some mouse acrobatics i didn't anticipate the control is on the",
    "start": "2037679",
    "end": "2044840"
  },
  {
    "text": "accounts so if you look at the server admin account for example go down to the policy area",
    "start": "2044840",
    "end": "2050878"
  },
  {
    "text": "you'll notice you can assign a authentication policy or a policy silo",
    "start": "2050879",
    "end": "2056000"
  },
  {
    "text": "silos take precedence over policy so if a silo has a policy associated with it",
    "start": "2056000",
    "end": "2061358"
  },
  {
    "text": "the user is configured to both the silo will win and ultimately that silo itself",
    "start": "2061359",
    "end": "2068398"
  },
  {
    "text": "which we just saw is associated with the policy",
    "start": "2068399",
    "end": "2073000"
  },
  {
    "text": "here so let me switch back to slides real quick and kind of highlight the key points to",
    "start": "2074399",
    "end": "2079760"
  },
  {
    "text": "make sure i don't forget anything so going over the",
    "start": "2079760",
    "end": "2086839"
  },
  {
    "start": "2083000",
    "end": "2126000"
  },
  {
    "text": "interface and the silo of course does take precedence",
    "start": "2086839",
    "end": "2092240"
  },
  {
    "text": "and the authentication silo example that i was showing you has uh pretty much it links all those",
    "start": "2092480",
    "end": "2098560"
  },
  {
    "text": "principles together into that and assigns the policy to it",
    "start": "2098560",
    "end": "2103838"
  },
  {
    "text": "and then when you look at the policy itself there's a couple sections the first part",
    "start": "2105280",
    "end": "2110480"
  },
  {
    "text": "you can link those accounts directly to a policy and say this account is done with the policy but if you ever want to change what policy a user is associated",
    "start": "2110480",
    "end": "2117839"
  },
  {
    "text": "with you then have to go and update the authentication policy each time so we prefer the silos because it's a",
    "start": "2117839",
    "end": "2124320"
  },
  {
    "text": "little easier to manage moving down next to the user section",
    "start": "2124320",
    "end": "2131920"
  },
  {
    "start": "2126000",
    "end": "2209000"
  },
  {
    "text": "you can set up rules i've set them up in a very simple way which is if they're in the silo the user can get a tgt from any",
    "start": "2131920",
    "end": "2138800"
  },
  {
    "text": "of those places you can also set up rules and specifically say okay this group of",
    "start": "2138800",
    "end": "2144640"
  },
  {
    "text": "computers this user may only get a tgt from this group of computers in active directory it's uh it's pretty much group",
    "start": "2144640",
    "end": "2151040"
  },
  {
    "text": "or sci or silo is the two choices you have there if that user account is",
    "start": "2151040",
    "end": "2157040"
  },
  {
    "text": "running a service so this is a service account but it's not a active directory service account type it's an actual user",
    "start": "2157040",
    "end": "2164480"
  },
  {
    "text": "account running a service you can restrict who may get a service ticket to talk to that service",
    "start": "2164480",
    "end": "2171200"
  },
  {
    "text": "not very common on the user side however on the service side the green",
    "start": "2171200",
    "end": "2176400"
  },
  {
    "text": "box on the bottom becomes a lot more interesting because you can restrict i don't want this sensitive finance app",
    "start": "2176400",
    "end": "2182640"
  },
  {
    "text": "that's running by the finance services the service account i don't want anyone authenticating to it from outside of the",
    "start": "2182640",
    "end": "2188079"
  },
  {
    "text": "silo period they can't even get a service ticket for it and of course if i can want to restrict where that service",
    "start": "2188079",
    "end": "2194400"
  },
  {
    "text": "can then reach out as an authenticated as an authenticated principle i can also",
    "start": "2194400",
    "end": "2201200"
  },
  {
    "text": "restrict hit to the silo so it cannot get a tgt and run anything outside of",
    "start": "2201200",
    "end": "2206960"
  },
  {
    "text": "the silo and the last piece is a computer",
    "start": "2206960",
    "end": "2212240"
  },
  {
    "start": "2209000",
    "end": "2263000"
  },
  {
    "text": "all of these things that i've discussed previously rely on the kerberos armoring feature um which is was introduced in",
    "start": "2212240",
    "end": "2217760"
  },
  {
    "text": "windows 8 and 2012 r2 and effectively",
    "start": "2217760",
    "end": "2223440"
  },
  {
    "text": "the chromos the kerberos armoring feature lets us know where that authentication is happening",
    "start": "2223440",
    "end": "2228640"
  },
  {
    "text": "from because we authenticate who the computer is and then we build on that and get a tgt for either the service or the user account because the computer is",
    "start": "2228640",
    "end": "2235839"
  },
  {
    "text": "the initial part of that the computer doesn't have another identity where it authenticates too so the only control",
    "start": "2235839",
    "end": "2241920"
  },
  {
    "text": "you have is the place where the tgt",
    "start": "2241920",
    "end": "2246720"
  },
  {
    "text": "i'm sorry where who can get a service ticket to it because many services which are the target of authentication",
    "start": "2247119",
    "end": "2254000"
  },
  {
    "text": "are running under the computer system account local service local system in which case you can restrict who can",
    "start": "2254000",
    "end": "2259520"
  },
  {
    "text": "authenticate to that machine so this is more of a clarification as",
    "start": "2259520",
    "end": "2266720"
  },
  {
    "start": "2263000",
    "end": "2302000"
  },
  {
    "text": "opposed to mitigation we have enabled lsa protection as a protected process um",
    "start": "2266720",
    "end": "2272079"
  },
  {
    "text": "we have some documentation on it yes it does block some of the current tools from reading because it requires signing",
    "start": "2272079",
    "end": "2278640"
  },
  {
    "text": "and protective process only talks to protected process but we do know that this at its current state it can be",
    "start": "2278640",
    "end": "2284720"
  },
  {
    "text": "bypassed the tools can use other means to dump that process memory and still achieve so we're not really pushing this",
    "start": "2284720",
    "end": "2290160"
  },
  {
    "text": "as a mitigation but because we're documenting we wanted to just clarify so that's just uh that you can enable",
    "start": "2290160",
    "end": "2295839"
  },
  {
    "text": "protective process as a direction that we're going and there will probably be more on that later",
    "start": "2295839",
    "end": "2302400"
  },
  {
    "start": "2302000",
    "end": "2322000"
  },
  {
    "text": "now some of this information like win8 and win 8.1 has been available as of last",
    "start": "2302400",
    "end": "2308320"
  },
  {
    "text": "week the windows server 2012 stuff documentation was published today so it",
    "start": "2308320",
    "end": "2314160"
  },
  {
    "text": "should be available by now and these links will be available on the slides and we're going to leave our",
    "start": "2314160",
    "end": "2320640"
  },
  {
    "text": "contact information if you guys want more information on this so where are we with pasta hash just",
    "start": "2320640",
    "end": "2325760"
  },
  {
    "start": "2322000",
    "end": "2368000"
  },
  {
    "text": "or credential theft and reuse in general so we formed a work group we released this white paper that we're advising you",
    "start": "2325760",
    "end": "2331359"
  },
  {
    "text": "guys to read and that we will update we've been working trying to get",
    "start": "2331359",
    "end": "2336560"
  },
  {
    "text": "some internally proposed product updates we've implemented some some of these updates in win 8.1 and",
    "start": "2336560",
    "end": "2343359"
  },
  {
    "text": "it's available for you to play around we're recommending especially people from the security community go out get the preview play around with it see what",
    "start": "2343359",
    "end": "2349520"
  },
  {
    "text": "you think give us some feedback and we're going to also backboard some of these updates i can't give you guys",
    "start": "2349520",
    "end": "2356400"
  },
  {
    "text": "the details because we're still looking into this and looking at dependencies and and and other details of what",
    "start": "2356400",
    "end": "2361839"
  },
  {
    "text": "exactly we can backboard but there will be an advisor they'll be released with some information",
    "start": "2361839",
    "end": "2369280"
  },
  {
    "start": "2368000",
    "end": "2397000"
  },
  {
    "text": "here's our contact information again i'm patrick this is mark we will continue to investigate this issue",
    "start": "2369280",
    "end": "2375359"
  },
  {
    "text": "and as a last note to you guys before we wrap up we just want to say we're looking for people that want to improve",
    "start": "2375359",
    "end": "2381359"
  },
  {
    "text": "the security of our products so if you're interested come to your booth mark and i will reserve the next half",
    "start": "2381359",
    "end": "2386880"
  },
  {
    "text": "hour we'll be at the booth answering questions so please come and join us thank you",
    "start": "2386880",
    "end": "2394200"
  },
  {
    "text": "okay",
    "start": "2397359",
    "end": "2399838"
  }
]