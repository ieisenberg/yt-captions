[
  {
    "start": "0",
    "end": "70000"
  },
  {
    "text": "all right good evening everybody let's send black hat 2016 out with style",
    "start": "160",
    "end": "6600"
  },
  {
    "text": "you're in Lagoon K and you are going to be seeing an AI approach to malware",
    "start": "6600",
    "end": "12000"
  },
  {
    "text": "similarity analysis mapping the malware genome with a deep neural network with",
    "start": "12000",
    "end": "17320"
  },
  {
    "text": "Constantine Berlin without further Ado your speaker um well",
    "start": "17320",
    "end": "24680"
  },
  {
    "text": "okay so thank you for staying here for the session and not leaving but uh today",
    "start": "27240",
    "end": "33120"
  },
  {
    "text": "I want to talk about malware similarity and the reason why I want to talk about malware similarity is because malware",
    "start": "33120",
    "end": "39079"
  },
  {
    "text": "similarity is fundamental to pretty much any kind of analysis you want to do on malware so if you want to detect malware",
    "start": "39079",
    "end": "46559"
  },
  {
    "text": "that's basically malware similarity you want to do attribution you want to say",
    "start": "46559",
    "end": "52280"
  },
  {
    "text": "who hacked the DNC well that's again it's again about mware similarity you",
    "start": "52280",
    "end": "57399"
  },
  {
    "text": "want to do um you want to have a tri system where uh you want to reverse",
    "start": "57399",
    "end": "62879"
  },
  {
    "text": "malware again the fundamental basis of that is going to be malware similarity now the second part is AI and",
    "start": "62879",
    "end": "71040"
  },
  {
    "start": "70000",
    "end": "112000"
  },
  {
    "text": "so we have malare similarity but why artificial intelligence and the reason",
    "start": "71040",
    "end": "76240"
  },
  {
    "text": "why you have artificial intelligence is simply the volume of data that you're currently experiencing so I probably",
    "start": "76240",
    "end": "82000"
  },
  {
    "text": "don't need to tell you guys that the number of attacks on an Enterprise Network has been basically increasing",
    "start": "82000",
    "end": "88200"
  },
  {
    "text": "exponentially and given that of data that we have uh to understand what's going on right so you're defending this",
    "start": "88200",
    "end": "94320"
  },
  {
    "text": "Enterprise Network and you need to understand what's going on and the only way you can make sense if you have sort",
    "start": "94320",
    "end": "100479"
  },
  {
    "text": "of this some sort of augmentation which can process the data and figure out what's important and figure out some",
    "start": "100479",
    "end": "106439"
  },
  {
    "text": "sort of connections which then they can display for example for a human for review",
    "start": "106439",
    "end": "112640"
  },
  {
    "text": "now one of the best ways to get this intelligence is through similarity so",
    "start": "112640",
    "end": "117880"
  },
  {
    "text": "let me give you a basic example so imagine you have an Enterprise Network and this network Enterprise",
    "start": "117880",
    "end": "125240"
  },
  {
    "text": "Network is constantly being attacked so you have this malware sample I don't know if you can see the colors but you",
    "start": "125240",
    "end": "131200"
  },
  {
    "text": "have this blue sample so you have malware blue attack and you have malware green attack and you have malware uh malware red attacking and so",
    "start": "131200",
    "end": "139280"
  },
  {
    "text": "the question you might ask is there any pattern to these attacks you know is any of this malware related right so if you",
    "start": "139280",
    "end": "146680"
  },
  {
    "text": "can identify if you can say well you know this malware sample oh that's related to that malware sample and I",
    "start": "146680",
    "end": "151879"
  },
  {
    "text": "know that malware sample came from uh this particular you know frat actor then",
    "start": "151879",
    "end": "157920"
  },
  {
    "text": "you know this one is similar to it so it probably also came from there so you you can start to get some sort of",
    "start": "157920",
    "end": "163040"
  },
  {
    "text": "understanding about what's going on to your network you can identify campaigns against you for example right you can",
    "start": "163040",
    "end": "170440"
  },
  {
    "text": "you know you can speed up reverse engineering you have this huge database of files you already reverse engineered",
    "start": "170440",
    "end": "175640"
  },
  {
    "text": "you find this new previous L scene sample you find the most similar sample in your database and you that you",
    "start": "175640",
    "end": "181840"
  },
  {
    "text": "already reversed and then that speeds up your process potentially right and lastly you know it helps you with",
    "start": "181840",
    "end": "187920"
  },
  {
    "text": "mitigation right if you have samples that are related to each other and they're being done by the same fright",
    "start": "187920",
    "end": "193120"
  },
  {
    "text": "actor maybe it makes sense to make a Yara signature or maybe it makes sense to modify some uh Network rule in order",
    "start": "193120",
    "end": "200560"
  },
  {
    "text": "to prevent you know C2 communication",
    "start": "200560",
    "end": "206159"
  },
  {
    "start": "205000",
    "end": "340000"
  },
  {
    "text": "um so so what you have to do is you have to find you have this huge huge database of",
    "start": "206159",
    "end": "213319"
  },
  {
    "text": "malware and your task is to find a similar one that's basically the fundamental task it's",
    "start": "213319",
    "end": "220120"
  },
  {
    "text": "um how's it done and it's done basically and there are two fundamental steps to that the first step is you have this",
    "start": "220120",
    "end": "226400"
  },
  {
    "text": "malware file and you extract some sort of set of attributes from it and they could be any set of attributes so if you",
    "start": "226400",
    "end": "233760"
  },
  {
    "text": "go to the vendors downstairs everyone has their secret sauce that they extract from this file right some extract B bite",
    "start": "233760",
    "end": "241280"
  },
  {
    "text": "angram some extract some uh decompile the file extract app code andrs you know",
    "start": "241280",
    "end": "246519"
  },
  {
    "text": "some even run this file in a sandbox and extract dynamical information all of",
    "start": "246519",
    "end": "251560"
  },
  {
    "text": "that all of that can be expressed as sort of this this list of features uh which I have here so this ABCDE",
    "start": "251560",
    "end": "258959"
  },
  {
    "text": "symbolizing some set of features that you extract from the file so you take this set of",
    "start": "258959",
    "end": "264160"
  },
  {
    "text": "features and what you do is you embed it into a map so if if it's a",
    "start": "264160",
    "end": "270440"
  },
  {
    "text": "two-dimensional Vector you can see you can plot that on a two-dimensional map and so you plot it on a map and you get",
    "start": "270440",
    "end": "277320"
  },
  {
    "text": "this new sample that you haven't seen before so first you plot all the previous samples that you have seen and",
    "start": "277320",
    "end": "283360"
  },
  {
    "text": "then you you plot the prev you plot this previously unknown sample and you see",
    "start": "283360",
    "end": "289320"
  },
  {
    "text": "you know which are the closest samples to this right so that's that's that's basically all it is right once you do",
    "start": "289320",
    "end": "295880"
  },
  {
    "text": "that then you do then you sort of have your your potential samples and then you can proceed to do whatever you want",
    "start": "295880",
    "end": "301639"
  },
  {
    "text": "right but that's sort of the fundamental task that you need to do before you can do anything",
    "start": "301639",
    "end": "307520"
  },
  {
    "text": "else and there's been lots of lots of research into this and millions and",
    "start": "307520",
    "end": "312600"
  },
  {
    "text": "millions of dollars poured into this and so when you buy some sort of a triage system when you buy some sort of",
    "start": "312600",
    "end": "318680"
  },
  {
    "text": "intelligence systems a lot of the money that you spend you spend for this kind",
    "start": "318680",
    "end": "324479"
  },
  {
    "text": "of research you spend for the secret sauce that they have for attribute extraction and you pay for the secret",
    "start": "324479",
    "end": "330240"
  },
  {
    "text": "sauce and how do you find you have a billion samples how do you quickly find the most similar sample in this High",
    "start": "330240",
    "end": "335479"
  },
  {
    "text": "dimensional space okay but you know like with",
    "start": "335479",
    "end": "342199"
  },
  {
    "start": "340000",
    "end": "450000"
  },
  {
    "text": "anything else there is an issue with this system and the issue is there is",
    "start": "342199",
    "end": "347440"
  },
  {
    "text": "more than one way to make a map you can extract lots of different features and",
    "start": "347440",
    "end": "352680"
  },
  {
    "text": "you can give different important you can give different importance to each feature and you can combine the features",
    "start": "352680",
    "end": "359560"
  },
  {
    "text": "together but what is the right way to combine these features to create the",
    "start": "359560",
    "end": "365639"
  },
  {
    "text": "right map so let's start with a with a pretty simple example right you go to",
    "start": "365639",
    "end": "371680"
  },
  {
    "text": "vendor number one you know they extract they use their secret sauce and they extract some set of attributes uh let's",
    "start": "371680",
    "end": "378639"
  },
  {
    "text": "call it ab and then they map a bunch of malware and then you give them an unknown malare",
    "start": "378639",
    "end": "383919"
  },
  {
    "text": "and they they look at the map and they say well you know this unknown malware it's probably it's green right it's",
    "start": "383919",
    "end": "389599"
  },
  {
    "text": "green malware now you go to a different vendor and they happen to have extracted a",
    "start": "389599",
    "end": "395080"
  },
  {
    "text": "different set of attributes and they weigh them a little bit differently and uh you know according to their secret",
    "start": "395080",
    "end": "402280"
  },
  {
    "text": "sauce it's not green it's blue right so if you're doing attribution for example",
    "start": "402280",
    "end": "407919"
  },
  {
    "text": "right this could be a very huge mistake you know did the Russians hack uh DNC",
    "start": "407919",
    "end": "414599"
  },
  {
    "text": "was it someone else you know these kind of mistakes can cost a lot of money and cause a lot Of",
    "start": "414599",
    "end": "420120"
  },
  {
    "text": "Heartache so the fundamental problem here is how do we get consistent results",
    "start": "420120",
    "end": "425520"
  },
  {
    "text": "so no so you have a specific set of problems you you want to you want to classify actors frat actors right you",
    "start": "425520",
    "end": "432160"
  },
  {
    "text": "have your own list of actors uh this vendor developed the secret sauce for extracting features how do you how do",
    "start": "432160",
    "end": "438199"
  },
  {
    "text": "you make it consistent so if you buy feature set from the first vendor or you buy a feature set from a second vendor",
    "start": "438199",
    "end": "444360"
  },
  {
    "text": "that in the end they will sort of give you the same result if it's possible to extract that kind of information right",
    "start": "444360",
    "end": "450759"
  },
  {
    "start": "450000",
    "end": "484000"
  },
  {
    "text": "so the question that I want to sort of address today is given a set of",
    "start": "450759",
    "end": "456520"
  },
  {
    "text": "attributes how do you let's not directly map these attributes directly onto this map and try to find similarity let's",
    "start": "456520",
    "end": "464120"
  },
  {
    "text": "figure out how do we take that and how do we make the best map that we can possibly make given those features how",
    "start": "464120",
    "end": "470479"
  },
  {
    "text": "do we remap everything in an automatic way such that there is no longer it's not about luck you get consistent",
    "start": "470479",
    "end": "477120"
  },
  {
    "text": "results no matter what features that you're using right so consistency is critical",
    "start": "477120",
    "end": "482360"
  },
  {
    "text": "here and I guess be before before I explain",
    "start": "482360",
    "end": "489720"
  },
  {
    "start": "484000",
    "end": "653000"
  },
  {
    "text": "my Approach I want to talk about what what what is it ideally what do you have",
    "start": "489720",
    "end": "495479"
  },
  {
    "text": "ideally what is a perfect world right a simple world that we can what's a simple world that we can have in which you know",
    "start": "495479",
    "end": "502960"
  },
  {
    "text": "if we had that world then our problems would be solved and we don't need to do anything because we can directly measure",
    "start": "502960",
    "end": "508400"
  },
  {
    "text": "distances in that world world so what I would like to do is Imagine This World",
    "start": "508400",
    "end": "514200"
  },
  {
    "text": "of malware factories right and each malware Factory produces sort of very similar malware and if you put them on a",
    "start": "514200",
    "end": "521360"
  },
  {
    "text": "map they sort of cluster together next to each other and these these malware",
    "start": "521360",
    "end": "527720"
  },
  {
    "text": "factories right they're on the map and the distances between those factories make sense so if malware if Factory one",
    "start": "527720",
    "end": "535200"
  },
  {
    "text": "uh you know uses Secret Sauce that's similar to uh Factory 2 that uses also almost the",
    "start": "535200",
    "end": "542279"
  },
  {
    "text": "same secret sauce right maybe they're two different frat actors from China right but they share a lot of the secret sauce between the two right they would",
    "start": "542279",
    "end": "548800"
  },
  {
    "text": "be close on the map but other one but you know frat actors that don't share anything together they would be far away",
    "start": "548800",
    "end": "555160"
  },
  {
    "text": "on the map and so you want you want this map right this is sort of an ideal",
    "start": "555160",
    "end": "560360"
  },
  {
    "text": "environment because um because these little little little malware samples",
    "start": "560360",
    "end": "566279"
  },
  {
    "text": "they all cluster next to each other and the factories and the distances make sense and the dimensions Dimensions",
    "start": "566279",
    "end": "572040"
  },
  {
    "text": "might not may make sense but the dimensions use only the Vital Information so for example if there is",
    "start": "572040",
    "end": "579040"
  },
  {
    "text": "you know you extract a bunch of features let's say let's say extract some sort of printable strings from a file right and",
    "start": "579040",
    "end": "585720"
  },
  {
    "text": "it might be that pretty much every file you know has this one string in it I",
    "start": "585720",
    "end": "591800"
  },
  {
    "text": "don't know let's say print right so print is not a useful feature for uh",
    "start": "591800",
    "end": "597200"
  },
  {
    "text": "figuring out attribution for figuring out anything right but you don't know that ahead of time so you extracted it",
    "start": "597200",
    "end": "604480"
  },
  {
    "text": "what you want is you want a system that says once you map this original set of",
    "start": "604480",
    "end": "610320"
  },
  {
    "text": "attributes this feature this this print statement it's not it's no longer going to be represented in the in the map so",
    "start": "610320",
    "end": "617240"
  },
  {
    "text": "whether it whether there is a print statement or there is no print statement in this particular file it doesn't affect how this file is mapped onto this",
    "start": "617240",
    "end": "625040"
  },
  {
    "text": "uh sort of idealized world right and there there is sort of and if you pause",
    "start": "625040",
    "end": "631519"
  },
  {
    "text": "and you think about it and there is sort of like this one problem with this right this is completely made up right if this",
    "start": "631519",
    "end": "637920"
  },
  {
    "text": "was a reality we would be done we don't need to do anything right and well I",
    "start": "637920",
    "end": "645079"
  },
  {
    "text": "mean so it's imaginary and if it's an imaginary it's pretty useless so why",
    "start": "645079",
    "end": "650560"
  },
  {
    "text": "well I mean why even talk about this right and then if if you pause and think",
    "start": "650560",
    "end": "656120"
  },
  {
    "start": "653000",
    "end": "739000"
  },
  {
    "text": "about this we realize that not only is that world World imaginary everything there is no spoon there this whole",
    "start": "656120",
    "end": "663320"
  },
  {
    "text": "entire mapping that we had the inconsistent mapping all of it all of it is made up and all of it is made up by",
    "start": "663320",
    "end": "670000"
  },
  {
    "text": "us right because we the ones that made the choice to extract specific set of attributes from the file we are the ones",
    "start": "670000",
    "end": "676320"
  },
  {
    "text": "that chose to weigh them in a specific way and because we chose everything",
    "start": "676320",
    "end": "681959"
  },
  {
    "text": "because the whole world is fake we can change it we can morph it just like you can bend the spoon in The Matrix right",
    "start": "681959",
    "end": "690360"
  },
  {
    "text": "and there are lots of ways you can bend the spoon or you can bend this sort of",
    "start": "690360",
    "end": "695399"
  },
  {
    "text": "map but one of the best ways I know how to do it is using deep neural networks",
    "start": "695399",
    "end": "700639"
  },
  {
    "text": "and what this deep neural network the idea is going to be that we're going to take this original set of features and we're going to somehow pass it through",
    "start": "700639",
    "end": "707120"
  },
  {
    "text": "this deep neural network I'm not going to tell you right now how we actually learn this deep neural network but it",
    "start": "707120",
    "end": "712839"
  },
  {
    "text": "does this complicated morphing imagine a two-dimensional map of the world you know the distances between cities don't",
    "start": "712839",
    "end": "718519"
  },
  {
    "text": "make too much sense depending on where you are on latitude and longitude well latitude I guess but after we do this",
    "start": "718519",
    "end": "725560"
  },
  {
    "text": "this thing right it becomes this globe this globe where everything actually makes sense where the distance is",
    "start": "725560",
    "end": "731120"
  },
  {
    "text": "actually consistent and so that's that's sort of the hope this is what we want to",
    "start": "731120",
    "end": "738120"
  },
  {
    "text": "achieve um that's great",
    "start": "738120",
    "end": "743279"
  },
  {
    "start": "739000",
    "end": "1019000"
  },
  {
    "text": "but how do we do that it seems like a very daunting problem and this is this",
    "start": "743279",
    "end": "749120"
  },
  {
    "text": "is where deep learning artificial intelligence machine learning can come and help and the idea here is going to",
    "start": "749120",
    "end": "755800"
  },
  {
    "text": "be we're going to use what's known as a variational auto encoder now variational",
    "start": "755800",
    "end": "760880"
  },
  {
    "text": "Auto encoder is a very complicated hard hard mathematically to understand piece of Machinery but the",
    "start": "760880",
    "end": "769360"
  },
  {
    "text": "the actual the actual math behind it is probably not important here what's important is sort of the intuitive idea",
    "start": "769360",
    "end": "775880"
  },
  {
    "text": "behind a behind this variational outon Cod variational Auto encoder says we want to",
    "start": "775880",
    "end": "782440"
  },
  {
    "text": "remap our original map into this new map in a specific way and it's going to",
    "start": "782440",
    "end": "787519"
  },
  {
    "text": "balance two sort of conflicting ideas one conflicting idea is that there's only one Factory all malware is the same",
    "start": "787519",
    "end": "794800"
  },
  {
    "text": "produced by the same malware Factory right and that's okay that's a very simple world right that's the simplest",
    "start": "794800",
    "end": "800079"
  },
  {
    "text": "world we can think of but on the other hand it also needs to Cluster malware",
    "start": "800079",
    "end": "805800"
  },
  {
    "text": "family so once you map this malware into this new map uh it has to Cluster and how it clusters",
    "start": "805800",
    "end": "812880"
  },
  {
    "text": "we we we can Define that specifically I'm going to be using uh family variant Microsoft Family variant names here so",
    "start": "812880",
    "end": "819399"
  },
  {
    "text": "if you have verot sample right it needs to Cluster with verot but if there's only one Factory it",
    "start": "819399",
    "end": "825360"
  },
  {
    "text": "cannot possibly cluster right veru cannot possibly cluster because everything is one b a glob it's all",
    "start": "825360",
    "end": "830480"
  },
  {
    "text": "produced from the same Factory and when you do this when you set these two conflicting goals right you cannot",
    "start": "830480",
    "end": "835519"
  },
  {
    "text": "satisfy them but you're going to try to satisfy both at the same same time as much as you can what happens is it",
    "start": "835519",
    "end": "842040"
  },
  {
    "text": "actually squeezes this Secret Sauce out like this useless feature this print statement that you had that's going to",
    "start": "842040",
    "end": "848000"
  },
  {
    "text": "be squeezed out and what you're going to have is only things that are critical",
    "start": "848000",
    "end": "853440"
  },
  {
    "text": "for the system because if it's a useless features then you're sort of you can",
    "start": "853440",
    "end": "858519"
  },
  {
    "text": "drop it and get closer to only one Factory idea and if it's actually useful",
    "start": "858519",
    "end": "864720"
  },
  {
    "text": "then you can't if you drop it you're not going to be as good at clustering as you could have been otherwise right so by",
    "start": "864720",
    "end": "870079"
  },
  {
    "text": "balancing this system you can create uh you can you can sort of map",
    "start": "870079",
    "end": "875519"
  },
  {
    "text": "this into a world where everything is important where all the dimensions are",
    "start": "875519",
    "end": "880839"
  },
  {
    "text": "important and so how does a variational add encoder work well it's it's fairly",
    "start": "880839",
    "end": "885880"
  },
  {
    "text": "complex piece of Machinery so I'm just going to sketch it out a little bit here and so the idea is the morphing so the",
    "start": "885880",
    "end": "892040"
  },
  {
    "text": "morphing is a fundamental thing right we're going to take our original set of features and we're going to we're going",
    "start": "892040",
    "end": "897199"
  },
  {
    "text": "to embed them we're going to transform them them into this into this new world this new map where distances make sense",
    "start": "897199",
    "end": "903480"
  },
  {
    "text": "and once we transform them we're going to do this thing where we're going to try to map them",
    "start": "903480",
    "end": "910120"
  },
  {
    "text": "back we're going to try to map them into into their families right so we transform into this new space and then",
    "start": "910120",
    "end": "916680"
  },
  {
    "text": "we take this point in this new space and we transform it into a family name right",
    "start": "916680",
    "end": "921839"
  },
  {
    "text": "so if the if it's there if there's good separation then this transformation works but if they're all clubber",
    "start": "921839",
    "end": "927560"
  },
  {
    "text": "together then this trans information is not going to work and to make things harder right because we don't want we",
    "start": "927560",
    "end": "933880"
  },
  {
    "text": "don't want this system to be we don't want the neural network we don't want it to be too easy for the neural network to",
    "start": "933880",
    "end": "940399"
  },
  {
    "text": "to do this because we want the robust system what we're going to do is before we transform it into a family name we're",
    "start": "940399",
    "end": "947199"
  },
  {
    "text": "going to add a bunch of noise to it so again to sketch it out what do you",
    "start": "947199",
    "end": "953360"
  },
  {
    "text": "have you have the original feature set it's morphed into this this new better map",
    "start": "953360",
    "end": "959519"
  },
  {
    "text": "right this point in a better map you take that point you add some noise to it and then you make it and then you map it",
    "start": "959519",
    "end": "966040"
  },
  {
    "text": "into a family name that it belongs to right so you need labels for this this is a supervised approach and because",
    "start": "966040",
    "end": "972240"
  },
  {
    "text": "it's a supervised approach that's what's going to make things better right because just arbitrarily extracting",
    "start": "972240",
    "end": "979519"
  },
  {
    "text": "features and hoping things Cluster together that's an unsupervised approach and whenever you add label data you",
    "start": "979519",
    "end": "985399"
  },
  {
    "text": "typically tend to perform much better and so you take this whole system you take your family labels that you got",
    "start": "985399",
    "end": "991399"
  },
  {
    "text": "let's say from virus toal uh and you and you and you learn you start learning you",
    "start": "991399",
    "end": "997680"
  },
  {
    "text": "start using back propagation direct back propagation neural network to actually learn you learn what do you learn you",
    "start": "997680",
    "end": "1004519"
  },
  {
    "text": "learn you learn this uh the encoder this sort of this morphing this neural",
    "start": "1004519",
    "end": "1009759"
  },
  {
    "text": "network that's responsible for the morphing and you learn this decoder so you learn both things at the same",
    "start": "1009759",
    "end": "1017120"
  },
  {
    "text": "time and I I think it helps to actually because",
    "start": "1017120",
    "end": "1022959"
  },
  {
    "start": "1019000",
    "end": "1225000"
  },
  {
    "text": "this is this is fairly complicated and hard to understand there is a lot of math involved a lot of Transformations I",
    "start": "1022959",
    "end": "1029199"
  },
  {
    "text": "think it helps to actually visualize a simple problem and as a simple problem what I",
    "start": "1029199",
    "end": "1036199"
  },
  {
    "text": "did is I picked a simple system I picked eight family variants um so you see them",
    "start": "1036199",
    "end": "1042798"
  },
  {
    "text": "on your left on your right so you see it on your right so there are there are a",
    "start": "1042799",
    "end": "1047918"
  },
  {
    "text": "bunch of different malware uh notice specifically there are three variants of verot in this example so there are eight",
    "start": "1047919",
    "end": "1054440"
  },
  {
    "text": "total variants and most of them are coming from different families but three of them are coming from Vero family",
    "start": "1054440",
    "end": "1061760"
  },
  {
    "text": "right and you're going to Ed now typically you can embed in mult in high dimensional system you develop in 2,000",
    "start": "1061760",
    "end": "1067679"
  },
  {
    "text": "Dimensions right uh the higher the dimensions the better the results probably but we're going to use a two-dimensional embedding so you're",
    "start": "1067679",
    "end": "1074600"
  },
  {
    "text": "going to transform the original feature set whatever it is and in this specific case it's actually 1,24",
    "start": "1074600",
    "end": "1081320"
  },
  {
    "text": "features and you're going to squeeze them down into this new map which is only going to have two features so this new Vector that you will get uh you know",
    "start": "1081320",
    "end": "1089400"
  },
  {
    "text": "this new map is two- dimensional and each point has two features in it secret sauce a and Secret Sauce B okay and we",
    "start": "1089400",
    "end": "1099600"
  },
  {
    "text": "can play around right so we we can say well what happens if you only care about the first part of the variational",
    "start": "1099600",
    "end": "1106120"
  },
  {
    "text": "encoder what if you only care about what if everything is one Factory right and",
    "start": "1106120",
    "end": "1111240"
  },
  {
    "text": "the alternative is forget that forget this one Factory rule why don't we just",
    "start": "1111240",
    "end": "1116440"
  },
  {
    "text": "concern oursel with clustering right basically that the whole family must cluster together families must cluster",
    "start": "1116440",
    "end": "1122080"
  },
  {
    "text": "together well if you if you say everything is one family everything is",
    "start": "1122080",
    "end": "1128200"
  },
  {
    "text": "one Factory right then well everything collapses into Singularity there is only one Factory there is nothing here so all",
    "start": "1128200",
    "end": "1135520"
  },
  {
    "text": "the samples are on top of each other and you learn nothing you understand nothing on the other hand if you",
    "start": "1135520",
    "end": "1143519"
  },
  {
    "text": "say sorry about",
    "start": "1144000",
    "end": "1147520"
  },
  {
    "text": "that on the other hand if you say I don't care about this one Factory rule I don't care I only care that we",
    "start": "1151120",
    "end": "1158200"
  },
  {
    "text": "cluster well then you do cluster and you cluster fairly well but what happens is your neural network it tries to separate",
    "start": "1158200",
    "end": "1165200"
  },
  {
    "text": "the malware too aggressively and so the distances between families they stop",
    "start": "1165200",
    "end": "1170720"
  },
  {
    "text": "making they stop making sense it becomes this sort of isolated system where you have one sample here and then long far",
    "start": "1170720",
    "end": "1178320"
  },
  {
    "text": "away you have a different sample and another sample and so for example the distances between uh the veroot samples",
    "start": "1178320",
    "end": "1184159"
  },
  {
    "text": "they they don't make much sense there there's large distances between them necessarily the the distances inside the",
    "start": "1184159",
    "end": "1191320"
  },
  {
    "text": "inside the family inside the cluster makes maybe make sense but the distances between clusters they're no longer",
    "start": "1191320",
    "end": "1197240"
  },
  {
    "text": "active here but if you pick this sort of Goldilocks happy",
    "start": "1197240",
    "end": "1202840"
  },
  {
    "text": "medium uh between the two it's sort of a compromise right at the same time it it",
    "start": "1202840",
    "end": "1208480"
  },
  {
    "text": "tries to be this one point singular Singularity but at the same time it has to fit the family names and so it's it's",
    "start": "1208480",
    "end": "1214960"
  },
  {
    "text": "this mix and the distances the distances start making a lot of sense at that",
    "start": "1214960",
    "end": "1221600"
  },
  {
    "text": "point and so that's sort of this toy example but we actually evaluated the",
    "start": "1221600",
    "end": "1228840"
  },
  {
    "text": "system much L on actual actual examples and so we took 800,000 samples from",
    "start": "1228840",
    "end": "1235159"
  },
  {
    "text": "virus total uh these samples include 1500 family names so 1500 family variant",
    "start": "1235159",
    "end": "1241880"
  },
  {
    "text": "names uh from Microsoft that covers pretty that's pretty much every family variant that Microsoft has that's",
    "start": "1241880",
    "end": "1248679"
  },
  {
    "text": "currently active in the wild uh provides 99% coverage so that's a lot of",
    "start": "1248679",
    "end": "1255440"
  },
  {
    "text": "labels and we're going to do this time split validation we're going to split the set we're going to take old samples",
    "start": "1255440",
    "end": "1261640"
  },
  {
    "text": "and we're going to train this variational Auto encoder system right we're going to run it using back we're",
    "start": "1261640",
    "end": "1267760"
  },
  {
    "text": "going to train it do using back propagation using the labels we got from virus total uh you know for hundreds of",
    "start": "1267760",
    "end": "1274760"
  },
  {
    "text": "aex until we reach pretty good solution and then we'll take that and we'll take",
    "start": "1274760",
    "end": "1280200"
  },
  {
    "text": "that um if you go back here you'll take this first part this this encoder right",
    "start": "1280200",
    "end": "1287880"
  },
  {
    "text": "and and we're going to remap that we're going to use it to ma remap the original",
    "start": "1287880",
    "end": "1294559"
  },
  {
    "text": "sample so we extract some sort of features from it and we're going to remap those features using the first the first component the encoder part and",
    "start": "1294559",
    "end": "1301919"
  },
  {
    "text": "we're going to put it on a map and then we're going to measure how well we do and the way we're going to measure how",
    "start": "1301919",
    "end": "1307080"
  },
  {
    "text": "well we do is using this three nearest neighbors classifier so what do I mean by that I mean let's take let's take the",
    "start": "1307080",
    "end": "1314240"
  },
  {
    "text": "training data so this is some old data and we're going to run it through this encode and we're going to put it on a map so now we have this huge",
    "start": "1314240",
    "end": "1321320"
  },
  {
    "text": "database uh of points uh let's say 400,000 points uh with different labels",
    "start": "1321320",
    "end": "1327039"
  },
  {
    "text": "on it now we take a previously unseen sample we run it through this encoder we",
    "start": "1327039",
    "end": "1332559"
  },
  {
    "text": "put it on a map and then we say okay what are the three closest samples to",
    "start": "1332559",
    "end": "1337960"
  },
  {
    "text": "this previous to this unknown sample and let's say two out of the three are the root then we say ahuh this new sample",
    "start": "1337960",
    "end": "1345880"
  },
  {
    "text": "must be the root and then we go and when we look at the actual label that we had",
    "start": "1345880",
    "end": "1351039"
  },
  {
    "text": "hidden and you know if we are correct we gave oursel a point and if we incorrect we subtract the point and if you do that",
    "start": "1351039",
    "end": "1359679"
  },
  {
    "text": "it Aggregates into this sort of this stat this statistic called the F1 score which is uh Precision basically",
    "start": "1359679",
    "end": "1366559"
  },
  {
    "text": "precision and recall combined together and that's how we're going to evaluate are we getting better F1 scores but um",
    "start": "1366559",
    "end": "1375159"
  },
  {
    "text": "and there's going to be a second way to evaluate it so we're going to look at two features so imagine vendor one he's",
    "start": "1375159",
    "end": "1381720"
  },
  {
    "text": "not a good vendor his features are I'm going to extract printable strings uh from the sample and I'm just going to",
    "start": "1381720",
    "end": "1387960"
  },
  {
    "text": "use that and I'm going to Min hash them for whatever that means it's not",
    "start": "1387960",
    "end": "1393080"
  },
  {
    "text": "important and you're going to have vendor two let's say invincia who",
    "start": "1393080",
    "end": "1398279"
  },
  {
    "text": "happens to have a deep uh neural network detector right and they have this",
    "start": "1398279",
    "end": "1403440"
  },
  {
    "text": "Advanced set of features that is really good at detecting malware so let's take those features",
    "start": "1403440",
    "end": "1410159"
  },
  {
    "text": "right uh so those are going to be the two features we're going to be looking at and let's see if you can improve them",
    "start": "1410159",
    "end": "1415400"
  },
  {
    "text": "right so if you just take the raw raw data uh what we have is a pretty",
    "start": "1415400",
    "end": "1423360"
  },
  {
    "text": "bad um what do we have is a pretty bad triage system uh there is an F1 score but the",
    "start": "1423360",
    "end": "1429960"
  },
  {
    "text": "point here is what I'm plotting in blue the blue is the distances between points inside a family so if you have two",
    "start": "1429960",
    "end": "1436279"
  },
  {
    "text": "samples that are verot uh you expect that the distances between these two samples would be smaller than from Vero",
    "start": "1436279",
    "end": "1442200"
  },
  {
    "text": "to some other malware that's unrelated to Vero right so that's what we're plotting we're plotting a histogram of",
    "start": "1442200",
    "end": "1447440"
  },
  {
    "text": "these distances so we take 400,000 points and we pl plot the histogram and so you you would expect a separation",
    "start": "1447440",
    "end": "1454120"
  },
  {
    "text": "right you would expect more blue having smaller distances and more orange having",
    "start": "1454120",
    "end": "1459480"
  },
  {
    "text": "bigger distances but we don't really have that they're about the same on average and that's because strings by",
    "start": "1459480",
    "end": "1465520"
  },
  {
    "text": "default are not that great right and there's been a lot of research in you know using strings and they're",
    "start": "1465520",
    "end": "1471600"
  },
  {
    "text": "actually pretty good and the reason they're pretty good is because people play around with it they try to whim in the specific magical ways right but",
    "start": "1471600",
    "end": "1478520"
  },
  {
    "text": "you're not going to do any of that because we have a better system we have this neural network that we train and",
    "start": "1478520",
    "end": "1484360"
  },
  {
    "text": "once we do that once we remap from the original really bad MAP into this new map what you start seeing is even the",
    "start": "1484360",
    "end": "1491880"
  },
  {
    "text": "strings you start having a pretty powerful detector you start seeing clusters right",
    "start": "1491880",
    "end": "1498520"
  },
  {
    "text": "you start seeing samples that are coming from the same family they have much smaller distances than than distances to",
    "start": "1498520",
    "end": "1505320"
  },
  {
    "text": "to samples to from other families right but that's that's fine uh the question",
    "start": "1505320",
    "end": "1511559"
  },
  {
    "text": "is does this work if you take a really good feature set right and so what we did is we we took a much better system",
    "start": "1511559",
    "end": "1518559"
  },
  {
    "text": "right and uh if you use the Deep uh learning features you already have pretty good separation which makes sense",
    "start": "1518559",
    "end": "1524320"
  },
  {
    "text": "because they're able to identify meller pretty well right they're able to classif I mare but if you run this",
    "start": "1524320",
    "end": "1530200"
  },
  {
    "text": "system on them right it automatically improved them so what we are seeing here",
    "start": "1530200",
    "end": "1537559"
  },
  {
    "text": "is an is a way to take whatever whatever set of features you extract right so you have one set of features today you wake",
    "start": "1537559",
    "end": "1544279"
  },
  {
    "text": "up tomorrow you think of better features you add those features and all you have to do is not hire 50 50 Engineers to try",
    "start": "1544279",
    "end": "1552000"
  },
  {
    "text": "to figure out how to integrate this new set of features to with your old set of features you use supervised training use",
    "start": "1552000",
    "end": "1558880"
  },
  {
    "text": "variational out encoder to create this this Secret Sauce world right that only",
    "start": "1558880",
    "end": "1565799"
  },
  {
    "text": "looks at important things and so this original problem that",
    "start": "1565799",
    "end": "1571679"
  },
  {
    "text": "we had in the beginning where if you use printable strings you get one solution where you use deep learning features you",
    "start": "1571679",
    "end": "1577880"
  },
  {
    "text": "might get a different solution that more or less goes away because we don't care with what feature",
    "start": "1577880",
    "end": "1585000"
  },
  {
    "text": "well we do care to some degree but we don't care as much with what features we start with we only care about with the",
    "start": "1585000",
    "end": "1590360"
  },
  {
    "text": "features we end with and because we train them against labels it brings consistency to the whole",
    "start": "1590360",
    "end": "1597520"
  },
  {
    "text": "system and so you can be more confident that the results you're",
    "start": "1597520",
    "end": "1604320"
  },
  {
    "text": "getting are actually true results so you can imagine I imagine you",
    "start": "1604320",
    "end": "1611840"
  },
  {
    "text": "have two organizations right imagine you have kasperski and you have Microsoft or semantic",
    "start": "1611840",
    "end": "1618120"
  },
  {
    "text": "kasperski has one set of families right and they care about identifying that they Define families in a certain way",
    "start": "1618120",
    "end": "1624559"
  },
  {
    "text": "but Microsoft has a competing definition of meel of malware families right so you",
    "start": "1624559",
    "end": "1629880"
  },
  {
    "text": "have if you're if you're building a system right you design your system you figured out how to properly weigh the",
    "start": "1629880",
    "end": "1635240"
  },
  {
    "text": "features such that it's pretty good at working on kasperski data and then you transfer that system to an organization",
    "start": "1635240",
    "end": "1643279"
  },
  {
    "text": "which is more interested in Microsoft family names it's not going to work as well because you didn't tune it for that",
    "start": "1643279",
    "end": "1648760"
  },
  {
    "text": "right but if you do that but if you take the features and we use the system to",
    "start": "1648760",
    "end": "1654080"
  },
  {
    "text": "remap the data right it automatically Tunes it and because and because you can tune it",
    "start": "1654080",
    "end": "1662200"
  },
  {
    "text": "right it's very easy to adjust the different problems right we don't have to we don't have to use labels uh from Microsoft it could be anything it could",
    "start": "1662200",
    "end": "1669360"
  },
  {
    "text": "be you know NSA might have their secret secret labels we don't know about right you create the system you hand it off to",
    "start": "1669360",
    "end": "1675960"
  },
  {
    "text": "NSA and they retrain their system and it works right you don't need to know the internal details of what the clients",
    "start": "1675960",
    "end": "1681559"
  },
  {
    "text": "have all you need to do is provide them a way for optimizing their uh their",
    "start": "1681559",
    "end": "1687799"
  },
  {
    "text": "system so it works optimally as well as well as it could possibly do um so there",
    "start": "1687799",
    "end": "1693360"
  },
  {
    "start": "1690000",
    "end": "1835000"
  },
  {
    "text": "there are several takeaways from this and the first one is that you know",
    "start": "1693360",
    "end": "1698760"
  },
  {
    "text": "developing features is expensive developing the similarity system is expensive but you don't want to start",
    "start": "1698760",
    "end": "1704760"
  },
  {
    "text": "from scratch you want to you want to develop you want develop something that can take the already existing systems",
    "start": "1704760",
    "end": "1710279"
  },
  {
    "text": "and just slightly modify them right because that's the cheapest way of going about it such that it works to the best",
    "start": "1710279",
    "end": "1716480"
  },
  {
    "text": "of its ability right uh the traditional systems are hard to tune as I explained because",
    "start": "1716480",
    "end": "1722360"
  },
  {
    "text": "you're sort of manually trying to figure out how to combine these features together but by leveraging labels that",
    "start": "1722360",
    "end": "1730159"
  },
  {
    "text": "approximate the semantic task sort of the the general idea of what you want to accomplish if they if you can get labels",
    "start": "1730159",
    "end": "1736320"
  },
  {
    "text": "that approximate that task ask you can actually get a significantly better result you can get a significant better",
    "start": "1736320",
    "end": "1742279"
  },
  {
    "text": "similarity search system and because you have this system you can retrain it and",
    "start": "1742279",
    "end": "1747840"
  },
  {
    "text": "retraining cost you nothing you just once you get new samples new labels you",
    "start": "1747840",
    "end": "1752960"
  },
  {
    "text": "rerun your neur own network right and so malware evolves families evolve everything evolves you don't want to pay",
    "start": "1752960",
    "end": "1759159"
  },
  {
    "text": "people every time every every month a new type of malware comes out you don't",
    "start": "1759159",
    "end": "1765039"
  },
  {
    "text": "want to pay a team of Engineers to re re-engineer your features it's expensive and it's it's not optimal right and",
    "start": "1765039",
    "end": "1773120"
  },
  {
    "text": "because now you know you can move from A system that you buy and then maybe two years later you update you move to a",
    "start": "1773120",
    "end": "1778640"
  },
  {
    "text": "system where you update every day you move to a system where an update cost you nothing and you're and you have this",
    "start": "1778640",
    "end": "1784200"
  },
  {
    "text": "completely different Paradigm for for this fundamental thing that provides vital intelligence to an Enterprise",
    "start": "1784200",
    "end": "1792640"
  },
  {
    "text": "right for an organization and uh I guess with that",
    "start": "1792640",
    "end": "1798159"
  },
  {
    "text": "uh I would like to conclude uh and thank my uh my co-workers for giving me some valuable feedback invin Inc for enabling",
    "start": "1798159",
    "end": "1805760"
  },
  {
    "text": "this kind of research and uh uh there is more information and uh just so everyone",
    "start": "1805760",
    "end": "1813000"
  },
  {
    "text": "knows we are hire actively hiring so if any anyone here interested in machine",
    "start": "1813000",
    "end": "1818080"
  },
  {
    "text": "learning intersection of machine learning and uh uh cyber security uh we",
    "start": "1818080",
    "end": "1824799"
  },
  {
    "text": "have some exciting projects you can work on",
    "start": "1824799",
    "end": "1829240"
  }
]