[
  {
    "text": "[Music] [Laughter]",
    "start": "1610",
    "end": "10260"
  },
  {
    "text": "this is Gregory Gregory fer from Fishnet security he is a senior security consultant in their application security",
    "start": "10880",
    "end": "17359"
  },
  {
    "text": "practice and uh believe it or not and I didn't at first I had to actually",
    "start": "17359",
    "end": "22439"
  },
  {
    "text": "question this uh in his spare time he researches and worries about web app",
    "start": "22439",
    "end": "28960"
  },
  {
    "text": "sec so with a with a with some great Applause I'd like you to welcome Gregory",
    "start": "28960",
    "end": "34840"
  },
  {
    "text": "to the stage and help him understand he needs another hobby definitely hey",
    "start": "34840",
    "end": "42199"
  },
  {
    "text": "everybody you are in web tracking for you if you are not supposed to be in web",
    "start": "44440",
    "end": "50000"
  },
  {
    "text": "tracking for you well you should probably get up and go uh please make sure that you do fill",
    "start": "50000",
    "end": "56280"
  },
  {
    "text": "out your speaker evaluation forms as a former black hat speaker I will tell you that not getting feedback made me",
    "start": "56280",
    "end": "63000"
  },
  {
    "text": "cry Gregory has already had issues with his AV do you really want to make him",
    "start": "63000",
    "end": "69640"
  },
  {
    "text": "cry no no please don't have a great hour oh thank you what's left of it",
    "start": "69640",
    "end": "76280"
  },
  {
    "text": "anyway now how's everybody doing today pretty good so while I get set up",
    "start": "76280",
    "end": "82560"
  },
  {
    "text": "here and get figured out what's going on uh just a quick show of hand so I get an idea kind of what everybody's into uh",
    "start": "82560",
    "end": "90040"
  },
  {
    "text": "how many people have used the collusion in either Chrome or Firefox the collusion plugin so you you guys kind of",
    "start": "90040",
    "end": "96920"
  },
  {
    "text": "have some sense of what web tracking is and and uh how it all plays out so this",
    "start": "96920",
    "end": "102840"
  },
  {
    "text": "this talks kind of a combination uh privacy talk and uh",
    "start": "102840",
    "end": "108040"
  },
  {
    "text": "browser security so there's a little bit of overlap so it it's probably a little technical um I didn't want to have",
    "start": "108040",
    "end": "115520"
  },
  {
    "text": "another one of these talks where somebody gets up here and says oh here's how all these people on the internet are tracking you and here's what you can do",
    "start": "115520",
    "end": "122719"
  },
  {
    "text": "about it because actually there's not much you can do about it so what I want to give you is Empower you to track",
    "start": "122719",
    "end": "128440"
  },
  {
    "text": "people you know if you have a website and you're interested in who's coming there and you want to track them over",
    "start": "128440",
    "end": "133599"
  },
  {
    "text": "time you know maybe they're malicious users you you you um I want to give you",
    "start": "133599",
    "end": "139319"
  },
  {
    "text": "kind of the tools to do that so just a brief bit of introduction I'm a Gregory",
    "start": "139319",
    "end": "144560"
  },
  {
    "text": "Gregory fler a senior security consultant at Fishnet security um I'm in the application practice was as was",
    "start": "144560",
    "end": "151840"
  },
  {
    "text": "mentioned so I do a lot of uh application assessments I see a lot of web code I see a lot of application",
    "start": "151840",
    "end": "158640"
  },
  {
    "text": "traffic so I have kind of an idea of how all of this fits together especially at",
    "start": "158640",
    "end": "164080"
  },
  {
    "text": "the kind of Enterprise level um you know looking at code that's handling Bank transactions and and that sort of thing",
    "start": "164080",
    "end": "171040"
  },
  {
    "text": "about three years ago actually three years ago exact almost exactly at Defcon I gave a presentation called attacking",
    "start": "171040",
    "end": "177080"
  },
  {
    "text": "tour at the application layer and a lot lot of the research I did then was very",
    "start": "177080",
    "end": "182840"
  },
  {
    "text": "kind of Deep dive down that stack it was Firefox and T and for people who aren't",
    "start": "182840",
    "end": "188680"
  },
  {
    "text": "aware Tor is uh the onion router uh that does you know anonymity online so I I",
    "start": "188680",
    "end": "195599"
  },
  {
    "text": "came across I would say they're not really vulnerabilities and they not really features so some people call them",
    "start": "195599",
    "end": "202120"
  },
  {
    "text": "feature featur abilities or vultures or something along those lines and I I went",
    "start": "202120",
    "end": "207879"
  },
  {
    "text": "through and I've been collecting these now for probably four years all these different little tricks to uh install",
    "start": "207879",
    "end": "213400"
  },
  {
    "text": "persistent tracking identifiers or do fingerprinting and some of this this topic has been covered before um but I",
    "start": "213400",
    "end": "219959"
  },
  {
    "text": "really wanted to do a deep dive and and go through each of you know the individual browsers and individual",
    "start": "219959",
    "end": "227120"
  },
  {
    "text": "plugins and really get deep and see what I could do so here's a standard disclaimer and these are kind of the two",
    "start": "227120",
    "end": "233159"
  },
  {
    "text": "responses I usually get it's like why do you hate blank like why do you hate this vendor why do you hate this open source",
    "start": "233159",
    "end": "240239"
  },
  {
    "text": "project or whatever and then I get this other response which is hey I need help tracking these users so those are the",
    "start": "240239",
    "end": "246480"
  },
  {
    "text": "kind of the two responses I've gotten when I've gone through these types of uh",
    "start": "246480",
    "end": "252840"
  },
  {
    "text": "presentations all right so what what are some reasons for tracking users there's very the very traditional reason which",
    "start": "253760",
    "end": "260400"
  },
  {
    "text": "is metrics and analytics um especially if you're advertising and you want to",
    "start": "260400",
    "end": "265560"
  },
  {
    "text": "monetize users behavioral uh characteristics to serve them better content or maybe you want to track users",
    "start": "265560",
    "end": "272520"
  },
  {
    "text": "to prevent click fraud those are all legitimate ways to identify users the same with security you know track them",
    "start": "272520",
    "end": "280800"
  },
  {
    "text": "but maybe you want a monitor for malicious users um Bad actors and attackers you know if you stand a",
    "start": "280800",
    "end": "286400"
  },
  {
    "text": "website up how do you know what people's intentions are that are coming there you know some of them are probably bad guys",
    "start": "286400",
    "end": "292199"
  },
  {
    "text": "and they're probably out to get you so part of tracking is a very legitimate purpose of searching for spec suspicious",
    "start": "292199",
    "end": "299199"
  },
  {
    "text": "Behavior so what are the types of tracking um",
    "start": "299199",
    "end": "304800"
  },
  {
    "text": "first party tracking is essentially when you go visit a website and they install a cookie let's say it's like a session",
    "start": "304800",
    "end": "310520"
  },
  {
    "text": "cookie or something along those lines to track your activities on that site to identify you to give you",
    "start": "310520",
    "end": "317720"
  },
  {
    "text": "personalization um the third party trackers are the ones that are the behavioral advertising or the social",
    "start": "317720",
    "end": "324080"
  },
  {
    "text": "networkers uh that Network working that have plugins and you know badges you",
    "start": "324080",
    "end": "329800"
  },
  {
    "text": "know put this little LinkedIn thing on your website or this Google Plus and people click on it and so they are",
    "start": "329800",
    "end": "336280"
  },
  {
    "text": "tracking you as you move across the web and and the people that have used the collusion uh extensions have seen all",
    "start": "336280",
    "end": "341919"
  },
  {
    "text": "that you know you get these fancy graphs and it really ultimately though doesn't",
    "start": "341919",
    "end": "348039"
  },
  {
    "text": "doesn't do you any good and then there's this kind of uh",
    "start": "348039",
    "end": "353080"
  },
  {
    "text": "controversy about analytics and is it counting is it tracking what's going on",
    "start": "353080",
    "end": "358840"
  },
  {
    "text": "there so I wanted to do for my first demo and attempting the demo Gods here guys uh is trying to show you how",
    "start": "358840",
    "end": "365720"
  },
  {
    "text": "pervasive tracking is",
    "start": "365720",
    "end": "370720"
  },
  {
    "text": "so and I don't have anything against Microsoft I just wanted to have all of these in one specific site",
    "start": "374000",
    "end": "383479"
  },
  {
    "text": "okay this was all set up to go great before so bear with me",
    "start": "383479",
    "end": "390120"
  },
  {
    "text": "okay so I have collusion installed and I just open Chrome okay that's that's kind",
    "start": "390280",
    "end": "396280"
  },
  {
    "text": "of the the what's going on there and if you look there's this request that goes",
    "start": "396280",
    "end": "401360"
  },
  {
    "text": "out to api. miix panel.com with this track and data equals all this garbage",
    "start": "401360",
    "end": "407319"
  },
  {
    "text": "now uh you may wonder what all that is and I'll show you here in a second",
    "start": "407319",
    "end": "414918"
  },
  {
    "text": "now I'm just uh running all this traffic through burp so you can kind of see it and this is B 64",
    "start": "420199",
    "end": "427039"
  },
  {
    "text": "encoded and that's probably kind of",
    "start": "427520",
    "end": "431759"
  },
  {
    "text": "[Music]",
    "start": "432930",
    "end": "435990"
  },
  {
    "text": "tiny format that so what this is is a request from",
    "start": "439840",
    "end": "447160"
  },
  {
    "text": "the collusion uh extension going out to some API tracking",
    "start": "447160",
    "end": "453120"
  },
  {
    "text": "site so basically the the the extension you installed to track trackers is",
    "start": "453120",
    "end": "458240"
  },
  {
    "text": "tracking you so it's like tracking The Trackers tracker trackers tracking you know is that is not is that",
    "start": "458240",
    "end": "465720"
  },
  {
    "text": "not pervasive you know the even the plugins that are supposed to show you oh you're being tracked are tracking you as",
    "start": "465720",
    "end": "471240"
  },
  {
    "text": "you use them I mean it it's just great it's it's it's so it's so pervasive that",
    "start": "471240",
    "end": "477159"
  },
  {
    "text": "there's no way to get away from it",
    "start": "477159",
    "end": "481319"
  },
  {
    "text": "so there was our demo that worked by the way woohoo um so what are some alternative",
    "start": "482440",
    "end": "489039"
  },
  {
    "text": "ways of tracking and this is kind of you know the corporate Enterprise environment where you have uh traffic",
    "start": "489039",
    "end": "494960"
  },
  {
    "text": "inspection that you're applying to to people as they surf the Internet you probably are routing them through some sort of corporate proxy um this also can",
    "start": "494960",
    "end": "502400"
  },
  {
    "text": "occur at the provider and host ISP levels you know maybe they want to track who's uh let's say down loing illegal",
    "start": "502400",
    "end": "510199"
  },
  {
    "text": "content you know there was going to be that six strikes law or whatever to say oh you're going to get banned if you",
    "start": "510199",
    "end": "515680"
  },
  {
    "text": "download those uh illegal files and the other way to do it is through content modification instead of examining the",
    "start": "515680",
    "end": "522039"
  },
  {
    "text": "requests you actually modify the responses that come back and you inject your code in there and you if you've",
    "start": "522039",
    "end": "527440"
  },
  {
    "text": "been to many hotels you've probably seen sometimes they'll go ahead and inject content into your uh pages that you're",
    "start": "527440",
    "end": "533160"
  },
  {
    "text": "viewing over the hotel Wi-Fi connection or uh wired connection and so you can do",
    "start": "533160",
    "end": "538600"
  },
  {
    "text": "the same thing by injecting web bugs and tracking",
    "start": "538600",
    "end": "543360"
  },
  {
    "text": "code so here are three key Concepts we're going to talk about with tracking",
    "start": "544279",
    "end": "549880"
  },
  {
    "text": "there's fingerprinting which is to go through and do an examination of uh kind of collect facts about the web browser",
    "start": "549880",
    "end": "557079"
  },
  {
    "text": "or the traffic um there's tracking which you can think of as installing some sort of persistent identifier on the user's",
    "start": "557079",
    "end": "563040"
  },
  {
    "text": "computer through their web browser unmasking which is to go and uh try and find out what their let's say IP",
    "start": "563040",
    "end": "569600"
  },
  {
    "text": "addresses or uh operating system characteristics and these aren't really",
    "start": "569600",
    "end": "574680"
  },
  {
    "text": "mutually exclusive you know they can kind of reinforce each other and we can do uh comparisons to see if we can",
    "start": "574680",
    "end": "581120"
  },
  {
    "text": "correlate any discrepancies so fingerprinting um the goal of",
    "start": "581120",
    "end": "586600"
  },
  {
    "text": "fingerprinting is basically to calculate a unique fingerprint um based on the user's uh web browser characteristics or",
    "start": "586600",
    "end": "593480"
  },
  {
    "text": "Os characteristics and this can be much more uh resilient to privacy actions that users take you know if they dump",
    "start": "593480",
    "end": "601040"
  },
  {
    "text": "their cookies or if they clear their cache uh it's very hard to change the characteristics of your web browser how",
    "start": "601040",
    "end": "607040"
  },
  {
    "text": "it behaves and how it acts and you can break this down a little further into passive and active",
    "start": "607040",
    "end": "613240"
  },
  {
    "text": "fingerprinting and this is further uh Complicated by if you have plugins and extensions installed and if you can uh",
    "start": "613240",
    "end": "620440"
  },
  {
    "text": "identify and examine those so with passive fingerprinting uh",
    "start": "620440",
    "end": "626160"
  },
  {
    "text": "information is captured passively and we can use this data basically to group",
    "start": "626160",
    "end": "631959"
  },
  {
    "text": "people into broad categories because there's not fine grain uh data that can be derived from this you know there are",
    "start": "631959",
    "end": "638760"
  },
  {
    "text": "some people that say oh well you can be tracked just by your user agent alone unless you have some sort of unique identifier embedded in your user agent",
    "start": "638760",
    "end": "645639"
  },
  {
    "text": "that's highly unlikely you know there's a still a fairly wide variety of people on the internet um that have similar",
    "start": "645639",
    "end": "651680"
  },
  {
    "text": "characteristics if not the same so we can only put people into certain silos you know we aren't going to get a",
    "start": "651680",
    "end": "658200"
  },
  {
    "text": "perfect match just based on your user agent and another problem with this is that information is very easy to fake",
    "start": "658200",
    "end": "664959"
  },
  {
    "text": "and hide and obscure you know there's proxies and uh plugins out there that can modify your user agent to be make",
    "start": "664959",
    "end": "671040"
  },
  {
    "text": "your Firefox browser claim its um Internet Explorer so that's that's a very big",
    "start": "671040",
    "end": "677079"
  },
  {
    "text": "limitation of passive fingerprinting and so some of the types of information that is available as the user agent string in",
    "start": "677079",
    "end": "682959"
  },
  {
    "text": "the order of request headers but there's also intrinsic uh components of your web",
    "start": "682959",
    "end": "688360"
  },
  {
    "text": "browser that be used so let's say when you make an anonymous FTP request each of the the various web browsers sends a",
    "start": "688360",
    "end": "695160"
  },
  {
    "text": "username in that Anonymous HTP FTP request and you can you can uh",
    "start": "695160",
    "end": "700519"
  },
  {
    "text": "differentiate those so that's going to be something that's not really a web browser that you can't really change",
    "start": "700519",
    "end": "707639"
  },
  {
    "text": "that because it's part of the web browser itself and then you can look at how requests are handled there's the",
    "start": "707639",
    "end": "713680"
  },
  {
    "text": "content site policy which is a way to report uh like cross- site scripting violations um image types those you know",
    "start": "713680",
    "end": "721240"
  },
  {
    "text": "you can test if the browser supports different image types this used to be a bigger deal but um as time's gone on and",
    "start": "721240",
    "end": "728600"
  },
  {
    "text": "uh all the browsers are catching up to supporting the major",
    "start": "728600",
    "end": "733639"
  },
  {
    "text": "standards and then um even the https handshake can be uh profiled you know",
    "start": "733639",
    "end": "739519"
  },
  {
    "text": "there's different Cipher Suites and supported uh extensions and you can get the often times the time stamp of the",
    "start": "739519",
    "end": "746320"
  },
  {
    "text": "client machine when it makes the connection so that can be some interesting uh content that's available",
    "start": "746320",
    "end": "752000"
  },
  {
    "text": "to you so passive fingerprinting with plugins and plugins them themselves have",
    "start": "752000",
    "end": "759519"
  },
  {
    "text": "additional characteristics when they make requests they might have a custom user agent they might inject uh",
    "start": "759519",
    "end": "765480"
  },
  {
    "text": "different Header information so like there's uh this Java request was uh made",
    "start": "765480",
    "end": "771000"
  },
  {
    "text": "from a Linux 2.6 388 generic machine which is way more detailed than probably",
    "start": "771000",
    "end": "776600"
  },
  {
    "text": "the Firefox browser that that came from that's way more detailed um Flash the on",
    "start": "776600",
    "end": "781639"
  },
  {
    "text": "Internet Explorer you're going to see X Flash versions being sent you know you can get very very uh fine grained",
    "start": "781639",
    "end": "788079"
  },
  {
    "text": "information from that and um active fingerprinting is",
    "start": "788079",
    "end": "794160"
  },
  {
    "text": "different that's that's where you're actually running uh JavaScript code in the web browser and you know you can",
    "start": "794160",
    "end": "799720"
  },
  {
    "text": "either do that directly through D JavaScript uh embed CSS and it's much harder to fake or hide",
    "start": "799720",
    "end": "806000"
  },
  {
    "text": "because of the direct interaction that you're having with the web browser you know you're interrogating it as it's",
    "start": "806000",
    "end": "811399"
  },
  {
    "text": "going as it's running uh and there there are actually modern libraries like the modernizer library that does this to",
    "start": "811399",
    "end": "816639"
  },
  {
    "text": "provide you with the ability to Target uh robustly feature",
    "start": "816639",
    "end": "822680"
  },
  {
    "text": "sets so what are some of the standard items um Navigator information and screen resolution this is kind of",
    "start": "823240",
    "end": "829600"
  },
  {
    "text": "typical analytics type of information that you're going to get date and time zone uh installed plugins and",
    "start": "829600",
    "end": "835120"
  },
  {
    "text": "fonts browser extensions you know there",
    "start": "835120",
    "end": "840160"
  },
  {
    "text": "when specifically for Chrome and Firefox there's a very robust development Community around",
    "start": "840160",
    "end": "846639"
  },
  {
    "text": "creating add-ons and extensions and when they do that people want to make it easy for you so they offer certain Frameworks",
    "start": "846639",
    "end": "854000"
  },
  {
    "text": "and characteristics that make it quick to create and easy to implement um but that has downsides because you can go",
    "start": "854000",
    "end": "860959"
  },
  {
    "text": "through and test those characteristics those feature sets remotely in a user's web browser using JavaScript so if we",
    "start": "860959",
    "end": "867880"
  },
  {
    "text": "can identify that information that's way more powerful than just simply looking at uh user",
    "start": "867880",
    "end": "875440"
  },
  {
    "text": "agent so let's do some custom resource",
    "start": "875440",
    "end": "879920"
  },
  {
    "text": "detection all right we're going to try and detect collusion hey there it is collusion was",
    "start": "886440",
    "end": "892680"
  },
  {
    "text": "detected what I'm doing here there's this Chrome extension URL that's being",
    "start": "892680",
    "end": "897720"
  },
  {
    "text": "generated and I can can go ahead and try and load content based on it and test whether that successfully",
    "start": "897720",
    "end": "904680"
  },
  {
    "text": "loads or not see there's kind of this restriction on same origin policy that applies which is a very core browser",
    "start": "904680",
    "end": "911040"
  },
  {
    "text": "concept that says you can request information and embeded on your web page",
    "start": "911040",
    "end": "916160"
  },
  {
    "text": "web page from a third party site but depending on the characteristics of it you can't interact with it you know it's",
    "start": "916160",
    "end": "921320"
  },
  {
    "text": "basically to prevent um malicious content from being directly embedded on your page um but the there's a a very",
    "start": "921320",
    "end": "929040"
  },
  {
    "text": "subtle distinction there is when you request like script content JavaScript content and execute it it's actually",
    "start": "929040",
    "end": "934279"
  },
  {
    "text": "running within the context of the the first party site so we're just loading this up as",
    "start": "934279",
    "end": "940399"
  },
  {
    "text": "script and detecting if there's a script are that occurs and we can say oh yes it's it's detected let's do the same",
    "start": "940399",
    "end": "946000"
  },
  {
    "text": "thing with Firefox and I do not have collusion",
    "start": "946000",
    "end": "950480"
  },
  {
    "text": "installed okay not detected great let's install it real quick here",
    "start": "951199",
    "end": "959240"
  },
  {
    "text": "yes there it's detected same thing this time I'm using the resource reference um",
    "start": "967480",
    "end": "972839"
  },
  {
    "text": "that's generated by the jetpack SDK and this is basically the API ID that's",
    "start": "972839",
    "end": "978600"
  },
  {
    "text": "assigned to the collusion plugin and then it mangles it with at jetpack and some",
    "start": "978600",
    "end": "984639"
  },
  {
    "text": "other garbage and resources can be loaded externally from uh untrust trusted content so once again another",
    "start": "984639",
    "end": "991160"
  },
  {
    "text": "way to further identify users based on installed uh extensions and",
    "start": "991160",
    "end": "998680"
  },
  {
    "text": "add-ons and you can also go through and you know enumerate all of the possible contents and develop you know vast list",
    "start": "999440",
    "end": "1006720"
  },
  {
    "text": "of all the different resources that are exposed and especially if it's a jetpack based one based on the SDK",
    "start": "1006720",
    "end": "1015160"
  },
  {
    "text": "information so active fingerprinting with plugins um plugins expose their own additional apis on top of what",
    "start": "1016399",
    "end": "1023160"
  },
  {
    "text": "JavaScript has and these can get very deep into the browser um into your",
    "start": "1023160",
    "end": "1028678"
  },
  {
    "text": "operating system so we can pull back detailed system information fonts and look at other installed plugins so I'm",
    "start": "1028679",
    "end": "1035240"
  },
  {
    "text": "going to show an example of uh using Adobe Acrobat PDF plugin to numerate",
    "start": "1035240",
    "end": "1041120"
  },
  {
    "text": "some data",
    "start": "1041120",
    "end": "1044319"
  },
  {
    "text": "so this is downloading a PDF from my site and pulls this data back now this",
    "start": "1051080",
    "end": "1058200"
  },
  {
    "text": "is you know being externally retrieved so I'm embedding this tracking",
    "start": "1058200",
    "end": "1063600"
  },
  {
    "text": "identifier um you can see environment information the plugins that adobe",
    "start": "1063600",
    "end": "1069440"
  },
  {
    "text": "has and if we scroll down we start to see uh information about Flash Windows",
    "start": "1069440",
    "end": "1075360"
  },
  {
    "text": "media and finally the list of printers so like if you had a networked a computer with network printers you would",
    "start": "1075360",
    "end": "1080840"
  },
  {
    "text": "see those list of printers here basically you know remote sites on the internet can list your printers your",
    "start": "1080840",
    "end": "1086480"
  },
  {
    "text": "local printers I think that's pretty interesting that's pretty",
    "start": "1086480",
    "end": "1091600"
  },
  {
    "text": "powerful and uh go back",
    "start": "1094640",
    "end": "1099760"
  },
  {
    "text": "here so tracking um the goal of tracking is essentially just to install some sort of",
    "start": "1099760",
    "end": "1105960"
  },
  {
    "text": "persist persistent tracking identifier and I wanted to be able to use this to correlate user activity over time um if",
    "start": "1105960",
    "end": "1113080"
  },
  {
    "text": "people are familiar with the ever cookie uh concept which was basically to take and St store stuff all all over and then",
    "start": "1113080",
    "end": "1120000"
  },
  {
    "text": "regenerate it kind of the Zombie Cookie idea well I don't I don't think that's a really a good approach I would rather",
    "start": "1120000",
    "end": "1126159"
  },
  {
    "text": "say I'm going to store what I can when I can store it and correlate it later so maybe you have data that's stored for a",
    "start": "1126159",
    "end": "1132320"
  },
  {
    "text": "long period of time and then you you can take and say oh well I saw this data I saw this ID now I can correlate it",
    "start": "1132320",
    "end": "1139799"
  },
  {
    "text": "too and another thing is to think of well this doesn't have to be transmitted on every request I can wait and transmit",
    "start": "1139799",
    "end": "1146480"
  },
  {
    "text": "it when it's convenient and finally you know you want to have redundancy across different storage types some browsers",
    "start": "1146480",
    "end": "1152440"
  },
  {
    "text": "offer more storage features than others so obviously the basic mechanism",
    "start": "1152440",
    "end": "1157480"
  },
  {
    "text": "is through browser cookies and kind of the the breakdown there is first party cookies so you go to a site installs",
    "start": "1157480",
    "end": "1163159"
  },
  {
    "text": "your first party cookie it tracks you um there's this idea of second party which is pages that dynamically generate",
    "start": "1163159",
    "end": "1169960"
  },
  {
    "text": "cookies through JavaScript and install those and finally third party which is you have content it requests something",
    "start": "1169960",
    "end": "1176039"
  },
  {
    "text": "from a third party site and a cookie is installed from that third party now there are certain limitations",
    "start": "1176039",
    "end": "1182360"
  },
  {
    "text": "around browsers uh like Safari has a restriction on you have to visit those third party sites before they can set a",
    "start": "1182360",
    "end": "1188440"
  },
  {
    "text": "cookie but once you visit them um you can always get that cookie HTML 5 storage um there's",
    "start": "1188440",
    "end": "1197280"
  },
  {
    "text": "way uh Divergent support across these different platforms local storage is the",
    "start": "1197280",
    "end": "1202559"
  },
  {
    "text": "best supported of everything um most modern browsers have some form of local storage but index DB and the file system",
    "start": "1202559",
    "end": "1209159"
  },
  {
    "text": "API are more modern uh developments but support varies and one of the problems",
    "start": "1209159",
    "end": "1216320"
  },
  {
    "text": "with some of these storage mechanisms is the users have to opt in they have to choose hey I want to let you store stuff",
    "start": "1216320",
    "end": "1222000"
  },
  {
    "text": "and if you're trying to track somebody you know fairly uh quietly you don't want to have them having to opt into",
    "start": "1222000",
    "end": "1227400"
  },
  {
    "text": "your tracking me mechanis M and another consideration is how long does the storage last like uh for the file system",
    "start": "1227400",
    "end": "1233840"
  },
  {
    "text": "API you can say well give me temporary uh data storage and that's going to last until it runs out of space on the user's",
    "start": "1233840",
    "end": "1241360"
  },
  {
    "text": "machine which and then then the information will be flushed so the browser cache is another",
    "start": "1241360",
    "end": "1248760"
  },
  {
    "text": "place to store identifiers um the best and most efficient way I've I've I've determined",
    "start": "1248760",
    "end": "1255960"
  },
  {
    "text": "is to store it directly in the content I know there's a lot of talk about using eag references and there have been",
    "start": "1255960",
    "end": "1261440"
  },
  {
    "text": "people that have actually deployed this in the wild but embedding the C the content in cash and setting a far future",
    "start": "1261440",
    "end": "1267520"
  },
  {
    "text": "C expiration date will keep it in your browser you can use EEG Zen In addition",
    "start": "1267520",
    "end": "1272760"
  },
  {
    "text": "to making it so that when requests to refresh that content are made and you",
    "start": "1272760",
    "end": "1277840"
  },
  {
    "text": "can control that through the cache control headers um like must revalidate um then you can correlate those values",
    "start": "1277840",
    "end": "1284320"
  },
  {
    "text": "because perhaps that EEG is modified uh or changed based on what the content is",
    "start": "1284320",
    "end": "1290640"
  },
  {
    "text": "or maybe you're doing versioning so you want to have versioning in information in that EEG there are also some very complicated",
    "start": "1290640",
    "end": "1297320"
  },
  {
    "text": "approaches which involve you know redirects through multiple DNS entries and then using like DNS DNS caching to",
    "start": "1297320",
    "end": "1304080"
  },
  {
    "text": "say oh well I can time how long it took to do that uh request so I know that they went through something that had",
    "start": "1304080",
    "end": "1309559"
  },
  {
    "text": "been DNS cached um embedded basic authentication references those are are",
    "start": "1309559",
    "end": "1315480"
  },
  {
    "text": "very fragile techniques and they it's it's hard to get good browser support across those and it's very limited to",
    "start": "1315480",
    "end": "1321400"
  },
  {
    "text": "the specific browser so plugins offer their own uh",
    "start": "1321400",
    "end": "1329039"
  },
  {
    "text": "storage so these these are very powerful because",
    "start": "1329039",
    "end": "1334440"
  },
  {
    "text": "they're cross browser and many of them uh aren't fully",
    "start": "1334440",
    "end": "1340080"
  },
  {
    "text": "integrated with the browser private modes back back uh several years ago none of them were so you could store",
    "start": "1340080",
    "end": "1346600"
  },
  {
    "text": "like flash cookies and when you went into to uh you like launched Incognito or private browsing those flash cookies",
    "start": "1346600",
    "end": "1353720"
  },
  {
    "text": "could still be read and written but a lot of work has been done by vendors to integrate these in into uh the private",
    "start": "1353720",
    "end": "1360320"
  },
  {
    "text": "browsing mode so that you're protected but there are still some left and they still work fairly well and another",
    "start": "1360320",
    "end": "1366600"
  },
  {
    "text": "interesting thing about these is these can be very difficult for users to detect because there's not like an obvious way uh for them to see that and",
    "start": "1366600",
    "end": "1374320"
  },
  {
    "text": "some of these demos I'm doing here are I I'll be perfectly honest they're not real world examples of how you would do",
    "start": "1374320",
    "end": "1380080"
  },
  {
    "text": "this because I want to show you this information that I'm collecting I if if it was just like a server up here running and you don't didn't see",
    "start": "1380080",
    "end": "1386159"
  },
  {
    "text": "anything it would be very uninteresting for",
    "start": "1386159",
    "end": "1389720"
  },
  {
    "text": "you so flash um local shared objects those are very popular that's what",
    "start": "1392039",
    "end": "1397440"
  },
  {
    "text": "everybody says oh flash cookies talking about local shared",
    "start": "1397440",
    "end": "1402720"
  },
  {
    "text": "objects there's also a remote shared object it's a different variation and it's actually stored in a different",
    "start": "1402720",
    "end": "1408799"
  },
  {
    "text": "location so if you have code written looking specifically for your lsos and they're looking forol they're not going",
    "start": "1408799",
    "end": "1415400"
  },
  {
    "text": "to finds which is where the remote objects are stored when you provide the optional uh caches information locally",
    "start": "1415400",
    "end": "1422080"
  },
  {
    "text": "normally remote objects are used to like Implement uh chat servers or something over the on the",
    "start": "1422080",
    "end": "1429120"
  },
  {
    "text": "internet and Flash is well integrated with the private browsing modes so when you enter and exit those uh the flash",
    "start": "1429120",
    "end": "1435440"
  },
  {
    "text": "cookies are are isolated so they're not readable or written and that applies both for the local and remote shared",
    "start": "1435440",
    "end": "1442080"
  },
  {
    "text": "objects and cross browser support is diverging um if people are familiar with chrome and the the pepper flash API",
    "start": "1442080",
    "end": "1449440"
  },
  {
    "text": "that's been implemented uh those are stored separately so you no longer have this cross browser uh readability",
    "start": "1449440",
    "end": "1455760"
  },
  {
    "text": "linkability so you know if you have Firefox open and Chrome on Linux 64-bit",
    "start": "1455760",
    "end": "1461520"
  },
  {
    "text": "uh they're going to be storing those shared objects in different locations so the first example is the",
    "start": "1461520",
    "end": "1466960"
  },
  {
    "text": "traditional you know ma media Flash Player shared objects uh then there's config Google Chrome default pepper data",
    "start": "1466960",
    "end": "1473200"
  },
  {
    "text": "shock wve flash rable route shared objects which is a mouthful so let's look at these real",
    "start": "1473200",
    "end": "1481440"
  },
  {
    "text": "quickly pull this up an",
    "start": "1483520",
    "end": "1487200"
  },
  {
    "text": "i okay so there's my C uh track ID that I've calculated and this is being done",
    "start": "1492919",
    "end": "1499080"
  },
  {
    "text": "through a remote shared object cached locally so if I come over here back to",
    "start": "1499080",
    "end": "1505200"
  },
  {
    "text": "back to Firefox this out of the way I",
    "start": "1505200",
    "end": "1511760"
  },
  {
    "text": "know uh open it up you're going to see the same",
    "start": "1511760",
    "end": "1517600"
  },
  {
    "text": "value is that side later get out of",
    "start": "1520000",
    "end": "1526679"
  },
  {
    "text": "here yeah okay so that's the remote shared object",
    "start": "1526840",
    "end": "1534120"
  },
  {
    "text": "and there's this this uh Firefox extension add-on called better privacy",
    "start": "1534120",
    "end": "1539159"
  },
  {
    "text": "and that was like one of the early ones that started uh dumping your flash cookies and uh if we install that here",
    "start": "1539159",
    "end": "1544720"
  },
  {
    "text": "real quick we're going to see that it detects lsos and then deletes",
    "start": "1544720",
    "end": "1552720"
  },
  {
    "text": "them but it does is not going to detect this guy here so if I close the",
    "start": "1552720",
    "end": "1557799"
  },
  {
    "text": "browser it closes it would say oh if this was an lso it'll delete it yes okay I say I see you have one lso cookie I'm",
    "start": "1557799",
    "end": "1564039"
  },
  {
    "text": "going to remove",
    "start": "1564039",
    "end": "1567519"
  },
  {
    "text": "okay but if we come back and look at that that's still there that that that cookie still that tracking identifier is",
    "start": "1569159",
    "end": "1575480"
  },
  {
    "text": "still being stored locally um and you know obviously that matches up with the the the one an",
    "start": "1575480",
    "end": "1584520"
  },
  {
    "text": "ie those are the same and these are really long because I what I ended up",
    "start": "1585919",
    "end": "1591120"
  },
  {
    "text": "doing was saying part of part of the problem with the current implementations are you you can't verify these tracking",
    "start": "1591120",
    "end": "1596720"
  },
  {
    "text": "IDs so I append an hmac value to the end of it so that when I generate it on my server I know that any values I get back",
    "start": "1596720",
    "end": "1603559"
  },
  {
    "text": "have to be valid or I'm going to just dump them that way it keeps people from poisoning your tracking identification",
    "start": "1603559",
    "end": "1610880"
  },
  {
    "text": "information uh silver light um I guess silver light's still around it does does",
    "start": "1613200",
    "end": "1618399"
  },
  {
    "text": "work uh it has isolated storage and that's implemented by the silver light runtime and it's localized to your",
    "start": "1618399",
    "end": "1625520"
  },
  {
    "text": "application user and there's a limited amount of data that's stored there I looked at using uh zap loading",
    "start": "1625520",
    "end": "1634360"
  },
  {
    "text": "to try and cache information but those are cached by the browser so it's pretty limited on the information that you can",
    "start": "1634360",
    "end": "1639840"
  },
  {
    "text": "store in there and there's some other features called satellites and on- demand loading and those seem to offer limited benefit as",
    "start": "1639840",
    "end": "1646440"
  },
  {
    "text": "well and there's decent cross browser support when it's installed and enabled Java is very interesting because",
    "start": "1646440",
    "end": "1654039"
  },
  {
    "text": "it implements its own download cache completely separate from the browser so if you can uh cach values with far",
    "start": "1654039",
    "end": "1660440"
  },
  {
    "text": "future dates when that applets downloaded and stored locally it's never requested unless the date expires or",
    "start": "1660440",
    "end": "1667440"
  },
  {
    "text": "it's deleted and that's not an you know easy location to find and you have to go in and delete these this information",
    "start": "1667440",
    "end": "1673440"
  },
  {
    "text": "manually the applets that are downloaded can read directly from these embedded resource streams so they can embed",
    "start": "1673440",
    "end": "1680640"
  },
  {
    "text": "tracking identifiers in within themselves and then use those for a long period of time and this is not at all",
    "start": "1680640",
    "end": "1686360"
  },
  {
    "text": "integrated with uh private browsing so doesn't work period And there's usually",
    "start": "1686360",
    "end": "1691760"
  },
  {
    "text": "excellent cross browser support but that's when Java works and I'll show you some airor messages I got because I did",
    "start": "1691760",
    "end": "1697279"
  },
  {
    "text": "like a fresh install of Windows 7 and this was trying to get Java working in all these different browsers just crashed all over the place",
    "start": "1697279",
    "end": "1704760"
  },
  {
    "text": "some of these want you to prompt in uh Chrome's a little schizophrenic about when it lets Java run automatically and",
    "start": "1704760",
    "end": "1709840"
  },
  {
    "text": "when it doesn't so I'm going to demo these and you'll notice I'm going to demo these using two",
    "start": "1709840",
    "end": "1715720"
  },
  {
    "text": "browsers that I know",
    "start": "1715720",
    "end": "1718600"
  },
  {
    "text": "work so we're going to come over here and open this up Java persistent tracking",
    "start": "1723600",
    "end": "1730799"
  },
  {
    "text": "Firefox okay so we have this red 7908",
    "start": "1730799",
    "end": "1736760"
  },
  {
    "text": "value open oops Opera see what it says oh once again",
    "start": "1736760",
    "end": "1744200"
  },
  {
    "text": "7908 very good now let's come back here and we're going to start private",
    "start": "1744200",
    "end": "1750840"
  },
  {
    "text": "browsing so normally you'd think oh it's it's everything's cool they're not going to be able to store any information read",
    "start": "1751600",
    "end": "1756960"
  },
  {
    "text": "any information but that's not true because if we click on this we're going to see up there it is 798 same value",
    "start": "1756960",
    "end": "1763360"
  },
  {
    "text": "private browsing completely bypassed so when you have Java installed uh it's",
    "start": "1763360",
    "end": "1768600"
  },
  {
    "text": "very very easy for somebody to store a tracking identifier you'd never really know because if we come in here and look",
    "start": "1768600",
    "end": "1775679"
  },
  {
    "text": "um there's this I have a JV shortcut here but usually you have to dig into the control panel it's probably going to be hard to see um but if you look in",
    "start": "1775679",
    "end": "1783080"
  },
  {
    "text": "temporary internet files which is its own separate uh location there it is",
    "start": "1783080",
    "end": "1788519"
  },
  {
    "text": "tracker loaded from my demo site here and that expires and I just set it for",
    "start": "1788519",
    "end": "1794000"
  },
  {
    "text": "one year just for for testing but you could set it for 50 years or whatever whatever",
    "start": "1794000",
    "end": "1800039"
  },
  {
    "text": "supports Adobe Acrobat um it has its own persistent storage mechanism for Global",
    "start": "1803559",
    "end": "1809159"
  },
  {
    "text": "values called set persistent uh so when that runs you can go ahead and store a value it's very simple name value pairs",
    "start": "1809159",
    "end": "1815240"
  },
  {
    "text": "but obviously uh that's good enough for us because we're just going to be storing these fairly long but not",
    "start": "1815240",
    "end": "1820840"
  },
  {
    "text": "complicated numbers and there's some kind of mixed integration with private browsing modes and I think it has to do",
    "start": "1820840",
    "end": "1826320"
  },
  {
    "text": "with when this global data gets flushed out to dis uh cuz it seems like it gets overwritten and if you switch a PR into",
    "start": "1826320",
    "end": "1831559"
  },
  {
    "text": "private browsing mode it just gets kind of corrupted so it's it's questionable and the other thing is that browsers are",
    "start": "1831559",
    "end": "1837600"
  },
  {
    "text": "moving to their own native PDF displays so this probably won't be around for long but I mean there's still a pretty",
    "start": "1837600",
    "end": "1842640"
  },
  {
    "text": "large install base of Adobe",
    "start": "1842640",
    "end": "1846919"
  },
  {
    "text": "Acrobat let's go ahead and leave Private Browsing mode same B",
    "start": "1852039",
    "end": "1859000"
  },
  {
    "text": "um so let's pull this up in IE and this is the same we we did this",
    "start": "1859000",
    "end": "1866279"
  },
  {
    "text": "earlier with Firefox and we're going to go ahead and see the same value come",
    "start": "1866279",
    "end": "1872440"
  },
  {
    "text": "up there's this tracking ID that I've installed in Internet Explorer and then there's the stored one",
    "start": "1872440",
    "end": "1878200"
  },
  {
    "text": "7908 that's being stored locally set before in a Firefox once again same",
    "start": "1878200",
    "end": "1884679"
  },
  {
    "text": "detailed information um so that's that's very very powerful to be able to pull",
    "start": "1884679",
    "end": "1891440"
  },
  {
    "text": "that",
    "start": "1891440",
    "end": "1893600"
  },
  {
    "text": "out um there's other storage mechanisms available such as the user data which is an Internet Explorer specific uh value",
    "start": "1897840",
    "end": "1906320"
  },
  {
    "text": "web SQL database was going to be the the database using sqlite but that's kind of Fallen by the wayside but there's still",
    "start": "1906320",
    "end": "1912840"
  },
  {
    "text": "I think pretty decent implementation especially within Safari so that that is something definitely to consider when",
    "start": "1912840",
    "end": "1918360"
  },
  {
    "text": "you're You're Building tracking so unmasking unmasking is you know",
    "start": "1918360",
    "end": "1925120"
  },
  {
    "text": "techniques to to try and determine user's real IP address um because some people want to hide their IP address",
    "start": "1925120",
    "end": "1930960"
  },
  {
    "text": "especially like if they're you know uh you could call them Bad actors and your",
    "start": "1930960",
    "end": "1936399"
  },
  {
    "text": "definition of bad actor may vary depending on who you're talking about because it may be some uh bad guy on the",
    "start": "1936399",
    "end": "1941600"
  },
  {
    "text": "Internet or it could be somebody that you don't really like very much um and there's many ways to do this",
    "start": "1941600",
    "end": "1948320"
  },
  {
    "text": "uh network proxies uh VPN tunnels you know just very simple web CGI",
    "start": "1948320",
    "end": "1953399"
  },
  {
    "text": "proxies so what we want to try and do is force a direct Conn connection bypass",
    "start": "1953399",
    "end": "1958960"
  },
  {
    "text": "that proxy and we have lots of options to do that especially if we can then correlate that with additional",
    "start": "1958960",
    "end": "1965600"
  },
  {
    "text": "information um so there's a few few things that we want to do we want to detect known proxies you know if if a",
    "start": "1965600",
    "end": "1971600"
  },
  {
    "text": "user is using a proxy we can probably categorize them as a certain type of person whether if it's tour you know",
    "start": "1971600",
    "end": "1977159"
  },
  {
    "text": "they're one one type of user um maybe they're using a web proxy to attack your website so if you can say oh I see that",
    "start": "1977159",
    "end": "1984519"
  },
  {
    "text": "they're using a web proxy you know is that malicious intent and there's lots of ways to do",
    "start": "1984519",
    "end": "1990279"
  },
  {
    "text": "that one of them is to request magic URLs you know these proxies Implement their own internal URL structure uh to",
    "start": "1990279",
    "end": "1996919"
  },
  {
    "text": "provide support for the users that are using the proxies especially ones that are local browser proxies uh Network",
    "start": "1996919",
    "end": "2003200"
  },
  {
    "text": "proxies as well like squid it has its own internal URL structure that you can request remotely you know that's and",
    "start": "2003200",
    "end": "2009600"
  },
  {
    "text": "read the responses back and and using xmlhttp requests especially for anything that's same origin um is very good",
    "start": "2009600",
    "end": "2017799"
  },
  {
    "text": "another way is to use you know as we saw before which was embedded script to you know try and generate an air or load",
    "start": "2017799",
    "end": "2023320"
  },
  {
    "text": "script content to see did it successfully load um websockets are another option there's kind of limited",
    "start": "2023320",
    "end": "2030200"
  },
  {
    "text": "proxy support for websockets currently so if you can say oh I should be able to make a websockets request but I can't um",
    "start": "2030200",
    "end": "2036679"
  },
  {
    "text": "perhaps there's a proxy in the middle so let's look at some proxy",
    "start": "2036679",
    "end": "2043000"
  },
  {
    "text": "detection do Chrome and I'm trying to mix up the browsers that I use so I don't feel like I'm picking on one cuz",
    "start": "2045080",
    "end": "2051760"
  },
  {
    "text": "you know this stuff works everywhere so what I did is I requested",
    "start": "2051760",
    "end": "2057320"
  },
  {
    "text": "this uh HTTP burp z0 which is you know as I said I'm going through burp",
    "start": "2057320",
    "end": "2063560"
  },
  {
    "text": "um and if you ever looked at that it's like a a list of web websites that you",
    "start": "2063560",
    "end": "2069520"
  },
  {
    "text": "visited so I'm loading that content getting an air back from JavaScript and saying oh I see you have burp installed",
    "start": "2069520",
    "end": "2075878"
  },
  {
    "text": "because I wouldn't get no error if you didn't have burp installed because it would say burp isn't a valid domain name",
    "start": "2075879",
    "end": "2082560"
  },
  {
    "text": "and nothing would happen we do that in IE just so you see",
    "start": "2082560",
    "end": "2089839"
  },
  {
    "text": "it works there yep detected",
    "start": "2089839",
    "end": "2095760"
  },
  {
    "text": "so all of this is kind of just you know basic information gathering about the user and the type of environment that",
    "start": "2099119",
    "end": "2104240"
  },
  {
    "text": "they have uh what then we want to do is move beyond that to like proxy bypasses",
    "start": "2104240",
    "end": "2109800"
  },
  {
    "text": "so that we can use built-in functionality of the plug-in content or browser features that will bypass the",
    "start": "2109800",
    "end": "2116000"
  },
  {
    "text": "proxy and so I've been kind of watching this uh content site policy for a while because there used to be this limitation",
    "start": "2116000",
    "end": "2122280"
  },
  {
    "text": "that it could be had to be same origin or TLD plus one for reports and if you're not familiar with that uh they've",
    "start": "2122280",
    "end": "2128920"
  },
  {
    "text": "changed the the working draft has changed how that functionality is and chrome has implemented it I think I'm",
    "start": "2128920",
    "end": "2134800"
  },
  {
    "text": "I'm still waiting for Firefox but basically you can send those reports anywhere so in the CGI style proxy um",
    "start": "2134800",
    "end": "2141119"
  },
  {
    "text": "that's just the one where you go to some website like hide my ass or I I don't want to pick on anybody specific but",
    "start": "2141119",
    "end": "2146560"
  },
  {
    "text": "it's where you punch it in on a website you don't have a network device or network uh socket running",
    "start": "2146560",
    "end": "2152040"
  },
  {
    "text": "uh so then you go there and uh it rewrites all the content and displays it back to you and it's very simple but it",
    "start": "2152040",
    "end": "2158480"
  },
  {
    "text": "has to rewrite everything if it misses anything uh then you can use those content requests to go and find it find",
    "start": "2158480",
    "end": "2163880"
  },
  {
    "text": "out about the user's true IP address and if the if these CGI style proxies don't rewrite the header content because uh",
    "start": "2163880",
    "end": "2171400"
  },
  {
    "text": "content site policy is transmitted in Header information uh then you can send these report URLs and they will uh",
    "start": "2171400",
    "end": "2178680"
  },
  {
    "text": "bypass the user's proxy and I would love to do a demo but given all the problems I've had I'm not going to try and",
    "start": "2178680",
    "end": "2183720"
  },
  {
    "text": "connect to the internet and do one live if I have time at the end I'll do it so you can see it works um plugins and",
    "start": "2183720",
    "end": "2190760"
  },
  {
    "text": "proxies uh plugins have a very you know complicated relationship with proxies",
    "start": "2190760",
    "end": "2196200"
  },
  {
    "text": "depending on if it's set at the the uh operating system layer if it's configured in your web browser um some",
    "start": "2196200",
    "end": "2202520"
  },
  {
    "text": "proxies you can be bypassed directly others are uh controlled when you create",
    "start": "2202520",
    "end": "2207640"
  },
  {
    "text": "the connection requests so there's lots of U DNS",
    "start": "2207640",
    "end": "2213160"
  },
  {
    "text": "leakage is a big problem because these proxies do DNS lookups they unless they're socks aware they're going to do",
    "start": "2213160",
    "end": "2218599"
  },
  {
    "text": "the DNS lookup themselves um and media requests or many of them don't respect",
    "start": "2218599",
    "end": "2223720"
  },
  {
    "text": "your host machine settings so you can go ahead and bypass that information and make a direct connection and unless you",
    "start": "2223720",
    "end": "2230160"
  },
  {
    "text": "have set up some sort of uh local firewall that egress firewall that restricts all of this uh that",
    "start": "2230160",
    "end": "2235520"
  },
  {
    "text": "information is going to get through and even in a minimum let's say DNS that would be if not your machine it would be",
    "start": "2235520",
    "end": "2241680"
  },
  {
    "text": "your host uh ISP machine that's probably doing the resolution unless you're like using Google DNS so so that's a very",
    "start": "2241680",
    "end": "2249359"
  },
  {
    "text": "very another good way to kind of categorize users and some plugins have",
    "start": "2249359",
    "end": "2254480"
  },
  {
    "text": "direct uh ability to bypass this using binary socket protocols uh you can Implement those in Flash silver light",
    "start": "2254480",
    "end": "2261640"
  },
  {
    "text": "and Java so let's look at this uh flash rtmp",
    "start": "2261640",
    "end": "2268839"
  },
  {
    "text": "connection and I'm going to use",
    "start": "2268839",
    "end": "2272440"
  },
  {
    "text": "Opera once again this is loading up that remote object we've seen this",
    "start": "2275720",
    "end": "2282359"
  },
  {
    "text": "before but what I want to focus on is this uh connection here that I made out",
    "start": "2282359",
    "end": "2287839"
  },
  {
    "text": "to this tracked it failed because I don't have the rtmp service implemented yet but it it it still makes the",
    "start": "2287839",
    "end": "2294480"
  },
  {
    "text": "connection if we come over and look we probably have all sorts of junk in here but yes",
    "start": "2294480",
    "end": "2301800"
  },
  {
    "text": "there's actually this connection right here and my fake rmtp server got a",
    "start": "2301800",
    "end": "2308240"
  },
  {
    "text": "direct connection and bypassed that proxy that you know we're running through that burp proxy it bypassed that and made a direct",
    "start": "2308240",
    "end": "2315920"
  },
  {
    "text": "connection so what are some uh you know more aggressive approaches and these are kind of the",
    "start": "2318680",
    "end": "2324599"
  },
  {
    "text": "things that you do when you detect like a really malicious person or a bad actor um because they're really a direct",
    "start": "2324599",
    "end": "2331040"
  },
  {
    "text": "violation of users privacy so you could do things like um",
    "start": "2331040",
    "end": "2337480"
  },
  {
    "text": "capture keystrokes as they type you know I'm I'm sure you've seen demos of cross-site scripting stuff that does",
    "start": "2337480",
    "end": "2343000"
  },
  {
    "text": "this but if you had a local proxy that transparent proxy that was injecting",
    "start": "2343000",
    "end": "2348040"
  },
  {
    "text": "that content into responses you could do that for your entire environment if you were in like a corporate environment so",
    "start": "2348040",
    "end": "2353240"
  },
  {
    "text": "you you wouldn't ever have to see even data sent over secure connections if you could poison JavaScript files that got",
    "start": "2353240",
    "end": "2359440"
  },
  {
    "text": "included um you know you could do more social type attacks monitoring clicks and likes on social network",
    "start": "2359440",
    "end": "2366240"
  },
  {
    "text": "badges uh do Port scanning with local machines and local network Java is very good for that there's some very",
    "start": "2366240",
    "end": "2372359"
  },
  {
    "text": "interesting uh you know Technologies around can you enumerate local local uh",
    "start": "2372359",
    "end": "2378200"
  },
  {
    "text": "locally bound ports and then obviously just embed additional exploits but you know that's",
    "start": "2378200",
    "end": "2383760"
  },
  {
    "text": "that's pretty mean so what are some complications to all this because you know this uh private browsing modes you know",
    "start": "2383760",
    "end": "2391400"
  },
  {
    "text": "those do work pretty well most of the time uh cookies should not be persisted when you enter and exit your private",
    "start": "2391400",
    "end": "2397680"
  },
  {
    "text": "browsing mode and content that's read or stored from existing cache shouldn't be available so that's kind of the user's",
    "start": "2397680",
    "end": "2404560"
  },
  {
    "text": "expectation um so how can we defeat these well if possible we should correlate the cookie and Page contents",
    "start": "2404560",
    "end": "2410200"
  },
  {
    "text": "when it's switching from one to the other and um use plug-in support to enable cross browser Communications and",
    "start": "2410200",
    "end": "2417079"
  },
  {
    "text": "uh correlate those values and cross reference them so see ah Safari private browser so",
    "start": "2417079",
    "end": "2425240"
  },
  {
    "text": "Safari and and maybe I will so like why do you hate Safari uh let's see not the right one",
    "start": "2425240",
    "end": "2435040"
  },
  {
    "text": "there we go that bigger for you guys so Safari is much different in its",
    "start": "2435040",
    "end": "2440800"
  },
  {
    "text": "prate private browsing mode implementation than all the other browsers um and it doesn't launch a new session for you uh all it does is it",
    "start": "2440800",
    "end": "2448359"
  },
  {
    "text": "says I'm going to dump your cookie jar and I'm not going to record any content that you any content that added to cash",
    "start": "2448359",
    "end": "2454680"
  },
  {
    "text": "so it's much different than all the other ones you know that like incognito mode that's going to launch a completely separate browser instance completely",
    "start": "2454680",
    "end": "2461160"
  },
  {
    "text": "clean session uh Firefox is even better because it launches only a new private",
    "start": "2461160",
    "end": "2467200"
  },
  {
    "text": "browsing mode so let's go ahead and try this out",
    "start": "2467200",
    "end": "2473040"
  },
  {
    "text": "so we have this uh cookie here that we've set now your user expectation when you",
    "start": "2473040",
    "end": "2481000"
  },
  {
    "text": "say uh private browsing okay your your private browsing history is private okay",
    "start": "2481000",
    "end": "2487359"
  },
  {
    "text": "okay yeah sure well what I did is I have JavaScript running on that page that says oh when I see your cookie jars",
    "start": "2487359",
    "end": "2493359"
  },
  {
    "text": "cleared I just repopulate that information in there that that's it and it doesn't",
    "start": "2493359",
    "end": "2498760"
  },
  {
    "text": "clear history so you can do like uh history modifications using push dat you",
    "start": "2498760",
    "end": "2504359"
  },
  {
    "text": "can track people through these things it's just it's almost I wouldn't want to say it's fake but it just doesn't seem",
    "start": "2504359",
    "end": "2510960"
  },
  {
    "text": "real so just something to be aware",
    "start": "2510960",
    "end": "2515280"
  },
  {
    "text": "of uh my favorite local connections so local connections are implemented in both Flash and silver",
    "start": "2516000",
    "end": "2524520"
  },
  {
    "text": "light and uh let's get back here get got a private browsing mode yes oh and by",
    "start": "2524520",
    "end": "2531280"
  },
  {
    "text": "the way I could also have implemented that same technique in priv I should try that let's really tempt the demo God",
    "start": "2531280",
    "end": "2537720"
  },
  {
    "text": "here in private browsing mode wait before I do that I'm going to stop I'm going to stop watching stopped okay",
    "start": "2537720",
    "end": "2545440"
  },
  {
    "text": "start private browsing mode yes okay I got a new cookie let's start",
    "start": "2545440",
    "end": "2553430"
  },
  {
    "text": "[Applause] it and see if when we switch",
    "start": "2553430",
    "end": "2559000"
  },
  {
    "text": "out so yeah that cookie got persisted from private browsing mode back",
    "start": "2559079",
    "end": "2565680"
  },
  {
    "text": "out that's pretty scary so anyway back to",
    "start": "2565680",
    "end": "2571079"
  },
  {
    "text": "our uh plugins Flash and",
    "start": "2571079",
    "end": "2578760"
  },
  {
    "text": "Flash and silver light have local connections and these are designed to oops allow",
    "start": "2580880",
    "end": "2587078"
  },
  {
    "text": "communication I want stop that is not what I wanted I just",
    "start": "2587559",
    "end": "2593359"
  },
  {
    "text": "wanted like a little bit not a lot so these these are designed to allow",
    "start": "2593359",
    "end": "2599359"
  },
  {
    "text": "your Communications between like in the case of flash uh between your uh flash applet and uh an eror application",
    "start": "2599359",
    "end": "2607640"
  },
  {
    "text": "running locally that's that's the concept but what actually happens is it can communicate between your flash",
    "start": "2607640",
    "end": "2613599"
  },
  {
    "text": "applet and your flash applet in your private browsing mode or maybe in another browser completely so uh let's",
    "start": "2613599",
    "end": "2619680"
  },
  {
    "text": "try that out so I'm do this send okay oh there's our old tracking",
    "start": "2619680",
    "end": "2626599"
  },
  {
    "text": "identifier that's pretty cool let's go ahead and switch over to Private Browsing mode in",
    "start": "2626599",
    "end": "2633880"
  },
  {
    "text": "Firefox and now if we do receive that's going to go ahead and do a connect and it's going to start",
    "start": "2635559",
    "end": "2641720"
  },
  {
    "text": "listening and this the send is beaconing out these values so we can come over here",
    "start": "2641720",
    "end": "2649480"
  },
  {
    "text": "and start listening here oh there it is too what about what",
    "start": "2649480",
    "end": "2655640"
  },
  {
    "text": "about Chrome I bet it works too Chrome's a little complicated because uh when",
    "start": "2655640",
    "end": "2662079"
  },
  {
    "text": "it's separate when it's using the pepper flash API versus the other one it doesn't seem like the communications work proper ly so if you're in that",
    "start": "2662079",
    "end": "2669400"
  },
  {
    "text": "situation you can still do it um still track from Incognito or from a regular",
    "start": "2669400",
    "end": "2675119"
  },
  {
    "text": "browsing session and Incognito because if we come over and we do a open a new incognito window it's going to be the",
    "start": "2675119",
    "end": "2681160"
  },
  {
    "text": "same thing so once again beaconing between browsers sharing a tracking identifier and then once you do this",
    "start": "2681160",
    "end": "2687760"
  },
  {
    "text": "like in a real world example you wouldn't display it to the user you'd correlate this by sending it off to a website and that way then if a user had",
    "start": "2687760",
    "end": "2695480"
  },
  {
    "text": "said oh well I'm only going to use internet Explorer for um sensitive personal financial information I'm going",
    "start": "2695480",
    "end": "2701880"
  },
  {
    "text": "to use Firefox and private browsing for other stuff thinking that they can have separate profiles you could use this",
    "start": "2701880",
    "end": "2708599"
  },
  {
    "text": "then to cross reference and correlate those two sets of activities if they were coming to your website or if it was",
    "start": "2708599",
    "end": "2715079"
  },
  {
    "text": "like in a more networked environment where you were tracking everything all the time so I think that's pretty cool I",
    "start": "2715079",
    "end": "2721760"
  },
  {
    "text": "I mean I don't know did you expect your browsers to be able to communicate",
    "start": "2721760",
    "end": "2727480"
  },
  {
    "text": "I mean really okay I surprised me and uh and sver light same thing so",
    "start": "2727520",
    "end": "2735559"
  },
  {
    "text": "we'll set up this receiver come over here I'm not even keeping track of these",
    "start": "2735559",
    "end": "2742680"
  },
  {
    "text": "send what are we going to get yep there we go so you can see that these guys can",
    "start": "2742680",
    "end": "2751680"
  },
  {
    "text": "communicate once again two browsers communicating you can do this through",
    "start": "2751760",
    "end": "2757119"
  },
  {
    "text": "private browsing or not private browsing it doesn't make any",
    "start": "2757119",
    "end": "2761480"
  },
  {
    "text": "difference uh Internet Explorer has this interesting concept called tracking protection lists uh and these are",
    "start": "2765599",
    "end": "2772040"
  },
  {
    "text": "basically maintained by Third parties and they come up with this big long block Blacklist of sites to block um and",
    "start": "2772040",
    "end": "2778599"
  },
  {
    "text": "this restricts the content loaded on page the idea being that you can prevent people from tracking you if they can",
    "start": "2778599",
    "end": "2784079"
  },
  {
    "text": "never display their content but there's two two really big ways to defeat this the first being you can always manually",
    "start": "2784079",
    "end": "2790480"
  },
  {
    "text": "navigate a user's web browser to a third party site you just can't so if you can manually navigate their browser to that",
    "start": "2790480",
    "end": "2796720"
  },
  {
    "text": "site and that site coordinates with your site well then you can do whatever you want so let's say I'm going to send them",
    "start": "2796720",
    "end": "2802440"
  },
  {
    "text": "to an advertising site display the ad there and then come back well that advertising site can install any",
    "start": "2802440",
    "end": "2807680"
  },
  {
    "text": "tracking identifiers cookies whatever that it wants and then you can also use plugins to Lo load content from Block",
    "start": "2807680",
    "end": "2813960"
  },
  {
    "text": "locations you could either do it through like a bootstrapped approach where you had your first party site could have",
    "start": "2813960",
    "end": "2819480"
  },
  {
    "text": "Shockwave Flash file loaded and it could do binary Communications or it appears",
    "start": "2819480",
    "end": "2824559"
  },
  {
    "text": "in all my testing that you can do it from third party sites as well and I'm going to go ahead and demo that here so",
    "start": "2824559",
    "end": "2831280"
  },
  {
    "text": "basically these tracking protection lists I'm get in the right web browser are very simple text",
    "start": "2831280",
    "end": "2839720"
  },
  {
    "text": "files and I'm trying to block this whole domain this third party. example and tracker. third party party example",
    "start": "2839720",
    "end": "2847480"
  },
  {
    "text": "um to say you can't load any content so you have to install these",
    "start": "2847480",
    "end": "2855040"
  },
  {
    "text": "manually and this is also the way that in I9 uh do not track is",
    "start": "2855040",
    "end": "2860319"
  },
  {
    "text": "implemented add this list okay awesome now let's go actually see what happens if I try and reference",
    "start": "2860319",
    "end": "2866960"
  },
  {
    "text": "this third party site okay there's some content that got blocked I have this if frame up here I",
    "start": "2866960",
    "end": "2873280"
  },
  {
    "text": "have an image and you can see there's that little blue Marky thing on there but I loaded this flash content once",
    "start": "2873280",
    "end": "2879640"
  },
  {
    "text": "again a remote tracking guy directly from that third party site uh completely bypassing any of the the protections",
    "start": "2879640",
    "end": "2886319"
  },
  {
    "text": "that it appears to offer so if we look we can see that Network traffic I'm sorry this is probably small reload this",
    "start": "2886319",
    "end": "2893440"
  },
  {
    "text": "page and you can see that these third party examples down here um are getting",
    "start": "2893440",
    "end": "2898960"
  },
  {
    "text": "blocked they're aborted the connections are never made but if we look down at the bottom this flash guy there is",
    "start": "2898960",
    "end": "2904880"
  },
  {
    "text": "loaded so I don't",
    "start": "2904880",
    "end": "2910359"
  },
  {
    "text": "know um third party cookie restrictions those are pretty interesting uh Safari was the big one I'm sure you've heard",
    "start": "2913640",
    "end": "2919079"
  },
  {
    "text": "about Google having to pay like a couple million dollars or $22 million or some crazy thing um they bypass the the the",
    "start": "2919079",
    "end": "2926079"
  },
  {
    "text": "Safari protections but you once again you can use the know and workarounds which is to",
    "start": "2926079",
    "end": "2931319"
  },
  {
    "text": "simulate user activity like navigate their their their uh browser to that site and then go back that'll set the",
    "start": "2931319",
    "end": "2937240"
  },
  {
    "text": "cookie um and another way to do it is to use cross domain uh post message to pass the cookies and then store that",
    "start": "2937240",
    "end": "2943240"
  },
  {
    "text": "information in local storage and I don't know if anybody here uses stack Overflow or or not but that's their",
    "start": "2943240",
    "end": "2948720"
  },
  {
    "text": "authentication mechanism their single signup mechanism is based on that concept completely getting away from",
    "start": "2948720",
    "end": "2954480"
  },
  {
    "text": "cookies and storing it only in local storage and using uh post message to",
    "start": "2954480",
    "end": "2959559"
  },
  {
    "text": "coordinate you can also augment that by storing cookies first party from that",
    "start": "2959559",
    "end": "2965760"
  },
  {
    "text": "site so let's see if this works Works uh",
    "start": "2965760",
    "end": "2971799"
  },
  {
    "text": "Safari now you should see this third party example says this stuff and I'm sorry I can't make that bigger um and",
    "start": "2975640",
    "end": "2983040"
  },
  {
    "text": "local tracking ID is null let's try and load this page again",
    "start": "2983040",
    "end": "2988440"
  },
  {
    "text": "okay and that's all been populated and stored and this is once again coming from that third party site so that",
    "start": "2988440",
    "end": "2994280"
  },
  {
    "text": "should be restricted there should be no reason that they could that information but you",
    "start": "2994280",
    "end": "2999880"
  },
  {
    "text": "can't uh do not trap uh I would describe that as probably one of the biggest practical jokes played on anybody I mean",
    "start": "3002400",
    "end": "3009000"
  },
  {
    "text": "if you had to describe that to your mom you'd say she ask you what's it do you say it does nothing you're asking people",
    "start": "3009000",
    "end": "3014040"
  },
  {
    "text": "that want to track you not to track you it's like pretty pre please um and that's why I always call it the don't track me broe header because that's",
    "start": "3014040",
    "end": "3020040"
  },
  {
    "text": "basically what it is don't track me bro that's all you get there's no technical restrictions I mean it's just",
    "start": "3020040",
    "end": "3027359"
  },
  {
    "text": "and the protocols that aren't HTTP you know it gets sent in a HTP header so I don't think they're going to go retrofit",
    "start": "3027359",
    "end": "3033040"
  },
  {
    "text": "FTP with do not track that's just not going to happen so finally tracking server um",
    "start": "3033040",
    "end": "3041960"
  },
  {
    "text": "that's what I've been working on and all of these demos and these are just demos that you've seen here um and I did that",
    "start": "3041960",
    "end": "3048520"
  },
  {
    "text": "specifically because it's impossible to have anything interesting to show if it's just like a a a web service but",
    "start": "3048520",
    "end": "3054559"
  },
  {
    "text": "basically what I I want to do is create a suitable environment to track web users and I want to give this to people so they can deploy it and do it and the",
    "start": "3054559",
    "end": "3062640"
  },
  {
    "text": "approach I took was to be as insecure and open as possible which means if you actually do this you don't ever want to",
    "start": "3062640",
    "end": "3067799"
  },
  {
    "text": "do this on your like a real first-party domain site because it will respond to any request and it'll expose any data",
    "start": "3067799",
    "end": "3074040"
  },
  {
    "text": "that it's stored within the context of the user",
    "start": "3074040",
    "end": "3079480"
  },
  {
    "text": "session so so here are some existing sites and basically what I've done is taken my own research and I'm going",
    "start": "3079920",
    "end": "3085920"
  },
  {
    "text": "through these and I'm going to implement what works from them and what doesn't um because they have a lot of drawbacks the",
    "start": "3085920",
    "end": "3091240"
  },
  {
    "text": "metas sploit decloaking engine was was for a time probably the best way to do some of this stuff especially unmasking",
    "start": "3091240",
    "end": "3097680"
  },
  {
    "text": "uh but it had an API approach to it but since rapid 7 acquired them it's kind of",
    "start": "3097680",
    "end": "3103319"
  },
  {
    "text": "fallen on hard times I think the Wild Card DNS domain that it used doesn't work anymore stuff like",
    "start": "3103319",
    "end": "3110240"
  },
  {
    "text": "that and part of the problem with some of these existing sites is you're really trusting them if they do offer any sort",
    "start": "3110240",
    "end": "3115720"
  },
  {
    "text": "of storage uh to store your data for you and that's just like a bad idea uh you don't really have any idea of how uh the",
    "start": "3115720",
    "end": "3122599"
  },
  {
    "text": "formats are stored how comprehensive they are and some of the features like what you've seen here today are a little more than proof of concept but I'm",
    "start": "3122599",
    "end": "3128960"
  },
  {
    "text": "really my big push is to move beyond that so I designed this with correlation",
    "start": "3128960",
    "end": "3134480"
  },
  {
    "text": "in mind uh the tracking tokens are probably going to be cleared over time so you want to have the ability to correlate easily um and your",
    "start": "3134480",
    "end": "3141079"
  },
  {
    "text": "fingerprinting may not yield unique results um so you want to be able to collect and cross reference all the",
    "start": "3141079",
    "end": "3146799"
  },
  {
    "text": "collected data um and the larger your network view the more effective this would be so like if you had multiple",
    "start": "3146799",
    "end": "3152920"
  },
  {
    "text": "sites and you could install this uh this reference to one centralized third party tracking server on the internet uh you",
    "start": "3152920",
    "end": "3159319"
  },
  {
    "text": "could have a lot of data collected um which is if you think about what search engines do that have social media uh",
    "start": "3159319",
    "end": "3166799"
  },
  {
    "text": "Empires as well it kind of all comes together that they can do this and you would never know because they don't have",
    "start": "3166799",
    "end": "3172240"
  },
  {
    "text": "to be third parties they can all be first parties um you know your first party cookie if those people decided",
    "start": "3172240",
    "end": "3178319"
  },
  {
    "text": "instead of transmitting it to a third party to do all the correlation on the back end that' probably be really expensive but if you had fast networks",
    "start": "3178319",
    "end": "3184240"
  },
  {
    "text": "and you know Big Data Centers you probably could do that so the methods to inject the web",
    "start": "3184240",
    "end": "3190880"
  },
  {
    "text": "tracking code pretty standard stuff you can either embed it like in code on your website or if you want to do like a",
    "start": "3190880",
    "end": "3196079"
  },
  {
    "text": "transparent Network proxy to do like an entire uh network uh you can do that as well and so as far as protocol support",
    "start": "3196079",
    "end": "3203799"
  },
  {
    "text": "uh I you can't just stand up like a web server and hope this stuff works because there's a lot of interrelated features",
    "start": "3203799",
    "end": "3209839"
  },
  {
    "text": "and functionality that would allow you to you know like do DNS queries to to find out people's IP addresses um you",
    "start": "3209839",
    "end": "3216520"
  },
  {
    "text": "know FTP really want to have that tightly integrated obviously HTTP and https uh policy servers so you can do",
    "start": "3216520",
    "end": "3224040"
  },
  {
    "text": "your binary connections you know you don't want to just be dependent on uh hoping it works being same origin or",
    "start": "3224040",
    "end": "3230000"
  },
  {
    "text": "something um binary sockets the ability to transmit binary data um media like",
    "start": "3230000",
    "end": "3236680"
  },
  {
    "text": "the rtmt that we saw so what I'm putting out there is basically an elf release I'm you know",
    "start": "3236680",
    "end": "3243799"
  },
  {
    "text": "going through in trying to find the best ways to do this so there's going to be some bumps and bruises along the way uh",
    "start": "3243799",
    "end": "3250079"
  },
  {
    "text": "I'm I've changed the database format a couple times already uh and you know",
    "start": "3250079",
    "end": "3255280"
  },
  {
    "text": "it's just trying to come up with a way to do it efficiently and effectively as",
    "start": "3255280",
    "end": "3260319"
  },
  {
    "text": "is my main goal and uh there's many features missing and I'm you know implementing them as I go along but",
    "start": "3260319",
    "end": "3266440"
  },
  {
    "text": "there's a lot of uh really strong uh data that I've already been able to collect like that that PDF example",
    "start": "3266440",
    "end": "3273559"
  },
  {
    "text": "that's actually getting sent there and I'm just echoing it back for demo purposes normally all that fingerprint",
    "start": "3273559",
    "end": "3278680"
  },
  {
    "text": "information would be stored uh in the database and then you could try and correlate that later",
    "start": "3278680",
    "end": "3284920"
  },
  {
    "text": "on so final thoughts basically this web tracking is inevitable it's going to",
    "start": "3284920",
    "end": "3290040"
  },
  {
    "text": "happen uh so why not join the party and do it yourself you know what what's the worst that happens right uh well you",
    "start": "3290040",
    "end": "3296520"
  },
  {
    "text": "probably should talk to your lawyers first uh and it's basically impractical",
    "start": "3296520",
    "end": "3301720"
  },
  {
    "text": "to prevent web tracking between coordinating sites currently uh you can't do it I mean based on the current",
    "start": "3301720",
    "end": "3307000"
  },
  {
    "text": "browser Technologies the the people that offer you tools that are supposed to block this stuff or tracking you as well",
    "start": "3307000",
    "end": "3314359"
  },
  {
    "text": "um or they're mining your data that you're collecting and selling it that so you just be aware and we due to",
    "start": "3314359",
    "end": "3322079"
  },
  {
    "text": "technical difficulties ran out of time for questions sorry about that um",
    "start": "3322079",
    "end": "3327680"
  },
  {
    "text": "there's my email address send your feature requests and hate mail there cuz I I will get hate mail I know I will",
    "start": "3327680",
    "end": "3333400"
  },
  {
    "text": "somebody's going to say why do you hate privacy why do you hate Freedom they will do",
    "start": "3333400",
    "end": "3339880"
  },
  {
    "text": "it and finally most importantly fill out the feedback forms see the great thing about waiting till the end to tell",
    "start": "3339880",
    "end": "3346160"
  },
  {
    "text": "people to Fe fill out the feedback forms is if they leave they think it sucks they forget to fill out the feedback for",
    "start": "3346160",
    "end": "3351200"
  },
  {
    "text": "him so that's it guys",
    "start": "3351200",
    "end": "3356760"
  },
  {
    "text": "[Applause]",
    "start": "3359760",
    "end": "3361949"
  }
]