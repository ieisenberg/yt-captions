[
  {
    "text": "so uh I'm going to get started here in a minute but just to let everybody who sitting in the back know the what's in the red book's a little bit different",
    "start": "45960",
    "end": "52520"
  },
  {
    "text": "than what I've got now I've tweaked it I've added some etherial screenshots so if you're interested in Reading you",
    "start": "52520",
    "end": "57600"
  },
  {
    "text": "probably want to be about at least 3/4 of the way toward towards the",
    "start": "57600",
    "end": "62239"
  },
  {
    "text": "front let's get started so uh sorry to be planted in one spot but the the mic's",
    "start": "63159",
    "end": "68720"
  },
  {
    "text": "dead on the wireless mic so hopefully they'll fix that at some point until then I'll be firmly planted behind the",
    "start": "68720",
    "end": "74439"
  },
  {
    "text": "podium so uh to start out who here thinks vins are",
    "start": "74439",
    "end": "80240"
  },
  {
    "text": "insecure come on more hands okay so that was the assumption that we went in",
    "start": "80240",
    "end": "86320"
  },
  {
    "text": "before we started doing this talk was that we had insecure vlans basically we",
    "start": "86320",
    "end": "91560"
  },
  {
    "text": "had folks who were looking at layer 2 security and were basically saying to themselves all right I've got security",
    "start": "91560",
    "end": "97119"
  },
  {
    "text": "built into my network and now I want to try and do uh things at Layer Two And I want to rely on vlans for",
    "start": "97119",
    "end": "104240"
  },
  {
    "text": "separation and uh and so what what can we do about that so what we went what we went through and tried to figure out",
    "start": "104240",
    "end": "111159"
  },
  {
    "text": "also if you can try and take a look at that screen it keeps flipping on and off every few seconds anyway so what we did was we we",
    "start": "111159",
    "end": "117880"
  },
  {
    "text": "basically said all right well Cisco can go through and by the way my name is Sean conry and uh I'm a security researcher in Cisco in our critical",
    "start": "117880",
    "end": "125119"
  },
  {
    "text": "infrastructure Assurance group so we basically work with uh National Labs universities uh Private Industry to try",
    "start": "125119",
    "end": "131800"
  },
  {
    "text": "and figure out how to make the infrastructure a little bit more secure so what we decided to do is well",
    "start": "131800",
    "end": "137280"
  },
  {
    "text": "Cisco can do testing ourselves but that is a bit problematic because I if I stand up here and say well vlans are",
    "start": "137280",
    "end": "142800"
  },
  {
    "text": "secure and we tested everything out then uh you know you know raise your hand if you would believe me you know no hands",
    "start": "142800",
    "end": "150720"
  },
  {
    "text": "right so so we decided to let me see if this works hello all right",
    "start": "150720",
    "end": "157200"
  },
  {
    "text": "great sorry about",
    "start": "157200",
    "end": "160720"
  },
  {
    "text": "that all right can everybody hear me now okay so what we decided to do was",
    "start": "165720",
    "end": "172040"
  },
  {
    "text": "try and figure out um you know who could we go to to try and get us to help so at Stakes present that a couple of times they've got a good reputation so we",
    "start": "172040",
    "end": "178360"
  },
  {
    "text": "basically handed them a big bag of money Mone and said break VLS please try and figure out some way to get traffic from",
    "start": "178360",
    "end": "185159"
  },
  {
    "text": "one VLAN to another VLAN we had them do some of that testing Cisco internally we",
    "start": "185159",
    "end": "190400"
  },
  {
    "text": "did a lot of the other testing we're going to talk about what we're basically going to present over the next hour and a half is the results of the testing",
    "start": "190400",
    "end": "197319"
  },
  {
    "text": "that we did um focusing on how to stop the attacks one of my big pet peeves",
    "start": "197319",
    "end": "203280"
  },
  {
    "text": "with conferences like this and I've been to a few is everybody stands up here and says everything's screwed and they don't",
    "start": "203280",
    "end": "208319"
  },
  {
    "text": "tell you what to do so how many people here are actually responsible for the security of a network",
    "start": "208319",
    "end": "213799"
  },
  {
    "text": "somewhere okay every Keep Your Hands Up by the way if that's your only job if you don't do anything with a",
    "start": "213799",
    "end": "219159"
  },
  {
    "text": "network okay how many actually I'm big on poll sorry about this to get an arm workout how many folks uh work in an",
    "start": "219159",
    "end": "226280"
  },
  {
    "text": "organization where they have a separate Security Department from the networking Department keep your hands up if they",
    "start": "226280",
    "end": "232159"
  },
  {
    "text": "get along okay like six or so so we'll talk",
    "start": "232159",
    "end": "238840"
  },
  {
    "text": "a little bit about that because as you can see I'm going to talk about a lot of security features that you can put into",
    "start": "238840",
    "end": "244239"
  },
  {
    "text": "ethernet switches that uh you know are sort of places that the standard SE Ops guy wouldn't necessarily think is his",
    "start": "244239",
    "end": "250680"
  },
  {
    "text": "domain the networking guy definitely thinks is sort of his his bwick but he's not going to be that interested in",
    "start": "250680",
    "end": "256639"
  },
  {
    "text": "dealing with the security features so we're going to walk through kind of the in general why we should",
    "start": "256639",
    "end": "262120"
  },
  {
    "text": "care about layer 2 security um we're going to actually go through every Layer Two attack that we're aware of and talk through some of",
    "start": "262120",
    "end": "268840"
  },
  {
    "text": "the mitigation Tech techniques you'll find that some of the ways we stop the attacks are are kind of messy some of them are fairly clean and we'll talk a",
    "start": "268840",
    "end": "275120"
  },
  {
    "text": "little bit about some of the road map stuff that we're working on all right so some caveats here this",
    "start": "275120",
    "end": "281039"
  },
  {
    "text": "is assuming IP and assuming ethernet and assuming a switched environment so if you're running Apple talk or ipx I mean",
    "start": "281039",
    "end": "288360"
  },
  {
    "text": "great you probably have different things You're vulnerable to some of the same things we're talking about are probably going to affect you as",
    "start": "288360",
    "end": "294600"
  },
  {
    "text": "well so we did all the testing for obvious reasons on Cisco devices we found that a vendor resiliency to some",
    "start": "294600",
    "end": "302000"
  },
  {
    "text": "of these attacks we're going to talk about it's going to vary widely so it's going to depend a lot on the on the box you're buying if you're going to Comp",
    "start": "302000",
    "end": "307840"
  },
  {
    "text": "USA and buying a $100 ethernet switch you're not going to be able to expect to do a lot of the features that we're",
    "start": "307840",
    "end": "312960"
  },
  {
    "text": "talking about so I thought about going through and and listing all of our competitors and whether or not they support given",
    "start": "312960",
    "end": "319080"
  },
  {
    "text": "features or or don't support given features but in the end I decided not to do that if you're interested and you",
    "start": "319080",
    "end": "324240"
  },
  {
    "text": "know does vendor X support this feature just come and talk to me afterwards and I'll give you the my best the best of my knowledge trouble is if I tell you",
    "start": "324240",
    "end": "330440"
  },
  {
    "text": "somebody doesn't do something invariably like last week they released it and then I look like an ass standing up here",
    "start": "330440",
    "end": "335800"
  },
  {
    "text": "telling you that you know X vendor doesn't support some feature all right so why do we care",
    "start": "335800",
    "end": "342720"
  },
  {
    "text": "Layer Two security is interesting because you know I sort of shudder to put an OSI model in front of the black hat crowd but but basically the point is",
    "start": "342720",
    "end": "350400"
  },
  {
    "text": "is that the OSI model was built for all the different layers to operate without knowledge of one another right we wanted to make sure that the you know the",
    "start": "350400",
    "end": "356840"
  },
  {
    "text": "physical layer the you know data link layer the network layer all these guys guys kind of happily coexisted but didn't need to know a lot about each",
    "start": "356840",
    "end": "364000"
  },
  {
    "text": "other um the trick is is if we hack one of these layers we tend to get the rest of them for free there's an obvious",
    "start": "364000",
    "end": "370560"
  },
  {
    "text": "exception here",
    "start": "370560",
    "end": "374599"
  },
  {
    "text": "somebody well well all right physical so there's an obvious exception I'm thinking to Layer Two so let's assume I",
    "start": "375680",
    "end": "380960"
  },
  {
    "text": "hack Layer Two generally in most cases I'm going to get all the rest of the layers for free except in one",
    "start": "380960",
    "end": "387080"
  },
  {
    "text": "case encryption right by doing encryption right and figure out a way to distribute the keys before the session",
    "start": "387080",
    "end": "393319"
  },
  {
    "text": "gets built we'll find that you're you're you have some improvements in the way you can deal with attacks we're going to",
    "start": "393319",
    "end": "398840"
  },
  {
    "text": "see as we go through some of this that some of the attacks we talk about uh actually break some of the encryption so",
    "start": "398840",
    "end": "404720"
  },
  {
    "text": "we'll see in cases where that works and where that doesn't so like I said you get Layer Two",
    "start": "404720",
    "end": "410360"
  },
  {
    "text": "you get the rest for free so where this gets even more interesting from a problem standpoint is",
    "start": "410360",
    "end": "415720"
  },
  {
    "text": "when you're trying to deal with network Ops and security Ops right so that's why I asked that question at the beginning if you're a network operations guy you",
    "start": "415720",
    "end": "423240"
  },
  {
    "text": "basically are thinking to yourself well I deal with a network and the security guys deal with security they have their own boxes that they deal with they're",
    "start": "423240",
    "end": "429319"
  },
  {
    "text": "very protective of their boxes I'm very protective of my boxes and I basically try and figure this whole thing out",
    "start": "429319",
    "end": "435560"
  },
  {
    "text": "using my own networking gear and if the security guys come to me and ask me for addresses I just give them a port I burn",
    "start": "435560",
    "end": "442000"
  },
  {
    "text": "a subnet for them I give them a VLAN and send them on their way and most of the security guys uh most aren't dealing",
    "start": "442000",
    "end": "449639"
  },
  {
    "text": "with layer 2 attacks they're staying at layer three where the sort of their comfort level is and when they look at what's going on at layer 2 they don't",
    "start": "449639",
    "end": "456080"
  },
  {
    "text": "even deal with a network operations guys they just say hey I need an IP address and they don't really care where they",
    "start": "456080",
    "end": "461560"
  },
  {
    "text": "get it from so they're given an address they're given some ports and some ranges and from that they try and build their",
    "start": "461560",
    "end": "466800"
  },
  {
    "text": "security so what we're seeing and most of the time I I'm running around talking with large customers around the world",
    "start": "466800",
    "end": "472479"
  },
  {
    "text": "about security design and security architecture and I find that these security operations guys and the network operations guys just don't get along and",
    "start": "472479",
    "end": "479080"
  },
  {
    "text": "some some cases they're hostile and this can be very problematic particularly at layer 2 because the solution to layer 2",
    "start": "479080",
    "end": "485520"
  },
  {
    "text": "security is not to put a firewall everywhere or to put intrusion detection everywhere because it would just be cost prohibitive so we have to talk about",
    "start": "485520",
    "end": "491720"
  },
  {
    "text": "some of the other ways we can deal with security I don't know if anybody else that can get somebody in AV this has got",
    "start": "491720",
    "end": "497400"
  },
  {
    "text": "to be killing you guys to have this thing blinking on and off so",
    "start": "497400",
    "end": "502560"
  },
  {
    "text": "help so CSI FBI so this is a study some people put more stake in this than others but has anybody here heard from",
    "start": "502560",
    "end": "509280"
  },
  {
    "text": "from a security vendor 80% of all attacks come from the inside okay right so you know I",
    "start": "509280",
    "end": "518120"
  },
  {
    "text": "heard this and I've been hearing this for years from from people inside Cisco from people outside Cisco and then I",
    "start": "518120",
    "end": "523760"
  },
  {
    "text": "went and try and figured out you know where did this all come from and I can't find any statistics to back this up so",
    "start": "523760",
    "end": "529279"
  },
  {
    "text": "if you have something afterwards I'd love to hear about it what we do have is the CSI report and they asked this",
    "start": "529279",
    "end": "535120"
  },
  {
    "text": "question every year since uh since they started doing this in '96 and what they say is you know by what location would",
    "start": "535120",
    "end": "541800"
  },
  {
    "text": "you consider a frequent source of attack you can see there you know internet's On The Rise uh dial in's going down and in",
    "start": "541800",
    "end": "548200"
  },
  {
    "text": "internal systems are going down still 33% of all respondents say the internal network is a frequent source of attack I",
    "start": "548200",
    "end": "555800"
  },
  {
    "text": "would theorize though I don't have any data to back it up that the impact of an internal Network breach is far more",
    "start": "555800",
    "end": "561079"
  },
  {
    "text": "damaging than the impact of an external breach so it's an interesting research project if someone has some free",
    "start": "561079",
    "end": "567160"
  },
  {
    "text": "time so let's talk through some Mac layer attacks that's going to be the first category of attacks we're going to",
    "start": "567160",
    "end": "572240"
  },
  {
    "text": "walk through sorry that that Big Mac looks tasty I haven't eaten yet I can never eat before I present so quick",
    "start": "572240",
    "end": "579920"
  },
  {
    "text": "quick review Mac addresses I'm not even going to talk about hopefully everybody here understands that the cam table how many people here know about cam tables",
    "start": "579920",
    "end": "586959"
  },
  {
    "text": "content adjustable memory what this is is the mechanism within switches where they sort of control um basically the",
    "start": "586959",
    "end": "594000"
  },
  {
    "text": "addressing information for what Mac addresses and what VLS are connected to which ports think of it like a routing",
    "start": "594000",
    "end": "599600"
  },
  {
    "text": "table for a router so you basically have this table that walks through and says here's the MAC address here's the VLAN",
    "start": "599600",
    "end": "605640"
  },
  {
    "text": "and this is the port that they're connected to so the trick is is these things have a fixed",
    "start": "605640",
    "end": "612519"
  },
  {
    "text": "size so in normal behavior let's assume that we've just got a three you know a cam table that will only hold three",
    "start": "612519",
    "end": "618720"
  },
  {
    "text": "entries which would be particularly useless but let's say two out of the three are taken up right now so I've got",
    "start": "618720",
    "end": "624000"
  },
  {
    "text": "Mac a in Port one and Mac C and Port three so let's say a tries to talk to B",
    "start": "624000",
    "end": "630040"
  },
  {
    "text": "what's going to happen is is the switch doesn't know where B is so it's going to have to flood the frame so it floods the frame out to B",
    "start": "630040",
    "end": "637519"
  },
  {
    "text": "and C and then C gets to see the traffic right this is the this is the core thing this always happens for the initial",
    "start": "637519",
    "end": "642920"
  },
  {
    "text": "packet when you don't know the destination Mac location so this is normal",
    "start": "642920",
    "end": "648079"
  },
  {
    "text": "behavior what's going to happen though is Mac B is going to respond on Port two and the switch is going to learn the",
    "start": "648079",
    "end": "654839"
  },
  {
    "text": "location of Mac B so he learns that location adds it it in to his cam",
    "start": "654839",
    "end": "662279"
  },
  {
    "text": "table and then sends the traffic on to Mac a so from this point",
    "start": "662279",
    "end": "668040"
  },
  {
    "text": "on a tries to talk to B the entry is already in the cam table giving the",
    "start": "668040",
    "end": "673440"
  },
  {
    "text": "location and now Max C won't see the traffic to Mac B that's the basics of a",
    "start": "673440",
    "end": "678959"
  },
  {
    "text": "can table and how the cam tables are built in a dynamic way to understand the locations of different",
    "start": "678959",
    "end": "685040"
  },
  {
    "text": "addresses so the cam overflow attack is the idea that says well let me just send it so many cam entries that it it can't",
    "start": "685040",
    "end": "691120"
  },
  {
    "text": "deal with them all and starts having a flood traffic everybody here should hopefully be a little bit familiar at least with the basics of how this works",
    "start": "691120",
    "end": "698440"
  },
  {
    "text": "so this is a theoretical attack but as as most attacks turn into the Practical very quickly and usually with you know",
    "start": "698440",
    "end": "703720"
  },
  {
    "text": "very few lines of code Somebody went through and built Mac off using Pearl uh back in 99 and what it basically does is",
    "start": "703720",
    "end": "710399"
  },
  {
    "text": "it just generates bogus packets with a bogus source Mac bogus destination Mac bogus Source IP bogus destination IP",
    "start": "710399",
    "end": "717120"
  },
  {
    "text": "sends it out on The Wire uh Doug song later converted this uh ported it to C",
    "start": "717120",
    "end": "722279"
  },
  {
    "text": "for D sniff which we'll talk about later so here's the idea let's assume that the Mac table is completely filled right now",
    "start": "722279",
    "end": "727880"
  },
  {
    "text": "A B and C each have an entry now one thing to understand with the way Mac tables work is they have aging timers so",
    "start": "727880",
    "end": "734440"
  },
  {
    "text": "Mac addresses are going to age out over time the default is 300 seconds so if you don't talk on the wire after your",
    "start": "734440",
    "end": "740839"
  },
  {
    "text": "address is learned by the switch after 300 seconds it's as though you were never there the next packet that comes",
    "start": "740839",
    "end": "746399"
  },
  {
    "text": "in with the destination Mac of your of your our Mac address will get flooded until they relearn your",
    "start": "746399",
    "end": "752320"
  },
  {
    "text": "location so this is going to let's just assume for this attack that everybody's aging timer is about to age out which",
    "start": "752320",
    "end": "758519"
  },
  {
    "text": "will be which will make this convenient because this is just trying to show you the basics of how it works in normal cases if people are chatty they're never",
    "start": "758519",
    "end": "765199"
  },
  {
    "text": "going to lose their cam entry because they'll keep refreshing that aging timer so X so max C spoofs a packet from",
    "start": "765199",
    "end": "772320"
  },
  {
    "text": "Source macx sends it off to the switch the switch learns X is on Port three updates his cam table",
    "start": "772320",
    "end": "779560"
  },
  {
    "text": "happens again from Port y y or Y is a spoofed Mac Source from Mac address C",
    "start": "779560",
    "end": "786199"
  },
  {
    "text": "gets sent on The Wire again the switch learns that Y is on Port",
    "start": "786199",
    "end": "791600"
  },
  {
    "text": "three and now at that point the Mac table is completely filled with all entries on Port three so when the packet",
    "start": "791600",
    "end": "798600"
  },
  {
    "text": "gets sent now from A to B we had the same condition that we had in the initial flood state where that packet",
    "start": "798600",
    "end": "805920"
  },
  {
    "text": "gets sent out on all ports till we learn the location of Mac address",
    "start": "805920",
    "end": "811839"
  },
  {
    "text": "B so the way Catalyst cam tables work is a little bit a little bit interesting it's useful to understand this basically",
    "start": "812320",
    "end": "819040"
  },
  {
    "text": "they have this notion of of eight buckets or eight columns and 16,000 rows to hold cam table information and what",
    "start": "819040",
    "end": "825680"
  },
  {
    "text": "they store in those cam tables is the VLAN and the MAC address of the given of the given um uh Mac address of the given",
    "start": "825680",
    "end": "833240"
  },
  {
    "text": "address and they also they also hold the port number right but in order to make this fast what happens is they hash the",
    "start": "833240",
    "end": "840639"
  },
  {
    "text": "values right so they take the MAC address in the VLAN and hash it they take they take basically 63 bits of",
    "start": "840639",
    "end": "846079"
  },
  {
    "text": "source and then they turn it into a 17-bit hash value that they then use to index the list so they can search",
    "start": "846079",
    "end": "851759"
  },
  {
    "text": "through the list quickly so anytime you're taking 63 bits of source and turning it into 17 bits you're going to",
    "start": "851759",
    "end": "857320"
  },
  {
    "text": "have collisions right you're always going to have cases where that 17 bits is going to be the same so when that 17",
    "start": "857320",
    "end": "862440"
  },
  {
    "text": "bits turns out to be the same what happens is it gets sent to the next column right so you hash that value that",
    "start": "862440",
    "end": "868880"
  },
  {
    "text": "17 bit value determines what row you go into of the 16,000 rows and then based",
    "start": "868880",
    "end": "874000"
  },
  {
    "text": "on if it's a duplication you wind up putting the packet into the next column over so in theory you could actually",
    "start": "874000",
    "end": "881600"
  },
  {
    "text": "cause a switch to flood with as little as nine Mac addresses right if you had the right combination of source material",
    "start": "881600",
    "end": "888160"
  },
  {
    "text": "that always hashes to the same value and you did that eight times in a row when that ninth packet comes down and tries",
    "start": "888160",
    "end": "893720"
  },
  {
    "text": "to find a place to go into that cam table it won't find one and it'll wind up flooding",
    "start": "893720",
    "end": "899279"
  },
  {
    "text": "so that's the basics of how the hash function works in the cam tables and this is this example is for a cat 6500",
    "start": "899279",
    "end": "905680"
  },
  {
    "text": "different switches have different uh Mac address or Cam table spaces so you know some of the lower end switches are like",
    "start": "905680",
    "end": "911040"
  },
  {
    "text": "8,000 Macs instead of uh instead of a higher number of Macs um could could I ask you in the",
    "start": "911040",
    "end": "916519"
  },
  {
    "text": "front the can you see if you can do something about that screen it keeps flipping on and off and these guys are",
    "start": "916519",
    "end": "921839"
  },
  {
    "text": "probably on the verge of insanity thanks so this this is a tool far too",
    "start": "921839",
    "end": "929800"
  },
  {
    "text": "difficult for a script Kitty to run you actually need to type Mac off and hit enter and then the attack is launched so",
    "start": "929800",
    "end": "936040"
  },
  {
    "text": "very very difficult and as you can see there it's almost like TCP dumbout but the the sin flag is set so you get sort",
    "start": "936040",
    "end": "942079"
  },
  {
    "text": "of a sin flood for free as a as part of this attack so D sniff in the testing that I",
    "start": "942079",
    "end": "949720"
  },
  {
    "text": "did could generate 155,000 Mac entries per minute and we already talked we had 16,000 rows and eight columns so roughly",
    "start": "949720",
    "end": "956920"
  },
  {
    "text": "128,000 entries it turns out that it's 131,50 I think",
    "start": "956920",
    "end": "962639"
  },
  {
    "text": "and if this was a perfect hash function and the data was perfectly random this would fill up in a nice even ordered",
    "start": "962639",
    "end": "968839"
  },
  {
    "text": "session we'd go through 16,000 rows and we' go to the next column in actuality because the data is a bit clumpy and the",
    "start": "968839",
    "end": "974160"
  },
  {
    "text": "hash function isn't perfect we wind up taking about 70 seconds to fill so we'll basically flood on certain rows much",
    "start": "974160",
    "end": "980880"
  },
  {
    "text": "more quickly and it'll take time before everything will get populated but basically after 70 seconds the cam",
    "start": "980880",
    "end": "985920"
  },
  {
    "text": "table's completely filled so what this means is any traffic that doesn't have an existing cam entry will flood all the",
    "start": "985920",
    "end": "992560"
  },
  {
    "text": "packets right the important thing to note is is U A lot of times when people talk about this attack they don't give",
    "start": "992560",
    "end": "998560"
  },
  {
    "text": "you the details they will flood but only on the local VLAN so if we're break broken out VLAN one two 3 four and",
    "start": "998560",
    "end": "1005759"
  },
  {
    "text": "somebody in the back row completely destroys the cam T that we're all connected to each of us is going to see",
    "start": "1005759",
    "end": "1012519"
  },
  {
    "text": "all the traffic within our VLS but we won't see traffic from other VLS that's an important thing to not it's one can",
    "start": "1012519",
    "end": "1018160"
  },
  {
    "text": "table for the whole switch but the flooding is always local because there's no reason for the switch to flood on all",
    "start": "1018160",
    "end": "1023639"
  },
  {
    "text": "ports because all it needs to do is flood it out to its local VLAN to try and learn the location so the idea is if",
    "start": "1023639",
    "end": "1030038"
  },
  {
    "text": "I just keep running this Mac flooding over and over and over again and just leave it running in the background there'll never be any room for new cam",
    "start": "1030039",
    "end": "1036678"
  },
  {
    "text": "entries so all new PCS all new systems will basically flood typically something like a default gateway for example will",
    "start": "1036679",
    "end": "1042720"
  },
  {
    "text": "probably not flood because he's going to be talking all the time really chatty servers may not flood but basically",
    "start": "1042720",
    "end": "1048960"
  },
  {
    "text": "everything else is going to flood and over time more things will flood as people stop talking so if I was on the",
    "start": "1048960",
    "end": "1054039"
  },
  {
    "text": "network today and I went home for the day I'll age out my entry in 300 seconds",
    "start": "1054039",
    "end": "1059480"
  },
  {
    "text": "that'll be another one that the cam table flooding software will be able to grab I come in the next morning and now I'm flooding as well this is a very very",
    "start": "1059480",
    "end": "1067360"
  },
  {
    "text": "noisy attack by the way I mean you've got traffic everywhere if you have multiple switches all the switches get",
    "start": "1067360",
    "end": "1073480"
  },
  {
    "text": "flooded you get all kinds of strange messages on the consoles of your switch talking about no room for things",
    "start": "1073480",
    "end": "1078919"
  },
  {
    "text": "so it's it's definitely not something if you're trying to be particularly stealthy that you would want to run so here you can see the Snoop output down",
    "start": "1078919",
    "end": "1085640"
  },
  {
    "text": "at the bottom on a non-s span port and you see a ping between 26 and 25 and this guy's do 50 so this is just some",
    "start": "1085640",
    "end": "1092320"
  },
  {
    "text": "testing that we did all right so stopping this attack is actually not all that difficult how many",
    "start": "1092320",
    "end": "1098559"
  },
  {
    "text": "people here are actually using Port security all right not too",
    "start": "1098559",
    "end": "1104039"
  },
  {
    "text": "many so Port security many people get scared because",
    "start": "1104039",
    "end": "1109799"
  },
  {
    "text": "when they think of Port security I include myself in that group up until about a year ago I thought that Port",
    "start": "1109799",
    "end": "1115000"
  },
  {
    "text": "security meant that I had to build C uh Mac address tables right I had to build a table of every single Mac address that",
    "start": "1115000",
    "end": "1120760"
  },
  {
    "text": "was connected to my network and then assign basically vlands or ports based on those source Mac addresses while you",
    "start": "1120760",
    "end": "1127200"
  },
  {
    "text": "can do that you'd have to be insane because as anybody knows once you get Beyond you know a couple hundred people",
    "start": "1127200",
    "end": "1132679"
  },
  {
    "text": "or you know 10 you know depending on your your your tolerance for pain you're not going to want to deal with this",
    "start": "1132679",
    "end": "1137960"
  },
  {
    "text": "right because you know somebody's knit goes bad you got to swap them out it's just really messy but what you can do is",
    "start": "1137960",
    "end": "1143799"
  },
  {
    "text": "instead say here is the maximum number of Mac addresses that I'm going to allow to connect on a given port and that's a",
    "start": "1143799",
    "end": "1150520"
  },
  {
    "text": "lot more reasonable because now I can just say all right this guy is supposed to be connected to a user Port he shouldn't be plugging in you know",
    "start": "1150520",
    "end": "1157000"
  },
  {
    "text": "switches he shouldn't be plugging in other devices maybe I'll be nice and give him two three Mac addresses but",
    "start": "1157000",
    "end": "1162280"
  },
  {
    "text": "certainly won't give him you know 131,000 entries so if you want like a couple",
    "start": "1162280",
    "end": "1168559"
  },
  {
    "text": "pages on you know Port security that link at the bottom will will uh will fulfill that need the configuration is",
    "start": "1168559",
    "end": "1174440"
  },
  {
    "text": "fairly simple you can see the configs for CatOS and then also for Native iOS on the switches uh depending on the",
    "start": "1174440",
    "end": "1180480"
  },
  {
    "text": "platform you'll have different capabilities but basically you see here you just say set Port security then the",
    "start": "1180480",
    "end": "1185799"
  },
  {
    "text": "ports and you turn it on or off you can set a MAC address but like I said please don't because you're just going to",
    "start": "1185799",
    "end": "1191200"
  },
  {
    "text": "you're going to kill yourself uh you can set the age how long it will allow that Mac address to be resident before it AG",
    "start": "1191200",
    "end": "1197039"
  },
  {
    "text": "is out the maximum number of Maxs here this is the one you actually want to play with and then you set you have to",
    "start": "1197039",
    "end": "1203000"
  },
  {
    "text": "set whether or not you want to shut down the port when it goes uh when it goes into violation or if you just want to",
    "start": "1203000",
    "end": "1208480"
  },
  {
    "text": "restrict I would recommend dealing with shutdown if somebody's Mac flooding your network you know don't be nice and try",
    "start": "1208480",
    "end": "1213919"
  },
  {
    "text": "and let his first Mac address through just shut it off the reason I suggest that besides just being common sense is",
    "start": "1213919",
    "end": "1219679"
  },
  {
    "text": "I was able to Peg a cat 4000 at 70% CPU utilization with Mac off in restrict",
    "start": "1219679",
    "end": "1225600"
  },
  {
    "text": "mode because the switch in software is const L trying to look through is this a good Mac no throw it on the floor is",
    "start": "1225600",
    "end": "1231080"
  },
  {
    "text": "this a good Mac no throw it on the floor it keeps doing that over and over and over again so better to just turn the port off you can set the port shutdown",
    "start": "1231080",
    "end": "1237840"
  },
  {
    "text": "timer to whatever you want you can set it to fire off an SNMP trap uh works pretty well I also found that depending",
    "start": "1237840",
    "end": "1244400"
  },
  {
    "text": "on the version of of code the restrict option eventually gave up anyway so if you just Mac flooded over and over and",
    "start": "1244400",
    "end": "1250240"
  },
  {
    "text": "over again it would just eventually say look I can't even keep track of the good Mac address so I'm just going to shut down this port and there's no",
    "start": "1250240",
    "end": "1255840"
  },
  {
    "text": "performance impact to doing it shutdown mode because it's just like you administratively shut it down yourself as the administrator it just turns the",
    "start": "1255840",
    "end": "1262120"
  },
  {
    "text": "port off and it doesn't do anything and then I went through for all these slides I'm not going to talk about it but I went through and and did all",
    "start": "1262120",
    "end": "1268600"
  },
  {
    "text": "the the hard work for you in walking through the Cisco doc so if there's a particular flavor of switch you're",
    "start": "1268600",
    "end": "1273919"
  },
  {
    "text": "trying to know does is this feature supported on my switch that's the minimum uh releases of code you need to",
    "start": "1273919",
    "end": "1279279"
  },
  {
    "text": "support the different features all right so VLAN hopping we're going to go through some of the attacks",
    "start": "1279279",
    "end": "1285200"
  },
  {
    "text": "that people know about and uh one that I don't think too many people seen so quick TR trunk Port refresher",
    "start": "1285200",
    "end": "1291400"
  },
  {
    "text": "trunk ports basically allow multiple vlans to span over a single physical link that's the basics right I've got two switches I've got three different",
    "start": "1291400",
    "end": "1298039"
  },
  {
    "text": "groups at each switch and I need to allow them to talk to one another rather than using three cables I can run it all over one cable set it as a trunk port",
    "start": "1298039",
    "end": "1305320"
  },
  {
    "text": "and uh and and I'm done you can use 802.1q which is the standards based way you know some people are still using ISL",
    "start": "1305320",
    "end": "1311559"
  },
  {
    "text": "which was Cisco's uh proprietary version you also need to know about",
    "start": "1311559",
    "end": "1317360"
  },
  {
    "text": "Cisco switching control protocols this is one of the new slides so these are typically uh I 802.3 packets with 802.2",
    "start": "1317360",
    "end": "1326080"
  },
  {
    "text": "LLC and snap uh that are basically used to exchange all kinds of information between switches CDP uses this uh vtp",
    "start": "1326080",
    "end": "1333559"
  },
  {
    "text": "uses this um we're basically using our dtp uses it as well these are being used to exchange information basically at the",
    "start": "1333559",
    "end": "1340760"
  },
  {
    "text": "link layer between the switches so that they can know what VLS are available what trunking parameters are available",
    "start": "1340760",
    "end": "1346320"
  },
  {
    "text": "so as we go through this talk you'll see see the uh the snap protocol type and the destination Mac address for each of",
    "start": "1346320",
    "end": "1352080"
  },
  {
    "text": "these protocols and you can see them really easily most of them are decoded by atherial the other thing to point out",
    "start": "1352080",
    "end": "1358400"
  },
  {
    "text": "with these control protocols and this gets to one of our best practices is I always recommend folks don't use VLAN",
    "start": "1358400",
    "end": "1363960"
  },
  {
    "text": "one uh VLAN one is a little bit peculiar on Cisco switches at least and that first off it can't be deleted so I never",
    "start": "1363960",
    "end": "1370919"
  },
  {
    "text": "want to put users on a on a VLAN and if things go bad I can't turn it off right so that's the first thing you need to be",
    "start": "1370919",
    "end": "1376200"
  },
  {
    "text": "aware of the other thing is that even if you turn it off some of these control protocols will keep using VLAN one and",
    "start": "1376200",
    "end": "1383120"
  },
  {
    "text": "just not tell you because they're coded to use VLAN one and that's all they'll ever use so if you're trying to deal",
    "start": "1383120",
    "end": "1388559"
  },
  {
    "text": "with segmenting your user traffic off from your control traffic uh just in general I would recommend your trunk",
    "start": "1388559",
    "end": "1394240"
  },
  {
    "text": "ports and your user ports do not use VLAN one unfortunately you know people aren't doing that today and we haven't",
    "start": "1394240",
    "end": "1400720"
  },
  {
    "text": "exactly done the best job of making that very easy to configure one of the concerns that I have and one of the things we're trying to change at Cisco",
    "start": "1400720",
    "end": "1407480"
  },
  {
    "text": "is that routers and switches try and make things happen right they want to switch they want to Route they want to talk to",
    "start": "1407480",
    "end": "1413360"
  },
  {
    "text": "people firewalls and IDs systems are trying to you know restrict traffic or or be more like security devices so one",
    "start": "1413360",
    "end": "1419279"
  },
  {
    "text": "of the things we need to do as a networking company particularly as the network gets relied on more and more to do security functions is to make it",
    "start": "1419279",
    "end": "1425880"
  },
  {
    "text": "easier to make it secure we need to make it easier to have either secure defaults or an easy macro that you can just type",
    "start": "1425880",
    "end": "1431039"
  },
  {
    "text": "something in and hit enter and have all these best practices implemented for you because right now although folks in this",
    "start": "1431039",
    "end": "1436159"
  },
  {
    "text": "room would have no problem locking down a switch or a router you know the average guy out there at a small Law Firm that's hooking up a switch in a",
    "start": "1436159",
    "end": "1442240"
  },
  {
    "text": "router is going to have all these things configured in the wrong way and then all the attacks I talk about are going to work",
    "start": "1442240",
    "end": "1449480"
  },
  {
    "text": "fine so for that reason don't use vn1 if you want more detail again Link at the bottom plenty of pages and for the",
    "start": "1450559",
    "end": "1457520"
  },
  {
    "text": "detail oriented if you want to see actually what this packet looks like uh you can see how it's basically broken out the destination Mac is usually a",
    "start": "1457520",
    "end": "1464559"
  },
  {
    "text": "variant of that Mac address that you see there the source Mac is actually pulled from a pool that's in the eom of a Cisco",
    "start": "1464559",
    "end": "1470320"
  },
  {
    "text": "device and it's always set you know AA aa03 which is snap in terms of the LLC",
    "start": "1470320",
    "end": "1476200"
  },
  {
    "text": "and then you'll find the protocol type is really the only thing that varies in the snap in the snap header the uh the",
    "start": "1476200",
    "end": "1481320"
  },
  {
    "text": "oui is always the same and again lots of detail out that link below so one of the",
    "start": "1481320",
    "end": "1486520"
  },
  {
    "text": "first control protocols we need to talk about is dtp dynamic trunk protocol this is the protocol that runs on most Cisco",
    "start": "1486520",
    "end": "1492240"
  },
  {
    "text": "switches that basically controls who's allowed to Trunk by default they're almost all set to Auto right this is the",
    "start": "1492240",
    "end": "1499440"
  },
  {
    "text": "bad thing right they're set to Auto meaning if you can fool the switch into thinking that you're a switch it will",
    "start": "1499440",
    "end": "1505880"
  },
  {
    "text": "allow you to trunk and then will you will become a member of all vlans that doesn't mean you automatically start seeing everybody's traffic but you can",
    "start": "1505880",
    "end": "1512240"
  },
  {
    "text": "now send packets on whatever VLAN you want so that's one of the big issues with dtp I haven't seen anything in the",
    "start": "1512240",
    "end": "1518039"
  },
  {
    "text": "wild that would allow you to uh spoof dtp but you know you could plug in a rogue switch very easily and these",
    "start": "1518039",
    "end": "1524120"
  },
  {
    "text": "Protocols are not particularly hard so I'd be really surprised if somebody hasn't done it for some kind of an engagement so you can see the snap",
    "start": "1524120",
    "end": "1530000"
  },
  {
    "text": "protocol type 2004 uh they can be set in other ways too they can be set to desirable which means they'll try and",
    "start": "1530000",
    "end": "1535520"
  },
  {
    "text": "trunk if the other guy is willing to trunk you can set them to off which is what I would prefer folks set them to or",
    "start": "1535520",
    "end": "1540880"
  },
  {
    "text": "non-negotiated which is basically used if you don't want to send out dtp frames but you want to force it into a trunking",
    "start": "1540880",
    "end": "1546760"
  },
  {
    "text": "mode doesn't work on the lower end 2900 or 39 or 3500 XLS so the basic attack",
    "start": "1546760",
    "end": "1553080"
  },
  {
    "text": "this is this is the very easy one which is through misconfiguration that it's enabled is I can be at you know say this",
    "start": "1553080",
    "end": "1558520"
  },
  {
    "text": "is the attacker PC over here all I basically have to do is spoof dtp or if I'm using a uh a switch that",
    "start": "1558520",
    "end": "1566200"
  },
  {
    "text": "doesn't support dtp the the port has to be in a trunking favorable setting if it's in some sort of a setting like on",
    "start": "1566200",
    "end": "1572880"
  },
  {
    "text": "you basically can then just tag your packets oneq packets and send them on the wire you know1 Q if you're UNF",
    "start": "1572880",
    "end": "1578399"
  },
  {
    "text": "familiar just a little four byte tag that sits after the source and destination Mac address you put the VLAN",
    "start": "1578399",
    "end": "1583559"
  },
  {
    "text": "ID in it gets sent on the wire and the switch will think you're another switch it will switch you to whatever VLAN you",
    "start": "1583559",
    "end": "1588720"
  },
  {
    "text": "want so this is the basic attack and this this will work on most switches that haven't been locked down and",
    "start": "1588720",
    "end": "1594080"
  },
  {
    "text": "configured in a secure way because for most releases of code the default is to Auto",
    "start": "1594080",
    "end": "1599679"
  },
  {
    "text": "trunk there was a paper written by the Sands that uh The Links at the bottom if you're interested that talks about",
    "start": "1599679",
    "end": "1605640"
  },
  {
    "text": "another method of doing VLAN hopping this this method didn't work like a week after the paper was released and this",
    "start": "1605640",
    "end": "1611200"
  },
  {
    "text": "paper's 2 years old so if anybody here is from the Sands I'd love to talk to you afterwards to figure out how we can you know get this paper up to date",
    "start": "1611200",
    "end": "1617360"
  },
  {
    "text": "because like we keep getting calls at Cisco and I'm sure other switch venders get calls as well saying what about this paper what about this paper so there's a",
    "start": "1617360",
    "end": "1624640"
  },
  {
    "text": "different attack that's a little bit more interesting to talk about and this is a double encapsulated oneq attack",
    "start": "1624640",
    "end": "1630559"
  },
  {
    "text": "right so this attack says well normally what's going to happen on a switch is a packet will be tagged if I'm a trunk",
    "start": "1630559",
    "end": "1636240"
  },
  {
    "text": "port and it'll be sent to the switch the switch will look at that tag and say all right you say you're on VLAN one okay",
    "start": "1636240",
    "end": "1642039"
  },
  {
    "text": "and it'll send that on the wire you say you're on VLAN 2 okay and send that on the wire but even if I'm not trunk",
    "start": "1642039",
    "end": "1648440"
  },
  {
    "text": "I can still tag packets as long as I tag them on my local VLAN anybody know",
    "start": "1648440",
    "end": "1653840"
  },
  {
    "text": "why there's another there's another function that sits inside the oneq tag priority right 802.1p also uses that",
    "start": "1653840",
    "end": "1662360"
  },
  {
    "text": "4 byte tag to set the priority from 0 to 7 so if I'm going to allow that to",
    "start": "1662360",
    "end": "1667960"
  },
  {
    "text": "happen on my network I have to always allow folks to tag traffic on their own native VLAN so the way this attack works",
    "start": "1667960",
    "end": "1674840"
  },
  {
    "text": "and by the way this works even if trunk ports are set off as I send tagged the Tagg packet twice",
    "start": "1674840",
    "end": "1681399"
  },
  {
    "text": "so I've got this blue VLAN on the attacker and the victims over here on the orange VLAN so my outer VLAN tag",
    "start": "1681399",
    "end": "1687279"
  },
  {
    "text": "will be set to my actual VLAN so my attacker VLAN in this case VLAN blue the",
    "start": "1687279",
    "end": "1693519"
  },
  {
    "text": "inner tag will be set to the orange VLAN which is the victim VLAN so that gets",
    "start": "1693519",
    "end": "1698880"
  },
  {
    "text": "sent the switch looks far enough into the packet to see that first tag and says oh you're on the VLAN you're",
    "start": "1698880",
    "end": "1705760"
  },
  {
    "text": "supposed to be on it strips off the tag sees that it doesn't know how to get to the destination Mac address floods it",
    "start": "1705760",
    "end": "1711559"
  },
  {
    "text": "out on all ports including this trunk Port the trunk Port sends the packet out",
    "start": "1711559",
    "end": "1717000"
  },
  {
    "text": "on the wire this time tagged with the VLAN of the victim now this is the",
    "start": "1717000",
    "end": "1723440"
  },
  {
    "text": "misconfiguration here in red this only works if the trunk has the same VLAN as",
    "start": "1723440",
    "end": "1728600"
  },
  {
    "text": "the attacker this is another reason why we don't recommend you use the same vlans for user ports as you use for",
    "start": "1728600",
    "end": "1734080"
  },
  {
    "text": "trunk ports so as long as you set you know blue VLAN for the attacker and you know uh you know Ma VLAN for the trunk",
    "start": "1734080",
    "end": "1740840"
  },
  {
    "text": "Port you'll be okay so then the frame gets stripped off",
    "start": "1740840",
    "end": "1746000"
  },
  {
    "text": "again because now when the packet gets gets sent to the second switch all he sees is the tag for the victim VLAN and",
    "start": "1746000",
    "end": "1752120"
  },
  {
    "text": "he has no idea that the original switch meant it to go on the blue v land and then he sends it on the",
    "start": "1752120",
    "end": "1758320"
  },
  {
    "text": "wire uh we're bringing this up and talking about it as opposed to fixing it and not mentioning it to you guys",
    "start": "1758320",
    "end": "1763760"
  },
  {
    "text": "because this isn't something we're likely to fix anytime soon this is a limitation in the heart Hardware in the A6 that actually control the1 Q trunking",
    "start": "1763760",
    "end": "1770760"
  },
  {
    "text": "so future generations of switching code hopefully will be able to fix this but this is clearly a misconfiguration and",
    "start": "1770760",
    "end": "1776120"
  },
  {
    "text": "there's an easy way using Cisco or using general ethernet switch best practices to get around this",
    "start": "1776120",
    "end": "1782120"
  },
  {
    "text": "problem so if you want to see what the capture looks like you can see what is you know what is a double encapsulated frame and again this is one of the the",
    "start": "1782120",
    "end": "1788919"
  },
  {
    "text": "uh ethereal captures that isn't isn't in your uh your red book and the folks in the back of the room are straining to see apologize so you can see the tag",
    "start": "1788919",
    "end": "1795840"
  },
  {
    "text": "there for the the outer tag you can see this is set to VLAN one and then the inner tag to VLAN 2 that's all you do to",
    "start": "1795840",
    "end": "1802880"
  },
  {
    "text": "build this you can pretty easily do this with libnet if you just build a1q tag frame and then you use the um the1 Q",
    "start": "1802880",
    "end": "1810000"
  },
  {
    "text": "implementation and open BSD or something as well you know that'll basically create a double a double tag packet and",
    "start": "1810000",
    "end": "1816480"
  },
  {
    "text": "that's what we did in the in this capture that you see here all right so to deal with all these",
    "start": "1816480",
    "end": "1822519"
  },
  {
    "text": "all these trunking related attacks the first thing we recommend is just turn off auto trunking this is very easy to",
    "start": "1822519",
    "end": "1827840"
  },
  {
    "text": "do the first thing you do when you turn on a switch is you should set all the ports off turn the trunking off and then you turn it on on the ports that need to",
    "start": "1827840",
    "end": "1834760"
  },
  {
    "text": "trunk uh this definitely varies by not just whether you're running Catos or iOS but the platform itself so right at the",
    "start": "1834760",
    "end": "1841200"
  },
  {
    "text": "Cisco docs it says you know the default mode is dependent on the platform it's like okay thank",
    "start": "1841200",
    "end": "1846880"
  },
  {
    "text": "you all right so best practices that we've talked about so far these are the things to to prevent the attacks we just",
    "start": "1846880",
    "end": "1852360"
  },
  {
    "text": "talked about so use dedicated VN ID for all your trunk ports disable any unused ports I always like to put them in an",
    "start": "1852360",
    "end": "1857960"
  },
  {
    "text": "unused VLAN as well just because I'm maybe a little extra paranoid don't use VLAN one for anything and then set your",
    "start": "1857960",
    "end": "1863960"
  },
  {
    "text": "user ports to non- trunking all right so that was it with Mac flooding we're going to talk more about Mac flooding a little bit later",
    "start": "1863960",
    "end": "1870120"
  },
  {
    "text": "when we link it to a spanning tree attack so ARP attacks quick art professure very quick 10 seconds or less",
    "start": "1870120",
    "end": "1876080"
  },
  {
    "text": "you basically are trying to figure out how to map the IP address to the MAC address for a given a given uh host so",
    "start": "1876080",
    "end": "1881799"
  },
  {
    "text": "I'll send out a network thing saying you know how do I get to you know the guy in the blue shirt in the fourth row and the guy in the blue shirt for will respond",
    "start": "1881799",
    "end": "1888120"
  },
  {
    "text": "back and say here is my Mac address and then we'll be able to talk basically all you're doing with ARP gratuitous ARP is",
    "start": "1888120",
    "end": "1893760"
  },
  {
    "text": "the idea that I want to send out and let everybody know what my IP address is",
    "start": "1893760",
    "end": "1899559"
  },
  {
    "text": "because it may have changed a lot of high availability mechanisms will use this uh you know that little nasty",
    "start": "1899559",
    "end": "1904600"
  },
  {
    "text": "message we always used to get with like Windows nt4 when it would boot up and say I've detected a conflict with the following Mac address and I've disabled",
    "start": "1904600",
    "end": "1910799"
  },
  {
    "text": "your interface that's a direct result of gratuitous art most operating systems do this when they boot up they'll say is",
    "start": "1910799",
    "end": "1916600"
  },
  {
    "text": "anybody out there my IP address and if they get a response then they'll basically honor that and allow the uh in",
    "start": "1916600",
    "end": "1922080"
  },
  {
    "text": "most cases they'll honor they'll allow that Mac address to or that interface to go down so what if we went through and said",
    "start": "1922080",
    "end": "1931120"
  },
  {
    "text": "hey everybody I'm the default gateway and here's my Mac address right so this is this is we're we're going to talk",
    "start": "1931120",
    "end": "1936559"
  },
  {
    "text": "through real briefly here um D sniff basically and how it operates at some level of detail so if you're already familiar with d sniff I apologize we'll",
    "start": "1936559",
    "end": "1943120"
  },
  {
    "text": "get on to some different stuff in in a few slides so we're basically saying all right let's let's assume we've got this 1.2.3 network we've got host X Y and W",
    "start": "1943120",
    "end": "1950760"
  },
  {
    "text": "we have the default gateway which is one so there's no ownership which is the big trouble with ARP of either Mac address",
    "start": "1950760",
    "end": "1957159"
  },
  {
    "text": "or IP address right ARP was built during the days where everybody was you know happy and friendly on the internet and no one would dare want to do something",
    "start": "1957159",
    "end": "1963720"
  },
  {
    "text": "like what we're about to talk about so if I was to just be host W and say Hey you know I am in fact 1.23.1 and",
    "start": "1963720",
    "end": "1971200"
  },
  {
    "text": "everybody should send packets to me and I just wait a couple seconds and then I do it again what generally happens is X and Y",
    "start": "1971200",
    "end": "1978320"
  },
  {
    "text": "will ignore it right if they haven't tried to talk to the default gateway they'll just let it go by on The Wire um",
    "start": "1978320",
    "end": "1983880"
  },
  {
    "text": "when host y actually tries to talk to the default gateway he'll talk out and then the response from the ARP will be",
    "start": "1983880",
    "end": "1990320"
  },
  {
    "text": "by the real default gateway and the communications will be valid for a couple of seconds at least until that",
    "start": "1990320",
    "end": "1995840"
  },
  {
    "text": "next timer kicks off and host W sends out that message saying he's in fact",
    "start": "1995840",
    "end": "2001600"
  },
  {
    "text": "1.23.1 at that point host y will happily update its ARP table with the new new",
    "start": "2001600",
    "end": "2007200"
  },
  {
    "text": "Mac address uh for that IP address and I found that even if you're trying to use static art particularly with nt4 and",
    "start": "2007200",
    "end": "2014039"
  },
  {
    "text": "Windows 2000 for sure it won't it will allow it to be overwritten by gratuitous ARP so you set static saying no matter",
    "start": "2014039",
    "end": "2020240"
  },
  {
    "text": "what this is always the MAC address for this IP they'll respond back and overwrite it so that's uh you know one",
    "start": "2020240",
    "end": "2026760"
  },
  {
    "text": "of one of the you know opportunities to migrate so Service Pack 2 4 2K fixes it",
    "start": "2026760",
    "end": "2035360"
  },
  {
    "text": "okay all right so D sniff you I know uh Doug song's website's down he's got the",
    "start": "2035360",
    "end": "2041240"
  },
  {
    "text": "the the petition against the dmca so I figured I'd give you some some retro from his website the this is his feet I",
    "start": "2041240",
    "end": "2047159"
  },
  {
    "text": "got approval from him to uh to use his feet in presentation so long contract actually by the way to get that signed",
    "start": "2047159",
    "end": "2053158"
  },
  {
    "text": "off so what D sniff is is basically a collection of tools that will go through and do a lot of this stuff for you and",
    "start": "2053159",
    "end": "2060358"
  },
  {
    "text": "what they also with this also did such a good job of showing you and this is why I'm continuing to talk about dff even",
    "start": "2060359",
    "end": "2065638"
  },
  {
    "text": "though it's been around for a couple years is it shows how you can build additional attacks on top of that layer two",
    "start": "2065639",
    "end": "2073000"
  },
  {
    "text": "compromise so let's let's talk about an action we wrote a real quick batch file that basically says I'm going to delete",
    "start": "2073000",
    "end": "2078398"
  },
  {
    "text": "the default gateway's ARP address I'm going to Ping the default gateway once then I'm going to show the AR table so",
    "start": "2078399",
    "end": "2083839"
  },
  {
    "text": "you can see here here's the ARP entry for the actual default gateway then I run ARP spoof another",
    "start": "2083839",
    "end": "2089878"
  },
  {
    "text": "very very difficult to use tool you type ARP spoof and then the address you want to spoof and uh and at that point when I",
    "start": "2089879",
    "end": "2096440"
  },
  {
    "text": "do an AR a again you'll see that the MAC address has changed this is the core function of any kind of an ARP spoofing",
    "start": "2096440",
    "end": "2102400"
  },
  {
    "text": "attack right you can make this much more selective this is a really noisy broadcast if I was really trying to",
    "start": "2102400",
    "end": "2107760"
  },
  {
    "text": "cause some harm I would probably just ARP spoof my target to try and make the network a little less",
    "start": "2107760",
    "end": "2114320"
  },
  {
    "text": "noisy okay so now all the traffic is basically flowing through this through the ARP spoof box in a half duplex",
    "start": "2114400",
    "end": "2120520"
  },
  {
    "text": "manner right it's not quite a sniffer but it's good enough because I'm seeing all the good stuff anyway uh Port",
    "start": "2120520",
    "end": "2125720"
  },
  {
    "text": "security helps not at all right because I haven't spoofed a MAC address I've just spoofed the ownership of an IP",
    "start": "2125720",
    "end": "2132280"
  },
  {
    "text": "address associated with the MAC address so the port security stuff you know setting the limits on the number of Macs that I talked about earlier won't help",
    "start": "2132280",
    "end": "2139560"
  },
  {
    "text": "the attack could also be generated in the opposite direction this is sort of a service attack a lot of service providers are concerned about you know",
    "start": "2139560",
    "end": "2145599"
  },
  {
    "text": "if if this half of the room is McDonald's and this half is Burger King and a packet comes in over a you know",
    "start": "2145599",
    "end": "2150880"
  },
  {
    "text": "Metro Ethernet or something and says you know who's McDonald's if Burger King can respond before McDonald's the r will",
    "start": "2150880",
    "end": "2156400"
  },
  {
    "text": "happily start talking over to the side so that's a that's another way the attack can be run and as I said it can",
    "start": "2156400",
    "end": "2163000"
  },
  {
    "text": "be a lot more selective so once you do that this is again building on that layer 2 compromise because now that",
    "start": "2163000",
    "end": "2170160"
  },
  {
    "text": "attacker machine will see all the packets from all the different hosts and it will then forward as it wants to to",
    "start": "2170160",
    "end": "2175720"
  },
  {
    "text": "the real default gateway and nobody will understand that their connectivity has been affected so what I can run is this",
    "start": "2175720",
    "end": "2180760"
  },
  {
    "text": "dnf and in this case I'm using minus C which is the the half duplex TCP stream reassembly which will allow me to look",
    "start": "2180760",
    "end": "2187880"
  },
  {
    "text": "at all the 30 protocols you can see at the bottom of the slide and extract just the username and password you know a lot",
    "start": "2187880",
    "end": "2193119"
  },
  {
    "text": "of sniffers that are out there you actually have to walk through and look at all the packets to see the result of the tnet because you know most of us",
    "start": "2193119",
    "end": "2198440"
  },
  {
    "text": "don't type all that fast and this will actually just look for username and then grab what's right after it look for",
    "start": "2198440",
    "end": "2203760"
  },
  {
    "text": "password and grab what's right after it and write it out to a file so you could set this up and run and I would I would be you know completely surprised if this",
    "start": "2203760",
    "end": "2210720"
  },
  {
    "text": "hasn't been run at least once already here at Defcon and will'll probably be run all the time or or or at blackhead",
    "start": "2210720",
    "end": "2215920"
  },
  {
    "text": "here and then we'll be run run all the time at Devcon so encryption so there's other there's",
    "start": "2215920",
    "end": "2222480"
  },
  {
    "text": "other things that we can do once we have everybody's traffic right you know this is I went to the great hogwash presentation they were talking about",
    "start": "2222480",
    "end": "2228520"
  },
  {
    "text": "modifying packets as they go through to do good things well the hacker can also modify packets to do bad things once all",
    "start": "2228520",
    "end": "2233800"
  },
  {
    "text": "the traffic's flowing through one of the things he can do is make sure that any DNS request is always responded with the",
    "start": "2233800",
    "end": "2239680"
  },
  {
    "text": "IP address of the attacker right so you try and go to amazon.com it tells you oh you know 10. 1.125 and the user unless",
    "start": "2239680",
    "end": "2247680"
  },
  {
    "text": "he's going to a DOS prompt and trying to Ping to figure out what the IP address is he's never going to know he's just",
    "start": "2247680",
    "end": "2253119"
  },
  {
    "text": "going to say oh you Amazon's kind of Snappy today and uh and he'll send all his traffic on the wire and once I've",
    "start": "2253119",
    "end": "2259319"
  },
  {
    "text": "done this I now can proxy every web request right this allows me to grab passwords",
    "start": "2259319",
    "end": "2265599"
  },
  {
    "text": "do anything any kind of a man-in-the-middle attack against web I can also do this with SSH when you",
    "start": "2265599",
    "end": "2272160"
  },
  {
    "text": "actually install dff you build a real RSA CT you put all the values in you can can present these credentials using op",
    "start": "2272160",
    "end": "2278200"
  },
  {
    "text": "SSL to the user so that he sees these credentials come in raise your hand if you have never clicked yes on this",
    "start": "2278200",
    "end": "2284240"
  },
  {
    "text": "message ever in your entire life we're the experts right we're the",
    "start": "2284240",
    "end": "2289960"
  },
  {
    "text": "experts imagine what your aunts and uncles and parents are doing when they see this message the security",
    "start": "2289960",
    "end": "2295319"
  },
  {
    "text": "certificate was issued by a company you have not chosen to trust and what does that have to do with buying the latest",
    "start": "2295319",
    "end": "2300839"
  },
  {
    "text": "Selen Deon CD absolutely nothing as far as this user is concerned he's going to click yes every single time",
    "start": "2300839",
    "end": "2307359"
  },
  {
    "text": "and then you're going to have basically the credit card numbers so upon inspection if you click",
    "start": "2307359",
    "end": "2312400"
  },
  {
    "text": "the view details it will look invalid but even even a Sava user that's actually going to look it's still going",
    "start": "2312400",
    "end": "2318000"
  },
  {
    "text": "to look reasonable you can see there the issuer was amazon.com itself which is a",
    "start": "2318000",
    "end": "2323040"
  },
  {
    "text": "little bit suspicious so so anybody who's you know got a clue will actually see that this is",
    "start": "2323040",
    "end": "2328760"
  },
  {
    "text": "invalid so like many attack tools many people create variations on this to make",
    "start": "2328760",
    "end": "2333800"
  },
  {
    "text": "it easier add functionality Adder cap came out recently and it doesn't support as many protocols to grab passwords as D",
    "start": "2333800",
    "end": "2340560"
  },
  {
    "text": "sniff does but it will arpspoof both sides of a communication which is really cool because now it allows real time",
    "start": "2340560",
    "end": "2346599"
  },
  {
    "text": "insertion into persistent TCP sessions so I can have a live tnet session and make it look like you type something you",
    "start": "2346599",
    "end": "2352760"
  },
  {
    "text": "didn't change what you typed kill the session hijack the session uh so it's it's uh um very nice and again very very",
    "start": "2352760",
    "end": "2361000"
  },
  {
    "text": "difficult for the script Kitty to use so it actually includes online help which I thought was kind of",
    "start": "2361000",
    "end": "2368160"
  },
  {
    "text": "funny all right so here's an example of a mitigation technique that I'm not a",
    "start": "2368160",
    "end": "2373319"
  },
  {
    "text": "huge fan of how many people here are familiar with private vlans I don't mean regular",
    "start": "2373319",
    "end": "2379119"
  },
  {
    "text": "vlans private vlans okay just a few of you this is a great tool for some aspects of security but doing it to stop",
    "start": "2379119",
    "end": "2386440"
  },
  {
    "text": "ARP spoofing is it's it's a you know we're wedging it in at best what private",
    "start": "2386440",
    "end": "2392400"
  },
  {
    "text": "Vin basically says is is let's imagine everybody in this room is in a single VL right we have lots of broadcast",
    "start": "2392400",
    "end": "2399200"
  },
  {
    "text": "storms and what we do is we could say I'm going to segment out different groups based on their function but still",
    "start": "2399200",
    "end": "2406200"
  },
  {
    "text": "have them in the same logical Network so we're all in the you know the 1.1.1 network I could basically go through and",
    "start": "2406200",
    "end": "2412040"
  },
  {
    "text": "say you know this section is in community a this section is in community B and you'll see each other's",
    "start": "2412040",
    "end": "2418520"
  },
  {
    "text": "traffic uh within your local community but you won't be able to see anybody else's traffic I could also do this with",
    "start": "2418520",
    "end": "2424280"
  },
  {
    "text": "isolated ports I could say this whole section each seat is its own isolated Port so when you sit on the wire and go",
    "start": "2424280",
    "end": "2430200"
  },
  {
    "text": "to try and ARP anything you're going to get no response except for promiscuous ports so you can see here we've got some",
    "start": "2430200",
    "end": "2436160"
  },
  {
    "text": "Community ports set up we've got isolated ports set up and then promiscuous ports this feature was",
    "start": "2436160",
    "end": "2441240"
  },
  {
    "text": "originally built for web hosting company that wanted a way to not have to burn a subnet for every single customer that",
    "start": "2441240",
    "end": "2446920"
  },
  {
    "text": "they added so we coded this feature so if a community tries to talk to another Community the traffic's blocked if a",
    "start": "2446920",
    "end": "2453079"
  },
  {
    "text": "community tries to talk to an isolated that's blocked and if isolated trying and talk to one another that's blocked as well the real cool place to do this",
    "start": "2453079",
    "end": "2460040"
  },
  {
    "text": "is in a DMZ right if I've got a DMZ deployment why not set up private VLAN so that you know my FTP server and my",
    "start": "2460040",
    "end": "2466680"
  },
  {
    "text": "web server can't talk to one another if they don't need to right you know one of the first things an attacker will do",
    "start": "2466680",
    "end": "2471960"
  },
  {
    "text": "once he compromises the first box is locally try and go get all the other boxes because he doesn't have to go back through the firewall what private Vin",
    "start": "2471960",
    "end": "2478079"
  },
  {
    "text": "will do is prevent that now the trick is and why this isn't so great for ARP spoofing is typically",
    "start": "2478079",
    "end": "2484640"
  },
  {
    "text": "people are ARP spoofing on user segment so if you do private vlans you nobody can talk to one another so it sort of",
    "start": "2484640",
    "end": "2490119"
  },
  {
    "text": "defeats the purpose of a network in the first place which is you want to try and share information so this in order to use this in a in a in a way that would",
    "start": "2490119",
    "end": "2497160"
  },
  {
    "text": "prevent AR ARP spoofing and still have the network function most of your resources would have to be someplace",
    "start": "2497160",
    "end": "2502400"
  },
  {
    "text": "else most of the time the users are talking to excuse me to servers as opposed to one another and again uh you",
    "start": "2502400",
    "end": "2509079"
  },
  {
    "text": "know 100 Pages or so at the link at the bottom all the private Vin are not the same we've got them in most of the",
    "start": "2509079",
    "end": "2514160"
  },
  {
    "text": "platforms uh on the higher end switches are called private VLS you know mid-range and lower end stuff they're called private VLAN Edge they vary a",
    "start": "2514160",
    "end": "2521119"
  },
  {
    "text": "little bit um the higher end switches up something called sticky ARP which sort of mitigates the reverse attack that we",
    "start": "2521119",
    "end": "2526880"
  },
  {
    "text": "talked about once someone sends a packet it binds the ARP entry and the MAC address to that Port permanently if you",
    "start": "2526880",
    "end": "2533319"
  },
  {
    "text": "ever need to change it you have to manually go in and clear it out so it's uh you know it's very secure but it's",
    "start": "2533319",
    "end": "2538760"
  },
  {
    "text": "also you know not the most friendly thing to try and troubleshoot um and it also will allow",
    "start": "2538760",
    "end": "2544359"
  },
  {
    "text": "you on the higher end switches to span multiple switches with private vand and to do the community ports but in general",
    "start": "2544359",
    "end": "2549920"
  },
  {
    "text": "most people just need the isolated ports and the promiscuous ports and in that case it's fairly easy private VLAN",
    "start": "2549920",
    "end": "2555599"
  },
  {
    "text": "configuration in Catos is kind of a pain I've got a whole slide next slide that walks through how to do it on iOS it's",
    "start": "2555599",
    "end": "2561040"
  },
  {
    "text": "really easy you just say Port protected and that means the port's isolated if you don't type that it's a promiscuous",
    "start": "2561040",
    "end": "2567640"
  },
  {
    "text": "Port so with cats what you first have to do is go through you know if we walk through first you set up a VLAN and say",
    "start": "2567640",
    "end": "2574400"
  },
  {
    "text": "this is a private VLAN primary me this is my primary VLAN then you can do a show P VLAN see that VLAN 41 is part of",
    "start": "2574400",
    "end": "2581200"
  },
  {
    "text": "it then you have to create your isolated VLAN so you'd say you know set VLAN 42",
    "start": "2581200",
    "end": "2586599"
  },
  {
    "text": "isolated you know pvl isolated then you have to map the two of them together so you say set PV land 41",
    "start": "2586599",
    "end": "2593880"
  },
  {
    "text": "42 and then you have to set the ports that should be bound to that mapping and that will basically create isolated",
    "start": "2593880",
    "end": "2600359"
  },
  {
    "text": "ports for uh ports 39 and 310 in that and then the VLAN isn't really ref",
    "start": "2600359",
    "end": "2606119"
  },
  {
    "text": "referred to as VLAN 41 or 42 it's referred to as the group 4142 then you just have to map the",
    "start": "2606119",
    "end": "2612640"
  },
  {
    "text": "promiscuous Port so if you've got a router port or an msfc off of the switch you just have to bind that through this",
    "start": "2612640",
    "end": "2618319"
  },
  {
    "text": "set PV land mapping command which is pretty straightforward all right other things",
    "start": "2618319",
    "end": "2623720"
  },
  {
    "text": "you can do for ARP spoofing many IDs systems will watch for large amounts of",
    "start": "2623720",
    "end": "2629319"
  },
  {
    "text": "ARP traffic right if it sees lots of messages it'll flag an alarm which is nice ARP watch is a freely available",
    "start": "2629319",
    "end": "2634960"
  },
  {
    "text": "tool which will watch AR binding so you can watch for changes in the AR tables for things you really care about you",
    "start": "2634960",
    "end": "2640720"
  },
  {
    "text": "could use static ARP for really critical servers default gateways critical devices but again administratively you",
    "start": "2640720",
    "end": "2646319"
  },
  {
    "text": "have to wonder if you're really going to be able to manage this over time and then Cisco is working on sort of an ARP",
    "start": "2646319",
    "end": "2651559"
  },
  {
    "text": "firewall which is going to be deployed here uh in some of our higher-end switches to allow you to control ARP entries from all the different",
    "start": "2651559",
    "end": "2659119"
  },
  {
    "text": "devices all right spanning tree attacks how many people here are a spanning tree",
    "start": "2659160",
    "end": "2664599"
  },
  {
    "text": "expert one two right how many people here like forgot you know not even enough they want to forget more about",
    "start": "2664599",
    "end": "2670720"
  },
  {
    "text": "spanning tree yeah it's I'm I I you know count myself in that group as well it's like you remember at some point in your",
    "start": "2670720",
    "end": "2676920"
  },
  {
    "text": "networking career you learned about spanning tree and then you quickly forgot about it you said oo an IP address that makes sense so what",
    "start": "2676920",
    "end": "2683559"
  },
  {
    "text": "spanning tree is trying to do is maintain a loop free topology that's basically all you need to remember to talk about the attacks if you have",
    "start": "2683559",
    "end": "2689200"
  },
  {
    "text": "multiple switches with multiple paths and you don't have spanning tree broadcast will become storms and really",
    "start": "2689200",
    "end": "2694800"
  },
  {
    "text": "quickly you know I was doing some test testing and you know ethereal went from like one packet to 300,000 packets in",
    "start": "2694800",
    "end": "2699920"
  },
  {
    "text": "like 3 seconds when I did a ping so it's really really nasty and you know how many people here have dealt with a some",
    "start": "2699920",
    "end": "2705760"
  },
  {
    "text": "kind of a broadcast storm on their own network okay probably 10% of the room so",
    "start": "2705760",
    "end": "2711079"
  },
  {
    "text": "what happens is a tree is elected route everybody sends out these bpdu messages Bridge protocol data units what they",
    "start": "2711079",
    "end": "2717079"
  },
  {
    "text": "have inside them is a priority so they set that priority the default on most devices is",
    "start": "2717079",
    "end": "2722720"
  },
  {
    "text": "32,768 and they send that priority out and whoever's got the lowest number if they all got the same at defaults to the",
    "start": "2722720",
    "end": "2728000"
  },
  {
    "text": "lowest Mac address that switch becomes the root and then the spanning tree topology is built based on that root",
    "start": "2728000",
    "end": "2734440"
  },
  {
    "text": "Bridge so you can see here whoops the uh the root switch is up here",
    "start": "2734440",
    "end": "2741200"
  },
  {
    "text": "in the upper right and it's set to forward and then this link is set to block because it's trying to avoid the",
    "start": "2741200",
    "end": "2747319"
  },
  {
    "text": "loop so in this way you won't have any Loops going on on the wire the other thing to notice Fanning tree is very",
    "start": "2747319",
    "end": "2753000"
  },
  {
    "text": "very simple there's really no notion of a of a payload it's just a standard you know 802.3 packet it's got very few",
    "start": "2753000",
    "end": "2759800"
  },
  {
    "text": "options it's basically just sets Flags I've got a I've got a capture of it on the next slide so they have things like",
    "start": "2759800",
    "end": "2765160"
  },
  {
    "text": "a configuration message which will basically just say you know here is the root bridge and its priority they don't actually exchange topology information",
    "start": "2765160",
    "end": "2772480"
  },
  {
    "text": "all the topology is derived based on where the messages come in and what priority they're set to you can also",
    "start": "2772480",
    "end": "2777880"
  },
  {
    "text": "have something called the topology change notification and then a topology change acknowledgement and that's going to matter on the next slide when we talk",
    "start": "2777880",
    "end": "2784359"
  },
  {
    "text": "about some of the ways that you could attack networks with poorly uh poorly deployed spanning",
    "start": "2784359",
    "end": "2790119"
  },
  {
    "text": "tree so different attacks so the easiest attack uh is just basically changing the",
    "start": "2790119",
    "end": "2796680"
  },
  {
    "text": "topology somehow if I can change the topology by you know sending out a bpdu or something like that basically it",
    "start": "2796680",
    "end": "2803160"
  },
  {
    "text": "takes about 30 to 45 seconds and the testing that I did if I didn't tweak any of the values on the box you know if I",
    "start": "2803160",
    "end": "2808520"
  },
  {
    "text": "introduce a link that would be looped and needed to be blocked or if I failed a link that was primary and needed to",
    "start": "2808520",
    "end": "2814119"
  },
  {
    "text": "fail over the backup 30 to 45 seconds right so I keep doing that and that would be a nice Doss in and of itself um",
    "start": "2814119",
    "end": "2820800"
  },
  {
    "text": "you know very annoying one admittedly there's there's some features Cisco's got some features and some of the other vendors have some features",
    "start": "2820800",
    "end": "2826800"
  },
  {
    "text": "like Port fast and Uplink fast which will allow you to converge that time down significantly so what you can also do is",
    "start": "2826800",
    "end": "2836200"
  },
  {
    "text": "a topology change notification is spanning tree saying there's been a topology change and everybody needs to",
    "start": "2836200",
    "end": "2842839"
  },
  {
    "text": "relearn where everybody's located right so what we do with the TCN message is we",
    "start": "2842839",
    "end": "2848400"
  },
  {
    "text": "age out the AR that can table we were talking about with Mac flooding the default if you remember was 300 seconds",
    "start": "2848400",
    "end": "2854319"
  },
  {
    "text": "a TCN message will take it from 300 seconds to 15 seconds so if I was trying",
    "start": "2854319",
    "end": "2859640"
  },
  {
    "text": "to go after and and and Mac flood as many systems as possible I would coordinate that with the TCN message",
    "start": "2859640",
    "end": "2866160"
  },
  {
    "text": "which would Age everybody from 13 you know 300 seconds to 15 seconds and although lots of folks talk every 300",
    "start": "2866160",
    "end": "2872880"
  },
  {
    "text": "seconds not so many people talk every 15 seconds so if I was to send that TCN at the same time that I'm MAC flooding I'll",
    "start": "2872880",
    "end": "2879040"
  },
  {
    "text": "probably knock most of the people off the network unless they're really chatty or in the middle of a download um we also found you know we",
    "start": "2879040",
    "end": "2887000"
  },
  {
    "text": "originally were thinking should we build some of this stuff out with uh you know with with libnet or whatever in",
    "start": "2887000",
    "end": "2892640"
  },
  {
    "text": "actuality you don't need to do any of that you I was just using an open BSD box and I'm and you just turn on you use",
    "start": "2892640",
    "end": "2898200"
  },
  {
    "text": "BR config just like if config and you say BR config you know Bridge zero and the interfaces you want to be in the",
    "start": "2898200",
    "end": "2904160"
  },
  {
    "text": "bridge and then whether or not you want it to talk spanning tree and if you wanted to talk spanning tree what priority you want it to sent to and then",
    "start": "2904160",
    "end": "2909800"
  },
  {
    "text": "all of a sudden it's a bridge all the layer three stuff keeps working at the same time it's a bridge so this can yield to some more interesting attacks",
    "start": "2909800",
    "end": "2916520"
  },
  {
    "text": "you can see here on the right this is just a screenshot for your benefit of of a regular configure message so you can",
    "start": "2916520",
    "end": "2921960"
  },
  {
    "text": "see it's really simple when you actually get down to spanning tree it's just got you know some Flags whether it's a TCN or a TCA it identifies who's the roote",
    "start": "2921960",
    "end": "2929640"
  },
  {
    "text": "and what Mac address they're located at so let's talk through an attack example",
    "start": "2929640",
    "end": "2936960"
  },
  {
    "text": "so if I'm the attacker and I have dual homed myself to two different switches",
    "start": "2936960",
    "end": "2942599"
  },
  {
    "text": "right I was originally thinking well this is just going to be a theoretical attack but then I thought lots of folks have a switching set up where they have",
    "start": "2942599",
    "end": "2949160"
  },
  {
    "text": "stackable switches right they have lots of switches at the axis layer well if I plugged into a port in one Cube and then took a long cable and plugged into a",
    "start": "2949160",
    "end": "2955400"
  },
  {
    "text": "port in another Cube very likely I might be on another switch so if I'm able to do that then I become a bridge",
    "start": "2955400",
    "end": "2963119"
  },
  {
    "text": "myself so I send this out to try and become the root Bridge you can see what'll happen is the roote will change",
    "start": "2963119",
    "end": "2970359"
  },
  {
    "text": "you saw it move there down to the attacker spanning tree will then recalculate his local links will go into",
    "start": "2970359",
    "end": "2976359"
  },
  {
    "text": "forwarding and the link between the access switches will go into blocking which is a Doss attack in and of itself",
    "start": "2976359",
    "end": "2982400"
  },
  {
    "text": "right and then the traffic will basically flow through the attacker",
    "start": "2982400",
    "end": "2987440"
  },
  {
    "text": "right so we verified this very easily in the lab using BR config and everything we could do with d sniff now you can do",
    "start": "2987440",
    "end": "2994440"
  },
  {
    "text": "with spanning tree right everything flows through and actually I was lazy in the in the lab I didn't want to deal",
    "start": "2994440",
    "end": "3000599"
  },
  {
    "text": "with configuring the bridge on two interfaces uh on my BSD box so I just plugged in a hub and plugged the The",
    "start": "3000599",
    "end": "3006400"
  },
  {
    "text": "Bridge Port into that and then plugg the two uplinks over to uh the two the two other uh access switches and that was a",
    "start": "3006400",
    "end": "3013000"
  },
  {
    "text": "really great denial service attack too because I had gigabit links between my two access switches and I had a half",
    "start": "3013000",
    "end": "3019559"
  },
  {
    "text": "duplex 10 megabit Hub connected to my you know attacking vssd box and although",
    "start": "3019559",
    "end": "3025559"
  },
  {
    "text": "spanning tree is topology aware it's always from the perspective of the root",
    "start": "3025559",
    "end": "3030839"
  },
  {
    "text": "so if you are root you get to decide the topology effectively through the through through the way that the span inry",
    "start": "3030839",
    "end": "3036640"
  },
  {
    "text": "protocol works so I took a giglink to a half duplex 10 megalink right so that's that's pretty",
    "start": "3036640",
    "end": "3042119"
  },
  {
    "text": "nasty in addition to the fact that I'm now seeing all the traffic flow through the attacker machine and I can you know",
    "start": "3042119",
    "end": "3047400"
  },
  {
    "text": "do whatever I want to the traffic okay so if we try and uh do some",
    "start": "3047400",
    "end": "3052640"
  },
  {
    "text": "applied knowledge and take all the attacks that we talked about and try and do something interesting this is again not in your books U let's walk through",
    "start": "3052640",
    "end": "3059160"
  },
  {
    "text": "one of the goals so let's assume you know I'm sitting off of an access switch and I",
    "start": "3059160",
    "end": "3064960"
  },
  {
    "text": "want to get access to traffic going between a couple of Chatty servers that somebody's basically done static ARP",
    "start": "3064960",
    "end": "3071839"
  },
  {
    "text": "right so I configured static ARP and so they're really chatty and so I can try",
    "start": "3071839",
    "end": "3076920"
  },
  {
    "text": "and do some things right what if I cam FL right well I cam flood they're so chatty they never age out they're even",
    "start": "3076920",
    "end": "3083280"
  },
  {
    "text": "chatting every faster than every 15 seconds so they're never going to age out they have static ARP so ARP spoofing",
    "start": "3083280",
    "end": "3089799"
  },
  {
    "text": "isn't going to work right so what I start by doing is Mac flooding the access switch the traffic",
    "start": "3089799",
    "end": "3096440"
  },
  {
    "text": "between the two servers let's assume is flowing through these two distribution layer switches here so I flood the",
    "start": "3096440",
    "end": "3102119"
  },
  {
    "text": "access switch because the access switch doesn't have that server communication at all after I do that then I run BR config",
    "start": "3102119",
    "end": "3109680"
  },
  {
    "text": "set up the bridge on my attacking machine set myself to Priority zero I become the root the topology gets Recon",
    "start": "3109680",
    "end": "3116760"
  },
  {
    "text": "converged based on that you'll see the roote move from the axis switch down to the attacker",
    "start": "3116760",
    "end": "3122960"
  },
  {
    "text": "machine spanning tree is going to recalculate so the axis switch now is set to forwarding so now I've got again",
    "start": "3122960",
    "end": "3130079"
  },
  {
    "text": "a nice denial of service if I had a giggy you know backbone link and fasty up links or maybe I had 10 gig on my",
    "start": "3130079",
    "end": "3135359"
  },
  {
    "text": "backbone and giggy up links now I've already created a nice denial service but now um what winds up",
    "start": "3135359",
    "end": "3143240"
  },
  {
    "text": "happening is I filled the can table on the access switch already so now when",
    "start": "3143240",
    "end": "3148280"
  },
  {
    "text": "spanning tree Recon converges that chatty server tries to talk through the access switch and the cam table's",
    "start": "3148280",
    "end": "3154760"
  },
  {
    "text": "already filled so then he has to flood right so this is a way that you can get a chatty server on one switch if you can",
    "start": "3154760",
    "end": "3161319"
  },
  {
    "text": "get them to go through another switch and you flood the switch before you can you can then start seeing all the traffic just like you would if you were",
    "start": "3161319",
    "end": "3166720"
  },
  {
    "text": "flooding them locally so I tested this in the lab and uh worked",
    "start": "3166720",
    "end": "3171960"
  },
  {
    "text": "fine so the good news here I get to be a bit of an Optimus now spanning tree attacks are very very easy to stop right",
    "start": "3172000",
    "end": "3179280"
  },
  {
    "text": "so there's two features one is called bpdu guard and this is a feature I found out about the hard way because we have",
    "start": "3179280",
    "end": "3185359"
  },
  {
    "text": "it implemented at Cisco is uh basically what it says is you plug in a switch or anything that talks Banning tree into",
    "start": "3185359",
    "end": "3191760"
  },
  {
    "text": "the network that's configured with this bpdu guard turned on and it turns the port off right so I was trying to plug a",
    "start": "3191760",
    "end": "3198240"
  },
  {
    "text": "switch in to do some of my lab testing I had a bunch of boxes and I plugged in the switch and my link went dead damn you know what's going on so I went talk",
    "start": "3198240",
    "end": "3204319"
  },
  {
    "text": "to talk to everybody and we found out about this feature and then it was implemented so it's very easy to fix right I just turned off spanning Tree on",
    "start": "3204319",
    "end": "3210079"
  },
  {
    "text": "my switch and then everything worked just fine",
    "start": "3210079",
    "end": "3214280"
  },
  {
    "text": "question yeah I changed my mind or my mind was changed through the the collective learning of everyone so um",
    "start": "3217160",
    "end": "3225040"
  },
  {
    "text": "what we were talking about originally some people have recommended this and I wound up taking their recommendation without thinking it through myself that",
    "start": "3225040",
    "end": "3232040"
  },
  {
    "text": "the best way to deal with spending Tre is to just turn it off right because that eliminates everybody from being",
    "start": "3232040",
    "end": "3237359"
  },
  {
    "text": "able to reconverge the topology if you don't have loops why run spanning tree well then if you if you run SP if you",
    "start": "3237359",
    "end": "3244000"
  },
  {
    "text": "don't run spanning tree then another nice attack from the attacker's perspective is to introduce a loop and",
    "start": "3244000",
    "end": "3249119"
  },
  {
    "text": "now I've created a nice denial service attack so the way to stop these attacks is so easy using spinning tree I'd",
    "start": "3249119",
    "end": "3255200"
  },
  {
    "text": "rather have just people leave spinning Tree on and configure these features so you basically any port fast Port which",
    "start": "3255200",
    "end": "3262000"
  },
  {
    "text": "in Cisco terminology is just a port you've configured uh as a report will basically globally be be put in this",
    "start": "3262000",
    "end": "3267839"
  },
  {
    "text": "bpdu guard there's a slightly less hostile feature you can turn on called root guard which is uh available on some",
    "start": "3267839",
    "end": "3274839"
  },
  {
    "text": "different switches and what root guard does is say you can talk bpdu all you want you can talk span Tre as long as",
    "start": "3274839",
    "end": "3280160"
  },
  {
    "text": "you don't decide to become the root bridge if you do that then I shut you off there's a question over",
    "start": "3280160",
    "end": "3287240"
  },
  {
    "text": "here yeah so they updated slide deck we'll get it to the black hat website as soon as",
    "start": "3287599",
    "end": "3292839"
  },
  {
    "text": "possible all right so that's how you stop spending tree attacks all right so now let's shift",
    "start": "3292839",
    "end": "3299680"
  },
  {
    "text": "gears and talk about VLAN trunking protocol is anybody here using vtp on their own networks just a few anybody like it on",
    "start": "3299680",
    "end": "3307000"
  },
  {
    "text": "their own networks it was built originally to be a convenience feature we wanted to share VLAN information",
    "start": "3307000",
    "end": "3312119"
  },
  {
    "text": "between lots of different switches so we wanted to say all right I configured 25 VLS on this switch I want to propagate",
    "start": "3312119",
    "end": "3318240"
  },
  {
    "text": "that to all the other switches so I don't have to manually configure it on all these other switches unfortunately",
    "start": "3318240",
    "end": "3323599"
  },
  {
    "text": "most people and I count myself among this group get a little uneasy when you start doing configurations for the",
    "start": "3323599",
    "end": "3328839"
  },
  {
    "text": "administrator I want to know exactly where my VLS are so for those people just don't use vtp but folks who are",
    "start": "3328839",
    "end": "3335319"
  },
  {
    "text": "using vtp please use the md5 digest that's available with vtp which we'll",
    "start": "3335319",
    "end": "3340640"
  },
  {
    "text": "just add you know it'll add the digest to the message so you can at least be assured that the communication is reasonably authenticated again this is",
    "start": "3340640",
    "end": "3348160"
  },
  {
    "text": "another one of those 82. um 802.3 with with SNAP the snap protocol type is 2003",
    "start": "3348160",
    "end": "3353720"
  },
  {
    "text": "so this will all show up in ether matal so potential attacks so one of the",
    "start": "3353720",
    "end": "3359200"
  },
  {
    "text": "attacks you could do is if you are able to become the uh be able to speak",
    "start": "3359200",
    "end": "3364839"
  },
  {
    "text": "basically vtp you could become there's this notion of vtp server and vtp client if I become a vtp server and I have the",
    "start": "3364839",
    "end": "3371240"
  },
  {
    "text": "domain name which is all sent in the clear I could basically create a new configuration revision which has all the",
    "start": "3371240",
    "end": "3377240"
  },
  {
    "text": "VLS deleted and then all the other switches will happily say well the server told me that there should be no vlans and it will delete all the vlans",
    "start": "3377240",
    "end": "3384960"
  },
  {
    "text": "right so this is this is attack that that I found out about actually had happened to someone um through through misconfiguration and was one of the",
    "start": "3384960",
    "end": "3391400"
  },
  {
    "text": "reasons they're not running btp anymore um this is one way to do it you can see the the uh the the I'm sorry the capture",
    "start": "3391400",
    "end": "3399280"
  },
  {
    "text": "here and it's pretty straightforward this is actually the first of two messages the second message contains all",
    "start": "3399280",
    "end": "3404760"
  },
  {
    "text": "the vlen information",
    "start": "3404760",
    "end": "3408119"
  },
  {
    "text": "question",
    "start": "3413880",
    "end": "3416880"
  },
  {
    "text": "right so so so so the question was um uh Cisco switch when you first turn them on or configured the vi vtp servers you",
    "start": "3420520",
    "end": "3427400"
  },
  {
    "text": "still have to set the vtp domain now so you have to manually as a user set the domain which would then cause all the VLS to be overwritten so you have an",
    "start": "3427400",
    "end": "3433920"
  },
  {
    "text": "opportunity there to switch it to client before you set the domain name so very easy to turn off just say set vtp mode",
    "start": "3433920",
    "end": "3439960"
  },
  {
    "text": "transparent or off depending on the switch you'll have different options you can basically turn vtp off",
    "start": "3439960",
    "end": "3446640"
  },
  {
    "text": "all right so there's some other things we can do at Layer Two there's this layer two Port authentication is anyone here brave enough to actually run vmps",
    "start": "3446640",
    "end": "3454520"
  },
  {
    "text": "VLAN management policy server this is the mechanism to take a MAC address and",
    "start": "3454520",
    "end": "3459920"
  },
  {
    "text": "Associate that Mac address with a given VLAN so I can set it up so everybody here you know can be divided based on",
    "start": "3459920",
    "end": "3465839"
  },
  {
    "text": "their functional group within an organization and based on you connecting it will learn what Mac address you are",
    "start": "3465839",
    "end": "3471680"
  },
  {
    "text": "look you up in a table and then assign your VLAN right again again for the same reasons I recommended not to do Port",
    "start": "3471680",
    "end": "3477359"
  },
  {
    "text": "security with a lot of different Mac addresses I recommend not to do vmps because managing all this vmps stuff is",
    "start": "3477359",
    "end": "3483160"
  },
  {
    "text": "very very painful again you know Mac addresses are Nicks fail it's going to be very painful to maintain the database",
    "start": "3483160",
    "end": "3489680"
  },
  {
    "text": "so it uses a protocol there's another reason not to do this called vqp VLAN query protocol this protocol is UDP",
    "start": "3489680",
    "end": "3495599"
  },
  {
    "text": "based and it's completely unauthenticated so if you're using it for a security reason you should be worried because it's all being sent in",
    "start": "3495599",
    "end": "3501359"
  },
  {
    "text": "the clear anyway um basically you know if if you fail that violation or you're a MAC",
    "start": "3501359",
    "end": "3506920"
  },
  {
    "text": "address that you don't know about you can set the default policy to give you a default VLAN that maybe has limited",
    "start": "3506920",
    "end": "3513160"
  },
  {
    "text": "functionality or to just not let you on the network at all so the way it works is you have this vmps server which is",
    "start": "3513160",
    "end": "3519640"
  },
  {
    "text": "typically a switch then you have a vmps client so the database gets pushed to the server over tftp it's a flat file",
    "start": "3519640",
    "end": "3526880"
  },
  {
    "text": "database that basically has all the Mac entries and what vlans they should be on the client",
    "start": "3526880",
    "end": "3532000"
  },
  {
    "text": "connects and these vqp messages are sent between the client and the",
    "start": "3532000",
    "end": "3537319"
  },
  {
    "text": "server and again it's all sent in clear UDP based very easy to spoof um there's no tools I know about",
    "start": "3537319",
    "end": "3545079"
  },
  {
    "text": "this uh today and that's mostly because people would have a hard time developing a tool that you know on Tenth of 1% of",
    "start": "3545079",
    "end": "3550480"
  },
  {
    "text": "Cisco switch owners might actually run you can see ethereal doesn't even decode it which tells you how often it's used",
    "start": "3550480",
    "end": "3555520"
  },
  {
    "text": "ethereal decodes just about everything right so that they don't decode this is is indicative of how often it's used but",
    "start": "3555520",
    "end": "3561000"
  },
  {
    "text": "you can see it's basically you know just running on a couple of UDP Source ports this is the vqp query here you can see",
    "start": "3561000",
    "end": "3567000"
  },
  {
    "text": "in the message fa08 which is the message the port that is trying to authenticate",
    "start": "3567000",
    "end": "3573520"
  },
  {
    "text": "and that it's currently set up to the nun VLAN you can see right after that the nun VLAN over",
    "start": "3573520",
    "end": "3579039"
  },
  {
    "text": "here so you know you could do some different things if you were able to spoof this you could basically get on",
    "start": "3579039",
    "end": "3584359"
  },
  {
    "text": "VLS you're not supposed to prevent other people from getting on VLS you know delete the configurations out uh the",
    "start": "3584359",
    "end": "3590640"
  },
  {
    "text": "response you can see come back and here you can see it's assigning the user to VLAN 8 so if you have to use vqp or vmps do it",
    "start": "3590640",
    "end": "3598359"
  },
  {
    "text": "out of band Meaning send your control traffic your sc0 interface on your Catalyst switch set that to a different",
    "start": "3598359",
    "end": "3603920"
  },
  {
    "text": "VLAN different IP range so it doesn't get sent over the same links that your user traffic is sent on and if you've",
    "start": "3603920",
    "end": "3609520"
  },
  {
    "text": "got the bodies to deal with all the MAC address tables and entries that are going to change on a daily basis in a large organization you probably have the",
    "start": "3609520",
    "end": "3615799"
  },
  {
    "text": "resources to deal with this security like I said most people aren't using this so 802 NX EAP I'm not going",
    "start": "3615799",
    "end": "3621720"
  },
  {
    "text": "to spend a lot of time on this because it was a whole 802 andx talk uh at black hat but the basic idea is this is a",
    "start": "3621720",
    "end": "3627079"
  },
  {
    "text": "standard based way to do what I just talked about with vmps I can basically do EAP over Lan across a21x and send",
    "start": "3627079",
    "end": "3634400"
  },
  {
    "text": "messages back and forth to authenticate a given user to a given domain there's an open source implementation of it it's",
    "start": "3634400",
    "end": "3640000"
  },
  {
    "text": "natively supported in all flavors of Windows XP uh and Microsoft has has made some Rumblings about back converting it",
    "start": "3640000",
    "end": "3646000"
  },
  {
    "text": "though I haven't seen any commitments yet so real quick what it looks like the client basically has his ID requested by",
    "start": "3646000",
    "end": "3653520"
  },
  {
    "text": "the switch the switch responds with his ID or the the the host responds with his ID and password that gets forwarded on",
    "start": "3653520",
    "end": "3660799"
  },
  {
    "text": "Via radius so keep in mind the 02x is really only between the user and the",
    "start": "3660799",
    "end": "3666480"
  },
  {
    "text": "switch the switch sort of acts as a middleman he forwards that inside radius or whatever other mechanism you've",
    "start": "3666480",
    "end": "3671559"
  },
  {
    "text": "chosen to use for your EAP transport uh that comes back from the ACs server the",
    "start": "3671559",
    "end": "3676799"
  },
  {
    "text": "radius server and gets sent on to the switch who's accepted so this is this is",
    "start": "3676799",
    "end": "3681880"
  },
  {
    "text": "another way to do this this is interesting new techn ology I'm not sure that I'd recommend everybody running on their production networks today uh over",
    "start": "3681880",
    "end": "3689039"
  },
  {
    "text": "time I think some of the things we can do with 02 andx will be interesting if we can do things like enforcing um you",
    "start": "3689039",
    "end": "3695200"
  },
  {
    "text": "know antivirus signature levels or personal firewall policy levels and do that kind of thing through 02x that",
    "start": "3695200",
    "end": "3700880"
  },
  {
    "text": "could be an interesting way to to try and make you know the average user a little bit more secure the uh also to note the",
    "start": "3700880",
    "end": "3707280"
  },
  {
    "text": "University of Maryland paper that came out attacking 802 andx was primarily attacking 802 andx as implemented for",
    "start": "3707280",
    "end": "3713599"
  },
  {
    "text": "wireless which if if you were at the 02 andx presentation earlier 802 andx is never really developed for wireless",
    "start": "3713599",
    "end": "3719640"
  },
  {
    "text": "question way in the",
    "start": "3719640",
    "end": "3722240"
  },
  {
    "text": "back so the question is could could the attacker send this message directly to a",
    "start": "3732960",
    "end": "3738000"
  },
  {
    "text": "user as he connects to the switch I'm not sure that the messages would actually be propagated through the",
    "start": "3738000",
    "end": "3743400"
  },
  {
    "text": "switch because I think they're all going to be just local messages without because they're not going to have any IP addresses so that'd be interesting the",
    "start": "3743400",
    "end": "3749200"
  },
  {
    "text": "thing to talk about afterwards it's all going to be at layer to is it flooded to is the",
    "start": "3749200",
    "end": "3757920"
  },
  {
    "text": "me okay no because the message is at Layer Two the question is would it get flooded",
    "start": "3757920",
    "end": "3762960"
  },
  {
    "text": "to the port the messages are all exchanged locally there's no IP addresses associated with",
    "start": "3762960",
    "end": "3768720"
  },
  {
    "text": "them no you shouldn't you shouldn't it's set up with eapol it's always has an open eapol EAP over Lan um hole",
    "start": "3772760",
    "end": "3780680"
  },
  {
    "text": "basically so you can send the initial authentication request but everything else should be dead so there's some",
    "start": "3780680",
    "end": "3786039"
  },
  {
    "text": "other attacks not that they're any less significant just that they didn't really have a nice category to go into so CDP",
    "start": "3786039",
    "end": "3792240"
  },
  {
    "text": "uh CDP is the Cisco Discovery protocol it's a proprietary protocol again uh using the same it 2.3 packet the snap",
    "start": "3792240",
    "end": "3799319"
  },
  {
    "text": "protocol types 2000 it is a great information gathering protocol for a",
    "start": "3799319",
    "end": "3804520"
  },
  {
    "text": "network administrator or for an attacker because it's going to give you a lot of information about what version of code The Cisco devices are running and also",
    "start": "3804520",
    "end": "3812319"
  },
  {
    "text": "this is something that you don't see when you actually look at it on a Cisco device I captured this off ethereal it has this capability setting where it'll",
    "start": "3812319",
    "end": "3818559"
  },
  {
    "text": "basically say you know will this device do layer three routing will it do bridging you know will it uh forward",
    "start": "3818559",
    "end": "3824200"
  },
  {
    "text": "icmp messages you know will it provide all this different functionality so all these messages are sent in the clear so",
    "start": "3824200",
    "end": "3830440"
  },
  {
    "text": "you know ethereal will decode this stuff happily and let you know what VLAN you are on you can see down here the native",
    "start": "3830440",
    "end": "3835760"
  },
  {
    "text": "VLAN so that's going to be useful if you're trying to do VLAN hopping you're going to have to first determine what VLAN you're on while CDP will tell you",
    "start": "3835760",
    "end": "3842000"
  },
  {
    "text": "that so the easy thing to do is just to turn CDP off if you don't need it keep in mind that Cisco developed CDP for a",
    "start": "3842000",
    "end": "3848079"
  },
  {
    "text": "reason some applications make use of it so one of the things to think about is maybe allow it to run on Uplink ports",
    "start": "3848079",
    "end": "3853480"
  },
  {
    "text": "but not on user ports you're going to have to decide based on your own policy what settings you",
    "start": "3853480",
    "end": "3859200"
  },
  {
    "text": "want all right besides this information gathering uh benefit that CDP would provide an attacker there was also an",
    "start": "3859279",
    "end": "3865599"
  },
  {
    "text": "attack that uh that FX at phenol it found that basically we didn't do any bounds checking for our CDP database so",
    "start": "3865599",
    "end": "3872160"
  },
  {
    "text": "if you just sent a bunch of bogus CDP router you know hey I'm another router connected to this port you did that over",
    "start": "3872160",
    "end": "3877240"
  },
  {
    "text": "and over again eventually it would run out of memory on the router of the switch and the switch would crash right",
    "start": "3877240",
    "end": "3882760"
  },
  {
    "text": "so we fixed that but the reason I bring it up is because these are the version numbers you have to be running to not be",
    "start": "3882760",
    "end": "3888079"
  },
  {
    "text": "vulnerable as you can see there's no 11. release there's no 12.0 release so you've got to be running fairly new code",
    "start": "3888079",
    "end": "3894160"
  },
  {
    "text": "code to not be vulnerable to this attack so I I bring it up because it didn't get a whole lot of press when it first came",
    "start": "3894160",
    "end": "3899240"
  },
  {
    "text": "out you can see the uh the CT advisory and the Cisco advisory there at the",
    "start": "3899240",
    "end": "3904599"
  },
  {
    "text": "bottom I'm I'm not a the question is is there a device that I can't get the newer version of code to not be",
    "start": "3917240",
    "end": "3923440"
  },
  {
    "text": "vulnerable to the attack uh we'd have to take a look at the advisory to to find out for sure I mean I don't know like a",
    "start": "3923440",
    "end": "3928839"
  },
  {
    "text": "like a 1900 Series Catalyst switch I you know I I'd be real surprised if you could get really really new code for",
    "start": "3928839",
    "end": "3934520"
  },
  {
    "text": "that but that'd be something we can check into all right so DHCP starvation this is another attack uh that if if at Layer",
    "start": "3934520",
    "end": "3942039"
  },
  {
    "text": "Two I can basically do the same kind of thing I did with Mac flooding except this time grab all the addresses running",
    "start": "3942039",
    "end": "3947839"
  },
  {
    "text": "over DHCP right so if I could say all right you know there's you know 300 dresses available and I'm going to grab",
    "start": "3947839",
    "end": "3953559"
  },
  {
    "text": "all 300 addresses now I've got a nice denial service first of all because the the other users that try and connect",
    "start": "3953559",
    "end": "3959039"
  },
  {
    "text": "will basically not be able to get on the network I could also even if I didn't do the starvation attack I could introduce",
    "start": "3959039",
    "end": "3964480"
  },
  {
    "text": "a rogue DHCP server which would hand those messages or hand the DHCP messages",
    "start": "3964480",
    "end": "3969599"
  },
  {
    "text": "uh to the user so they get the user would get a DHCP offer message from a rogue server and if I got that DHCP",
    "start": "3969599",
    "end": "3976000"
  },
  {
    "text": "offer and that user accepted it I would probably have set as the attacker the default gateway the DNS server the wind",
    "start": "3976000",
    "end": "3981839"
  },
  {
    "text": "server the IP address all those cool things I get to set with DHCP I would set it to my attacker's machine so then",
    "start": "3981839",
    "end": "3988079"
  },
  {
    "text": "now all the traffic is going to flow through me much the same way it would with an our spoofing attack so this is another thing that you can do with",
    "start": "3988079",
    "end": "3996160"
  },
  {
    "text": "DHCP so the trick is is the same techniques that you're going to use to mitigate cam flooding the port security",
    "start": "3996400",
    "end": "4003279"
  },
  {
    "text": "the idea of setting the maximum number of Mac addresses that can live on a given Port that will stop the denial of",
    "start": "4003279",
    "end": "4009799"
  },
  {
    "text": "service attack against DHCP but unfortunately it won't stop the Rogue DHCP server and that's because of the",
    "start": "4009799",
    "end": "4016480"
  },
  {
    "text": "way RF the RFC is for DHCP you can see some cut and paste from that RFC won't read it for you but the gist of what it",
    "start": "4016480",
    "end": "4022559"
  },
  {
    "text": "says is the client collects any and all DHCP offer messages received from any",
    "start": "4022559",
    "end": "4028960"
  },
  {
    "text": "amount of DHCP servers and the method by which that DHCP client decides which",
    "start": "4028960",
    "end": "4034720"
  },
  {
    "text": "address to check is implementation dependent so any OS can decide whatever mechanism they want you know some",
    "start": "4034720",
    "end": "4041279"
  },
  {
    "text": "obvious mechanisms they might use would be to to AC the first one maybe or to accept the one from the server that they",
    "start": "4041279",
    "end": "4047200"
  },
  {
    "text": "previously communicated with I haven't done all the testing on all the different operating systems to figure out what method each one does somebody",
    "start": "4047200",
    "end": "4053319"
  },
  {
    "text": "wants to do that that'd be a great thing to know but basically you know in order to fix this we really got to deal with",
    "start": "4053319",
    "end": "4059440"
  },
  {
    "text": "improvements the DHCP in general so we coded the you know Ralph DRS at Cisco wrote this RFC 3118 authentication for",
    "start": "4059440",
    "end": "4067400"
  },
  {
    "text": "DHCP messages and it unfortunately is sort of a victim of the chicken and egg problem in that he's written this way to",
    "start": "4067400",
    "end": "4073599"
  },
  {
    "text": "authentic miate ghcp messages but the clients don't support it because the servers don't support it and the servers aren't supporting it because the clients",
    "start": "4073599",
    "end": "4079279"
  },
  {
    "text": "don't but it basically specifies two ways to do DHCP authentication one way is a simple clear text token the other",
    "start": "4079279",
    "end": "4085880"
  },
  {
    "text": "way is to do a more sophisticated hmac md5 kind of an exchange to authenticate the messages but that's going to require",
    "start": "4085880",
    "end": "4092799"
  },
  {
    "text": "distribution of the keys out of band so from a manageability standpoint it could be very very difficult um Cisco is also",
    "start": "4092799",
    "end": "4099400"
  },
  {
    "text": "developing uh another sort of like our ARP firewall we're trying to do something with DHCP as well to limit",
    "start": "4099400",
    "end": "4104960"
  },
  {
    "text": "who's allowed to respond to DHCP requests who's allowed to see DHCP requests we already have some of this",
    "start": "4104960",
    "end": "4111080"
  },
  {
    "text": "functionality in 3550 which with this DHCP option 82 feature which was coded",
    "start": "4111080",
    "end": "4116400"
  },
  {
    "text": "for service providers to allow you to uh associate the MAC address binding with a port as opposed to with a Mac address",
    "start": "4116400",
    "end": "4123199"
  },
  {
    "text": "you can basically use this feature so that other user ports will never see DHCP requests so that the attacker will",
    "start": "4123199",
    "end": "4130120"
  },
  {
    "text": "never see the Rogue DHCP server will never see that request so he'll never be able to respond to it so the reason this",
    "start": "4130120",
    "end": "4136159"
  },
  {
    "text": "attack hasn't been wasn't coded sooner is because DHCP unlike can table flooding requires a few packets so if",
    "start": "4136159",
    "end": "4142838"
  },
  {
    "text": "you're trying to attack and grab all the addresses you have to do a couple of messages with DHCP to actually get an",
    "start": "4142839",
    "end": "4148080"
  },
  {
    "text": "address assigned to you but I was just on packet storm the other day and somebody had coded the attack and and I",
    "start": "4148080",
    "end": "4154560"
  },
  {
    "text": "haven't played with the code yet if anybody else has i' let to talk to you afterwards to figure out if it works but he's saying this will basically grab all",
    "start": "4154560",
    "end": "4160480"
  },
  {
    "text": "the DHCP addresses that are available so other best practices would be doing things like you know not using the same",
    "start": "4160480",
    "end": "4166920"
  },
  {
    "text": "DHCP server for every single security Zone in your",
    "start": "4166920",
    "end": "4171440"
  },
  {
    "text": "network you're saying you can renew an address that somebody else had owned",
    "start": "4185759",
    "end": "4192519"
  },
  {
    "text": "previously yeah so DHCP has absolutely nothing from a security standpoint by default so any of the messages that you",
    "start": "4192719",
    "end": "4199000"
  },
  {
    "text": "can send any place you can spoof a mac any place you can spoof an IP address you can basically do anything you want",
    "start": "4199000",
    "end": "4204159"
  },
  {
    "text": "with DHCP much the same way you could SE yeah it does have it does have sequence numbers",
    "start": "4204159",
    "end": "4209760"
  },
  {
    "text": "so all right so I just talked about private vlans from a security standpoint in preventing ARP spoofing did anybody",
    "start": "4209760",
    "end": "4215960"
  },
  {
    "text": "here know that they were also vulnerable so now I'm going to talk to you about some of the security issues with private vlans and what to do about it so let's",
    "start": "4215960",
    "end": "4223760"
  },
  {
    "text": "assume I've got an attacker and a victim and they're connected to isolated ports remember private VLS I'm segmenting uh",
    "start": "4223760",
    "end": "4231080"
  },
  {
    "text": "one VLAN to be basically further subdivided into functional zones so I have the attacker and the victim they're",
    "start": "4231080",
    "end": "4236360"
  },
  {
    "text": "both isolated ports let's assume you know the attacker is a web server and the victim is the FTP server and I've",
    "start": "4236360",
    "end": "4241760"
  },
  {
    "text": "compromised that first web server now I'm trying to get at the FTP server well if I just try and go directly and I send",
    "start": "4241760",
    "end": "4247440"
  },
  {
    "text": "it from Source you know A1 you know Mac a ip1 which is the attacker and send it",
    "start": "4247440",
    "end": "4252640"
  },
  {
    "text": "to destination B 2 which is the victim the private Vin are going to work just fine and drop the",
    "start": "4252640",
    "end": "4258640"
  },
  {
    "text": "traffic the trick is if the attacker sets his source to himself and the",
    "start": "4258640",
    "end": "4264840"
  },
  {
    "text": "destination Mac address to the router and the destination IP address to the victim what's going to happen well",
    "start": "4264840",
    "end": "4271520"
  },
  {
    "text": "private VLS are going to work because from a layer 2 standpoint you're not trying to talk to another isolated Port",
    "start": "4271520",
    "end": "4276560"
  },
  {
    "text": "you're trying to talk to the router so the router the switch is going to forward that traffic to the router and",
    "start": "4276560",
    "end": "4281760"
  },
  {
    "text": "routers being the nice guys that they are because they have to comply with all these rfc's that basically say under any",
    "start": "4281760",
    "end": "4287280"
  },
  {
    "text": "circumstance if you can figure out a way to get the packet to where it's supposed to go get it there the r is going to forward the packet so he's going to say",
    "start": "4287280",
    "end": "4293880"
  },
  {
    "text": "oh you're trying to talk to MAC address B um well you know let me recode it for you put the right MAC address on send it",
    "start": "4293880",
    "end": "4300560"
  },
  {
    "text": "back out on the wire and then the victim will receive the packet so the thing to know is that although this isn't a",
    "start": "4300560",
    "end": "4307239"
  },
  {
    "text": "private VLAN vulnerability because private vlans did what they were supposed to do what you wanted to do",
    "start": "4307239",
    "end": "4312560"
  },
  {
    "text": "with private vlans didn't happen so it's only unidirectional traffic unless I've compromised both hosts through some",
    "start": "4312560",
    "end": "4319080"
  },
  {
    "text": "other means then I can very easily just set a couple of static ARP entries and get the traffic to flow through very",
    "start": "4319080",
    "end": "4325159"
  },
  {
    "text": "easily um the other thing to note is firewalls will not behave like this because they don't they're not under the",
    "start": "4325159",
    "end": "4331080"
  },
  {
    "text": "same strict uh RFC compliance that routers are and that a firewall is going to see hey you're trying to talk to a",
    "start": "4331080",
    "end": "4336400"
  },
  {
    "text": "guy who's on your local segment you shouldn't be talking to me and it will just drop the packet so when we're trying to mitigate",
    "start": "4336400",
    "end": "4343560"
  },
  {
    "text": "this attack we don't actually make a change to private vlans what you have to do is set up an ACL on your Ingress",
    "start": "4343560",
    "end": "4349600"
  },
  {
    "text": "router basically saying any traffic from the local subnet to the local subnet drop it on the floor fairly easy to do",
    "start": "4349600",
    "end": "4356000"
  },
  {
    "text": "you could do this with a VLAN ACL as well um but it's sort of a layer three problem so I recommend you do it with a",
    "start": "4356000",
    "end": "4361520"
  },
  {
    "text": "router ACL right there were a couple of other things that we had the outstate guys do",
    "start": "4361520",
    "end": "4367239"
  },
  {
    "text": "that wound up not yielding any results in terms of uh doing any kind of VLAN hopping we had them just you know they",
    "start": "4367239",
    "end": "4372480"
  },
  {
    "text": "spewed a whole bunch of multi mul cast traffic multicast Mac addresses over and over and over again over a weekend and then tried to insert traffic that would",
    "start": "4372480",
    "end": "4379120"
  },
  {
    "text": "that would hop and uh that didn't work they also did the same thing with just completely random ethernet frames so",
    "start": "4379120",
    "end": "4385639"
  },
  {
    "text": "they would just send garbage you know for a weekend and then try and insert traffic to get to another VLAN and that",
    "start": "4385639",
    "end": "4391080"
  },
  {
    "text": "didn't work either all right so IP telefony how many",
    "start": "4391080",
    "end": "4396159"
  },
  {
    "text": "people here using IP telphy okay so a fair number of you so one of the best practices in IP telefony",
    "start": "4396159",
    "end": "4403520"
  },
  {
    "text": "at least Cisco's implementation is to use multiple vlans you have a voice VLAN and a data VLAN right and this is one of",
    "start": "4403520",
    "end": "4409239"
  },
  {
    "text": "many things you need to do in order to try and make IP telephony as secure as you can so the way that message gets",
    "start": "4409239",
    "end": "4415880"
  },
  {
    "text": "sent to the phone so the phone knows what vlan's to use is via CDP so I talked about CDP being used in some",
    "start": "4415880",
    "end": "4422000"
  },
  {
    "text": "places this is one of the places that it's used so we set up this auxiliary VLAN which is what the traffic is tagged",
    "start": "4422000",
    "end": "4427960"
  },
  {
    "text": "from the phones to basically flow over the voice VLAN so you can see this is just TCP dump output all the traffic is",
    "start": "4427960",
    "end": "4434560"
  },
  {
    "text": "set you can see it tagged the auxiliary VLAN is 987 so it's tagged as A1 Q",
    "start": "4434560",
    "end": "4439639"
  },
  {
    "text": "packet and then sent in the clear as well this uh this message is sent so that the phone will then learn what VLAN",
    "start": "4439639",
    "end": "4447840"
  },
  {
    "text": "it should use and then it will tag its own traffic with that VLAN and PC traffic because if you're not familiar with IP telephony typically you'll have",
    "start": "4447840",
    "end": "4454520"
  },
  {
    "text": "multiple ports you'll have the port that goes to the switch then you'll have another Port that connects to the PC so",
    "start": "4454520",
    "end": "4459719"
  },
  {
    "text": "you don't have to do two uplinks for every user what Cisco implementation does and",
    "start": "4459719",
    "end": "4465440"
  },
  {
    "text": "this is a feature by the way is we broadcast all of the traffic coming in from the Uplink Port destined for the phone we send that to the PC as well",
    "start": "4465440",
    "end": "4473120"
  },
  {
    "text": "right because if if you're trying to troubleshoot a problem with your your phones it's going to be very difficult to do uh with the phone itself because",
    "start": "4473120",
    "end": "4479560"
  },
  {
    "text": "it has very limited troubleshooting so we forward all the traffic to the user basically and then he can see the",
    "start": "4479560",
    "end": "4485320"
  },
  {
    "text": "traffic and do whatever he wants with it um we also had originally a vulnerability where you could pretend to",
    "start": "4485320",
    "end": "4492320"
  },
  {
    "text": "be the the phone by your by your PC and just be connected directly to the PC",
    "start": "4492320",
    "end": "4497639"
  },
  {
    "text": "port on the phone and spoof the MAC address of the phone that still works just fine you can spoof the MAC address",
    "start": "4497639",
    "end": "4503080"
  },
  {
    "text": "of the phone but previously we wouldn't even send a reset to an unacknowledged TCP session that came back to the phone",
    "start": "4503080",
    "end": "4509600"
  },
  {
    "text": "so if you would send a TCP request from the PC to you know some device on The Voice network the ACT would come back to",
    "start": "4509600",
    "end": "4515360"
  },
  {
    "text": "the phone the phone on seeing an unrequested TCP uh TCP act should send a reset right well he wasn't but he was",
    "start": "4515360",
    "end": "4522080"
  },
  {
    "text": "still forwarding the traffic onto the to the PC so if you remember a month or so ago we had aert announcement of",
    "start": "4522080",
    "end": "4528120"
  },
  {
    "text": "vulnerability with IP telephony in general so we cleaned up a lot of that code and uh it's it's a bit more secure",
    "start": "4528120",
    "end": "4534080"
  },
  {
    "text": "right now so the other reason I bring this up is those of you who are using IP telepan uh you're going to have some of",
    "start": "4534080",
    "end": "4540360"
  },
  {
    "text": "these features that I talked about during this presentation are going to work and some of them are not going to work so uh when you're when you're",
    "start": "4540360",
    "end": "4546960"
  },
  {
    "text": "trying to figure out what you want to do basically private vlans don't work at all and 8021 X doesn't work at all when",
    "start": "4546960",
    "end": "4552280"
  },
  {
    "text": "you're using phones and the reason we care about phone security is because today phones have no",
    "start": "4552280",
    "end": "4557600"
  },
  {
    "text": "confidentiality so there's this tool called vomit which folks have probably heard about stands for voice over",
    "start": "4557600",
    "end": "4562679"
  },
  {
    "text": "misconfigured internet telephones and let me try and shoehorn This Acronym to",
    "start": "4562679",
    "end": "4568000"
  },
  {
    "text": "work I want it to be called vomit what words can I use um and what it does is it t it basically takes a voice stream",
    "start": "4568000",
    "end": "4574000"
  },
  {
    "text": "and and dumps it out to uh via TCP dump and dumps it out to a wave file so you can imagine the damage you could cause",
    "start": "4574000",
    "end": "4580199"
  },
  {
    "text": "having access to a you know CEO's voicemail a week before earnings announcements that kind of thing so you",
    "start": "4580199",
    "end": "4586280"
  },
  {
    "text": "know vomit is kind of more of a proof of concept tool it only deals with one codec so it's not really this robust D",
    "start": "4586280",
    "end": "4591960"
  },
  {
    "text": "sniff like tool to do this but because things aren't encrypted that's one of the reasons why you really care when you're trying to deal with IP",
    "start": "4591960",
    "end": "4599120"
  },
  {
    "text": "telepan so the other thing to talk about is management when you're dealing with management we'll go through this real",
    "start": "4599120",
    "end": "4604360"
  },
  {
    "text": "fast all this stuff we just talked about doesn't mean doesn't mean anything if the attacker just tell Nets in your",
    "start": "4604360",
    "end": "4610000"
  },
  {
    "text": "switch and turns everything off so when you're dealing with a switch which just like when you're dealing with a firewall or an intrusion detection system you",
    "start": "4610000",
    "end": "4616719"
  },
  {
    "text": "need to start migrating to things like SSH like SCP uh trying to make things as secure as possible if you can't use",
    "start": "4616719",
    "end": "4623120"
  },
  {
    "text": "security protocols you need to try and migrate to out of band management for example so uh you know running all of",
    "start": "4623120",
    "end": "4629880"
  },
  {
    "text": "your management traffic off a separate VLAN potentially physically backhauling that link someplace else on the network",
    "start": "4629880",
    "end": "4635760"
  },
  {
    "text": "so that nobody else can see it um",
    "start": "4635760",
    "end": "4639840"
  },
  {
    "text": "question oh now now we get now we get to the",
    "start": "4642000",
    "end": "4647360"
  },
  {
    "text": "Cisco bashing cool no no no I know I know what you're",
    "start": "4647360",
    "end": "4652320"
  },
  {
    "text": "saying yeah so so I haven't I haven't heard Cisco make any kind of a commitment that we're going to do sshv2",
    "start": "4653520",
    "end": "4659960"
  },
  {
    "text": "um I I know that's been requested I know SSH V2 just got finally standardized now",
    "start": "4659960",
    "end": "4665360"
  },
  {
    "text": "within the last several months so now that it's completely done and standard um I'm certainly not going to make any",
    "start": "4665360",
    "end": "4671159"
  },
  {
    "text": "commitments because now I'm not in charge of any products myself I'm just a security guy so uh one of the things to",
    "start": "4671159",
    "end": "4676639"
  },
  {
    "text": "note is the vulnerabilities that are in SSH uh 1.0 you know we use SSH 1.5",
    "start": "4676639",
    "end": "4682440"
  },
  {
    "text": "Cisco's implementation of SSH is not vulnerable to any of those vulnerabilities so the the impetus for",
    "start": "4682440",
    "end": "4688199"
  },
  {
    "text": "folks when we explain that to them to go to sshv2 tends to go away that said V2 is the current protocol it's now",
    "start": "4688199",
    "end": "4694400"
  },
  {
    "text": "standard so I would be surprised if over time we don't do it so be happy to talk to you out offline and I can get get you",
    "start": "4694400",
    "end": "4700199"
  },
  {
    "text": "the names of some product managers and I can forward your information over to uh to the relevant",
    "start": "4700199",
    "end": "4705239"
  },
  {
    "text": "folks um you know today you've got ssh in a couple of the switches now we're obviously going to be migrating it to",
    "start": "4705239",
    "end": "4710320"
  },
  {
    "text": "more and more devices as we start caring as Cisco because our customers are starting to care more about dealing with",
    "start": "4710320",
    "end": "4716239"
  },
  {
    "text": "security at the campus all right so quick case study uh",
    "start": "4716239",
    "end": "4721480"
  },
  {
    "text": "real quick here's the best practices I'm just going to go through these as kind of a summary you know many of you have probably read that improving Security on",
    "start": "4721480",
    "end": "4727679"
  },
  {
    "text": "Cisco routers doc or there's a new O'Reilly book on hardening Cisco routers fortunately there's not that same due",
    "start": "4727679",
    "end": "4732920"
  },
  {
    "text": "diligence on switches so you can use this kind of as a cheat sheet for some of the functions that we recommend",
    "start": "4732920",
    "end": "4738480"
  },
  {
    "text": "people do if they're trying to deploy a switch in a secure manner keep in mind you know none of this means anything if",
    "start": "4738480",
    "end": "4743960"
  },
  {
    "text": "your security policy dictates that you want to implicitly trust all of your users that they won't do anything wrong",
    "start": "4743960",
    "end": "4749480"
  },
  {
    "text": "right if you have a policy that violates and says we shouldn't be doing Port security great I'm much more happy that",
    "start": "4749480",
    "end": "4755239"
  },
  {
    "text": "you have a security policy than that you turn all these uh these bells and whistles on so does anybody have a part of their",
    "start": "4755239",
    "end": "4763520"
  },
  {
    "text": "Network that looks like this nobody okay I should have said who",
    "start": "4763520",
    "end": "4769320"
  },
  {
    "text": "doesn't have a part of their Network um what this is is I see this all the all the time I'm asked to justify it I'm",
    "start": "4769320",
    "end": "4775960"
  },
  {
    "text": "asked to to confirm whether or not it can be done in a secure way uh what I've tried to show is over",
    "start": "4775960",
    "end": "4782600"
  },
  {
    "text": "over the course of this talk at stake did not find any method we did not find any method as Cisco to VLAN hop right if",
    "start": "4782600",
    "end": "4789880"
  },
  {
    "text": "we configure things properly all the things we we just talked about over the last hour and a half if we do all of",
    "start": "4789880",
    "end": "4795120"
  },
  {
    "text": "this we weren't able to get VLAN hopping to work that said am I going to stand up here in front of this crowd and say we",
    "start": "4795120",
    "end": "4801120"
  },
  {
    "text": "will never have a VLAN hopping issue on a Cisco device ever again you no way in hell you couldn't pay me enough what I",
    "start": "4801120",
    "end": "4807120"
  },
  {
    "text": "will say is if you use reasonably um uh current code and you try and deploy all",
    "start": "4807120",
    "end": "4814320"
  },
  {
    "text": "the best practices that we talked about you can mitigate the risk many people do this for reasons other than security one",
    "start": "4814320",
    "end": "4819800"
  },
  {
    "text": "of the big ones is physical rack space right they don't want to have to deoy 50 switches for all the different links so they deploy a couple of bigger switches",
    "start": "4819800",
    "end": "4826800"
  },
  {
    "text": "and then deal with vlans so it's technically possible to make this secure um you know at least you know given the",
    "start": "4826800",
    "end": "4833199"
  },
  {
    "text": "testing that we did but what happens if that switch gets compromised right so this is the idea of using one VLAN or",
    "start": "4833199",
    "end": "4840440"
  },
  {
    "text": "two VLS on a switch to basically control two different security zones on the network right this is one of the big",
    "start": "4840440",
    "end": "4845679"
  },
  {
    "text": "things that we've sort of uh been espousing that folks should should really think hard about before they do and nothing's really changed that about",
    "start": "4845679",
    "end": "4852080"
  },
  {
    "text": "our testing even even though we weren't able to find a way to do VLAN hopping uh assuming they're configured properly I",
    "start": "4852080",
    "end": "4857400"
  },
  {
    "text": "still wouldn't stand up here and say this is a particularly good idea because if the switch gets compromised you've",
    "start": "4857400",
    "end": "4862440"
  },
  {
    "text": "got problems also the security operations guys don't generally control the VLAN settings on the switch so now",
    "start": "4862440",
    "end": "4868280"
  },
  {
    "text": "you're relying on netops guys to make security decisions which you know probably raises the hair on the back of",
    "start": "4868280",
    "end": "4874920"
  },
  {
    "text": "the neck of many of the security guys in this room also you need to remember and this",
    "start": "4874920",
    "end": "4880040"
  },
  {
    "text": "is the this is the one core thing to remember is that security perimeter now includes the",
    "start": "4880040",
    "end": "4885120"
  },
  {
    "text": "switch right your your if either the firewall or the switch is compromised I can bypass the security controls that I",
    "start": "4885120",
    "end": "4892280"
  },
  {
    "text": "put in place on the firewall so a more secure alternative it's fairly straightforward use multiple",
    "start": "4892280",
    "end": "4897760"
  },
  {
    "text": "switches then I can make sure misconfiguration on the switch won't allow somebody to bypass the policy and",
    "start": "4897760",
    "end": "4902960"
  },
  {
    "text": "my security perimeter is now contained just to the firewall so again if configured properly",
    "start": "4902960",
    "end": "4909760"
  },
  {
    "text": "uh Cisco's and at Stakes testing during the during the the the platforms that we decided to test the the 2950 3550 4K 6K",
    "start": "4909760",
    "end": "4917920"
  },
  {
    "text": "Catos and iOS we did not find a way to VLAN hop assuming you configured everything properly we talked about some",
    "start": "4917920",
    "end": "4924760"
  },
  {
    "text": "of the things that we did discover throughout this presentation if you've got them configured improperly um that said I think I'm",
    "start": "4924760",
    "end": "4932280"
  },
  {
    "text": "pretty much done uh there's a lot of links down here in terms of all the things we talked about in the presentation you know before I was doing",
    "start": "4932280",
    "end": "4938320"
  },
  {
    "text": "this critical infrastructure roll I did a lot of the safe blueprints so if you've heard about the safe AR arure from Cisco I've written a lot of those",
    "start": "4938320",
    "end": "4944120"
  },
  {
    "text": "white papers myself uh is anybody here going to change anything the way they're doing their layer 2 network based on something they learned at this talk all",
    "start": "4944120",
    "end": "4951159"
  },
  {
    "text": "right Fair number all right thanks very much I'll be up here for",
    "start": "4951159",
    "end": "4957120"
  },
  {
    "text": "questions",
    "start": "4971560",
    "end": "4974560"
  },
  {
    "text": "e",
    "start": "5031480",
    "end": "5034480"
  },
  {
    "text": "e",
    "start": "5061360",
    "end": "5064360"
  },
  {
    "text": "e",
    "start": "5091360",
    "end": "5094360"
  },
  {
    "text": "e",
    "start": "5121280",
    "end": "5124280"
  },
  {
    "text": "e",
    "start": "5151280",
    "end": "5154280"
  },
  {
    "text": "e",
    "start": "5181199",
    "end": "5184199"
  },
  {
    "text": "e",
    "start": "5211199",
    "end": "5214199"
  },
  {
    "text": "e",
    "start": "5241119",
    "end": "5244119"
  },
  {
    "text": "e",
    "start": "5271119",
    "end": "5274119"
  },
  {
    "text": "e",
    "start": "5301040",
    "end": "5304040"
  },
  {
    "text": "e",
    "start": "5331000",
    "end": "5334000"
  },
  {
    "text": "e",
    "start": "5360920",
    "end": "5363920"
  },
  {
    "text": "e",
    "start": "5420840",
    "end": "5423840"
  },
  {
    "text": "e",
    "start": "5450840",
    "end": "5453840"
  },
  {
    "text": "e",
    "start": "5480760",
    "end": "5483760"
  },
  {
    "text": "e",
    "start": "5510760",
    "end": "5513760"
  }
]