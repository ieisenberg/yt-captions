[
  {
    "start": "0",
    "end": "96000"
  },
  {
    "text": "[Music]",
    "start": "1130",
    "end": "13519"
  },
  {
    "text": "hello everybody and welcome to my talk bypassing windows hello for business and pleasure",
    "start": "13519",
    "end": "19279"
  },
  {
    "text": "my name is ahmad salfati i'm a security researcher at cyber clubs",
    "start": "19279",
    "end": "24400"
  },
  {
    "text": "i'm 24 years old and i'm for six years in the security industry",
    "start": "24400",
    "end": "29920"
  },
  {
    "text": "and for those of you who play call of duty i'm a vehicle of duty fan so feel free to contact me and we'll play",
    "start": "29920",
    "end": "35680"
  },
  {
    "text": "together so what will we have today we'll talk a little bit about passwordless what is passwordless why",
    "start": "35680",
    "end": "42960"
  },
  {
    "text": "should we use passwordless uh instead of or of existing authentication methods",
    "start": "42960",
    "end": "49039"
  },
  {
    "text": "now then we'll speak about windows hello which is a relatively new microsoft",
    "start": "49039",
    "end": "54719"
  },
  {
    "text": "password resolution and then we will talk about the main part of this research that we did",
    "start": "54719",
    "end": "61199"
  },
  {
    "text": "and on how we managed to bypass uh windows low fashion recognition at the end we'll talk about what could be done",
    "start": "61199",
    "end": "68159"
  },
  {
    "text": "even further more in the research and for any of you that would like to continue this research is more than",
    "start": "68159",
    "end": "74880"
  },
  {
    "text": "welcome to look at this part um very closely anyway by the end of this talk you will",
    "start": "74880",
    "end": "82000"
  },
  {
    "text": "should know by 85 percent what windows low is and some of its features by 50",
    "start": "82000",
    "end": "88000"
  },
  {
    "text": "about usb and ufc by 10 you should be a little bit confused and you should have",
    "start": "88000",
    "end": "93439"
  },
  {
    "text": "a lot a lot of fun right let's go let's start uh let's talk about",
    "start": "93439",
    "end": "98560"
  },
  {
    "start": "96000",
    "end": "258000"
  },
  {
    "text": "passwordless um so what is passwordless uh so passwordless it's kind of",
    "start": "98560",
    "end": "105439"
  },
  {
    "text": "all right so before we're talking about passwordless let's talk why we should use passwordless uh i mean we have",
    "start": "105439",
    "end": "110799"
  },
  {
    "text": "existing authentication methods we have passwords we're using those four years and we why we should replace them so",
    "start": "110799",
    "end": "118240"
  },
  {
    "text": "underneath passwords there is a lot of problems inherent uh i mean we are human and we",
    "start": "118240",
    "end": "124399"
  },
  {
    "text": "tend to use weak passwords because we want to to choose password that is",
    "start": "124399",
    "end": "129440"
  },
  {
    "text": "really easy to remember um there is there are data breaches so",
    "start": "129440",
    "end": "135200"
  },
  {
    "text": "once we are giving vendor or server or password it should save it somewhere in database or something like this in some",
    "start": "135200",
    "end": "142239"
  },
  {
    "text": "cases it saves it's saved as a version of our password and in some other",
    "start": "142239",
    "end": "149440"
  },
  {
    "text": "less good cases it saves as plain text and once accurate so attackers bridging in and",
    "start": "149440",
    "end": "155200"
  },
  {
    "text": "and steal those passwords you might um they might get our password so it's",
    "start": "155200",
    "end": "160720"
  },
  {
    "text": "really bad and the third thing it's phishing attacks so phishing attacks um",
    "start": "160720",
    "end": "165920"
  },
  {
    "text": "it's a major problem because we are human and we tend to to fall to them we tend to give our passwords",
    "start": "165920",
    "end": "173040"
  },
  {
    "text": "on our will to attackers and hackers and and so this is another big problem",
    "start": "173040",
    "end": "179680"
  },
  {
    "text": "and as i mentioned before we are human and we we don't want to remember a lot of things so we will use passwords and",
    "start": "179680",
    "end": "186239"
  },
  {
    "text": "actually do this so we reuse our passwords for many vendors and if one of them got bridged we",
    "start": "186239",
    "end": "192800"
  },
  {
    "text": "actually lose all of our all of our accounts so now we understand that passwords are",
    "start": "192800",
    "end": "198879"
  },
  {
    "text": "kind of not that good as we thought uh so let's use password less so what is",
    "start": "198879",
    "end": "205440"
  },
  {
    "text": "passwordless uh so how you should do passwordless so passwordless is any authentication method that doesn't",
    "start": "205440",
    "end": "212879"
  },
  {
    "text": "really require you to send a password",
    "start": "212879",
    "end": "218560"
  },
  {
    "text": "so like fingerprint scanning or facial recognition security key or otp all of",
    "start": "218560",
    "end": "223680"
  },
  {
    "text": "those are variants of passwordless solutions about otp so otp it's kind of one-time",
    "start": "223680",
    "end": "230480"
  },
  {
    "text": "passwords and it might not be it might not sound as a possible",
    "start": "230480",
    "end": "235599"
  },
  {
    "text": "resolution but because it's one-time password and you can only use it one time it's considered as possible the",
    "start": "235599",
    "end": "242000"
  },
  {
    "text": "solution so now we we understand that passwords are bad and what is passwordless how",
    "start": "242000",
    "end": "248400"
  },
  {
    "text": "passwordless solution implemented in in in different ways so let's talk about",
    "start": "248400",
    "end": "255519"
  },
  {
    "text": "one of the uh most common implementation of passwordless which is windows hello",
    "start": "255519",
    "end": "260799"
  },
  {
    "start": "258000",
    "end": "624000"
  },
  {
    "text": "uh as i mentioned before windows hello it's microsoft a",
    "start": "260799",
    "end": "265840"
  },
  {
    "text": "relatively new password resolution so say hello to windows hello",
    "start": "265840",
    "end": "271360"
  },
  {
    "text": "right so windows low and it's for everyone everyone can use it either if you're enterprise or home",
    "start": "271360",
    "end": "277360"
  },
  {
    "text": "consumer the main difference between those those fit those implementation it's their main",
    "start": "277360",
    "end": "285360"
  },
  {
    "text": "purpose so for enterprise solutions um it's it will give you the ability to um",
    "start": "285360",
    "end": "291360"
  },
  {
    "text": "to authenticate uh via domain or azure assets and for home consumer it's actually",
    "start": "291360",
    "end": "297280"
  },
  {
    "text": "kind of replacing your passwords it's it's not actually what happening in the background because your",
    "start": "297280",
    "end": "304960"
  },
  {
    "text": "your password hash is still remain on your device but your pin code will let you access it the system will access it",
    "start": "304960",
    "end": "311840"
  },
  {
    "text": "and then you can still use it right so let's talk about windows hello features so windows hello has three main",
    "start": "311840",
    "end": "319840"
  },
  {
    "text": "features face recognition which relying on ir sensor and advanced analysis of the",
    "start": "319840",
    "end": "326080"
  },
  {
    "text": "frames that coming from the io sensor pin code which is a kind of replacing",
    "start": "326080",
    "end": "331600"
  },
  {
    "text": "your password with another password local password and fingerprint",
    "start": "331600",
    "end": "336880"
  },
  {
    "text": "authentication which we all know for years right so",
    "start": "336880",
    "end": "342479"
  },
  {
    "text": "we we wanted to do a research on windows allow because it's passwords it's cool and um",
    "start": "342479",
    "end": "348720"
  },
  {
    "text": "we thought which which feature should we do research on so",
    "start": "348720",
    "end": "354800"
  },
  {
    "text": "we we we did a little a little overview on all the uh all the solutions on all the",
    "start": "354800",
    "end": "361759"
  },
  {
    "text": "different features and we try to consider what would be the best option to do a research on",
    "start": "361759",
    "end": "368160"
  },
  {
    "text": "um fingerprint so the to collect the data the fingerprint",
    "start": "368160",
    "end": "373440"
  },
  {
    "text": "scanning of images itself will be really hard besides that there is a lot of",
    "start": "373440",
    "end": "378479"
  },
  {
    "text": "previous art on on this um area i mean i think there in",
    "start": "378479",
    "end": "383919"
  },
  {
    "text": "2006 in blackhead there was a research on this there there there was a top on this and the protocol is kind of uh how",
    "start": "383919",
    "end": "391120"
  },
  {
    "text": "to implement and there is not a lot of a public implementation for this pin code",
    "start": "391120",
    "end": "397440"
  },
  {
    "text": "so pin code as anti-brute force mechanism so we couldn't really do a brute force on this and we we thought it",
    "start": "397440",
    "end": "404400"
  },
  {
    "text": "will be the same challenge as trying to break your regular passwords for the computer so we we didn't want to",
    "start": "404400",
    "end": "411840"
  },
  {
    "text": "choose this as well and then so the third feature that we did the",
    "start": "411840",
    "end": "418000"
  },
  {
    "text": "overview on which is the last one is face face recognition so facial",
    "start": "418000",
    "end": "423039"
  },
  {
    "text": "condition also has an anti-brutal mechanism it is more easy to to start doing a",
    "start": "423039",
    "end": "430240"
  },
  {
    "text": "research on this because nxp which is a major vendor in the electronic industry implemented a basic",
    "start": "430240",
    "end": "437440"
  },
  {
    "text": "usb device which you could use as a reference and your face at the end of the day it's",
    "start": "437440",
    "end": "443120"
  },
  {
    "text": "kind of a public data i mean we can capture this relatively easily so",
    "start": "443120",
    "end": "450400"
  },
  {
    "text": "we choose to do a research on this and and then we we try to figure out how",
    "start": "450400",
    "end": "456960"
  },
  {
    "text": "we should do the research i mean we should first understand how um how parametric authentication in windows",
    "start": "456960",
    "end": "463840"
  },
  {
    "text": "actually happens in the kind of an overview so we are starting from application or or",
    "start": "463840",
    "end": "471599"
  },
  {
    "text": "credential provider that want to do authentication and biometric authentication then it uses",
    "start": "471599",
    "end": "478080"
  },
  {
    "text": "win biodll that advertion will communicate with the windows biometric service",
    "start": "478080",
    "end": "484319"
  },
  {
    "text": "to do this biometric authentication the magnetic authentication is divided into",
    "start": "484319",
    "end": "490720"
  },
  {
    "text": "three parts i mean the facial recognition is divided into three parts the storage",
    "start": "490720",
    "end": "496000"
  },
  {
    "text": "adapter engine adapter and sensor adapter the storage adapter",
    "start": "496000",
    "end": "501440"
  },
  {
    "text": "will get the information that the biometric templates that are saved on your device from uh from the windows",
    "start": "501440",
    "end": "508639"
  },
  {
    "text": "biometric database which is a folder in system 32 and",
    "start": "508639",
    "end": "513680"
  },
  {
    "text": "which contains many different database for different and different",
    "start": "513680",
    "end": "519599"
  },
  {
    "text": "authentications and face recognition as its own database there uh and",
    "start": "519599",
    "end": "525200"
  },
  {
    "text": "there is another adapter sensor adapter that is actually responsible for",
    "start": "525200",
    "end": "530720"
  },
  {
    "text": "communicating with the external uh camera io sensor and there is the engine",
    "start": "530720",
    "end": "536160"
  },
  {
    "text": "adapter the engine adapter is is the one that responsible for um for deciding either",
    "start": "536160",
    "end": "544320"
  },
  {
    "text": "to log you in or not uh right",
    "start": "544320",
    "end": "549600"
  },
  {
    "text": "uh so after we created this graph we look at it and we thought what would be the best uh place to",
    "start": "549600",
    "end": "556560"
  },
  {
    "text": "to to do a research on i mean we don't have any kind of um code execution on the device so most",
    "start": "556560",
    "end": "564160"
  },
  {
    "text": "of the parts are not relevant and the only only part that we kind of can control is the sensor",
    "start": "564160",
    "end": "570800"
  },
  {
    "text": "so we we consider the following things so at first we thought that it would be",
    "start": "570800",
    "end": "576320"
  },
  {
    "text": "cool to run a code on the sensor itself but actually it will be a standalone research for",
    "start": "576320",
    "end": "582800"
  },
  {
    "text": "itself and we didn't want to go there and the other way is to beat a sensor so",
    "start": "582800",
    "end": "587920"
  },
  {
    "text": "we we implemented a kind of a inform ir camera uh out of nothing uh we we",
    "start": "587920",
    "end": "596720"
  },
  {
    "text": "um we used an xp evaluation board for this and um we will talk later why we",
    "start": "596720",
    "end": "602079"
  },
  {
    "text": "use this and one of the main reasons you actually use this is because as i mentioned before there is an example",
    "start": "602079",
    "end": "607839"
  },
  {
    "text": "project which we could use as a reference so it will be much more convenient for",
    "start": "607839",
    "end": "613040"
  },
  {
    "text": "us to to actually use nxp right so we talk about",
    "start": "613040",
    "end": "618720"
  },
  {
    "text": "windows hello about password less about what we want to do in the research so let's talk about the research",
    "start": "618720",
    "end": "624640"
  },
  {
    "start": "624000",
    "end": "981000"
  },
  {
    "text": "uh so part three exploiting show me the money",
    "start": "624640",
    "end": "629680"
  },
  {
    "text": "so the research vector is divided into four parts the first one will be analyze",
    "start": "629680",
    "end": "634720"
  },
  {
    "text": "and before we try to implement a usb device we first want to",
    "start": "634720",
    "end": "640079"
  },
  {
    "text": "implement to understand what usb and usb and uvc is then after this we will mimic the usb",
    "start": "640079",
    "end": "647519"
  },
  {
    "text": "device um which actually we will create kind of a low camera a",
    "start": "647519",
    "end": "652720"
  },
  {
    "text": "usb video camera that is compatible with windows low and can",
    "start": "652720",
    "end": "658399"
  },
  {
    "text": "function as a regular windows hello camera then we will capture the person",
    "start": "658399",
    "end": "663839"
  },
  {
    "text": "that we uh put his target for us to log into his account and bypass windows authentication and we",
    "start": "663839",
    "end": "670320"
  },
  {
    "text": "will bypass windows hello all right so let's talk about uh the first uh the first part the analyze so",
    "start": "670320",
    "end": "679440"
  },
  {
    "text": "that that section is divided to two main parts at first we need to understand the usb specs and then we will need to",
    "start": "679440",
    "end": "686399"
  },
  {
    "text": "capture the traffic and so capturing traffic will be used we will",
    "start": "686399",
    "end": "692800"
  },
  {
    "text": "do it via wireshark uh with the plug-in a usb pickup and the usb specs",
    "start": "692800",
    "end": "698720"
  },
  {
    "text": "the way that we chose to do the research to understand the usb spec is to read",
    "start": "698720",
    "end": "703839"
  },
  {
    "text": "the usb spec and we read it we read we read we read a lot too much and we we we went to offsite i",
    "start": "703839",
    "end": "711440"
  },
  {
    "text": "mean it's it's too many um and and i thought what would be the best way",
    "start": "711440",
    "end": "718000"
  },
  {
    "text": "to to explain to you guys for those of you who are not familiar with usb and uvc uh",
    "start": "718000",
    "end": "724720"
  },
  {
    "text": "the usb specs at least the the usb framework so we choose to do it in a kind of story",
    "start": "724720",
    "end": "733600"
  },
  {
    "text": "so this is usb usb it's it's a nice guy",
    "start": "733600",
    "end": "739200"
  },
  {
    "text": "and it's usb first day at school so you went to school and then",
    "start": "739200",
    "end": "744720"
  },
  {
    "text": "he met austin and austin it's a bully and our usb is a nice guy",
    "start": "744720",
    "end": "752000"
  },
  {
    "text": "and austin came to to usb and asked him who the hell are you and they used to be told them",
    "start": "752000",
    "end": "759200"
  },
  {
    "text": "i would say everything everything that you want to know uh let me do it um",
    "start": "759200",
    "end": "764240"
  },
  {
    "text": "in a great detail so because he was afraid of fasting that he will beat him up uh he won't consider",
    "start": "764240",
    "end": "770320"
  },
  {
    "text": "what would be the best day to do this so the best day for him to do this was via descriptors",
    "start": "770320",
    "end": "775839"
  },
  {
    "text": "so he started to describe himself at first he started with device scripto and where he's coming from",
    "start": "775839",
    "end": "782160"
  },
  {
    "text": "everybody and every descriptor has a lot of fields and most of them are not really interesting",
    "start": "782160",
    "end": "788480"
  },
  {
    "text": "but the most interesting um fields are the bcd usb which is the version of the",
    "start": "788480",
    "end": "794240"
  },
  {
    "text": "usb device and those three those three fields which is i defend or id product",
    "start": "794240",
    "end": "800800"
  },
  {
    "text": "and bcd device at the event though it's the id of the of the vendor id product the idea of the",
    "start": "800800",
    "end": "806480"
  },
  {
    "text": "product and the bcd device is the version of the device right so",
    "start": "806480",
    "end": "812000"
  },
  {
    "text": "besides that mr nice guy wants to tell about his abilities and features to ask him",
    "start": "812000",
    "end": "817600"
  },
  {
    "text": "because again he's really terrified uh that uh austin will beat him up and he",
    "start": "817600",
    "end": "823920"
  },
  {
    "text": "started to do it via configuration script so he sent a configuration descriptor to",
    "start": "823920",
    "end": "830160"
  },
  {
    "text": "to austin and uh and austin because",
    "start": "830160",
    "end": "835360"
  },
  {
    "text": "nothing needs to allocate enough memory for the descriptor and because every usb",
    "start": "835360",
    "end": "841519"
  },
  {
    "text": "device is a bit different from one another um the the configuration the full",
    "start": "841519",
    "end": "847040"
  },
  {
    "text": "configuration device which describes all the abilities and features of the usb device it's a bit different so therefore",
    "start": "847040",
    "end": "853680"
  },
  {
    "text": "the length of the configuration descripto will be will be either longer or shorter",
    "start": "853680",
    "end": "860079"
  },
  {
    "text": "um and the endos and austin should know um how much memory to allocate so at first",
    "start": "860079",
    "end": "866000"
  },
  {
    "text": "we are sending an intro intro includes the the total length of the configuration",
    "start": "866000",
    "end": "872000"
  },
  {
    "text": "and uh usb device sending to austin and austin now want to know",
    "start": "872000",
    "end": "877360"
  },
  {
    "text": "what is the full abilities of the usb device usb device send it to austin",
    "start": "877360",
    "end": "883519"
  },
  {
    "text": "right so i hope you understood what a configuration descriptor and",
    "start": "883519",
    "end": "888560"
  },
  {
    "text": "devices and this is was our story about a usb",
    "start": "888560",
    "end": "895519"
  },
  {
    "text": "mr nice guy and all right so",
    "start": "895519",
    "end": "900720"
  },
  {
    "text": "after we we we captured all this information uh we saved it for later",
    "start": "900720",
    "end": "906320"
  },
  {
    "text": "years because if because we want to mimic the usb device and we want to send all this metadata to this",
    "start": "906320",
    "end": "913199"
  },
  {
    "text": "to the host as we were the uh original camera device",
    "start": "913199",
    "end": "918480"
  },
  {
    "text": "all right so for any of you that want even to to learn more about usb the best the",
    "start": "918480",
    "end": "924480"
  },
  {
    "text": "best way to do this is either by reading the usb specs uh which you can find",
    "start": "924480",
    "end": "929920"
  },
  {
    "text": "those in the usb if uh website uh or either you uh read it in um",
    "start": "929920",
    "end": "937920"
  },
  {
    "text": "and beyond in beyond logic website there is a good article called usb in a nutshell so you totally should take a",
    "start": "937920",
    "end": "945279"
  },
  {
    "text": "look on this right so now we finish the first part which is analyze usb ubc and now let's",
    "start": "945279",
    "end": "953360"
  },
  {
    "text": "go to the mimic part so also this part will be divided into two the first one will be uh implement",
    "start": "953360",
    "end": "960560"
  },
  {
    "text": "implementing the usb camera with our um evaluation board device",
    "start": "960560",
    "end": "967360"
  },
  {
    "text": "using the reference that nxp implemented and the second part will be",
    "start": "967360",
    "end": "973759"
  },
  {
    "text": "make the usb device that we just created compatible with windows hello",
    "start": "973759",
    "end": "979440"
  },
  {
    "text": "right so this process will look like this at first we'll download the nxp ide which",
    "start": "979440",
    "end": "986720"
  },
  {
    "start": "981000",
    "end": "1297000"
  },
  {
    "text": "called mcu expresso and then we'll import the sdk example",
    "start": "986720",
    "end": "992480"
  },
  {
    "text": "which called their video virtual camera vm and then we'll need to",
    "start": "992480",
    "end": "998560"
  },
  {
    "text": "uh configure it configure the the example project uh to match the",
    "start": "998560",
    "end": "1004399"
  },
  {
    "text": "descriptor that we extracted uh add another support for a second camera as the windows hello requires every",
    "start": "1004399",
    "end": "1012000"
  },
  {
    "text": "compatible camera to have to have regular camera and infrared camera and",
    "start": "1012000",
    "end": "1019519"
  },
  {
    "text": "um we did all of this so we actually should have should have",
    "start": "1019519",
    "end": "1025280"
  },
  {
    "text": "should have a working and functional windows hello compatible camera but once",
    "start": "1025280",
    "end": "1031038"
  },
  {
    "text": "we connected it to the computer we got this beautiful error message that says our",
    "start": "1031039",
    "end": "1037360"
  },
  {
    "text": "usb device could not be recognized and you should go and figure it figure why",
    "start": "1037360",
    "end": "1044640"
  },
  {
    "text": "because it's not that easy to understand as it's kind of a generic error message",
    "start": "1044640",
    "end": "1050480"
  },
  {
    "text": "um so we we we were clueless at this point we we didn't know why why it happened",
    "start": "1050480",
    "end": "1057440"
  },
  {
    "text": "because during the development of the of the video camera the",
    "start": "1057440",
    "end": "1063440"
  },
  {
    "text": "the evaluation board the all the changes we do we did on the evaluation board we",
    "start": "1063440",
    "end": "1068480"
  },
  {
    "text": "didn't have any kind of these error messages and",
    "start": "1068480",
    "end": "1074160"
  },
  {
    "text": "this error message only came up when uh when we changed one thing one field",
    "start": "1074160",
    "end": "1081039"
  },
  {
    "text": "which was the usb version we changed it from 2.0 to 2.1 which for matching the usb",
    "start": "1081039",
    "end": "1089679"
  },
  {
    "text": "version that their original camera the compatible windows hello camera is using",
    "start": "1089679",
    "end": "1096640"
  },
  {
    "text": "and then we we didn't know why what does why does it happen and we we wanted to understand so after",
    "start": "1096640",
    "end": "1104160"
  },
  {
    "text": "a lot of uh trial and error we find out that we are missing a descriptor",
    "start": "1104160",
    "end": "1110400"
  },
  {
    "text": "so which descriptor are we missing the bos descriptor of course",
    "start": "1110400",
    "end": "1115760"
  },
  {
    "text": "apparently every usb device that reports a bcd usb which is over 2.0 or",
    "start": "1115760",
    "end": "1122480"
  },
  {
    "text": "0x 200 and we'll be required to provide a bos descripto",
    "start": "1122480",
    "end": "1129120"
  },
  {
    "text": "so the operation system will ask for the bos descripto and if the request fails",
    "start": "1129120",
    "end": "1134640"
  },
  {
    "text": "it means that we are not sending the bos descriptor there a driver stack will fail enumeration of our device and it's",
    "start": "1134640",
    "end": "1142559"
  },
  {
    "text": "kind of bad so we went through the um the documentation of um of usb and we found out uh what",
    "start": "1142559",
    "end": "1150320"
  },
  {
    "text": "are the field that the boss descriptor need to be there and we extracted the pos descripto",
    "start": "1150320",
    "end": "1156320"
  },
  {
    "text": "that the original camera using uh is using and",
    "start": "1156320",
    "end": "1162240"
  },
  {
    "text": "and we we still remain with the same question why",
    "start": "1162240",
    "end": "1167760"
  },
  {
    "text": "did we not see the vos descripto in the washock traffic",
    "start": "1167760",
    "end": "1173200"
  },
  {
    "text": "captured i mean we we we capture it should show all the",
    "start": "1173200",
    "end": "1178720"
  },
  {
    "text": "information all the all the traffic but it missing the voice script though so we",
    "start": "1178720",
    "end": "1183919"
  },
  {
    "text": "we thought white white is happening so the main reason for this is because we didn't use linux",
    "start": "1183919",
    "end": "1190080"
  },
  {
    "text": "and we we didn't understand why why there is those differences between linux and and",
    "start": "1190080",
    "end": "1196000"
  },
  {
    "text": "windows in capturing usb devices uh um because we didn't uh really",
    "start": "1196000",
    "end": "1202480"
  },
  {
    "text": "do any kind of a research or a further investigation on this but we we",
    "start": "1202480",
    "end": "1208720"
  },
  {
    "text": "it was really strange to find out that this is the main reason anyway uh after this uh we we had after we added the os",
    "start": "1208720",
    "end": "1217120"
  },
  {
    "text": "descriptor to the usb device and we added implementation for this we connected the usb device and",
    "start": "1217120",
    "end": "1224000"
  },
  {
    "text": "then we got this so now we have a fully working usb video",
    "start": "1224000",
    "end": "1230000"
  },
  {
    "text": "camera that is compatible with windows hello and we can control all the",
    "start": "1230000",
    "end": "1235440"
  },
  {
    "text": "information it's sending to the computer so what are we missing we're missing the",
    "start": "1235440",
    "end": "1240480"
  },
  {
    "text": "information that we need to send so let's capture it um all right so as i mentioned before windows low",
    "start": "1240480",
    "end": "1247440"
  },
  {
    "text": "require you to have a ir sensor which will transmit infrared",
    "start": "1247440",
    "end": "1253600"
  },
  {
    "text": "frames and camera sense and the color camera sensor that will transmit regular",
    "start": "1253600",
    "end": "1259679"
  },
  {
    "text": "camera a irregular a color phrase uh so we need to capture both of those",
    "start": "1259679",
    "end": "1266400"
  },
  {
    "text": "and a funny style note about that uh a side note about that doesn't really",
    "start": "1266400",
    "end": "1272159"
  },
  {
    "text": "pay attention to anything that you are sending in the color frames because the the analysis analysis mechanism it's",
    "start": "1272159",
    "end": "1280640"
  },
  {
    "text": "only relying on the infrared frames so you actually can send whatever you want there",
    "start": "1280640",
    "end": "1286080"
  },
  {
    "text": "we chose by the way to send a frame of spongebob and believe it or not it worked uh",
    "start": "1286080",
    "end": "1292720"
  },
  {
    "text": "diaphragms were um real by the way uh so like if we want to capture the the",
    "start": "1292720",
    "end": "1299919"
  },
  {
    "start": "1297000",
    "end": "1572000"
  },
  {
    "text": "data let's talk about how the the frames are transferred to the computer so",
    "start": "1299919",
    "end": "1305120"
  },
  {
    "text": "we see now we see the the the the urb packets usb ulb packets which",
    "start": "1305120",
    "end": "1312799"
  },
  {
    "text": "kind of reminding how udp works as it's sending chunks of data kind of streaming",
    "start": "1312799",
    "end": "1318240"
  },
  {
    "text": "the video to the computer and the computer needs to extract the information from this",
    "start": "1318240",
    "end": "1324960"
  },
  {
    "text": "um all right so how does the computer know what is the start of the frame what is",
    "start": "1324960",
    "end": "1331520"
  },
  {
    "text": "the end of the frame what you should do with the frame so each frame starting with an adder",
    "start": "1331520",
    "end": "1338400"
  },
  {
    "text": "with the header so this header is um has a lot of fields and we are not really",
    "start": "1338400",
    "end": "1345200"
  },
  {
    "text": "want to go all over them but two fields are really important for us the frame identifier and the end of frame so the",
    "start": "1345200",
    "end": "1352400"
  },
  {
    "text": "frame identifier um tells us when a frame",
    "start": "1352400",
    "end": "1357440"
  },
  {
    "text": "is started and the end of frame as it sounds indicates us when a frame is ended so",
    "start": "1357440",
    "end": "1364880"
  },
  {
    "text": "with this information we could go over a use a usb traffic of the video stream",
    "start": "1364880",
    "end": "1370880"
  },
  {
    "text": "look for the urb packets and extract all the frames",
    "start": "1370880",
    "end": "1376320"
  },
  {
    "text": "um but because we know where the frame started and when where it's ended",
    "start": "1376320",
    "end": "1382159"
  },
  {
    "text": "but to validate it our frames are valid at the end of the day this is what we want to do",
    "start": "1382159",
    "end": "1387600"
  },
  {
    "text": "we need to we need to know in which format they are being sent so",
    "start": "1387600",
    "end": "1393360"
  },
  {
    "text": "we looked at the configuration skip though because it's mentioned there and we look",
    "start": "1393360",
    "end": "1398799"
  },
  {
    "text": "at the color image and we we saw that this is kind of um m jpeg frames the stream of m jpegs and",
    "start": "1398799",
    "end": "1407679"
  },
  {
    "text": "the left one which is the ir sensor is the strength grid",
    "start": "1407679",
    "end": "1413200"
  },
  {
    "text": "so we didn't know what this trend could mean and so after a lot a lot of googling we found out that this is a ks",
    "start": "1413200",
    "end": "1422320"
  },
  {
    "text": "data format subtype l8ir which is a which is a format that",
    "start": "1422320",
    "end": "1429120"
  },
  {
    "text": "microsoft uses which is at the end of the day it's a",
    "start": "1429120",
    "end": "1434640"
  },
  {
    "text": "luma 8-bit plane frames by the way we could save a lot of time",
    "start": "1434640",
    "end": "1442000"
  },
  {
    "text": "of googling if you look just straight in the msdn documentation documentation",
    "start": "1442000",
    "end": "1447039"
  },
  {
    "text": "because it's written they're pretty much straightforward so",
    "start": "1447039",
    "end": "1453760"
  },
  {
    "text": "by now we we covered usb and usb specs we we know how to capture usb traffic we",
    "start": "1454240",
    "end": "1461120"
  },
  {
    "text": "managed to implement a fully working video usb device",
    "start": "1461120",
    "end": "1466640"
  },
  {
    "text": "and also we know how to extract the",
    "start": "1466640",
    "end": "1471760"
  },
  {
    "text": "video frames then so we have all the information that we need",
    "start": "1471760",
    "end": "1476880"
  },
  {
    "text": "with all the tools that we need to bypass the authentication right so",
    "start": "1476880",
    "end": "1483279"
  },
  {
    "text": "so what i thought that it would be really great to go with pie",
    "start": "1483279",
    "end": "1488640"
  },
  {
    "text": "shark uh which is a library in python for um manipulating and",
    "start": "1488640",
    "end": "1495039"
  },
  {
    "text": "loading a washout traffic capture so",
    "start": "1495039",
    "end": "1501360"
  },
  {
    "text": "go with bioshock on the capture save the relevant frames with the previous knowledge that we have and save",
    "start": "1501360",
    "end": "1508240"
  },
  {
    "text": "it into the evaluation board send it to the computer pretending to be a real",
    "start": "1508240",
    "end": "1513440"
  },
  {
    "text": "usb windows hello camera and bypass the login",
    "start": "1513440",
    "end": "1519520"
  },
  {
    "text": "the facial recognition but it didn't work and we",
    "start": "1519520",
    "end": "1525200"
  },
  {
    "text": "so the reason it didn't work it's quite interesting apparently the",
    "start": "1525200",
    "end": "1530880"
  },
  {
    "text": "regular camera sending a lot of information and a lot of frames that are um not valid which was very strange but",
    "start": "1530880",
    "end": "1539279"
  },
  {
    "text": "apparently microsoft knows how to uh to get rid of those frames and uh",
    "start": "1539279",
    "end": "1545600"
  },
  {
    "text": "we didn't want to understand how to do this to do this as microsoft did it already so we used a microsoft media",
    "start": "1545600",
    "end": "1552320"
  },
  {
    "text": "framework to capture the relevant infrared image frames of the uh our",
    "start": "1552320",
    "end": "1558159"
  },
  {
    "text": "target person saved it into the um to the evaluation board and it worked",
    "start": "1558159",
    "end": "1564640"
  },
  {
    "text": "this time there was a lot of yay in the in the crowd and it was really really fun right so we talked a lot let's see",
    "start": "1564640",
    "end": "1572640"
  },
  {
    "start": "1572000",
    "end": "1681000"
  },
  {
    "text": "the demo um so it's demo time",
    "start": "1572640",
    "end": "1577840"
  },
  {
    "text": "right so here we we see windows hello user this is the evaluation board that we",
    "start": "1583120",
    "end": "1588240"
  },
  {
    "text": "used it's a custom usb camera that stores the recorded iframes of me of course",
    "start": "1588240",
    "end": "1593520"
  },
  {
    "text": "we connected it to the to the computer of course",
    "start": "1593520",
    "end": "1600799"
  },
  {
    "text": "and shortly windows will recognize the usb device and we'll use it as it was a regular video camera",
    "start": "1602640",
    "end": "1609279"
  },
  {
    "text": "windows log compatible by the way so the custom usb camera sends the recorded frame to the target",
    "start": "1609279",
    "end": "1615520"
  },
  {
    "text": "of the target to the computer so this actually tricks windows a lot to think the target person is in front of",
    "start": "1615520",
    "end": "1622720"
  },
  {
    "text": "it of the computer and proof um",
    "start": "1622720",
    "end": "1629120"
  },
  {
    "text": "all right so let's discuss what we just saw right so at first the attacker captures",
    "start": "1629120",
    "end": "1635360"
  },
  {
    "text": "or create and infrared frames of the victim",
    "start": "1635360",
    "end": "1640559"
  },
  {
    "text": "then it stores the they infrared then he needs to create a custom usb device",
    "start": "1640559",
    "end": "1646559"
  },
  {
    "text": "that in person at a usb a video camera that is compatible of course with windows alert",
    "start": "1646559",
    "end": "1651840"
  },
  {
    "text": "the attacker saves the relevant information it captured the first step to the",
    "start": "1651840",
    "end": "1658159"
  },
  {
    "text": "to the usb device then connect the usb device to john's computer",
    "start": "1658159",
    "end": "1663279"
  },
  {
    "text": "the usb device transmitted the capture infrared the paramedical system accept the",
    "start": "1663279",
    "end": "1668399"
  },
  {
    "text": "environment the biomedical cardentile and logs the user in and attacker gets a lot of information and sensitive data",
    "start": "1668399",
    "end": "1675840"
  },
  {
    "text": "that he shouldn't have access to right so",
    "start": "1675840",
    "end": "1681600"
  },
  {
    "start": "1681000",
    "end": "1976000"
  },
  {
    "text": "all right here we come to the final part this is the four fourth part what's what we should uh",
    "start": "1682159",
    "end": "1688559"
  },
  {
    "text": "what we should do in um richard in research even more",
    "start": "1688559",
    "end": "1693679"
  },
  {
    "text": "um right so um",
    "start": "1693679",
    "end": "1699760"
  },
  {
    "text": "we so what i recommend you to do if you want to continue this research is to find a way to convert color in for an",
    "start": "1699760",
    "end": "1706720"
  },
  {
    "text": "image to infrared um so if you will do a google on this you",
    "start": "1706720",
    "end": "1711840"
  },
  {
    "text": "you if you will find out a couple threads in some forms that will say it's",
    "start": "1711840",
    "end": "1717120"
  },
  {
    "text": "impossible um but we actually did the sim uh quite briefly research on this and we",
    "start": "1717120",
    "end": "1724399"
  },
  {
    "text": "found out that from our research it might be possible because we managed to",
    "start": "1724399",
    "end": "1730559"
  },
  {
    "text": "convert one color image of of me to infrared one but it wasn't that",
    "start": "1730559",
    "end": "1737279"
  },
  {
    "text": "extensive research and we we do recommend you to to do a better research on this another really interesting thing",
    "start": "1737279",
    "end": "1743840"
  },
  {
    "text": "is to manipulate the biometric uh database in windows at the end of the day if an attack you",
    "start": "1743840",
    "end": "1749679"
  },
  {
    "text": "want to create um really really smart backdoor that nobody",
    "start": "1749679",
    "end": "1755520"
  },
  {
    "text": "will look after he should look at this i mean it is considered to be a place that you",
    "start": "1755520",
    "end": "1762240"
  },
  {
    "text": "save a credential in and if somebody is able to manipulate this it will be great",
    "start": "1762240",
    "end": "1767919"
  },
  {
    "text": "and it will kind of can create uh it can create a passwordless i mean a",
    "start": "1767919",
    "end": "1773520"
  },
  {
    "text": "backdoor to the user account um the the database at least the one",
    "start": "1773520",
    "end": "1779440"
  },
  {
    "text": "that windows law uses is it's protected by uh",
    "start": "1779440",
    "end": "1784480"
  },
  {
    "text": "by the system passwords but it i think that if the user if the attacker has",
    "start": "1784480",
    "end": "1790000"
  },
  {
    "text": "already um high privileges in the victim computer you can manipulate this",
    "start": "1790000",
    "end": "1797279"
  },
  {
    "text": "another cool thing will be fuzzing so if an attacker could extract this database",
    "start": "1797279",
    "end": "1802880"
  },
  {
    "text": "and decrypt this with a system password and take all the information there to a local machine",
    "start": "1802880",
    "end": "1809600"
  },
  {
    "text": "and start to use the windows hello framework in order to",
    "start": "1809600",
    "end": "1816240"
  },
  {
    "text": "kind of fuzz in the database to find out what will be the relevant information you",
    "start": "1816240",
    "end": "1822799"
  },
  {
    "text": "will be able to send to to a real device to unlock",
    "start": "1822799",
    "end": "1828480"
  },
  {
    "text": "the device target it will be really interesting we started also to do a small project on",
    "start": "1828480",
    "end": "1835039"
  },
  {
    "text": "this and it's a walk-in progress so if anything will come out from this we'll let you know",
    "start": "1835039",
    "end": "1841360"
  },
  {
    "text": "guys and that's for what is next um",
    "start": "1841360",
    "end": "1847360"
  },
  {
    "text": "so let's cover what we saw today so at the first section we talked about",
    "start": "1847360",
    "end": "1852880"
  },
  {
    "text": "usb then we went about password less and then what is password less why it's",
    "start": "1852880",
    "end": "1858640"
  },
  {
    "text": "considered to be more secure than a password regular traditional authentication mechanism methods or in the other way",
    "start": "1858640",
    "end": "1866320"
  },
  {
    "text": "other way to say passwords and so",
    "start": "1866320",
    "end": "1871600"
  },
  {
    "text": "we talked about windows low and how we managed to bypass windows hello what considered to be the weak point the",
    "start": "1871600",
    "end": "1878720"
  },
  {
    "text": "the weakest point in the windows law and mechanism um and the fourth thing that i",
    "start": "1878720",
    "end": "1885039"
  },
  {
    "text": "hoped you had it's a lot a lot of fun so regarding recommendations um so this",
    "start": "1885039",
    "end": "1892799"
  },
  {
    "text": "is that verto is not it's not even about windows or law specific it's about authentication",
    "start": "1892799",
    "end": "1899039"
  },
  {
    "text": "mechanism that rely on public data public factor for authentication",
    "start": "1899039",
    "end": "1904720"
  },
  {
    "text": "so please don't base your authentication on public factors um",
    "start": "1904720",
    "end": "1910960"
  },
  {
    "text": "about mitigations um so we walked alongside microsoft to mitigate this attacking vector and we're",
    "start": "1910960",
    "end": "1917600"
  },
  {
    "text": "still working with them on this and microsoft told us that they should uh",
    "start": "1917600",
    "end": "1922799"
  },
  {
    "text": "publish uh publish um advisory to mitigate this attack vector so by the time you should",
    "start": "1922799",
    "end": "1929919"
  },
  {
    "text": "you will see the by the time you're seeing this video this talk there should be advisory in the in the",
    "start": "1929919",
    "end": "1937039"
  },
  {
    "text": "micros in the mslc website so go and check this and besides that we also by the time you're",
    "start": "1937039",
    "end": "1944320"
  },
  {
    "text": "seeing this um this video we also published um two blog posts about this",
    "start": "1944320",
    "end": "1950399"
  },
  {
    "text": "research and what we did in the research even more extensive than this talk so feel free to",
    "start": "1950399",
    "end": "1957120"
  },
  {
    "text": "visit our website or threat research blog so thank you very much guys uh i'm",
    "start": "1957120",
    "end": "1962640"
  },
  {
    "text": "mohamed sawfati i had a great time being here today uh and feel free to contact me via twitter if you have any questions",
    "start": "1962640",
    "end": "1969519"
  },
  {
    "text": "uh besides i'm waiting for your question in the live q a thank you very much guys",
    "start": "1969519",
    "end": "1976600"
  }
]