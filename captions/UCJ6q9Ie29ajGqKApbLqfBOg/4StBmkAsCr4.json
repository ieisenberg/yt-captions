[
  {
    "start": "0",
    "end": "25000"
  },
  {
    "text": "my name is Joe Grand I am a hardware hacker an electrical engineer I basically design stuff and Break Stuff",
    "start": "120",
    "end": "7879"
  },
  {
    "text": "um today I'm going to uh give a talk about the jtagulator which is a tool um that I've recently designed that will",
    "start": "7879",
    "end": "13599"
  },
  {
    "text": "help you identify uh onchip debug interfaces and useful things on pieces",
    "start": "13599",
    "end": "19279"
  },
  {
    "text": "of Target Hardware so I'll uh I'll get get right into it and explain everything",
    "start": "19279",
    "end": "24480"
  },
  {
    "text": "as I go um I have a bunch of demos today and uh sort of intersperse the demos",
    "start": "24480",
    "end": "30039"
  },
  {
    "start": "25000",
    "end": "155000"
  },
  {
    "text": "with some of the lecture since this is a 2-hour Workshop uh we actually have some time at the end uh of the lecture to",
    "start": "30039",
    "end": "37200"
  },
  {
    "text": "actually get uh people involved you guys can come up here and experiment I have a few uh different jtagulator I have a few",
    "start": "37200",
    "end": "44239"
  },
  {
    "text": "different Target devices that you guys can can plug into either with your laptop or my laptop and just kind of",
    "start": "44239",
    "end": "49520"
  },
  {
    "text": "experiment with stuff so part of the session is meant to be an open kind of hands-on experience you can kind of play",
    "start": "49520",
    "end": "54719"
  },
  {
    "text": "with new hardware and Tinker with things that you might not normally get to Tinker with um so that's why we we have",
    "start": "54719",
    "end": "60280"
  },
  {
    "text": "extra time so the agenda we're going to go through um kind of an introduction uh look at some inspiration for the project",
    "start": "60280",
    "end": "67479"
  },
  {
    "text": "talk about uh identifying interfaces on a circuit board so what are interfaces what how can they be how can they be",
    "start": "67479",
    "end": "73159"
  },
  {
    "text": "located why are they even useful uh and then once we find those uh talk about",
    "start": "73159",
    "end": "78360"
  },
  {
    "text": "why manually locating these interfaces is sort of hard and why a tool like jtagulator is actually uh",
    "start": "78360",
    "end": "84400"
  },
  {
    "text": "useful then I'll go into the design requirements and some of the actual hardware and firmware design details of",
    "start": "84400",
    "end": "89479"
  },
  {
    "text": "the unit I figure um you know a lot of tools that are out there are sort of these black boxes that you just get and",
    "start": "89479",
    "end": "94799"
  },
  {
    "text": "you use but the jtagulator was meant to be an open source platform that you can build from scratch if you want or build",
    "start": "94799",
    "end": "101399"
  },
  {
    "text": "with uh get a a bare circuit board and assemble it yourself um and really just make it completely open and completely",
    "start": "101399",
    "end": "107840"
  },
  {
    "text": "accessible so I figure going into the details of the actual design and why it works the way it does uh will just help",
    "start": "107840",
    "end": "113680"
  },
  {
    "text": "you understand the tool and the better you understand a tool the better you can use the Tool uh then we'll go into specific",
    "start": "113680",
    "end": "119880"
  },
  {
    "text": "speically uh two different onchip debug interfaces one of them uh being JTAG hence the name jtagulator that's a a",
    "start": "119880",
    "end": "126479"
  },
  {
    "text": "industry standard debug interface so we're going to talk about that first and then we'll also um talk about art",
    "start": "126479",
    "end": "132000"
  },
  {
    "text": "interfaces or asynchronous serial interfaces uh so those are the two types of interfaces that the jtagulator can",
    "start": "132000",
    "end": "137680"
  },
  {
    "text": "currently detect and then we'll uh uh over time hopefully add more functionality and kind of more features",
    "start": "137680",
    "end": "144040"
  },
  {
    "text": "then we'll go into limitations future work and then open up for the kind of Hands-On Workshop and we will take a break at at",
    "start": "144040",
    "end": "151519"
  },
  {
    "text": "10:00 uh for 15 minutes so on Shi debug interfaces are",
    "start": "151519",
    "end": "158239"
  },
  {
    "start": "155000",
    "end": "250000"
  },
  {
    "text": "sort of a well-known attack Vector in the in the hardware space um if you're Hardware hacking usually one of the",
    "start": "158239",
    "end": "163800"
  },
  {
    "text": "first steps that you do when you're when you're attacking Hardware is you get access to the circuit board and you say okay where where are their interfaces",
    "start": "163800",
    "end": "171840"
  },
  {
    "text": "where can I connect to on the board that might give me extra functionality or might give serve as a stepping stone for",
    "start": "171840",
    "end": "178400"
  },
  {
    "text": "me to then do other things like EXT ract data or manipulate the system um there's plenty of examples of of recent Hardware",
    "start": "178400",
    "end": "185640"
  },
  {
    "text": "hacks of people using these debug interfaces so it's really it's sort of an Achilles heel and vendors know that",
    "start": "185640",
    "end": "191480"
  },
  {
    "text": "but vendors and Engineers need these interfaces to develop their product and to actually uh work with their product",
    "start": "191480",
    "end": "197720"
  },
  {
    "text": "so you know they don't really want to remove them because it's going to make their job way harder so we can take advantage of the fact that anything",
    "start": "197720",
    "end": "202920"
  },
  {
    "text": "that's there for an engineer is going to be great uh from the attack point of",
    "start": "202920",
    "end": "207920"
  },
  {
    "text": "view so sometimes vendors try to do since they know that that that attackers and hackers are going to go after these",
    "start": "208159",
    "end": "213720"
  },
  {
    "text": "interfaces they try to off fisc it in some way maybe they say okay we need to have our JTAG interface on there but",
    "start": "213720",
    "end": "218760"
  },
  {
    "text": "let's cut some traces during production once we're done uh programming the device or once we're done testing the",
    "start": "218760",
    "end": "224360"
  },
  {
    "text": "board or let's remove some resistors from the board or maybe they try to implement uh password protection which",
    "start": "224360",
    "end": "232360"
  },
  {
    "text": "is sort of there's no standard for for password protection on on interfaces so they just try to roll their own security",
    "start": "232360",
    "end": "237480"
  },
  {
    "text": "and usually as we know rolling your own security isn't good and maybe there'll be other ways that you can find uh to",
    "start": "237480",
    "end": "243599"
  },
  {
    "text": "defeat that password",
    "start": "243599",
    "end": "246519"
  },
  {
    "start": "250000",
    "end": "310000"
  },
  {
    "text": "protection the one problem is that identifying onchip debug interfaces actually um can be timec consuming it",
    "start": "250560",
    "end": "256880"
  },
  {
    "text": "can just be really annoying uh and and potentially difficult depending on the integration of the board uh how much",
    "start": "256880",
    "end": "263120"
  },
  {
    "text": "stuff is on the board how how much access you can get to different features on the board uh and and sometimes you",
    "start": "263120",
    "end": "268240"
  },
  {
    "text": "might not have the equipment you might not have the uh desoldering equipment or",
    "start": "268240",
    "end": "273720"
  },
  {
    "text": "the oscilloscope or a logic analyzer that you might need to manually probe and try to figure out what interfaces",
    "start": "273720",
    "end": "279440"
  },
  {
    "text": "are so it sort of requires a some somewhat of an engineering skill set uh",
    "start": "279440",
    "end": "285440"
  },
  {
    "text": "to to figure out these onchip debug interfaces so what I wanted to do is is make that you know a little bit easier",
    "start": "285440",
    "end": "291560"
  },
  {
    "text": "and simplify the process to to detect these interfaces and to bring more software focused non-hardware people",
    "start": "291560",
    "end": "298360"
  },
  {
    "text": "into Hardware hacking and I think this is one of the first steps is trying to get people you know to use a tool that",
    "start": "298360",
    "end": "303880"
  },
  {
    "text": "will give them something and that's what a tool is all about to kind of help them through the",
    "start": "303880",
    "end": "310000"
  },
  {
    "start": "310000",
    "end": "455000"
  },
  {
    "text": "process so I did have some inspiration uh for the project uh there were a few",
    "start": "311000",
    "end": "316199"
  },
  {
    "text": "things that had existed already as far as proving the concept of can you",
    "start": "316199",
    "end": "321360"
  },
  {
    "text": "enumerate through a bunch of different unknown test points on a circuit board and try different pin permutations to",
    "start": "321360",
    "end": "327080"
  },
  {
    "text": "see if there's a debug interface there uh but none of them were sort they were all kind of hacked together and and and",
    "start": "327080",
    "end": "333000"
  },
  {
    "text": "uh not not really suited for what I wanted to do and I wanted to have a platform that I could kind of share with people uh and at least have a little",
    "start": "333000",
    "end": "339800"
  },
  {
    "text": "more control of what it was doing but Hun's J tagfinder was the first he gave a a presentation back in 2006 about you",
    "start": "339800",
    "end": "347280"
  },
  {
    "text": "know having a set of unknown test points on a board and having a platform I think it was a um atmel based development",
    "start": "347280",
    "end": "354560"
  },
  {
    "text": "board or something that he was using with with some set of iins and he proved the concept that you could",
    "start": "354560",
    "end": "360440"
  },
  {
    "text": "actually manipulate the pins and go through certain pin permutations to detect an interface that was sort of",
    "start": "360440",
    "end": "365600"
  },
  {
    "text": "proved the concept which was really cool uh there was some other work JTAG enum and rs232 enum by a guy named dead",
    "start": "365600",
    "end": "371880"
  },
  {
    "text": "hacker who gave uh a presentation at chaos computer Congress two years ago maybe that sort",
    "start": "371880",
    "end": "378840"
  },
  {
    "text": "of refined on uh on Hun's work but it was Arduino based and Arduino is a sort of uh uh microcontroller platform",
    "start": "378840",
    "end": "385680"
  },
  {
    "text": "hobbyist microcontroller platform uh it had limited IO pins it didn't really have the features that I wanted it",
    "start": "385680",
    "end": "390960"
  },
  {
    "text": "didn't have good input protection uh to to protect the jtagulator and also to protect the target circuit board that",
    "start": "390960",
    "end": "396160"
  },
  {
    "text": "you're connecting to since you don't really know what you're hooking up to you want to have good protection there um but it but it took it another step",
    "start": "396160",
    "end": "401800"
  },
  {
    "text": "further so I got some inspiration in that and said okay cool I know it I know it's possible um let's try to let's try",
    "start": "401800",
    "end": "407919"
  },
  {
    "text": "to make it a little a little better if we can and then the Dara cyber FasTrack",
    "start": "407919",
    "end": "413039"
  },
  {
    "text": "project um which was a program that was uh funding hackers and small businesses",
    "start": "413039",
    "end": "418520"
  },
  {
    "text": "in the United States to do kind of uh novel research like new research without",
    "start": "418520",
    "end": "424080"
  },
  {
    "text": "having to deal with all the bureaucracy of the government so I said okay cool I'm going to try to propose developing the jtagulator for this project and get",
    "start": "424080",
    "end": "430840"
  },
  {
    "text": "paid to build stuff which would be awesome so I wrote this whole proposal",
    "start": "430840",
    "end": "436000"
  },
  {
    "text": "um did all sorts of research on how the system was going to go together submitted the work and it actually got",
    "start": "436000",
    "end": "441919"
  },
  {
    "text": "rejected so I said Shucks but by that point I'd already done all the base research so now it was just a matter of",
    "start": "441919",
    "end": "447879"
  },
  {
    "text": "Designing the thing so I was like all right forget I'm to do it anyway and uh then I can you know share it with the",
    "start": "447879",
    "end": "454160"
  },
  {
    "start": "455000",
    "end": "623000"
  },
  {
    "text": "world so the first step that we need to do regardless of if we have a jtagulator or not is look for interfaces on the",
    "start": "456520",
    "end": "463319"
  },
  {
    "text": "board look for things that we can actually tap onto uh solder wires onto connect up to connectors and see if",
    "start": "463319",
    "end": "470479"
  },
  {
    "text": "there's something useful for us sometimes they will be sometimes they won't be and that's part of the hardware hacking process of kind of going through",
    "start": "470479",
    "end": "476440"
  },
  {
    "text": "and and uh narrowing down the important information so first we'll look at",
    "start": "476440",
    "end": "481919"
  },
  {
    "text": "external interfaces these are things that you don't necessarily have to even get access to the circuitry for which can be really handy a lot of times maybe",
    "start": "481919",
    "end": "489319"
  },
  {
    "text": "maybe on the first unit that you're hacking with you have to open it up and see where the pins are and see how they come out but eventually you know if you",
    "start": "489319",
    "end": "495360"
  },
  {
    "text": "can do an attack without having to physically open up the product that just makes it that much cooler um so external",
    "start": "495360",
    "end": "501000"
  },
  {
    "text": "interfaces are things that would be accessible to the outside world without having to go directly onto uh the circuitry those are normally things that",
    "start": "501000",
    "end": "508319"
  },
  {
    "text": "maybe are are hidden under underneath a battery cover underneath a sticker because they're not intended for the end user they're intended for the",
    "start": "508319",
    "end": "514240"
  },
  {
    "text": "manufacturer during the manufacturing process maybe to clip on to or plug onto once the device is built and assembled",
    "start": "514240",
    "end": "520399"
  },
  {
    "text": "to do final programming or final testing and then maybe they just cover it up in hopes that the user never sees it so if",
    "start": "520399",
    "end": "526000"
  },
  {
    "text": "we can find that maybe that's something we could take advantage of and usually it you know it might be like a set of",
    "start": "526000",
    "end": "531080"
  },
  {
    "text": "set of test points in a row or maybe it's some uh proprietary connector it all depends on the product so some",
    "start": "531080",
    "end": "537440"
  },
  {
    "text": "examples here here is like um four pins on the back of a Garmin GPS unit covered by a little rubber uh",
    "start": "537440",
    "end": "544839"
  },
  {
    "text": "cover here five test points on the back of an RSA secure ID token so it's like",
    "start": "544839",
    "end": "550160"
  },
  {
    "text": "oh interesting and there was a sticker over that little black sticker so you take that off it's like okay is that an interface that I can use or is that a",
    "start": "550160",
    "end": "555760"
  },
  {
    "text": "readon interface or a write only interface who knows this one here is from a Jawbone UP wristband like the",
    "start": "555760",
    "end": "561360"
  },
  {
    "text": "wearable wristband device uh that there's a little button at the end that you can select modes and that device is",
    "start": "561360",
    "end": "567880"
  },
  {
    "text": "pretty cool it's it's like a a molded rubber wristband um but you if you take this",
    "start": "567880",
    "end": "574560"
  },
  {
    "text": "cap off here's the button there's actually four other connections on there",
    "start": "574560",
    "end": "579640"
  },
  {
    "text": "so you go okay that's probably the programming interface to program the microcontroller during the production",
    "start": "579640",
    "end": "584839"
  },
  {
    "text": "process because if you think about the complexity of this wristband it's this it's there's like a rubber kind of",
    "start": "584839",
    "end": "591959"
  },
  {
    "text": "sheath around it so you can't program it once it's all put together it's all nice looking there's there's no way to",
    "start": "591959",
    "end": "598040"
  },
  {
    "text": "program it so the only way to do it it and usually you don't want to program the devices in in a system that you're",
    "start": "598040",
    "end": "603279"
  },
  {
    "text": "manufacturing until as late in the manufacturing process as you can in case there's changes in case you have to do firmware updates right at the end so",
    "start": "603279",
    "end": "609720"
  },
  {
    "text": "this is sort of um you know the way that they can manufacture the whole product and then do final programming but for us",
    "start": "609720",
    "end": "615120"
  },
  {
    "text": "if we can if we detect that and we can then figure out what kind of interface it is you know we might be able to take",
    "start": "615120",
    "end": "620440"
  },
  {
    "text": "advantage of that so moving to internal interfaces",
    "start": "620440",
    "end": "626560"
  },
  {
    "start": "623000",
    "end": "798000"
  },
  {
    "text": "these are usually I guess maybe they're the same level I was going to say they're they're usually easier to find but it sort of",
    "start": "626560",
    "end": "632800"
  },
  {
    "text": "depends um internal interfaces are going to be things that are on the actual circuit board itself that requires you to open up the housing to get to and",
    "start": "632800",
    "end": "639959"
  },
  {
    "text": "that's not normally a big deal I have a bunch of access points up here that are pretty easy to to get access to either",
    "start": "639959",
    "end": "645279"
  },
  {
    "text": "you know you unscrew the case or you crack the the unit apart or whatever uh but def finded interfaces we",
    "start": "645279",
    "end": "652079"
  },
  {
    "text": "normally look for a few different kind of key features one of them would be test points or unpopulated pads and test",
    "start": "652079",
    "end": "657800"
  },
  {
    "text": "points are copper pads all over the circuit boards that are put",
    "start": "657800",
    "end": "663760"
  },
  {
    "text": "on signals that um interesting signals that the engineer might need or that a manufacturer might need so you're not",
    "start": "663760",
    "end": "670440"
  },
  {
    "text": "going to see test points on signals that are not important you usually would see test points on things that are like",
    "start": "670440",
    "end": "675600"
  },
  {
    "text": "programming interfaces maybe debug interfaces maybe um you know different",
    "start": "675600",
    "end": "680920"
  },
  {
    "text": "voltages from from Regulators or something that they need to check during manufacturing so we can look on a board",
    "start": "680920",
    "end": "687120"
  },
  {
    "text": "and you know identify test points pretty easily to see okay those are probably good targets to look",
    "start": "687120",
    "end": "693279"
  },
  {
    "text": "at U but even better so say for this example there's you know small test points but then there's like these four",
    "start": "693279",
    "end": "699360"
  },
  {
    "text": "obvious ones right in the middle big fat test points right in the middle of the board so I would say okay those are",
    "start": "699360",
    "end": "706399"
  },
  {
    "text": "probably more interesting than the smaller ones I'm going to look at the big ones first same thing on this side here this is a BlackBerry device there's",
    "start": "706399",
    "end": "712800"
  },
  {
    "text": "a bunch of small test points all over the place but then there's this big clumping of six plus that one um right",
    "start": "712800",
    "end": "719320"
  },
  {
    "text": "in that group so naturally I say okay those are bigger so bigger must be better I'm going to go for those first and that's",
    "start": "719320",
    "end": "725720"
  },
  {
    "text": "just kind of the process you can also take advantage of silk screen markings s silk screen being printed information on",
    "start": "725720",
    "end": "731720"
  },
  {
    "text": "the board so if we look on this one this was from a cordless phone vbat ground",
    "start": "731720",
    "end": "737040"
  },
  {
    "text": "i2c clock i2c data now I know right away the engineer put those markings there to help them",
    "start": "737040",
    "end": "743279"
  },
  {
    "text": "and to help the manufacturer now I know that that's an i2c interface it's an intership communication interface that",
    "start": "743279",
    "end": "748600"
  },
  {
    "text": "now I can go and and clip down with my oscilloscope or my logic analyzer and actually start sniffing information that's being transmitted across that bus",
    "start": "748600",
    "end": "755600"
  },
  {
    "text": "so sometimes it's really easy and they actually give you you know good information um other times too if the",
    "start": "755600",
    "end": "761600"
  },
  {
    "text": "test points are in an easy access easy to access location that also sort of gives it away a lot of times we'll see",
    "start": "761600",
    "end": "767040"
  },
  {
    "text": "the connectors on the ends of boards so I I'll just um I'm not going to switch to the camera for this but you can come",
    "start": "767040",
    "end": "772880"
  },
  {
    "text": "up and look uh but so for example like the JTAG interface on this access point is right in the upper right corner so",
    "start": "772880",
    "end": "778480"
  },
  {
    "text": "it's kind of a way from um all the other stuff to make it easy to access same",
    "start": "778480",
    "end": "784320"
  },
  {
    "text": "with like this Blackberry device there along the bottom behind where the where the uh SIM card was so it's sort of out",
    "start": "784320",
    "end": "789760"
  },
  {
    "text": "of the way but easy to access so normally we would look you know look around the edges first and",
    "start": "789760",
    "end": "794800"
  },
  {
    "text": "then sort of move in from there other",
    "start": "794800",
    "end": "801160"
  },
  {
    "start": "798000",
    "end": "918000"
  },
  {
    "text": "times the uh the pinout is based on like a common format or maybe an industry standard format so it's not just a bunch",
    "start": "801160",
    "end": "807519"
  },
  {
    "text": "of random test points or like an known um grouping but it's something that's actually you can go online and and",
    "start": "807519",
    "end": "813480"
  },
  {
    "text": "verify pin outs so sometimes it would be like a single row pinout sometimes double row",
    "start": "813480",
    "end": "820560"
  },
  {
    "text": "the most the most commonly used would be like a JTAG interface which again we'll talk about more later uh where you can",
    "start": "820560",
    "end": "825880"
  },
  {
    "text": "go to this website JTAG test.com and uh and look at different common pinouts for different architectures it doesn't mean",
    "start": "825880",
    "end": "832519"
  },
  {
    "text": "that the engineers are going to use those pinouts but it makes their job easier right because if they just use a",
    "start": "832519",
    "end": "838160"
  },
  {
    "text": "standard pinout then their standard development tools are going to work on it right away they don't have to create some interface module to make it harder",
    "start": "838160",
    "end": "843880"
  },
  {
    "text": "so a lot of times we'll see just a standard interface that we can just plug into with JTAG Hardware not not even",
    "start": "843880",
    "end": "850720"
  },
  {
    "text": "needing jtagulator at all because we already know the pinout plug in and and go to town so this example over here is",
    "start": "850720",
    "end": "856480"
  },
  {
    "text": "from Barnaby Jack's ATM hack uh from black hat 2010 and uh part of part of his research",
    "start": "856480",
    "end": "863320"
  },
  {
    "text": "was figuring out how the you know how to get access to the ATM and it was a Windows C based platform and he opened",
    "start": "863320",
    "end": "869160"
  },
  {
    "text": "up the the unit and inside there was actually a connector right there JTAG connector standard industry standard",
    "start": "869160",
    "end": "875920"
  },
  {
    "text": "pinout so all he had to do is buy an off-the-shelf JTAG uh adapter that",
    "start": "875920",
    "end": "881320"
  },
  {
    "text": "supported that architecture plug in and and continue on with his attack so he didn't you know have to do any searching",
    "start": "881320",
    "end": "887000"
  },
  {
    "text": "to find the interface it was right there and very obvious same thing on this side this is from the Xbox here's a low pin count debug uh connector LPC in this one",
    "start": "887000",
    "end": "895120"
  },
  {
    "text": "we see pin one which has the arrow it's also uh pin one's usually denoted by a square PAD as opposed to a c circular",
    "start": "895120",
    "end": "901720"
  },
  {
    "text": "pad so we can look on the board and say okay you know that's unpopulated we would still have to suck the solder out",
    "start": "901720",
    "end": "907279"
  },
  {
    "text": "of these holes and then put a connector in but we didn't have to do a lot of work to figure out you know what it is",
    "start": "907279",
    "end": "912320"
  },
  {
    "text": "and the LPC debug is another one that's sort of a standard pinout so sometimes we get lucky sometimes it's",
    "start": "912320",
    "end": "918480"
  },
  {
    "start": "918000",
    "end": "1012000"
  },
  {
    "text": "easy you can also use um kind of PCB layout urtic to get an idea of maybe",
    "start": "918480",
    "end": "924360"
  },
  {
    "text": "which connectors might be interesting ones or might contain some sort of bus",
    "start": "924360",
    "end": "929880"
  },
  {
    "text": "so we can take advantage of the fact that similar traces are grouped together so if we look on a board like this you",
    "start": "929880",
    "end": "935440"
  },
  {
    "text": "know there's other little traces and stuff and some other pads around there but then we see this big grouping of",
    "start": "935440",
    "end": "941120"
  },
  {
    "text": "traces coming up to this connector at the corner so right away you can say okay the fact that all these traces are",
    "start": "941120",
    "end": "947319"
  },
  {
    "text": "going up together probably means it's some sort of similar interface maybe it's a bus of some sort or maybe it's",
    "start": "947319",
    "end": "953040"
  },
  {
    "text": "something else but all those traces going together um is something that's a clue that that's you know probably where we want to attach some some points of",
    "start": "953040",
    "end": "959600"
  },
  {
    "text": "the jtagulator on the other slide um here's a picture of another access point I was",
    "start": "959600",
    "end": "965920"
  },
  {
    "text": "looking at this connector wasn't here I put that on later um so just imagine that there's you know just an unpopulated footprint there but there's",
    "start": "965920",
    "end": "973079"
  },
  {
    "text": "these resistors connected to some of the pins so sometimes you can actually look at a board and say okay there's a bunch",
    "start": "973079",
    "end": "979600"
  },
  {
    "text": "of resistors next to this unpopulated connector or a bunch of resistors next to this group of test points that might",
    "start": "979600",
    "end": "985040"
  },
  {
    "text": "be an interface because resistors either pull up or pull down resistors are used to set the static State um of a of a",
    "start": "985040",
    "end": "992160"
  },
  {
    "text": "system or of a bus sort of the unused you know kind of idle state so when I",
    "start": "992160",
    "end": "997440"
  },
  {
    "text": "saw that I saw you know there was a few other connectors on the board but I saw this one with the resistors right there and it just seemed very obvious to me",
    "start": "997440",
    "end": "1003079"
  },
  {
    "text": "and that that ended up being the JTAG interface I didn't know which pins but that's where the jtagulator came in",
    "start": "1003079",
    "end": "1008440"
  },
  {
    "text": "right so I could at least identify it and then go to the next step other boards try to be a little",
    "start": "1008440",
    "end": "1015440"
  },
  {
    "start": "1012000",
    "end": "1134000"
  },
  {
    "text": "more sneaky covering the interface with solder mask and solder mask is a coating that goes",
    "start": "1015440",
    "end": "1021360"
  },
  {
    "text": "on top of the board to protect any copper areas that don't need to be exposed uh to the to the outside world",
    "start": "1021360",
    "end": "1028280"
  },
  {
    "text": "like for you know that don't need to have components soldered onto them so here's a connector two different two",
    "start": "1028280",
    "end": "1034400"
  },
  {
    "text": "different connectors actually with the the solder mask on top so the only way you can get access to the to the actual",
    "start": "1034400",
    "end": "1040160"
  },
  {
    "text": "copper and make contact is to scrape off the solder mask so it seems like maybe during",
    "start": "1040160",
    "end": "1047520"
  },
  {
    "text": "manufacturing that would or maybe during uh development that area was exposed so",
    "start": "1047520",
    "end": "1053240"
  },
  {
    "text": "developers could have you know some connector plugged in or something like that and then they just changed the solder mask uh plot when they were",
    "start": "1053240",
    "end": "1060480"
  },
  {
    "text": "manufacturing their boards to just cover cover that over that's a very kind of low lowcost easy thing to do changing",
    "start": "1060480",
    "end": "1065840"
  },
  {
    "text": "the mask is not a big problem during Manu manufacturing and during PCB fabrication so maybe they did that to",
    "start": "1065840",
    "end": "1070960"
  },
  {
    "text": "cover it up knowing that you know end users aren't supposed to touch those",
    "start": "1070960",
    "end": "1076760"
  },
  {
    "text": "things same thing on this side this is from a Peak uh two-way uh uh email device that was on the market for few",
    "start": "1076760",
    "end": "1084640"
  },
  {
    "text": "years uh this was once you take apart the housing there's these tiny tiny little test",
    "start": "1084640",
    "end": "1090360"
  },
  {
    "text": "points all covered in solder mask so you have to very carefully scrape those off",
    "start": "1090360",
    "end": "1096240"
  },
  {
    "text": "solder wires down to it or maybe you could create a little test fixture and have some Pogo pins spring-loaded pins",
    "start": "1096240",
    "end": "1101480"
  },
  {
    "text": "that could touch down on all of those test points which is probably what the developers had um and then figure out",
    "start": "1101480",
    "end": "1107919"
  },
  {
    "text": "what they are so that gets that that that gets a little bit harder right because if they",
    "start": "1107919",
    "end": "1113400"
  },
  {
    "text": "put solder mask over it what if what if instead of instead of having this very obvious connector looking thing if they",
    "start": "1113400",
    "end": "1118720"
  },
  {
    "text": "were just smaller points that maybe looked like Vias which are connections that go through the board it might be really hard to to to figure out what's a",
    "start": "1118720",
    "end": "1126159"
  },
  {
    "text": "legitimate test point for an interface versus what's just a normal you know connection on the board that we don't",
    "start": "1126159",
    "end": "1131320"
  },
  {
    "text": "care about so it gets a little bit harder and you might have to then do uh additional reverse engineering to try to try to narrow down your search another",
    "start": "1131320",
    "end": "1139200"
  },
  {
    "start": "1134000",
    "end": "1185000"
  },
  {
    "text": "thing that some vendors try to do is instead of using connectors at all or test points at all are using existing um",
    "start": "1139200",
    "end": "1146000"
  },
  {
    "text": "part packages so in this case there's four resistor Footprints but these are the actual JTAG",
    "start": "1146000",
    "end": "1153440"
  },
  {
    "text": "connections so it's security through obscurity right on the board when you look at it you don't know which which",
    "start": "1153440",
    "end": "1159240"
  },
  {
    "text": "components are there uh or which components are missing intentionally or which ones are there to obis skate an interface you just don't know but once",
    "start": "1159240",
    "end": "1165640"
  },
  {
    "text": "you find out that these are the interfaces is that those are the interface pins that's not going to",
    "start": "1165640",
    "end": "1171000"
  },
  {
    "text": "change for any revision of the board so it's totally just security through obscurity and it only takes one person to find that to find that and then",
    "start": "1171000",
    "end": "1177240"
  },
  {
    "text": "release it on a website for everybody but it does make it way harder and that's where the jtagulator",
    "start": "1177240",
    "end": "1183200"
  },
  {
    "text": "comes in so once you do find the interface uh",
    "start": "1183200",
    "end": "1189760"
  },
  {
    "start": "1185000",
    "end": "1278000"
  },
  {
    "text": "the kind of traditional way to do things manually determining pinouts is you'd first look on the board you'd find your",
    "start": "1189760",
    "end": "1195600"
  },
  {
    "text": "connectors like we talked about then you try to trace out they go now usually there'd be like a main microcontroller",
    "start": "1195600",
    "end": "1201559"
  },
  {
    "text": "on the board somewhere that's very obviously marked or it's towards the center of the board uh and usually the",
    "start": "1201559",
    "end": "1206679"
  },
  {
    "text": "connector you'd want to see if it goes back to that part so you could visually Trace things you use a continuity tester",
    "start": "1206679",
    "end": "1212080"
  },
  {
    "text": "or multimeter and continuity mode to check connections and see if you can get it",
    "start": "1212080",
    "end": "1217440"
  },
  {
    "text": "you know Trace them back to the part and then use a data sheet to correlate those",
    "start": "1217440",
    "end": "1222679"
  },
  {
    "text": "pinouts sometimes though you can't get access to the part if it's a ball grid AR raay device which have solder balls",
    "start": "1222679",
    "end": "1228320"
  },
  {
    "text": "under underneath the part as opposed to pins that come out so it's a lot harder to to probe what's going on and it's a",
    "start": "1228320",
    "end": "1233760"
  },
  {
    "text": "lot harder to see what's going on uh then maybe you need to use x-ray which is common with with contract",
    "start": "1233760",
    "end": "1239200"
  },
  {
    "text": "manufacturers you can go and stick a device in an x-ray machine and see where traces come out see where they get broken out and see if you can follow",
    "start": "1239200",
    "end": "1245799"
  },
  {
    "text": "those to the connectors um maybe you have to remove the part from the board remove the BGA part so",
    "start": "1245799",
    "end": "1252400"
  },
  {
    "text": "you can actually see where things are going there's lots of ways to do it but that's where things get difficult if you don't have the experience and you don't",
    "start": "1252400",
    "end": "1257880"
  },
  {
    "text": "have the tools and then you can also you know probe the connections using an oscilloscope",
    "start": "1257880",
    "end": "1262919"
  },
  {
    "text": "monitor what's going on trial and error of pulling pins high and low and seeing if that kicks off some sort of process",
    "start": "1262919",
    "end": "1268559"
  },
  {
    "text": "with the other pins it's just a very a very long process and that's you know that that's the whole goal of the",
    "start": "1268559",
    "end": "1273840"
  },
  {
    "text": "jtagulator is to simplify that process a little",
    "start": "1273840",
    "end": "1278480"
  },
  {
    "start": "1278000",
    "end": "1449000"
  },
  {
    "text": "bit so the design requirements um for this tool as I talked about open source",
    "start": "1280200",
    "end": "1286200"
  },
  {
    "text": "has to be open source has to be hackable in this community that's just you know that's how we make better products is",
    "start": "1286200",
    "end": "1291279"
  },
  {
    "text": "have things open have people be able to look at the design and comment on it and look at the firmware and comment on it",
    "start": "1291279",
    "end": "1296960"
  },
  {
    "text": "um I'm proud to say I learned how to use GitHub uh to to upload my firmware so",
    "start": "1296960",
    "end": "1302960"
  },
  {
    "text": "took me a while being a hardware guy it was a a learning curve to figure out GitHub but I did it and uh you know that",
    "start": "1302960",
    "end": "1308840"
  },
  {
    "text": "way everything can be shared and it sort of it's it's a really cool thing um a lot of the products that I design",
    "start": "1308840",
    "end": "1314320"
  },
  {
    "text": "especially the hobbyist types of modules I like to have very simple command-based interfaces so you can hook up enter some",
    "start": "1314320",
    "end": "1320559"
  },
  {
    "text": "commands you know to see a list of commands and just kind of inter interact with the device in a very easy way so I",
    "start": "1320559",
    "end": "1325799"
  },
  {
    "text": "want to have a simple interface which we do proper input protection and I'll talk about some of these features uh in",
    "start": "1325799",
    "end": "1331720"
  },
  {
    "text": "detail but input protection to protect our board from getting damaged from from",
    "start": "1331720",
    "end": "1337320"
  },
  {
    "text": "voltage levels and from from things that we that we're not sure about on the target board because we're connecting up to a bunch of different test points on",
    "start": "1337320",
    "end": "1343039"
  },
  {
    "text": "the board and they could be uh you know Negative voltages they could be higher voltages to drive an LCD or to drive a",
    "start": "1343039",
    "end": "1349559"
  },
  {
    "text": "motor or something like if we're just arbitrarily hooking up to test points which sometimes we do we need to make sure that we're protected that the",
    "start": "1349559",
    "end": "1355760"
  },
  {
    "text": "jtagulator is protected that your machine is protected so if you hook up to something potentially bad or",
    "start": "1355760",
    "end": "1361520"
  },
  {
    "text": "potentially damaging it's not going to actually damage stuff adjustable Target voltage lots of different systems have",
    "start": "1361520",
    "end": "1368279"
  },
  {
    "text": "different system voltage levels um so things like uh say the Defcon badge that I have here",
    "start": "1368279",
    "end": "1375760"
  },
  {
    "text": "that I'll show a demo of that runs on a a cr230 a 3vt lithium coin cell so",
    "start": "1375760",
    "end": "1381000"
  },
  {
    "text": "that's a 3vt system um mobile phones maybe are 2.6 volts or 1.8 volt maybe",
    "start": "1381000",
    "end": "1387760"
  },
  {
    "text": "they're getting even lower now um so we want to have some sort of way to properly communicate and prop properly",
    "start": "1387760",
    "end": "1394159"
  },
  {
    "text": "have the levels that we're sending from the jtagulator Meet the specifications of the target board because the jtagulator",
    "start": "1394159",
    "end": "1400440"
  },
  {
    "text": "system is a 3.3 volt system because that's what the propeller processor runs on and that's that's what we're using so",
    "start": "1400440",
    "end": "1405720"
  },
  {
    "text": "we need a way to kind of convert that and make sure that we don't damage any signals going out and any signals coming back in offthe shelf components part of",
    "start": "1405720",
    "end": "1413080"
  },
  {
    "text": "being hackable right being able to just get components from Digi key you're from a a market or whatever um so just we're",
    "start": "1413080",
    "end": "1419320"
  },
  {
    "text": "using uh very common parts and then you could hand solder it it's a two-sided board uh the Gerber plots are available",
    "start": "1419320",
    "end": "1425880"
  },
  {
    "text": "online so you could you know fabricate your own board somewhere uh you can hand saw to the part some of them mo most of",
    "start": "1425880",
    "end": "1431640"
  },
  {
    "text": "them are surface mount um and some of them are pretty fine pitch but you can do it it's great practice actually if",
    "start": "1431640",
    "end": "1438000"
  },
  {
    "text": "you want to you know if you want to have a a good project to really learn surface mount soldering this would be the one I",
    "start": "1438000",
    "end": "1443960"
  },
  {
    "text": "built four of them by hand and I'm never going to do it again um but still good",
    "start": "1443960",
    "end": "1449919"
  },
  {
    "start": "1449000",
    "end": "1539000"
  },
  {
    "text": "practice all right so we'll go into some details of the hardware here's just a kind of General",
    "start": "1450240",
    "end": "1455559"
  },
  {
    "text": "block diagram and I'll go through um some of the some of the details but we have as the core the a",
    "start": "1455559",
    "end": "1462000"
  },
  {
    "text": "propeller Parallax propeller processor which is a really neat kind of eight core processor used a lot for hobbyist applications and Industrial applic and",
    "start": "1462000",
    "end": "1469240"
  },
  {
    "text": "sort of low volume um very interesting complex systems so that was a fun one to",
    "start": "1469240",
    "end": "1474679"
  },
  {
    "text": "kind of hack with and parallx is a a manufacturer of electronics designer of electronics mostly hobbyist educational",
    "start": "1474679",
    "end": "1482159"
  },
  {
    "text": "um they do a bunch of stuff and and they they sell a bunch of my other products so I was like okay well this is a cool kind of hackable part let's use it we",
    "start": "1482159",
    "end": "1490120"
  },
  {
    "text": "have USB coming in a mini USB uh coming in that's going to provide power to the",
    "start": "1490120",
    "end": "1495200"
  },
  {
    "text": "jtagulator also serve as the programing interface to program the propeller",
    "start": "1495200",
    "end": "1500320"
  },
  {
    "text": "processor so when we do firmware updates and also to serve as the the actual user interface to us through a terminal",
    "start": "1500320",
    "end": "1505679"
  },
  {
    "text": "program so it will show up as a a virtual serial port double eom for firmware storage our level translators",
    "start": "1505679",
    "end": "1511960"
  },
  {
    "text": "which are for the adjustable Target voltage input protection circuitry and uh on the on the other side we have a",
    "start": "1511960",
    "end": "1517559"
  },
  {
    "text": "digital analog converter that we're generating our adjustable Target voltage from 1.2 to 3.3 volts and I'll get into",
    "start": "1517559",
    "end": "1523279"
  },
  {
    "text": "detail of that but it's pretty much like a kind of a basic system if you look at it it's really the the you know the the",
    "start": "1523279",
    "end": "1529559"
  },
  {
    "text": "CPU with a bunch of protection on 24 channels so it's a very kind of generic",
    "start": "1529559",
    "end": "1535640"
  },
  {
    "text": "board that you could use for all sorts of other stuff as well which is why I love it so here's the board it's very",
    "start": "1535640",
    "end": "1543480"
  },
  {
    "start": "1539000",
    "end": "1647000"
  },
  {
    "text": "pink I figured you know with a name like jtagulator we got to have like you know a very pink board it kind of offsets the",
    "start": "1543480",
    "end": "1549799"
  },
  {
    "text": "heavy metalness of the jtagulator name and I figure a pink circuit board",
    "start": "1549799",
    "end": "1555039"
  },
  {
    "text": "is going to be a lot harder to lose on your desk right if you have a green board kind of Blends in with everything else but pink will stand out so you'll",
    "start": "1555039",
    "end": "1561120"
  },
  {
    "text": "always be able to find your tool um but here's what it looks like if we start on this side USB coming in satus indicator",
    "start": "1561120",
    "end": "1566960"
  },
  {
    "text": "up at the top will be red or green depending on you know what's going on in the system our op amp circuitry is down",
    "start": "1566960",
    "end": "1572559"
  },
  {
    "text": "here level translators input protection and then here are the probes or the the interface connections there's two",
    "start": "1572559",
    "end": "1578679"
  },
  {
    "text": "different ways that you can connect to it one is going to be through the uh screw terminal blocks at the top so if you have flying leads or wires coming in",
    "start": "1578679",
    "end": "1585440"
  },
  {
    "text": "you can just screw down to the terminals on the top the bottom are 2x5 row headers that are",
    "start": "1585440",
    "end": "1591559"
  },
  {
    "text": "compatible with the bus pirate probes and when we switch to the camera I'll show you um closer what they look like",
    "start": "1591559",
    "end": "1596960"
  },
  {
    "text": "but it's basically just an off-the-shelf uh set of probes that have a little connector on it with a bunch of test",
    "start": "1596960",
    "end": "1603399"
  },
  {
    "text": "leads on the other side and the bus pirate is a um kind of hobbyist hacker tool to let you interface with serial",
    "start": "1603399",
    "end": "1609799"
  },
  {
    "text": "devices and manipulate serial devices uh and that's another open source tool but",
    "start": "1609799",
    "end": "1615120"
  },
  {
    "text": "because that's been around for so long there's these cables that are available everywhere for like five or",
    "start": "1615120",
    "end": "1621120"
  },
  {
    "text": "six bucks so I figured okay let's use these because then you can just clip down you know plug this on to your jtagulator and you have a bunch of test",
    "start": "1621120",
    "end": "1627159"
  },
  {
    "text": "Clips you can clip onto a Target board which is kind of cool having two interfaces as well is useful um if you",
    "start": "1627159",
    "end": "1633520"
  },
  {
    "text": "want to hook up like a logic analyzer or kind of sniff what's going on at the same time because then you can connect",
    "start": "1633520",
    "end": "1639399"
  },
  {
    "text": "your inter your your Target on one of them and then connect up to the other ones to sniff so it's kind of",
    "start": "1639399",
    "end": "1647159"
  },
  {
    "start": "1647000",
    "end": "1774000"
  },
  {
    "text": "neat so I'm going to get into some details of the uh of the actual Hardware subsystems",
    "start": "1647159",
    "end": "1653159"
  },
  {
    "text": "um the propeller as I mentioned is an eight core architecture uh very very neat uh completely designed from the",
    "start": "1653159",
    "end": "1659880"
  },
  {
    "text": "ground up so um chip Gracie is the guy that started parallx and he's he's a a hacker in the truest sense of the word",
    "start": "1659880",
    "end": "1666720"
  },
  {
    "text": "and he was sort of tired of having to deal with these proprietary chips and deal with semiconductor manufacturers",
    "start": "1666720",
    "end": "1672080"
  },
  {
    "text": "that don't give out all their information so he's like I'm going to design my own chip from the ground up so he you know built his own registers and",
    "start": "1672080",
    "end": "1678880"
  },
  {
    "text": "CPU and everything uh and It ultimately after six or seven years turned into the propeller so it's just a really neat",
    "start": "1678880",
    "end": "1684840"
  },
  {
    "text": "chip uh there's lots of information about it lots of very smart people on the discussion forum sharing information",
    "start": "1684840",
    "end": "1690880"
  },
  {
    "text": "uh there's a a site um on the parallx uh site called the object exchange where people can write modules and write",
    "start": "1690880",
    "end": "1697399"
  },
  {
    "text": "different different uh programs for the propeller and upload them so it's sort",
    "start": "1697399",
    "end": "1702519"
  },
  {
    "text": "of like if you look and it's like oh I want to have you know LCD control or I want to have an FM transmitter I want to Output composite video you can go online",
    "start": "1702519",
    "end": "1709200"
  },
  {
    "text": "and look through the object exchange and sort of grab objects objects are basically like header files or functions",
    "start": "1709200",
    "end": "1714600"
  },
  {
    "text": "um grab those and sort of integrate it into your design so it's super cool so you know in reality you could go to the",
    "start": "1714600",
    "end": "1719679"
  },
  {
    "text": "object exchange and look stuff up and say okay I want to add a VGA output to the jtagulator and hook it up to a you",
    "start": "1719679",
    "end": "1725200"
  },
  {
    "text": "know Standalone terminal uh Standalone monitor or something there's just all sorts of stuff you could do so I just loved the community support aspect of it",
    "start": "1725200",
    "end": "1734080"
  },
  {
    "text": "you can code um in spin which is a propri uh not proprietary but a custom l anguage um built specifically for uh the",
    "start": "1734080",
    "end": "1741880"
  },
  {
    "text": "uh the propeller sort of a highlevel kind of like Pascal C sort of combination mashup",
    "start": "1741880",
    "end": "1751799"
  },
  {
    "text": "of stuff a little bit of a learning curve to to figured out that's what uh the jtagulator is currently all all",
    "start": "1751799",
    "end": "1757559"
  },
  {
    "text": "written in spin so it's very it's at least easy to kind of look through and and read comments and see stuff as",
    "start": "1757559",
    "end": "1762720"
  },
  {
    "text": "opposed to Assembly Language which tends to be a little bit harder but you could write it in Assembly Language and also you can write it in C they're Parallax",
    "start": "1762720",
    "end": "1768600"
  },
  {
    "text": "is creating a tool right now um a crossplatform tool to be able to to write and see but right now everything is done in",
    "start": "1768600",
    "end": "1776640"
  },
  {
    "start": "1774000",
    "end": "1893000"
  },
  {
    "text": "spin the uh the system normally runs at 80 MHz which seems slow when you compare it to like you know a Linux based thing",
    "start": "1776640",
    "end": "1783039"
  },
  {
    "text": "or a a mobile phone or something but really 80 MHz for like a a standalone",
    "start": "1783039",
    "end": "1788840"
  },
  {
    "text": "hobbyist type of microcontroller is it is pretty good it's pretty fast and you can actually overclock it to 128 MHz",
    "start": "1788840",
    "end": "1795480"
  },
  {
    "text": "with pretty good reliability um the way the system set up is you have uh some Global memory which is called Hub memory",
    "start": "1795480",
    "end": "1801919"
  },
  {
    "text": "that's shared with all of the all of the eight cogs so there's 32 32k of ram um",
    "start": "1801919",
    "end": "1808200"
  },
  {
    "text": "the ROM is actually uh a masked ROM which has the bootloader and character set and some other stuff specific to the",
    "start": "1808200",
    "end": "1815039"
  },
  {
    "text": "to the to get the propeller up and running um so code basically gets loaded from an external double prom on power up",
    "start": "1815039",
    "end": "1821279"
  },
  {
    "text": "and then executes um out of ram then the remaining portion of ram after that is used for the stack and for variables and",
    "start": "1821279",
    "end": "1827480"
  },
  {
    "text": "things shared memory and then each Cog has its own 2K of ram as well so you can have a cog uh kind of executing its own",
    "start": "1827480",
    "end": "1834919"
  },
  {
    "text": "stuff and using its own memory and then maybe once in a while dumping things to the main memory if you want to you know if you need some other Cog to access it",
    "start": "1834919",
    "end": "1841880"
  },
  {
    "text": "um for for the jtagulator we don't really have a lot of complex stuff going on with cogs but there is just lots of",
    "start": "1841880",
    "end": "1847679"
  },
  {
    "text": "capability there um 32 IO pins with 40 milliamps um syn or Source current per",
    "start": "1847679",
    "end": "1853600"
  },
  {
    "text": "pin and one of the things I wanted to do when I was designing this tool is like find a processor that could use that had",
    "start": "1853600",
    "end": "1860480"
  },
  {
    "text": "lots of pins but also had an easy way to program it and didn't need like this you know weird uh large development",
    "start": "1860480",
    "end": "1867880"
  },
  {
    "text": "environment and all of this stuff so trying to find that balance but 32 pins we're using 24 of those pins for Io and",
    "start": "1867880",
    "end": "1873279"
  },
  {
    "text": "the other other stuff we're using for the you know analog to digital or digital analog converter and stuff so it's sort of you know it's it's it's a",
    "start": "1873279",
    "end": "1879240"
  },
  {
    "text": "pretty good number you could always you know design a similar jtagulator with an fpga with you know 128 pins or something",
    "start": "1879240",
    "end": "1886880"
  },
  {
    "text": "so you could potentially get larger IO but I think 24 is sort of a good uh good",
    "start": "1886880",
    "end": "1892159"
  },
  {
    "text": "number for now anyway so the standard development is done with a tool called the propeller",
    "start": "1892159",
    "end": "1897639"
  },
  {
    "start": "1893000",
    "end": "1966000"
  },
  {
    "text": "tool which actually is is in the uh in the black hat materials on the DVD so if you want to load that up and kind of",
    "start": "1897639",
    "end": "1903159"
  },
  {
    "text": "play with it and load the source code in you you can um right now that is Windows only uh so I mentioned that they are",
    "start": "1903159",
    "end": "1909159"
  },
  {
    "text": "doing crossplatform version uh for for C or uh for C but they're also creating a",
    "start": "1909159",
    "end": "1914799"
  },
  {
    "text": "crossplatform tool that will let you write spin on things than Windows but for now it's all windows",
    "start": "1914799",
    "end": "1921279"
  },
  {
    "text": "based uh and we program the device through that same interface that we're using as the as the user interface and",
    "start": "1921279",
    "end": "1926320"
  },
  {
    "text": "that's you know just one connector in we don't need to do a lot of stuff if we want to if we want to program because again remember the intent is to get",
    "start": "1926320",
    "end": "1932480"
  },
  {
    "text": "non-hardware people involved in this stuff so it has to be easy here's just a black diagram of the of the",
    "start": "1932480",
    "end": "1940000"
  },
  {
    "text": "core and from a circuit point of view there's really not much there we just have the main part 5vt external",
    "start": "1940000",
    "end": "1946320"
  },
  {
    "text": "oscillator and there the loading capacitors are actually internal to the propeller so it's just one less thing to",
    "start": "1946320",
    "end": "1951480"
  },
  {
    "text": "have to deal with or two less things that you have to deal with because you normally you need two capacitors so just sort of saves things you can just throw",
    "start": "1951480",
    "end": "1957399"
  },
  {
    "text": "on a a 5 MHz Crystal and be good to go and there's not much else just just the the external W promp so this is a very",
    "start": "1957399",
    "end": "1964120"
  },
  {
    "text": "simple to get up and running for the USB interface uh sort of serves",
    "start": "1964120",
    "end": "1970480"
  },
  {
    "start": "1966000",
    "end": "2149000"
  },
  {
    "text": "multi-purpose which I love it Powers a device and then lets us program and serves as unit interface uh I'm using an",
    "start": "1970480",
    "end": "1976240"
  },
  {
    "text": "ft ftdi ft 232 device which is a standard uh USB to serial interface so",
    "start": "1976240",
    "end": "1983799"
  },
  {
    "text": "when we you know we can send TTL level serial from the jtagulator 0 to 3vt signals this ftdi Parts going to convert",
    "start": "1983799",
    "end": "1990440"
  },
  {
    "text": "that uh into proper signals and also show up as a a us uh USB virtual comport",
    "start": "1990440",
    "end": "1995960"
  },
  {
    "text": "on your machine it will work with you know with Mac PC Linux whatever Windows",
    "start": "1995960",
    "end": "2001840"
  },
  {
    "text": "whatever whatever you want anything that supports um USB virtual seral ports virtual comp ports and there's tons of",
    "start": "2001840",
    "end": "2007840"
  },
  {
    "text": "different drivers on the ftdi website um anything that supports virtual comport you'll be able to use this thing with",
    "start": "2007840",
    "end": "2014880"
  },
  {
    "text": "possibly even maybe Raspberry Pi at some point I don't know um part of the part of the USB interface that I wanted to",
    "start": "2014880",
    "end": "2020639"
  },
  {
    "text": "make sure that we did properly was have a power distribution switch a lot of times you'll see products that just have",
    "start": "2020639",
    "end": "2025919"
  },
  {
    "text": "a USB connector going straight from the board directly uh to the Target computer and if you look on the actual uh inside",
    "start": "2025919",
    "end": "2033039"
  },
  {
    "text": "of the the board the power is shared between two right because USB provides power um but you're supposed to",
    "start": "2033039",
    "end": "2039880"
  },
  {
    "text": "actually have kind of a proper enumeration process to make sure that you don't uh",
    "start": "2039880",
    "end": "2046000"
  },
  {
    "text": "potentially try to try to sort try to sync too much current from the Target and make sure that the that the computer",
    "start": "2046000",
    "end": "2051839"
  },
  {
    "text": "properly knows that you're properly enumerated and it knows what kind of current You're Expecting before it provides it to you so as part of the USB",
    "start": "2051839",
    "end": "2057960"
  },
  {
    "text": "spec you actually need to kind of power up properly and enumerate properly when you plug a device into a computer most",
    "start": "2057960",
    "end": "2065200"
  },
  {
    "text": "things out there very cheap devices don't do that so technically they're not USB compliant uh but I wanted to at",
    "start": "2065200",
    "end": "2071358"
  },
  {
    "text": "least have a way that if there was some problem with the jtagulator or we had it hooked up to some board that was just",
    "start": "2071359",
    "end": "2077079"
  },
  {
    "text": "causing it to like suck so much current out of a device that it would fail properly and it would kind of Disconnect",
    "start": "2077079",
    "end": "2083240"
  },
  {
    "text": "itself from the system so we're using an mic a micrel mic 2025 power distribution switch which basically what we're doing",
    "start": "2083240",
    "end": "2090440"
  },
  {
    "text": "is disconnecting most of the uh most of the circuit from the system and when you",
    "start": "2090440",
    "end": "2096560"
  },
  {
    "text": "plug in the jtagulator only the ftdi part gets powered up so the enumeration",
    "start": "2096560",
    "end": "2101839"
  },
  {
    "text": "happens properly with the Target and then once it's enumerated and the the uh",
    "start": "2101839",
    "end": "2107599"
  },
  {
    "text": "the ftdi part says I need 500 milliamps then the the targ the PC will give you",
    "start": "2107599",
    "end": "2112880"
  },
  {
    "text": "that current or at least allow that amount of current to be to be uh to be drawn and then it will enable the the",
    "start": "2112880",
    "end": "2118160"
  },
  {
    "text": "rest of the system so here we basically you can see like V USB is when we plug in to USB",
    "start": "2118160",
    "end": "2125720"
  },
  {
    "text": "that's the that's the 5volt line of USB we're only powering the ftdi part and then once everything's good one of the",
    "start": "2125720",
    "end": "2132839"
  },
  {
    "text": "pins on the ftdi part says okay we're all enumerated let's enable the rest of the load and then we enable a uh um a",
    "start": "2132839",
    "end": "2139839"
  },
  {
    "text": "load Dropout linear regulator to enable the 5 v0 which is the 5 volt line that will then go and feed the rest of the",
    "start": "2139839",
    "end": "2145320"
  },
  {
    "text": "jtagulator system so it's just a good thing to do proper kind of power up so you can know with pretty good",
    "start": "2145320",
    "end": "2151760"
  },
  {
    "start": "2149000",
    "end": "2243000"
  },
  {
    "text": "certainty that when you plug this thing into a into your computer it's not going to you know blow up",
    "start": "2151760",
    "end": "2158760"
  },
  {
    "text": "hopefully um okay so the adjustable Target voltage this was just a way uh I needed sort of some way you know to",
    "start": "2158760",
    "end": "2164680"
  },
  {
    "text": "create this adjustable voltage that we can connect to different targets um so what I'm using is a postwith modulated",
    "start": "2164680",
    "end": "2170240"
  },
  {
    "text": "signal pwm on on one IO line or one output line of the propeller and basically the duty cycle of the pwm",
    "start": "2170240",
    "end": "2178240"
  },
  {
    "text": "corresponds to the output voltage and what I have is a lookup table with different Duty Cycles that I've measured",
    "start": "2178240",
    "end": "2184800"
  },
  {
    "text": "out uh and measured the kind of resulting voltage and now we have .1 volt increments from 1.2 to 3.3 volts",
    "start": "2184800",
    "end": "2192280"
  },
  {
    "text": "depending on target voltage and the way that works is I have an op amp basically an RC filter going through a buffer to",
    "start": "2192280",
    "end": "2200240"
  },
  {
    "text": "provide the voltage and we really don't even really need the buffer but that's going to provide us a little bit of",
    "start": "2200240",
    "end": "2206560"
  },
  {
    "text": "isolation and also give us additional output current because this this uh that op amp can provide about 150 milliamps",
    "start": "2206560",
    "end": "2213720"
  },
  {
    "text": "of output current so it sort of acts as this amplifier for us where now we have a voltage but we can also Source some",
    "start": "2213720",
    "end": "2220839"
  },
  {
    "text": "amount of current in case we want to use this V AJ line the adjustable Target voltage line maybe to control the Target",
    "start": "2220839",
    "end": "2228000"
  },
  {
    "text": "or turn on the Target or control another piece of circuitry or something gives it just a little bit more of a you know",
    "start": "2228000",
    "end": "2233319"
  },
  {
    "text": "kind of future expandability by having this buffer in here and it's just safer that way too um so it's just a single",
    "start": "2233319",
    "end": "2238680"
  },
  {
    "text": "Supply standard op amp for level translation this is going",
    "start": "2238680",
    "end": "2246000"
  },
  {
    "start": "2243000",
    "end": "2301000"
  },
  {
    "text": "to allow the 3.3 volt signals from from the propeller um to be converted to whatever our adjustable Target voltage is uh we have the TXS 0108 which is a",
    "start": "2246000",
    "end": "2254880"
  },
  {
    "text": "very common bidirectional uh level translator so it will take in 3.3 and then output it uh at whatever voltage",
    "start": "2254880",
    "end": "2261960"
  },
  {
    "text": "we're putting in on the on the other side which I'll show you the schematic of that um the cool thing about this",
    "start": "2261960",
    "end": "2268280"
  },
  {
    "text": "part is has it has high impedance outputs so we can use the output enable line to essentially keep all of the io",
    "start": "2268280",
    "end": "2275839"
  },
  {
    "text": "pins that might be connected to AAR board High impedance which essentially disconnected from the from the system or",
    "start": "2275839",
    "end": "2281640"
  },
  {
    "text": "from those connections until we're ready to start J tagula that way you know as we're plugging things in we're not",
    "start": "2281640",
    "end": "2289280"
  },
  {
    "text": "hopefully not going to screw stuff up because the system doesn't really the target doesn't really know that they're there yet until we enable the output",
    "start": "2289280",
    "end": "2295640"
  },
  {
    "text": "enable and then those pins go high or low so having the high impedance is really kind of a a useful",
    "start": "2295640",
    "end": "2301280"
  },
  {
    "start": "2301000",
    "end": "2309000"
  },
  {
    "text": "feature and there's not much to it pins coming in pins going out",
    "start": "2301280",
    "end": "2309440"
  },
  {
    "start": "2309000",
    "end": "2367000"
  },
  {
    "text": "for input protection we have uh current limiting resistors and diode clamps to",
    "start": "2311200",
    "end": "2316319"
  },
  {
    "text": "prevent uh overcurrent and over voltage of test points on the target board",
    "start": "2316319",
    "end": "2322359"
  },
  {
    "text": "because we don't know what we're going to connect to we need to protect ourselves there to an extent there you",
    "start": "2322359",
    "end": "2328040"
  },
  {
    "text": "know there is a range above some voltage uh that things will get damaged but it's",
    "start": "2328040",
    "end": "2333839"
  },
  {
    "text": "still going to protect us a lot um so what we have is our from from each Target on each Channel resistor coming",
    "start": "2333839",
    "end": "2339680"
  },
  {
    "text": "in and then a a resistor going or a diode going high and a diode going low so those are called diode clamps and",
    "start": "2339680",
    "end": "2345160"
  },
  {
    "text": "what those do are basically clamping voltage to a fixed level which",
    "start": "2345160",
    "end": "2350400"
  },
  {
    "text": "would be um you know positive it's going to be the the forward voltage of the diode plus whatever the adjustable",
    "start": "2350400",
    "end": "2356240"
  },
  {
    "text": "Target voltage is at that point so 1.2 to 3.3 volts and then for the negative side it's just going to be the negative",
    "start": "2356240",
    "end": "2361720"
  },
  {
    "text": "um forward forward uh voltage of the diode so the diode drop",
    "start": "2361720",
    "end": "2368760"
  },
  {
    "start": "2367000",
    "end": "2401000"
  },
  {
    "text": "and the diodes that we use are um shock key diodes since we need 24 we need 48 of them two per line having individual",
    "start": "2368760",
    "end": "2375920"
  },
  {
    "text": "discrete diodes would just sort of be a pain especially if you want to you know hand assemble these things so I found these diode arrays which are sort of",
    "start": "2375920",
    "end": "2382200"
  },
  {
    "text": "cool that are actually designed for for diode clamping and for ESD protection uh",
    "start": "2382200",
    "end": "2387359"
  },
  {
    "text": "where each IO line has its own diode going high and",
    "start": "2387359",
    "end": "2392720"
  },
  {
    "text": "own own diode going low so now we only need uh there's four channels per chip so we only need need six of them so it's",
    "start": "2392720",
    "end": "2399520"
  },
  {
    "text": "slightly better that's pretty much all the hardware for the bill materials there's",
    "start": "2399520",
    "end": "2405359"
  },
  {
    "text": "mostly discrete components and resistors and stuff but total cost is around 50 bucks us uh if you wanted to buy one you",
    "start": "2405359",
    "end": "2412240"
  },
  {
    "text": "know single single quantity $50 the more you buy the cheaper parts are um here this build materials is from Digi key",
    "start": "2412240",
    "end": "2418760"
  },
  {
    "text": "which is a a fairly large uh Parts distributor worldwide um and then the",
    "start": "2418760",
    "end": "2424560"
  },
  {
    "text": "full you know PDF is on my website if you if you want uh to see it",
    "start": "2424560",
    "end": "2430920"
  },
  {
    "start": "2430000",
    "end": "2495000"
  },
  {
    "text": "better so from the firmware side currently this is kind of the source tree that we have jtagulator dopin is",
    "start": "2430920",
    "end": "2437400"
  },
  {
    "text": "the main spin file that handles all of the the initial State machine and the setup and everything and then I tried to",
    "start": "2437400",
    "end": "2443560"
  },
  {
    "text": "I wanted to keep things modular so as I add new uh functionality or new protocols I have that as a as a separate",
    "start": "2443560",
    "end": "2450119"
  },
  {
    "text": "spin file so we have The Parallax serial terminal which is a um one of the default spin files to enable user",
    "start": "2450119",
    "end": "2457319"
  },
  {
    "text": "interface so to enable a serial serial interface for a user so I'm using that for the user interface real random is a",
    "start": "2457319",
    "end": "2463599"
  },
  {
    "text": "pseudo random number generator based on some PLL um Jitter of the CPU that we use for the bypass scan test uh which",
    "start": "2463599",
    "end": "2471040"
  },
  {
    "text": "I'll show you then prop J tag is all the low-level JTAG interface stuff and then JD Cog serial is the",
    "start": "2471040",
    "end": "2477680"
  },
  {
    "text": "low-level additional serial Port that I'm using for the uart detection so it's sort of you know as you add more stuff",
    "start": "2477680",
    "end": "2483240"
  },
  {
    "text": "then maybe the tree gets gets wider or anything but um right now it's pretty simple and you can think of like these",
    "start": "2483240",
    "end": "2488880"
  },
  {
    "text": "other spin files as just kind of extra header files or something even though they're you know they're actually extra",
    "start": "2488880",
    "end": "2494079"
  },
  {
    "text": "C files I guess there's still plenty of space left on this thing even with all of my",
    "start": "2494079",
    "end": "2500960"
  },
  {
    "start": "2495000",
    "end": "2524000"
  },
  {
    "text": "horribly um probably bloated and not very uh not very efficient code we're",
    "start": "2500960",
    "end": "2508520"
  },
  {
    "text": "still only using 1800 Longs 32-bit values so we",
    "start": "2508520",
    "end": "2514520"
  },
  {
    "text": "have we still have quite a bit of space available so all the blue lots of lots of space for extra stuff",
    "start": "2514520",
    "end": "2522160"
  },
  {
    "start": "2524000",
    "end": "2539000"
  },
  {
    "text": "later okay so we're actually we're going to take our break now I think that's going to be a good time we'll take our break now until 10:15 come back and look",
    "start": "2526040",
    "end": "2533560"
  },
  {
    "text": "at the actual details of on chip debug interfaces so JTAG and art um and then we'll open it up you know do the demos",
    "start": "2533560",
    "end": "2538640"
  },
  {
    "text": "and all of that",
    "start": "2538640",
    "end": "2541400"
  }
]