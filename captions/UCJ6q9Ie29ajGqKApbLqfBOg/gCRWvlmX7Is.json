[
  {
    "text": "good afternoon this is a six that talk",
    "start": "0",
    "end": "7700"
  },
  {
    "text": "we've only got a couple people here so we're going to we're just gonna keep this light-hearted so just before we",
    "start": "7940",
    "end": "16770"
  },
  {
    "text": "begin just kind of get an idea of where people are how many people in this room",
    "start": "16770",
    "end": "22470"
  },
  {
    "text": "happen to be like full-time scholar developers or even part-time Scala developers and any all right two guys",
    "start": "22470",
    "end": "29390"
  },
  {
    "text": "strange that you would attend this talk great everybody else kind of enterprise",
    "start": "29390",
    "end": "35430"
  },
  {
    "text": "security consulting things like that that any any other tan gentle",
    "start": "35430",
    "end": "41280"
  },
  {
    "text": "relationship to scala besides I'm a developer of it or some sort of interest in assessing or understanding its place",
    "start": "41280",
    "end": "47340"
  },
  {
    "text": "in the enterprise all right yeah yeah",
    "start": "47340",
    "end": "52829"
  },
  {
    "text": "right exactly right and that's that's what we're all about here is a setup",
    "start": "52829",
    "end": "59969"
  },
  {
    "text": "where'd it go what",
    "start": "59969",
    "end": "67010"
  },
  {
    "text": "okay it worked before here let's try",
    "start": "73180",
    "end": "86410"
  },
  {
    "text": "yeah once it goes full screen just leave it okay okay cool all right let's try",
    "start": "90280",
    "end": "100280"
  },
  {
    "text": "that again um so yeah let's go next who",
    "start": "100280",
    "end": "105800"
  },
  {
    "text": "are we I am Eric baetis I help run a small security team out of new york city",
    "start": "105800",
    "end": "112250"
  },
  {
    "text": "called include security basically got together a bunch of my old hacker buddies from capture the flag contest",
    "start": "112250",
    "end": "118790"
  },
  {
    "text": "from back in the day and veteran penetration testers and we hack applications mostly for Silicon Valley",
    "start": "118790",
    "end": "124130"
  },
  {
    "text": "in New York City companies Paolo I'm stood general & Decker Android I work my",
    "start": "124130",
    "end": "131720"
  },
  {
    "text": "android and thank you yeah sao paulo's",
    "start": "131720",
    "end": "137209"
  },
  {
    "text": "done the grand majority of this research I'm just kind of helping present it also",
    "start": "137209",
    "end": "142970"
  },
  {
    "text": "we we had two interns help us out with the code that will be covering at the end so one of them Samuel thank you very",
    "start": "142970",
    "end": "149600"
  },
  {
    "text": "much and then the other I was a guy named Stuart out of middle of nowhere",
    "start": "149600",
    "end": "157010"
  },
  {
    "text": "Michigan okay so uh yeah okay some",
    "start": "157010",
    "end": "168769"
  },
  {
    "text": "slides got roof so what are we doing with Scala here so Scala is essentially",
    "start": "168769",
    "end": "175930"
  },
  {
    "text": "so the skull is this sort of a functional and object-oriented lots of other sort of paradigm like a language",
    "start": "175930",
    "end": "183350"
  },
  {
    "text": "it's the main important point about is it compiles down to java bytecode execute on the JVM so it's kind of neat",
    "start": "183350",
    "end": "190070"
  },
  {
    "text": "we already have it exists infrastructure based on a JDM the web apps they're in a service container just",
    "start": "190070",
    "end": "197140"
  },
  {
    "text": "like in Java EE and you've got all the same kind of basic problems there it has and the one of the main things that they",
    "start": "197140",
    "end": "203260"
  },
  {
    "text": "tout about scallops that's really strong typing as well as all the functional stuff it has but you have to use the",
    "start": "203260",
    "end": "209410"
  },
  {
    "text": "type system correctly but if you do it can catch some errors yeah and you know",
    "start": "209410",
    "end": "214990"
  },
  {
    "text": "historically skull is about 10 years old but the web frameworks are still pretty",
    "start": "214990",
    "end": "221290"
  },
  {
    "text": "immature reminds me of Java in the early to mid-2000s with like kind of struts",
    "start": "221290",
    "end": "226420"
  },
  {
    "text": "one kind of thing so they're still just as they're creating the the frameworks",
    "start": "226420",
    "end": "232750"
  },
  {
    "text": "they're like oh yeah we also need to throw that in and throw that in so there's still not quite totally mature but they're still pretty good for for",
    "start": "232750",
    "end": "240489"
  },
  {
    "text": "where they are so what uh what does Scala and web applications look like so",
    "start": "240489",
    "end": "246610"
  },
  {
    "text": "here's an example Play app just a very basic hello world one so on the top",
    "start": "246610",
    "end": "251800"
  },
  {
    "text": "you've got what the view looks like you know you've got the app references to to",
    "start": "251800",
    "end": "257320"
  },
  {
    "text": "show where the variables are in the view layer and you have a route that essentially maps a type to class and the",
    "start": "257320",
    "end": "266979"
  },
  {
    "text": "typing they're really helps out a lot from security obviously in other",
    "start": "266979",
    "end": "272020"
  },
  {
    "text": "languages PHP or what have you you're going to have to take in the input from",
    "start": "272020",
    "end": "277960"
  },
  {
    "text": "the get request cast it as an int if you remember the Casa doesn't come up with",
    "start": "277960",
    "end": "283630"
  },
  {
    "text": "effective coding policies and patterns to ensure that that's always what you do and that everybody adheres to it with",
    "start": "283630",
    "end": "292390"
  },
  {
    "text": "this it's much simpler you can define types and sub validators four types is",
    "start": "292390",
    "end": "297610"
  },
  {
    "text": "pretty nice yeah when you're creating a play up for example it has kind of some",
    "start": "297610",
    "end": "304780"
  },
  {
    "text": "auto generation type type of things very similar to how when you create a ruby on rails app it's got a whole directory",
    "start": "304780",
    "end": "310960"
  },
  {
    "text": "structure all right ah this is the",
    "start": "310960",
    "end": "316030"
  },
  {
    "text": "problem that these two were switched okay so you guys we're hoping that you guys are mostly penetration testers",
    "start": "316030",
    "end": "321910"
  },
  {
    "text": "Scala devs and what what you're getting out of this are the coverage of the four topics right so",
    "start": "321910",
    "end": "329379"
  },
  {
    "text": "we're just briefly going to go over like what Scala app stack is and we've actually just gone over that so that's",
    "start": "329379",
    "end": "335360"
  },
  {
    "text": "that then we're going to go over the olas top 10 and the main thing here is in the white paper that we created for",
    "start": "335360",
    "end": "340879"
  },
  {
    "text": "this talk is just a bunch of patterns and anti-patterns right so here's the good thing that you do here's the bad",
    "start": "340879",
    "end": "347330"
  },
  {
    "text": "behavior here's the good behavior and going through all that so this is really ideally I could see this as hey I'm a",
    "start": "347330",
    "end": "354259"
  },
  {
    "text": "penetration tester and I'm about to do a nap I Scala I've never done ask a lap",
    "start": "354259",
    "end": "359870"
  },
  {
    "text": "before what are the patterns I'm looking for what things do i need to semantically look for in the code look",
    "start": "359870",
    "end": "366529"
  },
  {
    "text": "for in the config files stuff like that the white paper has a lot more of these you know just all these good patterns",
    "start": "366529",
    "end": "373039"
  },
  {
    "text": "all these bad patterns we can obviously go for all of them in the talk so we're just going to hit some of the more",
    "start": "373039",
    "end": "378080"
  },
  {
    "text": "interesting ones and then we have to to code two pieces of code or to code",
    "start": "378080",
    "end": "384020"
  },
  {
    "text": "coding projects i should say that we're going to release probably tomorrow well",
    "start": "384020",
    "end": "389569"
  },
  {
    "text": "we'll just do a quick demo of them today all right so what we're just going to",
    "start": "389569",
    "end": "396439"
  },
  {
    "text": "dive into OWASP top 10 stuff for those who are intimately familiar with the",
    "start": "396439",
    "end": "401839"
  },
  {
    "text": "OAuth top 10 just kind of nod like pretend you haven't heard this stuff before for everybody else this may be",
    "start": "401839",
    "end": "410240"
  },
  {
    "text": "some little bit of new information okay so lift meds got this or I'm layer",
    "start": "410240",
    "end": "417710"
  },
  {
    "text": "called mapper and the next thing about it is if you use it properly use the API",
    "start": "417710",
    "end": "423919"
  },
  {
    "text": "that they want you to use it converts your your queries directly to",
    "start": "423919",
    "end": "429289"
  },
  {
    "text": "parameterize queries there are some gotchas because they made it very flexible for developers so don't use the",
    "start": "429289",
    "end": "438589"
  },
  {
    "text": "in raw or the parts of the API that views in raw and to check for this",
    "start": "438589",
    "end": "445330"
  },
  {
    "text": "there's a parameter that things with the thin raw takes call I have validated this SQL it doesn't actually check",
    "start": "445330",
    "end": "452269"
  },
  {
    "text": "anything it's just kind of sort of a on faith thing for developers",
    "start": "452269",
    "end": "457389"
  },
  {
    "text": "to say yeah I've actually validated this SQL so this is kind of funny so",
    "start": "457389",
    "end": "462509"
  },
  {
    "text": "prioritized queries you guys know prevent sequel injection right so dynamic queries raw queries that's where",
    "start": "462509",
    "end": "469449"
  },
  {
    "text": "you could have sequel injection problems so the developers of the lift web framework said okay well every time we're going to have some sort of raw",
    "start": "469449",
    "end": "475810"
  },
  {
    "text": "sequel query how about somebody signs off on it you know kind of like openbsd",
    "start": "475810",
    "end": "481509"
  },
  {
    "text": "two people have to check on everything that gets checked in so they created this I have validated this sequel and",
    "start": "481509",
    "end": "487930"
  },
  {
    "text": "you have to put your literally put your name on it to say that you have looked at this equal and that it's okay so if",
    "start": "487930",
    "end": "494620"
  },
  {
    "text": "you're auditing a lift app I would just grep for that and look to see all the",
    "start": "494620",
    "end": "500770"
  },
  {
    "text": "places where that guy has done raw sequel and perhaps he just put his name there or her name there and did not",
    "start": "500770",
    "end": "505779"
  },
  {
    "text": "validate the sequel and more often than not that's that's the case because you",
    "start": "505779",
    "end": "512169"
  },
  {
    "text": "folks are going to do this when when they think that prioritized queries are preventing them for doing things like a",
    "start": "512169",
    "end": "518709"
  },
  {
    "text": "highly dynamic wears chains of where clause chains and things like that all",
    "start": "518709",
    "end": "528130"
  },
  {
    "text": "right here's a couple other gotchas and lift webs sequel layer and by the way",
    "start": "528130",
    "end": "533740"
  },
  {
    "text": "this is small here if let's just throw hands up speak out if if you have",
    "start": "533740",
    "end": "539560"
  },
  {
    "text": "questions well we want to make it a discussion and covering cover the topics and the things that you guys are",
    "start": "539560",
    "end": "545410"
  },
  {
    "text": "interested in so here's some other gotchas right so we've got various unsafe functions and object calls not",
    "start": "545410",
    "end": "554320"
  },
  {
    "text": "not all of these have that that little parameter we talked about so if you let",
    "start": "554320",
    "end": "559390"
  },
  {
    "text": "so these if you're if you're just doing kind of a semantic analysis of code these are the sinks that you're looking",
    "start": "559390",
    "end": "564880"
  },
  {
    "text": "for you're looking for calls to these guys and looking for those parameters within those method calls and objects",
    "start": "564880",
    "end": "572320"
  },
  {
    "text": "instantiation and then on the right we've got the safer options the more",
    "start": "572320",
    "end": "578800"
  },
  {
    "text": "correct way of doing it that won't bite you in the butt for sequel I anything",
    "start": "578800",
    "end": "585170"
  },
  {
    "text": "they're cool ok so in scala play which",
    "start": "585170",
    "end": "590930"
  },
  {
    "text": "is the other framework they have the in arm or ORM which also takes the queries",
    "start": "590930",
    "end": "598670"
  },
  {
    "text": "it turns my primary squares but you can you can actually you can also do raw",
    "start": "598670",
    "end": "604940"
  },
  {
    "text": "string formatting and bypass all the checks with this feature they let developers basically you know have",
    "start": "604940",
    "end": "612110"
  },
  {
    "text": "whatever the versatility they want so if you notice on this pattern down here just taking a scala string and i'm",
    "start": "612110",
    "end": "619190"
  },
  {
    "text": "putting in parameters into the first person s and that in that ID and just",
    "start": "619190",
    "end": "626810"
  },
  {
    "text": "grab them and shoving them in there and that will of course allow a signal injection yeah and i noticed that we",
    "start": "626810",
    "end": "634399"
  },
  {
    "text": "just kind of jumped in without addressing the frameworks as a whole so obviously there's multiple frameworks",
    "start": "634399",
    "end": "641180"
  },
  {
    "text": "for every language in scala slight case the two most popular are lift and play so that's why we're here covering these",
    "start": "641180",
    "end": "648709"
  },
  {
    "text": "two as far as the future goes we found that play is seems to be more popular",
    "start": "648709",
    "end": "656720"
  },
  {
    "text": "and lift seems to be being maintained less and less and we'll cover at the",
    "start": "656720",
    "end": "662870"
  },
  {
    "text": "towards the end kind of where they compared against each other but i wouldn't be surprised of two years from",
    "start": "662870",
    "end": "668930"
  },
  {
    "text": "now like everyone's doing play and not many people are doing lift because just the amount of developer activity we saw",
    "start": "668930",
    "end": "675079"
  },
  {
    "text": "on the projects has just decreased in the last year and a half on lift and increased significantly on play so just",
    "start": "675079",
    "end": "681980"
  },
  {
    "text": "a little context for those of you that don't do these kinds of frameworks in your day-to-day but yeah so when talking",
    "start": "681980",
    "end": "689990"
  },
  {
    "text": "about sequel injection in particular these ORM layers the norm and what was",
    "start": "689990",
    "end": "695899"
  },
  {
    "text": "the other one mapper are basically your go two ways of doing this you can not",
    "start": "695899",
    "end": "701630"
  },
  {
    "text": "use an ORM layer and do Ross equal yourself you're going to shoot yourself in the foot every time you're not going",
    "start": "701630",
    "end": "708079"
  },
  {
    "text": "to you're going to forget to validate input you're not going to match single quotes up use the ORM their lairs",
    "start": "708079",
    "end": "714260"
  },
  {
    "text": "they're there to be safe and to help you alright so on other on other topics of",
    "start": "714260",
    "end": "723120"
  },
  {
    "text": "injection besides sequel injection to just like any other language you have",
    "start": "723120",
    "end": "729870"
  },
  {
    "text": "data flows in the web app right so you can have command ejection XPath injection ldap injection etc luckily for",
    "start": "729870",
    "end": "738330"
  },
  {
    "text": "the penetration tester security auditor what have you it's pretty simple to find",
    "start": "738330",
    "end": "744060"
  },
  {
    "text": "these you're just going to grep through looking for imports of process and then",
    "start": "744060",
    "end": "749130"
  },
  {
    "text": "similar to an PHP or pearl how they have back tix to execute commands as you go",
    "start": "749130",
    "end": "755190"
  },
  {
    "text": "through these guys have this ! so it's really small and you might miss it if",
    "start": "755190",
    "end": "760560"
  },
  {
    "text": "you're just casually browsing the code but you have to know what to look for you have to look for that import to",
    "start": "760560",
    "end": "765570"
  },
  {
    "text": "process and then also the ! so go ahead",
    "start": "765570",
    "end": "776450"
  },
  {
    "text": "so lift is kind of nice and has a bunch of features already baked in because",
    "start": "776450",
    "end": "782160"
  },
  {
    "text": "simply because it seems to be more of an enterprise oriented sort of framework and it's got these this a a bunch of",
    "start": "782160",
    "end": "790500"
  },
  {
    "text": "classes called into the mega proto user naming scheme and they're already built",
    "start": "790500",
    "end": "796440"
  },
  {
    "text": "in and you can use them and they will store names emails passwords and do use",
    "start": "796440",
    "end": "801720"
  },
  {
    "text": "management for you so basically a one",
    "start": "801720",
    "end": "808410"
  },
  {
    "text": "thing to keep in mind is that you can't shoot yourself in the foot if you go out of your way which is to say in this",
    "start": "808410",
    "end": "816060"
  },
  {
    "text": "particular case there's a line in proto Doc's user dots collet if you change these destroy session on login to false",
    "start": "816060",
    "end": "824640"
  },
  {
    "text": "you're not going to be renewing the sessions on successful login so you could get session fixation that way so a",
    "start": "824640",
    "end": "832920"
  },
  {
    "text": "good pattern to look for in the code base is to see if they're actually using the mega proto user API is just by",
    "start": "832920",
    "end": "841560"
  },
  {
    "text": "seeing if there are regular classes for their users are inheriting it cool and also play",
    "start": "841560",
    "end": "850610"
  },
  {
    "text": "play doesn't handle users as much as lift does lift actually tries to handle",
    "start": "850610",
    "end": "856550"
  },
  {
    "text": "a lot more things for you than play does so from that perspective lift kind of",
    "start": "856550",
    "end": "862100"
  },
  {
    "text": "controls user management a lot more than play does and and the lift guys really",
    "start": "862100",
    "end": "869000"
  },
  {
    "text": "exposed that as a feature that they go on and on about how you know you don't have to worry about this stuff and to",
    "start": "869000",
    "end": "875209"
  },
  {
    "text": "some degree you don't it makes it pretty nice I would love to see play have more of that stuff available ok so play",
    "start": "875209",
    "end": "883790"
  },
  {
    "text": "though it does have this interesting thing with the session cookies right so very similar to on asp.net how you have",
    "start": "883790",
    "end": "889459"
  },
  {
    "text": "the viewstate and various other kind of MVC frameworks in play you they have",
    "start": "889459",
    "end": "895399"
  },
  {
    "text": "these session cookies with they have an application secret on the configuration",
    "start": "895399",
    "end": "900800"
  },
  {
    "text": "file application comp and that secret kind of does the signing with it yeah",
    "start": "900800",
    "end": "908300"
  },
  {
    "text": "signs with it so they'll do hmx ining on that they by default there's no session",
    "start": "908300",
    "end": "913579"
  },
  {
    "text": "timeout so something look out for their the two types of cookies if you got two",
    "start": "913579",
    "end": "919519"
  },
  {
    "text": "types of cookies section cookie and a flash cookie the flash has nothing to do with Adobe it basically means it's",
    "start": "919519",
    "end": "926060"
  },
  {
    "text": "supposed to be a temporary value from a calculation and supposed to hang out temporarily the key thing is that the",
    "start": "926060",
    "end": "933019"
  },
  {
    "text": "Flash cookies are not signed at all so you can make the user can tamper them so",
    "start": "933019",
    "end": "938060"
  },
  {
    "text": "don't put access levels or important state in the Flash cookies yeah so a",
    "start": "938060",
    "end": "943519"
  },
  {
    "text": "little different from how asp.net has a hvac validation there so there's some",
    "start": "943519",
    "end": "950839"
  },
  {
    "text": "good patterns of how to use that at the bottom all right so getting on to",
    "start": "950839",
    "end": "957649"
  },
  {
    "text": "cross-site scripting everybody's favorite thing so lift and play actually",
    "start": "957649",
    "end": "963800"
  },
  {
    "text": "do this pretty well and I think you're seeing kind of a theme here they by",
    "start": "963800",
    "end": "969019"
  },
  {
    "text": "default do have pretty good patterns for security there are a lot of gotchas and",
    "start": "969019",
    "end": "975610"
  },
  {
    "text": "will even show you oh yeah so a couple of people have left for the people remaining in a couple",
    "start": "975610",
    "end": "982130"
  },
  {
    "text": "sides will have one build configuration kind of zero day thing that will go over that we reported today so we'll go over",
    "start": "982130",
    "end": "991910"
  },
  {
    "text": "that in activator in a couple slides but back to this cross-site scripting so in",
    "start": "991910",
    "end": "1000430"
  },
  {
    "text": "lift they really get the notion of view first you you're supposed to keep",
    "start": "1000430",
    "end": "1005500"
  },
  {
    "text": "everything on the view completely separate from any logic whatsoever and",
    "start": "1005500",
    "end": "1010600"
  },
  {
    "text": "when you're doing that kind of stuff lift has this notion of what's the Dom",
    "start": "1010600",
    "end": "1016510"
  },
  {
    "text": "rendering stuff is there a name for that the dumb rendering thing that it does it",
    "start": "1016510",
    "end": "1022990"
  },
  {
    "text": "keeps on the server side it keeps a whole instance of the Dom so that it can generate it and then just push it out",
    "start": "1022990",
    "end": "1030100"
  },
  {
    "text": "all at once and that's really awesome because if you have that whole thing there then you can analyze it and",
    "start": "1030100",
    "end": "1036100"
  },
  {
    "text": "prevent things like cross-site scripting for the most part so that makes it really nice a printed patterns",
    "start": "1036100",
    "end": "1042188"
  },
  {
    "text": "perspective all you have to do is keep your view exactly how they tell you and you just never have a cross-site",
    "start": "1042189",
    "end": "1047800"
  },
  {
    "text": "scripting problem do any damn if anything all right so what does this",
    "start": "1047800",
    "end": "1055480"
  },
  {
    "text": "look like on the top you have a lift web template so it's kind of have these XML",
    "start": "1055480",
    "end": "1061750"
  },
  {
    "text": "nodes tags what have you and then here's the server-side code that spits it out",
    "start": "1061750",
    "end": "1068850"
  },
  {
    "text": "so and then what you get is on the",
    "start": "1068850",
    "end": "1074560"
  },
  {
    "text": "bottom this gets rendered to the screen it doesn't get executed it gets rendered it's just naturally encoded as part of",
    "start": "1074560",
    "end": "1080770"
  },
  {
    "text": "it so as part of the types there it's just all gets naturally encoded in play",
    "start": "1080770",
    "end": "1087790"
  },
  {
    "text": "they use they use the template they call the twirl template it escapes to use",
    "start": "1087790",
    "end": "1094990"
  },
  {
    "text": "HTML escapes for input by default but they again why make this flexible which",
    "start": "1094990",
    "end": "1101380"
  },
  {
    "text": "is a key thing in both these frameworks where you",
    "start": "1101380",
    "end": "1106620"
  },
  {
    "text": "you actually look there's two ways to actually turn off the escaping and one of them is you can turn it off in the",
    "start": "1106620",
    "end": "1112290"
  },
  {
    "text": "template so this is the template code right here and it as you can see it",
    "start": "1112290",
    "end": "1118110"
  },
  {
    "text": "takes in a message from the user and it displays it via this HTML template",
    "start": "1118110",
    "end": "1125700"
  },
  {
    "text": "directive this turns off the escaping so if you have any message that comes in",
    "start": "1125700",
    "end": "1131520"
  },
  {
    "text": "here that's got you know a malicious input it will just get easy thing to do",
    "start": "1131520",
    "end": "1138000"
  },
  {
    "text": "if you're auditing a play up is just grep to for that so grab HR at HTML",
    "start": "1138000",
    "end": "1143730"
  },
  {
    "text": "through your whole view layer and find where they screwed up and then also from",
    "start": "1143730",
    "end": "1149220"
  },
  {
    "text": "the defensive side if if play is part of your sdlc it's really easy to just do a",
    "start": "1149220",
    "end": "1154980"
  },
  {
    "text": "check-in hook or maybe a nightly run and just do a basic semantic analysis you've",
    "start": "1154980",
    "end": "1161280"
  },
  {
    "text": "got your set of at htmls that you know are safe and then you just have it alert",
    "start": "1161280",
    "end": "1166710"
  },
  {
    "text": "to you every night when there's something that you know is not safe and that way you can sleep well at night",
    "start": "1166710",
    "end": "1171720"
  },
  {
    "text": "knowing that the ones you've signed off on are good and then anything on the nightly up on the nightly you know",
    "start": "1171720",
    "end": "1177330"
  },
  {
    "text": "semantic analysis it'll kick out to you so you can sleep well at night that you won't have cross-site scripting problems",
    "start": "1177330",
    "end": "1183679"
  },
  {
    "text": "there is another way to screw it up though that you can also check for so yeah this and this is the other way this",
    "start": "1183679",
    "end": "1190200"
  },
  {
    "text": "is actually screwing up in the code so regardless of regardless of the template if you go ahead and output things as",
    "start": "1190200",
    "end": "1199200"
  },
  {
    "text": "text HTML they won't use the template system and just you know go ahead and put stuff out to the browser yeah so",
    "start": "1199200",
    "end": "1207030"
  },
  {
    "text": "stick to the tour templating you might want to do this if you're just like pushing out raw bytes for for download",
    "start": "1207030",
    "end": "1213120"
  },
  {
    "text": "or streaming something in real time so there's definitely need for this and",
    "start": "1213120",
    "end": "1218670"
  },
  {
    "text": "that's why it's there but so you can also grab for this kind of pattern you",
    "start": "1218670",
    "end": "1225120"
  },
  {
    "text": "know if look for as and and see what kind of mind types they're outputting so",
    "start": "1225120",
    "end": "1231600"
  },
  {
    "text": "the good pattern down here is actually i'm using the type system for you an example of using the type system for",
    "start": "1231600",
    "end": "1238020"
  },
  {
    "text": "you so you've got an endpoint gear called bank account and it takes in a number and this one a scholar will let",
    "start": "1238020",
    "end": "1246660"
  },
  {
    "text": "you or play will let you specify the type to that parameter which a hint so",
    "start": "1246660",
    "end": "1253080"
  },
  {
    "text": "the upside of this is if someone tries to do say a sequel injection or well",
    "start": "1253080",
    "end": "1259800"
  },
  {
    "text": "yeah sequel injection into that parameter the norcross that script norcross that's creating what uh yeah",
    "start": "1259800",
    "end": "1265290"
  },
  {
    "text": "you're covered yeah so let's it will throw an error up okay move on insecure",
    "start": "1265290",
    "end": "1270990"
  },
  {
    "text": "direct object references very very straight forward here it's it's just like pretty much every other language",
    "start": "1270990",
    "end": "1277710"
  },
  {
    "text": "you have your standard sources in your sinks the with with plet or out i'm",
    "start": "1277710",
    "end": "1285450"
  },
  {
    "text": "talking how to myself play does have one feature that makes this kind of stuff easier but both on lift in play you have",
    "start": "1285450",
    "end": "1291960"
  },
  {
    "text": "pretty standard problems with direct object references in play though that",
    "start": "1291960",
    "end": "1299340"
  },
  {
    "text": "have the concept of security traits which are pretty cool so security traits",
    "start": "1299340",
    "end": "1304890"
  },
  {
    "text": "are kind of like typing your execution of code so you can say all right this",
    "start": "1304890",
    "end": "1313560"
  },
  {
    "text": "code here it has to have this trait and you can define traits dynamically and",
    "start": "1313560",
    "end": "1319170"
  },
  {
    "text": "then once you define a trait for a scenario it's just always in effect for that scenario so i can say all right",
    "start": "1319170",
    "end": "1325800"
  },
  {
    "text": "every time I access this object or something this trait has to be here and",
    "start": "1325800",
    "end": "1331230"
  },
  {
    "text": "the trait is checking for a user role or something of that nature so traits in",
    "start": "1331230",
    "end": "1336330"
  },
  {
    "text": "play make authorization checks a lot easier which help for preventing things",
    "start": "1336330",
    "end": "1342150"
  },
  {
    "text": "like this right so there's no presuming that user input here and the bad pattern is an int you know there's no sequel",
    "start": "1342150",
    "end": "1349320"
  },
  {
    "text": "injection there but you can still have direct object reference and access other accounts but once you create a security",
    "start": "1349320",
    "end": "1355020"
  },
  {
    "text": "trait for the account owner then you tie that to to the access of that object and",
    "start": "1355020",
    "end": "1361290"
  },
  {
    "text": "you're good you still have to you still",
    "start": "1361290",
    "end": "1366360"
  },
  {
    "text": "have to create the traits properly right if you don't do the checks in the trades right then the trades aren't doing",
    "start": "1366360",
    "end": "1372929"
  },
  {
    "text": "anything to help you all right moving on to miss configuration so when you turn",
    "start": "1372929",
    "end": "1379290"
  },
  {
    "text": "both these things on their kind of in developer mode and there's lots and for both error messages they give you in",
    "start": "1379290",
    "end": "1385650"
  },
  {
    "text": "certain cases they give you sacked races you prep this screen shots too small but",
    "start": "1385650",
    "end": "1391650"
  },
  {
    "text": "basically what it's doing there is we're trying to we're trying to do a cross-eyed script on a route it's",
    "start": "1391650",
    "end": "1398460"
  },
  {
    "text": "expecting an integer and it's just spitting out like hey that routes no good but here's all the other routes why",
    "start": "1398460",
    "end": "1404010"
  },
  {
    "text": "don't you just try any of these other routes and here's the types that they're all expecting why don't you just try all the types and all the routes go for it",
    "start": "1404010",
    "end": "1412519"
  },
  {
    "text": "all right okay so yeah there's a short",
    "start": "1412880",
    "end": "1421110"
  },
  {
    "text": "time okay yeah so basically there's a one of the one of the key things I got",
    "start": "1421110",
    "end": "1428730"
  },
  {
    "text": "this one all right so I'm play uses for their main configuration file something called application com it's made by this",
    "start": "1428730",
    "end": "1436410"
  },
  {
    "text": "like the play company is called type typing and they have this format which",
    "start": "1436410",
    "end": "1442110"
  },
  {
    "text": "is kind of a human oriented format so you can do JSON properties file or however want however you want to",
    "start": "1442110",
    "end": "1448290"
  },
  {
    "text": "basically make hierarchical notations in a config file you can stick it in there one of the important items in this",
    "start": "1448290",
    "end": "1455549"
  },
  {
    "text": "config file is an application secret which if you leave it in there it stays",
    "start": "1455549",
    "end": "1461880"
  },
  {
    "text": "static so when you restart the app it's always going to be the same thing so if you have a release open source code I",
    "start": "1461880",
    "end": "1467640"
  },
  {
    "text": "don't know like if your Heroku making Dev Center Java play you don't want to embed an application secret in there you",
    "start": "1467640",
    "end": "1473760"
  },
  {
    "text": "want to have the user created dynamically or else you end up with this which is what people deploy when they're",
    "start": "1473760",
    "end": "1480390"
  },
  {
    "text": "trying to use a play to connect to Amazon s3 through Heroku that has a",
    "start": "1480390",
    "end": "1486360"
  },
  {
    "text": "static application secret so now you know everybody's application secret unless that the developer goes and",
    "start": "1486360",
    "end": "1492299"
  },
  {
    "text": "changes the app secret which they're not going to do because they forget or they just don't consider that as they're",
    "start": "1492299",
    "end": "1497880"
  },
  {
    "text": "grabbing this library to use in their app so something interesting to think about is looking through the dependencies of",
    "start": "1497880",
    "end": "1503780"
  },
  {
    "text": "your app and saying all right what open source dependencies are there and what",
    "start": "1503780",
    "end": "1509059"
  },
  {
    "text": "problems do I have in those dependencies like hard-coded configuration sequence and things like that so yeah that's I",
    "start": "1509059",
    "end": "1516230"
  },
  {
    "text": "guess that's a zero-day or something like you can just get on github search for application dot secret and in Scala",
    "start": "1516230",
    "end": "1521750"
  },
  {
    "text": "files are in Scala projects and you'll find other people's hard coded application secrets of companies that",
    "start": "1521750",
    "end": "1528080"
  },
  {
    "text": "push out code like that okay and lift",
    "start": "1528080",
    "end": "1534140"
  },
  {
    "text": "the main config file is called boot scala all right whatever the truth yeah",
    "start": "1534140",
    "end": "1541790"
  },
  {
    "text": "so lift the the default environment on lift is developer mode they also have a",
    "start": "1541790",
    "end": "1548150"
  },
  {
    "text": "test mode when you're in developer mode or test mode everything everything is",
    "start": "1548150",
    "end": "1553250"
  },
  {
    "text": "available oh nice so everything is",
    "start": "1553250",
    "end": "1558350"
  },
  {
    "text": "available meaning it gives you full error messages full stack traces what was the other things that it does in",
    "start": "1558350",
    "end": "1564650"
  },
  {
    "text": "developer mode sitemap use the site map and puts the comment yeah so sitemap is",
    "start": "1564650",
    "end": "1570080"
  },
  {
    "text": "a not just kind of a routing layer a sitemap in lift is basically your kind",
    "start": "1570080",
    "end": "1576260"
  },
  {
    "text": "of a full akal layer access control layer that defines all the ways somebody",
    "start": "1576260",
    "end": "1582050"
  },
  {
    "text": "can access URLs in your lift out and that can get very simple such as if they",
    "start": "1582050",
    "end": "1588230"
  },
  {
    "text": "hit this URL like in a route style then great then they access this URL or it",
    "start": "1588230",
    "end": "1595280"
  },
  {
    "text": "can get very complex dating if they have this role if it's between this time and this time and all these other",
    "start": "1595280",
    "end": "1600950"
  },
  {
    "text": "constraints then allow that in there so on lift it's a very very strong",
    "start": "1600950",
    "end": "1606280"
  },
  {
    "text": "authorization system and disabling that authorization system weakens the app so",
    "start": "1606280",
    "end": "1613309"
  },
  {
    "text": "definitely look in the boot Scala file and see if they disabled site map because if they did they're going to",
    "start": "1613309",
    "end": "1619550"
  },
  {
    "text": "screw up a lot because site map gives them a lot yeah oh the other thing is",
    "start": "1619550",
    "end": "1625880"
  },
  {
    "text": "the but we haven't talked about the will cover the CSRF goods in the sec but it",
    "start": "1625880",
    "end": "1631340"
  },
  {
    "text": "helps lift by default protects against esrf if you deploy anything in test",
    "start": "1631340",
    "end": "1636350"
  },
  {
    "text": "or developer mode it's going to stop that protection so basically never",
    "start": "1636350",
    "end": "1641419"
  },
  {
    "text": "deploy and test a developer but make sure your dev ops people ensure that it's impossible to ever deploy something",
    "start": "1641419",
    "end": "1647390"
  },
  {
    "text": "on the internet and tester developer mode because if you if you leave it open you're going to get screwed so one of",
    "start": "1647390",
    "end": "1657530"
  },
  {
    "text": "those things if you use the default api's for healing users and lift is lift",
    "start": "1657530",
    "end": "1664070"
  },
  {
    "text": "stores the passwords being entered into the into the database via bcrypt and",
    "start": "1664070",
    "end": "1670309"
  },
  {
    "text": "what it does is it goes okay well your registry need user or the password okay",
    "start": "1670309",
    "end": "1675380"
  },
  {
    "text": "i'm going to be crypt that and i'm going to prepend Abby semicolon to that store that in the database one of the things",
    "start": "1675380",
    "end": "1681950"
  },
  {
    "text": "though is that LIF does check to see what pulls passwords out of the database",
    "start": "1681950",
    "end": "1687100"
  },
  {
    "text": "if it doesn't start with the be semicolon it's going to assume that's a sha-1 hash and it's going to treat it",
    "start": "1687100",
    "end": "1692360"
  },
  {
    "text": "like so so basically an older systems you might see sha-1 hash passwords instead of B yeah that's your main",
    "start": "1692360",
    "end": "1698360"
  },
  {
    "text": "takeaway is a ver auditing an older lift app look look in the password hashes if",
    "start": "1698360",
    "end": "1703730"
  },
  {
    "text": "it's not a black box if it's a grey box and just check if they have the old hashes or the new hashes they have the",
    "start": "1703730",
    "end": "1709130"
  },
  {
    "text": "old hatches see if you can get them to migrate their users cool cool things the lift guys are a lot more proactive about",
    "start": "1709130",
    "end": "1715669"
  },
  {
    "text": "security and they really think about it a lot more than anybody else in the Scala community so one thing they're",
    "start": "1715669",
    "end": "1722480"
  },
  {
    "text": "thinking about is sensitive data in your app right so you have credit cards coming in you have pH I and PII and",
    "start": "1722480",
    "end": "1730340"
  },
  {
    "text": "things like that what about a filtering layer that automatically looks for that sense of data and either nullifies it or",
    "start": "1730340",
    "end": "1738460"
  },
  {
    "text": "sanitizes it in some manner so that's something they're adding to the next version of LIF lift of version 3 and",
    "start": "1738460",
    "end": "1745390"
  },
  {
    "text": "then they also have this object lifestyle callback mechanism where almost like a triggering like fashion",
    "start": "1745390",
    "end": "1751880"
  },
  {
    "text": "like when you access this object or when you modify this object you can register callbacks so for that you can do kind of",
    "start": "1751880",
    "end": "1758720"
  },
  {
    "text": "column level and row level encryption and databases play says forget that stuff you guys",
    "start": "1758720",
    "end": "1766289"
  },
  {
    "text": "deal with it all right so so lock it up",
    "start": "1766289",
    "end": "1773700"
  },
  {
    "text": "ok so basically the sitemap for lipids kind of really complex but the takeaway from it is that you can set really",
    "start": "1773700",
    "end": "1780539"
  },
  {
    "text": "really fine grain access rules um you can say oh yeah this person and of course be logged in they have this",
    "start": "1780539",
    "end": "1787110"
  },
  {
    "text": "authentication role and it's between this time of day and then yeah I mention are so what about the partial functions",
    "start": "1787110",
    "end": "1794900"
  },
  {
    "text": "so basically yeah the developers go ahead and they write the logic for",
    "start": "1794900",
    "end": "1801260"
  },
  {
    "text": "mapping the requests to the resources you have partial functions and basically",
    "start": "1801260",
    "end": "1808110"
  },
  {
    "text": "you can just think of the callbacks and they're all stuck in this giant let's think of it as a queue and whenever",
    "start": "1808110",
    "end": "1814760"
  },
  {
    "text": "something comes up a request comes up they look through this cube and say who handles that and if it's not handled its",
    "start": "1814760",
    "end": "1821190"
  },
  {
    "text": "it's not served up so it's effectively kind of like a whitelist cool all right",
    "start": "1821190",
    "end": "1828870"
  },
  {
    "text": "so yeah play doesn't have that but yeah plays not down with the authorization layers they kind of let let you besides",
    "start": "1828870",
    "end": "1836669"
  },
  {
    "text": "besides the security traits they don't really have a full-featured authorization layer if that's anything",
    "start": "1836669",
    "end": "1842970"
  },
  {
    "text": "like the site map that's built in sitemap kind of does more for you play",
    "start": "1842970",
    "end": "1850289"
  },
  {
    "text": "with the security trades gives you more expressiveness and lets you do more there's this thing called deadbolt which",
    "start": "1850289",
    "end": "1857130"
  },
  {
    "text": "everyone's moving to that kind of is a more full-featured thing a closer to",
    "start": "1857130",
    "end": "1863070"
  },
  {
    "text": "sitemap so deadbolt is like a third",
    "start": "1863070",
    "end": "1868710"
  },
  {
    "text": "party thing it's not part of play itself all right so cross let's cross over",
    "start": "1868710",
    "end": "1873950"
  },
  {
    "text": "request forgery so one of the and one of the things that happens as an effect of",
    "start": "1873950",
    "end": "1880169"
  },
  {
    "text": "the way lift is engineered is that all the form elements the names and such get",
    "start": "1880169",
    "end": "1885179"
  },
  {
    "text": "replaced by these goods and the goods change procession basis and well and",
    "start": "1885179",
    "end": "1891270"
  },
  {
    "text": "some of them the part of them at the end the parts here if you can see that aren't highlighting it was actually",
    "start": "1891270",
    "end": "1896720"
  },
  {
    "text": "changed within the session so when we say good we just mean like what the format looks like it's not really a good",
    "start": "1896720",
    "end": "1903080"
  },
  {
    "text": "in like microsoft world is a fully random number that's usually like 128 bits random number or something like",
    "start": "1903080",
    "end": "1908810"
  },
  {
    "text": "that so we're not talking a fully random number some of it is randomized so that",
    "start": "1908810",
    "end": "1913940"
  },
  {
    "text": "the highlighted yellow part is the randomized partner ization session okay so half of it is based on your session",
    "start": "1913940",
    "end": "1920090"
  },
  {
    "text": "and I think 30 bits of it is based on this particular request and that's built",
    "start": "1920090",
    "end": "1925700"
  },
  {
    "text": "into how lift operates so it kind of takes the whole Dom rendering layer away",
    "start": "1925700",
    "end": "1931070"
  },
  {
    "text": "from you and as part of that they added this randomization into the inputs when they take that layer away from you they",
    "start": "1931070",
    "end": "1938750"
  },
  {
    "text": "actually give you something which is this cross-site request forgery protection and that's just built into",
    "start": "1938750",
    "end": "1944600"
  },
  {
    "text": "all lift apps which is pretty nice so",
    "start": "1944600",
    "end": "1950030"
  },
  {
    "text": "you have short of some sort of cross-site scripting combination attack and short of them screwing up with the",
    "start": "1950030",
    "end": "1955400"
  },
  {
    "text": "random number generator you're going to be you're going to be covered with CSRF on the lift app on play so play has anti",
    "start": "1955400",
    "end": "1965420"
  },
  {
    "text": "CSRF as well and take away from here is to make sure that's turned on there's two ways you can do it you look globally",
    "start": "1965420",
    "end": "1971920"
  },
  {
    "text": "which is this wrapper in the twirl template ensures the CSRF token' value is added to request or you can use the",
    "start": "1971920",
    "end": "1979130"
  },
  {
    "text": "libraries that call CSRF check terrified token whenever you get to it whenever",
    "start": "1979130",
    "end": "1984350"
  },
  {
    "text": "endpoint is being executed so really simple just grip through if you're",
    "start": "1984350",
    "end": "1989750"
  },
  {
    "text": "auditing an app app layout grep through find these things and you'll find where they're doing it correctly or",
    "start": "1989750",
    "end": "1995510"
  },
  {
    "text": "incorrectly all right this is the fun part of the the fun thing both play and",
    "start": "1995510",
    "end": "2001660"
  },
  {
    "text": "lift basically leave all components dependencies up to you the common build",
    "start": "2001660",
    "end": "2009190"
  },
  {
    "text": "systems are SBT scalability and activator so one of include security",
    "start": "2009190",
    "end": "2015760"
  },
  {
    "text": "researchers he was doing a bunch of closure closure research and he found",
    "start": "2015760",
    "end": "2021160"
  },
  {
    "text": "that the closure build tool would pull all of its",
    "start": "2021160",
    "end": "2026600"
  },
  {
    "text": "dependencies the jar files it would just pull it over HTTP so we'd go out to sonatype or maven org or whatever and",
    "start": "2026600",
    "end": "2033350"
  },
  {
    "text": "pull all the jar files over HTTP but wait wait wait it also pulled the sha-1 and the md5 hashes okay great so they're",
    "start": "2033350",
    "end": "2040820"
  },
  {
    "text": "checking sha-1 Andy 5s but yes but it's all over HTTP so all you have to do is man-in-the-middle the jar and the the",
    "start": "2040820",
    "end": "2046880"
  },
  {
    "text": "sha-1 hash it's literally called sha-1 tex man the middle group both of them and you just give them the sha-1 txt",
    "start": "2046880",
    "end": "2054350"
  },
  {
    "text": "file of for your sh one of your backdoor jar file so we created a proof",
    "start": "2054350",
    "end": "2060108"
  },
  {
    "text": "of concept of this and had it running so if anybody on your local network was running Scala build I'm sorry this was",
    "start": "2060109",
    "end": "2067040"
  },
  {
    "text": "the one we wrote the proof of concept for was foreclosure anyone was running the closure build tool on a local",
    "start": "2067040",
    "end": "2072138"
  },
  {
    "text": "network it would a man in the middle and run a ja a jar file on your system as",
    "start": "2072139",
    "end": "2078290"
  },
  {
    "text": "it's compiling we found the same kinds of problems also existed in SBC an",
    "start": "2078290",
    "end": "2084440"
  },
  {
    "text": "activator in Scala world so SBT both up and I do i do give these projects credit",
    "start": "2084440",
    "end": "2092030"
  },
  {
    "text": "SBT and activator both actively at the same time that the closure thing was released by max Bateman they both",
    "start": "2092030",
    "end": "2099200"
  },
  {
    "text": "actively said guys we should take a look at this in our tool SBT went to and took",
    "start": "2099200",
    "end": "2104630"
  },
  {
    "text": "all the HTTP away from their whole of their whole tool so now it's https so great SBT got it right activator try to",
    "start": "2104630",
    "end": "2113150"
  },
  {
    "text": "do that but they did not get everywhere so we found many instances where they're",
    "start": "2113150",
    "end": "2119390"
  },
  {
    "text": "pulling templates where they're pulling IV configs and IV configs you if you can",
    "start": "2119390",
    "end": "2125090"
  },
  {
    "text": "control an IV config you can control the box essentially during the build so the IV configs the templates and also some",
    "start": "2125090",
    "end": "2131960"
  },
  {
    "text": "jars they still pull down over HTTP so they tried to fix it they didn't quite",
    "start": "2131960",
    "end": "2137540"
  },
  {
    "text": "get it and so this morning we reported it again to them so hopefully now",
    "start": "2137540",
    "end": "2143480"
  },
  {
    "text": "they'll fix it right so yeah if you guys have activator look out for that patch",
    "start": "2143480",
    "end": "2149650"
  },
  {
    "text": "for the two Skala devs please tell the skull of people look out for that",
    "start": "2149650",
    "end": "2154820"
  },
  {
    "text": "upcoming patch hopefully they'll get this problem like completely eliminated from scholar world bad",
    "start": "2154820",
    "end": "2163609"
  },
  {
    "text": "patterns and good patterns pretty simple in your in your SBT which is your",
    "start": "2163609",
    "end": "2169039"
  },
  {
    "text": "scallop build tool config file just use HTTPS now another bad pattern i should",
    "start": "2169039",
    "end": "2176059"
  },
  {
    "text": "mention is a disabling ssl checks so you can screw this up royally if you and",
    "start": "2176059",
    "end": "2182329"
  },
  {
    "text": "people do do this if you have so I've seen a developer do this when they have",
    "start": "2182329",
    "end": "2189579"
  },
  {
    "text": "kind of a system that does man-in-the-middle checking at the corporate layer for all ssl certs so",
    "start": "2189579",
    "end": "2197509"
  },
  {
    "text": "they kind of man in the middle everything and blue coat used to do this",
    "start": "2197509",
    "end": "2202719"
  },
  {
    "text": "maybe you'd be in the middle all the ssl certs and then they monitor all your traffic so sometimes if you have that",
    "start": "2202719",
    "end": "2210199"
  },
  {
    "text": "sort of system in place people just say I'm getting lots of certificate errors on my builds i'm just going to disable all ssl cert checking so never do that",
    "start": "2210199",
    "end": "2219910"
  },
  {
    "text": "okay so with lift you can do redirects and the width you need root access via",
    "start": "2221109",
    "end": "2229009"
  },
  {
    "text": "the redirect to api call so the key",
    "start": "2229009",
    "end": "2235069"
  },
  {
    "text": "thing about this is don't allow direct user input to go into this you always",
    "start": "2235069",
    "end": "2240140"
  },
  {
    "text": "want to have a static route or you want to have some sort of white list here to",
    "start": "2240140",
    "end": "2246380"
  },
  {
    "text": "make sure that your only be directing the things you actually want to otherwise they can go ahead and be",
    "start": "2246380",
    "end": "2253549"
  },
  {
    "text": "directed to it to any external URL this was actually added in in the earlier",
    "start": "2253549",
    "end": "2259699"
  },
  {
    "text": "version of lift when they complain that you couldn't redirect it externally so they decided did I decide to say that if",
    "start": "2259699",
    "end": "2265699"
  },
  {
    "text": "you put in a protocol in the redirect target you go what you can go out",
    "start": "2265699",
    "end": "2272089"
  },
  {
    "text": "external okay and then in play there's",
    "start": "2272089",
    "end": "2277759"
  },
  {
    "text": "more ways to shoot yourself in the foot and play but the main way is just doing",
    "start": "2277759",
    "end": "2283880"
  },
  {
    "text": "the redirect wait am I thinking about the wrong thing no",
    "start": "2283880",
    "end": "2290789"
  },
  {
    "text": "oh they're okay they're all there sorry so the main way to shoot yourself in the",
    "start": "2290789",
    "end": "2295949"
  },
  {
    "text": "foot is to let user control bill input gets the redirect if they control the the base schema and in the site then you",
    "start": "2295949",
    "end": "2304140"
  },
  {
    "text": "can use that you know there's lots of redirect attacks it could help attack Oh off the basic attack is obviously",
    "start": "2304140",
    "end": "2310919"
  },
  {
    "text": "fishing but you know you go home a coffin near goldschlager showed us that redirects can be used to bypass Oh",
    "start": "2310919",
    "end": "2317119"
  },
  {
    "text": "authentication so that's why these things really matter and why I feel they have a place in the OAuth top ten is",
    "start": "2317119",
    "end": "2323219"
  },
  {
    "text": "these redirects can can kind of screw up off the systems so just if you're",
    "start": "2323219",
    "end": "2331289"
  },
  {
    "text": "auditing a nap grep through for see other move permanently temporary and grep through for those and simply do",
    "start": "2331289",
    "end": "2337769"
  },
  {
    "text": "semantic analysis to find where people screw that up well I do want to jump",
    "start": "2337769",
    "end": "2343229"
  },
  {
    "text": "back to a nine for a second something that I haven't seen in the Scala world",
    "start": "2343229",
    "end": "2349709"
  },
  {
    "text": "that i have seen in many other worlds is like the Ruby world for instance there's",
    "start": "2349709",
    "end": "2355380"
  },
  {
    "text": "in the Ruby world there's lots of projects out there that automatically look at your gems look for security",
    "start": "2355380",
    "end": "2361679"
  },
  {
    "text": "updates for your gems and then alert you on those security updates as far as I know there's nothing out there commonly",
    "start": "2361679",
    "end": "2368309"
  },
  {
    "text": "used in the open source world and scholar world that does a similar thing now mind you scholar world is a much",
    "start": "2368309",
    "end": "2374339"
  },
  {
    "text": "smaller world than Ruby on Rails but that would be something that would in my",
    "start": "2374339",
    "end": "2379559"
  },
  {
    "text": "opinion make it a lot easier to just handle your dependencies and security vulnerabilities so if you guys want to",
    "start": "2379559",
    "end": "2388019"
  },
  {
    "text": "code that up things okay so with that",
    "start": "2388019",
    "end": "2393029"
  },
  {
    "text": "we've kind of covered the OS top ten we've touched on each one in the OAuth 10 owasp oooff owasp top 10 and giving",
    "start": "2393029",
    "end": "2402419"
  },
  {
    "text": "you a couple patterns if you want to get like into the nitty gritty and you're going to be doing a pen test with this",
    "start": "2402419",
    "end": "2407429"
  },
  {
    "text": "get our white paper after this talk is done I get whatever blackout puts it up and we'll go through and get more fine",
    "start": "2407429",
    "end": "2414329"
  },
  {
    "text": "grain with the patterns so you can just use it as kind of a cheat sheet when you're doing your assessments next thing",
    "start": "2414329",
    "end": "2420779"
  },
  {
    "text": "we'll just kind of wrap up with cool things about each one so one cool thing that I really like and",
    "start": "2420779",
    "end": "2426059"
  },
  {
    "text": "play is they have a cryptographically sound equality comparison operator so",
    "start": "2426059",
    "end": "2432650"
  },
  {
    "text": "something that's been really hot the last year or so is a mistakes when you're using equal equals for comparison",
    "start": "2432650",
    "end": "2440369"
  },
  {
    "text": "when you're comparing secrets or authentication tokens so it's been proven that you can do a ton of requests",
    "start": "2440369",
    "end": "2447510"
  },
  {
    "text": "and find micro differences in the per character comparison and the underlying kind of like bit byte byte by byte",
    "start": "2447510",
    "end": "2454920"
  },
  {
    "text": "memory comparisons so play was on that  and they said all right we're going",
    "start": "2454920",
    "end": "2461369"
  },
  {
    "text": "to make a timing agnostic comparison so",
    "start": "2461369",
    "end": "2466470"
  },
  {
    "text": "that's just one random cool thing that I like about play one random cool thing",
    "start": "2466470",
    "end": "2474089"
  },
  {
    "text": "that I like about lift is the whole notion of site map and the it's like",
    "start": "2474089",
    "end": "2479549"
  },
  {
    "text": "spring securities baked into your application is just integrated into your application site map is available for",
    "start": "2479549",
    "end": "2485280"
  },
  {
    "text": "use and I recommend everyone that's making a lift app use site map it's it's",
    "start": "2485280",
    "end": "2492750"
  },
  {
    "text": "just everything you need for authorization checks all the way to routing and what have you okay so in",
    "start": "2492750",
    "end": "2500579"
  },
  {
    "text": "general covering lift first play yes question oh then oh yeah that's yeah",
    "start": "2500579",
    "end": "2507270"
  },
  {
    "text": "sorry I do not put that that's lift sitemap is the feature of lift this",
    "start": "2507270",
    "end": "2512339"
  },
  {
    "text": "crypto sound operator is in play alright so in general lift first play they're",
    "start": "2512339",
    "end": "2519270"
  },
  {
    "text": "both pretty good compared to a lot of other web app frameworks and other languages they give you a lot of really",
    "start": "2519270",
    "end": "2526650"
  },
  {
    "text": "safe defaults so they're they're pretty pretty nice you really have to go out of",
    "start": "2526650",
    "end": "2533040"
  },
  {
    "text": "your way to shoot yourself in the foot T to use them when you're using them but",
    "start": "2533040",
    "end": "2539339"
  },
  {
    "text": "they still do leave some room to shoot yourself in your foot as we've seen we just went through the OWASP up 10 and",
    "start": "2539339",
    "end": "2545430"
  },
  {
    "text": "covered at least one gotcha and ever you want one thing I would love to see is",
    "start": "2545430",
    "end": "2550440"
  },
  {
    "text": "there's nothing for native Scala code that parses it and does",
    "start": "2550440",
    "end": "2555450"
  },
  {
    "text": "static analysis of it that lets you track control flows or data flows basically attitude all you're doing is a",
    "start": "2555450",
    "end": "2561480"
  },
  {
    "text": "penetration tester right now is basic semantic analysis creping through looking for patterns and that's it I",
    "start": "2561480",
    "end": "2567060"
  },
  {
    "text": "would love to see a static analysis framework so that we can just write rules for it with a static code analyzer",
    "start": "2567060",
    "end": "2574250"
  },
  {
    "text": "as opposed to just kind of creping through here and there and hoping that we find everything so we when we audit",
    "start": "2574250",
    "end": "2583260"
  },
  {
    "text": "apps we love static code analysis we're heavy heavy users of commercial and open source static analysis tools I feel that",
    "start": "2583260",
    "end": "2589790"
  },
  {
    "text": "too many penetration testing firms are over there poking around and doing black box stuff and it's just inefficient you",
    "start": "2589790",
    "end": "2595980"
  },
  {
    "text": "really need a good static code analyzer and the people that know how to use it behind it to be efficient and be",
    "start": "2595980",
    "end": "2603690"
  },
  {
    "text": "comprehensive penetration testing so that is my main takeaway lift and play",
    "start": "2603690",
    "end": "2609360"
  },
  {
    "text": "both pretty damn good I wish they had to static analyzer that's another thing I",
    "start": "2609360",
    "end": "2615030"
  },
  {
    "text": "want you guys to write thanks ok so now to the code that we're dropping as part",
    "start": "2615030",
    "end": "2620640"
  },
  {
    "text": "of this let's see how much time we have left any black have people have the timer for us no all right five minutes",
    "start": "2620640",
    "end": "2627000"
  },
  {
    "text": "awesome two demos and a bunch of other slides five minutes all right server-side request forgery this is not",
    "start": "2627000",
    "end": "2633570"
  },
  {
    "text": "in the OWASP OWASP top 10 but we're going to cover it basically oh man the",
    "start": "2633570",
    "end": "2638580"
  },
  {
    "text": "snake I left the snake in there sorry that was a joke what's not supposed to",
    "start": "2638580",
    "end": "2644040"
  },
  {
    "text": "be there ok server-side request forgery is a problem scala world as well",
    "start": "2644040",
    "end": "2649800"
  },
  {
    "text": "regardless of if you're using play or lift basically what the issue here is is",
    "start": "2649800",
    "end": "2655530"
  },
  {
    "text": "user controllable input reaches an HTTP client call in your application all",
    "start": "2655530",
    "end": "2660600"
  },
  {
    "text": "right so you go and your app is a client and request something the most typical",
    "start": "2660600",
    "end": "2666030"
  },
  {
    "text": "use case here is you have a user profile pic and you want to give them a URL where they can just grab the user",
    "start": "2666030",
    "end": "2672330"
  },
  {
    "text": "profile pic from somewhere else on the internet like right-click facebook CDN drop that into there and you your app",
    "start": "2672330",
    "end": "2680640"
  },
  {
    "text": "just nicely grab the URL grabs the pic and puts it as part of their profile pic so when you're doing that",
    "start": "2680640",
    "end": "2689180"
  },
  {
    "text": "what if I don't specify my facebook profile pic what if I specify an internal server like that has your",
    "start": "2689180",
    "end": "2697280"
  },
  {
    "text": "sonatype repository that lives on 1001 one and maybe I use knowledge of the",
    "start": "2697280",
    "end": "2703579"
  },
  {
    "text": "internal systems or maybe I just brute force the address space is the 19 to the 17 to the 10 dot I brute force all those",
    "start": "2703579",
    "end": "2709819"
  },
  {
    "text": "address spaces and I find where your internal things are I can port scan them I can do various attacks proxy to and",
    "start": "2709819",
    "end": "2718339"
  },
  {
    "text": "things like that so this is clearly a pretty bad thing and I'll just share a",
    "start": "2718339",
    "end": "2724790"
  },
  {
    "text": "funny little story when I was signing up for the RSA conference this year I was",
    "start": "2724790",
    "end": "2730940"
  },
  {
    "text": "you know checking out and they gave me they give you a PDF and I'm looking at",
    "start": "2730940",
    "end": "2736010"
  },
  {
    "text": "the checkout URL and it's a URL in the URL and I was like wait a minute they",
    "start": "2736010",
    "end": "2742430"
  },
  {
    "text": "wouldn't be yeah so they were using an internal middle-tier server to generate",
    "start": "2742430",
    "end": "2747470"
  },
  {
    "text": "the receipts after you signed up for RSA conference and then after they generated the receipt they spat out the PDF",
    "start": "2747470",
    "end": "2755119"
  },
  {
    "text": "through the web a player so they did an internal call if you just change that URL to other internal things or things",
    "start": "2755119",
    "end": "2761150"
  },
  {
    "text": "out on the internet it was a straight SS RF so I called RSA the security conference and told them a you guys have",
    "start": "2761150",
    "end": "2768890"
  },
  {
    "text": "the security vulnerability they fixed it there they're very gracious about it and I can't believe nobody else found that",
    "start": "2768890",
    "end": "2775490"
  },
  {
    "text": "every single person that signed up for RSA looked at that URL and did not find that attack or did not tell our essay",
    "start": "2775490",
    "end": "2782150"
  },
  {
    "text": "about it so yeah what we created was",
    "start": "2782150",
    "end": "2788980"
  },
  {
    "text": "there's this guy a finite as handle he created this cool libraries safe curl",
    "start": "2788980",
    "end": "2794869"
  },
  {
    "text": "safe curl is an HTTP client library for rapper library around curl for PHP now",
    "start": "2794869",
    "end": "2803119"
  },
  {
    "text": "we looked at that and we're like that's great because all of our clients all the time we're trying to give them this",
    "start": "2803119",
    "end": "2808280"
  },
  {
    "text": "general guidance of well you should look for 10 dot and 172 dot and you should prevent DNS rebinding attacks and 302",
    "start": "2808280",
    "end": "2814730"
  },
  {
    "text": "redirect attacks against you guys through SS RF we're just getting like a pages of advice on how they should",
    "start": "2814730",
    "end": "2821089"
  },
  {
    "text": "protect against this but as security practitioners like that's",
    "start": "2821089",
    "end": "2826340"
  },
  {
    "text": "horrible you don't want defenders to give them two pages of advice on how to prevent something you want to give them",
    "start": "2826340",
    "end": "2831890"
  },
  {
    "text": "a library that they can call so that's what we created for Scott we created an auntie SSR EF library and it's modeled",
    "start": "2831890",
    "end": "2838520"
  },
  {
    "text": "on Phi Knights safe car so we call it a HTTP client Scala library for preventing",
    "start": "2838520",
    "end": "2845150"
  },
  {
    "text": "server-side request forgery or through for short so we're not good at naming things so we just call it an T SSRI flip",
    "start": "2845150",
    "end": "2854260"
  },
  {
    "text": "it's modeled on pi nights and we're the whole purpose of this is we just want to",
    "start": "2854470",
    "end": "2861680"
  },
  {
    "text": "be able to give our clients like hey use this you know don't try and like implement this crap on your own and this",
    "start": "2861680",
    "end": "2868340"
  },
  {
    "text": "is something that I feel should be baked into the HTTP clients not just in Scala",
    "start": "2868340",
    "end": "2873350"
  },
  {
    "text": "but in various other languages you don't want to be vulnerable to SS RF build",
    "start": "2873350",
    "end": "2879170"
  },
  {
    "text": "this protection into your HTTP client libraries at the play and lift framework",
    "start": "2879170",
    "end": "2884690"
  },
  {
    "text": "level they may be able to do something like this they may be able to bring that in and add it into the framework I would love to see that but that's generally",
    "start": "2884690",
    "end": "2893870"
  },
  {
    "text": "kind of the concept yeah so we're gonna we're going to release the code for this",
    "start": "2893870",
    "end": "2900440"
  },
  {
    "text": "probably tomorrow really tired right now so we'll get to it tomorrow just follow",
    "start": "2900440",
    "end": "2906140"
  },
  {
    "text": "us on twitter at include security or just follow us on github if you want that code and we'll release that",
    "start": "2906140",
    "end": "2912620"
  },
  {
    "text": "tomorrow so Samuel here helped out with that code the other piece of code let's",
    "start": "2912620",
    "end": "2921560"
  },
  {
    "text": "see how much time we got alright alright of time so very quickly if anyone needs",
    "start": "2921560",
    "end": "2927590"
  },
  {
    "text": "to go I understand but we'll just cover this in a couple minutes we created this app called blabber so we were doing",
    "start": "2927590",
    "end": "2933890"
  },
  {
    "text": "Scala assessments and we just wanted to kind of have a hackney app where we could practice our attacks against",
    "start": "2933890",
    "end": "2939260"
  },
  {
    "text": "collapse so blabber was written by one of our interns Stuart and it's basically",
    "start": "2939260",
    "end": "2945500"
  },
  {
    "text": "a hackney app it's a very simple play framework app and it's really good for",
    "start": "2945500",
    "end": "2951350"
  },
  {
    "text": "testing out dynamic testing tools you can use it for interview",
    "start": "2951350",
    "end": "2957050"
  },
  {
    "text": "interviewing people like hey can you hack this if you can and this is a very very basic application and is very very",
    "start": "2957050",
    "end": "2965210"
  },
  {
    "text": "basic obvious vulnerabilities so it has at least one of each of the OWASP top",
    "start": "2965210",
    "end": "2971480"
  },
  {
    "text": "ten in it that we just covered all the bad patterns that we just went over they're all in there and blabber is a",
    "start": "2971480",
    "end": "2978460"
  },
  {
    "text": "you can tell by the logo it's a Twitter clone so it's like a little micro blog blogging service and we spent millions",
    "start": "2978460",
    "end": "2986810"
  },
  {
    "text": "of dollars creating the logos like the heartbleed guys yeah so what else okay",
    "start": "2986810",
    "end": "2996730"
  },
  {
    "text": "so yeah if you're an expert everything in this presentation and imply bar is",
    "start": "2996730",
    "end": "3002110"
  },
  {
    "text": "already you already know all this stuff but the way you might use it is a the",
    "start": "3002110",
    "end": "3007360"
  },
  {
    "text": "way we do it is just kind of compete with your friends so see if you can do a speed run and get all the attacks and",
    "start": "3007360",
    "end": "3014850"
  },
  {
    "text": "see how fast you can do it can be 13 minutes right me I'll give you a job",
    "start": "3014850",
    "end": "3023340"
  },
  {
    "text": "yeah and will also push that tomorrow I just want whenever we get to it so",
    "start": "3024030",
    "end": "3032200"
  },
  {
    "text": "blabber please don't ever deploy that on the internet it's just full of holes but",
    "start": "3032200",
    "end": "3039610"
  },
  {
    "text": "it's fun as a pen tester to just go through and look for these things and just get a little practice in a micro",
    "start": "3039610",
    "end": "3045660"
  },
  {
    "text": "micro level so when you get out there and you see these apps now one big",
    "start": "3045660",
    "end": "3051490"
  },
  {
    "text": "question I get from people when they when they saw this topic is hey you know as Scala getting hot who's using it",
    "start": "3051490",
    "end": "3056710"
  },
  {
    "text": "right now so there are big companies out there like Foursquare and LinkedIn use a",
    "start": "3056710",
    "end": "3061930"
  },
  {
    "text": "lot of Scala I believe foursquare uses lift and not in users play then linkedin",
    "start": "3061930",
    "end": "3069250"
  },
  {
    "text": "users play so there are big companies out there using this stuff and it's it's",
    "start": "3069250",
    "end": "3075070"
  },
  {
    "text": "getting more and more popular in the startup world so we do we do a lot of work with startups so we see all sorts",
    "start": "3075070",
    "end": "3083620"
  },
  {
    "text": "of interior in inside middle tier applications written and go and Scala",
    "start": "3083620",
    "end": "3089440"
  },
  {
    "text": "and things like so and we're seeing more and more of it so with with these frameworks being is",
    "start": "3089440",
    "end": "3096289"
  },
  {
    "text": "as secure as they are that's good but you know with what we shown you so far",
    "start": "3096289",
    "end": "3102140"
  },
  {
    "text": "hopefully you can find some of the gotchas here's some future areas to",
    "start": "3102140",
    "end": "3108289"
  },
  {
    "text": "explore more build issues would love to see static code analysis violation of",
    "start": "3108289",
    "end": "3115490"
  },
  {
    "text": "type safety permissions so here's a really cool concept and you've seen this in PHP throughout the years is type",
    "start": "3115490",
    "end": "3122539"
  },
  {
    "text": "confusion right so somehow you can convince the app that one type is another type through how you structure",
    "start": "3122539",
    "end": "3130010"
  },
  {
    "text": "the URL maybe it's an array and it looks like this and while it's casting it into something else it screws up and now it",
    "start": "3130010",
    "end": "3136130"
  },
  {
    "text": "thinks it's a different type and through that you can get past security boundaries so further research that will",
    "start": "3136130",
    "end": "3144440"
  },
  {
    "text": "be doing and we highly encourage you guys to do is looking for issues like that in the the scallop runtime itself",
    "start": "3144440",
    "end": "3151430"
  },
  {
    "text": "that can be exploited through these web frameworks also another thing that's",
    "start": "3151430",
    "end": "3157789"
  },
  {
    "text": "part of scholars the the framework acha and the concept of futures which is kind",
    "start": "3157789",
    "end": "3163789"
  },
  {
    "text": "of like an asynchronous pattern where you say alright i have this variable foo and food doesn't exist yet so let's say",
    "start": "3163789",
    "end": "3170690"
  },
  {
    "text": "foo is a call 22 HTTP client library call so as that request is happening you",
    "start": "3170690",
    "end": "3178670"
  },
  {
    "text": "know I've got that latency to go out on the web and pull that down and populate the variable foo I can still process",
    "start": "3178670",
    "end": "3185720"
  },
  {
    "text": "other things asynchronously so that's what futures are about with all these futures and aqua and everything you're",
    "start": "3185720",
    "end": "3191269"
  },
  {
    "text": "going to have synchronization issues so we're going to be looking at more",
    "start": "3191269",
    "end": "3197269"
  },
  {
    "text": "synchronization issues with these things if you guys have any cool findings patterns where people really screw up",
    "start": "3197269",
    "end": "3203509"
  },
  {
    "text": "these things with a cotton futures would love to hear about it and I think with that we're all done so thank you for",
    "start": "3203509",
    "end": "3210650"
  },
  {
    "text": "attending and hopefully you learned just one thing about something",
    "start": "3210650",
    "end": "3215828"
  }
]