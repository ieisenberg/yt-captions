[
  {
    "start": "0",
    "end": "138000"
  },
  {
    "text": "world of knowledge Incorporated",
    "start": "60",
    "end": "3560"
  },
  {
    "text": "hope you've had a an interesting black hat and I know that today that right now is the",
    "start": "11580",
    "end": "17220"
  },
  {
    "text": "basically the last session so we'll try to keep it short sweet to the point and",
    "start": "17220",
    "end": "22320"
  },
  {
    "text": "then do some q a on whatever it is that you folks are interested in talking about",
    "start": "22320",
    "end": "27720"
  },
  {
    "text": "my name is Jason garms I'm a lead program manager in the Windows NT development organization at Microsoft",
    "start": "27720",
    "end": "34399"
  },
  {
    "text": "and I'm part of an organization actually within the development organization that does security design reviews of all",
    "start": "34399",
    "end": "42000"
  },
  {
    "text": "non-security components within the Windows operating system and last year we some colleagues of mine",
    "start": "42000",
    "end": "50239"
  },
  {
    "text": "we've been talking about around uh about this for about three years but last year we finally got our act together and",
    "start": "50239",
    "end": "58100"
  },
  {
    "text": "decided it's about time that we put a beta version of some of our software on",
    "start": "58100",
    "end": "63719"
  },
  {
    "text": "the internet and actually invited people to come and try to break into it and see what happened and so forth I mean we'd",
    "start": "63719",
    "end": "70920"
  },
  {
    "text": "always worked under the perception that you know when by the time we did this last year there had been over a million",
    "start": "70920",
    "end": "76920"
  },
  {
    "text": "copies beta copies of Windows 2000 already distributed and part of what we assumed is that you know there's plenty",
    "start": "76920",
    "end": "83340"
  },
  {
    "text": "of versions of Windows 2000 out there in the world that people can play with and do stuff with and you know why why",
    "start": "83340",
    "end": "89460"
  },
  {
    "text": "should we just go put yet one more copy up but we spent some time",
    "start": "89460",
    "end": "95280"
  },
  {
    "text": "thinking about that and we talked with a number of different people and with customers and and some people who might",
    "start": "95280",
    "end": "101640"
  },
  {
    "text": "be in the audience today but who are definitely here at black hat speaking encouraged us to go ahead and do this so",
    "start": "101640",
    "end": "107880"
  },
  {
    "text": "we did it um we'll talk about during the session uh exactly what we did what happened while",
    "start": "107880",
    "end": "115619"
  },
  {
    "text": "we did it and where we're going to go from here so",
    "start": "115619",
    "end": "121380"
  },
  {
    "text": "our whole goal is to ship more secure products it's not to patch products",
    "start": "121380",
    "end": "126600"
  },
  {
    "text": "after they ship it's not to do anything else it's to ship the most the best products that we possibly can that's why",
    "start": "126600",
    "end": "132420"
  },
  {
    "text": "we wake up in the morning is why each and every one of us that works in our organization goes to work",
    "start": "132420",
    "end": "138800"
  },
  {
    "text": "what we wanted to do was to try to complement the beta testing and really try to take advantage of some of the",
    "start": "139260",
    "end": "145260"
  },
  {
    "text": "real world creativity that's out there uh in various places in the world and also to be able to capture some of",
    "start": "145260",
    "end": "151860"
  },
  {
    "text": "the people that may not otherwise otherwise have access to these kinds of systems we had a number of Unix people",
    "start": "151860",
    "end": "156900"
  },
  {
    "text": "who would come and say you know hey look I have I don't want to run your software and our systems but I really want to attack it and uh so we said well you",
    "start": "156900",
    "end": "164519"
  },
  {
    "text": "know we want your creativity so uh sure so we put the machine up and uh invited",
    "start": "164519",
    "end": "169800"
  },
  {
    "text": "those attacks we also wanted to be able to take and build document exactly what we did in",
    "start": "169800",
    "end": "176160"
  },
  {
    "text": "building that site and be able to then provide better information for people about how to secure their sites we had",
    "start": "176160",
    "end": "182700"
  },
  {
    "text": "done a number of things up to that point in terms of configuration guidelines but there still is a lot of room for",
    "start": "182700",
    "end": "188819"
  },
  {
    "text": "improvement there and we wanted to contribute to that so what we actually ended up building",
    "start": "188819",
    "end": "195420"
  },
  {
    "text": "was uh a site on the internet and we'll go through in some degree of gory detail exactly what",
    "start": "195420",
    "end": "201420"
  },
  {
    "text": "it was but a site on the internet where we put a sample guest book application",
    "start": "201420",
    "end": "207000"
  },
  {
    "text": "that people could come it was a dynamic application with a back-end database and people could come and they could post",
    "start": "207000",
    "end": "213120"
  },
  {
    "text": "comments into the guest book and view a status of exactly what's happening on the site view some other information on",
    "start": "213120",
    "end": "220080"
  },
  {
    "text": "that site and in general twiddle with that machine to their hearts content",
    "start": "220080",
    "end": "226140"
  },
  {
    "text": "um as I said every day we kept logs about what was going on in that site my uh colleagues who were working on this",
    "start": "226140",
    "end": "231659"
  },
  {
    "text": "project last year uh announced what was happening with that site if we were taking it up we were",
    "start": "231659",
    "end": "237180"
  },
  {
    "text": "putting it down for installing new builds daily builds of the operating system onto the machine uh what happened",
    "start": "237180",
    "end": "242519"
  },
  {
    "text": "for crashes why it crashed if it did crash and so forth and we tried to create some Basic Ground",
    "start": "242519",
    "end": "249180"
  },
  {
    "text": "rules we're again trying to to you know find out what people can do to these",
    "start": "249180",
    "end": "254640"
  },
  {
    "start": "250000",
    "end": "493000"
  },
  {
    "text": "systems um so and we wanted to leverage creativity so the ground rules as we as we enumerated them on the site were make",
    "start": "254640",
    "end": "261299"
  },
  {
    "text": "it interesting do whatever you want to be able to do against this particular box or this this system that we have",
    "start": "261299",
    "end": "267479"
  },
  {
    "text": "installed here um try things that you know you've never tried before or never had machines and",
    "start": "267479",
    "end": "274139"
  },
  {
    "text": "wish to try it again try to compromise an account try to guess a password try to figure out some way to get getting",
    "start": "274139",
    "end": "279780"
  },
  {
    "text": "around those accounts and so forth try to be try to change something that you shouldn't have the ability to change",
    "start": "279780",
    "end": "285720"
  },
  {
    "text": "like our the main page on that site try to um uh gain access to something you",
    "start": "285720",
    "end": "292500"
  },
  {
    "text": "shouldn't have been able to get access to so we had information uh for example the ASP source code that we used on the",
    "start": "292500",
    "end": "297600"
  },
  {
    "text": "site if you could gain access to that ASP source code that would be an example of gaining access to something that we didn't want you to gain access to by the",
    "start": "297600",
    "end": "304080"
  },
  {
    "text": "rules of the site um and we were going to do our darn best within a certain set of constraints to",
    "start": "304080",
    "end": "310860"
  },
  {
    "text": "protect the system against those attacks um we also made it clear that this was a",
    "start": "310860",
    "end": "316560"
  },
  {
    "text": "test server and that uh because it was a test server there were two very important things number one is we",
    "start": "316560",
    "end": "321960"
  },
  {
    "text": "weren't inviting wholesale Mayhem and and attacks on the world you know as",
    "start": "321960",
    "end": "327479"
  },
  {
    "text": "unfortunate as it is the IP protocol that binds the internet is if we had it",
    "start": "327479",
    "end": "333360"
  },
  {
    "text": "to do all over again today maybe not the way that everyone would design it and so",
    "start": "333360",
    "end": "338460"
  },
  {
    "text": "going and attacking Downstream routers five and six hops away from us was not what we were asking you to do and it",
    "start": "338460",
    "end": "344759"
  },
  {
    "text": "certainly didn't serve any purpose and secondly because this was a test server we were operating on a different",
    "start": "344759",
    "end": "350940"
  },
  {
    "text": "set of guidelines from what you would probably do in a production environment for example if the site went down we",
    "start": "350940",
    "end": "357780"
  },
  {
    "text": "would keep it down for as long as it took to figure out what was going on we didn't have uptime guidelines that said",
    "start": "357780",
    "end": "362820"
  },
  {
    "text": "oh we're going to get it back up as fast as we can and so that made a difference in exactly how we went about executing",
    "start": "362820",
    "end": "367860"
  },
  {
    "text": "on the site and then we provided an email account who said if you if you find exploits send them to us and we'll",
    "start": "367860",
    "end": "373860"
  },
  {
    "text": "we'll uh we'll we'll make sure that they're addressed and of course we're doing a lot of monitoring as well to",
    "start": "373860",
    "end": "379199"
  },
  {
    "text": "make sure that we knew before you even emailed us that something had happened now I've gotten a lot of questions in",
    "start": "379199",
    "end": "385500"
  },
  {
    "text": "the past about well you know Microsoft you know why don't you give us money for doing this or why don't you reward",
    "start": "385500",
    "end": "391380"
  },
  {
    "text": "people and so forth and uh you know if it were completely up to me uh you know",
    "start": "391380",
    "end": "396780"
  },
  {
    "text": "we would certainly uh provide rewards for people who were able to compromise the site there's a couple of problems",
    "start": "396780",
    "end": "402960"
  },
  {
    "text": "and when we went to uh legal originally to our legal counsel and talked to them about putting his site up of course you",
    "start": "402960",
    "end": "410100"
  },
  {
    "text": "know there were all kinds of red flags about what happens and the prize was the whole concept of prizing was one of the",
    "start": "410100",
    "end": "416160"
  },
  {
    "text": "the toughest ones that we faced because uh I learned a lot more about legal",
    "start": "416160",
    "end": "422460"
  },
  {
    "text": "the legal ramifications of awarding prizes than I ever cared to know in my entire life but apparently there's",
    "start": "422460",
    "end": "429180"
  },
  {
    "text": "different laws in every single country about how prizes can be awarded through contests and these laws actually fall",
    "start": "429180",
    "end": "435180"
  },
  {
    "text": "under the gambling laws of most countries and so an actual in order to legally do this kind of a challenge and",
    "start": "435180",
    "end": "441120"
  },
  {
    "text": "offer prizes because the reality is we know that most of these attacks aren't going to come from the U.S and a lot of",
    "start": "441120",
    "end": "447360"
  },
  {
    "text": "the creative attacks are going to come from other countries perhaps not in the U.S or Western Europe or Canada and so",
    "start": "447360",
    "end": "453599"
  },
  {
    "text": "forth and we would have to build legal contracts",
    "start": "453599",
    "end": "459360"
  },
  {
    "text": "in every single country where somebody might possibly attack from and if we didn't prepare them we found out that we",
    "start": "459360",
    "end": "465360"
  },
  {
    "text": "could actually get in trouble with the countries that we've awarded you know prizes to people that live in those",
    "start": "465360",
    "end": "470520"
  },
  {
    "text": "countries so it was just absolute Mayhem from that point of view and we're going",
    "start": "470520",
    "end": "475620"
  },
  {
    "text": "to take a look at that again when we when we do a round two version of this so you know keep your eyes posted but",
    "start": "475620",
    "end": "481560"
  },
  {
    "text": "it's a legal hurdle if you actually want to do it right A lot of people just kind of ignore the legalities of things and",
    "start": "481560",
    "end": "487020"
  },
  {
    "text": "unfortunately when you're in our position you can't do that",
    "start": "487020",
    "end": "492198"
  },
  {
    "start": "493000",
    "end": "599000"
  },
  {
    "text": "briefly a little bit about the site statistics we went live on the 3rd of August last year so it's actually almost",
    "start": "494460",
    "end": "499620"
  },
  {
    "text": "a year ago and we operated for almost 90 days we closed down on the 27th of October",
    "start": "499620",
    "end": "505979"
  },
  {
    "text": "um pretty interesting statistics we had over uh 10 million hits to that site over that three-month period uh and even",
    "start": "505979",
    "end": "514320"
  },
  {
    "text": "more impressive when you realize as we go through this that we only had a T1 connecting that site",
    "start": "514320",
    "end": "519839"
  },
  {
    "text": "um we had over 400 simultaneous users for a good part of the first month that was people that were browsing uh the",
    "start": "519839",
    "end": "526320"
  },
  {
    "text": "website that we counted as users or sessions against the FTP server that we'll talk about later and we had over",
    "start": "526320",
    "end": "532920"
  },
  {
    "text": "500 000 attacks against that site uh this one poor little loan machine on the end of a T1 line and those attack that's",
    "start": "532920",
    "end": "540600"
  },
  {
    "text": "attacks as measured by the is real uh the real secure product that we had sitting on the net uh watching for",
    "start": "540600",
    "end": "547380"
  },
  {
    "text": "attacks and we'll talk about that later as well we generated over 10 gigabytes of HTTP logs just from this one site",
    "start": "547380",
    "end": "554040"
  },
  {
    "text": "with a very few number of ASP pages and a couple of static uh uh static HTML",
    "start": "554040",
    "end": "560220"
  },
  {
    "text": "Pages 10 gigabytes of logs just for that over the three month period and we kept we kept every one of those in fact I",
    "start": "560220",
    "end": "566820"
  },
  {
    "text": "still have them today and we generated over eight gigabytes of uh of net",
    "start": "566820",
    "end": "571980"
  },
  {
    "text": "monologues every day and we back those up every day to a DLT tape device so we could go and look at them later if we if",
    "start": "571980",
    "end": "577680"
  },
  {
    "text": "we thought we had missed something now if you do the math and I may have done it wrong uh quickly but if you do",
    "start": "577680",
    "end": "583920"
  },
  {
    "text": "the math I think on a T1 line you get a maximum data throughput if you saturate it of 24 gigabytes a day and so we were",
    "start": "583920",
    "end": "590700"
  },
  {
    "text": "seeing about a third saturation if you average out over the day over the week over the three month period so that's an",
    "start": "590700",
    "end": "596339"
  },
  {
    "text": "awful lot of traffic to kind of preempt the rest of the",
    "start": "596339",
    "end": "601560"
  },
  {
    "start": "599000",
    "end": "756000"
  },
  {
    "text": "presentation so we can all go home the net results was everything was fine well",
    "start": "601560",
    "end": "606660"
  },
  {
    "text": "that's kind of glossing over it a little bit the the good news is that no data was compromised nobody broke into an",
    "start": "606660",
    "end": "613380"
  },
  {
    "text": "account nobody's able to steal files that they shouldn't have access to nobody's able to place files onto the",
    "start": "613380",
    "end": "619260"
  },
  {
    "text": "system or data onto the system they shouldn't have been able to now with that said we had some interesting",
    "start": "619260",
    "end": "624360"
  },
  {
    "text": "activities that we'll talk about through the session um the first thing that people tried to do when we put the site up was to go",
    "start": "624360",
    "end": "630180"
  },
  {
    "text": "after this guest uh the the guest book application which we had written you",
    "start": "630180",
    "end": "635459"
  },
  {
    "text": "know only with the intent of having something on that site that they would look at not to test the security of the",
    "start": "635459",
    "end": "641220"
  },
  {
    "text": "guestbook application but we had a simple uh bad word filter on it that filtered out you know your common four",
    "start": "641220",
    "end": "647339"
  },
  {
    "text": "letter words and stuff and so people decided to expand their creativity on trying to figure out how to get around",
    "start": "647339",
    "end": "652680"
  },
  {
    "text": "the guestbook filter and how to post all kinds of things to the site and we had a little a little rule in the site that",
    "start": "652680",
    "end": "659040"
  },
  {
    "text": "said you can only post one comment per IP address per day so of course we had tons of people spoofing your IP addresses just so they could post lots",
    "start": "659040",
    "end": "665880"
  },
  {
    "text": "and lots and lots of comments and um so that's what people spent a good amount",
    "start": "665880",
    "end": "671519"
  },
  {
    "text": "of the the beginning of the site uh doing um and they found some some you know",
    "start": "671519",
    "end": "676620"
  },
  {
    "text": "basic uh parsing problems in this guestbook application that my colleague had written uh that would allow them to",
    "start": "676620",
    "end": "683040"
  },
  {
    "text": "put really long strings in that you know they shouldn't have had you know these aren't overflows or anything else but",
    "start": "683040",
    "end": "688560"
  },
  {
    "text": "then when you went and viewed the guestbook application weird things would happen to your browser you'd say well where's the page and it's because it's",
    "start": "688560",
    "end": "694680"
  },
  {
    "text": "way off on the right side of the page and things like that um so that was a fun little nuisance and we just fixed the ASP code and and made",
    "start": "694680",
    "end": "702240"
  },
  {
    "text": "the filter work better then as as soon as people got you know",
    "start": "702240",
    "end": "707279"
  },
  {
    "text": "realized that well you know gosh there's a lot of places in the world that we could post stupid little comments to uh",
    "start": "707279",
    "end": "712800"
  },
  {
    "text": "they started we started getting a lot of Ip fragmentation attacks um in fact they based the IP fragmentation attacks basically",
    "start": "712800",
    "end": "718500"
  },
  {
    "text": "saturated the network uh for quite a while and again this is a just a simple little T1 pipe coming in and we had",
    "start": "718500",
    "end": "724680"
  },
  {
    "text": "people with T1 and greater pipes all around the world just pumping fragmented IP packets down our throats which while",
    "start": "724680",
    "end": "731820"
  },
  {
    "text": "it didn't hurt the site itself it prevent it provided incredible performance problems uh with result you",
    "start": "731820",
    "end": "738060"
  },
  {
    "text": "know in terms of people trying to retrieve valid HTTP pages um and then shortly after the IP",
    "start": "738060",
    "end": "743640"
  },
  {
    "text": "fragmentation stuff everything that you can possibly think of people throughout us and we'll talk about what some of those are but the net result is we",
    "start": "743640",
    "end": "749820"
  },
  {
    "text": "actually did find some bugs uh and we fixed those bugs before shipping the product and uh we'll touch on what some",
    "start": "749820",
    "end": "755399"
  },
  {
    "text": "of those were so from a site architecture point of view we actually went through three phases",
    "start": "755399",
    "end": "761279"
  },
  {
    "start": "756000",
    "end": "843000"
  },
  {
    "text": "um in my mind I think it is too but it's really three phases we started off with a single IIs box and with running SQL",
    "start": "761279",
    "end": "767519"
  },
  {
    "text": "server on that box and that box was effectively doing everything on the site and shortly thereafter we actually took",
    "start": "767519",
    "end": "773279"
  },
  {
    "text": "that SQL server and put it into a back-end a back-end box and I'll show you a little map of that in a slide or",
    "start": "773279",
    "end": "778860"
  },
  {
    "text": "two so you can get a better feel but because this is how people really run their systems",
    "start": "778860",
    "end": "784200"
  },
  {
    "text": "um excuse me when you have a network attack a network attached web server it's not",
    "start": "784200",
    "end": "790680"
  },
  {
    "text": "very commonplace you run your database server on that box so again we're trying to mimic something that was reasonably",
    "start": "790680",
    "end": "796860"
  },
  {
    "text": "real uh real world scenario and then the third phase in in our site topology was",
    "start": "796860",
    "end": "803100"
  },
  {
    "text": "we added a second is box so we were actually effectively balancing between the two is",
    "start": "803100",
    "end": "808560"
  },
  {
    "text": "boxes and then we introduced additional protocols and we'll talk about exactly what happened there now one of the",
    "start": "808560",
    "end": "813899"
  },
  {
    "text": "important points that will help explain some of what what happens later in the presentation is that this was not",
    "start": "813899",
    "end": "819480"
  },
  {
    "text": "managed by a real it organization this is managed by a couple of of developer heads in our organization who had never",
    "start": "819480",
    "end": "825839"
  },
  {
    "text": "managed a real professional site before didn't really know what a UPS was didn't",
    "start": "825839",
    "end": "831360"
  },
  {
    "text": "really care about raid arrays didn't really care about any of those other things and so we have some you know and",
    "start": "831360",
    "end": "836820"
  },
  {
    "text": "everything was run on desktop class boxes so it ended up for some interesting uh interesting results",
    "start": "836820",
    "end": "843720"
  },
  {
    "start": "843000",
    "end": "875000"
  },
  {
    "text": "um so the goals in site one the Rev one and two rev2 followed very quickly under rev one was just get it up get it up and",
    "start": "843720",
    "end": "850440"
  },
  {
    "text": "running put something there that resembled in some close capacity what an",
    "start": "850440",
    "end": "855480"
  },
  {
    "text": "actual customer would deploy in terms of a web server running serving uh active content uh uh from a database and",
    "start": "855480",
    "end": "863339"
  },
  {
    "text": "interacting with a database um and and that was that was the simplest goal it wasn't to you know put",
    "start": "863339",
    "end": "869519"
  },
  {
    "text": "up a lot of additional ports and a lot of other information and so that impacted uh you know some of what we",
    "start": "869519",
    "end": "875040"
  },
  {
    "start": "875000",
    "end": "1018000"
  },
  {
    "text": "initially did so from a site topology point of view uh I'll read what the labels are here for",
    "start": "875040",
    "end": "881220"
  },
  {
    "text": "people uh further in the back um we're starting starting down in the bottom left-hand Corner we have the ISP",
    "start": "881220",
    "end": "886680"
  },
  {
    "text": "Cloud that came in um and uh communicated over T1 to a Cisco",
    "start": "886680",
    "end": "892279"
  },
  {
    "text": "router effectively and what we have here is the stuff above the dotted line is what we had on premise in our test site",
    "start": "892279",
    "end": "900060"
  },
  {
    "text": "and what was below the line is actually what was off-premise on the ISP site the equipment that we had no control over",
    "start": "900060",
    "end": "905760"
  },
  {
    "text": "and so this is again what happens in the real world we effectively got a 10 base T Outlet into the office uh where the",
    "start": "905760",
    "end": "911880"
  },
  {
    "text": "where the test uh stuff was was occurring um so uh",
    "start": "911880",
    "end": "917000"
  },
  {
    "text": "uh that 10 base t or 100 base T Jack went into a hub uh The Hub plugged into",
    "start": "917000",
    "end": "922560"
  },
  {
    "text": "there's three devices plugged into it starting on the left was an is real secure box we were just doing that for",
    "start": "922560",
    "end": "927959"
  },
  {
    "text": "monitoring we were just curious to see what wheel secure would say in terms of the number of attacks we got that's how",
    "start": "927959",
    "end": "933120"
  },
  {
    "text": "we were we got that half a million total attacks it was just from from watching what real secure said the second box uh",
    "start": "933120",
    "end": "939360"
  },
  {
    "text": "to that is a netmon box uh we effectively had just a basic version of NT we Unbound all protocols from that",
    "start": "939360",
    "end": "946440"
  },
  {
    "text": "box and then we uh we listened on netmon the reason we Unbound all protocols is",
    "start": "946440",
    "end": "951899"
  },
  {
    "text": "you it makes it much harder to attack try to attack the netmon box it also makes it very uh very difficult to",
    "start": "951899",
    "end": "958620"
  },
  {
    "text": "actually detect that the netmon boxes there you certainly can attack it in terms of addressing because it has no IP",
    "start": "958620",
    "end": "964199"
  },
  {
    "text": "address um the big machine in the middle is the is box it was the web server that we",
    "start": "964199",
    "end": "969420"
  },
  {
    "text": "were running which actually was a dual home dual home device so the front end was plugged into effectively the public",
    "start": "969420",
    "end": "976019"
  },
  {
    "text": "network backend was plugged into a back private Network the backbone of which is represented on the top of the top of the",
    "start": "976019",
    "end": "981779"
  },
  {
    "text": "slide is a 100 base t-hub this again mirrors very closely the way that people would deploy these in real life",
    "start": "981779",
    "end": "989519"
  },
  {
    "text": "um and it communicated over that back end to a SQL Server which is also running Windows 2000 uh regular daily",
    "start": "989519",
    "end": "997380"
  },
  {
    "text": "builds at Windows 2000 and SQL Server 7 database over a Serial interface we had a",
    "start": "997380",
    "end": "1004459"
  },
  {
    "text": "debugger plugged into there's actually we had a debugger plugged into the is box there was actually a debugger",
    "start": "1004459",
    "end": "1010040"
  },
  {
    "text": "plugged into the SQL Server box as well and this would enable us to to really be able to figure out what happened if",
    "start": "1010040",
    "end": "1015620"
  },
  {
    "text": "something happened to those boxes so uh the web server was a standard",
    "start": "1015620",
    "end": "1021320"
  },
  {
    "start": "1018000",
    "end": "1078000"
  },
  {
    "text": "desktop style box uh the only it's uh it's a high-end desktop it's a scuzzy interfaces it's 500 megahertz Pentium",
    "start": "1021320",
    "end": "1028400"
  },
  {
    "text": "three a quarter gig of RAM there's nothing other than that there's nothing special about that box we were doing",
    "start": "1028400",
    "end": "1033980"
  },
  {
    "text": "absolutely no Port filtering on any of the interfaces on the ISP side of things that becomes very important as we talk a",
    "start": "1033980",
    "end": "1041240"
  },
  {
    "text": "little bit further what we did do is we used functionality in Windows 2000 called ipsec Port filtering which I'll",
    "start": "1041240",
    "end": "1047600"
  },
  {
    "text": "talk about in the next slide to actually provide what very complicated or very Advanced",
    "start": "1047600",
    "end": "1054020"
  },
  {
    "text": "Port filtering capabilities similar to TCP Port wrapper or Port wrapper",
    "start": "1054020",
    "end": "1059919"
  },
  {
    "text": "type software on Unix boxes um and we communicate over the backend",
    "start": "1059919",
    "end": "1065480"
  },
  {
    "text": "interfaces using sockets the default's name pipes but we just thought it'd be more interesting for people to do",
    "start": "1065480",
    "end": "1071240"
  },
  {
    "text": "sockets because it's not quite as robust so we did sockets communication over Port 1433",
    "start": "1071240",
    "end": "1078380"
  },
  {
    "start": "1078000",
    "end": "1256000"
  },
  {
    "text": "now one of the most important things that I",
    "start": "1078380",
    "end": "1084140"
  },
  {
    "text": "probably have to say today and if people walk out of here with nothing else it's that you should look into ipsec Port",
    "start": "1084140",
    "end": "1091640"
  },
  {
    "text": "filtering in Windows 2000 if you're running Windows 2000 anywhere in your environment ipsec Port filtering is not to be",
    "start": "1091640",
    "end": "1098539"
  },
  {
    "text": "confused with ipsec VPN the ipsec port filtering is was accidentally built I",
    "start": "1098539",
    "end": "1105500"
  },
  {
    "text": "guess you could say as part of our VPN solution so as we were building ipsec VPN Technologies one of the things you",
    "start": "1105500",
    "end": "1111740"
  },
  {
    "text": "needed to be able to do was very granular very robust Port filtering and the reality is you can use that Port",
    "start": "1111740",
    "end": "1118100"
  },
  {
    "text": "filtering without using any other part of the ipsec functionality no ipsec ah authenticated header stuff no ipsec data",
    "start": "1118100",
    "end": "1125480"
  },
  {
    "text": "or payload encryption no IV sect tunneling forget about all that stuff you can just run ipsec Port filtering",
    "start": "1125480",
    "end": "1131720"
  },
  {
    "text": "and you can lock down just the ports that you want in just the configurations that you want so again you can liken",
    "start": "1131720",
    "end": "1137419"
  },
  {
    "text": "this very much to tcprapper style functionality and so there's a great command line utility in",
    "start": "1137419",
    "end": "1144260"
  },
  {
    "text": "the resource kit called ipsec Powell which lets you define these very elegantly and what I have up here are",
    "start": "1144260",
    "end": "1150020"
  },
  {
    "text": "the four commands that we used to configure this device and effectively what they do is um",
    "start": "1150020",
    "end": "1155840"
  },
  {
    "text": "uh the First Command here and I I know that some people in the back can't read it so I won't expect you to but the",
    "start": "1155840",
    "end": "1160880"
  },
  {
    "text": "First Command effectively says we're going to create a new policy called my web policy the second command says we're",
    "start": "1160880",
    "end": "1167660"
  },
  {
    "text": "going to deny all traffic to this site of all types deny it completely",
    "start": "1167660",
    "end": "1173780"
  },
  {
    "text": "the third one says we're going to permit explicitly permit anything addressed to",
    "start": "1173780",
    "end": "1179120"
  },
  {
    "text": "my local IP address adapter in both directions addressed to Port 80 and",
    "start": "1179120",
    "end": "1184880"
  },
  {
    "text": "we're going to call that the HTTP or the okhdp HTTP Rule and we're going to add",
    "start": "1184880",
    "end": "1190100"
  },
  {
    "text": "that to our to our web policy and then the final one is that we're going to create another rule called okay icmp",
    "start": "1190100",
    "end": "1196640"
  },
  {
    "text": "which we're going to allow bi-directional icmp communication to our local interface and again we chose this",
    "start": "1196640",
    "end": "1204320"
  },
  {
    "text": "because we're just a web server we don't need to do anything but serve web and we just thought it'd be nice to leave some",
    "start": "1204320",
    "end": "1210140"
  },
  {
    "text": "icmp stuff so people could actually find out a little bit more about our site and that's all that all that was there",
    "start": "1210140",
    "end": "1217160"
  },
  {
    "text": "um now the way the ipsec portfolter works is it works from most uh from Filter of most specificity to filter of",
    "start": "1217160",
    "end": "1224660"
  },
  {
    "text": "least specificity um so since we said Denial in the first rule but it was a very Global generic",
    "start": "1224660",
    "end": "1231380"
  },
  {
    "text": "thing and then we specifically said but for this one port permits stuff through and then on the final rule we said and",
    "start": "1231380",
    "end": "1237140"
  },
  {
    "text": "for this other protocol ISP CMP permit these through uh those took specificity",
    "start": "1237140",
    "end": "1242660"
  },
  {
    "text": "or priority over the done eye all so you can use this for configuring and locking",
    "start": "1242660",
    "end": "1247880"
  },
  {
    "text": "down any Windows 2000 boxes that you run anywhere in your environment including within your intranet this is really an",
    "start": "1247880",
    "end": "1253580"
  },
  {
    "text": "incredibly powerful tool that you can use so when we move to rev3 of our site uh",
    "start": "1253580",
    "end": "1261260"
  },
  {
    "start": "1256000",
    "end": "1309000"
  },
  {
    "text": "what we upgraded the boxes to Windows 2000 Advanced server simply because we wanted to give some additional coverage",
    "start": "1261260",
    "end": "1267140"
  },
  {
    "text": "for the advanced server version of the product and we added the active directory again active directory was an",
    "start": "1267140",
    "end": "1272600"
  },
  {
    "text": "important technology it seemed like a reasonable thing to add active directory to this and we opened up a bunch of",
    "start": "1272600",
    "end": "1278059"
  },
  {
    "text": "additional ports and interfaces and had stuff running on them we opened up ldap and ldap over SSL so people could",
    "start": "1278059",
    "end": "1284720"
  },
  {
    "text": "actually try to do directory queries against us and try to break into the directory we opened up FTP so you could",
    "start": "1284720",
    "end": "1290840"
  },
  {
    "text": "connect us and try to do some creative things Brute Force passwords through FTP do some other interesting things we",
    "start": "1290840",
    "end": "1296960"
  },
  {
    "text": "opened up telnet same reason we opened up SSL so we started serving SSL content",
    "start": "1296960",
    "end": "1302419"
  },
  {
    "text": "to people and we opened up the Sif support as well so you could attempt to do sif's file sharing attacks against us",
    "start": "1302419",
    "end": "1309260"
  },
  {
    "text": "as well and so this is effectively the map you'll notice that the major difference is that we have a a second",
    "start": "1309260",
    "end": "1314900"
  },
  {
    "text": "box there on the right um but other than that very similar we upgraded the hardware from 500 to 600",
    "start": "1314900",
    "end": "1320720"
  },
  {
    "text": "megahertz boxes you know no real difference and we use a dual proc 600 megahertz box for the SSL box again SSL",
    "start": "1320720",
    "end": "1328700"
  },
  {
    "text": "is a performance eater we all know that so we gave it a little extra horsepower just for that",
    "start": "1328700",
    "end": "1333740"
  },
  {
    "text": "um and these are the ports that we actually permitted and I'll read them out because I know many of you can't read it from there",
    "start": "1333740",
    "end": "1339700"
  },
  {
    "text": "20 and 21 for FTP uh 23 for telnet 80 for hdp 88 for Kerberos 443 for hdp SSL",
    "start": "1339700",
    "end": "1348440"
  },
  {
    "text": "uh 445 for SMB 500 for Isa KMP which is",
    "start": "1348440",
    "end": "1353539"
  },
  {
    "text": "the uh the key exchange protocol for ipsec so if you actually wanted to try to attack our IP stack implementation",
    "start": "1353539",
    "end": "1360980"
  },
  {
    "text": "you could actually attack that service as well as well as ports 389 and 636",
    "start": "1360980",
    "end": "1366500"
  },
  {
    "text": "which are the ldap and ldap over SSL ports respectively so we open those up on the filters",
    "start": "1366500",
    "end": "1373400"
  },
  {
    "start": "1373000",
    "end": "1460000"
  },
  {
    "text": "now one of the interesting things that happened is uh as I mentioned we run we run",
    "start": "1373400",
    "end": "1378980"
  },
  {
    "text": "debuggers on all these machines and the way uh I'm not sure I assume probably",
    "start": "1378980",
    "end": "1384860"
  },
  {
    "text": "many are familiar with uh uh with uh with development environments but some people may not be was developing os's",
    "start": "1384860",
    "end": "1392539"
  },
  {
    "text": "but effectively we have a lot of break points in the code that if a debugger is attached and you reach this assertion",
    "start": "1392539",
    "end": "1398600"
  },
  {
    "text": "break point which says you know if x doesn't equal y uh assert and and drop",
    "start": "1398600",
    "end": "1404240"
  },
  {
    "text": "the box into a debugger uh so so this kind of code would get executed if you",
    "start": "1404240",
    "end": "1409280"
  },
  {
    "text": "have a debugger attached what that meant is that things that would normally be slow memory leaks perhaps they would",
    "start": "1409280",
    "end": "1415159"
  },
  {
    "text": "take two three four months maybe or maybe weeks or maybe days whatever to take down a box normally uh failed in",
    "start": "1415159",
    "end": "1422419"
  },
  {
    "text": "our case immediately as soon as you you reach that condition because the assert failed",
    "start": "1422419",
    "end": "1427760"
  },
  {
    "text": "um and that's what we were trying to do we wanted to find these kinds of conditions where bad things were happening and so we actually had more",
    "start": "1427760",
    "end": "1433700"
  },
  {
    "text": "asserts in some of the code that we're interested in looking for that would drop the machine into a debugger effectively resulting in a denial",
    "start": "1433700",
    "end": "1439700"
  },
  {
    "text": "service but you know we didn't really care we wanted to find the bugs um and we might leave that machine",
    "start": "1439700",
    "end": "1446000"
  },
  {
    "text": "sitting in the debugger for hours uh I don't think it ever lasted longer than hours but for hours until we got the",
    "start": "1446000",
    "end": "1452360"
  },
  {
    "text": "developer from another floor from another building to come over and fix their code that was causing that machine",
    "start": "1452360",
    "end": "1457580"
  },
  {
    "text": "to sit in that debugger the initial reaction to the site was was",
    "start": "1457580",
    "end": "1462740"
  },
  {
    "start": "1460000",
    "end": "1549000"
  },
  {
    "text": "actually quite interesting um there was a number of uh fun things that happened",
    "start": "1462740",
    "end": "1468080"
  },
  {
    "text": "when you ran nmap against it it thought it was a Linux box there were a couple of reasons for that one of which is we",
    "start": "1468080",
    "end": "1474020"
  },
  {
    "text": "dramatically changed the way that we do I TCP sequence number generation in",
    "start": "1474020",
    "end": "1479360"
  },
  {
    "text": "Windows 2000 we'd had probably a lot of people in this room and certainly a number of people at this conference who",
    "start": "1479360",
    "end": "1484700"
  },
  {
    "text": "spoke at this conference uh tell us in the past that they don't believe that our TCB sequence generation was random",
    "start": "1484700",
    "end": "1491059"
  },
  {
    "text": "enough it certainly was not as random as as other platforms so we fixed that we",
    "start": "1491059",
    "end": "1496159"
  },
  {
    "text": "said okay in Windows 2000 it's going to be random and nmap thought it was just as random as the Linux box and that we",
    "start": "1496159",
    "end": "1501740"
  },
  {
    "text": "had some other characteristics including ports that they expected to be open on a Windows box that were not open and so",
    "start": "1501740",
    "end": "1507440"
  },
  {
    "text": "they said oh it's a Linux box which was a good Giggle and the second issue was",
    "start": "1507440",
    "end": "1513559"
  },
  {
    "text": "that people people swore up and down uh you know that there was a firewall because we",
    "start": "1513559",
    "end": "1519919"
  },
  {
    "text": "said publicly there is no firewall on this box there's ipsec Port filtering but there is no firewall people swore up",
    "start": "1519919",
    "end": "1525860"
  },
  {
    "text": "and down that there is no fire there is a firewall there is a firewall you know you're lying you can always go and you can prove it",
    "start": "1525860",
    "end": "1532400"
  },
  {
    "text": "by just putting on ipsec Port filtering on your box and you'll find out that nothing responds because when ipsec",
    "start": "1532400",
    "end": "1538580"
  },
  {
    "text": "portfolter accepts uh when it receives a packet if it's not doesn't fit one of",
    "start": "1538580",
    "end": "1543679"
  },
  {
    "text": "the rules it just drops it and that's what a lot of firewalls do so it was quite interesting from a reaction point",
    "start": "1543679",
    "end": "1549740"
  },
  {
    "start": "1549000",
    "end": "1674000"
  },
  {
    "text": "of view now the machine configurations become very important too because this is really where where the Lessons Learned",
    "start": "1549740",
    "end": "1555980"
  },
  {
    "text": "become important where we can improve either the default parts of the product or create better documentation and",
    "start": "1555980",
    "end": "1561740"
  },
  {
    "text": "people can actually you know reproduce this themselves we say well you know you had a successful box it didn't get",
    "start": "1561740",
    "end": "1567080"
  },
  {
    "text": "broken into how do I do that myself and so I mean this was effectively the",
    "start": "1567080",
    "end": "1572539"
  },
  {
    "text": "recipe it was very easy we did a default installation of Windows 2000 on NTFS we",
    "start": "1572539",
    "end": "1579740"
  },
  {
    "text": "just put the CD in booted from the CD installed it then we used a document",
    "start": "1579740",
    "end": "1585260"
  },
  {
    "text": "that my colleague Mike Howard created on the web called the internet information server checklist which is built for is4",
    "start": "1585260",
    "end": "1590840"
  },
  {
    "text": "and of course we're running is5 but we use that as far as it was applicable to the configuration we turned on ipsec",
    "start": "1590840",
    "end": "1596840"
  },
  {
    "text": "Port filtering we went we explicitly turned on auditing on files that we knew",
    "start": "1596840",
    "end": "1601880"
  },
  {
    "text": "people would never shouldn't be hitting so we could actually go and watch those files um when we install the active directory",
    "start": "1601880",
    "end": "1608179"
  },
  {
    "text": "we installed it with default sets of apples on all objects in the directory we created a few accounts we didn't put",
    "start": "1608179",
    "end": "1614240"
  },
  {
    "text": "a firewall we used no host based intrusion detection and we took offline we took md5 checksums of all of uh the",
    "start": "1614240",
    "end": "1622700"
  },
  {
    "text": "interesting files on the machine and we kept those offline we actually used Jazz disks on these boxes which is not what",
    "start": "1622700",
    "end": "1629600"
  },
  {
    "text": "you'd probably do in a high-end production box but for the knees that we had there it was very useful we took the",
    "start": "1629600",
    "end": "1634940"
  },
  {
    "text": "Jazz disks we had the machine built all the sensitive files that we we're dealing with we're on the Jazz",
    "start": "1634940",
    "end": "1641120"
  },
  {
    "text": "disk we took the Jazz disk out of the Internet connected machine took it to a trusted",
    "start": "1641120",
    "end": "1646220"
  },
  {
    "text": "excuse me trusted workstation put it in the trusted workstation did md5 checksums on all those files left them",
    "start": "1646220",
    "end": "1652279"
  },
  {
    "text": "on the trusted workstation took the Jazz disk put it back into the Internet site and if we wanted to do a compare at a",
    "start": "1652279",
    "end": "1659240"
  },
  {
    "text": "later date we would use that same procedure again making sure that we knew what was trusted and what wasn't trusted because again you know if you if you are",
    "start": "1659240",
    "end": "1665900"
  },
  {
    "text": "broken into if that did happen to us we really want to be able to figure out uh what files were were impacted",
    "start": "1665900",
    "end": "1674779"
  },
  {
    "start": "1674000",
    "end": "1852000"
  },
  {
    "text": "um we created seven accounts uh on the on the box uh of course the guest account was disabled we renamed the",
    "start": "1674840",
    "end": "1681320"
  },
  {
    "text": "administrator account um and you know there's there's always arguments about well do you reunion administrator account is it useful is it",
    "start": "1681320",
    "end": "1687440"
  },
  {
    "text": "not useful um the reason that we rename the administrator account is it's uh very",
    "start": "1687440",
    "end": "1693020"
  },
  {
    "text": "entertaining to watch people try to break into your box using the administrator account that actually doesn't exist anymore",
    "start": "1693020",
    "end": "1699200"
  },
  {
    "text": "um and we created a new administrator account uh with strong passwords we created accounts for the two people",
    "start": "1699200",
    "end": "1704960"
  },
  {
    "text": "managing the site and we created two just simple dummy accounts that had uh I",
    "start": "1704960",
    "end": "1710960"
  },
  {
    "text": "think server operator privileges on the boxes um and we assigned random long passwords",
    "start": "1710960",
    "end": "1716600"
  },
  {
    "text": "to these uh to these accounts now which brings us to another point for those of you using Windows 2000 that you",
    "start": "1716600",
    "end": "1723260"
  },
  {
    "text": "may or may not be aware of and that's the Windows 2000 supports very long passwords supports passwords up to 127",
    "start": "1723260",
    "end": "1729320"
  },
  {
    "text": "characters which is certainly nicer than the 14 characters that you had in nt4 and previous",
    "start": "1729320",
    "end": "1734840"
  },
  {
    "text": "um and so we actually used 16 character passwords for for these accounts and we",
    "start": "1734840",
    "end": "1741200"
  },
  {
    "text": "generated them using a cryptographic random number generator which is not necessarily what you do for everyday",
    "start": "1741200",
    "end": "1747020"
  },
  {
    "text": "users but the reason this is important is for those of you who are doing like service account management or or other",
    "start": "1747020",
    "end": "1754039"
  },
  {
    "text": "things certainly don't don't leave your service accounts with 14 or 10 or 5 character passwords use use 127",
    "start": "1754039",
    "end": "1762140"
  },
  {
    "text": "character passwords for your service account nobody has to remember it it's not that bad of a deal and it certainly",
    "start": "1762140",
    "end": "1767299"
  },
  {
    "text": "makes sure that nobody will ever be able to brute force it the other thing that happens when you generate passwords",
    "start": "1767299",
    "end": "1772460"
  },
  {
    "text": "longer than 14 characters is no land manager hash has ever created for that password and stored in the Box well that",
    "start": "1772460",
    "end": "1778700"
  },
  {
    "text": "has some negative effects to like nobody can log in from a Windows 95 client but people can log in from NT clients",
    "start": "1778700",
    "end": "1786440"
  },
  {
    "text": "but it also uh is interesting for for some people in the room um now in terms of managing we wanted to",
    "start": "1786440",
    "end": "1794539"
  },
  {
    "text": "try to give people maybe a little bit of an advantage and so instead of managing the site through the interior interface",
    "start": "1794539",
    "end": "1801140"
  },
  {
    "text": "we actually managed it through the internet and instead of having to remember these long passwords that we've",
    "start": "1801140",
    "end": "1806840"
  },
  {
    "text": "assigned to these administrative users we simply used a certificate mapping capabilities in is in IIs and gave",
    "start": "1806840",
    "end": "1814399"
  },
  {
    "text": "certificates to the two site administrators who would use those certificates to authenticate against the site again much easier than remembering",
    "start": "1814399",
    "end": "1821360"
  },
  {
    "text": "these these big long complicated randomly generated passwords and we enabled strong password policies on the",
    "start": "1821360",
    "end": "1826760"
  },
  {
    "text": "machine you know we talk about that and for the telnet server we configure the telnet server to require ntlm",
    "start": "1826760",
    "end": "1833240"
  },
  {
    "text": "authentication and we you know we didn't do much with the telnut server we didn't use it a whole lot but we did tell net",
    "start": "1833240",
    "end": "1838340"
  },
  {
    "text": "to it occasionally from across the internet net if anybody was watching if you've got a sniffer in they would they",
    "start": "1838340",
    "end": "1843620"
  },
  {
    "text": "would then have to break the Intel mv2 authentication or used to authenticate to that to telnet which is certainly",
    "start": "1843620",
    "end": "1850100"
  },
  {
    "text": "better than clear text password tell them that um we also sprinkled throughout the site",
    "start": "1850100",
    "end": "1855320"
  },
  {
    "start": "1852000",
    "end": "1922000"
  },
  {
    "text": "uh some hidden tokens for people to find so if in fact they had been able to gain",
    "start": "1855320",
    "end": "1860600"
  },
  {
    "text": "access to the site and be able to pull data at the top of the default.asp and comment.asp which are two parts uh two",
    "start": "1860600",
    "end": "1867559"
  },
  {
    "text": "of the core asps uh uh on the site we added comment which is effectively if",
    "start": "1867559",
    "end": "1872659"
  },
  {
    "text": "you're reading this please send mail to us and there's email address was details of how you got here so if you had in",
    "start": "1872659",
    "end": "1878120"
  },
  {
    "text": "fact been able to read our ASP files this would be the very first thing you would see if similarly we also had",
    "start": "1878120",
    "end": "1885260"
  },
  {
    "text": "um files stuck throughout the file system called like high ibroken.txt with a",
    "start": "1885260",
    "end": "1892460"
  },
  {
    "text": "similar message so that if you actually did break in and were able to browse our file system and obtain files that were",
    "start": "1892460",
    "end": "1898039"
  },
  {
    "text": "abled against you you would pretty easily find these files and then be able to report them similarly we had stuff",
    "start": "1898039",
    "end": "1905240"
  },
  {
    "text": "sprinkled through the SQL databases if you had actually been able to break into the SQL server in the back end you would",
    "start": "1905240",
    "end": "1910700"
  },
  {
    "text": "Define found similar comments and if you would have returned them to me I would have personally since legally we",
    "start": "1910700",
    "end": "1916340"
  },
  {
    "text": "couldn't give you anything I would have personally given you a very nice prize um",
    "start": "1916340",
    "end": "1921919"
  },
  {
    "text": "now we had some interesting but unsuccessful attacks which are worth pointing out just to demonstrate some",
    "start": "1921919",
    "end": "1928399"
  },
  {
    "start": "1922000",
    "end": "2080000"
  },
  {
    "text": "real good creativity on people's Parts um we had somebody who spent about a",
    "start": "1928399",
    "end": "1933440"
  },
  {
    "text": "week trying to do password guessing against our FTP server since we had FTP published people could connect to the",
    "start": "1933440",
    "end": "1939559"
  },
  {
    "text": "FTP server and they could issue commands to it and we had a guy run or I assume",
    "start": "1939559",
    "end": "1945740"
  },
  {
    "text": "it's a guy in a moment you'll know why it's assume as a guy run a password guessing routine against our FTP server",
    "start": "1945740",
    "end": "1953000"
  },
  {
    "text": "and every few connections that he got wrong we terminated and he'd reconnect and he tried to guess a few more and he'd terminate and reconnect and instead",
    "start": "1953000",
    "end": "1959899"
  },
  {
    "text": "of trying to Brute Force passwords he was trying to Brute Force names with three known passwords which were password client and data he was trying",
    "start": "1959899",
    "end": "1966679"
  },
  {
    "text": "to find a name of somebody who had those passwords well the interesting thing is he thought that only he only used male",
    "start": "1966679",
    "end": "1973760"
  },
  {
    "text": "names there were no female names anywhere in anything that he tried which was kind of interesting to to you know",
    "start": "1973760",
    "end": "1980000"
  },
  {
    "text": "if you're an observer of human behavior the other one is we had a guy who ran for two weeks",
    "start": "1980000",
    "end": "1985340"
  },
  {
    "text": "a Brute Force attack uh trying to guess the administrator password the only",
    "start": "1985340",
    "end": "1991279"
  },
  {
    "text": "problem is this this poor guy misspelled administrator in trying to brute force and he's spelled it administrator with",
    "start": "1991279",
    "end": "1997700"
  },
  {
    "text": "Note with only one r at the end and uh while we kind of wanted to get actually",
    "start": "1997700",
    "end": "2005080"
  },
  {
    "text": "if you read the comments on the website that we posted there was a hint that said and by the way you know something",
    "start": "2005080",
    "end": "2011500"
  },
  {
    "text": "about by the way you know you have to spell the account name right in order to get the password and um you know the",
    "start": "2011500",
    "end": "2016960"
  },
  {
    "text": "attack went on for quite some time so it was um a little a little here curious",
    "start": "2016960",
    "end": "2023260"
  },
  {
    "text": "um but one of the big you know places that people tried to get into was the FTP side people tried every single FTP",
    "start": "2023260",
    "end": "2029380"
  },
  {
    "text": "command they could they tried to pump various Lanes of stuff into the various parameters of the commands",
    "start": "2029380",
    "end": "2035620"
  },
  {
    "text": "um so people did a good job exercising the FTP server people also tried to Guess The V root names on IIs we only",
    "start": "2035620",
    "end": "2043480"
  },
  {
    "text": "had a couple of V Roots but they wanted to find out if we had other V routes and so people went through and they would",
    "start": "2043480",
    "end": "2048580"
  },
  {
    "text": "went through the entire dictionary of every possible v-root name that was a dictionary word and of course that",
    "start": "2048580",
    "end": "2053858"
  },
  {
    "text": "yielded nothing and we even had people trying to attack us using non-nt exploits so we had a few Linux specific",
    "start": "2053859",
    "end": "2059858"
  },
  {
    "text": "exploits we had somebody trying to stuff uh",
    "start": "2059859",
    "end": "2066540"
  },
  {
    "text": "so anyway some fun some fun exploits uh in through the system um that were not applicable to our",
    "start": "2067000",
    "end": "2073240"
  },
  {
    "text": "platform but I guess they assumed that you know maybe we really weren't running Windows 2000 on this box and they were going to just check or something",
    "start": "2073240",
    "end": "2080200"
  },
  {
    "start": "2080000",
    "end": "2267000"
  },
  {
    "text": "um and so but you know not to not to downplay any of that the net result of",
    "start": "2080200",
    "end": "2086260"
  },
  {
    "text": "this 10 gigabytes worth of log files and 10 million hits and 500 000 attacks is",
    "start": "2086260",
    "end": "2095320"
  },
  {
    "text": "that we found a few bugs and the vast majority were actually memory leak bugs",
    "start": "2095320",
    "end": "2101140"
  },
  {
    "text": "that would take you know potentially a week or two weeks or three weeks to be able to exploit under a lot of",
    "start": "2101140",
    "end": "2107680"
  },
  {
    "text": "conditions but again because we have we have these assert commands in the debugger with the debugger attached it",
    "start": "2107680",
    "end": "2113020"
  },
  {
    "text": "barfed pretty quickly excuse the the term but that's basically what it did one of which was a queuing problem in",
    "start": "2113020",
    "end": "2120160"
  },
  {
    "text": "the TCP stack that had been that have been introduced we found that",
    "start": "2120160",
    "end": "2126700"
  },
  {
    "text": "was actually one of the first ones within a few days because people were exercising the stack pretty well memory",
    "start": "2126700",
    "end": "2133240"
  },
  {
    "text": "leaks page pool memory leaks that would grind assistant will Halt and effectively run on a page pool uh",
    "start": "2133240",
    "end": "2139240"
  },
  {
    "text": "non-pageable memory which was ugly um and uh one of the major things that",
    "start": "2139240",
    "end": "2147700"
  },
  {
    "text": "we were able to improve through this was resilience to sin attacks because we saw",
    "start": "2147700",
    "end": "2153099"
  },
  {
    "text": "weeks worth of syn attacks like you've never seen before and we just sat there and we analyzed them and we analyzed how",
    "start": "2153099",
    "end": "2159280"
  },
  {
    "text": "much we slowed down when under a sin attack and what happened and how quickly we recovered and we were able to make",
    "start": "2159280",
    "end": "2165160"
  },
  {
    "text": "that better so Windows 2000 now recovers significantly faster when a syn attack stops and it doesn't consume nearly as",
    "start": "2165160",
    "end": "2173680"
  },
  {
    "text": "much CPU time while it's under a syn attack now the reality is you know in a real world syn attacks are a fundamental",
    "start": "2173680",
    "end": "2181119"
  },
  {
    "text": "you know problem that we that we have to deal with there's no Silver Bullet for dealing with them but you can certainly block them block given IP addresses if",
    "start": "2181119",
    "end": "2188680"
  },
  {
    "text": "the synodactyl is coming from a specific IP address you can block those with the firewalls and the nice thing about cine tax is that basically when they do stop",
    "start": "2188680",
    "end": "2194800"
  },
  {
    "text": "the system does return to normal um and so that you'll see there's a few",
    "start": "2194800",
    "end": "2200500"
  },
  {
    "text": "more here one of the the other things that we had done is since we were using netmon so heavily we quickly discovered",
    "start": "2200500",
    "end": "2207099"
  },
  {
    "text": "that there was a limitation the netman guys had built they figured that nobody was ever going to capture more than a gigabyte of netmon data at a time and uh",
    "start": "2207099",
    "end": "2214660"
  },
  {
    "text": "we kind of really demonstrated them that they're wrong and so they up up that",
    "start": "2214660",
    "end": "2219700"
  },
  {
    "text": "limit significantly so we're able to capture the whole eight gigabytes a day and I have to keep stopping that one every three hours and dumping the netmon",
    "start": "2219700",
    "end": "2226240"
  },
  {
    "text": "database um so while not a vulnerability it still helped to definitely improve the tools",
    "start": "2226240",
    "end": "2231280"
  },
  {
    "text": "in the product there's a problem in the perf Mount counters in IIs that you",
    "start": "2231280",
    "end": "2238180"
  },
  {
    "text": "could uh by sending certain crafted attacks to IIs you would uh create a",
    "start": "2238180",
    "end": "2244900"
  },
  {
    "text": "memory leak in the perfmon counters and effectively what that would result in is you got zeros for all the results of all",
    "start": "2244900",
    "end": "2250300"
  },
  {
    "text": "your performance encounters so if you're using perfume encounters for important data statistics collection or whatever",
    "start": "2250300",
    "end": "2256500"
  },
  {
    "text": "you you wouldn't be able to do that if somebody subjected you to that attack they're able to fix those counters and",
    "start": "2256500",
    "end": "2262660"
  },
  {
    "text": "we're able to fix a memory leak in ldap as well that was discovered through the testing on that site",
    "start": "2262660",
    "end": "2269140"
  },
  {
    "start": "2267000",
    "end": "2578000"
  },
  {
    "text": "um now you know there are other you know kinds of wonderful creative things that happened uh the first bullet item up",
    "start": "2269140",
    "end": "2274660"
  },
  {
    "text": "here is one that people always chuckle about and they talk about conspiracies this and conspiracies that um but I tell you in August at the",
    "start": "2274660",
    "end": "2281800"
  },
  {
    "text": "beginning of August last year we had one killer electrical storm and you can always check with uh the National Weather Service if you even care but uh",
    "start": "2281800",
    "end": "2289240"
  },
  {
    "text": "it uh wiped out our communication lines like on the third day uh of uh of this site and the rest of these actually just",
    "start": "2289240",
    "end": "2296079"
  },
  {
    "text": "demonstrate uh tried and true uh policy and administration uh things um our ISP and off-site ISP",
    "start": "2296079",
    "end": "2304000"
  },
  {
    "text": "um the first thing that happened is after people were bored with our site the first few days they started going",
    "start": "2304000",
    "end": "2309579"
  },
  {
    "text": "after the routers down one down two down three in terms of uh the number of hops and they found that um one of the",
    "start": "2309579",
    "end": "2317200"
  },
  {
    "text": "routers uh two uh the two two down link from us uh still had a default",
    "start": "2317200",
    "end": "2323140"
  },
  {
    "text": "installation password uh and so they took over that router and did some fun things with the router for a while until",
    "start": "2323140",
    "end": "2329260"
  },
  {
    "text": "we figured out what was going on the first way we realized it is we were suddenly getting no traffic anymore and",
    "start": "2329260",
    "end": "2335079"
  },
  {
    "text": "uh we were kind of scratching our head and going people got bored awfully quick and uh and then we went out to the",
    "start": "2335079",
    "end": "2340839"
  },
  {
    "text": "internet and uh through a different tap and uh we tried to trade you know ping ourselves and you know of course there's",
    "start": "2340839",
    "end": "2346900"
  },
  {
    "text": "nothing there and we tried traceroute and basically died of the router and people redirecting it across the world",
    "start": "2346900",
    "end": "2353440"
  },
  {
    "text": "um and so we were able to contact the ISP and they were able to go in and take take control of the route or reflash it",
    "start": "2353440",
    "end": "2358720"
  },
  {
    "text": "and set a password then we had another one with a uh with the the router firmware being out of date on on the",
    "start": "2358720",
    "end": "2364720"
  },
  {
    "text": "router immediately Upstream from us that fed directly into us from our T1 um having an out-to-date version of",
    "start": "2364720",
    "end": "2370599"
  },
  {
    "text": "firmware and people were creative uh you know it was basically an out of the box you know you go and you bought a Cisco router you just stick it into the wall",
    "start": "2370599",
    "end": "2376720"
  },
  {
    "text": "you don't you don't look at the date the fact that it was manufactured a year ago uh and you just let it start running and",
    "start": "2376720",
    "end": "2382480"
  },
  {
    "text": "that's effectively what happened and um somebody wiped that router out and kept taking it down until we figured that out",
    "start": "2382480",
    "end": "2388119"
  },
  {
    "text": "when this is a site downloaded their iOS update and patched it um",
    "start": "2388119",
    "end": "2393640"
  },
  {
    "text": "again the next bullet is really you know stupid administrator tricks um you know because these box were boxes",
    "start": "2393640",
    "end": "2400119"
  },
  {
    "text": "were effectively sitting in somebody's locked office um you know he had a rack of machines sitting right in front of him and um uh",
    "start": "2400119",
    "end": "2407920"
  },
  {
    "text": "without realizing he shut off the debugger box that the SQL server was attached to and well when you shut off",
    "start": "2407920",
    "end": "2413260"
  },
  {
    "text": "the debugger um you know certainly the Microsoft debugger comes with a visual C the",
    "start": "2413260",
    "end": "2418480"
  },
  {
    "text": "process that you're connected to dies in the process if the process is the operating system the operating system dies so the SQL server was down for a",
    "start": "2418480",
    "end": "2426460"
  },
  {
    "text": "while and people were starting to send us email about you know hey your guestbook app doesn't work anymore and we're like scratching our head a little",
    "start": "2426460",
    "end": "2432160"
  },
  {
    "text": "bit and trying to figure out what happened it was the debugger was off um uh not a whole lot of other stuff uh the",
    "start": "2432160",
    "end": "2439240"
  },
  {
    "text": "one uh three from the bottom we you know because we're dealing with daily builds of the Windows operating system many",
    "start": "2439240",
    "end": "2445720"
  },
  {
    "text": "people here probably aren't familiar with how we build it but effectively we have um a centralized uh build process",
    "start": "2445720",
    "end": "2452020"
  },
  {
    "text": "where people developers check code in that goes to a centralized build they check code diffs and goes to a",
    "start": "2452020",
    "end": "2457900"
  },
  {
    "text": "centralized area the centralized area reviews the code checks to make sure they're approved to check in and they",
    "start": "2457900",
    "end": "2464200"
  },
  {
    "text": "check it in and they build a version of the OS and then people run that version of the OS and so we we live from day to",
    "start": "2464200",
    "end": "2469900"
  },
  {
    "text": "day on the stuff that we build so if the stuff that we build is crap then we live on crap so we're very incentive to build",
    "start": "2469900",
    "end": "2476800"
  },
  {
    "text": "to build better stuff because we won't be able to get our job done but in this case we had actually taken a direct drop",
    "start": "2476800",
    "end": "2483220"
  },
  {
    "text": "from one of the TC from the TCP developers of an update to the TCP stack that had a debug break point that he was",
    "start": "2483220",
    "end": "2490960"
  },
  {
    "text": "trying to fix some other performance problem and he had put a debug break point into his private build and we took that private bill not realizing the",
    "start": "2490960",
    "end": "2497260"
  },
  {
    "text": "debug break point so as soon as the first syn attack came back in we dropped into a debugger again",
    "start": "2497260",
    "end": "2503200"
  },
  {
    "text": "um and so these you know various kinds of things another problem that we had was people just massive posting to the ASP",
    "start": "2503200",
    "end": "2510280"
  },
  {
    "text": "page the reality is the more data you pump into an asp page the machines got to process that information and so we",
    "start": "2510280",
    "end": "2515740"
  },
  {
    "text": "had people just constantly feeding feeding feeding information uh into the ASP parser and finally the final stupid",
    "start": "2515740",
    "end": "2521619"
  },
  {
    "text": "admin trick uh was really uh uh one of my colleagues said the ad the",
    "start": "2521619",
    "end": "2527200"
  },
  {
    "text": "administrator lockout or the account lockout the three failed login attempts and once we enabled the FTP server",
    "start": "2527200",
    "end": "2533800"
  },
  {
    "text": "people started really doing password guessing attacks they locked out all they locked out a couple of the accounts including the account that the uh the",
    "start": "2533800",
    "end": "2541599"
  },
  {
    "text": "FTP server and the web server ran under now the good news is while those processes are running if the account",
    "start": "2541599",
    "end": "2548619"
  },
  {
    "text": "gets locked out that's not a problem they continue to run but the next time you reboot the machine they don't start up again and then you sit there and you",
    "start": "2548619",
    "end": "2554740"
  },
  {
    "text": "scratch your head and go well why didn't the service start and you start doing your tracing and you find out well the accounts are locked out which again",
    "start": "2554740",
    "end": "2561099"
  },
  {
    "text": "there's a lesson learned there about uh you know security versus",
    "start": "2561099",
    "end": "2567119"
  },
  {
    "text": "uh you know survivability of the system and that account lockout on an account used on an internet host uh should be",
    "start": "2567780",
    "end": "2575380"
  },
  {
    "text": "set differently than something on like a corporate Network asset or something so",
    "start": "2575380",
    "end": "2580839"
  },
  {
    "start": "2578000",
    "end": "2651000"
  },
  {
    "text": "just to give you a feel for the way that we responded to these attacks effectively attacks came in three classes one was uh there's really a bug",
    "start": "2580839",
    "end": "2587740"
  },
  {
    "text": "in in Windows and we'd go and we'd grab the the developer and the tester by the hair and we drag them up to our up to",
    "start": "2587740",
    "end": "2594040"
  },
  {
    "text": "the office and we'd pop them down in front of the machine and we say you're not leaving till you fix this um which is not something that many of",
    "start": "2594040",
    "end": "2601180"
  },
  {
    "text": "you have the luxury of being able to do so hopefully we're doing that on your behalf but certainly in your case you would be calling your your support",
    "start": "2601180",
    "end": "2607420"
  },
  {
    "text": "representative or so forth and grabbing them by the hair and dragging them out and making them fix it",
    "start": "2607420",
    "end": "2612819"
  },
  {
    "text": "um there's a bug in our ASP code which you know we fixed a number of these at the beginning we simply went ahead and",
    "start": "2612819",
    "end": "2618099"
  },
  {
    "text": "fixed it but we had a lot of these IP you know it's a fact of Ip right it's the laws of Ip Senate tax when we had",
    "start": "2618099",
    "end": "2624880"
  },
  {
    "text": "people that were just you know spent their whole life trying to either IP frog us or send attack us you know that",
    "start": "2624880",
    "end": "2631180"
  },
  {
    "text": "to the point where it got boring that real data couldn't come through we would simply go into the ipsec portfilter and",
    "start": "2631180",
    "end": "2636700"
  },
  {
    "text": "we'd say this this TCP address out here just drop all of his packets from now on and we would just leave it that way for",
    "start": "2636700",
    "end": "2643300"
  },
  {
    "text": "a while um uh to to to permit you know more intelligent attacks to try to come",
    "start": "2643300",
    "end": "2648819"
  },
  {
    "text": "through things that we realized um uh you know at least had a possibility so our top attacks on this site uh were",
    "start": "2648819",
    "end": "2656380"
  },
  {
    "start": "2651000",
    "end": "2761000"
  },
  {
    "text": "uh listed up here you know IP fragmentation was by far the weapon of choice across the entire roughly",
    "start": "2656380",
    "end": "2663040"
  },
  {
    "text": "three-month portion uh of time that this site was up um sin floods were tremendous uh and we",
    "start": "2663040",
    "end": "2669400"
  },
  {
    "text": "had people that ran trace route on us constantly 24 hours a day seven days a week for three months they just kept",
    "start": "2669400",
    "end": "2674980"
  },
  {
    "text": "running trace route and you can see the icmp packets come in and you could just watch that they were doing Tracer out while it's not an attack it actually",
    "start": "2674980",
    "end": "2681460"
  },
  {
    "text": "constituted a lot of traffic and those were people that wanted to you know know immediately once our site went down so",
    "start": "2681460",
    "end": "2686920"
  },
  {
    "text": "they could go you know say oh yeah no uh you know the Windows 2000 test.com sites down again",
    "start": "2686920",
    "end": "2692700"
  },
  {
    "text": "people are very creative with their IP protocol uh attacks in terms of going through every possible parameter they",
    "start": "2692700",
    "end": "2698980"
  },
  {
    "text": "could uh using a lot of a lot of interesting tricks um while we didn't you know we didn't",
    "start": "2698980",
    "end": "2705280"
  },
  {
    "text": "come with any other interesting bugs out of what I said uh we were able to kind of look at the data from you know the creativity of the attack and uh optimize",
    "start": "2705280",
    "end": "2712900"
  },
  {
    "text": "a little bit about how we how we actually handle things in the stacks such that we can weed out the attacks",
    "start": "2712900",
    "end": "2717940"
  },
  {
    "text": "even earlier with us improving overall performance when under attack IP IP half",
    "start": "2717940",
    "end": "2722980"
  },
  {
    "text": "scans uh were for some reason very popular I guess somebody just learned how to do those in school or something",
    "start": "2722980",
    "end": "2728200"
  },
  {
    "text": "at that point um FTP was huge people tried RDS attacks against us the colon color dollar data",
    "start": "2728200",
    "end": "2734560"
  },
  {
    "text": "against the web servers and all the various dot attacks against IIs represented a lot of our of our log",
    "start": "2734560",
    "end": "2741579"
  },
  {
    "text": "files um huge URLs that people who showed through at us and so forth but the most",
    "start": "2741579",
    "end": "2746800"
  },
  {
    "text": "interesting part is that we had a lot of very coordinated attacks they weren't attacks that were coming from One Source",
    "start": "2746800",
    "end": "2752260"
  },
  {
    "text": "they were taxable coming from many sources at the same time trying to take advantage of uh perhaps timing issues or",
    "start": "2752260",
    "end": "2757420"
  },
  {
    "text": "so forth so there was a lot of creativity and coordination that went on there",
    "start": "2757420",
    "end": "2762520"
  },
  {
    "start": "2761000",
    "end": "3071000"
  },
  {
    "text": "from a recommendations point of view",
    "start": "2762520",
    "end": "2766020"
  },
  {
    "text": "one of the interesting things that happened to us is we say that we went live on August 3rd that's because we",
    "start": "2769119",
    "end": "2776140"
  },
  {
    "text": "physically plugged the box into the internet Outlet at on August 3rd we",
    "start": "2776140",
    "end": "2781960"
  },
  {
    "text": "never announced this site to anyone ever somebody just found it a few minutes after we installed it",
    "start": "2781960",
    "end": "2788859"
  },
  {
    "text": "um you know in general people watch our sites very closely when we register DNS names and then they ping them constantly",
    "start": "2788859",
    "end": "2795099"
  },
  {
    "text": "and we get a lot of as if you're here for Dave leblanc's talk earlier um you know he mentioned something like",
    "start": "2795099",
    "end": "2800740"
  },
  {
    "text": "10 000 attacks per hour against our internet facing presence which we suddenly became a part of so we",
    "start": "2800740",
    "end": "2808720"
  },
  {
    "text": "were found very very quickly so the recommendation here is make sure you are",
    "start": "2808720",
    "end": "2814960"
  },
  {
    "text": "hardened before you connect to the internet don't assume that because you're not live you're not published",
    "start": "2814960",
    "end": "2820960"
  },
  {
    "text": "you're not anything else people won't find you because people will port scan you I get it all the time at home on my",
    "start": "2820960",
    "end": "2826300"
  },
  {
    "text": "DSL connections people will find you and if you've waited to set your admin account or you've waited to turn off",
    "start": "2826300",
    "end": "2833020"
  },
  {
    "text": "certain Services you may have waited too long secondly stress test your boxes before",
    "start": "2833020",
    "end": "2839020"
  },
  {
    "text": "you put them online and make sure that you really do have good components you know we did something that you know in an I.T organization would not have been",
    "start": "2839020",
    "end": "2845440"
  },
  {
    "text": "prudent which is putting workstation class boxes without raid arrays without UPS's",
    "start": "2845440",
    "end": "2851859"
  },
  {
    "text": "without all the kinds of things you may want without redundant power supplies and so forth and put them in server",
    "start": "2851859",
    "end": "2857680"
  },
  {
    "text": "roles well one of the interesting things that caused us is we had a bug check in audio drivers once when we upgraded from",
    "start": "2857680",
    "end": "2865480"
  },
  {
    "text": "one daily build to the next there was a a bug in in that version of one of the audio drivers that we happen to have on",
    "start": "2865480",
    "end": "2871420"
  },
  {
    "text": "that box and so it took us eight hours to get that box back up because we had to revert back to uh to the previous",
    "start": "2871420",
    "end": "2877420"
  },
  {
    "text": "day's build um and so you know why did we have an audio driver on a server I'm not quite",
    "start": "2877420",
    "end": "2883960"
  },
  {
    "text": "sure yet but make sure that the components that are in these boxes are well stress tested and that you understand them and that when you are",
    "start": "2883960",
    "end": "2890380"
  },
  {
    "text": "replacing components in these boxes make sure that the components are equivalent or are tested because",
    "start": "2890380",
    "end": "2897040"
  },
  {
    "text": "when you go from one adaptex cozy controller to another or one uh one",
    "start": "2897040",
    "end": "2902200"
  },
  {
    "text": "three com network card to another there are different characteristics on those cards they're different performance characteristics and so forth so don't",
    "start": "2902200",
    "end": "2908260"
  },
  {
    "text": "take that lightly we did what you should never ever do which is not put a firewall in front of",
    "start": "2908260",
    "end": "2914619"
  },
  {
    "text": "an Internet connected site if you have an important Internet connected site you should absolutely be putting firewalls",
    "start": "2914619",
    "end": "2920099"
  },
  {
    "text": "filtering filtering devices you should take it every Advantage but you possibly",
    "start": "2920099",
    "end": "2925300"
  },
  {
    "text": "can against the people out there who want to take advantage of you and what that means is you know putting",
    "start": "2925300",
    "end": "2931000"
  },
  {
    "text": "everything you can just because you have a firewall just because you have a filtering router doesn't mean you shouldn't also run this wonderful ipsec",
    "start": "2931000",
    "end": "2937480"
  },
  {
    "text": "portfoldering stuff you run it in conjunction do as much as you possibly can we have a",
    "start": "2937480",
    "end": "2944079"
  },
  {
    "text": "configurable sin flooding optimization in in NT it's not enabled in a default",
    "start": "2944079",
    "end": "2949240"
  },
  {
    "text": "install but it's enabled on a default web server install but if you're web facing you want to set your syn",
    "start": "2949240",
    "end": "2955359"
  },
  {
    "text": "optimization flag such that you will you'll be optimized for performance",
    "start": "2955359",
    "end": "2961900"
  },
  {
    "text": "under cine tags the out of all of what we learned out of",
    "start": "2961900",
    "end": "2967780"
  },
  {
    "text": "this we built the IIs 5 security configuration checklist which is",
    "start": "2967780",
    "end": "2972880"
  },
  {
    "text": "everything that we went through to make this site work including the ipconfig stuff including what settings to change",
    "start": "2972880",
    "end": "2980079"
  },
  {
    "text": "and then we built a security configuration manager template that you can use to actually simply put on your",
    "start": "2980079",
    "end": "2985839"
  },
  {
    "text": "web server and apply that policy template to your web server using a security configuration tool sets in",
    "start": "2985839",
    "end": "2991839"
  },
  {
    "text": "Windows 2000 and then you get all of the registry settings all the file system controls all the registry apples and",
    "start": "2991839",
    "end": "2999160"
  },
  {
    "text": "everything else that we used on this site and it's all documented in the in that configuration guide as well",
    "start": "2999160",
    "end": "3005520"
  },
  {
    "text": "definitely work with your ISP to make sure that their Upstream stuff is secure that",
    "start": "3005520",
    "end": "3012240"
  },
  {
    "text": "they're keeping track of patches that they're keep you know and that they in fact have passwords on their routers",
    "start": "3012240",
    "end": "3018359"
  },
  {
    "text": "um very good thing to do uh monitor your logs regularly you can definitely see all of these kinds of attacks coming",
    "start": "3018359",
    "end": "3025619"
  },
  {
    "text": "through on various logs you can see RDS attacks coming in on is logs people are trying to guess passwords or break into",
    "start": "3025619",
    "end": "3032040"
  },
  {
    "text": "other stuff you can see that actually happen on the log so make sure you look at your logs on a regular basis and that",
    "start": "3032040",
    "end": "3038220"
  },
  {
    "text": "you have people that really have a that are trained to to know what to look for in those logs",
    "start": "3038220",
    "end": "3044280"
  },
  {
    "text": "close down unneeded ports turn off unneeded Services can't say enough about that use strong passwords",
    "start": "3044280",
    "end": "3051000"
  },
  {
    "text": "use long passwords use certificates definitely if you're administering your",
    "start": "3051000",
    "end": "3056640"
  },
  {
    "text": "IIs boxes use certificates for the administration process it's a very very easy step to to do you can use the",
    "start": "3056640",
    "end": "3063119"
  },
  {
    "text": "certificate server built into Windows 2000 to issue the certificates you don't have to go buy them from somebody just use them to administer the site in a",
    "start": "3063119",
    "end": "3069839"
  },
  {
    "text": "more secure fashion so I often get people to say well you know",
    "start": "3069839",
    "end": "3076619"
  },
  {
    "text": "the site wouldn't have stayed up for so long or the site wouldn't have been so successful or you would have found more bugs if I had a shot at it and I get a",
    "start": "3076619",
    "end": "3082740"
  },
  {
    "text": "lot of that and your turn is next you can come we're going to put another one of these up uh for the next version of",
    "start": "3082740",
    "end": "3089520"
  },
  {
    "text": "Windows so we're me and my colleagues are currently working on a plan to to put a new site up to do a better job to",
    "start": "3089520",
    "end": "3096119"
  },
  {
    "text": "put more fun targets up there and to sit down with legal again and figure out what kind of prize we might be able to",
    "start": "3096119",
    "end": "3101940"
  },
  {
    "text": "finally offer uh you know now that we have a little longer lead way with them",
    "start": "3101940",
    "end": "3107220"
  },
  {
    "text": "um but you can try your hand at it in a few months and the other interesting thing is if some of you folks haven't",
    "start": "3107220",
    "end": "3113460"
  },
  {
    "text": "seen uh recently I think two days ago e-week shut their site down finally the end of the tournament but they had a",
    "start": "3113460",
    "end": "3119460"
  },
  {
    "text": "side up for a while which was a kind of uh interesting mix of uh heterogeneous platforms Solaris box running Oracle and",
    "start": "3119460",
    "end": "3126900"
  },
  {
    "text": "Linux and some other boxes two Windows 2000 boxes all running on kind of a real",
    "start": "3126900",
    "end": "3133260"
  },
  {
    "start": "3132000",
    "end": "3178000"
  },
  {
    "text": "built application that really mimic a real customer site and uh they had it up there for a number",
    "start": "3133260",
    "end": "3140040"
  },
  {
    "text": "of weeks and they had some attacks and some exploits and I'm happy to say that uh the Windows 2000 server running uh",
    "start": "3140040",
    "end": "3146280"
  },
  {
    "text": "running exchange for SMTP email Services uh had no problems and was never",
    "start": "3146280",
    "end": "3151619"
  },
  {
    "text": "compromised and never taken down and at the uh directory the domain controller was serving ldap functionality for the",
    "start": "3151619",
    "end": "3157740"
  },
  {
    "text": "site uh the uh the Windows 2000 domain controller never had a hiccup as well",
    "start": "3157740",
    "end": "3163260"
  },
  {
    "text": "but it's an interesting reading if you go take a look at eweek and see what they did and they'll also be publishing",
    "start": "3163260",
    "end": "3168720"
  },
  {
    "text": "information about how they built that site and so forth so some additional resources in the next week or so we'll",
    "start": "3168720",
    "end": "3174540"
  },
  {
    "text": "actually have a white paper written about basically this the talk that I've just given with uh additional filled in",
    "start": "3174540",
    "end": "3181500"
  },
  {
    "start": "3178000",
    "end": "3375000"
  },
  {
    "text": "information with some configuration settings with some statistics and graphs and so forth about the Windows 2000",
    "start": "3181500",
    "end": "3186900"
  },
  {
    "text": "test.com site it'll be on microsoft.com security and you can take a look at that and uh you know get a feel for what",
    "start": "3186900",
    "end": "3193680"
  },
  {
    "text": "happened and how to apply some of that to your site the is5 security configuration checklist very important",
    "start": "3193680",
    "end": "3199740"
  },
  {
    "text": "thing in the configuration tool are both available today on microsoft.com security",
    "start": "3199740",
    "end": "3205520"
  },
  {
    "text": "and I'm happy to announce that my colleague in crime Michael Howard has uh",
    "start": "3205520",
    "end": "3211079"
  },
  {
    "text": "as of two weeks ago his new book is available called designing secure web-based applications for Windows 2000",
    "start": "3211079",
    "end": "3217760"
  },
  {
    "text": "which actually also documents an enormous wealth of stuff that Mike has",
    "start": "3217760",
    "end": "3223200"
  },
  {
    "text": "learned over over the past year and for his last couple of years as the security program manager of the is product so a",
    "start": "3223200",
    "end": "3230640"
  },
  {
    "text": "terrific book again for information about how to defend and secure not only your site but to build applications that",
    "start": "3230640",
    "end": "3237180"
  },
  {
    "text": "are robust and securable on the internet so with that thank you very much for your time and we'll have some time for a",
    "start": "3237180",
    "end": "3243720"
  },
  {
    "text": "couple of questions um anyone",
    "start": "3243720",
    "end": "3248059"
  }
]