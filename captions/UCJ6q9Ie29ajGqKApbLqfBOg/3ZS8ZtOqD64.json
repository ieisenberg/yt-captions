[
  {
    "text": "got it out right i'm not formal here at all um i will probably forget to repeat your",
    "start": "51280",
    "end": "56800"
  },
  {
    "text": "question for the tape so if i do that somebody else say repeat the question right um",
    "start": "56800",
    "end": "62079"
  },
  {
    "text": "and we're not going to go the whole hour and a half there's probably just about an hour of material here so we'll have",
    "start": "62079",
    "end": "67280"
  },
  {
    "text": "lots of time if you want to just talk about stuff um you know take advantage of me i do",
    "start": "67280",
    "end": "73040"
  },
  {
    "text": "actually work at microsoft which is probably a surprise to a lot of you um and i have a tendency to be a little bit",
    "start": "73040",
    "end": "78880"
  },
  {
    "text": "too honest so we'll just see how that goes all right so what's the problem with wireless well you know",
    "start": "78880",
    "end": "85200"
  },
  {
    "text": "do you all know what wep stands for wired equivalent privacy you know this is a euphemism right",
    "start": "85200",
    "end": "91360"
  },
  {
    "text": "because you know you how can you secure the air right so it's it's not",
    "start": "91360",
    "end": "98320"
  },
  {
    "text": "wep is not private at all and there's plenty of material out there on the web",
    "start": "98320",
    "end": "104079"
  },
  {
    "text": "that explains exactly why wep sucks and there's just an example url of where",
    "start": "104079",
    "end": "110240"
  },
  {
    "text": "you can go to learn about this um so",
    "start": "110240",
    "end": "115439"
  },
  {
    "text": "let's talk a little bit about wep how it works and how it fails to do what",
    "start": "115439",
    "end": "121280"
  },
  {
    "text": "people or what the designers were thinking that it might do wep uses rc4 so do we all know rc4 here",
    "start": "121280",
    "end": "129360"
  },
  {
    "text": "i think we can safely say that um so there's a shared access key between i'm going to stand up on the",
    "start": "129360",
    "end": "135840"
  },
  {
    "text": "stage before i trip over this wire between the access point and all of the",
    "start": "135840",
    "end": "141040"
  },
  {
    "text": "clients so this key is used to encrypt the traffic before it gets transmitted right just normal type stuff check the",
    "start": "141040",
    "end": "146879"
  },
  {
    "text": "integrity of it after it gets transmitted um rc4 is a stream cipher so you take your",
    "start": "146879",
    "end": "154400"
  },
  {
    "text": "key and you xor it against the plain text and you get your cypher text how many of you have ever heard someone",
    "start": "154400",
    "end": "160480"
  },
  {
    "text": "say well what if we double xored it to get double encryption what happens if you double x or",
    "start": "160480",
    "end": "166080"
  },
  {
    "text": "something you get to something right yeah okay um and then you go the other direction",
    "start": "166080",
    "end": "172640"
  },
  {
    "text": "take the ciphertext extort with the key and you get the plaintext back out there are some common attacks against",
    "start": "172640",
    "end": "180560"
  },
  {
    "text": "wepp's implementation of rc4 that just pretty much make it useless",
    "start": "180560",
    "end": "186879"
  },
  {
    "text": "remember that encryption does not mean integrity",
    "start": "186879",
    "end": "193120"
  },
  {
    "text": "does everybody agree with that okay encryption is not integrity",
    "start": "193120",
    "end": "199360"
  },
  {
    "text": "if you have a cipher text and you bit you flip bit 17 from a one to a zero",
    "start": "199360",
    "end": "205120"
  },
  {
    "text": "right whatever you're going to flip bit 17 in the plain text too",
    "start": "205120",
    "end": "211360"
  },
  {
    "text": "so this gives us maybe something that we can use to kind of start to force the",
    "start": "211360",
    "end": "217920"
  },
  {
    "text": "key back out or derive plaintext from a ciphertext if we know the pattern of the bits",
    "start": "217920",
    "end": "224879"
  },
  {
    "text": "in the plain text right so there's a lot of kinds of attacks that you can do against something like",
    "start": "224879",
    "end": "230000"
  },
  {
    "text": "this if you know bit positions and when you think about an ip stream and if you you get a packet that's got like",
    "start": "230000",
    "end": "236879"
  },
  {
    "text": "an encrypted ip header in it you know what's going to be at bytes 10 and byte 20 right you know what that pattern is",
    "start": "236879",
    "end": "242879"
  },
  {
    "text": "going to look like so you can start to just perform some statistical analysis against the traffic and and",
    "start": "242879",
    "end": "250400"
  },
  {
    "text": "take good guesses at what you think the keys or the plaintext might be",
    "start": "250400",
    "end": "255840"
  },
  {
    "text": "um so wep has some defenses against these kinds of attacks",
    "start": "256320",
    "end": "262560"
  },
  {
    "text": "one of them is this thing called an integrity check field so it's a crt",
    "start": "262560",
    "end": "267840"
  },
  {
    "text": "checksum that is added as part of the encrypted payload but this checksum is",
    "start": "267840",
    "end": "273199"
  },
  {
    "text": "not the checksum is not keyed okay there's no integrity check against the checksum itself and in a bit we're",
    "start": "273199",
    "end": "279600"
  },
  {
    "text": "going to see why that's a problem so the ic field itself it can be subject to",
    "start": "279600",
    "end": "286160"
  },
  {
    "text": "bit flipping attacks right so we can now start to maybe force this thing out",
    "start": "286160",
    "end": "291680"
  },
  {
    "text": "um so we say okay that's not enough let's add an initialization vector so we have",
    "start": "291680",
    "end": "297360"
  },
  {
    "text": "this key we're going to make it a little bit stronger by adding an iv to it",
    "start": "297360",
    "end": "302638"
  },
  {
    "text": "the problem is that it isn't big enough okay",
    "start": "304479",
    "end": "309520"
  },
  {
    "text": "say an access point is sending out 1500 byte packets at 11 megabits per second",
    "start": "309520",
    "end": "315280"
  },
  {
    "text": "which is you know what an access point does right because it's only a 24 bit field",
    "start": "315280",
    "end": "322560"
  },
  {
    "text": "you can exhaust the entire key space in five hours here so that's like what between breakfast",
    "start": "322560",
    "end": "330000"
  },
  {
    "text": "and lunch it's not not even a challenging thing to do if the packets are smaller if your",
    "start": "330000",
    "end": "336080"
  },
  {
    "text": "network has a low mtu somewhere you know these are going to be what maybe 576 byte packets now instead of 1500.",
    "start": "336080",
    "end": "344000"
  },
  {
    "text": "so not only that but some of some wired wireless interface cards",
    "start": "344000",
    "end": "351199"
  },
  {
    "text": "don't implement the iv right they'll set it to zero every time the card is",
    "start": "351199",
    "end": "356320"
  },
  {
    "text": "initialized or when you wander from access point to access point um",
    "start": "356320",
    "end": "361600"
  },
  {
    "text": "a lot of cards don't randomly increment these things it's just incremented by one now what was the problem with uh",
    "start": "361600",
    "end": "368800"
  },
  {
    "text": "tcp initially with sequence numbers right not being predictable increment by one oh we can very easily predict",
    "start": "368800",
    "end": "374880"
  },
  {
    "text": "packets right same issue here doesn't anybody learn from history but the biggest thing that i",
    "start": "374880",
    "end": "381280"
  },
  {
    "text": "think is really weird is that 802.11 does not even mandate that using an iv",
    "start": "381280",
    "end": "387039"
  },
  {
    "text": "is a requirement so a lot of the cheap you know home rf type stuff well that",
    "start": "387039",
    "end": "394960"
  },
  {
    "text": "was actually a standard wasn't it home wireless gear that's that's targeted to home",
    "start": "394960",
    "end": "400080"
  },
  {
    "text": "users doesn't use this so what are some other kinds of attacks",
    "start": "400080",
    "end": "405520"
  },
  {
    "text": "that that we can perform well since the iv is small",
    "start": "405520",
    "end": "411759"
  },
  {
    "text": "and it's got no way to protect against um reuse of that thing",
    "start": "411759",
    "end": "417039"
  },
  {
    "text": "um we just opened up rc4 to all kinds of vulnerability it's got all kinds of",
    "start": "417039",
    "end": "422400"
  },
  {
    "text": "vulnerabilities that can be very easily exploited um",
    "start": "422400",
    "end": "427440"
  },
  {
    "text": "some of this you know it may not make sense if you don't really understand cryptography and math and i'll admit that that's something i'm still trying",
    "start": "427440",
    "end": "433840"
  },
  {
    "text": "to pick up onto you know how does the algorithm really work i think that's kind of a fascinating thing",
    "start": "433840",
    "end": "440560"
  },
  {
    "text": "but a lot of these attack classes are documented in that paper that was on the first slide that pointed to problems",
    "start": "443440",
    "end": "450160"
  },
  {
    "text": "with wep um a couple other things all of these classes of attacks by the",
    "start": "450160",
    "end": "456319"
  },
  {
    "text": "way we're going to be fixing with the security protocols i'm going to explain in a little bit um",
    "start": "456319",
    "end": "462240"
  },
  {
    "text": "it's uh pretty easy with 24 gigabits gigabytes of storage",
    "start": "462240",
    "end": "469520"
  },
  {
    "text": "space to construct a dictionary of all possible initialization vectors in key streams",
    "start": "469520",
    "end": "477280"
  },
  {
    "text": "so once you've captured this data and you can do this passively right you've all read about this kind of thing sitting in a parking lot with the",
    "start": "477280",
    "end": "483280"
  },
  {
    "text": "pringles can you know just grabbing data 24 gig is not a lot of data that comes",
    "start": "483280",
    "end": "488639"
  },
  {
    "text": "from a large organization that has all 100 buildings with wireless access points all over the place um that you",
    "start": "488639",
    "end": "494800"
  },
  {
    "text": "know might be sitting in a lush pine tree campus on the other side of the lake um so you know there's a lot of problems",
    "start": "494800",
    "end": "502000"
  },
  {
    "text": "here i keep saying that just because we got to fix this so last slide here for those of you who are interested in",
    "start": "502000",
    "end": "508319"
  },
  {
    "text": "problems go to some of these urls and download some of these attack",
    "start": "508319",
    "end": "514240"
  },
  {
    "text": "tools they're pretty cool so what do we need to do to get around",
    "start": "514240",
    "end": "519279"
  },
  {
    "text": "the problem of the web suckage here fundamentally we've got to do what's in",
    "start": "519279",
    "end": "525120"
  },
  {
    "text": "the green is that we want to generate new keys",
    "start": "525120",
    "end": "530160"
  },
  {
    "text": "periodically not just the initialization vector it doesn't provide enough of a key space",
    "start": "530160",
    "end": "535279"
  },
  {
    "text": "by just generating new ivs another thing that would be nice to do",
    "start": "535279",
    "end": "540480"
  },
  {
    "text": "is to have separate keys for each client how does it work now",
    "start": "540480",
    "end": "545839"
  },
  {
    "text": "you take this web key and you put it in the access point and you put it in every client that's talking to the access point right and as we talked about",
    "start": "545839",
    "end": "552480"
  },
  {
    "text": "yesterday with ipsec and shared secrets what's the problem with the shared secret we don't remain secret for very long",
    "start": "552480",
    "end": "561399"
  },
  {
    "text": "some other some other problems that we want to solve um",
    "start": "562399",
    "end": "567920"
  },
  {
    "text": "there's no concept in wep of mutual authentication",
    "start": "568399",
    "end": "574080"
  },
  {
    "text": "the the the access point you know doesn't really know who i am it i'm just",
    "start": "574080",
    "end": "579519"
  },
  {
    "text": "possessing this key right and i'm certainly not doing anything to authenticate the access point or the",
    "start": "579519",
    "end": "585120"
  },
  {
    "text": "authenticator the um you know the database behind the access",
    "start": "585120",
    "end": "590480"
  },
  {
    "text": "point that has the list of allowed users so it would be nice if there was a way",
    "start": "590480",
    "end": "595760"
  },
  {
    "text": "in the authentication protocol for me to authenticate the server side just like we do with ssl",
    "start": "595760",
    "end": "601200"
  },
  {
    "text": "i'm authenticating the server side",
    "start": "601200",
    "end": "605399"
  },
  {
    "text": "it's extremely easy to force another client off the lan because 802.11 association",
    "start": "606320",
    "end": "613680"
  },
  {
    "text": "and disassociation messages are not protected so you can just send a disassociation",
    "start": "613680",
    "end": "619519"
  },
  {
    "text": "message to a client and it goes off the land um and then finally",
    "start": "619519",
    "end": "625680"
  },
  {
    "text": "we don't have a way with wep to stop people from gathering useful information when they monitor right of course you",
    "start": "625680",
    "end": "632480"
  },
  {
    "text": "can always grab it it's always going to be in the air but what can we do to maybe make it really hard or even",
    "start": "632480",
    "end": "639200"
  },
  {
    "text": "impossible for someone to make sense out of what they have captured with their pringles can antenna",
    "start": "639200",
    "end": "647160"
  },
  {
    "text": "802.1x is the um is the answer right now okay there's a",
    "start": "647160",
    "end": "653360"
  },
  {
    "text": "lot of work going on to have an even better thing that's maybe more specifically suited for wireless",
    "start": "653360",
    "end": "661440"
  },
  {
    "text": "but it turns out that this port-based access control mechanism defined by the ieee called",
    "start": "661440",
    "end": "667680"
  },
  {
    "text": "802.1x works really really well for wireless originally it was intended for wire to",
    "start": "667680",
    "end": "673920"
  },
  {
    "text": "land connections you know you plug a network plug your lan cable into the socket if you don't",
    "start": "673920",
    "end": "679519"
  },
  {
    "text": "do 802.1x you don't talk to the switch same thing we don't do 802.1x we don't talk to the access point",
    "start": "679519",
    "end": "686560"
  },
  {
    "text": "um no special requirements on your wireless interface card it'll pretty much work",
    "start": "686560",
    "end": "692560"
  },
  {
    "text": "with any wireless interface card but you do need um 802.1x support in the access point",
    "start": "692560",
    "end": "700320"
  },
  {
    "text": "so your 89 netgear access point doesn't do it or at least mine 89 netgear access",
    "start": "700320",
    "end": "705440"
  },
  {
    "text": "point doesn't do it so what do i do at home i change my web key about every week or so",
    "start": "705440",
    "end": "711680"
  },
  {
    "text": "um you can 802.1x allows you to specify a variety",
    "start": "711680",
    "end": "718000"
  },
  {
    "text": "of authentication methods inside this thing called eep we're going to delve into eep a little bit later",
    "start": "718000",
    "end": "723519"
  },
  {
    "text": "and you don't need to manage these keys anymore one really cool feature of this is that",
    "start": "723519",
    "end": "729839"
  },
  {
    "text": "key generation and distribution is suddenly taken out of your life and handed to an electronic device that can",
    "start": "729839",
    "end": "736320"
  },
  {
    "text": "do it much better than you can is 802.1x yeah questions",
    "start": "736320",
    "end": "744440"
  },
  {
    "text": "so the question is we've cracked a web key okay is it possible by",
    "start": "753920",
    "end": "760800"
  },
  {
    "text": "possessing this key to then set up a rogue access point",
    "start": "760800",
    "end": "766720"
  },
  {
    "text": "um and yes that is an entirely possible scenario if you don't have 802.1x",
    "start": "766720",
    "end": "772079"
  },
  {
    "text": "because the client is not authenticating the access point or the authentication server right so it won't though",
    "start": "772079",
    "end": "780000"
  },
  {
    "text": "yeah yeah i've not i've not seen anything like",
    "start": "791519",
    "end": "796720"
  },
  {
    "text": "that actually happen but you know standing up here in front of a crowd of 90 people i'm not imagining anything",
    "start": "796720",
    "end": "801760"
  },
  {
    "text": "right away that would say you can't do that right so i mean it sounds like a legitimate attack you know some access points let you set up uh you know",
    "start": "801760",
    "end": "808959"
  },
  {
    "text": "configure mac access list right you know i'm only going to allow these wireless mac addresses well you know mac",
    "start": "808959",
    "end": "815519"
  },
  {
    "text": "addresses are spoofable but how many of you would like for the rest",
    "start": "815519",
    "end": "821440"
  },
  {
    "text": "of your life to do nothing but manage the mac access table in your wireless",
    "start": "821440",
    "end": "827120"
  },
  {
    "text": "access points around your corporation this is the reason why we have dhcp now",
    "start": "827120",
    "end": "832399"
  },
  {
    "text": "right because managing ip addresses was bad so a yeah your scenario is is perfectly",
    "start": "832399",
    "end": "838480"
  },
  {
    "text": "plausible but with the 802.1x and the eap tls and peep goes away",
    "start": "838480",
    "end": "845760"
  },
  {
    "text": "oh okay oh you want to do that you want to manage mac okay so this gentleman is for",
    "start": "845760",
    "end": "851040"
  },
  {
    "text": "hire he will manage your ip address list and your mac address list for you",
    "start": "851040",
    "end": "857839"
  },
  {
    "text": "um so we do solve some things with 802.1x okay",
    "start": "858160",
    "end": "864079"
  },
  {
    "text": "we can't get the key now right because we have a ton of different keys",
    "start": "864079",
    "end": "869920"
  },
  {
    "text": "we are eliminating the conditions under which someone can establish a rogue access point and",
    "start": "869920",
    "end": "876399"
  },
  {
    "text": "actually that's really not so much the ap the ap is a transparent device it's the authorization server behind the",
    "start": "876399",
    "end": "882560"
  },
  {
    "text": "access point that we can't bring a rogue radius server up for example",
    "start": "882560",
    "end": "888160"
  },
  {
    "text": "so we removed the man in the middle attack there was a paper",
    "start": "888160",
    "end": "893839"
  },
  {
    "text": "that came out some number of months ago claiming that 802.1x was insecure and that it did not",
    "start": "893839",
    "end": "900240"
  },
  {
    "text": "prevent man in the middle attacks there is a flaw in the paper because the paper is assuming that the client is not",
    "start": "900240",
    "end": "906560"
  },
  {
    "text": "authenticating the ap or the authorization server we do this",
    "start": "906560",
    "end": "911680"
  },
  {
    "text": "it is a requirement of our implementation of 802.1x that mutual authentication occur and when that",
    "start": "911680",
    "end": "917360"
  },
  {
    "text": "happens which also happens with cisco leap by the way when you have mutual authentication the",
    "start": "917360",
    "end": "923199"
  },
  {
    "text": "man in the middle attack the traditional man in the middle attack over 802.11 is",
    "start": "923199",
    "end": "928399"
  },
  {
    "text": "not possible um we're solving the unauthorized access problem because we're going to be",
    "start": "928399",
    "end": "934800"
  },
  {
    "text": "authenticating both users and computers you'll see that in a little bit but we",
    "start": "934800",
    "end": "940240"
  },
  {
    "text": "haven't solved the problem of just injecting a disassociation packet",
    "start": "940240",
    "end": "945519"
  },
  {
    "text": "onto the network and kicking a client off lan right because remember the association",
    "start": "945519",
    "end": "950560"
  },
  {
    "text": "disassociation messages are not encrypted they're not authenticated so you you could still kick somebody off",
    "start": "950560",
    "end": "957360"
  },
  {
    "text": "the network the the actual replacement for wep will",
    "start": "957360",
    "end": "962399"
  },
  {
    "text": "take care of that problem",
    "start": "962399",
    "end": "966120"
  },
  {
    "text": "so let's clarify a little bit of terminology this is probably not um an issue for",
    "start": "968880",
    "end": "974399"
  },
  {
    "text": "the people here in this room but sometimes it is so i throw this slide in 802.11 is the specification for",
    "start": "974399",
    "end": "982240"
  },
  {
    "text": "over-the-air wireless networks alright 802.1x is a physical layer independent",
    "start": "982240",
    "end": "989440"
  },
  {
    "text": "specification for port-based access control makes a lot of sense to combine them",
    "start": "989440",
    "end": "994959"
  },
  {
    "text": "there is no such thing as 802.11x i've seen people use this phrase there",
    "start": "994959",
    "end": "1000240"
  },
  {
    "text": "there is no such thing and i've also seen people say oh well i'm not using 802.11 i'm using 802.1x",
    "start": "1000240",
    "end": "1007519"
  },
  {
    "text": "instead okay so what do you what's your air interface right yeah they're still using",
    "start": "1007519",
    "end": "1013440"
  },
  {
    "text": "802.11. um 802.11i is the forthcoming replacement for",
    "start": "1013440",
    "end": "1020959"
  },
  {
    "text": "um wep so 802.11i kind of combines some cool stuff in one x along with um an interim",
    "start": "1020959",
    "end": "1029438"
  },
  {
    "text": "replacement for wep which um i'm right now forgetting what it was called",
    "start": "1029439",
    "end": "1034798"
  },
  {
    "text": "um but this is what the ieee is working on as the actual official replacement",
    "start": "1034799",
    "end": "1042240"
  },
  {
    "text": "so how does 802.1x over 802.11 work",
    "start": "1044480",
    "end": "1050080"
  },
  {
    "text": "so there's three elements here so here's some terminology for you the supplicant is the client that's the laptop with the",
    "start": "1050080",
    "end": "1056559"
  },
  {
    "text": "uh wic right the authenticator is the access point and the authentication server is the um",
    "start": "1056559",
    "end": "1065440"
  },
  {
    "text": "is radius so before we can",
    "start": "1065440",
    "end": "1071120"
  },
  {
    "text": "do anything that has to do with 802.1x we have to perform the 802.11 authenticate um association so we're",
    "start": "1071120",
    "end": "1078720"
  },
  {
    "text": "actually associating the 80211 completely before we're doing any",
    "start": "1078720",
    "end": "1084720"
  },
  {
    "text": "authentication or authorization now you might immediately start to think oh that's bad i don't want to do that well in a couple slides i'll show you how",
    "start": "1084720",
    "end": "1091919"
  },
  {
    "text": "communications are being blocked from the supplicant when this happens",
    "start": "1091919",
    "end": "1098320"
  },
  {
    "text": "then we start using eep extended access extended authentication protocol over",
    "start": "1098320",
    "end": "1104640"
  },
  {
    "text": "lan so eep over lan the eporland start message goes from the client to the authenticator",
    "start": "1104640",
    "end": "1110400"
  },
  {
    "text": "the authenticator sends a notice back it says hey you know tell me who you are",
    "start": "1110400",
    "end": "1117039"
  },
  {
    "text": "the supplicant sends a response to the authenticator the authenticator then sticks that",
    "start": "1117039",
    "end": "1122960"
  },
  {
    "text": "inside radius and sends that over to the radius server the radius server then sends a challenge",
    "start": "1122960",
    "end": "1129760"
  },
  {
    "text": "back which the authenticator sends to the supplicant as an eep",
    "start": "1129760",
    "end": "1134840"
  },
  {
    "text": "request the supplicant sends a set of credentials back so this could be a",
    "start": "1134840",
    "end": "1140320"
  },
  {
    "text": "variety of things right this all depends on what particular authentication method you've decided to",
    "start": "1140320",
    "end": "1147360"
  },
  {
    "text": "allow inside eep eep is a framework",
    "start": "1147360",
    "end": "1152559"
  },
  {
    "text": "for carrying authentication messages back and forth it is not an authentication protocol",
    "start": "1152559",
    "end": "1157600"
  },
  {
    "text": "itself so the credentials are coming back the authenticator then sticks those",
    "start": "1157600",
    "end": "1163440"
  },
  {
    "text": "inside radius sends them to the radius server the radius server sends back and access accept or reject if the",
    "start": "1163440",
    "end": "1169760"
  },
  {
    "text": "credentials are bad authenticator then sends a success to the supplicant and then finally",
    "start": "1169760",
    "end": "1177360"
  },
  {
    "text": "the authenticator sends the web key to the client so here's how we're getting this per",
    "start": "1177360",
    "end": "1183760"
  },
  {
    "text": "client key requirement solved right we don't give the key back to the client until authentication has succeeded so",
    "start": "1183760",
    "end": "1190799"
  },
  {
    "text": "yes while we have an 802.11 association done we don't have an 802.1x association done",
    "start": "1190799",
    "end": "1198799"
  },
  {
    "text": "until the key comes back and only after the key comes back can the supplicant",
    "start": "1198799",
    "end": "1204080"
  },
  {
    "text": "pass through the authenticator the access point and get to the network behind",
    "start": "1204080",
    "end": "1210400"
  },
  {
    "text": "so remember we need to talk to the ap right we've got to get an ip address so we can",
    "start": "1211600",
    "end": "1217360"
  },
  {
    "text": "do this therefore you are configuring your access points for open authentication",
    "start": "1217360",
    "end": "1223280"
  },
  {
    "text": "you're not going to use shared authentication anymore where you're programming a key into the ap well you",
    "start": "1223280",
    "end": "1228880"
  },
  {
    "text": "still do put a key in there but it's not for what you think it's for access beyond the access point is",
    "start": "1228880",
    "end": "1235039"
  },
  {
    "text": "prohibited until the authentication succeeds like you saw at the very bottom of the previous slide",
    "start": "1235039",
    "end": "1241520"
  },
  {
    "text": "once the key comes through then access beyond the ap is allowed",
    "start": "1241520",
    "end": "1246960"
  },
  {
    "text": "the security conversation is between the supplicant and the radius server remember that okay the wireless nick and",
    "start": "1246960",
    "end": "1253760"
  },
  {
    "text": "the access point are just they're purely pass-through devices here",
    "start": "1253760",
    "end": "1258879"
  },
  {
    "text": "so before authentication occurs",
    "start": "1259600",
    "end": "1265280"
  },
  {
    "text": "the authenticator often all access points are going to have two virtual ports now this is a",
    "start": "1266159",
    "end": "1271919"
  },
  {
    "text": "single physical ethernet port on the thing okay but it's treated by the software as two virtual ports",
    "start": "1271919",
    "end": "1279679"
  },
  {
    "text": "the control port is the one that allows traffic from",
    "start": "1279679",
    "end": "1284720"
  },
  {
    "text": "clients to get to the land behind the ap the con the uncontrolled port is what",
    "start": "1284720",
    "end": "1291679"
  },
  {
    "text": "the access point itself uses when it needs to talk to the radius server",
    "start": "1291679",
    "end": "1296799"
  },
  {
    "text": "so before a client has authenticated the state of the authenticator is like this",
    "start": "1296799",
    "end": "1302799"
  },
  {
    "text": "traffic from the supplicant cannot pass through the ap but traffic from the ap itself is",
    "start": "1302799",
    "end": "1309919"
  },
  {
    "text": "allowed to go through otherwise how could the access point talk to the radius server",
    "start": "1309919",
    "end": "1315600"
  },
  {
    "text": "once authentication succeeds then the control port transitions to a closed",
    "start": "1316880",
    "end": "1322960"
  },
  {
    "text": "state so that traffic from the client can pass through to the land",
    "start": "1322960",
    "end": "1328960"
  },
  {
    "text": "this uh some people like state machines so that is the purpose of this slide here it's just another way of thinking about the",
    "start": "1330400",
    "end": "1336880"
  },
  {
    "text": "same process so the initial state of a wireless client is that 802.11 is",
    "start": "1336880",
    "end": "1343679"
  },
  {
    "text": "unauthenticated and unassociated so this notion of these are the kinds of",
    "start": "1343679",
    "end": "1348880"
  },
  {
    "text": "wireless frames that the client can use to talk to any device right only class",
    "start": "1348880",
    "end": "1354720"
  },
  {
    "text": "one frames are allowed in or out here with once we do a successful open",
    "start": "1354720",
    "end": "1359919"
  },
  {
    "text": "authentication which for 802.11 is simply hi i'm here and and the ap says okay i see you",
    "start": "1359919",
    "end": "1368240"
  },
  {
    "text": "802.11 has authenticated but we're still not associated yet right so",
    "start": "1368240",
    "end": "1374400"
  },
  {
    "text": "now we can have class 1 and class 2 frames coming from the client once we successfully associate or",
    "start": "1374400",
    "end": "1381440"
  },
  {
    "text": "reassociate if we've roamed to some other ap somewhere we are now 802.11 authenticated and we",
    "start": "1381440",
    "end": "1388720"
  },
  {
    "text": "are associated but we're still not actually doing any traffic yet because we haven't done",
    "start": "1388720",
    "end": "1394320"
  },
  {
    "text": "anything with 802.1x yet so class 1 2 and 3 frames are allowed in",
    "start": "1394320",
    "end": "1400880"
  },
  {
    "text": "now once we have performed a successful 802.1x",
    "start": "1400880",
    "end": "1406640"
  },
  {
    "text": "authentication we're at the end state 802.11 authenticated and associated and",
    "start": "1406640",
    "end": "1412880"
  },
  {
    "text": "802.1x authenticated we're done",
    "start": "1412880",
    "end": "1418799"
  },
  {
    "text": "so uh you know we've disconnected the the wireless nick or someone you know",
    "start": "1418799",
    "end": "1424799"
  },
  {
    "text": "sent us a an a non nice disassociate message so the",
    "start": "1424799",
    "end": "1430080"
  },
  {
    "text": "client sends an eep overland logoff message to the authenticator a disassociation notification then goes",
    "start": "1430080",
    "end": "1438000"
  },
  {
    "text": "to two different states same time so we're back to",
    "start": "1438000",
    "end": "1443440"
  },
  {
    "text": "state number one so that that's how many of you have seen tcp state machines",
    "start": "1443440",
    "end": "1450240"
  },
  {
    "text": "okay a couple of you so you know you'll understand this kind of diagram then then finally uh to move from state two",
    "start": "1450240",
    "end": "1456320"
  },
  {
    "text": "to state one we issue a de-authentication to the ap",
    "start": "1456320",
    "end": "1462080"
  },
  {
    "text": "now about the keys one of the requirements remember was that we wanted per",
    "start": "1462720",
    "end": "1468240"
  },
  {
    "text": "user or per station keys the client and the radius server",
    "start": "1468240",
    "end": "1474240"
  },
  {
    "text": "generate per user session web keys these keys themselves are never sent",
    "start": "1474240",
    "end": "1480240"
  },
  {
    "text": "over the air the radius server sends the key to the",
    "start": "1480240",
    "end": "1485520"
  },
  {
    "text": "access point which is encrypted with the radius shared secret right now the access point has a global web",
    "start": "1485520",
    "end": "1493039"
  },
  {
    "text": "key you still program a web key in the access point when you're using 802.1x",
    "start": "1493039",
    "end": "1499440"
  },
  {
    "text": "and this is used when the access point is authenticating itself to the client",
    "start": "1499440",
    "end": "1505279"
  },
  {
    "text": "and it's sent in the eap over wan key message and that is encrypted with the session key that the radius server",
    "start": "1505279",
    "end": "1510320"
  },
  {
    "text": "generated session keys will get regenerated automatically under two different",
    "start": "1510320",
    "end": "1516480"
  },
  {
    "text": "conditions um when the key time is exceeded and our default is 60 minutes with our radius",
    "start": "1516480",
    "end": "1522400"
  },
  {
    "text": "server that's configurable or if the client roams to a new access point so if you're on this side of the",
    "start": "1522400",
    "end": "1527760"
  },
  {
    "text": "building over here and you came over here say they had 80.1 x set up at black hat then you'd get a new key because",
    "start": "1527760",
    "end": "1533840"
  },
  {
    "text": "you're going to be on a new ap over here any questions on any of this so far",
    "start": "1533840",
    "end": "1540159"
  },
  {
    "text": "before we get into some of the meat of um of eep itself yeah go ahead",
    "start": "1540159",
    "end": "1546799"
  },
  {
    "text": "you program a web key in the ap yes",
    "start": "1550880",
    "end": "1555640"
  },
  {
    "text": "nope nope this is a this um this is something that 802.1x does right okay",
    "start": "1558559",
    "end": "1565200"
  },
  {
    "text": "um that key that the access point has",
    "start": "1565200",
    "end": "1571760"
  },
  {
    "text": "is used when the access point when the radius server right wants to",
    "start": "1571760",
    "end": "1576960"
  },
  {
    "text": "authenticate itself to the client that happens first",
    "start": "1576960",
    "end": "1582080"
  },
  {
    "text": "then after the client says okay i believe you i trust that you're a good access point and you're a good radius",
    "start": "1582400",
    "end": "1587760"
  },
  {
    "text": "server then the client authenticates itself to the server right so the client doesn't have a key yet",
    "start": "1587760",
    "end": "1594960"
  },
  {
    "text": "the servers the server uses this key to authenticate itself to the client the",
    "start": "1594960",
    "end": "1600320"
  },
  {
    "text": "client then when it wants to authenticate to the server will after that authentication succeeds",
    "start": "1600320",
    "end": "1606480"
  },
  {
    "text": "the radius server generates a per station key this is the key that then gets sent to the client that's used for",
    "start": "1606480",
    "end": "1611919"
  },
  {
    "text": "encrypting all the traffic afterward yeah that was kind of a difficult thing for me to wrap my brain around initially too",
    "start": "1611919",
    "end": "1618080"
  },
  {
    "text": "so it it's it's now now the now the key in the ap is performing a different",
    "start": "1618080",
    "end": "1624080"
  },
  {
    "text": "function than it did before",
    "start": "1624080",
    "end": "1627840"
  },
  {
    "text": "yep",
    "start": "1629520",
    "end": "1631760"
  },
  {
    "text": "okay um the question was the user authentication credentials how are they encrypted i'm actually going to talk",
    "start": "1635840",
    "end": "1641679"
  },
  {
    "text": "about that in a little bit okay so we'll get there was that your question yeah yeah we'll talk about how the user",
    "start": "1641679",
    "end": "1648559"
  },
  {
    "text": "credentials themselves are protected in a little bit",
    "start": "1648559",
    "end": "1653880"
  },
  {
    "text": "so let's let's talk about eep a bit more um so that you can understand",
    "start": "1655600",
    "end": "1662240"
  },
  {
    "text": "credential protection you need to understand what eep is eep is a",
    "start": "1662240",
    "end": "1668559"
  },
  {
    "text": "extensible authentication protocol and it's just a framework for building",
    "start": "1668559",
    "end": "1674080"
  },
  {
    "text": "an authentication mechanism right um eep itself has no security built in",
    "start": "1674080",
    "end": "1681200"
  },
  {
    "text": "it's just a way that two peers can specify a particular authentication protocol",
    "start": "1681200",
    "end": "1687760"
  },
  {
    "text": "that they both want to use so you know if if i've got a suite of protocols and you have a suite of",
    "start": "1687760",
    "end": "1693120"
  },
  {
    "text": "protocols you know we're going to offer right you know i can do a and b you know what can you do and oh you can do b and",
    "start": "1693120",
    "end": "1699039"
  },
  {
    "text": "c all right so we'll use b right",
    "start": "1699039",
    "end": "1702720"
  },
  {
    "text": "for mutual authentication now you could put a lot of authentication methods inside eat but one of our requirements",
    "start": "1704559",
    "end": "1710720"
  },
  {
    "text": "is mutual authentication so that limits the number of methods that we can select from for wireless",
    "start": "1710720",
    "end": "1718559"
  },
  {
    "text": "um and and this is you know even more for wireless we don't even use this many but",
    "start": "1718559",
    "end": "1724080"
  },
  {
    "text": "mutual authentication we use tls right certificates um you can use ike could conceivably use kerberos if you",
    "start": "1724080",
    "end": "1730559"
  },
  {
    "text": "wanted to although i've never seen an eep kerberos implementation",
    "start": "1730559",
    "end": "1736240"
  },
  {
    "text": "or there's this interesting thing called peep protected eep you'll see why that becomes important in",
    "start": "1736240",
    "end": "1742320"
  },
  {
    "text": "just a minute um in windows",
    "start": "1742320",
    "end": "1747679"
  },
  {
    "text": "we specifically disallow eep md5",
    "start": "1747679",
    "end": "1752720"
  },
  {
    "text": "you know md5 is in is an allowed authentication method for eep for vpns",
    "start": "1752720",
    "end": "1759919"
  },
  {
    "text": "we don't let that we don't even let you pick that when you're selecting for wireless because",
    "start": "1759919",
    "end": "1766720"
  },
  {
    "text": "md5 lacks the capabilities to create an encrypted session between the supplicant",
    "start": "1766720",
    "end": "1771919"
  },
  {
    "text": "and the authenticator it also doesn't give us the ability to do mutual authentication",
    "start": "1771919",
    "end": "1778320"
  },
  {
    "text": "and it would open up this system to man in the middle attacks and that's one of the things that we're trying to eliminate here",
    "start": "1778320",
    "end": "1785039"
  },
  {
    "text": "so in windows xp in the initial release of the software the only eep method we had for wireless",
    "start": "1785360",
    "end": "1791919"
  },
  {
    "text": "was eep which required certificates um we thought yeah you know this is",
    "start": "1791919",
    "end": "1797919"
  },
  {
    "text": "going to be great um you know the world is ready to move to search right because we all know that",
    "start": "1797919",
    "end": "1803120"
  },
  {
    "text": "passwords what say it with me suck well guess what you know a lot of people",
    "start": "1803120",
    "end": "1809200"
  },
  {
    "text": "still have to use passwords for things um so in service pack one we've added",
    "start": "1809200",
    "end": "1816559"
  },
  {
    "text": "support for another eep method called protected eep that lets us put credentials",
    "start": "1816559",
    "end": "1822399"
  },
  {
    "text": "in a protected tunnel well channel between the client and the authenticator",
    "start": "1822399",
    "end": "1829600"
  },
  {
    "text": "and this has become a really big deal for a lot of my customers lately anyway because they're just not ready to move to a pki yet but they want to do",
    "start": "1829600",
    "end": "1836159"
  },
  {
    "text": "wireless and they don't like web so",
    "start": "1836159",
    "end": "1842240"
  },
  {
    "text": "if you think of eep as being a framework that lets you specify",
    "start": "1842240",
    "end": "1847360"
  },
  {
    "text": "an authentication method inside of it peep is",
    "start": "1847360",
    "end": "1852640"
  },
  {
    "text": "kind of a wrapper it's it's sort of an authentication method that lets you then specify more",
    "start": "1852640",
    "end": "1858000"
  },
  {
    "text": "authentication methods inside that don't directly talk to eep you saw we had eep tls right if you",
    "start": "1858000",
    "end": "1864559"
  },
  {
    "text": "wanted to do kerberos over eep you would have to write some kind of an interface called eep kerberos for example",
    "start": "1864559",
    "end": "1871600"
  },
  {
    "text": "the point of protected eep is that you don't need to write an interface between your favorite authentication protocol",
    "start": "1871600",
    "end": "1878640"
  },
  {
    "text": "and eep now you can just stick it inside peep and it will get used",
    "start": "1878640",
    "end": "1884480"
  },
  {
    "text": "um for wireless our protected eep implementation allows ms chap v2 so this",
    "start": "1884480",
    "end": "1891120"
  },
  {
    "text": "is passwords right and then we're also actually allowing you to do tls inside peep as well",
    "start": "1891120",
    "end": "1898240"
  },
  {
    "text": "because it's just an easy thing to do that way you don't have to run two authentication methods at the same time",
    "start": "1898240",
    "end": "1904080"
  },
  {
    "text": "you can just run peep and then you can use either passwords or certificates it is also possible but it's not",
    "start": "1904080",
    "end": "1909919"
  },
  {
    "text": "something that we've tested yet so we don't support it is the idea of running a secure id",
    "start": "1909919",
    "end": "1916000"
  },
  {
    "text": "inside protected eep so i kind of alluded to this a little",
    "start": "1916000",
    "end": "1922960"
  },
  {
    "text": "bit is that eep will run over any media layer hey it's a powerpoint man it's got to have animations right",
    "start": "1922960",
    "end": "1930080"
  },
  {
    "text": "um the method layer then lays in lays on top of eep and then if you're using",
    "start": "1930080",
    "end": "1935200"
  },
  {
    "text": "protected eep you you can pick from those additional methods that run inside it but really you know you could run any",
    "start": "1935200",
    "end": "1942080"
  },
  {
    "text": "authentication method you want over protected eep except for of course md5 which we",
    "start": "1942080",
    "end": "1949120"
  },
  {
    "text": "specifically disallow for the reasons i mentioned earlier so",
    "start": "1949120",
    "end": "1954880"
  },
  {
    "text": "now that you understand problems with wep do you understand 802.1x and you understand eep and",
    "start": "1954880",
    "end": "1962799"
  },
  {
    "text": "protected eep i just want to check any more questions before we go on to how this actually",
    "start": "1962799",
    "end": "1968000"
  },
  {
    "text": "works on windows all right",
    "start": "1968000",
    "end": "1972399"
  },
  {
    "text": "so let's let's lay the requirements out again this is what we need",
    "start": "1973360",
    "end": "1979518"
  },
  {
    "text": "mutual device authentication right we want the workstation and the authentication server to authenticate",
    "start": "1981039",
    "end": "1987120"
  },
  {
    "text": "themselves to each other this means we don't have to worry about rogue access points anymore prevents",
    "start": "1987120",
    "end": "1992799"
  },
  {
    "text": "man-in-the-middle attacks and it ensures that we're transferring the key to the correct entity",
    "start": "1992799",
    "end": "1998000"
  },
  {
    "text": "what if we weren't authenticating the client and there's no way to guarantee that third bullet right we don't know we're",
    "start": "1998000",
    "end": "2004480"
  },
  {
    "text": "sending the key to the right person what if we don't authenticate the server then the client doesn't know that it's",
    "start": "2004480",
    "end": "2010080"
  },
  {
    "text": "getting the key that it wants right you really need this we are actually going to be performing",
    "start": "2010080",
    "end": "2015600"
  },
  {
    "text": "user authentication too so that that helps us get past the uh",
    "start": "2015600",
    "end": "2022320"
  },
  {
    "text": "the unauthorized access problem a couple more security",
    "start": "2022320",
    "end": "2027519"
  },
  {
    "text": "security requirements is that we want these keys to be unique between each for each workstation and we want them to get",
    "start": "2027519",
    "end": "2033600"
  },
  {
    "text": "regenerated periodically and we want to be able to stop this packet or disassociation spoofing you'll see in",
    "start": "2033600",
    "end": "2040480"
  },
  {
    "text": "the end we can't do that last one yet",
    "start": "2040480",
    "end": "2044919"
  },
  {
    "text": "so um i'm just curious here and um you know i mean we've all known each",
    "start": "2046799",
    "end": "2052398"
  },
  {
    "text": "other for the last four days now so it's okay if there are things you don't know but how many of you",
    "start": "2052399",
    "end": "2057919"
  },
  {
    "text": "um how many of you already understand that when a domain member logs on there's actually two logons that occur",
    "start": "2057919",
    "end": "2064960"
  },
  {
    "text": "the computer and the user right the main computer has a computer account",
    "start": "2064960",
    "end": "2070638"
  },
  {
    "text": "a machine account and when the you don't actually see these accounts unless you go look at them in ad you",
    "start": "2070639",
    "end": "2076320"
  },
  {
    "text": "certainly don't see it on the client right password maintenance happens automatically when you turn the machine on",
    "start": "2076320",
    "end": "2082960"
  },
  {
    "text": "the one of the things that happens under the covers oh by the way you can actually uh you know you can make a",
    "start": "2082960",
    "end": "2088878"
  },
  {
    "text": "group policy setting so you can watch all this stuff occur uh so just start up an mmc right",
    "start": "2088879",
    "end": "2096320"
  },
  {
    "text": "and um let's see where is it i think this is kind of a fascinating thing i'll show you",
    "start": "2096320",
    "end": "2102760"
  },
  {
    "text": "group policy a local machine",
    "start": "2115359",
    "end": "2119279"
  },
  {
    "text": "which is one of these things that you do at the very very last minute you forget where it is right",
    "start": "2121280",
    "end": "2128200"
  },
  {
    "text": "okay so it's under um local computer policy computer configuration administrative templates",
    "start": "2131200",
    "end": "2137599"
  },
  {
    "text": "system verbose versus normal status messages",
    "start": "2137599",
    "end": "2145040"
  },
  {
    "text": "so change that from not defined to enabled and when you have the little dialogue is",
    "start": "2145040",
    "end": "2150240"
  },
  {
    "text": "telling you what your computer is doing as it starts it gives you a lot more information right so",
    "start": "2150240",
    "end": "2156000"
  },
  {
    "text": "before you see the box that says hit control all delta log on the computer has already logged onto the domain",
    "start": "2156000",
    "end": "2163119"
  },
  {
    "text": "that's how we apply computer policies uh startup scripts these kinds of things",
    "start": "2163119",
    "end": "2168640"
  },
  {
    "text": "that run in the context of the local computer",
    "start": "2168640",
    "end": "2173079"
  },
  {
    "text": "it looks just like a regular windows logon there's nothing different",
    "start": "2175680",
    "end": "2181200"
  },
  {
    "text": "with a computer log on so it can be a user id password domain credential right or it can be a",
    "start": "2181200",
    "end": "2186800"
  },
  {
    "text": "certificate maybe we can take advantage of this with",
    "start": "2186800",
    "end": "2192640"
  },
  {
    "text": "wireless and that's actually what we're doing we want to make a wireless logon",
    "start": "2192640",
    "end": "2198079"
  },
  {
    "text": "look just like a wired logon and our implementation of 802.1x will do that",
    "start": "2198079",
    "end": "2206800"
  },
  {
    "text": "so in in our peep the very first phase is a machine logon",
    "start": "2207280",
    "end": "2213119"
  },
  {
    "text": "so what happens well we get that you know the things we saw before right the 802.11 association authenticate the uh",
    "start": "2213119",
    "end": "2221040"
  },
  {
    "text": "the authentication server authenticate the computer transition that port for",
    "start": "2221040",
    "end": "2226160"
  },
  {
    "text": "the machine account from open to closed",
    "start": "2226160",
    "end": "2231838"
  },
  {
    "text": "so what that means is that only things that occur in context of the",
    "start": "2232320",
    "end": "2239520"
  },
  {
    "text": "machine account can communicate over the ap to the domain controller in the back you need that to happen right to process",
    "start": "2239520",
    "end": "2245680"
  },
  {
    "text": "log on scripts and computer policies stuff that happens in the context of any user account",
    "start": "2245680",
    "end": "2251599"
  },
  {
    "text": "won't be able to transit won't be able to go through that because the port is still open for the user",
    "start": "2251599",
    "end": "2257359"
  },
  {
    "text": "so the second phase then is the user log on where we authenticate the user and then again we sort of transition that",
    "start": "2257359",
    "end": "2263200"
  },
  {
    "text": "port a second time right so that now the user account has access over the network",
    "start": "2263200",
    "end": "2270200"
  },
  {
    "text": "um understand here even if you're using",
    "start": "2270800",
    "end": "2276800"
  },
  {
    "text": "protected eep with passwords there still is tls going on",
    "start": "2276800",
    "end": "2282839"
  },
  {
    "text": "the authentication server the radius server must have a certificate that's how it proves its authority to",
    "start": "2282839",
    "end": "2290320"
  },
  {
    "text": "the client and that's done over tls so when the client receives that",
    "start": "2290320",
    "end": "2297359"
  },
  {
    "text": "certificate it will verify the name and the date right so don't pre-issue your certs",
    "start": "2297359",
    "end": "2303520"
  },
  {
    "text": "right if the cert is not valid until tomorrow it's going to die and it also will validate the chain make",
    "start": "2303520",
    "end": "2309680"
  },
  {
    "text": "sure that it comes from a ca that it can chain itself up to",
    "start": "2309680",
    "end": "2314480"
  },
  {
    "text": "so what have we satisfied so far with just these three steps in that first phase of the machine logon",
    "start": "2315280",
    "end": "2322640"
  },
  {
    "text": "well we have completed one half of the mutual authentication that is the client now",
    "start": "2322640",
    "end": "2328640"
  },
  {
    "text": "trusts the authentication server um and we've satisfied the the no rogue",
    "start": "2328640",
    "end": "2333760"
  },
  {
    "text": "access point requirement right this client will not talk to an ap that cannot talk",
    "start": "2333760",
    "end": "2342000"
  },
  {
    "text": "to an authentic authentication server so you're thinking well but how is that secure well remember that aps talk",
    "start": "2342000",
    "end": "2349280"
  },
  {
    "text": "over radius to the authentication server right so the ap has the radius well this is the",
    "start": "2349280",
    "end": "2355920"
  },
  {
    "text": "only time we can't get around these notions of shared secrets right the radius the ap is a radius secret and the",
    "start": "2355920",
    "end": "2362640"
  },
  {
    "text": "radius server then has the ap configured as a client in in its radius configuration so",
    "start": "2362640",
    "end": "2369520"
  },
  {
    "text": "if you wanted to bring up a rogue authentication mechanism you'd have to bring up not only a rogue ap but you have to bring up your own radius server",
    "start": "2369520",
    "end": "2376079"
  },
  {
    "text": "too and since the radius server is trying to hand a certificate to the client you'd",
    "start": "2376079",
    "end": "2381680"
  },
  {
    "text": "have to put a valid cert on the box and yeah there's enough administrative procedures in place right that can",
    "start": "2381680",
    "end": "2387440"
  },
  {
    "text": "generally prevent somebody from bringing up a radius server in your network with a certificate that's going to",
    "start": "2387440",
    "end": "2392640"
  },
  {
    "text": "authenticate itself itself to clients but that's all we've done so far",
    "start": "2392640",
    "end": "2399440"
  },
  {
    "text": "so more of the first phase i'm getting wrapped up in this thing the supplicant sends the machine",
    "start": "2399440",
    "end": "2406079"
  },
  {
    "text": "credentials over this tls channel",
    "start": "2406079",
    "end": "2411119"
  },
  {
    "text": "to the server so you've got that tls channel set up right when this",
    "start": "2411119",
    "end": "2416240"
  },
  {
    "text": "authentication server authorized or authenticated itself to me so over the same channel i'm going to send my",
    "start": "2416240",
    "end": "2422000"
  },
  {
    "text": "machine credentials or my machine certificate if that's what we've decided to use",
    "start": "2422000",
    "end": "2427760"
  },
  {
    "text": "the authenticator checks the validity by doing the normal radius kind of thing right",
    "start": "2427760",
    "end": "2432960"
  },
  {
    "text": "the authentication server is going to go talk to the directory if it's valid",
    "start": "2432960",
    "end": "2438800"
  },
  {
    "text": "the radius server generates the web key the authenticator delivers the key to",
    "start": "2438800",
    "end": "2443920"
  },
  {
    "text": "the supplicant and that's over this tls channel right so that's how we're protecting the delivery of that key",
    "start": "2443920",
    "end": "2450079"
  },
  {
    "text": "and then we transition that port from cl open to closed",
    "start": "2450079",
    "end": "2455200"
  },
  {
    "text": "for things in the context of the machine account only and then the computer logs onto the",
    "start": "2455200",
    "end": "2460319"
  },
  {
    "text": "domain and you see all the messages that say you know processing computer log on scripts or",
    "start": "2460319",
    "end": "2466560"
  },
  {
    "text": "whatever and you finally get the box that allows you to hit control delta log the user on",
    "start": "2466560",
    "end": "2472560"
  },
  {
    "text": "so when we complete the machine log on we've got the other half of mutual authentication done",
    "start": "2472560",
    "end": "2478720"
  },
  {
    "text": "and we've provided a unique web key to the client",
    "start": "2478720",
    "end": "2483920"
  },
  {
    "text": "second phase is authenticating the user so this is just this is very much very",
    "start": "2485280",
    "end": "2490560"
  },
  {
    "text": "much like the first phase except that well the parts of it we're not doing right we don't have to have",
    "start": "2490560",
    "end": "2496720"
  },
  {
    "text": "the authentication server re-authenticate itself to the client here because we've",
    "start": "2496720",
    "end": "2501920"
  },
  {
    "text": "done that once already so the the second phase is really all about just the user themselves",
    "start": "2501920",
    "end": "2508880"
  },
  {
    "text": "authenticating to the environment um and you can see the ports there or",
    "start": "2508880",
    "end": "2514160"
  },
  {
    "text": "the the steps there once the authentication succeeds now the",
    "start": "2514160",
    "end": "2519280"
  },
  {
    "text": "user is allowed to talk over the control port and you're completely logged onto the",
    "start": "2519280",
    "end": "2525040"
  },
  {
    "text": "domain so we finally we we hit",
    "start": "2525040",
    "end": "2531200"
  },
  {
    "text": "the last of the requirements there that we are that we can solve with the technology that is authenticating the",
    "start": "2531200",
    "end": "2536960"
  },
  {
    "text": "user um but we can't uh we can't take care of this",
    "start": "2536960",
    "end": "2542880"
  },
  {
    "text": "disassociation spoofing with 802.1x and it's because of the way 802.11 is",
    "start": "2542880",
    "end": "2548319"
  },
  {
    "text": "designed so",
    "start": "2548319",
    "end": "2553839"
  },
  {
    "text": "now i need to say that",
    "start": "2553839",
    "end": "2558000"
  },
  {
    "text": "some people say well what do i need to worry about my machine account for in a wireless network um",
    "start": "2559040",
    "end": "2566318"
  },
  {
    "text": "i had a customer who deployed leap all over their network and then they ran into a problem when their password",
    "start": "2567839",
    "end": "2572960"
  },
  {
    "text": "started to expire leap works really well for the second phase it does user authentication just great",
    "start": "2572960",
    "end": "2580560"
  },
  {
    "text": "but it doesn't leap doesn't kick into play until after the machine has already logged onto the",
    "start": "2580560",
    "end": "2586400"
  },
  {
    "text": "domain but if we're not totally associated the machine never logs on to the domain it's just using a cached",
    "start": "2586400",
    "end": "2591920"
  },
  {
    "text": "credential and when user accounts expire if the machine can't log on you know you're",
    "start": "2591920",
    "end": "2598480"
  },
  {
    "text": "going to have a problem you can't change your passwords this was a problem the customer was having when a password expired the user couldn't change their",
    "start": "2598480",
    "end": "2604400"
  },
  {
    "text": "password over wireless they would have to go to a wired workstation and to do this",
    "start": "2604400",
    "end": "2610800"
  },
  {
    "text": "so you want to have a domain logon occur right it happens on over lan so it needs",
    "start": "2610800",
    "end": "2616720"
  },
  {
    "text": "to happen over wireless too there's all the you know normal reasons why right um",
    "start": "2616720",
    "end": "2622079"
  },
  {
    "text": "and having the domain having the machine log on occur is what allows us to be able to change our passwords over",
    "start": "2622079",
    "end": "2628240"
  },
  {
    "text": "wireless right because the wick is associated and it's transitioned",
    "start": "2628240",
    "end": "2634079"
  },
  {
    "text": "so we get that notification that hey you know the password has expired right",
    "start": "2634079",
    "end": "2639520"
  },
  {
    "text": "um and the machine account logon phase allows those password expiration notices and the changes to occur",
    "start": "2639520",
    "end": "2648119"
  },
  {
    "text": "so why passwords you know with all this talk about certificates being the only good way to authenticate people anymore",
    "start": "2653200",
    "end": "2659680"
  },
  {
    "text": "um not not everyone's ready for pkot yet how many of you actually have in production a pki",
    "start": "2659680",
    "end": "2666079"
  },
  {
    "text": "okay leave your hands up how many of you put it in place because an application needed it",
    "start": "2666079",
    "end": "2671599"
  },
  {
    "text": "so the rest of you who put your hands down just put it in place because it was cool no why did you",
    "start": "2671599",
    "end": "2679119"
  },
  {
    "text": "for email signing okay so i would say that's an application need yeah yeah um",
    "start": "2679440",
    "end": "2685359"
  },
  {
    "text": "every pki deployment that i've ever been involved in that was put up without an actual business need for it",
    "start": "2685359",
    "end": "2692400"
  },
  {
    "text": "has failed right they just don't work",
    "start": "2692400",
    "end": "2697359"
  },
  {
    "text": "not only that but sometimes there are technical limitations that prevent people from being able to use certificates for one reason or another",
    "start": "2698400",
    "end": "2705920"
  },
  {
    "text": "one of my customers who deployed this it turned out that in their analysis of the business requirements",
    "start": "2705920",
    "end": "2711760"
  },
  {
    "text": "when they thought that tls was going to be their answer certs they failed to remember that",
    "start": "2711760",
    "end": "2717599"
  },
  {
    "text": "they had several hundred users who would roam from computer to computer",
    "start": "2717599",
    "end": "2722640"
  },
  {
    "text": "can you imagine what managing machine certificates or user certificates is going to be like in that scenario",
    "start": "2722720",
    "end": "2729040"
  },
  {
    "text": "they weren't ready to do smart cards yet so now let's say it's 600 users",
    "start": "2729040",
    "end": "2734640"
  },
  {
    "text": "600 other you know computers but there's no one-to-one relationship between a person and a machine so now every one of these machines has",
    "start": "2734640",
    "end": "2741119"
  },
  {
    "text": "to have what 1200 certificates on it um so there are instances where",
    "start": "2741119",
    "end": "2748160"
  },
  {
    "text": "where passwords are still you know they make a lot of sense um even though they're not any good anymore",
    "start": "2748160",
    "end": "2756240"
  },
  {
    "text": "i really think that smart cards are are actually the answer to this kind of thing um and my customer who is doing",
    "start": "2756319",
    "end": "2764480"
  },
  {
    "text": "peep now is actually planning for a smart card deployment in about six months",
    "start": "2764480",
    "end": "2771200"
  },
  {
    "text": "and that tell you the best way to do that is is to do what we're doing at microsoft",
    "start": "2771200",
    "end": "2778160"
  },
  {
    "text": "is give everybody a new employee badge and put your smart card on it just make that your smart card right",
    "start": "2778160",
    "end": "2783760"
  },
  {
    "text": "because what's the problem with most cards that you carry around in your wallet",
    "start": "2783760",
    "end": "2790880"
  },
  {
    "text": "okay well i'll get to that right so let's talk about sociological issues here for a minute",
    "start": "2791280",
    "end": "2796640"
  },
  {
    "text": "um next time you're in new york and you're riding the subway don't be a",
    "start": "2796640",
    "end": "2802720"
  },
  {
    "text": "blind new yorker and swipe your thing and go on um stand there for five minutes and watch",
    "start": "2802720",
    "end": "2808960"
  },
  {
    "text": "people mess around trying to figure out how to put their card in the in the reader in the gate",
    "start": "2808960",
    "end": "2815040"
  },
  {
    "text": "there's four ways you can put a card in a card reader right um so",
    "start": "2815040",
    "end": "2820640"
  },
  {
    "text": "you know that right there is sometimes a barrier for some people another barrier is these things have no",
    "start": "2820640",
    "end": "2825839"
  },
  {
    "text": "stored value this card is generally let's say it was just a smart card and not my microsoft",
    "start": "2825839",
    "end": "2830960"
  },
  {
    "text": "employee badge it's got no stored value right it's not like a credit card or a debit card or something so i care less",
    "start": "2830960",
    "end": "2837599"
  },
  {
    "text": "about it so i'm probably going to lose it well one way you fix that is you do what the black cat people did lose your badge",
    "start": "2837599",
    "end": "2844240"
  },
  {
    "text": "500 bucks can you expense something like that back home by the way that would probably be a really hard thing to hide in an expense",
    "start": "2844240",
    "end": "2850400"
  },
  {
    "text": "report i think but most people don't forget their employee badges when they go to work",
    "start": "2850400",
    "end": "2857359"
  },
  {
    "text": "because at least for us this is the key to unlock the doors all right",
    "start": "2857359",
    "end": "2862640"
  },
  {
    "text": "i can't get around on campus very much without this thing so since i'm already used to having to carry this and you probably are all",
    "start": "2862640",
    "end": "2869119"
  },
  {
    "text": "already used to having to carry your employee ids when you're going to do your smart card rollouts in your organizations",
    "start": "2869119",
    "end": "2875200"
  },
  {
    "text": "replace your employee badges with combined employee badge smart cards you're already used to carrying these",
    "start": "2875200",
    "end": "2880960"
  },
  {
    "text": "things around right now there has been thought at microsoft",
    "start": "2880960",
    "end": "2886319"
  },
  {
    "text": "about having a financial penalty for people who lose these things um that hasn't happened yet right",
    "start": "2886319",
    "end": "2892880"
  },
  {
    "text": "because there's a pin to unlock this thing so you know if you were to find it it probably wouldn't be very much good",
    "start": "2892880",
    "end": "2900400"
  },
  {
    "text": "but i still think there should be right i personally believe that if i lose this i should have to pay 100",
    "start": "2900400",
    "end": "2906160"
  },
  {
    "text": "bucks or something that sort of what imputes a stored value onto the thing doesn't it",
    "start": "2906160",
    "end": "2913720"
  },
  {
    "text": "how about biometrics um you use your finger right okay so i'm",
    "start": "2917760",
    "end": "2923760"
  },
  {
    "text": "gonna cut your finger off right i mean you've all heard these stories right i love biometrics because",
    "start": "2923760",
    "end": "2929280"
  },
  {
    "text": "they're gross right you know i'm going to cut your finger off and put on the smart card reader oh wait a minute that's a smart",
    "start": "2929280",
    "end": "2935359"
  },
  {
    "text": "car it's a or i mean fingerprint reader that's a smarter fingerprint reader it needs heat",
    "start": "2935359",
    "end": "2941280"
  },
  {
    "text": "okay right oh no it needs a pulse ah can't get around that one okay",
    "start": "2941280",
    "end": "2947440"
  },
  {
    "text": "pump water through it all right i'm gonna pump up your finger here you know",
    "start": "2947440",
    "end": "2953040"
  },
  {
    "text": "um i mean you know and then you can carry that farther right well if it's a retina scanner ah well you know eyes are",
    "start": "2953040",
    "end": "2958079"
  },
  {
    "text": "easy to remove um you know biometrics are kind of",
    "start": "2958079",
    "end": "2964240"
  },
  {
    "text": "interesting but you cut your finger and you have a scar for two weeks",
    "start": "2964240",
    "end": "2970000"
  },
  {
    "text": "right or you get a wart or something right that changes the way your fingerprint looks",
    "start": "2970000",
    "end": "2975040"
  },
  {
    "text": "um and i don't know you know i think that uh",
    "start": "2975040",
    "end": "2980240"
  },
  {
    "text": "i don't think the technology is there yet i i i like the smart cards because it",
    "start": "2980240",
    "end": "2987200"
  },
  {
    "text": "they they like work right and they're not that expensive they're they're they're it's cheaper than than",
    "start": "2987200",
    "end": "2993680"
  },
  {
    "text": "something like secure id right you know a card reader for a a pc card reader for a laptop is what 20",
    "start": "2993680",
    "end": "3000000"
  },
  {
    "text": "bucks and the card is 10 i mean that's pretty inexpensive and they don't have batteries they don't wear out",
    "start": "3000000",
    "end": "3007558"
  },
  {
    "text": "yeah you're stuck with a password to unlock it right so that's a pin to unlock the card",
    "start": "3013040",
    "end": "3018319"
  },
  {
    "text": "um but the the the goal is right the card and the",
    "start": "3018319",
    "end": "3024000"
  },
  {
    "text": "computer are stored separately when not in use so you don't carry the card in your",
    "start": "3024000",
    "end": "3029680"
  },
  {
    "text": "wallet with the pin handily written on a on the back of it",
    "start": "3029680",
    "end": "3035040"
  },
  {
    "text": "okay you know you i mean i mean no you carry your card in your wallet right you don't carry the card in the briefcase that you put the computer in",
    "start": "3035040",
    "end": "3042960"
  },
  {
    "text": "ah now see that's a configurable thing in windows um i have to my card has to be in only",
    "start": "3045040",
    "end": "3051520"
  },
  {
    "text": "during the vpn logon phase once i'm logged on i can pull it out we don't actually use smart cards for",
    "start": "3051520",
    "end": "3057200"
  },
  {
    "text": "domain authentication yet although that's probably going to come soon and you can then indicate in your group",
    "start": "3057200",
    "end": "3062480"
  },
  {
    "text": "policy whether the card must be present at all times or not right",
    "start": "3062480",
    "end": "3068720"
  },
  {
    "text": "so you could set it up so that if someone pulls their card out the workstation locks i like that a lot",
    "start": "3068720",
    "end": "3075680"
  },
  {
    "text": "yeah so",
    "start": "3075680",
    "end": "3081280"
  },
  {
    "text": "that the point is somebody will normally leave that card in all day right with the computer screen that",
    "start": "3081280",
    "end": "3086800"
  },
  {
    "text": "never locks well group policy will allow us to say you know lock the desktop after x number of minutes of on use but",
    "start": "3086800",
    "end": "3092800"
  },
  {
    "text": "she still has to take the card with her when she goes home or i should say he or she still has to take the card with",
    "start": "3092800",
    "end": "3101040"
  },
  {
    "text": "because it's the only way to open the building when they come back the next day right",
    "start": "3101040",
    "end": "3106160"
  },
  {
    "text": "or to get out of the place right yeah so yeah right come to my sessions",
    "start": "3106160",
    "end": "3112720"
  },
  {
    "text": "and get a little sociology each and every time so remaining vulnerabilities here",
    "start": "3112720",
    "end": "3118720"
  },
  {
    "text": "yeah now we we haven't solved everything right we're pretty close but you know it's like",
    "start": "3118720",
    "end": "3124720"
  },
  {
    "text": "radars versus radar detectors it's always going to be this kind of thing going on who's in front of whom",
    "start": "3124720",
    "end": "3131520"
  },
  {
    "text": "um it's still possible to spoof 802.11 packets now they're not going to",
    "start": "3131520",
    "end": "3137839"
  },
  {
    "text": "do you a whole lot of good other than kind of confuse the access point maybe or confuse the wireless",
    "start": "3137839",
    "end": "3144240"
  },
  {
    "text": "client but you can still disassociate somebody",
    "start": "3144240",
    "end": "3149599"
  },
  {
    "text": "as a simple addition to 802.00 will solve both of these problems but you're actually not going to see that",
    "start": "3150720",
    "end": "3156559"
  },
  {
    "text": "appear until 802.11i um and that's this the notion actually i",
    "start": "3156559",
    "end": "3162559"
  },
  {
    "text": "think of a slide on it so i'll just wait for a second what are these bit flipping attacks like well we don't have any per packet",
    "start": "3162559",
    "end": "3168880"
  },
  {
    "text": "authentication going on here and 802.11x doesn't add that",
    "start": "3168880",
    "end": "3175359"
  },
  {
    "text": "right unlike ipsec where every packet is authenticated we're not we don't have a per packet authentication mechanism",
    "start": "3175359",
    "end": "3181680"
  },
  {
    "text": "going on here and since the ic is not keyed you know you can flip bits in a wet",
    "start": "3181680",
    "end": "3188000"
  },
  {
    "text": "packet and recompute the ic and make that appear to be a valid packet so",
    "start": "3188000",
    "end": "3194880"
  },
  {
    "text": "if you want to if you want to spoof it back or if you want to replay one right what do you do you learn the iv first which is really",
    "start": "3194880",
    "end": "3201359"
  },
  {
    "text": "easy with all these attack tools that are out there right now flip some bits the access point is going to accept it",
    "start": "3201359",
    "end": "3209920"
  },
  {
    "text": "the layer 3 device behind the access point will reject this but it sends a predictable response right so",
    "start": "3210079",
    "end": "3216720"
  },
  {
    "text": "which then gets what encrypted right on its way back to the wireless client and",
    "start": "3216720",
    "end": "3222319"
  },
  {
    "text": "if we do this enough times we can build a database of what these responses are like and derive the key",
    "start": "3222319",
    "end": "3228720"
  },
  {
    "text": "so you want to be sure that you've configured radius to generate keys",
    "start": "3228720",
    "end": "3235440"
  },
  {
    "text": "an interval that allows someone or that prevents someone from getting enough you know information",
    "start": "3235440",
    "end": "3241839"
  },
  {
    "text": "to derive the key right that's why we've set the default at 60 minutes now",
    "start": "3241839",
    "end": "3246880"
  },
  {
    "text": "um both of my customers have deployed this have actually changed that to 30. just kind of a comfort thing",
    "start": "3246880",
    "end": "3253359"
  },
  {
    "text": "i don't know what number to tell you to pick right i could stand up here and do some numeric proctology for you but i don't think that would be you know a",
    "start": "3253359",
    "end": "3259520"
  },
  {
    "text": "pleasant experience for any of us so pick a number somewhere between 1 and 60 whatever you're comfortable with but",
    "start": "3259520",
    "end": "3265119"
  },
  {
    "text": "just remember that key generation is not an instantaneous process it takes a couple seconds so if you tell the thing",
    "start": "3265119",
    "end": "3272400"
  },
  {
    "text": "to generate a new key every minute you're going to have a a lot of unhappy people",
    "start": "3272400",
    "end": "3278880"
  },
  {
    "text": "uh these uh and we've talked about this um a lot so what is it this is a great way to denial of service",
    "start": "3278880",
    "end": "3285920"
  },
  {
    "text": "a wireless user just send them one of these right",
    "start": "3285920",
    "end": "3290480"
  },
  {
    "text": "you know what my favorite denial of service attack is it's enabled by something that probably a lot of you have on your network password lockout",
    "start": "3291040",
    "end": "3298079"
  },
  {
    "text": "policies how many of you are using account lockout policies on your networks today all right",
    "start": "3298079",
    "end": "3303200"
  },
  {
    "text": "um what what's your threshold what do you have a set three",
    "start": "3303200",
    "end": "3308720"
  },
  {
    "text": "you know three okay um how many of you have really high numbers like 50.",
    "start": "3308720",
    "end": "3315359"
  },
  {
    "text": "okay so after the three minutes is over does it automatically unlock or does it require an administrator how",
    "start": "3315359",
    "end": "3321680"
  },
  {
    "text": "many of you have manual unlocking only okay so you have someone whose job it is to",
    "start": "3321680",
    "end": "3328000"
  },
  {
    "text": "do nothing but reset passwords yeah okay help desk",
    "start": "3328000",
    "end": "3334720"
  },
  {
    "text": "you know i hate this thing and i wish we'd just get it out of the product because account lockout policies don't",
    "start": "3334720",
    "end": "3340800"
  },
  {
    "text": "solve any real problem but they create great denial of service opportunities for an attacker against your network",
    "start": "3340800",
    "end": "3347040"
  },
  {
    "text": "right you know i'm not all that interested in breaking into anybody's network because you know personally i've",
    "start": "3347040",
    "end": "3353119"
  },
  {
    "text": "got more important things to do than to read your email but boy it sure would be a lot of fun",
    "start": "3353119",
    "end": "3358240"
  },
  {
    "text": "just uh you know find out your user space and just start logging in a bunch of people with garbage passwords so when",
    "start": "3358240",
    "end": "3363839"
  },
  {
    "text": "they come in on monday morning they can't get access right um you know i don't think account",
    "start": "3363839",
    "end": "3369520"
  },
  {
    "text": "lockout policies solve anything when you have them or if you're really paranoid set it to a high number like 50. because",
    "start": "3369520",
    "end": "3375119"
  },
  {
    "text": "if you're anything like me what happens you're halfway around the world you got to give a presentation in 30 minutes",
    "start": "3375119",
    "end": "3380559"
  },
  {
    "text": "maybe you had a little bit too much to drink and you need to log back on to the network to upload it or to get a more",
    "start": "3380559",
    "end": "3386799"
  },
  {
    "text": "recent version of your powerpoint well what you're clumsy right",
    "start": "3386799",
    "end": "3391838"
  },
  {
    "text": "you what's that yeah the caps lock key is on right okay two tries third try boom it's wrong you",
    "start": "3391920",
    "end": "3399040"
  },
  {
    "text": "get locked out but what you're on the other side of the world so",
    "start": "3399040",
    "end": "3404240"
  },
  {
    "text": "where your account database is you know slumber is the order of the hour right",
    "start": "3404240",
    "end": "3409440"
  },
  {
    "text": "so who's gonna and you're stuck i mean you know this is real world stuff right you know i know a sales person who",
    "start": "3409440",
    "end": "3416000"
  },
  {
    "text": "lost the sale because he fat fingered his password three times and couldn't get some data",
    "start": "3416000",
    "end": "3421839"
  },
  {
    "text": "so you know think about it set these things really high to like 50. so the only time it gets triggered is with a dos",
    "start": "3421839",
    "end": "3428480"
  },
  {
    "text": "attack and not somebody fat fingering their password because they had too much to drink i'll get off that box now",
    "start": "3428480",
    "end": "3436000"
  },
  {
    "text": "so how do we solve these two problems you need to key this ic if the ic were keyed",
    "start": "3436480",
    "end": "3442559"
  },
  {
    "text": "then and we included that in every packet we'd have",
    "start": "3442559",
    "end": "3447839"
  },
  {
    "text": "we'd have well what would it do it would perform this per packet authentication",
    "start": "3447839",
    "end": "3453119"
  },
  {
    "text": "right so we couldn't do the bit flipping attacks could probably still maybe do these i'd",
    "start": "3453119",
    "end": "3460240"
  },
  {
    "text": "have to think about that one from no no it'll get rid of that one too um",
    "start": "3460240",
    "end": "3466079"
  },
  {
    "text": "what is a good example of keying the ic well this is actually something that um",
    "start": "3466079",
    "end": "3471200"
  },
  {
    "text": "cisco does in leap they they have keyed ics and they derive",
    "start": "3471200",
    "end": "3476559"
  },
  {
    "text": "the key from some seed value which of course is you know not revealed to the public",
    "start": "3476559",
    "end": "3482799"
  },
  {
    "text": "source and destination max and the actual payload itself so of course any change to these",
    "start": "3482799",
    "end": "3488960"
  },
  {
    "text": "derivation values will alter the ic and we know now that that the packet has been modified",
    "start": "3488960",
    "end": "3495599"
  },
  {
    "text": "so what do you need to do to build 802.1x with eap or protected eep you",
    "start": "3496720",
    "end": "3501920"
  },
  {
    "text": "need windows xp service pack one on your client on the server you need windows server",
    "start": "3501920",
    "end": "3507599"
  },
  {
    "text": "2003 ias this is not isa it's ias don't you love this letter reuse and the",
    "start": "3507599",
    "end": "3512880"
  },
  {
    "text": "acronyms here um and you need a certificate on the radius computer on the ias server",
    "start": "3512880",
    "end": "3518400"
  },
  {
    "text": "but you don't need client search if you're going to do protected eep with md5 or ms chat v2",
    "start": "3518400",
    "end": "3525440"
  },
  {
    "text": "we are back porting this to windows 2000 um if you go look at 313 664 you'll see",
    "start": "3525440",
    "end": "3531839"
  },
  {
    "text": "how to do that um you need uh service pack 3 on the client and on the iis server um we're",
    "start": "3531839",
    "end": "3538799"
  },
  {
    "text": "not back porting the wireless zero configuration to the client so you'll still need to use the nyx software to",
    "start": "3538799",
    "end": "3545040"
  },
  {
    "text": "configure the ssid and stuff like that uh and in windows 2000 we are supporting",
    "start": "3545040",
    "end": "3551599"
  },
  {
    "text": "only tls and ms chat v2 now you think well but that's that's all you're doing in windows xp well",
    "start": "3551599",
    "end": "3557280"
  },
  {
    "text": "xp and serp and windows server 2003 will have additional protected eep methods added to them",
    "start": "3557280",
    "end": "3563680"
  },
  {
    "text": "later we probably will not be backporting any of those to windows 2000",
    "start": "3563680",
    "end": "3569680"
  },
  {
    "text": "i should say that if you decide to deploy a windows server 2003 radius server you do not need a windows server",
    "start": "3569680",
    "end": "3575920"
  },
  {
    "text": "2003 domain for this it can be a member of a windows 2000 domain just fine that's what one of my",
    "start": "3575920",
    "end": "3582880"
  },
  {
    "text": "customers has done and it works",
    "start": "3582880",
    "end": "3587400"
  },
  {
    "text": "so how do you set it up there you go nine easy steps and and literally it i mean it took me",
    "start": "3588559",
    "end": "3595520"
  },
  {
    "text": "20 minutes in a lab and i had never seen this before it's pretty simple so you",
    "start": "3595520",
    "end": "3600799"
  },
  {
    "text": "you build your ias server you join it to the domain after all it's you know it's got to talk to the domain controller",
    "start": "3600799",
    "end": "3606240"
  },
  {
    "text": "right so the authentication server must belong to the domain enroll it for a computer certificate",
    "start": "3606240",
    "end": "3612559"
  },
  {
    "text": "register the server in active directory and that means you right click on the server name and the ias ui and say what",
    "start": "3612559",
    "end": "3618960"
  },
  {
    "text": "register in active directory don't you love gui's um really what does that mean there is a",
    "start": "3618960",
    "end": "3626240"
  },
  {
    "text": "there's a security group in a domain controller called res and ias servers this security group",
    "start": "3626240",
    "end": "3633839"
  },
  {
    "text": "is allowed to read certain user attributes in the directory so when you add the",
    "start": "3633839",
    "end": "3639839"
  },
  {
    "text": "ias server to this group the server can read these user attributes which is necessary",
    "start": "3639839",
    "end": "3645359"
  },
  {
    "text": "be sure to configure radius logging you can log it to a text file i prefer to send it to a sql server",
    "start": "3645359",
    "end": "3652559"
  },
  {
    "text": "add the access point as a radius client in the ias configuration",
    "start": "3652559",
    "end": "3658559"
  },
  {
    "text": "then you telnet or http over to the access point and turn configure that thing for radius",
    "start": "3658559",
    "end": "3665200"
  },
  {
    "text": "and 802.1x so this means your ap like i said at the beginning needs to know how",
    "start": "3665200",
    "end": "3670319"
  },
  {
    "text": "to do 802.1x create a wireless client access policy",
    "start": "3670319",
    "end": "3676480"
  },
  {
    "text": "ooh what's an access policy how many of you have actually installed the radius server the ias in windows",
    "start": "3676480",
    "end": "3683040"
  },
  {
    "text": "windows server preview okay so those of you who haven't seen this",
    "start": "3683040",
    "end": "3688078"
  },
  {
    "text": "our ias server has a policy engine in it and the policy engine allows you to set",
    "start": "3688559",
    "end": "3694559"
  },
  {
    "text": "parameters under which clients can be accepted for authentication or not so",
    "start": "3694559",
    "end": "3701280"
  },
  {
    "text": "you know certain times of day um whether the user account belongs to a certain windows group there's a variety",
    "start": "3701280",
    "end": "3707200"
  },
  {
    "text": "of things that you you can set um so in the help actually",
    "start": "3707200",
    "end": "3712559"
  },
  {
    "text": "it tells you what you want to set for a wireless client access policy you have",
    "start": "3712559",
    "end": "3717760"
  },
  {
    "text": "to have some policy without a policy the ias server won't authenticate anything",
    "start": "3717760",
    "end": "3723280"
  },
  {
    "text": "but you you could use this ias for more than just wireless right you might use it for vpn too so you might want to have",
    "start": "3723280",
    "end": "3729359"
  },
  {
    "text": "a different policy for vpns it's okay and then finally you need to configure",
    "start": "3729359",
    "end": "3734960"
  },
  {
    "text": "the clients now one thing that's important remember that the radius server is passing its",
    "start": "3734960",
    "end": "3741119"
  },
  {
    "text": "certificate through the ap to the client the client is going to validate the",
    "start": "3741119",
    "end": "3746400"
  },
  {
    "text": "chain so whatever ca signed that certificate from",
    "start": "3746400",
    "end": "3752400"
  },
  {
    "text": "the server needs to be in you know that ca's public certificate needs to be in the clients",
    "start": "3752400",
    "end": "3759599"
  },
  {
    "text": "intermediate or root stores so the easiest way to make that happen",
    "start": "3759599",
    "end": "3765440"
  },
  {
    "text": "right is if it's a windows 2000 ca and you've turned on um auto enrollment for computer",
    "start": "3765440",
    "end": "3771920"
  },
  {
    "text": "certificates because now the client computer will have a computer certificate even though it's not being",
    "start": "3771920",
    "end": "3777440"
  },
  {
    "text": "used if you're using password authentication an advantage of auto enrolling clients",
    "start": "3777440",
    "end": "3782880"
  },
  {
    "text": "for computer certificates is that it puts your own ca's public key",
    "start": "3782880",
    "end": "3789040"
  },
  {
    "text": "or public certificate in the client store at boot time if it's not already there right it's kind of a cool thing",
    "start": "3789040",
    "end": "3795359"
  },
  {
    "text": "that way you don't have to have people go to some url and download it",
    "start": "3795359",
    "end": "3800079"
  },
  {
    "text": "come on button click what what should that policy look like",
    "start": "3803119",
    "end": "3808880"
  },
  {
    "text": "it's actually a pretty simple access policy set the nas port type value",
    "start": "3808880",
    "end": "3814799"
  },
  {
    "text": "to that wireless ieee 802.11 and wireless",
    "start": "3814799",
    "end": "3819920"
  },
  {
    "text": "other i'm not exactly sure why you need wireless other i know that if you omit",
    "start": "3819920",
    "end": "3824960"
  },
  {
    "text": "wireless other it doesn't work and i haven't been able to get an answer why so it's one of these things that you",
    "start": "3824960",
    "end": "3830319"
  },
  {
    "text": "know somebody way deep down in the organization knows the answer to and they keep him pretty well hidden",
    "start": "3830319",
    "end": "3837359"
  },
  {
    "text": "uh set the windows group to some group in active directory maybe you don't want it maybe you could maybe you don't need",
    "start": "3837359",
    "end": "3843599"
  },
  {
    "text": "to use this if you're gonna allow all your users to do wireless right but if you're gonna",
    "start": "3843599",
    "end": "3848960"
  },
  {
    "text": "subset the number of people who can do wireless in your organization then",
    "start": "3848960",
    "end": "3854640"
  },
  {
    "text": "stick them and their computer account don't forget that into this group that you create",
    "start": "3854640",
    "end": "3861520"
  },
  {
    "text": "um also part of creating a policy is is configuring a thing called a profile",
    "start": "3861680",
    "end": "3866799"
  },
  {
    "text": "that lives on the policy on the profile itself you want to disable all regular authentication",
    "start": "3866799",
    "end": "3872880"
  },
  {
    "text": "methods so you know we're not doing ms chat v1 or ms chat v2 or",
    "start": "3872880",
    "end": "3881119"
  },
  {
    "text": "pap right or any of these things natively over the wire right we want to do them only in eep",
    "start": "3881119",
    "end": "3887440"
  },
  {
    "text": "and furthermore only in protected eep now when you're configuring this policy",
    "start": "3887440",
    "end": "3894400"
  },
  {
    "text": "on the radius server and you say you want to use epa protected eep a dialog will appear and it will say oh",
    "start": "3894400",
    "end": "3900799"
  },
  {
    "text": "what certificate should i use when i'm authenticating myself to the client well",
    "start": "3900799",
    "end": "3906319"
  },
  {
    "text": "you're going to use the certificate from step three on that previous slide",
    "start": "3906319",
    "end": "3912720"
  },
  {
    "text": "configure only the strongest encryption please and",
    "start": "3914160",
    "end": "3919440"
  },
  {
    "text": "then you're actually going to set this other value here ignore user dial-in properties to true",
    "start": "3919440",
    "end": "3927440"
  },
  {
    "text": "on an active directory account is is an attribute that can be set to true or false or",
    "start": "3927680",
    "end": "3933680"
  },
  {
    "text": "check policy and this attribute is simply followed by any kind of remote authentication",
    "start": "3933680",
    "end": "3939920"
  },
  {
    "text": "mechanism right so if you're vpning into a network and you type in some credentials",
    "start": "3939920",
    "end": "3945280"
  },
  {
    "text": "and the ras server goes to ad and it says hey is this guy allowed to log in one of the things it looks at is this value",
    "start": "3945280",
    "end": "3952960"
  },
  {
    "text": "dial-in user attribute if it's set to true the user is allowed in",
    "start": "3952960",
    "end": "3958160"
  },
  {
    "text": "and the policy is not evaluated this is a value on the account remember",
    "start": "3958160",
    "end": "3963599"
  },
  {
    "text": "if the attribute value is set to false the user is disconnected if the attribute value is set to",
    "start": "3963599",
    "end": "3971359"
  },
  {
    "text": "follow policy then radius or res will follow the policy you",
    "start": "3971359",
    "end": "3976880"
  },
  {
    "text": "know are we in the right group um all these kinds of things right",
    "start": "3976880",
    "end": "3983119"
  },
  {
    "text": "we want to set ignore diet user dial-in properties to true in this case to force",
    "start": "3983119",
    "end": "3989280"
  },
  {
    "text": "policy evaluation at all times for wireless users because",
    "start": "3989280",
    "end": "3995119"
  },
  {
    "text": "you know you want to make sure that you're using protected eep only and that you're using 128-bit encryption only",
    "start": "3995119",
    "end": "4004280"
  },
  {
    "text": "so what else um interoperability might be a concern for some of you",
    "start": "4006799",
    "end": "4014318"
  },
  {
    "text": "we have not written peep in a vacuum we've worked with cisco and rsa to",
    "start": "4014559",
    "end": "4019680"
  },
  {
    "text": "develop peep but you know as usually happens is a couple different versions of this thing",
    "start": "4019680",
    "end": "4026480"
  },
  {
    "text": "we have implemented version zero and it is not compatible with version one",
    "start": "4026480",
    "end": "4032400"
  },
  {
    "text": "so we're you know we're getting back together again and we're saying okay we're going to be adults about this now",
    "start": "4032400",
    "end": "4037920"
  },
  {
    "text": "and we're going to come up with a new version of peep probably called version 2",
    "start": "4037920",
    "end": "4043039"
  },
  {
    "text": "that will interoperate and play nice with everybody",
    "start": "4043039",
    "end": "4049240"
  },
  {
    "text": "what about alternatives to 802.1x um this is the thing i couldn't remember at the beginning this wpa",
    "start": "4050480",
    "end": "4057520"
  },
  {
    "text": "wi-fi protected access wpa includes um a protocol that cisco",
    "start": "4057520",
    "end": "4063599"
  },
  {
    "text": "has written called temporal key integrity protection so this uses rc4 just like um",
    "start": "4063599",
    "end": "4071280"
  },
  {
    "text": "wep does oops and",
    "start": "4071280",
    "end": "4076880"
  },
  {
    "text": "rather than generating a new key after a time interval or when someone roams to a new",
    "start": "4076880",
    "end": "4082880"
  },
  {
    "text": "access point wpa rotates keys every 10 000 packets",
    "start": "4082880",
    "end": "4089599"
  },
  {
    "text": "um we combine that shared 128-bit key you know the one",
    "start": "4089599",
    "end": "4094640"
  },
  {
    "text": "that's in the access point remember the ap still has a web key we combine that with the client mac address and a much",
    "start": "4094640",
    "end": "4101040"
  },
  {
    "text": "larger initialization vector to provide key uniqueness for each client",
    "start": "4101040",
    "end": "4107920"
  },
  {
    "text": "so wpa still uses 802.1x for user and mutual device authentication but it has",
    "start": "4108000",
    "end": "4113120"
  },
  {
    "text": "its own key handling mechanism and we actually are beta",
    "start": "4113120",
    "end": "4118560"
  },
  {
    "text": "beta testing this now for windows xp um and i think just like last week the beta",
    "start": "4118560",
    "end": "4124640"
  },
  {
    "text": "got closed which means we're probably pretty close to releasing this to the web so you don't have a choice you can use",
    "start": "4124640",
    "end": "4130640"
  },
  {
    "text": "802.1x or you can use wpa but wpa is just",
    "start": "4130640",
    "end": "4138560"
  },
  {
    "text": "temporary the the long-term future is 802.11i",
    "start": "4138560",
    "end": "4143920"
  },
  {
    "text": "wpa still doesn't fix the the two problems that we've had earlier right",
    "start": "4143920",
    "end": "4149040"
  },
  {
    "text": "that that packet spoofing or the disassociation um 802.11i includes tkip 802.1x and the",
    "start": "4149040",
    "end": "4156960"
  },
  {
    "text": "notion of a keyed ic it uses aes now instead of rc4",
    "start": "4156960",
    "end": "4163040"
  },
  {
    "text": "and it addresses all all of you know all of the known vulnerabilities in wep plus the two that we can't fix with 802.11 or",
    "start": "4163040",
    "end": "4169838"
  },
  {
    "text": "802.1x or wpa um you need to belong to the ieee if you",
    "start": "4169839",
    "end": "4176640"
  },
  {
    "text": "want to read up on this it's not a free standard downloadable and the",
    "start": "4176640",
    "end": "4181679"
  },
  {
    "text": "last time i checked they're expecting ratification this uh this september so it's not that far away and ieee tends to",
    "start": "4181679",
    "end": "4189278"
  },
  {
    "text": "be pretty good on their predictions so here's a slide here where you can",
    "start": "4189279",
    "end": "4194880"
  },
  {
    "text": "read some more about some of these technologies if you want",
    "start": "4194880",
    "end": "4201000"
  },
  {
    "text": "and that's all i have so i want to thank you very much for coming and i'll stay up here if you guys have any questions",
    "start": "4202480",
    "end": "4207840"
  },
  {
    "text": "thanks for coming to the conference it was great getting to know all of you bye",
    "start": "4207840",
    "end": "4213320"
  },
  {
    "text": "you",
    "start": "7332960",
    "end": "7335040"
  }
]