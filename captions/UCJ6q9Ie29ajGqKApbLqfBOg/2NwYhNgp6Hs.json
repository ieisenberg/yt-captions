[
  {
    "text": "[Music]",
    "start": "5580",
    "end": "17910"
  },
  {
    "text": "welcome to black hat window security conference 2002 held February 7th through the 9th in New Orleans",
    "start": "18439",
    "end": "25560"
  },
  {
    "text": "Louisiana the following videotape was recorded live at the conference and produced by the sound of knowledge",
    "start": "25560",
    "end": "31850"
  },
  {
    "text": "[Music]",
    "start": "31850",
    "end": "41409"
  },
  {
    "text": "Incorporated um actually you can download the presentation uh we were in the process of putting it up on the",
    "start": "41879",
    "end": "46960"
  },
  {
    "text": "website so everybody can download it right when wayport went down so it should be up there probably now so if",
    "start": "46960",
    "end": "55039"
  },
  {
    "text": "you guys want to grab it grab it um okay still have some people filtering in no big deal we rolling on the camera",
    "start": "55039",
    "end": "63239"
  },
  {
    "text": "all right good deal all right so thank everybody for uh",
    "start": "63239",
    "end": "69200"
  },
  {
    "text": "coming to the presentation um who am I my name is Steve Dugan uh I am a ccsi",
    "start": "69200",
    "end": "75400"
  },
  {
    "text": "which is a Cisco certified systems instructor which means I'm used to standing in front of a group of people",
    "start": "75400",
    "end": "81600"
  },
  {
    "text": "geez I was expecting a full room so well group of people about this size um I teach wide variety of the",
    "start": "81600",
    "end": "89280"
  },
  {
    "text": "Cisco class say but I am not a employee which means I can you know tell you the",
    "start": "89280",
    "end": "94600"
  },
  {
    "text": "truth about what's really going on uh let's see Focus the presentation",
    "start": "94600",
    "end": "100240"
  },
  {
    "text": "there was so many things for me to cover as far as securing your infrastructure that I had just pick some pick some",
    "start": "100240",
    "end": "106200"
  },
  {
    "text": "things specifically so my my presentation is going to be focusing on hardening your Cisco routers and",
    "start": "106200",
    "end": "111759"
  },
  {
    "text": "hardening your Cisco Catalyst switches um instead of going full-blown into IDs",
    "start": "111759",
    "end": "118439"
  },
  {
    "text": "and firewall and VPN and all the other solutions that Cisco offers which is pretty much everything uh so that's",
    "start": "118439",
    "end": "124520"
  },
  {
    "text": "going to be my focus now why talk on Cisco at a Cisco at a window shell okay",
    "start": "124520",
    "end": "130759"
  },
  {
    "text": "this is the point at which I was supposed to figure something out to answer this question and I still don't have an",
    "start": "130759",
    "end": "136560"
  },
  {
    "text": "answer okay there's another side of this there if I tell a joke and that may not have seemed like a joke I'm expecting",
    "start": "136560",
    "end": "142760"
  },
  {
    "text": "some kind of like response maybe a laughter form or",
    "start": "142760",
    "end": "148000"
  },
  {
    "text": "something throw that joke out too okay I see how this works group of Security Professionals",
    "start": "148000",
    "end": "155280"
  },
  {
    "text": "that are really uptight about their job okay I get it all right um well hey it's you know",
    "start": "155280",
    "end": "162760"
  },
  {
    "text": "Windows runs on what kind of network unless it's just sitting there by itself and it's pretty secure that",
    "start": "162760",
    "end": "168840"
  },
  {
    "text": "way all right um how will the material be presented I'm going to flip through these slides really fast because there",
    "start": "168840",
    "end": "175200"
  },
  {
    "text": "like 60 of them and I got to get through them in an hour so here we go all right um",
    "start": "175200",
    "end": "180800"
  },
  {
    "text": "we going to break it out into three sections uh section one I'm going to talk about how to get into the box how",
    "start": "180800",
    "end": "186360"
  },
  {
    "text": "to get management information out of the boxes on Cisco routers and how to turn off all the things that are on the box that should have been turned off by",
    "start": "186360",
    "end": "192400"
  },
  {
    "text": "Cisco in the first place uh then we're going to jump into some uh layer two issues talk about vlans VLAN design uh",
    "start": "192400",
    "end": "199920"
  },
  {
    "text": "get into some of the little attacks that we've seen uh VLAN hopping Network sniffing see if we can figure out some",
    "start": "199920",
    "end": "205760"
  },
  {
    "text": "ways around those uh then we're going to jump into layer three I'm going to some access lists but I'm just going to tell",
    "start": "205760",
    "end": "211480"
  },
  {
    "text": "you what type access lists there are I'm not going to go into how to configure access lists we don't have a full day",
    "start": "211480",
    "end": "217400"
  },
  {
    "text": "all Cisco access list or you know if you don't know them by now then oh well come",
    "start": "217400",
    "end": "222599"
  },
  {
    "text": "talk to me later uh jump into some IP routing protocols how to turn on all the authentication features for all the",
    "start": "222599",
    "end": "228480"
  },
  {
    "text": "Cisco routing protocols uh and then we're going to jump into hsrp because well just because uh again of FX that",
    "start": "228480",
    "end": "235360"
  },
  {
    "text": "you know told us how we're going to destroy hsrp so I'm going to tell you how to fix it all right so section one",
    "start": "235360",
    "end": "242360"
  },
  {
    "text": "first part here we're going to talk about turning off all these unused features and turning on the things you should be using all right when you boot up your",
    "start": "242360",
    "end": "249680"
  },
  {
    "text": "Cisco router that has no configuration on it whatsoever what is turned on that you should be turning",
    "start": "249680",
    "end": "256879"
  },
  {
    "text": "off a whole bunch of stuff and a lot of these have well-known",
    "start": "258400",
    "end": "264479"
  },
  {
    "text": "exploits or many well-known exploits so here's all the commands to",
    "start": "264479",
    "end": "271000"
  },
  {
    "text": "turn all this stuff off turn off small uh small servers both TCP and UDP that",
    "start": "271000",
    "end": "276560"
  },
  {
    "text": "covers Echo character generation discard features uh there's several isps that",
    "start": "276560",
    "end": "281800"
  },
  {
    "text": "have been you know denial a service attacked just based on those three protocols Alone um finger finger works great if",
    "start": "281800",
    "end": "290600"
  },
  {
    "text": "you use it in conjunction with the most commonly used protocol to transport your configuration and your flash files",
    "start": "290600",
    "end": "296919"
  },
  {
    "text": "around hm finger the router what's the host name okay let's find the tftp server and type",
    "start": "296919",
    "end": "303039"
  },
  {
    "text": "in host name. text and get that file what do you want to bet that that's your",
    "start": "303039",
    "end": "308120"
  },
  {
    "text": "configuration file on your tftp server lucky",
    "start": "308120",
    "end": "313600"
  },
  {
    "text": "guess um there's other ways to find the host name but all right uh bootp we're using that",
    "start": "314960",
    "end": "323520"
  },
  {
    "text": "right autoinstall that's a you know actually that's a useful feature if you're using it and I've never seen",
    "start": "323520",
    "end": "329759"
  },
  {
    "text": "anyone use it uh that's the feature where you get to take an unconfigured Cisco router and",
    "start": "329759",
    "end": "335240"
  },
  {
    "text": "plug it in never been configured it's long as it's got a live serial link it'll come up it'll do a slarp that's a",
    "start": "335240",
    "end": "341360"
  },
  {
    "text": "Serial line ARP to figure out its address it will then go through the process of doing a dynamic tftp get",
    "start": "341360",
    "end": "348520"
  },
  {
    "text": "request to get its configuration it's pretty cool it's super insecure but uh",
    "start": "348520",
    "end": "354440"
  },
  {
    "text": "you know kind of a cool feature turn it off um and there's other ones oh the no",
    "start": "354440",
    "end": "361039"
  },
  {
    "text": "IP domain lookup thing was added on there because it just annoys the snot out of me every time I type a bad command on the router and it comes back",
    "start": "361039",
    "end": "366639"
  },
  {
    "text": "and sits and waits there for 15 seconds is it's trying to do a DNS lookup for a command that I fat fingered",
    "start": "366639",
    "end": "373080"
  },
  {
    "text": "okay all right uh interface level things IP",
    "start": "373080",
    "end": "378560"
  },
  {
    "text": "unreachables stop sending unreachable messages on your router uh proxy arp we all know what",
    "start": "378560",
    "end": "384440"
  },
  {
    "text": "that does Source routing actually I skipped that in the last page some routers uh have the command on the",
    "start": "384440",
    "end": "390319"
  },
  {
    "text": "interface depending on the iOS some will do it globally with no IP Source route uh some routers you can do it both the",
    "start": "390319",
    "end": "397280"
  },
  {
    "text": "interface or globally so I would I would type the commands in both places if it doesn't take the command at the interface then it was already turned off",
    "start": "397280",
    "end": "404479"
  },
  {
    "text": "globally you're fine um there's no reason to be using Source routing today and most reasons",
    "start": "404479",
    "end": "410599"
  },
  {
    "text": "for Source routing are for hacking tools so good reason to turn it off um no IP",
    "start": "410599",
    "end": "416000"
  },
  {
    "text": "directed broadcast now that's defaulted on all images after or 120 that is the",
    "start": "416000",
    "end": "421160"
  },
  {
    "text": "that is the main line of defense against Smurf attacks and other other dalala",
    "start": "421160",
    "end": "426520"
  },
  {
    "text": "surface attacks that take advantage of uh you know hitting the uh the broadcast",
    "start": "426520",
    "end": "432280"
  },
  {
    "text": "address all right uh features you should turn on uh Nagel anybody know what Nagel",
    "start": "432960",
    "end": "440520"
  },
  {
    "text": "is okay um most routers most people use telet to",
    "start": "440520",
    "end": "446440"
  },
  {
    "text": "get into their routers or they have interactive traffic running back and forth routers um when you guys were",
    "start": "446440",
    "end": "451919"
  },
  {
    "text": "learning that OSI model thing right remember that thing application yeah",
    "start": "451919",
    "end": "457720"
  },
  {
    "text": "yeah um tnet is the perfect example of the most bloated protocol I've ever seen",
    "start": "457720",
    "end": "465039"
  },
  {
    "text": "running anywhere because the process of going all the way down that OSI model",
    "start": "465039",
    "end": "470360"
  },
  {
    "text": "encapsulates a single character with a TCP header IP header ethernet header one",
    "start": "470360",
    "end": "478440"
  },
  {
    "text": "character Nagel uh the Nagel uh algorithm",
    "start": "478440",
    "end": "485919"
  },
  {
    "text": "essentially just stores a buffer of characters and then sends a large packet of you know a string of characters",
    "start": "485919",
    "end": "491960"
  },
  {
    "text": "instead of one character at a time and generating huge amounts of interactive traffic without it on um you could run",
    "start": "491960",
    "end": "497800"
  },
  {
    "text": "exploits against tnet just start shooting a whole bunch of traffic over and see all this little tiny traffic on",
    "start": "497800",
    "end": "502840"
  },
  {
    "text": "your network but it is exploitable so uh we're all familiar with login",
    "start": "502840",
    "end": "508599"
  },
  {
    "text": "banners uh you know don't put welcome in we all know all the stories on that by the way",
    "start": "508599",
    "end": "515560"
  },
  {
    "text": "uh why be y wbp TT Fe o l t it's you will be",
    "start": "515560",
    "end": "522320"
  },
  {
    "text": "prosecuted to the full extent of the law you know I didn't have enough room on the slid so just abbreviate it all",
    "start": "522320",
    "end": "530120"
  },
  {
    "text": "right other things now if you're running at least to 2600 or higher uh and of",
    "start": "530120",
    "end": "537240"
  },
  {
    "text": "course recent code you should be running Seth okay this is not for all intents",
    "start": "537240",
    "end": "545200"
  },
  {
    "text": "and purposes is not a security feature but it'll lead into one uh it will give",
    "start": "545200",
    "end": "552560"
  },
  {
    "text": "you a boost of performance probably up to 25% just by turning it on on your",
    "start": "552560",
    "end": "557800"
  },
  {
    "text": "router just by the way it handles uh taking IP routes and pre-caching all the",
    "start": "557800",
    "end": "563760"
  },
  {
    "text": "next toop Mac addresses and everything it needs to do for a forwarding information table excellent Fe feater you should",
    "start": "563760",
    "end": "570040"
  },
  {
    "text": "have it turned on yes",
    "start": "570040",
    "end": "572959"
  },
  {
    "text": "sir why",
    "start": "575959",
    "end": "579160"
  },
  {
    "text": "not give me an",
    "start": "582279",
    "end": "585640"
  },
  {
    "text": "example okay um I'd have to see how you would get the cash information off the",
    "start": "598320",
    "end": "605399"
  },
  {
    "text": "router cool hey I want I want to see that because I haven't seen any exploits against Seth um I do know that at a",
    "start": "605880",
    "end": "613320"
  },
  {
    "text": "service provider environment uh having seph gives you the ability to run the uh",
    "start": "613320",
    "end": "619000"
  },
  {
    "text": "unicast reverse path forwarding okay now that is going to somewhat protect you or",
    "start": "619000",
    "end": "624440"
  },
  {
    "text": "at least be able to detect a wide variety of the distributed denial of service attacks that are out there and",
    "start": "624440",
    "end": "629720"
  },
  {
    "text": "that's what I have diagrammed up here it's a requirement that you have Seth to use this feature um essentially what it",
    "start": "629720",
    "end": "635800"
  },
  {
    "text": "does is it turns your router into it it looks for forced asymmetric routing if",
    "start": "635800",
    "end": "641079"
  },
  {
    "text": "you got a route come in like in this case we have uh an IP address of 192",
    "start": "641079",
    "end": "646440"
  },
  {
    "text": "16881 with a odd bit mask there um as that comes in",
    "start": "646440",
    "end": "652880"
  },
  {
    "text": "if you look at the source address the source address is on that subnet that's coming into the router and",
    "start": "652880",
    "end": "658079"
  },
  {
    "text": "the router goes wait a minute how would I by any fathomable imagination forward a packet back out",
    "start": "658079",
    "end": "665480"
  },
  {
    "text": "that serial zero interface if the source address is on my ethernet Network or at",
    "start": "665480",
    "end": "670560"
  },
  {
    "text": "least it should be so it's verifying The Source address to make sure it can reach it and reach it back out the same",
    "start": "670560",
    "end": "676959"
  },
  {
    "text": "interface it went out or rather the the packet came in so in this case it would end up",
    "start": "676959",
    "end": "682839"
  },
  {
    "text": "dropping it everybody understand what this is doing that make sense all right now the only problem you",
    "start": "682839",
    "end": "690200"
  },
  {
    "text": "have with this feature is one you only want to turn it on where you have an",
    "start": "690200",
    "end": "696160"
  },
  {
    "text": "asymmetric environment inside of your Enterprise where you may have multiple routes to a destination load balancing",
    "start": "696160",
    "end": "702560"
  },
  {
    "text": "and so on or just you know just simply by the nature of routing uh this is not a feature you want to turn on for those",
    "start": "702560",
    "end": "709279"
  },
  {
    "text": "interfaces um you might want to turn it on for your dial pool dial pool is another commonly exploited place for uh",
    "start": "709279",
    "end": "716920"
  },
  {
    "text": "distributed denal a service uh you want to turn it on for your external ether your external uh connection off to the",
    "start": "716920",
    "end": "723040"
  },
  {
    "text": "internet unless you're running bgp and you're multihoming the internet now if you're multihoming then you're going to",
    "start": "723040",
    "end": "728480"
  },
  {
    "text": "have to play with some weights and local preference values to make sure that you are getting asymmetric route information",
    "start": "728480",
    "end": "734360"
  },
  {
    "text": "from your carriers like you know half the you know half if you're full-blown internet tables let's say half the",
    "start": "734360",
    "end": "739639"
  },
  {
    "text": "routes go out this carrier and half the route go go out the other it'll still support bgp's reliability because if one",
    "start": "739639",
    "end": "746240"
  },
  {
    "text": "path goes down you're still getting all your asymmetric paths over the other link so you're okay all right oh by the way I I have",
    "start": "746240",
    "end": "753199"
  },
  {
    "text": "some links at the end if you see the little chain link thing there um I got a link to packet Storm's website for",
    "start": "753199",
    "end": "759399"
  },
  {
    "text": "updated distributed denial service taex",
    "start": "759399",
    "end": "763160"
  },
  {
    "text": "yeah yes um um anti-spoofing ACL uh solve a lot",
    "start": "765720",
    "end": "772440"
  },
  {
    "text": "of this it will but a lot of times the",
    "start": "772440",
    "end": "777880"
  },
  {
    "text": "uh again notice that my wording up here was uh RF reverse path wording helps",
    "start": "777880",
    "end": "784160"
  },
  {
    "text": "denial of ser distribut dial service detection not prevention because if it's coming from legitimate addresses out on",
    "start": "784160",
    "end": "790240"
  },
  {
    "text": "the internet this isn't going to help but it is going to help you in detecting it in",
    "start": "790240",
    "end": "796800"
  },
  {
    "text": "seeing what's going on um but if they're spoofing addresses",
    "start": "796800",
    "end": "802120"
  },
  {
    "text": "internally then this is just going to drop it immediately and it's going to do it a lot more efficiently than an access list because it's already cached based",
    "start": "802120",
    "end": "808639"
  },
  {
    "text": "on Seth okay so it just dumps it right away good question I like questions so",
    "start": "808639",
    "end": "815000"
  },
  {
    "text": "if you guys got questions just shoot fire away all right um let's see device",
    "start": "815000",
    "end": "821199"
  },
  {
    "text": "access options talk about console and auxiliary and so on all right console",
    "start": "821199",
    "end": "828639"
  },
  {
    "text": "access physical access to the Box first get a Cisco router it's really the only way in that's it use it for initial",
    "start": "828639",
    "end": "836959"
  },
  {
    "text": "configs put the information on you need you need it for other management purposes it's pretty easy to get around",
    "start": "836959",
    "end": "842680"
  },
  {
    "text": "the passwords on a Cisco router I'm going to show you all the commands to do uh password recovery here in a minute um",
    "start": "842680",
    "end": "849000"
  },
  {
    "text": "so again if I've got physical access I just I don't have to worry just about password recovery but hey people are",
    "start": "849000",
    "end": "854680"
  },
  {
    "text": "just going to take take the box put it on eBay sell it you know physical access is a major concern especially for any",
    "start": "854680",
    "end": "861199"
  },
  {
    "text": "Cisco device because they are very compromisable very quickly that includes right up to your pick",
    "start": "861199",
    "end": "868040"
  },
  {
    "text": "box if you have physical access you own the box that fast all right um ways you can protect",
    "start": "868040",
    "end": "876279"
  },
  {
    "text": "it a little bit you can put all these different console passwords up there you can use",
    "start": "876279",
    "end": "881519"
  },
  {
    "text": "Tac ax that is saying that people aren't going to just run password recovery and",
    "start": "881519",
    "end": "886839"
  },
  {
    "text": "get around it anyways doesn't matter how secure it is um that being said there is a secret IOS command on certain versions",
    "start": "886839",
    "end": "894240"
  },
  {
    "text": "of of routers that disable password recovery can't see it and help but it's",
    "start": "894240",
    "end": "900040"
  },
  {
    "text": "there show it to you guys in a little bit does anybody know what I'm talking about anybody run it I know FX has seen",
    "start": "900040",
    "end": "907480"
  },
  {
    "text": "it we were talking about last night all right uh the",
    "start": "907480",
    "end": "913920"
  },
  {
    "text": "oxport I actually like do using the ox Port more than the console Port because it has uh it has a full eight line TTY",
    "start": "914000",
    "end": "921240"
  },
  {
    "text": "Port I and it's you know not just transmit receiving ground like the console Port it really has carrier detect and you know CT R",
    "start": "921240",
    "end": "930120"
  },
  {
    "text": "RTS um but here's all things set the log in what am I usually going to use the ox",
    "start": "930120",
    "end": "937000"
  },
  {
    "text": "Port 4 dial in access to the router the the switch",
    "start": "937000",
    "end": "942120"
  },
  {
    "text": "if everything's down it's my remote method of managing a box that I just can't get to anymore instead of getting",
    "start": "942120",
    "end": "949240"
  },
  {
    "text": "on a plane and going somewhere uh that being said if you're going to attach a modem to a router it's just as",
    "start": "949240",
    "end": "955360"
  },
  {
    "text": "vulnerable now you can't do password recovery off the oxport which is nice so you couldn't remotely Do It um but it's",
    "start": "955360",
    "end": "961920"
  },
  {
    "text": "pretty dangerous to go attaching or attaching a live Modem with telephone number to it when you're only using it",
    "start": "961920",
    "end": "967399"
  },
  {
    "text": "for a last resort type scenario so I suggest if you want to use that go ahead and have that modem there but unplug it",
    "start": "967399",
    "end": "973680"
  },
  {
    "text": "don't let anybody use it lock it down proper passwords and everything I put you know the the simple option up here",
    "start": "973680",
    "end": "981160"
  },
  {
    "text": "just put the uh the password um now you can use local login and put in uh a",
    "start": "981160",
    "end": "986519"
  },
  {
    "text": "username and password or you can use uh Tac a or radius or curb Rose I put the TAC a example up",
    "start": "986519",
    "end": "993279"
  },
  {
    "text": "here all right vty access here's some of the issues I have",
    "start": "994120",
    "end": "1000319"
  },
  {
    "text": "with this number one unconfigured the vty port on a Cisco router takes just",
    "start": "1000319",
    "end": "1005959"
  },
  {
    "text": "about every protocol that you haven't run for years and supports it okay things like mop and lat and pad for x.25",
    "start": "1005959",
    "end": "1014120"
  },
  {
    "text": "oh and yeah tnet too um if if you're not running that",
    "start": "1014120",
    "end": "1020040"
  },
  {
    "text": "stuff shut it off as a matter of fact why are you configuring a router with telnet today",
    "start": "1020040",
    "end": "1026760"
  },
  {
    "text": "anyways yeah I know it's more expensive to go by the ipac version of",
    "start": "1026760",
    "end": "1031880"
  },
  {
    "text": "iOS but if you do if you have that run SSH so here's here's some things you",
    "start": "1031880",
    "end": "1038520"
  },
  {
    "text": "want to do uh lots of different attacks you can flood the router with tail Nets and do denial surface attacks on it uh",
    "start": "1038520",
    "end": "1044918"
  },
  {
    "text": "man in the middle if I'm sitting on the network with uh you know any of the multitude of tools out there and watching traffic go by all that T net",
    "start": "1044919",
    "end": "1051520"
  },
  {
    "text": "information is sitting there okay might be one character at a time if you don't turn Nagel on but I could put everything",
    "start": "1051520",
    "end": "1057000"
  },
  {
    "text": "back together and figure out what you're doing um what you need to do is you need to",
    "start": "1057000",
    "end": "1062919"
  },
  {
    "text": "use this transport input SSH or or transport input tet if you don't have the SSH code at least turn off all the",
    "start": "1062919",
    "end": "1069720"
  },
  {
    "text": "other uh capabilities SSH would be optimal if you want to run SSH and tnet",
    "start": "1069720",
    "end": "1074919"
  },
  {
    "text": "you can put both of those and support both of them and still turn off all the other things you just to uh transport input SSH space tailet um another option",
    "start": "1074919",
    "end": "1084039"
  },
  {
    "text": "is turn it off completely uh transport input none there you go now you can't",
    "start": "1084039",
    "end": "1089440"
  },
  {
    "text": "get in that may be a a more viable solution for you if you're local to the router just use you know if you have",
    "start": "1089440",
    "end": "1096000"
  },
  {
    "text": "physical access if you can walk in and get to the router use the console Port uh let's",
    "start": "1096000",
    "end": "1103200"
  },
  {
    "text": "see thing is you know I mean Cisco management is designed for this kind of",
    "start": "1103200",
    "end": "1109760"
  },
  {
    "text": "access it's the way they've designed it so it's it's really useful to be able to tnet to and from your devices and your",
    "start": "1109760",
    "end": "1116400"
  },
  {
    "text": "network I can't deny that from management standpoint to large Network being able to move around the network is",
    "start": "1116400",
    "end": "1121640"
  },
  {
    "text": "important um so but take care of it all right oh also on the uh sh SSH I",
    "start": "1121640",
    "end": "1130559"
  },
  {
    "text": "got a big old note here Cisco has had some uh active uh advisories regarding SSH so you might want to read that",
    "start": "1130559",
    "end": "1137000"
  },
  {
    "text": "advisory before you go run SSH even still it's much more secure than tet even if you're susceptible to the",
    "start": "1137000",
    "end": "1143960"
  },
  {
    "text": "attacks on SSH it's going to be a lot more secure than telling that um",
    "start": "1143960",
    "end": "1150200"
  },
  {
    "text": "yeah yep same kind of",
    "start": "1150200",
    "end": "1155880"
  },
  {
    "text": "attacks yep but there are fixes for it if you have the right code so you just",
    "start": "1155880",
    "end": "1161600"
  },
  {
    "text": "make sure you have the right code on your routers and your switches and and I'm putting the commands up here for the router but I'm going to show the commands for the Catalyst switch the set",
    "start": "1161600",
    "end": "1167559"
  },
  {
    "text": "base commands here in a minute too so you guys will get those uh also there's another link there so there's some",
    "start": "1167559",
    "end": "1173080"
  },
  {
    "text": "information more information on configuring SSH all right password issues all the",
    "start": "1173080",
    "end": "1178640"
  },
  {
    "text": "different types of passwords on our routers uh we're going to talk about what if I don't set the password or type in no password uh what's the deal with",
    "start": "1178640",
    "end": "1185640"
  },
  {
    "text": "Cisco's encryption technology that they use on their devices uh and then password recovery techniques",
    "start": "1185640",
    "end": "1191799"
  },
  {
    "text": "so three levels of passwords on a router user exec privilege exec and you can",
    "start": "1191799",
    "end": "1197840"
  },
  {
    "text": "create custom levels user exac is still needs to be guarded but if you got user",
    "start": "1197840",
    "end": "1205200"
  },
  {
    "text": "exac on a Cisco box what can you do not much you can look around show IP route",
    "start": "1205200",
    "end": "1212640"
  },
  {
    "text": "you can look at some of the tables like bgp tables you can look at the ARP tables you can't do any configuration you can't see the",
    "start": "1212640",
    "end": "1218799"
  },
  {
    "text": "configurations um you can't turn on somewhat destructive features like debug",
    "start": "1218799",
    "end": "1224400"
  },
  {
    "text": "IP packet all detail um which could cause some",
    "start": "1224400",
    "end": "1230080"
  },
  {
    "text": "problems you can't do U uh what people commonly use for Smurf",
    "start": "1230080",
    "end": "1235600"
  },
  {
    "text": "attacks which is the Ping tool on a Cisco router you can't do uh extended ping you",
    "start": "1235600",
    "end": "1241760"
  },
  {
    "text": "could type ping in an address excuse me but all right so",
    "start": "1241760",
    "end": "1249280"
  },
  {
    "text": "privilege exec this uh is essentially the root for the root for the Box you get privilege exec you own the box you",
    "start": "1249280",
    "end": "1255640"
  },
  {
    "text": "can do anything you want if you had console access you still own the box but uh privilege exec all functions all",
    "start": "1255640",
    "end": "1263120"
  },
  {
    "text": "capabilities of that device are available at your fingertips okay you are dangerous Uh custom levels can be",
    "start": "1263120",
    "end": "1269600"
  },
  {
    "text": "created and this is often done in large Enterprise or service provider environments where you have multiple",
    "start": "1269600",
    "end": "1274919"
  },
  {
    "text": "levels of tax um they are inherit they do inherit the level so level two will",
    "start": "1274919",
    "end": "1281400"
  },
  {
    "text": "imply res will add abilities to what otherwise weren't available at level one",
    "start": "1281400",
    "end": "1286919"
  },
  {
    "text": "and so on you can also create so you actually remove things from capabilities as well um I don't see it used too often",
    "start": "1286919",
    "end": "1293760"
  },
  {
    "text": "except for in in really large environments um you could also use the authorization portion of Triple A from a",
    "start": "1293760",
    "end": "1301200"
  },
  {
    "text": "tack a or or radius standpoint to turn on these capabilities for exec commands and so",
    "start": "1301200",
    "end": "1307000"
  },
  {
    "text": "on all right what happens if I don't set the password well it depends on where I'm at",
    "start": "1307000",
    "end": "1313360"
  },
  {
    "text": "if you don't set the password on a vty port what happens",
    "start": "1313360",
    "end": "1320520"
  },
  {
    "text": "because by default The Cisco router says vty all five vty lines we're going to",
    "start": "1320880",
    "end": "1326600"
  },
  {
    "text": "log in but there's no password set so what happens unconfigured Cisco box I I",
    "start": "1326600",
    "end": "1332440"
  },
  {
    "text": "well I go in I put an IP address on it and I go somewhere else somewhere else in the network and I tell net to that box what's going to",
    "start": "1332440",
    "end": "1339200"
  },
  {
    "text": "happen somebody knows nobody",
    "start": "1340120",
    "end": "1346559"
  },
  {
    "text": "H it comes back and says login required but password's not set goodbye hangs up",
    "start": "1346559",
    "end": "1353080"
  },
  {
    "text": "so by not setting the password on the VT ports you're not going to be able to get",
    "start": "1353080",
    "end": "1359320"
  },
  {
    "text": "in matter of fact to go one step further if you don't set the the privilege exec password as well you set the vty",
    "start": "1359320",
    "end": "1366360"
  },
  {
    "text": "password but didn't set the privilege exact password if you tell it into most Cisco boxes you'll get user exec you'll",
    "start": "1366360",
    "end": "1372559"
  },
  {
    "text": "type enable won't let you in without a secret password or enable password um I wouldn't bet my life on",
    "start": "1372559",
    "end": "1380919"
  },
  {
    "text": "that without testing it okay um I I know for sure that no password on vty though",
    "start": "1380919",
    "end": "1386320"
  },
  {
    "text": "on all CSCO boxes that I've ever run into uh the same is not true for the",
    "start": "1386320",
    "end": "1391360"
  },
  {
    "text": "console and auxiliary port if the console Port set for login or the auxiliary port set for login and there's",
    "start": "1391360",
    "end": "1396520"
  },
  {
    "text": "no password it'll let you in it won't even ask you so on those particular cases if you",
    "start": "1396520",
    "end": "1403000"
  },
  {
    "text": "ever wanted to disable the console or auxiliary you could turn off you know transport input transport output set",
    "start": "1403000",
    "end": "1409600"
  },
  {
    "text": "them to none and then do no exec meaning no exec prompt on the device so the console and auxilary would",
    "start": "1409600",
    "end": "1416720"
  },
  {
    "text": "be disabled until you powered off the box and did a did a password recovery and hey funny thing all those",
    "start": "1416720",
    "end": "1422279"
  },
  {
    "text": "configuration commands just go",
    "start": "1422279",
    "end": "1425480"
  },
  {
    "text": "away all right password encryption um most passwords stored on",
    "start": "1427480",
    "end": "1433159"
  },
  {
    "text": "Cisco boxes are clear text or should be clear text that's even if if you type",
    "start": "1433159",
    "end": "1438919"
  },
  {
    "text": "that service password-encryption command the service password-encryption command does a very very weak encryption",
    "start": "1438919",
    "end": "1446440"
  },
  {
    "text": "technology so weak that a friend of mine and I sat down and within 40 minutes on",
    "start": "1446440",
    "end": "1452000"
  },
  {
    "text": "pen and paper we decoded it okay just give you an idea um there's",
    "start": "1452000",
    "end": "1461120"
  },
  {
    "text": "very there's more tools for your Palm Pilot to crack the Cisco weak encryption",
    "start": "1461120",
    "end": "1466279"
  },
  {
    "text": "that'll do it in a quarter of a second you know blink uh I did it last night on",
    "start": "1466279",
    "end": "1471679"
  },
  {
    "text": "uh Blackout's router they gave me the test they didn't tell me the password so I hacked it",
    "start": "1471679",
    "end": "1479200"
  },
  {
    "text": "uh so what do you do instead uh for the secret password that is md5 encrypted",
    "start": "1479200",
    "end": "1485080"
  },
  {
    "text": "that's the password that gets you to the enable prompt that's what you want to set there are other md5 passwords on the",
    "start": "1485080",
    "end": "1491960"
  },
  {
    "text": "router if you ever if you're ever typing a password and it shows it's asking you what type of password a number between",
    "start": "1491960",
    "end": "1497960"
  },
  {
    "text": "zero and seven type five it may not take the password it may come back with an error and say oh no we don't support",
    "start": "1497960",
    "end": "1503520"
  },
  {
    "text": "type five for that password and then you're stuck doing type seven which is Cisco proprietary encryption that's",
    "start": "1503520",
    "end": "1508840"
  },
  {
    "text": "really weak um but I would try it on every password on every router you get try type five for all the passwords if",
    "start": "1508840",
    "end": "1514840"
  },
  {
    "text": "you can do that first if it doesn't then at least try the weak encryption but you know again the weak encryption is only",
    "start": "1514840",
    "end": "1521279"
  },
  {
    "text": "going to protect you against somebody staring over your shoulder watching the config go by on your screen if anybody",
    "start": "1521279",
    "end": "1527240"
  },
  {
    "text": "has that information figure it figure it's been compromised all right password recovery",
    "start": "1527240",
    "end": "1534320"
  },
  {
    "text": "on Cisco routers actually I didn't put the information for uh Cisco switches so I'll cover that too uh it's as simple as",
    "start": "1534320",
    "end": "1541159"
  },
  {
    "text": "powering off the Box power off the Box console access power back on hit the brake key as the Box comes up that could",
    "start": "1541159",
    "end": "1548200"
  },
  {
    "text": "be on your PC control Brak if it's a Weiss terminal hit F5 or they actually",
    "start": "1548200",
    "end": "1553520"
  },
  {
    "text": "have Brak Keys okay doesn't matter send the brake sequence to the router it's going to put you in romm romm's",
    "start": "1553520",
    "end": "1560320"
  },
  {
    "text": "equivalent on a router of BIOS on a PC uh at that point depending on the platform you're either going to change",
    "start": "1560320",
    "end": "1567120"
  },
  {
    "text": "the heximal address the registry address to 2142 or you're going to run a program called a script really called comr",
    "start": "1567120",
    "end": "1574600"
  },
  {
    "text": "inside that conf frge script of questions there'll be a question that says ignore the system configuration",
    "start": "1574600",
    "end": "1580440"
  },
  {
    "text": "info yes or no say yes and then reset the router when it comes back up it's",
    "start": "1580440",
    "end": "1586960"
  },
  {
    "text": "going to ignore the startup config file which is stored in NV RAM on the box comes up unconfigured box but all",
    "start": "1586960",
    "end": "1594880"
  },
  {
    "text": "the information all the passwords everything is still there on the device it's all",
    "start": "1594880",
    "end": "1600799"
  },
  {
    "text": "sitting in NV Ram it's just not in the running config being two different configurations on a Cisco",
    "start": "1600799",
    "end": "1606960"
  },
  {
    "text": "router um there is a way on some boxes to get around this uh discovered this by",
    "start": "1606960",
    "end": "1613200"
  },
  {
    "text": "doing some you know hacking through iOS there is a command called service password Das recovery or the inverse of",
    "start": "1613200",
    "end": "1619840"
  },
  {
    "text": "course being no service password D recovery if you type this in when you",
    "start": "1619840",
    "end": "1625200"
  },
  {
    "text": "reload the Box there's well actually first of all when you type this in it comes back with this nice long paragraph",
    "start": "1625200",
    "end": "1630480"
  },
  {
    "text": "of you better not do this or you're not going to be able to get back into the box if you don't know the password you better find another way",
    "start": "1630480",
    "end": "1636960"
  },
  {
    "text": "around okay say yes turn the box on turn it back on",
    "start": "1636960",
    "end": "1642360"
  },
  {
    "text": "issue the break sequence and try and do pass recovery it has this big bold message as soon as you turn the box up",
    "start": "1642360",
    "end": "1647720"
  },
  {
    "text": "that passage recovery has been disabled and if you hit break during power up it'll come back and ask",
    "start": "1647720",
    "end": "1654440"
  },
  {
    "text": "you factory default yes or no so the only way to break into the box",
    "start": "1654440",
    "end": "1660000"
  },
  {
    "text": "at that point is to kill everything that that box knows about meaning all of your passwords that are are Cisco proprietary",
    "start": "1660000",
    "end": "1666880"
  },
  {
    "text": "weekly encrypted sitting on that box so those all go away",
    "start": "1666880",
    "end": "1673559"
  },
  {
    "text": "yeah I was n't able to get into rawon when I tried it because it I hit break",
    "start": "1676760",
    "end": "1682120"
  },
  {
    "text": "and it just issued back all these hex codes back to me every time I hit break so it wasn't going into rawon at",
    "start": "1682120",
    "end": "1688480"
  },
  {
    "text": "all possibly but it locks you out of Ramon I think it's the effect the effect",
    "start": "1695120",
    "end": "1700840"
  },
  {
    "text": "of the password recovery option is to lock you out of Ramon and then if you issue a break sequence that it's going",
    "start": "1700840",
    "end": "1706399"
  },
  {
    "text": "to prompt you to uh either factory reset the box or not and",
    "start": "1706399",
    "end": "1711559"
  },
  {
    "text": "attempt to brot force the box so now that being said I just give",
    "start": "1711559",
    "end": "1718760"
  },
  {
    "text": "you gave everybody in this room information that's pretty much public knowledge I mean you can go out and do a search for undocumented Cisco iOS",
    "start": "1718760",
    "end": "1724519"
  },
  {
    "text": "commands and you'll find some rather useful ones out there that you can't find through the help functions um but",
    "start": "1724519",
    "end": "1729919"
  },
  {
    "text": "that's one you know most of the undocumented ones you know you call Cisco Tac to get support and they're not going to help you so they're not going",
    "start": "1729919",
    "end": "1737399"
  },
  {
    "text": "to be able to break in all right management protocols running on your router uh CDP this is how",
    "start": "1737399",
    "end": "1744320"
  },
  {
    "text": "everybody else discovers your network because as soon as you turn it on which by the way it's on on every box um you",
    "start": "1744320",
    "end": "1750399"
  },
  {
    "text": "may look at it once and then the only reason anybody else would use it is they're breaking into your network it's",
    "start": "1750399",
    "end": "1756640"
  },
  {
    "text": "the only use I have for it uh SNMP we all know about that uh ntp what time did",
    "start": "1756640",
    "end": "1762720"
  },
  {
    "text": "they break in uh CIS log talk about that often ignored thing that we turn on and",
    "start": "1762720",
    "end": "1768519"
  },
  {
    "text": "just forget about um and loop back interfaces so let's see",
    "start": "1768519",
    "end": "1774880"
  },
  {
    "text": "CDP uh you can use it to discover your network that's what it's there for every",
    "start": "1774880",
    "end": "1780399"
  },
  {
    "text": "single Cisco device switch router other devices maybe not the pick firewall I",
    "start": "1780399",
    "end": "1785760"
  },
  {
    "text": "think that one's not turning CDP on um pretty much every box that has a Cisco",
    "start": "1785760",
    "end": "1790960"
  },
  {
    "text": "logo on it's running CDP on every interface and it's sending these 60-second broadcasts and sending out",
    "start": "1790960",
    "end": "1798159"
  },
  {
    "text": "lots of information that you don't want other people to know what iOS re rev is",
    "start": "1798159",
    "end": "1803760"
  },
  {
    "text": "it let's just run that against what exploits are out there what's the host name of the Box version two tells you",
    "start": "1803760",
    "end": "1809600"
  },
  {
    "text": "what the native VLAN is on it which now you can run VLAN hopping against it there's more information in CDP to run",
    "start": "1809600",
    "end": "1816799"
  },
  {
    "text": "right just just go to your database of uh exploits against disco routers and you'll have all the information you need",
    "start": "1816799",
    "end": "1823240"
  },
  {
    "text": "just from CDP um my first suggestion is is shut it",
    "start": "1823240",
    "end": "1828440"
  },
  {
    "text": "off completely to turn it off at the router no CDP run do it at the global config prompt it's off completely",
    "start": "1828440",
    "end": "1835600"
  },
  {
    "text": "there's a problem with that a lot of people run Cisco Works 2000 Cisco Works 2000 and",
    "start": "1835600",
    "end": "1843399"
  },
  {
    "text": "CDP don't work without each other so now I got to come up with",
    "start": "1843399",
    "end": "1848440"
  },
  {
    "text": "another solution to deal with CDP here's here's my suggestion on it if",
    "start": "1848440",
    "end": "1856240"
  },
  {
    "text": "the users never see CDP information that's about as secure",
    "start": "1856240",
    "end": "1861360"
  },
  {
    "text": "as you're going to get with CDP so when you start getting into VLAN configuration you want to make sure that",
    "start": "1861360",
    "end": "1866559"
  },
  {
    "text": "every single user Port has CDP turned off the only ports that should have CDP turned on or boxes that are directly",
    "start": "1866559",
    "end": "1872919"
  },
  {
    "text": "connected to other Cisco boxes that don't have any other hosts on that",
    "start": "1872919",
    "end": "1877960"
  },
  {
    "text": "segment and then you can turn it on Turn Turn CDP off for all the interfaces that",
    "start": "1877960",
    "end": "1883200"
  },
  {
    "text": "don't match that criteria um the only thing can't tell",
    "start": "1883200",
    "end": "1888480"
  },
  {
    "text": "you otherwise if you're not running Cisco Works 2000 shut it",
    "start": "1888480",
    "end": "1894200"
  },
  {
    "text": "off all right SNMP which stands for simple Network attacks made",
    "start": "1894200",
    "end": "1900480"
  },
  {
    "text": "possible uh",
    "start": "1900480",
    "end": "1903760"
  },
  {
    "text": "yeah off doesn't accept it in doesn't send it",
    "start": "1908639",
    "end": "1914200"
  },
  {
    "text": "out it is off although I haven't fully tested that I'm pretty pretty sure that",
    "start": "1914200",
    "end": "1921240"
  },
  {
    "text": "it is off because you do a show CDP on a router that's been turned off it's a CDP is not enabled so it comes back and said",
    "start": "1921240",
    "end": "1928039"
  },
  {
    "text": "it's not there which is a far cry different from like igrp and passive",
    "start": "1928039",
    "end": "1933120"
  },
  {
    "text": "interfaces which still take igp routes or rip the same scenario still take the routes in because it's listening",
    "start": "1933120",
    "end": "1941039"
  },
  {
    "text": "passively um okay if you're if you need to run SNMP",
    "start": "1941760",
    "end": "1948600"
  },
  {
    "text": "again this could come down to Cisco Works 2000 or HB open view we all know the exploits against",
    "start": "1948600",
    "end": "1955519"
  },
  {
    "text": "SNMP is widely known um we know that people are going to leave public and",
    "start": "1955519",
    "end": "1962240"
  },
  {
    "text": "private sitting on you just sit there with any SNMP tool you download off the internet public private let's see what",
    "start": "1962240",
    "end": "1968200"
  },
  {
    "text": "we can see did in a school system out in California we were doing a Cisco Works",
    "start": "1968200",
    "end": "1973840"
  },
  {
    "text": "2000 class oh let's see how many devices we can see we had to stop because it not only discovered their network but",
    "start": "1973840",
    "end": "1980480"
  },
  {
    "text": "Network next to them and we had about a thousand devices before we had to shut the thing off because it just kept going",
    "start": "1980480",
    "end": "1987799"
  },
  {
    "text": "public private everywhere um if you're going to use",
    "start": "1987799",
    "end": "1994159"
  },
  {
    "text": "SNMP only turn on the readon string it's bad enough having to turn that on but",
    "start": "1994159",
    "end": "2001200"
  },
  {
    "text": "don't don't have a rewrite string okay uh it is very insecure the a good good method a good",
    "start": "2001200",
    "end": "2009000"
  },
  {
    "text": "method to deal with it is create access lists so the SNMP Community is uh is pointing to a particular access list",
    "start": "2009000",
    "end": "2015039"
  },
  {
    "text": "that only permits a certain host to uh to uh actually send uh get",
    "start": "2015039",
    "end": "2022159"
  },
  {
    "text": "requests down to the router as far as SNMP gets uh if you're going to use readr string then look for an",
    "start": "2022159",
    "end": "2028320"
  },
  {
    "text": "application out there that's supporting version three version three of SNMP uh",
    "start": "2028320",
    "end": "2033559"
  },
  {
    "text": "is it out of draft form yet I hav't looked in a while about Go full standard good about",
    "start": "2033559",
    "end": "2039240"
  },
  {
    "text": "time uh supports triple D all we need to say about that so it's",
    "start": "2039240",
    "end": "2045360"
  },
  {
    "text": "a lot more complex to configure than you know just the the view or the community strings uh commands but yeah we're going",
    "start": "2045360",
    "end": "2052839"
  },
  {
    "text": "we're going to be able to encrypt all the information for the management as it should have been a long time",
    "start": "2052839",
    "end": "2058240"
  },
  {
    "text": "ago all right CIS log and SN and ntp now I pick on CIS log here because everybody",
    "start": "2058240",
    "end": "2063878"
  },
  {
    "text": "turn CIS log on oh let's just log everything and you end up with this huge",
    "start": "2063879",
    "end": "2068960"
  },
  {
    "text": "log of stuff that you're just not going to read because it has way more information than you're ever going to look at um but it is you know it's",
    "start": "2068960",
    "end": "2075919"
  },
  {
    "text": "useful very useful tool to turn on we all know logging our boxes is important",
    "start": "2075919",
    "end": "2082000"
  },
  {
    "text": "uh so my point on this is if you're going to log it look at",
    "start": "2082000",
    "end": "2087118"
  },
  {
    "text": "it that being I got a thousand devices in my in my Enterprise how am I got to look at all those logs well get",
    "start": "2087119",
    "end": "2093280"
  },
  {
    "text": "something to manage it is that a question back there or just kind of a moving pen okay cool all right um logs",
    "start": "2093280",
    "end": "2101000"
  },
  {
    "text": "aren't much use if you don't know what time the log actually occurred so synchronizing the time on",
    "start": "2101000",
    "end": "2106920"
  },
  {
    "text": "all your Cisco routers and switches is important running ntp is a very very",
    "start": "2106920",
    "end": "2112079"
  },
  {
    "text": "efficient tool for synchronizing the clocks and the routers it's authenticated you can use the ntp",
    "start": "2112079",
    "end": "2117320"
  },
  {
    "text": "authentication key it's md5 uh it works great matter like I said",
    "start": "2117320",
    "end": "2122720"
  },
  {
    "text": "it's very efficient maybe one pack at every two minutes or something just to you know maintain Within",
    "start": "2122720",
    "end": "2128280"
  },
  {
    "text": "several you know just a couple milliseconds of time on different boxes uh also there's one thing I missed",
    "start": "2128280",
    "end": "2134520"
  },
  {
    "text": "up here because I ran out of room service time stamp log date time and local time there's also another option",
    "start": "2134520",
    "end": "2140320"
  },
  {
    "text": "milliseconds you got to write down to a millisecond on those locks as they get sent",
    "start": "2140320",
    "end": "2146200"
  },
  {
    "text": "off all right loop loop back interfaces this is something you don't get a lot from Cisco they don't tell you about",
    "start": "2149359",
    "end": "2155720"
  },
  {
    "text": "things like this this is going to make your life easier if you do things like this turning on a loop back interface is",
    "start": "2155720",
    "end": "2161920"
  },
  {
    "text": "the one interface on a router that never goes down and because it never goes down you can utilize those features to your",
    "start": "2161920",
    "end": "2169960"
  },
  {
    "text": "advantage what I mean by that is number one security aside right routers have",
    "start": "2169960",
    "end": "2176880"
  },
  {
    "text": "multiple interfaces and all of them have IP addresses and the idea of a router in the IP world is to be resilient if one",
    "start": "2176880",
    "end": "2183640"
  },
  {
    "text": "interface goes down let's try to find another way around to get some other part to the same part of the network",
    "start": "2183640",
    "end": "2189280"
  },
  {
    "text": "using our Dynamic routing protocols well what happens if you were",
    "start": "2189280",
    "end": "2194359"
  },
  {
    "text": "using some kind of peering protocol and you were using that interface it just went down and a peering protocol example",
    "start": "2194359",
    "end": "2200520"
  },
  {
    "text": "would be bgp uh could be I don't know things like dlsw voice over IP all these",
    "start": "2200520",
    "end": "2209880"
  },
  {
    "text": "are going to create a peer relationship between two routers if the interface that they're",
    "start": "2209880",
    "end": "2216920"
  },
  {
    "text": "peering to goes down what happens to the peer relationship it's",
    "start": "2216920",
    "end": "2222480"
  },
  {
    "text": "dead having a loop back interface is going to help that here's how it's going to help from a security standpoint when",
    "start": "2222480",
    "end": "2228119"
  },
  {
    "text": "you tnet out of a router it picks the interface that it leaves as the source",
    "start": "2228119",
    "end": "2233200"
  },
  {
    "text": "address so how many access list entries do you have to have to make sure you're",
    "start": "2233200",
    "end": "2238599"
  },
  {
    "text": "only getting those tell Nets or SSH connections from",
    "start": "2238599",
    "end": "2244200"
  },
  {
    "text": "a router or a switch in your network well switch is a little hard switch",
    "start": "2244200",
    "end": "2249280"
  },
  {
    "text": "doesn't do Loop backs but so here's all these commands up here uh IP tet Source",
    "start": "2249280",
    "end": "2254839"
  },
  {
    "text": "set it to loopback zero The tftp Source if you're using it uh FTP Source you can also the set the logging Source what",
    "start": "2254839",
    "end": "2261760"
  },
  {
    "text": "happens if the logs start coming in from a different direction because the network link went down boy you want that log right but the log's coming from a",
    "start": "2261760",
    "end": "2269160"
  },
  {
    "text": "different IP address so now it's showing up as a totally different device in the log setting these things will help you",
    "start": "2269160",
    "end": "2276400"
  },
  {
    "text": "immensely you can also use it for OPF and bgp to force the router ID",
    "start": "2276400",
    "end": "2283078"
  },
  {
    "text": "yes",
    "start": "2306440",
    "end": "2309440"
  },
  {
    "text": "oh no I never I never said that uh my my idea here is that if I'm configuring",
    "start": "2313440",
    "end": "2320640"
  },
  {
    "text": "another device to make sure that I have an access list in place that only is allowing T Nets from this router would I",
    "start": "2320640",
    "end": "2328119"
  },
  {
    "text": "want to configure an access list that checks every single possible interface on the router that may be in the future",
    "start": "2328119",
    "end": "2333520"
  },
  {
    "text": "or you know is right now or would I want to configure the access list that says just just allow this source to come in",
    "start": "2333520",
    "end": "2339160"
  },
  {
    "text": "because the source is going to be based on that loop back interface agreed now I'm not saying that loop back",
    "start": "2339160",
    "end": "2345280"
  },
  {
    "text": "interface isn't going to be known to the network I'm saying for configuring access lists later on in other places",
    "start": "2345280",
    "end": "2351000"
  },
  {
    "text": "it's going to make your life easier for making sure the the logging comes in is coming in from the correct device it's going to make things",
    "start": "2351000",
    "end": "2357160"
  },
  {
    "text": "easier any other questions on that good question I always get the best questions from other",
    "start": "2357160",
    "end": "2363839"
  },
  {
    "text": "speakers of course they were told to Heckle me so that's okay all right cat switch options pretty much",
    "start": "2363839",
    "end": "2370400"
  },
  {
    "text": "the same options I was just talking about here before so uh as far as setting the passwords on the switch uh",
    "start": "2370400",
    "end": "2376839"
  },
  {
    "text": "password commands a little different on the switch you can set the uh the password that's the user password to get in uh it's the set password command you",
    "start": "2376839",
    "end": "2384319"
  },
  {
    "text": "hit enter then it asks you what the old password was uh type in the old password",
    "start": "2384319",
    "end": "2389599"
  },
  {
    "text": "new password retype it Etc enable password same scenario um did I do",
    "start": "2389599",
    "end": "2395599"
  },
  {
    "text": "password recovery no I didn't okay so password recovery on a catalyst switch at least the set based switches uh uh",
    "start": "2395599",
    "end": "2402240"
  },
  {
    "text": "it'd be 3000s up to 6,000 and so on password recovery is again very simple",
    "start": "2402240",
    "end": "2408160"
  },
  {
    "text": "even simpler than a router if you have console access power off the Box turn it back on as it boots up as soon as you",
    "start": "2408160",
    "end": "2415760"
  },
  {
    "text": "get a user prompt soon all the configurations load but as soon as you",
    "start": "2415760",
    "end": "2421680"
  },
  {
    "text": "get a user prompt type enable type set enable password you have 60 seconds from",
    "start": "2421680",
    "end": "2427720"
  },
  {
    "text": "the time that that thing gives you a prompt to get in here and change the password because it's not going to ask",
    "start": "2427720",
    "end": "2433160"
  },
  {
    "text": "you for a password till 60 seconds has expired and all the configurations are",
    "start": "2433160",
    "end": "2439200"
  },
  {
    "text": "there and there's no secret IOS command here",
    "start": "2439200",
    "end": "2443640"
  },
  {
    "text": "okay all right um You can turn SSH on",
    "start": "2448000",
    "end": "2453839"
  },
  {
    "text": "now at uh a good many of the Cisco switch is",
    "start": "2453839",
    "end": "2459839"
  },
  {
    "text": "um there is a new alert that just came out on the 29th January last week uh",
    "start": "2459839",
    "end": "2467119"
  },
  {
    "text": "that uh the Cisco Catalyst switches are vulnerable to an exploit against BSD",
    "start": "2467119",
    "end": "2472880"
  },
  {
    "text": "Unix that's been out since like June they just never tested it against a Cisco box and yeah it just totally drops",
    "start": "2472880",
    "end": "2481119"
  },
  {
    "text": "the box so uh here's Cisco's workaround as of",
    "start": "2481119",
    "end": "2486760"
  },
  {
    "text": "the fifth that yesterday uh they've got code fixes out there so you can download code fixes",
    "start": "2486760",
    "end": "2492079"
  },
  {
    "text": "for your Cisco boxes or I have better solution don't you bother getting a code fix run",
    "start": "2492079",
    "end": "2498400"
  },
  {
    "text": "SSH run SSH and you don't have the tell net problem and you solve a whole bunch of other problems as well uh you should",
    "start": "2498400",
    "end": "2505160"
  },
  {
    "text": "also be using uh IP permit lists on your access on your uh access switch on your",
    "start": "2505160",
    "end": "2511119"
  },
  {
    "text": "Catalyst with the IP permit statements uh essentially say what addresses are",
    "start": "2511119",
    "end": "2516480"
  },
  {
    "text": "allowed to T net into this box and manage this box okay the equivalent of an access list is even simpler more",
    "start": "2516480",
    "end": "2523000"
  },
  {
    "text": "simple to configure all right uh oh also the uh HTTP server did I even say that",
    "start": "2523000",
    "end": "2529520"
  },
  {
    "text": "on the I think I was on there before if I didn't say turn off HTTP server on the router that's one of the things that you",
    "start": "2529520",
    "end": "2535400"
  },
  {
    "text": "should turn off like right away uh you can go back and go look once you have the presentation uh it's also on by",
    "start": "2535400",
    "end": "2542440"
  },
  {
    "text": "default on a catalyst switch now the Catalyst switch is http server looks a",
    "start": "2542440",
    "end": "2548040"
  },
  {
    "text": "lot nicer but it still has the same level of exploits it's still it's not",
    "start": "2548040",
    "end": "2553520"
  },
  {
    "text": "SSL so you still get all the information everything you ever wanted to see and",
    "start": "2553520",
    "end": "2559160"
  },
  {
    "text": "there's even some other denial of service attacks against it uh so I suggest turning it off I'm a command",
    "start": "2559160",
    "end": "2565760"
  },
  {
    "text": "line person I just rather sit at the command line and put all the commands in the way that they should be instead of looking at a nice gooey interface if I",
    "start": "2565760",
    "end": "2571640"
  },
  {
    "text": "want a nice gooey interface I'm going to go out and go get Cisco Works 2000 and then I can look at all the lights and pretty pictures",
    "start": "2571640",
    "end": "2578040"
  },
  {
    "text": "but all right fair enough uh other things uh ntp CIS log",
    "start": "2578040",
    "end": "2585240"
  },
  {
    "text": "here's all the commands now the uh the logging server uh Cisco recommends changing some of the logging levels if",
    "start": "2585240",
    "end": "2592119"
  },
  {
    "text": "you you know read some of Cisco's uh recommended uh practices for Catalyst switches uh changing the the spanning",
    "start": "2592119",
    "end": "2599280"
  },
  {
    "text": "tree level spanning tree level by default I think is a lot lower than that and you should be logging that",
    "start": "2599280",
    "end": "2606000"
  },
  {
    "text": "information um same thing with CIS and and server severity so here's the commands to bump those levels up just in",
    "start": "2606000",
    "end": "2612760"
  },
  {
    "text": "case you ever wanted to know um oh you know another thing I didn't mention before console logging default on for",
    "start": "2612760",
    "end": "2622400"
  },
  {
    "text": "Catalyst switch and default on for Cisco routers every message that otherwise",
    "start": "2622400",
    "end": "2627599"
  },
  {
    "text": "would be sent to a CIS log server still sent there is also sent out to the console Port now I mentioned before that the",
    "start": "2627599",
    "end": "2634440"
  },
  {
    "text": "console Port has transmit receive and ground that's it no",
    "start": "2634440",
    "end": "2641599"
  },
  {
    "text": "Hardware or software flow control whatsoever so if there's a message going out that Port the router has no idea",
    "start": "2641599",
    "end": "2647920"
  },
  {
    "text": "whether you have a terminal there or not so it's going to send it how fast does that console Port",
    "start": "2647920",
    "end": "2654480"
  },
  {
    "text": "operate at 9600 bod this is this is what I call an",
    "start": "2654480",
    "end": "2660599"
  },
  {
    "text": "administrative denial of service administrator goes to the box and types in debug everything and then walks",
    "start": "2660599",
    "end": "2669200"
  },
  {
    "text": "away the router's highest priority is to handle those console messages and as",
    "start": "2669200",
    "end": "2674520"
  },
  {
    "text": "soon as you get a whole bunch of traffic and all that debug starts pushing out the console says hey we gotta we got to",
    "start": "2674520",
    "end": "2681400"
  },
  {
    "text": "send this information out and all of a sudden the console buffer fills up and the router issues a oh warning console",
    "start": "2681400",
    "end": "2687920"
  },
  {
    "text": "buffer is full which overflows the console buffer and issues another command console buffer full which issues",
    "start": "2687920",
    "end": "2693559"
  },
  {
    "text": "another command and kills the Box uh I suggest on both Cisco routers and",
    "start": "2693559",
    "end": "2700400"
  },
  {
    "text": "switches shutting off console logging as soon as you have CIS log turned on there's no reason for it to be here it's",
    "start": "2700400",
    "end": "2705680"
  },
  {
    "text": "a lot it's a lot better to ship that information over an IP packet you're not going to run into you know you're not",
    "start": "2705680",
    "end": "2711880"
  },
  {
    "text": "going to run into that kind of problem uh the ntp commands for a Cisco switch they're identical to the router",
    "start": "2711880",
    "end": "2718760"
  },
  {
    "text": "pretty much except for there's the set command in front of it all right section two all right get",
    "start": "2718760",
    "end": "2727240"
  },
  {
    "text": "into uh some VLAN stuff how am I doing on time doing",
    "start": "2727240",
    "end": "2732520"
  },
  {
    "text": "okay okay all right so first thing we're going to talk about is",
    "start": "2732520",
    "end": "2739078"
  },
  {
    "text": "vlans are vlans designed are vlans supposed to be there for security",
    "start": "2739800",
    "end": "2746160"
  },
  {
    "text": "purposes the biggest contention problem I have they are not a security mechanism although they're very often used as",
    "start": "2746160",
    "end": "2752960"
  },
  {
    "text": "security mechanisms the other problem I have with vlans is that people use vlans as excuse to create",
    "start": "2752960",
    "end": "2760760"
  },
  {
    "text": "really bad designs no granted that's the way it was done four years ago five",
    "start": "2760760",
    "end": "2766000"
  },
  {
    "text": "years ago but I think a lot of people have come back and said you know what this doesn't need to be done this way and it shouldn't be done this way",
    "start": "2766000",
    "end": "2772040"
  },
  {
    "text": "because what happens in a large switch network if you're running VLS everywhere is what does spanning tree look",
    "start": "2772040",
    "end": "2780040"
  },
  {
    "text": "like spanning tree can get really messy and if you have VLS everywhere it's not",
    "start": "2780400",
    "end": "2785880"
  },
  {
    "text": "only going to make your your network admin life miserable it's going to make security miserable so a good design for",
    "start": "2785880",
    "end": "2792880"
  },
  {
    "text": "your vlans is going to simplify your security here is my method on Cisco boxes I'm going to show you the uh the",
    "start": "2792880",
    "end": "2799680"
  },
  {
    "text": "switch block design here at Cisco's best practices for design really what it comes down to is on an access layer",
    "start": "2799680",
    "end": "2805440"
  },
  {
    "text": "switch you're talking about two vlans one two vlans for users one",
    "start": "2805440",
    "end": "2811079"
  },
  {
    "text": "management VLAN that's not VLAN one anymore and then possibly native VLS",
    "start": "2811079",
    "end": "2816559"
  },
  {
    "text": "that will be used for the trunk ports so no more than five VLS on an axis layer",
    "start": "2816559",
    "end": "2822480"
  },
  {
    "text": "switch uh the default VL lands you have VLAN 1 and uh 101 through 105 and I",
    "start": "2822480",
    "end": "2828960"
  },
  {
    "text": "already mentioned the defaults VLAN one all right so design philosophies",
    "start": "2828960",
    "end": "2834680"
  },
  {
    "text": "spanning tree bad routing good if you have a really complex spanning tree environment it's going to",
    "start": "2834680",
    "end": "2841680"
  },
  {
    "text": "take a week to figure out where the route is what paths are forwarding What's blocking",
    "start": "2841680",
    "end": "2847880"
  },
  {
    "text": "keep it simple simpler you make spanning tree the better there should only be in my",
    "start": "2847880",
    "end": "2854200"
  },
  {
    "text": "design three devices and hey no Loops I can create a really good network with zero loops and still have all the red",
    "start": "2854200",
    "end": "2861240"
  },
  {
    "text": "redundancy in the world I could literally show you a method that you could build a network and shut off",
    "start": "2861240",
    "end": "2866599"
  },
  {
    "text": "spanning tree almost safely it's safe until somebody plugs that one box into the wrong port and",
    "start": "2866599",
    "end": "2873800"
  },
  {
    "text": "then you have a big spanning tree Loop so I don't suggest turning it off but all right always plan with security in",
    "start": "2873800",
    "end": "2879839"
  },
  {
    "text": "mind I don't need to tell you that all right so here's a good design uh and I also put a link up there",
    "start": "2879839",
    "end": "2885880"
  },
  {
    "text": "for Cisco's best practices on design I don't have enough time to talk about all the good design philosophies but this is",
    "start": "2885880",
    "end": "2891640"
  },
  {
    "text": "what it's going to look like and Cisco calls this their switch block now I could have a switch block designed for users a switch block designed",
    "start": "2891640",
    "end": "2897960"
  },
  {
    "text": "specifically for my servers another switch block that runs specifically through my core the design is simple",
    "start": "2897960",
    "end": "2904599"
  },
  {
    "text": "from the standpoint of we have these two boxes on top which have the router modules built in multi-layer switch and",
    "start": "2904599",
    "end": "2910760"
  },
  {
    "text": "we have just simple layer two switches below which handled user access the access layer",
    "start": "2910760",
    "end": "2917559"
  },
  {
    "text": "switches kept very simple two user vlans the reason why you use two user vand is",
    "start": "2917559",
    "end": "2923440"
  },
  {
    "text": "we're going to load balance the distribution layer switches instead of loading all the traffic onto one now",
    "start": "2923440",
    "end": "2928640"
  },
  {
    "text": "that's as far as I can get into with that but often when I go and look at networks and figure out what's going on",
    "start": "2928640",
    "end": "2935119"
  },
  {
    "text": "and why the Network's been hacked into and why it's insecure I end up seeing",
    "start": "2935119",
    "end": "2940160"
  },
  {
    "text": "this you know this is the Moss Design Network right or the mold design this is",
    "start": "2940160",
    "end": "2945680"
  },
  {
    "text": "we started with this box and then somebody needed connectivity over here so we just ran a cable over there right",
    "start": "2945680",
    "end": "2951520"
  },
  {
    "text": "and then somebody else needed a connectivity like you know 20 feet away and so we just put another switch box switch in there and now we needed some",
    "start": "2951520",
    "end": "2957640"
  },
  {
    "text": "redundancy so we just connected a bunch of cables here and okay where's the",
    "start": "2957640",
    "end": "2963240"
  },
  {
    "text": "route what ports are forwarding which ones are blocking and this is the simple version of The Rat's Nest",
    "start": "2963240",
    "end": "2971160"
  },
  {
    "text": "so um a a good method to figure out whether you have a good good design or a bad design is the dartboard test print",
    "start": "2971160",
    "end": "2978559"
  },
  {
    "text": "up a Vio document of your network and throw a dart at it thunk okay that device just pretend that device goes",
    "start": "2978559",
    "end": "2984520"
  },
  {
    "text": "down is your whole network down because that one device went down if it's down you got a bad",
    "start": "2984520",
    "end": "2991160"
  },
  {
    "text": "design all right",
    "start": "2992240",
    "end": "2998640"
  },
  {
    "text": "all right so back to vlans here I kind of talked about VLAN one it's dead VLAN",
    "start": "2999960",
    "end": "3005240"
  },
  {
    "text": "don't use it clear it off all your trunks kill it here's why every single",
    "start": "3005240",
    "end": "3010799"
  },
  {
    "text": "port on every Cisco switch is defaulted for ban one even if I get rid of it I don't",
    "start": "3010799",
    "end": "3017760"
  },
  {
    "text": "clear it off completely it doesn't stop somebody from walking in with Widget switch 2000 walking into my network",
    "start": "3017760",
    "end": "3023920"
  },
  {
    "text": "sitting down at some empty unoccupied desk plugging the network and they're on VLAN",
    "start": "3023920",
    "end": "3029079"
  },
  {
    "text": "one VLAN one is the default for all the management protocols so there's CDP that",
    "start": "3029079",
    "end": "3035079"
  },
  {
    "text": "you left running because you had to use Cisco Works 2000",
    "start": "3035079",
    "end": "3040760"
  },
  {
    "text": "oops so kill it where you can you can't remove it from the switches but you can",
    "start": "3040760",
    "end": "3046240"
  },
  {
    "text": "stop trunking it don't send it everywhere don't send any traffic into it change all the switches so it doesn't",
    "start": "3046240",
    "end": "3052720"
  },
  {
    "text": "use the management VLAN for the one there's still some problems with it sometimes routers still send CDP message",
    "start": "3052720",
    "end": "3058880"
  },
  {
    "text": "over VLAN one certain revs so going to figure that one out okay be careful with",
    "start": "3058880",
    "end": "3065079"
  },
  {
    "text": "it there's a there's a way a good way to compromise a network is right through VLAN one um you have the other vlans 101",
    "start": "3065079",
    "end": "3073640"
  },
  {
    "text": "through 105 the dead technology vlans things like token ring and fitti that's what those are there for uh if you don't",
    "start": "3073640",
    "end": "3080119"
  },
  {
    "text": "have any token ring ports on your routers I wouldn't even worry about them who's going to compromise a network if you don't have the access to get into",
    "start": "3080119",
    "end": "3085920"
  },
  {
    "text": "those ports and you can't use those vlans for ethernet anyway so um clear",
    "start": "3085920",
    "end": "3092160"
  },
  {
    "text": "all the uh trunks of vlans that are listed here you have to have at least",
    "start": "3092160",
    "end": "3097920"
  },
  {
    "text": "cat iOS 5.4 or later to clear VLAN one off so upgrade your switches if that's",
    "start": "3097920",
    "end": "3104559"
  },
  {
    "text": "the case uh setting up a management VLAN",
    "start": "3104559",
    "end": "3109799"
  },
  {
    "text": "like I said defaults to one you want to change this on all your boxes so now you're going to be carrying information",
    "start": "3109799",
    "end": "3115000"
  },
  {
    "text": "like your routing protocol information over the management VLAN you're going to carry CDP if you if you're running it",
    "start": "3115000",
    "end": "3121000"
  },
  {
    "text": "vtp VLAN trunking protocol if you are brave enough to run that multi-layer switch",
    "start": "3121000",
    "end": "3127040"
  },
  {
    "text": "protocol um and any other type of protocol that's needed between Cisco boxes that may show up here in the",
    "start": "3127040",
    "end": "3133359"
  },
  {
    "text": "future that you don't want or need or have any reason to send to your users",
    "start": "3133359",
    "end": "3139319"
  },
  {
    "text": "because if you're sending it to users they can maliciously use it against",
    "start": "3139319",
    "end": "3145119"
  },
  {
    "text": "you a lot of lot of these attacks that FX and you know and other people you",
    "start": "3145119",
    "end": "3150319"
  },
  {
    "text": "know that you read on the internet kind of rely on seeing this information on",
    "start": "3150319",
    "end": "3155720"
  },
  {
    "text": "seeing the routing protocol seeing the rip updates igrp updates Etc if the",
    "start": "3155720",
    "end": "3161280"
  },
  {
    "text": "users don't see it it's real hard to run a lot of those exploits the only problem",
    "start": "3161280",
    "end": "3166599"
  },
  {
    "text": "with this and the one thing I didn't put in here is hsrp because you have to run hsrp on the",
    "start": "3166599",
    "end": "3173079"
  },
  {
    "text": "user VLAN the only way it can run you're going to run instance of hsrp on every single one of the user vlans for router",
    "start": "3173079",
    "end": "3179160"
  },
  {
    "text": "redundancy so we'll we'll get to that one separately all right so to illustrate",
    "start": "3179160",
    "end": "3185040"
  },
  {
    "text": "the point here um management VLAN every switch in this switch block belongs to",
    "start": "3185040",
    "end": "3190880"
  },
  {
    "text": "management VLAN this link up on top the only thing running across that link in a good design would be the management VLAN",
    "start": "3190880",
    "end": "3197359"
  },
  {
    "text": "the effect of that is you create a layer three link between those upper boxes so should you lose one of these side links",
    "start": "3197359",
    "end": "3202960"
  },
  {
    "text": "here the router will end up routing across the management to get the user traffic that way otherwise the user",
    "start": "3202960",
    "end": "3209839"
  },
  {
    "text": "traffic should never be on the manag at VLAN um or an even better method is to",
    "start": "3209839",
    "end": "3215880"
  },
  {
    "text": "not only truck the management VLAN across that network but a separate VLAN in event of emergency that you would use instead of",
    "start": "3215880",
    "end": "3222720"
  },
  {
    "text": "the management VLAN um okay so the management VLAN would get trunked with all of the user traffic as",
    "start": "3222720",
    "end": "3230520"
  },
  {
    "text": "well all right other issues spanning tree issues VLAN trunking protocol which",
    "start": "3230520",
    "end": "3236720"
  },
  {
    "text": "uh you know it's another one of those administrative denal of service attacks you do it to yourself okay um Dynamic",
    "start": "3236720",
    "end": "3243760"
  },
  {
    "text": "trunking protocol trunk or not the trunk all right spanning",
    "start": "3243760",
    "end": "3250680"
  },
  {
    "text": "tree been around since the dawn of ethernet okay uh it's a complex protocol",
    "start": "3250680",
    "end": "3257799"
  },
  {
    "text": "that just keeps growing on us we just keep adding more and more features to it and it won't go away uh Cisco's added",
    "start": "3257799",
    "end": "3265040"
  },
  {
    "text": "more features into spanning trees that's even believable the exploits against against",
    "start": "3265040",
    "end": "3272160"
  },
  {
    "text": "this documented by FX and very various other people what happens if I sitting",
    "start": "3272160",
    "end": "3277839"
  },
  {
    "text": "on a box and I start setting up Bridge protocol data unit traffic I could deny service to the network or I could take",
    "start": "3277839",
    "end": "3284240"
  },
  {
    "text": "over and act as the root Bridge so I need ways to prevent this",
    "start": "3284240",
    "end": "3289640"
  },
  {
    "text": "and every single VLAN on a Cisco Network should be running an instance of spanning tree now that goes against the",
    "start": "3289640",
    "end": "3296640"
  },
  {
    "text": "rules with oneq which is the idea of common spanning tree and Cisco disagrees and I I agree with Cisco that you should",
    "start": "3296640",
    "end": "3303000"
  },
  {
    "text": "be running per VLAN spanning tree uh problem is it opens you up to attack how",
    "start": "3303000",
    "end": "3308280"
  },
  {
    "text": "do you how do you mitigate these problems uh you want to force the users to not send or Force the user ports to",
    "start": "3308280",
    "end": "3315119"
  },
  {
    "text": "not send or receive any bpdu traffic there's another big advantage to this a lot of people miss other than just the",
    "start": "3315119",
    "end": "3321799"
  },
  {
    "text": "simple security side the commands to do this port fast and bpdu guard",
    "start": "3321799",
    "end": "3327119"
  },
  {
    "text": "now Port fast at bpdu Guard Great tools here's this a little problem that I",
    "start": "3327119",
    "end": "3333160"
  },
  {
    "text": "always used to run into on switch networks you'd get you know the user calling up saying every time I turn my",
    "start": "3333160",
    "end": "3339359"
  },
  {
    "text": "PC on I can't get on the network but if I do a a release renew I come right",
    "start": "3339359",
    "end": "3348318"
  },
  {
    "text": "up the reason is is spanning tree takes about 60 seconds to converge if you have",
    "start": "3348400",
    "end": "3353520"
  },
  {
    "text": "a fast enough PC turn the machine on 40 seconds goes by and the first thing",
    "start": "3353520",
    "end": "3359160"
  },
  {
    "text": "it sends out is a DHCP request but the port on the switch is still spanning tree blocked and not",
    "start": "3359160",
    "end": "3364720"
  },
  {
    "text": "sending any traffic oops what happened to your DHCP request went down so Cisco",
    "start": "3364720",
    "end": "3371760"
  },
  {
    "text": "solution was portfast now portfast does another really cool feature it stops sending bpdus down to the",
    "start": "3371760",
    "end": "3379440"
  },
  {
    "text": "user the other thing it does and this is an unintentional side effect of switch",
    "start": "3379440",
    "end": "3384720"
  },
  {
    "text": "networks that a lot of people don't know is that when you turn on a PC without this port fast feature the Link light on",
    "start": "3384720",
    "end": "3392400"
  },
  {
    "text": "the switch goes up which says uh oh there's a there's a spanning tree topology change and it sends this",
    "start": "3392400",
    "end": "3398960"
  },
  {
    "text": "topology change flag and floods it through your whole network sends it all the way up to the root switch root",
    "start": "3398960",
    "end": "3404799"
  },
  {
    "text": "bridge and the effect of that topology change flag is every single switch fast",
    "start": "3404799",
    "end": "3410280"
  },
  {
    "text": "ages their entire cam table so instead of the normal 3 minute aging time now it's down down to 15",
    "start": "3410280",
    "end": "3416720"
  },
  {
    "text": "seconds for all the cam entries which could end up with one PC turning on for",
    "start": "3416720",
    "end": "3422480"
  },
  {
    "text": "a few seconds flooding a lot more extra traffic across your NE your network than necessary this is a command again",
    "start": "3422480",
    "end": "3429559"
  },
  {
    "text": "regardless of security issues you should have on for all user ports Port fast bpdu a guard what goes One Step farther",
    "start": "3429559",
    "end": "3437319"
  },
  {
    "text": "if a port fast Port sends a bridge pdu air disable that Port shut it off",
    "start": "3437319",
    "end": "3444200"
  },
  {
    "text": "because it's obviously not a user there a switch attached there and if there's a switch or some application that's",
    "start": "3444200",
    "end": "3449599"
  },
  {
    "text": "sending Bridge pdu traffic like these attacks if it sends a bridge pdu shut it",
    "start": "3449599",
    "end": "3456039"
  },
  {
    "text": "off then you have all the options of what you want to do with you can bring it back up in you know six minutes you can force an administrator to go out",
    "start": "3456039",
    "end": "3462359"
  },
  {
    "text": "there and figure out what's going on you have all those options available to",
    "start": "3462359",
    "end": "3467280"
  },
  {
    "text": "you all right vtp Cisco's idea of maintaining a",
    "start": "3468400",
    "end": "3474319"
  },
  {
    "text": "consistent VLAN database really cool if you got lots of vlans in a good switch block design you're going to keep it",
    "start": "3474319",
    "end": "3480280"
  },
  {
    "text": "pretty simple at Max five five vlans per access layer switch so it kind of takes",
    "start": "3480280",
    "end": "3485760"
  },
  {
    "text": "away the purpose of this protocol there's also a big problem with this protocol that's been documented over and over and over the problem is is that all",
    "start": "3485760",
    "end": "3493599"
  },
  {
    "text": "Cisco switches are considered vtp servers meaning they're serving up the VLAN database now what's happened in several",
    "start": "3493599",
    "end": "3501079"
  },
  {
    "text": "networks I've dealt with is they've got an up and running up and running network with 15 20 30 100 vlans scary networks",
    "start": "3501079",
    "end": "3510880"
  },
  {
    "text": "uh and somebody comes in and plugs in a brand new Switch that they've been playing with in a test lab for",
    "start": "3510880",
    "end": "3517000"
  },
  {
    "text": "days and it comes up and says oh I'm the vtp server my revision number is way higher",
    "start": "3517000",
    "end": "3523680"
  },
  {
    "text": "than everybody else's but I don't have any vlans because I have the highest revision number my database is the most",
    "start": "3523680",
    "end": "3530119"
  },
  {
    "text": "correct so everybody just delete your Vance and it's happened",
    "start": "3530119",
    "end": "3536599"
  },
  {
    "text": "many times um Cisco says they fixed it I",
    "start": "3536599",
    "end": "3542559"
  },
  {
    "text": "haven't tested it I'm too scared of it sorry set all your set all your switches to vtb trans mode create the VLS",
    "start": "3542559",
    "end": "3549520"
  },
  {
    "text": "individually on each switch you'll be happy you never going to have any problems if you want to play with it and",
    "start": "3549520",
    "end": "3555119"
  },
  {
    "text": "be brave be my guest um I I haven't heard in any specific attacks against",
    "start": "3555119",
    "end": "3560760"
  },
  {
    "text": "btp but they're certainly out there well they're certainly possible of creating them I mean look look what you have here",
    "start": "3560760",
    "end": "3567079"
  },
  {
    "text": "you have a protocol that's going to change and configure vlans what could I use that",
    "start": "3567079",
    "end": "3572720"
  },
  {
    "text": "for send a false request hey I've got this new VLAN I'm a server add vlans to",
    "start": "3572720",
    "end": "3578400"
  },
  {
    "text": "the VLAN database now you can trunk that VLAN now I can carry VLAN traffic over something that didn't exist before or",
    "start": "3578400",
    "end": "3584960"
  },
  {
    "text": "delete vlans that you know going to the",
    "start": "3584960",
    "end": "3589960"
  },
  {
    "text": "servers uh another thing that's turned on for all your 100 Meg uh ports is",
    "start": "3590760",
    "end": "3596319"
  },
  {
    "text": "Dynamic trunking protocol now dtp on all the Cisco switches is defaulted to Auto you",
    "start": "3596319",
    "end": "3603440"
  },
  {
    "text": "connect two switches together it's Auto auto on both sides is it a trunk",
    "start": "3603440",
    "end": "3610000"
  },
  {
    "text": "no kind of funny math here Auto auto not a trunk if one side's on the other",
    "start": "3610000",
    "end": "3615480"
  },
  {
    "text": "side's Auto it becomes a trunk and then they've got all these goofy other options like desirable and",
    "start": "3615480",
    "end": "3621079"
  },
  {
    "text": "non-negotiated and you know what if I'm creating a trunk I want to set both sides to on and hey it's a trunk great",
    "start": "3621079",
    "end": "3628400"
  },
  {
    "text": "here's the attack problem against this though what if it's a user port and that user is running an 802.1q",
    "start": "3628400",
    "end": "3637920"
  },
  {
    "text": "aware trunking capable network interface card that means I could trunk down to my",
    "start": "3637920",
    "end": "3644520"
  },
  {
    "text": "workstation I could start seeing all the vlans and putting traffic into whichever",
    "start": "3644520",
    "end": "3650000"
  },
  {
    "text": "VLAN I darn well desired oops so",
    "start": "3650000",
    "end": "3657039"
  },
  {
    "text": "if it's a user Port turn DP dtp off uh another method here which is to force",
    "start": "3657039",
    "end": "3662680"
  },
  {
    "text": "users down to 10 Meg 10m ports on Cisco switches don't trunk okay I have this little lead balloon thing here yeah you",
    "start": "3662680",
    "end": "3669200"
  },
  {
    "text": "tell all your users they're going to run 10m it probably go over like a lead balloon in a large",
    "start": "3669200",
    "end": "3675119"
  },
  {
    "text": "Network you can save a lot of money by going 10 Mech because your Uplink ports up to your other switches are going to",
    "start": "3675119",
    "end": "3680760"
  },
  {
    "text": "be a lot smaller you're going to need gigabit links or gigabit ether Channel going up to you know up to and around",
    "start": "3680760",
    "end": "3686559"
  },
  {
    "text": "your whole network by pushing 10m and most users aren't even coming close to",
    "start": "3686559",
    "end": "3692039"
  },
  {
    "text": "pushing a 10m full duplex pipe let alone 100m duplex pipe",
    "start": "3692039",
    "end": "3698559"
  },
  {
    "text": "so that's my solution for today but six months from now I'm GNA change my",
    "start": "3698559",
    "end": "3704200"
  },
  {
    "text": "mind things start getting faster all right uh so these Catos uh",
    "start": "3704200",
    "end": "3710520"
  },
  {
    "text": "Catos commands to do this great command this is going to help you a lot set Port host",
    "start": "3710520",
    "end": "3716839"
  },
  {
    "text": "set Port host put the module and port number does two things it sends the uh Dynamic trunking protocol",
    "start": "3716839",
    "end": "3723440"
  },
  {
    "text": "to off and it turns Port fast on one command uh another thing you may want to",
    "start": "3723440",
    "end": "3731039"
  },
  {
    "text": "consider is if it's not you if it's not a used Port shut it off set the port to disable somebody plugs in then turn it",
    "start": "3731039",
    "end": "3738440"
  },
  {
    "text": "on uh set span Tree Port fast bpdu guard enable you don't have to assign a a port",
    "start": "3738440",
    "end": "3744119"
  },
  {
    "text": "to it it if you have any Port fast Port bpdu guard gets turned",
    "start": "3744119",
    "end": "3749319"
  },
  {
    "text": "on uh set spanning tree guard route here's another issue I didn't",
    "start": "3749319",
    "end": "3754799"
  },
  {
    "text": "really cover in detail I kind of touched on it but uh if I had the ability to",
    "start": "3754799",
    "end": "3760000"
  },
  {
    "text": "start sending BP bpdus and saying you know hey I want to be uh the root of the",
    "start": "3760000",
    "end": "3766880"
  },
  {
    "text": "network this command will guard the route and make sure this this box is set appropriately so he's always going to",
    "start": "3766880",
    "end": "3773839"
  },
  {
    "text": "appear as the root of the Network so we'll ensure that this device maintains the rout for spanning",
    "start": "3773839",
    "end": "3782599"
  },
  {
    "text": "tree more I talk the more I want more cold starts getting worse all right so",
    "start": "3783520",
    "end": "3788760"
  },
  {
    "text": "some of these techniques here VLAN hopping uh VLAN hopping works by injecting uh modified 82.1 Q tags now",
    "start": "3788760",
    "end": "3796400"
  },
  {
    "text": "that can be done without a trunk via a 10m port as long as I have a network",
    "start": "3796400",
    "end": "3801960"
  },
  {
    "text": "interface card that'll do this I can modify those the TCI uh TCI TPI header",
    "start": "3801960",
    "end": "3807839"
  },
  {
    "text": "inside the ethernet frame to basically say that I'm on a different VLAN than what I really am on and as it arrives at",
    "start": "3807839",
    "end": "3814559"
  },
  {
    "text": "the switch the switch won't change it so this allows me",
    "start": "3814559",
    "end": "3820520"
  },
  {
    "text": "to illegally without traversing a router walk onto another VLAN and it will",
    "start": "3820520",
    "end": "3826920"
  },
  {
    "text": "actually send traffic back if if I don't use this technique the",
    "start": "3826920",
    "end": "3832880"
  },
  {
    "text": "technique to solve it is to change the native V VL lands on the trunk ports the",
    "start": "3832880",
    "end": "3838880"
  },
  {
    "text": "reason why is is that when you do VLAN hopping it's depending on one of the properties of um untagged frames for",
    "start": "3838880",
    "end": "3848279"
  },
  {
    "text": "oneq if an untagged frame arrives on a a trunk Port it automatically tags it with",
    "start": "3848279",
    "end": "3854039"
  },
  {
    "text": "the native VLAN if that native VLAN still happens to match what we were trying what we were coming from in the first place we're going to build hot",
    "start": "3854039",
    "end": "3860119"
  },
  {
    "text": "banss so the uh the desired method here to fix this is set the native vlans on",
    "start": "3860119",
    "end": "3867119"
  },
  {
    "text": "all your trunk ports to a VLAN that is not being used by either management or",
    "start": "3867119",
    "end": "3872279"
  },
  {
    "text": "users or being used elsewhere in your network it it does have to match both sides of the trunk so you're just simply",
    "start": "3872279",
    "end": "3878839"
  },
  {
    "text": "going to create a VLAN to trunk between two boxes uh it still trunks the idea is if",
    "start": "3878839",
    "end": "3885240"
  },
  {
    "text": "that trunk ever went away or it needed to tag something it would use the native VLAN for the tag",
    "start": "3885240",
    "end": "3891680"
  },
  {
    "text": "so oh my little mistake here on the uh all right this this has to deal with uh",
    "start": "3893680",
    "end": "3901760"
  },
  {
    "text": "Network switching on switch Network sniffing on switch ports if I'm sitting here with a attack box here um running",
    "start": "3901760",
    "end": "3908400"
  },
  {
    "text": "my hack utility and I start running unsolicited uh ARP",
    "start": "3908400",
    "end": "3914279"
  },
  {
    "text": "requests start modifying ARP tables on the PC so I can do this man- in-the-middle attack between PC and",
    "start": "3914279",
    "end": "3920880"
  },
  {
    "text": "server this is a really hard attack to defeat I'm G be honest with you Cisco's",
    "start": "3920880",
    "end": "3926680"
  },
  {
    "text": "solution I I hate it read Cisco's website and they say oh set up private Vance now you got to have a 6,500 six",
    "start": "3926680",
    "end": "3934160"
  },
  {
    "text": "yeah 6,500 switch to run private vlans so everybody's just going to run out and go buy 6500s for every part of their Network so they can you know solve this",
    "start": "3934160",
    "end": "3940960"
  },
  {
    "text": "problem I don't think so I put I put host IDs on here it was incorrect it was",
    "start": "3940960",
    "end": "3946480"
  },
  {
    "text": "uh Network IDs right if you if you have a network IDs on the on the network and it starts seeing these gratuitous these",
    "start": "3946480",
    "end": "3952799"
  },
  {
    "text": "unsolicited Arps that should start triggering things now you might end up with some false positives on this but if you start",
    "start": "3952799",
    "end": "3959520"
  },
  {
    "text": "seeing a lot of it then that's something you should shut down I think that might be for now the best bet on solving this",
    "start": "3959520",
    "end": "3966079"
  },
  {
    "text": "attack that that's my opinion anybody else getting ideas on",
    "start": "3966079",
    "end": "3970680"
  },
  {
    "text": "that AR watchat",
    "start": "3973279",
    "end": "3977200"
  },
  {
    "text": "okay yeah okay so",
    "start": "3981880",
    "end": "3987559"
  },
  {
    "text": "all right another Well documented uh attack is to flood a switch with tons and tons and tons of Mac addresses",
    "start": "3988640",
    "end": "3995760"
  },
  {
    "text": "filling up its content addressable memory its cam table once that memory table is filled up most switches will",
    "start": "3995760",
    "end": "4001920"
  },
  {
    "text": "operate like a dumb Hub at that point will forward all traffic as it's an unknown unicast just like the first time",
    "start": "4001920",
    "end": "4008680"
  },
  {
    "text": "a packet shows up on a switch and it doesn't know what to do with it giving you ability to sniff the network on any",
    "start": "4008680",
    "end": "4014480"
  },
  {
    "text": "port of the switch so the solution for this and this",
    "start": "4014480",
    "end": "4021319"
  },
  {
    "text": "actually solves I I I think it may solve the problem that we see",
    "start": "4021319",
    "end": "4027839"
  },
  {
    "text": "next I'm G to test that to find out what what's happening so I want I want to figure that out but um turning Port",
    "start": "4028359",
    "end": "4035319"
  },
  {
    "text": "Security on uh Port Security will allow you to learn or statically set a single",
    "start": "4035319",
    "end": "4042400"
  },
  {
    "text": "or or multiple Mac addresses to a single port on a Cisco switch it will therefore not learn any more addresses or utilize",
    "start": "4042400",
    "end": "4049079"
  },
  {
    "text": "any more addresses on that Port uh Port security is a great",
    "start": "4049079",
    "end": "4055200"
  },
  {
    "text": "solution if you have a static environment if you have people moving around all the",
    "start": "4055200",
    "end": "4060880"
  },
  {
    "text": "time it's it's a pain you have people coming in with laptops every single day and moving things around it's it's",
    "start": "4060880",
    "end": "4067960"
  },
  {
    "text": "almost more hassle than it's worth uh but it will solve this particular problem and and a few other ones all",
    "start": "4067960",
    "end": "4074599"
  },
  {
    "text": "right I'm getting I'm getting the five minute signal here so I'm going to have to run a little quicker here uh all right Access Control lists uh standard",
    "start": "4074599",
    "end": "4082440"
  },
  {
    "text": "extended named we have context based access control standard and extended IP access",
    "start": "4082440",
    "end": "4087520"
  },
  {
    "text": "list here's the ranges for it IP standard only uses Source address uh extended looks at source destination",
    "start": "4087520",
    "end": "4093880"
  },
  {
    "text": "both for IP and for ports also looks at protocol looks at uh established either",
    "start": "4093880",
    "end": "4099120"
  },
  {
    "text": "uh sin or reset bit uh and both of these can be logged here's the numbers for it",
    "start": "4099120",
    "end": "4104960"
  },
  {
    "text": "Etc you also use named access lists uh cback context based access control is",
    "start": "4104960",
    "end": "4110920"
  },
  {
    "text": "what was formerly known as the firewall well actually currently known as a firewall feature set um it's the",
    "start": "4110920",
    "end": "4116758"
  },
  {
    "text": "equivalent of a a semi stateful inspection firewall function at a router",
    "start": "4116759",
    "end": "4123000"
  },
  {
    "text": "uh the idea is you create a rule set on the on the Ingress of the router that says the equivalent of deny any as a",
    "start": "4123000",
    "end": "4130600"
  },
  {
    "text": "packet exits the router cbac will inspect a packet and create a",
    "start": "4130600",
    "end": "4136798"
  },
  {
    "text": "create an inbound Dynamic access list entry to sit on top of your deny any so",
    "start": "4136799",
    "end": "4143120"
  },
  {
    "text": "as the traffic returns it allows the traffic it sits there for a short amount of time and removes the dynamic entry so",
    "start": "4143120",
    "end": "4150798"
  },
  {
    "text": "cool feature it's not a firewall not not a full-blown stateful inspection but uh",
    "start": "4150799",
    "end": "4157199"
  },
  {
    "text": "it's it's a great tool to use like as a screening router like in front of your real",
    "start": "4157199",
    "end": "4162758"
  },
  {
    "text": "firewall uh the reason why it's got its issues is that it it is still suspect to problems with IP fragmentation and so on",
    "start": "4162759",
    "end": "4170238"
  },
  {
    "text": "so all right other types of access lists you have reflexive and dynamic you do time based access lists on Cisco routers",
    "start": "4170239",
    "end": "4176480"
  },
  {
    "text": "now um all other kinds of access lists for other layer three and Layer Two",
    "start": "4176480",
    "end": "4181560"
  },
  {
    "text": "protocols for Mac addresses and net bios there's even VLAN Access Control",
    "start": "4181560",
    "end": "4187080"
  },
  {
    "text": "list now all right our routing",
    "start": "4187080",
    "end": "4193400"
  },
  {
    "text": "protocols uh rip igrp eigrp and",
    "start": "4193400",
    "end": "4200560"
  },
  {
    "text": "ospf I didn't put bgp in because I'm running out of time so it's good thing I didn't put in",
    "start": "4200560",
    "end": "4206120"
  },
  {
    "text": "here rip issues you version one and version two now all know the issues with",
    "start": "4206120",
    "end": "4211280"
  },
  {
    "text": "rip version one basically sucks okay and",
    "start": "4211280",
    "end": "4216320"
  },
  {
    "text": "it's still out there and every single vendor who's ever made a router that's been called a router runs version one a",
    "start": "4216320",
    "end": "4222000"
  },
  {
    "text": "rip but please stop using it um version two does support md5",
    "start": "4222000",
    "end": "4229440"
  },
  {
    "text": "passwords but it still has you know 30 second broadcast it's still vulnerable to plenty of tax um you shouldn't use",
    "start": "4229440",
    "end": "4237760"
  },
  {
    "text": "it but if you're going to use it here's the commands to set up a keychain and use the md5 keychain for uh version two",
    "start": "4237760",
    "end": "4245239"
  },
  {
    "text": "of rip fair enough uh igrp and you know my previous",
    "start": "4245239",
    "end": "4250640"
  },
  {
    "text": "slide up there I said I'd rather run rip before I ran igp IG p is about the most",
    "start": "4250640",
    "end": "4256600"
  },
  {
    "text": "insecure routing protocol it's slower to converge than rip um yeah it figures out",
    "start": "4256600",
    "end": "4263280"
  },
  {
    "text": "the metrics based on bandwidth and delay of the network so it's not hop count so it might choose a better path but other",
    "start": "4263280",
    "end": "4269960"
  },
  {
    "text": "than that slightly little better feature it's not worth the time uh it's",
    "start": "4269960",
    "end": "4276679"
  },
  {
    "text": "still out there because of the CCNA program because during the CC somebody goes out and goes and get their CCNA the",
    "start": "4276679",
    "end": "4281719"
  },
  {
    "text": "two routing protocols they learn rip and igp the two routing protocols that probably shouldn't be running on your",
    "start": "4281719",
    "end": "4288040"
  },
  {
    "text": "network uh my solution great solution for igp if you're running igrp just go",
    "start": "4288040",
    "end": "4293280"
  },
  {
    "text": "out all your configs and put an e in front of igp it'll solve all your",
    "start": "4293280",
    "end": "4298960"
  },
  {
    "text": "problems uh enhanced IG igp much better routing protocol it acts like a link",
    "start": "4299679",
    "end": "4305639"
  },
  {
    "text": "state routing protocol like ospf it goes out and discovers neighbors it creates a topology table uh it it looks at the",
    "start": "4305639",
    "end": "4313480"
  },
  {
    "text": "exchange routes it's the fastest converging routing protocol better than obf uh it also acts like a distance",
    "start": "4313480",
    "end": "4321440"
  },
  {
    "text": "Vector routing protocol for calculation of metric it does support md5 passwords for creating",
    "start": "4321440",
    "end": "4328760"
  },
  {
    "text": "neighbors um oh where did my where did my router go that's weird so there's supposed to be a router here um router",
    "start": "4329280",
    "end": "4336560"
  },
  {
    "text": "eigrp another thing you're going to want to do here on eigrp is set the passive set passive interface now I I like using",
    "start": "4336560",
    "end": "4342199"
  },
  {
    "text": "the passive interface default command the most misunderstood thing with routing protocols is that Network statement the",
    "start": "4342199",
    "end": "4348679"
  },
  {
    "text": "network statement does not advertise a network with your igps now that's not",
    "start": "4348679",
    "end": "4353800"
  },
  {
    "text": "true with bgp but for OPF rip igrp Isis the network statement turns up an",
    "start": "4353800",
    "end": "4360120"
  },
  {
    "text": "interface for the routing protocol it's going to go out and start sending whatever kind of messages the routing protocol is going to send out those",
    "start": "4360120",
    "end": "4366880"
  },
  {
    "text": "interfaces and it's based on class for everything else but OPF so if I have multiple interfaces on",
    "start": "4366880",
    "end": "4373880"
  },
  {
    "text": "the 192 168 one class c network eigrp goes out all those interfaces even if",
    "start": "4373880",
    "end": "4379760"
  },
  {
    "text": "there's no devices out there even if there's users out there which we don't want to be sending this information so I",
    "start": "4379760",
    "end": "4386560"
  },
  {
    "text": "use the passive interface default and then I do no passive interface to turn those interfaces back on to run",
    "start": "4386560",
    "end": "4394400"
  },
  {
    "text": "igp uh the commands for setting the authentication mode are all there as well all right",
    "start": "4394400",
    "end": "4401520"
  },
  {
    "text": "OPF actually let's see how much more time do I got 1 minute okay I'm skipping OPF same information I went to",
    "start": "4401520",
    "end": "4410679"
  },
  {
    "text": "hsrp because of our problem here uh hsrp is not hot swappable routing protocol",
    "start": "4410760",
    "end": "4417080"
  },
  {
    "text": "it's hot swappable router protocol it doesn't carry routes it's a it's for high availability of your",
    "start": "4417080",
    "end": "4423600"
  },
  {
    "text": "routers uh the idea is that from a Windows PC from most host machines you",
    "start": "4423600",
    "end": "4432159"
  },
  {
    "text": "only get one gateway address should that Gateway go down there's all these other tools idrp",
    "start": "4432159",
    "end": "4439199"
  },
  {
    "text": "and and so on that really even without the other attacks that we can run against it they're slow as dirt may take",
    "start": "4439199",
    "end": "4446120"
  },
  {
    "text": "as long as 30 minutes to figure out that the Gateway is down by that time I can reboot the PC and put a new gateway",
    "start": "4446120",
    "end": "4451639"
  },
  {
    "text": "address and what's the use of running the protocol in the first place hsrp talks between two routers to uh create",
    "start": "4451639",
    "end": "4459159"
  },
  {
    "text": "the illusion that the Gateway belongs to a virtual address and should one router",
    "start": "4459159",
    "end": "4464600"
  },
  {
    "text": "goes down go down the active router go down the standby router will take over and start forwarding traffic for that virtual address but it is vulnerable to",
    "start": "4464600",
    "end": "4472239"
  },
  {
    "text": "attack because when Cisco created it they didn't put any strong password uh protection on",
    "start": "4472239",
    "end": "4478719"
  },
  {
    "text": "it it does have a clear text password which you could easily Snoop and grab and because you have to run hsrp on",
    "start": "4478719",
    "end": "4485120"
  },
  {
    "text": "every single VLAN including your user VLS it's pretty accessible and everybody just pretty much grab it um here's an",
    "start": "4485120",
    "end": "4492040"
  },
  {
    "text": "illustration of the attack uh normal packet flow would go out the active router in this case we have the altered",
    "start": "4492040",
    "end": "4497719"
  },
  {
    "text": "packet flow because this guy uses denial at service attack that said send an hsrp message to the group address it says hey",
    "start": "4497719",
    "end": "4504400"
  },
  {
    "text": "I'm the active router so now the PC's sending the information over to the",
    "start": "4504400",
    "end": "4510480"
  },
  {
    "text": "attacking device who then forwards it out as if it was normal traffic while he's looking at it and modifying it or",
    "start": "4510480",
    "end": "4516120"
  },
  {
    "text": "doing whatever you want to do all right so here's Solutions my last slide I think yes other than the",
    "start": "4516120",
    "end": "4523960"
  },
  {
    "text": "links set the hsrp priority to 255 on both routers that's the highest priority you",
    "start": "4523960",
    "end": "4529960"
  },
  {
    "text": "can set it to now what's going to happen is the two routers are going to start fighting so who wins the one with the",
    "start": "4529960",
    "end": "4537280"
  },
  {
    "text": "highest IP address so the next solution is for the active router the device you want to be active give them the highest",
    "start": "4537280",
    "end": "4543360"
  },
  {
    "text": "address in the subnet for the standby router give them the second highest IP address in the subnet and for the",
    "start": "4543360",
    "end": "4549080"
  },
  {
    "text": "virtual address give it the third address or actually the virtual address can be anyone but the idea here is it's",
    "start": "4549080",
    "end": "4555320"
  },
  {
    "text": "going to defeat some of these tools that just try and brute force and take over you're not going to be able to take over",
    "start": "4555320",
    "end": "4560960"
  },
  {
    "text": "if you can't take the two highest addresses in the subnet well maybe just going to make it more difficult uh",
    "start": "4560960",
    "end": "4567880"
  },
  {
    "text": "modify the default Mac address for hsrp the hsrp MAC address it uses has the",
    "start": "4567880",
    "end": "4573000"
  },
  {
    "text": "group number in there so if you have the MAC address you know the group number if you know the group number it's easier to make the",
    "start": "4573000",
    "end": "4578480"
  },
  {
    "text": "attack change that uh another thing you can do is you can apply access list only",
    "start": "4578480",
    "end": "4585120"
  },
  {
    "text": "per hsrp traffic it's UDP 970 1975 I I",
    "start": "4585120",
    "end": "4590480"
  },
  {
    "text": "don't know look it up you can create an access list to make sure the UDP traffic",
    "start": "4590480",
    "end": "4595679"
  },
  {
    "text": "from that Port is only coming from the other hsrp router I don't like that solution if you're running multi-layer switching multi-layer switching and",
    "start": "4595679",
    "end": "4602080"
  },
  {
    "text": "access list across user vlands turns your switch into a router because it creates this huge camt foring",
    "start": "4602080",
    "end": "4607239"
  },
  {
    "text": "information database and it's it's messy so I don't like it but if you're not running MLS hey great",
    "start": "4607239",
    "end": "4613600"
  },
  {
    "text": "solution um you can also hardcode the 224002 address",
    "start": "4613600",
    "end": "4619320"
  },
  {
    "text": "on your switches to make sure they're only forwarding up to routers now that may have some implications with multicast routing uh cgmp and igmp",
    "start": "4619320",
    "end": "4626080"
  },
  {
    "text": "snooping so if you're not doing multicast routing that solution is okay if you if you are well",
    "start": "4626080",
    "end": "4632000"
  },
  {
    "text": "then okay that's it here's here's a copy of the link some of the things I pulled from uh you know for my presentation uh",
    "start": "4632000",
    "end": "4639239"
  },
  {
    "text": "I'd like to thank everybody for coming sorry I had to speed through the last couple slides uh special thanks to Jeff",
    "start": "4639239",
    "end": "4645880"
  },
  {
    "text": "black hat and everybody else and it's a lot of fun thanks [Applause]",
    "start": "4645880",
    "end": "4654560"
  },
  {
    "text": "guys",
    "start": "4673840",
    "end": "4676840"
  },
  {
    "text": "e",
    "start": "4703760",
    "end": "4706760"
  },
  {
    "text": "e",
    "start": "4733719",
    "end": "4736719"
  },
  {
    "text": "e",
    "start": "4763719",
    "end": "4766719"
  },
  {
    "text": "e",
    "start": "4793639",
    "end": "4796639"
  },
  {
    "text": "e",
    "start": "4823639",
    "end": "4826639"
  },
  {
    "text": "e",
    "start": "4853639",
    "end": "4856639"
  },
  {
    "text": "e",
    "start": "4883560",
    "end": "4886560"
  },
  {
    "text": "e",
    "start": "4943520",
    "end": "4946520"
  },
  {
    "text": "e",
    "start": "4973440",
    "end": "4976440"
  },
  {
    "text": "e",
    "start": "5003440",
    "end": "5006440"
  },
  {
    "text": "e",
    "start": "5033440",
    "end": "5036440"
  },
  {
    "text": "e",
    "start": "5063320",
    "end": "5066320"
  },
  {
    "text": "e",
    "start": "5093320",
    "end": "5096320"
  },
  {
    "text": "e",
    "start": "5123320",
    "end": "5126320"
  },
  {
    "text": "e",
    "start": "5153239",
    "end": "5156239"
  },
  {
    "text": "e",
    "start": "5183239",
    "end": "5186239"
  },
  {
    "text": "e",
    "start": "5213239",
    "end": "5216239"
  },
  {
    "text": "e",
    "start": "5243119",
    "end": "5246119"
  },
  {
    "text": "e",
    "start": "5303119",
    "end": "5306119"
  },
  {
    "text": "e",
    "start": "5333040",
    "end": "5336040"
  },
  {
    "text": "e",
    "start": "5363040",
    "end": "5366040"
  },
  {
    "text": "e",
    "start": "5393040",
    "end": "5396040"
  },
  {
    "text": "e",
    "start": "5422960",
    "end": "5425960"
  },
  {
    "text": "e",
    "start": "5452920",
    "end": "5455920"
  }
]