[
  {
    "text": "[Music]",
    "start": "3830",
    "end": "10469"
  },
  {
    "text": "[Music]",
    "start": "12500",
    "end": "29439"
  },
  {
    "text": "cool all right why we go ahead and get started I know people are trickling in but let's go ahead and start um uh first",
    "start": "29439",
    "end": "35640"
  },
  {
    "text": "of all thank you everyone for attending my Turbo talk session about insecure IP storage networks um my name is hont",
    "start": "35640",
    "end": "41719"
  },
  {
    "text": "shetti I work for at stake out of our San Francisco office so uh here's the agenda for the",
    "start": "41719",
    "end": "48440"
  },
  {
    "text": "next 20 minutes it's a very very tight agenda um but I do have some bonus material that aren't in your slides so I",
    "start": "48440",
    "end": "54640"
  },
  {
    "text": "will add those to the black hat website right after this um if you are looking at the slide deck it's the very very",
    "start": "54640",
    "end": "59680"
  },
  {
    "text": "last slide deck in your big fat red book so just in case you're trying to find it so here's the quick agenda that we'll go",
    "start": "59680",
    "end": "65239"
  },
  {
    "text": "through um basically what are we talking about here today we're talking about insecure IP storage Network so what is",
    "start": "65240",
    "end": "71400"
  },
  {
    "text": "that usually that means network attached storage also known as Nas so in our diagram here on the right side you have",
    "start": "71400",
    "end": "77799"
  },
  {
    "text": "a network attached storage device now this could be an EMC device a net app device even Microsoft now has its own",
    "start": "77799",
    "end": "84079"
  },
  {
    "text": "storage server um storage appliance that you can have installed in your network well what does it do well basically it",
    "start": "84079",
    "end": "90040"
  },
  {
    "text": "offers up storage capacity whether that's 2 gigs two Megs two terabytes whatever it's a device on your network",
    "start": "90040",
    "end": "96320"
  },
  {
    "text": "to offer Up Storage to Applications operating systems what have you so what's the purpose well applications",
    "start": "96320",
    "end": "102439"
  },
  {
    "text": "like exchange or Oracle or Microsoft SQL Server your data requirements change on a monthly Monon basis well instead of",
    "start": "102439",
    "end": "109119"
  },
  {
    "text": "adding in new hard drives to your operating systems you just allocate new storage via your storage device on the",
    "start": "109119",
    "end": "114360"
  },
  {
    "text": "fly in a nice easy way so you don't have to worry about your storage capacities as much if you have a storage device",
    "start": "114360",
    "end": "119640"
  },
  {
    "text": "well how do you talk to these things how do you communicate with the things over IP well you usually use NFS or CS now",
    "start": "119640",
    "end": "126119"
  },
  {
    "text": "there are some proprietary protocols you can use but the most two main implementations of Nas devices are NFS",
    "start": "126119",
    "end": "131680"
  },
  {
    "text": "and cfts and that's really the problem here with Storage security in terms of the nas world so just like anything else whether",
    "start": "131680",
    "end": "139080"
  },
  {
    "text": "it's an operating system a router or switch by default storage devices are in Secure now there's a lot of things you",
    "start": "139080",
    "end": "145480"
  },
  {
    "text": "can do to secure these systems there a lot of features that they offer but again by default they don't support them",
    "start": "145480",
    "end": "151120"
  },
  {
    "text": "and by default they are insecure so there's nothing new we're talking about here really except when we get to the ice scuzzi section at the end but when",
    "start": "151120",
    "end": "157560"
  },
  {
    "text": "we're talking about NFS and we're talking about CS we're talking the same implementations of those Pro protocols",
    "start": "157560",
    "end": "163280"
  },
  {
    "text": "CS is common internet file system also known as a subset of SMB NFS NFI Network",
    "start": "163280",
    "end": "168840"
  },
  {
    "text": "file system obviously in the Unix world the way we get access to remote store uh data stores assumptions you go into",
    "start": "168840",
    "end": "175319"
  },
  {
    "text": "storage networks you go into um clients of ours and they'll think their EMC storage array is secure they'll think",
    "start": "175319",
    "end": "181640"
  },
  {
    "text": "their net app filer is secure that's great if it is that's great if they enhanced their devices or added some security or even add some encryption but",
    "start": "181640",
    "end": "188959"
  },
  {
    "text": "by default these things aren't secure and a lot of people are assuming oh let me go secure my Windows operating system",
    "start": "188959",
    "end": "194440"
  },
  {
    "text": "let me go secure my slis operating system that's great but if I can get access to your data easier than I can",
    "start": "194440",
    "end": "199480"
  },
  {
    "text": "get access to your Windows Server what's the point um so these are two protocols",
    "start": "199480",
    "end": "204519"
  },
  {
    "text": "we'll be talking about so how would you go about and attacking a Nas device what are the",
    "start": "204519",
    "end": "210439"
  },
  {
    "text": "steps well the steps are no different than anything else in fact in the Google talk earlier the gentleman pointed out",
    "start": "210439",
    "end": "216080"
  },
  {
    "text": "the attack scenario of a pent tester pretty much the same idea but you'll see the results are pretty much I would say",
    "start": "216080",
    "end": "222200"
  },
  {
    "text": "more significant because you're getting access to data you know you're getting access to lots of lots of data gigs and",
    "start": "222200",
    "end": "228200"
  },
  {
    "text": "gigs of data quite easily so what would you do first thing you would do is scan the system using nmap so if I can I'm",
    "start": "228200",
    "end": "235360"
  },
  {
    "text": "actually going to try to show a demo of this I know this is probably",
    "start": "235360",
    "end": "240959"
  },
  {
    "text": "pretty bad resolution so I apologize um but before we begin on the",
    "start": "240959",
    "end": "246280"
  },
  {
    "text": "right side here is basically a Unix system a Linux system with a SSH connection on the left side are my local",
    "start": "246280",
    "end": "252040"
  },
  {
    "text": "drives uh CD ROM drive you can see I have no network storage here my antivirus is disabled by the way um",
    "start": "252040",
    "end": "258959"
  },
  {
    "text": "right here is my window shell so we're GNA go ahead and hit play and I know you can't see this so I'll walk through it",
    "start": "258959",
    "end": "264880"
  },
  {
    "text": "basically we're scanning the system we're scanning the storage device what we're going to get back in return are",
    "start": "264880",
    "end": "270000"
  },
  {
    "text": "common protocols that we're used to seeing such as NFS Port 2049 and 4 4045",
    "start": "270000",
    "end": "275919"
  },
  {
    "text": "SMB Port 4045 I'm sorry 445 and 139 and we're going to get rsh we're going to",
    "start": "275919",
    "end": "281479"
  },
  {
    "text": "get telnet and if they've installed SSH we're going to get that and we're definitely going to get HTTP so we have two attack vectors here we have the data",
    "start": "281479",
    "end": "288039"
  },
  {
    "text": "attack Vector for Cs and NFS and we have the management attack Vector HTTP telnet",
    "start": "288039",
    "end": "293720"
  },
  {
    "text": "rsh so we have two attack vectors if we are our unauthorized user trying to get access to data so next thing we'll do",
    "start": "293720",
    "end": "299639"
  },
  {
    "text": "under our window shell I'm going to pause it here for well actually I won't pause it under window shell there's a tool called W info written by Arie",
    "start": "299639",
    "end": "306560"
  },
  {
    "text": "vstrom he wrote this tool to enumerate information from Windows operating systems again this tool won't work",
    "start": "306560",
    "end": "312280"
  },
  {
    "text": "completely on a Nas storage device because it's implementing sifts in a default nature we will a be able to",
    "start": "312280",
    "end": "318400"
  },
  {
    "text": "enumerate the shares on the nas device the shares that we can try to mount to to get access to data on the file system",
    "start": "318400",
    "end": "325520"
  },
  {
    "text": "so as this tool is run you're going to see we won't get a lot of information of the policies the accounts um the",
    "start": "325520",
    "end": "332880"
  },
  {
    "text": "information about the password change policy but down at the bottom here we do get the share information you'll see one",
    "start": "332880",
    "end": "338280"
  },
  {
    "text": "share that's common on the Windows world called the IPC dollar sign share which is in your booklets and you can see we",
    "start": "338280",
    "end": "343720"
  },
  {
    "text": "get some other ones that are new like home Etsy dollar sign these are all customized shares on the nas device",
    "start": "343720",
    "end": "349280"
  },
  {
    "text": "itself well how would you do that if we talking NFS well use the show Mount command you basically type showmount",
    "start": "349280",
    "end": "355479"
  },
  {
    "text": "anyone who knows NFS is is very easily you do you just type showmount and you will get all the exports what's",
    "start": "355479",
    "end": "360880"
  },
  {
    "text": "important to know here that everything is exported to everyone by default by default there is no controls so if I",
    "start": "360880",
    "end": "367880"
  },
  {
    "text": "pause it here what it says right here is all machines all machines have access to those exports by default that's very bad",
    "start": "367880",
    "end": "374919"
  },
  {
    "text": "if this is a Oracle database holding credit card numbers if it's not then maybe this is not so bad but if you're using your storage devices to hold",
    "start": "374919",
    "end": "381800"
  },
  {
    "text": "critical information this is what's happening by default the next oh this is oh well good question",
    "start": "381800",
    "end": "389120"
  },
  {
    "text": "the question is how do you get show out on your windows box basically what I'm using here is uh Unix services for",
    "start": "389120",
    "end": "394520"
  },
  {
    "text": "Windows but you can do this on a Unix box also uh the next tool that I'm going to",
    "start": "394520",
    "end": "400360"
  },
  {
    "text": "kind of um show is called enum this is a tool written by bind view what this does is enumerate enumerates admin accounts",
    "start": "400360",
    "end": "407319"
  },
  {
    "text": "on the network device itself so before I was talking about there's two attack vectors the data attack vectors and the",
    "start": "407319",
    "end": "412479"
  },
  {
    "text": "management attack vectors well these three accounts which you can't see but it's the administrator account and two dummy accounts are root level users on",
    "start": "412479",
    "end": "420319"
  },
  {
    "text": "most Nas devices there's no such thing as a non-root user everyone's a root user so basically your three accounts we",
    "start": "420319",
    "end": "427120"
  },
  {
    "text": "your three passwords three brute forcing attacks from owning the administrative functions of that Nas device and just",
    "start": "427120",
    "end": "433680"
  },
  {
    "text": "like everything else if you own the admin functions you own all the data so if you own the admin root account of a",
    "start": "433680",
    "end": "439479"
  },
  {
    "text": "slay system that's important but if you own the root level account on a storage device you own all the data that's",
    "start": "439479",
    "end": "445000"
  },
  {
    "text": "sitting on top in within that device itself so pretty bad but we'll actually get into worst attacks here in just a",
    "start": "445000",
    "end": "452840"
  },
  {
    "text": "second so this is just a screenshot um of what we went over so what we've done",
    "start": "452840",
    "end": "458400"
  },
  {
    "text": "now is just enumerated information we haven't done anything really significant to be honest so now what we're going to do is Mount that information over the uh",
    "start": "458400",
    "end": "465520"
  },
  {
    "text": "over the um by by using the information that we've enumerated what we would do is use tools called Mount and net use",
    "start": "465520",
    "end": "472639"
  },
  {
    "text": "Mount and net use are nothing that fantastic you'll see them on most default installations of systems",
    "start": "472639",
    "end": "480680"
  },
  {
    "text": "let me skip ahead here okay so below here again you can't",
    "start": "480680",
    "end": "488080"
  },
  {
    "text": "see it what I'm doing is putting a mount command and I'm logging on to these NFS exports that I numerated anonymously no",
    "start": "488080",
    "end": "494599"
  },
  {
    "text": "username no password no authentication required if you look up here in just a second as soon as I hit enter on this",
    "start": "494599",
    "end": "500879"
  },
  {
    "text": "command I'm going to have a drive appear automatically Anon anonymously over the network so I've now connected to the nas",
    "start": "500879",
    "end": "507039"
  },
  {
    "text": "storage device with no Authentication just by enumerating the exports and I'm going to do the same thing with the net",
    "start": "507039",
    "end": "512719"
  },
  {
    "text": "use command and attach to a share now on Windows you can actually attach to a share that has is actually a file system",
    "start": "512719",
    "end": "519640"
  },
  {
    "text": "by default anonymously on a Nas storage device you can is why it's more insecure than most windows implementations so you",
    "start": "519640",
    "end": "526399"
  },
  {
    "text": "can see here I'm now browsing I've read and execute access to everything in that Nas device so whatever these folders are",
    "start": "526399",
    "end": "533240"
  },
  {
    "text": "whatever these files I don't have write access so I can't completely own everything but I have read access so",
    "start": "533240",
    "end": "538440"
  },
  {
    "text": "again if it's a a database it's an exchange server all that stuff is there for me to read as much as I want again",
    "start": "538440",
    "end": "543959"
  },
  {
    "text": "no authentication was required whatsoever by default and within Windows like there's",
    "start": "543959",
    "end": "550880"
  },
  {
    "text": "that c dollar sign share I cannot connect to that anonymously and still get access to that volume on a storage",
    "start": "550880",
    "end": "557120"
  },
  {
    "text": "device I can yes yes but from Windows to Windows",
    "start": "557120",
    "end": "562760"
  },
  {
    "text": "I can't do that so that's what these devices one point why EMC and net apppp and all these vendors do this because",
    "start": "562760",
    "end": "568200"
  },
  {
    "text": "they want to be invisible in the network they don't want to be an entity they want to be like we are your storage we",
    "start": "568200",
    "end": "573760"
  },
  {
    "text": "are your Windows system we are your Unix system they want to be invisible what they've done is open themselves to attacks because it's talking IP and we",
    "start": "573760",
    "end": "581000"
  },
  {
    "text": "can access the IP interface we can attack the device itself instead of going through the operating system again",
    "start": "581000",
    "end": "586040"
  },
  {
    "text": "what's the point of attacking the operating system when all the storage is sitting on this device and actually is more easier to get",
    "start": "586040",
    "end": "592160"
  },
  {
    "text": "into so moving on to the middle of the presentation the next thing we'll talk about is permissions so being that we",
    "start": "592160",
    "end": "598800"
  },
  {
    "text": "canect connect to this device we can enumerate the shares we can enumerate the exports authentication is not required what would we do next well we",
    "start": "598800",
    "end": "605600"
  },
  {
    "text": "would want to set file permissions right well follow permissions become extremely important since access seems to be um",
    "start": "605600",
    "end": "611640"
  },
  {
    "text": "highly very easy to get so in this example we have a folder called patient information that we want to secure the",
    "start": "611640",
    "end": "617839"
  },
  {
    "text": "username in green here called honu should have access the username called H DTI should have no access so what we're",
    "start": "617839",
    "end": "624800"
  },
  {
    "text": "going to do show another demo how user permissions with implementations of NFS and sifts are insecure so a lot of",
    "start": "624800",
    "end": "632240"
  },
  {
    "text": "storage devices only support one or the other you can have them only support one or the other but in most implementations",
    "start": "632240",
    "end": "638000"
  },
  {
    "text": "you see supporting NFS and sifts for Unix and windows clients so what we're going to do is show that so this is our",
    "start": "638000",
    "end": "646120"
  },
  {
    "text": "legitimate user the user with the blue background can get access to everything and I know you can't see this but I'll walk through you through it so in a",
    "start": "646120",
    "end": "652560"
  },
  {
    "text": "moment I'm going to switch to a different user with a black background I'm going to VNC it to a different user that's the user we don't want to have",
    "start": "652560",
    "end": "658600"
  },
  {
    "text": "anyone have this user should not have any access so you can see we're in a different machine um office is installed",
    "start": "658600",
    "end": "664440"
  },
  {
    "text": "on this machine so you see the icon show up but basically we want to protect that directory called patient information so",
    "start": "664440",
    "end": "669880"
  },
  {
    "text": "what would we do well as a unit us as a Windows user what we would do is go ahead and put file permissions on it so",
    "start": "669880",
    "end": "675279"
  },
  {
    "text": "we're going to go back to our other machine rightclick hit properties and go ahead and hit the",
    "start": "675279",
    "end": "681399"
  },
  {
    "text": "security tab we're going to remove the administrator and the everyone accounts that's why we were able to get Anonymous",
    "start": "681399",
    "end": "686600"
  },
  {
    "text": "access cuz everyone is allowed access so we're going to remove those put it go ahead and put our",
    "start": "686600",
    "end": "691639"
  },
  {
    "text": "username give ourselves full access hit apply hit okay so great now we've",
    "start": "691639",
    "end": "697000"
  },
  {
    "text": "secured that folder we feel very comfortable especially since you don't need any authentication to get access to that as you can see here we're denied",
    "start": "697000",
    "end": "703320"
  },
  {
    "text": "access we still have access to other folders within that directory on that Nas device but we do not have access to",
    "start": "703320",
    "end": "709120"
  },
  {
    "text": "that patient information folder so this is very good so far but",
    "start": "709120",
    "end": "715000"
  },
  {
    "text": "because because this entity this storage device supports reports NFS and cfts",
    "start": "715000",
    "end": "720800"
  },
  {
    "text": "it's vulnerable to the NFS problems with file permissions this is a very very very old attack um but it's still very",
    "start": "720800",
    "end": "727279"
  },
  {
    "text": "popular especially when it comes to storage devices themselves so what would we do",
    "start": "727279",
    "end": "732839"
  },
  {
    "text": "is demo this also so in this situation we have that same H toti account on a Unix system",
    "start": "732839",
    "end": "740399"
  },
  {
    "text": "again the same account that we do not want them to have access to that folder and you can see when they try to CD or",
    "start": "740399",
    "end": "746120"
  },
  {
    "text": "patient information try to CD into that patient information folder they're denied because you can see the only",
    "start": "746120",
    "end": "751399"
  },
  {
    "text": "person who has access to that is the uid of 6161 well what is that uid of 6161 that",
    "start": "751399",
    "end": "757600"
  },
  {
    "text": "is the hontu account when that user locked everyone else out except themselves the nas device automatically",
    "start": "757600",
    "end": "764600"
  },
  {
    "text": "set the uid of 6161 to only have control of that folder so what we'll do here is",
    "start": "764600",
    "end": "771199"
  },
  {
    "text": "basically drop down the root again we own our operating system we own our Linux machine what we're going to do is",
    "start": "771199",
    "end": "776839"
  },
  {
    "text": "drop down the rout which gives us ourselves a uid of zero and then we're going to say hey Nas device why you go",
    "start": "776839",
    "end": "782360"
  },
  {
    "text": "ahead and give us access to everything because we're uid zero we are the god account God should have access to",
    "start": "782360",
    "end": "787600"
  },
  {
    "text": "everything and you can see here we get access to n still which is very good so this storage device is actually saying",
    "start": "787600",
    "end": "794399"
  },
  {
    "text": "you know what even though you have the uid Z we don't care uid Z will not map",
    "start": "794399",
    "end": "799639"
  },
  {
    "text": "to uid Z on our storage device you are nobody to us still which is very very",
    "start": "799639",
    "end": "804720"
  },
  {
    "text": "good but by default they didn't do that for any other user ID they only did it for the uid zero but nothing else so",
    "start": "804720",
    "end": "810959"
  },
  {
    "text": "what I'm going to do next since that didn't work is pretty much go to my local Etsy password file and change my",
    "start": "810959",
    "end": "816480"
  },
  {
    "text": "uid not to zero but to 6161 yes this is again a very very old attack so some",
    "start": "816480",
    "end": "823279"
  },
  {
    "text": "people will say as we walk through this attack well this is the NFS problem right well yes and no it's like you know",
    "start": "823279",
    "end": "829519"
  },
  {
    "text": "a bank right you have your PIN card and you have your PIN code they get $200 out of an ATM right but if you want to go",
    "start": "829519",
    "end": "835959"
  },
  {
    "text": "get jewelry out of the Vault you have to have a key the teller has to have a key you have to have your bank account",
    "start": "835959",
    "end": "841519"
  },
  {
    "text": "number you have to have more information to go to the entity that has all the money well the entity that has all the",
    "start": "841519",
    "end": "846759"
  },
  {
    "text": "data are is just as vulnerable of that any of any other NFS machine on the network and any other Windows machine on",
    "start": "846759",
    "end": "853240"
  },
  {
    "text": "the network in my opinion The Entity that has all the data should have more security than the entity that's just an",
    "start": "853240",
    "end": "858519"
  },
  {
    "text": "operating system so you can see here we've changed our uid to 6161 on our local account and now what we're going",
    "start": "858519",
    "end": "865160"
  },
  {
    "text": "to do oh we're still the root user here what I'm going to do is go ahead and drop down to that new hdet account again",
    "start": "865160",
    "end": "872120"
  },
  {
    "text": "that hdet account used to have the uid of three it's been changed to",
    "start": "872120",
    "end": "877320"
  },
  {
    "text": "6161 um so I'm going to switch user to that",
    "start": "877320",
    "end": "883839"
  },
  {
    "text": "account log in so now you can see my H toet account",
    "start": "885120",
    "end": "892000"
  },
  {
    "text": "which used to be three at the beginning is now 6161 we do a directory listing on that same directory and now it looks",
    "start": "892000",
    "end": "898279"
  },
  {
    "text": "like we own all those accounts because it thinks we are the user ID of 6161 so",
    "start": "898279",
    "end": "903360"
  },
  {
    "text": "I'm going to go ahead and C you to that patient information folder that I was denied four times in a row and you can",
    "start": "903360",
    "end": "908800"
  },
  {
    "text": "see I'm allowed right in um quite nicely so I've just basically broken all the",
    "start": "908800",
    "end": "914040"
  },
  {
    "text": "the security permissions that that C's user placed on that directory with common and very old NFS attacks these",
    "start": "914040",
    "end": "919720"
  },
  {
    "text": "attacks still work just because it's on an EMC device or an net apppp device doesn't mean it's gone away it's still",
    "start": "919720",
    "end": "925279"
  },
  {
    "text": "there so going on to our next section again",
    "start": "925279",
    "end": "930839"
  },
  {
    "text": "there are screenshots of what we just did so sniffing so what's the big deal about",
    "start": "930839",
    "end": "936199"
  },
  {
    "text": "sniffing well there is no big deal really sniffing is still possible now keros NFS version 4 will stop the attack",
    "start": "936199",
    "end": "943120"
  },
  {
    "text": "we just showed because it uses Kerberos but if you're using keros in a active directory domain you can do basically a",
    "start": "943120",
    "end": "948920"
  },
  {
    "text": "denial service on Port 88 and have that Nash device drop down to the lowest common denominator which will be nlm so",
    "start": "948920",
    "end": "955639"
  },
  {
    "text": "you can still make it talk nlm over the network if it thinks the KERO service is not available so you can just sniff",
    "start": "955639",
    "end": "961000"
  },
  {
    "text": "those hashes over the network quite easily you can do the same thing with KERO session tickets if you can capture that at the right time or you can just",
    "start": "961000",
    "end": "967680"
  },
  {
    "text": "sniff rsh and NFS because those are clear Tex protocols why are we using clear Tex protocols when it comes to",
    "start": "967680",
    "end": "972920"
  },
  {
    "text": "storage when it comes to data and lots of it I still don't know well here's the reason why clear Tex Protocols are so",
    "start": "972920",
    "end": "979319"
  },
  {
    "text": "bad and this is where the I scuzzy part comes into play icui is more of a storage area Network Technology not",
    "start": "979319",
    "end": "985399"
  },
  {
    "text": "really a Nas technology it doesn't use CS or NFS or let's figure get that for now for just a moment iceg can use three",
    "start": "985399",
    "end": "992399"
  },
  {
    "text": "levels of um of security it can use authentication using chap the authorization is something called an",
    "start": "992399",
    "end": "998639"
  },
  {
    "text": "initiator initiator node name it's like your DNS name if you will it's your initiator node name and the third thing",
    "start": "998639",
    "end": "1004600"
  },
  {
    "text": "is encryption so the only thing required is your initiator node name",
    "start": "1004600",
    "end": "1011120"
  },
  {
    "text": "authentication is not required so your chap authentication is not required to",
    "start": "1011120",
    "end": "1016279"
  },
  {
    "text": "access the data why authentication is not required to",
    "start": "1016279",
    "end": "1021759"
  },
  {
    "text": "access data puzzles me you need authorization but again authentication is optional we'll go through that in a",
    "start": "1021759",
    "end": "1027880"
  },
  {
    "text": "second so what is your initiator node name well that's basically again it's like your DNS name and that's there's",
    "start": "1027880",
    "end": "1033240"
  },
  {
    "text": "something called a simple name server on these storage networks on these Sands that simple name server basically takes",
    "start": "1033240",
    "end": "1038839"
  },
  {
    "text": "your initiator node name and then maps that to all the drives you have access to so drive 1 2 3 and four belong to",
    "start": "1038839",
    "end": "1046038"
  },
  {
    "text": "this initiator node name and that's how it basically identifies you kind of like DNS same idea but it actually Maps",
    "start": "1046039",
    "end": "1052039"
  },
  {
    "text": "access to what you have as far as the um the ice scuzzy storage device so what",
    "start": "1052039",
    "end": "1057200"
  },
  {
    "text": "we're going to do is show our very last demo and I apologize these demos aren't very big um that's totally my fault so",
    "start": "1057200",
    "end": "1065440"
  },
  {
    "text": "what I'm going to do is scan for two ports Port 3205 and 3260 Port 325 is the",
    "start": "1065440",
    "end": "1072760"
  },
  {
    "text": "port that the simple name server listens on so that's why I'm scanning for Port 3205 because I want to find my simp",
    "start": "1072760",
    "end": "1078400"
  },
  {
    "text": "simple name server I want to find this device I'm going to scan for Port 3260 cuz that's the port that the I scuzzy",
    "start": "1078400",
    "end": "1084760"
  },
  {
    "text": "storage device is listing on so I scuzzy listens on 3260 Port 3205 is that simple",
    "start": "1084760",
    "end": "1090440"
  },
  {
    "text": "name server so I'm going to scan for that on my local network and hopefully",
    "start": "1090440",
    "end": "1095480"
  },
  {
    "text": "I'll be able to get something back and you can see obviously I will so I",
    "start": "1095480",
    "end": "1101799"
  },
  {
    "text": "get one two three four storage devices four Icey storage devices what I've",
    "start": "1103080",
    "end": "1108720"
  },
  {
    "text": "highlighted there is the IP address of that simple name server and because the protocol is clear text I can just bring",
    "start": "1108720",
    "end": "1116200"
  },
  {
    "text": "up my favorite sniffer um in this case it's etheral and I'm just going to sniff over the network for all um",
    "start": "1116200",
    "end": "1122159"
  },
  {
    "text": "communication over 3205 now if I can't sniff um over well I can't sniff on a",
    "start": "1122159",
    "end": "1127440"
  },
  {
    "text": "switch because I can do do an ARP game and ARP spoofing attacks and have all that communication from that simple name",
    "start": "1127440",
    "end": "1133720"
  },
  {
    "text": "server to the default router come to me first or if I'm on a hub I can just sniff over the network because it's a clear text protocol so you can see here",
    "start": "1133720",
    "end": "1141120"
  },
  {
    "text": "we're going to bring up etheral we're going to start sniffing in just a moment we see all this data well I know you",
    "start": "1141120",
    "end": "1147600"
  },
  {
    "text": "can't read that but what we're going to do is bring up a I scuzzy um session and that's an initiator node name right",
    "start": "1147600",
    "end": "1153880"
  },
  {
    "text": "there if you can kind of read that it basically says a whole bunch of stuff and then it says Cisco so this is an",
    "start": "1153880",
    "end": "1159559"
  },
  {
    "text": "initiator node name from someone using the Cisco I scuzzy driver The key thing here is we just captured someone's",
    "start": "1159559",
    "end": "1166360"
  },
  {
    "text": "initiator node name now we can spoof that all it's all we need that's all that's required to spoof and get access to",
    "start": "1166360",
    "end": "1172960"
  },
  {
    "text": "someone else's disc drives so what we're going to do is capture that I have a whole log of those of ones I've captured",
    "start": "1172960",
    "end": "1178480"
  },
  {
    "text": "when I was doing this assessment so go ahead we don't need etheral anymore because it's a clear text protocol we",
    "start": "1178480",
    "end": "1184280"
  },
  {
    "text": "didn't need have to do any kind of uber stuff um I'm going to bring up my ice scuzzy driver my Microsoft ice scuzzy",
    "start": "1184280",
    "end": "1191039"
  },
  {
    "text": "driver and what I'm going to do is point that at that ice scuzzy storage device in this case I'm using that last one",
    "start": "1191039",
    "end": "1197240"
  },
  {
    "text": "10601 2 188 hit okay um I'm not going to log in yet um before I hit log in I'm",
    "start": "1197240",
    "end": "1204240"
  },
  {
    "text": "going to show you guys my local um Disk Management Disk Management Properties and you're going to see here I have my",
    "start": "1204240",
    "end": "1210400"
  },
  {
    "text": "local hard drive and I have my CD ROM drive this is what I should have because I only have one drive on my system so",
    "start": "1210400",
    "end": "1215720"
  },
  {
    "text": "everything looks good here so what I'm going to do now and all again all I've done is done a port scan and put it that",
    "start": "1215720",
    "end": "1222000"
  },
  {
    "text": "put that IP address on my I scuzzy client driver I'm going to go ahead and log in so that's what I just did now I'm",
    "start": "1222000",
    "end": "1227720"
  },
  {
    "text": "connected I'm going to go back to my management um interface and look back at those disc",
    "start": "1227720",
    "end": "1232760"
  },
  {
    "text": "drives that I was just looking at and in a moment you'll see nothing's changed",
    "start": "1232760",
    "end": "1238840"
  },
  {
    "text": "well why hasn't anything changed again you need that initiator um node name the thing that we snipped over the network",
    "start": "1238840",
    "end": "1244720"
  },
  {
    "text": "you need that so what I'm going to do is conveniently change that in my driver I",
    "start": "1244720",
    "end": "1249840"
  },
  {
    "text": "can change that to whatever I want so since I sniffed one mine is there it says Microsoft because I'm using a",
    "start": "1249840",
    "end": "1256000"
  },
  {
    "text": "Microsoft driver I'm going to go ahead and take the one I sniff that I put in that log file and basically change it so",
    "start": "1256000",
    "end": "1261559"
  },
  {
    "text": "at this point I'm just SP spoofing my initiator node name going to go ahead and hit change relog in using the ice",
    "start": "1261559",
    "end": "1268320"
  },
  {
    "text": "scuzzy client driver hit log on hit okay again so so",
    "start": "1268320",
    "end": "1275640"
  },
  {
    "text": "far what have I done here I've enumerated the icecy storage device connected to it I sniffed the initiator",
    "start": "1275640",
    "end": "1282480"
  },
  {
    "text": "node name over the network in clear text and I added that as my own node name so I spoofed that so in a few moments here",
    "start": "1282480",
    "end": "1289640"
  },
  {
    "text": "you'll see a change um into our local",
    "start": "1289640",
    "end": "1294200"
  },
  {
    "text": "storage it takes a while because now instead of having one drive and one cdrom drive it's it has a lot more and",
    "start": "1296240",
    "end": "1303120"
  },
  {
    "text": "so it takes a while for it to come",
    "start": "1303120",
    "end": "1306320"
  },
  {
    "text": "up and so you can see here dis one disc two disc three disc four disc five are",
    "start": "1309159",
    "end": "1314640"
  },
  {
    "text": "all in my control I set that to persistent I reboot I can do whatever I want with that data and how did I get",
    "start": "1314640",
    "end": "1320559"
  },
  {
    "text": "that access to that data all I had to do is sniff one port 3205 it's like",
    "start": "1320559",
    "end": "1326240"
  },
  {
    "text": "stiffing DNS and that's all I had to do to get access to this again this there's",
    "start": "1326240",
    "end": "1331640"
  },
  {
    "text": "a solution out there it's called authentication but it's not required authentication is not required if it",
    "start": "1331640",
    "end": "1337640"
  },
  {
    "text": "were required this attack will not work it definitely will not work but by default again we come back to the",
    "start": "1337640",
    "end": "1343559"
  },
  {
    "text": "beginning by default these storage devices whether it's Nas talking or NFS",
    "start": "1343559",
    "end": "1349080"
  },
  {
    "text": "or a i scuzzy storage device or even a sand by default these things are made to work made to be open um unfortunately",
    "start": "1349080",
    "end": "1355840"
  },
  {
    "text": "you can Target these things especially ice scuzzy because we're now talking Internet Internet Protocol and not fiber",
    "start": "1355840",
    "end": "1360919"
  },
  {
    "text": "channel you can Target these things directly instead of talking the on targeting the operating system that's it's connected",
    "start": "1360919",
    "end": "1366760"
  },
  {
    "text": "to so in conclusion what am I saying here",
    "start": "1366760",
    "end": "1374000"
  },
  {
    "text": "I'm not saying things are bad I'm saying by default things are bad go ahead and look at your storage devices make sure",
    "start": "1374000",
    "end": "1380480"
  },
  {
    "text": "that you do enable these features whether it's Cisco brocade Q Logic mcdata EMC um net app they all have",
    "start": "1380480",
    "end": "1387279"
  },
  {
    "text": "Solutions in terms of security you just have to enable them um a lot of them do a lot of good things but again by default most of them aren't",
    "start": "1387279",
    "end": "1393880"
  },
  {
    "text": "enabled um some questions Shameless plug there I apologize for that um some references some of the tools I used on",
    "start": "1393880",
    "end": "1399880"
  },
  {
    "text": "the Nas and sift side so I want to make sure I reference those people um but I'll open it up for uh questions if I",
    "start": "1399880",
    "end": "1405919"
  },
  {
    "text": "have time yes I do no",
    "start": "1405919",
    "end": "1413000"
  },
  {
    "text": "questions um when you configure the nas device you can definitely enable it but",
    "start": "1416960",
    "end": "1422279"
  },
  {
    "text": "if you configure it and use the wizard or you just configure it to start the only thing it will require you to do is set up groups and that's the initiator",
    "start": "1422279",
    "end": "1428880"
  },
  {
    "text": "node name and um the dis drives it has access to but if you're the administrator you can say yes I want to",
    "start": "1428880",
    "end": "1435080"
  },
  {
    "text": "go enable Chap and require chap Authentication",
    "start": "1435080",
    "end": "1439880"
  },
  {
    "text": "that yeah so the question is so is there any kind of encryption no that's just the authentication the key thing here is",
    "start": "1442720",
    "end": "1447919"
  },
  {
    "text": "encryption is optional ipsec is definitely available but of course for performance reasons they could not",
    "start": "1447919",
    "end": "1454000"
  },
  {
    "text": "require that and I actually agree with that for encrypt for storage performance is everything so you can't necessarily take a load a hit with IPC but if you",
    "start": "1454000",
    "end": "1461240"
  },
  {
    "text": "want to use that encryption it's available on scuzzy I'm sorry on sands and fiber channel it's not really",
    "start": "1461240",
    "end": "1467000"
  },
  {
    "text": "available so this is do something better when you compare fiber channel and Ice",
    "start": "1467000",
    "end": "1472080"
  },
  {
    "text": "scuzzy uh yeah good question um good question so the question is can you do",
    "start": "1475399",
    "end": "1480919"
  },
  {
    "text": "something secure to NFS without V4 well for authentication unfortunately you can't with NFS V4 you can en uh you can",
    "start": "1480919",
    "end": "1488960"
  },
  {
    "text": "enable Kerberos um if you're using V2 and V3 what I would probably do is limit",
    "start": "1488960",
    "end": "1494720"
  },
  {
    "text": "the enumeration possibilities which you can do so you can't um everyone won't be able to enumerate the shares or the M",
    "start": "1494720",
    "end": "1500360"
  },
  {
    "text": "exports but you could use or another thing you could do is try to use like some kind of authentication like ldap",
    "start": "1500360",
    "end": "1507240"
  },
  {
    "text": "instead of using flat authentication but you still can subvert that with uid mapping so it's you're pretty much handcuffed if you're doing two or three",
    "start": "1507240",
    "end": "1513559"
  },
  {
    "text": "to my knowledge anyway uh no V4 is supported by all",
    "start": "1513559",
    "end": "1518799"
  },
  {
    "text": "these devices I know net app and EMC do support V4 yeah and actually one of the storage vendors I talked to last week",
    "start": "1518799",
    "end": "1524399"
  },
  {
    "text": "they say it's been available in Solaris since 98 I didn't know that was true but according to them it's been available",
    "start": "1524399",
    "end": "1531000"
  },
  {
    "text": "for a while but it has been standardized yeah yeah and that's a good point standardization between between all",
    "start": "1531000",
    "end": "1536799"
  },
  {
    "text": "these vendors is a big reason why security doesn't really work well because everyone's trying to do what",
    "start": "1536799",
    "end": "1542000"
  },
  {
    "text": "their their own thing and they're not really using these standards up until you know a couple years ago very good",
    "start": "1542000",
    "end": "1548440"
  },
  {
    "text": "comment so the question is how bad is the performance hit if you have crypto Hardware there's a couple crypto vendors",
    "start": "1551520",
    "end": "1557320"
  },
  {
    "text": "out there um to be honest I've never done any testing on that so I Prett not qualified",
    "start": "1557320",
    "end": "1562880"
  },
  {
    "text": "to say I work closely with a lot of these crypto Hardware they say you can get up to you could get very low",
    "start": "1562880",
    "end": "1569840"
  },
  {
    "text": "performance hits um of course I don't know if that's the marketing thing or if that's the true thing but um companies",
    "start": "1569840",
    "end": "1575760"
  },
  {
    "text": "like Dew neoc scale cash and Chase all have encryption appliances that you can",
    "start": "1575760",
    "end": "1580919"
  },
  {
    "text": "put to secure the data so who cares if I can get access to that ice scuzzy target all that data is encrypted if that's",
    "start": "1580919",
    "end": "1587320"
  },
  {
    "text": "true and the performance is not um hit I think that's a good recommendation but again that's not something I've actually",
    "start": "1587320",
    "end": "1594320"
  },
  {
    "text": "tested oh",
    "start": "1597159",
    "end": "1603039"
  },
  {
    "text": "yes oh so so the um question is is that um implementing NFS over",
    "start": "1603039",
    "end": "1609640"
  },
  {
    "text": "SSH well why I love SSH um you're going to have a performance hit you can tunnel it so you can basically tunnel NFS ports",
    "start": "1609640",
    "end": "1617000"
  },
  {
    "text": "204 9 449 445 all these Dynamic ports for NFS and tunnel that through an SSH",
    "start": "1617000",
    "end": "1623159"
  },
  {
    "text": "connection you can do that but performance- wise you will have some penalties",
    "start": "1623159",
    "end": "1629919"
  },
  {
    "text": "there any other questions",
    "start": "1632559",
    "end": "1637520"
  },
  {
    "text": "comments so good question the the compatibility for open Source clients on ice scuzzy or okay so the question is",
    "start": "1644120",
    "end": "1651559"
  },
  {
    "text": "what's the compatibility for open source clients on Ice scy honestly I don't know um the ice scy stuff only got in here in",
    "start": "1651559",
    "end": "1657799"
  },
  {
    "text": "the last second because I completed it on Wednesday um so the only two clients I've used is Microsoft Cisco and a Linux",
    "start": "1657799",
    "end": "1663720"
  },
  {
    "text": "client um but they're all vendor-based clients they're not there's nothing open source that I've seen out",
    "start": "1663720",
    "end": "1670760"
  },
  {
    "text": "there okay so so there is something on Source Forge that IBM produced on um for open source",
    "start": "1675440",
    "end": "1682200"
  },
  {
    "text": "clients that's good to know thank you Intel has one oh okay so it's the Intel one on",
    "start": "1682200",
    "end": "1689120"
  },
  {
    "text": "Source Forge any other",
    "start": "1689120",
    "end": "1696000"
  },
  {
    "text": "questions all right thank",
    "start": "1696000",
    "end": "1699640"
  },
  {
    "text": "you",
    "start": "1706440",
    "end": "1709440"
  },
  {
    "text": "e",
    "start": "1736399",
    "end": "1739399"
  },
  {
    "text": "e",
    "start": "1796320",
    "end": "1799320"
  }
]