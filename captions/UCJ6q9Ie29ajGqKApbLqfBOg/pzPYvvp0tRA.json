[
  {
    "text": "it's 9:00 or do you know the time",
    "start": "320",
    "end": "5439"
  },
  {
    "text": "Okay Um welcome to uh the talk on IPSC operations encryption using DNS sec Um",
    "start": "9360",
    "end": "17520"
  },
  {
    "text": "the talk's basically in two parts One part is the uh DNS sec part where I'll",
    "start": "17520",
    "end": "22640"
  },
  {
    "text": "do an overview of of how DNS sec works Uh the second part is um about",
    "start": "22640",
    "end": "28320"
  },
  {
    "text": "opportunist encryption which is a way for um IPSC to actually use the DNSC",
    "start": "28320",
    "end": "34440"
  },
  {
    "text": "information to uh build lots of tunnels Um so um here we go If anybody",
    "start": "34440",
    "end": "42399"
  },
  {
    "text": "has questions feel free to ask them uh right away Um I think I'll go through the slides pretty quickly because I",
    "start": "42399",
    "end": "48239"
  },
  {
    "text": "don't have that much time So feel free to just get my attention and ask a question",
    "start": "48239",
    "end": "55559"
  },
  {
    "text": "So the first question becomes why do we need DNS sec um we've been waiting for a",
    "start": "57120",
    "end": "62239"
  },
  {
    "text": "long time to actually get a secure version of DNS Um there the DNS is",
    "start": "62239",
    "end": "68000"
  },
  {
    "text": "easily spoofed There's no check on who's sending you the answer It's it's pretty guessable Uh well you all know the",
    "start": "68000",
    "end": "75680"
  },
  {
    "text": "problems Um I'll talk a bit about theory Um talk a bit about how to use bind with",
    "start": "75680",
    "end": "81000"
  },
  {
    "text": "DNSC I'll show the example of how to uh securely register uh domains in the ll",
    "start": "81000",
    "end": "88560"
  },
  {
    "text": "tree and how to make them secure Um it seems that so far is the the people who",
    "start": "88560",
    "end": "93759"
  },
  {
    "text": "are furthest along with deploying uh DNSC and I'll talk about deploying DNS",
    "start": "93759",
    "end": "100799"
  },
  {
    "text": "on a bit of a large scale which is relatively speaking but it's it's the ISP that I work for that actually has",
    "start": "100799",
    "end": "106799"
  },
  {
    "text": "deployed it for all its customers",
    "start": "106799",
    "end": "112119"
  },
  {
    "text": "And the second part goes about operatis encryption What it is why we want it how",
    "start": "112560",
    "end": "118320"
  },
  {
    "text": "to protect it install it testing it And the last thing might be very interesting for some people Um the last bit is about",
    "start": "118320",
    "end": "125040"
  },
  {
    "text": "waves We'll be running a few waves servers uh at the conference",
    "start": "125040",
    "end": "130440"
  },
  {
    "text": "Um I I'll talk about waves later but basically it's using using IPSAC without",
    "start": "130440",
    "end": "136000"
  },
  {
    "text": "prior arrangements to secure your 802.11 connection Um the boxes haven't been uh",
    "start": "136000",
    "end": "142000"
  },
  {
    "text": "set up yet I'll do that after my talk But if you want to know about how to actually deploy it and use it at the",
    "start": "142000",
    "end": "147760"
  },
  {
    "text": "conference uh just catch me somewhere uh and I'll be happy to help",
    "start": "147760",
    "end": "154239"
  },
  {
    "text": "you So one of the one of the non-technical problems of DNS is actually that there's so many people",
    "start": "155000",
    "end": "161360"
  },
  {
    "text": "involved uh uh who actually have some sort of control over your domain Um I've",
    "start": "161360",
    "end": "167519"
  },
  {
    "text": "just listed a few that I could think of for the domain freeze one.nl L which if if you see that of course it's the root",
    "start": "167519",
    "end": "174480"
  },
  {
    "text": "registry various sign and and and various organizations",
    "start": "174480",
    "end": "179519"
  },
  {
    "text": "uh from the root we got the more or less ITF run rootname servers uh spread out",
    "start": "179519",
    "end": "185519"
  },
  {
    "text": "all over the planet um doing their thing which everybody's using it um though not",
    "start": "185519",
    "end": "191440"
  },
  {
    "text": "as critical as some people might see because if they're they're getting lots of DOS attacks but usually people don't",
    "start": "191440",
    "end": "196800"
  },
  {
    "text": "notice this um but in theory if these data on these servers change your domain",
    "start": "196800",
    "end": "202400"
  },
  {
    "text": "could vanish Um for the free one NL domain we we we continue to the uh uh the country",
    "start": "202400",
    "end": "210159"
  },
  {
    "text": "uh TLD servers uh for NL we get to write the regional",
    "start": "210159",
    "end": "215519"
  },
  {
    "text": "internet registry in Europe We also control uh for inance the reverse DNS",
    "start": "215519",
    "end": "221040"
  },
  {
    "text": "tree for IP uh IP addresses for the forward we get to the",
    "start": "221040",
    "end": "226200"
  },
  {
    "text": "uh domain which is the Dutch registry uh",
    "start": "226200",
    "end": "231599"
  },
  {
    "text": "and then we get to uh my my ISP uh who also controls some of the reverse",
    "start": "231599",
    "end": "238560"
  },
  {
    "text": "uh and in between we've got all the BGP routing problems and people who can actually just steal your traffic that",
    "start": "238560",
    "end": "244720"
  },
  {
    "text": "way Um hopefully there are some other people addressing this issue Uh I know there's some working groups starting on",
    "start": "244720",
    "end": "250319"
  },
  {
    "text": "secure versions of BGP but um hopefully it will take quicker than than than the DNS sec",
    "start": "250319",
    "end": "255880"
  },
  {
    "text": "one So there there quite a few organizations actually involved in uh in",
    "start": "255880",
    "end": "261040"
  },
  {
    "text": "in in how to get to your domain So how do how do we secure this how do we get rid of 22 organizations out of this tree",
    "start": "261040",
    "end": "267520"
  },
  {
    "text": "because we are the one that's running that are running domain and we just want to say what data is in it We don't any",
    "start": "267520",
    "end": "273199"
  },
  {
    "text": "we don't want anybody else to change it Well this is a somewhat um quick view I",
    "start": "273199",
    "end": "279520"
  },
  {
    "text": "did from uh from the resolver point of view Um you can you can see that if if",
    "start": "279520",
    "end": "285919"
  },
  {
    "text": "we're if if you want to know where www.freezon.analysis you can see that well first the answer is that IP address",
    "start": "285919",
    "end": "293280"
  },
  {
    "text": "But then if you closely look at where this question is being asked again it's it's all over the planet We first go to",
    "start": "293280",
    "end": "300639"
  },
  {
    "text": "our our our our usually our root file get our root name servers get an IP ask",
    "start": "300639",
    "end": "306000"
  },
  {
    "text": "ask for dot continue on get some glue uh continue to to find out where the name",
    "start": "306000",
    "end": "311440"
  },
  {
    "text": "servers for NL is get some glue and name servers there get to the ISP of which is",
    "start": "311440",
    "end": "317360"
  },
  {
    "text": "XDNet NL Uh continue on and then finally in the end we get",
    "start": "317360",
    "end": "322400"
  },
  {
    "text": "like an authorative answer which basically anybody can claim they're authoritative it's not we have no proof",
    "start": "322400",
    "end": "329479"
  },
  {
    "text": "whatsoever So that there's a lot of questions a lot of places where people can interfere Um and this is a problem",
    "start": "329479",
    "end": "335520"
  },
  {
    "text": "of DNS as well So basically there there are two",
    "start": "335520",
    "end": "341680"
  },
  {
    "text": "type of vulnerabilities in DNS is the integrity of data and the authenticity of data The first is basically like like",
    "start": "341680",
    "end": "347440"
  },
  {
    "text": "is the data that's been sent by the party who was supposed to answer uh changed before I received it Um there's",
    "start": "347440",
    "end": "355360"
  },
  {
    "text": "many ways where that can happen I've listed a few of them Um",
    "start": "355360",
    "end": "360400"
  },
  {
    "text": "uh last year there were some people at Black Hat that that demonstrated some uh some of this as well Um there's of",
    "start": "360400",
    "end": "368080"
  },
  {
    "text": "course the whole DHCP path before you get an IP number Who are you talking to you have no clue where you are How can",
    "start": "368080",
    "end": "373919"
  },
  {
    "text": "you trust that the IP that you get uh won't be routed through monitoring stations etc Um there's another ITF",
    "start": "373919",
    "end": "382720"
  },
  {
    "text": "working group working on using on securing the DHCP Um they're also going to use DNS SEC to secure the DHCP which",
    "start": "382720",
    "end": "390319"
  },
  {
    "text": "is I think very interesting We've got the client resolver problem and no matter how",
    "start": "390319",
    "end": "395440"
  },
  {
    "text": "secure uh um your resolver is and if your resolver is fully aware of all the",
    "start": "395440",
    "end": "400639"
  },
  {
    "text": "DNS security and cryptography if your resolver is half a planet away you still",
    "start": "400639",
    "end": "405919"
  },
  {
    "text": "have a problem of having that answer sent to you Um the answer to that we'll come to",
    "start": "405919",
    "end": "412160"
  },
  {
    "text": "later is basically you have to be your own resolver Then there's the the name",
    "start": "412160",
    "end": "418479"
  },
  {
    "text": "server to name server propagation of of information Uh various networking uh",
    "start": "418479",
    "end": "424880"
  },
  {
    "text": "there's quite some places where things can go wrong So we have to go step by step through the entire chain to get",
    "start": "424880",
    "end": "431039"
  },
  {
    "text": "there So what is DNS in in short it it's it's protected DNS with a digital",
    "start": "431039",
    "end": "436479"
  },
  {
    "text": "signature and then verifying that signature that it's the correct party and uh it's correctly",
    "start": "436479",
    "end": "444400"
  },
  {
    "text": "signed Um again we need to we need to secure the the the local area and the",
    "start": "444759",
    "end": "450400"
  },
  {
    "text": "DHCP stuff Um it's best to run the resolver on your own client",
    "start": "450400",
    "end": "457280"
  },
  {
    "text": "uh to secure communication between name servers themselves We got the zone transfers um and we got dynamic updates",
    "start": "457280",
    "end": "464240"
  },
  {
    "text": "which are becoming more and more common to deploy for various reasons Um those needs those need to be",
    "start": "464240",
    "end": "471680"
  },
  {
    "text": "protected as well Um and then of course we got the the integrity if if the",
    "start": "471680",
    "end": "477440"
  },
  {
    "text": "servers is is hacked if the cash is poisoned that also needs to be secured somehow by these digital signatures",
    "start": "477440",
    "end": "487199"
  },
  {
    "text": "So we saw the first attempt to do something about this was tig um which is basically mostly meant for two name",
    "start": "487199",
    "end": "493680"
  },
  {
    "text": "servers to exchange the the zone file the master and the slave name server Um",
    "start": "493680",
    "end": "499039"
  },
  {
    "text": "and it was just like well let's do some crypto stuff Let's just use a pre-shared key and um this will be secure it'll be",
    "start": "499039",
    "end": "506560"
  },
  {
    "text": "crypted Um it's it's not very much in use um for",
    "start": "506560",
    "end": "512320"
  },
  {
    "text": "various reasons Um first of all of course if you secure the data within your zone if your DNS if if your zone",
    "start": "512320",
    "end": "519360"
  },
  {
    "text": "file has been protected and every entry in it has been secured by a digital signature transferring that data can be",
    "start": "519360",
    "end": "526160"
  },
  {
    "text": "done in the clear without any checks because you would find out if somebody mess messed with the data So for",
    "start": "526160",
    "end": "532080"
  },
  {
    "text": "communication between master and slave name server well you could do it in the open as long as you're doing it for",
    "start": "532080",
    "end": "537680"
  },
  {
    "text": "secure zones only Usually people set up also IP sec",
    "start": "537680",
    "end": "543519"
  },
  {
    "text": "tunnels between their name servers or use SCP to copy the own files or use whatever secure database replication to",
    "start": "543519",
    "end": "550800"
  },
  {
    "text": "actually get the data across So um though there there are many people who just use the plain text zone transfers I",
    "start": "550800",
    "end": "558560"
  },
  {
    "text": "think the really bigger ISPs actually do protect this already without any DNS",
    "start": "558560",
    "end": "563760"
  },
  {
    "text": "sect uh going on The second one's more interesting is the 6 um that basically",
    "start": "563760",
    "end": "569279"
  },
  {
    "text": "uses a public key cryptography So um it's it's we can just",
    "start": "569279",
    "end": "575120"
  },
  {
    "text": "do more individual things I can I can update my single record in the reverse tree without having access to the entire",
    "start": "575120",
    "end": "581760"
  },
  {
    "text": "reverse tree or without having a pre-shot secret with lots of people um 6 is definitely going to come and and",
    "start": "581760",
    "end": "589360"
  },
  {
    "text": "and uh be deployed especially on the on the on the on the leaves on the end users for dynamic",
    "start": "589360",
    "end": "597120"
  },
  {
    "text": "updates So the this is the essence of of the DNS sec There are four new",
    "start": "598680",
    "end": "604880"
  },
  {
    "text": "uh record types that we put in the DNS and just distribute like regular records First you have the key record",
    "start": "604880",
    "end": "612000"
  },
  {
    "text": "That's actually the public key used The private key obviously does not go into a DNS We uh we keep it very securely in a",
    "start": "612000",
    "end": "619839"
  },
  {
    "text": "on our signing machine We've got the SI record which is the actual content of the signature uh created by the key",
    "start": "619839",
    "end": "627600"
  },
  {
    "text": "We've got the next record Um I'll come back to that later but it's a way to actually say that the data you were",
    "start": "627600",
    "end": "633680"
  },
  {
    "text": "looking for was not here And after long controversy uh on how to",
    "start": "633680",
    "end": "639839"
  },
  {
    "text": "uh build the chain of trust um ITF has finally decided to adopt the DS record",
    "start": "639839",
    "end": "646560"
  },
  {
    "text": "Um I'll also get back to that And there's a new flag in the resolver library that ships with bind as",
    "start": "646560",
    "end": "653760"
  },
  {
    "text": "well It's the authenticated data flag which basically says this data was cryptographically secure uh was a proper",
    "start": "653760",
    "end": "660920"
  },
  {
    "text": "signature Uh though of course the flag itself is not protected by anything else So people can just set the bit So it's",
    "start": "660920",
    "end": "667920"
  },
  {
    "text": "not used for for actually trust It's more used for debugging and seeing that uh you actually got things through",
    "start": "667920",
    "end": "674240"
  },
  {
    "text": "security resolver So the key record um looks like",
    "start": "674240",
    "end": "681360"
  },
  {
    "text": "this You got the main or the label the TTL in key and we've got some flags",
    "start": "681360",
    "end": "686720"
  },
  {
    "text": "protocols algorithm key material Um unfortunately this slide is uh slightly",
    "start": "686720",
    "end": "691839"
  },
  {
    "text": "out of date since December when I have decided to change some things again",
    "start": "691839",
    "end": "697640"
  },
  {
    "text": "Um but the basic syntax hasn't changed Um we first got um the flags which which",
    "start": "697640",
    "end": "704800"
  },
  {
    "text": "says authentication or confidentiality Um we've got the protocol which is actually the change The protocol um is",
    "start": "704800",
    "end": "711120"
  },
  {
    "text": "now only allowed to be DNS sack There were people at ITF who feared that having too many records in the apex of a",
    "start": "711120",
    "end": "718480"
  },
  {
    "text": "zone would actually load the DNS too much and you get too many queries with data that you do not want So they're",
    "start": "718480",
    "end": "724720"
  },
  {
    "text": "they're very afraid of these subqueries Um this is one DNS query for a key record But if you then have multiple",
    "start": "724720",
    "end": "731120"
  },
  {
    "text": "applications like IPSACE or DNS or or SSH or or other applications using this",
    "start": "731120",
    "end": "738240"
  },
  {
    "text": "um people were afraid that you would you would ask like 15 20 application key records before you find out what it was",
    "start": "738240",
    "end": "744800"
  },
  {
    "text": "So they decided on splitting the key record into various application key records with different typings and",
    "start": "744800",
    "end": "752440"
  },
  {
    "text": "uh to separate this So basically if you follow very strict IETF rules the key",
    "start": "752440",
    "end": "758959"
  },
  {
    "text": "record can only be used for DNSC itself It cannot be used for any other",
    "start": "758959",
    "end": "764959"
  },
  {
    "text": "application Then there's the various algorithms you can use Uh the most common right now is RSA SHA",
    "start": "765639",
    "end": "773839"
  },
  {
    "text": "one Then we get the signature record Um you can see an example here There are",
    "start": "775560",
    "end": "782399"
  },
  {
    "text": "two NS records and then there's the signature of that NS record Um first you can see the type covered So the",
    "start": "782399",
    "end": "788560"
  },
  {
    "text": "signature actually says this is a signature for the NS records Um the algorithms again the algorithms like on",
    "start": "788560",
    "end": "795519"
  },
  {
    "text": "the previous slide You can see the um amount of labels covered in the signature it says two because there are",
    "start": "795519",
    "end": "801920"
  },
  {
    "text": "two NS records Um to save some space um matching matching types are always",
    "start": "801920",
    "end": "808480"
  },
  {
    "text": "protected by one signature So they've got if you got 15 A records you have one signature for for",
    "start": "808480",
    "end": "815680"
  },
  {
    "text": "that name Or if you have 10 MX records you've got one signature for all the MX",
    "start": "815680",
    "end": "822800"
  },
  {
    "text": "records Some things to notice here is that um to prevent replay attacks it's",
    "start": "823000",
    "end": "828720"
  },
  {
    "text": "important that we we cannot just trust on the TTL anymore um the TTL in the packet says when when the packet has",
    "start": "828720",
    "end": "835120"
  },
  {
    "text": "expired and should not be used and should be no longer stored in caches and uh fetched from the from the original",
    "start": "835120",
    "end": "841279"
  },
  {
    "text": "source Again of course this allows for replay attacks If I just if I if I have a signed DNS packet and I store it for a",
    "start": "841279",
    "end": "848560"
  },
  {
    "text": "year and then uh I for whatever reason using whatever reason the original information changed and I can then use",
    "start": "848560",
    "end": "854880"
  },
  {
    "text": "it again for uh to point to a different location the signature is correct because it was made by the original uh",
    "start": "854880",
    "end": "861720"
  },
  {
    "text": "signer So that's why there's actually now a sik expiration and a sick inception date embedded in the in the",
    "start": "861720",
    "end": "869920"
  },
  {
    "text": "signature So that allows us to uh prevent these games from",
    "start": "869920",
    "end": "875680"
  },
  {
    "text": "happening The sign name the key material Um this is an example of how it looks like Um in in further slides I I often",
    "start": "876839",
    "end": "884079"
  },
  {
    "text": "abbreviate the crypto to make the slides more",
    "start": "884079",
    "end": "888639"
  },
  {
    "text": "readable So now the next record there's another controversy within the ITF actually Um what if a certain record",
    "start": "890040",
    "end": "897839"
  },
  {
    "text": "doesn't exist like we're asking for www.freezefund.org and let's say that",
    "start": "897839",
    "end": "903120"
  },
  {
    "text": "the record doesn't exist We need to securely say that that record doesn't exist But we're not signing on the spot",
    "start": "903120",
    "end": "910240"
  },
  {
    "text": "We we sign zones and then we publish the zone So we can't we can't give a signed answer for every weird question that we",
    "start": "910240",
    "end": "916800"
  },
  {
    "text": "get that we we don't expect So we need some standard way of saying what you asked is not here and then sign that",
    "start": "916800",
    "end": "923440"
  },
  {
    "text": "answer beforehand So the idea with the next record now is that um we actually point",
    "start": "923440",
    "end": "929440"
  },
  {
    "text": "to the alphabetical next label So if you're asking for",
    "start": "929440",
    "end": "935959"
  },
  {
    "text": "gamma.free.nl on a DNS sec aware name server",
    "start": "935959",
    "end": "941639"
  },
  {
    "text": "um sorry if you're asking for data.free1.nl L you will get this record back that I've displayed which says",
    "start": "941639",
    "end": "949120"
  },
  {
    "text": "alpha alpha p1nl is is is is one record the next record is actually",
    "start": "949120",
    "end": "955720"
  },
  {
    "text": "gamma.free1.nl and this record again is signed for the sik record with a signature Um so that means that you now",
    "start": "955720",
    "end": "963360"
  },
  {
    "text": "know securely that there's no bad or or any records between alpha and gamma in the name So no matter what what people",
    "start": "963360",
    "end": "970399"
  },
  {
    "text": "ask and come up with for host names to to ask your server you have the answer",
    "start": "970399",
    "end": "976120"
  },
  {
    "text": "already Uh so this is signed uh people know the that the answer is is is",
    "start": "976120",
    "end": "981839"
  },
  {
    "text": "there's nothing in between Um one problem with this is for",
    "start": "981839",
    "end": "987360"
  },
  {
    "text": "um uh for domain registries the big domain the top level domains because this means if",
    "start": "987360",
    "end": "994639"
  },
  {
    "text": "I'm just asking for a aaa.com I will get the record that says you know abc.com is the next domain Then",
    "start": "994639",
    "end": "1001920"
  },
  {
    "text": "if I just ask for ABCD or ABC I'll get the next record Basically I can walk the",
    "start": "1001920",
    "end": "1007519"
  },
  {
    "text": "entire DNS tree of of large top level domains and get the entire domain",
    "start": "1007519",
    "end": "1012959"
  },
  {
    "text": "listing which people don't like Even though the information is public somehow the collection of information is",
    "start": "1012959",
    "end": "1018959"
  },
  {
    "text": "proprietary and people don't like this to leak out to prevent spammers from getting lots of domain names",
    "start": "1018959",
    "end": "1027240"
  },
  {
    "text": "This is the the key limitation of the RFC that happened in December for people who are afraid there were too many key",
    "start": "1032160",
    "end": "1037400"
  },
  {
    "text": "records Um I'll be talking about openness encryption in the second half of this presentation where we'll see",
    "start": "1037400",
    "end": "1043360"
  },
  {
    "text": "that um this is really unfortunate for us because um the freeze from people were actually using the key record to",
    "start": "1043360",
    "end": "1049039"
  },
  {
    "text": "store ipsec host keys Um we now also we also did it in txt records We had a",
    "start": "1049039",
    "end": "1055039"
  },
  {
    "text": "choice We preferred key records but ITF decided that um it has to be a new record type So the free project is",
    "start": "1055039",
    "end": "1062720"
  },
  {
    "text": "falling back to TXT because new new records that that still need to be agreed by the ITF will just not be ready",
    "start": "1062720",
    "end": "1069760"
  },
  {
    "text": "to use and and massively deployed yet So it's it's it it's a very unfortunate",
    "start": "1069760",
    "end": "1078159"
  },
  {
    "text": "RFC So a small example I hope it's readable Um this is the example for um a",
    "start": "1078840",
    "end": "1085120"
  },
  {
    "text": "stripped down version of a standard zone I took P1.nl You can see there's a two NS records There's an A record and",
    "start": "1085120",
    "end": "1091919"
  },
  {
    "text": "there's an MX record and this the standard SOA record After signing it the zone looks",
    "start": "1091919",
    "end": "1100080"
  },
  {
    "text": "fairly unreadable especially if you don't if you have to see all the key material which I mostly cut out You got",
    "start": "1100080",
    "end": "1106160"
  },
  {
    "text": "a SI record over the SOA two NS records a SI record over the NS records an MX record a S over the MX",
    "start": "1106160",
    "end": "1114080"
  },
  {
    "text": "record We got two key records not one Uh I'll come back to that later And there's",
    "start": "1114080",
    "end": "1120000"
  },
  {
    "text": "actually two signatures made over the two key records Basically this zone has",
    "start": "1120000",
    "end": "1125120"
  },
  {
    "text": "two key records and they're both signing things Um and then for the NE we see the",
    "start": "1125120",
    "end": "1132240"
  },
  {
    "text": "next record pointing to www.pris.nl L which is signed and then we get to the",
    "start": "1132240",
    "end": "1137600"
  },
  {
    "text": "next record and the whole thing happens again and we see at the end the next record of the final record actually",
    "start": "1137600",
    "end": "1143120"
  },
  {
    "text": "points back to the apex of the zone So it loops",
    "start": "1143120",
    "end": "1147679"
  },
  {
    "text": "around So so this is the essence of of how how one zone is secured Anybody have",
    "start": "1150360",
    "end": "1155919"
  },
  {
    "text": "have a question on is this somewhat clear okay So we go on now now one",
    "start": "1155919",
    "end": "1164960"
  },
  {
    "text": "organization has their zone secure but now you have to securely end up at that organization So we have to build a chain",
    "start": "1164960",
    "end": "1170960"
  },
  {
    "text": "of trust from the root all the way down to this to this secure zone So we have a few problems The",
    "start": "1170960",
    "end": "1178320"
  },
  {
    "text": "parent of a zone does not have any or should not have any key record So the parent cannot sign anything saying well",
    "start": "1178320",
    "end": "1184559"
  },
  {
    "text": "you this this child is is the child zone is over there and you can trust me on this",
    "start": "1184559",
    "end": "1191840"
  },
  {
    "text": "Um so so the parent has no key to actually sign it Um the parent also from",
    "start": "1192600",
    "end": "1198480"
  },
  {
    "text": "from organizational point of view should not say anything about the child So just like in regular DNS it's passed along as",
    "start": "1198480",
    "end": "1204880"
  },
  {
    "text": "a hint and sometimes with some added glue it's basically saying well we believe that the child is there",
    "start": "1204880",
    "end": "1210880"
  },
  {
    "text": "but you better ask the child again yourself if you if you found something there Um that's obviously not good",
    "start": "1210880",
    "end": "1216080"
  },
  {
    "text": "enough for DNS sec Um so the parent needs to still give this hint and say",
    "start": "1216080",
    "end": "1221200"
  },
  {
    "text": "well the child is probably at that that location but then also needs to somehow securely say well if you find the child",
    "start": "1221200",
    "end": "1228080"
  },
  {
    "text": "then you know this is it this is the real child So for that there's the DS",
    "start": "1228080",
    "end": "1234720"
  },
  {
    "text": "record The DS record is basically a hash of the key of the child zone put into",
    "start": "1236039",
    "end": "1242159"
  },
  {
    "text": "the parent zone So what this means is that if you",
    "start": "1242159",
    "end": "1247200"
  },
  {
    "text": "have a DNS secure zone um you have to somehow communicate the public key of",
    "start": "1247200",
    "end": "1252559"
  },
  {
    "text": "that zone to your parent who will then run a hash over it put it in its zone",
    "start": "1252559",
    "end": "1258480"
  },
  {
    "text": "file and then sign it We can see it here there um this is the parent for free.nel",
    "start": "1258480",
    "end": "1266000"
  },
  {
    "text": "We can see that there's ns.xd antennel and ns1.xdel actually into now two name servers",
    "start": "1266000",
    "end": "1271760"
  },
  {
    "text": "um which are not signed because the parent does not sign it It's just a hint",
    "start": "1271760",
    "end": "1277440"
  },
  {
    "text": "where where uh where the name servers are It's not anyway authorative uh or cryptographically secure and then",
    "start": "1277440",
    "end": "1284720"
  },
  {
    "text": "we just see the DS record for the free one and zone which is signed by the parent key",
    "start": "1284720",
    "end": "1291520"
  },
  {
    "text": "So this is signed by the NL key not by the the free one NL key",
    "start": "1291520",
    "end": "1297919"
  },
  {
    "text": "Then with the DS uh record in cache um they the resolver goes to the name",
    "start": "1297919",
    "end": "1304159"
  },
  {
    "text": "servers on the exod netl domain asks again for what what's the key record for",
    "start": "1304159",
    "end": "1309760"
  },
  {
    "text": "freeze one and l gets the key record calculates the hash and see if they match and if they match then obviously",
    "start": "1309760",
    "end": "1315600"
  },
  {
    "text": "it's been sent to the right place if it doesn't match then there's something wrong and you'll give a surf fail",
    "start": "1315600",
    "end": "1323679"
  },
  {
    "text": "error and of course this works up the chain as well so for thel um they could",
    "start": "1323720",
    "end": "1329200"
  },
  {
    "text": "they could give their key up and the registry could actually the root could actually sign for the ll key Um so",
    "start": "1329200",
    "end": "1337280"
  },
  {
    "text": "basically we would only need one super secure key and then everybody could live off in the entire hierarchy um and the",
    "start": "1337280",
    "end": "1344000"
  },
  {
    "text": "world would be a happy place Um unfortunately um that's not the real real world",
    "start": "1344000",
    "end": "1351159"
  },
  {
    "text": "Um first of all not everybody is going to switch to DNSC from from today to tomorrow So there will be places where",
    "start": "1351159",
    "end": "1357600"
  },
  {
    "text": "there's DNS sec islands of secure zones and insecure zones So the way to to work",
    "start": "1357600",
    "end": "1363840"
  },
  {
    "text": "around this and the way to also prevent um various institutions having to trust",
    "start": "1363840",
    "end": "1368880"
  },
  {
    "text": "the root key uh and just build the trust from their own part down is have secure",
    "start": "1368880",
    "end": "1373919"
  },
  {
    "text": "entry points Um a secure entry point is basically your own key for for a domain",
    "start": "1373919",
    "end": "1379760"
  },
  {
    "text": "which you implicitly trust You put it into your configuration You say I trust this key",
    "start": "1379760",
    "end": "1385280"
  },
  {
    "text": "For instance if you want to to actually use the the DNS sack extensions in NL",
    "start": "1385280",
    "end": "1390559"
  },
  {
    "text": "you have to put the NL key uh in into bind The example here is bind because that's the only DNS secare name server",
    "start": "1390559",
    "end": "1396960"
  },
  {
    "text": "at this point Um so you put this key in in your in your name.com and now you're trusting",
    "start": "1396960",
    "end": "1404240"
  },
  {
    "text": "everything that has been signed from NL downwards for uh by this",
    "start": "1404240",
    "end": "1409400"
  },
  {
    "text": "key Of course you can also do this for your own organization you make one key for your organization and then you can",
    "start": "1409400",
    "end": "1415520"
  },
  {
    "text": "actually delegate subdomains to your your other other departments which can then do their own",
    "start": "1415520",
    "end": "1423120"
  },
  {
    "text": "signing So one of the problems of keys in DNS and and and is of course that at",
    "start": "1425960",
    "end": "1432000"
  },
  {
    "text": "some point things will go wrong Um small keys can be attacked by brute force",
    "start": "1432000",
    "end": "1437679"
  },
  {
    "text": "Large keys are strong but we don't want to use that much CPU Uh keys can get stolen There can be flaws in the keys",
    "start": "1437679",
    "end": "1444880"
  },
  {
    "text": "People can find out new hacks Uh the signing machine can be stolen Uh lots of things can happen",
    "start": "1444880",
    "end": "1452480"
  },
  {
    "text": "Basically at some point you will need to recycle your keys Even if nothing happens your key you should at some",
    "start": "1452480",
    "end": "1458480"
  },
  {
    "text": "point stop using the key and get a new key So you need to have some out of",
    "start": "1458480",
    "end": "1464240"
  },
  {
    "text": "bound communication between parent and child to say well you know my key changed you need to update your DS",
    "start": "1464240",
    "end": "1471320"
  },
  {
    "text": "record Uh there are various ways to do this There's actually one uh automated way being proposed by the DNSX working",
    "start": "1471320",
    "end": "1479679"
  },
  {
    "text": "group as well where this is a somewhat automated process which might be used for organizations themselves who want to",
    "start": "1479679",
    "end": "1486320"
  },
  {
    "text": "just believe the trust inside But for instance domain registries will definitely not use this because they're",
    "start": "1486320",
    "end": "1493440"
  },
  {
    "text": "just too scared something goes wrong They want their liability covered",
    "start": "1493440",
    "end": "1499760"
  },
  {
    "text": "So to fix this problem of of of limiting the interaction between parent and and and and child is to use two keys One",
    "start": "1500400",
    "end": "1508080"
  },
  {
    "text": "very strong key which is the key signing key and one key that you recycle more",
    "start": "1508080",
    "end": "1514720"
  },
  {
    "text": "often which is the zone signing key So the the current the best current practices at this point is to use a 768",
    "start": "1514720",
    "end": "1522480"
  },
  {
    "text": "bit zone signing key and a 2048 bit key signing key and sign and use the DS uh uh record",
    "start": "1522480",
    "end": "1531919"
  },
  {
    "text": "on the key signing key So for instance you keep the key signing key for a year You only need to talk to your parent to",
    "start": "1531919",
    "end": "1537200"
  },
  {
    "text": "create a new DS record once a year and you can still cycle your zone key 12",
    "start": "1537200",
    "end": "1542240"
  },
  {
    "text": "times a year if you want to Um so how this works is the key signing key",
    "start": "1542240",
    "end": "1547679"
  },
  {
    "text": "actually signs the zone signing key and because the zone signing key is then trusted by the DS um it is trusted to",
    "start": "1547679",
    "end": "1555600"
  },
  {
    "text": "sign the data in that",
    "start": "1555600",
    "end": "1558640"
  },
  {
    "text": "zone So this is an example of of of the phases you go through when you actually have to recycle recycle through these uh",
    "start": "1561080",
    "end": "1568799"
  },
  {
    "text": "uh uh key rollovers Um in a normal situation you have the key signing key",
    "start": "1568799",
    "end": "1574880"
  },
  {
    "text": "which has been signed by the of which the parent has a DS record uh hash",
    "start": "1574880",
    "end": "1580400"
  },
  {
    "text": "that's signed the child has the the key signing key and the zone signing key which I've called zone signing key one",
    "start": "1580400",
    "end": "1586360"
  },
  {
    "text": "here and then the key signing key actually signs the key signing key itself and the zone signing key and the",
    "start": "1586360",
    "end": "1592880"
  },
  {
    "text": "zone signing key signs the zone and when you prepare to replace the zone signing key one sets K1 you first",
    "start": "1592880",
    "end": "1600640"
  },
  {
    "text": "have to add the key into your DNS and then wait a while and and sign sign it",
    "start": "1600640",
    "end": "1606240"
  },
  {
    "text": "with the key sign key and wait a while for things to propagate Once they've propagated through your secondary name",
    "start": "1606240",
    "end": "1611679"
  },
  {
    "text": "service once the TTL of the old stuff has expired um you can then tell your parent okay um",
    "start": "1611679",
    "end": "1619440"
  },
  {
    "text": "we we we've switched keys I'm sorry not not you can just sorry you can just",
    "start": "1619440",
    "end": "1624480"
  },
  {
    "text": "switch the keys uh because all all the data is out there You can just remove that key later on So this is completely",
    "start": "1624480",
    "end": "1631200"
  },
  {
    "text": "in your control You don't need to to to contact the parent because the the the key signing key doesn't",
    "start": "1631200",
    "end": "1637159"
  },
  {
    "text": "change The key sign key rollover is somewhat more complex because um you need to tell the parent to change the DS",
    "start": "1637159",
    "end": "1643919"
  },
  {
    "text": "record Um looks a bit complex You have to you have to you have to take care of the the",
    "start": "1643919",
    "end": "1650240"
  },
  {
    "text": "caching times the TTLS the signature times Um but there are tools now that",
    "start": "1650240",
    "end": "1655919"
  },
  {
    "text": "actually do this for you So it's it's not that difficult to actually",
    "start": "1655919",
    "end": "1662720"
  },
  {
    "text": "do The problem of course is if if your keys get stolen anyway or if there's a problem Um one of the things people have",
    "start": "1667240",
    "end": "1673760"
  },
  {
    "text": "been talking about is to put a spare key in your zone and which is signed anyway which is securely locked in a vault and",
    "start": "1673760",
    "end": "1680320"
  },
  {
    "text": "as soon as your key signing key gets compromised you just switch your D you",
    "start": "1680320",
    "end": "1686240"
  },
  {
    "text": "immediately talk to your D to your parent and change the DS to the second one uh out of bound by whatever a phone",
    "start": "1686240",
    "end": "1692640"
  },
  {
    "text": "call um and then at least you know you've contained the disaster quite a bit If you have to wait for for",
    "start": "1692640",
    "end": "1699279"
  },
  {
    "text": "signatures to expire and you have to wait for a day or something and you're vulnerable for the entire day So having",
    "start": "1699279",
    "end": "1705200"
  },
  {
    "text": "a spare key signing key in your zone is actually um a good idea Um nobody's done this so far but",
    "start": "1705200",
    "end": "1713360"
  },
  {
    "text": "uh but it's definitely a good idea Um once you've been compromised you also",
    "start": "1713399",
    "end": "1718720"
  },
  {
    "text": "need to make sure that you contact everybody who has configured a trusted key because they will keep trusting that",
    "start": "1718720",
    "end": "1723760"
  },
  {
    "text": "key no matter what's in the DNS If you've configured bind to trusted key it will trust the key",
    "start": "1723760",
    "end": "1730320"
  },
  {
    "text": "you need to contact your children because you know something is wrong with the parent the delegation can can just",
    "start": "1730320",
    "end": "1736320"
  },
  {
    "text": "go elsewhere without ever getting to the",
    "start": "1736320",
    "end": "1740158"
  },
  {
    "text": "children So how to actually do this yourself um unfortunately there's still no no buying release that actually does",
    "start": "1741799",
    "end": "1750080"
  },
  {
    "text": "all of this You need to use the snapshot The latest snapshot is um pretty dated already It's from December You configure",
    "start": "1750080",
    "end": "1757279"
  },
  {
    "text": "it you you used to switch with OpenSSL Um for Linux at least the",
    "start": "1757279",
    "end": "1762720"
  },
  {
    "text": "threats are completely broken So you have to disable the threats which might be a problem if you're starting your",
    "start": "1762720",
    "end": "1768320"
  },
  {
    "text": "name server on a busy machine Uh once it's reloading all the zones it won't be able to do any",
    "start": "1768320",
    "end": "1774279"
  },
  {
    "text": "queries Um some other tools do not use uh hosts",
    "start": "1774279",
    "end": "1779919"
  },
  {
    "text": "lookup Um they're really old tools You shouldn't use them If you really like the layout of of the host command or MS",
    "start": "1779919",
    "end": "1786880"
  },
  {
    "text": "command you can use dig plus multi-line For DNS sec queries you can use the d",
    "start": "1786880",
    "end": "1792080"
  },
  {
    "text": "plus dns So one thing to do note is that in",
    "start": "1792080",
    "end": "1798960"
  },
  {
    "text": "the old in the old bind 8 series um if if you would actually let the signatures",
    "start": "1798960",
    "end": "1805000"
  },
  {
    "text": "expire it would mean that bind eight would know like hey this this record is invalid even though it's properly signed",
    "start": "1805000",
    "end": "1810960"
  },
  {
    "text": "it it's the time's gone by This record is no longer in use Let's just remove it from the zone",
    "start": "1810960",
    "end": "1816679"
  },
  {
    "text": "file So the problem here is that if you actually just experiment with this stuff and you put it in and you run it on a",
    "start": "1816679",
    "end": "1821919"
  },
  {
    "text": "bind 8 name server and you after a month you forget about this your zone will be gone So either use bind 9 or just make",
    "start": "1821919",
    "end": "1830720"
  },
  {
    "text": "sure that that your data hasn't expired and that you actually continue in your experiment",
    "start": "1830720",
    "end": "1836880"
  },
  {
    "text": "So I I'll quickly go through this Uh um these are just the commands to use it",
    "start": "1836880",
    "end": "1842640"
  },
  {
    "text": "manually DNS key gen with the proper parameters Uh you get two files the K",
    "start": "1842640",
    "end": "1848480"
  },
  {
    "text": "freeze one and L file then the key ID uh and the algorithm Um you get a private",
    "start": "1848480",
    "end": "1854480"
  },
  {
    "text": "file and a key file The key file you add into your DNS The private file you keep very private",
    "start": "1854480",
    "end": "1860840"
  },
  {
    "text": "So and then you use the DNSX sign zone to actually sign the whole zone Um of",
    "start": "1860840",
    "end": "1867919"
  },
  {
    "text": "course before signing you have to increase the serial number because you cannot do that after you sign a zone And",
    "start": "1867919",
    "end": "1872960"
  },
  {
    "text": "then you upload it to your your master name server and and reload the proper zone file and then you can test it with",
    "start": "1872960",
    "end": "1879520"
  },
  {
    "text": "the uh the big line that's displayed above uh below Um it's it's it's very",
    "start": "1879520",
    "end": "1885120"
  },
  {
    "text": "good practice to not have the the keys to sign the private keys on the name serve itself If the name server gets",
    "start": "1885120",
    "end": "1890720"
  },
  {
    "text": "compromised which you all know Bind has a bad reputation for um then they have your secret keys They can publish",
    "start": "1890720",
    "end": "1896480"
  },
  {
    "text": "whatever you want Use a separate signing machine and upload only design data so",
    "start": "1896480",
    "end": "1901679"
  },
  {
    "text": "that even if your name server is completely hacked to pieces the only thing it can do is either send out data",
    "start": "1901679",
    "end": "1907760"
  },
  {
    "text": "that's not been verified or send data that you actually wanted it to send So they can still do your name server from",
    "start": "1907760",
    "end": "1914399"
  },
  {
    "text": "the planet but they cannot have fake records in there",
    "start": "1914399",
    "end": "1920039"
  },
  {
    "text": "Uh this is just an example on how to uh how how the NL experiment works You you",
    "start": "1921279",
    "end": "1928240"
  },
  {
    "text": "select the you tell it what domain you want to secure Um you select the key that you want to be used for the DS flag",
    "start": "1928240",
    "end": "1935120"
  },
  {
    "text": "and you um you get a you get a record and if you want to do a key roll over with the",
    "start": "1935120",
    "end": "1940960"
  },
  {
    "text": "parent they give you a random record which you can see displayed in me in the the green line you have to sign it with",
    "start": "1940960",
    "end": "1946640"
  },
  {
    "text": "your key uh and then they know that you're going that you have the old private key and you actually are",
    "start": "1946640",
    "end": "1951760"
  },
  {
    "text": "qualified to uh to authorize the key roll over This is what the big output looks",
    "start": "1951760",
    "end": "1959039"
  },
  {
    "text": "like Um most important thing there is that you can see that there's an AD flag set The AD flag means that it was",
    "start": "1959039",
    "end": "1965200"
  },
  {
    "text": "cryptographically secure Um the two name servers that you see are the name servers that you can use to do secure",
    "start": "1965200",
    "end": "1971440"
  },
  {
    "text": "resolving testing for yourself Very sign is still using some old stuff",
    "start": "1971440",
    "end": "1978240"
  },
  {
    "text": "I'll I'll I'll skip it Um they they need to update their stuff to use the DS record They're using some older stuff Uh",
    "start": "1978240",
    "end": "1984960"
  },
  {
    "text": "I'll just skip through this quickly Um if you want to do somewhat more massive deployment like not sign every record",
    "start": "1984960",
    "end": "1991200"
  },
  {
    "text": "yourself there are pearl scripts written by Olaf Goldman from RIE Um you can see some of the commands below You can just",
    "start": "1991200",
    "end": "1997919"
  },
  {
    "text": "type in like main keyb roll over freeze one and zone signing Yes and then it would just roll over in the first phase",
    "start": "1997919",
    "end": "2004559"
  },
  {
    "text": "You wait a day and then you do this again and then do the roll over with the second phase It's all very much",
    "start": "2004559",
    "end": "2009600"
  },
  {
    "text": "automated Um we use this to uh to to maintain over 150 domains uh domains in",
    "start": "2009600",
    "end": "2017440"
  },
  {
    "text": "this case Um the tools are there to actually make it work So um go experiment with them Go use",
    "start": "2017440",
    "end": "2024720"
  },
  {
    "text": "it Um I'll just briefly skip through this Um",
    "start": "2025159",
    "end": "2031279"
  },
  {
    "text": "you need to make sure that your signing machine is is very secure and it's not your name server Um so now why DNSC why",
    "start": "2031279",
    "end": "2039440"
  },
  {
    "text": "am I actually using and pushing DNSAC it's because I'm actually pushing something called IPSAC opportunistic",
    "start": "2039440",
    "end": "2045960"
  },
  {
    "text": "encryption Um that's one of the applications that's actually using it Uh some other",
    "start": "2045960",
    "end": "2051358"
  },
  {
    "text": "application open SSH there's an old patch out there that actually uses the uh uh can work with the node host file",
    "start": "2051359",
    "end": "2057118"
  },
  {
    "text": "and if the key is in a DNS it it just knows the key and doesn't prompt you for do you really want to connect to this",
    "start": "2057119",
    "end": "2062599"
  },
  {
    "text": "host Um the ICH client has some some secure dynamic stuff in there There's",
    "start": "2062599",
    "end": "2068079"
  },
  {
    "text": "some next uh work software the the abuse I talked about earlier Um references you",
    "start": "2068079",
    "end": "2074079"
  },
  {
    "text": "can just look up uh in the in the book So let's go to operance",
    "start": "2074079",
    "end": "2080358"
  },
  {
    "text": "encryption Basically IPSAC is the tool or the the protocol to use to to secure",
    "start": "2080359",
    "end": "2086560"
  },
  {
    "text": "your um IP to IP communication However the classic IPSAC uh uh deployment",
    "start": "2086560",
    "end": "2093679"
  },
  {
    "text": "requires that you talk to the other person You agree on on the parameters",
    "start": "2093679",
    "end": "2098880"
  },
  {
    "text": "used to either agree on a a pre-shared secret um or you have to know which key",
    "start": "2098880",
    "end": "2105200"
  },
  {
    "text": "the other side which public key the other side uses before you can actually set up a connection That's fine if you",
    "start": "2105200",
    "end": "2111440"
  },
  {
    "text": "want to do VPNs You can configure this once and forget about it Um however it's",
    "start": "2111440",
    "end": "2116640"
  },
  {
    "text": "not going to completely encrypt the entire internet which is actually the goal of openness encryption So I'll talk",
    "start": "2116640",
    "end": "2122720"
  },
  {
    "text": "about that quickly how you can use OE to protect the net how you can install and configure it and we'll get to the the",
    "start": "2122720",
    "end": "2129440"
  },
  {
    "text": "wave sec part where you encrypt the wireless So IP second in a nutshell Um",
    "start": "2129440",
    "end": "2136480"
  },
  {
    "text": "the first part make sure that there's only a one-on-one communication with a defy helman key exchange Um even though",
    "start": "2136480",
    "end": "2142400"
  },
  {
    "text": "you're not sure who you're talking to you at least know you're talking to one person and there's no eavesdropper in the middle And part two then basically",
    "start": "2142400",
    "end": "2149760"
  },
  {
    "text": "you exchange identities and say well I'm this person Uh oh you're that person Okay Well I know who you are Let's now",
    "start": "2149760",
    "end": "2155440"
  },
  {
    "text": "set up crypto So open encryption um wants to do",
    "start": "2155440",
    "end": "2162079"
  },
  {
    "text": "this without prior arrangement And of course as you might have guessed we are going to put the keys into the DNS",
    "start": "2162079",
    "end": "2167200"
  },
  {
    "text": "because of course we have secured DNS with DNS",
    "start": "2167200",
    "end": "2171440"
  },
  {
    "text": "sec So this is a TXT record that um is actually the record of my uh machine at",
    "start": "2172599",
    "end": "2179240"
  },
  {
    "text": "home Um the TXT record for 171571 10193 in other ARPA says that um you know if",
    "start": "2179240",
    "end": "2186720"
  },
  {
    "text": "you want to talk to me securely using IPSAC then talk to this IP number which is itself and use this public key Now",
    "start": "2186720",
    "end": "2193520"
  },
  {
    "text": "since the XDNet and Lzone has been signed with DNSC nobody can fake the key",
    "start": "2193520",
    "end": "2199480"
  },
  {
    "text": "uh for the IP sec tunnel So now anybody can just query this record get my key",
    "start": "2199480",
    "end": "2205280"
  },
  {
    "text": "and then set a connection up to me",
    "start": "2205280",
    "end": "2209640"
  },
  {
    "text": "Um uh because the previous RFC uh 3445 problems where the ITF decided that key",
    "start": "2211040",
    "end": "2217280"
  },
  {
    "text": "should only be used by DNS sec and not IPAC we had to move stuff into TXT records But you'll see that most of it",
    "start": "2217280",
    "end": "2222640"
  },
  {
    "text": "also is supported with the old key records",
    "start": "2222640",
    "end": "2227320"
  },
  {
    "text": "Um somewhere in in this IPAC negotiation um the parties send each other an ID and",
    "start": "2227880",
    "end": "2234400"
  },
  {
    "text": "this is where we we hook into our with our opposition encryption say well if the ID starts at an ad symbol we just",
    "start": "2234400",
    "end": "2240880"
  },
  {
    "text": "assume that everything after the ad symbol is a fully qualified domain name and we just query the key from the DNS",
    "start": "2240880",
    "end": "2247359"
  },
  {
    "text": "So for instance if the follow if the ID is at bio XDNL then you actually do not",
    "start": "2247359",
    "end": "2253200"
  },
  {
    "text": "use the IP address for information on how to set up a tunnel but you actually query for the record for TXT",
    "start": "2253200",
    "end": "2260800"
  },
  {
    "text": "record So um this is this is basically how two machines who've never talked to each other before can use DNS to to talk",
    "start": "2265560",
    "end": "2273119"
  },
  {
    "text": "to each other Um of course uh at least at least one site needs to",
    "start": "2273119",
    "end": "2280400"
  },
  {
    "text": "have this TXT record in the reverse If if if both sides have it then it's not good enough Sorry If if if none of it",
    "start": "2280400",
    "end": "2286960"
  },
  {
    "text": "have it it's not good enough One of them has to have it in the reverse Uh since not all people control their own reverse",
    "start": "2286960",
    "end": "2292320"
  },
  {
    "text": "yet Um this is not always an option Um but most of the servers actually do",
    "start": "2292320",
    "end": "2297599"
  },
  {
    "text": "control their their reverse So the servers usually have this record and the client can actually get away with",
    "start": "2297599",
    "end": "2302880"
  },
  {
    "text": "telling its ID in the in the Ike exchange for the IPSAC tunnel which is",
    "start": "2302880",
    "end": "2308160"
  },
  {
    "text": "also secured um by the IPSec protocol So they can actually then tell them who",
    "start": "2308160",
    "end": "2313599"
  },
  {
    "text": "they are So",
    "start": "2313599",
    "end": "2320119"
  },
  {
    "text": "the the downside of OE is that it takes a few DNS queries to actually set up",
    "start": "2320119",
    "end": "2325760"
  },
  {
    "text": "your connection Um it can take time It can be annoying Uh people want their",
    "start": "2325760",
    "end": "2331839"
  },
  {
    "text": "website to appear instantly So u for busy web servers there's a way to do",
    "start": "2331839",
    "end": "2336960"
  },
  {
    "text": "this passively like you don't try to set up a connection for every in every package you get Like if it's a new IP",
    "start": "2336960",
    "end": "2342880"
  },
  {
    "text": "you don't immediately go try and set up an opportunistic uh IP sec tunnel You just wait until the other side initiates",
    "start": "2342880",
    "end": "2349440"
  },
  {
    "text": "to you This um this is running on our web servers fine Um there are not too",
    "start": "2349440",
    "end": "2355040"
  },
  {
    "text": "many people yet using it So um uh there's no performance issue whatsoever And people who don't support openness",
    "start": "2355040",
    "end": "2361520"
  },
  {
    "text": "encryption don't see any uh any latency That's the passive OE part",
    "start": "2361520",
    "end": "2371240"
  },
  {
    "text": "So after we basically when we set out to do host to host encryption without prior",
    "start": "2375160",
    "end": "2380560"
  },
  {
    "text": "arrangement um we actually also ran into the problem of of of the the wireless being very insecure So at some point we",
    "start": "2380560",
    "end": "2387200"
  },
  {
    "text": "came up like well how don't we do do OE in in a somewhat different way and make",
    "start": "2387200",
    "end": "2392720"
  },
  {
    "text": "sure that we can actually uh just talk to a secure server and just encrypt all the local wireless traffic So that's",
    "start": "2392720",
    "end": "2399520"
  },
  {
    "text": "what we call waves Um how it works is um any OE capable machine when it's sending",
    "start": "2399520",
    "end": "2407200"
  },
  {
    "text": "out a DHCP request actually also sends out its public key and says no I have",
    "start": "2407200",
    "end": "2412480"
  },
  {
    "text": "this public key I would really like to do I and I would really like to build an IPAC",
    "start": "2412480",
    "end": "2417800"
  },
  {
    "text": "tunnel Then if there's a wave server um it will actually respond um with a DCP",
    "start": "2417800",
    "end": "2424720"
  },
  {
    "text": "answer that says oh okay well if you use this IP number and this key then you know you can set up your",
    "start": "2424720",
    "end": "2431720"
  },
  {
    "text": "tunnel Um so that's what that's that's what we have here in the network Um we're still",
    "start": "2431720",
    "end": "2438079"
  },
  {
    "text": "setting it up Um it should work in a few hours if you want to try it Um it works nicely uh next to the the standard DHCP",
    "start": "2438079",
    "end": "2445760"
  },
  {
    "text": "server because um uh if you do not send your own key in the initial request are",
    "start": "2445760",
    "end": "2451440"
  },
  {
    "text": "our our DHCP server will not answer and the regular blackout DHCP server will actually just give you an IP address Um",
    "start": "2451440",
    "end": "2459200"
  },
  {
    "text": "there are some issues with it There's one man attack possible where somebody else can say oh I'm the wave tech server",
    "start": "2459200",
    "end": "2464720"
  },
  {
    "text": "you can encrypt to me Um which is a problem with in in DCP that DCP is not",
    "start": "2464720",
    "end": "2470400"
  },
  {
    "text": "secure Uh people showed this last year here Um but they're working on securing DHCP",
    "start": "2470400",
    "end": "2478160"
  },
  {
    "text": "with DNS sec keys Does does everybody get the OE",
    "start": "2478160",
    "end": "2485280"
  },
  {
    "text": "concept the the the concept of having two hosts who've never talked before use",
    "start": "2485280",
    "end": "2490720"
  },
  {
    "text": "the DNS get keys get a a connection",
    "start": "2490720",
    "end": "2496119"
  },
  {
    "text": "running Okay the typical setup at home where people have ADSL uh uh their own",
    "start": "2496119",
    "end": "2502240"
  },
  {
    "text": "subnet with wireless Um you can you can use waves to secure your home Um you can",
    "start": "2502240",
    "end": "2507839"
  },
  {
    "text": "also use OE on your router box to actually encrypt everything over the",
    "start": "2507839",
    "end": "2512880"
  },
  {
    "text": "network uh uh on the internet Um so your typical AD cell setup with one IP no",
    "start": "2512880",
    "end": "2518560"
  },
  {
    "text": "control of the reverse you run that Um if you run it on the internal interface most people run it on the external",
    "start": "2518560",
    "end": "2524720"
  },
  {
    "text": "interface because the thing is easier If you run it on the internal interface then um and you you make sure that",
    "start": "2524720",
    "end": "2530960"
  },
  {
    "text": "you've rewritten your packets uh with your public IP address before using",
    "start": "2530960",
    "end": "2536000"
  },
  {
    "text": "IPSAC you can actually protect them with IPSAC because once you've used IPSec you cannot change the address anymore",
    "start": "2536000",
    "end": "2542560"
  },
  {
    "text": "because that invalidate the packet that's the whole point IPSAC is meant so that you cannot tamper with the packet",
    "start": "2542560",
    "end": "2548400"
  },
  {
    "text": "anymore Most people also on on ADSL at home or cable do not control their reverse So",
    "start": "2548400",
    "end": "2555119"
  },
  {
    "text": "they would use the initiate only optimis encryption mode which means that in the",
    "start": "2555119",
    "end": "2560400"
  },
  {
    "text": "uh once they look up on txt record and know that the other end can do OE they",
    "start": "2560400",
    "end": "2565599"
  },
  {
    "text": "will actually um send their own uh their own ID in the IP sec negotiation and the",
    "start": "2565599",
    "end": "2572000"
  },
  {
    "text": "other side can then pull it from DNS Uh one odd thing here is that uh the",
    "start": "2572000",
    "end": "2578480"
  },
  {
    "text": "first inbound packet might actually be sent in the clear if the other side initiates first So if some remote",
    "start": "2578480",
    "end": "2584560"
  },
  {
    "text": "servers talking to your ADS cell router at home the first packet will be in the clear then the whole encryption cycle",
    "start": "2584560",
    "end": "2590960"
  },
  {
    "text": "will be started IPS on in the Linux world has",
    "start": "2590960",
    "end": "2598000"
  },
  {
    "text": "been been been um there's been quite some things going on in the last 2 3 months Um basically um the freeze round",
    "start": "2598000",
    "end": "2605839"
  },
  {
    "text": "project which was the IP sex tech for Linux had a policy to say that American citizens could not uh submit any code",
    "start": "2605839",
    "end": "2613839"
  },
  {
    "text": "because there would be uh the US government would then have a say about whether or not they could use",
    "start": "2613839",
    "end": "2620160"
  },
  {
    "text": "that that code in the future Um so Red Hat for example never included um free",
    "start": "2620160",
    "end": "2626720"
  },
  {
    "text": "one for that reason and um a while ago they started with their own uh their own implementation of uh IPSAC Um we managed",
    "start": "2626720",
    "end": "2635119"
  },
  {
    "text": "to talk to them to at least make sure that they put the operation encryption hooks in there Um and it's all beginning",
    "start": "2635119",
    "end": "2640960"
  },
  {
    "text": "to look rather rather nice It's it's still fairly buggy but um I think in in",
    "start": "2640960",
    "end": "2647119"
  },
  {
    "text": "1 to two months we definitely have like uh all of this uh in the standard kernel",
    "start": "2647119",
    "end": "2653520"
  },
  {
    "text": "uh ready to be really massively deployed because right now even though free fun ships with most Linux distributions um",
    "start": "2653520",
    "end": "2660640"
  },
  {
    "text": "it's still such a majority of people using Redpad that not too many people are using it",
    "start": "2660640",
    "end": "2667480"
  },
  {
    "text": "the requirements for for if you want to do OE um so so far so you can either use",
    "start": "2670560",
    "end": "2676480"
  },
  {
    "text": "the kernel code from the free project or the kernel code from the 25 or now 26 kernel um you need to have some sort of",
    "start": "2676480",
    "end": "2683920"
  },
  {
    "text": "DNS support in your forward to put your keys for initiate only or in the reverse if you want to actually put on the",
    "start": "2683920",
    "end": "2689560"
  },
  {
    "text": "server and you shouldn't fire some of the ports and protocols that you",
    "start": "2689560",
    "end": "2695800"
  },
  {
    "text": "need so how does optic actually work on on on the Linux level here Um basically",
    "start": "2695800",
    "end": "2702640"
  },
  {
    "text": "freeze run predates net filter It's pretty old It's a couple years old Um so",
    "start": "2702640",
    "end": "2708160"
  },
  {
    "text": "uh at that point um the only way to actually grab the package you wanted was to actually use uh a special route and",
    "start": "2708160",
    "end": "2714480"
  },
  {
    "text": "just uh use a virtual interface and fling it in You can see that if you're if you're not running OE and you do IP",
    "start": "2714480",
    "end": "2720319"
  },
  {
    "text": "route list you can actually see that there's in this example uh again my machine at home is doing a uh a standard",
    "start": "2720319",
    "end": "2727680"
  },
  {
    "text": "1931 10157 route and a default gateway Once I enable OE you can see these t",
    "start": "2727680",
    "end": "2734720"
  },
  {
    "text": "these two routes marked in green which is basically a really dirty hack of saying um I actually want to have the",
    "start": "2734720",
    "end": "2740640"
  },
  {
    "text": "default route and I want to have more preference than the default route So we cut this space in half by using a net",
    "start": "2740640",
    "end": "2746560"
  },
  {
    "text": "mask of one and then grab the two halves of the entire",
    "start": "2746560",
    "end": "2751720"
  },
  {
    "text": "uh the entire net space and then tunnel that into the IP sec device and then if",
    "start": "2751720",
    "end": "2757280"
  },
  {
    "text": "we for some reason cannot do OE to the other side then it just defaults back to the default",
    "start": "2757280",
    "end": "2763119"
  },
  {
    "text": "drive So if you look at the server side for OE um it keeps track of the",
    "start": "2764760",
    "end": "2769839"
  },
  {
    "text": "connections of of who actually um has set up a tunnel and who who hasn't Um",
    "start": "2769839",
    "end": "2775599"
  },
  {
    "text": "you can see that uh uh the trap means that you know catch these packets and process them and see what we can do with",
    "start": "2775599",
    "end": "2781599"
  },
  {
    "text": "them which is in this case 17 again is my machine at home Um it's using OE",
    "start": "2781599",
    "end": "2788960"
  },
  {
    "text": "that's why it's trapping all these packets And the second line you can see that this machine",
    "start": "2788960",
    "end": "2795520"
  },
  {
    "text": "131.174124204 actually was not able to do opportunity encryption with us So we decided to just pass the packets on in",
    "start": "2795720",
    "end": "2802160"
  },
  {
    "text": "plain text We still want to talk to it The server next we can see we have a",
    "start": "2802160",
    "end": "2807839"
  },
  {
    "text": "tunnel We have um 193157.10 which is actually the freez",
    "start": "2807839",
    "end": "2812880"
  },
  {
    "text": "web server uh www.free.org um actually has uh a tunnel up It",
    "start": "2812880",
    "end": "2820319"
  },
  {
    "text": "supports operance encryption and the uh machine that's actually doing it for",
    "start": "2820319",
    "end": "2825760"
  },
  {
    "text": "that server is uh 1931",
    "start": "2825760",
    "end": "2830319"
  },
  {
    "text": "101577 Um the hold is only when when something",
    "start": "2831560",
    "end": "2836960"
  },
  {
    "text": "definitely gone wrong We should be able to do operation encryption and protect the uh use crypto But for some reason we",
    "start": "2836960",
    "end": "2843920"
  },
  {
    "text": "can't For instance there's a a firewall rule in the way uh packs are getting dropped",
    "start": "2843920",
    "end": "2849079"
  },
  {
    "text": "or the server actually doesn't support awkwardness encryption but does advertise it in a",
    "start": "2849079",
    "end": "2855079"
  },
  {
    "text": "DNS and tunnel means we have a tunnel since prefront 2.x the 20 series",
    "start": "2855079",
    "end": "2863920"
  },
  {
    "text": "and there's policies to make things easier You can just edit these five files uh put in network notation say well I",
    "start": "2863920",
    "end": "2871280"
  },
  {
    "text": "want I want my all my company addresses to be private or or I don't want to fall",
    "start": "2871280",
    "end": "2877920"
  },
  {
    "text": "back to the clear and for the internet I want to do private or clear and for some failed host also clear or on a block and",
    "start": "2877920",
    "end": "2885440"
  },
  {
    "text": "not talk to those those IP addresses ever So how do you actually install and",
    "start": "2885440",
    "end": "2891839"
  },
  {
    "text": "configure oper encryption um we we've gone for quite some effort to make this like like a non-configuration issue It's",
    "start": "2891839",
    "end": "2899839"
  },
  {
    "text": "um you should be able to get most RPMs uh for distributions red RPMs we make as",
    "start": "2899839",
    "end": "2905599"
  },
  {
    "text": "well because they still don't ship it or you can install from source Um let's go through it quickly Um if you",
    "start": "2905599",
    "end": "2913680"
  },
  {
    "text": "want net support then you should download um a fork which is called super freeze one which is about to be merged",
    "start": "2913680",
    "end": "2919920"
  },
  {
    "text": "back into the regular freeze one tree but it's still separate for now Make sure you have GMP That's a a",
    "start": "2919920",
    "end": "2926400"
  },
  {
    "text": "problem we often see when people try to set up the openness encryption Uh they're missing some header",
    "start": "2926400",
    "end": "2932359"
  },
  {
    "text": "files You can just issue make make all go in the free run tree which will make",
    "start": "2932359",
    "end": "2937920"
  },
  {
    "text": "all the ipsack models you need which include the openness encryption support Um you install them If you want to have",
    "start": "2937920",
    "end": "2945440"
  },
  {
    "text": "net t support net t's net traversal if you're behind net there's still some IPSec things you can do to break through",
    "start": "2945440",
    "end": "2952000"
  },
  {
    "text": "it Um unfortunately oper encryption doesn't work through neti yet So for",
    "start": "2952000",
    "end": "2957040"
  },
  {
    "text": "oper encryption um you won't need it But if you want to use it for other things as well building tunnels tunneling more",
    "start": "2957040",
    "end": "2964079"
  },
  {
    "text": "IP addresses into your AD cell home you can definitely use",
    "start": "2964079",
    "end": "2969359"
  },
  {
    "text": "NP Um 25 is pretty experimental yet Um do not use the superfic doesn't support",
    "start": "2970200",
    "end": "2977359"
  },
  {
    "text": "OE hooks yet um make programs and make",
    "start": "2977359",
    "end": "2982680"
  },
  {
    "text": "install generate your key using the object new host key commands Um you can um have the text",
    "start": "2982680",
    "end": "2990960"
  },
  {
    "text": "records that you need to put into your DNS generated with uh these commands minus minus txt and the IP number of the",
    "start": "2990960",
    "end": "2998240"
  },
  {
    "text": "of the operating encryption gateway or the machine that's doing the gateway or your own IP if you're doing it yourself",
    "start": "2998240",
    "end": "3005119"
  },
  {
    "text": "Um you you just can cut and paste these records into your zone file Hopefully sign it with DNS",
    "start": "3005119",
    "end": "3012200"
  },
  {
    "text": "sec and continue This is how it looked in the u",
    "start": "3012200",
    "end": "3017520"
  },
  {
    "text": "the 1.9 version of preform which is still ships in most of the uh uh distributions You have to enable this",
    "start": "3017520",
    "end": "3024400"
  },
  {
    "text": "connection called me to anyone which basically says with the magic keyword uh percentage opportunistic you know try do",
    "start": "3024400",
    "end": "3030400"
  },
  {
    "text": "opportunistic stuff Um this the this is the only",
    "start": "3030400",
    "end": "3035839"
  },
  {
    "text": "configuration you need to do to enable over encryption And uh if you actually do not control your reverse if you",
    "start": "3035839",
    "end": "3042400"
  },
  {
    "text": "cannot put a DNS record in there and you only have uh the u key records in your forward zone then you need to um enable",
    "start": "3042400",
    "end": "3050800"
  },
  {
    "text": "the last line that says left ID is so that we can tell the other side that that's where you fetch the DNS",
    "start": "3050800",
    "end": "3058359"
  },
  {
    "text": "record For the two series we enable OE for default Um you can only you can",
    "start": "3058359",
    "end": "3064240"
  },
  {
    "text": "disable it if you want Um in principle um uh it will find out we will try to",
    "start": "3064240",
    "end": "3070640"
  },
  {
    "text": "find out continuously if the keys are available to use and even if you don't",
    "start": "3070640",
    "end": "3075920"
  },
  {
    "text": "put the key in there as soon as you put the key in there it will find out and just enable this connection and try to do openness",
    "start": "3075920",
    "end": "3083519"
  },
  {
    "text": "encryption Configuring waves is a bit more difficult",
    "start": "3084280",
    "end": "3089520"
  },
  {
    "text": "Um this is basically the configur you need a patch This is basically the configuration to make sure that you",
    "start": "3089960",
    "end": "3095599"
  },
  {
    "text": "don't interfere with the existing DHCP server in the network and that you actually do a dynamic update uh to put",
    "start": "3095599",
    "end": "3102319"
  },
  {
    "text": "the key in Um there's some more links where you can see how you actually",
    "start": "3102319",
    "end": "3109720"
  },
  {
    "text": "uh configure the server side If you're interested in in setting up your own wave server just find me in the",
    "start": "3109720",
    "end": "3116559"
  },
  {
    "text": "corridors and I'll I'll gladly help you You need to have still a lot of",
    "start": "3116559",
    "end": "3123680"
  },
  {
    "text": "these connections uh unfortunately to do manually to uh to get all the encryption",
    "start": "3123680",
    "end": "3131480"
  },
  {
    "text": "working I'll skip through most um one important thing for the wave is that um",
    "start": "3131480",
    "end": "3137040"
  },
  {
    "text": "you have a sort of bootstrapping problem If you if you do not allow DHCP or DNS",
    "start": "3137040",
    "end": "3142640"
  },
  {
    "text": "packets to flow first then you can never actually set up uh you actually not get",
    "start": "3142640",
    "end": "3148240"
  },
  {
    "text": "your IP number and do your your DNS verification of key records So the easiest way now is to just um use this",
    "start": "3148240",
    "end": "3156400"
  },
  {
    "text": "this script actually just make holes and just allow this anyway This one also allows ICMP so that you can actually",
    "start": "3156400",
    "end": "3162720"
  },
  {
    "text": "check that you actually have an internet connection It's just that your wave sack is not working for some reason",
    "start": "3162720",
    "end": "3170240"
  },
  {
    "text": "[Music] Um you don't actually need the Red Hat patch anymore Um if you want to get the",
    "start": "3173310",
    "end": "3181599"
  },
  {
    "text": "DH client configuration there there are two popular um uh DHCP clients One is",
    "start": "3181599",
    "end": "3187040"
  },
  {
    "text": "the ISC uh DHCPD client which is DH client and you've got the uh DHCP CD",
    "start": "3187040",
    "end": "3193920"
  },
  {
    "text": "which Red Dead is still using Um PHPCD does not support any of the wave stack",
    "start": "3193920",
    "end": "3199319"
  },
  {
    "text": "stuff Um so I recommend using DH client and actually Redhead itself is also",
    "start": "3199319",
    "end": "3204880"
  },
  {
    "text": "switching You can see that on Red Hat 9 if you uh if you have DH client installed and",
    "start": "3204880",
    "end": "3210960"
  },
  {
    "text": "actually uses that in preference to the older stuff",
    "start": "3210960",
    "end": "3216040"
  },
  {
    "text": "Um it's actually also possible to use waves Um not to use waveack on FreeBSD",
    "start": "3217520",
    "end": "3223839"
  },
  {
    "text": "or OpenB or anything that resembles Kami Um one problem for OSX is that it's",
    "start": "3223839",
    "end": "3230720"
  },
  {
    "text": "using a different D2P client which does not support the stuff we need Um but we're talking to them and see uh if they",
    "start": "3230720",
    "end": "3237680"
  },
  {
    "text": "can add the functionality for it Uh if you have a freebies deep box and",
    "start": "3237680",
    "end": "3244319"
  },
  {
    "text": "you want to try this out also just find in the hallway Um the problem with",
    "start": "3244319",
    "end": "3249760"
  },
  {
    "text": "Windows machines first there the best thing is to have encryption working for Windows machines because that's still",
    "start": "3249760",
    "end": "3255280"
  },
  {
    "text": "the the the most the most the biggest amount of machines out there Um the problem is that they want to use their",
    "start": "3255280",
    "end": "3262400"
  },
  {
    "text": "own things of course So um you either have to put keys in certificates or you have to put keys in in LDAP",
    "start": "3262400",
    "end": "3270760"
  },
  {
    "text": "um and then and then retrieve the keys there and then set up the connection Um there are some some some tools written",
    "start": "3270760",
    "end": "3277359"
  },
  {
    "text": "to glue everything together But um at this point there's there's nothing",
    "start": "3277359",
    "end": "3282480"
  },
  {
    "text": "working uh for for encryption on the on the on the Microsoft machine uh machines",
    "start": "3282480",
    "end": "3288720"
  },
  {
    "text": "yet Um it does work if you use some of the other clients like SSH Sentinel but uh",
    "start": "3288720",
    "end": "3295520"
  },
  {
    "text": "not many people are working on that anymore since Microsoft released their own IPsack native",
    "start": "3295520",
    "end": "3301079"
  },
  {
    "text": "clients If you want to test OE um the easiest thing is to just use IPSC verify",
    "start": "3301079",
    "end": "3307200"
  },
  {
    "text": "first to see if all your things are working Uh most common problems we check for We check if you actually have the",
    "start": "3307200",
    "end": "3314240"
  },
  {
    "text": "IPSec kernel support Uh check if a demon runs we do a DNS checks In this case you",
    "start": "3314240",
    "end": "3319920"
  },
  {
    "text": "can see the DNS check for for both H.xe internal failed Uh so it it it cannot do",
    "start": "3319920",
    "end": "3328400"
  },
  {
    "text": "openness encryption in this case Um it also checks if there's more if there's more than one interface that's actually",
    "start": "3328400",
    "end": "3334319"
  },
  {
    "text": "forwarding packets and it checks if once you're doing IPC that you're not trying to kill your packets by rewriting them",
    "start": "3334319",
    "end": "3342880"
  },
  {
    "text": "afterwards If you go to untapable.x Lexadn that's actually the first uh public test server out there that",
    "start": "3344119",
    "end": "3350720"
  },
  {
    "text": "actually supports all the DNS sack extensions as well So um even though it's for now it's justformational um if",
    "start": "3350720",
    "end": "3357680"
  },
  {
    "text": "you actually connect to it you will know that um it will tell you either whether you're connected using uh simple IP or",
    "start": "3357680",
    "end": "3364960"
  },
  {
    "text": "whether using IP sack or whether using optins encryption and whether using",
    "start": "3364960",
    "end": "3370400"
  },
  {
    "text": "optins encryption with identities protected by DNS sec",
    "start": "3370400",
    "end": "3375920"
  },
  {
    "text": "Uh this is the output of of one session where it's actually protected by DNS Uh",
    "start": "3375920",
    "end": "3381119"
  },
  {
    "text": "you can see the identity below and the key used and retrieved from",
    "start": "3381119",
    "end": "3386480"
  },
  {
    "text": "DNS Some other test sites you can use uh that all support operance",
    "start": "3389160",
    "end": "3395599"
  },
  {
    "text": "encryption Some known problems with OE Um once you once you start",
    "start": "3396119",
    "end": "3403319"
  },
  {
    "text": "OE once you want to do verify keys in a DNS again you have the problem of of",
    "start": "3403319",
    "end": "3409839"
  },
  {
    "text": "someone will initiate or you will want to initiate a connection to somebody else For that you will need a DNS answer",
    "start": "3409839",
    "end": "3416079"
  },
  {
    "text": "that will initiate a new connection to your DNS server which of course triggers another opportunity encryption uh",
    "start": "3416079",
    "end": "3423200"
  },
  {
    "text": "session and they will all fail until at some point um you get these passes that",
    "start": "3423200",
    "end": "3428319"
  },
  {
    "text": "well the the DNS we cannot reach the DNS servers will just uh use flow let these",
    "start": "3428319",
    "end": "3434960"
  },
  {
    "text": "packs flow in the plane um so you know the first 10 15 seconds you should not rely on openness encryption uh it just",
    "start": "3434960",
    "end": "3442160"
  },
  {
    "text": "needs to somewhat slowly start up Um you can you can limit it somewhat if you use",
    "start": "3442160",
    "end": "3447280"
  },
  {
    "text": "the IPSec policy groups that I showed before and put your name servers in the always clear section Then again you",
    "start": "3447280",
    "end": "3453920"
  },
  {
    "text": "might not want that because you actually want your DNS traffic to be encrypted as well There's some issue with BCMCA cards",
    "start": "3453920",
    "end": "3461839"
  },
  {
    "text": "um that we need to work on um if it starts without without a default route if there's no there's no IP set",
    "start": "3461839",
    "end": "3468720"
  },
  {
    "text": "connection if there's no network interface it doesn't really handle it well Or if it disappears or if your IP number changes it needs to restart",
    "start": "3468720",
    "end": "3475680"
  },
  {
    "text": "things We're working on it but um there's some silly bugs there Um one of the really bad things with",
    "start": "3475680",
    "end": "3483119"
  },
  {
    "text": "waves right now really strange bug is that if you in on some laptops like for",
    "start": "3483119",
    "end": "3489040"
  },
  {
    "text": "instance on my laptop uh but I'm not the only one if you insert a card and the kernel actually uh generates a kernel",
    "start": "3489040",
    "end": "3495839"
  },
  {
    "text": "event that actually starts the hot plug subsystem that actually starts the H client and for some reason at some point",
    "start": "3495839",
    "end": "3503520"
  },
  {
    "text": "your environment gets corrupted and it just doesn't work Um if I then just wait and and run the H client manually it",
    "start": "3503520",
    "end": "3510720"
  },
  {
    "text": "works Um this is some bug in PL close which if somebody knows more about this",
    "start": "3510720",
    "end": "3515920"
  },
  {
    "text": "um I'm happy to demonstrate it if they know how to fix it to the coconut talk to 2011 that's",
    "start": "3515920",
    "end": "3522880"
  },
  {
    "text": "because of the key issue before Um sometimes if you're tunneling deeply",
    "start": "3522880",
    "end": "3529520"
  },
  {
    "text": "tunnels within tunnels within tunnels which some of the cheaper ISPs do a lot adding your own IPAC tunnel can actually",
    "start": "3529520",
    "end": "3536240"
  },
  {
    "text": "just trigger MTU problems Um uh for instance slash is known to to just kill",
    "start": "3536240",
    "end": "3542720"
  },
  {
    "text": "packets that are too small So if you're if you're if you're getting you can try and play with the",
    "start": "3542720",
    "end": "3548880"
  },
  {
    "text": "MTU once things are failing 1450 seems to work fine if you run into this problem",
    "start": "3548880",
    "end": "3556119"
  },
  {
    "text": "There's lots of debugging standard like freeze fun does a really good job of of of logging a message per event Um so",
    "start": "3557280",
    "end": "3565359"
  },
  {
    "text": "really check your log files It will it will say what's wrong Uh run the IP sec file Disable your firewall rules to see",
    "start": "3565359",
    "end": "3572400"
  },
  {
    "text": "if you're actually not just killing the packets yourself There's a tool written called Ike ping which you can actually",
    "start": "3572400",
    "end": "3577920"
  },
  {
    "text": "test to see if your ISP filters out uh some of the IPSAC",
    "start": "3577920",
    "end": "3583000"
  },
  {
    "text": "ports and if that all fails then you can use the command IPSAC bar which will",
    "start": "3583000",
    "end": "3588960"
  },
  {
    "text": "basically dump the entire state except your private keys into a file which can",
    "start": "3588960",
    "end": "3594640"
  },
  {
    "text": "get fairly big Just post on the website and then uh ask on the mailing list and",
    "start": "3594640",
    "end": "3600000"
  },
  {
    "text": "we can help you with it Uh people often make the mistake of of enabling clips debug and Pluto debug um",
    "start": "3600000",
    "end": "3608240"
  },
  {
    "text": "which is actually only meant for developers Once you do that the the the the IPSC bar output becomes several",
    "start": "3608240",
    "end": "3615599"
  },
  {
    "text": "megabytes and we just cannot read through all of it So do not enable it unless you uh you're a free",
    "start": "3615599",
    "end": "3623720"
  },
  {
    "text": "developer So if you want to try out open encryption just just grab me and and or try to download it and uh and grab stuff",
    "start": "3623720",
    "end": "3632079"
  },
  {
    "text": "One problem at this conference right now is that of course we're behind NAT So um",
    "start": "3632079",
    "end": "3638440"
  },
  {
    "text": "uh talk to me if you want to try and use some some real IP We're we're going to",
    "start": "3638440",
    "end": "3643520"
  },
  {
    "text": "set up an IPAC tunnel to tone some real IP into the conference and then use that",
    "start": "3643520",
    "end": "3648720"
  },
  {
    "text": "for uh for the wave any uh people want to try open [Music] encryption Um and then hopefully um in",
    "start": "3648720",
    "end": "3657920"
  },
  {
    "text": "the near future everything will be completely encrypted end to end and we can",
    "start": "3657920",
    "end": "3664160"
  },
  {
    "text": "all follow Phil Zimmerman and his uh in his his",
    "start": "3664839",
    "end": "3674280"
  },
  {
    "text": "um privacy and and and and human rights issues",
    "start": "3674280",
    "end": "3681000"
  },
  {
    "text": "I can demo some of the things um but I'm somewhat limited because of my net connection Um so are there any questions",
    "start": "3681200",
    "end": "3688240"
  },
  {
    "text": "people have uh what about",
    "start": "3688240",
    "end": "3695318"
  },
  {
    "text": "Yeah the um um the uh free one has kernel code which is called clips which",
    "start": "3701280",
    "end": "3706559"
  },
  {
    "text": "you can which you can use the uh the red people are making the Linux 26 IP stack",
    "start": "3706559",
    "end": "3712559"
  },
  {
    "text": "the AF key stuff um we're working with them to to make sure it works the hooks",
    "start": "3712559",
    "end": "3717599"
  },
  {
    "text": "are in there the patches are in there if you use the bit keeper tree from",
    "start": "3717599",
    "end": "3722920"
  },
  {
    "text": "um Dave Miller and you should have the latest patches to actually use it you should also get the latest development",
    "start": "3722920",
    "end": "3729680"
  },
  {
    "text": "version of free like 202 to pre zero at least Um and then it should work Um",
    "start": "3729680",
    "end": "3736720"
  },
  {
    "text": "there's still some issues to resolve There's still bugs in the kernel but um we're making this work with the uh with",
    "start": "3736720",
    "end": "3743040"
  },
  {
    "text": "the new kernel IP set code",
    "start": "3743040",
    "end": "3747799"
  },
  {
    "text": "Sorry what is unpackable running that produces this output to the go oh",
    "start": "3753520",
    "end": "3761520"
  },
  {
    "text": "basically it's just running uh running some some some some test debugging stuff that it will just output on the goer",
    "start": "3761520",
    "end": "3767520"
  },
  {
    "text": "port Um it's actually um if you if you go into the if you download free there's",
    "start": "3767520",
    "end": "3772880"
  },
  {
    "text": "a testing directory which actually contains uh the stuff It's using the bind res DNS sec result for the",
    "start": "3772880",
    "end": "3780799"
  },
  {
    "text": "lightweight result thing So I think it's called LWQDNS It comes with the uh the bind",
    "start": "3780799",
    "end": "3787040"
  },
  {
    "text": "snapshot and it's actually using that for the uh the DNS sec part Um basic basically once you if you",
    "start": "3787040",
    "end": "3795200"
  },
  {
    "text": "want to use DNS SEC on the operence encryption you basically have to just run your own secure aware local resolver",
    "start": "3795200",
    "end": "3802480"
  },
  {
    "text": "So you have to run bind with DNSX stuff on your local machine Uh there's just no",
    "start": "3802480",
    "end": "3808319"
  },
  {
    "text": "way around that because otherwise everybody will have to recode all the DNS routines to verify everything and",
    "start": "3808319",
    "end": "3814880"
  },
  {
    "text": "people are just not going to do that and they're just going to say run your own secure resolver and let that do it and",
    "start": "3814880",
    "end": "3820400"
  },
  {
    "text": "then we have one code base that does the the security checks and the crypto and not everybody has to you know write",
    "start": "3820400",
    "end": "3826319"
  },
  {
    "text": "their own code and make new mistakes Okay",
    "start": "3826319",
    "end": "3833039"
  },
  {
    "text": "Nice Heat",
    "start": "3844039",
    "end": "3848039"
  },
  {
    "text": "Heat [Music]",
    "start": "3864319",
    "end": "3868060"
  },
  {
    "text": "Heat Heat Heat",
    "start": "3873400",
    "end": "3877400"
  },
  {
    "text": "[Music]",
    "start": "3886130",
    "end": "3889259"
  },
  {
    "text": "[Music]",
    "start": "3893130",
    "end": "3896219"
  }
]