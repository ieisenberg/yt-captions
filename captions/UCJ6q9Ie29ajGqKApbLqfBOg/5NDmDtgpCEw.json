[
  {
    "start": "0",
    "end": "86000"
  },
  {
    "text": "this session",
    "start": "280",
    "end": "2040"
  },
  {
    "text": "is it just networks the truth about",
    "start": "2040",
    "end": "5640"
  },
  {
    "text": "ios's multipure connectivity framework",
    "start": "5640",
    "end": "8519"
  },
  {
    "text": "and albon Decay is going to tell us",
    "start": "8519",
    "end": "11400"
  },
  {
    "text": "about it all right thanks uh hi everyone",
    "start": "11400",
    "end": "16000"
  },
  {
    "text": "so uh thanks for coming in this early um",
    "start": "16000",
    "end": "20680"
  },
  {
    "text": "so my name is Alin I'm currently working",
    "start": "20680",
    "end": "22880"
  },
  {
    "text": "at this company called Data theorem",
    "start": "22880",
    "end": "24480"
  },
  {
    "text": "where I'm doing iOS uh research because",
    "start": "24480",
    "end": "27279"
  },
  {
    "text": "we're building uh scanner for",
    "start": "27279",
    "end": "30759"
  },
  {
    "text": "mobile apps security scanner and before",
    "start": "30759",
    "end": "33520"
  },
  {
    "text": "that I was a consultant at ISAC partners",
    "start": "33520",
    "end": "36280"
  },
  {
    "text": "and I worked on a bunch of tools um that",
    "start": "36280",
    "end": "39120"
  },
  {
    "text": "you guys may have or not have used um",
    "start": "39120",
    "end": "42360"
  },
  {
    "text": "and so today I'm here to talk about this",
    "start": "42360",
    "end": "44840"
  },
  {
    "text": "new uh Apple technology which is called",
    "start": "44840",
    "end": "47840"
  },
  {
    "text": "uh multier",
    "start": "47840",
    "end": "49320"
  },
  {
    "text": "connectivity uh which is pretty cool and",
    "start": "49320",
    "end": "52480"
  },
  {
    "text": "so first of all I'm just going to you",
    "start": "52480",
    "end": "54840"
  },
  {
    "text": "know describe what it actually is and",
    "start": "54840",
    "end": "56440"
  },
  {
    "text": "like the kind of problems he trying to",
    "start": "56440",
    "end": "58440"
  },
  {
    "text": "solve and then um describe how I uh",
    "start": "58440",
    "end": "62840"
  },
  {
    "text": "reverse the protocol because it's all",
    "start": "62840",
    "end": "64360"
  },
  {
    "text": "undocumented so uh describe how it",
    "start": "64360",
    "end": "67320"
  },
  {
    "text": "actually works behind the scenes when",
    "start": "67320",
    "end": "68920"
  },
  {
    "text": "you're uh using it and lastly once we",
    "start": "68920",
    "end": "72640"
  },
  {
    "text": "know how it really works I'll briefly",
    "start": "72640",
    "end": "74759"
  },
  {
    "text": "talk about the ACT security of the",
    "start": "74759",
    "end": "76479"
  },
  {
    "text": "protocol and uh the kind of assumptions",
    "start": "76479",
    "end": "79280"
  },
  {
    "text": "you should make as a developer that's",
    "start": "79280",
    "end": "81159"
  },
  {
    "text": "using that",
    "start": "81159",
    "end": "82240"
  },
  {
    "text": "technology um so multiple",
    "start": "82240",
    "end": "85320"
  },
  {
    "text": "connectivity so it was introduced in iOS",
    "start": "85320",
    "end": "88560"
  },
  {
    "start": "86000",
    "end": "86000"
  },
  {
    "text": "uh 7 uh um and so it's a new framework",
    "start": "88560",
    "end": "92680"
  },
  {
    "text": "so a new Apple library that you can use",
    "start": "92680",
    "end": "94759"
  },
  {
    "text": "as a developer and what it does it lets",
    "start": "94759",
    "end": "97200"
  },
  {
    "text": "you write an app that can",
    "start": "97200",
    "end": "99200"
  },
  {
    "text": "find uh the same app running on nearby",
    "start": "99200",
    "end": "102479"
  },
  {
    "text": "devices so you can find nearby devices",
    "start": "102479",
    "end": "105360"
  },
  {
    "text": "and then start communicating with them",
    "start": "105360",
    "end": "107759"
  },
  {
    "text": "um and exchange data so it was",
    "start": "107759",
    "end": "109719"
  },
  {
    "text": "introduced in iOS 7 uh but what's kind",
    "start": "109719",
    "end": "112399"
  },
  {
    "text": "of interesting is it was also introduced",
    "start": "112399",
    "end": "114079"
  },
  {
    "text": "in the next version of Macos so Macos",
    "start": "114079",
    "end": "116640"
  },
  {
    "text": "which will be released in a month uh now",
    "start": "116640",
    "end": "119479"
  },
  {
    "text": "also has that framework and as you can",
    "start": "119479",
    "end": "121399"
  },
  {
    "text": "see on the picture so um I'm just going",
    "start": "121399",
    "end": "124560"
  },
  {
    "text": "to do a quick demo just so you guys get",
    "start": "124560",
    "end": "126840"
  },
  {
    "text": "an idea of what it is um all",
    "start": "126840",
    "end": "131879"
  },
  {
    "text": "right so um so on the left there's a",
    "start": "131879",
    "end": "136040"
  },
  {
    "text": "real iPad on the right it's the dios",
    "start": "136040",
    "end": "139040"
  },
  {
    "text": "simulator um and so I just launched a",
    "start": "139040",
    "end": "142160"
  },
  {
    "text": "simple multiple connectivity app as you",
    "start": "142160",
    "end": "143920"
  },
  {
    "text": "can see and it's up to exchange",
    "start": "143920",
    "end": "146160"
  },
  {
    "text": "messages um between nearby devices and",
    "start": "146160",
    "end": "149280"
  },
  {
    "text": "so the first thing you have to do when",
    "start": "149280",
    "end": "151200"
  },
  {
    "text": "you're using that is make your app",
    "start": "151200",
    "end": "153000"
  },
  {
    "text": "yourself visible to other devices that",
    "start": "153000",
    "end": "155000"
  },
  {
    "text": "are around um as you can see on the",
    "start": "155000",
    "end": "157519"
  },
  {
    "text": "right and once you've done that uh again",
    "start": "157519",
    "end": "160560"
  },
  {
    "text": "devices that are nearby can find you and",
    "start": "160560",
    "end": "163239"
  },
  {
    "text": "you know uh connect with you and so um",
    "start": "163239",
    "end": "167560"
  },
  {
    "text": "on the left on the iPad I'm just going",
    "start": "167560",
    "end": "169120"
  },
  {
    "text": "to you know browse for no devices and",
    "start": "169120",
    "end": "171440"
  },
  {
    "text": "it's going to find the",
    "start": "171440",
    "end": "172560"
  },
  {
    "text": "simulator um and so once you actually",
    "start": "172560",
    "end": "176280"
  },
  {
    "text": "decide to connect to the device you get",
    "start": "176280",
    "end": "177959"
  },
  {
    "text": "a prompt as you can see on the right",
    "start": "177959",
    "end": "179599"
  },
  {
    "text": "which uh asks for confirmation whether",
    "start": "179599",
    "end": "181840"
  },
  {
    "text": "you want to accept that connection or",
    "start": "181840",
    "end": "183599"
  },
  {
    "text": "not uh so in that case secret iPad and",
    "start": "183599",
    "end": "187120"
  },
  {
    "text": "if you accept um then the two devices",
    "start": "187120",
    "end": "189400"
  },
  {
    "text": "are paired with each other and now they",
    "start": "189400",
    "end": "190959"
  },
  {
    "text": "can start exchanging data and so um and",
    "start": "190959",
    "end": "193840"
  },
  {
    "text": "so as you'll see I can now uh exchange",
    "start": "193840",
    "end": "196680"
  },
  {
    "text": "messages between the two devices um and",
    "start": "196680",
    "end": "200080"
  },
  {
    "text": "so write text it's it's in the sampleit",
    "start": "200080",
    "end": "202840"
  },
  {
    "text": "text but it can be any data and you can",
    "start": "202840",
    "end": "204519"
  },
  {
    "text": "also exchange files um and what's really",
    "start": "204519",
    "end": "207120"
  },
  {
    "text": "cool about it is it's peer-to-peer so no",
    "start": "207120",
    "end": "209920"
  },
  {
    "text": "need for internet connectivity no need",
    "start": "209920",
    "end": "211920"
  },
  {
    "text": "for cell signal it's just you know",
    "start": "211920",
    "end": "214799"
  },
  {
    "text": "Finding nearby devices using",
    "start": "214799",
    "end": "216319"
  },
  {
    "text": "peer-to-peer protocol so it's pretty",
    "start": "216319",
    "end": "218879"
  },
  {
    "text": "cool there's one app that's kind of",
    "start": "218879",
    "end": "221000"
  },
  {
    "text": "famous now that's using it it's called",
    "start": "221000",
    "end": "222319"
  },
  {
    "text": "fire chat uh and it's kind of like this",
    "start": "222319",
    "end": "224920"
  },
  {
    "text": "one it let you chat with people around",
    "start": "224920",
    "end": "226599"
  },
  {
    "text": "you uh for example when you're when",
    "start": "226599",
    "end": "228280"
  },
  {
    "text": "you're in the Subway or you know",
    "start": "228280",
    "end": "229920"
  },
  {
    "text": "wherever so it finds uh people that are",
    "start": "229920",
    "end": "233120"
  },
  {
    "text": "around you and you can chat with them so",
    "start": "233120",
    "end": "236079"
  },
  {
    "text": "um that's it for the demo so so it's",
    "start": "236079",
    "end": "238760"
  },
  {
    "text": "pretty cool cuz it's very to use as an",
    "start": "238760",
    "end": "240560"
  },
  {
    "text": "app developer in like 10 lines of code",
    "start": "240560",
    "end": "242920"
  },
  {
    "start": "242000",
    "end": "242000"
  },
  {
    "text": "you can have something like that uh so",
    "start": "242920",
    "end": "245239"
  },
  {
    "text": "it's pretty slick but so the reason why",
    "start": "245239",
    "end": "247760"
  },
  {
    "text": "I I wanted",
    "start": "247760",
    "end": "248879"
  },
  {
    "text": "to uh you know do some research on it is",
    "start": "248879",
    "end": "251680"
  },
  {
    "text": "that it's completely undocumented so um",
    "start": "251680",
    "end": "254799"
  },
  {
    "text": "there's documentation on how to use it",
    "start": "254799",
    "end": "256919"
  },
  {
    "text": "but when you actually want to know how",
    "start": "256919",
    "end": "258160"
  },
  {
    "text": "it really works there's nothing so uh",
    "start": "258160",
    "end": "261000"
  },
  {
    "text": "for the firstart is when you start",
    "start": "261000",
    "end": "262600"
  },
  {
    "text": "googling for internal strings and",
    "start": "262600",
    "end": "264840"
  },
  {
    "text": "constant and you get no",
    "start": "264840",
    "end": "266600"
  },
  {
    "text": "results um and then the other thing is",
    "start": "266600",
    "end": "269320"
  },
  {
    "text": "there's security there are security",
    "start": "269320",
    "end": "270600"
  },
  {
    "text": "settings you can use um so you can",
    "start": "270600",
    "end": "273360"
  },
  {
    "text": "specify which encryption you want and",
    "start": "273360",
    "end": "275520"
  },
  {
    "text": "there's also",
    "start": "275520",
    "end": "276440"
  },
  {
    "text": "authentication uh but since you don't",
    "start": "276440",
    "end": "278479"
  },
  {
    "text": "know how it really works it's hard to",
    "start": "278479",
    "end": "280160"
  },
  {
    "text": "tell how the security things work",
    "start": "280160",
    "end": "283039"
  },
  {
    "text": "so uh overall because it's all",
    "start": "283039",
    "end": "285280"
  },
  {
    "text": "undocumented it was interesting uh and",
    "start": "285280",
    "end": "288880"
  },
  {
    "text": "so I ended up you know having a look at",
    "start": "288880",
    "end": "291639"
  },
  {
    "text": "the protocol and try to figure out how",
    "start": "291639",
    "end": "293039"
  },
  {
    "text": "it works uh and that's what I'm going to",
    "start": "293039",
    "end": "295240"
  },
  {
    "text": "talk about now um but before I get into",
    "start": "295240",
    "end": "297520"
  },
  {
    "text": "the details there's two things I need to",
    "start": "297520",
    "end": "299320"
  },
  {
    "text": "mention so you guys can get a better",
    "start": "299320",
    "end": "302080"
  },
  {
    "text": "understanding so when you're using the",
    "start": "302080",
    "end": "304840"
  },
  {
    "text": "multipar connective framework as a",
    "start": "304840",
    "end": "306320"
  },
  {
    "text": "developer there's two security settings",
    "start": "306320",
    "end": "308639"
  },
  {
    "text": "you can specify there's the encryption",
    "start": "308639",
    "end": "311080"
  },
  {
    "text": "preference um and there's three levels",
    "start": "311080",
    "end": "314680"
  },
  {
    "text": "optional required on none uh and that's",
    "start": "314680",
    "end": "317280"
  },
  {
    "text": "a screenshot from the",
    "start": "317280",
    "end": "318880"
  },
  {
    "text": "documentation um so you have to specify",
    "start": "318880",
    "end": "321600"
  },
  {
    "text": "which encryption you want and that's all",
    "start": "321600",
    "end": "323160"
  },
  {
    "text": "you get in the documentation there there",
    "start": "323160",
    "end": "324800"
  },
  {
    "text": "are no other details the kind of",
    "start": "324800",
    "end": "327160"
  },
  {
    "text": "algorithm that are used or you know how",
    "start": "327160",
    "end": "329080"
  },
  {
    "text": "it works that's really all you have so",
    "start": "329080",
    "end": "331639"
  },
  {
    "text": "that's the first uh security setting and",
    "start": "331639",
    "end": "333800"
  },
  {
    "text": "the other one is authentication so you",
    "start": "333800",
    "end": "335560"
  },
  {
    "start": "335000",
    "end": "335000"
  },
  {
    "text": "can enable",
    "start": "335560",
    "end": "336759"
  },
  {
    "text": "authentication to do that you have to uh",
    "start": "336759",
    "end": "339880"
  },
  {
    "text": "in your app you have to specify an",
    "start": "339880",
    "end": "341680"
  },
  {
    "text": "identity which is an x509 certificate uh",
    "start": "341680",
    "end": "344680"
  },
  {
    "text": "and a private key and so that's going to",
    "start": "344680",
    "end": "346120"
  },
  {
    "text": "be your your app's identity when it's",
    "start": "346120",
    "end": "347960"
  },
  {
    "text": "sparing with other devices um and the",
    "start": "347960",
    "end": "350600"
  },
  {
    "text": "other thing you have to do is also write",
    "start": "350600",
    "end": "352560"
  },
  {
    "text": "a call back that's going to be called",
    "start": "352560",
    "end": "354639"
  },
  {
    "text": "when you have to validate the other",
    "start": "354639",
    "end": "356400"
  },
  {
    "text": "certificates as they try to connect to",
    "start": "356400",
    "end": "358160"
  },
  {
    "text": "you um and so so that's authentication",
    "start": "358160",
    "end": "360479"
  },
  {
    "text": "so two security settings encryption and",
    "start": "360479",
    "end": "363560"
  },
  {
    "text": "authentication um and the the default",
    "start": "363560",
    "end": "366560"
  },
  {
    "text": "settings are optional encryption and no",
    "start": "366560",
    "end": "368560"
  },
  {
    "text": "authentication and so back to uh",
    "start": "368560",
    "end": "371120"
  },
  {
    "start": "370000",
    "end": "370000"
  },
  {
    "text": "reversing the protocol so the test setup",
    "start": "371120",
    "end": "372919"
  },
  {
    "text": "I had was exactly what you saw in the",
    "start": "372919",
    "end": "374520"
  },
  {
    "text": "demo so a real iPad um and then the iOS",
    "start": "374520",
    "end": "377800"
  },
  {
    "text": "simulator with that sample app that I",
    "start": "377800",
    "end": "380720"
  },
  {
    "text": "did have to modify but uh same similar",
    "start": "380720",
    "end": "383400"
  },
  {
    "text": "setup uh I only looked at Wi-Fi so",
    "start": "383400",
    "end": "386240"
  },
  {
    "text": "something I didn't mention it it uses",
    "start": "386240",
    "end": "387919"
  },
  {
    "text": "Bluetooth or Wi-Fi uh and you don't",
    "start": "387919",
    "end": "390360"
  },
  {
    "text": "really get to choose as a developer it",
    "start": "390360",
    "end": "392160"
  },
  {
    "text": "just tries to find the best thing uh so",
    "start": "392160",
    "end": "395120"
  },
  {
    "text": "I disabled Bluetooth because I didn't",
    "start": "395120",
    "end": "396639"
  },
  {
    "text": "want to have to sniff Bluetooth so uh my",
    "start": "396639",
    "end": "399199"
  },
  {
    "text": "study was only on Wi-Fi um and so well",
    "start": "399199",
    "end": "403880"
  },
  {
    "text": "so when you want to start revering a",
    "start": "403880",
    "end": "405720"
  },
  {
    "text": "protocol the first thing you're going to",
    "start": "405720",
    "end": "407759"
  },
  {
    "text": "do uh is uh you know look at the packet",
    "start": "407759",
    "end": "411000"
  },
  {
    "text": "capture and so when you do that with",
    "start": "411000",
    "end": "412400"
  },
  {
    "text": "multipeer",
    "start": "412400",
    "end": "414199"
  },
  {
    "text": "connectivity um what you're going to see",
    "start": "414199",
    "end": "416800"
  },
  {
    "text": "is that there are four different",
    "start": "416800",
    "end": "418960"
  },
  {
    "text": "protocols",
    "start": "418960",
    "end": "420080"
  },
  {
    "text": "uh and two of them seems to be well",
    "start": "420080",
    "end": "422680"
  },
  {
    "text": "known and W Shar is able to identify",
    "start": "422680",
    "end": "425639"
  },
  {
    "text": "them and figure out what they are and",
    "start": "425639",
    "end": "427639"
  },
  {
    "text": "there there's like two mystery protocols",
    "start": "427639",
    "end": "429599"
  },
  {
    "text": "where wh shock doesn't know what it is",
    "start": "429599",
    "end": "433120"
  },
  {
    "text": "um and so what I'm going to do is",
    "start": "433120",
    "end": "435199"
  },
  {
    "text": "briefly talk about the two protocols",
    "start": "435199",
    "end": "437639"
  },
  {
    "text": "that are well known uh but if you want",
    "start": "437639",
    "end": "439520"
  },
  {
    "text": "more details you can just look it up",
    "start": "439520",
    "end": "440879"
  },
  {
    "text": "online and there's tons of documentation",
    "start": "440879",
    "end": "443120"
  },
  {
    "text": "and I'll spend more time on the two uh",
    "start": "443120",
    "end": "445160"
  },
  {
    "text": "propriatary protocols because that's uh",
    "start": "445160",
    "end": "447360"
  },
  {
    "text": "the more interesting part and so the",
    "start": "447360",
    "end": "448400"
  },
  {
    "text": "first protocol you'll see it's called",
    "start": "448400",
    "end": "450160"
  },
  {
    "text": "bonjour it's an apple technology it's",
    "start": "450160",
    "end": "453080"
  },
  {
    "text": "it's used to find um services on a land",
    "start": "453080",
    "end": "456479"
  },
  {
    "text": "so for example uh it's how your Mac",
    "start": "456479",
    "end": "459160"
  },
  {
    "text": "finds a printer and things like that",
    "start": "459160",
    "end": "460960"
  },
  {
    "text": "that are on the landine and so that's",
    "start": "460960",
    "end": "463000"
  },
  {
    "text": "what multiple connectivity is using to",
    "start": "463000",
    "end": "465280"
  },
  {
    "text": "find phones",
    "start": "465280",
    "end": "467000"
  },
  {
    "text": "around um and so your app basically",
    "start": "467000",
    "end": "470120"
  },
  {
    "text": "advertises a bonjour service and you",
    "start": "470120",
    "end": "472120"
  },
  {
    "text": "just have to choose a name for that",
    "start": "472120",
    "end": "473360"
  },
  {
    "text": "service so for example for fire the fire",
    "start": "473360",
    "end": "475680"
  },
  {
    "text": "chat app the name that shows is fire",
    "start": "475680",
    "end": "478000"
  },
  {
    "text": "chat um and so now uh so now the fire",
    "start": "478000",
    "end": "482280"
  },
  {
    "text": "chatab is going to advertise its",
    "start": "482280",
    "end": "483919"
  },
  {
    "text": "multiple commity service and then nearby",
    "start": "483919",
    "end": "486120"
  },
  {
    "text": "devices can find it um and so once they",
    "start": "486120",
    "end": "489440"
  },
  {
    "text": "find that service they get um the IP",
    "start": "489440",
    "end": "492240"
  },
  {
    "text": "address and the TCP port to connect to",
    "start": "492240",
    "end": "494879"
  },
  {
    "text": "that service and that's why the next",
    "start": "494879",
    "end": "497240"
  },
  {
    "text": "protocol which is unknown uh is our TCP",
    "start": "497240",
    "end": "500599"
  },
  {
    "text": "and it uses the information that uh the",
    "start": "500599",
    "end": "503639"
  },
  {
    "text": "have got fromour to actually",
    "start": "503639",
    "end": "505599"
  },
  {
    "text": "connect um and so when you look at",
    "start": "505599",
    "end": "508039"
  },
  {
    "text": "it um",
    "start": "508039",
    "end": "510280"
  },
  {
    "text": "it's definitely plain text um and so the",
    "start": "510280",
    "end": "513880"
  },
  {
    "text": "few things you have to you quickly uh",
    "start": "513880",
    "end": "516760"
  },
  {
    "text": "notice is uh so at the beginning you can",
    "start": "516760",
    "end": "519279"
  },
  {
    "text": "see the names of the devices uh secret",
    "start": "519279",
    "end": "521760"
  },
  {
    "text": "iPad iPhone simulator and then uh",
    "start": "521760",
    "end": "524640"
  },
  {
    "text": "something you can see is bplist00 which",
    "start": "524640",
    "end": "526720"
  },
  {
    "text": "is the magic uh header for a binary pist",
    "start": "526720",
    "end": "530080"
  },
  {
    "text": "which is an apple file format uh to",
    "start": "530080",
    "end": "533160"
  },
  {
    "text": "store Key values so there's like the XML",
    "start": "533160",
    "end": "536480"
  },
  {
    "text": "you can write it as XML or as a binary",
    "start": "536480",
    "end": "538360"
  },
  {
    "text": "pist and that's what's right there um so",
    "start": "538360",
    "end": "543200"
  },
  {
    "text": "looking at the protocol so the first two",
    "start": "543200",
    "end": "545560"
  },
  {
    "text": "things each per exchange what's called",
    "start": "545560",
    "end": "547160"
  },
  {
    "text": "their peer ID which is their name iPhone",
    "start": "547160",
    "end": "549360"
  },
  {
    "text": "simulator plus some kind of random uh",
    "start": "549360",
    "end": "551640"
  },
  {
    "text": "string so you know one 2 3 G something",
    "start": "551640",
    "end": "555240"
  },
  {
    "text": "something uh that's a PR ID and then",
    "start": "555240",
    "end": "558760"
  },
  {
    "text": "they exchange three pists um so again",
    "start": "558760",
    "end": "561160"
  },
  {
    "text": "pists are a key value pairs uh the first",
    "start": "561160",
    "end": "564120"
  },
  {
    "text": "P list is so it's sent by the the peer",
    "start": "564120",
    "end": "567800"
  },
  {
    "text": "who's initiating the connection",
    "start": "567800",
    "end": "569880"
  },
  {
    "text": "uh and has a bunch of keys the one that",
    "start": "569880",
    "end": "571519"
  },
  {
    "text": "are interesting are the per ID key so it",
    "start": "571519",
    "end": "574440"
  },
  {
    "text": "sends oops its own per ID key which is",
    "start": "574440",
    "end": "577360"
  },
  {
    "text": "that iPhone simulator string I just",
    "start": "577360",
    "end": "578880"
  },
  {
    "text": "talked about so the sender PID key and",
    "start": "578880",
    "end": "580959"
  },
  {
    "text": "then it also sends the reent P key so",
    "start": "580959",
    "end": "584560"
  },
  {
    "text": "they can sort of make sure they are",
    "start": "584560",
    "end": "586040"
  },
  {
    "text": "talking to each other and not someone",
    "start": "586040",
    "end": "588160"
  },
  {
    "text": "else um and once that's done that's when",
    "start": "588160",
    "end": "591079"
  },
  {
    "text": "you get the prompt that you saw in the",
    "start": "591079",
    "end": "592640"
  },
  {
    "text": "demo uh with the name of the other guy",
    "start": "592640",
    "end": "595560"
  },
  {
    "text": "uh who wants to",
    "start": "595560",
    "end": "596760"
  },
  {
    "text": "connect uh and if the user says yes then",
    "start": "596760",
    "end": "599880"
  },
  {
    "text": "B sends back another P list one thing",
    "start": "599880",
    "end": "602079"
  },
  {
    "text": "that's in it is whether they accepted",
    "start": "602079",
    "end": "603640"
  },
  {
    "text": "the invite or not uh so yes or",
    "start": "603640",
    "end": "606880"
  },
  {
    "text": "no and lastly there's a thir P that's",
    "start": "606880",
    "end": "610000"
  },
  {
    "text": "exchange and the main the key thing here",
    "start": "610000",
    "end": "612320"
  },
  {
    "text": "is that they're exchanging something",
    "start": "612320",
    "end": "613839"
  },
  {
    "text": "called um the connection data key so",
    "start": "613839",
    "end": "617640"
  },
  {
    "text": "each peer is sending to the other guy",
    "start": "617640",
    "end": "619120"
  },
  {
    "text": "their own uh connection data key and",
    "start": "619120",
    "end": "621200"
  },
  {
    "text": "that's actually the main uh payload of",
    "start": "621200",
    "end": "623399"
  },
  {
    "start": "623000",
    "end": "623000"
  },
  {
    "text": "that protocol that's the the whole",
    "start": "623399",
    "end": "625440"
  },
  {
    "text": "reason why that protocol is happening is",
    "start": "625440",
    "end": "626760"
  },
  {
    "text": "to actually get there and exchange that",
    "start": "626760",
    "end": "628680"
  },
  {
    "text": "connection data key uh and so so that",
    "start": "628680",
    "end": "631120"
  },
  {
    "text": "payload is briefly mentioned in the in",
    "start": "631120",
    "end": "633360"
  },
  {
    "text": "the documentation it's called connection",
    "start": "633360",
    "end": "635079"
  },
  {
    "text": "data but of course they don't tell you",
    "start": "635079",
    "end": "637120"
  },
  {
    "text": "what's in it so uh if you actually have",
    "start": "637120",
    "end": "639839"
  },
  {
    "text": "a look um it's pretty interesting so the",
    "start": "639839",
    "end": "643079"
  },
  {
    "text": "first thing is uh invite one you have",
    "start": "643079",
    "end": "645800"
  },
  {
    "text": "the pier security settings so uh whether",
    "start": "645800",
    "end": "648959"
  },
  {
    "text": "authentication is enabled and the level",
    "start": "648959",
    "end": "651160"
  },
  {
    "text": "of encryption so they're all packed in",
    "start": "651160",
    "end": "653839"
  },
  {
    "text": "in a bite so it's a bit field uh and so",
    "start": "653839",
    "end": "656639"
  },
  {
    "text": "that's what that that bite is so five",
    "start": "656639",
    "end": "658560"
  },
  {
    "text": "means uh authentication enabled and no",
    "start": "658560",
    "end": "660560"
  },
  {
    "text": "encryption for example um so it's just a",
    "start": "660560",
    "end": "663320"
  },
  {
    "text": "security settings there's no",
    "start": "663320",
    "end": "664480"
  },
  {
    "text": "certificates yet or anything like that",
    "start": "664480",
    "end": "666720"
  },
  {
    "text": "uh so that's one thing and then there's",
    "start": "666720",
    "end": "668920"
  },
  {
    "text": "a list of candidate IP addresses and",
    "start": "668920",
    "end": "670920"
  },
  {
    "text": "I'll Define candidate uh after that so",
    "start": "670920",
    "end": "673839"
  },
  {
    "text": "list of IP addresses so 192",
    "start": "673839",
    "end": "677240"
  },
  {
    "text": "1688 um Etc so list of IP",
    "start": "677240",
    "end": "681120"
  },
  {
    "text": "addresses uh which are the P's local IP",
    "start": "681120",
    "end": "684040"
  },
  {
    "text": "addresses on all network interfaces",
    "start": "684040",
    "end": "687160"
  },
  {
    "text": "um and then some kind of ID s and",
    "start": "687160",
    "end": "689839"
  },
  {
    "text": "actually have no idea what they are but",
    "start": "689839",
    "end": "691959"
  },
  {
    "text": "if you look at the debug logs they're",
    "start": "691959",
    "end": "693560"
  },
  {
    "text": "called IDs um so to be to be",
    "start": "693560",
    "end": "697959"
  },
  {
    "text": "investigated and then also port numbers",
    "start": "697959",
    "end": "699880"
  },
  {
    "text": "so basically that connection data key is",
    "start": "699880",
    "end": "702639"
  },
  {
    "text": "the pe's list of local IP addresses and",
    "start": "702639",
    "end": "704880"
  },
  {
    "text": "UDP port and it's being sent to the",
    "start": "704880",
    "end": "706959"
  },
  {
    "text": "other guy um and the reason why it's",
    "start": "706959",
    "end": "710240"
  },
  {
    "text": "doing this so it's exchanging candidate",
    "start": "710240",
    "end": "712440"
  },
  {
    "text": "UDP",
    "start": "712440",
    "end": "713480"
  },
  {
    "text": "sockets um and so the next protocol",
    "start": "713480",
    "end": "716160"
  },
  {
    "text": "which is called Ice uh for interactive",
    "start": "716160",
    "end": "718760"
  },
  {
    "text": "connectivity establishment so that's a",
    "start": "718760",
    "end": "720680"
  },
  {
    "text": "wellknown protocol and what it does is",
    "start": "720680",
    "end": "723000"
  },
  {
    "text": "from a list of candidate IP addresses",
    "start": "723000",
    "end": "725440"
  },
  {
    "text": "and port numbers it's going to do",
    "start": "725440",
    "end": "727480"
  },
  {
    "text": "connectivity checks to try to find the",
    "start": "727480",
    "end": "730440"
  },
  {
    "text": "best network pass to the other guy um",
    "start": "730440",
    "end": "733199"
  },
  {
    "text": "and so that's why in the previous",
    "start": "733199",
    "end": "735360"
  },
  {
    "text": "protocol each each Pier exchanged their",
    "start": "735360",
    "end": "737959"
  },
  {
    "text": "list of IP addresses and now ice is",
    "start": "737959",
    "end": "740000"
  },
  {
    "text": "going to use that to find the best",
    "start": "740000",
    "end": "741120"
  },
  {
    "text": "network pass and in the debug logs",
    "start": "741120",
    "end": "743399"
  },
  {
    "text": "that's what you see so it list it lists",
    "start": "743399",
    "end": "745920"
  },
  {
    "text": "all these addresses and port number then",
    "start": "745920",
    "end": "747480"
  },
  {
    "text": "it's going to send packet to see which",
    "start": "747480",
    "end": "749279"
  },
  {
    "text": "one works best um and if you want more",
    "start": "749279",
    "end": "752519"
  },
  {
    "text": "details again it's well documented so",
    "start": "752519",
    "end": "754079"
  },
  {
    "text": "you can look it up but once that's done",
    "start": "754079",
    "end": "757120"
  },
  {
    "text": "um then each peer knows uh an IP address",
    "start": "757120",
    "end": "761160"
  },
  {
    "text": "and a port number to connect to the",
    "start": "761160",
    "end": "762920"
  },
  {
    "text": "other guy over UDP and that's where the",
    "start": "762920",
    "end": "765440"
  },
  {
    "text": "last uh protocol comes in so it's",
    "start": "765440",
    "end": "768040"
  },
  {
    "text": "something over our UDP um and so when",
    "start": "768040",
    "end": "772000"
  },
  {
    "text": "you look at it wsh has no idea what it",
    "start": "772000",
    "end": "774600"
  },
  {
    "start": "773000",
    "end": "773000"
  },
  {
    "text": "is uh and it does not seem to be plain",
    "start": "774600",
    "end": "777959"
  },
  {
    "text": "text uh as you can see see uh and that's",
    "start": "777959",
    "end": "780399"
  },
  {
    "text": "also that's a protocol that's used when",
    "start": "780399",
    "end": "782040"
  },
  {
    "text": "you actually send messages so as I was",
    "start": "782040",
    "end": "784079"
  },
  {
    "text": "doing in a demo uh you know sending text",
    "start": "784079",
    "end": "786560"
  },
  {
    "text": "messages that's where they are but",
    "start": "786560",
    "end": "789079"
  },
  {
    "text": "obviously it's not PR text so it's kind",
    "start": "789079",
    "end": "791279"
  },
  {
    "text": "of uh",
    "start": "791279",
    "end": "792760"
  },
  {
    "text": "intriguing um but you can sort of when",
    "start": "792760",
    "end": "796079"
  },
  {
    "text": "you're looking at the the framework you",
    "start": "796079",
    "end": "797839"
  },
  {
    "text": "can sort of guess what it is because one",
    "start": "797839",
    "end": "800959"
  },
  {
    "text": "thing I briefly mentioned is when you",
    "start": "800959",
    "end": "802279"
  },
  {
    "text": "use authentication it's going to use SSL",
    "start": "802279",
    "end": "804480"
  },
  {
    "text": "certificates ex certificates so that's",
    "start": "804480",
    "end": "807399"
  },
  {
    "text": "kind of a clue on what it should be",
    "start": "807399",
    "end": "810120"
  },
  {
    "text": "uh and then if you actually set a",
    "start": "810120",
    "end": "812680"
  },
  {
    "text": "breakpoint on an SSL function so SSL",
    "start": "812680",
    "end": "815320"
  },
  {
    "text": "handshake which is Apple's SSL handshake",
    "start": "815320",
    "end": "818839"
  },
  {
    "text": "function uh the break point gets",
    "start": "818839",
    "end": "820560"
  },
  {
    "text": "triggered right in that protocol and uh",
    "start": "820560",
    "end": "823000"
  },
  {
    "text": "if you look at the St Trace you can see",
    "start": "823000",
    "end": "824639"
  },
  {
    "text": "that function gck station perform dtls",
    "start": "824639",
    "end": "827920"
  },
  {
    "text": "handshake so that pretty much gives it",
    "start": "827920",
    "end": "830079"
  },
  {
    "text": "away so that's dtls but it's very",
    "start": "830079",
    "end": "833480"
  },
  {
    "text": "strange because W shock knows how to",
    "start": "833480",
    "end": "836240"
  },
  {
    "text": "pass dtls uh but in that case it's not",
    "start": "836240",
    "end": "838759"
  },
  {
    "text": "working for some reason um so kind of",
    "start": "838759",
    "end": "842320"
  },
  {
    "text": "strange so what I ended up doing was",
    "start": "842320",
    "end": "843839"
  },
  {
    "text": "looking at normal dtls protocol and see",
    "start": "843839",
    "end": "846440"
  },
  {
    "text": "if there were any differences so at the",
    "start": "846440",
    "end": "848600"
  },
  {
    "text": "top is that protocol and then at the",
    "start": "848600",
    "end": "849839"
  },
  {
    "text": "bottom it's when you use the open SSL",
    "start": "849839",
    "end": "851519"
  },
  {
    "text": "command line tool um and so if you stare",
    "start": "851519",
    "end": "854519"
  },
  {
    "text": "at the screen L enough maybe you'll see",
    "start": "854519",
    "end": "856600"
  },
  {
    "text": "it but um so basically the first thing",
    "start": "856600",
    "end": "860399"
  },
  {
    "text": "you see is 16 FFF which is 16 is the",
    "start": "860399",
    "end": "863959"
  },
  {
    "text": "beginning of a dtls record and FFF is",
    "start": "863959",
    "end": "866680"
  },
  {
    "text": "the version of TLS so f FF means dtls",
    "start": "866680",
    "end": "870839"
  },
  {
    "text": "1.0 um so that's there in in the mystery",
    "start": "870839",
    "end": "873720"
  },
  {
    "text": "protocol but then there's a difference",
    "start": "873720",
    "end": "876560"
  },
  {
    "text": "uh as you can see which is there's a",
    "start": "876560",
    "end": "878519"
  },
  {
    "text": "bite at the very beginning d0o which",
    "start": "878519",
    "end": "881320"
  },
  {
    "text": "isn't there in like normal details",
    "start": "881320",
    "end": "884560"
  },
  {
    "text": "traffic uh and so if you spend more time",
    "start": "884560",
    "end": "886680"
  },
  {
    "text": "looking at that and also so so that",
    "start": "886680",
    "end": "889959"
  },
  {
    "start": "888000",
    "end": "888000"
  },
  {
    "text": "seems to be the only difference and if",
    "start": "889959",
    "end": "892079"
  },
  {
    "text": "you actually go ahead and remove that",
    "start": "892079",
    "end": "894399"
  },
  {
    "text": "bite uh and it turns out you can edit",
    "start": "894399",
    "end": "896600"
  },
  {
    "text": "packet race with a text editor which was",
    "start": "896600",
    "end": "898639"
  },
  {
    "text": "new to me me um so if you remove that d0",
    "start": "898639",
    "end": "902199"
  },
  {
    "text": "by uh using search and",
    "start": "902199",
    "end": "904320"
  },
  {
    "text": "replace uh then W shock is able to pass",
    "start": "904320",
    "end": "907480"
  },
  {
    "text": "um the the package trace and figure out",
    "start": "907480",
    "end": "910040"
  },
  {
    "text": "it's dtls so",
    "start": "910040",
    "end": "912160"
  },
  {
    "text": "basically the mystery protocol is dtls",
    "start": "912160",
    "end": "914519"
  },
  {
    "text": "1.0 with d0o appened to every details",
    "start": "914519",
    "end": "917959"
  },
  {
    "text": "record um and it doesn't matter the",
    "start": "917959",
    "end": "920680"
  },
  {
    "text": "which device you're using which version",
    "start": "920680",
    "end": "922240"
  },
  {
    "text": "of iOS or it's always going to be d0 uh",
    "start": "922240",
    "end": "925560"
  },
  {
    "text": "which is kind of surprising um and I",
    "start": "925560",
    "end": "927880"
  },
  {
    "text": "don't know what why it's there but um it",
    "start": "927880",
    "end": "930759"
  },
  {
    "text": "does break every TS tool ever created so",
    "start": "930759",
    "end": "934519"
  },
  {
    "text": "um kind of annoying and so and then if",
    "start": "934519",
    "end": "937680"
  },
  {
    "text": "you actually look inside the dtl stream",
    "start": "937680",
    "end": "940880"
  },
  {
    "text": "it's just a really simple PL text",
    "start": "940880",
    "end": "942519"
  },
  {
    "text": "protocol where when you send a message",
    "start": "942519",
    "end": "945120"
  },
  {
    "text": "like I was doing in a demo you just see",
    "start": "945120",
    "end": "946800"
  },
  {
    "text": "that message and the other guy P ID and",
    "start": "946800",
    "end": "949000"
  },
  {
    "text": "that's it so it's very",
    "start": "949000",
    "end": "951440"
  },
  {
    "text": "simple um and that's it so that's the",
    "start": "951440",
    "end": "954399"
  },
  {
    "text": "whole uh stack um and when you are",
    "start": "954399",
    "end": "957600"
  },
  {
    "text": "reading the documentation then mention",
    "start": "957600",
    "end": "959560"
  },
  {
    "text": "two things the discovery phase and the",
    "start": "959560",
    "end": "961800"
  },
  {
    "text": "session phase and the disc Discovery",
    "start": "961800",
    "end": "963199"
  },
  {
    "text": "phase is the first three protocols and",
    "start": "963199",
    "end": "965680"
  },
  {
    "text": "the session phase where you actually",
    "start": "965680",
    "end": "967000"
  },
  {
    "text": "change data is the last one um and",
    "start": "967000",
    "end": "970600"
  },
  {
    "text": "that's it so now I'm going to talk",
    "start": "970600",
    "end": "973279"
  },
  {
    "text": "about um how the security settings I",
    "start": "973279",
    "end": "976360"
  },
  {
    "text": "mentioned how they affect the whole flow",
    "start": "976360",
    "end": "979519"
  },
  {
    "text": "um so as I said there's three levels of",
    "start": "979519",
    "end": "982399"
  },
  {
    "text": "encryption non optional required and uh",
    "start": "982399",
    "end": "985480"
  },
  {
    "text": "authentication which can be enabled or",
    "start": "985480",
    "end": "987639"
  },
  {
    "text": "disabled uh and so when you change the",
    "start": "987639",
    "end": "991000"
  },
  {
    "text": "settings the only thing that get",
    "start": "991000",
    "end": "992360"
  },
  {
    "text": "affected is actually the last protocol",
    "start": "992360",
    "end": "995959"
  },
  {
    "text": "uh gck 2 um and so if you look at the",
    "start": "995959",
    "end": "999920"
  },
  {
    "text": "first combo I guess um so encryption",
    "start": "999920",
    "end": "1002920"
  },
  {
    "start": "1000000",
    "end": "1000000"
  },
  {
    "text": "required with",
    "start": "1002920",
    "end": "1004759"
  },
  {
    "text": "authentication what you get is so dtls",
    "start": "1004759",
    "end": "1007639"
  },
  {
    "text": "and it's using Mutual authentication so",
    "start": "1007639",
    "end": "1009519"
  },
  {
    "text": "each um each per exchange a",
    "start": "1009519",
    "end": "1012040"
  },
  {
    "text": "certificate and then uh so what's kind",
    "start": "1012040",
    "end": "1014720"
  },
  {
    "text": "of interesting is it has 30 different",
    "start": "1014720",
    "end": "1017360"
  },
  {
    "text": "Cipher suit enabled um including uh",
    "start": "1017360",
    "end": "1021079"
  },
  {
    "text": "cyers that give you perfect forward",
    "start": "1021079",
    "end": "1023039"
  },
  {
    "text": "secrecy but the problem is that perfect",
    "start": "1023039",
    "end": "1026520"
  },
  {
    "text": "forward SEC is actually never used",
    "start": "1026520",
    "end": "1028360"
  },
  {
    "text": "because in practice uh when the PE",
    "start": "1028360",
    "end": "1031199"
  },
  {
    "text": "actually choose the C they're always",
    "start": "1031199",
    "end": "1032720"
  },
  {
    "text": "going to choose the same one which is",
    "start": "1032720",
    "end": "1034400"
  },
  {
    "text": "RSA with AES which doesn't have perect",
    "start": "1034400",
    "end": "1037079"
  },
  {
    "text": "for secrecy so PFS is enabled but not",
    "start": "1037079",
    "end": "1039678"
  },
  {
    "text": "actually used um and overall they don't",
    "start": "1039679",
    "end": "1042720"
  },
  {
    "text": "really need 30 different ciphers because",
    "start": "1042720",
    "end": "1045120"
  },
  {
    "text": "the client and the server is always",
    "start": "1045120",
    "end": "1046558"
  },
  {
    "text": "going to be multiple connectivity so",
    "start": "1046559",
    "end": "1049520"
  },
  {
    "text": "it's not like you need I6 to be able to",
    "start": "1049520",
    "end": "1051640"
  },
  {
    "text": "connect to that so they could probably",
    "start": "1051640",
    "end": "1053799"
  },
  {
    "text": "reduce that to maybe two Cypher suits",
    "start": "1053799",
    "end": "1056280"
  },
  {
    "text": "but um I mean overall it's it looks",
    "start": "1056280",
    "end": "1058160"
  },
  {
    "text": "pretty good uh you have authentication",
    "start": "1058160",
    "end": "1060640"
  },
  {
    "text": "and you actually do get that with dtls",
    "start": "1060640",
    "end": "1062520"
  },
  {
    "text": "so um no surprises",
    "start": "1062520",
    "end": "1065039"
  },
  {
    "text": "there um if you look at uh encryption",
    "start": "1065039",
    "end": "1068480"
  },
  {
    "text": "required without authentication you get",
    "start": "1068480",
    "end": "1070360"
  },
  {
    "text": "dtls but these times it's using the",
    "start": "1070360",
    "end": "1072880"
  },
  {
    "text": "anonymous Cipher suits so no",
    "start": "1072880",
    "end": "1075200"
  },
  {
    "text": "certificates are exchanged that's how",
    "start": "1075200",
    "end": "1077039"
  },
  {
    "text": "the cipher suit work so of course You're",
    "start": "1077039",
    "end": "1080080"
  },
  {
    "text": "vulnerable to manyal attacks uh still no",
    "start": "1080080",
    "end": "1084000"
  },
  {
    "text": "surprises there because when you set",
    "start": "1084000",
    "end": "1086880"
  },
  {
    "text": "these settings you did specify that you",
    "start": "1086880",
    "end": "1088440"
  },
  {
    "text": "didn't want authentication So You're",
    "start": "1088440",
    "end": "1091159"
  },
  {
    "text": "vulnerable to many attacks so it's kind",
    "start": "1091159",
    "end": "1093320"
  },
  {
    "text": "of expected but it's good to know how it",
    "start": "1093320",
    "end": "1095640"
  },
  {
    "text": "actually works um then encryption none",
    "start": "1095640",
    "end": "1099320"
  },
  {
    "text": "so without authentication it's just that",
    "start": "1099320",
    "end": "1101280"
  },
  {
    "text": "plain text protocol I just briefly",
    "start": "1101280",
    "end": "1102559"
  },
  {
    "text": "mention so no",
    "start": "1102559",
    "end": "1104000"
  },
  {
    "text": "dtls um so it's plain text again no",
    "start": "1104000",
    "end": "1107559"
  },
  {
    "text": "surprises because you said you didn't",
    "start": "1107559",
    "end": "1109240"
  },
  {
    "text": "want encryption so you don't get",
    "start": "1109240",
    "end": "1111559"
  },
  {
    "text": "encryption um then with",
    "start": "1111559",
    "end": "1115440"
  },
  {
    "text": "authentication um that's going this one",
    "start": "1115440",
    "end": "1118280"
  },
  {
    "text": "is kind of interesting so you get dtls",
    "start": "1118280",
    "end": "1120440"
  },
  {
    "text": "with mutual authentification um but it's",
    "start": "1120440",
    "end": "1123039"
  },
  {
    "text": "using the null cyer suits which are s",
    "start": "1123039",
    "end": "1125960"
  },
  {
    "text": "that don't encrypt",
    "start": "1125960",
    "end": "1127360"
  },
  {
    "text": "anything um so as you can see RSA with",
    "start": "1127360",
    "end": "1130880"
  },
  {
    "text": "null sha so basically you have",
    "start": "1130880",
    "end": "1133919"
  },
  {
    "text": "authentication but all the traffic is PL",
    "start": "1133919",
    "end": "1136480"
  },
  {
    "text": "text um again that's kind of what you",
    "start": "1136480",
    "end": "1139960"
  },
  {
    "text": "asked for so no surprises there uh but",
    "start": "1139960",
    "end": "1143400"
  },
  {
    "text": "now um the more interesting ones so",
    "start": "1143400",
    "end": "1146640"
  },
  {
    "text": "encryption",
    "start": "1146640",
    "end": "1147600"
  },
  {
    "text": "optional um so the documentation says",
    "start": "1147600",
    "end": "1150400"
  },
  {
    "text": "this session prefers to use encryption",
    "start": "1150400",
    "end": "1152400"
  },
  {
    "text": "but will accept an encrypted connection",
    "start": "1152400",
    "end": "1155679"
  },
  {
    "text": "um which is kind of interesting so the",
    "start": "1155679",
    "end": "1158360"
  },
  {
    "text": "first case we um so without sorry",
    "start": "1158360",
    "end": "1162880"
  },
  {
    "text": "without authentication it's basically",
    "start": "1162880",
    "end": "1165440"
  },
  {
    "text": "doesn't matter because you don't have",
    "start": "1165440",
    "end": "1166880"
  },
  {
    "text": "authentication so you're going to be",
    "start": "1166880",
    "end": "1168000"
  },
  {
    "text": "vulnerable to many attacks anyway um but",
    "start": "1168000",
    "end": "1171760"
  },
  {
    "text": "the more interesting case is when you",
    "start": "1171760",
    "end": "1173360"
  },
  {
    "text": "have authentication and encryption",
    "start": "1173360",
    "end": "1175159"
  },
  {
    "text": "optional so as I said the documentation",
    "start": "1175159",
    "end": "1177840"
  },
  {
    "text": "says prefers to use encryption so the",
    "start": "1177840",
    "end": "1180919"
  },
  {
    "text": "Assumption there is that if you have",
    "start": "1180919",
    "end": "1182919"
  },
  {
    "text": "authentication and the the two paers",
    "start": "1182919",
    "end": "1185679"
  },
  {
    "text": "have encryption optional they're going",
    "start": "1185679",
    "end": "1187400"
  },
  {
    "text": "to actually switch to encryption",
    "start": "1187400",
    "end": "1189120"
  },
  {
    "text": "required uh and that's what this",
    "start": "1189120",
    "end": "1191039"
  },
  {
    "text": "sentence imply because they prefer to",
    "start": "1191039",
    "end": "1193640"
  },
  {
    "text": "use",
    "start": "1193640",
    "end": "1194440"
  },
  {
    "text": "encryption",
    "start": "1194440",
    "end": "1196440"
  },
  {
    "text": "um but so in reality",
    "start": "1196440",
    "end": "1199280"
  },
  {
    "text": "um so if you go back to how it all works",
    "start": "1199280",
    "end": "1202720"
  },
  {
    "text": "um and so and this diagram tries to show",
    "start": "1202720",
    "end": "1205120"
  },
  {
    "text": "you what's wrong um so you have bour and",
    "start": "1205120",
    "end": "1208760"
  },
  {
    "text": "then the exchange are security settings",
    "start": "1208760",
    "end": "1211280"
  },
  {
    "text": "and this is all before authentication",
    "start": "1211280",
    "end": "1212880"
  },
  {
    "text": "it's all pext then uh ice and then",
    "start": "1212880",
    "end": "1215960"
  },
  {
    "text": "finally the dtls uh handshake um so",
    "start": "1215960",
    "end": "1220480"
  },
  {
    "text": "there something that's kind of wrong",
    "start": "1220480",
    "end": "1222039"
  },
  {
    "text": "with that um because the security",
    "start": "1222039",
    "end": "1224200"
  },
  {
    "text": "settings are exchanged before",
    "start": "1224200",
    "end": "1225360"
  },
  {
    "text": "authentication so someone is doing a",
    "start": "1225360",
    "end": "1227960"
  },
  {
    "text": "manal attack",
    "start": "1227960",
    "end": "1229720"
  },
  {
    "text": "um what they can do is change uh these",
    "start": "1229720",
    "end": "1233480"
  },
  {
    "text": "security settings as they're being",
    "start": "1233480",
    "end": "1235280"
  },
  {
    "text": "exchanged uh and so they can basically",
    "start": "1235280",
    "end": "1237919"
  },
  {
    "text": "downgrade encryption optional to",
    "start": "1237919",
    "end": "1240360"
  },
  {
    "text": "encryption",
    "start": "1240360",
    "end": "1241480"
  },
  {
    "text": "none um and do that for the two peers",
    "start": "1241480",
    "end": "1245360"
  },
  {
    "text": "and so now each Pier thinks that the",
    "start": "1245360",
    "end": "1246720"
  },
  {
    "text": "other guy doesn't support",
    "start": "1246720",
    "end": "1248240"
  },
  {
    "text": "encryption um and so when you do that",
    "start": "1248240",
    "end": "1251960"
  },
  {
    "text": "then you get dtls with uh no",
    "start": "1251960",
    "end": "1255000"
  },
  {
    "text": "encryption um so basically the TR is",
    "start": "1255000",
    "end": "1258840"
  },
  {
    "text": "still authenticated but it's plain Tex",
    "start": "1258840",
    "end": "1260080"
  },
  {
    "text": "so you can see all the data uh you",
    "start": "1260080",
    "end": "1262240"
  },
  {
    "text": "didn't need to have a certificate to do",
    "start": "1262240",
    "end": "1264559"
  },
  {
    "text": "to impersonate anyone you didn't need",
    "start": "1264559",
    "end": "1266480"
  },
  {
    "text": "anything um and now you can see all the",
    "start": "1266480",
    "end": "1270039"
  },
  {
    "text": "traffic um and the problem here is that",
    "start": "1270039",
    "end": "1273400"
  },
  {
    "text": "what they should be doing is after",
    "start": "1273400",
    "end": "1275120"
  },
  {
    "text": "authentication they should check that",
    "start": "1275120",
    "end": "1276880"
  },
  {
    "text": "the security settings that were",
    "start": "1276880",
    "end": "1277799"
  },
  {
    "text": "exchanged at the beginning are what they",
    "start": "1277799",
    "end": "1280279"
  },
  {
    "text": "thought it was so they should make sure",
    "start": "1280279",
    "end": "1282320"
  },
  {
    "text": "oh you sent me encryption shal that's",
    "start": "1282320",
    "end": "1284960"
  },
  {
    "text": "what I received and they can confirm",
    "start": "1284960",
    "end": "1286880"
  },
  {
    "text": "that what they sent what was was what",
    "start": "1286880",
    "end": "1288880"
  },
  {
    "text": "the other guy received uh because if",
    "start": "1288880",
    "end": "1291360"
  },
  {
    "text": "that's not the case then someone changed",
    "start": "1291360",
    "end": "1292720"
  },
  {
    "text": "the settings on the way uh but they're",
    "start": "1292720",
    "end": "1294720"
  },
  {
    "text": "not doing it so so you have a downgrade",
    "start": "1294720",
    "end": "1296960"
  },
  {
    "text": "attack um and so when you do that then",
    "start": "1296960",
    "end": "1299919"
  },
  {
    "start": "1298000",
    "end": "1298000"
  },
  {
    "text": "that's what you see uh on the network so",
    "start": "1299919",
    "end": "1302440"
  },
  {
    "text": "it's dtls as you can see with the d0 17",
    "start": "1302440",
    "end": "1305440"
  },
  {
    "text": "FFF but then it's PL text so that's the",
    "start": "1305440",
    "end": "1307720"
  },
  {
    "text": "test message so that's unexpected uh",
    "start": "1307720",
    "end": "1311799"
  },
  {
    "text": "that's not what the documentation",
    "start": "1311799",
    "end": "1313480"
  },
  {
    "text": "says um and you probably shouldn't use",
    "start": "1313480",
    "end": "1315919"
  },
  {
    "text": "it um because you're available to dowr",
    "start": "1315919",
    "end": "1318960"
  },
  {
    "text": "attacks and so overall um most most of",
    "start": "1318960",
    "end": "1324440"
  },
  {
    "start": "1323000",
    "end": "1323000"
  },
  {
    "text": "the security settings they work as the",
    "start": "1324440",
    "end": "1326360"
  },
  {
    "text": "documation say says um except for the",
    "start": "1326360",
    "end": "1330400"
  },
  {
    "text": "one I just described um and even without",
    "start": "1330400",
    "end": "1334360"
  },
  {
    "text": "this one there are combination as an app",
    "start": "1334360",
    "end": "1336200"
  },
  {
    "text": "developer you shouldn't use um",
    "start": "1336200",
    "end": "1338400"
  },
  {
    "text": "encryption optional there's no good use",
    "start": "1338400",
    "end": "1340760"
  },
  {
    "text": "case for that uh because data is you",
    "start": "1340760",
    "end": "1343320"
  },
  {
    "text": "know it's sensitive or not sensitive but",
    "start": "1343320",
    "end": "1346360"
  },
  {
    "text": "it's not optionally sensitive so uh I",
    "start": "1346360",
    "end": "1349480"
  },
  {
    "text": "wouldn't use encryption optional and",
    "start": "1349480",
    "end": "1351360"
  },
  {
    "text": "then encryption none with authentication",
    "start": "1351360",
    "end": "1353159"
  },
  {
    "text": "means you're uh getting the you know the",
    "start": "1353159",
    "end": "1356120"
  },
  {
    "text": "performance hit of dtls because you have",
    "start": "1356120",
    "end": "1358640"
  },
  {
    "text": "to do all the handshake but then no",
    "start": "1358640",
    "end": "1360360"
  },
  {
    "text": "encryption so it's kind of you know kind",
    "start": "1360360",
    "end": "1362640"
  },
  {
    "text": "of a waste uh and lastly only as",
    "start": "1362640",
    "end": "1365880"
  },
  {
    "text": "expected only encryption required with",
    "start": "1365880",
    "end": "1367360"
  },
  {
    "text": "authentication is actually secure so if",
    "start": "1367360",
    "end": "1369640"
  },
  {
    "text": "you go back to that small",
    "start": "1369640",
    "end": "1372000"
  },
  {
    "text": "table uh you shouldn't use all the Dark",
    "start": "1372000",
    "end": "1374679"
  },
  {
    "text": "Cells because there's no good use case",
    "start": "1374679",
    "end": "1377200"
  },
  {
    "text": "and then um the red and the the orange",
    "start": "1377200",
    "end": "1379720"
  },
  {
    "text": "one are vulnerable but if the data is",
    "start": "1379720",
    "end": "1381159"
  },
  {
    "text": "not sensitive then it may be okay uh to",
    "start": "1381159",
    "end": "1383840"
  },
  {
    "text": "use that um there are things Apple could",
    "start": "1383840",
    "end": "1387279"
  },
  {
    "text": "do to improve the framework uh one is uh",
    "start": "1387279",
    "end": "1391440"
  },
  {
    "text": "prioritizing perfect to secrecy for when",
    "start": "1391440",
    "end": "1394279"
  },
  {
    "text": "you use encryption because they're",
    "start": "1394279",
    "end": "1395840"
  },
  {
    "text": "already enabled but not being actually",
    "start": "1395840",
    "end": "1397520"
  },
  {
    "text": "used which is uh too bad um so",
    "start": "1397520",
    "end": "1400640"
  },
  {
    "text": "prioritizing that and then for",
    "start": "1400640",
    "end": "1402159"
  },
  {
    "text": "encryption optional with authentication",
    "start": "1402159",
    "end": "1403880"
  },
  {
    "text": "which is the downgrade attack I",
    "start": "1403880",
    "end": "1405760"
  },
  {
    "text": "described so there's two options one is",
    "start": "1405760",
    "end": "1408120"
  },
  {
    "text": "they should should um I thought they",
    "start": "1408120",
    "end": "1409799"
  },
  {
    "text": "should validate the security settings as",
    "start": "1409799",
    "end": "1411799"
  },
  {
    "text": "they were exchanged validate them after",
    "start": "1411799",
    "end": "1414120"
  },
  {
    "text": "authentication to make sure again what",
    "start": "1414120",
    "end": "1416880"
  },
  {
    "text": "they received was what the other guys",
    "start": "1416880",
    "end": "1418720"
  },
  {
    "text": "sent um and if you think about it so",
    "start": "1418720",
    "end": "1421640"
  },
  {
    "text": "ssl2 has a similar issue where in ssl2",
    "start": "1421640",
    "end": "1425080"
  },
  {
    "text": "someone in the middle could uh Force",
    "start": "1425080",
    "end": "1427919"
  },
  {
    "text": "each side to pick a specific CER suit",
    "start": "1427919",
    "end": "1429880"
  },
  {
    "text": "that was weak um and in SSL in SSL 3",
    "start": "1429880",
    "end": "1434120"
  },
  {
    "text": "they fixed that by doing exactly that so",
    "start": "1434120",
    "end": "1436400"
  },
  {
    "text": "by after the authentication happened in",
    "start": "1436400",
    "end": "1438880"
  },
  {
    "text": "SSL 3 each side uh exchange a hash of",
    "start": "1438880",
    "end": "1442240"
  },
  {
    "text": "all the previous hand check messages to",
    "start": "1442240",
    "end": "1443679"
  },
  {
    "text": "make sure they saw the same thing and",
    "start": "1443679",
    "end": "1445559"
  },
  {
    "text": "that no one was trying to mess with the",
    "start": "1445559",
    "end": "1448120"
  },
  {
    "text": "traffic um and I and better I think so a",
    "start": "1448120",
    "end": "1452559"
  },
  {
    "text": "better option I think is to just remove",
    "start": "1452559",
    "end": "1454000"
  },
  {
    "text": "encryption optional because I don't",
    "start": "1454000",
    "end": "1455679"
  },
  {
    "text": "think there's a good um use case for",
    "start": "1455679",
    "end": "1457919"
  },
  {
    "text": "that um and so there are many things",
    "start": "1457919",
    "end": "1460960"
  },
  {
    "text": "that I don't have time to talk about so",
    "start": "1460960",
    "end": "1462480"
  },
  {
    "text": "I'll put more stuff on my blog and also",
    "start": "1462480",
    "end": "1465159"
  },
  {
    "text": "a tool um and that's pretty much it",
    "start": "1465159",
    "end": "1468159"
  },
  {
    "text": "thank",
    "start": "1468159",
    "end": "1470360"
  },
  {
    "text": "everyone are there any",
    "start": "1477039",
    "end": "1480600"
  },
  {
    "text": "questions yeah so the question is uh",
    "start": "1489120",
    "end": "1492120"
  },
  {
    "text": "what's the default setting so the",
    "start": "1492120",
    "end": "1493480"
  },
  {
    "text": "default setting is optional with no",
    "start": "1493480",
    "end": "1496279"
  },
  {
    "text": "authentication which is so yeah they",
    "start": "1496279",
    "end": "1498919"
  },
  {
    "text": "should remove optional no authentication",
    "start": "1498919",
    "end": "1501320"
  },
  {
    "text": "as default is kind of expected because",
    "start": "1501320",
    "end": "1503960"
  },
  {
    "text": "you have to deploy certificates in your",
    "start": "1503960",
    "end": "1505799"
  },
  {
    "text": "app so uh Apple could take care of that",
    "start": "1505799",
    "end": "1509039"
  },
  {
    "text": "honestly but uh",
    "start": "1509039",
    "end": "1513158"
  },
  {
    "text": "so uh so the question is is it used by",
    "start": "1521640",
    "end": "1524520"
  },
  {
    "text": "the hand of feature that's in iOS 8",
    "start": "1524520",
    "end": "1526360"
  },
  {
    "text": "where you can start writing an email on",
    "start": "1526360",
    "end": "1527919"
  },
  {
    "text": "your phone and then switch to your Mac",
    "start": "1527919",
    "end": "1529799"
  },
  {
    "text": "yeah uh I actually don't know so one",
    "start": "1529799",
    "end": "1532240"
  },
  {
    "text": "thing I looked at on iOS 8 was homekit",
    "start": "1532240",
    "end": "1535000"
  },
  {
    "text": "which is uh that framework to send",
    "start": "1535000",
    "end": "1537679"
  },
  {
    "text": "messages to home devices and in that",
    "start": "1537679",
    "end": "1540320"
  },
  {
    "text": "case it was not using this uh for hand",
    "start": "1540320",
    "end": "1543360"
  },
  {
    "text": "off I have no idea I haven't checked yet",
    "start": "1543360",
    "end": "1547960"
  },
  {
    "text": "yep so the question is so the question",
    "start": "1552279",
    "end": "1556200"
  },
  {
    "text": "is when Apple uses that what are the",
    "start": "1556200",
    "end": "1557880"
  },
  {
    "text": "security they're using so I don't know",
    "start": "1557880",
    "end": "1559840"
  },
  {
    "text": "anything",
    "start": "1559840",
    "end": "1561279"
  },
  {
    "text": "any uh Apple thing where it's using this",
    "start": "1561279",
    "end": "1563600"
  },
  {
    "text": "because airdrop is not using this as",
    "start": "1563600",
    "end": "1565880"
  },
  {
    "text": "opposed to what people claim that's aop",
    "start": "1565880",
    "end": "1568159"
  },
  {
    "text": "is different um so I have no example of",
    "start": "1568159",
    "end": "1571279"
  },
  {
    "text": "an Apple app that's using this",
    "start": "1571279",
    "end": "1576080"
  },
  {
    "text": "um uh so I looked at it I think they're",
    "start": "1582360",
    "end": "1585919"
  },
  {
    "text": "using the default settings uh so the",
    "start": "1585919",
    "end": "1588440"
  },
  {
    "text": "question was what fire what which",
    "start": "1588440",
    "end": "1590200"
  },
  {
    "text": "settings is fire chat using but fire",
    "start": "1590200",
    "end": "1592399"
  },
  {
    "text": "chat is not really they don't have to",
    "start": "1592399",
    "end": "1595080"
  },
  {
    "text": "care about security because it's an an",
    "start": "1595080",
    "end": "1596960"
  },
  {
    "text": "anonymous chat app so there's no need",
    "start": "1596960",
    "end": "1600039"
  },
  {
    "text": "for like strong authentication because",
    "start": "1600039",
    "end": "1601679"
  },
  {
    "text": "you don't even know who you're talking",
    "start": "1601679",
    "end": "1602799"
  },
  {
    "text": "to so um they they're",
    "start": "1602799",
    "end": "1607360"
  },
  {
    "text": "fine",
    "start": "1608919",
    "end": "1611919"
  },
  {
    "text": "yes",
    "start": "1617240",
    "end": "1620240"
  },
  {
    "text": "no so the question is what what happens",
    "start": "1621080",
    "end": "1623640"
  },
  {
    "text": "whoops when you have um encryption but",
    "start": "1623640",
    "end": "1627480"
  },
  {
    "text": "no authentication sorry authentication",
    "start": "1627480",
    "end": "1630080"
  },
  {
    "text": "but no encryption that's what you get so",
    "start": "1630080",
    "end": "1631480"
  },
  {
    "text": "it's dtls uh but it's using that no",
    "start": "1631480",
    "end": "1634200"
  },
  {
    "text": "encryption ciphers suit which no one",
    "start": "1634200",
    "end": "1636080"
  },
  {
    "text": "uses uh for good reasons and so so",
    "start": "1636080",
    "end": "1639520"
  },
  {
    "text": "that's what you get um on the network so",
    "start": "1639520",
    "end": "1642240"
  },
  {
    "text": "there's a dtls recall and inside it's PR",
    "start": "1642240",
    "end": "1644679"
  },
  {
    "text": "text so it's uh it's hmax you can't you",
    "start": "1644679",
    "end": "1647720"
  },
  {
    "text": "know modify the packets so do anything",
    "start": "1647720",
    "end": "1649520"
  },
  {
    "text": "like that",
    "start": "1649520",
    "end": "1652679"
  },
  {
    "text": "yeah um I can't really hear you",
    "start": "1662240",
    "end": "1666600"
  },
  {
    "text": "actually",
    "start": "1666600",
    "end": "1669600"
  },
  {
    "text": "okay this",
    "start": "1669880",
    "end": "1673000"
  },
  {
    "text": "one sure so uh let me go back a",
    "start": "1673000",
    "end": "1677120"
  },
  {
    "text": "bit so when you look at the",
    "start": "1677120",
    "end": "1679039"
  },
  {
    "text": "documentation there's two phases",
    "start": "1679039",
    "end": "1680760"
  },
  {
    "text": "discovery which is how you find uh",
    "start": "1680760",
    "end": "1682480"
  },
  {
    "text": "nearby devices and then session which is",
    "start": "1682480",
    "end": "1683880"
  },
  {
    "text": "how you exchange data um and so the",
    "start": "1683880",
    "end": "1687159"
  },
  {
    "text": "first three protocols here are part of",
    "start": "1687159",
    "end": "1689360"
  },
  {
    "text": "the discovery phase it's all about",
    "start": "1689360",
    "end": "1691679"
  },
  {
    "text": "finding the same app rning on different",
    "start": "1691679",
    "end": "1694159"
  },
  {
    "text": "phones around you and then exchanging",
    "start": "1694159",
    "end": "1696200"
  },
  {
    "text": "some settings to then finally uh",
    "start": "1696200",
    "end": "1699760"
  },
  {
    "text": "establish an UDP UDP stream with that",
    "start": "1699760",
    "end": "1702200"
  },
  {
    "text": "device which is uh the thing at the end",
    "start": "1702200",
    "end": "1707120"
  },
  {
    "text": "um",
    "start": "1707120",
    "end": "1710120"
  },
  {
    "text": "yes developer settings so the question",
    "start": "1715679",
    "end": "1719120"
  },
  {
    "text": "is these are all user settings so they",
    "start": "1719120",
    "end": "1720679"
  },
  {
    "text": "are settings you set when you write your",
    "start": "1720679",
    "end": "1722840"
  },
  {
    "text": "app as a developer so as a developer you",
    "start": "1722840",
    "end": "1725760"
  },
  {
    "text": "have to decide what you want to",
    "start": "1725760",
    "end": "1727919"
  },
  {
    "text": "use the user has no control on",
    "start": "1727919",
    "end": "1732320"
  },
  {
    "text": "that",
    "start": "1734000",
    "end": "1737000"
  },
  {
    "text": "m",
    "start": "1737039",
    "end": "1740039"
  },
  {
    "text": "uh so the question is is it using",
    "start": "1740120",
    "end": "1741799"
  },
  {
    "text": "Bluetooth by",
    "start": "1741799",
    "end": "1743080"
  },
  {
    "text": "default um I don't know it's so it's",
    "start": "1743080",
    "end": "1746360"
  },
  {
    "text": "going to either use Bluetooth or normal",
    "start": "1746360",
    "end": "1749440"
  },
  {
    "text": "Wi-Fi or peer-to-peer Wi-Fi which is an",
    "start": "1749440",
    "end": "1751559"
  },
  {
    "text": "apple peer-to-peer thing uh how it",
    "start": "1751559",
    "end": "1754919"
  },
  {
    "text": "decides which one to use I have no idea",
    "start": "1754919",
    "end": "1757360"
  },
  {
    "text": "I think it just tries to find the",
    "start": "1757360",
    "end": "1758919"
  },
  {
    "text": "easiest thing so I think it would go for",
    "start": "1758919",
    "end": "1760799"
  },
  {
    "text": "Bluetooth first and guessing but I",
    "start": "1760799",
    "end": "1762960"
  },
  {
    "text": "haven't really looked at Bluetooth so",
    "start": "1762960",
    "end": "1765840"
  },
  {
    "text": "um and and and you know they don't give",
    "start": "1765840",
    "end": "1768720"
  },
  {
    "text": "you the choice as a developer you cannot",
    "start": "1768720",
    "end": "1770760"
  },
  {
    "text": "say oh I want to use Bluetooth or so",
    "start": "1770760",
    "end": "1772880"
  },
  {
    "text": "it's all",
    "start": "1772880",
    "end": "1774799"
  },
  {
    "text": "transparent no no no you can't so you",
    "start": "1774799",
    "end": "1777120"
  },
  {
    "text": "just say I want to connect to nearby",
    "start": "1777120",
    "end": "1778679"
  },
  {
    "text": "devices and you don't know if it's going",
    "start": "1778679",
    "end": "1780519"
  },
  {
    "text": "to be Bluetooth or Wi-Fi",
    "start": "1780519",
    "end": "1783679"
  },
  {
    "text": "or all right all right thanks everyone",
    "start": "1786240",
    "end": "1791080"
  }
]