[
  {
    "text": "you're currently inside Mandalay Bay EF and you are here for defending past",
    "start": "199",
    "end": "5879"
  },
  {
    "text": "the hash with Seth Moore and bar siai thank you and please put your",
    "start": "5879",
    "end": "12360"
  },
  {
    "text": "phones on vibrate nobody's ringing toone is cool thanks guys go",
    "start": "12360",
    "end": "19160"
  },
  {
    "text": "ahead uh good morning we're here to talk about uh mitigations for p the hash",
    "start": "20279",
    "end": "25599"
  },
  {
    "text": "which are in Windows 10 so pass the hash is really term which",
    "start": "25599",
    "end": "31519"
  },
  {
    "text": "kind of gets applied to to multiple attacks all of which Encompass credential theft which is at the heart",
    "start": "31519",
    "end": "37640"
  },
  {
    "text": "of many high-profile attacks today A couple of years ago we had uh us",
    "start": "37640",
    "end": "43320"
  },
  {
    "text": "newspapers such as the Wall Street Journal New York Times were breached um just last year I believe Sony Pictures",
    "start": "43320",
    "end": "50039"
  },
  {
    "text": "right around the release of the interview the movie um they had a big time breach lots of lots of data dumped",
    "start": "50039",
    "end": "55920"
  },
  {
    "text": "out they didn't want external and then kind of my personal favorite um just because it's kind of a movie Heist is",
    "start": "55920",
    "end": "62680"
  },
  {
    "text": "the carbon act group and these guys made off with a billion dollars by deeply",
    "start": "62680",
    "end": "69000"
  },
  {
    "text": "infiltrating Bank networks and computers and essentially setting up time drops at ATM machines and they would just walk up",
    "start": "69000",
    "end": "76360"
  },
  {
    "text": "make a small withdrawal and actually walk off with hundreds of dollars instead of",
    "start": "76360",
    "end": "82640"
  },
  {
    "text": "$20 so all of these attacks use a feature that nobody really wants to live without in their OS and that is single",
    "start": "82640",
    "end": "89320"
  },
  {
    "text": "sign on so single sign on is effectively delegating to the operating system the",
    "start": "89320",
    "end": "95280"
  },
  {
    "text": "capability to act as you on the network to access resources no one wants to log onto the computer and then type their",
    "start": "95280",
    "end": "102119"
  },
  {
    "text": "password every time they access a file share internet site something like that they just want those things to happen",
    "start": "102119",
    "end": "108479"
  },
  {
    "text": "and that means the computer can act as you and that means attackers like the sorts who pull off",
    "start": "108479",
    "end": "113520"
  },
  {
    "text": "these heists steal those things steal credentials off the device to act as you",
    "start": "113520",
    "end": "119640"
  },
  {
    "text": "so so what does pass the hash or credential theft look like in Windows so",
    "start": "119640",
    "end": "125439"
  },
  {
    "text": "before we can really start talking about it we need to talk a little bit about what the architecture looks like and on",
    "start": "125439",
    "end": "131200"
  },
  {
    "text": "Windows um in this example we show Alice and her laptop there's something running called Elsas which is the local security",
    "start": "131200",
    "end": "138440"
  },
  {
    "text": "Authority subsystem Elsas and it hosts all the authentication protocols and",
    "start": "138440",
    "end": "143959"
  },
  {
    "text": "does a lot of security stuff in Windows and here you can see it's hosting inlm",
    "start": "143959",
    "end": "149599"
  },
  {
    "text": "and keros uh the two most commonly used protocols on",
    "start": "149599",
    "end": "155160"
  },
  {
    "text": "domains so inside the logic inside the memory of Elsas for these protocols we",
    "start": "155160",
    "end": "160680"
  },
  {
    "text": "contain things which are stealable by the attacker so an admin level attacker",
    "start": "160680",
    "end": "166200"
  },
  {
    "text": "can read any memory on the device that he wants to which means he can read your ntlm hash or we call it your",
    "start": "166200",
    "end": "173480"
  },
  {
    "text": "nwf kind of a mouthful he'll steal that and be able to authenticate his U using nlm the attack can steal your ticket",
    "start": "173480",
    "end": "180920"
  },
  {
    "text": "granting ticket key out of Kerberos which means he can act as you using the Kos protocol and if your user like Alice",
    "start": "180920",
    "end": "188599"
  },
  {
    "text": "in this example is using a password the attacker can key log that password steal",
    "start": "188599",
    "end": "193720"
  },
  {
    "text": "it out of memory or just social engineer or uh fish",
    "start": "193720",
    "end": "199680"
  },
  {
    "text": "Alice so once the attacker has one or multiple of these credentials they take",
    "start": "199680",
    "end": "204879"
  },
  {
    "text": "these and then replay them forming a sort of chain reaction so the Chain Reaction starts",
    "start": "204879",
    "end": "211560"
  },
  {
    "text": "with one system a foothold system and it could just be something like uh a front",
    "start": "211560",
    "end": "216799"
  },
  {
    "text": "desk PC that that an administrator uses and the administrator gets Social",
    "start": "216799",
    "end": "222040"
  },
  {
    "text": "engineered or something on Facebook downloads some malware and and they're popped they're",
    "start": "222040",
    "end": "228280"
  },
  {
    "text": "owned it happens that often that user is admin on their PC which means the",
    "start": "228280",
    "end": "233840"
  },
  {
    "text": "attacker or the malware can now harvest the credentials out of Els once the attacker does this they can",
    "start": "233840",
    "end": "240400"
  },
  {
    "text": "move to another system once they're on that system they attempt to gain more credentials if there's administrator",
    "start": "240400",
    "end": "246560"
  },
  {
    "text": "access and then they go to more systems and more systems Gathering more and more credentials until you're doomed right",
    "start": "246560",
    "end": "253000"
  },
  {
    "text": "they they've they've deeply infiltrated your network it's kind of a big deal so multiple Technologies exist",
    "start": "253000",
    "end": "260840"
  },
  {
    "text": "today to make credential theft more difficult so one of these is multiactor",
    "start": "260840",
    "end": "266040"
  },
  {
    "text": "off which means you you can't just steal one credential in order to completely take over someone's identity you have to",
    "start": "266040",
    "end": "272160"
  },
  {
    "text": "you have to steal multiple things such as their cell phone and a password um there's something we call",
    "start": "272160",
    "end": "278560"
  },
  {
    "text": "strong credentials which really means key based credentials where a a private key is in Hardware such as with a smart",
    "start": "278560",
    "end": "284800"
  },
  {
    "text": "card or a phto key rank um these the attacker cannot steal the private key",
    "start": "284800",
    "end": "291840"
  },
  {
    "text": "via a software attack and another solution to the problem which kind of takes a different",
    "start": "291840",
    "end": "297240"
  },
  {
    "text": "tag is called token binding which is the concept of credentials or tokens which",
    "start": "297240",
    "end": "302400"
  },
  {
    "text": "are downloaded to the device as a part of authentication are then Bound To That device cryptographically so that even if",
    "start": "302400",
    "end": "309160"
  },
  {
    "text": "the attacker steals them they can't replay them they can only be used on the original device so we have some cool",
    "start": "309160",
    "end": "316240"
  },
  {
    "text": "technology it's it's well known but we can't always deploy it",
    "start": "316240",
    "end": "322000"
  },
  {
    "text": "because businesses like to make money it's it's what they do and the core lar to that is they don't want to spend more",
    "start": "322000",
    "end": "328759"
  },
  {
    "text": "money than they have to so businesses have lots of Legacy components like a printer or a file server that only talks",
    "start": "328759",
    "end": "335840"
  },
  {
    "text": "inlm and the businesses don't see a big return on replacing those so these old",
    "start": "335840",
    "end": "341840"
  },
  {
    "text": "devices use Legacy protocols and these Legacy Protocols are vulnerable to the",
    "start": "341840",
    "end": "346960"
  },
  {
    "text": "attacks such as pass the hash so our challenge here is defending against",
    "start": "346960",
    "end": "353440"
  },
  {
    "text": "these attacks on Legacy protocols without requiring a lot of upgrading of these devices which requires keeping",
    "start": "353440",
    "end": "360600"
  },
  {
    "text": "secrets which I'll let barish talk about thank you very much SE good morning",
    "start": "360600",
    "end": "365919"
  },
  {
    "text": "everyone my name is bar Sak I am one of the leads in security Insurance team in",
    "start": "365919",
    "end": "371039"
  },
  {
    "text": "Windows uh devices and group uh this section is about keeping secrets and remaining productive keeping",
    "start": "371039",
    "end": "378720"
  },
  {
    "text": "secret is not very difficult actually uh let me share a story with you long long",
    "start": "378720",
    "end": "384440"
  },
  {
    "text": "time ago perhaps in a galaxy far far away an emperor told its Army to get get",
    "start": "384440",
    "end": "389759"
  },
  {
    "text": "ready for a big military campaign fearing information disclosure though he don't share the exact timelines or the",
    "start": "389759",
    "end": "397039"
  },
  {
    "text": "target country uh he wants to catch them off guard uh one of the generals figured",
    "start": "397039",
    "end": "402800"
  },
  {
    "text": "if he knew the details uh he could prepare his army much better he could uh",
    "start": "402800",
    "end": "408440"
  },
  {
    "text": "prepare the tactics prepare the gear uh size of the teams everything so he he",
    "start": "408440",
    "end": "414000"
  },
  {
    "text": "insisted on knowing the details he kept asking the emperor kept asking asking",
    "start": "414000",
    "end": "419280"
  },
  {
    "text": "asking King until one day Emperor called him to his presence He said Come Close",
    "start": "419280",
    "end": "425919"
  },
  {
    "text": "tell me do you know how to keep a secret General got excited said yes I do know",
    "start": "425919",
    "end": "432039"
  },
  {
    "text": "how to keep a secret the emperor responded so do I implying just leave me",
    "start": "432039",
    "end": "438120"
  },
  {
    "text": "alone so keeping secret is easy in fact all you have to do is just keep your mouth shut but that's not very",
    "start": "438120",
    "end": "445039"
  },
  {
    "text": "productive either of course the emperor wants to share the secrets with his General so that they can prepare better",
    "start": "445039",
    "end": "451560"
  },
  {
    "text": "General was right and you of course want to be able to share your secrets selectively maybe with your attorney",
    "start": "451560",
    "end": "457840"
  },
  {
    "text": "maybe with your accountant doctor just keeping the secrets to yourself is not a",
    "start": "457840",
    "end": "462919"
  },
  {
    "text": "solution so we need to be productive long gone are the days of",
    "start": "462919",
    "end": "468879"
  },
  {
    "text": "Emperors individuals who can make all kind of decisions with no oversight or",
    "start": "468879",
    "end": "474400"
  },
  {
    "text": "no real accountability modern governments today they Balance power",
    "start": "474400",
    "end": "480960"
  },
  {
    "text": "uh to ensure accountability and to prevent abuse the way they achieve that",
    "start": "480960",
    "end": "486520"
  },
  {
    "text": "is by separating powers first we have legislative power they make laws they",
    "start": "486520",
    "end": "492800"
  },
  {
    "text": "may decide we need a highway from this city that City uh which with these many",
    "start": "492800",
    "end": "498360"
  },
  {
    "text": "lanes and this kind of quality executive branch carries out the tasks uh they",
    "start": "498360",
    "end": "504720"
  },
  {
    "text": "hire the contractors to build a Highway uh they make sure that the quality is there and J Judicial System make sure",
    "start": "504720",
    "end": "512839"
  },
  {
    "text": "everyone is playing by the rules even the legislative system even the executive branch for instance they may",
    "start": "512839",
    "end": "519599"
  },
  {
    "text": "uh deny the request to build the highway if the path of the highway is going through uh tribal lands or through",
    "start": "519599",
    "end": "525480"
  },
  {
    "text": "national parks or they may uh punish the Executive Branch if they are not",
    "start": "525480",
    "end": "531040"
  },
  {
    "text": "awarding the contracts fairly it is reasonable to think of a modern operating system as a modern government",
    "start": "531040",
    "end": "538640"
  },
  {
    "text": "in this case administrators are the legislative power they can decide who runs which",
    "start": "538640",
    "end": "545160"
  },
  {
    "text": "applications with what kind of authorization kernel system Services",
    "start": "545160",
    "end": "550640"
  },
  {
    "text": "drivers are the executive power they allocate memory um they create processes",
    "start": "550640",
    "end": "557040"
  },
  {
    "text": "threads they allocate CPU cotas and they just perform those tasks arguably the",
    "start": "557040",
    "end": "563079"
  },
  {
    "text": "biggest difference of modern operating systems The Trusted Computing base which",
    "start": "563079",
    "end": "568279"
  },
  {
    "text": "prevents the Opera system from being a jungle uh make sure that everyone is playing by the rules admins and konel",
    "start": "568279",
    "end": "576720"
  },
  {
    "text": "included if we were to assume that admin equals a kernel which equals to TCB we",
    "start": "576720",
    "end": "582279"
  },
  {
    "text": "would be taking a huge risk for one administrators are humans and humans",
    "start": "582279",
    "end": "587680"
  },
  {
    "text": "make mistakes uh we may get really curious about an email we get from our",
    "start": "587680",
    "end": "592800"
  },
  {
    "text": "friend it says dancing cats. exe and we have to see those cats dance but if you",
    "start": "592800",
    "end": "598800"
  },
  {
    "text": "double click on that and if your entire mission is compromised we don't want",
    "start": "598800",
    "end": "604040"
  },
  {
    "text": "that also who says administrators can be trusted at all times they cannot be",
    "start": "604040",
    "end": "610040"
  },
  {
    "text": "humans can play fall uh think of the gaming scenarios",
    "start": "610040",
    "end": "615360"
  },
  {
    "text": "you know anti-cheating uh point of view or uh software licensing point of view or think of multi-tenant scenarios who",
    "start": "615360",
    "end": "622680"
  },
  {
    "text": "says this administrator is the only administrator on the system that may not be the case there may be other",
    "start": "622680",
    "end": "628800"
  },
  {
    "text": "administrator with certain security expectations and who says this system is",
    "start": "628800",
    "end": "634000"
  },
  {
    "text": "the only system on this Hardware there may be virtual machines um with certain",
    "start": "634000",
    "end": "639399"
  },
  {
    "text": "security expectations so it means being equal to TCB is no",
    "start": "639399",
    "end": "645000"
  },
  {
    "text": "goal kernel on the other hand one may argue is just sof fair and like humans",
    "start": "645000",
    "end": "651519"
  },
  {
    "text": "uh they don't make mistakes maybe but kernel is a big",
    "start": "651519",
    "end": "658000"
  },
  {
    "text": "attack surface and in a typical operating system there are hundreds if not thousands of system calls and I",
    "start": "658000",
    "end": "663959"
  },
  {
    "text": "octal there a huge attack surface and in most operating systems kernel is shared",
    "start": "663959",
    "end": "670079"
  },
  {
    "text": "between OS and third party drivers and these third party drivers may come from",
    "start": "670079",
    "end": "675519"
  },
  {
    "text": "uh companies with questionable security policies this is not any problem um",
    "start": "675519",
    "end": "682079"
  },
  {
    "text": "Microsoft Windows tried to Sol this in the past one of them is authentic Cod or kernel mode code signing in principle we",
    "start": "682079",
    "end": "689839"
  },
  {
    "text": "are putting reputation of an authenticated Identity On the Line I trust Microsoft Microsoft signed this",
    "start": "689839",
    "end": "696680"
  },
  {
    "text": "piece of code hence I trust this piece of code that's well in theory but in",
    "start": "696680",
    "end": "703880"
  },
  {
    "text": "practice uh strong verification of Publishers by certificate authorities is questionable at best and if one of them",
    "start": "703880",
    "end": "711560"
  },
  {
    "text": "makes a mistake revocation of the certificate is um slow and a hard",
    "start": "711560",
    "end": "716880"
  },
  {
    "text": "process so this can be the ultimate solution solution protected process PP or",
    "start": "716880",
    "end": "723560"
  },
  {
    "text": "protected process light PPL introduced in Windows vam Windows 7 uh in principle",
    "start": "723560",
    "end": "730040"
  },
  {
    "text": "protects certain user mode processes sense the processes from the rest of the user mode including the admin uh if",
    "start": "730040",
    "end": "737519"
  },
  {
    "text": "administrator tries to uh access for instance LSA asss process uh by",
    "start": "737519",
    "end": "743440"
  },
  {
    "text": "injecting threats it is blocked at the kernel or if it tries to uh read memory",
    "start": "743440",
    "end": "748839"
  },
  {
    "text": "write memory it is blocked at the kernel the problem is it all boils down to Kernel and as it just so kernel cannot",
    "start": "748839",
    "end": "756760"
  },
  {
    "text": "be the uh source of truth because of its attack surface of its complexity patch Gard was designed to",
    "start": "756760",
    "end": "763560"
  },
  {
    "text": "protect kernel itself it limits what kernel mode can do in in kernel uh",
    "start": "763560",
    "end": "770240"
  },
  {
    "text": "however it is htic based and we are playing catchup with the hackers so",
    "start": "770240",
    "end": "775720"
  },
  {
    "text": "that's not fail safe uh furthermore patch guard doesn't protect drivers from",
    "start": "775720",
    "end": "781000"
  },
  {
    "text": "other drivers listen I am proud of these Technologies these are designed and",
    "start": "781000",
    "end": "787320"
  },
  {
    "text": "developed by people smarter than I am these are good Technologies but they all have a fundamental flow they rely on",
    "start": "787320",
    "end": "794720"
  },
  {
    "text": "software we should uh root our security on something harder something firmer",
    "start": "794720",
    "end": "801600"
  },
  {
    "text": "let's take a quick look at uh Hardware in the long distance on x86 and",
    "start": "801600",
    "end": "808000"
  },
  {
    "text": "x64 uh systems they have a single address space kernel ran in ring zero",
    "start": "808000",
    "end": "815120"
  },
  {
    "text": "and ring zero had access to entire addressable physical address space so if",
    "start": "815120",
    "end": "820560"
  },
  {
    "text": "you get code execution in kernel it means that uh you have the kernel you",
    "start": "820560",
    "end": "825959"
  },
  {
    "text": "have the god mode with the hypervisor we have another abstraction layer it is similar to rings",
    "start": "825959",
    "end": "834000"
  },
  {
    "text": "but it is not implemented by the Rings there's nothing to do with the Rings uh it sits blow them that for it's also",
    "start": "834000",
    "end": "839839"
  },
  {
    "text": "known as ring minus one uh it Roots its promises on hardware and on firmware the",
    "start": "839839",
    "end": "846680"
  },
  {
    "text": "difference from ring zero is that it is very small very very very small",
    "start": "846680",
    "end": "851759"
  },
  {
    "text": "therefore it is much easier to protect and it is much easier to secure",
    "start": "851759",
    "end": "857440"
  },
  {
    "text": "therefore hypervisor and firmware that small uh simple space uh can be our true",
    "start": "857440",
    "end": "864320"
  },
  {
    "text": "trusted Computing base now we have a place to store our secret but as I",
    "start": "864320",
    "end": "870360"
  },
  {
    "text": "mentioned the only goal is not storing the secrets also being able to process",
    "start": "870360",
    "end": "876120"
  },
  {
    "text": "them to uh do something with those so we need extra codes to make something",
    "start": "876120",
    "end": "881279"
  },
  {
    "text": "intelligent with the secrets uh the problem is if implement all that c in hypervisor we are back to square one uh",
    "start": "881279",
    "end": "888959"
  },
  {
    "text": "hypervisor gets more complex it is more difficult to secure and it is becoming a",
    "start": "888959",
    "end": "894199"
  },
  {
    "text": "jungle so we don't want that how can we use use hypervisor technology but not",
    "start": "894199",
    "end": "901959"
  },
  {
    "text": "pollute hypervisor let me introduce virtual trust levels using virtualization",
    "start": "901959",
    "end": "909000"
  },
  {
    "text": "technology and second level address translation sections of memory can be uh",
    "start": "909000",
    "end": "914680"
  },
  {
    "text": "protected in a cascading fashion guest virtual can be mapped to guest physical which can be mapped to a",
    "start": "914680",
    "end": "921600"
  },
  {
    "text": "system physical that way we can have islands of memory that is access",
    "start": "921600",
    "end": "927199"
  },
  {
    "text": "protected from the rest of the system with the guarantees of hypervisor and",
    "start": "927199",
    "end": "932440"
  },
  {
    "text": "firmware this is the uh architecture we have today ring three user mode on the",
    "start": "932440",
    "end": "937880"
  },
  {
    "text": "top uh which has less access then we have ring zero uh the kernel ADV space",
    "start": "937880",
    "end": "944040"
  },
  {
    "text": "which has more uh privilege and at the bottom we have the hypervisor and the firmware that's our trusted Computing",
    "start": "944040",
    "end": "951000"
  },
  {
    "text": "base let's call this vtl zero instead of growing vertically now we can grow",
    "start": "951000",
    "end": "958040"
  },
  {
    "text": "horizontally we have all new dimension to add security",
    "start": "958040",
    "end": "963519"
  },
  {
    "text": "vt1 isolates itself selectively from the rest of the system by default the rest",
    "start": "963519",
    "end": "969600"
  },
  {
    "text": "of the system including the ring zero cannot access vt1 but vt1 selectively",
    "start": "969600",
    "end": "975639"
  },
  {
    "text": "may decide to share code or to share data Pages uh with uh",
    "start": "975639",
    "end": "981839"
  },
  {
    "text": "vt0 and the beauty of that is in the future this can be extended I'm not confirming or denying we will be doing",
    "start": "981959",
    "end": "988360"
  },
  {
    "text": "that but the flexibility is there you I'm just loving this architecture let's",
    "start": "988360",
    "end": "994279"
  },
  {
    "text": "take a bit deeper look this is our uh normal world today we have threats",
    "start": "994279",
    "end": "999720"
  },
  {
    "text": "running in processes making calls into kernel for uh executive branch support",
    "start": "999720",
    "end": "1005759"
  },
  {
    "text": "and we have H hypervisor keeping everyone in line with vt1 now we have a",
    "start": "1005759",
    "end": "1012399"
  },
  {
    "text": "parallel of that uh we have secure user mode and secure kernel mod secure kernel",
    "start": "1012399",
    "end": "1019360"
  },
  {
    "text": "and in the secure user we have threats just like in normal user those threats run in processes called translates those",
    "start": "1019360",
    "end": "1027520"
  },
  {
    "text": "translates still depend on secure kernel for uh certain things creating threads",
    "start": "1027520",
    "end": "1033240"
  },
  {
    "text": "allocating memory for instance secure kernel in turn relies on",
    "start": "1033240",
    "end": "1039400"
  },
  {
    "text": "the normal kernel I will explain the interaction in the next slide uh but we",
    "start": "1039400",
    "end": "1044438"
  },
  {
    "text": "are trying to reuse a lot of code to make the secure user and secure kernel as much as small as",
    "start": "1044439",
    "end": "1051760"
  },
  {
    "text": "possible uh in the user World normal world can talk to secure user uh using",
    "start": "1051760",
    "end": "1059200"
  },
  {
    "text": "RPC secure world is invisible it is not a new application that you will see",
    "start": "1059280",
    "end": "1065080"
  },
  {
    "text": "there's no UI no user interaction it has minimal impact on performance uh we are",
    "start": "1065080",
    "end": "1071400"
  },
  {
    "text": "expecting in fact less than 2% of it in most uh cases it has much tighter control",
    "start": "1071400",
    "end": "1079440"
  },
  {
    "text": "there's not going to be any third party code in the secure kernel it's going to be all operating system provided code",
    "start": "1079440",
    "end": "1085799"
  },
  {
    "text": "trust ns are isolated from each other so even if one of the translates get owned",
    "start": "1085799",
    "end": "1090840"
  },
  {
    "text": "it's not going to be able to inject the others uh translates will be limited in",
    "start": "1090840",
    "end": "1096360"
  },
  {
    "text": "number they will be purpose built and they will be much smaller therefore it is easier to U protect it's easier to",
    "start": "1096360",
    "end": "1105280"
  },
  {
    "text": "secure world is small is the saying secure world is even smaller the",
    "start": "1105280",
    "end": "1110320"
  },
  {
    "text": "catchphrase here is code views if there's no secure mode perhaps because your Hardware doesn't support it uh",
    "start": "1110320",
    "end": "1116840"
  },
  {
    "text": "translates can run as normal mode process code use secure World relies on",
    "start": "1116840",
    "end": "1123159"
  },
  {
    "text": "enlightened normal uh world and those for many things um scheduling most of",
    "start": "1123159",
    "end": "1128520"
  },
  {
    "text": "memory management synchronization again code ruse however there are certain",
    "start": "1128520",
    "end": "1134039"
  },
  {
    "text": "things that we do in uh secure kernel that make sure that secure kernel stays",
    "start": "1134039",
    "end": "1139440"
  },
  {
    "text": "uh secure for instance configuring slat or encrypting the pages before they are",
    "start": "1139440",
    "end": "1144720"
  },
  {
    "text": "being paged out by anos is among those tasks vt0 is not",
    "start": "1144720",
    "end": "1152080"
  },
  {
    "text": "trusted uh it's an important notion to understand uh the ring zero doesn't mean",
    "start": "1152080",
    "end": "1158520"
  },
  {
    "text": "security anymore in this uh new world vt0 is not uh trusted secure kernel",
    "start": "1158520",
    "end": "1165799"
  },
  {
    "text": "while it is depending on VTR Z it it does its job hardening against the uh",
    "start": "1165799",
    "end": "1172000"
  },
  {
    "text": "system cost and return values keeping secure Ro secure is",
    "start": "1172000",
    "end": "1179200"
  },
  {
    "text": "important and it is not entirely free hypervisor depends on firmware and",
    "start": "1179200",
    "end": "1186320"
  },
  {
    "text": "therefore firmware is still part of the trusted Computing base it is small but as we know of",
    "start": "1186320",
    "end": "1194159"
  },
  {
    "text": "course any size of uh software can have bus uh in fact Intel is presenting later",
    "start": "1194159",
    "end": "1200919"
  },
  {
    "text": "this afternoon about the implications of uh firmware uh vulnerabilities I really encourage you",
    "start": "1200919",
    "end": "1207640"
  },
  {
    "text": "guys attend that uh presentation as well so bottom line is secure bolt is secure",
    "start": "1207640",
    "end": "1214919"
  },
  {
    "text": "only if Integrity of whole TCB is maintained so I have two calls one of",
    "start": "1214919",
    "end": "1221280"
  },
  {
    "text": "them is uh call to our partners we are in this game together uh Microsoft and",
    "start": "1221280",
    "end": "1227679"
  },
  {
    "text": "Intel is partnering and we are um providing valuable tools please use",
    "start": "1227679",
    "end": "1233320"
  },
  {
    "text": "those tools please engage with us and please patch the security vulnerabilities in BIOS and other other",
    "start": "1233320",
    "end": "1239679"
  },
  {
    "text": "parts of the uh firmware timely in a timely fashion and we have call to our",
    "start": "1239679",
    "end": "1245280"
  },
  {
    "text": "customers it is very important to keep the firmware and the BIOS up to date",
    "start": "1245280",
    "end": "1250360"
  },
  {
    "text": "good news is in Windows 10 uh Windows updates can make sure that uh your",
    "start": "1250360",
    "end": "1256320"
  },
  {
    "text": "system is secure so now our emperor has a way to store the secrets and also to",
    "start": "1256320",
    "end": "1262919"
  },
  {
    "text": "intelligently process them as my dear friends it will",
    "start": "1262919",
    "end": "1268159"
  },
  {
    "text": "explain uh thanks so what I'm going to talk about here is how we can use this",
    "start": "1269840",
    "end": "1274960"
  },
  {
    "text": "new architecture uh using the hypervisor as a new essentially lower ring to secure Legacy",
    "start": "1274960",
    "end": "1281799"
  },
  {
    "text": "protocols before we can really dive into the architecture of what we've built here I need to talk about a couple of",
    "start": "1281799",
    "end": "1287799"
  },
  {
    "text": "primers uh the first one is a word on credential strength not all credentials are created equal so some credentials",
    "start": "1287799",
    "end": "1294799"
  },
  {
    "text": "such as passwords or naive cookies are extremely weak because they can be very",
    "start": "1294799",
    "end": "1301039"
  },
  {
    "text": "easily stolen uh cookies are stolen out of browser cash users are fished for their passwords or key logged very",
    "start": "1301039",
    "end": "1307720"
  },
  {
    "text": "easily so weak credentials are a problem strong credentials are credentials that",
    "start": "1307720",
    "end": "1312919"
  },
  {
    "text": "we consider theft resistant such as a smart card a smart card requires physical theft",
    "start": "1312919",
    "end": "1319279"
  },
  {
    "text": "excuse me to actually steal the card two- Factor authentication is also not necessarily as strong but strong and",
    "start": "1319279",
    "end": "1326760"
  },
  {
    "text": "this sort of leads to a law of physics of credentials which is users with weak credentials they get owned they they get",
    "start": "1326760",
    "end": "1333840"
  },
  {
    "text": "fished their passwords leak their hash gets stolen uh bad things happen so we",
    "start": "1333840",
    "end": "1340320"
  },
  {
    "text": "need to start with strong credentials that said I also feel it's important to talk a little bit about how",
    "start": "1340320",
    "end": "1346279"
  },
  {
    "text": "we do smart card off in Windows um Windows uses Kerberos a standard protocol for performing smart card",
    "start": "1346279",
    "end": "1352279"
  },
  {
    "text": "authentication Kerberos of course is the three-headed dog so it's a three-legged Authentication Protocol you have your",
    "start": "1352279",
    "end": "1358000"
  },
  {
    "text": "user in this case Alice with her smart card the KDC key distribution center",
    "start": "1358000",
    "end": "1363360"
  },
  {
    "text": "that's what you authenticate to that's the authenticating property and then some service you want to access on your network which is the file server so the",
    "start": "1363360",
    "end": "1371320"
  },
  {
    "text": "first thing that happens is Alice enters her pin the smart card is used to do some proof of possession of a key that",
    "start": "1371320",
    "end": "1378000"
  },
  {
    "text": "proof is presented as an authenticator to the KDC who hands back a ticket granting ticket or TGT and a key",
    "start": "1378000",
    "end": "1385080"
  },
  {
    "text": "associated with that TGT so the key needs to be used with the TGT and then when Alice wants to access",
    "start": "1385080",
    "end": "1391679"
  },
  {
    "text": "the file the TGT is presented to the KDC and then the KDC replies with a service",
    "start": "1391679",
    "end": "1398640"
  },
  {
    "text": "ticket and a key and then that service ticket is used to go get the files so",
    "start": "1398640",
    "end": "1404279"
  },
  {
    "text": "already we can see one thing that is going to be interesting to attackers to steal and that the TGT key because if an",
    "start": "1404279",
    "end": "1410720"
  },
  {
    "text": "attacker has that key they're you for a Time bounded about of time but I believe it's 7 Days by default in Windows it's",
    "start": "1410720",
    "end": "1417679"
  },
  {
    "text": "it's days of time which is plenty but there's more interesting stuff to steal whenever you get a",
    "start": "1417679",
    "end": "1424640"
  },
  {
    "text": "service ticket in Windows your nwf or your ntlm authentication hash that is",
    "start": "1424640",
    "end": "1431360"
  },
  {
    "text": "returned as well and that was done years ago I believe in Windows 2000 to support",
    "start": "1431360",
    "end": "1437679"
  },
  {
    "text": "backwards compa ability with inlm shares cuz nobody even then could give up their nlm so now we've we've talked about two",
    "start": "1437679",
    "end": "1445200"
  },
  {
    "text": "things in this diagram that are vulnerable to theft so how do we protect those things well this is sort of a",
    "start": "1445200",
    "end": "1452559"
  },
  {
    "text": "zoomed in version of the architecture uh barish was talking about earlier where",
    "start": "1452559",
    "end": "1457679"
  },
  {
    "text": "we have the attacker you can see that he is unable to access memory in ium or",
    "start": "1457679",
    "end": "1463159"
  },
  {
    "text": "secure world and normal World he's got free reign we're assuming he's an administrator",
    "start": "1463159",
    "end": "1469080"
  },
  {
    "text": "and and it's also important to note that all devices are in normal world there's no device IO in the secure world and",
    "start": "1469080",
    "end": "1475279"
  },
  {
    "text": "everything there sits on top of the hypervisor so in the New World um things",
    "start": "1475279",
    "end": "1481279"
  },
  {
    "text": "look similar to the old world Elsas continues to run it continues to be vulnerable it runs inside of normal",
    "start": "1481279",
    "end": "1487640"
  },
  {
    "text": "world and the vast majority of protocol logic is inside of Elsas so bite buffer",
    "start": "1487640",
    "end": "1494080"
  },
  {
    "text": "manipulation things like that what is new is credential guard uh",
    "start": "1494080",
    "end": "1500039"
  },
  {
    "text": "or cred guard for short it's a new process that runs inside of the secure environment it's very very small and it",
    "start": "1500039",
    "end": "1507760"
  },
  {
    "text": "contains protocol support logic so anything the protocol needs to do with a",
    "start": "1507760",
    "end": "1513640"
  },
  {
    "text": "secret such as your nwf or a Kerberos key that always happens inside of",
    "start": "1513640",
    "end": "1520159"
  },
  {
    "text": "credential guard that secret is never in Elsas and then Elsas uses the protocol",
    "start": "1520159",
    "end": "1526840"
  },
  {
    "text": "support logic with RPC all the secrets are only ever in the",
    "start": "1526840",
    "end": "1532440"
  },
  {
    "text": "clear in cred guard they may exist in an encrypted format in normal world so",
    "start": "1532440",
    "end": "1538320"
  },
  {
    "text": "we're assuming the attacker can steal the encrypted ones it's it's strong encryption uh 256bit AES um those",
    "start": "1538320",
    "end": "1545480"
  },
  {
    "text": "Secrets may be passed back into credential guard and used where they're in a decrypted form the attacker here",
    "start": "1545480",
    "end": "1551120"
  },
  {
    "text": "cannot access them so let's zoom in just a little bit more and look at the specific art artifacts we want to",
    "start": "1551120",
    "end": "1557240"
  },
  {
    "text": "protect so in the Old World um pre Windows 10 all these artifacts just sat",
    "start": "1557240",
    "end": "1562720"
  },
  {
    "text": "in memory waiting for someone to run mimic cats or something and slurp them out in the new world they only ever",
    "start": "1562720",
    "end": "1570039"
  },
  {
    "text": "exist in the clear in credential guard and they are protected from sniffing so",
    "start": "1570039",
    "end": "1576039"
  },
  {
    "text": "that's a pretty good first start but it's not quite enough to really mitigate",
    "start": "1576039",
    "end": "1583039"
  },
  {
    "text": "attacks as noted earlier on the prior slide devices are accessible in normal world this includes clud your USB bus",
    "start": "1583080",
    "end": "1589960"
  },
  {
    "text": "which means if you're using for example a smart card an attacker can sniff your smart card pin key log it and then use",
    "start": "1589960",
    "end": "1596960"
  },
  {
    "text": "that smart card to start the entire authentication process go get a TGT service ticket they can play the whole",
    "start": "1596960",
    "end": "1603080"
  },
  {
    "text": "game so you're still you're still owned at this point so we need something to prevent this Avenue of",
    "start": "1603080",
    "end": "1610559"
  },
  {
    "text": "attack and the way we do it is by building a promise that the secrets are",
    "start": "1610559",
    "end": "1616320"
  },
  {
    "text": "isolated since the uh attacker has Oracle access to your cred they can still pass the hash so we need to",
    "start": "1616320",
    "end": "1622919"
  },
  {
    "text": "guarantee the isolation is actually happening that it's not an attacker using your smart card and so the",
    "start": "1622919",
    "end": "1628919"
  },
  {
    "text": "solution here is actually uh an existing ietf standard RFC",
    "start": "1628919",
    "end": "1634440"
  },
  {
    "text": "6113 it's a astoundingly good bedtime reading if you can't get to sleep um",
    "start": "1634440",
    "end": "1639919"
  },
  {
    "text": "it's an existing standard we implemented I believe in 2012 R2 it's it's out there in the field and it provides something",
    "start": "1639919",
    "end": "1646600"
  },
  {
    "text": "called compound Authentication so with compound authentication you combine the user's credential with the",
    "start": "1646600",
    "end": "1653399"
  },
  {
    "text": "machine credential in order to build proof of where the user is authenticating from and so with this",
    "start": "1653399",
    "end": "1660760"
  },
  {
    "text": "proof we can build the promise that the artifacts that are returned to the client from the KDC remain",
    "start": "1660760",
    "end": "1668559"
  },
  {
    "text": "hidden so the first thing we need to do to leverage compound authenication is start with strong machine credentials so",
    "start": "1668559",
    "end": "1676399"
  },
  {
    "text": "machines in a active Direct domain have credentials just like a user they sign",
    "start": "1676399",
    "end": "1681559"
  },
  {
    "text": "on to the domain prior to 2012 R2 the only credential in machine could use was a",
    "start": "1681559",
    "end": "1687679"
  },
  {
    "text": "password it was a high entropy strong password it was not dictionary attackable but it was still stored on",
    "start": "1687679",
    "end": "1692840"
  },
  {
    "text": "the device it could be slurped at a ram it could be gathered off the hard disk not very strong so what we need to do is",
    "start": "1692840",
    "end": "1700799"
  },
  {
    "text": "use a private key which is owned inside of credential guard and that way we",
    "start": "1700799",
    "end": "1706640"
  },
  {
    "text": "prevent attack or access to the key so by combining this stronger",
    "start": "1706640",
    "end": "1712640"
  },
  {
    "text": "machine authentication with a strong credential with compounding which is provided by Kerberos fast and 2012 R2",
    "start": "1712640",
    "end": "1720360"
  },
  {
    "text": "that that level of functionality we can apply what we call an authentication policy which dictates",
    "start": "1720360",
    "end": "1728000"
  },
  {
    "text": "which systems a user is actually allowed to authenticate",
    "start": "1728000",
    "end": "1732960"
  },
  {
    "text": "from so let's talk a little bit more about exactly how this compound authentication works",
    "start": "1733559",
    "end": "1738960"
  },
  {
    "text": "so first we start with the machine ID key the machine logs onto the domain just like a user and gets a TGT and a",
    "start": "1738960",
    "end": "1745799"
  },
  {
    "text": "TGT key with that credential from the machine TGT key we",
    "start": "1745799",
    "end": "1752480"
  },
  {
    "text": "now derive what we call an armor key it's really a sort of proof of origin key that says yes I'm coming from a",
    "start": "1752480",
    "end": "1758799"
  },
  {
    "text": "system which has access to this machine TGT so our user her credential is",
    "start": "1758799",
    "end": "1765519"
  },
  {
    "text": "combined with the proof of origin in order to authenticate and using this we",
    "start": "1765519",
    "end": "1771000"
  },
  {
    "text": "get the TGT for the user so only by starting with a strong machine credential combining the users off with",
    "start": "1771000",
    "end": "1778039"
  },
  {
    "text": "that stronger machine off can we get the TGT the policy is checked at the domain",
    "start": "1778039",
    "end": "1783279"
  },
  {
    "text": "controller side since the attacker has no access to the machine ID key not even Oracle",
    "start": "1783279",
    "end": "1790159"
  },
  {
    "text": "access to this key there's no way for the attacker to even start this chain to get a",
    "start": "1790159",
    "end": "1797039"
  },
  {
    "text": "TGT so the path we have here to get to a strong user involves users using only",
    "start": "1797039",
    "end": "1802799"
  },
  {
    "text": "strong credentials the systems need to be secured and the systems need to be provisioned with a machine key not a",
    "start": "1802799",
    "end": "1809200"
  },
  {
    "text": "password because passwords are just too easily stolen and then authentication",
    "start": "1809200",
    "end": "1814279"
  },
  {
    "text": "policies need to be set up on the domain controller because that is where we really do the gatekeeping and prevent",
    "start": "1814279",
    "end": "1819559"
  },
  {
    "text": "these stealable artifacts these passable hashes and keys from being returned to the",
    "start": "1819559",
    "end": "1825360"
  },
  {
    "text": "device so the first question almost everybody asks is well I'm just going to turn it off it's on the client right",
    "start": "1825360",
    "end": "1830720"
  },
  {
    "text": "this credential guard thing so what what makes it a little more than just client trickery so let's let's just walk",
    "start": "1830720",
    "end": "1837120"
  },
  {
    "text": "through it really quickly so an attacker has taken over uh Alice's laptop now has",
    "start": "1837120",
    "end": "1844640"
  },
  {
    "text": "admin and has found a way to disable credential guard protections that's that's bad news right but if you notice",
    "start": "1844640",
    "end": "1852360"
  },
  {
    "text": "the machine identity key also goes away when credential guard goes away because the only thing that can use that key as",
    "start": "1852360",
    "end": "1858960"
  },
  {
    "text": "credential guard so now when Alice's credentials are used to request a TGT",
    "start": "1858960",
    "end": "1864559"
  },
  {
    "text": "from the domain controller the domain controller is going to check the policy see that there",
    "start": "1864559",
    "end": "1870039"
  },
  {
    "text": "is no proof of origin there's no armor on that request and say nope no way I'm not going to give you what you",
    "start": "1870039",
    "end": "1878320"
  },
  {
    "text": "want so that said we have a demo so what we have here is uhoh",
    "start": "1878399",
    "end": "1887360"
  },
  {
    "text": "we have a domain and a couple of clients all running here and so Alice is a user",
    "start": "1889000",
    "end": "1895240"
  },
  {
    "text": "on this domain with a smart card and we need to set Alice's",
    "start": "1895240",
    "end": "1900799"
  },
  {
    "text": "password so anybody have a password",
    "start": "1900799",
    "end": "1907360"
  },
  {
    "text": "idea someone yell loud passord password 123 all right that's an awesome password",
    "start": "1908519",
    "end": "1916200"
  },
  {
    "text": "there we go so we'll set her password if I can type correctly all right so now we're going",
    "start": "1916200",
    "end": "1922399"
  },
  {
    "text": "to go onto the clients and use MIM cats and try to steal the hash for this",
    "start": "1922399",
    "end": "1927600"
  },
  {
    "text": "password so first let's go to this system this system has no um this one",
    "start": "1927600",
    "end": "1933720"
  },
  {
    "text": "does not have credential guard enabled so I'm going to log in here with the virtual smart card and while that's oh that was",
    "start": "1933720",
    "end": "1943559"
  },
  {
    "text": "cool all right right and then I've got a second system here with credential guard on CU I like",
    "start": "1946639",
    "end": "1953120"
  },
  {
    "text": "T-Rexes better and I'm going to log on there to is Alice so it takes a little while to log",
    "start": "1953120",
    "end": "1960120"
  },
  {
    "text": "on when I first rehydrate the VMS but now you can see Alice is at her desktop",
    "start": "1960120",
    "end": "1965720"
  },
  {
    "text": "um we have performed the complete dance with the domain controller I now have a TGT and the nwf is on this device and as",
    "start": "1965720",
    "end": "1972519"
  },
  {
    "text": "you can tell by the the Dreadful looking wallpaper it's easily stolen so I'm",
    "start": "1972519",
    "end": "1978279"
  },
  {
    "text": "going to go be a bad guy and steal the password if I can",
    "start": "1978279",
    "end": "1986600"
  },
  {
    "text": "type so the first thing we need to do is see what Alice's hash looks like so I",
    "start": "1990320",
    "end": "1996159"
  },
  {
    "text": "just got a little tool here that will dump the md4 of the password the nwf so",
    "start": "1996159",
    "end": "2001840"
  },
  {
    "text": "here we go um A9 FD we'll just remember the first four that's good enough so",
    "start": "2001840",
    "end": "2008399"
  },
  {
    "text": "let's run trusty old MIM cats and see if we can find that",
    "start": "2008399",
    "end": "2014039"
  },
  {
    "text": "hash oh man all kinds of good stuff stumping out here so let's see it should be at the",
    "start": "2023159",
    "end": "2029799"
  },
  {
    "text": "top oh wow so here we go A9 FD that sounds",
    "start": "2029799",
    "end": "2038279"
  },
  {
    "text": "correct doesn't it so Alice you got popped you're you're done so that's no",
    "start": "2038279",
    "end": "2044960"
  },
  {
    "text": "good she should have known better because of the skull and cross bounds so let's look at this system",
    "start": "2044960",
    "end": "2050398"
  },
  {
    "text": "which is not",
    "start": "2050399",
    "end": "2053799"
  },
  {
    "text": "running so I should make it be known that uh credential guard currently is not actually supported in the RTM build",
    "start": "2057480",
    "end": "2064679"
  },
  {
    "text": "in the initial build of Windows on VMS we have some private bits here to make things work",
    "start": "2064679",
    "end": "2071679"
  },
  {
    "text": "so so let's let's log in over here let's be Alice again except this time we're on the secure system and so let's go run",
    "start": "2071679",
    "end": "2079398"
  },
  {
    "text": "mimik cats and we'll see what it dumps out of LSA",
    "start": "2079399",
    "end": "2084919"
  },
  {
    "text": "memory all right so while that's logging on so you may have noticed that is still",
    "start": "2092560",
    "end": "2098320"
  },
  {
    "text": "not in a good position because Alice is able to log on to the skull and crossbone system right she's still very",
    "start": "2098320",
    "end": "2104920"
  },
  {
    "text": "very open to attack so how do we prevent that from happening what we need to do is",
    "start": "2104920",
    "end": "2112880"
  },
  {
    "text": "use authentication policies so the authentic here you've",
    "start": "2112880",
    "end": "2119480"
  },
  {
    "text": "got an authentication policy set up with credential guard enabled so what you do with that policy",
    "start": "2119480",
    "end": "2127920"
  },
  {
    "text": "is apply it to a specific user in this case Alice so Alice's has this policy",
    "start": "2127920",
    "end": "2133040"
  },
  {
    "text": "applied to her and this policy says down below that Alice is only allowed to log",
    "start": "2133040",
    "end": "2139240"
  },
  {
    "text": "on from ium enrolled machines so she can only log in from machines which have cred guard because those are the ones we",
    "start": "2139240",
    "end": "2147599"
  },
  {
    "text": "trust so once I enable this",
    "start": "2147599",
    "end": "2152160"
  },
  {
    "text": "policy now Alice can no longer log on from the ownable",
    "start": "2154040",
    "end": "2162480"
  },
  {
    "text": "system so while that's happening let's go back over here ah this is the awesome system it's happy look at that and it it",
    "start": "2169760",
    "end": "2176400"
  },
  {
    "text": "has credential guard running so we could tell credential guard is running",
    "start": "2176400",
    "end": "2181839"
  },
  {
    "text": "because it actually shows up right here in task manager",
    "start": "2181839",
    "end": "2187280"
  },
  {
    "text": "all right so here we go credential guard it's running uh eating a little bit of memory waiting for you to authenticate",
    "start": "2196079",
    "end": "2202319"
  },
  {
    "text": "so credential guards running so let's see what MIM cat stumps out",
    "start": "2202319",
    "end": "2207040"
  },
  {
    "text": "now so let's dump out the log on passwords good old secure",
    "start": "2213079",
    "end": "2219520"
  },
  {
    "text": "LSA and once again a bunch more stuff dumped out but now you can see we're running a",
    "start": "2222640",
    "end": "2229960"
  },
  {
    "text": "um just a build off of the head of of uh mimik cats's GitHub from a few days ago",
    "start": "2229960",
    "end": "2237200"
  },
  {
    "text": "you can see that mimik cats now recognizes that gosh this is an encrypted hash um oh cool you can see it",
    "start": "2237200",
    "end": "2244359"
  },
  {
    "text": "Windows is unhappy cuz I'm running mic cats um so I'm going to ignore that toast like I",
    "start": "2244359",
    "end": "2250960"
  },
  {
    "text": "ignore most of them and say hey look there's no hash here but MIM cats recognizes that there's something",
    "start": "2250960",
    "end": "2256319"
  },
  {
    "text": "encrypted here that is very resistant to attack so now I've applied that policy",
    "start": "2256319",
    "end": "2264200"
  },
  {
    "text": "now so we can go back to the first",
    "start": "2264200",
    "end": "2271000"
  },
  {
    "text": "system so if we I can't log off M cats",
    "start": "2271400",
    "end": "2277119"
  },
  {
    "text": "so now if Alice tries to log on to a system that she is not actually authorized to log on from let's see what",
    "start": "2278560",
    "end": "2286839"
  },
  {
    "text": "happens oh no I I can't zoom this hopefully you can see it it says your account is configured to prevent you",
    "start": "2287280",
    "end": "2293079"
  },
  {
    "text": "from ACC using this computer that's what we want this computer is vulnerable to attack we want to block Alice from using",
    "start": "2293079",
    "end": "2300520"
  },
  {
    "text": "this computer and so what has happened is the domain controller has actually not sent any passable hash to this",
    "start": "2300520",
    "end": "2306520"
  },
  {
    "text": "device and it hasn't sent any keros keys that can be sted into this device at",
    "start": "2306520",
    "end": "2311920"
  },
  {
    "text": "most what the attacker has is my pen which is 1 two 3 4 the best pin ever and",
    "start": "2311920",
    "end": "2318880"
  },
  {
    "text": "access to using that smart card on this device but it's not really usable to log on from this",
    "start": "2318880",
    "end": "2325079"
  },
  {
    "text": "device so that all said I I did show you the group we're we're doing a little bit of I call it cooking show magic where I",
    "start": "2328280",
    "end": "2335400"
  },
  {
    "text": "kind of opened the oven and pulled something out there's a cake um the machines are in groups which is",
    "start": "2335400",
    "end": "2340839"
  },
  {
    "text": "kind of weak so the way we want people to actually use this is by",
    "start": "2340839",
    "end": "2347040"
  },
  {
    "text": "enrolling machines with a certificate and that certificate needs",
    "start": "2347040",
    "end": "2352440"
  },
  {
    "text": "to contain a specific",
    "start": "2352440",
    "end": "2355480"
  },
  {
    "text": "oid so as of Windows 10 the cerre tool the built-in tool now has the capability",
    "start": "2357680",
    "end": "2363359"
  },
  {
    "text": "to enroll the machine with a certificate and key so what happens is an RSA 20 48",
    "start": "2363359",
    "end": "2369319"
  },
  {
    "text": "bit key is generated and then a certificate signing request is made and the device gets a certificate that it",
    "start": "2369319",
    "end": "2375960"
  },
  {
    "text": "uses to authenticate and this certificate contains an oid and then we map that oid to the group so the proof",
    "start": "2375960",
    "end": "2383359"
  },
  {
    "text": "really comes not from the machine itself that you just trust this machine and you know it's configured right the proof",
    "start": "2383359",
    "end": "2389240"
  },
  {
    "text": "comes from only credential guard on that machine has the certificate enrolled and",
    "start": "2389240",
    "end": "2394960"
  },
  {
    "text": "it is the only thing that is able to actually get that oid and since it's the only thing that can get that oid it's",
    "start": "2394960",
    "end": "2400359"
  },
  {
    "text": "the only thing that meets the authentication policy and allows Alice to log",
    "start": "2400359",
    "end": "2406078"
  },
  {
    "text": "on uh yeah so that that pretty much wraps up the demo so I want to reiterate",
    "start": "2407920",
    "end": "2413960"
  },
  {
    "text": "we have designated steps to mitigating uh many known attacks such as running M",
    "start": "2413960",
    "end": "2419160"
  },
  {
    "text": "cats or or maybe made a sploit or something on a system and I just want to go over really quickly what these steps",
    "start": "2419160",
    "end": "2425079"
  },
  {
    "text": "are the first thing you got to do is get rid of terrible protocols like Ms chap V2 and",
    "start": "2425079",
    "end": "2430359"
  },
  {
    "text": "ntlm V1 those are really the same protocol but they're they're terrible they basically just Blast Your inlm hash",
    "start": "2430359",
    "end": "2436599"
  },
  {
    "text": "on the network with really poor encryption I think 57 bit uh Dez or",
    "start": "2436599",
    "end": "2442440"
  },
  {
    "text": "something like equivalent Dez it's very weak um users need to use strong credentials smart cards uh are good",
    "start": "2442440",
    "end": "2449960"
  },
  {
    "text": "virtual smart cards are good as well uh devices need to support imum of course there are Hardware requirements which we",
    "start": "2449960",
    "end": "2456440"
  },
  {
    "text": "have documented um Windows 10 ium support needs to be enabled the credential guard CT",
    "start": "2456440",
    "end": "2462000"
  },
  {
    "text": "everything needs to be enrolled all the documentation for the setup I've demoed here is online imminently um I was",
    "start": "2462000",
    "end": "2470359"
  },
  {
    "text": "hoping it would be online before black hat it's not there yet but you'll be able to find it at microsoft.com pth and from there you can",
    "start": "2470359",
    "end": "2478280"
  },
  {
    "text": "download the documents and set this up yourself and it's ready to be tested in uh RTM now Windows 10 download it try it",
    "start": "2478280",
    "end": "2485319"
  },
  {
    "text": "out um we'll have a little time for questions but before we get to that I",
    "start": "2485319",
    "end": "2490560"
  },
  {
    "text": "wanted to give thanks to some folks uh one is the Microsoft vssm team uh a lot",
    "start": "2490560",
    "end": "2495760"
  },
  {
    "text": "of smart colel guys a lot of Smart hypervisor Guys memory manager dudes worked really hard to make make this",
    "start": "2495760",
    "end": "2501400"
  },
  {
    "text": "platform and credential guards just something that we've developed on top of it that we run on it and I'd like to",
    "start": "2501400",
    "end": "2506920"
  },
  {
    "text": "thank uh Benjamin delpi the author of mimik cats he was super helpful and he",
    "start": "2506920",
    "end": "2512160"
  },
  {
    "text": "even updated mimic cats when Windows 10 moved some things around in memory so that it it actually recognizes as you",
    "start": "2512160",
    "end": "2518480"
  },
  {
    "text": "can tell in the demo that we've got isolation on or credential guard on so",
    "start": "2518480",
    "end": "2524040"
  },
  {
    "text": "thanks to those",
    "start": "2524040",
    "end": "2526680"
  },
  {
    "text": "guys thank you D we've got I think seven minutes",
    "start": "2529440",
    "end": "2535760"
  },
  {
    "text": "for questions do we have a mic or something or people just",
    "start": "2535760",
    "end": "2541640"
  },
  {
    "text": "shout so you talked about runtime isolation how how do you ensure that uh",
    "start": "2542119",
    "end": "2547200"
  },
  {
    "text": "machine can't be extracted offline is there some sort ofation using TPM yes if",
    "start": "2547200",
    "end": "2552680"
  },
  {
    "text": "you have a TPM the the guidance is you really need a TPM and if you've got it",
    "start": "2552680",
    "end": "2558079"
  },
  {
    "text": "the root encryption key for secrets for trets is bound inside of the TPM do you",
    "start": "2558079",
    "end": "2563559"
  },
  {
    "text": "want to repeat the question I'm sorry repeat the question oh I'm sorry if you guys didn't hear the he was asking how",
    "start": "2563559",
    "end": "2568680"
  },
  {
    "text": "do we prevent someone from just stealing the secrets such as the machine key off the device and if you have a TPM we will",
    "start": "2568680",
    "end": "2575359"
  },
  {
    "text": "we will use TPM to bind to the device",
    "start": "2575359",
    "end": "2579119"
  },
  {
    "text": "I understand that the actual keys on TPM are on the",
    "start": "2580680",
    "end": "2586880"
  },
  {
    "text": "actual and not on the ACT how do you prot Keys even though",
    "start": "2586880",
    "end": "2594880"
  },
  {
    "text": "they're okay so he's asking he says he understands that the keys themselves for TPM are actually stored on the disc and",
    "start": "2594920",
    "end": "2601319"
  },
  {
    "text": "not in the TPM my TPM fu is not super strong I think you're right um but",
    "start": "2601319",
    "end": "2607520"
  },
  {
    "text": "what's on the dis itself is actually encrypted so you you have to import the keys off the dis into the TPM and you",
    "start": "2607520",
    "end": "2613960"
  },
  {
    "text": "get a handle to that key and then that's what you use so even if you steal the",
    "start": "2613960",
    "end": "2619119"
  },
  {
    "text": "the long-term storage of the keys for the TPM keys off the dis they're",
    "start": "2619119",
    "end": "2624920"
  },
  {
    "text": "encrypted is that all",
    "start": "2624920",
    "end": "2631720"
  },
  {
    "text": "windows uh it is skew limited it's not in all builds oh he asked is it uh is cred guard and every build of windows",
    "start": "2631720",
    "end": "2639200"
  },
  {
    "text": "it's on Enterprise builds and education builds I know and I believe all server",
    "start": "2639200",
    "end": "2644599"
  },
  {
    "text": "builds the the documentation trust it when it's on the website more than me yeah don't throw rocks at me if I get",
    "start": "2644599",
    "end": "2650880"
  },
  {
    "text": "that wrong there be additional support for",
    "start": "2650880",
    "end": "2657400"
  },
  {
    "text": "virtualization so that this can be used on servers that are in a virtual",
    "start": "2657400",
    "end": "2662520"
  },
  {
    "text": "Environ uh the question is if there's going to be any sport for uh server scenario",
    "start": "2662520",
    "end": "2669040"
  },
  {
    "text": "um yes there's going to be it is",
    "start": "2669280",
    "end": "2673960"
  },
  {
    "text": "planned current that's for VSM currently for credential guard it's it's primarily a client focused uh",
    "start": "2675520",
    "end": "2683440"
  },
  {
    "text": "mitigation does the domain need to be updated in any way to support the new",
    "start": "2685240",
    "end": "2690960"
  },
  {
    "text": "pieces so that's awesome question he asked if um The Domain needs to be updated we do rely on features in 2012",
    "start": "2690960",
    "end": "2699119"
  },
  {
    "text": "R2 so um yes you do need to be new and that's newer than what many customers",
    "start": "2699119",
    "end": "2704839"
  },
  {
    "text": "are unfortunately it does not have to be Windows 10",
    "start": "2704839",
    "end": "2710760"
  },
  {
    "text": "though what's the plan for",
    "start": "2710760",
    "end": "2714559"
  },
  {
    "text": "releasing I'm sorry I didn't quite get what's the plan for releasing the hyper EVS that allow you to run",
    "start": "2719240",
    "end": "2728319"
  },
  {
    "text": "uh oh yeah the question is what is the plan for releasing the hyperv version",
    "start": "2730079",
    "end": "2735440"
  },
  {
    "text": "that lets us run credit card in a supported fashion and not like the little heck view are doing here uh it's",
    "start": "2735440",
    "end": "2741880"
  },
  {
    "text": "going to be a server",
    "start": "2741880",
    "end": "2744640"
  },
  {
    "text": "release any other questions we have to implement Microsoft",
    "start": "2748880",
    "end": "2754559"
  },
  {
    "text": "C uses oh the question is do you have to implement the Microsoft",
    "start": "2754559",
    "end": "2761040"
  },
  {
    "text": "CA um that is a good question I don't know we we rely on certificate templates",
    "start": "2761040",
    "end": "2768119"
  },
  {
    "text": "which is a a Microsoft ISM as far as I understand but I I'm not sure if you if",
    "start": "2768119",
    "end": "2773400"
  },
  {
    "text": "you want to catch me later I can follow up and find out for",
    "start": "2773400",
    "end": "2777559"
  },
  {
    "text": "you so um you mentioned an effort under way to generate better and more secure",
    "start": "2782359",
    "end": "2789720"
  },
  {
    "text": "clothes andare yes kind of confidence we have is that's actually going to have the level",
    "start": "2789720",
    "end": "2795520"
  },
  {
    "text": "of insurance you need as trust uh the question is um since all",
    "start": "2795520",
    "end": "2802319"
  },
  {
    "text": "this depends on hardware and firmware and since firmware is basically software",
    "start": "2802319",
    "end": "2807559"
  },
  {
    "text": "how much insurance we can get from this entire system that's a good question",
    "start": "2807559",
    "end": "2813000"
  },
  {
    "text": "um I have two responses to that one of them is my design firmware is much",
    "start": "2813000",
    "end": "2819079"
  },
  {
    "text": "smaller uh and therefore it is easier to protect easier to secure uh the attack",
    "start": "2819079",
    "end": "2824559"
  },
  {
    "text": "surface is incomparably smaller than anything else but the true answer is at",
    "start": "2824559",
    "end": "2830760"
  },
  {
    "text": "the end of the day it will have vulnerabilities and the ecosystem must",
    "start": "2830760",
    "end": "2835800"
  },
  {
    "text": "do its job to uh make sure that uh they are doing proper testing proper security",
    "start": "2835800",
    "end": "2841800"
  },
  {
    "text": "Assurance before releasing and after the release they should keep maintaining uh firm",
    "start": "2841800",
    "end": "2847359"
  },
  {
    "text": "and our customers must install the updates as soon as possible again the good news is in Windows 10 Windows",
    "start": "2847359",
    "end": "2853800"
  },
  {
    "text": "update will keep you secure automatically I think we have time for",
    "start": "2853800",
    "end": "2859359"
  },
  {
    "text": "maybe one or two more questions if anybody has some yeah wait will the VM support requ on",
    "start": "2859359",
    "end": "2867280"
  },
  {
    "text": "VM uh the question is will it work on VMware or does it require hyperv um I don't think so I don't know",
    "start": "2867280",
    "end": "2878119"
  },
  {
    "text": "hure yeah see that's a I'm sure it requires our hypervisor Microsoft",
    "start": "2881880",
    "end": "2889240"
  },
  {
    "text": "hypervisor anybody else or all right well thanks thanks for",
    "start": "2889240",
    "end": "2894960"
  },
  {
    "text": "coming in today and listening to us thank you everyone thank you very much [Applause]",
    "start": "2894960",
    "end": "2901340"
  }
]