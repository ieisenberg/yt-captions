[
  {
    "text": "[Music]",
    "start": "1900",
    "end": "29999"
  },
  {
    "text": "about DNS now normally when people come up here with a bunch of slides they you",
    "start": "30519",
    "end": "35680"
  },
  {
    "text": "know have a bunch of slides not some kind of strange 3D animation that I can",
    "start": "35680",
    "end": "41399"
  },
  {
    "text": "zoom around randomly what is this just some early experimentation with visualization of network traffic as uh",
    "start": "41399",
    "end": "48520"
  },
  {
    "text": "particles all of those things are actually DNS servers that are responding back to me uh in the process of my",
    "start": "48520",
    "end": "54320"
  },
  {
    "text": "investigation I don't know scanned a couple million addresses there are nice things about being the guy who wrote scanner and so anyway let me go ahead",
    "start": "54320",
    "end": "62719"
  },
  {
    "text": "and grab my slides here which are actually also written over the last",
    "start": "62719",
    "end": "67759"
  },
  {
    "text": "couple of hours not that it didn't have slides just didn't have As Nice",
    "start": "67759",
    "end": "73680"
  },
  {
    "text": "slides so Black Ops a DNS right here at the",
    "start": "73680",
    "end": "79200"
  },
  {
    "text": "black hat fre things 2004 everything every tool we're talking about here is being released today never been shown",
    "start": "79200",
    "end": "85920"
  },
  {
    "text": "before because till recently it didn't fully exist so guess what it wouldn't have been possible so what do we got",
    "start": "85920",
    "end": "92280"
  },
  {
    "text": "here who am I for those of you who haven't seen me before Dan Kaminsky I'm a senior security consultant for avia's",
    "start": "92280",
    "end": "99320"
  },
  {
    "text": "Enterprise security practice I am the author of a suite of tools that do",
    "start": "99320",
    "end": "104479"
  },
  {
    "text": "interesting things to tcpip called the and I'm always corrected on this HTO",
    "start": "104479",
    "end": "111119"
  },
  {
    "text": "kietu um it's a collection like you said I've been a speaker here this is now my",
    "start": "111119",
    "end": "116200"
  },
  {
    "text": "fourth year speaking at the black hat briefings always an absolute blast to be here um been talking about TCP and",
    "start": "116200",
    "end": "123719"
  },
  {
    "text": "historically I used to talk a bit about SSH which oddly enough is going to be coming back from more I'm a protocol",
    "start": "123719",
    "end": "130399"
  },
  {
    "text": "geek I speak try to speak the languages that are on the wire that's kind of what I've specialized in so that's who I am",
    "start": "130399",
    "end": "136760"
  },
  {
    "text": "what are we talking about here well we're talking about DNS the domain name system um DNS is basically the",
    "start": "136760",
    "end": "144879"
  },
  {
    "text": "internet's we're kind of echoing here we're basically it's basically the internet's version of a 411 but it's a",
    "start": "144879",
    "end": "152040"
  },
  {
    "text": "lot more complicated than 411 is if you imagine for a moment that you could call",
    "start": "152040",
    "end": "157280"
  },
  {
    "text": "and say hey I need the extension of Bob Jones at Cisco not just the number at Cisco but say Bob Jones at Cisco well",
    "start": "157280",
    "end": "164640"
  },
  {
    "text": "then 411 would be if if 411 was like DNS it would be able to do that um DNS is",
    "start": "164640",
    "end": "172239"
  },
  {
    "text": "globally deployed it solves a deceptively simple problem here's a small name usually like eight or eight",
    "start": "172239",
    "end": "179159"
  },
  {
    "text": "to 20 characters turn into a IP address how hard could it be believe it or not",
    "start": "179159",
    "end": "185480"
  },
  {
    "text": "it gets pretty tricky when you want to be able to support a large scale distributed architecture for updating",
    "start": "185480",
    "end": "192000"
  },
  {
    "text": "these values and if these values aren't updated you can't route just like the phone system doesn't work on Bob Jones",
    "start": "192000",
    "end": "198560"
  },
  {
    "text": "name the internet doesn't work on www.yahoo.com it runs on IP addresses so",
    "start": "198560",
    "end": "205640"
  },
  {
    "text": "DNS is the second oldest what I call uncontested protocol for what it does I mean tet's gone to SSH go for an FTP",
    "start": "205640",
    "end": "212400"
  },
  {
    "text": "have gone to http really no one's even trying to replace DNS at this point it works it works well and people let it do",
    "start": "212400",
    "end": "219360"
  },
  {
    "text": "what it wants and they don't even pay attention to it now I really started paying attention to it when Blaster",
    "start": "219360",
    "end": "224640"
  },
  {
    "text": "happened I don't know if you guys actually here I know you guys are familiar with Blaster um Blaster before",
    "start": "224640",
    "end": "232079"
  },
  {
    "text": "it would go ahead do a look up on Windows update.com and then prepare to flood it and everyone was doing these",
    "start": "232079",
    "end": "237680"
  },
  {
    "text": "scans look for the vulnerability and to you know scanning their Network traffic to see if these floods were happening",
    "start": "237680",
    "end": "243360"
  },
  {
    "text": "how about you look at your DNS server to see if anyone's looked up this one address that only the M Blaster worm",
    "start": "243360",
    "end": "248920"
  },
  {
    "text": "looked up here you have a single point of monitoring and no one was doing it so",
    "start": "248920",
    "end": "254040"
  },
  {
    "text": "I ended up putting out a oneline pearl script that TCP dumped off a remote machine and did all the parsing locally",
    "start": "254040",
    "end": "259239"
  },
  {
    "text": "and dumped it into a file all these people started using it much to my surprise so I came to the conclusion DNS",
    "start": "259239",
    "end": "265199"
  },
  {
    "text": "is interesting so what do we got we got a toolkit called uh Aussie man DNS uh",
    "start": "265199",
    "end": "271440"
  },
  {
    "text": "looking upon my packet see Mighty and despair uh it's going to be released here at black hat what do we have um",
    "start": "271440",
    "end": "279400"
  },
  {
    "text": "other thing about me I tend to name my software creatively uh we have an experimental DNS server very flexible",
    "start": "279400",
    "end": "285600"
  },
  {
    "text": "very easy to modify uh instead of name d we have nde as in G um serves basically",
    "start": "285600",
    "end": "292280"
  },
  {
    "text": "all the requests that you're going to see unless said otherwise there's actually going to be a decent amount of stuff that's coming out of bind um Dr",
    "start": "292280",
    "end": "300160"
  },
  {
    "text": "s over DNS very useful about time um pair tools for uploading and downloading",
    "start": "300160",
    "end": "305880"
  },
  {
    "text": "files over DNS askon geta if you don't get it ask your neighbor and uh an",
    "start": "305880",
    "end": "311240"
  },
  {
    "text": "interesting little hack just called glance which I'll show you later useful traits of DNS uh the DNS system is",
    "start": "311240",
    "end": "318759"
  },
  {
    "text": "hierarchical what I mean by that is in order to you start off with a list of fixed name servers that are everyone",
    "start": "318759",
    "end": "326600"
  },
  {
    "text": "uses you say well where is now where is is doc.com where is food doc.com and at",
    "start": "326600",
    "end": "333520"
  },
  {
    "text": "each point instead of giving you an answer of where you're actually looking for it gets you closer Socom tells you a",
    "start": "333520",
    "end": "339800"
  },
  {
    "text": "name server for docp par.com doc.com gives you a name server for alt. dop",
    "start": "339800",
    "end": "345319"
  },
  {
    "text": "par.com and these name servers can be anywhere so it's a recursive operation",
    "start": "345319",
    "end": "351120"
  },
  {
    "text": "you go to one thing it takes you to the next it takes you to the next this can be a lot of work so what the DNS",
    "start": "351120",
    "end": "356240"
  },
  {
    "text": "Engineers have done is they've actually created dedicated servers that do all the work of going through the name",
    "start": "356240",
    "end": "362160"
  },
  {
    "text": "servers and spending all the traffic to find out eventually what is the IP address that you're trying to receive or",
    "start": "362160",
    "end": "368520"
  },
  {
    "text": "what is the value you're trying to receive now the reason they go ahead and centralize these operations isn't merely",
    "start": "368520",
    "end": "375199"
  },
  {
    "text": "for CPU use or network use it's for storage I mean if you have a centralized",
    "start": "375199",
    "end": "381800"
  },
  {
    "text": "server that's so that's can that has all this data it can store it the concept of",
    "start": "381800",
    "end": "387319"
  },
  {
    "text": "DNS is for the most part its data is supposed to be relatively static so you put a time a Time Slice on it and hey",
    "start": "387319",
    "end": "395280"
  },
  {
    "text": "know this value can be regoton over and over and over again without making another trip through the name servers so",
    "start": "395280",
    "end": "402160"
  },
  {
    "text": "three traits hierarchical recursive lookups and caching how can we abuse them well the primary research areas for",
    "start": "402160",
    "end": "409199"
  },
  {
    "text": "DNS um 99 and 2000 were filled with exploits against bind it was a very insecure code well they actually fixed",
    "start": "409199",
    "end": "417400"
  },
  {
    "text": "it for the most part there are some small bugs but at the end of the day between the fixes and bind and the fact",
    "start": "417400",
    "end": "423319"
  },
  {
    "text": "that there is djb DNS and a number of other servers straight up exploits on DNS are no longer the nightmare they",
    "start": "423319",
    "end": "429080"
  },
  {
    "text": "used to be um another area is DNS spoofing this is where somehow you get servers to return false addresses thus",
    "start": "429080",
    "end": "436199"
  },
  {
    "text": "redirecting the traffic that would otherwise go to a nice place um DNS spoofing there's some possible stuff but",
    "start": "436199",
    "end": "443319"
  },
  {
    "text": "it isn't really the focus of my research no I'm a tunneling guy I've been a tunneling guy since the SSH days so I'm",
    "start": "443319",
    "end": "450039"
  },
  {
    "text": "going to look how you put data that's interesting in DNS now I'm not the first guy to put strange stuff in the domain",
    "start": "450039",
    "end": "456240"
  },
  {
    "text": "name system uh recently we've heard about bit torrent seeds in DNS bit torrent being the large scale file",
    "start": "456240",
    "end": "462680"
  },
  {
    "text": "distribution system that requires just a little bit of data show you where to start um there's the classic math server",
    "start": "462680",
    "end": "469280"
  },
  {
    "text": "you go to 2+ two. fu. address.com and you get in you know IP of o4 2 plus 2",
    "start": "469280",
    "end": "476199"
  },
  {
    "text": "equal 4 this violates the RFC by the way you're not allowed to have a Plus in there so I'm not the first guy I'm not",
    "start": "476199",
    "end": "481720"
  },
  {
    "text": "claiming I'm the first guy I'm just trying my hand at something new here so what are the major methods of",
    "start": "481720",
    "end": "487720"
  },
  {
    "text": "encapsulating data inside of DNS two major methods one of which is to um go",
    "start": "487720",
    "end": "494440"
  },
  {
    "text": "ahead and encapsulating what's called text records these are unformatted records that can be have pretty much any",
    "start": "494440",
    "end": "500039"
  },
  {
    "text": "textual content and you put base 64 data in there or you can do it in the actual",
    "start": "500039",
    "end": "505560"
  },
  {
    "text": "name field you know the the address you put in a web server these are restricted to 256 characters and have a very",
    "start": "505560",
    "end": "512159"
  },
  {
    "text": "restricted subset you can only have there are 63 valid characters not 64",
    "start": "512159",
    "end": "517240"
  },
  {
    "text": "which would be convenient but 63 valid characters you can have in a URL or in a domain name so fine if you look at the",
    "start": "517240",
    "end": "524519"
  },
  {
    "text": "RFC for Bas 64 there's also a base 32 and would you know it Pearl supports it because it supports",
    "start": "524519",
    "end": "530959"
  },
  {
    "text": "everything so I'm not the first person to play around with DNS tunneling there's been lots and lots of private",
    "start": "530959",
    "end": "537080"
  },
  {
    "text": "unreleased stuff out there um especially in the botn Nets and malware scene um",
    "start": "537080",
    "end": "543000"
  },
  {
    "text": "nstx is the most popular tool it actually encapsulates an Ethernet device",
    "start": "543000",
    "end": "548120"
  },
  {
    "text": "for um for Linux only and that's kind of inconvenient because often when I want",
    "start": "548120",
    "end": "554120"
  },
  {
    "text": "to go SSH over DNS which is probably too often um I'm doing it under windows so I'm",
    "start": "554120",
    "end": "561839"
  },
  {
    "text": "like okay how can I make this happen under Windows now I can do it in either T device off the top of my head let's",
    "start": "561839",
    "end": "567600"
  },
  {
    "text": "start simple um let's make something that doesn't require the kernel but still allows",
    "start": "567600",
    "end": "572880"
  },
  {
    "text": "total remote networking well couple years ago I patched SSH and gave it a",
    "start": "572880",
    "end": "578680"
  },
  {
    "text": "function called Dynamic forwarding if you can SSH to an outbound host you can route all your network traffic through",
    "start": "578680",
    "end": "585240"
  },
  {
    "text": "that connection um there's a protocol called Socks when it start a TCP session you say I want this connection to go",
    "start": "585240",
    "end": "591360"
  },
  {
    "text": "here or I want this connection to go here long story short if you can establish an SSH link you can do instant",
    "start": "591360",
    "end": "596920"
  },
  {
    "text": "messaging you can do uh web traffic you can basically do anything you can do",
    "start": "596920",
    "end": "602040"
  },
  {
    "text": "over TCP and it's inside of this nice encrypted tunnel so if I can get that to work over DNS I can do in messaging over",
    "start": "602040",
    "end": "609640"
  },
  {
    "text": "DNS and uh web browsing over DNS and it all happens in my nice encrypted tunnel",
    "start": "609640",
    "end": "615440"
  },
  {
    "text": "so it's very nice and straightforward it just solves a whole bunch of problems how do we do it well DNS is",
    "start": "615440",
    "end": "623079"
  },
  {
    "text": "many things it's uh it's not TCP TCP moves bite streams DNS moves formatted",
    "start": "623079",
    "end": "629480"
  },
  {
    "text": "records TCP well it lets either side speak first DNS no no no no no no no you",
    "start": "629480",
    "end": "635600"
  },
  {
    "text": "can make a request and then you get a response if there's another response tough luck you can't just randomly reply",
    "start": "635600",
    "end": "641639"
  },
  {
    "text": "to people and expect it to get parsed by anything and tcp's apic clean you can",
    "start": "641639",
    "end": "647200"
  },
  {
    "text": "send any btes down that link oh no no no not not DNS only a couple characters are",
    "start": "647200",
    "end": "653160"
  },
  {
    "text": "valid you know I've heard this story before I heard it with HD",
    "start": "653160",
    "end": "659760"
  },
  {
    "text": "HTP um call it mini hdtp the semantics of DNS are basically",
    "start": "659760",
    "end": "666519"
  },
  {
    "text": "very similar to what you have with HTTP everything I just said can't have all bites can't speak first all of that it's",
    "start": "666519",
    "end": "673600"
  },
  {
    "text": "just what HTTP tunnel has to deal with and for a while I was literally going to directly Port HTTP tunnel to DNS it",
    "start": "673600",
    "end": "681200"
  },
  {
    "text": "turns out there are some slight differences uh the major one being in HTTP you can have arbitrarily sized",
    "start": "681200",
    "end": "688760"
  },
  {
    "text": "responses in DNS you can't uh there's a 576 byte UDP limit for routability",
    "start": "688760",
    "end": "694800"
  },
  {
    "text": "purposes now there are some options that may increase that but they're not globally deployed and so I haven't",
    "start": "694800",
    "end": "700399"
  },
  {
    "text": "implemented them yet it's in the uh optimization phase so since DNS has similar semantics we can pull off",
    "start": "700399",
    "end": "706800"
  },
  {
    "text": "similar Feats to http tunnel and soap and all those other things that do evil things over HTTP and aha we have drout a",
    "start": "706800",
    "end": "714800"
  },
  {
    "text": "DNS stream router now different streams have different semantics Upstream as you",
    "start": "714800",
    "end": "721360"
  },
  {
    "text": "don't really need that much Upstream for most networking for most types of requests that you do you do for some um",
    "start": "721360",
    "end": "728440"
  },
  {
    "text": "you have less available Upstream because in general all you can do is make requests to arbitrary names so we have",
    "start": "728440",
    "end": "734480"
  },
  {
    "text": "our base 32 method of encoding data and names we use that for the Upstream for",
    "start": "734480",
    "end": "739560"
  },
  {
    "text": "the downstream totally different sequence of queries um we have more bandwidth we do uh text lookups and we",
    "start": "739560",
    "end": "746399"
  },
  {
    "text": "get back big batches of data if there's any avail ailable now there might not be any available the other server might not",
    "start": "746399",
    "end": "752279"
  },
  {
    "text": "have anything to say in which case it returns an empty text record now I don't want to just be flooding the other guy",
    "start": "752279",
    "end": "758680"
  },
  {
    "text": "so I Implement a simple back off if I don't receive any data in my last lookup",
    "start": "758680",
    "end": "763760"
  },
  {
    "text": "wait three times longer until my next time until some Maximum sleep delay this goes ahead and actually shockingly I",
    "start": "763760",
    "end": "770720"
  },
  {
    "text": "know efficiency and data over DNS are not things that go in the same sentence",
    "start": "770720",
    "end": "776040"
  },
  {
    "text": "but uh it's moderately efficient at least it's way more more efficient than when I was just flooding DNS servers",
    "start": "776040",
    "end": "781560"
  },
  {
    "text": "whether or not there's any data for me there so right now we're single threaded so only one packet can be outstanding at",
    "start": "781560",
    "end": "787320"
  },
  {
    "text": "a given time but this is a temporary implementation bug now I think I have",
    "start": "787320",
    "end": "793519"
  },
  {
    "text": "net and I think I'm going to try to give a demo this may not work because it's",
    "start": "793519",
    "end": "799959"
  },
  {
    "text": "wireless net quite far away from the host but we're going to try it anyway cuz Hey so SSH has function called proxy",
    "start": "799959",
    "end": "808639"
  },
  {
    "text": "command which says use this instead of a straight TCP connection to establish my",
    "start": "808639",
    "end": "813959"
  },
  {
    "text": "link proxy command equals drout oh by the way Pearl",
    "start": "813959",
    "end": "821000"
  },
  {
    "text": "packager takes any yeah no it's written in Pearl net DNS is really good but takes all the modules all the pain and",
    "start": "821000",
    "end": "826880"
  },
  {
    "text": "just compiles into an exe and it's free this is fantastic can actually give you things that work so",
    "start": "826880",
    "end": "833959"
  },
  {
    "text": "sdns alpair.com please don't mess with this server if you're out there",
    "start": "833959",
    "end": "839920"
  },
  {
    "text": "you know who you know who you are oh wait hang on I actually have to add verbosity come on",
    "start": "839920",
    "end": "847079"
  },
  {
    "text": "maybe kit set look at that now like I said it's not fast right",
    "start": "847079",
    "end": "853680"
  },
  {
    "text": "now because it's single threaded it blocks on every packet but um it gets",
    "start": "853680",
    "end": "861680"
  },
  {
    "text": "through and if I had more time might you know go ahead get into my instant messenger and all that but the codee's",
    "start": "867120",
    "end": "872680"
  },
  {
    "text": "getting released here so you'll be able to do that so Hallelujah about freaking",
    "start": "872680",
    "end": "878320"
  },
  {
    "text": "time we got one of those so SSH over DNS is so useful I I",
    "start": "878320",
    "end": "886199"
  },
  {
    "text": "wrote it it's not revolutionary it's not insane you know all these kind of nice",
    "start": "886199",
    "end": "891920"
  },
  {
    "text": "words it's just something that needed to get done finally after all these years it having it available though",
    "start": "891920",
    "end": "899160"
  },
  {
    "text": "though lets us do some really interesting work though now we get to have some fun and this isn't even in the",
    "start": "899160",
    "end": "904600"
  },
  {
    "text": "slides I talked about at a previous talk so well not really recursive",
    "start": "904600",
    "end": "910680"
  },
  {
    "text": "Redux you know how I said that you can talk to a DNS server and have it you",
    "start": "910680",
    "end": "916920"
  },
  {
    "text": "know it'll go through the hierarchy and it'll resolve some values for you there's some interesting things that",
    "start": "916920",
    "end": "922639"
  },
  {
    "text": "you can do with this DNS trusts the hierarchy to tell it where to go to next",
    "start": "922639",
    "end": "929519"
  },
  {
    "text": "um you know you Hey where's allpar.com oh it's uh at this IP and that IP",
    "start": "929519",
    "end": "935839"
  },
  {
    "text": "happens to be where I have my name server running my custom n day",
    "start": "935839",
    "end": "941319"
  },
  {
    "text": "um where the DNS server can route to you know DNS is before firewalls is before",
    "start": "941319",
    "end": "947240"
  },
  {
    "text": "the death of IP's Global addressability and DNS is a very old and ancient",
    "start": "947240",
    "end": "952600"
  },
  {
    "text": "protocol so you can talk to a DNS server and say It'll ask you oh so where's the",
    "start": "952600",
    "end": "959360"
  },
  {
    "text": "next hop I should go to you say oh yeah it's like 10155 you can't route to it you can just",
    "start": "959360",
    "end": "965120"
  },
  {
    "text": "route to the DNS server but the DNS route server can route back inside its Network this is a",
    "start": "965120",
    "end": "974000"
  },
  {
    "text": "problem so what can you do with this well first of all all you can do is get DNS traffic inside of people's networks",
    "start": "975560",
    "end": "981720"
  },
  {
    "text": "you might say oh but I've got my DMZ locked down so you know traffic can't normally come on in yeah I bet you",
    "start": "981720",
    "end": "987480"
  },
  {
    "text": "dollars to Donuts you've got port 53 open to come back in because everyone does wait wait if you don't have it open",
    "start": "987480",
    "end": "994680"
  },
  {
    "text": "don't raise your hand if you have it open don't raise your hand see how many people aren't raising their hand works great all right so um if there's",
    "start": "994680",
    "end": "1001800"
  },
  {
    "text": "anything custom on the inside some malware inside your network instead of it pulling out saying hey do you have",
    "start": "1001800",
    "end": "1007480"
  },
  {
    "text": "any attacks for me to do it just sits there and eventually maybe eventually a",
    "start": "1007480",
    "end": "1013079"
  },
  {
    "text": "attack will come to it it's an incoming path through firewalls that just hasn't",
    "start": "1013079",
    "end": "1018319"
  },
  {
    "text": "been known yet yet um so obviously you can do SSH over DNS to a machine you",
    "start": "1018319",
    "end": "1023959"
  },
  {
    "text": "can't even IP route to um past that there's potential for attacks against an",
    "start": "1023959",
    "end": "1029438"
  },
  {
    "text": "internal active directory um I have to you know this is",
    "start": "1029439",
    "end": "1034600"
  },
  {
    "text": "theoretical you know if there's an exploit against Microsoft active directory that is fully contained inside",
    "start": "1034600",
    "end": "1039760"
  },
  {
    "text": "the query name then that attack will route through an external server through the network into the active directory",
    "start": "1039760",
    "end": "1047199"
  },
  {
    "text": "it's an obscure attack it hasn't been proven yet but it's just something to point out maybe it's not the best idea",
    "start": "1047199",
    "end": "1052520"
  },
  {
    "text": "that you can do this cross routing Mission how to named ND actually",
    "start": "1052520",
    "end": "1058160"
  },
  {
    "text": "implements an echos service nice thing about being completely Dynamic you don't actually need to pre-cache things or",
    "start": "1058160",
    "end": "1064160"
  },
  {
    "text": "deal with bind helpfully refusing to implement certain things for you yeah bind will do that bind will just be like",
    "start": "1064160",
    "end": "1070240"
  },
  {
    "text": "dude you're crazy no um instead uh I have it Echo if you actually go and do a",
    "start": "1070240",
    "end": "1076880"
  },
  {
    "text": "lookup on 10155 Echo allpar.com it'll reply with a custom designed you know NS",
    "start": "1076880",
    "end": "1083720"
  },
  {
    "text": "record for NS 10155 if you go ahead and say well what's the address of this 10155 thing",
    "start": "1083720",
    "end": "1090799"
  },
  {
    "text": "it'll say hey okay I'll give you 10155 again this is just like HTTP HTTP",
    "start": "1090799",
    "end": "1096360"
  },
  {
    "text": "we realize hey we don't need to serve static HTML files we can generate them on the Fly do the same with DNS traffic",
    "start": "1096360",
    "end": "1102440"
  },
  {
    "text": "it's not that big of a deal induced recursion this is cute this",
    "start": "1102440",
    "end": "1107559"
  },
  {
    "text": "is the uh next generation attack that I'm developing um these are the slides that I just put together for your uh",
    "start": "1107559",
    "end": "1114559"
  },
  {
    "text": "viewing benefit so lots of you are going to say Dan now come on you think I'm",
    "start": "1114559",
    "end": "1119600"
  },
  {
    "text": "stupid enough to have open recursion on my DNS server no that's not going to",
    "start": "1119600",
    "end": "1124640"
  },
  {
    "text": "happen so I did some large scale DNS scans and I've been doing lots of scans for a long while and once I got",
    "start": "1124640",
    "end": "1131080"
  },
  {
    "text": "recursive DNS access got all those recursive packets coming back to me I discovered something very interesting um",
    "start": "1131080",
    "end": "1137720"
  },
  {
    "text": "a there's some very C ious people in this room hi guys uh when you do an NS look up on my IP I know so uh when",
    "start": "1137720",
    "end": "1145039"
  },
  {
    "text": "you're doing forensics be aware people can find out um the other aspect is that",
    "start": "1145039",
    "end": "1150799"
  },
  {
    "text": "uh there's a lot of devices that automatically will go ahead and do lookups on you no you just pass a packet",
    "start": "1150799",
    "end": "1157200"
  },
  {
    "text": "by them they're like hey I don't know who this person is let me get it for my logs patchy does this SSD HD does this",
    "start": "1157200",
    "end": "1164600"
  },
  {
    "text": "both after TCP is done and ids's will do it often",
    "start": "1164600",
    "end": "1169919"
  },
  {
    "text": "here's what's interesting so it tries to do the reverse lookup on your name",
    "start": "1169919",
    "end": "1176720"
  },
  {
    "text": "right you don't it comes all the way to you and says hey who is 6481",
    "start": "1177600",
    "end": "1184799"
  },
  {
    "text": "164164 you could tell them but you don't instead you tell them go to this name",
    "start": "1184799",
    "end": "1190320"
  },
  {
    "text": "server inside your network he'll know and by the way he's at his actual address is at some totally different DNS",
    "start": "1190320",
    "end": "1197000"
  },
  {
    "text": "route now why would I do that normally you actually when you forward a name server you actually need to say Hey you",
    "start": "1197000",
    "end": "1203640"
  },
  {
    "text": "know this name server is at this IP address you need to put it in the same packet needs to be in the additional if not lots of serval will just be like I'm",
    "start": "1203640",
    "end": "1210360"
  },
  {
    "text": "not doing two queries you knew the answer but if the name is in another",
    "start": "1210360",
    "end": "1215960"
  },
  {
    "text": "route how who are you to say where this name server is you know you could be lying you could be spoofing so there's",
    "start": "1215960",
    "end": "1222200"
  },
  {
    "text": "this spoof protection that says if I'm forwarded to a name server that's outside the domain that I'm searching I",
    "start": "1222200",
    "end": "1228080"
  },
  {
    "text": "will go ahead and I will go all the way through the hierarchy and go this other direction I'll start from scratch now",
    "start": "1228080",
    "end": "1234240"
  },
  {
    "text": "this is what's useful because now we've caused it to recurse to a completely new name and we have control over what IP",
    "start": "1234240",
    "end": "1239880"
  },
  {
    "text": "address it's going to try to resolve it against so arbitrary name arbitrary IP",
    "start": "1239880",
    "end": "1246200"
  },
  {
    "text": "address there's our channel in One Direction so we get to this guy inside the network it can't just straight up",
    "start": "1246200",
    "end": "1253159"
  },
  {
    "text": "reply because that's going to go back to the IDS we don't want the IDS doesn't care about this SSH data we're trying to",
    "start": "1253159",
    "end": "1259200"
  },
  {
    "text": "move so instead what we have it do is we have it do the same thing it replies with no no no I don't know the name I",
    "start": "1259200",
    "end": "1266679"
  },
  {
    "text": "don't know what that name is why don't you talk to this original guy that you were talking to I bet he knows and you",
    "start": "1266679",
    "end": "1272440"
  },
  {
    "text": "can call him this and it goes ahead and goes back and forth you get up to the recursion depth",
    "start": "1272440",
    "end": "1278400"
  },
  {
    "text": "of bind back and forth back and forth able to send arbitrary names between servers on a DNS server that isn't even",
    "start": "1278400",
    "end": "1286000"
  },
  {
    "text": "accepting recursive traffic your IDs cause it so that's my next gen",
    "start": "1286000",
    "end": "1292880"
  },
  {
    "text": "attack oh um by the way guys stop doing this uh don't don't just log the string",
    "start": "1294960",
    "end": "1301360"
  },
  {
    "text": "that comes back out of reverse DNS I I feel foolish even mentioning this but um",
    "start": "1301360",
    "end": "1308240"
  },
  {
    "text": "yeah I could put anything in my DNS name for my reverse lookup like 1271 was up",
    "start": "1308240",
    "end": "1314320"
  },
  {
    "text": "for about 2 minutes earlier today so um you've got your logs that are either",
    "start": "1314320",
    "end": "1319520"
  },
  {
    "text": "like if I got a name back print the name if I didn't print the number okay I will",
    "start": "1319520",
    "end": "1324720"
  },
  {
    "text": "print an arbitrary name or number and you will put that in your logs moral of the story save",
    "start": "1324720",
    "end": "1331320"
  },
  {
    "text": "both and if you're a software developer I'm probably talking to you more risks of open recursion um",
    "start": "1331320",
    "end": "1340000"
  },
  {
    "text": "widespread recursion I'm kind of giving it somehow but it actually isn't that bad a thing DNS Works shockingly",
    "start": "1340000",
    "end": "1347360"
  },
  {
    "text": "considering the scale of it part of it is the fact that you can arbitrarily find new servers to go after on demand",
    "start": "1347360",
    "end": "1354480"
  },
  {
    "text": "um It's relatively low bandwidth this is part of the reason the system has survived one of the interesting things by the way is um we don't always know",
    "start": "1354480",
    "end": "1361480"
  },
  {
    "text": "why systems work we just see that they do one of the reasons it works is this widespread recursion um kind of a",
    "start": "1361480",
    "end": "1368520"
  },
  {
    "text": "challenge that was brought up I don't want to actually put up a name server or I don't want to modify my name server",
    "start": "1368520",
    "end": "1374480"
  },
  {
    "text": "but I still want to exchange data with someone is it possible that I could put data and someone's DNS server and it",
    "start": "1374480",
    "end": "1380480"
  },
  {
    "text": "would just be there like well what with queries DNS servers they they store",
    "start": "1380480",
    "end": "1386480"
  },
  {
    "text": "queries but they don't like randomly give you know hand out their cash to people so how would you do it well",
    "start": "1386480",
    "end": "1392880"
  },
  {
    "text": "they're like there must be a way so I'm like you're right there must be there is a way it's just really really",
    "start": "1392880",
    "end": "1398600"
  },
  {
    "text": "slow DNS is Rec DNS servers can recurse they can go through the",
    "start": "1398600",
    "end": "1404679"
  },
  {
    "text": "hierarchy but they don't necessarily have to in fact the client you can request that they not now here's how",
    "start": "1404679",
    "end": "1412360"
  },
  {
    "text": "this is useful I go to a random server and I say hey give me docs.com and it",
    "start": "1412360",
    "end": "1417400"
  },
  {
    "text": "goes ahead and looks it up I say hey give me doc.com but don't recurse it has it in his cash so it",
    "start": "1417400",
    "end": "1423559"
  },
  {
    "text": "still gives it to me now I say give me cnn.com and it doesn't have it in its cach and I said it don't recurse it says",
    "start": "1423559",
    "end": "1429600"
  },
  {
    "text": "I don't know and you told me not to look it up there's a difference there there's a state change that happened when I did",
    "start": "1429600",
    "end": "1436320"
  },
  {
    "text": "the open recursion okay look up against the server it actually got some value got",
    "start": "1436320",
    "end": "1443159"
  },
  {
    "text": "some data for docs.com and it stored that it's an it's a externally visible",
    "start": "1443159",
    "end": "1449520"
  },
  {
    "text": "State change it's a single bit of information the server knows where doc.com is it doesn't know where CNN.com",
    "start": "1449520",
    "end": "1457200"
  },
  {
    "text": "is that's a bit zero we can actually use that to transmit data one bit at a time",
    "start": "1457200",
    "end": "1464360"
  },
  {
    "text": "per packet so how do you do it I'm totally going to",
    "start": "1464360",
    "end": "1471480"
  },
  {
    "text": "demo this is rad uh split your message into bits do lookups for you know have a",
    "start": "1471480",
    "end": "1477159"
  },
  {
    "text": "little start bit and do lookups against each bit that's a one and do those recursively",
    "start": "1477159",
    "end": "1482919"
  },
  {
    "text": "that's your sending receiving all you do is you look up across the entire range if it's got an answer it's a one if it's",
    "start": "1482919",
    "end": "1488279"
  },
  {
    "text": "no answer it's a zero see how it works I can't believe I actually have",
    "start": "1488279",
    "end": "1494559"
  },
  {
    "text": "net during this talk this is such a trip okay so we're going to ask so ask a",
    "start": "1494559",
    "end": "1500799"
  },
  {
    "text": "stupid question mode bit",
    "start": "1500799",
    "end": "1506200"
  },
  {
    "text": "recurse oh I actually have to edit do a message Echo hello black",
    "start": "1506200",
    "end": "1513840"
  },
  {
    "text": "hat let's specify a server 4221 oh did I say it all had to be on one server",
    "start": "1516120",
    "end": "1521559"
  },
  {
    "text": "because it totally doesn't you put some bits over here some bits over there as long as the sender and the receiver are going after the same server no problem",
    "start": "1521559",
    "end": "1529559"
  },
  {
    "text": "so you know go ahead we'll do it off of one server just for paranoia reasons don't push my luck uh and I think that's",
    "start": "1529559",
    "end": "1539320"
  },
  {
    "text": "it oh no no no I actually need to look up something name FU or data dob.com it",
    "start": "1539320",
    "end": "1546840"
  },
  {
    "text": "just needs to be a wild card DNS address there's nothing special about that you know I don't know if that",
    "start": "1546840",
    "end": "1553320"
  },
  {
    "text": "worked maybe I need to do a dash I don't think it's going to work",
    "start": "1553320",
    "end": "1559919"
  },
  {
    "text": "this is probably not going to work but I'm going to try it",
    "start": "1560480",
    "end": "1564240"
  },
  {
    "text": "anyway nah n it's gone oh well trust me it works it's really funny though cu the",
    "start": "1566200",
    "end": "1573240"
  },
  {
    "text": "characters come like h e l l o you get about a bite a second but hey you know",
    "start": "1573240",
    "end": "1581120"
  },
  {
    "text": "it can be bir directional just both sides go ahead and say I'll use this channel use that channel uh a little bit",
    "start": "1581120",
    "end": "1587200"
  },
  {
    "text": "of perspective the raw IP address is 32 bits so that's like four bytes so it",
    "start": "1587200",
    "end": "1592320"
  },
  {
    "text": "takes like 4 seconds to even exchange where you would potentially be going um",
    "start": "1592320",
    "end": "1598600"
  },
  {
    "text": "this is a general purpose rule anything can be changed any you can always send a bit this is a general rule in the",
    "start": "1598600",
    "end": "1603640"
  },
  {
    "text": "intelligence world uh you can CH exchange data over web counters over IP ID counters and IP Stacks Paul reveres",
    "start": "1603640",
    "end": "1610840"
  },
  {
    "text": "lamps in the tower and in history I mean the British are coming came over a couple you know lamps in the tower at",
    "start": "1610840",
    "end": "1617000"
  },
  {
    "text": "the end of the day so single bit Transit is not that big of a deal the only thing that's kind of neat",
    "start": "1617000",
    "end": "1623360"
  },
  {
    "text": "is the sender can be totally anonymous because the sender can spoof his IP address because DNS doesn't actually",
    "start": "1623360",
    "end": "1628960"
  },
  {
    "text": "need a full session to start up so you can have Anonymous deposition of data it gets stored in the caches for however",
    "start": "1628960",
    "end": "1635399"
  },
  {
    "text": "long the Wild Card entry is cached and there you go this is",
    "start": "1635399",
    "end": "1641679"
  },
  {
    "text": "cool let's let's try to get s a little bit more data couple days ago I'm reading slash",
    "start": "1641679",
    "end": "1647799"
  },
  {
    "text": "do right and big story RSS is overloading the internet there's all these heavyweight HTTP queries you know",
    "start": "1647799",
    "end": "1656159"
  },
  {
    "text": "there's someone who did some like other protocols like HTTP heavyweight and then like dies of laughter um but yeah",
    "start": "1656159",
    "end": "1662840"
  },
  {
    "text": "apparently every hour on the hour a bunch of news readers will go ahead and they just request and request it looks",
    "start": "1662840",
    "end": "1668679"
  },
  {
    "text": "like a Dos a bunch of requests for the same file every hour on the hour apparently you can write an RSS reader",
    "start": "1668679",
    "end": "1674039"
  },
  {
    "text": "but you can't do a Rand function for time okay well they're they're they're interested",
    "start": "1674039",
    "end": "1680200"
  },
  {
    "text": "in data only if it's new they either check the last modified value in the HTTP header or they see if it's been if",
    "start": "1680200",
    "end": "1685799"
  },
  {
    "text": "modified sense so I'm like okay fine I'll put last modified in a DNS text record you know what's the big problem",
    "start": "1685799",
    "end": "1692519"
  },
  {
    "text": "I'm like well if they couldn't if they couldn't go ahead and uh manage the random offset they're going to link in a",
    "start": "1692519",
    "end": "1699880"
  },
  {
    "text": "a resolver library looking up text records is actually a gigantic pain um",
    "start": "1699880",
    "end": "1705320"
  },
  {
    "text": "all that's easy is get host by name it's easy to get a and it's easy it's easy to get addresses and it's easy to get",
    "start": "1705320",
    "end": "1711200"
  },
  {
    "text": "canonical names I'm like wait wait wa wait last modifi is a time right well",
    "start": "1711200",
    "end": "1717320"
  },
  {
    "text": "time has this funny thing it's kind of represented as a 32-bit integer since",
    "start": "1717320",
    "end": "1722679"
  },
  {
    "text": "1973 you know what else is 32 bits I'll give you a hint DNS moves a lot of these",
    "start": "1722679",
    "end": "1728480"
  },
  {
    "text": "oh yeah IP addresses they're 32 bits so um if you go to uh last uh it's actually",
    "start": "1728480",
    "end": "1735480"
  },
  {
    "text": "not last mon it's called glance if you go to w W wline CNN underline com. glans allpar.com and look it up what you get",
    "start": "1735480",
    "end": "1742960"
  },
  {
    "text": "back is in little endian form an IP address that corresponds to the time at which CNN was updated uh glance is an",
    "start": "1742960",
    "end": "1750039"
  },
  {
    "text": "incredibly simple application the key lines of code are basically get host by",
    "start": "1750039",
    "end": "1755720"
  },
  {
    "text": "name and cast it as a time value and you're done so if you can do two lines",
    "start": "1755720",
    "end": "1760919"
  },
  {
    "text": "of C you can find out if a page has been updated over DNS and guess what this caches in fact there's also an optional",
    "start": "1760919",
    "end": "1768120"
  },
  {
    "text": "value called expires which says how long a proxy should store data okay I know what the system date is",
    "start": "1768120",
    "end": "1775240"
  },
  {
    "text": "from the date field I know when it wants the data to go away there's a certain amount of seconds there I said that is",
    "start": "1775240",
    "end": "1780279"
  },
  {
    "text": "the TTL value of the time so it won't even you know you can actually control",
    "start": "1780279",
    "end": "1786640"
  },
  {
    "text": "at the end points how long it'll keep uh this value this is kind of a neat hack",
    "start": "1786640",
    "end": "1792120"
  },
  {
    "text": "what time is it 34 all right domain cast I'm totally going to get net up because",
    "start": "1792120",
    "end": "1797559"
  },
  {
    "text": "there's a demo I have to do not this one though so you actually want to move more",
    "start": "1797559",
    "end": "1803519"
  },
  {
    "text": "than a couple bits over DNS and you're tired of me saying hey we can get a k here A K there can we actually get some",
    "start": "1803519",
    "end": "1810559"
  },
  {
    "text": "real data moves some real speed some real file sizes yeah oh not against one",
    "start": "1810559",
    "end": "1816519"
  },
  {
    "text": "server but you know there's like 160,000 servers on 64 dot maybe just maybe we",
    "start": "1816519",
    "end": "1822480"
  },
  {
    "text": "can distribute the load so check this out normally in DNS you talk to your own",
    "start": "1822480",
    "end": "1828000"
  },
  {
    "text": "server it recurses it goes ahead and finds out the official canonical value",
    "start": "1828000",
    "end": "1833519"
  },
  {
    "text": "for whatever you're looking up and that's great and that's wonderful but that's not what we want here no no no no",
    "start": "1833519",
    "end": "1839840"
  },
  {
    "text": "no I'm a sender I have some CDs worth of data I take it and I split it across",
    "start": "1839840",
    "end": "1845799"
  },
  {
    "text": "lots and lots of servers and I put individual chunks on each of these servers so no individual server is",
    "start": "1845799",
    "end": "1851200"
  },
  {
    "text": "having lots of huge data okay now I actually provide the list of what",
    "start": "1851200",
    "end": "1857320"
  },
  {
    "text": "servers have chunks to the user maybe over the same system and uh they just go",
    "start": "1857320",
    "end": "1863279"
  },
  {
    "text": "out to the servers themselves and they pick it up themselves so there is no canonical server you go to I mean you",
    "start": "1863279",
    "end": "1868960"
  },
  {
    "text": "you don't go to your own DNS server you as a client go to DNS servers themselves they have your chunks of data cached how",
    "start": "1868960",
    "end": "1875039"
  },
  {
    "text": "do the numbers work out well 20K a server that's not too much to ask um",
    "start": "1875039",
    "end": "1880440"
  },
  {
    "text": "okay clarification it is too much to ask it's you know don't try this at home kids um but I mean I'm just showing off",
    "start": "1880440",
    "end": "1887559"
  },
  {
    "text": "this is possible um capacity 20K a server spreads about about 80 records",
    "start": "1887559",
    "end": "1893320"
  },
  {
    "text": "it's less than 256 bytes you actually have only about 220 bytes of storage in a reasonably sized Tex text record um",
    "start": "1893320",
    "end": "1900760"
  },
  {
    "text": "we'll fudge that for the moment though 700 megabytes is what KNIX is that's",
    "start": "1900760",
    "end": "1906399"
  },
  {
    "text": "35,000 servers required but there's 140,000 on 64 dot that's what you were",
    "start": "1906399",
    "end": "1912159"
  },
  {
    "text": "looking at when I began my talk all of those dots was a server all of those dots could hold 20K data so how fast can",
    "start": "1912159",
    "end": "1920120"
  },
  {
    "text": "we pull the data off well you know we're not going to um we're not going to get",
    "start": "1920120",
    "end": "1925679"
  },
  {
    "text": "more than a couple k a second off an individual server bind has a great little thing where it just um dies if",
    "start": "1925679",
    "end": "1931480"
  },
  {
    "text": "you not the server doesn't die it'll just stop responding to you for a while if you hit it too many times but you",
    "start": "1931480",
    "end": "1937000"
  },
  {
    "text": "know what if you got 35,000 bind servers you got 35,000 qes to overfill so 1K a",
    "start": "1937000",
    "end": "1943399"
  },
  {
    "text": "second times 35,000 is a lot of speed now granted you're not going to get full",
    "start": "1943399",
    "end": "1948799"
  },
  {
    "text": "efficiency DNS is terribly inefficient we're doing b64 yada yada yada I don't",
    "start": "1948799",
    "end": "1953919"
  },
  {
    "text": "care we're not getting 1K a second reliability wise caches aren't determinant they can drop at any time so",
    "start": "1953919",
    "end": "1960679"
  },
  {
    "text": "what so we use a secret splitting mechanism so we make it so you just need you know 50,000 out of 60,000 blocks and",
    "start": "1960679",
    "end": "1967399"
  },
  {
    "text": "you can reconstruct the file um how do you go ahead and I used",
    "start": "1967399",
    "end": "1973240"
  },
  {
    "text": "to have this hugely complex system for Distributing the list dynamically you look in the in the data and it would",
    "start": "1973240",
    "end": "1979480"
  },
  {
    "text": "tell you where the next server is and you can look at it and it's going to be useful for something else I know it but it's unnecessary for this use just send",
    "start": "1979480",
    "end": "1986720"
  },
  {
    "text": "a file that says hey here's a list of all the servers and where their data is um at 35,000 servers four bytes a piece",
    "start": "1986720",
    "end": "1993399"
  },
  {
    "text": "you're looking at 140k file now if you still don't want to send a 140k file okay 140k a 20K server is seven servers",
    "start": "1993399",
    "end": "2001399"
  },
  {
    "text": "so you have seven core servers and then they direct to the other 35,000 so that's how you do that",
    "start": "2001399",
    "end": "2009760"
  },
  {
    "text": "this is fun though this is what I'm going to beat",
    "start": "2009960",
    "end": "2016799"
  },
  {
    "text": "myself up on stage if I need to get to get a net here because the Dem of rocks so",
    "start": "2016799",
    "end": "2024080"
  },
  {
    "text": "um what could we actually put in DNS that would be really cool uh I work for AA you know we're a voice company and if",
    "start": "2024080",
    "end": "2032000"
  },
  {
    "text": "you uh really scream at me I'll actually instead of doing radio I'll just do my home phone but for now we're going to do",
    "start": "2032000",
    "end": "2038080"
  },
  {
    "text": "radio um I wanted to know could I actually use DNS as a auditory transport",
    "start": "2038080",
    "end": "2044799"
  },
  {
    "text": "well yeah there's a codec called speaks it does audio at 2 kilobit per second",
    "start": "2044799",
    "end": "2050440"
  },
  {
    "text": "that's not high quality but it's 276 bytes for a second of audio DNS is",
    "start": "2050440",
    "end": "2057320"
  },
  {
    "text": "slow it's not that slow it can handle that so this is what's this turned out",
    "start": "2057320",
    "end": "2063358"
  },
  {
    "text": "to be useful no one was more surprised than me because DNS caches you know one of the problems with radio stations is",
    "start": "2063359",
    "end": "2069520"
  },
  {
    "text": "you got a thousand listeners you got to send out a thousand streams and it's not like the web servers you know web",
    "start": "2069520",
    "end": "2074720"
  },
  {
    "text": "proxies actually support streams because the file doesn't end so um DNS",
    "start": "2074720",
    "end": "2080040"
  },
  {
    "text": "universally caches so we're going to notice that um hey we can just have DNS",
    "start": "2080040",
    "end": "2085118"
  },
  {
    "text": "cach it for us watch this so how do we do it um",
    "start": "2085119",
    "end": "2091919"
  },
  {
    "text": "server howto it's just you look up a time stamp and the time you get back is within some",
    "start": "2091919",
    "end": "2098280"
  },
  {
    "text": "windows to say 20 seconds worth of value that the cash is going to be able to",
    "start": "2098280",
    "end": "2103720"
  },
  {
    "text": "store this chunk of audio for um you look up latest. server.com and what you",
    "start": "2103720",
    "end": "2109359"
  },
  {
    "text": "get back is a c name is a canonical name what you want to know is what is the present time you know what's the time on",
    "start": "2109359",
    "end": "2115520"
  },
  {
    "text": "the server because I want to go to it and I want to get the latest signal from the machine um now I have to warn you",
    "start": "2115520",
    "end": "2122839"
  },
  {
    "text": "you know this may be broken by resolvers with minimum ttls and all these other kind of nasty",
    "start": "2122839",
    "end": "2129000"
  },
  {
    "text": "things and you know your resolvers then may go up like cashing data for too long and that's sad but you know that's their",
    "start": "2129000",
    "end": "2135280"
  },
  {
    "text": "fault for caching data for minimum periods of time when you said no just 20 seconds is fine you don't need to hold",
    "start": "2135280",
    "end": "2140560"
  },
  {
    "text": "it for longer what does the client do client just retrieves the latest finds out the time stamp it's supposed to be",
    "start": "2140560",
    "end": "2146440"
  },
  {
    "text": "retrieving from and then it just starts picking up samples now I actually realized looking at this slide that",
    "start": "2146440",
    "end": "2152560"
  },
  {
    "text": "there's a difference between my implementation that is described here and what it actually does um",
    "start": "2152560",
    "end": "2158160"
  },
  {
    "text": "I actually have it implementing a ring buffer where I'm constantly updating the same values and I'm just um after a",
    "start": "2158160",
    "end": "2165440"
  },
  {
    "text": "certain offset I just flip over to the beginning now why do I do this this is so I don't need to use my custom DNS",
    "start": "2165440",
    "end": "2172599"
  },
  {
    "text": "server to store audio I don't need to fill up bind with all these records that don't matter I'm just continually",
    "start": "2172599",
    "end": "2179280"
  },
  {
    "text": "updating the same records in bind so right now at this moment I have radio in",
    "start": "2179280",
    "end": "2185280"
  },
  {
    "text": "my bind server and let's see if I can get the demo to work and I'm going to make this happen if I have to bash it",
    "start": "2185280",
    "end": "2191960"
  },
  {
    "text": "reboot it and all sorts of fun things okay we have that we have that cool",
    "start": "2191960",
    "end": "2200720"
  },
  {
    "text": "now see Aussie get a hang on I'm just seeing",
    "start": "2200720",
    "end": "2208640"
  },
  {
    "text": "the B this is a b64 text",
    "start": "2208640",
    "end": "2214240"
  },
  {
    "text": "stream um actually mode I really should have this as a mental note if you're ever doing this have it",
    "start": "2214240",
    "end": "2220520"
  },
  {
    "text": "as have your commands as a shell script that uses the DX option so you don't need to sit here try to remember things",
    "start": "2220520",
    "end": "2225599"
  },
  {
    "text": "off the top of your head 4221 and that's that's just a public",
    "start": "2225599",
    "end": "2231880"
  },
  {
    "text": "server it's nothing special what is it b64 or no it's dp.com",
    "start": "2231880",
    "end": "2239440"
  },
  {
    "text": "lib speaks decoder",
    "start": "2241440",
    "end": "2248200"
  },
  {
    "text": "ah oops hey you know the pipe character is this great",
    "start": "2250000",
    "end": "2255880"
  },
  {
    "text": "invention um I had interesting conversation with a n on a transpacific airight one time about abortion and",
    "start": "2257920",
    "end": "2267079"
  },
  {
    "text": "verying moment um ior abortion what happens to",
    "start": "2267079",
    "end": "2274480"
  },
  {
    "text": "the tada uh and yeah that's like cash in 4221 for",
    "start": "2274480",
    "end": "2280200"
  },
  {
    "text": "a while or I think it's like 20 seconds so you can have any number of people listen to it actually this technique's useful like",
    "start": "2280200",
    "end": "2287839"
  },
  {
    "text": "we could backport this to http and have you know a web server just host 10 second or 5C or one second chunks of",
    "start": "2287839",
    "end": "2294480"
  },
  {
    "text": "audio and it would just fill in individual files inside of a squid cach so you'd finally get squid caching streaming audio your client would need",
    "start": "2294480",
    "end": "2301480"
  },
  {
    "text": "to go ahead and you know have a gapless player and use playlists but it' work great of course it would it would add a",
    "start": "2301480",
    "end": "2308680"
  },
  {
    "text": "small penalty you'd have HTTP headers and TCP sessions possibly but hey be",
    "start": "2308680",
    "end": "2314040"
  },
  {
    "text": "it'd be cashing so what are my conclusions here dear God I ended on",
    "start": "2314040",
    "end": "2321160"
  },
  {
    "text": "time nice so people have been coming to me and say Dan you talk about like 880,000 things I don't know what I'm",
    "start": "2321160",
    "end": "2327680"
  },
  {
    "text": "supposed to come away with knowing and I'm like okay that's a valid",
    "start": "2327680",
    "end": "2333480"
  },
  {
    "text": "critique so here's what you're supposed to come away here knowing one guys DNS",
    "start": "2333480",
    "end": "2339160"
  },
  {
    "text": "is globally deployed you use it as a client you do and you almost certainly have a couple servers throughout your",
    "start": "2339160",
    "end": "2345760"
  },
  {
    "text": "organizations that use it two as the rest of Ip networking has become progressively more and more filtered",
    "start": "2345760",
    "end": "2352640"
  },
  {
    "text": "especially since the mid 90s dns's level of interconnectivity has and and for",
    "start": "2352640",
    "end": "2357960"
  },
  {
    "text": "good reasons but it has basically remained the same and maybe even slightly increased um and in some ways",
    "start": "2357960",
    "end": "2365240"
  },
  {
    "text": "the level of interconnectivity offer by DNS vastly outstrips what you can get",
    "start": "2365240",
    "end": "2370480"
  },
  {
    "text": "from IP um Beyond Source routing the fact that you can actually have DNS servers cache data there really isn't an",
    "start": "2370480",
    "end": "2377000"
  },
  {
    "text": "equivalent to that in the IP routing world like there is in DNS routing um",
    "start": "2377000",
    "end": "2382280"
  },
  {
    "text": "the connectivity offered by DNS can be used to offer a range of services from encrypted VPN style links to a silent",
    "start": "2382280",
    "end": "2389920"
  },
  {
    "text": "but quite deadly remotely addressable Trojan Horse to an unexpectedly useful distributed audio system and finally",
    "start": "2389920",
    "end": "2398319"
  },
  {
    "text": "caveats here don't disable DNS don't re-engineer it don't throw up your hands and fire your DNS admin but maybe you",
    "start": "2398319",
    "end": "2406680"
  },
  {
    "text": "should start sniffing that traffic and looking for Trends and being aware of odd things that happen over DNS because",
    "start": "2406680",
    "end": "2412920"
  },
  {
    "text": "they're going to happen more and they've been happening so that's the story and I'm open for questions",
    "start": "2412920",
    "end": "2419970"
  },
  {
    "text": "[Applause]",
    "start": "2419970",
    "end": "2428280"
  },
  {
    "text": "let me see if you have a question actually why don't you come up cuz there are like people who watch this stuff on video can this mic work can",
    "start": "2428280",
    "end": "2437520"
  },
  {
    "text": "it testing sweet all right if you got a question come up here you did so I was",
    "start": "2437520",
    "end": "2445240"
  },
  {
    "text": "going to say where's the tool in the brief the where's the tool in the brief uh okay good tool is on my hard drive if",
    "start": "2445240",
    "end": "2454560"
  },
  {
    "text": "you bug crap it'll be me on my website in a few in about an hour at Max uh and",
    "start": "2454560",
    "end": "2460200"
  },
  {
    "text": "it'll be given over to the black hat people and be on their website um very bad things will apparently happen to me",
    "start": "2460200",
    "end": "2466440"
  },
  {
    "text": "if I don't give ping the slides as soon as possible I'm not kidding uh go ahead come",
    "start": "2466440",
    "end": "2475480"
  },
  {
    "text": "here what's up have you ever considered using the uh post the post options of",
    "start": "2477040",
    "end": "2482560"
  },
  {
    "text": "Microsoft DNS server instead of the tricks that you're doing to actually store the data",
    "start": "2482560",
    "end": "2488560"
  },
  {
    "text": "the uh DNS you know I didn't actually talk about this when um hey okay I'm I'm",
    "start": "2488560",
    "end": "2494160"
  },
  {
    "text": "going to talk into this thing okay okay so Dynamic update is actually an RFC",
    "start": "2494160",
    "end": "2499760"
  },
  {
    "text": "standard um it's an update message instead of a request and it changes the interpretation of all the future Fields",
    "start": "2499760",
    "end": "2506079"
  },
  {
    "text": "like for example if they're you know delete this resource record and so on um as far as I know Microsoft just uses",
    "start": "2506079",
    "end": "2512520"
  },
  {
    "text": "normal Dynamic update because I see it all the time in my normal domain traffic leaking out of my box when I at",
    "start": "2512520",
    "end": "2517839"
  },
  {
    "text": "Starbucks um and I'm at Starbucks a bit lately um what was I going to say oh um",
    "start": "2517839",
    "end": "2525200"
  },
  {
    "text": "the the reason why I don't like uh Dynamic updates oh I'm out of time I oh",
    "start": "2525200",
    "end": "2533319"
  },
  {
    "text": "gotcha Okay the reason why Dynamic updates aren't that great they're great if you can route all the way to the",
    "start": "2533640",
    "end": "2539640"
  },
  {
    "text": "server Dynamic updates do not route by default like they don't DNS route the server will return a not off error so",
    "start": "2539640",
    "end": "2547559"
  },
  {
    "text": "the best path for sending data out of a server is always going to be just do queries do a record queries because",
    "start": "2547559",
    "end": "2553680"
  },
  {
    "text": "those will get out of anything any other questions you you don't even need to",
    "start": "2553680",
    "end": "2559599"
  },
  {
    "text": "word the mic just like shout them out or something where oh go ahead",
    "start": "2559599",
    "end": "2567680"
  },
  {
    "text": "man thanks you mentioned at the beginning of your talk that uh DNS and",
    "start": "2574760",
    "end": "2580000"
  },
  {
    "text": "SMTP are two of the oldest uh unchanged and unchallenged protocols and that um",
    "start": "2580000",
    "end": "2586359"
  },
  {
    "text": "people have been largely ignoring DNS particularly in terms of security holes since you know about 2000 um with things",
    "start": "2586359",
    "end": "2594359"
  },
  {
    "text": "like this which makes people think more about what can be done in DNS and things",
    "start": "2594359",
    "end": "2600040"
  },
  {
    "text": "like uh the ietf is currently trying to work on a standard to do uh MX",
    "start": "2600040",
    "end": "2605760"
  },
  {
    "text": "authentication uh over over DNS with moving tying more functionality to DNS",
    "start": "2605760",
    "end": "2610839"
  },
  {
    "text": "than currently exists don't you think rather than uh your last statement where people shouldn't worry about DNS leave",
    "start": "2610839",
    "end": "2616319"
  },
  {
    "text": "it as it is it's going to focus more and more attention on DNS and people are going to be forced to rethink it because",
    "start": "2616319",
    "end": "2621800"
  },
  {
    "text": "people are going to start attacking it more and more again because it's become interesting",
    "start": "2621800",
    "end": "2627680"
  },
  {
    "text": "again my point is it isn't the end of the world uh there are some really big",
    "start": "2628720",
    "end": "2633920"
  },
  {
    "text": "potential exploits out there this is not one of them I mean it's it's on the scale of it's not like tomorrow we're",
    "start": "2633920",
    "end": "2640119"
  },
  {
    "text": "going to see every Apache box die it is like so over the next couple weeks there's going to be a lot of people that",
    "start": "2640119",
    "end": "2646359"
  },
  {
    "text": "are doing big a you know big lookups that's just on a different scale it's interesting you bring up the MX record",
    "start": "2646359",
    "end": "2652880"
  },
  {
    "text": "thing one of the uh things about recursion desired is you can query a server to find out if anyone's been mailing someone so if you say you've got",
    "start": "2652880",
    "end": "2660359"
  },
  {
    "text": "a web mail anonymizer you're like I wonder if this anonymizer has been speaking to this person well what server",
    "start": "2660359",
    "end": "2666160"
  },
  {
    "text": "are they at okay I'll you know send a mail to this Anonymous address then I'll see if it's this mail server's DNS",
    "start": "2666160",
    "end": "2672319"
  },
  {
    "text": "server has actually done the lookup and you can find it out by testing with the recursion bit so uh yeah just an amusing",
    "start": "2672319",
    "end": "2679680"
  },
  {
    "text": "thing any other oh and of course you can see if SPF is enabled by looking up text records as well non-",
    "start": "2679680",
    "end": "2687000"
  },
  {
    "text": "recursively uh go ahead I just was wondering that Pearl compiler you said that compiled it into",
    "start": "2687000",
    "end": "2693559"
  },
  {
    "text": "an axe what was that called H regarding the Pearl compiler it's called PP you",
    "start": "2693559",
    "end": "2699160"
  },
  {
    "text": "just like PPO f. XE FPL and it's just like oh let me find everything this",
    "start": "2699160",
    "end": "2704720"
  },
  {
    "text": "possibly needs and put it into an executable and it'll work you know on Windows works on Linux works on",
    "start": "2704720",
    "end": "2710040"
  },
  {
    "text": "everything I mean the the not the same executable but it just it packages it all it's incredibly useful any other",
    "start": "2710040",
    "end": "2718240"
  },
  {
    "text": "questions go",
    "start": "2718240",
    "end": "2721359"
  },
  {
    "text": "ahead how to prevent tunneling over DNS um well the big thing um well it gets",
    "start": "2725040",
    "end": "2730559"
  },
  {
    "text": "really tricky because you could say oh you know we'll just disable text records you know SPF forget it we don't care",
    "start": "2730559",
    "end": "2735760"
  },
  {
    "text": "that's fine I'll just move my data over C names and be like okay well I'll uh I'll I'll shrink the names of address",
    "start": "2735760",
    "end": "2742160"
  },
  {
    "text": "Fields so that they're not as big and it's like okay I'll just use shorter names and eventually I'll be short enough to fit in whatever restriction",
    "start": "2742160",
    "end": "2749079"
  },
  {
    "text": "you do at the end of the day this is a fundamental architectural issue that",
    "start": "2749079",
    "end": "2755280"
  },
  {
    "text": "bits are bits and you can't can't really you know bits are wet you know water is wet bits are bits um that being said",
    "start": "2755280",
    "end": "2762400"
  },
  {
    "text": "open recursion on your external servers it open recursion on a dual hosted machine not good that is you know don't",
    "start": "2762400",
    "end": "2769599"
  },
  {
    "text": "do that um you don't necessarily need to imp split Horizon those types of things",
    "start": "2769599",
    "end": "2774920"
  },
  {
    "text": "CU things are going to get out whatever but you don't need to have this really effective inside path wide open and a",
    "start": "2774920",
    "end": "2781880"
  },
  {
    "text": "lot of places do any other questions what's up how",
    "start": "2781880",
    "end": "2789318"
  },
  {
    "text": "much all I have presumed no TCP",
    "start": "2789559",
    "end": "2794839"
  },
  {
    "text": "available although I actually should investigate that maybe I could do big large scale transfers over axfr that's a",
    "start": "2794839",
    "end": "2800559"
  },
  {
    "text": "good idea go",
    "start": "2800559",
    "end": "2803400"
  },
  {
    "text": "ahead I know all about this actually um so here's the idea one of the uh",
    "start": "2809440",
    "end": "2815720"
  },
  {
    "text": "vigilante methods that used to go after spammers is to disable their DNS server",
    "start": "2815720",
    "end": "2821559"
  },
  {
    "text": "and that way you can't send mail back to the spammer right well what they do is they seed lots and lots of servers out",
    "start": "2821559",
    "end": "2828720"
  },
  {
    "text": "there with their MX record information and then they change their authoritative",
    "start": "2828720",
    "end": "2833800"
  },
  {
    "text": "mail server to like some other guy to 4221 or whatever so they're seating you with their data so that when the",
    "start": "2833800",
    "end": "2840800"
  },
  {
    "text": "Vigilantes come after them they come after you instead of them and their mail can still route that's the story that's",
    "start": "2840800",
    "end": "2846400"
  },
  {
    "text": "what's going on with that and the solution that the send mail guys have come up with is they will refuse to send",
    "start": "2846400",
    "end": "2851599"
  },
  {
    "text": "mail to a name to a name server if it wasn't considered authoritative on that",
    "start": "2851599",
    "end": "2857599"
  },
  {
    "text": "server and slowly but surely that's uh eliminating that problem any other requests go",
    "start": "2857599",
    "end": "2866200"
  },
  {
    "text": "ahead SPF uh all of the new Pro all of the new",
    "start": "2867400",
    "end": "2873520"
  },
  {
    "text": "suggestions for um all of the new suggestions for doing mail filtering",
    "start": "2873520",
    "end": "2878559"
  },
  {
    "text": "involve involve putting a a small text string inside of the text record that",
    "start": "2878559",
    "end": "2883960"
  },
  {
    "text": "describes who is allowed to sensor mail from where that being said we have an exception where you know oh you don't have text records fine we'll put it in",
    "start": "2883960",
    "end": "2890599"
  },
  {
    "text": "MX records and we'll sort out the data by preference also discussing record",
    "start": "2890599",
    "end": "2896440"
  },
  {
    "text": "yeah so I mean at the end of the day you're not going to get around this problem by just saying oh we don't allow This Record type we don't allow that",
    "start": "2896440",
    "end": "2902720"
  },
  {
    "text": "record type there's always going to be a place you can put the data",
    "start": "2902720",
    "end": "2908520"
  },
  {
    "text": "any other questions all right this is a great [Applause]",
    "start": "2908520",
    "end": "2919849"
  },
  {
    "text": "time",
    "start": "2935720",
    "end": "2938720"
  },
  {
    "text": "e",
    "start": "2965720",
    "end": "2968720"
  },
  {
    "text": "e",
    "start": "2995640",
    "end": "2998640"
  },
  {
    "text": "e",
    "start": "3025640",
    "end": "3028640"
  },
  {
    "text": "e",
    "start": "3055640",
    "end": "3058640"
  },
  {
    "text": "e",
    "start": "3085559",
    "end": "3088559"
  },
  {
    "text": "e",
    "start": "3115520",
    "end": "3118520"
  },
  {
    "text": "e",
    "start": "3145520",
    "end": "3148520"
  },
  {
    "text": "e",
    "start": "3175440",
    "end": "3178440"
  },
  {
    "text": "e",
    "start": "3205440",
    "end": "3208440"
  },
  {
    "text": "e",
    "start": "3235440",
    "end": "3238440"
  },
  {
    "text": "e",
    "start": "3265359",
    "end": "3268359"
  },
  {
    "text": "e",
    "start": "3295319",
    "end": "3298319"
  },
  {
    "text": "e",
    "start": "3325319",
    "end": "3328319"
  },
  {
    "text": "e",
    "start": "3355240",
    "end": "3358240"
  },
  {
    "text": "e",
    "start": "3385240",
    "end": "3388240"
  },
  {
    "text": "e",
    "start": "3415240",
    "end": "3418240"
  },
  {
    "text": "e",
    "start": "3445160",
    "end": "3448160"
  },
  {
    "text": "e",
    "start": "3475119",
    "end": "3478119"
  },
  {
    "text": "e",
    "start": "3505119",
    "end": "3508119"
  },
  {
    "text": "e",
    "start": "3535039",
    "end": "3538039"
  },
  {
    "text": "e",
    "start": "3565039",
    "end": "3568039"
  },
  {
    "text": "e",
    "start": "3595039",
    "end": "3598039"
  },
  {
    "text": "e",
    "start": "3624960",
    "end": "3627960"
  },
  {
    "text": "e e",
    "start": "3654920",
    "end": "3658960"
  }
]