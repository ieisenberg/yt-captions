[
  {
    "start": "0",
    "end": "5540"
  },
  {
    "text": "Last week, we kind\nof left off talking about non-linear\nreachability, and we",
    "start": "5540",
    "end": "11720"
  },
  {
    "text": "were talking about how it's kind\nof harder for non-linear systems than it was for linear systems\nbecause we have these--",
    "start": "11720",
    "end": "18750"
  },
  {
    "text": "we end up with these sets\nthat can be like non-convex and we need to it's much\nharder to work with them.",
    "start": "18750",
    "end": "23757"
  },
  {
    "text": "And so what we ended\nup doing was just showing a whole bunch\nof different ways to approximate these sets.",
    "start": "23757",
    "end": "28950"
  },
  {
    "text": "And so we came up\nwith these things where we were passing\nintervals through these non-linear functions,\nso we had interval arithmetic.",
    "start": "28950",
    "end": "35220"
  },
  {
    "text": "And then we showed for\nthese more complex functions we need something called\ninclusion functions.",
    "start": "35220",
    "end": "40670"
  },
  {
    "text": "And so we started with the\nnatural inclusion function, which was just the\nthing that allowed us to replace every\nsingle elementary function",
    "start": "40670",
    "end": "48350"
  },
  {
    "text": "in our nonlinear function\nwith the interval counterpart. But we showed that\nworked kind of poorly.",
    "start": "48350",
    "end": "54090"
  },
  {
    "text": "So we saw when we applied\nit to the inverted pendulum, the reachable set quickly got\nreally, really big to the point",
    "start": "54090",
    "end": "59710"
  },
  {
    "text": "where we couldn't really say\nanything about the safety. So then we were like, OK, we\nneed to do something better.",
    "start": "59710",
    "end": "65600"
  },
  {
    "text": "So we went back to\nour calculus class, and we remembered the\nmean value theorem. And we came up with this mean\nvalue inclusion function.",
    "start": "65600",
    "end": "73480"
  },
  {
    "text": "And then we saw that\ndid slightly better, at least for a little bit,\nbut then in the end it still ended up of blowing up and we\nweren't able to show safety.",
    "start": "73480",
    "end": "82420"
  },
  {
    "text": "And then we saw\nthat those were kind of just special cases of this\ngeneral thing called a Taylor inclusion function,\nand so we showed how we",
    "start": "82420",
    "end": "89920"
  },
  {
    "text": "could go up to higher orders. But we left off last\nweek, and we were still having this problem where\nit's still kind of blowing up.",
    "start": "89920",
    "end": "96350"
  },
  {
    "text": "We still have too much\noverapproximation. And we were all kind\nof annoyed that when we were doing everything\nwith intervals,",
    "start": "96350",
    "end": "102620"
  },
  {
    "text": "we could only get hyper\nrectangular sets out because we input an interval, we\nget out an interval, and then we take the Cartesian\nproduct of those intervals,",
    "start": "102620",
    "end": "109930"
  },
  {
    "text": "and we end up with\na hyper rectangle. And so all we could\nget was hyperrectangle. Even though it looks like this\nset, wouldn't a hyper rectangle",
    "start": "109930",
    "end": "116380"
  },
  {
    "text": "wouldn't fit\nnecessarily very well. And so I left you all\nhanging over the weekend. I'm sure this is all\nyou could think about,",
    "start": "116380",
    "end": "122490"
  },
  {
    "text": "and you're just in\nMajor suspense about how we were going to\npossibly deal with this and not have\nhyperrectangles anymore,",
    "start": "122490",
    "end": "128960"
  },
  {
    "text": "and so that's where we're\ngoing to pick up today. OK, so as I said, last week, we\ntalked about interval arithmetic",
    "start": "128960",
    "end": "137475"
  },
  {
    "text": "and then we talked about\ninclusion functions. And then I told you\nat the very end, there's this thing\ncalled Taylor models",
    "start": "137475",
    "end": "142655"
  },
  {
    "text": "that will allow us to not have\njust hyperrectangular sets. So the idea here is that\ninclusion functions,",
    "start": "142655",
    "end": "148940"
  },
  {
    "text": "no matter how high the order--\nso even if we have a 10th order Taylor inclusion function, we're\nstill only ever going to output",
    "start": "148940",
    "end": "155300"
  },
  {
    "text": "a hyperrectangular set. And so then, now we're going\nto talk about this thing called Taylor models, which allows\nus to represent much more",
    "start": "155300",
    "end": "162530"
  },
  {
    "text": "expressive sets. But before we get\ninto that, I just wanted to follow\nup from last week.",
    "start": "162530",
    "end": "169370"
  },
  {
    "text": "So I really wanted this mashup\nof Taylor Swift and Taylor inclusion functions, and\nChatGPT wouldn't give it to me.",
    "start": "169370",
    "end": "175050"
  },
  {
    "text": "But given the advice we got\nlast week about how to do this, was able to create an\nimage of a person who",
    "start": "175050",
    "end": "181500"
  },
  {
    "text": "looks like Taylor Swift. This is not Taylor\nSwift, just has very similar features to Taylor\nSwift, and is now in a mash up",
    "start": "181500",
    "end": "187860"
  },
  {
    "text": "with a Taylor inclusion\nfunction, so here you go. Thanks.",
    "start": "187860",
    "end": "193080"
  },
  {
    "text": "OK. Was there a DNA helix on\nthe write of the first one? This one or this thing?",
    "start": "193080",
    "end": "198600"
  },
  {
    "text": "The one on the left. This thing. On the top. There's a DNA helix.",
    "start": "198600",
    "end": "203740"
  },
  {
    "text": "Oh, this thing. Yeah. Yeah. I mean, similar\nto Taylor series,",
    "start": "203740",
    "end": "211060"
  },
  {
    "text": "it's all math and science. I don't know. [LAUGHTER] [INAUDIBLE]",
    "start": "211060",
    "end": "217019"
  },
  {
    "text": "Yeah. This also doesn't really say. It says kind of\nTaylor inclusion. Yeah, I don't know.",
    "start": "217020",
    "end": "222640"
  },
  {
    "text": "They haven't quite figured\nout how to write yet, I guess. Generally image\ngenerators can't read, so.",
    "start": "222640",
    "end": "227710"
  },
  {
    "text": "Yes. Anyway, there you go. In case you were really\nlooking forward to that mashup",
    "start": "227710",
    "end": "233760"
  },
  {
    "text": "up as I was. OK, so back to Taylor models. So Taylor models are\nbasically this thing",
    "start": "233760",
    "end": "240650"
  },
  {
    "text": "where we say we have\nsome input set now, so it doesn't have\nto be intervals like it had to be before.",
    "start": "240650",
    "end": "245790"
  },
  {
    "text": "We can have just kind of\nan arbitrary set here. And we're going to\nsay a Taylor model, we're going to apply a\npolynomial to this set.",
    "start": "245790",
    "end": "252690"
  },
  {
    "text": "And that polynomial has\na specific meaning, which I'll talk about in a second. And then we're going to add\non some value alpha that",
    "start": "252690",
    "end": "258620"
  },
  {
    "text": "comes from an interval. And so the idea here is that\nthe polynomial is actually",
    "start": "258620",
    "end": "264650"
  },
  {
    "text": "just the Taylor polynomial\nof degree n minus 1. So if we have a Taylor\nmodel of order n,",
    "start": "264650",
    "end": "270710"
  },
  {
    "text": "we're going to use the Taylor\npolynomial of degree n minus 1. And then the alpha here is\njust an interval remainder.",
    "start": "270710",
    "end": "278520"
  },
  {
    "text": "You can think of it\nlike a remainder, which I'll explain in a second. So the Taylor polynomial\njust looks like this.",
    "start": "278520",
    "end": "284100"
  },
  {
    "text": "It's just the terms\nof the Taylor model or Taylor polynomial\nup to n minus 1.",
    "start": "284100",
    "end": "289610"
  },
  {
    "text": "And then the interval remainder,\nwhich I'm not deriving here for you, or anything. I'm just telling\nyou that this works.",
    "start": "289610",
    "end": "294750"
  },
  {
    "text": "It involves actually kind\nof the inclusion function for the n-th derivative\nof the function,",
    "start": "294750",
    "end": "301330"
  },
  {
    "text": "so we're basically\npassing intervals through the n-th derivative. And that gives us the\nremainder, and sometimes this",
    "start": "301330",
    "end": "308039"
  },
  {
    "text": "is called the\nLagrange remainder. And what's kind of cool about\nthis is the way that you",
    "start": "308040",
    "end": "314009"
  },
  {
    "text": "can really think of it is so\nTaylor models, as you hopefully learned about in calculus,\nthose are things that",
    "start": "314010",
    "end": "319560"
  },
  {
    "text": "can approximate the function. So like the more terms you\nhave of your Taylor model, the closer you get\nto approximating",
    "start": "319560",
    "end": "324630"
  },
  {
    "text": "the actual function. So you can think\nof this polynomial as giving us an\napproximation to the function",
    "start": "324630",
    "end": "329820"
  },
  {
    "text": "that we're trying to\npass our set through. And then there's some remainder.",
    "start": "329820",
    "end": "334920"
  },
  {
    "text": "There's all those higher order\nterms that we're not including. And so what this kind of\ninterval remainder does",
    "start": "334920",
    "end": "340770"
  },
  {
    "text": "is bound to the error that we\ncould have in our approximation. So it's saying this polynomial\napproximates the function",
    "start": "340770",
    "end": "346260"
  },
  {
    "text": "as best we can,\nand then we're just going to add on this\ninterval at the end to bound all of the rest of\nthe air that we could have.",
    "start": "346260",
    "end": "353030"
  },
  {
    "text": "So that way we still know that\nno matter what, our output set is going to be an\noverapproximation of the points",
    "start": "353030",
    "end": "359560"
  },
  {
    "text": "that could actually be reached. Any questions on that? ",
    "start": "359560",
    "end": "367150"
  },
  {
    "text": "Yeah. Why is alpha limited\nsome interval alpha? Like the bounds.",
    "start": "367150",
    "end": "372340"
  },
  {
    "text": "It's like bounded\nsomehow, but like what is this [INAUDIBLE]\nalpha in which alpha lives? So it's like it's this\nparticular remainder term.",
    "start": "372340",
    "end": "379150"
  },
  {
    "text": "I didn't derive how\nyou actually get that. So this is like requiring\ncreating this inclusion",
    "start": "379150",
    "end": "386380"
  },
  {
    "text": "function and whatnot. That's all we're going to do. There's actually\nways where you could, instead of passing an\ninterval through this,",
    "start": "386380",
    "end": "391880"
  },
  {
    "text": "you could pass like\na zonotope through it so that you get a tighter bound. We cite that in the book,\nbut we're not actually",
    "start": "391880",
    "end": "397060"
  },
  {
    "text": "going to get into it. Yeah.  This is a natural.",
    "start": "397060",
    "end": "403990"
  },
  {
    "text": "When you're doing\nthe Taylor series, all the apps are\napproximated by the natural. ",
    "start": "403990",
    "end": "412565"
  },
  {
    "text": "What is like-- you\nsee how you have bracket of at the end of that.",
    "start": "412566",
    "end": "417956"
  },
  {
    "text": "Yeah, this is the natural\ninclusion function for the n-th derivative of that. Yeah. ",
    "start": "417957",
    "end": "424895"
  },
  {
    "text": "OK, and so one thing that's\nkind of cool about this is it turns out,\nand maybe you can stare at it longer on your own\ntime to see that this is true.",
    "start": "424895",
    "end": "432193"
  },
  {
    "text": "But it turns out that\nif we just replace this p of x here with\nthe natural inclusion",
    "start": "432193",
    "end": "437580"
  },
  {
    "text": "function for the polynomial. So we just pass an interval\nbasically through this p",
    "start": "437580",
    "end": "443160"
  },
  {
    "text": "of x instead of passing this\narbitrary set that we're going to pass, we just recover\nthe Taylor inclusion function.",
    "start": "443160",
    "end": "449560"
  },
  {
    "text": "So basically, the\nidea here is, we want to pass arbitrary sets\nnow through these functions.",
    "start": "449560",
    "end": "455400"
  },
  {
    "text": "But if we were still passing\nintervals through them and we just pass an interval\nthrough this Taylor model, we actually get the\nexact same thing",
    "start": "455400",
    "end": "461740"
  },
  {
    "text": "we would get if we used the\nTaylor inclusion function.",
    "start": "461740",
    "end": "467560"
  },
  {
    "text": "But the idea here is that we\ndon't have to do that anymore, so we can-- tailor models\nto provide increased flexibility by allowing us\nto pass other types of sets",
    "start": "467560",
    "end": "475900"
  },
  {
    "text": "through the Taylor polynomial. So in the linear\nreachability lecture, we saw how we could pass\nall these kind of polytopes",
    "start": "475900",
    "end": "482500"
  },
  {
    "text": "through different functions. And hopefully, we\nwould want to be able to do the same thing here,\nand so now we can do that.",
    "start": "482500",
    "end": "489720"
  },
  {
    "text": " So here's what this looks like. So I'm showing the same\nfunction that we've",
    "start": "489720",
    "end": "496410"
  },
  {
    "text": "been working with for a while,\nbut with a different interval this time. And you can see, as we increase\nthe order of the Taylor",
    "start": "496410",
    "end": "503140"
  },
  {
    "text": "polynomial for the\nTaylor model, then we get better and better\nover approximations.",
    "start": "503140",
    "end": "509240"
  },
  {
    "text": "At the beginning,\nit's not so great. And it turns out actually\nfor a 0 order Taylor model, maybe this is an exercise\nyou can do on your own time,",
    "start": "509240",
    "end": "515690"
  },
  {
    "text": "you'll see that it actually just\nreduces to the natural inclusion function. A first order Taylor model\njust reduces to the mean value",
    "start": "515690",
    "end": "522400"
  },
  {
    "text": "inclusion function,\nso we've actually added nothing interesting yet. But then if we look at the\nsecond order Taylor model,",
    "start": "522400",
    "end": "528400"
  },
  {
    "text": "this isn't a hyper\nrectangle anymore. This kind of shaded purple set. It's now actually\na polytope, which",
    "start": "528400",
    "end": "534223"
  },
  {
    "text": "is great because that\nwas like our whole goal. We can now get\nlike polytopes out. We don't have to have these\nhyper rectangles anymore.",
    "start": "534223",
    "end": "540435"
  },
  {
    "text": "And third order, it's\nactually kind of hard to see, so get rid of all the\nother lines that are there.",
    "start": "540435",
    "end": "545670"
  },
  {
    "text": "The third order set is actually\nthis non-convex, smooth, funky shape here.",
    "start": "545670",
    "end": "551970"
  },
  {
    "text": "So the idea here is\nlike after second order, we're actually able to get\nsets that become non-convex.",
    "start": "551970",
    "end": "558160"
  },
  {
    "text": "Yeah. So what stops us from\ndoing 50th order? It's just a point\nestimate kind of line.",
    "start": "558160",
    "end": "565019"
  },
  {
    "text": "The p of x is just\nlike a line, I guess. Yeah, so the fact that the\nset becomes non-convex,",
    "start": "565020",
    "end": "571180"
  },
  {
    "text": "we can make this third order\nthing and it's nice in 1D, and I can plot it and\nsee what it looks like. But in general, non-convex\nsets are really, really",
    "start": "571180",
    "end": "577709"
  },
  {
    "text": "difficult to work with, so\neven going to third order is like typically pretty\ndifficult for anything",
    "start": "577710",
    "end": "582839"
  },
  {
    "text": "higher than 1 dimension. OK, well, I guess\nthe math is kind of",
    "start": "582840",
    "end": "588880"
  },
  {
    "text": "straightforward, but\nthen working with it-- Yeah, so then it's\nlike, OK, I have this set that's\nlike this 15 degree",
    "start": "588880",
    "end": "594700"
  },
  {
    "text": "polynomial plus an interval. And I want to know\nif it intersects with this other set\nthat's like a 15 degree polynomial\nplus an interval,",
    "start": "594700",
    "end": "600800"
  },
  {
    "text": "and that's not an\nobvious operation to do. I see, you're doing\noperations on this. Yes, exactly. Yeah, and in general we're\ncomputing these reachable sets,",
    "start": "600800",
    "end": "607610"
  },
  {
    "text": "and then we want to check if\nthey intersect with some bad set or some avoid set. And so if we like we need to\nbe able to do those operations.",
    "start": "607610",
    "end": "615639"
  },
  {
    "text": "Yeah. So just trying to get more of an\nintuitive understanding of this. ",
    "start": "615640",
    "end": "622840"
  },
  {
    "text": "So when we're passing\nin other types of sets into a Taylor model,\ndoes that mean",
    "start": "622840",
    "end": "631030"
  },
  {
    "text": "like we're kind of trying to\ndo the multi-dimensional thing with a Taylor expansion, but\nnow with this other type set,",
    "start": "631030",
    "end": "640580"
  },
  {
    "text": "I guess? Because I guess I don't\nknow if that makes sense. Yeah, I think that's\ngenerally right.",
    "start": "640580",
    "end": "645730"
  },
  {
    "text": "So here it's a little bit\neasier in one dimension because we don't have to pass\nthese multi-dimensional sets through things.",
    "start": "645730",
    "end": "651160"
  },
  {
    "text": "I'm going to show an\nexample in a second where we do higher\ndimensional things. But here, literally\nall we're doing",
    "start": "651160",
    "end": "656430"
  },
  {
    "text": "is we're computing the second\norder Taylor polynomial, so we'll have an x squared and\nx and a constant term in there.",
    "start": "656430",
    "end": "664540"
  },
  {
    "text": "And then I'm just adding\nplus or minus alpha to it. So this is just like\na function, and then we just got some width to\nthat function, basically.",
    "start": "664540",
    "end": "673769"
  },
  {
    "text": "For this case what is\nset to be positive? In this case, since\nit's one dimensional",
    "start": "673770",
    "end": "679230"
  },
  {
    "text": "we're still just\npassing in an interval. But I'll show in a second how\nwe go to higher dimensions.",
    "start": "679230",
    "end": "686040"
  },
  {
    "text": "All right. So yeah. So like we were just saying\nkind of both questions touched on this, which is like\nthe third order one.",
    "start": "686040",
    "end": "692440"
  },
  {
    "text": "It's kind of difficult\nto represent. It's non-convex. We typically can't\ndo a lot with it. And so where this\nbecomes really useful",
    "start": "692440",
    "end": "699250"
  },
  {
    "text": "is in the second\norder one, because we did get this nice polytope that\nwas no longer a hyperrectangle. But polytopes are pretty\nnice, they're convex,",
    "start": "699250",
    "end": "705220"
  },
  {
    "text": "and we know how to\ndo things with them. So it turns out that\nthis one actually even has a special name, and that\nis conservative linearization.",
    "start": "705220",
    "end": "713126"
  },
  {
    "text": "So let's talk about\nthat for a second, because it'll become\nmore clear why it's called conservative\nlinearization,",
    "start": "713127",
    "end": "718690"
  },
  {
    "text": "but it's just another name for\na second order Taylor model. So now let's imagine that we\naren't just in one dimension",
    "start": "718690",
    "end": "724720"
  },
  {
    "text": "like we were before. And now we input some\nvector x into a function and it outputs another vector.",
    "start": "724720",
    "end": "730537"
  },
  {
    "text": "So that'd be like\nour reach function. We input the state and it\noutputs another vector, which is the state.",
    "start": "730538",
    "end": "736079"
  },
  {
    "text": "And so what we're going to do\nis just similar to what we did before with the\nreach function, is we're just going to break\nit up into sub functions.",
    "start": "736080",
    "end": "742370"
  },
  {
    "text": "So f1 is going to output the\nfirst component of the output of this function, and then Fn\nwill output the n-th component",
    "start": "742370",
    "end": "750009"
  },
  {
    "text": "of this function. And the reason we're\ngoing to do this is because now we\ncan think about what would happen if we grabbed the\nfirst order Taylor polynomial.",
    "start": "750010",
    "end": "758524"
  },
  {
    "text": "So, again, we're doing a\nsecond order Taylor model, so we need n minus\n1 for the polynomial so we're going to\ndo the first order.",
    "start": "758525",
    "end": "764329"
  },
  {
    "text": "And so we're going to grab\nthis first order Taylor polynomial for each of\nthese sub functions. So we'll get f1 of the center,\nplus the gradient transpose,",
    "start": "764330",
    "end": "772850"
  },
  {
    "text": "times x minus c, and then so\non all the way up till fn.",
    "start": "772850",
    "end": "778190"
  },
  {
    "text": "And now all I'm going to do is\nrearrange this a little bit, so I'm going to put all\nof these in one vector",
    "start": "778190",
    "end": "783950"
  },
  {
    "text": "and just call it f of c. And then I'll keep all of these\nin one vector just stacked on top of each other, and then\nthis will actually be a matrix.",
    "start": "783950",
    "end": "791910"
  },
  {
    "text": "And then times our x minus C,\nso all I did was rearrange here. And then it turns\nout this is called",
    "start": "791910",
    "end": "798320"
  },
  {
    "text": "the Jacobian, which\nyou may remember from some of your math classes. We call that capital\nJ. And so basically",
    "start": "798320",
    "end": "805400"
  },
  {
    "text": "then what we get here is we get\nthis really nice formula, which is just a linearization of\nour function first order.",
    "start": "805400",
    "end": "813600"
  },
  {
    "text": "So we start with evaluating\nthe center, plus the Jacobian, times x minus c.",
    "start": "813600",
    "end": "819190"
  },
  {
    "text": "And then for the\nTaylor model, we have our interval remainder\nthat would go with it.",
    "start": "819190",
    "end": "825519"
  },
  {
    "text": "And so what's cool about this is\nthat this is a linear function.",
    "start": "825520",
    "end": "830570"
  },
  {
    "text": "And we were just doing all this\nstuff with linear reachability a week ago, where we\nfound out and we actually",
    "start": "830570",
    "end": "836080"
  },
  {
    "text": "know how to pass polytopes\nthrough these linear functions. So now, we can actually start\nwith an input set that's",
    "start": "836080",
    "end": "842350"
  },
  {
    "text": "a polytope and pass it through\nthis function using our addition and our matrix multiplication\nthat we learned",
    "start": "842350",
    "end": "848170"
  },
  {
    "text": "how to do last week,\nand then we can get kind of a polytope\nout instead of having",
    "start": "848170",
    "end": "853570"
  },
  {
    "text": "to get these hyper rectangles. So that's all we're\ngoing to do here is we're going to say that the\nTaylor model is just we're just",
    "start": "853570",
    "end": "861220"
  },
  {
    "text": "going to replace basically our\naddition with the Minkowski sum",
    "start": "861220",
    "end": "866870"
  },
  {
    "text": "and then do our\nmatrix multiplication. OK. And then if you want\nan intuition here",
    "start": "866870",
    "end": "872949"
  },
  {
    "text": "if you like lost\nme along the way, the idea here is we just\nlinearized our function. We're going to pass a set\nthrough the linearized portion",
    "start": "872950",
    "end": "879830"
  },
  {
    "text": "because we know how to pass\nsets through linear functions. But we linearized it so there's\nsome amount of error there,",
    "start": "879830",
    "end": "885060"
  },
  {
    "text": "and so we just need to calculate\nwhat that error is and add it on. That's all that's going on.",
    "start": "885060",
    "end": "890329"
  },
  {
    "text": "Yeah. And you said this, again. You said about restate how\nis it the Jacobian of f",
    "start": "890330",
    "end": "896390"
  },
  {
    "text": "or the Jacobian of-- Yeah it's the Jacobian of f. OK, yeah.",
    "start": "896390",
    "end": "901850"
  },
  {
    "text": "So if we go back here, we\njust get all these gradients stacked together. Yeah, no worries.",
    "start": "901850",
    "end": "907400"
  },
  {
    "text": "Yeah. I have a hard time estimating\nhow complex our let's say",
    "start": "907400",
    "end": "915649"
  },
  {
    "text": "function f or our actual\nsystem we're looking at, what type of model\nwe can still get away",
    "start": "915650",
    "end": "921890"
  },
  {
    "text": "with using something like this. And at what point\nwe have no chance of doing anything reasonable.",
    "start": "921890",
    "end": "927563"
  },
  {
    "text": "So I don't know. For example, let's say that the\ncast system from the projects.",
    "start": "927563",
    "end": "932630"
  },
  {
    "text": "Is this the level of complexity\nwhere this would work well? Yeah, well, so I think--",
    "start": "932630",
    "end": "938660"
  },
  {
    "text": "let me go for it again here. So because we're getting a\nlinearization of the function,",
    "start": "938660",
    "end": "945210"
  },
  {
    "text": "if the function is\nsuper non-linear, then you're going to have a huge\namount of overapproximation. Or this error is not going\nto-- or this function",
    "start": "945210",
    "end": "952372"
  },
  {
    "text": "is not going to approximate it\nvery well if the function is super non-linear. So you're going to end up with\na huge interval or remainder,",
    "start": "952372",
    "end": "958260"
  },
  {
    "text": "and then you're going\nto get this hugely over approximate set. One thing, though, is like\nany function is linear",
    "start": "958260",
    "end": "965750"
  },
  {
    "text": "if you zoom in enough. And so we're going to\nlearn about something at the end of this lecture where\nwe can make these kind of input",
    "start": "965750",
    "end": "972530"
  },
  {
    "text": "sets smaller such that this\nlinear approximation holds better, and then I think\nthe scaling is much easier.",
    "start": "972530",
    "end": "979760"
  },
  {
    "text": "Because, for example, even\nfor the theory of Taylor approximations, the\ntheory is like, oh,",
    "start": "979760",
    "end": "985050"
  },
  {
    "text": "you can approximate any\nfunction on the entire domain of all real numbers. And then in reality you're\nlike, OK, well, we just",
    "start": "985050",
    "end": "991430"
  },
  {
    "text": "always do a linear fit basically\nor maybe quadratic fit. So like the kind of-- yeah, I\nthink it's just difficult for me",
    "start": "991430",
    "end": "997820"
  },
  {
    "text": "to look at a real\nsystem and estimate will tell your models\nwork here or not,",
    "start": "997820",
    "end": "1003920"
  },
  {
    "text": "but maybe I should\njust try it out. Yeah. Well, no worries. Project 3 is coming.",
    "start": "1003920",
    "end": "1009860"
  },
  {
    "text": "We'll give you the chance. OK, so and, of course, Julia\nhandles all of this beautifully,",
    "start": "1009860",
    "end": "1016310"
  },
  {
    "text": "so we can just\ntake our Jacobian. And then here's that equation\nthat I was showing there",
    "start": "1016310",
    "end": "1023110"
  },
  {
    "text": "with the Minkowski\nsums and everything, and Julia just does it. So let's see if this\nfixed our problem.",
    "start": "1023110",
    "end": "1030369"
  },
  {
    "text": "So back to it. Now we're going to try\nconservative linearization here.",
    "start": "1030369",
    "end": "1038060"
  },
  {
    "text": "OK, ooh, pretty good.",
    "start": "1038060",
    "end": "1043590"
  },
  {
    "text": "So this is looking a lot better. So here we go back. Here was the Taylor inclusion.",
    "start": "1043591",
    "end": "1049200"
  },
  {
    "text": "We had to get this nice\nhyperrectangle, conservative linearization, now we can get\nthis really tight polytope",
    "start": "1049200",
    "end": "1056030"
  },
  {
    "text": "bound. But since you all know there's\nmore methods coming up, you probably anticipated this.",
    "start": "1056030",
    "end": "1062360"
  },
  {
    "text": "So yeah, we still can't\nverify safety even with this because\nit still ends up of blowing up at the end here.",
    "start": "1062360",
    "end": "1070075"
  },
  {
    "text": " OK. ",
    "start": "1070075",
    "end": "1077180"
  },
  {
    "text": "So that was Taylor\nmodels, and now we're",
    "start": "1077180",
    "end": "1082790"
  },
  {
    "text": "going to see how we can do\neven better doing something called concrete reachability.",
    "start": "1082790",
    "end": "1088340"
  },
  {
    "text": "So the idea here is let's just\nlook at this top row for now. So we start-- let's\nsay that we're",
    "start": "1088340",
    "end": "1094760"
  },
  {
    "text": "starting with some\ninitial set, and we want to compute our\nreachable set at time step 3.",
    "start": "1094760",
    "end": "1099919"
  },
  {
    "text": "So one thing we can\ndo, and actually this is what we've been doing I've\njust haven't really explicitly called it out, is we could just\ntake the set at time step 1.",
    "start": "1099920",
    "end": "1108670"
  },
  {
    "text": "Call our reach function that\ntakes in the state at time step 1 and the disturbances\nfor the next time",
    "start": "1108670",
    "end": "1114400"
  },
  {
    "text": "steps until we\nreach time step 3, and then use that to get\nour set at time step 3. And in the process,\nwe never really care",
    "start": "1114400",
    "end": "1121120"
  },
  {
    "text": "about what the reachable\nset at time step 2 is, or at least not explicitly. It'll implicitly get\ncalculated as we do this,",
    "start": "1121120",
    "end": "1127390"
  },
  {
    "text": "but we never explicitly\ncreate that set. So we're kind of\njust starting from 1 and skipping all the way to 3\nusing this rollout function up",
    "start": "1127390",
    "end": "1136420"
  },
  {
    "text": "to 3 steps, so this is\nlike what we've already been doing this whole lecture.",
    "start": "1136420",
    "end": "1142010"
  },
  {
    "text": "But there's one thing\nthat we could do instead, which is we could do this thing\ncalled concrete reachability.",
    "start": "1142010",
    "end": "1147350"
  },
  {
    "text": "Where now if we start with\nour reachable set at time 1, and we want to get to the\nreachable set at time 3,",
    "start": "1147350",
    "end": "1152540"
  },
  {
    "text": "we can just look at\none step at a time. So we can say, OK, we're\njust going to start from S1, take the disturbance for that\nsingle step that gives us R2.",
    "start": "1152540",
    "end": "1161600"
  },
  {
    "text": "And then we and then we fully\ncompute an overapproximation of R2, and then we use\nthat to compute R3.",
    "start": "1161600",
    "end": "1169289"
  },
  {
    "text": "So now we say, OK, we'll\nstart from any state in R2. Take another step, and then\ncompute the reachable set at R3.",
    "start": "1169290",
    "end": "1176970"
  },
  {
    "text": "And the idea here is that we say\nwe concretize the reachable set at every time step, so we're\nconcretizing the reachable set",
    "start": "1176970",
    "end": "1184100"
  },
  {
    "text": "at time step 2. Whereas here we're just\nsaying time step 1, here's a function that gives us\nthe reachable set a time step 3.",
    "start": "1184100",
    "end": "1190550"
  },
  {
    "text": "I'm just going to\nuse this function and not care about what\nhappens at time step 2. Here we're explicitly\ncomputing it, and then using",
    "start": "1190550",
    "end": "1197000"
  },
  {
    "text": "it to compute the\nnext one, so this is more similar to what we were\ndoing with the set propagation stuff in the linear chapter.",
    "start": "1197000",
    "end": "1204890"
  },
  {
    "text": "So it's kind of a\nsubtle distinction. So are there any questions here? I'll pause for a second. ",
    "start": "1204890",
    "end": "1212931"
  },
  {
    "text": "OK, so let's talk\nabout why we might want to do one versus the other. And there are trade offs, so\nsometimes you do want to do one",
    "start": "1212932",
    "end": "1218960"
  },
  {
    "text": "and sometimes you\nwant to do the other. OK. So one option or one trade\noff for symbolic reachability",
    "start": "1218960",
    "end": "1224590"
  },
  {
    "text": "is that it can be quite\ncomputationally expensive. Because when you do symbolic\nreachability algorithms,",
    "start": "1224590",
    "end": "1230270"
  },
  {
    "text": "they're considering the entire\nrollout function at once. So if we want to go from\ntime step 1 to time step 10, we're looking at the\nrollout from 1 to 10.",
    "start": "1230270",
    "end": "1237800"
  },
  {
    "text": "So like all this stuff, every\nsingle step inside of there is being all kind of wrapped\nup into one function.",
    "start": "1237800",
    "end": "1244610"
  },
  {
    "text": "And then we need to take\nlike gradients and Jacobians and whatnot with\nrespect to that if we're going to do these\ninclusion functions,",
    "start": "1244610",
    "end": "1250653"
  },
  {
    "text": "and that can be\ncomputationally expensive. Another similar thing\nhere is that because we're using this kind of\nentire rollout function,",
    "start": "1250653",
    "end": "1257690"
  },
  {
    "text": "as we talked a little\nbit about last lecture, the nonlinearities\nthat are present in all of our various models\nwill compound over time,",
    "start": "1257690",
    "end": "1264860"
  },
  {
    "text": "because we're getting them\nfor every single time step. So those are two issues.",
    "start": "1264860",
    "end": "1270190"
  },
  {
    "text": "One thing that's\nnice is it doesn't have an issue with\nthe wrapping effect. And you're like, what the\nheck is the wrapping effect? We haven't even\ntalked about that.",
    "start": "1270190",
    "end": "1276370"
  },
  {
    "text": "It's a thing that concrete\nreachability has an issue with, so we'll get there in a second.",
    "start": "1276370",
    "end": "1281720"
  },
  {
    "text": "OK, so concrete reachability. More computationally\nefficient because now we're just doing one step\nat a time, so we only",
    "start": "1281720",
    "end": "1288320"
  },
  {
    "text": "have to consider one\nstep of our system when we're taking gradients\nand all that stuff.",
    "start": "1288320",
    "end": "1294320"
  },
  {
    "text": "We don't have this issue of\ncompounding nonlinearities because we're just doing\nthe non-linearity that's in a single step\nevery single time,",
    "start": "1294320",
    "end": "1300960"
  },
  {
    "text": "so that can decrease the\namount of overapproximation. But you do have this thing\ncalled the wrapping effect,",
    "start": "1300960",
    "end": "1308130"
  },
  {
    "text": "which is basically error from\nconcretizing the reachable set at every single time step.",
    "start": "1308130",
    "end": "1313530"
  },
  {
    "text": "So if we go back here and we\nlook at this, we at time step 2, we concretize like an\napproximate reachable set",
    "start": "1313530",
    "end": "1320960"
  },
  {
    "text": "for time step 2, and then we\nuse this over approximate set to compute the reachable\nset at time step 3.",
    "start": "1320960",
    "end": "1327450"
  },
  {
    "text": "And so we're including\na whole bunch of starting points\nat time step 2 that probably aren't actually\npart of the reachable set.",
    "start": "1327450",
    "end": "1333480"
  },
  {
    "text": "But because we can only get\nthis over approximate version, we had to do that. And then this kind of\nover approximation error",
    "start": "1333480",
    "end": "1338907"
  },
  {
    "text": "will compound over time, and\nit's called the rapping effect.",
    "start": "1338907",
    "end": "1344480"
  },
  {
    "text": "Now we're going to\nclick through all this. ",
    "start": "1344480",
    "end": "1353200"
  },
  {
    "text": "Yeah. Why is this any different\nthan the previous approach in the sense of just run\nthe previous approach up",
    "start": "1353200",
    "end": "1360520"
  },
  {
    "text": "to a smaller horizon\nand then look at it and then keep running? That would be this.",
    "start": "1360520",
    "end": "1367600"
  },
  {
    "text": "So this is-- also I'm saying\ndo it every time step, but you could do a mix. You could do three time steps\nconcretize another three time",
    "start": "1367600",
    "end": "1374020"
  },
  {
    "text": "steps concretize. Maybe I'm not quite\nsure is like, what does it mean to concretize in\nthe sense of-- conceptually",
    "start": "1374020",
    "end": "1381880"
  },
  {
    "text": "not how to do it\nmathematically, but you have a set that\nyou're propagating in either of these cases.",
    "start": "1381880",
    "end": "1388010"
  },
  {
    "text": "Why is it the one suddenly\ncould shrink the bound?  So when you propagate, let's say\nI want to go from time step 1",
    "start": "1388010",
    "end": "1395980"
  },
  {
    "text": "to time step 3. Then I'm going to call\nthe step function twice. And then the function--\nso then let's",
    "start": "1395980",
    "end": "1402830"
  },
  {
    "text": "say I want to use a\nTaylor inclusion function. So now I'm going to create a\nlinear approximation of that,",
    "start": "1402830",
    "end": "1408720"
  },
  {
    "text": "and I'm going to create\na linear approximation of the rollout function\nfor two time steps,",
    "start": "1408720",
    "end": "1415700"
  },
  {
    "text": "and then that will give me my\nreachable set at time step 3. If I want to do the\nconcrete version, then I'm going to start with the\none for the initial time step.",
    "start": "1415700",
    "end": "1423180"
  },
  {
    "text": "I'm going to linearize only\none step of that function. Then I'm going to get an\nactual set out for that,",
    "start": "1423180",
    "end": "1430740"
  },
  {
    "text": "and then I'm going to pass that\nthrough the linearized one step version again. That makes sense?",
    "start": "1430740",
    "end": "1436850"
  },
  {
    "text": "I think, somewhat\nnaively, it doesn't seem that those two\nwould be that different, and in particular, it doesn't\nseem like it necessarily",
    "start": "1436850",
    "end": "1442580"
  },
  {
    "text": "gives us a smaller set. It doesn't necessarily give\nyou one, but sometimes. Got it. Yeah, which actually was going\nto be like my next point.",
    "start": "1442580",
    "end": "1449160"
  },
  {
    "text": "So whether symbolic or concrete\nreachability will perform better is very much problem dependent. So, maybe if you're really\nworried about these compounding",
    "start": "1449160",
    "end": "1456900"
  },
  {
    "text": "nonlinearities, which\nturns out like surprise, surprise is going to be\nthe case for the pendulum, then concrete reachability\nmight be better.",
    "start": "1456900",
    "end": "1464350"
  },
  {
    "text": "But if your concretizing into\nsome big over approximate set, then the wrapping\neffect is going to be a major issue and then\nmaybe symbolic will be better.",
    "start": "1464350",
    "end": "1471070"
  },
  {
    "text": "So it's not always obvious. And like I just said, people\ntend to combine these. So maybe you do a few symbolic\nsteps, concretize, do a few more",
    "start": "1471070",
    "end": "1478259"
  },
  {
    "text": "symbolic steps, and so on. So you can trade off\nbetween these things.",
    "start": "1478260",
    "end": "1484559"
  },
  {
    "text": "OK, let's see if this\nfixed our problem. ",
    "start": "1484560",
    "end": "1490110"
  },
  {
    "text": "So now we're going to\ndo concrete conservative linearization, and you can\nsee there's no more options.",
    "start": "1490110",
    "end": "1496240"
  },
  {
    "text": "So let's hope that this works. OK. Here's one step. ",
    "start": "1496240",
    "end": "1505679"
  },
  {
    "text": "Yay. OK. So now we can tell that\nour system is safe.",
    "start": "1505680",
    "end": "1512102"
  },
  {
    "text": "We're nowhere near\nthe avoid set, and we've got this kind of\nreally nice tight bound, even for 14 time steps\nout on the reachable set.",
    "start": "1512102",
    "end": "1520640"
  },
  {
    "text": "And this is using the previous\nreachability version together with the concretization.",
    "start": "1520640",
    "end": "1526070"
  },
  {
    "text": "Yeah, it's using the\nconservative linearization with the concretization. You can make any combination\nthat you want, though.",
    "start": "1526070",
    "end": "1536010"
  },
  {
    "text": "Yeah. [INAUDIBLE] Sure. So let's say imagine like--",
    "start": "1536010",
    "end": "1543559"
  },
  {
    "text": "let's say for step\n14, so this step here. When we do this version of\nthings that had this crazy",
    "start": "1543560",
    "end": "1552529"
  },
  {
    "text": "overapproximation, we're\nconsidering the rollout function through 14 time steps.",
    "start": "1552530",
    "end": "1558660"
  },
  {
    "text": "And so when we\nlinearize that, we're trying to linearize\nthis function that's got non-linearity\nafter non-linearity",
    "start": "1558660",
    "end": "1564799"
  },
  {
    "text": "after non-linearity, because we\nkeep applying that non-linearity in the step function. And so you could imagine\nthat that's probably not",
    "start": "1564800",
    "end": "1572669"
  },
  {
    "text": "going to work so well because\nwe're trying to linearize a very nonlinear function, then\nwe get this huge amount of approximation error.",
    "start": "1572670",
    "end": "1578880"
  },
  {
    "text": "Versus when we do\nit from this one, we're starting with the\nset at time step 13.",
    "start": "1578880",
    "end": "1586840"
  },
  {
    "text": "And then we're saying,\nlet's just take one step, linearize just\nthat one step so that's going to be less nonlinear.",
    "start": "1586840",
    "end": "1592420"
  },
  {
    "text": "If you remember the pendulum\nonly has sine in it. That's like the\nonly nonlinearity. So then in that case, we\nstart with this small set.",
    "start": "1592420",
    "end": "1600490"
  },
  {
    "text": "We don't have too much\nof approximation error, and then we just make one\nstep and we get a smaller one.",
    "start": "1600490",
    "end": "1607650"
  },
  {
    "text": "We get rid of the\nnonlinear of the fact that we're trying to do\nover the full time stuff. But then, I guess, we don't\nsee the wrapping effect here.",
    "start": "1607650",
    "end": "1616409"
  },
  {
    "text": "The wrapping effect\nended up being too bad. So you can imagine,\nlet's say that instead of doing\nthe concretisation",
    "start": "1616410",
    "end": "1624060"
  },
  {
    "text": "on the conservative\nlinearization, and instead I did it say like on\nthe Taylor inclusion function.",
    "start": "1624060",
    "end": "1630040"
  },
  {
    "text": "Then now when I compute the\nreachable set at the next time step, I have to take\nthis entire rectangle",
    "start": "1630040",
    "end": "1635150"
  },
  {
    "text": "and use that as my starting\nset for the next time step. And so I'm going to get all this\nextra like states that probably",
    "start": "1635150",
    "end": "1642500"
  },
  {
    "text": "aren't in our reachable set,\nbut we don't know for sure. And that's going to\ncompound over time,",
    "start": "1642500",
    "end": "1647910"
  },
  {
    "text": "and so then the wrapping effect\nprobably would be a lot worse. So yeah, it's not always clear. There's a really nice\ndiscussion in the book of it",
    "start": "1647910",
    "end": "1654740"
  },
  {
    "text": "that I recommend checking out,\nbut it's not always clear, which one is going\nto be better or which one is going to dominate.",
    "start": "1654740",
    "end": "1660330"
  },
  {
    "text": " OK, but can we do even better?",
    "start": "1660330",
    "end": "1667640"
  },
  {
    "text": "Yes, we can. So this last thing that we're\ngoing to talk about today is partitioning, and\nso here's the idea.",
    "start": "1667640",
    "end": "1674250"
  },
  {
    "text": "We already kind of talked\nabout it a little bit earlier. But basically with\npartitioning what we're going to do is we\nhave some initial set,",
    "start": "1674250",
    "end": "1681330"
  },
  {
    "text": "and then what we do is we\npartition this initial set into some smaller set of subsets\nsuch that the union of them",
    "start": "1681330",
    "end": "1689730"
  },
  {
    "text": "will give us our original set. And then we're just going\nto do the reachability for each subset, so I'm going\nto pretend like I'm just",
    "start": "1689730",
    "end": "1696995"
  },
  {
    "text": "starting in this\npurple set, what is the set of states I could\nreach starting in the blue set and so on? And then we get\nthese sets over here.",
    "start": "1696995",
    "end": "1704320"
  },
  {
    "text": "And then all we have to do is\ntake the union of these sets, and then this gives us\nan overapproximation of our reachable set\nat the next time step.",
    "start": "1704320",
    "end": "1713550"
  },
  {
    "text": "And you can do this for\nhowever many time steps you want to do this. And so you might be thinking,\nOK, why would we do this?",
    "start": "1713550",
    "end": "1720809"
  },
  {
    "text": "And we already kind of\ntalked about it a little bit in response to one of\nthe questions earlier, which was that\npropagating smaller sets",
    "start": "1720810",
    "end": "1727320"
  },
  {
    "text": "tends to result in less\nover approximation error. And the idea there\nis when we try",
    "start": "1727320",
    "end": "1732809"
  },
  {
    "text": "to linearize a function,\nfor example, depending on what algorithm we're\nusing for this propagation,",
    "start": "1732810",
    "end": "1738240"
  },
  {
    "text": "if we're trying to linearize\nthem like a smaller set is going to be-- that linear\napproximation will be",
    "start": "1738240",
    "end": "1744299"
  },
  {
    "text": "closer to the true values\nin a smaller region, because you can imagine if you\nshrink all the way to it's just",
    "start": "1744300",
    "end": "1750093"
  },
  {
    "text": "a point, your\nlinear approximation will match exactly. And so one thing is that\njust like propagating",
    "start": "1750093",
    "end": "1756160"
  },
  {
    "text": "these smaller sets will result\nin less approximation error. So then when you take\nthe union of them, ideally you have less\napproximation error in total.",
    "start": "1756160",
    "end": "1764560"
  },
  {
    "text": "And then the second\nthing that's kind of cool is we can actually\nrepresent non-convex sets as a union of convex sets.",
    "start": "1764560",
    "end": "1771050"
  },
  {
    "text": "So even though here let's say I\nwas using the Taylor inclusion function, and we could only\nget hyper rectangles out,",
    "start": "1771050",
    "end": "1777470"
  },
  {
    "text": "we'll get hyperrectangles\nout for our reachable sets of each subset in the partition.",
    "start": "1777470",
    "end": "1782763"
  },
  {
    "text": "But then when we take\nthe union of them, this is now a\nnon-convex set, so we can represent more interesting\nshapes if we partition the input",
    "start": "1782763",
    "end": "1789850"
  },
  {
    "text": "space. Any questions on that?",
    "start": "1789850",
    "end": "1794970"
  },
  {
    "text": "Yeah. I guess also before in the\nPluto notebook, the result that you showed\nlooked really good.",
    "start": "1794970",
    "end": "1800240"
  },
  {
    "text": "But also the set was\nlike shaped like a line, so there was a little bit\ncheating because if you use a--",
    "start": "1800240",
    "end": "1806880"
  },
  {
    "text": "because actually the most\nrecent inclusion function was basically like a line\nshape plus some bounce.",
    "start": "1806880",
    "end": "1814870"
  },
  {
    "text": "And so I guess with\nthis you could-- if you had some let's say\nmoon shape or whatever, you would probably\nalready run into trouble.",
    "start": "1814870",
    "end": "1820660"
  },
  {
    "text": "And now I guess with this you\ncan try to have a bunch of lines next to each other\nthat's kind of--",
    "start": "1820660",
    "end": "1825690"
  },
  {
    "text": "Yeah, that's exactly right. So if our set in the\npendulum was some weird,",
    "start": "1825690",
    "end": "1831600"
  },
  {
    "text": "I don't know, dome or\nsomething like that. [INAUDIBLE] OK, I won't call it weird.",
    "start": "1831600",
    "end": "1837600"
  },
  {
    "text": "If I said it was\nsome dome, yeah, then this might help you out\nbecause you could actually kind",
    "start": "1837600",
    "end": "1844830"
  },
  {
    "text": "of using a bunch of\ntiny hyperrectangles try to represent them. But I remember I think\nI tried this once,",
    "start": "1844830",
    "end": "1850660"
  },
  {
    "text": "and I think you can get a\ncombinatorial explosion of-- because later you want to do\nset intersection or something",
    "start": "1850660",
    "end": "1857250"
  },
  {
    "text": "like this. Yeah, and if your system\nis like high dimensional, partitioning is going\nto-- if you want to evenly",
    "start": "1857250",
    "end": "1863658"
  },
  {
    "text": "partition, it's going\nto grow exponentially with the size of the, yeah. ",
    "start": "1863658",
    "end": "1870890"
  },
  {
    "text": "Is that best practice\nto partition and then do some propagation,\nrepartition, do some propagation or keep your partitions?",
    "start": "1870890",
    "end": "1879160"
  },
  {
    "text": "It's probably problem dependent. I think there's just\na ton of research out there on like efficient\npartitioning strategies",
    "start": "1879160",
    "end": "1886040"
  },
  {
    "text": "and people have tried\nlike everything. My intuition has been like--",
    "start": "1886040",
    "end": "1891095"
  },
  {
    "text": "I was going to try to\nmake a joke about this, but I couldn't think\nof anything funny. But like how there's\nthose things where people",
    "start": "1891095",
    "end": "1897010"
  },
  {
    "text": "do all this crazy math,\ncomplicated whatever, and then a machine learning model just\nlike blows it out of the water? I feel like that with\npartitioning throughout my PhD,",
    "start": "1897010",
    "end": "1904610"
  },
  {
    "text": "we would come up with all\nthese great strategies and then it turns\nout like you just partition it like everything\njust seems to work really well.",
    "start": "1904610",
    "end": "1910370"
  },
  {
    "text": "So I would definitely highlight\nthis is a very good strategy, and maybe for project 3 it\nwould be something worth trying.",
    "start": "1910370",
    "end": "1918080"
  },
  {
    "text": "So now just so you can\nsee what this looks like. So you can imagine that\nthe smaller and smaller",
    "start": "1918080",
    "end": "1924690"
  },
  {
    "text": "we make these subsets\nin the partition, of course, the more sets\nwe have to keep track of, but typically, the better and\nbetter approximation will get,",
    "start": "1924690",
    "end": "1931090"
  },
  {
    "text": "so here we go. There you go. I'll play it one more time.",
    "start": "1931090",
    "end": "1936450"
  },
  {
    "text": "So these are the subsets\nand then this is the result. So you can see now even though\neverything's a hyper rectangle,",
    "start": "1936450",
    "end": "1944580"
  },
  {
    "text": "we can very closely\napproximate this kind of non-hyper rectangular set. ",
    "start": "1944580",
    "end": "1951210"
  },
  {
    "text": "Yes. Is it always easy\nto come up with--",
    "start": "1951210",
    "end": "1956760"
  },
  {
    "text": "partitioning a\nrectangle, I can do it. Partitioning some\nstrange output shape,",
    "start": "1956760",
    "end": "1962710"
  },
  {
    "text": "seems like difficult somehow. If you want to maybe\npartition again this new thing",
    "start": "1962710",
    "end": "1968840"
  },
  {
    "text": "or whatever. Oh, well, I think what I would\ndo is only partition the input set, which typically is nice and\nthen propagate them all the way",
    "start": "1968840",
    "end": "1976770"
  },
  {
    "text": "to the opposite. Yeah. ",
    "start": "1976770",
    "end": "1984159"
  },
  {
    "text": "How many things partitioned\ninto two and what size?",
    "start": "1984160",
    "end": "1989200"
  },
  {
    "text": "The general rule is like\nsmaller, the better. So the more partitions\nyou do, the better.",
    "start": "1989200",
    "end": "1994670"
  },
  {
    "text": "But, of course, that's\ngoing to increase your computational costs\nbecause now you have more sets to keep track of. So you could be smart.",
    "start": "1994670",
    "end": "2000460"
  },
  {
    "text": "You could be like,\noh, I think I'm going to get a lot of\noverapproximation error in this region, so I'm going\nto make that part really small.",
    "start": "2000460",
    "end": "2005950"
  },
  {
    "text": "And then these other parts\nI don't care as much about. Or there's so many\nthings you can do, and there's actually a ton\nof papers about people trying",
    "start": "2005950",
    "end": "2012780"
  },
  {
    "text": "to do just this, including\nsome of my papers, so yeah, there's lots of\ndifferent ways to do it.",
    "start": "2012780",
    "end": "2018250"
  },
  {
    "text": " And it generally makes\nreally cool looking chips.",
    "start": "2018250",
    "end": "2025440"
  },
  {
    "text": "So this is one of my\nfirst projects for my PhD, and I think it is what inspired\nme to make cool animations",
    "start": "2025440",
    "end": "2031890"
  },
  {
    "text": "in the future, so there you go.  OK, that is it for a\nnonlinear reachability.",
    "start": "2031890",
    "end": "2041139"
  },
  {
    "text": "OK, cool. So we'll switch over\nnow to the third chapter",
    "start": "2041140",
    "end": "2047530"
  },
  {
    "text": "on reachability which is\ndiscrete reachability.",
    "start": "2047530",
    "end": "2053530"
  },
  {
    "text": "So for discrete reachability,\nwe talked about reachability for linear systems. We talked about reachability\nfor nonlinear systems.",
    "start": "2053530",
    "end": "2060195"
  },
  {
    "text": "Those are both continuous. Now we're going to\ntalk about reachability for discrete systems, where\nwe have discrete states",
    "start": "2060195",
    "end": "2065500"
  },
  {
    "text": "and disturbances. And it turns out we can\nrepresent discrete systems using directed graphs.",
    "start": "2065500",
    "end": "2071770"
  },
  {
    "text": "So in our graph of a discrete\nsystem, we have our states.",
    "start": "2071770",
    "end": "2077120"
  },
  {
    "text": "So the state-- the system,\nparticularly has two states. So we have S1 and S2, and\nour nodes in the graph",
    "start": "2077120",
    "end": "2083469"
  },
  {
    "text": "just represent states. And then we'll say\nlike maybe from S1, we have a 0.8 chance\nof transitioning to S2,",
    "start": "2083469",
    "end": "2091520"
  },
  {
    "text": "or we have a 0.2 chance\nof staying in S1. And so the edges\non our graph are",
    "start": "2091520",
    "end": "2096779"
  },
  {
    "text": "going to be potential\ntransitions that could happen between states, and\nthen the weights on the edges",
    "start": "2096780",
    "end": "2101880"
  },
  {
    "text": "are the probability of\nthis transition occurring. And then similarly\nfrom state 2, maybe we",
    "start": "2101880",
    "end": "2108270"
  },
  {
    "text": "have a 0.9 chance of going back\nto S1 and 0.1 of staying in S2.",
    "start": "2108270",
    "end": "2113610"
  },
  {
    "text": "And in general, it's possible\nto convert any discrete system into a graph like this.",
    "start": "2113610",
    "end": "2118720"
  },
  {
    "text": "So here's the code that\nwe have in the book. The first line here we just\ngrab all of the states. So because it's a\ndiscrete system,",
    "start": "2118720",
    "end": "2124920"
  },
  {
    "text": "we can just\nenumerate the states. So in this case, we have\nthe states are S1 and S2.",
    "start": "2124920",
    "end": "2130480"
  },
  {
    "text": "That's what we had. We create a graph\nwith these states, and then we just go\nthrough each state.",
    "start": "2130480",
    "end": "2136300"
  },
  {
    "text": "And we have this\nsuccessors function, which tells us all of\nthe possible next states and the probability of\ntransitioning to them.",
    "start": "2136300",
    "end": "2142540"
  },
  {
    "text": "So that would give\nus this 0.2 and 0.8, and we add them as weighted\nedges to our graph.",
    "start": "2142540",
    "end": "2149579"
  },
  {
    "text": "Then we go back and we\ngo to the next state. And then we, again,\ncompute the successors and add them as\nedges to our graph.",
    "start": "2149580",
    "end": "2157430"
  },
  {
    "text": "So nothing too\ncrazy going on here. It just happens\nthat if we represent discrete systems in this way,\nwe're able to do lots of things",
    "start": "2157430",
    "end": "2166359"
  },
  {
    "text": "to them to do some analysis.  And so then this\nis our final graph.",
    "start": "2166360",
    "end": "2173810"
  },
  {
    "text": "And we can do this\nfor more than systems with more than just two states. So for example for\nthe Gridworld example,",
    "start": "2173810",
    "end": "2180589"
  },
  {
    "text": "this is what the\ngraph looks like. So there's a node for every\nsingle square in the Gridworld,",
    "start": "2180590",
    "end": "2187130"
  },
  {
    "text": "and then there's these\nedges that represent the transitions between nodes.",
    "start": "2187130",
    "end": "2192470"
  },
  {
    "text": "And in this plot,\nwe have darker edges being like higher\nprobability of transition.",
    "start": "2192470",
    "end": "2197800"
  },
  {
    "text": "So for example, you can\nsee the dark edge here is to go up, which is the\nhighest probability outcome.",
    "start": "2197800",
    "end": "2205670"
  },
  {
    "text": "And then, again, so you can\nsee what the policy in general would be from just the\ncolors of these is edges.",
    "start": "2205670",
    "end": "2214589"
  },
  {
    "text": "OK. Any questions on converting\nthings to graphs? ",
    "start": "2214590",
    "end": "2223680"
  },
  {
    "text": "So with all of\nthat, we can do lots of different types of analysis. So one type is just computing\nreachable sets from this.",
    "start": "2223680",
    "end": "2232589"
  },
  {
    "text": "Another thing we'll talk about\nis satisfiability, but super briefly. And then we'll talk about\nprobabilistic reachability,",
    "start": "2232590",
    "end": "2238920"
  },
  {
    "text": "which is kind of cool. Something that we haven't\ndone in the other reachability chapters. And then you might\nbe thinking, oh, I'm",
    "start": "2238920",
    "end": "2245674"
  },
  {
    "text": "going to tune out this\nwhole lecture because I only care about continuous systems. Please don't. You can convert\ncontinuous systems",
    "start": "2245675",
    "end": "2251789"
  },
  {
    "text": "into discrete systems\nusing something called a discrete\nstate abstraction, so we'll talk about that.",
    "start": "2251790",
    "end": "2258030"
  },
  {
    "text": "OK, let's start\nwith reachable sets. So let's consider this\nvery simple system here.",
    "start": "2258030",
    "end": "2263289"
  },
  {
    "text": "It's just got a\nfew states in it. And we want to compute\nthe forward reachable set for this system.",
    "start": "2263290",
    "end": "2268930"
  },
  {
    "text": "And so what that\nmeans is we start in our initial set of states. So in this case, it's\njust one state S1.",
    "start": "2268930",
    "end": "2274700"
  },
  {
    "text": "And then we just go\nforward, one step in time, so we look at all\nthe states that are connected to it with a\nforward edge going to them.",
    "start": "2274700",
    "end": "2282490"
  },
  {
    "text": "And then those are going to be\nreachable at the next time step. And then we go one more\ntime step in the future,",
    "start": "2282490",
    "end": "2288050"
  },
  {
    "text": "and then we can just continue\nto do this to figure out what the forward reachable set is.",
    "start": "2288050",
    "end": "2293890"
  },
  {
    "text": "And you'll notice I dropped the\nprobabilities of these edges. I dropped off the weights. And that's because when we're\njust talking about reachability,",
    "start": "2293890",
    "end": "2300830"
  },
  {
    "text": "we just want to know what\nstates are reachable. So as long as there's a non-zero\nprobability of transitioning from one state to the\nother, we have an edge there",
    "start": "2300830",
    "end": "2308119"
  },
  {
    "text": "and so all we care is\nbasically whether or not there's an edge at this point.",
    "start": "2308120",
    "end": "2313330"
  },
  {
    "text": "We can also compute\nbackward reachable sets. And so in this case,\nwe start basically",
    "start": "2313330",
    "end": "2318430"
  },
  {
    "text": "at the target set, so the set\nthat we care about reaching. So it could be the\nset we want to avoid or it could be a set\nthat we want to reach.",
    "start": "2318430",
    "end": "2325009"
  },
  {
    "text": "And we start at this\ntarget set, and then we're just going to go backwards\nthrough the graph. So we're only going\nto be able to go",
    "start": "2325010",
    "end": "2330470"
  },
  {
    "text": "kind of the reverse\ndirection of edges. So we'll start at\nthe target set. Go one step backwards. One step backwards,\nagain, and this gives us",
    "start": "2330470",
    "end": "2337020"
  },
  {
    "text": "the backwards reachable set. So nothing crazy going\non here, and this process is really just equivalent to\nbreadth first search of a graph.",
    "start": "2337020",
    "end": "2345445"
  },
  {
    "text": "So once we've taken\nour discrete system and converted it to\na graph, we can just do breadth first search, and\nthat gives us the forward",
    "start": "2345445",
    "end": "2351150"
  },
  {
    "text": "and backward reachable sets.  So let's see what this looks\nlike for the Gridworld problem.",
    "start": "2351150",
    "end": "2362000"
  },
  {
    "text": "OK. So here's our Gridworld graph. I'm not really showing\nany-- here's all the edges, but I'm not showing any\ndifference in their weight",
    "start": "2362000",
    "end": "2368100"
  },
  {
    "text": "because we don't care about\nthe probabilities right now. And so at the first time\nstep, we just start in this lower left corner.",
    "start": "2368100",
    "end": "2373839"
  },
  {
    "text": "We go one time step\ninto the future, and then these are\nthe two states that we could reach using those edges.",
    "start": "2373840",
    "end": "2380410"
  },
  {
    "text": "And then we can just\nkeep doing this, and get the reachable\nset over time.",
    "start": "2380410",
    "end": "2387270"
  },
  {
    "text": "And eventually\neverything is reachable because everything in the\ngrid world is connected, so this isn't super interesting.",
    "start": "2387270",
    "end": "2393370"
  },
  {
    "text": "But you could imagine and\nI'm going to show later. For the pendulum, I'm going to\nshow a graph where everything's",
    "start": "2393370",
    "end": "2398560"
  },
  {
    "text": "not connected, so\nthis ends up being more interesting\nbecause you can see over time what states actually\nend up being reached",
    "start": "2398560",
    "end": "2404799"
  },
  {
    "text": "as we like traverse\nthrough the graph. We could also do this, again,\nin the backwards direction.",
    "start": "2404800",
    "end": "2411980"
  },
  {
    "text": "So maybe we want to\nsay like what states could reach the obstacle state? So we're starting in\nthe obstacle state.",
    "start": "2411980",
    "end": "2418300"
  },
  {
    "text": "Or what states could\nreach the goal state? Starting in the goal state. So then if we go one time\nstep, or yeah, one time step,",
    "start": "2418300",
    "end": "2426230"
  },
  {
    "text": "this is all the states that\ncould reach the obstacle state in one time step. Again, nothing crazy.",
    "start": "2426230",
    "end": "2431839"
  },
  {
    "text": "This is like a grid. We could do this in our head,\nbut for more complex graphs this becomes more interesting.",
    "start": "2431840",
    "end": "2437859"
  },
  {
    "text": "And then this is\nall the states that could reach the obstacle or\nthe goal in two time steps and so on, and then we\ncould do this for a while",
    "start": "2437860",
    "end": "2444516"
  },
  {
    "text": "and find out that basically\nall states could reach the obstacle and the goal.",
    "start": "2444517",
    "end": "2450200"
  },
  {
    "text": "OK, so one thing that's\nkind of cool about this though, is that for\ndiscrete reachability,",
    "start": "2450200",
    "end": "2456510"
  },
  {
    "text": "it ends up being much more\nstraightforward to check for invariant sets, because\nall we have to do is our sets",
    "start": "2456510",
    "end": "2462313"
  },
  {
    "text": "are just collections\nof states now or collections of\nnodes in the graph. And so to check if one set\nis a subset of another,",
    "start": "2462313",
    "end": "2468244"
  },
  {
    "text": "all we have to do is\ncheck if a set of states is a subset of another\nset of discrete states. And so basically what\nwe're saying here",
    "start": "2468245",
    "end": "2474620"
  },
  {
    "text": "is like if the reachable\nset from time step 1 through d is a subset\nof the reachable set",
    "start": "2474620",
    "end": "2480080"
  },
  {
    "text": "of the previous time steps,\nthen we know that R1 through d is an invariant set. We can't reach any\nmore states from it.",
    "start": "2480080",
    "end": "2487415"
  },
  {
    "text": "So let's just do\nan example here. I think we'll clear things up. So let's say we have\nthis system here,",
    "start": "2487415",
    "end": "2492660"
  },
  {
    "text": "which has four states in it. And let's say that our\ninitial set is S2 here,",
    "start": "2492660",
    "end": "2498110"
  },
  {
    "text": "so then R1 is equal to just S2. R2, we go one time\nstep into the future.",
    "start": "2498110",
    "end": "2505160"
  },
  {
    "text": "We can reach state's S3. That's the only\nstate we could reach. Now, we're at S3.",
    "start": "2505160",
    "end": "2510980"
  },
  {
    "text": "We go one more time\nstep into the future. We could either stay in S3\nor we could end up in S4,",
    "start": "2510980",
    "end": "2517310"
  },
  {
    "text": "so R3 is going to be S3 and S4. And then let's go one more\ntime step into the future.",
    "start": "2517310",
    "end": "2523250"
  },
  {
    "text": "We either stay in S4\nor end up back in S3, and so now we can\ncheck this property.",
    "start": "2523250",
    "end": "2529910"
  },
  {
    "text": "So we see that R1\nthrough 4, which is going to be all of the\nstates that we've seen here, so S2, S3, and S4.",
    "start": "2529910",
    "end": "2537040"
  },
  {
    "text": "We want to check if it's a\nsubset or equal to R1 through 3. So R1 through 3 is\nall of the states",
    "start": "2537040",
    "end": "2542500"
  },
  {
    "text": "we've seen so far through\nhere, which is S2, S3 and S4. That is the case,\nand so now we can",
    "start": "2542500",
    "end": "2548860"
  },
  {
    "text": "say that S2, S3, S4\nis an invariant set and we're going to stay\nin that set for all time",
    "start": "2548860",
    "end": "2554110"
  },
  {
    "text": "steps in the future. So we had kind of the\nsame thing going on with our linear reachability.",
    "start": "2554110",
    "end": "2560259"
  },
  {
    "text": "I think we talked about this. But the key insight\nhere is just that it tends to be much easier\nto actually check",
    "start": "2560260",
    "end": "2565460"
  },
  {
    "text": "for these subsets,\nbecause we're just checking whether\npoints are contained with another set of points.",
    "start": "2565460",
    "end": "2571850"
  },
  {
    "text": "Yeah. When I was looking at\nthe topic in the book, I had kind of imagined\nthat we would do this",
    "start": "2571850",
    "end": "2576890"
  },
  {
    "text": "by like discrete\nreachability, but we're setting up a transition matrix\nand then taking this matrix",
    "start": "2576890",
    "end": "2582740"
  },
  {
    "text": "to the infinite\npower, and then seeing which states have a non-zero\nprobability of being reached.",
    "start": "2582740",
    "end": "2589619"
  },
  {
    "text": "Does that make sense? How do you raise the matrix\nto the infinite power? You take a higher power until\nthe values don't change anymore",
    "start": "2589620",
    "end": "2597940"
  },
  {
    "text": "much. That's exactly it, so\nyou just keep going until you find this property. Sure. But the way we do it\nis kind of with a no.",
    "start": "2597940",
    "end": "2605069"
  },
  {
    "text": "But I guess my question\nis, if these are basically the same doing like a\nfor loop over some nodes",
    "start": "2605070",
    "end": "2610190"
  },
  {
    "text": "and then trying to add\nto some set versus doing like this linear\nalgebra approach. It's kind of the\nsame thing basically.",
    "start": "2610190",
    "end": "2617369"
  },
  {
    "text": "OK.  Yeah. Is there ever a case in which\nwe stop fighting and never fight",
    "start": "2617370",
    "end": "2625750"
  },
  {
    "text": "a civilian property\nfor finite groups? ",
    "start": "2625750",
    "end": "2633860"
  },
  {
    "text": "Is this a good termination\ncondition for everything we try or for most\nthings we try?",
    "start": "2633860",
    "end": "2639790"
  },
  {
    "text": "Well, it could take a\nreally long time to find it. This is true. But it feels like you would.",
    "start": "2639790",
    "end": "2645410"
  },
  {
    "text": "I don't know. I can't say for sure, but I\nfeel like you would always have this happen. Well, because you could\njust reach every state",
    "start": "2645410",
    "end": "2651369"
  },
  {
    "text": "or reach all states\nthat are reachable, and then you're\nalways going to-- But is there some-- because\nwe never take a state away.",
    "start": "2651370",
    "end": "2659270"
  },
  {
    "text": " Yeah. I know we do, because R1--",
    "start": "2659270",
    "end": "2664870"
  },
  {
    "text": "R1 through 4 will or R1-- Yeah. So yeah, I think it is the case.",
    "start": "2664870",
    "end": "2670610"
  },
  {
    "text": " And so one thing that\nmight be cool about this",
    "start": "2670610",
    "end": "2676000"
  },
  {
    "text": "is like now that we\nhave an invariant set, we know we're never going\nto reach any other states other than S2, S3, S4,\nso that would tell us",
    "start": "2676000",
    "end": "2681770"
  },
  {
    "text": "that we could never reach S1. So for some reason we\ncared about whether or not we reach S1, now we could\nmake these types of claims.",
    "start": "2681770",
    "end": "2688690"
  },
  {
    "text": " So super briefly, let's\ntalk about satisfiability.",
    "start": "2688690",
    "end": "2694440"
  },
  {
    "text": "So here I just told you how\nto compute the reachable set, but I didn't necessarily\ntell you what to do with it.",
    "start": "2694440",
    "end": "2700640"
  },
  {
    "text": "So one thing we might want\nto do with this reachable set is determine whether or\nnot we end up in some set",
    "start": "2700640",
    "end": "2705860"
  },
  {
    "text": "that we want to avoid. So let's say in this case, the\ntarget set is an avoid set.",
    "start": "2705860",
    "end": "2711650"
  },
  {
    "text": "And we can look at\nthis graph on the left, and we can do\nforward reachability. So we see one time step,\nwe could end up here.",
    "start": "2711650",
    "end": "2717350"
  },
  {
    "text": "Two time steps, we\ncould end up here. And now we've reached\nan invariant set. We can't go anywhere\nelse from here.",
    "start": "2717350",
    "end": "2722760"
  },
  {
    "text": "And this does not intersect\nwith the a void set, so we can say that it's safe. Similarly here, now\nwe go and we can",
    "start": "2722760",
    "end": "2729680"
  },
  {
    "text": "see that we could end up here in\none time step, here and two time steps, and then in\nthree time steps we can end up at the\navoid set, so then we",
    "start": "2729680",
    "end": "2737160"
  },
  {
    "text": "can say that this is unsafe. So basically, we just want to\ncheck if our forward reachable set ends up intersecting\nwith this avoid set.",
    "start": "2737160",
    "end": "2744240"
  },
  {
    "text": "Similarly, for\nbackwards reachability, we can start at the avoid set. Go one step backwards, go\none step backwards again.",
    "start": "2744240",
    "end": "2751119"
  },
  {
    "text": "And then we can see\nthat this doesn't intersect with our initial\nset, and so our system is safe.",
    "start": "2751120",
    "end": "2758130"
  },
  {
    "text": "In this case, we can\ngo backwards one step, go backwards one step again,\nand then one step again.",
    "start": "2758130",
    "end": "2764578"
  },
  {
    "text": "And we see that it does\nintersect with our initial set, and so this is unsafe. So basically, the\nidea here is just",
    "start": "2764578",
    "end": "2771120"
  },
  {
    "text": "that for forward and\nbackward reachability-- for forward reachability, we\nstart at some initial set. And we check if our\nreachable set intersects",
    "start": "2771120",
    "end": "2777780"
  },
  {
    "text": "with some bad set. And then for backward\nreachability, we start at the set we\ndon't want to end up at.",
    "start": "2777780",
    "end": "2783310"
  },
  {
    "text": "We go backwards, and we see\nif any of those states that could reach the avoid set and-- avoid set include the initial\nstate that we expect our system",
    "start": "2783310",
    "end": "2791970"
  },
  {
    "text": "to start in. So doing this is basically\nchecking satisfiability.",
    "start": "2791970",
    "end": "2797520"
  },
  {
    "text": "We're checking if a system\nsatisfies a property, specifically if it\nintersects this void set.",
    "start": "2797520",
    "end": "2804260"
  },
  {
    "text": "And one thing that's\nkind of interesting is we did that just now by\ncomputing the full reachable",
    "start": "2804260",
    "end": "2809750"
  },
  {
    "text": "set. But if we just want to\ncheck satisfiability and we don't care about what\nthe reachable set actually",
    "start": "2809750",
    "end": "2814880"
  },
  {
    "text": "looks like, there's much\nmore efficient methods for doing this. So if we're like, we can\ndo it without computing",
    "start": "2814880",
    "end": "2820790"
  },
  {
    "text": "the full reachable\nset, we can just see if there's any paths to\na bad state, for example. And so there's lots of\nthings you could do here.",
    "start": "2820790",
    "end": "2827370"
  },
  {
    "text": "You could do heuristic\nsearch for some situations. You can do Boolean\nsatisfiability, SMT, et cetera.",
    "start": "2827370",
    "end": "2833640"
  },
  {
    "text": "And section 10.3\ntalks about this, but we're not really\ngoing to get into it. But you can check it out in\nthe book if you're interested.",
    "start": "2833640",
    "end": "2840630"
  },
  {
    "text": " So now, we're going\nto get into this idea",
    "start": "2840630",
    "end": "2848359"
  },
  {
    "text": "of probabilistic reachability. And so probabilistic\nreachability.",
    "start": "2848360",
    "end": "2853410"
  },
  {
    "text": "So far, we've just been able\nto say we either reach a state or we don't reach a\nstate, but sometimes",
    "start": "2853410",
    "end": "2858630"
  },
  {
    "text": "we-- that's not good enough,\nbecause for the Gridworld, we were just like, oh, we can\nreach all possible states. That's not very interesting.",
    "start": "2858630",
    "end": "2864820"
  },
  {
    "text": "And ideally, yes, we can\nreach all possible states, but hopefully like the\nobstacle, for example, we reach but we reach with\nsome very low probability.",
    "start": "2864820",
    "end": "2872200"
  },
  {
    "text": "So that's kind of the goal here. And so you might think,\nwhy do I care about this? Why do I want to do\nprobabilistic reachability?",
    "start": "2872200",
    "end": "2880200"
  },
  {
    "text": "And so I'm going to\nintroduce it with this bet that I have with my husband. So we have these\ngoals or challenges",
    "start": "2880200",
    "end": "2887309"
  },
  {
    "text": "that we've set for each\nother, and we wonder which one will be reached first.",
    "start": "2887310",
    "end": "2893130"
  },
  {
    "text": "And so the challenge\nthat he has set for me, so he used to play baseball at\na pretty high level growing up.",
    "start": "2893130",
    "end": "2898960"
  },
  {
    "text": "And he thinks that\nthere's no way that I could ever make contact\nwith a 90 mile an hour fastball.",
    "start": "2898960",
    "end": "2905100"
  },
  {
    "text": "For those of you who\ndon't play baseball or haven't really\nseen it, here's what a 90 mile per hour\nfastball looks like.",
    "start": "2905100",
    "end": "2911260"
  },
  {
    "text": "It's pretty fast, but all I\nhave to do is make contact. The bat just has to hit it.",
    "start": "2911260",
    "end": "2916380"
  },
  {
    "text": "So like, I don't know. And so the question is\nlike in fewer tries, would I be able to do this? Or if you might\nremember about me,",
    "start": "2916380",
    "end": "2923130"
  },
  {
    "text": "I used to jump\nrope competitively and there's this trick\ncalled a triple under, and he thinks that\nhe can do this.",
    "start": "2923130",
    "end": "2928970"
  },
  {
    "text": "Here's what it would look like. So that three times under\nyour feet before you land, so 1, 2, 3.",
    "start": "2928970",
    "end": "2935630"
  },
  {
    "text": "OK, so he thinks he can do this. So the question\nis, which of these would take fewer tries to do?",
    "start": "2935630",
    "end": "2943070"
  },
  {
    "text": "And we have not\ntested this out yet, although I will say he's about\n20 tries deep on the triple under and hasn't gotten there.",
    "start": "2943070",
    "end": "2948370"
  },
  {
    "text": "So we haven't gotten to\na batting cage for me to give it a try. OK, so let's say, though--\nlet's just hypothetically",
    "start": "2948370",
    "end": "2955280"
  },
  {
    "text": "say that we both adopt a policy\nof taking random actions. So I'm just randomly\nswinging the bat",
    "start": "2955280",
    "end": "2961039"
  },
  {
    "text": "and he is just randomly\nturning the rope and we'll see what happens. And so a reachability analysis,\neverything we've done so far,",
    "start": "2961040",
    "end": "2968318"
  },
  {
    "text": "would just tell us that both\nthese goals are reachable. So I think randomly\nat some point, he might accidentally\ndo a triple ender.",
    "start": "2968318",
    "end": "2973700"
  },
  {
    "text": "Maybe I'll like accidentally\nhit a 90 mile per hour fastball. But if you ask me, the\nfact like the probability",
    "start": "2973700",
    "end": "2978970"
  },
  {
    "text": "that I accidentally hit a\n90 mile per hour fastball is much higher than\nthe probability that he accidentally\ndoes a triple under.",
    "start": "2978970",
    "end": "2985700"
  },
  {
    "text": "I think the bat is just going\nto hit the ball at some point. I don't know. Those of you who play baseball,\nmaybe you can correct me.",
    "start": "2985700",
    "end": "2991900"
  },
  {
    "text": "But with the deterministic\nreachability, we don't get to\nknow these things.",
    "start": "2991900",
    "end": "2996980"
  },
  {
    "text": "We just say that it\ncould be reached. So we don't get to know\nthe relative likelihood of these goals. And if I'm going to specify\nsome terms for this bet,",
    "start": "2996980",
    "end": "3004240"
  },
  {
    "text": "I would like to know some\nof the relative likelihood. So that's the idea of\nprobabilistic reachability.",
    "start": "3004240",
    "end": "3010260"
  },
  {
    "text": "But obviously, this one is more\nlikely to occur because I mean, you guys have all seen my\nskills with a baseball bat,",
    "start": "3010260",
    "end": "3016780"
  },
  {
    "text": "so like clearly I've\ngot this in the bag.",
    "start": "3016780",
    "end": "3022605"
  },
  {
    "text": "I'll keep you posted if\nwe ever give it a try. So probabilistic\nreachability allows",
    "start": "3022605",
    "end": "3028220"
  },
  {
    "text": "us to understand the likelihood\nof reaching a particular state or set of states.",
    "start": "3028220",
    "end": "3035059"
  },
  {
    "text": "So specifically, the first thing\nthat we're going to talk about is probability of occupancy,\nand so that tells us",
    "start": "3035060",
    "end": "3041750"
  },
  {
    "text": "the distribution over reachable\nstates at each time step. So it's like what\nis the probability that the system is in this state\nat this time step over time?",
    "start": "3041750",
    "end": "3050900"
  },
  {
    "text": "And so we can compute this\nprobability recursively. So at the initial state\nor the initial time step,",
    "start": "3050900",
    "end": "3058220"
  },
  {
    "text": "the probability of being\nin state s at time step 1 is just going to be equal to\nthe initial state distribution.",
    "start": "3058220",
    "end": "3064859"
  },
  {
    "text": "So we just specify\nwhat that is, so we say like here's the\ndistribution over states that we might start in.",
    "start": "3064860",
    "end": "3070820"
  },
  {
    "text": "And then from there, we can say\nthat for time greater than 1, the probability of being\nin state s at time t plus 1",
    "start": "3070820",
    "end": "3079580"
  },
  {
    "text": "is equal to the probability\nof being in state s prime at time step t\ntimes the probability",
    "start": "3079580",
    "end": "3086300"
  },
  {
    "text": "that we transition\nfrom s to s prime. Sorry, transition\nto s from s prime.",
    "start": "3086300",
    "end": "3093300"
  },
  {
    "text": "So the idea is that we look\nat all possible states, so we have sum over these.",
    "start": "3093300",
    "end": "3099119"
  },
  {
    "text": "So we sum over all\npossible states that we could have come from. And we say, what\nis the probability we were in that state\nbefore times the probability",
    "start": "3099120",
    "end": "3106760"
  },
  {
    "text": "that we ended up transitioning\nto the state that we're now at?",
    "start": "3106760",
    "end": "3112270"
  },
  {
    "text": "So this is basically the formula\nthat we just apply over and over again for this. And so you can see\nwe've implemented it",
    "start": "3112270",
    "end": "3118280"
  },
  {
    "text": "in this algorithm, where we keep\ntrack of P in some dictionary. We just initialize it to the\ninitial state distribution",
    "start": "3118280",
    "end": "3125570"
  },
  {
    "text": "basically, and then\nat every time step we use our graph to actually\ndo this computation.",
    "start": "3125570",
    "end": "3131820"
  },
  {
    "text": "So the only time that this\ntransition probability is going to be non-zero\nis if in neighbor of s--",
    "start": "3131820",
    "end": "3139350"
  },
  {
    "text": "so if we have a state that's\ncoming in is connected.",
    "start": "3139350",
    "end": "3144480"
  },
  {
    "text": "So basically, we have\nconnections where this transition probability\nis non-zero, so we can just look at the n\nneighbors in our graph and look",
    "start": "3144480",
    "end": "3151530"
  },
  {
    "text": "at-- compute this formula. ",
    "start": "3151530",
    "end": "3158616"
  },
  {
    "text": "And one thing to note\nhere is like we're returning a probability\ndistribution over states, so all these probabilities that\nwe calculate if we sum over",
    "start": "3158616",
    "end": "3165960"
  },
  {
    "text": "s they should add up to 1. Because basically we're\nsaying at this time, here's the probability\nthat it's in any",
    "start": "3165960",
    "end": "3172950"
  },
  {
    "text": "of these different states. ",
    "start": "3172950",
    "end": "3178590"
  },
  {
    "text": "So let's see what\nthat looks like. ",
    "start": "3178590",
    "end": "3185250"
  },
  {
    "text": "So here, I'm showing\na similar thing. We still have the graph. I'm showing the nominal path.",
    "start": "3185250",
    "end": "3191590"
  },
  {
    "text": "So if we had no\ndisturbances at all, this is the path that we\nwould take to the goal. And then over time,\nI'm going to show",
    "start": "3191590",
    "end": "3199095"
  },
  {
    "text": "based on how blue it is\nwill be, how likely it is to be in that state. So we say all of\nour likelihood right",
    "start": "3199095",
    "end": "3204770"
  },
  {
    "text": "now is in this\nblue initial state, and then let's go one\ntime step into the future.",
    "start": "3204770",
    "end": "3211250"
  },
  {
    "text": "So now you can see we have\nmost of our probability, it was like most likely that\nwe transitioned to this state",
    "start": "3211250",
    "end": "3217309"
  },
  {
    "text": "up here. But it's possible\nthat we slipped and we stayed in the same\nstate or we slipped and we ended up over here.",
    "start": "3217310",
    "end": "3222570"
  },
  {
    "text": "Yeah. So this is a policy [INAUDIBLE]  Exactly. So this is our Gridworld.",
    "start": "3222570",
    "end": "3228930"
  },
  {
    "text": "This is our Gridworld agent. Yeah. So the graph is defined\nby looking at that policy",
    "start": "3228930",
    "end": "3236270"
  },
  {
    "text": "and understanding the\nif it takes this action and then these are\nthe disturbances, what is the probability\nit transitions",
    "start": "3236270",
    "end": "3241850"
  },
  {
    "text": "to these other states?  So that's one time step.",
    "start": "3241850",
    "end": "3247589"
  },
  {
    "text": "We can take one more\ntime step, and now you see it's still most likely\nthat we've kind of followed this nominal path up here.",
    "start": "3247590",
    "end": "3253050"
  },
  {
    "text": "But based on our disturbances,\nwe could have stayed here. We could still be here. We could have slipped over\nhere, over here with these",
    "start": "3253050",
    "end": "3258680"
  },
  {
    "text": "being a little bit less likely. And then, as we\nkeep going, you'll",
    "start": "3258680",
    "end": "3263940"
  },
  {
    "text": "see that this probability\njust kind follows up that nominal path, spreading\nout a little bit over time.",
    "start": "3263940",
    "end": "3270180"
  },
  {
    "text": "And you can see,\nwe do have a chance of reaching the obstacle state,\nbut it's this low probability.",
    "start": "3270180",
    "end": "3275650"
  },
  {
    "text": "So we know that most\nlikely we're up here, but there is this kind of\nsmall non-zero probability",
    "start": "3275650",
    "end": "3281040"
  },
  {
    "text": "that we could have ended up\nin the obstacle at this point. And then we can keep\ngoing over time,",
    "start": "3281040",
    "end": "3287350"
  },
  {
    "text": "and eventually, we just have\nthis very high probability that we've ended up\nin the goal state.",
    "start": "3287350",
    "end": "3293049"
  },
  {
    "text": "So by 42 timesteps,\nwe've most likely made it to the goal\nstate, and so that's why you have this\nhigh probability here.",
    "start": "3293050",
    "end": "3299045"
  },
  {
    "text": " So that's one thing we can do\nwith probabilistic reachability,",
    "start": "3299045",
    "end": "3306370"
  },
  {
    "text": "but we also might be\ninterested in the probability that a set of states is reached\nwith in a given time horizon.",
    "start": "3306370",
    "end": "3311722"
  },
  {
    "text": "So maybe we have some set\nof states we want to avoid, and we want to know the\nprobability of ending up in them.",
    "start": "3311722",
    "end": "3317220"
  },
  {
    "text": "And so what we\ncan do is, we want to compute this thing called-- we'll call it R\nsub t of s, which",
    "start": "3317220",
    "end": "3323487"
  },
  {
    "text": "represents the\nprobability of reaching a state in the target\nset in t time steps if we start in state S.",
    "start": "3323487",
    "end": "3328830"
  },
  {
    "text": "So I'm going to\ngive you some state. And I'm saying I have this\nmany time steps in the future, is it possible or what\nis the probability that I",
    "start": "3328830",
    "end": "3336080"
  },
  {
    "text": "reach this target set\nwithin that time frame? That's what we want to compute. And so we can again\ndo this recursively.",
    "start": "3336080",
    "end": "3342869"
  },
  {
    "text": "And so the idea here\nis for if we just have one time step,\nso we only get to see where we currently are.",
    "start": "3342870",
    "end": "3348330"
  },
  {
    "text": "Then the probability that we\nreach a state in the target set will be 1, if we're\nalready in the target set.",
    "start": "3348330",
    "end": "3353412"
  },
  {
    "text": "And if we're not\nin the target set, we don't have any\nmore time steps, and so it's going\nto be 0 otherwise,",
    "start": "3353412",
    "end": "3359190"
  },
  {
    "text": "so we start with that. And then we can say for\ntime steps greater than 1, well the probability\nthat we reach",
    "start": "3359190",
    "end": "3364700"
  },
  {
    "text": "the target set at some\npoint is going to still be 1 if we're in the target set. But if we're not\nin the target set,",
    "start": "3364700",
    "end": "3370140"
  },
  {
    "text": "it's kind of the opposite\nof what we were just doing. So we're saying the\nprobability of reaching a state in the target set in\nt plus 1 time steps from state",
    "start": "3370140",
    "end": "3377910"
  },
  {
    "text": "is going to be the probability\nof reaching the target set in t time steps from state s prime,\ntimes the probability that we",
    "start": "3377910",
    "end": "3385920"
  },
  {
    "text": "transitioned to S\nprime from state s to-- yeah, from state\ns, and then we're",
    "start": "3385920",
    "end": "3392640"
  },
  {
    "text": "going to sum over all\npossible next states. So we're going to say, I'm going\nto look at all the next states that I could go to.",
    "start": "3392640",
    "end": "3397869"
  },
  {
    "text": "And I'm going to say,\nwhat is the probability that from that next state\nI reach the target set? And I'm going to multiply this.",
    "start": "3397870",
    "end": "3403205"
  },
  {
    "text": " Give me a second\nto take that in.",
    "start": "3403205",
    "end": "3408214"
  },
  {
    "start": "3408215",
    "end": "3413991"
  },
  {
    "text": "So here, again, it is in code. We're doing a very\nsimilar thing, so we have this condition here.",
    "start": "3413991",
    "end": "3419830"
  },
  {
    "text": "And then now we're\nusing the out neighbors of the graph instead\nof in neighbors because we're looking at\nwhat we could transition to.",
    "start": "3419830",
    "end": "3426365"
  },
  {
    "text": " OK, question for you. Will all of these\nentries in R sum to 1?",
    "start": "3426365",
    "end": "3434555"
  },
  {
    "start": "3434555",
    "end": "3446829"
  },
  {
    "text": "I stumped you guys. ",
    "start": "3446830",
    "end": "3455920"
  },
  {
    "text": "[INAUDIBLE] If I sum this over all\nof s, will it sum to 1?",
    "start": "3455920",
    "end": "3464320"
  },
  {
    "text": "I see a no. No. Yeah, OK, great.",
    "start": "3464320",
    "end": "3469340"
  },
  {
    "text": "It will not. And so the reason\nfor that is this isn't a probability distribution\nover states we could end up in.",
    "start": "3469340",
    "end": "3475460"
  },
  {
    "text": "This is saying if I\nstart in this state, what is the probability that I reach\nthe target set within some time",
    "start": "3475460",
    "end": "3481750"
  },
  {
    "text": "horizon? And so I could have\n0.9 probability of reaching the target\nset from this state, and I could also have\na 0.9 probability",
    "start": "3481750",
    "end": "3488530"
  },
  {
    "text": "of reaching the target\nset from this state, and so they're not\ngoing to sum to 1. This isn't like a\nprobability distribution",
    "start": "3488530",
    "end": "3493830"
  },
  {
    "text": "that we're calculating.  So let's see what\nthis looks like.",
    "start": "3493830",
    "end": "3499805"
  },
  {
    "text": " So now, I'm going\nto show it again,",
    "start": "3499805",
    "end": "3505434"
  },
  {
    "text": "so let's say that we\nwant to figure out what is the probability that we\nend up in this obstacle state. So ideally this should\nbe low for everywhere",
    "start": "3505435",
    "end": "3512490"
  },
  {
    "text": "because we have a policy that's\ntrying to avoid the obstacle. And then what is the probability\nthat we reach the goal?",
    "start": "3512490",
    "end": "3517690"
  },
  {
    "text": "So ideally this should\nbe high everywhere. So I can move this\nforward in time,",
    "start": "3517690",
    "end": "3523539"
  },
  {
    "text": "and you can see this probability\nkind of spreading out. So the states near\nthe goal are now very likely to reach\nthe goal within,",
    "start": "3523540",
    "end": "3529840"
  },
  {
    "text": "let's say four time\nsteps, and so on and then we can just keep\ndoing this over time.",
    "start": "3529840",
    "end": "3537990"
  },
  {
    "text": "And you'll see that after\na while, all of these have this very small probability\nof ending up in the obstacle",
    "start": "3537990",
    "end": "3545369"
  },
  {
    "text": "because we were trying\nto avoid the obstacle. So that's a good thing. But the ones closer\nto the obstacle have a higher probability\nthan these ones",
    "start": "3545370",
    "end": "3552080"
  },
  {
    "text": "out here because\nthey would probably reach the goal before\nending up in the obstacle. And then everywhere there's\na decently high probability",
    "start": "3552080",
    "end": "3559819"
  },
  {
    "text": "of reaching the goal, but it is\na little bit higher for states that are near the goal. Yeah.",
    "start": "3559820",
    "end": "3565700"
  },
  {
    "text": "[INAUDIBLE] or\nmaybe just rendering like, why is it the obstacle\ndoesn't seem as read?",
    "start": "3565700",
    "end": "3572000"
  },
  {
    "text": "The article itself\ndoesn't seem as read than the target\nseems [INAUDIBLE].",
    "start": "3572000",
    "end": "3578600"
  },
  {
    "text": "Like are the probabilities\nof being reaching for the obstacle the same as the\nprobability of reaching the goal",
    "start": "3578600",
    "end": "3584329"
  },
  {
    "text": "or at the goal? Yeah, I think it's something\nthat they're rendering. There should be a\nprobability of 1 and there should be\na probability of 1. Awesome, thanks.",
    "start": "3584330",
    "end": "3589890"
  },
  {
    "text": " So you might be wondering\nthen it kind of looked",
    "start": "3589890",
    "end": "3597528"
  },
  {
    "text": "like after a while\nit was converging, so we did 200 time steps. So what we could say\nfrom what we just saw is that after doing\n200 time steps,",
    "start": "3597528",
    "end": "3604980"
  },
  {
    "text": "then we know that\nwithin 200 time steps, this is the probability we\nwould have reached the goal",
    "start": "3604980",
    "end": "3610100"
  },
  {
    "text": "or we would have reached the\nobstacle from each state. And so we just look\nat the initial state, so we look at the state\nin the bottom left corner,",
    "start": "3610100",
    "end": "3616569"
  },
  {
    "text": "and we plot what\nthat probability was kind of over the\ntime horizon, it looks like this is converging.",
    "start": "3616570",
    "end": "3622060"
  },
  {
    "text": "So it kind of looks\nlike as we get to 200, it's around point-- a\nlittle less than 0.8 chance",
    "start": "3622060",
    "end": "3627660"
  },
  {
    "text": "that we've ended up at the\ngoal, and a little over 0.2 chance that we ended\nup in the obstacle.",
    "start": "3627660",
    "end": "3633230"
  },
  {
    "text": "And so it kind of seems\nlike this is converging, and so you might wonder, can we\nget infinite time guarantees?",
    "start": "3633230",
    "end": "3638400"
  },
  {
    "text": "And so yes, we can. I listed this as\nan advanced topic, but it just kind of\namounts to solving",
    "start": "3638400",
    "end": "3644070"
  },
  {
    "text": "a system of linear equations,\nso you can check that out in the book. ",
    "start": "3644070",
    "end": "3650128"
  },
  {
    "text": "But some of you are sitting\nhere and you're like, but all my systems are\ncontinuous, so why should I care?",
    "start": "3650128",
    "end": "3655920"
  },
  {
    "text": "And the cool thing is\nthat we can actually turn continuous systems into\ndiscrete systems using something",
    "start": "3655920",
    "end": "3663870"
  },
  {
    "text": "called a discrete\nstate abstraction. So here's basically how\nthis works, so let's try",
    "start": "3663870",
    "end": "3669520"
  },
  {
    "text": "to do this for the pendulum. So we have a continuous system.",
    "start": "3669520",
    "end": "3675580"
  },
  {
    "text": "So we have a continuous system\nthat's like this pendulum here, and then we will take this kind\nof continuous space of states.",
    "start": "3675580",
    "end": "3683630"
  },
  {
    "text": "So we have theta on the\nhorizontal axis, omega on the vertical axis,\nand we'll basically partition it up similar\nto what we were doing",
    "start": "3683630",
    "end": "3690130"
  },
  {
    "text": "at the end of the last lecture. And then each one of the\ncells in this partition",
    "start": "3690130",
    "end": "3696250"
  },
  {
    "text": "is going to be a\nnode in our graph that we're going to use\nfor discrete reachability. And then we need to\nfigure out how to connect",
    "start": "3696250",
    "end": "3703180"
  },
  {
    "text": "all of these nodes together. And so what we can do is we can\njust take one of these nodes,",
    "start": "3703180",
    "end": "3708260"
  },
  {
    "text": "and then let's just\nlook at this for now. We can look at the cell\nin this partition that",
    "start": "3708260",
    "end": "3714550"
  },
  {
    "text": "contains that node. We'll call that s. And we want to connect\nstates to states",
    "start": "3714550",
    "end": "3720280"
  },
  {
    "text": "that are reachable from\nthis particular cell. And we'll over\napproximate the set",
    "start": "3720280",
    "end": "3725720"
  },
  {
    "text": "of states that are\nreachable, so that when we do all of these\ngraph operations, we can get an approximate\nreachable set.",
    "start": "3725720",
    "end": "3731830"
  },
  {
    "text": "So now we're kind of sitting\nhere thinking like, OK, how can we determine the\nset of reachable states from all of the states in\nthis particular cell here?",
    "start": "3731830",
    "end": "3740400"
  },
  {
    "text": "Does anyone have an idea? ",
    "start": "3740400",
    "end": "3754980"
  },
  {
    "text": "I feel like Michael has an idea. Use earlier methods. Yeah, we could use an\nalgorithm from chapter 9.",
    "start": "3754980",
    "end": "3762670"
  },
  {
    "text": "So we just learned all about\nhow to take some initial state in our state space and figure\nout what are the set of states",
    "start": "3762670",
    "end": "3767970"
  },
  {
    "text": "that we could reach\nfrom this state. And that was like natural\ninclusion function or inclusion function and so on, so\nwe could use any of those",
    "start": "3767970",
    "end": "3774900"
  },
  {
    "text": "and figure out what\nwe could end up in. Yeah. No. So let's do that with this one.",
    "start": "3774900",
    "end": "3780819"
  },
  {
    "text": "So let's say that we used the\nconservative linearization, so now we've gotten an\nover approximate reachable set of states that\nwe could end up in.",
    "start": "3780820",
    "end": "3787990"
  },
  {
    "text": "And then because we were\nin this discrete world, now we're going to have\nto over approximate it a little bit more.",
    "start": "3787990",
    "end": "3793130"
  },
  {
    "text": "And so we're going\nto look at all cells that this-- all cells in our\npartition that this next set",
    "start": "3793130",
    "end": "3798460"
  },
  {
    "text": "of states overlaps with so we're\neven more over approximate. And then we're basically going\nto draw edges from this one",
    "start": "3798460",
    "end": "3805720"
  },
  {
    "text": "to all of those, so this\nis an over approximate set of states that could be\nreached from any state that's in this particular\npart of the partition.",
    "start": "3805720",
    "end": "3815010"
  },
  {
    "text": "And so then you could\nimagine that we just do this for all of the states. So we look at this state,\nthis state, this state, and we",
    "start": "3815010",
    "end": "3821710"
  },
  {
    "text": "compute the set of states\nthat we could reach and draw edges between them. And then we get this nice\ngraph that represents",
    "start": "3821710",
    "end": "3828250"
  },
  {
    "text": "the inverted pendulum. And we can extract abstract\naway everything else, and we get this discrete\nstate abstraction",
    "start": "3828250",
    "end": "3835090"
  },
  {
    "text": "that looks all of\nthe discrete systems that we've been working with. ",
    "start": "3835090",
    "end": "3843050"
  },
  {
    "text": "Any questions on that? ",
    "start": "3843050",
    "end": "3848900"
  },
  {
    "text": "[INAUDIBLE]  So if you remember\nthe inverted pendulum,",
    "start": "3848900",
    "end": "3855150"
  },
  {
    "text": "it kind of started in that\nlittle box and it kind of slowly moved like that. Do you remember that\nthat's kind of doing that?",
    "start": "3855150",
    "end": "3861038"
  },
  {
    "text": "If you look, this kind\nof has that shape. You can almost see that\ncircular shape there.",
    "start": "3861038",
    "end": "3866900"
  },
  {
    "text": "And I'll show you in a\nsecond actually like, oh, after some fireworks.",
    "start": "3866900",
    "end": "3871970"
  },
  {
    "text": "So now we can apply our\ndiscrete reachability algorithms to this abstraction to get\nan approximate reachable",
    "start": "3871970",
    "end": "3877400"
  },
  {
    "text": "set, which is pretty cool. So for example,\nlet's say we applied that forward reachable\nset thing that we",
    "start": "3877400",
    "end": "3884360"
  },
  {
    "text": "were doing on the graphs. We apply it to this. So up here I'm showing the graph\nthat we're actually doing this",
    "start": "3884360",
    "end": "3890839"
  },
  {
    "text": "on, and then down here\nI'm showing all the cells in the partition that are kind\ncorresponding to the points",
    "start": "3890840",
    "end": "3897380"
  },
  {
    "text": "in this graph. So we start with some\nset of initial states. So that's like we pick\nsome set of initial cells",
    "start": "3897380",
    "end": "3902950"
  },
  {
    "text": "or initial nodes in our graph,\nand then we propagate forward through the graph.",
    "start": "3902950",
    "end": "3908417"
  },
  {
    "text": "And you can see,\neventually here we've now converged to the point where\nour set is no longer changing",
    "start": "3908417",
    "end": "3914050"
  },
  {
    "text": "anymore. And so now we can say that the\nreachable set has converged to this, and we don't\nintersect with the avoid set,",
    "start": "3914050",
    "end": "3921470"
  },
  {
    "text": "so we can say that\nour system is safe. So we were able to basically\ntake a continuous system,",
    "start": "3921470",
    "end": "3927380"
  },
  {
    "text": "create this abstraction, apply\nall of our discrete algorithms to it, and then we can bring it\nback into the continuous space",
    "start": "3927380",
    "end": "3933460"
  },
  {
    "text": "and still make claims about\nour continuous system. Yeah. [INAUDIBLE] even though it is\ndiscrete [INAUDIBLE] continuous",
    "start": "3933460",
    "end": "3945790"
  },
  {
    "text": "state, doesn't it kind of-- I guess, because right\nnow the continuous one is just like a box\nthat we have on these.",
    "start": "3945790",
    "end": "3950980"
  },
  {
    "text": "Oh, yeah. So it's kind of when we\nwere doing partitioning for the continuous one,\nwe were able to get these more interesting shapes.",
    "start": "3950980",
    "end": "3957328"
  },
  {
    "text": "This is kind of a similar deal\nnow that we've-- that might be like an advantage to doing\nthis discrete state abstraction",
    "start": "3957328",
    "end": "3964220"
  },
  {
    "text": "because you can actually get\nthese more interesting shapes out because you're taking\nthe union of these sets.",
    "start": "3964220",
    "end": "3971390"
  },
  {
    "text": "[INAUDIBLE] ",
    "start": "3971390",
    "end": "3978470"
  },
  {
    "text": "Yeah, I think they do. Well, so you have to do\nthe continuous reachability to figure out what\nthese connections are,",
    "start": "3978470",
    "end": "3983880"
  },
  {
    "text": "so it's kind of just\ndid this analysis over a bunch of parts\nof your state space. ",
    "start": "3983880",
    "end": "3990320"
  },
  {
    "text": "OK, I think we're going\nto finish this lecture. This is almost-- I think\nthis is the last thing. So basically, the idea here\nis like a finer partition",
    "start": "3990320",
    "end": "3998990"
  },
  {
    "text": "will result in less\noverapproximation, as you might imagine. So here's the partition similar\nto what we were looking at.",
    "start": "3998990",
    "end": "4006620"
  },
  {
    "text": "And then as you get\nfiner and finer, we're able to get this\nmuch more interesting, tighter overapproximation\nof the reachable set.",
    "start": "4006620",
    "end": "4015660"
  },
  {
    "text": " Yeah, that's it. Any questions?",
    "start": "4015660",
    "end": "4022480"
  },
  {
    "text": "Yeah. I feel like we needed\na lot of methods to even get the inverted\npendulum to barely be proven.",
    "start": "4022480",
    "end": "4030090"
  },
  {
    "text": "Do you know if there's\nreal applications that use reachability\nsuccessfully that",
    "start": "4030090",
    "end": "4036990"
  },
  {
    "text": "are more complicated\nthan inverted pendulum? Maybe also to Michael. Yeah, I would say there are.",
    "start": "4036990",
    "end": "4043300"
  },
  {
    "text": " Yeah. Robot navigation would be one\nexample using 3D course models.",
    "start": "4043300",
    "end": "4054570"
  },
  {
    "text": "And then we're\nalso going to have a guest lecture on\nThursday, and I'll go through a little bit of the\ninformation about it before.",
    "start": "4054570",
    "end": "4061120"
  },
  {
    "text": "But some of these\ntechniques are used to analyze the output\nsets of neural networks. Not huge neural networks,\nbut reasonably sized",
    "start": "4061120",
    "end": "4068039"
  },
  {
    "text": "neural networks,\nwhich is pretty cool. So we'll talk about\nthat on Thursday. ",
    "start": "4068040",
    "end": "4077000"
  }
]