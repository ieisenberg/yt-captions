[
  {
    "start": "0",
    "end": "72000"
  },
  {
    "text": "My name is Benedikt Bunz, um, Ph.D. student here at Stanford, and I'm going to talk about Bulletproofs,",
    "start": "0",
    "end": "6180"
  },
  {
    "text": "which are short proofs for confidential transaction and a lot more, actually. And this is joint work with",
    "start": "6180",
    "end": "12675"
  },
  {
    "text": "Jonathan Bootle from the University College of London, My adviser, Van Bunday, and Andrew, Peter and Greg,",
    "start": "12675",
    "end": "18990"
  },
  {
    "text": "or Andrew and Peter from Blockstream, and Greg Maxwell. So- and this is a talk about, uh,",
    "start": "18990",
    "end": "26700"
  },
  {
    "text": "so if you've- you might have seen as this is kind of a depic- depiction of what a Bitcoin transaction,",
    "start": "26700",
    "end": "32850"
  },
  {
    "text": "uh, looks like, but the same thing applies to other cryptocurrencies. Very similarly, and, and the important thing to",
    "start": "32850",
    "end": "39330"
  },
  {
    "text": "note is that there's some sort of inputs on the left that come into the transaction and some sort of",
    "start": "39330",
    "end": "44504"
  },
  {
    "text": "outputs that go out of the transaction. And it is important that the inputs",
    "start": "44505",
    "end": "50145"
  },
  {
    "text": "are greater or x equal to the output or the outputs are less than, uh, the inputs and actually the difference between the outputs and inputs is",
    "start": "50145",
    "end": "58859"
  },
  {
    "text": "exactly the fee that is sort of paid to the miners for verifying the transactions. This is all you need to understand about Bitcoin and Blockchain.",
    "start": "58860",
    "end": "66570"
  },
  {
    "text": "You don't, um, thi- this is just some generic transaction format. And so, when is a Bitcoin transaction valid?",
    "start": "66570",
    "end": "75000"
  },
  {
    "start": "72000",
    "end": "142000"
  },
  {
    "text": "Well there's three criteria and really, uh, one of them is that the signature is correct. So, that there is some person,",
    "start": "75000",
    "end": "80985"
  },
  {
    "text": "you know, who owns the, uh, inputs authorizes that the transaction is being spent. The second one is that the inputs are unspent.",
    "start": "80985",
    "end": "88289"
  },
  {
    "text": "So, you cannot spend money twice. And then the third one is the one that we're going to care most about today which",
    "start": "88290",
    "end": "94320"
  },
  {
    "text": "is that the sum of the inputs is equal to the sum of the outputs plus the fees. So, one problem with, uh,",
    "start": "94320",
    "end": "102675"
  },
  {
    "text": "Bitcoin transactions and many other cryptocurrency transactions is that they're not confidential.",
    "start": "102675",
    "end": "107685"
  },
  {
    "text": "They nee- they don't have any privacy, so they are neither, uh, what we call confidential or, uh, anonymous.",
    "start": "107685",
    "end": "113115"
  },
  {
    "text": "And by confidentiality, I mean that the amounts are hidden and by anonymity I mean that you can see who is paying whom.",
    "start": "113115",
    "end": "121025"
  },
  {
    "text": "Um, and you can see these addresses, uh, you know they, they hide like it doesn't say that who's paying whom in terms of real world identities,",
    "start": "121025",
    "end": "130820"
  },
  {
    "text": "but it actually turns out that it's quite easy to figure out who owns which address, and then you can clearly see how much money is being",
    "start": "130820",
    "end": "137510"
  },
  {
    "text": "transferred it's publicly available on the Blockchain, and you can see who is paying whom. So, why is this a problem?",
    "start": "137510",
    "end": "144084"
  },
  {
    "start": "142000",
    "end": "478000"
  },
  {
    "text": "Well, um, this has many apli- implications for businesses. Especially the transaction amounts being available in the clear.",
    "start": "144085",
    "end": "152120"
  },
  {
    "text": "And, and, for example, it means that if you receive your salary in, in Bitcoin or some other similar cryptocurrency it is that- uh,",
    "start": "152120",
    "end": "160130"
  },
  {
    "text": "your salary will be public, and everybody can just look up what your salary is. And also if you're a business and you're buying some sort of tools from",
    "start": "160130",
    "end": "167090"
  },
  {
    "text": "your suppliers say you know Ford buys tires from, from, uh, Michelin, whatever, and then, uh, they can see,",
    "start": "167090",
    "end": "174739"
  },
  {
    "text": "everybody can publicly see how much is being paid for these goods, and these are important business secrets that business would want to hide.",
    "start": "174740",
    "end": "181260"
  },
  {
    "text": "So, this really makes, um, uh, blockchains in some ways at least, uh, less usable for, for businesses.",
    "start": "181260",
    "end": "187480"
  },
  {
    "text": "So, to combat this is- there's this idea about of, of confidential transactions which Greg Maxwell came up in 2016.",
    "start": "187480",
    "end": "196710"
  },
  {
    "text": "And the idea is that instead of sending the amounts in the clear, we, we encrypt them or more, ah,",
    "start": "196710",
    "end": "204440"
  },
  {
    "text": "correctly we use the cryptographic commitment which is kind of like saying we put the amounts in an envelope.",
    "start": "204440",
    "end": "210080"
  },
  {
    "text": "A cryptographic commitment is something that does not reveal the value, but after the fact I can only open it to be the value that I originally committed to.",
    "start": "210080",
    "end": "218755"
  },
  {
    "text": "So, just like an envelope. And then as concretely we would use",
    "start": "218755",
    "end": "224390"
  },
  {
    "text": "these Pedersen commitments which are discrete log based. So, the problem now obviously if no one or",
    "start": "224390",
    "end": "231080"
  },
  {
    "text": "if it's publicly not visible what the amounts are, how can we check that the transaction is valid and especially how can we check",
    "start": "231080",
    "end": "238220"
  },
  {
    "text": "that third constraint that the sum of inputs is greater or equal to the sum of outputs.",
    "start": "238220",
    "end": "243375"
  },
  {
    "text": "And it actually turns out that there's a second thing that we need to check even if, if we have this you know this equality check or",
    "start": "243375",
    "end": "250305"
  },
  {
    "text": "there's this greater equal check from the inputs and outputs. And it turns out that we also need to check that both of the outputs are positive.",
    "start": "250305",
    "end": "257584"
  },
  {
    "text": "Right? Because otherwise if I have five Bitcoin going in, and I have minus two and seven Bitcoin going out,",
    "start": "257585",
    "end": "264520"
  },
  {
    "text": "then the first check goes through, but the second check obviously doesn't go through, and I've now sa- uh, created seven,",
    "start": "264520",
    "end": "271080"
  },
  {
    "text": "I've a seven-Bitcoin output which is a big problem. And the second, uh, test, the,",
    "start": "271080",
    "end": "276775"
  },
  {
    "text": "the positive outputs is actually the more difficult one and that the one that we'll focus on today. The other one is, is simpler because there's",
    "start": "276775",
    "end": "283789"
  },
  {
    "text": "this additive homomorphic property of the commitment scheme. Um, so, these confidential transactions were proposed in 2016 as I said,",
    "start": "283790",
    "end": "293805"
  },
  {
    "text": "and it is, uh, kind of the structure is similar to a Bitcoin transaction. The transaction graph, so who's paying whom is still publicly available.",
    "start": "293805",
    "end": "302130"
  },
  {
    "text": "So, we do not hide that there's other cryptocurrencies like Zcash or Monero that that use,",
    "start": "302130",
    "end": "307550"
  },
  {
    "text": "uh, that have tools kind of for hiding the transaction graph. But, the question is how do we achieve this public verifiability of transaction validity.",
    "start": "307550",
    "end": "316485"
  },
  {
    "text": "Well, luckily there's this, uh, tool called zero knowledge proof of knowledge.",
    "start": "316485",
    "end": "321509"
  },
  {
    "text": "So, in a zero knowledge proof of knowledge, you have a prover and a verifier. And the prover, Peggy wants to convince the verifier Victor",
    "start": "321510",
    "end": "328680"
  },
  {
    "text": "that this commitment that she has is actually a commitment to a positive number. And, uh, traditionally this works through some sort of",
    "start": "328680",
    "end": "336690"
  },
  {
    "text": "challenge response protocol where Victor gets to ask questions to Peggy, and Peggy can only answer",
    "start": "336690",
    "end": "343290"
  },
  {
    "text": "these questions if the statement that she's trying to prove is true. If not, then she will be unable,",
    "start": "343290",
    "end": "349415"
  },
  {
    "text": "or with high probability, she will be unable to answer these questions. But, the answers to the questions,",
    "start": "349415",
    "end": "354930"
  },
  {
    "text": "her responses do not reveal any information about the, the, the kind of secret information that she's using to prove the statements.",
    "start": "354930",
    "end": "363100"
  },
  {
    "text": "[NOISE] So, it doesn't reveal the X or the R in this case. And after this protocol is run,",
    "start": "363100",
    "end": "368699"
  },
  {
    "text": "and this can be a multiple round protocol, um, Victor will be convinced that Peggy knows this value X and",
    "start": "368700",
    "end": "376920"
  },
  {
    "text": "that X is positive but he has still no idea what exactly the value X is.",
    "start": "376920",
    "end": "382125"
  },
  {
    "text": "And this is called, uh, concretely what we're trying to prove here would be called Range Proof.",
    "start": "382125",
    "end": "387260"
  },
  {
    "text": "So, you can prove that X is a number between say zero and two to the 52.",
    "start": "387260",
    "end": "392410"
  },
  {
    "text": "And it turns out that we can make this whole thing even non-interactive and publicly verifiable.",
    "start": "392410",
    "end": "398320"
  },
  {
    "text": "So, this is kind of, common reference string and, and Peggy can just write down a proof and then after the fact",
    "start": "398320",
    "end": "405205"
  },
  {
    "text": "Victor or someone else can, can check the proof and put it, uh, and, and be convinced that X is in fact positive.",
    "start": "405205",
    "end": "413095"
  },
  {
    "text": "And so for example this is a proof that you could put on the Blockchain attached to your transaction and everybody is then convinced that your transaction is in fact valid.",
    "start": "413095",
    "end": "422125"
  },
  {
    "text": "So, how could we make such a proof? Well, at a very high level, what does it mean for a number to be in some range,",
    "start": "422125",
    "end": "429940"
  },
  {
    "text": "so between zero and two to the say 64 bits. Well, what it means is that I can write it down using 64 bits.",
    "start": "429940",
    "end": "438099"
  },
  {
    "text": "Right? That's, uh, a number between zero and two to the 64. I can write down using 64 bits.",
    "start": "438100",
    "end": "444035"
  },
  {
    "text": "So, one idea is that Peggy will create a commitment for each of the bits and then send over these,",
    "start": "444035",
    "end": "451855"
  },
  {
    "text": "you know n commitments. If we're trying to prove to be that, that X is between zero and two to the 64 minus one actually.",
    "start": "451855",
    "end": "460635"
  },
  {
    "text": "Um, and a proof, and the proof says that each of the committed values, these little, uh,",
    "start": "460635",
    "end": "466240"
  },
  {
    "text": "committed values is in fact a commitment to either zero or one and that the, uh,",
    "start": "466240",
    "end": "471750"
  },
  {
    "text": "the big commitment to the whole number is, uh, the, the, the combination of these big commitments.",
    "start": "471750",
    "end": "478535"
  },
  {
    "start": "478000",
    "end": "609000"
  },
  {
    "text": "So, the problem with this, uh, uh, range proof and this is what we could call a linear range proof and you can base it",
    "start": "478535",
    "end": "485410"
  },
  {
    "text": "on the Sigma protocols and use the Fiat-Shamir heuristic to make it non-interactive, is that they're fairly large.",
    "start": "485410",
    "end": "491789"
  },
  {
    "text": "So, they're four kilobytes even with some recent optimizations for a 64-bit range proof.",
    "start": "491790",
    "end": "497605"
  },
  {
    "text": "And if I try to increase the bit, the number of bits in my range, then the proof would grow linearly.",
    "start": "497605",
    "end": "502825"
  },
  {
    "text": "Right? Because I had to send over even just one commitment per- um,",
    "start": "502825",
    "end": "507980"
  },
  {
    "text": "per- ah bit in my range. So, ah, the nice thing is they don't have a trusted set and I'll talk about that in,",
    "start": "507980",
    "end": "516305"
  },
  {
    "text": "in a second But, uh, four kilobytes for, you know, this would mean a four kilobyte proof being attached to every transaction that is",
    "start": "516305",
    "end": "523810"
  },
  {
    "text": "not really practical today with what blockchains can handle today.",
    "start": "523810",
    "end": "529240"
  },
  {
    "text": "So, they are shorter proofs. Uh, and, and one of the, the and they're called these preprocessing",
    "start": "529240",
    "end": "536135"
  },
  {
    "text": "SNARKs and what they do is there's kind of a entrusted setup. So, in the beginning there's some sort of some party",
    "start": "536135",
    "end": "542570"
  },
  {
    "text": "that creates these queries, encrypts them, sends them to the prover and gives the verifier some advice string that will help it to,",
    "start": "542570",
    "end": "551490"
  },
  {
    "text": "to check the answers to these queries. And you can actually create really, really short proofs and, and these proofs are,",
    "start": "551490",
    "end": "559754"
  },
  {
    "text": "are you know a couple like 200 bytes irrespective of, of the complexity of the statement that you're trying to prove.",
    "start": "559755",
    "end": "566845"
  },
  {
    "text": "So, no matter whether it's a short range proof or a long range proof or an even more complex statement,",
    "start": "566845",
    "end": "572134"
  },
  {
    "text": "the size of the proof is only a couple hundred bytes. The problem with this is that and verification is also fast which is nice,",
    "start": "572135",
    "end": "580355"
  },
  {
    "text": "the problem with this is that say the person who does the set up is actually malicious and for",
    "start": "580355",
    "end": "587990"
  },
  {
    "text": "example colludes with the prover or tries to create a proof by himself then he can suddenly- he can create fake proofs.",
    "start": "587990",
    "end": "595930"
  },
  {
    "text": "So, he convin- can convince you of statements that aren't true. So, you could commit to a negative number and prove to you",
    "start": "595930",
    "end": "602570"
  },
  {
    "text": "that it is a positive number and the verifier would be fooled. Um, so, uh-",
    "start": "602570",
    "end": "609755"
  },
  {
    "start": "609000",
    "end": "771000"
  },
  {
    "text": "Uh, why is this, um, why is this a problem, why are these trusted setups",
    "start": "609755",
    "end": "615790"
  },
  {
    "text": "a problem especially in, in cryptocurrencies? Well, the problem is that, what does it mean to create a fake proof?",
    "start": "615790",
    "end": "622470"
  },
  {
    "text": "Well, if the subverted prover of the setup is subverted, then, uh, this is A,",
    "start": "622470",
    "end": "628680"
  },
  {
    "text": "this is undetectable, there's no way to really test for it. And B, then you can create these transactions which have,",
    "start": "628680",
    "end": "635835"
  },
  {
    "text": "say negative amounts of- in them, and what that really means is that I can create money out of thin air. It is inflation and it is even undetectable inflation,",
    "start": "635835",
    "end": "644395"
  },
  {
    "text": "because now all the amounts are being hidden, right? It's not like, in, in Bitcoin where all the amounts are public and you can check how much total money there is.",
    "start": "644395",
    "end": "652029"
  },
  {
    "text": "If, uh, the trusted setup is being subverted then no one knows how much money there is and,",
    "start": "652030",
    "end": "658500"
  },
  {
    "text": "um, there's really, you know, it's- it's undetectable inflation and an attacker could really extract a lot of money,",
    "start": "658500",
    "end": "665010"
  },
  {
    "text": "uh, from the system, so it's a, it's a very bad situation. And the problem is that even if you don't have a subverted setup,",
    "start": "665010",
    "end": "673745"
  },
  {
    "text": "even the fear of this, uh, undetectable inflation is dangerous. So for example, Zcash used this,",
    "start": "673745",
    "end": "680735"
  },
  {
    "text": "uses these SNARKs and there's people going around saying or, you know, that are saying, you know,",
    "start": "680735",
    "end": "686315"
  },
  {
    "text": "it's not secure this subverted- uh, the set up is subverted, which, you know they did a very good job at,",
    "start": "686315",
    "end": "691705"
  },
  {
    "text": "at trying to prevent that but there's really nothing more that you can say. There's no proof that you can, uh,",
    "start": "691705",
    "end": "697490"
  },
  {
    "text": "give to people to say, no, the setup was done correctly. Um, and this fear can lower for example",
    "start": "697490",
    "end": "704260"
  },
  {
    "text": "the price of the cryptocurrency and the value of it and, and the will- willingness of people to use it. So, the way to alleviate this is usually through this kind of",
    "start": "704260",
    "end": "712870"
  },
  {
    "text": "distributed setup and so-called multiparty computation. And this is difficult but Zcash actually did that an- and- and is doing that,",
    "start": "712870",
    "end": "722290"
  },
  {
    "text": "um, for, er, but it's, you know, this- you can read up on it and the Zcash ceremony there is a great podcast on it,",
    "start": "722290",
    "end": "729280"
  },
  {
    "text": "I think by, uh, Planet Money or something and it's, uh, yeah, they had to do a lot of work to do this and it's kind of annoying",
    "start": "729280",
    "end": "736010"
  },
  {
    "text": "and you still don't solve all the problems. And also every time you add",
    "start": "736010",
    "end": "742140"
  },
  {
    "text": "some new functionality it means that you have a new setup, right? Every time you change even the slightest thing,",
    "start": "742140",
    "end": "747959"
  },
  {
    "text": "you would have to redo the setup. So they have to actually redo the setup right now. So that again is a problem.",
    "start": "747960",
    "end": "753710"
  },
  {
    "text": "Er, so for example, there's Hawk which is, you know, smart- is kind of a smart contracts, uh,",
    "start": "753710",
    "end": "760150"
  },
  {
    "text": "confidential smart contract or private smart contract, a proposal for that, a paper. And what they had is that there's a different trusted setup",
    "start": "760150",
    "end": "767779"
  },
  {
    "text": "for every single smart contract and that clearly doesn't seem feasible. So, with that in mind,",
    "start": "767780",
    "end": "773819"
  },
  {
    "start": "771000",
    "end": "855000"
  },
  {
    "text": "we were looking for, you know, other proof systems that could help, uh, that did not have this trusted setup,",
    "start": "773820",
    "end": "779720"
  },
  {
    "text": "uh, but still could be used for these range proofs. So there is this paper by- by Jonathan Bootle and,",
    "start": "779720",
    "end": "787190"
  },
  {
    "text": "and the group at, uh, University College London, which are these log-sized proofs for arithmetic circuit.",
    "start": "787190",
    "end": "793860"
  },
  {
    "text": "So, um, this is a proof protocol again for arithmetic circuit which means for kind of arbitrary computation,",
    "start": "793860",
    "end": "802480"
  },
  {
    "text": "and the nice thing is that the proofs are only logarithmic in the size of the computation.",
    "start": "802480",
    "end": "807640"
  },
  {
    "text": "So asymptotically, they seem great and it only relies, it also doesn't have a trusted setup and only relies on the discrete log assumption.",
    "start": "807640",
    "end": "815190"
  },
  {
    "text": "The problem was that in practice, if you actually wanted to do a range proof, you would have to do a proof that, you know,",
    "start": "815190",
    "end": "823355"
  },
  {
    "text": "this value you would have to implement the commitment function which is a multi-exponentiation within the circuit",
    "start": "823355",
    "end": "830509"
  },
  {
    "text": "and things get rather expensive and in practice, they would not have been much better than- than the linear protocol that",
    "start": "830510",
    "end": "836760"
  },
  {
    "text": "was out there especially in size and probably a lot worse in terms of, uh, proving and verification time.",
    "start": "836760",
    "end": "842540"
  },
  {
    "text": "But, um, we took, uh, we- we looked at their protocol and changed it and improved it such",
    "start": "842540",
    "end": "849940"
  },
  {
    "text": "that it would work better for these range proofs and also works better in general. And this is how we came up with full proofs,",
    "start": "849940",
    "end": "857375"
  },
  {
    "start": "855000",
    "end": "1150000"
  },
  {
    "text": "um, which allows you now to do proofs on committed values. And what that means is that,",
    "start": "857375",
    "end": "863024"
  },
  {
    "text": "I can  do a proof on something that is within the commitment. I don't have to implement the commitment function or",
    "start": "863025",
    "end": "870750"
  },
  {
    "text": "the opening function of the commitment within the arithmetic circuit. So, and also we reduce the proof size by,",
    "start": "870750",
    "end": "878214"
  },
  {
    "text": "by a factor of three, um, which means that now you'll only have to give two log two of n elements",
    "start": "878215",
    "end": "885795"
  },
  {
    "text": "for a range proof and these improvements also transfer over to arbitrary arithmetic circuits,",
    "start": "885795",
    "end": "892735"
  },
  {
    "text": "which means, when I say arithmetic circuits, I mean that, I can prove to you that I know some secret inputs to a circuit or a,",
    "start": "892735",
    "end": "900720"
  },
  {
    "text": "or a function, um, such that the function evaluates to say one. Okay. And I don't have to give you, uh,",
    "start": "900720",
    "end": "907995"
  },
  {
    "text": "what these values are but I can convince you that I know these secret values so you can, uh, implement more complex, uh, functionalities with this.",
    "start": "907995",
    "end": "917209"
  },
  {
    "text": "So, um, let's see what this, uh, kind of this improvement to, like,",
    "start": "917210",
    "end": "922920"
  },
  {
    "text": "two log n elements, what does this mean in practice? Well, uh, for a single range proof,",
    "start": "922920",
    "end": "929345"
  },
  {
    "text": "this means that, um, our proofs are 670 bytes versus",
    "start": "929345",
    "end": "935710"
  },
  {
    "text": "the previous range proof which was four kilobytes and SNARKs are, you know, 188 bytes.",
    "start": "935710",
    "end": "942230"
  },
  {
    "text": "Uh, so they clearly knocked the ball out of the park but, er, they are, uh, they have the problem with the trusted setup.",
    "start": "942230",
    "end": "948535"
  },
  {
    "text": "The nice thing is that, you know, a transaction as I depic- depicted earlier usually has multiple outputs.",
    "start": "948535",
    "end": "954980"
  },
  {
    "text": "So, say it has two outputs and I want to prove to you that both of these outputs are positive,",
    "start": "954980",
    "end": "960320"
  },
  {
    "text": "which is the usual situation. Well, it turns out because we have this logarithmic scaling, this,",
    "start": "960320",
    "end": "966610"
  },
  {
    "text": "uh, we can just create one bulletproof for both of these outputs. Um, and what that means is that suddenly now, uh,",
    "start": "966610",
    "end": "974750"
  },
  {
    "text": "both of these proofs together are just 736 bytes, so, we just added 64 bytes to,",
    "start": "974750",
    "end": "982339"
  },
  {
    "text": "um, double the number of proofs that we're doing. Whereas the previous proof would scale linearly,",
    "start": "982340",
    "end": "987589"
  },
  {
    "text": "so it would be eight kilobytes. And this goes on, you know, if I have 10 proofs it's, uh,",
    "start": "987590",
    "end": "992894"
  },
  {
    "text": "928 bytes versus, uh, almost 40,000 bytes. So, the more outputs the- the larger the statement is that you're trying to prove,",
    "start": "992895",
    "end": "1002240"
  },
  {
    "text": "the larger the savings are, um, that you're, uh, that- that bulletproofs has versus these traditional proofs.",
    "start": "1002240",
    "end": "1010339"
  },
  {
    "text": "So, when would, uh, we ask ourselves well when would, would these transactions ever have that many outputs, right?",
    "start": "1010340",
    "end": "1017410"
  },
  {
    "text": "Like, you know, you might send some Bitcoin to your whole family for Christmas but, uh, usually you're right like yo- you only have two outputs.",
    "start": "1017410",
    "end": "1024295"
  },
  {
    "text": "So, uh, but there's multiple people at the same time that are trying to do,",
    "start": "1024295",
    "end": "1029870"
  },
  {
    "text": "uh, a transaction and trying to create a bulletproof. So, we looked at this situation where there's multiple provers,",
    "start": "1029870",
    "end": "1036165"
  },
  {
    "text": "each of them have a commitment, right? Each of them want to send some money, um, and they want to create a single proof without revealing the secrets to each other, um,",
    "start": "1036165",
    "end": "1047659"
  },
  {
    "text": "that all of the- their commitments commit to say positive numbers or they want to prove something about these commitments but,",
    "start": "1047660",
    "end": "1054455"
  },
  {
    "text": "uh, concretely we cared about range proofs. And, uh, well how can they create one proof?",
    "start": "1054455",
    "end": "1060170"
  },
  {
    "text": "Well, trivial solutions, obviously they can concatenate their proofs but,",
    "start": "1060170",
    "end": "1065365"
  },
  {
    "text": "um, we would want something that is, uh, something that is, er, something where the proof is small.",
    "start": "1065365",
    "end": "1071580"
  },
  {
    "text": "So, um, the generic way to do this is- is a multi-party computation, um,",
    "start": "1071580",
    "end": "1078995"
  },
  {
    "text": "but it turns out that we can create or the- the prover is extremely structured,",
    "start": "1078995",
    "end": "1085065"
  },
  {
    "text": "so we can create this custom multi-party computation which allows these provers to kind of create one proof together instead of having multiple proofs.",
    "start": "1085065",
    "end": "1094750"
  },
  {
    "text": "And, uh, this works whenever kind of each of them wants to prove a separate statement and then the- the overall sta- statement is just,",
    "start": "1094750",
    "end": "1104154"
  },
  {
    "text": "uh, a conjunction of all of their statements. So it's, you know, prover one wants to say, uh,",
    "start": "1104155",
    "end": "1110054"
  },
  {
    "text": "my value is in some range and then prover two wants to say my value is in another range and prover",
    "start": "1110054",
    "end": "1115300"
  },
  {
    "text": "three wants to prove something completely different, but, uh, it's just an and between these three things.",
    "start": "1115300",
    "end": "1121430"
  },
  {
    "text": "So, um, the nice thing is that, uh, we can do this in a logarithmic number of rounds,",
    "start": "1121430",
    "end": "1129110"
  },
  {
    "text": "so there has to be some communication and with the logarithmic amount of- of computa- communication,",
    "start": "1129110",
    "end": "1135345"
  },
  {
    "text": "or there's a different protocol, uh, which just has, uh, three rounds but has linear communications or more communication.",
    "start": "1135345",
    "end": "1142675"
  },
  {
    "text": "So there's a tradeoff kind of that we provide and there's, you know, multiple levels in between that.",
    "start": "1142675",
    "end": "1148470"
  },
  {
    "text": "Um, so, the nice thing is that this allows us- there's already this protocol for,",
    "start": "1148470",
    "end": "1156100"
  },
  {
    "start": "1150000",
    "end": "1525000"
  },
  {
    "text": "um, which is called, uh, I think I have it on the next slide what it's called but there's this protocol for",
    "start": "1156100",
    "end": "1163990"
  },
  {
    "text": "combining transactions where multiple users can combine transactions and the traditional reason why this was,",
    "start": "1163990",
    "end": "1169669"
  },
  {
    "text": "ah, used is because people wanted to hide who they're sending money to, right?",
    "start": "1169670",
    "end": "1175060"
  },
  {
    "text": "So you get some added anonymity from that, but now with confidential transactions and with",
    "start": "1175060",
    "end": "1180880"
  },
  {
    "text": "bulletproofs it actually makes the average size, or it makes the size of the proof.",
    "start": "1180880",
    "end": "1186400"
  },
  {
    "text": "And by that, the transaction fees, uh, which scale linearly in the size of the transaction, it makes it cheaper.",
    "start": "1186400",
    "end": "1192679"
  },
  {
    "text": "So there's even economic incentives to combine your transactions into one transaction that is smaller.",
    "start": "1192680",
    "end": "1198780"
  },
  {
    "text": "So, uh, what are the kind of, you know, what are the results of this? How can- can bulletproof help for confidential transaction or",
    "start": "1198780",
    "end": "1206480"
  },
  {
    "text": "this- this is also this new Blockchain format called Mimblewimble. Well, as I said it's 670 bytes instead of",
    "start": "1206480",
    "end": "1213740"
  },
  {
    "text": "four kilobytes per range proof and a 64 bit range, but again then this aggregation really,",
    "start": "1213740",
    "end": "1220645"
  },
  {
    "text": "uh, helps to make this gap a lot bigger. So for 16 range proofs,",
    "start": "1220645",
    "end": "1225790"
  },
  {
    "text": "it's 930 bytes versus 61 kilobytes. And doubling at the- doubling the precision would only add 64 bytes, right?",
    "start": "1225790",
    "end": "1233010"
  },
  {
    "text": "Again this is just, uh, this logarithmic scaling. Uh, and concretely if- if kind of the structure of transaction didn't change,",
    "start": "1233010",
    "end": "1242549"
  },
  {
    "text": "uh, which we would assume it would because there's new incentives, even then, uh, if you just applied the old confidential transactions to Bitcoin,",
    "start": "1242549",
    "end": "1251510"
  },
  {
    "text": "the UTXO set would be 160 gigabytes and now with bulletproofs it would be 17 gigabytes.",
    "start": "1251510",
    "end": "1258605"
  },
  {
    "text": "And this is the protocol that I was talking about was called CoinJoin [LAUGHTER] that was the name that I can think of.",
    "start": "1258605",
    "end": "1265100"
  },
  {
    "text": "So, its has this kind of built-in simple CoinJoin protocol for combining,",
    "start": "1265100",
    "end": "1270340"
  },
  {
    "text": "uh, transactions into a single one. Um, we also looked at whether- so the, the,",
    "start": "1270340",
    "end": "1276399"
  },
  {
    "text": "the protocol is susceptible to- to kind of quantum attacks and- and we looked at things that,",
    "start": "1276400",
    "end": "1282530"
  },
  {
    "text": "um, versus, uh, it's susceptible to attacks by a quantum computer.",
    "start": "1282530",
    "end": "1287605"
  },
  {
    "text": "Um, and we looked at things that, uh, perhaps, you know, uh, where a quantum computer could only break the hiding property, uh,",
    "start": "1287605",
    "end": "1296649"
  },
  {
    "text": "of the, the proofs so the zero knowledge property of the proof, but not the actual so-called soundness.",
    "start": "1296650",
    "end": "1303095"
  },
  {
    "text": "Um, the problem is this, uh, so the idea is that, um.",
    "start": "1303095",
    "end": "1309120"
  },
  {
    "text": "An attacker could reveal or see how much money everybody is spending, so break the privacy, but not,",
    "start": "1309120",
    "end": "1315299"
  },
  {
    "text": "uh, print new money. It turns out that because we're using compression, so it turns out because, uh,",
    "start": "1315300",
    "end": "1321860"
  },
  {
    "text": "we want our proofs to be actually smaller than the statement that we're proving, this is, uh, it's impossible to, to get this unconditional soundness.",
    "start": "1321860",
    "end": "1330850"
  },
  {
    "text": "So as I said, uh, you know, bulletproofs also works with these arbitrary statements.",
    "start": "1331520",
    "end": "1337590"
  },
  {
    "text": "Uh, so for example you could use it on Zcash and the proof size would",
    "start": "1337590",
    "end": "1342870"
  },
  {
    "text": "be 1.7 kilobytes but actually Zcash is improving kind of their circuit and that would help,",
    "start": "1342870",
    "end": "1349045"
  },
  {
    "text": "uh, bulletproofs a lot so it would be 1.3 Kilobytes. There's a reason why Zcash can probably not switch to bulletproof which is, uh,",
    "start": "1349045",
    "end": "1358080"
  },
  {
    "text": "that the verification time the proof size scales logarithmic and the size of the proof but the verification time is still linear.",
    "start": "1358080",
    "end": "1365340"
  },
  {
    "text": "So the more complex if I'm trying to prove to you that, uh, statement that is twice as complex,",
    "start": "1365340",
    "end": "1371169"
  },
  {
    "text": "verifying it will take roughly twice as long. Um, so this is an overview over kind of",
    "start": "1371170",
    "end": "1378250"
  },
  {
    "text": "different proof systems and the short takeaway from this is that there's multiple,",
    "start": "1378250",
    "end": "1383650"
  },
  {
    "text": "you know, this state- this space is really developing. There's multiple different proof systems out there,",
    "start": "1383650",
    "end": "1388804"
  },
  {
    "text": "each of them has different benefits and it really depends on the application which one is the best one to use.",
    "start": "1388805",
    "end": "1394745"
  },
  {
    "text": "So, you know, SNARKs are extremely efficient in terms of verifier time and proof size,",
    "start": "1394745",
    "end": "1400850"
  },
  {
    "text": "but they have this trusted set up, um, and you know the bulletproofs are short but the verifier takes linear time,",
    "start": "1400850",
    "end": "1409299"
  },
  {
    "text": "so this doesn't work for if you know the statement you're trying to prove is too complex. So, um, you know,",
    "start": "1409300",
    "end": "1415810"
  },
  {
    "text": "if if you have to really think about your application, uh, when there's no clear winner out there.",
    "start": "1415810",
    "end": "1422269"
  },
  {
    "text": "So you have to do some thinking, uh, and it's really application specific of what the best tool is.",
    "start": "1422270",
    "end": "1428155"
  },
  {
    "text": "Um, I just want to touch on like one, uh, or maybe two other things where where bulletproofs can also help.",
    "start": "1428155",
    "end": "1436905"
  },
  {
    "text": "So we had this protocol, um, in that we developed in 2015 which allowed Bitcoin exchanges to prove",
    "start": "1436905",
    "end": "1445730"
  },
  {
    "text": "that they're solvent so that they have enough money for paying out all their customers without revealing any information.",
    "start": "1445730",
    "end": "1451760"
  },
  {
    "text": "So without revealing how much money they have in total or what their Bitcoin addresses are, uh, or any of these information.",
    "start": "1451760",
    "end": "1458240"
  },
  {
    "text": "So it's kind of a zero knowledge proof for solvency. And with bulletproofs this would dramatically reduce",
    "start": "1458240",
    "end": "1464590"
  },
  {
    "text": "the size of the proof from like 18 gigabytes to a couple megabytes.",
    "start": "1464590",
    "end": "1469955"
  },
  {
    "text": "Another application outside the realm of blockchains is something called a verifiable shuffle.",
    "start": "1469955",
    "end": "1475895"
  },
  {
    "text": "So this is used in so-called mix nets where, uh, each sender, you know, wants to,",
    "start": "1475895",
    "end": "1481430"
  },
  {
    "text": "there's a couple of senders, each of them has an email and there's uh, receivers and you want to somehow have this interactive protocol which hides",
    "start": "1481430",
    "end": "1488670"
  },
  {
    "text": "which message is going to whom and one core component of this is,",
    "start": "1488670",
    "end": "1493840"
  },
  {
    "text": "uh, you need to produce these zero knowledge proofs that the inputs and outputs are that, uh, you know unencrypted inputs and unencrypted outputs are the same.",
    "start": "1493840",
    "end": "1502930"
  },
  {
    "text": "And it turns out that, uh, you know, with bulletproofs it's, it's the first logarithmic size verifiable shuffle without a trusted setup.",
    "start": "1502930",
    "end": "1511990"
  },
  {
    "text": "So this is, this proving that the inputs and outputs are the same is called a verifiable shuffle. Right, I, I, um, shuffle the values and I can prove to you that I did it correctly,",
    "start": "1511990",
    "end": "1520240"
  },
  {
    "text": "um, and with bulletproofs we can do this very efficiently. Um, so we also implemented this or, or, uh,",
    "start": "1520240",
    "end": "1530345"
  },
  {
    "start": "1525000",
    "end": "1800000"
  },
  {
    "text": "let's say Andrew and Peter did an amazing job at implementing this into the Bitcoin cryptographic library with, uh,",
    "start": "1530345",
    "end": "1538505"
  },
  {
    "text": "you know the prover's constant time so there's no timing attacks there and the verify's extremely fast and I know that there's",
    "start": "1538505",
    "end": "1544870"
  },
  {
    "text": "multiple other implementations and progress are already out there. And, uh, one of the main things that we did when,",
    "start": "1544870",
    "end": "1551760"
  },
  {
    "text": "when implementing is is kind of boiling down this this very complex verification protocol,",
    "start": "1551760",
    "end": "1557475"
  },
  {
    "text": "to this one simple big multi-exponentiation. Which is just as this, this check that you see here on the right.",
    "start": "1557475",
    "end": "1564325"
  },
  {
    "text": "So, if I want to check a proof I just kind of have to do this at base. It almost boils down I'm hiding some detail to this, uh, one check.",
    "start": "1564325",
    "end": "1572279"
  },
  {
    "text": "So the reason why this is interesting is because multi-exponentiation is,",
    "start": "1572280",
    "end": "1577335"
  },
  {
    "text": "uh, to some degree it's, it's sublinear. So it scales with N over logN",
    "start": "1577335",
    "end": "1582650"
  },
  {
    "text": "and this actually gives us some benefits and it turns out that for, for small circuits verifying, uh,",
    "start": "1582650",
    "end": "1589520"
  },
  {
    "text": "so for example for range proofs, verifying a bulletproof is even faster than verifying a SNARK.",
    "start": "1589520",
    "end": "1596274"
  },
  {
    "text": "The other thing that this multi-exponentiation gives us, is that say I have two bulletproofs, okay.",
    "start": "1596275",
    "end": "1601985"
  },
  {
    "text": "And then I have these two big multi-exponentiations that I need to verify with only the exponents are different.",
    "start": "1601985",
    "end": "1609825"
  },
  {
    "text": "Most of the generators kind of the things at the bottom and are the same but the exponents are different.",
    "start": "1609825",
    "end": "1615914"
  },
  {
    "text": "Well, it turns out that there's this batch verification technique that was originally designed for signatures, um,",
    "start": "1615915",
    "end": "1623704"
  },
  {
    "text": "but it also applies here, where you can kind of, you just combine these equations by raising",
    "start": "1623704",
    "end": "1629560"
  },
  {
    "text": "the first one to a random scalar alpha and then adding them together. And what this means is that,",
    "start": "1629560",
    "end": "1635600"
  },
  {
    "text": "I need to do a couple more scalar operations, but I still only need to do the same number of, uh exponentiations.",
    "start": "1635600",
    "end": "1643605"
  },
  {
    "text": "And, uh, if you've ever implemented cryptography, it turns out that these, these exponentiations are a lot more expensive than the scalar operations.",
    "start": "1643605",
    "end": "1652105"
  },
  {
    "text": "So in effect what this does is that verifying the first proof is this",
    "start": "1652105",
    "end": "1657440"
  },
  {
    "text": "I think for a 64 bit range proof is 6.2 milliseconds and,",
    "start": "1657440",
    "end": "1663065"
  },
  {
    "text": "uh, and verifying the second one is only 550 microseconds. So, a factor of 10 times less.",
    "start": "1663065",
    "end": "1670530"
  },
  {
    "text": "And you know if you're for example a miner and want to verify a whole block of transactions, uh, your amortized cost is really closer to the 550 microseconds.",
    "start": "1670530",
    "end": "1680179"
  },
  {
    "text": "So, um, yeah, thank you very much. The the web site for where you can find the paper and links to the implementations,",
    "start": "1680180",
    "end": "1689455"
  },
  {
    "text": "um, is uh, crypto.stanford.edu/bulletproof. Thank you very much [APPLAUSE].",
    "start": "1689455",
    "end": "1699029"
  },
  {
    "text": "Any questions? Can you say a bit about where where it's going to be used.",
    "start": "1699030",
    "end": "1707360"
  },
  {
    "text": "Yeah. So, um, Monero which is I think the 10th largest cryptocurrency actually they announced that they will implement this,",
    "start": "1707360",
    "end": "1716259"
  },
  {
    "text": "uh, because they have, uh, you know they've been struggling with their transaction size because they use the traditional confidential transactions.",
    "start": "1716260",
    "end": "1723405"
  },
  {
    "text": "And, um, so they will actually implement this and I think, you know, their goal is by the end of the year, uh,",
    "start": "1723405",
    "end": "1730809"
  },
  {
    "text": "that bullet proofs will secure this multibillion dollar, uh, cryptocurrency,",
    "start": "1730810",
    "end": "1737134"
  },
  {
    "text": "which is you know it's, it's, uh, in some ways it's, uh, it's very cool in other ways it's pretty insane, you know,",
    "start": "1737134",
    "end": "1742559"
  },
  {
    "text": "that like research that is no. It's insanely cool that [LAUGHTER].",
    "start": "1742560",
    "end": "1747980"
  },
  {
    "text": "Yeah, like this. They know how fast you know in this space, uh, I think research is getting deployed into practice.",
    "start": "1747980",
    "end": "1755735"
  },
  {
    "text": "I mean I think you said at some point like usually it takes seven, 17 years or something for crypto to be deployed?",
    "start": "1755735",
    "end": "1762890"
  },
  {
    "text": "Maybe that's worth saying 17 years because of, uh, your need for patents expire?",
    "start": "1762890",
    "end": "1769730"
  },
  {
    "text": "Ah, okay. Everything here is in the open and the clear.  Yes, of course. There's no patent. The library is open source. Uh, you can use it,",
    "start": "1769730",
    "end": "1775270"
  },
  {
    "text": "um, I think it's, uh, very probably I don't know what the license is but something permissive for businesses, um, so yeah.",
    "start": "1775270",
    "end": "1782740"
  },
  {
    "text": "Cool. Any other questions? Cool. Thank you [APPLAUSE]. Thanks. Thank you.",
    "start": "1782740",
    "end": "1790160"
  }
]