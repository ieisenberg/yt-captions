[
  {
    "start": "0",
    "end": "6160"
  },
  {
    "text": "All right. So welcome. My name is Kayvon. I'm a pretty casual guy.",
    "start": "6160",
    "end": "11370"
  },
  {
    "text": "So Kayvon is a perfectly\nreasonable way to address me. Hi, I'm Kunle.",
    "start": "11370",
    "end": "17090"
  },
  {
    "text": "I'm the other instructor. Kayvon is the software half. I'm the hardware guy.",
    "start": "17090",
    "end": "22667"
  },
  {
    "text": "Yeah, so I'll be doing\na lot of the lectures at the front of the class,\nwhich are a little bit more software oriented. And then you get the A team\nin the back half of the class",
    "start": "22667",
    "end": "30267"
  },
  {
    "text": "to tell you about how\nhardware really works. So right now we have nine TAs,\nyou're going to have 10 or 11.",
    "start": "30267",
    "end": "37680"
  },
  {
    "text": "So hopefully, we get\neverybody pretty good support. So I'm a big person\non motivation.",
    "start": "37680",
    "end": "46440"
  },
  {
    "text": "So I thought that\nwe would start by-- OK, so first of all,\nI like to try and make",
    "start": "46440",
    "end": "52310"
  },
  {
    "text": "lectures as interactive as I\ncan for a big class like this. So one thing I'd\nlike you to start",
    "start": "52310",
    "end": "57860"
  },
  {
    "text": "is why don't you just turn to\nyour neighbor who hopefully is a friend or\nmaybe not a friend, and you've never\nseen them before.",
    "start": "57860",
    "end": "63620"
  },
  {
    "text": "You might be working through\na few things with them today. So why don't you turn\nover, introduce yourself,",
    "start": "63620",
    "end": "68860"
  },
  {
    "text": "say hi, suggest that you're a\npleasant person to be around. [LAUGHTER]",
    "start": "68860",
    "end": "74100"
  },
  {
    "text": "[INTERPOSING VOICES] And then, one thing is, why\ndon't you tell everybody",
    "start": "74100",
    "end": "79950"
  },
  {
    "text": "why you are here? [INTERPOSING VOICES] OK, all right. So hopefully, you've-- great.",
    "start": "79950",
    "end": "87240"
  },
  {
    "text": "Very good job. Very good job. OK, so here's a\nquestion for all of you, we have 270 people in\nthis class, which is more",
    "start": "87240",
    "end": "95310"
  },
  {
    "text": "than we've ever had before. It's always good\nto know why people",
    "start": "95310",
    "end": "100799"
  },
  {
    "text": "got their butt up this morning\nand decided to take this class. ",
    "start": "100800",
    "end": "106229"
  },
  {
    "text": "Why are you here? This is actually a class where\nwe have pretty different people showing up. We often have\nhardware architects.",
    "start": "106230",
    "end": "112360"
  },
  {
    "text": "We have software programmers. We have people in\nmachine learning that are tired of waiting\nfor training to go.",
    "start": "112360",
    "end": "118030"
  },
  {
    "text": "We have graphics folks. So who's here? Why are you here?",
    "start": "118030",
    "end": "123359"
  },
  {
    "text": "Yes, sir, sitting in\nthe front, obviously. So my undergrad and most of\nmy master's degree [INAUDIBLE]",
    "start": "123360",
    "end": "132290"
  },
  {
    "text": "classes. [INAUDIBLE] right? Yeah. But I see feedback from\npeople in the industry that--",
    "start": "132290",
    "end": "138560"
  },
  {
    "text": "That [INAUDIBLE] I think there could be no better\nclass than this [INAUDIBLE]",
    "start": "138560",
    "end": "144090"
  },
  {
    "text": "class. I think so. I think one of the things that\nI'd like people to take away from this class is that\ncomputers are a hell of a lot",
    "start": "144090",
    "end": "149228"
  },
  {
    "text": "faster than they\nactually think they are. And so especially, if you never\nbuilt a system in your life,",
    "start": "149228",
    "end": "155002"
  },
  {
    "text": "I'm not saying that you will. But for folks that are\napplications focused, I think that having a\nlittle bit of intuition",
    "start": "155002",
    "end": "161900"
  },
  {
    "text": "about how fast something should\nbe is extremely important. Like when someone working\nfor you goes, look,",
    "start": "161900",
    "end": "168030"
  },
  {
    "text": "this computation\nis taking all day. You should be like,\nI mean, I understand what that workload is. That should be a 5\nsecond thing on 10 cores",
    "start": "168030",
    "end": "175370"
  },
  {
    "text": "can really be helpful. Anyone else? Yes, sir. Yeah, my major is on the\nhardware and the software.",
    "start": "175370",
    "end": "183860"
  },
  {
    "text": "And then what's going\non with [INAUDIBLE] OK. [INAUDIBLE] Yeah, that's great.",
    "start": "183860",
    "end": "188960"
  },
  {
    "text": "So we are going to talk\na lot about the interface between hardware and software. Typically, getting\nthat interface right",
    "start": "188960",
    "end": "194980"
  },
  {
    "text": "is step one to the key to\nperformance a lot of times. Anyone else on the back? I've got some machine\nlearning interest.",
    "start": "194980",
    "end": "201500"
  },
  {
    "text": "We have some hardware,\nsoftware, boundary interests. Anybody else? Any graphics folks here?",
    "start": "201500",
    "end": "208459"
  },
  {
    "text": "Yes, ma'am. [INAUDIBLE] I don't know.",
    "start": "208460",
    "end": "215180"
  },
  {
    "text": "I'm interested in everything. I mean, graphics\nlike machine learning has always been\nthis field that's we got to get the\nalgorithms right,",
    "start": "215180",
    "end": "221340"
  },
  {
    "text": "but we also got to run\nreally efficiently. So a lot of the technologies\nthat we'll talk about have some genesis in graphics.",
    "start": "221340",
    "end": "228480"
  },
  {
    "text": "So OK, so some of the things\nthat we're going to talk about, this is, actually, first of all,\nhow many people have spawned",
    "start": "228480",
    "end": "234650"
  },
  {
    "text": "a thread before in their life? And in what class did\nyou spawn a thread for? 110.",
    "start": "234650",
    "end": "239689"
  },
  {
    "text": "110. And you spawned a thread in\n110 in the context of what? [INAUDIBLE]",
    "start": "239690",
    "end": "245180"
  },
  {
    "text": "You were writing a thread pool. And did you-- I actually forgot. You wrote the thread pool\nfor what application,",
    "start": "245180",
    "end": "250860"
  },
  {
    "text": "or was it just a\ngeneric thread pool? It was just in a pizza app. Just a pizza app. So you didn't\ncreate a thread pool",
    "start": "250860",
    "end": "256640"
  },
  {
    "text": "to actually have a concurrent\napplication at all? Yeah. I mean, we were\ntrying to do, it was like Stanford farm or something\nlike that where we were trying",
    "start": "256640",
    "end": "264083"
  },
  {
    "text": "to run arbitrarily [INAUDIBLE]. OK. All right. So you wrote a thread pool\nfor exactly the reason",
    "start": "264083",
    "end": "270350"
  },
  {
    "text": "on this slide, which is you\nwanted to use as many cores as you could in order to\nget stuff done faster.",
    "start": "270350",
    "end": "275400"
  },
  {
    "text": "Makes sense. A number of you have\nprobably also written thread pools for web programming\nor something like that before,",
    "start": "275400",
    "end": "280569"
  },
  {
    "text": "right? Has anybody written like a web\nproxy or a little web server or something like that?",
    "start": "280570",
    "end": "286690"
  },
  {
    "text": "A lot of times we spawn\nthreads to hide latency to do something else.",
    "start": "286690",
    "end": "291900"
  },
  {
    "text": "But in this class,\nwe're going to be talking about multiple uses of\nwhy we're creating parallelism.",
    "start": "291900",
    "end": "298510"
  },
  {
    "text": "And this class is even though\nit's called parallel computing, we're going to talk\nabout efficiency as much as we're going to\ntalk about parallelism.",
    "start": "298510",
    "end": "305200"
  },
  {
    "text": "And sometimes efficiency\nis a lot more important than parallelism. So I like to play a little game\nin the first day of class just",
    "start": "305200",
    "end": "311550"
  },
  {
    "text": "to make some things a\nlittle bit more explicit,",
    "start": "311550",
    "end": "317979"
  },
  {
    "text": "at least, while\neverybody's here. So who can handle pressure? ",
    "start": "317980",
    "end": "325305"
  },
  {
    "text": "I got some people. You, name in the back?",
    "start": "325305",
    "end": "331229"
  },
  {
    "text": "So would you mind coming\nto the front of the room, because there's no bigger\npressure than doing something",
    "start": "331230",
    "end": "337740"
  },
  {
    "text": "in front of everybody else. And it even gets\nworse because I'm going to have you do math\nin front of everybody else.",
    "start": "337740",
    "end": "343110"
  },
  {
    "text": "So if it was me, I'd be\nquaking in my boots right now.",
    "start": "343110",
    "end": "348479"
  },
  {
    "text": "OK. So we're going to use you\nas a little processor. So there are 16 numbers on\npieces of paper right here.",
    "start": "348480",
    "end": "358919"
  },
  {
    "text": "And I'm going to ask\nto just add them up. That's all you got to do. Hold on 1 second.",
    "start": "358920",
    "end": "364498"
  },
  {
    "text": "And I'm going to time you. And what we're\ngoing to do is we're going to see how fast one person\ncan add up all these numbers,",
    "start": "364498",
    "end": "371970"
  },
  {
    "text": "and then we're going to\nsee if we can do better. So prepare yourself. And whenever you're ready,\nI'll start the timer,",
    "start": "371970",
    "end": "379440"
  },
  {
    "text": "and we'll time how quickly\nyou can add up 16 numbers. So whenever you feel\ncomfortable, go right ahead.",
    "start": "379440",
    "end": "385830"
  },
  {
    "text": "OK, I'm ready. OK, go for it. Timer has started. ",
    "start": "385830",
    "end": "392426"
  },
  {
    "text": "And I'll be quiet,\nso I don't disrupt. ",
    "start": "392427",
    "end": "440090"
  },
  {
    "text": "I think it's 106. That's very, very close. Close enough, but\nvery, very good.",
    "start": "440090",
    "end": "445970"
  },
  {
    "text": "It's a very high\npressure activity. [APPLAUSE] So you were able to add\nall these numbers up.",
    "start": "445970",
    "end": "453340"
  },
  {
    "text": "And approximately, if I'm going\nto remove a little bit of time when you were just\nkind of getting",
    "start": "453340",
    "end": "458370"
  },
  {
    "text": "started, but it was\nabout 40 seconds to add up all the numbers. So I'm going to\nthank you, and we'll",
    "start": "458370",
    "end": "465103"
  },
  {
    "text": "keep going with the lecture. So thank you. Thank you, again. So 40 seconds.",
    "start": "465103",
    "end": "471750"
  },
  {
    "text": "And this is our first\nparallel program of the class. And I might suggest that\nhow can we do better.",
    "start": "471750",
    "end": "479340"
  },
  {
    "text": "So one way we could do better\nis we could practice a bunch over the next couple of days.",
    "start": "479340",
    "end": "484580"
  },
  {
    "text": "And we can call\nback up next week and say, let's try\nit again, and let's see if we can get those 16\nnumbers done even faster, so she",
    "start": "484580",
    "end": "492110"
  },
  {
    "text": "can work on arithmetic tables\nor something like that. But what are some other ways\nwe could maybe do faster?",
    "start": "492110",
    "end": "498050"
  },
  {
    "text": "So yeah, so obviously,\nwhere I'm leading you is let's try this\nwith more people.",
    "start": "498050",
    "end": "504270"
  },
  {
    "text": "So luckily I have sitting here\nwith another set of 16 numbers, the answer is different\nso you can't just",
    "start": "504270",
    "end": "509960"
  },
  {
    "text": "repeat the same number. And I'd like to have two\nmore volunteers to see",
    "start": "509960",
    "end": "515330"
  },
  {
    "text": "if we can use two people to do\nbetter than about 40 seconds. All right. So you seem very confident.",
    "start": "515330",
    "end": "522140"
  },
  {
    "text": "Please come on up. Nice. And I'm going to put these face\ndown so you can't, at least,",
    "start": "522140",
    "end": "528529"
  },
  {
    "text": "precompute some of them. And we need another volunteer. By the way, what's your name? OK, so first of all, thank\nyou [AUDIO OUT] And thank",
    "start": "528530",
    "end": "537279"
  },
  {
    "text": "[AUDIO OUT]. [APPLAUSE] And I'd like another volunteer\nbut, in particular, we",
    "start": "537280",
    "end": "543389"
  },
  {
    "text": "want a volunteer from\nthe back of the room. Yes, sir. So you're going to be\nworking with [AUDIO OUT]",
    "start": "543390",
    "end": "548680"
  },
  {
    "text": "And your name is? [AUDIO OUT] That's great. But I don't want you to go\nto the front of the room. I want you to stay back here.",
    "start": "548680",
    "end": "554328"
  },
  {
    "text": "Sounds good. OK, so you can't\nlook at these things. And what I want\nto know is I want to know what the sum\nof these 16 numbers is.",
    "start": "554328",
    "end": "560740"
  },
  {
    "text": "I believe both of you\nhave eight of them. But here's the catch. Somebody give [AUDIO OUT] a\npiece of paper and a pencil,",
    "start": "560740",
    "end": "570190"
  },
  {
    "text": "or if you have one. I'm sure we can figure it out. We have 270 people in the room.",
    "start": "570190",
    "end": "575210"
  },
  {
    "text": " All right. So you two can't talk, but I\nwant to know the total sum.",
    "start": "575210",
    "end": "584500"
  },
  {
    "text": "So whenever you are\nready, feel free to grab your pieces of paper. One second.",
    "start": "584500",
    "end": "589700"
  },
  {
    "text": "Let me reset my timer. And ready? Just to ask the premise again. Yeah. He's getting the same numbers?",
    "start": "589700",
    "end": "595070"
  },
  {
    "text": "No, you guys have different\nsets of eight numbers, and I want to know\nthe sum of all 16. Without communicating?",
    "start": "595070",
    "end": "600680"
  },
  {
    "text": "Well, he has a piece of paper. You can communicate,\nyou just can't talk. OK. OK, are you ready?",
    "start": "600680",
    "end": "607000"
  },
  {
    "text": "Go for it. ",
    "start": "607000",
    "end": "630123"
  },
  {
    "text": "You solve the problem. I know. Don't look at me.  OK.",
    "start": "630123",
    "end": "635470"
  },
  {
    "start": "635470",
    "end": "646800"
  },
  {
    "text": "112. That's actually exactly correct. [APPLAUSE] Very good.",
    "start": "646800",
    "end": "652070"
  },
  {
    "text": "Very good. And I can prove it to you\nbecause I wrote 112 right here.",
    "start": "652070",
    "end": "657540"
  },
  {
    "text": "So that is correct. All right, great job. Now, did anybody notice\nhow long that took?",
    "start": "657540",
    "end": "663200"
  },
  {
    "text": "My stopwatch says 41.7 seconds. So we had one person that--",
    "start": "663200",
    "end": "669993"
  },
  {
    "text": "I gave a little bit of credit\nbecause it was actually more like 45, but I tried\nto get rid of some of the rustling of the papers.",
    "start": "669993",
    "end": "675779"
  },
  {
    "text": "But let's call it 45. And let's call 41 seconds.",
    "start": "675780",
    "end": "683240"
  },
  {
    "text": "So we have two people, twice the\nresources, twice my CA budget.",
    "start": "683240",
    "end": "688420"
  },
  {
    "text": "And I got-- how much\nbetter did I do? I did what? Like, 10% better.",
    "start": "688420",
    "end": "694190"
  },
  {
    "text": "So what's going on here? What would we have\nexpected if we assume that\neverybody can do math at approximately the same rate?",
    "start": "694190",
    "end": "702079"
  },
  {
    "text": "60% of the time. Sorry. 60% of [INAUDIBLE]. OK, why do you say 60%?",
    "start": "702080",
    "end": "707720"
  },
  {
    "text": "Have it and then add it for\nsome resource communication between the two parties. And then, ideally,\nlike the best we",
    "start": "707720",
    "end": "713150"
  },
  {
    "text": "could do if you had some\ntelepathic connection or something like that\nwould have been it should have been about\ntwo times faster,",
    "start": "713150",
    "end": "719640"
  },
  {
    "text": "two people, twice the\nresources, two times faster. But we actually, basically\nweren't faster at all.",
    "start": "719640",
    "end": "725990"
  },
  {
    "text": "And so what caused that? Did anybody notice how long\nit took the second group",
    "start": "725990",
    "end": "732440"
  },
  {
    "text": "to do the math? It actually was at\nabout 21 seconds when you started throwing\nup your hands going,",
    "start": "732440",
    "end": "738270"
  },
  {
    "text": "I'm not sure what to do next. And I think it was\nlike 23 seconds when he finished his math and\nstarted walking towards you.",
    "start": "738270",
    "end": "745620"
  },
  {
    "text": "So what was the deal? Yeah. The communication\nbetween the two. We had to do some communication.",
    "start": "745620",
    "end": "750820"
  },
  {
    "text": "So this is actually\na problem that is pretty trivial in\nsome sense to paralyze.",
    "start": "750820",
    "end": "757180"
  },
  {
    "text": "But just something as\nsimple as getting one number from one side of the\nroom to the other",
    "start": "757180",
    "end": "762690"
  },
  {
    "text": "significantly blew up all\nof our speed up immediately. We had students\ntwiddling their thumbs.",
    "start": "762690",
    "end": "769120"
  },
  {
    "text": "Now, if I gave you the\nopportunity to do it again, and you could do whatever you\nwanted, how would you maybe",
    "start": "769120",
    "end": "775350"
  },
  {
    "text": "speed things up? I would walk over to him\nwhile adding the numbers. OK, so we could walk\ntowards each other while",
    "start": "775350",
    "end": "780840"
  },
  {
    "text": "adding the numbers. We can start communicating\nessentially while we're still doing the math.",
    "start": "780840",
    "end": "786570"
  },
  {
    "text": "What if I gave you other\nrules like you could use WeChat or something like that?",
    "start": "786570",
    "end": "793470"
  },
  {
    "text": "I would use WeChat. [LAUGHTER] Yeah. So there's some way,\nif we could shout,",
    "start": "793470",
    "end": "799320"
  },
  {
    "text": "or if we were sitting\nhere on WhatsApp, like, we could reduce the amount\nof communication significantly.",
    "start": "799320",
    "end": "805397"
  },
  {
    "text": "So what we saw here is\nsomething that I don't even have to prop this\nequation up on the slide. This is pretty\nobvious to everybody.",
    "start": "805397",
    "end": "810790"
  },
  {
    "text": "I said, what should the\nspeed up be with two people? And you all were like, well,\nit should probably be about 2x.",
    "start": "810790",
    "end": "817920"
  },
  {
    "text": "And we got that speed up for the\ntime for one person, the time",
    "start": "817920",
    "end": "823260"
  },
  {
    "text": "that Tina took divided by\nthe time using two people or, in this case, p equals 2.",
    "start": "823260",
    "end": "828840"
  },
  {
    "text": "And the observations\nwere that it was really this minimizing the\ncost of communication",
    "start": "828840",
    "end": "834990"
  },
  {
    "text": "would actually be the hard\npart of trying to use two people under these conditions.",
    "start": "834990",
    "end": "840394"
  },
  {
    "text": "So if two people is hard,\nmaybe we should try four.",
    "start": "840394",
    "end": "846720"
  },
  {
    "text": "So luckily, I have four\ngroups of things set up,",
    "start": "846720",
    "end": "852790"
  },
  {
    "text": "so I'd like four volunteers. And so first four people to\ncome enthusiastically run to the front of\nthe room will get",
    "start": "852790",
    "end": "859020"
  },
  {
    "text": "to participate in this activity. OK, so here's what\nwe're going to do. I'm giving you all some work.",
    "start": "859020",
    "end": "866480"
  },
  {
    "text": "You each have your things. We can start. And so ideally, now you're\nall right next to each other.",
    "start": "866480",
    "end": "875010"
  },
  {
    "text": "And, I'm fine with allowing you\nall to talk, like you all talk. You're all right next\nto each other, anyway.",
    "start": "875010",
    "end": "881279"
  },
  {
    "text": "I'd like to know how\nfast you can do this. And we expect maybe on\nthe order of 12 seconds",
    "start": "881280",
    "end": "887000"
  },
  {
    "text": "or something like that\nif we're in good shape. So let's give it a shot. So we've got four workers.",
    "start": "887000",
    "end": "892519"
  },
  {
    "text": "Go. ",
    "start": "892520",
    "end": "897536"
  },
  {
    "text": "[INTERPOSING VOICES] So what happened? What do we observe?",
    "start": "897536",
    "end": "903080"
  },
  {
    "text": "Well, first of all,\nwhat was the reason why this didn't go very well? I got a lot of numbers.",
    "start": "903080",
    "end": "908150"
  },
  {
    "text": "You got a lot more work\nthan everybody else. I also give you bigger numbers\njust to make a little harder. [LAUGHTER]",
    "start": "908150",
    "end": "914018"
  },
  {
    "text": "These people were\nadding up like 4 and 5. [LAUGHTER] And so why did that not scale?",
    "start": "914018",
    "end": "924459"
  },
  {
    "text": "Because my latency was\nhigher than the other people. I took more time\nbecause I had more work",
    "start": "924460",
    "end": "930670"
  },
  {
    "text": "and the work distribution\nwasn't equal. Yeah, you had more\nwork, so everybody else is waiting for you.",
    "start": "930670",
    "end": "936620"
  },
  {
    "text": "And they didn't\nhave anything to do. So unlike the other\nfolks, I'm going",
    "start": "936620",
    "end": "942280"
  },
  {
    "text": "to give you all another shot. So I have a new different group. Now, in this case, I actually I\ndo know it comes out, I think,",
    "start": "942280",
    "end": "951590"
  },
  {
    "text": "the same size. I'm not going to make\nany guarantees at all.",
    "start": "951590",
    "end": "956685"
  },
  {
    "text": "OK, so I'm going to\nredistribute to everybody. Now, before you do your\nwork, why don't you",
    "start": "956685",
    "end": "962860"
  },
  {
    "text": "I'll talk a little bit about\nhow you're going to do this. And with your\nfriends over there,",
    "start": "962860",
    "end": "967908"
  },
  {
    "text": "I'd like you all in\nthe audience to come up with a scheme about\nhow you would do it if you were standing\nup here trying",
    "start": "967908",
    "end": "973810"
  },
  {
    "text": "to coordinate four people. And there's a number of\ndifferent strategies. So I'll give everybody\nlike 45 seconds or a minute",
    "start": "973810",
    "end": "981160"
  },
  {
    "text": "to talk it over. If you were up here\nwith four people, and you had no idea what\nwere in those piles,",
    "start": "981160",
    "end": "986690"
  },
  {
    "text": "how would you do this? I think I'd go first,\nmaybe if you have-- And feel free to talk\nabout it in groups.",
    "start": "986690",
    "end": "993180"
  },
  {
    "text": "[INTERPOSING VOICES] OK. I think that's\nenough planning time.",
    "start": "993180",
    "end": "998940"
  },
  {
    "text": "So take your packets. And one second,\nlet me get ready. Are you ready?",
    "start": "998940",
    "end": "1004405"
  },
  {
    "text": "Go. ",
    "start": "1004405",
    "end": "1009650"
  },
  {
    "text": "OK. I'm looking to see\nwhat they're doing. I'll explain it to\nyou in a second.",
    "start": "1009650",
    "end": "1014759"
  },
  {
    "text": "34. It's 30, 40. 64, 35. 64 plus 35 is 186.",
    "start": "1014760",
    "end": "1022240"
  },
  {
    "text": "99 plus 26 is 125. You're off by 10,\nbut that's fine. [LAUGHTER]",
    "start": "1022240",
    "end": "1029470"
  },
  {
    "text": "10% error. Not to be used in banking. [LAUGHTER] So it was 115 but whatever.",
    "start": "1029470",
    "end": "1037050"
  },
  {
    "text": "Sometimes we don't check\ncorrectness on assignments. OK, They did it in 19 seconds.",
    "start": "1037050",
    "end": "1042910"
  },
  {
    "text": "And I think things are\na little bit occluded. Actually, why don't you\nsummarize to the crowd",
    "start": "1042910",
    "end": "1048059"
  },
  {
    "text": "how you did it. Yeah, we just once\nwe got the package, we just put them all in one\nbig pool taking and adding.",
    "start": "1048060",
    "end": "1055505"
  },
  {
    "text": "And then once all\nthe packets are gone, we just add them all together. Yeah, so everything got\nthrown into a big pool,",
    "start": "1055505",
    "end": "1061860"
  },
  {
    "text": "and then everybody just took\nthe next available thing as they were adding. That was their scheme. Now, you would have\nrun the risk of maybe",
    "start": "1061860",
    "end": "1069190"
  },
  {
    "text": "you would have bumped\ninto each other's hands or something like that,\nbut actually, that didn't seem to be the case. And the reason why that didn't\nseem to be the case is that--",
    "start": "1069190",
    "end": "1076030"
  },
  {
    "text": "By the way, that took\n19 seconds to do. But at 12 seconds, all\nof you had finished",
    "start": "1076030",
    "end": "1083020"
  },
  {
    "text": "your individual math, actually. So you almost were\nperfect up until there. And then it took 7\nseconds to add up",
    "start": "1083020",
    "end": "1088900"
  },
  {
    "text": "the partials, the partial sums. So your parallelization\nscheme was actually quite executed quite well.",
    "start": "1088900",
    "end": "1095120"
  },
  {
    "text": "So anyways, thank\nyou to the groups. [APPLAUSE]",
    "start": "1095120",
    "end": "1101000"
  },
  {
    "text": "Did anybody else\nin talking over-- I mean, there's a\nnumber of ways people could have done this-- were\nthere any alternative schemes",
    "start": "1101000",
    "end": "1106520"
  },
  {
    "text": "that were devised in the crowd? So again, the scheme here was\nthrow everything into a pot",
    "start": "1106520",
    "end": "1111980"
  },
  {
    "text": "and take the next\nthing out of the pot. Yes. I think we proposed to do\none thing that once all of us",
    "start": "1111980",
    "end": "1119300"
  },
  {
    "text": "added our numbers together,\nI think we planned this, but we didn't do it. Two of us should have\nadded it together first,",
    "start": "1119300",
    "end": "1124799"
  },
  {
    "text": "then the other two,\nand then together. It is true. You all kind of waited around\nuntil all the partial sums were done and--",
    "start": "1124800",
    "end": "1132710"
  },
  {
    "text": "Yep, I bet you could have\nshaved off 2 or 3 seconds if you did that. Any other strategies in general?",
    "start": "1132710",
    "end": "1140662"
  },
  {
    "text": "Why don't you just go around. Yeah. You can distribute it into\nfour pools beforehand.",
    "start": "1140662",
    "end": "1145920"
  },
  {
    "text": " Yeah. So another way\nwould have been just",
    "start": "1145920",
    "end": "1152000"
  },
  {
    "text": "like anybody that had more than\nfour pass to people with less than four, you give four to\neverybody and then do the work.",
    "start": "1152000",
    "end": "1158690"
  },
  {
    "text": "Now, in practice,\nthey ended up probably with about four items per person\njust by grabbing the next.",
    "start": "1158690",
    "end": "1164842"
  },
  {
    "text": "And what if one of the students\nwould have been just really bad at math? Or maybe one of the\nstudents got some numbers",
    "start": "1164842",
    "end": "1169850"
  },
  {
    "text": "that was very large\nand harder to add? So your scheme, which is\ngreat, and actually the one",
    "start": "1169850",
    "end": "1175580"
  },
  {
    "text": "that I anticipated them to use\nwas, redistribute all the work upfront, do things independently\nand then come back together.",
    "start": "1175580",
    "end": "1183480"
  },
  {
    "text": "What they chose is\nthey actually decided to just sync up constantly\nby taking the next thing.",
    "start": "1183480",
    "end": "1190460"
  },
  {
    "text": "Any other strategies?  No other strategies?",
    "start": "1190460",
    "end": "1197980"
  },
  {
    "text": "Yeah. We were thinking of\nusing a thread dispatcher to have one person\nwho is just waiting and ready to sum the\nother three partial sums.",
    "start": "1197980",
    "end": "1204760"
  },
  {
    "text": "So one person stands by. The other three are summing. And then as they come in,\nthe fourth person just sums--",
    "start": "1204760",
    "end": "1210510"
  },
  {
    "text": "so you can have\none person holding the total sum in the head? OK, that would actually\npotentially work. Now, what's the\ncost of this scheme",
    "start": "1210510",
    "end": "1216690"
  },
  {
    "text": "of using three people to add\nup the numbers and one person to do the other ones? If there is a lot of numbers--\nif there's more than 16 numbers",
    "start": "1216690",
    "end": "1223350"
  },
  {
    "text": "then-- Yeah, you're basically\nletting someone wait while everybody\nelse is doing work.",
    "start": "1223350",
    "end": "1228735"
  },
  {
    "text": "Now, in practice, I\nthink your solution might have worked quite well because\nthat person was waiting for a very short period of\ntime, and it's only one person",
    "start": "1228735",
    "end": "1235402"
  },
  {
    "text": "waiting for a short\nperiod of time, whereas what they had at the\nend were three people waiting for a short period of time.",
    "start": "1235402",
    "end": "1240549"
  },
  {
    "text": "Cool. Yeah, it makes sense. Any other comments, ways\nof going about this?",
    "start": "1240550",
    "end": "1246400"
  },
  {
    "text": "Yes. Can you expand the\nthread dispatcher like-- Well, the scheme was we're going\nto let one person just stand off",
    "start": "1246400",
    "end": "1251910"
  },
  {
    "text": "to the side and do nothing,\nand that person will recognize when the three other workers got\ndone with their partial sums,",
    "start": "1251910",
    "end": "1260210"
  },
  {
    "text": "and that person is only\nresponsible for adding those up. So presumably, they can\nstart adding numbers up",
    "start": "1260210",
    "end": "1266560"
  },
  {
    "text": "in parallel or in parallel\nwith the long worker. So another possibility,\nseems perfectly valid to me.",
    "start": "1266560",
    "end": "1272770"
  },
  {
    "text": "OK. All right. One more before we get on\nto some class logistics.",
    "start": "1272770",
    "end": "1278150"
  },
  {
    "text": "And this is the\nmore interesting one that I want you all\nto decide as a class. What I want to know is how\nmany people are in the room",
    "start": "1278150",
    "end": "1286090"
  },
  {
    "text": "right now. So I'm going to give you 1\nminute, minute and a half",
    "start": "1286090",
    "end": "1291770"
  },
  {
    "text": "to talk it over\nwith everybody else. As a class, you need to\ndesign a strategy for how",
    "start": "1291770",
    "end": "1296980"
  },
  {
    "text": "you're going to do this. And I'm going to put\nthe timer on you. And we're going to\ntry and estimate how many people are in\nthe class right now.",
    "start": "1296980",
    "end": "1303530"
  },
  {
    "text": "Let's say there's 150\npeople in the class. If we can do 15 numbers--",
    "start": "1303530",
    "end": "1309320"
  },
  {
    "text": "16 numbers in 45 seconds,\nso round up to a minute, well, that means\nthat we should be",
    "start": "1309320",
    "end": "1314440"
  },
  {
    "text": "able to do the whole class\nof 160 in 10 minutes. Divided by 100 people.",
    "start": "1314440",
    "end": "1320990"
  },
  {
    "text": "So this should be just a few\nseconds to add everybody up. Yeah. So how are you going to do it?",
    "start": "1320990",
    "end": "1326921"
  },
  {
    "text": "[INTERPOSING VOICES] ",
    "start": "1326921",
    "end": "1339549"
  },
  {
    "text": "OK. All right. So let's come back together.",
    "start": "1339550",
    "end": "1345309"
  },
  {
    "text": "Let's make sure we have\nagreed upon a scheme. Have we? Have we converged\nto an algorithm",
    "start": "1345310",
    "end": "1350980"
  },
  {
    "text": "with 150 people in 90 seconds? Someone be assertive and say,\nhere's how we're going to do it.",
    "start": "1350980",
    "end": "1359042"
  },
  {
    "text": "Count the number of rows-- count\nthe number of people in each row and add up the rows. So that's what\nyou're going to do? And back of the room.",
    "start": "1359042",
    "end": "1364550"
  },
  {
    "text": "Is that the plan? Yes. Anybody want to-- I mean, that's a\nperfectly fine plan. Does anyone want to\nadd anything to it? Also split the\nrows and sections,",
    "start": "1364550",
    "end": "1370820"
  },
  {
    "text": "so that section goes separate\nand that section goes separate. So we're going to add\nup-- is that the plan? 1, 2, 3, separately. Every row and every\nsection adds their row,",
    "start": "1370820",
    "end": "1377960"
  },
  {
    "text": "sends the sum backwards,\nand then the back row amalgamates all three\nof the sections.",
    "start": "1377960",
    "end": "1383140"
  },
  {
    "text": "OK. Sends it back [INAUDIBLE]. Are you sure?",
    "start": "1383140",
    "end": "1388188"
  },
  {
    "text": "[LAUGHTER] Because I feel like\nthere's a lot of the class is going to be sitting around.",
    "start": "1388188",
    "end": "1393304"
  },
  {
    "text": "What's not ideal here is\nthat the back of the class is not doing any work\nwhile we are working here.",
    "start": "1393305",
    "end": "1399110"
  },
  {
    "text": "Yeah, the back of\nthe class is going to be doing a lot of waiting\nwhile this partial sum is rolling back. Anybody want to--",
    "start": "1399110",
    "end": "1404180"
  },
  {
    "text": "[INTERPOSING VOICES] Some start in the front,\nstart in the back, and some meets in the middle. OK. So there's a proposal\nto start in the back",
    "start": "1404180",
    "end": "1409940"
  },
  {
    "text": "and push forward and start\nin the front and push back. And you all somewhere\nin the middle, are you going to\nhave to produce it?",
    "start": "1409940",
    "end": "1416870"
  },
  {
    "text": "Does that sound OK anymore? Yeah. Maybe one person or two\npeople, one for the front--",
    "start": "1416870",
    "end": "1423350"
  },
  {
    "text": "like, count the number of people\nin the back, the other person count the number of\npeople in the front, and then combine that.",
    "start": "1423350",
    "end": "1428929"
  },
  {
    "text": "And then send it to the\nother section in the middle. I see.",
    "start": "1428930",
    "end": "1434420"
  },
  {
    "text": "Sorry, I didn't quite get it. So are we still\ndoing rows first? For the front section\nof front rows,",
    "start": "1434420",
    "end": "1442039"
  },
  {
    "text": "and then another person\nfor the back rows, and then combine that. ",
    "start": "1442040",
    "end": "1448800"
  },
  {
    "text": "So only two people are\ngoing to do the work? Kind of observing, yeah. ",
    "start": "1448800",
    "end": "1456193"
  },
  {
    "text": "I think I know\nwhat you're saying, but I'm not sure if I can\ntranslate it into pseudocode for 150 people in 10 seconds.",
    "start": "1456193",
    "end": "1462268"
  },
  {
    "text": "OK, one more thing, and then\nI think we're at a scheme, and let's just see\nhow well it goes. Yeah. Everyone tries to\ngroup up to 10s.",
    "start": "1462268",
    "end": "1468880"
  },
  {
    "text": "And [INAUDIBLE]\nAnd then finally, we just count how many 10s. Oh, now we're doing\nsomething different.",
    "start": "1468880",
    "end": "1475760"
  },
  {
    "text": "So the proposal is get your\nbutts up, get into groups of 10, and then count the\nnumber of groups.",
    "start": "1475760",
    "end": "1482740"
  },
  {
    "text": "So who wants to-- is there a strong feeling?",
    "start": "1482740",
    "end": "1488830"
  },
  {
    "text": "That one is good. I think people want\nto move around. Yes.",
    "start": "1488830",
    "end": "1494396"
  },
  {
    "text": "[INTERPOSING VOICES] Everyone sit in the\nmiddle row [INAUDIBLE].",
    "start": "1494396",
    "end": "1499990"
  },
  {
    "text": "Everyone sit in the middle row. Everyone [INAUDIBLE]\nthe first row. Oh, OK.",
    "start": "1499990",
    "end": "1505570"
  },
  {
    "text": "The other thing was\neveryone precomputes the number of chairs per\nrow, and everybody fill up",
    "start": "1505570",
    "end": "1511000"
  },
  {
    "text": "the front rows. And count the rows. OK, I'm going to get one more. These are actually a lot more\ncreative than previous years.",
    "start": "1511000",
    "end": "1517078"
  },
  {
    "text": "[LAUGHTER] Yeah. So you have one person\nposted a hold on [INAUDIBLE]",
    "start": "1517078",
    "end": "1522440"
  },
  {
    "text": "[LAUGHTER] Yeah, that's a good\nidea too, right?",
    "start": "1522440",
    "end": "1529370"
  },
  {
    "text": "I think you could probably\ndo that one in parallel with the in-person\nalgorithm too and see which one converges first.",
    "start": "1529370",
    "end": "1534679"
  },
  {
    "text": "Sometimes it's called\nspeculative execution. You do two strategies and\nyou see which one wins. OK, which one do\nyou want to go with?",
    "start": "1534680",
    "end": "1541310"
  },
  {
    "text": "Filling up rows. Filling up rows? Yeah. Yeah. Yeah. OK. Are you ready?",
    "start": "1541310",
    "end": "1548080"
  },
  {
    "text": "1, 2, 3, go. [INTERPOSING VOICES]",
    "start": "1548080",
    "end": "1555523"
  },
  {
    "text": "[LAUGHS] Didn't expect that. [LAUGHS] I was--",
    "start": "1555523",
    "end": "1561240"
  },
  {
    "text": "[INTERPOSING VOICES] ",
    "start": "1561240",
    "end": "1574570"
  },
  {
    "text": "All right. We're at 2 minutes. 10 minutes is a\nserial algorithm. [INTERPOSING VOICES]",
    "start": "1574570",
    "end": "1581816"
  },
  {
    "start": "1581816",
    "end": "1590930"
  },
  {
    "text": "All right, all right, all\nright, all right, all right. Just do the pull on Ed.",
    "start": "1590930",
    "end": "1596220"
  },
  {
    "text": "All right, about\n2 minutes so far. I think if-- [INAUDIBLE]",
    "start": "1596220",
    "end": "1602620"
  },
  {
    "text": "[LAUGHTER] [INTERPOSING VOICES] I like that perseverance.",
    "start": "1602620",
    "end": "1608100"
  },
  {
    "text": "[INTERPOSING VOICES] ",
    "start": "1608100",
    "end": "1616475"
  },
  {
    "text": "It is 45 in this section. [LAUGHTER] All right.",
    "start": "1616475",
    "end": "1621500"
  },
  {
    "text": "All right. I think just for the sake\nof finishing the lecture-- first of all, I\nactually think this",
    "start": "1621500",
    "end": "1626840"
  },
  {
    "text": "is a very creative solution. I mean, I thought all\nof these solutions were going to work pretty well.",
    "start": "1626840",
    "end": "1632360"
  },
  {
    "text": "This has never been proposed, I\nthink, in my time in the class. And the groups of 10 also\nhad never been proposed ever",
    "start": "1632360",
    "end": "1639289"
  },
  {
    "text": "in the class. So what do you all\nthink, actually? So let's maybe do a\nlittle bit of a postmortem here on what was good and\nwhat was bad about this?",
    "start": "1639290",
    "end": "1647127"
  },
  {
    "text": "Yeah, what was good? I think there should have\nbeen one or two people that are just dedicated\nto counting everyone while they're being seated.",
    "start": "1647127",
    "end": "1652550"
  },
  {
    "text": "I do have a feeling that this\nidea of just separating somebody off to the side to be\nresponsible for counting, given this number\nof people, probably",
    "start": "1652550",
    "end": "1658802"
  },
  {
    "text": "would have been helpful. Yeah, exactly. I have also a feeling, which\nwill be somewhat embarrassing, that if your algorithm\nwas one person just count",
    "start": "1658802",
    "end": "1665572"
  },
  {
    "text": "everybody in all the rows, they\nprobably could have done it in 2 minutes. What else did you\nnotice about this?",
    "start": "1665572",
    "end": "1671760"
  },
  {
    "text": "Yeah. I think we knew a lot\nof communication saying that there are two empty here. Yeah, so you had an\nallocation problem.",
    "start": "1671760",
    "end": "1679654"
  },
  {
    "text": "You also had a big data\nmovement problem just to get everybody into\nthe appropriate seat. So I actually think in\nhindsight that groups of 10",
    "start": "1679655",
    "end": "1686690"
  },
  {
    "text": "might have actually\ngotten people to accountable set a\nlittle bit quicker, because you didn't have these\ndependencies to get everybody",
    "start": "1686690",
    "end": "1692300"
  },
  {
    "text": "in rows. So I have a feeling that if\nyou're getting hot and things like that, why don't you\nfile back to wherever you feel most comfortable.",
    "start": "1692300",
    "end": "1698130"
  },
  {
    "text": "But thank you very much. So if I assume there's\n160 of you here right now,",
    "start": "1698130",
    "end": "1703800"
  },
  {
    "text": "that was like only\n10 times more work than we originally asked\nto do, for example.",
    "start": "1703800",
    "end": "1709470"
  },
  {
    "text": "And so it shouldn't have been\nmore than about 6 or 7 minutes to add it all up sequentially.",
    "start": "1709470",
    "end": "1715532"
  },
  {
    "text": "It should have been much less\nbecause now it's just plus 1, it's not adding a harder number. But we were nowhere close to\nthat like in terms of 100x speed",
    "start": "1715532",
    "end": "1724580"
  },
  {
    "text": "up over the\nsequential algorithm. And it was largely because\nof the cost of communication,",
    "start": "1724580",
    "end": "1730970"
  },
  {
    "text": "synchronization\nmoving all of you. And so this is\nsomething I want you to keep in mind because although\nthe class is about parallelism,",
    "start": "1730970",
    "end": "1739980"
  },
  {
    "text": "I mean, the reality\nis that it's really about moving things around.",
    "start": "1739980",
    "end": "1745860"
  },
  {
    "text": "Like every system that I\nthink I've ever built-- I bet Kunle probably would\nagree is kind of the only thing",
    "start": "1745860",
    "end": "1751950"
  },
  {
    "text": "that really matters\nis communicating and moving stuff around. So let me get into just some\nsummary and some logistics real",
    "start": "1751950",
    "end": "1760240"
  },
  {
    "text": "quick. Theme number 1 of\nthis course is we're going to get you thinking like\nyou were just thinking now.",
    "start": "1760240",
    "end": "1766220"
  },
  {
    "text": "We're going to\ngive you problems. You need to compute\nthis problem, and you need to do it as\nefficiently as possible.",
    "start": "1766220",
    "end": "1771635"
  },
  {
    "text": "And so we're going\nto want you thinking about how to decompose things in\nparallel and how to synchronize.",
    "start": "1771635",
    "end": "1777160"
  },
  {
    "text": "And I like some folks interested\nin the hardware, software boundary because we're going\nto talk about programming",
    "start": "1777160",
    "end": "1782860"
  },
  {
    "text": "mechanisms that help you\norganize that thinking, that make it a little bit easier\nto solve problems like this.",
    "start": "1782860",
    "end": "1790000"
  },
  {
    "text": "Now, some of you are computer\nscientists, your day jobs or you write\nsoftware, some of you",
    "start": "1790000",
    "end": "1797410"
  },
  {
    "text": "are ECEE and design hardware. Another aspect of this course\nis about the fundamentals",
    "start": "1797410",
    "end": "1804789"
  },
  {
    "text": "of how hardware works because\nyou can't make things go fast if you don't know how things\nare running under the hood.",
    "start": "1804790",
    "end": "1812779"
  },
  {
    "text": "So the hardware is a\nlittle bit about why code has to be structured\nin certain ways in order",
    "start": "1812780",
    "end": "1819320"
  },
  {
    "text": "to run fast. So hardware designers need to\nknow about hardware because they like to build this stuff.",
    "start": "1819320",
    "end": "1825150"
  },
  {
    "text": "Software folks need to know\na little bit about hardware to go, wait a\nminute, how why am I",
    "start": "1825150",
    "end": "1830390"
  },
  {
    "text": "making my program\nstructured this way? It seems hard, or\nit seems difficult, why can't I write\nit in another way?",
    "start": "1830390",
    "end": "1837090"
  },
  {
    "text": "And more so than\nin previous years, there's going to be\na stronger component in this class of actually\ndesigning hardware itself.",
    "start": "1837090",
    "end": "1843930"
  },
  {
    "text": "So there may be an\nextra credit assignment at the end of the quarter\nwhere you can actually make a piece of\nhardware on an FPGA",
    "start": "1843930",
    "end": "1850940"
  },
  {
    "text": "or some programmable substrate. And then the last thing I\nwant to just really emphasize",
    "start": "1850940",
    "end": "1856399"
  },
  {
    "text": "is I care a lot about teaching\npeople about efficiency. In some cases, like\nin this exercise",
    "start": "1856400",
    "end": "1863330"
  },
  {
    "text": "where we added up the number\nof people in the room, if it would have been easier for\none person just to scan the rows",
    "start": "1863330",
    "end": "1868640"
  },
  {
    "text": "and add them all\nup, that's great. That's a faster, potentially\nmore efficient solution",
    "start": "1868640",
    "end": "1873860"
  },
  {
    "text": "than a solution that\nwas highly parallel but had a lot of communication. So let's not get too\nhung up on parallelism",
    "start": "1873860",
    "end": "1881710"
  },
  {
    "text": "because efficiency is\noften what matters. So here's an example. Imagine that you go off to your\nnext internship or full-time job",
    "start": "1881710",
    "end": "1888610"
  },
  {
    "text": "or whatever, and you\nwere asked to speed up",
    "start": "1888610",
    "end": "1893740"
  },
  {
    "text": "a program on a 10 core\nprocessor, something like that. And you came back a month later,\nand you were able to get 2x",
    "start": "1893740",
    "end": "1902920"
  },
  {
    "text": "speed up. You went to your boss, you\nsaid, look, it's 2 times faster. Do you get fired, or\ndo you get a raise?",
    "start": "1902920",
    "end": "1912190"
  },
  {
    "text": "So we have a very\nnegative class, some people want to fire you. What's the rationale\nfor getting fired?",
    "start": "1912190",
    "end": "1918270"
  },
  {
    "text": "I mean, you had 10 processes,\nbut all you could achieve was 2x speed up. You had 10 processors,\nyou only got 2x out of it?",
    "start": "1918270",
    "end": "1924200"
  },
  {
    "text": "Maybe you're using those\nprocessors very inefficiently. They say, you're fired. Go back to CS149.",
    "start": "1924200",
    "end": "1932410"
  },
  {
    "text": "Any reason to give\nthe person a raise?  That's it.",
    "start": "1932410",
    "end": "1937570"
  },
  {
    "text": "Yeah Yeah. I'm just saying not all penguins\nare so easily parallelize.",
    "start": "1937570",
    "end": "1943660"
  },
  {
    "text": "Like the one we just did, right? That's pretty hard\nprogram to parallelize. Is there a reason why you\nmight be satisfied with 2x?",
    "start": "1943660",
    "end": "1950830"
  },
  {
    "text": "Yeah If the performance gains by\nthat offset the additional cost of using a 10\nprocessor computer.",
    "start": "1950830",
    "end": "1957000"
  },
  {
    "text": "Yeah, like maybe\ncomputers are cheap and being able to reduce the\nresponse time of your website by a factor of 2 translates\ninto a ton of sales.",
    "start": "1957000",
    "end": "1964780"
  },
  {
    "text": "You might be really happy. Or Google search results\nhave to be returned",
    "start": "1964780",
    "end": "1969895"
  },
  {
    "text": "in a certain amount\nof time, otherwise, people lose interest\nand go somewhere else. Another example, imagine\nyou had a computer game that",
    "start": "1969895",
    "end": "1976320"
  },
  {
    "text": "ran at 15 frames\nper second in a game and you made it get to\n30 frames per second.",
    "start": "1976320",
    "end": "1982358"
  },
  {
    "text": "That might be the difference\nbetween the game shipping or not shipping. So sometimes we care\nabout raw performance,",
    "start": "1982358",
    "end": "1988600"
  },
  {
    "text": "sometimes we care\nabout efficiency. Ideally, we'd like to have both. ",
    "start": "1988600",
    "end": "1996770"
  },
  {
    "text": "And hardware designers\ncare a lot about efficiency because they're like the more\nhardware we put into the chip,",
    "start": "1996770",
    "end": "2002230"
  },
  {
    "text": "the more expensive this chip\nis going to be to manufacture. So I'd like to put in a\nminimal amount of hardware",
    "start": "2002230",
    "end": "2007740"
  },
  {
    "text": "that I can get by with and\nstill meet my performance goals. ",
    "start": "2007740",
    "end": "2014370"
  },
  {
    "text": "Middle of the lecture. Let's take a breather\nfor a second. Just go through some logistics. This be a good time to ask\nany questions about logistics.",
    "start": "2014370",
    "end": "2021000"
  },
  {
    "text": "Getting started. Is that all information on the\ncourse will be via the website. So CS 149 here's the website.",
    "start": "2021000",
    "end": "2027730"
  },
  {
    "text": "All the lectures are posted. So we try and make sure that\nyour lecture slides are posted",
    "start": "2027730",
    "end": "2033150"
  },
  {
    "text": "prior to lectures so\nyou can follow along while you're in the classroom. Notice that there's a mechanism\nto comment under the slides.",
    "start": "2033150",
    "end": "2041610"
  },
  {
    "text": "So you can add a comment. And typically, the reason why we\ndo this under the slides is you",
    "start": "2041610",
    "end": "2047340"
  },
  {
    "text": "can ask an actual question\nspecific to the slide. So like intellectual questions,\nI didn't understand this.",
    "start": "2047340",
    "end": "2053290"
  },
  {
    "text": "Can someone explain\nmulti-threading? Very much prefer them to\ncome in via the slides so that other people can see\nthem and respond as opposed",
    "start": "2053290",
    "end": "2061349"
  },
  {
    "text": "to making those on Ed. Ed is for logistics and\nstuff like that to me. And you can always go up\nhere to the Course Feed",
    "start": "2061350",
    "end": "2067169"
  },
  {
    "text": "and see all the comments\nthat people have made. OK. Back to my lectures.",
    "start": "2067170",
    "end": "2072780"
  },
  {
    "text": "So that's that. There's no textbook. The slides are\nbasically the textbook.",
    "start": "2072780",
    "end": "2078599"
  },
  {
    "text": "The internet is full\nof great resources, and so a great way to make a\nhelpful comment would be to say, hey, I actually learned\nit from this website.",
    "start": "2078600",
    "end": "2086408"
  },
  {
    "text": "The explanation in\nclass was pretty bogus. This is way better. Go read this. So you're going to be doing\nfour programming assignments.",
    "start": "2086409",
    "end": "2092919"
  },
  {
    "text": "It's the bulk of the grade. The first programming assignment\nwill come out on Thursday. It's a little shorter. The next three are\nsignificantly longer.",
    "start": "2092920",
    "end": "2100080"
  },
  {
    "text": "You will be writing a much more\nelaborate version of a thread pool where we give you\ndependencies and everything.",
    "start": "2100080",
    "end": "2106170"
  },
  {
    "text": "You're actually going to be\nwriting a render yourself that will make pretty pictures\nin CUDA as fast as you can.",
    "start": "2106170",
    "end": "2113760"
  },
  {
    "text": "Not made yet but\nintended to do so, Assignment 4 is definitely\nvery new this year",
    "start": "2113760",
    "end": "2119220"
  },
  {
    "text": "you're going to implement the\ntransformer module of a DNN. And you're going to try and\ndo it as fast as possible so",
    "start": "2119220",
    "end": "2124800"
  },
  {
    "text": "that you can have a\nchatbot, kick out m and maybe we'll have all the\nchatbots chat with each other or something like that.",
    "start": "2124800",
    "end": "2131400"
  },
  {
    "text": "So there's four assignments. Typically after\nThanksgiving, we release a fifth, which means you can\nuse the fifth because it's",
    "start": "2131400",
    "end": "2139202"
  },
  {
    "text": "awesome and fun, or\nyou can use the fifth to boost the score of one\nof those by a few points, usually, about 10 or 15 points.",
    "start": "2139202",
    "end": "2144549"
  },
  {
    "text": "Most of your grade is there. We do written assignments\nthat are graded on a",
    "start": "2144550",
    "end": "2150960"
  },
  {
    "text": "did you make a\nreasonable effort. The written assignments are all\nprevious year's exam problems. So about every two\nweeks, there'll",
    "start": "2150960",
    "end": "2157350"
  },
  {
    "text": "be a written assignment\nplus practice problems. So we distribute practice\nproblems throughout the quarter.",
    "start": "2157350",
    "end": "2162670"
  },
  {
    "text": "You can think about this as a\nparticipation grade largely.",
    "start": "2162670",
    "end": "2168150"
  },
  {
    "text": "And then the last part of\nyour participation grade is, I do not want people\nstudying for the final exam",
    "start": "2168150",
    "end": "2173880"
  },
  {
    "text": "and not thinking at all\nabout the course between now and the final or\nthe midterm exam. So just to force\nyou a little bit",
    "start": "2173880",
    "end": "2180660"
  },
  {
    "text": "to engage with the lecture in\nthe same week as the lectures, we require one reasonable\ncomment per lecture",
    "start": "2180660",
    "end": "2189750"
  },
  {
    "text": "in approximately the\nsame week as the lecture. So no hard rules\non this, but I hope that you average about\ntwo comments per lecture",
    "start": "2189750",
    "end": "2196810"
  },
  {
    "text": "throughout the quarter. And if you really like\na lecture and want to do a bunch of\ncomments on one lecture and skip the next lecture\nthat week, that's fine.",
    "start": "2196810",
    "end": "2203270"
  },
  {
    "text": "But no, it's not cool to do 35\ncomments when you're studying for the midterm and only then.",
    "start": "2203270",
    "end": "2208609"
  },
  {
    "text": "And so you can see some of\nthe interaction that happens. Like these are real comments\nfrom students before.",
    "start": "2208610",
    "end": "2216970"
  },
  {
    "text": "And so we expect you to do that. And I think good\narchitects typically,",
    "start": "2216970",
    "end": "2223660"
  },
  {
    "text": "well, write clearly, not\nelegant English language prose. But as an architect,\nyou're constantly",
    "start": "2223660",
    "end": "2229750"
  },
  {
    "text": "communicating to other people\nabout technical things. And I think this is a very\nuseful thing to be doing.",
    "start": "2229750",
    "end": "2235160"
  },
  {
    "text": "So you can take this offline,\nbut here are some examples of fodder for comments. In a big class like this,\nthe comments actually",
    "start": "2235160",
    "end": "2241779"
  },
  {
    "text": "works pretty well because\nsomebody asks a question, and then other people answer it. Don't worry, if someone has\nalready answered the question,",
    "start": "2241780",
    "end": "2248697"
  },
  {
    "text": "you could answer it again in\nyour own words or something like that. There are a bunch\nof ways to interact. A lot of people post\ncool links like,",
    "start": "2248697",
    "end": "2255050"
  },
  {
    "text": "I saw this on Stack Overflow. It's a great example of this\nconcept and stuff like that. Grading distribution is here.",
    "start": "2255050",
    "end": "2261080"
  },
  {
    "text": "So 58% programming\nassignments, that's most of it. Exams are about 30.",
    "start": "2261080",
    "end": "2266295"
  },
  {
    "text": "And then these\ntwo participations are just like, last year,\nabout 10% of the grade. ",
    "start": "2266295",
    "end": "2273250"
  },
  {
    "text": "The only last thing\nI wanted to say now is we do eight late\ndays per quarter. You can use your eight days\nfor programming assignments",
    "start": "2273250",
    "end": "2280060"
  },
  {
    "text": "or for the writtens. Most people use them for\nthe programming assignments because the returns\nare just participation.",
    "start": "2280060",
    "end": "2288140"
  },
  {
    "text": "That's pretty generous. That's eight days\nthroughout the quarter. So we expect that\nthose late days",
    "start": "2288140",
    "end": "2293470"
  },
  {
    "text": "are for most life\nsituations, minor illnesses, getting busy and other stuff,\ntaking athletic trips and things",
    "start": "2293470",
    "end": "2302260"
  },
  {
    "text": "like that. I was a college athlete\nmyself, so I understand, and I'm sympathetic. But I think that the eight late\ndays should handle most cases",
    "start": "2302260",
    "end": "2309460"
  },
  {
    "text": "without asking. If you get yourself\nin a situation where this is going\nto be trouble,",
    "start": "2309460",
    "end": "2314720"
  },
  {
    "text": "come talk to us in advance. I mean, multiple\ndays in advance. You're like, I foresee me not\nbeing able to complete my work.",
    "start": "2314720",
    "end": "2322070"
  },
  {
    "text": "We'll handle on a\ncase-by-case basis. But I bet 95% of\nthe time, I'm going to say just use your late days. That's what they're there for.",
    "start": "2322070",
    "end": "2327850"
  },
  {
    "text": "No problem if you turn in your\nassignment three or four days. I think we have a rule that\nwritten assignments can only",
    "start": "2327850",
    "end": "2335613"
  },
  {
    "text": "be one day late because I\nwant to release solutions, and they're for credit only. Programming\nassignments, I think, can be up to four days late.",
    "start": "2335613",
    "end": "2341680"
  },
  {
    "text": "I can't recall what\nit was on the website. It's three or four. OK. All right. Any questions about logistics?",
    "start": "2341680",
    "end": "2347990"
  },
  {
    "text": "That's all I was going to do. Yeah. not a question but\nkind of a feedback.",
    "start": "2347990",
    "end": "2354640"
  },
  {
    "text": "In both the programming\nand written assignments, could you indicate\nwhich question or which component could be\ncompleted after which lecture?",
    "start": "2354640",
    "end": "2360980"
  },
  {
    "text": " Sure.",
    "start": "2360980",
    "end": "2366110"
  },
  {
    "text": "Yeah, I can even\ndo that in lecture. I mean, it's not super\nmodular like that,",
    "start": "2366110",
    "end": "2373590"
  },
  {
    "text": "actually, so it might\nbe a little hard. But in general, the\nprogramming assignments, with exception of assignment\n1, all the content, I believe,",
    "start": "2373590",
    "end": "2382640"
  },
  {
    "text": "is released prior to the-- at least all the lecture\ncontent exists prior to the assignment coming out.",
    "start": "2382640",
    "end": "2388520"
  },
  {
    "text": "In assignment 1, you'll\nhave conceptually everything",
    "start": "2388520",
    "end": "2394010"
  },
  {
    "text": "you need on Thursday. And logistically with a little\nbit of programming example comes next Tuesday.",
    "start": "2394010",
    "end": "2400020"
  },
  {
    "text": "But Yeah. Yes. Will the final\nexam be in-person. Final exams in-person\nat the university slot.",
    "start": "2400020",
    "end": "2406800"
  },
  {
    "text": "That is the one thing that we\nare a little bit strict on. It is hard to run\nasynchronous assignment.",
    "start": "2406800",
    "end": "2413220"
  },
  {
    "text": "So if you're an\nin-person student and don't have an extremely,\nextremely strong reason,",
    "start": "2413220",
    "end": "2419430"
  },
  {
    "text": "we expect butts in chairs\nduring the exam slot. So, you know, I\naccidentally bought a ticket",
    "start": "2419430",
    "end": "2425220"
  },
  {
    "text": "to go home early,\ndon't accidentally buy a ticket to go home early. [LAUGHS]",
    "start": "2425220",
    "end": "2430440"
  },
  {
    "text": "We've actually\naccommodated in the past, and it just makes for a\nmess in the TA grading. And then you never\nknow if the solutions",
    "start": "2430440",
    "end": "2435869"
  },
  {
    "text": "get out and stuff like that. OK. Yes, ma'am.",
    "start": "2435870",
    "end": "2441000"
  },
  {
    "text": "Can a [INAUDIBLE] get\nan account [INAUDIBLE]? Yeah, sure I just wanted to\ndouble check a few things before I had everybody sign up.",
    "start": "2441000",
    "end": "2446440"
  },
  {
    "text": "Yes. Yeah. OK. All right.",
    "start": "2446440",
    "end": "2451520"
  },
  {
    "text": "So keep going. All right. So the last 20 minutes\nhere, 25 minutes,",
    "start": "2451520",
    "end": "2457339"
  },
  {
    "text": "maybe let's go into a little\nbit more technical material that is perfectly fine if it's\nnew to you, but some of it",
    "start": "2457340",
    "end": "2464410"
  },
  {
    "text": "may be stuff that you have seen. So I like to set the stage for\ntomorrow or Thursday's lecture.",
    "start": "2464410",
    "end": "2471590"
  },
  {
    "text": "So sometimes it's kind of\nuseful to think historically about things. And when I was approximately\nsitting in classes like this,",
    "start": "2471590",
    "end": "2480217"
  },
  {
    "text": "and I was really interested\nin parallel computing, I actually had\nprofessors tell me, why are you interested\nin parallel computing.",
    "start": "2480217",
    "end": "2486560"
  },
  {
    "text": "Just wait a year for\nprocessors to get faster. And so this is a very\nold plot that Kunle",
    "start": "2486560",
    "end": "2494770"
  },
  {
    "text": "made, more than--\nalmost 20 years ago now, of\nprocessor performance",
    "start": "2494770",
    "end": "2501550"
  },
  {
    "text": "as a function of time. And it's a log plot, so\nyou see the exponential.",
    "start": "2501550",
    "end": "2507070"
  },
  {
    "text": "And so you just waited, and\nIntel would ship their next CPU, and next year, it would\nrun your program faster.",
    "start": "2507070",
    "end": "2515430"
  },
  {
    "text": "So you spend all this\ntime taking CS149, you've got some\nskills, and then, all of a sudden,\nyour parallel program",
    "start": "2515430",
    "end": "2521660"
  },
  {
    "text": "had to now be even\nfaster to improve over the sequential program.",
    "start": "2521660",
    "end": "2527190"
  },
  {
    "text": "And do you know why\nthat was the case? If we have some of the hardware\narchitects in the room.",
    "start": "2527190",
    "end": "2535030"
  },
  {
    "text": "Yes. Transistor size is\ngetting smaller. Transistor sizes\nwere getting smaller, but that's not a direct\ntranslation to performance.",
    "start": "2535030",
    "end": "2543020"
  },
  {
    "text": "So you're correct. But you took a couple of steps. ",
    "start": "2543020",
    "end": "2550350"
  },
  {
    "text": "So transistor size\nis getting smaller allowed for a couple of things.",
    "start": "2550350",
    "end": "2556059"
  },
  {
    "text": "It allowed for them\nto be clocked higher, so frequency could go up.",
    "start": "2556060",
    "end": "2561069"
  },
  {
    "text": "It also meant that\nmore transistors could go on the chip,\nand architects had to have clever ways to use\nthose transistors to translate",
    "start": "2561070",
    "end": "2568230"
  },
  {
    "text": "into performance. And, in this class, I'm\noversimplifying a little bit, but you can think\nabout two major reasons",
    "start": "2568230",
    "end": "2575790"
  },
  {
    "text": "as parallelizing your code for\nyou without you ever knowing it.",
    "start": "2575790",
    "end": "2581040"
  },
  {
    "text": "And two, increasing\nCPU clock frequency. So this is where I get\nto a few questions that",
    "start": "2581040",
    "end": "2588690"
  },
  {
    "text": "may seem really dumb. But one of the reasons why I\nlike people writing comments",
    "start": "2588690",
    "end": "2594807"
  },
  {
    "text": "is sometimes when you sit\ndown to write something, you realize that\nyour thinking is not as precise as it may seem.",
    "start": "2594807",
    "end": "2600720"
  },
  {
    "text": "So you look to\nyour left or right, and I want you to spend\n30 seconds answering this question,\nwhat is a computer",
    "start": "2600720",
    "end": "2606420"
  },
  {
    "text": "program from the\nperspective of a computer?",
    "start": "2606420",
    "end": "2615180"
  },
  {
    "text": "Here's definitely a program\nwritten in C. No problem. This is a computer program.",
    "start": "2615180",
    "end": "2621420"
  },
  {
    "text": "But from the perspective of a\ncomputer, What is the program?",
    "start": "2621420",
    "end": "2627309"
  },
  {
    "text": "And just go ahead\nand give that a shot. Spend 45 seconds. What is a program? Can you define it yourself?",
    "start": "2627310",
    "end": "2632765"
  },
  {
    "text": "[INTERPOSING VOICES]  All right.",
    "start": "2632765",
    "end": "2637890"
  },
  {
    "text": "So someone who hasn't\nsaid anything yet, if a talk show host\nfound you on the street",
    "start": "2637890",
    "end": "2645605"
  },
  {
    "text": "while you're walking around\nSan Francisco, and they said, what is a computer program? You're on camera. What might you say? ",
    "start": "2645605",
    "end": "2653820"
  },
  {
    "text": "I want to see some New hands. What is a computer program?",
    "start": "2653820",
    "end": "2659767"
  },
  {
    "text": "A piece of text that\ncan be translated to hardware instructions. A piece of text?",
    "start": "2659767",
    "end": "2665672"
  },
  {
    "text": "That's a piece of text. That can be translate to\nhardware instructions. That can be translated\ninto hardware instructions.",
    "start": "2665672",
    "end": "2671559"
  },
  {
    "text": "And I think that the text aspect\ndoesn't really matter too much. What's important is the back\nhalf of your comment is,",
    "start": "2671560",
    "end": "2678240"
  },
  {
    "text": "a program is just a\nlist of instructions. So if I take this program,\nit certainly has a meaning,",
    "start": "2678240",
    "end": "2685570"
  },
  {
    "text": "it has some semantics. And a compiler might get to it. And at the end of the\nday, whether or not",
    "start": "2685570",
    "end": "2690750"
  },
  {
    "text": "it's a compiler or\ninterpreter doesn't matter, but, at the end of the\nday, a computing machine runs a list of instructions.",
    "start": "2690750",
    "end": "2697330"
  },
  {
    "text": "So here are some examples\nof X86 instructions that you might have seen. So in CS111.",
    "start": "2697330",
    "end": "2703230"
  },
  {
    "text": "Now, folks so 7, you've\nlooked at a bit of assembly. This is X86.",
    "start": "2703230",
    "end": "2709779"
  },
  {
    "text": "If you have an Apple\nlaptop these days, it will be ARM assembly. But, at the end of the\nday, all a computer",
    "start": "2709780",
    "end": "2715860"
  },
  {
    "text": "does is it gets a\nlist of commands, and it executes those commands.",
    "start": "2715860",
    "end": "2722050"
  },
  {
    "text": "So it's like me making\ncarne asada, which I have to make tomorrow night,\nbecause I'm up for dinner.",
    "start": "2722050",
    "end": "2727180"
  },
  {
    "text": "I get a list of instructions. I have a set of commands. And what do those commands do?",
    "start": "2727180",
    "end": "2735485"
  },
  {
    "text": "Or maybe another way to\nask this question is, what does a processor do? So I'll throw it back at you.",
    "start": "2735485",
    "end": "2740570"
  },
  {
    "text": "Talk it over for a second. If I asked you and I said,\nwhat does a processor do? If a program is a\nlist of instructions,",
    "start": "2740570",
    "end": "2748360"
  },
  {
    "text": "what does a processor do? I'll let you talk it\nover for a second.",
    "start": "2748360",
    "end": "2753420"
  },
  {
    "text": "[INTERPOSING VOICES] And for those of\nyou that just said",
    "start": "2753420",
    "end": "2759710"
  },
  {
    "text": "executes the instructions,\nwhich is a perfect first answer, my follow-up is,\nwhat does it mean",
    "start": "2759710",
    "end": "2764930"
  },
  {
    "text": "to execute those instructions? What does executing\nan instruction do? [INTERPOSING VOICES]",
    "start": "2764930",
    "end": "2771918"
  },
  {
    "text": " OK, let's talk about this. So I heard a lot of\npeople immediately say a processor\nexecutes instructions,",
    "start": "2771918",
    "end": "2778280"
  },
  {
    "text": "which is exactly where I\nwanted you to think about it. And now let's dive\na little bit deeper. What does it mean to\nexecute an instruction?",
    "start": "2778280",
    "end": "2784970"
  },
  {
    "text": "What does executing\nan instruction do? ",
    "start": "2784970",
    "end": "2792260"
  },
  {
    "text": "Either performing a\ncomputation [INAUDIBLE]. OK, so it performs\nsome math like what",
    "start": "2792260",
    "end": "2797620"
  },
  {
    "text": "you did when you came up here. OK. Jump somewhere else\nin the program set. Or it jumps somewhere else, OK.",
    "start": "2797620",
    "end": "2805100"
  },
  {
    "text": "Anybody want to add? I think I can't disagree\nwith any of those. Those are two examples\nof instructions. Changes the register\nprogram state.",
    "start": "2805100",
    "end": "2811730"
  },
  {
    "text": "Changes the registers value. What are other things\ninstructions might do? Access memory.",
    "start": "2811730",
    "end": "2817069"
  },
  {
    "text": "Might read or write to memory. So at the end of\nthe day, we can boil all of this down to instructions\nperform some operation",
    "start": "2817070",
    "end": "2826369"
  },
  {
    "text": "like arithmetic or math, and\nthe result of those operations is a change in state.",
    "start": "2826370",
    "end": "2832790"
  },
  {
    "text": "And what I mean\nby state is either values in memory or values\nin processor registers.",
    "start": "2832790",
    "end": "2838890"
  },
  {
    "text": "So if I go back, let's look at\nthis instruction sequence here.",
    "start": "2838890",
    "end": "2845160"
  },
  {
    "text": "Oops, there it was. You see some instructions,\nwhich are referencing registers.",
    "start": "2845160",
    "end": "2854700"
  },
  {
    "text": "And moving a value from\none register to another is changing the value\nof the target register.",
    "start": "2854700",
    "end": "2860250"
  },
  {
    "text": "There's other\ninstructions in there. When you see the\nparentheses, those are accessing memory at certain\naddresses and stuff like that.",
    "start": "2860250",
    "end": "2868470"
  },
  {
    "text": "So what I want you\nto think about this is a diagram I'm\ngoing to use heavily throughout the rest of this\nlecture in the next lecture.",
    "start": "2868470",
    "end": "2874553"
  },
  {
    "text": "And this is a really\ncartoon diagram of how to think\nabout a processor. But for most software people,\nthis is pretty sufficient.",
    "start": "2874553",
    "end": "2880780"
  },
  {
    "text": "I like to think about\nthree pieces of blocks in any modern\nprocessor, one of them,",
    "start": "2880780",
    "end": "2886390"
  },
  {
    "text": "which I'm always going to color\norange throughout this class, is about control. Figuring out--\nlike, it's managing",
    "start": "2886390",
    "end": "2892650"
  },
  {
    "text": "where we are in the\ninstruction stream, and figuring out once I get the\nnext instruction, what do I do?",
    "start": "2892650",
    "end": "2898380"
  },
  {
    "text": "Then I have this\nyellow box which is responsible for\nthe arithmetic, maybe adding some numbers,\nor carrying out a move,",
    "start": "2898380",
    "end": "2905160"
  },
  {
    "text": "or multiplying some numbers. And I'm always going\nto call that yellow. And then I have stuff\nthat's blue that's state.",
    "start": "2905160",
    "end": "2911810"
  },
  {
    "text": "And I'm calling this\nthe execution context. It's the context in which\nwe run a program, which",
    "start": "2911810",
    "end": "2917510"
  },
  {
    "text": "is just a big set of values\nof bindings from register 1 has this value, register\n2 has this value,",
    "start": "2917510",
    "end": "2923810"
  },
  {
    "text": "as well as memory has\nall of these values. And the simplest possible way\nto think about a processor",
    "start": "2923810",
    "end": "2929630"
  },
  {
    "text": "is it determines, given where we\nare in the program, where we are in the recipe, what to do next. It grabs the appropriate\nvalues from registers.",
    "start": "2929630",
    "end": "2937140"
  },
  {
    "text": "It performs some math. And then it updates the value. For example, if I have\na simple instruction",
    "start": "2937140",
    "end": "2942230"
  },
  {
    "text": "like add the contents of R0 and\nR1 and put the result in R0,",
    "start": "2942230",
    "end": "2948510"
  },
  {
    "text": "well, that processor will\nreference two, R0 and R1-- see how it's in red here. It will do the math.",
    "start": "2948510",
    "end": "2954300"
  },
  {
    "text": "It will compute what? Percentage. Yes. And what is that? Compute 96 and then it\nwill update the value of--",
    "start": "2954300",
    "end": "2963530"
  },
  {
    "text": "so it gets the contents\nof those registers. It updates the\nvalue, and then it modifies the state\nof the program to 96.",
    "start": "2963530",
    "end": "2971819"
  },
  {
    "text": "Very, very simple instruction. And so for now, I want you\nto think about this processor",
    "start": "2971820",
    "end": "2977580"
  },
  {
    "text": "as every single clock tick. It's just grabbing\nthe next instruction, executing it, and\nupdating registers.",
    "start": "2977580",
    "end": "2984790"
  },
  {
    "text": "That's all it's doing. So my review here\nis hopefully this is a review from 107 or 111,\nis what is a computer program?",
    "start": "2984790",
    "end": "2993855"
  },
  {
    "text": "It's just a list\nof instructions. What are instructions? They are commands. They are operations\nto the processor. And those operations are\nabout performing arithmetic",
    "start": "2993855",
    "end": "3002450"
  },
  {
    "text": "or modifying state. And when we talk\nabout state, I'm talking about the values of\ndata in registers or in memory.",
    "start": "3002450",
    "end": "3011420"
  },
  {
    "text": "OK, there's a question. You answered it. OK, cool. All right. So this program has\nfive instructions in it.",
    "start": "3011420",
    "end": "3019350"
  },
  {
    "text": "So it will take five steps, five\nprocessor clocks to execute it.",
    "start": "3019350",
    "end": "3024410"
  },
  {
    "text": "Makes sense? Is there any way\nwe can do better? ",
    "start": "3024410",
    "end": "3033910"
  },
  {
    "text": "What if I had two processors? OK, this is your program.",
    "start": "3033910",
    "end": "3039380"
  },
  {
    "text": "Let's say I'm a computer, and\nyou hand me this program to run. What does this program mean?",
    "start": "3039380",
    "end": "3045760"
  },
  {
    "text": "This program says you\nmust do instruction 1, then you must do\ninstruction 2, 3, 4, 5.",
    "start": "3045760",
    "end": "3054020"
  },
  {
    "text": "That's the order. If I do if I try to\nmake my carne asada and I do things out\nof order, I will",
    "start": "3054020",
    "end": "3060220"
  },
  {
    "text": "be unhappy with the results. So the meaning of\nthis program is",
    "start": "3060220",
    "end": "3066040"
  },
  {
    "text": "that the results have\nto be such that we did these things in this order. But what if we had\ntwo processors?",
    "start": "3066040",
    "end": "3073105"
  },
  {
    "text": "Yeah. Do all the multiply\nsteps in parallel and all the add\nsteps in parallel.",
    "start": "3073105",
    "end": "3079435"
  },
  {
    "text": "Or maybe not the [INAUDIBLE] So you're looking\nat this, and you're realizing that this\nmultiplication only",
    "start": "3079435",
    "end": "3085960"
  },
  {
    "text": "depends on register 0. This one only depends\non this value, R1. So maybe if I want to do\nassign sign work to processors,",
    "start": "3085960",
    "end": "3093548"
  },
  {
    "text": "I could do something like this.  Now what can I do next?",
    "start": "3093548",
    "end": "3099155"
  },
  {
    "text": " Three can go where?",
    "start": "3099155",
    "end": "3104720"
  },
  {
    "text": "Either side it. Actually can go anywhere. I'll even put it here because\nI like processing 2 better.",
    "start": "3104720",
    "end": "3110070"
  },
  {
    "text": "And then what? Add it. Did I do better?",
    "start": "3110070",
    "end": "3115690"
  },
  {
    "text": "It can go 1. Right, because this only depends\non 1 and 2, so we can do-- And then 5 has to\ncome after 4 and 3.",
    "start": "3115690",
    "end": "3125710"
  },
  {
    "text": "So it's possible\nfor me to do better,",
    "start": "3125710",
    "end": "3131609"
  },
  {
    "text": "even if I have a program that\nlooks sequential, because it's written on a line, if\nyou look carefully at it,",
    "start": "3131610",
    "end": "3136820"
  },
  {
    "text": "there's some parallelism there. So the first major-- and, by the way,\nyou notice what I'm",
    "start": "3136820",
    "end": "3143410"
  },
  {
    "text": "saying is the program\nsays, here's the program, you better compute results that\nare the same as if you ran them",
    "start": "3143410",
    "end": "3150700"
  },
  {
    "text": "in the order that I told you. But if you run them\nin a different order and I can't tell the\ndifference, then it's OK.",
    "start": "3150700",
    "end": "3159430"
  },
  {
    "text": "And that's a really\nbig difference. This program that I have right\nhere is a sequential program.",
    "start": "3159430",
    "end": "3166934"
  },
  {
    "text": "I have written\nthis program which says the output that I want is\nas if you did this and then this and then this and then this.",
    "start": "3166935",
    "end": "3172820"
  },
  {
    "text": "I didn't think about parallelism\nat all when I wrote my program. But I wrote a program where\nsomeone can muck with the order,",
    "start": "3172820",
    "end": "3180690"
  },
  {
    "text": "in particular make it parallel,\nand I'd get the same result. I would never, but my\nprogram would be faster.",
    "start": "3180690",
    "end": "3188690"
  },
  {
    "text": "So like, for example, what\nif we had three processors, could we do better?",
    "start": "3188690",
    "end": "3194680"
  },
  {
    "text": "Well, before what did I do? I did it in three cycles. If we have three processors,\nhow long will it take?",
    "start": "3194680",
    "end": "3202468"
  },
  {
    "text": "Three [INAUDIBLE] Are you sure? 3 [INAUDIBLE] Why 3?",
    "start": "3202468",
    "end": "3207579"
  },
  {
    "text": "Well, I can definitely\nparallelize the first three operations all I want, but I\nhave a chain of dependencies",
    "start": "3207580",
    "end": "3213520"
  },
  {
    "text": "that keeps things three cycles. Yes, sir. So doesn't each processor have\nits own like, in this example--",
    "start": "3213520",
    "end": "3219200"
  },
  {
    "text": "I'm speaking very\nabstractly right now. Just imagine that\nwe have the ability to execute three things at\nonce, and I'll come back",
    "start": "3219200",
    "end": "3225670"
  },
  {
    "text": "to that in one second. Good question. So conceptually, when\nI look at my program--",
    "start": "3225670",
    "end": "3230830"
  },
  {
    "text": "and the instruction sequence\nthat I gave you, actually, I'm just rewriting it now as\nsomething that may be a lot more",
    "start": "3230830",
    "end": "3236110"
  },
  {
    "text": "familiar like a dot\nproduct between two or three vectors, key\nmachine learning operation-- these are the true dependencies.",
    "start": "3236110",
    "end": "3242869"
  },
  {
    "text": "And this program has different\namounts of parallelism at different points. So this gets to key idea\nnumber one today-- well,",
    "start": "3242870",
    "end": "3250957"
  },
  {
    "text": "we've had a few key ideas today. But it gets to the reason\nwhy more transistors did translate into\nmore performance, which",
    "start": "3250957",
    "end": "3258290"
  },
  {
    "text": "is processor architects\nwere designing hardware that",
    "start": "3258290",
    "end": "3263660"
  },
  {
    "text": "were looking at the programs\nthat you gave it and said, they didn't do any parallelism,\nbut, hey, look what I found.",
    "start": "3263660",
    "end": "3269360"
  },
  {
    "text": "I happen to have multiple\ninstruction units that I can do multiple things at once.",
    "start": "3269360",
    "end": "3276110"
  },
  {
    "text": "I will go find it, and I\nwill reorder the program to be parallel for\nyou without looking,",
    "start": "3276110",
    "end": "3283130"
  },
  {
    "text": "without you ever knowing. And so to your question\nabout registers and stuff, really, what I mean\nhere is we've replicated--",
    "start": "3283130",
    "end": "3290340"
  },
  {
    "text": "we still have one\ncore, but we have two execution units\nand ability to execute",
    "start": "3290340",
    "end": "3295490"
  },
  {
    "text": "two instructions per clock now. And I added this out of\norder control logic box, just to say that now there's\nsome smarts in the processor",
    "start": "3295490",
    "end": "3302800"
  },
  {
    "text": "to figure out what's going on. And if we look\nback like 20 years, you look like for\na simple Pentium 4",
    "start": "3302800",
    "end": "3308589"
  },
  {
    "text": "processor-- this is a diagram\nfrom a long, long time ago-- and I draw my\ncolor scheme on it, it's not all that different\nfrom my little cartoon.",
    "start": "3308590",
    "end": "3316089"
  },
  {
    "text": "They have the\nability to execute up to four different instructions\nat the same time or three",
    "start": "3316090",
    "end": "3324609"
  },
  {
    "text": "instructions at the same\ntime with a variety of units. And real programs are\na lot more complex.",
    "start": "3324610",
    "end": "3329960"
  },
  {
    "text": "Here's a longer\ninstruction sequence. A good thing to\ndo on your own is to verify that this is\nthe dependency graph",
    "start": "3329960",
    "end": "3335799"
  },
  {
    "text": "for that instruction stream. And that dependency graph\nis limiting the total amount of parallelism\nthat you could ever",
    "start": "3335800",
    "end": "3341650"
  },
  {
    "text": "find with this technique of\nautomatically parallelizing",
    "start": "3341650",
    "end": "3347140"
  },
  {
    "text": "within a single processor\nwithout you ever knowing it. Yes. [INAUDIBLE] teach it to\nunderstand better how that",
    "start": "3347140",
    "end": "3354430"
  },
  {
    "text": "actually happens in processors. Well, superscalar\nexecution is the first one. And then you need a good\nreordering algorithm.",
    "start": "3354430",
    "end": "3361110"
  },
  {
    "text": "You could start with Tomasulo's\nor something like that. I don't know if these\ndays if that's the best. I mean, basically out-of-order\nexecution is the key.",
    "start": "3361110",
    "end": "3368140"
  },
  {
    "text": "Go to Hennessy and Patterson\nread the out-of-order execution channel, and then you're\nwell prepared for EE280.",
    "start": "3368140",
    "end": "3375200"
  },
  {
    "text": "But there's a problem. Remember when I said,\nif we had the ability to do three things at once, we\nended up in the same performance",
    "start": "3375200",
    "end": "3381650"
  },
  {
    "text": "as two things at once? That's because if I write just\nlike a sequence of instructions, they're kind of usually is\nfundamentally an order to it.",
    "start": "3381650",
    "end": "3391760"
  },
  {
    "text": "And so folks studied-- here at Stanford,\nactually in the early days of parallel computing,\nthey did a lot",
    "start": "3391760",
    "end": "3397880"
  },
  {
    "text": "of studies of how much\nparallelism could we automatically extract if\nwe asked the programmer",
    "start": "3397880",
    "end": "3404450"
  },
  {
    "text": "to do nothing and we\nfound what parallelism exists in their program. And they found that\nthe x-axis here",
    "start": "3404450",
    "end": "3410450"
  },
  {
    "text": "is the number of operations\nthis processor could do at the same time, and\nthe y-axis is the speedup.",
    "start": "3410450",
    "end": "3415880"
  },
  {
    "text": "And they found that once\nyou build about three or four operations at the\nsame time into your processor,",
    "start": "3415880",
    "end": "3422850"
  },
  {
    "text": "if you start building more, you\ncan't use them because programs don't have that parallelism. So, all of a sudden, they\ncouldn't play this trick for you",
    "start": "3422850",
    "end": "3433460"
  },
  {
    "text": "anymore to speed things up. ",
    "start": "3433460",
    "end": "3440520"
  },
  {
    "text": "So here's a graph that you\nprobably would have seen. Again, it's x-axis is a fancier\nversion of Kunle's old graph.",
    "start": "3440520",
    "end": "3447350"
  },
  {
    "text": " x-axis is time, and the y-axis\nis actually transistors.",
    "start": "3447350",
    "end": "3455400"
  },
  {
    "text": "Not performance, it's\ntransistors per chip.",
    "start": "3455400",
    "end": "3460589"
  },
  {
    "text": "And in general,\nnow we're starting to fall off of it for the\nlast five years or so,",
    "start": "3460590",
    "end": "3466200"
  },
  {
    "text": "but, in general, we've\nbeen able to shrink transistors for pretty reliably\nfor up until very recent times.",
    "start": "3466200",
    "end": "3471850"
  },
  {
    "text": "Like, more and more transistors. In a modern NVIDIA chip has\nsomething like, I think, 100 billion transistors on it.",
    "start": "3471850",
    "end": "3478310"
  },
  {
    "text": "I think it's like 85\nbillion was the last one. We can't turn those transistors\ninto more execution units,",
    "start": "3478310",
    "end": "3485300"
  },
  {
    "text": "because we can only do\nabout three of those things. So that's this green line.",
    "start": "3485300",
    "end": "3491039"
  },
  {
    "text": "This green line is\ntransistors per chip. The purple line here is\noperations per clock.",
    "start": "3491040",
    "end": "3499559"
  },
  {
    "text": "And they stopped adding\noperations per clock because it didn't help anymore. Now, the dark blue line--",
    "start": "3499560",
    "end": "3507900"
  },
  {
    "text": "correlate both blue\nlines are actually they were increasing clock\nspeed, like, 500 megahertz,",
    "start": "3507900",
    "end": "3513220"
  },
  {
    "text": "750 megahertz, gigahertz,\n2 gigahertz, 4 gigahertz. And that's what really stopped\nmoving about 15 years ago.",
    "start": "3513220",
    "end": "3521369"
  },
  {
    "text": "And for the architects\nin the room, do you have an idea why\nclock frequency stopped?",
    "start": "3521370",
    "end": "3527640"
  },
  {
    "text": "Yeah. The amount of power [INAUDIBLE] Because of power. So we couldn't turn\nmore transistors",
    "start": "3527640",
    "end": "3533100"
  },
  {
    "text": "into free parallelism. And we couldn't make\nyour instruction stream go faster because\nwe couldn't increase",
    "start": "3533100",
    "end": "3539790"
  },
  {
    "text": "the frequency of the machine. And that's completely\npower driven. These processors that you\nsee today are non-trivial.",
    "start": "3539790",
    "end": "3548820"
  },
  {
    "text": "If you take an RTX\n4090 GPU and you take the microwave\nin my kitchen,",
    "start": "3548820",
    "end": "3557849"
  },
  {
    "text": "you are within a\nfactor of 2 of running that thing in a machine\nlearning workload",
    "start": "3557850",
    "end": "3563240"
  },
  {
    "text": "at full tilt versus microwaving\nyour yesterday's hamburger. You are in the same ballpark\nof energy being spent.",
    "start": "3563240",
    "end": "3570349"
  },
  {
    "text": "And that energy\ntranslates into heat. Heat translates into the\nneed to cool that thing.",
    "start": "3570350",
    "end": "3578460"
  },
  {
    "text": "And so you just cannot\ncontinue to increase frequency. And we'll talk a little\nbit more about that.",
    "start": "3578460",
    "end": "3584250"
  },
  {
    "text": "But a nice rule of\nthumb is that power is going to go as the\nsquare of frequency. So x-axis here is clock speed.",
    "start": "3584250",
    "end": "3590990"
  },
  {
    "text": "y-axis is power consumption. So it's a very\ninefficient way to go",
    "start": "3590990",
    "end": "3596030"
  },
  {
    "text": "faster is to try and\nincrease that clock. So this is where we\nwere not so long ago.",
    "start": "3596030",
    "end": "3602870"
  },
  {
    "text": "When I was in grad school,\nall of a sudden, the only way to use all these\ntransistors would be I",
    "start": "3602870",
    "end": "3610430"
  },
  {
    "text": "as the programmer have to\ntell the processor, here are two things we\ncan do at once. Now, luckily in machine\nlearning, and computer graphics",
    "start": "3610430",
    "end": "3618089"
  },
  {
    "text": "and image processing\nand photography, that's going to be pretty easy. And so that's when people\nstarted building processors",
    "start": "3618090",
    "end": "3624990"
  },
  {
    "text": "with chips with a bunch\nof processors in it, where they took that one single\ninstruction stream and allowed",
    "start": "3624990",
    "end": "3632339"
  },
  {
    "text": "for more and more things\nto go in parallel. So one of the things you could\ndo in this class starting on Thursday is the first thing\nis you're going to go, wow,",
    "start": "3632340",
    "end": "3639309"
  },
  {
    "text": "if I actually just write code\nproperly on a machine that you're used like a laptop or\nthe quad core myth machines,",
    "start": "3639310",
    "end": "3647140"
  },
  {
    "text": "the difference between C++ code,\ncompiled C++ I'm not talking",
    "start": "3647140",
    "end": "3652410"
  },
  {
    "text": "about Python or Lou\nor anything like that. Compiled C++ and well-written,\nproperly parallelized C++ is",
    "start": "3652410",
    "end": "3660000"
  },
  {
    "text": "about 30x to 40x on your\nlaptop even with four cores. So we'll talk about why\nthat's the case next time.",
    "start": "3660000",
    "end": "3667500"
  },
  {
    "text": "And you're seeing some\nbig chips out there. You can go buy an AMD chip\nthese days with 64 cores in it.",
    "start": "3667500",
    "end": "3675210"
  },
  {
    "text": "We'll talk in the class about\nhow NVIDIA processors are more of the same thing,\njust a little bit",
    "start": "3675210",
    "end": "3680519"
  },
  {
    "text": "different point in\nthe design space. There's 18,000 floating\npoint multipliers on a 4090.",
    "start": "3680520",
    "end": "3686460"
  },
  {
    "text": "So that's a lot of parallelism\nyou have to have in order to use this thing. If you look at how many cores\nare there in the world's largest",
    "start": "3686460",
    "end": "3695700"
  },
  {
    "text": "supercomputers today,\nthese are megawatts. These are basically power\ndraws of small towns. And we're in the orders\nof hundreds of thousands",
    "start": "3695700",
    "end": "3702360"
  },
  {
    "text": "of CPU cores. This is not just\na big iron thing. Go crack open your iPhone, or go\ncrack open your favorite Android",
    "start": "3702360",
    "end": "3710730"
  },
  {
    "text": "phone, you'll find multi-core\nprocessing both CPU and GPU. If you're working\nembedded, you'll",
    "start": "3710730",
    "end": "3716280"
  },
  {
    "text": "find multi-core processing.  So last thing in the\nlast few minutes.",
    "start": "3716280",
    "end": "3724349"
  },
  {
    "text": "So far we've been talking about\nparallelism and communication and stuff like that.",
    "start": "3724350",
    "end": "3729420"
  },
  {
    "text": "In this class, it's not\nenough to be parallel, you got to be efficient.",
    "start": "3729420",
    "end": "3736655"
  },
  {
    "text": "And one thing we're going to\ntalk about in multiple lectures this year is how the architects\nof the world are saying if we",
    "start": "3736655",
    "end": "3744480"
  },
  {
    "text": "have to be more efficient,\nwe cannot provide you general purpose cores. We're going to have to provide\nyou much more specialized",
    "start": "3744480",
    "end": "3751200"
  },
  {
    "text": "cores that do specific tasks. So here again,\nthis is the iPhone. And now I'm highlighting\nsome of the stuff down here.",
    "start": "3751200",
    "end": "3758520"
  },
  {
    "text": "On this processor, there\nare six CPUs, two of which are big CPU cores\nthat are supposedly",
    "start": "3758520",
    "end": "3766440"
  },
  {
    "text": "good at running single-threads. There are four\nsmall CPU cores that are lower power and good\nfor background stuff.",
    "start": "3766440",
    "end": "3773349"
  },
  {
    "text": "And then there's a\nwhole bunch of stuff on there for camera,\nneural networks, sensing,",
    "start": "3773350",
    "end": "3779220"
  },
  {
    "text": "heart monitor, all\nof this other stuff that's never even\nrun on the CPU. It's run on\nspecialized processing.",
    "start": "3779220",
    "end": "3786480"
  },
  {
    "text": "That's true in the small. It's also true in\nthe large with Google building TPUs, and Facebook\nannouncing that they're",
    "start": "3786480",
    "end": "3793290"
  },
  {
    "text": "building their own\nneural architectures, as well as in the\nValley these days, the large number\nof companies that",
    "start": "3793290",
    "end": "3798970"
  },
  {
    "text": "are building special purpose\nprocessing infrastructure just for machine learning. So we'll have lectures about all\nof this throughout the course.",
    "start": "3798970",
    "end": "3806445"
  },
  {
    "text": " So I'll close up on\nthe thing that I think is perhaps the most important.",
    "start": "3806445",
    "end": "3814690"
  },
  {
    "text": "As you saw when you're\nwalking around the classroom, moving data to\nthe right place is",
    "start": "3814690",
    "end": "3820750"
  },
  {
    "text": "going to be the most\nimportant thing we talk about in the class. When you think\nabout parallelism, you're going to be\nthinking about what are we",
    "start": "3820750",
    "end": "3827045"
  },
  {
    "text": "doing at the same time, and\nhow do I get the data there. And here are some examples. So this is where\nI need to bring up",
    "start": "3827045",
    "end": "3832960"
  },
  {
    "text": "memory, a term that I've\nused without defining so far in this lecture. So I've asked you\nwhat is a program.",
    "start": "3832960",
    "end": "3841660"
  },
  {
    "text": "I've asked you what\nis an instruction and what is a processor do. And at some point, we've said\nthings like a processor issues",
    "start": "3841660",
    "end": "3849290"
  },
  {
    "text": "instructions that modify state. And I said one of the\naspects of that state",
    "start": "3849290",
    "end": "3855010"
  },
  {
    "text": "could be values and memory. What did I mean by memory? ",
    "start": "3855010",
    "end": "3865430"
  },
  {
    "text": "What is memory if\nyou're a programmer? RAM or caches. RAM is an implementation\nof memory.",
    "start": "3865430",
    "end": "3871155"
  },
  {
    "text": " When I look at my X86\ncode, when I say, store",
    "start": "3871155",
    "end": "3879630"
  },
  {
    "text": "this value in memory, I'm not\nsaying it's stored in DDR4.",
    "start": "3879630",
    "end": "3885210"
  },
  {
    "text": "I'm not saying it's\nstored on chip HVM. What am I actually saying?",
    "start": "3885210",
    "end": "3890790"
  },
  {
    "text": "Yeah. It's like a scratchpad where\nyou just specify the address, and it's a byte.",
    "start": "3890790",
    "end": "3895830"
  },
  {
    "text": "At the end of the\nday, all memory is logically, abstractly,\nis an array of values.",
    "start": "3895830",
    "end": "3902820"
  },
  {
    "text": "If you give me an\naddress, memory will provide you the value\nstored at that address.",
    "start": "3902820",
    "end": "3908170"
  },
  {
    "text": "We haven't talked about\nhow memory is implemented. In fact, we will, but I have not\ntold you how it's implemented.",
    "start": "3908170",
    "end": "3914580"
  },
  {
    "text": "So here's an example\nof that abstraction. I have a table of addresses. In this case, they're referring\nthe address of a byte.",
    "start": "3914580",
    "end": "3922960"
  },
  {
    "text": "And for every address,\nthere's a value in memory. In this case, I've given\nyou some values that are bytes between 0 and 255.",
    "start": "3922960",
    "end": "3930760"
  },
  {
    "text": "So memory provides\nthe abstractions that the byte stored at\nthis address has this value.",
    "start": "3930760",
    "end": "3935980"
  },
  {
    "text": "And I'll load and\nstore the memory-- let's say, if we're just\ntalking about byte-size loads it stores, it says the address\nthe value at this address",
    "start": "3935980",
    "end": "3944230"
  },
  {
    "text": "needs to be set to this value. That's all memory ever is. So a processor has two places\nwhere it can store values.",
    "start": "3944230",
    "end": "3952580"
  },
  {
    "text": "It can store values\nin its registers, and it can store\nvalues in memory. And there's example\nof an instruction",
    "start": "3952580",
    "end": "3959500"
  },
  {
    "text": "might be move the value\nfrom memory into a processor register.",
    "start": "3959500",
    "end": "3964520"
  },
  {
    "text": "So I say go ahead. Hey, processor, take the value\nstored at this address, which happens to be 42 and\nmove it to a register,",
    "start": "3964520",
    "end": "3973640"
  },
  {
    "text": "for example, Register R0. And what's the effect\nof that operation?",
    "start": "3973640",
    "end": "3978650"
  },
  {
    "text": "How will my state change?  How will the state\nof this program",
    "start": "3978650",
    "end": "3984910"
  },
  {
    "text": "change if we execute\nthis instruction? R0. R0 will have what value?",
    "start": "3984910",
    "end": "3990050"
  },
  {
    "text": "42. Will have 42. It says, go ask memory for the\nvalue of 42, and you get it.",
    "start": "3990050",
    "end": "3995869"
  },
  {
    "text": "Exactly Sorry, I didn't. I didn't show the update. OK, so you should think\nabout a processor asks",
    "start": "3995870",
    "end": "4002339"
  },
  {
    "text": "memory for information,\nand memory provides it. Now, for implementation reasons,\nmemory might take a while.",
    "start": "4002340",
    "end": "4009630"
  },
  {
    "text": "And so, for example, if a\nprocessor asks for the data, it may come some\npoint in the future.",
    "start": "4009630",
    "end": "4016750"
  },
  {
    "text": "So, in this diagram, memory had\na very long latency, 2 seconds.",
    "start": "4016750",
    "end": "4022930"
  },
  {
    "text": "But the latency of memory\nif was stored in DRAM,",
    "start": "4022930",
    "end": "4028770"
  },
  {
    "text": "which is a very common\nimplementation of memory, can be hundreds of\nprocessor cycles.",
    "start": "4028770",
    "end": "4034110"
  },
  {
    "text": "So imagine if you had\na sequence like this, load from memory this\naddress into this register,",
    "start": "4034110",
    "end": "4039300"
  },
  {
    "text": "load from memory into this\naddress into this register, then add those two\nvalues, you might have to wait hundreds of cycles\nto actually get that data.",
    "start": "4039300",
    "end": "4049794"
  },
  {
    "text": "So what can we do about that? A processor has a detail in it.",
    "start": "4049794",
    "end": "4055040"
  },
  {
    "text": "So I have a processor\nwith execution, registers, fetch and decode\nand memory is off over here.",
    "start": "4055040",
    "end": "4062140"
  },
  {
    "text": "What is a cache? ",
    "start": "4062140",
    "end": "4067280"
  },
  {
    "text": "What is a cache? Not this but-- A small amount of [INAUDIBLE]\naccess frequently.",
    "start": "4067280",
    "end": "4077210"
  },
  {
    "text": "So if DRAM is\nstorage for memory--",
    "start": "4077210",
    "end": "4084290"
  },
  {
    "text": "DRAM holds a lot of data,\nbut is a storage mechanism that has high latency.",
    "start": "4084290",
    "end": "4091040"
  },
  {
    "text": "A cache is another\nstorage mechanism that can't hold that much\ndata but has very low latency.",
    "start": "4091040",
    "end": "4098770"
  },
  {
    "text": "So if DRAM is my garage, cache\nis my desktop in my office.",
    "start": "4098770",
    "end": "4105160"
  },
  {
    "text": "Less space but much\nfaster to access. So now we're talking about\nimplementation of memory.",
    "start": "4105160",
    "end": "4111620"
  },
  {
    "text": "A processor not only has\nstuff to execute instructions, it has a little bit\nof storage in it,",
    "start": "4111620",
    "end": "4117330"
  },
  {
    "text": "a little bit of\nstorage that's used to keep values in\nmemory a copy of those values to make it\neasier to access.",
    "start": "4117330",
    "end": "4124969"
  },
  {
    "text": "So, in this example, I might\nhave a memory address space that in this case is 16 bytes,\nand I have a data cache",
    "start": "4124970",
    "end": "4134520"
  },
  {
    "text": "that can hold 2 bytes. So there's a little bit\nof a question of what",
    "start": "4134520",
    "end": "4139950"
  },
  {
    "text": "data goes in this cache. And we're not going\nto even talk about it in this class very much.",
    "start": "4139950",
    "end": "4145870"
  },
  {
    "text": "But I want you to just think\nabout it as the cache is going to function of whenever it\nneeds to put something in there,",
    "start": "4145870",
    "end": "4150960"
  },
  {
    "text": "it's just going to kick\nthe last thing out. So if you give me 1\nminute or 2 minutes,",
    "start": "4150960",
    "end": "4157654"
  },
  {
    "text": "I should be able to\nfinish up on time. So imagine that this is memory. ",
    "start": "4157655",
    "end": "4165240"
  },
  {
    "text": "I'm not telling you\nhow it's implemented, it's just an array of 16 bytes. And now I want you to imagine\nthat a processor issues",
    "start": "4165240",
    "end": "4172859"
  },
  {
    "text": "instructions to access\nthese addresses. So there's an instruction to\naccess 0, 1, 2, 3, 2, back to 1,",
    "start": "4172859",
    "end": "4183270"
  },
  {
    "text": "4, 1, and so on and so on. So the program's order\nis going down this way.",
    "start": "4183270",
    "end": "4189929"
  },
  {
    "text": "So when the program\naccesses the value, I need the value\nat address 0, it's",
    "start": "4189930",
    "end": "4199680"
  },
  {
    "text": "going to need to load\nsome data from memory. Now, here's one implementation\ndetail that we can't get around.",
    "start": "4199680",
    "end": "4205505"
  },
  {
    "text": " Data is transferred\nfrom out in memory",
    "start": "4205505",
    "end": "4211470"
  },
  {
    "text": "onto on-chip caches\nin the granularity of some number of bytes. That typically is\ncalled the cache line.",
    "start": "4211470",
    "end": "4217840"
  },
  {
    "text": "So, in this\nillustration, let's just say that cache line is 4\nbytes, and I have a cache",
    "start": "4217840",
    "end": "4222990"
  },
  {
    "text": "with room for 2 cache lines. So when my program\naccesses address 0,",
    "start": "4222990",
    "end": "4231190"
  },
  {
    "text": "it will bring an entire\ncache line, all the data for that pink box in the cache.",
    "start": "4231190",
    "end": "4239130"
  },
  {
    "text": "So what happens when my\nprogram accesses address 1?",
    "start": "4239130",
    "end": "4246420"
  },
  {
    "text": "The data is already there. And 3? The data is already there,\nand so on and so on.",
    "start": "4246420",
    "end": "4253932"
  },
  {
    "text": "So these cache\nlines, these caches provide an interesting benefit. They assume that if\nyou've accessed some data,",
    "start": "4253932",
    "end": "4260800"
  },
  {
    "text": "you're going to access\nthe data right next to it. So there's some value in\nreading through memory",
    "start": "4260800",
    "end": "4265889"
  },
  {
    "text": "completely in the same order. Now, what happens if I go back,\nand I want to access 2 again?",
    "start": "4265890",
    "end": "4272380"
  },
  {
    "text": "It's already there. So they also have a benefit\nof when I access things over",
    "start": "4272380",
    "end": "4277950"
  },
  {
    "text": "and over, it's really quick. What happens if I hit 1? Again, it's there. 1, again, it's there,\nand so on and so on.",
    "start": "4277950",
    "end": "4285480"
  },
  {
    "text": "So I'll finish this\nsequence up tomorrow, but I want to end\nwith one fun thing.",
    "start": "4285480",
    "end": "4291540"
  },
  {
    "text": "This is the effect of caches. So if the data is stored\nout in DRAM memory,",
    "start": "4291540",
    "end": "4298150"
  },
  {
    "text": "you're going to have\nto wait for a while. If it's stored in\ncertain processor caches, you don't have to\nwait that long at all.",
    "start": "4298150",
    "end": "4303760"
  },
  {
    "text": "So I made this to scale. If data is in cache, and the\nclosest cache to the processor might hold a few\nkilobytes, that's",
    "start": "4303760",
    "end": "4311050"
  },
  {
    "text": "how long it takes to access. ",
    "start": "4311050",
    "end": "4316120"
  },
  {
    "text": "A little bit farther\ncache, a little bit longer. If data is not in cache, this\nis relatively how long it takes",
    "start": "4316120",
    "end": "4325300"
  },
  {
    "text": "to load instruction to work. OK, I'll end there. And I'll let Ron get started. And we'll get into\nsome details of why",
    "start": "4325300",
    "end": "4333909"
  },
  {
    "text": "this is the case and the\nimplications next time. ",
    "start": "4333910",
    "end": "4341000"
  }
]