[
  {
    "text": "um my name is Diego angara I was actually a student here up until 2014 uh",
    "start": "11679",
    "end": "17279"
  },
  {
    "text": "working with John osterhout and now I'm out in the real world um but still doing the same type of",
    "start": "17279",
    "end": "26439"
  },
  {
    "text": "thing uh so this talks on Runway a new tool that I've uh built and open",
    "start": "26439",
    "end": "32680"
  },
  {
    "text": "sourced um so first I'll get into why I think we need new tools for distributed",
    "start": "32680",
    "end": "38879"
  },
  {
    "text": "system design then I'll give you an overview of Runway and do some Demos in",
    "start": "38879",
    "end": "44079"
  },
  {
    "text": "Runway and then come back and uh talk a little bit more about how you would go and build a runway model yourself um you",
    "start": "44079",
    "end": "53199"
  },
  {
    "text": "I think we have a lot of time today so feel free to interrupt me if you have questions",
    "start": "53199",
    "end": "58920"
  },
  {
    "text": "comments uh does anyone disagree that distributed systems are",
    "start": "58920",
    "end": "66519"
  },
  {
    "text": "hard so there there's a number of reasons why they're they're difficult",
    "start": "67360",
    "end": "73200"
  },
  {
    "text": "for humans to think about um so there's concurrency you know machines are uh",
    "start": "73200",
    "end": "79360"
  },
  {
    "text": "they're operating in parallel they're sending messages to each other and by the time you receive a message um it's",
    "start": "79360",
    "end": "86079"
  },
  {
    "text": "already stale the the contents it's reflecting happened a while ago due to",
    "start": "86079",
    "end": "91560"
  },
  {
    "text": "network latency uh you have to deal with failures but you also have to deal with failures that happen during failures you",
    "start": "91560",
    "end": "98200"
  },
  {
    "text": "know you you can't just put a TR catch block and be done with it um they will come at inconvenient",
    "start": "98200",
    "end": "105079"
  },
  {
    "text": "times uh the events you know you you can write out the good case events in your",
    "start": "105079",
    "end": "111439"
  },
  {
    "text": "system uh but then when you start injecting delays and failures there's so many possible interleavings of what can",
    "start": "111439",
    "end": "117880"
  },
  {
    "text": "happen it's really hard to predict and then because these things are running across a network we usually have little",
    "start": "117880",
    "end": "124320"
  },
  {
    "text": "visibility into what's going on and poor debugging environments you know you try to drop into GDB and suddenly there's",
    "start": "124320",
    "end": "131319"
  },
  {
    "text": "timeouts and your failure detector fires and good",
    "start": "131319",
    "end": "137879"
  },
  {
    "text": "look uh so in this talk I'm going to use a lot of examples from raft uh raft is a",
    "start": "138760",
    "end": "145200"
  },
  {
    "text": "consensus algorithm it was my PhD topic um how many people here already familiar",
    "start": "145200",
    "end": "150280"
  },
  {
    "text": "with raft about half the room cool um so you don't need to know all the details but",
    "start": "150280",
    "end": "157519"
  },
  {
    "text": "uh you do need to know it it's split into two phases um first the raft cluster will elect a leader and and then",
    "start": "157519",
    "end": "165159"
  },
  {
    "text": "it'll get that leader to replicate its log um to the other servers in the",
    "start": "165159",
    "end": "171959"
  },
  {
    "text": "cluster uh and yeah it's it's a big enough",
    "start": "171959",
    "end": "177040"
  },
  {
    "text": "system to have very complicated bugs in it um here's one that David Maier has",
    "start": "177040",
    "end": "182200"
  },
  {
    "text": "found it involves uh the top server leader crashes the bottom server becomes",
    "start": "182200",
    "end": "188480"
  },
  {
    "text": "leader crashes top server becomes leader again replicates things out a little bit more",
    "start": "188480",
    "end": "195040"
  },
  {
    "text": "crashes and that's the scenario and then the bottom server becomes leader again",
    "start": "195040",
    "end": "200239"
  },
  {
    "text": "and it took all that to show the bugs so you really can't think one failure deep",
    "start": "200239",
    "end": "205599"
  },
  {
    "text": "you have to think about the entire State space",
    "start": "205599",
    "end": "211000"
  },
  {
    "text": "so what what do we do um in industry or even I okay fine and in Academia you get",
    "start": "211000",
    "end": "218720"
  },
  {
    "text": "to do proofs sometimes but in Industry we kind of rely on these things on the left to find flaws we we lean on code",
    "start": "218720",
    "end": "228480"
  },
  {
    "text": "reviews where hopefully some human is just going to look at the code and spot it right or unit tests or randomized",
    "start": "228480",
    "end": "235480"
  },
  {
    "text": "testing we have a lot of approaches to find implementation bugs but they're going to find localized bugs",
    "start": "235480",
    "end": "243280"
  },
  {
    "text": "um you know the the code you had in your head isn't what you wrote down in your editor you write a test you find it you",
    "start": "243280",
    "end": "251280"
  },
  {
    "text": "fix it great but you really don't want to find",
    "start": "251280",
    "end": "257959"
  },
  {
    "text": "a design error at this stage right a design error um you know at at this point",
    "start": "257959",
    "end": "265280"
  },
  {
    "text": "you've already written production code it's expensive to change you might have to change quite a bit of stuff this is",
    "start": "265280",
    "end": "272440"
  },
  {
    "text": "not good uh you want to find your design sooner and then of course you can go and",
    "start": "272440",
    "end": "279080"
  },
  {
    "text": "do all these uh these approaches for figuring out the these localized",
    "start": "279080",
    "end": "287759"
  },
  {
    "text": "bugs so what do we do in the design phase um if we really wanted to do this",
    "start": "287759",
    "end": "292960"
  },
  {
    "text": "well I think we'd have goals around communication goals around evaluating our design so we want to",
    "start": "292960",
    "end": "300720"
  },
  {
    "text": "uh we want to communicate clearly about that design unambiguously we want to build",
    "start": "300720",
    "end": "306479"
  },
  {
    "text": "intuition uh we want the design to be reviewable so something that you know",
    "start": "306479",
    "end": "312600"
  },
  {
    "text": "someone can take offline point at uh think through you want to discuss the",
    "start": "312600",
    "end": "318039"
  },
  {
    "text": "issues consider alternatives and then you'd want to evaluate the design before you actually",
    "start": "318039",
    "end": "323759"
  },
  {
    "text": "build the production code so is it simple enough otherwise it won't work is",
    "start": "323759",
    "end": "329240"
  },
  {
    "text": "it correct is it is it fast is it available is it scalable um these are",
    "start": "329240",
    "end": "335680"
  },
  {
    "text": "all things we should be doing in the design phase but what we actually do in the design phase today we we've got",
    "start": "335680",
    "end": "344880"
  },
  {
    "text": "whiteboards got back in the envelope calculations maybe we write a design dock in plain English uh Andy was",
    "start": "344880",
    "end": "352759"
  },
  {
    "text": "suggesting earlier that alcohol is a commonly used tool today but it's not",
    "start": "352759",
    "end": "358240"
  },
  {
    "text": "really going to help um so these things don't quite meet our goals right they",
    "start": "358240",
    "end": "365560"
  },
  {
    "text": "they might start to build the intuition um but we're still just writing code before we know whether it's",
    "start": "365560",
    "end": "372319"
  },
  {
    "text": "a good idea whereas we could be doing these",
    "start": "372319",
    "end": "378160"
  },
  {
    "text": "other things we could be visualizing our designs we could be specifying them and",
    "start": "378160",
    "end": "384880"
  },
  {
    "text": "model checking if you have time sure to approve um we could be running",
    "start": "384880",
    "end": "390000"
  },
  {
    "text": "simulations to to figure out if they're going to be fast enough if they'll scale",
    "start": "390000",
    "end": "395840"
  },
  {
    "text": "um and we're not and Runway hopes to change",
    "start": "395840",
    "end": "401720"
  },
  {
    "text": "that so Runway is built around the concept of a system model um and a model",
    "start": "401720",
    "end": "407720"
  },
  {
    "text": "is a just a representation of a system that captures its essential components and omits a relevant details so here",
    "start": "407720",
    "end": "415440"
  },
  {
    "text": "here we've got a model of raft and it's simplified in that the network is flat",
    "start": "415440",
    "end": "421120"
  },
  {
    "text": "you know these machines just send messages to each other on a flat Network there's no processing time they don't",
    "start": "421120",
    "end": "427440"
  },
  {
    "text": "write to disk um you know but but we are watching The Core",
    "start": "427440",
    "end": "433639"
  },
  {
    "text": "State variables in the protocol uh over here we've got the logs",
    "start": "433639",
    "end": "440039"
  },
  {
    "text": "and when you're thinking about log replication in raft it's really nice to have those lined up like",
    "start": "440039",
    "end": "446280"
  },
  {
    "text": "that um so Runway is tries to combine these things",
    "start": "446280",
    "end": "454479"
  },
  {
    "text": "into one Tool uh and and all of these benefit from a small model so if if you Tred to",
    "start": "454479",
    "end": "462240"
  },
  {
    "text": "visualize a production system it's too complex right you can't put all that on the screen you can't review a",
    "start": "462240",
    "end": "469599"
  },
  {
    "text": "specification that that's that's so large and you your model Checkers probably not going to terminate in",
    "start": "469599",
    "end": "476000"
  },
  {
    "text": "time um and by the time you just take the essence of your system you can run a",
    "start": "476000",
    "end": "481840"
  },
  {
    "text": "simulation and you know under certain assumptions you can start to feel pretty confident about",
    "start": "481840",
    "end": "488919"
  },
  {
    "text": "it okay so what if Runway actually do um",
    "start": "489360",
    "end": "497879"
  },
  {
    "text": "you feed it a model file and from that you can run your model",
    "start": "497879",
    "end": "505120"
  },
  {
    "text": "files Services your specification but it's also executable so Runway can run",
    "start": "505120",
    "end": "511520"
  },
  {
    "text": "that through a randomized simulator and produce an execution or a history of",
    "start": "511520",
    "end": "517279"
  },
  {
    "text": "things like server two received a message server three processed one server one sent one and then from that",
    "start": "517279",
    "end": "524120"
  },
  {
    "text": "execution we can actually visualize that so we can take it on the screen and animate it uh we could also interact",
    "start": "524120",
    "end": "531399"
  },
  {
    "text": "with the visualization to alter the execution that we",
    "start": "531399",
    "end": "536880"
  },
  {
    "text": "have another thing we can do if we run that execution for long enough or run a bunch of these is we can build up data",
    "start": "536880",
    "end": "544640"
  },
  {
    "text": "about our design and then graph that and if we want to drill in we can go back to the",
    "start": "544640",
    "end": "551720"
  },
  {
    "text": "visualization or we can take that same spec and run it through a model Checker so now we're looking for is there any",
    "start": "551880",
    "end": "559320"
  },
  {
    "text": "possible way this design would enter a state that is known to be bad and by the",
    "start": "559320",
    "end": "564920"
  },
  {
    "text": "way if there is then that error is an execution that we can go up and look at",
    "start": "564920",
    "end": "570079"
  },
  {
    "text": "instead of digging through log files so the hope is if we put all of",
    "start": "570079",
    "end": "576240"
  },
  {
    "text": "this into one tool we can write one model and get many benefits from it and maybe that's practical enough to use an",
    "start": "576240",
    "end": "585680"
  },
  {
    "text": "industry so let me do a couple of demos now uh starting with the too many",
    "start": "588800",
    "end": "593839"
  },
  {
    "text": "bananas problem uh if you want to follow along",
    "start": "593839",
    "end": "600320"
  },
  {
    "text": "at home this is live at runway.",
    "start": "600320",
    "end": "606240"
  },
  {
    "text": "systems so the too many bananas problem goes like this um you've got a few",
    "start": "608320",
    "end": "614440"
  },
  {
    "text": "people in a house and uh occasionally one of them will get hungry",
    "start": "614440",
    "end": "621040"
  },
  {
    "text": "and uh when they get hungry they can eat a banana and they're happy again okay",
    "start": "621040",
    "end": "627480"
  },
  {
    "text": "next person might get hungry eats a banana they're happy again if you run",
    "start": "627480",
    "end": "633120"
  },
  {
    "text": "out of bananas uh you've got to go to the store and oh well that we got",
    "start": "633120",
    "end": "640120"
  },
  {
    "text": "unlucky the store didn't provide any bananas but usually you go to the store you can bring back a bunch of",
    "start": "640120",
    "end": "646800"
  },
  {
    "text": "bananas and then eat one and be happy again um so problem with bananas as you",
    "start": "646800",
    "end": "653920"
  },
  {
    "text": "all know they go bad over time they spoil so uh in this model we don't ever",
    "start": "653920",
    "end": "659519"
  },
  {
    "text": "want to have more than eight bananas at the house at any given time and if I just run this through a",
    "start": "659519",
    "end": "666399"
  },
  {
    "text": "randomized simulator um we probably see an example where we'll end up with too",
    "start": "666399",
    "end": "674160"
  },
  {
    "text": "many uh oh so a lot of people got hungry got multiple people out at the",
    "start": "675399",
    "end": "681839"
  },
  {
    "text": "store there we go so what happened",
    "start": "681839",
    "end": "688240"
  },
  {
    "text": "there we can back up in time so basically the house was out of",
    "start": "688240",
    "end": "694880"
  },
  {
    "text": "bananas everyone was hungry and then multiple people started heading to the store so pretty much everyone went to",
    "start": "694880",
    "end": "702600"
  },
  {
    "text": "the store they started bringing back bananas no coordination between themselves and they ended up with 10",
    "start": "702600",
    "end": "710320"
  },
  {
    "text": "bananas very wasteful",
    "start": "710320",
    "end": "715920"
  },
  {
    "text": "um so if I go to the the correct version of the",
    "start": "717200",
    "end": "722680"
  },
  {
    "text": "problem we can run this for a long time and it will never hit a bug and my fix",
    "start": "723120",
    "end": "729560"
  },
  {
    "text": "is when I when you go to the store you now leave a note on the house that says gone to store and that prevents anyone",
    "start": "729560",
    "end": "736279"
  },
  {
    "text": "else from heading out to the",
    "start": "736279",
    "end": "740320"
  },
  {
    "text": "store okay I'm pretty confident this",
    "start": "742839",
    "end": "747240"
  },
  {
    "text": "works so that's a that's a simple problem uh simple enough that I can show you the",
    "start": "748160",
    "end": "753800"
  },
  {
    "text": "the entire code for that in a couple minutes uh but let me show you a couple other models",
    "start": "753800",
    "end": "759480"
  },
  {
    "text": "first um so this one is an elevator",
    "start": "759480",
    "end": "766000"
  },
  {
    "text": "system uh it's a nine-story building uh these are people on the right that",
    "start": "766000",
    "end": "772440"
  },
  {
    "text": "little Z means they're sleeping uh or a number of where they want to go and the dot and indicates where the",
    "start": "772440",
    "end": "780000"
  },
  {
    "text": "elevator is going to stop uh so this elevator is heading for seven",
    "start": "780000",
    "end": "787600"
  },
  {
    "text": "and8 unloading a passenger cool you're familiar with",
    "start": "787600",
    "end": "793959"
  },
  {
    "text": "elevators yeah um so I can let's see I can kind",
    "start": "793959",
    "end": "803320"
  },
  {
    "text": "of hover over these and I can I can figure out uh oh this person is",
    "start": "803320",
    "end": "809440"
  },
  {
    "text": "currently riding an elevator and see all this information about it uh this person's waiting they're trying to get",
    "start": "809440",
    "end": "816279"
  },
  {
    "text": "to 43 um I can also get all that information down here for free so this",
    "start": "816279",
    "end": "823399"
  },
  {
    "text": "is the entire state of our system um we've got people is that top array uh",
    "start": "823399",
    "end": "830160"
  },
  {
    "text": "floor controls is the the little lights at the floor whether they're lit up or not and each elevator is uh between a",
    "start": "830160",
    "end": "839680"
  },
  {
    "text": "floor at a floor might have its do opening",
    "start": "839680",
    "end": "845639"
  },
  {
    "text": "Etc so over here I'm uh I've got a graph",
    "start": "847120",
    "end": "853079"
  },
  {
    "text": "that's being built up of all the elevator rides that are happening and I",
    "start": "853079",
    "end": "858320"
  },
  {
    "text": "can run a simulation in the background using web workers um where you know a",
    "start": "858320",
    "end": "865480"
  },
  {
    "text": "lot of elevator rides are taking place",
    "start": "865480",
    "end": "871040"
  },
  {
    "text": "I'm waiting for a bad one bad but it's not terrible that's",
    "start": "873279",
    "end": "879440"
  },
  {
    "text": "pretty",
    "start": "879440",
    "end": "881720"
  },
  {
    "text": "bad so now I can take that and click on it and",
    "start": "884480",
    "end": "890320"
  },
  {
    "text": "try to figure out well why was this ride so bad um in",
    "start": "890320",
    "end": "897279"
  },
  {
    "text": "this case they spent quite a bit of time waiting for an elevator and then quite a",
    "start": "897279",
    "end": "902839"
  },
  {
    "text": "bit of time riding it so when I click on that bar it's actually moved the timeline over to uh the start of that",
    "start": "902839",
    "end": "910560"
  },
  {
    "text": "ride highlighted the elevator that took so long and highlighted that person up",
    "start": "910560",
    "end": "915720"
  },
  {
    "text": "there on the on the eighth floor that's waiting for an elevator to arrive and now we can just watch it and see um why",
    "start": "915720",
    "end": "924600"
  },
  {
    "text": "why was this so painful the doors opened an extra time",
    "start": "924600",
    "end": "930959"
  },
  {
    "text": "had to drop someone off and then turn around and pick someone up so it wasn't too bad and",
    "start": "931240",
    "end": "940319"
  },
  {
    "text": "now one step two",
    "start": "940319",
    "end": "945800"
  },
  {
    "text": "steps three steps four steps to go five floors is",
    "start": "947079",
    "end": "956880"
  },
  {
    "text": "kind of embarrassing um so you can imagine how you you use this",
    "start": "956880",
    "end": "962519"
  },
  {
    "text": "with a distributed system too um and and of course I have I have a model of raft",
    "start": "962519",
    "end": "969160"
  },
  {
    "text": "here uh so over here we've got five servers",
    "start": "969160",
    "end": "976680"
  },
  {
    "text": "and a raft cluster uh those are the timeouts on the circumference and uh server 3 is about",
    "start": "976680",
    "end": "983360"
  },
  {
    "text": "to time out and it starts an election uh so did server two but server 3 one",
    "start": "983360",
    "end": "989480"
  },
  {
    "text": "leadership and so now that servers the leader and it's it's sending out",
    "start": "989480",
    "end": "995120"
  },
  {
    "text": "heartbeats back and forth uh to keep everyone else",
    "start": "995120",
    "end": "1000160"
  },
  {
    "text": "happy so it's the same idea right we have um all of the servers are shown",
    "start": "1001880",
    "end": "1007839"
  },
  {
    "text": "here and of course the leader has a lot more information because it has more work to do so it's it's basically",
    "start": "1007839",
    "end": "1014079"
  },
  {
    "text": "tracking information for each of the other servers um",
    "start": "1014079",
    "end": "1019800"
  },
  {
    "text": "down here we have messages in the network so you know heartbeats being",
    "start": "1019800",
    "end": "1025720"
  },
  {
    "text": "sent out uh the responses coming back and then they",
    "start": "1025720",
    "end": "1031959"
  },
  {
    "text": "disappear um and I can actually interact with this so I can I can shut down our",
    "start": "1034199",
    "end": "1040400"
  },
  {
    "text": "leader uh which Forks the timeline so now now we're in kind of a",
    "start": "1040400",
    "end": "1048520"
  },
  {
    "text": "par World",
    "start": "1048520",
    "end": "1052080"
  },
  {
    "text": "um I can submit a couple client requests and and this new leader is going to",
    "start": "1054280",
    "end": "1059320"
  },
  {
    "text": "replicate those",
    "start": "1059320",
    "end": "1062159"
  },
  {
    "text": "out uh what",
    "start": "1067200",
    "end": "1071200"
  },
  {
    "text": "else yeah so I mean I can basically interact act with a a full",
    "start": "1073480",
    "end": "1080640"
  },
  {
    "text": "implementation of raft that just doesn't have all the things you need for a",
    "start": "1080640",
    "end": "1085760"
  },
  {
    "text": "production system right it's it it is just a model um but",
    "start": "1085760",
    "end": "1093080"
  },
  {
    "text": "it uh it it does show that the protocol does what it's meant to do yeah so I can",
    "start": "1093080",
    "end": "1099919"
  },
  {
    "text": "I presume I can replay a case if I want to yeah you can um somewhere down here I",
    "start": "1099919",
    "end": "1105799"
  },
  {
    "text": "think you can actually download a a log file with everything that's happened and",
    "start": "1105799",
    "end": "1111919"
  },
  {
    "text": "send it to someone else and no but I can I replay it to rub the bugs off something mysterious happened I",
    "start": "1111919",
    "end": "1118799"
  },
  {
    "text": "don't know what it was I want to run the exact same sequence over and over the same arbitrary decisions yeah with the",
    "start": "1118799",
    "end": "1123919"
  },
  {
    "text": "same sequence of operation uh no that that would be cool it's not something it can do today but uh poor request would",
    "start": "1123919",
    "end": "1132080"
  },
  {
    "text": "be welcome so so one issue is um like raft is generating random numbers for",
    "start": "1132080",
    "end": "1138080"
  },
  {
    "text": "all these time M all the time uh and you'd have to uh probably put a feed on",
    "start": "1138080",
    "end": "1143720"
  },
  {
    "text": "that and then maybe you wouldn't be able to change the number of time if you get a random number um there there's another",
    "start": "1143720",
    "end": "1150400"
  },
  {
    "text": "trick you can use and talk to Sweet um okay oh yeah another thing we",
    "start": "1150400",
    "end": "1159080"
  },
  {
    "text": "can do is drop a message and see how that behaves um I mean basically you get you",
    "start": "1159080",
    "end": "1165840"
  },
  {
    "text": "get a lot more control here than you would in a in a running",
    "start": "1165840",
    "end": "1171080"
  },
  {
    "text": "system uh so let me let me restart because this is a little",
    "start": "1171080",
    "end": "1178360"
  },
  {
    "text": "janky uh another thing I can do I can flip this bit that basically says",
    "start": "1178360",
    "end": "1185320"
  },
  {
    "text": "anytime a leader establishes itself uh we're going to restart and host another",
    "start": "1185320",
    "end": "1191320"
  },
  {
    "text": "leader election uh let me make sure that's",
    "start": "1191320",
    "end": "1197640"
  },
  {
    "text": "working",
    "start": "1197640",
    "end": "1200640"
  },
  {
    "text": "so server four became leader we restart and uh and we can basically do",
    "start": "1205640",
    "end": "1211679"
  },
  {
    "text": "the same thing with we did with the elevators only now uh it's leader elections",
    "start": "1211679",
    "end": "1218960"
  },
  {
    "text": "instead so we're running a bunch of elections in the",
    "start": "1218960",
    "end": "1223840"
  },
  {
    "text": "background and they're all taking about you know 140 to 180",
    "start": "1225840",
    "end": "1231679"
  },
  {
    "text": "milliseconds but every now and then we'll see a split vote like",
    "start": "1231679",
    "end": "1237799"
  },
  {
    "text": "that yeah that's the case I want to repeat so I can find",
    "start": "1238960",
    "end": "1244000"
  },
  {
    "text": "out well so we can repeat it we just can't change the code and then repeat",
    "start": "1244760",
    "end": "1250320"
  },
  {
    "text": "it I mean I want run that one over and over again to see what caused that bad",
    "start": "1250320",
    "end": "1256960"
  },
  {
    "text": "sequence so now so we can watch",
    "start": "1257000",
    "end": "1261960"
  },
  {
    "text": "that uh so I bet yeah it looks like fer one",
    "start": "1263120",
    "end": "1268679"
  },
  {
    "text": "fer two and fer three will time out at just about the same time here and they need a majority of the VES in the",
    "start": "1268679",
    "end": "1275080"
  },
  {
    "text": "cluster so they need three votes to become leader it's going to be really difficult for",
    "start": "1275080",
    "end": "1281600"
  },
  {
    "text": "them",
    "start": "1287520",
    "end": "1290520"
  },
  {
    "text": "nobody got all three votes and then raft that's the simplest thing of just wait around for another timeout",
    "start": "1292720",
    "end": "1301880"
  },
  {
    "text": "uh so that was that was our slow",
    "start": "1317520",
    "end": "1324399"
  },
  {
    "text": "election",
    "start": "1324679",
    "end": "1327679"
  },
  {
    "text": "um any",
    "start": "1330640",
    "end": "1334360"
  },
  {
    "text": "questions okay so um I know I know that wasn't like",
    "start": "1337919",
    "end": "1345799"
  },
  {
    "text": "terribly impressive it's uh it's still really early on the project and um you",
    "start": "1345799",
    "end": "1351320"
  },
  {
    "text": "think of it more as a proof of concept than anything but it is already showing",
    "start": "1351320",
    "end": "1356720"
  },
  {
    "text": "uh some value right and if we compare this to to what I did uh for raft for my",
    "start": "1356720",
    "end": "1364240"
  },
  {
    "text": "PhD it was uh well write the production ready",
    "start": "1364240",
    "end": "1369400"
  },
  {
    "text": "code almost production ready fine it took me a few months after graduating to get it into production um and then you",
    "start": "1369400",
    "end": "1377880"
  },
  {
    "text": "know right the t plus spec so it's the specification and also uh did some model",
    "start": "1377880",
    "end": "1385000"
  },
  {
    "text": "checking with it write uh write a visualization in JavaScript so writing",
    "start": "1385000",
    "end": "1391960"
  },
  {
    "text": "basically the same thing different language uh write a simulator in Rust to",
    "start": "1391960",
    "end": "1397640"
  },
  {
    "text": "explore a whole bunch of leader election variations and then write Pudo code to",
    "start": "1397640",
    "end": "1403760"
  },
  {
    "text": "present this compactly for other people to read it uh there's no way that one's",
    "start": "1403760",
    "end": "1408799"
  },
  {
    "text": "correct because it's never been run but basically you know wrote it four times",
    "start": "1408799",
    "end": "1414919"
  },
  {
    "text": "over basically pretty much the same thing um so if and of course if I",
    "start": "1414919",
    "end": "1423159"
  },
  {
    "text": "changed anything now I have to go back and revise all these I hope not to so so",
    "start": "1423159",
    "end": "1429240"
  },
  {
    "text": "with Runway if that tool existed at the time like maybe I could have written one model and gotten the same value out of",
    "start": "1429240",
    "end": "1436640"
  },
  {
    "text": "all of it um and you know in my experience the more things you do with a",
    "start": "1436640",
    "end": "1442039"
  },
  {
    "text": "piece of code the more you're you're going to iron out the bugs and flesh it out um so it's it it just would have",
    "start": "1442039",
    "end": "1450760"
  },
  {
    "text": "been a better experience overall um right the the other thing is",
    "start": "1450760",
    "end": "1458159"
  },
  {
    "text": "all these other things benefit from visualization so if if I'm trying to",
    "start": "1458159",
    "end": "1463720"
  },
  {
    "text": "debug uh an issue with my spec it's really nice if I can just it behave",
    "start": "1463720",
    "end": "1469159"
  },
  {
    "text": "visually because when you know when a server does something it's not supposed to do you just naturally Spot It That",
    "start": "1469159",
    "end": "1475960"
  },
  {
    "text": "Way um I guess I don't know it's just wired into our",
    "start": "1475960",
    "end": "1481919"
  },
  {
    "text": "brains okay so so what does it mean how do I build a runway model today um so",
    "start": "1484240",
    "end": "1491559"
  },
  {
    "text": "you need to produce a specification file and a view file uh the spec is in a",
    "start": "1491559",
    "end": "1497720"
  },
  {
    "text": "domain specific spefic language uh that Runway interprets and I'll get into that",
    "start": "1497720",
    "end": "1502840"
  },
  {
    "text": "in a minute uh the view is just off the-shelf web stuff so um I tend to use",
    "start": "1502840",
    "end": "1509880"
  },
  {
    "text": "JavaScript D3 uh D3 is a o library that helps with",
    "start": "1509880",
    "end": "1515640"
  },
  {
    "text": "drawing and animating things uh and then SVG for uh what I'm actually",
    "start": "1515640",
    "end": "1521480"
  },
  {
    "text": "manipulating on the screen um so the view file and the spec",
    "start": "1521480",
    "end": "1526799"
  },
  {
    "text": "file they in my experience they tend to be about the same size um but the view",
    "start": "1526799",
    "end": "1531960"
  },
  {
    "text": "file is totally boring code that you should never look at it's it's got a job",
    "start": "1531960",
    "end": "1537279"
  },
  {
    "text": "it's supposed to take the state and draw it on the screen um but you won't really",
    "start": "1537279",
    "end": "1542320"
  },
  {
    "text": "learn anything from spending time on that code uh where whereas the spec like",
    "start": "1542320",
    "end": "1547919"
  },
  {
    "text": "ideally this is what you'd be sharing with your uh teammates to to do re",
    "start": "1547919",
    "end": "1553880"
  },
  {
    "text": "design reviews um",
    "start": "1553880",
    "end": "1559240"
  },
  {
    "text": "so what I'd suggest you do is uh start start with a sketch of what it is you",
    "start": "1559240",
    "end": "1564360"
  },
  {
    "text": "want your visualization to look like um because that's going to help you tease out like what is the core state in my",
    "start": "1564360",
    "end": "1571640"
  },
  {
    "text": "system uh and then you can kind of Define that so uh the specification",
    "start": "1571640",
    "end": "1577000"
  },
  {
    "text": "model is strongly typed so you can Define all those types and your state variables and start to create the view",
    "start": "1577000",
    "end": "1584279"
  },
  {
    "text": "as I said the the once you've got the visualization that helps you with debug if you if you've got the wrong",
    "start": "1584279",
    "end": "1590039"
  },
  {
    "text": "transition rules after that um you can probably spot them and and then you can",
    "start": "1590039",
    "end": "1596000"
  },
  {
    "text": "fill in your invariance and transition rules uh one tip like with raft you've",
    "start": "1596000",
    "end": "1603440"
  },
  {
    "text": "got leader election and then you've got log replication uh if you're working on the log replication stuff you you can",
    "start": "1603440",
    "end": "1609440"
  },
  {
    "text": "just set an initial state where I don't know server one is the leader already so you don't have to go through a leader",
    "start": "1609440",
    "end": "1616679"
  },
  {
    "text": "election every time um so as I said the the specification uh",
    "start": "1616679",
    "end": "1625240"
  },
  {
    "text": "is executable code but it's it's not uh you know you run it through Runway it's",
    "start": "1625240",
    "end": "1631640"
  },
  {
    "text": "not uh not it is touring complete it's not a general purpose programming",
    "start": "1631640",
    "end": "1638080"
  },
  {
    "text": "language uh so you define all the state um you define this so you define types",
    "start": "1638080",
    "end": "1644760"
  },
  {
    "text": "you define state variables and a starting state uh a set of transition rules um and then",
    "start": "1644760",
    "end": "1653640"
  },
  {
    "text": "invariance that you want to hold so properties on the state that should be",
    "start": "1653640",
    "end": "1659320"
  },
  {
    "text": "true uh before and after applying every rule um it's called a labeled transition",
    "start": "1659320",
    "end": "1666200"
  },
  {
    "text": "system it's similar to a state machine uh and and so you want to",
    "start": "1666200",
    "end": "1671919"
  },
  {
    "text": "include in your transition rules not only the the behavior that your system",
    "start": "1671919",
    "end": "1677399"
  },
  {
    "text": "is supposed to have but also the things that you want to go wrong in the model",
    "start": "1677399",
    "end": "1682440"
  },
  {
    "text": "so like in the raft model a server can stop and then restart and the message",
    "start": "1682440",
    "end": "1688039"
  },
  {
    "text": "can be dropped or duplicated and",
    "start": "1688039",
    "end": "1694600"
  },
  {
    "text": "delayed um and and the way execution works is uh applying a rule is atomic",
    "start": "1694679",
    "end": "1702080"
  },
  {
    "text": "and and it Runway will do one at a time so uh take the starting State apply a",
    "start": "1702080",
    "end": "1707880"
  },
  {
    "text": "rule apply a rule apply a rule um if multiple rules are active",
    "start": "1707880",
    "end": "1713200"
  },
  {
    "text": "then depending on if if you're running the simulator it's just going to make a random choice and if you're running the",
    "start": "1713200",
    "end": "1719480"
  },
  {
    "text": "model Checker it's going to explore all pads that that's a very restrictive",
    "start": "1719480",
    "end": "1725360"
  },
  {
    "text": "programming model it's it suits the JavaScript model I mean it's it's a communic it's a vent Loop based because",
    "start": "1725360",
    "end": "1732600"
  },
  {
    "text": "the rule is atomic that means there's no interference of something else happening while the rule was running so yeah so",
    "start": "1732600",
    "end": "1739640"
  },
  {
    "text": "what that means is you if you want to permit concurrency in your model you",
    "start": "1739640",
    "end": "1744720"
  },
  {
    "text": "have to write small rules that you know do a take a step and then return and",
    "start": "1744720",
    "end": "1751080"
  },
  {
    "text": "then sometime later they'll take the next step uh but the benefit is now I'm",
    "start": "1751080",
    "end": "1757640"
  },
  {
    "text": "I'm not writing I can model a concurrent system but I'm not writing concurrent code so I",
    "start": "1757640",
    "end": "1763600"
  },
  {
    "text": "don't need mutexes I don't need any explicit synchronization",
    "start": "1763600",
    "end": "1769519"
  },
  {
    "text": "um it it works pretty well for distributed systems in my in my",
    "start": "1769519",
    "end": "1776080"
  },
  {
    "text": "experience I don't know how well it would work for like very lowlevel systems code one of the common errors is",
    "start": "1776080",
    "end": "1783120"
  },
  {
    "text": "starting to process a second message while you're processing the first one that's a very common error in",
    "start": "1783120",
    "end": "1788440"
  },
  {
    "text": "distributed systems and you mess up your state and you can never tell what happened because you never get that",
    "start": "1788440",
    "end": "1793640"
  },
  {
    "text": "exact sequence again Fair um",
    "start": "1793640",
    "end": "1800039"
  },
  {
    "text": "uh one other interesting Y is it fair to say that",
    "start": "1801960",
    "end": "1807519"
  },
  {
    "text": "that this is suited for a particular class of distributed systems and",
    "start": "1807519",
    "end": "1813279"
  },
  {
    "text": "and can be all defined by a Serial set",
    "start": "1813279",
    "end": "1818519"
  },
  {
    "text": "of rules good question um so this is the",
    "start": "1818519",
    "end": "1824440"
  },
  {
    "text": "way that more or less this is the way that all dist distributed Protocols are modeled in the",
    "start": "1824440",
    "end": "1830640"
  },
  {
    "text": "literature my test forol for distributed systems is can it model a distributed",
    "start": "1830640",
    "end": "1837600"
  },
  {
    "text": "system such as your body the cells in your body and and and in that kind of a",
    "start": "1837600",
    "end": "1844360"
  },
  {
    "text": "system you cannot have a a single thread of of rules that doesn't mean there",
    "start": "1844360",
    "end": "1850399"
  },
  {
    "text": "aren't systems that where you can so so the important thing is um",
    "start": "1850399",
    "end": "1856880"
  },
  {
    "text": "since there's no shared state in a Distributive system we're communicating over messages if two servers do",
    "start": "1856880",
    "end": "1863919"
  },
  {
    "text": "something concurrently and then try to tell each other about it uh it's equivalent to if",
    "start": "1863919",
    "end": "1870480"
  },
  {
    "text": "one took an action the next took an action and then they sent their",
    "start": "1870480",
    "end": "1875919"
  },
  {
    "text": "messages right um and and that's why this is the model is sufficient for",
    "start": "1875919",
    "end": "1883559"
  },
  {
    "text": "a lot of uh a lot of academic literature but I don't ever think about human",
    "start": "1883559",
    "end": "1889279"
  },
  {
    "text": "bodies and and you know we have how many",
    "start": "1889279",
    "end": "1895200"
  },
  {
    "text": "cells two servers could go through n number of other servers",
    "start": "1895200",
    "end": "1902398"
  },
  {
    "text": "yep okay well let's let's get a bit more concrete by looking at some of the code",
    "start": "1916360",
    "end": "1922120"
  },
  {
    "text": "um so this is the too many bananas problem um we declare a variable for the number",
    "start": "1922120",
    "end": "1930039"
  },
  {
    "text": "of bananas uh and this is a correct version so we need a Boolean to represent whether there's a note stuck",
    "start": "1930039",
    "end": "1936480"
  },
  {
    "text": "on the house or not um then we've got our people um so",
    "start": "1936480",
    "end": "1943960"
  },
  {
    "text": "roommates is an array of person indexed from 1 to 5 and each person is either happy hungry",
    "start": "1943960",
    "end": "1951399"
  },
  {
    "text": "going to the store or returning from the store uh so this similar to an enum",
    "start": "1951399",
    "end": "1957279"
  },
  {
    "text": "except the different options can carry data so when you're when you're",
    "start": "1957279",
    "end": "1962519"
  },
  {
    "text": "returning from the store uh there's how many bananas are you coming back with and so the the compiler will check that",
    "start": "1962519",
    "end": "1970440"
  },
  {
    "text": "um statically you're only allowed to access carrying if you are in the state returning from store you a check against",
    "start": "1970440",
    "end": "1977679"
  },
  {
    "text": "the the assertion on the maximum number of bananas uh that it'll do at runtime in",
    "start": "1977679",
    "end": "1982840"
  },
  {
    "text": "between every rule no no if I just say returning for still carrying 0 to 10 uh",
    "start": "1982840",
    "end": "1988200"
  },
  {
    "text": "no it's not that smart because model errors that's the",
    "start": "1988200",
    "end": "1994519"
  },
  {
    "text": "typical kind of model error anytime a number shows up in two places or a condition shows up in two places you're",
    "start": "1994519",
    "end": "2000880"
  },
  {
    "text": "often going to get them different be nice to have the compiler check that true",
    "start": "2000880",
    "end": "2009760"
  },
  {
    "text": "uh and this just has one rule but it's a it's a multi-part rule depending on what",
    "start": "2009840",
    "end": "2016240"
  },
  {
    "text": "state you're in so for for each of the roommates so taking each one",
    "start": "2016240",
    "end": "2022320"
  },
  {
    "text": "individually uh if they're happy they can become hungry and that would be an",
    "start": "2022320",
    "end": "2027919"
  },
  {
    "text": "atomic State change and then we'd break out of the match statement and return",
    "start": "2027919",
    "end": "2032960"
  },
  {
    "text": "out of the rule return control uh and then the system would be able to",
    "start": "2032960",
    "end": "2039720"
  },
  {
    "text": "re-evaluate um if they're hungry and there's no bananas at home but there's a",
    "start": "2039840",
    "end": "2045320"
  },
  {
    "text": "note at the front of the house well we said they're not supposed to leave for the store because one of their roommates",
    "start": "2045320",
    "end": "2051960"
  },
  {
    "text": "already gone for the store so they just they do nothing and they so they fall",
    "start": "2051960",
    "end": "2057520"
  },
  {
    "text": "out of the if statements they fall out of the match statements uh and they didn't change any of the state in the",
    "start": "2057520",
    "end": "2065480"
  },
  {
    "text": "model and so uh you know the The Interpreter will look at that and say",
    "start": "2065480",
    "end": "2071398"
  },
  {
    "text": "okay well this person is inactive until any of the variables that it read",
    "start": "2071399",
    "end": "2077280"
  },
  {
    "text": "changed so if it State changes if the B number of bananas change if that note",
    "start": "2077280",
    "end": "2082358"
  },
  {
    "text": "goes away then we'll re-evaluate this person until then uh they're not",
    "start": "2082359",
    "end": "2089158"
  },
  {
    "text": "interesting um if there was no note present they could set one and head out",
    "start": "2089440",
    "end": "2095440"
  },
  {
    "text": "to the store and they do that atomically um or if there were bananas at home they",
    "start": "2095440",
    "end": "2101400"
  },
  {
    "text": "can eat one and become happy uh if they're going to the store",
    "start": "2101400",
    "end": "2107400"
  },
  {
    "text": "they can come back with a random number of bananas between zero and eight and when they're coming back they",
    "start": "2107400",
    "end": "2114640"
  },
  {
    "text": "add what they're carrying to the bananas at home remove the note and go back to",
    "start": "2114640",
    "end": "2120560"
  },
  {
    "text": "hungry and probably what they're going to do next is eat a banana uh but this",
    "start": "2120560",
    "end": "2125760"
  },
  {
    "text": "model permits um the case where you go to the store you bring back bananas and",
    "start": "2125760",
    "end": "2131079"
  },
  {
    "text": "your roommate eats them all before you get a chance it can",
    "start": "2131079",
    "end": "2136920"
  },
  {
    "text": "happen I said that Paul's gonna hate",
    "start": "2137560",
    "end": "2142720"
  },
  {
    "text": "me this one for you Paul um so so what about time right the bananas problem is",
    "start": "2142720",
    "end": "2149119"
  },
  {
    "text": "kind of asynchronous doesn't care about time but in raft time time's really important when you're asking about how",
    "start": "2149119",
    "end": "2155599"
  },
  {
    "text": "long leader election takes um so the way computer",
    "start": "2155599",
    "end": "2161000"
  },
  {
    "text": "scientists like to think about this is each server tries to approximate the",
    "start": "2161000",
    "end": "2167040"
  },
  {
    "text": "global clock the one that's out there in the sky that we synchronize to the one",
    "start": "2167040",
    "end": "2173079"
  },
  {
    "text": "at the root of the ntp hierarchy and physicists uh we've got",
    "start": "2173079",
    "end": "2179920"
  },
  {
    "text": "one here you can talk to will they will uh correct us and and",
    "start": "2179920",
    "end": "2186920"
  },
  {
    "text": "they'll remind of that no in fact we've got relativity and all these other things and whatever um the point is uh",
    "start": "2186920",
    "end": "2197720"
  },
  {
    "text": "we we need time we we need to think about time in our systems uh and we want",
    "start": "2197720",
    "end": "2204119"
  },
  {
    "text": "some of the properties like in raft we want it to uh ra cannot just corrupt",
    "start": "2204119",
    "end": "2211240"
  },
  {
    "text": "state because the clocks um drift or have skew",
    "start": "2211240",
    "end": "2218599"
  },
  {
    "text": "uh we want some properties to hold no matter if uh we spend a long time",
    "start": "2218599",
    "end": "2224720"
  },
  {
    "text": "processing something or a message gets delayed um and yet at other times if",
    "start": "2224720",
    "end": "2231599"
  },
  {
    "text": "we're talking about availability or performance like we we absolutely need a watch to measure against because these",
    "start": "2231599",
    "end": "2237000"
  },
  {
    "text": "are rates over time um so so Runway takes a pretty simple approach right now",
    "start": "2237000",
    "end": "2242960"
  },
  {
    "text": "which is uh if you're running in the simulator then",
    "start": "2242960",
    "end": "2248079"
  },
  {
    "text": "this past function um will consult a global clock and if you're running in in the model",
    "start": "2248079",
    "end": "2255920"
  },
  {
    "text": "Checker asynchronously this past function will return true so to give an example uh in raft",
    "start": "2255920",
    "end": "2264240"
  },
  {
    "text": "once once you're once you get through your randomized timeout you're supposed",
    "start": "2264240",
    "end": "2269640"
  },
  {
    "text": "to start a new election um so you know we've got this",
    "start": "2269640",
    "end": "2274839"
  },
  {
    "text": "rule start new election that's defined over all of the different servers and uh",
    "start": "2274839",
    "end": "2281200"
  },
  {
    "text": "if we're in the simulator then this is just going to refer to a global clock",
    "start": "2281200",
    "end": "2286240"
  },
  {
    "text": "it's a global variable um that just you know happens to be",
    "start": "2286240",
    "end": "2291839"
  },
  {
    "text": "globally synchronized uh if we're model checking on the other hand this just always",
    "start": "2291839",
    "end": "2298400"
  },
  {
    "text": "returns true so any server can just time out at any time um and that's what lets",
    "start": "2298400",
    "end": "2304560"
  },
  {
    "text": "us check some of the safety properties so again it would be very useful to be",
    "start": "2304560",
    "end": "2311640"
  },
  {
    "text": "able to assign a different clock to each node and allow and and allow for",
    "start": "2311640",
    "end": "2317960"
  },
  {
    "text": "different drifts because again when you're using timeouts a lot of trouble appears from clock errors yep um and",
    "start": "2317960",
    "end": "2326680"
  },
  {
    "text": "that yeah that that's one that we should do um with ref all of the timeouts are",
    "start": "2326680",
    "end": "2333839"
  },
  {
    "text": "randomized so it it you kind of get that anyway randomized across",
    "start": "2333839",
    "end": "2339400"
  },
  {
    "text": "servers uh every time a server generates a new timeout it multiplies it by random",
    "start": "2339400",
    "end": "2345079"
  },
  {
    "text": "skew that might be that enough um but but yeah I think I think",
    "start": "2345079",
    "end": "2350480"
  },
  {
    "text": "you're right that we do need to bake something in the language for this so it would be useful to uh inject",
    "start": "2350480",
    "end": "2357839"
  },
  {
    "text": "clock BS like and that you can do it for rule future or for the",
    "start": "2357839",
    "end": "2363920"
  },
  {
    "text": "past um so I can I can certainly Define a rule that if uh this server's offset",
    "start": "2363920",
    "end": "2369240"
  },
  {
    "text": "from the global clock is now radically different from what it just",
    "start": "2369240",
    "end": "2374800"
  },
  {
    "text": "was um so I can model the clock as part of the part of the system then so I",
    "start": "2374800",
    "end": "2381000"
  },
  {
    "text": "could do the drift yeah I don't okay I don't I don't like I don't",
    "start": "2381000",
    "end": "2386800"
  },
  {
    "text": "have enough examples where it has or hasn't worked um so I'm kind of not sure what the best thing here is",
    "start": "2386800",
    "end": "2394359"
  },
  {
    "text": "um happy to chat Paul I I like what you're doing by the way",
    "start": "2394359",
    "end": "2400079"
  },
  {
    "text": "don't don't think I'm being critical I'm not at all I think this is great awesome",
    "start": "2400079",
    "end": "2405240"
  },
  {
    "text": "um okay so to to wrap up here uh I argued that we should be applying uh new",
    "start": "2405240",
    "end": "2412079"
  },
  {
    "text": "you know tools to help us design our distributed systems uh beyond the the",
    "start": "2412079",
    "end": "2418480"
  },
  {
    "text": "Whiteboard and alcohol um models are you know whatever",
    "start": "2418480",
    "end": "2423680"
  },
  {
    "text": "this is it it should be based on modeling because it helps focus our attention on the things that matter and",
    "start": "2423680",
    "end": "2430280"
  },
  {
    "text": "leaves out unimportant details like memory allocation or",
    "start": "2430280",
    "end": "2436440"
  },
  {
    "text": "whatever um so Runway combines Mo specification model checking",
    "start": "2436440",
    "end": "2442920"
  },
  {
    "text": "simulation and visualization into one tool and the hope is that um even though",
    "start": "2442920",
    "end": "2449839"
  },
  {
    "text": "like most of the time we couldn't justify doing these things independently if we pack it into one tool um maybe",
    "start": "2449839",
    "end": "2457440"
  },
  {
    "text": "there's enough value there to make it worthwhile um so you can go check out",
    "start": "2457440",
    "end": "2462520"
  },
  {
    "text": "the models uh build your own uh this is all open source so help develop Runway",
    "start": "2462520",
    "end": "2470200"
  },
  {
    "text": "uh and you know let's solve problems at the design",
    "start": "2470200",
    "end": "2476880"
  },
  {
    "text": "pH what one written in uh so it's it's JavaScript right now um and and that's",
    "start": "2479720",
    "end": "2486560"
  },
  {
    "text": "mainly for the visualization part uh when it comes to model checking I I'm",
    "start": "2486560",
    "end": "2492359"
  },
  {
    "text": "not want I'm not going to stand up here and tell you that JavaScript is the right language for that um but I I think",
    "start": "2492359",
    "end": "2498640"
  },
  {
    "text": "we should probably be compiling down to an existing model Checker um that a lot of times the the",
    "start": "2498640",
    "end": "2506720"
  },
  {
    "text": "difficulties only appear at scale so how large a system can I I don't know um I",
    "start": "2506720",
    "end": "2515440"
  },
  {
    "text": "so you know the the runtime is not very efficent I I mentioned it's an interpreter right now",
    "start": "2515440",
    "end": "2522119"
  },
  {
    "text": "we should probably switch over to a compiler instead um there's your browser can do quite a",
    "start": "2522119",
    "end": "2529839"
  },
  {
    "text": "bit but it's it's definitely limited",
    "start": "2529839",
    "end": "2534280"
  },
  {
    "text": "um probably terrible I don't know I've never",
    "start": "2534880",
    "end": "2539400"
  },
  {
    "text": "checked and and it's also going to depend on um like some of the you know",
    "start": "2540960",
    "end": "2547640"
  },
  {
    "text": "the these things down here um we could just turn turn off if",
    "start": "2547640",
    "end": "2553319"
  },
  {
    "text": "they're uh like this is storing the complete state of of every step you take",
    "start": "2553319",
    "end": "2560960"
  },
  {
    "text": "um it's amazing how much you can get away with just doing anyway uh and then the visualizations",
    "start": "2560960",
    "end": "2568440"
  },
  {
    "text": "can get arbitrarily complex like here's um here's one I like to show because I",
    "start": "2568440",
    "end": "2575760"
  },
  {
    "text": "don't understand it at all uh this guy David did",
    "start": "2575760",
    "end": "2582160"
  },
  {
    "text": "it so I I think he's modeling a a financial system um that's like most of",
    "start": "2586200",
    "end": "2593440"
  },
  {
    "text": "my understanding here so you can and I'm not sure why but",
    "start": "2593440",
    "end": "2599640"
  },
  {
    "text": "you can drag around the the graph",
    "start": "2599640",
    "end": "2604800"
  },
  {
    "text": "fine we get that back oh come",
    "start": "2604800",
    "end": "2610359"
  },
  {
    "text": "on I mean that's that's how it went there but anyhow I can uh on some of these I",
    "start": "2612520",
    "end": "2619880"
  },
  {
    "text": "can make a request and then it's uh oh",
    "start": "2619880",
    "end": "2626079"
  },
  {
    "text": "oops did you see that it's uh it's sending messages back and forth it's it's",
    "start": "2627520",
    "end": "2633119"
  },
  {
    "text": "doing fairly complex things uh I if if",
    "start": "2633119",
    "end": "2638960"
  },
  {
    "text": "we just had little rectangles that might scale a whole lot better but um yeah I don't know haven't",
    "start": "2638960",
    "end": "2646240"
  },
  {
    "text": "pushed it how much do you know about this example nothing so I mean one of the my",
    "start": "2646240",
    "end": "2653359"
  },
  {
    "text": "questions is there's kind of two loes do the two loes run",
    "start": "2653359",
    "end": "2659920"
  },
  {
    "text": "concurrently I mean can I look at the sour of the model I really wish I could move it uh yeah yeah yeah so um down",
    "start": "2665400",
    "end": "2674040"
  },
  {
    "text": "here it we can see the code and it's uh it's actually syntax highlighted",
    "start": "2674040",
    "end": "2680160"
  },
  {
    "text": "even uh and David wrote a giant explanation of what this is maybe maybe",
    "start": "2680160",
    "end": "2685480"
  },
  {
    "text": "we can just figure it out because we have a bunch of time",
    "start": "2685480",
    "end": "2692480"
  },
  {
    "text": "uh",
    "start": "2696040",
    "end": "2699040"
  },
  {
    "text": "request so intermediate nodes act as relay stations by receiving a",
    "start": "2702480",
    "end": "2709119"
  },
  {
    "text": "message press in it to",
    "start": "2709119",
    "end": "2713359"
  },
  {
    "text": "spark should probably take this off fine huh um so the general approach that",
    "start": "2715280",
    "end": "2721880"
  },
  {
    "text": "you're taking I I actually very impressed with it's it's similar to to lamp ports plea for us to be writing",
    "start": "2721880",
    "end": "2728359"
  },
  {
    "text": "specific otions before we write code um you know his notion that um Bridges don't fall down but software systems do",
    "start": "2728359",
    "end": "2735040"
  },
  {
    "text": "and that's because Bridges have Architects that design it before they build it um so I think there's a there's",
    "start": "2735040",
    "end": "2741280"
  },
  {
    "text": "a lot here that is the right direction to go in and clearly this is a basic",
    "start": "2741280",
    "end": "2746440"
  },
  {
    "text": "tool that I think is headed in the right direction in many different ways um I",
    "start": "2746440",
    "end": "2752119"
  },
  {
    "text": "think of U the kind of things that can go wrong at scale in large systems as being you know right on power on",
    "start": "2752119",
    "end": "2757720"
  },
  {
    "text": "distribution of things that can go wrong the things near the axis the most likely and the things further down the axis",
    "start": "2757720",
    "end": "2765040"
  },
  {
    "text": "least likely the things at the front we can deal with with design we can do power redundant power supplies redundant",
    "start": "2765040",
    "end": "2770680"
  },
  {
    "text": "discs you know redundant plans you know to make sure that doesn't fail but then we don't know how things are going to",
    "start": "2770680",
    "end": "2776839"
  },
  {
    "text": "break so we then put it in practice and we get it to production and then we fix it when we find things that go wrong the",
    "start": "2776839",
    "end": "2783319"
  },
  {
    "text": "problem is the area in the long tail is bigger than everything else up front and the only way you can deal with the",
    "start": "2783319",
    "end": "2788720"
  },
  {
    "text": "long taale is by being more formal about your model about your verification and about more disciplined about what we",
    "start": "2788720",
    "end": "2795160"
  },
  {
    "text": "build things so I I think that the gift you given us here onar is um is Diego",
    "start": "2795160",
    "end": "2800880"
  },
  {
    "text": "sorry is um potato is potato potato yes keep forgetting is the gift you're",
    "start": "2800880",
    "end": "2806760"
  },
  {
    "text": "giving us here is this um this Vision that we we if we really want to scale our systems despite the fact that the",
    "start": "2806760",
    "end": "2812599"
  },
  {
    "text": "semul L may need some work to make it scale we we the systems in practice you",
    "start": "2812599",
    "end": "2818160"
  },
  {
    "text": "can't you can't go through enough of the things that can go wrong to really protect yourself from these random",
    "start": "2818160",
    "end": "2823400"
  },
  {
    "text": "failures that are occurring in the long ter all right there were a lot of ideas",
    "start": "2823400",
    "end": "2828920"
  },
  {
    "text": "in there um so first uh on TLA plus and Leslie lamport's work this is definitely",
    "start": "2828920",
    "end": "2835319"
  },
  {
    "text": "all influenced by that and I I use t plus uh for raft and um in in part this",
    "start": "2835319",
    "end": "2842760"
  },
  {
    "text": "is just making it more accessible um but it's yeah I mean I I like you are doing",
    "start": "2842760",
    "end": "2850400"
  },
  {
    "text": "model checking when you compile the model it there is a placeholder that technically does model checking um it's",
    "start": "2850400",
    "end": "2857920"
  },
  {
    "text": "not efficient then again neither is t+ I mean you you you have a programming",
    "start": "2857920",
    "end": "2865640"
  },
  {
    "text": "language yeah it's you need a debugger right um so on on Paul's point about",
    "start": "2865640",
    "end": "2873880"
  },
  {
    "text": "scaling I think yeah I I think there are I mean we talk about these systems that",
    "start": "2873880",
    "end": "2878960"
  },
  {
    "text": "scale to thousands of servers a lot of them are actually organized um into small groups of a handful and and they",
    "start": "2878960",
    "end": "2886880"
  },
  {
    "text": "would fit this quite nicely uh and if you can show uh if you",
    "start": "2886880",
    "end": "2895359"
  },
  {
    "text": "can convince yourself that it works in all cases then then that gets rid of your tail but of course there's there's",
    "start": "2895359",
    "end": "2902359"
  },
  {
    "text": "all the unanticipated problems the the things with highly unlike probability",
    "start": "2902359",
    "end": "2907760"
  },
  {
    "text": "that you encounter only after so many machine hours and this can't help you",
    "start": "2907760",
    "end": "2914160"
  },
  {
    "text": "there but the like the you know random bit",
    "start": "2914160",
    "end": "2919599"
  },
  {
    "text": "flip uh but this should help um say the",
    "start": "2919599",
    "end": "2924960"
  },
  {
    "text": "deadlock detection yeah right right I mean I I should the model Checker should tell me I have a potential deadlock",
    "start": "2924960",
    "end": "2930520"
  },
  {
    "text": "before I even run it yes um I'm curious if um you used it to",
    "start": "2930520",
    "end": "2938280"
  },
  {
    "text": "it's found bugs and systems you produced uh so far what me you AR at the",
    "start": "2938280",
    "end": "2945240"
  },
  {
    "text": "point yet so the only the only example I've got is",
    "start": "2945240",
    "end": "2951040"
  },
  {
    "text": "um uh so I was helping out a team we we were sitting around whiteboard for three",
    "start": "2951040",
    "end": "2957599"
  },
  {
    "text": "days and then on the fourth day I went off and wrote a model of it uh well at",
    "start": "2957599",
    "end": "2963040"
  },
  {
    "text": "the very end of that third day we took a picture of the board and then we kept talking a little bit and discovered a",
    "start": "2963040",
    "end": "2969559"
  },
  {
    "text": "bug but it didn't uh so we we updated the board but didn't take a new",
    "start": "2969559",
    "end": "2974960"
  },
  {
    "text": "picture uh on the fourth day I was going by the picture I had forgotten about",
    "start": "2974960",
    "end": "2980280"
  },
  {
    "text": "that bug and the model Checker found it again so",
    "start": "2980280",
    "end": "2986119"
  },
  {
    "text": "almost impressive um that and that was a concurrent not distributed system but",
    "start": "2986119",
    "end": "2993359"
  },
  {
    "text": "can the principles that you've used here be um used in a parallel version of this",
    "start": "2993359",
    "end": "2999040"
  },
  {
    "text": "that can be deployed on AWS from much larger scale",
    "start": "2999040",
    "end": "3004520"
  },
  {
    "text": "simulation uh I mean there's only so much you can as a human there's only so",
    "start": "3004520",
    "end": "3009559"
  },
  {
    "text": "much visual input you can take in uh if you're just trying to collect data like if I wanted to know over a billion runs",
    "start": "3009559",
    "end": "3018359"
  },
  {
    "text": "of RA leader election what's the performance sure oh what are the arest",
    "start": "3018359",
    "end": "3024599"
  },
  {
    "text": "conditions how often do they you know they Do's a condition occur that um you",
    "start": "3024599",
    "end": "3030280"
  },
  {
    "text": "could you you put watches on it that's what you do on a even when you're debugging a single system you put a",
    "start": "3030280",
    "end": "3035319"
  },
  {
    "text": "watch on things and let the r run until it hits the Watcher but but the scalability problem you'd have to make",
    "start": "3035319",
    "end": "3041920"
  },
  {
    "text": "this distributed system itself to run across a thousand nodes yeah yeah then",
    "start": "3041920",
    "end": "3048319"
  },
  {
    "text": "no nodes crash resilient distributed system well if you if you lose a few",
    "start": "3048319",
    "end": "3056000"
  },
  {
    "text": "simulations I don't think it's a big deal but so I'd like to support comment",
    "start": "3056000",
    "end": "3061960"
  },
  {
    "text": "I think what you're doing is great I think it's absolutely needed and you know we're all frustrated",
    "start": "3061960",
    "end": "3068680"
  },
  {
    "text": "because you're beginning not ending and we're all looking for the end",
    "start": "3068680",
    "end": "3074760"
  },
  {
    "text": "yeah and it's it's difficult I mean if um it's it's a hard it's hard to get",
    "start": "3074760",
    "end": "3080880"
  },
  {
    "text": "people to shift to adopting this and and doing it early enough for it to have",
    "start": "3080880",
    "end": "3087160"
  },
  {
    "text": "value um so I I don't know uh you know maybe here in a in an academic setting",
    "start": "3087160",
    "end": "3093520"
  },
  {
    "text": "where visualization might be more important maybe it could get a foothold um I've done something similar but I had",
    "start": "3093520",
    "end": "3100640"
  },
  {
    "text": "to write JavaScript so I'm writing what this compiles to basically and that's",
    "start": "3100640",
    "end": "3105760"
  },
  {
    "text": "much harder so this this would be very nice to have for what I've done for Paul and what problem were you modeling there",
    "start": "3105760",
    "end": "3112480"
  },
  {
    "text": "distributed data center cool yeah so but I've always",
    "start": "3112480",
    "end": "3118040"
  },
  {
    "text": "written scripting code as the first implementation not going directly to",
    "start": "3118040",
    "end": "3123920"
  },
  {
    "text": "production exactly the reason you point out",
    "start": "3123920",
    "end": "3128359"
  },
  {
    "text": "here can you say something about your experience with rust um did it give you any surprises were the things that you",
    "start": "3129319",
    "end": "3135680"
  },
  {
    "text": "like things dislike I was also very curious about that yeah so I should",
    "start": "3135680",
    "end": "3141240"
  },
  {
    "text": "preface it with uh this was rust version 0.8 so uh a while while ago now and this",
    "start": "3141240",
    "end": "3148480"
  },
  {
    "text": "was back when uh there were a few more symbols around different pointer types",
    "start": "3148480",
    "end": "3153720"
  },
  {
    "text": "that you could have that I I believe they've simplified since then um it so",
    "start": "3153720",
    "end": "3160400"
  },
  {
    "text": "so this so I I wrote uh just what I was describing a simulator uh it was parallel not",
    "start": "3160400",
    "end": "3167880"
  },
  {
    "text": "distributed for raft leader election and I was messing with the algorithm and and",
    "start": "3167880",
    "end": "3172960"
  },
  {
    "text": "seeing uh how it behave under different assumptions",
    "start": "3172960",
    "end": "3178160"
  },
  {
    "text": "um I think you know it's it's fast it kept me from shooting myself in the foot",
    "start": "3178160",
    "end": "3183880"
  },
  {
    "text": "a couple times even though I've written a lot of C++ um it it also uh you know the type",
    "start": "3183880",
    "end": "3192880"
  },
  {
    "text": "system got in the way a couple places and and it you have to you have to think",
    "start": "3192880",
    "end": "3199319"
  },
  {
    "text": "about how you'll defign your program to uh to satisfy the type Checker ahead of",
    "start": "3199319",
    "end": "3204799"
  },
  {
    "text": "time uh so I think it it takes some transition period I would say the typ justst and",
    "start": "3204799",
    "end": "3211480"
  },
  {
    "text": "getting in the way is a positive thing it prevents you from making very hard to",
    "start": "3211480",
    "end": "3216520"
  },
  {
    "text": "find errors yeah um no they there're they're from good from bad there and and",
    "start": "3216520",
    "end": "3223079"
  },
  {
    "text": "I as I've said it's improved since then but there's like um you know there's some patterns like I I think at the time",
    "start": "3223079",
    "end": "3230760"
  },
  {
    "text": "say say you did a for Loop to do a linear search you find the element you want and then you want to update that",
    "start": "3230760",
    "end": "3236599"
  },
  {
    "text": "element and break out of the loop I wouldn't let you do that at the time I think you can now would you use game",
    "start": "3236599",
    "end": "3245000"
  },
  {
    "text": "would I use rust again only if I had an excuse to um you know it it",
    "start": "3245000",
    "end": "3252200"
  },
  {
    "text": "uh it it's a fun language I like it a lot compared to C++ um but practically",
    "start": "3252200",
    "end": "3259400"
  },
  {
    "text": "speaking I don't have an excuse to use either one right now I've been writing go code lately",
    "start": "3259400",
    "end": "3268359"
  },
  {
    "text": "okay uh I'm happy to stick around with qu to chat or answer questions but I",
    "start": "3271359",
    "end": "3276559"
  },
  {
    "text": "think that's [Applause]",
    "start": "3276559",
    "end": "3282760"
  },
  {
    "text": "it",
    "start": "3289680",
    "end": "3292680"
  }
]