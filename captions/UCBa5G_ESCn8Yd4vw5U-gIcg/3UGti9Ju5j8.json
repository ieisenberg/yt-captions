[
  {
    "text": "Hi everyone. So we're gonna start the, um, the Bake-off 4 Report. So the task.",
    "start": "5270",
    "end": "11460"
  },
  {
    "text": "So, um, for this Bake-off, we had to do word-level natural language inference with binary classification.",
    "start": "11460",
    "end": "17475"
  },
  {
    "text": "So, basically we wanna be predicting, um, the word entailment given two words. So, um, we had a disjoint train- train test split which reflects",
    "start": "17475",
    "end": "25710"
  },
  {
    "text": "our expectation that we wanna be able to generalize on unseen words and vocabs.",
    "start": "25710",
    "end": "30734"
  },
  {
    "text": "So our evaluation dataset consisted of 1,767 negative labels and 446 positive labels,",
    "start": "30735",
    "end": "37730"
  },
  {
    "text": "which is a pretty, um, unbalanced dataset. And thus our evaluation metric was Macro F1 Score.",
    "start": "37730",
    "end": "45895"
  },
  {
    "text": "So, um, some people actually reported their Micro F1 or the weighted F1, but we only looked at the, um, the Macro F1.",
    "start": "45895",
    "end": "52805"
  },
  {
    "text": "The Micro F1 and the weighted F1 were a bit higher than the- than the, um, Macro F1. And Macro F1 is a de- desirable matrix because,",
    "start": "52805",
    "end": "61379"
  },
  {
    "text": "um, because of data imbalance. So this is a histogram of the submission scores.",
    "start": "61380",
    "end": "68165"
  },
  {
    "text": "As you can see, um, the baseline is right around 0.67. And, um, as you can see",
    "start": "68165",
    "end": "74420"
  },
  {
    "text": "all people were able to surpass the baseline, which is really good. As usual, we're gonna look at the, um,",
    "start": "74420",
    "end": "80980"
  },
  {
    "text": "the VSM results for top per- performing models than the, um, the less significant ones.",
    "start": "80980",
    "end": "86885"
  },
  {
    "text": "So, um, for the top submissions, so, um, as you can see the GloVe embedding was being used very frequently.",
    "start": "86885",
    "end": "92615"
  },
  {
    "text": "And as you can see from the variable name such as torch.tensor, you can see that they probably played around with neural network frameworks.",
    "start": "92615",
    "end": "100190"
  },
  {
    "text": "[NOISE] And this probably doesn't have to do a lot with the design but, um, the top submissions they had the, um,",
    "start": "100190",
    "end": "106270"
  },
  {
    "text": "the variable name custom_experiment a lot, which we thought was, um, pretty interesting. And let's take a look at the,",
    "start": "106270",
    "end": "114105"
  },
  {
    "text": "um, the bottom performing models. As you can see, there are a lot of numbers which probably means that people handpicked hyperparameters.",
    "start": "114105",
    "end": "121610"
  },
  {
    "text": "And again, um, as you can see the- the variable name word_disjoint_experiment appeared a lot more in,",
    "start": "121610",
    "end": "127560"
  },
  {
    "text": "um, the bottom submission than in top submissions. All right. And- So, um, the first place goes to group 26.",
    "start": "127560",
    "end": "135900"
  },
  {
    "text": "Congratulations, um. They got the score of 0.7852. Is group 26 here?",
    "start": "135900",
    "end": "142460"
  },
  {
    "text": "And, um, what they did was they used a combination of BERT Sequence Classification Model with oversampling.",
    "start": "142460",
    "end": "148970"
  },
  {
    "text": "So, um, they used transfer learning. They used the pre-trained BERT, um,",
    "start": "148970",
    "end": "154850"
  },
  {
    "text": "end-to-end sequence classification model, and then they trained on our training dataset and, um, tested on the validation set.",
    "start": "154850",
    "end": "161165"
  },
  {
    "text": "And in order to account for the data imbalance, they used oversampling, [NOISE] specifically, um, the Random Oversampler.",
    "start": "161165",
    "end": "167000"
  },
  {
    "text": "They randomly sampled with replacement, um, the current available samples, to make- to balance out the,",
    "start": "167000",
    "end": "172100"
  },
  {
    "text": "um, the label distribution. And the second place goes to group 9.",
    "start": "172100",
    "end": "177694"
  },
  {
    "text": "Is group 9 here? Congratulations, um. You got the score of 0.7541.",
    "start": "177695",
    "end": "184235"
  },
  {
    "text": "So what they did was they used Facebook's InferSent Model. And they pre-trained the- the InferSent model on the SNLI,",
    "start": "184235",
    "end": "192764"
  },
  {
    "text": "Stanford NLI corpus dataset. And they transferred the weights and then they added an extra layer at the end for binary classification.",
    "start": "192764",
    "end": "199144"
  },
  {
    "text": "And for the, um, data imbalanced problem, they used weighted loss. And they set, they set the weights to 1 and 5.3,",
    "start": "199145",
    "end": "206035"
  },
  {
    "text": "meaning that they gave 5 times more emphasis to class 1 than class 0. So, um, the both, these top submissions,",
    "start": "206035",
    "end": "211760"
  },
  {
    "text": "the top first and the top second. They used transferred learning and some type of weight to balance out the data imbalance.",
    "start": "211760",
    "end": "217750"
  },
  {
    "text": "Which was really impressive, um. Okay, moving on. We also looked at the models that,",
    "start": "217750",
    "end": "223520"
  },
  {
    "text": "um, that performed the worst. And we figured out some things that didn't really quite work. So first of all, um,",
    "start": "223520",
    "end": "229640"
  },
  {
    "text": "element wise multiplication is not a good function to combine vectors. And for this task,",
    "start": "229640",
    "end": "236480"
  },
  {
    "text": "shallow networks linear- linear regressions or SVMs did not work as well as the deep neural classifiers.",
    "start": "236480",
    "end": "243500"
  },
  {
    "text": "This is kind of understandable because, um, for this task it's really hard to, um, handcraft, um the feature representations.",
    "start": "243500",
    "end": "251145"
  },
  {
    "text": "Okay, um, that's all I have. Any questions? Cool.",
    "start": "251145",
    "end": "260190"
  },
  {
    "text": "All right, thank you Min. Ah, that was cool. I guess a few comments about that. So first, the same team that won this time won Bake-Off 2.",
    "start": "260190",
    "end": "268384"
  },
  {
    "text": "As far as I know that's unprecedented that the same group won two bake-offs. Although I do remember that on",
    "start": "268385",
    "end": "276560"
  },
  {
    "text": "separate teams last year finished in the top two or three on two of the Bake-offs, which is also very impressive.",
    "start": "276560",
    "end": "281660"
  },
  {
    "text": "But it's striking that, uh, the same team won. And I believe that they won with broadly the same approach,",
    "start": "281660",
    "end": "287330"
  },
  {
    "text": "which is BERT with some task specific fine-tuning, and then a few other tricks that are specific to the dataset.",
    "start": "287330",
    "end": "294220"
  },
  {
    "text": "Um, and that's pretty cool. Um, next week we're gonna be talking about BERT and ELMo and the Transformer,",
    "start": "294220",
    "end": "300410"
  },
  {
    "text": "and that might give us some insight into why those techniques are working so well. So stay tuned on that.",
    "start": "300410",
    "end": "306740"
  },
  {
    "text": "The other thing I wanted to say is just, I mentioned this last week, it's really cool now that a bunch of you have done",
    "start": "306740",
    "end": "312620"
  },
  {
    "text": "really serious work on four separate NLU tasks. You develop custom models for them.",
    "start": "312620",
    "end": "317720"
  },
  {
    "text": "Some of the things that you did are incredibly ambitious, and I just think that's cool in terms of you having experiences to",
    "start": "317720",
    "end": "323150"
  },
  {
    "text": "report and now experiences to draw on when you go forth and do your own projects. So congratulations to you all.",
    "start": "323150",
    "end": "330240"
  },
  {
    "text": "The plan for this week is to try to do things that will be like directly relevant to your projects whatever they are.",
    "start": "330440",
    "end": "339485"
  },
  {
    "text": "Because it's- it's kind of awkward to be introducing new topical material now when we",
    "start": "339485",
    "end": "345289"
  },
  {
    "text": "know that you all are probably focused on whatever special thing that you're doing for your own projects.",
    "start": "345290",
    "end": "351560"
  },
  {
    "text": "But this is a nice moment in which to start talking openly about methods and metrics and things like that",
    "start": "351560",
    "end": "357530"
  },
  {
    "text": "because the next major assignment that you have to do is this new document that we're calling an Experimental Protocol,",
    "start": "357530",
    "end": "365645"
  },
  {
    "text": "which is replacing the kind of milestone document that we have used in years past.",
    "start": "365645",
    "end": "371629"
  },
  {
    "text": "So in years past you did the lit review, and then the milestone was a kind of generic check-in.",
    "start": "371630",
    "end": "377110"
  },
  {
    "text": "And it was kind of an attempt to make sure that you were working steadily on the projects. What we- what we're trying to do with this new approach to this interim report,",
    "start": "377110",
    "end": "387020"
  },
  {
    "text": "is kind of save you from yourselves to make sure that you're incrementally working on these projects.",
    "start": "387020",
    "end": "392225"
  },
  {
    "text": "But also to kind of codify our belief that it's valuable to be doing a particular kind of quantitative evaluation,",
    "start": "392225",
    "end": "399320"
  },
  {
    "text": "and also encourage you to start talking in a detailed way with your teaching team mentor about exactly how the project should be structured,",
    "start": "399320",
    "end": "407319"
  },
  {
    "text": "what kinds of experiments you could be running, what kind of additional data you could bring in, and so forth.",
    "start": "407320",
    "end": "412895"
  },
  {
    "text": "So let me just walk through this to make sure it's clear kind of what we're expecting. It's due on the 27th.",
    "start": "412895",
    "end": "419710"
  },
  {
    "text": "It's a highly structured report in the sense that you could just copy out these prompts if you wanted to and fill them in.",
    "start": "419710",
    "end": "425680"
  },
  {
    "text": "Um, you don't need to invest in writing a nicely structured paper. I think it would actually be valuable for the team if you kind of stuck to this framework",
    "start": "425680",
    "end": "434350"
  },
  {
    "text": "because in turn this is the framework that we're gonna use as a kind of rubric to evaluate the work.",
    "start": "434350",
    "end": "440155"
  },
  {
    "text": "So right off the bat, we want you to state a hypothesis or hypotheses.",
    "start": "440155",
    "end": "445555"
  },
  {
    "text": "Um, I think that this is often not done or not done enough in NLU and NLP.",
    "start": "445555",
    "end": "451780"
  },
  {
    "text": "And one reason that I can make that inference is that, in recent years, if you review for ACL,",
    "start": "451780",
    "end": "457180"
  },
  {
    "text": "they have started codifying exactly this requirement in their referee form. So as a reviewer,",
    "start": "457180",
    "end": "463230"
  },
  {
    "text": "you're meant to state back to the authors and to the area editors exactly what the hypotheses are.",
    "start": "463230",
    "end": "469760"
  },
  {
    "text": "To kind of get everyone thinking about whether or not the paper is doing something beyond just throwing a bunch of parts together and running a quantitative evaluation.",
    "start": "469760",
    "end": "478280"
  },
  {
    "text": "So we want you to state your hypothesis. These hypotheses can take many forms, and this will depend a lot on what kind of project you're doing.",
    "start": "478280",
    "end": "486395"
  },
  {
    "text": "It could be something as simple as, \"My hypothesis is that for my dataset,",
    "start": "486395",
    "end": "492325"
  },
  {
    "text": "the transformer is a better model than an RNN at making the relevant predictions,\" right.",
    "start": "492325",
    "end": "498660"
  },
  {
    "text": "That would be kind of functional kind of engineering oriented, but it is nonetheless a hypothesis.",
    "start": "498660",
    "end": "504335"
  },
  {
    "text": "And if you reflect on why you believe in your hypothesis, that might you lead- lead you to even deeper insights like,",
    "start": "504335",
    "end": "509870"
  },
  {
    "text": "for my dataset which is structured in a particular way, the transformer has the right kind of structure to reflect the data, something like that.",
    "start": "509870",
    "end": "517669"
  },
  {
    "text": "But it could be quite functional and just describe what kind of experiments you wanna do. But it could be something as interesting as,",
    "start": "517670",
    "end": "524690"
  },
  {
    "text": "\"I believe that in processing Project Gutenberg files I can tell whether the author",
    "start": "524690",
    "end": "530030"
  },
  {
    "text": "is a man or a woman based on their portrayor- portrayal of female characters.\"",
    "start": "530030",
    "end": "535730"
  },
  {
    "text": "Which is a really interesting hypothesis from a past year that a project team did. I think it's one of the ones we picked as the- as a top project, right.",
    "start": "535730",
    "end": "543480"
  },
  {
    "text": "And that would be more social sciences oriented and more removed from the particular modeling tools that they're using.",
    "start": "543480",
    "end": "549490"
  },
  {
    "text": "Because they're just saying like, \"This is a signal that I can detect using NLP tools.\" And there's lots of stuff in between those two extremes.",
    "start": "549490",
    "end": "557735"
  },
  {
    "text": "The point is state it, state it as clearly as you can and start talking about it with your mentor. Makes sense?",
    "start": "557735",
    "end": "567170"
  },
  {
    "text": "Then as you can imagine, coming in at second here, data, we want a description of the datasets.",
    "start": "567480",
    "end": "574445"
  },
  {
    "text": "It could be again, it's something as simple as, \"I'm using MultiNLI,\" or something as complicated as,",
    "start": "574445",
    "end": "580010"
  },
  {
    "text": "\"Here is my procedure for crowd-sourcing a web scraped custom dataset that I developed for this project.\"",
    "start": "580010",
    "end": "585950"
  },
  {
    "text": "For the first one it's probably okay to just mention it and give the relevant citation. For the second one, I think it would be helpful",
    "start": "585950",
    "end": "591964"
  },
  {
    "text": "if you gave us some details on the nature of the dataset. Because, for example, our suggestions",
    "start": "591965",
    "end": "598279"
  },
  {
    "text": "for you are going to vary depending on whether or not you have 5,000 instances, 500 or 5 million.",
    "start": "598279",
    "end": "604320"
  },
  {
    "text": "And also in turn like the internal structure of the dataset will matter. So give us a clear picture of that.",
    "start": "604320",
    "end": "611770"
  },
  {
    "text": "Then the metrics, you'll state the metrics. That's gonna be one of our topics for this week.",
    "start": "611770",
    "end": "617089"
  },
  {
    "text": "These are gonna be the things that form the basis for your quantitative evaluation. If it's familiar, that's good, right.",
    "start": "617090",
    "end": "624570"
  },
  {
    "text": "If you're doing a classification problem with imbalanced data easy to justify that you- you're using Macro F1.",
    "start": "624570",
    "end": "630860"
  },
  {
    "text": "May be harder to justify Micro F1, but maybe you wanna do it.",
    "start": "630860",
    "end": "635965"
  },
  {
    "text": "May be harder still to justify something like an imbalanced version of the F1 score because you wanna favor precision or recall.",
    "start": "635965",
    "end": "643910"
  },
  {
    "text": "Or if you're working on something like dialogue agents, then as you'll see today or next time,",
    "start": "643910",
    "end": "651140"
  },
  {
    "text": "this is a tricky question exactly what metrics to use. Because it seems to me that all of the available ones have their own faults.",
    "start": "651140",
    "end": "658745"
  },
  {
    "text": "And so you might want to say, \"I'm gonna use perplexity, it has these known downsides, but then again for my project it's the right thing",
    "start": "658745",
    "end": "665510"
  },
  {
    "text": "because it fits intellectually,\" or you could just be up front and say, \"It's expedient because I don't have",
    "start": "665510",
    "end": "672529"
  },
  {
    "text": "any other kind of extrinsic evaluation I can run,\" right. Just be open and upfront about what choices you're making and why.",
    "start": "672530",
    "end": "679570"
  },
  {
    "text": "That's the spirit of this. And then we'll give you a response like, \"Hey, you know, I really feel you could go beyond your chosen metric.",
    "start": "679570",
    "end": "686315"
  },
  {
    "text": "Here's a slightly better perspective on the problem or something like that.\" Then models, we want a description of the models that you'll be using.",
    "start": "686315",
    "end": "695080"
  },
  {
    "text": "And I think the thing to do here is remember that we don't just want a description of your favorite model,",
    "start": "695080",
    "end": "700180"
  },
  {
    "text": "the one that you're kind of advocating for, but also a statement of which models you'll be using as baselines.",
    "start": "700180",
    "end": "706165"
  },
  {
    "text": "Because as we're gonna talk about a little bit later today, none of these evaluation metrics really have any meaning in isolation.",
    "start": "706165",
    "end": "713019"
  },
  {
    "text": "If you repoint- report a 0.76 for your model, just as a lonely number there,",
    "start": "713020",
    "end": "718420"
  },
  {
    "text": "nobody has any idea what that means. If it's a familiar dataset, maybe we can fill in some background.",
    "start": "718420",
    "end": "724495"
  },
  {
    "text": "But then again, it should fall to you to fill that in. Um, and if it's an unfamiliar dataset, we just won't know.",
    "start": "724495",
    "end": "730345"
  },
  {
    "text": "So one thing you can do to provide that context is set up some baselines. And I'm gonna go over a bunch of ways that you can do this",
    "start": "730345",
    "end": "736660"
  },
  {
    "text": "where the baselines maybe get more and more ambitious. Um, but all of them will help us in understanding what you achieved.",
    "start": "736660",
    "end": "744310"
  },
  {
    "text": "[inaudible] dat- uh datasets and someone else already produced a model,",
    "start": "744310",
    "end": "749965"
  },
  {
    "text": "is that a case that, that number is our baseline number or do we need to run the actual [NOISE] dataset ourselves to generate that number? [NOISE].",
    "start": "749965",
    "end": "756399"
  },
  {
    "text": "Great question. Yeah, I think- certainly at this stage, the more published numbers you can provide the more context we'll have.",
    "start": "756400",
    "end": "765325"
  },
  {
    "text": "Um, we might encourage you also to fit some of your own baselines, um, especially if the published numbers are astronomically high.",
    "start": "765325",
    "end": "773395"
  },
  {
    "text": "Because then you might want to say like, okay somehow teams at Google have achieved 0.90 because of their vast resources,",
    "start": "773395",
    "end": "781930"
  },
  {
    "text": "but the competition I'm running is between two more modest models and mine still wins within that space,",
    "start": "781930",
    "end": "787270"
  },
  {
    "text": "and in which case your own baseline is serving as a kind of given your budget and time constraints and goals,",
    "start": "787270",
    "end": "793075"
  },
  {
    "text": "what the baseline is. But I think those upper bound numbers like top numbers and literature are great.",
    "start": "793075",
    "end": "799795"
  },
  {
    "text": "Human performance, if you know it, uh, information about inter-annotator agreement also valuable context for,",
    "start": "799795",
    "end": "805870"
  },
  {
    "text": "for what we can expect for your data. Yeah, great question. Others about the models?",
    "start": "805870",
    "end": "813355"
  },
  {
    "text": "This is kind of the heart of it here. Um, and what we'll be looking for this kind of leads",
    "start": "813355",
    "end": "818680"
  },
  {
    "text": "into this general reasoning part is a statement or brief statement of how the data and the models come together to inform your hypothesis.",
    "start": "818680",
    "end": "827065"
  },
  {
    "text": "And we have this as a separate item because we don't want you to take it for granted. We would like to hear your version of why your data and",
    "start": "827065",
    "end": "833740"
  },
  {
    "text": "models and baselines are gonna come together to achieve this. This is not idle work because if you do this well,",
    "start": "833740",
    "end": "839350"
  },
  {
    "text": "it's probably gonna be the basis for the abstract for your paper. Because this is more or less what you want from an abstract minus maybe,",
    "start": "839350",
    "end": "846010"
  },
  {
    "text": "maybe the abstract has some additional context. And then we would like a summary of your progress so far.",
    "start": "846010",
    "end": "852310"
  },
  {
    "text": "So what have you done? If you've run experiments and they're all in and you have confidence, that's great. Preliminary numbers are great.",
    "start": "852310",
    "end": "858160"
  },
  {
    "text": "What you still need to do, obstacles, that would be helpful to raise at this point. Um, things that we should know that might be blockers for you in getting all",
    "start": "858160",
    "end": "866350"
  },
  {
    "text": "that you want to achieve done by the time it's all due. And then don't forget this because we'll ding you for it,",
    "start": "866350",
    "end": "874225"
  },
  {
    "text": "references section, proper bibliography. Yeah.",
    "start": "874225",
    "end": "880165"
  },
  {
    "text": "So all questions should be a good foundation for our abstract, so what's the expected size of the experimental pro- protocol?",
    "start": "880165",
    "end": "887440"
  },
  {
    "text": "I don't know. Um, because I don't really think of the length as having",
    "start": "887440",
    "end": "893710"
  },
  {
    "text": "any kind of inherent virtues or, um, vices here. Um, how long would it take me to answer these questions?",
    "start": "893710",
    "end": "901420"
  },
  {
    "text": "It could be as short as a couple of pages, right? For some projects where it's like, my data is SNLI,",
    "start": "901420",
    "end": "908920"
  },
  {
    "text": "my hypothesis is that the Potts model is better than the some other model.",
    "start": "908920",
    "end": "914620"
  },
  {
    "text": "Um, my metric is going to be macro F1. My models I can sketch out. The general reasoning is clear like the Potts model is keyed into NLI,",
    "start": "914620",
    "end": "922870"
  },
  {
    "text": "the way no other is and here's why colon, you know, here's the- it wouldn't take me very long. Um, but if you're doing something quite custom",
    "start": "922870",
    "end": "930880"
  },
  {
    "text": "or you still have open questions like I've talked with a few people who, maybe even it's unclear what metrics they'll be able to use,",
    "start": "930880",
    "end": "937899"
  },
  {
    "text": "I think you might devote more space to it.",
    "start": "937900",
    "end": "940850"
  },
  {
    "text": "Any other questions? All right.",
    "start": "943080",
    "end": "951380"
  },
  {
    "text": "So I have- what we're gonna do for this week is, I have two notebooks that I'm gonna show you.",
    "start": "958200",
    "end": "964014"
  },
  {
    "text": "They're both posted at the website, they both have code and I've kind of alighted of- alighted the code for a lot of this presentation,",
    "start": "964015",
    "end": "970630"
  },
  {
    "text": "but it's there for you if you wanna get more hands-on with the material. But the first one is going to be on methods,",
    "start": "970630",
    "end": "977140"
  },
  {
    "text": "and the second one on metrics. Um, the metrics one I might not do too much lecturing about,",
    "start": "977140",
    "end": "982150"
  },
  {
    "text": "it's not the stuff of really compelling lectures, but I would like to just broadcast to you my framework for thinking",
    "start": "982150",
    "end": "988330"
  },
  {
    "text": "about these metrics and how you might choose your own and think about your own, um, and then you can kind of use that notebook as a reference.",
    "start": "988330",
    "end": "996670"
  },
  {
    "text": "And then more exciting, on Wednesday, he's gonna give, uh,",
    "start": "996670",
    "end": "1001740"
  },
  {
    "text": "a short presentation about what you might think of as like the 2.0 version of the traditional metrics and methods for NLP.",
    "start": "1001740",
    "end": "1008760"
  },
  {
    "text": "Where we go beyond the stuff that I'm gonna show you today and start thinking in a more serious way about what it means to truly generalize and maybe to truly have,",
    "start": "1008760",
    "end": "1018660"
  },
  {
    "text": "like what we could call understanding for a phenomenon or, or a domain or a task.",
    "start": "1018660",
    "end": "1023685"
  },
  {
    "text": "Um, and I think that's gonna be really fruitful because you all might want to push beyond like reporting macro F1 scores",
    "start": "1023685",
    "end": "1030480"
  },
  {
    "text": "and think about what  your systems have actually learned. And this is an opportunity for you to do that.",
    "start": "1030480",
    "end": "1036405"
  },
  {
    "text": "That kind of brings me to this overview here. So our primary goal is to talk about projects.",
    "start": "1036405",
    "end": "1042645"
  },
  {
    "text": "I can't do methods or metrics in a comprehensive way, but I hope I can give you a kind of foundation for thinking about all these issues.",
    "start": "1042645",
    "end": "1049425"
  },
  {
    "text": "And partly, what I wanna do is just bring some of this out int- into the open, because I have a feeling that a lot of it is",
    "start": "1049425",
    "end": "1054840"
  },
  {
    "text": "stuff that you're supposed to just kind of pick up on the streets. Um, everyone kinda presupposes it and you get",
    "start": "1054840",
    "end": "1060120"
  },
  {
    "text": "a feel for what the issues are and how to navigate this. And I was just hoping we'd have an open discussion about it basically.",
    "start": "1060120",
    "end": "1067455"
  },
  {
    "text": "And as I said, that brings me to the project. So I wanna make a few things clear about how we think about projects.",
    "start": "1067455",
    "end": "1073845"
  },
  {
    "text": "Um, first, we will never evaluate a project based on how good the results are.",
    "start": "1073845",
    "end": "1080355"
  },
  {
    "text": "Let me just make this font a little bigger. Okay. Uh, only those arrows are getting bigger.",
    "start": "1080355",
    "end": "1089820"
  },
  {
    "text": "[LAUGHTER] I hope you can- if not- if it's hard to read, you can follow along at the website.",
    "start": "1089820",
    "end": "1095400"
  },
  {
    "text": "All of the stuff is drawn from that main notebook, and I'll read it aloud. So just to emphasize again, we will never evaluate a project based on how good the results are.",
    "start": "1095400",
    "end": "1103440"
  },
  {
    "text": "I grant you that publication venues, have- they do this. Whether they have to is secondary,",
    "start": "1103440",
    "end": "1109020"
  },
  {
    "text": "but they do it and they do it because they have constraints on space that lead them to be only able to publish a few things,",
    "start": "1109020",
    "end": "1116700"
  },
  {
    "text": "and then all of science has a bias for positive evidence for things over negative results.",
    "start": "1116700",
    "end": "1123210"
  },
  {
    "text": "That's why you might get your paper rejected because you don't have state of the art results even if you have wonderful insights and analyses.",
    "start": "1123210",
    "end": "1130875"
  },
  {
    "text": "It's a sad thing about the state of publishing. And I think it's true all over science. But in CS224u, we are not subject to that first constraint.",
    "start": "1130875",
    "end": "1140475"
  },
  {
    "text": "Um, which means that we can do the right and good thing of valuing positive results,",
    "start": "1140475",
    "end": "1146070"
  },
  {
    "text": "negative results, and everything in between, right? So just because you got what looks like a state of",
    "start": "1146070",
    "end": "1152430"
  },
  {
    "text": "the art number on your dataset does not mean that you will get an A triple plus. And correspondingly, if your hypothesis totally falls flat but you",
    "start": "1152430",
    "end": "1161850"
  },
  {
    "text": "give a really stellar evaluation of it and like maybe some insights into why everything fell apart,",
    "start": "1161850",
    "end": "1167130"
  },
  {
    "text": "that could be an A plus paper, right? So we're going to evaluate you based on the appropriateness of your metrics,",
    "start": "1167130",
    "end": "1174420"
  },
  {
    "text": "the strength of your methods, and the extent to which you are open, and honest, and clear-eyed about the limits of your findings and other things like that.",
    "start": "1174420",
    "end": "1183075"
  },
  {
    "text": "And I've been trying to push this on people in office hours like, because of that first dynamic about publishing,",
    "start": "1183075",
    "end": "1189825"
  },
  {
    "text": "this is a rare opportunity for you to try something really wild and crazy. Uh, and, you know,",
    "start": "1189825",
    "end": "1195720"
  },
  {
    "text": "something that would just be too risky as a conference submission because you never know. And surely, you know,",
    "start": "1195720",
    "end": "1201000"
  },
  {
    "text": "the really earth-shaking ideas began as things that sounded too wild and crazy. In fact, my read on the whole history of deep learning is that it",
    "start": "1201000",
    "end": "1208590"
  },
  {
    "text": "was too wild and crazy for 30 years before it wasn't. Um, so you never know, right. Yeah, yeah.",
    "start": "1208590",
    "end": "1218530"
  },
  {
    "text": "So let's start walking through these issues. I think some of them seem obvious but all of them are worth reflection.",
    "start": "1220210",
    "end": "1226415"
  },
  {
    "text": "I would love to have your questions and comments I would love for this to be a bit of a dialog here. Start with stuff that's basic.",
    "start": "1226415",
    "end": "1232310"
  },
  {
    "text": "So data organization, you guys have heard about this. We have like the idea of a train dev test split.",
    "start": "1232310",
    "end": "1238370"
  },
  {
    "text": "Ah, and this is a common thing to see in large publicly available data sets.",
    "start": "1238370",
    "end": "1244055"
  },
  {
    "text": "Even before diving into the details of how this works as a community you should reflect on the fact that even this is a non-obvious choice, right?",
    "start": "1244055",
    "end": "1251540"
  },
  {
    "text": "Because in the background here is an assumption that you will develop a system using the training and dev data and then evaluate it on test data.",
    "start": "1251540",
    "end": "1261395"
  },
  {
    "text": "And the reason that we draw those from the same body of examples is we feel that that's in some sense a fair evaluation that um,",
    "start": "1261395",
    "end": "1271835"
  },
  {
    "text": "if my system has learned its parameters on the training data it ought to be able to da- generalize to data that is in some sense from",
    "start": "1271835",
    "end": "1278870"
  },
  {
    "text": "the same empirical distribution as the training data. And we think of that as a kind of fair evaluation.",
    "start": "1278870",
    "end": "1285485"
  },
  {
    "text": "It's not the only conceivable approach that you could have to evaluation. And in fact you might think it's kind of stacking the deck",
    "start": "1285485",
    "end": "1293420"
  },
  {
    "text": "in favor of all of the systems and overstating all of our results because you're given even before you look at",
    "start": "1293420",
    "end": "1299929"
  },
  {
    "text": "the test data a kind of guarantee that you'll be looking at similar examples. And you can imagine that the whole field took",
    "start": "1299930",
    "end": "1307130"
  },
  {
    "text": "an alternative route of saying our evaluations, the ones that we'll allow into our prestigious publishing venues are all gonna be",
    "start": "1307130",
    "end": "1314210"
  },
  {
    "text": "human subjects evaluations where humans have to deal with a system and give their ratings about whether the systems are good or not.",
    "start": "1314210",
    "end": "1320540"
  },
  {
    "text": "And, and we wouldn't value the numbers that we value in this course so much. So even this is a non-obvious choice and",
    "start": "1320540",
    "end": "1326720"
  },
  {
    "text": "the other part that might be kind of non-obvious about this is that the test data does come from the same body of examples as the training data.",
    "start": "1326720",
    "end": "1334279"
  },
  {
    "text": "And that's one where I can feel the community kind of starting to push back, starting to acknowledge more and more that",
    "start": "1334280",
    "end": "1341330"
  },
  {
    "text": "this is overstating what our systems can actually do. Um, and for example in this course the MultiNLI dataset is one that has",
    "start": "1341330",
    "end": "1350149"
  },
  {
    "text": "the mismatched test condition where you train on some genres and test on genres that you've never seen before.",
    "start": "1350150",
    "end": "1356690"
  },
  {
    "text": "That's starting to push back on the core assumption that you're seeing on this slide about train dev test.",
    "start": "1356690",
    "end": "1363020"
  },
  {
    "text": "And I think people aspire to do even more radical things to give up on this the, the way people tend to state it is training and testing on the same distribution.",
    "start": "1363020",
    "end": "1372005"
  },
  {
    "text": "Um, it's hard to know what it would mean to test on a different one because there's an infinitude of different data sets that you could",
    "start": "1372005",
    "end": "1378169"
  },
  {
    "text": "pick and surely trying to generalize a system trained on SLI and testing it on evaluating chairs and tables in the real-world, right?",
    "start": "1378170",
    "end": "1385880"
  },
  {
    "text": "Completely different data that's gonna fail. What's in between there that would be a more ambitious test.",
    "start": "1385880",
    "end": "1392299"
  },
  {
    "text": "Multi NLI is one gesture in that direction. But back down to earth many data sets that you study will have this kind of",
    "start": "1392300",
    "end": "1402410"
  },
  {
    "text": "split and as we've emphasized before you are- you're on the honor system to not use your test sets.",
    "start": "1402410",
    "end": "1408785"
  },
  {
    "text": "Like the paradigm for you if you're publishing is that you are on the honor system to do all your work on the train and dev sets,",
    "start": "1408785",
    "end": "1416090"
  },
  {
    "text": "never looking at test even if you possess it. And then just before publication with all the systems",
    "start": "1416090",
    "end": "1422060"
  },
  {
    "text": "done you run a single test evaluation, enter the numbers into your document and submit",
    "start": "1422060",
    "end": "1428105"
  },
  {
    "text": "and you're just at the mercy of what happened on test.",
    "start": "1428105",
    "end": "1431850"
  },
  {
    "text": "I don't know how often people really adhere to that. It's sort of scary to think about people compromising that position.",
    "start": "1433270",
    "end": "1439070"
  },
  {
    "text": "And I think that's one reason why you're seeing an increased use of test sets that are truly held out in the sense that they are on",
    "start": "1439070",
    "end": "1445460"
  },
  {
    "text": "Kaggle or held by a system and we may even keep track of how many times different teams are evaluating on that test set. Yeah.",
    "start": "1445460",
    "end": "1454625"
  },
  {
    "text": "Does that sort of mean that you, you wouldn't be able to analyze, like how you did on the test set ultimately?",
    "start": "1454625",
    "end": "1460745"
  },
  {
    "text": "Like if you're just running it and immediately submitting or you can't actually run it while you're still writing your paper is the idea that when you're",
    "start": "1460745",
    "end": "1467539"
  },
  {
    "text": "discussing your results you're discussing your dev results? That would be my preference. Maybe people differ on this but my preference would be that when you discuss,",
    "start": "1467540",
    "end": "1476330"
  },
  {
    "text": "when you do error analysis you do it on Dev because of this last point here, this test set.",
    "start": "1476330",
    "end": "1481760"
  },
  {
    "text": "People start hill climbing on it. So if you publish a wonderful paper with detel- detailed error analysis on your test set,",
    "start": "1481760",
    "end": "1488120"
  },
  {
    "text": "then I get to learn a lot about what works and what doesn't. Even if technically I have never peeked at the data set.",
    "start": "1488120",
    "end": "1494075"
  },
  {
    "text": "And in that way we would just end up with a lot like community hill climbing on the data.",
    "start": "1494075",
    "end": "1499220"
  },
  {
    "text": "So my preference would be that these are just kind of stark numbers that you see. Um, even that's going to allow some hill-climbing because",
    "start": "1499220",
    "end": "1506810"
  },
  {
    "text": "we can get a community-wide sense of what's working and what isn't. But yeah, that's my preference. Go ahead.",
    "start": "1506810",
    "end": "1513140"
  },
  {
    "text": "In the case where we have like totally different sets, right? Like we're, we're testing on a different distribution entirely.",
    "start": "1513140",
    "end": "1520024"
  },
  {
    "text": "Is it, there even not useful to kind of talk about like say you know you just do abysmally worse on",
    "start": "1520025",
    "end": "1525169"
  },
  {
    "text": "this new data set like that seems kind of notable that you would want to talk about like gosh there is something in my model that,",
    "start": "1525170",
    "end": "1531155"
  },
  {
    "text": "that sort of failed to capture this difference. Yeah, that's a fair point.",
    "start": "1531155",
    "end": "1537305"
  },
  {
    "text": "If you think there's some value you might, like if you- I mean if you're doing the thing of just saying like, \"Hey, this system that was trained on Twitter,",
    "start": "1537305",
    "end": "1544160"
  },
  {
    "text": "I'm going to apply it to the Wall Street Journal.\" And it falls down because the styles are very different for that Wall Street Journal data set.",
    "start": "1544160",
    "end": "1551330"
  },
  {
    "text": "I'm not even sure whether you're thinking of that as your final test set and it might be okay because it's more qualitative.",
    "start": "1551330",
    "end": "1557465"
  },
  {
    "text": "But I think it will depend on the circumstances. But if you're in this hypothetical situation, if you're releasing that Wall Street Journal test set and you want others to use it,",
    "start": "1557465",
    "end": "1566120"
  },
  {
    "text": "it probably benefits you to be kind of tight-lipped about it and maybe have a dev portion that is keyed into that.",
    "start": "1566120",
    "end": "1572780"
  },
  {
    "text": "[NOISE] Other questions about this? Yes.",
    "start": "1572780",
    "end": "1579560"
  },
  {
    "text": "It's seems that if you're [inaudible] your data set you then want to ensure that your sort of",
    "start": "1579560",
    "end": "1585425"
  },
  {
    "text": "class distribution is the same across the train test dev because sometimes if you're just arbitrary chunking up your data,",
    "start": "1585425",
    "end": "1593570"
  },
  {
    "text": "this might go sideways. You're raising a very important issue, yeah.",
    "start": "1593570",
    "end": "1598670"
  },
  {
    "text": "I agree with the core of it. We want similar distributions here. But this can get quite intricate as you can imagine.",
    "start": "1598670",
    "end": "1605300"
  },
  {
    "text": "If we think about problems that have different structures where I always think that the really scary version of this is what if your data set depends on a knowledge graph,",
    "start": "1605300",
    "end": "1613940"
  },
  {
    "text": "then how are you gonna do this in a way that's fair. Um, and these issues are arising in a more subtle form and",
    "start": "1613940",
    "end": "1619280"
  },
  {
    "text": "I'll show you some tools that help you manage some of these problems but you're absolutely right about the kind of core default insight.",
    "start": "1619280",
    "end": "1626040"
  },
  {
    "text": "The other point I wanted to make here is that even doing this presupposes a pretty large data set, like um,",
    "start": "1626860",
    "end": "1633710"
  },
  {
    "text": "if you do work in health care or something where every example is kind of hard won, you might be reluctant to hold out a test set because it really means that you're",
    "start": "1633710",
    "end": "1642110"
  },
  {
    "text": "giving up on a whole bunch of data that could be used and studied in an interesting way. So that brings me to this next thing here which should be like no fixed splits.",
    "start": "1642110",
    "end": "1651274"
  },
  {
    "text": "And some public data sets do have this property. And I think this can be good um,",
    "start": "1651275",
    "end": "1656540"
  },
  {
    "text": "but it does pose a challenge for assessment because for really robust comparisons,",
    "start": "1656540",
    "end": "1662615"
  },
  {
    "text": "you have to run all the models using whatever assessment regime you've picked.",
    "start": "1662615",
    "end": "1667730"
  },
  {
    "text": "Right? So if it does a bunch of experiments on one of these data sets and he splits in his way.",
    "start": "1667730",
    "end": "1673700"
  },
  {
    "text": "And I don't maybe know the details of how he did those splits. And I do different splits.",
    "start": "1673700",
    "end": "1678845"
  },
  {
    "text": "Strictly speaking if I want to compare our numbers now, I can't quite do it right um,",
    "start": "1678845",
    "end": "1684635"
  },
  {
    "text": "because for a really fair comparison we should be looking at exactly the same splits because who knows what",
    "start": "1684635",
    "end": "1690950"
  },
  {
    "text": "happened when we did these random divisions.",
    "start": "1690950",
    "end": "1694769"
  },
  {
    "text": "Let me just say that because I always want to balance this, that's the ideal. And so the ideal is that somehow I get from exactly his splits or his model and I rerun",
    "start": "1696220",
    "end": "1705320"
  },
  {
    "text": "everything in a super careful way and then my results table can be reported with no caveats.",
    "start": "1705320",
    "end": "1711125"
  },
  {
    "text": "That's the ideal. But of course we don't live maybe in the ideal world. We all wanna have room to say unfortunately,",
    "start": "1711125",
    "end": "1719645"
  },
  {
    "text": "I couldn't get exactly the splits that it's used. So my comparisons are informal in that sense but nonetheless reliable and I think",
    "start": "1719645",
    "end": "1728450"
  },
  {
    "text": "the important thing is that you report them and talk about their value but with that caveat attached.",
    "start": "1728450",
    "end": "1734585"
  },
  {
    "text": "And that's very different like if you think about reviewers being your antagonists.",
    "start": "1734585",
    "end": "1740450"
  },
  {
    "text": "If you just report these numbers without giving context, the reviewer might say thumbs down, those comparisons weren't fair.",
    "start": "1740450",
    "end": "1746585"
  },
  {
    "text": "It wasn't the same splits. If you give the caveat and acknowledge it, it's kind of harder for them because you've already",
    "start": "1746585",
    "end": "1752330"
  },
  {
    "text": "contextualized the results that you're offering. Yeah, you had a question?",
    "start": "1752330",
    "end": "1757820"
  },
  {
    "text": "Is there a point where you almost have enough data that over-fitting would be the goal? Like if you had all text ever written.",
    "start": "1757820",
    "end": "1764600"
  },
  {
    "text": "At that point would it be almost not be good to just over fit to that in the sense that you have so much data that if you fit it well then you just kind of fit text well.",
    "start": "1764600",
    "end": "1774740"
  },
  {
    "text": "Like it's so large that it might as well be as large as all utterances that will ever be produced by humans.",
    "start": "1774740",
    "end": "1780770"
  },
  {
    "text": "[LAUGHTER] I guess is like is there- is there sort of an implicit assumption that no dataset is too large,",
    "start": "1780770",
    "end": "1786945"
  },
  {
    "text": "that like every dataset; it doesn't matter how big it is, you still need some- something that has been held out in order to evaluate it properly?",
    "start": "1786945",
    "end": "1793650"
  },
  {
    "text": "I think I do want to stand by that. I think language is so complicated that you never see even",
    "start": "1793650",
    "end": "1800070"
  },
  {
    "text": "but the tiniest portion of the full distribution of utterances. We're incredibly creative with language.",
    "start": "1800070",
    "end": "1806325"
  },
  {
    "text": "We produce, um, entirely new utterances all the time, and that means there's always room for testing generalization.",
    "start": "1806325",
    "end": "1813870"
  },
  {
    "text": "Yeah, that's one of the exciting things about the domain I would say. Another question?",
    "start": "1813870",
    "end": "1819000"
  },
  {
    "text": "[BACKGROUND] Something about that, I feel like maybe if you're in a setting where you're just trying to that,",
    "start": "1819000",
    "end": "1824490"
  },
  {
    "text": "create like word vectors that encoded like a hybrid in your relation with WordNet, you could think that like the entirety of",
    "start": "1824490",
    "end": "1831600"
  },
  {
    "text": "WordNet taints all the relations you might need to use. So maybe in that setting, it's appropriate to train and test on the same data.",
    "start": "1831600",
    "end": "1837914"
  },
  {
    "text": "Because really, you're just trying to encode the relational information and it doesn't really matter like what you do in a general way as long as it can be accessed.",
    "start": "1837915",
    "end": "1845475"
  },
  {
    "text": "Oh, I see. So you don't mean literally the same data but rather just the same kind of dataset that gets split.",
    "start": "1845475",
    "end": "1852015"
  },
  {
    "text": "Yeah. In which case, I think your, your observation kicks in for sure. If we're looking at the dictionary of English,",
    "start": "1852015",
    "end": "1857625"
  },
  {
    "text": "we might think that this is the entirety of the domain. Yeah. For large datasets,",
    "start": "1857625",
    "end": "1866340"
  },
  {
    "text": "if they don't come with a predefined split as part of your project, you could impose splits and just say like here's",
    "start": "1866340",
    "end": "1872429"
  },
  {
    "text": "what I'm going to use and I don't look at the test data. Um, this can be nice. If you have the luxury of doing this,",
    "start": "1872430",
    "end": "1878550"
  },
  {
    "text": "I would do it because it simplifies your experimental setup in many ways as you'll see. Um, and in particular,",
    "start": "1878550",
    "end": "1884550"
  },
  {
    "text": "the second is important. You'll see that for very careful hyper- hyperparameter optimization you end up doing a lot of evaluations and having",
    "start": "1884550",
    "end": "1892620"
  },
  {
    "text": "fixed splits as opposed to doing something like cross-validation could dramatically reduce the number of things you have to do here,",
    "start": "1892620",
    "end": "1899879"
  },
  {
    "text": "and also just kind of yes simplifier li- like remove an inner loop from your experiment code as you'll see.",
    "start": "1899880",
    "end": "1906120"
  },
  {
    "text": "So I'd encourage you to do that, and then the qualifier there is just for small datasets. You might feel too constrained to leave out some data for testing.",
    "start": "1906120",
    "end": "1914885"
  },
  {
    "text": "And I'll talk about strateg- strategies for that next. Oh, yeah. That kind of brings me to this other mode; so cross-validation.",
    "start": "1914885",
    "end": "1923830"
  },
  {
    "text": "So instead of having fixed splits in cross validation, we take a set of examples x and partition them into two or more",
    "start": "1923830",
    "end": "1930540"
  },
  {
    "text": "train/test splits and average over the results in some way. You probably have heard about this before.",
    "start": "1930540",
    "end": "1937245"
  },
  {
    "text": "There are two kind of classes of ways you could do this. The first one, I'll call random splits. So in this case, shuffle your data,",
    "start": "1937245",
    "end": "1944715"
  },
  {
    "text": "hold out 10% of the data for training. Probably the rest for testing,",
    "start": "1944715",
    "end": "1950175"
  },
  {
    "text": "and run an experiment; and then make another split, randomly, run an experiment, and so forth.",
    "start": "1950175",
    "end": "1957870"
  },
  {
    "text": "And you can do that as many times as you want, and you might want to do it a lot to get some insight",
    "start": "1957870",
    "end": "1964679"
  },
  {
    "text": "into how much variance there is in your system's performance. Uh, relevant to that question in the back.",
    "start": "1964680",
    "end": "1969809"
  },
  {
    "text": "I'm sorry, I don't know your name, but this was a great insight that when I do this, I probably want to make sure that I have",
    "start": "1969810",
    "end": "1975480"
  },
  {
    "text": "the same distribution of labels across the splits. So Scikit makes this very easy. The, uh, relevant code has a keyword called stratified,",
    "start": "1975480",
    "end": "1983445"
  },
  {
    "text": "and you can just make sure that you've told the code to honor the distribution of the train and test,",
    "start": "1983445",
    "end": "1989130"
  },
  {
    "text": "have them equal across all these splits, and I think that will lead to more consistent evaluations.",
    "start": "1989130",
    "end": "1995590"
  },
  {
    "text": "The good and the bad of random splits. Okay. So the good is that you can create as many as you",
    "start": "1996050",
    "end": "2001730"
  },
  {
    "text": "want without having this impact the ratio of training to test examples. That'll become clear when we look at true cross-validation.",
    "start": "2001730",
    "end": "2009410"
  },
  {
    "text": "But the idea is that you can just run as many of these experiments as you want. Because probably, with a large dataset, there might as well be an infinite number of ways that you could do these divisions.",
    "start": "2009410",
    "end": "2018290"
  },
  {
    "text": "The bad is kind of related to that. There's actually no guarantee that every example will be used the same number of times for training and testing.",
    "start": "2018290",
    "end": "2027065"
  },
  {
    "text": "So depending on the nature of the splits that you do, you might be looking at kind of",
    "start": "2027065",
    "end": "2032750"
  },
  {
    "text": "distorted evaluations as you combine them and average them. But this has really nice flexibility to it.",
    "start": "2032750",
    "end": "2040130"
  },
  {
    "text": "And in situations where your model is pretty fast to train and test, the fact that you can do lots of splits this way without",
    "start": "2040130",
    "end": "2047950"
  },
  {
    "text": "impacting the ratio of train to test examples is very powerful. And will open the door to doing some testing of",
    "start": "2047950",
    "end": "2054369"
  },
  {
    "text": "the statistical differences of your systems. Let's contrast that with, um, oh,",
    "start": "2054370",
    "end": "2060740"
  },
  {
    "text": "and here, here are some, you know, some code that you can use. Scikit is as usual wonderful for helping you do this kind of thing.",
    "start": "2060740",
    "end": "2067859"
  },
  {
    "text": "Let's compare this with K-fold's cross-validation. This is different from the random train test split things.",
    "start": "2068050",
    "end": "2074870"
  },
  {
    "text": "So in K-folds, you divide your data into what are called K-folds there. So different sets here like fold 1, 2,",
    "start": "2074870",
    "end": "2081169"
  },
  {
    "text": "3 and you conduct K experiments. In each fold i- in each fold- sorry.",
    "start": "2081170",
    "end": "2088340"
  },
  {
    "text": "Sorry, at each of the experiments, fold i is used for assessment and the other folds are merged together for training.",
    "start": "2088340",
    "end": "2094385"
  },
  {
    "text": "So if I have three folds here, these are subsets of the examples. For experiment 1, I hold out fold 1,",
    "start": "2094385",
    "end": "2100685"
  },
  {
    "text": "train on 2 and 3 and test, and I get a number. In the second experiment,",
    "start": "2100685",
    "end": "2106070"
  },
  {
    "text": "I hold out 2, train on 1 and 3 and I get a number. So forth for the third one, here I test on fold 3 and train on 1 and 2.",
    "start": "2106070",
    "end": "2113270"
  },
  {
    "text": "So now, I've seen every combination of these three folds, and I get three numbers, and I can average them or something,",
    "start": "2113270",
    "end": "2118790"
  },
  {
    "text": "and maybe report if I do more folds, um, kind of confidence intervals around those means.",
    "start": "2118790",
    "end": "2124100"
  },
  {
    "text": "Let's do the good and the bad here. So the good and the bad kind of complementing the last few.",
    "start": "2124100",
    "end": "2131015"
  },
  {
    "text": "Every example appears in a train set exactly k minus 1 times and in- in the test set exactly once.",
    "start": "2131015",
    "end": "2136880"
  },
  {
    "text": "So that's nice. You have some guarantees about how you've gone through the data. I'd say the bad of this is that the size of K",
    "start": "2136880",
    "end": "2144140"
  },
  {
    "text": "determines the size of the train test splits. So with three fold cross validation, you train on 67%of the data and test on 33.",
    "start": "2144140",
    "end": "2152525"
  },
  {
    "text": "But with 10-fold, you train on 90 and test on 10. Those are very likely to be different experiment scenarios,",
    "start": "2152525",
    "end": "2159140"
  },
  {
    "text": "and I feel like two things have gotten muddled together when you're doing this. On the one hand, you wanted a lot of runs because you wanted",
    "start": "2159140",
    "end": "2165380"
  },
  {
    "text": "a real sense for a system performance across different settings. On the other hand, you end up changing",
    "start": "2165380",
    "end": "2171620"
  },
  {
    "text": "the size of the training and test data when you do that, uh, and that's just a consequence of the good here.",
    "start": "2171620",
    "end": "2177545"
  },
  {
    "text": "So it's not like we can blame the method. But if- that might steer you back toward random splits,",
    "start": "2177545",
    "end": "2184640"
  },
  {
    "text": "where you don't have this relationship, and all you're giving up on is this absolute guarantee up here.",
    "start": "2184640",
    "end": "2190680"
  },
  {
    "text": "Make sense? And as usual, as I said,",
    "start": "2193090",
    "end": "2201500"
  },
  {
    "text": "Scikit is great for this K-fold and stratified K-fold, and then it has these helper methods here;",
    "start": "2201500",
    "end": "2206630"
  },
  {
    "text": "cross validate and cross val score, which will allow you to, um, setup models and datasets and kind of under the hood,",
    "start": "2206630",
    "end": "2214280"
  },
  {
    "text": "do all of these evaluations so that you don't write nested for-loop code which is hard to maintain.",
    "start": "2214280",
    "end": "2220730"
  },
  {
    "text": "And the only two, um, tips I want to make there is first, when you use these guys,",
    "start": "2220730",
    "end": "2226684"
  },
  {
    "text": "you might be explicit about what your CV argument is so that you have absolute certainty that you are doing",
    "start": "2226685",
    "end": "2232955"
  },
  {
    "text": "stratified if you want to or just K-fold if you don't. If you're kind of nervous like me.",
    "start": "2232955",
    "end": "2238505"
  },
  {
    "text": "And then maybe more important is that when you do this, you set the scoring value.",
    "start": "2238505",
    "end": "2243560"
  },
  {
    "text": "If you don't set a scoring value for these functions, it's going to default to whatever the model's inbuilt score is.",
    "start": "2243560",
    "end": "2250924"
  },
  {
    "text": "And for example for a classifier that will be accuracy, and we've seen I think time and again that that's probably",
    "start": "2250925",
    "end": "2257240"
  },
  {
    "text": "not the metric that we want to be using for our evaluations. So you have to take the step of explicitly changing that to",
    "start": "2257240",
    "end": "2263990"
  },
  {
    "text": "macro F1 or whatever your choice is.",
    "start": "2263990",
    "end": "2270690"
  },
  {
    "text": "And just to mention a few variants K-fold has some special cases. Again, Scikit is good about this.",
    "start": "2271840",
    "end": "2277670"
  },
  {
    "text": "So in LeaveOneOut cro- LeaveOneOut cross-validation, you actually- this is an edge case of K-folds",
    "start": "2277670",
    "end": "2284570"
  },
  {
    "text": "where I hold out just a single example for testing, and train on all the r- rest and I do that, k- you know,",
    "start": "2284570",
    "end": "2290855"
  },
  {
    "text": "for every- the number of times that there are examples in my dataset and average the results. You would do that if you have a very small dataset in the relevant sense.",
    "start": "2290855",
    "end": "2300095"
  },
  {
    "text": "And there might be two ways that could be small. First, you might just have a tiny number of examples,",
    "start": "2300095",
    "end": "2305180"
  },
  {
    "text": "um, in which case, you'll be compelled to do this. The other situation would be that, maybe you have a very large dataset,",
    "start": "2305180",
    "end": "2311420"
  },
  {
    "text": "but you would like to conduct a valuation- an evaluation that is like at the level of users. And so, maybe every user is associated with 100,000 text,",
    "start": "2311420",
    "end": "2320300"
  },
  {
    "text": "and you have 12 users, so you actually have a quite large dataset. But if I wanna do this user-level evaluation,",
    "start": "2320300",
    "end": "2325999"
  },
  {
    "text": "suddenly, the data seem quite sparse. And in that case, you might do the LeaveOneOut thing.",
    "start": "2325999",
    "end": "2331340"
  },
  {
    "text": "And then finally, Scikit has a function called LeavePGroupsOut, that's actually quite sophisticated about helping",
    "start": "2331340",
    "end": "2338690"
  },
  {
    "text": "you to do splits that are not just the standard ones. So for example, it has keyword things that you can do to make sure that you",
    "start": "2338690",
    "end": "2346070"
  },
  {
    "text": "split along a temporal dimension which would be important for anything with a time series aspect to it.",
    "start": "2346070",
    "end": "2351335"
  },
  {
    "text": "Um, I think you could also manage things that needed to be divided by, like, demographic group, um,",
    "start": "2351335",
    "end": "2356780"
  },
  {
    "text": "or other things like structure in your data that aren't immediately evident from your labels,",
    "start": "2356780",
    "end": "2363080"
  },
  {
    "text": "uh, in which case, you know, if it's just the labels, then the stratified option will probably take care of that.",
    "start": "2363080",
    "end": "2369690"
  },
  {
    "text": "Good. So that's it for splits. [NOISE] Did I leave anything out in talking about all this stuff,",
    "start": "2371980",
    "end": "2379550"
  },
  {
    "text": "k-fold, cross-validation, stuff like that. Yeah.",
    "start": "2379550",
    "end": "2385460"
  },
  {
    "text": "So if you are putting forth like a trained model, would you ultimately train it on all the data,",
    "start": "2385460",
    "end": "2391115"
  },
  {
    "text": "and then just use this cross validation as like an approximation of the [NOISE] accuracy?",
    "start": "2391115",
    "end": "2397130"
  },
  {
    "text": "Probably not. If, if you have a fixed test set, then you certainly won't do what you just described.",
    "start": "2397130",
    "end": "2403760"
  },
  {
    "text": "I think- I think you would do a lot of cross-validation as part of development, uh, but then finally,",
    "start": "2403760",
    "end": "2409460"
  },
  {
    "text": "evaluate on the test set. So for example, if your dataset has just train test and no dev,",
    "start": "2409460",
    "end": "2415445"
  },
  {
    "text": "then in place of dev, you might do a lot of cross-validation runs inside the training data,",
    "start": "2415445",
    "end": "2420455"
  },
  {
    "text": "to get a sense for exactly how your system generalizes in all sorts of ways that you can throw at it,",
    "start": "2420455",
    "end": "2425615"
  },
  {
    "text": "and then evaluate on test. I think you would have these as your final evaluation numbers only for datasets that don't have a test set.",
    "start": "2425615",
    "end": "2433190"
  },
  {
    "text": "Because they're smaller, they weren't released with one. Uh, in which case, you know,",
    "start": "2433190",
    "end": "2438380"
  },
  {
    "text": "you get the benefits of not having just one number, just this test set number because maybe the test set was chosen very strangely,",
    "start": "2438380",
    "end": "2446150"
  },
  {
    "text": "and it's distorting progress on the dataset. It's kind of nice to know that we're reporting the average of a bunch of different runs,",
    "start": "2446150",
    "end": "2454400"
  },
  {
    "text": "gives us a sense of more robustness. On the other hand, you don't get that pristine kind of held out nature of a test set.",
    "start": "2454400",
    "end": "2462930"
  },
  {
    "text": "Other? Oh, yeah. So when you talk about test- on test set,",
    "start": "2465760",
    "end": "2473570"
  },
  {
    "text": "[NOISE] is there any intuition for how- think about the ratio between training and test that should be [NOISE] [inaudible]",
    "start": "2473570",
    "end": "2483080"
  },
  {
    "text": "That's a good question. I don't know it. I feel like you see 80-20, 75-25, 67-33, but I don't think there's much behind this.",
    "start": "2483080",
    "end": "2493205"
  },
  {
    "text": "It's probably people just stepping back and thinking like, what's a goo- a large enough number that the testing isn't gonna be kind of wild.",
    "start": "2493205",
    "end": "2500945"
  },
  {
    "text": "Um, but also, isn't gonna done- deny me too much training data. That's the best answer I can give.",
    "start": "2500945",
    "end": "2507830"
  },
  {
    "text": "Um, it certainly gets more interesting if you think about holding out much more test data,",
    "start": "2507830",
    "end": "2514475"
  },
  {
    "text": "how good can these systems get if I showed them only half the data, for example? But as a dataset creator,",
    "start": "2514475",
    "end": "2520280"
  },
  {
    "text": "you might be shooting yourself in the [NOISE] foot by doing that because people want lots of data to train on. And maybe it's that game theoretic back and forth that gets us to 80-20.",
    "start": "2520280",
    "end": "2529250"
  },
  {
    "text": "[NOISE] Yeah.",
    "start": "2529250",
    "end": "2534650"
  },
  {
    "text": "[NOISE] Systems and industry do they ultimately use a similar metric like,",
    "start": "2534650",
    "end": "2540490"
  },
  {
    "text": "you know, so almost the same thing as an academic setting when you have your training set of training data, and your test set, and all of that jazz?",
    "start": "2540490",
    "end": "2546789"
  },
  {
    "text": "That's a great question. Um, and contribute I see nodding. My first pass at this would be- the answer is yes.",
    "start": "2546790",
    "end": "2553520"
  },
  {
    "text": "But then one fascinating thing that might happen to you, um, is that your incentives are switched.",
    "start": "2553520",
    "end": "2559369"
  },
  {
    "text": "So in academia, we would kind of like all our systems to look good, and maybe that creates a bias for having them look better than they",
    "start": "2559370",
    "end": "2565369"
  },
  {
    "text": "are because that's the way you get published. In industry though, when you think about deploying a system,",
    "start": "2565370",
    "end": "2571880"
  },
  {
    "text": "if your- if your neck is on the line for that deployed system, [NOISE] you might take a much harder look at the kind of evaluations you're doing",
    "start": "2571880",
    "end": "2579500"
  },
  {
    "text": "to essentially get a conservative number about how it's gonna perform. And you might do much more kind of like truly te- held out testing on completely or,",
    "start": "2579500",
    "end": "2588965"
  },
  {
    "text": "you know, partially unrelated distributions. So that when you do deploy, you're not fired.",
    "start": "2588965",
    "end": "2595520"
  },
  {
    "text": "[NOISE] [LAUGHTER] Do other people who worked in industry wanna comment on that? It's an interesting dynamic. Yeah.",
    "start": "2595520",
    "end": "2602990"
  },
  {
    "text": "What you said sounds exactly right to me. I mean, um, your, um, the,",
    "start": "2602990",
    "end": "2610819"
  },
  {
    "text": "the question of incentives is, is [NOISE] complicated because like on the one hand, um, do you wanna get your project out the door?",
    "start": "2610820",
    "end": "2619160"
  },
  {
    "text": "[NOISE] On the other hand, do you also wanna keep your job? [LAUGHTER] So you kind of have, uh, conflicting incentives.",
    "start": "2619160",
    "end": "2626135"
  },
  {
    "text": "But I think, um, uh, ultimately, you want evaluations which reflect the true strength of the system.",
    "start": "2626135",
    "end": "2634295"
  },
  {
    "text": "Um, and doing a train te- test split and, and using this- the same kind of, um,",
    "start": "2634295",
    "end": "2641150"
  },
  {
    "text": "methodology that we're using in academia is pretty, pretty similar. [NOISE] Let's change topics a little bit.",
    "start": "2641150",
    "end": "2653105"
  },
  {
    "text": "Oh, another question. Yeah. Kind of [NOISE] piggybacking on what he was asking. Um, is there any point in say doing like",
    "start": "2653105",
    "end": "2660815"
  },
  {
    "text": "a meta study of like all the major datasets in a given domain,",
    "start": "2660815",
    "end": "2667310"
  },
  {
    "text": "and seeing what the best ratio of train test splits are? [NOISE]",
    "start": "2667310",
    "end": "2675080"
  },
  {
    "text": "How would you define best? I mean, it would get interesting very fast because, yeah, what do you mean by best? Well, I guess like which one offers the best validation performance?",
    "start": "2675080",
    "end": "2685100"
  },
  {
    "text": "Um, yeah. Let me- my answer is kind of yes like if you",
    "start": "2685100",
    "end": "2690500"
  },
  {
    "text": "could find a way to do this that offered, er, intel to the community so that we make better decisions going forward, we would all benefit.",
    "start": "2690500",
    "end": "2697010"
  },
  {
    "text": "It's kind of hard for me to see how we get the ideals right. I think a part of it would be you stating what your ideals were.",
    "start": "2697010",
    "end": "2703490"
  },
  {
    "text": "But you do remind me that there's another interesting thing you could do which is related to the split sizes which is to say,",
    "start": "2703490",
    "end": "2709925"
  },
  {
    "text": "okay, I have my fixed test set, and my default is to use all the training data. But maybe you're advocating for a system that really shines with very little data.",
    "start": "2709925",
    "end": "2720200"
  },
  {
    "text": "In which case, I think it would be smart for you to do evaluations where you reduce the amount of training data,",
    "start": "2720200",
    "end": "2726380"
  },
  {
    "text": "and maybe what you're doing is showing that. Okay. For all the training data, your competitor wins.",
    "start": "2726380",
    "end": "2731734"
  },
  {
    "text": "But you can get by on 10% of the data, and your system is still doing much better at that point than the other competitor.",
    "start": "2731735",
    "end": "2738500"
  },
  {
    "text": "That could be incredibly valuable because [NOISE] we never have enough data. And so we should in some sense favor systems that can thrive in that sparse area.",
    "start": "2738500",
    "end": "2747530"
  },
  {
    "text": "[NOISE]",
    "start": "2747530",
    "end": "2753635"
  },
  {
    "text": "Yes. Is that something that people actually do in papers? Like what you have just described.",
    "start": "2753635",
    "end": "2759905"
  },
  {
    "text": "Yes. Yeah. Okay. Yeah. And I think you could tie into like the general feeling that we should make efficient use of all the data that we have.",
    "start": "2759905",
    "end": "2766985"
  },
  {
    "text": "Yeah. Let's talk a bit about baselines.",
    "start": "2766985",
    "end": "2772265"
  },
  {
    "text": "Again, kind of maybe stuff we've been taking for granted but it's nonetheless we're thinking about these things.",
    "start": "2772265",
    "end": "2777605"
  },
  {
    "text": "Um, first of all, as I said before, we can never understand evaluation numbers in NLP in isolation.",
    "start": "2777605",
    "end": "2783875"
  },
  {
    "text": "And I feel like you get- you get it from both sides here because on the one hand, if you just try to publish a number like my system gets",
    "start": "2783875",
    "end": "2791975"
  },
  {
    "text": "0.95 or 0.99 even F1 on a dataset, you might think that you had- you just declare victory by default,",
    "start": "2791975",
    "end": "2799760"
  },
  {
    "text": "right, because you've solved the task. But what will actually happen is that your reviewers will say, Well, obviously, this is too easy.",
    "start": "2799760",
    "end": "2805730"
  },
  {
    "text": "Um, and in that ca -and then this is also like related to that deb- debugging phenomenon that might be depressing about NLP,",
    "start": "2805730",
    "end": "2812390"
  },
  {
    "text": "that if you get perfect performance, you probably don't cheer but rather think something is broken about my code.",
    "start": "2812390",
    "end": "2818809"
  },
  {
    "text": "[LAUGHTER] I can't be that good. Um, so even those really good numbers require maybe",
    "start": "2818810",
    "end": "2825410"
  },
  {
    "text": "human level performance and then at the other side of baseline. On the other hand,",
    "start": "2825410",
    "end": "2830914"
  },
  {
    "text": "if your system gets 0.60, um, you might despair but maybe it turns out that humans aren't a whole lot better,",
    "start": "2830915",
    "end": "2839015"
  },
  {
    "text": "and maybe the baseline is way below that. In which case, that 0.60 might mark real progress on the problem.",
    "start": "2839015",
    "end": "2845330"
  },
  {
    "text": "Uh, and that's a clear case where we need context , where you do not want people defaulting to what they think",
    "start": "2845330",
    "end": "2851195"
  },
  {
    "text": "0.60 means in the context of classification or something. So these baselines are really important for building good arguments.",
    "start": "2851195",
    "end": "2859340"
  },
  {
    "text": "Um, they shouldn't be an afterthought but rather pretty central to how you set up your hypotheses,",
    "start": "2859340",
    "end": "2864619"
  },
  {
    "text": "and you can hear us encouraging that with this protocol document. Um, that baselines are really important to building a good case.",
    "start": "2864620",
    "end": "2871745"
  },
  {
    "text": "And the other thing that you can do is use them to illuminate specific aspects of the problem that you're",
    "start": "2871745",
    "end": "2877279"
  },
  {
    "text": "studying or some virtue of your proposed system. And I think we've seen versions of this before, we didn't dwell on it.",
    "start": "2877280",
    "end": "2883789"
  },
  {
    "text": "But think like, if I have, uh, a model that's just summing GloVe vectors,",
    "start": "2883790",
    "end": "2888845"
  },
  {
    "text": "it's completely insensitive to word order. If I compare that to a model like, uh,",
    "start": "2888845",
    "end": "2893900"
  },
  {
    "text": "an RNN, which has a lot of word order dependence, and I show that the RNN is better,",
    "start": "2893900",
    "end": "2899270"
  },
  {
    "text": "then I've got a kind of intuitive indirect argument that word order matters for my dataset.",
    "start": "2899270",
    "end": "2904745"
  },
  {
    "text": "Um, and you can think of lots of other examples that will have that quality. Maybe you added some attention mechanisms to your NLI model.",
    "start": "2904745",
    "end": "2912380"
  },
  {
    "text": "And then the difference, you know, the gain that you get from that is kind of illuminating the fact that there are important kind of",
    "start": "2912380",
    "end": "2918890"
  },
  {
    "text": "dependencies between premise and hypothesis that a standard model was just missing out on.",
    "start": "2918890",
    "end": "2925350"
  },
  {
    "text": "Maybe forgotten but important to mention here random baselines, you might want to include them.",
    "start": "2928900",
    "end": "2934714"
  },
  {
    "text": "And this is, uh, I mean, often, the random baseline will be easy to construct like you could just say I'm gonna guess",
    "start": "2934715",
    "end": "2940100"
  },
  {
    "text": "proportional to the class label or I'm gonna just pick the majority class, those are two common baselines.",
    "start": "2940100",
    "end": "2946130"
  },
  {
    "text": "I mentioned the dummy classifier and dummy regressor here. These are both Scikit models,",
    "start": "2946130",
    "end": "2951320"
  },
  {
    "text": "just because they make it easy for you to build the dummy classifier into your standard experimental pipeline.",
    "start": "2951320",
    "end": "2959435"
  },
  {
    "text": "So maybe you're testing like five different models. You don't want to have a separate code base for doing the dummy classifier,",
    "start": "2959435",
    "end": "2966845"
  },
  {
    "text": "because it might- you might introduce bugs there or change the evaluation somehow or it might make it just very",
    "start": "2966845",
    "end": "2972619"
  },
  {
    "text": "hard to make sure all your models are seeing the same data. With dummy classifying regressor,",
    "start": "2972620",
    "end": "2978095"
  },
  {
    "text": "they have the same interface as all the other Scikit models and and in turn same interfaces all the models that we've",
    "start": "2978095",
    "end": "2984380"
  },
  {
    "text": "used for PyTorch and so forth in this class. Um, it's just that they don't make intelligent use of the features that you give them essentially.",
    "start": "2984380",
    "end": "2992089"
  },
  {
    "text": "Um, but that's kind of nice in terms of automating your workflows.",
    "start": "2992090",
    "end": "2997020"
  },
  {
    "text": "This is a subtler issue. This is kind of already pushing us beyond standard thinking about evaluation,",
    "start": "2999040",
    "end": "3005440"
  },
  {
    "text": "I've called this task specific baselines. It's worth considering whether your problem suggests a baseline that",
    "start": "3005440",
    "end": "3011650"
  },
  {
    "text": "will reveal something about the way the problem is posed or modeled. We've seen one example of this.",
    "start": "3011650",
    "end": "3017530"
  },
  {
    "text": "So in NLI, we saw that hypothesis only baselines can be very strong, much stronger than random guessing.",
    "start": "3017530",
    "end": "3024880"
  },
  {
    "text": "Uh, and I gave you an argument for why that is, I think there's a scientific reason at least in part for why these can be so strong.",
    "start": "3024880",
    "end": "3032424"
  },
  {
    "text": "Uh, another story that had some prominence a few years ago in some -there's a Story Close dataset,",
    "start": "3032425",
    "end": "3038650"
  },
  {
    "text": "and this is where you are given a passage, and you have to choose between a coherent and incoherent ending for that passage.",
    "start": "3038650",
    "end": "3045549"
  },
  {
    "text": "Um, and people reported a lot of progress on this, you know, numbers that looked pretty good compared to human performance.",
    "start": "3045550",
    "end": "3052119"
  },
  {
    "text": "Um, but then it all kind of got qualified by the fact that if you turned a classifer loose just on the endings without showing it the story,",
    "start": "3052120",
    "end": "3061300"
  },
  {
    "text": "it could come pretty close to those top numbers. And I don't said- have such a hopeful story",
    "start": "3061300",
    "end": "3067150"
  },
  {
    "text": "about that one as I do about the NLI baseline. This might indicate that there's a real problem with the dataset.",
    "start": "3067150",
    "end": "3073015"
  },
  {
    "text": "But separately from that, even if there is an issue, you can kind of partly overcome that by just saying",
    "start": "3073015",
    "end": "3078880"
  },
  {
    "text": "my baseline is this classifier that doesn't look at the story. It gets 70%,",
    "start": "3078880",
    "end": "3084025"
  },
  {
    "text": "and then let's see how much further we can get from that with the smart model and more intelligent use of the data, right?",
    "start": "3084025",
    "end": "3090970"
  },
  {
    "text": "So all is not lost even in a two type situation here. Yeah.",
    "start": "3090970",
    "end": "3100270"
  },
  {
    "text": "[inaudible] task specific baseline, do you essentially kind of implicitly encoding some prior knowledge about the problem in, in doing that, right?",
    "start": "3100270",
    "end": "3107934"
  },
  {
    "text": "Do you think there is any potential like risks when you take that approach?",
    "start": "3107935",
    "end": "3112550"
  },
  {
    "text": "What would be the risks that you'd be making the problem too hard for yourself?",
    "start": "3114000",
    "end": "3119080"
  },
  {
    "text": "If, if you end up encoding kind of the wrong information about that.",
    "start": "3119080",
    "end": "3124435"
  },
  {
    "text": "I think I see what you mean. So I don't- so do you think it holds for either of these two,",
    "start": "3124435",
    "end": "3131890"
  },
  {
    "text": "just to get a feel for what you're after? Not, not particularly. No.",
    "start": "3131890",
    "end": "3137029"
  },
  {
    "text": "I recognize that it's a danger. Um, so don't do it.",
    "start": "3137400",
    "end": "3144160"
  },
  {
    "text": "[LAUGHTER] I'm only part- partly joking in the sense that, if you do take this step, it's probably because you're giving a positive argument that you feel random,",
    "start": "3144160",
    "end": "3152800"
  },
  {
    "text": "it's just not a fair baseline for us to have picked. That's certainly what you would do in both of these situations.",
    "start": "3152800",
    "end": "3157930"
  },
  {
    "text": "Um, I guess I'd be kind of discouraging about just going off and seeing if you can cleverly construct task specific baselines that are really strong,",
    "start": "3157930",
    "end": "3167635"
  },
  {
    "text": "um, because you might end up introducing biases of the sort you're describing. But a lot of what I'm trying to do here is say,",
    "start": "3167635",
    "end": "3175105"
  },
  {
    "text": "I don't have the full answer because I don't know what the world is gonna throw at me, what task you're going to take on,",
    "start": "3175105",
    "end": "3181060"
  },
  {
    "text": "what your data will be like. The idea here is to just be thoughtful about it, and that like if you think about the really exceptional papers in our field,",
    "start": "3181060",
    "end": "3190015"
  },
  {
    "text": "they often have- first of all, they're thoughtful about all of their choices in my experience. Um, but they often also introduce these subtleties in a way",
    "start": "3190015",
    "end": "3198250"
  },
  {
    "text": "that moves us forward conceptually and not just quantitatively.",
    "start": "3198250",
    "end": "3203240"
  },
  {
    "text": "Okay. Another big topic is hyperparameter optimization. Uh, this is where we're gonna start using those Cloud credits I guess.",
    "start": "3208580",
    "end": "3218160"
  },
  {
    "text": "I gave this argument before, let me rehearse it and amplify it a little bit. So just for some terminology here.",
    "start": "3218160",
    "end": "3225195"
  },
  {
    "text": "In machine learning, the parameters of your model are those whose values are learned as part of our optimizing the model itself,",
    "start": "3225195",
    "end": "3232425"
  },
  {
    "text": "we often call those the weights or the coefficients. Let's take that as given as a definition and just say that",
    "start": "3232425",
    "end": "3238530"
  },
  {
    "text": "the hyperparameters of your model are any settings that are set by a process that is outside of the one that I described under 1.",
    "start": "3238530",
    "end": "3247599"
  },
  {
    "text": "Of course, the boundary between these two could get blurred, um, and moreover,",
    "start": "3248840",
    "end": "3254700"
  },
  {
    "text": "if you think about the space that I just defined for hyperparameters, it could end up including everything, including, like,",
    "start": "3254700",
    "end": "3261780"
  },
  {
    "text": "what kind of computer you're running on and what you had for breakfast. Um, but some clear examples here,",
    "start": "3261780",
    "end": "3269550"
  },
  {
    "text": "the regularization term for a classifier, that's a clear hyperparameter. We all have an intuition that those values",
    "start": "3269550",
    "end": "3275415"
  },
  {
    "text": "could pretty dramatically affect how your system performs. Other examples are like the dimensionality of your network if its deep learning,",
    "start": "3275415",
    "end": "3282860"
  },
  {
    "text": "the activation functions that you use could have a huge impact, the optimizer that you could use could have an impact,",
    "start": "3282860",
    "end": "3289100"
  },
  {
    "text": "especially for models that don't converge in a reliable way. Um, you could also think as I've done here,",
    "start": "3289100",
    "end": "3296100"
  },
  {
    "text": "\"What about, like, the way you normalize feature values? Uh, did you apply TF-IDF or PSA or something like that?\"",
    "start": "3296100",
    "end": "3304395"
  },
  {
    "text": "Um, we're kind of drifting farther and farther from the core parts of the model but I think you could think of all of these things as hyperparameters,",
    "start": "3304395",
    "end": "3311579"
  },
  {
    "text": "and we'll construe them pretty broadly. So here's the rationale for doing hyperparameter optimization.",
    "start": "3311580",
    "end": "3318840"
  },
  {
    "text": "There are lots of ways you could go at this, but here I've picked one, kind of, back and forth narrative. So suppose you ran experiments with models A, B,",
    "start": "3318840",
    "end": "3325650"
  },
  {
    "text": "and C and for each, you use the default hyperparameters as given by the implementations you're using, right?",
    "start": "3325650",
    "end": "3331920"
  },
  {
    "text": "So in scikit you just set up these models, you initialize them with no arguments. So I'm just at the mercy of what scikit picked.",
    "start": "3331920",
    "end": "3339040"
  },
  {
    "text": "And in doing that, you found that your model C performed best, and you report that in your paper and you think \"Ah, you know, victory.",
    "start": "3339040",
    "end": "3345080"
  },
  {
    "text": "I was rooting for C and it came out true.\" Your reviewer is going to ask or certainly wonder about a few things.",
    "start": "3345080",
    "end": "3352920"
  },
  {
    "text": "So first, \"Did you actually try any other values for the hyperparameters without reporting that?\" They might just wonder about your practices.",
    "start": "3352920",
    "end": "3360675"
  },
  {
    "text": "\"If not, would you have done that if your favorite model hadn't outperformed the others?\"",
    "start": "3360675",
    "end": "3367340"
  },
  {
    "text": "Perfectly legitimate question, right? You- maybe you didn't have to confront it, but suppose B had won your competition,",
    "start": "3367340",
    "end": "3372920"
  },
  {
    "text": "would you have thought, \"Well, wait a second. I need to think about whether or not I'm doing the regularization correctly.",
    "start": "3372920",
    "end": "3378780"
  },
  {
    "text": "Let me fiddle around with some values a little bit\"? And then you'd be off and running on some hill,",
    "start": "3378780",
    "end": "3383970"
  },
  {
    "text": "climbing toward your favorite thing. So the- what the reviewer might conclude here is that all we've learned at this stage is that",
    "start": "3383970",
    "end": "3390630"
  },
  {
    "text": "there's some setting of the hyperparameters that favors your model and disfavors the other one.",
    "start": "3390630",
    "end": "3395924"
  },
  {
    "text": "But the really cynical hard-beaten reviewer is gonna say, \"Well, I already knew that because I know that I can just craftily pick",
    "start": "3395925",
    "end": "3402930"
  },
  {
    "text": "these settings in a way that will make some model look terrible and other models look good.\" Right. If I'm given this as kind of behind the scenes fiddling,",
    "start": "3402930",
    "end": "3410640"
  },
  {
    "text": "then game over, we don't have a fair evaluation. So in response, you could give every model its best chance to succeed, right?",
    "start": "3410640",
    "end": "3420345"
  },
  {
    "text": "Let your models explore a really wide range of hyperparameters. For each model, choose the best settings",
    "start": "3420345",
    "end": "3426600"
  },
  {
    "text": "according to performance on your development data, and then report how the models do on those settings on all your test sets.",
    "start": "3426600",
    "end": "3434099"
  },
  {
    "text": "Right? If you go through that whole discourse there, your persistent reviewer might say, \"Well,",
    "start": "3434100",
    "end": "3440430"
  },
  {
    "text": "you didn't pick the right space of hyperparameters. You should have gone further, you should have tried these new variations,\" and I grant that,",
    "start": "3440430",
    "end": "3447210"
  },
  {
    "text": "but I mean, come on, you have to stop somewhere. So that's one kind of rationale.",
    "start": "3447210",
    "end": "3454710"
  },
  {
    "text": "The other would be just that you are open-mindedly trying to figure out what's best. Like, you've been placed in a situation where you have",
    "start": "3454710",
    "end": "3461400"
  },
  {
    "text": "to do a bake off for a class and you want to win, uh, and then all of the same dynamics kick in,",
    "start": "3461400",
    "end": "3466440"
  },
  {
    "text": "it's just that you're not arguing with someone but rather just trying to figure out how you can win the bake off.",
    "start": "3466440",
    "end": "3472215"
  },
  {
    "text": "Um, I think the same rationale applies cause you want to pick A, B, and C and really see each one in the best possible light.",
    "start": "3472215",
    "end": "3479695"
  },
  {
    "text": "And that's kind of the spirit of this, that we get a fair evaluation if we see A, B, and C all at their best, which means, like,",
    "start": "3479695",
    "end": "3487490"
  },
  {
    "text": "dressing them up to be the best they can be, and that comes back to the hyperparameters.",
    "start": "3487490",
    "end": "3493500"
  },
  {
    "text": "So here's the ideal for this kind of thing. For each hyperparameter to your model,",
    "start": "3494060",
    "end": "3500145"
  },
  {
    "text": "identify a really large set of values for it. Create a list of all the combinations of all the hyperparameter values,",
    "start": "3500145",
    "end": "3507750"
  },
  {
    "text": "this will be the full cross product of all the sets of values for all the features you identified as relevant.",
    "start": "3507750",
    "end": "3514520"
  },
  {
    "text": "For each of the settings, cross-validate it on the available training data",
    "start": "3514520",
    "end": "3519934"
  },
  {
    "text": "and then choose the settings that did best, train on all the data, and then evaluate your model in the usual way.",
    "start": "3519935",
    "end": "3527805"
  },
  {
    "text": "That's what you really ought to be doing I suppose by the logic that I gave you before. However, this could be very demanding.",
    "start": "3527805",
    "end": "3534059"
  },
  {
    "text": "Suppose that hyperparameter 1 has five values and 2 has ten, okay, now there are 50 settings.",
    "start": "3534060",
    "end": "3541350"
  },
  {
    "text": "If you add a third with two values, now your number of settings has jumped to 100.",
    "start": "3541350",
    "end": "3546960"
  },
  {
    "text": "Okay. Now you wanna do five-fold cross-validation, that means you're doing 500 runs,",
    "start": "3546960",
    "end": "3552540"
  },
  {
    "text": "and if you wanna do 10 random train test splits because you wanna, like, test whether or not your model is",
    "start": "3552540",
    "end": "3557760"
  },
  {
    "text": "statistically different or look at confidence intervals, now you're doing 5,000 runs of your model.",
    "start": "3557760",
    "end": "3562859"
  },
  {
    "text": "Boy, that got expensive fast, right? Um, and if each one of these models takes eight hours of GPU compute time,",
    "start": "3562860",
    "end": "3572640"
  },
  {
    "text": "well you can do the numbers here, um, because they're gonna get very expensive. Yeah, we have to- we have to back off from this idea a little bit.",
    "start": "3572640",
    "end": "3581595"
  },
  {
    "text": "This is untenable as a set of laws for a scientific community. If we actually said that the only people who could",
    "start": "3581595",
    "end": "3588420"
  },
  {
    "text": "publish were people who had made good on this entire thing here, then only people with vast amounts of money would be",
    "start": "3588420",
    "end": "3594180"
  },
  {
    "text": "able to publish at all, and in addition, we would have a distorting bias in favor of simple models because",
    "start": "3594180",
    "end": "3600720"
  },
  {
    "text": "those would be the models that you could really afford to do all these runs for. And I pick this- [NOISE] there- more and more you see these kind of things,",
    "start": "3600720",
    "end": "3609060"
  },
  {
    "text": "but this is from a nice paper on doing NLP for health care and they just note in their, uh, methods section in an appendix,",
    "start": "3609060",
    "end": "3616229"
  },
  {
    "text": "the performance of all above neural networks were tuned automatically using Google Vizier with a total of over 200,000 GPU hours.",
    "start": "3616229",
    "end": "3625890"
  },
  {
    "text": "So you figure like, \"Okay. At a dollar an hour, plus whatever Google is gonna take from me,",
    "start": "3625890",
    "end": "3631470"
  },
  {
    "text": "this could cost a quarter of a million dollars very easily.\" Um, we got you some Amazon credits,",
    "start": "3631470",
    "end": "3637530"
  },
  {
    "text": "but not close to that, I'm afraid. So we can't have that be the- the law that we live by.",
    "start": "3637530",
    "end": "3645030"
  },
  {
    "text": "We can have it as an ideal, but we shouldn't, um, allow others to expect it from us nor should we require it of other people.",
    "start": "3645030",
    "end": "3652680"
  },
  {
    "text": "We need to introduce some space for being pragmatic about these choices. So here is my view about how we could kind of alleviate this problem, and I've done this.",
    "start": "3652680",
    "end": "3662309"
  },
  {
    "text": "Again, this is very impressionistic, but in descending order of attractiveness to me as a reviewer or to my imaginary reviewers out there,",
    "start": "3662310",
    "end": "3671100"
  },
  {
    "text": "if I think about them being antagonists for me. So first, you could do some randins- random sampling and guided sampling, uh,",
    "start": "3671100",
    "end": "3679785"
  },
  {
    "text": "to allow your- to explore a really large space based on a fixed budget of runs.",
    "start": "3679785",
    "end": "3685380"
  },
  {
    "text": "So the random sampling part would be just that, I set up my grid as I did before,",
    "start": "3685380",
    "end": "3690825"
  },
  {
    "text": "and it has 500 settings, but I decide that I'm going to look at 50 of them.",
    "start": "3690825",
    "end": "3696450"
  },
  {
    "text": "And what the random sampler will do is pick 50 random settings,",
    "start": "3696450",
    "end": "3701685"
  },
  {
    "text": "and what I'll do is kind of have an expectation that that's a pretty good sample of the full space that I,",
    "start": "3701685",
    "end": "3707295"
  },
  {
    "text": "with only low probability, missed a setting that was gonna be really transformatively different.",
    "start": "3707295",
    "end": "3713070"
  },
  {
    "text": "And then there's a kind of variation on that that is cal- I've called guided sampling here,",
    "start": "3713070",
    "end": "3718260"
  },
  {
    "text": "which would be that you have maybe a separate model running that is trying to intelligently travel around in the hyperparameter space and make choices on that basis,",
    "start": "3718260",
    "end": "3727859"
  },
  {
    "text": "and you might think that that's better than random. The virtue of both of these strategies is you could just say, \"Look,",
    "start": "3727860",
    "end": "3733710"
  },
  {
    "text": "my budget is 50 runs,\" and that you won't in having, in doing that have to delimit",
    "start": "3733710",
    "end": "3739320"
  },
  {
    "text": "your hyperparameter space artificially because it could be wide and you're still just going to sample 50 times from it,",
    "start": "3739320",
    "end": "3745230"
  },
  {
    "text": "and I think this is pretty palatable to reviewers, especially since there's published evidence that random sampling is a good strategy.",
    "start": "3745230",
    "end": "3753119"
  },
  {
    "text": "Uh, and I included those links in the notebook on the website, and then guided sampling is another proven method and I'll show you- I'll link to,",
    "start": "3753120",
    "end": "3760710"
  },
  {
    "text": "uh, some software packages for doing that a little bit later. Is there evidence that the, like,",
    "start": "3760710",
    "end": "3766920"
  },
  {
    "text": "space of hyperparameters is really non-linear? That's a great question. I think it really is going",
    "start": "3766920",
    "end": "3773880"
  },
  {
    "text": "to depend on your model and your settings. Um, yeah.",
    "start": "3773880",
    "end": "3779310"
  },
  {
    "text": "Do- do you have anything more to say? [inaudible] So anything more than, uh, to ask.",
    "start": "3779310",
    "end": "3786869"
  },
  {
    "text": "You actually like have very, very convenience. [NOISE] Like you- you really want to use [inaudible] something like random sampling with a meaning.",
    "start": "3786870",
    "end": "3796950"
  },
  {
    "text": "It is this idea that you keep focusing on small areas as- as you are advancing on the,",
    "start": "3796950",
    "end": "3803845"
  },
  {
    "text": "uh, uh, process of finding hyperparameters. So you don't- you don't have to explore all things behavior, you kind of,",
    "start": "3803845",
    "end": "3812640"
  },
  {
    "text": "uh, constrain yourself to smaller and smaller areas. Maybe you see that you don't have like being able to.",
    "start": "3812640",
    "end": "3821540"
  },
  {
    "text": "Based on these [inaudible] my fault.",
    "start": "3821540",
    "end": "3828260"
  },
  {
    "text": "We've talked about the second strategy before. I'm sorry that these are all ones here.",
    "start": "3833940",
    "end": "3839050"
  },
  {
    "text": "[LAUGHTER] Um, you could do some search based on a few epochs of training.",
    "start": "3839050",
    "end": "3844165"
  },
  {
    "text": "Uh, so this is especially relevant I think in the context of deep learning models, where your model may take 1,000 epochs to converge and that would be very",
    "start": "3844165",
    "end": "3852730"
  },
  {
    "text": "expensive to do all of those runs and then check performance and select parameters on that basis.",
    "start": "3852730",
    "end": "3858579"
  },
  {
    "text": "But what you could do is have a background hypothesis that the future is gonna be like the past,",
    "start": "3858580",
    "end": "3864895"
  },
  {
    "text": "that a setting that was really bad at the start is just gonna remain bad, and in turn settings that are good in the start are gonna remain good.",
    "start": "3864895",
    "end": "3872994"
  },
  {
    "text": "Um, two things about that, you might not be able to prove it but you might be able to support it with some kind of learning curves that show what's",
    "start": "3872995",
    "end": "3880960"
  },
  {
    "text": "happening in those early things and maybe a few runs that project out further and show that your assumption is basically correct.",
    "start": "3880960",
    "end": "3887720"
  },
  {
    "text": "So you could do that to kind of build your case. Um, but you know, if you don't have the capacity to do that,",
    "start": "3887720",
    "end": "3894569"
  },
  {
    "text": "even just acknowledging that this is the strategy that you picked and giving a reason based on budget or other considerations,",
    "start": "3894570",
    "end": "3901020"
  },
  {
    "text": "I think will go a long way with reviewers because it kind of acknowledges that your choices were done on somewhat limited evidence,",
    "start": "3901020",
    "end": "3908615"
  },
  {
    "text": "um, but at least you know that that qualification exists. And again, this is kind of nice because you can control costs in this way",
    "start": "3908615",
    "end": "3916299"
  },
  {
    "text": "while still exploring a large space of parameters.",
    "start": "3916300",
    "end": "3920870"
  },
  {
    "text": "Search based on subsets of the data. That's another strategy that we explored off and on throughout this course,",
    "start": "3921960",
    "end": "3928585"
  },
  {
    "text": "um, and that would be that, you know, my actual dataset contains 500,000 examples but I'll do my tuning on 5,000",
    "start": "3928585",
    "end": "3935230"
  },
  {
    "text": "and then I have lots of flexibility to do lots of experiments and then I'll just project that out to the larger set.",
    "start": "3935230",
    "end": "3941410"
  },
  {
    "text": "Um, the real problem with that is that I think it's obvious that some of these parameters,",
    "start": "3941410",
    "end": "3947290"
  },
  {
    "text": "these hyperparameters, could be very dependent on dataset size. So a classic case would be that",
    "start": "3947290",
    "end": "3953019"
  },
  {
    "text": "regularization parameters are really gonna be affected by the number of features you",
    "start": "3953020",
    "end": "3958330"
  },
  {
    "text": "have and the amount of evidence that you can gather for each one and that's interacting badly with this approach to selection.",
    "start": "3958330",
    "end": "3966050"
  },
  {
    "text": "But still, certainly better than nothing. You could also do some heuristic search.",
    "start": "3966050",
    "end": "3973080"
  },
  {
    "text": "We're getting kind of low down in this list but this is still quite respectable, right, so via some experiments that you run just in a free-form way,",
    "start": "3973080",
    "end": "3981280"
  },
  {
    "text": "you figure out that some hyperparameters never change performance and others really",
    "start": "3981280",
    "end": "3986470"
  },
  {
    "text": "change it a lot and in turn you just fix the ones that seem not to matter and explore the rest.",
    "start": "3986470",
    "end": "3992470"
  },
  {
    "text": "And this would be a case where absolutely you would want to justify this in the paper. You'd want to say that for our problem, uh,",
    "start": "3992470",
    "end": "3998935"
  },
  {
    "text": "the dimensionality of the hidden layer didn't matter in the range 50 to 300 so we set it at 300 and explored all the regularization parameters,",
    "start": "3998935",
    "end": "4008594"
  },
  {
    "text": "and then, you know, your reviewer could say, \"in my experience, the hidden dimensionality really matters.\"",
    "start": "4008594",
    "end": "4013980"
  },
  {
    "text": "But now it's kind of on them to have that evidence, right? And you, you sort of said heuristically that you didn't see it.",
    "start": "4013980",
    "end": "4019965"
  },
  {
    "text": "So I don't know. It seems like you built a pretty good argument in that case.",
    "start": "4019965",
    "end": "4024550"
  },
  {
    "text": "You could find the optimal hyperparameters via a single split and then use them for all subsequent splits,",
    "start": "4026870",
    "end": "4034635"
  },
  {
    "text": "and this would be justified on the idea that the splits are similar. So that would be a case of saying like I'm going to run one experiment really",
    "start": "4034635",
    "end": "4041910"
  },
  {
    "text": "carefully and assume that it holds for all the other settings that I need to explore.",
    "start": "4041910",
    "end": "4047204"
  },
  {
    "text": "That could be pretty reasonable with a large dataset that you know is kind of homogenous.",
    "start": "4047205",
    "end": "4052664"
  },
  {
    "text": "This is probably perfectly fine. And then all the way at the bottom here,",
    "start": "4052665",
    "end": "4060075"
  },
  {
    "text": "but something that you still do see, is just adopting choices that other people have made.",
    "start": "4060075",
    "end": "4065970"
  },
  {
    "text": "So you know like I'm going to train new word vectors on a bajillion words from the web and I don't know how this model is going to behave.",
    "start": "4065970",
    "end": "4075405"
  },
  {
    "text": "I can afford to run one experiment, so I'm just going to pick the parameters that were in the originally published paper and use them,",
    "start": "4075405",
    "end": "4082049"
  },
  {
    "text": "uh, even though the data is different and my goals are different and so forth. Um, you're probably going to get some complaints that the findings don't",
    "start": "4082050",
    "end": "4091280"
  },
  {
    "text": "translate that the- what was optimal for that paper isn't necessarily optimal for yours.",
    "start": "4091280",
    "end": "4096575"
  },
  {
    "text": "But in that setting, where you're trying to do web-scale training of word representations, this might be all you can afford and again,",
    "start": "4096575",
    "end": "4103935"
  },
  {
    "text": "I think we can't just arbitrarily expect that people will run multiple runs across the whole web in order to tune these parameters.",
    "start": "4103935",
    "end": "4111525"
  },
  {
    "text": "So as a last resort, other people's parameters and there's lots of papers that do this and I think it works out okay. Yeah.",
    "start": "4111525",
    "end": "4119009"
  },
  {
    "text": "[BACKGROUND] Can you use the best results on some dataset? Is it necessary to justify all this?",
    "start": "4119010",
    "end": "4124679"
  },
  {
    "text": "I mean if- you know, let's just say you just stuck some numbers out of your- out of your hat and they work the best,",
    "start": "4124680",
    "end": "4130094"
  },
  {
    "text": "do you still have to say I did all of this stuff or is that almost not self-sufficient evidence that you're beating the benchmark?",
    "start": "4130095",
    "end": "4137170"
  },
  {
    "text": "Where the- like the paper is really one of these pure papers that just says my model is",
    "start": "4137270",
    "end": "4144720"
  },
  {
    "text": "the best model for this dataset and my evidence is that I found parameter settings that beat all the published numbers.",
    "start": "4144720",
    "end": "4153060"
  },
  {
    "text": "It might be a persuasive argument. Yeah, I mean I personally would hope that you're trying to do more with this paper and",
    "start": "4153060",
    "end": "4159299"
  },
  {
    "text": "if you were trying to show us something more about this model than just that you won, then this would all kick in.",
    "start": "4159300",
    "end": "4165330"
  },
  {
    "text": "Because I'd want to understand like what's the space of performance numbers and so forth. Some of this I'm gonna address in a little bit.",
    "start": "4165330",
    "end": "4171855"
  },
  {
    "text": "But yeah, I want to allow them. That might be all that's necessary. I'm sorry. Why is sort of robustness",
    "start": "4171855",
    "end": "4178740"
  },
  {
    "text": "to different hyperparameters or at least trying a lot of them, give you more insight into how the model's working? I mean ultimately if you have a good hypothesis and the results are promising,",
    "start": "4178740",
    "end": "4187065"
  },
  {
    "text": "why is it necessary to, to really get that last little bit of juice out of your model by hyperparameter solution?",
    "start": "4187065",
    "end": "4193515"
  },
  {
    "text": "Oh, I see. It might not be juice though. Like I- first I want to just grant that your narrative might be perfectly fine,",
    "start": "4193515",
    "end": "4198960"
  },
  {
    "text": "which is just that, you know, I found a setting where my model is the best and that's evidence that it's a really good model for the task.",
    "start": "4198960",
    "end": "4205185"
  },
  {
    "text": "The hyperparameter exploration might be something that you explore more openly to say, for example, how small could my network get,",
    "start": "4205185",
    "end": "4212790"
  },
  {
    "text": "uh, and still do well. How- what are my performance drop-offs, or how much does it matter how it was regularized,",
    "start": "4212790",
    "end": "4218865"
  },
  {
    "text": "or like how much does it matter even how it was initialized with GloVe or with Word2Vec or with ELMo?",
    "start": "4218865",
    "end": "4226140"
  },
  {
    "text": "And what I- I was just injecting my values there that I find all of that really illuminating.",
    "start": "4226140",
    "end": "4231360"
  },
  {
    "text": "Because after all, I don't really care that you won. I mean congratulations in this case that you won.",
    "start": "4231360",
    "end": "4237405"
  },
  {
    "text": "But what I really want to know is can I use your model for other tasks? How sensitive is it to various settings?",
    "start": "4237405",
    "end": "4244050"
  },
  {
    "text": "Um, can I form an expectation about how it will work in an entirely new domain? That kind of thing.",
    "start": "4244050",
    "end": "4250179"
  },
  {
    "text": "Here's um, a hyperparameter optimization tool. So scikit has grid search and randomized search.",
    "start": "4255560",
    "end": "4261585"
  },
  {
    "text": "Goods, Stan bias here, and randomized search will be the one where you can fix your budget.",
    "start": "4261585",
    "end": "4267195"
  },
  {
    "text": "And then scikit optimizes a package for doing more guided search through these spaces.",
    "start": "4267195",
    "end": "4272744"
  },
  {
    "text": "And it's kind of nice because it plays well with the existing scikit models. And it might offer you",
    "start": "4272745",
    "end": "4278190"
  },
  {
    "text": "some additional gains when you do this kind of thing on a fixed budget.",
    "start": "4278190",
    "end": "4282580"
  },
  {
    "text": "Let's do one more thing here. Classifier comparison. Because we've seen this before.",
    "start": "4285080",
    "end": "4292065"
  },
  {
    "text": "This is a nice way to round out this first lecture. So suppose you've assessed two classifier models.",
    "start": "4292065",
    "end": "4298250"
  },
  {
    "text": "Well, we'll keep it for two classifiers because I think a lot of you are doing classifiers the same considerations extend to other kinds of models.",
    "start": "4298250",
    "end": "4304880"
  },
  {
    "text": "And we can talk about how that would, would work. But suppose it's classifiers, they probably differ in some way.",
    "start": "4304880",
    "end": "4311370"
  },
  {
    "text": "Um, what could we do to establish that they're different in some meaningful sense?",
    "start": "4311370",
    "end": "4317280"
  },
  {
    "text": "And again, if you think about publishing reviewers will ask this, how much can I trust that differences I'm seeing are really and truly differences?",
    "start": "4317280",
    "end": "4326530"
  },
  {
    "text": "So first of all you might think practical differences. This is the ultimate, right? Um, if your test set has 1000- say that your test set has a million examples,",
    "start": "4326530",
    "end": "4336149"
  },
  {
    "text": "then 1% will correspond to 10,000 cases, and that seems like it's sure to matter, right?",
    "start": "4336149",
    "end": "4341699"
  },
  {
    "text": "If this is lives saved or something or disastrous consequences averted then",
    "start": "4341700",
    "end": "4347310"
  },
  {
    "text": "10,000 you shouldn't need to say much more than that. You're making a meaningful impact on the world, right? Uh, so there's that one case.",
    "start": "4347310",
    "end": "4354390"
  },
  {
    "text": "In the other case, if the test set has 1000 examples, then a 1% difference in accuracy or F1 will be like 10 examples.",
    "start": "4354390",
    "end": "4361785"
  },
  {
    "text": "And your readers might not know whether that matters at all.",
    "start": "4361785",
    "end": "4366960"
  },
  {
    "text": "And then hovering in the background here is this other question, how much variation is there across runs?",
    "start": "4366960",
    "end": "4373500"
  },
  {
    "text": "That is in the case where it was 10 examples for your reported number, if I make a small change does it go in the other direction, right?",
    "start": "4373500",
    "end": "4380640"
  },
  {
    "text": "It seems like it's just on the edge. And in principle that could be true even of these models here because maybe",
    "start": "4380640",
    "end": "4387075"
  },
  {
    "text": "with some runs you save 10,000 lives but in others you lose 5,000.",
    "start": "4387075",
    "end": "4392445"
  },
  {
    "text": "We don't know, right? Because we don't know the amount of variation there is between runs for your system.",
    "start": "4392445",
    "end": "4398745"
  },
  {
    "text": "And so all those things mean that we probably want to go beyond just practical differences.",
    "start": "4398745",
    "end": "4404145"
  },
  {
    "text": "So just quickly a few ways you could do this. First, you could report confidence intervals around the means that you report.",
    "start": "4404145",
    "end": "4410489"
  },
  {
    "text": "Uh, I've given here a kind of traditional way to do this. That you could use.",
    "start": "4410490",
    "end": "4416310"
  },
  {
    "text": "My sense from NLP systems is that this traditional way here, um,",
    "start": "4416310",
    "end": "4421665"
  },
  {
    "text": "is pretty conservative in the sense that your system might actually show less variation than is being assumed by this test.",
    "start": "4421665",
    "end": "4429795"
  },
  {
    "text": "And so you might see confidence intervals that show values that are way outside anything you've ever seen in running experiments.",
    "start": "4429795",
    "end": "4437085"
  },
  {
    "text": "If that happens you could think about bootstrapping the confidence intervals, and I link to a library for doing that.",
    "start": "4437085",
    "end": "4442815"
  },
  {
    "text": "And that would just make much more use of your actual data when it comes to deciding what the interval of variation is.",
    "start": "4442815",
    "end": "4450525"
  },
  {
    "text": "But this is a really nice way to do this. You report the mean and the confidence interval,",
    "start": "4450525",
    "end": "4455685"
  },
  {
    "text": "and what your reviewers are likely to do is say, \"Okay those two intervals don't overlap. I'm pretty confident that these systems are different.\"",
    "start": "4455685",
    "end": "4462494"
  },
  {
    "text": "Or if there's a lot of overlap you might say, \"Um, you know, numerically they're different but in practical terms these might be the same system.\"",
    "start": "4462495",
    "end": "4470680"
  },
  {
    "text": "So this is a powerful step, but it presupposes that you can do a lot of runs.",
    "start": "4472430",
    "end": "4477780"
  },
  {
    "text": "Because you want to do like 10 and, and, you know, better would be like 20 different runs to get a bunch of values for the mean in",
    "start": "4477780",
    "end": "4485130"
  },
  {
    "text": "slightly different scenario- settings so that you can get a good picture of what the confidence interval is like.",
    "start": "4485130",
    "end": "4490710"
  },
  {
    "text": "And you might just be limited in your ability to do that.",
    "start": "4490710",
    "end": "4494710"
  },
  {
    "text": "Uh, related kind of thing that you could do then- and again I'm just kind of drawing on best practices as I've learned them from",
    "start": "4498680",
    "end": "4505380"
  },
  {
    "text": "the literature is to run the Wilcoxon Signed-Rank Test, which is a kind of variant of a T-test,",
    "start": "4505380",
    "end": "4512205"
  },
  {
    "text": "um, that doesn't make any assumptions about the underlying statistical distribution. So it does not presuppose in particular that your scores are normally distributed.",
    "start": "4512205",
    "end": "4521850"
  },
  {
    "text": "Um, it requires a lot of different runs. So you wanna do at least 10,",
    "start": "4521850",
    "end": "4526860"
  },
  {
    "text": "ideally 20 or something like that. Um, I think that you want to pick",
    "start": "4526860",
    "end": "4532500"
  },
  {
    "text": "the Wilcoxon Signed-Rank Test over this very closely related one, the rank sums test which is often called the Mann-Whitney U Test.",
    "start": "4532500",
    "end": "4540075"
  },
  {
    "text": "I think the Wilcoxon one will be just slightly more conservative in the sense that it's",
    "start": "4540075",
    "end": "4545910"
  },
  {
    "text": "more appropriate in situations in which your systems are trained and evaluated on the same underlying data.",
    "start": "4545910",
    "end": "4552119"
  },
  {
    "text": "And given the best practices as I laid out before, you want them to be trained and test on the same data for",
    "start": "4552120",
    "end": "4558270"
  },
  {
    "text": "these comparisons but that just means that you violated a lot of independence assumptions. So pick the Wilcoxon Signed-Rank Test, it's a rank based test.",
    "start": "4558270",
    "end": "4566429"
  },
  {
    "text": "So it- all it's caring about is the relative ordering of the scores that your system reports.",
    "start": "4566430",
    "end": "4571570"
  },
  {
    "text": "I think this is a good step to take. And I think it will go a long way to people of- for people who are evaluating your work.",
    "start": "4571940",
    "end": "4578940"
  },
  {
    "text": "But a few qualifications are in order. First, like all tests of this form it says nothing",
    "start": "4578940",
    "end": "4584864"
  },
  {
    "text": "about the practical importances of any of the differences that you see. So like a small p-value is not a larger effect size.",
    "start": "4584865",
    "end": "4593235"
  },
  {
    "text": "Uh, and a large p-value doesn't mean that you have a failed result.",
    "start": "4593235",
    "end": "4598739"
  },
  {
    "text": "That just means that you lack evidence for claiming that there's a difference. So these qualifications are to be kept in mind.",
    "start": "4598740",
    "end": "4604530"
  },
  {
    "text": "This is kind of very weak evidence for some kind of detectable difference. But I would ideally balance it against something",
    "start": "4604530",
    "end": "4611160"
  },
  {
    "text": "establishing that your systems are different in practical terms. Um, but I grant you that this could help you in sort of advocating for a system,",
    "start": "4611160",
    "end": "4618870"
  },
  {
    "text": "especially in situations in which the numerical differences appear to be small. Because here you are saying,",
    "start": "4618870",
    "end": "4624135"
  },
  {
    "text": "they're small but I have some evidence that you can count on them.",
    "start": "4624135",
    "end": "4628300"
  },
  {
    "text": "And then just a final test so we can wrap this up here. McNemar's test, is a test that you can run to compare",
    "start": "4629240",
    "end": "4636810"
  },
  {
    "text": "two classifiers that depends only on one run of the data. Um, because it operates on this kind of collapsed,",
    "start": "4636810",
    "end": "4644114"
  },
  {
    "text": "um, confusion matrix for your two systems. Um, and it's a kind of variant of the chi-squared test.",
    "start": "4644115",
    "end": "4652005"
  },
  {
    "text": "I think this can be pretty volatile for systems that report different values under different conditions.",
    "start": "4652005",
    "end": "4658560"
  },
  {
    "text": "So I would resort to this just in situations in which you absolutely cannot afford to do the number of runs that it would take to run a responsible Wilcoxon test.",
    "start": "4658560",
    "end": "4667605"
  },
  {
    "text": "In this case, this is a kind of fall back. I think again, it's better than nothing for your reviewers.",
    "start": "4667605",
    "end": "4673050"
  },
  {
    "text": "And especially if you can compare- if you can pair it with practical differences you probably got a pretty good case for the models being different.",
    "start": "4673050",
    "end": "4682150"
  },
  {
    "text": "There are a bunch of other big issues that I want us to confront that are kind of particular to the deep learning era.",
    "start": "4684980",
    "end": "4691470"
  },
  {
    "text": "Um, but since we're out of time I'm going to save those for next time. So next time it'll be these juicy issues that we're all facing today.",
    "start": "4691470",
    "end": "4697695"
  },
  {
    "text": "A discussion of metrics. And then, this is going to take us beyond all this traditional stuff that I've been talking about.",
    "start": "4697695",
    "end": "4704175"
  },
  {
    "text": "But thanks everyone for your questions.",
    "start": "4704175",
    "end": "4707170"
  }
]