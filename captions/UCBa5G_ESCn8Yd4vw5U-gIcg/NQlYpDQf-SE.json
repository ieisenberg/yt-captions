[
  {
    "start": "0",
    "end": "5100"
  },
  {
    "text": "OK, let's get started, as\nusual, with a quick review",
    "start": "5100",
    "end": "10650"
  },
  {
    "text": "of previous lecture. So last time, we started looking\nat the system architectures",
    "start": "10650",
    "end": "16950"
  },
  {
    "text": "for the two main types of LiDAR,\nwhich is the direct detection LiDAR and the coherent\ndetection LiDAR",
    "start": "16950",
    "end": "22380"
  },
  {
    "text": "or coherent LiDAR in short. And the main difference\nis basically the signal",
    "start": "22380",
    "end": "30210"
  },
  {
    "text": "that you receive after the\nconversion from optical signal",
    "start": "30210",
    "end": "36899"
  },
  {
    "text": "or photons to the electrical\nsignal or electrons. Specifically, in\ndirect detection LiDAR,",
    "start": "36900",
    "end": "44310"
  },
  {
    "text": "these systems employ a\nsimple photodetector. And as we know,\nthe photodetector--",
    "start": "44310",
    "end": "51540"
  },
  {
    "text": "the signal that\nyou get out of it is proportional to\nthe incident power",
    "start": "51540",
    "end": "57480"
  },
  {
    "text": "or intensity of the light. So if you have some-- received basically\nsignal waveform,",
    "start": "57480",
    "end": "64180"
  },
  {
    "text": "which we call Sr, which is\nthe attenuation factor alpha times the delayed\ntransmitted waveform as t",
    "start": "64180",
    "end": "72040"
  },
  {
    "text": "of t minus tau times the Doppler\nshift e to the j2 pi fdt, we showed that, as it passes\nthrough the photodetector,",
    "start": "72040",
    "end": "79870"
  },
  {
    "text": "which is the photodiode plus\nthe transimpedance amplifier in a coherent detection system,\nthe signal that we get out-- we",
    "start": "79870",
    "end": "88285"
  },
  {
    "text": "call that Spd of t-- is\njust some constant times the square of the\ntransmitted pulse, which",
    "start": "88285",
    "end": "95320"
  },
  {
    "text": "is delayed by the round\ntrip time of flight. So you get some kappa times\ns squared of t minus tau.",
    "start": "95320",
    "end": "101920"
  },
  {
    "text": "Remember that the transmitted\nwaveform as t itself was some",
    "start": "101920",
    "end": "108880"
  },
  {
    "text": "generated waveform s of t times\nthe carrier e to the j2 pi fc.",
    "start": "108880",
    "end": "114460"
  },
  {
    "text": "So that carrier\nterm also vanishes through this conversion effect. So we get a signal that\nis just a constant times",
    "start": "114460",
    "end": "122500"
  },
  {
    "text": "the square of the\ntransmitted pulse shape, which is delayed by\nthe round trip time of flight.",
    "start": "122500",
    "end": "127600"
  },
  {
    "text": "And as you see, there\nis no phase information. So it's a purely real signal. There's no phase information. Its intensity only.",
    "start": "127600",
    "end": "133680"
  },
  {
    "text": "And because of that,\nthese systems-- all they can do,\nall the information they have essentially from\nthe signal that they received",
    "start": "133680",
    "end": "141180"
  },
  {
    "text": "is this round trip,\ntime of flight tau. So they can only do ranging,\nbut they cannot, for instance,",
    "start": "141180",
    "end": "147390"
  },
  {
    "text": "measure Doppler shift and\nfrom that deduce or estimate the velocity.",
    "start": "147390",
    "end": "153510"
  },
  {
    "text": "Then we started talking\nabout the more advanced type of LiDAR systems, which is\ncoherent detection LiDAR.",
    "start": "153510",
    "end": "160709"
  },
  {
    "text": "And these systems--\nas we said, they employ a more complex\noptical receiver,",
    "start": "160710",
    "end": "167590"
  },
  {
    "text": "which is called a\ncoherent optical receiver. And a coherent optical\nreceiver is basically--",
    "start": "167590",
    "end": "173490"
  },
  {
    "text": "what you get out\nof them is a signal",
    "start": "173490",
    "end": "178500"
  },
  {
    "text": "that gives you-- is proportional\nto the full complex waveform that was transmitted.",
    "start": "178500",
    "end": "185340"
  },
  {
    "text": "So again, if the input signal\nto the optical receiver-- this is the same as the\ndirect detection ladder,",
    "start": "185340",
    "end": "193240"
  },
  {
    "text": "so you-- because it's the same\nphysics of wave propagation. So you get some\nattenuation factor",
    "start": "193240",
    "end": "199330"
  },
  {
    "text": "times the delayed transmitted\nsignal times the Doppler shift.",
    "start": "199330",
    "end": "205540"
  },
  {
    "text": "And out of the coherent\noptical receiver, you get this Scr of t,\nwhich is some constant times",
    "start": "205540",
    "end": "211450"
  },
  {
    "text": "the full complex,\nbasically, waveform, which is your signal delayed by\nthe round trip time of flight",
    "start": "211450",
    "end": "219250"
  },
  {
    "text": "or a waveform delayed by the\nround trip time of flight, times the Doppler term\ne to the j2 pi fdt.",
    "start": "219250",
    "end": "226630"
  },
  {
    "text": "So this signal model\nis identical to, for instance, what\nwe had for CW radars.",
    "start": "226630",
    "end": "232900"
  },
  {
    "text": "And from this, now\nwe have information. So in principle, we\nshould be able to estimate",
    "start": "232900",
    "end": "239800"
  },
  {
    "text": "both the round trip time of\nflight tau, which, as we know, is proportional to range,\nas well as the Doppler shift",
    "start": "239800",
    "end": "248080"
  },
  {
    "text": "fd, which, as we\nknow, is proportional to the relative radial\nvelocity between the target",
    "start": "248080",
    "end": "253210"
  },
  {
    "text": "and the LiDAR So you get the\nfull complex field, where you have both phase\nand amplitude information.",
    "start": "253210",
    "end": "260350"
  },
  {
    "text": "And today, we will\nsee, basically, what type of waveforms coherent\nLiDAR sends and receives",
    "start": "260350",
    "end": "267280"
  },
  {
    "text": "and then how the DSP works to\nestimate range and velocity, basically. So as you can see,\ncoherent LiDAR",
    "start": "267280",
    "end": "273790"
  },
  {
    "text": "is a more advanced\ntype of a system. And it can, in principle,\ndo more than just ranging.",
    "start": "273790",
    "end": "283900"
  },
  {
    "text": "It can also measure\nthe velocity. But today, most of the\nLiDARs that are deployed",
    "start": "283900",
    "end": "290890"
  },
  {
    "text": "are direct detection. There are some coherent\ndetection LiDARs also. But the reason is for--",
    "start": "290890",
    "end": "298120"
  },
  {
    "text": "I mean, that's how,\nbasically, technology works, more complex systems. They just have a\nlonger time to market.",
    "start": "298120",
    "end": "305460"
  },
  {
    "text": "There's more R&D\ninvolved in the start. More complex systems are\nless robust, more expensive.",
    "start": "305460",
    "end": "312220"
  },
  {
    "text": "So that's why direct detection\nLiDAR hit the market first. And now it has penetrated\nquite a lot in the market.",
    "start": "312220",
    "end": "319810"
  },
  {
    "text": "But we are seeing an uptick of\ndeployment of coherent LiDAR systems, and that's\nwhy we study them.",
    "start": "319810",
    "end": "326950"
  },
  {
    "text": "And then we also said,\nin terms of the waveforms of coherent LiDARs,\nit's like what we looked",
    "start": "326950",
    "end": "334050"
  },
  {
    "text": "at for the case of radar. So you can do\nfrequency modulation, so you can have FMCW\ncoherent LiDAR, which",
    "start": "334050",
    "end": "340860"
  },
  {
    "text": "sends basically chirps as\nwaveforms, linear frequency chirps. Or you can have phase\nmodulated systems",
    "start": "340860",
    "end": "347490"
  },
  {
    "text": "that can use, for instance,\nranging codes, like PMCW radar or like CTFM sonar or\nsimilar to GPS as well.",
    "start": "347490",
    "end": "357280"
  },
  {
    "text": "So the concepts should\nbe very, very familiar by this point in terms\nof the type of waveforms",
    "start": "357280",
    "end": "362370"
  },
  {
    "text": "and how each are processed. But we'll see there is some\nsubtle differences in this case",
    "start": "362370",
    "end": "369840"
  },
  {
    "text": "that we'll talk about today. OK, so here's where we are.",
    "start": "369840",
    "end": "375009"
  },
  {
    "text": "So we're going to\ntalk about the signal processing and coherent\nLiDAR systems today.",
    "start": "375010",
    "end": "382290"
  },
  {
    "text": "And as we said,\nthey're CW systems. So they continuously\ntransmit a laser waveform.",
    "start": "382290",
    "end": "389280"
  },
  {
    "text": "They can be frequency\nor phase modulated with periodic waveforms,\nvery similar to CW radar.",
    "start": "389280",
    "end": "398040"
  },
  {
    "text": "And we can build basically\nFMCW LiDARs or PMCW LiDARs,",
    "start": "398040",
    "end": "403740"
  },
  {
    "text": "and the difference\nis in the types of waveforms that are generated\nand transmitted and received.",
    "start": "403740",
    "end": "409630"
  },
  {
    "text": "Now, when it comes to the\nsignal processing algorithms for coherent LiDAR,\nin principle,",
    "start": "409630",
    "end": "415860"
  },
  {
    "text": "they're very\nsimilar to CW radar. But there are two\nmain distinctions.",
    "start": "415860",
    "end": "421530"
  },
  {
    "text": "One of them makes\nthe DSP easier. The other one is a complication,\nbut it's not too bad to handle.",
    "start": "421530",
    "end": "429490"
  },
  {
    "text": "What makes it easier\nis that, as we know, that the beam\npatterns for LiDARs--",
    "start": "429490",
    "end": "434500"
  },
  {
    "text": "these are these Gaussian\nbeams, which are extremely narrow and collimated.",
    "start": "434500",
    "end": "439780"
  },
  {
    "text": "So most of the time,\nthe return that you get or the echo that you receive\nis only from a single target",
    "start": "439780",
    "end": "448240"
  },
  {
    "text": "because the beam spot\nsize is very small. So it just hits a single\ntarget, comes back. It's like you're pointing a\nlaser pointer out to the world.",
    "start": "448240",
    "end": "457810"
  },
  {
    "text": "Most of the time,\nit's going to just hit a portion of a single surface.",
    "start": "457810",
    "end": "463930"
  },
  {
    "text": "Unlike the case for radar,\nwhere, for instance, MIMO radars-- if they use these microstrip\nantennas, as we know,",
    "start": "463930",
    "end": "471430"
  },
  {
    "text": "they transmit very,\nvery wide beam patterns. So the returns that you get\nare coming from everything",
    "start": "471430",
    "end": "478039"
  },
  {
    "text": "out there. You can get tens or hundreds\nof targets echoing back",
    "start": "478040",
    "end": "483160"
  },
  {
    "text": "to you simultaneously, and that\nwas a complication for the DSP. It's not the case for LiDAR.",
    "start": "483160",
    "end": "490120"
  },
  {
    "text": "You can safely assume that\nthere's just one or a couple of returns. OK, so that's the nice thing.",
    "start": "490120",
    "end": "497170"
  },
  {
    "text": "The other thing, which is\na complication for LiDAR, is that when it comes to\nDoppler shift, as we will see,",
    "start": "497170",
    "end": "505000"
  },
  {
    "text": "the Doppler shifts experienced\nfor LiDAR for the same target",
    "start": "505000",
    "end": "511060"
  },
  {
    "text": "velocity are much, much, much\nlarger than what a radar sees. So it could be three\norders of magnitudes,",
    "start": "511060",
    "end": "519580"
  },
  {
    "text": "for instance, larger Doppler\nshifts for the same velocity. And if you remember,\nfor instance,",
    "start": "519580",
    "end": "526220"
  },
  {
    "text": "when we were developing LiDAR-- radar DSP, FMCW radar DSP,\nfor instance, we used the fact",
    "start": "526220",
    "end": "533199"
  },
  {
    "text": "that Doppler shifts were small. So specifically, we assume\nthat within one chirp time,",
    "start": "533200",
    "end": "541060"
  },
  {
    "text": "we can ignore Doppler\nshift because it's much smaller than the\nfrequency shift that is",
    "start": "541060",
    "end": "547180"
  },
  {
    "text": "induced by just a range effect. And that we baked\nin that assumption",
    "start": "547180",
    "end": "554800"
  },
  {
    "text": "into our DSP\ndevelopment for radar. Now, that doesn't\nhold for LiDAR, and we'll see today\nhow we should--",
    "start": "554800",
    "end": "561040"
  },
  {
    "text": "how we should handle that. So again, this is one of\nthose cases where it's very,",
    "start": "561040",
    "end": "566450"
  },
  {
    "text": "very important to know, when\nit comes to developing DSP, what assumptions are made and\nwhy they are made and what they",
    "start": "566450",
    "end": "573520"
  },
  {
    "text": "imply in terms of what\nwe can and cannot do. OK, so before we\nlook at the DSP,",
    "start": "573520",
    "end": "580390"
  },
  {
    "text": "I just want to make a small note\nabout signal attenuation in--",
    "start": "580390",
    "end": "585760"
  },
  {
    "text": "specifically in coherent LiDAR. So every type of sensor,\nactive sensor we talked about, sonar, radar and different types\nof LiDAR, in the signal model,",
    "start": "585760",
    "end": "595990"
  },
  {
    "text": "there's always some\nattenuation factor alpha that we just--\nwe added there.",
    "start": "595990",
    "end": "601150"
  },
  {
    "text": "We didn't do much with it. But for instance, if you want\nto estimate the signal to noise",
    "start": "601150",
    "end": "606510"
  },
  {
    "text": "ratio of one of these\nsystems, or if you want to run physically\naccurate simulations,",
    "start": "606510",
    "end": "611579"
  },
  {
    "text": "it's important to estimate\nwhat that alpha is. Now, it turns out\nthat, although we",
    "start": "611580",
    "end": "617760"
  },
  {
    "text": "didn't go too much\ninto the details of it, in every case we have\nseen up till now,",
    "start": "617760",
    "end": "624690"
  },
  {
    "text": "estimating alpha is\npretty straightforward. We did it for radar. If you remember that radar range\nequation that we developed--",
    "start": "624690",
    "end": "631589"
  },
  {
    "text": "that was indirectly\nestimating this alpha. We also did it for sonar when we\nanalyzed the full return signal",
    "start": "631590",
    "end": "641310"
  },
  {
    "text": "model. So in those cases, if you\nrefer back to how it was done, it's pretty straightforward.",
    "start": "641310",
    "end": "647010"
  },
  {
    "text": "You just make assumptions\nabout the forward pass and the return echo\nand the reflectivity",
    "start": "647010",
    "end": "653639"
  },
  {
    "text": "or the cross-section\nof the target. So you just-- it becomes a bunch\nof multiplications that you do.",
    "start": "653640",
    "end": "660270"
  },
  {
    "text": "And that can give\nyou, at the end of the day with the\nround-trip signal path, how",
    "start": "660270",
    "end": "666520"
  },
  {
    "text": "much attenuation you get. Now, when it comes\nto coherent LiDAR, it turns out that estimating\nor modeling this alpha",
    "start": "666520",
    "end": "675220"
  },
  {
    "text": "becomes very tricky. So there's very deep\nphysics that goes into it.",
    "start": "675220",
    "end": "681010"
  },
  {
    "text": "And we can't quite get\ninto the details of it, because, even at a\nhigh level, discussing",
    "start": "681010",
    "end": "687250"
  },
  {
    "text": "why it becomes complicated\nto estimate alpha for coherent LiDAR requires\nknowledge of things,",
    "start": "687250",
    "end": "693250"
  },
  {
    "text": "like the speckle\nphenomena in optics and a concept which is called\nthe backpropagated local",
    "start": "693250",
    "end": "698260"
  },
  {
    "text": "oscillator or BPLO. So it's way beyond the scope\nof this course or maybe any graduate course.",
    "start": "698260",
    "end": "703960"
  },
  {
    "text": "It's a thing that\nif you're doing PhD research on this topic,\nyou would go and figure it out.",
    "start": "703960",
    "end": "710019"
  },
  {
    "text": "But I just wanted to mention\nthat it's not impossible, but it gets really\ncomplicated to estimate the--",
    "start": "710020",
    "end": "718450"
  },
  {
    "text": "to correctly estimate\nSNR of coherent LiDAR. OK, so with that, now\nlet's start looking",
    "start": "718450",
    "end": "727320"
  },
  {
    "text": "at the DSP of coherent LiDAR. And I want to start by\nlooking at the Doppler shift",
    "start": "727320",
    "end": "734430"
  },
  {
    "text": "because I did mention that\nDoppler shifts in LiDAR are much larger than\nwhat a radar would see.",
    "start": "734430",
    "end": "742260"
  },
  {
    "text": "And that becomes a\ncomplication for the DSP. So remember, the Doppler shift\nis given by this equation here.",
    "start": "742260",
    "end": "748899"
  },
  {
    "text": "So minus 2vr over lambda. Over lambda is the\nwavelength, and vr is the relative velocity,\nrelative radial velocity",
    "start": "748900",
    "end": "758130"
  },
  {
    "text": "between the target\nand the receiver. So it's r dot, where r\nis the range, basically, from transmitter to receiver.",
    "start": "758130",
    "end": "765450"
  },
  {
    "text": "Now, if we plug in some\nballpark numbers for LiDAR, let's say you have a\n1,550 nanometer LiDAR.",
    "start": "765450",
    "end": "772560"
  },
  {
    "text": "That's your lambda. And vr is 45 meters per second.",
    "start": "772560",
    "end": "777870"
  },
  {
    "text": "So it's fast, but it's\nnot outrageously fast. I mean, it's a kind of a\nvelocity you can easily get if you have some LiDAR on a\nvehicle or something like that.",
    "start": "777870",
    "end": "788820"
  },
  {
    "text": "And then your Doppler\nshift turns out to be minus 58 megahertz for\nthese choice of parameters.",
    "start": "788820",
    "end": "797019"
  },
  {
    "text": "Now, for the same\nchoice of velocity, if you calculate the Doppler\nshift for a 77 gigahertz radar,",
    "start": "797020",
    "end": "803680"
  },
  {
    "text": "it-- so that's just a\ndifferent lambda, so your lambda becomes\nabout 4 millimeters or so.",
    "start": "803680",
    "end": "809370"
  },
  {
    "text": "Plug that in, your Doppler shift\nbecomes minus 23.1 kilahertz.",
    "start": "809370",
    "end": "814800"
  },
  {
    "text": "So notice that almost a 1,000x\ndifference between the Doppler shift you get in LiDAR and the\nDoppler shift you get in a 77",
    "start": "814800",
    "end": "822945"
  },
  {
    "text": "gigahertz radar for\nthe same velocity. So if you had the\nLiDAR and the radar",
    "start": "822945",
    "end": "828240"
  },
  {
    "text": "on the same robot simultaneously\nmeasuring the same scene, the two can measure\nor see or experience",
    "start": "828240",
    "end": "836010"
  },
  {
    "text": "very, very different\nDoppler velocities in the return signal. Now, because the ft\nis so much larger,",
    "start": "836010",
    "end": "841920"
  },
  {
    "text": "the Doppler shifts are so much\nlarger for the case of LiDAR,",
    "start": "841920",
    "end": "847350"
  },
  {
    "text": "we cannot make the\nassumption we made for radar. So again, for radar,\nwe made the assumption",
    "start": "847350",
    "end": "852750"
  },
  {
    "text": "that the Doppler effect is\nnegligible within every period of the waveform. And by every period, I mean,\nfor instance, for FMCW,",
    "start": "852750",
    "end": "859530"
  },
  {
    "text": "we said every one\nchirp that you look at, you can ignore\nthe Doppler shift.",
    "start": "859530",
    "end": "864730"
  },
  {
    "text": "You just downconvert it, and\nthe instantaneous frequency you get from one chirp is\njust proportional to range.",
    "start": "864730",
    "end": "870540"
  },
  {
    "text": "And to find Doppler, we were\nlooking at multiple chirps within a longer time period,\nwhich we called a frame.",
    "start": "870540",
    "end": "877360"
  },
  {
    "text": "So that's what we did for radar. For LiDAR, we cannot do that,\nbecause even with such large",
    "start": "877360",
    "end": "883980"
  },
  {
    "text": "Doppler shifts, even for\none period of your waveform, if you just-- again, if\nyou're doing a FMCW LiDAR,",
    "start": "883980",
    "end": "889590"
  },
  {
    "text": "if you just look at one\nchirp within that chirp time, which could be\njust microseconds,",
    "start": "889590",
    "end": "894870"
  },
  {
    "text": "the Doppler effect is so\nsignificant that it cannot be ignored. So mathematically, now we\nneed to solve for LiDAR",
    "start": "894870",
    "end": "905190"
  },
  {
    "text": "a joint estimation problem. We need to\nsimultaneously estimate",
    "start": "905190",
    "end": "911009"
  },
  {
    "text": "both range and velocity or\nboth range and Doppler shift. It becomes a joint estimation\nproblem that cannot be",
    "start": "911010",
    "end": "919560"
  },
  {
    "text": "decoupled, like\nwe did for radar. OK, so that sounds\nlike a big challenge,",
    "start": "919560",
    "end": "926410"
  },
  {
    "text": "but it turns out that folks\ncame with a very smart trick",
    "start": "926410",
    "end": "934920"
  },
  {
    "text": "in waveform design\nto solve this. And what they did is that what\nis common practice in FMCW--",
    "start": "934920",
    "end": "944580"
  },
  {
    "text": "so now we are talking\nabout FMCW LiDARs, frequency modulated\ncoherent LiDAR.",
    "start": "944580",
    "end": "951060"
  },
  {
    "text": "So in the case of\nradar, if you remember that the chirps that\nwere transmitted--",
    "start": "951060",
    "end": "958350"
  },
  {
    "text": "they were these\nsawtooth-like patterns in terms of instantaneous\nfrequency versus time.",
    "start": "958350",
    "end": "964060"
  },
  {
    "text": "It would ramp up and then\ndrop back to the start point and then go again.",
    "start": "964060",
    "end": "970540"
  },
  {
    "text": "So it was a sawtooth pattern. Now, for LiDAR,\nwhat you can do is",
    "start": "970540",
    "end": "976480"
  },
  {
    "text": "that you can transmit\ntriangular chirp waveforms. So within one chirp\nduration, you first",
    "start": "976480",
    "end": "982480"
  },
  {
    "text": "ramp up your frequency\nlinearly and then ramp it down. Mathematically, you\ncan write it like this.",
    "start": "982480",
    "end": "987709"
  },
  {
    "text": "So your entire chirp\nduration-- if it's t seconds, you break it into two halves.",
    "start": "987710",
    "end": "995380"
  },
  {
    "text": "Within the first\nhalf period, you send this waveform, e to\nthe j2 pi fc plus b over 2--",
    "start": "995380",
    "end": "1003870"
  },
  {
    "text": "bt over 2 times t. So that's just a linear\nup ramp in frequency. And then in the second half,\nwithin one chirp period,",
    "start": "1003870",
    "end": "1012330"
  },
  {
    "text": "you ramp down your\ninstantaneous frequency. So then the time\nwaveforms look like this.",
    "start": "1012330",
    "end": "1020649"
  },
  {
    "text": "As you see, it starts with a\nlower frequency in the middle. It goes to a very\nhigh frequency.",
    "start": "1020650",
    "end": "1026740"
  },
  {
    "text": "And then towards the\nend, it goes back down. So you go up, go\ndown in frequency. Instantaneous frequency\nversus time, as you see here,",
    "start": "1026740",
    "end": "1034470"
  },
  {
    "text": "looks like these triangles. ",
    "start": "1034470",
    "end": "1040349"
  },
  {
    "text": "So with this, now something\nvery interesting happens. If we look at now\nthe received signal",
    "start": "1040349",
    "end": "1047130"
  },
  {
    "text": "model with this\nchoice of waveform, which is triangular chirps\ninstead of sawtooth,",
    "start": "1047130",
    "end": "1052187"
  },
  {
    "text": "I mean, signal model-- we\nalready know what it is. So in time domain, the\ntime picture is this. So you send some waveform.",
    "start": "1052187",
    "end": "1058440"
  },
  {
    "text": "That's a green one. Again, it's a triangular chirp. And what you receive is\na delayed and attenuated",
    "start": "1058440",
    "end": "1067260"
  },
  {
    "text": "and Doppler shifted version of\nthis, exact same as FMCW radar.",
    "start": "1067260",
    "end": "1073600"
  },
  {
    "text": "But if you look at the\ninstantaneous frequencies of what you transmit\nand what you receive,",
    "start": "1073600",
    "end": "1079230"
  },
  {
    "text": "now you have this very\ninteresting picture on the right-hand side,\nwhere the green is, again, what you transmited.",
    "start": "1079230",
    "end": "1084510"
  },
  {
    "text": "So you start at time 0. From 0 to t over 2, you\nramp up on your green.",
    "start": "1084510",
    "end": "1091560"
  },
  {
    "text": "And then from t over 2 to t,\nthe second half you ramp down. The blue is the instantaneous\nfrequency of the received",
    "start": "1091560",
    "end": "1098700"
  },
  {
    "text": "signal, and now two things are\nhappening within just one chirp",
    "start": "1098700",
    "end": "1103980"
  },
  {
    "text": "period. There is a round-trip delay\ntau, so that we already know of, exactly like radar.",
    "start": "1103980",
    "end": "1110370"
  },
  {
    "text": "But also, notice that the blue\nis shifted also vertically.",
    "start": "1110370",
    "end": "1115590"
  },
  {
    "text": "So the horizontal shift\nis your round-trip delay, but there is also a\nnoticeable vertical shift",
    "start": "1115590",
    "end": "1122490"
  },
  {
    "text": "because of Doppler. So the starting frequency\nof your blue is not fc,",
    "start": "1122490",
    "end": "1128940"
  },
  {
    "text": "but it's fc plus f Doppler\nbecause your Doppler shifted.",
    "start": "1128940",
    "end": "1134480"
  },
  {
    "text": "So you also shift up,\ndown according to Doppler, and it's non-negligible.",
    "start": "1134480",
    "end": "1139610"
  },
  {
    "text": "I mean, this effect\nwe also had for radar. But we just said, the up shift\nis so small, we just ignore it.",
    "start": "1139610",
    "end": "1145670"
  },
  {
    "text": "That's what we did\nfor FMCW radar. Here, for LiDAR, we cannot. So it's not that\nthe physics changed.",
    "start": "1145670",
    "end": "1153500"
  },
  {
    "text": "The physics is the same. We had this effect\nfor radar also, but it was so small at those\nfrequencies that we ignored it.",
    "start": "1153500",
    "end": "1160040"
  },
  {
    "text": "Here we cannot ignore it. Now, if you calculate\nthe difference between the instantaneous\nfrequency of what you transmit",
    "start": "1160040",
    "end": "1167840"
  },
  {
    "text": "and what you receive with this\ntriangular choice of chirp waveforms, as you see,\nduring the up-ramp of the two",
    "start": "1167840",
    "end": "1176120"
  },
  {
    "text": "waveforms, you get some\ndifference delta f1. And during the down-ramp,\nyou get a difference--",
    "start": "1176120",
    "end": "1182510"
  },
  {
    "text": "a different value of delta\n[? f. ?] We call that delta f2.",
    "start": "1182510",
    "end": "1187580"
  },
  {
    "text": "One could be smaller. The other one could be larger. And it turns out that if we\nsomehow estimate both delta f1",
    "start": "1187580",
    "end": "1195240"
  },
  {
    "text": "and delta f2, from that,\nwe can calculate both range and velocity.",
    "start": "1195240",
    "end": "1201480"
  },
  {
    "text": "And that's all we need to do. So let's see what the\nsignal model looks like with this\nchoice of waveforms,",
    "start": "1201480",
    "end": "1207940"
  },
  {
    "text": "and then we'll see the DSP. So just how the FMCW\nLiDAR uses these",
    "start": "1207940",
    "end": "1215429"
  },
  {
    "text": "signals-- so it feeds the\ntransmitted chirp signal",
    "start": "1215430",
    "end": "1220710"
  },
  {
    "text": "as the LO input, or the\nLocal Oscillator input, to the coherent receiver. So the coherent receiver,\nremember, has two inputs.",
    "start": "1220710",
    "end": "1228040"
  },
  {
    "text": "So the LO input is basically\nthe field amplitude",
    "start": "1228040",
    "end": "1233970"
  },
  {
    "text": "times the transmitted\nchirp given by this, and the second input to your\ncoherent receiver is just the",
    "start": "1233970",
    "end": "1242820"
  },
  {
    "text": "received basically\noptical field, which is the attenuation\nfactor times the field",
    "start": "1242820",
    "end": "1248039"
  },
  {
    "text": "amplitude times the delayed\ncarrier times the delayed",
    "start": "1248040",
    "end": "1253590"
  },
  {
    "text": "transmitted chirp times\nthe Doppler shift. Every term should\nmake sense in this.",
    "start": "1253590",
    "end": "1259950"
  },
  {
    "text": "Now, these two--\nbasically, we know that the coherent\nreceiver-- it works like the downconverter\nfor an RF so, basically,",
    "start": "1259950",
    "end": "1269430"
  },
  {
    "text": "extracts the conjugate\nmultiplication of the two",
    "start": "1269430",
    "end": "1275610"
  },
  {
    "text": "inputs that you feed to it. So we can solve that,\nso we can basically",
    "start": "1275610",
    "end": "1282539"
  },
  {
    "text": "find the coherent\nreceiver's output signal. And if I go back, so we\nare going to break it--",
    "start": "1282540",
    "end": "1290130"
  },
  {
    "text": "because there is an up-ramp\nand a down-ramp when we want to calculate the output\nof the coherent receiver,",
    "start": "1290130",
    "end": "1296850"
  },
  {
    "text": "we can break it into\ntwo calculations. So first, we look at this\npart, the up-ramp part, which is from tau to t over 2.",
    "start": "1296850",
    "end": "1304740"
  },
  {
    "text": "And that's where there is a\nfrequency difference delta f1. And then we look from tau over--",
    "start": "1304740",
    "end": "1310920"
  },
  {
    "text": "from t over 2 plus\ntau, so this would be t over 2 plus tau to t.",
    "start": "1310920",
    "end": "1317970"
  },
  {
    "text": "So we look at this\nportion then, and that's where there is a frequency\ndifference delta f2.",
    "start": "1317970",
    "end": "1324810"
  },
  {
    "text": "We do that separately so the\nmath is just more tractable. OK, so let's look\nat the first part,",
    "start": "1324810",
    "end": "1331650"
  },
  {
    "text": "so that's the-- remember,\nthat's the up-ramp part of the transmitted\nand received signals.",
    "start": "1331650",
    "end": "1340710"
  },
  {
    "text": "And what comes out of\nthe coherent receiver is some constant times\nthe received waveform",
    "start": "1340710",
    "end": "1346350"
  },
  {
    "text": "times the conjugate of\nthe transmitted waveform. This is the exact same\nas radar, so I'm not",
    "start": "1346350",
    "end": "1352620"
  },
  {
    "text": "going to go over all the steps. You know how this works. There's two basically\ncomplex exponentials",
    "start": "1352620",
    "end": "1358440"
  },
  {
    "text": "that get multiplied\nout for the chirps, and then a bunch of\nterms cancel out.",
    "start": "1358440",
    "end": "1363929"
  },
  {
    "text": "At the end, once\nyou simplify it, it becomes equal to\nsome constant called that mu tilde 1 times a\ncomplex exponential, which",
    "start": "1363930",
    "end": "1372299"
  },
  {
    "text": "is e to the j2 pi\ndelta f1t, as expected.",
    "start": "1372300",
    "end": "1377520"
  },
  {
    "text": "Just from the visual\ninspection, we expected this Scr to have\nsome frequency delta f1.",
    "start": "1377520",
    "end": "1385710"
  },
  {
    "text": "But what's interesting\nis that delta f1 is equal to your Doppler\nshift minus B times tau.",
    "start": "1385710",
    "end": "1393990"
  },
  {
    "text": "What is b? b is the\nslew rate, and tau is the round-trip delay.",
    "start": "1393990",
    "end": "1399870"
  },
  {
    "text": "OK, and then mu tilde 1 is\njust some complex number, doesn't really matter.",
    "start": "1399870",
    "end": "1405630"
  },
  {
    "text": "It's a constant. There's no time\ndependency for it. Now, if you look at the\nsecond half, basically,",
    "start": "1405630",
    "end": "1412919"
  },
  {
    "text": "the down-ramp part of the\ntransmitted and received chirp,",
    "start": "1412920",
    "end": "1418650"
  },
  {
    "text": "so that's where\ntau is between t-- t is between t over\n2 plus tau and t,",
    "start": "1418650",
    "end": "1424110"
  },
  {
    "text": "and you do the same\nthing, again, the signal you're getting out of\nthe coherent receiver is a constant times\nreceived signal times",
    "start": "1424110",
    "end": "1432360"
  },
  {
    "text": "the complex conjugate of\nthe transmitted waveform. And again, you do\nthe simplifications.",
    "start": "1432360",
    "end": "1438809"
  },
  {
    "text": "It's very straightforward math. It's multiplication of\ntwo complex exponentials.",
    "start": "1438810",
    "end": "1444150"
  },
  {
    "text": "But after simplification,\nwhat you get is some constant times e\nto the j2 pi delta f 2t.",
    "start": "1444150",
    "end": "1450210"
  },
  {
    "text": "And here your delta f2 becomes\nthe Doppler shift plus beta.",
    "start": "1450210",
    "end": "1456330"
  },
  {
    "text": "Now, compare these two,\nand you see one of them is fd plus beta one of\nthem is fd minus beta.",
    "start": "1456330",
    "end": "1463880"
  },
  {
    "text": "So if we estimate\ndelta f1 and delta f2, very easily from that, we\ncan find both tau and fd.",
    "start": "1463880",
    "end": "1471040"
  },
  {
    "text": "You just add them\nand divide by 2. That's your fd. And you subtract them\nand divide by 2 times b.",
    "start": "1471040",
    "end": "1479050"
  },
  {
    "text": "That's your tau. It becomes a linear system\nof 2-by-2 equations.",
    "start": "1479050",
    "end": "1484600"
  },
  {
    "text": "Any questions so far? OK, so now we have the\nfull received signal model.",
    "start": "1484600",
    "end": "1492279"
  },
  {
    "text": "Again, let's look\nat it graphically. So the math was a\nbit dense, but this",
    "start": "1492280",
    "end": "1498280"
  },
  {
    "text": "is the same picture we had, the\ntransmitted and the received signals. And they get fed into\nthe coherent receiver.",
    "start": "1498280",
    "end": "1506140"
  },
  {
    "text": "And this Scr of t\nthat you get out if you look at the instantaneous\nfrequency of that signal,",
    "start": "1506140",
    "end": "1512770"
  },
  {
    "text": "it's equal to some value delta\nf1 between tau and t over 2.",
    "start": "1512770",
    "end": "1518380"
  },
  {
    "text": "That's the first part. That part-- let's\ncall that Scr1 of t.",
    "start": "1518380",
    "end": "1524320"
  },
  {
    "text": "So that's just mu 1e to the j2\npi delta f1t between tau and t",
    "start": "1524320",
    "end": "1532110"
  },
  {
    "text": "over 2. And then, from t over 2\nplus tau to t in this part, that's where we have\nScr2 of t, which",
    "start": "1532110",
    "end": "1539850"
  },
  {
    "text": "has an instantaneous\nfrequency delta f2. And that's our Scr2 of t.",
    "start": "1539850",
    "end": "1545280"
  },
  {
    "text": "And what are the\ninstantaneous frequencies? Delta f1 is fd plus b tau,\nand delta f2 is fd plus b tau.",
    "start": "1545280",
    "end": "1554490"
  },
  {
    "text": "So now with this, now that\nwe know exactly the signal",
    "start": "1554490",
    "end": "1560010"
  },
  {
    "text": "model that we get out\nof the coherent receiver for this specific\nchoice of waveform,",
    "start": "1560010",
    "end": "1566320"
  },
  {
    "text": "which is the triangular\nchirps, now what we basically",
    "start": "1566320",
    "end": "1571980"
  },
  {
    "text": "have Scr1 and Scr2. And if we estimate the\ninstantaneous frequencies",
    "start": "1571980",
    "end": "1579030"
  },
  {
    "text": "of those two portions--\nthere are just two portions. I'm calling them 1 and 2,\nbut it's one time series",
    "start": "1579030",
    "end": "1586330"
  },
  {
    "text": "signal that's coming out. But first half is--\nit's called Scr1.",
    "start": "1586330",
    "end": "1591520"
  },
  {
    "text": "Second half, we called Scr2. So we break it into two shorter,\nbasically, time series signals.",
    "start": "1591520",
    "end": "1599230"
  },
  {
    "text": "But the point is if we\nestimate the frequency or the instantaneous\nfrequency of these two,",
    "start": "1599230",
    "end": "1605309"
  },
  {
    "text": "from that, we get\ndelta f1, delta f2. And then from\ndelta f1, delta f2, we can-- with very\nsimple algebra,",
    "start": "1605310",
    "end": "1612480"
  },
  {
    "text": "we can get the Doppler shift\nand the round-trip delay or the range.",
    "start": "1612480",
    "end": "1619740"
  },
  {
    "text": "How do we do-- how do\nwe estimate frequency? Same as we have done\nbefore for radar and sonar.",
    "start": "1619740",
    "end": "1625410"
  },
  {
    "text": "Simplest algorithm is what? It's the Fourier transform. OK, so here we need to\ndo two Fourier transforms",
    "start": "1625410",
    "end": "1633000"
  },
  {
    "text": "because we have two\nportions of the signal, so you separate them out. And it's done on the\ndigitized signal, of course,",
    "start": "1633000",
    "end": "1641580"
  },
  {
    "text": "so passes through the ADC. We get Scr1 of n and Scr2 of n. This is the discretized\nversion of the signal",
    "start": "1641580",
    "end": "1650130"
  },
  {
    "text": "out of the coherent receiver. And note that this is\njust one received chirp.",
    "start": "1650130",
    "end": "1656580"
  },
  {
    "text": "So unlike the case\nof radar, where we had to build these\nbig data matrices or data",
    "start": "1656580",
    "end": "1663960"
  },
  {
    "text": "cubes for MIMO systems and\nthen process a whole frame,",
    "start": "1663960",
    "end": "1669970"
  },
  {
    "text": "for LiDAR, it's easy. It's like one chirp in, one\ntarget out, one chirp in, one target out.",
    "start": "1669970",
    "end": "1675340"
  },
  {
    "text": "So it's much\nshorter, much smaller signals you need to process.",
    "start": "1675340",
    "end": "1681679"
  },
  {
    "text": "So you do your Scr1, Scr2. Do an FFT on each of\nthem, and then you",
    "start": "1681680",
    "end": "1688149"
  },
  {
    "text": "get Scr1 of k, Scr2\nof k out of the FFT. And then you look for\npeaks in the FFTs.",
    "start": "1688150",
    "end": "1694390"
  },
  {
    "text": "The expectation is, again,\nbecause most of the time, for each chirp, you're\njust getting returns",
    "start": "1694390",
    "end": "1700750"
  },
  {
    "text": "from one target, each of these\nFFTs should show one peak.",
    "start": "1700750",
    "end": "1707450"
  },
  {
    "text": "Very rarely, you can get\nreturns, partial returns from multiple targets. And that's a complication\nthat cannot be easily handled",
    "start": "1707450",
    "end": "1714590"
  },
  {
    "text": "for FMCW LiDAR. But it's safe to assume,\nalmost always, you just",
    "start": "1714590",
    "end": "1720860"
  },
  {
    "text": "get one peak from\neach of these FFTs. So here I'm overlaying the\ntwo plots of the two FFTs",
    "start": "1720860",
    "end": "1726830"
  },
  {
    "text": "in red and blue for Scr1, Scr2. And each has a peak. One of them-- call\nthat the peak index.",
    "start": "1726830",
    "end": "1734000"
  },
  {
    "text": "Call it k hat 1. The other one-- call\nthat peak index k hat 2.",
    "start": "1734000",
    "end": "1739580"
  },
  {
    "text": "Because the Doppler shift\ncan be positive or negative,",
    "start": "1739580",
    "end": "1744679"
  },
  {
    "text": "the period of the\nFFT that we took-- we take it as symmetrically.",
    "start": "1744680",
    "end": "1750090"
  },
  {
    "text": "So the indices can go from minus\nN over 2 to N over 2 minus 1. So we look at both positive\nand negative frequencies",
    "start": "1750090",
    "end": "1757610"
  },
  {
    "text": "when we're searching\nfor k hat 1, k hat 2. And as we have\ndone for radar, we",
    "start": "1757610",
    "end": "1763430"
  },
  {
    "text": "can map the indices in the\nFFTs to the actual delta f frequency. So the delta f, the\nfrequency corresponding",
    "start": "1763430",
    "end": "1770700"
  },
  {
    "text": "to each of these\npeak indices, is just the k hat divided by\nthe number of points in the FFT times\nthe sampling rate.",
    "start": "1770700",
    "end": "1778680"
  },
  {
    "text": "Yes? Do you-- for at\nthese frequencies, how do you get rid of--",
    "start": "1778680",
    "end": "1784590"
  },
  {
    "text": "there's still the constant\ncarrier term when you mix it. The carrier term goes away\nin the coherent receiver,",
    "start": "1784590",
    "end": "1795330"
  },
  {
    "text": "so it gets basically\nmixed down to baseband.",
    "start": "1795330",
    "end": "1800429"
  },
  {
    "text": "And if you want the full\nderivation of how that happens,",
    "start": "1800430",
    "end": "1807960"
  },
  {
    "text": "it's in the notes. I'm just going to refer you to-- if you start here,\nwhere we start",
    "start": "1807960",
    "end": "1816540"
  },
  {
    "text": "talking about the optical\ncoherent detection, so we go through the full thing.",
    "start": "1816540",
    "end": "1823180"
  },
  {
    "text": " From the ground\nup, basically, we build the full model for the\noptical coherent detector.",
    "start": "1823180",
    "end": "1829920"
  },
  {
    "text": "But the point is that at the\nend of the day, that signal--",
    "start": "1829920",
    "end": "1835770"
  },
  {
    "text": "where is it? It's here. The full signal that you get-- the carrier term\nis canceled out,",
    "start": "1835770",
    "end": "1841409"
  },
  {
    "text": "but the Doppler\nterm remains in it. Again, exactly like a\ndownconverter in RF,",
    "start": "1841410",
    "end": "1849240"
  },
  {
    "text": "so it brings the signal\ndown to baseband, I mean, baseband plus\nDoppler, basically. But the carrier vanishes out\nof the coherent receiver.",
    "start": "1849240",
    "end": "1859380"
  },
  {
    "text": "OK, so that's it. So you do break the\nsignal into two sections.",
    "start": "1859380",
    "end": "1866500"
  },
  {
    "text": "Do two FFTs. Find peak. You get your two peaks, and map\nthe indices of the two peaks",
    "start": "1866500",
    "end": "1872230"
  },
  {
    "text": "to frequencies. And then you have your basically\ndelta f hat 1 and delta f",
    "start": "1872230",
    "end": "1877419"
  },
  {
    "text": "hat 2 out of the peak search. So how do we find range and\nvelocity now that we have",
    "start": "1877420",
    "end": "1884980"
  },
  {
    "text": "the two delta f's? Very simple, because\nremember we had something",
    "start": "1884980",
    "end": "1891309"
  },
  {
    "text": "like delta f1 was\nequal to fd, I think,",
    "start": "1891310",
    "end": "1897480"
  },
  {
    "text": "minus b tau, and delta\nf2 was fd plus b tau.",
    "start": "1897480",
    "end": "1903450"
  },
  {
    "text": "Double-check this, but I\nthink that's what we had. So if you want to find, for\ninstance, tau or tau hat--",
    "start": "1903450",
    "end": "1912510"
  },
  {
    "text": "becomes equal to delta f2\nminus delta f1 divided by 2b.",
    "start": "1912510",
    "end": "1921930"
  },
  {
    "text": "And R or R hat is just\nC times tau hat over 2. So if we plug that\nin, it basically",
    "start": "1921930",
    "end": "1931350"
  },
  {
    "text": "becomes C times delta f2\nminus delta f1 divided by 4b. Or if you like to\nwrite it in terms",
    "start": "1931350",
    "end": "1937050"
  },
  {
    "text": "of the indices of the\npeaks in the Doppler, you can also do that. And that's the expression, c\ntimes the sampling rate times k",
    "start": "1937050",
    "end": "1944580"
  },
  {
    "text": "hat 2 minus k hat\n1 divided by 4Nb, where big N is the number\nof points in the FFTs",
    "start": "1944580",
    "end": "1949830"
  },
  {
    "text": "that we took. So that's your range in meters. And just like that, you can find\nyour relative radial velocity,",
    "start": "1949830",
    "end": "1957080"
  },
  {
    "text": "which, as we know, is minus\nthe Doppler shift times lambda over 2.",
    "start": "1957080",
    "end": "1962290"
  },
  {
    "text": "And then, what is\nthe Doppler shift? fd or f hat d is equal to\ndelta f1 or delta f hat 1",
    "start": "1962290",
    "end": "1970679"
  },
  {
    "text": "plus delta f2 divided by 2. So plug that into here.",
    "start": "1970680",
    "end": "1975880"
  },
  {
    "text": "You get lambda plus delta\nf1 plus delta f2 over 4. Or again, if you\nlike, you can write it",
    "start": "1975880",
    "end": "1981910"
  },
  {
    "text": "in terms of the indices of the\ntwo peaks and the two FFTs. And that's your velocity\nin meters per second.",
    "start": "1981910",
    "end": "1990260"
  },
  {
    "text": "Again, what assumption-- the\nmain assumption we made here is that because the Gaussian\nbeams are very narrow,",
    "start": "1990260",
    "end": "1998490"
  },
  {
    "text": "we assume that each\nreceived chirp contains echo from, at most, one target.",
    "start": "1998490",
    "end": "2003740"
  },
  {
    "text": "Or in other words,\nthe assumption is when you do these\ntwo FFTs, each of them has, at most, one peak in it.",
    "start": "2003740",
    "end": "2010730"
  },
  {
    "text": "It can have no peaks\nif there was no return, but we're assuming,\nat most, one peak. It can happen that rarely, they\nhave a couple of peaks in them.",
    "start": "2010730",
    "end": "2020450"
  },
  {
    "text": "And then that becomes an\nambiguous case because you cannot establish correspondence\nbetween the two peaks in one",
    "start": "2020450",
    "end": "2027049"
  },
  {
    "text": "FFT and the two peaks in\nthe other FFT, basically. And in those cases, at\nleast with this setup,",
    "start": "2027050",
    "end": "2033530"
  },
  {
    "text": "you cannot find the two\ntargets unambiguously.",
    "start": "2033530",
    "end": "2038660"
  },
  {
    "text": "Questions.  OK, so this is it.",
    "start": "2038660",
    "end": "2043900"
  },
  {
    "text": "The DSP for FMCW LiDAR is\nessentially much simpler",
    "start": "2043900",
    "end": "2049810"
  },
  {
    "text": "than FMCW radar and\nfor two reasons. One was the smart choice\nthat has been made",
    "start": "2049810",
    "end": "2057099"
  },
  {
    "text": "for the choice of waveform. This triangular\nwaveform really, really",
    "start": "2057100",
    "end": "2062199"
  },
  {
    "text": "solves this problem\nof the strong coupling between the Doppler shift\nand the time of flight delay.",
    "start": "2062199",
    "end": "2069820"
  },
  {
    "text": "If we were to work\nwith sawtooth chirps, like radar, it would have\nbeen much more complicated.",
    "start": "2069820",
    "end": "2078638"
  },
  {
    "text": "But also, the second thing that\nmade it really simple, the DSP, was the fact that it's just\none return or one target",
    "start": "2078639",
    "end": "2086408"
  },
  {
    "text": "you're looking at per chirp. So you just process\none return chirp",
    "start": "2086409",
    "end": "2092199"
  },
  {
    "text": "at a time and a lot of the\ncomplications associated with radar, for instance,\nFMCW radar, just don't happen.",
    "start": "2092199",
    "end": "2100329"
  },
  {
    "text": "You don't need to work with\nthese large data cubes, and so on and so forth. OK, very quickly, you can\nalso find the minimum range",
    "start": "2100330",
    "end": "2111380"
  },
  {
    "text": "and velocity discrimination or\nrange and velocity resolution,",
    "start": "2111380",
    "end": "2117019"
  },
  {
    "text": "if you will. And as we know, exactly\nlike the case of radar,",
    "start": "2117020",
    "end": "2122030"
  },
  {
    "text": "when you're frequency\nestimation algorithm is an FFT, the minimum frequency is--\nthat you can discriminate",
    "start": "2122030",
    "end": "2129800"
  },
  {
    "text": "is one FFT bin. Or another way to think about it\nis if you look at-- if I clean",
    "start": "2129800",
    "end": "2138170"
  },
  {
    "text": "things up here, if your\nR is given, for instance, by this expression, the minimum\ndiscrimination in range is",
    "start": "2138170",
    "end": "2148720"
  },
  {
    "text": "when-- for two different\ntargets, is when k hat-- k hat 2 minus k hat\n1 is equal to 1,",
    "start": "2148720",
    "end": "2154420"
  },
  {
    "text": "and that means the two\ntargets are just one FFT bin away from each other.",
    "start": "2154420",
    "end": "2159430"
  },
  {
    "text": "So you can find your delta R\nmin, which becomes equal to-- again, you plug in the width\nof one FFT bin, which is fs",
    "start": "2159430",
    "end": "2167770"
  },
  {
    "text": "over N, into your R equation. So it becomes c\ntimes fs over 4Nb.",
    "start": "2167770",
    "end": "2173589"
  },
  {
    "text": "Or you can write it in terms\nof the total chirp bandwidth, which becomes c over 4b.",
    "start": "2173590",
    "end": "2181600"
  },
  {
    "text": "Remember, the total\nchirp bandwidth for these triangular chirps\nis because we use only half",
    "start": "2181600",
    "end": "2191470"
  },
  {
    "text": "of the full chirp\nduration to ramp up. So if you start at\nsome frequency fc,",
    "start": "2191470",
    "end": "2199030"
  },
  {
    "text": "you go up to fc plus bt over 2. So your chirp bandwidth,\nwhich is the total frequency",
    "start": "2199030",
    "end": "2207350"
  },
  {
    "text": "range that you sweep, is\nbig B equals bt over 2.",
    "start": "2207350",
    "end": "2215150"
  },
  {
    "text": "For the case of radar, because\nit was just one up-ramp, your chirp bandwidth\nwas b times t.",
    "start": "2215150",
    "end": "2221210"
  },
  {
    "text": "There was no over 2. But here you have the chirp\nbandwidth for the same duration and same slew rate, basically.",
    "start": "2221210",
    "end": "2226790"
  },
  {
    "text": "And if you compare this\nto what we had for radar, you would see that there is\na factor of 2 difference.",
    "start": "2226790",
    "end": "2232200"
  },
  {
    "text": "That's why, because\nthe bandwidth you get, again, for the same\nslew rate and same chirp duration, is half in this\ncase because you need",
    "start": "2232200",
    "end": "2239420"
  },
  {
    "text": "to ramp up and ramp back down. Velocity resolution--\nsame thing.",
    "start": "2239420",
    "end": "2245450"
  },
  {
    "text": "the velocity equation we\nhad in the previous slide we derived-- you\njust look at that for how much that changes when\nyou change your peak by one FFT",
    "start": "2245450",
    "end": "2254940"
  },
  {
    "text": "bin. And that's your delta v, and\nit becomes lambda over 2T and meters per second.",
    "start": "2254940",
    "end": "2261440"
  },
  {
    "text": "The trade-offs are the\nsame, exactly as FMCW radar. So if you want more\nvelocity resolution,",
    "start": "2261440",
    "end": "2268609"
  },
  {
    "text": "for instance, what\nshould you do? Increase B. So\ndelta R goes down.",
    "start": "2268610",
    "end": "2273790"
  },
  {
    "text": "You get-- sorry, more\nrange resolution. So that's more range resolution. If you want more velocity\nresolution, what can you do?",
    "start": "2273790",
    "end": "2282770"
  },
  {
    "text": "Increase chirp duration or\ngo to shorter wavelengths, for instance.",
    "start": "2282770",
    "end": "2289730"
  },
  {
    "text": "And that's what you can do. What about maximum unambiguous\nrange and velocity?",
    "start": "2289730",
    "end": "2296100"
  },
  {
    "text": "So in this case,\nthey are coupled. So unlike the case\nof radar, where we had one FFT for range,\none FFT for velocity here,",
    "start": "2296100",
    "end": "2305810"
  },
  {
    "text": "the same FFT essentially gives\nyou both range and velocity",
    "start": "2305810",
    "end": "2311120"
  },
  {
    "text": "information. So you cannot independently\ndetermine your unambiguous range and velocities\nin this case, again,",
    "start": "2311120",
    "end": "2318140"
  },
  {
    "text": "because the peaks that you get-- the frequency of them\nhas contributions from range and from velocity.",
    "start": "2318140",
    "end": "2324500"
  },
  {
    "text": "But the point is,\nfor a given FFT, the maximum peak frequency you\ncan find in it, delta f max,",
    "start": "2324500",
    "end": "2331339"
  },
  {
    "text": "is half the sampling rate. Why half? Because we look at it two-sided,\nso we search for delta f's",
    "start": "2331340",
    "end": "2339329"
  },
  {
    "text": "that are between minus\nfs over 2 and fs over 2.",
    "start": "2339330",
    "end": "2345660"
  },
  {
    "text": "And because of that, the maximum\npeak in each of those two individual FFTs that\nyou can-- you're doing,",
    "start": "2345660",
    "end": "2352080"
  },
  {
    "text": "the maximum frequency for the\npeak is going to be fs over 2.",
    "start": "2352080",
    "end": "2357480"
  },
  {
    "text": "And that's the maximum\ndetectable frequency. What range and\nvelocity translates to? Well, it depends.",
    "start": "2357480",
    "end": "2362970"
  },
  {
    "text": "If everything is stationary,\nthen all of that delta f is contributed to\nfrom the range.",
    "start": "2362970",
    "end": "2368369"
  },
  {
    "text": "And then you can say,\nin a stationary world, this is the maximum\nrange I can sense.",
    "start": "2368370",
    "end": "2374730"
  },
  {
    "text": "Or the other way around. If you know you're sensing\nsomething very close to you but it's moving\nvery fast from this,",
    "start": "2374730",
    "end": "2381150"
  },
  {
    "text": "you can maybe determine\nwhat's the maximum velocity. But they're coupled, so you\ncannot independently say",
    "start": "2381150",
    "end": "2388500"
  },
  {
    "text": "maximum range, maximum velocity,\nbecause they get coupled through this. Questions?",
    "start": "2388500",
    "end": "2396340"
  },
  {
    "text": "OK, so this is it\nabout FMCW LiDAR.",
    "start": "2396340",
    "end": "2402730"
  },
  {
    "text": "You can also build PMCW\nLiDAR, and we know exactly how this is going to work.",
    "start": "2402730",
    "end": "2408460"
  },
  {
    "text": "It's the same physics, same\narchitecture, different choice of waveforms and DSP.",
    "start": "2408460",
    "end": "2415120"
  },
  {
    "text": "Now, before we\ntalk about this, we are not going to go into a\nlot of depth here, because--",
    "start": "2415120",
    "end": "2420160"
  },
  {
    "text": "well, PMCW LiDAR--\nto my knowledge, it has not been\ncommercially deployed yet.",
    "start": "2420160",
    "end": "2426040"
  },
  {
    "text": "Although it's a very, very\ninteresting technology in research, there's a lot of\nvery interesting research being",
    "start": "2426040",
    "end": "2431049"
  },
  {
    "text": "done on it, for some\ntechnological reasons,",
    "start": "2431050",
    "end": "2436390"
  },
  {
    "text": "mainly because it requires ADCs\nwith very high sampling rate and the DSP gets a\nlittle more complicated,",
    "start": "2436390",
    "end": "2443360"
  },
  {
    "text": "it has not been\ncommercially deployed. Now, that's today. I'm sure-- well, not 100% sure.",
    "start": "2443360",
    "end": "2448930"
  },
  {
    "text": "But I'm fairly confident,\nin a few years, we're going to see\nPMCW leaders deployed.",
    "start": "2448930",
    "end": "2455270"
  },
  {
    "text": "So it's important to at\nleast know the concept. ",
    "start": "2455270",
    "end": "2460580"
  },
  {
    "text": "So if you decide to work on it,\nor if you encounter it later",
    "start": "2460580",
    "end": "2465770"
  },
  {
    "text": "in your career, you know\nwhat the ideas behind it are. Again, main difference here is\nthey use different waveforms.",
    "start": "2465770",
    "end": "2475100"
  },
  {
    "text": "And specifically, they\nuse ranging codes, and they're phase modulated,\nso binary phase modulated, BPSK",
    "start": "2475100",
    "end": "2484220"
  },
  {
    "text": "modulation, again, exactly\nlike PMCW radar and GPS.",
    "start": "2484220",
    "end": "2489710"
  },
  {
    "text": "And the waveforms\nthat they send-- you can send any codes basically\nwith good autocorrelation",
    "start": "2489710",
    "end": "2497240"
  },
  {
    "text": "properties. Most common one is\nMLS or M sequences. So that's your\nunderlying waveform.",
    "start": "2497240",
    "end": "2504529"
  },
  {
    "text": "And then you phase\nmodulate it, and you get basically a sequence\nof plus and minus 1's,",
    "start": "2504530",
    "end": "2510800"
  },
  {
    "text": "exactly like a GPS, that\nmultiplies your carrier. So this first term is the BPSK\nmodulated waveform, which,",
    "start": "2510800",
    "end": "2521480"
  },
  {
    "text": "again, is just plus\n1 and minus 1's. And then that's\nyour carrier term.",
    "start": "2521480",
    "end": "2527960"
  },
  {
    "text": "So in time domain, basically,\nthis is what it looks like. One codeword is just a series of\nplus 1's and the minus 1's that",
    "start": "2527960",
    "end": "2535550"
  },
  {
    "text": "are multiplying the carrier. So every time you go from\na plus 1 to a minus 1, you get 180 degree phase\nshift in your carrier.",
    "start": "2535550",
    "end": "2544460"
  },
  {
    "text": "OK, so that's the signal. And then the signal\nmodel on the receive side",
    "start": "2544460",
    "end": "2551090"
  },
  {
    "text": "is exactly the\nsame as FMCW LiDAR because it's the same physics,\nso the signal you get out",
    "start": "2551090",
    "end": "2557630"
  },
  {
    "text": "of your coherent receiver is\nsome constant times the delayed transmitted waveform\ntimes the Doppler shift.",
    "start": "2557630",
    "end": "2568250"
  },
  {
    "text": "So you get attenuation. You get a delay, and\nyou get Doppler shift. Then you need to digitize\nthis and do DSP on it",
    "start": "2568250",
    "end": "2577190"
  },
  {
    "text": "to recover range and velocity\nor range and Doppler. Now, in the case where\nthere is no Doppler",
    "start": "2577190",
    "end": "2584600"
  },
  {
    "text": "shift, if fd is zero,\nwe know exactly how this is going to work. You just have\ntransmitted some code.",
    "start": "2584600",
    "end": "2592680"
  },
  {
    "text": "You have a receive code, which\nis delayed and attenuated with respect to the\ntransmitted code. But there is no Doppler\nshift, so all you need to do",
    "start": "2592680",
    "end": "2600589"
  },
  {
    "text": "is just take the cyclic\ncorrelation of the two, exactly as you've done in GPS.",
    "start": "2600590",
    "end": "2606080"
  },
  {
    "text": "And then that correlation shows\na peak at the round-trip delay tau, very easy.",
    "start": "2606080",
    "end": "2613110"
  },
  {
    "text": "We all know how this works. But it gets complicated\nwhen you have Doppler shift because, as we know,\nfor the case of LiDAR,",
    "start": "2613110",
    "end": "2621140"
  },
  {
    "text": "Doppler shifts are pretty\nbig and non-negligible. So you have to either\ncancel out the Doppler shift",
    "start": "2621140",
    "end": "2629060"
  },
  {
    "text": "or jointly estimate it with\nrange or do something about it. Now, in this more general case,\nwhere there is Doppler shift,",
    "start": "2629060",
    "end": "2637550"
  },
  {
    "text": "for PMCW LiDAR, there\nis no standard algorithm",
    "start": "2637550",
    "end": "2642980"
  },
  {
    "text": "as of today, again, because\nthis is still being researched. There's ideas out\nthere, and some of them",
    "start": "2642980",
    "end": "2648829"
  },
  {
    "text": "have been proven experimentally,\nand we know they work. But there's no textbook-standard\nalgorithm that you have,",
    "start": "2648830",
    "end": "2656510"
  },
  {
    "text": "PMCW LiDAR-- this is what you do, step\n1, 2, 3, and it works.",
    "start": "2656510",
    "end": "2663080"
  },
  {
    "text": "So I'm just going\nto mention the ideas or some possible\napproaches to how you could do DSP for PMCW\nLiDAR in the general case",
    "start": "2663080",
    "end": "2671690"
  },
  {
    "text": "where you have Doppler. First idea is exactly the\nsame thing we did for GPS.",
    "start": "2671690",
    "end": "2678230"
  },
  {
    "text": "This was also a problem for GPS. Remember, GPS-- you\nhad to jointly estimate",
    "start": "2678230",
    "end": "2684110"
  },
  {
    "text": "your range and Doppler. Or the way the GPS\nreceivers work-- it would basically search\nfor the Doppler shift.",
    "start": "2684110",
    "end": "2692570"
  },
  {
    "text": "And once they found it,\nthey would cancel it out by doing Doppler demodulation.",
    "start": "2692570",
    "end": "2698839"
  },
  {
    "text": "And this should all be\nfamiliar because that's how the GPS works. So we can do that, somehow\nestimate your Doppler",
    "start": "2698840",
    "end": "2707520"
  },
  {
    "text": "and do demodulation with it. And then after you\ndemodulate your Doppler, you get something that is\nonly a delayed coding range--",
    "start": "2707520",
    "end": "2715560"
  },
  {
    "text": "ranging code. And then you just apply\na correlation to that and do range.",
    "start": "2715560",
    "end": "2721859"
  },
  {
    "text": "So that's basically,\ndo it the GPS way. That's one idea. Other ideas that are\nquite interesting--",
    "start": "2721860",
    "end": "2730289"
  },
  {
    "text": "and I've linked some\nresearch papers here. One is there are some algorithms\nin DSP which you can jointly",
    "start": "2730290",
    "end": "2736800"
  },
  {
    "text": "estimate range and Doppler,\npretty interesting. So you just formulate it as\na joint optimization problem.",
    "start": "2736800",
    "end": "2743550"
  },
  {
    "text": "Or another very interesting\nresearch track is--",
    "start": "2743550",
    "end": "2748950"
  },
  {
    "text": "well, you don't have to\ntransmit M sequences. You can design more\nmathematically advanced",
    "start": "2748950",
    "end": "2757260"
  },
  {
    "text": "waveforms, which, for instance,\nstill have good autocorrelation properties.",
    "start": "2757260",
    "end": "2762810"
  },
  {
    "text": "But they're robust\nto Doppler shift. So when you get\nDoppler shift on them, it doesn't destroy the\ncorrelation properties,",
    "start": "2762810",
    "end": "2769589"
  },
  {
    "text": "as happens for M sequences. And that's a very, very\ninteresting research topic of what kind of special\nranging codes you could do.",
    "start": "2769590",
    "end": "2778650"
  },
  {
    "text": "This area of code\ndesign is also-- it's not just for\nLiDAR, even for GPS.",
    "start": "2778650",
    "end": "2786930"
  },
  {
    "text": "Still today, there's\nvery active research being done in new\nwaveforms, new code designs.",
    "start": "2786930",
    "end": "2792300"
  },
  {
    "text": "So a couple of days ago,\nthere was a PhD defense here at Stanford that was\nabout new code designs",
    "start": "2792300",
    "end": "2800190"
  },
  {
    "text": "for GPS, which was very,\nvery interesting to me. So just so you know, it's a\nvery active research area.",
    "start": "2800190",
    "end": "2808110"
  },
  {
    "text": "And you can do very,\nvery interesting things in this domain.",
    "start": "2808110",
    "end": "2813570"
  },
  {
    "text": "OK, so that's it about\nbasically coherent LiDAR. So we developed a signal model.",
    "start": "2813570",
    "end": "2820020"
  },
  {
    "text": "We talked about FMCW and\nPMCW signal processing and waveforms to do range\nand Doppler estimation.",
    "start": "2820020",
    "end": "2829290"
  },
  {
    "text": "Next topic is\ndirection of arrival or DOA estimation for LiDAR. But before we start\nthat, any questions?",
    "start": "2829290",
    "end": "2838579"
  },
  {
    "text": "OK, so DOA estimation-- I mean, we have kind\nof talked about it. It's extremely easy for LiDAR\nbecause it doesn't require DSP,",
    "start": "2838580",
    "end": "2848690"
  },
  {
    "text": "essentially, or maybe\nvery minimal DSP. And we should talk about\nthe two main types of LiDAR.",
    "start": "2848690",
    "end": "2856670"
  },
  {
    "text": "So if you remember,\nthere's flash LiDAR, which illuminates the\nentire scene in one shot,",
    "start": "2856670",
    "end": "2864080"
  },
  {
    "text": "with a very wide laser pattern. And there is a scanning LiDAR.",
    "start": "2864080",
    "end": "2869210"
  },
  {
    "text": "Now let's look at how DOA\nis estimated in flash LiDAR. So in flash LiDAR,\nit's pretty easy.",
    "start": "2869210",
    "end": "2876900"
  },
  {
    "text": "So on the receive side, we\nhave an array of photodiodes,",
    "start": "2876900",
    "end": "2882619"
  },
  {
    "text": "kind of like a camera sensor. It has multiple pixels. And then it has some\noptics in front of it.",
    "start": "2882620",
    "end": "2888990"
  },
  {
    "text": "And then on the\ntransmit side, they transmit a very\ndiffuse wide laser beam that illuminates a very\nlarge area in the scene.",
    "start": "2888990",
    "end": "2898670"
  },
  {
    "text": "And then the\nreceiver essentially takes an image of\nit, if you will,",
    "start": "2898670",
    "end": "2904450"
  },
  {
    "text": "except, instead of an RGB image,\nit's a time of flight image. So every pixel measures\ntime of flight.",
    "start": "2904450",
    "end": "2910120"
  },
  {
    "text": "But just by looking at\nthe way the optics work, every pixel in a receiver\narray of the flash LiDAR--",
    "start": "2910120",
    "end": "2921610"
  },
  {
    "text": "it basically gets returns\nfrom a very specific direction",
    "start": "2921610",
    "end": "2929650"
  },
  {
    "text": "in the scene, which is like--\nif you look at pixel j, the theta phi, which is\nthe azimuth elevation",
    "start": "2929650",
    "end": "2936130"
  },
  {
    "text": "angle of the returns that pixel\ngets, is fixed in the scene,",
    "start": "2936130",
    "end": "2941619"
  },
  {
    "text": "again, exactly like camera. That's how images are formed. Every pixel in your camera-- you can trace back the\ndirection of the rays that",
    "start": "2941620",
    "end": "2950050"
  },
  {
    "text": "hit it from the scene. And the way that is\ndone-- you can just connect the pixel to the\noptic center of the lens",
    "start": "2950050",
    "end": "2957670"
  },
  {
    "text": "and just trace that ray. So with ray tracing,\nyou know exactly where",
    "start": "2957670",
    "end": "2963310"
  },
  {
    "text": "the direction of arrival\nof every pixel is. And for as long as\nthe optics is fixed",
    "start": "2963310",
    "end": "2970060"
  },
  {
    "text": "and the placement of\nthe photodetector array",
    "start": "2970060",
    "end": "2976840"
  },
  {
    "text": "relative to the optics is\nfixed, that direction-- the direction doesn't change.",
    "start": "2976840",
    "end": "2982130"
  },
  {
    "text": "So you just basically\nhave a lookup table that tells you every pixel-- what the DOA associated with it\nis, and that's how you do DOA.",
    "start": "2982130",
    "end": "2992190"
  },
  {
    "text": "There's no DSP required\nfor flash LiDAR. It's just by geometry of\nthe pixels and the optics",
    "start": "2992190",
    "end": "2999940"
  },
  {
    "text": "and the geometric\nrelationship between the two, which is the\ndistance, basically.",
    "start": "2999940",
    "end": "3006180"
  },
  {
    "text": "OK, what about scanning LiDAR? Scanning LiDAR also\nturns out that you almost",
    "start": "3006180",
    "end": "3011640"
  },
  {
    "text": "don't need any DSP. It depends on the\nscanning mechanism, and we know there's different\nscanning mechanisms.",
    "start": "3011640",
    "end": "3018840"
  },
  {
    "text": "But basically, again,\nbecause we are sending out super collimated, pencil-like\nlaser beams, the DOA",
    "start": "3018840",
    "end": "3028530"
  },
  {
    "text": "is the direction that the\nbeam scanner is pointing to. So we kind of know the DOA.",
    "start": "3028530",
    "end": "3033960"
  },
  {
    "text": "We don't need to estimate\nit from the returns, like we had to do for radar.",
    "start": "3033960",
    "end": "3039450"
  },
  {
    "text": "So here's one example for a\nmulti-beam spinning LiDAR.",
    "start": "3039450",
    "end": "3045180"
  },
  {
    "text": "So those are the ones that--\nwe had one in class last time, and we looked at it. We know they transmit multiple\nlaser beams simultaneously,",
    "start": "3045180",
    "end": "3052539"
  },
  {
    "text": "and each of the beams coming\nout is pointed to a fixed-- is pointing to a\nfixed elevation angle.",
    "start": "3052540",
    "end": "3059540"
  },
  {
    "text": "So those are fixed\nand never change. So basically, the\nphi's are determined",
    "start": "3059540",
    "end": "3066070"
  },
  {
    "text": "by the position of the lasers. Here's how you can look at it.",
    "start": "3066070",
    "end": "3071090"
  },
  {
    "text": "So inside the LiDAR,\nbasically, you have a stack of laser\ndiodes and a stack of PDs.",
    "start": "3071090",
    "end": "3081069"
  },
  {
    "text": "So they're literally\nstacked on top of each. Other and each of them, when\nit transmits, there's usually--",
    "start": "3081070",
    "end": "3087790"
  },
  {
    "text": "they are pointed backwards. It hits a mirror and then comes\nout and goes through the lens.",
    "start": "3087790",
    "end": "3094569"
  },
  {
    "text": "And then there's two lenses,\none for the transmit, one for receive. So if you look at your laser\ndiodes, because they're stacked",
    "start": "3094570",
    "end": "3102190"
  },
  {
    "text": "and then there's a lens in\nfront of them, each of them will point to a fixed\nelevation angle.",
    "start": "3102190",
    "end": "3108520"
  },
  {
    "text": "It has a fixed phi. And there's very\nprecise alignment between the photodiodes\nand the lasers",
    "start": "3108520",
    "end": "3114790"
  },
  {
    "text": "so that there is correspondence. Like, first laser-- it points\nin some elevation angle phi 1.",
    "start": "3114790",
    "end": "3121720"
  },
  {
    "text": "And the first photodiode also\nis looking at the same elevation angle. So the beam that was\ntransmitted by the first laser--",
    "start": "3121720",
    "end": "3129070"
  },
  {
    "text": "the echo from it is received\nby the first photodiode. That's such that there\nis no cross-coupling",
    "start": "3129070",
    "end": "3136180"
  },
  {
    "text": "between the multiple\nlaser beams and their corresponding returns. So you have the\ntwo stacks, and it",
    "start": "3136180",
    "end": "3141760"
  },
  {
    "text": "could be like any\nnumber between 16 or 128 typically lasers and\nreceivers in each of them.",
    "start": "3141760",
    "end": "3150550"
  },
  {
    "text": "The elevation angles\nare just fixed in hardware, never change.",
    "start": "3150550",
    "end": "3155740"
  },
  {
    "text": "OK, what about azimuth? Well, the azimuth-- we know\nthese systems spin around 360 degrees.",
    "start": "3155740",
    "end": "3161480"
  },
  {
    "text": "So for each transmitted\npulse, you-- by looking at the\nposition of the motor,",
    "start": "3161480",
    "end": "3168130"
  },
  {
    "text": "you also know the azimuth angle. And you just read\nthat back from, say, an encoder that's on the motor,\nand that gives you a theta.",
    "start": "3168130",
    "end": "3178140"
  },
  {
    "text": "So the phi's are fixed\nper laser or per PD. And the theta-- you just\nread it back from your motor,",
    "start": "3178140",
    "end": "3185400"
  },
  {
    "text": "and that's how you do DOA\nin a multi-beam scanning LiDAR, pretty much no DSP.",
    "start": "3185400",
    "end": "3190680"
  },
  {
    "text": "Again, it's very simple. I mean, the DSP is just, read\nback the state of the motor and see what angle that is.",
    "start": "3190680",
    "end": "3197250"
  },
  {
    "text": "OK, one more example\nfor scanning LiDAR. Again, there's lots of\ndifferent scanning mechanisms,",
    "start": "3197250",
    "end": "3203760"
  },
  {
    "text": "but the idea is the same. So for other scanners,\nhere's a MEMS one,",
    "start": "3203760",
    "end": "3210960"
  },
  {
    "text": "where it scans in both\nazimuth and elevation. Again, usually you have\na model for the scanner.",
    "start": "3210960",
    "end": "3218970"
  },
  {
    "text": "And what the model\ndoes for you is, basically, it tells you the\nazimuth and elevation angles,",
    "start": "3218970",
    "end": "3225930"
  },
  {
    "text": "theta and phi, of the\noutgoing beam with respect to the state of the scanner. What do we mean by the state?",
    "start": "3225930",
    "end": "3231770"
  },
  {
    "text": "Well, it depends on\nthe scanner type. But here, for\ninstance, for the MEMS scanner we are showing\nhere, the state",
    "start": "3231770",
    "end": "3238250"
  },
  {
    "text": "could be the state of the\ntwo actuators, one of which controls the pitch.",
    "start": "3238250",
    "end": "3243920"
  },
  {
    "text": "And the other one controls\nthe roll of the mirror. And if you have some geometric\nmodel of this pivoting mirror,",
    "start": "3243920",
    "end": "3252920"
  },
  {
    "text": "by reading back the state\nof the two actuators, feeding that to\nyour forward model,",
    "start": "3252920",
    "end": "3257960"
  },
  {
    "text": "that tells you the theta and\nphi of the outgoing beam. And that is basically your DOA.",
    "start": "3257960",
    "end": "3263960"
  },
  {
    "text": "Another example of\nthis, for instance, for a [? two-gavel ?] system-- I think last Friday, I\nwent over the full details",
    "start": "3263960",
    "end": "3271309"
  },
  {
    "text": "of how you can build\nthat geometric model for a complex beam scanner\nthat has two mirrors.",
    "start": "3271310",
    "end": "3277819"
  },
  {
    "text": "If you didn't tune in, make\nsure you look at the recording because it's a very important,\nvery interesting example of how",
    "start": "3277820",
    "end": "3285530"
  },
  {
    "text": "you can build this, these\ngeometric models that tell you the DOA for a specific\nchoice of beam scanner.",
    "start": "3285530",
    "end": "3293910"
  },
  {
    "text": "But it's a modeling effort. It's not DSP. It's not dependent on\nyour received signals.",
    "start": "3293910",
    "end": "3299579"
  },
  {
    "text": "You just model it once\nand use that model always. Just feed the state of the\nscanner into your model,",
    "start": "3299580",
    "end": "3305940"
  },
  {
    "text": "and the model predicts the\nangle of the outgoing beam. But it's important\nto build the model because, if you don't\nbuild the proper model,",
    "start": "3305940",
    "end": "3312570"
  },
  {
    "text": "you can get distortions\nin the point clouds that you reconstruct because\nyour theta and phi's are not",
    "start": "3312570",
    "end": "3319290"
  },
  {
    "text": "accurately calculated. And that's it. So DOA and LiDAR--",
    "start": "3319290",
    "end": "3325740"
  },
  {
    "text": "it's very simple. Generally or in comparison\nto radar, I should say,",
    "start": "3325740",
    "end": "3331020"
  },
  {
    "text": "it's much simpler. There's no added\nDSP overhead, but it requires accurately\nmodeling whatever",
    "start": "3331020",
    "end": "3338490"
  },
  {
    "text": "beam scanning method you're\nusing and using proper models so you don't get\ndistorted point clouds.",
    "start": "3338490",
    "end": "3347970"
  },
  {
    "text": "OK, so we're pretty much done\nwith the discussion of LiDAR.",
    "start": "3347970",
    "end": "3354200"
  },
  {
    "text": "Just to recap, let's look at\nthe end-to-end DSP pipelines for different types of\nLiDARs we discussed.",
    "start": "3354200",
    "end": "3362090"
  },
  {
    "text": "So starting with the\ndirect detection LiDAR, so you get the signal out\nof your photodetector.",
    "start": "3362090",
    "end": "3367430"
  },
  {
    "text": "And as we know, the way--\nit can only estimate range. And the way ranging\nworks is that it",
    "start": "3367430",
    "end": "3372800"
  },
  {
    "text": "does the leading edge detector\nor leading edge thresholding. And from that, it estimates the\ntau hat or the round-trip time",
    "start": "3372800",
    "end": "3381859"
  },
  {
    "text": "of flight. And you can convert that\nto range, so we get R hat.",
    "start": "3381860",
    "end": "3386869"
  },
  {
    "text": "And for DOA, you basically get\nthat from your beam scanner. Either read it directly back or\nfrom the model that you have.",
    "start": "3386870",
    "end": "3396050"
  },
  {
    "text": "That gives you your\ntheta hat, phi hat. And from the range and the\nazimuth and elevation angles,",
    "start": "3396050",
    "end": "3402620"
  },
  {
    "text": "you can now build\n3D representations in the form of a, say, a\npoint cloud, for instance.",
    "start": "3402620",
    "end": "3408390"
  },
  {
    "text": "And that is the final\nLiDAR image that comes out. So that's your direct\ndetection LiDAR.",
    "start": "3408390",
    "end": "3414630"
  },
  {
    "text": "Coherent LiDAR, let's say FMCW\nthat we just talked about-- so you get your signal out\nof the coherent receiver.",
    "start": "3414630",
    "end": "3422880"
  },
  {
    "text": "You break it into\nthe two halves. We call that Scr1, Scr2. It's the two halves of the--",
    "start": "3422880",
    "end": "3429360"
  },
  {
    "text": "of the same signal. You do FFTs on the two, and then\nyou find the peak in each FFT.",
    "start": "3429360",
    "end": "3435150"
  },
  {
    "text": "That gives you your delta\nf1 or delta-- and delta f2. And then, by some very simple\nmath, on delta f1, delta f2,",
    "start": "3435150",
    "end": "3444599"
  },
  {
    "text": "as we know, you can\nestimate range and relative radial velocity.",
    "start": "3444600",
    "end": "3450839"
  },
  {
    "text": "And then the DOA-- again, you\nread it back from your scanner if it has read back. Or if not, you have\nsome forward model.",
    "start": "3450840",
    "end": "3457680"
  },
  {
    "text": "And from that, you just\nestimate what the pointing angle was for your beam scanner. And that is your\ntheta hat, phi hat.",
    "start": "3457680",
    "end": "3465330"
  },
  {
    "text": "And now you have range,\nvelocity, and DOA, and then you can produce\nrepresentations usually",
    "start": "3465330",
    "end": "3471359"
  },
  {
    "text": "in the form of a point cloud. And that's your\noutput LiDAR image. What about coherent PMCW LiDAR?",
    "start": "3471360",
    "end": "3479190"
  },
  {
    "text": "It's slightly more complicated. So you get your signal out\nof the coherent receiver.",
    "start": "3479190",
    "end": "3484980"
  },
  {
    "text": "There's different\nmethods, as we said. Here I'm showing the\ncase where you somehow",
    "start": "3484980",
    "end": "3491040"
  },
  {
    "text": "estimate your Doppler shift. And then, if you have\nan estimate of f hat,",
    "start": "3491040",
    "end": "3496050"
  },
  {
    "text": "you can demodulate your\nsignal with the Doppler, so basically,\nexactly like a GPS.",
    "start": "3496050",
    "end": "3501869"
  },
  {
    "text": "Multiply it by\nminus j2 pi f hat d.",
    "start": "3501870",
    "end": "3507330"
  },
  {
    "text": "Now, this s tilde\nof n is the signal with Doppler canceled out, so\nyou can just correlate that.",
    "start": "3507330",
    "end": "3515430"
  },
  {
    "text": "Feed it to a correlation\nwith a local replica of the ranging\ncode that you sent, and the correlation\npeak gives you",
    "start": "3515430",
    "end": "3523019"
  },
  {
    "text": "an estimate of the\nround-trip time of flight. And also, you have\nyour Doppler estimation",
    "start": "3523020",
    "end": "3530789"
  },
  {
    "text": "from your Doppler block. And from there, you basically\nget your range and velocity",
    "start": "3530790",
    "end": "3536010"
  },
  {
    "text": "estimate. And DOA-- same story. Either you read it back,\nor you have some model of the beam scanner,\nwhich gives you",
    "start": "3536010",
    "end": "3542609"
  },
  {
    "text": "the pointing angle of your\nlaser, phi hat and theta hat. And now you have range,\nvelocity, and DOA,",
    "start": "3542610",
    "end": "3548700"
  },
  {
    "text": "and you can generate\npoint clouds, which is your final LiDAR image. So that's basically the\nfull-- the full picture",
    "start": "3548700",
    "end": "3555990"
  },
  {
    "text": "for different types of\nLiDAR that we looked at. Questions?",
    "start": "3555990",
    "end": "3562530"
  },
  {
    "text": "OK, so that's it. Just to recap, so LiDAR--",
    "start": "3562530",
    "end": "3568109"
  },
  {
    "text": "when it comes to 3D\nmapping, as of today, it's the most capable\ntype of sensor.",
    "start": "3568110",
    "end": "3573580"
  },
  {
    "text": "So you get the nicest looking,\nhighest resolution type of 3D maps out of LiDAR.",
    "start": "3573580",
    "end": "3581490"
  },
  {
    "text": "Let's look at a quick\nvideo of something that's almost a state\nof the art as of today.",
    "start": "3581490",
    "end": "3587100"
  },
  {
    "text": "This is a direct detection\nLiDAR we are going to look at, and this is just a point cloud.",
    "start": "3587100",
    "end": "3593369"
  },
  {
    "text": "It's mounted on a\ncar driving around. OK, some reason, it's not\ngoing to full resolution.",
    "start": "3593370",
    "end": "3603790"
  },
  {
    "text": " But here you see--\nand there is--",
    "start": "3603790",
    "end": "3609460"
  },
  {
    "text": "this is just-- they're\nshowing just one frame, so it's at 10 frames\na second, I think. And it's not like\noverlaying multiple frames",
    "start": "3609460",
    "end": "3616809"
  },
  {
    "text": "or doing slam or\nanything like that. As you can see, things that\nare moving around-- there's no-- almost no motion blur.",
    "start": "3616810",
    "end": "3623240"
  },
  {
    "text": "So it's a direct\ndetection LiDAR. There's no velocity, but they\nget excellent reflectivity.",
    "start": "3623240",
    "end": "3628720"
  },
  {
    "text": "And their basically color\nhere is reflectivity at ir wavelengths, so they\nget very nice intensity",
    "start": "3628720",
    "end": "3635500"
  },
  {
    "text": "or reflectivity out\nof this, very dense. So this one-- this is a\nspinning lighter with 128,",
    "start": "3635500",
    "end": "3642609"
  },
  {
    "text": "basically, scan lines,\nuniform in elevation. So this is what you\ncan-- and it sees up to,",
    "start": "3642610",
    "end": "3650440"
  },
  {
    "text": "I think, 2 or 300 meters,\nexcellent resolution, high frame rate, and\nso on and so forth.",
    "start": "3650440",
    "end": "3656313"
  },
  {
    "text": "That's the state\nof the art today. As you see, I mean, radar is\nstill today way behind this.",
    "start": "3656313",
    "end": "3662940"
  },
  {
    "text": "But LiDAR has its own-- its own limitations. So one is cost.",
    "start": "3662940",
    "end": "3669500"
  },
  {
    "text": "These LiDARs today are\nextremely expensive. They're in somewhere\nbetween $5 to $20,000 range,",
    "start": "3669500",
    "end": "3678170"
  },
  {
    "text": "depending on the specifics of\nthe system one LiDAR, so very, very expensive.",
    "start": "3678170",
    "end": "3684755"
  },
  {
    "text": "Their performance, as we\nknow, degrade significantly in poor weather because\nof the Mie scattering. So if there's fog,\ndust, rain, snow,",
    "start": "3684755",
    "end": "3692450"
  },
  {
    "text": "those kinds of conditions,\ncan significantly degrade. And also, at least the direct\ndetection type of LiDAR",
    "start": "3692450",
    "end": "3699560"
  },
  {
    "text": "can be prone or quite\nsensitive to interference either from other\nLiDARs or sunlight,",
    "start": "3699560",
    "end": "3706490"
  },
  {
    "text": "or any type of in-band\ninterference can degrade. Some of these LiDARs-- even\nif you have two of them",
    "start": "3706490",
    "end": "3713600"
  },
  {
    "text": "in close proximity\noperating, they blind each other because of\nthe strong interferences.",
    "start": "3713600",
    "end": "3719780"
  },
  {
    "text": "So again, you can get beautiful\n3D maps, very high resolution. And these are very\ncapable systems.",
    "start": "3719780",
    "end": "3726840"
  },
  {
    "text": "You also need to\nknow the limitations, and that's why you need other\ntypes of sensing modalities",
    "start": "3726840",
    "end": "3734450"
  },
  {
    "text": "for these limitations. Coherent LiDAR-- as we know, you\ncan get superior performance.",
    "start": "3734450",
    "end": "3739640"
  },
  {
    "text": "And it's getting\nmore traction today. There are already commercially\ndeployed coherent LiDARs",
    "start": "3739640",
    "end": "3745520"
  },
  {
    "text": "but not nearly as much\nas direct detection. Today, only FMCW is deployed.",
    "start": "3745520",
    "end": "3751430"
  },
  {
    "text": "Hopefully, PMCW\nwill be coming soon. Coherent systems today\nare even more expensive",
    "start": "3751430",
    "end": "3758210"
  },
  {
    "text": "than direct detection. But again, there's\nlots of efforts underway to make it cheap with--",
    "start": "3758210",
    "end": "3763670"
  },
  {
    "text": "especially with better\nphotonic integration. Hopefully, these systems\ncan become cheap.",
    "start": "3763670",
    "end": "3769850"
  },
  {
    "text": "They can estimate velocity,\nwhich is very, very valuable for autonomy. And that's one thing that\ndirect detection doesn't do.",
    "start": "3769850",
    "end": "3777440"
  },
  {
    "text": "And there's tons and\ntons of ongoing research on coherent LiDAR, especially\nPMCW in terms of DSP,",
    "start": "3777440",
    "end": "3784400"
  },
  {
    "text": "waveform design,\nhardware design, and so a very active\narea of research. And one of, for instance, very\ninteresting lines of research",
    "start": "3784400",
    "end": "3795050"
  },
  {
    "text": "is that because you have\nthe full complex field with the coherent LiDAR, you\ncan be smart with your DSP",
    "start": "3795050",
    "end": "3801769"
  },
  {
    "text": "and improve the\nperformance in bad weather. And there's some very, very\npromising early research",
    "start": "3801770",
    "end": "3806779"
  },
  {
    "text": "results that show you\ncan improve a lot, and that's unique\nto coherent LiDAR because you need the full\nfield to be able to invert",
    "start": "3806780",
    "end": "3814130"
  },
  {
    "text": "some of these weather effects. Another one is\nadvanced waveforms, as we saw, for\nPMCW, for instance.",
    "start": "3814130",
    "end": "3821690"
  },
  {
    "text": "They can help interference. They can make it more\nrobust to Doppler, and so on and so forth.",
    "start": "3821690",
    "end": "3827930"
  },
  {
    "text": "Fully solid state LiDAR, which\nis a LiDAR with no moving",
    "start": "3827930",
    "end": "3833809"
  },
  {
    "text": "mechanical components,\nis considered the Holy Grail of LiDAR,\ndoesn't quite exist today.",
    "start": "3833810",
    "end": "3840290"
  },
  {
    "text": "There's some versions of it\nwith very limited performance. But you know what?",
    "start": "3840290",
    "end": "3846500"
  },
  {
    "text": "High performing, like\nthe one that we just saw, fully solid state LiDAR,\ndoes not exist today.",
    "start": "3846500",
    "end": "3852650"
  },
  {
    "text": "A lot of progress has been made. Mostly, the last piece that\nneeds to be solved is beam steering, like a\nrobust, high-quality,",
    "start": "3852650",
    "end": "3861869"
  },
  {
    "text": "high-performing beam scanning\nsolid state thing is still--",
    "start": "3861870",
    "end": "3867260"
  },
  {
    "text": "doesn't exist as of today. But a lot of progress has been\nmade, and I'm sure, eventually,",
    "start": "3867260",
    "end": "3872330"
  },
  {
    "text": "we'll get there. Something like optical\nphased array or something",
    "start": "3872330",
    "end": "3877770"
  },
  {
    "text": "like that is needed to be\nable to do a fully solid state LiDAR.",
    "start": "3877770",
    "end": "3883920"
  },
  {
    "text": "And again, we don't\nquite have it today, but I'm fairly certain we'll\nget there sooner or later.",
    "start": "3883920",
    "end": "3891720"
  },
  {
    "text": "And that's it about LiDAR. Any questions? Yes?",
    "start": "3891720",
    "end": "3897150"
  },
  {
    "text": "How would the performance\nin bad weather can be improved by algorithms? I thought that's like a\nlimitation of the wavelength",
    "start": "3897150",
    "end": "3903450"
  },
  {
    "text": "or [INAUDIBLE]. Well, it's a limitation. So you still get all the--",
    "start": "3903450",
    "end": "3910980"
  },
  {
    "text": "one of the main problems\nis that false positives that you get in\nbad weather because",
    "start": "3910980",
    "end": "3917280"
  },
  {
    "text": "of the backscattered light. Now, it turns out that\nif your algorithm is just a simple leading-edge\nthreshold, and you only",
    "start": "3917280",
    "end": "3925440"
  },
  {
    "text": "have the intensity of the light,\nthere isn't much you can do. You get a strong back reflection\nfrom a water particle,",
    "start": "3925440",
    "end": "3933300"
  },
  {
    "text": "and it passes your\ndetection threshold. And that's it. That's a false positive. But one thing, for\ninstance, you do",
    "start": "3933300",
    "end": "3938370"
  },
  {
    "text": "with the-- we can do with the\ncoherent LiDAR-- one is things like some information\nin the phase",
    "start": "3938370",
    "end": "3944670"
  },
  {
    "text": "and the polarization can\nhelp you distinguish what the return was coming from.",
    "start": "3944670",
    "end": "3950099"
  },
  {
    "text": "But also, if you capture\nthe full wavelength-- sorry, not the full-- the full\nwaveform and, instead of just",
    "start": "3950100",
    "end": "3958410"
  },
  {
    "text": "applying a threshold, try to\nextract more information from",
    "start": "3958410",
    "end": "3964829"
  },
  {
    "text": "it in the sense-- I mean, it depends on the\nspecifics of the waveform. But, for instance,\nin a PMCW system,",
    "start": "3964830",
    "end": "3973079"
  },
  {
    "text": "one of the artifacts\nthat you get when there is fog\nin the weather is",
    "start": "3973080",
    "end": "3978089"
  },
  {
    "text": "you get very specific patterns\nin these correlations. And then you can have\nsmarter algorithms",
    "start": "3978090",
    "end": "3984060"
  },
  {
    "text": "that learn those patterns. And so it could be some machine\nlearning-based algorithm.",
    "start": "3984060",
    "end": "3989579"
  },
  {
    "text": "Or even in classical DSP, you\ncan do very interesting things. So again, it's like a\nnot just a DSP effect.",
    "start": "3989580",
    "end": "3998970"
  },
  {
    "text": "It's like a joint design\nproblem of waveform plus DSP",
    "start": "3998970",
    "end": "4004190"
  },
  {
    "text": "plus a bit of machine,\nlearning and you can be much smarter in terms\nof how the whole system",
    "start": "4004190",
    "end": "4012770"
  },
  {
    "text": "design is done. And then they can-- again, it's a--",
    "start": "4012770",
    "end": "4018940"
  },
  {
    "text": "I know my answer is a bit vague\nbecause it's an active research area, so I don't quite have,\nlike, you do this, this,",
    "start": "4018940",
    "end": "4024750"
  },
  {
    "text": "and that and\nwhether it's solved. But the results that\npeople have shown is pretty impressive already\nin terms of what you can do.",
    "start": "4024750",
    "end": "4033920"
  },
  {
    "text": "Yeah. OK, so if there's\nno more questions,",
    "start": "4033920",
    "end": "4039750"
  },
  {
    "text": "we can start the\nlast chapter, which is about imaging and\nvision sensors or cameras.",
    "start": "4039750",
    "end": "4046560"
  },
  {
    "text": "So this one is-- there's not a ton\nof DSP in here. Although, there is a little bit.",
    "start": "4046560",
    "end": "4053420"
  },
  {
    "text": "But we mostly will talk about\nthe physics and the system architecture of vision systems.",
    "start": "4053420",
    "end": "4061180"
  },
  {
    "text": "As usual, we start with\na bit of a history. Then we talk about physics\nof imaging, lenses.",
    "start": "4061180",
    "end": "4066550"
  },
  {
    "text": "We talk in detail about\nthe digital image sensors. And then, finally, we\nfinish with the system--",
    "start": "4066550",
    "end": "4073780"
  },
  {
    "text": "system architecture of cameras. So what is imaging? Imaging is the process of\ncapturing and recovering",
    "start": "4073780",
    "end": "4082720"
  },
  {
    "text": "visual quantities from light. Now, what do we mean\nby visual quantities? So some of these quantities\ncan be properties of the scene.",
    "start": "4082720",
    "end": "4091390"
  },
  {
    "text": "For instance, an image\ncan tell you information about the motion of objects. Color and reflectance,\nof course,",
    "start": "4091390",
    "end": "4098350"
  },
  {
    "text": "is part of that\nvisual quantities that you get out of images.",
    "start": "4098350",
    "end": "4103660"
  },
  {
    "text": "It can even tell you\nidentity of objects. You can classify different\ntypes of objects from an image.",
    "start": "4103660",
    "end": "4110509"
  },
  {
    "text": "Or you can recover\nproperties of the observer. And by the observer, I\nmean that the robot itself.",
    "start": "4110510",
    "end": "4118278"
  },
  {
    "text": "You can recover\nthings like egomotion. Like, was the platform stable\nor static, or was it moving?",
    "start": "4118279",
    "end": "4127460"
  },
  {
    "text": "And looking at a few frames\nof images from a video camera",
    "start": "4127460",
    "end": "4133100"
  },
  {
    "text": "can tell you a lot about\nthat, or even the orientation of the robot can be\ndeduced from images.",
    "start": "4133100",
    "end": "4139500"
  },
  {
    "text": "And finally, you\ncan get information about the properties\nof the medium, things",
    "start": "4139500",
    "end": "4145189"
  },
  {
    "text": "like scattering effects. As we know, fog,\nrain, and things like that immediately\nshow in images,",
    "start": "4145189",
    "end": "4150979"
  },
  {
    "text": "and we can get quite\na bit of information",
    "start": "4150979",
    "end": "4156830"
  },
  {
    "text": "about them beyond just\nthe visual artifacts of the degradation\nand, say, contrast,",
    "start": "4156830",
    "end": "4165140"
  },
  {
    "text": "you can actually extract\nphysical quantities",
    "start": "4165140",
    "end": "4170930"
  },
  {
    "text": "of the medium from images or\nthe types of light sources and things like that.",
    "start": "4170930",
    "end": "4177149"
  },
  {
    "text": "Now, a lot of research in\ncomputer vision for the past 20",
    "start": "4177149",
    "end": "4182270"
  },
  {
    "text": "years has been focused in\ndeveloping smart algorithms to process images from these\nvision sensors for extracting",
    "start": "4182270",
    "end": "4194330"
  },
  {
    "text": "these types of properties\nthat we just talked about. So computer vision is\na huge, huge field.",
    "start": "4194330",
    "end": "4201510"
  },
  {
    "text": "I mean, you can teach\nmultiple graduate courses, as we do here at Stanford,\non computer vision.",
    "start": "4201510",
    "end": "4206929"
  },
  {
    "text": "And you're not\ngoing to quite get to any depth regarding any of\nthe specifics of the algorithms",
    "start": "4206930",
    "end": "4212719"
  },
  {
    "text": "that are used to extract\nthese types of information. But rather, we'll learn about\nthe physics of image formation",
    "start": "4212720",
    "end": "4220130"
  },
  {
    "text": "and cameras and how they work. That's the main\ntopic of discussion.",
    "start": "4220130",
    "end": "4225710"
  },
  {
    "text": "OK, so a bit of history--\nso photography or imaging",
    "start": "4225710",
    "end": "4231650"
  },
  {
    "text": "started in the 1800s. One of the oldest surviving\nphotographs is from 1826",
    "start": "4231650",
    "end": "4239270"
  },
  {
    "text": "by Joseph-Nicphore Nipce. I hope I didn't butcher\nthe pronunciation there,",
    "start": "4239270",
    "end": "4245420"
  },
  {
    "text": "but it's called View From the\nWindow at Le Gras, which-- this is the picture.",
    "start": "4245420",
    "end": "4250579"
  },
  {
    "text": "I mean, by today's standards,\nit's a pretty poor image. And note that this one is a\ndigitally enhanced version",
    "start": "4250580",
    "end": "4256400"
  },
  {
    "text": "of the actual surviving\nimage, so the actual one is much less\ncontrasty than this. But nevertheless, it's\na piece of history",
    "start": "4256400",
    "end": "4263360"
  },
  {
    "text": "because it was the first time. This imaging was done in a\nway that it actually survived.",
    "start": "4263360",
    "end": "4270619"
  },
  {
    "text": "And how it was done\nwas he used a material called bitumen of Judea, which\nis like a natural asphalt",
    "start": "4270620",
    "end": "4279110"
  },
  {
    "text": "material, which\nis photosensitive. So it hardens as it's\nexposed to light.",
    "start": "4279110",
    "end": "4284570"
  },
  {
    "text": "And it was a metal plate that\nwas coated with that material and then actually\nexposed for eight hours.",
    "start": "4284570",
    "end": "4291480"
  },
  {
    "text": "So it took eight hours\nof exposure to get that. And then after the\nexposure, he had",
    "start": "4291480",
    "end": "4296540"
  },
  {
    "text": "to wash off the unexposed\ncoating with lavender oil and petroleum.",
    "start": "4296540",
    "end": "4301550"
  },
  {
    "text": "So it was probably a\nmulti-day-long effort to get just that one picture.",
    "start": "4301550",
    "end": "4306650"
  },
  {
    "text": "So that was where it started. Shortly after that,\nLouis Daguerre",
    "start": "4306650",
    "end": "4312590"
  },
  {
    "text": "invented a much, much better\nimaging, basically, system that",
    "start": "4312590",
    "end": "4319369"
  },
  {
    "text": "became commercial, actually. So that was 1839. And the technique\nor the photographs",
    "start": "4319370",
    "end": "4326750"
  },
  {
    "text": "that you get from it-- it was called daguerreotype.",
    "start": "4326750",
    "end": "4331790"
  },
  {
    "text": "It was widely, widely\nused in 1840s, 1850s. And the way it worked\nwas it used silver halide",
    "start": "4331790",
    "end": "4340460"
  },
  {
    "text": "on a polished metal, and then\nyou would expose it to light. And an image would\nform on the metal.",
    "start": "4340460",
    "end": "4348080"
  },
  {
    "text": "You would get daguerreotype--\nif they are done right, and it's difficult\nto do it right,",
    "start": "4348080",
    "end": "4354000"
  },
  {
    "text": "you get images of exceptional,\nexceptional quality. Even like best cameras today,\ndigital cameras cannot beat",
    "start": "4354000",
    "end": "4360660"
  },
  {
    "text": "daguerreotypes in\nterms of image quality. Here is an exceptional\nportrait of Abraham Lincoln",
    "start": "4360660",
    "end": "4369450"
  },
  {
    "text": "done in a daguerreotype. And the trick was-- I mean, there's lots of\ntricks in daguerreotypes,",
    "start": "4369450",
    "end": "4376320"
  },
  {
    "text": "but they still require\nlong exposure time. So the subjects need to stay\nperfectly still for minutes",
    "start": "4376320",
    "end": "4385380"
  },
  {
    "text": "sometimes, sometimes less. Here, in this\npicture, you would see there's a bit of a\nblurring on the thumb.",
    "start": "4385380",
    "end": "4392070"
  },
  {
    "text": "And that means probably\nLincoln got a little impatient during the process.",
    "start": "4392070",
    "end": "4398489"
  },
  {
    "text": "But nevertheless, it's\nan exceptional image. Problem with daguerreotype\nis that they're not--",
    "start": "4398490",
    "end": "4404420"
  },
  {
    "text": "you cannot make multiple copies. So the original that you get--\nit's on a piece of metal, and that's it.",
    "start": "4404420",
    "end": "4411300"
  },
  {
    "text": "It's not reproducible,\nas in multiple copies. In about the same time,\na different process",
    "start": "4411300",
    "end": "4417500"
  },
  {
    "text": "was developed by William\nTalbot, which was a--",
    "start": "4417500",
    "end": "4422600"
  },
  {
    "text": "from a commercial point of view,\nwhich was a much better imaging process. And that one is called\ncalotype, and it's basically",
    "start": "4422600",
    "end": "4430340"
  },
  {
    "text": "where the modern\nanalog camera started. So it was done on paper,\ncoated with silver chloride.",
    "start": "4430340",
    "end": "4436790"
  },
  {
    "text": "And you could get,\nbasically, negatives from it.",
    "start": "4436790",
    "end": "4441950"
  },
  {
    "text": "And from a master negative,\nyou can do multiple prints, basically.",
    "start": "4441950",
    "end": "4447170"
  },
  {
    "text": "So calotypes were--\nwas a better process, and that's why daguerreotype\neventually got phased out.",
    "start": "4447170",
    "end": "4454850"
  },
  {
    "text": "And calotype evolved into\nmodern analog photography.",
    "start": "4454850",
    "end": "4460550"
  },
  {
    "text": "On the right, you\nsee a calotype, which was captured in about the\nsame time as the daguerreotype",
    "start": "4460550",
    "end": "4468350"
  },
  {
    "text": "of Lincoln. And then fast-forward\na few decades. We get to the modern age\nof digital photography.",
    "start": "4468350",
    "end": "4477570"
  },
  {
    "text": "So the digital camera\nwas invented in 1975 at Kodak, which, interestingly,\nis a company that almost",
    "start": "4477570",
    "end": "4485780"
  },
  {
    "text": "got bankrupt\nbecause they did not get the value of\ndigital photography. So it was invented\nthere, but they decided",
    "start": "4485780",
    "end": "4492560"
  },
  {
    "text": "to not even announce it. And that's a picture of the\nvery first digital camera.",
    "start": "4492560",
    "end": "4497990"
  },
  {
    "text": "Interesting design. I don't know all\nthe details, but it seems like they used a cassette\ntape as to store the images,",
    "start": "4497990",
    "end": "4506780"
  },
  {
    "text": "interestingly,\nwhich makes sense. It was '75, so modern digital\nstorage media didn't exist.",
    "start": "4506780",
    "end": "4515600"
  },
  {
    "text": "But it wasn't until 1990s\nthat digital cameras became commercialized not by Kodak.",
    "start": "4515600",
    "end": "4521930"
  },
  {
    "text": "Actually, Kodak almost\nentirely went down because they did not\nbelieve in the revolution",
    "start": "4521930",
    "end": "4528980"
  },
  {
    "text": "of digital imaging. And then it was in the 2000's\nthat these technology started",
    "start": "4528980",
    "end": "4535790"
  },
  {
    "text": "becoming cheaper,\nbetter performing, more robust, smaller form factor.",
    "start": "4535790",
    "end": "4542780"
  },
  {
    "text": "And it started becoming\nsuitable for dynamic platforms,",
    "start": "4542780",
    "end": "4548270"
  },
  {
    "text": "like robots. So imaging for robotics\nstarted in early 2000.",
    "start": "4548270",
    "end": "4554210"
  },
  {
    "text": "So this was a super,\nsuper quick history",
    "start": "4554210",
    "end": "4560000"
  },
  {
    "text": "of imaging and\nphotography, but we are going to basically\njust go-- go in depth",
    "start": "4560000",
    "end": "4565700"
  },
  {
    "text": "and talk about the physics\nof image formation, and especially digital\ncameras, how they work.",
    "start": "4565700",
    "end": "4573020"
  },
  {
    "text": "OK, I think this is\na good place to stop. Remember, this was the\nlast in-person lecture.",
    "start": "4573020",
    "end": "4578929"
  },
  {
    "text": "So there's going to be one more\nlecture, which I will record and upload on Thursday.",
    "start": "4578930",
    "end": "4585000"
  },
  {
    "text": "And so we will finish properly\nthis chapter on imaging",
    "start": "4585000",
    "end": "4590570"
  },
  {
    "text": "sensors, and that's it. Thank you. [APPLAUSE]",
    "start": "4590570",
    "end": "4596050"
  },
  {
    "start": "4596050",
    "end": "4600000"
  }
]