[
  {
    "text": "So, hi everybody.",
    "start": "0",
    "end": "1725"
  },
  {
    "text": "Uh, today I'm gonna tell you about Guardian Agent.",
    "start": "1725",
    "end": "4185"
  },
  {
    "text": "A tool we've built for Secure Delegation for the SSH protocol.",
    "start": "4185",
    "end": "8024"
  },
  {
    "text": "And towards the end of the talk,",
    "start": "8025",
    "end": "9360"
  },
  {
    "text": "I'm also gonna [NOISE] discuss how this",
    "start": "9360",
    "end": "11580"
  },
  {
    "text": "tool we've built as well as the principles behind it,",
    "start": "11580",
    "end": "14400"
  },
  {
    "text": "uh, allow us to address other authorization scenarios,",
    "start": "14400",
    "end": "17850"
  },
  {
    "text": "and and not only SSH.",
    "start": "17850",
    "end": "19530"
  },
  {
    "text": "[NOISE] But we're gonna start with SSH,",
    "start": "19530",
    "end": "21870"
  },
  {
    "text": "and we're gonna see how does- uh,",
    "start": "21870",
    "end": "24120"
  },
  {
    "text": "to see how delegation works today in SSH.",
    "start": "24120",
    "end": "26360"
  },
  {
    "text": "Let us consider the following scenario",
    "start": "26360",
    "end": "28380"
  },
  {
    "text": "that many of you are probably gonna be familiar with.",
    "start": "28380",
    "end": "30794"
  },
  {
    "text": "So, imagine a user connecting to some,",
    "start": "30795",
    "end": "33315"
  },
  {
    "text": "er, Cloud Machine of her choice,",
    "start": "33315",
    "end": "35145"
  },
  {
    "text": "and that user wants to clone her private Gi- to- Git repository located on GitHub.",
    "start": "35145",
    "end": "40260"
  },
  {
    "text": "And the repository being private of course,",
    "start": "40260",
    "end": "43079"
  },
  {
    "text": "[NOISE] uh, cloning this repository,",
    "start": "43080",
    "end": "45105"
  },
  {
    "text": "requires the user to authenticate.",
    "start": "45105",
    "end": "46690"
  },
  {
    "text": "[NOISE]. Uh, but the private key of the user is",
    "start": "46690",
    "end": "49140"
  },
  {
    "text": "located on her local machine on her laptop.",
    "start": "49140",
    "end": "51825"
  },
  {
    "text": "And obviously she would like to avoid just u- uploading, and,",
    "start": "51825",
    "end": "55140"
  },
  {
    "text": "an- uploading her key to those,",
    "start": "55140",
    "end": "57465"
  },
  {
    "text": "to this Cloud Machine which could be potentially untrusted.",
    "start": "57465",
    "end": "60250"
  },
  {
    "text": "While this seems kind of,",
    "start": "60250",
    "end": "62100"
  },
  {
    "text": "um, like a kind of basic scenario,",
    "start": "62100",
    "end": "64199"
  },
  {
    "text": "and i- it also seems like there're SSH protocol,",
    "start": "64200",
    "end": "67200"
  },
  {
    "text": "and the SSH tool chain are kind of a,",
    "start": "67200",
    "end": "69765"
  },
  {
    "text": "kind of thitherward, and we have a solution for that.",
    "start": "69765",
    "end": "72120"
  },
  {
    "text": "So, what can the user do?",
    "start": "72120",
    "end": "73530"
  },
  {
    "text": "[NOISE] Um, the user can run, [NOISE] uh,",
    "start": "73530",
    "end": "77159"
  },
  {
    "text": "can run an SSH agent locally,",
    "start": "77160",
    "end": "79275"
  },
  {
    "text": "and add her key to that SSH agent.",
    "start": "79275",
    "end": "81735"
  },
  {
    "text": "And to be extra secure, she's also gonna, uh,",
    "start": "81735",
    "end": "84540"
  },
  {
    "text": "add this minus c flag that is going to ask that",
    "start": "84540",
    "end": "87475"
  },
  {
    "text": "such that the agent is going to ask her every time her key is getting used.",
    "start": "87475",
    "end": "90585"
  },
  {
    "text": "So she'll know exactly, uh, how the key is used.",
    "start": "90585",
    "end": "93320"
  },
  {
    "text": "Then, [NOISE] uh, the user is gonna, uh, SSH,",
    "start": "93320",
    "end": "97050"
  },
  {
    "text": "and enable agent forwarding,",
    "start": "97050",
    "end": "99045"
  },
  {
    "text": "uh, when she connects to the Cloud Machine.",
    "start": "99045",
    "end": "101369"
  },
  {
    "text": "And then, when she runs that,",
    "start": "101370",
    "end": "103950"
  },
  {
    "text": "uh, when she runs the git clone command, uh,",
    "start": "103950",
    "end": "106680"
  },
  {
    "text": "the authentication request is going to get forwarded, uh,",
    "start": "106680",
    "end": "109560"
  },
  {
    "text": "to the local agent, who's going to prompt the user to confirm the use of her key.",
    "start": "109560",
    "end": "113685"
  },
  {
    "text": "And it looks like problem solved.",
    "start": "113685",
    "end": "115424"
  },
  {
    "text": "So the user knows every time her key is used,",
    "start": "115425",
    "end": "117600"
  },
  {
    "text": "she can confirm it, she can deny,",
    "start": "117600",
    "end": "119130"
  },
  {
    "text": "she has full control of her credentials.",
    "start": "119130",
    "end": "121549"
  },
  {
    "text": "But, if you look closely at this prompt to the user, er,",
    "start": "121550",
    "end": "124690"
  },
  {
    "text": "that the users get you kind of see that it doesn't",
    "start": "124690",
    "end": "127140"
  },
  {
    "text": "really provide us with the guarantee that we would want.",
    "start": "127140",
    "end": "129975"
  },
  {
    "text": "So what does the user see on this prompt basically,",
    "start": "129975",
    "end": "132240"
  },
  {
    "text": "she sees the path to a local key not really the kind of",
    "start": "132240",
    "end": "134760"
  },
  {
    "text": "information that you want to have once you're confirming the operation.",
    "start": "134760",
    "end": "138784"
  },
  {
    "text": "And so, when the user clicks \"OK\",",
    "start": "138785",
    "end": "140975"
  },
  {
    "text": "and she think- she thinks she authorizes that the Cloud Machine to clone her repository,",
    "start": "140975",
    "end": "146535"
  },
  {
    "text": "if that Cloud Machine is compromised or maybe the entire Cloud provider is compromised,",
    "start": "146535",
    "end": "151995"
  },
  {
    "text": "then, well she thinks she's signing, uh,",
    "start": "151995",
    "end": "154879"
  },
  {
    "text": "a challenge use for authentication to GitHub that malicious Cloud,",
    "start": "154880",
    "end": "158405"
  },
  {
    "text": "Cloud provider could actually use that sign authentication challenge in order to",
    "start": "158405",
    "end": "164010"
  },
  {
    "text": "perform some different malicious operation on",
    "start": "164010",
    "end": "166920"
  },
  {
    "text": "a completely different host to which the user has access.",
    "start": "166920",
    "end": "170385"
  },
  {
    "text": "And what is kind of the root cause for- for this problem?",
    "start": "170385",
    "end": "174239"
  },
  {
    "text": "Well, the root cause is that with the current way that this protocol, uh,",
    "start": "174240",
    "end": "178050"
  },
  {
    "text": "is used and all the tools around it are built that the user can clearly verify",
    "start": "178050",
    "end": "182415"
  },
  {
    "text": "the identity of the delicate- the delegate to whom she delegates her credentials.",
    "start": "182415",
    "end": "187079"
  },
  {
    "text": "So, when she see- sees this prompt she doesn't",
    "start": "187080",
    "end": "189270"
  },
  {
    "text": "really know that this challenge that originates from one,",
    "start": "189270",
    "end": "192405"
  },
  {
    "text": "from, from GitHub, or does it originate from some, some different host.",
    "start": "192405",
    "end": "196420"
  },
  {
    "text": "And also the user cannot really verify the command that, uh,",
    "start": "196420",
    "end": "199930"
  },
  {
    "text": "that, uh, this authorization is going to be- is going to be used for.",
    "start": "199930",
    "end": "204349"
  },
  {
    "text": "And the identity of the server and the delegate, both,",
    "start": "204350",
    "end": "207120"
  },
  {
    "text": "are kind of untied, uh,",
    "start": "207120",
    "end": "209055"
  },
  {
    "text": "when you- when she sees that, uh, authentication challenge.",
    "start": "209055",
    "end": "211605"
  },
  {
    "text": "And it's important to stress that this is not merely a UI issue.",
    "start": "211605",
    "end": "215510"
  },
  {
    "text": "So, it's not just we could change that prompt and display some other uh,",
    "start": "215510",
    "end": "218760"
  },
  {
    "text": "maybe more important information.",
    "start": "218760",
    "end": "220319"
  },
  {
    "text": "In fact this type of information isn't really available to the client.",
    "start": "220320",
    "end": "223855"
  },
  {
    "text": "And of course there are",
    "start": "223855",
    "end": "225450"
  },
  {
    "text": "no any cryptographic guarantees that when you when- you signed this challenge,",
    "start": "225450",
    "end": "230250"
  },
  {
    "text": "what does this challenge going to be used for?",
    "start": "230250",
    "end": "232530"
  },
  {
    "text": "So, the picture today is that by approving this,",
    "start": "232530",
    "end": "235770"
  },
  {
    "text": "uh, approving these kind of prompts,",
    "start": "235770",
    "end": "237000"
  },
  {
    "text": "we are essentially signing a blank check.",
    "start": "237000",
    "end": "238800"
  },
  {
    "text": "So, we put our signature there, uh,",
    "start": "238800",
    "end": "241365"
  },
  {
    "text": "and we don't even specify the amount of money,",
    "start": "241365",
    "end": "243450"
  },
  {
    "text": "what's the command that we're going to run.",
    "start": "243450",
    "end": "245040"
  },
  {
    "text": "We don't specify the, the recipient,",
    "start": "245040",
    "end": "247629"
  },
  {
    "text": "the identity of the server on which the command is going to run,",
    "start": "247630",
    "end": "251310"
  },
  {
    "text": "and maybe even the identity of like the bank if I have multiple bank accounts is",
    "start": "251310",
    "end": "254520"
  },
  {
    "text": "also not set to relate to the previous stock.",
    "start": "254520",
    "end": "258465"
  },
  {
    "text": "So, what do we really want?",
    "start": "258465",
    "end": "260760"
  },
  {
    "text": "So what we want is instead of- [NOISE], uh,",
    "start": "260760",
    "end": "262890"
  },
  {
    "text": "instead of having this kind of not very useful prompt that doesn't allow us to",
    "start": "262890",
    "end": "267255"
  },
  {
    "text": "control the delegation what we wanna have is- we wanna have uh,",
    "start": "267255",
    "end": "272610"
  },
  {
    "text": "uh, we wanna have an authorization decision that has all the scope,",
    "start": "272610",
    "end": "277768"
  },
  {
    "text": "all the necessary scope to make a meaningful decision.",
    "start": "277769",
    "end": "280905"
  },
  {
    "text": "So at a minimum,",
    "start": "280905",
    "end": "281930"
  },
  {
    "text": "we would like to know who are we delegating to?",
    "start": "281930",
    "end": "284625"
  },
  {
    "text": "What can the delegate do with our identity and to whom.",
    "start": "284625",
    "end": "288330"
  },
  {
    "text": "So for example, what's the in- what's the server to which the operation will be applied.",
    "start": "288330",
    "end": "292485"
  },
  {
    "text": "And again I want to stress out that,",
    "start": "292485",
    "end": "294335"
  },
  {
    "text": "it's not kind of a- it's not on the UI issue but kind of uh,",
    "start": "294335",
    "end": "297375"
  },
  {
    "text": "protocol [NOISE] there is a protocol issue here as well.",
    "start": "297375",
    "end": "301030"
  },
  {
    "text": "Um, so, and if you think that this is kind of an issue that's only,",
    "start": "301030",
    "end": "305540"
  },
  {
    "text": "only present on SSH and other protocols get it right.",
    "start": "305540",
    "end": "309100"
  },
  {
    "text": "Well, similar scenarios is not exactly of this type,",
    "start": "309100",
    "end": "311880"
  },
  {
    "text": "but similar scenarios involving, uh,",
    "start": "311880",
    "end": "314430"
  },
  {
    "text": "unscoped delegation exist in other protocols as well.",
    "start": "314430",
    "end": "317430"
  },
  {
    "text": "So for example, for PLS,",
    "start": "317430",
    "end": "319949"
  },
  {
    "text": "we can consider this scenario in which some publisher wants to",
    "start": "319950",
    "end": "323250"
  },
  {
    "text": "delegate the duty of serving its home page to a Cloud,",
    "start": "323250",
    "end": "329190"
  },
  {
    "text": "uh, to a Content Delivery Network, a CDN,",
    "start": "329190",
    "end": "331245"
  },
  {
    "text": "and of course the publisher wants to still serve his,",
    "start": "331245",
    "end": "335055"
  },
  {
    "text": "uh, serve his homepage, uh, using HTTPs.",
    "start": "335055",
    "end": "338655"
  },
  {
    "text": "So, to do that, uh,",
    "start": "338655",
    "end": "340875"
  },
  {
    "text": "currently, what is required is that for the publisher,",
    "start": "340875",
    "end": "343420"
  },
  {
    "text": "it needs to give the certificate as well as",
    "start": "343420",
    "end": "345690"
  },
  {
    "text": "the private key corresponding this certificate to the CDN,",
    "start": "345690",
    "end": "349045"
  },
  {
    "text": "uh, for the user to get an HTTPS connection.",
    "start": "349045",
    "end": "352515"
  },
  {
    "text": "But once the publisher",
    "start": "352515",
    "end": "355620"
  },
  {
    "text": "gives access to its private key to the content delivery network,",
    "start": "355620",
    "end": "358755"
  },
  {
    "text": "if the content delivery network is compromised, or is malicious,",
    "start": "358755",
    "end": "362895"
  },
  {
    "text": "then he can use, um,",
    "start": "362895",
    "end": "364190"
  },
  {
    "text": "he can use this credential to serve some other content.",
    "start": "364190",
    "end": "367350"
  },
  {
    "text": "So, in a- in- in essence,",
    "start": "367350",
    "end": "368790"
  },
  {
    "text": "the publisher delegates his identity without,",
    "start": "368790",
    "end": "371040"
  },
  {
    "text": "uh, without sufficient control.",
    "start": "371040",
    "end": "373185"
  },
  {
    "text": "And there have been like rec- there have been recent works, for example,",
    "start": "373185",
    "end": "376440"
  },
  {
    "text": "the work by CloudFlare called KeylessTLS, which is er,",
    "start": "376440",
    "end": "380535"
  },
  {
    "text": "which in essence is very similar to SSH agent and suffer from similar problems.",
    "start": "380535",
    "end": "385470"
  },
  {
    "text": "So, with KeylessTLS,",
    "start": "385470",
    "end": "387585"
  },
  {
    "text": "the solution works by the publisher keeping the private key.",
    "start": "387585",
    "end": "391495"
  },
  {
    "text": "So in this picture you can see that the private key is kept,",
    "start": "391495",
    "end": "395655"
  },
  {
    "text": "is kept by the publisher.",
    "start": "395655",
    "end": "397350"
  },
  {
    "text": "And then, every time the, the CDNs,",
    "start": "397350",
    "end": "399900"
  },
  {
    "text": "every time that the CDN wants to establish",
    "start": "399900",
    "end": "402690"
  },
  {
    "text": "a secure HTTPS connection as the server, he's gonna,",
    "start": "402690",
    "end": "405960"
  },
  {
    "text": "uh, uh, er, he's going to talk to the publisher,",
    "start": "405960",
    "end": "408900"
  },
  {
    "text": "and send him th- send him a challenge,",
    "start": "408900",
    "end": "410729"
  },
  {
    "text": "and gonna get a signature or decryption depending on the,",
    "start": "410730",
    "end": "413660"
  },
  {
    "text": "uh, uh, encryption protocol used.",
    "start": "413660",
    "end": "415975"
  },
  {
    "text": "We- so this- so if you look at this solution in essence,",
    "start": "415975",
    "end": "420240"
  },
  {
    "text": "the reason that I said it's kind of similar to SSH agent is that",
    "start": "420240",
    "end": "423270"
  },
  {
    "text": "the publisher really exposes a signing oracle here.",
    "start": "423270",
    "end": "426300"
  },
  {
    "text": "So, he tells the CDN just send me those challenges and I'm gonna sign them.",
    "start": "426300",
    "end": "430004"
  },
  {
    "text": "Do I know how they're,",
    "start": "430005",
    "end": "431310"
  },
  {
    "text": "gonna use it. Not really.",
    "start": "431310",
    "end": "432330"
  },
  {
    "text": "So if the CDN really wants to manipulate the content, uh, he can do that,",
    "start": "432330",
    "end": "436590"
  },
  {
    "text": "and for example, the identity of the client is also not verified,",
    "start": "436590",
    "end": "440264"
  },
  {
    "text": "um, in this case.",
    "start": "440265",
    "end": "442290"
  },
  {
    "text": "So, in our work, we started off by addressing the SSH issue and rebuild Guardian Agent.",
    "start": "442290",
    "end": "448395"
  },
  {
    "text": "Guardian Agent is a tool, uh,",
    "start": "448395",
    "end": "450919"
  },
  {
    "text": "that enables secure delegation for the SSH protocol.",
    "start": "450920",
    "end": "453980"
  },
  {
    "text": "Our tool consists of an authentication agent running on the user's,",
    "start": "453980",
    "end": "457925"
  },
  {
    "text": "uh, local machine on her laptop.",
    "start": "457925",
    "end": "460099"
  },
  {
    "text": "Um, it consists of a custom SSH client,",
    "start": "460100",
    "end": "462865"
  },
  {
    "text": "uh, that you can run on the- your- on your cloud machines,",
    "start": "462865",
    "end": "465330"
  },
  {
    "text": "or any other partially trusted machine on which you wanna run,",
    "start": "465330",
    "end": "468620"
  },
  {
    "text": "uh, operations using SSH but you don't want to put your key on.",
    "start": "468620",
    "end": "472555"
  },
  {
    "text": "And the nice thing is that our- our protocol and",
    "start": "472555",
    "end": "475995"
  },
  {
    "text": "our tools are backwards compa- compatible with existing SSH servers,",
    "start": "475995",
    "end": "479955"
  },
  {
    "text": "so you don't really need to modify the SSH server.",
    "start": "479955",
    "end": "482680"
  },
  {
    "text": "So, you don't really need to go and- and wait for GitHub to adopt our solution,",
    "start": "482680",
    "end": "486259"
  },
  {
    "text": "and you can get practical,",
    "start": "486260",
    "end": "487490"
  },
  {
    "text": "uh, security benefits today.",
    "start": "487490",
    "end": "489810"
  },
  {
    "text": "Uh, so let me tell you about how does Guardian Agent work.",
    "start": "489810",
    "end": "493785"
  },
  {
    "text": "Um, so in the setting we have",
    "start": "493785",
    "end": "496480"
  },
  {
    "text": "the local machine that keeps the private key and running our agent,",
    "start": "496480",
    "end": "499530"
  },
  {
    "text": "we have the delegate running the custom client,",
    "start": "499530",
    "end": "501645"
  },
  {
    "text": "and we have GitHub as the server.",
    "start": "501645",
    "end": "503940"
  },
  {
    "text": "So, er, the first thing- the fir- uh,",
    "start": "503940",
    "end": "506870"
  },
  {
    "text": "when the delegate wants to run the command,",
    "start": "506870",
    "end": "509555"
  },
  {
    "text": "uh, he's gonna- instead of running the command directly on the server,",
    "start": "509555",
    "end": "512510"
  },
  {
    "text": "he's gonna talk, uh,",
    "start": "512510",
    "end": "513610"
  },
  {
    "text": "to the local machine through- through",
    "start": "513610",
    "end": "514940"
  },
  {
    "text": "the Guardian Agent protocol and request the agent, uh,",
    "start": "514940",
    "end": "517860"
  },
  {
    "text": "to run the command, uh,",
    "start": "517860",
    "end": "519115"
  },
  {
    "text": "and specify which server,",
    "start": "519115",
    "end": "520860"
  },
  {
    "text": "uh, he wants to run the command on.",
    "start": "520860",
    "end": "522654"
  },
  {
    "text": "Then the agent can prompt the user and make sure that the user actually,",
    "start": "522655",
    "end": "526840"
  },
  {
    "text": "uh, that the user actually approves the operation.",
    "start": "526840",
    "end": "529450"
  },
  {
    "text": "And in this- in- in this way the, uh,",
    "start": "529450",
    "end": "531880"
  },
  {
    "text": "the Guardian Agent, uh,",
    "start": "531880",
    "end": "533260"
  },
  {
    "text": "local machine gets the- the command,",
    "start": "533260",
    "end": "535645"
  },
  {
    "text": "gets the identity of the server and can also identify,",
    "start": "535645",
    "end": "539129"
  },
  {
    "text": "um, ide- identify the delegate based on the incoming connection.",
    "start": "539129",
    "end": "543185"
  },
  {
    "text": "Then if the user approves the operation, uh,",
    "start": "543185",
    "end": "546120"
  },
  {
    "text": "the local machine starts a connection to the server,",
    "start": "546120",
    "end": "549400"
  },
  {
    "text": "authenticates using the private key, and issues the command.",
    "start": "549400",
    "end": "552555"
  },
  {
    "text": "So, uh, at least we can see that",
    "start": "552555",
    "end": "555520"
  },
  {
    "text": "the local machine has control over",
    "start": "555520",
    "end": "557245"
  },
  {
    "text": "the- over all- all the parameters that we want to control,",
    "start": "557245",
    "end": "559800"
  },
  {
    "text": "the identity of the server and the,",
    "start": "559800",
    "end": "561380"
  },
  {
    "text": "uh, and the command and so forth.",
    "start": "561380",
    "end": "563030"
  },
  {
    "text": "But this seems kind of,",
    "start": "563030",
    "end": "564245"
  },
  {
    "text": "um- kind of, uh,",
    "start": "564245",
    "end": "566240"
  },
  {
    "text": "naive in- in the sense that if we just do it",
    "start": "566240",
    "end": "568149"
  },
  {
    "text": "this way we're kind of losing all the benefits,",
    "start": "568150",
    "end": "570560"
  },
  {
    "text": "uh, for which we wanted to delegate in the first place.",
    "start": "570560",
    "end": "573150"
  },
  {
    "text": "So, we really want it to run the command on the delegate,",
    "start": "573150",
    "end": "575975"
  },
  {
    "text": "and we don't want to run on the local machine for whatever we wanted to do,",
    "start": "575975",
    "end": "579694"
  },
  {
    "text": "and even tunneling the entire connection",
    "start": "579695",
    "end": "582640"
  },
  {
    "text": "through the local machine isn't really practical,",
    "start": "582640",
    "end": "584970"
  },
  {
    "text": "because imagine you were just running on-",
    "start": "584970",
    "end": "586579"
  },
  {
    "text": "riding on a train and you have a ve- very bad connection,",
    "start": "586580",
    "end": "589050"
  },
  {
    "text": "you don't really want to tunnel",
    "start": "589050",
    "end": "590640"
  },
  {
    "text": "the entire Git repository you're cloning through your local connection,",
    "start": "590640",
    "end": "593720"
  },
  {
    "text": "you just want to get it from the server to the delegate.",
    "start": "593720",
    "end": "596254"
  },
  {
    "text": "So to do that- what,",
    "start": "596255",
    "end": "597540"
  },
  {
    "text": "uh- the final step of our protocol is basically handing off the SSH connection",
    "start": "597540",
    "end": "601630"
  },
  {
    "text": "from the local machine to the Git- to",
    "start": "601630",
    "end": "603530"
  },
  {
    "text": "the delegate in a way that it's transparent to the server.",
    "start": "603530",
    "end": "606170"
  },
  {
    "text": "This way only the first part of establishing the connection which is really, uh,",
    "start": "606170",
    "end": "610334"
  },
  {
    "text": "minimal in terms of the required bandwidth",
    "start": "610335",
    "end": "612485"
  },
  {
    "text": "happens between the local machine and the server,",
    "start": "612485",
    "end": "614675"
  },
  {
    "text": "and then the connection can be resumed directly between",
    "start": "614675",
    "end": "617584"
  },
  {
    "text": "the delegate and the SSH server so the entire contents of this,",
    "start": "617585",
    "end": "621875"
  },
  {
    "text": "let's say, Git- Git- repository, in this case,",
    "start": "621875",
    "end": "623840"
  },
  {
    "text": "will be transferred directly from the server to the delegate.",
    "start": "623840",
    "end": "626615"
  },
  {
    "text": "Um, so, uh, how do we do this,",
    "start": "626615",
    "end": "630290"
  },
  {
    "text": "uh- how do we do it- do it this SSH handoff?",
    "start": "630290",
    "end": "633035"
  },
  {
    "text": "And to kind of, um,",
    "start": "633035",
    "end": "635305"
  },
  {
    "text": "think of it abstractly what we really want to do is we want to",
    "start": "635305",
    "end": "637779"
  },
  {
    "text": "serialize the entire state of the SSH client,",
    "start": "637780",
    "end": "640780"
  },
  {
    "text": "send it to the delegate and then de-serialize and resume the connection.",
    "start": "640780",
    "end": "644145"
  },
  {
    "text": "But if we look at what does the SSH state consist of,",
    "start": "644145",
    "end": "647870"
  },
  {
    "text": "it contains a- a lot of messy details.",
    "start": "647870",
    "end": "649895"
  },
  {
    "text": "It contains, uh, of the session ID and",
    "start": "649895",
    "end": "652280"
  },
  {
    "text": "the sequence number and all the details of the, um,",
    "start": "652280",
    "end": "654820"
  },
  {
    "text": "uh, of- of what command I'm running and most annoyingly,",
    "start": "654820",
    "end": "659190"
  },
  {
    "text": "it has a lot of crypto details.",
    "start": "659190",
    "end": "660530"
  },
  {
    "text": "So, every time you establish an SSH connection you need to negotiate an algorithm for,",
    "start": "660530",
    "end": "665320"
  },
  {
    "text": "um- for key exchange,",
    "start": "665320",
    "end": "667040"
  },
  {
    "text": "and for MACing, for encryption,",
    "start": "667040",
    "end": "669079"
  },
  {
    "text": "and every- each such algorithm contains a lot of",
    "start": "669080",
    "end": "671430"
  },
  {
    "text": "state that evolves as the connection continues.",
    "start": "671430",
    "end": "673735"
  },
  {
    "text": "You, uh- you have IVs, you have counters,",
    "start": "673735",
    "end": "677015"
  },
  {
    "text": "and just serializing this in general would require either support from",
    "start": "677015",
    "end": "680705"
  },
  {
    "text": "each individual cipher or has to- have- or having to fix the cipher mode,",
    "start": "680705",
    "end": "684880"
  },
  {
    "text": "and we don't really want to do that.",
    "start": "684880",
    "end": "686580"
  },
  {
    "text": "So, to avoid doing this kind of messy serialization what we do is we use, um,",
    "start": "686580",
    "end": "691650"
  },
  {
    "text": "a feature already provided to us by the SSH protocol and",
    "start": "691650",
    "end": "695800"
  },
  {
    "text": "this is that we can we- we can run a key re-exchange on an existing connection.",
    "start": "695800",
    "end": "699920"
  },
  {
    "text": "And the nice thing about key re-exchange is",
    "start": "699920",
    "end": "702450"
  },
  {
    "text": "as you can see here is that all the crypto state is",
    "start": "702450",
    "end": "704910"
  },
  {
    "text": "actually refreshed when you'd- when you- when- when",
    "start": "704910",
    "end": "707420"
  },
  {
    "text": "you do the key re-exchange which is sort of what we need.",
    "start": "707420",
    "end": "710264"
  },
  {
    "text": "Um, so how do we do- how we- do we use this, uh, key re-exchange?",
    "start": "710265",
    "end": "713875"
  },
  {
    "text": "So, we start by having two separate SSH connections,",
    "start": "713875",
    "end": "716905"
  },
  {
    "text": "one between the delegate and the local machine,",
    "start": "716905",
    "end": "718990"
  },
  {
    "text": "and the second one between the local machine and the server.",
    "start": "718990",
    "end": "721430"
  },
  {
    "text": "And initially, those two connections are independent.",
    "start": "721430",
    "end": "724265"
  },
  {
    "text": "Then, uh, after the local machine has sent the command, uh,",
    "start": "724265",
    "end": "729180"
  },
  {
    "text": "o- on its connection with the server, uh,",
    "start": "729180",
    "end": "731440"
  },
  {
    "text": "and a key re-exchange is triggered on both connection.",
    "start": "731440",
    "end": "734340"
  },
  {
    "text": "But this time, the key- the parties in",
    "start": "734340",
    "end": "736660"
  },
  {
    "text": "the key re-exchange are the delegate and the server,",
    "start": "736660",
    "end": "739350"
  },
  {
    "text": "and the local machine only acts as a relay that passes around,",
    "start": "739350",
    "end": "742845"
  },
  {
    "text": "uh, uh, the key exchange messages.",
    "start": "742845",
    "end": "744964"
  },
  {
    "text": "And kind of as a nice,",
    "start": "744965",
    "end": "746280"
  },
  {
    "text": "a- a- as a basic property of key re-exchange,",
    "start": "746280",
    "end": "749325"
  },
  {
    "text": "what you end up having is you end up having a shared,",
    "start": "749325",
    "end": "752250"
  },
  {
    "text": "um- a shared key between the two endpoints namely,",
    "start": "752250",
    "end": "755280"
  },
  {
    "text": "the delegate and the server.",
    "start": "755280",
    "end": "756550"
  },
  {
    "text": "So, once we're done, uh, once we're done with the key re-exchange,",
    "start": "756550",
    "end": "759709"
  },
  {
    "text": "we essentially have, uh,",
    "start": "759710",
    "end": "761320"
  },
  {
    "text": "an SSH connection now between the delegate and the server.",
    "start": "761320",
    "end": "764415"
  },
  {
    "text": "And there are a couple of mo- a couple of-",
    "start": "764415",
    "end": "766690"
  },
  {
    "text": "the messy details that you need s- still need to take care of,",
    "start": "766690",
    "end": "769760"
  },
  {
    "text": "uh, but they are very minimal and don't depend,",
    "start": "769760",
    "end": "772030"
  },
  {
    "text": "for example, on the crypto being used.",
    "start": "772030",
    "end": "774145"
  },
  {
    "text": "And one last thing that needs to be taken care of is that we want to avoid the delegate,",
    "start": "774145",
    "end": "779450"
  },
  {
    "text": "uh, being able to issue additional commands after the handoff.",
    "start": "779450",
    "end": "783170"
  },
  {
    "text": "So, to do that, before we initiate the handoff we use, um,",
    "start": "783170",
    "end": "787360"
  },
  {
    "text": "an already existing, uh,",
    "start": "787360",
    "end": "789140"
  },
  {
    "text": "extension to the SSH protocol,",
    "start": "789140",
    "end": "790995"
  },
  {
    "text": "uh, available for, uh,",
    "start": "790995",
    "end": "792275"
  },
  {
    "text": "in OpenSSH called no more sessions which allows the local machine to, uh,",
    "start": "792275",
    "end": "797410"
  },
  {
    "text": "um, to request from the server not",
    "start": "797410",
    "end": "800324"
  },
  {
    "text": "to honor any additional commands that's gonna be, uh, issued after that.",
    "start": "800325",
    "end": "804130"
  },
  {
    "text": "This essentially locks down the session to the particular command.",
    "start": "804130",
    "end": "809350"
  },
  {
    "text": "And, uh, maybe- maybe something that, uh,",
    "start": "809350",
    "end": "812990"
  },
  {
    "text": "jumped to your mind when- while I was describing this,",
    "start": "812990",
    "end": "815575"
  },
  {
    "text": "where we- we also have a couple of constraints on",
    "start": "815575",
    "end": "817605"
  },
  {
    "text": "the transport layer that we need to take care of.",
    "start": "817605",
    "end": "819940"
  },
  {
    "text": "For example, the agent might not even have direct connectivity with the server,",
    "start": "819940",
    "end": "824010"
  },
  {
    "text": "because maybe you're connecting to the delegate and it needs to connect to some,",
    "start": "824010",
    "end": "827150"
  },
  {
    "text": "uh, server which is not accessible from your local machine.",
    "start": "827150",
    "end": "830745"
  },
  {
    "text": "And second, as I've told you we want this to",
    "start": "830745",
    "end": "833210"
  },
  {
    "text": "become fully compatible with existing servers,",
    "start": "833210",
    "end": "835885"
  },
  {
    "text": "um, uh, so the entire connection- thi-",
    "start": "835885",
    "end": "839555"
  },
  {
    "text": "this entire handoff needs to be transparent from the server's point of view.",
    "start": "839555",
    "end": "843260"
  },
  {
    "text": "So, to address both of these concerns,",
    "start": "843260",
    "end": "845270"
  },
  {
    "text": "what we do is that we- the delegate acts as",
    "start": "845270",
    "end": "848065"
  },
  {
    "text": "a relay on the transport layer between the local machine and the server,",
    "start": "848065",
    "end": "851530"
  },
  {
    "text": "and then after the handoff he can reuse",
    "start": "851530",
    "end": "853440"
  },
  {
    "text": "the same TCP connection to talk to the server directly.",
    "start": "853440",
    "end": "856400"
  },
  {
    "text": "So, jis- this achieves both benefits.",
    "start": "856400",
    "end": "858280"
  },
  {
    "text": "So, this really allows the local machine to have connectivity with the server,",
    "start": "858280",
    "end": "862295"
  },
  {
    "text": "and also from the server's point of view, uh,",
    "start": "862295",
    "end": "864450"
  },
  {
    "text": "he- throughout the entire connection,",
    "start": "864450",
    "end": "866000"
  },
  {
    "text": "he talks over the same connection and it looks transparent.",
    "start": "866000",
    "end": "868730"
  },
  {
    "text": "Um, so Guardian Agent, uh,",
    "start": "868730",
    "end": "871980"
  },
  {
    "text": "uh- we implemented Guardian Agent,",
    "start": "871980",
    "end": "873339"
  },
  {
    "text": "it is available and already used,",
    "start": "873340",
    "end": "875180"
  },
  {
    "text": "um, by people online.",
    "start": "875180",
    "end": "876420"
  },
  {
    "text": "So, you can- I- I invite you to go on GitHub and use it.",
    "start": "876420",
    "end": "879500"
  },
  {
    "text": "[NOISE]",
    "start": "879500",
    "end": "880660"
  },
  {
    "text": "Um, and kind of the- the main part of the talk I want",
    "start": "880660",
    "end": "885819"
  },
  {
    "text": "to kind of discuss about how Guardian Agent both as a tool and those fine-grained,",
    "start": "885820",
    "end": "891230"
  },
  {
    "text": "uh, fine-grained delegation principles can actually be extended to additional settings.",
    "start": "891230",
    "end": "897365"
  },
  {
    "text": "And specifically, I'm gonna talk about, uh,",
    "start": "897365",
    "end": "899890"
  },
  {
    "text": "pri- uh, I'm going to talk about talking pri- privilege elevation.",
    "start": "899890",
    "end": "902690"
  },
  {
    "text": "So what's privilege elevation?",
    "start": "902690",
    "end": "904500"
  },
  {
    "text": "So I think most of you are again familiar with the need to",
    "start": "904500",
    "end": "907420"
  },
  {
    "text": "run the sudo command for example to install some program.",
    "start": "907420",
    "end": "910454"
  },
  {
    "text": "And the reason that you need to do it is,",
    "start": "910455",
    "end": "911960"
  },
  {
    "text": "well, you usually run, uh,",
    "start": "911960",
    "end": "913745"
  },
  {
    "text": "using some un- un- unprivileged account and you have some operation that you",
    "start": "913745",
    "end": "916900"
  },
  {
    "text": "want to do which requires more privileges.",
    "start": "916900",
    "end": "920555"
  },
  {
    "text": "And so again sudo is kind of ubiquitous.",
    "start": "920555",
    "end": "923115"
  },
  {
    "text": "You run it and then it asks you for your password and once you confirm your password,",
    "start": "923115",
    "end": "927850"
  },
  {
    "text": "uh, the entire process runs as root.",
    "start": "927850",
    "end": "930225"
  },
  {
    "text": "So what's the ki- what's the problem with this?",
    "start": "930225",
    "end": "932470"
  },
  {
    "text": "So there are kind of two issues with it.",
    "start": "932470",
    "end": "934410"
  },
  {
    "text": "The first issue is that, uh,",
    "start": "934410",
    "end": "936449"
  },
  {
    "text": "if- if you- if you hope that sudo would allow you to have",
    "start": "936450",
    "end": "939750"
  },
  {
    "text": "some security separation between your unprivileged account and your privileged account,",
    "start": "939750",
    "end": "943750"
  },
  {
    "text": "then it doesn't really, uh, it doesn't really do that.",
    "start": "943750",
    "end": "946500"
  },
  {
    "text": "And specifically, it doesn't really withstand an atta- an attacker",
    "start": "946500",
    "end": "949500"
  },
  {
    "text": "that manages to compromise the unpriv- the unprivileged account.",
    "start": "949500",
    "end": "952490"
  },
  {
    "text": "Such an attacker can, for example,",
    "start": "952490",
    "end": "954195"
  },
  {
    "text": "wait for you to run sudo for- for",
    "start": "954195",
    "end": "956400"
  },
  {
    "text": "some legitimate cause and then try and phish your password,",
    "start": "956400",
    "end": "960040"
  },
  {
    "text": "modify the command and this can be done using like",
    "start": "960040",
    "end": "962560"
  },
  {
    "text": "very basic modifications even to your shell script.",
    "start": "962560",
    "end": "966115"
  },
  {
    "text": "Um, so sudo is still good for preventing yourself from making a mistake,",
    "start": "966115",
    "end": "970470"
  },
  {
    "text": "but it's not- I- I- I kind of claim that it's not really,",
    "start": "970470",
    "end": "973480"
  },
  {
    "text": "um, suitable to give this extra security,",
    "start": "973480",
    "end": "976889"
  },
  {
    "text": "uh, extra security guarantees between your unprivileged account and the root account.",
    "start": "976890",
    "end": "981130"
  },
  {
    "text": "And second, if you look at the way that this mechanism work,",
    "start": "981130",
    "end": "984945"
  },
  {
    "text": "it's that after you approve, uh,",
    "start": "984945",
    "end": "987510"
  },
  {
    "text": "after you approve the privilege elevation and even if ki- the program,",
    "start": "987510",
    "end": "991490"
  },
  {
    "text": "uh, to which you gave these elevated privileges is ah- a legitimate program,",
    "start": "991490",
    "end": "995700"
  },
  {
    "text": "it is in fact the one that you want to- the one that you want to run,",
    "start": "995700",
    "end": "999120"
  },
  {
    "text": "you still kind of give it a- you- you give it",
    "start": "999120",
    "end": "1001630"
  },
  {
    "text": "full root privileges that are unrestricted in scope.",
    "start": "1001630",
    "end": "1004295"
  },
  {
    "text": "And so you're allowing it to do anything that root can do rather than the-",
    "start": "1004295",
    "end": "1008760"
  },
  {
    "text": "perhaps a single operation that you wanted to give it these extra pri- privileges for.",
    "start": "1008760",
    "end": "1014125"
  },
  {
    "text": "And this is dangerous mostly because programs can have, ah,",
    "start": "1014125",
    "end": "1018035"
  },
  {
    "text": "programs can be exploited either due to memory bugs or some logical security bugs,",
    "start": "1018035",
    "end": "1022605"
  },
  {
    "text": "and whenever this privilege- you basically increase your attack surface",
    "start": "1022605",
    "end": "1026449"
  },
  {
    "text": "because whenever this priv- whenever this privilege process gets compromised you lose f-,",
    "start": "1026450",
    "end": "1030439"
  },
  {
    "text": "uh, you lose full control of your machine.",
    "start": "1030440",
    "end": "1032720"
  },
  {
    "text": "So, um, our idea is kind of to",
    "start": "1032720",
    "end": "1035980"
  },
  {
    "text": "use the same principles behind Guardian Agent to solve this,",
    "start": "1035980",
    "end": "1039169"
  },
  {
    "text": "uh, to solve this problem or maybe not to solve,",
    "start": "1039170",
    "end": "1041439"
  },
  {
    "text": "but kind of to improve the state of the world,",
    "start": "1041440",
    "end": "1043610"
  },
  {
    "text": "uh, when it comes to privilege elevation.",
    "start": "1043610",
    "end": "1046059"
  },
  {
    "text": "Um, so how do- how- how are we solving this?",
    "start": "1046060",
    "end": "1050295"
  },
  {
    "text": "So, again consider the scenario where we have a local machine, and the one that, uh,",
    "start": "1050295",
    "end": "1054575"
  },
  {
    "text": "has your credentials, the one that you use locally,",
    "start": "1054575",
    "end": "1057100"
  },
  {
    "text": "and now consider a case when you want to run sudo on some remote machine.",
    "start": "1057100",
    "end": "1060174"
  },
  {
    "text": "And I- I wanna know that the same kind of principles can be applied",
    "start": "1060175",
    "end": "1063715"
  },
  {
    "text": "to running sudo even on your local machine but then you need to take care of, uh,",
    "start": "1063715",
    "end": "1067309"
  },
  {
    "text": "trusted path issues, uh,",
    "start": "1067310",
    "end": "1069170"
  },
  {
    "text": "such as you need still to- you still need to have somewhere where",
    "start": "1069170",
    "end": "1071740"
  },
  {
    "text": "you can enter your password or interact with the machine,",
    "start": "1071740",
    "end": "1074480"
  },
  {
    "text": "uh, in a secure way.",
    "start": "1074480",
    "end": "1075804"
  },
  {
    "text": "But for simpli- simplicity,",
    "start": "1075805",
    "end": "1077499"
  },
  {
    "text": "let's just look at the remote scenario.",
    "start": "1077499",
    "end": "1079285"
  },
  {
    "text": "So, uh, with our- with our solution,",
    "start": "1079285",
    "end": "1082695"
  },
  {
    "text": "instead of running the apt-get binary using sudo and elevating the entire process,",
    "start": "1082695",
    "end": "1088889"
  },
  {
    "text": "the process is going to run, uh,",
    "start": "1088890",
    "end": "1090480"
  },
  {
    "text": "using the normal user privileges.",
    "start": "1090480",
    "end": "1092434"
  },
  {
    "text": "So this obviously won't work.",
    "start": "1092435",
    "end": "1095455"
  },
  {
    "text": "So what do we do, um,",
    "start": "1095455",
    "end": "1097110"
  },
  {
    "text": "so what we do is that we run a separate privileged daemon that",
    "start": "1097110",
    "end": "1101620"
  },
  {
    "text": "will take care of elevating privileges in a mine- much more fine-grained way.",
    "start": "1101620",
    "end": "1106375"
  },
  {
    "text": "And we also have a small library running within,",
    "start": "1106375",
    "end": "1109230"
  },
  {
    "text": "uh, the unprivileged- unprivileged process.",
    "start": "1109230",
    "end": "1111720"
  },
  {
    "text": "So everything on the left here, uh,",
    "start": "1111720",
    "end": "1113350"
  },
  {
    "text": "the apt-get process and the library is unprivileged and we have one privileged daemon.",
    "start": "1113350",
    "end": "1118150"
  },
  {
    "text": "So when the apt-get process is going to, uh,",
    "start": "1118150",
    "end": "1122100"
  },
  {
    "text": "do some operation which requires those extra privileges, the one,",
    "start": "1122100",
    "end": "1125820"
  },
  {
    "text": "uh, that we actually originally needed sudo for,",
    "start": "1125820",
    "end": "1128590"
  },
  {
    "text": "then obviously this operation is going to fail.",
    "start": "1128590",
    "end": "1130559"
  },
  {
    "text": "So, for example, uh, in this case,",
    "start": "1130560",
    "end": "1132570"
  },
  {
    "text": "it's going to try and open some fi- protected file which you cannot write as",
    "start": "1132570",
    "end": "1136799"
  },
  {
    "text": "an unprivileged user and operating system were",
    "start": "1136800",
    "end": "1139280"
  },
  {
    "text": "gonna tell- is going to tell the process, well, you can't do that.",
    "start": "1139280",
    "end": "1141850"
  },
  {
    "text": "Access is denied. Uh, in this point,",
    "start": "1141850",
    "end": "1144549"
  },
  {
    "text": "our library is going to intercept that system call just before it returns to- to",
    "start": "1144550",
    "end": "1149020"
  },
  {
    "text": "the program and request",
    "start": "1149020",
    "end": "1152540"
  },
  {
    "text": "the authentication agent running on your machine",
    "start": "1152540",
    "end": "1155150"
  },
  {
    "text": "to approve this operation which was originally denied.",
    "start": "1155150",
    "end": "1158580"
  },
  {
    "text": "Uh, again, same as before now the user can be prompted.",
    "start": "1158580",
    "end": "1162059"
  },
  {
    "text": "He can make sure that he's approving whatever he, uh,",
    "start": "1162060",
    "end": "1165160"
  },
  {
    "text": "whatever he wants, uh, to be performed on that remote machine.",
    "start": "1165160",
    "end": "1168530"
  },
  {
    "text": "And once the operation is approved,",
    "start": "1168530",
    "end": "1170975"
  },
  {
    "text": "a signed approval using the user's private key is sent,",
    "start": "1170975",
    "end": "1174945"
  },
  {
    "text": "uh, from the local machine, er,",
    "start": "1174945",
    "end": "1176669"
  },
  {
    "text": "to this library running in the unprivileged process.",
    "start": "1176670",
    "end": "1179225"
  },
  {
    "text": "Now, this unprivileged process can present the signed approval to",
    "start": "1179225",
    "end": "1183630"
  },
  {
    "text": "the privileged daemon and request for this operation to be performed on its behalf.",
    "start": "1183630",
    "end": "1188720"
  },
  {
    "text": "The privilege daemon verifies the- verifies the signature,",
    "start": "1188720",
    "end": "1192350"
  },
  {
    "text": "verifies the parameters of the operation,",
    "start": "1192350",
    "end": "1195025"
  },
  {
    "text": "and then goes- goes ahead and performs this operation from the privileged context.",
    "start": "1195025",
    "end": "1200225"
  },
  {
    "text": "Er, in this case, for example,",
    "start": "1200225",
    "end": "1202130"
  },
  {
    "text": "it opens the file,",
    "start": "1202130",
    "end": "1203320"
  },
  {
    "text": "gets the file descriptor and passes the file descriptor back to the unprivileged daemon.",
    "start": "1203320",
    "end": "1208005"
  },
  {
    "text": "So as you can see here, uh, as a result,",
    "start": "1208005",
    "end": "1211010"
  },
  {
    "text": "we've managed to perform a privileged operation from an unprivileged process without, uh,",
    "start": "1211010",
    "end": "1215830"
  },
  {
    "text": "first of all, by allowing the user to control this specific operation and",
    "start": "1215830",
    "end": "1219730"
  },
  {
    "text": "without increasing the attack surface and running the entire process as root.",
    "start": "1219730",
    "end": "1223640"
  },
  {
    "text": "Um, so this is kind of what we're working on now.",
    "start": "1223640",
    "end": "1228590"
  },
  {
    "text": "And it turns out that kind of",
    "start": "1228590",
    "end": "1231054"
  },
  {
    "text": "this personal auth- authentication agent that we're building opens also,",
    "start": "1231055",
    "end": "1236055"
  },
  {
    "text": "uh, new opportunities for other things to be done.",
    "start": "1236055",
    "end": "1238300"
  },
  {
    "text": "So once we have this one focal point for all authorization decisions,",
    "start": "1238300",
    "end": "1242390"
  },
  {
    "text": "uh, for the user,",
    "start": "1242390",
    "end": "1244290"
  },
  {
    "text": "this allows us to, uh,",
    "start": "1244290",
    "end": "1245940"
  },
  {
    "text": "look for other new, uh,",
    "start": "1245940",
    "end": "1247480"
  },
  {
    "text": "possibilities for example, uh,",
    "start": "1247480",
    "end": "1249360"
  },
  {
    "text": "running a personal authorization log that will have, um,",
    "start": "1249360",
    "end": "1253059"
  },
  {
    "text": "that will have a log of all operations that- that were",
    "start": "1253060",
    "end": "1256290"
  },
  {
    "text": "performed users- using the user's identity and allow,",
    "start": "1256290",
    "end": "1259400"
  },
  {
    "text": "uh, allow the user to ask questions such as,",
    "start": "1259400",
    "end": "1262365"
  },
  {
    "text": "how was my identity used?",
    "start": "1262365",
    "end": "1263965"
  },
  {
    "text": "What privilege operations did I approve?",
    "start": "1263965",
    "end": "1265950"
  },
  {
    "text": "And make sure that his identity wasn't misused.",
    "start": "1265950",
    "end": "1269845"
  },
  {
    "text": "And second, once all, uh,",
    "start": "1269845",
    "end": "1272159"
  },
  {
    "text": "once all operations on behalf of the user kind of are",
    "start": "1272160",
    "end": "1274750"
  },
  {
    "text": "strongly tied to the user's cryptographic identity,",
    "start": "1274750",
    "end": "1277790"
  },
  {
    "text": "to his private keys located in one place,",
    "start": "1277790",
    "end": "1280440"
  },
  {
    "text": "we can then go and, uh,",
    "start": "1280440",
    "end": "1282940"
  },
  {
    "text": "maybe thi- think about other scenarios such as splitting the key between the user's, uh,",
    "start": "1282940",
    "end": "1287059"
  },
  {
    "text": "hardware token and some trusted server, uh,",
    "start": "1287060",
    "end": "1289780"
  },
  {
    "text": "in a way- in a way to enable, uh,",
    "start": "1289780",
    "end": "1292555"
  },
  {
    "text": "things like- such as two factor authorization and so on.",
    "start": "1292555",
    "end": "1297685"
  },
  {
    "text": "So, kind of to conclude, uh,",
    "start": "1297685",
    "end": "1300495"
  },
  {
    "text": "I thi- I think that the main point, um,",
    "start": "1300495",
    "end": "1302880"
  },
  {
    "text": "that you should take away from this talk is that, um,",
    "start": "1302880",
    "end": "1306030"
  },
  {
    "text": "we want to give user the power to really control the way that their identity is used.",
    "start": "1306030",
    "end": "1311805"
  },
  {
    "text": "Uh, not only- like to control every oper-",
    "start": "1311805",
    "end": "1314020"
  },
  {
    "text": "every operation individually with a much finer scope.",
    "start": "1314020",
    "end": "1317670"
  },
  {
    "text": "And Guardian Agent is a step towards this.",
    "start": "1317670",
    "end": "1320300"
  },
  {
    "text": "We provide secure, uh,",
    "start": "1320300",
    "end": "1321950"
  },
  {
    "text": "delegation for SSH and also secure privilege elevation.",
    "start": "1321950",
    "end": "1325635"
  },
  {
    "text": "Thank you.",
    "start": "1325635",
    "end": "1327260"
  },
  {
    "text": "[APPLAUSE]",
    "start": "1327260",
    "end": "1333660"
  },
  {
    "text": "OAuth 2 is becoming quite popular and it's",
    "start": "1336310",
    "end": "1339750"
  },
  {
    "text": "an authorization framework rather than an authentication one.",
    "start": "1339750",
    "end": "1342950"
  },
  {
    "text": "Um, how would that affect the- the kind of thing you're doing?",
    "start": "1342950",
    "end": "1346815"
  },
  {
    "text": "Um, so I think for OAuth 2 it doesn't really use,",
    "start": "1346815",
    "end": "1352179"
  },
  {
    "text": "um, it doesn't really use cryptography to assert every,",
    "start": "1352180",
    "end": "1355430"
  },
  {
    "text": "er, every authori- every authorization operation that you do.",
    "start": "1355430",
    "end": "1358570"
  },
  {
    "text": "So you kind of need to, uh,",
    "start": "1358570",
    "end": "1360215"
  },
  {
    "text": "again trust some- some third party to- to store your, uh,",
    "start": "1360215",
    "end": "1364289"
  },
  {
    "text": "store your tokens and- and so on.",
    "start": "1364290",
    "end": "1367555"
  },
  {
    "text": "Okay.",
    "start": "1367555",
    "end": "1371580"
  },
  {
    "text": "Any other questions?",
    "start": "1371580",
    "end": "1372554"
  },
  {
    "text": "How do you handle for- for privilege escalation?",
    "start": "1372555",
    "end": "1375940"
  },
  {
    "text": "You have to deal with states on the server.",
    "start": "1375940",
    "end": "1377870"
  },
  {
    "text": "So, for example, if you have- if you have a symbolic link",
    "start": "1377870",
    "end": "1380130"
  },
  {
    "text": "and the user approves access to a symbolic link,",
    "start": "1380130",
    "end": "1383430"
  },
  {
    "text": "but then the link changes,",
    "start": "1383430",
    "end": "1384945"
  },
  {
    "text": "how do you- how do you- how do you handle things like that?",
    "start": "1384945",
    "end": "1387434"
  },
  {
    "text": "So, actually, symbolic link is- is really a source of,",
    "start": "1387435",
    "end": "1390685"
  },
  {
    "text": "uh, kind of trouble, but, uh,",
    "start": "1390685",
    "end": "1392180"
  },
  {
    "text": "what we do is we try to dereference",
    "start": "1392180",
    "end": "1393965"
  },
  {
    "text": "all- as much of the state as possible from the unprivileged context.",
    "start": "1393965",
    "end": "1397490"
  },
  {
    "text": "Uh, so for example, all symbolic links or relative parser",
    "start": "1397490",
    "end": "1400400"
  },
  {
    "text": "are evaluated in unprivileged process, and then,",
    "start": "1400400",
    "end": "1403140"
  },
  {
    "text": "uh, when the user approves this- approves the path he",
    "start": "1403140",
    "end": "1406050"
  },
  {
    "text": "can get- he gets an absolute path that he can assign some trust to.",
    "start": "1406050",
    "end": "1410130"
  },
  {
    "text": "Cool, yeah.",
    "start": "1410560",
    "end": "1411890"
  },
  {
    "text": "Any more questions?",
    "start": "1411890",
    "end": "1413310"
  },
  {
    "text": "Isn't there a kind of inherently, uh,",
    "start": "1413640",
    "end": "1416480"
  },
  {
    "text": "time to check time to use problem there even with dereferencing all these symbolic links?",
    "start": "1416480",
    "end": "1421750"
  },
  {
    "text": "Um, yes.",
    "start": "1421750",
    "end": "1423500"
  },
  {
    "text": "I think one idea that we have to address,",
    "start": "1423500",
    "end": "1425570"
  },
  {
    "text": "this kind of issues is for example, uh,",
    "start": "1425570",
    "end": "1427779"
  },
  {
    "text": "maybe not blocking, but alerting the user if any component",
    "start": "1427780",
    "end": "1431840"
  },
  {
    "text": "of the path let's say for file operation is writable by the unprivileged account.",
    "start": "1431840",
    "end": "1435695"
  },
  {
    "text": "Uh, and you can kind of think of an environment if all the components of",
    "start": "1435695",
    "end": "1438500"
  },
  {
    "text": "the path are not writable by the user, uh,",
    "start": "1438500",
    "end": "1441220"
  },
  {
    "text": "then it's not to- it shouldn't be susceptible to this kind of attack at least",
    "start": "1441220",
    "end": "1444250"
  },
  {
    "text": "from- There's- there's still",
    "start": "1444250",
    "end": "1446230"
  },
  {
    "text": "global state whenever- whenever you do which can be modified,",
    "start": "1446230",
    "end": "1449179"
  },
  {
    "text": "uh, concurrently, um, but I think it can minimize the risk of that.",
    "start": "1449180",
    "end": "1454500"
  },
  {
    "text": "How about situation how user is",
    "start": "1454500",
    "end": "1459780"
  },
  {
    "text": "allowed to perform actions on Machine A and not on Machine B.",
    "start": "1459780",
    "end": "1465040"
  },
  {
    "text": "So, if- if- if user is allowed to say run apt-get on Machine 1 whereas she's,",
    "start": "1465040",
    "end": "1471610"
  },
  {
    "text": "uh, I mean she's but then",
    "start": "1471610",
    "end": "1474285"
  },
  {
    "text": "she's not allowed to run on Machine B because it's only command?",
    "start": "1474285",
    "end": "1477875"
  },
  {
    "text": "Um, so from each machine keeps, um,",
    "start": "1477875",
    "end": "1482250"
  },
  {
    "text": "keeps a set of public keys of- that",
    "start": "1482250",
    "end": "1484890"
  },
  {
    "text": "corresponds to the users that are allowed to do this operation.",
    "start": "1484890",
    "end": "1487650"
  },
  {
    "text": "This is from the server's point of view and",
    "start": "1487650",
    "end": "1489860"
  },
  {
    "text": "from the agent's point of view when the user authorizes something,",
    "start": "1489860",
    "end": "1492965"
  },
  {
    "text": "it's actually presented also with identity of the s-.",
    "start": "1492965",
    "end": "1495645"
  },
  {
    "text": "So in the example that I gave you,",
    "start": "1495645",
    "end": "1497620"
  },
  {
    "text": "you will not only see that you are approving",
    "start": "1497620",
    "end": "1498895"
  },
  {
    "text": "apt-get but you also see the identity of the machine.",
    "start": "1498895",
    "end": "1501020"
  },
  {
    "text": "And this identity is going to be- to be inside",
    "start": "1501020",
    "end": "1503120"
  },
  {
    "text": "that- that blob of data that you are going to sign.",
    "start": "1503120",
    "end": "1506125"
  },
  {
    "text": "And then each machine can verify that its own identity was signed by the user.",
    "start": "1506125",
    "end": "1510885"
  },
  {
    "text": "How does the- the mechanism seems a lot like what Windows does.",
    "start": "1510885",
    "end": "1520010"
  },
  {
    "text": "Um, how does the user actually",
    "start": "1520010",
    "end": "1522220"
  },
  {
    "text": "know the answer to the question that the user is being asked?",
    "start": "1522220",
    "end": "1526054"
  },
  {
    "text": "Um, so- so I think there's like- you're bringing up two- two important issue.",
    "start": "1526055",
    "end": "1531610"
  },
  {
    "text": "First of all, I think that if you compare it to let's say the UAC mechanism in Windows,",
    "start": "1531610",
    "end": "1535995"
  },
  {
    "text": "so it- it- it- although you are given some prompt,",
    "start": "1535995",
    "end": "1538870"
  },
  {
    "text": "it still suffers from the problem that",
    "start": "1538870",
    "end": "1540700"
  },
  {
    "text": "the entire process gets elevated after you approve these things.",
    "start": "1540700",
    "end": "1543519"
  },
  {
    "text": "So you don't if- you still suffer from increasing the attack surface.",
    "start": "1543520",
    "end": "1547080"
  },
  {
    "text": "About the point that the user needs to make a decision, uh,",
    "start": "1547080",
    "end": "1551450"
  },
  {
    "text": "then kind of our hope is that on the agent side using the policy we can- we can kind of,",
    "start": "1551450",
    "end": "1557144"
  },
  {
    "text": "um, uh, present the question in a meaningful way.",
    "start": "1557145",
    "end": "1560090"
  },
  {
    "text": "For example, uh, not only show the full path,",
    "start": "1560090",
    "end": "1563070"
  },
  {
    "text": "but give some meta information about it.",
    "start": "1563070",
    "end": "1566134"
  },
  {
    "text": "I guess the answer",
    "start": "1566135",
    "end": "1568970"
  },
  {
    "text": "that I sort of sourced to my question was actually the authorization log.",
    "start": "1568970",
    "end": "1571950"
  },
  {
    "text": "That you could at least forensically go back and",
    "start": "1571950",
    "end": "1574610"
  },
  {
    "text": "say although you didn't understand that you were authorizing this,",
    "start": "1574610",
    "end": "1578530"
  },
  {
    "text": "you did actually authorize this and this was",
    "start": "1578530",
    "end": "1580470"
  },
  {
    "text": "the thing that caused you to be broken later, would be improved.",
    "start": "1580470",
    "end": "1583570"
  },
  {
    "text": "That's fine.",
    "start": "1586760",
    "end": "1588560"
  },
  {
    "text": "Yeah.",
    "start": "1588560",
    "end": "1589510"
  },
  {
    "text": "Great. Thanks Dima. [APPLAUSE]",
    "start": "1589510",
    "end": "1594160"
  }
]