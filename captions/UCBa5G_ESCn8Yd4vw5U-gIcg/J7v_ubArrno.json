[
  {
    "start": "0",
    "end": "5480"
  },
  {
    "text": "OK. So here's what I was\nthinking about doing today. It's the last day of\nthe quarter for us.",
    "start": "5480",
    "end": "10580"
  },
  {
    "text": "We should make it a\nlittle bit casual. There's one piece\nof content that we haven't gotten to that we\ndo in some previous years.",
    "start": "10580",
    "end": "16042"
  },
  {
    "text": "And I always think it's kind of\ninteresting for you all to know, given that you're always\ntalking about, oh, my God, we're out of memory bandwidth.",
    "start": "16043",
    "end": "22063"
  },
  {
    "text": "I just wanted to talk a little\nbit about how memory works. So we'll talk a\nlittle bit about that. I'll do a really quick wrap\nup, and things like that.",
    "start": "22063",
    "end": "28800"
  },
  {
    "text": "And then we'll maybe open\nit into just a little bit of an AMA. We can talk. We can leave early.",
    "start": "28800",
    "end": "34940"
  },
  {
    "text": "We can talk a\nlittle bit about now that you've taken\nCS 149, what might be some things that might\nbe useful at Stanford",
    "start": "34940",
    "end": "41840"
  },
  {
    "text": "to go do next. So that's the goal. OK. So let's get into accessing\nmemory, which has actually",
    "start": "41840",
    "end": "48320"
  },
  {
    "text": "been a pretty abstract concept\nso far in the course, given its importance. So in your head, you're probably\nthinking about, OK, there's",
    "start": "48320",
    "end": "55460"
  },
  {
    "text": "a processor. And then there's memory,\nwhich some of you might be think of as DRAM.",
    "start": "55460",
    "end": "61860"
  },
  {
    "text": "And I'll explain what\nthat means in a second. And then to make memory\nfaster, and by faster, I",
    "start": "61860",
    "end": "67110"
  },
  {
    "text": "mean reduce memory access time\nand increase memory bandwidth, we have this cache sitting\nin a modern computer.",
    "start": "67110",
    "end": "75159"
  },
  {
    "text": "So if you think about this box\nhere as the CPU or the core, you've got a processor\ncore in there,",
    "start": "75160",
    "end": "82710"
  },
  {
    "text": "for example, the Intel\nchips that you ran on, have four cores and myth. They had, I'm forgetting\nnow what they had on AWS.",
    "start": "82710",
    "end": "90060"
  },
  {
    "text": "I think we gave you eight\ncore machines with 16 virtual, two hyperthreads per core. And then there's some caches.",
    "start": "90060",
    "end": "96610"
  },
  {
    "text": "And on this diagram, I'm\nonly drawing one of them. I'm drawing what's called\nthe last level cache. So if you have an\nL1, L2, and L3,",
    "start": "96610",
    "end": "104410"
  },
  {
    "text": "your L3 is your\nlast level cache. Or if you just have\nan L1, well, your L1 is the last level of cache.",
    "start": "104410",
    "end": "109760"
  },
  {
    "text": "We often like to think\nabout the last level cache, because that's the point in\nwhich memory requests that",
    "start": "109760",
    "end": "115110"
  },
  {
    "text": "don't hit the cache now\nhave to go out to memory. And then there's a box on\nany modern processor that's",
    "start": "115110",
    "end": "122370"
  },
  {
    "text": "called the memory controller. And the memory\ncontroller is responsible for when the last level\ncache takes a cache miss,",
    "start": "122370",
    "end": "130709"
  },
  {
    "text": "the processor has to go\nget the data from memory. And the memory controller\nis responsible for making",
    "start": "130710",
    "end": "137970"
  },
  {
    "text": "that request out\nto memory, and then grabbing the results\nwhen they come back, and making sure the data gets\ninto the appropriate cache",
    "start": "137970",
    "end": "144515"
  },
  {
    "text": "and things like that. So that's what\nwe're talking about. So where we're\ngoing to go is we're going to talk about the\nimplementation of memory",
    "start": "144515",
    "end": "151330"
  },
  {
    "text": "now as memory as DRAM. ",
    "start": "151330",
    "end": "156840"
  },
  {
    "text": "So if you got upset\nabout the final and bashed your\nlaptop over your knee,",
    "start": "156840",
    "end": "162300"
  },
  {
    "text": "and you opened it up\nand looked inside, you would actually see\nsome DRAM chips in there. And one way you can think\nabout a single DRAM chip",
    "start": "162300",
    "end": "171750"
  },
  {
    "text": "is as an array, like a\nbig array of memory cells. So every box on this diagram\nis, you can think about it",
    "start": "171750",
    "end": "180270"
  },
  {
    "text": "as holding a bit. And this is a memory cell. So we're actually working in\nthe analog world at this point.",
    "start": "180270",
    "end": "187810"
  },
  {
    "text": "And how do you\nthink a bit-- a bit is represented by\nan amount of charge stored in each of these cells.",
    "start": "187810",
    "end": "193410"
  },
  {
    "text": "It's kind of the\ninverse of a photocell in your digital camera, right?",
    "start": "193410",
    "end": "198879"
  },
  {
    "text": "Like you have an\narray of pixels. And light hits the\nphotosensitive material and generates a voltage.",
    "start": "198880",
    "end": "204570"
  },
  {
    "text": "And you have a capacitor\nto hold that voltage. It says this is how many\nphotons hit the thing. Here's the opposite. We're trying to\nstore information.",
    "start": "204570",
    "end": "210857"
  },
  {
    "text": "So if we want to store a 1, we\nencode that as some voltage. And we want to store\n0, we encode it as a different voltage.",
    "start": "210857",
    "end": "217900"
  },
  {
    "text": "So you have all of\nthese different bits. And they're organized on a DRAM\nchip actually in this 2D manner.",
    "start": "217900",
    "end": "223769"
  },
  {
    "text": "Now down here at the\nbottom of the chip, there's two important\nstructural pieces.",
    "start": "223770",
    "end": "229530"
  },
  {
    "text": "First of all, you have\nyour wires, your data pins, that actually connect this chip\nto the rest of the computer.",
    "start": "229530",
    "end": "236230"
  },
  {
    "text": "So there's eight\ndata pins here, which means this DRAM chip\nat any one clock can only send 8\nbits of information.",
    "start": "236230",
    "end": "244620"
  },
  {
    "text": "So a 1 or a 0 on\neach of these wires. And in order to\naccess the DRAM chip,",
    "start": "244620",
    "end": "250800"
  },
  {
    "text": "the DRAM chip doesn't actually\nsend data from the DRAM array",
    "start": "250800",
    "end": "258588"
  },
  {
    "text": "onto the wires. It actually has a\nbuffer here, which is like a digital buffer that\nstores the values, the bits",
    "start": "258589",
    "end": "268460"
  },
  {
    "text": "in one row of the DRAM chip. So this is called\nthe row buffer.",
    "start": "268460",
    "end": "273690"
  },
  {
    "text": "So this stores one row. And so when you access\ndata from a DRAM chip, you're actually\nonly accessing data",
    "start": "273690",
    "end": "280670"
  },
  {
    "text": "for a byte-sized\nchunk of information stored in this row buffer. And I'll tell you, OK.",
    "start": "280670",
    "end": "286490"
  },
  {
    "text": "So let's say that we\ntake a cache miss. And the cache, like the\nactual load instruction is,",
    "start": "286490",
    "end": "295700"
  },
  {
    "text": "I need to access the address\nX. And at this point, we're talking about the\nphysical address X in memory.",
    "start": "295700",
    "end": "304260"
  },
  {
    "text": "So the memory controller gets\nthis command or this request from the processor says,\nhey, give me X. And really",
    "start": "304260",
    "end": "311370"
  },
  {
    "text": "what that is is give\nme the cache line that contains X. So when I say\nX, just think about X being",
    "start": "311370",
    "end": "316740"
  },
  {
    "text": "like the start of a cache line. And every byte that the\nprocessor might access",
    "start": "316740",
    "end": "325379"
  },
  {
    "text": "is going to be a contiguous part\nof some row in this DRAM array. So let's say we want to\naccess the byte that I'm",
    "start": "325380",
    "end": "332400"
  },
  {
    "text": "highlighting here in red. So the goal we need to do is\nwe need to read the values out",
    "start": "332400",
    "end": "341880"
  },
  {
    "text": "of those memory cells and then\ncommunicate those values back to the processor here\nover these bit lines.",
    "start": "341880",
    "end": "348960"
  },
  {
    "text": "And so there's a number of\nsteps to be able to do this, basically to convert\nthis voltage, this charge stored\nin these capacitors,",
    "start": "348960",
    "end": "355770"
  },
  {
    "text": "into digital 1s and 0s. So the first step\nin DRAM terminology",
    "start": "355770",
    "end": "361050"
  },
  {
    "text": "is actually called\nprecharge, which is kind of getting ready\nto read a particular row.",
    "start": "361050",
    "end": "370537"
  },
  {
    "text": "And in other words,\nwhat you can think about it is there's\nthese bit lines, there's these wires that go all\nthe way through the chip that",
    "start": "370537",
    "end": "379020"
  },
  {
    "text": "are supposed to read off\nthe voltage in those cells and communicate that\nvoltage all from one row",
    "start": "379020",
    "end": "386160"
  },
  {
    "text": "into the row buffer. So if this was\nsoftware, I would say we need to make a copy of the\ndata in one of these rows,",
    "start": "386160",
    "end": "392620"
  },
  {
    "text": "put it in the row buffer so\nwe can access the row buffer. But making that copy is actually\ncommunicating electrical voltage",
    "start": "392620",
    "end": "400259"
  },
  {
    "text": "down these wires. So we have to set these\nwires to a known amount.",
    "start": "400260",
    "end": "406020"
  },
  {
    "text": "And that's this precharge. And that takes some time. And so on this slide, I'm saying\nit takes about 10 nanoseconds.",
    "start": "406020",
    "end": "411700"
  },
  {
    "text": "So in memory, we think usually\nin terms of nanoseconds, because we might be at a\ndifferent clock rate in DRAM",
    "start": "411700",
    "end": "419220"
  },
  {
    "text": "than the processor. So if we said clocks,\nit's a little confusing on what clock we're\ntalking about. So on the order of about 10\nnanoseconds, this is like, OK,",
    "start": "419220",
    "end": "427280"
  },
  {
    "text": "these wires are now kind\nof normalized to some known voltage. And if we drain the capacitance\nof some row onto these wires,",
    "start": "427280",
    "end": "437230"
  },
  {
    "text": "their voltage is going\nto go up or down. So then we basically\nlock in to the row",
    "start": "437230",
    "end": "442720"
  },
  {
    "text": "that we want, and\nwe row activate. And row activate is basically\nreading the charge from this row",
    "start": "442720",
    "end": "449890"
  },
  {
    "text": "and bringing it down\ninto that row buffer at the bottom of the chip. So that's the copy\nof information.",
    "start": "449890",
    "end": "457526"
  },
  {
    "text": "And actually, it's interesting,\nsince this is an analog, that copy actually destroys\nthe value in that row.",
    "start": "457527",
    "end": "463099"
  },
  {
    "text": "So the only place where\nthat row of information sits is actually down\nhere at this point. So I had 10 nanoseconds to get\nthe communication lines ready.",
    "start": "463100",
    "end": "471849"
  },
  {
    "text": "I had another 10\nnanoseconds to read off the voltage in that row. And now that information\nis sitting down here",
    "start": "471850",
    "end": "477790"
  },
  {
    "text": "in the row buffer. And then given\nwhatever particular byte that I want, then I can\nselect that information, what's",
    "start": "477790",
    "end": "487350"
  },
  {
    "text": "called column selection,\nbecause the byte that you want is selecting certain\ncolumns in that row and transferring those\nbits onto the memory bus.",
    "start": "487350",
    "end": "496073"
  },
  {
    "text": "And now they're moving back\nto the memory controller on the chip. And the chip is going to\nput them in the right cache,",
    "start": "496073",
    "end": "501360"
  },
  {
    "text": "and so on, and so on. So this process of\nreading a byte actually",
    "start": "501360",
    "end": "507389"
  },
  {
    "text": "is like, get ready, activate\nthe appropriate row, then select the right column,\nand then move the contents",
    "start": "507390",
    "end": "514770"
  },
  {
    "text": "from those eight columns\nonto to the wires. Yeah. If we're reading like\nmultiple adjacent bytes--",
    "start": "514770",
    "end": "521880"
  },
  {
    "text": "Great question. So what would happen if the next\nbyte that you wanted to read was the next byte\nover in that row?",
    "start": "521880",
    "end": "527959"
  },
  {
    "text": "Well, you wouldn't be able\nto read it from the row. You can't be able to\nread it from the row. And not only you\ncan't, you don't really",
    "start": "527960",
    "end": "533310"
  },
  {
    "text": "want to, because you have the\nwhole row sitting right down there in the row buffer. And so you just move over.",
    "start": "533310",
    "end": "538840"
  },
  {
    "text": "So if your first access was like\nneeded a column access, a row activation, and then\na column selection,",
    "start": "538840",
    "end": "545470"
  },
  {
    "text": "your second access\nis actually faster because all you need to\ndo is read off more-- ",
    "start": "545470",
    "end": "553000"
  },
  {
    "text": "read off the next byte in\nthe row, the data that's already in the row buffer, OK?",
    "start": "553000",
    "end": "558350"
  },
  {
    "text": "So this is kind of interesting. Like DRAM-- so we've talked\nabout accessing memory has a variable access times,\ndepending on whether or not",
    "start": "558350",
    "end": "565540"
  },
  {
    "text": "you hit the cache. If you miss the cache, DRAM\nhas variable access times",
    "start": "565540",
    "end": "570850"
  },
  {
    "text": "depending on the access pattern\nthat you actually choose. DRAM may not be prepared or\nready to deal with your request.",
    "start": "570850",
    "end": "579830"
  },
  {
    "text": "It might need 20 extra\nnanoseconds to get prepared. And that can be a big deal. And there are a few questions.",
    "start": "579830",
    "end": "585620"
  },
  {
    "text": "Yeah. Yeah. On the previous slide, so\nwhen you transfer the column selection through the bus,\ndoes it still exist in the row?",
    "start": "585620",
    "end": "593709"
  },
  {
    "text": "Yeah, yeah. You can almost think about\nthis as we're basically digital at this point.",
    "start": "593710",
    "end": "598750"
  },
  {
    "text": "And we're just sending\nthose information out. And what has to\nhappen is periodic.",
    "start": "598750",
    "end": "604420"
  },
  {
    "text": "Like if before we read the\nnext row, let's say another, let's say we wanted to\nread like this byte here.",
    "start": "604420",
    "end": "609850"
  },
  {
    "text": "The first thing\nthe DRAM has to do is actually write this\ndata back to that row",
    "start": "609850",
    "end": "615800"
  },
  {
    "text": "so we don't lose\nthat information. So if we switch to\na different row, there's actually an extra step.",
    "start": "615800",
    "end": "621110"
  },
  {
    "text": "It's right back then, like\nready the data pins, then",
    "start": "621110",
    "end": "626769"
  },
  {
    "text": "activate the new row. So it can actually be quite slow\nif you're moving around memory. Mm-hmm.",
    "start": "626770",
    "end": "631870"
  },
  {
    "text": "Is there any reason why\nthe number of data fields isn't the same as the\nsize of the cache?",
    "start": "631870",
    "end": "638530"
  },
  {
    "text": "Well, yes. And that's because you would\nlove to have more pins. But this is expensive.",
    "start": "638530",
    "end": "643970"
  },
  {
    "text": "That'd be like saying, why\ndoesn't Highway 1 have 1,000 lanes? Because we would benefit from\n1,000 lanes at rush hour, right?",
    "start": "643970",
    "end": "651379"
  },
  {
    "text": "So we'll get back to that\ncomment, though, in a second. And the other thing\nthat you're saying is, well, why not more pins\nor something like that?",
    "start": "651380",
    "end": "659830"
  },
  {
    "text": "This is actually the\nbasic unit of DRAM. And so if you want\na wider memory bus,",
    "start": "659830",
    "end": "666480"
  },
  {
    "text": "you will use more of these. So DRAM has got to be cheap\nbecause it's a commodity.",
    "start": "666480",
    "end": "671970"
  },
  {
    "text": "And so the industry is\nstandard on a basic DRAM chip with pin width eight.",
    "start": "671970",
    "end": "677279"
  },
  {
    "text": "And so if you want\nmore of these, we're going to\nstart stacking them. And we'll get to\nthat in a second. So OK.",
    "start": "677280",
    "end": "682340"
  },
  {
    "text": "So if everything--\nif you take away anything from that\nsequence, it's like DRAM latency is not fixed.",
    "start": "682340",
    "end": "688670"
  },
  {
    "text": "All addresses are not the same. It depends on your\naccess pattern, how much you might\nget out of that.",
    "start": "688670",
    "end": "694830"
  },
  {
    "text": "And that's a pretty\nbig difference. Like just think about it. I can either grab a byte\nevery cycle, or I might have--",
    "start": "694830",
    "end": "702800"
  },
  {
    "text": "and it takes about\n10 nanoseconds to push that over the bus. Or I could have a whole 40\nnanosecond, 30 nanosecond",
    "start": "702800",
    "end": "708740"
  },
  {
    "text": "process to get the next byte. And all of a sudden, I've\njust cut my DRAM bandwidth",
    "start": "708740",
    "end": "714230"
  },
  {
    "text": "by a factor of 3 or 4. [INAUDIBLE] to\nwhat extent can we",
    "start": "714230",
    "end": "719480"
  },
  {
    "text": "control that if we use the\noperating system [INAUDIBLE]? So what I'm talking\nabout here is like I'm saying when the\ncomputer, the processor requests",
    "start": "719480",
    "end": "731810"
  },
  {
    "text": "address data at address X,\nit is the memory controller's implementation.",
    "start": "731810",
    "end": "737910"
  },
  {
    "text": "It's that responsibility to\nmap that to a place in that 2D array.",
    "start": "737910",
    "end": "744709"
  },
  {
    "text": "You in software have very few\nmechanisms to address that.",
    "start": "744710",
    "end": "750980"
  },
  {
    "text": "And there are some\nreasons why, which might be more apparent later. So the thing that\nyou're noticing is that, let's say I\nhave to make four memory",
    "start": "750980",
    "end": "758510"
  },
  {
    "text": "accesses to these locations\nthat I've highlighted in different colors.",
    "start": "758510",
    "end": "764790"
  },
  {
    "text": "Like let's say you're like\nwalking through a linked list or something like that. Or you don't know where\nthat data is going to be.",
    "start": "764790",
    "end": "770740"
  },
  {
    "text": "Or Malik put the data\nin the address space. Some of these, so I\nhave just my operations",
    "start": "770740",
    "end": "776330"
  },
  {
    "text": "are precharge,\nready the bit-lines. Row access strobe, so\nRAS is select your row.",
    "start": "776330",
    "end": "784100"
  },
  {
    "text": "And the column access-- select your row and bring\nthe data to the row buffer.",
    "start": "784100",
    "end": "789320"
  },
  {
    "text": "And the column access\nstrobe, the CAS is read the appropriate\ncolumns out of the row buffer.",
    "start": "789320",
    "end": "796510"
  },
  {
    "text": "And so I'm highlighting\nthe CAS in red because that's when the data\nmoves over the memory bus,",
    "start": "796510",
    "end": "802470"
  },
  {
    "text": "the memory pins. And if the memory pins are\nlike the most precious resource",
    "start": "802470",
    "end": "808610"
  },
  {
    "text": "in the system,\nyour goal should be to make everything-- you\nwant to be able to use those pins at all times.",
    "start": "808610",
    "end": "815450"
  },
  {
    "text": "If you're not making\n100% utilization of them, you are wasting your scarcest\nresource in the system.",
    "start": "815450",
    "end": "821240"
  },
  {
    "text": "So what are some things\nthat we could do, given that this particular-- what's the utilization of the\nmemory bus in this example?",
    "start": "821240",
    "end": "828095"
  },
  {
    "text": "You know, there's one, two,\nthree, four, five, six, seven, eight, nine, 10, about 4/10.",
    "start": "828095",
    "end": "833209"
  },
  {
    "text": "Only four out of\nthose 10 boxes are-- so what are some standard\ntricks from this class in making",
    "start": "833210",
    "end": "840532"
  },
  {
    "text": "better use out of something? Pipeline it. So we can pipeline it. Now, how do we do that?",
    "start": "840533",
    "end": "845930"
  },
  {
    "text": "You would have to\noverlap the [INAUDIBLE].",
    "start": "845930",
    "end": "850970"
  },
  {
    "text": "Yeah. OK. You're on the right track. There's a couple of different\nthings you could say.",
    "start": "850970",
    "end": "856840"
  },
  {
    "text": " We increase buffer size.",
    "start": "856840",
    "end": "862493"
  },
  {
    "text": "And what do you make-- you actually mean increase\nthe minimum request size,",
    "start": "862493",
    "end": "867850"
  },
  {
    "text": "or something like-- Like how you have that row\nbuffer, you can drop two rows-- Two row buffers.",
    "start": "867850",
    "end": "873120"
  },
  {
    "text": "So basically, you're\nkind of saying I want some multithreading\nkind of ideas. Yeah so-- and you were\nkind of getting closer.",
    "start": "873120",
    "end": "879537"
  },
  {
    "text": "Yeah, it's totally on the right. First of all, I want to just\ngo with the easiest one first is, you allow the chip to\nsupport bulk transfers.",
    "start": "879537",
    "end": "891220"
  },
  {
    "text": "Like you have\nactually an ability of the command of the chip\nis not giving me a byte.",
    "start": "891220",
    "end": "897190"
  },
  {
    "text": "But the command of\nthe chip is giving me like 64 contiguous bytes. So the first thing in\nany computer system",
    "start": "897190",
    "end": "902800"
  },
  {
    "text": "is you do bulk stuff if you want\nto amortize overhead, right? So that's one way to do it.",
    "start": "902800",
    "end": "908360"
  },
  {
    "text": "And that's one way to do it\nif your access pattern affords big contiguous data.",
    "start": "908360",
    "end": "914110"
  },
  {
    "text": "By the way, there's a\nreason why if you run right through your memory system,\nyou get the best performance.",
    "start": "914110",
    "end": "919610"
  },
  {
    "text": "And it's not just you're\nusing the whole cache line. It's actually that the memory\ncontroller can communicate",
    "start": "919610",
    "end": "924740"
  },
  {
    "text": "with the DRAM system in the\nmost efficient way possible if it knows the access\npattern is all contiguous.",
    "start": "924740",
    "end": "930510"
  },
  {
    "text": "That's also the reason\nwhy there are cache lines. Cache lines are 64\nbytes, which helps",
    "start": "930510",
    "end": "936140"
  },
  {
    "text": "suggest big, bulk\ncontiguous granularity transfers are more efficient.",
    "start": "936140",
    "end": "941639"
  },
  {
    "text": "Like a memory bus is 64\nbits on modern Intel stuff. A modern cache line is 64\nbytes, eight times larger,",
    "start": "941640",
    "end": "948630"
  },
  {
    "text": "which means there's a lot\nof bulk transfer there. Now what you were hitting\nat are really good ideas.",
    "start": "948630",
    "end": "955790"
  },
  {
    "text": "And that's exactly\nwhat's going to happen. So basically,\nwhat's going on here is this is your classic\nproblem of I have",
    "start": "955790",
    "end": "961460"
  },
  {
    "text": "an operation with some latency. I need to hide that latency.",
    "start": "961460",
    "end": "966829"
  },
  {
    "text": "And in this class, if you\nwant kind of arbitrary latency hiding, you multithread.",
    "start": "966830",
    "end": "972240"
  },
  {
    "text": "And if you want more structured\nlatency hiding, you pipeline. You put more\noperations in flight.",
    "start": "972240",
    "end": "978047"
  },
  {
    "text": "And we're definitely going\nto pipeline this thing. So here's what we're\ngoing to do is every DRAM chip has one of these arrays.",
    "start": "978047",
    "end": "983580"
  },
  {
    "text": "And it has a row buffer. And the way they do\ntheir pipeline is they're going to take all of this.",
    "start": "983580",
    "end": "989209"
  },
  {
    "text": "And they're going\nto replicate it. So here's what's going\nto happen is we're going to share the data pins.",
    "start": "989210",
    "end": "995283"
  },
  {
    "text": " Remember like multi-threading\nis like sharing the processor",
    "start": "995283",
    "end": "1001180"
  },
  {
    "text": "and having different\noutstanding requests. Here, the outstanding\nrequests are into the array.",
    "start": "1001180",
    "end": "1006769"
  },
  {
    "text": "We're going to\nshare the data pins. But we're going to build\nmore row buffers and more-- ",
    "start": "1006770",
    "end": "1015018"
  },
  {
    "text": "sorry, sorry. We're going to build-- we're\ngoing to share the row buffer and the data pins. And we're going to\nbuild more DRAM arrays.",
    "start": "1015018",
    "end": "1021320"
  },
  {
    "text": "So we're going to have\nwhat in DRAM terminology are different banks.",
    "start": "1021320",
    "end": "1026770"
  },
  {
    "text": "So what's going on here is while\nwe are waiting for data pin-- sorry, for rows to\nactivate on one bank,",
    "start": "1026770",
    "end": "1034130"
  },
  {
    "text": "we're going to make\na request and start reading the data\nfrom other banks, and sending data over\nthe bus from other banks.",
    "start": "1034130",
    "end": "1041049"
  },
  {
    "text": "So notice here that if your\naddresses are interleaved over the banks, I can start\nthe processing for Bank 0",
    "start": "1041050",
    "end": "1051940"
  },
  {
    "text": "or removing the data from Bank\n0 when I'm initiating the row",
    "start": "1051940",
    "end": "1057139"
  },
  {
    "text": "access on Bank 1. This is your classic pipelining\nexample, like you said.",
    "start": "1057140",
    "end": "1062389"
  },
  {
    "text": "So every DRAM chip, if\nyou go buy a DRAM chip, it's going to have some number\nof data pins, which is basically",
    "start": "1062390",
    "end": "1069260"
  },
  {
    "text": "going to be eight. It's going to have a row\nbuffer to store a row from any of these DRAM arrays. And there will be multiple DRAM\narrays, which are called banks.",
    "start": "1069260",
    "end": "1078410"
  },
  {
    "text": "That's packaged up. And then if you want a 64-bit\nbus, this is an 8-bit bus,",
    "start": "1078410",
    "end": "1086299"
  },
  {
    "text": "then you start\nstacking them wide. So this is like when you go to--\nor you go on Amazon or Newegg.",
    "start": "1086300",
    "end": "1093330"
  },
  {
    "text": "You buy yourself a DRAM DIMM. So the DIMM is IMM. It's the in-line memory module.",
    "start": "1093330",
    "end": "1100390"
  },
  {
    "text": "There's just eight of these\nDRAM chips sitting there. So this is now a\n64-bit memory bus.",
    "start": "1100390",
    "end": "1108460"
  },
  {
    "text": "One, two, three, four,\nfive, six, seven, eight. So your Intel processor, your\nstandard processor connected",
    "start": "1108460",
    "end": "1114590"
  },
  {
    "text": "to a 64-bit memory bus, the\nmemory controller is sending a command.",
    "start": "1114590",
    "end": "1120440"
  },
  {
    "text": "And that command is not I want\naddress X. But that command is I",
    "start": "1120440",
    "end": "1125779"
  },
  {
    "text": "want the byte at Bank B,\nRow R, Column, whatever.",
    "start": "1125780",
    "end": "1132920"
  },
  {
    "text": "And all eight DRAM chips\nget that same command. They all return their data\nin Bank B, Row R, Column 0.",
    "start": "1132920",
    "end": "1140179"
  },
  {
    "text": "And that all together\nis 8 bytes of data. So it's the memory controller's\nresponsibility to say, oh,",
    "start": "1140180",
    "end": "1147920"
  },
  {
    "text": "if I'm supposed to get a 64\nbyte cache line at this address,",
    "start": "1147920",
    "end": "1154020"
  },
  {
    "text": "where in this 3D address space\nof bank rows and columns is that",
    "start": "1154020",
    "end": "1159440"
  },
  {
    "text": "data? And you issue the request. ",
    "start": "1159440",
    "end": "1168410"
  },
  {
    "text": "People are looking confused? Yeah. On the previous slide, when\nwe're replicating the base--",
    "start": "1168410",
    "end": "1175020"
  },
  {
    "text": "We're not replicating. We are-- there's\nno data replicated. There's just simply, in\nthis case, three banks.",
    "start": "1175020",
    "end": "1180870"
  },
  {
    "text": "Yeah, certainly. But it seems like\nthe column accesses happen like immediately,\none after another.",
    "start": "1180870",
    "end": "1187190"
  },
  {
    "text": "And there's no pre between them. Like-- Here's the pre.",
    "start": "1187190",
    "end": "1192559"
  },
  {
    "text": "So if I'm accessing Bank\n0, here's the pre on 0. Here's the grabbing the\nrow into the row buffer.",
    "start": "1192560",
    "end": "1199649"
  },
  {
    "text": "And then there's the read\nthe data out of the row buffer for an access to Bank 0. While we were reading the data\nout of the row buffer on Bank 0,",
    "start": "1199650",
    "end": "1207180"
  },
  {
    "text": "we're pre charging Bank 1. OK, got it. So the vertical data\nlines are replicated,",
    "start": "1207180",
    "end": "1216180"
  },
  {
    "text": "the replicated lines. There are N different\nDRAM arrays.",
    "start": "1216180",
    "end": "1221210"
  },
  {
    "text": "And they all hold\ndifferent data. Yeah. How smart is it to--",
    "start": "1221210",
    "end": "1228059"
  },
  {
    "text": "like if you have a\ncontiguous array where you try to scatter these\nacross so you can-- Well, let's think\nabout it a little bit.",
    "start": "1228060",
    "end": "1234700"
  },
  {
    "text": "So let's think about reading\none cache line from this thing,",
    "start": "1234700",
    "end": "1241250"
  },
  {
    "text": "right? So one cache line is\n64 bytes or 512 bits. So imagine that I do the most\nsimple thing, which is I put--",
    "start": "1241250",
    "end": "1252280"
  },
  {
    "text": "because the width of these\nDRAM arrays is like 2000 bytes. So maybe I put the\nwhole cache line",
    "start": "1252280",
    "end": "1257640"
  },
  {
    "text": "in contiguous row\nof one DRAM chip.",
    "start": "1257640",
    "end": "1263370"
  },
  {
    "text": "How long does it take me to\nread an entire cache line? So my first byte comes\nfrom this DRAM chip.",
    "start": "1263370",
    "end": "1270990"
  },
  {
    "text": "My second byte comes\nfrom that DRAM chip. My third byte comes from\nthat DRAM chip, and so on.",
    "start": "1270990",
    "end": "1276300"
  },
  {
    "text": "And so on. So even though I have\na 64-bit memory bus, I'm only using eight bytes.",
    "start": "1276300",
    "end": "1281820"
  },
  {
    "text": "So what does this suggest\nthe answer needs to be? You'd put every eight.",
    "start": "1281820",
    "end": "1287260"
  },
  {
    "text": "I have to-- yeah. I mean, one thing is I should\ninterleave the address space over my DRAM chips\nso that, notice now",
    "start": "1287260",
    "end": "1295000"
  },
  {
    "text": "when I say read Bank B, Row R,\nColumn 0, the same address--",
    "start": "1295000",
    "end": "1301360"
  },
  {
    "text": "or not the same address,\nthe same like location in all of the chips,\nI get what happens",
    "start": "1301360",
    "end": "1306550"
  },
  {
    "text": "to be eight consecutive bytes\nin the physical address space. Now of course, if I wanted\n64 bytes for the cache line,",
    "start": "1306550",
    "end": "1313370"
  },
  {
    "text": "I would need to do this\neight times in time. Yeah. So, two slides ago, when\nyou have multiple banks.",
    "start": "1313370",
    "end": "1321860"
  },
  {
    "text": "Is that you have multiple\nbanks, but then it's one row in one set of data pans? Yeah.",
    "start": "1321860",
    "end": "1327934"
  },
  {
    "text": "When you go one\nslide forward, it looks here, when you do each\nof these little modules, that it's kind of one bank.",
    "start": "1327935",
    "end": "1333290"
  },
  {
    "text": "And then each of\nthose has its own-- Oh, what I want you to\nthink of-- sorry, yeah. This diagram here, every one\nof these boxes is a DRAM chip.",
    "start": "1333290",
    "end": "1340820"
  },
  {
    "text": "And every DRAM chip inside\nof it has multiple banks, which I did not illustrate\nhere on the slide anymore.",
    "start": "1340820",
    "end": "1346169"
  },
  {
    "text": "Sorry about that. Yeah, I probably\nshould have done that. But you could just\nthink about a DRAM chip as a module, which accept\nas input a request, which",
    "start": "1346170",
    "end": "1353360"
  },
  {
    "text": "says give me the byte in Bank\nB, Row R, starting at Column 0.",
    "start": "1353360",
    "end": "1361670"
  },
  {
    "text": "Now keep in mind that if\nI do this, let's do this. Let's go here. OK.",
    "start": "1361670",
    "end": "1366750"
  },
  {
    "text": "So let's say I stride my\nbytes across the DRAM chips. Does it make sense\nthat we're going to get",
    "start": "1366750",
    "end": "1372650"
  },
  {
    "text": "eight consecutive bytes here? OK. But we have a whole cache line. We need the next eight bytes.",
    "start": "1372650",
    "end": "1379480"
  },
  {
    "text": "So I would probably\nput the next byte, interleave it amongst\nthe DRAM chips, but put it in a different\nbank on those DRAM chips,",
    "start": "1379480",
    "end": "1386160"
  },
  {
    "text": "because I want to initiate that\nrow access to the next byte immediately in the next cycle.",
    "start": "1386160",
    "end": "1391470"
  },
  {
    "text": "So when the-- Yeah, I should\nchange that diagram to show that there's a couple\nof banks under each of these. Yeah.",
    "start": "1391470",
    "end": "1396810"
  },
  {
    "text": "So does the memory controller,\nwhen it makes that request or does DRAM module to start\nrecharging the next bank?",
    "start": "1396810",
    "end": "1403980"
  },
  {
    "text": "No, it'll look like this. It'll look like--\nthere will be a--",
    "start": "1403980",
    "end": "1409710"
  },
  {
    "text": "well, the DRAM-- So in-- think about it this way. In every clock, the\nmemory controller",
    "start": "1409710",
    "end": "1417659"
  },
  {
    "text": "is sending this command.",
    "start": "1417660",
    "end": "1423060"
  },
  {
    "text": "So let's say it\nstarts getting started on that command immediately\njust for simplicity. And the next clock, it'll start\npre-charging Bank B plus 1,",
    "start": "1423060",
    "end": "1431130"
  },
  {
    "text": "or something like that. Because the next\ncommand will say, I want the data\nat Bank B, plus 1.",
    "start": "1431130",
    "end": "1436775"
  },
  {
    "text": "So the memory\ncontroller is going to give them memory system\nrequests in a manner",
    "start": "1436775",
    "end": "1441870"
  },
  {
    "text": "that based on its knowledge\nof how memory works, it can satisfy those\nrequests as quickly as--",
    "start": "1441870",
    "end": "1447120"
  },
  {
    "text": "[INAUDIBLE] Yeah, yeah. Yeah, it's pipelining\nthe requests straight in. And if it's a whole\ncache line, let's",
    "start": "1447120",
    "end": "1453929"
  },
  {
    "text": "say it's 64 bytes,\nthat request actually could be burst mode transfer.",
    "start": "1453930",
    "end": "1459399"
  },
  {
    "text": "I want eight bytes located\nstarting at B, R, and Column 0.",
    "start": "1459400",
    "end": "1464500"
  },
  {
    "text": "Because what I would probably\ndo is I'd put the next bank, if those are the bytes\nI'm reading there,",
    "start": "1464500",
    "end": "1470639"
  },
  {
    "text": "well, the next byte I\nread from every DRAM chip will actually be in the same-- sorry, I'm in the wrong\nplace, in the same row.",
    "start": "1470640",
    "end": "1477390"
  },
  {
    "text": "So in this case, I would not\nstart a new bank transfer. I would just say, look, I\nneed eight consecutive bytes",
    "start": "1477390",
    "end": "1482670"
  },
  {
    "text": "from the same row of all DRAM\nchips, times eight DRAM chips. That's going to get me to my 64.",
    "start": "1482670",
    "end": "1488309"
  },
  {
    "text": "Yeah, exactly. Uh-huh. You do the requests from\nthe memory controller also go across the\nsame data bits?",
    "start": "1488310",
    "end": "1494309"
  },
  {
    "text": "No, there's usually\na command bus also. Yeah, there's usually\na 64-bit data bus.",
    "start": "1494310",
    "end": "1499980"
  },
  {
    "text": "And then there's a command bus. I haven't ever implemented\none of these myself. I'm not sure if there's any\nclever temporal multiplexing",
    "start": "1499980",
    "end": "1506420"
  },
  {
    "text": "of the pins. But I'm pretty sure\nthat there would not be, because in a modern DDR, you're\nactually doing transfers twice",
    "start": "1506420",
    "end": "1512269"
  },
  {
    "text": "on the rising edge and the\nclosing edge of the clock. So unless you're\nreally creative, I don't see how you\ncould squeeze any more",
    "start": "1512270",
    "end": "1518240"
  },
  {
    "text": "information down there. But yeah. So this is like your\nbasic memory unit.",
    "start": "1518240",
    "end": "1523730"
  },
  {
    "text": "And then sometimes, you'll hear\nthings like dual channel memory system, or something like that.",
    "start": "1523730",
    "end": "1529680"
  },
  {
    "text": "And so you can think\nabout this as one channel between the\nmemory controller and a memory module, a DIMM.",
    "start": "1529680",
    "end": "1537890"
  },
  {
    "text": "And notice that one channel\nhas one command per clock,",
    "start": "1537890",
    "end": "1543482"
  },
  {
    "text": "or something like that. And the same command\nis given to everybody. A dual channel\nmemory system is just",
    "start": "1543482",
    "end": "1549710"
  },
  {
    "text": "to take this and make\nanother one, right? So here's an example of a--",
    "start": "1549710",
    "end": "1556960"
  },
  {
    "text": "sorry. No, I got ahead of myself. So one more thing before we talk\nabout dual channel is remember,",
    "start": "1556960",
    "end": "1563770"
  },
  {
    "text": "we have the processor down here. And the processor is just\ngenerating cache misses.",
    "start": "1563770",
    "end": "1571470"
  },
  {
    "text": "And cache misses turn into\nI need this cache line. And those are requests\nto the memory controller.",
    "start": "1571470",
    "end": "1577030"
  },
  {
    "text": "And the memory controller\ntakes all these requests for cache lines and\ntranslates those into memory channel\nrequests, which",
    "start": "1577030",
    "end": "1583740"
  },
  {
    "text": "is like, I need this\nbank, this byte, this row. So the memory\ncontroller is mapping",
    "start": "1583740",
    "end": "1588990"
  },
  {
    "text": "physical linear addresses\nto spots in a DRAM array. Now the memory\ncontroller is getting",
    "start": "1588990",
    "end": "1595890"
  },
  {
    "text": "just kind of random\ncache misses, whatever the algorithm does. And what any modern\nmemory controller does",
    "start": "1595890",
    "end": "1605070"
  },
  {
    "text": "is it just starts en-queuing\nthose and buffers them up, and then reorders\nall of those cache",
    "start": "1605070",
    "end": "1611669"
  },
  {
    "text": "misses such that if\nit can find requests that it needs to make to\nthe same bank, or sorry,",
    "start": "1611670",
    "end": "1618150"
  },
  {
    "text": "to the same row, it will\nreorder the requests in order to maximize this\nsort of hit rate.",
    "start": "1618150",
    "end": "1627540"
  },
  {
    "text": "So it's going to basically\nreorder all the processor's memory requests in\norder to try and get",
    "start": "1627540",
    "end": "1633870"
  },
  {
    "text": "the highest bank pipelining and\nthe highest row buffer locality. Because remember, the\nprocessor's memory requests",
    "start": "1633870",
    "end": "1640590"
  },
  {
    "text": "might be coming from all\nthe different applications on the system. So you might have an application\nthat's reading linearly",
    "start": "1640590",
    "end": "1647820"
  },
  {
    "text": "through memory. There could be\nanother application that's linearly reading\nthrough memory, running on a different core.",
    "start": "1647820",
    "end": "1653560"
  },
  {
    "text": "And think about how those\ntwo memory request streams are going to interact. All of a sudden, you thought you\nlaid out your data perfectly.",
    "start": "1653560",
    "end": "1661210"
  },
  {
    "text": "But now it's like core zeros\nover here, core ones over here. And now you're going to\nthrash that memory DRAM chip.",
    "start": "1661210",
    "end": "1666330"
  },
  {
    "text": "Yeah. So how many requests\nare we going to wait for when we're kind\nof ordering these requests--",
    "start": "1666330",
    "end": "1674250"
  },
  {
    "text": "This is an\nimplementation detail. So you have on one hand,\nbuffering will increase latency.",
    "start": "1674250",
    "end": "1681850"
  },
  {
    "text": "On the other hand,\nbuffering and reordering could increase bandwidth.",
    "start": "1681850",
    "end": "1687250"
  },
  {
    "text": "So if your\nbandwidth-bound, you want to buffer aggressively\nand maximize bandwidth.",
    "start": "1687250",
    "end": "1693110"
  },
  {
    "text": "If your application\nis latency sensitive, like some real-time\nthing, you might not",
    "start": "1693110",
    "end": "1699790"
  },
  {
    "text": "be so happy with the heavily\nbuffering memory controller. An Nvidia memory\ncontroller is probably",
    "start": "1699790",
    "end": "1705159"
  },
  {
    "text": "the most complicated\npart of the chip and could be buffering tens of\nthousands of memory requests actually, because everything\nis bandwidth-bound on the GPU.",
    "start": "1705160",
    "end": "1714168"
  },
  {
    "text": "So it's just like I'm\ngoing to wait and see if there's any more requests\nfor this open row for the next like 10 nanoseconds.",
    "start": "1714168",
    "end": "1719419"
  },
  {
    "text": "And if anything\nelse comes in, I'm going to let them go to\nthe front of the queue, because they're going\nto be really cheap. You just mentioned the\nlatency versus bandwidth--",
    "start": "1719420",
    "end": "1727560"
  },
  {
    "text": "does the memory controller\ndynamically determine that? Or if you build one memory\ncontroller, it will be kind of--",
    "start": "1727560",
    "end": "1733920"
  },
  {
    "text": "That is your discretion\nas the implementer of a memory controller thing. So what's happened is that\nall the sophistication",
    "start": "1733920",
    "end": "1742200"
  },
  {
    "text": "of an out-of-order complex,\nsuper-scalar processor, we stopped getting more\nsophisticated there.",
    "start": "1742200",
    "end": "1749470"
  },
  {
    "text": "We even went built cheaper or\nsimpler processors for a while there. Like a modern GPU\nprobably doesn't",
    "start": "1749470",
    "end": "1755250"
  },
  {
    "text": "do nearly as much\nsmart stuff in the core than even still a\nmodern CPU does.",
    "start": "1755250",
    "end": "1761070"
  },
  {
    "text": "What's happened--\nand so we started building all of these cores. But all of those cores\nshare memory system.",
    "start": "1761070",
    "end": "1767309"
  },
  {
    "text": "And so all of that\nscheduling logic that we used to have to\nschedule instructions has turned",
    "start": "1767310",
    "end": "1773220"
  },
  {
    "text": "into papers, and\nalgorithms, and other stuff to figure out how do I\ntake a look at my cache",
    "start": "1773220",
    "end": "1780640"
  },
  {
    "text": "miss stream as it's\ncoming in and guess whether this is latency-bound\nor not latency-bound?",
    "start": "1780640",
    "end": "1785655"
  },
  {
    "text": "And how do I come up with\na good scheduling policy? So in the late-- from 2012 to 2015 or '16,\ncomputer architecture",
    "start": "1785655",
    "end": "1796060"
  },
  {
    "text": "was all over this. Whereas like in the\n'90s or early 2000s, they were all over how to\nbuild a branch predictor",
    "start": "1796060",
    "end": "1802120"
  },
  {
    "text": "for an instruction stream. So they took the complexity\nout of the processor and basically shoved it\nin the memory controller,",
    "start": "1802120",
    "end": "1807590"
  },
  {
    "text": "which is getting requests from\n16 cores or 32 hyperthreads.",
    "start": "1807590",
    "end": "1812654"
  },
  {
    "text": "And it's trying\nto figure out how to reorder all of these requests\nfrom different processes to maximize [INAUDIBLE]\nutilization of the DRAM bus.",
    "start": "1812655",
    "end": "1820210"
  },
  {
    "text": "Or energy, the other thing\nis like you're actually trying to maximize energy\ntoo, or minimize energy.",
    "start": "1820210",
    "end": "1827080"
  },
  {
    "text": "So the last piece of this\nis take what we just did. And if we want more\nbandwidth, we're going to start replicating.",
    "start": "1827080",
    "end": "1833130"
  },
  {
    "text": "So if you hear dual\nchannel DDR4 memory system, that's just that 64-bit\nbus connected to a DIMM,",
    "start": "1833130",
    "end": "1841220"
  },
  {
    "text": "there's just two of those\nconnected to two DIMMs. And now when you\nhave two channels, you could actually say maybe\nthis channel is actually",
    "start": "1841220",
    "end": "1848830"
  },
  {
    "text": "sending different commands to\nthis DIMM than that other DIMM. But everything connected in a\nchannel is the same command.",
    "start": "1848830",
    "end": "1856370"
  },
  {
    "text": "So here's an example\nof something, like something you might\nsee on a website like DDR.",
    "start": "1856370",
    "end": "1862120"
  },
  {
    "text": "So DDR4, that's a\nmemory technology. The number after it's\nactually just the clock rate",
    "start": "1862120",
    "end": "1867279"
  },
  {
    "text": "of the memory bus. And so all of these things are\n64-bit memory buses these days.",
    "start": "1867280",
    "end": "1873970"
  },
  {
    "text": "And the 2,400 is a kind of\nbigger number sound better in computing.",
    "start": "1873970",
    "end": "1879080"
  },
  {
    "text": "It's really a 1.2GHz memory bus. So it's sending data\nor the cycle is 1.2GHz.",
    "start": "1879080",
    "end": "1886490"
  },
  {
    "text": "And it turns out that the first\nD is or the DDR is actually is double data rate,\na memory technology.",
    "start": "1886490",
    "end": "1893680"
  },
  {
    "text": "It actually sends two\ntransactions per clock on the rising edge and the\nfalling edge of the clock.",
    "start": "1893680",
    "end": "1899539"
  },
  {
    "text": "So if you multiply 1.2 by 2, you\nget 2,400 memory transactions",
    "start": "1899540",
    "end": "1904630"
  },
  {
    "text": "per second over a 64-bit bus. So if you say 64 bits\ntimes 2, times 1.2,",
    "start": "1904630",
    "end": "1910520"
  },
  {
    "text": "you actually get\n19.2GB per second. And if it's dual channel, you\njust multiply everything by 2.",
    "start": "1910520",
    "end": "1918520"
  },
  {
    "text": "And you go look up at the\nspecs of the memory system. You'll say something like the\nmemory system can do 38GB per",
    "start": "1918520",
    "end": "1925367"
  },
  {
    "text": "second of bandwidth. And that's where that\nnumber comes from. So this is like a very\nstandard thing in a modest PC",
    "start": "1925367",
    "end": "1932320"
  },
  {
    "text": "or something like that. And then it says, like at the\ntime when I looked this up, it was about a 13\nnanoseconds CAS.",
    "start": "1932320",
    "end": "1939970"
  },
  {
    "text": "So that's how long\nit takes to get data that's already in the row\nbuffer out of the DRAM chips",
    "start": "1939970",
    "end": "1946690"
  },
  {
    "text": "over into the bus. ",
    "start": "1946690",
    "end": "1951870"
  },
  {
    "text": "Yeah. I've seen that they\nonly care about the CAS",
    "start": "1951870",
    "end": "1957179"
  },
  {
    "text": "over like your [INAUDIBLE]. Is that just because\nyou [INAUDIBLE]?",
    "start": "1957180",
    "end": "1962650"
  },
  {
    "text": " Yeah, you got to\nthink about it that. Because if you've got a nice,\nfriendly memory access pattern,",
    "start": "1962650",
    "end": "1969730"
  },
  {
    "text": "it's how quickly can\nyou get that data out. Yeah. Yep. ",
    "start": "1969730",
    "end": "1978612"
  },
  {
    "text": "And that's non-trivial, right? Because if you think about a\nmodern processor running at 3:00 GHz, at 1 GHz, that's what?",
    "start": "1978612",
    "end": "1986890"
  },
  {
    "text": "That's a nanosecond, right? I did that right? Yeah. Yeah.",
    "start": "1986890",
    "end": "1991950"
  },
  {
    "text": "And then so if you running at\n3:00 GHz, of 0,3 nanoseconds. And so you're taking 30x that\njust to get the column out",
    "start": "1991950",
    "end": "2000440"
  },
  {
    "text": "of the row. That's non-trivial. Now, of course, you should\nalso your memory access time is going to be all\nthe cycles needed",
    "start": "2000440",
    "end": "2006590"
  },
  {
    "text": "to get from the processor\nto miss a couple of caches and get off chip. So there's a lot\nmore latency in there",
    "start": "2006590",
    "end": "2012540"
  },
  {
    "text": "than just accessing\nthe DRAM itself. But that's just how it adds up.",
    "start": "2012540",
    "end": "2017650"
  },
  {
    "text": "Yeah. I'm just wondering, how does\nthe memory system for tolerance?",
    "start": "2017650",
    "end": "2022980"
  },
  {
    "text": "So one thing I did\nnot talk about here is any kind of fault tolerance,\nmeaning if a bit flips",
    "start": "2022980",
    "end": "2028110"
  },
  {
    "text": "or something like that. Typically what\nhappens is you have these error correcting codes.",
    "start": "2028110",
    "end": "2033790"
  },
  {
    "text": "And so if you buy slightly\nmore expensive memory or server memory, largely, instead of a\nDIMM with eight chips in it,",
    "start": "2033790",
    "end": "2043679"
  },
  {
    "text": "there'll be a ninth chip. And the ninth chip\nis the redundancy. So basically, you can\ncheck to see if you have--",
    "start": "2043680",
    "end": "2055710"
  },
  {
    "text": "depending on how many extra-- how you do things,\nlike can actually check to see if you at least\ndetect if there's an error.",
    "start": "2055710",
    "end": "2063000"
  },
  {
    "text": "So you just actually burn\na little bit more capacity for that. ",
    "start": "2063000",
    "end": "2071139"
  },
  {
    "text": "So I think the takeaway would\nbe that's a little bit on how DRAM works. And the big\nconclusion is there's a significant amount of\ncomplexity in the memory",
    "start": "2071140",
    "end": "2078388"
  },
  {
    "text": "controller scheduler to take\nrequests from the processor and reorder them such that those\nrequests hit the DRAM in a very,",
    "start": "2078389",
    "end": "2087549"
  },
  {
    "text": "very friendly order. You can think about\nit like you did, like with your flash attention. Like you're reordering\nthe computation so",
    "start": "2087550",
    "end": "2093239"
  },
  {
    "text": "it hits the cache. This is about reordering\nthe cache misses so they hit the DRAM in a nice way.",
    "start": "2093239",
    "end": "2098475"
  },
  {
    "text": "And obviously, this is\nbeing done by hardware, not by the programmer. ",
    "start": "2098475",
    "end": "2103990"
  },
  {
    "text": "OK. That's all I want\nto say on that. Just kind of cool. Just so if you ever get\nasked in an interview,",
    "start": "2103990",
    "end": "2111270"
  },
  {
    "text": "how would you schedule\na DRAM request stream.",
    "start": "2111270",
    "end": "2116400"
  },
  {
    "text": "That's pretty cool. All right. So now the problem,\nof course, is",
    "start": "2116400",
    "end": "2122220"
  },
  {
    "text": "that we are bandwidth-bound\nall the time. And so one way to-- so you can think about it\nas like DRAM sits over here",
    "start": "2122220",
    "end": "2130590"
  },
  {
    "text": "on the board. And then there's those pins. And those pins go\nover the entire board to the processor over here.",
    "start": "2130590",
    "end": "2137040"
  },
  {
    "text": "Now, the problem\nis the only reason why we have eight pins is that\nthose are really expensive,",
    "start": "2137040",
    "end": "2142710"
  },
  {
    "text": "to your question earlier. So there's a lot of interest\nin bringing that processor a lot closer to the memory so\nthat the distance information",
    "start": "2142710",
    "end": "2150510"
  },
  {
    "text": "travels is less, which\nmakes it economical to build a lot more pins. And the number one way\nyou're seeing this today",
    "start": "2150510",
    "end": "2157920"
  },
  {
    "text": "in high performance things\nis via a combination of chip stacking and\nco-locating the memory",
    "start": "2157920",
    "end": "2166420"
  },
  {
    "text": "on the same die silicon,\ndie as the processor. So here's a diagram of\nhow if you went and got",
    "start": "2166420",
    "end": "2172690"
  },
  {
    "text": "like a server-class GPU today\nthat you might hear about this, HBM, high bandwidth memory, or\nHPC hybrid memory cube, I think.",
    "start": "2172690",
    "end": "2181990"
  },
  {
    "text": "HBM, I think, is basically\nwon the competition. So you get a lot\nof HBM these days. So here's how it works.",
    "start": "2181990",
    "end": "2187750"
  },
  {
    "text": "Here's my GPU or CPU over here. And typically, that\nGPU or CPU is plugged into a board, a motherboard.",
    "start": "2187750",
    "end": "2196060"
  },
  {
    "text": "And then there are traces,\nalmost copper traces over that motherboard\nto a DRAM chip",
    "start": "2196060",
    "end": "2201490"
  },
  {
    "text": "that I plug into\nthe motherboard. These days, if you want\nthis high bandwidth memory,",
    "start": "2201490",
    "end": "2207020"
  },
  {
    "text": "this is your CPU or GPU. And it's right on\na silicon chip.",
    "start": "2207020",
    "end": "2214660"
  },
  {
    "text": "It's on a silicon chip. And on that same silicon chip is\na memory module right into it.",
    "start": "2214660",
    "end": "2220869"
  },
  {
    "text": "So now the connections\nbetween these two are actually wires on\na piece of silicon.",
    "start": "2220870",
    "end": "2226310"
  },
  {
    "text": "They're not board traces. And then the DRAM chip\nis actually stacked,",
    "start": "2226310",
    "end": "2231650"
  },
  {
    "text": "which means that these\nDRAM chips are on top",
    "start": "2231650",
    "end": "2236680"
  },
  {
    "text": "of each other physically. And the key technology was\nthis thing called the TS via,",
    "start": "2236680",
    "end": "2242980"
  },
  {
    "text": "through-silicon-via. So you can think of\nit the wires that used to be like eight wires\nat the edge of the chip",
    "start": "2242980",
    "end": "2249490"
  },
  {
    "text": "are now wires that leave the\nchip throughout the DRAM array. So you get area amount\nof space and not one edge",
    "start": "2249490",
    "end": "2257470"
  },
  {
    "text": "of the chip amount of space. So you can run a\nlot more wires right off the bottom of the chip\nfrom everywhere in that array.",
    "start": "2257470",
    "end": "2265330"
  },
  {
    "text": "And those wires have to run\nthrough the DRAM chips below it. So there's these\nvertical wires that",
    "start": "2265330",
    "end": "2273400"
  },
  {
    "text": "then go right into a piece of\nsilicon, right over to the GPU. So if you bought\none of these things,",
    "start": "2273400",
    "end": "2279559"
  },
  {
    "text": "this is all in the same package. What I mean by that is like\nit'll look like one chip.",
    "start": "2279560",
    "end": "2286210"
  },
  {
    "text": "So that's allowed people\nto put a lot more wires out of the memory system to the CPU.",
    "start": "2286210",
    "end": "2291530"
  },
  {
    "text": "And I'm talking about not 64\nbits anymore, but 1,024 bits.",
    "start": "2291530",
    "end": "2296630"
  },
  {
    "text": "And so if you go\nbuy a modern Intel, a high-end like\nsuper-computing Intel thing, or an AMD, or Nvidia\nGPU, this is now the chip.",
    "start": "2296630",
    "end": "2306980"
  },
  {
    "text": "This is the processor. This is what's called the\nsilicon interposer, which is a piece of silicon.",
    "start": "2306980",
    "end": "2312950"
  },
  {
    "text": "And that processor\nis on the silicon. And then there's four different\nstacked drams next to it,",
    "start": "2312950",
    "end": "2318380"
  },
  {
    "text": "all of which are 1,024\nbits into the chip. So this is a\n4,000-bit memory bus.",
    "start": "2318380",
    "end": "2324970"
  },
  {
    "text": "This is fast. This is now delivering 720GB\nper second of bandwidth",
    "start": "2324970",
    "end": "2331599"
  },
  {
    "text": "into the chip. And that was back in 2016. Now we're significantly higher. I think we're closer\nto two terabytes.",
    "start": "2331600",
    "end": "2338380"
  },
  {
    "text": "But this is a fixed\namount of memory. So this is gigabytes of\nmemory only back in 2016.",
    "start": "2338380",
    "end": "2344599"
  },
  {
    "text": "Now we're higher. And if you want large\namounts of memory, then you have a\ntraditional memory bus",
    "start": "2344600",
    "end": "2349690"
  },
  {
    "text": "that goes out to DDR5 or DDR4. And you might have hundreds of\ngigabytes or terabytes of that.",
    "start": "2349690",
    "end": "2354920"
  },
  {
    "text": "So this is a form of DRAM\nthat is not the cache.",
    "start": "2354920",
    "end": "2360190"
  },
  {
    "text": "There might be like\nan 80MB L3 cache here. If you miss the 80MB L3, you\nhave access to, in this case,",
    "start": "2360190",
    "end": "2367720"
  },
  {
    "text": "16GB of about a terabyte\nper second of stacked DRAM. And if you don't fit\nin the stack DRAM,",
    "start": "2367720",
    "end": "2374645"
  },
  {
    "text": "then you got to put your data\nout in conventional memory. And now you're back to 300\nor 400 megabytes per second",
    "start": "2374645",
    "end": "2379840"
  },
  {
    "text": "or gigabytes per second. So the memory hierarchies are\ngetting really, really deep.",
    "start": "2379840",
    "end": "2386590"
  },
  {
    "text": "And flash attention, the\nthing you guys implemented was initially designed to fit the\nintermediate matrix in the 16GB",
    "start": "2386590",
    "end": "2398050"
  },
  {
    "text": "of HBM instead of going\nout to DRAM on these chips.",
    "start": "2398050",
    "end": "2403580"
  },
  {
    "text": "Yes. Is the latency-- It's lower also. Yeah-- It's also-- yeah, higher\nbandwidth, lower latency.",
    "start": "2403580",
    "end": "2409950"
  },
  {
    "text": "Now on a GPU, we don't care\nas much about that latency, because we can hide it\nwith multithreading. Right. Yeah, or pipelining.",
    "start": "2409950",
    "end": "2417043"
  },
  {
    "text": "But yes, lower latency, higher\nbandwidth, lower energy. ",
    "start": "2417043",
    "end": "2422440"
  },
  {
    "text": "So if you, the\nlast day of class, if you walk away\nwith anything, it's",
    "start": "2422440",
    "end": "2427900"
  },
  {
    "text": "really that in a lot of times,\nparallelization is pretty easy.",
    "start": "2427900",
    "end": "2432970"
  },
  {
    "text": "It's really trying\nto figure out how to get data to your damn\nprocessors that's hard.",
    "start": "2432970",
    "end": "2437990"
  },
  {
    "text": "It's scheduling that's hard. And so you've been doing\nit yourself in this class,",
    "start": "2437990",
    "end": "2443484"
  },
  {
    "text": "flash attention. Your Cuda programming assignment\nwas very much about locality.",
    "start": "2443485",
    "end": "2449319"
  },
  {
    "text": "And then the hardware folks are\ndesigning better memory systems for you.",
    "start": "2449320",
    "end": "2454750"
  },
  {
    "text": "And the general design\nprinciples are like, look, either data needs to be\nlocated next to the processor,",
    "start": "2454750",
    "end": "2460360"
  },
  {
    "text": "or the processor has to\nbe closer to the data. And one thing that\nwe haven't talked about very much in this class\nis if you're bandwidth-bound,",
    "start": "2460360",
    "end": "2468050"
  },
  {
    "text": "it almost always pays\noff to data compress. Because if you're\nbandwidth-bound, your CPU is idle,\nor your GPU is idle.",
    "start": "2468050",
    "end": "2474460"
  },
  {
    "text": "So actually have it burn more\ninstructions to move less data. So like GPUs, for example, for\ntexture data and other stuff,",
    "start": "2474460",
    "end": "2481950"
  },
  {
    "text": "actually, when you\ntake a cache miss, it compresses the data before\nputting it out in memory so it actually moves less data.",
    "start": "2481950",
    "end": "2488569"
  },
  {
    "text": "And then when you\nwant the data back, it actually moves the\ncompressed data onto the chip and then decompresses it\ninto the full cache line.",
    "start": "2488570",
    "end": "2495690"
  },
  {
    "text": "It's a very common\nthing to do in graphics. All right. So that's one little bit\non memory these days.",
    "start": "2495690",
    "end": "2503012"
  },
  {
    "text": "Anybody worked on\nany of this stuff actually, like Nvidia\ninternship, or Apple internship, or anything like that?",
    "start": "2503012",
    "end": "2508310"
  },
  {
    "text": "No? It's Apple, you probably\ncouldn't say so. OK.",
    "start": "2508310",
    "end": "2513360"
  },
  {
    "text": "I think we're basically done. We're basically done. So let me wrap up\nsome technical stuff.",
    "start": "2513360",
    "end": "2519400"
  },
  {
    "text": "Here is a few takeaways\nfor the foreseeable future. I mean, if you look at\nApple Silicon these days,",
    "start": "2519400",
    "end": "2525570"
  },
  {
    "text": "or what's in your\niPhone or Android phone, it is a heterogeneous multicore\nprocessor with multiple CPU",
    "start": "2525570",
    "end": "2532500"
  },
  {
    "text": "cores, multiple GPU\ncores, neural cores, cores specific for\nprocessing the data,",
    "start": "2532500",
    "end": "2539340"
  },
  {
    "text": "and your sleep schedule,\nand stuff like that. The only way things are\ngoing to get more efficient",
    "start": "2539340",
    "end": "2544559"
  },
  {
    "text": "going forward, until there\nis some massive breakthrough in technology on the level\nof being more optical,",
    "start": "2544560",
    "end": "2552325"
  },
  {
    "text": "or being more quantum\nor something like that. But for the foreseeable future,\nit's going to be through--",
    "start": "2552325",
    "end": "2557880"
  },
  {
    "text": "it's already happened\nthrough parallelization. It's going to be through\nspecialization of certain sorts.",
    "start": "2557880",
    "end": "2562960"
  },
  {
    "text": "And so there's huge interest\nin making these specialized processors easier to program.",
    "start": "2562960",
    "end": "2569145"
  },
  {
    "text": " The other thing that I really\nhope people walk away from here",
    "start": "2569145",
    "end": "2575040"
  },
  {
    "text": "is most software is shockingly\ninefficient compared",
    "start": "2575040",
    "end": "2580980"
  },
  {
    "text": "to what modern computers\ncan actually do. Like we saw in Assignment 1 that\na well-written C program is 40",
    "start": "2580980",
    "end": "2588690"
  },
  {
    "text": "times slower on our laptops than\nextremely well-written program that uses the vector\nunits and uses the sim D.",
    "start": "2588690",
    "end": "2596280"
  },
  {
    "text": "And specialized processing is\nanother 10 to 100x on that. So just when you're working\nin labs and doing future work,",
    "start": "2596280",
    "end": "2606010"
  },
  {
    "text": "if someone says, OK, we're about\nto scale up to a big cluster, sometimes that's the right\nidea because it can be",
    "start": "2606010",
    "end": "2611460"
  },
  {
    "text": "hard to optimize your program. But sometimes, it's like,\ngosh, we could either work really hard to scale\nup to a big cluster,",
    "start": "2611460",
    "end": "2618282"
  },
  {
    "text": "or wait overnight or\nsomething like that. Or we could put a little bit of\neffort in and run 1,000 times faster. Sometimes that can be absolutely\ngame changing for folks.",
    "start": "2618282",
    "end": "2626500"
  },
  {
    "text": "Or it might allow something\nthat nobody thought was possible on mobile to\nbecome possible in mobile.",
    "start": "2626500",
    "end": "2634210"
  },
  {
    "text": "The fun thing about\nthis class, at least, is that almost all computing\napplications these days",
    "start": "2634210",
    "end": "2640990"
  },
  {
    "text": "are actually the\ntypes of applications that fit into the mold of what\nwe talk about in this class.",
    "start": "2640990",
    "end": "2646240"
  },
  {
    "text": "We don't have to go to big\nscale scientific computing to be applicable. You take an interview at\nApple to work on mobile team",
    "start": "2646240",
    "end": "2653059"
  },
  {
    "text": "right now, efficient\nsoftware and power efficiency is what they care about. You go to a Waymo, that's what\nthey're going to care about.",
    "start": "2653060",
    "end": "2660320"
  },
  {
    "text": "And so there's just\na lot of places that one could go\nfrom this class, even more so with all these\nlarge AI-based language",
    "start": "2660320",
    "end": "2668200"
  },
  {
    "text": "models that are extremely\nefficiency-bound right now. We've talked about a few themes.",
    "start": "2668200",
    "end": "2674210"
  },
  {
    "text": "Like we've talked about\nidentifying parallelism, which I say often, it's kind of the\neasiest thing for everybody",
    "start": "2674210",
    "end": "2680380"
  },
  {
    "text": "to do. What's much harder is\nscheduling that parallelism once you know the dependencies.",
    "start": "2680380",
    "end": "2686319"
  },
  {
    "text": "And we've talked about that\nin the small and the large. And then we've also\ntalked a lot about how",
    "start": "2686320",
    "end": "2692530"
  },
  {
    "text": "to make our lives easier\nby relying on higher level abstractions, which in future\ncourses, if you're programming",
    "start": "2692530",
    "end": "2700420"
  },
  {
    "text": "in TensorFlow or PyTorch,\nor programming in SQL or something like that, you\ncan think of it, my gosh.",
    "start": "2700420",
    "end": "2706300"
  },
  {
    "text": "Like think about all the\nparallelization and efficiency that's going on under the\nhood that you don't have to think about because\nsomeone's put in place",
    "start": "2706300",
    "end": "2712840"
  },
  {
    "text": "a useful abstraction. And we've talked a little\nbit about how hardware",
    "start": "2712840",
    "end": "2718839"
  },
  {
    "text": "works so that, at\nthe very least, if somebody comes\nup to you and says, this computation is\ntaking three hours,",
    "start": "2718840",
    "end": "2726130"
  },
  {
    "text": "you can call a little\nbullshit on them. You're like, if\nI think about it, this thing should only\ntake five seconds.",
    "start": "2726130",
    "end": "2731210"
  },
  {
    "text": "You must be doing\nsomething really, really wrong with how\nyou're scheduling it. You'd be surprised\nhow much that happens.",
    "start": "2731210",
    "end": "2738310"
  },
  {
    "text": "OK. Let's see. So just some practical\nthings, next steps. We do teach other courses.",
    "start": "2738310",
    "end": "2744290"
  },
  {
    "text": "So Conley has his hardware\nprogramming class next quarter,",
    "start": "2744290",
    "end": "2749690"
  },
  {
    "text": "I believe. So if you're interested\nin using spatial, and I think they\nteach in spatial,",
    "start": "2749690",
    "end": "2754760"
  },
  {
    "text": "if I remember correctly,\nthat could be interesting. There is, as some of\nyou know, there's 229S,",
    "start": "2754760",
    "end": "2762070"
  },
  {
    "text": "the new course that's\nsimultaneous with this one, which maybe we should think\nabout putting those on different quarters in the future, because\nit feels like you should take",
    "start": "2762070",
    "end": "2769420"
  },
  {
    "text": "149, and then you'll\nget a ton out of 229. But there's that. That's a great course.",
    "start": "2769420",
    "end": "2774500"
  },
  {
    "text": "I've been tracking\nthat new course. So that's really cool. In the spring-- I teach graphics next\nquarter, so if you're",
    "start": "2774500",
    "end": "2780320"
  },
  {
    "text": "interested in graphics,\nby all means, join us. But if you're not\ninterested in graphics, I teach this hybrid graphics.",
    "start": "2780320",
    "end": "2786400"
  },
  {
    "text": "Like basically, if you take\n149, and you take vision and graphics, and you\nput them together,",
    "start": "2786400",
    "end": "2791859"
  },
  {
    "text": "348K in the spring is that. It's a small course. We typically keep\nit around 30 people.",
    "start": "2791860",
    "end": "2797230"
  },
  {
    "text": "We read papers on\nhow to build systems, systems like video\nprocessing at Google,",
    "start": "2797230",
    "end": "2804100"
  },
  {
    "text": "or Halide, or these\ndays, like how to serve--",
    "start": "2804100",
    "end": "2809120"
  },
  {
    "text": "how to serve ChatGPT in the data\ncenter, or something like that. So we read very,\nvery recent papers.",
    "start": "2809120",
    "end": "2815270"
  },
  {
    "text": "And we discuss them. And then it's a\nproject-based course. So the idea is how to\nthink about building these visual computing systems,\nwhere the goal is to produce",
    "start": "2815270",
    "end": "2823460"
  },
  {
    "text": "or understand pixels.  Yeah. And then of course, there's\na lot of the standard fare,",
    "start": "2823460",
    "end": "2830500"
  },
  {
    "text": "like EE280 is a\ngreat course, if you want to get into more hardware,\noperating systems here. I mean, there's so many\ncourses in the Department",
    "start": "2830500",
    "end": "2837390"
  },
  {
    "text": "that start touching on\nparallelism in different ways. So then there's the\nidea of research.",
    "start": "2837390",
    "end": "2845760"
  },
  {
    "text": "And after taking 149\nwith the assignments that we give you, which\nare not the easiest,",
    "start": "2845760",
    "end": "2853440"
  },
  {
    "text": "like many of you\nthrough this course, have really built up some real-- started to build up some\nreal programming chops,",
    "start": "2853440",
    "end": "2860069"
  },
  {
    "text": "like the you know\nthe fundamentals. And so you now kind of stand\nto, if you're interested,",
    "start": "2860070",
    "end": "2867040"
  },
  {
    "text": "maybe kind of fitting\nin a little bit in one of the research labs in\na systems group that like",
    "start": "2867040",
    "end": "2872609"
  },
  {
    "text": "[INAUDIBLE] or any of the\nother systems faculty. And I do encourage people\nto think about that,",
    "start": "2872610",
    "end": "2877920"
  },
  {
    "text": "not because I'm really\nadvocating for research. There's folks that work\nwith us all the time. They're like, I do not want to\nbe an academic or a researcher.",
    "start": "2877920",
    "end": "2885270"
  },
  {
    "text": "But they want to treat\nan independent study just like a class. They'll take three\nunits or four units.",
    "start": "2885270",
    "end": "2891130"
  },
  {
    "text": "And their role is to jump in on\nan existing research project, and often perform more of a\nsoftware engineering or support",
    "start": "2891130",
    "end": "2899092"
  },
  {
    "text": "role, saying, hey,\nwe were thinking about parallelizing this. But we don't have\nanybody to do it. Would you want to see if you\ncan make this 100 times faster?",
    "start": "2899092",
    "end": "2905990"
  },
  {
    "text": "And if so, we can\nput you on a paper. And you can be part of writing\na paper, or something like that. I think one of the coolest\nthings about being at Stanford",
    "start": "2905990",
    "end": "2913030"
  },
  {
    "text": "is compared to other\nplaces, you could probably take a pretty good\nparallel programming class at many universities\nacross the world.",
    "start": "2913030",
    "end": "2920030"
  },
  {
    "text": "It really is the peer\ngroup at Stanford that's so interesting, right? Like working with your\npartner or working",
    "start": "2920030",
    "end": "2925809"
  },
  {
    "text": "with other people in\nthe class or the CAS that's what's really\ninteresting around here. And so if you can believe\nthat your master's students",
    "start": "2925810",
    "end": "2932608"
  },
  {
    "text": "or undergrads that\nyou're working with now, you're like, wow, those\nfolks are really cool folks. I like working with them. Our PhD students are\nnot too shabby, either.",
    "start": "2932608",
    "end": "2940570"
  },
  {
    "text": "And so it can really open\nyour mind up and like, whoa, that person's only two or\nthree years older than me.",
    "start": "2940570",
    "end": "2947740"
  },
  {
    "text": "And they are awesome. Maybe I should be, like, I\ncan get to that level too. So it can be kind of fun,\nif you find the right fit.",
    "start": "2947740",
    "end": "2955420"
  },
  {
    "text": "So let me just tell you\nabout one project in my lab, just to be more\nconcrete about things.",
    "start": "2955420",
    "end": "2961330"
  },
  {
    "text": "So as many of you have\nprobably experienced, well, people are very interested\nin training AI agents,",
    "start": "2961330",
    "end": "2969440"
  },
  {
    "text": "whether they are robotics, or\njust software agents these days, to do things in the real world.",
    "start": "2969440",
    "end": "2975339"
  },
  {
    "text": "And I come from-- I'm interested in graphics. And so for me,\nI'm like, you guys are doing all this stuff\nin these simulators.",
    "start": "2975340",
    "end": "2982060"
  },
  {
    "text": "Well, there's not-- what is--\na game engine is a simulator. And so a lot of this work--",
    "start": "2982060",
    "end": "2988900"
  },
  {
    "text": "here is some-- you might have\nheard of the OpenAI Dota playing bots, kind of old news now.",
    "start": "2988900",
    "end": "2994810"
  },
  {
    "text": "Here's another\nexample where there was this two-on-two game\nof hide and seek, where two of the agents had to hide.",
    "start": "2994810",
    "end": "3000089"
  },
  {
    "text": "And the other two\nagents had to find them. There's a lot of stuff\nin robotics and stuff.",
    "start": "3000090",
    "end": "3006310"
  },
  {
    "text": "Well, the problem is\nthat in general people were basically taking\nUnity or Unreal",
    "start": "3006310",
    "end": "3012030"
  },
  {
    "text": "and running a\nsimulation in them. And if you don't know anything\nabout this modern AI stuff,",
    "start": "3012030",
    "end": "3019059"
  },
  {
    "text": "it's that well, there's\ntwo things you can do, is you can have an LLM\ntell you what to do,",
    "start": "3019060",
    "end": "3024700"
  },
  {
    "text": "which sometimes works. And then the other thing\nthat sometimes works is you could just have\nlarge amounts of trial",
    "start": "3024700",
    "end": "3031500"
  },
  {
    "text": "and error, robot,\ntry and do this task. Oops, you fell on your face. Like, OK, take that as an error,\nand make a small correction,",
    "start": "3031500",
    "end": "3038280"
  },
  {
    "text": "and try again. And because of all\nthis trial and error, people are using pretty massive\nresources to learn these skills,",
    "start": "3038280",
    "end": "3045840"
  },
  {
    "text": "like clusters of GPUs,\nbillions of timesteps of trial. And it was like computing all\nthese timesteps in these 3D",
    "start": "3045840",
    "end": "3053760"
  },
  {
    "text": "environments was\ntaking all this time. And as a result, they were just\nloading up on big clusters.",
    "start": "3053760",
    "end": "3059670"
  },
  {
    "text": "And so one of my students kind\nof saw this and said, well, the reason why they're doing\nthat is they're running like",
    "start": "3059670",
    "end": "3066420"
  },
  {
    "text": "10,000 copies of Unity\nall on a different server, playing the same game,\nlike one server per--",
    "start": "3066420",
    "end": "3073290"
  },
  {
    "text": "and he's like, or you run\nlike 30 copies of Unity on the same box. And that's like they\nstart thrashing.",
    "start": "3073290",
    "end": "3079560"
  },
  {
    "text": "And this is a bad way to do\nthis if your goal is to play out 10,000 games.",
    "start": "3079560",
    "end": "3084914"
  },
  {
    "text": "So he started going\nlike, OK, what if we just designed like a mini-game\nengine from scratch? And the goal of the game engine\nwas not to render pictures",
    "start": "3084915",
    "end": "3091290"
  },
  {
    "text": "for humans, but was to carry\nout 10,000 independent copies",
    "start": "3091290",
    "end": "3096990"
  },
  {
    "text": "of a game but do so in a lock\nstep so we can get all the good coherence and all the good\nproperties of parallelism.",
    "start": "3096990",
    "end": "3104130"
  },
  {
    "text": "So here's an example of a game\nthat was created in his system. So you can just kind of see\nsome of the requirements.",
    "start": "3104130",
    "end": "3110950"
  },
  {
    "text": "This is that hide\nand seek thing. We should have--\nthere's two teams. Like there's these\ntwo guys, I think,",
    "start": "3110950",
    "end": "3116530"
  },
  {
    "text": "or-- yeah, I think there's these\ntwo guys and those two guys. You see them. They have learned to win\nthe game by pulling--",
    "start": "3116530",
    "end": "3122530"
  },
  {
    "text": "it's like a small child. Like you pull something\nin front of your face. And technically by the rules of\nthe game, they can't be seen.",
    "start": "3122530",
    "end": "3128152"
  },
  {
    "text": "And so they win. So I'll play that again. So they have to\nlearn how to hide. Other people, like\nin this case, they",
    "start": "3128152",
    "end": "3134880"
  },
  {
    "text": "have to learn to go\nsee someone else. And that's what the guy\nwalking to the right is.",
    "start": "3134880",
    "end": "3140539"
  },
  {
    "text": "But some interesting\nthings happen. This is some work\noriginally done by OpenAI. And we just replicated it.",
    "start": "3140540",
    "end": "3146339"
  },
  {
    "text": "So there's a lot of pretty\ngnarly computations. Like you've got to do physics. You've got to simulate\nthe physical world.",
    "start": "3146340",
    "end": "3152789"
  },
  {
    "text": "By the rules of this\ngame, or even just to give people a sense\nof the environment, you actually have to do\na bunch of ray tracing,",
    "start": "3152790",
    "end": "3158868"
  },
  {
    "text": "because you have to\nsay who can see who. And then there are just\nrules, like gameplay logic.",
    "start": "3158868",
    "end": "3164170"
  },
  {
    "text": "Like when I get close to this\nblock and press the button, it should attach to me because\nI picked it up, or something",
    "start": "3164170",
    "end": "3170210"
  },
  {
    "text": "like that. So there's arbitrary logic. So you want to be able to\nwrite your game logic like, OK, here's an event handler.",
    "start": "3170210",
    "end": "3176250"
  },
  {
    "text": "Here's some basic script to say\nwhen I'm close to this thing, and I pick it up, its who owns\nit property turns into me,",
    "start": "3176250",
    "end": "3182430"
  },
  {
    "text": "and stuff like that. So you write your game\nin your normal way. But we have ways of basically--\nthink about ICPC Unify or Cuda",
    "start": "3182430",
    "end": "3190400"
  },
  {
    "text": "define across everything. And we actually run the\nsimulation like this.",
    "start": "3190400",
    "end": "3196300"
  },
  {
    "text": "So you don't think parallel. But we parallelize it. And now we line up tens of\nthousands of games at once.",
    "start": "3196300",
    "end": "3203180"
  },
  {
    "text": "And just by this kind of\nbasic CS 149 kind of thinking, we can go quite fast.",
    "start": "3203180",
    "end": "3209140"
  },
  {
    "text": "So this was on the\norder of speedups over off the shelf, open\nsource things on the order",
    "start": "3209140",
    "end": "3214450"
  },
  {
    "text": "of 2 to 3 orders of magnitude. So stuff that used to take\nlike, 64 GPU clusters for a week",
    "start": "3214450",
    "end": "3220580"
  },
  {
    "text": "can now be done on a single\nGPU in an hour or two. Or someone training this\novercooked AI thing,",
    "start": "3220580",
    "end": "3227660"
  },
  {
    "text": "which is a common\nreinforcement thing, it used to be about four\nhours for a training run that turned into three\nseconds, because these",
    "start": "3227660",
    "end": "3233890"
  },
  {
    "text": "are pretty simple games. So that's an example. And it's pretty easy on a\nproject like this to be like,",
    "start": "3233890",
    "end": "3240279"
  },
  {
    "text": "oh, yeah, we'd love\nto have someone add a feature to the game engine. So we had an undergraduate,\nwho's a good undergraduate,",
    "start": "3240280",
    "end": "3247720"
  },
  {
    "text": "has taken my 348 class, is a\nfreshman or something like that. He's the one that actually just\nbuilt a brand new rendering",
    "start": "3247720",
    "end": "3255520"
  },
  {
    "text": "system that amortizes over\n10,000 different scenes and builds the rendering system.",
    "start": "3255520",
    "end": "3262039"
  },
  {
    "text": "So now we can\nrender these things. So if we don't render\npixels, we can run this thing at like two million\nframes per second.",
    "start": "3262040",
    "end": "3268300"
  },
  {
    "text": "But now we're actually\nrendering pixels, in case you want to train an\nagent that actually took images to actions, we can do that\non 200,000 frames per second",
    "start": "3268300",
    "end": "3276970"
  },
  {
    "text": "for small images\nand stuff like that. So that's a pretty\nbig difference. 200,000 frames per second,\nOK, let's drop it to 100,000,",
    "start": "3276970",
    "end": "3283980"
  },
  {
    "text": "because you got to run like a\ndeep network or something too, so about half-and-half\nsimulation. So it's like 100,000\nframes per second.",
    "start": "3283980",
    "end": "3291010"
  },
  {
    "text": "In ten seconds, you have a\nmillion examples of experience. So you're into a billion--",
    "start": "3291010",
    "end": "3296547"
  },
  {
    "text": "you're getting close to a\nbillion examples in a weekend. So maybe that'll\nallow some stuff. So there's ways to OK,\nlike it'd be really",
    "start": "3296547",
    "end": "3304270"
  },
  {
    "text": "great to be able to write\nthe scripts in Python and have the Python compile\nall the Cuda PTX stuff",
    "start": "3304270",
    "end": "3309640"
  },
  {
    "text": "so that you can write your\nscripts in Python instead of Cuda right now. There's a whole bunch\nof little projects",
    "start": "3309640",
    "end": "3314650"
  },
  {
    "text": "that would be extremely\ntechnical that people could help out with. So that's an example\nof a project, where if folks are really\ngood implementers,",
    "start": "3314650",
    "end": "3321860"
  },
  {
    "text": "it's really easy to\nget you involved. Other projects are\nharder to get involved. We have one master's students\nthat took 149 last year.",
    "start": "3321860",
    "end": "3330250"
  },
  {
    "text": "And he just wanted\nto start implementing Minecraft in this thing. So he's implementing his own\nMinecraft that runs at like",
    "start": "3330250",
    "end": "3335773"
  },
  {
    "text": "600,000 frames per second. So the hypothesis here is just\nlike now that you are kind",
    "start": "3335773",
    "end": "3343150"
  },
  {
    "text": "of midway or 3/4 of the way\nthrough Stanford career, it's probably a good time\nto start thinking about what",
    "start": "3343150",
    "end": "3350350"
  },
  {
    "text": "the heck do you actually want\nto do when you get out of here. And this is the point\nat which sometimes,",
    "start": "3350350",
    "end": "3356410"
  },
  {
    "text": "like starting to do some\nof your own projects or some less directed stuff\ncan be a heck of a lot",
    "start": "3356410",
    "end": "3362200"
  },
  {
    "text": "more useful to you,\nif you're disciplined about it than just\ntaking the next course",
    "start": "3362200",
    "end": "3367780"
  },
  {
    "text": "and figuring out what-- you know, like some professor\ncomes up with five assignments. And you're like, OK, I don't\nto think about what to do.",
    "start": "3367780",
    "end": "3373753"
  },
  {
    "text": "I'm just going to do\nwhat they're told. So that's just something I\nlike to tell people roughly",
    "start": "3373753",
    "end": "3378849"
  },
  {
    "text": "around this time\nin their careers. Like what's the conventional\npath at Stanford? And let's be honest, it's\nthe conventional path",
    "start": "3378850",
    "end": "3384940"
  },
  {
    "text": "at every other top\nuniversity, which is you guys all got\nreally good AP scores.",
    "start": "3384940",
    "end": "3390760"
  },
  {
    "text": "You probably took more AP\nclasses than other people. And there's this\nnotion that if you",
    "start": "3390760",
    "end": "3395859"
  },
  {
    "text": "get A's in a whole\nbunch of CS classes, you're of doing a good job. So you get that 4.0 GPA.",
    "start": "3395860",
    "end": "3401840"
  },
  {
    "text": "You can go to the job fair. You can hang out in a\ntent with some free food. Some people give\nyou some callbacks.",
    "start": "3401840",
    "end": "3407822"
  },
  {
    "text": "And you're going\nto get a good job. You're definitely going to get\nthat first round interview. You're going to get\na good job, wherever",
    "start": "3407822",
    "end": "3413470"
  },
  {
    "text": "the good jobs are these days. I don't know where the\nhot place is these days.",
    "start": "3413470",
    "end": "3420220"
  },
  {
    "text": "It used to be like if you\ncould get your Facebook-- or Meta or at the\ntime, Facebook.",
    "start": "3420220",
    "end": "3425535"
  },
  {
    "text": "If you get your Facebook,\nGoogle and Dropbox offers in your senior year,\nplay them against each other,",
    "start": "3425535",
    "end": "3432220"
  },
  {
    "text": "and then you're done. You just go there for two\nyears or something like that. Nowadays, I actually\nam not sure if it's",
    "start": "3432220",
    "end": "3437367"
  },
  {
    "text": "so obvious where the\nso-called default job offer is coming from.",
    "start": "3437367",
    "end": "3442650"
  },
  {
    "text": "I'm actually curious. Is there like a singular\nset of three or four companies that everybody\nis trying to pursue?",
    "start": "3442650",
    "end": "3449010"
  },
  {
    "text": "I don't get the sense that\nthat's true anymore, actually. Yeah. It seems like the oversaturated.",
    "start": "3449010",
    "end": "3455630"
  },
  {
    "text": "It doesn't work. Yeah, I don't think it\nworks anymore, actually. But it used to be that cases.",
    "start": "3455630",
    "end": "3462950"
  },
  {
    "text": "But the thing that\ndoes work a lot better, and I'm using my\nname on this slide.",
    "start": "3462950",
    "end": "3468168"
  },
  {
    "text": "I'm not saying come work with\nme or anything like that. But every year, there's\na few folks that come up",
    "start": "3468168",
    "end": "3473869"
  },
  {
    "text": "and say, hey, this\ncourse I took with you, whether it be one of these\nthings, was pretty cool. Is there anything else I can do?",
    "start": "3473870",
    "end": "3480320"
  },
  {
    "text": "And sometimes I say, hey, yeah,\nI remember your Assignment 3. Like you did every extra\ncredit in the book.",
    "start": "3480320",
    "end": "3486800"
  },
  {
    "text": "Yeah, sure. You seem like what you're doing. And then I'm like,\nwell, we definitely",
    "start": "3486800",
    "end": "3492920"
  },
  {
    "text": "are looking for someone to hack\nsome hardcore Cuda code right now or be able to\nimplement a new application",
    "start": "3492920",
    "end": "3501055"
  },
  {
    "text": "and benchmark the\nhell out of it, because we want to compare\nthat benchmark to something that we're doing in the lab. That's like basically how\npeople start to get involved.",
    "start": "3501055",
    "end": "3508530"
  },
  {
    "text": "Like you just kind of\nare useful in some way. And sometimes, not all the\ntime, I would say about 50%",
    "start": "3508530",
    "end": "3516329"
  },
  {
    "text": "of the time, maybe\n30% of the time, it really is the\nright student to get",
    "start": "3516330",
    "end": "3522089"
  },
  {
    "text": "involved with my PhD students. And they basically\njust start acting like a PhD student for\nindependent study credit",
    "start": "3522090",
    "end": "3527400"
  },
  {
    "text": "or something like that. And we get to know them. And they have a\nreally good time. And they start doing\nsomething a hell of a lot",
    "start": "3527400",
    "end": "3533310"
  },
  {
    "text": "harder than anything\nI could reasonably ask you to do in a class. Because if I asked\neverybody in the class",
    "start": "3533310",
    "end": "3538590"
  },
  {
    "text": "to do some of the things that\nmy PhD students are doing, it would be a tough class. And typically what\nhappens is there's",
    "start": "3538590",
    "end": "3545520"
  },
  {
    "text": "a whole bunch of letters\nof recommendation and all this three. But typically what happens\nis that student gets around",
    "start": "3545520",
    "end": "3551400"
  },
  {
    "text": "to the senior year. And at some point\nlike, I don't know. I'm bored. I'm like, hey, by the way,\nwhat are you doing next year",
    "start": "3551400",
    "end": "3556920"
  },
  {
    "text": "or something like that? And they're like, I don't know. I've got these offers\nfrom these companies, but I'm not so\nexcited about them.",
    "start": "3556920",
    "end": "3562960"
  },
  {
    "text": "Or they're like, I'm\njust really wanting to get into this\npart of the industry. And sometimes I know people.",
    "start": "3562960",
    "end": "3571860"
  },
  {
    "text": "And what I mean by that is\nit's not I'm calling in favors. It's one of the more\ninteresting aspects of the job",
    "start": "3571860",
    "end": "3579300"
  },
  {
    "text": "is to get students that are\ngreat, where do they want to be? So it's a good thing\nfor me to go, oh,",
    "start": "3579300",
    "end": "3586290"
  },
  {
    "text": "like the student is in my class. And they've been like in the\nlab for the last six months. So I know them pretty well.",
    "start": "3586290",
    "end": "3591990"
  },
  {
    "text": "That's when I go call my friend. And they want to go\ninto the game industry, and I don't know, like\nRoblox is offering them",
    "start": "3591990",
    "end": "3598619"
  },
  {
    "text": "this entry level driver\nposition or something like that. That's a total waste. That's when I go call the lead\nengineer at Roblox and say,",
    "start": "3598620",
    "end": "3606119"
  },
  {
    "text": "there's a superstar\nhere at Stanford that wants to work for you. Like, can you get\nhim a good job? And so that's the stuff\nthat opens up doors.",
    "start": "3606120",
    "end": "3613690"
  },
  {
    "text": "It's not like you got\nto know people to-- because they like if you know\nsomeone, you get a good job.",
    "start": "3613690",
    "end": "3619240"
  },
  {
    "text": "It's more like Stanford\nprofessors are pretty well connected with other\npeople in the industry that",
    "start": "3619240",
    "end": "3624720"
  },
  {
    "text": "are doing interesting\nstuff, because they used to be our students, or\nwe're hanging out with them, and stuff like that.",
    "start": "3624720",
    "end": "3630819"
  },
  {
    "text": "And everybody in the world loves\nto pass on really strong people to other people and\nmake stuff happen.",
    "start": "3630820",
    "end": "3636730"
  },
  {
    "text": "And so that's a really\ngreat part of my job. I love that a lot\nmore than dealing with people that have to\ntake a remote exam next week,",
    "start": "3636730",
    "end": "3643710"
  },
  {
    "text": "that's like the least, the\nlast thing I want to do. And that's where you find\nthe pretty interesting stuff.",
    "start": "3643710",
    "end": "3651539"
  },
  {
    "text": "Like I'll give you an example. There was a student\nquite a while ago now, like five years from now.",
    "start": "3651540",
    "end": "3658319"
  },
  {
    "text": "Came up to me and my\nequivalent of CS 348K. He was like, I'm really\ninterested in PhD programs",
    "start": "3658320",
    "end": "3665620"
  },
  {
    "text": "in graphics and\nactually, at the time, like photography, like\nGoogle photography stuff.",
    "start": "3665620",
    "end": "3671829"
  },
  {
    "text": "And this student was good. But I was like you don't have\na chance of getting into--",
    "start": "3671830",
    "end": "3677160"
  },
  {
    "text": "you're going to want to\ngo to a good PhD program. And I was like,\nlet's just be honest. You're not-- you haven't\ndone the research.",
    "start": "3677160",
    "end": "3683890"
  },
  {
    "text": "You don't have the background to\nget into to the type of places that you want to get.",
    "start": "3683890",
    "end": "3689170"
  },
  {
    "text": "I was like, I know\nyou're good enough, but you just don't\nhave-- there's no way it could be justified\nin the admissions process.",
    "start": "3689170",
    "end": "3694809"
  },
  {
    "text": "And so I was like, well,\nwhat do you want to do? He's like, I want to do really\nawesome like fancy Google camera",
    "start": "3694810",
    "end": "3701430"
  },
  {
    "text": "app kind of stuff. And I said, OK. So here's what\nwe're going to do is we're going to take--\nso Google had just",
    "start": "3701430",
    "end": "3707357"
  },
  {
    "text": "published the paper on how\ntheir HDR and portrait mode",
    "start": "3707357",
    "end": "3713490"
  },
  {
    "text": "stuff works. And I said, OK, in my\nclass, because this is an open-ended class project,\nhere's what I want you to do.",
    "start": "3713490",
    "end": "3718930"
  },
  {
    "text": "I want you to read the paper. And I want you to try\nand implement the paper. That's your class project.",
    "start": "3718930",
    "end": "3724390"
  },
  {
    "text": "And if you can get this thing\nimplemented and get it to work, that's like the\nperfect opening for me to go tell the person who I know\nthat runs that group that you're",
    "start": "3724390",
    "end": "3733349"
  },
  {
    "text": "looking to get in with his\nPhD students and do some work, because this is\na person that was",
    "start": "3733350",
    "end": "3738630"
  },
  {
    "text": "like second half of senior year. There was no\nopportunity for them to do research or\nbuild a resume anymore.",
    "start": "3738630",
    "end": "3744520"
  },
  {
    "text": "And the folks saw\nthat class project. And they were like, yeah, if\nhe's taking Kayvon's classes,",
    "start": "3744520",
    "end": "3751780"
  },
  {
    "text": "and Kayvon says,\nthis person is good, and this person has put their\nactions on reading our work",
    "start": "3751780",
    "end": "3757790"
  },
  {
    "text": "and implementing\ntheir own version, we think this\nperson is hireable, even though most people\nwe hire are PhD students.",
    "start": "3757790",
    "end": "3763740"
  },
  {
    "text": "And so they struck a deal. They said, look, we'll have you\nwork with all of our PhD hires, as long as you promise, if we're\ngoing to put the time into you,",
    "start": "3763740",
    "end": "3771530"
  },
  {
    "text": "you need to stay for two\nyears or something like that. And so he said, OK, fine. Like there's no better way for\nme to prepare to grad school",
    "start": "3771530",
    "end": "3777550"
  },
  {
    "text": "than go work with the top\npeople in the field in Google at the time. And that's how it worked out. He worked with them.",
    "start": "3777550",
    "end": "3783000"
  },
  {
    "text": "By the second year, they\nhad given this person some opportunity to\nwrite a paper or two. And then he had the strongest\nresume in the planet",
    "start": "3783000",
    "end": "3789530"
  },
  {
    "text": "and got into Berkeley two years\nlater, was already halfway done, got out of Berkeley, I\nthink, in four years.",
    "start": "3789530",
    "end": "3795030"
  },
  {
    "text": "And I think now he's at\nAnthropic or something like that or doing stuff. So that's just an\nexample of if you",
    "start": "3795030",
    "end": "3800750"
  },
  {
    "text": "get to know your\nfaculty a little bit better, we want to help, right? So that's just some advice.",
    "start": "3800750",
    "end": "3808880"
  },
  {
    "text": "Again, not for me, maybe for\nanybody here at Stanford. You might like other\nclasses better. But usually you're here\nbecause the people around here",
    "start": "3808880",
    "end": "3816693"
  },
  {
    "text": "are pretty good. So use that resource. So just a few practical\nthings about that.",
    "start": "3816693",
    "end": "3822520"
  },
  {
    "text": "Here's what happens\nalmost all the time. So I get students\nall the time saying, I'm really interested\nin parallel systems.",
    "start": "3822520",
    "end": "3828280"
  },
  {
    "text": "Is there anything I\ncan do in your lab? Which at first, I was like,\ngreat, that's awesome. And then I start wondering,\nmy next question to myself",
    "start": "3828280",
    "end": "3836760"
  },
  {
    "text": "in my head is, can I find\na good fit for the student? And a lot of the\nstudents come up to me",
    "start": "3836760",
    "end": "3843750"
  },
  {
    "text": "and say this before taking\n149 or any of these classes. And for those students,\nI have to say, look,",
    "start": "3843750",
    "end": "3850090"
  },
  {
    "text": "we have to assume you\nhave some base knowledge. We can't teach you\nthe assignments in 149",
    "start": "3850090",
    "end": "3856500"
  },
  {
    "text": "in an independent study. You might as well\njust take the course. So typically what the faculty\nlook like is like, well,",
    "start": "3856500",
    "end": "3861605"
  },
  {
    "text": "is the student\nreally interested? Or are they just think\nthat they're interested? And if they're\nreally interested, they would have\ntaken your course.",
    "start": "3861605",
    "end": "3868230"
  },
  {
    "text": "And they would have\ndone a really good job on at least something\nin the course to show that they're\nreally interested in it.",
    "start": "3868230",
    "end": "3874140"
  },
  {
    "text": "Like if somebody comes up to\nme and says, I have a B in 149, I'm like, well, if you\nwere really interested,",
    "start": "3874140",
    "end": "3879410"
  },
  {
    "text": "like I gave you some of\nthe coolest stuff that I can think of. Why didn't that get you excited? And sometimes they're like,\nwell, I had this other thing.",
    "start": "3879410",
    "end": "3885559"
  },
  {
    "text": "But if you look carefully at my\nlast two projects are awesome. I'm like, yeah, that's true. Like, let's go forward.",
    "start": "3885560",
    "end": "3891950"
  },
  {
    "text": "So there's a little bit of that. So there is a filter of there\nare plenty of opportunities",
    "start": "3891950",
    "end": "3897160"
  },
  {
    "text": "in class to show that you're\nsuper interested, especially in classes with projects. So I ask questions\nlike these, have they",
    "start": "3897160",
    "end": "3904702"
  },
  {
    "text": "taken the courses that are\nrelevant to doing anything in that area? Are there examples of them\njust going beyond expectations,",
    "start": "3904702",
    "end": "3910810"
  },
  {
    "text": "like this person's\nactually interested? Have they been talking\nto me in office hours? Have they worked on\nanything in related classes?",
    "start": "3910810",
    "end": "3916750"
  },
  {
    "text": "Or do they have an industry\ninternship at Nvidia? I'm like, you've been on\nthe Cuda team at Nvidia?",
    "start": "3916750",
    "end": "3921890"
  },
  {
    "text": "Like you totally know\nwhat you're talking about or something like that. OK. So there's also a few pitfalls\nafter I say all this stuff.",
    "start": "3921890",
    "end": "3928369"
  },
  {
    "text": "So first of all,\nI often get a lot of emails right\nduring finals week.",
    "start": "3928370",
    "end": "3934030"
  },
  {
    "text": "And like everybody\nelse, our heads are kind of going all over\nthe place during finals week. And sometimes after we\nget all the grades done,",
    "start": "3934030",
    "end": "3940870"
  },
  {
    "text": "that's like, right when I'm\nabout to head off to family. And I just don't get around to\nresponding until I get back.",
    "start": "3940870",
    "end": "3947320"
  },
  {
    "text": "And at that point, that email\nis like 1,000 emails down in my inbox. So if I don't\nrespond, just please",
    "start": "3947320",
    "end": "3953849"
  },
  {
    "text": "keep emailing again,\nand email again loudly. Like you would become--\nit sounds very uppity.",
    "start": "3953850",
    "end": "3960880"
  },
  {
    "text": "But there is a point for\nyour Stanford faculty, where it is no longer possible\nto actually answer",
    "start": "3960880",
    "end": "3967260"
  },
  {
    "text": "the emails that we get\nwith a personal level. And so if we don't\nrespond, it's not",
    "start": "3967260",
    "end": "3973380"
  },
  {
    "text": "because we're not\ninterested in you. It's just slipped through the\ncracks, and just be persistent. So email again, in all\ncaps, in a friendly way",
    "start": "3973380",
    "end": "3981450"
  },
  {
    "text": "with a smiley face\nto make it right. Or plant your set\noutside my door and say, hey, at some point\ntoday, you're going to be free.",
    "start": "3981450",
    "end": "3987513"
  },
  {
    "text": "I'm just going to stand outside\nand wait till you're free. The other thing is that we want\nyou to have a good experience.",
    "start": "3987513",
    "end": "3993790"
  },
  {
    "text": "And sometimes it's hard\nto find a good fit. There are projects where\nwe're just getting started.",
    "start": "3993790",
    "end": "3998859"
  },
  {
    "text": "We don't really know\nwhat we're doing. And so it's hard to\ngive somebody something to do if it's like\nthree days later,",
    "start": "3998860",
    "end": "4004560"
  },
  {
    "text": "we were like, just kidding. We thought that was a good idea. And now we're going\nthis direction. So sometimes, I'm just going\nto say, look, you're awesome.",
    "start": "4004560",
    "end": "4010190"
  },
  {
    "text": "But I just don't know how to\nfit you into anything right now. And so that will happen as well.",
    "start": "4010190",
    "end": "4017280"
  },
  {
    "text": "So don't take that personally\nfrom any faculty that get you. So I think that\nthe big point here",
    "start": "4017280",
    "end": "4024110"
  },
  {
    "text": "is now that we get later in\nthe junior, senior master's",
    "start": "4024110",
    "end": "4029600"
  },
  {
    "text": "programs, your job\nis to try and start making some decisions\nabout where do you really",
    "start": "4029600",
    "end": "4034730"
  },
  {
    "text": "want to get yourself. Make some bets. And sometimes those bets are\nbest done outside the classroom.",
    "start": "4034730",
    "end": "4041700"
  },
  {
    "text": "Sometimes they're not best\ndone outside the classroom. And so I just want to make sure\nthat people aren't overfitting",
    "start": "4041700",
    "end": "4049160"
  },
  {
    "text": "to some stuff that you\nmight hear, which is like, look like you have to\nhave this internship.",
    "start": "4049160",
    "end": "4055140"
  },
  {
    "text": "You have to have this many A's\nor something like that, in order to get those good jobs. That's how you get the\nhard-to-get normal jobs,",
    "start": "4055140",
    "end": "4065690"
  },
  {
    "text": "I think, actually. But there are definitely grades\nthat you can figuratively get from working with folks\nthrough a recommendation",
    "start": "4065690",
    "end": "4073640"
  },
  {
    "text": "or through just some\nprofessor going, hey, have you ever thought\nabout this company? Because they'd be really--\nyou might be really",
    "start": "4073640",
    "end": "4078920"
  },
  {
    "text": "interested in going there. There's ways to do things that\nare maybe a little bit better than A's and A pluses.",
    "start": "4078920",
    "end": "4084569"
  },
  {
    "text": "So I'll leave it at that. We have five minutes. I guess I can hang\nout a little bit. Have a good break.",
    "start": "4084570",
    "end": "4090119"
  },
  {
    "text": "Send me a postcard or\nsomething, if you're going somewhere interesting. I'll put it on my\nbulletin board. All right, let's\nget out of here. [APPLAUSE]",
    "start": "4090120",
    "end": "4097500"
  },
  {
    "start": "4097500",
    "end": "4098000"
  }
]