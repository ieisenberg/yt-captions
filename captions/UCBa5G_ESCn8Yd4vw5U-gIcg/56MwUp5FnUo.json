[
  {
    "start": "0",
    "end": "5070"
  },
  {
    "text": "So let's just do a quick review\nto make sure things make sense. So we started from\nMaxwell's equations.",
    "start": "5070",
    "end": "12300"
  },
  {
    "text": "And then we said that\nbasically, for any antenna,",
    "start": "12300",
    "end": "17730"
  },
  {
    "text": "or more generally for any\ncurrent distribution and space, we can find the electric\nand magnetic fields.",
    "start": "17730",
    "end": "24910"
  },
  {
    "text": "And the way it\nworks is, let's say you have some antenna\nwith some geometry, it can be 2D, 3D,\nwhatever it is.",
    "start": "24910",
    "end": "31680"
  },
  {
    "text": "And then, at some\npoint, r in space, we want to find our\nelectric fields, electric",
    "start": "31680",
    "end": "38370"
  },
  {
    "text": "and magnetic fields. So first, we start\nby solving for the--",
    "start": "38370",
    "end": "44210"
  },
  {
    "text": "a magnetic vector potential a. And a is found by solving\nbasically this integral.",
    "start": "44210",
    "end": "52120"
  },
  {
    "text": "So the integral has a\nconstant mu over 4 pi. And then, the\nintegral is carried",
    "start": "52120",
    "end": "57629"
  },
  {
    "text": "over a volume in\nspace that contains the current distribution. So if you have this\nantenna, you want",
    "start": "57630",
    "end": "63690"
  },
  {
    "text": "to basically make sure you\nintegrate over the entire shape of the antenna.",
    "start": "63690",
    "end": "69482"
  },
  {
    "text": "And then what do--\nwhat is the integrand? The integrand is the current\ndistribution on the antenna. So that's the-- J is basically\nelectric current density",
    "start": "69482",
    "end": "78210"
  },
  {
    "text": "in amps per meters squared. At point r prime,\nwhat is r prime? R prime is the\npoint on the antenna",
    "start": "78210",
    "end": "84750"
  },
  {
    "text": "that we basically-- that's the\nvariable of the integration we are changing r prime.",
    "start": "84750",
    "end": "90390"
  },
  {
    "text": "Times this term e to the\nminus J norm kr over r.",
    "start": "90390",
    "end": "95490"
  },
  {
    "text": "And this, as you\nknow, what is this? This is a spherical wave. ",
    "start": "95490",
    "end": "104940"
  },
  {
    "text": "And d cubed r is a\ninfinitesimally small volume",
    "start": "104940",
    "end": "111450"
  },
  {
    "text": "basically element. So once you solve\nthis integral-- and the assumption here is that\nexcitation current basically,",
    "start": "111450",
    "end": "122130"
  },
  {
    "text": "or how we are-- the current that\nwe're generating on the antenna has a harmonic form.",
    "start": "122130",
    "end": "127470"
  },
  {
    "text": "So the time basically variation\nof it is like a pure sinusoid. It has like a e to\nthe J to pi ft time.",
    "start": "127470",
    "end": "135390"
  },
  {
    "text": "And that's why there\nis no time in here. We are only basically\ndoing everything over space",
    "start": "135390",
    "end": "141360"
  },
  {
    "text": "because the time\nportion we are fixing it to be a pure harmonic. That's the assumption here.",
    "start": "141360",
    "end": "148030"
  },
  {
    "text": "So with that we can solve\nfor A. So if basically--",
    "start": "148030",
    "end": "154020"
  },
  {
    "text": "full function for A, which is\na function of space and time",
    "start": "154020",
    "end": "159060"
  },
  {
    "text": "is the space portion,\nwhich is giving by this integral times the\ntime portion, which as I said, we are assuming it's a pure\nharmonic e to the J 2pi ft.",
    "start": "159060",
    "end": "167489"
  },
  {
    "text": "If it's not, if our\ncurrent J is not varying as like harmonically,\nwe also last time",
    "start": "167490",
    "end": "175260"
  },
  {
    "text": "looked at a more general\nversion of this integral, which also had t in it.",
    "start": "175260",
    "end": "180330"
  },
  {
    "text": "And that always works. OK, so that's the\nfirst step, then",
    "start": "180330",
    "end": "185430"
  },
  {
    "text": "what do we do from A, which is\nthe magnetic vector potential, we can find electric\nand magnetic fields.",
    "start": "185430",
    "end": "191610"
  },
  {
    "text": "How do we do that? you plug your\nA into the Maxwell's equations. And then we showed you how\nyou can, there from that,",
    "start": "191610",
    "end": "199620"
  },
  {
    "text": "find your E and H. There\nis no integrals anymore. So that's just you\nneed to calculate",
    "start": "199620",
    "end": "206160"
  },
  {
    "text": "some partial derivatives\nlike the curls, and divergences, and things\nlike that, which are typically",
    "start": "206160",
    "end": "211920"
  },
  {
    "text": "very straightforward. But that's how you get\nfrom A to E and H. OK, so now we have our electric\nand magnetic fields.",
    "start": "211920",
    "end": "219310"
  },
  {
    "text": "Now, what we're\nreally interested in is, basically, how are\nwe radiating energy",
    "start": "219310",
    "end": "225480"
  },
  {
    "text": "into space or power into space? What is the distribution\nof electromagnetic power",
    "start": "225480",
    "end": "230730"
  },
  {
    "text": "in this space from this antenna? Because that pattern\nof, basically, radiation",
    "start": "230730",
    "end": "236460"
  },
  {
    "text": "determines what we can see,\nwhat is the field of view, and how much echo we will get\nfrom targets at different,",
    "start": "236460",
    "end": "245130"
  },
  {
    "text": "basically, angles. So the first quantity\nonce we have our E and H that we usually calculate is\nthe so-called average power flux",
    "start": "245130",
    "end": "253980"
  },
  {
    "text": "density. So that is basically\nthe flux of power, which is in watts per unit\narea, watts per meters squared.",
    "start": "253980",
    "end": "262949"
  },
  {
    "text": "And that S, It's also\ncalled the Poynting vector, as average is equal to 1/2\nthe real part of the vector",
    "start": "262950",
    "end": "271440"
  },
  {
    "text": "cross product of\nthe electric field and the conjugate,\nthe complex conjugate of the magnetic field, H.",
    "start": "271440",
    "end": "277560"
  },
  {
    "text": "OK, so this is also once\nwe have our E and h. This is pretty\nstraightforward to calculate.",
    "start": "277560",
    "end": "283020"
  },
  {
    "text": "It's just that these are\ntwo or three vectors. We just do the cross product,\nand take the real part. And that's our S. Note\nthat S is a vector.",
    "start": "283020",
    "end": "291990"
  },
  {
    "text": "So it's not just how much\npower, watts per meters squared, there's also a\ndirection associated",
    "start": "291990",
    "end": "298080"
  },
  {
    "text": "with it because that power\nflux in what direction is it flowing. So S here is a vector, but the\nunits of the amplitude of S",
    "start": "298080",
    "end": "307409"
  },
  {
    "text": "is in watts per meters squared. Now, from there, we\nalso said that when",
    "start": "307410",
    "end": "314490"
  },
  {
    "text": "you look at the radiations\nfrom an antenna, there is basically\ndifferent regimes that you can look at\nin terms of how far",
    "start": "314490",
    "end": "321300"
  },
  {
    "text": "away you are from the antenna. We, in sensing, we're\ninterested, most of the time,",
    "start": "321300",
    "end": "326550"
  },
  {
    "text": "not 100% of the time,\nbut most of the time, especially in robotics,\nI can say almost always.",
    "start": "326550",
    "end": "333207"
  },
  {
    "text": "We're interested in the\nso-called far field. And that's where your\ndistance to the antenna is bigger than 2d squared\nover lambda, where big D",
    "start": "333207",
    "end": "340230"
  },
  {
    "text": "is the largest dimension\nof your antenna. So for instance, it's\na microstrip antenna,",
    "start": "340230",
    "end": "345360"
  },
  {
    "text": "it would be the length\nof that microstrip or if it's a reflector\nantenna like a dish,",
    "start": "345360",
    "end": "350700"
  },
  {
    "text": "it would be the diameter\nof that dish, basically. So that's your D\ndivided by lambda, which is the wavelength.",
    "start": "350700",
    "end": "357130"
  },
  {
    "text": "And again, if we plugged in some\ntypical numbers for use cases",
    "start": "357130",
    "end": "364830"
  },
  {
    "text": "in autonomy like a lambda that\nwas a few millimeters for say, a 77 gigahertz\nradar and a D that",
    "start": "364830",
    "end": "371190"
  },
  {
    "text": "was also a few millimeters. And it turns out\nthat it's far field, but physically you don't\nneed to be that far.",
    "start": "371190",
    "end": "377220"
  },
  {
    "text": "Usually, a few inches away is\nalready considered far field. Why is far field important?",
    "start": "377220",
    "end": "382380"
  },
  {
    "text": "Because certain simplifications\napply, like in the far field, our electric and\nmagnetic fields turn out",
    "start": "382380",
    "end": "389610"
  },
  {
    "text": "to be orthogonal to each other. And also, the fields can\nbe very well approximated",
    "start": "389610",
    "end": "395039"
  },
  {
    "text": "by plane waves that are only\ntraveling radially outwards",
    "start": "395040",
    "end": "401340"
  },
  {
    "text": "with respect to the antenna. So if this is my antenna,\nthen in the far field, basically, my phase\nfronts of the fields",
    "start": "401340",
    "end": "409660"
  },
  {
    "text": "can be approximated as planes. And the direction is radially\noutwards at every point",
    "start": "409660",
    "end": "415690"
  },
  {
    "text": "in space. So that's basically\nthe simplification that happens when we do the\nfar field approximation.",
    "start": "415690",
    "end": "421210"
  },
  {
    "text": "And then in the\nfar field regime, the power flux density\nbecomes equal to the square",
    "start": "421210",
    "end": "429790"
  },
  {
    "text": "of the magnitude of the\nE field at theta on phi. And theta on phi are basically\nthe azimuth and the elevation",
    "start": "429790",
    "end": "437050"
  },
  {
    "text": "angles at the point that we\nare basically observing. s",
    "start": "437050",
    "end": "442060"
  },
  {
    "text": "So the magnitude squared\ndivided by 2 times eta, eta is a constant called the\nimpedance of the medium, times,",
    "start": "442060",
    "end": "450520"
  },
  {
    "text": "basically, the distance squared. So what this tells us is\nthat our power flux density",
    "start": "450520",
    "end": "456850"
  },
  {
    "text": "in the far field,\nthere is basically falloff that is 1\nover distance squared.",
    "start": "456850",
    "end": "465010"
  },
  {
    "text": "And then the angular\ndependency of it is entirely determined\nby our E field.",
    "start": "465010",
    "end": "472660"
  },
  {
    "text": "And our E field, we already know\nit because we found it here. So we can basically, in the far\nfield, very well, basically,",
    "start": "472660",
    "end": "480910"
  },
  {
    "text": "approximate our\npower flux density. OK, and then this 1 over\nrange of squared drop",
    "start": "480910",
    "end": "487240"
  },
  {
    "text": "off should make sense because\nif you're in the far field, you can assume things are--",
    "start": "487240",
    "end": "493870"
  },
  {
    "text": "you have these big\nspheres for the waves, which are locally flat.",
    "start": "493870",
    "end": "500120"
  },
  {
    "text": "That's why, locally, it\nlooks like a plane wave, but if you look at\na much larger scale,",
    "start": "500120",
    "end": "506050"
  },
  {
    "text": "these are very big spherical\nwaves at the far field. And then the power\nis being distributed",
    "start": "506050",
    "end": "513640"
  },
  {
    "text": "on the surface of the sphere. And the surface area of a sphere\nis proportional to R squared.",
    "start": "513640",
    "end": "519020"
  },
  {
    "text": "So that's why you\nget the 1 over R squared drop off in\nyour power density. OK, so this is OK,\nbut usually, we",
    "start": "519020",
    "end": "526840"
  },
  {
    "text": "don't want to involve\nthe distance when we talk about radiations.",
    "start": "526840",
    "end": "534130"
  },
  {
    "text": "So instead of working with\nthe power flux density, you usually work with radiation\nintensity or the radiation",
    "start": "534130",
    "end": "541000"
  },
  {
    "text": "pattern of the antenna. It's the exact same\nthing, except instead of looking at power\nper unit area,",
    "start": "541000",
    "end": "548320"
  },
  {
    "text": "radiation intensity calculates\npower per unit solid angle. OK, and then solid angle,\nit doesn't depend on range.",
    "start": "548320",
    "end": "555760"
  },
  {
    "text": "It's the same-- if you look\nat the cone of solid angle, it's always the same thing\nno matter how far away",
    "start": "555760",
    "end": "561370"
  },
  {
    "text": "you are from that. And then we show that\nthis radiation intensity or radiation pattern is simply\ngiven by the distance squared,",
    "start": "561370",
    "end": "568120"
  },
  {
    "text": "like norm squared of R\nand times the magnitude of the power flux\ndensity magnitude of S.",
    "start": "568120",
    "end": "574832"
  },
  {
    "text": "So in terms of the\nelectric field, it simply becomes magnitude\nof squared of E theta on phi divided by 2 eta.",
    "start": "574833",
    "end": "580990"
  },
  {
    "text": "And now the units is watts\nper S to radian instead of watts per meters squared, the\nradian is a unit solid angle.",
    "start": "580990",
    "end": "588019"
  },
  {
    "text": "And this U is now just a scalar. There's no directionality\nassociated with it.",
    "start": "588020",
    "end": "593360"
  },
  {
    "text": "It's just the flow of power in\na unit, basically, solid angle. So from this, for\ninstance, we can",
    "start": "593360",
    "end": "600430"
  },
  {
    "text": "calculate total radiated power. How do we do that? If you want to find the total\npower that the antenna is",
    "start": "600430",
    "end": "605920"
  },
  {
    "text": "radiating, you just\nassume some close volume around your antenna,\na closed surface,",
    "start": "605920",
    "end": "611950"
  },
  {
    "text": "basically, call that big sigma. And your antenna is\nsomewhere in there. And then if we integrate\nthe radiation pattern,",
    "start": "611950",
    "end": "621070"
  },
  {
    "text": "on that entire\nsurface sigma, that gives the total power\nthat is being radiated.",
    "start": "621070",
    "end": "626950"
  },
  {
    "text": "And you integrate over\nsolid angles, of course. So that in watts,\nbasically, this",
    "start": "626950",
    "end": "632830"
  },
  {
    "text": "gives you the total power that\nis radiating out of that volume sigma or surface sigma.",
    "start": "632830",
    "end": "640300"
  },
  {
    "text": "Is this clear so far? OK, so then we started looking\nat, what does this U look like?",
    "start": "640300",
    "end": "648520"
  },
  {
    "text": "What does the radiation\npattern of different antennas look like, OK, as a\nfunction of theta and phi?",
    "start": "648520",
    "end": "654040"
  },
  {
    "text": "And this is, essentially, the\nsame thing we did for sonar.",
    "start": "654040",
    "end": "659079"
  },
  {
    "text": "In sonar, we also\nlooked at, basically, what we call the beam pattern\nof a sonar transducer.",
    "start": "659080",
    "end": "665230"
  },
  {
    "text": "The analog of that for radar\nbecomes the radiation pattern of a radar antenna.",
    "start": "665230",
    "end": "670670"
  },
  {
    "text": "The simplest one is\nthe isotropic antenna, which basically radiates\ncompletely, symmetrically",
    "start": "670670",
    "end": "679270"
  },
  {
    "text": "in the 3D space, which means the\nradiation pattern U, basically,",
    "start": "679270",
    "end": "684670"
  },
  {
    "text": "looks like a sphere. So it's always\nconstant regardless of what theta and phi is. So U of theta and phi for\nisotropic antenna is just U0.",
    "start": "684670",
    "end": "694060"
  },
  {
    "text": "OK, and then for\nthat, if you calculate the total radiated\npower, you basically integrate a constant U0\nover the solid angles.",
    "start": "694060",
    "end": "702130"
  },
  {
    "text": "So you can take the user\nout of the integral. And the integral of just d\nomega is the total solid angle",
    "start": "702130",
    "end": "708310"
  },
  {
    "text": "for a enclosed, basically,\nsurface, which is 4pi. It's the total solid angle of\na full sphere, if you will.",
    "start": "708310",
    "end": "716269"
  },
  {
    "text": "So the total radiated\npower would just be the radiation\npattern, U0 times 4pi",
    "start": "716270",
    "end": "723250"
  },
  {
    "text": "or the other way\naround your U zero, you can calculate it as the\ntotal radiated power divided",
    "start": "723250",
    "end": "729010"
  },
  {
    "text": "by 4pi. Now note that\nisotropic antennas, it's just a\nmathematically ideal case",
    "start": "729010",
    "end": "737440"
  },
  {
    "text": "that is never\nphysically possible. There's no antenna that anyone\ncan build that would perfectly",
    "start": "737440",
    "end": "744250"
  },
  {
    "text": "radiate isotropic. Any antenna that you\ncan physically build, it would have some\npreferred direction",
    "start": "744250",
    "end": "750550"
  },
  {
    "text": "in space for its radiation. So here's one example of\na non-isotropic antenna",
    "start": "750550",
    "end": "755980"
  },
  {
    "text": "which has a main\nlobe of radiation and a bunch of side lobes. So most of the energy would\nbe, basically, radiating",
    "start": "755980",
    "end": "764019"
  },
  {
    "text": "inside the main lobe. And then the side lobes\nwould also have some energy. And there is some\ndirections where either you",
    "start": "764020",
    "end": "771610"
  },
  {
    "text": "have the nulls. And in those directions\nlike in this direction and in that direction in\nspace, actually, no energy",
    "start": "771610",
    "end": "777910"
  },
  {
    "text": "flows for that grayish\nradiation pattern that we are showing here.",
    "start": "777910",
    "end": "784201"
  },
  {
    "text": "OK, so isotropic\nantenna is 1, but now for instance, if you\nlook at horn antennas--",
    "start": "784201",
    "end": "789430"
  },
  {
    "text": "and last time I had one\nthat we actually looked at. These have very, very\ndirectional radiation pattern.",
    "start": "789430",
    "end": "797510"
  },
  {
    "text": "So for horn antennas,\nactually, the axis of the horn, most of the energy\nwould be focused towards that.",
    "start": "797510",
    "end": "804160"
  },
  {
    "text": "One thing that is\nquite common when it comes to describing radiation\npatterns, sometimes instead",
    "start": "804160",
    "end": "810399"
  },
  {
    "text": "of giving the full\nU of theta and phi",
    "start": "810400",
    "end": "815440"
  },
  {
    "text": "as a full function of\nazimuth and elevation, sometimes only the two\ncross sections in two",
    "start": "815440",
    "end": "821500"
  },
  {
    "text": "orthogonal planes are given. So basically, for\nthis radiation pattern",
    "start": "821500",
    "end": "826600"
  },
  {
    "text": "here, you might only be\ngiven a cross section of it in the horizontal plane\nthat I'm showing in red.",
    "start": "826600",
    "end": "834279"
  },
  {
    "text": "And a cross section\nin the vertical plane, that would be the green one. And sometimes those are\ncalled the E field and the--",
    "start": "834280",
    "end": "840760"
  },
  {
    "text": "E plane and the\nH plane radiation patterns because we\nknow in the far field, E and H are orthogonal.",
    "start": "840760",
    "end": "847810"
  },
  {
    "text": "It's not a complete description\nof the radiation pattern, but it's good enough\nfor most applications. You just do two cross sections.",
    "start": "847810",
    "end": "854200"
  },
  {
    "text": "And in 2D plots,\nyou can describe what the radiation pattern is. But in reality, remember, to\nfully describe the radiation",
    "start": "854200",
    "end": "862329"
  },
  {
    "text": "pattern, you need\nthe full 3D, either in shape of-- in form of a plot,\nor a function, or lookup table.",
    "start": "862330",
    "end": "871509"
  },
  {
    "text": "As a function of theta and phi,\nyou need the full description. Now what determines\nthe radiation pattern",
    "start": "871510",
    "end": "878380"
  },
  {
    "text": "of an antenna? There's basically two factors. One is geometry, the shape\nof the antenna, the length",
    "start": "878380",
    "end": "885339"
  },
  {
    "text": "of different parts\nof the antenna, especially, in relationship to\nthe wavelength at which it's",
    "start": "885340",
    "end": "890590"
  },
  {
    "text": "radiating. So it's like-- there is that\nrelationship between the size or the geometry of the\nantenna and the wavelength.",
    "start": "890590",
    "end": "898690"
  },
  {
    "text": "And that basically determines\nyour radiation pattern. Here is a simple one. We are looking at\na dipole antenna.",
    "start": "898690",
    "end": "904930"
  },
  {
    "text": "And a dipole antenna,\nremember, it's just two wires. It's just two\nstraight rods or wires",
    "start": "904930",
    "end": "910990"
  },
  {
    "text": "that are connected to\nsome signal source that is, say, oscillating-- generating this\nsinusoidal current.",
    "start": "910990",
    "end": "917740"
  },
  {
    "text": "And it's being fed. So this feed line or\nthe transmission line can be a trace on a PCB or a\ncoaxial cable you're somehow",
    "start": "917740",
    "end": "924459"
  },
  {
    "text": "feeding the antenna. And then we assume that the\ntwo sides have the same length,",
    "start": "924460",
    "end": "929930"
  },
  {
    "text": "call that L over 2. And then we are looking\nat the radiation pattern for two cases.",
    "start": "929930",
    "end": "935630"
  },
  {
    "text": "One is where the\nlength is equal to 1/2 of the wavelength\nat lambda over 2. And that's this case.",
    "start": "935630",
    "end": "941480"
  },
  {
    "text": "And here, as you see,\nthe radiation pattern looks like a donut. And to just make\nsure it's clear,",
    "start": "941480",
    "end": "947440"
  },
  {
    "text": "the antenna here is\naligned with the Z-axis. And it's placed at the origin.",
    "start": "947440",
    "end": "953830"
  },
  {
    "text": "I highlighted it in red. And that's [INAUDIBLE]. So this basically\nwhat it tells you is that there is no power\nflowing in the Z direction.",
    "start": "953830",
    "end": "961240"
  },
  {
    "text": "That's a null of your\nradiation pattern. So right on top of the\naxis or at the bottom",
    "start": "961240",
    "end": "966880"
  },
  {
    "text": "of the axis of the antenna,\nyou won't get any radiation. So that's one. And now if you change\nthe length of the antenna",
    "start": "966880",
    "end": "974050"
  },
  {
    "text": "or, alternatively, if you change\nthe wavelength of the signal that you're feeding\nit, the lambda,",
    "start": "974050",
    "end": "979980"
  },
  {
    "text": "such that L equals 1/2\nlambda, 3 lambda over 2,",
    "start": "979980",
    "end": "984990"
  },
  {
    "text": "the radiation pattern\ncompletely changes. Now, you still have your\nmain lobe, around this, but now you add\nthe side lobe also.",
    "start": "984990",
    "end": "993420"
  },
  {
    "text": "So geometry, the\nshape of the antenna, and also the dimension of\nthe antenna with respect",
    "start": "993420",
    "end": "999570"
  },
  {
    "text": "to the wavelength,\nthose two together determine the radiation pattern.",
    "start": "999570",
    "end": "1004850"
  },
  {
    "text": "Now, another antenna related\nparameter that is useful is the so-called\ndirectivity of the antenna.",
    "start": "1004850",
    "end": "1012449"
  },
  {
    "text": "So what the directivity\ndoes is that-- so we have this\nideal antenna, which we call the isotropic\nantenna, but any other antenna",
    "start": "1012450",
    "end": "1021110"
  },
  {
    "text": "is non-isotropic. So it has some non-asymmetric\nradiation pattern. So directivity is\nbasically the ratio",
    "start": "1021110",
    "end": "1028970"
  },
  {
    "text": "of the radiation intensity\nof the antenna to that of an isotropic antenna.",
    "start": "1028970",
    "end": "1034459"
  },
  {
    "text": "So it tells you it's a measure\nof how asymmetric the radiation",
    "start": "1034460",
    "end": "1040549"
  },
  {
    "text": "pattern of your antenna is. How is it calculated? Very simple. So it's called D\nof theta and phi.",
    "start": "1040550",
    "end": "1046699"
  },
  {
    "text": "And what you do, you\njust divide, basically, radiation intensity or radiation\npattern of your antenna",
    "start": "1046700",
    "end": "1054590"
  },
  {
    "text": "by that of a isotropic antenna. Isotropic antenna just has a\nconstant U0 radiation density,",
    "start": "1054590",
    "end": "1062220"
  },
  {
    "text": "as we know. So it's just your\nU divided by U0. In terms of the radiated power,\nremember, U0 was p over 4pi.",
    "start": "1062220",
    "end": "1069880"
  },
  {
    "text": "So you can write it as 4pi U\nover the total radiated power. So that's the directivity.",
    "start": "1069880",
    "end": "1075169"
  },
  {
    "text": "And it's a\ndimensionless quantity. It's just tells you\nthe larger the D",
    "start": "1075170",
    "end": "1080660"
  },
  {
    "text": "is in a certain direction,\nthat means a lot of power is getting radiated\nin that direction.",
    "start": "1080660",
    "end": "1087179"
  },
  {
    "text": "Sometimes you just take\nthe max of the directivity over all angles, all\ntheta and phi angles.",
    "start": "1087180",
    "end": "1092960"
  },
  {
    "text": "And that max basically\ngives you the direction",
    "start": "1092960",
    "end": "1098659"
  },
  {
    "text": "that most power is\ngetting radiated, how much more than the\nisotropic antenna, basically,",
    "start": "1098660",
    "end": "1105019"
  },
  {
    "text": "are you are you radiating. Here is an example. This is an overlay of\ntwo radiation patterns.",
    "start": "1105020",
    "end": "1110947"
  },
  {
    "text": "So that's why it\nlooks a little funny, but you have the sphere, which\nis the isotropic antenna.",
    "start": "1110947",
    "end": "1116090"
  },
  {
    "text": "And then we are overlaying it\nwith a dipole antenna, which is this donut-looking thing. So the cross-section is\nlike you have the circle.",
    "start": "1116090",
    "end": "1123080"
  },
  {
    "text": "And then you have your little\ndonut-like thingy cross section for the dipole antenna.",
    "start": "1123080",
    "end": "1129490"
  },
  {
    "text": "And then the directivity-- the maximum directivity\nends up to being",
    "start": "1129490",
    "end": "1135610"
  },
  {
    "text": "1.67 in the direction\nwhere your maximum power",
    "start": "1135610",
    "end": "1140980"
  },
  {
    "text": "flow is for the dipole antenna. It's just a way of\nmeasuring how directivity,",
    "start": "1140980",
    "end": "1148690"
  },
  {
    "text": "as a term suggests,\nyour radiation pattern of the antenna is.",
    "start": "1148690",
    "end": "1154240"
  },
  {
    "text": "OK, one more parameter is\ncalled the radiation efficiency",
    "start": "1154240",
    "end": "1159610"
  },
  {
    "text": "of the antenna, which is-- so remember the antennas are\nbeing fed by some circuit.",
    "start": "1159610",
    "end": "1167590"
  },
  {
    "text": "So you feed it some\nelectric current. So some electric power is\nbeing fed to the antenna,",
    "start": "1167590",
    "end": "1173800"
  },
  {
    "text": "call that Pn. But not all of that power would\nget radiated, only some of it",
    "start": "1173800",
    "end": "1178990"
  },
  {
    "text": "would get radiated. Some of it might get\nturned into thermal losses",
    "start": "1178990",
    "end": "1185110"
  },
  {
    "text": "or might get reflected\nback into the circuit. So radiation efficiency\nis, basically,",
    "start": "1185110",
    "end": "1190420"
  },
  {
    "text": "the ratio of how much power you\nradiate over how much power you fed to your antenna.",
    "start": "1190420",
    "end": "1196600"
  },
  {
    "text": "So here is a picture. So you have some source that is\ngenerating the electric current or the electric voltage.",
    "start": "1196600",
    "end": "1202480"
  },
  {
    "text": "You have a transmission line\nthat connects the source to the antenna. Again, this could be a trace\non a PCB, or coaxial cable,",
    "start": "1202480",
    "end": "1209259"
  },
  {
    "text": "or any means of, basically,\nfeeding the signal to the antenna. So at the antenna\nterminals, there",
    "start": "1209260",
    "end": "1215560"
  },
  {
    "text": "is some electric power, Pn being\nfed into it, but not all of it would radiate out, only\nsome fraction of it",
    "start": "1215560",
    "end": "1223210"
  },
  {
    "text": "would become radiated power. And that fraction is called\nthe radiation efficiency.",
    "start": "1223210",
    "end": "1228550"
  },
  {
    "text": "So it's a number that's\nalways less than 1. And it tells you how\nefficiently your antenna",
    "start": "1228550",
    "end": "1234880"
  },
  {
    "text": "is converting that electric\npower to radiated power, basically.",
    "start": "1234880",
    "end": "1241030"
  },
  {
    "text": "And then there's this\nnotion of the antenna gain.",
    "start": "1241030",
    "end": "1246130"
  },
  {
    "text": "And the antenna\ngain is basically the ratio of the\nradiation intensity",
    "start": "1246130",
    "end": "1252970"
  },
  {
    "text": "of the antenna to the\nradiation intensity that you would have\nobtained if all the input",
    "start": "1252970",
    "end": "1259150"
  },
  {
    "text": "power to the antenna, all of\nPn was radiated isotropically.",
    "start": "1259150",
    "end": "1264700"
  },
  {
    "text": "OK, let's make sure\nthis makes sense. OK, you have an antenna. It has some\nradiation pattern, U.",
    "start": "1264700",
    "end": "1271150"
  },
  {
    "text": "How does that compare\nto an ideal antenna that has an efficiency of 1?",
    "start": "1271150",
    "end": "1276700"
  },
  {
    "text": "So all the power you feed\nto it, it's radiating. And it's also radiating\nit isotropically.",
    "start": "1276700",
    "end": "1283150"
  },
  {
    "text": "That ratio is called\nthe antenna gain. It's called G of theta and phi,\nvery simple expression for it.",
    "start": "1283150",
    "end": "1290290"
  },
  {
    "text": "So the numerator\nis just U of theta. And the denominator, if you\nhave an isotropic antenna",
    "start": "1290290",
    "end": "1296500"
  },
  {
    "text": "with an efficiency of 1,\nits radiation intensity is just going to be\nPn over 4pi, right?",
    "start": "1296500",
    "end": "1303070"
  },
  {
    "text": "That's what it is. So you divide the two,\nyou get that expression. You can also write it in\nterms of the directivity.",
    "start": "1303070",
    "end": "1309340"
  },
  {
    "text": "It becomes equal to\nradiation efficiency times the directivity of your antenna.",
    "start": "1309340",
    "end": "1315370"
  },
  {
    "text": "And that's the gain. This is an important one. I mean, these are all,\nas you see, equivalent. They are just-- everything from\nS on, these are all equivalent.",
    "start": "1315370",
    "end": "1326140"
  },
  {
    "text": "These are just scaled\nversions, different scalings of the same quantities\nwhich describe how",
    "start": "1326140",
    "end": "1331179"
  },
  {
    "text": "power is getting radiated out. So you have your\nPoynting vector, S. Then you have your\nantenna radiation intensity",
    "start": "1331180",
    "end": "1337450"
  },
  {
    "text": "or radiation efficiency. You have your directivity. And now you have your gain. If you have one of these, you\ncan calculate all the others",
    "start": "1337450",
    "end": "1344217"
  },
  {
    "text": "by just applying\ndifferent scale factors. But historically, the one\nthat is most of the times",
    "start": "1344217",
    "end": "1351820"
  },
  {
    "text": "reported-- so if\nyou buy an antenna and you look at the data sheet,\nthey usually give you the gain.",
    "start": "1351820",
    "end": "1356980"
  },
  {
    "text": "And that's the one they report. So that's why I wanted to\nmake sure you understand what is gain and how is it\nrelated to other quantities",
    "start": "1356980",
    "end": "1366190"
  },
  {
    "text": "or parameters that are\ndefined for antennas. But usually, again, you\nlook at any data sheet and they show you the\ngain of the antenna.",
    "start": "1366190",
    "end": "1373270"
  },
  {
    "text": "Here's one real example of\na radar system on a PCB.",
    "start": "1373270",
    "end": "1379480"
  },
  {
    "text": "So this is a 77\ngigahertz radar system. The antennas are\nmicrowave strip antennas.",
    "start": "1379480",
    "end": "1386649"
  },
  {
    "text": "And the wavelength\nat 77 gigahertz ends up being 3.9 millimeters. So let me zoom in on\nthis first so we can",
    "start": "1386650",
    "end": "1394450"
  },
  {
    "text": "take a closer look together. So you have the red PCB. These four blackish\nICs you see, these",
    "start": "1394450",
    "end": "1404320"
  },
  {
    "text": "are fully integrated\nradar transceivers. So they have all your TX\ncircuitry and all your RX.",
    "start": "1404320",
    "end": "1410350"
  },
  {
    "text": "So they generate the waveforms. They have the amplifiers\non the transmit side.",
    "start": "1410350",
    "end": "1416410"
  },
  {
    "text": "And on the receiver side, they\nhave your down converters, and filters, and\nADCs, and all that.",
    "start": "1416410",
    "end": "1422740"
  },
  {
    "text": "Each of these has three\ntransmit channels and four receive channels.",
    "start": "1422740",
    "end": "1428380"
  },
  {
    "text": "And then on the PCB, you\nhave the microstrip antenna. So each of these\ninteresting looking patterns",
    "start": "1428380",
    "end": "1434560"
  },
  {
    "text": "with four squarish patches\non it, each of these is an antenna. And then the antenna\nis being fed--",
    "start": "1434560",
    "end": "1441610"
  },
  {
    "text": "you see that trace,\nthat's a trace on the PCB that is coming from the IC.",
    "start": "1441610",
    "end": "1447700"
  },
  {
    "text": "And that's one of\nyour transmit traces. So as you see, each of these has\nthree transmitters coming out.",
    "start": "1447700",
    "end": "1454000"
  },
  {
    "text": "And 1, 2, 3, 4\nreceivers coming out. So overall, because you\nhave four of these ICs,",
    "start": "1454000",
    "end": "1459580"
  },
  {
    "text": "you end up with a system that\nhas 12 transmit channel-- 12 transmit antennas.",
    "start": "1459580",
    "end": "1465280"
  },
  {
    "text": "And all those 12 are-- you see them all here-- 1, 2, 3, 4, 5, 6, and so on.",
    "start": "1465280",
    "end": "1471140"
  },
  {
    "text": "And then you would get a\ntotal of 16 receive antennas. So there's a group of\nfour, a group of four,",
    "start": "1471140",
    "end": "1478480"
  },
  {
    "text": "and a group of eight\nhere for a total of 16. So it's a full system.",
    "start": "1478480",
    "end": "1483730"
  },
  {
    "text": "And then if you just look at\none of these antennas, that's",
    "start": "1483730",
    "end": "1489049"
  },
  {
    "text": "in blue, I've shown\nthe full pattern of it. So basically, you\nfeed it from here,",
    "start": "1489050",
    "end": "1495649"
  },
  {
    "text": "that's where the signal comes\nin, the trace of the PCB. And then your antenna has a\ntotal length of 9.17 millimeter",
    "start": "1495650",
    "end": "1503960"
  },
  {
    "text": "and a width of 1.4 millimeter. So it has a very\nasymmetric design. In one axis it's\npretty long right.",
    "start": "1503960",
    "end": "1511309"
  },
  {
    "text": "And in the other axis,\nit's pretty skinny. That's how the antenna is. And then the gain of this\nantenna, which is also,",
    "start": "1511310",
    "end": "1518255"
  },
  {
    "text": "you can think of it as\nthe radiation pattern, is shown here. Here, we see the\ntwo cross sections.",
    "start": "1518255",
    "end": "1524040"
  },
  {
    "text": "So these are from the\ndata sheet of, actually, this radar that they showed us. Let's zoom in.",
    "start": "1524040",
    "end": "1530690"
  },
  {
    "text": "So there's two plots. The red is the horizontal cross\nsection or the H plane cross",
    "start": "1530690",
    "end": "1536330"
  },
  {
    "text": "section of the gain. And the purple-ish is the\nvertical cross section or the E",
    "start": "1536330",
    "end": "1543350"
  },
  {
    "text": "plane, basically, cross\nsection of the gain. And here on the right,\nyou see the full 3D plot",
    "start": "1543350",
    "end": "1549289"
  },
  {
    "text": "of the surface of what G of\ntheta and phi looks like.",
    "start": "1549290",
    "end": "1554600"
  },
  {
    "text": "Now, here's something\nvery, very interesting. So let's look at this.",
    "start": "1554600",
    "end": "1560840"
  },
  {
    "text": "If you compare the H\nplane, again, H plane is the horizontal cross\nsection of the gain. And the purple, E, is the\nvertical cross-section.",
    "start": "1560840",
    "end": "1569059"
  },
  {
    "text": "You would see that the gain is-- it has a much wider gain pattern\nin the horizontal direction.",
    "start": "1569060",
    "end": "1577160"
  },
  {
    "text": "So it goes from minus 60\ndegrees to 60 degrees. And then only after that\nthe gain starts dropping",
    "start": "1577160",
    "end": "1583280"
  },
  {
    "text": "in the horizontal plane. In the vertical plane,\nit's pretty narrow.",
    "start": "1583280",
    "end": "1588290"
  },
  {
    "text": "It's only, I don't know, maybe\nplus, minus 7, or 8 degrees, or maybe 10 degrees.",
    "start": "1588290",
    "end": "1594200"
  },
  {
    "text": "And then very quickly,\nyour gain drops. So your radiation pattern\nis very narrow in vertical",
    "start": "1594200",
    "end": "1601040"
  },
  {
    "text": "and very broad in horizontal. And that's a very\nimportant, basically,",
    "start": "1601040",
    "end": "1606500"
  },
  {
    "text": "design decision that the\nengineers who designed this antenna basically made. And why is that?",
    "start": "1606500",
    "end": "1612800"
  },
  {
    "text": "So this specific radar\nis a radar design for automotive applications.",
    "start": "1612800",
    "end": "1618150"
  },
  {
    "text": "So it is designed as\na reference design to be mounted on cars for\nautomotive applications",
    "start": "1618150",
    "end": "1623779"
  },
  {
    "text": "like self-driving cars\nand things like that. So the environment that these\nradar is going to be used at,",
    "start": "1623780",
    "end": "1630980"
  },
  {
    "text": "what do you want to sense? So it's a car on the road. You're not interested\nin things in the sky.",
    "start": "1630980",
    "end": "1636350"
  },
  {
    "text": "And also below you,\nthere's the road. You're not interested\nin things that are",
    "start": "1636350",
    "end": "1641360"
  },
  {
    "text": "under the surface of the road. So you want that's what you want\nto focus most of your energy",
    "start": "1641360",
    "end": "1647120"
  },
  {
    "text": "vertically in a\nvery narrow beam. So you only see cars,\nand buildings, and things around you, around the horizon.",
    "start": "1647120",
    "end": "1653930"
  },
  {
    "text": "But horizontally, you want\na very wide beam pattern. We want to be able to see\nthings for as wide as possible.",
    "start": "1653930",
    "end": "1659990"
  },
  {
    "text": "Look, ideally, they\nwould have loved to have a full 180 degrees, but\nthat's not physically possible. So they got close to it,\nlike 120 degrees or so.",
    "start": "1659990",
    "end": "1667590"
  },
  {
    "text": "So that was a design. So it's not just it\njust randomly happened to have this radiation pattern.",
    "start": "1667590",
    "end": "1674279"
  },
  {
    "text": "People thought\nabout, OK, what is the use case of this antenna? What are we going to send--",
    "start": "1674280",
    "end": "1679789"
  },
  {
    "text": "need to sense? And then they\ndesigned a geometry that gives them a radiation\npattern that is desirable.",
    "start": "1679790",
    "end": "1686870"
  },
  {
    "text": "And also from the\ngeometry, it makes-- should make sense\nbecause you see, horizontally, the antenna\nhas a very small aperture.",
    "start": "1686870",
    "end": "1694789"
  },
  {
    "text": "And if you remember from\nthe discussion in sonar, small aperture size\nmeans wide radiation.",
    "start": "1694790",
    "end": "1701480"
  },
  {
    "text": "So horizontally,\nit's a small antenna. So you get wide\nradiation horizontally.",
    "start": "1701480",
    "end": "1706669"
  },
  {
    "text": "And vertically, it's\na very long antenna. It has a big-- there's\nalmost a factor",
    "start": "1706670",
    "end": "1712190"
  },
  {
    "text": "of five difference in\nthe vertical dimension and the horizontal dimension. So vertically, it\nhas a big aperture",
    "start": "1712190",
    "end": "1719630"
  },
  {
    "text": "which means you get a narrow\nradiation pattern, vertically. OK, so I hope this makes sense.",
    "start": "1719630",
    "end": "1726380"
  },
  {
    "text": "But also, I think\nat this point, you should feel confident that if\nI just gave you this antenna",
    "start": "1726380",
    "end": "1732860"
  },
  {
    "text": "geometry and the\nwavelength, you should be able to do the full\nanalysis and get to the point",
    "start": "1732860",
    "end": "1739430"
  },
  {
    "text": "where you can fully plot the\ngain pattern of the antenna. How do you do that? Again, everything\nthat's on the board.",
    "start": "1739430",
    "end": "1745903"
  },
  {
    "text": "You start from the\nantenna geometry. You find your A.\nFrom the A, you find electric and magnetic fields,\nE and H. From E and H,",
    "start": "1745903",
    "end": "1752600"
  },
  {
    "text": "you find your S.\nAnd then from the S, you can find U and\nultimately the gain.",
    "start": "1752600",
    "end": "1757760"
  },
  {
    "text": "Of course, you wouldn't\ndo any of this manually. There's software tools or\nyou write code yourself,",
    "start": "1757760",
    "end": "1763309"
  },
  {
    "text": "but the process should be\nhopefully pretty clear for you. Any questions?",
    "start": "1763310",
    "end": "1770490"
  },
  {
    "text": "Yes. Calling the vertical\nplane to be H and the horizontal to be E,\nis that by design or is it",
    "start": "1770490",
    "end": "1778299"
  },
  {
    "text": "something-- I think that's arbitrary. I don't think there's\nreal physical-- It's not related to the magnetic\nor electric field, right?",
    "start": "1778300",
    "end": "1786360"
  },
  {
    "text": "Let me think about that. There might be actually some\nphysical significance to it.",
    "start": "1786360",
    "end": "1792800"
  },
  {
    "text": "Look, there is no-- you could change the names\nand nothing would change.",
    "start": "1792800",
    "end": "1799220"
  },
  {
    "text": "Everything would\nwork out, but why do they call the horizontal\nH and the vertical E?",
    "start": "1799220",
    "end": "1805027"
  },
  {
    "text": "Does it have something to\ndo with the polarization of the fields coming\nout of the antenna? Maybe, I have to think\nabout that, yeah.",
    "start": "1805027",
    "end": "1812679"
  },
  {
    "text": "I'll get back to you on that. OK, so the last\nthing about antenna.",
    "start": "1812680",
    "end": "1819140"
  },
  {
    "text": "So everything we\ntalked about so far was about antennas\nas transmitters. We were just talking about\nthe radiation pattern",
    "start": "1819140",
    "end": "1826010"
  },
  {
    "text": "and how the power\nis distributed. But antennas also\ncan act as receivers.",
    "start": "1826010",
    "end": "1831830"
  },
  {
    "text": "And there is one\nimportant parameter that captures that effectiveness\nof the antenna as a receiver.",
    "start": "1831830",
    "end": "1837890"
  },
  {
    "text": "And that is called the\neffective area of the antenna. So what the effective\narea describes is, basically, how\nwell the antenna",
    "start": "1837890",
    "end": "1845870"
  },
  {
    "text": "is going to capture the\npower in a received echo. And the way that\nis characterized",
    "start": "1845870",
    "end": "1852169"
  },
  {
    "text": "is by this parameter,\neffective area which is the ratio of the power\nthat the antenna will",
    "start": "1852170",
    "end": "1858680"
  },
  {
    "text": "deliver to the receiver\ncircuitry at its terminals, call that Ps.",
    "start": "1858680",
    "end": "1864950"
  },
  {
    "text": "OK, so that's the power,\nagain, this antenna is now being acting\nas a receiver. So the power that it will\ndeliver to the receiver",
    "start": "1864950",
    "end": "1872630"
  },
  {
    "text": "circuitry divided by\nthe power flux density of the wave that is incident on\nthe antenna, the echo wave that",
    "start": "1872630",
    "end": "1880429"
  },
  {
    "text": "hits the antenna that's carrying\nsome power flux density. So that ratio of how much power\nit will deliver to the flux",
    "start": "1880430",
    "end": "1886760"
  },
  {
    "text": "density that is incident on it. And it will have the units\nof area, meters squared,",
    "start": "1886760",
    "end": "1892040"
  },
  {
    "text": "because your numerator\nis power in watts. The denominator is watts\nper squared meters. So you end up with\na quantity that",
    "start": "1892040",
    "end": "1899030"
  },
  {
    "text": "is in units of square meters. And that's the effective\narea of the antenna.",
    "start": "1899030",
    "end": "1905130"
  },
  {
    "text": "Now, it turns out that\nif the echo is coming from a target that\nis in the far field,",
    "start": "1905130",
    "end": "1911630"
  },
  {
    "text": "there is a very\nsimple relationship between the effective\narea of the antenna and the gain of the antenna. And that's given by\nthis formula here.",
    "start": "1911630",
    "end": "1919470"
  },
  {
    "text": "So if your target\nis at the far field, basically, the\nsimplifying assumption is that the echo that's\ngetting to the antenna",
    "start": "1919470",
    "end": "1928759"
  },
  {
    "text": "is plane waves, because we're\nso far away from the target, we can approximate\nit by plane waves.",
    "start": "1928760",
    "end": "1933950"
  },
  {
    "text": "And then your effective area\nwould be given by wavelength squared divided by 4pi times\nthe gain pattern of the antenna.",
    "start": "1933950",
    "end": "1941450"
  },
  {
    "text": "So it depends on the direction\nthat the echo is coming from. You don't have a\nconstant effective area.",
    "start": "1941450",
    "end": "1949100"
  },
  {
    "text": "It's a function of theta and\nphi because you don't have-- except if your\nantenna was isotropic,",
    "start": "1949100",
    "end": "1955850"
  },
  {
    "text": "where G wouldn't depend\non theta and phi, but for every physical antenna,\nyour power capturing efficiency",
    "start": "1955850",
    "end": "1964520"
  },
  {
    "text": "depends on the angle of\nincidence of the return echo. OK, so I think this\nis everything that--",
    "start": "1964520",
    "end": "1973530"
  },
  {
    "text": "we've finished the discussion\nabout the antennas. Now we know how they\noperate, both as transmitters",
    "start": "1973530",
    "end": "1980150"
  },
  {
    "text": "and receivers, and how can\nyou calculate, basically, different important,\nphysical parameters",
    "start": "1980150",
    "end": "1985700"
  },
  {
    "text": "associated with antennas. Now, we are going\nto use all this.",
    "start": "1985700",
    "end": "1991250"
  },
  {
    "text": "And hopefully at this\npoint, I can convince you that we didn't do, here, physics\njust for the fun of physics",
    "start": "1991250",
    "end": "1996650"
  },
  {
    "text": "or for the pain of\nphysics, but this is really useful for sensing. So we are going to use all this\nand do something very useful,",
    "start": "1996650",
    "end": "2003800"
  },
  {
    "text": "which is, basically,\nfind what is",
    "start": "2003800",
    "end": "2009460"
  },
  {
    "text": "the maximum range, maximum\ntheoretical range that a radar can sense, basically, for\na given set of parameters",
    "start": "2009460",
    "end": "2016750"
  },
  {
    "text": "like transmit power, and receive\npower, and gain of the antenna,",
    "start": "2016750",
    "end": "2021790"
  },
  {
    "text": "and wavelength, and\nso on, and so forth? How far can you\nsee with the radar? And that is the idea behind\nthe radar range equation.",
    "start": "2021790",
    "end": "2031390"
  },
  {
    "text": "It's a very simple calculation. So what you're\ngoing to assume is",
    "start": "2031390",
    "end": "2036490"
  },
  {
    "text": "you're going to\nassume you're working with a monostatic radar. What monostatic radar is means\nthat the transmitter antenna",
    "start": "2036490",
    "end": "2041860"
  },
  {
    "text": "and the receiver antenna\nare placed almost at the same place. They're almost co-located. They're very close\nto each other.",
    "start": "2041860",
    "end": "2048010"
  },
  {
    "text": "OK, so that's one assumption\nwe're going to make. It's a monostatic or it could\nbe even the same antenna.",
    "start": "2048010",
    "end": "2053649"
  },
  {
    "text": "It's just one antenna acting\nas both receive and transmit. Antennas at location r prime.",
    "start": "2053650",
    "end": "2060310"
  },
  {
    "text": "There is a target at location r. And the target\nbearing or DOA angle, call that theta\ntarget and phi target.",
    "start": "2060310",
    "end": "2068719"
  },
  {
    "text": "And here, always,\nthe assumption is that targets that\nare far away would",
    "start": "2068719",
    "end": "2075219"
  },
  {
    "text": "scatter all the power that's\nincident on them isotropically.",
    "start": "2075219",
    "end": "2080350"
  },
  {
    "text": "So we assume that it's like\nthe small target approximation. OK, so here's a picture.",
    "start": "2080350",
    "end": "2087199"
  },
  {
    "text": "You have your radar antenna. Of course, this is not\na radar for autonomy, but the picture I\nthought was cool to show",
    "start": "2087199",
    "end": "2094149"
  },
  {
    "text": "something different. So here's your radar antenna. It has some radiation\npattern or a gain pattern.",
    "start": "2094150",
    "end": "2100150"
  },
  {
    "text": "And then there is some\ntarget at location r. And then once we hit the\ntarget, the target echoes",
    "start": "2100150",
    "end": "2107090"
  },
  {
    "text": "are going to basically be\ndistributed isotropically or it's actually spherical waves\nthat the target echoes back.",
    "start": "2107090",
    "end": "2117290"
  },
  {
    "text": "And those spherical\nwaves, because the target is so far away, by the time they\nreach back the receive antenna,",
    "start": "2117290",
    "end": "2125780"
  },
  {
    "text": "they're approximated\nas plane waves. That's basically the\nsetup of the problem that we are trying to solve.",
    "start": "2125780",
    "end": "2132180"
  },
  {
    "text": "So the first thing\nwe can calculate is, what is the radiation power\ndensity that hits the target?",
    "start": "2132180",
    "end": "2139760"
  },
  {
    "text": "That's very easy. Let's call that W\nincident, Wi for incident. That's just the magnitude of the\nPoynting vector at the target",
    "start": "2139760",
    "end": "2146960"
  },
  {
    "text": "location. By definition, that's how much\npower or the power density will hit the target.",
    "start": "2146960",
    "end": "2152540"
  },
  {
    "text": "And as we know, that's\njust given by U, the radiation pattern at angle\ntheta t, phi t divided by R",
    "start": "2152540",
    "end": "2160230"
  },
  {
    "text": "squared. R is the distance between\nthe target and the radar. OK, we can also\nwrite it in terms",
    "start": "2160230",
    "end": "2166490"
  },
  {
    "text": "of the gain of the antenna. Again, I'm just reusing\neverything we derived before. There's no new physics here.",
    "start": "2166490",
    "end": "2172730"
  },
  {
    "text": "I'm just plugging things in to\ndo something useful with it. So in terms of the\ngain, we can write it",
    "start": "2172730",
    "end": "2179359"
  },
  {
    "text": "as G of theta t phi\nt times the P TX. P TX Is the total\ntransmit power,",
    "start": "2179360",
    "end": "2185780"
  },
  {
    "text": "total power that we put into\nthe waveform divided by 4pi r. Squared. So this has units of\nwatts per meters squared.",
    "start": "2185780",
    "end": "2192710"
  },
  {
    "text": "And it's the power density that\nis hitting the target, which is at a range R.",
    "start": "2192710",
    "end": "2198590"
  },
  {
    "text": "OK, now the target is going to\necho back some of this power, not all of it, but some of it\nis going to get echoed back.",
    "start": "2198590",
    "end": "2206240"
  },
  {
    "text": "And the amount of\npower that is getting echoed back that, Ps\nis some constant sigma",
    "start": "2206240",
    "end": "2213980"
  },
  {
    "text": "times the incident\npower density. So this Ps now has\nunits of watts.",
    "start": "2213980",
    "end": "2218990"
  },
  {
    "text": "It's the total power that\nthe target echoes back. And this sigma is called\nthe target radar cross",
    "start": "2218990",
    "end": "2225410"
  },
  {
    "text": "section or RCS. It's a very famous\nterm in radar.",
    "start": "2225410",
    "end": "2230600"
  },
  {
    "text": "And it has units of\narea, meters squared. And it effectively\ntells you how much power",
    "start": "2230600",
    "end": "2236870"
  },
  {
    "text": "the target will echo back. It's like the RF reflectivity\nof the target, if you will,",
    "start": "2236870",
    "end": "2241950"
  },
  {
    "text": "but it has the units\nof area because it needs to give us the total\npower in watts once multiplied",
    "start": "2241950",
    "end": "2247940"
  },
  {
    "text": "by the power density that's\nincident on the target. So for example, there\nis no tables that",
    "start": "2247940",
    "end": "2253880"
  },
  {
    "text": "or curves that gives you RCSs\nof different types of targets",
    "start": "2253880",
    "end": "2259490"
  },
  {
    "text": "at different wavelengths. It depends on three things,\nbasically, determine the RCS. There is the size of the target,\nof course, how big they are.",
    "start": "2259490",
    "end": "2267950"
  },
  {
    "text": "The material that they're\nmade of like metallic, for instance, targets typically\nhave larger cross sections.",
    "start": "2267950",
    "end": "2273440"
  },
  {
    "text": "And the wavelength at\nwhich we are operating. So it's a function\nof three things. So example, an adult male\nhas on average has RCS of 1",
    "start": "2273440",
    "end": "2286130"
  },
  {
    "text": "squared meters in the K-band. And K-band is the 77\ngigahertz frequency that these radars operate at.",
    "start": "2286130",
    "end": "2292550"
  },
  {
    "text": "OK, so so far we have\ncalculated total power that the target is\ngoing to echo back.",
    "start": "2292550",
    "end": "2298310"
  },
  {
    "text": "From that, if we assume that\ntotal power Ps is radiated back isotropically, again,\nit's in spherical waves.",
    "start": "2298310",
    "end": "2306769"
  },
  {
    "text": "It's coming back towards us. What is the power density\nreceived by the antennas?",
    "start": "2306770",
    "end": "2312120"
  },
  {
    "text": "At the antenna, how much\npower do we receive? It's the total power that the\ntarget radiates back divided",
    "start": "2312120",
    "end": "2318559"
  },
  {
    "text": "by 4pi R squared. Why 4pi R squared? Because 4pi R squared is the\narea of a sphere with a radius",
    "start": "2318560",
    "end": "2324890"
  },
  {
    "text": "R. And if we assume the power\nis radiated isotropically, it means we get just a\nconstant power density",
    "start": "2324890",
    "end": "2331940"
  },
  {
    "text": "on the surface of this sphere. So back at the\nreceiver, so this is received power density from\nthe target, is just over 4pi R",
    "start": "2331940",
    "end": "2342540"
  },
  {
    "text": "squared. Plug everything in, we\nget this expression. It's the transmit power times\nthe gain times the target",
    "start": "2342540",
    "end": "2349100"
  },
  {
    "text": "cross-section divided by 4\npi R squared R to the fourth. And this now has units of\nwatts per meter squared, that's",
    "start": "2349100",
    "end": "2356870"
  },
  {
    "text": "the power density. You have one more\nthing to calculate. OK, this is the\nincident power density.",
    "start": "2356870",
    "end": "2363530"
  },
  {
    "text": "How much power would\nthe antenna actually deliver to our\nreceiver circuitry?",
    "start": "2363530",
    "end": "2368900"
  },
  {
    "text": "And that, as we\nknow by definition, so the power delivered\nto the receive",
    "start": "2368900",
    "end": "2374120"
  },
  {
    "text": "electronics is just the\nantenna effective area times the incident\npower density.",
    "start": "2374120",
    "end": "2380250"
  },
  {
    "text": "So plug in the expression\nfor A effective. And make that plane\nwave approximation",
    "start": "2380250",
    "end": "2385609"
  },
  {
    "text": "for the echo that's\ncome back to us. We end up with this\nexpression, which is the transmit power times the--",
    "start": "2385610",
    "end": "2393109"
  },
  {
    "text": "we now have the square of\nthe gain times lambda squared times the radar cross-section\nof the target divided",
    "start": "2393110",
    "end": "2399440"
  },
  {
    "text": "by 4pi cubed times\nR to the fourth. And this in watt is\nnow the total power",
    "start": "2399440",
    "end": "2405210"
  },
  {
    "text": "that we have in the\nreceiver electronics. So this is the\nsignal that then we need to use to do\nsensing with, the power",
    "start": "2405210",
    "end": "2412380"
  },
  {
    "text": "of the signal that we use. There is one more thing\nwe should include in this. So nowhere in our analysis\nhere, we factored in losses.",
    "start": "2412380",
    "end": "2420242"
  },
  {
    "text": "We know there's losses. There's losses--\npropagation losses in air. There's also losses\nin the electronics",
    "start": "2420242",
    "end": "2425505"
  },
  {
    "text": "and you know other\nparts of the system. So we also should include\nthat to do a full analysis. And we are going to lump in\nall the sources of losses",
    "start": "2425505",
    "end": "2433200"
  },
  {
    "text": "into just one loss\nparameter, call that L. And that's just one\nnumber, less than 1, which factors in all\nthe losses that we",
    "start": "2433200",
    "end": "2440940"
  },
  {
    "text": "have throughout the system. And this is then\nthe final expression for the receive power on\nthe radar electronics.",
    "start": "2440940",
    "end": "2450569"
  },
  {
    "text": "So again, it's\ntransmitted power times the square of the\ngain times lambda squared times cross section of\nthe target times losses divided",
    "start": "2450570",
    "end": "2459750"
  },
  {
    "text": "by 4pi cubed R to the fourth. OK, now if you're interested--\nso say we are interested in,",
    "start": "2459750",
    "end": "2466230"
  },
  {
    "text": "OK, how far can we\nsee with this radar? What is the maximum R? Fix everything else,\nwhat is the maximum range",
    "start": "2466230",
    "end": "2473580"
  },
  {
    "text": "that we can sense? So if you solve for R,\nthis is what you get. So R would become like\nthis expression, which",
    "start": "2473580",
    "end": "2480780"
  },
  {
    "text": "has the transmit power\nin the numerator, the receive power\nin the denominator, and everything else to\nthe power of one fourth.",
    "start": "2480780",
    "end": "2488820"
  },
  {
    "text": "One thing to note, this is\nnot-- we're not talking about-- this is not an algorithm\nfor doing ranging.",
    "start": "2488820",
    "end": "2495690"
  },
  {
    "text": "This is just an analysis of\nthe trade offs, and the system, and the sensitivity to\nestablish an upper bound",
    "start": "2495690",
    "end": "2503430"
  },
  {
    "text": "on how far we can see\nthis analysis is helpful. So to get something very\nactionable out of this,",
    "start": "2503430",
    "end": "2510480"
  },
  {
    "text": "say for a given\nradar system, if you know what is the minimum\nreceived power that the radar",
    "start": "2510480",
    "end": "2518099"
  },
  {
    "text": "can detect based on the noise\nlevel, and the algorithms, and everything,\nyou might know what",
    "start": "2518100",
    "end": "2523890"
  },
  {
    "text": "is the minimum P RX that you\ncan work with for sensing. If you plug that in and\neverything else would also",
    "start": "2523890",
    "end": "2531630"
  },
  {
    "text": "be known, so your transmit\npower, say you decide on it and you know it. The gain of your antenna, you\nknow your antenna geometry.",
    "start": "2531630",
    "end": "2538680"
  },
  {
    "text": "So you can plug that in. Lambda, you know that's\nyour operational wavelength. You can assume some\ntarget cross-section.",
    "start": "2538680",
    "end": "2544590"
  },
  {
    "text": "So let's say I want\nto see how far I can see a human\nwith a radar cross",
    "start": "2544590",
    "end": "2549809"
  },
  {
    "text": "section of 1 square meters. You also plug-in your losses. And that would give you,\nbasically, the maximum",
    "start": "2549810",
    "end": "2556319"
  },
  {
    "text": "range for that choice of target,\nand wavelength, and gain, and power, and everything.",
    "start": "2556320",
    "end": "2561840"
  },
  {
    "text": "And that's why it's called\nthe radar range equation. So just to summarize, if\nyou know the minimum power",
    "start": "2561840",
    "end": "2571650"
  },
  {
    "text": "that your radar can\ndetect, it's basically the sensitivity of a radar. And then you can plug\nthat plus everything else",
    "start": "2571650",
    "end": "2578309"
  },
  {
    "text": "into this expression,\nit can tell you the maximum range,\ntheoretical maximum range",
    "start": "2578310",
    "end": "2584220"
  },
  {
    "text": "that you can sense\nwith that radar, with that choice of parameters. Again, it's like an upper bound.",
    "start": "2584220",
    "end": "2590850"
  },
  {
    "text": "It doesn't guarantee\nthat you would see always up to that range\nfor that choice of target,",
    "start": "2590850",
    "end": "2596640"
  },
  {
    "text": "and angle, and everything else. It's establishes an upper bound. You can never go\nabove this, basically,",
    "start": "2596640",
    "end": "2603360"
  },
  {
    "text": "maybe you can get close to it\nwith good DSP and everything else. Another thing that is\ninteresting in here",
    "start": "2603360",
    "end": "2610380"
  },
  {
    "text": "is that this power of one\nfourth makes it really tricky to increase range by\njust increasing power,",
    "start": "2610380",
    "end": "2618270"
  },
  {
    "text": "because for instance,\nsometimes you might think, oh, if I want to see further,\nI'll just send out more power. Send out more power,\nI can see further out.",
    "start": "2618270",
    "end": "2626490"
  },
  {
    "text": "Well, yes, but not\nby as much as you would think because\nthe power is raised to the power of one fourth.",
    "start": "2626490",
    "end": "2632520"
  },
  {
    "text": "So if you double the\npower, for instance, you're only going to\nincrease your I by 19--",
    "start": "2632520",
    "end": "2638160"
  },
  {
    "text": "R, maximum range by 19%. So increasing power is\nnot a very effective way",
    "start": "2638160",
    "end": "2643470"
  },
  {
    "text": "or an efficient way of\nincreasing the maximum range of your radar.",
    "start": "2643470",
    "end": "2649230"
  },
  {
    "text": "OK, any questions? All right, so hopefully, at\nthis point, by seeing this,",
    "start": "2649230",
    "end": "2657160"
  },
  {
    "text": "it justifies that all the things\nphysics that we did, especially to see how you find the gain of\nan antenna from the geometry,",
    "start": "2657160",
    "end": "2666819"
  },
  {
    "text": "and wavelength, and other\nparameters, and all the physics that we did, they're\nactually useful for sensing",
    "start": "2666820",
    "end": "2672880"
  },
  {
    "text": "because, for instance, you\ncan do an analysis like this and estimate what is the maximum\nrange that a radar can see.",
    "start": "2672880",
    "end": "2680505"
  },
  {
    "text": "OK, so I think this is\nbasically all the physics that we needed to know to be\nable to analyze and understand",
    "start": "2680506",
    "end": "2689140"
  },
  {
    "text": "radars at a system level. So now, we are going to start\nlooking at radar systems and talk about signal processing\nalgorithms for sensing.",
    "start": "2689140",
    "end": "2698240"
  },
  {
    "text": "So again, here, the physics\nwould be very useful for us because we are going to\nuse the physics to build",
    "start": "2698240",
    "end": "2703300"
  },
  {
    "text": "a very realistic signal model. And then we use\nthat signal model to develop our DSP algorithms.",
    "start": "2703300",
    "end": "2709359"
  },
  {
    "text": "So starting with, basically,\nthe radar system block diagram, This is\nlike a generic block",
    "start": "2709360",
    "end": "2717609"
  },
  {
    "text": "diagram of a radar system. It should look very familiar. The elements of it\nshould be the same things",
    "start": "2717610",
    "end": "2724180"
  },
  {
    "text": "we saw, for instance,\nin sonar or in GPS also. So you have some waveform\ngenerator always.",
    "start": "2724180",
    "end": "2730570"
  },
  {
    "text": "And call that waveform s of t. And then you have a\nso-called local oscillator. So that basically generates\na carrier frequency for you,",
    "start": "2730570",
    "end": "2738980"
  },
  {
    "text": "which is the center frequency\nof your radar, so just some pure sine wave.",
    "start": "2738980",
    "end": "2744130"
  },
  {
    "text": "It could be at whatever\nthe operational frequency of your radar is,\nsay 24 gigahertz, or 77 gigahertz, or something.",
    "start": "2744130",
    "end": "2750940"
  },
  {
    "text": "And then you up\nconvert your waveform to the carrier frequency. You pass that\nthrough a amplifier.",
    "start": "2750940",
    "end": "2757869"
  },
  {
    "text": "And that gives you your\ntransmitted signal, basically, as t, which is the gain of the\namplifier times the waveform",
    "start": "2757870",
    "end": "2766570"
  },
  {
    "text": "that you generated\ntimes the carrier. OK, and that goes to an antenna. This interesting looking device\nhere called the circulator,",
    "start": "2766570",
    "end": "2774490"
  },
  {
    "text": "it's basically a\nthree-port device. I intentionally put it there\nbecause not every system uses it.",
    "start": "2774490",
    "end": "2780040"
  },
  {
    "text": "Actually, many\nradars don't use it, but I wanted you to see it once\nbecause some radars do use it.",
    "start": "2780040",
    "end": "2786040"
  },
  {
    "text": "And it's a three-point device. The way it works is that it's\nlike a directional coupler. So if you feel that a signal in\nport 1, pretty much all of it",
    "start": "2786040",
    "end": "2794260"
  },
  {
    "text": "goes to port 2. If you feed it a signal in\nport 2, pretty much all of it goes to port 3.",
    "start": "2794260",
    "end": "2799869"
  },
  {
    "text": "And if you feed it a signal\nin port three, all of it goes to port one. So it's exactly\nlike a circulator.",
    "start": "2799870",
    "end": "2805360"
  },
  {
    "text": "So then the way it\noperates here is it can basically separate\nout the transmitted",
    "start": "2805360",
    "end": "2812830"
  },
  {
    "text": "and the received signal. And the transmit path, all\nthe signal goes from 1 to 2.",
    "start": "2812830",
    "end": "2817960"
  },
  {
    "text": "And that's the power\nyou radiate out. And then when you\nreceive an echo-- if you use the same\nantenna, if it's",
    "start": "2817960",
    "end": "2824710"
  },
  {
    "text": "like a monostatic radar\nusing the same antenna, all the signal is going to enter\nport 2, and then out of port 3,",
    "start": "2824710",
    "end": "2831520"
  },
  {
    "text": "and then goes into\nyour receiver chain, which has its own amplifier. And as usual, our\nreceive signal,",
    "start": "2831520",
    "end": "2837890"
  },
  {
    "text": "Sr is just an attenuated\nand delayed version of the transmitted signal\nas St times this term, which",
    "start": "2837890",
    "end": "2845380"
  },
  {
    "text": "is the Doppler shift. And we are going to talk\na lot more about it, but this e to the\nJ 2 pi fd t, fd",
    "start": "2845380",
    "end": "2853630"
  },
  {
    "text": "is the Doppler shift frequency\nthat we're going to talk about. But what happens then\nis you amplify it",
    "start": "2853630",
    "end": "2859130"
  },
  {
    "text": "through a low noise amplifier. And then you have your\ndown converter block, which basically takes your\nreceive signal and either",
    "start": "2859130",
    "end": "2867220"
  },
  {
    "text": "the local oscillator or the\nmodulated local oscillator. And it gives you some IF signal.",
    "start": "2867220",
    "end": "2872710"
  },
  {
    "text": "You filter that. You digitize that\nthrough the ADC. And then the rest or\npretty much all the magic",
    "start": "2872710",
    "end": "2878740"
  },
  {
    "text": "happens in DSP for\nradars as we'll see. So we're going to spend a lot of\ntime talking about this block.",
    "start": "2878740",
    "end": "2885820"
  },
  {
    "text": "But that's basically at a\nhigh level, the block diagram. Different systems,\nthere's variations of it.",
    "start": "2885820",
    "end": "2892579"
  },
  {
    "text": "So some systems don't\nhave a circulator. They use separate\ntransmit, receive antennas. Some systems, as we'll\nsee, use multiple transmit,",
    "start": "2892580",
    "end": "2899960"
  },
  {
    "text": "multiple receiver antennas. Some systems don't use-- like older ones don't use ADCs.",
    "start": "2899960",
    "end": "2906130"
  },
  {
    "text": "They somehow have analog\ncircuitry for doing ranging and so on and so forth. But this generally captures the\nessence of what a radar system",
    "start": "2906130",
    "end": "2915520"
  },
  {
    "text": "block diagram should look like. OK, let's do a bit\nof taxonomy on radars",
    "start": "2915520",
    "end": "2920770"
  },
  {
    "text": "just like we did for sonar. So in terms of the waveforms\nthat we transmit, exactly",
    "start": "2920770",
    "end": "2925780"
  },
  {
    "text": "like sonar, there's\ntwo classes of radar. One is the pulse radar. And this is the exact\nanalog of pulse echo sonar.",
    "start": "2925780",
    "end": "2933850"
  },
  {
    "text": "What it does-- it's\nalso called pulse Doppler radar or\npulse echo radar. So it transmits short\npulses, waveforms.",
    "start": "2933850",
    "end": "2941300"
  },
  {
    "text": "And then the transmit is,\nfor the most part, silent and just hearing for\nthe echoes coming back.",
    "start": "2941300",
    "end": "2949360"
  },
  {
    "text": "And there's many\ndifferent types of pulses used in these systems-- and simple ones,\nmore advanced ones.",
    "start": "2949360",
    "end": "2956340"
  },
  {
    "text": "And to do ranging, they\neither do simple thresholding or match filtering,\nexactly like sonar.",
    "start": "2956340",
    "end": "2962609"
  },
  {
    "text": "We covered this in detail\nwhen we were talking in sonar. These also can do\nvelocity estimation",
    "start": "2962610",
    "end": "2969060"
  },
  {
    "text": "by measuring that Doppler shift. And we'll talk more about this. And the direction of\narrival estimation,",
    "start": "2969060",
    "end": "2975240"
  },
  {
    "text": "they either have antennas with\nvery narrow gain patterns,",
    "start": "2975240",
    "end": "2981000"
  },
  {
    "text": "very directional antennas. And then they physically\nscan the antenna to do directional arrival.",
    "start": "2981000",
    "end": "2987359"
  },
  {
    "text": "So basically, t the\nassumption is whatever angle the antenna\nis pointing to,",
    "start": "2987360",
    "end": "2992580"
  },
  {
    "text": "I'm only sensing\nin that direction because it's a very narrow beam. And to sensing a different\ndirection, I move, physically,",
    "start": "2992580",
    "end": "3000560"
  },
  {
    "text": "my antenna. So for instance on the airports,\nif you've seen these rotating",
    "start": "3000560",
    "end": "3007190"
  },
  {
    "text": "parabolic antennas, those\nare doing physical scanning to determine\ndirection of arrival",
    "start": "3007190",
    "end": "3014120"
  },
  {
    "text": "or they can also do it in\nsignal processing using some idea called beamforming.",
    "start": "3014120",
    "end": "3019519"
  },
  {
    "text": "We'll talk about\nthat also later. Then you have your CW,\nyour continuous wave radar.",
    "start": "3019520",
    "end": "3025640"
  },
  {
    "text": "This is the analog\nof the CTFM sonar. And the waveforms here, well,\nfirst, they continuously",
    "start": "3025640",
    "end": "3034220"
  },
  {
    "text": "transmit. They're never silent. They're just over and\nover sending the waveforms",
    "start": "3034220",
    "end": "3039440"
  },
  {
    "text": "without stopping. And then the waveforms are\neither frequency or phase modulated.",
    "start": "3039440",
    "end": "3044810"
  },
  {
    "text": "If they're frequency modulated,\nit's called the FMCW radar-- frequency modulated\ncontinuous wave.",
    "start": "3044810",
    "end": "3050750"
  },
  {
    "text": "And then if it's phase\nmodulated, it's called a PMCW-- or phase modulated CW radar. ",
    "start": "3050750",
    "end": "3058610"
  },
  {
    "text": "Overall, they have better\nproperties than pulse radar. So pulse radar pretty much\nis not used for robotics.",
    "start": "3058610",
    "end": "3065390"
  },
  {
    "text": "It's used in other applications\nlike military, aviation, and so on. Robotics, pretty much always,\nwe use continuous wave radar.",
    "start": "3065390",
    "end": "3073790"
  },
  {
    "text": "So what's good about them\nis that they have better",
    "start": "3073790",
    "end": "3078950"
  },
  {
    "text": "properties like better\nresolution, smaller size, no moving parts, and things\nlike that, the CW radar,",
    "start": "3078950",
    "end": "3085790"
  },
  {
    "text": "but they need more advanced DSP. So the complexity basically\nshifts to the digital domain",
    "start": "3085790",
    "end": "3091130"
  },
  {
    "text": "in DSP for the CW\nradar, but that's OK because these days we have\nvery capable compute platforms",
    "start": "3091130",
    "end": "3097340"
  },
  {
    "text": "always with these robots so\nwe can handle complex DSP. FMCW radar, basically, it's\nexactly like CTFM sonar.",
    "start": "3097340",
    "end": "3107540"
  },
  {
    "text": "So it sends these linear\nfrequency chirps and uses those for ranging PMCW.",
    "start": "3107540",
    "end": "3112759"
  },
  {
    "text": "It operates exactly\nlike the GPS. So it uses PR encode to do\nranging based on correlations.",
    "start": "3112760",
    "end": "3121190"
  },
  {
    "text": "And so both of these,\nyou have seen before. You know how they're\ngoing to operate.",
    "start": "3121190",
    "end": "3126650"
  },
  {
    "text": "But again, as usual the\ndevil is in the details. So we'll see there is\ndetails specific to radar",
    "start": "3126650",
    "end": "3132530"
  },
  {
    "text": "which makes a DSP very\ndifferent say from sonar or GPS. And they can also\nestimate velocity",
    "start": "3132530",
    "end": "3139340"
  },
  {
    "text": "based on the Doppler shift\nand the direction of arrival. Again, they can do\nphysical scanning,",
    "start": "3139340",
    "end": "3144350"
  },
  {
    "text": "but in robotics,\nusually the DOA is also done via technique called\ndigital beamforming and DSP.",
    "start": "3144350",
    "end": "3151760"
  },
  {
    "text": "And we'll talk about\ndigital beamforming a lot. So that's the two types\nin terms of the waveforms.",
    "start": "3151760",
    "end": "3157580"
  },
  {
    "text": "And here is a high level\npicture showing you what these waveforms look like. Pulse radar, again, it\nsends these short pulses",
    "start": "3157580",
    "end": "3166220"
  },
  {
    "text": "at some pulse repetition rate. And for the most part, it's\nnot transmitting anything.",
    "start": "3166220",
    "end": "3171289"
  },
  {
    "text": "Then you have your\nFMCW radar which sends these frequency chirps.",
    "start": "3171290",
    "end": "3176330"
  },
  {
    "text": "It ramps the frequency\nlinearly and then it repeats, sends another one and\nanother one continuously.",
    "start": "3176330",
    "end": "3182210"
  },
  {
    "text": "And then here is a PMCW radar\nwith binary phase modulation. And this one is\ntaking the carrier.",
    "start": "3182210",
    "end": "3188090"
  },
  {
    "text": "And it's doing a BPSK, binary\nphase modulation of the carrier",
    "start": "3188090",
    "end": "3193340"
  },
  {
    "text": "phase with a, say, a PRN code\nthat you're very familiar with. So it's basically\nmultiplying the carrier",
    "start": "3193340",
    "end": "3199040"
  },
  {
    "text": "by these plus 1's\nand minus 1's, which are basically the PRN code.",
    "start": "3199040",
    "end": "3204200"
  },
  {
    "text": "And that's the phase\nmodulation that it applies. So this is basically\none code word then.",
    "start": "3204200",
    "end": "3210890"
  },
  {
    "text": " And then it sends it\nagain, and again, and again",
    "start": "3210890",
    "end": "3217520"
  },
  {
    "text": "and uses correlations\nto do ranging. OK, now there's another\nway you can, basically,",
    "start": "3217520",
    "end": "3226779"
  },
  {
    "text": "categorize radars. And that's in terms of\nthe number of antennas that they use. So you can have systems\nwhich are called single input",
    "start": "3226780",
    "end": "3233890"
  },
  {
    "text": "single output or SISO systems. And they just have a single\nTX antenna and a single RX antenna.",
    "start": "3233890",
    "end": "3240369"
  },
  {
    "text": "And the only way such systems-- The, only way they\ncan do direction of arrivals estimation\nis by physically",
    "start": "3240370",
    "end": "3247990"
  },
  {
    "text": "scanning the antenna. There is no other way-- if you only have a\nsingle TX single RX,",
    "start": "3247990",
    "end": "3253522"
  },
  {
    "text": "there's nothing you can do\nwhen it comes to direction of arrival estimation. There's nothing\nyou can do in DSP.",
    "start": "3253522",
    "end": "3259630"
  },
  {
    "text": "Your only hope is to use\nvery directional antennas and physically scan them. And again, an example is\nlike the airport surveillance",
    "start": "3259630",
    "end": "3266650"
  },
  {
    "text": "radars or ASRs. They have these parabolic\nantennas that they rotate. And these are very directional,\nso which is a single antenna.",
    "start": "3266650",
    "end": "3273490"
  },
  {
    "text": "They can also do direction\nof arrival estimation, which is the angle the\nantenna is pointing to.",
    "start": "3273490",
    "end": "3278890"
  },
  {
    "text": "Then you have MIMO systems or\nmultiple input multiple output. And this is what\nwe'll study in detail.",
    "start": "3278890",
    "end": "3287230"
  },
  {
    "text": "And these have multiple\nTXs multiple RXs. And they can use that\nto do DOA estimation",
    "start": "3287230",
    "end": "3295090"
  },
  {
    "text": "without any physical scanning. So you can do that\npurely in DSP. They can also work with\nany kind of antennas.",
    "start": "3295090",
    "end": "3303250"
  },
  {
    "text": "So the antennas don't need\nto be very directional. So they can-- the\nantennas can be almost isotropic, for\ninstance, in the MIMO systems.",
    "start": "3303250",
    "end": "3311170"
  },
  {
    "text": "And an example is, again,\nthe automotive radar we looked at a few slides back.",
    "start": "3311170",
    "end": "3317020"
  },
  {
    "text": "That was a MIMO system it had 12\ntransmitters and 16 receivers.",
    "start": "3317020",
    "end": "3322480"
  },
  {
    "text": "Lastly, there is\na classification of radars in terms of\nthe antenna configuration",
    "start": "3322480",
    "end": "3329020"
  },
  {
    "text": "or placement. Again, I told you\nabout monostatic, that's the radar where the TX,\nRX antennas are either the same",
    "start": "3329020",
    "end": "3336130"
  },
  {
    "text": "or they're co-located\nvery closely. And then you can\nhave bistatic radars, when your transmit and receive\nantennas are quite separated.",
    "start": "3336130",
    "end": "3346210"
  },
  {
    "text": "OK, so these are like we\ndid like the full taxonomy. There was a pulse radar,\ncontinuous wave radar,",
    "start": "3346210",
    "end": "3355690"
  },
  {
    "text": "single input single output,\nmulti input multi output, and also monostatic, bistatic.",
    "start": "3355690",
    "end": "3361120"
  },
  {
    "text": " Which of these are most useful\nfor autonomy applications?",
    "start": "3361120",
    "end": "3368410"
  },
  {
    "text": "And it turns out\nthat the MIMO radars, either FMCW or PMCW are the\nones that are most, basically,",
    "start": "3368410",
    "end": "3377650"
  },
  {
    "text": "best fit for robotic autonomy. Why? Because they can\noffer very high range.",
    "start": "3377650",
    "end": "3384040"
  },
  {
    "text": "They can offer very high\ndirection of arrival or angular resolution. They typically can have\nvery small form factors,",
    "start": "3384040",
    "end": "3391430"
  },
  {
    "text": "especially the ones\nat higher frequencies can have small form factors. They don't require\nany moving parts.",
    "start": "3391430",
    "end": "3396910"
  },
  {
    "text": "They are low power consumption. And you can-- especially if you\nuse these micro strip antennas,",
    "start": "3396910",
    "end": "3404440"
  },
  {
    "text": "you can integrate the\nentire radar system in a single PCB like the one\nyou saw last time in class.",
    "start": "3404440",
    "end": "3411130"
  },
  {
    "text": "And that makes\nthem very desirable for robotic applications.",
    "start": "3411130",
    "end": "3417940"
  },
  {
    "text": "Now, between FMCW and\nPMCW, today, almost 99%",
    "start": "3417940",
    "end": "3424089"
  },
  {
    "text": "of radar systems that are\ncommercially available are FMCW systems.",
    "start": "3424090",
    "end": "3431410"
  },
  {
    "text": "There's already integrated\ntransceivers available. And they're shipping\nin large volumes.",
    "start": "3431410",
    "end": "3439090"
  },
  {
    "text": "PMCW, I really\npersonally like the idea. I think it's a\nbetter architecture,",
    "start": "3439090",
    "end": "3446800"
  },
  {
    "text": "but for practical reasons,\ntoday, these systems",
    "start": "3446800",
    "end": "3452410"
  },
  {
    "text": "tend to be more\ncostly to manufacture. And because of that,\nmost manufacturers",
    "start": "3452410",
    "end": "3458710"
  },
  {
    "text": "picked up, basically, FMCW\nas a technology to focus on. I'm sure in a few\nyears you would",
    "start": "3458710",
    "end": "3464170"
  },
  {
    "text": "see more and more PMCW\nsystems, but today, there's not that many of them. There's one company I\nknow of in Texas called",
    "start": "3464170",
    "end": "3471730"
  },
  {
    "text": "[INAUDIBLE] that builds,\nbasically, PMCW systems. And they don't sell\nthem to general public.",
    "start": "3471730",
    "end": "3477700"
  },
  {
    "text": "They just have exclusive\ncontracts with some customers. But for FMCW, there's\nmany companies.",
    "start": "3477700",
    "end": "3483340"
  },
  {
    "text": "And you can buy either\nfull systems from them or just transceivers and\ndesign your own antennas.",
    "start": "3483340",
    "end": "3488710"
  },
  {
    "text": "So because of that, we\nwill focus mostly on FMCW. We will talk about PMCW radar.",
    "start": "3488710",
    "end": "3494769"
  },
  {
    "text": "We won't drop it, but\nnot in as much depth. Although the slides will\ncover it in full depth,",
    "start": "3494770",
    "end": "3500500"
  },
  {
    "text": "but we wouldn't, in\nclass, go through it all because it's not\nas relevant today.",
    "start": "3500500",
    "end": "3505810"
  },
  {
    "text": "In a few years, it might change. Now what type of\nperformance we can",
    "start": "3505810",
    "end": "3511359"
  },
  {
    "text": "get from these radar systems? And these numbers here, these\nare state-of-the-art numbers",
    "start": "3511360",
    "end": "3519490"
  },
  {
    "text": "typical, but specific systems\nare going to be different,",
    "start": "3519490",
    "end": "3525660"
  },
  {
    "text": "but you can get ranges of\nseveral meters, for instance, especially at 77 gigahertz\nwith a resolution of few tens",
    "start": "3525660",
    "end": "3533940"
  },
  {
    "text": "of centimeters. So good resolution,\nvery high range. Now some systems\nclaim more than this.",
    "start": "3533940",
    "end": "3538950"
  },
  {
    "text": "I've seen systems that\nclaim up to 800 meters range for robotics, field\nof views that can be pretty",
    "start": "3538950",
    "end": "3547080"
  },
  {
    "text": "wide like horizontally 150\ndegrees, vertically 50 degrees, with the angular resolution\nof some sub 1 degree",
    "start": "3547080",
    "end": "3553890"
  },
  {
    "text": "is these days achievable\nwith good DSP. And then they can sense\nvery high velocities up",
    "start": "3553890",
    "end": "3562289"
  },
  {
    "text": "to plus, minus 90\nmiles per hour, with a velocity resolution\nof half a mile per hour.",
    "start": "3562290",
    "end": "3568860"
  },
  {
    "text": "Measurement rates of\nfew tens of Hertz. And they are pretty\nlow power consumption,",
    "start": "3568860",
    "end": "3574830"
  },
  {
    "text": "like in a few tens of watts. Again, there's lots of\ntrade offs involved.",
    "start": "3574830",
    "end": "3580410"
  },
  {
    "text": "So you usually cannot hit all\nthese numbers simultaneously. You would have to\npick and choose",
    "start": "3580410",
    "end": "3585480"
  },
  {
    "text": "according to your application,\nfor instance, if you require very long range, you\nmight need to give up on the maximum velocity\nthat you can sense",
    "start": "3585480",
    "end": "3592590"
  },
  {
    "text": "or if you need very high\nvelocity resolution, you might need to give up\non your range resolution. We will study all\nthese trade offs.",
    "start": "3592590",
    "end": "3598840"
  },
  {
    "text": "So it's not like all of\nthese simultaneously are met, but these are the boundaries\nof what these systems can do.",
    "start": "3598840",
    "end": "3607410"
  },
  {
    "text": "Again, these numbers are very\nspecific to MIMO FMCW radar systems used in\nrobotic applications.",
    "start": "3607410",
    "end": "3614790"
  },
  {
    "text": "In other applications,\nlike in defense, people can see hundreds of\nmiles with their radars,",
    "start": "3614790",
    "end": "3622890"
  },
  {
    "text": "but there's no free lunch. Something is going\nto give to enable",
    "start": "3622890",
    "end": "3629519"
  },
  {
    "text": "that long range, basically. But for robotics, the\nstate-of-the-art today, these numbers are achievable.",
    "start": "3629520",
    "end": "3636660"
  },
  {
    "text": "Any questions? OK, so here's one example of a--",
    "start": "3636660",
    "end": "3643990"
  },
  {
    "text": "again, we're talking about\nFMCW systems, these days, are commercially available.",
    "start": "3643990",
    "end": "3649030"
  },
  {
    "text": "So you can go online\ntoday and buy this chirp from TI called AWR2243.",
    "start": "3649030",
    "end": "3656050"
  },
  {
    "text": "It's a fully integrated 3\nby 4 MIMO FMCW radar-- three transmit, four receivers.",
    "start": "3656050",
    "end": "3662799"
  },
  {
    "text": "It can operate in the K-band\nfrom 76 to 81 gigahertz. And this is the full\nsystem [INAUDIBLE]",
    "start": "3662800",
    "end": "3668680"
  },
  {
    "text": "that slide with the red\nPCB that I showed you, where we studied the antennas,\nthe chips, the transceivers",
    "start": "3668680",
    "end": "3674740"
  },
  {
    "text": "were these AWR2243s there. And here, we now should be able\nto understand most of what's",
    "start": "3674740",
    "end": "3682060"
  },
  {
    "text": "shown in this block diagram. Let's trace it together. So it has a ramp generator. So this is going to generate\nthose frequency chirps.",
    "start": "3682060",
    "end": "3689440"
  },
  {
    "text": "That's the part of the\ncircuit that does that. And then that is being fed\ninto a frequency synthesizer.",
    "start": "3689440",
    "end": "3695080"
  },
  {
    "text": "So that's the local oscillator. First, they do it\nat 20 gigahertz.",
    "start": "3695080",
    "end": "3700330"
  },
  {
    "text": "And then this is being fed into\na frequency multiplier times 4. So that's how they can get\nup to 80, 81 gigahertz.",
    "start": "3700330",
    "end": "3707850"
  },
  {
    "text": "They basically\nquadruple the frequency after modulating with chirps. So what comes out\nof this is basically",
    "start": "3707850",
    "end": "3715520"
  },
  {
    "text": "our St, which is St of t,\nwhich is the waveform that is modulated with\na carrier frequency",
    "start": "3715520",
    "end": "3723099"
  },
  {
    "text": "of up to 81 gigahertz. They have phase\ncontrol if you want to do active phase control.",
    "start": "3723100",
    "end": "3728110"
  },
  {
    "text": "We'll talk about this, but\nwe didn't include this block in our block diagram. And then it goes into\na power amplifier.",
    "start": "3728110",
    "end": "3734470"
  },
  {
    "text": "And out comes a RF signal ready\nto be fed to your transmitter antennas. Antennas are outside the chirp.",
    "start": "3734470",
    "end": "3740890"
  },
  {
    "text": "So you have to make them on\na PCB or in a different way.",
    "start": "3740890",
    "end": "3746420"
  },
  {
    "text": "And then on the\nreceive side, you have your low noise amplifier. You have your down converter. And then here is, basically,\na low pass filter.",
    "start": "3746420",
    "end": "3755559"
  },
  {
    "text": "And then it goes into an ADC. So it's exactly the\nsame block diagram",
    "start": "3755560",
    "end": "3760630"
  },
  {
    "text": "that we looked at together. So to build a radar\nsystem with this, basically, all you need\nto do is, basically, hook",
    "start": "3760630",
    "end": "3767710"
  },
  {
    "text": "up some antennas to\nit, which could be micro strip antennas on a PCB. And also, this doesn't\ndo the DSP for you.",
    "start": "3767710",
    "end": "3775450"
  },
  {
    "text": "So you get ADC output\ninterface, so your raw signal out of the ADC, the\ndigitized signal comes out.",
    "start": "3775450",
    "end": "3781569"
  },
  {
    "text": "And then you have to feed it\nto your own DSP block, which can be a computer, or a FPGA,\nor some other microcontroller,",
    "start": "3781570",
    "end": "3790030"
  },
  {
    "text": "or something that can do digital\nsignal processing for you. But that's all you need to do\nto build a full radar system.",
    "start": "3790030",
    "end": "3796570"
  },
  {
    "text": "You buy the chip. You integrate it. I mean, of course,\nyou have to feed it power and the usual stuff\nfor the electronic to work",
    "start": "3796570",
    "end": "3803740"
  },
  {
    "text": "like a crystal oscillator,\nand power, and this, and that. But at a system level,\nreally, all it needs",
    "start": "3803740",
    "end": "3809770"
  },
  {
    "text": "is antennas and DSP. Everything else is integrated\nin this tiny few millimeter",
    "start": "3809770",
    "end": "3815710"
  },
  {
    "text": "by few millimeter chip for you\nthat costs few tens of dollars, really, really cheap.",
    "start": "3815710",
    "end": "3820970"
  },
  {
    "text": "And that's why FMCW\nis so dominant. PMCW is not at this maturity\nlevel mainly because",
    "start": "3820970",
    "end": "3827240"
  },
  {
    "text": "of cost reasons, basically. The cost of-- the\nrequirements of PMCW systems,",
    "start": "3827240",
    "end": "3833330"
  },
  {
    "text": "specifically the ADCs need to\nbe very high sampling rate, like giga samples\nper second, which",
    "start": "3833330",
    "end": "3838340"
  },
  {
    "text": "makes them expensive to make\nwith the processes today. I'm sure in a few years\nthat's going to change.",
    "start": "3838340",
    "end": "3843470"
  },
  {
    "text": "And hopefully in\n10, 15 years, we can have chirps like\nthis that do PMCW also.",
    "start": "3843470",
    "end": "3850190"
  },
  {
    "text": "OK, so let's-- we are going\nto start with looking at FMCW radar DSP, and specifically,\nhow you can estimate range",
    "start": "3850190",
    "end": "3859280"
  },
  {
    "text": "and velocity in FMCW systems. And then we'll do\nthe same for PMCW.",
    "start": "3859280",
    "end": "3864370"
  },
  {
    "text": "But again, remember, FMCW, we\nare going to go full depth, no stones unturned.",
    "start": "3864370",
    "end": "3870640"
  },
  {
    "text": "We are going to do\nit in painful detail. PMCW, we wouldn't\ngo as much in depth.",
    "start": "3870640",
    "end": "3877150"
  },
  {
    "text": "OK, so here's our\nsystem block diagram specific to FMCW\nsystems, most of it",
    "start": "3877150",
    "end": "3883990"
  },
  {
    "text": "is the same as the general block\ndiagram, but a few differences. Here our waveforms are\nthese linear frequency",
    "start": "3883990",
    "end": "3892660"
  },
  {
    "text": "chirps that we had seen\nin sonar up converted. And then FMCW, systems\nbecause these are CW systems,",
    "start": "3892660",
    "end": "3901809"
  },
  {
    "text": "you can reuse the same antenna\nfor transmit and receive. So they typically use\nseparate transmit antenna",
    "start": "3901810",
    "end": "3909580"
  },
  {
    "text": "and a separate receiver antenna. So on the transmit side, this\nis the signal we transmit. It's the gain of the\namplifier times the chirp",
    "start": "3909580",
    "end": "3917530"
  },
  {
    "text": "signal times the carrier. And at the receive,\nreceive Sr of t, which is attenuation times\nthe transmitted waveform that",
    "start": "3917530",
    "end": "3928420"
  },
  {
    "text": "is delayed by the round trip\ntime of flight tau times this Doppler shift\nterm, which we will",
    "start": "3928420",
    "end": "3934539"
  },
  {
    "text": "see where it is coming from. You feed it through\nthe amplifier and through the down converter.",
    "start": "3934540",
    "end": "3940450"
  },
  {
    "text": "Down converter exactly\nlike the case of sonar, it's being fed by the receive\nsignal and not the [INAUDIBLE]",
    "start": "3940450",
    "end": "3949390"
  },
  {
    "text": "but the full transmit-- full modulated\ntransmitted chirp.",
    "start": "3949390",
    "end": "3954609"
  },
  {
    "text": "So the other input\nto the down converter is St times e to the J 2pi fc.",
    "start": "3954610",
    "end": "3959920"
  },
  {
    "text": "This is exactly\nthe same as sonar. And then we get this IF\nfrequency signal out.",
    "start": "3959920",
    "end": "3965619"
  },
  {
    "text": "Hopefully, the hope\nis that this signal would have some\nfrequency delta f,",
    "start": "3965620",
    "end": "3971380"
  },
  {
    "text": "which is proportional to the\nround trip time of flight, tau. So if we estimate the frequency\nof this signal, from that,",
    "start": "3971380",
    "end": "3979540"
  },
  {
    "text": "we get the round\ntrip time of flight. And then from the\ntime of flight, we can estimate\nrange, like sonar.",
    "start": "3979540",
    "end": "3985540"
  },
  {
    "text": "That's the hope. But in practice how it's\ndone, we filter that. We digitize it through the ADC.",
    "start": "3985540",
    "end": "3992380"
  },
  {
    "text": "We get the digitized version. And then we do it in\ndigital signal processing.",
    "start": "3992380",
    "end": "3997710"
  },
  {
    "text": "First thing we\nshould talk about is, what is this Doppler\nthing that is different? This is something that we\ndidn't consider in sonar,",
    "start": "3997710",
    "end": "4004440"
  },
  {
    "text": "but here, we are\ntalking about it. So let's see where this\nDoppler effect is coming from.",
    "start": "4004440",
    "end": "4010680"
  },
  {
    "text": "To study that, we\ncan abstract out the details of the waveform. So let's assume there's no\nactual chirp modulation, or PRN",
    "start": "4010680",
    "end": "4021870"
  },
  {
    "text": "codes, or whatever. Let's assume the radar\nis just transmitting a unmodulated carrier.",
    "start": "4021870",
    "end": "4028349"
  },
  {
    "text": "So the signal that the\nradar is transmitting is just a pure sine wave,\ne to the J 2pi fc t.",
    "start": "4028350",
    "end": "4034440"
  },
  {
    "text": "OK, and here-- that's\nthe radar transmitter. It's hitting some target.",
    "start": "4034440",
    "end": "4039570"
  },
  {
    "text": "And then some echo is\ncoming back to the radar. OK, so what we receive as usual\nis some attenuation factor",
    "start": "4039570",
    "end": "4047610"
  },
  {
    "text": "alpha times the\ndelayed version of what we transmit by the round\ntrip time of flight.",
    "start": "4047610",
    "end": "4053170"
  },
  {
    "text": "And if you plug in\nthe tau, the receive signal is given by this\nexpression alpha e to the J",
    "start": "4053170",
    "end": "4058890"
  },
  {
    "text": "2pi fc t minus this\n2R over c, that's our tau, where r is the range.",
    "start": "4058890",
    "end": "4065619"
  },
  {
    "text": "So 2 times R is the\nround trip distance. And then 2R over\nthe speed of light",
    "start": "4065620",
    "end": "4071730"
  },
  {
    "text": "is the round trip\ndelay, which is tau. OK, now what changes is that\nif the radar, or the target,",
    "start": "4071730",
    "end": "4083040"
  },
  {
    "text": "or both of them are\nmoving, then what happens is that this R\nchanges with time.",
    "start": "4083040",
    "end": "4089070"
  },
  {
    "text": "It's not a constant anymore. So it becomes R of t if\nthere's movement involved.",
    "start": "4089070",
    "end": "4095089"
  },
  {
    "text": "So in that case, the\nsignal that you receive is going to be given\nby this expression.",
    "start": "4095090",
    "end": "4101240"
  },
  {
    "text": "You still have alpha\ne to the J 2pi fc t. That doesn't\nchange, but now, you have this time varying\nphase term, phi ft,",
    "start": "4101240",
    "end": "4108950"
  },
  {
    "text": "which is exactly\ncoming from the fact that this term is\nnow time varying. Instead of 2R over\nC as a constant,",
    "start": "4108950",
    "end": "4114528"
  },
  {
    "text": "we have 2R of t over c. So our phase first phi is\nminus 4 pi fc R of t over C.",
    "start": "4114529",
    "end": "4124670"
  },
  {
    "text": "Now you have a time varying\nphase if things are moving. OK, so what?",
    "start": "4124670",
    "end": "4130189"
  },
  {
    "text": "Well, so what, now what happens\nis that with that time varying phase term, if we calculate\nthe instantaneous frequency",
    "start": "4130189",
    "end": "4139309"
  },
  {
    "text": "of the signal that we receive we\nare going to see that it's not just a carrier frequency. . It's carrier frequency plus a\nshift that is a Doppler shift.",
    "start": "4139310",
    "end": "4147660"
  },
  {
    "text": "So let's do that. Again, as you know, the\ninstantaneous frequency of the signal is\njust 1 over 2pi times",
    "start": "4147660",
    "end": "4153679"
  },
  {
    "text": "the derivative of its phase. And here, we are talking\nabout this signal, the receive signal. What is the phase?",
    "start": "4153680",
    "end": "4159380"
  },
  {
    "text": "There is 2pi fc t\nplus this phi of t. So take the time\nderivative of that.",
    "start": "4159380",
    "end": "4164568"
  },
  {
    "text": "The first one just gives you fc. 2pi fc t ddt, you just get\n2 pi fc, divided by 2pi,",
    "start": "4164569",
    "end": "4171889"
  },
  {
    "text": "it just gives you fc. That's expected. But now, you get this additional\nterm, minus 2vr over c times",
    "start": "4171890",
    "end": "4180120"
  },
  {
    "text": "fc. What is vr? vr is the derivative\nof range, r dot. And we are calling it vr because\nby definition, the derivative",
    "start": "4180120",
    "end": "4187759"
  },
  {
    "text": "of the range is the\nrelative radial velocity between the radar and\nthe target, that's r dot.",
    "start": "4187760",
    "end": "4196730"
  },
  {
    "text": "So now, if vr is\nnon-zero, if there is some relative radial\nmovement between the target",
    "start": "4196730",
    "end": "4203870"
  },
  {
    "text": "and the receiver,\nthat's going to induce a shift in the frequency-- in\nthe instantaneous frequency",
    "start": "4203870",
    "end": "4209239"
  },
  {
    "text": "of the signal that\nyou receive, that's called the Doppler shift. So the Doppler shift is equal\nto minus 2vr over c times fc.",
    "start": "4209240",
    "end": "4218600"
  },
  {
    "text": "And we all know the\ncarrier frequency, fc, is speed of light over wavelength. So you can also write that as\na function of the wavelength.",
    "start": "4218600",
    "end": "4226280"
  },
  {
    "text": "So your Doppler shift\nis minus 2 times the radial velocity\ndivided by the wavelength",
    "start": "4226280",
    "end": "4231650"
  },
  {
    "text": "that you're operating at. And it's in Hertz. So that's where the\nDoppler effect comes",
    "start": "4231650",
    "end": "4237739"
  },
  {
    "text": "from at the end of the day. Also, if you want, we can\nwrite the Doppler shift",
    "start": "4237740",
    "end": "4243890"
  },
  {
    "text": "in terms of the actual positions\nof the radar and the target. So if radar is at\nposition r prime,",
    "start": "4243890",
    "end": "4250310"
  },
  {
    "text": "and the target is at position\nr, and these are vectors in R3 now, what that\nradial velocity is--",
    "start": "4250310",
    "end": "4258860"
  },
  {
    "text": "so R now is equal to the\nnorm of r prime minus r.",
    "start": "4258860",
    "end": "4264010"
  },
  {
    "text": "So to calculate r dot, r\ndot becomes, basically, this expression here, which\nis little r dot minus little",
    "start": "4264010",
    "end": "4272890"
  },
  {
    "text": "r prime dot. And then this dot\nproduct with r hat, which is the unit vector\npointing from the radar",
    "start": "4272890",
    "end": "4279040"
  },
  {
    "text": "to the target is\nbasically projects that r dot minus r prime dot\ninto the radial direction.",
    "start": "4279040",
    "end": "4287050"
  },
  {
    "text": "And that gives you the\nradial velocity, basically. And that's your Doppler shift.",
    "start": "4287050",
    "end": "4292880"
  },
  {
    "text": "So just to summarize,\nwhat we showed is that when there is radial\nmovement between the radar",
    "start": "4292880",
    "end": "4302560"
  },
  {
    "text": "system and the target,\nwhat you receive, there is three, basically,\nthings happening.",
    "start": "4302560",
    "end": "4309140"
  },
  {
    "text": "There is an\nattenuation, not new. We had this before. There is a delay by the\nround trip time of flight.",
    "start": "4309140",
    "end": "4315500"
  },
  {
    "text": "So you get your transmitted\nwaveform at t minus tau. And there is a Doppler shift.",
    "start": "4315500",
    "end": "4321560"
  },
  {
    "text": "So that's where this e to the J\n2pi f Doppler t is coming from. So the receive signal is\nattenuated by alpha, delayed",
    "start": "4321560",
    "end": "4329440"
  },
  {
    "text": "by tau, which is the\nround trip time of flight, and its frequency is shifted\nby the Doppler shift, fd, OK?",
    "start": "4329440",
    "end": "4339080"
  },
  {
    "text": "Questions? Yes. In sonar, wouldn't this\nDoppler shift be a big effect,",
    "start": "4339080",
    "end": "4344619"
  },
  {
    "text": "[INAUDIBLE] in the speed of\nthese waves lesser than-- You said in sonar would it be? Yeah.",
    "start": "4344620",
    "end": "4350679"
  },
  {
    "text": "Let me answer that\nin a minute, OK? Yes, so that's a\nvery good question. I think the question\nis, why didn't we",
    "start": "4350680",
    "end": "4356710"
  },
  {
    "text": "talk about this in sonar? In sonar we should\nalso-- and we know we have a Doppler\nshift because I'm sure you have experienced it\nwhen you have-- you're out",
    "start": "4356710",
    "end": "4364167"
  },
  {
    "text": "on the street. There is a fire truck with\na siren coming towards you. You hear that shift in the\nfrequency of the siren.",
    "start": "4364167",
    "end": "4370600"
  },
  {
    "text": "That is Doppler shift. So it does happen in\nfor acoustic waves also, but we ignored it.",
    "start": "4370600",
    "end": "4376030"
  },
  {
    "text": "And I'll answer that\nquestion why in a minute. But before that, let's first\ntalk about the ranging in FMCW",
    "start": "4376030",
    "end": "4386739"
  },
  {
    "text": "radar. It's exactly like sonar. So you transmit a chirp,\nthat's the green one.",
    "start": "4386740",
    "end": "4392530"
  },
  {
    "text": "And then you receive\na chirp, that's the blue one, which is\ndelayed, and then attenuated,",
    "start": "4392530",
    "end": "4397840"
  },
  {
    "text": "and Doppler shifted. And then if you compare\nthe instantaneous frequency of the transmitted and receive\nchirp, they're going to have,",
    "start": "4397840",
    "end": "4406720"
  },
  {
    "text": "basically, the\ninstantaneous frequencies are going to differ by\nsome amount, delta f, OK.",
    "start": "4406720",
    "end": "4413200"
  },
  {
    "text": "And our signal model that now we\nare going to work with is this.",
    "start": "4413200",
    "end": "4420120"
  },
  {
    "text": "So our transmitted\nsignal is just e to the J 2pi fc plus\nlittle b is the slew",
    "start": "4420120",
    "end": "4425920"
  },
  {
    "text": "rate, bt over 2 times t. So by that definition, then\nour instantaneous frequency",
    "start": "4425920",
    "end": "4432880"
  },
  {
    "text": "goes from fc at time 0 to\nfc plus the slew rate times the big T, which is the\nchirp duration at time t.",
    "start": "4432880",
    "end": "4441130"
  },
  {
    "text": "And then what we\nreceive is st, delayed",
    "start": "4441130",
    "end": "4446679"
  },
  {
    "text": "by round trip time of\nflight, attenuated by alpha, and Doppler shifted. OK, now with this\nsignal model, how do we",
    "start": "4446680",
    "end": "4455110"
  },
  {
    "text": "estimate range and the radial\nvelocity or the Doppler shift? That's the problem\nwe want to solve.",
    "start": "4455110",
    "end": "4463910"
  },
  {
    "text": "Let's first see what we get\nout of the down converter. OK, so the down\nconverter essentially",
    "start": "4463910",
    "end": "4471070"
  },
  {
    "text": "multiplies the\nreceive signal by-- or the complex conjugate\nof the receive signal",
    "start": "4471070",
    "end": "4477100"
  },
  {
    "text": "by the transmitted chirp and\nextracts that delta f for you, exactly as we saw in\nthe case of sonar.",
    "start": "4477100",
    "end": "4483220"
  },
  {
    "text": "So this IF signal, which is the\noutput of the down converter is mu.",
    "start": "4483220",
    "end": "4488530"
  },
  {
    "text": "Mu is-- you can ignore it. It's just a gain of\nthe receiver amplifier. It's just a constant.",
    "start": "4488530",
    "end": "4493960"
  },
  {
    "text": "OK, if you don't like\nit, just cross it out. It Doesn't matter by any\nmeans for our analysis,",
    "start": "4493960",
    "end": "4499030"
  },
  {
    "text": "but I just included it to\nhave a complete signal model. So it takes the complex\nconjugate of received waveform",
    "start": "4499030",
    "end": "4507190"
  },
  {
    "text": "times the transmitted waveform. And then we plug in\nthe two signal models that we had into this.",
    "start": "4507190",
    "end": "4512590"
  },
  {
    "text": "You get two complex\nexponentials. This first one is the conjugate\nof the receive waveform.",
    "start": "4512590",
    "end": "4518530"
  },
  {
    "text": "And the second one is\nthe transmitted chirp. And then you simplify things.",
    "start": "4518530",
    "end": "4523780"
  },
  {
    "text": "I'm going to go a\ncouple of steps. What you get here is the\ntime dependence of it",
    "start": "4523780",
    "end": "4530860"
  },
  {
    "text": "inside the exponent\nis 2pi times b tau minus the Doppler shift times t.",
    "start": "4530860",
    "end": "4538120"
  },
  {
    "text": "And then you get this second\nterm, which is a phase term. So we can write it\nas mu times alpha e",
    "start": "4538120",
    "end": "4544480"
  },
  {
    "text": "to the J 2pi delta\nft plus phi of tau, which is our phase term. What is delta f?",
    "start": "4544480",
    "end": "4550510"
  },
  {
    "text": "What is phi? So delta f has two\ncontributions to it.",
    "start": "4550510",
    "end": "4556220"
  },
  {
    "text": "There is some f\nsub t that depends on the target range\nor the roundtrip,",
    "start": "4556220",
    "end": "4562870"
  },
  {
    "text": "basically time of flight. So this ft is your\nslew rate times tau.",
    "start": "4562870",
    "end": "4567970"
  },
  {
    "text": "And we know that tau is\n2R over C. R is the range.",
    "start": "4567970",
    "end": "4573100"
  },
  {
    "text": "C the speed of light. So this ft, basically,\ndetermines the range.",
    "start": "4573100",
    "end": "4580480"
  },
  {
    "text": "And then Doppler shift\nis the Doppler shift which, as we know,\nis proportional to the radial velocity or\nthe time derivative of range.",
    "start": "4580480",
    "end": "4589699"
  },
  {
    "text": "So here, you immediately\nsee there is a complication, because we were hoping that\nthe instantaneous frequency",
    "start": "4589700",
    "end": "4597190"
  },
  {
    "text": "of the IF signal, delta\nf would give us range, but now here, there is a\ncontribution from range.",
    "start": "4597190",
    "end": "4604482"
  },
  {
    "text": "And there's a contribution\nfrom velocity in it. There's this coupling. There's two terms\nthat go into delta f.",
    "start": "4604482",
    "end": "4609850"
  },
  {
    "text": "So if we just FFT this\nSIF and find the peak, would that really be range?",
    "start": "4609850",
    "end": "4615930"
  },
  {
    "text": "Maybe not, because random\nvelocity are coupled. And we need to clarify\nthat complication.",
    "start": "4615930",
    "end": "4622620"
  },
  {
    "text": "OK, and then phi of t,\nthis is just-- for now, it's a phase term. Later, it becomes\nvery important,",
    "start": "4622620",
    "end": "4627719"
  },
  {
    "text": "but this is the formula for it. There is no time,\nT dependency in it, but it depends on tau,\nand fc, and the slew rate.",
    "start": "4627720",
    "end": "4636240"
  },
  {
    "text": "It's the phase of IF signal. OK, so as I said, if you look at\nthe frequency of the IF signal,",
    "start": "4636240",
    "end": "4645250"
  },
  {
    "text": "what's coming out of\nthe down converter, it has two terms in it--",
    "start": "4645250",
    "end": "4653660"
  },
  {
    "text": "ft and fd for\nDoppler, t for target,",
    "start": "4653660",
    "end": "4659230"
  },
  {
    "text": "range depends on ft, by this\nformula, ft times c divided",
    "start": "4659230",
    "end": "4665200"
  },
  {
    "text": "by 2 times the slew rate. And the radial velocity\ndepends on the Doppler shift. We have this formula--",
    "start": "4665200",
    "end": "4670840"
  },
  {
    "text": "negative Doppler shift\ntimes lambda over 2. OK, again, this\nis a complication",
    "start": "4670840",
    "end": "4676000"
  },
  {
    "text": "because how can I decouple\nmy vr and R if I can only measure delta f, these two?",
    "start": "4676000",
    "end": "4682179"
  },
  {
    "text": "If I can only measure\none frequency, how can I decouple it? It turns out that for\nrobotic application,",
    "start": "4682180",
    "end": "4689530"
  },
  {
    "text": "this coupling is almost\nof no significance. Why? Because it turns out that\nfor almost all applications",
    "start": "4689530",
    "end": "4698230"
  },
  {
    "text": "you would be looking\nat, the Doppler shift is much, much, much\nsmaller than ft.",
    "start": "4698230",
    "end": "4703990"
  },
  {
    "text": "And you can assume this\nis 0 in comparison. Let's see why. Just to justify, let's\nsay you're working",
    "start": "4703990",
    "end": "4709929"
  },
  {
    "text": "with a 77 gigahertz radar. The slew rate is 30\nmegahertz per microsecond.",
    "start": "4709930",
    "end": "4716380"
  },
  {
    "text": "And range of the\ntarget is 20 meters. And the target is moving really\nfast, 45 meters per second.",
    "start": "4716380",
    "end": "4723590"
  },
  {
    "text": "So this is like\n100 miles an hour. So it's a very fast moving\ntarget, very close to you. So this is like a\nworst case condition,",
    "start": "4723590",
    "end": "4729790"
  },
  {
    "text": "where you're going to\nget a very high Doppler shift because the\nvelocity is very high. And you're going to\nget a very small ft",
    "start": "4729790",
    "end": "4737080"
  },
  {
    "text": "because R is relatively small. It's just 20 meters. But even in this case, if\nyou plug all these numbers",
    "start": "4737080",
    "end": "4743380"
  },
  {
    "text": "into expressions\nabove, you would see that ft ends up being 4\nmegahertz versus the Doppler",
    "start": "4743380",
    "end": "4749020"
  },
  {
    "text": "shift is just 23 kilohertz. So the Doppler shift\nis less than 1% of f.",
    "start": "4749020",
    "end": "4755290"
  },
  {
    "text": "And it's very safe to just\nignore it here and say, my delta f is equal to ft, which\nis equal to 2 slew rate times",
    "start": "4755290",
    "end": "4766830"
  },
  {
    "text": "range over c. And exactly like\nCTFM, you can just calculate your range from the\nfrequency of the IF signal.",
    "start": "4766830",
    "end": "4776100"
  },
  {
    "text": "Now back to the question, when\nwe were talking about CTFM, we didn't even\nmention Doppler shift.",
    "start": "4776100",
    "end": "4784290"
  },
  {
    "text": "And the reason is,\nthe situation in sonar is even simpler than this.",
    "start": "4784290",
    "end": "4790679"
  },
  {
    "text": "Even in the case\nof radar, we see that when you look at the\nfrequency of the IF signal, you can ignore\nDoppler because it's",
    "start": "4790680",
    "end": "4796620"
  },
  {
    "text": "so small compared\nto the frequency shift you get from the range. In the case of sonar, if you\nlook at some typical numbers,",
    "start": "4796620",
    "end": "4806050"
  },
  {
    "text": "it turns out that-- sonar we know,\ninherently, it's suited for applications where\nthings are not moving fast",
    "start": "4806050",
    "end": "4814740"
  },
  {
    "text": "because it's a slow sensor. So when you plug-in\nthe typical numbers",
    "start": "4814740",
    "end": "4820410"
  },
  {
    "text": "that you have for sonar,\nin the case of the sonar, you would see that the\nDoppler shifts that you",
    "start": "4820410",
    "end": "4826410"
  },
  {
    "text": "would get are sub kilohertz. They are so low that it's\nnot even worth mentioning it.",
    "start": "4826410",
    "end": "4831750"
  },
  {
    "text": "We didn't even bother with\nit for the case of sonar. For the case of\nradar, it's important",
    "start": "4831750",
    "end": "4838012"
  },
  {
    "text": "because we see--\nright now, we are looking at the frequency\nof the IF signal. And for frequency, we\ncan ignore Doppler,",
    "start": "4838013",
    "end": "4844199"
  },
  {
    "text": "but when we look at the\nphase term, that phi term that we'll look at, that\nhas a Doppler contribution",
    "start": "4844200",
    "end": "4850950"
  },
  {
    "text": "that is non-negligible. But just to summarize again,\nwhen it comes to ranging, range estimation in\nFMCW radar, we just--",
    "start": "4850950",
    "end": "4859199"
  },
  {
    "text": "exactly like CTFM\nsonar, we assume that the frequency of the\nIF signal is equal to ft.",
    "start": "4859200",
    "end": "4867750"
  },
  {
    "text": "And then we can just estimate\nrange from that frequency by doing delta f times\nc over 2 times b.",
    "start": "4867750",
    "end": "4878760"
  },
  {
    "text": "What if you have\nmultiple targets? If you have many targets that\nare echoing at the same time",
    "start": "4878760",
    "end": "4885120"
  },
  {
    "text": "and you receive, from\none chirp that you send, you receive, say, echoes\nfrom k different targets,",
    "start": "4885120",
    "end": "4891239"
  },
  {
    "text": "same thing still works because\nbased on the superposition principle, the signal\nthat you receive",
    "start": "4891240",
    "end": "4897690"
  },
  {
    "text": "is the sum of the echoes from\nall these different targets. So IF signal would just\nbe mu times the summation",
    "start": "4897690",
    "end": "4905340"
  },
  {
    "text": "of these IF terms\nwhich have delta f i, which are proportional\nto the range",
    "start": "4905340",
    "end": "4911040"
  },
  {
    "text": "of these k different targets. And each has its own phase term. Again, we'll talk about\nthis phase term later,",
    "start": "4911040",
    "end": "4917880"
  },
  {
    "text": "but the delta fs are basically\nwhat's important for ranging.",
    "start": "4917880",
    "end": "4923070"
  },
  {
    "text": "Here is in a visual manner. So if you have one antenna with\na very wide radiation pattern,",
    "start": "4923070",
    "end": "4929469"
  },
  {
    "text": "so the screen thing is\nthe radiation pattern of your antenna. It's radiating a\nvery wide angle.",
    "start": "4929470",
    "end": "4934840"
  },
  {
    "text": "And in this case, we have three\ntargets that are being hit. And all three are\nechoing at the same time",
    "start": "4934840",
    "end": "4939990"
  },
  {
    "text": "at ranges R1, R2, and R3. So you receive-- the green\nis the chirp that you sent.",
    "start": "4939990",
    "end": "4947160"
  },
  {
    "text": "And then you\nreceive three chirps with three different\ntypes of flights-- tau1, tau2, tau3.",
    "start": "4947160",
    "end": "4952770"
  },
  {
    "text": "And each induces a\nfrequency in the if signal, call that delta f1, delta\nf2, and delta 3 which",
    "start": "4952770",
    "end": "4960270"
  },
  {
    "text": "are proportional to the\nrange of the three targets. So we can see that\nif we just FFT this,",
    "start": "4960270",
    "end": "4967170"
  },
  {
    "text": "we should see three peaks at\nthe corresponding frequencies of the three different signals,\nthree different targets.",
    "start": "4967170",
    "end": "4975269"
  },
  {
    "text": "I think this is a\ngood place to stop. And we'll continue next time. Any questions?",
    "start": "4975270",
    "end": "4981940"
  },
  {
    "text": "Thank you very much. ",
    "start": "4981940",
    "end": "4988000"
  }
]