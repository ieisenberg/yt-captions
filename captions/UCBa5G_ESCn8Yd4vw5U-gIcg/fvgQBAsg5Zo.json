[
  {
    "start": "0",
    "end": "7430"
  },
  {
    "text": "OK, we're live. Good afternoon CS109! How are you guys doing today? [WEAK CHEERS] ",
    "start": "7430",
    "end": "12894"
  },
  {
    "text": "Let's try that again. It's a Friday. How are you guys doing? [CHEERS] Yay! [CHUCKLES] I appreciate,\nlike, you know.",
    "start": "12895",
    "end": "19100"
  },
  {
    "text": "What are we, week four? I think we're week four. It's like a little\nbit harder to, like,",
    "start": "19100",
    "end": "24177"
  },
  {
    "text": "midterms are coming\naround the corner. Speaking of which, we have\nour midterms not next week but the week after in CS109.",
    "start": "24177",
    "end": "29990"
  },
  {
    "text": "And the one big announcement\nfor that is please do fill up that form to let us\nknow if you're going to take it",
    "start": "29990",
    "end": "35390"
  },
  {
    "text": "on a Tuesday or Wednesday. We need to make sure that\nwe have enough seats, and that will depend\non how many people",
    "start": "35390",
    "end": "40460"
  },
  {
    "text": "are showing up on each day. So you're doing us a huge favor,\nso absolutely if you could please fill out that form. OK.",
    "start": "40460",
    "end": "46940"
  },
  {
    "text": "And we have a\nwonderful class today. We're going to be\nlearning about inference, how we're going to\nchange our beliefs",
    "start": "46940",
    "end": "52310"
  },
  {
    "text": "in the face of new information. What an incredibly\nimportant thing to know how to do\nwith random variables,",
    "start": "52310",
    "end": "58130"
  },
  {
    "text": "and we're going to learn\nhow to do it today. It's a Friday, so I thought I\nwould tell you guys a story.",
    "start": "58130",
    "end": "66090"
  },
  {
    "text": "Let's see. I told you guys the story\nof how my parents met.",
    "start": "66090",
    "end": "72090"
  },
  {
    "text": "And normally, I save this\nfor the end of the quarter, but I was going to\nstart telling you",
    "start": "72090",
    "end": "77220"
  },
  {
    "text": "guys about how I met my wife\nbecause I love love stories. So, you know, well,\nI'll tell you guys",
    "start": "77220",
    "end": "82970"
  },
  {
    "text": "a little bit about this. And it's kind of interesting\nbecause, you know, I'd like to tell you\nabout stories that have taken place since then.",
    "start": "82970",
    "end": "88215"
  },
  {
    "text": "So I met my wife not\nduring my Coterm year but the year after my Coterm.",
    "start": "88215",
    "end": "93450"
  },
  {
    "text": "So I did a Coterm at Stanford. And then after I finished my\nCoterm, I'm like, I'm done. I'm out of here. I took the entire year off.",
    "start": "93450",
    "end": "98850"
  },
  {
    "text": "I got into a PhD\nprogram, I was like, don't call me for,\nyou know, 365 days. And in that time, I went back\nto Kenya, which was lovely,",
    "start": "98850",
    "end": "105658"
  },
  {
    "text": "and I spent a few months there. And at some point, I decided-- I had this great idea. And I was like,\nin a whole year, I was going to slowly make\nmy way back to campus.",
    "start": "105658",
    "end": "112630"
  },
  {
    "text": "And so I started\ntraveling, and I made it all the way to Greece. But it was 2011, and there was\nan economic crisis in Greece.",
    "start": "112630",
    "end": "121950"
  },
  {
    "text": "And I was on a ferry and,\nthe ferry conductor says, wherever you get off,\nyou're not leaving because there's not going to\nbe a ferry for several weeks.",
    "start": "121950",
    "end": "129270"
  },
  {
    "text": "So I chose an island. And it turns out that\nmy wife-to-be also",
    "start": "129270",
    "end": "135660"
  },
  {
    "text": "got stuck on the same\nisland for similar reasons. And because there\nis no way on or off, and it was a small island, we\nkept running into each other.",
    "start": "135660",
    "end": "142590"
  },
  {
    "text": "Like, we just met each other-- I was sitting on\na wall, and she's like, this is a nice view. And I'm like, yeah. And we'd have the most wonderful\ntwo-minute conversation.",
    "start": "142590",
    "end": "150168"
  },
  {
    "text": "But then the person\nI was waiting for came, and we were\nsupposed to go for a walk. And then my wife, now-wife,\nwas like, can I come with you?",
    "start": "150168",
    "end": "156240"
  },
  {
    "text": "And the person who\nI met was like, no. [LAUGHTER] And that could have been\nthe end of the story. But since we were stuck\non the same island,",
    "start": "156240",
    "end": "162902"
  },
  {
    "text": "we saw each other a few times. And like, we were running to\neach other, and I'd be like, hey, I remember you.",
    "start": "162902",
    "end": "168540"
  },
  {
    "text": "But then one day,\nthe strikes ended. There was a ways\noff the islands,",
    "start": "168540",
    "end": "174360"
  },
  {
    "text": "and we went\ndifferent directions. And I genuinely thought I would\nnever see this person again. Until a few days later,\nI'd made my way to Athens,",
    "start": "174360",
    "end": "182160"
  },
  {
    "text": "and I got a message. And it says, hi, Chris. You know, I was\nthinking about it, and it's really\nnice to meet you.",
    "start": "182160",
    "end": "187855"
  },
  {
    "text": "I'm going to be in Northern\nRomania in, like, three days. Come join. Or two days.",
    "start": "187855",
    "end": "193160"
  },
  {
    "text": "And I was like, oh, that\nsounds really exciting. But there's no way\nI can cross so much",
    "start": "193160",
    "end": "198790"
  },
  {
    "text": "of Europe in just two days. I couldn't afford\nthe flight because I didn't have that much money,\nI couldn't afford a train,",
    "start": "198790",
    "end": "205240"
  },
  {
    "text": "and a bus was too slow\nto get me there in time. And that could have been\nthe end of the story, but somebody--\nthis is a bad idea,",
    "start": "205240",
    "end": "210560"
  },
  {
    "text": "don't do this at home--\nconvinced me that hitchhiking was a reasonable thing. And they sent me to, like,\nathenshitchhiking.com",
    "start": "210560",
    "end": "215950"
  },
  {
    "text": "where it had, like, step-by-step\ninstructions on how to do it. It's like you get a sign,\nand you stick your thumb up. And they tell you where\nto go, and I went there.",
    "start": "215950",
    "end": "222520"
  },
  {
    "text": "And nothing, three\nhours just standing on the side of a\nhighway and be like, what am I doing with my life?",
    "start": "222520",
    "end": "227530"
  },
  {
    "text": "But then, at some\npoint, a motorcyclist took me a little bit further. And then a car took me\na little bit further.",
    "start": "227530",
    "end": "232629"
  },
  {
    "text": "And then another car took\nme a little bit further. And I was really stuck\nin the middle of nowhere. And now, when I was\nthere for three hours,",
    "start": "232630",
    "end": "237900"
  },
  {
    "text": "I was like, this\ncould be dangerous. But I was at a rest stop,\nand a truck pulled in.",
    "start": "237900",
    "end": "243310"
  },
  {
    "text": "And he went to sleep. And three hours later, when\nthe truck driver woke up,",
    "start": "243310",
    "end": "248440"
  },
  {
    "text": "I put my little sign up. And he opened his door,\nand he said, come on in. And he gave me a long ride.",
    "start": "248440",
    "end": "254110"
  },
  {
    "text": "And the most wonderful\nthing happened. It was like an eight-hour\nride, and I fell asleep, which, I could have died.",
    "start": "254110",
    "end": "259959"
  },
  {
    "text": "But instead of\ndying, he woke me up. And he was like, Chris,\nwhile you're asleep, I called all my friends,\nand I told them the story.",
    "start": "259959",
    "end": "266755"
  },
  {
    "text": "I told him I was going\nto go meet this girl I met, which he liked. And he said, I told\nall my friends, and tonight you're going\nto come to my house.",
    "start": "266755",
    "end": "273010"
  },
  {
    "text": "We'll feed you, we'll\ngive you clothes. Or we'll clean your clothes. I'm like, hey, I'm pretty clean.",
    "start": "273010",
    "end": "278830"
  },
  {
    "text": "And then we'll get you-- all my friends are\ngoing to pitch together. We'll buy a flight so you\ncan make it there on time. And this is a\nstranger who's already",
    "start": "278830",
    "end": "286000"
  },
  {
    "text": "doing a nice thing for me. In the moment of\na crisis, like, he must have felt some fear\nfor what this crisis is",
    "start": "286000",
    "end": "291850"
  },
  {
    "text": "going to mean for him. 2011 was a pretty serious\ncrisis for Greece. And he was just so\ngenerous, and it's",
    "start": "291850",
    "end": "298810"
  },
  {
    "text": "hard to name somebody that\nis so generous in my life. Of course, I said no,\nthough, because even though I",
    "start": "298810",
    "end": "304150"
  },
  {
    "text": "didn't have very\nmuch money, that was too much for me to accept. So what he did instead\nis he snuck 20 euros into my backpack.",
    "start": "304150",
    "end": "309642"
  },
  {
    "text": "But more importantly, he\nset me up with his friends. So like, when I got off,\nanother friend took me. And then they would call ahead.",
    "start": "309643",
    "end": "315010"
  },
  {
    "text": "And I got, like, a chain of\nfour trucks that got me all the way to Northern Romania. And I remember like-- I don't know.",
    "start": "315010",
    "end": "320300"
  },
  {
    "text": "I was like 22 years old? And I walked across\ninto Bulgaria in the middle of\nthe night in, like,",
    "start": "320300",
    "end": "325540"
  },
  {
    "text": "late October, around\nthis time of year. And this truck pulls up. He's like, are you Chris? I'm like, yes.",
    "start": "325540",
    "end": "330773"
  },
  {
    "text": "He's like, are you\ngoing to go meet? Like, yeah, that's me. And I just got in\nthis person's truck. Anyways, I'll tell you\nthe rest of the story",
    "start": "330773",
    "end": "337270"
  },
  {
    "text": "over another Friday. But we'll leave that as a\nlittle bit of suspense for now.",
    "start": "337270",
    "end": "343930"
  },
  {
    "text": "But we know how it ends.  But the details are\nworth recounting.",
    "start": "343930",
    "end": "349840"
  },
  {
    "text": "Also worth recounting\nis today's topic. We are going to learn\nsuch a crazy cool idea.",
    "start": "349840",
    "end": "354880"
  },
  {
    "text": "I split this amazing\nidea into two lectures. And I did restructure\nCS109 little bit",
    "start": "354880",
    "end": "360280"
  },
  {
    "text": "because when I\nthought about it, I was like, this is one of those\n10 out of 10 things you really, really want to know\ndeep in your veins",
    "start": "360280",
    "end": "367090"
  },
  {
    "text": "when you walk out of CS109. So I slowed down a little bit\nso that I can give you guys this pretty hard idea in\ntwo different lectures.",
    "start": "367090",
    "end": "374332"
  },
  {
    "text": "So you guys are\ngoing to be putting on your pretty hard\nthinking hats today, and we're going to\nsee if we can work through this idea of inference.",
    "start": "374332",
    "end": "380349"
  },
  {
    "text": "And inference is a very formal\nname for if you see evidence, how do you change your PMF or\nyour PDF of a random variable,",
    "start": "380350",
    "end": "389170"
  },
  {
    "text": "not just your belief in an\nevent but the entire PDF. And that's what we call\ninference, fancy name for a relatively\nstraightforward concept.",
    "start": "389170",
    "end": "397030"
  },
  {
    "text": "And as always, I've\ngotten in the habit-- this is the first\nquarter I've really done this-- of putting all\nthe questions for the lectures",
    "start": "397030",
    "end": "404290"
  },
  {
    "text": "into the PSET app. And you can find them\non the course website. But by this point in the\ncourse, you probably know that.",
    "start": "404290",
    "end": "410230"
  },
  {
    "text": "Where are we? We're in the part\nof the class where we're talking about multiple\nrandom variables being random together.",
    "start": "410230",
    "end": "415660"
  },
  {
    "text": "And particularly,\nI want to give you an idea of where are we\nlocally, and what are we going to do in the world\nof probabilistic models.",
    "start": "415660",
    "end": "421960"
  },
  {
    "text": "First, we introduce the\nconcept of many random-- many variables being random\ntogether through the world",
    "start": "421960",
    "end": "427750"
  },
  {
    "text": "of discrete models. So many random variables,\nthat can just take on discrete values themselves. We learned about joints.",
    "start": "427750",
    "end": "433310"
  },
  {
    "text": "In particular, joint\nprobability tables. And then we were introduced to\nour first joint model called",
    "start": "433310",
    "end": "439039"
  },
  {
    "text": "the multinomial. Today we're going\nto learn inference. An inference is\nthe task of how do",
    "start": "439040",
    "end": "444350"
  },
  {
    "text": "you change a random variable's\nbelief in a probabilistic model when you see observations. But the other task that you're\ngoing to learn in this section",
    "start": "444350",
    "end": "451270"
  },
  {
    "text": "is we're going to do a\nlittle bit of modeling. How could you create your\nown probabilistic model?",
    "start": "451270",
    "end": "456530"
  },
  {
    "text": "And then finally, I'm\ngoing to teach you a really cool randomized\nalgorithm that you can use for solving\ninference problems",
    "start": "456530",
    "end": "462980"
  },
  {
    "text": "for any probabilistic model. So that's our journey. And it starts,\nwell, on Wednesday,",
    "start": "462980",
    "end": "469039"
  },
  {
    "text": "and it continues\nwith inference today. Some learning goals. We're going to continue\nour conversation",
    "start": "469040",
    "end": "474229"
  },
  {
    "text": "about the multinomial. I hope by the end\nof today's class, you really appreciate the\nutility of log probabilities.",
    "start": "474230",
    "end": "479810"
  },
  {
    "text": "And then finally, we're\ngoing to really focus on improving your\nability to combine",
    "start": "479810",
    "end": "485030"
  },
  {
    "text": "Bayes' theorem with random\nvariables, two great tastes that taste great together. There are a few things\nwe're going to use today.",
    "start": "485030",
    "end": "494240"
  },
  {
    "text": "And here's one of them that\nyou probably haven't seen and you probably haven't\nthought of because it",
    "start": "494240",
    "end": "500660"
  },
  {
    "text": "seems nonsensical. You wouldn't really use it\nin a probability problem, but sometimes it\nshows up in proofs.",
    "start": "500660",
    "end": "506720"
  },
  {
    "text": "Recall, when you have a\ncontinuous random variable, one of the ways\nof representing it is using this probability\ndensity function.",
    "start": "506720",
    "end": "512479"
  },
  {
    "text": "Like, this could be the\nprobability density function of, let's say, an\nexponential random variable.",
    "start": "512480",
    "end": "517789"
  },
  {
    "text": "And an exponential\nrandom variable take on continuous values. We don't really think\nabout the probability",
    "start": "517789",
    "end": "525000"
  },
  {
    "text": "of it taking on\none specific value as having too much\nmeaning, right? Like, what's the probability\nthat the height of a baby",
    "start": "525000",
    "end": "531810"
  },
  {
    "text": "is 4 pounds? 0.00000000000, like,\ninfinite precision?",
    "start": "531810",
    "end": "537420"
  },
  {
    "text": "It doesn't have meaning because\nall babies will be slightly different than that number. No baby will be exactly\nequal to infinite precision.",
    "start": "537420",
    "end": "544900"
  },
  {
    "text": "That still holds true, yet there\nis this one calculus intuition that I want to remind\nyou of because we're",
    "start": "544900",
    "end": "550900"
  },
  {
    "text": "going to use it in some proofs. If you ask about the\nprobability of a baby being 4 to infinite precision\nzeros, doesn't make sense.",
    "start": "550900",
    "end": "558889"
  },
  {
    "text": "But if you allow for\na range of values, you say, like, 4 plus or minus\n0.01, that does make sense.",
    "start": "558890",
    "end": "564922"
  },
  {
    "text": "You can say, what's\nthe probability that a baby is in that range? Does that make sense? So if you have a range,\nyou get a probability.",
    "start": "564922",
    "end": "572380"
  },
  {
    "text": "And so sometimes we think about\nthe smallest range possible.",
    "start": "572380",
    "end": "577710"
  },
  {
    "text": "And we call this\nthe epsilon range. If you haven't seen\nepsilon before, we use it in mathematics\nto represent the smallest",
    "start": "577710",
    "end": "583680"
  },
  {
    "text": "number possible, so the\nlimit of a number as it goes towards zero. So you can take a density and\nmultiply it by this epsilon.",
    "start": "583680",
    "end": "591570"
  },
  {
    "text": "And that is one\nvery calculusy way to think about the probability\nthat a continuous random",
    "start": "591570",
    "end": "597600"
  },
  {
    "text": "variable takes on a value. I'm just going to plant\nthis seed in your mind. We're going to use\nit again later,",
    "start": "597600",
    "end": "603330"
  },
  {
    "text": "and then we'll revisit it. But I just want to start\nthat idea germinating.",
    "start": "603330",
    "end": "609690"
  },
  {
    "text": "To show you how you might\nuse that particular idea, here's an interesting question.",
    "start": "609690",
    "end": "615915"
  },
  {
    "text": "I'm going to say the\ntime to finish a problem set is given by a Gaussian. Recall that a Gaussian is a\ncontinuous random variable.",
    "start": "615915",
    "end": "622060"
  },
  {
    "text": "So if this is a\nGaussian for how long it takes to finish\nproblem set 3, you could think about\nwhat's the probability",
    "start": "622060",
    "end": "628500"
  },
  {
    "text": "density at, say, 10\nhours or the probability density at five hours.",
    "start": "628500",
    "end": "633720"
  },
  {
    "text": "The question I'd like to think\nabout is, how much more likely are you to complete in 10\nhours than in five hours?",
    "start": "633720",
    "end": "640690"
  },
  {
    "text": "At first blush, you might\nthink this is nonsensical because its probability is zero\nthat you finish in exactly 10",
    "start": "640690",
    "end": "647355"
  },
  {
    "text": "hours, and probability\nis zero that you finish in exactly five hours. But it turns out in\nthe limit, this 0",
    "start": "647355",
    "end": "653870"
  },
  {
    "text": "could be interpreted differently\nto give it some meaning. You could say,\nactually, I do think",
    "start": "653870",
    "end": "659358"
  },
  {
    "text": "it's more likely to finish\nin 10 hours than five hours. If you look at the\nGaussian, at 10 hours, the PDF is much higher\nthan at five hours.",
    "start": "659358",
    "end": "666870"
  },
  {
    "text": "So how could we make\nsense of this statement in light of our idea that\nprobability of x equals 10",
    "start": "666870",
    "end": "672420"
  },
  {
    "text": "is probably a zero number\nand probability of x equals 5 is also a zero number.",
    "start": "672420",
    "end": "678130"
  },
  {
    "text": "Well, to better\nunderstand this, we can use that epsilon trick\nthat we just talked about. We can say, this\nprobability that x equals 10",
    "start": "678130",
    "end": "685660"
  },
  {
    "text": "is actually the\ndensity at 10 times by some really tiny range. I'm not going to specify\nhow tiny the range is,",
    "start": "685660",
    "end": "691540"
  },
  {
    "text": "but I want one that's\nreally, really small. And I can do the same thing,\ntake the density at 5--",
    "start": "691540",
    "end": "697180"
  },
  {
    "text": "so five hours to\nfinish your problem set-- and multiply it by the\nsame width, tiny, tiny range.",
    "start": "697180",
    "end": "703290"
  },
  {
    "text": "These epsilons are\ntotally problematic. If they end up in the\nend of your answer, there's nothing\nyou can do with it.",
    "start": "703290",
    "end": "708620"
  },
  {
    "text": "It's polluted your answer. But they're helpful\nwhen they cancel. And as you can see here,\nby putting this epsilon",
    "start": "708620",
    "end": "715350"
  },
  {
    "text": "range on the top and\nputting this epsilon range on the bottom, I\ngot meaningful statements. These epsilons are like\ninfinitely small numbers,",
    "start": "715350",
    "end": "722760"
  },
  {
    "text": "but they exactly\ncancel each other out, which leads us to\nthis question, which",
    "start": "722760",
    "end": "729053"
  },
  {
    "text": "is hard to think\nabout is actually equal to just the ratio of\nthe probability densities.",
    "start": "729053",
    "end": "734550"
  },
  {
    "text": "That feels intuitive. It's saying, the ratio of the\nprobability density at 10 to 5 tells us how much\nmore likely you",
    "start": "734550",
    "end": "741270"
  },
  {
    "text": "are to complete at 10\nhours than five hours. And at this point, we're going\nto use this beautiful equation",
    "start": "741270",
    "end": "747689"
  },
  {
    "text": "that we've talked a lot\nabout but haven't used yet. This is the normal\nprobability density function.",
    "start": "747690",
    "end": "752790"
  },
  {
    "text": "Looks rather scary, but it's\njust a beautiful probability density function equation. And I'm just plugging in 10.",
    "start": "752790",
    "end": "758730"
  },
  {
    "text": "And we can use mu\nand the variance. We can plug in\nthose numbers too. And eventually, once you\nplug in all those numbers,",
    "start": "758730",
    "end": "765295"
  },
  {
    "text": "you end up with a\nreduction that goes e to the power of 0 divided by\ne to the negative 25 over 4,",
    "start": "765295",
    "end": "771330"
  },
  {
    "text": "which is a 518. So we can give a semantic\nanswer to how much more likely",
    "start": "771330",
    "end": "776760"
  },
  {
    "text": "are you to complete a problem\nset in 10 hours than in five. Is that a mind-blowing way\nto start a Friday or what?",
    "start": "776760",
    "end": "783510"
  },
  {
    "text": "So the long story short, there\nis this trick you can use. When you talk about\nthe probability",
    "start": "783510",
    "end": "789930"
  },
  {
    "text": "of a continuous random\nvariable equaling a number, you can either think of\nthat as just being 0, or you can think about\nit as the density times",
    "start": "789930",
    "end": "796840"
  },
  {
    "text": "by the tiniest range possible. Questions, comments,\nconcerns, arguments?",
    "start": "796840",
    "end": "803700"
  },
  {
    "text": "Anyone have something they\nwant to ask about this? Yes?",
    "start": "803700",
    "end": "809180"
  },
  {
    "text": "What does the 518\nrepresent again? It's saying, this 518\nis the ratio of these.",
    "start": "809180",
    "end": "815240"
  },
  {
    "text": "So it's saying, you're\n518 times more likely to finish it in 10 hours\nthan in five hours.",
    "start": "815240",
    "end": "821330"
  },
  {
    "text": "So it gives you some idea\nthat this is much more likely according to this Gaussian.",
    "start": "821330",
    "end": "826430"
  },
  {
    "text": "OK? [INAUDIBLE] It's certainly\nnot a probability.",
    "start": "826430",
    "end": "833040"
  },
  {
    "text": "It's a ratio of probabilities. It's saying, you know, how\nmuch bigger is this probability than that probability?",
    "start": "833040",
    "end": "838860"
  },
  {
    "text": "Some people will\ncall that an odds, but we can talk about\nthat another day. Yes?",
    "start": "838860",
    "end": "844410"
  },
  {
    "text": "I thought in the past\nthat probability, like, the probability that x is\n[? equal to ?] something, equal to, like,\nthe PMF associated",
    "start": "844410",
    "end": "851310"
  },
  {
    "text": "with that probability. I thought it was just, like,\nprobability of x equals 10 is equal to the\nPMF of x equals 10.",
    "start": "851310",
    "end": "856649"
  },
  {
    "text": "Ah. [INAUDIBLE] OK. Good, good, good question. What you said is completely\ncorrect in the discrete case.",
    "start": "856650",
    "end": "863740"
  },
  {
    "text": "So if x is a discrete random\nvariable like a binomial, how many coins-- how\nmany heads do I get? Those are countable.",
    "start": "863740",
    "end": "869310"
  },
  {
    "text": "It's discrete. It can be one, two, or three. And if you want to know the\nprobability that x equals 10, you just look up in the\nprobability mass function,",
    "start": "869310",
    "end": "875293"
  },
  {
    "text": "100% correct. In the continuous case,\nthough, it's not just the probability mass function.",
    "start": "875293",
    "end": "881240"
  },
  {
    "text": "You can think of it as being\nvery similar to the probability density function. That's really what's\nhappening here. We're just using the ratio\nof the probability density",
    "start": "881240",
    "end": "888048"
  },
  {
    "text": "functions. But probability densities\nare not probabilities. And I just wanted\nto talk about that.",
    "start": "888048",
    "end": "894740"
  },
  {
    "text": "So in a continuous case,\nwhen you say x equals 10, it's a much more\ncomplicated claim than saying a discrete thing\nis it takes on the value 10.",
    "start": "894740",
    "end": "902120"
  },
  {
    "text": "Because in math, continuous\nthings have infinite precision. OK.",
    "start": "902120",
    "end": "907300"
  },
  {
    "text": "As I said, this is just\na warm up to an idea. I want to let it\ngerminate a little bit, and we'll come\nback to this later",
    "start": "907300",
    "end": "912520"
  },
  {
    "text": "when we talk about inference. We also talked about when random\nvariables are random together.",
    "start": "912520",
    "end": "919510"
  },
  {
    "text": "So we introduced ourselves\nto this concept on Wednesday, and we thought about random\nvariables being random",
    "start": "919510",
    "end": "924700"
  },
  {
    "text": "together. And we had this\nfun little example of two random variables. One random variable, which is\nwhat year are you at Stanford?",
    "start": "924700",
    "end": "931360"
  },
  {
    "text": "And the other random variable\nrepresents, well, in this case, I think we talked-- oh, yeah.",
    "start": "931360",
    "end": "936580"
  },
  {
    "text": "We talked about relationship\nstatus last time, but here's a new data\nfor some excitement. This is, what is\nthe room situation?",
    "start": "936580",
    "end": "944259"
  },
  {
    "text": "And this was collected a few\nyears ago in CS109 anonymously. And so this-- if you have\nthese two random variables,",
    "start": "944260",
    "end": "952070"
  },
  {
    "text": "the be-all and end-all, the most\nuseful thing you can have is what we call a joint\ndistribution, which says,",
    "start": "952070",
    "end": "958279"
  },
  {
    "text": "I have a way of\ntelling the probability of any joint assignment to\neach of my random variables.",
    "start": "958280",
    "end": "963870"
  },
  {
    "text": "So what's the probability that\nyear is junior and two-room double equals-- and the room type\nequals two-room double.",
    "start": "963870",
    "end": "970940"
  },
  {
    "text": "If you added up all\nthese probabilities, they should be 1. If you add up any row, you\nmarginalize out the rooms,",
    "start": "970940",
    "end": "976680"
  },
  {
    "text": "and you're left with just\nthe probability of the year. So this is probably of freshman,\nsophomore, junior, senior, five plus.",
    "start": "976680",
    "end": "982820"
  },
  {
    "text": "And if you sum up the columns,\nyou marginalize out the year, and you're just left with\nthe probability of somebody",
    "start": "982820",
    "end": "988670"
  },
  {
    "text": "having roommates, two-room\ndoubles, shared partner, or a single.",
    "start": "988670",
    "end": "994000"
  },
  {
    "text": "OK, a little bit of review. Joint distribution. If you have a\nprobabilistic model,",
    "start": "994000",
    "end": "999589"
  },
  {
    "text": "if you have more than\none random variable, this is the thing you\nreally care about. It's the probability\nmass function equivalent",
    "start": "999590",
    "end": "1005170"
  },
  {
    "text": "for multiple random variables. And it's where you give\nme a statement which says, what's the probability of\nthis particular assignment",
    "start": "1005170",
    "end": "1010860"
  },
  {
    "text": "to my first random variable\nand this particular assignment to other random variable? Remember, this comma means and.",
    "start": "1010860",
    "end": "1017080"
  },
  {
    "text": "If you have more than\ntwo random variables, you want to have a\nexpression that can tell you",
    "start": "1017080",
    "end": "1024248"
  },
  {
    "text": "the likelihood of all\nthose assignments happening at the same time. This joint distribution\nis important because if somebody\ngives me the joint,",
    "start": "1024248",
    "end": "1030285"
  },
  {
    "text": "I can calculate any probability\nquestion anyone could ever want to know about my model.",
    "start": "1030285",
    "end": "1035679"
  },
  {
    "text": "Notation, I just want to\ntalk about it for a second. Hey, my slides are a\nlittle bit slower on here than on my computer. There you go.",
    "start": "1035680",
    "end": "1041439"
  },
  {
    "text": "Notation. I don't want to lose\nanybody on this, but this shorthand\nbecomes so common",
    "start": "1041440",
    "end": "1048079"
  },
  {
    "text": "when you have multiple\nrandom variables that you need to know it. I will often try and use\nthe top notation when I can,",
    "start": "1048080",
    "end": "1054760"
  },
  {
    "text": "but often that's not\npossible if there's lots of random variables. The top expression says\nexactly what I want.",
    "start": "1054760",
    "end": "1061130"
  },
  {
    "text": "What's the probability that\nthis random variable equals this number and this\nother random variable equals this second\nnumber, little y?",
    "start": "1061130",
    "end": "1067549"
  },
  {
    "text": "Where the little numbers-- the little y's represent that-- I expect you to put\nnon-random values in there.",
    "start": "1067550",
    "end": "1075150"
  },
  {
    "text": "That takes up too much space, so\nsome people write it like this. And then other people\nare like, you know,",
    "start": "1075150",
    "end": "1080445"
  },
  {
    "text": "the capital X kind of\nimplies the lowercase x, and the capital Y\nimplies the lowercase y, so it's a bit redundant.",
    "start": "1080445",
    "end": "1086640"
  },
  {
    "text": "What if we just wrote\nthis, and everyone can just know that when we write\nthis, we mean that?",
    "start": "1086640",
    "end": "1092429"
  },
  {
    "text": "And it's like, what? This is like talking about\nthe probability of constants. What are you doing?",
    "start": "1092430",
    "end": "1097902"
  },
  {
    "text": "But that's the notation\npeople often use. So if you see a\nprobability like this,",
    "start": "1097902",
    "end": "1103500"
  },
  {
    "text": "just know that it's implying a\nfull probability statement that has proper events.",
    "start": "1103500",
    "end": "1108809"
  },
  {
    "text": "And the proper events\nare equality events, and the implied\nrandom variables are the capitals of what you see.",
    "start": "1108810",
    "end": "1114600"
  },
  {
    "text": "Boo, mind-blowing. OK. Anyways, joints, they're\nreally important.",
    "start": "1114600",
    "end": "1122029"
  },
  {
    "text": "We had this problem, though. We would start to represent\nprobabilistic models with joint tables. And that was a\ngood time until we",
    "start": "1122030",
    "end": "1128683"
  },
  {
    "text": "started-- until\nwe started putting a couple random\nvariables together. And once you had more\nthan two random variables,",
    "start": "1128683",
    "end": "1133700"
  },
  {
    "text": "we realized that the\nsize of your joint table would grow exponentially. And that's a problem for\nrepresenting a computer.",
    "start": "1133700",
    "end": "1139970"
  },
  {
    "text": "It's also a problem\nfor the scientists who are trying to come up\nwith the probability values. So our solution\nwas, are there ways",
    "start": "1139970",
    "end": "1146780"
  },
  {
    "text": "we can model the\nworld so that you can represent a joint without\nhaving to write a full--",
    "start": "1146780",
    "end": "1153710"
  },
  {
    "text": "or a joint probability table. Welcome the multinomial. Multinomial answered\nthe question,",
    "start": "1153710",
    "end": "1159080"
  },
  {
    "text": "if I were to roll n\ndice, where each dice has m different outcomes, what's\nthe probability of seeing",
    "start": "1159080",
    "end": "1165140"
  },
  {
    "text": "c1 outcomes of type 1,\nc2 outcomes of type 2, and cm outcomes of type m?",
    "start": "1165140",
    "end": "1170840"
  },
  {
    "text": "This is naturally a\nprobabilistic model because there are naturally\nmultiple random variables that",
    "start": "1170840",
    "end": "1176149"
  },
  {
    "text": "are being random together. How many outcomes\nof type 1, how many outcomes of type 2, to how\nmany outcomes of type m?",
    "start": "1176150",
    "end": "1182039"
  },
  {
    "text": "If it's a dice,\nthere's six outcomes. And the probability of\neach outcome is 1 over 6.",
    "start": "1182040",
    "end": "1187140"
  },
  {
    "text": "But the multinomial\ncan be more general. You can have more\nthan six outcomes, and you can specify the\nprobability of each outcome.",
    "start": "1187140",
    "end": "1193380"
  },
  {
    "text": "Similar to the\nbinomial distribution, a similar derivation leads\nto this beautiful equation",
    "start": "1193380",
    "end": "1198600"
  },
  {
    "text": "where this is a constant. It's an n choose\nc1, c2, cm, which",
    "start": "1198600",
    "end": "1204132"
  },
  {
    "text": "is the same as n factorial\ndivided by this factorial, this factorial, this factorial. So that's a big, old\nnumber multiplied",
    "start": "1204132",
    "end": "1209910"
  },
  {
    "text": "by probability of outcome 1\nto the power of how many times you saw outcome 1.",
    "start": "1209910",
    "end": "1215510"
  },
  {
    "text": "This would let you do\nsilly things with dice, with like saying, if I\nroll seven dice, what's the probability of\nseeing six 1's and a 2",
    "start": "1215510",
    "end": "1222080"
  },
  {
    "text": "and zero of the other outcomes? But it allows us to do\nmore interesting things. Particularly, we got into\nprobabilistic text analysis.",
    "start": "1222080",
    "end": "1229490"
  },
  {
    "text": "Probabilistic text analysis\ncould model a document as a multinomial. We'd make a big dice which\nwas the author's probability",
    "start": "1229490",
    "end": "1237350"
  },
  {
    "text": "of writing any particular word. So instead of\nhaving six sides, it has one side for every word\nthe author could write.",
    "start": "1237350",
    "end": "1244043"
  },
  {
    "text": "And the corresponding\nprobability of that side was the probability the\nauthor would write that. And we imagine the\ncreation of a document",
    "start": "1244043",
    "end": "1249559"
  },
  {
    "text": "as the author just getting\nout their massive dice, rolling it, seeing\nwhich word came out, writing it, and rolling again,\nseeing which word came out,",
    "start": "1249560",
    "end": "1256880"
  },
  {
    "text": "writing it down. And that's how the author\nproduced the document. If you imagine that's how we get\ncounts of words in a document,",
    "start": "1256880",
    "end": "1264340"
  },
  {
    "text": "then it means that you can think\nabout those counts of words using exactly the multinomial.",
    "start": "1264340",
    "end": "1270650"
  },
  {
    "text": "End of review. That was a long way to\nget to the punch line that we all wanted to get to.",
    "start": "1270650",
    "end": "1277070"
  },
  {
    "text": "Who wrote the federalist papers? So on Wednesday's class, we\nstarted writing this program",
    "start": "1277070",
    "end": "1282170"
  },
  {
    "text": "to figure out, did Alexander\nHamilton or Madison write Federalist Paper 53?",
    "start": "1282170",
    "end": "1289280"
  },
  {
    "text": "I gave you data. I gave you samples\nof Madison's writing. I gave you samples of\nHamilton's writing.",
    "start": "1289280",
    "end": "1295100"
  },
  {
    "text": "From those things, you\ncould calculate these two probabilities. For every word i, you can\ncalculate the probability",
    "start": "1295100",
    "end": "1301460"
  },
  {
    "text": "that Hamilton writes that word. It's just how many\ntimes it shows up in the sample divided\nby the number of words.",
    "start": "1301460",
    "end": "1306620"
  },
  {
    "text": "And same thing with Madison. For any word i, where i could\nbe like the, or congress,",
    "start": "1306620",
    "end": "1312049"
  },
  {
    "text": "or Chris-- he doesn't\nwrite Chris, that's sad-- mi would be the probability\nof Madison writing word i.",
    "start": "1312050",
    "end": "1319490"
  },
  {
    "text": "These two documents allow\nyou to get h i and mi. And this document is the\nfederalist paper we care about.",
    "start": "1319490",
    "end": "1326900"
  },
  {
    "text": "And that federalist paper,\nwe can count how many times each word i appears. And we're going to\ncall those ci's.",
    "start": "1326900",
    "end": "1334970"
  },
  {
    "text": "And we decide, we're going\nto use Bayes' theorem. We're going to say, we\nhave counts of words.",
    "start": "1334970",
    "end": "1341000"
  },
  {
    "text": "We know the probability of\ndifferent authors writing different words.",
    "start": "1341000",
    "end": "1346760"
  },
  {
    "text": "Can we figure out who\nwrote this document? And we said, we can\nthink of it like this.",
    "start": "1346760",
    "end": "1352750"
  },
  {
    "text": "If I knew Hamilton\nwas the author, it's easy to think\nabout the probability of the counts of words.",
    "start": "1352750",
    "end": "1358630"
  },
  {
    "text": "That's just a multinomial. This is a hard\nprobability, but we can calculate using Bayes'\ntheorem using this easier one.",
    "start": "1358630",
    "end": "1365200"
  },
  {
    "text": "It requires us to\nknow probability of H and probability of\nD. Probability of H is, how likely do we think\nHamilton is to write this",
    "start": "1365200",
    "end": "1371919"
  },
  {
    "text": "if we had no other information? And we're just saying\nthat's one half. And then probably\nof D was a problem.",
    "start": "1371920",
    "end": "1378070"
  },
  {
    "text": "This thing on the\nbottom-- we call it the normalization constant--\nit's a problem a lot of times, so we have lots of\ntricks to deal with it.",
    "start": "1378070",
    "end": "1386170"
  },
  {
    "text": "Oh, and just want to point\nout that that's a multinomial. And we want to figure\nout what to do with this.",
    "start": "1386170",
    "end": "1392519"
  },
  {
    "text": "The particular trick\nwe wrote, or we used-- you can either see the slides,\nor I wrote it over here--",
    "start": "1392520",
    "end": "1398010"
  },
  {
    "text": "is, I want to get rid\nof the probability of D. I didn't want to calculate it. So I used this\nsuper crafty trick.",
    "start": "1398010",
    "end": "1405220"
  },
  {
    "text": "Use it, learn it,\nshow your friends. Probability of Hamilton\ngiven D is this expression.",
    "start": "1405220",
    "end": "1412990"
  },
  {
    "text": "And the probability\nof Madison given D is this same expression,\nand both of them have this probability of D. And\nthe super tricky ones out there",
    "start": "1412990",
    "end": "1421030"
  },
  {
    "text": "might realize, if\nyou took this term and divide it by this term, we\ncould make those probabilities",
    "start": "1421030",
    "end": "1426250"
  },
  {
    "text": "of D's just go away. So you don't have to\never calculate it.",
    "start": "1426250",
    "end": "1431320"
  },
  {
    "text": "Probability of D\nis a weird thing. We call it the\nnormalization constant because it's a weird\nthing in saying like, what's the probability\nof seeing these words",
    "start": "1431320",
    "end": "1437590"
  },
  {
    "text": "without conditioning\non who the author is? And it's really hard to\nthink about the probability of seeing these words if you\ndon't know who the author is.",
    "start": "1437590",
    "end": "1444017"
  },
  {
    "text": "In both this term m\ngiven-- or D given m, we know who the author is.",
    "start": "1444017",
    "end": "1449560"
  },
  {
    "text": "We've been told Hamilton\nand Madison are the authors. But if we write this out,\ncheck out what happens.",
    "start": "1449560",
    "end": "1456190"
  },
  {
    "text": "This term is divided by D,\nand this term is divided by D. So these two things\njust cancel out.",
    "start": "1456190",
    "end": "1461440"
  },
  {
    "text": "Ah, what a good time. And it gets even better. We assume that before\nwe see any data,",
    "start": "1461440",
    "end": "1468093"
  },
  {
    "text": "the probability of Hamilton\nis one half and probably of Madison is one half. So these two terms\njust cancel out.",
    "start": "1468093",
    "end": "1474929"
  },
  {
    "text": "Ah, what good times. And you're like, does\nit get any better? I tell you, it gets even better.",
    "start": "1474930",
    "end": "1480600"
  },
  {
    "text": "Why does it get even better? This coefficient has\nto do with the counts of the words in the documents.",
    "start": "1480600",
    "end": "1486030"
  },
  {
    "text": "You know, c1 is how many\ntimes word 1 shows up in the unknown document. And so is this c1.",
    "start": "1486030",
    "end": "1492000"
  },
  {
    "text": "In fact, these two terms\nare exactly the same because they're both\njust an expression of the counts of the words\nin the exact same document.",
    "start": "1492000",
    "end": "1499299"
  },
  {
    "text": "So lo and behold, these\ntwo terms just go away. Wait. I forgot a product over here.",
    "start": "1499300",
    "end": "1505650"
  },
  {
    "text": "That would be funny.  We're going to loop over all\nthe words in the document.",
    "start": "1505650",
    "end": "1513440"
  },
  {
    "text": "For every word,\nwe're going to say, what's the probability that\nHamilton wrote that word? And we're going to raise it\nto the power of how many times",
    "start": "1513440",
    "end": "1518990"
  },
  {
    "text": "the word shows up. And this term is, for\nevery word in the document, figure out the probability\nthat Madison wrote the word,",
    "start": "1518990",
    "end": "1525290"
  },
  {
    "text": "and then raise it to the\nprobability-- or the count or the number of times\nthat it shows up.",
    "start": "1525290",
    "end": "1530510"
  },
  {
    "text": "This led to this\nwonderful piece of code where I do some\npre-processing on the text.",
    "start": "1530510",
    "end": "1539960"
  },
  {
    "text": "And I calculate Hamilton\nword probabilities. Those are all the h i's. I calculate Madison\nword probabilities.",
    "start": "1539960",
    "end": "1546830"
  },
  {
    "text": "Those are all the mi's. And I show you a lookup. I look up congress. So it's like, where\ni is congress,",
    "start": "1546830",
    "end": "1552530"
  },
  {
    "text": "I look up Hamilton word\nprobability, Madison word probability, and the counts. And then I calculate\nthis term passing",
    "start": "1552530",
    "end": "1560920"
  },
  {
    "text": "in the Hamilton dictionary. And then I calculate\nthis term passing in the Madison dictionary. So here is passing the\nHamilton dictionary.",
    "start": "1560920",
    "end": "1567670"
  },
  {
    "text": "That gives the Hamilton term. Calculate it with the\nMadison dictionary, that gives the Madison term. And then I print those out.",
    "start": "1567670",
    "end": "1573640"
  },
  {
    "text": "This equation, cheeky\nlittle bugger, does that. It starts with a\nprobability of 1.",
    "start": "1573640",
    "end": "1579940"
  },
  {
    "text": "Why 1? If you multiply anything\ntimes 0, you'll get 0. So I start with\na 1, and then I'm going to multiply these\nterms in one at a time.",
    "start": "1579940",
    "end": "1586050"
  },
  {
    "text": "Remember, this is a\nfor loop over products. So it's a for loop. If you haven't seen a for\nloop like this in Python,",
    "start": "1586050",
    "end": "1591600"
  },
  {
    "text": "it says, take your\ndictionary of count items and give me one at a time,\nwhich word was written",
    "start": "1591600",
    "end": "1597330"
  },
  {
    "text": "and how many times it shows up. I look up in the\ndictionary what's the probability of the\nword i, and I raise it",
    "start": "1597330",
    "end": "1603228"
  },
  {
    "text": "to the power of ci. So I do this computation,\nand I get a running product for probabilities.",
    "start": "1603228",
    "end": "1609299"
  },
  {
    "text": "It seems so beautiful. Look, it's nicely commented. I used the snake case. What a good time to be alive.",
    "start": "1609300",
    "end": "1615390"
  },
  {
    "text": "And we feel so good\nabout ourselves until we run the code.",
    "start": "1615390",
    "end": "1622059"
  },
  {
    "text": "h i, where i is\ncongress, is a number. It's a probability. mi, where\ni is congress, is a number.",
    "start": "1622060",
    "end": "1628850"
  },
  {
    "text": "It's a probability. ci, where\ni is congress, is a count. It's how many times the\nword congress shows up.",
    "start": "1628850",
    "end": "1634720"
  },
  {
    "text": "Everything seems\ngood, except when we calculate these\nprobabilities, they are 0.",
    "start": "1634720",
    "end": "1640059"
  },
  {
    "text": " What could go wrong? Now, sometimes you just look\nat a code, and you know it.",
    "start": "1640060",
    "end": "1646267"
  },
  {
    "text": "You're like, my\nsoul speaks to me, and I know exactly\nwhat the bug is. But other times, we debug,\nmaybe use a debugger,",
    "start": "1646267",
    "end": "1651960"
  },
  {
    "text": "or maybe you'd use a print line. So I'm like, what's\ngoing on here? I'm going to print--",
    "start": "1651960",
    "end": "1657450"
  },
  {
    "text": "like this for loop,\nit's continually updating a probability\nvariable, and I",
    "start": "1657450",
    "end": "1663210"
  },
  {
    "text": "want to print out that\nprobability as we go. And look at what happens.",
    "start": "1663210",
    "end": "1669420"
  },
  {
    "text": "Scrolling up, scrolling up. That's a lot of 0's. Oh, look!",
    "start": "1669420",
    "end": "1675120"
  },
  {
    "text": "First iteration, it's 1. Second iteration,\nit's pretty small!",
    "start": "1675120",
    "end": "1680430"
  },
  {
    "text": "Third iteration, it's about\nas small as you can imagine! This says 2.5 times 10\nto the negative 309.",
    "start": "1680430",
    "end": "1687509"
  },
  {
    "text": "That's tiny. And then after that, your\ncomputer is like, I can't even. I just can't even.",
    "start": "1687510",
    "end": "1692700"
  },
  {
    "text": "I don't want to talk about\nnumbers smaller than 10 to the negative 309. What's going on here?",
    "start": "1692700",
    "end": "1699840"
  },
  {
    "text": "Yeah, what's wrong? Underflow errors. Oh, man! Computers and probability,\nyou're so powerful together,",
    "start": "1699840",
    "end": "1706170"
  },
  {
    "text": "but this is where you\njust can't get along. When you multiply these small\nnumbers together, in theory,",
    "start": "1706170",
    "end": "1711890"
  },
  {
    "text": "it makes sense. And when you divide it, you'll\nget a tiny, tiny number here. Like, this is a small\nnumber multiplied by itself",
    "start": "1711890",
    "end": "1717790"
  },
  {
    "text": "a bunch of times\nmultiplied by a whole bunch of other small numbers. This is a teeny\ntiny, tiny number. And this is also a teeny, teeny,\nteeny, teeny, tiny number.",
    "start": "1717790",
    "end": "1725600"
  },
  {
    "text": "And in theory, dividing\nthese teeny tiny numbers will give us our answer. But the computer\ndoesn't want to.",
    "start": "1725600",
    "end": "1731590"
  },
  {
    "text": "It can't represent\nnumbers that small. So when you multiply\nprobabilities against each other,\nespecially small ones, you often get\nunderflows, which is",
    "start": "1731590",
    "end": "1738730"
  },
  {
    "text": "why you guys need to know\nabout log probabilities. Log probabilities don't\nhave too much semantics,",
    "start": "1738730",
    "end": "1744910"
  },
  {
    "text": "except they're just taking\nthe log of a calculation. Why would you just take\na log of a calculation?",
    "start": "1744910",
    "end": "1751230"
  },
  {
    "text": "Well, you might just\nend up with something that a computer could represent. So for example, if you\ntold me the answer not",
    "start": "1751230",
    "end": "1759030"
  },
  {
    "text": "to this expression but\nlog of this expression, I would still be able to tell\nyou who wrote the document.",
    "start": "1759030",
    "end": "1764940"
  },
  {
    "text": "I'd be able to look at this\nnumber and reason about whether or not it was Hamilton\nor Madison if you gave me the log of this ratio.",
    "start": "1764940",
    "end": "1772150"
  },
  {
    "text": "And the nice thing\nabout this is then you would do the log\nof these two sides. And when you do the\nlog of these two sides,",
    "start": "1772150",
    "end": "1779380"
  },
  {
    "text": "you actually get something nice. First you get the log of\nthis minus the log of this",
    "start": "1779380",
    "end": "1785410"
  },
  {
    "text": "instead of division\nbecause divisions just become subtraction. And we do the log\nof this product. It's like the log is\na big old tractor,",
    "start": "1785410",
    "end": "1792590"
  },
  {
    "text": "and it's going to bulldoze right\nthrough that product system. And when it bulldozes,\nit just leaves you",
    "start": "1792590",
    "end": "1797650"
  },
  {
    "text": "with a beautiful sum. And the log just goes\nright inside as a tractor. The log of a product is the\nsum of logs, as you guys know.",
    "start": "1797650",
    "end": "1807170"
  },
  {
    "text": "So h i to the power of ci\nminus the sum of the log of mi",
    "start": "1807170",
    "end": "1815800"
  },
  {
    "text": "to the power of ci. So that's what happens when\nyou do a log to this term. All those products\nbecomes additions,",
    "start": "1815800",
    "end": "1822700"
  },
  {
    "text": "and this division\nbecomes a subtraction. It's a little bit\nbetter than that. You know, the log of\nsomething raised to a power",
    "start": "1822700",
    "end": "1830180"
  },
  {
    "text": "is just the log of that\nthing times by the power. ",
    "start": "1830180",
    "end": "1836990"
  },
  {
    "text": "And we have ourselves\na very nice expression. So if you took the\nlog of this term,",
    "start": "1836990",
    "end": "1843080"
  },
  {
    "text": "you can get something\nthat you would compute in a different way. It's a lot of additions\nof small numbers--",
    "start": "1843080",
    "end": "1848720"
  },
  {
    "text": "logs of small numbers. And hopefully, it doesn't\nlead to an underflow. We're going to then get an\nanswer, which isn't the ratio",
    "start": "1848720",
    "end": "1854420"
  },
  {
    "text": "but rather the log of the ratio. We'll have to do a little bit\nmore work to interpret it. So let's go over to a\ncode that does that.",
    "start": "1854420",
    "end": "1860360"
  },
  {
    "text": "Exact same code, but instead\nof calculating the probability, I'm going to calculate\nthe log probability.",
    "start": "1860360",
    "end": "1866743"
  },
  {
    "text": "So instead of\nstarting with 1, I'm going to start\nwith the log of 1. And then I'm going\nto do this sum.",
    "start": "1866743",
    "end": "1872580"
  },
  {
    "text": "Loop over every word, get\nthe probability of the word, do the log of that\nprobability, and multiply it",
    "start": "1872580",
    "end": "1880450"
  },
  {
    "text": "by how many times\nthe word shows up. So a nice one, two, three,\nfour, five-line program.",
    "start": "1880450",
    "end": "1887080"
  },
  {
    "text": "If we do this, we're going\nto get log terms on the top and log terms on the bottom. Who wants to see what happens?",
    "start": "1887080",
    "end": "1893590"
  },
  {
    "text": "logPredict. What? ",
    "start": "1893590",
    "end": "1899590"
  },
  {
    "text": "OK. Back up, Chris. ",
    "start": "1899590",
    "end": "1904880"
  },
  {
    "text": "It's fine. OK. Instead of calculating the\nprobability of D given H, we no longer have 0's.",
    "start": "1904880",
    "end": "1910510"
  },
  {
    "text": "We have these big\nnegative numbers. And so the log of\nthe probability",
    "start": "1910510",
    "end": "1915790"
  },
  {
    "text": "of the document given Hamilton\nis this negative 14,000. And the log of the probability\nof the document given Madison",
    "start": "1915790",
    "end": "1921070"
  },
  {
    "text": "is this negative 13,0000. If you subtract those\ntwo terms, you'll get the log of this ratio.",
    "start": "1921070",
    "end": "1927530"
  },
  {
    "text": "And if you subtracted those two\nterms, you get negative 1,353. So this log of this\nratio of probabilities",
    "start": "1927530",
    "end": "1937179"
  },
  {
    "text": "is negative 1,300 about. Who wrote the document?",
    "start": "1937180",
    "end": "1943920"
  },
  {
    "text": "Madison. What? How do they know it's Madison? OK.",
    "start": "1943920",
    "end": "1949725"
  },
  {
    "text": "How does that tell me\nthe answer to this? If it wasn't a log, if\nMadison wrote this--",
    "start": "1949725",
    "end": "1958179"
  },
  {
    "text": "let's say Madison was\nthe actual author. If Madison was\nthe actual author, the probability of\nMadison given document",
    "start": "1958180",
    "end": "1964560"
  },
  {
    "text": "should be greater than the\nprobability of Hamilton given document. Do you guys agree? So if Madison is\ntruly the author,",
    "start": "1964560",
    "end": "1969630"
  },
  {
    "text": "this should be a\nnumber less than 1 because it's a smaller number\ndivided by a bigger number.",
    "start": "1969630",
    "end": "1975360"
  },
  {
    "text": "It should be something like\n0.2 or something like that. You know, what would\nbe that Madison",
    "start": "1975360",
    "end": "1982470"
  },
  {
    "text": "is much more likely than\nHamilton to have written it. If this ratio-- if\nHamilton wrote it, then this ratio should\nbe greater than 1.",
    "start": "1982470",
    "end": "1989070"
  },
  {
    "text": "This number should be bigger. Beautiful thing about logs\nthat you need to know, can I tell you?",
    "start": "1989070",
    "end": "1994890"
  },
  {
    "text": "I would love to tell you this\nbeautiful thing about logs. OK. A little bit of review.",
    "start": "1994890",
    "end": "2000030"
  },
  {
    "text": "Here's a graph of\nthe log function. And notice at log of 1,\nsomething special happens.",
    "start": "2000030",
    "end": "2008630"
  },
  {
    "text": "If you put a number that's\nbigger than 1 into a log, you get a positive. And if you put a number\nbetween 0 and 1 into a log,",
    "start": "2008630",
    "end": "2016880"
  },
  {
    "text": "you get a negative. So if you put in log of 0.2,\nyou'll get a negative number.",
    "start": "2016880",
    "end": "2022549"
  },
  {
    "text": "If you put in log of 5,\nyou'll get a positive number. Since this is a\nnegative number, I",
    "start": "2022550",
    "end": "2029100"
  },
  {
    "text": "know that this ratio\nmust be less than 1. Let me just show you that really\nquickly so that you believe me.",
    "start": "2029100",
    "end": "2035460"
  },
  {
    "text": "So python import math math.log.",
    "start": "2035460",
    "end": "2041850"
  },
  {
    "text": "Say we put in a number\ngreater than 1 like 3, you get a positive. Let's say we put in something\nlike 0.5 that's less than 1,",
    "start": "2041850",
    "end": "2049560"
  },
  {
    "text": "you get a negative. So any time you see a negative\nexpression from a log, you know that\nsomething less than 1",
    "start": "2049560",
    "end": "2055888"
  },
  {
    "text": "went in there, which means\nI know Madison wrote that. And like, if you put in\na really small number,",
    "start": "2055889",
    "end": "2063340"
  },
  {
    "text": "you get a larger negative. If you put in a really,\nreally small number, you get a much larger negative.",
    "start": "2063340",
    "end": "2069359"
  },
  {
    "text": "This negative 13,000, like,\nwhat do I have to put in here to get the log to be 13,000?",
    "start": "2069360",
    "end": "2077940"
  },
  {
    "text": "A lot. Our model is very,\nvery confident that Madison wrote this.",
    "start": "2077940",
    "end": "2083250"
  },
  {
    "text": "It's not like\nMadison wrote this. It's like, Madison\ndefinitely wrote this thing, Hamilton's a liar. OK. Question?",
    "start": "2083250",
    "end": "2088440"
  },
  {
    "text": " Yes.",
    "start": "2088440",
    "end": "2093770"
  },
  {
    "text": "You can certainly take\nadvantage of the fact that log base e of\nsome number, so like k,",
    "start": "2093770",
    "end": "2105290"
  },
  {
    "text": "is, doo, doo, doo,\ndoo, doo, saying that equals, let's say, n is\nthe same as claiming that e",
    "start": "2105290",
    "end": "2111320"
  },
  {
    "text": "to the power of n equals k. You could take\nadvantage of this. And in turn, can actually\ncalculate this exact number.",
    "start": "2111320",
    "end": "2117710"
  },
  {
    "text": "Totally two\nreasonable approaches. OK. Now we know Madison wrote it.",
    "start": "2117710",
    "end": "2124555"
  },
  {
    "text": "Can we take a step\nback and think about what we were\nsupposed to have learned? So first of all, we\nused a multinomial",
    "start": "2124555",
    "end": "2130880"
  },
  {
    "text": "to come up with this probability\nof the document knowing who the author was. It used the counts of words.",
    "start": "2130880",
    "end": "2137420"
  },
  {
    "text": "A lot of things\ncanceled out, and it led to a really nice\nexpression for how likely is a document given the author.",
    "start": "2137420",
    "end": "2143240"
  },
  {
    "text": "We used Bayes' theorem\nwith a multinomial. [EXHALES] And it's a\nwarm-up to the idea that Bayes' theorem can\nshow up in lots of places.",
    "start": "2143240",
    "end": "2149940"
  },
  {
    "text": "And then you saw this\nsuper important concept, which is that in computer\nscience, if you're",
    "start": "2149940",
    "end": "2155579"
  },
  {
    "text": "doing a probability\nthat involves a lot of products\nof small numbers, you might get underflow. And your solution to\nthat is to use this thing",
    "start": "2155580",
    "end": "2162150"
  },
  {
    "text": "called a log probability. So just put a log\nin front of it. It's a different\nrepresentation of the concept",
    "start": "2162150",
    "end": "2167880"
  },
  {
    "text": "you're trying to calculate. A lot of things in\none cool example. And there's a\nquestion in the back. Um, so I guess the\nlog [INAUDIBLE]..",
    "start": "2167880",
    "end": "2177450"
  },
  {
    "text": "But can you just repeat\nvery succinctly, I guess, how the left-hand\nside of the board",
    "start": "2177450",
    "end": "2183869"
  },
  {
    "text": "relates to the right\nside of the board? So the left board, on your left. Oh, on this one?",
    "start": "2183870",
    "end": "2188880"
  },
  {
    "text": "Yeah. So this is how-- you know, a straightforward\nway to figure out if Hamilton wrote\nthis document is",
    "start": "2188880",
    "end": "2195030"
  },
  {
    "text": "to calculate this expression. But this expression has\nthis term, which is easy,",
    "start": "2195030",
    "end": "2200069"
  },
  {
    "text": "this term, which is\ntrivial, and this term, which is insanely hard. Now, one thing we sometimes do\nis we take this bottom term,",
    "start": "2200070",
    "end": "2210480"
  },
  {
    "text": "and we turn it into the\nlaw of total probability. You do something\nlike the probability of D given H times\nthe probability of H",
    "start": "2210480",
    "end": "2218160"
  },
  {
    "text": "plus the probability of D given\nMadison times the probability Madison. Anyone ever done\nsomething like this?",
    "start": "2218160",
    "end": "2225720"
  },
  {
    "text": "Yes. OK, good. You could have done this. But if you approach--",
    "start": "2225720",
    "end": "2231228"
  },
  {
    "text": "I gave you a different\nway to get rid of the probability\nof D, which was I was going to give you the\nratio of Hamilton to Madison.",
    "start": "2231228",
    "end": "2237210"
  },
  {
    "text": "Can I tell you, [? Cheeky, ?]\nwhy I didn't do it this way? If I tried to do it this\nway, when I apply my log,",
    "start": "2237210",
    "end": "2245091"
  },
  {
    "text": "this will be straightforward,\nthis will be straightforward, and this addition here is\ngoing to be a total disaster.",
    "start": "2245092",
    "end": "2251880"
  },
  {
    "text": "Because the log of\na plus b doesn't turn into a nice expression. It becomes quite\nhard to express.",
    "start": "2251880",
    "end": "2257743"
  },
  {
    "text": "You actually have to calculate\nsome of these probabilities on their own. It's really, really hard\nto simplify this expression",
    "start": "2257743",
    "end": "2264420"
  },
  {
    "text": "if you went straight to a\nlog of this probability. Like, if you try and\ndo log of Hamilton",
    "start": "2264420",
    "end": "2269970"
  },
  {
    "text": "given document, [EXHALES],,\ndifficult. Possible but difficult. I used this\ntrick, got rid of the D.",
    "start": "2269970",
    "end": "2276330"
  },
  {
    "text": "And then when I did the log,\neverything was very nice because I didn't have this awful\nsummation in the normalizing",
    "start": "2276330",
    "end": "2283560"
  },
  {
    "text": "constant. So actually, that is\nanother big takeaway is that this normalization\nconstant is a huge problem",
    "start": "2283560",
    "end": "2289988"
  },
  {
    "text": "for Bayes' theorem. And you now know two\ntricks for dealing with it. You can expand using the\nlaw of total probability,",
    "start": "2289988",
    "end": "2295070"
  },
  {
    "text": "or you can do this ratio\nand get it to cancel out. Yes? [INAUDIBLE]",
    "start": "2295070",
    "end": "2311490"
  },
  {
    "text": "Yeah, absolutely. There's lots of-- you know,\nthese priors, your belief before you see data, it's a lot\nof scholastic argumentation.",
    "start": "2311490",
    "end": "2318955"
  },
  {
    "text": "You'd be like, I think that\nour belief before we see data should be like 0.8\nthat it's Hamilton because he wrote more papers.",
    "start": "2318955",
    "end": "2325500"
  },
  {
    "text": "It turns out, the\nmultinomial is so convinced that even if you brought\nin different priors,",
    "start": "2325500",
    "end": "2331170"
  },
  {
    "text": "it gets totally overwhelmed\nby the evidence, and it gets washed out. So it turns out,\nit didn't really matter what your\nprior belief was.",
    "start": "2331170",
    "end": "2336907"
  },
  {
    "text": "Unless you say like, I'm\n99.99999999% positive it's Hamilton before you\nstart your calculations,",
    "start": "2336907",
    "end": "2342480"
  },
  {
    "text": "it's going to lead to\nMadison being the author. Now, it would have\nbeen fine here. You would have just ended up\nwith, you know, log of this",
    "start": "2342480",
    "end": "2350280"
  },
  {
    "text": "would have been plus\nlog of probability of H. And this would have been\nminus this, which is",
    "start": "2350280",
    "end": "2358650"
  },
  {
    "text": "log of probability of Madison. Like, all the calculations would\nhave worked out quite nicely.",
    "start": "2358650",
    "end": "2364340"
  },
  {
    "text": "OK. Fantastic. Ooh, I feel like that summarizes\nthe mood at this moment.",
    "start": "2364340",
    "end": "2369640"
  },
  {
    "text": "It's like, yeah, we can do it. What a cool thing to be able\nto do at this point in CS109.",
    "start": "2369640",
    "end": "2374840"
  },
  {
    "text": "OK. I want to go back to a-- oh, there's a bunch of things\nwe want to be able to do with,",
    "start": "2374840",
    "end": "2382938"
  },
  {
    "text": "uh, probabilistic models. So now you can kind\nof use a joint.",
    "start": "2382938",
    "end": "2388400"
  },
  {
    "text": "And I want us to get\nto start thinking about conditional probabilities\nwith joint variables. Does that sound good?",
    "start": "2388400",
    "end": "2393920"
  },
  {
    "text": "I want us to get a\nlittle bit more formal about if you have a model,\nwhat does conditioning mean? This is inference.",
    "start": "2393920",
    "end": "2399680"
  },
  {
    "text": "It's one of the most\nimportant things you can learn in the whole\nfield of probability. Inference really says, this\nconditional probability",
    "start": "2399680",
    "end": "2407480"
  },
  {
    "text": "with joint variables\nin a model says, I have a model of\nhow the world works. I observe from information,\nand now my model will change.",
    "start": "2407480",
    "end": "2416015"
  },
  {
    "text": "And thinking about how\nyour model will change when you condition on\nthings you observe, that's one of the be-alls\nand end-alls of why",
    "start": "2416015",
    "end": "2421579"
  },
  {
    "text": "we study this whole field. So let's learn how to do it. And let's go back to our friends\nwho are living with roommates,",
    "start": "2421580",
    "end": "2427825"
  },
  {
    "text": "or in two-room\ndoubles, or shared partners, CS109 from years past.",
    "start": "2427825",
    "end": "2434140"
  },
  {
    "text": "The joint probability\ntable tells you everything you need to solve\nconditional probability questions. But let's go ahead and\ntry solving some of them.",
    "start": "2434140",
    "end": "2441020"
  },
  {
    "text": "So here's a joint probability\nof what room peoples were in and what year they were. You guys ready to\ngo to the internet?",
    "start": "2441020",
    "end": "2447070"
  },
  {
    "text": "Let's go to the internet. Doo, doo doo.",
    "start": "2447070",
    "end": "2453210"
  },
  {
    "text": "OK. I have here your joint table.",
    "start": "2453210",
    "end": "2464940"
  },
  {
    "text": "What does this cell mean? This says like,\nwhat's the chance that somebody is both a\njunior and has a roommate?",
    "start": "2464940",
    "end": "2471360"
  },
  {
    "text": "I now want us to\nbump up our utility and start using this joint to\nsolve conditional probability",
    "start": "2471360",
    "end": "2478050"
  },
  {
    "text": "questions. And I'm going to challenge\nyou guys with one. I'm going to\nchallenge you with I'm going to tell you the value\nof this random variable.",
    "start": "2478050",
    "end": "2486960"
  },
  {
    "text": "I'm going to tell you that\nthis random variable is equal to sophomore. Or actually, let's do junior.",
    "start": "2486960",
    "end": "2492840"
  },
  {
    "text": "Their year is a junior. So I tell you that\ntheir year is a junior. What's your new belief\nin their room situation?",
    "start": "2492840",
    "end": "2500430"
  },
  {
    "text": "And how could you calculate it? If you want to\nmake this simpler, just start with one value.",
    "start": "2500430",
    "end": "2506070"
  },
  {
    "text": "If I tell you that\nsomebody is a junior, what's your updated belief\nthat they have roommates?",
    "start": "2506070",
    "end": "2512053"
  },
  {
    "text": "You can solve this\nfrom first principles where we're going\nto generalize this so we can bring it to the\nworld of probabilistic models. But this is where it starts.",
    "start": "2512053",
    "end": "2517707"
  },
  {
    "text": "Take a moment. Talk to the person next to you. See if you can figure out what's\nthe probability that somebody is in a roommate situation\ngiven they're a junior.",
    "start": "2517707",
    "end": "2524530"
  },
  {
    "text": "And then we'll see if we\ncan write this in here. ",
    "start": "2524530",
    "end": "2625320"
  },
  {
    "text": "Oh, man. What do we do here? OK. You might see this\nand think, what",
    "start": "2625320",
    "end": "2632340"
  },
  {
    "text": "these are conditional\nprobabilities in the world of random variables. I've only seen\nconditional probabilities",
    "start": "2632340",
    "end": "2638220"
  },
  {
    "text": "in the world of events. But in fact, this is an event. This is the event where\nthe roommate situation",
    "start": "2638220",
    "end": "2644015"
  },
  {
    "text": "is that you have roommates\nor the housing situation that you have roommates. And this is the event where\nyour year in school is a junior.",
    "start": "2644015",
    "end": "2650369"
  },
  {
    "text": "And if you think\nof these as events, you can do any of the\nconditional probability work that you've learned\nin this class.",
    "start": "2650370",
    "end": "2656460"
  },
  {
    "text": "And really, when you have\na conditional probability, there's two ways\nyou can approach it. You can just think\nabout the definition of conditional probability.",
    "start": "2656460",
    "end": "2661710"
  },
  {
    "text": "Or you can use Bayes'\ntheorem, man, the thing that",
    "start": "2661710",
    "end": "2666760"
  },
  {
    "text": "shows up like a billion times. CS109 could be renamed\nand be like the class where you use Bayes'\ntheorem, like,",
    "start": "2666760",
    "end": "2672358"
  },
  {
    "text": "every third problem\nbecause it's that useful. Bayes' theorem would say\nthat this probability--",
    "start": "2672358",
    "end": "2681859"
  },
  {
    "text": "well, actually, I suppose-- wait. I have to forgive myself. This is a situation\nwhere, actually,",
    "start": "2681860",
    "end": "2687320"
  },
  {
    "text": "the definition of conditional\nprobability is just fine. Oops. OK. What is the definition of\nconditional probability?",
    "start": "2687320",
    "end": "2694940"
  },
  {
    "text": "It says that this is equal\nto these two events together. So I will just do R equals\nlittle r for roommates,",
    "start": "2694940",
    "end": "2701990"
  },
  {
    "text": "or I'll say room for roommate. And Y equals junior.",
    "start": "2701990",
    "end": "2707780"
  },
  {
    "text": "Embarrassing I said\nBayes' theorem, but I actually\nmeant the definition of conditional probability. I have to, like,\nforgive myself tonight. ",
    "start": "2707780",
    "end": "2717980"
  },
  {
    "text": "And this is it. So you would say that the\nprobability of this happening is the probability of\nthem both happening",
    "start": "2717980",
    "end": "2724400"
  },
  {
    "text": "at the same time divided by\njust the overall probability that somebody is a junior,\nnot taking into account what room they're in.",
    "start": "2724400",
    "end": "2731140"
  },
  {
    "text": "So what's the probability\nof these two things happening at the same time? ",
    "start": "2731140",
    "end": "2739340"
  },
  {
    "text": "Roommates, and they're a junior. ",
    "start": "2739340",
    "end": "2746510"
  },
  {
    "text": "Yeah! It's 0.04. You know, the joint\nprobability table gives you the probability of\nthe end of any combination",
    "start": "2746510",
    "end": "2753680"
  },
  {
    "text": "of random variables. And now you're wondering, do I\nactually have the probability that somebody is a junior?",
    "start": "2753680",
    "end": "2760326"
  },
  {
    "text": "Yes. Yeah! That's the marginal. It's this. It's 0.175.",
    "start": "2760326",
    "end": "2766660"
  },
  {
    "text": "Oh, nicely done, Google,\nfilling that in for me. It tells me that the probability\nthat somebody is a junior--",
    "start": "2766660",
    "end": "2773110"
  },
  {
    "text": "or that they're in a roommate\nsituation, given that they're a junior, is 0.227.",
    "start": "2773110",
    "end": "2778300"
  },
  {
    "text": "Wait. Given year, yeah, yeah. I got that right. OK.",
    "start": "2778300",
    "end": "2784790"
  },
  {
    "text": "Now, if we want to\nknow the probability that somebody is in a\ntwo-room double given that they're a junior, what is\nthis going to look like now?",
    "start": "2784790",
    "end": "2792520"
  },
  {
    "text": "It's going to be the\nsame thing, just room is going to be two-room double. So probability that somebody\nis a two-room double, given",
    "start": "2792520",
    "end": "2798650"
  },
  {
    "text": "that they're a junior, is\ngoing to be that fraction. The probability somebody\nis a shared partner,",
    "start": "2798650",
    "end": "2805460"
  },
  {
    "text": "given that they're\nin a two-room-- I guess shared\npartner is like you live with a couple situation. And nobody reported\nthat, anonymous survey.",
    "start": "2805460",
    "end": "2814310"
  },
  {
    "text": "But a lot of people\nhave singles. So if you look at the overall\ndistribution, the belief",
    "start": "2814310",
    "end": "2821210"
  },
  {
    "text": "in what room\nsituations people have, very few people have singles. But if you condition on the\nfact that people are juniors,",
    "start": "2821210",
    "end": "2826945"
  },
  {
    "text": "it increases by quite a lot. If I sum up all\nof these things--",
    "start": "2826945",
    "end": "2832550"
  },
  {
    "text": "stop trying to be\nso intelligent-- it all gives me 1.",
    "start": "2832550",
    "end": "2837690"
  },
  {
    "text": "So that's the probability\nthat somebody's roommate given they're a junior plus the\nprobability somebody's two-room double given\nthat they're a junior plus",
    "start": "2837690",
    "end": "2844109"
  },
  {
    "text": "probability of\nshared partner given junior plus the probability\nof single given junior. All of that adds up to 1\nbecause these four rooms",
    "start": "2844110",
    "end": "2850799"
  },
  {
    "text": "span the space. So if you enter the world\nwhere somebody is a junior, they live in one of these\nfour living situations.",
    "start": "2850800",
    "end": "2857200"
  },
  {
    "text": "Now, let's do the same\nthing with freshmen. But this time, instead\nof using the marginal, I'm going to do something\nslightly different.",
    "start": "2857200",
    "end": "2862870"
  },
  {
    "text": "I'm still calculating\nthe same probability. So the probability that\nsomebody is a freshman and has roommates, but this time\ninstead of using the marginal,",
    "start": "2862870",
    "end": "2869230"
  },
  {
    "text": "I'm going to use the definition\nof the marginal, which is the sum of this row. And this is the law\nof total probability.",
    "start": "2869230",
    "end": "2877559"
  },
  {
    "text": "It is expanding this using\nthe law of total probability. It's like junior and--\nor sorry, freshman",
    "start": "2877560",
    "end": "2883137"
  },
  {
    "text": "and roommates plus freshman and\ntwo-room doubles plus freshman and shared partners plus\nfreshman and single. And that's what the law of\ntotal probability is saying.",
    "start": "2883137",
    "end": "2889470"
  },
  {
    "text": "That's where the\nmarginal comes from. Anyways, and so you can\nfill in this whole table.",
    "start": "2889470",
    "end": "2895047"
  },
  {
    "text": "Doo, doo, doo, doo. So that equals this\ndivided by that number.",
    "start": "2895048",
    "end": "2900100"
  },
  {
    "text": "This equals that\ndivided by this number. And single equals\nthis divided by--",
    "start": "2900100",
    "end": "2907660"
  },
  {
    "text": "hey! ",
    "start": "2907660",
    "end": "2913589"
  },
  {
    "text": "So this is very interesting. If you think about\nthe probability mass function over rooms,\nif you don't condition",
    "start": "2913590",
    "end": "2921300"
  },
  {
    "text": "on what your people are, this\nis what the probability mass function says. For any assignment to rooms,\nit gives you a probability.",
    "start": "2921300",
    "end": "2927360"
  },
  {
    "text": "If you condition on them\nbeing a freshman, it changes. If you condition on them\nbeing a junior, it changes.",
    "start": "2927360",
    "end": "2932415"
  },
  {
    "text": "And that's such a simple\nway of communicating what inference is. When you tell me\nsome information, like what year somebody is,\nyou watch the whole probability",
    "start": "2932415",
    "end": "2940050"
  },
  {
    "text": "distribution of another\nrandom variable change. I think this is easier\nto see as a chart.",
    "start": "2940050",
    "end": "2946480"
  },
  {
    "text": "OK. Here is the\n[? idea ?] as a chart. This is the probability\ndistribution of rooms",
    "start": "2946480",
    "end": "2953060"
  },
  {
    "text": "if you didn't tell me what\nyear somebody was in CS109. Most people have roommates,\nsome people have singles.",
    "start": "2953060",
    "end": "2959150"
  },
  {
    "text": "This is a whole\nprobability mass function. Do you guys buy that? Now we infer-- now we observe\nthat somebody is a junior,",
    "start": "2959150",
    "end": "2967310"
  },
  {
    "text": "and we infer a whole new\nprobability mass function. The probability mass\nfunction changes quite a lot.",
    "start": "2967310",
    "end": "2972410"
  },
  {
    "text": "All of these likelihoods\nchange once you tell me they're a junior. And look, probability\nof somebody being a single skyrockets.",
    "start": "2972410",
    "end": "2978542"
  },
  {
    "text": "People are much\nmore likely to have a single in their\njunior year of college.",
    "start": "2978542",
    "end": "2983840"
  },
  {
    "text": "And that's a simple idea. We're going to do\nthis, we're going to do it for more and\nmore interesting models. But we're going to take a\nbelief in a random variable,",
    "start": "2983840",
    "end": "2990953"
  },
  {
    "text": "we're going to observe\nsome information, and we're going to\nwatch the belief in that random variable change. And sometimes we'll\nuse the definition",
    "start": "2990953",
    "end": "2997082"
  },
  {
    "text": "of conditional probability,\nand sometimes we'll use Bayes' theorem\nto solve for that. OK.",
    "start": "2997082",
    "end": "3002930"
  },
  {
    "text": "Just for a little\nbit of, like, levity, I've got a whole bunch of\nthese data sets for CS109. And I could show you how these\ndistributions change over time.",
    "start": "3002930",
    "end": "3010163"
  },
  {
    "text": "Here I'm showing you\nthose distributions changing as people\ngo from freshman to sophomores to\njuniors to seniors.",
    "start": "3010163",
    "end": "3015170"
  },
  {
    "text": "Look what happens to roommates. Yeah, we're a lot less\nlikely to have roommates. You're more likely to be in\na single room as a junior",
    "start": "3015170",
    "end": "3022130"
  },
  {
    "text": "than as a 5-plus, which\njust seems a little unfair. That's one data set. Here's another one that\nI collected one year.",
    "start": "3022130",
    "end": "3028250"
  },
  {
    "text": "This is how people get to class. And you can imagine,\na lot of people bike to class, especially sophomores,\nall about the eco travel.",
    "start": "3028250",
    "end": "3036950"
  },
  {
    "text": "But then you know,\nseniors are all about, oh, I've got so much time to\nponder the complexities of life",
    "start": "3036950",
    "end": "3042950"
  },
  {
    "text": "that I'm just going to walk. [LAUGHTER] Ah. [LAUGHS] This one is\nvery noisy, but this",
    "start": "3042950",
    "end": "3048980"
  },
  {
    "text": "is where people were\neating as you conditioned on different years in Stanford. So if you condition on\nsomebody being a sophomore,",
    "start": "3048980",
    "end": "3055310"
  },
  {
    "text": "they're very likely\neating in a dining hall. But like, grad\nstudents are like, I'm never touching that food. Well, not never,\nbut less likely.",
    "start": "3055310",
    "end": "3062520"
  },
  {
    "text": "Eating clubs might\nnot exist anymore. We used to be friends and\neat together in, like,",
    "start": "3062520",
    "end": "3068220"
  },
  {
    "text": "[? small groups. ?] What a time. It was a wild pre-pandemic. And then people are more\nlikely to make their own food",
    "start": "3068220",
    "end": "3073500"
  },
  {
    "text": "over time. And then you know\nwe had that data set the other day in class.",
    "start": "3073500",
    "end": "3079590"
  },
  {
    "text": "And you can see what's\nthe relationship status over a year, and you\ncan see, like, people really",
    "start": "3079590",
    "end": "3086130"
  },
  {
    "text": "don't couple up. But then all of a sudden,\nlike, senior year comes. And they're like, I'm\nout of time or something. I don't know.",
    "start": "3086130",
    "end": "3092700"
  },
  {
    "text": "OK. Also, for a little levity--\nbecause you guys are learning some complicated stuff, I\nvery much appreciate that--",
    "start": "3092700",
    "end": "3098430"
  },
  {
    "text": "let's play a little game. This little game is\ncalled number or function.",
    "start": "3098430",
    "end": "3105010"
  },
  {
    "text": "So if I have two random\nvariables, x and y, and I ask a question,\nwhat's the probability X equals 2 given that Y equals 5?",
    "start": "3105010",
    "end": "3110520"
  },
  {
    "text": "Is that a number or a function? Think about it. Think about it. Think about it. Now yell it out loud.",
    "start": "3110520",
    "end": "3115530"
  },
  {
    "text": "Number. Yay. Cool game. OK. Ooh, here's one. What's the probability that\nX takes on the value little x",
    "start": "3115530",
    "end": "3121890"
  },
  {
    "text": "given that Y takes\non the value 2? Function. Yeah! It's a function.",
    "start": "3121890",
    "end": "3128040"
  },
  {
    "text": "And also, it's a\nrandom variable. It's saying, like, what\nis the probability mass function of my random\nvariable in the world where",
    "start": "3128040",
    "end": "3133800"
  },
  {
    "text": "I observed this thing about\nanother random variable? And that probability mass\nfunction is a function. You can represent\nis as a 1D table.",
    "start": "3133800",
    "end": "3140460"
  },
  {
    "text": "You can represent it\nas a Python function. But it is a function. OK, very good. OK, think about it.",
    "start": "3140460",
    "end": "3146650"
  },
  {
    "text": "Think about it. Think about it. Yell it out loud. Function. Ooh, but what?",
    "start": "3146650",
    "end": "3152020"
  },
  {
    "text": "It's a 2D function where you\nput in both the thing you're conditioning on and the outcome.",
    "start": "3152020",
    "end": "3159109"
  },
  {
    "text": "Those are the two\ninputs to the function, and it gives you back a number. And in fact, if\nwe went back here,",
    "start": "3159110",
    "end": "3164290"
  },
  {
    "text": "if we filled this\nwhole thing in, this is what a 2D\nfunction looks like. For any assignment to\nroommates and frosh,",
    "start": "3164290",
    "end": "3169960"
  },
  {
    "text": "it can produce a number. OK. Let's take our pedagogical\npause, have two minutes",
    "start": "3169960",
    "end": "3175920"
  },
  {
    "text": "think about life. And we will come back to\nthis idea of inference, and we'll take it up a notch.",
    "start": "3175920",
    "end": "3181230"
  },
  {
    "text": "OK. Take two minutes. ",
    "start": "3181230",
    "end": "3188580"
  },
  {
    "text": "[SIDE CONVERSATION] ",
    "start": "3188580",
    "end": "3332570"
  },
  {
    "text": "OK. Let's bring it together. And while we're\ncoming back, I'll tell you guys something\ntotally unimportant.",
    "start": "3332570",
    "end": "3339109"
  },
  {
    "text": "So fatherhood is this,\nlike, exciting experience. And one of the\nexciting experiences is you get to define, like,\nwhat the universe looks",
    "start": "3339110",
    "end": "3345460"
  },
  {
    "text": "like to another human being\nis a totally wild thing. And mostly I've just been\ngiving her the honest, like, this is what the world\nis like, except for I'm",
    "start": "3345460",
    "end": "3352950"
  },
  {
    "text": "trying to convince her that\nwhen people ask you how are you, you just say groovy or\nfeeling groovy, like that's the appropriate response.",
    "start": "3352950",
    "end": "3358450"
  },
  {
    "text": "I'm trying to, like, not\ntell her about, oh, I'm good. I'm happy. It's just always groovy,\nwhich is not that important. I hope you guys, though,\nare feeling groovy",
    "start": "3358450",
    "end": "3364960"
  },
  {
    "text": "after that pedagogical pause. OK. So Bayes' theorem revisited.",
    "start": "3364960",
    "end": "3372520"
  },
  {
    "text": "You've seen this before. We've just used it\nto figure out who wrote that particular document.",
    "start": "3372520",
    "end": "3378170"
  },
  {
    "text": "And I just want to\nwrite it out again, and I want to take a\nmoment to name the terms. So if you have\nBayes' theorem, there",
    "start": "3378170",
    "end": "3385279"
  },
  {
    "text": "are names to each\nof these terms. Notice how this term\nand this term both",
    "start": "3385280",
    "end": "3390440"
  },
  {
    "text": "have the probability\nof B. And I really think about Bayes' theorem\nas taking a prior belief",
    "start": "3390440",
    "end": "3397250"
  },
  {
    "text": "and calculating what we\ncall an updated belief or, if you're really\nfancy, a posterior belief.",
    "start": "3397250",
    "end": "3403770"
  },
  {
    "text": "So this is the belief\nbefore you see the evidence, and this is the belief\nafter you saw the evidence.",
    "start": "3403770",
    "end": "3409069"
  },
  {
    "text": "And I really think\nof Bayes' theorem as a function that takes\na belief and updates it using evidence.",
    "start": "3409070",
    "end": "3414680"
  },
  {
    "text": "It has these two other terms. You have to know how likely\nis the evidence given a particular assignment\nto the belief.",
    "start": "3414680",
    "end": "3421820"
  },
  {
    "text": "And it has this other\nterm that we now know to dread, the\nnormalization constant. And normalization constant is\na pretty boring name compared",
    "start": "3421820",
    "end": "3429908"
  },
  {
    "text": "to these other three,\nlike posterior, likelihood of evidence, prior\nbelief, all very semantic. Normalization constant is not.",
    "start": "3429908",
    "end": "3435470"
  },
  {
    "text": "And we really do think\nabout this as just something that we need to calculate if\nwe want to get our probability.",
    "start": "3435470",
    "end": "3441090"
  },
  {
    "text": "So now we have names\nfor those things. What a nice thing. And I just want to remind\nus of what we've stated,",
    "start": "3441090",
    "end": "3446107"
  },
  {
    "text": "but I just want to say it again. Bayes' theorem with\nrandom variables works just like you imagine.",
    "start": "3446107",
    "end": "3451610"
  },
  {
    "text": "It's the exact same\nthing as events. In this case, our\nevents are just going to be assignments\nto random variables.",
    "start": "3451610",
    "end": "3459870"
  },
  {
    "text": "So this is the event\nwhere let's say m is a discrete random variable. This is an event where n,\na discrete random variable,",
    "start": "3459870",
    "end": "3465530"
  },
  {
    "text": "takes on the value of 3. And Bayes' theorem, if you just\ntreat this as E and this as F, you would just get plugged\nright into your Bayes' theorem",
    "start": "3465530",
    "end": "3471620"
  },
  {
    "text": "formula. Question? Yes. Would you mind going\nback to the last slide? Not at all.",
    "start": "3471620",
    "end": "3476760"
  },
  {
    "text": "So what is always confusing\nto me about Bayes' theorem is that I think there's\ntwo ways of doing it.",
    "start": "3476760",
    "end": "3482190"
  },
  {
    "text": "I think last time we did it with\nthe table as the probability of something and something\nover the probability",
    "start": "3482190",
    "end": "3487880"
  },
  {
    "text": "of the second thing happening. And then there's\nthis other option. And I don't often know\nwhich one to choose.",
    "start": "3487880",
    "end": "3493370"
  },
  {
    "text": "Yes. So it's a good point. In the last problem,\nThere's a couple",
    "start": "3493370",
    "end": "3499760"
  },
  {
    "text": "of ways of expressing this\nnumerator and a couple of ways of expressing this denominator. In this last problem,\nyou know what",
    "start": "3499760",
    "end": "3506270"
  },
  {
    "text": "I did is I actually in this\nnumerator had E and B. Instead of doing E given times\nprobability of B,",
    "start": "3506270",
    "end": "3511970"
  },
  {
    "text": "I just had\nprobability of E comma B. If you wrote it out\nlike that, technically,",
    "start": "3511970",
    "end": "3517250"
  },
  {
    "text": "it would be the definition\nof conditional probability. So you could, instead\nof writing that top term",
    "start": "3517250",
    "end": "3522380"
  },
  {
    "text": "or calculating that top term,\nyou could have calculated this. ",
    "start": "3522380",
    "end": "3530390"
  },
  {
    "text": "That's the likelihood of\nboth the events happening at the same time or,\nif you're in the world of random variables, what we\ncall the joint probability",
    "start": "3530390",
    "end": "3537212"
  },
  {
    "text": "of those two assignments. There's two ways of\nthinking about this, just like we have\none formula that's just this over that\nand another formula",
    "start": "3537212",
    "end": "3543870"
  },
  {
    "text": "which is this over that. Obviously, that makes\nthose two things equal. And actually, if you thought\nabout the chain rule,",
    "start": "3543870",
    "end": "3550070"
  },
  {
    "text": "the chain rule says that\nthis times this equals that. So if you take, what's the\nlikelihood of B to happen?",
    "start": "3550070",
    "end": "3555710"
  },
  {
    "text": "What's the likelihood\nof E given B? You multiply those\ntwo things together, you get a chance of\nE and B happening.",
    "start": "3555710",
    "end": "3561020"
  },
  {
    "text": "So you have that option. Yes? Sorry. How does mutual\nexclusivity play into that?",
    "start": "3561020",
    "end": "3567440"
  },
  {
    "text": "Do you have to choose one if the\nevents are mutually exclusive and another if they're not? No, it doesn't matter.",
    "start": "3567440",
    "end": "3573694"
  },
  {
    "text": "Neither independence nor\nmutual exclusivity matters. These apply to any\npairs of events. For any two pairs of\nevents, Bayes' rule applies.",
    "start": "3573695",
    "end": "3581599"
  },
  {
    "text": "And you can use either. It just has to do\nwith information that was given to you. Like in the last problem, the\ntable had this information,",
    "start": "3581600",
    "end": "3588000"
  },
  {
    "text": "so this was a convenient form. In the Hamilton problem,\nwe didn't have this,",
    "start": "3588000",
    "end": "3593520"
  },
  {
    "text": "but we had the condition,\nlike, probability of words given the author. And then we had a\nbelief about the author.",
    "start": "3593520",
    "end": "3599500"
  },
  {
    "text": "So we were given information\nin these two expressions. Yes? [INAUDIBLE]",
    "start": "3599500",
    "end": "3604640"
  },
  {
    "text": "Yeah, yeah. No, this is the point. Yes, so then that means the\njoint probability of E and B is",
    "start": "3604640",
    "end": "3610630"
  },
  {
    "text": "basically the numerator\nof the Bayes'? The numerator of the?",
    "start": "3610630",
    "end": "3616150"
  },
  {
    "text": "Bayes', say like when you have\nE given B and E given B. No? So E given B, and what\nwas the other one?",
    "start": "3616150",
    "end": "3624580"
  },
  {
    "text": "So, um, probability-- so\nthe likelihood of evidence-- Yes.",
    "start": "3624580",
    "end": "3629770"
  },
  {
    "text": "--is basically equal to\nthe joint probability of [? B and E? ?] Exactly, exactly. If you multiply the probability\nof evidence with your prior,",
    "start": "3629770",
    "end": "3636070"
  },
  {
    "text": "you get the joint probability\nof the prior and the evidence together. Exactly. What a nice way of putting it.",
    "start": "3636070",
    "end": "3642830"
  },
  {
    "text": "OK. So we're bumping this up. And it's not too\nbig a leap, but I don't want to lose\nanybody on this leap",
    "start": "3642830",
    "end": "3649477"
  },
  {
    "text": "when we go to the world\nof random variables. It's the same\nBayes' theorem, it's just our events are\nmade with assignments",
    "start": "3649477",
    "end": "3654580"
  },
  {
    "text": "to random variables. If I give you a concrete\nstatement like this, I think a lot of\npeople follow me.",
    "start": "3654580",
    "end": "3660250"
  },
  {
    "text": "I think where I could lose a lot\nof people is when I change it to something like this,\nwhere instead of writing",
    "start": "3660250",
    "end": "3667900"
  },
  {
    "text": "concrete numbers with events\nwe can imagine, I use symbols, so like the probability\nthat M takes on the value",
    "start": "3667900",
    "end": "3674050"
  },
  {
    "text": "little m and the probability\nN takes on the value little n. And I just put in a\nvariable assignment.",
    "start": "3674050",
    "end": "3679330"
  },
  {
    "text": "This is true. It's just using a lot more\nsymbols in its notation. So it's the exact same thing.",
    "start": "3679330",
    "end": "3686300"
  },
  {
    "text": "These are all events. I'm just trying to write\na bunch of statements with concrete numbers\nall in one expression.",
    "start": "3686300",
    "end": "3694563"
  },
  {
    "text": "So whenever you see\nsomething like this, feel free to slow me down and be\nlike, whoa, whoa, whoa, Chris. What do you mean when\nyou say probability",
    "start": "3694563",
    "end": "3699938"
  },
  {
    "text": "that M takes on\nthe value little m? OK. And I want to remind\nus of the shorthand",
    "start": "3699938",
    "end": "3706962"
  },
  {
    "text": "I talked about at the\nbeginning of class. This becomes very\nclunky to write. And a lot of times, you'll\nsee things like this.",
    "start": "3706962",
    "end": "3712960"
  },
  {
    "text": "So the probability\nof little m given n implies this bigger expression. So it implies there is a random\nvariable with the capital",
    "start": "3712960",
    "end": "3720809"
  },
  {
    "text": "taking on this value. There's a random variable with\ncapital N taking on this value. But just, it's so\nmuch easier to write",
    "start": "3720810",
    "end": "3726360"
  },
  {
    "text": "and almost easier to see that\npeople love this notation. So if you read a paper,\nyou'll almost always see this shorthand notation.",
    "start": "3726360",
    "end": "3733930"
  },
  {
    "text": "OK. Let's try a real problem. So when babies are born, they\ncan't tell you whether or not",
    "start": "3733930",
    "end": "3742120"
  },
  {
    "text": "they hear things. So they do this test\nto see whether or not babies can hear where\nthey'll play a sound,",
    "start": "3742120",
    "end": "3747400"
  },
  {
    "text": "and then they'll watch if babies\nactually change their gaze. And it is a totally\nstochastic experience.",
    "start": "3747400",
    "end": "3753790"
  },
  {
    "text": "Sometimes babies just\nlook different directions for unrelated reasons. And there has to be a lot of\nreasoning under uncertainty",
    "start": "3753790",
    "end": "3760750"
  },
  {
    "text": "to try and infer,\nis this baby hearing given how they\nchange their gaze? So I'm going to give\nyou a lot of information",
    "start": "3760750",
    "end": "3769450"
  },
  {
    "text": "about a joint relationship\nof two random variables. The two random variables\nthat are interesting",
    "start": "3769450",
    "end": "3774550"
  },
  {
    "text": "here are whether or not\nthe baby changes their gaze and how much they do. So it's a random variable\nwhich can take on values.",
    "start": "3774550",
    "end": "3781270"
  },
  {
    "text": "And there's another\nrandom variable, and this one is going\nto be Bernoulli. It's either true or false,\nand it's whether or not",
    "start": "3781270",
    "end": "3786790"
  },
  {
    "text": "the baby can hear the sound. I'm going to call\nthat one Y equals 1",
    "start": "3786790",
    "end": "3792530"
  },
  {
    "text": "just so we can enter the world\nof using random variables. So we're going to\nobserve X equals 0,",
    "start": "3792530",
    "end": "3798850"
  },
  {
    "text": "and we want to calculate what's\nthe probability of Y equaling 1 given that X equals 0.",
    "start": "3798850",
    "end": "3804099"
  },
  {
    "text": "Now, interestingly\nhere, the information I give you is a conditional\nprobability table.",
    "start": "3804100",
    "end": "3810069"
  },
  {
    "text": "Here I gave you the probability\nof X given that Y equals 1.",
    "start": "3810070",
    "end": "3815380"
  },
  {
    "text": "That's this column. And here's the probability\nof X given that Y equals 0.",
    "start": "3815380",
    "end": "3822530"
  },
  {
    "text": "In order to solve any\nconditional probability question, you want to have\nthe joint distribution. But you want to know\nsomething crazy?",
    "start": "3822530",
    "end": "3828750"
  },
  {
    "text": "I've actually given you the\njoint because I've given you the probability Y equals 1. I've given you the\nprobability Y equals 0.",
    "start": "3828750",
    "end": "3834590"
  },
  {
    "text": "That's just 1 over 4. And then the\nprobability of X given Y, if you multiply\nthe probability X given Y times the probability\nof Y, you've got the joint.",
    "start": "3834590",
    "end": "3842330"
  },
  {
    "text": "But that's not that\nimportant right now. What is important\nright now is I'm going to want to calculate\nthe probability of Y",
    "start": "3842330",
    "end": "3849080"
  },
  {
    "text": "equals 1 so that the baby\ncan hear the sound given",
    "start": "3849080",
    "end": "3857510"
  },
  {
    "text": "that X equals 0. And take a moment with\nthat person next to you.",
    "start": "3857510",
    "end": "3863018"
  },
  {
    "text": "See if you can figure\nout how are you going to get probability\nof Y equals 1 given X equals 0 with the\ninformation that we've got.",
    "start": "3863018",
    "end": "3869157"
  },
  {
    "text": "And so this is a way to\npractice what we've been talking about with Bayes' theorem. ",
    "start": "3869157",
    "end": "3938369"
  },
  {
    "text": "OK.  It's asking a conditional\nprobability question.",
    "start": "3938370",
    "end": "3945380"
  },
  {
    "text": "So we've talked about\nhow that's often going to give you an expression\nthat looks like this.",
    "start": "3945380",
    "end": "3951170"
  },
  {
    "text": "At the top, you might\nhave this product of two different probabilities,\nthe prior and the likelihood",
    "start": "3951170",
    "end": "3957010"
  },
  {
    "text": "of the evidence\ngiven the belief. Or if you were given\ndifferent information, this might be better\nto represent just",
    "start": "3957010",
    "end": "3964240"
  },
  {
    "text": "using the joint probability\nof X equals 0 and Y equals 1. Two options there. But the problem really pushes\nyou towards one of them.",
    "start": "3964240",
    "end": "3971740"
  },
  {
    "text": "And the reason the problem\npushes you towards one of them is that we are given X\ngiven Y equals 1 and X given",
    "start": "3971740",
    "end": "3978390"
  },
  {
    "text": "Y equals 0. So we're given X in the\ncontext where Y equals 1.",
    "start": "3978390",
    "end": "3983700"
  },
  {
    "text": "That's the left-hand side. And we've got X\nwhere Y equals 0. So because the information is\ngiven to us in this format,",
    "start": "3983700",
    "end": "3990810"
  },
  {
    "text": "it's a nice place to start. So what's the probability X\nequals 0 given Y equals 1? This seems like something\nwe could just look up.",
    "start": "3990810",
    "end": "3998840"
  },
  {
    "text": "0.08? 0.08. It's that top thing in the row.",
    "start": "3998840",
    "end": "4004960"
  },
  {
    "text": "It says if Y equals\n1, probability X equals 0 is just this number. What is the probability\nthat Y equals",
    "start": "4004960",
    "end": "4010869"
  },
  {
    "text": "1, your belief before you\nwalk into the experiment?",
    "start": "4010870",
    "end": "4016000"
  },
  {
    "text": "Yeah, 0.75. And that hopefully came\nfrom some informed belief",
    "start": "4016000",
    "end": "4021339"
  },
  {
    "text": "and somebody didn't just\nmake up that number. Though, there's this whole\ndebate in probability about some people--\nthis just, like,",
    "start": "4021340",
    "end": "4027940"
  },
  {
    "text": "turns some people in\nthe mathematical world insane because they're like,\nhow did you get that prior?",
    "start": "4027940",
    "end": "4033128"
  },
  {
    "text": "And people get, like,\nreally up in arms about it. But that's not\nimportant right now. What is important is this\nnormalization constant.",
    "start": "4033128",
    "end": "4039970"
  },
  {
    "text": "What are we going to do with\nthis normalization constant? Question? Just for the 0.75, could we\nhave found that adding up",
    "start": "4039970",
    "end": "4045970"
  },
  {
    "text": "this column as well? Or is that actually\na different number? If you add up this\ncolumn, you should get 1,",
    "start": "4045970",
    "end": "4051730"
  },
  {
    "text": "if I did everything right. 4, 5, 6, 7. Yeah, I think-- 8, 9, 10-- this\nall adds up to 1.",
    "start": "4051730",
    "end": "4059210"
  },
  {
    "text": "And that makes\nsense because if you enter the world where\nthe baby can hear, then you should see\none of these values.",
    "start": "4059210",
    "end": "4066109"
  },
  {
    "text": "If you enter the world\nwhere the baby can't hear, you should see one\nof these values. You get a full\nprobability mass function.",
    "start": "4066110",
    "end": "4073100"
  },
  {
    "text": "So it's a good question. So this doesn't keep any\ninformation about the prior.",
    "start": "4073100",
    "end": "4078700"
  },
  {
    "text": "The prior has to be\ngiven externally. [INAUDIBLE] Yeah, yeah. But if it was a joint, the\nprobability of the prior",
    "start": "4078700",
    "end": "4085000"
  },
  {
    "text": "would have been inside of it. So this is not a joint table. This is a conditional\nprobability table.",
    "start": "4085000",
    "end": "4091760"
  },
  {
    "text": "So we don't-- we're given the\nprobability one random variable conditioned on the other.",
    "start": "4091760",
    "end": "4097000"
  },
  {
    "text": "When we go back here, remember,\nthere was these two tables. This is the joined\ntable, and then we started calculating\nthis conditional table.",
    "start": "4097000",
    "end": "4102850"
  },
  {
    "text": "We've been given a\nconditional table here. OK. Somebody help us! What are we going to do about\nthis normalization constant?",
    "start": "4102850",
    "end": "4110380"
  },
  {
    "text": "Just forget about it. We could calculate\nthe probability of Y equals 0 given X equals 0\nand then try and divide it.",
    "start": "4110380",
    "end": "4116713"
  },
  {
    "text": "We could do that, but we\ndon't need to do that here. There is an easier way. Yes? Law of total probability.",
    "start": "4116713",
    "end": "4122180"
  },
  {
    "text": "Law of total probability. You know, we've kind of got\nthis classic probability that X equals 0 given Y equals\n1 times the probability that Y",
    "start": "4122180",
    "end": "4130960"
  },
  {
    "text": "equals 1 plus the\nprobability that X equals 0 given Y equals 0 times the\nprobability that Y equals 0.",
    "start": "4130960",
    "end": "4140076"
  },
  {
    "text": "You know, if you just thought\nof these as the world of events, this is your classic version\nof Bayes' that you've used a whole bunch in your homework.",
    "start": "4140077",
    "end": "4146262"
  },
  {
    "text": "And then, again, we\nknow this term, 0.08. We know this term, 0.75. We know this term, it's 0.25.",
    "start": "4146262",
    "end": "4152479"
  },
  {
    "text": "And probably the Y equals 0-- X equals 0 given that\nY equals 0 is just 0.4.",
    "start": "4152479",
    "end": "4157729"
  },
  {
    "text": "And this would just\nbecome 0.4 times 0.25. And this would be\nyour 0.08 times 0.75.",
    "start": "4157729",
    "end": "4166189"
  },
  {
    "text": "And we have numbers\nfor every term, so we could just calculate it. ",
    "start": "4166189",
    "end": "4171549"
  },
  {
    "text": "Here it is written\nup into the slides. You know, we just want to do\nbasically a straight Bayes'. And the challenge\nof this problem",
    "start": "4171550",
    "end": "4177759"
  },
  {
    "text": "was mostly just understanding\nthat information was given to you as this\nconditional probability table.",
    "start": "4177760",
    "end": "4183200"
  },
  {
    "text": "So we have a whole\nrandom variable in the world where Y equals\n1 and a whole random variable in the world where Y equals 0.",
    "start": "4183200",
    "end": "4190390"
  },
  {
    "text": "Once you realize what\ninformation you've got, you just plug it\nin, chug, and you get your updated belief of 3\nover 8 that the baby can hear.",
    "start": "4190390",
    "end": "4197612"
  },
  {
    "text": "And that's quite interesting. You know, like, you\nsaw an experiment, and it gave you results.",
    "start": "4197612",
    "end": "4203530"
  },
  {
    "text": "And the results might\nhave just led somebody to conclude that\nthe baby can't hear because they didn't respond. But because there's so much\nnoise in this experiment,",
    "start": "4203530",
    "end": "4211180"
  },
  {
    "text": "there's so much stochasticity\nto how babies respond, you're actually not that\nconfident after you've just seen one observation.",
    "start": "4211180",
    "end": "4217120"
  },
  {
    "text": "Question? And so let's say you instead\nobserved X equals 5, how would",
    "start": "4217120",
    "end": "4222969"
  },
  {
    "text": "you know if you\nwere supposed to use the [? values ?] in the\nfirst row or the second row? Oh, yeah. This is a little\nbit poorly defined.",
    "start": "4222970",
    "end": "4228934"
  },
  {
    "text": "You know, hopefully,\nsomebody tells you if this is like\ninclusive or exclusive. Very good question.",
    "start": "4228935",
    "end": "4234880"
  },
  {
    "text": "So hopefully, somebody\ndid a better job of writing this table. But also, you'll\nnever see exactly 5.",
    "start": "4234880",
    "end": "4242640"
  },
  {
    "text": "It'll be like 4.99999, or\n5.000000001, or larger.",
    "start": "4242640",
    "end": "4248180"
  },
  {
    "text": "But that's such\na cop-out answer. Good question. OK. Yes? So the fact that it's\na range from 0 to 5,",
    "start": "4248180",
    "end": "4255540"
  },
  {
    "text": "should that have an\nimpact on our answer, no? Yeah, this is interesting. You know, technically,\nthis probably",
    "start": "4255540",
    "end": "4261750"
  },
  {
    "text": "should be a continuous\nrandom variable And we'll get to that later. I'll have a continuous\nversion of this. But here I did kind of\na hacky discretization.",
    "start": "4261750",
    "end": "4267810"
  },
  {
    "text": "I took my continuous\nspace, and I binned it. And people do that. And normally when\nit's binned, you just treat everything\nin a bin as one.",
    "start": "4267810",
    "end": "4275769"
  },
  {
    "text": "OK? Good question. You guys, one last\nthing I want us to do.",
    "start": "4275770",
    "end": "4280960"
  },
  {
    "text": "I want us to mix some\ndiscrete and continuous. I have a super\ninteresting problem",
    "start": "4280960",
    "end": "4286420"
  },
  {
    "text": "that's going to make us\nthink about continuous random variables. It kind of speaks to the\nquestion that was just asked.",
    "start": "4286420",
    "end": "4292989"
  },
  {
    "text": "What would you do if this\nwasn't discrete random variable? How would you treat it if\nyour random variable was, say, a Gaussian?",
    "start": "4292990",
    "end": "4299309"
  },
  {
    "text": "So without trying\nto gender elephants, I'm going to do this problem. It turns out that girl\nelephants or female elephants",
    "start": "4299310",
    "end": "4306960"
  },
  {
    "text": "and male elephants at birth\nhave different distributions of weights. And these are actually\nreal distributions.",
    "start": "4306960",
    "end": "4312040"
  },
  {
    "text": "So female elephants\nare 160 kilograms with this standard deviation.",
    "start": "4312040",
    "end": "4317640"
  },
  {
    "text": "And male elephants are\n165 kilograms heavy with this standard deviation.",
    "start": "4317640",
    "end": "4322680"
  },
  {
    "text": "And just to practice, this\nis not the most interesting problem, but I\nthought it was one that could help us practice\nupdating continuous belief",
    "start": "4322680",
    "end": "4330540"
  },
  {
    "text": "given an information. Or, I'm sorry, updating a belief\ngiven continuous information.",
    "start": "4330540",
    "end": "4336360"
  },
  {
    "text": "Here we want to say, all you\nknow about a newborn elephant is its weight. You're told that\nit's 163 kilograms.",
    "start": "4336360",
    "end": "4344460"
  },
  {
    "text": "And now I want you to\nchange your belief about whether or not it's\na boy or a girl.",
    "start": "4344460",
    "end": "4350310"
  },
  {
    "text": "Your prior belief is that\nit's one half, one half. But your posterior belief\nwill be something different.",
    "start": "4350310",
    "end": "4356160"
  },
  {
    "text": "And it's going to\nrequire us to think about the world of\ndiscrete random variables and continuous together.",
    "start": "4356160",
    "end": "4361270"
  },
  {
    "text": " Let me just define some things\nthat are said in this problem.",
    "start": "4361270",
    "end": "4367330"
  },
  {
    "text": "There's two random variables. G is going to be about whether\nor not the elephant is a girl,",
    "start": "4367330",
    "end": "4373450"
  },
  {
    "text": "and G is a Bernoulli\nwith probability 0.5. It's one half probability prior. X is the distribution of\nthe weight of the elephants.",
    "start": "4373450",
    "end": "4380470"
  },
  {
    "text": "If you tell me G\nequals 1, I know X is this normal distribution. If you tell me G equals 0, I\nknow X is this distribution.",
    "start": "4380470",
    "end": "4388572"
  },
  {
    "text": "And, you know,\nmaybe you take this, and you start writing\nout your Bayes' theorem.",
    "start": "4388572",
    "end": "4395610"
  },
  {
    "text": "You're like, this\nproblem says, I want to know the probability\nof G equals 1 or G 1",
    "start": "4395610",
    "end": "4401699"
  },
  {
    "text": "for girl given\nthat X equals 163. And you get probability of G\nequals 1 given X equals 163.",
    "start": "4401700",
    "end": "4411070"
  },
  {
    "text": "And it seems so straightforward. It seems like everything's\ngoing to be just fine. And I promise\nit'll be just fine.",
    "start": "4411070",
    "end": "4416845"
  },
  {
    "text": " So you've got\nprobability X equals 163 given that G equals 1 times\nthe probability that G",
    "start": "4416845",
    "end": "4424480"
  },
  {
    "text": "equals 1 divided by the\nprobability that X equals 163.",
    "start": "4424480",
    "end": "4430420"
  },
  {
    "text": "And you can figure out that\nnormalization constant. This feels fine until you\nget to this expression.",
    "start": "4430420",
    "end": "4440930"
  },
  {
    "text": "If I tell you that an\nelephant is a female, what's the probability that\nits weight is exactly 163?",
    "start": "4440930",
    "end": "4448437"
  },
  {
    "text": " Zero.",
    "start": "4448437",
    "end": "4453820"
  },
  {
    "text": "Because for continuous\nrandom variables, we think about 163.00000000000\nwith infinite precision",
    "start": "4453820",
    "end": "4462040"
  },
  {
    "text": "as being an event\nthat never happens. And so what started as a simple\nproblem now seems terrifying.",
    "start": "4462040",
    "end": "4470660"
  },
  {
    "text": "But let me give you\nan aside that's going to make this not so terrifying. Sorry.",
    "start": "4470660",
    "end": "4475940"
  },
  {
    "text": "When we have joint\ndistributions, we have this goal of inference. Remember at the beginning of\nclass, I gave us this insight?",
    "start": "4475940",
    "end": "4483850"
  },
  {
    "text": "Sure, for a continuous\nrandom variable, the probability that it\ntakes on a value is zero. But a calculus way of\ninterpreting that zero is it",
    "start": "4483850",
    "end": "4491070"
  },
  {
    "text": "is the density, so the\nderivative times an epsilon. Since that epsilon is basically\n0, you can think of this as 0,",
    "start": "4491070",
    "end": "4497160"
  },
  {
    "text": "or the calculus way allows\nyou to add an epsilon. What that means is instead of\nhaving this probability here,",
    "start": "4497160",
    "end": "4504180"
  },
  {
    "text": "I can put in an epsilon. Not times the probability but\ntimes the probability density.",
    "start": "4504180",
    "end": "4511780"
  },
  {
    "text": "And this seems fine, but\nthen you get an answer with an epsilon in it. What the hell does that mean?",
    "start": "4511780",
    "end": "4517349"
  },
  {
    "text": "Until you don't give up,\nand you get to this part. And you're like,\nthis probability",
    "start": "4517350",
    "end": "4522570"
  },
  {
    "text": "is the probability that an\nelephant is exactly 163. Again, you have a\ncontinuous random variable.",
    "start": "4522570",
    "end": "4528328"
  },
  {
    "text": "And again, you have\nsomething that should be a 0. And we're dividing by a 0. Naughty us. But again, you're\nlike, this probability,",
    "start": "4528328",
    "end": "4534989"
  },
  {
    "text": "we can represent it as an\nepsilon times the density.",
    "start": "4534990",
    "end": "4540040"
  },
  {
    "text": "To put that more\nprecisely, let's say you have a discrete and a\ncontinuous random variable.",
    "start": "4540040",
    "end": "4547340"
  },
  {
    "text": "This continuous random\nvariable probability of an exact assignment\ncan be thought of as density times epsilon.",
    "start": "4547340",
    "end": "4552800"
  },
  {
    "text": "And you have an exact\nassignment on both the numerator and the denominator. And then a beautiful,\nbeautiful thing happens when you write\nit out like this.",
    "start": "4552800",
    "end": "4559490"
  },
  {
    "text": "Your epsilons cancel. And a little tear comes to\nyour eye because you're like, I didn't know what to\ndo with those epsilons,",
    "start": "4559490",
    "end": "4564905"
  },
  {
    "text": "but they just went away. I wish every problem in\nlife could be that easy. And when they just go away,\nyou're left with this new",
    "start": "4564905",
    "end": "4571670"
  },
  {
    "text": "version of Bayes'. You guys now have a brand\nnew version of Bayes'. Welcome to the class,\nnew version of Bayes'.",
    "start": "4571670",
    "end": "4578930"
  },
  {
    "text": "It looks just like\nyour Bayes' theorem. But whenever you have a\ncontinuous random variable on the left side, instead of\nusing the probability mass",
    "start": "4578930",
    "end": "4586520"
  },
  {
    "text": "function, you're using the\nprobability density function. And this is the\nmissing information",
    "start": "4586520",
    "end": "4592390"
  },
  {
    "text": "that we needed in order to\nsolve our elephant problem. So there's a bunch of\nversions of Bayes' where you",
    "start": "4592390",
    "end": "4597730"
  },
  {
    "text": "mix discrete and continuous. But the long story short\nis, in all of them, any time you have a\ncontinuous on the left,",
    "start": "4597730",
    "end": "4604000"
  },
  {
    "text": "you use probability density. And so here, if you have a\ncontinuous random variable, my X and Y's are\ncontinuous, you use density.",
    "start": "4604000",
    "end": "4610630"
  },
  {
    "text": "Anytime you have\ncontinuous, use density. Every time you have discrete,\nyou use the probability mass function.",
    "start": "4610630",
    "end": "4615880"
  },
  {
    "text": "And it all works out because\nof those epsilon canceling, so you can derive each\nof these independently.",
    "start": "4615880",
    "end": "4621450"
  },
  {
    "text": "OK. Going back to my elephant, I\nwant to think about this again.",
    "start": "4621450",
    "end": "4627870"
  },
  {
    "text": "So these epsilons are gone. Life seems pretty good.",
    "start": "4627870",
    "end": "4633990"
  },
  {
    "text": "But we still need to solve the\nproblem, and we're not done. The first thing I\nwant to think about",
    "start": "4633990",
    "end": "4640107"
  },
  {
    "text": "is how do we want to\nexpand this lower term. And I'm going to say, we can use\nthe law of total probability. And actually, the slide in\nthe aside that I skipped",
    "start": "4640107",
    "end": "4647880"
  },
  {
    "text": "is, the law of total\nprobability also has this function where if N is\ndiscrete and X is continuous,",
    "start": "4647880",
    "end": "4654570"
  },
  {
    "text": "then you can just use the\nprobability density in place of the probability. And again, you\ncould use an epsilon to derive this if you wanted to.",
    "start": "4654570",
    "end": "4661770"
  },
  {
    "text": "So here, this is equal to\nthe probability density",
    "start": "4661770",
    "end": "4669500"
  },
  {
    "text": "times your prior divided by--\nwe have to expand this term, and I'm going to use the\nlaw of total probability.",
    "start": "4669500",
    "end": "4675720"
  },
  {
    "text": "So f of x equals 163\ngiven that G equals 1 times the probability G\nequals 1 plus the density of 163",
    "start": "4675720",
    "end": "4686870"
  },
  {
    "text": "given G equals 0, so it's a\nboy, times the prior probability that G equals 0.",
    "start": "4686870",
    "end": "4693020"
  },
  {
    "text": "And here you have just\nyour standard Bayes'. It's just any time you had a\ncontinuous random variable,",
    "start": "4693020",
    "end": "4698090"
  },
  {
    "text": "use density instead\nof probabilities. OK. What's the probability\nthat G equals 1?",
    "start": "4698090",
    "end": "4703989"
  },
  {
    "text": "One half! Yeah. So this is just going to be 1/2,\nthis is 1/2, and this is 1/2. All those terms cancel out.",
    "start": "4703990",
    "end": "4711430"
  },
  {
    "text": "And we're just left\nwith these three terms. And you're like, oh,\ngreat, three simple terms. What are we going to do?",
    "start": "4711430",
    "end": "4719270"
  },
  {
    "text": "What is this? It's the probability\ndensity at 163 in the world where\nthe gender is female.",
    "start": "4719270",
    "end": "4726599"
  },
  {
    "text": "Well, in the world\nwhere gender is female, X is given by this\nnormal distribution.",
    "start": "4726600",
    "end": "4732090"
  },
  {
    "text": "And if this is the normal\ndistribution, what's the probability density at 163?",
    "start": "4732090",
    "end": "4737735"
  },
  {
    "text": "If only we had a probability\ndensity formula, which we do",
    "start": "4737735",
    "end": "4744010"
  },
  {
    "text": "have! We have a probability\ndensity formula. We know the likelihood\nof a normal distribution",
    "start": "4744010",
    "end": "4749430"
  },
  {
    "text": "taking on a particular value. So if this normal distribution\nhas a particular mean and particular\nvariance, which we know,",
    "start": "4749430",
    "end": "4755369"
  },
  {
    "text": "we can ask what's the likelihood\nof it taking on value 163. We're just going to be plugging\nin that bad boy in for this--",
    "start": "4755370",
    "end": "4762450"
  },
  {
    "text": "or girl because G equals 1. Putting it over\nthere for this one. And then here, it's\nthe same thing. It's just we've got the\ndistribution for whether or not",
    "start": "4762450",
    "end": "4769110"
  },
  {
    "text": "it's a male. And so the probability\ndensity function of the normal comes in to save the day. I appreciate, this is a\nvery hard thing to do.",
    "start": "4769110",
    "end": "4777210"
  },
  {
    "text": "You guys worked\nvery hard to follow a lot of complicated ideas. But the power that it\nwill lead to is worth it.",
    "start": "4777210",
    "end": "4784270"
  },
  {
    "text": "It's going to allow us to\nsolve very interesting problems if you can master the\nskill of inference. We've practiced on\nsome shorter problems.",
    "start": "4784270",
    "end": "4792000"
  },
  {
    "text": "We're going to\nfinish our practice, but I have a sweet promise\nfor you guys on Monday.",
    "start": "4792000",
    "end": "4797270"
  },
  {
    "text": "Come back on Monday. We're going to use this\nexact same mathematics, not to solve a toy problem but\nto solve a real problem.",
    "start": "4797270",
    "end": "4804500"
  },
  {
    "text": "As you guys know, the\nStanford Acuity Test was invented here in CS109. It does an eye test where\nyou keep track of your belief",
    "start": "4804500",
    "end": "4810800"
  },
  {
    "text": "distribution of what\na person can see, and it keeps updating\nwith new evidence. It's the world's most\naccurate eye test.",
    "start": "4810800",
    "end": "4816170"
  },
  {
    "text": "And we will take this math,\nand we'll make something real. Come back on Monday! Have a fantastic weekend!",
    "start": "4816170",
    "end": "4821400"
  },
  {
    "text": "See you guys, CS109! [CHUCKLES] Sorry\nfor all the yelling. [CHUCKLES]",
    "start": "4821400",
    "end": "4827470"
  },
  {
    "start": "4827470",
    "end": "4832000"
  }
]