[
  {
    "text": " We'll continue on duality\nwhich is this actually",
    "start": "0",
    "end": "8770"
  },
  {
    "text": "super interesting topic. And what we've seen so\nfar, just to remind you,",
    "start": "8770",
    "end": "15349"
  },
  {
    "text": "is we take any optimization\nproblem at all, convex or not, and we form this thing\ncalled the Lagrangian.",
    "start": "15350",
    "end": "21160"
  },
  {
    "text": "And you can mumble about\nwhat's the Lagrangian. You go, well, it's a way to\nincorporate the constraints",
    "start": "21160",
    "end": "28180"
  },
  {
    "text": "into the objective. And you can mumble\nabout, oh, that's the market based thing,\nblah, blah, blah.",
    "start": "28180",
    "end": "34550"
  },
  {
    "text": "OK, they could do this. And it's got these\nmysterious weights, which is how much you weight the\nconstraint functions in forming",
    "start": "34550",
    "end": "43420"
  },
  {
    "text": "this Lagrangian, which is this\nthing that includes some costs or whatever additional\nterms from the objectives.",
    "start": "43420",
    "end": "51460"
  },
  {
    "text": "Sorry, from the constraints. So that's the Lagrangian. And then from that we\nget a dual function. And to get a dual function you\nminimize over x, your variable.",
    "start": "51460",
    "end": "61540"
  },
  {
    "text": "And that gives you\nthis dual function, which is a function of\nthese Lagrange multipliers.",
    "start": "61540",
    "end": "67880"
  },
  {
    "text": "And then we observed\nthat this gives you a lower bound on the optimal\nvalue of the original problem,",
    "start": "67880",
    "end": "75410"
  },
  {
    "text": "everybody. So just to recap where we are. And so you can even think of\nthat as a parametrized lower",
    "start": "75410",
    "end": "81710"
  },
  {
    "text": "bound on the optimal value. It's parametrized\nby lambda and nu. And so in other words,\nfor any lambda nu,",
    "start": "81710",
    "end": "88233"
  },
  {
    "text": "you get a lower bound. Now by the way,\nin a lot of cases, if you just throw in\nrandom lambdas and news, here's the lower bound\nyou get minus infinity.",
    "start": "88233",
    "end": "95870"
  },
  {
    "text": "But that's a\nuniversal lower bound and is utterly uninformative. But in other cases, what you\nget is not obvious at all.",
    "start": "95870",
    "end": "102920"
  },
  {
    "text": "So here's an example. So this is the\npartitioning problem.",
    "start": "102920",
    "end": "107990"
  },
  {
    "text": "I think we talked\nabout it last time. And it's not convex for\na couple of reasons.",
    "start": "107990",
    "end": "115380"
  },
  {
    "text": "Number one, we didn't say that\nW was positive semi-definite. So your objective does\nnot have to be convex.",
    "start": "115380",
    "end": "121260"
  },
  {
    "text": "And then the other\none which makes this very much not\na convex problem is that we have a square equals 1.",
    "start": "121260",
    "end": "129138"
  },
  {
    "text": "And you can't do that\nin a convex problem. Equality constraints\nmust be affine.",
    "start": "129139",
    "end": "136370"
  },
  {
    "text": "So that's the problem. And here what we're\ngoing to do is work out",
    "start": "136370",
    "end": "141590"
  },
  {
    "text": "the dual function for it. And to do that we simply form,\nthis is the Lagrangian here,",
    "start": "141590",
    "end": "148400"
  },
  {
    "text": "and we minimize this over x. And when we minimize\nit over x we",
    "start": "148400",
    "end": "153500"
  },
  {
    "text": "find out that it's a\nconstant plus this thing which is a quadratic form. And the minimum of a\nquadratic form over x",
    "start": "153500",
    "end": "160760"
  },
  {
    "text": "is either 0 if the quadratic\nform is positive semidefinite. I mean, that's\nclearly the minimum.",
    "start": "160760",
    "end": "167629"
  },
  {
    "text": "Or that quadratic\nform, if that matrix has one negative eigenvalue,\nthe minimum is minus infinity.",
    "start": "167630",
    "end": "174920"
  },
  {
    "text": "Then at that point,\nit's game over. It's minus infinity. So you end up with a very\ninteresting lower bound.",
    "start": "174920",
    "end": "183230"
  },
  {
    "text": "It says that if you come\nup with some vectors-- sorry, a vector\nnu or some numbers",
    "start": "183230",
    "end": "188440"
  },
  {
    "text": "nu i, and provided\nthis holds, if you can take your original matrix,\nadd this diagonal matrix,",
    "start": "188440",
    "end": "196540"
  },
  {
    "text": "and if that's\npositive semidefinite, then minus 1 transpose nu is\na lower bound on this problem.",
    "start": "196540",
    "end": "203877"
  },
  {
    "text": "That's actually super\ninteresting because actually solving this problem\nexactly is extremely hard.",
    "start": "203877",
    "end": "209680"
  },
  {
    "text": "Good news is you\nalmost never have to solve it exactly so I'm\nnot too concerned about that.",
    "start": "209680",
    "end": "215799"
  },
  {
    "text": "I mean, for one reason, if\nyou're doing partitioning, somebody made up these W's. And then if you say I\nhaven't solved it exactly,",
    "start": "215800",
    "end": "225670"
  },
  {
    "text": "someone would say, oh, you\nhave to solve it exactly. Then you say to them, where\ndid your W's come from",
    "start": "225670",
    "end": "230810"
  },
  {
    "text": "and they tell you. And the truth is usually,\nthey just made them up. I mean, the sign\nis generally right.",
    "start": "230810",
    "end": "237550"
  },
  {
    "text": "But generally,\nthey're just made up. So it's not that big\na deal in practice that you can't solve\nthis problem exactly.",
    "start": "237550",
    "end": "245110"
  },
  {
    "text": "And let me just give\na quick-- there's a lot of heuristics for this. I think I even\nmentioned one last time,",
    "start": "245110",
    "end": "250519"
  },
  {
    "text": "it's based on\nspectral partitioning, but there's a lot. And the other thing\nis you could write like a super dumb greedy method.",
    "start": "250520",
    "end": "256760"
  },
  {
    "text": "Just like the\ndumbest thing ever. Here's my method. Ready? I'm just saying this is if\nyou were doing Street Fighting stuff, and you're at an\ninternship, or a startup,",
    "start": "256760",
    "end": "263660"
  },
  {
    "text": "and you need to do this. Well, what you'd\nreally do is you'd go find some stuff on GitHub or\nwhatever and start from there.",
    "start": "263660",
    "end": "270210"
  },
  {
    "text": "But the point is what you\nmight do for something like this is you initialize\nx with a random plus/minus 1",
    "start": "270210",
    "end": "275940"
  },
  {
    "text": "vector. Everybody got it? Now, here's my algorithm. It's incredibly dumb. I cycle through the\nindexes 1, 2, 3, 4.",
    "start": "275940",
    "end": "284360"
  },
  {
    "text": "And I simply ask myself\nif I flip the sign of x7, will the objective go down.",
    "start": "284360",
    "end": "291780"
  },
  {
    "text": "If it goes down, I take\nit, and I keep going. And I keep doing this\ncycling through until this",
    "start": "291780",
    "end": "297409"
  },
  {
    "text": "is stationary. Everybody got that? Then if I want to write\nanother four lines of code,",
    "start": "297410",
    "end": "303120"
  },
  {
    "text": "I can start doing\nthings like this. I'll look at pairs and think\nabout simultaneous swaps",
    "start": "303120",
    "end": "309410"
  },
  {
    "text": "and cycle until there\nare no pairs that improve the objective. And then I guess in the-- I guess in the--",
    "start": "309410",
    "end": "315530"
  },
  {
    "text": "I guess it's called in-- I guess, computer science refers\nto the first one as one opt and the second is two opt.",
    "start": "315530",
    "end": "322100"
  },
  {
    "text": "One opt means that\nthere is no change of a single variable that\nwill improve your objective.",
    "start": "322100",
    "end": "328340"
  },
  {
    "text": "And the second one is two opt. There is no change\nof any two variables that would improve\nyour objective.",
    "start": "328340",
    "end": "333919"
  },
  {
    "text": "It doesn't mean you're optimal. It just means you're locally\noptimal in this discrete set,",
    "start": "333920",
    "end": "339080"
  },
  {
    "text": "which is a-- anyway, everybody got that? So methods like that actually\noften work really well.",
    "start": "339080",
    "end": "346670"
  },
  {
    "text": "Then what's\ninteresting is then-- I mean, sometimes\nyou don't care. You put it into\nsome big old project",
    "start": "346670",
    "end": "353498"
  },
  {
    "text": "and everything's working. And it's really cool. And no one really cares. You test it a little bit. You make that kind of stuff.",
    "start": "353498",
    "end": "359789"
  },
  {
    "text": "But no one really cares. But you might ask, how\nfar from optimal is it?",
    "start": "359790",
    "end": "365250"
  },
  {
    "text": "And then it would be something\nlike this that would give you-- that would give you a very-- I mean, give you, in some\ncases, a pretty good bound.",
    "start": "365250",
    "end": "372448"
  },
  {
    "text": "I mean, of course, it\ndepends on your [INAUDIBLE] So what would\nhappen is you'd say, well, I have a heuristic\nruns in 50 milliseconds.",
    "start": "372448",
    "end": "380490"
  },
  {
    "text": "And you'd say, oh, yeah, well,\nI mean on this problem instance, what value did it get? You go, oh, I got this\nthing down to 3.2.",
    "start": "380490",
    "end": "388889"
  },
  {
    "text": "And you go, OK,\nwell, that's cool. How far from optimal is that?",
    "start": "388890",
    "end": "394020"
  },
  {
    "text": "And you'd go, yeah,\nwell, I came up with a lower bound,\nprovable, that says no one could\ndo better than 2.7.",
    "start": "394020",
    "end": "400830"
  },
  {
    "text": "Everybody follow this? That's actually really\nuseful because it means in that project--",
    "start": "400830",
    "end": "406050"
  },
  {
    "text": "I mean you probably\ndon't need to someone-- you don't need\nsomeone to go in there and improve your partitioner.",
    "start": "406050",
    "end": "411870"
  },
  {
    "text": "They should focus-- Everybody seeing this? I'm just saying\nthese are already super interesting\nand practical things.",
    "start": "411870",
    "end": "417314"
  },
  {
    "text": " So there's a strong\nconnection to things",
    "start": "417315",
    "end": "425080"
  },
  {
    "text": "like conjugate functions. And to see that, this is\njust a completely generic--",
    "start": "425080",
    "end": "432430"
  },
  {
    "text": "that's just an\noptimization problem. Not convex, by the way. It doesn't have to be. This is not necessarily\na convex problem.",
    "start": "432430",
    "end": "439210"
  },
  {
    "text": "It's got linear\ninequality constraints so you have a\npolyhedral feasible set.",
    "start": "439210",
    "end": "445000"
  },
  {
    "text": "Of course that's convex. That's fine. And we have an objective\nwe want to minimize.",
    "start": "445000",
    "end": "450400"
  },
  {
    "text": "So if you work out\nthe dual function, well, it's f0 of x plus-- the Lagrangian is f0 of x plus--",
    "start": "450400",
    "end": "456550"
  },
  {
    "text": "this is going to be here, we\nwrite a-- here I write this as-- we're writing it all\nin terms of lambda--",
    "start": "456550",
    "end": "463780"
  },
  {
    "text": "sorry, x. This is lambda\ntranspose Ax minus B, and then plus nu\ntranspose Cx minus d.",
    "start": "463780",
    "end": "471130"
  },
  {
    "text": "And that ends up with\nyou write it this way. And then here, we have\nto minimize over x.",
    "start": "471130",
    "end": "476560"
  },
  {
    "text": "And a lot of stuff floating\naround here but here's what you see. These terms don't\ndepend on x at all.",
    "start": "476560",
    "end": "482760"
  },
  {
    "text": "So we don't care. They pop out of the infimum. Then this thing is,\nminimize a function",
    "start": "482760",
    "end": "490340"
  },
  {
    "text": "plus a linear function. Well, that sounds familiar. As a matter of fact,\nit's like the conjugate.",
    "start": "490340",
    "end": "496740"
  },
  {
    "text": "So unfortunately,\nthe conjugate is you're maximizing a linear\nfunction minus your function.",
    "start": "496740",
    "end": "501990"
  },
  {
    "text": "But these are the same things\nwith the appropriate changes of sign. So what it says is\nthis thing is that.",
    "start": "501990",
    "end": "511400"
  },
  {
    "text": "So there you go. So the conjugate\njust came right out as a portion of\nthe dual function.",
    "start": "511400",
    "end": "518900"
  },
  {
    "text": "Everybody got this? So this is actually\nquite useful.",
    "start": "518900",
    "end": "524870"
  },
  {
    "text": "So here's a problem. If I take this thing,\nthis one's convex. Suppose that's my objective. This is the negative entropy.",
    "start": "524870",
    "end": "531380"
  },
  {
    "text": "And for example, that would be\na super interesting problem. x might be a probability\ndistribution on n items.",
    "start": "531380",
    "end": "539389"
  },
  {
    "text": "Presumably over here, we\nhave 1 transpose x equals 1. And somewhere over here\nwe-- well, actually we",
    "start": "539390",
    "end": "545170"
  },
  {
    "text": "don't need that because\nthe domain of this says all the xs\nare non-negative.",
    "start": "545170",
    "end": "550240"
  },
  {
    "text": "But then the other constraints\nhere are basically the--",
    "start": "550240",
    "end": "555250"
  },
  {
    "text": "this would tell you there are\nexpected values of functions whose value is given.",
    "start": "555250",
    "end": "561430"
  },
  {
    "text": "And this would say\nthey're inequalities. So I could say, oh, the\nsecond moment is this.",
    "start": "561430",
    "end": "568570"
  },
  {
    "text": "The probability that x\nsatisfies this is 0.2.",
    "start": "568570",
    "end": "574450"
  },
  {
    "text": "By the way, the third moment\nlies between this number and that number. Something like this. That would all be this.",
    "start": "574450",
    "end": "579790"
  },
  {
    "text": "And then this problem would\nbe finding the maximum entropy distribution consistent\nwith your requirements",
    "start": "579790",
    "end": "590200"
  },
  {
    "text": "on these expected values. Everybody got that? I mentioned this just\nbecause that's actually quite a real problem",
    "start": "590200",
    "end": "598570"
  },
  {
    "text": "So in this case, I mean you\ncould go through all of this but there's no reason\nto because you just go,",
    "start": "598570",
    "end": "605210"
  },
  {
    "text": "and I go to Google or\nsomething, and type in conjugate of negative entropy.",
    "start": "605210",
    "end": "610460"
  },
  {
    "text": "And you will find out\nthat it's just this thing. And then that means that\nthe dual function of the--",
    "start": "610460",
    "end": "618410"
  },
  {
    "text": "You'd say it this way. The dual function of a\nmaximum entropy problem is a convex optimization problem\nthat involves exponentials.",
    "start": "618410",
    "end": "627980"
  },
  {
    "text": "But by the way-- I mean, that should\nactually strike a chord",
    "start": "627980",
    "end": "634430"
  },
  {
    "text": "to people in\nstatistics because it's a connection between maximum\nentropy and exponential",
    "start": "634430",
    "end": "639500"
  },
  {
    "text": "families. If you know what I'm\ntalking about, fine. And if you don't,\nthat's fine too. But just if you know\nabout that stuff.",
    "start": "639500",
    "end": "646339"
  },
  {
    "text": "And in fact, there's a lot\nof duality, and conjugates, and things floating\naround in those areas.",
    "start": "646340",
    "end": "653970"
  },
  {
    "text": "So let me first\nsay where we are. So here's where we are. We have a method where you\nhave any problem at all",
    "start": "653970",
    "end": "661050"
  },
  {
    "text": "and we form this Lagrangian. Then we form dual function. And someone says, what's\nthe dual function?",
    "start": "661050",
    "end": "666382"
  },
  {
    "text": "And you go, well,\nit's a lower bound on the optimal value\nof your problem. You go, OK, cool.",
    "start": "666382",
    "end": "671699"
  },
  {
    "text": "So then the most obvious\nthing in the world is you'd say, well, what\nare these lambda, nu? And you go, there's parameters.",
    "start": "671700",
    "end": "677970"
  },
  {
    "text": "And you go, well,\nwhat do they do? And you go, for different ones,\nI get different lower bounds. But what you\nobviously want to do",
    "start": "677970",
    "end": "685800"
  },
  {
    "text": "is find the best lower bound. I mean you should have\nan urge to do that. Uncontrollable urge to do that.",
    "start": "685800",
    "end": "691757"
  },
  {
    "text": "And that leads to this\nproblem, and this is called the Lagrange dual problem. And so what it says\nis, g of lambda nu",
    "start": "691757",
    "end": "698053"
  },
  {
    "text": "is this lower bound\non the optimal value of your original problem,\nwhich might not be convex, which is interesting.",
    "start": "698053",
    "end": "704025"
  },
  {
    "text": " Then this says find\nthe largest lower bound",
    "start": "704025",
    "end": "711600"
  },
  {
    "text": "on the objective on the optimal\nvalue of the original problem using Lagrange duality.",
    "start": "711600",
    "end": "719514"
  },
  {
    "text": "That's how you'd\nsay this in English. Here's what's cool. This is actually\na convex problem",
    "start": "719515",
    "end": "725920"
  },
  {
    "text": "even if the original\nproblem was not So that's actually kind of interesting.",
    "start": "725920",
    "end": "731270"
  },
  {
    "text": "So here's an example is, here's\na so-called standard form linear program.",
    "start": "731270",
    "end": "737110"
  },
  {
    "text": "You minimize a linear function\nsubject to equality constraints and non-negativity. And then you'll remember\nthat we worked out the dual.",
    "start": "737110",
    "end": "744070"
  },
  {
    "text": "By the way, this is\nnot quite the du-- The dual here would be\nmaximize a function that",
    "start": "744070",
    "end": "750850"
  },
  {
    "text": "is minus infinity\nunless you satisfy this",
    "start": "750850",
    "end": "756100"
  },
  {
    "text": "and plus infinity otherwise. So I've done a few innocent\ntranslations of the problem",
    "start": "756100",
    "end": "762700"
  },
  {
    "text": "here. So what it says is, these two\nLPs are intimately related,",
    "start": "762700",
    "end": "769839"
  },
  {
    "text": "that's what it says. It says, in fact,\nthey are duals. Actually, the name dual\nsuggests conjugate.",
    "start": "769840",
    "end": "777730"
  },
  {
    "text": "It's something that\nif you do it twice, you get back to the original. And like conjugate,\nthat's kind of true.",
    "start": "777730",
    "end": "784720"
  },
  {
    "text": "But I mean in some cases, right? So we would say\nthese are dual LPs.",
    "start": "784720",
    "end": "790850"
  },
  {
    "text": "Make sense? And I mean these\nthings are not obvious. ",
    "start": "790850",
    "end": "798800"
  },
  {
    "text": "So now, we talk about\nweak and strong dual-- So the first thing\nyou have is this. So d star is the optimal\nvalue of the dual.",
    "start": "798800",
    "end": "806449"
  },
  {
    "text": "And that means it's\nthe largest lower bound on the optimal value\nof your problem",
    "start": "806450",
    "end": "813410"
  },
  {
    "text": "that you can find using\nLagrangian duality. So that's what d star is. p star is the actual value--\nis the actual optimal value",
    "start": "813410",
    "end": "821210"
  },
  {
    "text": "of the problem. And by the way, perfectly cool\nto have either or both of those be infinite.",
    "start": "821210",
    "end": "827300"
  },
  {
    "text": "So for example, if\nd star is infinity, then p star has to be infinity.",
    "start": "827300",
    "end": "834100"
  },
  {
    "text": "And basically,\nthat's a certificate that tells you that the\noriginal problem is infeasible.",
    "start": "834100",
    "end": "841620"
  },
  {
    "text": "So this holds no matter what. That always holds. Convex problems,\nnon-convex, there are no pathologies,\nno exceptions.",
    "start": "841620",
    "end": "847720"
  },
  {
    "text": "It just always holds. That's so-called weak duality. And it's based on these\nvery deep mathematical facts",
    "start": "847720",
    "end": "854576"
  },
  {
    "text": "like the product of two\nnon-negative numbers is non-negative. And if you add two non-negative\nnumbers, it's non-negative. So it looks fancy\nand you can make",
    "start": "854577",
    "end": "862260"
  },
  {
    "text": "it sound fancy, and\nweird, and mystical, and say duality is this. But the point is, it's based\non just the simplest of things.",
    "start": "862260",
    "end": "869910"
  },
  {
    "text": "But now it gets interesting. So strong duality is\nwhen these two are equal.",
    "start": "869910",
    "end": "877350"
  },
  {
    "text": "So it says, there's\nactually-- strong duality says basically that\nyou can actually",
    "start": "877350",
    "end": "886380"
  },
  {
    "text": "find dual variables whose\nassociated lower bound on the optimal value is actually\nequal to the optimal value.",
    "start": "886380",
    "end": "895380"
  },
  {
    "text": "This is strong duality. Now that in general\ndoesn't hold. But here's the cool part. It usually holds\nfor convex problems.",
    "start": "895380",
    "end": "901957"
  },
  {
    "text": "And in fact, I'd\neven strengthen that. I would say that in all\npractical problems, convex",
    "start": "901957",
    "end": "908250"
  },
  {
    "text": "problems, it holds, all. Are there convex problems\nfor which it fails?",
    "start": "908250",
    "end": "913990"
  },
  {
    "text": "There are. But if you encounter one,\nyou better actually go back and ask yourself-- I mean, number one,\nyou're not going to.",
    "start": "913990",
    "end": "920860"
  },
  {
    "text": "But if you did-- actually,\nwhat's much more likely is some annoying\nperson who works with you is going\nto say, well, how",
    "start": "920860",
    "end": "927190"
  },
  {
    "text": "do you know-- how do you know\nyou have strong duality, right? In which case you just\ntell them to go away.",
    "start": "927190",
    "end": "935560"
  },
  {
    "text": "But if you were to encounter\none of these pathologies, you would need to\nrethink your whole--",
    "start": "935560",
    "end": "942220"
  },
  {
    "text": "you're going to\nhave to rethink what you're doing because you're\ndoing something wrong. That's basically the\nright way to say it. ",
    "start": "942220",
    "end": "949450"
  },
  {
    "text": "Now to know that\nstrong duality holds,",
    "start": "949450",
    "end": "956300"
  },
  {
    "text": "you actually have to add\nusually some constraint. These are called\nconstraint qualifications. There's entire books\non these things.",
    "start": "956300",
    "end": "964370"
  },
  {
    "text": "You could take entire\ncourses on nothing but constraint qualifications. And somewhere around\n150th page of these books,",
    "start": "964370",
    "end": "971360"
  },
  {
    "text": "you see this big old thing\nand they have people's names, like Slater's method, and\nthis one, and that one.",
    "start": "971360",
    "end": "977600"
  },
  {
    "text": "And you would see\nwhich implies which and stuff like that,\nwhich is all fine.",
    "start": "977600",
    "end": "982856"
  },
  {
    "text": "I'm trained in pure maths\nso I'm allowed to say things about mathematics.",
    "start": "982856",
    "end": "988339"
  },
  {
    "text": "It's totally fine. I'm not hurting anyone. But it's not something I\nthink normal people need",
    "start": "988340",
    "end": "993620"
  },
  {
    "text": "to worry about, to be perfectly\nhonest But we'll get to that. So here's an example where--",
    "start": "993620",
    "end": "999590"
  },
  {
    "text": "this is actually\nsuper interesting. First you write your three-line\nthing, your greedy thing",
    "start": "999590",
    "end": "1005529"
  },
  {
    "text": "that does partitioning. You test it. It passes all the unit tests. You plug it into the big\nsystem, you're a hero.",
    "start": "1005530",
    "end": "1012130"
  },
  {
    "text": "It works. It's fast. And then at some\npoint you're bored and someone says,\nwell, how far do",
    "start": "1012130",
    "end": "1017570"
  },
  {
    "text": "you think you are from\nthe global optimum? And the answer is\nyou don't know. But what you do then is you\nsolve this convex problem here.",
    "start": "1017570",
    "end": "1025040"
  },
  {
    "text": "That's actually a\nsemidefinite program. And that will give you a number.",
    "start": "1025040",
    "end": "1031160"
  },
  {
    "text": "And you compare it to the number\nthat your greedy algorithm is producing for partitioning.",
    "start": "1031160",
    "end": "1036530"
  },
  {
    "text": "And if they're reasonably\nclose and guess what? Of course they're going to\nbe reasonably close then",
    "start": "1036530",
    "end": "1042962"
  },
  {
    "text": "you declare-- actually\nit's kind of cool. Then you just set that\naside and wait for somebody to say, hey, how do you\ndo your partitioning.",
    "start": "1042962",
    "end": "1049580"
  },
  {
    "text": "And you go, [SCOFFS]\nfour-line greedy algorithm, or whatever you do you. I do spectral\npartitioning followed",
    "start": "1049580",
    "end": "1055753"
  },
  {
    "text": "with a four-line\ngreedy algorithm. And how does it work? And you go, really well, thanks. And then if they're\nannoying, they would say,",
    "start": "1055753",
    "end": "1063470"
  },
  {
    "text": "but that's non-convex. How far are you from\nthe global optimum? Probably the correct answer\nto that is, who cares",
    "start": "1063470",
    "end": "1070009"
  },
  {
    "text": "and please go away because\nI have actual work to do. But that's probably\nthe right one. But you could say,\noh, funny you should",
    "start": "1070010",
    "end": "1075445"
  },
  {
    "text": "ask that because I actually\nsolved the dual problem and I found out I'm\ntypically about 5% to 10%",
    "start": "1075445",
    "end": "1081500"
  },
  {
    "text": "at most suboptimal. Everybody see what I'm saying? Cool.",
    "start": "1081500",
    "end": "1086570"
  },
  {
    "text": "So this is probably the\nmost famous constraint qualification.",
    "start": "1086570",
    "end": "1092540"
  },
  {
    "text": "I guess for people who\nactually study these things, this is the sledge hammer. So just, this is\na sledge hammer.",
    "start": "1092540",
    "end": "1099559"
  },
  {
    "text": "It's just basically like,\nthis will do the trick. It's this. And it basically says\nthat strong duality",
    "start": "1099560",
    "end": "1107600"
  },
  {
    "text": "is guaranteed for\na convex problem provided there exists a point\nwhere the inequalities hold",
    "start": "1107600",
    "end": "1114830"
  },
  {
    "text": "strictly. Now there are lots of problems\nwhere that doesn't hold and yet strong\nduality is just fine. ",
    "start": "1114830",
    "end": "1123510"
  },
  {
    "text": "And for example, you can\nexcuse the linear inequalities from this requirement.",
    "start": "1123510",
    "end": "1129750"
  },
  {
    "text": "That linear inequalities do not\nneed to be satisfied strictly.",
    "start": "1129750",
    "end": "1135180"
  },
  {
    "text": "And there are a\ngazillion other types of constraint qualifications. So if you get into\na weird mood, you can go to Google or\nWikipedia and type constraint",
    "start": "1135180",
    "end": "1142830"
  },
  {
    "text": "qualifications. I mean, if you're\ninterested in that. ",
    "start": "1142830",
    "end": "1150690"
  },
  {
    "text": "So let's look at something. Let's just look at a\ncouple of examples.",
    "start": "1150690",
    "end": "1156809"
  },
  {
    "text": "So here here's an\ninequality form LP. It says, minimize c transpose\nx subject to a whole bunch",
    "start": "1156810",
    "end": "1162650"
  },
  {
    "text": "of linear inequalities. Then the dual function is well,\nyou just form the Lagrangian.",
    "start": "1162650",
    "end": "1168679"
  },
  {
    "text": "The Lagrangian is going to\nbe c transpose x plus lambda transpose Ax minus b.",
    "start": "1168680",
    "end": "1176210"
  },
  {
    "text": "And we rewrite that this way\nso that we see it's an infimum. That's an affine function. And we know what the infimum\nof an affine function is.",
    "start": "1176210",
    "end": "1183049"
  },
  {
    "text": "It's usually minus infinity. But if the linear part of\nthe affine function vanishes,",
    "start": "1183050",
    "end": "1189370"
  },
  {
    "text": "then it's whatever\nthe constant is. So this is that. So the real dual\nproblem is this,",
    "start": "1189370",
    "end": "1195750"
  },
  {
    "text": "is maximize this function\ng subject to lambda bigger than or equal to zero.",
    "start": "1195750",
    "end": "1202139"
  },
  {
    "text": "That's the true or\nliteral dual problem.",
    "start": "1202140",
    "end": "1207360"
  },
  {
    "text": "Then what we're\ngoing to do is here our objective is going to have\nimplicit or hidden constraints.",
    "start": "1207360",
    "end": "1214799"
  },
  {
    "text": "In this case, this\nequality constraint. And if we make\nthat explicit, you",
    "start": "1214800",
    "end": "1220480"
  },
  {
    "text": "would write the dual\nproblem this way. And that would be it.",
    "start": "1220480",
    "end": "1225970"
  },
  {
    "text": "So that's kind of cool. I mean what it says is\nit says the following.",
    "start": "1225970",
    "end": "1232130"
  },
  {
    "text": "It says that this linear\nprogram is very closely related to this one.",
    "start": "1232130",
    "end": "1237610"
  },
  {
    "text": "And we can say all\nsorts of stuff about it. Number one, if you\nhave a lambda that's feasible for this problem,\nso it's non-negative,",
    "start": "1237610",
    "end": "1244750"
  },
  {
    "text": "satisfies this\nequality constraint, then this number\nis a lower bound on the optimal\nvalue of that one.",
    "start": "1244750",
    "end": "1251290"
  },
  {
    "text": "That's number one. Number two, actually,\nin this case,",
    "start": "1251290",
    "end": "1257669"
  },
  {
    "text": "Slater's condition is\nthat this should hold. Well, the stronger form\nof Slater's condition says that if you have\nlinear inequalities,",
    "start": "1257670",
    "end": "1263790"
  },
  {
    "text": "you don't have to-- there is no requirement. So in fact, this one\nyou have strong duality",
    "start": "1263790",
    "end": "1270960"
  },
  {
    "text": "all the time except in\nextremely pathological cases. Where, in fact, you would have\nd star minus infinity and p star",
    "start": "1270960",
    "end": "1278940"
  },
  {
    "text": "equals plus infinity. So they're both infeasible. And you have to construct these. They're extremely\nsmall and silly.",
    "start": "1278940",
    "end": "1284880"
  },
  {
    "text": "But at least now you\nknow that it can happen. It's not going to happen. ",
    "start": "1284880",
    "end": "1291770"
  },
  {
    "text": "And what's cool is if\nyou solve this problem, there's actually a lambda,\nwhich is feasible here",
    "start": "1291770",
    "end": "1299179"
  },
  {
    "text": "and this number is equal\nto the objective there. And that gives you a\ncertificate of optimality,",
    "start": "1299180",
    "end": "1305630"
  },
  {
    "text": "which is awesome. As a matter of fact,\nwhat we're going to find is when you solve this\none by most methods,",
    "start": "1305630",
    "end": "1311179"
  },
  {
    "text": "whether you like it or not, it\nis going to give you a lambda here. So that's really cool because\nit says when you solve an LP,",
    "start": "1311180",
    "end": "1320390"
  },
  {
    "text": "it comes back and it\nsays, yeah, OK, here's x. You check it's feasible and\nyou see its optimal value.",
    "start": "1320390",
    "end": "1325909"
  },
  {
    "text": "Or sorry, you see its value. It also returns a completely\nindependent checkable proof",
    "start": "1325910",
    "end": "1333710"
  },
  {
    "text": "that no feasible\npoint could have an objective value smaller. Everybody see what I'm saying?",
    "start": "1333710",
    "end": "1339260"
  },
  {
    "text": "This is super strong. In numerical computing,\nthis is very rare to get something like that.",
    "start": "1339260",
    "end": "1345770"
  },
  {
    "text": "But that's actually\nwhat all solvers do. It's kind of cool. They return both what's\ncalled a primal optimal",
    "start": "1345770",
    "end": "1353180"
  },
  {
    "text": "and a dual optimal. And the dual optimal serves as\na certificate of optimality.",
    "start": "1353180",
    "end": "1359470"
  },
  {
    "text": "So these are very cool things. Let's look at another example.",
    "start": "1359470",
    "end": "1365430"
  },
  {
    "text": "Here's a quadratic program. So here's the primal problem. So you minimize a quadratic\nover a polyhedron.",
    "start": "1365430",
    "end": "1371780"
  },
  {
    "text": "And we work out\nthe dual function and it looks like this.",
    "start": "1371780",
    "end": "1376820"
  },
  {
    "text": "And so the dual problem is this. And what it says is that\nthis problem and this problem",
    "start": "1376820",
    "end": "1382310"
  },
  {
    "text": "are intimately related. This says, any feasible\nlambda here, this number,",
    "start": "1382310",
    "end": "1387440"
  },
  {
    "text": "is a lower bound on the\noptimal value of that. So that's what this says. Oh, by the way,\nany feasible point",
    "start": "1387440",
    "end": "1394730"
  },
  {
    "text": "here is an upper bound\non the optimal value of-- the objective\nof any feasible point here is an upper bound\non the optimal value of this.",
    "start": "1394730",
    "end": "1401180"
  },
  {
    "text": "I mean, of course. So in this case, you\ndon't even need-- again,",
    "start": "1401180",
    "end": "1407870"
  },
  {
    "text": "these are linear the\nstrong Slater says, you are excused from\nchecking Slater's constraint",
    "start": "1407870",
    "end": "1414050"
  },
  {
    "text": "for linear inequality\nconstraints. And in this problem,\nthere are no exceptions. It's just p star equals d star.",
    "start": "1414050",
    "end": "1420245"
  },
  {
    "text": " So this is the idea.",
    "start": "1420245",
    "end": "1426770"
  },
  {
    "text": "By the way, this is a\nstunning place to get to. Because if you remember how\nthe whole story started,",
    "start": "1426770",
    "end": "1432350"
  },
  {
    "text": "it started very implausibly. Here's how this\nwhole thing started.",
    "start": "1432350",
    "end": "1437390"
  },
  {
    "text": "The whole thing\nstarted this way. You say, well, I have\ninequality constraints and so here's the semantics. Here's f1 of x.",
    "start": "1437390",
    "end": "1443210"
  },
  {
    "text": "It's 0 if you are less\nthan or equal to 0 and plus infinity if you're positive.",
    "start": "1443210",
    "end": "1449690"
  },
  {
    "text": "So we said, that's\nthe problem I have. And you go, oh, cool. May I approximate it?",
    "start": "1449690",
    "end": "1454970"
  },
  {
    "text": "And you go, yeah,\ngo ahead, please. And you say, well, I'm\ngoing to approximate it with something that\nlooks like that.",
    "start": "1454970",
    "end": "1461027"
  },
  {
    "text": "Then you look at that\nand you're like, dude, that's not a good approximate-- I mean, that's not a\ngood approximation.",
    "start": "1461027",
    "end": "1466130"
  },
  {
    "text": "I mean, it's not-- If someone had drawn something\nthat looked like this, you would say, OK,\nthat's an approximation.",
    "start": "1466130",
    "end": "1472940"
  },
  {
    "text": "But I don't know how\nanyone could ever say that this is an approximation. So if you remember, this\nwas the start of the story.",
    "start": "1472940",
    "end": "1479840"
  },
  {
    "text": "And it is deeply implausible. And here's what this is. What this says is that\nweirdly, if you adjust",
    "start": "1479840",
    "end": "1488270"
  },
  {
    "text": "this correctly,\nthen very weirdly,",
    "start": "1488270",
    "end": "1493370"
  },
  {
    "text": "you will actually kind of get-- I don't want to say\nget the solution, but you'll get the optimal\nvalue of the original problem.",
    "start": "1493370",
    "end": "1500740"
  },
  {
    "text": "So in other words, it looks\ndumb but it turns out actually, at least for convex\nproblems, it's not as dumb",
    "start": "1500740",
    "end": "1506429"
  },
  {
    "text": "as it might appear at first. Everybody got that? So I don't know. I find it interesting and cool.",
    "start": "1506430",
    "end": "1513285"
  },
  {
    "text": " Oh, actually I think I'm going\nto skip this and just say",
    "start": "1513285",
    "end": "1519299"
  },
  {
    "text": "the following. There are a number of\nnon-convex problems",
    "start": "1519300",
    "end": "1527420"
  },
  {
    "text": "where people know that\nstrong duality holds.",
    "start": "1527420",
    "end": "1532580"
  },
  {
    "text": "And a famous one, we don't\nhave to worry about this, is actually when you\nminimize a non-quadratic--",
    "start": "1532580",
    "end": "1540320"
  },
  {
    "text": "sorry, a non convex quadratic\nsubject over, let's say, a unit ball.",
    "start": "1540320",
    "end": "1546020"
  },
  {
    "text": "So turns out, in that case, and\nit is not easy to show this,",
    "start": "1546020",
    "end": "1552638"
  },
  {
    "text": "you have strong duality. And that's actually super\ninteresting because--",
    "start": "1552638",
    "end": "1558299"
  },
  {
    "text": "anyway. So by the way, this is\nactually used by some, I think, kind of\nweird people to argue",
    "start": "1558300",
    "end": "1564590"
  },
  {
    "text": "something, which I'll explain. So the general idea is this. The implication of this\nis that any optimization",
    "start": "1564590",
    "end": "1570740"
  },
  {
    "text": "problem with two\nquadratics, convex or not, we can solve tractably.",
    "start": "1570740",
    "end": "1577010"
  },
  {
    "text": "Everybody got that? Now you know a bunch\nof them, right? Eigenvalue problems,\nsingular value problems.",
    "start": "1577010",
    "end": "1582380"
  },
  {
    "text": "If I walk up to you\non the street and say, I have a symmetric matrix. Please maximize x transpose\nAx subject to x transpose",
    "start": "1582380",
    "end": "1588840"
  },
  {
    "text": "x equals 1, you can solve that. That's an eigenvalue problem. And you say, is that\nan approximate solution",
    "start": "1588840",
    "end": "1595625"
  },
  {
    "text": "or a heuristic? And you'll know that's\nthe global solution. And they go, oh, is\nyour problem convex? And you go, actually, it's not.",
    "start": "1595625",
    "end": "1601195"
  },
  {
    "text": "Everybody see what I'm saying?  So I mean it's OK.",
    "start": "1601195",
    "end": "1608020"
  },
  {
    "text": "It's all right. So there are people who\nsay that any problem you can solve, anywhere\nin optimization",
    "start": "1608020",
    "end": "1616140"
  },
  {
    "text": "is because it's convex. That's a very strong\nstatement and it's weird, but it's also partly true.",
    "start": "1616140",
    "end": "1622570"
  },
  {
    "text": "And so you start\nasking questions like, hey, in my computer\nscience class, in my baby computer\nscience class,",
    "start": "1622570",
    "end": "1628920"
  },
  {
    "text": "I found out that we\ncan tractably find the shortest path in a graph.",
    "start": "1628920",
    "end": "1634059"
  },
  {
    "text": "Well, guess? What it turns out that\nthe relaxation of that can be proved to be tight.",
    "start": "1634060",
    "end": "1639840"
  },
  {
    "text": "So there's zero\nduality gap for that. I mean, I think it's silly\nbecause it doesn't really do anything for you. You go, oh, should\nI fire up like CVXPy",
    "start": "1639840",
    "end": "1646559"
  },
  {
    "text": "and use a linear\nprogramming solver to find the shortest path? You're like, no. You should use the shortest path\nalgorithm, of which they have",
    "start": "1646560",
    "end": "1652289"
  },
  {
    "text": "a lot and they're really good. Use Dijkstra or something. Everybody following this? Then they say, yeah, the other\nproblem is I can solve it.",
    "start": "1652290",
    "end": "1661320"
  },
  {
    "text": "I can solve these extremal\nproblems with matrices. I can solve eigen problems.",
    "start": "1661320",
    "end": "1666930"
  },
  {
    "text": "And then all this says\nis you can solve problems because the dual of your\neigen problem is A convex",
    "start": "1666930",
    "end": "1674549"
  },
  {
    "text": "and B has strong duality holds. Everybody see this? So it's a stretch. But technically, it's true.",
    "start": "1674550",
    "end": "1681180"
  },
  {
    "text": "So it's an extreme point of\nview but it's not a bad one.",
    "start": "1681180",
    "end": "1686550"
  },
  {
    "text": "I can't think of any problem in\nany applied mathematics field you can actually globally solve.",
    "start": "1686550",
    "end": "1692760"
  },
  {
    "text": "Where somehow secretly\nbehind the scenes convexity is not lurking.",
    "start": "1692760",
    "end": "1698848"
  },
  {
    "text": "Maybe it's one of these things. Anyway, so it's\njust good to know. The two quadratics thing, that's\na very good thing to know.",
    "start": "1698848",
    "end": "1704280"
  },
  {
    "text": "Very few people know it. It is rediscovered\napproximately every 10 years",
    "start": "1704280",
    "end": "1709500"
  },
  {
    "text": "in each of 10 different fields. So as we speak,\nsomeone is figuring out",
    "start": "1709500",
    "end": "1714960"
  },
  {
    "text": "that they can solve this\nproblem writing a hideous paper with terrible notation\nthat's 25 pages and think that in\ntheir field, they just",
    "start": "1714960",
    "end": "1722880"
  },
  {
    "text": "found some deep thing. And it just keeps happening. There's even a paper\nwritten on the rediscovery",
    "start": "1722880",
    "end": "1729520"
  },
  {
    "text": "of this fact, a history of it. So I mean it's actually sort-- But it is a really\ngood thing to know.",
    "start": "1729520",
    "end": "1736970"
  },
  {
    "text": "And it is not impossible that\nyou will bump into it someday. There are also even weird,\nsick, sick, sick things",
    "start": "1736970",
    "end": "1744130"
  },
  {
    "text": "that also have zero\nduality gap and they come from weird deep things in math. There's one where you have\ninstead of a quadratic,",
    "start": "1744130",
    "end": "1752649"
  },
  {
    "text": "you could have a\nquartic in six variables over the complex field.",
    "start": "1752650",
    "end": "1758530"
  },
  {
    "text": "That would actually\nhave zero duality gap. And the reason would go\nback to some very deep thing",
    "start": "1758530",
    "end": "1764080"
  },
  {
    "text": "about whatever geometry\nand stuff like that. It's algebraic geometry\nand you're like, OK, fine.",
    "start": "1764080",
    "end": "1770030"
  },
  {
    "text": "So there are isolated cases\nwhere non-convex problems have zero gap.",
    "start": "1770030",
    "end": "1775588"
  },
  {
    "text": "That was all weird. And not only can you\nforget that, I'd even suggest forgetting what\nI just said so just",
    "start": "1775588",
    "end": "1782679"
  },
  {
    "text": "because it's just weird. So now we're going to do a\ngeometric interpretation.",
    "start": "1782680",
    "end": "1789532"
  },
  {
    "text": "And what we're\ngoing to do is we're going to do we're going to solve\na problem where you minimize f0 of x subject to\nf1 of x less than 0.",
    "start": "1789532",
    "end": "1796690"
  },
  {
    "text": "This is a non-convex\nproblem and we're just going to-- this is a way\nto visualize what p star",
    "start": "1796690",
    "end": "1802660"
  },
  {
    "text": "and d star are and all\nthat kind of stuff. So what G is-- so G is\ngoing to be the set.",
    "start": "1802660",
    "end": "1809320"
  },
  {
    "text": "Remember, x could be in\ndimension 100, doesn't matter. But G is the set of pairs\nof constraint function",
    "start": "1809320",
    "end": "1815470"
  },
  {
    "text": "and objective. So that's in a plane,\nwe can plot that, and that's what we have here. So if you imagine going\nover all possible x's you",
    "start": "1815470",
    "end": "1824590"
  },
  {
    "text": "get this blob which is G. And\nthen let's talk about that. Well, this axis is f1, which\nis your constraint function.",
    "start": "1824590",
    "end": "1836830"
  },
  {
    "text": "And basically, the semantics\nis, everything to the left is acceptable and\neverything to the right",
    "start": "1836830",
    "end": "1843039"
  },
  {
    "text": "is completely unacceptable. So all the x's\ncorresponding all of this, completely unacceptable.",
    "start": "1843040",
    "end": "1848690"
  },
  {
    "text": "These are cool. So that's what the\nconstraint says. It says ignore the\nright hand side.",
    "start": "1848690",
    "end": "1854348"
  },
  {
    "text": "Or sorry, you're not allowed\nto look at the right hand side. I mean, you can look at it\nbut they are not candidates.",
    "start": "1854348",
    "end": "1861620"
  },
  {
    "text": "Now, the vertical axis is\nactually the objective. And the semantics of\nobjective is extremely simple.",
    "start": "1861620",
    "end": "1868909"
  },
  {
    "text": "The smaller it is, the better. And so graphically now, I can\ntell you precisely what to do.",
    "start": "1868910",
    "end": "1875100"
  },
  {
    "text": "It says when you see\none of these blobs, you ignore everything\non the right. And you can attach a comment to\nit saying they're infeasible.",
    "start": "1875100",
    "end": "1882410"
  },
  {
    "text": "So you can only focus on\nthis thing, this part. And then there your\ngoal is to find the thing that is lowest, has\nthe lowest potential energy,",
    "start": "1882410",
    "end": "1890250"
  },
  {
    "text": "let's say. And that would be\nthis thing here. Everyone got that?",
    "start": "1890250",
    "end": "1895530"
  },
  {
    "text": "And so if we go over\nhere, we'll plot p star on this axis\nand that's p star.",
    "start": "1895530",
    "end": "1901370"
  },
  {
    "text": "Makes sense, right? So that's the picture.  Now let's look at\nthe dual function,",
    "start": "1901370",
    "end": "1909020"
  },
  {
    "text": "which is actually interesting. So let's look at the Lagrangian,\nby the way, is a function--",
    "start": "1909020",
    "end": "1916330"
  },
  {
    "text": "of course it's a function of x,\nwhich has dimension 100, which I just made up. But the point is,\nthe Lagrangian only",
    "start": "1916330",
    "end": "1923170"
  },
  {
    "text": "depends on two numbers,\nwhich is f1 of x and f0 of x. And in fact, it's\nsilly, it's just",
    "start": "1923170",
    "end": "1929080"
  },
  {
    "text": "f0 of x plus lambda f1 of x. That's the Lagrangian. So I can plot the level\ncurves of the Lagrangian",
    "start": "1929080",
    "end": "1936700"
  },
  {
    "text": "and they look like. These are the level curves\nof the Lagrangian here. And I think the slope is--",
    "start": "1936700",
    "end": "1943390"
  },
  {
    "text": "let's see. The slope is maybe minus\nlambda or something like that? I think that's it.",
    "start": "1943390",
    "end": "1948790"
  },
  {
    "text": "Or minus 1 over lambda. Maybe minus lambda. So this is the level-- this\nis for one value of lambda.",
    "start": "1948790",
    "end": "1956691"
  },
  {
    "text": "This is a level curve\nof the Lagrangian. And they would look like this. And so your goal is when\nsomeone fixes lambda, which",
    "start": "1956692",
    "end": "1965570"
  },
  {
    "text": "is the slope, your goal is to\ngo as far as possible this way until you're still touching\nG. Everybody got that?",
    "start": "1965570",
    "end": "1975490"
  },
  {
    "text": "And so you can see\nI've plotted it for what happens for\ndifferent values of lambda.",
    "start": "1975490",
    "end": "1981309"
  },
  {
    "text": "And what you can see\nwhat happens here, it turns out when you take\nthis line when it just touches, where it\nintersects this axis,",
    "start": "1981310",
    "end": "1988419"
  },
  {
    "text": "actually this is g of lambda. And look at that. Sure enough, g of lambda\nis bigger is less than",
    "start": "1988420",
    "end": "1994220"
  },
  {
    "text": "or equal to p star. We knew that. It's a lower bound. And now I can picture in my\nhead fiddling with lambda.",
    "start": "1994220",
    "end": "2001659"
  },
  {
    "text": "If I made lambda\nsuper big, let's say-- well, let me first\nfigure out what it is.",
    "start": "2001660",
    "end": "2009980"
  },
  {
    "text": "Sorry. If lambda is super big, that\nmeans that the slope here is extremely small.",
    "start": "2009980",
    "end": "2016570"
  },
  {
    "text": "And then you can actually see-- in fact, as lambda\ngoes, you're going to get-- you're going to get\na value around here, d star.",
    "start": "2016570",
    "end": "2024309"
  },
  {
    "text": "Sorry, that's d. Now, as I change the slope like\nthis, what's going to happen",
    "start": "2024310",
    "end": "2030100"
  },
  {
    "text": "is this intersection point\nis going to move up here. Right when it's just\ntouching these two points,",
    "start": "2030100",
    "end": "2036429"
  },
  {
    "text": "it's going to hit d star. And when I increase the\nslope again, what happens is my point of\ncontact that's here",
    "start": "2036430",
    "end": "2042038"
  },
  {
    "text": "it's going to rotate around\nthat point of contact and start going down again. And I just, at least, visually\ntraced out what G looks like.",
    "start": "2042038",
    "end": "2049989"
  },
  {
    "text": "It goes up, hits a\nmaximum, then goes down. Well, it's concave. We knew that. Everybody got this?",
    "start": "2049989",
    "end": "2056810"
  },
  {
    "text": "And now for this\nproblem, that's the gap. That's the gap, is\nthis thing here.",
    "start": "2056810",
    "end": "2063888"
  },
  {
    "text": "It's p star minus d star. And now you actually\nsee why you have a gap.",
    "start": "2063889",
    "end": "2069219"
  },
  {
    "text": "You have a gap because\nthere's a dent in this set G, meaning a non-convex portion.",
    "start": "2069219",
    "end": "2075280"
  },
  {
    "text": "So if G were convex,\nyou wouldn't have that-- you wouldn't have this. Everyone see what I'm saying?",
    "start": "2075280",
    "end": "2081080"
  },
  {
    "text": "So this picture,\nonce you internalize, you can kind of see why it\nis that for convex problems,",
    "start": "2081080",
    "end": "2087190"
  },
  {
    "text": "there's zero duality gap. And roughly speaking,\nwhat it says is that--",
    "start": "2087190",
    "end": "2092649"
  },
  {
    "text": "it's a surface. It's going to not be\nexactly G But it's going to be closely related to g. It says that set is convex.",
    "start": "2092650",
    "end": "2098368"
  },
  {
    "text": "And there's going\nto be-- what you're going to do is you're\ngoing to be able to get a hyperplane right up to it\nto any point on that surface",
    "start": "2098368",
    "end": "2104350"
  },
  {
    "text": "and that's what's going to allow\nyou to get zero duality gap. Again, this is just\nfor you to understand",
    "start": "2104350",
    "end": "2111620"
  },
  {
    "text": "why all this stuff works.  That's the geometric\ninterpretation.",
    "start": "2111620",
    "end": "2119310"
  },
  {
    "text": "So to actually make this\nofficial, what you do is in this setting, we\nhave f1 and we have f0.",
    "start": "2119310",
    "end": "2128270"
  },
  {
    "text": "f1 we want to be less\nthan or equal to 0. And f0 we'll take as\nsmall as it can go.",
    "start": "2128270",
    "end": "2133440"
  },
  {
    "text": "So if I form the\nepigraph of that. So if I take all\nthe points, that's A is everything\nthat's like that,",
    "start": "2133440",
    "end": "2139609"
  },
  {
    "text": "it's actually going to be\nthe same thing because-- I mean, actually\nthese are just poin--",
    "start": "2139610",
    "end": "2145010"
  },
  {
    "text": "You don't really care\nabout these points. But it turns out\nthis set is going to be-- this set A for a convex\nproblem is going to be convex.",
    "start": "2145010",
    "end": "2153380"
  },
  {
    "text": "I guess, that's obvious\nbecause it's like a multi-- actually it's the\nintersection of two epigraphs",
    "start": "2153380",
    "end": "2159320"
  },
  {
    "text": "so it's going to be convex. So this is the picture.",
    "start": "2159320",
    "end": "2164670"
  },
  {
    "text": "And then basically\nwhat it says is-- let me redraw this\nfor a convex set",
    "start": "2164670",
    "end": "2170420"
  },
  {
    "text": "and I'll show you\nwhat it looks like. But it should be obvious. So what happens\nis you have this.",
    "start": "2170420",
    "end": "2176750"
  },
  {
    "text": "And for a convex set, this\nthing might look like this or something, I don't know. Let's pretend it\nlooks like that.",
    "start": "2176750",
    "end": "2182540"
  },
  {
    "text": " So p star is here.",
    "start": "2182540",
    "end": "2187650"
  },
  {
    "text": "How do you get p star? Well, I ignore what happens\nover here, I look over here, and I go down as low as I can.",
    "start": "2187650",
    "end": "2194070"
  },
  {
    "text": "And this is p star.  And now how do I get d star?",
    "start": "2194070",
    "end": "2200089"
  },
  {
    "text": "Well, that's simple. Well, I like to think of this. I'm going to put a line.",
    "start": "2200090",
    "end": "2206690"
  },
  {
    "text": "I think it's minus\n1 over lambda. It doesn't matter. I can change the slope on that. What I do with that line is\nI have a point of contact",
    "start": "2206690",
    "end": "2213698"
  },
  {
    "text": "because I'm really going as\nfar down as I can this way. I have a point of contact. I change lambda. And this is g of lambda,\neverybody got that?",
    "start": "2213698",
    "end": "2221990"
  },
  {
    "text": "Here, this intersection. And now the question is how\nbig can I make g of lambda?",
    "start": "2221990",
    "end": "2228269"
  },
  {
    "text": "Which, by the way,\nhas a name d star. And so the answer\nis you rotate this",
    "start": "2228270",
    "end": "2234320"
  },
  {
    "text": "and if I take this\nvalue of lambda, that's a particularly poor value\nbecause this is going",
    "start": "2234320",
    "end": "2240494"
  },
  {
    "text": "to eventually hit\nthis and you're going to have a very negative number. If I take lambda way down\nhere, that's a bad value too.",
    "start": "2240495",
    "end": "2247339"
  },
  {
    "text": "And we can see clearly what's\nactually going to do the trick. It's going to be\nreally very cool.",
    "start": "2247340",
    "end": "2254420"
  },
  {
    "text": "What I do is right here I will\nfind the correct slope is,",
    "start": "2254420",
    "end": "2260599"
  },
  {
    "text": "in fact, is just the tangent\nto this at that point. And there, p star equals d star.",
    "start": "2260600",
    "end": "2268160"
  },
  {
    "text": "Everybody got it? So it's actually kind of cool. Also, this hints at\nlots of other stuff.",
    "start": "2268160",
    "end": "2275630"
  },
  {
    "text": "This hints at another topic\nwe're going to look at, which is this.",
    "start": "2275630",
    "end": "2280940"
  },
  {
    "text": "This says that suppose you\nwent back and negotiated the constraint. The current constraint is\nf1 of x is less than 0.",
    "start": "2280940",
    "end": "2289520"
  },
  {
    "text": "But suppose you went back\nand you said, you know what? I can't do it with a power\nbudget of 50 milliwatts.",
    "start": "2289520",
    "end": "2298790"
  },
  {
    "text": "It won't clock right. It's going to use too much air. I don't know what it is. I can't do it. Please, give me 55\nmilliwatts as a budget.",
    "start": "2298790",
    "end": "2307160"
  },
  {
    "text": "That has the effect of\nmoving this over to here. Then let's say\nthat says you could",
    "start": "2307160",
    "end": "2313309"
  },
  {
    "text": "have this is less than something\nelse that's small right there. That's my extra power.",
    "start": "2313310",
    "end": "2319910"
  },
  {
    "text": "Now to solve that\nproblem, you can see that the objective\nis going to go down. I mean, it had to.",
    "start": "2319910",
    "end": "2328100"
  },
  {
    "text": "You started with 50\nmilliwatt budget. You solved the problem. And you went negotiated.",
    "start": "2328100",
    "end": "2333180"
  },
  {
    "text": "And they said, sure, take 55. And you're like, OK, thanks. Your objective is\nonly going to go down.",
    "start": "2333180",
    "end": "2339970"
  },
  {
    "text": "But here's the cool part,\nyou can see immediately that the amount it\ngoes down is actually",
    "start": "2339970",
    "end": "2345660"
  },
  {
    "text": "extremely well approximated\nby this Lagrange multiplier. Everybody got that? So we're getting a\nlittle ahead of ourselves",
    "start": "2345660",
    "end": "2351643"
  },
  {
    "text": "but that's the idea. So you can even see the optimal\nLagrange multiplier here as a very cool--",
    "start": "2351643",
    "end": "2357430"
  },
  {
    "text": "That's? Why people call it shadow price. It's basically how\nmuch would you pay--",
    "start": "2357430",
    "end": "2363299"
  },
  {
    "text": "how much would you pay\nin terms of the objective to relax or restrict\nthat constraint.",
    "start": "2363300",
    "end": "2370128"
  },
  {
    "text": "So that's the idea. Everybody got the idea there? So I mean these\nare-- we're going",
    "start": "2370128",
    "end": "2375180"
  },
  {
    "text": "to look at this more\ncarefully in a minute but that's the idea. ",
    "start": "2375180",
    "end": "2381340"
  },
  {
    "text": "Oh, by the way,\nalso, with this, you can make up one of those sick\nproblems that's convex and has",
    "start": "2381340",
    "end": "2387790"
  },
  {
    "text": "positive duality gap. I'm not going to do it\njust because you shouldn't. This is just one of those\nthings you shouldn't do.",
    "start": "2387790",
    "end": "2394540"
  },
  {
    "text": "You could do it but I'm\nnot going to because it's silly and all that. ",
    "start": "2394540",
    "end": "2401640"
  },
  {
    "text": "Marching right along,\nwe get to this idea of complementary slackness. So let's see what happens\nif you have zero duality gap",
    "start": "2401640",
    "end": "2410070"
  },
  {
    "text": "and they're achieved. So what that means is you find\nan x here, if you have that.",
    "start": "2410070",
    "end": "2417630"
  },
  {
    "text": "This is a strong\nduality so I have x. And then lambda star, nu star\nare optimal dual variables. By the way you would call\nthis optimal dual variables.",
    "start": "2417630",
    "end": "2426030"
  },
  {
    "text": "And you'd call x star, comma,\nlambda star, nu star, that's primal dual optimal variables.",
    "start": "2426030",
    "end": "2432042"
  },
  {
    "text": "So if you said\nthat, everyone would know what you're talking about. Well, I mean this\nis what it means.",
    "start": "2432042",
    "end": "2438180"
  },
  {
    "text": "That's p star. That's d star. But the definition\nof this is it's the infimum of the\nLagrangian over x",
    "start": "2438180",
    "end": "2444690"
  },
  {
    "text": "with the lambda stars in it. That's fine. But this is the\ninfimum over all x.",
    "start": "2444690",
    "end": "2450240"
  },
  {
    "text": "Well, that's for sure less\nthan or equal to-- if I plug-in x equals x star because\nthat's one of the things",
    "start": "2450240",
    "end": "2455550"
  },
  {
    "text": "you would infimize over. So you get this. And now let's take\na look at this.",
    "start": "2455550",
    "end": "2460780"
  },
  {
    "text": "x star is optimal,\nso these are 0. The his are 0 because\nthat's the original problem.",
    "start": "2460780",
    "end": "2467690"
  },
  {
    "text": "So this goes away. These are less\nthan or equal to 0 because that's what it\nmeans to be feasible.",
    "start": "2467690",
    "end": "2475320"
  },
  {
    "text": "The lambdas are\nbigger and equal to 0. And so this sum here is\nless than or equal to 0. ",
    "start": "2475320",
    "end": "2482760"
  },
  {
    "text": "So this thing is less\nthan or equal to that. Oh, but wait a minute, now I\nhave a chain of these things",
    "start": "2482760",
    "end": "2489450"
  },
  {
    "text": "and that says that these\nare actually equalities.",
    "start": "2489450",
    "end": "2494700"
  },
  {
    "text": "Now let's see what that means. We go back to this term and\nyou know what that means? That means that this term is 0.",
    "start": "2494700",
    "end": "2502240"
  },
  {
    "text": "Now let's talk about that term. It's a sum of products of a\nnon-negative number, lambda i",
    "start": "2502240",
    "end": "2508510"
  },
  {
    "text": "star, times a non-positive\nnumber, fi star. And so actually each term in the\nsum is less than or equal to 0.",
    "start": "2508510",
    "end": "2518067"
  },
  {
    "text": "Now if I walk up to\nyou on the street and I say I have a sum of things\neach less than or equal to 0 and the sum is 0,\nwhat can you conclude?",
    "start": "2518068",
    "end": "2526780"
  },
  {
    "text": "What's that? What? Well, every single\none of them was 0",
    "start": "2526780",
    "end": "2531970"
  },
  {
    "text": "because if any one is\nnon-zero, not going to work. So everybody got this?",
    "start": "2531970",
    "end": "2537589"
  },
  {
    "text": "And that tells you that\nlambda i star, fi star is 0.",
    "start": "2537590",
    "end": "2544050"
  },
  {
    "text": "That's called complementary\nslackness because when fi of x is 0, we say that\nconstraint is tight.",
    "start": "2544050",
    "end": "2552420"
  },
  {
    "text": "If f i x is less than 0, we\nsay that constraint is slack.",
    "start": "2552420",
    "end": "2558339"
  },
  {
    "text": "It's good notation. This says if a constraint is-- if a constraint is\nslack, then for sure",
    "start": "2558340",
    "end": "2566980"
  },
  {
    "text": "the Lagrange\nmultiplier has to be 0. That's what it says.",
    "start": "2566980",
    "end": "2572160"
  },
  {
    "text": " And you can work out\nmany ways to say it.",
    "start": "2572160",
    "end": "2579030"
  },
  {
    "text": "If this thing is non-zero,\nthen for sure have to be tight. So actually what's cool is the\nconnection to these, obviously",
    "start": "2579030",
    "end": "2588120"
  },
  {
    "text": "when you say slack\nand tight, these are references to\nmechanical analogs.",
    "start": "2588120",
    "end": "2593340"
  },
  {
    "text": "And in fact, for mechanical\nanalogs, it works perfectly. You can read in\nthe book about this where you minimize the\npotential energy of something",
    "start": "2593340",
    "end": "2601320"
  },
  {
    "text": "subject to constraints. For example, if there's a\nsurface and something wants",
    "start": "2601320",
    "end": "2607050"
  },
  {
    "text": "to go that way and it\nhits it, then it turns out literally slack means you're\nnot touching that boundary.",
    "start": "2607050",
    "end": "2616230"
  },
  {
    "text": "Tight means you're touching it. And then the coolest\nthing ever happens. It turns out lambda is literally\nthe contact force in newtons.",
    "start": "2616230",
    "end": "2626430"
  },
  {
    "text": "So it says if you're\nnot touching-- or let's take a chain. Let's say I have I have two\nthings connected by a cable.",
    "start": "2626430",
    "end": "2634275"
  },
  {
    "text": "It's a mechanical thing. I minimize potential energy\nand blah, blah, blah. And there it's all\nhanging-- now it's",
    "start": "2634275",
    "end": "2639362"
  },
  {
    "text": "all hanging in some\nnice configuration. What it says is if\na cable is slack,",
    "start": "2639362",
    "end": "2644620"
  },
  {
    "text": "their lambda is precisely\nthe tension in the cable. If it's slack,\nthere's no tension.",
    "start": "2644620",
    "end": "2651880"
  },
  {
    "text": "Some will actually be not slack. They'll be tight. Or in that case,\nyou would say taut.",
    "start": "2651880",
    "end": "2657400"
  },
  {
    "text": "And then the tension\nwill be precisely lambda. By the way, I'll be\nable to show that when",
    "start": "2657400",
    "end": "2663080"
  },
  {
    "text": "we do a little bit\nlater today, that's literally the tension or the\ncontact force in newtons.",
    "start": "2663080",
    "end": "2669410"
  },
  {
    "text": "We'll get to that shortly. I mean if you just know\na little bit, which is actually all I know. Yes?",
    "start": "2669410",
    "end": "2674450"
  },
  {
    "text": "Here how do we know that lambda\nstar and fi star are finite? Can't it be the case that when\nwe solve the dual problem,",
    "start": "2674450",
    "end": "2680829"
  },
  {
    "text": "we see that it goes to infinity? So yes, this is the\ncase where x star",
    "start": "2680830",
    "end": "2687819"
  },
  {
    "text": "is prime-- there exists a\nprimal optimum and dual optimum. You're talking about cases where\nit's an infeasibility problem",
    "start": "2687820",
    "end": "2696352"
  },
  {
    "text": "or something like that. In which case, you\ndon't have this. The dual is unbounded\nor something like that.",
    "start": "2696352",
    "end": "2701605"
  },
  {
    "text": "So this is not that case. That case does come up. So in fact, I'll say something\nabout that case a little bit",
    "start": "2701605",
    "end": "2709510"
  },
  {
    "text": "later. So everybody got this so far? It's actually all very--\nit's all pretty cool right.",
    "start": "2709510",
    "end": "2716020"
  },
  {
    "text": " Now we march on to\nsomething called",
    "start": "2716020",
    "end": "2721450"
  },
  {
    "text": "the KKT, or Karush-Kuhn-Tucker. This is actually a\nvery sweet story, that Lagrange and others\nin the early 19th century",
    "start": "2721450",
    "end": "2732520"
  },
  {
    "text": "came up with these things\nthat have their names on them. These conditions for\nminimizing a function subject",
    "start": "2732520",
    "end": "2739720"
  },
  {
    "text": "to some equality constraints. And that's how Lagrange got\nhis name on these things.",
    "start": "2739720",
    "end": "2747580"
  },
  {
    "text": "And they did it for like one\nor two and stuff like that. And so it's fine.",
    "start": "2747580",
    "end": "2753099"
  },
  {
    "text": "The extension to\ninequalities, actually--",
    "start": "2753100",
    "end": "2759430"
  },
  {
    "text": "I mean certainly if you'd asked\na mid to late 19th century mathematician to figure\nout how does it--",
    "start": "2759430",
    "end": "2766023"
  },
  {
    "text": "they would have\ncome up with this. But for whatever\nreason, it wasn't until, I don't know, like\n1951 that some people",
    "start": "2766023",
    "end": "2772240"
  },
  {
    "text": "at Princeton or whatever,\nthat's like Kuhn and Tucker came up with these. And I mean it's OK.",
    "start": "2772240",
    "end": "2778299"
  },
  {
    "text": "And they were like,\nwow, that's cool. It's an extension of\nwhat Lagrange did. And I don't know. It makes me feel\ngood and all that.",
    "start": "2778300",
    "end": "2784570"
  },
  {
    "text": "Everything's cool. They became called the\nKuhn-Tucker conditions. So if you look in--",
    "start": "2784570",
    "end": "2790090"
  },
  {
    "text": "I don't know. If you look in papers of a\ncertain era, maybe from 1960",
    "start": "2790090",
    "end": "2796540"
  },
  {
    "text": "or '65, you will literally see\njust Kuhn-Tucker conditions.",
    "start": "2796540",
    "end": "2801640"
  },
  {
    "text": "Anyway, they then later\ndiscovered after a decade or so, they discovered\na 1938 master's thesis",
    "start": "2801640",
    "end": "2809200"
  },
  {
    "text": "by Karush that everything\nin it, like everything-- Unpublished. Everything was in it.",
    "start": "2809200",
    "end": "2814600"
  },
  {
    "text": "So then actually they\ndid the right thing, which is to then\npopularize that it should be Karush-Kuhn-Tucker. But actually, the real story\nis that you should never",
    "start": "2814600",
    "end": "2822460"
  },
  {
    "text": "ever pretend that you\ndid something first because number one, almost\ncertainly Gauss knew about it.",
    "start": "2822460",
    "end": "2828620"
  },
  {
    "text": "We could start with that. For sure. And then I mean,\nthen I don't know",
    "start": "2828620",
    "end": "2835339"
  },
  {
    "text": "I have friends who remind\nme that no, this is not the Cauchy-Schwarz inequality.",
    "start": "2835340",
    "end": "2840350"
  },
  {
    "text": "It's the Bhattacharya\ninequality, which is 500 years earlier. So anyway.",
    "start": "2840350",
    "end": "2847383"
  },
  {
    "text": "You should also not\nhang out with people who say things like that. [LAUGHTER] Like, I discovered\nsomething new.",
    "start": "2847383",
    "end": "2853490"
  },
  {
    "text": "Because it's extremely unlikely. All I can say is every time I\never looked into an allegation like that, they proved false.",
    "start": "2853490",
    "end": "2860750"
  },
  {
    "text": "Including, by the way, myself. So it's totally fine.",
    "start": "2860750",
    "end": "2865790"
  },
  {
    "text": "So anyway, sorry. That was just the story\nbehind this, the name. So here they are.",
    "start": "2865790",
    "end": "2871579"
  },
  {
    "text": "These are the KKT conditions. And they are, it says--",
    "start": "2871580",
    "end": "2877050"
  },
  {
    "text": "Look, this is a problem, I have\ndifferentiable functions here. That's where it's normally. They are extensions\nto non-differentiable,",
    "start": "2877050",
    "end": "2882180"
  },
  {
    "text": "doesn't matter. But here's the way it works. And these are going to\nend up being conditions",
    "start": "2882180",
    "end": "2887610"
  },
  {
    "text": "that for convex\nproblems are actually the optimality conditions. But in general, here they are.",
    "start": "2887610",
    "end": "2893220"
  },
  {
    "text": "It says, well, look,\nif you want to be a candidate for being\noptimal, you better",
    "start": "2893220",
    "end": "2898530"
  },
  {
    "text": "satisfy the constraints. Otherwise, you're\nnot a candidate. So the first one is you\nhave to be feasible.",
    "start": "2898530",
    "end": "2907110"
  },
  {
    "text": "Oh, and by the\nway what I'm doing is we're actually looking for-- its conditions that\ncouple x, lambda, and nu.",
    "start": "2907110",
    "end": "2914609"
  },
  {
    "text": "The other one is,\nwell, look, I mean, if the lambda has entries\nthat are negative,",
    "start": "2914610",
    "end": "2920310"
  },
  {
    "text": "it doesn't make any\nsense because it means you're basically\nbeing incented and paid",
    "start": "2920310",
    "end": "2925590"
  },
  {
    "text": "to violate a constraint. And that's why it\ndoesn't make any sense to have lambda i less than\n0-- any of the lambda i's",
    "start": "2925590",
    "end": "2932460"
  },
  {
    "text": "negative, OK? That's this one. And then finally you have\ncomplementary slackness.",
    "start": "2932460",
    "end": "2937780"
  },
  {
    "text": "That's this innocent\nthing that says you can have a positive Lagrange\nmultiplier for an inequality",
    "start": "2937780",
    "end": "2945790"
  },
  {
    "text": "constraint if and\nonly if you're tight. That's what this says.",
    "start": "2945790",
    "end": "2951880"
  },
  {
    "text": "And then the final\none is this is, the gradient of the Lagrangian\nwith respect to x vanishes.",
    "start": "2951880",
    "end": "2957910"
  },
  {
    "text": "And that's just this condition. This is basically the gradient\nsub x of the Lagrangian",
    "start": "2957910",
    "end": "2964539"
  },
  {
    "text": "and that's this. And so I mean, this\nvery much puts it in the style of calculus.",
    "start": "2964540",
    "end": "2971650"
  },
  {
    "text": "This extends the following. If you want to minimize\na convex function f0,",
    "start": "2971650",
    "end": "2978100"
  },
  {
    "text": "then the optimality condition\nis the gradient of f0 is equal to 0, period,\nif it's differentiable.",
    "start": "2978100",
    "end": "2985360"
  },
  {
    "text": "That's just the opt-- And that's actually\nnecessary and sufficient. So this is generalizing\nthat to include constraints.",
    "start": "2985360",
    "end": "2993430"
  },
  {
    "text": "So this is. And what we've seen is if\nyou have a convex problem and you have strong duality--",
    "start": "2993430",
    "end": "2999670"
  },
  {
    "text": "actually it turns out if you\nhave any problem even if it's not convex, if\nstrong duality holds",
    "start": "2999670",
    "end": "3006360"
  },
  {
    "text": "and you obtain the x star,\nlambda star, nu star, then these KKT conditions hold. ",
    "start": "3006360",
    "end": "3013890"
  },
  {
    "text": "And you refer to in a\nproblem, if x, lambda, nu satisfy the KKT\nconditions, that's",
    "start": "3013890",
    "end": "3021000"
  },
  {
    "text": "referred to as a KKT point. That's all it means. And then in the\nusual non-convex case",
    "start": "3021000",
    "end": "3027000"
  },
  {
    "text": "someone says, is it optimal? And you go, might be. Yeah, sure. I mean it's like, look, it's the\nsame thing as if someone says",
    "start": "3027000",
    "end": "3034320"
  },
  {
    "text": "minimize a non-convex\nfunction and you go, I'll look at gradient equals 0.",
    "start": "3034320",
    "end": "3039848"
  },
  {
    "text": "And you find a point where\ngradient is equal to 0 and someone says, does that\nminimize your function? And the correct and legal\nanswer is, I don't know.",
    "start": "3039848",
    "end": "3048160"
  },
  {
    "text": "Maybe. Could. Possibly. And so then they have a\ndifferent word for it.",
    "start": "3048160",
    "end": "3053440"
  },
  {
    "text": "They call it a stationary\npoint or something like that. And maybe there's only\nfive stationary points.",
    "start": "3053440",
    "end": "3058930"
  },
  {
    "text": "Then one of them is\ngoing to be the best. Anyway, I won't go on. So this is KKT conditions.",
    "start": "3058930",
    "end": "3066730"
  },
  {
    "text": "Now for a convex\nproblem, this is cool. If you satisfy the\nKKT conditions,",
    "start": "3066730",
    "end": "3072580"
  },
  {
    "text": "then you're optimal. And I mean it's\nactually really cool.",
    "start": "3072580",
    "end": "3078049"
  },
  {
    "text": "It basically says that\ncomplementary slackness means that when you look back\nat the Lagrangian, all those fi",
    "start": "3078050",
    "end": "3084265"
  },
  {
    "text": "and lambda i's, they're all 0. So in fact, what it says\nis, your objective value",
    "start": "3084265",
    "end": "3090370"
  },
  {
    "text": "for these three things, the\nobjective value of x tilde is also the Lagrangian.",
    "start": "3090370",
    "end": "3096190"
  },
  {
    "text": "Now the Lagrangian\nfor a convex problem is convex because it's\nf0, which is convex.",
    "start": "3096190",
    "end": "3102160"
  },
  {
    "text": "Plus some lambda i. Lambda i are non-negative,\nvery important, times fi that's convex.",
    "start": "3102160",
    "end": "3109539"
  },
  {
    "text": "And then the last one\nis plus nu transpose and then some affine functions.",
    "start": "3109540",
    "end": "3116260"
  },
  {
    "text": "That's also convex. But if the gradient vanishes\nfor a convex problem,",
    "start": "3116260",
    "end": "3121960"
  },
  {
    "text": "it's a minimizer. So that says that when you\nminimize the Lagrangian,",
    "start": "3121960",
    "end": "3128920"
  },
  {
    "text": "you actually get this. But then that means this holds. But that's the primal objective\nand the dual objective.",
    "start": "3128920",
    "end": "3136460"
  },
  {
    "text": "If they're equal,\nthen end of story. x tilde is primal optimal.",
    "start": "3136460",
    "end": "3142790"
  },
  {
    "text": "And lambda star, nu\nstar are dual optimal. Everybody got this?",
    "start": "3142790",
    "end": "3148420"
  },
  {
    "text": " And you could get into stuff\nwith Slater's condition. I actually don't want to.",
    "start": "3148420",
    "end": "3154510"
  },
  {
    "text": "I think probably the\nbest way to remember this is simply KKT conditions\nare a set of conditions that generalize the silly stuff\nfrom calculus-- well,",
    "start": "3154510",
    "end": "3161770"
  },
  {
    "text": "they generalize\ngradient vanishing as the optimality condition\nfor a convex function.",
    "start": "3161770",
    "end": "3167170"
  },
  {
    "text": "It generalizes the 1830\nLagrange multiplier thing. So it says that the thing\nyou were taught mindlessly",
    "start": "3167170",
    "end": "3174250"
  },
  {
    "text": "in your calculus class, which\nis form this as Lagrangian, take the partial with respect\nto x so that equal to 0,",
    "start": "3174250",
    "end": "3179860"
  },
  {
    "text": "take the partial derivative\nwith respect to the Lagrange multiplier. We'll set that equal to 0. And you'd say, OK,\ncool, I did that.",
    "start": "3179860",
    "end": "3184887"
  },
  {
    "text": "And you go, that's the solution. Anyway, it generalizes\nthat and now it handles inequality\nconstraints.",
    "start": "3184887",
    "end": "3191680"
  },
  {
    "text": "So probably that's the best way\nto think of the KKT conditions.",
    "start": "3191680",
    "end": "3197470"
  },
  {
    "text": "So there's a handful of\nproblems where you can actually solve things analytically. I'll just quickly\ngo over one example.",
    "start": "3197470",
    "end": "3204280"
  },
  {
    "text": "It's a famous one\nfrom communications. And let me just give a little\nbackground on the problem.",
    "start": "3204280",
    "end": "3210202"
  },
  {
    "text": "So the background\non the problem is that I have a wireless device. In fact, it's actually happening\nall around us right now.",
    "start": "3210202",
    "end": "3216460"
  },
  {
    "text": "So you have a wireless device. What I do is I\nwant to communicate to another terminal over there.",
    "start": "3216460",
    "end": "3222520"
  },
  {
    "text": "I divide that into 512 channels. Each channel will have its\nown signal to noise ratio",
    "start": "3222520",
    "end": "3229250"
  },
  {
    "text": "because other people\nare transmitting and other stuff is\ngoing down like that. That's the signal\nto noise ratio.",
    "start": "3229250",
    "end": "3234740"
  },
  {
    "text": "Then the question is,\nwhich of those channels should I transmit on\nand at what powers",
    "start": "3234740",
    "end": "3239900"
  },
  {
    "text": "and to maximize my bit rate. Again, if you're not\ninto communications, you don't need to know this.",
    "start": "3239900",
    "end": "3246420"
  },
  {
    "text": "And so this is going to be\nthe log of xi plus alpha.",
    "start": "3246420",
    "end": "3251839"
  },
  {
    "text": "xi is going to be like the\npower I put into channel i. And this is actually going\nto be-- with some constants",
    "start": "3251840",
    "end": "3257675"
  },
  {
    "text": "out in front, it's going\nto be the bandwidth. It's the number\nof bits per second I can pump down channel i. Again, if you know--",
    "start": "3257675",
    "end": "3264110"
  },
  {
    "text": "how many people here have\ntaken information theory, or communication class,\nor anything like that?",
    "start": "3264110",
    "end": "3269960"
  },
  {
    "text": "That's all, OK. It's cool. Fine. That's it.",
    "start": "3269960",
    "end": "3275120"
  },
  {
    "text": "So this basically\nsays figure out the channel the powers to\ntransmit on all your channels to maximize your\ntotal bandwidth.",
    "start": "3275120",
    "end": "3283369"
  },
  {
    "text": "And anyway, so here you\nwrite down the KKT conditions and they actually\nlook like this.",
    "start": "3283370",
    "end": "3289640"
  },
  {
    "text": "And this is one of those\nextremely few problems where you can actually just sit\nout, get out your 19th century",
    "start": "3289640",
    "end": "3296809"
  },
  {
    "text": "pencil and paper, and actually\njust solve the KKT conditions. So I mean actually,\nI won't go into that,",
    "start": "3296810",
    "end": "3304940"
  },
  {
    "text": "except I'll give you\nthe interpretation. People figured this out\nin the '70s or something.",
    "start": "3304940",
    "end": "3310619"
  },
  {
    "text": "And they were like,\nthis is awesome. And it's actually kind of\nsilly because even armed with the analytical\nformula, a numerical method",
    "start": "3310620",
    "end": "3316520"
  },
  {
    "text": "will compute it just as fast. Not only that, you can add\nother constraints to it",
    "start": "3316520",
    "end": "3321829"
  },
  {
    "text": "and stuff like that and\nit'll still be just as fast. Anyway, so people\nwho celebrate these--",
    "start": "3321830",
    "end": "3327500"
  },
  {
    "text": "I mean, look it's nice to\nhave an analytical formula for something but it is kind\nof silly in this day and age.",
    "start": "3327500",
    "end": "3334200"
  },
  {
    "text": "So here the idea is\nthese are the alphas.",
    "start": "3334200",
    "end": "3343320"
  },
  {
    "text": "So if alpha is big,\nit means that there's a lot of noise on that channel.",
    "start": "3343320",
    "end": "3348930"
  },
  {
    "text": "And then what it\nsays is this height, the dark height is actually the\npower you should transmit at.",
    "start": "3348930",
    "end": "3357270"
  },
  {
    "text": "And then what it does is\nit says flood this thing to a certain level\nuntil you have one unit",
    "start": "3357270",
    "end": "3362849"
  },
  {
    "text": "or whatever this is. One unit of water in here. When you do, here's\nwhat you'll find out.",
    "start": "3362850",
    "end": "3369180"
  },
  {
    "text": "This channel, it's\ngot a lot of noise and you should just put a\nlittle bit of power on it.",
    "start": "3369180",
    "end": "3374520"
  },
  {
    "text": "This channel is so bad you\nshould put no power on it. We knew we were going\nto use this one.",
    "start": "3374520",
    "end": "3381105"
  },
  {
    "text": "That's the cleanest channel you\nhave and you put a lot of power in it. Anyway, it's fine.",
    "start": "3381105",
    "end": "3386157"
  },
  {
    "text": "For the people who\nraised their hand before, did you see water\nfilling in that class? You did.",
    "start": "3386157",
    "end": "3391619"
  },
  {
    "text": "[INAUDIBLE] Did they know it was\na convex problem? Yeah, I think so. They did?",
    "start": "3391620",
    "end": "3397100"
  },
  {
    "text": "OK, good. OK, that's progress. Good. Good for them. These are my friends.",
    "start": "3397100",
    "end": "3402690"
  },
  {
    "text": "Where was that? [INAUDIBLE] Caltech. At Caltech. Yeah, they would know. [LAUGHTER]",
    "start": "3402690",
    "end": "3407890"
  },
  {
    "text": "Fine. That's fine. OK, good. Fine. Now we get to a very cool,\nand incredibly practical,",
    "start": "3407890",
    "end": "3416130"
  },
  {
    "text": "and useful application\nof duality right. ",
    "start": "3416130",
    "end": "3422670"
  },
  {
    "text": "So here it is. Here's your original\nproblem, like this.",
    "start": "3422670",
    "end": "3428430"
  },
  {
    "text": "And now what we're\ngoing to do is we're going to imagine\nperturbing the constraints.",
    "start": "3428430",
    "end": "3434130"
  },
  {
    "text": "Perturbing the constraints\nmeans we're going to change the right hand side. So here I'm going to put a ui\nfor the inequality constraints",
    "start": "3434130",
    "end": "3442650"
  },
  {
    "text": "and a vi for these. Super interesting. So let me say-- and there's\nlots of language people",
    "start": "3442650",
    "end": "3448490"
  },
  {
    "text": "would use to describe this. If ui is positive, it says you\nhave relaxed the constraint.",
    "start": "3448490",
    "end": "3457800"
  },
  {
    "text": "Everyone understand that? Because you relaxed it\nbecause you made it easier-- more xs are satisfied.",
    "start": "3457800",
    "end": "3463800"
  },
  {
    "text": "So basically that's\nwhat happened when I had a 50 milliwatt budget. I went back and\nsaid, can't do it.",
    "start": "3463800",
    "end": "3469140"
  },
  {
    "text": "Can't design it. Sorry, I need more power. And then they came back and\nthey said, cool, you get 55.",
    "start": "3469140",
    "end": "3474480"
  },
  {
    "text": "Everybody following? And then when you\nmake ui negative,",
    "start": "3474480",
    "end": "3480000"
  },
  {
    "text": "that's called restricting. That's a restriction. Because when I said I\nwanted five more milliwatts,",
    "start": "3480000",
    "end": "3486660"
  },
  {
    "text": "presumably there's an overall\nbudget somewhere of power, somebody went, whoever my\nmanager was, went to someone",
    "start": "3486660",
    "end": "3492960"
  },
  {
    "text": "designing another part\nof the system and said, hey, can I steal 5\nmilliwatts from you.",
    "start": "3492960",
    "end": "3498900"
  },
  {
    "text": "Everybody following this? And they were like, I guess. It's not going to be as good.",
    "start": "3498900",
    "end": "3504480"
  },
  {
    "text": "And we're like,\nwell, we know it's not as good because we're\ntaking some power away from you. But OK, we'll do it. And we'll remember\nthis at bonus time.",
    "start": "3504480",
    "end": "3511650"
  },
  {
    "text": "Something like that. So that's how this might work.",
    "start": "3511650",
    "end": "3517370"
  },
  {
    "text": "Equality constraints\nit's also super-duper interesting, a perturbation. So here's an example\nwhich is extremely",
    "start": "3517370",
    "end": "3523750"
  },
  {
    "text": "practical and universal. Let's suppose we're\noptimizing an energy system",
    "start": "3523750",
    "end": "3529150"
  },
  {
    "text": "so power flows\nacross, let's say, the entire California grid.",
    "start": "3529150",
    "end": "3534740"
  },
  {
    "text": "Some of the equality\nconstraints basically are flow conservation.",
    "start": "3534740",
    "end": "3540250"
  },
  {
    "text": "You point to some\nplace, some substation, and it says basically the\nsum of the powers coming in",
    "start": "3540250",
    "end": "3548410"
  },
  {
    "text": "from the 115 kilovolt\nlines is going to equal the sum of the\npowers going out over these 15",
    "start": "3548410",
    "end": "3554440"
  },
  {
    "text": "kilovolt distribution lines. That's power conservation.",
    "start": "3554440",
    "end": "3560109"
  },
  {
    "text": "Everybody got that? So then what happens\nif you perturb--",
    "start": "3560110",
    "end": "3566740"
  },
  {
    "text": "so 0 here means\npower coming in is equal to the power going out.",
    "start": "3566740",
    "end": "3571870"
  },
  {
    "text": "If you perturb it, if I put\na number there, like plus, it actually is weird.",
    "start": "3571870",
    "end": "3577130"
  },
  {
    "text": "It basically means, roll a truck\nout over to that substation, hook up a wire to it, and\neither suck some extra power out",
    "start": "3577130",
    "end": "3585320"
  },
  {
    "text": "or pump some in. Everybody got that? Because that's what it means.",
    "start": "3585320",
    "end": "3590390"
  },
  {
    "text": "In that case, you're\nsaying, no the total power-- the net power-- well, let's\nsay it's the net power going",
    "start": "3590390",
    "end": "3596839"
  },
  {
    "text": "into a node and a power system. Normally that should be 0. But if I say, no, it can be\nlike a megawatt or something",
    "start": "3596840",
    "end": "3604550"
  },
  {
    "text": "like that. If it's a megawatt, that\nmeans vi is non-zero. And what that means is the\nsum of the powers of-- what",
    "start": "3604550",
    "end": "3611210"
  },
  {
    "text": "that means is I'm sucking out\n1 megawatt from that node. Everybody got that?",
    "start": "3611210",
    "end": "3616520"
  },
  {
    "text": "So actually keep\nthat idea in mind. And this is just to say\nwhat perturbations are. And perturbations are\nobvious in other areas,",
    "start": "3616520",
    "end": "3623609"
  },
  {
    "text": "as well, what they mean. But they always mean\nsomething interesting.",
    "start": "3623610",
    "end": "3628910"
  },
  {
    "text": "So we are interested in\nthis perturbed problem. And actually, we're super\ninterested in what happens",
    "start": "3628910",
    "end": "3635910"
  },
  {
    "text": "with the optimal value-- what happens to the optimal\nvalue when you have non-zero",
    "start": "3635910",
    "end": "3641750"
  },
  {
    "text": "ui's and v's. So let's talk about that. In this case, if\nI increase ui, you",
    "start": "3641750",
    "end": "3646860"
  },
  {
    "text": "tell me what happens to the\noptimal value of this thing? ",
    "start": "3646860",
    "end": "3654050"
  },
  {
    "text": "If the ui's are positive, what? [INAUDIBLE] down.",
    "start": "3654050",
    "end": "3659160"
  },
  {
    "text": "It's got to go down. Well, OK, it could\nstay the same. By the way, it would stay the\nsame if all of the inequality--",
    "start": "3659160",
    "end": "3665970"
  },
  {
    "text": "if that inequality\nconstraint was slack. You agree with that right? You'd say, I had a\n50-milliwatt thing.",
    "start": "3665970",
    "end": "3674710"
  },
  {
    "text": "And I just did my\npower analysis. I'm coming in at 48 milliwatts. Everybody following this? And then somebody comes to\nme and says, fantastic news.",
    "start": "3674710",
    "end": "3682730"
  },
  {
    "text": "I've got the best\nnews ever for you. Remember I said you had\n50 milliwatt budget? I'm giving you 55.",
    "start": "3682730",
    "end": "3689370"
  },
  {
    "text": "And what is the\nconsequence in that case? There's no consequence at all.",
    "start": "3689370",
    "end": "3694934"
  },
  {
    "text": "You're like, I don't need it\nbecause I'm coming in at 48. I don't even need\nyour stupid 50. Here, take 2 back.",
    "start": "3694935",
    "end": "3701224"
  },
  {
    "text": "Don't say that. But you could say something\nlike that if you wanted and that would be\ncompletely reasonable. Everybody following this?",
    "start": "3701225",
    "end": "3708849"
  },
  {
    "text": "And if ui is\nnegative, and so you tighten the constraint, what\nhappens to the optimal value of this problem?",
    "start": "3708850",
    "end": "3714477"
  },
  {
    "text": " It's going to go up. Once again, if the\nconstraint is slack,",
    "start": "3714477",
    "end": "3720670"
  },
  {
    "text": "it might not go up at all\nbecause they go, yep, sorry, I'm dropping you from 50\nmilliwatt budget to 49.",
    "start": "3720670",
    "end": "3727660"
  },
  {
    "text": "And you go, well, OK, whatever. They go, aren't you going\nto redesign your part? And you go like, no, because\nmy current part is only",
    "start": "3727660",
    "end": "3735040"
  },
  {
    "text": "coming in at 48. Everybody following this? But if it were\ntight, you're going to pay for it, including\nquite possibly,",
    "start": "3735040",
    "end": "3742000"
  },
  {
    "text": "it'll become infeasible. That can happen. Yeah? [INAUDIBLE]",
    "start": "3742000",
    "end": "3747050"
  },
  {
    "text": "Yeah. So that's a strong form\nof an increase in p star. This p star will\nbecome infinity.",
    "start": "3747050",
    "end": "3754090"
  },
  {
    "text": "So can happen. So what happens here\nis if you work out",
    "start": "3754090",
    "end": "3760450"
  },
  {
    "text": "the dual of this problem, that's\nthat, and here's the dual here. And this is only because we've\nshifted these things like that.",
    "start": "3760450",
    "end": "3770190"
  },
  {
    "text": "So we're interested\nin what this-- oh, and by the way if there's\nonly just one of these,",
    "start": "3770190",
    "end": "3776580"
  },
  {
    "text": "then the way you do this\nis you just plot it. And that would be called\na trade-off curve.",
    "start": "3776580",
    "end": "3782790"
  },
  {
    "text": "Suppose, I don't know,\nhere, this is power. Then you simply\nresynthesize the circuit",
    "start": "3782790",
    "end": "3788460"
  },
  {
    "text": "with power budgets running\nwith a the limit running from 10 milliwatts to 80.",
    "start": "3788460",
    "end": "3794610"
  },
  {
    "text": "And you get a curve. And someone would\nsay, what's that? And you go, that's the\noptimal trade-off curve",
    "start": "3794610",
    "end": "3799710"
  },
  {
    "text": "of my objective with respect\nto the power I am allocated. Everybody got that? So you do something like that.",
    "start": "3799710",
    "end": "3806830"
  },
  {
    "text": "So there's just one. And then that's literally\njust this thing here. That's when there's\nonly just one variable.",
    "start": "3806830",
    "end": "3812700"
  },
  {
    "text": "And it requires you to solve\na whole bunch of problems. So no problem.",
    "start": "3812700",
    "end": "3818070"
  },
  {
    "text": "But here we're going to get a\nlot of information, actually local information for free.",
    "start": "3818070",
    "end": "3823170"
  },
  {
    "text": "And it's this. So it turns out that weak\nduality here just gives you",
    "start": "3823170",
    "end": "3832800"
  },
  {
    "text": "a very cool inequality. It says that the\nperturbed optimal cost",
    "start": "3832800",
    "end": "3837990"
  },
  {
    "text": "is bigger than or equal to\nthe unperturbed optimal cost minus these things.",
    "start": "3837990",
    "end": "3844205"
  },
  {
    "text": "And this weird. This is global. This is not local. It's not approximate. It is global.",
    "start": "3844205",
    "end": "3849300"
  },
  {
    "text": "And in fact, it\nkind of makes sense because look at this here.",
    "start": "3849300",
    "end": "3855060"
  },
  {
    "text": "This curve, that's p star. This is p star of u, this curve.",
    "start": "3855060",
    "end": "3860190"
  },
  {
    "text": "This is u. And this curve is p star. And what this says,\nthis thing here",
    "start": "3860190",
    "end": "3866460"
  },
  {
    "text": "is exactly the right\nhand side there. It's essentially this\ntangent plane there.",
    "start": "3866460",
    "end": "3872603"
  },
  {
    "text": "And what it says--\nand you can see it's actually kind of correct. This says if I\ntighten your budget,",
    "start": "3872603",
    "end": "3879210"
  },
  {
    "text": "so I'd have ui negative,\nyou go over here. This says it's got to go\nup at least this amount.",
    "start": "3879210",
    "end": "3885170"
  },
  {
    "text": "And of course, it's convex so it\ngoes up more than that amount. Everybody got that? Including, by the way, it\ncan go up to plus infinity.",
    "start": "3885170",
    "end": "3893060"
  },
  {
    "text": "On the other hand, if I give\nyou more budget, if I say here,",
    "start": "3893060",
    "end": "3898310"
  },
  {
    "text": "have some more\nresources, you'll see this makes a prediction that the\nobjective is going to go down.",
    "start": "3898310",
    "end": "3905869"
  },
  {
    "text": "The amount the objective goes\ndown can't be more than that but it could be less.",
    "start": "3905870",
    "end": "3911380"
  },
  {
    "text": "Everybody got this? So this is super useful.",
    "start": "3911380",
    "end": "3917690"
  },
  {
    "text": "And it's a weird and asymmetric. So you need to spend some time. Basically go to a quiet\nplace and look at this",
    "start": "3917690",
    "end": "3925150"
  },
  {
    "text": "because it's got all\nsorts of implications. Some are obvious. But it's weird and asymmetric\nbecause of this inequality.",
    "start": "3925150",
    "end": "3932119"
  },
  {
    "text": "So it basically says\nif I have a large-- if I have a constraint\nthat has a large--",
    "start": "3932120",
    "end": "3939760"
  },
  {
    "text": "inequality constraint with a\nlarge Lagrange multiplier-- and you have to\nlisten to the English it's because it's going to\nbe very carefully worded.",
    "start": "3939760",
    "end": "3948280"
  },
  {
    "text": "It says basically, in that case,\nif you restrict that problem,",
    "start": "3948280",
    "end": "3953940"
  },
  {
    "text": "then your optimal objective\nwill for sure go up. And someone will say, did\nyou want to re-solve it?",
    "start": "3953940",
    "end": "3961022"
  },
  {
    "text": "And you go, well,\nnumber one, no, thanks, because it takes me 12 hours\nto synthesize the circuit. But number two,\nyou don't have to.",
    "start": "3961022",
    "end": "3967710"
  },
  {
    "text": "And you'd say it's going to\ngo up at least by this amount. And someone would say,\ncould it go up more? And you go, yeah, sure,\nit could go up more.",
    "start": "3967710",
    "end": "3974160"
  },
  {
    "text": "But it can't go up less. They'd say, could it\ngo up to plus infinity? And the answer\nis, yep, it could.",
    "start": "3974160",
    "end": "3980820"
  },
  {
    "text": "It absolutely could. Everybody following this? Now on the other\nhand, it's asymmetric.",
    "start": "3980820",
    "end": "3987030"
  },
  {
    "text": "If lambda i star is large\nand then I say to you,",
    "start": "3987030",
    "end": "3992790"
  },
  {
    "text": "I'm going to give you\nsome more resources. First of all, you\nshould be happy. But when you do\nthat and I ask you",
    "start": "3992790",
    "end": "3998760"
  },
  {
    "text": "what's going to happen\nto your p star-- I mean, you could say a couple-- I mean, let's be very careful\nabout what we're saying.",
    "start": "3998760",
    "end": "4005153"
  },
  {
    "text": "Here would be the correct\nand careful way to say it. You'd say, first\nof all, number one, thank you for the\nadditional resources.",
    "start": "4005153",
    "end": "4011573"
  },
  {
    "text": "That's very important. You have to say that first. So you say that. Then here's what happens. And this is real.",
    "start": "4011573",
    "end": "4017350"
  },
  {
    "text": "Then they'd say,\ngreat, use it well. And you go, oh, I will.",
    "start": "4017350",
    "end": "4022450"
  },
  {
    "text": "And they'd say, what's going\nto happen to your objective? And then you would\nsay, great question. Good news, lambda\nstar is positive.",
    "start": "4022450",
    "end": "4029319"
  },
  {
    "text": "You'd say, well I predict it's\ngoing to go down quite a bit. And they go, what\ndo you mean predict?",
    "start": "4029320",
    "end": "4036670"
  },
  {
    "text": "I just gave you\nsome more resources. And then you'd say,\nOK, I predict it.",
    "start": "4036670",
    "end": "4041910"
  },
  {
    "text": "It probably will. But I can't guarantee it because\nthe actual decrease might be less than what I predict.",
    "start": "4041910",
    "end": "4049830"
  },
  {
    "text": "Everyone got that? And in fact, you could easily\nimagine, I'll draw a sick-- and I'll draw a sad case here\nthat goes like this here.",
    "start": "4049830",
    "end": "4058260"
  },
  {
    "text": "Here's a sad case. You do this like this.",
    "start": "4058260",
    "end": "4064290"
  },
  {
    "text": "And then this thing\nlooks like this. And that's good enough.",
    "start": "4064290",
    "end": "4070000"
  },
  {
    "text": "And then it just\nflattens out right there. So here's your\nLagrange multiplier.",
    "start": "4070000",
    "end": "4076730"
  },
  {
    "text": "Here's your optimal\nLagrange multiplier. It's pretty hefty. And so whoever is allocating\nyou more resources",
    "start": "4076730",
    "end": "4083580"
  },
  {
    "text": "is expecting your\nobjective to go down. If they give you this\nmuch more, they're",
    "start": "4083580",
    "end": "4088770"
  },
  {
    "text": "expecting it to go down to this. But what you can see\nhere is it doesn't. Because you didn't know it\nbut you were just barely",
    "start": "4088770",
    "end": "4094800"
  },
  {
    "text": "at the limit when getting\nadditional resources was not going to help you. Everybody got this?",
    "start": "4094800",
    "end": "4101651"
  },
  {
    "text": "Anyway, so these are weird,\nand asymmetric, and very cool, and all that kind of stuff. And also, this is\nnow unbelievably--",
    "start": "4101652",
    "end": "4107729"
  },
  {
    "text": "this is super useful\nbecause as I said before, when you solve a problem,\nwhether you like it or not,",
    "start": "4107729",
    "end": "4113350"
  },
  {
    "text": "you're going to get optimal\nLagrange multipliers.",
    "start": "4113350",
    "end": "4118439"
  },
  {
    "text": "And this is awesome because\nit allows you to do-- In fact, I'll tell you a story\nabout this from a long time",
    "start": "4118439",
    "end": "4123479"
  },
  {
    "text": "ago. But people are doing\ncircuit design. You have 50 constraints. You'd say, oh, my phase\nmargin has to exceed this.",
    "start": "4123479",
    "end": "4131520"
  },
  {
    "text": "I need to be able to do this. My power should\nbe less than that. My area should be\nless than that. This should be that. Blah, blah, blah.",
    "start": "4131520",
    "end": "4137020"
  },
  {
    "text": "My swing should be this. What is it? My third order distortion\nhas to be less than that.",
    "start": "4137020",
    "end": "4142929"
  },
  {
    "text": "You have all these things. And so you design it. Out of your 50 constraints,\nit's quite typical",
    "start": "4142930",
    "end": "4149410"
  },
  {
    "text": "that only 10 or 15\nare going to be tight. Everybody following this? Then the question is,\nwell, how tight are they?",
    "start": "4149410",
    "end": "4157930"
  },
  {
    "text": "And the Boolean idea of\ntightness goes like this. It says, you were\nallocated 50 milliwatts.",
    "start": "4157930",
    "end": "4163934"
  },
  {
    "text": "How much did you use? 50, you're tight. I insisted on a phase\nmargin of 120 degrees.",
    "start": "4163935",
    "end": "4170007"
  },
  {
    "text": "What's your phase margin? 120. Something like that. So these are tight.",
    "start": "4170008",
    "end": "4175750"
  },
  {
    "text": "But then the question is, you'd\nwant to know which of these--",
    "start": "4175750",
    "end": "4181630"
  },
  {
    "text": "let's get a little\nbit more sophisticated and say which are more\ntight than others.",
    "start": "4181630",
    "end": "4187210"
  },
  {
    "text": "Everybody following this? And somebody want to\ntell me how to do it?",
    "start": "4187210",
    "end": "4192540"
  },
  {
    "text": "You just look at the\nLagrange multipliers. So if I have a 50 milliwatt-- I mean assuming everything\nis on a similar scale.",
    "start": "4192540",
    "end": "4200699"
  },
  {
    "text": "But aside from that, if I have\na power thing, it's tight. I'm using all my budget\nbut my Lagrange multiplier",
    "start": "4200700",
    "end": "4206340"
  },
  {
    "text": "is really small, and I have\nanother constraint which is tight but with a really\nbig Lagrange multiplier, then",
    "start": "4206340",
    "end": "4212340"
  },
  {
    "text": "what it tells me is the first\none you would say it's tight, but it's not that tight.",
    "start": "4212340",
    "end": "4218080"
  },
  {
    "text": "Everybody see what I'm saying? I mean, actually this is\nlike in a mechanical system.",
    "start": "4218080",
    "end": "4224250"
  },
  {
    "text": "You'd say, yeah, it's\nup against the wall but there's not very\nmuch contact force there. Or that cable is taut\nbut the there's only",
    "start": "4224250",
    "end": "4231840"
  },
  {
    "text": "like 5 newtons of tension on it. Everybody see what I'm saying? Oh, by the way, now\nthat you know this,",
    "start": "4231840",
    "end": "4239010"
  },
  {
    "text": "I can describe the\nmechanical thing well. If you minimize the total\nenergy in a configuration",
    "start": "4239010",
    "end": "4245760"
  },
  {
    "text": "of some mechanical thing,\nand you have constraints. The constraint says that,\nfor example, two points",
    "start": "4245760",
    "end": "4252560"
  },
  {
    "text": "can't be more than a meter\napart because there's a cable connecting them. Or another one says\nthere's a floor.",
    "start": "4252560",
    "end": "4257920"
  },
  {
    "text": "And you can't have x1,\nmaybe a position go-- it can't go below the floor.",
    "start": "4257920",
    "end": "4264219"
  },
  {
    "text": "Everybody follow this? So then the Lagrange multipliers\nfor those constraints are actually precisely forces.",
    "start": "4264220",
    "end": "4272170"
  },
  {
    "text": "Because it's the\npartial derivative of the optimal energy with\nrespect to-- when you perturb",
    "start": "4272170",
    "end": "4281740"
  },
  {
    "text": "a constraint like that,\nit's basically saying, I can move the floor down\nor something like that. And that is actually, literally,\nthe physical units are Newtons.",
    "start": "4281740",
    "end": "4288760"
  },
  {
    "text": "So make sense? So it's cool. So anyway, this is like these\nare all super useful stuff.",
    "start": "4288760",
    "end": "4299560"
  },
  {
    "text": "I remember we made a tool\nfor doing this for circuit",
    "start": "4299560",
    "end": "4305190"
  },
  {
    "text": "designers and it ended up-- you 50 constraints and we\ndid things like we colored--",
    "start": "4305190",
    "end": "4312660"
  },
  {
    "text": "one column would be budget. The other would say design. So you'd see 50/50, means\nyou're at your budget.",
    "start": "4312660",
    "end": "4318930"
  },
  {
    "text": "We color them red if the\nLagrange multiplier was large, orange if it was modest, yellow.",
    "start": "4318930",
    "end": "4325460"
  },
  {
    "text": "And there's no color\nat all if it's slack. Everybody got this? Anyway, so circuit designers\nwere like, that is awesome.",
    "start": "4325460",
    "end": "4332239"
  },
  {
    "text": "This is new. Since when have\npeople known about ti? This is amazing. And I said, well, here's a hint.",
    "start": "4332240",
    "end": "4338860"
  },
  {
    "text": "These are called\nLagrange multipliers. And he died in 1840.",
    "start": "4338860",
    "end": "4344250"
  },
  {
    "text": "Anyway, so something\nlike that anyway. I'm just saying, there's a lot\nof-- it is all quite useful.",
    "start": "4344250",
    "end": "4349365"
  },
  {
    "text": " Now we get to the\nlocal sensitivity.",
    "start": "4349365",
    "end": "4354880"
  },
  {
    "text": "So I actually jumped ahead. But that's OK. That's fine. So assuming p star\nis differentiable,",
    "start": "4354880",
    "end": "4361730"
  },
  {
    "text": "which by the way, it often\nis not, let's just say that. But assuming it\nwere, you get these--",
    "start": "4361730",
    "end": "4367000"
  },
  {
    "text": "and these are the things\nmost people think about. You get that the optimal\nLagrange multipliers are",
    "start": "4367000",
    "end": "4373329"
  },
  {
    "text": "very cool partial derivatives. For example, this one is--",
    "start": "4373330",
    "end": "4378896"
  },
  {
    "text": "the lambda i star is the\npartial derivative of--",
    "start": "4378896",
    "end": "4384330"
  },
  {
    "text": "it's actually the\npartial derivative of the optimal cost with\nrespect to tightening that constraint with a\nminus sign in front of it.",
    "start": "4384330",
    "end": "4390480"
  },
  {
    "text": "Because if you tighten\nthe constraint, cost is going to go up and\nthen you put a minus sign and you get something. Anyway, that's it.",
    "start": "4390480",
    "end": "4395790"
  },
  {
    "text": "So it's very cool. So that's the picture.",
    "start": "4395790",
    "end": "4402880"
  },
  {
    "text": "Now I'll go back to\nthe energy example. I have a grid.",
    "start": "4402880",
    "end": "4409539"
  },
  {
    "text": "Then what I do is I look\nat an equality constraint and that equality constraint\nsays at that node,",
    "start": "4409540",
    "end": "4415840"
  },
  {
    "text": "the power going in balances\nthe power going out. Everybody got that? And by the way, the inequality\nconstraint is always tight.",
    "start": "4415840",
    "end": "4422510"
  },
  {
    "text": "And I get a Lagrange\nmultiplier there when I solve my\noptimization problem.",
    "start": "4422510",
    "end": "4428280"
  },
  {
    "text": "I get a Lagrange multiplier. And then the Lagrange\nmultiplier is super interesting because it tells you the partial\nderivative of the total system",
    "start": "4428280",
    "end": "4436230"
  },
  {
    "text": "cost with respect to perturbing\nthat equality constraint. But perturbing an\nequality constraint,",
    "start": "4436230",
    "end": "4442940"
  },
  {
    "text": "which is a balanced constraint,\nthat says everything coming in balancing\neverything going out,",
    "start": "4442940",
    "end": "4448150"
  },
  {
    "text": "basically says it's doing the\nthought experiment, please go hook up some wires and\neither suck some energy in--",
    "start": "4448150",
    "end": "4456820"
  },
  {
    "text": "suck some energy out of the\nsystem there, or pump some in. That's what it means to perturb\nthat equality constraint.",
    "start": "4456820",
    "end": "4463210"
  },
  {
    "text": "What this says, what\nthe Lagrange multiplier tells you then is the increase\nor decrease in overall system",
    "start": "4463210",
    "end": "4472540"
  },
  {
    "text": "cost if you do that. And so in energy,\nthese are called",
    "start": "4472540",
    "end": "4477780"
  },
  {
    "text": "locational marginal prices\nbecause the objective is in dollars. It's the operating cost\nfor your 3,000 generators",
    "start": "4477780",
    "end": "4485280"
  },
  {
    "text": "or whatever,\nsomething like that. Everybody got this? So you can look that up.",
    "start": "4485280",
    "end": "4491527"
  },
  {
    "text": "If you want, you can\ngo-- if you want, you can even find the\nlocational marginal prices in Texas or in California.",
    "start": "4491527",
    "end": "4497190"
  },
  {
    "text": "You specify the node and the\nhour or the 15-minute re-- and you'll get the price. It'll be $83 per megawatt hour.",
    "start": "4497190",
    "end": "4504690"
  },
  {
    "text": "So everybody follow this? And it's just from this. And it all makes perfect sense. It's really cool, I think.",
    "start": "4504690",
    "end": "4510433"
  },
  {
    "text": " Also, this is good for\nresource allocation.",
    "start": "4510433",
    "end": "4517220"
  },
  {
    "text": "So I'm running a data center. I've got 350\ndifferent job classes.",
    "start": "4517220",
    "end": "4525199"
  },
  {
    "text": "And I want to allocate\nresources to them, like I/O bandwidth, numbers\nof cores, whatever it is. These kinds of things.",
    "start": "4525200",
    "end": "4531030"
  },
  {
    "text": "And I want to\nallocate it to them. They're all doing\ndifferent things. Then you get a really\ncool thing where",
    "start": "4531030",
    "end": "4537650"
  },
  {
    "text": "I would ask you how\nmuch better will you do if I give you more cores,\nor more I/O bandwidth,",
    "start": "4537650",
    "end": "4545240"
  },
  {
    "text": "or something like that. And these would these\nliterally tell you that-- these would work out to\nthe prices of the resources",
    "start": "4545240",
    "end": "4552260"
  },
  {
    "text": "in the data center. And that's why in\na lot of fields, people refer to Lagrange\nmultipliers or dual variables",
    "start": "4552260",
    "end": "4558440"
  },
  {
    "text": "as prices or shadow prices. Make sense?",
    "start": "4558440",
    "end": "4563550"
  },
  {
    "text": "Which I think is really\ngood words for this. I guess people in\nmechanical engineering don't because I don't\nknow how to say.",
    "start": "4563550",
    "end": "4571290"
  },
  {
    "text": "For example, I don't know. It seems to me these\nare just two forces. These are just contact forces.",
    "start": "4571290",
    "end": "4576660"
  },
  {
    "text": "And they're not prices. You say, I'd pay more. And you're like, dude,\nthat's a concrete floor.",
    "start": "4576660",
    "end": "4583830"
  },
  {
    "text": "So anyway, those\nare the main areas where people encounter\nall these things and have names for\nthem and stuff.",
    "start": "4583830",
    "end": "4589957"
  },
  {
    "text": " We're going to do-- we're going to look\nat one more topic.",
    "start": "4589957",
    "end": "4597040"
  },
  {
    "text": "Actually, it's\nsuper interesting. And I'll show you what it is. And first let me start\nwith what the issue is.",
    "start": "4597040",
    "end": "4605140"
  },
  {
    "text": "So remember that we have\nproblem reformulations.",
    "start": "4605140",
    "end": "4611760"
  },
  {
    "text": "You take a problem and then\nyou have an equivalent problem. And in computer science\nyou call that a reduction.",
    "start": "4611760",
    "end": "4618346"
  },
  {
    "text": "We just call it an\nequivalent problem. And what it means is if you\ncan solve the other problem,",
    "start": "4618347",
    "end": "4624070"
  },
  {
    "text": "then there's a\nway to reconstruct the solution of the other one. And some of these\ntransformations are obvious.",
    "start": "4624070",
    "end": "4630160"
  },
  {
    "text": "Some aren't, by the way,\nbut most are, simple ones. In fact, anyone's\ncurious what CVXPy does,",
    "start": "4630160",
    "end": "4637060"
  },
  {
    "text": "it does absolutely\nnothing but this. It starts with your problem. It creates a new equivalent\nproblem, and another one,",
    "start": "4637060",
    "end": "4643967"
  },
  {
    "text": "and another one,\nanother one, another. And then 42 steps later,\nyou arrive at a problem",
    "start": "4643967",
    "end": "4649869"
  },
  {
    "text": "which a solver can handle. Then you throw it to the solver. And then you pull it all\nback because every one",
    "start": "4649870",
    "end": "4656600"
  },
  {
    "text": "of those reduction methods has\na retrieval method associated with it which tells\nyou if you solved",
    "start": "4656600",
    "end": "4662659"
  },
  {
    "text": "the thing that I\nreduced this to, how would I solve\nthe original problem. I mean you didn't\nneed to follow that.",
    "start": "4662660",
    "end": "4667679"
  },
  {
    "text": "But if you're just curious,\nthat's what it does. If you know about compilers,\nthat's a rewriting system.",
    "start": "4667680",
    "end": "4673310"
  },
  {
    "text": "That's how one type of\ncompiler works that way.",
    "start": "4673310",
    "end": "4679850"
  },
  {
    "text": "It takes your source\ncode, generates new source code\nthat it can prove",
    "start": "4679850",
    "end": "4685199"
  },
  {
    "text": "is semantically equivalent. So for example, it might\nreorder some operations",
    "start": "4685200",
    "end": "4690210"
  },
  {
    "text": "but it will only\ndo that if it knows that it's going to\npreserve the semantics",
    "start": "4690210",
    "end": "4695429"
  },
  {
    "text": "of your original program. And you can do\nthat, for example, if they don't have anything\nto do with each other. If no one writes on some\nmemory, that kind of thing.",
    "start": "4695430",
    "end": "4703958"
  },
  {
    "text": "Anyway, you just do that stuff. So you just do lots\nand lots of rewriting and then you end up with--\nand lot of modern things",
    "start": "4703958",
    "end": "4710760"
  },
  {
    "text": "do exactly that kind of stuff. So here's what I\nwas going to say.",
    "start": "4710760",
    "end": "4715928"
  },
  {
    "text": "And maybe we'll do the\nmain thing yesterday but I'll just set\nthe picture up now. So you start with a\nproblem P. And then",
    "start": "4715928",
    "end": "4724769"
  },
  {
    "text": "I'm going to change\nit to a new one. This is the equivalent. And this could be\nsomething really dumb,",
    "start": "4724770",
    "end": "4731340"
  },
  {
    "text": "like eliminating\nequality constraints, adding equality constraint. I don't know. Adding slack variables.",
    "start": "4731340",
    "end": "4736830"
  },
  {
    "text": "Just something, right? And so you can think\nof these as equivalent. And I can form a Lagrange\ndual here and I get this.",
    "start": "4736830",
    "end": "4744490"
  },
  {
    "text": " Well, but I can form the\nLagrange dual of this thing",
    "start": "4744490",
    "end": "4750540"
  },
  {
    "text": "and that should be-- I'll call that D tilde star\nor something like that.",
    "start": "4750540",
    "end": "4756390"
  },
  {
    "text": "Or no, I'll just\ncall it D tilde. Sorry, there we go. Like that.",
    "start": "4756390",
    "end": "4762270"
  },
  {
    "text": "And so then you'd say,\nlook, these two problems are intimately connected\nbecause they're equivalent.",
    "start": "4762270",
    "end": "4768230"
  },
  {
    "text": "These two are\nintimately connected because as the Lagrange\ndual of this one. This one is intimately connected\nto Lagrange dual of that one.",
    "start": "4768230",
    "end": "4775520"
  },
  {
    "text": "So then I want to ask\nwhat about these two. And here's what you--",
    "start": "4775520",
    "end": "4781760"
  },
  {
    "text": "I mean, they are\nobviously closely related. They all have the\nsame optimal value, I mean assuming\nthere's strong duality.",
    "start": "4781760",
    "end": "4789230"
  },
  {
    "text": "Because this has the same\noptimal value as that. That's what it means to be an-- this has the same as that of\nstrong duality and [INAUDIBLE]..",
    "start": "4789230",
    "end": "4796400"
  },
  {
    "text": "So this is related\nto that one certainly through this chain of three. But what you really\nwant to do is",
    "start": "4796400",
    "end": "4802400"
  },
  {
    "text": "draw this in and\nsay that there's some connection between them.",
    "start": "4802400",
    "end": "4807730"
  },
  {
    "text": "So it sounds great. And by the way, people trained\nin math will have a huge urge.",
    "start": "4807730",
    "end": "4813180"
  },
  {
    "text": "If you show this picture\nto someone in math, their motor cortex\nwill start twitching",
    "start": "4813180",
    "end": "4818730"
  },
  {
    "text": "because they want to write\nin and they want to make that a commutative diagram. So it's true.",
    "start": "4818730",
    "end": "4824760"
  },
  {
    "text": "Don't deny it. So if you see that\nand you show-- if you go to the math\ndepartment and sh-- they're going to go like--\nthey're going to be-- they're",
    "start": "4824760",
    "end": "4830790"
  },
  {
    "text": "going to be looking\nfor chalk, OK? Not this thing. But when they get the chalk,\nthey're going to draw in a line",
    "start": "4830790",
    "end": "4835870"
  },
  {
    "text": "there. Anyway so, this\nis just to set up and I think we'll\nquit for today.",
    "start": "4835870",
    "end": "4840980"
  },
  {
    "start": "4840980",
    "end": "4846000"
  }
]