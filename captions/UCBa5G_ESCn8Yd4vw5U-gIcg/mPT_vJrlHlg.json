[
  {
    "start": "0",
    "end": "67000"
  },
  {
    "text": "so my name is Frank McKean and I work at Intel and I have been working on this",
    "start": "11289",
    "end": "18169"
  },
  {
    "text": "particular project for the last mo8",
    "start": "18169",
    "end": "23210"
  },
  {
    "text": "years I guess and and I wanted to go through at a high level how this works and the mechanisms and if you have",
    "start": "23210",
    "end": "31160"
  },
  {
    "text": "additional questions I'm more than happy to follow up with other things later on but this is a overview of what this what",
    "start": "31160",
    "end": "40489"
  },
  {
    "text": "this particular technology does so I am",
    "start": "40489",
    "end": "45500"
  },
  {
    "text": "supposed to have legal disclaimers so you everything I say here is disavowed",
    "start": "45500",
    "end": "50810"
  },
  {
    "text": "by Intel and no matter what you do no computer can actually be perfectly",
    "start": "50810",
    "end": "56989"
  },
  {
    "text": "secure so and then there's something else in the middle there that I'll let you look at but now you do have to set",
    "start": "56989",
    "end": "63829"
  },
  {
    "text": "it up correctly to make an any item work so we'll go through the problem",
    "start": "63829",
    "end": "70790"
  },
  {
    "start": "67000",
    "end": "135000"
  },
  {
    "text": "statement we'll take a look at the at the attack surface area at a very high",
    "start": "70790",
    "end": "77959"
  },
  {
    "text": "level we will have more information about that in a later presentation at",
    "start": "77959",
    "end": "84859"
  },
  {
    "text": "iske will then talk about the programming environment how this fits in today's environment we spend a lot of",
    "start": "84859",
    "end": "92240"
  },
  {
    "text": "time making sure that this fit into the current environment such that you can",
    "start": "92240",
    "end": "97249"
  },
  {
    "text": "you can put this into an operating system that's running today and make sure that that's available and then",
    "start": "97249",
    "end": "104389"
  },
  {
    "text": "we'll talk a little bit about the access control what did we do differently here than what's done today in the processor",
    "start": "104389",
    "end": "110829"
  },
  {
    "text": "there's a couple of extra memory checks that are done and we'll just go through that at a very high level then we'll",
    "start": "110829",
    "end": "116659"
  },
  {
    "text": "talk about how you prove that you actually have this and you're not really being an emulator and how we can make",
    "start": "116659",
    "end": "121969"
  },
  {
    "text": "that work and then if we have time we'll talk about some of the development tools that we have done in the lab so",
    "start": "121969",
    "end": "130810"
  },
  {
    "text": "and let's go down so this is today's environment where you have the",
    "start": "132329",
    "end": "138879"
  },
  {
    "start": "135000",
    "end": "262000"
  },
  {
    "text": "application and you have you have an application with privilege code underneath and you have the rings that",
    "start": "138879",
    "end": "145989"
  },
  {
    "text": "protect you privileges from from the the privilege code and then you go down into a another",
    "start": "145989",
    "end": "152709"
  },
  {
    "text": "ring and and you have your applications and this is this was very good in the",
    "start": "152709",
    "end": "159790"
  },
  {
    "text": "80s when everybody was sort of on the same team although we had separation",
    "start": "159790",
    "end": "165129"
  },
  {
    "text": "there wasn't an awful lot of work that occurred to really get the bugs out",
    "start": "165129",
    "end": "171389"
  },
  {
    "text": "everybody worked together you bought your code from vendors and and everybody",
    "start": "171389",
    "end": "177129"
  },
  {
    "text": "knew what the code was so you had a design package in some sort of accounting package and nobody was trying",
    "start": "177129",
    "end": "184629"
  },
  {
    "text": "to to take over and remove all the things that you had that changed with",
    "start": "184629",
    "end": "190450"
  },
  {
    "text": "the internet to substantial extent suddenly people downloaded things that",
    "start": "190450",
    "end": "196000"
  },
  {
    "text": "off the net they didn't really know what it was it turned out to be malicious and with the structure that's available",
    "start": "196000",
    "end": "203349"
  },
  {
    "text": "today in the Ring architecture once you find a bug across that entire address",
    "start": "203349",
    "end": "210629"
  },
  {
    "text": "privilege space all 40 million lines of OS code or whatever and you can affect",
    "start": "210629",
    "end": "216970"
  },
  {
    "text": "an attack on that then you've basically caused yourself to lose control of that",
    "start": "216970",
    "end": "222819"
  },
  {
    "text": "privilege level and then of course once you do that you've taken over the entire privilege level you can now go into any",
    "start": "222819",
    "end": "230199"
  },
  {
    "text": "application and remove anything you want you can substitute items and essentially",
    "start": "230199",
    "end": "236349"
  },
  {
    "text": "at this point in time you own the Machine and everything that's in it and so this is a fairly large problem as far",
    "start": "236349",
    "end": "243459"
  },
  {
    "text": "as we were concerned and I think we we looked at this and said this whole ring",
    "start": "243459",
    "end": "249609"
  },
  {
    "text": "architecture is not sufficient in today's environment at least that's the the takeaway that we had rings need to",
    "start": "249609",
    "end": "256509"
  },
  {
    "text": "be augmented so we we went on this project to augment the Rings and we built these things",
    "start": "256509",
    "end": "264060"
  },
  {
    "start": "262000",
    "end": "453000"
  },
  {
    "text": "called enclaves but just to set the stage again for an attack surface that",
    "start": "264060",
    "end": "269880"
  },
  {
    "text": "we have today an application in order to maintain integrity protect its secrets",
    "start": "269880",
    "end": "275090"
  },
  {
    "text": "protect its integrity needs to rely on all of that code to be running correctly",
    "start": "275090",
    "end": "282270"
  },
  {
    "text": "not be compromised and so you have millions of lines of code that that",
    "start": "282270",
    "end": "288180"
  },
  {
    "text": "application depends on in order to provide the mission so if your",
    "start": "288180",
    "end": "293220"
  },
  {
    "text": "application is a banking application and any of those other three pieces of code",
    "start": "293220",
    "end": "298260"
  },
  {
    "text": "are compromised and it's not just the OS we drew this as OS but it's really anything that runs at rings there I'll",
    "start": "298260",
    "end": "304350"
  },
  {
    "text": "write the driver that you got when you pulled some old piece of luck hardware",
    "start": "304350",
    "end": "310110"
  },
  {
    "text": "out of your drawer and you put it in it suddenly that driver is in your trust boundary so we wanted to do is make sure",
    "start": "310110",
    "end": "316470"
  },
  {
    "text": "that those kind of things and some of the code like smm which is an Intel",
    "start": "316470",
    "end": "321540"
  },
  {
    "text": "system management mode that we don't show here is not affect it cannot affect",
    "start": "321540",
    "end": "327210"
  },
  {
    "text": "the correct application the correct execution the application so we built",
    "start": "327210",
    "end": "333750"
  },
  {
    "text": "these enclaves and essentially there's a set of instructions that define a region",
    "start": "333750",
    "end": "339419"
  },
  {
    "text": "in the applications address space that's that then is protected by the hardware",
    "start": "339419",
    "end": "344669"
  },
  {
    "text": "so you're the OS and VM can manage these locations they can page them in and out",
    "start": "344669",
    "end": "351570"
  },
  {
    "text": "but they cannot access the data and they cannot tamper with the data so we provide integrity and confidentiality",
    "start": "351570",
    "end": "359280"
  },
  {
    "text": "and replay protection on those enclaves so while those are executing the",
    "start": "359280",
    "end": "364669"
  },
  {
    "text": "application developer can can assume that there is integrity in that",
    "start": "364669",
    "end": "370260"
  },
  {
    "text": "environment and will show some of the ways the hardware does that protections",
    "start": "370260",
    "end": "376640"
  },
  {
    "text": "and this reduces the attack surface substantially so so the other thing with",
    "start": "376640",
    "end": "387780"
  },
  {
    "text": "the way we did this there were a lot of efforts to provide a",
    "start": "387780",
    "end": "393110"
  },
  {
    "text": "secure environment by having a separate processor and so that would be a",
    "start": "393110",
    "end": "398389"
  },
  {
    "text": "separate processor with a smaller amount of memory and you would have some sort of interface and we changed the we",
    "start": "398389",
    "end": "406000"
  },
  {
    "text": "abandon that model we had that model with txt but with this model what we've",
    "start": "406000",
    "end": "412160"
  },
  {
    "text": "done is have an environment which you can now download into the normal operating ad system address space you",
    "start": "412160",
    "end": "419240"
  },
  {
    "text": "can use the resources of the main OS and provide that capability in your native",
    "start": "419240",
    "end": "426800"
  },
  {
    "text": "application and because of this it's",
    "start": "426800",
    "end": "434240"
  },
  {
    "text": "deployable over you can just download an application it can have an enclave you can put it on a lot you can do it",
    "start": "434240",
    "end": "439790"
  },
  {
    "text": "remotely you can have somebody that decides you get a subscription service they can download an enclave and and",
    "start": "439790",
    "end": "446720"
  },
  {
    "text": "bring it up and provide trust in that environment so the programming model",
    "start": "446720",
    "end": "455919"
  },
  {
    "start": "453000",
    "end": "840000"
  },
  {
    "text": "this is the programming model before SGX normally y OS whether it's Windows or",
    "start": "455919",
    "end": "462800"
  },
  {
    "text": "Linux or whatever is up in the upper address space the code and data are down at the lower end area of the address",
    "start": "462800",
    "end": "469430"
  },
  {
    "text": "space and this all exists in the user process with an enclave we essentially",
    "start": "469430",
    "end": "475880"
  },
  {
    "text": "put that into the same address space and it exists in this environment it's very",
    "start": "475880",
    "end": "481550"
  },
  {
    "text": "similar to a DLL and Windows and an Esso file and in Linux so it sits there as a",
    "start": "481550",
    "end": "487820"
  },
  {
    "text": "separate set of libraries it behaves as a self-contained unit and inside of",
    "start": "487820",
    "end": "495200"
  },
  {
    "text": "there there is code and data that is owned by that Enclave and that code can",
    "start": "495200",
    "end": "501110"
  },
  {
    "text": "execute and and assume that it has confidentiality and integrity and that",
    "start": "501110",
    "end": "506860"
  },
  {
    "text": "the data also is has confidentiality and integrity and so the hardware is",
    "start": "506860",
    "end": "513529"
  },
  {
    "text": "protecting that area that Enclave area and preventing accesses from things that are outside of the Enclave space from",
    "start": "513529",
    "end": "520880"
  },
  {
    "text": "reading it altering that area now we have instructions to allow it to remove the",
    "start": "520880",
    "end": "526269"
  },
  {
    "text": "enclave and put it to memory but we also maintain the integrity when we when that",
    "start": "526269",
    "end": "532180"
  },
  {
    "text": "happens we'll talk about those instructions there are controlled entry",
    "start": "532180",
    "end": "538600"
  },
  {
    "text": "points we didn't want the we didn't want to have to we didn't want someone to be",
    "start": "538600",
    "end": "544149"
  },
  {
    "text": "able to go into any place inside of a enclave romp attacks are becoming very",
    "start": "544149",
    "end": "550120"
  },
  {
    "text": "popular now and that would be one very big rap attack so what we did was we have a controlled entry point so it",
    "start": "550120",
    "end": "557079"
  },
  {
    "text": "looks very much like an RPC type of interface where you do an e enter and you go into the Enclave at a particular",
    "start": "557079",
    "end": "564370"
  },
  {
    "text": "point and then software takes over and you can't enter it anywhere else than those particular entry points we have",
    "start": "564370",
    "end": "576940"
  },
  {
    "text": "multiple threading support you can build as many threads as you want into an enclave so it provides support for the",
    "start": "576940",
    "end": "584639"
  },
  {
    "text": "general-purpose threading environment what needs to happen for each one of",
    "start": "584639",
    "end": "589750"
  },
  {
    "text": "those is we define a thread control structure you put it in as you build the Enclave it's registered as part of the",
    "start": "589750",
    "end": "596529"
  },
  {
    "text": "of the Enclave and then you can do an e enter into each of those and we don't have any limit on those as far as the",
    "start": "596529",
    "end": "603399"
  },
  {
    "text": "architecture goes if you have a certain number of them and you have limited",
    "start": "603399",
    "end": "608470"
  },
  {
    "text": "memory on your machine you may decide you want to limit them but there's nothing in the architecture to do that",
    "start": "608470",
    "end": "615329"
  },
  {
    "text": "when you know I think when you when you want to enter an enclave you have a",
    "start": "627000",
    "end": "634449"
  },
  {
    "text": "thread control structure that you have there that you can use as an e enter into that Enclave and inside the Enclave",
    "start": "634449",
    "end": "641350"
  },
  {
    "text": "you can have global data between threads and outside you can have threads that",
    "start": "641350",
    "end": "646630"
  },
  {
    "text": "coincide but they can't necessarily send data across that boundary between the",
    "start": "646630",
    "end": "652600"
  },
  {
    "text": "Enclave I don't know if that answers your question quite or not but essentially",
    "start": "652600",
    "end": "659410"
  },
  {
    "text": "this is very similar to the threatening environment that they are today you can have as many processors enter the",
    "start": "659410",
    "end": "666180"
  },
  {
    "text": "Enclave as there are Hardware processors and you can define hundreds of these",
    "start": "666180",
    "end": "671440"
  },
  {
    "text": "threads and and still have you know some of them are not used at any given time",
    "start": "671440",
    "end": "678600"
  },
  {
    "text": "so it's a very similar threading model",
    "start": "678600",
    "end": "682800"
  },
  {
    "text": "the other thing to know is that the Enclave can reach out into the application data and it can it can",
    "start": "684240",
    "end": "691920"
  },
  {
    "text": "retrieve data from out in that area and bring it back in the application cannot",
    "start": "691920",
    "end": "697089"
  },
  {
    "text": "reach into the Enclave if an application tries to read into the Enclave today's implementations will return all ones you",
    "start": "697089",
    "end": "704260"
  },
  {
    "text": "don't get any information and some of the future ones will probably return ciphertext but essentially you get",
    "start": "704260",
    "end": "711490"
  },
  {
    "text": "nothing when you try to access that area and if you try to write into the area we just throw the right away now we still",
    "start": "711490",
    "end": "724720"
  },
  {
    "text": "may know just we still maintain all of the page table protections so the operating system hasn't been subverted",
    "start": "724720",
    "end": "731140"
  },
  {
    "text": "here The Enclave still must work inside of the page tables in the security",
    "start": "731140",
    "end": "736600"
  },
  {
    "text": "environment that the that the OS has produced in the environment well we're",
    "start": "736600",
    "end": "750910"
  },
  {
    "text": "thinking about that in a future generation what what happens today even without enclaves is when you write",
    "start": "750910",
    "end": "756550"
  },
  {
    "text": "to non-existent memory rather than cause a crash of the machine or something or",
    "start": "756550",
    "end": "762130"
  },
  {
    "text": "an exception that comes back to someplace where you've you know the processor is long gone but somehow this",
    "start": "762130",
    "end": "767140"
  },
  {
    "text": "thing is rattling around and comes back into the into the machine at the wrong",
    "start": "767140",
    "end": "772180"
  },
  {
    "text": "place because you've changed contexts in i/o we just throw the right away so we",
    "start": "772180",
    "end": "777579"
  },
  {
    "text": "already had that mechanism in place and so we just use that the same processor",
    "start": "777579",
    "end": "785260"
  },
  {
    "text": "is in the get into each other they cannot now architectural II we define this area as",
    "start": "785260",
    "end": "794660"
  },
  {
    "text": "an area for the enclave theoretically the the architecture doesn't prevent",
    "start": "794660",
    "end": "799700"
  },
  {
    "text": "someone from defining an overlap between them but the enclaves themselves will as",
    "start": "799700",
    "end": "805040"
  },
  {
    "text": "you put the pages in identify with one or the other and you will get exceptions",
    "start": "805040",
    "end": "810680"
  },
  {
    "text": "and other bad behavior if you try to overlap them but each Enclave is as",
    "start": "810680",
    "end": "816110"
  },
  {
    "text": "instantiated is a unique one and you have to you instantiate it by starting with this instruction will go into and",
    "start": "816110",
    "end": "822560"
  },
  {
    "text": "then you place pages in each time for each Enclave so each one is is a unique",
    "start": "822560",
    "end": "829490"
  },
  {
    "text": "instantiation well there are another questions",
    "start": "829490",
    "end": "835750"
  },
  {
    "start": "840000",
    "end": "1315000"
  },
  {
    "text": "so this is the environment and I just wanted to walk through some of these we",
    "start": "840250",
    "end": "846620"
  },
  {
    "text": "start at the very bottom the Akkar Duero and what we've done in the hardware is we've created a new memory semantics and",
    "start": "846620",
    "end": "853760"
  },
  {
    "text": "we refer to this as the Enclave page cache and this this uncle",
    "start": "853760",
    "end": "859040"
  },
  {
    "text": "this memory access semantics is is now doing extra checks over and above what",
    "start": "859040",
    "end": "865010"
  },
  {
    "text": "the hardware used to do when you made a memory reference so in in the old",
    "start": "865010",
    "end": "870890"
  },
  {
    "text": "environment you went through the page tables you've got a translation and if everything worked out correctly you went",
    "start": "870890",
    "end": "876680"
  },
  {
    "text": "out to memory and you read the location or you wrote the location in the in this",
    "start": "876680",
    "end": "881990"
  },
  {
    "text": "environment you do all of that and then you go out and hardware will do some additional checks and it will check to",
    "start": "881990",
    "end": "888260"
  },
  {
    "text": "make sure that the access is from someone that's executing inside of that Enclave and not anyone else and it will",
    "start": "888260",
    "end": "896180"
  },
  {
    "text": "check that the linear address that you built the Enclave as is the same as the",
    "start": "896180",
    "end": "902120"
  },
  {
    "text": "one you're referencing so we protect from some OS trying to remap the pages",
    "start": "902120",
    "end": "908330"
  },
  {
    "text": "underneath the application and it will check also whether the application",
    "start": "908330",
    "end": "913430"
  },
  {
    "text": "wanted to have this be read or write accessible so we have additional read and write checks that the application",
    "start": "913430",
    "end": "919940"
  },
  {
    "text": "can have that the hardware will enforce as you're building your Enclave and in",
    "start": "919940",
    "end": "925550"
  },
  {
    "text": "the first version that is somewhat limited you have to put those out when you build the Enclave on our spec we",
    "start": "925550",
    "end": "933320"
  },
  {
    "text": "have a second generation where you can actually manipulate those and software inside of the Enclave can can actually",
    "start": "933320",
    "end": "940370"
  },
  {
    "text": "make make changes there and do dynamic memory allocation so so this area is",
    "start": "940370",
    "end": "950110"
  },
  {
    "text": "carved out in the first generation this is carved out as a separate portion of memory it's inside of a fixed area of",
    "start": "950110",
    "end": "957380"
  },
  {
    "text": "memory and and we and the hardware declares this when you boot the machine",
    "start": "957380",
    "end": "963370"
  },
  {
    "text": "The Enclave page cache map is metadata that's used to do all these check",
    "start": "963370",
    "end": "969950"
  },
  {
    "text": "so the hardware needed to go and check somewhere and the memory that's used to hold the metadata to perform these",
    "start": "969950",
    "end": "977030"
  },
  {
    "text": "checks we refer to as the enclave page cache map this performance it's not all",
    "start": "977030",
    "end": "984770"
  },
  {
    "text": "that bad because you do it at a TLB miss and so yes it is an extra reference in",
    "start": "984770",
    "end": "990020"
  },
  {
    "text": "the TLB filled pipeline but overall I don't think that's a major we have",
    "start": "990020",
    "end": "995540"
  },
  {
    "text": "leather major or out performance issues we'll get into later inside of the cache",
    "start": "995540",
    "end": "1006100"
  },
  {
    "text": "so you can run if you if you do this and you feel your TLB you can run a full performance hopefully that will be more",
    "start": "1006100",
    "end": "1013330"
  },
  {
    "text": "obvious after I go through some of the checks and if it's not let me know and",
    "start": "1013330",
    "end": "1019570"
  },
  {
    "text": "we'll wha go through that so the next level up is the set of instructions that",
    "start": "1019570",
    "end": "1025089"
  },
  {
    "text": "are used to build the Enclave to page in Page Enclave pages out of this limited",
    "start": "1025089",
    "end": "1031510"
  },
  {
    "text": "area and put them in regular memory and - and to remove the pages so in the in",
    "start": "1031510",
    "end": "1039220"
  },
  {
    "text": "the privileged code environment and we made this part of the privileged environment because traditionally most",
    "start": "1039220",
    "end": "1045100"
  },
  {
    "text": "operating systems have managed resources that's their major goal and we have",
    "start": "1045100",
    "end": "1051190"
  },
  {
    "text": "changed the paradigm that they can then manage the data and change it but we haven't taken away the ability for an OS",
    "start": "1051190",
    "end": "1056950"
  },
  {
    "text": "to manage the resources and so in this environment we first start off building",
    "start": "1056950",
    "end": "1064480"
  },
  {
    "text": "an enclave by doing an e create instruction and that declares an instance of an enclave and it starts a",
    "start": "1064480",
    "end": "1072190"
  },
  {
    "text": "process we have a page that's put into the Enclave page cache which is declaring this is a particular Enclave",
    "start": "1072190",
    "end": "1079420"
  },
  {
    "text": "and and then as we fill in each of these as we want to put the data and the code",
    "start": "1079420",
    "end": "1086740"
  },
  {
    "text": "into the Enclave we use the e add instruction and that adds the page in one at a time into the Enclave so you've",
    "start": "1086740",
    "end": "1093670"
  },
  {
    "text": "actually you just an she ate the Enclave and then you put the pages in one at a time by copying them in one thing to",
    "start": "1093670",
    "end": "1101830"
  },
  {
    "text": "note and I don't think it's called out explicitly in these foils but as we do",
    "start": "1101830",
    "end": "1107110"
  },
  {
    "text": "this there have been no secrets yet all of this code and data is residing in main",
    "start": "1107110",
    "end": "1112660"
  },
  {
    "text": "memory when you build the Enclave so you build an enclave there's no secret until you instantiate it and lock it up and",
    "start": "1112660",
    "end": "1120160"
  },
  {
    "text": "then go ask somebody for a secret and that's the the usage model we have yes",
    "start": "1120160",
    "end": "1127230"
  },
  {
    "text": "well so the next instruction I extend we do a cryptographic hash of the data",
    "start": "1129090",
    "end": "1134770"
  },
  {
    "text": "we've loaded into the Enclave create",
    "start": "1134770",
    "end": "1139840"
  },
  {
    "text": "instruction yes how do you protect the software the creation we don't we if you",
    "start": "1139840",
    "end": "1147850"
  },
  {
    "text": "mess it up the when we do this cryptographic hash of everything it will not measure it will not match what the",
    "start": "1147850",
    "end": "1154600"
  },
  {
    "text": "developer actually wanted to have built so he should say you built a bad Enclave",
    "start": "1154600",
    "end": "1160960"
  },
  {
    "text": "I am NOT giving you the secret so it was important to me to not have a by the way",
    "start": "1160960",
    "end": "1166990"
  },
  {
    "text": "not have secrets in this when you built the Enclave because if you own the machine you should have the right to",
    "start": "1166990",
    "end": "1172450"
  },
  {
    "text": "look at your code at least the beginning to know what you have and so for that",
    "start": "1172450",
    "end": "1177610"
  },
  {
    "text": "reason we we leave this as unencrypted data until such time as you actually",
    "start": "1177610",
    "end": "1183820"
  },
  {
    "text": "have something to put in for secret but",
    "start": "1183820",
    "end": "1202390"
  },
  {
    "text": "you modify the code and you change the measurement so you can modify the code",
    "start": "1202390",
    "end": "1209920"
  },
  {
    "text": "but you cannot you cannot avoid detection let me put it that yes so so",
    "start": "1209920",
    "end": "1219880"
  },
  {
    "text": "we assume that a developer building this Enclave will do so on a machine without",
    "start": "1219880",
    "end": "1224910"
  },
  {
    "text": "someone's having hacked it now if you don't trust your tools you could have",
    "start": "1224910",
    "end": "1230560"
  },
  {
    "text": "have had been hacked in both cases which case you will have the hack in both places but if you do if you do this",
    "start": "1230560",
    "end": "1236920"
  },
  {
    "text": "correctly on your machine without without any malware on that machine you will be able",
    "start": "1236920",
    "end": "1242950"
  },
  {
    "text": "to build an enclave with a set of measurements we will report that set of measurements back to the person that's",
    "start": "1242950",
    "end": "1249309"
  },
  {
    "text": "provisioning secrets and this Enclave should match that one and it's what",
    "start": "1249309",
    "end": "1256120"
  },
  {
    "text": "would the correct yes and it's computationally infeasible to to",
    "start": "1256120",
    "end": "1263289"
  },
  {
    "text": "actually spoof that mechanism yes this",
    "start": "1263289",
    "end": "1273130"
  },
  {
    "text": "is gonna deploy for instance in the context I don't know the details of that",
    "start": "1273130",
    "end": "1284710"
  },
  {
    "text": "particular microkernel we are working with various OS vendors to make this for",
    "start": "1284710",
    "end": "1292960"
  },
  {
    "text": "them to develop support for this we also have for shorter-term",
    "start": "1292960",
    "end": "1300460"
  },
  {
    "text": "built a set a driver that can actually do all of these operations so a privileged driver right now can do this",
    "start": "1300460",
    "end": "1307059"
  },
  {
    "text": "all this work so you can actually load this without any kernel support directly",
    "start": "1307059",
    "end": "1314460"
  },
  {
    "start": "1315000",
    "end": "1361000"
  },
  {
    "text": "so yes the extend instruction will do a cryptographic measurement as of that page and and you we essentially have",
    "start": "1315520",
    "end": "1322899"
  },
  {
    "text": "this mechanism to accumulate a hash of the Enclave as we're building it and",
    "start": "1322899",
    "end": "1328179"
  },
  {
    "text": "measuring it and so the developer needs to do that on his machine and now he has",
    "start": "1328179",
    "end": "1335380"
  },
  {
    "text": "the gold standard he has a golden measurement and when you build this on a remote machine you use that as the entry",
    "start": "1335380",
    "end": "1344140"
  },
  {
    "text": "bar so if you don't have the right measurement you don't get to get a secret back and so people that modify it",
    "start": "1344140",
    "end": "1351159"
  },
  {
    "text": "can do so but that won't won't affect the integrity well it infect the",
    "start": "1351159",
    "end": "1358299"
  },
  {
    "text": "integrity but will be detected after we've built the Enclave we have an",
    "start": "1358299",
    "end": "1364059"
  },
  {
    "start": "1361000",
    "end": "1403000"
  },
  {
    "text": "instruction called Ian it and this is where you can now declare the Enclave is",
    "start": "1364059",
    "end": "1369610"
  },
  {
    "text": "fully built we locked the measurement down so you can't manipulate the measurement any",
    "start": "1369610",
    "end": "1375409"
  },
  {
    "text": "more and up until this time you couldn't enter the Enclave you couldn't build half an enclave and then suddenly enter",
    "start": "1375409",
    "end": "1381619"
  },
  {
    "text": "it and now you've declared this to be the whole enclave and you can now enter it but now you're going to have to live",
    "start": "1381619",
    "end": "1387589"
  },
  {
    "text": "with the measurement that you just locked down so if you did everything correctly then the measurement should",
    "start": "1387589",
    "end": "1394039"
  },
  {
    "text": "reflect a correctly built Enclave and everything is good and now you can go out to someone and ask for secrets EEB",
    "start": "1394039",
    "end": "1404149"
  },
  {
    "text": "lock etrak you write back any load are paging instructions and the goal for",
    "start": "1404149",
    "end": "1411499"
  },
  {
    "text": "enclave paging of this CPC is that we can take a page out and put it into main",
    "start": "1411499",
    "end": "1417289"
  },
  {
    "text": "memory and bring it back in and it still maintains the same properties of",
    "start": "1417289",
    "end": "1422589"
  },
  {
    "text": "security properties of confidentiality and integrity as though it resided inside of that area so we have metadata",
    "start": "1422589",
    "end": "1430279"
  },
  {
    "text": "that goes out when you do the you encrypt the data you send it out you have metadata that goes with it and we",
    "start": "1430279",
    "end": "1437299"
  },
  {
    "text": "keep a version around inside of the enclave page cache to to make sure that",
    "start": "1437299",
    "end": "1442879"
  },
  {
    "text": "it's anchored in the hardware the epa",
    "start": "1442879",
    "end": "1448940"
  },
  {
    "start": "1446000",
    "end": "1557000"
  },
  {
    "text": "instruction is part of that versioning for paging and and hopefully we can go",
    "start": "1448940",
    "end": "1454909"
  },
  {
    "text": "into that in a little more detail and finally when you're all done with your Enclave you can remove it and take all",
    "start": "1454909",
    "end": "1460729"
  },
  {
    "text": "the pages out of here and and therefore free up for a new Enclave to come in",
    "start": "1460729",
    "end": "1468669"
  },
  {
    "text": "from the point of view of the application environment the user level process they would ask for an enclave to",
    "start": "1468669",
    "end": "1476149"
  },
  {
    "text": "be built by ring zero components or privileged components and then once",
    "start": "1476149",
    "end": "1481549"
  },
  {
    "text": "that's done they would use the instructions up there we enter to enter the Enclave and start execution or exit",
    "start": "1481549",
    "end": "1489979"
  },
  {
    "text": "to leave the Enclave if an environment such as most modern operating systems",
    "start": "1489979",
    "end": "1496069"
  },
  {
    "text": "you have exceptions and interrupts and other external events and you leave the Enclave we save all of the information",
    "start": "1496069",
    "end": "1503200"
  },
  {
    "text": "inside of the on clay itself all the architectural state we fill the registers with essentially the",
    "start": "1503200",
    "end": "1510260"
  },
  {
    "text": "reset values so it's the registers look as though the part was just reset and we",
    "start": "1510260",
    "end": "1516110"
  },
  {
    "text": "go into the exception but then you need to resume execution and the e resume instruction is what's used to resume",
    "start": "1516110",
    "end": "1523070"
  },
  {
    "text": "execution of your Enclave when you return and and then there are two other",
    "start": "1523070",
    "end": "1529220"
  },
  {
    "text": "instructions II get key any report and those are security instructions used to",
    "start": "1529220",
    "end": "1534670"
  },
  {
    "text": "seal your data away based on an enclave measurement or an enclave key that the",
    "start": "1534670",
    "end": "1542300"
  },
  {
    "text": "developer has generated and the report is used to prove that this Enclave has",
    "start": "1542300",
    "end": "1548390"
  },
  {
    "text": "been built correctly and that it runs on until pardon or yes some any questions",
    "start": "1548390",
    "end": "1559570"
  },
  {
    "text": "yes after we do the attestation slide so",
    "start": "1559570",
    "end": "1573950"
  },
  {
    "text": "I think that should explain most of that",
    "start": "1573950",
    "end": "1578260"
  },
  {
    "text": "well so this is a common system resource and and traditionally operating systems",
    "start": "1580540",
    "end": "1586040"
  },
  {
    "text": "have managed common system resources and so we we just felt that that was the",
    "start": "1586040",
    "end": "1592930"
  },
  {
    "text": "traditional way of doing this we wanted this to fit into the current oh s",
    "start": "1592930",
    "end": "1597980"
  },
  {
    "text": "environment and and be something that you can bring along and have one Enclave and then you know grows over time so yes",
    "start": "1597980",
    "end": "1607750"
  },
  {
    "text": "so the e report is an instruction hardware instruction that will do its",
    "start": "1611410",
    "end": "1616460"
  },
  {
    "text": "thing on that Enclave so it doesn't really matter if you're in a it won't the the VM won't have the key that's",
    "start": "1616460",
    "end": "1623450"
  },
  {
    "text": "ruisseau ciated with that particular part so",
    "start": "1623450",
    "end": "1628480"
  },
  {
    "text": "there's some some set of numbers there and not but it's it's big yes no that",
    "start": "1636190",
    "end": "1647120"
  },
  {
    "text": "was too hard made my head hurt we decided for the first time we would just do one there have been people sort of",
    "start": "1647120",
    "end": "1654590"
  },
  {
    "text": "dancing around that request but right now we don't have that yes you could",
    "start": "1654590",
    "end": "1664790"
  },
  {
    "text": "have multiple instances of a non plane that executes the same piece of code they will each have their own set of",
    "start": "1664790",
    "end": "1671180"
  },
  {
    "text": "code and they will each be separate instances and they cannot necessarily you can't swap pages between them for",
    "start": "1671180",
    "end": "1678260"
  },
  {
    "text": "instance you know sure I can't share code there is a request from several",
    "start": "1678260",
    "end": "1684650"
  },
  {
    "text": "people to have shared pages we're thinking about that but that's not a",
    "start": "1684650",
    "end": "1692170"
  },
  {
    "text": "well yes right now we're still at this",
    "start": "1692260",
    "end": "1699110"
  },
  {
    "text": "stage where we're looking at other things and that's not top of my list some yes process specification Enclave",
    "start": "1699110",
    "end": "1709550"
  },
  {
    "text": "between local processes can be shared as long as the address space is the same or",
    "start": "1709550",
    "end": "1716180"
  },
  {
    "text": "you should at least the enclave address is the same yes you can add multiple",
    "start": "1716180",
    "end": "1725060"
  },
  {
    "text": "mappings well you can milk you can put it into multiple spaces you cannot have multiple mappings you have to have the",
    "start": "1725060",
    "end": "1731210"
  },
  {
    "text": "same linear address mapping or virtual address mapping for the Enclave in both",
    "start": "1731210",
    "end": "1737830"
  },
  {
    "text": "is only going to run and ring three there there are much better arguments",
    "start": "1740140",
    "end": "1748820"
  },
  {
    "text": "for well first of all most applications are we looking at really don't need to",
    "start": "1748820",
    "end": "1754130"
  },
  {
    "text": "have ring zero support you know your banking application and your",
    "start": "1754130",
    "end": "1760100"
  },
  {
    "text": "you know databases those things can run it ring three so we also weren't your of",
    "start": "1760100",
    "end": "1766580"
  },
  {
    "text": "the entire we part of the goal here is to make sure we do no harm to the environment and this does change the",
    "start": "1766580",
    "end": "1774230"
  },
  {
    "text": "security equation for a platform somewhat but by limiting this the ability for malware for instance if it",
    "start": "1774230",
    "end": "1780770"
  },
  {
    "text": "gets in here is very it's very limited right it's at ring three it cannot it",
    "start": "1780770",
    "end": "1785870"
  },
  {
    "text": "has to leave in order to go and take over the platform it's a little bit of a",
    "start": "1785870",
    "end": "1790940"
  },
  {
    "text": "road bump for forensics but for the most part you know it's pretty harmless so",
    "start": "1790940",
    "end": "1796240"
  },
  {
    "text": "there were a lot less issues to look at so we we said for the first version we",
    "start": "1796240",
    "end": "1802010"
  },
  {
    "text": "really want to make sure that that this is a positive impact on the platform as",
    "start": "1802010",
    "end": "1807830"
  },
  {
    "text": "we move forward I think there are people asking for rings are privileged components there and I'm not sure if the",
    "start": "1807830",
    "end": "1814070"
  },
  {
    "text": "ring is actually are the right way to look at that ok any other questions ok",
    "start": "1814070",
    "end": "1824620"
  },
  {
    "text": "so I I have a cartoon here that explains",
    "start": "1825430",
    "end": "1831230"
  },
  {
    "text": "all of this in animation I did this for training for some of our internal",
    "start": "1831230",
    "end": "1839330"
  },
  {
    "text": "customers and and so I've left it in because it seems to be helpful for",
    "start": "1839330",
    "end": "1844370"
  },
  {
    "text": "people this is uh this is what we have we have a virtual address space a physical address space and whoops that",
    "start": "1844370",
    "end": "1854690"
  },
  {
    "text": "was not the right thing to do oh all",
    "start": "1854690",
    "end": "1865970"
  },
  {
    "text": "right wow that's scary I remembered the slide number okay so",
    "start": "1865970",
    "end": "1874570"
  },
  {
    "text": "and essentially what we do is we we have the e create it declares a range inside",
    "start": "1874570",
    "end": "1880250"
  },
  {
    "text": "of the virtual address space that's going to be part of that Enclave we have this Enclave page cache over here when",
    "start": "1880250",
    "end": "1886280"
  },
  {
    "text": "you booted the machine we declared this what region of memory was going to have these extra memory access semantics and",
    "start": "1886280",
    "end": "1891440"
  },
  {
    "text": "we have this area of metadata that's going to be also removed from the memory map as far as",
    "start": "1891440",
    "end": "1897490"
  },
  {
    "text": "the operating system is concerned and hardware will use that to maintain and check metadata and so as we move forward",
    "start": "1897490",
    "end": "1905640"
  },
  {
    "text": "the other thing to note is we have this this what we call mr enclave",
    "start": "1905640",
    "end": "1911410"
  },
  {
    "text": "so mr. enclave is a is the measurement register for the enclave itself this is",
    "start": "1911410",
    "end": "1917230"
  },
  {
    "text": "where we're keeping the running total of the or hash of the Enclave if anybody's done any work with TPM for",
    "start": "1917230",
    "end": "1924280"
  },
  {
    "text": "instance this is a very similar concept we just keep this running hash too as we",
    "start": "1924280",
    "end": "1929380"
  },
  {
    "text": "move forward so we go and we're going to take plaintext data we're going to move",
    "start": "1929380",
    "end": "1936309"
  },
  {
    "text": "it down we're going to use the e add instruction copy it down put it into the",
    "start": "1936309",
    "end": "1941460"
  },
  {
    "text": "into the Enclave itself it'll be mapped into that location by changing the PT ES",
    "start": "1941460",
    "end": "1947470"
  },
  {
    "text": "and all of that and the EP CMM entry will show that this is now a ballad page",
    "start": "1947470",
    "end": "1952660"
  },
  {
    "text": "it has an enclave ID which is associated with the particular Enclave and it has a",
    "start": "1952660",
    "end": "1958420"
  },
  {
    "text": "what we call the linear address which is the virtual address intel has this several layers of translation so i'm",
    "start": "1958420",
    "end": "1967300"
  },
  {
    "text": "sorry if i confuse you with that but it's virtual address and we do that",
    "start": "1967300",
    "end": "1973000"
  },
  {
    "text": "several times we fill up the Enclave we put it into memory and then after we've",
    "start": "1973000",
    "end": "1980620"
  },
  {
    "text": "done all that we'll do any extend and we'll do do a measurement of these and this will cause the measurement register",
    "start": "1980620",
    "end": "1988570"
  },
  {
    "text": "to be updated we'll do a measurement of each of the pages one thing to note it's",
    "start": "1988570",
    "end": "1994179"
  },
  {
    "text": "not required that you measure the pages if you have a heap area that you don't care about you know you're going to",
    "start": "1994179",
    "end": "1999970"
  },
  {
    "text": "overwrite it and you're really sure you would never put a bug in your Enclave then you're welcome to not measure it",
    "start": "1999970",
    "end": "2005330"
  },
  {
    "text": "our library right now measures everything so if you do this as part of our library build you will simply",
    "start": "2005330",
    "end": "2011490"
  },
  {
    "text": "measure everything and then once all of",
    "start": "2011490",
    "end": "2016740"
  },
  {
    "text": "that is done we will declare that this Enclave is executable and now you can go",
    "start": "2016740",
    "end": "2021750"
  },
  {
    "text": "in and execute in those pages and you can enter into the Enclave you",
    "start": "2021750",
    "end": "2028259"
  },
  {
    "text": "can exit the Enclave you can finish what",
    "start": "2028259",
    "end": "2036419"
  },
  {
    "text": "you're doing so you can have this Enclave up and enter and exit forever till the movies over til you're done",
    "start": "2036419",
    "end": "2042450"
  },
  {
    "text": "with whatever metal record you had whatever you want to do and then you do an e remove remove all the pages and",
    "start": "2042450",
    "end": "2049500"
  },
  {
    "text": "they all become invalid in the e PCM and therefore they disappear I'm not sure I",
    "start": "2049500",
    "end": "2064648"
  },
  {
    "text": "understood your question there is and",
    "start": "2064649",
    "end": "2072029"
  },
  {
    "text": "that's an interesting question hold that thought for just talk about how we protect from that I think it's the next",
    "start": "2072029",
    "end": "2079858"
  },
  {
    "text": "foil yes so we have access control and",
    "start": "2079859",
    "end": "2085858"
  },
  {
    "start": "2082000",
    "end": "2411000"
  },
  {
    "text": "there are two areas of access control there's on the processor package where we have control and we want to keep data",
    "start": "2085859",
    "end": "2093929"
  },
  {
    "text": "decrypted so we have to prevent accesses by any non Enclave actor and there's",
    "start": "2093929",
    "end": "2102720"
  },
  {
    "text": "off-chip where we don't have any protections and we want to protect from that and we use encryption and and",
    "start": "2102720",
    "end": "2108980"
  },
  {
    "text": "replay protection when we have data that leaves the chip so what we do for on",
    "start": "2108980",
    "end": "2115710"
  },
  {
    "text": "chip when we're going to check whether we can access this page we have an",
    "start": "2115710",
    "end": "2122609"
  },
  {
    "text": "address request comes in and say a load or something and we do the traditional",
    "start": "2122609",
    "end": "2127770"
  },
  {
    "text": "page table access and that will follow the normal procedure if it's not mapped",
    "start": "2127770",
    "end": "2132779"
  },
  {
    "text": "the operating system would fault if it is mapped then we have to do an extra addressed extra set of checks so we",
    "start": "2132779",
    "end": "2139380"
  },
  {
    "text": "first check to see are we in Enclave mode and is this an enclave access that means it has to wear an enclave mode and",
    "start": "2139380",
    "end": "2146339"
  },
  {
    "text": "it has to be in that range of the address where we declared the Enclave would reside",
    "start": "2146339",
    "end": "2152380"
  },
  {
    "text": "and if it is those things is it well if",
    "start": "2152380",
    "end": "2158259"
  },
  {
    "text": "it's not those things then is it an address inside of that Enclave page cache area and if it's not an ad access",
    "start": "2158259",
    "end": "2166690"
  },
  {
    "text": "into that Enclave page cache area we just allow the access to occur that's a normal memory access we're not running",
    "start": "2166690",
    "end": "2172930"
  },
  {
    "text": "in an enclave mode nothing happened there and this is this is basically a hardware module running in the front of",
    "start": "2172930",
    "end": "2178599"
  },
  {
    "text": "the load pipeline if it is inside of that we replace the address with what we",
    "start": "2178599",
    "end": "2185410"
  },
  {
    "text": "call a board page that's an internal intel jargon for hey this is a reference",
    "start": "2185410",
    "end": "2190960"
  },
  {
    "text": "that we are disallowing so we will return all ones for the read request so",
    "start": "2190960",
    "end": "2197130"
  },
  {
    "text": "applications get just junk and if it's a right we will throw it away if it is an",
    "start": "2197130",
    "end": "2207220"
  },
  {
    "text": "enclave access then we again do a check to see if it's inside of the Enclave page cache and if it is inside then",
    "start": "2207220",
    "end": "2214089"
  },
  {
    "text": "we'll check to make sure that all those references this reference meets all of their criteria",
    "start": "2214089",
    "end": "2219880"
  },
  {
    "text": "yes yes you've done a enter instruction",
    "start": "2219880",
    "end": "2226719"
  },
  {
    "text": "you've entered the Enclave and you're inside of that vert that linear address that virtual address range that says",
    "start": "2226719",
    "end": "2232930"
  },
  {
    "text": "you're inside of the Enclave because we have to if you are an Inc inside of the",
    "start": "2232930",
    "end": "2238900"
  },
  {
    "text": "Enclave and you'll see that in a minute and we're outside of the EPC that's an enclave referencing the external memory",
    "start": "2238900",
    "end": "2245650"
  },
  {
    "text": "and we have to do a separate check for that we'll do that in a second that that one in a second but in this case we do",
    "start": "2245650",
    "end": "2251619"
  },
  {
    "text": "the check if all the checks pass then the memory access is allowed if the",
    "start": "2251619",
    "end": "2257400"
  },
  {
    "text": "checks are not allowed or don't pass then we do signal fault in this case so",
    "start": "2257400",
    "end": "2263140"
  },
  {
    "text": "you get a in the first version you'll get a general protection fault and in",
    "start": "2263140",
    "end": "2269440"
  },
  {
    "text": "future versions we will give a page fault for this condition if the address",
    "start": "2269440",
    "end": "2276039"
  },
  {
    "text": "is not an EPC and it is an enclave access which means somehow the operating",
    "start": "2276039",
    "end": "2282640"
  },
  {
    "text": "system or somebody has mapped this thing into the wrong area and we will also signal fault so this is",
    "start": "2282640",
    "end": "2290980"
  },
  {
    "text": "how we do all of the access controls inside of the processor for all the",
    "start": "2290980",
    "end": "2296230"
  },
  {
    "text": "course so so everybody goes through this new additional check inside of the",
    "start": "2296230",
    "end": "2302610"
  },
  {
    "text": "inside of the memory pipeline so did that answer your question with",
    "start": "2302610",
    "end": "2312060"
  },
  {
    "text": "protections and whether we have to write DRAM and all of that I was asking a",
    "start": "2312060",
    "end": "2321970"
  },
  {
    "text": "question in the context of the genome operating system that has a recursive",
    "start": "2321970",
    "end": "2327780"
  },
  {
    "text": "ring model I say okay microkernel so I'm",
    "start": "2327780",
    "end": "2335410"
  },
  {
    "text": "turned out this can't help how this is going to fit into that but let's continue on I'm still okay I think the",
    "start": "2335410",
    "end": "2343750"
  },
  {
    "text": "question was what's he doing we actually clean zeroed out what we do",
    "start": "2343750",
    "end": "2352180"
  },
  {
    "text": "we remove we do not say we do not zero out the memory but once we do any remove one of the checks in the C PCM is to",
    "start": "2352180",
    "end": "2359680"
  },
  {
    "text": "check that the vet page is valid and now it's not valid anymore after you remove it's no longer valid",
    "start": "2359680",
    "end": "2368369"
  },
  {
    "text": "somebody else you filled it with something oh maybe not well in our case",
    "start": "2369480",
    "end": "2375760"
  },
  {
    "text": "it is because the only instructions that you can actually use to set the valid bit or require you to either write zeros",
    "start": "2375760",
    "end": "2382120"
  },
  {
    "text": "or to write some new Enclave yes we do",
    "start": "2382120",
    "end": "2390510"
  },
  {
    "text": "oh I did it again I I am very sorry I keep hitting the",
    "start": "2394970",
    "end": "2401790"
  },
  {
    "text": "wrong buddy so let me okay",
    "start": "2401790",
    "end": "2411720"
  },
  {
    "start": "2411000",
    "end": "2519000"
  },
  {
    "text": "so outside of the Enclave we want to protect the data and so as I mentioned",
    "start": "2411720",
    "end": "2418980"
  },
  {
    "text": "inside the data is unencrypted you can run at full cache performance and we",
    "start": "2418980",
    "end": "2427890"
  },
  {
    "text": "have a security boundary here so if you can take your chip apart you probably",
    "start": "2427890",
    "end": "2433890"
  },
  {
    "text": "and you can actually probe it while it's running there are people that can do that there are labs that have that",
    "start": "2433890",
    "end": "2441090"
  },
  {
    "text": "capability then you probably can bypass this most people don't do this to their",
    "start": "2441090",
    "end": "2446790"
  },
  {
    "text": "chips and in fact in our in our company we're not very good at this either turns out we fail at this quite a bit",
    "start": "2446790",
    "end": "2453030"
  },
  {
    "text": "when we try to do it it does void the warranty I'm not sure what they'll say",
    "start": "2453030",
    "end": "2461700"
  },
  {
    "text": "if you tried to bring it back at that point I'm not even sure anybody's ever tried again we I'm not sure that this is",
    "start": "2461700",
    "end": "2479250"
  },
  {
    "text": "a big secret people talk about how they go about on actually doing these things",
    "start": "2479250",
    "end": "2485040"
  },
  {
    "text": "there are companies down here in Silicon Valley that will do this for for money so if you if you're a lawyer and you",
    "start": "2485040",
    "end": "2494100"
  },
  {
    "text": "want to sue somebody there are companies that will help you with that so it's not an impossible task it is harder as you",
    "start": "2494100",
    "end": "2500130"
  },
  {
    "text": "get down to very small geometries I will I will say and that's one of the things we're up against but nevertheless this",
    "start": "2500130",
    "end": "2507990"
  },
  {
    "text": "is our boundary and we've decided that if you if you breach that then that's",
    "start": "2507990",
    "end": "2513450"
  },
  {
    "text": "past our our protections but when we leave the chip we want to make sure that",
    "start": "2513450",
    "end": "2521100"
  },
  {
    "start": "2519000",
    "end": "2947000"
  },
  {
    "text": "that date of your credit card information or whatever else you have in there is protected as",
    "start": "2521100",
    "end": "2527340"
  },
  {
    "text": "it leaves the area so we have a memory encryption engine that sits on the book",
    "start": "2527340",
    "end": "2532380"
  },
  {
    "text": "on the boundary here right at the memory controller and as the data for for that",
    "start": "2532380",
    "end": "2537600"
  },
  {
    "text": "EPC area or EPC M area falls out into main memory it will be encrypted and it",
    "start": "2537600",
    "end": "2543870"
  },
  {
    "text": "will be integrity protected and replay protected and then put into main memory and it turns out that not only is that",
    "start": "2543870",
    "end": "2552780"
  },
  {
    "text": "really good for for protection against Hardware attacks it also protects",
    "start": "2552780",
    "end": "2557850"
  },
  {
    "text": "against a number of software attacks that are at the corners of hardware",
    "start": "2557850",
    "end": "2564390"
  },
  {
    "text": "software so you cause a reset of the part you don't want the all the distribution all the protections to",
    "start": "2564390",
    "end": "2570720"
  },
  {
    "text": "disappear which they normally do well in our case the key also disappears so all that data is is essentially unreadable",
    "start": "2570720",
    "end": "2578160"
  },
  {
    "text": "so there's some very nice properties of having an encryption engine right there",
    "start": "2578160",
    "end": "2585410"
  },
  {
    "text": "because I just keep trying until I find",
    "start": "2586610",
    "end": "2598350"
  },
  {
    "text": "one that matches now another key this-this-this",
    "start": "2598350",
    "end": "2603770"
  },
  {
    "text": "encryption is a aes-128 it's you but",
    "start": "2603770",
    "end": "2612570"
  },
  {
    "text": "this is a 64 byte cache line coming in and out here so it's multiple aes blocks",
    "start": "2612570",
    "end": "2618240"
  },
  {
    "text": "it's you know it's not just a word oh yeah if you try to write a word which is",
    "start": "2618240",
    "end": "2624450"
  },
  {
    "text": "possible in most microprocessors you will have quite the event right you end",
    "start": "2624450",
    "end": "2629820"
  },
  {
    "text": "up going out getting the whole cache line bringing it back writing them in putting them back out that kind of thing",
    "start": "2629820",
    "end": "2634920"
  },
  {
    "text": "yes very critical but this key",
    "start": "2634920",
    "end": "2646140"
  },
  {
    "text": "management is actually just a random number taken from our random number generator when you reset the part inside",
    "start": "2646140",
    "end": "2653610"
  },
  {
    "text": "ever does anybody outside know with this key yes No this key is randomly",
    "start": "2653610",
    "end": "2661110"
  },
  {
    "text": "generated at the time you power up we put it in there when you reset the part a new one is generated or read from the",
    "start": "2661110",
    "end": "2668070"
  },
  {
    "text": "random number generator and and you start over we need to be in the clear or",
    "start": "2668070",
    "end": "2675750"
  },
  {
    "text": "encrypted with a different key not sure",
    "start": "2675750",
    "end": "2681540"
  },
  {
    "text": "what you mean by external this key is only encrypting that memory there's no external it has no external access",
    "start": "2681540",
    "end": "2688950"
  },
  {
    "text": "it's simply Hardware reads this value when you when you reset the part and you",
    "start": "2688950",
    "end": "2696930"
  },
  {
    "text": "put it in there and hardware is the only one that has access to that key we have",
    "start": "2696930",
    "end": "2706200"
  },
  {
    "text": "versions that are part of this the M EE is very complicated it has a tree of",
    "start": "2706200",
    "end": "2713720"
  },
  {
    "text": "because we want to do this on a cache line basis it's a very small block",
    "start": "2713720",
    "end": "2718830"
  },
  {
    "text": "relative to main memory so we end up with a replay tree that requires quite a",
    "start": "2718830",
    "end": "2724260"
  },
  {
    "text": "bit of integrity protection it takes up right now in the first version is like",
    "start": "2724260",
    "end": "2729300"
  },
  {
    "text": "25% of memories of that epc area will be used we are working on getting that down",
    "start": "2729300",
    "end": "2736200"
  },
  {
    "text": "we have a couple of ideas there yes they are wired by the cache line plus the",
    "start": "2736200",
    "end": "2743730"
  },
  {
    "text": "integrity data is larger than the cache line yes the integrity data for that",
    "start": "2743730",
    "end": "2750660"
  },
  {
    "text": "block of epc is all allocated at boot time so it disappears it's just out",
    "start": "2750660",
    "end": "2757170"
  },
  {
    "text": "there we it's consumed entirely and so therefore the operating system doesn't",
    "start": "2757170",
    "end": "2762180"
  },
  {
    "text": "have to deal with it it's just gone yes",
    "start": "2762180",
    "end": "2767510"
  },
  {
    "text": "if you have the same block in two different places there it will be different and I'm not sure I remember",
    "start": "2776420",
    "end": "2782880"
  },
  {
    "text": "the exact algorithm that's used there but you won't see the same thing repeatedly and we have a version in",
    "start": "2782880",
    "end": "2789240"
  },
  {
    "text": "there so you never see the same one if you write zeros every time you'll see a different value there so yes I'm not",
    "start": "2789240",
    "end": "2804450"
  },
  {
    "text": "sure I understand your question yes the",
    "start": "2804450",
    "end": "2809700"
  },
  {
    "text": "replay the tree is sort of memory we anchor it inside of the processor package so we again go back",
    "start": "2809700",
    "end": "2815400"
  },
  {
    "text": "we have anchors in here of the of the tree so that you you have to you can't",
    "start": "2815400",
    "end": "2823350"
  },
  {
    "text": "get at that in today's environment that",
    "start": "2823350",
    "end": "2837300"
  },
  {
    "text": "is true I think as we move on to very large env data areas we're going to have",
    "start": "2837300",
    "end": "2844200"
  },
  {
    "text": "to rethink our interface and talk about whether that is part of the trust boundary and we do something locally on",
    "start": "2844200",
    "end": "2851010"
  },
  {
    "text": "that chip so we are looking at multi",
    "start": "2851010",
    "end": "2856080"
  },
  {
    "text": "package support so the first version that we have available will be clients only single package we've we've done a",
    "start": "2856080",
    "end": "2862410"
  },
  {
    "text": "lot of work on how to make this work on multiple packages and I think that will extend over to other packages other than",
    "start": "2862410",
    "end": "2869340"
  },
  {
    "text": "processor packages as we need it is there another question what you're",
    "start": "2869340",
    "end": "2884880"
  },
  {
    "text": "asking is if someone else comes along and overwrites that data well first of",
    "start": "2884880",
    "end": "2890370"
  },
  {
    "text": "all another core won't be able to do that because we had that access control mechanism we will prevent that from",
    "start": "2890370",
    "end": "2896250"
  },
  {
    "text": "occurring at least in the first generation or two but if someone else",
    "start": "2896250",
    "end": "2902160"
  },
  {
    "text": "comes along that's attached to this memory like you do port it and you said oh I'm going to overwrite that then yes",
    "start": "2902160",
    "end": "2908610"
  },
  {
    "text": "it will cause this crash and it will be painful because we will stop everything and we will decide to reset the whole",
    "start": "2908610",
    "end": "2914670"
  },
  {
    "text": "part so it will be a very ugly event yes",
    "start": "2914670",
    "end": "2922510"
  },
  {
    "text": "errors and therefore the critics traffic hash of my encrypted data memory is now",
    "start": "2922510",
    "end": "2930050"
  },
  {
    "text": "wrong it doesn't check and you're saying that at that point your chip freaks yes",
    "start": "2930050",
    "end": "2939280"
  },
  {
    "text": "you're ignorant was bliss before now we",
    "start": "2942910",
    "end": "2954560"
  },
  {
    "text": "won't do this check in our current implementation for clients that I believe is is there is no error",
    "start": "2954560",
    "end": "2962570"
  },
  {
    "text": "correcting code but on parts that have error correcting we plan to do is have",
    "start": "2962570",
    "end": "2968030"
  },
  {
    "text": "the have the ECC be checked and be correct before you go for that fatal law",
    "start": "2968030",
    "end": "2974540"
  },
  {
    "text": "check yes but if you if you passed ECC",
    "start": "2974540",
    "end": "2983270"
  },
  {
    "text": "so somebody that's attacking this part recalculates ECC says yeah this will go in well yeah it will go in and and then",
    "start": "2983270",
    "end": "2991280"
  },
  {
    "text": "we will have an integrity mismatch and and so then we will stop in order to do",
    "start": "2991280",
    "end": "3012730"
  },
  {
    "text": "this you have to do a hardware attack you had to go and start putting data in on the outside or have or somehow lower",
    "start": "3012730",
    "end": "3019120"
  },
  {
    "text": "the voltage on your DRAM or do something that caused the DRAM not to faithfully respond well most well it depends how",
    "start": "3019120",
    "end": "3028930"
  },
  {
    "text": "much you pay for your DRAM i guess most intel when we design a static ram area i",
    "start": "3028930",
    "end": "3036100"
  },
  {
    "text": "think that's part of the normal testing so that should not be an issue but yes",
    "start": "3036100",
    "end": "3041350"
  },
  {
    "text": "it is possible if you save $10 on your dram that you didn't get that protection",
    "start": "3041350",
    "end": "3046840"
  },
  {
    "text": "i don't know let's parkour the crackers more often",
    "start": "3046840",
    "end": "3052200"
  },
  {
    "text": "well that's that's I guess we'll see whether that's the case so it is also",
    "start": "3052200",
    "end": "3059680"
  },
  {
    "text": "true that you had those errors before you just didn't know them we're there so I don't know whether you feel better",
    "start": "3059680",
    "end": "3065830"
  },
  {
    "text": "about that or not I guess I wanted to be",
    "start": "3065830",
    "end": "3082960"
  },
  {
    "text": "on the conservative side from a cryptographic point of view so when you make a guess and you actually fail you",
    "start": "3082960",
    "end": "3088630"
  },
  {
    "text": "that taught you something right it reduced the space that of the numbers of",
    "start": "3088630",
    "end": "3094300"
  },
  {
    "text": "guesses you have to make anymore now in the case of something that's like 2 to the minus 128 chance it's not a very",
    "start": "3094300",
    "end": "3101410"
  },
  {
    "text": "large number but our cryptographers decided that they would prefer to reef or sever e1 to start over so when that",
    "start": "3101410",
    "end": "3110200"
  },
  {
    "text": "happens the key is changed and now your guess is is like you started over you're",
    "start": "3110200",
    "end": "3116260"
  },
  {
    "text": "you're back at the full range of your space so I guess we erred on the side of",
    "start": "3116260",
    "end": "3126310"
  },
  {
    "text": "security in that case something did not",
    "start": "3126310",
    "end": "3136060"
  },
  {
    "text": "have adjustments after people use it I just think that's going to be part of the course so where there are other",
    "start": "3136060",
    "end": "3142630"
  },
  {
    "text": "questions no not tonight",
    "start": "3142630",
    "end": "3151740"
  },
  {
    "text": "it is it is an impact we do have some caching that that keeps that tree in in",
    "start": "3151740",
    "end": "3159480"
  },
  {
    "text": "some cases but in the worst case scenario or you have to do this you",
    "start": "3159480",
    "end": "3164590"
  },
  {
    "text": "might walk three levels so you end up with a memory bandwidth degradation that could be an impact on performance that",
    "start": "3164590",
    "end": "3172390"
  },
  {
    "text": "is probably our biggest performance impact",
    "start": "3172390",
    "end": "3177780"
  },
  {
    "text": "public for what the actually I'm not sure we know we have our benchmarks have",
    "start": "3178829",
    "end": "3183930"
  },
  {
    "text": "been sort of back and forth it depends on your cash size right it's it's all a",
    "start": "3183930",
    "end": "3189569"
  },
  {
    "text": "matter of what application you're running how much of it's in the cash how many times you're falling out of the",
    "start": "3189569",
    "end": "3195569"
  },
  {
    "text": "cash so the cash behaves identical to any other application so in other",
    "start": "3195569",
    "end": "3201900"
  },
  {
    "text": "applications when you fall out of the cash you see this we just see this at a higher rate so your degradation is",
    "start": "3201900",
    "end": "3208260"
  },
  {
    "text": "faster in this case a cache miss might be much more expensive it might hit in",
    "start": "3208260",
    "end": "3214529"
  },
  {
    "text": "the cache we have extra caches what I mentioned was for the integrity so we might hit those integrity and it's just",
    "start": "3214529",
    "end": "3220349"
  },
  {
    "text": "one reference we might also miss all that and do three references to fill that miss to prevent unnecessary cash",
    "start": "3220349",
    "end": "3230039"
  },
  {
    "text": "missing because well-behaved streams don't necessarily work best with",
    "start": "3230039",
    "end": "3237200"
  },
  {
    "text": "standard statistical caching and so on typically if you're a stream oriented",
    "start": "3237200",
    "end": "3243059"
  },
  {
    "text": "multimedia guy you end up having to do workarounds unless the CPU understands",
    "start": "3243059",
    "end": "3249420"
  },
  {
    "text": "about stream process we don't have that in this first generation I take it you",
    "start": "3249420",
    "end": "3259019"
  },
  {
    "text": "only do this for data that's in the Enclave and for other data you did it up",
    "start": "3259019",
    "end": "3265769"
  },
  {
    "text": "to the encryption that's correct which means you did it doesn't affect the performance benchmarks or be judged by",
    "start": "3265769",
    "end": "3273619"
  },
  {
    "text": "performance where we're running benchmarks inside of the Enclave to understand the difference but but again",
    "start": "3274640",
    "end": "3281190"
  },
  {
    "text": "it depends on how much of it sits in the cache and we have different processors that have different cache sizes so you",
    "start": "3281190",
    "end": "3288000"
  },
  {
    "text": "know we have to it's not that I I just don't think we have those numbers",
    "start": "3288000",
    "end": "3293309"
  },
  {
    "text": "well-defined you",
    "start": "3293309",
    "end": "3296450"
  },
  {
    "start": "3299000",
    "end": "3599000"
  },
  {
    "text": "and again part of this is to provide protection from snooping and and things",
    "start": "3300340",
    "end": "3307270"
  },
  {
    "text": "from the main memory okay so that's the",
    "start": "3307270",
    "end": "3313210"
  },
  {
    "text": "that's the area that protects and produces the the Enclave the walls",
    "start": "3313210",
    "end": "3319330"
  },
  {
    "text": "around the protection now once you have that how do you prove to someone that you have it and how do we go about that",
    "start": "3319330",
    "end": "3325990"
  },
  {
    "text": "so that will be the attestation and sealing section so I'll start looking at",
    "start": "3325990",
    "end": "3331720"
  },
  {
    "text": "that and essentially as I mentioned the Enclave is in the clear before you",
    "start": "3331720",
    "end": "3337510"
  },
  {
    "text": "instantiate it so you have you can have sections of code and data they're encrypted but there's no place to put",
    "start": "3337510",
    "end": "3343780"
  },
  {
    "text": "the secret for the encryption so yeah not on a developer can download encrypted data but he still got the keys",
    "start": "3343780",
    "end": "3350050"
  },
  {
    "text": "not sending it with it and you put those into the Enclave and there's no way to",
    "start": "3350050",
    "end": "3355390"
  },
  {
    "text": "decrypt it you have to get the secrets from someone outside you have to enable this if you want this to be secure now",
    "start": "3355390",
    "end": "3362170"
  },
  {
    "text": "you could do that on your keyboard if you feel that your machine is in such high integrity state that there isn't",
    "start": "3362170",
    "end": "3368590"
  },
  {
    "text": "anything there and there are some reasons you might do that before you plug it into the internet for instance",
    "start": "3368590",
    "end": "3374820"
  },
  {
    "text": "after that you have to be able to convince a third party that you really do have Enclave hardware and how do we",
    "start": "3374820",
    "end": "3382480"
  },
  {
    "text": "go about doing that and we'll talk about that so that's one of the major things how do we show somebody that this is",
    "start": "3382480",
    "end": "3388270"
  },
  {
    "text": "really a machine that supports an enclave and it's on it's a machine that",
    "start": "3388270",
    "end": "3393640"
  },
  {
    "text": "hasn't been taken apart we have limited means to know whether it's been taken apart or not well show that and then we",
    "start": "3393640",
    "end": "3401109"
  },
  {
    "text": "want to be able to after we do that to an outside party we're only proving from Intel's point of view from the chip that",
    "start": "3401109",
    "end": "3407619"
  },
  {
    "text": "this is really the hardware you may want to store secrets in there and you may",
    "start": "3407619",
    "end": "3412780"
  },
  {
    "text": "want to have your own identities in there for everybody that owns an enclave and we just want a way to do that",
    "start": "3412780",
    "end": "3418119"
  },
  {
    "text": "without necessarily going through this whole identification process so those",
    "start": "3418119",
    "end": "3424119"
  },
  {
    "text": "are the the things that were solving here so the service provider the person",
    "start": "3424119",
    "end": "3432620"
  },
  {
    "text": "that's that's distributed the Enclave they need to be able to understand that and they need to be able to vet that",
    "start": "3432620",
    "end": "3438230"
  },
  {
    "text": "this is a Intel CPU I've mentioned all that and they need to be able to prove",
    "start": "3438230",
    "end": "3444050"
  },
  {
    "text": "that this Enclave can be has the software running inside it that we",
    "start": "3444050",
    "end": "3449690"
  },
  {
    "text": "claimed this is the measurement register and we need to know that the Enclave is in the right execution environment and",
    "start": "3449690",
    "end": "3455900"
  },
  {
    "text": "that the sealing identity will be that'll be used and the sealing identity",
    "start": "3455900",
    "end": "3461180"
  },
  {
    "text": "is something that that can that we'll talk about a little bit it's essentially",
    "start": "3461180",
    "end": "3466490"
  },
  {
    "text": "who signed this Enclave and presented it to the hardware to run and finally we",
    "start": "3466490",
    "end": "3472610"
  },
  {
    "text": "have the ability to understand whether this processor has been patched we have",
    "start": "3472610",
    "end": "3477920"
  },
  {
    "text": "Micro code patch we've had it for many years we can tell somebody remotely that yes it is indeed been patched with the",
    "start": "3477920",
    "end": "3484370"
  },
  {
    "text": "latest security values so you can rest assured that it meets this set of",
    "start": "3484370",
    "end": "3489950"
  },
  {
    "text": "criteria so basically when you generate",
    "start": "3489950",
    "end": "3501230"
  },
  {
    "text": "this cryptographic log we put the code we put the data and all of the stack and",
    "start": "3501230",
    "end": "3507920"
  },
  {
    "text": "heap information that's been measured and we also put the location of each of the pages so part of this is when you",
    "start": "3507920",
    "end": "3514730"
  },
  {
    "text": "did this Yod we put the address of that page as part of that hash and we put the what we refer to as the security flags",
    "start": "3514730",
    "end": "3522140"
  },
  {
    "text": "this is the things like the read/write/execute that are defined for that e PCM and some other values that",
    "start": "3522140",
    "end": "3530150"
  },
  {
    "text": "are there and then we have this M R Enclave this is the register we talked",
    "start": "3530150",
    "end": "3535640"
  },
  {
    "text": "about it's basically a 256 bit digest and it is the TCB of the Enclave so the",
    "start": "3535640",
    "end": "3546260"
  },
  {
    "text": "software verifier needs to get this information needs to get it securely and be able to compare that against some",
    "start": "3546260",
    "end": "3552620"
  },
  {
    "text": "golden value to make sure that it can be that he's comfortable with or she is",
    "start": "3552620",
    "end": "3557810"
  },
  {
    "text": "comfortable with that up there is not you well hold that thought",
    "start": "3557810",
    "end": "3565840"
  },
  {
    "text": "just a second we have two types of",
    "start": "3565840",
    "end": "3571180"
  },
  {
    "text": "attestation we have local ACTU station and we have remote attestation local at",
    "start": "3571180",
    "end": "3577360"
  },
  {
    "text": "the station is the ability to prove to someone that you are indeed on that platform locally and that you that you",
    "start": "3577360",
    "end": "3586870"
  },
  {
    "text": "have a particular measurement and what IRRI port does is it will generate a",
    "start": "3586870",
    "end": "3592630"
  },
  {
    "text": "cryptographic report that will bind the mr enclave of the target value to the",
    "start": "3592630",
    "end": "3601360"
  },
  {
    "text": "report key and then e Gehrke will provide the report key to verify that",
    "start": "3601360",
    "end": "3607900"
  },
  {
    "text": "report and this is very very subtle and I always forget it and I'll have to remember it as we move through this but",
    "start": "3607900",
    "end": "3614800"
  },
  {
    "text": "the we have a cartoon in the next couple of the pictures that'll help with that and and so essentially what we do is we",
    "start": "3614800",
    "end": "3622840"
  },
  {
    "text": "have created a symmetric key that we use asymmetrically for local attestation and",
    "start": "3622840",
    "end": "3629800"
  },
  {
    "text": "then once you do that we have the ability for that local Enclave to be",
    "start": "3629800",
    "end": "3635410"
  },
  {
    "text": "provisioned with values that are provided by an attestation that an",
    "start": "3635410",
    "end": "3641050"
  },
  {
    "text": "attestation server can then prove that this is a a Intel Enclave",
    "start": "3641050",
    "end": "3648240"
  },
  {
    "text": "so we start off we have two enclaves and we want them to prove to each other that",
    "start": "3650790",
    "end": "3656710"
  },
  {
    "text": "they're one to prove to the other that that Enclave is there and that the measurement value is indeed what it says",
    "start": "3656710",
    "end": "3662680"
  },
  {
    "text": "so we have those enclaves we have the verify Enclave and it's going to send",
    "start": "3662680",
    "end": "3668250"
  },
  {
    "text": "its mr enclave its measurement value to the reporting Enclave so I want a",
    "start": "3668250",
    "end": "3675400"
  },
  {
    "text": "measurement I want this Enclave to validate that one so he sends his",
    "start": "3675400",
    "end": "3680950"
  },
  {
    "text": "measurement value over and then that",
    "start": "3680950",
    "end": "3686260"
  },
  {
    "text": "Enclave will do an e report with the mr enclave and that will generate a",
    "start": "3686260",
    "end": "3693010"
  },
  {
    "text": "Mack and everything for that enclave",
    "start": "3693010",
    "end": "3697770"
  },
  {
    "text": "transfer that value from that Enclave to that Enclave over an untrusted channel",
    "start": "3698070",
    "end": "3705510"
  },
  {
    "text": "is protected or unprotected when it leaves the first time play it is",
    "start": "3710070",
    "end": "3715780"
  },
  {
    "text": "unprotected and the Mack is a message authentication code yes or - yes okay",
    "start": "3715780",
    "end": "3724420"
  },
  {
    "text": "how are the keys no the keys yeah well",
    "start": "3724420",
    "end": "3733240"
  },
  {
    "text": "these keys are sort of being held closely and by hardware via these instructions that's the subtlety I always have to",
    "start": "3733240",
    "end": "3740290"
  },
  {
    "text": "think about this because we allow these values to be transferred the keys that",
    "start": "3740290",
    "end": "3745510"
  },
  {
    "text": "you're deriving inside the hardware to generate these values are not available",
    "start": "3745510",
    "end": "3750579"
  },
  {
    "text": "to either Enclave okay so we then use",
    "start": "3750579",
    "end": "3763230"
  },
  {
    "text": "available hardware can check some of these and we'll give you some results",
    "start": "3763230",
    "end": "3770349"
  },
  {
    "text": "back based on the key but you never yes",
    "start": "3770349",
    "end": "3776940"
  },
  {
    "text": "so we basically do all this we send that",
    "start": "3778950",
    "end": "3784569"
  },
  {
    "text": "whoops I think we went too far maybe it skipped here we basically send this over",
    "start": "3784569",
    "end": "3790450"
  },
  {
    "text": "and and now the verifying Enclave can actually obtain the report doesn't look",
    "start": "3790450",
    "end": "3796960"
  },
  {
    "text": "like it kind of I did this as an animation and I took the animations and",
    "start": "3796960",
    "end": "3803200"
  },
  {
    "text": "I put them into PowerPoint and I think that one kind of messed up essentially you got it back over here and now the",
    "start": "3803200",
    "end": "3811260"
  },
  {
    "text": "the receiving Enclave even though it's not here can verify this by obtaining",
    "start": "3812220",
    "end": "3817900"
  },
  {
    "text": "the report key its report key and verifying this Mac based on the office",
    "start": "3817900",
    "end": "3824800"
  },
  {
    "text": "authenticity of the report",
    "start": "3824800",
    "end": "3828750"
  },
  {
    "text": "the Mac is part of the report and you send that back over and then you can",
    "start": "3834520",
    "end": "3840740"
  },
  {
    "text": "identify you can verify the report key by having checking this with your mr",
    "start": "3840740",
    "end": "3848390"
  },
  {
    "text": "enclave in it and as a result then so I mean you really need to understand the",
    "start": "3848390",
    "end": "3854240"
  },
  {
    "text": "details of that up at a level that I don't want to go into today but we can",
    "start": "3854240",
    "end": "3859970"
  },
  {
    "text": "come back essentially if you look at that what will happen is this will come",
    "start": "3859970",
    "end": "3865220"
  },
  {
    "text": "back over the mr enclave is fed in as part of the report as one of the parameters into that instruction and",
    "start": "3865220",
    "end": "3871579"
  },
  {
    "text": "then you bring it back and you can verify that Enclave using the Erie get",
    "start": "3871579",
    "end": "3878780"
  },
  {
    "text": "key instruction to to verify that that's correct after we do that we want to take",
    "start": "3878780",
    "end": "3889819"
  },
  {
    "text": "this value so this is a what we've done is we've said okay this Enclave over",
    "start": "3889819",
    "end": "3895039"
  },
  {
    "text": "here on the on the left side is is now the one that has been has given its",
    "start": "3895039",
    "end": "3900500"
  },
  {
    "text": "information to this other Enclave and we're now going to say well that Enclave was something special that has a special",
    "start": "3900500",
    "end": "3907480"
  },
  {
    "text": "global attestation mechanism and in our case we call this epidemis e ID is again",
    "start": "3907480",
    "end": "3915980"
  },
  {
    "text": "very similar to what is done by by the TPM for their direct anonymous",
    "start": "3915980",
    "end": "3921859"
  },
  {
    "text": "attestation and and so we then send that back over to the remote Enclave and this",
    "start": "3921859",
    "end": "3928730"
  },
  {
    "text": "value now is something that the remote party can can actually do a check on",
    "start": "3928730",
    "end": "3935839"
  },
  {
    "text": "with an attestation server that intel has provided and a private key and a",
    "start": "3935839",
    "end": "3951170"
  },
  {
    "text": "public key for a group and that's the same sort of thing here so",
    "start": "3951170",
    "end": "3957520"
  },
  {
    "text": "no we went to this was this was the this",
    "start": "3957810",
    "end": "3963460"
  },
  {
    "text": "we went from the local attestation now we're in the process of doing they're the global one local is a symmetric key",
    "start": "3963460",
    "end": "3971080"
  },
  {
    "text": "and the remote is done with a asymmetric key and it's a anonymous type of",
    "start": "3971080",
    "end": "3979000"
  },
  {
    "text": "environment so the remote party won't know which machine it is that's the idea then what they do know is that it's part",
    "start": "3979000",
    "end": "3986140"
  },
  {
    "text": "of this group and Intel will provide the group members for that and there are all",
    "start": "3986140",
    "end": "3991600"
  },
  {
    "text": "sorts of cryptography about you can decide whether Intel or somebody else decides that this is a part that's bad",
    "start": "3991600",
    "end": "3997600"
  },
  {
    "text": "you can make some calculations and I can never remember that crypto after I look",
    "start": "3997600",
    "end": "4003720"
  },
  {
    "text": "at it okay so after verifying this",
    "start": "4003720",
    "end": "4010170"
  },
  {
    "text": "report then this Enclave which we called the quoting Enclave this is the global",
    "start": "4010170",
    "end": "4015420"
  },
  {
    "text": "quote that we're providing we'll sign the report and we'll use the epital",
    "start": "4015420",
    "end": "4022369"
  },
  {
    "text": "convert it to something that's global that can be used by the verifying party and and then it will be sent over and",
    "start": "4022369",
    "end": "4032330"
  },
  {
    "text": "then the remote platform can verify this quote with the epic part of the group",
    "start": "4032330",
    "end": "4040530"
  },
  {
    "text": "and and therefore at this point in time the remote platform has now been should",
    "start": "4040530",
    "end": "4047609"
  },
  {
    "text": "be assured that this particular Enclave that's here on this platform has been instantiated inside an enclave on an",
    "start": "4047609",
    "end": "4055530"
  },
  {
    "text": "intel part that it hasn't been revoked yes",
    "start": "4055530",
    "end": "4062060"
  },
  {
    "text": "no the AP ID is stored in this particular Enclave we call their quoting Enclave and it's provided by Intel",
    "start": "4065060",
    "end": "4072240"
  },
  {
    "text": "during a provisioning cycle that we glossed over today but feel free to come",
    "start": "4072240",
    "end": "4077700"
  },
  {
    "text": "to our all-day talk and we'll go into that shameless plug I know yes",
    "start": "4077700",
    "end": "4084859"
  },
  {
    "text": "well how does Intel decide it should be revoked so the idea here is that this",
    "start": "4086650",
    "end": "4096588"
  },
  {
    "text": "remote platform this remote party the relying party for this attestation can go and query an Intel server and we say",
    "start": "4096589",
    "end": "4104060"
  },
  {
    "text": "oh you have to there's some crypto you have to do because we revoke the part we",
    "start": "4104060",
    "end": "4110088"
  },
  {
    "text": "don't want the remote party to know which part but you want them to know it's been revoked so there's some",
    "start": "4110089",
    "end": "4116109"
  },
  {
    "text": "involved crypto that Ike yes yeah so",
    "start": "4116109",
    "end": "4124040"
  },
  {
    "text": "there is some method to do that the more interesting thing is why would we ever revoke one well if somebody brought",
    "start": "4124040",
    "end": "4129920"
  },
  {
    "text": "theirs in with in pieces like we had mentioned before we probably could revoke that part there are some cases",
    "start": "4129920",
    "end": "4136160"
  },
  {
    "text": "where you might you know if it's published on the web and everybody said hey I took this part apartment here are",
    "start": "4136160",
    "end": "4142219"
  },
  {
    "text": "the values we would know to revoke it otherwise it's very nebulous and it's an interesting security issue as to how you",
    "start": "4142219",
    "end": "4149060"
  },
  {
    "text": "decide as something's trusted more could",
    "start": "4149060",
    "end": "4159830"
  },
  {
    "text": "do that but this is for the remote party so they're not going to buy this other computer they just want to know not to",
    "start": "4159830",
    "end": "4165770"
  },
  {
    "text": "send there their secrets they're in our",
    "start": "4165770",
    "end": "4179988"
  },
  {
    "text": "best interest it certainly would be if we could convince people but uh",
    "start": "4179989",
    "end": "4185350"
  },
  {
    "text": "yes there's this mechanism rely on the algorithms business itself implemented",
    "start": "4198440",
    "end": "4211200"
  },
  {
    "text": "in the Enclave that's a secret at all",
    "start": "4211200",
    "end": "4220440"
  },
  {
    "text": "it's in an enclave which means that the code itself is downloaded before it's actually secured and it's open and by",
    "start": "4220440",
    "end": "4228030"
  },
  {
    "text": "the way we put it at an ISO standard for episo-- you can look at the details there yes only the keys are secret yes",
    "start": "4228030",
    "end": "4239060"
  },
  {
    "text": "we have keys that are particular to every part so every part has unique keys",
    "start": "4254390",
    "end": "4260930"
  },
  {
    "text": "there are keys there that are keys that Intel puts into the part and forgets and",
    "start": "4260930",
    "end": "4269550"
  },
  {
    "text": "there are keys that Intel puts in and remembers and the ones we remember are",
    "start": "4269550",
    "end": "4275130"
  },
  {
    "text": "not part of the sealing infrastructure they're used as part of this how do we",
    "start": "4275130",
    "end": "4280350"
  },
  {
    "text": "know which portion this is so we have this quoting Enclave we need to be able to tell which machine has that",
    "start": "4280350",
    "end": "4287400"
  },
  {
    "text": "particular key we use that and that's that's what that uses for no uses are",
    "start": "4287400",
    "end": "4295380"
  },
  {
    "text": "fuses and they're done it manufacturing that's it now that said we have some way",
    "start": "4295380",
    "end": "4301170"
  },
  {
    "text": "as I mentioned earlier we have this security version number and we do do calculations based on that so if we up",
    "start": "4301170",
    "end": "4308520"
  },
  {
    "text": "the replicate up the security version of the part for a particular change and it",
    "start": "4308520",
    "end": "4314640"
  },
  {
    "text": "could be that we decide there's a bug in that Conclave when we decide to up the security version number we will have a",
    "start": "4314640",
    "end": "4321180"
  },
  {
    "text": "different set of keys derived we wanted to make sure we didn't have to",
    "start": "4321180",
    "end": "4326630"
  },
  {
    "text": "recall the part of Fah there was a bug and say some intel Enclave yes so if you",
    "start": "4326630",
    "end": "4335360"
  },
  {
    "text": "hear some up above some keys to a specific machine up means that you can somehow deny service machine so it",
    "start": "4335360",
    "end": "4342050"
  },
  {
    "text": "cannot procreate very well we don't know",
    "start": "4342050",
    "end": "4347119"
  },
  {
    "text": "which machines right we know the group are you saying if we decided we wanted",
    "start": "4347119",
    "end": "4352429"
  },
  {
    "text": "to never provision this machine we could say all of the Broadwell parts we don't",
    "start": "4352429",
    "end": "4366110"
  },
  {
    "text": "really know you know million go out every day we don't really keep track of where'd they go I mean yeah there's a",
    "start": "4366110",
    "end": "4372800"
  },
  {
    "text": "little paranoia I guess you could argue but where I don't think we're that good yes",
    "start": "4372800",
    "end": "4379658"
  },
  {
    "text": "no it's done this a matter of law of the reset so we actually do some some",
    "start": "4382820",
    "end": "4390280"
  },
  {
    "text": "calculations that reset that create a new set of keys based on the fuses and",
    "start": "4390280",
    "end": "4396670"
  },
  {
    "text": "it's best under security version number one security reasons you use someone to be up when you reset right when you set",
    "start": "4396670",
    "end": "4405290"
  },
  {
    "text": "everything goes away and we start on but readings the upgraded security version yes okay and then when you load a patch",
    "start": "4405290",
    "end": "4412760"
  },
  {
    "text": "back in because that's your base hardware and when you load a patch in or you load some software then we calculate",
    "start": "4412760",
    "end": "4418369"
  },
  {
    "text": "the security version at the right time so then we can report that based on what",
    "start": "4418369",
    "end": "4424460"
  },
  {
    "text": "it is at that time but for instance if we reset the part the quoting Enclave",
    "start": "4424460",
    "end": "4429949"
  },
  {
    "text": "isn't there and it won't be there for a while so as far as the security version for that part for that particular",
    "start": "4429949",
    "end": "4435110"
  },
  {
    "text": "Enclave it'll be awhile before we actually get it done yes",
    "start": "4435110",
    "end": "4439989"
  },
  {
    "text": "well because I don't think we are going to be successful being in the trust",
    "start": "4449320",
    "end": "4455969"
  },
  {
    "text": "for everyone go I think we are we are",
    "start": "4455969",
    "end": "4461999"
  },
  {
    "text": "forgetting those keys in this first generation and then we are never going to know them in future generations so so",
    "start": "4461999",
    "end": "4468809"
  },
  {
    "text": "the reason for that is just the manufacturing process today and then at that the some point we will just",
    "start": "4468809",
    "end": "4475039"
  },
  {
    "text": "generate those and they will be in the part and we won't really know what they are we just aren't there in this first",
    "start": "4475039",
    "end": "4482130"
  },
  {
    "text": "generation well it's that and I don't",
    "start": "4482130",
    "end": "4487829"
  },
  {
    "text": "think well it turns out if you go through all the key distribution we actually allow an owner of the platform",
    "start": "4487829",
    "end": "4494249"
  },
  {
    "text": "to inject 250 s 128 bits of entropy on their own so we'll never know the ceiling structure from the beginning",
    "start": "4494249",
    "end": "4500880"
  },
  {
    "text": "from from that anyway so so the whole idea that you can give this part to",
    "start": "4500880",
    "end": "4508889"
  },
  {
    "text": "someone and they can take it apart and know the values for that for that sealed chain is very hard if we don't have that",
    "start": "4508889",
    "end": "4516989"
  },
  {
    "text": "owner what we call owner epic is is this this 128 bits of entropy that anybody",
    "start": "4516989",
    "end": "4523889"
  },
  {
    "text": "can inject and it goes in and it's done at the boot time and that is part of the",
    "start": "4523889",
    "end": "4528900"
  },
  {
    "text": "key calculation and then that is that is going to be a unique value that nobody",
    "start": "4528900",
    "end": "4534719"
  },
  {
    "text": "knows this other base part we just we try to forget that and and that's",
    "start": "4534719",
    "end": "4541139"
  },
  {
    "text": "something we were going to get better at as we move forward yes what I asked you",
    "start": "4541139",
    "end": "4555840"
  },
  {
    "text": "about the software version how do you protect the software version I'm not",
    "start": "4555840",
    "end": "4566969"
  },
  {
    "text": "sure I know exactly what you mean by how you protect it well you said you actually take the system back down to",
    "start": "4566969",
    "end": "4574260"
  },
  {
    "text": "the world artwork and then you reset that will it will go back down to the rock while he will apply some security",
    "start": "4574260",
    "end": "4581830"
  },
  {
    "text": "version four depending on whether it's a micro code patch we will supply if it's",
    "start": "4581830",
    "end": "4586930"
  },
  {
    "text": "a software patch we will do something a little different how do we know yeah I'm",
    "start": "4586930",
    "end": "4596410"
  },
  {
    "text": "not sure what you mean we we use the value that we retrieved from that patch to calculate the keys it's an input into",
    "start": "4596410",
    "end": "4603460"
  },
  {
    "text": "that key calculation yes it's coming",
    "start": "4603460",
    "end": "4610060"
  },
  {
    "text": "from the well the version itself is",
    "start": "4610060",
    "end": "4615640"
  },
  {
    "text": "coming from the patch you load and it's signed and it's encrypted yes security",
    "start": "4615640",
    "end": "4632170"
  },
  {
    "text": "version is the rest is a piece of salt right yes exactly so it essentially is",
    "start": "4632170",
    "end": "4639100"
  },
  {
    "text": "one more thing that that's put into the key derivation okay",
    "start": "4639100",
    "end": "4645570"
  },
  {
    "text": "you",
    "start": "4651700",
    "end": "4653760"
  }
]