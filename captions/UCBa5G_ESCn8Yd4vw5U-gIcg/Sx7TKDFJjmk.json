[
  {
    "start": "0",
    "end": "5350"
  },
  {
    "text": "Good. Well, we'll go ahead and start. Actually, I just wanted\nto repeat something",
    "start": "5350",
    "end": "10440"
  },
  {
    "text": "I mentioned last lecture\nbut maybe some of you hadn't started the\nhomework problem",
    "start": "10440",
    "end": "15750"
  },
  {
    "text": "where you implement an\ninfeasible start Newton method. So I'm just going to repeat\nit because it's actually super important.",
    "start": "15750",
    "end": "22740"
  },
  {
    "text": "It's this. That the gradient\nand Hessian, you just",
    "start": "22740",
    "end": "27810"
  },
  {
    "text": "write out simple\nformulas for them like that whatever the\ngradient is a vector that looks like entrywise\n1 over x, right,",
    "start": "27810",
    "end": "33930"
  },
  {
    "text": "and the Hessian is diag of like\n1 over xi squared or something like that.",
    "start": "33930",
    "end": "39690"
  },
  {
    "text": "So the problem is\nthat those make sense when the xI's are negative. Those expressions, right,\nthey actually they parse.",
    "start": "39690",
    "end": "47210"
  },
  {
    "text": "I mean, if you're unlucky enough\nto have one of the xI zero, then both of those are going\nto give you some trouble. But they're going to make sense.",
    "start": "47210",
    "end": "53530"
  },
  {
    "text": "They are completely wrong and\nhave no meaning whatsoever in this problem, right.",
    "start": "53530",
    "end": "58800"
  },
  {
    "text": "Because for us, the function\nis defined on x positive. Period.",
    "start": "58800",
    "end": "64229"
  },
  {
    "text": "Right. So what that means is\nin your line search, you're going to want\nto first make sure",
    "start": "64230",
    "end": "70960"
  },
  {
    "text": "that x plus TV is positive. And you keep reducing or\nyou have T times equals beta",
    "start": "70960",
    "end": "78370"
  },
  {
    "text": "until that becomes true. Then, you check the residual. Unfortunately, if you go\nahead and check the residual,",
    "start": "78370",
    "end": "84430"
  },
  {
    "text": "it's very likely to actually\nmake sense and everything will be wrong. Nothing good is going\nto happen after that.",
    "start": "84430",
    "end": "89947"
  },
  {
    "text": "And it's going to be a disaster. So OK. I feel like I've said it enough.",
    "start": "89947",
    "end": "95530"
  },
  {
    "text": "So OK. The other thing I was going to\nsay is if you get it to work",
    "start": "95530",
    "end": "100810"
  },
  {
    "text": "and you have some extra time,\nprobably you don't, but it wouldn't be very hard for you\nto then make a new version that",
    "start": "100810",
    "end": "109120"
  },
  {
    "text": "uses sparse linear algebra. You can't do that in NumPy. You're going to\ndo that in SciPy.",
    "start": "109120",
    "end": "114138"
  },
  {
    "text": "And this is just for fun. This is just if you wanted to. Actually, by the\nend of next week, it means you'll have\nimplemented an LP solver that",
    "start": "114138",
    "end": "120503"
  },
  {
    "text": "will solve 10,000\nvariable problems, which is kind of cool, I think. And with that would\nnot be very hard to do.",
    "start": "120503",
    "end": "126830"
  },
  {
    "text": "That's just if you-- I know a bunch of people\nare interested in this. If you want to, this\nwould be a great practice",
    "start": "126830",
    "end": "133420"
  },
  {
    "text": "to do that would be to implement\na sparse friendly version.",
    "start": "133420",
    "end": "138610"
  },
  {
    "text": "And the only difference is\nthat A is sparse then, right. The matrix A. Then\nthe only other thing",
    "start": "138610",
    "end": "144100"
  },
  {
    "text": "is you just go through the\ncode and replace the NumPy. You could actually do a\ndirect KKT factorization",
    "start": "144100",
    "end": "150400"
  },
  {
    "text": "with an LDL transpose. You could do all\nthese sorts of stuff. But this is only if you want.",
    "start": "150400",
    "end": "155470"
  },
  {
    "text": "So OK.  Any questions?",
    "start": "155470",
    "end": "162360"
  },
  {
    "text": "How many people here have\nactually attempted it so far? OK. And how many actually\nhave it like working?",
    "start": "162360",
    "end": "171340"
  },
  {
    "text": "Awesome. OK. And for the rest\nof you anyway, I think that the number\none bug is the one I just",
    "start": "171340",
    "end": "177810"
  },
  {
    "text": "mentioned is the domain issue. So OK. ",
    "start": "177810",
    "end": "184737"
  },
  {
    "text": "Oh, and the other\nthing is, of course, I think I mentioned\nthis last time. But please have the\nsense that if you",
    "start": "184737",
    "end": "190610"
  },
  {
    "text": "get into the three hour thing,\nthree, four hours of attempting to debug this, unless it just\nbecomes like a weird obsession",
    "start": "190610",
    "end": "198350"
  },
  {
    "text": "in a matter of personal pride,\nwhich it kind of should, but if it-- but barring that, you\nshould have the sense",
    "start": "198350",
    "end": "206930"
  },
  {
    "text": "to quit, right, because-- at some point. Because that's kind of--\nthe point of the class is not to debug\noptimization scripts anyway.",
    "start": "206930",
    "end": "215780"
  },
  {
    "text": "Actually, the main\npoint of this is to demystify how\nthese things work. So by next week,\nusing the things",
    "start": "215780",
    "end": "222560"
  },
  {
    "text": "we're going to talk\nabout today, you're actually going to end up\nimplementing a full LP solver,",
    "start": "222560",
    "end": "228319"
  },
  {
    "text": "right, which is kind of cool. And that way, I don't know. I don't know how\nmany people can say",
    "start": "228320",
    "end": "233420"
  },
  {
    "text": "they've implemented an\nLP solver from scratch that actually is not so bad.",
    "start": "233420",
    "end": "238620"
  },
  {
    "text": "So OK. Let's continue.",
    "start": "238620",
    "end": "244050"
  },
  {
    "text": "Where we were last time was\nwe said let's take a look",
    "start": "244050",
    "end": "249180"
  },
  {
    "text": "at how to handle-- so we do know--\nwe're going to assume all the functions involved--\nwhoops, that's no good.",
    "start": "249180",
    "end": "256380"
  },
  {
    "text": "We're going to assume that\nall of the functions involved are going to be smooth.",
    "start": "256380",
    "end": "261570"
  },
  {
    "text": "So we have a problem that\nlooks like this, right. And without these, we know\nhow to solve this problem.",
    "start": "261570",
    "end": "271260"
  },
  {
    "text": "So this we would just\napply Newton's method and several variations\nof Newton's method",
    "start": "271260",
    "end": "276630"
  },
  {
    "text": "as a matter of fact, right,\nto solve this, right? So the question\nis, how would you-- I mean, roughly\nspeaking, how do you",
    "start": "276630",
    "end": "281910"
  },
  {
    "text": "extend it to handle these\ninequality constraints, right? So that's one way\nto do it, right?",
    "start": "281910",
    "end": "286919"
  },
  {
    "text": "And what you could do is\nyou could do something like put it in the objective.",
    "start": "286920",
    "end": "293100"
  },
  {
    "text": "I forget-- I guess\nwe typically have M. And this is the I\nindicator function",
    "start": "293100",
    "end": "300840"
  },
  {
    "text": "of fI of x less than zero. This returns plus infinity\nif this is positive and 0",
    "start": "300840",
    "end": "310300"
  },
  {
    "text": "otherwise. So this would be\none version of this. And here's this\nfunction I right here.",
    "start": "310300",
    "end": "317050"
  },
  {
    "text": "It's the indicator function\nof negative numbers, right. OK.",
    "start": "317050",
    "end": "322930"
  },
  {
    "text": "So let me-- let's\nactually talk about methods you might do this. So here's one.",
    "start": "322930",
    "end": "328540"
  },
  {
    "text": "And I could tell the story. I could make it pretty\npersuasive the story I'm about to give.",
    "start": "328540",
    "end": "334090"
  },
  {
    "text": "And it goes like this. You finish you debug your Newton\nsolver for this thing here,",
    "start": "334090",
    "end": "339610"
  },
  {
    "text": "right. You get a debug. And then someone says,\nyeah, add this in because I want to also handle\nconstraints, and you go, cool.",
    "start": "339610",
    "end": "348670"
  },
  {
    "text": "So here's a method\nI'm going to propose. Ready? You just apply Newton's\nmethod to this.",
    "start": "348670",
    "end": "354930"
  },
  {
    "text": "OK. Then someone said, but wait. This is not smooth. Everybody following this, right?",
    "start": "354930",
    "end": "360949"
  },
  {
    "text": "And then you'd say, well, yeah,\nthat's just mathematicians.",
    "start": "360950",
    "end": "366200"
  },
  {
    "text": "That doesn't matter. I mean, come on. Let's just try this anyway. Everyone see what I'm saying?",
    "start": "366200",
    "end": "372229"
  },
  {
    "text": "Anyway, that will fail\nabsolutely miserably. It will not work at all. So this is one of those\ncases where it's not just",
    "start": "372230",
    "end": "377960"
  },
  {
    "text": "a question of mathematicians. It's that there's a\nreal problem there. So that won't work\nat all, right.",
    "start": "377960",
    "end": "383055"
  },
  {
    "text": "I mean not to\nmention what happens if you end up at a point\nthat's like infeasible. Anyway, it won't work. OK.",
    "start": "383055",
    "end": "389330"
  },
  {
    "text": "Now, the next variation\non it is I'll explain and also, here would be\nthe street fighting method",
    "start": "389330",
    "end": "395060"
  },
  {
    "text": "to do it. If someone says, what's your\nwhat's your problem and you go, well, I would like to\nincorporate this function here",
    "start": "395060",
    "end": "401509"
  },
  {
    "text": "but it's not smooth, right. So I can't use Newton's method.",
    "start": "401510",
    "end": "407122"
  },
  {
    "text": "Once this is smooth, I\ncan use Newton's method. And someone says, I got it. You get some sandpaper\nand you come over here",
    "start": "407122",
    "end": "413840"
  },
  {
    "text": "and you just sand off\nthe corner here, OK. And now, what I\nmean by that is I can make a completely smooth\napproximation of that function.",
    "start": "413840",
    "end": "422729"
  },
  {
    "text": "And you go, there. I'm good with the\nconvergence police.",
    "start": "422730",
    "end": "428250"
  },
  {
    "text": "I mean, everything is cool now. Everybody following this. And guess what? It would work.",
    "start": "428250",
    "end": "433570"
  },
  {
    "text": "It's just that Newton's method\nwould take 100 gazillion iterations to converge.",
    "start": "433570",
    "end": "439350"
  },
  {
    "text": "Why is that? Someone explain why. ",
    "start": "439350",
    "end": "446169"
  },
  {
    "text": "That doesn't look\nvery quadratic. That's a good point. Yeah. Yeah. So yeah, that has a really\nbig third derivative.",
    "start": "446170",
    "end": "452919"
  },
  {
    "text": "It doesn't look\nquadratic and all that. So basically, the\nsmoother it is, kind of the better Newton's\nmethod is going to work.",
    "start": "452920",
    "end": "459430"
  },
  {
    "text": "This is kind of just\nintuitive but that's the idea. And that's exactly right. OK. So OK.",
    "start": "459430",
    "end": "465550"
  },
  {
    "text": "So this story starts that way. But it's actually instead\ngoing to have a happy ending.",
    "start": "465550",
    "end": "471710"
  },
  {
    "text": "So the specific approximation\nthat's going to be used",
    "start": "471710",
    "end": "476740"
  },
  {
    "text": "is something called the\nlogarithmic barrier. And we can-- yeah.",
    "start": "476740",
    "end": "482682"
  },
  {
    "text": "It's going to look like this. It's these functions. So here's the actual function,\nthis indicator function.",
    "start": "482682",
    "end": "488449"
  },
  {
    "text": "And then this is basically\nminus 1 over T log minus 1 over I. They all go through\n0 here at minus 1, right.",
    "start": "488450",
    "end": "497770"
  },
  {
    "text": "They get slightly negative here. And then they go\nup to plus infinity as you approach\nthis boundary, OK.",
    "start": "497770",
    "end": "504120"
  },
  {
    "text": "So this thing is that's\nlike Newton ready, right.",
    "start": "504120",
    "end": "509419"
  },
  {
    "text": "That's a smooth problem,\nsmooth objective, equality constraints. The code you're\ngoing to implement",
    "start": "509420",
    "end": "515779"
  },
  {
    "text": "will just solve it, right. It literally will\nsolve something very close to this, right,\nso in your homework.",
    "start": "515780",
    "end": "521120"
  },
  {
    "text": "So that works, OK. So the idea this\nis an approximation",
    "start": "521120",
    "end": "526130"
  },
  {
    "text": "of this indicator function. And what's clear is t is like\na parameter, which tells me",
    "start": "526130",
    "end": "531620"
  },
  {
    "text": "how good an\napproximation I should-- how good an\napproximation I make. If t is really big, I get\nsomething that looks like this.",
    "start": "531620",
    "end": "539690"
  },
  {
    "text": "And intuition\nsuggests that then I would get a really\ngood approximation",
    "start": "539690",
    "end": "545540"
  },
  {
    "text": "of the original problem. And by the way, we're going\nto see that that's true and we're going to make that\nvery explicit momentarily.",
    "start": "545540",
    "end": "552320"
  },
  {
    "text": "But the point is that's\nwhat the intuition is. On the other hand,\nwhat would you predict about the value\nt and Newton's method?",
    "start": "552320",
    "end": "558089"
  },
  {
    "text": "What happens is you get\nt bigger and bigger here. Well, so basically, you\nshould-- before we even",
    "start": "558090",
    "end": "564524"
  },
  {
    "text": "get into this thing, here's\nwhat's going to happen. As t gets bigger and\nbigger, you will indeed",
    "start": "564525",
    "end": "569818"
  },
  {
    "text": "get a better and\nbetter approximation of the original\nproblem, number one. Number two, Newton's method\nwill take longer and longer",
    "start": "569818",
    "end": "575860"
  },
  {
    "text": "to solve, right? So that's what you\nshould be thinking.",
    "start": "575860",
    "end": "580870"
  },
  {
    "text": "It's actually true. OK. The question is just, how\ndo these two play together? OK.",
    "start": "580870",
    "end": "586030"
  },
  {
    "text": "So this is the story. I do want to point out\nalso that the story sounds",
    "start": "586030",
    "end": "594040"
  },
  {
    "text": "similar to another story\nthat started the same way. That was the Lagrange\nduality story.",
    "start": "594040",
    "end": "599860"
  },
  {
    "text": "Now, that was even\nmore absurd, right. That was-- I'm going to\napproximate this function",
    "start": "599860",
    "end": "606550"
  },
  {
    "text": "by this, right,\nwith a slope lambda.",
    "start": "606550",
    "end": "611620"
  },
  {
    "text": "So that's the Lagrange story. Now, that had a happy ending. I mean, you have to interpret\nit exactly correctly, right?",
    "start": "611620",
    "end": "618670"
  },
  {
    "text": "But that one actually weirdly\nkind of worked, right. These are actually like\nreasonable approximations.",
    "start": "618670",
    "end": "626380"
  },
  {
    "text": "I think you'd have to say that\na line here is not, right. Oh, it's called a\nbarrier because this",
    "start": "626380",
    "end": "633699"
  },
  {
    "text": "function it actually\nrequires you to be strictly feasible, right?",
    "start": "633700",
    "end": "640540"
  },
  {
    "text": "And then you've\ngot this function that goes to plus infinity. That's a barrier\nfunction or yeah.",
    "start": "640540",
    "end": "645543"
  },
  {
    "text": "That's one name. Now, by the way, there's a\nwhole other version of all this which you can do, which is a\nso-called penalty function.",
    "start": "645543",
    "end": "651380"
  },
  {
    "text": "And a penalty functions\nlook like this. Let's toss this out.",
    "start": "651380",
    "end": "658209"
  },
  {
    "text": "Penalty functions go like this. They kind of do the opposite. And then they start\ngoing up rapidly.",
    "start": "658210",
    "end": "664070"
  },
  {
    "text": "So this is a so-called\npenalty function, right? So penalty says,\nI will-- and then",
    "start": "664070",
    "end": "669250"
  },
  {
    "text": "I could make this\nsteeper and steeper. That would be my parameter\nthat tells me how good an-- so this would give you\nan outer bound, right.",
    "start": "669250",
    "end": "676600"
  },
  {
    "text": "The other one gives you\nan inner one, right. OK. And you could develop a\nwhole theory with that",
    "start": "676600",
    "end": "682070"
  },
  {
    "text": "if you wanted to. It's fine. OK. So this log barrier\nfunction, right, it's",
    "start": "682070",
    "end": "689310"
  },
  {
    "text": "the sum of minus log minus fI.",
    "start": "689310",
    "end": "694740"
  },
  {
    "text": "And I mean, it's, of\ncourse, convex, right. And we'll write down\nwhat its derivatives are.",
    "start": "694740",
    "end": "701070"
  },
  {
    "text": "So the derivatives\nare basically, it's the sum of the\ngradients of the functions",
    "start": "701070",
    "end": "706500"
  },
  {
    "text": "and scaled, right? fI of x is negative, right. So that's-- this thing\nyou should interpret this",
    "start": "706500",
    "end": "712529"
  },
  {
    "text": "as the margin, right? And the Hessian has\ntwo terms, right? It's got the second.",
    "start": "712530",
    "end": "719310"
  },
  {
    "text": "It's got the Hessian of the\nindividual functions, right, scaled by minus fI, which\nis 1 over the margin, which",
    "start": "719310",
    "end": "725160"
  },
  {
    "text": "is non-negative, right. And then it's got a\nbunch of rank 1 terms which has to do\nwith the gradient",
    "start": "725160",
    "end": "730260"
  },
  {
    "text": "and that's scaled by 1 over\nfI of x squared, right, which is basically the margin,\nthe square of the margin, OK.",
    "start": "730260",
    "end": "738029"
  },
  {
    "text": "So these are what these\ntwo things look like.",
    "start": "738030",
    "end": "743160"
  },
  {
    "text": "And again, all sorts\nof stuff should be storing in your mind\nfor possible exploitation",
    "start": "743160",
    "end": "750120"
  },
  {
    "text": "like diagonal plus\nlow rank or something. OK.",
    "start": "750120",
    "end": "755340"
  },
  {
    "text": "So what we do is we're going\nto multiply through the t. It had been 1 over t times phi.",
    "start": "755340",
    "end": "761430"
  },
  {
    "text": "We just put the t over nf zero. It's the same-- it's\nequivalent problem, right. And now, what we're\ngoing to assume,",
    "start": "761430",
    "end": "767490"
  },
  {
    "text": "we're going to assume that\nproblem up there has a solution for each positive t, right.",
    "start": "767490",
    "end": "772589"
  },
  {
    "text": "So we'll just assume that. And then what that means is we\ncan actually parameterize it",
    "start": "772590",
    "end": "779040"
  },
  {
    "text": "by t. And so you get\nsomething really-- you get this thing which\nis like x star of t. It's the solution of this\nproblem as a function",
    "start": "779040",
    "end": "785160"
  },
  {
    "text": "of this parameter t. So that's what it is, right? So when t is--",
    "start": "785160",
    "end": "794310"
  },
  {
    "text": "well, let's see. OK. Yeah. Well, we can go through this. As t goes to\ninfinity, we imagine",
    "start": "794310",
    "end": "800790"
  },
  {
    "text": "this to be a really\ngood approximation of the real function,\nwhich is like f 0",
    "start": "800790",
    "end": "807480"
  },
  {
    "text": "plus then the indicator function\nof all of the constraints, right.",
    "start": "807480",
    "end": "813090"
  },
  {
    "text": "So this gives a curve in rn\nparameterized by this parameter t. This thing. And this is called the\ncentral path this curve.",
    "start": "813090",
    "end": "821170"
  },
  {
    "text": "So that's the name of it. And here's just a baby picture\nto show you what it looks like.",
    "start": "821170",
    "end": "826589"
  },
  {
    "text": "So here's a polyhedron here. So the original\nproblem was an LP. These are the constraints.",
    "start": "826590",
    "end": "834340"
  },
  {
    "text": "Let's see what\nhappens when I set t equals very small,\nlike zero, I'm",
    "start": "834340",
    "end": "841170"
  },
  {
    "text": "minimizing that log barrier\nover this polyhedron. And that's going\nto give me-- it's going to start at\nthe analytic center.",
    "start": "841170",
    "end": "846510"
  },
  {
    "text": "So that's going to be the\nanalytic center of this, right. So and in fact, if you'll\nrecall at this point, maximizes the product\nof the margins here,",
    "start": "846510",
    "end": "855305"
  },
  {
    "text": "which is the same as\nmaximizing the sum of the logs of the margins. OK. Now, as t gets\nbigger and bigger,",
    "start": "855305",
    "end": "860690"
  },
  {
    "text": "I'm bringing in tc\ntranspose x because that's the objective here.",
    "start": "860690",
    "end": "866019"
  },
  {
    "text": "And what happens is\nit moves along here and you can actually\nwork out exactly",
    "start": "866020",
    "end": "871420"
  },
  {
    "text": "what happens when I choose. This is of 10. So what's going to happen is\nthis is the optimal point.",
    "start": "871420",
    "end": "879459"
  },
  {
    "text": "c points this way. So the whole LP says,\nplease, go as far as you can this direction\nin this polyhedron,",
    "start": "879460",
    "end": "885550"
  },
  {
    "text": "and that's the\noptimal point, right. And so here is the\nso-called central path. And you can actually\nsee what happens.",
    "start": "885550",
    "end": "892209"
  },
  {
    "text": "This is when it's 0. This is when it's 10. I don't know what--\nthis is maybe 20, 30. But as you increase\nt, this is indeed--",
    "start": "892210",
    "end": "899830"
  },
  {
    "text": "you know, it's a 2D example. So it's kind of silly. But it is indeed moving\ntowards an optimal--",
    "start": "899830",
    "end": "907467"
  },
  {
    "text": "well, in this case, I can\nsay the optimal point, right. So that's-- so that all\nkind of makes sense. That's the idea.",
    "start": "907468",
    "end": "914780"
  },
  {
    "text": "OK. So this is the picture. Now of course, you have to\nvisualize this in a thousand",
    "start": "914780",
    "end": "919840"
  },
  {
    "text": "dimensions really to\nunderstand how all this works and stuff like that. But this is a good enough\npicture to get the idea.",
    "start": "919840",
    "end": "925970"
  },
  {
    "text": "OK.  Something very cool happens.",
    "start": "925970",
    "end": "931770"
  },
  {
    "text": "And that's this. If you are on the\ncentral path, then it means that you solve\nthis problem right here.",
    "start": "931770",
    "end": "940079"
  },
  {
    "text": "You solve this problem. Well, the KKT\nconditions for that are going to be, Ax equals b.",
    "start": "940080",
    "end": "945375"
  },
  {
    "text": "That's primal feasibility. And then t grad f of 0 plus\ngrad phi plus a transpose nu.",
    "start": "945375",
    "end": "953250"
  },
  {
    "text": "And that's going to\nbe the equals zero. That's going to be the dual\npart of the KKT conditions.",
    "start": "953250",
    "end": "959170"
  },
  {
    "text": "And so these are the\noptimality conditions. And here, I've simply\nexpanded out the--",
    "start": "959170",
    "end": "966990"
  },
  {
    "text": "let's see. I have expanded out the\ngradient of the barrier.",
    "start": "966990",
    "end": "973890"
  },
  {
    "text": "And it looks like this\nthing here, right? So it looks like that.",
    "start": "973890",
    "end": "980020"
  },
  {
    "text": "So OK. That's fine. But if you stare at\nthis very, very closely,",
    "start": "980020",
    "end": "987780"
  },
  {
    "text": "if I tell you that this is 0\nand I look at the coefficients here, I divide by t.",
    "start": "987780",
    "end": "993240"
  },
  {
    "text": "So that's grad of 0. This is 1 over minus t fI of x.",
    "start": "993240",
    "end": "998340"
  },
  {
    "text": "That's a positive number\nbecause fI of x is less than 0. Right? That's required here.",
    "start": "998340",
    "end": "1004040"
  },
  {
    "text": "And I see that\nhey, look at that. When Ix star of t satisfies\nthe gradient of f0",
    "start": "1004040",
    "end": "1011030"
  },
  {
    "text": "plus a sum of\npositive numbers times the gradients of fI\nplus a transpose w is 0.",
    "start": "1011030",
    "end": "1018403"
  },
  {
    "text": "And then you think about\nthat and you think about it in your head and\nyou say, oh my god. That means that\nthis thing actually",
    "start": "1018403",
    "end": "1025490"
  },
  {
    "text": "minimizes the Lagrangian but\nfor these specific choices. So nu is w over t.",
    "start": "1025490",
    "end": "1032510"
  },
  {
    "text": "And the lambda I's are 1\nover t times the margins.",
    "start": "1032510",
    "end": "1037640"
  },
  {
    "text": "Make sense? OK. Well, this is cool.",
    "start": "1037640",
    "end": "1043510"
  },
  {
    "text": "Because if you have a\ndual feasible-- if you have a point that minimizes the\nLagrangian, that means you just",
    "start": "1043510",
    "end": "1050350"
  },
  {
    "text": "evaluated g, the dual function. And if you evaluate\nthe dual function at this particular\nlambda and this nu here,",
    "start": "1050350",
    "end": "1059710"
  },
  {
    "text": "you just work out what it is. It's just the\nLagrangian of this. And when I plug-in what\nit is at lambda star here,",
    "start": "1059710",
    "end": "1065800"
  },
  {
    "text": "if I plug that in here,\nI get something actually kind of amazing.",
    "start": "1065800",
    "end": "1070960"
  },
  {
    "text": "Because you'll remember that--\nso each of these is that. So when I plug that in\nthere, the fI is just cancel.",
    "start": "1070960",
    "end": "1077980"
  },
  {
    "text": "Period. They cancel and you get like\nbasically minus 1 over t. You add up m of those\nand you get this term.",
    "start": "1077980",
    "end": "1085039"
  },
  {
    "text": "And so you get something\namazing that looks like this. So let's actually read it.",
    "start": "1085040",
    "end": "1091190"
  },
  {
    "text": "It's super simple. It says that this is\nthe current value--",
    "start": "1091190",
    "end": "1097179"
  },
  {
    "text": "x of t is strictly\nfeasible, right? So this is sort of an upper\nbound on the optimal value p star right.",
    "start": "1097180",
    "end": "1103250"
  },
  {
    "text": "What this says is that if you\nsubtract m over t from it, that number is less\nthan the optimal value.",
    "start": "1103250",
    "end": "1112440"
  },
  {
    "text": "Another way to say it is that\nthe gap between your value and p star is less\nthan m over t.",
    "start": "1112440",
    "end": "1120210"
  },
  {
    "text": "So that's actually-- so\nlet me-- let's go back and see what that says. That says that if\nyou simply solve--",
    "start": "1120210",
    "end": "1129510"
  },
  {
    "text": "let's see-- if you solve-- I'll find the-- here it is. So if you simply solve\nthis problem, which",
    "start": "1129510",
    "end": "1135130"
  },
  {
    "text": "you know how to do because\nyou just use Newton's method, then two things are\ngoing to happen.",
    "start": "1135130",
    "end": "1140650"
  },
  {
    "text": "Number one, you will,\nwhether you like it or not, you're going to inadvertently\nproduce dual feasible points.",
    "start": "1140650",
    "end": "1146740"
  },
  {
    "text": "Those dual feasible points are\ngoing to give you a bound on p star. Not only that, we\nknow exactly the gap.",
    "start": "1146740",
    "end": "1153810"
  },
  {
    "text": "And the gap is defined\nas the difference between your current objective\nvalue and your best mp star.",
    "start": "1153810",
    "end": "1160710"
  },
  {
    "text": "It's exactly m over t. And so that's\nactually very cool. It completely confirms all\nthis like hand-waving about",
    "start": "1160710",
    "end": "1167730"
  },
  {
    "text": "if t gets big, right,\nI mean here would be-- my hand-waving is yeah, sure. If t gets big,\nthat approximates.",
    "start": "1167730",
    "end": "1173070"
  },
  {
    "text": "That that's got to be\nclose to the real thing. But this is just very simple. It just says, when you compute\na point on the central path,",
    "start": "1173070",
    "end": "1181320"
  },
  {
    "text": "you will find actually a\nprimal point and a dual-- and a pair of dual\npoints and the gap",
    "start": "1181320",
    "end": "1188070"
  },
  {
    "text": "is going to be m over t. So if t goes to infinity\nnow, you solve the problem. And that's completely clear.",
    "start": "1188070",
    "end": "1195000"
  },
  {
    "text": "Yeah. What is the difference\nbetween doing it this way and just starting by\ntaking the Lagrangian",
    "start": "1195000",
    "end": "1201179"
  },
  {
    "text": "of the original problem\nand doing it from there? Oh. Yeah. That's a great question. So for many problems, LP would\nbe a perfect example, right?",
    "start": "1201180",
    "end": "1210210"
  },
  {
    "text": "If you just pick\nrandom dual variables and you evaluate\nthe dual function, you get minus infinity, right?",
    "start": "1210210",
    "end": "1216172"
  },
  {
    "text": "Because for example, for\nan LP and for actually for many problems,\nthe dual function is minus infinity unless some\nvery specific things happen",
    "start": "1216172",
    "end": "1224310"
  },
  {
    "text": "like equality\nconstraints hold, right. So if I say here's my\nLP and you say, oh, fine, I'm going to\nform a Lagrangian,",
    "start": "1224310",
    "end": "1231179"
  },
  {
    "text": "then how do you pick your\ndual variables, right? The answer is if you're\ndoing it randomly or something, you're just\ngoing to get, congratulations,",
    "start": "1231180",
    "end": "1239100"
  },
  {
    "text": "your lower bound\nis minus infinity. This is very cool because\nthis says you first you solve a smooth equality\nconstrained problem",
    "start": "1239100",
    "end": "1247360"
  },
  {
    "text": "and then that out\nof that is going to come some dual variables\nthat are guaranteed to be dual feasible.",
    "start": "1247360",
    "end": "1252940"
  },
  {
    "text": "And you'll get-- not only will\nyou get a non-trivial not-- in other words, not minus\ninfinity lower bound,",
    "start": "1252940",
    "end": "1258532"
  },
  {
    "text": "you're going to get one\nthat's actually the value you get minus m over t. I don't know if that made sense.",
    "start": "1258532",
    "end": "1264460"
  },
  {
    "text": "So here, you are finding the\ndual variables inadvertently by minimizing this\nbarrier function, right?",
    "start": "1264460",
    "end": "1271970"
  },
  {
    "text": "But there are problems\nwhere if the domain of g is everything where you can\njust update the dual variables",
    "start": "1271970",
    "end": "1280000"
  },
  {
    "text": "and stuff like that. So actually, those are\noften called price-- either price directed methods.",
    "start": "1280000",
    "end": "1286450"
  },
  {
    "text": "That's-- in economics, that's\nwhat they're referred to. But it doesn't work for most-- if you have an LP or something,\nit doesn't work at all.",
    "start": "1286450",
    "end": "1293470"
  },
  {
    "text": "Because those--\nroughly speaking, those prices have to satisfy\nextremely specific properties.",
    "start": "1293470",
    "end": "1298720"
  },
  {
    "text": "So OK. Good. OK. Now, we can also interpret\nthis via KKT conditions, right?",
    "start": "1298720",
    "end": "1307430"
  },
  {
    "text": "So let's see how that works. OK. So if you look at\nx star of t, that's",
    "start": "1307430",
    "end": "1314550"
  },
  {
    "text": "the thing you compute\nby Newton's method. Well, in fact, I think\nthe verb you would use is you have centered--\nyou've actually centered",
    "start": "1314550",
    "end": "1321720"
  },
  {
    "text": "or you've computed a point\non the central path, right. You've computed x of t here.",
    "start": "1321720",
    "end": "1326910"
  },
  {
    "text": "And then from that, we get\nthese lambda stars, right. These 1 over t times the margins\nand blah, blah, blah, right?",
    "start": "1326910",
    "end": "1332790"
  },
  {
    "text": "So I get those. And they are also\nfunctions of t.",
    "start": "1332790",
    "end": "1337950"
  },
  {
    "text": "I think-- yeah. That's fine. So we do that. And now, this is\na primal dual pair",
    "start": "1337950",
    "end": "1343290"
  },
  {
    "text": "and let's see what they satisfy. Well, not only do\nthey satisfy these,",
    "start": "1343290",
    "end": "1348885"
  },
  {
    "text": "these are actually satisfied\nwith a strict inequality, right. Because you have\nthis log barrier so you can't even be zero.",
    "start": "1348885",
    "end": "1356010"
  },
  {
    "text": "So primal feasibility works. The Ax equals b comes\nfor free because you've solved the problem with\nthe constraint Ax equals b.",
    "start": "1356010",
    "end": "1362850"
  },
  {
    "text": "So that's free. Your dual constraints are-- well, these are definitely\nbigger and equal to 0.",
    "start": "1362850",
    "end": "1368607"
  },
  {
    "text": "As a matter of fact,\nthey're positive. If you look at what\nthose numbers are, they're 1 over the\nmargins times t.",
    "start": "1368607",
    "end": "1374620"
  },
  {
    "text": "And t is positive. And the margin is\npositive and all that. So in fact, this inequality\nand this one hold with strict.",
    "start": "1374620",
    "end": "1381730"
  },
  {
    "text": "They're strict. But this is all we\nreally want here.",
    "start": "1381730",
    "end": "1387070"
  },
  {
    "text": "If you go through\nand work out-- well, this is actually, by definition,\nremember that we define lambda",
    "start": "1387070",
    "end": "1392170"
  },
  {
    "text": "I to be 1 over minus t fI of x. And so I express that this way.",
    "start": "1392170",
    "end": "1400850"
  },
  {
    "text": "And then the final part is\nthe gradient of the Lagrangian is zero, right. So that's fine.",
    "start": "1400850",
    "end": "1407740"
  },
  {
    "text": "OK. Now, the only-- if you\nstare at this and say, what's the difference\nbetween this and the KKT conditions\nof the original problem,",
    "start": "1407740",
    "end": "1413990"
  },
  {
    "text": "there's only one difference\nand it's really small. It's right here.",
    "start": "1413990",
    "end": "1419650"
  },
  {
    "text": "This is the complementary\nslackness condition. And in the real KKT conditions,\nif lambda I fI were 0,",
    "start": "1419650",
    "end": "1427750"
  },
  {
    "text": "then that would be-- these would literally be\nthe optimality conditions for the original problem.",
    "start": "1427750",
    "end": "1433520"
  },
  {
    "text": "OK. So what's happened is\nyou've simply replaced them with instead of 0, you have\n1 over t. t is positive.",
    "start": "1433520",
    "end": "1443230"
  },
  {
    "text": "And as a matter of fact, t is\ngoing to get bigger and bigger. So you're actually\nsaying, well, you're",
    "start": "1443230",
    "end": "1448690"
  },
  {
    "text": "actually computing points that\nsatisfy all the KKT except one. And then it almost satisfies\nit, especially when t is large.",
    "start": "1448690",
    "end": "1455590"
  },
  {
    "text": "Everybody got that? So in fact, I think\na lot of derivations of this start that way.",
    "start": "1455590",
    "end": "1461380"
  },
  {
    "text": "They say here's\nthe KKT conditions. You put a 0 over there and\nthey go, OK, we're going",
    "start": "1461380",
    "end": "1466960"
  },
  {
    "text": "to replace 0 with 1 over t. And then you're like, well,\nthen how would you solve this, right?",
    "start": "1466960",
    "end": "1472260"
  },
  {
    "text": "But now you know, right. You solve it by doing\nthis centering problem. Everybody following this?",
    "start": "1472260",
    "end": "1477620"
  },
  {
    "text": "So it's a very good\nbeautiful interpretation. ",
    "start": "1477620",
    "end": "1483049"
  },
  {
    "text": "There's also a really cool, like\nyou can imagine, a force field interpretation. So forget the equality\nconstraints just",
    "start": "1483050",
    "end": "1489507"
  },
  {
    "text": "to make this simple. But so we're going to minimize\nthis function here, right? And what I do is I'll think of\na mechanical interpretation.",
    "start": "1489507",
    "end": "1498410"
  },
  {
    "text": "So I think of x as a\ngeneralized position or configuration or something\nlight of some system, right.",
    "start": "1498410",
    "end": "1504680"
  },
  {
    "text": "And then what I do is I\nhave a-- so this thing",
    "start": "1504680",
    "end": "1510860"
  },
  {
    "text": "is going to be the potential\nof some force field. The force field is the\ngradient-- negative gradient of a potential, right.",
    "start": "1510860",
    "end": "1516919"
  },
  {
    "text": "So what I do is this is\nmy-- that's my force field. And then here, I have a--\nthat's the potential of a force",
    "start": "1516920",
    "end": "1526370"
  },
  {
    "text": "field associated\nwith each constraint. And at this central\npoint, the force fields,",
    "start": "1526370",
    "end": "1534320"
  },
  {
    "text": "all the forces balance, right. It just means the gradients\nsum up to zero, right? So that's the picture. And let me show you--\nwhat we'll show you--",
    "start": "1534320",
    "end": "1540890"
  },
  {
    "text": "I'll just show you some pictures\nabout how you can look at that. So here's an LP.",
    "start": "1540890",
    "end": "1546980"
  },
  {
    "text": "And the way we're going\nto solve it is this. We'll introduce a force field\nwhich is just minus t times c.",
    "start": "1546980",
    "end": "1556850"
  },
  {
    "text": "So it just means it's\na constant force field. It's like gravity\nexcept it doesn't",
    "start": "1556850",
    "end": "1561980"
  },
  {
    "text": "happen to be pointing\nstraight down, right? It's pointing-- actually, it's-- the force is pointing actually\nstraight in the negative c",
    "start": "1561980",
    "end": "1568909"
  },
  {
    "text": "direction and it's\nconstant multiplied by know if you fix t. Everybody got-- so that's\njust a constant force field.",
    "start": "1568910",
    "end": "1576679"
  },
  {
    "text": "Then, for each of\nthese constraints here, what we have is a\nrepulsive force.",
    "start": "1576680",
    "end": "1583250"
  },
  {
    "text": "In other words, if\nyou're here, it's always pointing directly\naway from these things.",
    "start": "1583250",
    "end": "1588695"
  },
  {
    "text": "In fact, that's what it is. It points directly away and\nit's inversely proportional to,",
    "start": "1588695",
    "end": "1596360"
  },
  {
    "text": "I could say, the\ndistance, right, to the distance or\nthe margin, right? So what that says is associated\nwith this constraint.",
    "start": "1596360",
    "end": "1602390"
  },
  {
    "text": "This constraint says\ndon't be over here, right. And what the contribution\nto the force field",
    "start": "1602390",
    "end": "1608549"
  },
  {
    "text": "is as a force field,\nif I'm right here, it's extremely strong\nand pointing this way. If I'm way over\nhere, it's very mild.",
    "start": "1608550",
    "end": "1614700"
  },
  {
    "text": "But it is pointing\ndirectly away from here. So as you move closer here,\nyou get a much stronger force",
    "start": "1614700",
    "end": "1620880"
  },
  {
    "text": "field. I mean, this is only-- if this helps you\nvisualize this, good.",
    "start": "1620880",
    "end": "1626870"
  },
  {
    "text": "If it doesn't, that's fine too. But just to get the picture.",
    "start": "1626870",
    "end": "1632370"
  },
  {
    "text": "So here at this point,\nthat's t equals 1,",
    "start": "1632370",
    "end": "1637440"
  },
  {
    "text": "we have, I guess\nin this case, we have-- let's see-- one, two,\nthree, four, five constraints. So these are the\nforces associated",
    "start": "1637440",
    "end": "1643950"
  },
  {
    "text": "with the constraints. This is minus c. So I have a constant force\nwhich is-- oh, by the way, the objective force is\nconstant everywhere in here.",
    "start": "1643950",
    "end": "1651390"
  },
  {
    "text": "It just says please go\nin this direction, right. I mean, I can multiply it by--",
    "start": "1651390",
    "end": "1656550"
  },
  {
    "text": "I'll multiply it by t which will\nscale up the effect of that. So OK. And here, so this here\nis the repulsive force",
    "start": "1656550",
    "end": "1665010"
  },
  {
    "text": "from this constraint. This is the repulsive force from\nthis constraint here, right?",
    "start": "1665010",
    "end": "1673080"
  },
  {
    "text": "This is the repulsive force\nfrom this constraint, right? And then, I don't know.",
    "start": "1673080",
    "end": "1678690"
  },
  {
    "text": "You could work it out. I mean, it's true. All of these forces balance at\nthis point on the central path,",
    "start": "1678690",
    "end": "1683980"
  },
  {
    "text": "right. And so now you can\nsee all sorts of cool. You can actually\nkind of visualize what happens when I increase t.",
    "start": "1683980",
    "end": "1689340"
  },
  {
    "text": "When I increase t,\nthis force here, it--",
    "start": "1689340",
    "end": "1694409"
  },
  {
    "text": "I multiplied it by three. It gets three times stronger,\npushing you in this direction. And so it settles to a new\nequilibrium, which is there.",
    "start": "1694410",
    "end": "1702200"
  },
  {
    "text": "I mean, you can see it along\nthe central path and everything makes sense. You move this way. And as you did, you\ngot closer to this",
    "start": "1702200",
    "end": "1708780"
  },
  {
    "text": "and then this got bigger, right. You got closer to this\none, this got bigger. And whatever it\nis, these things,",
    "start": "1708780",
    "end": "1714780"
  },
  {
    "text": "these six force vectors\nare going to add to zero. So I don't know if this is\nhelpful or not for people.",
    "start": "1714780",
    "end": "1720630"
  },
  {
    "text": "But for me, I think it's a\nvery good way to see this. OK. Let me ask a question about it.",
    "start": "1720630",
    "end": "1729360"
  },
  {
    "text": "What if I take a poly-- what\nif I add a redundant constraint to an LP?",
    "start": "1729360",
    "end": "1735610"
  },
  {
    "text": "So I add a new A, vector\nA, a transpose x less than",
    "start": "1735610",
    "end": "1742059"
  },
  {
    "text": "or equal to b and is redundant. Meaning that visually, it\nmeans it's like it's over here.",
    "start": "1742060",
    "end": "1748155"
  },
  {
    "text": "It says please\nstay on that side. But everything already in\nhere is on that side of it. Everybody got that? So here's my\nquestion for you does",
    "start": "1748155",
    "end": "1754570"
  },
  {
    "text": "it change the central path? ",
    "start": "1754570",
    "end": "1767507"
  },
  {
    "text": "Here's another way to say. Do redundant inequalities have\nan effect on the central path?",
    "start": "1767507",
    "end": "1773220"
  },
  {
    "text": "That's my question. What do you think? ",
    "start": "1773220",
    "end": "1782030"
  },
  {
    "text": "No. OK. What's your argument? They're are redundant. They're redundant.",
    "start": "1782030",
    "end": "1788300"
  },
  {
    "text": "I like that argument. OK. So here's what-- I like your argument. OK it's got-- it's brief.",
    "start": "1788300",
    "end": "1794370"
  },
  {
    "text": "So that's always a plus. Let's see. OK.",
    "start": "1794370",
    "end": "1799400"
  },
  {
    "text": "It does have one disadvantage. Also brief. It's false, right?",
    "start": "1799400",
    "end": "1805279"
  },
  {
    "text": "But it sounded-- it\nsounds good and it's good. OK. So look.",
    "start": "1805280",
    "end": "1810518"
  },
  {
    "text": "Here's what would happen. I mean, let's even think\nabout what would happen. What if I shoved an\ninequality here and here",
    "start": "1810518",
    "end": "1817639"
  },
  {
    "text": "and I put a whole\nbunch over here, right? Each of those is\nproducing a force. Now, they're not\ninside here to--",
    "start": "1817640",
    "end": "1822769"
  },
  {
    "text": "but it's going to feel this. If suppose I put like 10\nconstraints right here,",
    "start": "1822770",
    "end": "1828940"
  },
  {
    "text": "someone tell me what do you\nthink the central path is going to look like then? ",
    "start": "1828940",
    "end": "1834725"
  },
  {
    "text": "Curve more downwards. Precisely. But it's going to still sneak\nup to the solution, right? Because there's all these\nrepulsive forces this way,",
    "start": "1834725",
    "end": "1841177"
  },
  {
    "text": "so it's going to actually\ndo something weird like go along this way, right. But the same story\nis going to happen. It's going to come-- it's going\nto converge to the solution.",
    "start": "1841177",
    "end": "1849200"
  },
  {
    "text": "OK. So again, this is just\nfor interpretation so you understand how\nthese things work.",
    "start": "1849200",
    "end": "1856000"
  },
  {
    "text": "Actually, when we get to\nactually see how they work, no one understands\nhow they work. But if you want to pretend\nto understand how they work,",
    "start": "1856000",
    "end": "1864290"
  },
  {
    "text": "this is a good picture\nto do that with, right. So OK.",
    "start": "1864290",
    "end": "1869580"
  },
  {
    "text": "OK. So this brings us to\nthe barrier method. Actually, before I-- yeah.",
    "start": "1869580",
    "end": "1875639"
  },
  {
    "text": "Actually before I\ndo this, I'm going to talk about another\nmethod before that. And it's historical.",
    "start": "1875640",
    "end": "1881460"
  },
  {
    "text": "So by the way, some of the\nhistory is that a lot of this was worked out\nactually in the 1960s.",
    "start": "1881460",
    "end": "1889169"
  },
  {
    "text": "It had names like\nbarrier method. And I had-- actually, the famous\nmethod is something called SUMT, S-U-M-T, is Sequential\nUnconstrained Minimization",
    "start": "1889170",
    "end": "1897990"
  },
  {
    "text": "Technique. That's from the '60s. It was discovered\nthat someone named Deakin in the Soviet\nUnion had worked out",
    "start": "1897990",
    "end": "1905520"
  },
  {
    "text": "actually a completely modern\nalgorithm for all this in 1967. And I guess my friends in\nMoscow said it was hardly known",
    "start": "1905520",
    "end": "1916180"
  },
  {
    "text": "or he said it was ignored\nby people in Moscow. He said an unknown in the West.",
    "start": "1916180",
    "end": "1922659"
  },
  {
    "text": "That was his-- anyway,\nit was actually everything that\ntwo decades later",
    "start": "1922660",
    "end": "1927767"
  },
  {
    "text": "was going to be--\nwas going to make it to the front page of The New\nYork Times was in this 1967",
    "start": "1927767",
    "end": "1932980"
  },
  {
    "text": "paper by some guy in some hick\nprovince or way off somewhere.",
    "start": "1932980",
    "end": "1938210"
  },
  {
    "text": "I don't where it was. OK. So all right. So then in the US, there were\npeople, Fiacco and McCormick,",
    "start": "1938210",
    "end": "1946600"
  },
  {
    "text": "had come up with these\nthings called the Sequential Unconstrained\nOptimization Technique. So let me explain what it is.",
    "start": "1946600",
    "end": "1952490"
  },
  {
    "text": "Let's go back. And well, actually, I guess\nyou already know all the story. But it goes like this.",
    "start": "1952490",
    "end": "1959010"
  },
  {
    "text": "You want to-- now that we know-- when you-- you know how to\nsolve that problem up there.",
    "start": "1959010",
    "end": "1964167"
  },
  {
    "text": "It's just Newton's method. You know how to do it. When you do it,\nactually, not only will you-- when you\nsolve that problem,",
    "start": "1964167",
    "end": "1971159"
  },
  {
    "text": "you'll get an\napproximate solution of the original problem. But with a very\nstrong approximation,",
    "start": "1971160",
    "end": "1976290"
  },
  {
    "text": "you're going to get both a\nprimal and a dual solution candidates and\nthe associated gap",
    "start": "1976290",
    "end": "1982590"
  },
  {
    "text": "is going to be exactly m over t. So in some sense,\nyou're just done.",
    "start": "1982590",
    "end": "1989190"
  },
  {
    "text": "Like that's done. You just say, did you\nwant to solve an LP? Then I'd say, to what accuracy\ndo you want to solve it?",
    "start": "1989190",
    "end": "1995220"
  },
  {
    "text": "And someone says 1e minus 5. And I go, cool. Then what's your m? And now I choose t.",
    "start": "1995220",
    "end": "2002440"
  },
  {
    "text": "And it's an approximation\nthat comes back with a certificate\ncertifying its accuracy.",
    "start": "2002440",
    "end": "2007960"
  },
  {
    "text": "Everybody got this? And that doesn't have a name. But I would call it UMT for\nUnconstrained Minimization",
    "start": "2007960",
    "end": "2015410"
  },
  {
    "text": "Technique. And it's just-- all it\nmeans is you approximated-- I mean it's basically back to\nthat story originally where we",
    "start": "2015410",
    "end": "2022700"
  },
  {
    "text": "just-- we approximated this\nindicator function here with something smooth and then\nwe applied Newton's method.",
    "start": "2022700",
    "end": "2028799"
  },
  {
    "text": "But the nice part is we\ngot a lot of cool stuff there where we know if you\nuse log barrier and all",
    "start": "2028800",
    "end": "2034242"
  },
  {
    "text": "that kind of stuff,\nyou're actually going to get dual feasible\npoints and you get a gap and you know exactly\nwhat the gap is.",
    "start": "2034242",
    "end": "2039480"
  },
  {
    "text": "Everybody see this? So actually,\nhilariously, that method is perfectly good for a tons\nof practical problems, right?",
    "start": "2039480",
    "end": "2047190"
  },
  {
    "text": "So just so you know. Of course, it's not generic. You have to choose\nthe t very carefully.",
    "start": "2047190",
    "end": "2052800"
  },
  {
    "text": "And everything you\nthink about it is right. That if you choose t too large-- the larger t is, the better\napproximation you get.",
    "start": "2052800",
    "end": "2058888"
  },
  {
    "text": "Smaller-- but also the\nlarger the number of Newton steps it's going\nto take to solve it and all that kind of stuff.",
    "start": "2058889",
    "end": "2064419"
  },
  {
    "text": "Everybody got that? So that's UMT. OK.",
    "start": "2064420",
    "end": "2069429"
  },
  {
    "text": "All right. So if you try-- if you ask\nfor high accuracy or even modest accuracy on\nsomething like an LP,",
    "start": "2069429",
    "end": "2076589"
  },
  {
    "text": "then the problem is\nit's going to take a couple of hundred\nNewton steps or thousands or something like that.",
    "start": "2076590",
    "end": "2081940"
  },
  {
    "text": "And not only that, probably\nwith numerical errors, it's probably not even\ngoing to converge, right? But if you did it with\ninfinite precision, it would.",
    "start": "2081940",
    "end": "2087546"
  },
  {
    "text": "Everybody following this? OK. OK. So then I have to tell you\nabout something else, which",
    "start": "2087547",
    "end": "2095449"
  },
  {
    "text": "is the background. There's a whole\nclass of problems in applied math and computation\ncalled homotopy methods.",
    "start": "2095449",
    "end": "2102140"
  },
  {
    "text": "I don't know if people\nheard about this before. Somewhere. OK. This is an awesome thing.",
    "start": "2102140",
    "end": "2108135"
  },
  {
    "text": "Everybody should\nknow about this. It's very, very cool idea. It's this. You have a problem\nyou want to solve,",
    "start": "2108135",
    "end": "2114320"
  },
  {
    "text": "which is either like an\noptimization problem. But typically, it's\nactually just solving a set of nonlinear equations. You just want to-- so\nhere's an example, right?",
    "start": "2114320",
    "end": "2121390"
  },
  {
    "text": "You're doing a spice simulation. And you want to know-- you want to find an equilibrium\npoint of the circuit, which",
    "start": "2121390",
    "end": "2126940"
  },
  {
    "text": "has got some the DC-- whatever. I'm sorry. I'm speaking dialect now. But that's what you want to do.",
    "start": "2126940",
    "end": "2133180"
  },
  {
    "text": "So that's a perfect\nexample of this. But it comes up in\ntons of other stuff.",
    "start": "2133180",
    "end": "2138610"
  },
  {
    "text": "So just OK. So here's how it works. You have your problem and\nyou introduce a parameter.",
    "start": "2138610",
    "end": "2145480"
  },
  {
    "text": "They usually call it\nmaybe theta or something. But they have different kappas\nand other train of-- anyway.",
    "start": "2145480",
    "end": "2150520"
  },
  {
    "text": "But here it's t. You introduce a parameter. In fact in the\nclassical version, you introduce a parameter\nwith the following thing",
    "start": "2150520",
    "end": "2158500"
  },
  {
    "text": "that perturbs, or\nsimplifies, or smooths out your original problem.",
    "start": "2158500",
    "end": "2164710"
  },
  {
    "text": "And when you turn that knob,\nthe traditional range is 0 to 1. I'll still use the--",
    "start": "2164710",
    "end": "2171170"
  },
  {
    "text": "I'll use the parameter t, right. When t equals 0-- when t equals 1, you get\nthe problem you really",
    "start": "2171170",
    "end": "2176390"
  },
  {
    "text": "want to solve, right? That's the one you\nreally want to solve. When t equals 0,\nyou get a problem",
    "start": "2176390",
    "end": "2182440"
  },
  {
    "text": "that you know the solution to. Everybody following this?",
    "start": "2182440",
    "end": "2187810"
  },
  {
    "text": "Now, you do the following. Oh. And then what you\ndo is you attempt",
    "start": "2187810",
    "end": "2193089"
  },
  {
    "text": "to solve the problem\nfor t's and you're going to march along this path. And by the way, the\nsubtitle of a book on this",
    "start": "2193090",
    "end": "2199150"
  },
  {
    "text": "is called-- there's\na great subtitle. It's called Homotopy Methods. And the subtitle is pathways to\nsolutions which is like, wow,",
    "start": "2199150",
    "end": "2206890"
  },
  {
    "text": "that's like almost poetic. That's what it is, right? So the idea of a homotopy method\nis you start with t equals 0.",
    "start": "2206890",
    "end": "2214960"
  },
  {
    "text": "You know the solution\nalready, right? Then you crank t up\na little bit and you attempt to solve the problem.",
    "start": "2214960",
    "end": "2220490"
  },
  {
    "text": "And if you solve it-- this is\nin the general case, right? If you solve it, good for you.",
    "start": "2220490",
    "end": "2225700"
  },
  {
    "text": "Then you crank up t\nagain and you keep going. And when you get to t equals\n1, you solved your problem. Oh.",
    "start": "2225700",
    "end": "2230910"
  },
  {
    "text": "And what you would\ntypically do is let's say you're using\nNewton's method each time, each time you would\nstart Newton's method",
    "start": "2230910",
    "end": "2237800"
  },
  {
    "text": "from where you were before. That that's the key.",
    "start": "2237800",
    "end": "2242820"
  },
  {
    "text": "Everybody got this, right? So matter of fact,\nthis is exactly how spice for those\nof you who-- actually,",
    "start": "2242820",
    "end": "2249180"
  },
  {
    "text": "how many people know about spice\nor have used it or something? OK, so fine. So some. That's precisely how it\ncomputes an equilibrium point.",
    "start": "2249180",
    "end": "2255911"
  },
  {
    "text": "So here, OK, so if you don't\nmind, for everyone else, you probably get some of this. But I am going to\ngo into dialect a little bit for a while.",
    "start": "2255912",
    "end": "2262650"
  },
  {
    "text": "If you have a circuit,\nsay I have a circuit with a bunch of devices. And these are all\nnon-linear, right?",
    "start": "2262650",
    "end": "2268560"
  },
  {
    "text": "So all you want to do is solve\na set of 1 billion nonlinear",
    "start": "2268560",
    "end": "2275100"
  },
  {
    "text": "equations, right? And those equations are things\nlike KCL, KVL, and the device-- and that the device--",
    "start": "2275100",
    "end": "2281880"
  },
  {
    "text": "and I guess you have to satisfy\nthe device equations, OK. I mean, I think this is fine for\neverybody to understand, right?",
    "start": "2281880",
    "end": "2288900"
  },
  {
    "text": "So basically, it has to satisfy\nphysics and the devices. The physics is\nlinear by the way. It's just actually\nconservation of current",
    "start": "2288900",
    "end": "2295634"
  },
  {
    "text": "and all that kind of stuff. That's all-- that's fine. It's the device equations\nthat are nonlinear, right?",
    "start": "2295635",
    "end": "2302320"
  },
  {
    "text": "OK. So I don't know. Someone who knows circuits. Do you want to guess a--",
    "start": "2302320",
    "end": "2307810"
  },
  {
    "text": "so I give you a circuit. It doesn't have to be a billion. It's an O pump. I got, whatever, 15 device\ntransistors in it or devices.",
    "start": "2307810",
    "end": "2316599"
  },
  {
    "text": "And I'd say, please, find\nme the equilibrium or bias-- that's dialect-- bias for the equilibrium point.",
    "start": "2316600",
    "end": "2322570"
  },
  {
    "text": "Everybody got this? OK. Somebody want to-- can someone\nguess a homotopy parameter?",
    "start": "2322570",
    "end": "2330792"
  },
  {
    "text": "This is just for people who\nknow about circuits and circuit design. OK, I'll tell you what it is.",
    "start": "2330792",
    "end": "2336800"
  },
  {
    "text": "It's a supply voltage. If I take a circuit and I set\nthe supply voltage to zero,",
    "start": "2336800",
    "end": "2343430"
  },
  {
    "text": "your specialty could\nbe genetics and I think you could probably solve. So you could say what\nthe solution is, right?",
    "start": "2343430",
    "end": "2349070"
  },
  {
    "text": "In other words, if\nI take a circuit and I don't apply power to\nit, then here's a solution.",
    "start": "2349070",
    "end": "2354710"
  },
  {
    "text": "Ready? All voltages are zero. All potentials are zero. All currents are zero. And that will actually\nsatisfy the equations.",
    "start": "2354710",
    "end": "2361012"
  },
  {
    "text": "Everybody following this? So now, I crank up\nthe supply voltage. And again, sorry. This is going to be only for\npeople who know about circuits.",
    "start": "2361012",
    "end": "2368280"
  },
  {
    "text": "You know the supply\nvoltage is like 2 volts. I set it up to 50\nmillivolts and I",
    "start": "2368280",
    "end": "2373370"
  },
  {
    "text": "attempt to solve again for\nan equilibrium point, right. So I mean, what is a chip\nlook like when I put VDD--",
    "start": "2373370",
    "end": "2382609"
  },
  {
    "text": "when I put the supply\nvoltage to 50 millivolts? It looks like it's\na resistor, right, because you don't have\nenough volt-- there's not--",
    "start": "2382610",
    "end": "2388430"
  },
  {
    "text": "you don't have enough\nvoltage to actually turn any transistors on. Everybody-- I mean, OK,\nif you know devices,",
    "start": "2388430",
    "end": "2393500"
  },
  {
    "text": "you know what I'm\ntalking about, right. OK. Is linear but that\nmeans we can probably-- we can solve it in one\nor two Newton steps.",
    "start": "2393500",
    "end": "2400319"
  },
  {
    "text": "In fact, the tradition is one. OK. Then you set it to\n100 millivolts, right.",
    "start": "2400320",
    "end": "2406920"
  },
  {
    "text": "And you keep going until\nyou get to whatever 2 volts and then you say\nthat's where I have it. Everybody got this?",
    "start": "2406920",
    "end": "2412890"
  },
  {
    "text": "So OK. So these are\nhomotopy methods this is super cool to know about it. OK. This is a homotopy method.",
    "start": "2412890",
    "end": "2418320"
  },
  {
    "text": "But there's a big difference. Here, I can get to\nany point on that path",
    "start": "2418320",
    "end": "2424319"
  },
  {
    "text": "from anywhere, which is false. In a general\nhomotopy method, you have all this logic about what\nhappens if you fail, right?",
    "start": "2424320",
    "end": "2431190"
  },
  {
    "text": "Oh, let's talk about that. Suppose t was 0.05. And now I set it to 0.1\nand I tried Newton's method",
    "start": "2431190",
    "end": "2436829"
  },
  {
    "text": "and it just completely failed,\nwhat would you suggest? ",
    "start": "2436830",
    "end": "2444900"
  },
  {
    "text": "0.075. Perfect 0.075. I totally agree. That's exactly what you do.",
    "start": "2444900",
    "end": "2450299"
  },
  {
    "text": "It means you were too\naggressive, right, and you moved too far and\nthe problem got so different",
    "start": "2450300",
    "end": "2457020"
  },
  {
    "text": "that from where you are, you\ncouldn't get to this thing. OK. So that's exactly\nhow those were.",
    "start": "2457020",
    "end": "2462210"
  },
  {
    "text": "Also, in the general case,\nall sorts of sick things can happen. Like they're called-- so two\nvery bad things can happen,",
    "start": "2462210",
    "end": "2469240"
  },
  {
    "text": "which is if you're\nfollowing a path-- this isn't the general\ncase, which is not ours. So here's a path.",
    "start": "2469240",
    "end": "2475440"
  },
  {
    "text": "And one bad thing\nthat can happen is it can so-called bifurcate\nand go like this, right?",
    "start": "2475440",
    "end": "2480840"
  },
  {
    "text": "So that's one. Another one is a path can just\nlook like this and just stop",
    "start": "2480840",
    "end": "2487020"
  },
  {
    "text": "and that's it. There may be another one\nthat goes all the way",
    "start": "2487020",
    "end": "2492180"
  },
  {
    "text": "to the solution here. So these issues\nyou don't have here because we have a single path.",
    "start": "2492180",
    "end": "2498420"
  },
  {
    "text": "We can get back to it\nfrom anywhere we like and the only question is how\nmuch effort-- how many Newton steps it's going to take.",
    "start": "2498420",
    "end": "2503752"
  },
  {
    "text": "So I don't know if that made\nsense but that is the idea. OK.",
    "start": "2503752",
    "end": "2509329"
  },
  {
    "text": "So now, you will recognize\nthis as a homotopy method.",
    "start": "2509330",
    "end": "2516500"
  },
  {
    "text": "So here it is. It says you pick some t and\nyou compute x star of t,",
    "start": "2516500",
    "end": "2522790"
  },
  {
    "text": "that's Newton's method. Then what you do, you quit if\nm over t is less than epsilon.",
    "start": "2522790",
    "end": "2529420"
  },
  {
    "text": "That's fine. Otherwise, you increase t. This is a very simple method. There's much more\nsophisticated methods.",
    "start": "2529420",
    "end": "2535119"
  },
  {
    "text": "But this is the way you do it. You just increase\nt by mu, right? And so mu is this number\nthat tells you how much you--",
    "start": "2535120",
    "end": "2542830"
  },
  {
    "text": "actually, since the\ngap is m over t, mu actually is\ntelling you how much",
    "start": "2542830",
    "end": "2548770"
  },
  {
    "text": "are you going to tighten the gap\nrequirement in the next step. That's what it tells. So if mu is like 1.05, I\nmean, basically, the argument",
    "start": "2548770",
    "end": "2558250"
  },
  {
    "text": "would be you just calculated the\nanalytic center at this point. When you increase t by 5%,\nit hasn't moved very far.",
    "start": "2558250",
    "end": "2568900"
  },
  {
    "text": "Another way to say\nit is you're just about to solve a problem that's\nvery similar to the one you just solved.",
    "start": "2568900",
    "end": "2574849"
  },
  {
    "text": "And in fact, it's going to\ntake one or two Newton steps. OK.",
    "start": "2574850",
    "end": "2579950"
  },
  {
    "text": "And in fact, I think, methods,\nthere are some methods that increment t\nso in such a way",
    "start": "2579950",
    "end": "2585799"
  },
  {
    "text": "that it's so small the\nincrement that one Newton step is all you need. So you do one Newton\nstep and increase t, then",
    "start": "2585800",
    "end": "2593420"
  },
  {
    "text": "1 Newton step, and so on. So that's one way. This is called short\nstep methods, I think. OK.",
    "start": "2593420",
    "end": "2599050"
  },
  {
    "text": "OK. Everybody got this? OK. The luxury we have\nis the following.",
    "start": "2599050",
    "end": "2604720"
  },
  {
    "text": "This algorithm\ncannot fail for us. I mean, it might fail for\nnumerical reasons but in theory",
    "start": "2604720",
    "end": "2610170"
  },
  {
    "text": "it, absolutely, it cannot fail. It always works. So it just does, right?",
    "start": "2610170",
    "end": "2615210"
  },
  {
    "text": "Because no matter how\naggressively you update it, Newton's method is going to\nsolve this smooth problem.",
    "start": "2615210",
    "end": "2621150"
  },
  {
    "text": "It may take a lot of iterations\nbut it's going to do it. OK.",
    "start": "2621150",
    "end": "2626529"
  },
  {
    "text": "OK. So this is the idea. OK. So it turns out--",
    "start": "2626530",
    "end": "2633570"
  },
  {
    "text": "actually, it depends. If you talk to the theorists,\nmu is going to be really small.",
    "start": "2633570",
    "end": "2638760"
  },
  {
    "text": "Like it's going to\nliterally be like 1 plus 1 over m or something like that.",
    "start": "2638760",
    "end": "2645180"
  },
  {
    "text": "And that's-- I have nothing,\nno problem with that. It turns out in practice,\npeople will choose",
    "start": "2645180",
    "end": "2650580"
  },
  {
    "text": "things like 10, 20, 50 or 100. Something like that. Really quite large values.",
    "start": "2650580",
    "end": "2657450"
  },
  {
    "text": "OK. Yeah. And there's plenty of\nheuristics for choosing t0 and stuff like that.",
    "start": "2657450",
    "end": "2663240"
  },
  {
    "text": "OK. So that's it. This is the barrier method.",
    "start": "2663240",
    "end": "2669660"
  },
  {
    "text": "OK. Convergence analysis is\nactually kind of interesting and it works like this.",
    "start": "2669660",
    "end": "2677070"
  },
  {
    "text": "Every time you recompute a\nnew point on the central path,",
    "start": "2677070",
    "end": "2683550"
  },
  {
    "text": "the new gap went down\nby a factor of mu. Because actually,\nthat mu is just controlling like how much you\ntighten your gap each time.",
    "start": "2683550",
    "end": "2692032"
  },
  {
    "text": "So what's interesting\nabout this is there's no surprise after\nthe end of an iteration what your gap is.",
    "start": "2692032",
    "end": "2697440"
  },
  {
    "text": "Your gap is this provable\ndistance between how far you are and the optimal value is. And you can imagine a lot\nof algorithms go like this.",
    "start": "2697440",
    "end": "2703859"
  },
  {
    "text": "You finish all your calculation. Then there's a drum\nroll and someone you evaluate the dual function,\nwhich is a lower bound.",
    "start": "2703860",
    "end": "2710710"
  },
  {
    "text": "And then you look up\nand go like, oh, my god. That's awesome. I'm already 1%-- I'm provably 1% suboptimal\nand I've only done blah, blah,",
    "start": "2710710",
    "end": "2718530"
  },
  {
    "text": "blah, 22 iterations. Everybody-- so that's\nhow it usually-- here, there's no surprise. The gap will be,\nperiod, m over t.",
    "start": "2718530",
    "end": "2725260"
  },
  {
    "text": "So you basically\ndial in the gap. That's how that works. OK.",
    "start": "2725260",
    "end": "2730780"
  },
  {
    "text": "So what that says is that\nevery time you do a centering, you reduce the gap\nby a factor mu.",
    "start": "2730780",
    "end": "2737590"
  },
  {
    "text": "So that says that the\nnumber of iterations is going to take is like an\noriginal gap divided by log mu.",
    "start": "2737590",
    "end": "2743530"
  },
  {
    "text": "And so that's going to be the-- that's the number of\niterations you take.",
    "start": "2743530",
    "end": "2749029"
  },
  {
    "text": "Now, the centering--\nbut then remember, you have to do the\ncentering, right,",
    "start": "2749030",
    "end": "2755450"
  },
  {
    "text": "and the real measure\nis like let's say we could use how many\nNewton steps do you actually end up performing.",
    "start": "2755450",
    "end": "2761210"
  },
  {
    "text": "That would be one\nway to do this. And if you do the classical\nanalysis, what you get",
    "start": "2761210",
    "end": "2768700"
  },
  {
    "text": "is something very weird. It goes like-- the classical\nanalysis says, oh, yeah.",
    "start": "2768700",
    "end": "2773839"
  },
  {
    "text": "Yeah. I can minimize this for you. No problem. I can minimize that.",
    "start": "2773840",
    "end": "2779170"
  },
  {
    "text": "And you get a Lipschitz\nconstant and a strong convexity and blah, blah, blah\nand you do this. But what the classical\nanalysis will predict",
    "start": "2779170",
    "end": "2786130"
  },
  {
    "text": "is that as t gets\nbigger and bigger, the classical\nanalysis will tell you",
    "start": "2786130",
    "end": "2791440"
  },
  {
    "text": "that the number of\nNewton steps will grow. And in fact, it'll grow\nlike alarmingly fast.",
    "start": "2791440",
    "end": "2797380"
  },
  {
    "text": "OK? And then when you work this out,\nyou realize it just doesn't-- I mean, if you're a theorist and\nyou assemble all these things",
    "start": "2797380",
    "end": "2803650"
  },
  {
    "text": "together, you'll find out it's\ngoing to grow really fast, right, and it won't\nget you what you want,",
    "start": "2803650",
    "end": "2809045"
  },
  {
    "text": "which is like a\npolynomial time method. Yes. What happens if you don't like\nalways solve the minimization",
    "start": "2809045",
    "end": "2816069"
  },
  {
    "text": "problem fully? Because you don't need\na better point, right? Yeah. So that's exactly right.",
    "start": "2816070",
    "end": "2821650"
  },
  {
    "text": "So when you're centering, for\nsure, the last two iterations-- Newton steps were\ncompletely a waste of time.",
    "start": "2821650",
    "end": "2828980"
  },
  {
    "text": "And in fact, real\nmethods don't do that. You never solve it directly. By the time, as a matter\nof fact, what they do",
    "start": "2828980",
    "end": "2834913"
  },
  {
    "text": "is by the time\nyou're in the region of quadratic convergence,\nt gets updated then.",
    "start": "2834913",
    "end": "2840080"
  },
  {
    "text": "So like once you're\nthere, you're like-- Well, it's silly because-- --the first convergence.",
    "start": "2840080",
    "end": "2845380"
  },
  {
    "text": "Let's draw that picture, right? So that picture looks\nlike this, right? You know, here's the\ncentral path, right.",
    "start": "2845380",
    "end": "2852290"
  },
  {
    "text": "You're here. You're going here. Here's your Newton steps. First, you go like here, here.",
    "start": "2852290",
    "end": "2858697"
  },
  {
    "text": "I'll make it take a\ncouple more steps. Here's what-- it goes like that. But then you get close, right. And now you do two more\nsteps that we can't see here",
    "start": "2858697",
    "end": "2865940"
  },
  {
    "text": "on the board, right. And so these are\na complete waste of time if you think about\nit because someone says,",
    "start": "2865940",
    "end": "2872010"
  },
  {
    "text": "what are you doing? You go, well, I'm\ngoing back to the path because I want to be on the\npath with double precision,",
    "start": "2872010",
    "end": "2877800"
  },
  {
    "text": "accuracy. And someone's like,\ndude, what is the path? I asked you to solve like an\nSOCP or a quadratic program.",
    "start": "2877800",
    "end": "2886050"
  },
  {
    "text": "So what is this path thing\nand why should I care? And the answer is you shouldn't\ncare because the path is just",
    "start": "2886050",
    "end": "2891200"
  },
  {
    "text": "a construct for us\nto figure out a way to get to the solution,\nwhich is over here.",
    "start": "2891200",
    "end": "2896270"
  },
  {
    "text": "So in fact, all\nthe analysis work. And in fact, if you\nhave fancy methods,",
    "start": "2896270",
    "end": "2901700"
  },
  {
    "text": "they will not do this, right? But in this method, you do that\nand you're completely right",
    "start": "2901700",
    "end": "2907280"
  },
  {
    "text": "the last step or two or three\nare just completely wasted. So OK.",
    "start": "2907280",
    "end": "2912620"
  },
  {
    "text": "There's a question. In practice, how much of\na gain does this centering give you rather than just\nstarting with a very large team",
    "start": "2912620",
    "end": "2919730"
  },
  {
    "text": "and solving it with that? It's usually\ninfinity in practice.",
    "start": "2919730",
    "end": "2925490"
  },
  {
    "text": "In theory, it's not infinity. It's just unbelievably large. And the reason is\nin practice, what",
    "start": "2925490",
    "end": "2931339"
  },
  {
    "text": "happens is if I say\nsolve my LP to six significant digits or something,\nright, then you got no problem.",
    "start": "2931340",
    "end": "2937400"
  },
  {
    "text": "t equals 1 e plus 7 or\nsomething like that.",
    "start": "2937400",
    "end": "2942470"
  },
  {
    "text": "Now, in theory, Newton, you\ncould just do it in one step. You just solve that one just\nrun Newton's method now.",
    "start": "2942470",
    "end": "2948560"
  },
  {
    "text": "The problem-- what's going to\nhappen then is you're going to get into-- you're going to get\ninto numerical issues",
    "start": "2948560",
    "end": "2953780"
  },
  {
    "text": "and it's just not going to work. And even if it\ndid work, it would take a gazillion iterations.",
    "start": "2953780",
    "end": "2959070"
  },
  {
    "text": "Yeah. So in practice, it's\nvery considerable. Yeah. So yeah. I just want to\nmake sure that I'm",
    "start": "2959070",
    "end": "2965150"
  },
  {
    "text": "understanding this like\noffset of m over t correctly. So does that mean\nthat if you only",
    "start": "2965150",
    "end": "2970940"
  },
  {
    "text": "cared about what p\nstar is, you could just solve the problem for\none t and just add-- That's correct.",
    "start": "2970940",
    "end": "2976070"
  },
  {
    "text": "Right. That's what I call the\nUMT method, Unconstrained Minimization Technique.",
    "start": "2976070",
    "end": "2981110"
  },
  {
    "text": "That's completely correct. Yeah. That's right. What this says--",
    "start": "2981110",
    "end": "2987040"
  },
  {
    "text": "I get that question\nwas what happens if you do that but then\nsomeone says, I want I want 1e minus 7 accuracy.",
    "start": "2987040",
    "end": "2992530"
  },
  {
    "text": "And so they go, no problem. t equals 1 e plus 9. It will work in theory.",
    "start": "2992530",
    "end": "2998830"
  },
  {
    "text": "But I mean, numerically, at\nthat point, it's not going to. I mean that corresponds to the\nperson who comes over here,",
    "start": "2998830",
    "end": "3004200"
  },
  {
    "text": "takes this thing, right. I mean, t equals 1\nplus 9 corresponds to basically the\nsomeone who just",
    "start": "3004200",
    "end": "3009930"
  },
  {
    "text": "says give me some sandpaper,\nsands off this rough corner and says, done. It's smooth.",
    "start": "3009930",
    "end": "3015360"
  },
  {
    "text": "Go ahead and use\nyour Newton method. Everybody following this, right? So we know now the theory\nis that that will work,",
    "start": "3015360",
    "end": "3023928"
  },
  {
    "text": "but it will take a\nlot of iterations. And the practice is that\nit will take, number one, it will take a\ngazillion iterations",
    "start": "3023928",
    "end": "3029178"
  },
  {
    "text": "or most likely just fail. So OK. OK.",
    "start": "3029178",
    "end": "3034350"
  },
  {
    "text": "Everybody got this? So the classical analysis\nactually tells you that as t gets\nbigger and bigger,",
    "start": "3034350",
    "end": "3041100"
  },
  {
    "text": "it's going to take you\nmore and more Newton steps to get to recenter, right?",
    "start": "3041100",
    "end": "3046155"
  },
  {
    "text": "And the reason is pretty\nclear because what's going to happen is t gets bigger\nand bigger, both that Lipschitz",
    "start": "3046155",
    "end": "3051240"
  },
  {
    "text": "constant and that strong\nconvexity constant are going to scale up.",
    "start": "3051240",
    "end": "3056850"
  },
  {
    "text": "But I mean, that's silly\nbecause that's someone saying your algorithm doesn't-- if\nsomeone said your algorithm",
    "start": "3056850",
    "end": "3062640"
  },
  {
    "text": "doesn't work, you'd say, why? And you'd go, well,\nbecause my analysis predicts an upper bound on the\nnumber of steps that's growing.",
    "start": "3062640",
    "end": "3069210"
  },
  {
    "text": "And the point is the analysis\nturns out to be just wrong. So empirically, it's found\nthat the number of steps",
    "start": "3069210",
    "end": "3074880"
  },
  {
    "text": "don't grow as t gets\nbigger and bigger. Again, it's critical that you\nstart from the previous value.",
    "start": "3074880",
    "end": "3081369"
  },
  {
    "text": "So that's the critical part. And we'll see that self\nconcordance actually",
    "start": "3081370",
    "end": "3087180"
  },
  {
    "text": "verifies that completely. So we'll see that in a minute. OK.",
    "start": "3087180",
    "end": "3093589"
  },
  {
    "text": "So let's look at some examples. So this is just an LP. As a matter of fact, you are\ngoing to implement exactly this",
    "start": "3093590",
    "end": "3100310"
  },
  {
    "text": "by a week from tomorrow.  And OK.",
    "start": "3100310",
    "end": "3107070"
  },
  {
    "text": "So let's take-- this\nis the duality gap. That's the gap between\nthe primal value you found",
    "start": "3107070",
    "end": "3112290"
  },
  {
    "text": "and the dual value. So this produces both also\nnot just a primal value but dual, of course,\nas well, right.",
    "start": "3112290",
    "end": "3118500"
  },
  {
    "text": "And so these are\nthe staircase plots, and let me explain\nwhat they are. This is Newton's steps.",
    "start": "3118500",
    "end": "3125370"
  },
  {
    "text": "The width of the width of\nthe tread in the staircase is the number of Newton\nsteps per centering.",
    "start": "3125370",
    "end": "3132510"
  },
  {
    "text": "The drop is precisely\nit's dividing the gap by a factor of mu.",
    "start": "3132510",
    "end": "3138420"
  },
  {
    "text": "So on a semi-log\nplot, those stairs have a constant rise,\nright, each one.",
    "start": "3138420",
    "end": "3145079"
  },
  {
    "text": "And the rise is precisely 1\nover mu, right, or something like that. In other words, you reduce\nthe gap by a factor of mu.",
    "start": "3145080",
    "end": "3153599"
  },
  {
    "text": "OK. So we can look and we can see\nall sorts of cool things here. Like, let's take\nthe mu equals 51.",
    "start": "3153600",
    "end": "3161369"
  },
  {
    "text": "mu equals 50 says\nyou are aggressively updating t each step.",
    "start": "3161370",
    "end": "3166970"
  },
  {
    "text": "And sure enough, look at that. It takes you all of oh,\nyou know, 11 iterations to do the first centering.",
    "start": "3166970",
    "end": "3173170"
  },
  {
    "text": "The next one takes\nalso like 10 or 11. Everybody see that? That's the width\nof those stairs. Now, when you do center,\nthe gap goes down",
    "start": "3173170",
    "end": "3181540"
  },
  {
    "text": "by 50x, which is pretty decent. Everybody, right?",
    "start": "3181540",
    "end": "3186910"
  },
  {
    "text": "You can-- here's little mousy\nsteps. mu equals 2, right?",
    "start": "3186910",
    "end": "3191980"
  },
  {
    "text": "Actually, it'll be hilarious\nbecause the theory will be calling for mu equals 1.0001.",
    "start": "3191980",
    "end": "3197950"
  },
  {
    "text": "But that's another story. But if you look at\nmu equals 2, again, what you see are the\ntreads are shorter.",
    "start": "3197950",
    "end": "3205300"
  },
  {
    "text": "They're shorter because the\nNewton problems you're solving are easier. Basically, what's\nhappening is you've",
    "start": "3205300",
    "end": "3212590"
  },
  {
    "text": "computed a point like here. And when it's 50x, it's\nlike way over here,",
    "start": "3212590",
    "end": "3218079"
  },
  {
    "text": "you're going to actually\nhave to do some work. But when it's two,\nit's just over here and it's going to be like two,\nthree Newton steps and game",
    "start": "3218080",
    "end": "3224150"
  },
  {
    "text": "over. OK. Everybody see this? So you get that.",
    "start": "3224150",
    "end": "3229200"
  },
  {
    "text": "This is mu equals 150, right? So this shows you the number\nof Newton iterations versus how",
    "start": "3229200",
    "end": "3236520"
  },
  {
    "text": "you choose that parameter mu. And by the way, if\nyou made mu bigger, it would start to go up again.",
    "start": "3236520",
    "end": "3243329"
  },
  {
    "text": "But what you see is something\nactually-- so first, well, let's talk about\nhow weird this is.",
    "start": "3243330",
    "end": "3250250"
  },
  {
    "text": "Basically, if you kept\ngoing, obviously, this would get to 10 to the minus 8. But let's take that as\nan acceptable amount",
    "start": "3250250",
    "end": "3256610"
  },
  {
    "text": "to reduce your gap, right? Well, we just reduced our gap\nby a factor of 10 to the eighth.",
    "start": "3256610",
    "end": "3263410"
  },
  {
    "text": "And we did the whole thing in-- I don't know. Let's look at this one. 37 Newton steps.",
    "start": "3263410",
    "end": "3270100"
  },
  {
    "text": "Everybody. So actually, that\ntakes just some thought to sit there and think\nabout what this means, right?",
    "start": "3270100",
    "end": "3275980"
  },
  {
    "text": "So an LP is you have 50\nvariables, 100 constraints.",
    "start": "3275980",
    "end": "3281770"
  },
  {
    "text": "When you picture this,\nit's this polyhedron in R50 with 100 phases.",
    "start": "3281770",
    "end": "3287860"
  },
  {
    "text": "The number of vertices it\nhas is just astronomical. One of those is the solution.",
    "start": "3287860",
    "end": "3293170"
  },
  {
    "text": "Everybody following this, right? And what this shows is\nlike extremely embarrassing",
    "start": "3293170",
    "end": "3300700"
  },
  {
    "text": "is that in 30 odd Newton\nsteps, you actually get an extremely high\naccuracy solution.",
    "start": "3300700",
    "end": "3309430"
  },
  {
    "text": "Let me make that clear, right? By the way, you get the exact\nsame plots look like this",
    "start": "3309430",
    "end": "3315550"
  },
  {
    "text": "when the dimensions go up. They look exactly the same.",
    "start": "3315550",
    "end": "3320980"
  },
  {
    "text": "But even here, it's amazing. Like R50 is a pretty--\nyou know what? Yeah. Let's-- you would get exactly\nthe same plot if this was",
    "start": "3320980",
    "end": "3327760"
  },
  {
    "text": "10,000 inequalities\nand whatever, 5,000. It wouldn't matter. It'd be the same.",
    "start": "3327760",
    "end": "3333670"
  },
  {
    "text": "But what this says is\nactually very, very weird. What it says is if\nyou think about it,",
    "start": "3333670",
    "end": "3340630"
  },
  {
    "text": "you actually do 50 Newton steps. So what that means is\nin solving this LP, you start at some\npoint, literally",
    "start": "3340630",
    "end": "3346210"
  },
  {
    "text": "you ask for directions. You calculate things involving\nthese barrier functions and things like that and\nthe equality constraint.",
    "start": "3346210",
    "end": "3352630"
  },
  {
    "text": "Actually, you know exactly what\nyou're-- you solve a linear KKT system and you get a direction.",
    "start": "3352630",
    "end": "3358000"
  },
  {
    "text": "Everybody got that? Then you do a-- then\non that direction, you do a line search.",
    "start": "3358000",
    "end": "3363040"
  },
  {
    "text": "Then you stop. That's iteration one. You're the new point. You ask for directions\nagain, which is just query",
    "start": "3363040",
    "end": "3370369"
  },
  {
    "text": "the constraints\nand the objective and you construct some KKT\nmatrix and get a new direction and go again.",
    "start": "3370370",
    "end": "3375740"
  },
  {
    "text": "Everybody got this? So let's pretend that that\nwas in 5,000 variables.",
    "start": "3375740",
    "end": "3383089"
  },
  {
    "text": "So that's in 5,000\ndimensions, you basically you stop and ask\nfor directions 35 times.",
    "start": "3383090",
    "end": "3391330"
  },
  {
    "text": "Everybody getting this? This is-- I find it\nimpressive, right?",
    "start": "3391330",
    "end": "3397140"
  },
  {
    "text": "Like R 5,000 is a\nreally big place, right? And so the idea\nthat you actually",
    "start": "3397140",
    "end": "3402870"
  },
  {
    "text": "can do this in a mere 30\nNewton steps or 30 steps, right, I think is\njust stunning, right?",
    "start": "3402870",
    "end": "3409470"
  },
  {
    "text": "OK. Yeah. In the plot on the right,\nwhy are there these little",
    "start": "3409470",
    "end": "3416480"
  },
  {
    "text": "like jumps? For example, at 148 and then 1-- They're just-- I don't know. But they're just\nrandom perturbations",
    "start": "3416480",
    "end": "3423950"
  },
  {
    "text": "of-- because you can\naccidentally land somewhere where instead of taking\nsome number of Newton steps, you take a lot less.",
    "start": "3423950",
    "end": "3429860"
  },
  {
    "text": "That's that dumb\nluck phenomenon. So it could be that. I don't know. Yeah. I mean, this is presumably\non a single instance.",
    "start": "3429860",
    "end": "3436400"
  },
  {
    "text": "If we averaged over\na bunch, that would-- I can imagine that those\nbumps would stay there.",
    "start": "3436400",
    "end": "3444000"
  },
  {
    "text": "OK. This is also\nextremely important. And what it says is bizarre.",
    "start": "3444000",
    "end": "3449870"
  },
  {
    "text": "If you think about\nwhat mu does, mu is the aggressiveness\nby which you update your homotopy parameter.",
    "start": "3449870",
    "end": "3455870"
  },
  {
    "text": "Or if you like, it's\na parameter that tells you how aggressively each\nstep you decrease the target",
    "start": "3455870",
    "end": "3463079"
  },
  {
    "text": "gap. In fact, it is\nliterally that number. So then, there's a trade off.",
    "start": "3463080",
    "end": "3469490"
  },
  {
    "text": "We discussed it several times. If mu is small,\nlike 1.05, you're taking little baby steps.",
    "start": "3469490",
    "end": "3474690"
  },
  {
    "text": "It's going to take one Newton\nstep or two to recenter, right? But you're only making\n5% progress each step.",
    "start": "3474690",
    "end": "3481260"
  },
  {
    "text": "Or you could take mu equals 10. Good news is you're making--",
    "start": "3481260",
    "end": "3486530"
  },
  {
    "text": "you're going to divide\nyour gap by a factor of 10 when you finish. Bad news is it's going to be\nharder for-- they're going",
    "start": "3486530",
    "end": "3492920"
  },
  {
    "text": "to take more Newton steps. Everybody following this? So what this tells you-- and\nthis is confirmed in lots",
    "start": "3492920",
    "end": "3498500"
  },
  {
    "text": "and lots and lots\nof other cases-- is these two effects\nbasically balance each other. And that is super good.",
    "start": "3498500",
    "end": "3505283"
  },
  {
    "text": "Because the last thing\nyou want-- what it says is the choice of mu doesn't make\nany difference at all, I mean,",
    "start": "3505283",
    "end": "3510349"
  },
  {
    "text": "as long as it's within\na factor of hundreds of some reasonable value. Everybody see this?",
    "start": "3510350",
    "end": "3515569"
  },
  {
    "text": "So that's very cool. OK. So this is what that looks like.",
    "start": "3515570",
    "end": "3521674"
  },
  {
    "text": " And I find it pretty spooky,\nright, that this works.",
    "start": "3521675",
    "end": "3529790"
  },
  {
    "text": "I mean, here's a GP. And again, these are small ones. But nevertheless,\nthat's pretty cool.",
    "start": "3529790",
    "end": "3536599"
  },
  {
    "text": "Here it is. And it takes 20 to\nwhatever, you know.",
    "start": "3536600",
    "end": "3542640"
  },
  {
    "text": "Again, it takes like 30\nsomething iterations. Yeah. By the way, something\nlike this would be--",
    "start": "3542640",
    "end": "3549720"
  },
  {
    "text": "25 years ago-- would just\nbe like utterly unknown. People were still publishing\npapers on fancy custom methods",
    "start": "3549720",
    "end": "3556050"
  },
  {
    "text": "to solve GPs. So this is maybe 30 years ago.",
    "start": "3556050",
    "end": "3561060"
  },
  {
    "text": "So still pretty cool. But they are all-- these things all just start\nlooking the same, right?",
    "start": "3561060",
    "end": "3567839"
  },
  {
    "text": "So here's what it looks\nlike when you just take-- this is--\nactually, literally this is the one you're going\nto do for your homework.",
    "start": "3567840",
    "end": "3573420"
  },
  {
    "text": "You're going to implement this. And here, we have a\nbunch of values of m",
    "start": "3573420",
    "end": "3580710"
  },
  {
    "text": "and we are going to solve\nlike 100 different things.",
    "start": "3580710",
    "end": "3586150"
  },
  {
    "text": "What's cool is you look-- this\nis the problem size, right. And this is the number of steps. The first thing\nyou should notice",
    "start": "3586150",
    "end": "3591930"
  },
  {
    "text": "is that it ranges\nbetween 20 and 25, with the absolute\nmaximum being 30.",
    "start": "3591930",
    "end": "3597360"
  },
  {
    "text": "And by the way, if you\nlook at the output, when you call the solve\nmethod and CVXPY,",
    "start": "3597360",
    "end": "3604450"
  },
  {
    "text": "it's going to call some solver. But if it's something like\nECOS or something like that, it will actually report--",
    "start": "3604450",
    "end": "3609850"
  },
  {
    "text": "it'll actually tell you\nhow many iterations it is. And it's typically\nbetween 20 and 50.",
    "start": "3609850",
    "end": "3615743"
  },
  {
    "text": "In fact, I don't think\nit's ever more than 50. But this is kind\nof stunning, right?",
    "start": "3615743",
    "end": "3621630"
  },
  {
    "text": "This. Right? And this confused\na lot of people. So you know, first people said,\noh, hey, you know it's like--",
    "start": "3621630",
    "end": "3629161"
  },
  {
    "text": "I think, it's like\nthe square root. And someone said,\nno, I think it grows like the log and whatever. And then finally,\nwhat has become clear",
    "start": "3629162",
    "end": "3635000"
  },
  {
    "text": "as an empirical fact is\nthat the growth is O of 1.",
    "start": "3635000",
    "end": "3640990"
  },
  {
    "text": "In other words, barrier methods\ntake between 20 and 50 steps. Period.",
    "start": "3640990",
    "end": "3646930"
  },
  {
    "text": "And that's just what\nthey do in any dimension. And this is-- yeah, it's\nbeen borne out pretty well.",
    "start": "3646930",
    "end": "3654280"
  },
  {
    "text": "Yeah. So I have a-- oh, by the way, those\nsteps are Newton steps. So what that means is\nyou're solving a linear KKT",
    "start": "3654280",
    "end": "3662290"
  },
  {
    "text": "system, right? So you're solving literally\nan h, a transpose A0 linear--",
    "start": "3662290",
    "end": "3668020"
  },
  {
    "text": "set of linear equations. That's what it is. Now, of course, as\nthe problem gets bigger, that numerical step,\nthat's going to take you",
    "start": "3668020",
    "end": "3676780"
  },
  {
    "text": "more time, obviously. So I'm not saying that it\ntakes the same amount of time",
    "start": "3676780",
    "end": "3682000"
  },
  {
    "text": "to solve 100 variable problem\nas a million variable problem. What I am saying is that\nthe number of iterations are the same.",
    "start": "3682000",
    "end": "3688570"
  },
  {
    "text": "So I have a friend\nin Edinburgh who decided to do solve some LP\nwith a basic barrier method.",
    "start": "3688570",
    "end": "3697150"
  },
  {
    "text": "And I asked him like how\nmany variables we had. And he said, well, I\nthink we have about-- I think it was something\nlike 2 billion variables",
    "start": "3697150",
    "end": "3704860"
  },
  {
    "text": "and it was like half a\nbillion constraints, right? And I was like, well,\nhow do you do that?",
    "start": "3704860",
    "end": "3711200"
  },
  {
    "text": "And he had some gigantic\ncomputer, supercomputer, somewhere to do all this, right? I mean, this is a while ago.",
    "start": "3711200",
    "end": "3716260"
  },
  {
    "text": "So I'm sure now it wouldn't\nbe that big a deal. But anyway. And I was like,\nwow, that's awesome.",
    "start": "3716260",
    "end": "3723248"
  },
  {
    "text": "So I asked him, how many\niterations does it take? And he said, the same as\nfor real smaller dimensions.",
    "start": "3723248",
    "end": "3729722"
  },
  {
    "text": "I was like, what? And he like 22, 23, always. I was like, oh. So by the way, I asked him, how\nmuch does an iteration cost?",
    "start": "3729722",
    "end": "3737020"
  },
  {
    "text": "And he's like, each\niteration I think cost-- it was something\nlike 25 minutes.",
    "start": "3737020",
    "end": "3742600"
  },
  {
    "text": "And I added to the story\nthat each iteration-- when each iteration starts,\nthe lights in Edinburgh dim.",
    "start": "3742600",
    "end": "3749740"
  },
  {
    "text": "But that part is\nnot true, of course. But anyway, so\nthat was the story.",
    "start": "3749740",
    "end": "3755050"
  },
  {
    "text": "So this picture continues as\nfar as anybody knows forever.",
    "start": "3755050",
    "end": "3761273"
  },
  {
    "text": "So this is the number. It's one of these\nweird just magic things that practical problems\nare solved in O of 1.",
    "start": "3761273",
    "end": "3771440"
  },
  {
    "text": "The iterations. But the iterations\nare going to scale. But actually, you know what? The implication of\nall this is amazing.",
    "start": "3771440",
    "end": "3777559"
  },
  {
    "text": "Because it basically\nsays you do 20-- you're going to solve\n20 odd Newton steps.",
    "start": "3777560",
    "end": "3784910"
  },
  {
    "text": "A Newton step is minimizing\na convex quadratic subject to equality constraint.",
    "start": "3784910",
    "end": "3789940"
  },
  {
    "text": "It is nothing more than that. It also says since the number\nof it is between 20 and 50,",
    "start": "3789940",
    "end": "3796000"
  },
  {
    "text": "like for all problems\nacross all fields and all sizes of problems\nand all that kind of stuff,",
    "start": "3796000",
    "end": "3801310"
  },
  {
    "text": "that just doesn't change. What it tells you is\neverything comes down to the linear algebra.",
    "start": "3801310",
    "end": "3806950"
  },
  {
    "text": "So that's where--\nso when you do well, it's not because you\nhave a fancy algorithm",
    "start": "3806950",
    "end": "3812830"
  },
  {
    "text": "because they're just they're\nbasically perfect now. They're more sophisticated\nthan what I'm showing you",
    "start": "3812830",
    "end": "3818559"
  },
  {
    "text": "but they're very, very close. Actually, all the advances\nare in linear algebra. So that's what that's about.",
    "start": "3818560",
    "end": "3824470"
  },
  {
    "text": "So OK.  OK. So this just shows\nyou how this works.",
    "start": "3824470",
    "end": "3832530"
  },
  {
    "text": "OK. So what we're going\nto talk about now-- so anyway, I think this is\njust of like amazing stuff.",
    "start": "3832530",
    "end": "3839000"
  },
  {
    "text": "Like as I said,\nso I can tell you a little bit about the\nhistory of some of this.",
    "start": "3839000",
    "end": "3845220"
  },
  {
    "text": "So there are precursors of\nthis in the '60s, including",
    "start": "3845220",
    "end": "3850430"
  },
  {
    "text": "all the way up to developing\nlike codes, algorithms, ones extremely similar to\nthis, right, in the '60s.",
    "start": "3850430",
    "end": "3856099"
  },
  {
    "text": "They fell out of fashion or\nwere ignored or were unknown, like for example, Deakin's work.",
    "start": "3856100",
    "end": "3862100"
  },
  {
    "text": "Just completely unknown. So what happened was there was--\nin the late '80s, early '90s,",
    "start": "3862100",
    "end": "3868970"
  },
  {
    "text": "it was rediscovered. Of course, when it\nwas rediscovered, it was much more\ncomplicated, obviously.",
    "start": "3868970",
    "end": "3874700"
  },
  {
    "text": "And so anyway. So people were writing papers. And it was just\ngetting very weird.",
    "start": "3874700",
    "end": "3879890"
  },
  {
    "text": "And it actually ended up on\nthe front cover of The New York Times, right, because\nit was actually-- this was the method used to\nshow that linear programs can be",
    "start": "3879890",
    "end": "3887570"
  },
  {
    "text": "solved in polynomial time,\nright, which had no-- it had precisely zero\npractical consequences",
    "start": "3887570",
    "end": "3895500"
  },
  {
    "text": "because at that point,\npeople who actually solved LPs had been solving them for\n40 years at that point using",
    "start": "3895500",
    "end": "3903420"
  },
  {
    "text": "the simplex method which\nworked unbelievably well. Thank you. So it had no practical. But it was very funny\nbecause it was actually",
    "start": "3903420",
    "end": "3909810"
  },
  {
    "text": "on the front page of\nThe New York Times. And it hinted-- it said that\nvast numbers of scheduling",
    "start": "3909810",
    "end": "3915210"
  },
  {
    "text": "problems and allocation\nproblems can now be solved. And it was like just\ncompletely wrong. Anyway.",
    "start": "3915210",
    "end": "3920460"
  },
  {
    "text": "But it's kind of\ncool because to see-- I don't know--\npeople I know have",
    "start": "3920460",
    "end": "3926165"
  },
  {
    "text": "occurring on the front\ncover of The New York Times. Anyway, that's it. Yeah. By the way, later\nsome 10 years later,",
    "start": "3926165",
    "end": "3933060"
  },
  {
    "text": "people went back,\nfound the history, pulled up these\nthings from the '60s. Someone even took some crazy\nFortran code from the 1960s",
    "start": "3933060",
    "end": "3942150"
  },
  {
    "text": "untouched, which was\non cards, read it in, updated it to whatever it\nwas at the time-- to f 90",
    "start": "3942150",
    "end": "3949320"
  },
  {
    "text": "or something like\nthat, updated it, and it was hilariously\ncompetitive with the best",
    "start": "3949320",
    "end": "3956070"
  },
  {
    "text": "solvers at that time,\nwhich by the way, it tells you something\nabout academics and things like that, which is\nthere are fashions",
    "start": "3956070",
    "end": "3963990"
  },
  {
    "text": "and there's all sorts of stuff\nthat works perfectly well but people just ignore\nit and move on out of snobbery or\nignorance or something.",
    "start": "3963990",
    "end": "3970270"
  },
  {
    "text": "Anyway. So I thought that was very\nembarrassing-- that that-- for the field, right. So OK.",
    "start": "3970270",
    "end": "3975599"
  },
  {
    "text": "So OK. All right. This is-- that's it.",
    "start": "3975600",
    "end": "3982640"
  },
  {
    "text": "OK. So what we're going\nto talk about now is feasibility and phase I\nmethods required actually",
    "start": "3982640",
    "end": "3990860"
  },
  {
    "text": "strictly feasible point. What I will say is that the\nmethods people actually use",
    "start": "3990860",
    "end": "3996680"
  },
  {
    "text": "don't-- they use something that does\nphase I and phase II altogether and all that kind of stuff.",
    "start": "3996680",
    "end": "4003640"
  },
  {
    "text": "By the way, if we had one\nmore week of this class you would actually\nimplement that. Of course, it would be about-- I don't know-- five more\nlines than what you're going",
    "start": "4003640",
    "end": "4010810"
  },
  {
    "text": "to write-- and that one would\nactually scale to handle feasibility,\nunboundedness, everything just all at once.",
    "start": "4010810",
    "end": "4016839"
  },
  {
    "text": "But nevertheless, this\nis actually very good to know about because it's\ngot uses, a lot of uses, just by itself.",
    "start": "4016840",
    "end": "4023180"
  },
  {
    "text": "So here it is. So the feasibility\nproblem is find",
    "start": "4023180",
    "end": "4029319"
  },
  {
    "text": "an x that satisfies a\nbunch of inequalities and maybe some linear\nequality constraints, right?",
    "start": "4029320",
    "end": "4034520"
  },
  {
    "text": "And so the classical\nmethod, they call it a phase I\nand phase II method. So phase I, find\na feasible point.",
    "start": "4034520",
    "end": "4042680"
  },
  {
    "text": "Phase II, run an algorithm\nto find an optimal point.",
    "start": "4042680",
    "end": "4047817"
  },
  {
    "text": "And this is kind of old school. But it's not-- you might someday\nencounter people who were",
    "start": "4047818",
    "end": "4054140"
  },
  {
    "text": "trained in old school stuff. And then if you drop-- I mean, if you say it\naround, a lot of people today",
    "start": "4054140",
    "end": "4059390"
  },
  {
    "text": "if you say phase I and\nphase II, they're like, what are you talking about? But it's possible you'll meet\nsome of these people sometime.",
    "start": "4059390",
    "end": "4066570"
  },
  {
    "text": "And the ideas are\nvery interesting. OK. So here's what you do.",
    "start": "4066570",
    "end": "4071730"
  },
  {
    "text": "What we do is we put\nhere a slack variable s.",
    "start": "4071730",
    "end": "4078950"
  },
  {
    "text": "And we want to minimize\nover x and ns this s. Now, what we do is we\nstop, we terminate this.",
    "start": "4078950",
    "end": "4085280"
  },
  {
    "text": "The minute we produce something\nwith s negative, we quit. Because at that point,\nwhat you've done",
    "start": "4085280",
    "end": "4092900"
  },
  {
    "text": "is you've computed a\nstrictly feasible point and then you jump back\nto the barrier method. Or actually, you can apply\nthe barrier method to this.",
    "start": "4092900",
    "end": "4100700"
  },
  {
    "text": "Because here, I know\na feasible point. It's like you pick\nyour favorite point x that satisfies Ax equals b.",
    "start": "4100700",
    "end": "4106609"
  },
  {
    "text": "OK, it has to be in the domain\nof the fI's but whatever. What I do is I evaluate\nfI of x, all of them,",
    "start": "4106609",
    "end": "4113359"
  },
  {
    "text": "I take the max of that, those\nnumbers, plus 1 and that's my initial s. It's feasible.",
    "start": "4113359",
    "end": "4120399"
  },
  {
    "text": "And so this just--\nthis would just work. OK. So that's that.",
    "start": "4120399",
    "end": "4125528"
  },
  {
    "text": "But let me ask a\ncouple of questions. So let's ask-- let\nme ask what happens",
    "start": "4125529",
    "end": "4130810"
  },
  {
    "text": "if these inequalities\nare not feasible,",
    "start": "4130810",
    "end": "4136460"
  },
  {
    "text": "then what's going to happen is\nwhen you solve this problem, you're going to get\ns equals like 1.3.",
    "start": "4136460",
    "end": "4142240"
  },
  {
    "text": "And that has a beautiful\ninterpretation. It basically says your\ninequalities are not",
    "start": "4142240",
    "end": "4148149"
  },
  {
    "text": "mutually feasible because\nthey're all fI less than 0. But if you relax those\nand everyone looks",
    "start": "4148149",
    "end": "4155189"
  },
  {
    "text": "like fI of x is less than\n1.3, I got a point for you. Everybody following this?",
    "start": "4155189",
    "end": "4160600"
  },
  {
    "text": "And so you're kind\nof-- basically, you can interpret this\nbasic phase one method as minimizing the maximum\nconstraint violation.",
    "start": "4160600",
    "end": "4168990"
  },
  {
    "text": "And now I'm going to\nask you a question. Suppose a set of\ninequalities is not feasible.",
    "start": "4168990",
    "end": "4175380"
  },
  {
    "text": "And here's what I want to know. I run this. s star turns out to\nbe 1.3, let's say.",
    "start": "4175380",
    "end": "4181422"
  },
  {
    "text": "I want you to tell\nme about what do you think the fI's look like. ",
    "start": "4181422",
    "end": "4190842"
  },
  {
    "text": "This is just a guess, right? I mean, what do you imagine? ",
    "start": "4190843",
    "end": "4196440"
  },
  {
    "text": "Quite a lot. m will\nbe at that area. Exactly right. Basically, I mean you kind of--\nif you're anthropomorphizing",
    "start": "4196440",
    "end": "4203640"
  },
  {
    "text": "this, right, you have\nall these functions here, you want them all\nto be less than 0.",
    "start": "4203640",
    "end": "4208920"
  },
  {
    "text": "So what you do is you just put\na big old flat thing on top of it, that's s, and\nyou just push down.",
    "start": "4208920",
    "end": "4214230"
  },
  {
    "text": "You push down until\nit locks and it's pushing back harder than\nyou can push, right?",
    "start": "4214230",
    "end": "4219780"
  },
  {
    "text": "In fact, with infinite thing. So you can actually make a\nmechanical interpretation if you wanted. Everybody see this?",
    "start": "4219780",
    "end": "4225300"
  },
  {
    "text": "Now, when this thing locks\nand you can't push it down any farther, there's going\nto be at least several",
    "start": "4225300",
    "end": "4232560"
  },
  {
    "text": "and in general, a whole bunch\nof constraints violated by 1.3. Everybody got that?",
    "start": "4232560",
    "end": "4238320"
  },
  {
    "text": "And there are\napplications where that might be of interest, right? You'd say, I have a whole\nbunch of constraints.",
    "start": "4238320",
    "end": "4244769"
  },
  {
    "text": "And you'd say, well, I got\ngood news and bad news. The bad news is no\none-- there is no x that",
    "start": "4244770",
    "end": "4250239"
  },
  {
    "text": "satisfies all your constraint. There's no design that\nmeets all your specs, right? Good news is if I only relax\nall of them by like 0.3,",
    "start": "4250240",
    "end": "4258969"
  },
  {
    "text": "then it's feasible. Everybody see this? OK. So that's the idea there.",
    "start": "4258970",
    "end": "4265284"
  },
  {
    "text": " So if you do-- then we go to the\nnext one, which is",
    "start": "4265285",
    "end": "4271730"
  },
  {
    "text": "a sum of infeasibility method. And so the previous\none you should think of as kind of roughly\nanalogous to an L infinity",
    "start": "4271730",
    "end": "4280590"
  },
  {
    "text": "norm. We were minimizing the\nmaximum constraint violation.",
    "start": "4280590",
    "end": "4285909"
  },
  {
    "text": "Now, I'm going to minimize\nthe sum of the constraint violation. The constraint violation is\nactually defined as this.",
    "start": "4285910",
    "end": "4295330"
  },
  {
    "text": "It's fI of x sub plus. If that's zero, it means\nyou satisfy that thing.",
    "start": "4295330",
    "end": "4304159"
  },
  {
    "text": "Otherwise, this is the\namount by which you have violated the constraint. And so what this says is\ninstead-- what we originally",
    "start": "4304160",
    "end": "4311080"
  },
  {
    "text": "did was we did this. We minimized the\nmax over I of these.",
    "start": "4311080",
    "end": "4316420"
  },
  {
    "text": "I mean, this didn't matter. Now, we're going to\ndo the following. We're going to do the sum.",
    "start": "4316420",
    "end": "4323290"
  },
  {
    "text": "And before we even do\nthis, I want to know-- I want some guesses\nabout various things.",
    "start": "4323290",
    "end": "4329500"
  },
  {
    "text": "Oh. These are non-negative numbers. ",
    "start": "4329500",
    "end": "4334960"
  },
  {
    "text": "A sum of non-negative numbers\nis basically the L1 norm, right?",
    "start": "4334960",
    "end": "4340090"
  },
  {
    "text": "I mean, this is obvious. And when I minimize an L1\nnorm, what typically happens?",
    "start": "4340090",
    "end": "4349160"
  },
  {
    "text": "[INAUDIBLE] You're going to get sparsity. And so this actually\nstarts getting",
    "start": "4349160",
    "end": "4355750"
  },
  {
    "text": "super interesting, right? Because what it is you say,\nI'm trying to design this thing and you gave me 50 specs.",
    "start": "4355750",
    "end": "4362560"
  },
  {
    "text": "And you go, bad\nnews, can't be done. It's not achievable. And I can prove it,\nby the way, right, because you can\nproduce a certificate",
    "start": "4362560",
    "end": "4369010"
  },
  {
    "text": "or a theorem of the\nalternatives, a certificate showing it. And you'd say-- and\nthey'd say, yeah,",
    "start": "4369010",
    "end": "4374320"
  },
  {
    "text": "but I've got to do--\nwe got to do something. We got to build this\nproduct or something. And you'd say, that's fine. Here's what I did.",
    "start": "4374320",
    "end": "4381310"
  },
  {
    "text": "I did find something\nthat satisfies 47 of your 50 constraints.",
    "start": "4381310",
    "end": "4386470"
  },
  {
    "text": "Everybody got that? And that's what you would see\nhere, which is really cool. And here's a picture.",
    "start": "4386470",
    "end": "4392440"
  },
  {
    "text": "We can take a look at this. Oh, here's an example. ",
    "start": "4392440",
    "end": "4398110"
  },
  {
    "text": "This is actually the\nmargin in your constraint. So you want to push\nthis to be above zero.",
    "start": "4398110",
    "end": "4403750"
  },
  {
    "text": "This failed. It's infeasible. You stop there. And just as we guessed,\na whole bunch of them are lined up at this worst\npoint, which is minus 0.2",
    "start": "4403750",
    "end": "4410583"
  },
  {
    "text": "or I don't know. Whatever it is. 0.2, right? OK. This is what happens when you\ndo a sum of infeasibility.",
    "start": "4410583",
    "end": "4417520"
  },
  {
    "text": "And it's really cool. What it says is-- I don't know-- 55 of\nyour fI's are tight.",
    "start": "4417520",
    "end": "4425890"
  },
  {
    "text": "Actually, these are all ones. They are just-- they\nhave their slack, right?",
    "start": "4425890",
    "end": "4431650"
  },
  {
    "text": "There's-- your whatever fI of x\nis actually negative for these. And then you have a handful\nhere, which you can't satisfy.",
    "start": "4431650",
    "end": "4438969"
  },
  {
    "text": "And so again, this is\njust our old friend, the L1 specifier here.",
    "start": "4438970",
    "end": "4444280"
  },
  {
    "text": "It's kind of cool,\nright, this thing. And these are all already\nlike quite useful right",
    "start": "4444280",
    "end": "4449300"
  },
  {
    "text": "in various applications\nthat I've seen. So OK.",
    "start": "4449300",
    "end": "4454580"
  },
  {
    "text": "Does this make sense? ",
    "start": "4454580",
    "end": "4460969"
  },
  {
    "text": "So here's an example. So you have just a family\nof linear inequalities.",
    "start": "4460970",
    "end": "4467960"
  },
  {
    "text": "So it's a polyhedron. But I have a delta-- a gamma-- sorry--\na parameter gamma.",
    "start": "4467960",
    "end": "4473620"
  },
  {
    "text": "And it's chosen so that\nwhen gamma equals zero, the polyhedron collapses\nand has zero volume.",
    "start": "4473620",
    "end": "4481810"
  },
  {
    "text": "When gamma is negative or\nless than or equal to 0,",
    "start": "4481810",
    "end": "4487840"
  },
  {
    "text": "well, it's not-- when it's negative,\nit's infeasible. And when it's positive,\nit's feasible. And that you're just\nscaling the right hand side.",
    "start": "4487840",
    "end": "4493902"
  },
  {
    "text": "So the polyhedron\nis growing, right. And now, what we can do is we\ncan use the basic phase one",
    "start": "4493902",
    "end": "4500440"
  },
  {
    "text": "and stuff like that and\nlook at the number of steps it takes to either find a point\nright in the first case or--",
    "start": "4500440",
    "end": "4510212"
  },
  {
    "text": "so here's what it looks like. It's actually super interesting. So it looks it looks like\nit takes like 40 steps",
    "start": "4510212",
    "end": "4516850"
  },
  {
    "text": "unless you're right at\nthe boundary of between feasible and infeasible. And that's the\nonly-- in fact, you",
    "start": "4516850",
    "end": "4523280"
  },
  {
    "text": "have to adjust the\ndata very carefully to get more than whatever\n30, 40 steps to do this,",
    "start": "4523280",
    "end": "4530239"
  },
  {
    "text": "to solve this phase I problem. But you can do it. I mean, but it's-- what it says is in practice\nit just doesn't happen, right?",
    "start": "4530240",
    "end": "4536540"
  },
  {
    "text": "Oh, this is showing you\nthe zoomed in version. Actually, these are sort\nof interesting, right, because over on the\nleft, you would say,",
    "start": "4536540",
    "end": "4545760"
  },
  {
    "text": "this is taking only 30 steps. You'd say, why? Because it's\ninfeasible but there's",
    "start": "4545760",
    "end": "4551310"
  },
  {
    "text": "a lot of certificates of-- it's obviously infeasible. It's easy. So it doesn't take many\nsteps to prove infeasibility.",
    "start": "4551310",
    "end": "4558119"
  },
  {
    "text": "Like the polyhedron\nover here on the right, the polyhedron is so big\nit doesn't take very long to find a feasible point.",
    "start": "4558120",
    "end": "4564780"
  },
  {
    "text": "And then the only\ntime this increases is when you get right between\nthe boundary of what's feasible",
    "start": "4564780",
    "end": "4571590"
  },
  {
    "text": "and not feasible, right? So that's where it\ngoes up like that. That's what it looks like.",
    "start": "4571590",
    "end": "4577300"
  },
  {
    "text": "So OK. So that's a picture of that.",
    "start": "4577300",
    "end": "4583140"
  },
  {
    "text": "What we'll do is we'll just\nstart talking about this and we'll finish\nthis up next week.",
    "start": "4583140",
    "end": "4589989"
  },
  {
    "text": "But it's actually\nreally quite cool. So we're going to assume\nthat f0 is going to be",
    "start": "4589990",
    "end": "4598140"
  },
  {
    "text": "in the fI's are going to be-- well, actually, it's\nactually the barrier. I want tf0 plus phi to be\nself-concordant, right?",
    "start": "4598140",
    "end": "4607800"
  },
  {
    "text": "So that's the requirement. And there might be some--\nhere's a minimum-- here's",
    "start": "4607800",
    "end": "4614100"
  },
  {
    "text": "a maximum entropy problem\nwith inequality constraints. And it turns out that's\nnot self-concordant.",
    "start": "4614100",
    "end": "4619842"
  },
  {
    "text": "Again, you don't\nhave to know this. But when you put in the x\nbigger than or equal to zero, you add a log barrier\nthen it becomes--",
    "start": "4619842",
    "end": "4625422"
  },
  {
    "text": "that's a redundant constraint\nthat x bigger and equal to zero. That's completely redundant\nbecause this objective,",
    "start": "4625422",
    "end": "4631320"
  },
  {
    "text": "its domain is x has to be\nbigger than or equal to 0. So this is completely redundant.",
    "start": "4631320",
    "end": "4637050"
  },
  {
    "text": "But when you add that\nredundant constraint and you work out the\nlog barrier, which is just negative sum log\nx I, then that function",
    "start": "4637050",
    "end": "4645969"
  },
  {
    "text": "becomes self-concordant. And what I should do is I\nshould preface all of this",
    "start": "4645970",
    "end": "4651100"
  },
  {
    "text": "by saying what you're\ngoing to see is super cool but it is not at all clear what\nits practical implications are.",
    "start": "4651100",
    "end": "4658660"
  },
  {
    "text": "That is not clear at all. Its theoretical\nimplications are very clear.",
    "start": "4658660",
    "end": "4664660"
  },
  {
    "text": "Practical ones not so much. And it's very weird most--",
    "start": "4664660",
    "end": "4670860"
  },
  {
    "text": "so actually, it'll change\nevery couple of years, right? People will implement\nsolvers which are actually",
    "start": "4670860",
    "end": "4677880"
  },
  {
    "text": "used self-concordant barriers\nand all that kind of stuff and actually agree\nwith the theory.",
    "start": "4677880",
    "end": "4682980"
  },
  {
    "text": "But then, they'll find something\nthat just makes it a lot faster and they're like, we don't care.",
    "start": "4682980",
    "end": "4688380"
  },
  {
    "text": "Then the theorists will\ncatch up a few years later and write something about it. Anyway, so there's just\nthis oscillation where",
    "start": "4688380",
    "end": "4693540"
  },
  {
    "text": "it kind of goes like that. But it's not at\nall clear you know. But I have met weird people\nwho said things like--",
    "start": "4693540",
    "end": "4700125"
  },
  {
    "text": "they said, you know what\nbarrier you're using and you'd write it down. And someone would\nsay like, oh, my god. That's not self-concordant.",
    "start": "4700125",
    "end": "4706680"
  },
  {
    "text": "You're like, I mean,\nthe algorithm complexity police aren't here, right?",
    "start": "4706680",
    "end": "4712140"
  },
  {
    "text": "So is there an\nalgorithm complexity warrant for your arrest or what\nare you worried about, right? Anyway.",
    "start": "4712140",
    "end": "4718410"
  },
  {
    "text": "But nevertheless, it's\nvery cool, the analysis. OK.",
    "start": "4718410",
    "end": "4724390"
  },
  {
    "text": "OK. So let's take a look at it. It's actually just\ncompletely insane.",
    "start": "4724390",
    "end": "4731699"
  },
  {
    "text": "It goes like this, right? So remember what it is\nis there's two terms.",
    "start": "4731700",
    "end": "4738179"
  },
  {
    "text": "There's basically the\nnumber of centering steps. But that's just log 1 over mu.",
    "start": "4738180",
    "end": "4744610"
  },
  {
    "text": "Like that's what it\nhas to do with, right? Mu is this is how\naggressively you walk along",
    "start": "4744610",
    "end": "4751199"
  },
  {
    "text": "this central path, right? So that's your-- in\nfact, people call that the homotopy parameter. It's how fast you increase\nyour homotopy parameter.",
    "start": "4751200",
    "end": "4759910"
  },
  {
    "text": "OK. So the question is, how\nmany Newton steps does it take-- if I'm on\nthe central path,",
    "start": "4759910",
    "end": "4765840"
  },
  {
    "text": "I increase t by a factor\nmu, and I have to calculate the new point, right? That is the-- once we know what\nthat-- if we bound that number,",
    "start": "4765840",
    "end": "4775260"
  },
  {
    "text": "that's the number\nof Newton steps-- that's the maximum\nnumber of Newton steps you can take in one\nof these centering steps",
    "start": "4775260",
    "end": "4780870"
  },
  {
    "text": "and you multiply that by\nbasically log 1 over mu and you get your total\nnumber-- your total count. Everybody got this?",
    "start": "4780870",
    "end": "4786520"
  },
  {
    "text": "OK. So if you remember\nwhat that looked like, it looked like this. And this sounded kind of weird.",
    "start": "4786520",
    "end": "4792099"
  },
  {
    "text": "Basically, the\nnumber of steps looks like something like\nf of, let's say, x0",
    "start": "4792100",
    "end": "4797350"
  },
  {
    "text": "minus then f of x star like\nthis divided by some number.",
    "start": "4797350",
    "end": "4804178"
  },
  {
    "text": "Did I write it out\nhere or something? Yeah. I called it gamma there. And then plus a constant, right? It's not really a constant.",
    "start": "4804178",
    "end": "4810340"
  },
  {
    "text": "The constant is really like\na log log something or other. But basically, it's fine. It's five or something\nor-- not even five, right?",
    "start": "4810340",
    "end": "4819008"
  },
  {
    "text": "So I don't know if\nyou remember this. But this is the-- if a function is\nself-concordant,",
    "start": "4819008",
    "end": "4824410"
  },
  {
    "text": "this is the number--\nactually, this is the same-- the\nclassical analysis gives you the same thing. It's just that c and gamma\ndepend on all sorts of things",
    "start": "4824410",
    "end": "4831490"
  },
  {
    "text": "that you would never know and\nare not affinely independent. But if f is\nself-concordant, we actually",
    "start": "4831490",
    "end": "4836829"
  },
  {
    "text": "know what this-- we know\nnumbers that are valid for this. OK. Now, there is this\nembarrassing thing",
    "start": "4836830",
    "end": "4844260"
  },
  {
    "text": "which is someone says, what's\nthe maximum number of Newton's steps it's going to take? And you go, well, it's this.",
    "start": "4844260",
    "end": "4849340"
  },
  {
    "text": "And you go, yeah, but\nhow do know this, right? And so you get--",
    "start": "4849340",
    "end": "4854425"
  },
  {
    "text": "it's very embarrassing\nbecause you'd say, oh, yeah, no problem. To bound the number of Newton\nsteps, all you have to do",
    "start": "4854425",
    "end": "4859582"
  },
  {
    "text": "is first solve it\nusing Newton's method. Then you know this,\nthen you subtract this",
    "start": "4859582",
    "end": "4865290"
  },
  {
    "text": "and divide and add that. And you're like, dude,\nI just solved it. I know the exact\nnumber of Newton steps",
    "start": "4865290",
    "end": "4871260"
  },
  {
    "text": "now so I don't need your\nstupid bound anymore. Is everyone following\nthis, right? So I mean it's\nreasonable, right?",
    "start": "4871260",
    "end": "4877950"
  },
  {
    "text": "But we're going\nto-- you can even imagine what's going\nto help us here",
    "start": "4877950",
    "end": "4884040"
  },
  {
    "text": "because this bound is a bound if\nyou had a lower bound on that.",
    "start": "4884040",
    "end": "4889380"
  },
  {
    "text": "So do you think we\nhave a lower bound? Where do you imagine a lower\nbound on the optimal value",
    "start": "4889380",
    "end": "4895070"
  },
  {
    "text": "something is going to come from\nbefore you've actually solved it. So should we say it all\nin unison or whatever?",
    "start": "4895070",
    "end": "4901520"
  },
  {
    "text": "But you get one guess. Go ahead. Duality. OK.",
    "start": "4901520",
    "end": "4906920"
  },
  {
    "text": "So that's the\nhighlight of the story. And we'll complete\nthis next time.",
    "start": "4906920",
    "end": "4912580"
  },
  {
    "start": "4912580",
    "end": "4917000"
  }
]