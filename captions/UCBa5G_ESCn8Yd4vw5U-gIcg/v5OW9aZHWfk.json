[
  {
    "start": "0",
    "end": "5100"
  },
  {
    "text": "So let's do a quick recap of\nwhat we talked about last time.",
    "start": "5100",
    "end": "10150"
  },
  {
    "text": "So we started talking about GPS. And we said that the GPS is\na sensing technology that",
    "start": "10150",
    "end": "18720"
  },
  {
    "text": "specifically enables\nus to do localization and some odometry using\nsignals from satellites",
    "start": "18720",
    "end": "27540"
  },
  {
    "text": "that are orbiting the Earth. And by localization,\nwe basically mean to determine the 3D\nposition of the receiver.",
    "start": "27540",
    "end": "36870"
  },
  {
    "text": "And it's useful because\nif you have a map, then you can use your localization\ndata to exactly pinpoint",
    "start": "36870",
    "end": "44489"
  },
  {
    "text": "your location on the map. And odometry remember\nit's basically information",
    "start": "44490",
    "end": "52170"
  },
  {
    "text": "about how we are moving. So basically you can think of\nit as the 3D velocity vector of the receiver, for instance.",
    "start": "52170",
    "end": "58410"
  },
  {
    "text": "That's what we mean by odometry. And how does it work?",
    "start": "58410",
    "end": "63719"
  },
  {
    "text": "At a very high level,\nat the core of it, is this concept of ranging using\ntime of flight measurements,",
    "start": "63720",
    "end": "70720"
  },
  {
    "text": "which is a very simple concept. And it's not only GPS, right.",
    "start": "70720",
    "end": "76440"
  },
  {
    "text": "This is a very, very\ngeneral concept. And you would see it\nthroughout the class that many other sensors that\nwe talk about also at the core",
    "start": "76440",
    "end": "84150"
  },
  {
    "text": "use this idea of ranging\nvia time of flight. Which is, basically, you have\na transmitter and a receiver.",
    "start": "84150",
    "end": "91740"
  },
  {
    "text": "And the transmitter\nsends some signal. In the case of the GPS,\nit's an electromagnetic wave",
    "start": "91740",
    "end": "99840"
  },
  {
    "text": "that it transmits. And here I'm showing\nit as a pulse. But it can be a\ncontinuous signal.",
    "start": "99840",
    "end": "105110"
  },
  {
    "text": "I mean, there's very\ndifferent ways of doing it. But the concept is,\nyou send something and it travels through a medium\nat some velocity-- call it C.",
    "start": "105110",
    "end": "113310"
  },
  {
    "text": "And then it reaches\nthe receiver. Now, if the transmitter\nand the receiver have synchronized clocks\nand if they have somehow",
    "start": "113310",
    "end": "120479"
  },
  {
    "text": "agreed on where the\nsignal was transmitted-- and I haven't told you how yet.",
    "start": "120480",
    "end": "125530"
  },
  {
    "text": "But let's just\nassume that there's this time t0 that is\nknown to the transmitter",
    "start": "125530",
    "end": "131760"
  },
  {
    "text": "and the receiver. And they have agreed that at t0,\nI'm going to send you a signal. And then the receiver waits\nto receive that signal.",
    "start": "131760",
    "end": "139420"
  },
  {
    "text": "And some time has\npassed for this to travel through the medium. And the receiver checks the\nclock when it receives it,",
    "start": "139420",
    "end": "146790"
  },
  {
    "text": "and it says, OK,\nit's t0 plus tau. So tau must have\nbeen the travel time",
    "start": "146790",
    "end": "152040"
  },
  {
    "text": "or the time of\nflight of the signal from the transmitter\nto receiver. And then if the\nreceiver measures",
    "start": "152040",
    "end": "158220"
  },
  {
    "text": "tau and the speed of the\ntravel of that signal",
    "start": "158220",
    "end": "165630"
  },
  {
    "text": "through the medium is known-- so for instance, if it's\nan electromagnetic wave in free space, we know exactly\nwhat the speed of light is.",
    "start": "165630",
    "end": "173880"
  },
  {
    "text": "So you just multiply\nthat time of flight by the velocity or the speed. And that gives you range.",
    "start": "173880",
    "end": "179970"
  },
  {
    "text": "So you go from a\ntime measurement to a distance measurement. So time and distance are coupled\nthrough this basically velocity",
    "start": "179970",
    "end": "189330"
  },
  {
    "text": "here. So that's simple\nconcept but very",
    "start": "189330",
    "end": "194400"
  },
  {
    "text": "foundational to how GPS and\nmany other sensors work. And then how do you use it?",
    "start": "194400",
    "end": "202350"
  },
  {
    "text": "The way it's used\nspecifically for GPS is this idea of localization\nvia range measurements.",
    "start": "202350",
    "end": "208570"
  },
  {
    "text": "So in a simple 2D example,\nwe saw that if you have two",
    "start": "208570",
    "end": "214080"
  },
  {
    "text": "transmitters-- say\ntwo satellites-- at two known positions-- P1 and P2.",
    "start": "214080",
    "end": "219810"
  },
  {
    "text": "And in the 2D case,\nthese are two vectors. And the 3D cases,\nare 3D vectors.",
    "start": "219810",
    "end": "226230"
  },
  {
    "text": "So P1, P2 are known. And then the receiver if it can\nmeasure its range or distance",
    "start": "226230",
    "end": "232200"
  },
  {
    "text": "from each of them,\nthen the location of the receiver relative\nto each of the transmitters",
    "start": "232200",
    "end": "238110"
  },
  {
    "text": "has to be on a circle,\nwhich is centered at the position\nof the transmitter",
    "start": "238110",
    "end": "243300"
  },
  {
    "text": "with a radius that is equal\nto the distance from that. So you get one circle around\nP1, another circle around P2.",
    "start": "243300",
    "end": "250290"
  },
  {
    "text": "And they will intersect at two\npoints-- call them A and B. So then the actual\nposition of the receiver",
    "start": "250290",
    "end": "256799"
  },
  {
    "text": "has to be either at\nA or at B. There's still some ambiguity here. And we talked about different\nways that you can disambiguate.",
    "start": "256800",
    "end": "264150"
  },
  {
    "text": "For instance, if you\nhave more transmitters-- if you add one\nmore, then there's",
    "start": "264150",
    "end": "269190"
  },
  {
    "text": "going to be a third circle. And then they would\nintersect at just one point. That's one way. So add more\nmeasurements, basically,",
    "start": "269190",
    "end": "275910"
  },
  {
    "text": "that will break the\nambiguity for you. Or if you have some\nconstraints that you",
    "start": "275910",
    "end": "282000"
  },
  {
    "text": "can add to the\nproblem-- for instance, you know that your receiver is\non the surface of the Earth, which is this ellipsoid.",
    "start": "282000",
    "end": "290130"
  },
  {
    "text": "And then include that as a\nconstraint to the problem. Then you can also\nbreak the ambiguity",
    "start": "290130",
    "end": "295680"
  },
  {
    "text": "and determine the\nposition exactly. So that's the core\nconcept or principle",
    "start": "295680",
    "end": "300690"
  },
  {
    "text": "of operation of the GPS. But very specifically,\nfor it to work,",
    "start": "300690",
    "end": "306919"
  },
  {
    "text": "three things need to happen. So it's a three-step process. First, the receiver needs to--",
    "start": "306920",
    "end": "315800"
  },
  {
    "text": "as it's called-- acquire\na number of satellites. So this acquisition\nstep-- what it means",
    "start": "315800",
    "end": "320900"
  },
  {
    "text": "is that it needs to\nreceive signals from them. And from the signals, be able\nto find the exact position",
    "start": "320900",
    "end": "329300"
  },
  {
    "text": "of the satellites. And how many are needed? At least four. So it needs to find at\nleast four satellites",
    "start": "329300",
    "end": "335900"
  },
  {
    "text": "and be able to determine\nthe exact position. So P1, P2, P3, and P4 need\nto be estimated or determined",
    "start": "335900",
    "end": "342110"
  },
  {
    "text": "by the receiver. That's step one. Then it needs to find\nits range to each",
    "start": "342110",
    "end": "348230"
  },
  {
    "text": "of these four satellites\nusing this concept of time of flight measurements. So that's the step two.",
    "start": "348230",
    "end": "353690"
  },
  {
    "text": "So find a range to each of\nthe satellites via the TOF principle. So that's four numbers--\nr1, r2, r3, r4.",
    "start": "353690",
    "end": "360710"
  },
  {
    "text": "That's the second\nestimation step. And then the third step. So now you have the positions,\nyou have the ranges,",
    "start": "360710",
    "end": "367940"
  },
  {
    "text": "and then you need to solve this\nessentially geometric problem of finding the intersection\nof these spheres.",
    "start": "367940",
    "end": "376129"
  },
  {
    "text": "The intersection point which is\nthe position of your receiver. So you would use the positions\nP1 to P4 and the ranges r1",
    "start": "376130",
    "end": "384890"
  },
  {
    "text": "to r4 to estimate the\nreceiver position. We call it Pr, which\nis a three vector.",
    "start": "384890",
    "end": "391760"
  },
  {
    "text": "We are localizing in\n3D-- so xr, yr, or zr. And remember we said there\nis a fourth parameter that",
    "start": "391760",
    "end": "397880"
  },
  {
    "text": "needs to be estimated,\nwhich is the clock offset-- tau sub d of the\nreceiver with respect",
    "start": "397880",
    "end": "404000"
  },
  {
    "text": "to the GPS reference clock. And the reason that\nthere is this tau sub d is that if you go back to\nthe time of flight measurement",
    "start": "404000",
    "end": "411980"
  },
  {
    "text": "principle, we said that the\nunderlying assumption here is that the clock of the\ntransmitter and the receiver",
    "start": "411980",
    "end": "419120"
  },
  {
    "text": "are perfectly synchronized. So when they agree\nthat I'm going to transmit a t\nequals t0, t equals",
    "start": "419120",
    "end": "425870"
  },
  {
    "text": "t0 is the exact same\ntime for the transmitter and the receiver. In real world, that's\nnever the case.",
    "start": "425870",
    "end": "432150"
  },
  {
    "text": "It is the case between\nthe GPS satellites. So the GPS satellite systems-- these 30 something satellites\nthat are orbiting the Earth--",
    "start": "432150",
    "end": "439940"
  },
  {
    "text": "they have very fancy,\nsuper well synchronized clocks between them.",
    "start": "439940",
    "end": "445470"
  },
  {
    "text": "So that's like your\nstandard reference clock system of the GPS. But our receivers-- our phones,\nour laptops, our car GPS",
    "start": "445470",
    "end": "456379"
  },
  {
    "text": "systems, or whatever\nreceivers we have-- they do not have perfect clocks. These are these cheap,\nelectronic clocks",
    "start": "456380",
    "end": "463610"
  },
  {
    "text": "based on oscillators\nand things like that. So our clock is always\ngoing to be offset from the GPS reference clock.",
    "start": "463610",
    "end": "470390"
  },
  {
    "text": "So there is going to be the time\nof flight that being measured is not just t0 plus t.",
    "start": "470390",
    "end": "476150"
  },
  {
    "text": "It's a plus tau-- it's t0\nplus tau plus our timing delay",
    "start": "476150",
    "end": "481280"
  },
  {
    "text": "called the tau sub d, which\nis the offset with respect to the reference clock. So for the GPS to work-- if\nwe do not account for tau sub",
    "start": "481280",
    "end": "490039"
  },
  {
    "text": "d, that's going to go into our\nrange measurements, of course. So our range becomes\ninstead of just C times tau,",
    "start": "490040",
    "end": "498530"
  },
  {
    "text": "it becomes C times tau plus this\nr term, which is C times tau d.",
    "start": "498530",
    "end": "504650"
  },
  {
    "text": "So our ranges would be off. And we saw that if your\nranges are off, then your position is going\nto be inaccurate.",
    "start": "504650",
    "end": "510320"
  },
  {
    "text": "And it just breaks the system. So you have to also estimate and\naccount for your timing offset.",
    "start": "510320",
    "end": "517549"
  },
  {
    "text": "And that's why at\nleast four satellites are needed, because you're\nestimating for parameters x, y,",
    "start": "517549",
    "end": "523323"
  },
  {
    "text": "z, and tau. So you need four\nmeasurements at least. In principle, the\nreceivers usually",
    "start": "523324",
    "end": "528800"
  },
  {
    "text": "try to acquire as many\nsatellites as they can. They typically work with\nlike six, seven, or eight",
    "start": "528800",
    "end": "535910"
  },
  {
    "text": "depending on how many are\navailable at the time. And then that just\nadds more measurements",
    "start": "535910",
    "end": "541910"
  },
  {
    "text": "and makes it more accurate. But if it cannot find at\nleast four satellites, your GPS wouldn't work.",
    "start": "541910",
    "end": "548780"
  },
  {
    "text": "It will just try\nto acquire more. Sometimes in challenging\ncases where you do not",
    "start": "548780",
    "end": "557720"
  },
  {
    "text": "have line of sight to\nthose number of satellites, you might have experienced\nthat your GPS just takes",
    "start": "557720",
    "end": "563420"
  },
  {
    "text": "a very long time to get you\nthe first position fixed. Because, it's just\ntrying to find the four",
    "start": "563420",
    "end": "569300"
  },
  {
    "text": "reliable satellites. So this is super high level. Now, what you're\ngoing to do today",
    "start": "569300",
    "end": "575630"
  },
  {
    "text": "and the next lecture\nis we are going to go deep dive into\nthese three steps. Like really, really go deep down\nand see how each of these work.",
    "start": "575630",
    "end": "583460"
  },
  {
    "text": "How do you find the estimate\nposition of these satellites that are orbiting the Earth. How do you do actual time\nof flight measurements",
    "start": "583460",
    "end": "591139"
  },
  {
    "text": "to each satellite. And then how do you\nuse these measurements to estimate your position\nand timing offset.",
    "start": "591140",
    "end": "599180"
  },
  {
    "text": "Any questions? No, all right. Let's continue. So here's where we\nare on the slide.",
    "start": "599180",
    "end": "607450"
  },
  {
    "text": "So again, the receiver\nneeds to basically estimate",
    "start": "607450",
    "end": "612780"
  },
  {
    "text": "the satellite\nlocations in orbit. And that is calculated from what\nis called the ephemeris data.",
    "start": "612780",
    "end": "619320"
  },
  {
    "text": "I'll tell you what it is. But that's the\nterminology used for it-- it's called the ephemeris data.",
    "start": "619320",
    "end": "625020"
  },
  {
    "text": "And then the ranges\nor the time of flights are calculated from what\nis called ranging codes.",
    "start": "625020",
    "end": "631470"
  },
  {
    "text": "Again, don't worry if\nthese are not familiar. We're going to talk about\nit in a lot of detail.",
    "start": "631470",
    "end": "638220"
  },
  {
    "text": "Before that, let's\nstart from a high level overview of the GPS system. So this is just\na picture showing",
    "start": "638220",
    "end": "647520"
  },
  {
    "text": "the constellation of\nthe GPS satellites that orbit the Earth. And the first satellite\nwas launched in 1978.",
    "start": "647520",
    "end": "655500"
  },
  {
    "text": "And the system became\nfully operational in 1995.",
    "start": "655500",
    "end": "660540"
  },
  {
    "text": "And fully operational,\nwhat it means is that it basically started\ngetting full coverage",
    "start": "660540",
    "end": "666870"
  },
  {
    "text": "around the globe with\nall the good properties that we talked about--",
    "start": "666870",
    "end": "672800"
  },
  {
    "text": "that were required\nof the GPS system. It nominally consists\nof 24 satellites in six",
    "start": "672800",
    "end": "680190"
  },
  {
    "text": "equally spaced orbital planes. So each color here\nis an orbital plane like this red one for instance.",
    "start": "680190",
    "end": "686800"
  },
  {
    "text": "And as you see, there's\nlike four little dots on it. And those are the nominal\npositions of the satellites.",
    "start": "686800",
    "end": "693150"
  },
  {
    "text": "And this is nominal. In reality, there is more. There's 30 something--\nlike 36, 37 at a time--",
    "start": "693150",
    "end": "700320"
  },
  {
    "text": "satellites orbiting the Earth. If it goes below 24,\nthen we might not",
    "start": "700320",
    "end": "705839"
  },
  {
    "text": "get like full coverage. And so that was\ndesigned for at least like 24 satellites orbiting.",
    "start": "705840",
    "end": "712530"
  },
  {
    "text": "And these are at an altitude\nof 20,200 kilometers",
    "start": "712530",
    "end": "719190"
  },
  {
    "text": "above the Earth. And they're orbiting the Earth. So it's very important that the\nlocation of these satellites",
    "start": "719190",
    "end": "725250"
  },
  {
    "text": "relative to the Earth\nis not constant. They're rotating\naround the Earth.",
    "start": "725250",
    "end": "731069"
  },
  {
    "text": "So here's a cool visualization\nif I can open it. So this is cool.",
    "start": "731070",
    "end": "738639"
  },
  {
    "text": "So this is here-- this little red dot on\nthe surface of the Earth",
    "start": "738640",
    "end": "743880"
  },
  {
    "text": "that's say your receiver. And it sees over time\nas the Earth rotates. And as the satellites\nare orbiting the Earth,",
    "start": "743880",
    "end": "752040"
  },
  {
    "text": "those lines are the line\nof sight to the satellite. So it shows you're alternating\nbetween six, seven, eight,",
    "start": "752040",
    "end": "759884"
  },
  {
    "text": "nine, ten, how many visible\nsatellites you have. But the point is,\nat every given time,",
    "start": "759885",
    "end": "765570"
  },
  {
    "text": "that number is\nalways above four. And that was an important design\nprinciple of the GPS system.",
    "start": "765570",
    "end": "774750"
  },
  {
    "text": "And it's not trivial by the way. It's very interesting\nengineering went into the actual design\nof the GPS constellation.",
    "start": "774750",
    "end": "783000"
  },
  {
    "text": "And how many orbital\nplanes you want to have. How many satellites\nyou want to have per orbit to really\nguarantee without launching",
    "start": "783000",
    "end": "790920"
  },
  {
    "text": "too many satellites. Because these are very,\nvery, very expensive. We are talking like billions\nof dollars per satellite.",
    "start": "790920",
    "end": "798240"
  },
  {
    "text": "And there's like maintenance\nfor each of them. And you don't want to blow\nup the cost of the system out",
    "start": "798240",
    "end": "805560"
  },
  {
    "text": "of proportion. So engineers came up with\na minimal set of satellites",
    "start": "805560",
    "end": "810600"
  },
  {
    "text": "with very specific\norbit trajectories around the Earth to always\nguarantee for satellites",
    "start": "810600",
    "end": "817350"
  },
  {
    "text": "inside. It's pretty interesting\nin that regard. So it's owned by the US\ngovernment-- the GPS system--",
    "start": "817350",
    "end": "824760"
  },
  {
    "text": "and operated by\nthe US Space Force. Now, towards the\nend of the chapter,",
    "start": "824760",
    "end": "831939"
  },
  {
    "text": "we'll talk about-- now, the\nGPS is not the only satellite positioning system. Different countries\nlike the European Union",
    "start": "831940",
    "end": "838530"
  },
  {
    "text": "has their own version of it. Russia has their\nown version of it-- China, Japan, India.",
    "start": "838530",
    "end": "844250"
  },
  {
    "text": "There's different satellite\npositioning systems. The principle of\noperation is exact same.",
    "start": "844250",
    "end": "852300"
  },
  {
    "text": "And in fact, the\nmodern receivers use and acquire satellites for\nmultiple global positioning",
    "start": "852300",
    "end": "862290"
  },
  {
    "text": "system beyond the GPS. And this is called the\nGNSS that we'll talk about. But again, we talk about\nthe American version,",
    "start": "862290",
    "end": "870550"
  },
  {
    "text": "which is the GPS. And it's the biggest one\nin terms of the coverage and the performance.",
    "start": "870550",
    "end": "877260"
  },
  {
    "text": "But there's other versions of\nit operated by other nations. So again, it provides\naccurate, continuous, global,",
    "start": "877260",
    "end": "884970"
  },
  {
    "text": "3D position, and\nvelocity information as well as what we call the\ncoordinated universal time,",
    "start": "884970",
    "end": "892420"
  },
  {
    "text": "which is related to\nthat timing offset. Again, if you estimate your\ntiming offset and correct",
    "start": "892420",
    "end": "898709"
  },
  {
    "text": "for it, then\nessentially every lock on every device on Earth\nthat is connected to GPS",
    "start": "898710",
    "end": "905460"
  },
  {
    "text": "can be as accurate and\nperfectly synchronized with the GPS\nreference clock, which",
    "start": "905460",
    "end": "911730"
  },
  {
    "text": "is this amazing byproduct. I mean, we think of GPS as\njust a localization technology.",
    "start": "911730",
    "end": "918810"
  },
  {
    "text": "But actually, the timing\ntechnology that comes is associated with it. And the synchronization across\nthe globe of all these devices",
    "start": "918810",
    "end": "926040"
  },
  {
    "text": "is as important and as useful\nas the positioning capabilities of it.",
    "start": "926040",
    "end": "931967"
  },
  {
    "text": "Another thing that's\nvery interesting is that, essentially, because\nit's a one way communication system, the satellite just\nbroadcast some signals.",
    "start": "931968",
    "end": "939810"
  },
  {
    "text": "And you use them to localize\nyourself and synchronize your time. It can service an\nunlimited number of users.",
    "start": "939810",
    "end": "948360"
  },
  {
    "text": "It's like radio. It's just broadcast and\nthen you receive it. So it can have as\nmany receivers. There is no interference between\nthe receivers or congestion",
    "start": "948360",
    "end": "956970"
  },
  {
    "text": "of bandwidth, because\nthe receivers do not need to talk to the satellites. It's just one way which\nis very, very interesting.",
    "start": "956970",
    "end": "964140"
  },
  {
    "text": "And also, worth noting is that\nthere is a worldwide ground",
    "start": "964140",
    "end": "970470"
  },
  {
    "text": "control and monitoring\nnetwork of stations that communicate-- with these\ndevices in the background--",
    "start": "970470",
    "end": "977400"
  },
  {
    "text": "with these satellites\nin the background and monitor their health,\ntheir trajectories,",
    "start": "977400",
    "end": "982500"
  },
  {
    "text": "make sure they are\nfully operational. So there is a whole\nground section to the GPS also which almost\nnobody cares about.",
    "start": "982500",
    "end": "989640"
  },
  {
    "text": "But it's really important\nto maintain and make sure that the reliability and\noperational condition",
    "start": "989640",
    "end": "998970"
  },
  {
    "text": "of the GPS. Also, worth noting is that not\nall the satellites in the GPS",
    "start": "998970",
    "end": "1005660"
  },
  {
    "text": "system are the same. There's many\ndifferent generations of these satellites. Now we are on the third\ngeneration of the satellites.",
    "start": "1005660",
    "end": "1013040"
  },
  {
    "text": "Those are the most modern ones\nthat we started launching them in late 2010s, I think.",
    "start": "1013040",
    "end": "1018319"
  },
  {
    "text": "So these are very\nmodern satellites. But there's still different\nversions of gen two.",
    "start": "1018320",
    "end": "1024260"
  },
  {
    "text": "These are called\nblocks for some reason. As of, I think last year,\nthere is seven block two R.",
    "start": "1024260",
    "end": "1032720"
  },
  {
    "text": "So block two is like\nsecond generation. And R is for replenishment. So it was some specific\nversion of the hardware.",
    "start": "1032720",
    "end": "1040250"
  },
  {
    "text": "There were seven block two RM. M is for modernized. And we'll talk about what\nwe mean by modernization.",
    "start": "1040250",
    "end": "1046760"
  },
  {
    "text": "12 block two F and\njust four block three. So they are still\nlaunching block three GPS satellites, which\nhas some interesting new",
    "start": "1046760",
    "end": "1054830"
  },
  {
    "text": "capabilities. So they're constantly\nupgrading the hardware, launching new satellites,\nadding capabilities,",
    "start": "1054830",
    "end": "1061520"
  },
  {
    "text": "and so on, and so forth. Some pictures of the satellites.",
    "start": "1061520",
    "end": "1066590"
  },
  {
    "text": "They're not huge. They're just like\nalmost cube-looking, few meters across things\nwith big solar panels.",
    "start": "1066590",
    "end": "1073650"
  },
  {
    "text": "And I think, three\nof them A, B, and C, these are the second\ngeneration or block",
    "start": "1073650",
    "end": "1079490"
  },
  {
    "text": "two satellites-- different\nversions of the hardware. And then this one is the more\nmodern block three satellite.",
    "start": "1079490",
    "end": "1087140"
  },
  {
    "text": " So now, let's talk\nabout the signals",
    "start": "1087140",
    "end": "1092410"
  },
  {
    "text": "that these satellites transmit. So as we said, the receiver\nneeds to determine two things",
    "start": "1092410",
    "end": "1097570"
  },
  {
    "text": "or estimate-- the\nposition of the satellites and also its range\nto each satellite. And the satellites transmit\ntwo distinct signals",
    "start": "1097570",
    "end": "1106270"
  },
  {
    "text": "for these two functions that\nthe receiver needs to do. There is ranging signals\nalso called codes.",
    "start": "1106270",
    "end": "1113990"
  },
  {
    "text": "And we'll see why\nthey are called codes. And these are used to determine\nsatellite to user range.",
    "start": "1113990",
    "end": "1119590"
  },
  {
    "text": "And there's what we call\nthe navigation signals. So the navigation\nsignals are data packets.",
    "start": "1119590",
    "end": "1125830"
  },
  {
    "text": "So there is human understandable\ninformation in them. It's like the\ninternet data packets",
    "start": "1125830",
    "end": "1131289"
  },
  {
    "text": "that you receive\nover the internet. So there's frames. And there is different fields\nwithin each frame and subframe.",
    "start": "1131290",
    "end": "1138800"
  },
  {
    "text": "And the navigation\nsignals are used to determine the position\nof the satellites.",
    "start": "1138800",
    "end": "1144370"
  },
  {
    "text": "The ranging signals, the\nreason they are codes is because these are\nmathematical codes. The range codes are not\nhuman understandable.",
    "start": "1144370",
    "end": "1151210"
  },
  {
    "text": "You should do some math on them\nto be able to extract range. And we'll go in full\ndepth on what the math is",
    "start": "1151210",
    "end": "1158019"
  },
  {
    "text": "and what these codes are. But the navigation signals,\nyou can interpret them. I mean, yes, you need\nto decode it correctly--",
    "start": "1158020",
    "end": "1166419"
  },
  {
    "text": "the packets. But the satellite\nliterally tells you, here is where I am\nat this point in time.",
    "start": "1166420",
    "end": "1173590"
  },
  {
    "text": "And that's how it's done. So more specifically, the\nrange of signals that are used.",
    "start": "1173590",
    "end": "1179090"
  },
  {
    "text": "These are called pseudorandom\nnoise or PRN signals or codes. And these are binary sequences.",
    "start": "1179090",
    "end": "1185500"
  },
  {
    "text": "If you have not heard\nof PRN, no worries. We'll fully in-depth\ntalk about them,",
    "start": "1185500",
    "end": "1191710"
  },
  {
    "text": "and tell you what they are,\nand why they're interesting. What's important-- and today,\nwe'll talk a little about it--",
    "start": "1191710",
    "end": "1199210"
  },
  {
    "text": "is that there's\ndifferent ranging codes that the satellites transmit.",
    "start": "1199210",
    "end": "1206283"
  },
  {
    "text": "Actually, there's a\nwhole bunch of them. And we'll talk about them. And there's reasons\nwhy not just one.",
    "start": "1206283",
    "end": "1212679"
  },
  {
    "text": "So there's, for instance,\na ranging code that is for civilian applications. Then there's\nanother ranging code",
    "start": "1212680",
    "end": "1218320"
  },
  {
    "text": "which is more accurate\nfor military applications. And they're very distinct. And there's different ranging\ncodes on different frequencies.",
    "start": "1218320",
    "end": "1225850"
  },
  {
    "text": "And then there's the legacy-- ones which were pre-2000. And then there's some modern\ncodes that are transmitted.",
    "start": "1225850",
    "end": "1233140"
  },
  {
    "text": "The principle of operation\nbetween the military version and the civilian\nversion, and the legacy",
    "start": "1233140",
    "end": "1239919"
  },
  {
    "text": "codes and the modern\ncodes is exact same. But there is some\nfunctional differences.",
    "start": "1239920",
    "end": "1245740"
  },
  {
    "text": "But the math and the\nphysics is the exact same. So that's just worth noting.",
    "start": "1245740",
    "end": "1253870"
  },
  {
    "text": "And the type of\nmodulation that is used for most of these codes as\nwell as the navigation signals",
    "start": "1253870",
    "end": "1261669"
  },
  {
    "text": "is just binary phase-shift\nkeying, BPSK modulation. If you're not familiar with\nthis, I'll describe it for you.",
    "start": "1261670",
    "end": "1267610"
  },
  {
    "text": "And both in-phase and quadrature\ncomponents of the carrier",
    "start": "1267610",
    "end": "1272799"
  },
  {
    "text": "are used and typically\nmodulated over. And in terms of the carrier\nfrequency that the GPS uses,",
    "start": "1272800",
    "end": "1280270"
  },
  {
    "text": "there's five distinct\nfrequency bands. They're all between\none and two gigahertz.",
    "start": "1280270",
    "end": "1286870"
  },
  {
    "text": "But there's five\ndifferent channels that all these\nGPS satellites use for communicating both arranging\nsignals and navigation signals.",
    "start": "1286870",
    "end": "1295090"
  },
  {
    "text": "And you might ask,\nOK, so there's something between 24 at least\nto 30 something satellites",
    "start": "1295090",
    "end": "1302980"
  },
  {
    "text": "transmitting all these different\ntypes of signals-- there's like navigation\nsignals, ranging codes,",
    "start": "1302980",
    "end": "1308620"
  },
  {
    "text": "there's different\nflavors of ranging codes. So how do we do it on\njust five frequencies without these interfering\nwith each other?",
    "start": "1308620",
    "end": "1316149"
  },
  {
    "text": "And the concept that\nis used is called code-division multiple\naccess or CDMA.",
    "start": "1316150",
    "end": "1321490"
  },
  {
    "text": "And again, if you're not\nfamiliar with this, that's OK. We'll talk about it. But the core idea here is that,\nthe signals are mathematically",
    "start": "1321490",
    "end": "1332350"
  },
  {
    "text": "orthogonal to each other. Although they're transmitted\non the same frequency, they are orthogonal. And just like\northogonal vectors,",
    "start": "1332350",
    "end": "1338920"
  },
  {
    "text": "you can distinguish them. These signals also you can use\nthis principle of orthogonality",
    "start": "1338920",
    "end": "1345590"
  },
  {
    "text": "and distinguish the signals\nthat you're receiving from different satellites. Although, they're all coming\non the same frequency.",
    "start": "1345590",
    "end": "1354100"
  },
  {
    "text": "Let's have a quick look\nat an idealized version of the GPS signal model.",
    "start": "1354100",
    "end": "1362120"
  },
  {
    "text": "So here, this s\nof t is the signal",
    "start": "1362120",
    "end": "1368520"
  },
  {
    "text": "that the satellite transmits. And as I said, it\nhas two components.",
    "start": "1368520",
    "end": "1374020"
  },
  {
    "text": "So there's an in-phase\ncomponent to it, which is this first term. And then there's a\nquadrature component.",
    "start": "1374020",
    "end": "1381150"
  },
  {
    "text": "This should be familiar\nfrom communication theory. So each of them has\nbasically-- this",
    "start": "1381150",
    "end": "1386340"
  },
  {
    "text": "is the carrier which is\njust an oscillatory signal. A cosine of 2 pi times\nthe carrier frequency-- f",
    "start": "1386340",
    "end": "1393990"
  },
  {
    "text": "sub c-- plus some phase. Phases, we don't care. The receiver really\ndoesn't care.",
    "start": "1393990",
    "end": "1399930"
  },
  {
    "text": "For completeness in the\nmodel, we include that. And then the quadrature\ncomponent, same thing,",
    "start": "1399930",
    "end": "1405270"
  },
  {
    "text": "it's just a sine\ninstead of a cosine. And that's how you get the\northogonality between your end",
    "start": "1405270",
    "end": "1411990"
  },
  {
    "text": "phase and quadrature. Because the sine and the\ncosine at the same frequency, those are orthogonal functions.",
    "start": "1411990",
    "end": "1417270"
  },
  {
    "text": "Then there is a bunch of things\nmultiplying each of these. So first term, is root 2P.",
    "start": "1417270",
    "end": "1425809"
  },
  {
    "text": "It's just a number\nthat's like the power that you put in-phase and\nthe quadrature components.",
    "start": "1425810",
    "end": "1432049"
  },
  {
    "text": "So that's just a power. And then what's\nreally important to us is these two signals--\nthere is an x",
    "start": "1432050",
    "end": "1438590"
  },
  {
    "text": "and there is a d--\nboth multiplying. And they're carrier or\nmodulating the carrier.",
    "start": "1438590",
    "end": "1443629"
  },
  {
    "text": "The X is the range in code. And then the D is the\nnavigation signal.",
    "start": "1443630",
    "end": "1451530"
  },
  {
    "text": "So again, here is the\nsummary of what I just said.",
    "start": "1451530",
    "end": "1456920"
  },
  {
    "text": "And for now, just assume\nthat the X and the D",
    "start": "1456920",
    "end": "1463310"
  },
  {
    "text": "are just binary phase\nmodulated signals--",
    "start": "1463310",
    "end": "1468540"
  },
  {
    "text": "so as streams. So each, we start\nfrom a binary stream. So let's say, your X of t.",
    "start": "1468540",
    "end": "1476360"
  },
  {
    "text": "It's just some code, binary\ncode-- so 00110 whatever.",
    "start": "1476360",
    "end": "1481970"
  },
  {
    "text": "It's a series of\nbits that's a code. And then the way the\nBPSK modulation works",
    "start": "1481970",
    "end": "1487490"
  },
  {
    "text": "is that wherever\nyou have a bit zero, you map it to a phase of zero.",
    "start": "1487490",
    "end": "1493400"
  },
  {
    "text": "So that's e to the j0 or plus 1. And then wherever\nyour bit is minus 1,",
    "start": "1493400",
    "end": "1499010"
  },
  {
    "text": "the modulation is e to the j pi. So you're either a phase\nof 0 or a phase of pi.",
    "start": "1499010",
    "end": "1504590"
  },
  {
    "text": "So that's why it's\nbinary phase-shift keying which is equal to minus 1. So basically, the\nactual modulated version",
    "start": "1504590",
    "end": "1512539"
  },
  {
    "text": "of that x of t becomes-- according to this, becomes plus\n1, plus 1, minus 1, minus 1,",
    "start": "1512540",
    "end": "1519980"
  },
  {
    "text": "plus 1, plus 1, and so on. And then this stream is\nmodulating the carrier.",
    "start": "1519980",
    "end": "1525679"
  },
  {
    "text": "So the carrier is\nbasically getting multiplied by a stream of\nplus 1 through minus 1,",
    "start": "1525680",
    "end": "1530720"
  },
  {
    "text": "which is the binary modulation. Same for the Di. That also is binary\nphase-shift key modulated.",
    "start": "1530720",
    "end": "1539179"
  },
  {
    "text": "Now, you might ask,\nwell, how do we-- because at the receiver\nwe need to decouple,",
    "start": "1539180",
    "end": "1545840"
  },
  {
    "text": "what's the ranging code? And what's the\nnavigation signal? And if both of these\nare just plus minus 1's",
    "start": "1545840",
    "end": "1551480"
  },
  {
    "text": "that are multiplied by each\nother, how do we distinguish? And I'll tell you about it. It's actually a very\nsimple principle.",
    "start": "1551480",
    "end": "1558020"
  },
  {
    "text": "But for now, just bear with me. We'll get back to that. Now, note that this is the\nidealized signal model.",
    "start": "1558020",
    "end": "1566840"
  },
  {
    "text": "In reality, the signal\nmodel is more complicated because we are not\nhere modeling effects.",
    "start": "1566840",
    "end": "1574700"
  },
  {
    "text": "The fact that, as\nI said, there's multiple codes being\ntransmitted for ranging,",
    "start": "1574700",
    "end": "1580010"
  },
  {
    "text": "for instance, we haven't\nmodeled the noise. We haven't modeled\ninterferences.",
    "start": "1580010",
    "end": "1585230"
  },
  {
    "text": "Effects like doppler\nshift, timing jitter, or nonlinear effects. All of those are factored out.",
    "start": "1585230",
    "end": "1591980"
  },
  {
    "text": "It's fine. Again, with this\nidealized signal model, we can fully understand and\nanalyze how the GPS works.",
    "start": "1591980",
    "end": "1598080"
  },
  {
    "text": "But if you're interested, some\nparts of the slides as you see, there's hyperlinks.",
    "start": "1598080",
    "end": "1604160"
  },
  {
    "text": "And these are fully optional\nreads if you are interested. For instance, this one\ntakes you to this website--",
    "start": "1604160",
    "end": "1611760"
  },
  {
    "text": "GNSS software-defined\nradio-- which is this open source community\nof people working on GPS.",
    "start": "1611760",
    "end": "1618560"
  },
  {
    "text": "And this one has the\nfull-blown GPS signal model.",
    "start": "1618560",
    "end": "1624020"
  },
  {
    "text": "If you're interested, these\nare optional reads for you. Back to our discussion,\nany questions so far",
    "start": "1624020",
    "end": "1633480"
  },
  {
    "text": "about the signal model\nand this idea of ranging versus navigation signals?",
    "start": "1633480",
    "end": "1638789"
  },
  {
    "text": "Again, I know this is\nright now super vague. It might borderline not\neven fully make sense.",
    "start": "1638790",
    "end": "1644850"
  },
  {
    "text": "We'll clarify all of this. So there's a lot to unpack here. But for now, at least, the\nhigh level does ranging codes",
    "start": "1644850",
    "end": "1652500"
  },
  {
    "text": "and there is navigation signals. And these are binary\nphase-shift key",
    "start": "1652500",
    "end": "1658409"
  },
  {
    "text": "modulated onto the in-phase\nand the quadrature components of a carrier at a\nfrequency, F sub c.",
    "start": "1658410",
    "end": "1665940"
  },
  {
    "text": "If this makes sense,\nwe should continue. But again, please, I really,\nreally request at any point,",
    "start": "1665940",
    "end": "1673770"
  },
  {
    "text": "if things don't make\nsense, stop me and just flat out tell me, that\ndid not make any sense.",
    "start": "1673770",
    "end": "1679590"
  },
  {
    "text": "I owe it to you to make\nsure things make sense. And again, there's a lot\nhere that we discussed.",
    "start": "1679590",
    "end": "1687240"
  },
  {
    "text": "So for sure, at some\npoint for each of you, some stuff should\nnot make sense.",
    "start": "1687240",
    "end": "1692830"
  },
  {
    "text": "So just stop me right there. And let's clarify it.",
    "start": "1692830",
    "end": "1699390"
  },
  {
    "text": "So here is a high\nlevel table showing--",
    "start": "1699390",
    "end": "1704650"
  },
  {
    "text": "as I said, there is five\ndifferent frequency bands for the GPS signals. And this is a high\nlevel table showing",
    "start": "1704650",
    "end": "1712090"
  },
  {
    "text": "how these frequencies are used. So the frequencies\nare called L1 to L5.",
    "start": "1712090",
    "end": "1719950"
  },
  {
    "text": "And these are the exact\nfrequencies of each. These are fixed. The receivers know them.",
    "start": "1719950",
    "end": "1726440"
  },
  {
    "text": "And the GPS satellites never\nchanged the frequencies that they use.",
    "start": "1726440",
    "end": "1732110"
  },
  {
    "text": "And then for each,\nthere is basically in-phase and quadrature\ncomponents being used.",
    "start": "1732110",
    "end": "1739760"
  },
  {
    "text": "And here you have\ntwo columns-- one says, legacy usage and one\nsays, modernized usage.",
    "start": "1739760",
    "end": "1746800"
  },
  {
    "text": "So what this is, is that,\nwhen GPS was started up till the year 2000,\nthe signals that",
    "start": "1746800",
    "end": "1756760"
  },
  {
    "text": "was transmitted by\nthe GPS satellites those are called legacy signals.",
    "start": "1756760",
    "end": "1762430"
  },
  {
    "text": "And then in year 2000, there\nwas this big modernization that happened for the GPS.",
    "start": "1762430",
    "end": "1768460"
  },
  {
    "text": "And we will talk about it. And then what happened\nthen is that a whole bunch of new ranging signals\nand navigation signals",
    "start": "1768460",
    "end": "1776350"
  },
  {
    "text": "were introduced or\nadded to the GPS system. And there were some hardware\nupgrades, a lot of algorithm,",
    "start": "1776350",
    "end": "1783790"
  },
  {
    "text": "and code upgrades. And that's what is the\nmodernized GPS basically.",
    "start": "1783790",
    "end": "1791769"
  },
  {
    "text": "And we will talk about both\nthe legacy and the modernized. But let's look at\nthe legacy for now.",
    "start": "1791770",
    "end": "1798370"
  },
  {
    "text": "So as you see in the legacy,\nthe last three frequencies weren't even used\nfor navigation.",
    "start": "1798370",
    "end": "1804940"
  },
  {
    "text": "So L4 and L5 were\nflat out not used. L3 was just used for\nnuclear detonation signals--",
    "start": "1804940",
    "end": "1811179"
  },
  {
    "text": "not related to us. And there were two signals\ntransmitted on L1-- one",
    "start": "1811180",
    "end": "1818290"
  },
  {
    "text": "is called P Y and\nthe other one is C/A. I'm sorry, the notation makes\nabsolutely no sense here.",
    "start": "1818290",
    "end": "1824230"
  },
  {
    "text": "I'll try to clarify it. But for some reason,\nwhen they were naming these ranging\nsignals, they",
    "start": "1824230",
    "end": "1831250"
  },
  {
    "text": "came up with these\nweird type of notation. But we'll clarify it. The P is for military use.",
    "start": "1831250",
    "end": "1837309"
  },
  {
    "text": "And the C is for civilian use. These are the names of\nthe two ranging signals. And then on L2, they were\nalso transmitting the P Y",
    "start": "1837310",
    "end": "1845080"
  },
  {
    "text": "and nothing on the quadrature. So in legacy, we\nhad two frequencies",
    "start": "1845080",
    "end": "1851049"
  },
  {
    "text": "for military ranging and just\none frequency for civilian. And then for modernized,\nas you see here,",
    "start": "1851050",
    "end": "1856780"
  },
  {
    "text": "a whole bunch of\nnew stuff got added. I'll talk about these in a bit.",
    "start": "1856780",
    "end": "1861910"
  },
  {
    "text": "But L3 is still not used for-- it's reserved for some research\napplications and things",
    "start": "1861910",
    "end": "1867880"
  },
  {
    "text": "like that but not used\nfor civilian or military localization.",
    "start": "1867880",
    "end": "1873580"
  },
  {
    "text": "L5 also is being a studies\nfor some future upgrades",
    "start": "1873580",
    "end": "1879700"
  },
  {
    "text": "to the GPS system. And then L5 is actually used. So this is where we are\nwith the GPS signals today.",
    "start": "1879700",
    "end": "1888730"
  },
  {
    "text": "Now, the next five\nor so minutes, I'm going to talk about all\nthese different codes which",
    "start": "1888730",
    "end": "1895510"
  },
  {
    "text": "would be nomenclature here. And it's a little boring.",
    "start": "1895510",
    "end": "1900790"
  },
  {
    "text": "I'm sorry. But it's important. I think you should at least\nhigh level know what these are. I'll go quickly because\nthere's a lot of numbers that--",
    "start": "1900790",
    "end": "1909160"
  },
  {
    "text": "it's a thing that\nlater in your work, if you need to know the\nspecifics of the C/A code,",
    "start": "1909160",
    "end": "1915160"
  },
  {
    "text": "this could be your go to place. Go dig up your\nE259 lecture notes and find out what these are.",
    "start": "1915160",
    "end": "1921160"
  },
  {
    "text": "But high level code-- so we'll start\nwith the C/A. So we are talking about legacy\nGPS ranging codes not",
    "start": "1921160",
    "end": "1928180"
  },
  {
    "text": "the navigation messages yet. C/A stands for course\nacquisition code.",
    "start": "1928180",
    "end": "1934060"
  },
  {
    "text": "And again, this was\nlegacy GPS signal still being transmitted today. So today, we're transmitting\nthe modernized signals.",
    "start": "1934060",
    "end": "1941980"
  },
  {
    "text": "Legacy signals still being\ntransmitted and relevant today. So it's what we call\na short code modulated",
    "start": "1941980",
    "end": "1948400"
  },
  {
    "text": "at 1.023 megabits per second. And it repeats every\none milliseconds.",
    "start": "1948400",
    "end": "1954940"
  },
  {
    "text": "The way these\nranging codes work is that it's this binary sequence. And it's modulated\nat some baud rate.",
    "start": "1954940",
    "end": "1964220"
  },
  {
    "text": "So in this case, 1.023\nmegabits per second. And then it just repeats. So it's just that\nperiodically, over, and over,",
    "start": "1964220",
    "end": "1971529"
  },
  {
    "text": "and over, again exact same\ncode is being transmitted.",
    "start": "1971530",
    "end": "1977080"
  },
  {
    "text": "And that's the case for\never type of ranging codes. These ranging codes are\nperiodic signals that",
    "start": "1977080",
    "end": "1983289"
  },
  {
    "text": "are over and over transmitted. So this one repeats\nevery 1 millisecond. Which means, at this\nbits per second,",
    "start": "1983290",
    "end": "1989770"
  },
  {
    "text": "you get exactly\n10,023 code bits. About bits, I mean\nthese zeros and ones.",
    "start": "1989770",
    "end": "1996730"
  },
  {
    "text": "Those are the bits. And they're also called chips. ",
    "start": "1996730",
    "end": "2003190"
  },
  {
    "text": "I'll use the two\nterms interchangeably. So bits and chips, again, if\nthis is your course acquisition",
    "start": "2003190",
    "end": "2012840"
  },
  {
    "text": "code-- I'm just going to draw\nthe waveform for it. ",
    "start": "2012840",
    "end": "2020770"
  },
  {
    "text": "Pre-modulation it's\njust zeros and ones. So you have 0, 1, 0, 0,\n0, 1, 0, 1, and so on.",
    "start": "2020770",
    "end": "2029299"
  },
  {
    "text": "Each of these pulses\nit's called a chip. ",
    "start": "2029300",
    "end": "2037110"
  },
  {
    "text": "So that's what we\nmean by the chips. And then depending on\nyour sampling rate, you might have just one sample\nper chip if you digitize it.",
    "start": "2037110",
    "end": "2045180"
  },
  {
    "text": "Or if you sample\nfaster, you might have multiple samples per chip. But the chip is just\none of these pulses",
    "start": "2045180",
    "end": "2050489"
  },
  {
    "text": "or one of the bits in the\nunderlying mathematical code. And each of the satellites--",
    "start": "2050489",
    "end": "2059070"
  },
  {
    "text": "the 30 something\nsatellites in orbit-- uses a unique C/A code.",
    "start": "2059070",
    "end": "2065460"
  },
  {
    "text": "And that's very, very important. So the code transmitted\nby each satellite, they all have the\nsame number of chips.",
    "start": "2065460",
    "end": "2072780"
  },
  {
    "text": "They are all modulated\nover the same frequency at the same baud rate. But the actual bitstream\nof 0, 1, 0, 0, 0,",
    "start": "2072780",
    "end": "2081059"
  },
  {
    "text": "is unique for each satellite. And that's how you\ndistinguish it. That idea of code division\nmultiple access that I said",
    "start": "2081060",
    "end": "2088230"
  },
  {
    "text": "is actually here. They use unique\ncodes and these codes are orthogonal to each other.",
    "start": "2088230",
    "end": "2094320"
  },
  {
    "text": "Now, orthogonal you\nmight ask, how exactly? Like, what do we mean\nby orthogonality? Because these are\nnot exactly vectors",
    "start": "2094320",
    "end": "2100500"
  },
  {
    "text": "that you can do an\ninner product between. I'll clarify what\northogonality means.",
    "start": "2100500",
    "end": "2106960"
  },
  {
    "text": "But for now, the concept\nis that each satellite transmits a unique C/A\ncode and always that code.",
    "start": "2106960",
    "end": "2113010"
  },
  {
    "text": "They never change their codes. It's part of the GPS\nstandard that satellite block two f number\nthree transmits",
    "start": "2113010",
    "end": "2120420"
  },
  {
    "text": "this very specific code. And the receivers know that. They have this table hard\ncoded of the codes associated",
    "start": "2120420",
    "end": "2127170"
  },
  {
    "text": "with every satellite. And it says, I said, broadcast\non the L1 frequency band--",
    "start": "2127170",
    "end": "2132480"
  },
  {
    "text": "I found the first typo here. I'll highlight to\ncorrect it later.",
    "start": "2132480",
    "end": "2138390"
  },
  {
    "text": "And please, let me know as you\nfind typos and inconsistencies in the lecture notes. So I can correct them.",
    "start": "2138390",
    "end": "2144310"
  },
  {
    "text": "And it's for civilian use. P Y it's called\nthe precision code.",
    "start": "2144310",
    "end": "2150569"
  },
  {
    "text": "P for precision. I'm not going to spend\ntoo much time on it. It's faster by a factor of 10--\nso 10.23 megabits per second.",
    "start": "2150570",
    "end": "2159809"
  },
  {
    "text": "It's also much, much, much\nlonger than the C/A code. I mean, look here, C/A\ncode was 1 millisecond.",
    "start": "2159810",
    "end": "2168300"
  },
  {
    "text": "This one repeats every 37 weeks. So something like 12\norders of magnitude longer.",
    "start": "2168300",
    "end": "2176160"
  },
  {
    "text": "So because it's so long,\nthe satellites cannot store the whole thing. I mean, it's just too much\nmemory for these satellites.",
    "start": "2176160",
    "end": "2184260"
  },
  {
    "text": "I mean, it's like\n10 to the 14 chips. So what they did instead\nis, they have broken it",
    "start": "2184260",
    "end": "2190770"
  },
  {
    "text": "into segments and each satellite\ntransmits a one week long",
    "start": "2190770",
    "end": "2196560"
  },
  {
    "text": "segment of the full P Y code. So unlike the C/A\nwhere it's a short code",
    "start": "2196560",
    "end": "2202260"
  },
  {
    "text": "and each satellite has its\nown code unique to make P Y unique between\nthese two satellites,",
    "start": "2202260",
    "end": "2208200"
  },
  {
    "text": "they took this giant\n37 week long code. And then they chopped it\ninto one week long sections.",
    "start": "2208200",
    "end": "2215369"
  },
  {
    "text": "And every satellite repeatedly\ntransmits a one week long",
    "start": "2215370",
    "end": "2220590"
  },
  {
    "text": "section of the P Y code. It's encrypted.",
    "start": "2220590",
    "end": "2225660"
  },
  {
    "text": "So there's this\ncryptographic W-code that is XORed with P-code.",
    "start": "2225660",
    "end": "2231540"
  },
  {
    "text": "And that's why\nit's called P Y. So that's like the coded\nversion of the P.",
    "start": "2231540",
    "end": "2236940"
  },
  {
    "text": "And it's supposedly robust\nto interference and spoofing. And as I said, it broadcast in\nboth L1 and L2 frequency bands",
    "start": "2236940",
    "end": "2245640"
  },
  {
    "text": "simultaneously from\neach satellite. As for military use,\nit's close to the public.",
    "start": "2245640",
    "end": "2251640"
  },
  {
    "text": "Our devices, our\nphones, laptops, they cannot acquire or use\nthe P Y code for ranging",
    "start": "2251640",
    "end": "2260339"
  },
  {
    "text": "applications. It's only open to the military. And that's because this W-code\nthat is used for encryption",
    "start": "2260340",
    "end": "2267210"
  },
  {
    "text": "is only known for\nmilitary devices.  Any questions about-- yes.",
    "start": "2267210",
    "end": "2273735"
  },
  {
    "text": "[INAUDIBLE] then what is\nthat on the receiver side?",
    "start": "2273735",
    "end": "2278790"
  },
  {
    "text": "Like, the user, how\n[INAUDIBLE] know the range of-- Oh, we'll get to that. So for now-- that's\na great question.",
    "start": "2278790",
    "end": "2284829"
  },
  {
    "text": "So the question was, so the\nsatellites are transmitting these codes, which is\nthese binary streams, how does the receiver use them\nto do time of flight ranging?",
    "start": "2284830",
    "end": "2294090"
  },
  {
    "text": "And we'll get to that. That's a big, big part of\nthis chapter in the course. That, how do you go from this\nbitstream to time of flight",
    "start": "2294090",
    "end": "2303870"
  },
  {
    "text": "and then convert that to range. Great question,\nbut bear with me. For now, we're just\nfamiliarizing ourselves",
    "start": "2303870",
    "end": "2310320"
  },
  {
    "text": "with different codes\nand the terminology. But we'll get to the math soon. That's why this is\nthe boring part.",
    "start": "2310320",
    "end": "2316230"
  },
  {
    "text": "I want to get this\nover with quickly. So we get to the\ninteresting stuff.",
    "start": "2316230",
    "end": "2321510"
  },
  {
    "text": "And navigation signals. So as I said, there's--\noh, yes, question.",
    "start": "2321510",
    "end": "2327885"
  },
  {
    "text": "[INAUDIBLE] on one slide. Obviously, if the\nperiod is 37 weeks,",
    "start": "2327885",
    "end": "2334109"
  },
  {
    "text": "how is that immediately\nuseful if someone aren't receiving a signal from me? That's a great question.",
    "start": "2334110",
    "end": "2341407"
  },
  {
    "text": "I was told that I should\nrepeat the question so people watching the videos\nknow what the question was. So the question was,\nit's a 37 week long code",
    "start": "2341407",
    "end": "2351250"
  },
  {
    "text": "or for each satellite,\nit's one week long. So how is it useful? Should the receiver\nwait for an entire week",
    "start": "2351250",
    "end": "2357400"
  },
  {
    "text": "to receive one period of this\ncode and then use ranging? I mean, that's useless. Great question.",
    "start": "2357400",
    "end": "2363430"
  },
  {
    "text": "And no, they do not\nneed the full code. So the way the receivers\noperate for the P Y code",
    "start": "2363430",
    "end": "2369610"
  },
  {
    "text": "is that they can operate on\nshort sections of the code.",
    "start": "2369610",
    "end": "2375220"
  },
  {
    "text": "So they don't need to-- they actually wait and\nacquire the minimum amount",
    "start": "2375220",
    "end": "2380619"
  },
  {
    "text": "that gives them enough\nsignal to noise ratio that they can use for ranging.",
    "start": "2380620",
    "end": "2386049"
  },
  {
    "text": "And that's how it operates. The P Y code because-- again, it's for military--",
    "start": "2386050",
    "end": "2392950"
  },
  {
    "text": "a lot is not known to\nthe public about it. So the exact code, of\ncourse, is unknown.",
    "start": "2392950",
    "end": "2399970"
  },
  {
    "text": "But also some of the details\nof how exactly they like--",
    "start": "2399970",
    "end": "2406210"
  },
  {
    "text": "what is the minimum\nacquisition time that they need to\ndo one position fix",
    "start": "2406210",
    "end": "2412270"
  },
  {
    "text": "is not exactly known. But if I were to\nguess, it would be",
    "start": "2412270",
    "end": "2417339"
  },
  {
    "text": "at most equal to the 1\nmillisecond for the C/A code or possibly even less.",
    "start": "2417340",
    "end": "2423849"
  },
  {
    "text": "So the fact that it's\njust long, it just helps them in the cases where\nthe signal is very weak.",
    "start": "2423850",
    "end": "2431570"
  },
  {
    "text": "Then you can just\nintegrate or acquire a longer piece of this\ncode to boost your SNR,",
    "start": "2431570",
    "end": "2438220"
  },
  {
    "text": "and then you do acquisition. So they have this trade-off\nknob of if when the signals are",
    "start": "2438220",
    "end": "2444430"
  },
  {
    "text": "strong, just do very\nshort acquisitions and do ranging with that.",
    "start": "2444430",
    "end": "2450400"
  },
  {
    "text": "When the signal\nis very weak, just capture a longer section\nof this week long signal.",
    "start": "2450400",
    "end": "2455890"
  },
  {
    "text": "And then do ranging with\nthat if it makes sense. Great question.",
    "start": "2455890",
    "end": "2462970"
  },
  {
    "text": "All right, let's talk about\nthe legacy navigation signal. And the legacy navigation\nsignal it's called LNAV.",
    "start": "2462970",
    "end": "2470410"
  },
  {
    "text": "L for legacy. NAV for navigation. And as I said, these are\nhuman understandable signals.",
    "start": "2470410",
    "end": "2477200"
  },
  {
    "text": "So these are no\nnot ranging codes. These are mathematical\nbitsstreams. These are data packets\non the internet.",
    "start": "2477200",
    "end": "2483160"
  },
  {
    "text": "And it contains three key\npieces of information-- the LNAV signals.",
    "start": "2483160",
    "end": "2490280"
  },
  {
    "text": "One is the GPS date and time\nand the satellite status.",
    "start": "2490280",
    "end": "2495440"
  },
  {
    "text": "So the status satellite\nsays, oh, I'm healthy. I'm doing fine. You can trust this. Or when there's some\nfault condition happening,",
    "start": "2495440",
    "end": "2501760"
  },
  {
    "text": "they flag some bits. So the receiver knows this\nsatellite is out of order.",
    "start": "2501760",
    "end": "2506950"
  },
  {
    "text": "I should not use it for ranging. And then GPS date and time\nis just the date and time. When the packet is leaving\nor being transmitted,",
    "start": "2506950",
    "end": "2515019"
  },
  {
    "text": "they just timestamp it\nwith the GPS data and time. Then there is two other pieces\nof information-- one called",
    "start": "2515020",
    "end": "2521440"
  },
  {
    "text": "the ephemeris and one\ncalled the almanoc. Ephemeris is very important\nto us as we'll see. Because the ephemeris\nis essentially",
    "start": "2521440",
    "end": "2529120"
  },
  {
    "text": "the precise location of\nthe transmitting satellite at the time that it's\ntransmitting the signal.",
    "start": "2529120",
    "end": "2536560"
  },
  {
    "text": "So the satellite tells\nyou-- the satellite is aware of their position\nwith respect to the Earth.",
    "start": "2536560",
    "end": "2542710"
  },
  {
    "text": "And they tell you that at\nthis time that I'm sending you the signal, this is my exact\nposition relative to the Earth.",
    "start": "2542710",
    "end": "2549310"
  },
  {
    "text": "Now we'll see the\nway they send it. For very good reasons,\nit's not like XYZ location.",
    "start": "2549310",
    "end": "2557800"
  },
  {
    "text": "So they basically\ndescribe their trajectory to you, not their exact position\nbecause, the Earth is rotating.",
    "start": "2557800",
    "end": "2565359"
  },
  {
    "text": "These satellites are\norbiting the Earth. So by the time the\nsignal receives you,",
    "start": "2565360",
    "end": "2571000"
  },
  {
    "text": "the satellite has moved. And you sometimes need\nto account for that. So when you're doing\nyour ranging, so instead",
    "start": "2571000",
    "end": "2578050"
  },
  {
    "text": "of sending you an\nactual position, they describe their trajectory. And we'll see how it's done.",
    "start": "2578050",
    "end": "2583119"
  },
  {
    "text": "It's very interesting. And then the\nalmanoc is basically the information about the\nrest of the satellites",
    "start": "2583120",
    "end": "2589569"
  },
  {
    "text": "in the constellation. And it tells you it's very\nlow resolution information.",
    "start": "2589570",
    "end": "2595270"
  },
  {
    "text": "So roughly it tells you\nwhere the other satellites",
    "start": "2595270",
    "end": "2600670"
  },
  {
    "text": "are orbiting and are\nthey healthy or not. It's just used to\nhigh level check",
    "start": "2600670",
    "end": "2607390"
  },
  {
    "text": "what the status of\nthe GPS satellites are as we receive them.",
    "start": "2607390",
    "end": "2613420"
  },
  {
    "text": "Now, I want to clarify one\nthing that I pointed out later,",
    "start": "2613420",
    "end": "2618500"
  },
  {
    "text": "which is that-- OK, so we have ranging codes,\nand we have navigation signals. And both of these are modulating\nthe exact same carrier.",
    "start": "2618500",
    "end": "2627610"
  },
  {
    "text": "So how does the receiver\ndistinguish these? If you just multiply two\nof these binary sequences",
    "start": "2627610",
    "end": "2633930"
  },
  {
    "text": "or if I take this-- so if that's my x of t.",
    "start": "2633930",
    "end": "2638990"
  },
  {
    "text": "And then if I have my D of\nt, which is the LNAV signal.",
    "start": "2638990",
    "end": "2644840"
  },
  {
    "text": "All right, so my x of t is\nsay the course acquisition. My D of t is LNAV-- another binary stream.",
    "start": "2644840",
    "end": "2651380"
  },
  {
    "text": " 0, 1, 1-- I mean, the\nspecifics doesn't matter.",
    "start": "2651380",
    "end": "2659840"
  },
  {
    "text": "But if I just multiply\nx of t times D of t",
    "start": "2659840",
    "end": "2666140"
  },
  {
    "text": "and just send that\nto the receiver, how does the receiver,\nD Multiply x--",
    "start": "2666140",
    "end": "2671270"
  },
  {
    "text": "and because the receiver needs\nto separate out, what's x of t? And what's D of t?",
    "start": "2671270",
    "end": "2676930"
  },
  {
    "text": "Because x is used for range. And D as we said,\nit has for instance, the ephemeris data in it.",
    "start": "2676930",
    "end": "2682330"
  },
  {
    "text": "And it uses D to find the\nposition of the satellite. It uses x to find the\nrange to the satellite.",
    "start": "2682330",
    "end": "2687730"
  },
  {
    "text": "So it needs to D\nmultiple x those. But if I just multiply these\nout, you cannot go back.",
    "start": "2687730",
    "end": "2693730"
  },
  {
    "text": "It's a multiplication. So how does that work? It's actually very simple. The way it works is\nthat as you see here,",
    "start": "2693730",
    "end": "2702190"
  },
  {
    "text": "the baud rate or the\nbitrate of these two signals",
    "start": "2702190",
    "end": "2707410"
  },
  {
    "text": "is vastly different. So your course\nacquisition code-- which is actually the\nslowest code that we send--",
    "start": "2707410",
    "end": "2713260"
  },
  {
    "text": "as I said, is at 1.023\nmegabits per second.",
    "start": "2713260",
    "end": "2718630"
  },
  {
    "text": "And then the LNAV is only\nat 50 bits per second. So one bit of the LNAV takes\n1 over 20 milliseconds.",
    "start": "2718630",
    "end": "2731440"
  },
  {
    "text": "So for a whole duration\nof 20 milliseconds, your LNAV is just\neither at 1 or 0.",
    "start": "2731440",
    "end": "2738370"
  },
  {
    "text": "Or the binary modulated version\nis at plus 1, or minus 1, which is equal to\n20 full C/A codes.",
    "start": "2738370",
    "end": "2748240"
  },
  {
    "text": "So basically just by looking\nat different time scales, the receiver can distinguish\nthe LNAV from the C/A.",
    "start": "2748240",
    "end": "2754990"
  },
  {
    "text": "If you just take a one\nsecond time window-- 1 millisecond time window during\nthat, you can ignore the D of t",
    "start": "2754990",
    "end": "2764860"
  },
  {
    "text": "because that's\njust the constant. And the variations\nthat are fast are just your course acquisition code.",
    "start": "2764860",
    "end": "2771280"
  },
  {
    "text": "And the other way around if you\nlook at very, very long time scales, then you can figure\nout what the LNAV message is.",
    "start": "2771280",
    "end": "2778309"
  },
  {
    "text": "So that's how\nbasically it's done. But this is how the transmitter\nbasically combines the two.",
    "start": "2778310",
    "end": "2785290"
  },
  {
    "text": "So you modular to add or XOR,\nthe two binary sequences,",
    "start": "2785290",
    "end": "2790780"
  },
  {
    "text": "and then just use one BPSK\nmodulator to transmit.",
    "start": "2790780",
    "end": "2795910"
  },
  {
    "text": "This is exactly\nmathematically by the way equal to what we had\na few slides before.",
    "start": "2795910",
    "end": "2801349"
  },
  {
    "text": "So what you get out of the\nmodulator, this broadcast signal here, is actually\nx of t times D of t.",
    "start": "2801350",
    "end": "2810830"
  },
  {
    "text": "But where your x and D\nif you individually BPSK modulate them.",
    "start": "2810830",
    "end": "2816300"
  },
  {
    "text": "So if you make your x of t go\nfrom 0, 1, 2, plus minus 1.",
    "start": "2816300",
    "end": "2823130"
  },
  {
    "text": "And also your D of t\nmodulated to plus minus 1 and then multiply them. That's exactly what you\nget out of this modulator.",
    "start": "2823130",
    "end": "2829257"
  },
  {
    "text": "This is another way. I mean, different\nrepresentation, same math. You can either x all of them\nand then just use one modulator.",
    "start": "2829257",
    "end": "2836180"
  },
  {
    "text": "Or individually\nmodulate them and then multiply the outputs of the\ntwo modulators-- exact same.",
    "start": "2836180",
    "end": "2841490"
  },
  {
    "text": "In practice, usually, this\nis the implementation. Any qu-- yes.",
    "start": "2841490",
    "end": "2846615"
  },
  {
    "text": "[INAUDIBLE] over\ntime, what information is being conveyed through\nthe course acquisition code? What information?",
    "start": "2846615",
    "end": "2852140"
  },
  {
    "text": "So question, what information\nis being conveyed over the C/A or course acquisition code?",
    "start": "2852140",
    "end": "2857839"
  },
  {
    "text": "So there is no human\nunderstandable information. It's just a binary\nsequence seemingly random",
    "start": "2857840",
    "end": "2866599"
  },
  {
    "text": "of zeros and ones. And that's why it's\ncalled a pseudorandom noise, PRN sequence.",
    "start": "2866600",
    "end": "2873650"
  },
  {
    "text": "And we will see how from this\npseudorandom sequence of zeros",
    "start": "2873650",
    "end": "2880109"
  },
  {
    "text": "and ones, you can\nactually extract time of flight information and\nthen convert that to range.",
    "start": "2880110",
    "end": "2885839"
  },
  {
    "text": "So the CA, again, there\nis no human understandable information in it.",
    "start": "2885840",
    "end": "2891690"
  },
  {
    "text": "But mathematically,\nit's designed such that with some\nmathematical operation, you can extract time of\nflight and then range.",
    "start": "2891690",
    "end": "2900420"
  },
  {
    "text": "Again, it's very\nvague right now. But we'll get to it. We'll get to very specific\nlike mathematical description.",
    "start": "2900420",
    "end": "2906690"
  },
  {
    "text": "And LNAV is just human readable. It's literally numbers and\nthings that one can understand.",
    "start": "2906690",
    "end": "2918840"
  },
  {
    "text": "Any other questions? No, all right. So let's quickly talk\nabout this modernization",
    "start": "2918840",
    "end": "2924990"
  },
  {
    "text": "that I told you about. So GPS modernization was just\nthis major, major overhaul",
    "start": "2924990",
    "end": "2931140"
  },
  {
    "text": "of the GPS system across\nthe board from the hardware to the algorithms, the\ncodes that were sent,",
    "start": "2931140",
    "end": "2937800"
  },
  {
    "text": "what frequencies were used,\nground systems, satellites. All of it just went through\nthis big modernization effort,",
    "start": "2937800",
    "end": "2946480"
  },
  {
    "text": "which was one of the best things\ntechnology-wise that the US",
    "start": "2946480",
    "end": "2951600"
  },
  {
    "text": "government ever did. Which was basically, they\nauthorized this modernization",
    "start": "2951600",
    "end": "2956910"
  },
  {
    "text": "effort. It happened in year 2000. And it's also referred\nto as GPS three.",
    "start": "2956910",
    "end": "2963060"
  },
  {
    "text": "So third gen GPS is\nthis modern GPS system. So again, there were new ground\nstations, new satellites,",
    "start": "2963060",
    "end": "2970260"
  },
  {
    "text": "new civil and military\nboth navigation signals, and also ranging codes.",
    "start": "2970260",
    "end": "2976770"
  },
  {
    "text": "And for instance, one of the\nbig things that was added was forward error\ncorrection, which",
    "start": "2976770",
    "end": "2983910"
  },
  {
    "text": "really helps in cases where\nyou have weak signals. If you have forward error\ncorrection, you can recover.",
    "start": "2983910",
    "end": "2990570"
  },
  {
    "text": "And I'll talk about what new\ncivilian and military codes",
    "start": "2990570",
    "end": "2996690"
  },
  {
    "text": "were added. But possibly, the\nmost important thing that happened as part\nof the GPS modernization",
    "start": "2996690",
    "end": "3003829"
  },
  {
    "text": "was the end of what was called\nthe selective availability or SA. So what selective\navailability was that pre-2000",
    "start": "3003830",
    "end": "3014120"
  },
  {
    "text": "for civilian applications,\nthe GPS signals were intentionally corrupted.",
    "start": "3014120",
    "end": "3020030"
  },
  {
    "text": "So there was some jitter\nadded to the GPS clock that was used for\ncivilian applications.",
    "start": "3020030",
    "end": "3025730"
  },
  {
    "text": "And basically,\nthat was done such",
    "start": "3025730",
    "end": "3031970"
  },
  {
    "text": "that the civilian GPS\nwas not super accurate. Because the government was not\nsure what types of applications",
    "start": "3031970",
    "end": "3038688"
  },
  {
    "text": "people would do with\nthis technology. Remember, this was a\nvery new technology. And the government\nwas being conservative",
    "start": "3038688",
    "end": "3044750"
  },
  {
    "text": "with the civilian use of it. So they were intentionally\nmessing with the GPS signals",
    "start": "3044750",
    "end": "3050270"
  },
  {
    "text": "by this thing called the\nselective availability. And the GPS really\nby today's standard,",
    "start": "3050270",
    "end": "3056900"
  },
  {
    "text": "pre-2000 GPS for civilian\napplications was useless. It was this super course.",
    "start": "3056900",
    "end": "3062600"
  },
  {
    "text": "You could roughly tell, oh,\nI'm like within these five blocks of the town. So you could not do things\nlike Google Maps or anything",
    "start": "3062600",
    "end": "3071690"
  },
  {
    "text": "really useful with it. At 2000, the\ngovernment agreed that, OK, let's end\nselective availability",
    "start": "3071690",
    "end": "3076920"
  },
  {
    "text": "if we're going to make\nthe civilian GPS almost as accurate as the military--\ninterestingly, as we'll see.",
    "start": "3076920",
    "end": "3083780"
  },
  {
    "text": "And then, that really was\nthis really, really good thing that happened and that\nblew up these applications",
    "start": "3083780",
    "end": "3090230"
  },
  {
    "text": "that we see around us today. Where GPS is extremely,\nextremely useful to the point that even indoors\nsometimes in a big building,",
    "start": "3090230",
    "end": "3098480"
  },
  {
    "text": "you can use your GPS\nto navigate around. And the SA availability.",
    "start": "3098480",
    "end": "3105210"
  },
  {
    "text": "So it was turned off. So disabled and all\nthe satellites in orbit at the same time in year 2000.",
    "start": "3105210",
    "end": "3111349"
  },
  {
    "text": "And the block three satellites--\nthese new satellites that are being launched\nnow-- they don't even have that capability.",
    "start": "3111350",
    "end": "3117539"
  },
  {
    "text": "So for good, they killed it,\nwhich is very, very nice. ",
    "start": "3117540",
    "end": "3123650"
  },
  {
    "text": "A little more boring stuff. I want to quickly tell you\nabout these modern signals that",
    "start": "3123650",
    "end": "3130369"
  },
  {
    "text": "got introduced after year 2000. So there's a bunch of\nnew ranging signals and a bunch of new navigation\nsignals that were introduced.",
    "start": "3130370",
    "end": "3138380"
  },
  {
    "text": "And specifically\nfor ranging signals, three new ranging codes\nfor civilian applications",
    "start": "3138380",
    "end": "3145520"
  },
  {
    "text": "were introduced-- called L2C, L1C, and L5.",
    "start": "3145520",
    "end": "3151790"
  },
  {
    "text": "And one new military\nranging code was introduced and a few different navigation\nsignals were introduced.",
    "start": "3151790",
    "end": "3161329"
  },
  {
    "text": "Again, let's not spend\ntoo much time on this because it's really\njust the specs",
    "start": "3161330",
    "end": "3168710"
  },
  {
    "text": "not really quite relevant. I included these\nfor completeness. But there is an\nL2C which is called",
    "start": "3168710",
    "end": "3175040"
  },
  {
    "text": "the second civilian signals. As the name suggests,\nthis one is transmitted on the L2 frequency band.",
    "start": "3175040",
    "end": "3181240"
  },
  {
    "text": "Contains two\ndifferent codes that are multiplexed on\nthe same frequency",
    "start": "3181240",
    "end": "3187330"
  },
  {
    "text": "called civil moderate\nand civil long codes. And these are multiplexed at\n1.023 megabits per second.",
    "start": "3187330",
    "end": "3195700"
  },
  {
    "text": "One is at 20\nmillisecond long code. The other one is 1.5\nsecond long code.",
    "start": "3195700",
    "end": "3201160"
  },
  {
    "text": "Now at this point,\nyou might have seen a couple of interesting things. One is that all\nthe codes we have",
    "start": "3201160",
    "end": "3207700"
  },
  {
    "text": "talked about in\nterms of the bitrate, there are some multiple of 1023.",
    "start": "3207700",
    "end": "3215020"
  },
  {
    "text": "So we had C/A at 1.023\nmegabits per second. Then there was P Y at 10.23\nwhich is interestingly 2",
    "start": "3215020",
    "end": "3224860"
  },
  {
    "text": "to the 10 minus 1. And that's not a coincidence. We'll see why that's\none of the magic numbers",
    "start": "3224860",
    "end": "3230960"
  },
  {
    "text": "of these number of bits. So the power of 2\nminus 1 is really",
    "start": "3230960",
    "end": "3236480"
  },
  {
    "text": "deeply rooted into\nthe mathematics of how these ranging codes work. And we'll talk about that.",
    "start": "3236480",
    "end": "3241860"
  },
  {
    "text": "But these are not\narbitrarily decided. These are determined by\nthe mathematics of how",
    "start": "3241860",
    "end": "3247250"
  },
  {
    "text": "these ranging codes work. The other one is\nthat, as you see, the main difference\nbetween these codes is--",
    "start": "3247250",
    "end": "3254300"
  },
  {
    "text": "well, there's two things. One is how fast they are in\nterms of the bits per second.",
    "start": "3254300",
    "end": "3260599"
  },
  {
    "text": "The military code was 10\ntimes faster than the course acquisition code. These L2C almost the same speed.",
    "start": "3260600",
    "end": "3267380"
  },
  {
    "text": "And then there's\nhow long they are. So there's two\nfactors for each code. And again later, we'll\nsee both of these",
    "start": "3267380",
    "end": "3275030"
  },
  {
    "text": "are important for the\naccuracy of how accurately you",
    "start": "3275030",
    "end": "3280070"
  },
  {
    "text": "can determine your\nrange to the satellite and also the length of the code. So that's what the speed\nfaster codes are typically",
    "start": "3280070",
    "end": "3287630"
  },
  {
    "text": "more accurate. You can find your\nrange more accurately. And then the length of the\ncode, as I briefly mentioned,",
    "start": "3287630",
    "end": "3293060"
  },
  {
    "text": "helps you with longer\nintegration times. Which means, when\nthe signal is weak,",
    "start": "3293060",
    "end": "3298460"
  },
  {
    "text": "a longer code helps you\ndo ranging, because you have more signal to work with. You can integrate it for\nlonger and recover signal out",
    "start": "3298460",
    "end": "3306260"
  },
  {
    "text": "of noise. And that's why you\nhave these difference. So there's like the civil\nmoderate signal which",
    "start": "3306260",
    "end": "3312200"
  },
  {
    "text": "is only 10,230 chips\nand then there's the civil long code which is\nhundreds of thousands of chips.",
    "start": "3312200",
    "end": "3319349"
  },
  {
    "text": "So the longer one it's\nat the same chip rate-- so accuracy wise, it's the same.",
    "start": "3319350",
    "end": "3325700"
  },
  {
    "text": "But it helps you when\nthe signal is weak because you have more of these\nchips to work with to recover.",
    "start": "3325700",
    "end": "3333740"
  },
  {
    "text": "Again, each satellite\nuses unique codes that are orthogonal. And this has almost 3 dB higher\nSNR than the course acquisition",
    "start": "3333740",
    "end": "3341030"
  },
  {
    "text": "code at 2.3 dB less power. So it's quite a lot better\nin terms of SNR capabilities.",
    "start": "3341030",
    "end": "3349100"
  },
  {
    "text": "And as of two years ago,\nthere were 23 GPS satellites that the legacy code\nwas enabled on them.",
    "start": "3349100",
    "end": "3357140"
  },
  {
    "text": "They tend to not-- when it comes to\nthese big upgrades, they tend to not flip the\nswitch on all satellites",
    "start": "3357140",
    "end": "3363740"
  },
  {
    "text": "at the same time. They like do it over a\nnumber of years just to make",
    "start": "3363740",
    "end": "3369740"
  },
  {
    "text": "sure there's no glitches. They don't want to\njam everybody's GPS",
    "start": "3369740",
    "end": "3375950"
  },
  {
    "text": "at the same time or\nsomething like that. They are conservative with that. So it takes years.",
    "start": "3375950",
    "end": "3381770"
  },
  {
    "text": "Although the modernization\nwas approved in 2000, these new signals are not\navailable on all satellites.",
    "start": "3381770",
    "end": "3389990"
  },
  {
    "text": "Also not all receivers\nyet support them. So chances are many of the-- especially cheaper GPS\nreceivers we use today,",
    "start": "3389990",
    "end": "3397580"
  },
  {
    "text": "they're still working\nwith legacy signals. Because those signals\nare still transmitted, and they're easier to work with.",
    "start": "3397580",
    "end": "3404660"
  },
  {
    "text": "Then there's a third\ncivilian signal called L5. Same story. Again, it's two different\ncodes transmitted",
    "start": "3404660",
    "end": "3411859"
  },
  {
    "text": "on the in-phase and quadrature\ncomponents of the L5 carrier.",
    "start": "3411860",
    "end": "3417140"
  },
  {
    "text": "These are also at 10.23\nmegabits per second. 1 millisecond long\nlike the C/A code.",
    "start": "3417140",
    "end": "3422840"
  },
  {
    "text": "And there is basically some\nsynchronization sequence",
    "start": "3422840",
    "end": "3428870"
  },
  {
    "text": "also added to them to help\nthe receiver more easily synchronize their\ntimes to the GPS.",
    "start": "3428870",
    "end": "3436730"
  },
  {
    "text": "And then these also have a 10x\nmore bandwidth, 3 dB higher",
    "start": "3436730",
    "end": "3442130"
  },
  {
    "text": "power. And as of last year,\nthis was broadcast from 17 GPS satellites.",
    "start": "3442130",
    "end": "3449150"
  },
  {
    "text": "And just now, we're seeing\nsome consumer devices using the L5 code.",
    "start": "3449150",
    "end": "3455720"
  },
  {
    "text": "What's very important\nwith the L5 code is that it has\nvery, very good SNR.",
    "start": "3455720",
    "end": "3461970"
  },
  {
    "text": "So it's good for basically\nsecure and robust localization",
    "start": "3461970",
    "end": "3467780"
  },
  {
    "text": "for safety of life applications. So people, for instance,\nwho do extreme sports--",
    "start": "3467780",
    "end": "3472940"
  },
  {
    "text": "people who go mountain\nclimbing or they go hiking in very remote areas-- they usually have these\nfancier GPS devices with them,",
    "start": "3472940",
    "end": "3481170"
  },
  {
    "text": "which are L5 enabled. Because those are the ones\nthat can save your life",
    "start": "3481170",
    "end": "3486680"
  },
  {
    "text": "in very remote applications\nwhere GPS reception could be pretty poor.",
    "start": "3486680",
    "end": "3492569"
  },
  {
    "text": "So that's important. And just now as of\nlast year or so,",
    "start": "3492570",
    "end": "3498210"
  },
  {
    "text": "I've seen a few more cheaper\nconsumer grade devices",
    "start": "3498210",
    "end": "3503869"
  },
  {
    "text": "that claim they are L5 enabled,\nwhich is very interesting.",
    "start": "3503870",
    "end": "3509780"
  },
  {
    "text": "And then there's fourth\ncivilian signal, L1C. This is transmitted on the L1\ncarrier as the name suggests--",
    "start": "3509780",
    "end": "3518540"
  },
  {
    "text": "like the L5. This is also two codes on\nmodulated on the I and Q",
    "start": "3518540",
    "end": "3524059"
  },
  {
    "text": "components of the carrier. Both are 10 milliseconds long. Same number of chips.",
    "start": "3524060",
    "end": "3529099"
  },
  {
    "text": "What's different\nabout the L1C, it uses a different\ntype of modulation. So it's not binary\nphase-shift key.",
    "start": "3529100",
    "end": "3535670"
  },
  {
    "text": "It's some different\ntype of modulation which is called binary\noffset carrier or BOC.",
    "start": "3535670",
    "end": "3541069"
  },
  {
    "text": "And again, you see these\nare slight variations they're doing on these codes. Each adds a benefit\nin a certain use case.",
    "start": "3541070",
    "end": "3548750"
  },
  {
    "text": "Some are good for low SNR cases. Some have better\naccuracy for arranging.",
    "start": "3548750",
    "end": "3554480"
  },
  {
    "text": "Again, the BOC is\nmore energy efficient. It's just these\nslight variations",
    "start": "3554480",
    "end": "3560690"
  },
  {
    "text": "that they're doing to\ndifferent modern codes just to ensure more\navailability, more",
    "start": "3560690",
    "end": "3566420"
  },
  {
    "text": "universality across use\ncases, across locations, across devices. That's basically the idea.",
    "start": "3566420",
    "end": "3572870"
  },
  {
    "text": "But underlying, if you abstract\nout all the little details of what the code is called, and\nwhat exact modulation is used,",
    "start": "3572870",
    "end": "3580940"
  },
  {
    "text": "and go down to the core\nmathematical principle of how these operate, as we'll see,\nthey're exactly the same--",
    "start": "3580940",
    "end": "3587630"
  },
  {
    "text": "identical. So we will just look at the C/A\nbasically because everything else is identical to that.",
    "start": "3587630",
    "end": "3595520"
  },
  {
    "text": "And there's a new\nmilitary code called M. It's absolutely almost\nnothing known about it",
    "start": "3595520",
    "end": "3602119"
  },
  {
    "text": "except that it's at 5.1 megabits\nper second BOC modulated. And it has a new\nnavigation signal",
    "start": "3602120",
    "end": "3611960"
  },
  {
    "text": "associated with it called MNAV. M for military. And it's broadcast on\nL1 and L2 frequencies.",
    "start": "3611960",
    "end": "3620329"
  },
  {
    "text": "Other than that, there's\nreally, really not much known about the M code. One interesting thing\nwith the M code is that--",
    "start": "3620330",
    "end": "3628140"
  },
  {
    "text": "so the way these satellites\nbroadcast their signals is they have antennas that are very\nwide in terms of their beam.",
    "start": "3628140",
    "end": "3638940"
  },
  {
    "text": "So if this is the Earth and this\nis your little GPS satellite",
    "start": "3638940",
    "end": "3645579"
  },
  {
    "text": "orbiting-- pardon my bad drawing. So generally, the antennas\nthey have-- because they",
    "start": "3645580",
    "end": "3653619"
  },
  {
    "text": "want to have as much\ncoverage as possible. So they have these super\nwide antenna patterns",
    "start": "3653620",
    "end": "3658960"
  },
  {
    "text": "that cover as much surface as\nis visible to them on the Earth.",
    "start": "3658960",
    "end": "3665980"
  },
  {
    "text": "So they are very wide. Now, what they\ndid with the block three satellites\nfor the M code--",
    "start": "3665980",
    "end": "3672640"
  },
  {
    "text": "they have an additional\nantenna which can do a much tighter\nlocalized beam transmit just",
    "start": "3672640",
    "end": "3680770"
  },
  {
    "text": "for the M code. So it's almost like a separate\nantenna that does that. And this one can be\nmuch more localized",
    "start": "3680770",
    "end": "3690830"
  },
  {
    "text": "which means it would have much\nhigher power density per area,",
    "start": "3690830",
    "end": "3696330"
  },
  {
    "text": "which means much higher SNR. So what I can do\nis, I think, they can boost the SNR by 20 dB,\nwhich is a factor of 100.",
    "start": "3696330",
    "end": "3703940"
  },
  {
    "text": "It's a lot for\nmilitary applications. And in very localized\nareas which is, of course,",
    "start": "3703940",
    "end": "3710250"
  },
  {
    "text": "a huge, huge military advantage\nthat the US military has.",
    "start": "3710250",
    "end": "3716150"
  },
  {
    "text": "And then, there is-- as I said--\nnew navigation signals also",
    "start": "3716150",
    "end": "3721400"
  },
  {
    "text": "as part of the\nGPU modernization. The core idea is the same. So the navigation\nsignals, same information.",
    "start": "3721400",
    "end": "3729470"
  },
  {
    "text": "They send you the GPS time. There's an ephemeris which\ntells you where the GPS is",
    "start": "3729470",
    "end": "3734630"
  },
  {
    "text": "or the orbit trajectory\nof the GPS satellite. And then there is\nan almanoc which",
    "start": "3734630",
    "end": "3740540"
  },
  {
    "text": "tells you the status of the\nrest of the satellites in orbit. But the modern ones,\nagain, they're better.",
    "start": "3740540",
    "end": "3747650"
  },
  {
    "text": "They have error correction. There's some changes or some\nupgrades to the data structure.",
    "start": "3747650",
    "end": "3755420"
  },
  {
    "text": "So they're packet based\ninstead of frame based. Honestly, I don't know\nwhy that's better.",
    "start": "3755420",
    "end": "3761150"
  },
  {
    "text": "But apparently, it's better. And also, for instance,\nthe almanoc now",
    "start": "3761150",
    "end": "3768410"
  },
  {
    "text": "supports up to 64 satellites. So in case later they decide\nto put much more GPS satellites",
    "start": "3768410",
    "end": "3774800"
  },
  {
    "text": "in orbit, the almanoc\ndata frame has now the capability of providing the\nstatus of up to 64 satellites.",
    "start": "3774800",
    "end": "3783410"
  },
  {
    "text": "And there is also a CNAV-2.",
    "start": "3783410",
    "end": "3788420"
  },
  {
    "text": "Again, another navigation\nsignal for civilian use",
    "start": "3788420",
    "end": "3793819"
  },
  {
    "text": "modulated onto the L1C code. All of these are very,\nvery, very similar.",
    "start": "3793820",
    "end": "3799069"
  },
  {
    "text": "Slight variations in terms of\nwhat type of error correction coding they're using or\nwhat is the exact bitrate.",
    "start": "3799070",
    "end": "3806090"
  },
  {
    "text": "But in principle, they\nare all transmitting the same information. Which enables you to determine\nmost importantly the location",
    "start": "3806090",
    "end": "3814700"
  },
  {
    "text": "of the satellite\nbut also information about the rest of the\nconstellation, and the GPS time, and so on, and so forth.",
    "start": "3814700",
    "end": "3821130"
  },
  {
    "text": "And then there is MNAV for\nmilitary navigation signal. We don't know any details\nexcept that it is packet based",
    "start": "3821130",
    "end": "3829190"
  },
  {
    "text": "and uses some type of\nforward error correction. Enough boring stuff.",
    "start": "3829190",
    "end": "3835559"
  },
  {
    "text": "Any questions? Now, again, you don't\nneed to remember or know",
    "start": "3835560",
    "end": "3842940"
  },
  {
    "text": "any of these details. It's a thing that I wanted\nyou to go through it once.",
    "start": "3842940",
    "end": "3848860"
  },
  {
    "text": "So these terms at\nleast are familiar. So if you hear like, oh,\nthere's like L2C coding signal.",
    "start": "3848860",
    "end": "3857130"
  },
  {
    "text": "And you say, yeah,\nI've heard of it. I think I know what you're\ntalking about-- but mostly for reference.",
    "start": "3857130",
    "end": "3862690"
  },
  {
    "text": "So if there're specific\nthing you're working on-- I don't if you're working on\nsome next gen GPS receiver",
    "start": "3862690",
    "end": "3872370"
  },
  {
    "text": "or some other project-- then you can refer to these\nand get the specifics of these",
    "start": "3872370",
    "end": "3878370"
  },
  {
    "text": "ranging codes that you want. This is the same\ntable we saw before.",
    "start": "3878370",
    "end": "3884329"
  },
  {
    "text": "But hopefully, at least, these\nnames are familiar to you. So as you see now if you\nlook at the modernized one,",
    "start": "3884330",
    "end": "3891859"
  },
  {
    "text": "L1 is pretty busy. We are transmitting a\nlot of stuff on the L1. So there's still the\nlegacy military P Y code.",
    "start": "3891860",
    "end": "3898730"
  },
  {
    "text": "There's a modern military code. There's the L1D which\nis the data part",
    "start": "3898730",
    "end": "3904819"
  },
  {
    "text": "of the L1C on the interface. And then on the\nquadrature of L1, we have the legacy\nC/A code for civilian.",
    "start": "3904820",
    "end": "3913370"
  },
  {
    "text": "And then the modern\nL1 also for civilian. L2 also not as busy but\nthere's a bunch of things.",
    "start": "3913370",
    "end": "3920900"
  },
  {
    "text": "Their in-phase is\nmilitary only-- the legacy and the modern. And the quadrature\nis for civilian only.",
    "start": "3920900",
    "end": "3927350"
  },
  {
    "text": "And then L304 again,\nas I said, they're not used for localization.",
    "start": "3927350",
    "end": "3933050"
  },
  {
    "text": "But they're reserved for\nsome other applications. And then L5 purely\nfor civilian use",
    "start": "3933050",
    "end": "3940339"
  },
  {
    "text": "both in-phase and quadrature. And also it's important for\nthose safety of life type",
    "start": "3940340",
    "end": "3945799"
  },
  {
    "text": "applications. It has the best SNR\ncapabilities and some safety features associated with it.",
    "start": "3945800",
    "end": "3953700"
  },
  {
    "text": "I think it's also good to\ntake a look at what the power spectral densities of\nthese signals look like.",
    "start": "3953700",
    "end": "3960810"
  },
  {
    "text": "So the way to look at\nthese plots here-- let's look at just this\none, top left one.",
    "start": "3960810",
    "end": "3966860"
  },
  {
    "text": "So this is showing, as\na function of frequency,",
    "start": "3966860",
    "end": "3972150"
  },
  {
    "text": "the power of these\ndifferent coding signals that are modulated\nonto the L1 carrier.",
    "start": "3972150",
    "end": "3978860"
  },
  {
    "text": "So the way to read this\nis, there's two planes. One here, the vertical plane,\nis your ichannel or in-phase",
    "start": "3978860",
    "end": "3992060"
  },
  {
    "text": "channel. And then the horizontal one\nis your quadrature channel.",
    "start": "3992060",
    "end": "3997220"
  },
  {
    "text": "And then this axis\nhere is frequency. So zero is the center\nfrequency around carrier.",
    "start": "3997220",
    "end": "4004120"
  },
  {
    "text": "So this one is for L1. So what zero really\nis, it's not DC. It's the center L1 frequency.",
    "start": "4004120",
    "end": "4010690"
  },
  {
    "text": "And then around\nit, as you see, we are roughly using\nabout a 30 megahertz",
    "start": "4010690",
    "end": "4016300"
  },
  {
    "text": "bandwidth plus minus 15. That's how much bandwidth\nwe are roughly using. And each color corresponds\nto a different code that's",
    "start": "4016300",
    "end": "4025270"
  },
  {
    "text": "being transmitted say on L1. And there are some interesting\nproperties, I think.",
    "start": "4025270",
    "end": "4030520"
  },
  {
    "text": "Let's just inspect two of them. So if you look at this darker\ngreen one, that's our C/A code.",
    "start": "4030520",
    "end": "4038260"
  },
  {
    "text": "And if you remember, it's a\nslow-- it's one of these lowest code at 1 megabit per second.",
    "start": "4038260",
    "end": "4045950"
  },
  {
    "text": "And as you might remember\nfrom signal processing or communication courses, slower\nsignals have less bandwidth.",
    "start": "4045950",
    "end": "4054310"
  },
  {
    "text": "So how fast the\nbitrate of your signal directly correlates\nwith the bandwidth.",
    "start": "4054310",
    "end": "4059650"
  },
  {
    "text": "And as you see, the\ngreen one is narrow. It has this very narrow\nmain peak which is actually",
    "start": "4059650",
    "end": "4065080"
  },
  {
    "text": "just around 1 megahertz-- 1 to 2 megahertz. And then it has a bunch\nof side lobes around it--",
    "start": "4065080",
    "end": "4071200"
  },
  {
    "text": "quite a bit down\nin terms of power. And if you compare that to\none of the fast codes-- say,",
    "start": "4071200",
    "end": "4076420"
  },
  {
    "text": "pick your P Y code. This one here which\nis darker brown color.",
    "start": "4076420",
    "end": "4082300"
  },
  {
    "text": "P Y code, if you remember,\nthat was 10 times faster. That was modulated at\n10 megabits per second.",
    "start": "4082300",
    "end": "4088490"
  },
  {
    "text": "And here you see the\nmain lobe of the P Y code is much, much\nwider than the C/A.",
    "start": "4088490",
    "end": "4094300"
  },
  {
    "text": "So at least, qualitatively,\nthis make sense. As you make your code faster,\nit takes up more bandwidth",
    "start": "4094300",
    "end": "4101380"
  },
  {
    "text": "or takes up more spectrum. I should probably have\nused this one because it's",
    "start": "4101380",
    "end": "4109028"
  },
  {
    "text": "less busy but same idea. Again, here you have your\nM code that is pretty wide,",
    "start": "4109029",
    "end": "4114219"
  },
  {
    "text": "because that's a fast code. And then you have your L2C\ncode, also, a slow code. And that's the main pick\nis much, much narrower.",
    "start": "4114220",
    "end": "4120549"
  },
  {
    "text": "But again, this is\njust qualitatively you see how the spectrum\nis used and how much power",
    "start": "4120550",
    "end": "4125589"
  },
  {
    "text": "and bandwidth each\nof these codes are taking on\ndifferent frequencies. So we have L1, we\nhave L2, and we",
    "start": "4125590",
    "end": "4132729"
  },
  {
    "text": "have L5 here, which is the\nleast cluttered, I would say.",
    "start": "4132729",
    "end": "4138278"
  },
  {
    "text": "And then L3, L4 are not\nusing full ranging as of now. So that's why there is\nno picture for them.",
    "start": "4138279",
    "end": "4145239"
  },
  {
    "text": "Questions? No. So let's continue.",
    "start": "4145240",
    "end": "4151880"
  },
  {
    "text": "There is two different\ntypes of GPS services which directly relates to these\nranging and navigation signals",
    "start": "4151880",
    "end": "4162350"
  },
  {
    "text": "that we talked about. One is called PPS or\nprecise positioning service. So this is military stuff.",
    "start": "4162350",
    "end": "4169670"
  },
  {
    "text": "So it's enabled--\nthe ranging is done with the military\ncodes which is either P Y or the modern version\nthat is the M code.",
    "start": "4169670",
    "end": "4176120"
  },
  {
    "text": "And then the\nnavigation of it uses the military-- again, either\nthe modern MNAV or the legacy",
    "start": "4176120",
    "end": "4182990"
  },
  {
    "text": "LNAV for military. And this is highly encrypted. And only authorized\nmilitary devices can use it.",
    "start": "4182990",
    "end": "4190399"
  },
  {
    "text": "And has all safety\nmilitary grade features like anti-spoofing, and\nso on, and so forth.",
    "start": "4190399",
    "end": "4196440"
  },
  {
    "text": "And the nominal accuracy\nof it is 2 to 9 meters. So that's your\nlocalization accuracy.",
    "start": "4196440",
    "end": "4201690"
  },
  {
    "text": "So you can localize\nyourself within a circle or a sphere of a radius\nthat is 2 to 9 meters.",
    "start": "4201690",
    "end": "4209390"
  },
  {
    "text": "So it's pretty good. But also I should note\nthat it varies a lot.",
    "start": "4209390",
    "end": "4214949"
  },
  {
    "text": "So GPS accuracy, there's\na lot of different factors that affect your signal\nquality and ultimately,",
    "start": "4214950",
    "end": "4221930"
  },
  {
    "text": "affect the\nlocalization accuracy. So these are nominal numbers. In worst case\nconditions, it might",
    "start": "4221930",
    "end": "4227570"
  },
  {
    "text": "be 10 times worse than this. In absolute best\ncase conditions, it can be even\ncentimeter accurate.",
    "start": "4227570",
    "end": "4233790"
  },
  {
    "text": "So it really, really depends\non strength of the signal and a number of other effects\nthat we'll talk about.",
    "start": "4233790",
    "end": "4240260"
  },
  {
    "text": "Then there is the standard\npositioning service which is all what the\ncivilian devices use.",
    "start": "4240260",
    "end": "4246500"
  },
  {
    "text": "And as we said, it can use\nany of the civilian codes",
    "start": "4246500",
    "end": "4252170"
  },
  {
    "text": "for ranging. I think, today,\nprobably most devices still use the course\nacquisition-- the legacy",
    "start": "4252170",
    "end": "4259460"
  },
  {
    "text": "signal. But now, we're transitioning\nto either of these-- L2, L5, L1.",
    "start": "4259460",
    "end": "4265100"
  },
  {
    "text": "And then it uses either\nthe CNAV or the legacy LNAV for navigation messages.",
    "start": "4265100",
    "end": "4271670"
  },
  {
    "text": "It's open to the public. So these days you can\neven do a DIY project",
    "start": "4271670",
    "end": "4277610"
  },
  {
    "text": "and pretty much build your\nGPS receiver from scratch. It becomes a very\nbig project actually.",
    "start": "4277610",
    "end": "4283280"
  },
  {
    "text": "But it could be fun. But every detail of the navy--\nafter the civilian stuff",
    "start": "4283280",
    "end": "4289610"
  },
  {
    "text": "is known from the detail of\nthe codes, the communication details, packages, the\nerror correction codes.",
    "start": "4289610",
    "end": "4295250"
  },
  {
    "text": "It's all very well documented. So you can build your own thing\nand accuracy of 5 to 10 meters.",
    "start": "4295250",
    "end": "4302640"
  },
  {
    "text": "So what's very interesting\nhere is if you--  before I learned about all\nthis, my expectation was",
    "start": "4302640",
    "end": "4310510"
  },
  {
    "text": "or I was always\nunder the assumption that the military stuff\nis much, much, much more accurate than the civilian.",
    "start": "4310510",
    "end": "4316660"
  },
  {
    "text": "It's not the case. Actually, the accuracies are\nboth partly the same for both. And this is thanks\nto, by the way,",
    "start": "4316660",
    "end": "4323619"
  },
  {
    "text": "turning off the\nselective availability. Before that, civilian\nwas much worse",
    "start": "4323620",
    "end": "4328869"
  },
  {
    "text": "but now, both are the same. So why have the distinction? Well, the military stuff has\na bunch of extra features",
    "start": "4328870",
    "end": "4338289"
  },
  {
    "text": "that's why it's important. So, for instance, the\nephemeris updates-- which tells you\nwhere the satellite",
    "start": "4338290",
    "end": "4344739"
  },
  {
    "text": "is-- come much more rapidly\nfor the military GPS or precise positioning.",
    "start": "4344740",
    "end": "4352060"
  },
  {
    "text": "It's more robust to some\nof these effects that degrade the GPS signal quality.",
    "start": "4352060",
    "end": "4357610"
  },
  {
    "text": "One of them, for instance,\nbeing the ionospheric delay. So inosphere is one of\nthese atmospheric layers",
    "start": "4357610",
    "end": "4363520"
  },
  {
    "text": "above the Earth. And it's pretty notoriously\ntroublesome for GPS signals.",
    "start": "4363520",
    "end": "4371440"
  },
  {
    "text": "Because, the frequency\nof the GPS signals",
    "start": "4371440",
    "end": "4377739"
  },
  {
    "text": "lies in a band where inside the\nionosphere, the speed of light",
    "start": "4377740",
    "end": "4382780"
  },
  {
    "text": "can change significantly. So there is this unknown delay. If you go back to our\ntime of flight principle,",
    "start": "4382780",
    "end": "4390370"
  },
  {
    "text": "one of the underlying\nassumptions was that this C is constant. But it's not actually constant\nbecause the medium changes.",
    "start": "4390370",
    "end": "4397450"
  },
  {
    "text": "You go through different\nlayers of the atmosphere. Especially the ionosphere--\ndepending on the incidence",
    "start": "4397450",
    "end": "4402640"
  },
  {
    "text": "angle-- can cause some additional\ndelays in your GPS signal which translates to range\ninaccuracies and ultimately",
    "start": "4402640",
    "end": "4412150"
  },
  {
    "text": "positional inaccuracies. Now, the military grade GPS it's\nmuch more robust for instance",
    "start": "4412150",
    "end": "4419170"
  },
  {
    "text": "to this effect. As I said, there's\nencryption, anti-spoofing. So you cannot spoof it easily.",
    "start": "4419170",
    "end": "4428240"
  },
  {
    "text": "But at the end of\nthe day, remember that civilian GPS and\nmilitary GPS nominally, they",
    "start": "4428240",
    "end": "4434770"
  },
  {
    "text": "are exactly of the same\naccuracy which is a few meters. That's what you can expect.",
    "start": "4434770",
    "end": "4440389"
  },
  {
    "text": "Now, regarding the accuracy, is\nit good enough or not, really",
    "start": "4440390",
    "end": "4449350"
  },
  {
    "text": "depends on your application. Of course, I think\nwe can all agree",
    "start": "4449350",
    "end": "4454450"
  },
  {
    "text": "that GPS is extremely,\nextremely useful both for human applications\nand for robotics.",
    "start": "4454450",
    "end": "4461320"
  },
  {
    "text": "But it's not enough. The level of\nlocalization accuracy",
    "start": "4461320",
    "end": "4466809"
  },
  {
    "text": "that you get from a GPS receiver\nit kind of globally, roughly",
    "start": "4466810",
    "end": "4472780"
  },
  {
    "text": "positions you on a map. You can know you're at roughly\nthis intersection in a city",
    "start": "4472780",
    "end": "4479170"
  },
  {
    "text": "or around some block in a town. But if you were\nto, for instance,",
    "start": "4479170",
    "end": "4485170"
  },
  {
    "text": "use only this to fully\nautomate your robots movement,",
    "start": "4485170",
    "end": "4491980"
  },
  {
    "text": "it's not enough. So it gives you a global,\nas the name suggests.",
    "start": "4491980",
    "end": "4498139"
  },
  {
    "text": "It works globally. That's the amazing\nthing about it. And globally puts\nyou on the map.",
    "start": "4498140",
    "end": "4504160"
  },
  {
    "text": "But you still need\nmuch, much, much more accurate, localized,\nor local measurements",
    "start": "4504160",
    "end": "4512770"
  },
  {
    "text": "with other sensors to further\nnarrow down your location inaccuracy from a few meters\ndown to a few centimeters",
    "start": "4512770",
    "end": "4520720"
  },
  {
    "text": "possibly or even millimeters. It really depends on\nwhat the application is. But if you're in\nvery tight spaces",
    "start": "4520720",
    "end": "4526989"
  },
  {
    "text": "and your robot needs to navigate\nreally intricate structures, you need much better\nthan a few meters.",
    "start": "4526990",
    "end": "4533570"
  },
  {
    "text": "So that's where this idea of,\nfor instance, sensor fusion",
    "start": "4533570",
    "end": "4539409"
  },
  {
    "text": "becomes important. And that's why you need\na variety of sensors. Each has its own\nunique capabilities.",
    "start": "4539410",
    "end": "4545680"
  },
  {
    "text": "But ultimately,\nyou want to combine what you get from all\nthese different sensors",
    "start": "4545680",
    "end": "4550780"
  },
  {
    "text": "to really get to what you need\nfor your specific application.",
    "start": "4550780",
    "end": "4557920"
  },
  {
    "text": "Questions? No, all right. We have a couple of minutes.",
    "start": "4557920",
    "end": "4563420"
  },
  {
    "text": "I just want to set up the\ndiscussion for next time which is, we're going to now\ntalk about the actual math",
    "start": "4563420",
    "end": "4572360"
  },
  {
    "text": "and physics of GPS starting\nwith the satellite orbits.",
    "start": "4572360",
    "end": "4577699"
  },
  {
    "text": "So again, the first\nstep as we said",
    "start": "4577700",
    "end": "4582870"
  },
  {
    "text": "is that, your receiver needs to\nfind the exact location of each of these GPS satellites\nthat are orbiting the Earth.",
    "start": "4582870",
    "end": "4590060"
  },
  {
    "text": "And in a way, the satellite\ntells you where they are.",
    "start": "4590060",
    "end": "4596650"
  },
  {
    "text": "But you still need to do quite\na bit of math to convert that information-- which is\nwhat we call the ephemeris,",
    "start": "4596650",
    "end": "4603730"
  },
  {
    "text": "which is part of the\nnavigation message-- to the exact location\nof the satellite.",
    "start": "4603730",
    "end": "4608810"
  },
  {
    "text": "And it involves you have\nto have a model of what this orbital\ntrajectory looks like,",
    "start": "4608810",
    "end": "4616070"
  },
  {
    "text": "which usually it's modeled by-- not usually, always. It's modeled by an\nelliptical trajectory.",
    "start": "4616070",
    "end": "4624940"
  },
  {
    "text": "But this needs to be done\nvery, very, very accurately. So it's actually a pretty\nchallenging problem.",
    "start": "4624940",
    "end": "4630850"
  },
  {
    "text": "You have this satellite\n20,000 kilometers above you going at\nvery high speeds.",
    "start": "4630850",
    "end": "4636130"
  },
  {
    "text": "You're on Earth that's rotating. There is a variety\nof forces that affect the satellite from\nEarth's gravitational force.",
    "start": "4636130",
    "end": "4644710"
  },
  {
    "text": "There is solar radiations. There is the emission\nof different gases",
    "start": "4644710",
    "end": "4651610"
  },
  {
    "text": "from the satellite that\ncan change its trajectory. So there's all different effects\nthat make this trajectory not",
    "start": "4651610",
    "end": "4659590"
  },
  {
    "text": "be a perfect ellipse. And you receive this\nvery, very slow message.",
    "start": "4659590",
    "end": "4666010"
  },
  {
    "text": "Remember, the\nnavigation messages are transmitted at\n50 bits per second.",
    "start": "4666010",
    "end": "4672020"
  },
  {
    "text": "So it can take minutes to\nreceive enough information of one ephemeris data point.",
    "start": "4672020",
    "end": "4679960"
  },
  {
    "text": "So that's where a lot\nof brilliant engineering has been done such that with\nsuch a slow communication",
    "start": "4679960",
    "end": "4688660"
  },
  {
    "text": "channel on the\nnavigation signals, you can still super\naccurately and very quickly",
    "start": "4688660",
    "end": "4694810"
  },
  {
    "text": "track the exact position\nof the satellite. So that's what we'll\ndiscuss next time.",
    "start": "4694810",
    "end": "4701190"
  },
  {
    "start": "4701190",
    "end": "4705000"
  }
]