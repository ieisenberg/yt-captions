[
  {
    "start": "0",
    "end": "2290"
  },
  {
    "text": "Now we're going to talk about\nmore adventurous methods",
    "start": "2290",
    "end": "5830"
  },
  {
    "text": "and more modern as well.",
    "start": "5830",
    "end": "7600"
  },
  {
    "text": "And so piecewise polynomials\ngeneralize the idea",
    "start": "7600",
    "end": "11559"
  },
  {
    "text": "of piecewise constants.",
    "start": "11560",
    "end": "13110"
  },
  {
    "text": "So instead of having\na single polynomial",
    "start": "13110",
    "end": "15580"
  },
  {
    "text": "in x over its whole domain, you\ncan use different polynomials",
    "start": "15580",
    "end": "19030"
  },
  {
    "text": "in each region instead\nof different constants",
    "start": "19030",
    "end": "21100"
  },
  {
    "text": "for different polynomials.",
    "start": "21100",
    "end": "22840"
  },
  {
    "text": "So this next figure shows\na piecewise polynomial",
    "start": "22840",
    "end": "26470"
  },
  {
    "text": "in two regions.",
    "start": "26470",
    "end": "27660"
  },
  {
    "text": "So here in the top left panel,\nthere's a piecewise polynomial,",
    "start": "27660",
    "end": "31640"
  },
  {
    "text": "it's a cubic polynomial.",
    "start": "31640",
    "end": "33010"
  },
  {
    "text": "There's the knot at 50, and it's\na cubic to the left and a cubic",
    "start": "33010",
    "end": "38050"
  },
  {
    "text": "to the right, they're two\ndifferent cubic polynomials.",
    "start": "38050",
    "end": "40360"
  },
  {
    "text": "And they just fit to the data.",
    "start": "40360",
    "end": "42080"
  },
  {
    "text": "This one's fit to\nthe data on the left,",
    "start": "42080",
    "end": "44570"
  },
  {
    "text": "this one's fit to the\ndata on the right.",
    "start": "44570",
    "end": "47180"
  },
  {
    "text": "What do you think of that, Rob?",
    "start": "47180",
    "end": "49800"
  },
  {
    "text": "There's a break in the\nmiddle I just noticed.",
    "start": "49800",
    "end": "51770"
  },
  {
    "text": "Pretty ugly, isn't it?",
    "start": "51770",
    "end": "53760"
  },
  {
    "text": "It's pretty ugly.",
    "start": "53760",
    "end": "56766"
  },
  {
    "text": "But that is a piecewise\ncubic polynomial.",
    "start": "56766",
    "end": "60390"
  },
  {
    "text": "But the break's\nugly, so it's better",
    "start": "60390",
    "end": "62730"
  },
  {
    "text": "to add constraints\nto the polynomials,",
    "start": "62730",
    "end": "65069"
  },
  {
    "text": "for example, continuity.",
    "start": "65069",
    "end": "66900"
  },
  {
    "text": "So in this top\nright panel, we've",
    "start": "66900",
    "end": "69120"
  },
  {
    "text": "got a cubic polynomial in the\nleft, a cubic in the right,",
    "start": "69120",
    "end": "72360"
  },
  {
    "text": "but we forced it to be\ncontinuous at the knot.",
    "start": "72360",
    "end": "76470"
  },
  {
    "text": "So that looks much\nbetter already.",
    "start": "76470",
    "end": "78370"
  },
  {
    "text": "This is already starting to\nlook like the function we",
    "start": "78370",
    "end": "80640"
  },
  {
    "text": "got from the global polynomial.",
    "start": "80640",
    "end": "83380"
  },
  {
    "text": "But we can actually see this\nlittle kink in the middle here.",
    "start": "83380",
    "end": "87009"
  },
  {
    "text": "And in this case, it's\nnot too egregious,",
    "start": "87010",
    "end": "88860"
  },
  {
    "text": "but in some situations,\ncontinuity is not enough,",
    "start": "88860",
    "end": "93630"
  },
  {
    "text": "so you can enforce continuity\nin on the derivatives as well.",
    "start": "93630",
    "end": "100939"
  },
  {
    "text": "So this function\nhere, this red one,",
    "start": "100940",
    "end": "103040"
  },
  {
    "text": "is actually called\na cubic spline.",
    "start": "103040",
    "end": "105470"
  },
  {
    "text": "And what it is, is\nit's a cubic polynomial",
    "start": "105470",
    "end": "107900"
  },
  {
    "text": "in the left and the right.",
    "start": "107900",
    "end": "109430"
  },
  {
    "text": "It's continuous at the knot.",
    "start": "109430",
    "end": "111500"
  },
  {
    "text": "The first derivative is\ncontinuous at the knot,",
    "start": "111500",
    "end": "115490"
  },
  {
    "text": "and the second derivative\nis continuous at the knot.",
    "start": "115490",
    "end": "119030"
  },
  {
    "text": "So these three constraints.",
    "start": "119030",
    "end": "121909"
  },
  {
    "text": "And that's called a spline.",
    "start": "121910",
    "end": "125000"
  },
  {
    "text": "Now, we couldn't make the\nthird derivative continuous,",
    "start": "125000",
    "end": "127250"
  },
  {
    "text": "because then it would just\nbe a global cubic polynomial.",
    "start": "127250",
    "end": "130119"
  },
  {
    "text": "So we've made enough\ncontinuity as we can,",
    "start": "130120",
    "end": "132920"
  },
  {
    "text": "still allowing some separate\nfunctions in a cubic",
    "start": "132920",
    "end": "138080"
  },
  {
    "text": "in each region, that's\ncalled a cubic spline.",
    "start": "138080",
    "end": "142250"
  },
  {
    "text": "While we're on it, we could\nhave linear polynomials,",
    "start": "142250",
    "end": "145850"
  },
  {
    "text": "and here's a linear\nspline, so it's",
    "start": "145850",
    "end": "148130"
  },
  {
    "text": "a piecewise linear function.",
    "start": "148130",
    "end": "149870"
  },
  {
    "text": "It's linear in the\nleft and the right,",
    "start": "149870",
    "end": "152959"
  },
  {
    "text": "and it's forced to be\ncontinuous at the knot.",
    "start": "152960",
    "end": "155960"
  },
  {
    "text": "So the amount of continuity\nyou can enforce is one,",
    "start": "155960",
    "end": "160290"
  },
  {
    "text": "the order of continuity is\none less than the degree",
    "start": "160290",
    "end": "163189"
  },
  {
    "text": "of the polynomial.",
    "start": "163190",
    "end": "165140"
  },
  {
    "text": "So here we can only enforce\ndegree 0 continuity,",
    "start": "165140",
    "end": "168680"
  },
  {
    "text": "whereas here, we're forcing\ndegree 2, while it's",
    "start": "168680",
    "end": "172310"
  },
  {
    "text": "a third-degree polynomial.",
    "start": "172310",
    "end": "174120"
  },
  {
    "text": "So maybe, just be clear, where\nwe thought our thoughts evolved,",
    "start": "174120",
    "end": "176780"
  },
  {
    "text": "we started off with\na global polynomial,",
    "start": "176780",
    "end": "179000"
  },
  {
    "text": "and we didn't like that,\nbecause it was global,",
    "start": "179000",
    "end": "181100"
  },
  {
    "text": "because the fit at one\nend would be affected",
    "start": "181100",
    "end": "183530"
  },
  {
    "text": "by points at the other end.",
    "start": "183530",
    "end": "184853"
  },
  {
    "text": "So then we move\nto something which",
    "start": "184853",
    "end": "186270"
  },
  {
    "text": "is more local,\npiecewise constants.",
    "start": "186270",
    "end": "188340"
  },
  {
    "text": "And they were local, except\nthey're not very smooth.",
    "start": "188340",
    "end": "190560"
  },
  {
    "text": "So now you want something\nthat's both smooth and local.",
    "start": "190560",
    "end": "193319"
  },
  {
    "text": "So then on the\ntop left panel, we",
    "start": "193320",
    "end": "195100"
  },
  {
    "text": "have something which is local,\nis smooth in each panel,",
    "start": "195100",
    "end": "197990"
  },
  {
    "text": "but it's not smooth\nat the knots.",
    "start": "197990",
    "end": "199740"
  },
  {
    "text": "So now we move towards a\ncompromise, where it's local,",
    "start": "199740",
    "end": "204380"
  },
  {
    "text": "but it's also smooth\nthroughout the whole range.",
    "start": "204380",
    "end": "208400"
  },
  {
    "text": "Thanks, Rob.",
    "start": "208400",
    "end": "211340"
  },
  {
    "text": "And as I said, splines have the\nmaximum amount of continuity.",
    "start": "211340",
    "end": "215269"
  },
  {
    "text": "By the way, it's believed that a\ncubic spline, the discontinuity",
    "start": "215270",
    "end": "220538"
  },
  {
    "text": "which exists in the\nthird derivative,",
    "start": "220538",
    "end": "222080"
  },
  {
    "text": "is not detectable\nby the human eye,",
    "start": "222080",
    "end": "224280"
  },
  {
    "text": "and it certainly seems\nright for my eyes,",
    "start": "224280",
    "end": "227240"
  },
  {
    "text": "but I wouldn't trust my eyes.",
    "start": "227240",
    "end": "228670"
  },
  {
    "start": "228670",
    "end": "231290"
  },
  {
    "text": "So let's go into a bit more\ndetail about these splines.",
    "start": "231290",
    "end": "234235"
  },
  {
    "text": "So we'll first do\nlinear splines,",
    "start": "234235",
    "end": "235610"
  },
  {
    "text": "and then we'll do cubic splines.",
    "start": "235610",
    "end": "237530"
  },
  {
    "text": "So in the linear spline\nwith knots at psi k,",
    "start": "237530",
    "end": "242660"
  },
  {
    "text": "k equals 1 to capital\n, so you can put down,",
    "start": "242660",
    "end": "244778"
  },
  {
    "text": "we've had one knot\nin these pictures,",
    "start": "244778",
    "end": "246320"
  },
  {
    "text": "but you can put down multiple\nknots, the definition is,",
    "start": "246320",
    "end": "250280"
  },
  {
    "text": "the piecewise linear polynomial\ncontinuous at each knot.",
    "start": "250280",
    "end": "254600"
  },
  {
    "text": "And just like in\nthe previous cases,",
    "start": "254600",
    "end": "258079"
  },
  {
    "text": "with the global polynomials\nand the constant piecewise",
    "start": "258079",
    "end": "263810"
  },
  {
    "text": "constant functions, you can\nrepresent this as a, we call it,",
    "start": "263810",
    "end": "268340"
  },
  {
    "text": "a linear expansion\nin basis functions.",
    "start": "268340",
    "end": "270780"
  },
  {
    "text": "so transformations\nof the variables.",
    "start": "270780",
    "end": "274400"
  },
  {
    "text": "In this case, what you have is,\nyou have the variable itself,",
    "start": "274400",
    "end": "279150"
  },
  {
    "text": "so one of these basis functions\nis just the variable itself.",
    "start": "279150",
    "end": "282810"
  },
  {
    "text": "And then you have a collection\nof these truncated functions,",
    "start": "282810",
    "end": "289250"
  },
  {
    "text": "basis functions.",
    "start": "289250",
    "end": "290720"
  },
  {
    "text": "They call it truncated\npower functions,",
    "start": "290720",
    "end": "292560"
  },
  {
    "text": "but this one is to power 1.",
    "start": "292560",
    "end": "294470"
  },
  {
    "text": "And it's here it is, it's\nXi minus Ck, positive part.",
    "start": "294470",
    "end": "302180"
  },
  {
    "text": "And what that means, is\ndescribed below here, is",
    "start": "302180",
    "end": "305660"
  },
  {
    "text": "it's equal to Xi minus Ck,\nif Xi's bigger than Ck,",
    "start": "305660",
    "end": "311000"
  },
  {
    "text": "and it's 0 otherwise, so it's\nnot allowed to go negative.",
    "start": "311000",
    "end": "315140"
  },
  {
    "text": "And so you make one\nof these functions",
    "start": "315140",
    "end": "317030"
  },
  {
    "text": "that each of the knots,\nthese transformations,",
    "start": "317030",
    "end": "321750"
  },
  {
    "text": "and you throw them in\nas additional variables.",
    "start": "321750",
    "end": "325050"
  },
  {
    "text": "So to see how this works,\nlet's look at a figure.",
    "start": "325050",
    "end": "328860"
  },
  {
    "text": "So the blue curve is just\na global linear function.",
    "start": "328860",
    "end": "334800"
  },
  {
    "text": "We've only got one\nknot here, so here's",
    "start": "334800",
    "end": "336900"
  },
  {
    "text": "one of these basis functions.",
    "start": "336900",
    "end": "339840"
  },
  {
    "text": "It starts off at 0 at the knot,\nand then it goes up linearly.",
    "start": "339840",
    "end": "344610"
  },
  {
    "text": "So this is x minus 0.6\npositive part below 0.6 at 0.",
    "start": "344610",
    "end": "352729"
  },
  {
    "text": "So now when you\nfit a linear model",
    "start": "352730",
    "end": "355100"
  },
  {
    "text": "with a global linear function,\nplus one of these in,",
    "start": "355100",
    "end": "359570"
  },
  {
    "text": "and each of them gets a\ncoefficient, what you get is,",
    "start": "359570",
    "end": "362878"
  },
  {
    "text": "you get a function\nthat's allowed to change",
    "start": "362878",
    "end": "364669"
  },
  {
    "text": "its slope at the knot.",
    "start": "364670",
    "end": "366290"
  },
  {
    "text": "So if you add in some mix of\nthis to a linear function,",
    "start": "366290",
    "end": "369140"
  },
  {
    "text": "it'll change the\nslope of this point.",
    "start": "369140",
    "end": "371970"
  },
  {
    "text": "And so here we see it over here.",
    "start": "371970",
    "end": "374480"
  },
  {
    "text": "And because this\nstarts off at 0,",
    "start": "374480",
    "end": "377330"
  },
  {
    "text": "it makes sure it's\ncontinuous here.",
    "start": "377330",
    "end": "381400"
  },
  {
    "text": "Very handy, and you\ncan make a bunch",
    "start": "381400",
    "end": "383050"
  },
  {
    "text": "of these functions for\nhowever many knots you've got.",
    "start": "383050",
    "end": "385389"
  },
  {
    "text": "Cubic splines,\nvery similar idea.",
    "start": "385390",
    "end": "389830"
  },
  {
    "text": "So first of all, the definition.",
    "start": "389830",
    "end": "391580"
  },
  {
    "text": "A cubic spline with knots at\nCk, k going from 1 to capital K,",
    "start": "391580",
    "end": "396490"
  },
  {
    "text": "is a piecewise cubic polynomial\nwith continuous derivatives",
    "start": "396490",
    "end": "400270"
  },
  {
    "text": "up to order 2 at\neach knot, so that's",
    "start": "400270",
    "end": "403360"
  },
  {
    "text": "a definition of a cubic spline.",
    "start": "403360",
    "end": "406620"
  },
  {
    "text": "Again, you can represent\nthis as a basis expansion",
    "start": "406620",
    "end": "409650"
  },
  {
    "text": "in the original variables.",
    "start": "409650",
    "end": "411419"
  },
  {
    "text": "In this case, you need\nx squared and x cubed,",
    "start": "411420",
    "end": "418320"
  },
  {
    "text": "so a basis for\ncubic polynomials.",
    "start": "418320",
    "end": "421420"
  },
  {
    "text": "Of course, the constants\nalways in the model.",
    "start": "421420",
    "end": "423690"
  },
  {
    "text": "And then you have similar\ntruncated power functions,",
    "start": "423690",
    "end": "428580"
  },
  {
    "text": "but now they raised\nto the power 3,",
    "start": "428580",
    "end": "431229"
  },
  {
    "text": "one at each not, where\nthis guy is defined",
    "start": "431230",
    "end": "434080"
  },
  {
    "text": "to be Xi minus Ck cubed,\nif Xi is bigger than Ck,",
    "start": "434080",
    "end": "439569"
  },
  {
    "text": "and 0 otherwise.",
    "start": "439570",
    "end": "441670"
  },
  {
    "text": "But the idea is the same.",
    "start": "441670",
    "end": "443620"
  },
  {
    "text": "And here's the picture.",
    "start": "443620",
    "end": "445150"
  },
  {
    "text": "So now here's the\nlittle basis function,",
    "start": "445150",
    "end": "447820"
  },
  {
    "text": "this truncated power\nbasis function.",
    "start": "447820",
    "end": "450050"
  },
  {
    "text": "And it's a little cubic\npolynomial that's 0 at the knot.",
    "start": "450050",
    "end": "457569"
  },
  {
    "text": "In this figure over here, here's\nthe global cubic polynomial,",
    "start": "457570",
    "end": "460780"
  },
  {
    "text": "the blue one.",
    "start": "460780",
    "end": "461780"
  },
  {
    "text": "And here's added in some\nlittle linear combination",
    "start": "461780",
    "end": "465940"
  },
  {
    "text": "of this orange guy, and\nthat'll change the cubic part",
    "start": "465940",
    "end": "469210"
  },
  {
    "text": "of the function in this region.",
    "start": "469210",
    "end": "472210"
  },
  {
    "text": "And a bit of a detail,\nthis basis function,",
    "start": "472210",
    "end": "476380"
  },
  {
    "text": "if you check it\nout for yourself,",
    "start": "476380",
    "end": "478600"
  },
  {
    "text": "you'll find out that\nit's 0 at the knot,",
    "start": "478600",
    "end": "482120"
  },
  {
    "text": "it's also got 0 first derivative\nand 0 second derivative",
    "start": "482120",
    "end": "485350"
  },
  {
    "text": "at the knot.",
    "start": "485350",
    "end": "486290"
  },
  {
    "text": "So when you add it in here, you\ndon't change those derivatives",
    "start": "486290",
    "end": "490630"
  },
  {
    "text": "of the function.",
    "start": "490630",
    "end": "491660"
  },
  {
    "text": "and so it has the required\ncontinuity of a cubic spline.",
    "start": "491660",
    "end": "495602"
  },
  {
    "text": "It's a really handy\nrepresentation.",
    "start": "495602",
    "end": "498080"
  },
  {
    "start": "498080",
    "end": "503110"
  },
  {
    "text": "So cubic splines are\nused all over the place,",
    "start": "503110",
    "end": "507020"
  },
  {
    "text": "and you'll see we even\ngot fancier versions.",
    "start": "507020",
    "end": "510199"
  },
  {
    "text": "One fancier version\nis very handy,",
    "start": "510200",
    "end": "512830"
  },
  {
    "text": "and it's the one I tend\nto use all the time,",
    "start": "512830",
    "end": "514789"
  },
  {
    "text": "it's called a\nnatural cubic spline.",
    "start": "514789",
    "end": "517030"
  },
  {
    "text": "If you had the choice\nof a cubic spline",
    "start": "517030",
    "end": "518710"
  },
  {
    "text": "and a natural cubic spline,\nwhich one would you use, Rob?",
    "start": "518710",
    "end": "521890"
  },
  {
    "text": "Natural, I guess.",
    "start": "521890",
    "end": "523405"
  },
  {
    "text": "[LAUGHS]",
    "start": "523405",
    "end": "525265"
  },
  {
    "text": "It's good choice of names.",
    "start": "525265",
    "end": "527200"
  },
  {
    "text": "What a natural cubic\nspline is, it's",
    "start": "527200",
    "end": "529210"
  },
  {
    "text": "a cubic spline where you've\nadded two extra constraints",
    "start": "529210",
    "end": "532450"
  },
  {
    "text": "at the boundaries.",
    "start": "532450",
    "end": "533800"
  },
  {
    "text": "And the constraints make the\nfunction extrapolate linearly",
    "start": "533800",
    "end": "538060"
  },
  {
    "text": "beyond the boundary knots.",
    "start": "538060",
    "end": "540190"
  },
  {
    "text": "And what that means is that\nthe ends of the function",
    "start": "540190",
    "end": "545200"
  },
  {
    "text": "aren't just left unconstrained.",
    "start": "545200",
    "end": "546980"
  },
  {
    "text": "We saw for a global\ncubic polynomial",
    "start": "546980",
    "end": "549850"
  },
  {
    "text": "that the tail could\nwag quite a lot.",
    "start": "549850",
    "end": "551842"
  },
  {
    "text": "We're not going to\nlet that happen here,",
    "start": "551843",
    "end": "553510"
  },
  {
    "text": "because we're going to make\nthe function go off linearly",
    "start": "553510",
    "end": "556270"
  },
  {
    "text": "beyond the range of the data.",
    "start": "556270",
    "end": "558280"
  },
  {
    "text": "And so what that does is,\nit adds four constraints,",
    "start": "558280",
    "end": "563800"
  },
  {
    "text": "two on each end.",
    "start": "563800",
    "end": "565720"
  },
  {
    "text": "And that frees up\nfour parameters, so",
    "start": "565720",
    "end": "568540"
  },
  {
    "text": "for the same number\nof degrees of freedom",
    "start": "568540",
    "end": "571240"
  },
  {
    "text": "or parameters in\nyour model, you can",
    "start": "571240",
    "end": "575350"
  },
  {
    "text": "put extra knots in the middle\nand get more flexibility.",
    "start": "575350",
    "end": "580029"
  },
  {
    "text": "So in this figure,\nwe've got a cubic spline",
    "start": "580030",
    "end": "582580"
  },
  {
    "text": "and a natural cubic spline.",
    "start": "582580",
    "end": "585900"
  },
  {
    "text": "Now in the fitted function,\nyou don't see much difference.",
    "start": "585900",
    "end": "589110"
  },
  {
    "text": "You see the cubic\nsplines a bit more wiggly",
    "start": "589110",
    "end": "591149"
  },
  {
    "text": "at this end over here.",
    "start": "591150",
    "end": "593410"
  },
  {
    "text": "The standard errors\nyou see are much wider",
    "start": "593410",
    "end": "595629"
  },
  {
    "text": "in places for the cubic\nspline, especially",
    "start": "595630",
    "end": "598300"
  },
  {
    "text": "at the boundary, which is where\nthe effect of the natural spline",
    "start": "598300",
    "end": "602110"
  },
  {
    "text": "is taking place, and\nthe standard errors",
    "start": "602110",
    "end": "604750"
  },
  {
    "text": "for the natural spline\nare better there.",
    "start": "604750",
    "end": "606615"
  },
  {
    "text": "I'm actually\nworking on something",
    "start": "606615",
    "end": "607990"
  },
  {
    "text": "called organic cubic splines,\nwhich are even better.",
    "start": "607990",
    "end": "611042"
  },
  {
    "text": "I can't give you details yet.",
    "start": "611042",
    "end": "612250"
  },
  {
    "text": "You can't give me details.",
    "start": "612250",
    "end": "612700"
  },
  {
    "text": "But that one should catch\non, I think, especially--",
    "start": "612700",
    "end": "614825"
  },
  {
    "text": "Here in California.",
    "start": "614825",
    "end": "615620"
  },
  {
    "text": "Especially in California.",
    "start": "615620",
    "end": "617890"
  },
  {
    "text": "Very good.",
    "start": "617890",
    "end": "618450"
  },
  {
    "start": "618450",
    "end": "621280"
  },
  {
    "text": "Fitting splines in R is easy.",
    "start": "621280",
    "end": "623980"
  },
  {
    "text": "There's a function bs,\nwhich takes a variable x",
    "start": "623980",
    "end": "628570"
  },
  {
    "text": "and has some arguments, you can\ngive it the knots, for example,",
    "start": "628570",
    "end": "632440"
  },
  {
    "text": "and/or there's other ways of\nspecifying the flexibility,",
    "start": "632440",
    "end": "636400"
  },
  {
    "text": "and it'll just do the work.",
    "start": "636400",
    "end": "637820"
  },
  {
    "text": "You put that in a\nformula, and you",
    "start": "637820",
    "end": "639430"
  },
  {
    "text": "can put one of those\nfor whichever function",
    "start": "639430",
    "end": "641710"
  },
  {
    "text": "you want to be a nonlinear, and\nit'll just do the work for you.",
    "start": "641710",
    "end": "644930"
  },
  {
    "text": "Did you think of the name\nfor that function yet?",
    "start": "644930",
    "end": "647230"
  },
  {
    "text": "I can see you don't\nlike the name.",
    "start": "647230",
    "end": "648949"
  },
  {
    "text": "Now don't get rude, Rob.",
    "start": "648950",
    "end": "652120"
  },
  {
    "text": "And that's for cubic splines\nand for natural splines, ns.",
    "start": "652120",
    "end": "656560"
  },
  {
    "text": "And here we see a\nfunction of age.",
    "start": "656560",
    "end": "659800"
  },
  {
    "text": "Here's a natural cubic spline.",
    "start": "659800",
    "end": "661459"
  },
  {
    "text": "You can see it's got\nthree interior knots,",
    "start": "661460",
    "end": "664720"
  },
  {
    "text": "and it's a function of age,\nand gives you a very nice fit,",
    "start": "664720",
    "end": "667879"
  },
  {
    "text": "standard errors are included.",
    "start": "667880",
    "end": "670900"
  },
  {
    "text": "Here it's done for the logistic\nregression at the same time.",
    "start": "670900",
    "end": "674740"
  },
  {
    "text": "And for this, you need to\nuse the package splines.",
    "start": "674740",
    "end": "677370"
  },
  {
    "start": "677370",
    "end": "681950"
  },
  {
    "text": "So there's some details\nand one is not placement",
    "start": "681950",
    "end": "687150"
  },
  {
    "text": "as in knot placement.",
    "start": "687150",
    "end": "689850"
  },
  {
    "text": "So one strategy is to decide\non the total number of knots,",
    "start": "689850",
    "end": "693870"
  },
  {
    "text": "say, capital k.",
    "start": "693870",
    "end": "696779"
  },
  {
    "text": "And then given that number,\njust to place the knots",
    "start": "696780",
    "end": "700170"
  },
  {
    "text": "at appropriate quantiles\nof the observed variable x,",
    "start": "700170",
    "end": "704120"
  },
  {
    "text": "so just to spread them\nout uniformly, having",
    "start": "704120",
    "end": "707600"
  },
  {
    "text": "roughly the same amount of\ndata in each of the regions",
    "start": "707600",
    "end": "710959"
  },
  {
    "text": "created by the knots.",
    "start": "710960",
    "end": "713840"
  },
  {
    "text": "And when you do that, that\nresults in a certain number",
    "start": "713840",
    "end": "716810"
  },
  {
    "text": "of parameters.",
    "start": "716810",
    "end": "717660"
  },
  {
    "text": "So a cubic spline\nwith k knots turns out",
    "start": "717660",
    "end": "720740"
  },
  {
    "text": "has got k plus four\nparameters, or we",
    "start": "720740",
    "end": "723167"
  },
  {
    "text": "call them degrees of freedom.",
    "start": "723167",
    "end": "724375"
  },
  {
    "start": "724375",
    "end": "727200"
  },
  {
    "text": "And as I mentioned before, if\nyou use a natural spline with k",
    "start": "727200",
    "end": "730890"
  },
  {
    "text": "knots, it only has k\ndegrees of freedom,",
    "start": "730890",
    "end": "733088"
  },
  {
    "text": "because you get back\ntwo degrees of freedom",
    "start": "733088",
    "end": "734880"
  },
  {
    "text": "for the two constraints\non each of the boundaries.",
    "start": "734880",
    "end": "738620"
  },
  {
    "text": "And so in this figure over here,\nwe've gone a little extreme.",
    "start": "738620",
    "end": "741529"
  },
  {
    "text": "We show a comparison of\na degree 14 polynomial",
    "start": "741530",
    "end": "746660"
  },
  {
    "text": "and a natural cubic spline.",
    "start": "746660",
    "end": "749569"
  },
  {
    "text": "And the natural cubic spline\nwill have also 14 knots.",
    "start": "749570",
    "end": "758370"
  },
  {
    "text": "Turns out there's 15\ndegrees of freedom,",
    "start": "758370",
    "end": "760279"
  },
  {
    "text": "because we're not\ncounting the constants",
    "start": "760280",
    "end": "763010"
  },
  {
    "text": "in these specifications over\nhere, and so here we see them.",
    "start": "763010",
    "end": "768800"
  },
  {
    "text": "The natural cubic spline is much\nsmoother than the very wiggly",
    "start": "768800",
    "end": "774709"
  },
  {
    "text": "polynomial.",
    "start": "774710",
    "end": "776010"
  },
  {
    "text": "And you can see the tail of\nthis polynomial going crazy.",
    "start": "776010",
    "end": "780120"
  },
  {
    "text": "So generally, I think\nthe takeaway message",
    "start": "780120",
    "end": "782960"
  },
  {
    "text": "is, although polynomials\nare easy to think of,",
    "start": "782960",
    "end": "785870"
  },
  {
    "text": "splines are much better\nbehaved and more local,",
    "start": "785870",
    "end": "788900"
  },
  {
    "text": "and so they are the way to go.",
    "start": "788900",
    "end": "790500"
  },
  {
    "text": "and since they're so\neasy to work with.",
    "start": "790500",
    "end": "793330"
  }
]