[
  {
    "text": "Finally, we're going to get to\nhierarchical clustering, which",
    "start": "0",
    "end": "3730"
  },
  {
    "text": "is another form of\nclustering, but different.",
    "start": "3730",
    "end": "6279"
  },
  {
    "text": "And this works off\na distance matrix.",
    "start": "6280",
    "end": "8740"
  },
  {
    "text": "So we'll use our same\ndata here, and we'll",
    "start": "8740",
    "end": "12670"
  },
  {
    "text": "compute distance of x,\nwhich computes a 100",
    "start": "12670",
    "end": "16209"
  },
  {
    "text": "by 100 pairwise distance matrix.",
    "start": "16210",
    "end": "18669"
  },
  {
    "text": "And we make a call to hclust.",
    "start": "18670",
    "end": "21370"
  },
  {
    "text": "So hclust is the tool\nthat we use for doing",
    "start": "21370",
    "end": "24070"
  },
  {
    "text": "hierarchical clustering.",
    "start": "24070",
    "end": "25660"
  },
  {
    "text": "So by now, you've become\npretty adept at R.",
    "start": "25660",
    "end": "28750"
  },
  {
    "text": "If you want to find\nout more about hclust,",
    "start": "28750",
    "end": "30850"
  },
  {
    "text": "you just go help hclust\nand you'll get help online.",
    "start": "30850",
    "end": "35530"
  },
  {
    "text": "If you-- once you've\ncomputed the fit,",
    "start": "35530",
    "end": "38920"
  },
  {
    "text": "if you can how to print it out--",
    "start": "38920",
    "end": "41640"
  },
  {
    "text": "and if all else fails,\nif something else",
    "start": "41640",
    "end": "44620"
  },
  {
    "text": "you'd like to find\nout, searching the web",
    "start": "44620",
    "end": "47140"
  },
  {
    "text": "is a really good idea.",
    "start": "47140",
    "end": "48649"
  },
  {
    "text": "These days, if you search the\nweb for R related queries,",
    "start": "48650",
    "end": "51580"
  },
  {
    "text": "tons of stuff comes\nup and you can often",
    "start": "51580",
    "end": "53440"
  },
  {
    "text": "find out all kinds of\ninteresting information.",
    "start": "53440",
    "end": "57100"
  },
  {
    "text": "So here we ran hclust with\nmethod equals complete.",
    "start": "57100",
    "end": "62949"
  },
  {
    "text": "And we'll just plot the data.",
    "start": "62950",
    "end": "65470"
  },
  {
    "text": "And it plots a dendogram\nthat shows the clustering.",
    "start": "65470",
    "end": "69040"
  },
  {
    "text": "So if you recall, this is a\nbottom-up clustering technique,",
    "start": "69040",
    "end": "72370"
  },
  {
    "text": "where it continuously joins\ntogether smaller clusters",
    "start": "72370",
    "end": "76360"
  },
  {
    "text": "to make bigger clusters\nuntil eventually you",
    "start": "76360",
    "end": "78400"
  },
  {
    "text": "get to one big cluster.",
    "start": "78400",
    "end": "80470"
  },
  {
    "text": "Now we know there's four\nnatural clusters in these data.",
    "start": "80470",
    "end": "83510"
  },
  {
    "text": "And from the heights of\nthe arms of the dendogram,",
    "start": "83510",
    "end": "86290"
  },
  {
    "text": "it's evident that there\nare four big clusters here,",
    "start": "86290",
    "end": "89140"
  },
  {
    "text": "and these will almost\ncertainly correspond",
    "start": "89140",
    "end": "91150"
  },
  {
    "text": "to the original divisions\nin the data that we created.",
    "start": "91150",
    "end": "96840"
  },
  {
    "start": "96840",
    "end": "99420"
  },
  {
    "text": "Complete is how it decides\nhow close two clusters are.",
    "start": "99420",
    "end": "105009"
  },
  {
    "text": "And what complete does is\nit uses the largest pairwise",
    "start": "105010",
    "end": "108510"
  },
  {
    "text": "distance between a\npoint in one cluster",
    "start": "108510",
    "end": "110370"
  },
  {
    "text": "and a point in another cluster.",
    "start": "110370",
    "end": "113580"
  },
  {
    "text": "There's other\nmethods we can use.",
    "start": "113580",
    "end": "115750"
  },
  {
    "text": "So single linkage\nclustering, it's called--",
    "start": "115750",
    "end": "118890"
  },
  {
    "text": "it's the same call except\nmethod equals single.",
    "start": "118890",
    "end": "122190"
  },
  {
    "text": "So instead of looking at\nusing the largest distance,",
    "start": "122190",
    "end": "125490"
  },
  {
    "text": "it uses the smallest distance.",
    "start": "125490",
    "end": "127470"
  },
  {
    "text": "And it gives you a rather\ndifferent looking picture.",
    "start": "127470",
    "end": "130479"
  },
  {
    "text": "And the four big\ngroups that we saw",
    "start": "130479",
    "end": "132990"
  },
  {
    "text": "aren't as easily\nevident in this one.",
    "start": "132990",
    "end": "135570"
  },
  {
    "text": "It seems to have\nfound 1, 2, 3 groups.",
    "start": "135570",
    "end": "137800"
  },
  {
    "text": "And then somewhere in here is a\ndivision into the fourth group.",
    "start": "137800",
    "end": "141460"
  },
  {
    "text": "So single linkage\nclustering tends",
    "start": "141460",
    "end": "144340"
  },
  {
    "text": "to find long strung out\nclusters because it's just",
    "start": "144340",
    "end": "149440"
  },
  {
    "text": "looking at the closest\npoint between clusters.",
    "start": "149440",
    "end": "153430"
  },
  {
    "text": "And so you might not\nget nice clumpy balls",
    "start": "153430",
    "end": "157120"
  },
  {
    "text": "like we expect to\nsee in this case.",
    "start": "157120",
    "end": "159670"
  },
  {
    "text": "Average is somewhere in between.",
    "start": "159670",
    "end": "161870"
  },
  {
    "text": "And indeed, the plot for average\nlooks somewhere in between.",
    "start": "161870",
    "end": "165260"
  },
  {
    "text": "But I think for\nthese data, I think",
    "start": "165260",
    "end": "166840"
  },
  {
    "text": "we probably prefer the\nmethod equals complete.",
    "start": "166840",
    "end": "171890"
  },
  {
    "text": "So we're going to compare with\nthe actual clusters in the data",
    "start": "171890",
    "end": "177920"
  },
  {
    "text": "again.",
    "start": "177920",
    "end": "180260"
  },
  {
    "text": "We'll use a function cuttree,\nand we'll cut it at level 4.",
    "start": "180260",
    "end": "186000"
  },
  {
    "text": "So that's the first\nthing we'll do.",
    "start": "186000",
    "end": "188370"
  },
  {
    "text": "And so that cut our\noriginal cluster tree.",
    "start": "188370",
    "end": "193690"
  },
  {
    "text": "Let's just plot it.",
    "start": "193690",
    "end": "194750"
  },
  {
    "text": "Let's get-- its plot up\nthere again is the dendogram.",
    "start": "194750",
    "end": "200110"
  },
  {
    "text": "So we've cut it at level 4.",
    "start": "200110",
    "end": "201910"
  },
  {
    "text": "So that means at the point\nwhere there's four clusters.",
    "start": "201910",
    "end": "204820"
  },
  {
    "text": "So now we're going to identify\nwho's in each of these clusters.",
    "start": "204820",
    "end": "208300"
  },
  {
    "text": "And for that, we use\nthe function cut tree.",
    "start": "208300",
    "end": "210810"
  },
  {
    "text": "And all cut tree does is you\ntell it the level that you want,",
    "start": "210810",
    "end": "215970"
  },
  {
    "text": "which is 4--",
    "start": "215970",
    "end": "216990"
  },
  {
    "text": "the number of clusters\nyou want, it's 4.",
    "start": "216990",
    "end": "218820"
  },
  {
    "text": "And it gives you back a\nvector of cluster assignments.",
    "start": "218820",
    "end": "221650"
  },
  {
    "text": "So now we can use\nthe table function",
    "start": "221650",
    "end": "224519"
  },
  {
    "text": "to tabulate those\nassignments with what",
    "start": "224520",
    "end": "228512"
  },
  {
    "text": "we know to be the real\nassignments, which",
    "start": "228512",
    "end": "230219"
  },
  {
    "text": "is given by a variable which.",
    "start": "230220",
    "end": "232560"
  },
  {
    "text": "And so you get this\nlittle table here.",
    "start": "232560",
    "end": "234880"
  },
  {
    "text": "Again, the orders\nare arbitrary here.",
    "start": "234880",
    "end": "237180"
  },
  {
    "text": "And so what you\nexpect to see is--",
    "start": "237180",
    "end": "240739"
  },
  {
    "text": "it's some big numbers\nwith zeros elsewhere.",
    "start": "240740",
    "end": "243593"
  },
  {
    "text": "So the big numbers are\nthe 17, 31, 30, and 19.",
    "start": "243593",
    "end": "248010"
  },
  {
    "text": "And then the small numbers\nare the misidentification.",
    "start": "248010",
    "end": "252299"
  },
  {
    "text": "So there were three\nmisidentifications here.",
    "start": "252300",
    "end": "254580"
  },
  {
    "start": "254580",
    "end": "260049"
  },
  {
    "text": "And we can also do a\ntabulation and compare it",
    "start": "260050",
    "end": "263919"
  },
  {
    "text": "with K-means clustering.",
    "start": "263920",
    "end": "266800"
  },
  {
    "text": "And with K-means clustering,\nthere were two mis--",
    "start": "266800",
    "end": "273199"
  },
  {
    "text": "two disagreements.",
    "start": "273200",
    "end": "274990"
  },
  {
    "text": "So both K-means and\nhierarchical clustering",
    "start": "274990",
    "end": "279370"
  },
  {
    "text": "didn't know the\ntrue assignments,",
    "start": "279370",
    "end": "281410"
  },
  {
    "text": "and they agreed mostly.",
    "start": "281410",
    "end": "283000"
  },
  {
    "text": "But on two points,\nthey disagreed.",
    "start": "283000",
    "end": "285790"
  },
  {
    "text": "Now you can-- there's\nfancy ways that you",
    "start": "285790",
    "end": "291020"
  },
  {
    "text": "can plot hierarchical clustering\ntrees that actually tell you",
    "start": "291020",
    "end": "296509"
  },
  {
    "text": "that color the say\nthe leafs according",
    "start": "296510",
    "end": "299540"
  },
  {
    "text": "to the original\ncluster membership",
    "start": "299540",
    "end": "302390"
  },
  {
    "text": "or some other variables.",
    "start": "302390",
    "end": "303780"
  },
  {
    "text": "These tend to be\nrather technical.",
    "start": "303780",
    "end": "305800"
  },
  {
    "text": "I actually looked to see how to\ndo this by searching on the web.",
    "start": "305800",
    "end": "309319"
  },
  {
    "text": "And even though I was able--",
    "start": "309320",
    "end": "310940"
  },
  {
    "text": "I was able to do it.",
    "start": "310940",
    "end": "312360"
  },
  {
    "text": "It's probably too technical\nto put in this demonstration,",
    "start": "312360",
    "end": "314810"
  },
  {
    "text": "but if that's something\nyou want to do,",
    "start": "314810",
    "end": "316940"
  },
  {
    "text": "I urge you to have a look.",
    "start": "316940",
    "end": "318540"
  },
  {
    "text": "So people have written\nfunctions for doing that.",
    "start": "318540",
    "end": "321230"
  },
  {
    "text": "What we'll do is something\na little simpler.",
    "start": "321230",
    "end": "323340"
  },
  {
    "text": "The plot command for\ndendrograms for cluster trees",
    "start": "323340",
    "end": "327320"
  },
  {
    "text": "has a labels argument.",
    "start": "327320",
    "end": "329018"
  },
  {
    "text": "And we're going to\nlabel it according",
    "start": "329018",
    "end": "330560"
  },
  {
    "text": "to the original\ncluster assignment.",
    "start": "330560",
    "end": "332600"
  },
  {
    "text": "And if you can see here,\nyou'll see that all these guys",
    "start": "332600",
    "end": "338000"
  },
  {
    "text": "down here are fours.",
    "start": "338000",
    "end": "339450"
  },
  {
    "text": "There's twos, there's\nones and threes.",
    "start": "339450",
    "end": "342900"
  },
  {
    "text": "It's not that clear.",
    "start": "342900",
    "end": "344040"
  },
  {
    "text": "But if we had a\nbigger place to plot,",
    "start": "344040",
    "end": "346220"
  },
  {
    "text": "you'd be able to see which of\nthe points were misassigned.",
    "start": "346220",
    "end": "350310"
  },
  {
    "text": "So, again, use the\nhelp to find out more",
    "start": "350310",
    "end": "353970"
  },
  {
    "text": "about hierarchical clustering.",
    "start": "353970",
    "end": "356080"
  },
  {
    "text": "And again, if all else fails,\ngo and search on the web.",
    "start": "356080",
    "end": "360250"
  },
  {
    "text": "And once again, this is an R\nMarkdown document in RStudio.",
    "start": "360250",
    "end": "366150"
  },
  {
    "text": "So we can knit it and then we\nget a nice HTML document, which",
    "start": "366150",
    "end": "371070"
  },
  {
    "text": "gives a summary of our\nresults and with any figures",
    "start": "371070",
    "end": "374910"
  },
  {
    "text": "we made in one nice document--\nand we got our figures.",
    "start": "374910",
    "end": "380040"
  },
  {
    "text": "This is something you can\nshare with some colleagues",
    "start": "380040",
    "end": "383820"
  },
  {
    "text": "to show the analysis\nthat you've done",
    "start": "383820",
    "end": "385560"
  },
  {
    "text": "for them or for\nthe demonstration.",
    "start": "385560",
    "end": "388970"
  },
  {
    "text": "So there we go.",
    "start": "388970",
    "end": "391180"
  },
  {
    "start": "391180",
    "end": "393000"
  }
]