[
  {
    "start": "0",
    "end": "16000"
  },
  {
    "text": "So what I wanna talk next is,",
    "start": "4010",
    "end": "7590"
  },
  {
    "text": "how do we solve the PageRank equation?",
    "start": "7590",
    "end": "11100"
  },
  {
    "text": "How do we actually compute,",
    "start": "11100",
    "end": "12810"
  },
  {
    "text": "uh, the vector r?",
    "start": "12810",
    "end": "15360"
  },
  {
    "text": "The idea here is to use the method called, uh, power iteration.",
    "start": "15360",
    "end": "20715"
  },
  {
    "start": "16000",
    "end": "109000"
  },
  {
    "text": "And what I would like to do is,",
    "start": "20715",
    "end": "22545"
  },
  {
    "text": "we'd like to do the following.",
    "start": "22545",
    "end": "23775"
  },
  {
    "text": "Right? Given a graph on n nodes,",
    "start": "23775",
    "end": "25770"
  },
  {
    "text": "we want to use an iterate- we will use an iterative procedure that will, uh,",
    "start": "25770",
    "end": "31170"
  },
  {
    "text": "update over time our rank vector r. Um,",
    "start": "31170",
    "end": "35280"
  },
  {
    "text": "and the idea will be that we- we start the procedure by assigning",
    "start": "35280",
    "end": "38788"
  },
  {
    "text": "each node some initial random, uh, PageRank score.",
    "start": "38789",
    "end": "42585"
  },
  {
    "text": "And then we are going to repeat our iterative process until this,",
    "start": "42585",
    "end": "46590"
  },
  {
    "text": "uh, vector r stabilizes.",
    "start": "46590",
    "end": "48885"
  },
  {
    "text": "And the way we are going to measure whether it stabilizes,",
    "start": "48885",
    "end": "51268"
  },
  {
    "text": "we'll say, \"Here is our previous estimate.\"",
    "start": "51269",
    "end": "54270"
  },
  {
    "text": "Now, t runs over the iteration of our algorithm,",
    "start": "54270",
    "end": "58005"
  },
  {
    "text": "where we say this is our previous estimate in the vector r. This is",
    "start": "58005",
    "end": "61590"
  },
  {
    "text": "our new estimating vector r. And if the coordinates,",
    "start": "61590",
    "end": "65355"
  },
  {
    "text": "the entries in the vector don't change too much,",
    "start": "65355",
    "end": "68100"
  },
  {
    "text": "they change less than epsilon, then we are done.",
    "start": "68100",
    "end": "70950"
  },
  {
    "text": "And the equation we are going to iterate is written here.",
    "start": "70950",
    "end": "74625"
  },
  {
    "text": "Basically, node j will say,",
    "start": "74625",
    "end": "76875"
  },
  {
    "text": "\"My new estimate of my importance is simply,",
    "start": "76875",
    "end": "80040"
  },
  {
    "text": "take the estimate of the nodes i that point to me, uh,",
    "start": "80040",
    "end": "84240"
  },
  {
    "text": "from the previous step, you know,",
    "start": "84240",
    "end": "86400"
  },
  {
    "text": "divide each one by the out-degree of node i,",
    "start": "86400",
    "end": "88650"
  },
  {
    "text": "sum them up, and that is my new importance.",
    "start": "88650",
    "end": "91155"
  },
  {
    "text": "And we are just going to iterate this, um, you know,",
    "start": "91155",
    "end": "93990"
  },
  {
    "text": "a couple of times and it's ah,",
    "start": "93990",
    "end": "95985"
  },
  {
    "text": "it's guaranteed to converge to the,",
    "start": "95985",
    "end": "98550"
  },
  {
    "text": "uh, to this- to the solution,",
    "start": "98550",
    "end": "100770"
  },
  {
    "text": "which is essentially saying this is guaranteed to find",
    "start": "100770",
    "end": "103259"
  },
  {
    "text": "me the leading eigenvector of- of the underlying,",
    "start": "103260",
    "end": "106784"
  },
  {
    "text": "uh, matrix, uh, M. So, um,",
    "start": "106784",
    "end": "110490"
  },
  {
    "start": "109000",
    "end": "278000"
  },
  {
    "text": "the method that do- does this, what I explained,",
    "start": "110490",
    "end": "113235"
  },
  {
    "text": "is called power iteration, where,",
    "start": "113235",
    "end": "115920"
  },
  {
    "text": "um, basically, the way we are going to do this,",
    "start": "115920",
    "end": "118979"
  },
  {
    "text": "to just write it again in the very simple form,",
    "start": "118980",
    "end": "121785"
  },
  {
    "text": "we initialize vector r, you know,",
    "start": "121785",
    "end": "124350"
  },
  {
    "text": "let's call in- call it initialization to be times zero, to be simply,",
    "start": "124350",
    "end": "128610"
  },
  {
    "text": "uh, you know, every node has,",
    "start": "128610",
    "end": "130170"
  },
  {
    "text": "let's say the same importance or you can assign the random importances.",
    "start": "130170",
    "end": "133395"
  },
  {
    "text": "And then we will simply iterate, you know,",
    "start": "133395",
    "end": "135615"
  },
  {
    "text": "new estimate of r equals M times",
    "start": "135615",
    "end": "138795"
  },
  {
    "text": "previous estimate of r. And we are going to iterate this equation, uh,",
    "start": "138795",
    "end": "142680"
  },
  {
    "text": "for long enough until the- the, uh,",
    "start": "142680",
    "end": "145920"
  },
  {
    "text": "ent- the entry wise differences between estimating",
    "start": "145920",
    "end": "149099"
  },
  {
    "text": "the previous round and in the next round when the sum of these differences,",
    "start": "149100",
    "end": "153090"
  },
  {
    "text": "uh, is, uh, less than epsilon.",
    "start": "153090",
    "end": "155055"
  },
  {
    "text": "Again, notice that this equation is exactly this equation, right?",
    "start": "155055",
    "end": "159510"
  },
  {
    "text": "This is just written in two different ways,",
    "start": "159510",
    "end": "161474"
  },
  {
    "text": "but it's exactly the same thing.",
    "start": "161475",
    "end": "163285"
  },
  {
    "text": "Um, one last thing to say is,",
    "start": "163285",
    "end": "165665"
  },
  {
    "text": "you can use the- what is called L_1 norm,",
    "start": "165665",
    "end": "168140"
  },
  {
    "text": "so the sum of the absolute differences here.",
    "start": "168140",
    "end": "170525"
  },
  {
    "text": "You could also use, let's say, Euclidean norm.",
    "start": "170525",
    "end": "172909"
  },
  {
    "text": "So sum of the squares of absolute differences, uh, if you like.",
    "start": "172910",
    "end": "177040"
  },
  {
    "text": "Um, and generally, it takes about 50 iterations.",
    "start": "177040",
    "end": "180209"
  },
  {
    "text": "You have to compute about 50, uh,",
    "start": "180210",
    "end": "182430"
  },
  {
    "text": "50- you have to compute this product 50 times before you",
    "start": "182430",
    "end": "186105"
  },
  {
    "text": "reach this stationary distribution or this, uh, limiting solution.",
    "start": "186105",
    "end": "190349"
  },
  {
    "text": "So basically, you can compute PageRank by a couple of,",
    "start": "190350",
    "end": "194475"
  },
  {
    "text": "uh, matrix vector multiplies, uh, and you are done.",
    "start": "194475",
    "end": "197505"
  },
  {
    "text": "And this is important because, you know,",
    "start": "197505",
    "end": "199620"
  },
  {
    "text": "Google is computing this PageRank every day over the entire web graph,",
    "start": "199620",
    "end": "204885"
  },
  {
    "text": "write off tens of billions of- uh,",
    "start": "204885",
    "end": "207299"
  },
  {
    "text": "of nodes, uh, and I know hundreds of billions of edges.",
    "start": "207300",
    "end": "210480"
  },
  {
    "text": "All right? So this is really, really scalable and you can- you can compute",
    "start": "210480",
    "end": "213780"
  },
  {
    "text": "it on the- on the graph that captures the entire web.",
    "start": "213780",
    "end": "217770"
  },
  {
    "text": "So, uh, to give you an example, again, uh,",
    "start": "217770",
    "end": "221865"
  },
  {
    "text": "power iteration method, you know,",
    "start": "221865",
    "end": "223785"
  },
  {
    "text": "written again, in a different way.",
    "start": "223785",
    "end": "225540"
  },
  {
    "text": "Our matrix M, our set of flow equations.",
    "start": "225540",
    "end": "228780"
  },
  {
    "text": "Uh, and what I'm going to show you here is the iterations of the algorithm,",
    "start": "228780",
    "end": "232334"
  },
  {
    "text": "where we set node importances to be simply, ah,",
    "start": "232335",
    "end": "235870"
  },
  {
    "text": "1/3 at the beginning and now we multiply",
    "start": "235870",
    "end": "238379"
  },
  {
    "text": "it with matrix M. And you know after we multiply once,",
    "start": "238380",
    "end": "241545"
  },
  {
    "text": "here are the new values.",
    "start": "241545",
    "end": "243120"
  },
  {
    "text": "We multiply the second time,",
    "start": "243120",
    "end": "244590"
  },
  {
    "text": "here are the new values and,",
    "start": "244590",
    "end": "246450"
  },
  {
    "text": "you know, the third time,",
    "start": "246450",
    "end": "247739"
  },
  {
    "text": "and as we keep multiplying the- the- uh,",
    "start": "247740",
    "end": "250635"
  },
  {
    "text": "the value of- values of vector r,",
    "start": "250635",
    "end": "253379"
  },
  {
    "text": "then we'll converge to a stationary, uh,",
    "start": "253380",
    "end": "256170"
  },
  {
    "text": "vector so that m equals - r equals N times r. Um,",
    "start": "256170",
    "end": "261570"
  },
  {
    "text": "and the final importances would be 6/15, 6/15, and 3/15.",
    "start": "261570",
    "end": "265890"
  },
  {
    "text": "It means y and a will have importance of 6/15,",
    "start": "265890",
    "end": "270420"
  },
  {
    "text": "and m will have a lower importance of, uh, 3/15.",
    "start": "270420",
    "end": "274260"
  },
  {
    "text": "So, um, this is- this is what PageRank is going to, uh, give us.",
    "start": "274260",
    "end": "279135"
  },
  {
    "start": "278000",
    "end": "318000"
  },
  {
    "text": "So now that we, uh,",
    "start": "279135",
    "end": "280860"
  },
  {
    "text": "have seen these equations and everything seems beautiful,",
    "start": "280860",
    "end": "284250"
  },
  {
    "text": "uh, we need to ask a few questions.",
    "start": "284250",
    "end": "286800"
  },
  {
    "text": "So first question is, does this converge?",
    "start": "286800",
    "end": "289425"
  },
  {
    "text": "Second question is, does it converge to where we want?",
    "start": "289425",
    "end": "293550"
  },
  {
    "text": "And the third question is,",
    "start": "293550",
    "end": "295275"
  },
  {
    "text": "are the results reasonable?",
    "start": "295275",
    "end": "297120"
  },
  {
    "text": "Right? So basically, what I said right now is create the, uh,",
    "start": "297120",
    "end": "300800"
  },
  {
    "text": "graph represented as this matrix M around this uh, uh,",
    "start": "300800",
    "end": "305789"
  },
  {
    "text": "uh, iterative- power iteration procedure,",
    "start": "305790",
    "end": "308809"
  },
  {
    "text": "it will converge in about 50 steps and you will get your,",
    "start": "308809",
    "end": "313145"
  },
  {
    "text": "uh, vector r out of it.",
    "start": "313145",
    "end": "315155"
  },
  {
    "text": "Let's look at this, uh,",
    "start": "315155",
    "end": "316730"
  },
  {
    "text": "a bit more, uh, carefully.",
    "start": "316730",
    "end": "318740"
  },
  {
    "start": "318000",
    "end": "356000"
  },
  {
    "text": "So it turns out that with what I explained so far,",
    "start": "318740",
    "end": "323014"
  },
  {
    "text": "there are two problems.",
    "start": "323015",
    "end": "324730"
  },
  {
    "text": "The first problem is that some pages are what is called dead ends.",
    "start": "324730",
    "end": "329925"
  },
  {
    "text": "They have no out links.",
    "start": "329925",
    "end": "331560"
  },
  {
    "text": "And It turns out that for such web pages,",
    "start": "331560",
    "end": "334139"
  },
  {
    "text": "the importance, the votes kind of leak out.",
    "start": "334140",
    "end": "337605"
  },
  {
    "text": "I will tell you what I mean by that.",
    "start": "337605",
    "end": "339450"
  },
  {
    "text": "And then there is also a second problem called a spid- spider traps,",
    "start": "339450",
    "end": "343920"
  },
  {
    "text": "where all outlinks are within the same group",
    "start": "343920",
    "end": "347310"
  },
  {
    "text": "and the- the spider traps eventually absorb all- all importance.",
    "start": "347310",
    "end": "352035"
  },
  {
    "text": "So let me now give you an example and you will see what's happening.",
    "start": "352035",
    "end": "355200"
  },
  {
    "text": "So, um, first, spider traps.",
    "start": "355200",
    "end": "358275"
  },
  {
    "start": "356000",
    "end": "421000"
  },
  {
    "text": "Uh, here, in this case, right,",
    "start": "358275",
    "end": "359880"
  },
  {
    "text": "we have a links to b,",
    "start": "359880",
    "end": "361170"
  },
  {
    "text": "and then b has a self-loop.",
    "start": "361170",
    "end": "363315"
  },
  {
    "text": "So if you run this, um, er,",
    "start": "363315",
    "end": "367230"
  },
  {
    "text": "power iteration of what an adjacency matrix describing this graph,",
    "start": "367230",
    "end": "370530"
  },
  {
    "text": "what will happen is that in the end, a will have,",
    "start": "370530",
    "end": "373440"
  },
  {
    "text": "um, importance zero, and b will have importance 1.",
    "start": "373440",
    "end": "376920"
  },
  {
    "text": "And if you think of this, why is this happening is",
    "start": "376920",
    "end": "378900"
  },
  {
    "text": "because wherever the random walker starts,",
    "start": "378900",
    "end": "381705"
  },
  {
    "text": "uh, you know, it will traverse this edge and get into b,",
    "start": "381705",
    "end": "384645"
  },
  {
    "text": "and then it is going to- to- to be stuck here in b forever,",
    "start": "384645",
    "end": "388784"
  },
  {
    "text": "so really, you know,",
    "start": "388784",
    "end": "390225"
  },
  {
    "text": "after some number of time,",
    "start": "390225",
    "end": "391815"
  },
  {
    "text": "the random walker is- is in node b with probability 1,",
    "start": "391815",
    "end": "395085"
  },
  {
    "text": "and can never go back to a.",
    "start": "395085",
    "end": "396930"
  },
  {
    "text": "So this is called a spider trap because the random walker gets trapped, and at the end,",
    "start": "396930",
    "end": "401745"
  },
  {
    "text": "you know, this may be, uh, er,",
    "start": "401745",
    "end": "404264"
  },
  {
    "text": "all the importance will be,",
    "start": "404265",
    "end": "405870"
  },
  {
    "text": "uh, kept here in b.",
    "start": "405870",
    "end": "407625"
  },
  {
    "text": "And you can imagine these that, you know,",
    "start": "407625",
    "end": "409080"
  },
  {
    "text": "even if- if you have a super huge graph here, eventually,",
    "start": "409080",
    "end": "411900"
  },
  {
    "text": "the random walker is going traverse over this edge and then",
    "start": "411900",
    "end": "414810"
  },
  {
    "text": "be stuck forever in this, uh, self-loop.",
    "start": "414810",
    "end": "417915"
  },
  {
    "text": "So that's the problem of spider traps.",
    "start": "417915",
    "end": "420900"
  },
  {
    "text": "Um, and then here is the problem of dead ends.",
    "start": "420900",
    "end": "424050"
  },
  {
    "start": "421000",
    "end": "464000"
  },
  {
    "text": "The problem of dead ends is now that node b has no outlink.",
    "start": "424050",
    "end": "428085"
  },
  {
    "text": "And what this means that if you would simply create an adjacency matrix for this graph,",
    "start": "428085",
    "end": "432419"
  },
  {
    "text": "run the power iteration,",
    "start": "432420",
    "end": "433785"
  },
  {
    "text": "it will converge to all zeros.",
    "start": "433785",
    "end": "436245"
  },
  {
    "text": "And intuitively, why is this happening is",
    "start": "436245",
    "end": "438840"
  },
  {
    "text": "that as soon as the random walker gets to node b,",
    "start": "438840",
    "end": "441885"
  },
  {
    "text": "the random walker has nowhere to go so it kind of falls off",
    "start": "441885",
    "end": "444780"
  },
  {
    "text": "the cliff and the- and it gets lost.",
    "start": "444780",
    "end": "447945"
  },
  {
    "text": "Right? And this way,",
    "start": "447945",
    "end": "449205"
  },
  {
    "text": "the- the dead ends kind of this importance doesn't yet sum to one anymore,",
    "start": "449205",
    "end": "454724"
  },
  {
    "text": "but it leaks out, uh, of the graph.",
    "start": "454725",
    "end": "457740"
  },
  {
    "text": "So, um, this is- uh,",
    "start": "457740",
    "end": "460305"
  },
  {
    "text": "these are two problems that we are going to address.",
    "start": "460305",
    "end": "464384"
  },
  {
    "start": "464000",
    "end": "560000"
  },
  {
    "text": "And, um, you know, what is the solution?",
    "start": "464385",
    "end": "467130"
  },
  {
    "text": "The solution is this notion of,",
    "start": "467130",
    "end": "470355"
  },
  {
    "text": "uh, random jumps or teleports.",
    "start": "470355",
    "end": "473115"
  },
  {
    "text": "So the solution for spider traps is that",
    "start": "473115",
    "end": "476130"
  },
  {
    "text": "we are going to change the random walk processor.",
    "start": "476130",
    "end": "479415"
  },
  {
    "text": "So basically saying at every time",
    "start": "479415",
    "end": "482115"
  },
  {
    "text": "the random walker will not only choose a link at random,",
    "start": "482115",
    "end": "485145"
  },
  {
    "text": "but can also decide to teleport itself.",
    "start": "485145",
    "end": "488115"
  },
  {
    "text": "So let me explain what this means.",
    "start": "488115",
    "end": "489930"
  },
  {
    "text": "So we are going to have one parameter beta",
    "start": "489930",
    "end": "493410"
  },
  {
    "text": "that will allow random walker to do one of the two choices.",
    "start": "493410",
    "end": "497250"
  },
  {
    "text": "With probability beta, you know,",
    "start": "497250",
    "end": "499725"
  },
  {
    "text": "the random walker will decide and follow a link at",
    "start": "499725",
    "end": "502470"
  },
  {
    "text": "random the same way as we discussed, um, so far.",
    "start": "502470",
    "end": "505710"
  },
  {
    "text": "But with probability 1 minus beta,",
    "start": "505710",
    "end": "508095"
  },
  {
    "text": "the random walker is going to jump teleport to a random page.",
    "start": "508095",
    "end": "512985"
  },
  {
    "text": "And the common values of beta usually are between 0.8 to 0.9.",
    "start": "512985",
    "end": "517649"
  },
  {
    "text": "So it means that, you know,",
    "start": "517650",
    "end": "519150"
  },
  {
    "text": "if a random walker gets stuc- stuck in a spider trap,",
    "start": "519150",
    "end": "522210"
  },
  {
    "text": "it will stay here for a few steps,",
    "start": "522210",
    "end": "524820"
  },
  {
    "text": "but it's- eventually, it will- it will- it will be able to teleport out, right?",
    "start": "524820",
    "end": "529320"
  },
  {
    "text": "Because with some smaller probability,",
    "start": "529320",
    "end": "531495"
  },
  {
    "text": "the random walker will say,",
    "start": "531495",
    "end": "532695"
  },
  {
    "text": "\"Let me just randomly teleport to a random page.\"",
    "start": "532695",
    "end": "535260"
  },
  {
    "text": "So it means that out of every webpage,",
    "start": "535260",
    "end": "537869"
  },
  {
    "text": "out of every node, there is a way for you to teleport yourself somewhere else.",
    "start": "537869",
    "end": "542190"
  },
  {
    "text": "So basically, randomly jump somewhere else.",
    "start": "542190",
    "end": "544770"
  },
  {
    "text": "And this is, um,",
    "start": "544770",
    "end": "546525"
  },
  {
    "text": "how now spider traps are no longer the problem because you don't get,",
    "start": "546525",
    "end": "551325"
  },
  {
    "text": "er, trapped, you can always, uh, jump out.",
    "start": "551325",
    "end": "553740"
  },
  {
    "text": "You can always teleport, you know,",
    "start": "553740",
    "end": "555584"
  },
  {
    "text": "the [inaudible] can all you - always kind of give you up.",
    "start": "555585",
    "end": "557940"
  },
  {
    "text": "That is kind of the idea.",
    "start": "557940",
    "end": "559425"
  },
  {
    "text": "Um, how about the dead ends?",
    "start": "559425",
    "end": "562022"
  },
  {
    "start": "560000",
    "end": "626000"
  },
  {
    "text": "The- the- the way you do this is also with teleports.",
    "start": "562022",
    "end": "566545"
  },
  {
    "text": "Essentially, what you say,",
    "start": "566545",
    "end": "567894"
  },
  {
    "text": "if you come to a dead end,",
    "start": "567895",
    "end": "569380"
  },
  {
    "text": "if you come to node m and there's nowhere for you to go,",
    "start": "569380",
    "end": "572125"
  },
  {
    "text": "what you- what you do is you simply teleport with probability 1.0, right?",
    "start": "572125",
    "end": "576280"
  },
  {
    "text": "So, uh, you know,",
    "start": "576280",
    "end": "577720"
  },
  {
    "text": "why were the dead- dead end is the problem?",
    "start": "577720",
    "end": "580160"
  },
  {
    "text": "Dead ends were the problem because m has no outlinks,",
    "start": "580160",
    "end": "583548"
  },
  {
    "text": "so our column of this, uh, matrix M,",
    "start": "583549",
    "end": "587110"
  },
  {
    "text": "the column stochastic adjacency matrix is not- is the- the- the column stochasticity is,",
    "start": "587110",
    "end": "594535"
  },
  {
    "text": "uh, violated because column for node m does not sum to 1 because m has no outlinks.",
    "start": "594535",
    "end": "599514"
  },
  {
    "text": "So what do we do is,",
    "start": "599515",
    "end": "600740"
  },
  {
    "text": "we fix this by basically saying,",
    "start": "600740",
    "end": "602875"
  },
  {
    "text": "when you arrive to node m,",
    "start": "602875",
    "end": "604355"
  },
  {
    "text": "you can- you can randomly teleport wherever you want,",
    "start": "604355",
    "end": "608154"
  },
  {
    "text": "you can jump to any node.",
    "start": "608155",
    "end": "609460"
  },
  {
    "text": "So this means in some sense,",
    "start": "609460",
    "end": "610570"
  },
  {
    "text": "now- now m is connected to all other nodes in the network,",
    "start": "610570",
    "end": "614950"
  },
  {
    "text": "including itself, and, um, you know,",
    "start": "614950",
    "end": "617860"
  },
  {
    "text": "the random worker can choose any of these links with equal probability.",
    "start": "617860",
    "end": "621800"
  },
  {
    "text": "And this, uh, solves the problem of dead ends.",
    "start": "621800",
    "end": "624565"
  },
  {
    "text": "It essentially eliminates them.",
    "start": "624565",
    "end": "626630"
  },
  {
    "start": "626000",
    "end": "741000"
  },
  {
    "text": "So why do teleports solve the problem, right?",
    "start": "626630",
    "end": "630570"
  },
  {
    "text": "What are- why are dead ends and spider traps a problem,",
    "start": "630570",
    "end": "634005"
  },
  {
    "text": "and why do teleports solve both of them, right?",
    "start": "634005",
    "end": "637225"
  },
  {
    "text": "Spider traps, in some sense,",
    "start": "637225",
    "end": "639204"
  },
  {
    "text": "are not a mathematical problem,",
    "start": "639205",
    "end": "640960"
  },
  {
    "text": "in a sense that the eigenve- the eigenvector is still well defined,",
    "start": "640960",
    "end": "644980"
  },
  {
    "text": "the power iteration is going to- to converge,",
    "start": "644980",
    "end": "647904"
  },
  {
    "text": "everything is fine, uh, mathematically.",
    "start": "647905",
    "end": "650470"
  },
  {
    "text": "But the problem is that the PageRank score is not what we want, right?",
    "start": "650470",
    "end": "654279"
  },
  {
    "text": "We don't want to say there is one page on the web that is important,",
    "start": "654280",
    "end": "658930"
  },
  {
    "text": "uh, has all the importance,",
    "start": "658930",
    "end": "660695"
  },
  {
    "text": "and everyone else is zero important, right?",
    "start": "660695",
    "end": "663700"
  },
  {
    "text": "So the solution here is to add teleports.",
    "start": "663700",
    "end": "666940"
  },
  {
    "text": "This means the random walker never gets,",
    "start": "666940",
    "end": "669265"
  },
  {
    "text": "uh, trapped in a spider trap, um,",
    "start": "669265",
    "end": "671680"
  },
  {
    "text": "and it will be able to teleport itself out in a finite number of steps,",
    "start": "671680",
    "end": "675399"
  },
  {
    "text": "which means that all the nodes on the web will now have some importance.",
    "start": "675400",
    "end": "679610"
  },
  {
    "text": "So this basically is,",
    "start": "679610",
    "end": "681970"
  },
  {
    "text": "um, solves us, uh, this particular issue.",
    "start": "681970",
    "end": "684399"
  },
  {
    "text": "So spider traps are not a mathematical problem,",
    "start": "684400",
    "end": "687640"
  },
  {
    "text": "but a problem that PageRank,",
    "start": "687640",
    "end": "689800"
  },
  {
    "text": "uh, value is not- becomes not what we want.",
    "start": "689800",
    "end": "693295"
  },
  {
    "text": "And then dead ends are a problem mathematically",
    "start": "693295",
    "end": "697600"
  },
  {
    "text": "because our matrix M is not column stochastic anymore, uh,",
    "start": "697600",
    "end": "702579"
  },
  {
    "text": "and our initial assumptions are not met, so power iteration,",
    "start": "702580",
    "end": "706435"
  },
  {
    "text": "as a method, does not- does not, uh,",
    "start": "706435",
    "end": "708890"
  },
  {
    "text": "does not work, uh, and does not converge.",
    "start": "708890",
    "end": "711445"
  },
  {
    "text": "So the solution here is to make the column-",
    "start": "711445",
    "end": "714145"
  },
  {
    "text": "the matrix column stochastic by always teleporting when there is nowhere to go, right?",
    "start": "714145",
    "end": "719640"
  },
  {
    "text": "Whenever you come to a node without any outlinks,",
    "start": "719640",
    "end": "721785"
  },
  {
    "text": "you always randomly teleport,",
    "start": "721785",
    "end": "723454"
  },
  {
    "text": "um, and this is now means that basically,",
    "start": "723455",
    "end": "725770"
  },
  {
    "text": "the same solution of teleports both give-",
    "start": "725770",
    "end": "729205"
  },
  {
    "text": "gives us PageRank the way we want it to define intuitively,",
    "start": "729205",
    "end": "732935"
  },
  {
    "text": "and also fixes the underlying mathematical problems",
    "start": "732935",
    "end": "736510"
  },
  {
    "text": "that all these concepts that I discussed, um, are well-defined.",
    "start": "736510",
    "end": "740770"
  },
  {
    "text": "So what is the final solution or the Google solution to this problem?",
    "start": "740770",
    "end": "746080"
  },
  {
    "start": "741000",
    "end": "869000"
  },
  {
    "text": "Um, the solution is that at each step,",
    "start": "746080",
    "end": "748835"
  },
  {
    "text": "the random walker has two options;",
    "start": "748835",
    "end": "751315"
  },
  {
    "text": "you know, it flips a coin,",
    "start": "751315",
    "end": "752800"
  },
  {
    "text": "and with some probability Beta,",
    "start": "752800",
    "end": "754795"
  },
  {
    "text": "it's going to follow an outlink- outlink at random,",
    "start": "754795",
    "end": "758014"
  },
  {
    "text": "and with the remaining probability,",
    "start": "758015",
    "end": "760595"
  },
  {
    "text": "it's going to jump to a random page.",
    "start": "760595",
    "end": "763194"
  },
  {
    "text": "So the way now our PageRank equation that was defined by,",
    "start": "763195",
    "end": "767770"
  },
  {
    "text": "um, uh, Sergey and Brin, um,",
    "start": "767770",
    "end": "770395"
  },
  {
    "text": "or Page and Brin, uh,",
    "start": "770395",
    "end": "771790"
  },
  {
    "text": "back, uh, in, uh,",
    "start": "771790",
    "end": "773245"
  },
  {
    "text": "1998, is the following: we say the importance of node j",
    "start": "773245",
    "end": "777805"
  },
  {
    "text": "equals the Beta times the importances of node i that,",
    "start": "777805",
    "end": "782845"
  },
  {
    "text": "uh, point to it, right?",
    "start": "782845",
    "end": "784074"
  },
  {
    "text": "Divided by their outdegrees plus 1 minus Beta,",
    "start": "784075",
    "end": "787930"
  },
  {
    "text": "1 over N. So the way you can think of this is to say,",
    "start": "787930",
    "end": "790810"
  },
  {
    "text": "if a random if a- how likely is a random walker likely to be at node j right now?",
    "start": "790810",
    "end": "795665"
  },
  {
    "text": "It- with probability Beta,",
    "start": "795665",
    "end": "798245"
  },
  {
    "text": "it decided to follow on, uh,",
    "start": "798245",
    "end": "800260"
  },
  {
    "text": "an outlink, and this means it was,",
    "start": "800260",
    "end": "802795"
  },
  {
    "text": "at node i, with what- with some probability r_i,",
    "start": "802795",
    "end": "805600"
  },
  {
    "text": "and it decided to follow an out- outlink towards,",
    "start": "805600",
    "end": "808810"
  },
  {
    "text": "uh, node j, following, you know,",
    "start": "808810",
    "end": "811630"
  },
  {
    "text": "picking the right outlink out of the d_i outlink has the probability 1 over d_i,",
    "start": "811630",
    "end": "817055"
  },
  {
    "text": "so that's what's happening here.",
    "start": "817055",
    "end": "818899"
  },
  {
    "text": "And then we say, oh, and also,",
    "start": "818900",
    "end": "821625"
  },
  {
    "text": "the random walker could come to the node j,",
    "start": "821625",
    "end": "825270"
  },
  {
    "text": "um, by basically teleporting,",
    "start": "825270",
    "end": "827655"
  },
  {
    "text": "1 minus Beta is probability of teleporting.",
    "start": "827655",
    "end": "830205"
  },
  {
    "text": "Now, how likely is the random walker to land at node j?",
    "start": "830205",
    "end": "834100"
  },
  {
    "text": "Node j is just one out of N nodes,",
    "start": "834100",
    "end": "837365"
  },
  {
    "text": "so the probability that it landed at specific node j is 1 over N. And uh, this is essentially,",
    "start": "837365",
    "end": "844188"
  },
  {
    "text": "uh, the PageRank, uh,",
    "start": "844189",
    "end": "845845"
  },
  {
    "text": "equation and iteration one can run.",
    "start": "845845",
    "end": "848845"
  },
  {
    "text": "Uh, just note that this formulation here assumes M has no dead ends.",
    "start": "848845",
    "end": "853389"
  },
  {
    "text": "The way you can do is you can pre-process matrix M to remove all the dead ends,",
    "start": "853390",
    "end": "857920"
  },
  {
    "text": "um, and or- or explicitly follow random teleports with probability 1.0 out of dead-ends.",
    "start": "857920",
    "end": "863885"
  },
  {
    "text": "So that's how you can, uh, fix this.",
    "start": "863885",
    "end": "866425"
  },
  {
    "text": "But you can see again, this is very fast and very simple, uh, to iterate.",
    "start": "866425",
    "end": "870459"
  },
  {
    "start": "869000",
    "end": "975000"
  },
  {
    "text": "So I just gave you the equation in this,",
    "start": "870460",
    "end": "874195"
  },
  {
    "text": "um, the, uh, flow-based formulation in some sense.",
    "start": "874195",
    "end": "877180"
  },
  {
    "text": "You can also write it in a matrix form,",
    "start": "877180",
    "end": "879490"
  },
  {
    "text": "where you say my new matrix, uh, uh, G, right?",
    "start": "879490",
    "end": "883480"
  },
  {
    "text": "So this should be G equals Beta times the stochastic matrix M plus 1 minus Beta,",
    "start": "883480",
    "end": "890245"
  },
  {
    "text": "um, times the, uh,",
    "start": "890245",
    "end": "892790"
  },
  {
    "text": "the matrix that has all the entries, uh,",
    "start": "892790",
    "end": "895610"
  },
  {
    "text": "1 over N. So this is the random teleportation, uh, matrix,",
    "start": "895610",
    "end": "899360"
  },
  {
    "text": "and this is the- the transition matrix over the edges of the graph.",
    "start": "899360",
    "end": "903470"
  },
  {
    "text": "Um, and then you have this, again,",
    "start": "903470",
    "end": "905350"
  },
  {
    "text": "recursive equation that r equals G times r,",
    "start": "905350",
    "end": "908214"
  },
  {
    "text": "and you can iterate this, uh,",
    "start": "908215",
    "end": "910255"
  },
  {
    "text": "power i- power iteration would still work, um,",
    "start": "910255",
    "end": "913195"
  },
  {
    "text": "and if you ask what should be the Beta value that I- that I set, in practice,",
    "start": "913195",
    "end": "919329"
  },
  {
    "text": "we take Beta to be between 0.8, uh, and 0.9,",
    "start": "919329",
    "end": "922834"
  },
  {
    "text": "which means that you- the random walker takes",
    "start": "922835",
    "end": "924820"
  },
  {
    "text": "about five steps on the average before it decides to jump.",
    "start": "924820",
    "end": "929215"
  },
  {
    "text": "Uh, just to be very clear,",
    "start": "929215",
    "end": "931420"
  },
  {
    "text": "the random walk is just the intuition,",
    "start": "931420",
    "end": "933829"
  },
  {
    "text": "and we'd never simulate the random walk, right?",
    "start": "933830",
    "end": "936630"
  },
  {
    "text": "In the previous lecture,",
    "start": "936630",
    "end": "937870"
  },
  {
    "text": "we actually said, \"Let's simulate the random walk.\"",
    "start": "937870",
    "end": "940120"
  },
  {
    "text": "Here, we don't simulate the random walk,",
    "start": "940120",
    "end": "942365"
  },
  {
    "text": "but, uh, in some sense,",
    "start": "942365",
    "end": "944200"
  },
  {
    "text": "we think of it as being run infinitely long,",
    "start": "944200",
    "end": "947695"
  },
  {
    "text": "and then we say- we show that actually,",
    "start": "947695",
    "end": "950125"
  },
  {
    "text": "we can compute this infinitely long random walk",
    "start": "950125",
    "end": "953080"
  },
  {
    "text": "by basically solving this recursive equation by basically",
    "start": "953080",
    "end": "956075"
  },
  {
    "text": "computing the- the leading eigenvector of this graph-transformed matrix,",
    "start": "956075",
    "end": "963159"
  },
  {
    "text": "uh, that I call,",
    "start": "963159",
    "end": "964295"
  },
  {
    "text": "uh, G, uh, here.",
    "start": "964295",
    "end": "965930"
  },
  {
    "text": "So the random walk is just an intuition because we never truly,",
    "start": "965930",
    "end": "970729"
  },
  {
    "text": "um, we never truly, uh, simulated.",
    "start": "970729",
    "end": "974930"
  },
  {
    "text": "So to show you how this works, here is my, uh,",
    "start": "974930",
    "end": "978100"
  },
  {
    "start": "975000",
    "end": "1083000"
  },
  {
    "text": "little graph on three nodes, uh,",
    "start": "978100",
    "end": "980944"
  },
  {
    "text": "here's the matrix M. Notice that, uh,",
    "start": "980945",
    "end": "984580"
  },
  {
    "text": "the node m is a- is a spider trap,",
    "start": "984580",
    "end": "987670"
  },
  {
    "text": "so what do I do now is I add also these,",
    "start": "987670",
    "end": "991165"
  },
  {
    "text": "um, random teleport, uh, links,",
    "start": "991165",
    "end": "993399"
  },
  {
    "text": "so I have this matrix, uh, uh,",
    "start": "993400",
    "end": "995890"
  },
  {
    "text": "1 over N. Let's say that my Beta is 0.8,",
    "start": "995890",
    "end": "998824"
  },
  {
    "text": "so now, my new stochastic transition matrix G is written here, right?",
    "start": "998824",
    "end": "1005120"
  },
  {
    "text": "It's 0.8 times the, uh,",
    "start": "1005120",
    "end": "1007365"
  },
  {
    "text": "matrix of link transitions plus point to the,",
    "start": "1007365",
    "end": "1010800"
  },
  {
    "text": "uh, matrix of random jumps, where basically,",
    "start": "1010800",
    "end": "1013740"
  },
  {
    "text": "you can think of this that every column says,",
    "start": "1013740",
    "end": "1016110"
  },
  {
    "text": "if a no- if a random surfer is at a given node,",
    "start": "1016110",
    "end": "1019274"
  },
  {
    "text": "then this is the probability distribution where the random surfer is going to jump.",
    "start": "1019275",
    "end": "1023505"
  },
  {
    "text": "And if you add these two together,",
    "start": "1023505",
    "end": "1024805"
  },
  {
    "text": "you get a new, um,",
    "start": "1024805",
    "end": "1026610"
  },
  {
    "text": "transition matrix now that includes both traversing over the links of the graph,",
    "start": "1026610",
    "end": "1030540"
  },
  {
    "text": "as well as randomly jumping.",
    "start": "1030540",
    "end": "1032589"
  },
  {
    "text": "Uh, here is how you can think of this in terms of transition probabilities.",
    "start": "1032590",
    "end": "1036380"
  },
  {
    "text": "These are now, in some sense,",
    "start": "1036380",
    "end": "1037770"
  },
  {
    "text": "transition probabilities of a random walker,",
    "start": "1037770",
    "end": "1039885"
  },
  {
    "text": "random surfer, um, and then you can multiply,",
    "start": "1039885",
    "end": "1042479"
  },
  {
    "text": "uh, r with G multiple times.",
    "start": "1042479",
    "end": "1044970"
  },
  {
    "text": "Here is the r_0, and now,",
    "start": "1044970",
    "end": "1046740"
  },
  {
    "text": "we are multiplying it over and over and over again, and you know,",
    "start": "1046740",
    "end": "1049950"
  },
  {
    "text": "after some number of iterations,",
    "start": "1049950",
    "end": "1051299"
  },
  {
    "text": "it's going to converge,",
    "start": "1051300",
    "end": "1052555"
  },
  {
    "text": "and it converges to 7 over 33,",
    "start": "1052555",
    "end": "1054990"
  },
  {
    "text": "5 over 33, and 21 over 33.",
    "start": "1054990",
    "end": "1057630"
  },
  {
    "text": "So it means that node m in this graph will be the most important,",
    "start": "1057630",
    "end": "1061320"
  },
  {
    "text": "followed by y, followed by a, right?",
    "start": "1061320",
    "end": "1064350"
  },
  {
    "text": "And the why m is so important is because it's kind of a spider trap,",
    "start": "1064350",
    "end": "1067809"
  },
  {
    "text": "but we also are able to teleport out.",
    "start": "1067810",
    "end": "1070215"
  },
  {
    "text": "Now, if intuitively, this is, uh, you know,",
    "start": "1070215",
    "end": "1073044"
  },
  {
    "text": "node m kind of collects too much importance,",
    "start": "1073045",
    "end": "1076065"
  },
  {
    "text": "you can increase, uh, value of beta,",
    "start": "1076065",
    "end": "1078625"
  },
  {
    "text": "and the importance of node m is going to, uh, decrease.",
    "start": "1078625",
    "end": "1082915"
  },
  {
    "text": "And just to show you an idea how this-",
    "start": "1082915",
    "end": "1086310"
  },
  {
    "start": "1083000",
    "end": "1210000"
  },
  {
    "text": "how this looks like in- in a bit more interesting graph,",
    "start": "1086310",
    "end": "1089660"
  },
  {
    "text": "this is a graph where node size corresponds to it's PageRank weight,",
    "start": "1089660",
    "end": "1093080"
  },
  {
    "text": "and also, there is a number that tells you what's the PageRank score of the node?",
    "start": "1093080",
    "end": "1096544"
  },
  {
    "text": "What do you notice?",
    "start": "1096545",
    "end": "1098010"
  },
  {
    "text": "For example, why is PageRank so cool?",
    "start": "1098010",
    "end": "1100000"
  },
  {
    "text": "It's cool because, for example, first,",
    "start": "1100000",
    "end": "1101785"
  },
  {
    "text": "notice all nodes have non-zero importance.",
    "start": "1101785",
    "end": "1104350"
  },
  {
    "text": "So even this nodes here,",
    "start": "1104350",
    "end": "1106080"
  },
  {
    "text": "um, that have no inlinks,",
    "start": "1106080",
    "end": "1107684"
  },
  {
    "text": "they still have some importance because a random jumper can always jump to them.",
    "start": "1107685",
    "end": "1111620"
  },
  {
    "text": "Another thing to notice is that for example,",
    "start": "1111620",
    "end": "1113545"
  },
  {
    "text": "node B has a lot of inlinks,",
    "start": "1113545",
    "end": "1116120"
  },
  {
    "text": "and it- so that's why it has high importance, right?",
    "start": "1116120",
    "end": "1119990"
  },
  {
    "text": "Notice that, for example, node E has, you know,",
    "start": "1119990",
    "end": "1122790"
  },
  {
    "text": "it has five inlinks, six inlinks,",
    "start": "1122790",
    "end": "1124955"
  },
  {
    "text": "and, uh, node B also has six inlinks.",
    "start": "1124955",
    "end": "1127710"
  },
  {
    "text": "But because node E gets most of the inlinks from this unimportant pages,",
    "start": "1127710",
    "end": "1132135"
  },
  {
    "text": "its importance is, you know,",
    "start": "1132135",
    "end": "1133670"
  },
  {
    "text": "eighth, versus B, who is 38,",
    "start": "1133670",
    "end": "1136120"
  },
  {
    "text": "so B is much more important because it gets, uh,",
    "start": "1136120",
    "end": "1139975"
  },
  {
    "text": "inlinks from these other nodes that have higher importance than this,",
    "start": "1139975",
    "end": "1143525"
  },
  {
    "text": "uh, little blue nodes.",
    "start": "1143525",
    "end": "1144960"
  },
  {
    "text": "Um, another thing to notice is,",
    "start": "1144960",
    "end": "1147075"
  },
  {
    "text": "for example, node C has only one inlink,",
    "start": "1147075",
    "end": "1149565"
  },
  {
    "text": "but because it gets it from this super important node B,",
    "start": "1149565",
    "end": "1153120"
  },
  {
    "text": "its importance is also very, very high, right?",
    "start": "1153120",
    "end": "1156550"
  },
  {
    "text": "You see, for example,",
    "start": "1156550",
    "end": "1157700"
  },
  {
    "text": "also that, uh, here,",
    "start": "1157700",
    "end": "1159210"
  },
  {
    "text": "node E has some,",
    "start": "1159210",
    "end": "1160950"
  },
  {
    "text": "uh, s- uh, you know, some importance,",
    "start": "1160950",
    "end": "1163495"
  },
  {
    "text": "uh, D has less,",
    "start": "1163495",
    "end": "1164860"
  },
  {
    "text": "uh, F has less, uh,",
    "start": "1164860",
    "end": "1166455"
  },
  {
    "text": "they both have the same importance, D and F,",
    "start": "1166455",
    "end": "1169644"
  },
  {
    "text": "because they both get one inlink from node E. So notice how these, uh,",
    "start": "1169645",
    "end": "1174790"
  },
  {
    "text": "importances are very nuanced,",
    "start": "1174790",
    "end": "1176975"
  },
  {
    "text": "and they take a lot of different considerations into account that all make sense,",
    "start": "1176975",
    "end": "1182280"
  },
  {
    "text": "in a sense of I want a lot of inlinks,",
    "start": "1182280",
    "end": "1184675"
  },
  {
    "text": "I want inlinks from, uh,",
    "start": "1184675",
    "end": "1186190"
  },
  {
    "text": "important nodes, even if I have one inlink,",
    "start": "1186190",
    "end": "1188730"
  },
  {
    "text": "but some were the very important links to me,",
    "start": "1188730",
    "end": "1190605"
  },
  {
    "text": "that means I am very important,",
    "start": "1190605",
    "end": "1192564"
  },
  {
    "text": "um, and so on- so on and so forth.",
    "start": "1192564",
    "end": "1194940"
  },
  {
    "text": "So, uh, this is why this notion of PageRank is so,",
    "start": "1194940",
    "end": "1198715"
  },
  {
    "text": "so useful, and also,",
    "start": "1198715",
    "end": "1200220"
  },
  {
    "text": "there is a lot of mathematical beauty,",
    "start": "1200220",
    "end": "1202480"
  },
  {
    "text": "um, uh, behind its, uh,",
    "start": "1202480",
    "end": "1204110"
  },
  {
    "text": "its definition, and we can efficiently compute it,",
    "start": "1204110",
    "end": "1207385"
  },
  {
    "text": "uh, for very large-scale, uh, graphs.",
    "start": "1207385",
    "end": "1210315"
  },
  {
    "start": "1210000",
    "end": "1241000"
  },
  {
    "text": "So to summarize, we talked about how do we solve the PageRank, uh, scores.",
    "start": "1210315",
    "end": "1215934"
  },
  {
    "text": "We solve them by iterating this, uh,",
    "start": "1215935",
    "end": "1218340"
  },
  {
    "text": "equation, r equals G times r, um,",
    "start": "1218340",
    "end": "1221260"
  },
  {
    "text": "and this can be efficiently computed using",
    "start": "1221260",
    "end": "1223500"
  },
  {
    "text": "power iteration of the stochastic matrix G, um,",
    "start": "1223500",
    "end": "1226990"
  },
  {
    "text": "and adding uniform teleportation solves both the issues with dead ends,",
    "start": "1226990",
    "end": "1233304"
  },
  {
    "text": "as well as the issue with spider traps",
    "start": "1233305",
    "end": "1236620"
  }
]