[
  {
    "start": "0",
    "end": "60000"
  },
  {
    "text": "okay so I Dennis offer slot talk about whatever I wanted so I'm",
    "start": "12019",
    "end": "19960"
  },
  {
    "text": "going to talk about some work I've been doing then collect synchronization generally I'm going to say why I what it",
    "start": "19960",
    "end": "27340"
  },
  {
    "text": "is what I call clock synchronization why I got interested in it why it turns out",
    "start": "27340",
    "end": "32890"
  },
  {
    "text": "to be a little bit of a challenging problem it turns out that we all use a",
    "start": "32890",
    "end": "38110"
  },
  {
    "text": "clock synchronization algorithm called NTP and I'll say why it didn't quite work for us in this situation",
    "start": "38110",
    "end": "44800"
  },
  {
    "text": "I talked about the clock synchronization algorithm that we actually came up with",
    "start": "44800",
    "end": "52500"
  },
  {
    "text": "functions and how it works and then talk a little bit about both future work and",
    "start": "52500",
    "end": "58269"
  },
  {
    "text": "sort of alternatives related work okay this you know what I say clock",
    "start": "58269",
    "end": "64150"
  },
  {
    "start": "60000",
    "end": "116000"
  },
  {
    "text": "synchronization didn't kind of a software person you know my mental model is you got a collection of machines you",
    "start": "64150",
    "end": "71409"
  },
  {
    "text": "know we're looking at machines in our data and our data center each of them has something that tries to keep track",
    "start": "71409",
    "end": "77380"
  },
  {
    "text": "of time of day you know you know what time it is some things and so the",
    "start": "77380",
    "end": "83560"
  },
  {
    "text": "question BR is if you went and we're able to simultaneously ask each of those",
    "start": "83560",
    "end": "89380"
  },
  {
    "text": "machines what time it is what time would you get and they're sort of a you know",
    "start": "89380",
    "end": "95200"
  },
  {
    "text": "kind of a famous saying and you know it's sort of this kind of business a person with a wristwatch knows what time",
    "start": "95200",
    "end": "102280"
  },
  {
    "text": "it is a person with two watches has no idea and the reason is you know like of",
    "start": "102280",
    "end": "107469"
  },
  {
    "text": "these things no matter what we do there are different kind of systems and different clock domains they read",
    "start": "107469",
    "end": "113319"
  },
  {
    "text": "returned a different value so the reason",
    "start": "113319",
    "end": "118359"
  },
  {
    "start": "116000",
    "end": "183000"
  },
  {
    "text": "we kind of got interested in this you know Blasi and I was it's kind of a simple thing we were looking around at",
    "start": "118359",
    "end": "125889"
  },
  {
    "text": "networked machines connected by a network and we wanted to be able to send a packet from one machine to the other",
    "start": "125889",
    "end": "132910"
  },
  {
    "text": "and time how long it took and so it's relatively easy for us to like just",
    "start": "132910",
    "end": "139390"
  },
  {
    "text": "start a stop look at their cut time add a clock on one machine and then immediately send the packet out and then",
    "start": "139390",
    "end": "146860"
  },
  {
    "text": "when it arrives at the other machine look at the time of day clock and get to time values the problem we ran ran into",
    "start": "146860",
    "end": "154720"
  },
  {
    "text": "if you do something like some take the receive diamonds up subtract the transmit time to get the time it took to",
    "start": "154720",
    "end": "162310"
  },
  {
    "text": "send a packet we will repeatedly get things like been negative numbers and",
    "start": "162310",
    "end": "167790"
  },
  {
    "text": "the problem here is the clocks and those two machines are so discouraged so we're",
    "start": "167790",
    "end": "173350"
  },
  {
    "text": "trying to think well these machines that are our data center maybe we could like make this work by sort of synchronizing",
    "start": "173350",
    "end": "180160"
  },
  {
    "text": "the clocks up this lettuce kind of",
    "start": "180160",
    "end": "186130"
  },
  {
    "text": "understand a little bit how clocks of are kept and time is kept in a computer",
    "start": "186130",
    "end": "191560"
  },
  {
    "text": "system if you know most systems if you drill down low enough there's some kind of crystal oscillator in there that is",
    "start": "191560",
    "end": "199540"
  },
  {
    "text": "it sits there and then oscillates yeah you know they kind of I guess a little",
    "start": "199540",
    "end": "205750"
  },
  {
    "text": "bit of a miracle of manufacturing they're able to take these things and let cut a little quartz crystal such",
    "start": "205750",
    "end": "212440"
  },
  {
    "text": "that it operates out pretty close to this frequency they want and these things and so what we do you put one of",
    "start": "212440",
    "end": "219910"
  },
  {
    "text": "these things in you know what it's supposed to be sort of God frequency it's running at and you just count the",
    "start": "219910",
    "end": "226120"
  },
  {
    "text": "number of ticks it has and you get a notion of time out of it and so you know",
    "start": "226120",
    "end": "231190"
  },
  {
    "text": "this is you know how these systems work and there's two sort of issues one of which is you know these manufacturers",
    "start": "231190",
    "end": "237820"
  },
  {
    "text": "scared but it's not perfect and that you know basically if you look at the spec of these parts you know depending on how",
    "start": "237820",
    "end": "244690"
  },
  {
    "text": "much you pay you know they'll they'll list them as saying it's accurate and like six parts per million which you",
    "start": "244690",
    "end": "251859"
  },
  {
    "text": "know in our world means it's accurate to know like six microseconds in one second so you know not who not that super",
    "start": "251859",
    "end": "258640"
  },
  {
    "text": "accurate even worse they have figures like this that show if you vary the",
    "start": "258640",
    "end": "265090"
  },
  {
    "text": "temperature what happens to the frequency of this thing curious thing is you know if you",
    "start": "265090",
    "end": "271590"
  },
  {
    "text": "operate near like 25 Celsius with this particular part you know you basically",
    "start": "271590",
    "end": "278580"
  },
  {
    "text": "would be close to what the manufacturer frequency but if your temperature varied from that you're gonna slow down garlis",
    "start": "278580",
    "end": "286770"
  },
  {
    "text": "so I got warmer or colder in there if you look at the unit's here on the side",
    "start": "286770",
    "end": "292260"
  },
  {
    "text": "these are effect way microseconds you could end up you know like it the thing heats up and having the frequency kind",
    "start": "292260",
    "end": "298980"
  },
  {
    "text": "of go south on you and in a hurry and so one of the things that this has been you",
    "start": "298980",
    "end": "305040"
  },
  {
    "text": "know you we see with our you know clock sink is this and you start the machine doing something it has the microphone",
    "start": "305040",
    "end": "316980"
  },
  {
    "text": "stop okay yeah sending out we basically",
    "start": "316980",
    "end": "322740"
  },
  {
    "text": "if you got you know just like we were looking at clocks on network interface",
    "start": "322740",
    "end": "327900"
  },
  {
    "text": "card you send a bunch of packets out and your clock frequency change and changes on you and stuff so this is sort of an",
    "start": "327900",
    "end": "336420"
  },
  {
    "text": "inkling of what you know said oh can go raw you know what makes this a hard problem when we started I'm working",
    "start": "336420",
    "end": "344820"
  },
  {
    "text": "we're actually collaborating with a major cloud provider whose name starts with G and basically there was a nice",
    "start": "344820",
    "end": "354210"
  },
  {
    "text": "cluster of event you know Vance cluster they're putting together and we ran some",
    "start": "354210",
    "end": "359250"
  },
  {
    "text": "experiments just looking at a sort of clocks on their machines and stuff and",
    "start": "359250",
    "end": "364260"
  },
  {
    "text": "they tell us they actually paid extra for their clocks and they're better than the average ones and stuff and so big",
    "start": "364260",
    "end": "371970"
  },
  {
    "text": "cluster what this is showing you is the difference in clock frequency in a clock",
    "start": "371970",
    "end": "378240"
  },
  {
    "text": "drift in my per seconds per second across all the pairs of machines in there and you can see it's got a nice",
    "start": "378240",
    "end": "385050"
  },
  {
    "text": "sort of you know distribution but the tail of it goes out to like 30 microseconds per second and",
    "start": "385050",
    "end": "392330"
  },
  {
    "text": "what it means is that you know if you just let these things run try to keep",
    "start": "392330",
    "end": "398389"
  },
  {
    "text": "time they're gonna be off pretty quickly so let's say you're running NTP you know",
    "start": "398389",
    "end": "403879"
  },
  {
    "text": "the NTP spec basically is you know from an age of the early running over the",
    "start": "403879",
    "end": "409879"
  },
  {
    "text": "internet and stuff and so not wanting to do lots of traffic it exchanges messages",
    "start": "409879",
    "end": "415819"
  },
  {
    "text": "or of a disaster if you're trying to",
    "start": "415819",
    "end": "423259"
  },
  {
    "text": "actually program to it means you know with that kind of drift you're in the hundreds of microseconds up to",
    "start": "423259",
    "end": "429379"
  },
  {
    "text": "milliseconds sort of range you know in terms of the skew and the clocks between things Sydney how we decided to take a",
    "start": "429379",
    "end": "440030"
  },
  {
    "text": "look at what this and came up with this algorithm a couple of things in one of which was early focused on data centers",
    "start": "440030",
    "end": "446960"
  },
  {
    "text": "we were interested about it and there's been a long history of people you know like taking of data centers were started",
    "start": "446960",
    "end": "453860"
  },
  {
    "text": "just using pretty much off-the-shelf both hardware and software and now you",
    "start": "453860",
    "end": "459169"
  },
  {
    "text": "know slowly we're written you know everything's been customized for it and so we decided to take a shot at NTP you",
    "start": "459169",
    "end": "466940"
  },
  {
    "text": "know in this world we basically have a pretty impressive interconnect they have these sort of factories in there that",
    "start": "466940",
    "end": "473360"
  },
  {
    "text": "have very you know you know very high performance you know high bisection bandwidth and stuff it's also you're",
    "start": "473360",
    "end": "481099"
  },
  {
    "text": "relatively close you know it's not like the internet you know to basically send a message it's pretty bound to be how",
    "start": "481099",
    "end": "487069"
  },
  {
    "text": "long it's kind of bounced around that Network before it comes out the other end and stuff and so we thought about",
    "start": "487069",
    "end": "493039"
  },
  {
    "text": "sort of you know and what what can we do and as I mentioned Balaji with one of the main",
    "start": "493039",
    "end": "499400"
  },
  {
    "text": "instigators hair and his researcher grew a couple things we sort of decided on",
    "start": "499400",
    "end": "504710"
  },
  {
    "text": "one a which is we've got to adjust the clocks much more frequently than once a minute you know like since you know",
    "start": "504710",
    "end": "511790"
  },
  {
    "text": "you're just gonna be dead with the way their oscillators sort of work the other thing we did was most of the clock",
    "start": "511790",
    "end": "519169"
  },
  {
    "text": "algorithms just look at you know how far your clock is off and trying to correct",
    "start": "519170",
    "end": "524450"
  },
  {
    "text": "it we decided we wanted to sort of model these oscillators we know about they're sitting there running and their",
    "start": "524450",
    "end": "530870"
  },
  {
    "text": "frequency is drift you know drifting apart and stuff and so you know had our algorithm sort of know",
    "start": "530870",
    "end": "536660"
  },
  {
    "text": "about that and so it kind of helps us and then finally you know being sort of",
    "start": "536660",
    "end": "542240"
  },
  {
    "text": "CS people in are we decided to try to turn this into a big data problem where",
    "start": "542240",
    "end": "547610"
  },
  {
    "text": "we're gonna collect a lot of information across the data center and then crunch",
    "start": "547610",
    "end": "553520"
  },
  {
    "text": "on it and figure out what the clocks should be and then adjust the clocks with that and so this is pretty",
    "start": "553520",
    "end": "560540"
  },
  {
    "text": "different than you know like most of the other protocols that tend to look at a local or pairwise type of thing and you",
    "start": "560540",
    "end": "567620"
  },
  {
    "text": "know we got away with it since we're working in a data center okay so it",
    "start": "567620",
    "end": "575180"
  },
  {
    "start": "572000",
    "end": "680000"
  },
  {
    "text": "turns out pretty much every clock synchronization algorithm works about the same way they send messages between",
    "start": "575180",
    "end": "581750"
  },
  {
    "text": "the machines letting other people know what time it is and stuff and so you",
    "start": "581750",
    "end": "586790"
  },
  {
    "text": "gonna you're gonna have sort of this idea we're gonna send a probe message from one machine to another let's say we",
    "start": "586790",
    "end": "594740"
  },
  {
    "text": "know there's some time we're at time T here if we're running on machine a here",
    "start": "594740",
    "end": "601100"
  },
  {
    "text": "we can assume the clock is set off by some amount will call that amount Delta",
    "start": "601100",
    "end": "606350"
  },
  {
    "text": "PA and so with we send to pack it out it'll get a timestamp on and up ta here",
    "start": "606350",
    "end": "612770"
  },
  {
    "text": "which is T but a plus Delta ta that message goes from a to Machine B and",
    "start": "612770",
    "end": "619640"
  },
  {
    "text": "then it's time-stamped when it arrives at be that and we can say it's time time it's",
    "start": "619640",
    "end": "628110"
  },
  {
    "text": "going to be then real time plus delta-t B which is the air and B's clock so now",
    "start": "628110",
    "end": "635040"
  },
  {
    "text": "we have the these two values of time so",
    "start": "635040",
    "end": "641870"
  },
  {
    "text": "so our time are the time stamps we're going to get out of here our TX of a",
    "start": "641870",
    "end": "647880"
  },
  {
    "text": "which is the transmit time for that probe and then our X of a B which is a",
    "start": "647880",
    "end": "655410"
  },
  {
    "text": "received time of probe B in our system and a lot of other ones you know it",
    "start": "655410",
    "end": "661230"
  },
  {
    "text": "seems the obvious thing to turn around and send a message back the other direction so we do that so we get a",
    "start": "661230",
    "end": "668610"
  },
  {
    "text": "probe that goes back so now we have a TX be the transmit side of B and Rx a on a",
    "start": "668610",
    "end": "677779"
  },
  {
    "text": "one of the things we were playing around with was you know how do we actually",
    "start": "677779",
    "end": "683640"
  },
  {
    "start": "680000",
    "end": "869000"
  },
  {
    "text": "time these things yes",
    "start": "683640",
    "end": "688010"
  },
  {
    "text": "from yes and the question was are we",
    "start": "694819",
    "end": "700999"
  },
  {
    "text": "using something like vsts definition of time and stuff not really we have some",
    "start": "700999",
    "end": "709429"
  },
  {
    "text": "kind of notion of ultimately of you know how many ticks of an oscillator has had",
    "start": "709429",
    "end": "715639"
  },
  {
    "text": "some level above yeah well yeah there would be once our big data's done with",
    "start": "715639",
    "end": "722059"
  },
  {
    "text": "it you know might be a floating-point number but yeah often those community integer 70 how we actually ended up",
    "start": "722059",
    "end": "731600"
  },
  {
    "text": "playing around with trying to get pretty accurate times of transmit and times of",
    "start": "731600",
    "end": "737179"
  },
  {
    "text": "receive you know something like NTP you know it's not a normal program might",
    "start": "737179",
    "end": "743059"
  },
  {
    "text": "like look at a the current time of day clock and then call a system called a",
    "start": "743059",
    "end": "749989"
  },
  {
    "text": "send a packet out you know that includes in the transmit time you know all the",
    "start": "749989",
    "end": "755929"
  },
  {
    "text": "time going through the OS stack and going through the driver and things like that and that adds a lot of kind of",
    "start": "755929",
    "end": "762829"
  },
  {
    "text": "noise and jitter and the thing we want to try to do this a little finer and so",
    "start": "762829",
    "end": "768079"
  },
  {
    "text": "one way one thing we did we found a lot of the modern NICs actually have ability",
    "start": "768079",
    "end": "773659"
  },
  {
    "text": "to timestamp packets when they put them on the wire actually use this for a",
    "start": "773659",
    "end": "779119"
  },
  {
    "text": "protocol called PPP that I'll talk about later but if it's useful for us since",
    "start": "779119",
    "end": "785539"
  },
  {
    "text": "you get some something where the NIC is you know can do a very precise measurement of win this thing is sort of",
    "start": "785539",
    "end": "791899"
  },
  {
    "text": "launched into the network you can do a similar thing on the receive where as",
    "start": "791899",
    "end": "797779"
  },
  {
    "text": "soon as it receives things that gets the timestamp of it so we use that and I'm",
    "start": "797779",
    "end": "804350"
  },
  {
    "text": "in our first version of the protocol it turns out that if you're your machine",
    "start": "804350",
    "end": "812149"
  },
  {
    "text": "you know does not support this ability to time stamp packets Linux will kind of do it",
    "start": "812149",
    "end": "818850"
  },
  {
    "text": "for it in the driver so what it'll do is when you go to transmit something it'll",
    "start": "818850",
    "end": "824519"
  },
  {
    "text": "read the you know the clock and the computer and record that for you and it would receives it as soon as the Linux",
    "start": "824519",
    "end": "830970"
  },
  {
    "text": "gets control it will record that you know this is called in Linux software",
    "start": "830970",
    "end": "836360"
  },
  {
    "text": "timestamps and the networking thing we can use that but to give you a feel for",
    "start": "836360",
    "end": "841860"
  },
  {
    "text": "like you turn now you just have the jitter of a driver running and in",
    "start": "841860",
    "end": "847199"
  },
  {
    "text": "reprocessing and stuff we get it kind of bumps us up to sort of micro second",
    "start": "847199",
    "end": "852480"
  },
  {
    "text": "level synchronization that's still good for some of the things they want to do and you know when we for example try to",
    "start": "852480",
    "end": "859980"
  },
  {
    "text": "run on a cloud that doesn't provide us that kind of low-level access to the NIC we can just use that okay so back to",
    "start": "859980",
    "end": "871649"
  },
  {
    "text": "where we are it turns out that if you send a packet you can think of the",
    "start": "871649",
    "end": "876959"
  },
  {
    "text": "receive time being that when you sent it plus how long it took to go through the",
    "start": "876959",
    "end": "883230"
  },
  {
    "text": "network so in our you know system we",
    "start": "883230",
    "end": "888870"
  },
  {
    "text": "received it at our xB my and minus Delta B and the transmit time was up TX a",
    "start": "888870",
    "end": "898230"
  },
  {
    "text": "minus Delta a and then the delay was basically how long did it take this",
    "start": "898230",
    "end": "903750"
  },
  {
    "text": "packet to go through the network and any queues and the switches or whatever",
    "start": "903750",
    "end": "908790"
  },
  {
    "text": "happens in network and stuff if you start just playing around with the math",
    "start": "908790",
    "end": "914069"
  },
  {
    "text": "you can end up getting the Delta B TB and Delta a on one side of it and",
    "start": "914069",
    "end": "920519"
  },
  {
    "text": "everything else on the other and then it's pretty safe bet that the network's",
    "start": "920519",
    "end": "925920"
  },
  {
    "text": "not instantaneous take some amount of positive time to propagate through the wires and the",
    "start": "925920",
    "end": "932649"
  },
  {
    "text": "switches so you get this relationship that Delta P B minus delta T a and so",
    "start": "932649",
    "end": "939459"
  },
  {
    "text": "that's the error and the two clocks is less than the two timestamps that we",
    "start": "939459",
    "end": "945209"
  },
  {
    "text": "subtracted from each other like that so we have an upper bound if you do the",
    "start": "945209",
    "end": "950889"
  },
  {
    "text": "same math on the return probe you actually get a lower bound for that",
    "start": "950889",
    "end": "961120"
  },
  {
    "text": "delta T B minus Delta R a so now you have a bound",
    "start": "961120",
    "end": "967269"
  },
  {
    "text": "you know it's between those two of it and so if you were to look at this yeah",
    "start": "967269",
    "end": "990000"
  },
  {
    "text": "yeah so that's a good point the question the question is you you actually read",
    "start": "990000",
    "end": "996699"
  },
  {
    "text": "the clock on the same machine sort of multiple times and so because you're on",
    "start": "996699",
    "end": "1003449"
  },
  {
    "text": "the same clock you'll get some values and you know a little bit about their relationships to one another if the",
    "start": "1003449",
    "end": "1010110"
  },
  {
    "text": "clock is monotonically increasing and it's dacovian Anna its rate may vary but",
    "start": "1010110",
    "end": "1016980"
  },
  {
    "text": "it doesn't as it turns out it's not going to vary dramatically over that",
    "start": "1016980",
    "end": "1021990"
  },
  {
    "text": "interval right so each of those is",
    "start": "1021990",
    "end": "1027230"
  },
  {
    "text": "consistent but I thought you were asking about yeah it's are you you can't know",
    "start": "1027230",
    "end": "1032819"
  },
  {
    "text": "anything about the two that one's on different machines but within the same machine okay so if we were to look at",
    "start": "1032819",
    "end": "1042329"
  },
  {
    "start": "1042000",
    "end": "1224000"
  },
  {
    "text": "this in a graph and so here was a graph that shows sort of time on the x axis",
    "start": "1042329",
    "end": "1048449"
  },
  {
    "text": "going from zero to two seconds and this value of a delta T of B minus delta T a",
    "start": "1048449",
    "end": "1056980"
  },
  {
    "text": "and so each of these dots represents points either in the lower green in the",
    "start": "1056980",
    "end": "1062200"
  },
  {
    "text": "lower bound or blue in the upper bound and so you see something kind of",
    "start": "1062200",
    "end": "1068080"
  },
  {
    "text": "interesting happen and you basically see the Bob this is skew between the two",
    "start": "1068080",
    "end": "1074910"
  },
  {
    "text": "clocks and so you know when this two-second intervals started out the",
    "start": "1074910",
    "end": "1080800"
  },
  {
    "text": "clocks were like 93.3 microseconds apart and they're offset and after two seconds",
    "start": "1080800",
    "end": "1088540"
  },
  {
    "text": "you know you look here and the offsets now up to 96 point six you know and so",
    "start": "1088540",
    "end": "1095470"
  },
  {
    "text": "that's basically mean these sort of clocks are running at a different speed",
    "start": "1095470",
    "end": "1100540"
  },
  {
    "text": "in these two machines and in fact by looking at this we can figure out that effectively the slope of this line it's",
    "start": "1100540",
    "end": "1107980"
  },
  {
    "text": "basically losing one point six five microseconds per second as it's going on",
    "start": "1107980",
    "end": "1114570"
  },
  {
    "text": "so when I said we're gonna look at sort of modeling what's happening with",
    "start": "1114570",
    "end": "1119620"
  },
  {
    "text": "crystal oscillators and stuff it's this idea that we basically have both the",
    "start": "1119620",
    "end": "1124750"
  },
  {
    "text": "offset here or what they're wrong but also what that clock is doing relative to the other clocks and the system okay",
    "start": "1124750",
    "end": "1134910"
  },
  {
    "text": "so it turns out that if we rather than looking at two seconds we kind of looked",
    "start": "1139170",
    "end": "1146230"
  },
  {
    "text": "over longer periods of time the idea that you have a line or slope and stuff",
    "start": "1146230",
    "end": "1153130"
  },
  {
    "text": "sort of breaks down and this is our temperature effect coming in you know",
    "start": "1153130",
    "end": "1158980"
  },
  {
    "text": "over a 60 second in a row things can heat up and the clock starts going side",
    "start": "1158980",
    "end": "1164680"
  },
  {
    "text": "so you start thinking these sort of obviously nonlinear sort of upper and",
    "start": "1164680",
    "end": "1170050"
  },
  {
    "text": "lower bounds going on and so you know that you so we basically see this we",
    "start": "1170050",
    "end": "1176230"
  },
  {
    "text": "know what it happens it turns out that what we've been able to do is say look",
    "start": "1176230",
    "end": "1181780"
  },
  {
    "text": "over two-second intervals it appears to be fairly linear because you know",
    "start": "1181780",
    "end": "1187660"
  },
  {
    "text": "basically it's a heat that sort of things happening it doesn't happen instantly but over longer intervals it's",
    "start": "1187660",
    "end": "1194980"
  },
  {
    "text": "not so we're gonna sort of start looking at things over to second intervals and",
    "start": "1194980",
    "end": "1200370"
  },
  {
    "text": "then make our adjustment decisions based on that and that way we have can assume",
    "start": "1200370",
    "end": "1206470"
  },
  {
    "text": "things are linear since that's we're gonna really using just the slope of it and also to the slope and but adjust",
    "start": "1206470",
    "end": "1214840"
  },
  {
    "text": "this every two seconds and it seems to be working pretty well of treating this thing as a piecewise linear curve okay",
    "start": "1214840",
    "end": "1226050"
  },
  {
    "start": "1224000",
    "end": "1255000"
  },
  {
    "text": "so basically in order for our algorithm to work what we're going to do is get",
    "start": "1226050",
    "end": "1234190"
  },
  {
    "text": "this data and what we want to do is find that red line which is like sort of the",
    "start": "1234190",
    "end": "1239710"
  },
  {
    "text": "both the offset and the slope of between these two clocks here and so if we can",
    "start": "1239710",
    "end": "1246250"
  },
  {
    "text": "find this line we now you know have a lot of information about what it's",
    "start": "1246250",
    "end": "1251800"
  },
  {
    "text": "happening with time on that machine so",
    "start": "1251800",
    "end": "1257040"
  },
  {
    "start": "1255000",
    "end": "1334000"
  },
  {
    "text": "basically the three things we sort of figured out was wonder which was when",
    "start": "1257040",
    "end": "1264310"
  },
  {
    "text": "are we you know use well everybody uses machine learning for that especially if you want to get funded for",
    "start": "1264310",
    "end": "1270080"
  },
  {
    "text": "something you know it's like a basically you know so we picked out this support vector machine algorithm which is a sort",
    "start": "1270080",
    "end": "1277370"
  },
  {
    "text": "of machine learning classifier and we can use that to run the on the data to",
    "start": "1277370",
    "end": "1282530"
  },
  {
    "text": "sort of find out we've given all these probes what's the sort of middle line between those two sort of upper lower",
    "start": "1282530",
    "end": "1290480"
  },
  {
    "text": "bounds and as we'll see it turned out it didn't work as well as we had really",
    "start": "1290480",
    "end": "1297020"
  },
  {
    "text": "hoped it wasn't like a panacea that you could just throw the data at it and then it gave you the right answer in fact it",
    "start": "1297020",
    "end": "1303230"
  },
  {
    "text": "kind of gave me the wrong answer if you had too much messiness and the data and we ended up having some messiness in the",
    "start": "1303230",
    "end": "1309710"
  },
  {
    "text": "data so we came up with an idea to filter the Ness messiness alcohol coated",
    "start": "1309710",
    "end": "1315440"
  },
  {
    "text": "probes and then finally you know where our big data comes in is once we've",
    "start": "1315440",
    "end": "1320780"
  },
  {
    "text": "collected all this we're gonna bring it into a centralized coordinator that can then look over the entire data center",
    "start": "1320780",
    "end": "1328100"
  },
  {
    "text": "clocks and do some fine-tuning on our clock adjustments so here's the problem",
    "start": "1328100",
    "end": "1337310"
  },
  {
    "start": "1334000",
    "end": "1460000"
  },
  {
    "text": "we ran into we collect some data we kind of run the SVM on it and we ended up",
    "start": "1337310",
    "end": "1343490"
  },
  {
    "text": "getting lines it kind of did something but if you see all those points in the",
    "start": "1343490",
    "end": "1348620"
  },
  {
    "text": "middle there those are impossible you know like basically implies that somehow the message went faster than it could",
    "start": "1348620",
    "end": "1355670"
  },
  {
    "text": "propagate through the network and so there's actually the reasons for this as",
    "start": "1355670",
    "end": "1361670"
  },
  {
    "text": "though the various ones you know but basically the mechanisms were using for",
    "start": "1361670",
    "end": "1367550"
  },
  {
    "text": "time stamping and stuff had some kind of problems with what we will in a signal",
    "start": "1367550",
    "end": "1374060"
  },
  {
    "text": "processing people would call that noise but there was basically just wrong and so you don't like it so basically we had",
    "start": "1374060",
    "end": "1382130"
  },
  {
    "text": "stuff in the middle here that shouldn't be there some of the other things these wouldn't we have times that take longer",
    "start": "1382130",
    "end": "1389120"
  },
  {
    "text": "or you can kind of explain but we're going through a network it could run into other things there's like",
    "start": "1389120",
    "end": "1396700"
  },
  {
    "text": "dark packets going around your network that the network folks they didn't try to hide from you you can run into and",
    "start": "1396700",
    "end": "1403450"
  },
  {
    "text": "all you know all these things we're looking for kind of minimum times but we",
    "start": "1403450",
    "end": "1408490"
  },
  {
    "text": "see all these other ones so what we get what we do see here is pretty good we",
    "start": "1408490",
    "end": "1413830"
  },
  {
    "text": "see this set of there's a whole kind of thick line of things along the minimum we just got to get the SVM thing to try",
    "start": "1413830",
    "end": "1421840"
  },
  {
    "text": "to like you know parse it out for us so it turns out that if you just read ask",
    "start": "1421840",
    "end": "1430720"
  },
  {
    "text": "for them and stuff and did this we ended up getting up sort of our clocks sink",
    "start": "1430720",
    "end": "1436630"
  },
  {
    "text": "down to a few hundred nanoseconds it was better than you know the other systems",
    "start": "1436630",
    "end": "1443650"
  },
  {
    "text": "but not as good as we'd kind of hoped to do basically the SVM's aren't good for",
    "start": "1443650",
    "end": "1451809"
  },
  {
    "text": "what you have like errors in your data it's anyhow how do we sort of figure out delete these things King the problem and",
    "start": "1451809",
    "end": "1459820"
  },
  {
    "text": "so we use this idea that some other people had sort of done in networking is",
    "start": "1459820",
    "end": "1465100"
  },
  {
    "text": "rather than sending just one probe we would send to probe packets space by",
    "start": "1465100",
    "end": "1471070"
  },
  {
    "text": "some fixed amount of time like 10 a microseconds so now we have this pair of",
    "start": "1471070",
    "end": "1477250"
  },
  {
    "text": "packets that are going from one machine to another there's a couple",
    "start": "1477250",
    "end": "1482410"
  },
  {
    "text": "possibilities that can happen one of which is if they arrive at the",
    "start": "1482410",
    "end": "1488620"
  },
  {
    "text": "destination and they're more than 10 microseconds apart something happened",
    "start": "1488620",
    "end": "1494200"
  },
  {
    "text": "you know basically the tail packet got delayed more than the front packet so",
    "start": "1494200",
    "end": "1499750"
  },
  {
    "text": "that's not a good thing for us so we can basically ignore that case yes the other",
    "start": "1499750",
    "end": "1508929"
  },
  {
    "text": "possibility is they're sort of pushed together you can see how this one would",
    "start": "1508929",
    "end": "1514420"
  },
  {
    "text": "happen is a queue in the network I the probes there the first packet hits",
    "start": "1514420",
    "end": "1519910"
  },
  {
    "text": "the queue the second packet hits the queue and they get like jammed together and then they show up at the destination",
    "start": "1519910",
    "end": "1525760"
  },
  {
    "text": "like that we want we want to get rid of those anyhow since they're not good minimum measurements for us so we're",
    "start": "1525760",
    "end": "1533200"
  },
  {
    "text": "gonna drop those as well so the final one is these things come proximately ten",
    "start": "1533200",
    "end": "1540490"
  },
  {
    "text": "microseconds apart it's possible that something bad happened and they arrived like that but it's much more likely that",
    "start": "1540490",
    "end": "1547480"
  },
  {
    "text": "they didn't get any kind of bad stuff happening and they kind of went through in sort of the minimum time so what this",
    "start": "1547480",
    "end": "1556420"
  },
  {
    "text": "allowed us to do is basically take this and then you know filter it so it",
    "start": "1556420",
    "end": "1563590"
  },
  {
    "text": "dropped almost all of a sort of bad things when we now run the SVM on it we",
    "start": "1563590",
    "end": "1570340"
  },
  {
    "text": "get some pretty good bounds if something that kind of tightly hugs the - sort of",
    "start": "1570340",
    "end": "1575410"
  },
  {
    "text": "points of you know the maximum you know upper bound and the lower bound and and",
    "start": "1575410",
    "end": "1581140"
  },
  {
    "text": "then what we can do is basically get the SVM to tell us what's right down the middle of that and now we have the red",
    "start": "1581140",
    "end": "1588370"
  },
  {
    "text": "line we want for our algorithm yes maybe it's just my eyes",
    "start": "1588370",
    "end": "1595200"
  },
  {
    "text": "just knock up enough samples once a below the Greenline we haven't really",
    "start": "1598390",
    "end": "1606760"
  },
  {
    "text": "looked at data we'd think it's just sort of random you know you know I've been honest Li if the kind of things that",
    "start": "1606760",
    "end": "1613600"
  },
  {
    "text": "cause that is somehow that queuing happened yet the coded proof didn't delete it or something like that since",
    "start": "1613600",
    "end": "1620500"
  },
  {
    "text": "it's taking a lot longer than it should I know do you know sorry and I'll Balaji",
    "start": "1620500",
    "end": "1636850"
  },
  {
    "text": "didn't really have a theory that there's something going on there seventy how",
    "start": "1636850",
    "end": "1644310"
  },
  {
    "text": "this worked well basically it allowed us that like toss out all like 90% of the",
    "start": "1644310",
    "end": "1650140"
  },
  {
    "text": "bad data and the clock sync was now much better as a factor of four better than",
    "start": "1650140",
    "end": "1656230"
  },
  {
    "text": "it was was just the raw SVM okay you",
    "start": "1656230",
    "end": "1668740"
  },
  {
    "start": "1660000",
    "end": "1713000"
  },
  {
    "text": "know so baby so what's causing that last 10% of bad data the issue is we're",
    "start": "1668740",
    "end": "1675700"
  },
  {
    "text": "calling something bad when the both of the probe you know the pair of coated probes come",
    "start": "1675700",
    "end": "1682450"
  },
  {
    "text": "in and they aren't ten microseconds apart I assume what happens is there's",
    "start": "1682450",
    "end": "1689950"
  },
  {
    "text": "something that can go wrong and your network where you delay packets and still have them both you neither coded",
    "start": "1689950",
    "end": "1696850"
  },
  {
    "text": "pairs that are still show up ten microseconds the difference you know you",
    "start": "1696850",
    "end": "1703750"
  },
  {
    "text": "know the simple case of queuing typically doesn't have that so you know it's like it's going to be something",
    "start": "1703750",
    "end": "1709170"
  },
  {
    "text": "weird happening okay so you know the way",
    "start": "1709170",
    "end": "1716710"
  },
  {
    "start": "1713000",
    "end": "1840000"
  },
  {
    "text": "the clock said gah groans work is you basically probe some other machines and",
    "start": "1716710",
    "end": "1721840"
  },
  {
    "text": "doing this approach where we had each server in the in the in the data center",
    "start": "1721840",
    "end": "1729370"
  },
  {
    "text": "probe K other servers where K was you know on our high-end system was 20 and",
    "start": "1729370",
    "end": "1736270"
  },
  {
    "text": "then one gigabyte one was 10 so something along that lines it turns out",
    "start": "1736270",
    "end": "1741580"
  },
  {
    "text": "that new regardless of how big your data center is these numbers are plenty or",
    "start": "1741580",
    "end": "1747640"
  },
  {
    "text": "plenty or plenty big to make the scheme work so it doesn't have it's not um it's",
    "start": "1747640",
    "end": "1755409"
  },
  {
    "text": "not it doesn't scale with K doesn't scale with the size of the data center we also sent it up so that every 500",
    "start": "1755409",
    "end": "1763980"
  },
  {
    "text": "microseconds we would send one of these coated probes you know out so we're now",
    "start": "1763980",
    "end": "1769659"
  },
  {
    "text": "sending data out much much more frequently than NTP did it's still you",
    "start": "1769659",
    "end": "1775870"
  },
  {
    "text": "know this thing was a 40 gigabit links in this networks and where was basically using almost no bandwidth of it of",
    "start": "1775870",
    "end": "1782470"
  },
  {
    "text": "things but we're sending a lot packets in this thing so basically what happens",
    "start": "1782470",
    "end": "1787929"
  },
  {
    "text": "up happening is both sides get all these timestamps things they can actually",
    "start": "1787929",
    "end": "1793779"
  },
  {
    "text": "locally you know obviously locally process the coded pros and drop the",
    "start": "1793779",
    "end": "1798820"
  },
  {
    "text": "things they weren't and then it actually can run the PM themselves and so what",
    "start": "1798820",
    "end": "1805630"
  },
  {
    "text": "happens and we have all the machines now you know process this data and then it",
    "start": "1805630",
    "end": "1810970"
  },
  {
    "text": "can report back you know just effectively the offset and slope that it found for each pair of",
    "start": "1810970",
    "end": "1817480"
  },
  {
    "text": "machines at probes and we get a fair amount of well you know great reduction in data and distributing out the",
    "start": "1817480",
    "end": "1824200"
  },
  {
    "text": "workaround and then we ship back a small amount of data to our coordinator now so",
    "start": "1824200",
    "end": "1829929"
  },
  {
    "text": "it has for every pair of machines that are probing each other this offset and",
    "start": "1829929",
    "end": "1835360"
  },
  {
    "text": "and slope data so here's what the",
    "start": "1835360",
    "end": "1842890"
  },
  {
    "start": "1840000",
    "end": "2111000"
  },
  {
    "text": "coordinator does is basically it gets all the data and it can do this kind of",
    "start": "1842890",
    "end": "1848380"
  },
  {
    "text": "neat trick if it if it knows that a probes be it can look",
    "start": "1848380",
    "end": "1853550"
  },
  {
    "text": "at that and so to say well you know if if a II think that's clock is 10 it",
    "start": "1853550",
    "end": "1861830"
  },
  {
    "text": "knows from its offset data that a B's clock must be 10:15 and then what",
    "start": "1861830",
    "end": "1870500"
  },
  {
    "text": "happens is B goes probing C and the same thing happens here is if B is at 10:15 C",
    "start": "1870500",
    "end": "1878540"
  },
  {
    "text": "must be at 10:05 and then finally when we wrap back around by the cycle in the",
    "start": "1878540",
    "end": "1885650"
  },
  {
    "text": "graph basically we we have this thing where either they add up or they don't",
    "start": "1885650",
    "end": "1893840"
  },
  {
    "text": "add up and if they don't add up you know there's some error in there you know you're basically just you know and and",
    "start": "1893840",
    "end": "1900470"
  },
  {
    "text": "in fact you know the way the sort of poke probe gaffe was generated with at",
    "start": "1900470",
    "end": "1905840"
  },
  {
    "text": "10 to 20 random you know things either you end up with lots of these cycles and stuff you can go around and and just say",
    "start": "1905840",
    "end": "1913700"
  },
  {
    "text": "you get all these things now you know what we do with that is try to figure out well where did we mess up we",
    "start": "1913700",
    "end": "1920809"
  },
  {
    "text": "consider guess we know that somehow somewhere along that route loop are off",
    "start": "1920809",
    "end": "1926240"
  },
  {
    "text": "by 10 minutes in this case that we can guess it's 2 2 and 6 or or something",
    "start": "1926240",
    "end": "1934040"
  },
  {
    "text": "like negative 10 5 and 15 goodness you know like pretty much anything but what we ended up doing was just like a eek",
    "start": "1934040",
    "end": "1941420"
  },
  {
    "text": "not knowing anything different just an equally dividing it up saying well we'll put one third to each you know each of",
    "start": "1941420",
    "end": "1948440"
  },
  {
    "text": "these and adjustment yes",
    "start": "1948440",
    "end": "1952360"
  },
  {
    "text": "very much do we ever very liquid long",
    "start": "1953950",
    "end": "1968140"
  },
  {
    "text": "another question was that we I mentioned we were using 10 microseconds between it",
    "start": "1968140",
    "end": "1973210"
  },
  {
    "text": "did we try other values and did it make any difference 10 microseconds is an",
    "start": "1973210",
    "end": "1979480"
  },
  {
    "text": "example meaning so we actually sent that",
    "start": "1979480",
    "end": "1986410"
  },
  {
    "text": "back to back and sometimes we're ten microseconds blossom down six points hours we already care whatever the gap",
    "start": "1986410",
    "end": "1992860"
  },
  {
    "text": "was is taken on transmission times time we've been played off with spacing",
    "start": "1992860",
    "end": "1999700"
  },
  {
    "text": "between them cutters almost as a moderate disease be close now we also tried you know to does something good",
    "start": "1999700",
    "end": "2006000"
  },
  {
    "text": "why don't we do Creek you know 3/4 pros you doing extra work are not really",
    "start": "2006000",
    "end": "2011520"
  },
  {
    "text": "getting a lot of benefit so this is it has the field why stop at 10 to 10 ways",
    "start": "2011520",
    "end": "2016830"
  },
  {
    "text": "provision or something same thing yeah",
    "start": "2016830",
    "end": "2027540"
  },
  {
    "text": "so summary of the answer is we tried a bunch of things and didn't seem to have a big effect like and you know we just",
    "start": "2027540",
    "end": "2034110"
  },
  {
    "text": "basically sent two packets back-to-back and you know figure it out what the time was",
    "start": "2034110",
    "end": "2040910"
  },
  {
    "text": "okay so yeah so the picture here is you end up with like overlap things so now",
    "start": "2059720",
    "end": "2066810"
  },
  {
    "text": "we have like multiple chronic correction things going on and so we now get a chance to even further",
    "start": "2066810",
    "end": "2073600"
  },
  {
    "text": "you know but the more sort of cycles you have the more you can sort of fine-tune",
    "start": "2073600",
    "end": "2078740"
  },
  {
    "text": "things and as bal√°zs we pointed out here's a graph that shows the sort of errors we were seeing both the mean and",
    "start": "2078740",
    "end": "2084980"
  },
  {
    "text": "the 99th percentile as we varied K and so as K started getting you know up",
    "start": "2084980",
    "end": "2091460"
  },
  {
    "text": "until 10 or so it you know you saw some improvement but after that it really",
    "start": "2091460",
    "end": "2097640"
  },
  {
    "text": "didn't get much of a win over over it so that's why you know we're sort of you",
    "start": "2097640",
    "end": "2102800"
  },
  {
    "text": "know have that number 10 to 20 you know that we use yeah anyhow yeah so I have",
    "start": "2102800",
    "end": "2119330"
  },
  {
    "start": "2111000",
    "end": "2329000"
  },
  {
    "text": "some you know we've decided to like do some comparison to NTP and so to try to",
    "start": "2119330",
    "end": "2125450"
  },
  {
    "text": "make NTP not be so totally unfair of since it's sending from user level and",
    "start": "2125450",
    "end": "2130790"
  },
  {
    "text": "stuff we sort of modified it so that it used the NIC time stamping mechanism to",
    "start": "2130790",
    "end": "2136850"
  },
  {
    "text": "get its timestamp so we have sort of accurate things and stuff and so the",
    "start": "2136850",
    "end": "2141920"
  },
  {
    "text": "what this shows is sort of like different things if there's no load on the network you know this is up should",
    "start": "2141920",
    "end": "2147530"
  },
  {
    "text": "be a good case for everybody since you send your probes out and they don't not hit likely to hit anything and so",
    "start": "2147530",
    "end": "2154190"
  },
  {
    "text": "they'll just go through it in minimum time we we were getting sort of sync",
    "start": "2154190",
    "end": "2160550"
  },
  {
    "text": "times around 10 nanoseconds and 99th percentile of 18 NTP since it doesn't",
    "start": "2160550",
    "end": "2169550"
  },
  {
    "text": "sync is often doesn't have all the fancy global and data processing was in the hundreds of nanoseconds when you start",
    "start": "2169550",
    "end": "2177680"
  },
  {
    "text": "cranking the load up and stuff and you know the NTP really goes you know",
    "start": "2177680",
    "end": "2183500"
  },
  {
    "text": "obviously it's not sending that many and when they have delays that bad",
    "start": "2183500",
    "end": "2188900"
  },
  {
    "text": "things happened and so you get really big numbers for it whereas we do pretty",
    "start": "2188900",
    "end": "2194450"
  },
  {
    "text": "well even up to eighty and ninety percent load week and still we were",
    "start": "2194450",
    "end": "2199579"
  },
  {
    "text": "sending all these packets you know if you're running in a ninety percent load we're gonna like have what we call",
    "start": "2199579",
    "end": "2205160"
  },
  {
    "text": "impure probes that run it and when the pair runs into but just enough get",
    "start": "2205160",
    "end": "2210589"
  },
  {
    "text": "through that we're still able to sort of you know get another SVM to sort of draw",
    "start": "2210589",
    "end": "2216109"
  },
  {
    "text": "us offset and and slope and even the clock sinks and it works for us so you",
    "start": "2216109",
    "end": "2223549"
  },
  {
    "text": "know we sort of did that and then you know 99th percentile even in April eighty percent load as there was thirty",
    "start": "2223549",
    "end": "2231019"
  },
  {
    "text": "two nanoseconds one of the things we've been kind of impressed with is we could",
    "start": "2231019",
    "end": "2236480"
  },
  {
    "text": "actually been talking to people with sort of day table data centers in the",
    "start": "2236480",
    "end": "2241849"
  },
  {
    "text": "FinTech area on they basically have these data centers they don't run their network at very high utilization and",
    "start": "2241849",
    "end": "2249109"
  },
  {
    "text": "stuff and when they run this clocks and ever report back like single-digit nanosecond sort of sinks between the",
    "start": "2249109",
    "end": "2256430"
  },
  {
    "text": "machines there's no I'm not and I am they're really pleased about it you know that so it seems to be doing pretty well",
    "start": "2256430",
    "end": "2264589"
  },
  {
    "text": "and out in the field",
    "start": "2264589",
    "end": "2268119"
  },
  {
    "text": "I mean yeah yeah so basically it's",
    "start": "2273010",
    "end": "2289990"
  },
  {
    "text": "trying to wear you know one way to view it is we're taking out ton of data and",
    "start": "2289990",
    "end": "2295330"
  },
  {
    "text": "sort of figuring out what the clock offset is we can actually you're one of the things we're ended up getting is",
    "start": "2295330",
    "end": "2301540"
  },
  {
    "text": "we're getting errors that are rates that are below this in a clock period that",
    "start": "2301540",
    "end": "2308200"
  },
  {
    "text": "some of the other machines you know use since that's so that you know it's like kind of showing where you know the CS",
    "start": "2308200",
    "end": "2314110"
  },
  {
    "text": "people are eating the world you know you basically get you know a whole bunch of data you know compared to these other",
    "start": "2314110",
    "end": "2320140"
  },
  {
    "text": "things that are trying to precisely time packets going through the network we're gonna and we're kind of trouncing them",
    "start": "2320140",
    "end": "2328740"
  },
  {
    "text": "so a little bit about what sort of going on here a wonder which is this is what's",
    "start": "2329550",
    "end": "2338860"
  },
  {
    "text": "releases just mean events so many years when you write a distributed algorithm you never worried about you know or even",
    "start": "2338860",
    "end": "2346420"
  },
  {
    "text": "thought about the possibility of having synchronized clocks and stuff so you",
    "start": "2346420",
    "end": "2351520"
  },
  {
    "text": "know having something like this has been fun to think about you know what would you do differently if you had this",
    "start": "2351520",
    "end": "2356590"
  },
  {
    "text": "common notion of this you know being a systems person making that decision that",
    "start": "2356590",
    "end": "2362950"
  },
  {
    "text": "I'm gonna count on a clock syncing and my data center that's a big one it's a",
    "start": "2362950",
    "end": "2368800"
  },
  {
    "text": "you know like basically you know if you want to make sure you absolutely can",
    "start": "2368800",
    "end": "2373840"
  },
  {
    "text": "always count on it and stuff and if it clocks in fails your algorithm failed it means you have to make that thing super",
    "start": "2373840",
    "end": "2380350"
  },
  {
    "text": "reliable and stuff so it's a scary thing to do but as a research it's sort of interesting to see what do you think",
    "start": "2380350",
    "end": "2387010"
  },
  {
    "text": "figure out what the wind would be if you decided to actually have this as a prayer in your data center when unique it's",
    "start": "2387010",
    "end": "2394120"
  },
  {
    "text": "assumed a common thing about clocks you know when we talk to the people at Google that do time there and stuff I",
    "start": "2394120",
    "end": "2401980"
  },
  {
    "text": "was really struck you know I think working in time too long makes you weird and that's a side but anyhow you know",
    "start": "2401980",
    "end": "2409750"
  },
  {
    "text": "you ask them what time it is they don't say what time it is that give you a confidence interval but I believe the",
    "start": "2409750",
    "end": "2415720"
  },
  {
    "text": "time is between those two these values as a software abstraction and that kind",
    "start": "2415720",
    "end": "2422170"
  },
  {
    "text": "of works really well because you know you you're asked what time it is and",
    "start": "2422170",
    "end": "2427330"
  },
  {
    "text": "it'll give you something if they're clock sync kind of goes on the fritz they can have the confidence interval to",
    "start": "2427330",
    "end": "2434020"
  },
  {
    "text": "start to grow based on the maxima sort of you know it's cue they have and the whole system continues to work as",
    "start": "2434020",
    "end": "2440440"
  },
  {
    "text": "opposed to like popping over Deb and so you know this could be interesting",
    "start": "2440440",
    "end": "2445780"
  },
  {
    "text": "what they call true time I think it's probably the right sort of abstraction where when you asked what time you get",
    "start": "2445780",
    "end": "2452260"
  },
  {
    "text": "two times you know where it's somewhere in between there with a very very high probability",
    "start": "2452260",
    "end": "2457510"
  },
  {
    "text": "anyhow so what started us doing this is we're interested in trying to do what's",
    "start": "2457510",
    "end": "2463600"
  },
  {
    "text": "known as Network tomography where you basically send packets into the network",
    "start": "2463600",
    "end": "2469210"
  },
  {
    "text": "and time how long it takes and then try to infer what's happening in the network and you know with this clock sync we",
    "start": "2469210",
    "end": "2476890"
  },
  {
    "text": "were able to do that pretty well where we could figure out what the queues were in the switches in the network we could",
    "start": "2476890",
    "end": "2483280"
  },
  {
    "text": "even figure out the content of the queues and the switches and stuff you",
    "start": "2483280",
    "end": "2488320"
  },
  {
    "text": "know this the people that made switches weren't so impressed as they try to do that with some kind of embed telemetry",
    "start": "2488320",
    "end": "2494500"
  },
  {
    "text": "and stuff like that but you know this is pretty nice we're sitting on the edge there we don't have this stream of data",
    "start": "2494500",
    "end": "2500800"
  },
  {
    "text": "coming out of all the switches and we're still computing the same information and fix so up you know that that worked out",
    "start": "2500800",
    "end": "2507820"
  },
  {
    "text": "pretty well the system we called Simon the other place that's known to work and",
    "start": "2507820",
    "end": "2512860"
  },
  {
    "text": "we've been playing around this as well as database consistency you know the idea of Google spanner which",
    "start": "2512860",
    "end": "2518520"
  },
  {
    "text": "you know everybody was doing these databases that had relaxed consistency",
    "start": "2518520",
    "end": "2523849"
  },
  {
    "text": "models and you know some assumption as the programmer would deal with like eventual consistency and stuff and they",
    "start": "2523849",
    "end": "2530730"
  },
  {
    "text": "decided no we're throw that out the window will provide scrunches consistency and you don't have to worry",
    "start": "2530730",
    "end": "2537750"
  },
  {
    "text": "about what happens if you have in are inconsistent data spanner one of the",
    "start": "2537750",
    "end": "2543240"
  },
  {
    "text": "things that it turned out that you know it's good for this kind of thing is",
    "start": "2543240",
    "end": "2548430"
  },
  {
    "text": "order its ordering things in a distributed system if you have a timestamp service that gives you a time",
    "start": "2548430",
    "end": "2554520"
  },
  {
    "text": "stats they can get a order of things and this actually landed you know",
    "start": "2554520",
    "end": "2560280"
  },
  {
    "text": "our group along with the Nasdaq on the front page of the New York Times since it was basically you know they got",
    "start": "2560280",
    "end": "2567450"
  },
  {
    "text": "really excited about it and stuff and then what what this would mean to like these training venues and stuff their",
    "start": "2567450",
    "end": "2574020"
  },
  {
    "text": "notion of fairness you knows now we can stamp you know time you know time on",
    "start": "2574020",
    "end": "2579599"
  },
  {
    "text": "everything that comes in and order them things with it is that and you know those other places people have talked",
    "start": "2579599",
    "end": "2586349"
  },
  {
    "text": "about this thing you know like if you've ever dug tried to debug a distributed program and tried to get timestamps from",
    "start": "2586349",
    "end": "2594030"
  },
  {
    "text": "all the different nodes and they're not ordered you kind of can't even tell what sort of happened and it and obviously",
    "start": "2594030",
    "end": "2600390"
  },
  {
    "text": "you're thinking would benefit from that",
    "start": "2600390",
    "end": "2605000"
  },
  {
    "start": "2606000",
    "end": "3047000"
  },
  {
    "text": "so I'm gonna talk a little bit about a related work here you know like what what are the alternatives to the parts",
    "start": "2608810",
    "end": "2615089"
  },
  {
    "text": "we are doing a lot of them involve you know some kind of specialized hardware",
    "start": "2615089",
    "end": "2620580"
  },
  {
    "text": "you would do with it you can start with the same water why do you have these crap in clocks why don't you have a",
    "start": "2620580",
    "end": "2626369"
  },
  {
    "text": "clock that doesn't really lose time very and stuff like that and you know it",
    "start": "2626369",
    "end": "2632680"
  },
  {
    "text": "turns out for even quartz crystals you can pay about some more money and buy one that's a tries to keep itself at the",
    "start": "2632680",
    "end": "2639100"
  },
  {
    "text": "same temperature and isolate itself from vibrations and all the other things that can mess up a quartz crystal and does a",
    "start": "2639100",
    "end": "2646300"
  },
  {
    "text": "lot better it actually for the ones I was looking at it didn't seem to fix the problem here at least if you vary the",
    "start": "2646300",
    "end": "2653590"
  },
  {
    "text": "temperature a lot it doesn't like drop off the end of a quadratic curve like that you know they run corrected ones",
    "start": "2653590",
    "end": "2659980"
  },
  {
    "text": "where you still going to have problems with it if you were to able to make little atomic clocks you know those",
    "start": "2659980",
    "end": "2666490"
  },
  {
    "text": "things you know to come in at a few nanoseconds per second sort of you know",
    "start": "2666490",
    "end": "2672580"
  },
  {
    "text": "stir so you know if you were to sync them up you could run for a pretty long time before they kind of went off to the",
    "start": "2672580",
    "end": "2680590"
  },
  {
    "text": "rails I guess it's still like you know we were out looking for these things you",
    "start": "2680590",
    "end": "2686410"
  },
  {
    "text": "can't buy them super cheap it's not gonna drop replace course crystals any time soon in the data centers",
    "start": "2686410",
    "end": "2695369"
  },
  {
    "text": "yeah so that balagia points out that it's getting a no form factor so it fits",
    "start": "2701059",
    "end": "2706369"
  },
  {
    "text": "on your motherboard it's going to be a challenge for atomic clock yeah so yeah",
    "start": "2706369",
    "end": "2721099"
  },
  {
    "text": "we've you know you know heard talk of people trying to build I was talking to a physics professor here claimed that",
    "start": "2721099",
    "end": "2727489"
  },
  {
    "text": "you could do it you know I know but I don't know maybe that the practice is",
    "start": "2727489",
    "end": "2734390"
  },
  {
    "text": "harder than the theory yeah yeah pointed",
    "start": "2734390",
    "end": "2741679"
  },
  {
    "text": "out that the way people currently use atomic clocks is you have one of them and you have you know everybody go and",
    "start": "2741679",
    "end": "2748219"
  },
  {
    "text": "talk to it again it's a really accurate time so the networking people decided",
    "start": "2748219",
    "end": "2757519"
  },
  {
    "text": "they wanted to get in the clock size business and so there's a protocol a standard called precision time protocol",
    "start": "2757519",
    "end": "2763999"
  },
  {
    "text": "PTP the way it works is and we were",
    "start": "2763999",
    "end": "2769519"
  },
  {
    "text": "seeing part of it already the Knicks when you go to send a packet out time stamp and when they receive it the time",
    "start": "2769519",
    "end": "2776150"
  },
  {
    "text": "stamp it they also have all the switches sort of set up so when a packet comes in",
    "start": "2776150",
    "end": "2782779"
  },
  {
    "text": "at times how long it was in the switch before sending it out and so what the",
    "start": "2782779",
    "end": "2789199"
  },
  {
    "text": "whole system is a little bit complicated but it what it can do is get pretty accurate and measurement of how long it",
    "start": "2789199",
    "end": "2795349"
  },
  {
    "text": "took for a packet to go from one machine to another and based on that you can try",
    "start": "2795349",
    "end": "2801409"
  },
  {
    "text": "to synchronize the clocks on the things we this one has actually been deployed",
    "start": "2801409",
    "end": "2808909"
  },
  {
    "text": "pretty widely you'll see a lot of the vendors have PDP compatible switches and",
    "start": "2808909",
    "end": "2814489"
  },
  {
    "text": "we've seen them in data centers and like that especially in FinTech area and",
    "start": "2814489",
    "end": "2820339"
  },
  {
    "text": "stuff those people are interested in our stuff so it obviously means that thing",
    "start": "2820339",
    "end": "2827000"
  },
  {
    "text": "is not perfect for them I think part of the problem is you know it's it's um",
    "start": "2827000",
    "end": "2832700"
  },
  {
    "text": "you're trying to measure individual packets that are going through and get times it means you have some clock there",
    "start": "2832700",
    "end": "2839930"
  },
  {
    "text": "that you're reading you know when it goes into the switch and it comes out like what is that clock doing you know",
    "start": "2839930",
    "end": "2846410"
  },
  {
    "text": "in terms of its you know varying in frequency and stuff like that and then you're getting one like one sample and",
    "start": "2846410",
    "end": "2853069"
  },
  {
    "text": "trying to make sort of things of it it did sort of pales in comparison to this Big Data approached and we're looking at",
    "start": "2853069",
    "end": "2860079"
  },
  {
    "text": "and stuff we we did you know like really like what they have done for the Knicks",
    "start": "2860079",
    "end": "2866210"
  },
  {
    "text": "and that most all the modern Knicks will try to participate in PTP by",
    "start": "2866210",
    "end": "2871280"
  },
  {
    "text": "timestamping packets when they send it under watch yes yes exactly that's what",
    "start": "2871280",
    "end": "2879589"
  },
  {
    "text": "the way they yes or they use it in that configuration they have a command that you synchronize the clocks and the NIC",
    "start": "2879589",
    "end": "2886369"
  },
  {
    "text": "and then pull it into the house machine",
    "start": "2886369",
    "end": "2890890"
  },
  {
    "text": "there's another system that people use that involved is called pulse per second",
    "start": "2892450",
    "end": "2898040"
  },
  {
    "text": "PPS this one involves like putting an antenna out and listening to GPS",
    "start": "2898040",
    "end": "2903950"
  },
  {
    "text": "satellites and the system involves that you have the antenna on the roof and",
    "start": "2903950",
    "end": "2909170"
  },
  {
    "text": "then you have the leads from the antenna go to your machines devilled splitters",
    "start": "2909170",
    "end": "2914240"
  },
  {
    "text": "and stuff that goes down and then you need to know the length of all those wires you figure it out and then you get",
    "start": "2914240",
    "end": "2921770"
  },
  {
    "text": "the pulse from the GPS sunlight you got to know the distance from your antenna",
    "start": "2921770",
    "end": "2927140"
  },
  {
    "text": "to the GPS satellite and oh yeah it turns out humidity it goes at different",
    "start": "2927140",
    "end": "2934730"
  },
  {
    "text": "speeds but depending on like how the weather and so you need to try to factor that and it",
    "start": "2934730",
    "end": "2941119"
  },
  {
    "text": "turns out if you put all those things together you can get quite accurate time sync and you know obviously if you want",
    "start": "2941119",
    "end": "2947869"
  },
  {
    "text": "to do time sync over globally you know that that is a way you could actually do",
    "start": "2947869",
    "end": "2952939"
  },
  {
    "text": "it you know the the people that have deployed that we're kind of unhappy that",
    "start": "2952939",
    "end": "2960049"
  },
  {
    "text": "you have now if the won't run this separate Network in your data center that has to have very precision wires",
    "start": "2960049",
    "end": "2965900"
  },
  {
    "text": "and stuff like that mentioned costs and the tens of millions of dollars to do so",
    "start": "2965900",
    "end": "2971989"
  },
  {
    "text": "they weren't happy about that part there's another concern the FinTech people have or anytime you play with",
    "start": "2971989",
    "end": "2978469"
  },
  {
    "text": "money they worry about people attacking you and GPS is pretty easy to spoof and",
    "start": "2978469",
    "end": "2983929"
  },
  {
    "text": "so you know there's there that's not a good thing for it if they're so you know",
    "start": "2983929",
    "end": "2991729"
  },
  {
    "text": "it's interesting if you're a physicist and you wanted to solve this problem you",
    "start": "2991729",
    "end": "2997160"
  },
  {
    "text": "might just drag a wire between the different machines and you know how long the wire is how fast the bits go you",
    "start": "2997160",
    "end": "3004539"
  },
  {
    "text": "know go over it and just sort of send things around that way and I guess some people were doing that at CERN and",
    "start": "3004539",
    "end": "3010779"
  },
  {
    "text": "figured out FinTech people would be interested in it's a system called white rabbit that's based on that sort of idea",
    "start": "3010779",
    "end": "3017949"
  },
  {
    "text": "of deploying a specialized network that you then just do time to sync over by",
    "start": "3017949",
    "end": "3024009"
  },
  {
    "text": "send things around never important really like low numbers like sub at a",
    "start": "3024009",
    "end": "3029229"
  },
  {
    "text": "second sort of sync you use in using this sort of system and stuff she'll be",
    "start": "3029229",
    "end": "3034749"
  },
  {
    "text": "nice interesting the thing that we like about what we're doing it's a software system it doesn't really depend on",
    "start": "3034749",
    "end": "3041619"
  },
  {
    "text": "having a separate network and stuff like that on it so in terms of future",
    "start": "3041619",
    "end": "3050349"
  },
  {
    "start": "3047000",
    "end": "3300000"
  },
  {
    "text": "directions as I mentioned you know we did this work and suddenly there was all",
    "start": "3050349",
    "end": "3055390"
  },
  {
    "text": "these people in the industry when FinTech and stuff really kind of clamoring to say can we get this and",
    "start": "3055390",
    "end": "3062630"
  },
  {
    "text": "stuff and it didn't really make sense for a university project to do it so Balaji and its students this founded a",
    "start": "3062630",
    "end": "3069890"
  },
  {
    "text": "company called tick tock networks as sun ups offering that up to them and doing",
    "start": "3069890",
    "end": "3074930"
  },
  {
    "text": "stuff in this area and so that the sort of exciting stuff you know the research",
    "start": "3074930",
    "end": "3080450"
  },
  {
    "text": "here we're continuing just sort of look at sort of implications of having this",
    "start": "3080450",
    "end": "3087200"
  },
  {
    "text": "or look of going through the distributed algorithms we know about and saying okay you have these clocks synchronized this",
    "start": "3087200",
    "end": "3094490"
  },
  {
    "text": "level what can we do with it and stuff I mean part of my motivation for doing this talk was that to throw this out and",
    "start": "3094490",
    "end": "3102320"
  },
  {
    "text": "if you happen to have some application you think would be nice if the clocks were synchronized and I would love to",
    "start": "3102320",
    "end": "3108500"
  },
  {
    "text": "talk to you and look at you know we got systems for sort of doing this so please contact us yes yeah I can you know if",
    "start": "3108500",
    "end": "3131930"
  },
  {
    "text": "you look at sort of the ugly sort of security problems we've seen lately at",
    "start": "3131930",
    "end": "3140270"
  },
  {
    "text": "the root of a lot of them is time you look at all the kind of Intel's you know",
    "start": "3140270",
    "end": "3145520"
  },
  {
    "text": "I'm so nightmare with spectre and meltdown and stuff like that at some point somebody times something and",
    "start": "3145520",
    "end": "3152480"
  },
  {
    "text": "discovered something in it so you know it's not yeah I can see where you know",
    "start": "3152480",
    "end": "3157490"
  },
  {
    "text": "this even things that might be a scary thing for scared you know point of view",
    "start": "3157490",
    "end": "3165050"
  },
  {
    "text": "to have this new capability in the system yes",
    "start": "3165050",
    "end": "3171339"
  },
  {
    "text": "yes we don't but people obviously do that there's actually people that sell",
    "start": "3173890",
    "end": "3180400"
  },
  {
    "text": "products to FinTech which are just ntp with that you know you can actually just",
    "start": "3180400",
    "end": "3185660"
  },
  {
    "text": "set that in the config file tell it that it goes down to eight seconds or something like that but you know I'm",
    "start": "3185660",
    "end": "3191660"
  },
  {
    "text": "just an even the stock release and you can crank that down even more you know",
    "start": "3191660",
    "end": "3199180"
  },
  {
    "text": "so yeah it would obviously have been way worse this year would let it drift for a",
    "start": "3202630",
    "end": "3207680"
  },
  {
    "text": "minute before correcting how you filter",
    "start": "3207680",
    "end": "3216080"
  },
  {
    "text": "the stuff that you're getting all this data and your clock is is going tick",
    "start": "3216080",
    "end": "3221780"
  },
  {
    "text": "tick tick but maybe as frequency is changing because the temperature is changing so the question is how do we",
    "start": "3221780",
    "end": "3232700"
  },
  {
    "text": "filter out the noise and the samples you know so we're taking any antenna probes coming in and what comes out of those",
    "start": "3232700",
    "end": "3240560"
  },
  {
    "text": "machines is just an offset and slope so term end you know tremendous reduction",
    "start": "3240560",
    "end": "3246440"
  },
  {
    "text": "in filtering and stuff so you know any kind of bad stuff hopefully it was just sort of wiped out by that mechanism and",
    "start": "3246440",
    "end": "3253760"
  },
  {
    "text": "stuff so the amount of data were actually passing around as small it's like two floating point numbers per pair",
    "start": "3253760",
    "end": "3260330"
  },
  {
    "text": "of machines yes",
    "start": "3260330",
    "end": "3267250"
  },
  {
    "text": "little cheaper missions the question is this allow you to build cheaper missions",
    "start": "3268760",
    "end": "3275330"
  },
  {
    "text": "you know obviously if somebody said we're gonna have you by atomic clock for each motherboard yeah but this would be",
    "start": "3275330",
    "end": "3282530"
  },
  {
    "text": "a cheaper solution you know that I don't think people pay very much for the",
    "start": "3282530",
    "end": "3288860"
  },
  {
    "text": "crystal oscillators these days even the good ones are are pretty cheap so",
    "start": "3288860",
    "end": "3302440"
  },
  {
    "start": "3300000",
    "end": "3393000"
  },
  {
    "text": "concluding slide one of the things that we've been exciting about it is you know",
    "start": "3302440",
    "end": "3308210"
  },
  {
    "text": "what does it mean now if you could have a data center where the clocks are within say 10 nanoseconds of one another",
    "start": "3308210",
    "end": "3315170"
  },
  {
    "text": "you know wow wow what can you do you know obviously you know the the service",
    "start": "3315170",
    "end": "3320840"
  },
  {
    "text": "where you want it to be able to globally order things as suddenly available as",
    "start": "3320840",
    "end": "3325910"
  },
  {
    "text": "time stamping is a service you know this has been fun to be the software person",
    "start": "3325910",
    "end": "3332360"
  },
  {
    "text": "especially when the competitors are either physicists from CERN or networking people for you know trying to",
    "start": "3332360",
    "end": "3338060"
  },
  {
    "text": "build source switches and stuff and it's a good place to be have our total software and and system and you know",
    "start": "3338060",
    "end": "3345800"
  },
  {
    "text": "kind of works and you couldn't even argue and prove things about how it scales and stuff and then you know the",
    "start": "3345800",
    "end": "3353690"
  },
  {
    "text": "you know what just conclude you know we've basically collected a lot of this",
    "start": "3353690",
    "end": "3359360"
  },
  {
    "text": "probe data used SVM just to try to you know extract out the information we",
    "start": "3359360",
    "end": "3364700"
  },
  {
    "text": "needed we took use coated probes to make sure this SVM's didn't go off the rails and and then we have these global you",
    "start": "3364700",
    "end": "3372530"
  },
  {
    "text": "know sort of algorithms that run so I think that's all I had obviously",
    "start": "3372530",
    "end": "3379920"
  },
  {
    "text": "there were some questions by Apple happy to take more [Applause]",
    "start": "3379920",
    "end": "3390670"
  }
]