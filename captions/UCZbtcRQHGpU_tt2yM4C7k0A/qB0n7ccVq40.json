[
  {
    "text": "[Music] [Applause] this is JS party your weekly celebration of JavaScript and the web are you",
    "start": "4740",
    "end": "12080"
  },
  {
    "text": "missing out on the change log newsletter every Monday I curate contextualize package up and email you the developer",
    "start": "12080",
    "end": "19400"
  },
  {
    "text": "news worth your attention it's a totally free way to keep up with the fast pace",
    "start": "19400",
    "end": "24840"
  },
  {
    "text": "of the software world the easy way sign up today at changel log.com",
    "start": "24840",
    "end": "30080"
  },
  {
    "text": "news big thanks to our partners fast.com fly.io and types sense.org okay hey it's",
    "start": "30080",
    "end": "38320"
  },
  {
    "text": "party time [Music]",
    "start": "38320",
    "end": "48070"
  },
  {
    "text": "[Applause] [Music] [Applause]",
    "start": "48070",
    "end": "53119"
  },
  {
    "text": "y'all hello Internet so excited to be back with you all this week um we have a",
    "start": "54760",
    "end": "60039"
  },
  {
    "text": "very special guest with us today his name is Mark Erikson hello welcome Mark",
    "start": "60039",
    "end": "66439"
  },
  {
    "text": "hello glad to be here yeah and it's just Mark and I today and you know I I think",
    "start": "66439",
    "end": "72479"
  },
  {
    "text": "if we had any like other person here we wouldn't even have enough time to probably even finish the intro because I",
    "start": "72479",
    "end": "78920"
  },
  {
    "text": "mean I know Mark my my brother Mark is is a verbos man in fact we're going to be talking about a blog post he wrote",
    "start": "78920",
    "end": "85479"
  },
  {
    "text": "today that's why we're here um and I I don't even I'm going to admit like I haven't even finished the blog post",
    "start": "85479",
    "end": "90960"
  },
  {
    "text": "there's like like three paragraphs that I haven't read yet so my my verbos friend Mark welcome so excited to have",
    "start": "90960",
    "end": "96960"
  },
  {
    "text": "you on the show so we're going to be talking today about some of the challenges that Mark has been facing as a maintainer",
    "start": "96960",
    "end": "103000"
  },
  {
    "text": "modernizing his packages his node packages to yes to use esm uh and so",
    "start": "103000",
    "end": "108840"
  },
  {
    "text": "Mark um before I I mean I can give you this glowing introduction which is like you're like the internet teacher you are",
    "start": "108840",
    "end": "116079"
  },
  {
    "text": "the I don't know world's most patient and verbose human being you know a lot about JavaScript you've done a really",
    "start": "116079",
    "end": "122960"
  },
  {
    "text": "great job of being a steward for some of the like most widely adopted and maintained packages in our community all",
    "start": "122960",
    "end": "128800"
  },
  {
    "text": "the things all the things but why don't you go ahead and introduce yourself yeah so my my my standard introduction blurb",
    "start": "128800",
    "end": "135040"
  },
  {
    "text": "my day job is working for a company called replay. where we're building a true Tim traveling debugger for",
    "start": "135040",
    "end": "142200"
  },
  {
    "text": "JavaScript applications uh I've been there for about a year and a half I am loving working on this project is an",
    "start": "142200",
    "end": "148599"
  },
  {
    "text": "incredibly useful tool we've got a fantastic team and as good",
    "start": "148599",
    "end": "153720"
  },
  {
    "text": "as it is right now and as much as it can make debugging easier right",
    "start": "153720",
    "end": "159480"
  },
  {
    "text": "now a year and a half from now we're going to have some fantastic new features that we just haven't even had",
    "start": "159480",
    "end": "165000"
  },
  {
    "text": "time to build yet like I'm I'm really excited about where things are going from here other than that as you said I",
    "start": "165000",
    "end": "172599"
  },
  {
    "text": "I answer questions any place there's a text box on the internet I collect useful and interesting links I write",
    "start": "172599",
    "end": "178599"
  },
  {
    "text": "extremely long blog posts and I maintain the redex libraries but most people know",
    "start": "178599",
    "end": "184200"
  },
  {
    "text": "me as that guy with the Simpsons Avatar yeah yeah most people do know you for that right cuz that's like the like",
    "start": "184200",
    "end": "191599"
  },
  {
    "text": "helpful Avatar that pops up to answer random questions like on a Twitter thread or like you know like it's like",
    "start": "191599",
    "end": "199760"
  },
  {
    "text": "the most Pleasant well actually you know so it's like I welcome your will",
    "start": "199760",
    "end": "205040"
  },
  {
    "text": "actually but yeah no mark thank you so much for joining us so again we're here to talk about modules um and the process",
    "start": "205040",
    "end": "212599"
  },
  {
    "text": "of you know kind of moving this massive ecosystem of ours into the world of esm",
    "start": "212599",
    "end": "219879"
  },
  {
    "text": "um and you know for those of you who might be wondering like why is this like a thing you know esm became you know a",
    "start": "219879",
    "end": "227400"
  },
  {
    "text": "standard many years ago you know it was actually technically uh part of the 2015",
    "start": "227400",
    "end": "233239"
  },
  {
    "text": "spec um although people have been working on modules for like Beyond a decade before that officially became",
    "start": "233239",
    "end": "239920"
  },
  {
    "text": "part of the spec and so you know so why is this a thing well you know we're",
    "start": "239920",
    "end": "245319"
  },
  {
    "text": "going to go through a little bit of History first before we kind of get into the Crux of what Mark's famous blog post",
    "start": "245319",
    "end": "252280"
  },
  {
    "text": "is all about but the frontend community kind of hijacked the node ecosystem right cuz we were we using Bower and",
    "start": "252280",
    "end": "260400"
  },
  {
    "text": "cdns and we were not in the node space and then react came along and was like",
    "start": "260400",
    "end": "266600"
  },
  {
    "text": "oh you're going to need a compiler and you're going to need a node run time to like run and build your app and so react",
    "start": "266600",
    "end": "274360"
  },
  {
    "text": "kind of came onto the scene as a frontend package in the node ecosystem and then like the rest was history right",
    "start": "274360",
    "end": "280880"
  },
  {
    "text": "so can you kind of walk us through that Evolution a little bit Mark sure I love history lessons like I I am generally a",
    "start": "280880",
    "end": "287360"
  },
  {
    "text": "big fan of trying to understand when and why were tools created or why were",
    "start": "287360",
    "end": "293800"
  },
  {
    "text": "certain technical decisions made like in the context of that time and place uh I",
    "start": "293800",
    "end": "299919"
  },
  {
    "text": "think it it's a lot easier to understand why things are the way they are now if you understand the decisions that were",
    "start": "299919",
    "end": "306840"
  },
  {
    "text": "made how we got here that way so the first issue is that JavaScript as a",
    "start": "306840",
    "end": "312919"
  },
  {
    "text": "language never had a built-in way to define packages or reusable modules in",
    "start": "312919",
    "end": "320160"
  },
  {
    "text": "the same way that other languages like Java or python did so you know Java from",
    "start": "320160",
    "end": "325280"
  },
  {
    "text": "the beginning you declared packages with a package keyword you organized your files and folders based on a certain",
    "start": "325280",
    "end": "331479"
  },
  {
    "text": "structure and the compiler and all the tools then automatically understood you know here's how you are defining your",
    "start": "331479",
    "end": "339280"
  },
  {
    "text": "code there's an import statement um and then all the tooling worked based on",
    "start": "339280",
    "end": "344680"
  },
  {
    "text": "that and JavaScript never had anything like that and that's both because JavaScript was very hastily and thrown",
    "start": "344680",
    "end": "351199"
  },
  {
    "text": "together the the infamous 10-day development period at the beginning but also because the intended use case early",
    "start": "351199",
    "end": "357400"
  },
  {
    "text": "on was just like a tiny little bit of JavaScript in like a click Handler or a",
    "start": "357400",
    "end": "364199"
  },
  {
    "text": "mouseover or maybe you've got a script tag in your HTML page but it's I don't",
    "start": "364199",
    "end": "371160"
  },
  {
    "text": "know 10 15 20 lines maybe and so like the original intent was just very small",
    "start": "371160",
    "end": "376960"
  },
  {
    "text": "bits of interactivity and starting you maybe 2004 2006 you know around the time",
    "start": "376960",
    "end": "383000"
  },
  {
    "text": "that Ajax started becoming a thing people began writing you know real serious application in JavaScript and",
    "start": "383000",
    "end": "391520"
  },
  {
    "text": "now we're talking thousands tens of thousands of lines of code and millions",
    "start": "391520",
    "end": "397080"
  },
  {
    "text": "millions now millions millions millions and you need a way to actually organize",
    "start": "397080",
    "end": "402199"
  },
  {
    "text": "that code and to provide encapsulation and isolation and have different files refer to each other so one of the first",
    "start": "402199",
    "end": "409319"
  },
  {
    "text": "attempts to do something with this was actually just reusing a sort of discovered JavaScript construct the",
    "start": "409319",
    "end": "416639"
  },
  {
    "text": "immediately invoked function expression or if and people figured out that if I write",
    "start": "416639",
    "end": "423280"
  },
  {
    "text": "my code for a quote unquote module inside an ify it provides the",
    "start": "423280",
    "end": "428919"
  },
  {
    "text": "encapsulation and you can pass some arguments in and it can return something and it sort of kind of approximates what",
    "start": "428919",
    "end": "436680"
  },
  {
    "text": "a package module might kind of feel like in other languages and from there you",
    "start": "436680",
    "end": "442440"
  },
  {
    "text": "kind of had a couple different Community invented specs that came out on the browser side some people invented",
    "start": "442440",
    "end": "449160"
  },
  {
    "text": "something called AMD or asynchronous module definition and the it was",
    "start": "449160",
    "end": "454240"
  },
  {
    "text": "supposed to be browser friendly so you would first load a library like require.js that understood the structure",
    "start": "454240",
    "end": "460520"
  },
  {
    "text": "of these AMD modules and you would point it at your top level module file and it",
    "start": "460520",
    "end": "466039"
  },
  {
    "text": "would download it and look at it and it specifies that it depends on you know modules A and B and so it goes and",
    "start": "466039",
    "end": "473120"
  },
  {
    "text": "downloads those and B depends on C and so it downloads that and it's this whole big waterfall of requests and eventually",
    "start": "473120",
    "end": "479520"
  },
  {
    "text": "it's downloaded all of them and then you know unwinds and loads each file and everything initializes and that was",
    "start": "479520",
    "end": "486280"
  },
  {
    "text": "meant to be browser based you with the idea of downloading each file separately on the other hand on the Node side they",
    "start": "486280",
    "end": "493039"
  },
  {
    "text": "invented the commonjs module format which was specifically designed to be",
    "start": "493039",
    "end": "498840"
  },
  {
    "text": "synchronous and read everything off disk at import time so every time you call",
    "start": "498840",
    "end": "506080"
  },
  {
    "text": "the require function it actually does a very defined search in the local file",
    "start": "506080",
    "end": "512159"
  },
  {
    "text": "system to try to find a file that matches the path that you gave it which",
    "start": "512159",
    "end": "517959"
  },
  {
    "text": "in a lot of cases isn't even a complete path it has implicit assumptions about",
    "start": "517959",
    "end": "523680"
  },
  {
    "text": "you know looking for index JS or looking for package Json and trying to find the",
    "start": "523680",
    "end": "529240"
  },
  {
    "text": "main field and those sorts of things so you had two different Community defined",
    "start": "529240",
    "end": "534399"
  },
  {
    "text": "specs neither of which was like standardized standardized both meant for",
    "start": "534399",
    "end": "539560"
  },
  {
    "text": "different use cases I I'll interrupt you right there because I think like this for me is like the beginning of the rift right which is interesting like looking",
    "start": "539560",
    "end": "545959"
  },
  {
    "text": "at it in retrospective now you know you have people using JavaScript now in two",
    "start": "545959",
    "end": "552720"
  },
  {
    "text": "different places right folks who are using it exclusively in the browser and folks that are also using it in the",
    "start": "552720",
    "end": "558600"
  },
  {
    "text": "server in a server context right and remember like node was kind of like a revolutionary thing back in the day like",
    "start": "558600",
    "end": "564519"
  },
  {
    "text": "I you know I don't think even Bren and I could have predicted that like one day JavaScript would used on the server you",
    "start": "564519",
    "end": "570839"
  },
  {
    "text": "know one day JavaScript would be used to write scripts like that are in running and washing machines like you know it's",
    "start": "570839",
    "end": "576880"
  },
  {
    "text": "like what you know and so yeah actually world poool has like a phenomenal JavaScript engineering team for what",
    "start": "576880",
    "end": "583040"
  },
  {
    "text": "it's worth but you know so javascripting in these different runtimes means you know people are solving for this problem",
    "start": "583040",
    "end": "589399"
  },
  {
    "text": "that really should just be part of the language should just be a standard feature right but it isn't there right",
    "start": "589399",
    "end": "595519"
  },
  {
    "text": "it's it's this huge gaping Gap in the world's most popular programming language for God's sake right and so",
    "start": "595519",
    "end": "603079"
  },
  {
    "text": "here they are now independently solving this problem in the best way that they know how right making the best decisions",
    "start": "603079",
    "end": "608880"
  },
  {
    "text": "with like under the constraints and and all all that jazz right but they're solving the same problem in different",
    "start": "608880",
    "end": "614360"
  },
  {
    "text": "ways right and I think it's interesting to hear you talk about this Rift because this Rift it's you know bringing it back",
    "start": "614360",
    "end": "621600"
  },
  {
    "text": "together right like bringing us all back together to do it one way in these different contexts is like the real like",
    "start": "621600",
    "end": "627600"
  },
  {
    "text": "source of pain here right because because there's some really big decisions we'll get into that later in the show but anyways so back to you mark",
    "start": "627600",
    "end": "635480"
  },
  {
    "text": "yep some people attempted to kind of paper over some of that problem and invented another module format called",
    "start": "635480",
    "end": "643240"
  },
  {
    "text": "UMD Universal module definition which is this horribly utterly hacky and",
    "start": "643240",
    "end": "648959"
  },
  {
    "text": "disgusting looking rapper that does some careful checks and it means that the",
    "start": "648959",
    "end": "654399"
  },
  {
    "text": "same file can be used simultaneously as either an AMD module in the browser a",
    "start": "654399",
    "end": "661079"
  },
  {
    "text": "commonjs module under node or a plain script tag that attaches variables to",
    "start": "661079",
    "end": "667399"
  },
  {
    "text": "the global window UMD umds were like the hot I think I can say the word on this",
    "start": "667399",
    "end": "673399"
  },
  {
    "text": "podcast they were hot when they first came out umds were like oh my God it was",
    "start": "673399",
    "end": "678680"
  },
  {
    "text": "it was revolutionary it was like gamechanging I remember that like the whole like Community being so excited",
    "start": "678680",
    "end": "684240"
  },
  {
    "text": "about UMD CU it was like oh we found a way right because at that point there was already a need right already code",
    "start": "684240",
    "end": "690360"
  },
  {
    "text": "that was being shared between browser and server context since you know um we didn't have react right but we did you",
    "start": "690360",
    "end": "697440"
  },
  {
    "text": "know like this this predated tools like react but um but there was already a need in the community for that for that",
    "start": "697440",
    "end": "702959"
  },
  {
    "text": "alignment so I remember that solved a really big um a big problem back in the",
    "start": "702959",
    "end": "708160"
  },
  {
    "text": "day so where we ended up is that there were several years of investigation and",
    "start": "708160",
    "end": "713800"
  },
  {
    "text": "Research into what an official module spec might look like and that was",
    "start": "713800",
    "end": "719320"
  },
  {
    "text": "finalized as you said as part of the es 2015 language spec and we ended up with",
    "start": "719320",
    "end": "724800"
  },
  {
    "text": "what are now known as es modules and the issue the biggest issue here is that the",
    "start": "724800",
    "end": "731000"
  },
  {
    "text": "the es spec defines the Syntax for ES modules you know the Import and Export",
    "start": "731000",
    "end": "736160"
  },
  {
    "text": "keywords and how those those are supposed to behave and how when you export a variable it's a live binding so",
    "start": "736160",
    "end": "743240"
  },
  {
    "text": "if someone something else Imports it and then the first module reassigns to it it actually gets the new value but there",
    "start": "743240",
    "end": "749800"
  },
  {
    "text": "were some parts of the behavior that they didn't specify and that that's",
    "start": "749800",
    "end": "754959"
  },
  {
    "text": "roughly speaking how the host runtime environment in other words either a browser or node should actually handle",
    "start": "754959",
    "end": "762519"
  },
  {
    "text": "like loading the files off dis and how they should handle intering with other",
    "start": "762519",
    "end": "770000"
  },
  {
    "text": "module formats and so what ended up happening is that browsers mostly figured out how they were going to",
    "start": "770000",
    "end": "775880"
  },
  {
    "text": "implement the loading you know the downloading and the parsing and the ution of es modules but node had a much",
    "start": "775880",
    "end": "783800"
  },
  {
    "text": "harder time figuring out what they were going to do because they had to worry like node was",
    "start": "783800",
    "end": "791199"
  },
  {
    "text": "already all in on commonjs node was built around this concept of commonjs",
    "start": "791199",
    "end": "796880"
  },
  {
    "text": "and so now the question is like like things like if we look at any random. JS",
    "start": "796880",
    "end": "802600"
  },
  {
    "text": "file and we found it and we're trying to load it how do we know ahead of time if",
    "start": "802600",
    "end": "808240"
  },
  {
    "text": "that is supposed to be commonjs or esm like we really can't know it until we've actually tried to parse it and execute",
    "start": "808240",
    "end": "814800"
  },
  {
    "text": "it and then find back and find out that oops we guessed wrong or what happens if",
    "start": "814800",
    "end": "820079"
  },
  {
    "text": "you've got an esm file that tries to call require or tries to import a file",
    "start": "820079",
    "end": "825880"
  },
  {
    "text": "that's commonjs or vice versa like what are the semantics and how does that interrupt and so the node folks ended up",
    "start": "825880",
    "end": "832480"
  },
  {
    "text": "spending years debating all this and trying to figure out how it was going to work and it was a very painful involv",
    "start": "832480",
    "end": "839240"
  },
  {
    "text": "process a lot of people spend a with good intentions spent a lot of time arguing about how this stuff should work",
    "start": "839240",
    "end": "847639"
  },
  {
    "text": "eventually node made some technical decisions and implemented them and moved",
    "start": "847639",
    "end": "853199"
  },
  {
    "text": "on and so in theory node has pretty good support for both commonjs and esm right",
    "start": "853199",
    "end": "860360"
  },
  {
    "text": "now but where this has led to is we have an ecosystem of many different tools",
    "start": "860360",
    "end": "865680"
  },
  {
    "text": "with different expectations around how different modules oh oh the the other the other complicating factor and this",
    "start": "865680",
    "end": "871680"
  },
  {
    "text": "is what you were saying a minute ago people have been wanting to use es module syntax even since before the spec",
    "start": "871680",
    "end": "878160"
  },
  {
    "text": "was finalized and so bundlers like you know webpack and V and parcel and NES",
    "start": "878160",
    "end": "885680"
  },
  {
    "text": "build have had support for parsing and loading multiple modules of different",
    "start": "885680",
    "end": "891120"
  },
  {
    "text": "kinds in one codebase for years so they've kind of had to invent their own",
    "start": "891120",
    "end": "896480"
  },
  {
    "text": "semantics for what happens when you go back and forth and what happens if a",
    "start": "896480",
    "end": "901639"
  },
  {
    "text": "commonjs file Imports an esm file and all this stuff and that doesn't necessarily match how like node decided",
    "start": "901639",
    "end": "908880"
  },
  {
    "text": "that they were going to do things and then then you get typescript in the picture oh my God yeah you hold that",
    "start": "908880",
    "end": "914120"
  },
  {
    "text": "train for just a second we can't even get to the typescript discussion yet hold on so just to kind of recap here",
    "start": "914120",
    "end": "919440"
  },
  {
    "text": "like this is like for me like this interesting cluster of like whoa the",
    "start": "919440",
    "end": "924600"
  },
  {
    "text": "maintainer community kind of eagerly giving developers you know what want and need right before there is even a",
    "start": "924600",
    "end": "931720"
  },
  {
    "text": "decision as to how these things need to resolve under the hood you know and then don't forget it's not like the bundlers",
    "start": "931720",
    "end": "937880"
  },
  {
    "text": "got together and had a standard for how they were going to make these decisions each bundler had their own like logic",
    "start": "937880",
    "end": "943639"
  },
  {
    "text": "and algorithm tree that they they use for module resolution and meanwhile you have the node TSC the technical steering",
    "start": "943639",
    "end": "949959"
  },
  {
    "text": "committee you know folks um many folks who've been on this show in the past um you know who've you know spent just",
    "start": "949959",
    "end": "957199"
  },
  {
    "text": "years kind of trying to Hash this out and they kind of finally landed on something that shipped stable I think",
    "start": "957199",
    "end": "964240"
  },
  {
    "text": "was it note 13 or sorry I think it was 13 14 something like that at least 16 if",
    "start": "964240",
    "end": "970040"
  },
  {
    "text": "not 18 somewhere I mean like I think if 13 was experimental and then maybe yeah and then 16 yeah I think 16 was maybe",
    "start": "970040",
    "end": "976440"
  },
  {
    "text": "when it's was was stable so you know finally kind of shipped but like the",
    "start": "976440",
    "end": "981639"
  },
  {
    "text": "community has been used to this frictionless experience already through the thankful like hard work of the you",
    "start": "981639",
    "end": "989199"
  },
  {
    "text": "know folks who've been Tak doing all the bundling and so so now you know how do we shift this to kind of work out of the",
    "start": "989199",
    "end": "995560"
  },
  {
    "text": "box and just be TurnKey is the real question right like because you can't we can't have these like magic poly filling",
    "start": "995560",
    "end": "1001519"
  },
  {
    "text": "machines like everywhere that's not scalable or sustainable and we you know like webpack should not be a",
    "start": "1001519",
    "end": "1007560"
  },
  {
    "text": "prerequisite to use node you know or or or whatever whatever tool and so this is",
    "start": "1007560",
    "end": "1013839"
  },
  {
    "text": "this is kind of where we are now and you we've had that problem kind of growing",
    "start": "1013839",
    "end": "1019600"
  },
  {
    "text": "and alongside it you've had the kind of Rise of typescript right kind of around",
    "start": "1019600",
    "end": "1024720"
  },
  {
    "text": "the same time as kind of we started to find of figure out how we wanted to handle this and how to handle esm in",
    "start": "1024720",
    "end": "1031640"
  },
  {
    "text": "node and then we have like the hockey stick rise of typescript which adds another layer of complexity into the",
    "start": "1031640",
    "end": "1037640"
  },
  {
    "text": "already complex Matrix so so yeah yeah and so there's there's multiple additional factors from there I I",
    "start": "1037640",
    "end": "1044000"
  },
  {
    "text": "actually put out a Tweet back in April when I was neck deep in the middle of all this stuff with where I listed like",
    "start": "1044000",
    "end": "1050640"
  },
  {
    "text": "here are things I have to keep in mind when I publish a library in 2023 and quot quoting myself build artifact",
    "start": "1050640",
    "end": "1058360"
  },
  {
    "text": "formats esm commonjs UMD matrixed with Dev versus PR versus various node end",
    "start": "1058360",
    "end": "1065200"
  },
  {
    "text": "Flags am I pre-b bundling my JavaScript library when I publish it or am I publishing individual JS files per",
    "start": "1065200",
    "end": "1071840"
  },
  {
    "text": "Source how do you define package. exorts what about webpack 4 what about",
    "start": "1071840",
    "end": "1077000"
  },
  {
    "text": "typescripts module resolution option what about different user environments what about different bundlers node in",
    "start": "1077000",
    "end": "1083559"
  },
  {
    "text": "esm versus CJs mode uh do I need to prebundle my typescript type defs what",
    "start": "1083559",
    "end": "1088919"
  },
  {
    "text": "about Edge runtimes what about react having the new like used client keyword",
    "start": "1088919",
    "end": "1094320"
  },
  {
    "text": "or needing to deal with server components differently oh and what about all the libraries that I depend on it's",
    "start": "1094320",
    "end": "1100039"
  },
  {
    "text": "a mess with something like um only wear green socks part of that list too because it just it just sounds like such",
    "start": "1100039",
    "end": "1105720"
  },
  {
    "text": "a Cookie list that you probably should have like a special piece of of clothing on you like when you're publishing",
    "start": "1105720",
    "end": "1111799"
  },
  {
    "text": "package much pretty much yeah yeah so yeah so enter typescript so let's talk about how typescript complicates this",
    "start": "1111799",
    "end": "1119200"
  },
  {
    "text": "landscape Mark before we kind of dig into some of the specific pain points that were outlined in your epic blog",
    "start": "1119200",
    "end": "1125400"
  },
  {
    "text": "post well so there's there's a couple more things that even tie in along with the typescript aspect so you we said",
    "start": "1125400",
    "end": "1132080"
  },
  {
    "text": "earlier that the front end ecosystem kind of jumped on the Node train and",
    "start": "1132080",
    "end": "1137919"
  },
  {
    "text": "that includes publishing packages to npm and Publishing a package to npm wasn't",
    "start": "1137919",
    "end": "1143520"
  },
  {
    "text": "that bad in the beginning if you make the assumption that everyone who uses this is also just running it under note",
    "start": "1143520",
    "end": "1150960"
  },
  {
    "text": "that's a and that's a fair assumption for what it's worth like you know reasonable assumption but now that we're",
    "start": "1150960",
    "end": "1156440"
  },
  {
    "text": "you know starting to worry about and by now I'm you referring backwards to like you know 2011 2012 you start worrying",
    "start": "1156440",
    "end": "1163919"
  },
  {
    "text": "about I need to publish this code so that it can run in a browser well okay",
    "start": "1163919",
    "end": "1169080"
  },
  {
    "text": "we're we're going to publish this code to npm in commonjs format because that's",
    "start": "1169080",
    "end": "1175360"
  },
  {
    "text": "what most tools are going to understand but we also need to make sure that we backwards compile our JavaScript syntax",
    "start": "1175360",
    "end": "1183600"
  },
  {
    "text": "because everyone has to worry about running their code in i11 and i11 only",
    "start": "1183600",
    "end": "1189600"
  },
  {
    "text": "understands es5 syntax so even at that point like if you wanted to write and",
    "start": "1189600",
    "end": "1195480"
  },
  {
    "text": "author your library code using upcoming JavaScript syntax like you know what",
    "start": "1195480",
    "end": "1201280"
  },
  {
    "text": "what eventually became es 2015 you had to backwards transpile your own code at build time to",
    "start": "1201280",
    "end": "1210039"
  },
  {
    "text": "es5 and commonjs so that it was the lowest common denominator and you know build",
    "start": "1210039",
    "end": "1217400"
  },
  {
    "text": "tools could load the modules and the syntax itself would execute in i1 and",
    "start": "1217400",
    "end": "1224080"
  },
  {
    "text": "that's basically where we've been at for 7 plus years like even now most",
    "start": "1224080",
    "end": "1230240"
  },
  {
    "text": "libraries are compiling to commonjs and compiling the syntax to",
    "start": "1230240",
    "end": "1236280"
  },
  {
    "text": "es5 so that it works everywhere and it's just within the last couple years where",
    "start": "1236280",
    "end": "1241440"
  },
  {
    "text": "we've really started seeing more libraries not just including an es",
    "start": "1241440",
    "end": "1247760"
  },
  {
    "text": "module file in their published package but trying to make it the primary file and actually saying okay we're going to",
    "start": "1247760",
    "end": "1254840"
  },
  {
    "text": "ship a more modern syntax whether it's es20 17 or just literally like here's",
    "start": "1254840",
    "end": "1261600"
  },
  {
    "text": "the syntax I wrote minus the typescript types and that's where the the other thing comes in is that with everyone",
    "start": "1261600",
    "end": "1267320"
  },
  {
    "text": "using typescript to write well many people using typescript to write their code that's another layer of a build",
    "start": "1267320",
    "end": "1274159"
  },
  {
    "text": "step because typescript code won't run in any runtime environment so at a bare",
    "start": "1274159",
    "end": "1280400"
  },
  {
    "text": "minimum even if you're not going to convert the syntax you have to at least strip out the typescript types when you",
    "start": "1280400",
    "end": "1287120"
  },
  {
    "text": "publish it yeah that sounds like like a good time sounds like there needs to be a service you know publish as a service",
    "start": "1287120",
    "end": "1293039"
  },
  {
    "text": "like you know like I wrote this in whatever language whatever runtime just here you make it work for you know make",
    "start": "1293039",
    "end": "1300880"
  },
  {
    "text": "it work for everyone else like that this should just be like yeah there sh like you know like a Jetson machine you know",
    "start": "1300880",
    "end": "1307120"
  },
  {
    "text": "like you know you put whatever code in then it spits out like this huge Matrix",
    "start": "1307120",
    "end": "1313120"
  },
  {
    "text": "of formats that you can distribute it's crazy um like a podcast distribution",
    "start": "1313120",
    "end": "1318679"
  },
  {
    "text": "something right like wherever you get your podcasts right like wherever you run your code here take this it should",
    "start": "1318679",
    "end": "1324520"
  },
  {
    "text": "work you know but anyways okay so like getting into this um this typescript",
    "start": "1324520",
    "end": "1330039"
  },
  {
    "text": "craziness can you kind of like you know as most people are not maintainers right so most people are kind of on the",
    "start": "1330039",
    "end": "1336000"
  },
  {
    "text": "consumption side I know for a fact that like people on the consumption side have experienced a lot of friction around",
    "start": "1336000",
    "end": "1341840"
  },
  {
    "text": "this especially in the early days when node was kind of experimenting with esm",
    "start": "1341840",
    "end": "1347679"
  },
  {
    "text": "there's just a lot of import errors and like oh what you know like there was super um I could back in",
    "start": "1347679",
    "end": "1355000"
  },
  {
    "text": "the day I would almost have that error memorized you know like the like when you try to use Import in a node context",
    "start": "1355000",
    "end": "1361279"
  },
  {
    "text": "like it's like you there's some reference thereor I can module not found",
    "start": "1361279",
    "end": "1366320"
  },
  {
    "text": "something something right that's yeah Google that like there's like so many hits for that right but can you kind of",
    "start": "1366320",
    "end": "1371600"
  },
  {
    "text": "just can you can you share some insights into like what are some of the common pain points that you see people hitting",
    "start": "1371600",
    "end": "1377000"
  },
  {
    "text": "like because of these issues right before we flip over to kind of the maintainer hell that you are in you know",
    "start": "1377000",
    "end": "1383000"
  },
  {
    "text": "how are how are Everyday People kind of everyday developers feeling this paino",
    "start": "1383000",
    "end": "1388480"
  },
  {
    "text": "so developers certainly run into this stuff Downstream from the libraries and",
    "start": "1388480",
    "end": "1393919"
  },
  {
    "text": "I I even ran into this we might might talk about in a minute when I was attempting to make my first updates to",
    "start": "1393919",
    "end": "1399120"
  },
  {
    "text": "Redux toolkit to modernize some of its packaging the Redux toolkit depends on",
    "start": "1399120",
    "end": "1405080"
  },
  {
    "text": "the Redux thk Library which I maintain and the emmer library which I do not and",
    "start": "1405080",
    "end": "1411799"
  },
  {
    "text": "my attempts to modernize the package worked somewhat but then like just which",
    "start": "1411799",
    "end": "1418240"
  },
  {
    "text": "is yet another tool that does its own module parsing doesn't have great esm support and it was getting confused",
    "start": "1418240",
    "end": "1426000"
  },
  {
    "text": "because it was trying to load both those packages in an esm context and instead",
    "start": "1426000",
    "end": "1431919"
  },
  {
    "text": "of getting like they both mix default exports and named exports and instead of",
    "start": "1431919",
    "end": "1438559"
  },
  {
    "text": "getting the actual values that I wanted I was getting back an object with a key",
    "start": "1438559",
    "end": "1443960"
  },
  {
    "text": "of default inside of it which is not the thing that the code expected so there",
    "start": "1443960",
    "end": "1449240"
  },
  {
    "text": "there's that there's there's the error module not found thing that you were talking about a lot of app developers",
    "start": "1449240",
    "end": "1455000"
  },
  {
    "text": "have seen problems where some Library authors like cnre sorus you know prolific author of node related",
    "start": "1455000",
    "end": "1461840"
  },
  {
    "text": "libraries have decided that they're just going to go esm only for everything and he even he published major versions of",
    "start": "1461840",
    "end": "1468760"
  },
  {
    "text": "all his packages he even put up a guest saying here's my reasons why everything I do is esm only from here on out and I",
    "start": "1468760",
    "end": "1475440"
  },
  {
    "text": "I can absolutely understand and respect the technical and personal reasons behind that decision but it's also meant",
    "start": "1475440",
    "end": "1482480"
  },
  {
    "text": "that in a lot of cases people upgraded dependencies either intentionally or",
    "start": "1482480",
    "end": "1487640"
  },
  {
    "text": "unintentionally and all of a sudden like the latest version of chalk or node",
    "start": "1487640",
    "end": "1493480"
  },
  {
    "text": "fetch or something like that broke because the rest of their tool chain isn't properly configured to load these",
    "start": "1493480",
    "end": "1500799"
  },
  {
    "text": "libraries the way that the author is now publishing them and so a lot of people have had to revert back to the previous",
    "start": "1500799",
    "end": "1507000"
  },
  {
    "text": "major version of these libraries just so it's not esm only yeah great summary I",
    "start": "1507000",
    "end": "1512960"
  },
  {
    "text": "mean you know the node ecosystem is like this like legol land right where I mean that's the beauty of it and also the one",
    "start": "1512960",
    "end": "1519760"
  },
  {
    "text": "of the one of the pain points I think especially for smaller teams or people you know um newer developers you know",
    "start": "1519760",
    "end": "1526240"
  },
  {
    "text": "you having to kind of like maintain The Matrix of interoperable packages and",
    "start": "1526240",
    "end": "1531320"
  },
  {
    "text": "their peer dependencies and and whatnot and whatnot as well as kind of your what runtime version you have right like what",
    "start": "1531320",
    "end": "1537720"
  },
  {
    "text": "version of node are you even running uh and does this version of node support top level awaits for example right and",
    "start": "1537720",
    "end": "1543640"
  },
  {
    "text": "so yeah I mean sonoris I just said sonoris I can I always mispronounce",
    "start": "1543640",
    "end": "1549120"
  },
  {
    "text": "their name sorus I think dino man okay his whole thing with oh I'm only going to publish esm you know which I respect",
    "start": "1549120",
    "end": "1557159"
  },
  {
    "text": "their decision to do that but the the implication of that is that you know um you might not be running the right",
    "start": "1557159",
    "end": "1562320"
  },
  {
    "text": "version of node you might your customers might not be running the the latest",
    "start": "1562320",
    "end": "1567720"
  },
  {
    "text": "version of a browser that would support said Lang language syntax and so you",
    "start": "1567720",
    "end": "1573039"
  },
  {
    "text": "know that there's some serious Ripple effects and so then are you kind of transpiling your dependencies uh you",
    "start": "1573039",
    "end": "1578120"
  },
  {
    "text": "know you know how do you even manage that process easily you know um as a",
    "start": "1578120",
    "end": "1583480"
  },
  {
    "text": "team and so you know there's there's pretty big um downsides but you know the the flip side of this is that like",
    "start": "1583480",
    "end": "1589919"
  },
  {
    "text": "unfortunately our no dependencies have kind of been stuck in 2014 right because",
    "start": "1589919",
    "end": "1596000"
  },
  {
    "text": "no one is publishing quote unquote modern JavaScript as their final output right and so you have like bites and",
    "start": "1596000",
    "end": "1603039"
  },
  {
    "text": "bites of JavaScript that could be removed from the web and you know we could be better optimizing all sorts of",
    "start": "1603039",
    "end": "1609480"
  },
  {
    "text": "things and there's um an initiative that I tried to start like many years ago and just kind of like got really busy but",
    "start": "1609480",
    "end": "1615960"
  },
  {
    "text": "kind of trying to kind of say hey can we have a standard around around how we publish our dependencies right because",
    "start": "1615960",
    "end": "1623600"
  },
  {
    "text": "we should be we should be able to publish modern JavaScript and not hold the web back right so that's like it's a",
    "start": "1623600",
    "end": "1629080"
  },
  {
    "text": "whole thing to like right now like the web is very much held back by all of the thirdparty JavaScript that's in 2014",
    "start": "1629080",
    "end": "1637000"
  },
  {
    "text": "code right so minus dino man right so so yeah any thoughts on that yeah like I",
    "start": "1637000",
    "end": "1643480"
  },
  {
    "text": "said earlier like the fact that packages have generally had to publish the lowest comment denominator in terms of module",
    "start": "1643480",
    "end": "1649840"
  },
  {
    "text": "formats and syntax has definitely added to you know the the weight of web pages",
    "start": "1649840",
    "end": "1656559"
  },
  {
    "text": "and so being able to ship modern like you know for example like optional chaining is great I love optional",
    "start": "1656559",
    "end": "1663080"
  },
  {
    "text": "chaining syntax have you ever seen what it gets transpiled to like that little",
    "start": "1663080",
    "end": "1668200"
  },
  {
    "text": "question dot ends up as like 80 or 100 characters of like uh something",
    "start": "1668200",
    "end": "1674399"
  },
  {
    "text": "something bang double equals void zero blah blah blah blah blah and like if we",
    "start": "1674399",
    "end": "1680600"
  },
  {
    "text": "can just ship modern JavaScript that's way fewer bytes that have to go out to the browser yeah yeah I mean it's a",
    "start": "1680600",
    "end": "1687720"
  },
  {
    "text": "win-win for everyone it's a win-win for users it's a win-win for developers it's a win-win for the Earth because that's",
    "start": "1687720",
    "end": "1694360"
  },
  {
    "text": "literally like less resources and like less bites across the wire um less internet trash all kinds of things um",
    "start": "1694360",
    "end": "1701399"
  },
  {
    "text": "you know but to kind of get back to the you know the the typescript problem here and and some of the issues that you",
    "start": "1701399",
    "end": "1706480"
  },
  {
    "text": "described as consumer pain points I I think you know you're kind of what when you when you publish this blog post",
    "start": "1706480",
    "end": "1712960"
  },
  {
    "text": "like you're you're airing out I think the next piece of dirty laundry to kind of go live in the JavaScript Community",
    "start": "1712960",
    "end": "1718480"
  },
  {
    "text": "which is these pain points right so I know you you published this blog post on August 8th it's had like a lot of",
    "start": "1718480",
    "end": "1724960"
  },
  {
    "text": "circulation and actually one of our change log Plus+ listeners Nick if",
    "start": "1724960",
    "end": "1730559"
  },
  {
    "text": "you're listening um actually requested this episode and and they were like hey you know um would love to have it like",
    "start": "1730559",
    "end": "1737000"
  },
  {
    "text": "here like a discussion on this topic and I was like well why don't we just invite mark back onto the show I love my mark",
    "start": "1737000",
    "end": "1743519"
  },
  {
    "text": "main main man Mark you know and so you know you you kind of going viral with",
    "start": "1743519",
    "end": "1748600"
  },
  {
    "text": "this post means you know that yeah people are feeling this pain as well as you right so can you kind of share some",
    "start": "1748600",
    "end": "1754919"
  },
  {
    "text": "some thoughts on that yeah so I guess first off like when I write my blog posts yes I'm I'm writing them with the",
    "start": "1754919",
    "end": "1762799"
  },
  {
    "text": "idea that someone's going to read them but usually I have some idea like this is a topic that people actually be",
    "start": "1762799",
    "end": "1768360"
  },
  {
    "text": "interested in or not like you know the the one about how react renders has been by far my most widely read post because",
    "start": "1768360",
    "end": "1775200"
  },
  {
    "text": "that's a thing that people care about and often don't really understand but",
    "start": "1775200",
    "end": "1780320"
  },
  {
    "text": "this one like trust me I was not reading this with an expectation that it was going to get lots of views it was just",
    "start": "1780320",
    "end": "1787120"
  },
  {
    "text": "I've gone through you know all these pain points this is mostly me attempting",
    "start": "1787120",
    "end": "1792279"
  },
  {
    "text": "to document them just as an FYI for folks and you know it hasn't necessarily",
    "start": "1792279",
    "end": "1798679"
  },
  {
    "text": "gotten like tons of views but it actually has gotten a surprisingly large",
    "start": "1798679",
    "end": "1803760"
  },
  {
    "text": "amount of people saying this is a good article thank you for writing it or you know I'm a library maintainer and yeah",
    "start": "1803760",
    "end": "1810240"
  },
  {
    "text": "I'm experiencing all these pain points so it it definitely has struck a bit of a nerve yeah I mean well I mean having",
    "start": "1810240",
    "end": "1816760"
  },
  {
    "text": "to kind of like publish for this crazy Matrix of considerations right means",
    "start": "1816760",
    "end": "1822279"
  },
  {
    "text": "that like you you have to sometime you kind of question yourself you're like well is it is this is like it can't",
    "start": "1822279",
    "end": "1827399"
  },
  {
    "text": "really be this bad like maybe it's just me right and I think by you kind of like airing your Grievances and saying like",
    "start": "1827399",
    "end": "1833840"
  },
  {
    "text": "these are all the things that I had to do and these are the issues that I still have and these are the problems that I",
    "start": "1833840",
    "end": "1839240"
  },
  {
    "text": "hit for this big widely adopted package it kind of like really lets people kind",
    "start": "1839240",
    "end": "1844320"
  },
  {
    "text": "kind of come out of the Woodworks too to say you know oh great it's not just me you know so it's it's been so okay like",
    "start": "1844320",
    "end": "1852640"
  },
  {
    "text": "you have to understand that I have this very I don't know Jaelin Hy view of",
    "start": "1852640",
    "end": "1858120"
  },
  {
    "text": "myself like there's plenty of times when I come into a conversation and like I'm the Redux maintainer I know what I'm",
    "start": "1858120",
    "end": "1863320"
  },
  {
    "text": "doing you should totally listen to what I have to say but there's like there's lots of other times where I genuinely",
    "start": "1863320",
    "end": "1868639"
  },
  {
    "text": "feel like I don't know much about this topic and that may or may not be an accurate view of myself but that's the",
    "start": "1868639",
    "end": "1874720"
  },
  {
    "text": "feeling that I have and there have been a couple who like read this post and legitimately told me like almost",
    "start": "1874720",
    "end": "1881080"
  },
  {
    "text": "verbatim it's like wow if Mark Ericson doesn't know what he's doing how like how can anyone else know this which is",
    "start": "1881080",
    "end": "1887440"
  },
  {
    "text": "hilarious because I barely know what I'm doing [Music]",
    "start": "1887440",
    "end": "1894440"
  },
  {
    "text": "here this is a chang log news break you can add meta's code llama to the ever",
    "start": "1894440",
    "end": "1901159"
  },
  {
    "text": "expanding list of code generating llms based on llama 2 code llama comes in",
    "start": "1901159",
    "end": "1907279"
  },
  {
    "text": "three sizes 7 billion parameters 13 billion and 34 billion and it comes in",
    "start": "1907279",
    "end": "1913279"
  },
  {
    "text": "three different varieties a general model one tuned for NLP instructions and",
    "start": "1913279",
    "end": "1919760"
  },
  {
    "text": "one fine tuned for python how does it stack up well meta claims it outperforms",
    "start": "1919760",
    "end": "1925320"
  },
  {
    "text": "other publicly available llms and it shares the same open-ish license as llama itself which is free for research",
    "start": "1925320",
    "end": "1932519"
  },
  {
    "text": "and commercial use unless you compete with meta you just heard one of our five",
    "start": "1932519",
    "end": "1937720"
  },
  {
    "text": "top stories from Monday's change log news subscribe to the podcast to get all of the week's top stories and pop your",
    "start": "1937720",
    "end": "1944600"
  },
  {
    "text": "email address in at Chang blog.com newws to all o receive our free companion email with even more developer news",
    "start": "1944600",
    "end": "1952279"
  },
  {
    "text": "worth your attention once again that's [Music]",
    "start": "1952279",
    "end": "1962839"
  },
  {
    "text": "we'll we'll we'll sort of you know go through the post sort of in order and like I can I can just sort of even you know recap things off my own head sounds",
    "start": "1977840",
    "end": "1985080"
  },
  {
    "text": "great at the start of this year I was the primary maintainer for five different Redux related packages the",
    "start": "1985080",
    "end": "1991120"
  },
  {
    "text": "original Redux core react Redux reselect Redux thk and Redux toolkit and all",
    "start": "1991120",
    "end": "1997159"
  },
  {
    "text": "those have been around for years we'd even publish major versions of like react Redux in the last couple years but",
    "start": "1997159",
    "end": "2004440"
  },
  {
    "text": "most of them had publishing and builds set up that went back many many years",
    "start": "2004440",
    "end": "2011039"
  },
  {
    "text": "and on top of that Redux toolkit we published version 1.0 in late 2019 we're up to version",
    "start": "2011039",
    "end": "2017039"
  },
  {
    "text": "1.9 and I'd made a few updates to the publishing setup switching to something es build for that project a couple years",
    "start": "2017039",
    "end": "2024480"
  },
  {
    "text": "ago but most of them we were just building with roll up and babble and shipping a whole big mixture of commonjs",
    "start": "2024480",
    "end": "2031639"
  },
  {
    "text": "esm and UMD files and none of those projects specified the relatively new",
    "start": "2031639",
    "end": "2038880"
  },
  {
    "text": "package. exports field to Define how different build and runtime tools should",
    "start": "2038880",
    "end": "2045600"
  },
  {
    "text": "determine which module file they're supposed to load and we'd gotten some",
    "start": "2045600",
    "end": "2050679"
  },
  {
    "text": "reports from people saying like if I try to Lo import Redux toolkit in a full esm",
    "start": "2050679",
    "end": "2056679"
  },
  {
    "text": "node environment then it errors you know the you module not found error some",
    "start": "2056679",
    "end": "2062040"
  },
  {
    "text": "people have said that we can't import the right things with certain typescript settings and then along with that the",
    "start": "2062040",
    "end": "2068800"
  },
  {
    "text": "other points I mentioned where we were still compiling all the code to es5 to support",
    "start": "2068800",
    "end": "2074118"
  },
  {
    "text": "i1 and we we generally wanted to ship modern JavaScript and better support",
    "start": "2074119",
    "end": "2081200"
  },
  {
    "text": "full es module compatibility whatever the heck that actually means and I'd",
    "start": "2081200",
    "end": "2086520"
  },
  {
    "text": "been squirreling away hundreds of bookmarks about this topic for years knowing it was a thing that was",
    "start": "2086520",
    "end": "2092358"
  },
  {
    "text": "eventually going to happen and scared me and so I finally started to look at it at the start of the year and I did a",
    "start": "2092359",
    "end": "2099240"
  },
  {
    "text": "bunch of research and I thought I was I knew what I was doing and I was very wrong and I tried to update Redux",
    "start": "2099240",
    "end": "2106200"
  },
  {
    "text": "toolkit to add package exports and I tried putting the type module field into",
    "start": "2106200",
    "end": "2113079"
  },
  {
    "text": "our package Jon thinking that was a thing that I needed to do and like I said stuff broke in this case primarily",
    "start": "2113079",
    "end": "2120880"
  },
  {
    "text": "just not being able to load dependencies properly and you put type module in in",
    "start": "2120880",
    "end": "2127119"
  },
  {
    "text": "your is was that in your in your package Json right just because there's like maybe a few other places you could have",
    "start": "2127119",
    "end": "2132880"
  },
  {
    "text": "potentially even done something similar to that right there's like TS config there's package Json right there's I I",
    "start": "2132880",
    "end": "2139440"
  },
  {
    "text": "was under the impression that putting the field type module in your Project's",
    "start": "2139440",
    "end": "2145599"
  },
  {
    "text": "package Json was a requirement for quote unquote es module compatibility I didn't",
    "start": "2145599",
    "end": "2153000"
  },
  {
    "text": "even fully 100% understand what that meant but I thought that it was a thing that I had to do and as I found out",
    "start": "2153000",
    "end": "2160680"
  },
  {
    "text": "later the the core issue there is that like I said node has to figure out for",
    "start": "2160680",
    "end": "2166280"
  },
  {
    "text": "any given file is this commonjs or esm and originally everyone's just shipping",
    "start": "2166280",
    "end": "2173200"
  },
  {
    "text": "files with ajs extension and you importing them requiring them whatever so if both your commonjs and your esm",
    "start": "2173200",
    "end": "2180640"
  },
  {
    "text": "files have ajs extension how can it know without parsing them and so what the node folks decided was there's two",
    "start": "2180640",
    "end": "2187079"
  },
  {
    "text": "different ways you can do it one is you can actually use different file",
    "start": "2187079",
    "end": "2192280"
  },
  {
    "text": "extensions if it's MJS it's an esm file if it's CJs it's a commonjs file but",
    "start": "2192280",
    "end": "2200640"
  },
  {
    "text": "where does that leave any JS files and so what they decided was that if you put",
    "start": "2200640",
    "end": "2207640"
  },
  {
    "text": "a type module field in your package Json that is telling node that anytime you",
    "start": "2207640",
    "end": "2213920"
  },
  {
    "text": "see a plane. JS extension assume it is a module or you can use I think type",
    "start": "2213920",
    "end": "2220040"
  },
  {
    "text": "commonjs to say assume that it's a commonjs file and so I didn't really",
    "start": "2220040",
    "end": "2225119"
  },
  {
    "text": "understand the implications what if we don't have anything there if you don't have anything there it's just default right to commonjs yeah still defaulting",
    "start": "2225119",
    "end": "2231599"
  },
  {
    "text": "to assuming commonjs for all. JS extensions yeah which makes sense for like backwards compatibility right to",
    "start": "2231599",
    "end": "2237319"
  },
  {
    "text": "think about all the like thousands and thousands of node projects that are commonjs and you know they want to be",
    "start": "2237319",
    "end": "2243800"
  },
  {
    "text": "able to still bump their node versions right so of course there you're going to try to do this in a way that's not going",
    "start": "2243800",
    "end": "2249440"
  },
  {
    "text": "to break everybody's app automatically that would be like the death of node you know if you can't upgrade and just to be",
    "start": "2249440",
    "end": "2255760"
  },
  {
    "text": "clear like the the MJS like where did where did I like stopped following that discussion because it just like I was",
    "start": "2255760",
    "end": "2261920"
  },
  {
    "text": "like I can't think about this right now it's gone back and forth where have we landed on MJS as a thing now right",
    "start": "2261920",
    "end": "2269160"
  },
  {
    "text": "because I I haven't really seen widescale use of that um but I'm wondering if you have or if you're more",
    "start": "2269160",
    "end": "2274359"
  },
  {
    "text": "familiar I don't know much more than TR like I I honestly don't know much more of the discussion other than realizing",
    "start": "2274359",
    "end": "2280480"
  },
  {
    "text": "that a it was a thing that I could actually do B it was actually going to be simpler and easier to name my own",
    "start": "2280480",
    "end": "2286839"
  },
  {
    "text": "output files with a MJS extension than it would be to put a type module in the",
    "start": "2286839",
    "end": "2293520"
  },
  {
    "text": "package file and frankly I think I still think that MJS and CJs look stupid but",
    "start": "2293520",
    "end": "2300800"
  },
  {
    "text": "type module caused enough complications for me that I decided that okay fine",
    "start": "2300800",
    "end": "2306359"
  },
  {
    "text": "changing the file EXT ition of the output files that I build seems to be",
    "start": "2306359",
    "end": "2311520"
  },
  {
    "text": "less trouble overall than having typ module in the package yeah and like",
    "start": "2311520",
    "end": "2317480"
  },
  {
    "text": "where where does where does typescript fit into this too where you know is it",
    "start": "2317480",
    "end": "2323000"
  },
  {
    "text": "MTS and um which by the way sounds like like a Northeastern Metro uh system or",
    "start": "2323000",
    "end": "2328960"
  },
  {
    "text": "something like that MTS but but well that's the same kind of problem so",
    "start": "2328960",
    "end": "2334640"
  },
  {
    "text": "CTS sounds like a network television you know Channel typescript like tries to follow",
    "start": "2334640",
    "end": "2341160"
  },
  {
    "text": "like typescript now has several different rule sets for how it determines both where are your",
    "start": "2341160",
    "end": "2346599"
  },
  {
    "text": "JavaScript files and where are your type definition files in a project and so",
    "start": "2346599",
    "end": "2351839"
  },
  {
    "text": "that that's now controlled by a typescript config option called module resolution the original setting is node",
    "start": "2351839",
    "end": "2359200"
  },
  {
    "text": "or now renamed to node 10 which is kind of like the old school option there's a",
    "start": "2359200",
    "end": "2365720"
  },
  {
    "text": "new node 16 option which tries to match node's current behavior and there's also",
    "start": "2365720",
    "end": "2372160"
  },
  {
    "text": "a new bundler Option that's kind of like do kind of do whatever webpack and other",
    "start": "2372160",
    "end": "2377800"
  },
  {
    "text": "similar tools do and that also implies like one of the things that Andrew",
    "start": "2377800",
    "end": "2383400"
  },
  {
    "text": "Branch from the typescript team pointed out is that you can have mismatches",
    "start": "2383400",
    "end": "2389560"
  },
  {
    "text": "between your runtime code and your typescript types like because of how the module formats work if you only publish",
    "start": "2389560",
    "end": "2398119"
  },
  {
    "text": "one set of types and for example by default it has a D.S extension types",
    "start": "2398119",
    "end": "2404839"
  },
  {
    "text": "scripts going to say oh that's types that are sort of meant for a commonjs",
    "start": "2404839",
    "end": "2409960"
  },
  {
    "text": "file right but the runtime behavior in the exports of an esm file could be",
    "start": "2409960",
    "end": "2416839"
  },
  {
    "text": "different that having output the types representing commonjs might not be accurate for what",
    "start": "2416839",
    "end": "2424920"
  },
  {
    "text": "actually happens at runtime so the quote unquote correct answer here per Andrew",
    "start": "2424920",
    "end": "2431520"
  },
  {
    "text": "branch is that you really need to publish two copies of your typescript",
    "start": "2431520",
    "end": "2437040"
  },
  {
    "text": "types for your library one generated with typescript having commonjs settings",
    "start": "2437040",
    "end": "2443440"
  },
  {
    "text": "and one generated with typescript having es module settings and those two should",
    "start": "2443440",
    "end": "2449680"
  },
  {
    "text": "have a file extension that matches your JS files extension so if you're",
    "start": "2449680",
    "end": "2456240"
  },
  {
    "text": "publishing a MJ sjs file you you should also publish a d. MTS type definitions",
    "start": "2456240",
    "end": "2462880"
  },
  {
    "text": "file wow yeah know this sounds like living hell to me I don't know about you all listeners but yeah this does not",
    "start": "2462880",
    "end": "2468040"
  },
  {
    "text": "sound fun um and is there like a um a GitHub comment or a blog post or",
    "start": "2468040",
    "end": "2473839"
  },
  {
    "text": "something that we can cite to include in our show notes uh for that recommendation that Andrew had so",
    "start": "2473839",
    "end": "2478920"
  },
  {
    "text": "actually if you look at the bottom of my blog post I tried to link a few different things uh one of those items",
    "start": "2478920",
    "end": "2484319"
  },
  {
    "text": "um Andrew branch is working on a very large new set of documentation for the typescript docs that will talk about",
    "start": "2484319",
    "end": "2491560"
  },
  {
    "text": "here's how typescript understands modules and the state of the world and the current work in progress for that is",
    "start": "2491560",
    "end": "2498800"
  },
  {
    "text": "in a guest and it's it's pretty long like it's it's several thousand words at least well I guess my question is why",
    "start": "2498800",
    "end": "2504720"
  },
  {
    "text": "does it have to be any different than how JavaScript understands it right like in the sense that does there need to be",
    "start": "2504720",
    "end": "2510280"
  },
  {
    "text": "a distinction other than just how we handle types and like that should also just be very straightforward for the",
    "start": "2510280",
    "end": "2516000"
  },
  {
    "text": "most part like I'm just trying to understand like why they need to kind of um have a whole complex like second",
    "start": "2516000",
    "end": "2522319"
  },
  {
    "text": "system here I'm going to be I'm going to do a bad job of explaining it but the the oneline summary is that it's because",
    "start": "2522319",
    "end": "2528520"
  },
  {
    "text": "typescript is an over is a types only overlay on top of whatever happens at",
    "start": "2528520",
    "end": "2534960"
  },
  {
    "text": "runtime in fact here's even one of the goofier things that I still haven't fully wrapped my head around so one of",
    "start": "2534960",
    "end": "2541920"
  },
  {
    "text": "the other aspects of using esm especially under node is I Believe In",
    "start": "2541920",
    "end": "2550040"
  },
  {
    "text": "some cases you really need to actually specify JS as part of an import",
    "start": "2550040",
    "end": "2558720"
  },
  {
    "text": "statement so you know import curly braces whatever from",
    "start": "2558720",
    "end": "2564359"
  },
  {
    "text": "do/ some other file. JS close quotes and",
    "start": "2564359",
    "end": "2571160"
  },
  {
    "text": "I'm I'm still not even 100% sure when that's necessary but okay what happens",
    "start": "2571160",
    "end": "2576960"
  },
  {
    "text": "if I am authoring a file in typescript and all my typescript files have a TS",
    "start": "2576960",
    "end": "2585040"
  },
  {
    "text": "extension your import but like that's just at compile time at runtime all your",
    "start": "2585040",
    "end": "2591960"
  },
  {
    "text": "files have ajs extension so you have to write import. something.",
    "start": "2591960",
    "end": "2598960"
  },
  {
    "text": "JS in a TS file in some cases and I still don't even know when that's",
    "start": "2598960",
    "end": "2604920"
  },
  {
    "text": "necessary but that scares me well I mean well you could you could compile away that right like you could have like a u",
    "start": "2604920",
    "end": "2611280"
  },
  {
    "text": "pre-build step that like replaces that or whatever the hell else well that's that's the problem the the typescript",
    "start": "2611280",
    "end": "2616559"
  },
  {
    "text": "folks are trying to stand firm on like yeah we had a couple features way in the past that required runtime changes but",
    "start": "2616559",
    "end": "2623480"
  },
  {
    "text": "from here on out we only do types level stuff we don't rewrite your source code so there's there's multiple issues where",
    "start": "2623480",
    "end": "2630200"
  },
  {
    "text": "people have begged let us write TS in our Imports and then just like rewrite",
    "start": "2630200",
    "end": "2636319"
  },
  {
    "text": "that toj for us at output time and the typescript folks like nope nope that's runtime changes not going to do it yeah",
    "start": "2636319",
    "end": "2642640"
  },
  {
    "text": "I mean I guess it it it just makes like grapping your code that much like one more thing you have to think about when",
    "start": "2642640",
    "end": "2647920"
  },
  {
    "text": "you're just trying to GP for like all matches of a file name or whatever right um or a file path but yeah I mean I",
    "start": "2647920",
    "end": "2655359"
  },
  {
    "text": "don't know I mean we're we're living this this lovely like module hell so that is 2023 but but anyway so moving on",
    "start": "2655359",
    "end": "2662920"
  },
  {
    "text": "your blog post so we were where did we leave off yeah so my my first attempt at trying to modernize Redux toolkits",
    "start": "2662920",
    "end": "2669040"
  },
  {
    "text": "package didn't work and I concluded that I'm going to have to spend a whole bunch of time setting up example projects",
    "start": "2669040",
    "end": "2675079"
  },
  {
    "text": "using a half dozen build tools and environments and combinations so that I can verify that",
    "start": "2675079",
    "end": "2681640"
  },
  {
    "text": "any future attempts to update the package actually work right in each of those environments so I wrote a little",
    "start": "2681640",
    "end": "2688319"
  },
  {
    "text": "tiny Redux toolkit sample app and a playright test and then I built it with create react app 4 which uses webpack 4",
    "start": "2688319",
    "end": "2695640"
  },
  {
    "text": "Create react app 5 which uses webpack 5 which supports the export keyword vit",
    "start": "2695640",
    "end": "2701160"
  },
  {
    "text": "and next and then a couple different like node and CJs mode and node in esm mode folders and that at least helped",
    "start": "2701160",
    "end": "2709760"
  },
  {
    "text": "the other really big thing I found was that same Andrew Branch guy has written a tool called are the types wrong and",
    "start": "2709760",
    "end": "2717640"
  },
  {
    "text": "you give it a package name and it will download the package and say Here's how",
    "start": "2717640",
    "end": "2722680"
  },
  {
    "text": "typescript is going to interpret the way you've defined everything and it actually points out a number of common",
    "start": "2722680",
    "end": "2728640"
  },
  {
    "text": "mistakes like do you have a mismatch between your JS files and your TS types or whoops something you listed just like",
    "start": "2728640",
    "end": "2735680"
  },
  {
    "text": "we can't even find that at all and so using that as both a local command line",
    "start": "2735680",
    "end": "2740880"
  },
  {
    "text": "tool for checking things and a CI tool for verifying that you know this PR",
    "start": "2740880",
    "end": "2746720"
  },
  {
    "text": "doesn't break anything has been incredibly valuable and in fact I was using that even trying to work on stuff",
    "start": "2746720",
    "end": "2753079"
  },
  {
    "text": "last night wow I think that's you've kind of made yourself like a your your own",
    "start": "2753079",
    "end": "2758520"
  },
  {
    "text": "little um prepackage P like dressing room you know kind of uh space where",
    "start": "2758520",
    "end": "2763559"
  },
  {
    "text": "you're just like all right now let me let me fake publish right with yal or",
    "start": "2763559",
    "end": "2769040"
  },
  {
    "text": "something and exactly that yeah yeah and then I'm going to make sure that everything still works as expected and I",
    "start": "2769040",
    "end": "2775599"
  },
  {
    "text": "think for me like I'm really appreciate and I hope the community does as well of course you're the diligence that you're",
    "start": "2775599",
    "end": "2780760"
  },
  {
    "text": "going through to make sure that there's no edge cases for people depending on what kind of combo they have like run",
    "start": "2780760",
    "end": "2786880"
  },
  {
    "text": "runtime bundler Etc but really like this is a moving Target like let's be real",
    "start": "2786880",
    "end": "2792240"
  },
  {
    "text": "right very much so yeah and so there's no it's not it's not a Magic Bullet um and so it's just like you're like one",
    "start": "2792240",
    "end": "2799559"
  },
  {
    "text": "publish away in any given thing any any given thing changes and like you're back",
    "start": "2799559",
    "end": "2804839"
  },
  {
    "text": "to square one potentially and so and and there's even there's even another example of that that popped up literally",
    "start": "2804839",
    "end": "2810599"
  },
  {
    "text": "like last night or this morning so the react team has been working on react server components for the last couple",
    "start": "2810599",
    "end": "2817359"
  },
  {
    "text": "years and I think it's I think it's a genuinely interesting and you know very useful",
    "start": "2817359",
    "end": "2823680"
  },
  {
    "text": "technology but there's been issues both around kind of like the the marketing",
    "start": "2823680",
    "end": "2828720"
  },
  {
    "text": "roll out as well as the way that you know like the react team in versel have",
    "start": "2828720",
    "end": "2833800"
  },
  {
    "text": "been implementing the first real usable version of it and there's documentation",
    "start": "2833800",
    "end": "2839000"
  },
  {
    "text": "about how to use it inside of next as an application developer but there's no",
    "start": "2839000",
    "end": "2844599"
  },
  {
    "text": "real documentation about how Library are supposed to interact with a react server",
    "start": "2844599",
    "end": "2850040"
  },
  {
    "text": "component environment and so this has popped up in a few different ways so next 13.4 came out back in May and they",
    "start": "2850040",
    "end": "2856760"
  },
  {
    "text": "flipped their defaults so that if you just keep hitting enter when you create a new project from the command line it",
    "start": "2856760",
    "end": "2863440"
  },
  {
    "text": "defaults to a server components setup and the documentation says you're like",
    "start": "2863440",
    "end": "2869280"
  },
  {
    "text": "shows using server components by default and so people are following the defaults",
    "start": "2869280",
    "end": "2874480"
  },
  {
    "text": "and trying to use server components without really thinking about about the pros and cons and a lot of people still",
    "start": "2874480",
    "end": "2879520"
  },
  {
    "text": "want to use Redux and so they're trying to add Redux and thinking they can just you know throw the react Redux provider",
    "start": "2879520",
    "end": "2886160"
  },
  {
    "text": "in one of their server components but it turns out server components have a lot of technical restrictions you can't",
    "start": "2886160",
    "end": "2892000"
  },
  {
    "text": "render you can't call create context from within a server component import uh",
    "start": "2892000",
    "end": "2897720"
  },
  {
    "text": "you can't call or use any of the react hooks in a server component and so",
    "start": "2897720",
    "end": "2903520"
  },
  {
    "text": "people were trying to do what they thought was the obvious thing of I know how to set up Redux I'm just",
    "start": "2903520",
    "end": "2909440"
  },
  {
    "text": "going to add it to this parent component and it would break and then they would file issues against either the react",
    "start": "2909440",
    "end": "2916079"
  },
  {
    "text": "Redux or Redux toolkit repos and say why doesn't this work right and then we had to spend hours you know looking into it",
    "start": "2916079",
    "end": "2922480"
  },
  {
    "text": "before we asked oh are you using next and server components and they would say",
    "start": "2922480",
    "end": "2928800"
  },
  {
    "text": "yes and then we figure oh oh those those don't actually work together at least not the way you think they do like you",
    "start": "2928800",
    "end": "2935720"
  },
  {
    "text": "can you can rent it inside what's now called a client component but you have",
    "start": "2935720",
    "end": "2941160"
  },
  {
    "text": "to have that separation from the server component part of the page that doesn't",
    "start": "2941160",
    "end": "2946799"
  },
  {
    "text": "even feel like a mark problem though that this feels like you know maybe the",
    "start": "2946799",
    "end": "2951839"
  },
  {
    "text": "roll out of this feature on the react side could have come with some more training wheels and guidelines and all",
    "start": "2951839",
    "end": "2958319"
  },
  {
    "text": "the all the above you know yeah and and that's actually the exact point I've I've both stated in the blog post and",
    "start": "2958319",
    "end": "2965079"
  },
  {
    "text": "tried to pass on as hopefully help ful feedback to the react team but it it's it's been an effect on us as the Redux",
    "start": "2965079",
    "end": "2973119"
  },
  {
    "text": "maintainers no pun intended yeah and and lens as and the other MERS of Apollo and",
    "start": "2973119",
    "end": "2978920"
  },
  {
    "text": "folks on react query and so on and so there in particular there was one discussion thread where one of the next",
    "start": "2978920",
    "end": "2987280"
  },
  {
    "text": "Canary builds you know one they're just just daily type of builds briefly broke",
    "start": "2987280",
    "end": "2993880"
  },
  {
    "text": "Apollo client because it was starting to check for are you importing any client",
    "start": "2993880",
    "end": "2999599"
  },
  {
    "text": "side code at all and if so let's throw an error and they undid that change but",
    "start": "2999599",
    "end": "3006559"
  },
  {
    "text": "that whole discussion thread led to a pretty long debate between me and lens Redux maintainers and Apollo for lens",
    "start": "3006559",
    "end": "3013720"
  },
  {
    "text": "and Sebastian Mark Baga and a couple of the versel folks and there was a whole back and forth where you know Seb was",
    "start": "3013720",
    "end": "3020400"
  },
  {
    "text": "saying you know like you can add another exports condition to your package and",
    "start": "3020400",
    "end": "3026200"
  },
  {
    "text": "create a whole another build artifact just for use in react server components",
    "start": "3026200",
    "end": "3031240"
  },
  {
    "text": "that makes sure it doesn't use any client code whatsoever so it's safe and lens and I were pointing out that wait",
    "start": "3031240",
    "end": "3037799"
  },
  {
    "text": "like that's a whole lot more work for us it's yet another build artifact we have to figure out how to generate um in the",
    "start": "3037799",
    "end": "3043960"
  },
  {
    "text": "case of like Apollo they're not even using package exports they can't do that until the next major versions and it",
    "start": "3043960",
    "end": "3051440"
  },
  {
    "text": "felt very very frustrating to be told you have to do more work to satisfy this",
    "start": "3051440",
    "end": "3056680"
  },
  {
    "text": "this one extra runtime environment on top of all the work I'd already you know put in over the last several months so",
    "start": "3056680",
    "end": "3063599"
  },
  {
    "text": "there was even yet another development in that just like last night Sebastian had suggested the like okay you can sort",
    "start": "3063599",
    "end": "3071440"
  },
  {
    "text": "of fool our static analyzer If instead of doing named Imports of hooks like you",
    "start": "3071440",
    "end": "3079079"
  },
  {
    "text": "state you do a import Star as react and then like our static analyzer won't even",
    "start": "3079079",
    "end": "3085599"
  },
  {
    "text": "notice that and so you can sort like we we sort of kind of nudge nudge wink wink suggest",
    "start": "3085599",
    "end": "3091680"
  },
  {
    "text": "that you do that for now and someone apparently reported to Apollo last night",
    "start": "3091680",
    "end": "3097160"
  },
  {
    "text": "that you know Apollo has been using this for a little while now and that apparently broke in the latest version",
    "start": "3097160",
    "end": "3102319"
  },
  {
    "text": "of next and I don't know if it's a bug on their side or what but it's just like like emphasis on the moving Target and",
    "start": "3102319",
    "end": "3109480"
  },
  {
    "text": "so many things we have to worry about yeah I mean I to me it's just obvious at this point like right and this is maybe",
    "start": "3109480",
    "end": "3115880"
  },
  {
    "text": "I know we have a couple more things to get through on the blog post but like there's a big need here for some",
    "start": "3115880",
    "end": "3120920"
  },
  {
    "text": "standards and for everyone to kind of be working and Publishing against like the",
    "start": "3120920",
    "end": "3126240"
  },
  {
    "text": "same specs right that way as long as everyone's following the specs and everyone's following the rules then",
    "start": "3126240",
    "end": "3133200"
  },
  {
    "text": "there's confidence in that handshakes should just work cuz I mean really this should just work right like we're kind",
    "start": "3133200",
    "end": "3138799"
  },
  {
    "text": "of we're really um I expect a lot of this turn to leak out into the community like it already is but it it you know in",
    "start": "3138799",
    "end": "3145599"
  },
  {
    "text": "the unless we fix it it's it's only going to get worse you know and like I've I've been begging for years for",
    "start": "3145599",
    "end": "3153079"
  },
  {
    "text": "someone who actually knows what they're doing AKA not me to publish like the",
    "start": "3153079",
    "end": "3160280"
  },
  {
    "text": "authoritative comprehensive guide on the right way to publish a package and all",
    "start": "3160280",
    "end": "3166960"
  },
  {
    "text": "this all the output options and all the build tool configuration settings and all the file formats like tell me",
    "start": "3166960",
    "end": "3174480"
  },
  {
    "text": "exactly what buttons to hit so that I can follow it or even better like give",
    "start": "3174480",
    "end": "3179559"
  },
  {
    "text": "me tools that will do that well I can tell you that right now like that's not",
    "start": "3179559",
    "end": "3184599"
  },
  {
    "text": "going to I mean I can't say that with like 100% confidence but I say this with a high degree of confidence like that's",
    "start": "3184599",
    "end": "3189799"
  },
  {
    "text": "not going to come like out of npm anytime soon just given where it's just like they have a skeleton team running",
    "start": "3189799",
    "end": "3196520"
  },
  {
    "text": "the registry right now um what I'm confused is like if Microsoft wasn't interested in actually investing in this",
    "start": "3196520",
    "end": "3203720"
  },
  {
    "text": "ecosystem like why like why did they purchase these companies yeah yeah and a number of other big tech companies were",
    "start": "3203720",
    "end": "3209280"
  },
  {
    "text": "also interested in purchasing at the time and so like you know really it should have just been in hands that were",
    "start": "3209280",
    "end": "3216040"
  },
  {
    "text": "where the registy and the this the project this important part of the ecosystem would actually get the TLC and",
    "start": "3216040",
    "end": "3222240"
  },
  {
    "text": "the love that it deserves you that was like the only Silver Lining with for for me when that acquisition happened was",
    "start": "3222240",
    "end": "3227599"
  },
  {
    "text": "like okay well at least there's a big company here to take care of this now and you know problems have only been",
    "start": "3227599",
    "end": "3232640"
  },
  {
    "text": "really getting worse and so it's not going to come out of npm so the question is like I think this has to be Community",
    "start": "3232640",
    "end": "3238559"
  },
  {
    "text": "Driven you know as always so I mean to to name to name a spe a specific name",
    "start": "3238559",
    "end": "3244799"
  },
  {
    "text": "Jason Miller who works at Google has done a lot of fantastic work over the last few years trying to encourage folks",
    "start": "3244799",
    "end": "3251720"
  },
  {
    "text": "to ship modern JavaScript and he's written some good articles that are helpful starting points I have felt like",
    "start": "3251720",
    "end": "3260160"
  },
  {
    "text": "he would be the right person to write that kind of a definitive module publishing guide but he's obviously very",
    "start": "3260160",
    "end": "3266160"
  },
  {
    "text": "busy with you whatever stuff it is he's actually working on well yeah um he's now um at Shopify has been",
    "start": "3266160",
    "end": "3273079"
  },
  {
    "text": "for a year or two I think but yes shows you shows you how much attention I've been paying I'm sorry that's okay that's",
    "start": "3273079",
    "end": "3278960"
  },
  {
    "text": "fine it's all it and just in case anyone was curious Jason Miller's um creative preact as well an awesome person who's",
    "start": "3278960",
    "end": "3285599"
  },
  {
    "text": "been on the show a couple times at least so yeah so I think getting back into cuz I mean man I mean we could see I told",
    "start": "3285599",
    "end": "3292040"
  },
  {
    "text": "you we're not even we've been talking for like almost an hour and we're not even we're not even through all the things but I'll let you pick up wherever",
    "start": "3292040",
    "end": "3298760"
  },
  {
    "text": "you want to pick up Mark I me that so that that's the major summary I mean if you look at my blog post it amounts to I",
    "start": "3298760",
    "end": "3304799"
  },
  {
    "text": "I took a first stab at things they didn't work out I spent a couple months trying to build example CI setups to",
    "start": "3304799",
    "end": "3312040"
  },
  {
    "text": "double check myself and tell me when things were breaking I made a second round of attempts that mostly worked",
    "start": "3312040",
    "end": "3318960"
  },
  {
    "text": "except for are the types wrong telling me you've still got that like JS versus",
    "start": "3318960",
    "end": "3324160"
  },
  {
    "text": "TS file extension Miss match in some cases and so right now we've got Redux",
    "start": "3324160",
    "end": "3330839"
  },
  {
    "text": "toolkit 2.0 beta and Redux core 5.0 beta published we've got Alphas for reselect",
    "start": "3330839",
    "end": "3340000"
  },
  {
    "text": "and Redux thk and actually today's Thursday Tuesday night I finally managed",
    "start": "3340000",
    "end": "3346079"
  },
  {
    "text": "to push through the AL the first Alpha for react Redux Version 9 that has the",
    "start": "3346079",
    "end": "3351480"
  },
  {
    "text": "same packaging changes and like I determined months ago that we're going",
    "start": "3351480",
    "end": "3356799"
  },
  {
    "text": "to have to ship major versions of all of our libraries simultaneously which oh",
    "start": "3356799",
    "end": "3362720"
  },
  {
    "text": "boy self-imposed responsibilities yeah but we've at least got Alphas or betas",
    "start": "3362720",
    "end": "3368440"
  },
  {
    "text": "of all five packages with the same general packaging contents applied to",
    "start": "3368440",
    "end": "3374039"
  },
  {
    "text": "each of them last night I was working on trying to resolve the last outstanding",
    "start": "3374039",
    "end": "3380799"
  },
  {
    "text": "are the types wrong warnings by actually attempting to generate those duplic",
    "start": "3380799",
    "end": "3387160"
  },
  {
    "text": "typescript type definition files and are the types wrong thought it looked good",
    "start": "3387160",
    "end": "3392319"
  },
  {
    "text": "locally and then I pushed the pr and literally everything broke oh so what",
    "start": "3392319",
    "end": "3398960"
  },
  {
    "text": "was the what what was the Gap there and are you going to submit a patch in the tool to try to oh no like I I well I I",
    "start": "3398960",
    "end": "3405680"
  },
  {
    "text": "actually I literally just need to look at it again and figure out what's going on like all of our like we one of our CI",
    "start": "3405680",
    "end": "3411400"
  },
  {
    "text": "checks is that we double check our types against like eight versions of typescript sim multaneously just to see",
    "start": "3411400",
    "end": "3417559"
  },
  {
    "text": "if we broke anything and all those failed and I I glanced at the output",
    "start": "3417559",
    "end": "3423640"
  },
  {
    "text": "very briefly and I don't remember what the actual problem was I'm I'm not sure if it was having trouble finding the",
    "start": "3423640",
    "end": "3429440"
  },
  {
    "text": "types or if something in the modified type definition files that I was bundling was wrong because that that was",
    "start": "3429440",
    "end": "3436839"
  },
  {
    "text": "actually a change like Redux toolkit had shipped with just running TSC and",
    "start": "3436839",
    "end": "3442520"
  },
  {
    "text": "generating one. D.S file per typescript source file and what I changed last",
    "start": "3442520",
    "end": "3449839"
  },
  {
    "text": "night was actually using this TS up tool to prebundle the typescript types so",
    "start": "3449839",
    "end": "3456520"
  },
  {
    "text": "that it would be easier to ship the duplicate copies and something about that broke and I'm not sure if it is",
    "start": "3456520",
    "end": "3463440"
  },
  {
    "text": "something about the bundling of the types step done by the tool or whether",
    "start": "3463440",
    "end": "3468680"
  },
  {
    "text": "it's something about the way that I'm pointing to the files but I I literally like I that was my cue to call it quits",
    "start": "3468680",
    "end": "3474720"
  },
  {
    "text": "for the night so I will go back and investigate further and you know hopefully I'll actually figure out",
    "start": "3474720",
    "end": "3480000"
  },
  {
    "text": "what's going on and then be able to apply that to the other libraries too and write another blog post right well",
    "start": "3480000",
    "end": "3486640"
  },
  {
    "text": "update this one update this one okay got it to look at the version history now",
    "start": "3486640",
    "end": "3492520"
  },
  {
    "text": "you're going to have to start publishing a version a version history for this post but um yeah I mean so I for those",
    "start": "3492520",
    "end": "3498559"
  },
  {
    "text": "listening like if this sounds dense and complicated and confusing it because it is and I would highly recommend for all",
    "start": "3498559",
    "end": "3505400"
  },
  {
    "text": "of you to read Mark's post I'm going to finish reading it and I learned a lot",
    "start": "3505400",
    "end": "3510960"
  },
  {
    "text": "and also just I think you did a really good job of like putting really good references out to different resources in",
    "start": "3510960",
    "end": "3517920"
  },
  {
    "text": "there as well including one that I really enjoyed um which was the the history it's a a gist on modules history",
    "start": "3517920",
    "end": "3526400"
  },
  {
    "text": "and future so it's like a full timeline of like all the things with links for like when we started working on esm and",
    "start": "3526400",
    "end": "3533920"
  },
  {
    "text": "just how that evolution kind of has gone from early you know from like 2008 2009",
    "start": "3533920",
    "end": "3541079"
  },
  {
    "text": "all the way to the kind of present day and so just lots of great resources highly recommend checking it out and so",
    "start": "3541079",
    "end": "3547000"
  },
  {
    "text": "Mark like what are some parting thoughts you know obviously you had some like lessons learned that you shared do you",
    "start": "3547000",
    "end": "3553400"
  },
  {
    "text": "want to maybe kind of share that on air a little bit Yeah so so you know I said",
    "start": "3553400",
    "end": "3558599"
  },
  {
    "text": "we've got the the betas and the alphas out right now the current package definitions for each of those I think is",
    "start": "3558599",
    "end": "3566119"
  },
  {
    "text": "close to being correct for us it's certainly possible that other libraries",
    "start": "3566119",
    "end": "3571760"
  },
  {
    "text": "with you know different needs for how they need to package and and ship things would need somewhat different setups but",
    "start": "3571760",
    "end": "3578720"
  },
  {
    "text": "I think I've seen to have found a combination that is reasonably correct for us minus the the type mismatch issue",
    "start": "3578720",
    "end": "3587559"
  },
  {
    "text": "it is really hard to keep up with the nuances of all the different tools and I wish there were a resource that listed",
    "start": "3587559",
    "end": "3594520"
  },
  {
    "text": "how each bundler and each run runtime environment handle things in some kind of a way there's a couple resources I",
    "start": "3594520",
    "end": "3600280"
  },
  {
    "text": "found but not quite the thing that I have in mind similarly I have found a couple guides to how to try to publish a",
    "start": "3600280",
    "end": "3607280"
  },
  {
    "text": "package and they are useful again I think I have a picture in my head for what I sort of imagine the ideal",
    "start": "3607280",
    "end": "3613640"
  },
  {
    "text": "resource to look like and no one has written that yet and no I'm not going to because I don't have time having better",
    "start": "3613640",
    "end": "3620200"
  },
  {
    "text": "tooling would drastically help what about standards no no no mention of Standards like standards would be",
    "start": "3620200",
    "end": "3626359"
  },
  {
    "text": "helpful too like having having standards having guides having tools that you know correctly output you know the right",
    "start": "3626359",
    "end": "3633520"
  },
  {
    "text": "combinations would be extremely helpful as would having something like some kind",
    "start": "3633520",
    "end": "3638880"
  },
  {
    "text": "of a you know a sass where you can say like here's my library here's an here's",
    "start": "3638880",
    "end": "3644760"
  },
  {
    "text": "the code for an example app that uses my library please just automatically generate projects for like 10 different",
    "start": "3644760",
    "end": "3652160"
  },
  {
    "text": "Frameworks and build tools and build them all and tell me which ones succeed",
    "start": "3652160",
    "end": "3657280"
  },
  {
    "text": "and break cuz well that's that's basically what I had to build for myself roughly and then you know server",
    "start": "3657280",
    "end": "3663520"
  },
  {
    "text": "components are a great idea I think they are going to be a very valuable part of the react ecosystem but the the",
    "start": "3663520",
    "end": "3669200"
  },
  {
    "text": "technical roll out has been Rocky and confusing and then yeah like we're we're",
    "start": "3669200",
    "end": "3674799"
  },
  {
    "text": "going to be stuck with somewhere in between CJs and esm for a number of",
    "start": "3674799",
    "end": "3680119"
  },
  {
    "text": "years I I even saw a pair of blog post just recently where the doo folks were",
    "start": "3680119",
    "end": "3685319"
  },
  {
    "text": "arguing that CJs is dead and holding us back and the bun maintainer said",
    "start": "3685319",
    "end": "3690640"
  },
  {
    "text": "actually CJs is number one still widely used two still useful three even loads",
    "start": "3690640",
    "end": "3696359"
  },
  {
    "text": "faster in a lot of cases yeah it's also like let's not just I mean we have to",
    "start": "3696359",
    "end": "3701640"
  },
  {
    "text": "understand the sheer scale of the internet and the sheer scale of node and",
    "start": "3701640",
    "end": "3707160"
  },
  {
    "text": "how many things are written in node that will never ever get updated even you know like this is just like the internet",
    "start": "3707160",
    "end": "3713839"
  },
  {
    "text": "right like um when you're developing web standards the goal is like don't break the web like you when you that's like the number",
    "start": "3713839",
    "end": "3719720"
  },
  {
    "text": "one principle for for new proposals so yeah I I think this decision is here to",
    "start": "3719720",
    "end": "3724760"
  },
  {
    "text": "stay forever so I don't think this is ever going to be like I think hopefully there'll there'll be less and less people writing CJs is my guess over time",
    "start": "3724760",
    "end": "3732960"
  },
  {
    "text": "but ultimately like it's never going to ever go away right like if you're a um maintainer or um you want to write a new",
    "start": "3732960",
    "end": "3739880"
  },
  {
    "text": "bundler or whatever it is you know like you're going to have to unless you're you know you're only targeting",
    "start": "3739880",
    "end": "3745160"
  },
  {
    "text": "Greenfield new projects or projects that are strictly never going to use uh CJs or CJs dependencies like which is like",
    "start": "3745160",
    "end": "3752279"
  },
  {
    "text": "who like I mean come on let's be real right like even your dependencies might",
    "start": "3752279",
    "end": "3757799"
  },
  {
    "text": "um kind of hold you back there to some degree so Hall and Fortran are still being used exactly yeah great examples",
    "start": "3757799",
    "end": "3765319"
  },
  {
    "text": "so um so yeah I mean you know this was a really great discussion and some of the pain points of Shifting Tides really",
    "start": "3765319",
    "end": "3771599"
  },
  {
    "text": "this is what this is this is like a it's a shift it's a big wide horizontal shift shift right because this isn't something",
    "start": "3771599",
    "end": "3777400"
  },
  {
    "text": "that's a vertical uh it affects everything kind of uniformly it's a baseline shift and so thank you so much",
    "start": "3777400",
    "end": "3783599"
  },
  {
    "text": "for being such a great resource in in a lighthouse um for our community Mark we really appreciate you and thank you for",
    "start": "3783599",
    "end": "3790680"
  },
  {
    "text": "all the great resources in links there'll be lots of links in our show notes lots of links in Mark Mark's blog",
    "start": "3790680",
    "end": "3797200"
  },
  {
    "text": "post so check check them out and so folks want to kind of follow you and catch up with you mark where where can",
    "start": "3797200",
    "end": "3802680"
  },
  {
    "text": "they find you on the interwebs ace Marky on Twitter uh blog. iqu software.com Ace",
    "start": "3802680",
    "end": "3808599"
  },
  {
    "text": "murky on Reddit Mark Ericson on GitHub awesome well thank you and so with that",
    "start": "3808599",
    "end": "3814599"
  },
  {
    "text": "said have an amazing rest of uh I was going to I'm like have an amazing rest",
    "start": "3814599",
    "end": "3819760"
  },
  {
    "text": "of your week I'm like wait hold on people listen to this like Sunday night Friday morning Thursday Monday Tuesday",
    "start": "3819760",
    "end": "3826680"
  },
  {
    "text": "there is like there is no what whatever week you're in yes have a have a great rest of your day whoever is listening",
    "start": "3826680",
    "end": "3834359"
  },
  {
    "text": "all right everybody chiao Chow",
    "start": "3834359",
    "end": "3837720"
  },
  {
    "text": "this episode features a bonus 5 minutes for our change log Plus+ people ail has",
    "start": "3846440",
    "end": "3852440"
  },
  {
    "text": "been on fire with the bonuses lately if our membership program is news to you learn all about it at changel log.com SL",
    "start": "3852440",
    "end": "3860680"
  },
  {
    "text": "Plus+ there's a link in your show notes and chapter data just paste it in there",
    "start": "3860680",
    "end": "3866039"
  },
  {
    "text": "what could go wrong thanks once again to our partners f.com fly.io and typ sense.org and to",
    "start": "3866039",
    "end": "3874400"
  },
  {
    "text": "our beat freaking residence break master cylinder next up on the Pod Nick AML",
    "start": "3874400",
    "end": "3881720"
  },
  {
    "text": "Chris and yours truly discuss the news including Astro 3.0 and play a game of",
    "start": "3881720",
    "end": "3887720"
  },
  {
    "text": "headlin is it a headline is it a head Li you decide stay tuned right here we'll drop",
    "start": "3887720",
    "end": "3894640"
  },
  {
    "text": "that episode in your podcast app next [Music]",
    "start": "3894640",
    "end": "3908039"
  },
  {
    "text": "week",
    "start": "3908039",
    "end": "3911039"
  }
]