[
  {
    "text": "hey how's it going I'm your host Gard Lazo and you're listening to shipit a podcast about getting your best ideas",
    "start": "480",
    "end": "8040"
  },
  {
    "text": "into the world and seeing what happens we talk about code Ops infrastructure",
    "start": "8040",
    "end": "13400"
  },
  {
    "text": "and the people that make it happen yes we focus on the people because everything else is an implementation",
    "start": "13400",
    "end": "20359"
  },
  {
    "text": "detail I last poked to Tom in Chang lock episode 375 when I went to my first",
    "start": "20359",
    "end": "25519"
  },
  {
    "text": "cubec con so many things changed since then the one thing that didn't change is me using graan on a daily basis but what",
    "start": "25519",
    "end": "32640"
  },
  {
    "text": "is this new thing called Loki and what about Tempo while the 2021 Chang",
    "start": "32640",
    "end": "37719"
  },
  {
    "text": "look.com setup uses grafana agent with Prometheus and Loki via grafana Cloud we don't use Tempo yet by the way are you",
    "start": "37719",
    "end": "45600"
  },
  {
    "text": "curious to know how grafana Cloud can offer such a generous free tier Tom has a really good answer the solution is",
    "start": "45600",
    "end": "52120"
  },
  {
    "text": "built into the cortex architecture and yes cortex is the reason why we have a VP of product on ship it in the first",
    "start": "52120",
    "end": "58719"
  },
  {
    "text": "place anyways would you like to watch me and Tom pair and build grafana dashboards like pros Tom has this really",
    "start": "58719",
    "end": "65119"
  },
  {
    "text": "interesting approach that I would like to learn too we can either live pair or record and then publish the video let me",
    "start": "65119",
    "end": "71840"
  },
  {
    "text": "know your preference via our Chang lock slack or just plain Twitter otherwise I'll just pick one at random I recommend",
    "start": "71840",
    "end": "78880"
  },
  {
    "text": "that you listen to this episode in combination with episodes 3 and 11 that's the best way to get a more",
    "start": "78880",
    "end": "84840"
  },
  {
    "text": "complete picture of the topics that we discussed today big thanks to our partners fastly launch darkley and lenow",
    "start": "84840",
    "end": "91520"
  },
  {
    "text": "our bandwidth is provided by fastly learn more at fastly.com feature Flags powered by launch dark.com and we love",
    "start": "91520",
    "end": "99520"
  },
  {
    "text": "lenoe they keep it fast and simple check them out at lin.com",
    "start": "99520",
    "end": "105479"
  },
  {
    "text": "changelog what's up shippers this episode is brought to you by our friends at fly fly lets you deploy your apps and",
    "start": "110200",
    "end": "117200"
  },
  {
    "text": "databases close your users in minutes you can run your Ruby go node Dino",
    "start": "117200",
    "end": "123640"
  },
  {
    "text": "python or Elixir app and databases all over the world no Ops required fly's",
    "start": "123640",
    "end": "129200"
  },
  {
    "text": "vision is that all apps should run close to their users they have generous free tiers for most services so you can",
    "start": "129200",
    "end": "134480"
  },
  {
    "text": "easily prove to yourself in your team but the fly platform has everything you need to run your app globally learn more",
    "start": "134480",
    "end": "140560"
  },
  {
    "text": "at fly.io changelog and check out the speedrun in their excellent docs again",
    "start": "140560",
    "end": "145640"
  },
  {
    "text": "fly.io changelog or check the shows for links",
    "start": "145640",
    "end": "151840"
  },
  {
    "text": "we are go to ship in 3 2 [Music]",
    "start": "152000",
    "end": "158639"
  },
  {
    "text": "[Music]",
    "start": "162700",
    "end": "168760"
  },
  {
    "text": "1 last time that we spoke Tom was at cubec con 2019 North America that was",
    "start": "168760",
    "end": "174080"
  },
  {
    "text": "actually my first cubec Con in San Diego and it was an amazing one I loved it",
    "start": "174080",
    "end": "179120"
  },
  {
    "text": "this is actually cheap change log episode 375 and again was one of my favorites",
    "start": "179120",
    "end": "184799"
  },
  {
    "text": "that was almost 2 years ago I know that a lot of things have changed uh first of",
    "start": "184799",
    "end": "190000"
  },
  {
    "text": "all grafana was at version six back then now it's at version eight which is a massive Improvement for version 7 which",
    "start": "190000",
    "end": "196840"
  },
  {
    "text": "was a massive improvement from version six what other things changed in the",
    "start": "196840",
    "end": "202000"
  },
  {
    "text": "last two years almost two years since we spoke oh wow yeah I mean two years how do we how do we cover two years in in",
    "start": "202000",
    "end": "208239"
  },
  {
    "text": "five minutes um I think working backwards we've launched Tempo the",
    "start": "208239",
    "end": "213319"
  },
  {
    "text": "tracing system from graphin Labs which is uh which is kind of cool you know slightly different take on on distributed tracing focusing on very",
    "start": "213319",
    "end": "220840"
  },
  {
    "text": "efficient storage of the traces itself right and very very scalable we've done Loki 2.0 our log aggregation systems you",
    "start": "220840",
    "end": "228680"
  },
  {
    "text": "know over two years old now and and with Loki 2.0 came a much more sophisticated query language that's really cool",
    "start": "228680",
    "end": "234200"
  },
  {
    "text": "because now you can start to use Loki and anger and really kind of extract metrics and really dig into your Logs",
    "start": "234200",
    "end": "241120"
  },
  {
    "text": "with it that was a really exciting design process for that log for the language as well because we always",
    "start": "241120",
    "end": "246360"
  },
  {
    "text": "wanted it to be really heavily inspired by Prometheus but it's logs in the end it's it's different to time series so we",
    "start": "246360",
    "end": "252159"
  },
  {
    "text": "actually collaborated with Frederick from the Prometheus team and and he really influenced the design one of the",
    "start": "252159",
    "end": "257199"
  },
  {
    "text": "I remember one of the calls right we came up with one of the things that I think makes makes logq really cool which",
    "start": "257199",
    "end": "263400"
  },
  {
    "text": "is you got the pipeline operator for filtering logs so you use pipelines to filter your logs and we we kind of stuck",
    "start": "263400",
    "end": "269919"
  },
  {
    "text": "with that for everything in the log space and then the minute you start working with metrics you start using",
    "start": "269919",
    "end": "275160"
  },
  {
    "text": "brackets and and it looks like promql like the Prometheus query language and it just means you look at a query and",
    "start": "275160",
    "end": "280320"
  },
  {
    "text": "it's really obvious that that part of the query deals with logs and and that part of the query deals with metrics",
    "start": "280320",
    "end": "285520"
  },
  {
    "text": "working backwards more exemplars in Prometheus and and in grafana so you can link from metrics to tracers you know",
    "start": "285520",
    "end": "291199"
  },
  {
    "text": "you put little dots on the graphs and and the dots indicate a trace and you can click on it and that whole kind of experience works and it you bring up",
    "start": "291199",
    "end": "297360"
  },
  {
    "text": "cubec con 2019 right I I think that was the the year Frederick and I gave a keynote address on like the future of",
    "start": "297360",
    "end": "304479"
  },
  {
    "text": "observability and uh in that keynote we kind of you know we predicted that",
    "start": "304479",
    "end": "309960"
  },
  {
    "text": "linking metrics and logs and traces and and and correlating and building experiences that combine them would be",
    "start": "309960",
    "end": "315479"
  },
  {
    "text": "the future now of course like a bit tongue and cheap because I have the great opportunity and and I'm very lucky",
    "start": "315479",
    "end": "320919"
  },
  {
    "text": "to be able to influence what we do at graan Labs so you know we've kind of spent the last two years making that",
    "start": "320919",
    "end": "325960"
  },
  {
    "text": "keynote happen and and making it possible to combine those metrics and logs and traces in a single development",
    "start": "325960",
    "end": "332440"
  },
  {
    "text": "experience in a single on call kind of instant response I could go on like there's so many things that have changed",
    "start": "332440",
    "end": "338120"
  },
  {
    "text": "right we've uh grown hugely at grafana Labs we're we're now uh over 400 people",
    "start": "338120",
    "end": "343960"
  },
  {
    "text": "which is just like I I joined uh when we were about 25 26 people uh three and a half years ago so we launched uh gem",
    "start": "343960",
    "end": "351400"
  },
  {
    "text": "grafana Enterprise Metrics which is our kind of uh self-managed Enterprise version of uh cortex the scalable",
    "start": "351400",
    "end": "358280"
  },
  {
    "text": "version of Prometheus the the other cncf project yeah there's so many like and I'm really still only talking about kind",
    "start": "358280",
    "end": "363400"
  },
  {
    "text": "of the second half of last year and I guess you know when you ask that question everyone always responds with the pandemic as well I kind of glossed",
    "start": "363400",
    "end": "370000"
  },
  {
    "text": "over that but we had a global pandemic I think what's really interesting obviously is huge impact but with Labs",
    "start": "370000",
    "end": "375919"
  },
  {
    "text": "was set up from day Zero to be remote first and so I think we've been super",
    "start": "375919",
    "end": "381000"
  },
  {
    "text": "lucky that the impact has been has been less than it has been on other organizations yeah like I could go into",
    "start": "381000",
    "end": "387680"
  },
  {
    "text": "any more of those but I'll stop there yeah I think I remember that the future of observability keynote that you gave",
    "start": "387680",
    "end": "394000"
  },
  {
    "text": "that was a really good one inspirational one and I could see it I could see it just as like the the the vision that you",
    "start": "394000",
    "end": "401160"
  },
  {
    "text": "shared and I remember thinking wow if they pull it off this is going to be",
    "start": "401160",
    "end": "406199"
  },
  {
    "text": "amazing and guess what you did and even more so I can't take all the credit",
    "start": "406199",
    "end": "411319"
  },
  {
    "text": "right like we did I did the the KE with Fredick when I say you I mean gra Labs like you know the the whole org right",
    "start": "411319",
    "end": "418120"
  },
  {
    "text": "that that you're part of the whole team that you're part of but you like you know you were there you had this Vision",
    "start": "418120",
    "end": "424160"
  },
  {
    "text": "you shared it I'm sure everybody contributed to it and then everybody made it happen and I really love that",
    "start": "424160",
    "end": "431160"
  },
  {
    "text": "Journey seeing how things have been happening with Loki I remember when Loki version one came out and I thought wow",
    "start": "431160",
    "end": "438599"
  },
  {
    "text": "this makes so much sense I was so Keen to start using it and we did even for Chang loog we used grafana for a long",
    "start": "438599",
    "end": "444879"
  },
  {
    "text": "time Prometheus then we went to Loki and that was great and then we thought hm hm",
    "start": "444879",
    "end": "450240"
  },
  {
    "text": "if only we could delegate this problem to someone else and guess what grafana cloud came along the the hosted manage",
    "start": "450240",
    "end": "456879"
  },
  {
    "text": "service you had some very generous teers once that changed everything changed so all of a sudden we no longer had to run",
    "start": "456879",
    "end": "463560"
  },
  {
    "text": "our own grafana and Prometheus not that it was difficult but it's much easier to just run the grafana agent that's all",
    "start": "463560",
    "end": "470919"
  },
  {
    "text": "you need send everything to grafana cloud and it just works and with the last changes of uh the alerts like I",
    "start": "470919",
    "end": "478960"
  },
  {
    "text": "think that was the weak point of grafana for a long long time and now he solve that as well so there are all these",
    "start": "478960",
    "end": "484840"
  },
  {
    "text": "things just falling into place naturally and being able to know what's coming and",
    "start": "484840",
    "end": "489960"
  },
  {
    "text": "seeing it happening every six months right there's like more and more and more it's like we know what to expect",
    "start": "489960",
    "end": "496639"
  },
  {
    "text": "you're delivering please carry on that's what I'm thinking thank you very much",
    "start": "496639",
    "end": "501759"
  },
  {
    "text": "yeah you know I miss so much out of my what's happened cuz yeah unified alerting is a huge step uh in the",
    "start": "501759",
    "end": "507360"
  },
  {
    "text": "grafana story I'm really pleased as uh as the way the way the company came together we we used to have two alerting",
    "start": "507360",
    "end": "513440"
  },
  {
    "text": "systems right we had the grafana alerting system and the Prometheus alerting system and they were Worlds Apart you know on one hand the grao",
    "start": "513440",
    "end": "519518"
  },
  {
    "text": "alerting system is probably the easiest one that exists out there right it's very accessible very easy to get started",
    "start": "519519",
    "end": "524959"
  },
  {
    "text": "with and on the other hand the Prometheus system is probably one of the most sophisticated and Powerful ones and",
    "start": "524959",
    "end": "530320"
  },
  {
    "text": "so I think it was really exciting right how the team could combine the power of the Prometheus system right with",
    "start": "530320",
    "end": "536440"
  },
  {
    "text": "multi-dimensional alerts with alert managers rooting grouping and duping and",
    "start": "536440",
    "end": "541480"
  },
  {
    "text": "silencing and bundle all these features into grafana in a way that makes them",
    "start": "541480",
    "end": "546760"
  },
  {
    "text": "easy to use and gives you that that level of user experience that people have come to expect and best of all like",
    "start": "546760",
    "end": "552480"
  },
  {
    "text": "we haven't duplicated any features right we're just using alert manager under the under the hood we're using the same API",
    "start": "552480",
    "end": "558560"
  },
  {
    "text": "as Prometheus under the hood so it's true to our open source routs as well and that's like I the team did a",
    "start": "558560",
    "end": "564399"
  },
  {
    "text": "fantastic job with unified alerting I think the the thing you say about Cloud right the the generous free tier for",
    "start": "564399",
    "end": "570240"
  },
  {
    "text": "instance we launched that in January I think mhm that's we've always had a kind of free tier we've always allowed you to",
    "start": "570240",
    "end": "576040"
  },
  {
    "text": "have a free graffo instance for instance the work that goes into actually being able to offer a free tier there's so",
    "start": "576040",
    "end": "583240"
  },
  {
    "text": "much going on behind the scenes right just at a very architectural level mhm um the point I'd always make here is",
    "start": "583240",
    "end": "588839"
  },
  {
    "text": "that you need the marginal cost of a new Prometheus instance or of a new Loki",
    "start": "588839",
    "end": "595079"
  },
  {
    "text": "instance or of a new Tempo instance you need it to be effectively zero right you can't offer a free tier unless the cost",
    "start": "595079",
    "end": "600920"
  },
  {
    "text": "of the thing you're offering is is as close to zero as possible so this means behind the scenes right we can't be spinning up a new Prometheus pod or a",
    "start": "600920",
    "end": "608200"
  },
  {
    "text": "new Loki pod or a new grafana pod or a new Tempo pod for every customer that signs up right that would get too",
    "start": "608200",
    "end": "614160"
  },
  {
    "text": "expensive for us to offer it when we're not we we're not that big a company yet and so fundamentally the architecture of",
    "start": "614160",
    "end": "620399"
  },
  {
    "text": "all of these systems has to be multi-tenanted right and we've built and this is where cortex comes in right we built this horizontally scalable",
    "start": "620399",
    "end": "627200"
  },
  {
    "text": "multi-tenant version of protheus which means provisioning a new instance in that multi-tenant cluster is basically",
    "start": "627200",
    "end": "633920"
  },
  {
    "text": "free like it doesn't really cost us anything I mean once you start sending metrics there's some cost incurred but because it's multi-tenanted we can start",
    "start": "633920",
    "end": "640440"
  },
  {
    "text": "to take advantage of kind of statistical multiplexing techniques and really get to a point really drive down the cost of",
    "start": "640440",
    "end": "646320"
  },
  {
    "text": "offering that service which allows us to make the fre tier so generous and that architecture has been replicated in Loki",
    "start": "646320",
    "end": "652839"
  },
  {
    "text": "been replicate well not replicated it uses the same code it uses the same module system the same ring the same the",
    "start": "652839",
    "end": "659040"
  },
  {
    "text": "same architecture and the same techniques in Loki and in Tempo and and that consistency across the offerings",
    "start": "659040",
    "end": "666600"
  },
  {
    "text": "just also carries over to the kind of operational and cognitive burden of running this because it's the same",
    "start": "666600",
    "end": "672000"
  },
  {
    "text": "because you scale it in the same way and you do instant response in the same way so yeah like it's it's incredibly",
    "start": "672000",
    "end": "677040"
  },
  {
    "text": "exciting to to finally feel like you're in the in the last mile of delivering on a vision that's been in progress for",
    "start": "677040",
    "end": "683800"
  },
  {
    "text": "kind of five or six years so everything you said makes a lot of sense to me but I know that many people will be confused",
    "start": "683800",
    "end": "690680"
  },
  {
    "text": "because you are VP of product how on Earth does a VP of product know so many",
    "start": "690680",
    "end": "696240"
  },
  {
    "text": "things about code and how things actually work and I know that you're one of the cortex co-authors right you",
    "start": "696240",
    "end": "703000"
  },
  {
    "text": "started cortex I don't know who the other author is it was uh it was Julius actually from uh the the chap who was",
    "start": "703000",
    "end": "708880"
  },
  {
    "text": "one of the original founders of the Prometheus project Julius vaults Julius vaultz right okay so you and Julius you",
    "start": "708880",
    "end": "716639"
  },
  {
    "text": "started cortex which went to grow and I think it's part of the a very important",
    "start": "716639",
    "end": "723200"
  },
  {
    "text": "component of grafana cloud as an engine an inspiration for Loki which I think you also had something to do with right",
    "start": "723200",
    "end": "728839"
  },
  {
    "text": "like when you started the code base so how does that work how can you be VP of product and code go at a very advanced",
    "start": "728839",
    "end": "735440"
  },
  {
    "text": "level how does how does it work titles uh in in the abstract pretty meaningless right so yes my title is VP product and",
    "start": "735440",
    "end": "742480"
  },
  {
    "text": "I do have a lot of kind of product management responsibilities in the company but my background is a software",
    "start": "742480",
    "end": "747760"
  },
  {
    "text": "engineer I've been a software engineer here now for 15 16 years I've always worked on open source code bases you",
    "start": "747760",
    "end": "754600"
  },
  {
    "text": "know straight out of University I was kind of tangentially involved in the the Zen hypervisor project and so I I worked",
    "start": "754600",
    "end": "760639"
  },
  {
    "text": "a little bit on the kind of control tools there I started a company um that got involved in the Cassandra uh",
    "start": "760639",
    "end": "766040"
  },
  {
    "text": "distributed database and then you know then worked on Prometheus and cortex",
    "start": "766040",
    "end": "771120"
  },
  {
    "text": "I've just always been a software engineer I took a brief stint as doing some Engineering Management at uh at",
    "start": "771120",
    "end": "776440"
  },
  {
    "text": "Google also uh some site reliability engineering where kind of learned a lot about the whole monitoring side of",
    "start": "776440",
    "end": "781560"
  },
  {
    "text": "things but yeah at the end of the day I've I've always been a software engineer I've always been passionate",
    "start": "781560",
    "end": "787240"
  },
  {
    "text": "about this kind of thing and it's just uh you know I don't get to do as much software engineering now as it perhaps",
    "start": "787240",
    "end": "793440"
  },
  {
    "text": "seems you know I have a a large team of software Engineers who who do that and really should take a lot more of the",
    "start": "793440",
    "end": "798800"
  },
  {
    "text": "credit than than perhaps I do MH but yeah I still you know I was doing I did a did a few PRS yesterday uh that was",
    "start": "798800",
    "end": "804680"
  },
  {
    "text": "mostly on some kind of continuous deployment for some internal SLO dashboards but I still you know still",
    "start": "804680",
    "end": "810399"
  },
  {
    "text": "try and write a bit of code we had a had a hackathon recently internally where everyone in the company took a week to",
    "start": "810399",
    "end": "815639"
  },
  {
    "text": "kind of just code on whatever their imagination had been had been you know noodling over for the past uh past few",
    "start": "815639",
    "end": "821920"
  },
  {
    "text": "months and I took part that was like that was pretty cool I managed to to get a couple of days of solid coding in I'm",
    "start": "821920",
    "end": "827320"
  },
  {
    "text": "not going to tell you what the project was though because uh that might become a future product who knows interesting I",
    "start": "827320",
    "end": "832720"
  },
  {
    "text": "I was just going to ask that if any of those projects are public but I'm sure the good ones will be right yeah no no",
    "start": "832720",
    "end": "839720"
  },
  {
    "text": "some of them are right so um bjor and daa and Ganesh were working on one of",
    "start": "839720",
    "end": "845079"
  },
  {
    "text": "their hackerson projects was highdefinition histograms in Prometheus and and Ganesha has already tweeted about that and we'll be putting out more",
    "start": "845079",
    "end": "851040"
  },
  {
    "text": "information and the code's out there in public I've seen that there's a few of them that are public and a lot of them",
    "start": "851040",
    "end": "856120"
  },
  {
    "text": "are going to form future projects and and potentially even future products I can give you a bit of a hint what the",
    "start": "856120",
    "end": "862279"
  },
  {
    "text": "project I was working on was so not a lot of people know at graffan Labs actually its first kind of Time series",
    "start": "862279",
    "end": "868800"
  },
  {
    "text": "dat base that it built for grafana cloud uh it's called metric tank metric tank is a graphite oriented still written go",
    "start": "868800",
    "end": "876199"
  },
  {
    "text": "still using a lot of the same techniques from Modern time series databases like the the gorilla encoding and so on but",
    "start": "876199",
    "end": "881920"
  },
  {
    "text": "mainly focused on building a kind of scalable multi-tenant Cloud version of graphite and that's what kind of",
    "start": "881920",
    "end": "888680"
  },
  {
    "text": "bootstrapped grafana cloud um before before I joined the company and then I joined and and brought cortex in with me",
    "start": "888680",
    "end": "894959"
  },
  {
    "text": "and and since then of course the architecture's now kind of moved towards a cortex style architecture the metric",
    "start": "894959",
    "end": "900000"
  },
  {
    "text": "tank team within graffan labs for the past uh year or so have actually been working on putting a graphite query",
    "start": "900000",
    "end": "906399"
  },
  {
    "text": "engine on top of Cortex and we've actually I think the launch of that you know it' be seamless launch customers",
    "start": "906399",
    "end": "912120"
  },
  {
    "text": "shouldn't notice right that being moved off of metric tank and onto graphite V5 MH that's actually happening very soon",
    "start": "912120",
    "end": "918959"
  },
  {
    "text": "and and that's kind of to give you a bit of a hint in the direction we're going now grafana Enterprise Metrics and graan",
    "start": "918959",
    "end": "924079"
  },
  {
    "text": "cloud is a single time series database that you can query through multiple different query languages that's",
    "start": "924079",
    "end": "929560"
  },
  {
    "text": "fascinating and now you reminded me the link between Akuna analytics the company",
    "start": "929560",
    "end": "935440"
  },
  {
    "text": "that you were part of at some point and the startup that I was working for at the time which was go squared which was",
    "start": "935440",
    "end": "941399"
  },
  {
    "text": "like real time visitor analytics so go squared we were using I think mongod DB",
    "start": "941399",
    "end": "946880"
  },
  {
    "text": "heavily and we were starting to look in into Cassandra there was a Cassandra conference and I thought you were presenting the analytic side of things",
    "start": "946880",
    "end": "954319"
  },
  {
    "text": "and at the time I was heavily invested in graphite ganglia was there as well",
    "start": "954319",
    "end": "960800"
  },
  {
    "text": "yeah and I thought like wow this graphi like and scaling those like fun days challenging days and I looked at Akuna I",
    "start": "960800",
    "end": "968199"
  },
  {
    "text": "thought wow this is interesting so they're using Cassandra for the metrics and it works really well I remember even",
    "start": "968199",
    "end": "973440"
  },
  {
    "text": "the demo that you gave I forget the conference name this was 2012 2013 yeah",
    "start": "973440",
    "end": "979399"
  },
  {
    "text": "I don't remember long time ago something like that yes and um so graphite right",
    "start": "979399",
    "end": "984839"
  },
  {
    "text": "was a great system but it didn't really scale it was very problematic and then grafana came along but grafana on top of",
    "start": "984839",
    "end": "992279"
  },
  {
    "text": "Prometheus so Prometheus had something to do with it but Prometheus in its incipient phase was again like single",
    "start": "992279",
    "end": "997759"
  },
  {
    "text": "process single instance how do you scale that well it's not as easy and cortex as",
    "start": "997759",
    "end": "1003800"
  },
  {
    "text": "far as I know scales the way anyone would expect right you can Shard those",
    "start": "1003800",
    "end": "1009160"
  },
  {
    "text": "metrics you can replicate them you have different back ends for them that was really really nice so I can see history",
    "start": "1009160",
    "end": "1016240"
  },
  {
    "text": "in a way repeating itself with uh Prometheus and graphite and now I can see the link right where it's actually",
    "start": "1016240",
    "end": "1022560"
  },
  {
    "text": "part of Cortex or it will be part of Cortex that's really fascinating well so it's interesting you mention that right",
    "start": "1022560",
    "end": "1028038"
  },
  {
    "text": "because one of the things aunu did one of its contributions to the Cassandra project was a technique called virtual",
    "start": "1028039",
    "end": "1033319"
  },
  {
    "text": "nodes right which is where in the earlier versions of Cassandra each node basically owned a single range in its in",
    "start": "1033319",
    "end": "1039360"
  },
  {
    "text": "its distributed hash ring the technique that that aunu added and has been in Cassandra for ages now was the ability",
    "start": "1039360",
    "end": "1045160"
  },
  {
    "text": "for a node to own multiple Rangers right and the whole principle there being once you can own multiple ranges like",
    "start": "1045160",
    "end": "1050720"
  },
  {
    "text": "hundreds like you then just pick them at random and you achieve a very good statistical kind of load balancing",
    "start": "1050720",
    "end": "1057120"
  },
  {
    "text": "what's maybe particularly interesting is exactly the same techniques in cortex in Loki in Tempo and that's the ring I was",
    "start": "1057120",
    "end": "1063400"
  },
  {
    "text": "referring to earlier this is like it's basically just an almost identical copy just in go of the Cassandra hash ring",
    "start": "1063400",
    "end": "1070880"
  },
  {
    "text": "this this makes me think of the old gohost Square team because I remember Cassandra and how they were like so excited about this and this was",
    "start": "1070880",
    "end": "1077039"
  },
  {
    "text": "mentioned like wow this is amazing like like mongod DB I think rather Cassandra",
    "start": "1077039",
    "end": "1082400"
  },
  {
    "text": "I remember that and it wasn't like it wasn't even like version one at the time I know that Netflix were big on it as",
    "start": "1082400",
    "end": "1087919"
  },
  {
    "text": "well Adrian cockro had like a great talk about it and like in that context the",
    "start": "1087919",
    "end": "1092960"
  },
  {
    "text": "AWS Cloud came in so many threads connecting in my head right now wow okay",
    "start": "1092960",
    "end": "1098840"
  },
  {
    "text": "so let's take a step back from all these I say rabbit holes but like reminiscing",
    "start": "1098840",
    "end": "1104360"
  },
  {
    "text": "specific things which are a thing of the past and let's come back into the present",
    "start": "1104360",
    "end": "1109600"
  },
  {
    "text": "with a question which I know very many people are I'm not sure what they're struggling with but they are you know",
    "start": "1109600",
    "end": "1116280"
  },
  {
    "text": "they're two sides to them what is observability some say that it is not",
    "start": "1116280",
    "end": "1121559"
  },
  {
    "text": "the three pillars which is metrics logs and traces some say that's not what observability is what do you think what",
    "start": "1121559",
    "end": "1127919"
  },
  {
    "text": "is observability to you Tom I mean it's definitely a bit of an industry buzzword right now the three pillars definition",
    "start": "1127919",
    "end": "1134080"
  },
  {
    "text": "is not that useful as a definition right doesn't really describe what you're trying to do or what the problem you're",
    "start": "1134080",
    "end": "1139559"
  },
  {
    "text": "trying to solve it more describes maybe how you're solving some other problem right so whilst I don't necessarily",
    "start": "1139559",
    "end": "1146440"
  },
  {
    "text": "think it's wrong like in a lot of places in a lot of situations observability",
    "start": "1146440",
    "end": "1151720"
  },
  {
    "text": "does revolve around metrics and logs and traces it's not an answer to the question what is observability I've",
    "start": "1151720",
    "end": "1157360"
  },
  {
    "text": "always really liked the definition of observability is you know the name for",
    "start": "1157360",
    "end": "1164200"
  },
  {
    "text": "the movement that is like helping Engineers understand the behavior of of their their applications and and their",
    "start": "1164200",
    "end": "1170840"
  },
  {
    "text": "infrastructure it's about any tool any source of data any technique that helps you understand how a large and",
    "start": "1170840",
    "end": "1177960"
  },
  {
    "text": "complicated distributed system is behaving and helps you analyze that",
    "start": "1177960",
    "end": "1183320"
  },
  {
    "text": "that's really my preference um I don't necessarily think I speak for many people though when I say that I've been",
    "start": "1183320",
    "end": "1188640"
  },
  {
    "text": "thinking about this for a couple of years I had a couple of interesting discussions uh even the episode before this that's a really interesting one if",
    "start": "1188640",
    "end": "1195080"
  },
  {
    "text": "this is the first one that you're listening to check that out see you know how how the two compare for you but I",
    "start": "1195080",
    "end": "1201480"
  },
  {
    "text": "also agree that being curious about how things behave I think that's like the",
    "start": "1201480",
    "end": "1206679"
  },
  {
    "text": "first requirement for observability are you curious do you care and if you care great so what are you going to do to",
    "start": "1206679",
    "end": "1213280"
  },
  {
    "text": "understand your production or your system it doesn't have to be production but it typically is because that's where",
    "start": "1213280",
    "end": "1218720"
  },
  {
    "text": "the most interesting thing things happen so how do you do that how do you take",
    "start": "1218720",
    "end": "1223880"
  },
  {
    "text": "all those metrics logs and traces or events whatever you call them it doesn't really matter to understand how the",
    "start": "1223880",
    "end": "1229400"
  },
  {
    "text": "system behaves it's an interesting kind of way of phrasing it right because what I think what we really internalize at",
    "start": "1229400",
    "end": "1235679"
  },
  {
    "text": "graph Labs is kind of avoiding a one- siiz fits-all solution right so I know",
    "start": "1235679",
    "end": "1241120"
  },
  {
    "text": "there are some incredibly powerful Solutions out there that are incredibly flexible but at the end of the day we",
    "start": "1241120",
    "end": "1246280"
  },
  {
    "text": "internally call it this kind of big tent philosophy right where we try and embrace multiple different solutions and",
    "start": "1246280",
    "end": "1251400"
  },
  {
    "text": "multiple different combinations of solutions and really kind of focus on helping users get the best out of a wide",
    "start": "1251400",
    "end": "1258000"
  },
  {
    "text": "variety of techniques cuz really you go into any sufficiently large organization",
    "start": "1258000",
    "end": "1263120"
  },
  {
    "text": "doesn't even have to be thousands of people like even just hundreds of people and there's going to be one team over",
    "start": "1263120",
    "end": "1269120"
  },
  {
    "text": "there that uses one monitoring solution and a team over there that uses a different logging solution and there",
    "start": "1269120",
    "end": "1274440"
  },
  {
    "text": "will going to be stuck in their own little silos and they're all going to have their own you know tools to use to analyze their data and really what we're",
    "start": "1274440",
    "end": "1281240"
  },
  {
    "text": "trying to do at grafo is bring them all together into a single place and give them all the same experience the way",
    "start": "1281240",
    "end": "1286400"
  },
  {
    "text": "I've always thought about it is as a as you know when you get paged in the middle of the night I don't want a system to tell me necessarily what's",
    "start": "1286400",
    "end": "1292480"
  },
  {
    "text": "wrong because the reality is if the system could tell me what's wrong she'll probably be able to fix it for me and I probably should have thought of it ahead",
    "start": "1292480",
    "end": "1298279"
  },
  {
    "text": "of time and it probably should never have paged me I only ever really want to get paged for things that I wasn't expecting right and therefore you know I",
    "start": "1298279",
    "end": "1305120"
  },
  {
    "text": "want to engage that kind of creative part of my brain and I want to come up with hypothesis as to why it's broken",
    "start": "1305120",
    "end": "1312039"
  },
  {
    "text": "right and I'm going to and and then I want tools that help me test those hypotheses and develop new hypotheses so",
    "start": "1312039",
    "end": "1318679"
  },
  {
    "text": "really I'm not looking for a tool that claims to automate kind of root cause analysis or or tell me exactly what's",
    "start": "1318679",
    "end": "1325720"
  },
  {
    "text": "broken because you know if it can do that it probably shouldn't have broken in that in that particular way I'm",
    "start": "1325720",
    "end": "1331720"
  },
  {
    "text": "looking for a tool that helps me test theories that I've got oh is it broken because of this oh I can I can correlate",
    "start": "1331720",
    "end": "1338279"
  },
  {
    "text": "some metrics and some logs and I can see if that's the case is it broken because",
    "start": "1338279",
    "end": "1343679"
  },
  {
    "text": "there's a a tiny little service running on a computer under someone's desk that's gone down or I can go and look at",
    "start": "1343679",
    "end": "1349159"
  },
  {
    "text": "a distributed trace and it will tell me if that's the case like I want a tool that helps me access data and test",
    "start": "1349159",
    "end": "1354279"
  },
  {
    "text": "hypothesis and the nice thing I think about that as a guiding principle is it",
    "start": "1354279",
    "end": "1359640"
  },
  {
    "text": "doesn't say well the best way of doing that is with logs it doesn't say the best way of doing that is with events",
    "start": "1359640",
    "end": "1364840"
  },
  {
    "text": "and it doesn't say the best way of doing it is with metrics it says the best way of doing it is situational and depends",
    "start": "1364840",
    "end": "1371320"
  },
  {
    "text": "on the problem and depends on the tools you've got available that's",
    "start": "1371320",
    "end": "1376400"
  },
  {
    "text": "great [Music]",
    "start": "1377440",
    "end": "1389929"
  },
  {
    "text": "this episode is brought to you by our friends at launch darkley feature management for the modern Enterprise",
    "start": "1390559",
    "end": "1395799"
  },
  {
    "text": "power testing in production at any scale here's how it works launch Darkly enables development teams and operation",
    "start": "1395799",
    "end": "1401840"
  },
  {
    "text": "teams to deploy code at any time even if a feature isn't ready to release to users wrapping code with feature Flags",
    "start": "1401840",
    "end": "1408559"
  },
  {
    "text": "gives you the safety to test new features and infrastructure in your production environments without impacting the wrong end users when",
    "start": "1408559",
    "end": "1415279"
  },
  {
    "text": "you're ready to release more Wily update the flag status and the changes are made instantaneously by the real-time",
    "start": "1415279",
    "end": "1420679"
  },
  {
    "text": "streaming architecture eliminate risk deliver value get started for free today at launch dark.com again launch dark.com",
    "start": "1420679",
    "end": "1428310"
  },
  {
    "text": "[Music]",
    "start": "1428310",
    "end": "1436640"
  },
  {
    "text": "I really liked your last answer and I think now is a great time to start",
    "start": "1436640",
    "end": "1442159"
  },
  {
    "text": "looking at the grafana ecosystem the grafana labs Cloud just because grafana",
    "start": "1442159",
    "end": "1448279"
  },
  {
    "text": "means many things how would you solve specific problems with the tools that",
    "start": "1448279",
    "end": "1454000"
  },
  {
    "text": "you have available in grafana so let's take a specific example let's imagine",
    "start": "1454000",
    "end": "1460240"
  },
  {
    "text": "that every now and then my website some of the requests are slow what would I do",
    "start": "1460240",
    "end": "1465919"
  },
  {
    "text": "to understand why certain requests are slow let's imagine this is a monolithic application Chang log.com I'm winking",
    "start": "1465919",
    "end": "1473480"
  },
  {
    "text": "right now it's a phoenix app so what would I do actually I don't know what Phoenix is uh it's a framework similar",
    "start": "1473480",
    "end": "1479840"
  },
  {
    "text": "to Ruby on Rails uh but it's based in Elixir which is syntax is similar to",
    "start": "1479840",
    "end": "1485320"
  },
  {
    "text": "Ruby but it's really all running on the erlang VM so it's like Ruby on Rails is",
    "start": "1485320",
    "end": "1491480"
  },
  {
    "text": "that a is that a particularly large user base it seems very I've not heard of that before cool right so not",
    "start": "1491480",
    "end": "1497279"
  },
  {
    "text": "necessarily I mean depending on what you mean by large but it scales really well because it's the",
    "start": "1497279",
    "end": "1502520"
  },
  {
    "text": "Earl VM yeah because it's yeah everything is message passing Sweet you can have a cluster it like it clusters",
    "start": "1502520",
    "end": "1509080"
  },
  {
    "text": "natively you know forms a cluster you start sending messages I think one of the more popular apps that uses Earline",
    "start": "1509080",
    "end": "1516440"
  },
  {
    "text": "is WhatsApp everybody knows everybody uses and rabbit mq is another messaging",
    "start": "1516440",
    "end": "1521720"
  },
  {
    "text": "que that also uses uh the same airl VM and I think the last one is react was",
    "start": "1521720",
    "end": "1527240"
  },
  {
    "text": "like a the database base um I think it still exists and like it was by by by baso I remember it was like in the same",
    "start": "1527240",
    "end": "1533679"
  },
  {
    "text": "quadrant right where kunu analytics was there Manu was the I think he was the managing director for the EU for the EU",
    "start": "1533679",
    "end": "1540360"
  },
  {
    "text": "team and he was he was at auno a long time ago yeah there he go it's a small world isn't it I think he's now at one",
    "start": "1540360",
    "end": "1545919"
  },
  {
    "text": "of the cryptocurrency companies but yeah sorry unrelated so coming back to this like Phoenix app so the reason why I",
    "start": "1545919",
    "end": "1551399"
  },
  {
    "text": "mentioned that it's a monolithic app it's important because it's not microservices right you don't have htb calls or gpcs there's no such thing it's",
    "start": "1551399",
    "end": "1558960"
  },
  {
    "text": "a single app it's a monolithic app talks to a database it has an engine X Ingress engine X actually in front there's like",
    "start": "1558960",
    "end": "1564919"
  },
  {
    "text": "a load balancer and then in front of that you have a CDN so the request comes and this is like very specific and maybe",
    "start": "1564919",
    "end": "1570880"
  },
  {
    "text": "this will help the request goes through a CDN fastly it hits a load balancer",
    "start": "1570880",
    "end": "1576840"
  },
  {
    "text": "which is a managed one like you know your elb whatever the equivalent of that then it goes to Ingress engine X and",
    "start": "1576840",
    "end": "1583880"
  },
  {
    "text": "then from Ingress engine X it gets proxy to the right pod uh Well Service pod you know I don't have to start de composing",
    "start": "1583880",
    "end": "1590440"
  },
  {
    "text": "this and eventually it hits the database and then it comes back back in again at any one point it could be cached",
    "start": "1590440",
    "end": "1596320"
  },
  {
    "text": "sometimes requests are slow why how would we find out with the tools that exist in the grafana ecosystem world no",
    "start": "1596320",
    "end": "1603320"
  },
  {
    "text": "it's great question so you already know that requests are slow so that's kind of interesting I'm going to guess like or",
    "start": "1603320",
    "end": "1609080"
  },
  {
    "text": "for the sake of this uh discussion that you've been told by your users that requests are slow right so I would",
    "start": "1609080",
    "end": "1614480"
  },
  {
    "text": "actually say first things first let's kind of confirm that we want want to instrument the system we want to get as",
    "start": "1614480",
    "end": "1620480"
  },
  {
    "text": "many useful metrics as we can out of it you know you mentioned in elb there for instance right we uh we we' put the uh",
    "start": "1620480",
    "end": "1628080"
  },
  {
    "text": "cloudwatch exporter on there and get the elb metrics out into promethus now you can do that with the open source exporter we're also working on a service",
    "start": "1628080",
    "end": "1635640"
  },
  {
    "text": "in grafana Cloud where effectively we run and manage that exporter for you just to reduce the number of things you",
    "start": "1635640",
    "end": "1641159"
  },
  {
    "text": "need to run this will give you access to some rudimentary metrics but generally I don't find cloudwatch metrics to be",
    "start": "1641159",
    "end": "1646760"
  },
  {
    "text": "super useful I'm sorry that was a bad example so I gave an analogy it's actually a lenoe node balancer I'm",
    "start": "1646760",
    "end": "1652360"
  },
  {
    "text": "pretty sure you don't integrate with that but it's like an manag ha proxy I wouldn't underestimate the Prometheus",
    "start": "1652360",
    "end": "1657399"
  },
  {
    "text": "ecosystem there's probably an exporter for linode linode metrics that the import Min and if there isn't there will",
    "start": "1657399",
    "end": "1664320"
  },
  {
    "text": "be by the time we finish finish this recording I imagine I hope so yeah so i' get the metrics on the low balancer because it's always good to start at the",
    "start": "1664320",
    "end": "1670279"
  },
  {
    "text": "very edge the CDN is first what about the CD yeah I I don't know enough about fastly I'm afraid to really comment but",
    "start": "1670279",
    "end": "1675640"
  },
  {
    "text": "I'm sure there's I'm sure there's some way of getting uh getting logs or uh or metrics from that okay so we've hit",
    "start": "1675640",
    "end": "1681799"
  },
  {
    "text": "something which I wasn't expecting to hit but let's just go with it okay I looked at integrating fasty Logs with",
    "start": "1681799",
    "end": "1688320"
  },
  {
    "text": "grafana Cloud to do that it only supports https right because that's what Loki exposes but we have to validate the",
    "start": "1688320",
    "end": "1697039"
  },
  {
    "text": "https endpoint that we're going to send logs to the problem is how do we validate that we own grafana cloud Loki",
    "start": "1697039",
    "end": "1705159"
  },
  {
    "text": "we can't do that so what I'm saying is there's not a native integration between fley and gra cloud and I would really",
    "start": "1705159",
    "end": "1712039"
  },
  {
    "text": "like that actually that's something which we discussed in the previous episode episod no two episodes ago episode 10 so that's the first part how",
    "start": "1712039",
    "end": "1719200"
  },
  {
    "text": "do we get from fastly sending logs to graan Cloud it's not supported what fastly telling us you will need to have",
    "start": "1719200",
    "end": "1725559"
  },
  {
    "text": "some sort of a proxy that you can authenticate and then forward those metric those logs to graan Cloud to loky",
    "start": "1725559",
    "end": "1732799"
  },
  {
    "text": "specifically it's okay not great I'd like just to send those metrics directly sorry I keep saying I mean logs send the",
    "start": "1732799",
    "end": "1740159"
  },
  {
    "text": "logs to graan Cloud so that would be the first step great so let's say we understand the part between the CDN and",
    "start": "1740159",
    "end": "1748440"
  },
  {
    "text": "the load balancer let's say that we understand that path and we have some logs to tell us something what do we do",
    "start": "1748440",
    "end": "1754399"
  },
  {
    "text": "with those logs so this is yeah I mean logs in of themselves aren't aren't seldom useful so Loki in logq that I",
    "start": "1754399",
    "end": "1761600"
  },
  {
    "text": "referenced earlier would be able to turn those into some usable metrics right you'd be able to turn them into uh",
    "start": "1761600",
    "end": "1767720"
  },
  {
    "text": "request rates error rates and and latencies if if the log contains uh contains a latency and you do that all",
    "start": "1767720",
    "end": "1773519"
  },
  {
    "text": "with Loki uh you can even with the more recent versions of grafana and Loki you can build dashboards out of those and",
    "start": "1773519",
    "end": "1778919"
  },
  {
    "text": "some of the cool stuff is like behind the scenes there's a lot of caching going on so that those dashboard refreshes don't overwhelm the Loki and",
    "start": "1778919",
    "end": "1785640"
  },
  {
    "text": "you know I always say with metrics it'll tell you when it happened it'll tell you how much it happened you know maybe if",
    "start": "1785640",
    "end": "1792559"
  },
  {
    "text": "you've got if you've got the granularity it might tell you where you know which service or which region it happened in but it won't actually tell you what",
    "start": "1792559",
    "end": "1798559"
  },
  {
    "text": "happened it will just tell you that something was slow right so at that point we start digging in and there's a",
    "start": "1798559",
    "end": "1804519"
  },
  {
    "text": "couple of techniques we can use right so firstly I would instrument everything in the stack right we talked about getting",
    "start": "1804519",
    "end": "1810519"
  },
  {
    "text": "metrics from the CDN we talked about getting metrics from the load balancer getting you know your engine your",
    "start": "1810519",
    "end": "1815640"
  },
  {
    "text": "Ingress engine X is running on kubernetes so it's trivial to deploy prom Tail as a demon set and get logs",
    "start": "1815640",
    "end": "1821840"
  },
  {
    "text": "from every kubernetes pod into into Loki so you've got the engine X logs which again Loki can extract metrics from",
    "start": "1821840",
    "end": "1828039"
  },
  {
    "text": "really straightforward ward has a fantastic set of dashboards and and examples of how to do that already then",
    "start": "1828039",
    "end": "1834679"
  },
  {
    "text": "you've got your application The Elixir application now I don't know enough about that but I'm going to assume",
    "start": "1834679",
    "end": "1840279"
  },
  {
    "text": "there's a Prometheus client Library out there and so I would instrument that and I would follow whenever I'm instrumenting My Own application I tend",
    "start": "1840279",
    "end": "1846559"
  },
  {
    "text": "to follow a very simple method if you've heard of Brendan Greg's used method then kind of somewhat tongue and cheek I coin",
    "start": "1846559",
    "end": "1853200"
  },
  {
    "text": "this phrase called the red method which is request rate error rate and request duration right red everything comes in",
    "start": "1853200",
    "end": "1859320"
  },
  {
    "text": "threes and it's really easy to remember y so I would just try and Export a Prometheus histogram from the",
    "start": "1859320",
    "end": "1864799"
  },
  {
    "text": "application with request rate with error rate and with duration and the histogram will capture all three finally you",
    "start": "1864799",
    "end": "1871039"
  },
  {
    "text": "mentioned a database let's just for argument sake assum it's MySQL they don't tend to actually export very good metrics there is an exporter for for it",
    "start": "1871039",
    "end": "1878200"
  },
  {
    "text": "in Prometheus and we actually bake that into the grafana agent to just to simplify and make it easier and have",
    "start": "1878200",
    "end": "1883600"
  },
  {
    "text": "less stuff to to deploy and so I would wire those up and get whatever metrics I can but I'd also gather the logs cuz the",
    "start": "1883600",
    "end": "1889840"
  },
  {
    "text": "database logs tend to be a little bit more interesting so finally this hasn't really called on very much but you see",
    "start": "1889840",
    "end": "1895279"
  },
  {
    "text": "it in a lot of the dashboards that that my team and I have built I tend to always kind of Traverse the system from",
    "start": "1895279",
    "end": "1901320"
  },
  {
    "text": "top to bottom I always have uh request rates on the left in panels on the left",
    "start": "1901320",
    "end": "1906919"
  },
  {
    "text": "and durations like latency graphs on the right just as a quick glance in the dashboard you can typically see where",
    "start": "1906919",
    "end": "1913240"
  },
  {
    "text": "the latency is being introduced do you have a good dashboard that exemp iice",
    "start": "1913240",
    "end": "1918360"
  },
  {
    "text": "this because what you say makes a lot of sense is there a good dashboard that we can use as a starting point the cortex",
    "start": "1918360",
    "end": "1925440"
  },
  {
    "text": "ones are the the ones that I've probably spent the most amount of time um we ship a we call uh again a bit of work we did",
    "start": "1925440",
    "end": "1932799"
  },
  {
    "text": "with the Prometheus Community was this standard called mixins right which is a a packaging format for grafana",
    "start": "1932799",
    "end": "1938760"
  },
  {
    "text": "dashboards and Prometheus alerts so we've built there's 40 or 50 different",
    "start": "1938760",
    "end": "1944320"
  },
  {
    "text": "mixins now from a lot of popular systems but one of them is cortex and it's just a versioned set of dashboards and alerts",
    "start": "1944320",
    "end": "1951159"
  },
  {
    "text": "that are very flexible very easy to extend which is kind of key and very easy to kind of keep up to date with",
    "start": "1951159",
    "end": "1957440"
  },
  {
    "text": "Upstream actually the most popular mix in would be the kubernetes mix in I would wager that virtually every",
    "start": "1957440",
    "end": "1962679"
  },
  {
    "text": "kubernetes cluster in the world is running the set of dashboards from the kubernetes mixing uh which is kind of",
    "start": "1962679",
    "end": "1968039"
  },
  {
    "text": "cool because I helped write a lot of those in in the very early days at least it's now a whole community that uh that",
    "start": "1968039",
    "end": "1973799"
  },
  {
    "text": "maintains and has taken them far beyond anything I could ever imagine you know so dashboards you would have a row per",
    "start": "1973799",
    "end": "1980320"
  },
  {
    "text": "service and then You' just do uh error error rate and request rate and latency",
    "start": "1980320",
    "end": "1985360"
  },
  {
    "text": "and this will help you at a very quick glance when you get used to kind of uh looking at dashboards in this format and",
    "start": "1985360",
    "end": "1990639"
  },
  {
    "text": "and every service kind of looks the same is in the same format that consistency really helps reduce that cognitive load",
    "start": "1990639",
    "end": "1997480"
  },
  {
    "text": "um you get to kind of pinpoint very quickly where that latency is being introduced it's a very simple technique it's not universally applicable but it",
    "start": "1997480",
    "end": "2004559"
  },
  {
    "text": "does help you know well this is coming in my application or this is coming my low balancer or this is coming in my database is there a screenshot of such a",
    "start": "2004559",
    "end": "2011799"
  },
  {
    "text": "dashboard that we can reference in the show notes that would really really help I can just load up one of our internal dashboards and send it over yes please",
    "start": "2011799",
    "end": "2018840"
  },
  {
    "text": "that would be great the other thing is you mentioned mixings mixings in what context I've terribly overloaded a term",
    "start": "2018840",
    "end": "2026399"
  },
  {
    "text": "there because I just thought it was a cool term like I realize in CSS and in in Python mixins has a particular",
    "start": "2026399",
    "end": "2032840"
  },
  {
    "text": "meaning it Bears no resemblance to to the kind of language level primitive right it is just a cool name that we",
    "start": "2032840",
    "end": "2039480"
  },
  {
    "text": "used for packaging up we called them monitoring mixins because we used a language called J not we use a language",
    "start": "2039480",
    "end": "2045519"
  },
  {
    "text": "called jonic to express a lot of our alerts and dashboards and jonic is very",
    "start": "2045519",
    "end": "2050679"
  },
  {
    "text": "much about like adding together big structures of data and it kind of looks a bit like a mixin in that respect but",
    "start": "2050679",
    "end": "2058040"
  },
  {
    "text": "that being said most of the way people use mixins nowadays doesn't use that",
    "start": "2058040",
    "end": "2063118"
  },
  {
    "text": "that Technique we just use it as a packaging format okay so it's just a name there's a Hub repo and a small",
    "start": "2063119",
    "end": "2068800"
  },
  {
    "text": "website and you know the nice thing about the tooling that that's been developed and the packaging format is",
    "start": "2068800",
    "end": "2074878"
  },
  {
    "text": "very much we encourage people who publish exporters or people who build applications that are instrumented with",
    "start": "2074879",
    "end": "2081480"
  },
  {
    "text": "Prometheus metrics to also distribute a mix in so Prometheus has a mix in ETD",
    "start": "2081480",
    "end": "2086720"
  },
  {
    "text": "has a mix in the kubernetes mix in it's part of the kubernetes project right cortex has a mix in we just they live",
    "start": "2086720",
    "end": "2092599"
  },
  {
    "text": "alongside the code they version controlled and maintained in the same way as the code and suddenly you know",
    "start": "2092599",
    "end": "2097920"
  },
  {
    "text": "how people talk about kind of test driven development well you almost have observability driven development that's",
    "start": "2097920",
    "end": "2103599"
  },
  {
    "text": "interesting so I know I've heard of mixins in the context of jonet and I",
    "start": "2103599",
    "end": "2108680"
  },
  {
    "text": "tried them when I was using the C Prometheus stack the one that I think it",
    "start": "2108680",
    "end": "2113800"
  },
  {
    "text": "was Frederick yes it was Frederick while he was still at Red Hat I know that he he's he's not there anymore but when he",
    "start": "2113800",
    "end": "2119680"
  },
  {
    "text": "was there he was pushing for this cute Prometheus operator and in the context of the operator we could get like the",
    "start": "2119680",
    "end": "2126200"
  },
  {
    "text": "whole stack working with that we used that for change log was really hard because we had like the Jon it was like",
    "start": "2126200",
    "end": "2132960"
  },
  {
    "text": "it was a specific version of Jon it it was just there was a go one and there was I think a python one or a JavaScript",
    "start": "2132960",
    "end": "2139720"
  },
  {
    "text": "one I can't remember but I know the go one was much faster to regenerate all the Json that you needed all the yaml",
    "start": "2139720",
    "end": "2146000"
  },
  {
    "text": "that you needed like took a long long time basically to get it into kubernetes so the mixins that you're talking about",
    "start": "2146000",
    "end": "2152000"
  },
  {
    "text": "how would you use them let's imagine that you're running on kubernetes how would you use those mixings this is a really interesting point because because",
    "start": "2152000",
    "end": "2158200"
  },
  {
    "text": "the mixins are advanced mode it's like hard mode right like the mixins are solving a problem that software developers have it's like how do I",
    "start": "2158200",
    "end": "2164800"
  },
  {
    "text": "package and redistribute and and Version Control and keep up to date like it's not really an end user format like I",
    "start": "2164800",
    "end": "2171359"
  },
  {
    "text": "wouldn't expect that to happen right so just to address some of the initial challenges it was a there's a c version",
    "start": "2171359",
    "end": "2176760"
  },
  {
    "text": "and a Go version of Json it and they weren't quite the same the Go version didn't have formatting for instance go",
    "start": "2176760",
    "end": "2183000"
  },
  {
    "text": "version's caught up and is now what most people use that's kind of we solved that problem we've also developed a lot more",
    "start": "2183000",
    "end": "2188640"
  },
  {
    "text": "tooling right so there's mix tool and there's Grizzly and there's tanker and there's a whole kind of ecosystem jsonic",
    "start": "2188640",
    "end": "2194280"
  },
  {
    "text": "bundler of tools to use to manage these and the where it works particularly well",
    "start": "2194280",
    "end": "2199599"
  },
  {
    "text": "is if you're in a organization with kind of sophisticated config management you know we have a single repo that that has",
    "start": "2199599",
    "end": "2207200"
  },
  {
    "text": "all of the config that describes pretty much our entire deployment of grafana cloud across 20 something kubernetes",
    "start": "2207200",
    "end": "2212839"
  },
  {
    "text": "clusters is it public please can you add me to it no unfortunately not but there's lots of examples we use from it",
    "start": "2212839",
    "end": "2219760"
  },
  {
    "text": "but yeah we've got this one deployment uh this one repo and it's that monor repo approach to to config management at",
    "start": "2219760",
    "end": "2225640"
  },
  {
    "text": "least where mixings really fit nicely because you can use jsonic bundler to package manage them and then the really",
    "start": "2225640",
    "end": "2231079"
  },
  {
    "text": "cool thing comes in you probably kind of got 90% of the way there but then didn't have the last 10% we use jsonic to also manage all of",
    "start": "2231079",
    "end": "2239520"
  },
  {
    "text": "our kubernetes jobs so all our pods stateful sets config Maps Services you name it's all defined in the same",
    "start": "2239520",
    "end": "2245640"
  },
  {
    "text": "language in a single language for for dashboards for alerts for any files for",
    "start": "2245640",
    "end": "2251000"
  },
  {
    "text": "config maps for anything it makes it really easy for us to deliver dashboards",
    "start": "2251000",
    "end": "2256160"
  },
  {
    "text": "and alerts encoded as Json encoded as yaml inside a config map in the same",
    "start": "2256160",
    "end": "2262119"
  },
  {
    "text": "language that's then uploaded with a single tool and the whole process of updating an application and updating its",
    "start": "2262119",
    "end": "2269640"
  },
  {
    "text": "config and updating its monitoring is a single PR a single push and a single apply it's all CD now that's where the",
    "start": "2269640",
    "end": "2276079"
  },
  {
    "text": "vision was that's a bit Advanced right it's a bit much to ask for most people and also it's a bit opinionated right",
    "start": "2276079",
    "end": "2282280"
  },
  {
    "text": "you have to have the complete stack end to endend bought into the whole thing to really realize that benefit and let's",
    "start": "2282280",
    "end": "2288480"
  },
  {
    "text": "face it like other techniques right customize and Q are gaining more popularity than jsonic ever did and so I",
    "start": "2288480",
    "end": "2296319"
  },
  {
    "text": "think the time's passed for that vision and that way that we're running things and really you kind of touch on Sonic",
    "start": "2296319",
    "end": "2302240"
  },
  {
    "text": "really important here it was too hard to use so what we've been doing in grafana Cloud really for the past year or so is",
    "start": "2302240",
    "end": "2309160"
  },
  {
    "text": "trying to make a kind of more opinionated more integrated easier to use version of all of that you sign up",
    "start": "2309160",
    "end": "2316400"
  },
  {
    "text": "to grafana Cloud you deploy the agent right and so that's the first bit of simplification the grafana agent embeds",
    "start": "2316400",
    "end": "2321920"
  },
  {
    "text": "it's all open source right it embeds Prometheus remote right code and scraping code it embeds Loki's promail",
    "start": "2321920",
    "end": "2328119"
  },
  {
    "text": "it embeds the open Telemetry collector it also embeds some 10 to 20 different exporters all in a single binary or with",
    "start": "2328119",
    "end": "2334960"
  },
  {
    "text": "a single thing to deploy and a single thing to configure and it scrapes and gathers metrics and logs and traces and",
    "start": "2334960",
    "end": "2340160"
  },
  {
    "text": "sends them all to your graina Cloud instance and then within that instance we've built a service that like an app",
    "start": "2340160",
    "end": "2345920"
  },
  {
    "text": "store right you can select the integration you want to install I want to monitor some myql I want to monitor some kubernetes I want to monitor Docker",
    "start": "2345920",
    "end": "2352760"
  },
  {
    "text": "and it will install the dashboards and the alerts and it will keep them up to date for you and it will connect them through to the integration in the agent",
    "start": "2352760",
    "end": "2358920"
  },
  {
    "text": "and behind the scenes this is all mixings right this is all jsonnet this is all automation we've built to make",
    "start": "2358920",
    "end": "2364240"
  },
  {
    "text": "this whole thing easy to use and integrated and opinionated it's much harder to do you know to do that easy to",
    "start": "2364240",
    "end": "2370160"
  },
  {
    "text": "use story in in open source because the opinions change right and the Integrations change but in Cloud where",
    "start": "2370160",
    "end": "2376640"
  },
  {
    "text": "it's a much more controlled environment we can deliver that easy to use experience this just means for people",
    "start": "2376640",
    "end": "2384240"
  },
  {
    "text": "who maybe have seen me talk or seen one of someone else talk about Prometheus and talk about grafana and talk about how easy it is to use and how powerful",
    "start": "2384240",
    "end": "2391480"
  },
  {
    "text": "is and how awesome it is and how much value they've got out of it but maybe you know don't really have the time to",
    "start": "2391480",
    "end": "2397560"
  },
  {
    "text": "dump into the intricacies of jonic and learn 50 new tools we're just trying to make that accessible to that group of",
    "start": "2397560",
    "end": "2404950"
  },
  {
    "text": "[Music]",
    "start": "2404950",
    "end": "2413240"
  },
  {
    "text": "people this episode is brought to you by our friends at cockroach La the makers",
    "start": "2413240",
    "end": "2418599"
  },
  {
    "text": "of cockroach DB the most highly evolved database on the planet with cockroach DB",
    "start": "2418599",
    "end": "2424160"
  },
  {
    "text": "you can scale fast survive anything and thrive everywhere it's open source",
    "start": "2424160",
    "end": "2429800"
  },
  {
    "text": "postgress wire compatible and kubernetes friendly which means you can launch and run it anywhere for those who need more",
    "start": "2429800",
    "end": "2435920"
  },
  {
    "text": "you can build and skill fast with cockroach Cloud which is cockroach DB hosted as a service it's the simplest",
    "start": "2435920",
    "end": "2441640"
  },
  {
    "text": "way to deploy cockro DB and is available instantly on AWS and Google cloud with",
    "start": "2441640",
    "end": "2446800"
  },
  {
    "text": "cockroach Cloud a team of worldclass sres maintains and manages your database infrastructure so you can focus Less on",
    "start": "2446800",
    "end": "2453400"
  },
  {
    "text": "Ops and more on code get started for free with a 30-day free trial or rather new forever free tier that's super",
    "start": "2453400",
    "end": "2459280"
  },
  {
    "text": "generous head to cockroach labs.com changw to learn more again cockroach labs.com change",
    "start": "2459280",
    "end": "2466850"
  },
  {
    "text": "[Music]",
    "start": "2466850",
    "end": "2469980"
  },
  {
    "text": "log as I was saying we used jonet bundler JB I remember the cube",
    "start": "2474000",
    "end": "2479280"
  },
  {
    "text": "Prometheus operator and the cube Prometheus stack which was generated out of that so we did away with all of that",
    "start": "2479280",
    "end": "2487040"
  },
  {
    "text": "we to obviously set up our own grafana set up Loki set up Prometheus now all we",
    "start": "2487040",
    "end": "2492520"
  },
  {
    "text": "have is uh a grafana agent which is really nice by the way do you know that docs recommend two graffan agents one to",
    "start": "2492520",
    "end": "2500520"
  },
  {
    "text": "scrape the logs one to get the metrics so uh I figured out how to get a single one and that was okay because one can do",
    "start": "2500520",
    "end": "2508160"
  },
  {
    "text": "both but the thing which I still struggle with is how to get the dashboards working nicely together I",
    "start": "2508160",
    "end": "2515760"
  },
  {
    "text": "think that's the most important thing we have promx that's the library that we use in Elixir and Phoenix to get the",
    "start": "2515760",
    "end": "2521680"
  },
  {
    "text": "metrics out and it's actually on the grafana blog as well so it was featured Alex GMOs who's working close with the",
    "start": "2521680",
    "end": "2528400"
  },
  {
    "text": "grafana team he's also a friend of change logs very close very close friend we we we work together we even like did",
    "start": "2528400",
    "end": "2534760"
  },
  {
    "text": "like couple of episodes together even a YouTube stream on how we upgraded Earline 24 and we were using Gana Cloud",
    "start": "2534760",
    "end": "2542160"
  },
  {
    "text": "to see the impact of that for change.com it was a Friday evening deploy prom X was there it was it was a great one we",
    "start": "2542160",
    "end": "2548520"
  },
  {
    "text": "had great fun it was a few a few weeks back so in that world the dashboards I",
    "start": "2548520",
    "end": "2554240"
  },
  {
    "text": "still feel they are the strongest thing that you and the best thing that that you have but also the most difficult one",
    "start": "2554240",
    "end": "2561319"
  },
  {
    "text": "to integrate because the grafana agent doesn't really handle dashboards right it just like gets the logs and the",
    "start": "2561319",
    "end": "2567240"
  },
  {
    "text": "metrics out so we're using promx but it's really clunky because you're",
    "start": "2567240",
    "end": "2572559"
  },
  {
    "text": "building your dashboards in graan Cloud a lot of the time they don't work because the metrics don't show up",
    "start": "2572559",
    "end": "2578960"
  },
  {
    "text": "reasons and then you adjust them then you have to export them then you have to Version Control them and then promx has",
    "start": "2578960",
    "end": "2586240"
  },
  {
    "text": "to be configured to upload them to grafana Cloud so it's it's just a bit clunky so I'm wondering how could that",
    "start": "2586240",
    "end": "2591800"
  },
  {
    "text": "be done better do you have some ideas there's some some kind of you know guidelines for building dashboards in my",
    "start": "2591800",
    "end": "2598079"
  },
  {
    "text": "opinion first thing we you should always template out the data source mhm right different grafana installations will",
    "start": "2598079",
    "end": "2604359"
  },
  {
    "text": "name their data sources different things and so in dashboard imported from one might not necessarily work in another so",
    "start": "2604359",
    "end": "2610040"
  },
  {
    "text": "I always make sure my data sources are templated out second thing I always tend to template out the job and the instance",
    "start": "2610040",
    "end": "2615880"
  },
  {
    "text": "labels maybe with wild card selectors and again same reason this means the dashboard can effectively dynamically",
    "start": "2615880",
    "end": "2622480"
  },
  {
    "text": "discover what jobs you've got with certain metrics you know the this actually fits a pattern in Prometheus",
    "start": "2622480",
    "end": "2628680"
  },
  {
    "text": "really nicely where we have this uh go build info if you're in go and Java build info if you're in Java and so on",
    "start": "2628680",
    "end": "2634200"
  },
  {
    "text": "where every job exports a metric that tells you kind of the it was built with and so on right we call these infol LEL",
    "start": "2634200",
    "end": "2640920"
  },
  {
    "text": "metrics I tend to add an info metric to every piece of software I write you know",
    "start": "2640920",
    "end": "2646440"
  },
  {
    "text": "maybe it's cortex info right and then I'll tell the template selector for any cortex dashboard to just look for all",
    "start": "2646440",
    "end": "2653400"
  },
  {
    "text": "the unique jobs and instances that export a cortex build mhm right and this again this kind of turns a static",
    "start": "2653400",
    "end": "2659680"
  },
  {
    "text": "dashboard that might have a encoded to use a particular set of labels into a very Dynamic dashboard which allows you",
    "start": "2659680",
    "end": "2665359"
  },
  {
    "text": "to select the job you want to look at and also means that the chances are when you load it as long as there's some job exporting some relevant metrics it will",
    "start": "2665359",
    "end": "2672079"
  },
  {
    "text": "work mhm so first things first template your dashboards right second thing I'm a big fan of dashboards as code right so I",
    "start": "2672079",
    "end": "2679280"
  },
  {
    "text": "actually don't tend to build my dashboards in grafana I tend to build them in my text editor um and I tend to",
    "start": "2679280",
    "end": "2684680"
  },
  {
    "text": "use Json it unfortunately I tend to use a library called graphon or there's another one called grafana Builder and",
    "start": "2684680",
    "end": "2690319"
  },
  {
    "text": "if you don't like jsonic there's a good Library called grafana lib that helps you build them in Python and yeah I tend",
    "start": "2690319",
    "end": "2695800"
  },
  {
    "text": "to build them there I tend to to Version Control them from the get-go and really I tend to use a much more kind of giops",
    "start": "2695800",
    "end": "2701000"
  },
  {
    "text": "style approach there's a couple of tools you can use to do this but the one I've been using more recently it's called",
    "start": "2701000",
    "end": "2706040"
  },
  {
    "text": "Grizzly by Malcolm Holmes and it's on the grafana GitHub and you can install that and you can point it at jsonic",
    "start": "2706040",
    "end": "2712520"
  },
  {
    "text": "definition of a dashboard and it will upload it to grafana and generally you know I do a kind of Dev deploy cycle on",
    "start": "2712520",
    "end": "2719040"
  },
  {
    "text": "my laptop as I'm developing these dashboards uploading to mfana refreshing seeing the change that way kind of the",
    "start": "2719040",
    "end": "2725480"
  },
  {
    "text": "definition of the dashboard is already it right and because I'm version controlling source code and not a Big",
    "start": "2725480",
    "end": "2731280"
  },
  {
    "text": "Blob of Json the code is much more reviewable and I can create PRS and and have someone else review those PRS and",
    "start": "2731280",
    "end": "2737559"
  },
  {
    "text": "and it's meaningful to do that that sounds exactly what I would want I mean you've described my ideal approach but",
    "start": "2737559",
    "end": "2744839"
  },
  {
    "text": "first of all I didn't know about those tools second of all I'm not aware of any article any video anything like this",
    "start": "2744839",
    "end": "2754000"
  },
  {
    "text": "that runs you through how to do this so what I would want to do is to go through",
    "start": "2754000",
    "end": "2759559"
  },
  {
    "text": "that and capture it I think the reason we don't promote it too widely mhm is",
    "start": "2759559",
    "end": "2764680"
  },
  {
    "text": "because the 80% use case for grafana is editing dashboards in grafana right and that's the easy to access easy to use",
    "start": "2764680",
    "end": "2771400"
  },
  {
    "text": "it's very visual it's very kind of rewarding to do that right the 20% use",
    "start": "2771400",
    "end": "2776839"
  },
  {
    "text": "case that I've just described is the serious SRE devops approach and I think",
    "start": "2776839",
    "end": "2782680"
  },
  {
    "text": "we we've tried a bunch of different ways of doing it we've settled on this way but I don't don't think anyone is",
    "start": "2782680",
    "end": "2788880"
  },
  {
    "text": "satisfied I don't think we think this is as easy as it can be I don't think we anyone thinks that like this is the",
    "start": "2788880",
    "end": "2794960"
  },
  {
    "text": "final form and so I'm not sure that anyone's kind of too eager to promote this as the the advanced way of doing it",
    "start": "2794960",
    "end": "2801720"
  },
  {
    "text": "I referenced the hackathon earlier that we were doing internally and I know that we've got some cool stuff coming out that maybe will be the the final form of",
    "start": "2801720",
    "end": "2808760"
  },
  {
    "text": "this I know that I'm very excited about trying it out this is a dream and you can say no right or like not a dream but",
    "start": "2808760",
    "end": "2815359"
  },
  {
    "text": "like a crazy plan what would it look like if we paired for an hour I've been",
    "start": "2815359",
    "end": "2820880"
  },
  {
    "text": "doing it for close to decade so I think I'm pretty good or so others say to have",
    "start": "2820880",
    "end": "2826040"
  },
  {
    "text": "a go with this maybe half an hour will be enough just like to get a hang of things so okay I'm thinking YouTube",
    "start": "2826040",
    "end": "2831400"
  },
  {
    "text": "stream I'm thinking yeah let's do it wow okay can we use vs code sharing because I've always wanted to use that and and I",
    "start": "2831400",
    "end": "2837839"
  },
  {
    "text": "haven't had an opportunity to anything you want you're the driver You're just showing me how it's done and then maybe",
    "start": "2837839",
    "end": "2843280"
  },
  {
    "text": "we can switch over and I can have a go to to see if I understood correctly in the context of change.com because we are",
    "start": "2843280",
    "end": "2850160"
  },
  {
    "text": "already using graan Cloud the integration is there we're already using grafana agent and who knows maybe there",
    "start": "2850160",
    "end": "2855480"
  },
  {
    "text": "will be some interesting things to share but the focus is on getting this nailed down because it sounds amazing like why",
    "start": "2855480",
    "end": "2863040"
  },
  {
    "text": "aren't more people doing this and I don't think many know about it whatever comes after it I think it's an important",
    "start": "2863040",
    "end": "2868920"
  },
  {
    "text": "step to capture and to share widely because I don't think people know I've never heard this before Jon it JB but I",
    "start": "2868920",
    "end": "2876200"
  },
  {
    "text": "was doing it wrong and I didn't even know until today so thank you Tom I yeah I wouldn't I wouldn't say you doing it",
    "start": "2876200",
    "end": "2881359"
  },
  {
    "text": "wrong but it was yeah you didn't see the full didn't get an opportunity to to use the full process to do it right I didn't",
    "start": "2881359",
    "end": "2887680"
  },
  {
    "text": "have the opportunity to do it right okay I mean and that's one of the big challenges of this approach right is it's there's a lot to learn there's a",
    "start": "2887680",
    "end": "2894119"
  },
  {
    "text": "lot to consume and you don't really see the benefits until you do it all which is like from a from a developer",
    "start": "2894119",
    "end": "2899400"
  },
  {
    "text": "experience perspective is awful right like there's no kind of incremental reward that goes with it which is what",
    "start": "2899400",
    "end": "2904720"
  },
  {
    "text": "we're missing we talked about metric a bit we talked about logs but we haven't talked about traces I think it's a very",
    "start": "2904720",
    "end": "2911800"
  },
  {
    "text": "important element we ourselves are not using traces and I can see the Trac is being instrumental critical essential to",
    "start": "2911800",
    "end": "2920240"
  },
  {
    "text": "understanding why our requests are slow if you have a trace you can understand",
    "start": "2920240",
    "end": "2925440"
  },
  {
    "text": "where the time is being spent and the slow request you can see well actually you know what it was Q proxy because I",
    "start": "2925440",
    "end": "2932000"
  },
  {
    "text": "suspect based on the metrics that we have which by the way we have quite a few and everything is going to gra Cloud",
    "start": "2932000",
    "end": "2937440"
  },
  {
    "text": "all the logs everything based on what I see like what we have it's all things",
    "start": "2937440",
    "end": "2943240"
  },
  {
    "text": "point to Q proxy so how would we use",
    "start": "2943240",
    "end": "2948359"
  },
  {
    "text": "traces to understand that first of all how does it work this is tempo I know that's the component that's the would",
    "start": "2948359",
    "end": "2954920"
  },
  {
    "text": "you call it a component what what would you call it I tend to call it either a project or a service like depending on",
    "start": "2954920",
    "end": "2960520"
  },
  {
    "text": "the context okay so like the the tempo service how would we use it for traces and how would it integrate in the",
    "start": "2960520",
    "end": "2967400"
  },
  {
    "text": "problem or how it solve the problem that I just described so this is a really interesting one right because in the metric world we develop exporters right",
    "start": "2967400",
    "end": "2974839"
  },
  {
    "text": "which gather numeric data from other systems and expose them as metrics the barrier to entry for metrics is kind of",
    "start": "2974839",
    "end": "2980799"
  },
  {
    "text": "medium you know maybe it's kind of 3T tall you know for logs everything has logs right it's so easy to get logs from",
    "start": "2980799",
    "end": "2986599"
  },
  {
    "text": "everything so the barrier to entry for logs is kind of nowhere like it's on the floor the barrier to entry for tracers",
    "start": "2986599",
    "end": "2992359"
  },
  {
    "text": "is super high you need to have systems that are instrumented you need to correctly prop at the context the trace",
    "start": "2992359",
    "end": "2998640"
  },
  {
    "text": "ID and you need to have a way of kind of Distributing this Telemetry data right",
    "start": "2998640",
    "end": "3004160"
  },
  {
    "text": "so this is the challenge in the tracing space right now and this is why I think it's always the you know to your point",
    "start": "3004160",
    "end": "3010040"
  },
  {
    "text": "right you haven't adopted tracing yet it's always the third thing people adopt the investment is high the good news is",
    "start": "3010040",
    "end": "3015720"
  },
  {
    "text": "there's a huge reward for that investment and particularly whenever you're looking at any kind of Performance challenges tracing is",
    "start": "3015720",
    "end": "3022319"
  },
  {
    "text": "invaluable we've uh been doing a lot of distributed tracing for a long time in Grain Labs we we started with Jer and",
    "start": "3022319",
    "end": "3027440"
  },
  {
    "text": "and eventually did our own thing with Tempo and it's been instrumental in kind of accelerating the query performance of",
    "start": "3027440",
    "end": "3033559"
  },
  {
    "text": "every component yes so that's the tldr M how do you do it so there's some good",
    "start": "3033559",
    "end": "3038680"
  },
  {
    "text": "news here one of them is is open Telemetry very kind of cross functional project from many different contributors",
    "start": "3038680",
    "end": "3044839"
  },
  {
    "text": "and vendors that is designed really to make the whole Telemetry Journey better",
    "start": "3044839",
    "end": "3050000"
  },
  {
    "text": "and easier and simpler and the most well-developed bit of open Telemetry and bit that is most widely adopted is their",
    "start": "3050000",
    "end": "3056640"
  },
  {
    "text": "tracing stack right so we've put the open Telemetry collector into the grafana agent so you can deploy that and",
    "start": "3056640",
    "end": "3063040"
  },
  {
    "text": "then you've got something you can just fire traces at in your local environment you'll set up the grafana cloud agent",
    "start": "3063040",
    "end": "3068920"
  },
  {
    "text": "the grafana agent to forward those traces up to to graan Cloud to Tempo and then Tempo deals with the storage of",
    "start": "3068920",
    "end": "3074640"
  },
  {
    "text": "them right and that's the really the component is all that leaves is for you to deal with the instrumentation now the",
    "start": "3074640",
    "end": "3081200"
  },
  {
    "text": "good news is with a lot of high level languages a lot of dynamic languages you can use Auto instrument so this is part",
    "start": "3081200",
    "end": "3087599"
  },
  {
    "text": "of open Telemetry client libraries that come along and for instance with most Java web Frameworks with most python",
    "start": "3087599",
    "end": "3094559"
  },
  {
    "text": "Frameworks it's like one line of code or maybe it's even no code changes and you can get reasonable traces out of the",
    "start": "3094559",
    "end": "3101280"
  },
  {
    "text": "system M I don't think a system like that exists for go so it's a bit more work with go but it's still not that",
    "start": "3101280",
    "end": "3106640"
  },
  {
    "text": "challenging unfortunately don't know enough about the llang VM but I'm going to expect there's probably a pretty easy",
    "start": "3106640",
    "end": "3111920"
  },
  {
    "text": "way of getting traces it exists so like the open Telemetry integration exists in our",
    "start": "3111920",
    "end": "3117160"
  },
  {
    "text": "it's not that mature but it's improving like every every month it's getting better and I think it's more around the",
    "start": "3117160",
    "end": "3125319"
  },
  {
    "text": "queries that go all the way to post SQL so how does the request map to that I mean I know that the database has some",
    "start": "3125319",
    "end": "3131559"
  },
  {
    "text": "impact on that but right now the most important one is between the app pod the",
    "start": "3131559",
    "end": "3137640"
  },
  {
    "text": "app instance and the poster SQL pod which they all exist in the same place",
    "start": "3137640",
    "end": "3143960"
  },
  {
    "text": "now maybe if poster SQL is like a man service we wouldn't have this problem maybe but um regardless what the case",
    "start": "3143960",
    "end": "3151480"
  },
  {
    "text": "would be you'd want to know what is the problem and if I change this does it actually improve it and by how much if",
    "start": "3151480",
    "end": "3157079"
  },
  {
    "text": "you have the trace it's really easy to understand well I should you know what not Q proxy I should focus maybe on the",
    "start": "3157079",
    "end": "3164400"
  },
  {
    "text": "load balancer but I don't know where that request is stuck or like you know in that request which is the longest",
    "start": "3164400",
    "end": "3170079"
  },
  {
    "text": "portion so where should I invest my time first you've hit on the problem or one of the many problems with distributed",
    "start": "3170079",
    "end": "3176160"
  },
  {
    "text": "tracing like uh you have to have the entire stack instrumented to really get",
    "start": "3176160",
    "end": "3181200"
  },
  {
    "text": "a lot of value right and if you have holes in the middle or or black blind spots from a kind of tracing perspective",
    "start": "3181200",
    "end": "3187119"
  },
  {
    "text": "the values greatly diminish yeah you can get tracing information out of load balancers right and I've never actually",
    "start": "3187119",
    "end": "3194280"
  },
  {
    "text": "done it myself though right I've always kind of stopped there I'm hoping that things like open Telemetry and I know",
    "start": "3194280",
    "end": "3199400"
  },
  {
    "text": "Amazon are are heavily investing in open Telemetry so I'm hoping that it will be possible if it isn't already to get open",
    "start": "3199400",
    "end": "3206599"
  },
  {
    "text": "elemetry spans out of my elbs right I think you know my albs and so on I think that's going to be really important I'm",
    "start": "3206599",
    "end": "3213160"
  },
  {
    "text": "hoping that things like the w3c trace context makes this easier and maybe this even allows things like uh the CDN",
    "start": "3213160",
    "end": "3220079"
  },
  {
    "text": "fastly to to also emit a span that would be kind of cool being able to see a CDN and an ALB and your application when it",
    "start": "3220079",
    "end": "3227720"
  },
  {
    "text": "comes to postgress and and MySQL I don't know I'd love to see spans coming out of those systems but I don't really know",
    "start": "3227720",
    "end": "3234280"
  },
  {
    "text": "the status I'm not I'm not really an expert on this side of things a common misconception is that kind of every service emits one and only one span",
    "start": "3234280",
    "end": "3241720"
  },
  {
    "text": "right it doesn't have to you can emit as many spans as you like you probably shouldn't emit too many but you can do whatever you like so one of the things",
    "start": "3241720",
    "end": "3248240"
  },
  {
    "text": "where we do a lot of is kind of client side spans you know whenever we do a request to a database in cortex in",
    "start": "3248240",
    "end": "3255160"
  },
  {
    "text": "pretty much any of the systems I've worked on they'll admit a client sight span and this effectively gives you some",
    "start": "3255160",
    "end": "3261559"
  },
  {
    "text": "insight into the latency that external systems are contributing but it doesn't to even just be two spans right a server",
    "start": "3261559",
    "end": "3268200"
  },
  {
    "text": "span and a client span you know you can put spans in in between you know so we would have spans around cash lookups we",
    "start": "3268200",
    "end": "3275200"
  },
  {
    "text": "will have spans around various kind of areas inside a single service that",
    "start": "3275200",
    "end": "3280520"
  },
  {
    "text": "parallelize right and we'll admit multiple spans and it really helps you understand the flow of the request don't go crazy with it but in general it's",
    "start": "3280520",
    "end": "3287119"
  },
  {
    "text": "possible in your situation because it's a monolith I would instrument The Elixir server and client going out to postgress",
    "start": "3287119",
    "end": "3294040"
  },
  {
    "text": "and that would probably give you enough enough information to know if it's postgress to know if it's the Q proxy or",
    "start": "3294040",
    "end": "3301319"
  },
  {
    "text": "the elb you want to get a span from something further up the chain and then start to look at the differences Ingress",
    "start": "3301319",
    "end": "3307359"
  },
  {
    "text": "engine X does ingress engine X and engine X support spans do you know I don't know off the top of my head like",
    "start": "3307359",
    "end": "3313040"
  },
  {
    "text": "uh one of the things I've definitely seen Engineers go down this this rout hole of trying to get complete traces",
    "start": "3313040",
    "end": "3318599"
  },
  {
    "text": "and spans from everywhere and there's just a kind of um there's a you know effort reward trade-off to be made like",
    "start": "3318599",
    "end": "3325319"
  },
  {
    "text": "it might take a lot of effort to get a complete span from every single service you know if you're on a mobile app like",
    "start": "3325319",
    "end": "3331039"
  },
  {
    "text": "doing a client side span might tell you everything you need to know just you know emitting it from your from your mobile app I understand what you're",
    "start": "3331039",
    "end": "3337319"
  },
  {
    "text": "saying I think on the client side that is less of an issue because the span which is the longest one happens server",
    "start": "3337319",
    "end": "3343480"
  },
  {
    "text": "side where it's like waiting or processing whatever the name may be and",
    "start": "3343480",
    "end": "3348559"
  },
  {
    "text": "that tends to sometimes be really long so what happens inside of that span so",
    "start": "3348559",
    "end": "3354119"
  },
  {
    "text": "we know that it goes to let's say fastly great we can remove that we can go",
    "start": "3354119",
    "end": "3359359"
  },
  {
    "text": "directly to the load balancer okay I don't think there's much we can do about the load balances so let's say we ignore",
    "start": "3359359",
    "end": "3365799"
  },
  {
    "text": "that so our span really starts at possibly the Ingress engine X so that's",
    "start": "3365799",
    "end": "3371960"
  },
  {
    "text": "the first starting point excellent what happens inside Ingress engine X maybe would be interesting I mean this is",
    "start": "3371960",
    "end": "3377640"
  },
  {
    "text": "engine X specifically maybe it would be interesting but the next hop will be into as far as I know this will be the",
    "start": "3377640",
    "end": "3385079"
  },
  {
    "text": "entry point in into kubernetes so that will be the service that's responsible",
    "start": "3385079",
    "end": "3390200"
  },
  {
    "text": "for rooting the traffic I mean that's actually even before the Ingress engine X right it's a service it hits the",
    "start": "3390200",
    "end": "3396760"
  },
  {
    "text": "engine X pod and from the engine X pod it will need to talk to the other service which is the application service",
    "start": "3396760",
    "end": "3404200"
  },
  {
    "text": "so having like these first two three steps in the span would be already",
    "start": "3404200",
    "end": "3410880"
  },
  {
    "text": "helpful but realistically I think we can only start from the kuet side and that's okay so from engine X the next hop would",
    "start": "3410880",
    "end": "3420640"
  },
  {
    "text": "be really the application so how does that span vary and regardless what happens inside doesn't matter how does",
    "start": "3420640",
    "end": "3426200"
  },
  {
    "text": "the that duration change from the application again it has to hit the",
    "start": "3426200",
    "end": "3431400"
  },
  {
    "text": "database and if we know like the timings that it takes that would be enough so we have literally like the three four hops",
    "start": "3431400",
    "end": "3438319"
  },
  {
    "text": "you're really interested in and then there's like the cube proxy so where does that happen and how long does that",
    "start": "3438319",
    "end": "3445000"
  },
  {
    "text": "span take so it's just like okay together maybe seven steps and which is",
    "start": "3445000",
    "end": "3450680"
  },
  {
    "text": "the step which is more variable that's the way I think about it is is that right does this sound right to you with distribut tracing you've always got to",
    "start": "3450680",
    "end": "3456200"
  },
  {
    "text": "kind of see the great thing about it is like being able to visualize the actual flow of the request so so yes like I I'm",
    "start": "3456200",
    "end": "3463280"
  },
  {
    "text": "agreeing with you one of the things I will say is um it's probably not Q proxy my understanding in most deployments is",
    "start": "3463280",
    "end": "3469640"
  },
  {
    "text": "that is not a layer 7 thing right it's done at the TCP level where it doesn't intercept any traffic right so it's not",
    "start": "3469640",
    "end": "3475280"
  },
  {
    "text": "worth putting a or it's not even technically possible I guess to to do a request level span there because it's",
    "start": "3475280",
    "end": "3480839"
  },
  {
    "text": "very connection oriented right you know one of the promises of open Telemetry right because it's so vendor neutral and",
    "start": "3480839",
    "end": "3485960"
  },
  {
    "text": "because it's so open as a standard is that we might even be able to get spans",
    "start": "3485960",
    "end": "3491480"
  },
  {
    "text": "into more established open source projects who who don't want to pick favorites so uh maybe one day we will be",
    "start": "3491480",
    "end": "3496880"
  },
  {
    "text": "able to get spans into postgress and into MySQL maybe it already exists I'll admit to not knowing off the top of my",
    "start": "3496880",
    "end": "3502400"
  },
  {
    "text": "head neither do I but that's really fascinating so this is what I'm thinking first step is let's pair up on what it",
    "start": "3502400",
    "end": "3510960"
  },
  {
    "text": "looks like to do grafana dashboards Tom style I'll call it Tom style I know it",
    "start": "3510960",
    "end": "3516359"
  },
  {
    "text": "isn't but Grizzly style or whatever the point being is the way you you develop them big fan of gith hops big fan of",
    "start": "3516359",
    "end": "3523720"
  },
  {
    "text": "version controlling it we're not using Argo CD yet but I would love to put that in the mix how does that play with the",
    "start": "3523720",
    "end": "3529640"
  },
  {
    "text": "tools that you use how does it integrate with grafana Cloud how can we control those dashboards in a way that is nicer",
    "start": "3529640",
    "end": "3536480"
  },
  {
    "text": "than what we have today and then this specific problem once we have that iteration set up really nicely and those",
    "start": "3536480",
    "end": "3543720"
  },
  {
    "text": "feedback loops set up really nicely so we can experiment which goes back to what you were saying being able to ask",
    "start": "3543720",
    "end": "3549039"
  },
  {
    "text": "interesting questions being able to figure things out right like explore uh which I'm a big fan of right like figure",
    "start": "3549039",
    "end": "3555599"
  },
  {
    "text": "out like we we don't know what the problem is so let's let's figure out so how can we very quickly iterate on solving that specific or like finding",
    "start": "3555599",
    "end": "3563200"
  },
  {
    "text": "that answer and then I think those spans Tempo and integrating with that super",
    "start": "3563200",
    "end": "3569000"
  },
  {
    "text": "valuable long long term I'm expect things to change along the way as the ecosystem matures more libraries are",
    "start": "3569000",
    "end": "3576160"
  },
  {
    "text": "getting instrumented open Telemetry becomes more mature I think that's a great vision and a great direction",
    "start": "3576160",
    "end": "3584039"
  },
  {
    "text": "towards where the industry is going I'm very excited about that as a listener if I had to remember one thing from this",
    "start": "3584039",
    "end": "3591400"
  },
  {
    "text": "conversation what should that be do you think I'd go all the way back to the the early comments about observability and",
    "start": "3591400",
    "end": "3598400"
  },
  {
    "text": "about the Big 10 philosophy and about they not being one siiz fits all tooling I know as a as a vendor here like you",
    "start": "3598400",
    "end": "3605039"
  },
  {
    "text": "know I have a preference for Prometheus and Loki and Tempo but honestly like that's just a preference that's just an",
    "start": "3605039",
    "end": "3610520"
  },
  {
    "text": "opinion like uh an equally valid opinion is to use graphite and and Jer and and",
    "start": "3610520",
    "end": "3616039"
  },
  {
    "text": "elastic right and they're very powerful systems and and it's our kind of mission at grafana labs to allow you to have the",
    "start": "3616039",
    "end": "3623000"
  },
  {
    "text": "same experience the same level of integration and ease of use no matter what your choice of tooling is I love",
    "start": "3623000",
    "end": "3630359"
  },
  {
    "text": "that so if we were to pick one title for this discussion what do you think that should be observability and big tent",
    "start": "3630359",
    "end": "3637400"
  },
  {
    "text": "yeah big tent philosophy big tent philosophy I like that I like that Big T",
    "start": "3637400",
    "end": "3642720"
  },
  {
    "text": "philosophy I'm not sure where the term comes from to be brutally honest I should probably Google it it's like you know I know how a lot of companies have",
    "start": "3642720",
    "end": "3649440"
  },
  {
    "text": "internal mantras right you know Google's mission was to organize the world's information right we are you know the",
    "start": "3649440",
    "end": "3656039"
  },
  {
    "text": "internal manra in graphine Labs is this big tent philosophy we apply everywhere to everything we do who came with the",
    "start": "3656039",
    "end": "3661079"
  },
  {
    "text": "idea with the of the big tent do you know I think I I don't know where the term came from but the idea was very",
    "start": "3661079",
    "end": "3668160"
  },
  {
    "text": "early on in grafana when when tol added support for multiple data sources right and very early on grafana started life",
    "start": "3668160",
    "end": "3675400"
  },
  {
    "text": "visualizing graphite data but very early on support for other systems was at was added right and and it's really that",
    "start": "3675400",
    "end": "3682599"
  },
  {
    "text": "that Vision early on to bring together data from multiple systems in grafana that seeded this this idea so the big",
    "start": "3682599",
    "end": "3689240"
  },
  {
    "text": "tend the way I understand it is bringing all these on say vendor data sources",
    "start": "3689240",
    "end": "3696079"
  },
  {
    "text": "it's more than just data sources right more than just data source because it's data from anywhere and combining it in a single place but building experiences",
    "start": "3696079",
    "end": "3702440"
  },
  {
    "text": "that span multiple systems integrating them in ways that didn't exist before but it's not just a a concept that",
    "start": "3702440",
    "end": "3709240"
  },
  {
    "text": "applies to grafana and and the visualization right we apply on the back end with supporting different query",
    "start": "3709240",
    "end": "3714960"
  },
  {
    "text": "languages within the same um within the same time series database you know we we",
    "start": "3714960",
    "end": "3720039"
  },
  {
    "text": "support it uh in Tempo being able to send traces formatted for joer or",
    "start": "3720039",
    "end": "3725359"
  },
  {
    "text": "formatted for zipin you know and it's kind of intrinsic in a lot of open Telemetry as well being very vendor",
    "start": "3725359",
    "end": "3730599"
  },
  {
    "text": "neutral to a to a to a fault Tom I didn't think this was possible but it happened I have more questions at the",
    "start": "3730599",
    "end": "3737119"
  },
  {
    "text": "end than at the beginning I'm sorry about that and I'm more excited to continue talking with you at the end",
    "start": "3737119",
    "end": "3743200"
  },
  {
    "text": "than I was at the beginning again fight that's not possible I'm really looking forward to um trying",
    "start": "3743200",
    "end": "3748520"
  },
  {
    "text": "the things which I've just said and I'm really looking forward to next time so thank you for today thank you very much",
    "start": "3748520",
    "end": "3756078"
  },
  {
    "text": "K that's it for this episode of shipit thank you for tuning in we have a bunch",
    "start": "3757039",
    "end": "3762359"
  },
  {
    "text": "of podcasts for developers at changelog that you should check out subscribe to the master feed at changel log.com",
    "start": "3762359",
    "end": "3769799"
  },
  {
    "text": "Master to get everything we ship I want to personally invite you to join your",
    "start": "3769799",
    "end": "3775880"
  },
  {
    "text": "fellow Chang loggers at Chang log.com Community it's free to join and stay",
    "start": "3775880",
    "end": "3782240"
  },
  {
    "text": "leaving on the other hand will cost you some happiness credits come hang with us in slack they're no imposters everyone",
    "start": "3782240",
    "end": "3789960"
  },
  {
    "text": "is welcome huge thanks again to our partners fastly launch Darkly and N Out",
    "start": "3789960",
    "end": "3795839"
  },
  {
    "text": "also thanks to break master cylinder for making all our awesome beats that's it",
    "start": "3795839",
    "end": "3801440"
  },
  {
    "text": "for this week see you next week [Music]",
    "start": "3801440",
    "end": "3832920"
  },
  {
    "text": "l",
    "start": "3832920",
    "end": "3835920"
  }
]