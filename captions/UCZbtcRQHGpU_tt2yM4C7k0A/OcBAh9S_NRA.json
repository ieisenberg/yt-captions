[
  {
    "start": "0",
    "end": "18000"
  },
  {
    "text": "all right there we are cool so we have a",
    "start": "320",
    "end": "5759"
  },
  {
    "text": "leonard kubernetes engine 122.7 running it's a fresh install brand new and what",
    "start": "5759",
    "end": "12719"
  },
  {
    "text": "we want to do is install kcert how do we do that nabeel run me through it",
    "start": "12719",
    "end": "18400"
  },
  {
    "start": "18000",
    "end": "37000"
  },
  {
    "text": "okay um well the first thing you need you know you do need to have the sort of the prerequisites you know casert needs",
    "start": "18400",
    "end": "24800"
  },
  {
    "text": "you to have something controlling your ingress right so typically that's going to be you know nginx uh you know the",
    "start": "24800",
    "end": "31199"
  },
  {
    "text": "nginx ingers controller so you're gonna need to install that and and have like a public ip address for",
    "start": "31199",
    "end": "36239"
  },
  {
    "text": "your cluster right so let's go to github casert how about you do that",
    "start": "36239",
    "end": "41760"
  },
  {
    "start": "37000",
    "end": "150000"
  },
  {
    "text": "github casert yeah and then let's look at some baby instructions uh that's it",
    "start": "41760",
    "end": "48800"
  },
  {
    "text": "capsule casert how it works installing case search okay so let's have a look at the deploy right this is the raw one",
    "start": "48800",
    "end": "55360"
  },
  {
    "text": "and this has all the things okay this is a good starting point so let me take this and let me put it we're still in 2021",
    "start": "55360",
    "end": "62480"
  },
  {
    "text": "that was the easiest thing the simplest thing let me take um i know just one of this file",
    "start": "62480",
    "end": "69280"
  },
  {
    "text": "let me do cassert and that's that will wire everything",
    "start": "69280",
    "end": "74400"
  },
  {
    "text": "together let me put manifests let me take again kcert and paste what i had here",
    "start": "74400",
    "end": "82720"
  },
  {
    "text": "and then you also need to wire this together into the make file so let me take it here",
    "start": "82720",
    "end": "88560"
  },
  {
    "text": "and put it just there take a cert all right that's all wired together okay so this is the config that",
    "start": "88560",
    "end": "94960"
  },
  {
    "text": "we'll be customizing to get casert up and running so case per casert namespace service account cluster roll i really",
    "start": "94960",
    "end": "101680"
  },
  {
    "text": "like this by the way being able to see exactly what gets applied cluster role binding role",
    "start": "101680",
    "end": "107759"
  },
  {
    "text": "uh role binding deployment the case or deployment",
    "start": "107759",
    "end": "113600"
  },
  {
    "text": "v1 look at that sweet this gives me confidence okay",
    "start": "113600",
    "end": "119680"
  },
  {
    "text": "what about this one right here what about the acme is this something to be templated",
    "start": "119680",
    "end": "125280"
  },
  {
    "text": "uh yes so those are the three things that you need to set right you need to set the email address that you're going",
    "start": "125280",
    "end": "130319"
  },
  {
    "text": "to be using you know for your let's encrypt registrations um you need to figure out you need to",
    "start": "130319",
    "end": "135360"
  },
  {
    "text": "decide if you're going to tr you know issue you know staging certificates or production certificates like by picking",
    "start": "135360",
    "end": "140800"
  },
  {
    "text": "the you know the api that you're using um right and uh the formality of terms accepted yeah",
    "start": "140800",
    "end": "147120"
  },
  {
    "text": "it's just kind of a it's just kind of uh yeah you need to accept those terms okay yeah",
    "start": "147120",
    "end": "152480"
  },
  {
    "text": "we have cool acme mail okay one thing that may help and this is something which i use",
    "start": "152480",
    "end": "159920"
  },
  {
    "text": "in my template there is n subst quite a bit so what that means is let's take for",
    "start": "159920",
    "end": "165519"
  },
  {
    "text": "example we've seen the grafana agent so what i do i export i set all the things",
    "start": "165519",
    "end": "171280"
  },
  {
    "text": "i keep them in the make file this is one thing which i do and then i run them through nf-subs and then i",
    "start": "171280",
    "end": "176959"
  },
  {
    "text": "take the the file name uh so i take the set it does some",
    "start": "176959",
    "end": "182560"
  },
  {
    "text": "replacement um it's basically this one agent loki there's something that needs to change",
    "start": "182560",
    "end": "188800"
  },
  {
    "text": "there because that's like the default one so what i'm suggesting is if this had for example for the value if it had",
    "start": "188800",
    "end": "196840"
  },
  {
    "text": "acme directory we can do double sided mind then we can template it automatically",
    "start": "196840",
    "end": "202959"
  },
  {
    "text": "without you know needing to come in this file other than just be",
    "start": "202959",
    "end": "208000"
  },
  {
    "text": "aware of it so you're already like preparing it for templating is what i'm saying yeah so",
    "start": "208000",
    "end": "213519"
  },
  {
    "text": "let's let's do that let's let's make this small change which is what i would do um oh sorry not this one oh yeah not the",
    "start": "213519",
    "end": "220640"
  },
  {
    "text": "names yeah yeah email okay so these are all the config values that we need to pass in",
    "start": "220640",
    "end": "226400"
  },
  {
    "text": "cool that sounds good and then the service okay will we still need um something like",
    "start": "226400",
    "end": "233280"
  },
  {
    "start": "230000",
    "end": "296000"
  },
  {
    "text": "ingress nginx with kcert yes you do so so caser doesn't solve like the the",
    "start": "233280",
    "end": "238640"
  },
  {
    "text": "ingress problem it just solves the certificate problem okay so casert is like the replacement to cert manager",
    "start": "238640",
    "end": "246480"
  },
  {
    "text": "to the ingress okay cool okay now i have a question before we go any further yeah",
    "start": "246480",
    "end": "252319"
  },
  {
    "text": "will i have access to the private certificate sorry to the private key",
    "start": "252319",
    "end": "257600"
  },
  {
    "text": "the private key yes it will be uh it will be a secret uh",
    "start": "257600",
    "end": "263520"
  },
  {
    "text": "right set up well actually gosh the thing is i flip-flopped between this so i don't actually i need to double check",
    "start": "263520",
    "end": "268960"
  },
  {
    "text": "this but you know what actually the key i think is generated yeah the key is generated like on",
    "start": "268960",
    "end": "274960"
  },
  {
    "text": "startup and it's just held in memory in k-certs right so so this is the certificate",
    "start": "274960",
    "end": "280720"
  },
  {
    "text": "private part that's the thing which i'm which i'm asking about oh the the private part yeah that does get placed",
    "start": "280720",
    "end": "286639"
  },
  {
    "text": "in the uh in the kubernetes secret right because yeah you have the you have the key and the cert yeah that that gets",
    "start": "286639",
    "end": "292880"
  },
  {
    "text": "placed into the secret when when a certificate's issued yeah okay so one and this is something um",
    "start": "292880",
    "end": "298880"
  },
  {
    "start": "296000",
    "end": "422000"
  },
  {
    "text": "it's you know um specific to our setup but i i i'm yet to see how someone else",
    "start": "298880",
    "end": "304160"
  },
  {
    "text": "does this better and i'm very curious what others do and maybe this will give you some ideas so um",
    "start": "304160",
    "end": "310880"
  },
  {
    "text": "we need to get those certificates on facebook there is an option of letting fastly",
    "start": "310880",
    "end": "316800"
  },
  {
    "text": "manage your certificate so you do the toggle and it's very fastly managed by let's encrypt",
    "start": "316800",
    "end": "322639"
  },
  {
    "text": "but when fastly does that it requires you to add a c name",
    "start": "322639",
    "end": "327759"
  },
  {
    "text": "dns entry that delegates authority to fastly to many certificates",
    "start": "327759",
    "end": "334000"
  },
  {
    "text": "right now yeah you can only have a single cname entry with the same name",
    "start": "334000",
    "end": "339120"
  },
  {
    "text": "it's in the dns spec so if you want to provision certificates yourself",
    "start": "339120",
    "end": "345280"
  },
  {
    "text": "with for example cert manager or casert or anything else you can't",
    "start": "345280",
    "end": "350960"
  },
  {
    "text": "there can be only a single let's encrypt certificate manager",
    "start": "350960",
    "end": "356800"
  },
  {
    "text": "if you're using cname records and this is something like years ago two",
    "start": "356800",
    "end": "362479"
  },
  {
    "text": "years ago i asked fastly hey would it be possible to switch to text records because you can have multiple",
    "start": "362479",
    "end": "369199"
  },
  {
    "text": "text records with the same name it is allowed by the dns spec but not multiple cname entries",
    "start": "369199",
    "end": "375520"
  },
  {
    "text": "and they said no this is how it works it's either fastly because i imagine why right you don't want to have like",
    "start": "375520",
    "end": "381120"
  },
  {
    "text": "multiple providers managing multiple certificates because then you have like a lot of duplication yeah but what this means is that",
    "start": "381120",
    "end": "387440"
  },
  {
    "text": "either fastly has a certificate and by the way we can't get it from fastly we can't get the private key from fastly",
    "start": "387440",
    "end": "393520"
  },
  {
    "text": "but we can get the private key if we manage it ourselves and we say hey fastly don't worry about managing our",
    "start": "393520",
    "end": "399039"
  },
  {
    "text": "certificates we will give you our certificate which is like the old way of doing things but in this",
    "start": "399039",
    "end": "405919"
  },
  {
    "text": "case it's let's encrypt certificates so it's all managed on the kubernetes side and then we then",
    "start": "405919",
    "end": "411280"
  },
  {
    "text": "hand them to wherever we need to take in this case to fastly and this is that integration which is why it's really",
    "start": "411280",
    "end": "416560"
  },
  {
    "text": "important that we have access to the private key because otherwise we can't use our d in our cdn",
    "start": "416560",
    "end": "422720"
  },
  {
    "start": "422000",
    "end": "603000"
  },
  {
    "text": "right right yeah no no you should have the private key it is it is part of like a standard like tls",
    "start": "422720",
    "end": "428400"
  },
  {
    "text": "uh kubernetes secret yeah cool that sounds great to me okay so that was the because that would have",
    "start": "428400",
    "end": "434000"
  },
  {
    "text": "been a deal breaker so i'm glad that this behaves like cert manager in that respect",
    "start": "434000",
    "end": "439039"
  },
  {
    "text": "because that was like one one important feature that we needed cool so now that i showed you that we can go",
    "start": "439039",
    "end": "445440"
  },
  {
    "text": "ahead uh let me wire this together so we have the values which we can now template",
    "start": "445440",
    "end": "450560"
  },
  {
    "text": "so when i go into k cert or skate cert okay this must be like the buffers yeah",
    "start": "450560",
    "end": "458000"
  },
  {
    "text": "i would say like you may want to because the time consuming part is going to be probably going into your dns and",
    "start": "458000",
    "end": "464240"
  },
  {
    "text": "creating like a test like host name you know like a like do you do you actually have a domain that you can like maybe",
    "start": "464240",
    "end": "469919"
  },
  {
    "text": "create a subdomain on and point it to this new cluster yes um the changelog yeah",
    "start": "469919",
    "end": "475680"
  },
  {
    "text": "casert.changelog.com we're doing this live cool yeah yeah like we're taking like a slice of",
    "start": "475680",
    "end": "481520"
  },
  {
    "text": "production and we're doing this live and we'll see all this wire together cool so um we do have external dns um",
    "start": "481520",
    "end": "491360"
  },
  {
    "text": "and do we want to deploy that let me think about that okay we will do it in our current production we have it figured out it's okay we can",
    "start": "491360",
    "end": "497120"
  },
  {
    "text": "do that really easily not a problem okay so um casey gazert so let's take",
    "start": "497120",
    "end": "502720"
  },
  {
    "text": "this as our starting point we don't care about any of this we don't care about the cloning",
    "start": "502720",
    "end": "507919"
  },
  {
    "text": "directory for now let's just do this simple simple thing and take this i don't need to add to the bootstrap",
    "start": "507919",
    "end": "514080"
  },
  {
    "text": "because we're not bootstrapping it so let's take lkekcert we'll need lk ctx we need and subst and",
    "start": "514080",
    "end": "521599"
  },
  {
    "text": "we don't care about that um we could template the namespace but we're not doing that we're using you",
    "start": "521599",
    "end": "526800"
  },
  {
    "text": "know the default one so that's okay so we need the first thing is acme",
    "start": "526800",
    "end": "532080"
  },
  {
    "text": "directory url which we need to set u r l",
    "start": "532080",
    "end": "537600"
  },
  {
    "text": "okay uh i'll just export it here so acme directory url is i'll give it a value",
    "start": "537600",
    "end": "543279"
  },
  {
    "text": "we'll pick one of those so this will be the acme",
    "start": "543279",
    "end": "548480"
  },
  {
    "text": "there so that's one uh we don't need any of these no no no we are good we don't need any setting",
    "start": "548480",
    "end": "556080"
  },
  {
    "text": "this all that we're going to do is cut this file",
    "start": "556080",
    "end": "561120"
  },
  {
    "text": "uh so literally we can't it and then all this stuff gets taken together and put in",
    "start": "561120",
    "end": "567920"
  },
  {
    "text": "end substate it will take all of these so acme directory url the second one is",
    "start": "567920",
    "end": "573040"
  },
  {
    "text": "terms accepted acme terms accepted uh oh it has to be twice okay",
    "start": "573040",
    "end": "581040"
  },
  {
    "text": "yeah it is a double underscore that's kind of a that's a net core standard uh",
    "start": "581040",
    "end": "586080"
  },
  {
    "text": "like like dotnet yeah um because uh normally it uses the colon",
    "start": "586080",
    "end": "591279"
  },
  {
    "text": "separator for uh for like nested you know configuration parameters uh and so for environment",
    "start": "591279",
    "end": "598000"
  },
  {
    "text": "variables it replaces the colon with uh with double underscores okay in case you have single underscores in your variable",
    "start": "598000",
    "end": "603279"
  },
  {
    "start": "603000",
    "end": "673000"
  },
  {
    "text": "names nice and k-cert is written in.net right it is yeah nice okay yeah so it",
    "start": "603279",
    "end": "609360"
  },
  {
    "text": "gets net.net deployed obviously it's just a container image but it's very very nice okay i thought",
    "start": "609360",
    "end": "616959"
  },
  {
    "text": "that and this was like many many years ago i know like whenever.net came out the first few",
    "start": "616959",
    "end": "622240"
  },
  {
    "text": "years you could only run it on windows is that right you couldn't run it on on anything else",
    "start": "622240",
    "end": "627279"
  },
  {
    "text": "yeah but i would say it's probably been a like even more than 10 years that you could run dot net you know applications",
    "start": "627279",
    "end": "633120"
  },
  {
    "text": "on linux through mono you know uh uh so so you could you could literally build",
    "start": "633120",
    "end": "638160"
  },
  {
    "text": "your your dll like your your net application in windows you know even and just take it over to linux and run it",
    "start": "638160",
    "end": "644000"
  },
  {
    "text": "using mono um but now with net core it's it's even more streamlined yeah yeah",
    "start": "644000",
    "end": "649839"
  },
  {
    "text": "i think i think that's the big switches i'm thinking about when did that happen when did.net core entered the scene oh",
    "start": "649839",
    "end": "655040"
  },
  {
    "text": "gosh it's been it's been more than five years definitely probably even longer than that yeah it's been a while yeah yeah so",
    "start": "655040",
    "end": "662640"
  },
  {
    "text": "that's when i stopped checking like this so like i knew initially okay.net so in my mind okay windows only okay not a",
    "start": "662640",
    "end": "668480"
  },
  {
    "text": "problem and then net core came along and then things changed so yeah thank you for connecting that that thought for me",
    "start": "668480",
    "end": "674320"
  },
  {
    "start": "673000",
    "end": "732000"
  },
  {
    "text": "yeah yeah i think you know one of the motivations for writing this as well is just i wanted to experiment with building something kubernetes native",
    "start": "674320",
    "end": "680959"
  },
  {
    "text": "like in.net you know because i just i don't know i don't think it gets enough enough love you know in the in the open",
    "start": "680959",
    "end": "686079"
  },
  {
    "text": "source community i think this is really cool i agree i think this is really really cool mike.net joining this party i like it",
    "start": "686079",
    "end": "693279"
  },
  {
    "text": "uh joining the changelog shippid party i really really like it so yeah okay um email email so the email and",
    "start": "693279",
    "end": "701040"
  },
  {
    "text": "that we're using insert manager so i'm just going to take cert email so yeah that makes sense acme uh",
    "start": "701040",
    "end": "708640"
  },
  {
    "text": "directory url okay we'll fill that in acme terms accept that's already acme email",
    "start": "708640",
    "end": "713680"
  },
  {
    "text": "acme email i all i have to do is do sert email so certain email this is already exposed it's already included so it will",
    "start": "713680",
    "end": "720639"
  },
  {
    "text": "be templated correctly and let me have a look at this directory url what are the two possible values",
    "start": "720639",
    "end": "727760"
  },
  {
    "text": "staging okay let's go for staging certificates right just in case something gets messed up can we do this yeah it's good it's good to try it out",
    "start": "727760",
    "end": "734240"
  },
  {
    "start": "732000",
    "end": "979000"
  },
  {
    "text": "in staging first just to you know make sure you don't hit you know if you have some kind of misconfiguration you won't",
    "start": "734240",
    "end": "740480"
  },
  {
    "text": "like get blocked by let's encrypt you know for like too many errors or something",
    "start": "740480",
    "end": "745680"
  },
  {
    "text": "yeah that's a good one we wouldn't want that so and then we can switch it when we're done so let me copy paste this and then",
    "start": "745680",
    "end": "752560"
  },
  {
    "text": "let me change this to this one all right that will be the production one when we're done so for now we're",
    "start": "752560",
    "end": "758320"
  },
  {
    "text": "doing staging staging",
    "start": "758320",
    "end": "762959"
  },
  {
    "text": "uncommon production command production",
    "start": "763440",
    "end": "768560"
  },
  {
    "text": "when ready cool so we have that let's see if this works let's see if we",
    "start": "768560",
    "end": "774800"
  },
  {
    "text": "can apply this and what is going to happen cool man favorite questions pwd we'll see in the same directory let's load the",
    "start": "774800",
    "end": "781279"
  },
  {
    "text": "end make lk's okay cert let's see what will happen",
    "start": "781279",
    "end": "786399"
  },
  {
    "text": "dry run cubectl 122.5 yeah that makes sense",
    "start": "786399",
    "end": "791920"
  },
  {
    "text": "okay so this is something which we need to fix it it tries to keep the cube ctl in sync",
    "start": "791920",
    "end": "799440"
  },
  {
    "text": "with the major sorry with a minor version of the kubernetes that you deployed oh okay so it's just like the",
    "start": "799440",
    "end": "805839"
  },
  {
    "text": "wiring which is like this make file i like it there's something better coming along but for now this this will do",
    "start": "805839",
    "end": "811920"
  },
  {
    "text": "okay so that will be and i think it's in the nodes there will be a cube ctl here",
    "start": "811920",
    "end": "817600"
  },
  {
    "text": "because it's linked to the linux version clk version okay and if i click here we can see which is",
    "start": "817600",
    "end": "823120"
  },
  {
    "text": "the latest 122 version so that i bump just this digit up 122.8",
    "start": "823120",
    "end": "829279"
  },
  {
    "text": "so three there we go that's done one two into eights and if i run this again",
    "start": "829279",
    "end": "834560"
  },
  {
    "text": "you see it will try to get the latest 1228 keep ctl cool so we have that",
    "start": "834560",
    "end": "839920"
  },
  {
    "text": "um export export export terms accepted true acme email",
    "start": "839920",
    "end": "845360"
  },
  {
    "text": "we cut it okay so that's something which i missed so let me fix that really quick we want manifest's casert the file that",
    "start": "845360",
    "end": "853199"
  },
  {
    "text": "we just wrote insert okay",
    "start": "853199",
    "end": "858160"
  },
  {
    "text": "cert and then it runs and if subs and then he does the cube ctl okay that looks good",
    "start": "859360",
    "end": "864720"
  },
  {
    "text": "to me let's see what happens cube ctl downloads it gets it acme email",
    "start": "864720",
    "end": "870720"
  },
  {
    "text": "not set okay so that's so that's okay because endstop has not applied it that was i did the typo and",
    "start": "870720",
    "end": "876800"
  },
  {
    "text": "that's why it says ends up state safe sorry it will complain and it will not work if you are missing",
    "start": "876800",
    "end": "883360"
  },
  {
    "text": "one of the required values so what we want to do is go back into",
    "start": "883360",
    "end": "888399"
  },
  {
    "text": "k30ml which is this one and there's somewhere email where i messed it up see",
    "start": "888399",
    "end": "893440"
  },
  {
    "text": "i didn't do an underscore there we go cool so let's run it again",
    "start": "893440",
    "end": "899040"
  },
  {
    "text": "create it create it created look at that error creating standard in oh",
    "start": "899040",
    "end": "905360"
  },
  {
    "text": "oh it does need that's right true is that's a boolean and you need it needs",
    "start": "905360",
    "end": "910399"
  },
  {
    "text": "to be a string true so it needs to be between double quotes yeah okay okay okay",
    "start": "910399",
    "end": "916000"
  },
  {
    "text": "so i'm wondering if we can define it okay so let's see if we can define it on this",
    "start": "916000",
    "end": "921519"
  },
  {
    "text": "side rather you can just put it you can put double quotes around your template and and that will be fine yeah i could",
    "start": "921519",
    "end": "927760"
  },
  {
    "text": "but it looks slightly different from the others this is yaml right yaml again missing okay so this is not going to work for sure",
    "start": "927760",
    "end": "933519"
  },
  {
    "text": "okay you're right we will need to do that what you just suggested so uh acme terms accepted this needs to be a true",
    "start": "933519",
    "end": "940639"
  },
  {
    "text": "string cool yaml love hate yeah or go i don't know whose fault this",
    "start": "940639",
    "end": "947600"
  },
  {
    "text": "is right like um it is yaml oh yeah it is definitely ammo yeah i mean",
    "start": "947600",
    "end": "954079"
  },
  {
    "text": "because yeah it's anyways you know i mean because i guess you know",
    "start": "954079",
    "end": "959600"
  },
  {
    "text": "you know in in in go it's a dictionary of string string right and so it doesn't accept the boolean you know value that's",
    "start": "959600",
    "end": "966000"
  },
  {
    "text": "there that's a good point yeah you're right okay so k search is there so if we",
    "start": "966000",
    "end": "971600"
  },
  {
    "text": "describe it it's all there um it's running let's look at the logs event id",
    "start": "971600",
    "end": "977440"
  },
  {
    "text": "sleeping for six hours yeah so every six hours it wakes up and checks if anything",
    "start": "977440",
    "end": "982800"
  },
  {
    "start": "979000",
    "end": "1137000"
  },
  {
    "text": "needs to be renewed and renews it yeah okay so that means that if it needs to",
    "start": "982800",
    "end": "990880"
  },
  {
    "text": "create a certificate it won't sleep for six hours this is just for renewals right yeah yeah",
    "start": "990880",
    "end": "996800"
  },
  {
    "text": "creating certificates is instantaneous so it will it will watch for changes in ingresses so so if you create a new",
    "start": "996800",
    "end": "1002399"
  },
  {
    "text": "ingress or modify in ingress it'll check if any new certificates need to be created uh you know based on that but",
    "start": "1002399",
    "end": "1008800"
  },
  {
    "text": "also it will just periodically you know see if any certificates go below that um",
    "start": "1008800",
    "end": "1014480"
  },
  {
    "text": "30-day threshold right for for being renewed yeah okay okay yeah that makes sense what is this now listening",
    "start": "1014480",
    "end": "1021600"
  },
  {
    "text": "on 80 this is interesting is this what i think it is now listening on 80 oh that's the so",
    "start": "1021600",
    "end": "1028959"
  },
  {
    "text": "that is there are two things that it does on port 80. uh one is it receives those acme challenges",
    "start": "1028959",
    "end": "1035839"
  },
  {
    "text": "right the the http challenges but also there is a um there's a dashboard uh",
    "start": "1035839",
    "end": "1041839"
  },
  {
    "text": "that you can open up right now and and look at it like just a graphical you know web web ui that you can open up",
    "start": "1041839",
    "end": "1048160"
  },
  {
    "text": "yeah so if you port forward exactly yeah so let's go 8080",
    "start": "1048160",
    "end": "1053280"
  },
  {
    "text": "localhost 8080 nice",
    "start": "1053280",
    "end": "1058960"
  },
  {
    "text": "that's it so it once you start having certificates it will show you a list of certificates it'll show you the list of",
    "start": "1058960",
    "end": "1064240"
  },
  {
    "text": "ingresses that it's managing as well and then there's like it'll show you like your configurations and things like",
    "start": "1064240",
    "end": "1070000"
  },
  {
    "text": "that too that's very nice so you can you can make sure that you know you got the right value in there and like things like that",
    "start": "1070000",
    "end": "1077039"
  },
  {
    "text": "i really like this this is like i would call this like an attention to detail which is so useful to have",
    "start": "1077039",
    "end": "1083039"
  },
  {
    "text": "because it's just easy to click around now you wouldn't want to configure anything by ui i mean",
    "start": "1083039",
    "end": "1088480"
  },
  {
    "text": "you may need to but ideally no you like using the api but having this is like another layer 2022",
    "start": "1088480",
    "end": "1097280"
  },
  {
    "text": "yeah or or a range uh okay so there's like there's like one thing right there i",
    "start": "1097280",
    "end": "1103120"
  },
  {
    "text": "take a screenshot and i remind me to maybe mention this cool okay um so we have it",
    "start": "1103120",
    "end": "1111120"
  },
  {
    "text": "up and running initially i i will say this like initially my initial design for this",
    "start": "1111120",
    "end": "1116160"
  },
  {
    "text": "like that dashboard was how you configured things like you would go in and click like add host and it would",
    "start": "1116160",
    "end": "1121520"
  },
  {
    "text": "like let you add like a certificate that way um but but i think then then i you know when i came to like release v1 i",
    "start": "1121520",
    "end": "1128000"
  },
  {
    "text": "realized probably most people don't really want to do it that way like you know you're going to want to do things you know in in with coop cuddle and and",
    "start": "1128000",
    "end": "1134960"
  },
  {
    "text": "yaml files and like or whatever else you're using yeah definitely so let me ask you something",
    "start": "1134960",
    "end": "1140480"
  },
  {
    "text": "can you create certificates via a crd or is it only via ingress it right now",
    "start": "1140480",
    "end": "1147200"
  },
  {
    "text": "it is only via ingress and that was intentional um i",
    "start": "1147200",
    "end": "1152799"
  },
  {
    "text": "i love the idea of crds and kubernetes i think they're they're really exciting and they give you a lot of flexibility",
    "start": "1152799",
    "end": "1158799"
  },
  {
    "text": "and interesting things to do but like i don't think you really should",
    "start": "1158799",
    "end": "1164559"
  },
  {
    "text": "have them for for certificates because you already have the secret object you already have",
    "start": "1164559",
    "end": "1170000"
  },
  {
    "text": "the ingress object all the data you need is is can be encoded in those objects so why introduce some kind of new type yeah",
    "start": "1170000",
    "end": "1177280"
  },
  {
    "text": "okay let me tell you why okay when we started our journey uh with",
    "start": "1177280",
    "end": "1182320"
  },
  {
    "text": "kubernetes like this was maybe a year ago two years ago i forget it was like at least a year ago",
    "start": "1182320",
    "end": "1188400"
  },
  {
    "text": "we used to use ingresses yeah and one using ingress that's also",
    "start": "1188400",
    "end": "1194080"
  },
  {
    "text": "hooked up to external dns still try and create those dns entries",
    "start": "1194080",
    "end": "1199200"
  },
  {
    "text": "for you what happens when you switch to a cdn what happens",
    "start": "1199200",
    "end": "1204799"
  },
  {
    "text": "when you used to have dns entries that it used to be linked to an ingress",
    "start": "1204799",
    "end": "1210559"
  },
  {
    "text": "but now it's linked to um a cdn",
    "start": "1210559",
    "end": "1216000"
  },
  {
    "text": "yeah so we switched those ingresses we had like our ingresses are now",
    "start": "1216000",
    "end": "1221280"
  },
  {
    "text": "like date specific and those are our origins so for example 2022 march",
    "start": "1221280",
    "end": "1227440"
  },
  {
    "text": "whatever that's like when that in when that endpoint goes into service it's an origin and that origin we put it in our",
    "start": "1227440",
    "end": "1233760"
  },
  {
    "text": "cdn okay we still want to provision a certificate",
    "start": "1233760",
    "end": "1239120"
  },
  {
    "text": "that we get to use on the cdn via our cert manager but we don't have an ingress",
    "start": "1239120",
    "end": "1245360"
  },
  {
    "text": "so if we create an ingress then we need to tell external dns to ignore that ingress",
    "start": "1245360",
    "end": "1252080"
  },
  {
    "text": "so then things start getting very complicated around i want all i want is a cert but i can't",
    "start": "1252080",
    "end": "1258080"
  },
  {
    "text": "have a cert unless i created ingress but i don't want an ingress i want to assert so",
    "start": "1258080",
    "end": "1263600"
  },
  {
    "text": "with that in mind we decoupled the search creation from ingress creation um now this may be only us",
    "start": "1263600",
    "end": "1270640"
  },
  {
    "text": "but um i'm sure that you can start seeing like the this layering of concepts right like",
    "start": "1270640",
    "end": "1276400"
  },
  {
    "text": "why is my ingress because if it's an ingress it means it forces you to create an ingress to get a certificate but",
    "start": "1276400",
    "end": "1282000"
  },
  {
    "text": "that's not what i want i want a certificate and keeping those two concerns decoupled",
    "start": "1282000",
    "end": "1287440"
  },
  {
    "text": "helps or at least having the option of decoupling them now it can work while ingress like for simplicity most people",
    "start": "1287440",
    "end": "1294240"
  },
  {
    "text": "i'm sure will do that but some people say you know what all i want is a certificate and the fact that",
    "start": "1294240",
    "end": "1299520"
  },
  {
    "text": "it's coupled to an ingress that just adds extra complexity and like cognitive overhead which may be simple but you see",
    "start": "1299520",
    "end": "1306400"
  },
  {
    "text": "it's like that magic things just work create an ingress and everything will just work yeah great",
    "start": "1306400",
    "end": "1312400"
  },
  {
    "text": "idea but when stuff goes wrong and it will go wrong so why didn't i get a certificate was",
    "start": "1312400",
    "end": "1318880"
  },
  {
    "text": "because of the ingress was because of the dns was it which happened to us a couple of times yeah which is what",
    "start": "1318880",
    "end": "1324000"
  },
  {
    "text": "another reason why i decoupled ingress creation from certificate creation i i like this i like this actually it's",
    "start": "1324000",
    "end": "1330400"
  },
  {
    "start": "1327000",
    "end": "1420000"
  },
  {
    "text": "funny because before like before v1 basically you you were just manually creating you know",
    "start": "1330400",
    "end": "1336640"
  },
  {
    "text": "certificates and it didn't really look at ingresses at all like you know uh but i but then i felt like that gave you an",
    "start": "1336640",
    "end": "1342400"
  },
  {
    "text": "opportunity to misconfigure like right what if you what if you put like the wrong certain name in your ingress you",
    "start": "1342400",
    "end": "1348159"
  },
  {
    "text": "know and then you create like a like a certificate with a different name now i i still think there's really no",
    "start": "1348159",
    "end": "1354720"
  },
  {
    "text": "need for a crd right we do i think i agree with you there should be a way to create certificates without creating an",
    "start": "1354720",
    "end": "1361440"
  },
  {
    "text": "ingress but i don't think you really need a crd because technically okay once you've got",
    "start": "1361440",
    "end": "1366720"
  },
  {
    "text": "that secret created that's actually all casert needs to perpetually renew that",
    "start": "1366720",
    "end": "1373679"
  },
  {
    "text": "certificate you know over and over like um so so we just need to figure out what would be a good way to tell it to create",
    "start": "1373679",
    "end": "1381600"
  },
  {
    "text": "you know a new certificate like outside of an ingress yeah like like you know i used to do it",
    "start": "1381600",
    "end": "1386880"
  },
  {
    "text": "literally graphically right you it asks you what what secret name do you want like what's the list of hosts and it",
    "start": "1386880",
    "end": "1392000"
  },
  {
    "text": "would just issue it that's that's basically all the information you need to give it to to create a cert",
    "start": "1392000",
    "end": "1397120"
  },
  {
    "text": "uh we just need to figure out a way to do it that's like not in a web ui i agree i agree yeah something yeah i mean",
    "start": "1397120",
    "end": "1403200"
  },
  {
    "text": "crds it's okay if like all i care about i care away a declarative way of",
    "start": "1403200",
    "end": "1408400"
  },
  {
    "text": "specifying i want to assert and it will make it happen yeah you know i'm thinking a config map could be used",
    "start": "1408400",
    "end": "1414240"
  },
  {
    "text": "for that actually yeah that works yeah i don't mind anything you know the simplest thing yeah i mean i i really i",
    "start": "1414240",
    "end": "1421919"
  },
  {
    "start": "1420000",
    "end": "1829000"
  },
  {
    "text": "want to find an excuse one day to use crds right but i don't want i don't think it's actually the right model for",
    "start": "1421919",
    "end": "1428159"
  },
  {
    "text": "this yeah do the simplest thing and yeah maybe that is not the simplest thing cool so in the interest of moving along",
    "start": "1428159",
    "end": "1434480"
  },
  {
    "text": "we have k-cert installed we don't have ingress engine x so let's see if we can get ingress engine x running really",
    "start": "1434480",
    "end": "1439679"
  },
  {
    "text": "quickly now this used to work until recently so even though it's an older version of ingress engine x329",
    "start": "1439679",
    "end": "1446240"
  },
  {
    "text": "i expect this will work that's what i expect to happen so let's see if it'll if it's still a case make",
    "start": "1446240",
    "end": "1452400"
  },
  {
    "text": "lke ingress engine x that's all i need to do and it should create everything for us",
    "start": "1452400",
    "end": "1460880"
  },
  {
    "text": "so let's see cool so this is all setting up we can see crash loop back off i don't know why it's doing that",
    "start": "1460880",
    "end": "1467039"
  },
  {
    "text": "it's possible it's possible this is 122 and things have not moved along ingress",
    "start": "1467039",
    "end": "1472559"
  },
  {
    "text": "failed could not find the request fatal web hook fail this may not work this might not",
    "start": "1472559",
    "end": "1479840"
  },
  {
    "text": "work using the in cluster config okay um right and it keeps failing so i think",
    "start": "1479840",
    "end": "1487039"
  },
  {
    "text": "this is ingress engine x not being updated for 122 right so what i'm going",
    "start": "1487039",
    "end": "1492400"
  },
  {
    "text": "to do i think in here we do have ingress engine x and this is the updated one so let me very quickly switch it across so",
    "start": "1492400",
    "end": "1499200"
  },
  {
    "text": "i think i'm going to ctrl c this i'm going to run kcmd delete and let's see if it will",
    "start": "1499200",
    "end": "1505039"
  },
  {
    "text": "clean it up it should but yeah no that's not going to work uh okay so if it's helm that's okay so",
    "start": "1505039",
    "end": "1512400"
  },
  {
    "text": "let's go to helm and let's see if we can delete it delete and i expect this will clean",
    "start": "1512400",
    "end": "1518000"
  },
  {
    "text": "things up but not always so it may not work okay let's go back to pods now eventually they should be cleaned up in",
    "start": "1518000",
    "end": "1524480"
  },
  {
    "text": "the meantime let's figure out how to do this so let's do this you know what uh i",
    "start": "1524480",
    "end": "1529760"
  },
  {
    "text": "think i can take all of this can i take all of this",
    "start": "1529760",
    "end": "1534799"
  },
  {
    "text": "there is a yaml file that you can just take off of like you know engine ingred you know ingress you know uh like after",
    "start": "1535760",
    "end": "1542159"
  },
  {
    "text": "official website you know to to install it right but this is tested on when 122 is",
    "start": "1542159",
    "end": "1547440"
  },
  {
    "text": "what i'm saying on the right hand side and i know this will work so what i'm thinking is yeah let me let me",
    "start": "1547440",
    "end": "1553600"
  },
  {
    "text": "delete this one delete let me write this one as 2021",
    "start": "1553600",
    "end": "1559039"
  },
  {
    "text": "ingress engine xmk okay that's all wired now what i want to do is look at the",
    "start": "1559039",
    "end": "1564640"
  },
  {
    "text": "manifests no manifests ingress engine x config nginx controller",
    "start": "1564640",
    "end": "1570640"
  },
  {
    "text": "uh do we care about this now this is just specific to what we need okay i think this will be fine we",
    "start": "1570640",
    "end": "1577039"
  },
  {
    "text": "don't need to apply this so what that means is that okay let me go back to 2021",
    "start": "1577039",
    "end": "1582250"
  },
  {
    "text": "[Music] you know what let's just go for the tried and tested way yeah let's do that",
    "start": "1582250",
    "end": "1587840"
  },
  {
    "text": "let's go for yeah because i know that will work okay so left to right",
    "start": "1587840",
    "end": "1594080"
  },
  {
    "text": "left is 22 manifests engine x",
    "start": "1594080",
    "end": "1599360"
  },
  {
    "text": "okay so that's our second 20 minutes you wish we had more time i really do",
    "start": "1599360",
    "end": "1604799"
  },
  {
    "text": "left to right uh ingress engine x manifests uh ingress engine x okay so that's",
    "start": "1604799",
    "end": "1610720"
  },
  {
    "text": "i think that's the same is it the same looks like the same with this diff this",
    "start": "1610720",
    "end": "1616480"
  },
  {
    "text": "no no no did this yeah it's the same okay so nothing changed so diff off",
    "start": "1616480",
    "end": "1622480"
  },
  {
    "text": "if off all right that's okay all right so the problem is this will not delete it because it's like in this",
    "start": "1622480",
    "end": "1628480"
  },
  {
    "text": "weird failing state so let us go to what is this this is part",
    "start": "1628480",
    "end": "1633520"
  },
  {
    "text": "of a deployment i'm assuming controlled by job okay so it's a job so let's go to",
    "start": "1633520",
    "end": "1638799"
  },
  {
    "text": "jobs delete the name space and get rid of everything right code but that's usually",
    "start": "1638799",
    "end": "1644799"
  },
  {
    "text": "slower oh yes yeah yeah it's definitely slower so there's like a couple of things and",
    "start": "1644799",
    "end": "1649919"
  },
  {
    "text": "if it's in a failed state it will trigger the weight the very long wait period okay so this is part of a",
    "start": "1649919",
    "end": "1657120"
  },
  {
    "text": "demon set yeah that's what i thought so let's study this one uh okay and that will clean things up",
    "start": "1657120",
    "end": "1662960"
  },
  {
    "text": "there will be an ingress which we want to delete oh it hasn't even created it yet so yeah",
    "start": "1662960",
    "end": "1668080"
  },
  {
    "text": "that we don't have to worry about that okay so now let's go to the namespaces enable tti what happened there okay namespace i",
    "start": "1668080",
    "end": "1676960"
  },
  {
    "text": "want to delete ingress engine x namespace okay and now we can clean it up now it should be quick because we deleted all the things that we know are",
    "start": "1676960",
    "end": "1682960"
  },
  {
    "text": "in a failed state so let's see how long it takes so terminating",
    "start": "1682960",
    "end": "1688720"
  },
  {
    "text": "yeah it has like finalizers sometimes the finalizers can't finalize they have to patch it it's just a pain okay but",
    "start": "1688720",
    "end": "1695919"
  },
  {
    "text": "apparently that works so that's okay we're good okay so let's try again make",
    "start": "1695919",
    "end": "1701039"
  },
  {
    "text": "lk ingerston genex we updated it let's just verify uh 2021. we just changed the version is",
    "start": "1701039",
    "end": "1708399"
  },
  {
    "text": "that it okay well that's great that's the only change sure",
    "start": "1708399",
    "end": "1713760"
  },
  {
    "text": "cloning cloning okay that must be it this i know that's at",
    "start": "1713760",
    "end": "1720000"
  },
  {
    "text": "122 there was like a change a big change or 123 one or the other and then this was working on 120",
    "start": "1720000",
    "end": "1727520"
  },
  {
    "text": "and i think this is for 122 i think anyways we'll see i mean i know this",
    "start": "1727520",
    "end": "1732880"
  },
  {
    "text": "works because we have we are using this in our production cluster",
    "start": "1732880",
    "end": "1739360"
  },
  {
    "text": "okay so pods mission crease so that's completed cool",
    "start": "1739360",
    "end": "1745600"
  },
  {
    "text": "see the service i guess to see the public ip address uh i'm still waiting for the pods to be",
    "start": "1745600",
    "end": "1750640"
  },
  {
    "text": "created it's somewhat here all right ingress okay now that we have the controller okay that's good",
    "start": "1750640",
    "end": "1757120"
  },
  {
    "text": "now we have this which was failing the mission patch that worked oh yeah okay",
    "start": "1757120",
    "end": "1763039"
  },
  {
    "text": "uh the controller is container creating the control is running now let's have a look at the ingresses",
    "start": "1763039",
    "end": "1770240"
  },
  {
    "text": "this will take a while to be created but the container has to be created first i think wait will you get any ingresses from uh",
    "start": "1770240",
    "end": "1777840"
  },
  {
    "text": "from a fresh install you may be right you may be right because because yeah i",
    "start": "1777840",
    "end": "1782880"
  },
  {
    "text": "think you have to create them yourself for whatever you're routing yeah i think you're right yeah i think you're right you won't get an ingress you're right by",
    "start": "1782880",
    "end": "1788720"
  },
  {
    "text": "default okay so but everything is running everything is healthy so this is good cool so we have ingress engine x we have",
    "start": "1788720",
    "end": "1795279"
  },
  {
    "text": "k-series installed what do we need to do next uh next you need uh you need a host that",
    "start": "1795279",
    "end": "1802080"
  },
  {
    "text": "you want to create a certificate for okay a host that i want to create a certificate for it does it just need to",
    "start": "1802080",
    "end": "1807440"
  },
  {
    "text": "point to where to this it should point to this cluster yeah so so like i usually just use like a you",
    "start": "1807440",
    "end": "1815120"
  },
  {
    "text": "know an a host you know an a like an a yeah yeah i can a record yeah okay that makes sense",
    "start": "1815120",
    "end": "1821039"
  },
  {
    "text": "now i think we need to create an ingress first so that we can get the ip address",
    "start": "1821039",
    "end": "1827279"
  },
  {
    "text": "so that we know what to create the a record for so that's where you can just look up the service like the the the ingress nginx",
    "start": "1827279",
    "end": "1834960"
  },
  {
    "start": "1829000",
    "end": "2275000"
  },
  {
    "text": "service actually do you even have a public ip address to your cluster that would be that",
    "start": "1834960",
    "end": "1840399"
  },
  {
    "text": "there is what i was thinking i was thinking ingress i was thinking service that's what i was waiting for yeah that's what you did here yeah okay so we",
    "start": "1840399",
    "end": "1846399"
  },
  {
    "text": "have that so that's what we need okay cool so with that let's go back to our",
    "start": "1846399",
    "end": "1851440"
  },
  {
    "text": "2022 cluster which has the external dns running let's go to manifests let's go",
    "start": "1851440",
    "end": "1857279"
  },
  {
    "text": "to changelog let's go to dns so there's dns and there are",
    "start": "1857279",
    "end": "1864399"
  },
  {
    "text": "uh the certificates where the certificates let me think uh",
    "start": "1864399",
    "end": "1869919"
  },
  {
    "text": "cert manager oh gosh why do we have the certificates well you don't really need the certificates do you",
    "start": "1869919",
    "end": "1875279"
  },
  {
    "text": "no no i'm just one like for myself i'm just wondering where do we declare the certificates okay change log lb",
    "start": "1875279",
    "end": "1882240"
  },
  {
    "text": "okay because you have the ingress and oh",
    "start": "1882240",
    "end": "1888720"
  },
  {
    "text": "okay host secret name [Music]",
    "start": "1890840",
    "end": "1896000"
  },
  {
    "text": "okay look if you're using cert manager like yeah you're you're also declaring it through ingress i am yeah",
    "start": "1896000",
    "end": "1902960"
  },
  {
    "text": "except except this one except this oh so this is the one which is special the",
    "start": "1902960",
    "end": "1909039"
  },
  {
    "text": "wild card and this wild card gets declared down here okay so this is jogging my memory so this is the one",
    "start": "1909039",
    "end": "1914880"
  },
  {
    "text": "certificate which you are declaring this way all the others were declining via ingress because that is the simplest",
    "start": "1914880",
    "end": "1921120"
  },
  {
    "text": "thing so we're using both approaches there we go okay so this clarifies it",
    "start": "1921120",
    "end": "1926159"
  },
  {
    "text": "okay so this is where we declare the certificates this is where we declare the dns so what we want we want a new a",
    "start": "1926159",
    "end": "1932880"
  },
  {
    "text": "record so let's take this one api version to okay",
    "start": "1932880",
    "end": "1938080"
  },
  {
    "text": "let's take this one let's go to the very end let's drop it in here external dns",
    "start": "1938080",
    "end": "1944320"
  },
  {
    "text": "let's call this kcert casert let's give it a date so it's 20 22",
    "start": "1944320",
    "end": "1950799"
  },
  {
    "text": "18 um sorry oh three oh three oh wow american order yeah has to it's just the only one that",
    "start": "1950799",
    "end": "1957679"
  },
  {
    "text": "makes sense year month uh day it should it always has to be",
    "start": "1957679",
    "end": "1962880"
  },
  {
    "text": "descending yeah okay so uh that's name uh case cert 2022",
    "start": "1962880",
    "end": "1968880"
  },
  {
    "text": "0318. now for the actual um targets",
    "start": "1968880",
    "end": "1974960"
  },
  {
    "text": "we need to get this one so we're going to just copy paste it there we go cool so now what we need to do now we are in",
    "start": "1974960",
    "end": "1981919"
  },
  {
    "text": "2022 we will load the end and now we do lke",
    "start": "1981919",
    "end": "1988960"
  },
  {
    "text": "change changelog dns which will do this which will apply the file and yes we do a cat see which will",
    "start": "1988960",
    "end": "1996320"
  },
  {
    "text": "apply file which we just edited so if i run this command",
    "start": "1996320",
    "end": "2003240"
  },
  {
    "text": "there we go create it make canines so the new clusters here our casert cluster",
    "start": "2005039",
    "end": "2010559"
  },
  {
    "text": "this is the our production cluster let's go to uh we're looking for dns endpoint",
    "start": "2010559",
    "end": "2017200"
  },
  {
    "text": "and there will be new one this one 12 seconds ago nice that was created cool and it's",
    "start": "2017200",
    "end": "2022720"
  },
  {
    "text": "pointing to that ip address so with that done let's check that it's working as it should",
    "start": "2022720",
    "end": "2029519"
  },
  {
    "text": "not yet all right uh so it hasn't been created yet okay that means that that is the",
    "start": "2029519",
    "end": "2036640"
  },
  {
    "text": "external dns right it's running on loop when it's running every minute so maybe didn't get the chance to run it yet",
    "start": "2036640",
    "end": "2043679"
  },
  {
    "text": "all right let's go to pods let's go to external dns logs and let's filter by um",
    "start": "2043679",
    "end": "2052800"
  },
  {
    "text": "yeah there you go it was just created now cool so we have it",
    "start": "2052800",
    "end": "2057839"
  },
  {
    "text": "okay so we have that so let's do a dig okay this is cached so let's go to eight",
    "start": "2057839",
    "end": "2063839"
  },
  {
    "text": "eight eight eight yeah there we go so the google dns has",
    "start": "2063839",
    "end": "2068878"
  },
  {
    "text": "it but my internal dns doesn't have it yet but it will do because of the caching",
    "start": "2068879",
    "end": "2074240"
  },
  {
    "text": "yeah okay so that's all good so the dns entry exists what do we do next just need to create",
    "start": "2074240",
    "end": "2080240"
  },
  {
    "text": "the ingress we just need to create the ingress okay yeah um i'll take an ingress from here as an",
    "start": "2080240",
    "end": "2086000"
  },
  {
    "text": "example let's go back to 2021 no i do i remember i wonder if my docs",
    "start": "2086000",
    "end": "2092398"
  },
  {
    "text": "have an ingress like already in them i think it might okay i'm going to have k i think i'm",
    "start": "2092399",
    "end": "2098640"
  },
  {
    "text": "just going to append it here to k cert i'm just going to copy one and paste it and that's the easiest thing yeah so",
    "start": "2098640",
    "end": "2104000"
  },
  {
    "text": "let's see where do we have an ingress that's the pod it's deployment no it's lb sorry it's lb",
    "start": "2104000",
    "end": "2110480"
  },
  {
    "text": "ingress there okay so let's take one of these okay but we'll need an example for an ingress",
    "start": "2110480",
    "end": "2116960"
  },
  {
    "text": "right i i have a minimal one on my yeah on my github account like on the on the github there's a in the docs there's",
    "start": "2116960",
    "end": "2123599"
  },
  {
    "text": "a there's a minimal ingress uh example if you just keep going a little further down yeah because the thing that you",
    "start": "2123599",
    "end": "2130000"
  },
  {
    "text": "really need for k-cert is that annotation right that's uh there uh or the label actually this one yeah because",
    "start": "2130000",
    "end": "2137040"
  },
  {
    "text": "it it will only it will only work with it you know so so that you know you can gradually bring k-cert into your cluster",
    "start": "2137040",
    "end": "2143040"
  },
  {
    "text": "if you're already using cert manager you can just label it when you want casert to manage it",
    "start": "2143040",
    "end": "2148640"
  },
  {
    "text": "yeah that makes sense okay so i copied it and let me think what is the i'll just",
    "start": "2148640",
    "end": "2154480"
  },
  {
    "text": "drop it in here it's okay i'll just put it on here ingress name",
    "start": "2154480",
    "end": "2160560"
  },
  {
    "text": "caser 2022 or 318 uh managed yes yes yes hosts yeah",
    "start": "2160560",
    "end": "2168480"
  },
  {
    "text": "cassert 2022.03 18 18",
    "start": "2168480",
    "end": "2175520"
  },
  {
    "text": "single one secret name same thing caser 202203t",
    "start": "2175839",
    "end": "2182000"
  },
  {
    "text": "uh and host okay so now we have to introduce it",
    "start": "2182000",
    "end": "2187599"
  },
  {
    "text": "again we just copy paste it there boom done okay prefix",
    "start": "2187599",
    "end": "2194640"
  },
  {
    "text": "service hello world oh yeah you will need like a service to",
    "start": "2194640",
    "end": "2199920"
  },
  {
    "text": "you know to show like what are what are you going to route your requests to yeah so how how can i where how can i create",
    "start": "2199920",
    "end": "2206560"
  },
  {
    "text": "a service do you have an example for a service i don't um you know your service could be something",
    "start": "2206560",
    "end": "2212640"
  },
  {
    "text": "oh gosh what are we going to do yeah on this since there's nothing here that would be great to have it here so that i can just copy it",
    "start": "2212640",
    "end": "2219520"
  },
  {
    "text": "you could you could deploy like a a very simple like service to just nginx right and you'd get like the nginx like",
    "start": "2219520",
    "end": "2226079"
  },
  {
    "text": "default you know welcome page like if you if you wanted to do that yeah okay but i still have to create a",
    "start": "2226079",
    "end": "2231920"
  },
  {
    "text": "deployment right yeah okay a service and a deployment yeah kubernetes hello world hello world",
    "start": "2231920",
    "end": "2238800"
  },
  {
    "text": "deployment there must be some example i can use i mean everything that we have is so complicated",
    "start": "2238800",
    "end": "2244960"
  },
  {
    "text": "yeah you know you can you can copy paste if you just want to do that you can copy paste the the service and deployment from my",
    "start": "2244960",
    "end": "2251920"
  },
  {
    "text": "template um okay that's probably enough too okay you're servicing your deployment",
    "start": "2251920",
    "end": "2257440"
  },
  {
    "text": "from your template okay so here's the service so so the big yeah you can there's a service you can create like a a service",
    "start": "2257440",
    "end": "2264160"
  },
  {
    "text": "based on that crazy and then yeah crazy idea can we use the k-cert deployment",
    "start": "2264160",
    "end": "2271359"
  },
  {
    "text": "oh gosh yes you can yeah you can so then then you'll see like the case dashboard on your you know like on there yeah",
    "start": "2271359",
    "end": "2277839"
  },
  {
    "text": "that's exactly that's great okay so k cert and we're done uh you'll need to put the namespace you",
    "start": "2277839",
    "end": "2283920"
  },
  {
    "text": "need to create the ingress in the uh in the case namespace yeah which should be fine",
    "start": "2283920",
    "end": "2289359"
  },
  {
    "text": "uh metadata name namespace casert",
    "start": "2289359",
    "end": "2295200"
  },
  {
    "text": "all right yeah that should be fine yeah okay make lkk cert we should see a new ingress",
    "start": "2295200",
    "end": "2302640"
  },
  {
    "text": "so ingress no no [Music] there you go that's what i want okay",
    "start": "2302640",
    "end": "2309200"
  },
  {
    "text": "uh oh gosh no i don't want to create it there good it doesn't exist",
    "start": "2309200",
    "end": "2314400"
  },
  {
    "text": "uh make okay cert",
    "start": "2314400",
    "end": "2318960"
  },
  {
    "text": "all right ingress created there it is casert kcert why did create two",
    "start": "2319839",
    "end": "2326800"
  },
  {
    "text": "um wait are you looking you're looking at ingresses yeah",
    "start": "2326800",
    "end": "2332960"
  },
  {
    "text": "oh kcert creates a temporary ingress while it's waiting for the http channel",
    "start": "2332960",
    "end": "2338320"
  },
  {
    "text": "and then deletes it yeah okay okay okay interesting the challenge yeah yeah okay",
    "start": "2338320",
    "end": "2344800"
  },
  {
    "text": "so if i look at pods at the k-cert pod if we look at logs",
    "start": "2344800",
    "end": "2350240"
  },
  {
    "text": "cannot send email because it's not configured correctly yeah that's fine",
    "start": "2350240",
    "end": "2355520"
  },
  {
    "text": "that's actually it shouldn't it shouldn't show an error though yeah like because you didn't configure like emails",
    "start": "2355520",
    "end": "2360960"
  },
  {
    "text": "like kcert itself you can give it like smtp credentials and it will send you an",
    "start": "2360960",
    "end": "2366320"
  },
  {
    "text": "email when it renews an email if something goes wrong yeah okay okay",
    "start": "2366320",
    "end": "2372079"
  },
  {
    "text": "so does it look like i think it is safe cert that was the important one okay yeah so if we look for secrets and",
    "start": "2372079",
    "end": "2379520"
  },
  {
    "text": "then we look for casert there it is describe it okay we have the tls cert we",
    "start": "2379520",
    "end": "2384880"
  },
  {
    "text": "have the tls key this is the thing that i was asking about good good okay i like it",
    "start": "2384880",
    "end": "2390640"
  },
  {
    "text": "so does it work let's see let's visit yeah let's find out caser202203",
    "start": "2390640",
    "end": "2399040"
  },
  {
    "text": "18 changelog.com yeah of course you'll have a staging cert so you're you'll probably get a",
    "start": "2399040",
    "end": "2405200"
  },
  {
    "text": "warning right but yeah you can stream it's not valid oh but we do have a staging one but it is a certificate",
    "start": "2405200",
    "end": "2411839"
  },
  {
    "text": "yeah yeah okay let's proceed yes nice it works it works okay that was",
    "start": "2411839",
    "end": "2419599"
  },
  {
    "text": "amazing okay we're done cool and yeah if you go to the ingresses tab like it'll show you the ingress that it's managing",
    "start": "2419599",
    "end": "2425680"
  },
  {
    "text": "yeah yeah sweet anything that uh shouldn't be here like is it a problem if we leave this",
    "start": "2425680",
    "end": "2432319"
  },
  {
    "text": "open uh i mean let's just double check i don't really see oh there is i don't",
    "start": "2432319",
    "end": "2437920"
  },
  {
    "text": "does the manual renew work that's a risk yeah that maybe maybe we don't want this to be public if that like i don't even",
    "start": "2437920",
    "end": "2443839"
  },
  {
    "text": "remember if i hooked that up like click it maybe like to see if it does anything i see what happens my favorite it looks",
    "start": "2443839",
    "end": "2449839"
  },
  {
    "text": "like it's it looks like it's working yeah yeah i did i did want to have the ability to like renew manually um okay",
    "start": "2449839",
    "end": "2457119"
  },
  {
    "text": "yeah uh sometimes i have sometimes like i have a bunch of certificates that like all renewed on",
    "start": "2457119",
    "end": "2462720"
  },
  {
    "text": "different dates and i like to get them synchronized so that they just all renew around the same time and so that's why i like to have the manual renew that makes",
    "start": "2462720",
    "end": "2469520"
  },
  {
    "text": "sense okay uh feature request disable that",
    "start": "2469520",
    "end": "2474880"
  },
  {
    "text": "disable exactly that's easy yeah i can i can put a i can add like a flag to flag",
    "start": "2474880",
    "end": "2481280"
  },
  {
    "text": "or hide it yeah yeah really i would just do like read only and then don't have anything that um triggers any actions",
    "start": "2481280",
    "end": "2487839"
  },
  {
    "text": "basically because this triggers a right behind the scene so okay that's a 10 minute fix yeah that's easy",
    "start": "2487839",
    "end": "2493920"
  },
  {
    "text": "nice okay so that's certificates ingresses challenges configuration",
    "start": "2493920",
    "end": "2500640"
  },
  {
    "text": "okay i mean this could potentially be redacted just as you do the same i can reduce that yeah yeah",
    "start": "2500640",
    "end": "2507200"
  },
  {
    "text": "and otherwise this looks great to me nice very nice well i'm excited okay i hope",
    "start": "2507200",
    "end": "2513119"
  },
  {
    "text": "we get to share this yeah no i'm really excited actually it works it works",
    "start": "2513119",
    "end": "2520920"
  }
]