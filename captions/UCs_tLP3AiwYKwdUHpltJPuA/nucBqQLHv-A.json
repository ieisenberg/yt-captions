[
  {
    "start": "0",
    "end": "95000"
  },
  {
    "text": "[Music]",
    "start": "2540",
    "end": "9360"
  },
  {
    "text": "all right welcome this is the last Talk of the day thank you for all for sticking around so this is uh",
    "start": "9360",
    "end": "16358"
  },
  {
    "text": "cryptography pitfalls my name is John Downey uh as you can see up on the slide uh so I want to first uh frame this up",
    "start": "16359",
    "end": "23519"
  },
  {
    "text": "with some context why do I want to talk to you about cryptography pitfalls uh in",
    "start": "23519",
    "end": "29359"
  },
  {
    "text": "part part of it is I whenever I you know visit with developers um you know I am a",
    "start": "29359",
    "end": "34360"
  },
  {
    "text": "developer I am on a team of developers but I often see we're making a lot of",
    "start": "34360",
    "end": "39559"
  },
  {
    "text": "the same mistakes over and over we're building these crypto into these systems",
    "start": "39559",
    "end": "45000"
  },
  {
    "text": "and we're just we're really bad at it and it's causing kind of some of the same failures to re reappear over and",
    "start": "45000",
    "end": "52600"
  },
  {
    "text": "over uh so this is really a cautionary tale uh I personally love hearing",
    "start": "52600",
    "end": "58079"
  },
  {
    "text": "stories of failure I love trying to learn learn from stories of failure uh and I wanted to ground this in real",
    "start": "58079",
    "end": "63680"
  },
  {
    "text": "events so I tried to uh tie into like real research cite real papers uh real",
    "start": "63680",
    "end": "68840"
  },
  {
    "text": "events in the news uh and kind of present that to you uh because my goal",
    "start": "68840",
    "end": "74159"
  },
  {
    "text": "is for you to take this back and go back and go okay am I in over my head do I need to get professional help do I need",
    "start": "74159",
    "end": "80079"
  },
  {
    "text": "to seek a consultancy uh to kind of help with these systems cuz all these folks",
    "start": "80079",
    "end": "85680"
  },
  {
    "text": "who ostensibly should have known better have made these mistakes while implementing crypto in their",
    "start": "85680",
    "end": "92280"
  },
  {
    "text": "systems all right uh so a little bit about me real quick uh I work for brain",
    "start": "92360",
    "end": "97960"
  },
  {
    "text": "tree uh if you're not familiar brain tree is a company that helps businesses accept payments uh B you know companies",
    "start": "97960",
    "end": "104560"
  },
  {
    "text": "like uber Airbnb in GitHub uh which I'm sure folks in here are familiar with at",
    "start": "104560",
    "end": "109600"
  },
  {
    "text": "least one of those uh so at brain tree obviously we have a very uh you know",
    "start": "109600",
    "end": "115600"
  },
  {
    "text": "concrete interest in cryptography and security uh and so I do security at brain TR",
    "start": "115600",
    "end": "120920"
  },
  {
    "text": "uh you may not also know Brin tree was founded here in Chicago uh the founder was a graduate of the boo School uh and",
    "start": "120920",
    "end": "128080"
  },
  {
    "text": "so I my team's here I'm here in Chicago I'm very happy to be speaking at goto",
    "start": "128080",
    "end": "133959"
  },
  {
    "text": "Chicago uh another thing you you may or may not know about brain tree is brain tree was acquired by PayPal a little",
    "start": "133959",
    "end": "139519"
  },
  {
    "text": "over two and a half years ago uh so we're now part of PayPal and if you've ever worked for a publicly traded",
    "start": "139519",
    "end": "144920"
  },
  {
    "text": "company you'll recognize this statement uh the views are expressed in this presentation are own they do not reflect",
    "start": "144920",
    "end": "151160"
  },
  {
    "text": "PayPal so now that that's out of the way I kind of wanted to start with a",
    "start": "151160",
    "end": "157560"
  },
  {
    "text": "modern uh overview of like what what modern crypto means um and we can talk",
    "start": "157560",
    "end": "163599"
  },
  {
    "text": "about some common misses along the way uh and then you know kind of go from there so in cryptography we in the",
    "start": "163599",
    "end": "170840"
  },
  {
    "text": "modern sense we have three needs uh the first one is confidentiality uh this is about keeping",
    "start": "170840",
    "end": "177280"
  },
  {
    "text": "messages secret uh generally what you think of when someone says crypto you think of like no one else can read this",
    "start": "177280",
    "end": "183480"
  },
  {
    "text": "message this is like the using encryption uh authentication uh this is",
    "start": "183480",
    "end": "189920"
  },
  {
    "text": "also called Integrity protection this is making sure that if I send a message that the receiver can validate that it",
    "start": "189920",
    "end": "196200"
  },
  {
    "text": "hasn't been changed and then the last one is identification this is knowing who sent",
    "start": "196200",
    "end": "202319"
  },
  {
    "text": "the message um these days we often see this combined with the previous one authentication in the form of digital",
    "start": "202319",
    "end": "208720"
  },
  {
    "text": "signatures so uh John sent this message and it hasn't been modified since John sent",
    "start": "208720",
    "end": "214840"
  },
  {
    "text": "it cryptography uh modern cryptography is a very rigorous science uh it's based",
    "start": "214840",
    "end": "220840"
  },
  {
    "text": "on some of it is based on very hard math problems uh and these math problems are largely considered hard at least the",
    "start": "220840",
    "end": "227120"
  },
  {
    "text": "ones that we use uh day-to-day are considered hard on what are called classical computers uh that's read",
    "start": "227120",
    "end": "233120"
  },
  {
    "text": "non-quantum computers so there's a whole new field of study on like what are we going to do uh when we inevitably do",
    "start": "233120",
    "end": "239920"
  },
  {
    "text": "design practical quantum computers that is totally out of scope for this uh but for example one of the",
    "start": "239920",
    "end": "246480"
  },
  {
    "text": "ma one of the math problems we rely on day in day out uh for our digital communication especially in e-commerce",
    "start": "246480",
    "end": "252519"
  },
  {
    "text": "is uh how do we Factor large numbers into their base primes uh and this is",
    "start": "252519",
    "end": "257799"
  },
  {
    "text": "the this is the science behind the RSA algorithm and what we're really doing",
    "start": "257799",
    "end": "262960"
  },
  {
    "text": "with crypto these days is we're betting that there are no major advancements in either math or computers at least for as",
    "start": "262960",
    "end": "269720"
  },
  {
    "text": "as long as we want to keep the data secret so uh like any science crypto uh",
    "start": "269720",
    "end": "276639"
  },
  {
    "text": "should be peer reviewed uh this I feel like uh the security Community has been",
    "start": "276639",
    "end": "281680"
  },
  {
    "text": "able to kind of successfully beat into folks heads like don't design your own crypto so that mantro is really taken",
    "start": "281680",
    "end": "288000"
  },
  {
    "text": "hold I'm very happy about that uh but this also should be extended with like don't Implement your own uh so you know",
    "start": "288000",
    "end": "296360"
  },
  {
    "text": "sometimes you would see folks take like oh I didn't I designed RSA by when I",
    "start": "296360",
    "end": "301840"
  },
  {
    "text": "implemented it and you know you then are stumbling downstairs very quickly uh so",
    "start": "301840",
    "end": "309360"
  },
  {
    "text": "included with the peer review uh is the kind of the statement of you the only thing in the system that you want to be",
    "start": "309360",
    "end": "315479"
  },
  {
    "text": "able you want to have to keep secret is the key so this is something called cops principle uh you can we sometimes hear",
    "start": "315479",
    "end": "322319"
  },
  {
    "text": "called security through obscurity or not doing security through obscurity so uh I should be able to give an attacker a",
    "start": "322319",
    "end": "329160"
  },
  {
    "text": "layout of the design of my system but not give them the keys and the system should remain secure that's that's the",
    "start": "329160",
    "end": "336000"
  },
  {
    "text": "goal here and while cryptography itself is",
    "start": "336000",
    "end": "342039"
  },
  {
    "text": "very strong uh the individual Primitives uh are often very you know can be or the",
    "start": "342039",
    "end": "347600"
  },
  {
    "text": "individual Primitives are very strong but when they're combined they can sometimes be very weak um would it be",
    "start": "347600",
    "end": "353840"
  },
  {
    "text": "possible to get these lights turned down uh so that way there's the that way this will show up better",
    "start": "353840",
    "end": "360520"
  },
  {
    "text": "the I don't know nope okay fair",
    "start": "360520",
    "end": "367080"
  },
  {
    "text": "enough uh so uh systems uh when they're built with cryptography uh it's this",
    "start": "367080",
    "end": "372960"
  },
  {
    "text": "composition that will sometimes you know kind of bite you uh and when there you know the perimeters can be misused and",
    "start": "372960",
    "end": "379919"
  },
  {
    "text": "the Mis steps here are catastrophic uh you know your this one small misstep means your entire system is insecure",
    "start": "379919",
    "end": "386479"
  },
  {
    "text": "even though the other parts of it may have been used correctly",
    "start": "386479",
    "end": "391560"
  },
  {
    "text": "so uh I really like this uh this uh quote which I'll read to you real quickly uh there uh is a book",
    "start": "394319",
    "end": "401120"
  },
  {
    "text": "cryptography engineering and uh you know the quote is you've probably seen the door to a bank vault at least in the",
    "start": "401120",
    "end": "407800"
  },
  {
    "text": "movies you know 10-in thick hardened steel with huge bolts to lock it in place it certainly looks impressive we",
    "start": "407800",
    "end": "414919"
  },
  {
    "text": "often find the digital equivalent of such a vault door installed in a tent people standing around it are arguing",
    "start": "414919",
    "end": "420840"
  },
  {
    "text": "over how thick the door should be rather than spending their time looking at the tent so what I take away from this is",
    "start": "420840",
    "end": "428080"
  },
  {
    "text": "you know you'll you'll hear arguments with uh with folks when they're building systems with crypto with like we should",
    "start": "428080",
    "end": "434759"
  },
  {
    "text": "use 128bit key no it needs to be a 256bit key and kind of going back and",
    "start": "434759",
    "end": "440080"
  },
  {
    "text": "forth with this and they're uh not really paying attention to the fact that they the system has like trivial like",
    "start": "440080",
    "end": "446560"
  },
  {
    "text": "cross-site scripting or some other bug into it uh and they're like so they're standing around arguing how thick this",
    "start": "446560",
    "end": "451639"
  },
  {
    "text": "door needs to be so uh if there's one thing you take",
    "start": "451639",
    "end": "457759"
  },
  {
    "text": "away from this whole presentation uh besides that you know oh oh boy",
    "start": "457759",
    "end": "463000"
  },
  {
    "text": "everything's on fire uh is that uh if you're going to be sending data in transit this is data going across a",
    "start": "463000",
    "end": "469440"
  },
  {
    "text": "network uh use TLS we used to call it SSL but SSL we don't we don't call it",
    "start": "469440",
    "end": "474960"
  },
  {
    "text": "that anymore because that's the old thing TLS is the new thing uh use TL plus SSH or some kind of VPN and uh if",
    "start": "474960",
    "end": "483199"
  },
  {
    "text": "you are just sending data if you can do that and if you can work it into that great uh if the data is going to be",
    "start": "483199",
    "end": "489199"
  },
  {
    "text": "sitting at rest uh try to use uh gpg to to encrypt it and have it sit at rest at",
    "start": "489199",
    "end": "495240"
  },
  {
    "text": "rest means like it's sitting on a hard disk it's sitting in S3 it's sitting in you know somewhere uh and if your model",
    "start": "495240",
    "end": "501520"
  },
  {
    "text": "doesn't fit into one of these two see if you can rework it until it does uh because you'll save yourself a lot of",
    "start": "501520",
    "end": "507280"
  },
  {
    "text": "pain by being able to do one of these things",
    "start": "507280",
    "end": "511440"
  },
  {
    "text": "my general advice is always to avoid lowle libraries uh libraries like open us a cell py crypto bouncy castle uh I",
    "start": "514839",
    "end": "523640"
  },
  {
    "text": "tend to describe these like I'm giving a developer a bucket full of razor blades",
    "start": "523640",
    "end": "529240"
  },
  {
    "text": "and I'm asking them to build me a saw uh it's very easy to take these",
    "start": "529240",
    "end": "535200"
  },
  {
    "text": "razor blades and massemt.org high level Library you'll",
    "start": "535200",
    "end": "540680"
  },
  {
    "text": "often uh you can still make missteps but often a lot of these edges have been smoothed over for you something like uh",
    "start": "540680",
    "end": "547440"
  },
  {
    "text": "lib sodium or Salt N ACL which has bindings into C Ruby python most of you",
    "start": "547440",
    "end": "554760"
  },
  {
    "text": "know most languages you would use or uh Google released a a library called kizar in Python and Java and I think now also",
    "start": "554760",
    "end": "562160"
  },
  {
    "text": "C++ uh so these these high L libraries kind of abstract over um a lot of the",
    "start": "562160",
    "end": "568000"
  },
  {
    "text": "mistakes that are commonly made and hopefully take some of the edges off so I promis pitfalls uh so let's",
    "start": "568000",
    "end": "576360"
  },
  {
    "text": "talk about some pitfalls in places where crypto goes wrong all right so first up is uh random",
    "start": "576360",
    "end": "583600"
  },
  {
    "start": "581000",
    "end": "1019000"
  },
  {
    "text": "number generators uh Randomness is a central part of any crypto system it's used to",
    "start": "583600",
    "end": "589680"
  },
  {
    "text": "generate things like encryption Keys API Keys you know session tokens all these various things are required to be what",
    "start": "589680",
    "end": "595760"
  },
  {
    "text": "we think of as cryptographically secure uh otherwise an attacker can try to guess them uh which would end up being",
    "start": "595760",
    "end": "604519"
  },
  {
    "text": "bad so the first Pitfall I want to talk about is not using a cryptographically secure random number",
    "start": "604519",
    "end": "611200"
  },
  {
    "text": "generator uh so there was a paper uh this was a the usix conference a few",
    "start": "611200",
    "end": "616760"
  },
  {
    "text": "years ago called I forgot your password which uh was about Randomness attacks against PHP applications uh what this",
    "start": "616760",
    "end": "624279"
  },
  {
    "text": "one what they did is they were actually able to successfully uh because these applications were just using like the",
    "start": "624279",
    "end": "629640"
  },
  {
    "text": "built-in mercen twister algorithm and PHP uh to generate these password reset",
    "start": "629640",
    "end": "635560"
  },
  {
    "text": "tokens uh they were able to through some work figure out what the password reset token for a user would be as it's been",
    "start": "635560",
    "end": "642560"
  },
  {
    "text": "generated and emailed to the user so that they could reset their password before the user acted on the",
    "start": "642560",
    "end": "649360"
  },
  {
    "text": "email and the reason uh they were able to do this is because uh if you're not",
    "start": "649360",
    "end": "655160"
  },
  {
    "text": "using a cryptographically stronger number generator uh if you're looking at the",
    "start": "655160",
    "end": "660279"
  },
  {
    "text": "more face on you'll have a better view of it than if you're off of the side like I am but the one on the left",
    "start": "660279",
    "end": "665959"
  },
  {
    "text": "there's a very clear pattern there's a periodist so how the data kind of repeats which is not what you want in",
    "start": "665959",
    "end": "671920"
  },
  {
    "text": "your random number generator there should be no pattern uh the one on the left was was I made that image under the",
    "start": "671920",
    "end": "678320"
  },
  {
    "text": "worst possible possible circumstances it was like Windows NT PHP very old PHP uh",
    "start": "678320",
    "end": "684880"
  },
  {
    "text": "and it had just this really bad algorithm the one on the right uh is you know cryptographically random uh noise",
    "start": "684880",
    "end": "692880"
  },
  {
    "text": "and this just kind of to compare and contrast the next one using broker and",
    "start": "692880",
    "end": "700200"
  },
  {
    "text": "random number generators all right uh a few years ago",
    "start": "700200",
    "end": "705399"
  },
  {
    "text": "uh so this is in the you know late 2000s 2008 uh it was discovered that Debian uh",
    "start": "705399",
    "end": "711760"
  },
  {
    "text": "had for a number of years shipped a broken random number generator in open SSL so they had patched open SSL and in",
    "start": "711760",
    "end": "719360"
  },
  {
    "text": "it they broke it and this went ended up going Downstream to things everything based on Debbie and like auntu and um",
    "start": "719360",
    "end": "726120"
  },
  {
    "text": "all those packages and they all picked up their P their patches and were similarly broken uh from about 2006 to",
    "start": "726120",
    "end": "733320"
  },
  {
    "text": "2008 uh and what it was is it was this line so this is a line of C code in",
    "start": "733320",
    "end": "739000"
  },
  {
    "text": "opena cell and this line mixed in random data from the system and it was",
    "start": "739000",
    "end": "744160"
  },
  {
    "text": "commented out in two places uh and it was not discovered until 2008 and for",
    "start": "744160",
    "end": "749480"
  },
  {
    "text": "those two years if you used a system where this line was commented out the your random day was hopelessly broken uh",
    "start": "749480",
    "end": "756600"
  },
  {
    "text": "there's only about 15 bits of entropy that would have been present in the random number generator which you can",
    "start": "756600",
    "end": "761680"
  },
  {
    "text": "exhaust very quickly uh and this kind of goes to show that um unfortunately in",
    "start": "761680",
    "end": "767880"
  },
  {
    "text": "many cases good crypto looks a lot like bad crypto and so you don't always know which one you're",
    "start": "767880",
    "end": "774440"
  },
  {
    "text": "getting uh the message when the person committed this was uh don't add an Iz",
    "start": "774440",
    "end": "779560"
  },
  {
    "text": "data to the random number generator to stop Val Grind from giving an error message uh Val grind if you're not",
    "start": "779560",
    "end": "785199"
  },
  {
    "text": "familiar is you know the C memory leak analyzer and uh they they did this to",
    "start": "785199",
    "end": "790920"
  },
  {
    "text": "like squash like a debug warning or like a build warning for valind and uh they ran it by the open",
    "start": "790920",
    "end": "798440"
  },
  {
    "text": "SSL mailing list which is the scary thing and no one like jumped at them and said oh my God no uh so subsequently",
    "start": "798440",
    "end": "805120"
  },
  {
    "text": "every SSL certificate SSH key generated using using these um using on these",
    "start": "805120",
    "end": "811360"
  },
  {
    "text": "systems were just broken they needed to be replaced so I went back and looked this",
    "start": "811360",
    "end": "816839"
  },
  {
    "text": "is that line today there's a gigantic comment uh letting you know that is a bad idea to touch this line so that's",
    "start": "816839",
    "end": "824120"
  },
  {
    "text": "one way to solve this problem uh but this this problem of using broken random number generators",
    "start": "824120",
    "end": "830399"
  },
  {
    "text": "has you know it's happened quite a bit uh so this was uh the Android Android phones had a",
    "start": "830399",
    "end": "837959"
  },
  {
    "text": "broken random number generator for a while and how it was discovered was folks using Bitcoin apps on their phone",
    "start": "837959",
    "end": "845279"
  },
  {
    "text": "started to notice their Bitcoins were being stolen uh and so they you know",
    "start": "845279",
    "end": "850440"
  },
  {
    "text": "they eventually did some investigation they found out that the random nerg shift with the system was broken uh and",
    "start": "850440",
    "end": "856560"
  },
  {
    "text": "that's how it manifested itself uh this was just uh in December",
    "start": "856560",
    "end": "862279"
  },
  {
    "text": "of of this last year it was discovered that uh Juniper had uh been shipping",
    "start": "862279",
    "end": "867920"
  },
  {
    "text": "ecdsa uh or sorry not I'm sorry dual EC uh random ener based on Dual EC in their",
    "start": "867920",
    "end": "874600"
  },
  {
    "text": "systems and not really being very public about it you may remember d e c because that came out in the stone papers as um",
    "start": "874600",
    "end": "883440"
  },
  {
    "text": "hey we think that there's a you know there's something here uh that the NSA is",
    "start": "883440",
    "end": "889600"
  },
  {
    "text": "exploiting uh and this was actually known long before the snow papers there was uh these two folks who work at",
    "start": "889600",
    "end": "895759"
  },
  {
    "text": "Microsoft gave a presentation at a conference on the possibility that this could be back doored uh and so Juniper",
    "start": "895759",
    "end": "902160"
  },
  {
    "text": "had to kind of come out and be like hey we Shi this random number drainer on these products we don't know where this",
    "start": "902160",
    "end": "908040"
  },
  {
    "text": "we don't know really know where the code came from and we don't know where the parameters to it came from more importantly uh so that they there was a",
    "start": "908040",
    "end": "915480"
  },
  {
    "text": "lot of uh consternation and investigation about that and then the last one uh not using",
    "start": "915480",
    "end": "921959"
  },
  {
    "text": "random data when ited was required all right uh so the Sony PS3",
    "start": "921959",
    "end": "929279"
  },
  {
    "text": "was using uh elliptic curve digital sign signature algorithm the ecdsa uh which",
    "start": "929279",
    "end": "934959"
  },
  {
    "text": "is a variant of the you know the government's digital signature algorithm standard uh and one thing that to know",
    "start": "934959",
    "end": "941199"
  },
  {
    "text": "about uh ecdsa is it requires a parameter called K that must be uniformly random every time you sign use",
    "start": "941199",
    "end": "948839"
  },
  {
    "text": "the signature and if it's not uh with by observing a few signatures you uh can",
    "start": "948839",
    "end": "955319"
  },
  {
    "text": "break it and you can get the private key uh that was used to do the signature so they were not using random value K in",
    "start": "955319",
    "end": "961279"
  },
  {
    "text": "fact I believe it was a static value it was just hardcoded uh and people eventually figured this out and they used it to I probably like load uh home",
    "start": "961279",
    "end": "969399"
  },
  {
    "text": "brew apps on their PS3s so now comes the recommendations so",
    "start": "969399",
    "end": "975600"
  },
  {
    "text": "if you're using a Unix like system so this would be Unix BSD or like Linux BSD",
    "start": "975600",
    "end": "981600"
  },
  {
    "text": "uh read your random data from Dev you random open it as a file read the amount of data you need close the file move on",
    "start": "981600",
    "end": "988319"
  },
  {
    "text": "and keep doing that whenever you need random data there's a lot of discussions and arguments and going back and forth",
    "start": "988319",
    "end": "994319"
  },
  {
    "text": "about this uh I'm I'm in the camp of just read Dev random use a rapper that",
    "start": "994319",
    "end": "999560"
  },
  {
    "text": "reads Dev random just use that don't worry or like don't kind of spend your time with the other stuff if you happen",
    "start": "999560",
    "end": "1005279"
  },
  {
    "text": "to be on Windows uh in your net there's a random number generator create there's scrypt gen random uh pick whichever one is for",
    "start": "1005279",
    "end": "1012600"
  },
  {
    "text": "your operating system uh but generally th those are my recommendations when folks come up and ask",
    "start": "1012600",
    "end": "1019160"
  },
  {
    "start": "1019000",
    "end": "1046000"
  },
  {
    "text": "next I want to talk about uh hash functions so uh hash functions um are",
    "start": "1019160",
    "end": "1025000"
  },
  {
    "text": "often also called a fingerprint uh and so like fingerprints uh no two things",
    "start": "1025000",
    "end": "1030319"
  },
  {
    "text": "should have uh the same fingerprint it's one way meaning it's not reversible if",
    "start": "1030319",
    "end": "1035400"
  },
  {
    "text": "you just you know come up and look at one of my fingerprints you wouldn't happen to know that it was mine unless",
    "start": "1035400",
    "end": "1040678"
  },
  {
    "text": "you had some fingerprint database uh and ideally know two people have the same fingerprint so for hash functions uh",
    "start": "1040679",
    "end": "1048919"
  },
  {
    "start": "1046000",
    "end": "1265000"
  },
  {
    "text": "we're finding still in systems uh folks using older weak algorithms uh so this",
    "start": "1048919",
    "end": "1054400"
  },
  {
    "text": "was uh in 2008 uh md5 considered harmful today uh this paper was the one this is",
    "start": "1054400",
    "end": "1060640"
  },
  {
    "text": "where they used uh a whole like cluster of PS3s to uh generate a certificate",
    "start": "1060640",
    "end": "1068840"
  },
  {
    "text": "that uh matched the same signature as one that was going to be generated signed by a CA so they were basically",
    "start": "1068840",
    "end": "1075200"
  },
  {
    "text": "able to uh get a you know a CA certificate signed signed by a legitimate CA due to flaws in the md5 uh",
    "start": "1075200",
    "end": "1083039"
  },
  {
    "text": "signing algorithm or the md5 hatching algorithm and this really catalyze the ca the certificate Authority industry to",
    "start": "1083039",
    "end": "1089240"
  },
  {
    "text": "just drop md5 um like a hot mess on the floor uh which people have been trying",
    "start": "1089240",
    "end": "1094880"
  },
  {
    "text": "to do for a while and it' been very slow uh this one uh so this crypto",
    "start": "1094880",
    "end": "1100960"
  },
  {
    "text": "breakthrough shows flame was designed by world class scientists uh if you don't remember flame was one of the you know",
    "start": "1100960",
    "end": "1106400"
  },
  {
    "text": "was kind of came out around the time of like stucks net and was a piece of malware that was discovered um and I",
    "start": "1106400",
    "end": "1112200"
  },
  {
    "text": "believe it was in um Iranian nuclear facilities that had started messing with",
    "start": "1112200",
    "end": "1118200"
  },
  {
    "text": "their industrial controllers for their um Cent fuses and uh in it there was a",
    "start": "1118200",
    "end": "1123919"
  },
  {
    "text": "breakthrough in md5 which had previously not been known uh and they used that to bypass the Microsoft Windows update",
    "start": "1123919",
    "end": "1130440"
  },
  {
    "text": "facility and have the program appear like it was a legitimately SED program this is why um folks kind of look at",
    "start": "1130440",
    "end": "1136760"
  },
  {
    "text": "flame and they're like well clearly this has like intelligence Community like NSA",
    "start": "1136760",
    "end": "1142240"
  },
  {
    "text": "um mad you know someone uh worked on this for a uh a more recent example",
    "start": "1142240",
    "end": "1149039"
  },
  {
    "text": "Freestar collisions in in full sha one so there's this move right now uh and it has been for a little over a year to get",
    "start": "1149039",
    "end": "1155840"
  },
  {
    "text": "off of sha one certificates in on our SSL for our websites and the browsers",
    "start": "1155840",
    "end": "1161360"
  },
  {
    "text": "have been Mo moving very aggressively on this the end date to buy one was December 31st uh there have been a",
    "start": "1161360",
    "end": "1167840"
  },
  {
    "text": "couple instances where where folks have kind of broken down and been like oh we missed the deadline we're we're going to break things uh but this paper was one",
    "start": "1167840",
    "end": "1175039"
  },
  {
    "text": "of the ones that kind of helped continue to catalyze this forward that sha 1's you know although not broken it's kind",
    "start": "1175039",
    "end": "1181400"
  },
  {
    "text": "of the writing is on the wall that you need to be Moving Systems away from",
    "start": "1181400",
    "end": "1186039"
  },
  {
    "text": "it uh so this this is uh this is an interesting aside about hashing",
    "start": "1186760",
    "end": "1192840"
  },
  {
    "text": "algorithms so this is the logo for us cyber command uh us cyber command must love hashing algorithms so so much that",
    "start": "1192840",
    "end": "1199799"
  },
  {
    "text": "the inner gold ring here has a a hatch in it and if you look at it it's this",
    "start": "1199799",
    "end": "1205720"
  },
  {
    "text": "which it's like okay uh turns out that is running md5 on their mission",
    "start": "1205720",
    "end": "1211240"
  },
  {
    "text": "statement uh and this was this was way past that when they should have used md5",
    "start": "1211240",
    "end": "1216760"
  },
  {
    "text": "but like it was sort of like it an interesting like uh aesthetic I guess all right misunderstanding check",
    "start": "1216760",
    "end": "1224159"
  },
  {
    "text": "sums so we often use hashing algorithms as uh check sums on files so when we",
    "start": "1224159",
    "end": "1229480"
  },
  {
    "text": "download them we know that nothing got corrupted so that's the Sha one sha 256 sums file the misconception here is that",
    "start": "1229480",
    "end": "1236880"
  },
  {
    "text": "when you download and check these that the assumption is ah this software hasn't been modified and it's not that",
    "start": "1236880",
    "end": "1243960"
  },
  {
    "text": "the software hasn't been modify is that your download didn't get corrupted uh someone could have clearly just modified",
    "start": "1243960",
    "end": "1249120"
  },
  {
    "text": "these tarball files and then also updated the Sha one sums file and like unless there's like some kind of gpg",
    "start": "1249120",
    "end": "1254440"
  },
  {
    "text": "signature or something on them you wouldn't you'd be none the wiser uh and that I just want to make sure folks like",
    "start": "1254440",
    "end": "1261240"
  },
  {
    "text": "draw that dichotomy and don't make that assumption all right uh the last one is",
    "start": "1261240",
    "end": "1267200"
  },
  {
    "start": "1265000",
    "end": "1724000"
  },
  {
    "text": "a length extension attack so uh bear with me because this is where we're going to get a little",
    "start": "1267200",
    "end": "1273000"
  },
  {
    "text": "technical uh length extension attacks exist when you use an algorithm uh like",
    "start": "1273000",
    "end": "1278159"
  },
  {
    "text": "sha one or sha 256 like this uh so we have a secret value this is like an a",
    "start": "1278159",
    "end": "1283320"
  },
  {
    "text": "key we have a value and we just kind of a pin them and we take the shot to 56",
    "start": "1283320",
    "end": "1288799"
  },
  {
    "text": "hash of it and we call that our signature and you know we kind of assume that if both sides can do this and they",
    "start": "1288799",
    "end": "1294039"
  },
  {
    "text": "have the key or they have the secret then they you know they must know the secret and that's how we can validate",
    "start": "1294039",
    "end": "1299480"
  },
  {
    "text": "that the value hasn't been modified so unfortunately all of our uh",
    "start": "1299480",
    "end": "1305200"
  },
  {
    "text": "our current generation of hash algorithms um are all broken in such a way that that is not true uh and they're",
    "start": "1305200",
    "end": "1311679"
  },
  {
    "text": "broken because of just like a under you know basic fundamental of how they're built that you can actually arbitrarily",
    "start": "1311679",
    "end": "1318679"
  },
  {
    "text": "pen data at the end if you've observed the signature and the signed Val and",
    "start": "1318679",
    "end": "1323919"
  },
  {
    "text": "like the kind of the value you can OB you can append arbitrarily data at the end after some garbage uh and recompute",
    "start": "1323919",
    "end": "1331799"
  },
  {
    "text": "the new signature on the full thing so this is called a length extension attack uh and this this could be bad news if",
    "start": "1331799",
    "end": "1337840"
  },
  {
    "text": "you've built a system that has relied on this not you know this not being here uh this was why when the they announced the",
    "start": "1337840",
    "end": "1344400"
  },
  {
    "text": "shot 3 competition they said that your algorithm had to be secure against this like it couldn't allow this the way you",
    "start": "1344400",
    "end": "1351679"
  },
  {
    "text": "should have be doing this is there's an algorithm called hmac which takes a hash algorithm and use it to build an actual",
    "start": "1351679",
    "end": "1358279"
  },
  {
    "text": "message authentication code message authentication code is just a fancy way of saying if two parties",
    "start": "1358279",
    "end": "1364760"
  },
  {
    "text": "share a secret uh they can produce a signature or something called a tag on a value that basically says this value",
    "start": "1364760",
    "end": "1371240"
  },
  {
    "text": "hasn't been modified in transit uh and we know that because we can use this algorithm with the secret um so un",
    "start": "1371240",
    "end": "1378520"
  },
  {
    "text": "fortunately no one told this to flicker uh this was 2009 uh so flicker API had",
    "start": "1378520",
    "end": "1383679"
  },
  {
    "text": "this uh this length extension attack vulnerability uh and they ended up",
    "start": "1383679",
    "end": "1388960"
  },
  {
    "text": "having to go back and fix this uh so fortunately this was 2009 this was like before maybe they should have known um",
    "start": "1388960",
    "end": "1395760"
  },
  {
    "text": "so this was from February 2016 uh Visa released a new payments API uh where",
    "start": "1395760",
    "end": "1402600"
  },
  {
    "text": "they were doing this exact same thing uh so people brought it up uh and now if",
    "start": "1402600",
    "end": "1409159"
  },
  {
    "text": "you go back and you look at their documentation this has been fixed but this kind of goes to show you like we're",
    "start": "1409159",
    "end": "1414279"
  },
  {
    "text": "still making these mistakes so recommendations uh if you",
    "start": "1414279",
    "end": "1420120"
  },
  {
    "text": "need a hash function you know you just need something to compute uh a check sum or fingerprint use shot 256 it's",
    "start": "1420120",
    "end": "1426559"
  },
  {
    "text": "suitably fast it's good for right now if you need a signature use hmax shot 256",
    "start": "1426559",
    "end": "1431679"
  },
  {
    "text": "if you want to share something that as a signature relied on a shared secret stop using md5 uh don't use sh one uh in new",
    "start": "1431679",
    "end": "1439799"
  },
  {
    "text": "projects and you might be time to start looking at uh project plans to get sha one out of your existing",
    "start": "1439799",
    "end": "1447440"
  },
  {
    "text": "projects all right now on to everybody's favorite topic this would not be a crypto uh hairs on fire talk if we did",
    "start": "1448120",
    "end": "1455360"
  },
  {
    "text": "not talk about password storage so uh it turns out and I really missed an opportunity to update this uh",
    "start": "1455360",
    "end": "1462520"
  },
  {
    "text": "it turns out organizations will uh sometimes not do a very good job storing their passwords and then those passwords",
    "start": "1462520",
    "end": "1468440"
  },
  {
    "text": "databases get out so LinkedIn uh had 8 million and then this very recently like in the last week there was found out to",
    "start": "1468440",
    "end": "1474640"
  },
  {
    "text": "be a whole whole lot more uh so they they leaked a bunch of passwords Last FM",
    "start": "1474640",
    "end": "1480720"
  },
  {
    "text": "to there's Yahoo Dropbox eBay slack I'm missing like tons and tons in here but",
    "start": "1480720",
    "end": "1487679"
  },
  {
    "text": "this is more to illustrate a point and and in some of those cases but not in all of them this was how they were",
    "start": "1487679",
    "end": "1493279"
  },
  {
    "text": "storing their password so they were taking the Sha one of the password and they were putting in the database",
    "start": "1493279",
    "end": "1500320"
  },
  {
    "text": "so that's not good so it does have one desirable property and that is the value",
    "start": "1500480",
    "end": "1505760"
  },
  {
    "text": "is one way uh it can only be used as a verification if I have a developer who has access to the database uh they they",
    "start": "1505760",
    "end": "1513559"
  },
  {
    "text": "can look at this and they're not just staring at passwords so that's great that that actually is",
    "start": "1513559",
    "end": "1518919"
  },
  {
    "text": "beneficial um many of them were doing this which is they were taking the Sha one of a some value that was randomized",
    "start": "1518919",
    "end": "1525440"
  },
  {
    "text": "called assault and the password and they were storing that in the database uh this is like Unix Circa like",
    "start": "1525440",
    "end": "1532240"
  },
  {
    "text": "1970 like uh style security here they had this in the 70s and uh this has",
    "start": "1532240",
    "end": "1537840"
  },
  {
    "text": "beneficial you know there's a randomized value in here it can defeat these pre-computed tables called rainbow",
    "start": "1537840",
    "end": "1543000"
  },
  {
    "text": "tables which is another buzz word in the in for a crypto talk and it forces an attacker to focus on one password there",
    "start": "1543000",
    "end": "1550520"
  },
  {
    "text": "still is a problem with the that though and that is Hash functions are designed to be very very very fast uh like",
    "start": "1550520",
    "end": "1558559"
  },
  {
    "text": "billions of hashes a second on a modern GPU fast and that's because it's used as the underlying part of all of our other",
    "start": "1558559",
    "end": "1565720"
  },
  {
    "text": "algorithms like uh SSL and TLS and things like that we want those to be fast uh so what you want here is you",
    "start": "1565720",
    "end": "1572840"
  },
  {
    "text": "want one way randomized and somehow adaptively slow uh and for that uh there we would",
    "start": "1572840",
    "end": "1580600"
  },
  {
    "text": "use adaptive hashing uh so there's bcrypt scrypt and then there's another album called pbkdf2 or password based",
    "start": "1580600",
    "end": "1587120"
  },
  {
    "text": "key derivation function to say that 10 times fast uh so use one of these",
    "start": "1587120",
    "end": "1593960"
  },
  {
    "text": "doesn't really to me it doesn't really matter which one uh there there's other ones that have just come out called you",
    "start": "1593960",
    "end": "1599159"
  },
  {
    "text": "know there's one called argon these are kind of like the Staples for today uh if you can delegate your authentication so",
    "start": "1599159",
    "end": "1606360"
  },
  {
    "text": "if I'm going to comment on your blog I don't need to create a username and password just to comment on your blog",
    "start": "1606360",
    "end": "1611760"
  },
  {
    "text": "let me log in with like GitHub or something uh so that you know I can comment and you don't need to take a",
    "start": "1611760",
    "end": "1617880"
  },
  {
    "text": "password uh if you do need to take a password like I don't know if you're building a payment Gateway uh then store oneway",
    "start": "1617880",
    "end": "1625320"
  },
  {
    "text": "verifiers using one of these algorithms uh and then also make sure that you're tuning the algorithm to be as slow as",
    "start": "1625320",
    "end": "1631399"
  },
  {
    "text": "you need it for your uh your systems all right so some of you in the",
    "start": "1631399",
    "end": "1637240"
  },
  {
    "text": "audience may be freaking out a little bit because you're like I know our systems do sha one and we don't have",
    "start": "1637240",
    "end": "1643240"
  },
  {
    "text": "this and oh my God so it'll be okay you",
    "start": "1643240",
    "end": "1648559"
  },
  {
    "text": "can fix it uh so the naive case that we often come up with is uh so we have a",
    "start": "1648559",
    "end": "1654799"
  },
  {
    "text": "password hash column that is sha one of some salt pinned with the password and what developers will instinctively say",
    "start": "1654799",
    "end": "1660960"
  },
  {
    "text": "is ah I will live migrate these when they log in again and that that's great",
    "start": "1660960",
    "end": "1666640"
  },
  {
    "text": "uh except for you may notice that your longtail of logins will last a very you know a very very long time in fact some",
    "start": "1666640",
    "end": "1672480"
  },
  {
    "text": "users may never come back to your system don't they deserve password security too",
    "start": "1672480",
    "end": "1678399"
  },
  {
    "text": "uh and so uh don't wait for the user to log in and just silently upgrade my",
    "start": "1678399",
    "end": "1684200"
  },
  {
    "text": "recommendation uh and I've written a blog post about this wrap bcrypt around the existing scheme so your your",
    "start": "1684200",
    "end": "1689559"
  },
  {
    "text": "password storage Becomes bcrypt of sha one of the salt and then upgrade all all",
    "start": "1689559",
    "end": "1694799"
  },
  {
    "text": "the passwords in the database uh so this does require that your previous password scheme wasn't like really bad like",
    "start": "1694799",
    "end": "1700880"
  },
  {
    "text": "descript bad is like it truncates the passwords to eight characters uh so now",
    "start": "1700880",
    "end": "1707039"
  },
  {
    "text": "your password hash column is bcrypt of this and you've upgraded them all and when your password database leaks you",
    "start": "1707039",
    "end": "1712640"
  },
  {
    "text": "can be ah we use bcrypt and hopefully folks will feel better about that and your investors won't get",
    "start": "1712640",
    "end": "1720039"
  },
  {
    "text": "upset all right let's let's talk about ciphers for a little bit uh once again using older weak",
    "start": "1720039",
    "end": "1726799"
  },
  {
    "start": "1724000",
    "end": "1823000"
  },
  {
    "text": "algorithms and ciphers uh for ciphers uh this was a paper from a long this was I",
    "start": "1726799",
    "end": "1732679"
  },
  {
    "text": "think early 2000s if not late '90s uh so this is back when Dez the digital encryption standard was all the rage and",
    "start": "1732679",
    "end": "1740320"
  },
  {
    "text": "this was the Federal Government standard before AES uh and it eventually got to",
    "start": "1740320",
    "end": "1745399"
  },
  {
    "text": "the point where it was almost trivial to break this uh and there was this project in paper called Copa Cabana which was",
    "start": "1745399",
    "end": "1752480"
  },
  {
    "text": "you know hey for less than $110,000 you could build a system that could break Dez in a very reasonable amount of time",
    "start": "1752480",
    "end": "1759120"
  },
  {
    "text": "today it's even less like your Amazon bill would you know would probably not be too much to break Dez by yourself and",
    "start": "1759120",
    "end": "1765519"
  },
  {
    "text": "the unfortunate thing is there are still systems out there that have Dez in them there are still people who will build new systems that use Dez uh I'm not",
    "start": "1765519",
    "end": "1773399"
  },
  {
    "text": "talking about triple Dez I'm talking about just like kind of the plain old digital encryption standard uh and that's that's",
    "start": "1773399",
    "end": "1780240"
  },
  {
    "text": "scary um this is another one so we've known for a very very long time that rc4",
    "start": "1780240",
    "end": "1785960"
  },
  {
    "text": "has flaws it has a lot of flaws it's kind of it's a very elegant algorithm if you've ever kind of looked at it um but",
    "start": "1785960",
    "end": "1792519"
  },
  {
    "text": "it has biases and there's you know kind all kinds of issues and yet rc4 is still",
    "start": "1792519",
    "end": "1797760"
  },
  {
    "text": "used used for a lot of websites it's still used on a lot in a lot of TLS sessions um there is an attack in a",
    "start": "1797760",
    "end": "1804679"
  },
  {
    "text": "movement called rc4 no more uh there is trying to get uh websites to stop using rc4 uh and I encourage you to go back",
    "start": "1804679",
    "end": "1812640"
  },
  {
    "text": "and if you're you know if your servers are still using rc4 you really should be",
    "start": "1812640",
    "end": "1818640"
  },
  {
    "text": "finding an alternative there are many other good ones in TLS to use all right next up using ECB mode for",
    "start": "1818640",
    "end": "1825640"
  },
  {
    "start": "1823000",
    "end": "1957000"
  },
  {
    "text": "Block ciphers uh to first we we'll need to do a quick refresher on what AES is",
    "start": "1825640",
    "end": "1831640"
  },
  {
    "text": "uh so AES is a block Cipher it it's a pair of functions an encrypt function and a decrypt function uh it those take",
    "start": "1831640",
    "end": "1838279"
  },
  {
    "text": "two values the first one is a key which comes in three flavors per the the requirement uh and the second value is",
    "start": "1838279",
    "end": "1845039"
  },
  {
    "text": "this either plain text or Cipher text which is 128 bits period That's The",
    "start": "1845039",
    "end": "1850559"
  },
  {
    "text": "Block it's called The Block size and that's all AES will do so you pass one in you get out the cipher text you pass",
    "start": "1850559",
    "end": "1856080"
  },
  {
    "text": "on the cipher text you get out the plain text that's great but what if my data is longer than 128 bits uh so trivially",
    "start": "1856080",
    "end": "1864200"
  },
  {
    "text": "what most uh would come to is oh we'll just break this up into 16 uh 16 byte or",
    "start": "1864200",
    "end": "1870360"
  },
  {
    "text": "120 bit chunks and just encrypt one at a time uh and so the industry is way ahead",
    "start": "1870360",
    "end": "1875480"
  },
  {
    "text": "of you this is called ECB or electronic code book the problem with this is that if there's any kind of structure in the",
    "start": "1875480",
    "end": "1882639"
  },
  {
    "text": "data you're encrypting that structure is going to shine through uh so here is the",
    "start": "1882639",
    "end": "1887960"
  },
  {
    "text": "brain tree logo and then here it is encrypted using ECB uh so the structure clearly shown",
    "start": "1887960",
    "end": "1894080"
  },
  {
    "text": "through if you don't think your document has structure you're probably wrong a lot of documents have structure uh so",
    "start": "1894080",
    "end": "1900480"
  },
  {
    "text": "what you ideally want is at the bottom where it just like looks like random garbage uh so if this is kind of kind of",
    "start": "1900480",
    "end": "1907399"
  },
  {
    "text": "demonstrate if you see the word ECB unfortunately it's the default in many case in your",
    "start": "1907399",
    "end": "1912519"
  },
  {
    "text": "system you could be potentially leaving something in there that you don't realize",
    "start": "1912519",
    "end": "1918279"
  },
  {
    "text": "so the last one uh in this not using authenticated encryption so uh it has",
    "start": "1918279",
    "end": "1923720"
  },
  {
    "text": "been shown and proven now that uh remember at the beginning we had confidentiality and integrity uh it's",
    "start": "1923720",
    "end": "1930559"
  },
  {
    "text": "now been shown that if you don't have integrity you will lose confidentiality so this that's what authenticated",
    "start": "1930559",
    "end": "1936760"
  },
  {
    "text": "encryption is that is saying that when I transmit a value the other end needs to not be needs to be able to validate the",
    "start": "1936760",
    "end": "1943600"
  },
  {
    "text": "integrity and then decrypt it and if they can't do that uh there will be",
    "start": "1943600",
    "end": "1949240"
  },
  {
    "text": "there will be issues and there will be vulnerabilities that will allow the value to be modified or you know some",
    "start": "1949240",
    "end": "1954480"
  },
  {
    "text": "other bad similarly bad thing so uh padding Oracle attacks are",
    "start": "1954480",
    "end": "1961360"
  },
  {
    "start": "1957000",
    "end": "2054000"
  },
  {
    "text": "very old news so this this paper was in 2010 but the original thing about padding Oracle is in was from 2002 uh",
    "start": "1961360",
    "end": "1968880"
  },
  {
    "text": "from VOD uh the these folks went on to do what the Beast vulnerability in TLS",
    "start": "1968880",
    "end": "1975080"
  },
  {
    "text": "based on this and then later on poodle that's what poodle stands for padding Oracle uh so these are practical attacks",
    "start": "1975080",
    "end": "1983600"
  },
  {
    "text": "uh and the the other thing is you could build authenticated encryption into your system but you could build it wrong like",
    "start": "1983600",
    "end": "1989919"
  },
  {
    "text": "they did originally in TLS and you know TLS kind of grew up in this Dark Ages",
    "start": "1989919",
    "end": "1995519"
  },
  {
    "text": "where we didn't have a lot of re you know solid Research into crypto uh at least the amount that we do now and they",
    "start": "1995519",
    "end": "2002240"
  },
  {
    "text": "unfortunately built the signature so it is authenticated but they built it backwards they sign it and then they",
    "start": "2002240",
    "end": "2008880"
  },
  {
    "text": "encrypt it and they need to encrypt it and then sign it uh and so that has allowed a bunch of different attacks one",
    "start": "2008880",
    "end": "2014399"
  },
  {
    "text": "of them uh was called Lucky 13 because there's uh there was timing differences in the code and that leaked information",
    "start": "2014399",
    "end": "2021360"
  },
  {
    "text": "and so you were then able to use that to have a vulnerability there was one more recently called lucky minus 21 which is",
    "start": "2021360",
    "end": "2028519"
  },
  {
    "text": "this code that they thought was timing uh complete later got modified and it was now once again timing sensitive and",
    "start": "2028519",
    "end": "2034799"
  },
  {
    "text": "left had issues Apple very recently had an issue uh in",
    "start": "2034799",
    "end": "2041080"
  },
  {
    "text": "iMessages where they didn't they didn't valid they didn't have integrity on top",
    "start": "2041080",
    "end": "2046559"
  },
  {
    "text": "of their Cipher text for I believe these were uh like SMS attachments in",
    "start": "2046559",
    "end": "2053280"
  },
  {
    "start": "2054000",
    "end": "2127000"
  },
  {
    "text": "iMessage uh so there there's a paper from the John Hopkins univ or a couple folks led by John Hopkins",
    "start": "2054440",
    "end": "2061839"
  },
  {
    "text": "University uh that kind of talked about this they called it dancing on the lip of the volcano which was chosen pyrotex",
    "start": "2061839",
    "end": "2067760"
  },
  {
    "text": "attack an apple iMessage uh so this is another practical case very recently of",
    "start": "2067760",
    "end": "2073000"
  },
  {
    "text": "a system being built that didn't have authenticated encryption in it and uh it was subsequently broken and I I don't",
    "start": "2073000",
    "end": "2080440"
  },
  {
    "text": "really always blame the developers because they're really we're in a world of hurt uh so behind this is an image of",
    "start": "2080440",
    "end": "2086800"
  },
  {
    "text": "the py crypto documentation which has uh gives you this like Litany of options",
    "start": "2086800",
    "end": "2093118"
  },
  {
    "text": "one of which is ECB mode and then you know doesn't really give you any kind of information about like which is secure",
    "start": "2093119",
    "end": "2098920"
  },
  {
    "text": "what will be causing a problem do you you know it doesn't tell you anything about protecting uh the integrity and",
    "start": "2098920",
    "end": "2104560"
  },
  {
    "text": "then the example at the top which I know you can't you can't see this uh uses um",
    "start": "2104560",
    "end": "2110000"
  },
  {
    "text": "CFB mode which is cipher feedback mode which nobody uses like that's like one of those things where it's like yeah it",
    "start": "2110000",
    "end": "2115280"
  },
  {
    "text": "exists and it's described in Wikipedia but very few systems actually use that and like why is that your example at the",
    "start": "2115280",
    "end": "2121040"
  },
  {
    "text": "top like your example at the top should be a practical example that folks can copy and then use",
    "start": "2121040",
    "end": "2128760"
  },
  {
    "text": "so my recommendation here uh prefer the Box secret box from uh lib sodium stop using Dez uh stop building your own on",
    "start": "2129599",
    "end": "2136520"
  },
  {
    "text": "top of ases uh stop building encryption without Integrity uh what if you have to",
    "start": "2136520",
    "end": "2142079"
  },
  {
    "text": "use as so occasionally folks will be like I'm in an industry where I have to use AES uh so my recommendation there",
    "start": "2142079",
    "end": "2148920"
  },
  {
    "text": "don't use ECB uh you have to use authenticate encryption so GCM mode uh",
    "start": "2148920",
    "end": "2155040"
  },
  {
    "text": "even then you have to verify the tag or the Mac first there's like all kinds of other stuff that you know will cause an",
    "start": "2155040",
    "end": "2160280"
  },
  {
    "text": "issue it can go wrong is all I'm saying so good",
    "start": "2160280",
    "end": "2165720"
  },
  {
    "text": "luck TLS SSL verification so uh there was a paper the most dangerous code in",
    "start": "2165720",
    "end": "2171480"
  },
  {
    "start": "2166000",
    "end": "2343000"
  },
  {
    "text": "the world which uh talked about non- browsers doing TLS uh these are like",
    "start": "2171480",
    "end": "2176839"
  },
  {
    "text": "mobile apps and serers side apps what they found is that they were not really upholding the two kind of things you",
    "start": "2176839",
    "end": "2183760"
  },
  {
    "text": "must do in TLS very well uh so the first one is they were some of them were not verifying the certificate chain uh and",
    "start": "2183760",
    "end": "2191319"
  },
  {
    "text": "if you never don't know what a certificate chain is this is what it is this thing at the top where it's like be sign is a route that's on your system",
    "start": "2191319",
    "end": "2197720"
  },
  {
    "text": "chains to this chains to this this is a chain of trust you know these are protected with digital signatures all",
    "start": "2197720",
    "end": "2202760"
  },
  {
    "text": "the way down to the websites uh so if you don't validate the certificate chain you can just give them anything and",
    "start": "2202760",
    "end": "2208960"
  },
  {
    "text": "they'll think it's a valid website uh and so you know someone can sit in the middle intercept your traffic uh and",
    "start": "2208960",
    "end": "2214480"
  },
  {
    "text": "present you with a completely uh you know fake certificates and you'll happily send your traffic to them which",
    "start": "2214480",
    "end": "2220839"
  },
  {
    "text": "is not great if you're thinking of like a mobile banking application so what would this look like",
    "start": "2220839",
    "end": "2226680"
  },
  {
    "text": "in code or in command line so curl has this flag called dask which will basically turn off uh TLS verification",
    "start": "2226680",
    "end": "2233480"
  },
  {
    "text": "if you're using curl and this is like a PHP code you can say verify peer equal you know set it to zero verify Pier",
    "start": "2233480",
    "end": "2240200"
  },
  {
    "text": "means I I don't want to actually verify who I'm talking to that seems like a bad thing to turn",
    "start": "2240200",
    "end": "2246240"
  },
  {
    "text": "off the second one that they found in a lot of cases is they were not verifying the host name of the other party so if",
    "start": "2246240",
    "end": "2253640"
  },
  {
    "text": "you don't verify the host name of the other party they could present any valid certificate like I could present my",
    "start": "2253640",
    "end": "2259680"
  },
  {
    "text": "certificate for jtd downy.com my blog and you think you're going to PayPal and your your mobile phone or whatever",
    "start": "2259680",
    "end": "2266920"
  },
  {
    "text": "system would just accept it because it's a valid certificate but they don't actually check who that certificate was issued",
    "start": "2266920",
    "end": "2273560"
  },
  {
    "text": "for and so there there are problems here so host name verification is protocol",
    "start": "2273560",
    "end": "2278839"
  },
  {
    "text": "independent meaning like HTTP is different from SMTP is different from all the other systems and so thusly open",
    "start": "2278839",
    "end": "2285599"
  },
  {
    "text": "us the cell doesn't have it built in uh so each system has to kind of do it itself like lib curl does it uh so each",
    "start": "2285599",
    "end": "2292040"
  },
  {
    "text": "so if you have an HTTP Library just sitting on op SSL if you haven't done your own H uh host name verification",
    "start": "2292040",
    "end": "2298640"
  },
  {
    "text": "you're probably not doing it and rust actually just found this out and like hyper the really popular uh HTP",
    "start": "2298640",
    "end": "2304480"
  },
  {
    "text": "librarian rust was not doing host host name verification",
    "start": "2304480",
    "end": "2309440"
  },
  {
    "text": "so also some people just you can turn it off verify host false uh not",
    "start": "2309720",
    "end": "2316119"
  },
  {
    "text": "good next using a broken Library uh hopefully by now we've all heard about heart bleed uh this was another one this",
    "start": "2316119",
    "end": "2323760"
  },
  {
    "text": "uh this was an apple this was the go-to fail where they you know was because of issues in C code that it just skipped",
    "start": "2323760",
    "end": "2330520"
  },
  {
    "text": "over uh the handshake verification uh so this is another case where these libraries were just broken and and some",
    "start": "2330520",
    "end": "2337960"
  },
  {
    "text": "I guarantee you there's a server out there that's still vulnerable to Heart",
    "start": "2337960",
    "end": "2343400"
  },
  {
    "start": "2343000",
    "end": "2372000"
  },
  {
    "text": "bed so ensure your validating connections lean on your library or framework uh whenever possible uh set up",
    "start": "2343440",
    "end": "2349839"
  },
  {
    "text": "automated testing my recommendation so you can look at bad ssl.com for examples of how they do it if you have no idea",
    "start": "2349839",
    "end": "2357160"
  },
  {
    "text": "what to set your server settings for TLS for Mozilla has a great like generator",
    "start": "2357160",
    "end": "2363160"
  },
  {
    "text": "like I'm using engine X I'm using this I'm using this and they'll just drop conf pigs out for you to copy uh so you",
    "start": "2363160",
    "end": "2369520"
  },
  {
    "text": "can get my slides later uh last St let's talk about trust",
    "start": "2369520",
    "end": "2375560"
  },
  {
    "start": "2372000",
    "end": "2509000"
  },
  {
    "text": "uh so raise your hand if you've seen this before okay now keep your hand up if you validated the fingerprints before",
    "start": "2375560",
    "end": "2381599"
  },
  {
    "text": "you actually typed yes all right so uh SSH unlike TLS uses a trust model called",
    "start": "2381599",
    "end": "2387800"
  },
  {
    "text": "tofu or trust on first use so this is this is SS SSH saying you validate first",
    "start": "2387800",
    "end": "2394119"
  },
  {
    "text": "time I will mathematically guarantee that you're only talking to the same person after that uh so if you type yes",
    "start": "2394119",
    "end": "2399760"
  },
  {
    "text": "here you're telling SSH that uh you you've upheld your part of the bargain later on the that other host",
    "start": "2399760",
    "end": "2406680"
  },
  {
    "text": "gets reinstalled or something else pops up and this is SSH saying whoa you said",
    "start": "2406680",
    "end": "2411960"
  },
  {
    "text": "that that was the thing now it's not the thing anymore uh and if you read a blog",
    "start": "2411960",
    "end": "2417119"
  },
  {
    "text": "post about this it's usually just going to tell you to like RM the known host file which is not",
    "start": "2417119",
    "end": "2423078"
  },
  {
    "text": "great all right next up so this is mozilla's list of included CA certificates by default uh I just kind",
    "start": "2424880",
    "end": "2431640"
  },
  {
    "text": "of scrolled through the list and took a capture uh so I would ask you to think like do you trust all of these companies",
    "start": "2431640",
    "end": "2437880"
  },
  {
    "text": "do you trust their hiring practices their fire you know their termination practices their auditing practices all",
    "start": "2437880",
    "end": "2443000"
  },
  {
    "text": "these things uh because you implicitly trust each and every one of these in Firefox uh and there are companies",
    "start": "2443000",
    "end": "2448680"
  },
  {
    "text": "there's government of the Netherlands Hong Kong post office department of homeand security uh you know there's all",
    "start": "2448680",
    "end": "2455599"
  },
  {
    "text": "kinds of organizations up here uh and so the last one of the last things I want to talk about is",
    "start": "2455599",
    "end": "2460640"
  },
  {
    "text": "certificate pinning uh so certificate pinning lets you uh kind of say let you",
    "start": "2460640",
    "end": "2466160"
  },
  {
    "text": "get around this trust Model A little bit and that you can kind of say only trust these certificates in this chain so if I",
    "start": "2466160",
    "end": "2473359"
  },
  {
    "text": "have if I'm serving up one of these it's okay and you can kind of signal to the inpoint device to only kind of uh either",
    "start": "2473359",
    "end": "2479599"
  },
  {
    "text": "you bundle it in with it or you signal it to a later and it will remember that and it'll kind of fail the operation if",
    "start": "2479599",
    "end": "2485359"
  },
  {
    "text": "someone later tries to you know someone signs a uh like diger where they found",
    "start": "2485359",
    "end": "2490720"
  },
  {
    "text": "the Iranian government had signed you know mail.yahoo.com uh illicitly uh so this will help with",
    "start": "2490720",
    "end": "2497240"
  },
  {
    "text": "things like that there's a public key pending standard uh for hcp it's still a little bit experimental under review uh",
    "start": "2497240",
    "end": "2505160"
  },
  {
    "text": "but it's called hpkp I definitely recommend checking it out thing about what organizations you",
    "start": "2505160",
    "end": "2511400"
  },
  {
    "start": "2509000",
    "end": "2548000"
  },
  {
    "text": "really trust investigate certificate pinning all right it is actually over uh",
    "start": "2511400",
    "end": "2518200"
  },
  {
    "text": "the last thing I want to say check out Stanford's crypto class if you're interested in learning more this is a free corsera class I highly recommend it",
    "start": "2518200",
    "end": "2525760"
  },
  {
    "text": "unfortunately there are no sessions listed for like the future things so I would just subscribe uh and wait for the",
    "start": "2525760",
    "end": "2531920"
  },
  {
    "text": "next one um Masano uh which is now called NCC group released a set of",
    "start": "2531920",
    "end": "2537240"
  },
  {
    "text": "crypto challenges these are you take some development uh the these are Developer challenges so you kind of go",
    "start": "2537240",
    "end": "2543280"
  },
  {
    "text": "you like self-guide and they'll help you break a bunch of crypto stuff so it's a lot of fun that is it questions follow",
    "start": "2543280",
    "end": "2550280"
  },
  {
    "start": "2548000",
    "end": "2667000"
  },
  {
    "text": "me on Twitter if you're interested I sometimes tweet about these things sometimes I tweet pictures of my",
    "start": "2550280",
    "end": "2555960"
  },
  {
    "text": "cats so all right I don't know if we John do we have any questions in the",
    "start": "2555960",
    "end": "2562240"
  },
  {
    "text": "that were submitted through the app otherwise I'll take live questions or you can all leave no we've just um just",
    "start": "2562240",
    "end": "2569319"
  },
  {
    "text": "a a question have you removed all traces of open SSL from your systems so the the question was have you",
    "start": "2569319",
    "end": "2576520"
  },
  {
    "text": "removed all tra open sell from your systems uh I will so know and I'll tell you why so",
    "start": "2576520",
    "end": "2583359"
  },
  {
    "text": "I I think I may be a little bit different than some of community in that I still I still believe in open SSL and",
    "start": "2583359",
    "end": "2590760"
  },
  {
    "text": "I'll tell you why uh so Google has forked it into boring SSL and have like tried to like feed things back so it has",
    "start": "2590760",
    "end": "2597280"
  },
  {
    "text": "Google kind of behind it they're you know backing it in for all their servers and in Chrome they're kind of you know",
    "start": "2597280",
    "end": "2603880"
  },
  {
    "text": "sitting on open SSL as their foundation and trying to improve it the Liber SSL",
    "start": "2603880",
    "end": "2609960"
  },
  {
    "text": "folks uh from the open BSD Camp have like kind of hard forked it and done a few things so I think there there is",
    "start": "2609960",
    "end": "2615640"
  },
  {
    "text": "hope for it uh the reason why I'm not so Keen to like just switch uh is because if you do a survey of the landscape uh",
    "start": "2615640",
    "end": "2623640"
  },
  {
    "text": "all the all the major uh competitors of it especially in the open source space have all had very nasty vulnerabilities",
    "start": "2623640",
    "end": "2631200"
  },
  {
    "text": "uh in and around the time of heart bed they've had the go-to fail was Apples but there was similar ones in New s uh",
    "start": "2631200",
    "end": "2638119"
  },
  {
    "text": "that's new as in the ganu organization uh and then polar and a bunch of others",
    "start": "2638119",
    "end": "2643480"
  },
  {
    "text": "so I'm not so like quick to drop open SSL it is uh is the devil we know and I",
    "start": "2643480",
    "end": "2649599"
  },
  {
    "text": "think it's the devil we can like tame a little bit more uh so yeah all right",
    "start": "2649599",
    "end": "2655319"
  },
  {
    "text": "question all right thank you [Applause]",
    "start": "2655319",
    "end": "2666729"
  }
]