[
  {
    "start": "0",
    "end": "28000"
  },
  {
    "text": "[Music]",
    "start": "5870",
    "end": "10049"
  },
  {
    "text": "so I'm Cobin Watson glad to be here I work for Netflix and I'm going to talk about um a large Cloud footprint and how",
    "start": "11360",
    "end": "16960"
  },
  {
    "text": "to keep it in check if I can get this to work uh rate me I'd love to hear what",
    "start": "16960",
    "end": "24000"
  },
  {
    "text": "you think um whether you think it went well or poorly um so I'm cobr W I manage",
    "start": "24000",
    "end": "29759"
  },
  {
    "start": "28000",
    "end": "111000"
  },
  {
    "text": "the performance and reliability team at Netflix I've been there for about 3 years I worked with Adrien there for a period of time um my organization",
    "start": "29759",
    "end": "37160"
  },
  {
    "text": "handles a fair amount of things in the area of performance and reliability primarily on the cloud component so we",
    "start": "37160",
    "end": "42559"
  },
  {
    "text": "reduce time to detect and time to resolve so our major goal is to improve the availability of the service for Netflix and users um does anybody use",
    "start": "42559",
    "end": "49239"
  },
  {
    "text": "Netflix here all right higher than I thought I don't know there are there are",
    "start": "49239",
    "end": "54840"
  },
  {
    "text": "people but we we have plans um um as a team we uh we build a lot of tooling on",
    "start": "54840",
    "end": "61840"
  },
  {
    "text": "my performance team we optimize usage of the cloud I'm going to talk today um from a lean perspective primarily around",
    "start": "61840",
    "end": "67759"
  },
  {
    "text": "efficiency of our Cloud footprint and some of the strategies we have there I have a team that steers Global traffic",
    "start": "67759",
    "end": "72960"
  },
  {
    "text": "so we also own a number of the monkeys down here there's chaos Kong that's the big one and then we have chaos monkey",
    "start": "72960",
    "end": "78799"
  },
  {
    "text": "within the team Kong is where we actually take traffic and shift it from run AWS region to another and we do that",
    "start": "78799",
    "end": "84400"
  },
  {
    "text": "about once a month and we run it through Peak and then we fail it back and so um we use a combination of rerouting and",
    "start": "84400",
    "end": "90479"
  },
  {
    "text": "DNS to do that um we also use that to inject chaos in the environment yesterday in the papers we love there",
    "start": "90479",
    "end": "97079"
  },
  {
    "text": "was a discussion about failure injection and we do that quite a bit where we actually um exercise our services on a",
    "start": "97079",
    "end": "103240"
  },
  {
    "text": "daily basis to make sure that we can short circuit them out of there and I'll cover that and then we drive best practice adoption um but I'm not talking",
    "start": "103240",
    "end": "109960"
  },
  {
    "text": "about that today so as a company we have about we're approaching 70 million subscribers in over 50 countries um back",
    "start": "109960",
    "end": "118119"
  },
  {
    "text": "to the value that you know what what our value is as a company which is fairly commonly shared internally is we want to",
    "start": "118119",
    "end": "124079"
  },
  {
    "text": "win moments of Truth so when you sit down in your living room and you have the choice of selecting something to watch we would hope that you select",
    "start": "124079",
    "end": "130200"
  },
  {
    "text": "Netflix and that's that's our goal at the end of the day is to make it a very great experience in terms of content for you to drive to and it's great to make",
    "start": "130200",
    "end": "136920"
  },
  {
    "text": "money at it as well um we do about 3 billion hours of video a month right now",
    "start": "136920",
    "end": "143080"
  },
  {
    "text": "uh we have a pretty big cloud footprint I'm going to talk about that we have our own uh homegrown CDN so we deliver about",
    "start": "143080",
    "end": "148920"
  },
  {
    "text": "99% a little more of our content off of a um free BSD based appliance that we",
    "start": "148920",
    "end": "154599"
  },
  {
    "text": "generate we or we create and we give it to people if they want it um in the US I think we're close to 37% of the internet",
    "start": "154599",
    "end": "162239"
  },
  {
    "text": "traffic at night we've just passed porn which is a big big big milestone for us",
    "start": "162239",
    "end": "169159"
  },
  {
    "text": "um got to got to keep that difference there um and we have a we have a strong original slate so from a Content",
    "start": "169159",
    "end": "175319"
  },
  {
    "text": "perspective I enjoy a lot of these but we continue to release uh more and more shows on we're releasing more and more",
    "start": "175319",
    "end": "180840"
  },
  {
    "text": "originals that are Regional specific um and then we try to get Global rights so we just released one from Mexico as an",
    "start": "180840",
    "end": "186159"
  },
  {
    "text": "example that's Global which I think it's a great show our open source um offerings are a",
    "start": "186159",
    "end": "192840"
  },
  {
    "start": "189000",
    "end": "293000"
  },
  {
    "text": "big focus of what we we do as a company I picked I handpicked a bunch of them out of here um Atlas is our large",
    "start": "192840",
    "end": "199319"
  },
  {
    "text": "monitoring framework it collects somewhere on the order of about two billion time series a minute from our Cloud um and it lets makes it queriable",
    "start": "199319",
    "end": "206799"
  },
  {
    "text": "there's usually about a 2 minute minute to 2 minute delay and you get response times in about three seconds for most of",
    "start": "206799",
    "end": "212159"
  },
  {
    "text": "your queries so it's very efficient from that perspective if people have heard of Asgard that's sort of our Amazon web",
    "start": "212159",
    "end": "218599"
  },
  {
    "text": "services console replacement for infrastructure as a service there's going to be some great news this fall",
    "start": "218599",
    "end": "223920"
  },
  {
    "text": "knock on something that we're going to be releasing a new open source project which is our continuous delivery",
    "start": "223920",
    "end": "228959"
  },
  {
    "text": "framework that takes Asgard but it's like on steroids it's really awesome um so keep your keep your eyes out for that",
    "start": "228959",
    "end": "235280"
  },
  {
    "text": "ice is where we look at our cost so we get a big Amazon bill each month I think at the end of the month it's somewhere on the order of maybe like 400 million",
    "start": "235280",
    "end": "242079"
  },
  {
    "text": "lines and we consume it and then we generate into nice pretty graphs and data to understand where our cost is",
    "start": "242079",
    "end": "248280"
  },
  {
    "text": "Vector is a Performance Tool my team created which is um on host high resolution metrics check it out it's a",
    "start": "248280",
    "end": "253599"
  },
  {
    "text": "lot of fun in hiss uh is our framework for dependency commands so when we talk about letting Services fail hisy is the",
    "start": "253599",
    "end": "261320"
  },
  {
    "text": "framework that lets you um open circuits when a service is misbehaving I'm just",
    "start": "261320",
    "end": "266479"
  },
  {
    "text": "going to pick a water here um when you open a circuit you stop talking to that service and you throw a fallback I don't",
    "start": "266479",
    "end": "272520"
  },
  {
    "text": "have any examples here but a good example would be you see your personalized rows and when that service",
    "start": "272520",
    "end": "277680"
  },
  {
    "text": "has a problem you see unpersonalized rows we're actually that uh lineage uh",
    "start": "277680",
    "end": "285880"
  },
  {
    "text": "lineage based fault injection we're working with that one of those professors from Berkeley on that right",
    "start": "285880",
    "end": "292759"
  },
  {
    "start": "293000",
    "end": "312000"
  },
  {
    "text": "now so I want to talk about our priorities as a company I think in general when you look at the engineering",
    "start": "293120",
    "end": "298320"
  },
  {
    "text": "efforts you have priorities in in your organization if you're a keep the lights on organization maybe you have a product you just want to maintain sustain uh",
    "start": "298320",
    "end": "304520"
  },
  {
    "text": "continue to get maintenance Revenue off of when I was at HP that was a number of our products um I don't think a lot of",
    "start": "304520",
    "end": "310680"
  },
  {
    "text": "you are in that space so at Netflix we prioritize in this way from top to bottom so",
    "start": "310680",
    "end": "316479"
  },
  {
    "start": "312000",
    "end": "379000"
  },
  {
    "text": "Innovation is really our foundation we feel that if we don't innovate quickly think about Adrian's discussion of the",
    "start": "316479",
    "end": "322319"
  },
  {
    "text": "hypothesis based testing there's 500 tests 1,000 tests going on every day um",
    "start": "322319",
    "end": "327400"
  },
  {
    "text": "if we don't innovate we're not going to win in the space and that's key to us and that's probably um you know 80% of",
    "start": "327400",
    "end": "333919"
  },
  {
    "text": "our investment engineering wise is an innovation uh reliabilities on top of that if the service isn't available then",
    "start": "333919",
    "end": "340039"
  },
  {
    "text": "it's not much use and then efficiency is up there at the top and so I I sort of hang out in the upper two I don't spend",
    "start": "340039",
    "end": "346759"
  },
  {
    "text": "as much part on the lower um Innovation area and there's not many of us that spend time in the efficiency space which",
    "start": "346759",
    "end": "352759"
  },
  {
    "text": "is where I think we're fairly lean um so we try to do it um behind the scenes and I'll go into that a bit but the",
    "start": "352759",
    "end": "358600"
  },
  {
    "text": "organization recognizes um that these are both important and so everybody's a stakeholder in the game freedom and",
    "start": "358600",
    "end": "365039"
  },
  {
    "text": "responsibility uh it's just there's fewer of us trying to move the needle forward on",
    "start": "365039",
    "end": "370960"
  },
  {
    "text": "those so those previous those two on the bottom there um Innovation and reliability have costs associated with",
    "start": "371280",
    "end": "377160"
  },
  {
    "text": "them and that can lead to significant inefficiency so I'm going to talk about how we maximize Innovation here's a",
    "start": "377160",
    "end": "382840"
  },
  {
    "start": "379000",
    "end": "438000"
  },
  {
    "text": "little sub screenshot of our new continuous delivery tool we make capacity on demand for all net Engineers",
    "start": "382840",
    "end": "390199"
  },
  {
    "text": "there's a little box that pops up if you want a th instances you just type in a th instances and they show up in production um so our commit to Cloud",
    "start": "390199",
    "end": "397440"
  },
  {
    "text": "goal is to let people get their code out there in a matter of minutes um we have this gigantic single production account",
    "start": "397440",
    "end": "404120"
  },
  {
    "text": "it allows us to maximize reuse which I'm going to talk about it also simplifies how we purchase capacity but by being in",
    "start": "404120",
    "end": "410720"
  },
  {
    "text": "one big account um it just allows people to have the capacity they want and we also burst into on demand so I want to",
    "start": "410720",
    "end": "417440"
  },
  {
    "text": "make sure that people understand and we depend on the elasticity of the cloud we have a certain percentage we try to keep",
    "start": "417440",
    "end": "423520"
  },
  {
    "text": "it under but in General on any daily basis you know we're probably going into on demand some percent and then we back",
    "start": "423520",
    "end": "429039"
  },
  {
    "text": "fill on top of that so you might see that this could actually introduce some fairly significant cost risk um if there",
    "start": "429039",
    "end": "435720"
  },
  {
    "text": "weren't some strategies to constrain it reliability um brings with it a lot",
    "start": "435720",
    "end": "441360"
  },
  {
    "start": "438000",
    "end": "558000"
  },
  {
    "text": "of costs as well right we have a red black push model so when you push your code to production through Asgard or through our new tool that's coming out",
    "start": "441360",
    "end": "448319"
  },
  {
    "text": "um you'll actually stand up a new version of your code direct traffic to it tear down the old one if something goes wrong you just point the traffic",
    "start": "448319",
    "end": "454479"
  },
  {
    "text": "back right away and you deal with it the next day so having that overlap of capacity you need to be efficient in it",
    "start": "454479",
    "end": "459840"
  },
  {
    "text": "but still it's additional capacity um we have multiple levels of redundancy in our system um within an AWS region we",
    "start": "459840",
    "end": "467599"
  },
  {
    "text": "actually over provision across three availability zones to support the loss of one of them so you have about a 50%",
    "start": "467599",
    "end": "473440"
  },
  {
    "text": "additional capacity in each a and that again is more capacity you have to buy",
    "start": "473440",
    "end": "478479"
  },
  {
    "text": "and then the big um one of the big spend areas is our Global redundancy so as I talked about we exercise this capability",
    "start": "478479",
    "end": "485080"
  },
  {
    "text": "once a month of failing user traffic back and forth between regions this year we're actually working on failing it",
    "start": "485080",
    "end": "490159"
  },
  {
    "text": "across the three regions equivalently by um by Christmas time so that's our our next Big Goal but when you think about",
    "start": "490159",
    "end": "496639"
  },
  {
    "text": "it um we purchase these heavy reservations to cover our capacity um I call them guarantees I don't know if",
    "start": "496639",
    "end": "502840"
  },
  {
    "text": "Amazon refers to them as guarantees necessarily but you want to have the capacity there when you're at our scale",
    "start": "502840",
    "end": "508800"
  },
  {
    "text": "that when you over it's available so we actually have enough capacity behind the scenes in the regions to support failure",
    "start": "508800",
    "end": "514440"
  },
  {
    "text": "of our load from any region to another at any given time it's it's something we pay for uh 24 by7 now purchasing heavy",
    "start": "514440",
    "end": "522719"
  },
  {
    "text": "reservations has some implications in that you're actually paying an upfront cost um usually for like a three-year",
    "start": "522719",
    "end": "528360"
  },
  {
    "text": "reservation and then you're paying a 24x7 fee whether you use that capacity or not and the reason we do that besides",
    "start": "528360",
    "end": "535200"
  },
  {
    "text": "for reliability is um it gets us probably a 70 plus% % discount I'm giving you the low end there but it",
    "start": "535200",
    "end": "541760"
  },
  {
    "text": "actually compared to On Demand it's a big uh Financial savings as long as you use it um otherwise you're just paying",
    "start": "541760",
    "end": "547680"
  },
  {
    "text": "for stuff you aren't using so bucket of cash falling over uh if you don't keep an eye on it so those are the two big",
    "start": "547680",
    "end": "554120"
  },
  {
    "text": "cost implications of how we maximize our velocity for engineers efficiency so at the top of",
    "start": "554120",
    "end": "561000"
  },
  {
    "text": "the mountain I'm going to talk about how we look at efficiency how we set goals",
    "start": "561000",
    "end": "566279"
  },
  {
    "text": "and some of the strategies we put in place to control that right I should not control that guided along context um so",
    "start": "566279",
    "end": "573519"
  },
  {
    "start": "572000",
    "end": "637000"
  },
  {
    "text": "having these efficiency goals is really key I've Opus skated some of the metrics here but at the top we have our kpi",
    "start": "573519",
    "end": "580279"
  },
  {
    "text": "right which is you probably can assume it has something to do with streaming right CU that's sort of or it could be logging so we're a big logging framework",
    "start": "580279",
    "end": "586640"
  },
  {
    "text": "too he probably tracks right with it um and then what we do is we decompose cost",
    "start": "586640",
    "end": "592120"
  },
  {
    "text": "by um these are at the I think the director level and this is based on I status so we get the Amazon billing file",
    "start": "592120",
    "end": "599120"
  },
  {
    "text": "we feed it through a system it goes into Hive we generate tuo reports on top of it um and what this shows is your cost",
    "start": "599120",
    "end": "606600"
  },
  {
    "text": "contribution to the cloud cost overall as a function of your key performance indicator and you can see how it shoots",
    "start": "606600",
    "end": "613560"
  },
  {
    "text": "up and then suddenly there's a big spike in our activity and suddenly it goes down and and it fluctuates a bit and so",
    "start": "613560",
    "end": "619519"
  },
  {
    "text": "this gives individuals at the highest level of the organization the context to understand what percentage of the spend",
    "start": "619519",
    "end": "625200"
  },
  {
    "text": "they are and if it's tracking with the business metrics or not and this gets published weekly um there's also another",
    "start": "625200",
    "end": "632079"
  },
  {
    "text": "tab you'll click on it'll show absolute cost so you can see how much you actually",
    "start": "632079",
    "end": "637399"
  },
  {
    "start": "637000",
    "end": "813000"
  },
  {
    "text": "cost so that's really handy um and it there's a lot of discussions about VP",
    "start": "637480",
    "end": "642920"
  },
  {
    "text": "saying hey look how much you cost look how much I cost and it sort of I think it creates a little gaming system there",
    "start": "642920",
    "end": "648000"
  },
  {
    "text": "um between the with between the divisions which is good um it's healthy healthy competition but usually once",
    "start": "648000",
    "end": "654160"
  },
  {
    "text": "someone realizes that their cost profile is not what they want it to be the first thing they do is they turn to",
    "start": "654160",
    "end": "659959"
  },
  {
    "text": "the engineering managers under them and they say what is going on here like why are we growing so fast and so this was",
    "start": "659959",
    "end": "665800"
  },
  {
    "text": "our first cut and we thought we had it pretty pretty good but what we realized was that to be effective we had to push",
    "start": "665800",
    "end": "672519"
  },
  {
    "text": "that cost context uh down to the engineering managers at the first level and their teams and the services they",
    "start": "672519",
    "end": "678240"
  },
  {
    "text": "own because they can't Barry's like yeah and so you know they would turn to their managers and say why did we grow 30%",
    "start": "678240",
    "end": "685519"
  },
  {
    "text": "over the past week or month or what have you so we leveraged some I data um and then internally we use our Atlas",
    "start": "685519",
    "end": "691399"
  },
  {
    "text": "monitoring system which tracks uh instance instances used by hour by autoscaling group and then we use a",
    "start": "691399",
    "end": "698160"
  },
  {
    "text": "normalized cost we don't want to penalize someone for on demand so there's a normalized cost in here but if",
    "start": "698160",
    "end": "703440"
  },
  {
    "text": "I was an engineering manager and I received this this gets sent out um monthly I would see that my services",
    "start": "703440",
    "end": "710040"
  },
  {
    "text": "together cost about close to $2 million a year and here's my distribution of my services and think of microservices",
    "start": "710040",
    "end": "716120"
  },
  {
    "text": "we've grouped them behind the scenes so microservice might be say a serlet tier plus mcash plus",
    "start": "716120",
    "end": "721720"
  },
  {
    "text": "Cassandra we sort of lump them so we have this mapping behind the scenes that lets us aggregate it and we maintain then the reporting system and so they",
    "start": "721720",
    "end": "729440"
  },
  {
    "text": "can pretty easily see what the largest cost component is of their footprint um they actually see month over month what",
    "start": "729440",
    "end": "735839"
  },
  {
    "text": "the change was so this one dropped by 7% whereas this one went up by 23% and so it lets them start to understand where",
    "start": "735839",
    "end": "742160"
  },
  {
    "text": "that spend is going if they click on one of the um items on the left where they can do a",
    "start": "742160",
    "end": "748360"
  },
  {
    "text": "Breakout they'll actually get it broken down by those tiers I talked about you know the service tier mcash Cassandra",
    "start": "748360",
    "end": "753680"
  },
  {
    "text": "and they can actually see which element is growing within there when I first started doing this a",
    "start": "753680",
    "end": "759000"
  },
  {
    "text": "couple years ago you know I someone's like hey our cost is running off in the weeds why don't you figure that out so I'd go to ice and I'd start pulling down",
    "start": "759000",
    "end": "765480"
  },
  {
    "text": "all this data get some csvs I start generating spreadsheets and I'd say here's where we're here's where we're spending right and in about two weeks it",
    "start": "765480",
    "end": "772160"
  },
  {
    "text": "was completely unvalid because in our architecture and the rate at which people push it's only valid for a couple days right and and it could be there was",
    "start": "772160",
    "end": "779199"
  },
  {
    "text": "an instance running around for an AB test and then it went away so we found that we had to make sure we had a system",
    "start": "779199",
    "end": "785040"
  },
  {
    "text": "that was generating this dynamically and updating it otherwise it was always out of date so as you increase your velocity",
    "start": "785040",
    "end": "792560"
  },
  {
    "text": "um of your engineering efforts you have to increase the velocity of your tracking and cost tools as well or else",
    "start": "792560",
    "end": "798040"
  },
  {
    "text": "it's just going to be a monthly spreadsheet people are like you know first thing they'll say is oh we aren't using that much anymore right but again",
    "start": "798040",
    "end": "805000"
  },
  {
    "text": "it's sort of that context Over Control we try to push the data to the teams they can make better decisions and we see that in most cases uh most cases",
    "start": "805000",
    "end": "811680"
  },
  {
    "text": "they do maximizing sharing so when I talked",
    "start": "811680",
    "end": "817519"
  },
  {
    "text": "about buying reservations so um in terms of the size of our footprint I try not",
    "start": "817519",
    "end": "823839"
  },
  {
    "text": "to give exact numbers but across the three regions we",
    "start": "823839",
    "end": "829920"
  },
  {
    "text": "we run somewhere between say 50 and 100,000 instances in a given day on Amazon of all different",
    "start": "829920",
    "end": "835759"
  },
  {
    "text": "sizes um reservations are by uh I didn't ask who who uses Amazon here does see",
    "start": "835759",
    "end": "842600"
  },
  {
    "text": "okay so you guys to moderate level know the terminology so for ec2 which is the compute that's our biggest component we",
    "start": "842600",
    "end": "848959"
  },
  {
    "text": "use um if I go to Amazon and I say I want to buy an instance from you and I'm going to pay you upfront for three years",
    "start": "848959",
    "end": "854360"
  },
  {
    "text": "to get this great discount they say great no problem what region what instance type what availability zone so",
    "start": "854360",
    "end": "860920"
  },
  {
    "text": "you suddenly have a lock in where if someone goes and uses another instance type in another a I can't leverage that",
    "start": "860920",
    "end": "866680"
  },
  {
    "text": "capacity for their service because it's very fin fine grained um and how the accounting is performed so another",
    "start": "866680",
    "end": "873519"
  },
  {
    "text": "reason that's why we have a single production account we have all these people pushing on regular basis they can share with each other um and we have",
    "start": "873519",
    "end": "879959"
  },
  {
    "text": "fewer larger pools since people are doing red black pushes on a daily basis some teams are doing it on a daily basis",
    "start": "879959",
    "end": "885519"
  },
  {
    "text": "some are doing it maybe once or twice a week outside of that they have these burst into the pools and we end up",
    "start": "885519",
    "end": "892279"
  },
  {
    "text": "having capacity and discount to cover that so we don't micromanage it I don't look I don't like look at people and say",
    "start": "892279",
    "end": "897880"
  },
  {
    "text": "well you're going to push today today but they're pushing tomorrow we just assume if we do burst beyond that we go into on demand and that's the benefit of",
    "start": "897880",
    "end": "904079"
  },
  {
    "text": "the cloud for us and so we maximize that shared capacity I'm going to talk a little bit more about that but if you",
    "start": "904079",
    "end": "911000"
  },
  {
    "text": "look at all of Amazon's ec2 offerings 75% of our uh reservations are only on",
    "start": "911000",
    "end": "917440"
  },
  {
    "text": "eight ec2 instance types and these could be like m3xl m3x you know M3 large um we",
    "start": "917440",
    "end": "923560"
  },
  {
    "text": "have some big ones in there as well but uh this helps us behind the scenes",
    "start": "923560",
    "end": "929240"
  },
  {
    "text": "manage fewer larger pools and I think in the next couple years um Adrian mentioned we have a MOS ular based",
    "start": "929240",
    "end": "935079"
  },
  {
    "text": "framework that does some of our batch activity we're actually considering looking out a year or two how we can um",
    "start": "935079",
    "end": "941480"
  },
  {
    "text": "containerize a large part of our workload and actually abstract a lot of this away I have some concern you I mean",
    "start": "941480",
    "end": "946560"
  },
  {
    "text": "I have some benefits around workload preemption shared capacity but from a um",
    "start": "946560",
    "end": "952399"
  },
  {
    "text": "instance migration planning when we migrate instances today it's a real pain it makes us less agile and it's sort of",
    "start": "952399",
    "end": "958199"
  },
  {
    "text": "a hassle to go to a team and say hey Amazon's released a new instance type it's time to spend a bunch of time getting you onto the new instance type",
    "start": "958199",
    "end": "964560"
  },
  {
    "text": "and we want to get away from that but um that's just another aspect of having",
    "start": "964560",
    "end": "969839"
  },
  {
    "text": "sharing and this is updated fairly dynamically so we build a lot of these little tools that give visibility to",
    "start": "969839",
    "end": "974920"
  },
  {
    "text": "teams and you can drill down on the ASG on you know the the different zones but",
    "start": "974920",
    "end": "979959"
  },
  {
    "text": "it gives that realtime view for everybody to look at um where their capacity is",
    "start": "979959",
    "end": "986199"
  },
  {
    "text": "outlaid so we encourage borrowing and borrowing goes beyond just within the single product account so when you set",
    "start": "986240",
    "end": "992600"
  },
  {
    "text": "up an set of Amazon accounts for your business yesterday someone mentioned I think the dev Su Ops talked that they had 1400 accounts for security purposes",
    "start": "992600",
    "end": "1000560"
  },
  {
    "text": "that might be a little complex to accomplish what we did in terms of linking but Amazon will give you a Consolidated bill and when you set up",
    "start": "1000560",
    "end": "1006959"
  },
  {
    "text": "your accounts before you launch the first instance you want to say to the AWS people make sure that these accounts",
    "start": "1006959",
    "end": "1013240"
  },
  {
    "text": "have my availability zones lining up because what happens then is when I purchase a reservation in prod if I have",
    "start": "1013240",
    "end": "1019120"
  },
  {
    "text": "a linked account like my encoding account that's doing a video encoding if they launch an instance in the same",
    "start": "1019120",
    "end": "1024720"
  },
  {
    "text": "availability Zone during that period and I'm not using that reservation in the prod account I get the billing benefit",
    "start": "1024720",
    "end": "1030438"
  },
  {
    "text": "so that's what we call our internal spot market and we really try to maximize that that's how we recover a lot of that",
    "start": "1030439",
    "end": "1036280"
  },
  {
    "text": "cost of 24 by7 so I'm sorry um we dynamically autoscale",
    "start": "1036280",
    "end": "1043480"
  },
  {
    "text": "this is a period of a week if you guys can see it that's one of our big online services that um is running every day in",
    "start": "1043480",
    "end": "1050240"
  },
  {
    "text": "one region Us East this is in Us East one they did a push here that's why it changed colors you can see there is an",
    "start": "1050240",
    "end": "1055360"
  },
  {
    "text": "overlap of capacity but they basically reactively autoscale with load we also have",
    "start": "1055360",
    "end": "1061120"
  },
  {
    "text": "something we haven't open sourced but Adrien or someone mentioned which is our predictive autoscaling engines so we run",
    "start": "1061120",
    "end": "1066559"
  },
  {
    "text": "like fft look at the previous week's workload set them in set our floor for these to a certain value and so for the",
    "start": "1066559",
    "end": "1072919"
  },
  {
    "text": "most part we have almost as much capacity as we need on a given daily basis and then we can burst beyond that if we need it but if you look at these",
    "start": "1072919",
    "end": "1079480"
  },
  {
    "text": "gigantic troughs um over here that's 500 up to about 2700",
    "start": "1079480",
    "end": "1086240"
  },
  {
    "text": "and these are pretty big like 16 vcpu systems and so all of this all of this",
    "start": "1086240",
    "end": "1091760"
  },
  {
    "text": "dead space in here is capacity that we've paid for that we're not using and so my VP looks to me and says Coburn why",
    "start": "1091760",
    "end": "1098480"
  },
  {
    "text": "are we not using that capacity and that becomes a challenge that becomes a challenge for me because then I have to",
    "start": "1098480",
    "end": "1104000"
  },
  {
    "text": "turn to other teams and say why can't you help me use this capacity we recently created a new API",
    "start": "1104000",
    "end": "1109039"
  },
  {
    "text": "that actually allows a user to consume um all of the reservation usage all of the on demand usage and the billing data",
    "start": "1109039",
    "end": "1115880"
  },
  {
    "text": "or sort of the borrowing data so they can actually look real time semi-real time and say hey this a has a bunch of",
    "start": "1115880",
    "end": "1122000"
  },
  {
    "text": "spare capacity and the encoding team will spin up a bunch of jobs and then every 5 minutes they'll look to see if that buffer is getting too small and",
    "start": "1122000",
    "end": "1127960"
  },
  {
    "text": "they'll tear it down this uh this Autos scaling group on the bottom that's a",
    "start": "1127960",
    "end": "1133480"
  },
  {
    "text": "pre-compute service so every day Netflix calculates your recommendations it's probably no surprise",
    "start": "1133480",
    "end": "1138919"
  },
  {
    "text": "but you can see that it fits in the trough in general now this is fairly primitive and that it's a scheduled action within Amazon and we just stand",
    "start": "1138919",
    "end": "1145120"
  },
  {
    "text": "it up and tear it down but they're almost not overlapping for a large amount of the",
    "start": "1145120",
    "end": "1150799"
  },
  {
    "text": "capacity I don't have the data for the borrowed accounts um say our data end which runs large Hadoop jobs or our",
    "start": "1150799",
    "end": "1157159"
  },
  {
    "text": "encoding account which encodes the video but if you overlaid that you would see a lot more of this spare capacity um going",
    "start": "1157159",
    "end": "1163760"
  },
  {
    "text": "away which is really what we we shoot for um and they get that billing benefit",
    "start": "1163760",
    "end": "1168960"
  },
  {
    "text": "and that's over about a week so optimization plays a part in it",
    "start": "1168960",
    "end": "1174080"
  },
  {
    "start": "1171000",
    "end": "1346000"
  },
  {
    "text": "so I have the performance engineering team as well and we do direct consultation for really big Services we have about 400 microservices and uh",
    "start": "1174080",
    "end": "1182320"
  },
  {
    "text": "their distribution of size um there's probably 10% which represents say 50% of",
    "start": "1182320",
    "end": "1187400"
  },
  {
    "text": "the capacity when they have a big shift we get engaged with them and help optimize for the rest of them we create",
    "start": "1187400",
    "end": "1193039"
  },
  {
    "text": "tooling so they can look at um the performance of their service whenever they want uh cuz in Netflix every",
    "start": "1193039",
    "end": "1198679"
  },
  {
    "text": "engineering team there's probably about 40 engineering teams that own these 400 microservices everybody has someone on",
    "start": "1198679",
    "end": "1204520"
  },
  {
    "text": "call they handle their design development Operation Push page like I",
    "start": "1204520",
    "end": "1209799"
  },
  {
    "text": "don't own anybody's operational stuff for their services right like I'm sort of a coordination point for reliability",
    "start": "1209799",
    "end": "1215880"
  },
  {
    "text": "but every team owns every aspect they can implement it in JavaScript they can use closure they can use scolar it",
    "start": "1215880",
    "end": "1221159"
  },
  {
    "text": "doesn't matter right um we are heavily jvm based but um having that decoupling",
    "start": "1221159",
    "end": "1226679"
  },
  {
    "text": "allows everybody to handle their own operational aspects here's an example of two separate flows the one on the left is",
    "start": "1226679",
    "end": "1233320"
  },
  {
    "text": "when you have a new feature or a new service coming out and that tends to be a little bit more of a special case in which it's developed it's deployed we",
    "start": "1233320",
    "end": "1240240"
  },
  {
    "text": "keep a little closer eye on it and as we scale it up we optimize if needed sometimes at our current scale there are",
    "start": "1240240",
    "end": "1246120"
  },
  {
    "text": "Services which come out of the gate that are very inefficient and we have to get in and profile um and optimize a number",
    "start": "1246120",
    "end": "1252360"
  },
  {
    "text": "of ways the one on the right is day-to-day",
    "start": "1252360",
    "end": "1258960"
  },
  {
    "text": "development so you develop your code you push it through a red black but as part of that through our continuous delivery",
    "start": "1258960",
    "end": "1265080"
  },
  {
    "text": "framework you have a canary and our automated Canary analysis framework is sort of our gate for a production push",
    "start": "1265080",
    "end": "1270679"
  },
  {
    "text": "teams adopt it to various levels that edge team I showed you here that scales up to 3,000 instances that's",
    "start": "1270679",
    "end": "1278320"
  },
  {
    "text": "our most complex service they sit on the edge you know tens of millions of devices are talking to it every day they",
    "start": "1278320",
    "end": "1283400"
  },
  {
    "text": "have to incorporate about 700 jar files every time they build from all the clients that they talk to uh in the",
    "start": "1283400",
    "end": "1289440"
  },
  {
    "text": "architecture they push every day um in most cases I grabbed last week they had a issue but in general they push every",
    "start": "1289440",
    "end": "1296080"
  },
  {
    "text": "24 hours on a schedule it goes out so that that tier gets replaced every day and it rolls in a global way across the",
    "start": "1296080",
    "end": "1302320"
  },
  {
    "text": "uh production environment um but we run canaries that helps with efficiency as well because we",
    "start": "1302320",
    "end": "1307640"
  },
  {
    "text": "don't stand everything up and see if it fails we you know stand up a canary and a baseline The Edge team probably has",
    "start": "1307640",
    "end": "1313600"
  },
  {
    "text": "about 3,000 metrics that they've grouped into various categories and they have a score and if that score score I think is below 70% the push won't go out if the",
    "start": "1313600",
    "end": "1320640"
  },
  {
    "text": "score is above 70% the push goes out and they fine-tune it over time but it automates it and it rolls it the canary",
    "start": "1320640",
    "end": "1328240"
  },
  {
    "text": "oh the uh the canary will catch both functional and performance deviations right L like big bang performance",
    "start": "1328240",
    "end": "1334440"
  },
  {
    "text": "deviations are things that we catch right away and then we optimize before they actually deploy it out so they don't cause any capacity issues but it's",
    "start": "1334440",
    "end": "1341120"
  },
  {
    "text": "up to the teams to implement Canary analysis and catch that on their",
    "start": "1341120",
    "end": "1346559"
  },
  {
    "start": "1346000",
    "end": "1597000"
  },
  {
    "text": "watch so um we tend to be too big for most commercial tools we we've brought a few",
    "start": "1346559",
    "end": "1352640"
  },
  {
    "text": "in before we've killed we've killed them um and I don't not in a bad way right I",
    "start": "1352640",
    "end": "1357760"
  },
  {
    "text": "mean we're sort of their performance lab if you have these 50 plus thousand things somewhere between 50 and 100,000 running it's a lot of data for PE for",
    "start": "1357760",
    "end": "1364799"
  },
  {
    "text": "these systems to consume and the systems themselves tend to have um very broad use cases right we want to create a CTO",
    "start": "1364799",
    "end": "1371720"
  },
  {
    "text": "dashboard and we also want to show you your response time and look at your rum data and we tend to have very",
    "start": "1371720",
    "end": "1376760"
  },
  {
    "text": "specialized use cases around hey I have an engineering team that wants to look at the uh transaction flow across tiers",
    "start": "1376760",
    "end": "1383400"
  },
  {
    "text": "using a framework that's much like Google's Dapper has you know response time information transaction tracing",
    "start": "1383400",
    "end": "1389559"
  },
  {
    "text": "this uh this utility solumn that the performance team created actually shows Demand on a service this is a function",
    "start": "1389559",
    "end": "1395400"
  },
  {
    "text": "of your request rate and your response time you can double click on the bar and it will show you your demand from Upstream into your Downstream",
    "start": "1395400",
    "end": "1401360"
  },
  {
    "text": "microservices and it lets you see the flow through the environment the the value here is if I needed to optimize my",
    "start": "1401360",
    "end": "1407480"
  },
  {
    "text": "service I can fairly quickly understand how much time is spent in my service versus my dependencies and go work on",
    "start": "1407480",
    "end": "1412960"
  },
  {
    "text": "those optimizations as need be but you know this probably this view right here probably incorporates",
    "start": "1412960",
    "end": "1418960"
  },
  {
    "text": "maybe I want to say about 9,000 instances worth of data and it Aggregates it",
    "start": "1418960",
    "end": "1424240"
  },
  {
    "text": "up um on the right sometimes we find there are aspects of our stack which",
    "start": "1424240",
    "end": "1429360"
  },
  {
    "text": "don't give us the visibility we want um brandan Greg's on my performance team you might have heard of him he does a",
    "start": "1429360",
    "end": "1434480"
  },
  {
    "text": "lot of performance work and he gets very frustrated when he has to use multiple tools to solve a problem like hey I'm",
    "start": "1434480",
    "end": "1439919"
  },
  {
    "text": "going to go use perf to look at system data and then I'm going to go find out where CPU time is spent in the jvm so",
    "start": "1439919",
    "end": "1445000"
  },
  {
    "text": "I'm going to install an agent and I'm going to start using this profiler and he gets really frustrated CU he just wants to do it from the system level all",
    "start": "1445000",
    "end": "1451320"
  },
  {
    "text": "the way through system and user space right so he uh he started doing some sampling against um the jvm and all this",
    "start": "1451320",
    "end": "1458640"
  },
  {
    "text": "used to be blank in here this green stuff that's user space code and the problem was was that the",
    "start": "1458640",
    "end": "1463960"
  },
  {
    "text": "jvm clobbers the frame pointer registry it's an old optimization but is result you get the stack frames from perf you",
    "start": "1463960",
    "end": "1469640"
  },
  {
    "text": "can't really reassemble an accurate stack of where time is spent so he went in um about 6 months ago and he found",
    "start": "1469640",
    "end": "1476440"
  },
  {
    "text": "the assembly code where that was happening and he changed it and he started working with the sun hotspot developers on the on the mailing list",
    "start": "1476440",
    "end": "1482600"
  },
  {
    "text": "and got the patch in so I think two weeks ago Sun released Java 8 update 60",
    "start": "1482600",
    "end": "1488159"
  },
  {
    "text": "and now you can um run with a certain XX flag you actually can get the full stack traces right or full stack frames and",
    "start": "1488159",
    "end": "1495120"
  },
  {
    "text": "then you can also run a mapping agent that shows you address to memory so you can actually generate this in a really lightweight fashion and see where all",
    "start": "1495120",
    "end": "1501720"
  },
  {
    "text": "your CPU time is spent on your system from system through user space so that's an example of creating a custom tool",
    "start": "1501720",
    "end": "1508520"
  },
  {
    "text": "sometimes by I I didn't think we'd get it through Oracle but we did um so they obviously thought it was high value and it was a simple change but we're very",
    "start": "1508520",
    "end": "1515440"
  },
  {
    "text": "happy now that we have that cuz that eliminates a lot of workarounds we had to do before with multiple tools um he's",
    "start": "1515440",
    "end": "1521000"
  },
  {
    "text": "blogged about it quite a bit so you can actually check that out um one last thing I wanted to call",
    "start": "1521000",
    "end": "1527559"
  },
  {
    "text": "out is in in our goal of being lean right we we want to purchase capacity we want to have these reservations to make",
    "start": "1527559",
    "end": "1533480"
  },
  {
    "text": "sure that the capacity is there and we need it which can lead to waste but we don't want to overstep sometimes you'll have teams that will come to us and say",
    "start": "1533480",
    "end": "1539960"
  },
  {
    "text": "hey I did a push today and I couldn't get you know an R3 8xl for some reason in one availability",
    "start": "1539960",
    "end": "1547000"
  },
  {
    "text": "Zone and the answer is really we're not going to purchase so much capacity that we're never going to have what's called",
    "start": "1547120",
    "end": "1553399"
  },
  {
    "text": "an ice not the ice tool but an insufficient capacity exception so we built a tool that layers on I think it",
    "start": "1553399",
    "end": "1559279"
  },
  {
    "text": "consumes cloud trail events through another utility we have inside called Kronos which is our auditing framework",
    "start": "1559279",
    "end": "1565360"
  },
  {
    "text": "but the um the capacity team actually gets reports that shows when we're getting iced in what availability Zone",
    "start": "1565360",
    "end": "1571799"
  },
  {
    "text": "if it starts to be sort of a major situation where we can't get a consistent instance type we want in a certain availability Zone um we'll open",
    "start": "1571799",
    "end": "1578520"
  },
  {
    "text": "up a ticket with Amazon and have a discussion with them and there might be a shortfall but also gives us good visibility into when our uh uh",
    "start": "1578520",
    "end": "1585480"
  },
  {
    "text": "deployment models changing and we need to start purchasing more reservations in that family but the data around these",
    "start": "1585480",
    "end": "1590679"
  },
  {
    "text": "ice events is actually available for you directly from Amazon so it's handy to keep an eye",
    "start": "1590679",
    "end": "1596480"
  },
  {
    "text": "on um so it was mentioned that I should talk about some winds like actually put",
    "start": "1596480",
    "end": "1602080"
  },
  {
    "start": "1597000",
    "end": "1836000"
  },
  {
    "text": "some data in here I tried to be a little bit loose but in terms of internal borrowing so this is a big deal for us",
    "start": "1602080",
    "end": "1607600"
  },
  {
    "text": "because we've been working on this for probably 2 years uh I've been had I've had some requests for me for a while to",
    "start": "1607600",
    "end": "1614039"
  },
  {
    "text": "make this happen but I've had dependencies on other teams being able to consume the capacity but our encoding team uh we had a data",
    "start": "1614039",
    "end": "1620880"
  },
  {
    "text": "point from June so they used about 132 135,000 instance hours from the product",
    "start": "1620880",
    "end": "1627200"
  },
  {
    "text": "count that they didn't really have to pay for if they had had to buy that capacity they would have had to spend about $200,000 a month so that was a",
    "start": "1627200",
    "end": "1633360"
  },
  {
    "text": "pretty big savings and we had already paid for it so we actually still paid the 200,000 but it just didn't go was",
    "start": "1633360",
    "end": "1639840"
  },
  {
    "text": "unused our data platform team the Hadoop team that uses EMR they um they're",
    "start": "1639840",
    "end": "1645559"
  },
  {
    "text": "switching instance family so this might not still the case but they were saving on the order of about a million dollar a year by standing up a custom cluster at",
    "start": "1645559",
    "end": "1651960"
  },
  {
    "text": "night to run very special jobs they called it the super cluster uh and then they would tear it down at a certain",
    "start": "1651960",
    "end": "1657840"
  },
  {
    "text": "time in the morning so this is an example of you buy the reservations you lay the cash out for it but then you",
    "start": "1657840",
    "end": "1662960"
  },
  {
    "text": "make sure behind the scenes that you get teams who are interested in leveraging that it's basically free for them and it looks great because it doesn't show up",
    "start": "1662960",
    "end": "1670000"
  },
  {
    "text": "well the reserved hourly rate shows up in their chart but it's not the same as the amorti sort of upfront plus Reserve",
    "start": "1670000",
    "end": "1675679"
  },
  {
    "text": "so sort of funny math inside but teams love borrowing this capacity um nobody's",
    "start": "1675679",
    "end": "1680720"
  },
  {
    "text": "used it for Bitcoin or anything there's a lot of it there I think we just create an application",
    "start": "1680720",
    "end": "1686760"
  },
  {
    "text": "called something unique Coburn's app um so in summary um I think it's",
    "start": "1686760",
    "end": "1694039"
  },
  {
    "text": "really important and we did this we've done this for a while now is to figure out what that balance is of your Innovation versus your efficiency right",
    "start": "1694039",
    "end": "1700120"
  },
  {
    "text": "as an organization you're going to put more focus on one or the other Innovation hands down is what we're",
    "start": "1700120",
    "end": "1706480"
  },
  {
    "text": "focusing on I try to stay as much as possible out of the way of innovation my goal is to get Engineers capacity when",
    "start": "1706480",
    "end": "1711840"
  },
  {
    "text": "they need it when they want it and as much as they want and then behind the scenes I wouldn't call it playing games",
    "start": "1711840",
    "end": "1717760"
  },
  {
    "text": "but get the context balance all of these uh different dependencies and make sure that we're efficient at the end of the",
    "start": "1717760",
    "end": "1722880"
  },
  {
    "text": "day and it's more of a soft goal for us like if I don't meet my efficiency goal I don't think I'm going to get fired um",
    "start": "1722880",
    "end": "1729320"
  },
  {
    "text": "but it's something where it gives us a it gives us a Target to shoot for when I have a discussion with managers I can talk about a concrete goal so it's",
    "start": "1729320",
    "end": "1736480"
  },
  {
    "text": "probably not a real surprise but it's good to understand where you fall in that Spectrum pushing that data down to the",
    "start": "1736480",
    "end": "1742880"
  },
  {
    "text": "team level you really want the individuals who are closest to the deployment model to understand what their cost is we find a lot of cases",
    "start": "1742880",
    "end": "1749240"
  },
  {
    "text": "where someone doesn't have an efficient say deployment pipeline they might be doing it manually they stand up a service or an ASG they stand up another",
    "start": "1749240",
    "end": "1756360"
  },
  {
    "text": "Autos scaling group they forget about it and it's running out there right this sort of data helps them determine how to",
    "start": "1756360",
    "end": "1761960"
  },
  {
    "text": "become more efficient in their development models and it's not like a you know a finger wag at them it's just",
    "start": "1761960",
    "end": "1767000"
  },
  {
    "text": "like hey here's your data and most people act on it appropriately",
    "start": "1767000",
    "end": "1772360"
  },
  {
    "text": "um I think was it Ralph walderson said um the cloud is not a destination it's a",
    "start": "1772360",
    "end": "1778840"
  },
  {
    "text": "journey or something along those lines it was probably life but uh for us it's really been a journey Adrien was there",
    "start": "1778840",
    "end": "1784480"
  },
  {
    "text": "gave birth birth to this Netflix Cloud baby um and that was somewhere in the 200920 time frame and just this year",
    "start": "1784480",
    "end": "1791679"
  },
  {
    "text": "we're getting our final application out of the data center so it has been a journey uh and so when we talk about",
    "start": "1791679",
    "end": "1797760"
  },
  {
    "text": "this stuff sometimes people become a little bit awe in awe of how we do all this at this scale um it's been a",
    "start": "1797760",
    "end": "1803799"
  },
  {
    "text": "process right it's something that takes a bit of time and so you know don't focus on efficiency so much day one but",
    "start": "1803799",
    "end": "1809799"
  },
  {
    "text": "as you go in over time build up that uh strategy and those tools to help you achieve um what you need to do as a",
    "start": "1809799",
    "end": "1816799"
  },
  {
    "text": "business and there's a Netflix spaceship taken off please rate the session um and I'll",
    "start": "1816799",
    "end": "1823399"
  },
  {
    "text": "see you tonight if you have any questions [Applause]",
    "start": "1823399",
    "end": "1830499"
  }
]