[
  {
    "start": "0",
    "end": "25000"
  },
  {
    "text": "[Music]",
    "start": "3510",
    "end": "6640"
  },
  {
    "text": "so i'm going to talk about securing danish healthcare using cloud native tools",
    "start": "12799",
    "end": "17840"
  },
  {
    "text": "and not just all cloud native at all danish healthcare but a specific project",
    "start": "17840",
    "end": "23359"
  },
  {
    "text": "um first off let's take a short look at what what i mean when i see cloud native because it's kind of an overloaded term",
    "start": "23359",
    "end": "29279"
  },
  {
    "start": "25000",
    "end": "61000"
  },
  {
    "text": "where everyone had their own definition and the definition that i'm going to work from today is",
    "start": "29279",
    "end": "34320"
  },
  {
    "text": "if you're going to build and run scalable applications you're going to do it in dynamic environments you're going",
    "start": "34320",
    "end": "40079"
  },
  {
    "text": "to go with public cloud private cloud hybrid crowds clouds and we're going to go for containers microservices",
    "start": "40079",
    "end": "46000"
  },
  {
    "text": "serverless functions and immutable infrastructure so all of what has been the bit hype for the last",
    "start": "46000",
    "end": "52559"
  },
  {
    "text": "five years i'm saying and we're going to do all of this using declarative code so this is all based",
    "start": "52559",
    "end": "59120"
  },
  {
    "text": "upon a product i've done a trifolk for the last two years something like that",
    "start": "59120",
    "end": "65119"
  },
  {
    "start": "61000",
    "end": "198000"
  },
  {
    "text": "which is a large common dens telemedicine platform",
    "start": "65119",
    "end": "70720"
  },
  {
    "text": "this platform is scoring all of denmark so all five regions and all 98 municipalities in denmark so it's uh",
    "start": "70720",
    "end": "77360"
  },
  {
    "text": "basically for for all danes and specifically it's for all danes who have a chronical illness",
    "start": "77360",
    "end": "83360"
  },
  {
    "text": "so the goal here is to allow patients to live at home while being chronically ill where they would normally go to the",
    "start": "83360",
    "end": "89920"
  },
  {
    "text": "hospital all the time or often to have a checkup from a doctor to check out from from nurses making sure that they're",
    "start": "89920",
    "end": "95360"
  },
  {
    "text": "still healthy enough to to go home and live their life the goal here is they can do that at home",
    "start": "95360",
    "end": "102159"
  },
  {
    "text": "so the answer questionnaire is each day they answer what their blood pressure is and the",
    "start": "102159",
    "end": "107840"
  },
  {
    "text": "lung capacity and whatever is needed for the specific illness i won't dive too much into that because",
    "start": "107840",
    "end": "113680"
  },
  {
    "text": "that's profit sicknesses and stuff and i have no idea about that but i know about platform and security so that's",
    "start": "113680",
    "end": "120479"
  },
  {
    "text": "that's what i'm looking at and i was the the lead architect and the team lead for doing the infrastructure layer so this",
    "start": "120479",
    "end": "126960"
  },
  {
    "text": "is the the lowest layer in the stack right looking at cloud resources looking at the container run science looking at",
    "start": "126960",
    "end": "133200"
  },
  {
    "text": "securing the images and securing networks and of course when working with healthcare in denmark or anywhere in the",
    "start": "133200",
    "end": "140480"
  },
  {
    "text": "world you have to have a very strong focus on stability you can't have systems that sometimes works because",
    "start": "140480",
    "end": "147120"
  },
  {
    "text": "then people start not relying on them or start dying off in the worst cases right",
    "start": "147120",
    "end": "152879"
  },
  {
    "text": "you need to know who's using the system who's looking at the data so we need a very high level of observability",
    "start": "152879",
    "end": "158800"
  },
  {
    "text": "and of course we need a very high level of security as well because we don't just want to expose everyone's data to",
    "start": "158800",
    "end": "164640"
  },
  {
    "text": "everyone else or have bad intruders in the systems this was the the three key",
    "start": "164640",
    "end": "171200"
  },
  {
    "text": "elements i think of the infrastructure layout the platform layer what i'm going to do today is we're not",
    "start": "171200",
    "end": "177360"
  },
  {
    "text": "going to look at the specific implementation of this healthcare system because that that would take the entire conference i",
    "start": "177360",
    "end": "182840"
  },
  {
    "text": "think we're going to look at the different core components we used we're going to look at different open source tools that help us",
    "start": "182840",
    "end": "189599"
  },
  {
    "text": "gain a higher level of confidence that these part systems or these part layers are secure",
    "start": "189599",
    "end": "197280"
  },
  {
    "text": "and more specifically we're going to look at the defense in depth and looking at these four c's in cloud native",
    "start": "197280",
    "end": "202879"
  },
  {
    "start": "198000",
    "end": "381000"
  },
  {
    "text": "security which has been made public or designed by trent micro",
    "start": "202879",
    "end": "210640"
  },
  {
    "text": "so we're looking at the cloud we're looking at the cluster we're looking at the container and looking at the codes how many in here",
    "start": "210640",
    "end": "216640"
  },
  {
    "text": "does containers or stuff like that at the usual day you know stuff like that yeah okay that's perfect so",
    "start": "216640",
    "end": "222879"
  },
  {
    "text": "you're good crowd for this talk i'm glad so let's let's take a short look at the first layer right this is the absolute",
    "start": "222879",
    "end": "229680"
  },
  {
    "text": "lowest layer this is the cloud infrastructure this is the your data center this is your",
    "start": "229680",
    "end": "235200"
  },
  {
    "text": "co-located center if you're sharing your data with someone else um so one of the key principles that we",
    "start": "235200",
    "end": "241360"
  },
  {
    "text": "talked about in the definition of cloud native was this would be declarative code so what we chose to do here was",
    "start": "241360",
    "end": "248239"
  },
  {
    "text": "not clicking in the different cloud locate different cloud providers consoles and i",
    "start": "248239",
    "end": "254400"
  },
  {
    "text": "need database and i need some clusters and do network and stuff but declaring everything as code so it's",
    "start": "254400",
    "end": "260320"
  },
  {
    "text": "reproducible so we can have the same infrastructure in all of our test environments the same infrastructure in",
    "start": "260320",
    "end": "265680"
  },
  {
    "text": "our production environment we can roll the infrastructure as we do with the code right one",
    "start": "265680",
    "end": "271840"
  },
  {
    "text": "environment at a time making sure that it works make sure that it's secure before we actually hit the production layer",
    "start": "271840",
    "end": "277600"
  },
  {
    "text": "and securing this layer this is kind of the the old school stuff right so this is",
    "start": "277600",
    "end": "283840"
  },
  {
    "text": "what we should have been doing in software engineering for the last i'm going to go ahead and say 30 years",
    "start": "283840",
    "end": "289840"
  },
  {
    "text": "probably more than that right this is looking at the network access who can actually access this it's just public on",
    "start": "289840",
    "end": "295120"
  },
  {
    "text": "the internet or is this just like encapsulated inside so all our servers can talk together and do",
    "start": "295120",
    "end": "301280"
  },
  {
    "text": "we actually need all the servers to talk to all the other servers right it's this kind of layer it's looking at disk",
    "start": "301280",
    "end": "306320"
  },
  {
    "text": "encryption so are all of our machines encrypted at rest so if someone actually goes into a data center and deals a",
    "start": "306320",
    "end": "311759"
  },
  {
    "text": "machine can we just look at all the data on it or is the disk encrypted is our database is encrypted do we have",
    "start": "311759",
    "end": "317680"
  },
  {
    "text": "specific passwords on the different databases so that not all applications can just look at all",
    "start": "317680",
    "end": "322960"
  },
  {
    "text": "data so if you if you lose the control of one application can they steal everything i can only steal",
    "start": "322960",
    "end": "328960"
  },
  {
    "text": "the small path that that application was responsible for um",
    "start": "328960",
    "end": "334080"
  },
  {
    "text": "yes this is the the layer that we're talking about first and specifically what we did here was",
    "start": "334080",
    "end": "340479"
  },
  {
    "text": "we'll use terraform because that was the big hype and it still is the the most stable thing i think for for doing this",
    "start": "340479",
    "end": "348400"
  },
  {
    "text": "and the awesome thing about teleform is this allows you to actually define encode your entire setup it",
    "start": "348400",
    "end": "354320"
  },
  {
    "text": "allows you to completely make it reproducible it allows you to deploy it to different environments and roll up",
    "start": "354320",
    "end": "359680"
  },
  {
    "text": "and it's code and for code we can do static analysis right so we can actually look at the",
    "start": "359680",
    "end": "364880"
  },
  {
    "text": "telephone code and say uh run different rule engines or anything does this have big problems",
    "start": "364880",
    "end": "371440"
  },
  {
    "text": "and one tool i'll give a shout out here is a tf scan or tf sec",
    "start": "371440",
    "end": "377280"
  },
  {
    "text": "as it's called now it's just been bought by aqua security and now we're trying to do the whole",
    "start": "377280",
    "end": "382880"
  },
  {
    "start": "381000",
    "end": "625000"
  },
  {
    "text": "demo thing of the tools we're still only doing local demos so it's not that bad",
    "start": "382880",
    "end": "388800"
  },
  {
    "text": "i have here a telephone file it's called main.tf it's all the way over there and",
    "start": "388800",
    "end": "394240"
  },
  {
    "text": "if we look at that one we see i stole this of the internet right because that's how we do software development nowadays i go on github or i",
    "start": "394240",
    "end": "401440"
  },
  {
    "text": "go on stack overflow and say i want start from something something service and database and that's this example yeah there we go i have it here",
    "start": "401440",
    "end": "409280"
  },
  {
    "text": "so the description in the top clearly states that this gives you a virtual private cloud in amazon that's nice",
    "start": "409280",
    "end": "415440"
  },
  {
    "text": "private i like that it gives me a public subnet okay public i can someone can talk to me that's nice two private shop",
    "start": "415440",
    "end": "421680"
  },
  {
    "text": "nets one for the database and one for the ec2 instance or the version of machines and those are tied together somehow so",
    "start": "421680",
    "end": "428319"
  },
  {
    "text": "it makes sense that's perfect i can see i can put some variables in here but there are defaults here so that's nice",
    "start": "428319",
    "end": "434479"
  },
  {
    "text": "right but i can scroll down over and see it looks it looks kind of sane here creates me a private cloud that's awesome you",
    "start": "434479",
    "end": "440800"
  },
  {
    "text": "don't actually have to understand this um but we'll take a short look at tools that can help you do that right",
    "start": "440800",
    "end": "446479"
  },
  {
    "text": "there's some private subnets and another private shopping for the database and for the web server and this is all good",
    "start": "446479",
    "end": "452160"
  },
  {
    "text": "let's just uh let's just apply this to amazon i already did that look at that later uh and now",
    "start": "452160",
    "end": "458560"
  },
  {
    "text": "maybe i should actually before i applied i should have run the security scan on and seeing if it's too badly broken or not but",
    "start": "458560",
    "end": "466319"
  },
  {
    "text": "we do i did it already and now um we have this tool tf sector from security",
    "start": "466319",
    "end": "472319"
  },
  {
    "text": "and when we scan our terraform code here it went very fast because it's just static analysis this one comes up saying",
    "start": "472319",
    "end": "479360"
  },
  {
    "text": "for this code let's do a small look on the code right it's",
    "start": "479360",
    "end": "485039"
  },
  {
    "text": "called main something word count",
    "start": "485039",
    "end": "491720"
  },
  {
    "text": "the 300 lines of terraform these 300 lines of javafram has 16 critical security errors",
    "start": "494160",
    "end": "501280"
  },
  {
    "text": "12 lows and some mediums and highs but 16 critical so this means that if i just deploy this in production i have some i",
    "start": "501280",
    "end": "507039"
  },
  {
    "text": "can have some very bad days and we can look at what it is right so let's just scroll up",
    "start": "507039",
    "end": "512640"
  },
  {
    "text": "this one says here that for your web server you're allowing everyone to talk to the website that may",
    "start": "512640",
    "end": "519039"
  },
  {
    "text": "be okay right because it's web servers i would expect everyone to talk to it um it also says",
    "start": "519039",
    "end": "526720"
  },
  {
    "text": "let's see if there's anything interesting here it says here that you're hard coding",
    "start": "528560",
    "end": "534640"
  },
  {
    "text": "uh the secret key right so this is here it will just be checked into kit so this one would allow everyone with",
    "start": "534640",
    "end": "540560"
  },
  {
    "text": "access to git to look at your uh to look at your production data that's not that's not great right",
    "start": "540560",
    "end": "546880"
  },
  {
    "text": "this one says that the database is fully open to the internet so it did say something about a",
    "start": "546880",
    "end": "552560"
  },
  {
    "text": "private.net but the prior.net is actually completely open to the internet both going in and going out if we",
    "start": "552560",
    "end": "558240"
  },
  {
    "text": "scroll through and found the going out rule as well that's here right so this is the database is allowed or the web server here is allowed to call",
    "start": "558240",
    "end": "564959"
  },
  {
    "text": "anyone they want on the entire internet no firewalls no nothing",
    "start": "564959",
    "end": "570720"
  },
  {
    "text": "um and we see yeah more hardcore credentials i think there's a fun one we could find",
    "start": "570720",
    "end": "575760"
  },
  {
    "text": "if you just scroll up here somewhere that says that the [Music]",
    "start": "575760",
    "end": "581920"
  },
  {
    "text": "database password is hard coded for my password but there's so many errors here that",
    "start": "581920",
    "end": "587760"
  },
  {
    "text": "it's hard to find right um so basically what we see is with very",
    "start": "587760",
    "end": "594320"
  },
  {
    "text": "low effort we could cut off all the low hanging branches for this and actually clean this up",
    "start": "594320",
    "end": "601040"
  },
  {
    "text": "there we go default password actually used password for the database the database that is",
    "start": "601600",
    "end": "606640"
  },
  {
    "text": "exposed to the entire internet um my user my password and not even a variable that put in",
    "start": "606640",
    "end": "613600"
  },
  {
    "text": "so this is this is something that is worth looking at if you're doing infrastructure code you can actually do security scanning",
    "start": "613600",
    "end": "619360"
  },
  {
    "text": "and up front start doing your security audit for this instead of waiting to the",
    "start": "619360",
    "end": "624800"
  },
  {
    "text": "audit guys comes at the last minute and saying oh dear this is not good",
    "start": "624800",
    "end": "630959"
  },
  {
    "start": "625000",
    "end": "695000"
  },
  {
    "text": "the next layer of the entire cloud provider thing when we looked at all the networks and",
    "start": "630959",
    "end": "636399"
  },
  {
    "text": "stuff for us at least is the kubernetes cluster we run everything on kubernetes as the container orchestrator",
    "start": "636399",
    "end": "642160"
  },
  {
    "text": "and [Music] kubernetes is a big beast it has a lot of working uh",
    "start": "642160",
    "end": "649600"
  },
  {
    "text": "components and it has a lot of things in it it has an api server that you can talk to and tell it to do everything",
    "start": "649600",
    "end": "655200"
  },
  {
    "text": "right drop that work you know spin this workload up give me all your secrets it's nicely exposed in the advice server",
    "start": "655200",
    "end": "662000"
  },
  {
    "text": "all of the worker nodes have their own services running that you can talk to and instruct them to do stuff",
    "start": "662000",
    "end": "667200"
  },
  {
    "text": "right are these export on the internet so everyone can talk to them do we have the lines the right level of security on",
    "start": "667200",
    "end": "672800"
  },
  {
    "text": "the api server there's also a distributed database believe this called atd",
    "start": "672800",
    "end": "678079"
  },
  {
    "text": "and we need to know if the std is exposed on the internet if it's actually secure",
    "start": "678079",
    "end": "683680"
  },
  {
    "text": "and if it's encrypted at rest right again it's a database so again there's an open source tool for",
    "start": "683680",
    "end": "689200"
  },
  {
    "text": "this this open source tool is quite interesting in that this is not actually doing",
    "start": "689200",
    "end": "696720"
  },
  {
    "start": "695000",
    "end": "883000"
  },
  {
    "text": "the starting analysis on the code this is looking at a running system so i have a",
    "start": "696720",
    "end": "702880"
  },
  {
    "text": "kubernetes cluster running here on my local machine and i have here a small docker command that just says go run q panda which is",
    "start": "702880",
    "end": "709440"
  },
  {
    "text": "the security tool for kubernetes here and on desktop interface so on this",
    "start": "709440",
    "end": "714720"
  },
  {
    "text": "local machine go look for kubernetes clusters and tell me what you can tell me about it",
    "start": "714720",
    "end": "719839"
  },
  {
    "text": "if we do this it shouldn't take long it's saying i'm discovering if you have any kubernetes instances running",
    "start": "719920",
    "end": "727519"
  },
  {
    "text": "and if i remember to start it this morning you'll find some for me",
    "start": "727519",
    "end": "733200"
  },
  {
    "text": "it did found an open api server find the kubernetes api",
    "start": "734639",
    "end": "740480"
  },
  {
    "text": "found kubernetes version disclosure so this version of kubernetes has an end point you can call thing please give me",
    "start": "740480",
    "end": "746399"
  },
  {
    "text": "your version it comes back and saying my version is a bit jumbled here",
    "start": "746399",
    "end": "753120"
  },
  {
    "text": "my version is 116.1 this is a very old version of kubernetes this may mean that there's",
    "start": "753120",
    "end": "758399"
  },
  {
    "text": "pretty interesting cvs right i can take this 1161 and kubernetes and put it into google and google will tell me oh for",
    "start": "758399",
    "end": "764560"
  },
  {
    "text": "this version you can do unauthorized access to the api server that kills everything",
    "start": "764560",
    "end": "770720"
  },
  {
    "text": "that's not a random example there's a specific example for this version um",
    "start": "770720",
    "end": "776160"
  },
  {
    "text": "and you say okay so i can run this on my local machine and i can put it against my production machine but this is",
    "start": "776160",
    "end": "781360"
  },
  {
    "text": "actually dangerous right can can some other dude in the world find my kubernetes clutter that i'm hiding over",
    "start": "781360",
    "end": "787040"
  },
  {
    "text": "here on azure or in my local data center and one against that one well of course they can because",
    "start": "787040",
    "end": "792720"
  },
  {
    "text": "the internet is a dangerous place right so someone made",
    "start": "792720",
    "end": "798160"
  },
  {
    "text": "a search engine just like we have search engine scott google for doing websites",
    "start": "798160",
    "end": "805440"
  },
  {
    "text": "the search engine calls showdown for finding exposed services on the internet",
    "start": "805440",
    "end": "810560"
  },
  {
    "text": "and show io",
    "start": "810560",
    "end": "815440"
  },
  {
    "text": "yes here we go so here you can search for anything on the internet right i want to find hcd databases exposed on",
    "start": "815680",
    "end": "821680"
  },
  {
    "text": "the internet and these guys are looking on the internet daily looking at all the ips",
    "start": "821680",
    "end": "827600"
  },
  {
    "text": "and right now there is 3 300 hd databases exposed on the internet",
    "start": "827600",
    "end": "833760"
  },
  {
    "text": "you may be behind passwords when you actually talk to them they may not be the ones i tested last night wasn't",
    "start": "833760",
    "end": "840800"
  },
  {
    "text": "so here you would find your kubernetes cluster right it would be one of these",
    "start": "841040",
    "end": "846160"
  },
  {
    "text": "saying someone is uh is running an hdd database on amazon in ireland that could",
    "start": "846160",
    "end": "851600"
  },
  {
    "text": "be mine that's why i'm running my hd databases right now um",
    "start": "851600",
    "end": "856959"
  },
  {
    "text": "it's not mine though that's nice um but it's very easy for someone to actually go in and find",
    "start": "856959",
    "end": "863040"
  },
  {
    "text": "what you have exposed and you can use a tool like q panel that just goes in plots everything saying is",
    "start": "863040",
    "end": "868240"
  },
  {
    "text": "there is based does it have security on it can i list secrets is it encrypted",
    "start": "868240",
    "end": "873279"
  },
  {
    "text": "you can see all this from the outside um so this is a small tool looking at the cloud providers kubernetes or your",
    "start": "873279",
    "end": "880320"
  },
  {
    "text": "own hosted kubernetes if you do that that's the first layer um",
    "start": "880320",
    "end": "885839"
  },
  {
    "start": "883000",
    "end": "1050000"
  },
  {
    "text": "the next layer is actually what we put into our kubernetes cluster right so this is the",
    "start": "885839",
    "end": "890880"
  },
  {
    "text": "deployment definitions when we put stuff into kubernetes there's a lot of things to consider or",
    "start": "890880",
    "end": "897279"
  },
  {
    "text": "we put stuff into any container orchestrator we need to consider",
    "start": "897279",
    "end": "903279"
  },
  {
    "text": "which access that does the application that we're starting have right so kubernetes has a kubernetes api inside the cluster that you can talk to if you",
    "start": "903279",
    "end": "909600"
  },
  {
    "text": "have access to it and many applications need access to talk to kubernetes to spin up other applications if it's",
    "start": "909600",
    "end": "915519"
  },
  {
    "text": "jenkins for example or if it's deployment with flux if it's",
    "start": "915519",
    "end": "920720"
  },
  {
    "text": "a secrets operator you need something that can create new secrets for you and check that the secrets are in the right",
    "start": "920720",
    "end": "927040"
  },
  {
    "text": "version or whatever you need to consider the rule base for this you need to consider if",
    "start": "927040",
    "end": "932160"
  },
  {
    "text": "you should do one single service account for every single application so you can cut it down a lot and saying this one",
    "start": "932160",
    "end": "938240"
  },
  {
    "text": "only has access to the specific amount of resources that he needs access to right this is this is all principles but",
    "start": "938240",
    "end": "944079"
  },
  {
    "text": "it's in the new world and we kind of forgot that when we implemented the kubernetes long time ago it wasn't part of the first",
    "start": "944079",
    "end": "950079"
  },
  {
    "text": "many versions until 1.6 that we actually included well based access control in it",
    "start": "950079",
    "end": "955120"
  },
  {
    "text": "you also need to consider the the workloads running in the cluster are they allowed to run as root are they",
    "start": "955120",
    "end": "960160"
  },
  {
    "text": "allowed to mount the entire work nodes hard disk into the container",
    "start": "960160",
    "end": "965199"
  },
  {
    "text": "you can do this in kubernetes not a problem just one liner but you need to consider how dangerous is this right do",
    "start": "965199",
    "end": "970800"
  },
  {
    "text": "you completely trust all the code running in your cluster did you write it all yourself and",
    "start": "970800",
    "end": "976160"
  },
  {
    "text": "do you trust it more if you wrote it yourself and if it's an open source tool that's interesting right um and also you",
    "start": "976160",
    "end": "982959"
  },
  {
    "text": "need to consider is this allowed to run as a privileged user so there's a lot of containers running appears losers",
    "start": "982959",
    "end": "988000"
  },
  {
    "text": "because they need to look at logs for all the containers or i need to maintain the working order or whatever",
    "start": "988000",
    "end": "993600"
  },
  {
    "text": "but that opens up for everything if the container is running as privileged on your worker note it's basically root on",
    "start": "993600",
    "end": "1000160"
  },
  {
    "text": "the worker node there's nothing you can do to stop it um you could look at quality of service",
    "start": "1000160",
    "end": "1006079"
  },
  {
    "text": "saying this application is more important than all the other ones if the elements become noisy kill those first and let this one run on",
    "start": "1006079",
    "end": "1012800"
  },
  {
    "text": "the network policy is saying these applications over here in my cluster should never talk to these applications over here",
    "start": "1012800",
    "end": "1018639"
  },
  {
    "text": "this is something that was a very high focus for us when doing the yield health project healthcare project",
    "start": "1018639",
    "end": "1024720"
  },
  {
    "text": "defining which business applications could talk to which other business applications which business applications were reachable from the internet",
    "start": "1024720",
    "end": "1031678"
  },
  {
    "text": "and which core applications wouldn't be reachable by anyone ever because",
    "start": "1031679",
    "end": "1036798"
  },
  {
    "text": "they did stuff that no one should talk to right again when when doing this everything",
    "start": "1036799",
    "end": "1042640"
  },
  {
    "text": "you put into kubernetes is code and code we can do analysis on and there's many tools for this i'm",
    "start": "1042640",
    "end": "1048160"
  },
  {
    "text": "going to quickly highlight a tool here um we are now in the",
    "start": "1048160",
    "end": "1054559"
  },
  {
    "start": "1050000",
    "end": "1278000"
  },
  {
    "text": "the second c which is",
    "start": "1054559",
    "end": "1060000"
  },
  {
    "text": "there we go um looking at kubernetes manifests right",
    "start": "1061120",
    "end": "1067120"
  },
  {
    "text": "so i have a demo yaml here this is just uh let's take a look at it",
    "start": "1067120",
    "end": "1073120"
  },
  {
    "text": "this is just creating a default hidden charting help create and then template i didn't do anything to make this",
    "start": "1073600",
    "end": "1080799"
  },
  {
    "text": "bad security wise or make it good security-wise i just said give me a default kubernetes application using",
    "start": "1080799",
    "end": "1086640"
  },
  {
    "text": "helm and then let's look at that one so we see he creates some namespaces and some services and a deployment and a",
    "start": "1086640",
    "end": "1092320"
  },
  {
    "text": "part and stuff but more interesting let's just use this open source tool called police and say price please make",
    "start": "1092320",
    "end": "1099919"
  },
  {
    "text": "an audit of this one and and give me a nice report on it so now on my local host",
    "start": "1099919",
    "end": "1106840"
  },
  {
    "text": "here localhost on port 8080 i get a nice security dashboard for",
    "start": "1106840",
    "end": "1113919"
  },
  {
    "text": "this application that i haven't even deployed anywhere yet right so this says if you deploy this one",
    "start": "1113919",
    "end": "1118960"
  },
  {
    "text": "you get an f it's 50 okay 50 horrible right there's four really",
    "start": "1118960",
    "end": "1125600"
  },
  {
    "text": "dangerous things in this one and 19 critical warnings and you get a list of everything here right",
    "start": "1125600",
    "end": "1131120"
  },
  {
    "text": "so for example it says this deployment here you're not specifying in a cpu limit you're not specifying any memory limits",
    "start": "1131120",
    "end": "1138080"
  },
  {
    "text": "so this application basically you can swallow up the entire worker node and use all the cpus null memory and",
    "start": "1138080",
    "end": "1143919"
  },
  {
    "text": "grenades can't do anything about it because you haven't set when to stop um it's also saying you're not",
    "start": "1143919",
    "end": "1150240"
  },
  {
    "text": "specifying which version you want of the code so we'll just pull the newest one from docker hop each time",
    "start": "1150240",
    "end": "1155760"
  },
  {
    "text": "which means that you may have multiple different versions of the code running on your different worker nodes you may have a very interesting supply",
    "start": "1155760",
    "end": "1162320"
  },
  {
    "text": "chain attack here right if you can push new code to someone else's stock repository and it automatically deploys",
    "start": "1162320",
    "end": "1167520"
  },
  {
    "text": "to their production servers well that's super interesting and super dangerous",
    "start": "1167520",
    "end": "1173679"
  },
  {
    "text": "this one is also just allowed to ask to be root if it wants to so it may not run as root the image i'm",
    "start": "1173840",
    "end": "1179440"
  },
  {
    "text": "putting in but it's allowed to ask hey can i be rude and the os will say",
    "start": "1179440",
    "end": "1184799"
  },
  {
    "text": "and yeah well lots of other interesting stuff right this is great because this gives you a very easily to use",
    "start": "1185679",
    "end": "1192400"
  },
  {
    "text": "report you can go to your manager saying we should do security i think because we get an f right now you can go to your",
    "start": "1192400",
    "end": "1198320"
  },
  {
    "text": "auditors and say well we're using default security tools and we get a nice grade right we get a small sun in the",
    "start": "1198320",
    "end": "1204559"
  },
  {
    "text": "top and not a rainy cloud with with lightning on so this is of course not a silver build",
    "start": "1204559",
    "end": "1210320"
  },
  {
    "text": "it fixes everything for you but at least it tells you all the low hanging branches",
    "start": "1210320",
    "end": "1216320"
  },
  {
    "text": "and as shown on this slide here we have multiple different tools that does this",
    "start": "1216640",
    "end": "1222159"
  },
  {
    "text": "i tried to order them going from the the most opinionated super easy to use tool they just say",
    "start": "1222159",
    "end": "1228000"
  },
  {
    "text": "cube bins or price or that kubernetes cluster and you get a report",
    "start": "1228000",
    "end": "1233200"
  },
  {
    "text": "to the super difficult very big toolbox in open policy agent where you can go in",
    "start": "1233200",
    "end": "1238799"
  },
  {
    "text": "and define your own set of complete rules saying this image must never run or i can never have",
    "start": "1238799",
    "end": "1245039"
  },
  {
    "text": "anything that has that doesn't have a cpu request on it or whatever rules you want to set",
    "start": "1245039",
    "end": "1250880"
  },
  {
    "text": "um so that's also really awesome and this gives you a a tool or a measuring point you can put",
    "start": "1250880",
    "end": "1257200"
  },
  {
    "text": "into your deployment pipeline saying if at some point someone creates some yaml that when i push it through this",
    "start": "1257200",
    "end": "1262480"
  },
  {
    "text": "tool which has all the rules it doesn't say okay then it doesn't go to production right",
    "start": "1262480",
    "end": "1268080"
  },
  {
    "text": "you just set a step there just set a test saying no please go fix before production or go fix before staging or",
    "start": "1268080",
    "end": "1274240"
  },
  {
    "text": "whatever you have [Music]",
    "start": "1274240",
    "end": "1279230"
  },
  {
    "start": "1278000",
    "end": "1511000"
  },
  {
    "text": "so this is a static cluster security looking at all the code we put into the cluster for deployment configuration",
    "start": "1279679",
    "end": "1285360"
  },
  {
    "text": "there's also runtime security looking at when this office actually spun up in the cluster and start to talk",
    "start": "1285360",
    "end": "1291360"
  },
  {
    "text": "to each other and do stuff right what do we want to do here we solved uh all of our different problems on the",
    "start": "1291360",
    "end": "1298320"
  },
  {
    "text": "healthcare project using a service mesh for this so service mesh is a software defined network layer um so not just",
    "start": "1298320",
    "end": "1305840"
  },
  {
    "text": "cables running through the different parts but actually software that we can tell to do stuff so",
    "start": "1305840",
    "end": "1311280"
  },
  {
    "text": "for example we instrumented this service message saying never allow a request to come into any",
    "start": "1311280",
    "end": "1317360"
  },
  {
    "text": "of our business applications if it doesn't have an http header called authorization that contains a dlt token",
    "start": "1317360",
    "end": "1324240"
  },
  {
    "text": "from my authenticity provider from this specific key cloud over here",
    "start": "1324240",
    "end": "1329600"
  },
  {
    "text": "so using this symbol rule which is just seven lines of yarn or something like",
    "start": "1329600",
    "end": "1334799"
  },
  {
    "text": "that we say we can never have a request coming into any of our business applications that isn't authorized by my",
    "start": "1334799",
    "end": "1342559"
  },
  {
    "text": "own architecture right it also means that even if you get as a bad actor as a hacker i get code",
    "start": "1342559",
    "end": "1349280"
  },
  {
    "text": "execution inside a container i cannot talk to any of the other containers inside of our cluster because i'm not",
    "start": "1349280",
    "end": "1356559"
  },
  {
    "text": "logged in as a user or logged in as a doctor locked in as a patient i don't have the credentials i can send to the",
    "start": "1356559",
    "end": "1362000"
  },
  {
    "text": "other guy to actually allow me in and not just because the other guy will check it because the network layer will",
    "start": "1362000",
    "end": "1367840"
  },
  {
    "text": "check it for you so this is like the big hammer to just say we can solve authentication very fast",
    "start": "1367840",
    "end": "1375600"
  },
  {
    "text": "authorization is a bit more difficult right because some doctors are allowed to look at some patients data and patients are out to look at their own",
    "start": "1375600",
    "end": "1381360"
  },
  {
    "text": "data but not all data and i won't i wouldn't want to implement that at the network layer right that's still the job",
    "start": "1381360",
    "end": "1387440"
  },
  {
    "text": "of the application but at least i can take the low hanging branches saying i know everything everyone here",
    "start": "1387440",
    "end": "1393440"
  },
  {
    "text": "is person that are allowed to call the infrastructure they are doctors or patients or administrators",
    "start": "1393440",
    "end": "1398640"
  },
  {
    "text": "and not hackers from china or where a hackers come from nowadays",
    "start": "1398640",
    "end": "1403919"
  },
  {
    "text": "one of the other things is we added multiple encryption mutual cls so mutual encryption in the",
    "start": "1403919",
    "end": "1409760"
  },
  {
    "text": "network layer between every single part in my cluster between my clusters between everything we have full encryption from end to end",
    "start": "1409760",
    "end": "1416880"
  },
  {
    "text": "and not just the the encryption you have when you talk to facebook right now which is just tls where you know exactly where you're",
    "start": "1416880",
    "end": "1423039"
  },
  {
    "text": "talking to because facebook has a certificate right and you can match that certificate on a request saying yes this is facebook that's great facebook has no",
    "start": "1423039",
    "end": "1429600"
  },
  {
    "text": "idea who you are unless you send them a password and they'll say you have a password that's probably like",
    "start": "1429600",
    "end": "1434960"
  },
  {
    "text": "right um so in this way you have a certificate in both ends so you can do cryptography",
    "start": "1434960",
    "end": "1440640"
  },
  {
    "text": "and do math and say i know this guy who's calling me with that application and i know from my configuration he's",
    "start": "1440640",
    "end": "1446080"
  },
  {
    "text": "allowed to talk to me i know that application over there talking to me is not allowed to do it he must be a bad actor somehow or at least",
    "start": "1446080",
    "end": "1452000"
  },
  {
    "text": "he's misbehaving i'll just ignore him we can do this in network layer using network policies saying",
    "start": "1452000",
    "end": "1458480"
  },
  {
    "text": "he's like to talk to him that one cannot talk to everyone ever and that one can talk to everyone if that's what you want",
    "start": "1458480",
    "end": "1463679"
  },
  {
    "text": "to do you can do this as code you can deploy it you can make artists on it and first of all you can test it",
    "start": "1463679",
    "end": "1470480"
  },
  {
    "text": "we also want as we talked about in in the first slides we want monitoring right we want to be able to say uh who's talking to who in the cluster",
    "start": "1470480",
    "end": "1478080"
  },
  {
    "text": "so which applications which parts are calling which are other parts how much traffic is going there i want to be able",
    "start": "1478080",
    "end": "1483760"
  },
  {
    "text": "to look at a graph saying does this make sense to me i know the business area i know which services should talk to each services when i suddenly see a new line",
    "start": "1483760",
    "end": "1490960"
  },
  {
    "text": "going between services i can talk to the developer thing is that true that the patient server is suddenly calling this dude over here and",
    "start": "1490960",
    "end": "1498640"
  },
  {
    "text": "if that shouldn't be the case then well maybe i should do something about it there's also in the cluster runtime",
    "start": "1498640",
    "end": "1504480"
  },
  {
    "text": "security does handling secrets and certificates stuff like that which the hedge of vault is a great tool for",
    "start": "1504480",
    "end": "1511840"
  },
  {
    "start": "1511000",
    "end": "1533000"
  },
  {
    "text": "the last part of this cluster security level we're talking about the second c is the",
    "start": "1511840",
    "end": "1517200"
  },
  {
    "text": "intrusion intuition detection and intrusion prevention so actually looking at do we have a hacker",
    "start": "1517200",
    "end": "1523279"
  },
  {
    "text": "coming in do we have systems that are now behaving in ways we wouldn't expect them to",
    "start": "1523279",
    "end": "1529600"
  },
  {
    "text": "and i'm going to do a short demo here on an intrusion detection",
    "start": "1529600",
    "end": "1534960"
  },
  {
    "start": "1533000",
    "end": "1856000"
  },
  {
    "text": "application called falco falco works in",
    "start": "1534960",
    "end": "1541880"
  },
  {
    "text": "backup ah this is still a second scene sorry um velcro works in the way that it hooks",
    "start": "1543120",
    "end": "1549440"
  },
  {
    "text": "directly into the linux kernel and it monitors every single system called going through the kernel it monitors",
    "start": "1549440",
    "end": "1555039"
  },
  {
    "text": "every single file opened every single process running it does have a small overhead but it",
    "start": "1555039",
    "end": "1561760"
  },
  {
    "text": "gives you complete insight to what every single application on your entire",
    "start": "1561760",
    "end": "1568320"
  },
  {
    "text": "system is doing and i think this is just yes",
    "start": "1568320",
    "end": "1575039"
  },
  {
    "text": "dog runfall echo so this gives me",
    "start": "1575039",
    "end": "1580158"
  },
  {
    "text": "a i can never remember which port stuff",
    "start": "1580640",
    "end": "1586720"
  },
  {
    "text": "ends on this gives me a small ui here for falco",
    "start": "1586720",
    "end": "1592720"
  },
  {
    "text": "which looks at the containers running on my local machine and all the other processes because this is everything going through my chair",
    "start": "1592720",
    "end": "1598480"
  },
  {
    "text": "and what they're doing and we see here we're actually getting some",
    "start": "1598480",
    "end": "1603679"
  },
  {
    "text": "some errors and some notices uh this is just because well",
    "start": "1603679",
    "end": "1609760"
  },
  {
    "text": "my machine is doing random stuff but but let's uh let's see if we can actually provoke this one to do something bad",
    "start": "1609760",
    "end": "1615440"
  },
  {
    "text": "right so i know if i have a hacker in my system that he may go into an into a pot and start a",
    "start": "1615440",
    "end": "1621840"
  },
  {
    "text": "shell and try to curl the other part or something like that so",
    "start": "1621840",
    "end": "1626880"
  },
  {
    "text": "if i do i'll just start up and and then the next",
    "start": "1626880",
    "end": "1632799"
  },
  {
    "text": "year i think should be faster just writing this",
    "start": "1632799",
    "end": "1641398"
  },
  {
    "text": "i'll just run nginx so this is a container running on my cluster right",
    "start": "1641440",
    "end": "1647600"
  },
  {
    "text": "and i'll say i just want to be passionate",
    "start": "1648000",
    "end": "1654320"
  },
  {
    "text": "that's id so now i have a container running in the",
    "start": "1654320",
    "end": "1659360"
  },
  {
    "text": "next container running on my on my environment and i have a user inside that container running best",
    "start": "1659360",
    "end": "1665120"
  },
  {
    "text": "this i shouldn't think this should be a default use case in your production clusters that your developers are",
    "start": "1665120",
    "end": "1671120"
  },
  {
    "text": "administrators are logging into specific containers and and managing them they should be immutable infrastructure but",
    "start": "1671120",
    "end": "1676159"
  },
  {
    "text": "it may be the case that this is this is what you do at least in falco you'll get an alert",
    "start": "1676159",
    "end": "1681279"
  },
  {
    "text": "saying someone has a terminal in the container you can decide if this is a critical alert to page",
    "start": "1681279",
    "end": "1686960"
  },
  {
    "text": "someone of this is just we should note this because auditing wants to know if someone is doing stuff in production",
    "start": "1686960",
    "end": "1693200"
  },
  {
    "text": "right um i can see here inside the container i found i'm i'm rude so i can basically do",
    "start": "1693200",
    "end": "1700000"
  },
  {
    "text": "anything as the bad actor in here right i can do [Music] let's read something interesting",
    "start": "1700000",
    "end": "1706720"
  },
  {
    "text": "uh in in some of the more private possible directories in linux right let's read",
    "start": "1706720",
    "end": "1712000"
  },
  {
    "text": "the http host file let's let's see if we can change the lcd whole file right so let's edit this one",
    "start": "1712000",
    "end": "1719760"
  },
  {
    "text": "oh i don't have bim okay do i have apps okay i can run packetman just inside",
    "start": "1719760",
    "end": "1725840"
  },
  {
    "text": "this container so i can basically install whatever i want to as some sort of bad actor in here",
    "start": "1725840",
    "end": "1732000"
  },
  {
    "text": "and i can do app install now i want bim there we go yes yes install this stuff inside my",
    "start": "1732000",
    "end": "1738399"
  },
  {
    "text": "container um falco will will start putting out errors now and critical thing",
    "start": "1738399",
    "end": "1744320"
  },
  {
    "text": "someone is is actually running package managers inside your containers in production",
    "start": "1744320",
    "end": "1749440"
  },
  {
    "text": "this is not good if someone starts doing this he should put it on slack the first ride because this is",
    "start": "1749440",
    "end": "1754880"
  },
  {
    "text": "brake glass and you can break everything or he would be a hacker right you can also do something that is really",
    "start": "1754880",
    "end": "1761840"
  },
  {
    "text": "really evil right i can start doing bitcoin mining inside this container i won't do actual bitcoin mining but one",
    "start": "1761840",
    "end": "1767840"
  },
  {
    "text": "of the bitcoin miners using this strat stratum protocol so i'll just",
    "start": "1767840",
    "end": "1773440"
  },
  {
    "text": "i only got threatened i'll just start talking to a bitcoin miner",
    "start": "1773440",
    "end": "1781440"
  },
  {
    "text": "host art in the world unfortunately evil cryptominer.com doesn't exist",
    "start": "1781440",
    "end": "1787440"
  },
  {
    "text": "um but falco is picking on this someone is running crypto miners in your production environment now",
    "start": "1787440",
    "end": "1793360"
  },
  {
    "text": "please go look at it right this this becomes a critical i don't know what alert an emergency is",
    "start": "1793360",
    "end": "1799360"
  },
  {
    "text": "but if someone is running bitcoin management environment i want an alert right so this is uh this is the the",
    "start": "1799360",
    "end": "1806320"
  },
  {
    "text": "quick overview of what falco can do for you looking into your",
    "start": "1806320",
    "end": "1811440"
  },
  {
    "text": "entire runtime of everything completely transparent from the applications running on it that someone is looking at",
    "start": "1811440",
    "end": "1816799"
  },
  {
    "text": "all the system calls underneath it it's not like one of those i'm for like a better word pesky",
    "start": "1816799",
    "end": "1822970"
  },
  {
    "text": "[Music] virus scanners running that slows everything down and stops all the",
    "start": "1822970",
    "end": "1828480"
  },
  {
    "text": "execution to monitor all the processes this is a level lower hooked directly into the linux panel either as a kernel",
    "start": "1828480",
    "end": "1835120"
  },
  {
    "text": "module or as ebpf that's quite awesome let's just cancel the demo and see if we",
    "start": "1835120",
    "end": "1841039"
  },
  {
    "text": "can make it to the end of the presentation so i lost the presentation",
    "start": "1841039",
    "end": "1848520"
  },
  {
    "text": "about 10 minutes oh okay um so the next layer that we should look at we have the",
    "start": "1851919",
    "end": "1858000"
  },
  {
    "start": "1856000",
    "end": "2004000"
  },
  {
    "text": "entire cloud environment we have the cluster we have the cluster configuration at one time in the cluster this is the actual images i put in right",
    "start": "1858000",
    "end": "1865039"
  },
  {
    "text": "so the actual image i start up can be filled with different os packages filled with java code that has known errors or",
    "start": "1865039",
    "end": "1872080"
  },
  {
    "text": "python code that has no errors or whatever it is right this is a very low hanging branch to",
    "start": "1872080",
    "end": "1877120"
  },
  {
    "text": "scan this let's actually go and say this image i want to put in production let's do a security scan on it",
    "start": "1877120",
    "end": "1882720"
  },
  {
    "text": "um this is basically a one liner you can use a tool like trivi from open source",
    "start": "1882720",
    "end": "1888720"
  },
  {
    "text": "on the internet say trivia this docker image if you do this on the official latest nginx image",
    "start": "1888720",
    "end": "1895760"
  },
  {
    "text": "you get 170 known cves so 170 problems that someone posted on",
    "start": "1895760",
    "end": "1901919"
  },
  {
    "text": "the internet saying this is an actual security risk with this piece of software which is in the latest stable",
    "start": "1901919",
    "end": "1907440"
  },
  {
    "text": "version of nginx and the image running down you can cut that down that's because this comes with debian which is",
    "start": "1907440",
    "end": "1913360"
  },
  {
    "text": "a huge distribution that is very slow at adapting new versions of packages because they want to be stable and",
    "start": "1913360",
    "end": "1919039"
  },
  {
    "text": "that's also great right but it's not great for security not to get the newest patches you can change it out saying i want to",
    "start": "1919039",
    "end": "1924240"
  },
  {
    "text": "use the alpine distribution as that alpine is very small linux distribution something like debian last time i take",
    "start": "1924240",
    "end": "1929679"
  },
  {
    "text": "was 300 megabytes and alpine is 4. if you do this it'll say",
    "start": "1929679",
    "end": "1935519"
  },
  {
    "text": "there's a two cvs now um and if you go in and actually update",
    "start": "1935519",
    "end": "1941360"
  },
  {
    "text": "that packet that has the two cvs you get zero cvs this takes two minutes three minutes to actually",
    "start": "1941360",
    "end": "1947200"
  },
  {
    "text": "say scan this one consider if you can use something that is a lot less that has a lot less of a",
    "start": "1947200",
    "end": "1952640"
  },
  {
    "text": "security uh surface that uh what is the attack surface that you want to to cut down on",
    "start": "1952640",
    "end": "1959039"
  },
  {
    "text": "uh and update your packages so you're running the latest versions uh nginx is also in the default version",
    "start": "1959039",
    "end": "1965600"
  },
  {
    "text": "just running as root right we just saw as root i can do anything that i want i can go in and change stuff on the hard disk i can",
    "start": "1965600",
    "end": "1973039"
  },
  {
    "text": "kill stuff i can run cryptominers and no one can stop me right um but in the next inc the guys behind",
    "start": "1973039",
    "end": "1979840"
  },
  {
    "text": "india is actually publishing a version of ndx we're not running as root i don't know why that's not the default why",
    "start": "1979840",
    "end": "1985840"
  },
  {
    "text": "isn't it the default that we have secure images and if i need more access i can add it in it's not the default in in our",
    "start": "1985840",
    "end": "1991279"
  },
  {
    "text": "community the default is this is easy and fast to start up yeah and it's completely broken",
    "start": "1991279",
    "end": "1997760"
  },
  {
    "text": "but okay it's very simple here there's open source tools that can help you fix it right",
    "start": "1997760",
    "end": "2004080"
  },
  {
    "start": "2004000",
    "end": "2059000"
  },
  {
    "text": "the last c the code level this is uh something that i hope most of",
    "start": "2004080",
    "end": "2009440"
  },
  {
    "text": "you already know right we can do static analysis on actual code code go in and look do we have any",
    "start": "2009440",
    "end": "2014799"
  },
  {
    "text": "hard-coded passwords in here do we have any certificates that is hard coded in code that we may expose to the world or",
    "start": "2014799",
    "end": "2022799"
  },
  {
    "text": "do we have any third-party libraries that we're using that we know is broken right you can use tools like sonarcube it's",
    "start": "2022799",
    "end": "2030480"
  },
  {
    "text": "free and open source for one branch and more money if you want to actually do it on all branches",
    "start": "2030480",
    "end": "2037360"
  },
  {
    "text": "and it's quite easy to set up quite easy to get started you can also do tools like dependency",
    "start": "2037360",
    "end": "2043039"
  },
  {
    "text": "check and overs attack proxy um to to start looking a bit more on your code in depth",
    "start": "2043039",
    "end": "2051599"
  },
  {
    "text": "and what's the time",
    "start": "2051679",
    "end": "2056158"
  },
  {
    "text": "five minute and cuny okay i think we'll try to do a quick attack now and demonstrate uh",
    "start": "2056960",
    "end": "2063200"
  },
  {
    "start": "2059000",
    "end": "2432000"
  },
  {
    "text": "how easy we can break some of the stuff we've looked at earlier so i have my laptop here you see it's",
    "start": "2063200",
    "end": "2069679"
  },
  {
    "text": "running firefox and i have a server set up we set that up in the first level right with the terraform saying create",
    "start": "2069679",
    "end": "2075200"
  },
  {
    "text": "that server on the internet it's running my e-health platform it's not really but let's say it's running my",
    "start": "2075200",
    "end": "2080320"
  },
  {
    "text": "platform and i have an evil server on the internet that's just because i want a public ip that i can talk to it",
    "start": "2080320",
    "end": "2085599"
  },
  {
    "text": "doesn't actually have anything evil in it it's just an amazon instance um",
    "start": "2085599",
    "end": "2091440"
  },
  {
    "text": "go away okay so let's uh step two to that one",
    "start": "2091440",
    "end": "2099520"
  },
  {
    "text": "and i'll just make sure my internet is not broken it is",
    "start": "2099520",
    "end": "2106800"
  },
  {
    "text": "um i haven't actually started the yield platform thingy i'm running here because it's",
    "start": "2112240",
    "end": "2117440"
  },
  {
    "text": "quite a wrong security wise but let's just",
    "start": "2117440",
    "end": "2124480"
  },
  {
    "text": "start it up okay so i now have i have running",
    "start": "2125839",
    "end": "2132560"
  },
  {
    "text": "here uh on a important electico",
    "start": "2132560",
    "end": "2137839"
  },
  {
    "text": "i have service that let's say it does something healthy more specifically this one has a domain",
    "start": "2137839",
    "end": "2143440"
  },
  {
    "text": "thingy where you can look up domains right so i can give this one a domain and it will do stuff for me for example here it says if i give it some integer",
    "start": "2143440",
    "end": "2150000"
  },
  {
    "text": "it gives me the ip address that's quite neat it's not anything of what the yield platform actually does this is an exam",
    "start": "2150000",
    "end": "2155520"
  },
  {
    "text": "right i give something else let's do facebook dot com and we get the ips of facebook",
    "start": "2155520",
    "end": "2161119"
  },
  {
    "text": "they have strange ips um and what we can see here",
    "start": "2161119",
    "end": "2166560"
  },
  {
    "text": "is that this may be running a tool called ns lookout which i know it's a linux utility so maybe i can actually do",
    "start": "2166560",
    "end": "2172160"
  },
  {
    "text": "injection inside the url here and let's just try that and say if i want to uh you can't see anything here you can",
    "start": "2172160",
    "end": "2178320"
  },
  {
    "text": "see it here if you want to run that on on facebook.com and then end my terminal thing and then do a",
    "start": "2178320",
    "end": "2185280"
  },
  {
    "text": "ls on my link machine now it's listing all of my repositories all my directories on the specific",
    "start": "2185280",
    "end": "2191680"
  },
  {
    "text": "docker container i can do more evil stuff with that if i want to right i could cat",
    "start": "2191680",
    "end": "2198000"
  },
  {
    "text": "something hcd oh sevens",
    "start": "2198000",
    "end": "2203280"
  },
  {
    "text": "edc's last passwords",
    "start": "2203280",
    "end": "2208320"
  },
  {
    "text": "oh that that i failed in typing but i can do anything i want here right and more specifically",
    "start": "2208320",
    "end": "2214880"
  },
  {
    "text": "i can actually go in here and i can't remember the",
    "start": "2214880",
    "end": "2221280"
  },
  {
    "text": "vip address here but i can tell this server here when you do the ns lookup then terminate that and then start a",
    "start": "2221280",
    "end": "2227599"
  },
  {
    "text": "netcat channel to this specific ip please don't break my machines during the demo",
    "start": "2227599",
    "end": "2232720"
  },
  {
    "text": "um they hit they are on the internet so let's let's",
    "start": "2232720",
    "end": "2238560"
  },
  {
    "text": "do that and before we do that let's make sure that the machine that has that actual ip",
    "start": "2238560",
    "end": "2243760"
  },
  {
    "text": "which is my hacker machine this is an ec2 instance",
    "start": "2243760",
    "end": "2249440"
  },
  {
    "text": "um is listening on that ip",
    "start": "2249440",
    "end": "2254560"
  },
  {
    "text": "on that port that we're trying to send it request on and now from this machine that has nothing to do",
    "start": "2254560",
    "end": "2260480"
  },
  {
    "text": "with the e-health server i can say try doing that and",
    "start": "2260480",
    "end": "2265680"
  },
  {
    "text": "oh dear i'm used to a mac so my my hotkeys are off",
    "start": "2266079",
    "end": "2272320"
  },
  {
    "text": "let's just say semicolon and then run the",
    "start": "2273359",
    "end": "2279760"
  },
  {
    "text": "netcat thingy come on and i have an extra semicolon there",
    "start": "2279760",
    "end": "2286160"
  },
  {
    "text": "somewhere there we go so now we have a request",
    "start": "2286160",
    "end": "2291200"
  },
  {
    "text": "that never ends because the request does the ns logo thing and then it creates a tunnel using netcat to this other",
    "start": "2291200",
    "end": "2297280"
  },
  {
    "text": "machine and i'm just waiting for netcat to end and that won't end because netcat is now",
    "start": "2297280",
    "end": "2303760"
  },
  {
    "text": "captured in here so now on my hacker machine i have a reverse tunnel directly into my",
    "start": "2303760",
    "end": "2310720"
  },
  {
    "text": "healthcare server and this allows me to do evil stuff right",
    "start": "2310720",
    "end": "2316800"
  },
  {
    "text": "because i'm running as rude on this machine so i",
    "start": "2316800",
    "end": "2322079"
  },
  {
    "text": "basically have root inside this container and one of the things that this container could do was to talk to sonja diego and",
    "start": "2322079",
    "end": "2327839"
  },
  {
    "text": "look at patient data stuff like that right and we can steal patient data by saying",
    "start": "2327839",
    "end": "2334640"
  },
  {
    "text": "uh let's not do bim let's do echo",
    "start": "2334640",
    "end": "2340000"
  },
  {
    "text": "have an ip here that is mine it's not true at all let's say it's mine",
    "start": "2340000",
    "end": "2345680"
  },
  {
    "text": "uh and let's make sure that that points to solico by putting it into the local dns",
    "start": "2345680",
    "end": "2352839"
  },
  {
    "text": "resolution it's this last hosts",
    "start": "2352839",
    "end": "2358480"
  },
  {
    "text": "it's easy",
    "start": "2358640",
    "end": "2361200"
  },
  {
    "text": "so now if i use this domain endpoint that we looked at before",
    "start": "2366240",
    "end": "2373520"
  },
  {
    "text": "and doesn't do facebook.com but does",
    "start": "2374480",
    "end": "2378400"
  },
  {
    "text": "so the decode again it suddenly says oh sorry i know that guy he's the the evil guy right so now i've stolen all traffic",
    "start": "2380240",
    "end": "2386880"
  },
  {
    "text": "on sunday deco there may be something with certificates that i don't have the actual sony d or certificate here",
    "start": "2386880",
    "end": "2392560"
  },
  {
    "text": "but i'm rude right now on on the",
    "start": "2392560",
    "end": "2397839"
  },
  {
    "text": "the health server right so you can just install my own certificate saying yeah you should trust my email certificate as well i can do that i'm root",
    "start": "2398640",
    "end": "2405440"
  },
  {
    "text": "so the interesting thing to take away from this is not that using injection in urls i can make",
    "start": "2405440",
    "end": "2411520"
  },
  {
    "text": "servers do stuff that's known and that's an old attack it's not that i can actually change",
    "start": "2411520",
    "end": "2418160"
  },
  {
    "text": "stuff inside a running container that's because i'm rude it's an old attack the interesting thing here",
    "start": "2418160",
    "end": "2423520"
  },
  {
    "text": "to look at is that",
    "start": "2423520",
    "end": "2427520"
  },
  {
    "text": "if i had used any of the tools we talked about today i wouldn't have been able to do the attack",
    "start": "2429040",
    "end": "2434640"
  },
  {
    "start": "2432000",
    "end": "2585000"
  },
  {
    "text": "if i had used tf security to actually lock down the service thing you're not allowed to just talk to any evil server on the internet",
    "start": "2434640",
    "end": "2441520"
  },
  {
    "text": "and do reverse tunnels out to him because he asked you to it then i wouldn't have been able to do it if i'd used",
    "start": "2441520",
    "end": "2448560"
  },
  {
    "text": "police or policy agent i wouldn't have been able to run as root and do everything evil inside it and i could",
    "start": "2448560",
    "end": "2454640"
  },
  {
    "text": "make requests saying you're not allowed to use all the cpus and all threads on the machines which i could break",
    "start": "2454640",
    "end": "2459839"
  },
  {
    "text": "everything if you want to right if i'd used container scanning i would have not put netcat into my running image in",
    "start": "2459839",
    "end": "2467440"
  },
  {
    "text": "production because no one ever needs that in production but it's there right apparently",
    "start": "2467440",
    "end": "2472640"
  },
  {
    "text": "and if i had actually done code scanning on my code i would have known that the slash domain",
    "start": "2472640",
    "end": "2479520"
  },
  {
    "text": "service just put stuff directly into the linux command line which is a big donor right you should",
    "start": "2479520",
    "end": "2485520"
  },
  {
    "text": "sanitize your inputs you should never trust what the user gives you so",
    "start": "2485520",
    "end": "2491520"
  },
  {
    "text": "a small attack demo that i could have stopped using any of these tools but because i didn't then everything is open",
    "start": "2491520",
    "end": "2497200"
  },
  {
    "text": "and i can steal whatever i want to so the",
    "start": "2497200",
    "end": "2503520"
  },
  {
    "text": "the summary to say what we looked at today is these different layers that we should secure",
    "start": "2503520",
    "end": "2509839"
  },
  {
    "text": "not doing security and layers between security and depth making sure that everything among ethereum is also secured but you",
    "start": "2509839",
    "end": "2516960"
  },
  {
    "text": "can take it you can look at it in different domains right you can use different open source tools to do it and you can push it",
    "start": "2516960",
    "end": "2523359"
  },
  {
    "text": "as much to the left as possible meaning do it early in your pipeline don't do security after you have the prior to",
    "start": "2523359",
    "end": "2528640"
  },
  {
    "text": "production to security before you have don't do security when the auditor is coming and saying do you have security",
    "start": "2528640",
    "end": "2534400"
  },
  {
    "text": "yeah sure we do security right do it up front because it's much easier it's much more",
    "start": "2534400",
    "end": "2539440"
  },
  {
    "text": "simple um and it allows your developer to be much more involved when they get a",
    "start": "2539440",
    "end": "2544880"
  },
  {
    "text": "poke from the deployment pipeline saying no no no route oh no no you need to say how much ram you want to use because",
    "start": "2544880",
    "end": "2550319"
  },
  {
    "text": "else you can eat all the ram and kill everything of course this is not any of these is",
    "start": "2550319",
    "end": "2555359"
  },
  {
    "text": "not a silver bullet fixing everything right but it's all of the low hanging branches if you do this you're much",
    "start": "2555359",
    "end": "2560880"
  },
  {
    "text": "further along the line of security than most of the other people is and then they'll get hacked first",
    "start": "2560880",
    "end": "2567920"
  },
  {
    "text": "which is nice also remember that creative minds can",
    "start": "2567920",
    "end": "2573359"
  },
  {
    "text": "find stuff machines can't right so this is not a silver bullet because hackers think in",
    "start": "2573359",
    "end": "2578800"
  },
  {
    "text": "weird ways and they will find a way in if you don't actually make an effort",
    "start": "2578800",
    "end": "2583760"
  },
  {
    "start": "2585000",
    "end": "2601000"
  },
  {
    "text": "yes i think that's what i wanted to talk about",
    "start": "2586000",
    "end": "2591078"
  },
  {
    "text": "you",
    "start": "2600160",
    "end": "2602240"
  }
]