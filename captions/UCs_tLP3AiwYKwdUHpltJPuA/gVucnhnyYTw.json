[
  {
    "start": "0",
    "end": "191000"
  },
  {
    "text": "[Music]",
    "start": "3490",
    "end": "6639"
  },
  {
    "text": "[Applause] hello everyone i'm so happy to be here",
    "start": "12780",
    "end": "20800"
  },
  {
    "text": "in amsterdam in this wonderful venue and very welcome to have you guys today",
    "start": "20800",
    "end": "26880"
  },
  {
    "text": "my name is flavio duro i've been working as a software engineer for",
    "start": "26880",
    "end": "32719"
  },
  {
    "text": "decades worked in a lot of banks i've seen the good the bad the ugly and i'm currently",
    "start": "32719",
    "end": "39840"
  },
  {
    "text": "a staff engineer at solaris bank where i work with core baking systems so who's excited to talk about mainframes",
    "start": "39840",
    "end": "47600"
  },
  {
    "text": "we're not talking about that today a little bit about solaris bank so we",
    "start": "47920",
    "end": "53440"
  },
  {
    "text": "have bank in the name but at hurt we are a tech company",
    "start": "53440",
    "end": "59600"
  },
  {
    "text": "some years ago we've realized that if someone wants to offer financial services to their customers they have",
    "start": "59600",
    "end": "65518"
  },
  {
    "text": "basically two options they can become a bank or integrate with an existing one and usually integrating",
    "start": "65519",
    "end": "72799"
  },
  {
    "text": "means going through old interfaces and very old software and they have all",
    "start": "72799",
    "end": "78640"
  },
  {
    "text": "these contracts and it's it's not so easy and we thought that we could make it easier and we wanted to make a",
    "start": "78640",
    "end": "85119"
  },
  {
    "text": "frictionless experience where banking services can be offered through rest apis with easy integration",
    "start": "85119",
    "end": "91439"
  },
  {
    "text": "and today six years later we are a europe market leader we are from",
    "start": "91439",
    "end": "97439"
  },
  {
    "text": "originally berlin germany but we operate in eight markets we have more than five million",
    "start": "97439",
    "end": "103840"
  },
  {
    "text": "customer accounts and over 400 apis some of our customers can see here so",
    "start": "103840",
    "end": "110320"
  },
  {
    "text": "samsung pay for instance for instance in europe works with solaris bank as the back end",
    "start": "110320",
    "end": "115840"
  },
  {
    "text": "as the real bank that does the actual banking operations and on top of that our partners can build the layer for all",
    "start": "115840",
    "end": "122479"
  },
  {
    "text": "the product that they want to integrate the tech company a fintech and more and more we are realizing the potential of",
    "start": "122479",
    "end": "128720"
  },
  {
    "text": "this concept where existing established banks are actually seeks for us so that",
    "start": "128720",
    "end": "133760"
  },
  {
    "text": "they can use or apis and enable new services",
    "start": "133760",
    "end": "139040"
  },
  {
    "text": "so the layers that we have is really decomposed in three parts the partners",
    "start": "140319",
    "end": "146480"
  },
  {
    "text": "platform are the sdks web ui that's the different companies that use our services integrate and put directly",
    "start": "146480",
    "end": "153440"
  },
  {
    "text": "alongside their platform then in the middle part really comes the banking apis which are the products that",
    "start": "153440",
    "end": "160080"
  },
  {
    "text": "we offer kyc payments cards lending and all the regulatory and back-office that",
    "start": "160080",
    "end": "167120"
  },
  {
    "text": "are necessary for banking europe to operate within the regulation of the central banks and on the lower part comes the dirty",
    "start": "167120",
    "end": "174319"
  },
  {
    "text": "part it's the core platform this is all the primitive banking operations holding",
    "start": "174319",
    "end": "179599"
  },
  {
    "text": "people's money in databases and operating with all the payment networks all over the world to send and exchange",
    "start": "179599",
    "end": "186640"
  },
  {
    "text": "money so how do we do this",
    "start": "186640",
    "end": "192400"
  },
  {
    "start": "191000",
    "end": "698000"
  },
  {
    "text": "today we're going to talk about core banking and how we've designed co-banking at solaris bank from the",
    "start": "192959",
    "end": "198800"
  },
  {
    "text": "beginning to the mistakes to the success who knows about core banking here i've",
    "start": "198800",
    "end": "204959"
  },
  {
    "text": "seen a lot of people from i see people raising in in shame but",
    "start": "204959",
    "end": "211599"
  },
  {
    "text": "don't be uh co-banking is absolutely fantastic we have a long history of innovation",
    "start": "211599",
    "end": "217360"
  },
  {
    "text": "uh banks in the 70s were already networked operation in an industry where",
    "start": "217360",
    "end": "222560"
  },
  {
    "text": "everyone was doing business over paper and phone banks already had network cables re connecting all the different",
    "start": "222560",
    "end": "228879"
  },
  {
    "text": "branching centralizing data in files which i can only be described as a database back in the 70s",
    "start": "228879",
    "end": "235040"
  },
  {
    "text": "and then they've involved mainframes is a derivative of a hardware engineering",
    "start": "235040",
    "end": "240080"
  },
  {
    "text": "branch that could perform thousands of transactions per second in the 80s it's",
    "start": "240080",
    "end": "245680"
  },
  {
    "text": "not a shameful word we all have these ideas that it is stuck software but this",
    "start": "245680",
    "end": "250720"
  },
  {
    "text": "piece of engineering absolutely marvelous and enabled decades of innovation led by investment in banks",
    "start": "250720",
    "end": "258000"
  },
  {
    "text": "in the 90s i'm french we had this device called the minitel it was a small box that you",
    "start": "258000",
    "end": "264400"
  },
  {
    "text": "could put in your home plug in the telephone line and it had a screen you could input some digits which were like",
    "start": "264400",
    "end": "270320"
  },
  {
    "text": "urls that was really in the eighth late 80s and you could",
    "start": "270320",
    "end": "276320"
  },
  {
    "text": "had a chat with some friend that also had a minitail or you could consult some informations",
    "start": "276320",
    "end": "282400"
  },
  {
    "text": "in 1987 the first banks in france started integrating with the minitel so that people could check their balances online",
    "start": "282400",
    "end": "289840"
  },
  {
    "text": "so really there are no shame that banks have been innovating for the past",
    "start": "289840",
    "end": "295199"
  },
  {
    "text": "50 years it is true that nowadays banks are struggling to",
    "start": "295199",
    "end": "300479"
  },
  {
    "text": "adapt new players on the market are arriving they'll be brand new software and they're adapting to the needs of the",
    "start": "300479",
    "end": "306240"
  },
  {
    "text": "modern customers and i'm here to make the case that banking as a service is just a natural evolution from 50 years",
    "start": "306240",
    "end": "313520"
  },
  {
    "text": "of innovation in banking don't take my word for it this is what",
    "start": "313520",
    "end": "320639"
  },
  {
    "text": "we had up until now i mean i'm taking the worst example of it but this is hello world in ibm cobble which i hope",
    "start": "320639",
    "end": "326800"
  },
  {
    "text": "nobody of you i've ever worked with but this was supposed to be the peak enterprise",
    "start": "326800",
    "end": "332160"
  },
  {
    "text": "software for core banking systems even worse to me than kobold which i've read quite a few but i think we came to",
    "start": "332160",
    "end": "339039"
  },
  {
    "text": "realize that this leads absolutely nowhere you cannot get any job done with that kind of environments and that's why",
    "start": "339039",
    "end": "345280"
  },
  {
    "text": "we really had to rethink how we want to build all these programs but the job is not easy because we have the existing",
    "start": "345280",
    "end": "351919"
  },
  {
    "text": "software large banks have tens of thousands of such programs which are slightly more productive than this one",
    "start": "351919",
    "end": "358000"
  },
  {
    "text": "and how do you maintain that i've taken this excerpt from a talk i've seen called the worst programming language in",
    "start": "358000",
    "end": "363759"
  },
  {
    "text": "the world which takes a little bit of the worse of every language but can't get worse than that",
    "start": "363759",
    "end": "370080"
  },
  {
    "text": "so how do we do it solaris bank was born six seven years ago and",
    "start": "370160",
    "end": "376160"
  },
  {
    "text": "we set ourselves to achieve this goal building shiny apis and make it easy for everyone to do banking",
    "start": "376160",
    "end": "381680"
  },
  {
    "text": "so we said let's do an mvp right in a startup economics you cannot take seven years to make a product you have to do",
    "start": "381680",
    "end": "388080"
  },
  {
    "text": "it in a year you have to time the market and you need to get the product roll out you don't have a choice so how do you do",
    "start": "388080",
    "end": "393680"
  },
  {
    "text": "a bank well you start with kyc retail accounts and business accounts you cannot live",
    "start": "393680",
    "end": "399759"
  },
  {
    "text": "without that right because that's what you're going to sell you need to prove that the clients exist and are who they",
    "start": "399759",
    "end": "405120"
  },
  {
    "text": "claim to be and you need to hold the deposits into regulated accounts",
    "start": "405120",
    "end": "410639"
  },
  {
    "text": "then they'll need to pay their bills so you need direct debits probably check their balance and integrate with the",
    "start": "410639",
    "end": "416479"
  },
  {
    "text": "regular payment networks that you cannot work without all right starting to be a little bit of",
    "start": "416479",
    "end": "421840"
  },
  {
    "text": "things to build for mvp but let's go in it regulation dictates that you need anti-money laundering software fraud",
    "start": "421840",
    "end": "426880"
  },
  {
    "text": "monitoring and a compliance engine to be sure that all of this is working well regulated and checking for all the",
    "start": "426880",
    "end": "433039"
  },
  {
    "text": "sanction lists and so on so forth we're done yet nope we actually need cards no customer",
    "start": "433039",
    "end": "440400"
  },
  {
    "text": "want to onboard in a bank if you don't have cards so end card is connected with existing",
    "start": "440400",
    "end": "446319"
  },
  {
    "text": "visa and mastercard integrations issuing and the logistics of delivering the actual plastic",
    "start": "446319",
    "end": "452080"
  },
  {
    "text": "but you also need limits you also need expiration of the cards you need withdrawal so you you actually need to",
    "start": "452080",
    "end": "458000"
  },
  {
    "text": "interact with the atms then comes the loan part so",
    "start": "458000",
    "end": "465280"
  },
  {
    "text": "if you want to make a profit you will actually be offering credit but to do that you'll need to set installments",
    "start": "465280",
    "end": "470879"
  },
  {
    "text": "loan onboarding interest calculation credit scoring and then you need to go with all the national credit systems so",
    "start": "470879",
    "end": "477039"
  },
  {
    "text": "that you're actually regulated for that put all of this in general ledger then a treasury build tax reporting back office",
    "start": "477039",
    "end": "483039"
  },
  {
    "text": "here oh my god where this is going so this mpp really is a massive vanity",
    "start": "483039",
    "end": "488960"
  },
  {
    "text": "project because we thought we would change that but how do we change that",
    "start": "488960",
    "end": "494400"
  },
  {
    "text": "so the solution is to not build it",
    "start": "494400",
    "end": "498879"
  },
  {
    "text": "and that's what we did building a brink from scratch was actually building the value part of the",
    "start": "499680",
    "end": "505680"
  },
  {
    "text": "bank from scratch and using things that we could that already existed this is the only way to do it in a year",
    "start": "505680",
    "end": "512640"
  },
  {
    "text": "so we received the banking license after less than a year record time by the bundesbank in germany",
    "start": "512640",
    "end": "519360"
  },
  {
    "text": "we become a principal membership with mastercard so that we have these products that the customer cannot live",
    "start": "519360",
    "end": "524399"
  },
  {
    "text": "without and we start onboarding customers this in a span of a year required time",
    "start": "524399",
    "end": "530880"
  },
  {
    "text": "so what's the catch well this is the catch this is an excerpt from an architecture",
    "start": "530880",
    "end": "537279"
  },
  {
    "text": "diagram which i'm not proud of we have created the model of all monolith",
    "start": "537279",
    "end": "542800"
  },
  {
    "text": "a wrapper around a core banking system that we purchased and basically the arrowing system kind",
    "start": "542800",
    "end": "548880"
  },
  {
    "text": "of show you that every single entity in the company was calling some feature of this core banking system from finance to",
    "start": "548880",
    "end": "555600"
  },
  {
    "text": "digital banking to authentication everything was connected to this so if you mess up a deployment the",
    "start": "555600",
    "end": "561120"
  },
  {
    "text": "entire bank goes down if you have a performance issue everybody complains and of course because we bought the",
    "start": "561120",
    "end": "567519"
  },
  {
    "text": "system and built a layer on top and probably a layer around the layer things get more complex to change you don't",
    "start": "567519",
    "end": "574240"
  },
  {
    "text": "really know how to work with it and trust me we've tried to optimize it we've built cache layers we synchronized",
    "start": "574240",
    "end": "580560"
  },
  {
    "text": "you can see in redis we had a cache system just for the bookings mirroring database but just at some",
    "start": "580560",
    "end": "586959"
  },
  {
    "text": "point this cannot work but the customers were coming in and the company was growing so as time moved up",
    "start": "586959",
    "end": "593279"
  },
  {
    "text": "moved by we've seen that uh the this is fine i guess",
    "start": "593279",
    "end": "599040"
  },
  {
    "text": "like we had really like are we the baddies moment where we think that we're actually speed running",
    "start": "599040",
    "end": "605519"
  },
  {
    "text": "30 years of mistakes in banking software and the performance ain't",
    "start": "605519",
    "end": "612320"
  },
  {
    "text": "much better so if you work in fintechs of banking you know that spy kilos is extremely present",
    "start": "612320",
    "end": "618880"
  },
  {
    "text": "you have the central bank windows you have all the customers waking up and want to check how many much money they",
    "start": "618880",
    "end": "624640"
  },
  {
    "text": "have and you have the business accounts of course who will batch all their payments in the same day of the month",
    "start": "624640",
    "end": "631440"
  },
  {
    "text": "and you have to live with this and we can't see much on this grafana archive",
    "start": "631440",
    "end": "636720"
  },
  {
    "text": "which i've found like very hidden in when i was preparing for this talk but basically",
    "start": "636720",
    "end": "642320"
  },
  {
    "text": "things could take hours to synchronize like the bookings were not coming in and then the clients would call what's",
    "start": "642320",
    "end": "647760"
  },
  {
    "text": "happening with the system and there just aren't a way to hide this",
    "start": "647760",
    "end": "655120"
  },
  {
    "text": "an engineer in 2017 was observing that it could take between 10 seconds and 30",
    "start": "655200",
    "end": "660320"
  },
  {
    "text": "minutes to book on a ct nice estimate and of course nobody wants to work with",
    "start": "660320",
    "end": "665600"
  },
  {
    "text": "a system that perform a transaction in 30 minutes even the cpo and i've redacted some",
    "start": "665600",
    "end": "672320"
  },
  {
    "text": "parts said we need to take precautionary measure to prevent the core banking",
    "start": "672320",
    "end": "677600"
  },
  {
    "text": "system from collapsing so the cpo was already well aware that its",
    "start": "677600",
    "end": "682720"
  },
  {
    "text": "whole product layer was on the brink of collapse if we didn't do something",
    "start": "682720",
    "end": "688160"
  },
  {
    "text": "so we did what no bank should ever ever ever do",
    "start": "688160",
    "end": "693200"
  },
  {
    "text": "we decided to throw everything into the trash and redo it because the lesson is that you cannot",
    "start": "693200",
    "end": "699440"
  },
  {
    "start": "698000",
    "end": "1138000"
  },
  {
    "text": "optimize your way out of a bad design",
    "start": "699440",
    "end": "703839"
  },
  {
    "text": "so banking is a world we've constrained and i think a lot of you have registered so you know what i'm talking by we have slas that are very strict and",
    "start": "704480",
    "end": "712079"
  },
  {
    "text": "controlled you need frequent patches not just for security but also regulatory separate book you know what i'm talking",
    "start": "712079",
    "end": "718320"
  },
  {
    "text": "about but you need to be cost efficient because you're serving this for millions and millions of customers so the the",
    "start": "718320",
    "end": "724160"
  },
  {
    "text": "economics is really on the unit uh spent per customer and it needs to be scalable",
    "start": "724160",
    "end": "729519"
  },
  {
    "text": "because as a young company you really strive to scale",
    "start": "729519",
    "end": "734880"
  },
  {
    "text": "those are the invariants in our tech stack we have chosen to completely depart from the world before",
    "start": "734880",
    "end": "740800"
  },
  {
    "text": "us and we have made event sourcing really the bread and butter of our architecture i'll go more into that and",
    "start": "740800",
    "end": "747600"
  },
  {
    "text": "why i think this is the best architecture possible for a banking system or a car banking system",
    "start": "747600",
    "end": "753120"
  },
  {
    "text": "we have a fleet at the time of this talk 93 micro services all running in golang",
    "start": "753120",
    "end": "758880"
  },
  {
    "text": "just to serve the core banking system we think that go has the perfect tool set to offer with a low memory footprint and",
    "start": "758880",
    "end": "765680"
  },
  {
    "text": "high concurrency models and it really has served really well they all run in kubernetes so that we",
    "start": "765680",
    "end": "771200"
  },
  {
    "text": "can have easy and fast deployments and availability built in this system was the first one at solaris",
    "start": "771200",
    "end": "777760"
  },
  {
    "text": "bank that was entirely born in nws and it has showed the way for the entire company to follow suit and now all",
    "start": "777760",
    "end": "784480"
  },
  {
    "text": "solaris bank runs in aws and the data stores which for core banking are essential",
    "start": "784480",
    "end": "791519"
  },
  {
    "text": "we have chosen dynamodb for event sourcing and postgresql to hold all the",
    "start": "791519",
    "end": "796959"
  },
  {
    "text": "snapshots of the customer data now event sourcing",
    "start": "796959",
    "end": "803600"
  },
  {
    "text": "if you don't know even sourcing is an architecture where every single change that you make in your system is captured",
    "start": "803600",
    "end": "811360"
  },
  {
    "text": "through a sequence of events that means that you will separate every write operations on your system and",
    "start": "811360",
    "end": "817839"
  },
  {
    "text": "encapsulate them with a first entry point in this case we want to perform a transfer bank transfer we have this",
    "start": "817839",
    "end": "824800"
  },
  {
    "text": "transfer command that will receive the http request and it will immediately",
    "start": "824800",
    "end": "829839"
  },
  {
    "text": "write into the event store that we have initiated that transfer of course after checking if the customer",
    "start": "829839",
    "end": "836240"
  },
  {
    "text": "has enough balance if the account is not closed and all the necessary checks when this is done we send a signal to",
    "start": "836240",
    "end": "842880"
  },
  {
    "text": "sns which is the messaging system on a notification system on aws",
    "start": "842880",
    "end": "848639"
  },
  {
    "text": "a queue will pull from this message and transmit to a worker that he has job to",
    "start": "848639",
    "end": "854480"
  },
  {
    "text": "do the aml worker will check the sanction list the under monitoring list to make sure that no one is trying to land their",
    "start": "854480",
    "end": "860639"
  },
  {
    "text": "money or funnel this transfer to a terrorist and then each step of the way will write new",
    "start": "860639",
    "end": "866959"
  },
  {
    "text": "events in a sequence this gives you native logging of everything that had happened with the transfer there is no",
    "start": "866959",
    "end": "873440"
  },
  {
    "text": "more transparent way to display bank information than this sequence of events",
    "start": "873440",
    "end": "878560"
  },
  {
    "text": "until it is finalized and can be exported to a central bank if we're talking about external or different",
    "start": "878560",
    "end": "883839"
  },
  {
    "text": "payment gateways now how do you figure out what is the",
    "start": "883839",
    "end": "889600"
  },
  {
    "text": "state of the transfer right because it has so many different steps and people will want to consult the customer itself",
    "start": "889600",
    "end": "895199"
  },
  {
    "text": "would like to know what's happening with his transfer so each step will produce an individual",
    "start": "895199",
    "end": "901199"
  },
  {
    "text": "json payload that we will store inside the event store this is tracked with a single id that we",
    "start": "901199",
    "end": "908320"
  },
  {
    "text": "call the aggregated id and has a payload with the actual banking data the business data which in this case would",
    "start": "908320",
    "end": "915279"
  },
  {
    "text": "be the amount that we display with 500 of course we uh store all the",
    "start": "915279",
    "end": "920560"
  },
  {
    "text": "monetary values as integers so that we don't have to deal with floating points",
    "start": "920560",
    "end": "925839"
  },
  {
    "text": "can be a problem if you work with korean currency by the way i learned because there is no sense but",
    "start": "925839",
    "end": "931199"
  },
  {
    "text": "story for another talk then each service that will pick up these messages will increment and enrich the",
    "start": "931199",
    "end": "938160"
  },
  {
    "text": "data by providing if the checks were passed and where the",
    "start": "938160",
    "end": "943360"
  },
  {
    "text": "destination is going and what's the current state and so on and so forth so at the end you get this sequence of",
    "start": "943360",
    "end": "949680"
  },
  {
    "text": "events that are all visible and trackable by this single aggregate idea",
    "start": "949680",
    "end": "954959"
  },
  {
    "text": "and you can figure out what happened and what's the current state as of rule and accept force measure we",
    "start": "954959",
    "end": "962880"
  },
  {
    "text": "force happened only immutable events and not commutative that means that the order in which the events are written",
    "start": "962880",
    "end": "968800"
  },
  {
    "text": "actually matters and that's challenges to which we have to adapt architecture for but it's also",
    "start": "968800",
    "end": "975440"
  },
  {
    "text": "gives us the additional security that nobody will change history nobody will insert corrupted data so this this works",
    "start": "975440",
    "end": "982720"
  },
  {
    "text": "really well with with a pattern to take full benefit of this we use cqrs",
    "start": "982720",
    "end": "989120"
  },
  {
    "text": "in which the commands on one part are the right operations but they go through",
    "start": "989120",
    "end": "994800"
  },
  {
    "text": "a secondary way where we have what we call a projection a service that listens to each and every",
    "start": "994800",
    "end": "1001839"
  },
  {
    "text": "event and aggregates the last state and put it in a relational database that is easy to",
    "start": "1001839",
    "end": "1008240"
  },
  {
    "text": "query if backup fits needs to know how many transfers for more than one million euros happen in the morning well they",
    "start": "1008240",
    "end": "1014959"
  },
  {
    "text": "can we have built a schema that is optimized exactly for that purpose they do not need to go through all the events",
    "start": "1014959",
    "end": "1021519"
  },
  {
    "text": "in the event store and this is very flexible because we can build many snapshots with different purposes and",
    "start": "1021519",
    "end": "1026798"
  },
  {
    "text": "with schema that are optimized",
    "start": "1026799",
    "end": "1030720"
  },
  {
    "text": "the craziness that we have actually built the ledger with the same concept the ledger is just a projection of the",
    "start": "1032640",
    "end": "1040240"
  },
  {
    "text": "events if you if you want you could rebuild the ledger i could delete the ledger in production right",
    "start": "1040240",
    "end": "1047199"
  },
  {
    "text": "now i won't do it but i could and we could go through all the events history",
    "start": "1047199",
    "end": "1052320"
  },
  {
    "text": "and reproject it into the ledger as it is exactly right now i take all these different events",
    "start": "1052320",
    "end": "1058960"
  },
  {
    "text": "foreign exchange adm car transactions all of these are events there are different actions that our customer can",
    "start": "1058960",
    "end": "1064880"
  },
  {
    "text": "write can request in our system and all of this will be captured by the ledger",
    "start": "1064880",
    "end": "1069919"
  },
  {
    "text": "projection and be reflected into the double entry the accounting method data structure",
    "start": "1069919",
    "end": "1076400"
  },
  {
    "text": "that we use to represent money that represents the actual money in the bank accounts",
    "start": "1076400",
    "end": "1082000"
  },
  {
    "text": "how does this work exactly like a regular projection the ledger projection will fetch all of",
    "start": "1082000",
    "end": "1087760"
  },
  {
    "text": "these events that represent money movements and will write in dedicated table in the database the entirety of",
    "start": "1087760",
    "end": "1094559"
  },
  {
    "text": "the bookings and what is the current balance",
    "start": "1094559",
    "end": "1098799"
  },
  {
    "text": "challenges with double entry is that they always have two entries you have",
    "start": "1100960",
    "end": "1107120"
  },
  {
    "text": "the credit and the debits if i am sending money to you then i am",
    "start": "1107120",
    "end": "1112480"
  },
  {
    "text": "the debtor and you are the creditor and this means that",
    "start": "1112480",
    "end": "1117840"
  },
  {
    "text": "the sum of all the entries is a zero-sum game if i sum all the bookings in the ledger i will get zero and if i sum all",
    "start": "1117840",
    "end": "1125840"
  },
  {
    "text": "the bookings with my iban i will get my balance so this is how we build the ledger and all of this is derived from",
    "start": "1125840",
    "end": "1133280"
  },
  {
    "text": "the events where you get the amount for each customer",
    "start": "1133280",
    "end": "1138480"
  },
  {
    "start": "1138000",
    "end": "1538000"
  },
  {
    "text": "now all of this is really good but it comes with a cost so i put my mandatory margin",
    "start": "1139039",
    "end": "1145200"
  },
  {
    "text": "follow quote here that distributed software has a major disadvantage and we have to work with the disadvantages of",
    "start": "1145200",
    "end": "1152160"
  },
  {
    "text": "distributed software we have 93 micro services multiple database and we have to",
    "start": "1152160",
    "end": "1158400"
  },
  {
    "text": "interconnect all these parts so what are the trade-off so first is eventual consistency and in",
    "start": "1158400",
    "end": "1164080"
  },
  {
    "text": "banking it's a big world because we are under constant fire of cyber attacks fraudsters people trying to take",
    "start": "1164080",
    "end": "1171200"
  },
  {
    "text": "advantage of the system to steal money and we know this first hand we have to",
    "start": "1171200",
    "end": "1176640"
  },
  {
    "text": "prevent and we have to plan for every possible scenarios so there are things that we can make eventually consistent",
    "start": "1176640",
    "end": "1182640"
  },
  {
    "text": "and there are things that we absolutely cannot transfers is somewhat asynchronous",
    "start": "1182640",
    "end": "1188240"
  },
  {
    "text": "because you will be dependent on the payment networks to execute them you will be dependent on central bank windows so this can be asynchronous with",
    "start": "1188240",
    "end": "1196240"
  },
  {
    "text": "a caveat that your customer expects the bookings to come as fast as possible on each actual statement nobody wants to",
    "start": "1196240",
    "end": "1202480"
  },
  {
    "text": "wait uh one minute or two minutes to see if the transfer worked or not you will lose the customer trust so that's why we",
    "start": "1202480",
    "end": "1208720"
  },
  {
    "text": "have sellos imports direct debits overdraft and any schedule action can also be highly",
    "start": "1208720",
    "end": "1213840"
  },
  {
    "text": "eventually consistent but we as a rule try to make all the projections happen",
    "start": "1213840",
    "end": "1218960"
  },
  {
    "text": "in less than a second there are things that cannot be eventually eventually consistent",
    "start": "1218960",
    "end": "1224640"
  },
  {
    "text": "account blocks or account closures must be directly fetched from the events we do what we call a projection at runtime",
    "start": "1224640",
    "end": "1232320"
  },
  {
    "text": "that means that we will fetch the events aggregate the state and get the result it is slightly slower but in the case",
    "start": "1232320",
    "end": "1238159"
  },
  {
    "text": "where you cannot be eventually consistent that's what you do another example that is very typical is transfer",
    "start": "1238159",
    "end": "1243520"
  },
  {
    "text": "authorization if i was checking an eventually consistent balance to authorize a payment then someone very",
    "start": "1243520",
    "end": "1249919"
  },
  {
    "text": "smart could make 100 payments at the same time and then it would always check against the first balance that cannot",
    "start": "1249919",
    "end": "1256880"
  },
  {
    "text": "happen in the system we always would have the latest balance which will take into",
    "start": "1256880",
    "end": "1262480"
  },
  {
    "text": "account the previous items now asynchronous software have other",
    "start": "1262480",
    "end": "1270480"
  },
  {
    "text": "problems which are more about the product how do you convey to the businesses that rely on you",
    "start": "1270480",
    "end": "1276720"
  },
  {
    "text": "that the data can be eventually consistent and that the final state can come",
    "start": "1276720",
    "end": "1282480"
  },
  {
    "text": "kind of arrive after you have answered them to 200. if they call a credit transfer and we",
    "start": "1282480",
    "end": "1288720"
  },
  {
    "text": "answer 200 to them they have to know what that means and for us it means the transfer was",
    "start": "1288720",
    "end": "1295440"
  },
  {
    "text": "initiated it was not completed it was initiated so we think with a high amount of trust that",
    "start": "1295440",
    "end": "1302960"
  },
  {
    "text": "we have all the necessary information through the payload to process the payment then it goes through all the sequence",
    "start": "1302960",
    "end": "1308960"
  },
  {
    "text": "that i've explained before and finally it can be finalized of course in a very low percentage",
    "start": "1308960",
    "end": "1316000"
  },
  {
    "text": "of the time you can have an aml hit we could have a match of the name of this person against the list that obliges as",
    "start": "1316000",
    "end": "1324159"
  },
  {
    "text": "a regulated industry to block this payment and analyze it before processing it",
    "start": "1324159",
    "end": "1329919"
  },
  {
    "text": "and how do we try to give constant feedback through sns notification and web hooks so that our customers can know",
    "start": "1329919",
    "end": "1336880"
  },
  {
    "text": "at all time everything that is happening everything that's changed so in the end they just have to wait for",
    "start": "1336880",
    "end": "1342400"
  },
  {
    "text": "the correct signal we can give them a signal well this was initiated and then they will wait for a",
    "start": "1342400",
    "end": "1347440"
  },
  {
    "text": "signal that tells it that it's completed put a little push on the application so that the customer can know that",
    "start": "1347440",
    "end": "1353280"
  },
  {
    "text": "everything happened correctly in a chain of events one of your system",
    "start": "1353280",
    "end": "1360320"
  },
  {
    "text": "can misbehave it's a double-edged sword because in one hand we are very happy that our command",
    "start": "1360320",
    "end": "1367039"
  },
  {
    "text": "can still answer 200 and we keep accepting payments in the eye of the customers everything's going fine but if",
    "start": "1367039",
    "end": "1373440"
  },
  {
    "text": "you have some asynchronous part is breaking then your q start to grow and you will get nothing processed so we do",
    "start": "1373440",
    "end": "1380640"
  },
  {
    "text": "retry 10 times and eventually if a payment cannot be processed it will go into a",
    "start": "1380640",
    "end": "1387120"
  },
  {
    "text": "queue where it will be waiting for fix to happen of someone to intervene but that enables to unblock the queue and",
    "start": "1387120",
    "end": "1393679"
  },
  {
    "text": "continue processing the payments that we can actually process we have built a special piece of",
    "start": "1393679",
    "end": "1399440"
  },
  {
    "text": "software called the supervisor which actually tracks every single payment in the system and",
    "start": "1399440",
    "end": "1405679"
  },
  {
    "text": "find out if they are being processed as planned it is timing it allows for a certain amount of time for a payment to",
    "start": "1405679",
    "end": "1412000"
  },
  {
    "text": "be processed and if we are past that then our observability stack will catch up this and",
    "start": "1412000",
    "end": "1418400"
  },
  {
    "text": "probably create an incident or call up an uncle engineer and so someone can",
    "start": "1418400",
    "end": "1423919"
  },
  {
    "text": "actually take a look and fix the problem i won't go much into the ops uh ops and",
    "start": "1423919",
    "end": "1432640"
  },
  {
    "text": "infrastructure part i think it's 2022 uh but here i can just uh",
    "start": "1432640",
    "end": "1438720"
  },
  {
    "text": "say once again i've heard many times in this conference that the cloud",
    "start": "1438720",
    "end": "1443760"
  },
  {
    "text": "forces you to make good practices and this is no exception we've fully utilized aws",
    "start": "1443760",
    "end": "1449840"
  },
  {
    "text": "uh every services of ours have multiple replicas and we can horizontally scale every part of",
    "start": "1449840",
    "end": "1456000"
  },
  {
    "text": "the system if in the morning we have more payment to process because the central bank has",
    "start": "1456000",
    "end": "1461120"
  },
  {
    "text": "imported big files then we can scale up a lot all the importing payment part and",
    "start": "1461120",
    "end": "1466240"
  },
  {
    "text": "if we are in the late afternoon and everyone want to see its bank accounts then we will just scale up the query balance part",
    "start": "1466240",
    "end": "1473840"
  },
  {
    "text": "we distribute the load on different availability zone last year in june",
    "start": "1474240",
    "end": "1480159"
  },
  {
    "text": "aws had an outage in the zone c of frankfurt which is the region that we we use for",
    "start": "1480159",
    "end": "1487520"
  },
  {
    "text": "our system and luckily it was mostly invisible because we could relocate the load into the other az that we had",
    "start": "1487520",
    "end": "1494880"
  },
  {
    "text": "already set up and kubernetes allows us to deploy",
    "start": "1494880",
    "end": "1500080"
  },
  {
    "text": "easily multiple times a day we have a ci pipeline that enables to test and deploy",
    "start": "1500080",
    "end": "1506559"
  },
  {
    "text": "i say multiple times a day but it's always small units of deployments because we have 93 microservices so that",
    "start": "1506559",
    "end": "1512640"
  },
  {
    "text": "also mean that when a deployment fails a very subset of the system has to be worked with all of this version can get",
    "start": "1512640",
    "end": "1519200"
  },
  {
    "text": "rollback and mostly work and from infrastructure to business",
    "start": "1519200",
    "end": "1524480"
  },
  {
    "text": "logic everything is represented at the code so that we can track every change and in banking it gives us this",
    "start": "1524480",
    "end": "1531039"
  },
  {
    "text": "additional insurance that no faulty code can be pushed or worse no malicious code",
    "start": "1531039",
    "end": "1536240"
  },
  {
    "text": "can be pushed so that's all nice and good but remember",
    "start": "1536240",
    "end": "1541440"
  },
  {
    "start": "1538000",
    "end": "2106000"
  },
  {
    "text": "what i had before like this big monolith thing well it had plenty of customers we had already uh",
    "start": "1541440",
    "end": "1548159"
  },
  {
    "text": "going to one million banking account and multiple millions of transfers happening every",
    "start": "1548159",
    "end": "1553200"
  },
  {
    "text": "day so the question is really how do you go from one to another people used to say",
    "start": "1553200",
    "end": "1559039"
  },
  {
    "text": "that maintaining software is like refueling a plane when it's flying well migrating legacy system is basically",
    "start": "1559039",
    "end": "1566240"
  },
  {
    "text": "changing the passenger from one plane to another and this is not an easy task especially",
    "start": "1566240",
    "end": "1571679"
  },
  {
    "text": "when you have all the dependencies and all these teams depending on the feature of the original system",
    "start": "1571679",
    "end": "1578240"
  },
  {
    "text": "so let's make a plan in 2018 we said that we wanted in three years to migrate everyone to the new",
    "start": "1578240",
    "end": "1585120"
  },
  {
    "text": "system we had no cod done and we had just a team of a few people that had this dream",
    "start": "1585120",
    "end": "1592240"
  },
  {
    "text": "and started going blueprints architecture how do we solve this problem and this",
    "start": "1592240",
    "end": "1597840"
  },
  {
    "text": "problem and we set the goal and moving parts they identified that one of the",
    "start": "1597840",
    "end": "1603120"
  },
  {
    "text": "first domains that they could migrate successfully was the accounts domain which registers the ibands and the",
    "start": "1603120",
    "end": "1609760"
  },
  {
    "text": "holders of the bank accounts so we started with that we built that",
    "start": "1609760",
    "end": "1615039"
  },
  {
    "text": "part of the service and we replicated with the legacy system all the data back",
    "start": "1615039",
    "end": "1620240"
  },
  {
    "text": "and forth so that all the queries could be made on the new system while simultaneously allowing all the payments",
    "start": "1620240",
    "end": "1626320"
  },
  {
    "text": "to still happen in the old one then one year later we worked through",
    "start": "1626320",
    "end": "1631600"
  },
  {
    "text": "the first sct with production data with the central bank the green light by the",
    "start": "1631600",
    "end": "1636880"
  },
  {
    "text": "central bank that the new system was capable of doing this was celebrated as a sign of hope that this could actually",
    "start": "1636880",
    "end": "1643039"
  },
  {
    "text": "happen this was crazy but this could actually happen do we have then a better test friendly",
    "start": "1643039",
    "end": "1648559"
  },
  {
    "text": "families expanding the circle and then we decided that all new business should be created immediately on the new system",
    "start": "1648559",
    "end": "1655600"
  },
  {
    "text": "without relying we used a new big new bic so that we had like a digital",
    "start": "1655600",
    "end": "1661840"
  },
  {
    "text": "branch on the old one and a digital branch on the new one and then",
    "start": "1661840",
    "end": "1667120"
  },
  {
    "text": "in q4 2020 we reached out to everyone and said guys dear customers",
    "start": "1667120",
    "end": "1673840"
  },
  {
    "text": "we are going through with this we are going through the migration we will use a new core banking system and we are",
    "start": "1673840",
    "end": "1678960"
  },
  {
    "text": "going to migrate all the data of your dear end customers and we will try to make it without you",
    "start": "1678960",
    "end": "1684640"
  },
  {
    "text": "noticing of course things don't always go up to what we planned but um that that was",
    "start": "1684640",
    "end": "1691039"
  },
  {
    "text": "the goal and in q2 2021 in june of last year i think it's we have celebrated one year",
    "start": "1691039",
    "end": "1697840"
  },
  {
    "text": "anniversary last week uh we migrated all the customer to the new platform",
    "start": "1697840",
    "end": "1704480"
  },
  {
    "text": "the challenges with such a migration are that the structure of data is very different on one side you have events",
    "start": "1704640",
    "end": "1709840"
  },
  {
    "text": "that right in dynamodb and on another one i had some sql server database i believe",
    "start": "1709840",
    "end": "1716960"
  },
  {
    "text": "with some very very ugly schema design and it makes no sense for me to replicate the idiotic schema design that",
    "start": "1716960",
    "end": "1723679"
  },
  {
    "text": "was done for the first one if so you really need to have a transformation layer that can translate",
    "start": "1723679",
    "end": "1730000"
  },
  {
    "text": "between the two systems we basically have a zero percent consistency failure that means that if a",
    "start": "1730000",
    "end": "1736080"
  },
  {
    "text": "balance doesn't match and a customer wake-ups another day with the wrong balance it's just",
    "start": "1736080",
    "end": "1741360"
  },
  {
    "text": "we open the door for lawsuits and possibly losing the banking license so that's not what we want",
    "start": "1741360",
    "end": "1747360"
  },
  {
    "text": "we said that we wanted no downtime but that's an idealist",
    "start": "1747360",
    "end": "1753120"
  },
  {
    "text": "i'll go into that later we obviously need feature parity because you cannot possibly offer less features",
    "start": "1753120",
    "end": "1760000"
  },
  {
    "text": "to your customers if you migrate them to the new system they expect to have the same or more we had this trick deadline",
    "start": "1760000",
    "end": "1767360"
  },
  {
    "text": "that's because of licensing and that's because in such a migration you have so many dependencies that you have to",
    "start": "1767360",
    "end": "1772960"
  },
  {
    "text": "synchronize the work with everyone and also the new system must prove itself it has to handle the load for",
    "start": "1772960",
    "end": "1780159"
  },
  {
    "text": "triple the traffic overnight because yes we've been on boarding new customers on the new system and yes we have been",
    "start": "1780159",
    "end": "1786799"
  },
  {
    "text": "holding the bank accounts on the first system but it's not proven that it can handle the batches and can handle all",
    "start": "1786799",
    "end": "1792960"
  },
  {
    "text": "the central bank arrivals so that's a challenge and also you need to plan contingency",
    "start": "1792960",
    "end": "1799279"
  },
  {
    "text": "what happened if that doesn't go right what happens if a direct debit that was done on the first system is being",
    "start": "1799279",
    "end": "1805120"
  },
  {
    "text": "refunded on the other system can i really find it back do i have the tool to do lego",
    "start": "1805120",
    "end": "1810320"
  },
  {
    "text": "reconciliation is banking operations the agents that with the back office enabled to perform such actions on both systems",
    "start": "1810320",
    "end": "1817760"
  },
  {
    "text": "so those those are things that you need to keep in mind 60 days before the migration",
    "start": "1817760",
    "end": "1823840"
  },
  {
    "text": "this is the setup that we we had all the clients had a double writing",
    "start": "1823840",
    "end": "1829600"
  },
  {
    "text": "they would write into one system the old one that were processing all the payments and simultaneously right into",
    "start": "1829600",
    "end": "1836399"
  },
  {
    "text": "the new one some of it can be done synchronously",
    "start": "1836399",
    "end": "1841840"
  },
  {
    "text": "cards for example were doing synchronous rights into both systems some of it cannot be done synchronously",
    "start": "1841840",
    "end": "1848080"
  },
  {
    "text": "because of the data is just too different so they themselves had two systems or because of",
    "start": "1848080",
    "end": "1853919"
  },
  {
    "text": "latency delays when the latency requirement is so low that you cannot afford an additional i o input",
    "start": "1853919",
    "end": "1860799"
  },
  {
    "text": "and inevitably if you do this from day minor 16 well you will have inconsistencies",
    "start": "1860799",
    "end": "1867120"
  },
  {
    "text": "because you haven't migrated five years of historical banking data yet",
    "start": "1867120",
    "end": "1872640"
  },
  {
    "text": "that's where come the next part 30 days before the migration we backfill the data we build a worker which",
    "start": "1872640",
    "end": "1878320"
  },
  {
    "text": "iterates through all the payments that were done since the beginning of times",
    "start": "1878320",
    "end": "1884000"
  },
  {
    "text": "replicate it to the new system and then make sure it's consistent this is",
    "start": "1884000",
    "end": "1889679"
  },
  {
    "text": "more than 300 millions records and you go one by one so the first thing it will",
    "start": "1889679",
    "end": "1894880"
  },
  {
    "text": "not work from the first try it will not work from the second try and you will erase all the data and try over",
    "start": "1894880",
    "end": "1901039"
  },
  {
    "text": "you'll find records where you didn't know that these fields existed and you'll find records that you didn't even",
    "start": "1901039",
    "end": "1906080"
  },
  {
    "text": "know you had these customers to begin with so it's kind of an archaeological experience where you really go through",
    "start": "1906080",
    "end": "1912960"
  },
  {
    "text": "again and again fix the mistakes we had 30 days to do it we've completed it with six hours to spare",
    "start": "1912960",
    "end": "1921840"
  },
  {
    "text": "then comes d0 most if not all the data should be in sync i say most because we run a big",
    "start": "1922960",
    "end": "1930880"
  },
  {
    "text": "reconciliation check where we could just sum all the balances on the positive balances on one side of the ledger and",
    "start": "1930880",
    "end": "1937360"
  },
  {
    "text": "on the other what did we found 100 account with a different balance well perfect i'm out",
    "start": "1937360",
    "end": "1943200"
  },
  {
    "text": "of a job so what do you do well a software engineer i just copy the dump of both",
    "start": "1943200",
    "end": "1950480"
  },
  {
    "text": "databases and i do a big ass sql query where i can find out which accounts have",
    "start": "1950480",
    "end": "1955679"
  },
  {
    "text": "a different balance and then find out which bookings are missing or are",
    "start": "1955679",
    "end": "1960840"
  },
  {
    "text": "duplicated well this query would take 60 hours and i only have six hours so what",
    "start": "1960840",
    "end": "1965919"
  },
  {
    "text": "do i do well turns out that we have some very good friends in data engineering which",
    "start": "1965919",
    "end": "1971279"
  },
  {
    "text": "happens to know a lot about this kind of challenges they take the dumps import them in with spark",
    "start": "1971279",
    "end": "1978080"
  },
  {
    "text": "in their edwards athena and well turns out in the data world this is a five",
    "start": "1978080",
    "end": "1983279"
  },
  {
    "text": "second query so thank you very much data team all the credit",
    "start": "1983279",
    "end": "1988720"
  },
  {
    "text": "we find out what's missing we blame the team no i'm kidding we don't do that and then we can finally replicate the",
    "start": "1988720",
    "end": "1995440"
  },
  {
    "text": "last data that was missing run the reconciliation and go have a beer because in germany",
    "start": "1995440",
    "end": "2000960"
  },
  {
    "text": "that's what you do after work anyways so this is it there is no such thing as",
    "start": "2000960",
    "end": "2007200"
  },
  {
    "text": "a bing bang this is years of preparation in a bank things don't happen overnight",
    "start": "2007200",
    "end": "2012399"
  },
  {
    "text": "it's not a proof of concept you have a well-old machine that needs a lot of planning a lot of synchronization",
    "start": "2012399",
    "end": "2018880"
  },
  {
    "text": "this looks like a big bang but it's not but at the time of the migration we closed down the legacy system for good",
    "start": "2018880",
    "end": "2026480"
  },
  {
    "text": "and i guess that we proved that this was after all possible",
    "start": "2026480",
    "end": "2033640"
  },
  {
    "text": "what i take with me and what we all take with us forward is that even sourcing is",
    "start": "2033840",
    "end": "2038960"
  },
  {
    "text": "the perfect architecture for banking but it is a big upfront investment you will have to work twice the time twice",
    "start": "2038960",
    "end": "2047360"
  },
  {
    "text": "the code base but it is worth it it is worth it because it gives you all the tools you need to have the transparency",
    "start": "2047360",
    "end": "2053760"
  },
  {
    "text": "the security all the logging and the asynchronous parts where you can scale up whatever is needed in the banking",
    "start": "2053760",
    "end": "2059200"
  },
  {
    "text": "operation if you understand your domains early you can design your software around that and",
    "start": "2059200",
    "end": "2064878"
  },
  {
    "text": "if you work with legacy software you can decouple and break up the monolith where it needs to be done early",
    "start": "2064879",
    "end": "2071679"
  },
  {
    "text": "if availability is your goal then you embrace eventual consistency we had many back and forth debate with the product",
    "start": "2071679",
    "end": "2077839"
  },
  {
    "text": "teams about what could be and what could not be but at the end of the day availability and trust in the system is",
    "start": "2077839",
    "end": "2084000"
  },
  {
    "text": "what our customer expects from us and to achieve that we embraced it",
    "start": "2084000",
    "end": "2089040"
  },
  {
    "text": "and used managed services the cloud has opened so many doors for us we are big users of dynamodb sns sqs we couldn't",
    "start": "2089040",
    "end": "2097520"
  },
  {
    "text": "have possibly done that without those managed services at the same way that solaris bank could never be where it is",
    "start": "2097520",
    "end": "2103680"
  },
  {
    "text": "without the monolith that it had first we are very happy to be here i hope you all loved something and thank you for",
    "start": "2103680",
    "end": "2110160"
  },
  {
    "start": "2106000",
    "end": "2128000"
  },
  {
    "text": "coming [Applause]",
    "start": "2110160",
    "end": "2119328"
  },
  {
    "text": "you",
    "start": "2127599",
    "end": "2129680"
  }
]