[
  {
    "start": "0",
    "end": "118000"
  },
  {
    "text": "[Music]",
    "start": "3510",
    "end": "7529"
  },
  {
    "text": "my name is Rey I'm a developer advocate for the Google cloud platform what that means is that one number one I like to",
    "start": "14750",
    "end": "21240"
  },
  {
    "text": "bring some of our best technologies including open source technologies to developers over the world and also I",
    "start": "21240",
    "end": "27869"
  },
  {
    "text": "like to help make our technology better and easier to use and a lot of that has",
    "start": "27869",
    "end": "33149"
  },
  {
    "text": "to do with a feedback coming from all the users and developers like yourself so you know I really really want to hear",
    "start": "33149",
    "end": "39360"
  },
  {
    "text": "from you from the comments and feedback for this session and yeah and one of the",
    "start": "39360",
    "end": "44460"
  },
  {
    "text": "things that I do is to contribute to open source projects as well one of the project I started is a co spring cloud",
    "start": "44460",
    "end": "49890"
  },
  {
    "text": "GCP so if you're using like anything from my spring and spring boot we have really really nice and easy to use Auto",
    "start": "49890",
    "end": "55860"
  },
  {
    "text": "configuration starters for you I also contribute to G hipster and I have my own project Co JT for it and",
    "start": "55860",
    "end": "61800"
  },
  {
    "text": "again if you have any questions please find me on twitter at satin ism very lucky today we I also have my colleague",
    "start": "61800",
    "end": "68430"
  },
  {
    "text": "joining me today you know thank you Ray welcome hello believe so",
    "start": "68430",
    "end": "74969"
  },
  {
    "text": "I'm also developer advocate like Reyes I'm concentrating on all things data on distributed system so currently the lead",
    "start": "74969",
    "end": "81149"
  },
  {
    "text": "for storage and database systems but I'm also like have quite some experience in full stack development at various",
    "start": "81149",
    "end": "88710"
  },
  {
    "text": "companies so I'm very lucky that we invited me to co-present that talk today if you have questions again also the",
    "start": "88710",
    "end": "96299"
  },
  {
    "text": "same thing that we offered you find me also on Twitter at at what you are see thanks again for being here",
    "start": "96299",
    "end": "102719"
  },
  {
    "text": "and just so if you haven't noticed I feel like we have the same shirt yeah we didn't even coordinate for that awesome",
    "start": "102719",
    "end": "108659"
  },
  {
    "text": "kind of like unspoken communication that's right I noticed you have this short on your profile picture too right",
    "start": "108659",
    "end": "114569"
  },
  {
    "text": "that's a I'm wearing it since then never taking it off yeah very cool so today",
    "start": "114569",
    "end": "119850"
  },
  {
    "start": "118000",
    "end": "225000"
  },
  {
    "text": "we're going to show you something pretty cool about microservices but first we need to show you a demo application and",
    "start": "119850",
    "end": "125219"
  },
  {
    "text": "this is probably the best demo application that's beautiful I mean yeah we kept it very simplistic two colors",
    "start": "125219",
    "end": "131700"
  },
  {
    "text": "maybe three if you count some crazy shades here this is what gets you like with 30 years of combined software",
    "start": "131700",
    "end": "138840"
  },
  {
    "text": "development experience that that's what you can produce yeah yeah this is what you aim for a nickel just to show you how badly",
    "start": "138840",
    "end": "145420"
  },
  {
    "text": "that this is this is using you know jewellery for the front end a little bit of bootstrap I just basically did the",
    "start": "145420",
    "end": "152500"
  },
  {
    "text": "bootstrap thing here for the UI I'm not a front-end developer alright so this is the best thing I can do however",
    "start": "152500",
    "end": "158110"
  },
  {
    "text": "it does demonstrate quite a bit of things of what a micro services application for example when you pop",
    "start": "158110",
    "end": "164200"
  },
  {
    "text": "your name and message in to things gonna happen when we click on that grid button it's going to say hello back to you so",
    "start": "164200",
    "end": "169750"
  },
  {
    "text": "it's got a hello world demo application and it's going to save the data into the database and that's the the database",
    "start": "169750",
    "end": "176680"
  },
  {
    "text": "part lies the guestbook part of this most important part of it yeah so we combine most of the best demo",
    "start": "176680",
    "end": "183160"
  },
  {
    "text": "applications into one so it makes it one of the best best demo application I suppose however it does show you that",
    "start": "183160",
    "end": "189989"
  },
  {
    "text": "the architecture behind the scenes so here's the architecture diagram right we have the front end with the UI and then",
    "start": "189989",
    "end": "196180"
  },
  {
    "text": "we have two services behind the scenes we've got the hollower service and the guestbook service and then the guestbook service will write the data to my sequel",
    "start": "196180",
    "end": "202900"
  },
  {
    "text": "and for set replication we're using Redis behind the scenes right and you should try to put a simple application",
    "start": "202900",
    "end": "208959"
  },
  {
    "text": "which you could probably write anumana this into a complex microsoft's architecture yeah yeah I guess I guess",
    "start": "208959",
    "end": "215500"
  },
  {
    "text": "that's all we decided to do however as you can see maybe it's not the best use case however it does well it will",
    "start": "215500",
    "end": "221230"
  },
  {
    "text": "demonstrate quite a few points in a second all right so let's go ahead and take a look at it and here I have",
    "start": "221230",
    "end": "227290"
  },
  {
    "text": "deployed everything in community so all of these services are containerized and we deployed this into community",
    "start": "227290",
    "end": "233470"
  },
  {
    "text": "environment and we can clearly see that we have the front end here with a guestbook UI in a we got two instances",
    "start": "233470",
    "end": "239500"
  },
  {
    "text": "running and then we have the casebook service and my sequel and everything",
    "start": "239500",
    "end": "244510"
  },
  {
    "text": "deploy deploy they seem to yep go ahead and now you see I actually now see why you put that in a micro service",
    "start": "244510",
    "end": "249640"
  },
  {
    "text": "architecture because now you can actually scale these things independently right so I mean if our",
    "start": "249640",
    "end": "254709"
  },
  {
    "text": "guestbook application becomes really really popular we can basically scale out your our UI and then maybe our",
    "start": "254709",
    "end": "260410"
  },
  {
    "text": "backends yeah parts we need of course it's gonna be one of the most popular application in a second yeah everybody's gonna be",
    "start": "260410",
    "end": "266560"
  },
  {
    "text": "using it and then we have to scale this up right with everybody in this room of course now also because of the fact we",
    "start": "266560",
    "end": "273250"
  },
  {
    "text": "need to scale wait we we are running this in a six is that one two three four five I can count you are running this in a five",
    "start": "273250",
    "end": "279790"
  },
  {
    "text": "node cluster so this is running on five mill criminales cluster behind these things that's running on Google Cloud",
    "start": "279790",
    "end": "284980"
  },
  {
    "text": "right now but this is just go go cloud is the community's cluster behind the scenes all right and we can go ahead and",
    "start": "284980",
    "end": "291190"
  },
  {
    "start": "290000",
    "end": "376000"
  },
  {
    "text": "take a look at how this is actually deployed so in communities right we have out these well-defined files and a PR",
    "start": "291190",
    "end": "298240"
  },
  {
    "text": "objects' that were used to to define what it is that we want to deploy and that these are estate here already used",
    "start": "298240",
    "end": "304690"
  },
  {
    "text": "communities you're gonna see a show of hands okay well a lot of people very very cool yep so right so some of you",
    "start": "304690",
    "end": "311320"
  },
  {
    "text": "might be familiar with this so basically I have a yellow file here that defines the deployment and then we say how many",
    "start": "311320",
    "end": "316540"
  },
  {
    "text": "instances we want to deploy and then we have these tables which we can use later so labels are just key value pairs you",
    "start": "316540",
    "end": "323650"
  },
  {
    "text": "know we can name the application we can give it a version number and so on so forth right you can you can label things",
    "start": "323650",
    "end": "330550"
  },
  {
    "text": "however you want for that matter and then we have the image here which I'm pulling from a talker image and that's",
    "start": "330550",
    "end": "336640"
  },
  {
    "text": "how I'm deploying it for the service that we saw we have a UI service",
    "start": "336640",
    "end": "341710"
  },
  {
    "text": "definition here and we have the kind of a service what that just means is that this would define a load balancer within",
    "start": "341710",
    "end": "348520"
  },
  {
    "text": "the kubernetes cluster and then it's going to listen on port 80 for this load balancer and it's going to forward to",
    "start": "348520",
    "end": "354640"
  },
  {
    "text": "the port 80 as well and it's going to route traffic to anything that has the matching labels and based on this",
    "start": "354640",
    "end": "360490"
  },
  {
    "text": "selector and this particular one has a type of a load balancer what that means is that it's going to create a real load",
    "start": "360490",
    "end": "366610"
  },
  {
    "text": "balancer with the external IP address now depending on the environment you're running on they will go back to the",
    "start": "366610",
    "end": "372400"
  },
  {
    "text": "actual infrastructure and create a load balancer for you in particular because",
    "start": "372400",
    "end": "378130"
  },
  {
    "start": "376000",
    "end": "507000"
  },
  {
    "text": "we're running on Google cloud right now we actually create a real GC pl4 load balancer for you with a real IP address",
    "start": "378130",
    "end": "384820"
  },
  {
    "text": "and and we can actually go ahead and take a look at this application let me just refresh it consume it make sure I",
    "start": "384820",
    "end": "390250"
  },
  {
    "text": "have two right yeah right right so we can clearly see that this has opened up and we can see this green icon that's a",
    "start": "390250",
    "end": "397360"
  },
  {
    "text": "spring bouquet ssin and let's take a look",
    "start": "397360",
    "end": "401940"
  },
  {
    "text": "wait honey can you do a hard refresh what do you mean hot refresh like a shift shift shift yeah you have a video",
    "start": "403080",
    "end": "415879"
  },
  {
    "text": "no I just flew in yesterday I thought you I thought you're taking care of this",
    "start": "416360",
    "end": "422219"
  },
  {
    "text": "I was at the fiber assignment in Prague yeah before yesterday so I didn't have time oh you're like six minutes in it oh",
    "start": "422219",
    "end": "433189"
  },
  {
    "text": "yeah all right yeah thanks everyone for being here yes sorry about that I guess",
    "start": "433669",
    "end": "439110"
  },
  {
    "text": "that's it well hold on a second hold on a second I know everyone here puppy seeing plenty of conference talks and",
    "start": "439110",
    "end": "444719"
  },
  {
    "text": "stuff like that I think every one of you are probably rooting to see a demo to actually failed",
    "start": "444719",
    "end": "450000"
  },
  {
    "text": "I guess that's that's today but let's take a look at this error message very quickly I I guess we have to debug this",
    "start": "450000",
    "end": "457050"
  },
  {
    "text": "silent audience for the next 40 minutes right yeah all right everybody okay with that yeah just watching us DP yeah I see",
    "start": "457050",
    "end": "465120"
  },
  {
    "text": "what happens what do we have here yeah so we have a well we probably have one of the wars arrow pages here you know",
    "start": "465120",
    "end": "470879"
  },
  {
    "text": "because it is now exactly a production-ready app but it is running a production environment so we have a white label arrow page right right we",
    "start": "470879",
    "end": "478319"
  },
  {
    "text": "have internal server error 400 and we have a 4 4 as well 400 and 500 in the",
    "start": "478319",
    "end": "483569"
  },
  {
    "text": "same page you probably never seen that before no and we have a now yeah we have an O",
    "start": "483569",
    "end": "488759"
  },
  {
    "text": "here it's the one only one thing that's for sure this is a java application it's",
    "start": "488759",
    "end": "494069"
  },
  {
    "text": "an open to exception yeah we know Java is running behind the scenes yeah but",
    "start": "494069",
    "end": "499770"
  },
  {
    "text": "this is obviously not working in production right but you never you never deploy to the production unless you have",
    "start": "499770",
    "end": "505319"
  },
  {
    "text": "a staging environment that's right yeah we do have a staging you should check actually operating environment all right so so in this case what we have done is",
    "start": "505319",
    "end": "512760"
  },
  {
    "start": "507000",
    "end": "592000"
  },
  {
    "text": "to create namespaces in our cluster so in your kubernetes environment you can create multiple namespaces you should name",
    "start": "512760",
    "end": "519328"
  },
  {
    "text": "space is basically a self-contained environment where you can deploy the same application into different",
    "start": "519329",
    "end": "525209"
  },
  {
    "text": "namespace right so we actually to that point so you use all the configuration file that we had earlier for deployment",
    "start": "525209",
    "end": "531750"
  },
  {
    "text": "and for service and you can basically deploy the entire landscape of your tie top alert topology of your application",
    "start": "531750",
    "end": "539250"
  },
  {
    "text": "to different namespaces you don't have to change anything in your configuration files you just basically declare a new",
    "start": "539250",
    "end": "545160"
  },
  {
    "text": "namespace tech and can go there so we saw here earlier that we have a couple of namespaces running so we have one for",
    "start": "545160",
    "end": "552180"
  },
  {
    "text": "QA we have one for staging we will have our default one we just use our default one for our production so let's have a",
    "start": "552180",
    "end": "558780"
  },
  {
    "text": "look at our staging a namespace and see what is running there so let's get some",
    "start": "558780",
    "end": "565110"
  },
  {
    "text": "pots there make sure it's over there typically what you would do is that",
    "start": "565110",
    "end": "571790"
  },
  {
    "text": "specifically hole we would do is to actually run production in a separate cluster and then you probably bean pack",
    "start": "571790",
    "end": "578580"
  },
  {
    "text": "all of these nonprofit environments into a separate cluster but just for the demo here we have the default that's the",
    "start": "578580",
    "end": "584730"
  },
  {
    "text": "production but typically you have that in a separate cluster for production and then you have dev QA staging staging one",
    "start": "584730",
    "end": "590490"
  },
  {
    "text": "sticking to you whatever in a separate cluster so let's take a look at the the environment here so we have my staging",
    "start": "590490",
    "end": "596520"
  },
  {
    "start": "592000",
    "end": "677000"
  },
  {
    "text": "run running sure yeah alright let's look at the services but also like one more point to this namespaces actually let",
    "start": "596520",
    "end": "603300"
  },
  {
    "text": "you capsule it basically kind of resource constraints it can basically put resource constraints on namespaces",
    "start": "603300",
    "end": "608339"
  },
  {
    "text": "your applications if you just use normal like naming though it's basically kind of scoped DNS that you have with all the",
    "start": "608339",
    "end": "615810"
  },
  {
    "text": "namespaces if you want to talk across namespace you have to use a fully qualified name to talk of course",
    "start": "615810",
    "end": "622410"
  },
  {
    "text": "namespaces now for this application we actually deployed everything including the database into our namespace so we",
    "start": "622410",
    "end": "628950"
  },
  {
    "text": "can just use exactly the same configuration files like config map secrets everything deployment services",
    "start": "628950",
    "end": "634920"
  },
  {
    "text": "and deploy the entire stack to a new namespace and it just works without doing any changes now deploying",
    "start": "634920",
    "end": "641010"
  },
  {
    "text": "databases to kubernetes classes not always the best practices actually and you what you actually want to use is",
    "start": "641010",
    "end": "647190"
  },
  {
    "text": "kind of a managed service which is managed outside and so if you have some changes what you do is actually you put",
    "start": "647190",
    "end": "653610"
  },
  {
    "text": "these changes into your conflict maps and like maybe have different secrets and you deploy different conflict maps",
    "start": "653610",
    "end": "659370"
  },
  {
    "text": "and secrets to your different environments but everything else again you just deploy the same stack so",
    "start": "659370",
    "end": "666540"
  },
  {
    "text": "here we are looking at right now at the services that are deployed in our staging namespace and we also",
    "start": "666540",
    "end": "672370"
  },
  {
    "text": "have a load balancer running there with a public IP so let's have a look at our staging that's wrong yeah so this is our",
    "start": "672370",
    "end": "678250"
  },
  {
    "start": "677000",
    "end": "705000"
  },
  {
    "text": "production environment which in some 104.7 t3 and then we can try to connect",
    "start": "678250",
    "end": "683680"
  },
  {
    "text": "to our separate environment here for staging oh oh that's interesting what that works what somebody also made it",
    "start": "683680",
    "end": "689920"
  },
  {
    "text": "work I don't know who this person is but I'm gonna say hello and hello yeah interesting",
    "start": "689920",
    "end": "695170"
  },
  {
    "text": "yeah and hopefully that works yeah so of course it works again I probably don't",
    "start": "695170",
    "end": "702190"
  },
  {
    "text": "never go into production without staging working right so we're kind of expecting this to work right right so what's",
    "start": "702190",
    "end": "709630"
  },
  {
    "start": "705000",
    "end": "821000"
  },
  {
    "text": "what's the next step you need to find out what we actually have to blow it and staging and prod right right yeah yeah",
    "start": "709630",
    "end": "716290"
  },
  {
    "text": "so like sometimes your production could be running a different version and staging or because you boys something",
    "start": "716290",
    "end": "721600"
  },
  {
    "text": "else in staging but I'm pretty sure I deployed exactly the same thing to staging and I did it with my deployment",
    "start": "721600",
    "end": "727720"
  },
  {
    "text": "file I deploy exactly the same thing so if I scroll down here if you can see the file down here somewhere we have the",
    "start": "727720",
    "end": "733210"
  },
  {
    "text": "name of the image or going to deploy I have this in a artifactory talker",
    "start": "733210",
    "end": "739300"
  },
  {
    "text": "registry here and at the peruca step you know my body Pirozhki he's hosting this",
    "start": "739300",
    "end": "744460"
  },
  {
    "text": "for me so this is under his username and the point is hallelujah I which is the name of the container and I have the",
    "start": "744460",
    "end": "750550"
  },
  {
    "text": "latest high player latest seriously the latest of course yeah USB port the latest with potassium right we're",
    "start": "750550",
    "end": "756580"
  },
  {
    "text": "talking about continuous integration and continuous delivery no yeah the latest practice is not always the best practice",
    "start": "756580",
    "end": "763090"
  },
  {
    "text": "right why why not it's the latest one of course well how do you know that actually the same thing is running",
    "start": "763090",
    "end": "768100"
  },
  {
    "text": "behind the latest tech you're overriding that tech every time you building right and deploying it or publishing it to",
    "start": "768100",
    "end": "774400"
  },
  {
    "text": "your registry so you don't really know if the same thing is running there what do you mean so so what you saying is",
    "start": "774400",
    "end": "779530"
  },
  {
    "text": "like if my stagings latest might be different from production like oh it's just an example right you pull down your",
    "start": "779530",
    "end": "785020"
  },
  {
    "text": "docker image basically I on my machine with the latest tech and you pull it down two days later with latest tech and",
    "start": "785020",
    "end": "790870"
  },
  {
    "text": "somebody might have changed something in between and pushed it to the registry so your image which tag it like points to",
    "start": "790870",
    "end": "797020"
  },
  {
    "text": "latest it's actually different content than the image that is on my machine running with interest you should not use",
    "start": "797020",
    "end": "802960"
  },
  {
    "text": "a the latest tech you should really use tags version which your build system",
    "start": "802960",
    "end": "808290"
  },
  {
    "text": "actually gives to each container image that is created I see so sometimes you should probably use the version of the application or",
    "start": "808290",
    "end": "814770"
  },
  {
    "text": "the bunam burr or me even agate hash where the source code came from and such",
    "start": "814770",
    "end": "820200"
  },
  {
    "text": "and such right right but by rober already deployed it what can we do alright so since we have deployed it",
    "start": "820200",
    "end": "825480"
  },
  {
    "start": "821000",
    "end": "842000"
  },
  {
    "text": "already we need to actually inspect what is what is actually running whatever what container image is actually running",
    "start": "825480",
    "end": "830490"
  },
  {
    "text": "so we have here our pots we see our hello go to your iPod and so let's go into a cube CTL described which actually",
    "start": "830490",
    "end": "837090"
  },
  {
    "text": "shows us some more information are around the environment of this pot that is running yeah so I I just see that",
    "start": "837090",
    "end": "843210"
  },
  {
    "start": "842000",
    "end": "911000"
  },
  {
    "text": "cube CTO described and by doing that I can see a lot of the details about this particular instance and I can see the",
    "start": "843210",
    "end": "849660"
  },
  {
    "text": "environment variable here which I'm using to configure the backend that I want to call because we have this",
    "start": "849660",
    "end": "855510"
  },
  {
    "text": "community service is defined I'm calling just hollow or service and guestbook service these are automatically exposed",
    "start": "855510",
    "end": "860640"
  },
  {
    "text": "to be accompanied service as a load balancer but if I scroll up a little bit I can also see the image which is the",
    "start": "860640",
    "end": "866040"
  },
  {
    "text": "latest and other it is the image ID and I can see the sha-256 and this is the",
    "start": "866040",
    "end": "872220"
  },
  {
    "text": "one that you will uniquely identify this particular image isn't right right so to compare that now we do some human",
    "start": "872220",
    "end": "879150"
  },
  {
    "text": "checksum yeah compared with what we want to compare this with staging reaching right so let's do something you remember",
    "start": "879150",
    "end": "886140"
  },
  {
    "text": "the first five for such a strong I remember the last for way because I",
    "start": "886140",
    "end": "891240"
  },
  {
    "text": "can't remember five and another members everything in between yeah you gotta remember I posted digit",
    "start": "891240",
    "end": "897270"
  },
  {
    "text": "in the position right the feature right because otherwise you say oh there's a wine but you write the first for likes",
    "start": "897270",
    "end": "905520"
  },
  {
    "text": "to for be alright 0 347 you got all right so then we can go into production",
    "start": "905520",
    "end": "911880"
  },
  {
    "start": "911000",
    "end": "987000"
  },
  {
    "text": "some gone to in stage well actually you know what what do I just copy and paste this or I'm gonna copy and paste this right and then let's go and find parts",
    "start": "911880",
    "end": "918750"
  },
  {
    "text": "let's see here a name beauty describe hard oh no let's do the get get in staging oh",
    "start": "918750",
    "end": "926340"
  },
  {
    "text": "yeah yes no you know the put the no I got a copy and paste again sorry alright so I give you a rating your weight",
    "start": "926340",
    "end": "933900"
  },
  {
    "text": "describe power in staging so when you wanna reference to a environment you always want to use the - in so here we do the attachment",
    "start": "933900",
    "end": "941180"
  },
  {
    "text": "staging and everybody still remembers the cha all right I forgot mine already yeah whatever yeah okay I remember zero",
    "start": "941180",
    "end": "950540"
  },
  {
    "text": "three that's much much less remember alright so in the staging environment we have the same environment variables you",
    "start": "950540",
    "end": "955850"
  },
  {
    "text": "remember because they're running in different name places we are referencing to Hollow Earth service but that scope to only that name space so we didn't",
    "start": "955850",
    "end": "962840"
  },
  {
    "text": "really have to change the configuration however if I look at the show ID there we go so I remember zero four zero three",
    "start": "962840",
    "end": "968960"
  },
  {
    "text": "four seven yeah two for peace everyone's good yeah say you remember yours so they're",
    "start": "968960",
    "end": "974660"
  },
  {
    "text": "exactly the same image but it's obviously one words and the other one doesn't right so you know what's actually inside",
    "start": "974660",
    "end": "988970"
  },
  {
    "start": "987000",
    "end": "1160000"
  },
  {
    "text": "maybe there may be a beautiful that the the source code that's not exactly ready",
    "start": "988970",
    "end": "995150"
  },
  {
    "text": "for production or something like that but we can actually go and go back and see so it's very important that you keep",
    "start": "995150",
    "end": "1001480"
  },
  {
    "text": "track of the metadata that was used for the build inside of a container so that or you have some kind of metadata system",
    "start": "1001480",
    "end": "1007900"
  },
  {
    "text": "that tracks what actually went into your container right and there are many many different way of doing it",
    "start": "1007900",
    "end": "1013000"
  },
  {
    "text": "we're using a factory for this particular application so we can actually go back to the auto factory",
    "start": "1013000",
    "end": "1018100"
  },
  {
    "text": "instance and potentially we can see what's going on by searching for the shop now the first thing I need to do of",
    "start": "1018100",
    "end": "1024220"
  },
  {
    "text": "course is login there we go everyone calls your eyes what my password there we go alright and let me",
    "start": "1024220",
    "end": "1031300"
  },
  {
    "text": "login all right cool and then we can probably do a search and if I have to Shaw which I'm going to copy and paste I",
    "start": "1031300",
    "end": "1037390"
  },
  {
    "text": "can go ahead and search for this checks out now again in different registry system like you can probably do the",
    "start": "1037390",
    "end": "1042490"
  },
  {
    "text": "search in a similar way Google Cloud for example we have our container registry and you can probably search with the",
    "start": "1042490",
    "end": "1048370"
  },
  {
    "text": "checksum with the Shaw as well but here very clearly we can see the latest is actually 50 yeah so it could have used",
    "start": "1048370",
    "end": "1054910"
  },
  {
    "text": "it I should have used it in my in my yellow file to use the tag 50 for my",
    "start": "1054910",
    "end": "1060640"
  },
  {
    "text": "image and then we can potentially go in and see the image detail here with that",
    "start": "1060640",
    "end": "1065680"
  },
  {
    "text": "metadata so for example we have the name and all that we have the deploy by by Mark who's Mark you know mark that's",
    "start": "1065680",
    "end": "1073809"
  },
  {
    "text": "interesting what somebody named Mark actually deployed this image into the registry so we know that far either we",
    "start": "1073809",
    "end": "1080139"
  },
  {
    "text": "know who to blame yeah maybe well no it's about blameless culture right that's however we can also go back",
    "start": "1080139",
    "end": "1087580"
  },
  {
    "text": "to see how the beaut actually happens so if you actually are using Jenkins or",
    "start": "1087580",
    "end": "1092980"
  },
  {
    "text": "something else we can potentially link back it's important to keep track of that metadata as well so we can link",
    "start": "1092980",
    "end": "1098470"
  },
  {
    "text": "back to the instance I actually created this particular beaut however I think my",
    "start": "1098470",
    "end": "1103749"
  },
  {
    "text": "Jenkins server is down they're always down for some reason how many people here have sometimes you",
    "start": "1103749",
    "end": "1110049"
  },
  {
    "text": "did a beauty in the Jenkins servers run away and you can't go back to the build anymore luckily for us we are able to see some",
    "start": "1110049",
    "end": "1116289"
  },
  {
    "text": "more me that they're not here so for example we have a lot of the major that are kept intact so we know for example",
    "start": "1116289",
    "end": "1121360"
  },
  {
    "text": "which java application use java instance do we use to view this application but",
    "start": "1121360",
    "end": "1126429"
  },
  {
    "text": "more importantly we also have the metadata of which jar files are associated with this particular butte so",
    "start": "1126429",
    "end": "1132369"
  },
  {
    "text": "for example here we have the UI so we got your application and we know the version which is zero point zero point",
    "start": "1132369",
    "end": "1137980"
  },
  {
    "text": "one snapshot yeah yeah of course we use the latest image tag and we always the",
    "start": "1137980",
    "end": "1144220"
  },
  {
    "text": "point the snapshot no now you should never do that yourself enter pattern that I'm showing here don't do this right alright so at this",
    "start": "1144220",
    "end": "1152740"
  },
  {
    "text": "point I think we pretty much figure out what it is are we deployed what's inside the continuing image and we're pretty",
    "start": "1152740",
    "end": "1158830"
  },
  {
    "text": "sure that they are exactly the same image between staging and production all right but but we are still having this",
    "start": "1158830",
    "end": "1165669"
  },
  {
    "start": "1160000",
    "end": "1392000"
  },
  {
    "text": "issue in production environment when are staging so what do you want to do is actually right now you would probably go",
    "start": "1165669",
    "end": "1172299"
  },
  {
    "text": "and look at the logs of your containers right so in a traditional system whatever you do you would log into a",
    "start": "1172299",
    "end": "1178539"
  },
  {
    "text": "machine SSH into a machine pull down a file maybe from multiple instances if you have multiple instance running you",
    "start": "1178539",
    "end": "1184869"
  },
  {
    "text": "have to unpack this file you have to somehow bring them in a format that you can search them I mean you can imagine",
    "start": "1184869",
    "end": "1190539"
  },
  {
    "text": "how long that takes and how tedious that is to actually get some information out through your logs yeah I used to I used",
    "start": "1190539",
    "end": "1196179"
  },
  {
    "text": "to write proscribes and use a lot of the great share comments to figure out what lock lines I'm okay right but since we",
    "start": "1196179",
    "end": "1203409"
  },
  {
    "text": "are running this application on kubernetes we can actually use some kubernetes tools to look in our flocks so we can do a cube",
    "start": "1203409",
    "end": "1209680"
  },
  {
    "text": "CDL no get parts to the parts and then",
    "start": "1209680",
    "end": "1214870"
  },
  {
    "text": "we do a cube CTL locks and we can use the dash F for basically streaming the",
    "start": "1214870",
    "end": "1220270"
  },
  {
    "text": "logs to our shell now wait a second Robert I have two instances here that I didn't look at what are the arts for me",
    "start": "1220270",
    "end": "1227170"
  },
  {
    "text": "to find this error message in one of these instances well I would say it's 5050 right yeah Wayne - okay that's",
    "start": "1227170",
    "end": "1233890"
  },
  {
    "text": "pretty good but in a micro service environment because this is a absolutely popular application we may have more",
    "start": "1233890",
    "end": "1240340"
  },
  {
    "text": "than one or more than two instances right now what if I scale this because sometimes you have automatic scaling",
    "start": "1240340",
    "end": "1245470"
  },
  {
    "text": "sometimes I'm one in two instances of course I've got two instances now if I do a cube CTO get pod again let me see",
    "start": "1245470",
    "end": "1253690"
  },
  {
    "text": "here pause now I should have teams this assembly running now Robert what are the odds for me to be able to find my log my",
    "start": "1253690",
    "end": "1260380"
  },
  {
    "text": "arrow here in one of the things this is easy yeah that's some tough math here Wayne ten right also 5050 5050 how well",
    "start": "1260380",
    "end": "1269830"
  },
  {
    "text": "you either find it or you don't that's fair point that's fair point so I",
    "start": "1269830",
    "end": "1275290"
  },
  {
    "text": "guess that's how public believes he works right I'm not very good with math unfortunately so I'll take your word for it so let me go ahead and see the logs",
    "start": "1275290",
    "end": "1282460"
  },
  {
    "text": "here and with one of these things Oh Oh take a look at that I'm very lucky today",
    "start": "1282460",
    "end": "1287590"
  },
  {
    "text": "yeah yeah yeah very very lucky I should go buy some lottery all right here we go so I can see the log in detail",
    "start": "1287590",
    "end": "1292960"
  },
  {
    "text": "but but if I want to see all the logs it's happening on all of the instances I don't want to go through these one by",
    "start": "1292960",
    "end": "1298630"
  },
  {
    "text": "one right cuz I got Tim Potts here if I need to stream from every single one of them I will have ten different consoles",
    "start": "1298630",
    "end": "1304270"
  },
  {
    "text": "opened right so you don't want to go through every one and look for your errors right so you basically actually wanna stream logs from all your pots",
    "start": "1304270",
    "end": "1311380"
  },
  {
    "text": "that are running to your to your console so there are some tools are out there that we can use for that they are all",
    "start": "1311380",
    "end": "1316540"
  },
  {
    "text": "consoles as well so Stern is one of them or a cube tail you can use and you basically define the deployment that is",
    "start": "1316540",
    "end": "1323560"
  },
  {
    "text": "running and say like give me all the logs for that for the parts that are running for a certain deployment so here",
    "start": "1323560",
    "end": "1328780"
  },
  {
    "text": "we use the hello world deployment and we use turn and now it streams basically all the logs from all of our parts for",
    "start": "1328780",
    "end": "1336610"
  },
  {
    "text": "that deployment to our starter out yep however in a production environment this may not be",
    "start": "1336610",
    "end": "1342900"
  },
  {
    "text": "so useful why because you know you unless you don't have any users this is",
    "start": "1342900",
    "end": "1348300"
  },
  {
    "text": "what you're going to see you're going to see these letters just falling down the screen as fast as they can like like matrix right so this is not",
    "start": "1348300",
    "end": "1355230"
  },
  {
    "text": "particularly useful if you are actually having a lot of issues in your production environment you're gonna see these arrows everywhere right until you",
    "start": "1355230",
    "end": "1361860"
  },
  {
    "text": "catch the error that you actually want to investigate it properly is called out of buffer of your shell yeah yeah that's",
    "start": "1361860",
    "end": "1367530"
  },
  {
    "text": "why you'll be doing the whole time all right so that's not very useful all right so we actually want to aggregate this log",
    "start": "1367530",
    "end": "1372840"
  },
  {
    "text": "somewhere so we want to actually aggregate into some kind of log aggregator system so in the open source",
    "start": "1372840",
    "end": "1379260"
  },
  {
    "text": "world what you could use is like elasticsearch log stash and Gabanna for instance and aggregate all your logs",
    "start": "1379260",
    "end": "1384990"
  },
  {
    "text": "that are running on your containers on your nodes into a centralized logging so",
    "start": "1384990",
    "end": "1391340"
  },
  {
    "text": "I was going to say one of the most important thing here is that in the container world especially if you deploy",
    "start": "1391340",
    "end": "1398130"
  },
  {
    "start": "1392000",
    "end": "1457000"
  },
  {
    "text": "in kubernetes just try not to write the logs to a file try to output it to STD",
    "start": "1398130",
    "end": "1403650"
  },
  {
    "text": "out or STD arrow and log the logging agents in your centralized in your",
    "start": "1403650",
    "end": "1408840"
  },
  {
    "text": "kubernetes cluster will be able to pick them up and then ship it to the centralized logger for further analysis",
    "start": "1408840",
    "end": "1414030"
  },
  {
    "text": "right so since we are running on gke on Google code vanitas engine each of the nodes has a fluent e installed and an",
    "start": "1414030",
    "end": "1421230"
  },
  {
    "text": "agent install which basically collects all the logs form your pots and puts them into our centralized logging which",
    "start": "1421230",
    "end": "1427470"
  },
  {
    "text": "is stackdriver so we can basically go to logging locks and then we can select gke containers we",
    "start": "1427470",
    "end": "1434100"
  },
  {
    "text": "select the cluster that's running on demo 2 here and then it will list the namespaces if the Wi-Fi is happy with us",
    "start": "1434100",
    "end": "1441750"
  },
  {
    "text": "or we can do that we can search for the namespace and now it basically streams all our logs into this window and you",
    "start": "1441750",
    "end": "1447960"
  },
  {
    "text": "can look for hours ok let's yeah I said let's select also the the hello world yeah so we can drill",
    "start": "1447960",
    "end": "1454290"
  },
  {
    "text": "down into the specific container we want to look at and here we have all the exceptions of course you know in any of",
    "start": "1454290",
    "end": "1460590"
  },
  {
    "start": "1457000",
    "end": "1709000"
  },
  {
    "text": "the centralized loggers that you use will probably allow you to do this and also the search as well so we can search",
    "start": "1460590",
    "end": "1465840"
  },
  {
    "text": "for exceptions I can click into it we can see where the 404 came from the puppy the 500 arrow if I scroll down a little",
    "start": "1465840",
    "end": "1472760"
  },
  {
    "text": "bit I should be able to see in you know potentially where this is happening and here we can see rest in place so maybe",
    "start": "1472760",
    "end": "1479000"
  },
  {
    "text": "maybe it was happening when I'm making a call somewhere however one of the things I like to do in my previous jobs when I",
    "start": "1479000",
    "end": "1486500"
  },
  {
    "text": "had to you know to production and troubleshooting I could call up at 2:00 a.m. in the morning right 20 in the",
    "start": "1486500",
    "end": "1491870"
  },
  {
    "text": "morning and nothing's working or something's not working and one of the first thing I like to do is to figure",
    "start": "1491870",
    "end": "1498530"
  },
  {
    "text": "out how big this blast radius is is it happening is this error happening on all of the machines right because if it is",
    "start": "1498530",
    "end": "1505250"
  },
  {
    "text": "saying I know I'm gonna stay up all day or all night until everything's fixed or maybe it's just happening on one of the",
    "start": "1505250",
    "end": "1511190"
  },
  {
    "text": "machines and then you just stop it and you just stop it right if it's happening on one of the machines maybe you can just stop it you",
    "start": "1511190",
    "end": "1516230"
  },
  {
    "text": "can just reroute the traffic away from that machine and they just be happy with that right and then troubleshoot that later",
    "start": "1516230",
    "end": "1522020"
  },
  {
    "text": "so one of the things that you should be able to do is to extract more information from the log and when I say",
    "start": "1522020",
    "end": "1527600"
  },
  {
    "text": "I use a lot of pro and grape that's because I wanted to not only download all of these log files I also want to do",
    "start": "1527600",
    "end": "1533330"
  },
  {
    "text": "some kind of analysis maybe in Hadoop in with pig scripts or something like that to figure out more one of the things",
    "start": "1533330",
    "end": "1539360"
  },
  {
    "text": "that we could in here then is to export this log to different sinks potentially right so for example you can potentially",
    "start": "1539360",
    "end": "1545270"
  },
  {
    "text": "forward this to a messaging system like pops up so that you can do almost near real-time analysis of every log entry",
    "start": "1545270",
    "end": "1551360"
  },
  {
    "text": "that you're interested in or my favorite one is actually forwarding it to big Ferrari where I can actually use sequel",
    "start": "1551360",
    "end": "1557270"
  },
  {
    "text": "queries to create our logs now picker is a system that we also use internally",
    "start": "1557270",
    "end": "1562280"
  },
  {
    "text": "called Dremel where Google uses Dremel to query a large and large amount of text structural text including logs as",
    "start": "1562280",
    "end": "1569420"
  },
  {
    "text": "well I personally had to use a dremel internally to quarry logs to troubleshoot issues in the past but now",
    "start": "1569420",
    "end": "1575660"
  },
  {
    "text": "we can use bigquery to do that so let me go ahead and open up the quarry console here because I have already string all",
    "start": "1575660",
    "end": "1581810"
  },
  {
    "text": "the logs to this particular system again you can probably do that in a open source system as well if you have spark",
    "start": "1581810",
    "end": "1588020"
  },
  {
    "text": "and stuff like that so one of the things that we have is on the left hand side we can see all the different log so we can",
    "start": "1588020",
    "end": "1593270"
  },
  {
    "text": "actually query and one of the things is actually holloway UI so this is the container that we're interested in and",
    "start": "1593270",
    "end": "1598490"
  },
  {
    "text": "then we can see all the different columns we can use the corium and again we can just write sequel query to",
    "start": "1598490",
    "end": "1604410"
  },
  {
    "text": "girl in stripe more information what I'm going to do is to open up a save query that I have down for this particular",
    "start": "1604410",
    "end": "1611100"
  },
  {
    "text": "application I'm going to open this up in the career editor and our this so here",
    "start": "1611100",
    "end": "1616320"
  },
  {
    "text": "can actually what we are doing is we want to do some aggregation you want to see if actually one container is failing in our system or if it spread through",
    "start": "1616320",
    "end": "1623820"
  },
  {
    "text": "all our containers that are running right so what are we doing here is we just basically go in our hello world",
    "start": "1623820",
    "end": "1629610"
  },
  {
    "text": "your I a table they are like separated by day so you see like for each day we",
    "start": "1629610",
    "end": "1634680"
  },
  {
    "text": "have one of those so we pick the one from the day we do filter on the resource type container and the hello",
    "start": "1634680",
    "end": "1641700"
  },
  {
    "text": "world UI for the container name and we also look only for the exceptions because you only want to prove aggregate",
    "start": "1641700",
    "end": "1647190"
  },
  {
    "text": "all the exceptions so they regroup by the name of the container and then order by the occurrences so that we have a",
    "start": "1647190",
    "end": "1652740"
  },
  {
    "text": "nice view on like who is the one that has a lot so let's run this query just one note really quick bigquery is",
    "start": "1652740",
    "end": "1659760"
  },
  {
    "text": "basically you don't have to set up an instance or anything you can just put your all your data in there and you pay",
    "start": "1659760",
    "end": "1666030"
  },
  {
    "text": "per use there are also some flat rates if you need a flat rate but basically this system is just scaling beyond belief at",
    "start": "1666030",
    "end": "1673410"
  },
  {
    "text": "least for my mind yeah and you don't need to pre provision any resources yeah so for example right now we have we only",
    "start": "1673410",
    "end": "1679440"
  },
  {
    "text": "have 2.71 megabytes however we can do the similar query on hundreds of",
    "start": "1679440",
    "end": "1685020"
  },
  {
    "text": "gigabytes or terabytes and that would still come back in seconds that's a really really nice and easy way to get",
    "start": "1685020",
    "end": "1690420"
  },
  {
    "text": "extract information from a large amount of log files for example but hey Robert",
    "start": "1690420",
    "end": "1695820"
  },
  {
    "text": "look we have we have one instance that's particularly having some trouble here yeah you know the other ones are like",
    "start": "1695820",
    "end": "1702690"
  },
  {
    "text": "yeah yeah itself is like normal for Java right we will have to look at those",
    "start": "1702690",
    "end": "1708720"
  },
  {
    "text": "later but yeah but there's one that's having just one issue right let's just stop it what I mean just let's just",
    "start": "1708720",
    "end": "1715500"
  },
  {
    "start": "1709000",
    "end": "1762000"
  },
  {
    "text": "restart it restart it so we can yes so incriminating is what you can do is we can of course do the delete pod and then",
    "start": "1715500",
    "end": "1722070"
  },
  {
    "text": "what happens in this will shut down this particular container and restoring the no-one but Robert know that that's not",
    "start": "1722070",
    "end": "1727080"
  },
  {
    "text": "very good because if I delete 8nh restarts another instance and over something everything is working again",
    "start": "1727080",
    "end": "1732420"
  },
  {
    "text": "which is fine but what if it happens again next week right we just restarted and then we automate the [ __ ] of it right so he",
    "start": "1732420",
    "end": "1739399"
  },
  {
    "text": "basically just great write their own job and write a cron job yeah and just restarted right who hasn't",
    "start": "1739399",
    "end": "1745339"
  },
  {
    "text": "restarted Java Runtime on like weekly basis you can conjure up anyone there's",
    "start": "1745339",
    "end": "1753259"
  },
  {
    "text": "always somebody in the room it's ok so you know before my service runs out of memory like around the week mark so you",
    "start": "1753259",
    "end": "1759919"
  },
  {
    "text": "restarted after five days now in you could for the record there's a cron job functionality increment at ease that you",
    "start": "1759919",
    "end": "1766309"
  },
  {
    "start": "1762000",
    "end": "1827000"
  },
  {
    "text": "can actually crunch up some of these things however you should never a cron job the removal of your application on",
    "start": "1766309",
    "end": "1772580"
  },
  {
    "text": "weekly basis just because it doesn't work every week alright this for the record I told you that however however you know we don't",
    "start": "1772580",
    "end": "1780080"
  },
  {
    "text": "want to just delete it because then it becomes very hard to troubleshoot what is happening and also if it does happen",
    "start": "1780080",
    "end": "1787190"
  },
  {
    "text": "again we wouldn't know why right so actually I see your point like if you if you want",
    "start": "1787190",
    "end": "1792979"
  },
  {
    "text": "to investigate if there's anything in this container you actually want to take it out of service and then investigate",
    "start": "1792979",
    "end": "1799309"
  },
  {
    "text": "so that you don't stop it and just destroy all the evidence right but you don't also don't want to have it keeping serving traffic so the",
    "start": "1799309",
    "end": "1806179"
  },
  {
    "text": "arm of your customers have a bad experience so what we actually can do is we can take it out of the thering pass",
    "start": "1806179",
    "end": "1811549"
  },
  {
    "text": "in kubernetes and the way that we are doing this is actually with labels so we saw earlier",
    "start": "1811549",
    "end": "1817759"
  },
  {
    "text": "that we have these labels attached to our deployments and to the containers and we have also in our service yeah",
    "start": "1817759",
    "end": "1825889"
  },
  {
    "text": "let's show it like a deployment let's look at this so let's assume that we have let's assume this is the corporate",
    "start": "1825889",
    "end": "1832099"
  },
  {
    "text": "and we really suspect that this is the issue then we can we need to take a look",
    "start": "1832099",
    "end": "1837379"
  },
  {
    "text": "at what's happening inside well first of all I remember I show you the labels earlier now I do have a special label",
    "start": "1837379",
    "end": "1842989"
  },
  {
    "text": "here a code serving this is the label that I admit I made up myself right so in the low balancer here we have also",
    "start": "1842989",
    "end": "1850489"
  },
  {
    "text": "the selector that will only route traffic to the ones that has the label of serving is equal to true and",
    "start": "1850489",
    "end": "1856609"
  },
  {
    "text": "currently if we take a look at the parts we can also show the serving label here",
    "start": "1856609",
    "end": "1862070"
  },
  {
    "text": "and we can we should be able to see that all of the paws has the serving label such true yeah there we go",
    "start": "1862070",
    "end": "1867320"
  },
  {
    "text": "so if i zoom out a little bit and we can see that we have the hollower UI in the serving is set",
    "start": "1867320",
    "end": "1872840"
  },
  {
    "text": "true and the one that has issues right here and what we can do is of course we can potentially override the label so",
    "start": "1872840",
    "end": "1878720"
  },
  {
    "text": "I'm going to miss the part right W 64 LC yeah and we can set this to serving flag",
    "start": "1878720",
    "end": "1884240"
  },
  {
    "text": "to false for example and that will effectively take it out of service now if I go back to the pots again if I see",
    "start": "1884240",
    "end": "1890720"
  },
  {
    "text": "all of the running instances this is what happened we can clearly see that this serving is set to true false so",
    "start": "1890720",
    "end": "1898340"
  },
  {
    "text": "that no longer the traffic is being robbery there and we see also that there's one that is actually just",
    "start": "1898340",
    "end": "1904280"
  },
  {
    "text": "started new 311 now and the thing is like not only the server like the our service PC he was pattern matching on on",
    "start": "1904280",
    "end": "1911330"
  },
  {
    "text": "the serving true but also our deployment was on looking for that label serving true so now the deployment since if we",
    "start": "1911330",
    "end": "1917690"
  },
  {
    "text": "took it out we took it also out of the deployment and in kubernetes you described the state you basically say",
    "start": "1917690",
    "end": "1923210"
  },
  {
    "text": "like what you want to have so the deployment describes that we want to have ten parts of our hello world UI so",
    "start": "1923210",
    "end": "1928340"
  },
  {
    "text": "thence we took one out the deploy and basically hey alright I need to restart a new store in part so we just start a",
    "start": "1928340",
    "end": "1934850"
  },
  {
    "text": "new one and now we have ten ten serving again and the one that we have just isolated and took out and now we can go",
    "start": "1934850",
    "end": "1940880"
  },
  {
    "start": "1939000",
    "end": "2018000"
  },
  {
    "text": "ahead and investigate if this is in exactly the issue so there are a couple of things one you can do once you take",
    "start": "1940880",
    "end": "1946400"
  },
  {
    "text": "it off service if you don't want to impact production traffic in docker containers what you can do is by doing",
    "start": "1946400",
    "end": "1951680"
  },
  {
    "text": "something like darker exact and then you can get into the container and can troubleshoot a few things there but this",
    "start": "1951680",
    "end": "1957080"
  },
  {
    "text": "requires you to SSH into the machines right incriminate ease all you need to do is to do cube city or exact TI for",
    "start": "1957080",
    "end": "1963590"
  },
  {
    "text": "the terminal interaction and then the name of the pot and then the shell if you have it in the container then this",
    "start": "1963590",
    "end": "1969920"
  },
  {
    "text": "will drop me in directly into the shell of this particular container instance and I can do all the the basic",
    "start": "1969920",
    "end": "1976340"
  },
  {
    "text": "troubleshooting I can do once I'm in there so we can clearly see that it's running on plate one and then we can do",
    "start": "1976340",
    "end": "1982490"
  },
  {
    "text": "is a kill three that actually forces the threat down for example we can do that",
    "start": "1982490",
    "end": "1987710"
  },
  {
    "text": "you can run J stat if you want to against this particular plate as well so there are a lot of things you can do",
    "start": "1987710",
    "end": "1993350"
  },
  {
    "text": "once you're inside of the container yeah just one word of caution I went to",
    "start": "1993350",
    "end": "1998600"
  },
  {
    "text": "a company and I showed all these things with cube X's and then somebody walked up to me it's like I don't I didn't really like that you",
    "start": "1998600",
    "end": "2005120"
  },
  {
    "text": "showed this like now all our engineers go into production it's like in through the parts do some",
    "start": "2005120",
    "end": "2010700"
  },
  {
    "text": "changes that something right so don't do this right only use it for the packing purposes don't do it to configure your",
    "start": "2010700",
    "end": "2017149"
  },
  {
    "text": "parts in production and you can also restrict the access to this based on our back in kubernetes so for example you",
    "start": "2017149",
    "end": "2023840"
  },
  {
    "start": "2018000",
    "end": "2115000"
  },
  {
    "text": "can restrict certain people having to such an access in other people's built right all right and the other thing of",
    "start": "2023840",
    "end": "2029960"
  },
  {
    "text": "course is that maybe you want to attach a real debugger of some sort that you need to attach the attach it to the port",
    "start": "2029960",
    "end": "2036019"
  },
  {
    "text": "that's running in this particular instance or maybe you just want to test this particular instance out to see and",
    "start": "2036019",
    "end": "2041539"
  },
  {
    "text": "validate where our assumption so for example what we can do is to establish your port forward right so we can",
    "start": "2041539",
    "end": "2047450"
  },
  {
    "text": "establish port forwarding here directly into that particular instance I'm going to bind to my local port 8080 so I'm",
    "start": "2047450",
    "end": "2053599"
  },
  {
    "text": "gonna listen on my port 8080 on my laptop and going to forward my traffic into this particular instance running on",
    "start": "2053599",
    "end": "2059540"
  },
  {
    "text": "a machine on port 8080 as well you can use the similar technique to bind to other ports like gmx or a debugger port",
    "start": "2059540",
    "end": "2066349"
  },
  {
    "text": "if you want to and now the port is bound and I can go there for the first time and see if this instance is actually the",
    "start": "2066349",
    "end": "2072560"
  },
  {
    "text": "issue oh it works yeah and for some reason this person is here again all right interesting so it",
    "start": "2072560",
    "end": "2079790"
  },
  {
    "text": "works for some people and it doesn't work for me huh well it actually works so this thing since it's fine right like",
    "start": "2079790",
    "end": "2088190"
  },
  {
    "text": "this instance is fine you can just put it back yeah but if I put it back it's going to again happy living instances",
    "start": "2088190",
    "end": "2094040"
  },
  {
    "text": "right let me see what happens here so if I say serving and their day so we got",
    "start": "2094040",
    "end": "2099290"
  },
  {
    "text": "this for it-- here right and we can put it back if you want to or we can kill it",
    "start": "2099290",
    "end": "2104300"
  },
  {
    "text": "but let's let's put the back so I'm going to sitt instance to true it's fine it hasn't reached this like Java Runtime",
    "start": "2104300",
    "end": "2111290"
  },
  {
    "text": "lifetime right so yeah it's pretty big okay yeah there we go okay so we can also clearly see that",
    "start": "2111290",
    "end": "2117050"
  },
  {
    "start": "2115000",
    "end": "2207000"
  },
  {
    "text": "because we declare that we want to take instances once we put it back we have 11 kubernetes has to scale this down back",
    "start": "2117050",
    "end": "2124160"
  },
  {
    "text": "to 10 and has to make some decisions there are some heuristic here in terms of how communities decide on which one",
    "start": "2124160",
    "end": "2131119"
  },
  {
    "text": "to get rid of so every time you scaled down there are some heuristics so for example it's going to try to keep",
    "start": "2131119",
    "end": "2137150"
  },
  {
    "text": "the most healthy ones that that's running for the longest time around for the longest time it's going to try to",
    "start": "2137150",
    "end": "2142760"
  },
  {
    "text": "remove the instances as an unhealthy and/or has the shortest run time right so basically the one that has the",
    "start": "2142760",
    "end": "2148520"
  },
  {
    "text": "longest run time is probably the most stable and probably the serving some of the most traffic as well so we actually",
    "start": "2148520",
    "end": "2154730"
  },
  {
    "text": "effectively removed one of the instances so that's nice but but Robert my application is still now working all",
    "start": "2154730",
    "end": "2160339"
  },
  {
    "text": "right we saw the logs we have some theories about what happens I think we have to go",
    "start": "2160339",
    "end": "2167089"
  },
  {
    "text": "back and we have to actually understand what what is actually going on right we had this beautiful visualization here",
    "start": "2167089",
    "end": "2173359"
  },
  {
    "text": "which probably we didn't design because it looks somewhat beautiful and yeah yeah so we see here we have our parts we",
    "start": "2173359",
    "end": "2182299"
  },
  {
    "text": "have our nodes it's not actually a real representation like you made a video right no no no no no no this is not",
    "start": "2182299",
    "end": "2189020"
  },
  {
    "text": "Visio this this is HTML with JavaScript right however you're right you I mean I",
    "start": "2189020",
    "end": "2195170"
  },
  {
    "text": "see that we had earlier two pods running for the hello world UI we have now attend so that's clearly dynamic but Rd",
    "start": "2195170",
    "end": "2200630"
  },
  {
    "text": "lines also dynamic ooh you got me because it is a complicated microservices environment potentially",
    "start": "2200630",
    "end": "2206660"
  },
  {
    "text": "you really need to understand the topology of how your services are calling each other now this diagram",
    "start": "2206660",
    "end": "2213430"
  },
  {
    "start": "2207000",
    "end": "2351000"
  },
  {
    "text": "unfortunately is not reflecting the exact current state the reason is that",
    "start": "2213430",
    "end": "2218690"
  },
  {
    "text": "Robert cottony these lines are actually hard-coded in my deployment so these",
    "start": "2218690",
    "end": "2224569"
  },
  {
    "text": "lines are actually just annotations that I put here in my deployment so I'm saying physically here that my hollow",
    "start": "2224569",
    "end": "2231799"
  },
  {
    "text": "our UI is talking to your Hollow war service it's called in to help guestbook service and so on and so forth so effectively this is really closer to",
    "start": "2231799",
    "end": "2239059"
  },
  {
    "text": "documentation right in value and documentation you know what it would what it is with documentation right it",
    "start": "2239059",
    "end": "2245329"
  },
  {
    "text": "is basically outdated by the time you write it who had the situation where you were going down like trying to debug",
    "start": "2245329",
    "end": "2251059"
  },
  {
    "text": "something using documentation until somebody tapped on your shoulder and say like this is not how it works anymore",
    "start": "2251059",
    "end": "2256549"
  },
  {
    "text": "this this documentation is stale yeah all right all right everybody right and",
    "start": "2256549",
    "end": "2262369"
  },
  {
    "text": "that's too bad so we need some more like real time like insights into what is actually happening right and there are",
    "start": "2262369",
    "end": "2268819"
  },
  {
    "text": "different tools that you can use to real-time insight on how your services are communicating with each other for",
    "start": "2268819",
    "end": "2275470"
  },
  {
    "text": "example in vanilla cluster or you can deploy something called the week scope for example and with weave this will",
    "start": "2275470",
    "end": "2281620"
  },
  {
    "text": "actually introspect their life network connections between your services right so for example I can establish a pull",
    "start": "2281620",
    "end": "2287650"
  },
  {
    "text": "for it into my weave scope application and here I can clearly see some of the live traffic that's going through so we",
    "start": "2287650",
    "end": "2294340"
  },
  {
    "text": "can clearly see hello our UI is talking to Zipkin hallelujah is talking to Redis and if I were to actually make a call so",
    "start": "2294340",
    "end": "2300880"
  },
  {
    "text": "for example let me take this here and let me just get weave on the other side right like here maybe in then I can",
    "start": "2300880",
    "end": "2307180"
  },
  {
    "text": "notice the nice UI so if I do a refresh right some network connection might",
    "start": "2307180",
    "end": "2312220"
  },
  {
    "text": "happen and we if it happens we should be able to see it with like other they still you see the line that just popped",
    "start": "2312220",
    "end": "2317440"
  },
  {
    "text": "up we can see the live network connections I just went through but this is really nice to kind of figure out is",
    "start": "2317440",
    "end": "2322870"
  },
  {
    "text": "my network connection actually going through but that's not usually you know what's causing the issue like in this",
    "start": "2322870",
    "end": "2328600"
  },
  {
    "text": "case we know the network connections are all happening but I'm still getting a issue in my application level right so",
    "start": "2328600",
    "end": "2335650"
  },
  {
    "text": "this is just on the network level you don't actually have like the context of like which request created which network",
    "start": "2335650",
    "end": "2342730"
  },
  {
    "text": "connection here just what is happening in your cluster you need some more like higher-level",
    "start": "2342730",
    "end": "2347850"
  },
  {
    "text": "insights into what is actually happening yeah and so to do that we might need to",
    "start": "2347850",
    "end": "2353890"
  },
  {
    "start": "2351000",
    "end": "2496000"
  },
  {
    "text": "do some more application level tracing and that is what we call digital tracing",
    "start": "2353890",
    "end": "2359050"
  },
  {
    "text": "in fact 119 years ago when I had a large",
    "start": "2359050",
    "end": "2364080"
  },
  {
    "text": "service-oriented architecture implementation at a consulting company for utilities company one of the first",
    "start": "2364080",
    "end": "2369580"
  },
  {
    "text": "thing that my manager told me to do was to make sure that I have a request ID that's being propagated downstream for",
    "start": "2369580",
    "end": "2376870"
  },
  {
    "text": "every request and I make to another service and then when we are printing the logs we always try to print out the",
    "start": "2376870",
    "end": "2382510"
  },
  {
    "text": "log with a request ID that we receive and we will propagate the same request ID via the header downstream and that",
    "start": "2382510",
    "end": "2388810"
  },
  {
    "text": "was more than ten years ago and you know this practice is now formalized as to distribute the tracing and we can use",
    "start": "2388810",
    "end": "2394360"
  },
  {
    "text": "exactly the same technique with some kind of tooling so for example if you're writing java application you can use",
    "start": "2394360",
    "end": "2400510"
  },
  {
    "text": "something like brave and you can propagate the traces to just two zip c'n if you using spring and spring",
    "start": "2400510",
    "end": "2406390"
  },
  {
    "text": "bootie can use spring cloud sleuth and that will automatically generate the trace ID and propagate it for you if you're in a crib analysis platform and",
    "start": "2406390",
    "end": "2412900"
  },
  {
    "text": "maybe you want to use something like East EO then we can the e steel platform can generate these traces for you and",
    "start": "2412900",
    "end": "2418660"
  },
  {
    "text": "propagate it for you as well okay so so we actually have the application using",
    "start": "2418660",
    "end": "2424689"
  },
  {
    "text": "trace right now so I guess we can go and take a look yeah all right so where do we go we have",
    "start": "2424689",
    "end": "2431410"
  },
  {
    "text": "let's do the slash stackdriver tracing yeah there we go wait what trace",
    "start": "2431410",
    "end": "2436979"
  },
  {
    "text": "so typically you you know you open source world you can propagate the trace to Zipkin or Jaeger where you have a",
    "start": "2436979",
    "end": "2443289"
  },
  {
    "text": "nice UI to take a look at it but you also have to be able to you know ingest all the traces as much as possible as",
    "start": "2443289",
    "end": "2449410"
  },
  {
    "text": "quickly as possible or you can use a managed service in this particular case that we will actually store the traces",
    "start": "2449410",
    "end": "2455049"
  },
  {
    "text": "for you Robert help me out here I got so many traces here I don't know what to look at all right I guess we should",
    "start": "2455049",
    "end": "2460900"
  },
  {
    "text": "filter down a little bit yeah so we can filter down by the HTTP a status here so",
    "start": "2460900",
    "end": "2466180"
  },
  {
    "text": "we had some 500 errors that we saw down on that and we have some traces there that we can check and we see actually",
    "start": "2466180",
    "end": "2473380"
  },
  {
    "text": "the timeline so this is basically showing us through all the calls between our micro services how long they were",
    "start": "2473380",
    "end": "2479109"
  },
  {
    "text": "like what was called like basically a waterfall model of this and just to make",
    "start": "2479109",
    "end": "2484599"
  },
  {
    "text": "another point to like the data amount that you actually put into tracing you can control this with basically saying",
    "start": "2484599",
    "end": "2490689"
  },
  {
    "text": "like I want to have only one thousands of my requests being put into tracing so",
    "start": "2490689",
    "end": "2495939"
  },
  {
    "text": "yeah so here we can clearly see this is five hundred and if I go down I can see",
    "start": "2495939",
    "end": "2501069"
  },
  {
    "start": "2496000",
    "end": "2608000"
  },
  {
    "text": "that this we made a call to the Hollow Earth service and then here is the four four so that explains what the floor for",
    "start": "2501069",
    "end": "2507609"
  },
  {
    "text": "came from so we know that somewhere along this call this thing definitely failed and that's what's causing our",
    "start": "2507609",
    "end": "2515589"
  },
  {
    "text": "application to fail right but we don't know exactly why this is happening still",
    "start": "2515589",
    "end": "2521019"
  },
  {
    "text": "right more we need to reget we need to get deeper we need to get up deeper here",
    "start": "2521019",
    "end": "2526959"
  },
  {
    "text": "so we know like words happening which service is failing so now what what",
    "start": "2526959",
    "end": "2531969"
  },
  {
    "text": "would you do in a normal life what you would do is you would add some logging right add more and",
    "start": "2531969",
    "end": "2537240"
  },
  {
    "text": "Moloch's ed Moloch's who's in the in the camp of print line debugging system out",
    "start": "2537240",
    "end": "2543450"
  },
  {
    "text": "bring my system out print line no really you're all sophisticated all right so but like we do they do a logger Italian",
    "start": "2543450",
    "end": "2551340"
  },
  {
    "text": "for debugging but yeah it's like what how would you do that normally right so",
    "start": "2551340",
    "end": "2556830"
  },
  {
    "text": "you have to know like okay what is running which version is basically running you need to pull down the code for the revision that is running in your",
    "start": "2556830",
    "end": "2563310"
  },
  {
    "text": "in your cluster then you need to add some debugging statements and then you go through your deployment high pipeline",
    "start": "2563310",
    "end": "2569880"
  },
  {
    "text": "and deploy it to production like a hotfix so who here in the room can actually deploy let's say within an hour",
    "start": "2569880",
    "end": "2576060"
  },
  {
    "text": "to production I think that's the most that we have seen I think so",
    "start": "2576060",
    "end": "2582120"
  },
  {
    "text": "okay because they're using kubernetes right right exactly who is in the camp of one day okay we're gonna camp off",
    "start": "2582120",
    "end": "2590310"
  },
  {
    "text": "more than one day all right yeah it's just imagine right like if you had to deploy a hotfix with all your debugging",
    "start": "2590310",
    "end": "2596550"
  },
  {
    "text": "information and you need to wait a day till it shows up in your logs by then that's a big chunk of your customers",
    "start": "2596550",
    "end": "2603510"
  },
  {
    "text": "might be gone yeah this would be very angry yeah yeah but but we can do better",
    "start": "2603510",
    "end": "2608790"
  },
  {
    "start": "2608000",
    "end": "2976000"
  },
  {
    "text": "we can do better when you're in a pinch when you need to discover what is actually happening we actually do have a",
    "start": "2608790",
    "end": "2614730"
  },
  {
    "text": "debugger agent that you can attach to your application especially Java or for some of the other languages as well what",
    "start": "2614730",
    "end": "2620910"
  },
  {
    "text": "we can do is to attach a debugger basically here so for example in the",
    "start": "2620910",
    "end": "2626190"
  },
  {
    "text": "Java starla common line we can attach with the bargain agent you can run any environment that you want what this gets",
    "start": "2626190",
    "end": "2631830"
  },
  {
    "text": "you is the what we call the the start of a debugging axis right so sometimes in a pinch this is absolutely this is",
    "start": "2631830",
    "end": "2638670"
  },
  {
    "text": "actually necessary so with this particular thing what we can do is we can navigate to the application that we",
    "start": "2638670",
    "end": "2643860"
  },
  {
    "text": "want to debug so here we're talking about hello are you I you can see that the source code automatically downloaded",
    "start": "2643860",
    "end": "2649500"
  },
  {
    "text": "and that is because in my palm in my build actually associated the get",
    "start": "2649500",
    "end": "2654600"
  },
  {
    "text": "information so I know where the kid repository is I also know which revision of the code I need to reference to an RD",
    "start": "2654600",
    "end": "2661320"
  },
  {
    "text": "bugger UI will automatically reference this data and pull down the source code automatically and we can navigate into",
    "start": "2661320",
    "end": "2668400"
  },
  {
    "text": "the UI controller and we can do some print line debugging like Robert do it Robert how do you usually",
    "start": "2668400",
    "end": "2674329"
  },
  {
    "text": "do your print line debugging if I need to debug one of these controllers here so it's the controller that has the",
    "start": "2674329",
    "end": "2679339"
  },
  {
    "text": "issue right so normally the way that I go is like kind of a binary search you",
    "start": "2679339",
    "end": "2685400"
  },
  {
    "text": "started with one print line on the top right at the beginning you like number one like yeah yeah I'm here",
    "start": "2685400",
    "end": "2691640"
  },
  {
    "text": "and then enough and then before the return we do I'm - I'm finished - I see",
    "start": "2691640",
    "end": "2698059"
  },
  {
    "text": "and so if anything doesn't work in between you will go back and add another line would you right right let's let's",
    "start": "2698059",
    "end": "2703309"
  },
  {
    "text": "edit one one line right now okay so I want to know what the name is the name is name so here we can use the variable",
    "start": "2703309",
    "end": "2709339"
  },
  {
    "text": "reference here so when I say the name is name okay and then maybe I say code",
    "start": "2709339",
    "end": "2715190"
  },
  {
    "text": "greeting maybe something like that right so as soon as I did this in the debugging here the debugging agent",
    "start": "2715190",
    "end": "2721430"
  },
  {
    "text": "receives the information and now all of the instances are now can actually output these logs so for example if I",
    "start": "2721430",
    "end": "2727250"
  },
  {
    "text": "come back here and do the refresh a few times right every time I go through this line of code on any of the instances the",
    "start": "2727250",
    "end": "2733940"
  },
  {
    "text": "log is actually being produced and I can validate this of course if I go back to the login console here so if I go back",
    "start": "2733940",
    "end": "2740210"
  },
  {
    "text": "to the log and you know the drill if you have a centralized logger you can go and find the container that you're",
    "start": "2740210",
    "end": "2746299"
  },
  {
    "text": "looking for right you can see all the logs that's coming through and then you can see their error here this is the",
    "start": "2746299",
    "end": "2751339"
  },
  {
    "text": "error with the law with the exception if I score up a little bit there are days so this is a law point I just added and",
    "start": "2751339",
    "end": "2758540"
  },
  {
    "text": "that's number one I'm here means pretty good and then horse number two number two was not finished but number two what",
    "start": "2758540",
    "end": "2765170"
  },
  {
    "text": "the dam is empty huh so somebody didn't put a name in there you I yeah somebody",
    "start": "2765170",
    "end": "2770750"
  },
  {
    "text": "wasn't you yeah you got me yeah yeah so",
    "start": "2770750",
    "end": "2776030"
  },
  {
    "text": "I guess is the you there right but of course now we know what the actual input was we can then validate this a lot",
    "start": "2776030",
    "end": "2781760"
  },
  {
    "text": "better and figure this out but but typically you know the the logging thing is not you know we have to go to a lot",
    "start": "2781760",
    "end": "2788750"
  },
  {
    "text": "of logging here it's very very convenient for us to do it right but sometimes I just really want to attach a debugger and step through the code well",
    "start": "2788750",
    "end": "2795260"
  },
  {
    "text": "how many people here would love to or dare to let me asked if would love to attach the production debugger to your",
    "start": "2795260",
    "end": "2801319"
  },
  {
    "text": "code yeah Oh there you do it really cool induction debugger Reena wait a second",
    "start": "2801319",
    "end": "2808800"
  },
  {
    "text": "well if you were to attach the real production debugger if you're still serving traffic is you want to see what's really happening what would",
    "start": "2808800",
    "end": "2815070"
  },
  {
    "text": "happen you just call me up right and say hey Robert there's a customer he's waiting can you step through it yes",
    "start": "2815070",
    "end": "2821300"
  },
  {
    "text": "step through the code in the latency will be like how long does it take like two minutes you give a blending of two",
    "start": "2821300",
    "end": "2827940"
  },
  {
    "text": "minutes shop security right job seekers every time they have a slow instance and that's they'll call you up right do that",
    "start": "2827940",
    "end": "2834810"
  },
  {
    "text": "yeah but we can do better if you want to do like production level debugging with the real debugger we can actually ask",
    "start": "2834810",
    "end": "2841470"
  },
  {
    "text": "something called a snapshot so similarly if you just add the agent to your application you can do the snapshots as",
    "start": "2841470",
    "end": "2847290"
  },
  {
    "text": "well so for example if I'm really interested in what's happening in one line of the code like for example here I'm gonna go",
    "start": "2847290",
    "end": "2853380"
  },
  {
    "text": "to the holloway service i'm going to take a snapshot at this very moment for i can do then is to to the refresh you",
    "start": "2853380",
    "end": "2860220"
  },
  {
    "text": "can see we're waiting for a snapshot in the soonest a request coming i can see exactly what the states are in my",
    "start": "2860220",
    "end": "2866730"
  },
  {
    "text": "application i can navigate through my variables i can see the endpoint at our i'm trying to hit i can very clearly see",
    "start": "2866730",
    "end": "2872490"
  },
  {
    "text": "the name is that and then i can see all of the traces with the co stack directly",
    "start": "2872490",
    "end": "2878280"
  },
  {
    "text": "here now of course if you want to step through the code that's also very easy except we don't block you can just add a",
    "start": "2878280",
    "end": "2884700"
  },
  {
    "text": "watch point in every one of these lines and every time that we go back to the application we do a refresh we're going",
    "start": "2884700",
    "end": "2891210"
  },
  {
    "text": "to capture the traces for every single one of these lines okay right and what you actually can you can not only do",
    "start": "2891210",
    "end": "2896730"
  },
  {
    "text": "this in in the UI you actually could to also attach the bugger for instance from IntelliJ or other any other tool that",
    "start": "2896730",
    "end": "2903240"
  },
  {
    "text": "you want to have yeah so just to summarize ok self the time we want to quite a few different utilities you can",
    "start": "2903240",
    "end": "2909060"
  },
  {
    "text": "use with kubernetes we talked about using a centralized logger so that we can analyze what's in the log in track",
    "start": "2909060",
    "end": "2915360"
  },
  {
    "text": "more information and hopefully you can query it and cried a lot more information from it yes we talked about observability so basically adding",
    "start": "2915360",
    "end": "2923120"
  },
  {
    "text": "utilities to get traces out of like what is happening in your micro service topology and to really inspect like what",
    "start": "2923120",
    "end": "2930390"
  },
  {
    "text": "is happening and what what are the sequences that are running and if you're in pinch when you really need to",
    "start": "2930390",
    "end": "2935790"
  },
  {
    "text": "understand what's in your day payload you either have to lock everything or you can add a debugger where you can actually see the",
    "start": "2935790",
    "end": "2942579"
  },
  {
    "text": "production traffic that's going through that may actually help you to determine the root cause very very quickly and",
    "start": "2942579",
    "end": "2948910"
  },
  {
    "text": "just remember for every one of these there are the open source solutions and then there are also solutions in the",
    "start": "2948910",
    "end": "2954099"
  },
  {
    "text": "cloud platform where we can help you to do this a lot easier as well and with",
    "start": "2954099",
    "end": "2959170"
  },
  {
    "text": "that I said thank you so much for being here and you can find all the source code and some of the material on the",
    "start": "2959170",
    "end": "2965380"
  },
  {
    "text": "links and thank you for having us thank you very much thank you [Applause]",
    "start": "2965380",
    "end": "2976460"
  }
]