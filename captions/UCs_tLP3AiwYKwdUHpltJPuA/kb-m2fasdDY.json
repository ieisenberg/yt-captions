[
  {
    "start": "0",
    "end": "130000"
  },
  {
    "text": "[Music]",
    "start": "2540",
    "end": "10080"
  },
  {
    "text": "all [Applause] right great thank you so much um so I",
    "start": "10080",
    "end": "18000"
  },
  {
    "text": "want to talk to you a little bit about sort of some lessons learned about uh",
    "start": "18000",
    "end": "23400"
  },
  {
    "text": "about Uber's scaling and you know we've I've been talking about this for a while so I mean there's there's a bunch of stuff out there about like I don't know",
    "start": "23400",
    "end": "30039"
  },
  {
    "text": "know like uber got pretty big um You probably like you know like most people",
    "start": "30039",
    "end": "35040"
  },
  {
    "text": "know what it is now like it's kind of a thing um I think perhaps surprising to many people is sort of how quickly",
    "start": "35040",
    "end": "43000"
  },
  {
    "text": "things are changing and so I've got a couple of quick little videos to show you the the pace of growth um in a",
    "start": "43000",
    "end": "49480"
  },
  {
    "text": "couple of Chinese cities uh over the course of over the course of one year is that",
    "start": "49480",
    "end": "54760"
  },
  {
    "text": "playing oh there we go so so this is this is Beijing over uh from the",
    "start": "54760",
    "end": "61480"
  },
  {
    "text": "beginning of beginning of a year to an end of a year and you can just sort of see like",
    "start": "61480",
    "end": "68080"
  },
  {
    "text": "in one city things are happening like that um this is uh changdu and it's sort",
    "start": "68080",
    "end": "75200"
  },
  {
    "text": "of the same story and you kind of see big reveal you kind of see the same",
    "start": "75200",
    "end": "82960"
  },
  {
    "text": "pattern happening um in a bunch of cities sort of all all over the world so",
    "start": "82960",
    "end": "89280"
  },
  {
    "text": "this thing is happen happening really really quickly and a bunch of the ways that we have responded to kind of like",
    "start": "89280",
    "end": "96439"
  },
  {
    "text": "how to handle all of this scaling maybe you know we did the best that we could they weren't always right um but we",
    "start": "96439",
    "end": "102439"
  },
  {
    "text": "certainly learned a lot along the way some some quick public numbers because everyone always wants to know most of",
    "start": "102439",
    "end": "108560"
  },
  {
    "text": "the stats I'm not allowed to talk about but those are some fun ones um another fun one is how many Engineers we have",
    "start": "108560",
    "end": "116079"
  },
  {
    "text": "which is somewhere around 2000 and when I started started at Uber a year and a",
    "start": "116079",
    "end": "121200"
  },
  {
    "text": "half ago there were 200 and so this is a a 10x growth in a year and a half pretty",
    "start": "121200",
    "end": "129000"
  },
  {
    "text": "pretty crazy and I've learned in this very short time I mean a year and a a",
    "start": "129000",
    "end": "134599"
  },
  {
    "start": "130000",
    "end": "230000"
  },
  {
    "text": "year and a half doesn't seem like long at all but in this kind of crazy accelerated path it seems like forever ago and I try to think about like what",
    "start": "134599",
    "end": "141680"
  },
  {
    "text": "could I tell myself a year and a half ago like what advice would I do I wish",
    "start": "141680",
    "end": "146840"
  },
  {
    "text": "that I could have gotten um and you know F thing about advice is you're not always uh you're not always open to hear",
    "start": "146840",
    "end": "153879"
  },
  {
    "text": "it like you hear advice when you're ready to hear it and I think most of my",
    "start": "153879",
    "end": "158959"
  },
  {
    "text": "advice I probably would have said you don't understand me man it'll be different this time like I got this but",
    "start": "158959",
    "end": "166040"
  },
  {
    "text": "um I I think that there are a few things there are a few things that maybe I uh I could have gotten through to uh to my",
    "start": "166040",
    "end": "171720"
  },
  {
    "text": "young and naive self a year and a half ago but you know I think a lot of um a",
    "start": "171720",
    "end": "177040"
  },
  {
    "text": "lot of this stuff like man you probably have to learn at the hard way like at least a little bit so take take this uh",
    "start": "177040",
    "end": "184120"
  },
  {
    "text": "take this advice for what it is you might have to learn some of these things the hard way but then maybe you can think back to then oh that one Uber guy",
    "start": "184120",
    "end": "190200"
  },
  {
    "text": "was telling me about this a long time ago and that'll be fun so uh here's a graph of our uh service growth uh you'll",
    "start": "190200",
    "end": "196040"
  },
  {
    "text": "know it doesn't end at a thousand even though I said a thousand uh this is because we don't have a reliable way of",
    "start": "196040",
    "end": "201440"
  },
  {
    "text": "sort of tracking this over time it's like bizarre but it's somehow really hard to get the exact number of services",
    "start": "201440",
    "end": "208159"
  },
  {
    "text": "that are running in production at anyone time because it's changing so rapidly um so there are all these different teams",
    "start": "208159",
    "end": "213799"
  },
  {
    "text": "who are building all these different things and they're cranking out new Services every week some of the services are going away but honestly tracking the",
    "start": "213799",
    "end": "221680"
  },
  {
    "text": "total count is like this sort of weird anomaly like we have metrics and everything else but on actual count of",
    "start": "221680",
    "end": "227159"
  },
  {
    "text": "services sort of not a thing people care about so yes yes I have to use the word microservices like we like everyone else",
    "start": "227159",
    "end": "234239"
  },
  {
    "start": "230000",
    "end": "364000"
  },
  {
    "text": "have microservices and it's a technology conference so we have to say microservices a whole lot and so here we",
    "start": "234239",
    "end": "239439"
  },
  {
    "text": "go have said it but I want to like try to add a little bit something to uh to this discussion of yes it's super great",
    "start": "239439",
    "end": "246079"
  },
  {
    "text": "um to to kind of break up uh all of your your monoliths into um smaller things um",
    "start": "246079",
    "end": "251760"
  },
  {
    "text": "monolith just the name sounds bad I mean it has lith at the end of it right it sounds like a terrible thing that you would never want like monolith but are",
    "start": "251760",
    "end": "259799"
  },
  {
    "text": "there I mean there are probably some sort of similar like at at certain scale there are some similar kind of uh I",
    "start": "259799",
    "end": "266960"
  },
  {
    "text": "don't know downsides surprising trade-offs about microser services that uh that I want to explore with you here",
    "start": "266960",
    "end": "272280"
  },
  {
    "text": "a little bit and one of them is if you're building a whole lot of services",
    "start": "272280",
    "end": "278960"
  },
  {
    "text": "and uh you you start to accumulate a lot of them and you might start to wonder at",
    "start": "278960",
    "end": "284039"
  },
  {
    "text": "some point whether you could get some of these other cool buzzwords from the industry that like database people and",
    "start": "284039",
    "end": "289520"
  },
  {
    "text": "programming language people are always like so excited about they've got their mut immutability it changes everything",
    "start": "289520",
    "end": "295360"
  },
  {
    "text": "it's so great um why can't I mean at some point like our microservice uh can can they be",
    "start": "295360",
    "end": "302000"
  },
  {
    "text": "immutable specifically or I mean additionally uh like append only databases these are great like everyone",
    "start": "302000",
    "end": "307880"
  },
  {
    "text": "loves them you can reason about them Etc but I think the similar properties are true of a microservices deployment at",
    "start": "307880",
    "end": "314320"
  },
  {
    "text": "some level in some ways um the time when things are most likely to break is when",
    "start": "314320",
    "end": "320360"
  },
  {
    "text": "you change them so Uber is most reliable on the weekends when our Engineers",
    "start": "320360",
    "end": "325400"
  },
  {
    "text": "aren't making changes um even though that's when we're the busiest and so",
    "start": "325400",
    "end": "330720"
  },
  {
    "text": "every time you go to change something you risk breaking it I I think that there is a point at some you know at some point um a set of software that's",
    "start": "330720",
    "end": "338240"
  },
  {
    "text": "deployed in microservice it might actually make sense to just never touch it maybe I don't know I think we're",
    "start": "338240",
    "end": "344800"
  },
  {
    "text": "doing that whether we like it or not like whether it was even planned out it was sort of like a surprising benefit uh",
    "start": "344800",
    "end": "350280"
  },
  {
    "text": "that we ended up there um you know this just sort of all you know kind of happened and you know it's it's worth",
    "start": "350280",
    "end": "356639"
  },
  {
    "text": "sort of questioning like like why why are we we're throwing you know a lot of engineering effort into this kind of",
    "start": "356639",
    "end": "362680"
  },
  {
    "text": "this architectural style like like why are we going to do this like it's not purely by accident I mean like we're",
    "start": "362680",
    "end": "368280"
  },
  {
    "start": "364000",
    "end": "432000"
  },
  {
    "text": "definitely getting a lot of good things out of it like obviously like we can you you know it allows these teams so we're",
    "start": "368280",
    "end": "373759"
  },
  {
    "text": "we're adding people all the time there they need to be quickly formed into teams and like get to work on something where they can sort of reason about the",
    "start": "373759",
    "end": "379880"
  },
  {
    "text": "their boundaries and so so this allows these teams to be formed quickly and move and release independently like",
    "start": "379880",
    "end": "385599"
  },
  {
    "text": "that's really good and we've adopted the own your own up time so you like you run the code that you write um everyone is",
    "start": "385599",
    "end": "392319"
  },
  {
    "text": "on call for all the service teams are on call for the services that um that they run in production and so so that's",
    "start": "392319",
    "end": "398599"
  },
  {
    "text": "pretty cool and then it starts to get maybe a little less obvious but it doesn't mean people say it less often um",
    "start": "398599",
    "end": "406000"
  },
  {
    "text": "which is we should use the best tool for the job but best has so many different",
    "start": "406000",
    "end": "411680"
  },
  {
    "text": "uh ways of being understood like best in what way like best to write best to run",
    "start": "411680",
    "end": "417680"
  },
  {
    "text": "best because I know it best because our libraries best like ah there are all these like weird like it sounds so",
    "start": "417680",
    "end": "424199"
  },
  {
    "text": "obvious you can just say it's the best um but when you really dig into it maybe I don't know it starts to get a little",
    "start": "424199",
    "end": "429680"
  },
  {
    "text": "shaky and and if you start really thinking about like what are the costs what are the costs of doing like a big",
    "start": "429680",
    "end": "434879"
  },
  {
    "start": "432000",
    "end": "482000"
  },
  {
    "text": "microservices deployment um I mean right off the bat now you have a distributed system and these are way way harder to",
    "start": "434879",
    "end": "441639"
  },
  {
    "text": "work with than a a single piece of software than than a single monolithic system like everything is an RPC all of",
    "start": "441639",
    "end": "448919"
  },
  {
    "text": "the sudden you have have to handle all of these different crazy failure modes all of these different weird behaviors",
    "start": "448919",
    "end": "454120"
  },
  {
    "text": "that in a in a single monolith did not exist and more importantly like what if it breaks so how do you troubleshoot how",
    "start": "454120",
    "end": "461319"
  },
  {
    "text": "do you how do you figure out if your service is in some chain uh between something else that's broken like how do",
    "start": "461319",
    "end": "467240"
  },
  {
    "text": "you make sure that the right people get paged the right uh corrective actions are taken to fix it but you know the",
    "start": "467240",
    "end": "473639"
  },
  {
    "text": "these are still like sort of the the the obvious things like you know you can you can read a lot of people talking about",
    "start": "473639",
    "end": "479599"
  },
  {
    "text": "you know about these and they're sort of obvious if you think about them but there's some less obvious costs and I",
    "start": "479599",
    "end": "485360"
  },
  {
    "start": "482000",
    "end": "699000"
  },
  {
    "text": "think these are really interesting you know first of all everything is a trade-off let me just reiterate that even if you don't realize you're making",
    "start": "485360",
    "end": "491240"
  },
  {
    "text": "it um everything is a trade-off like you're you're going to get something and you know an exchange for having all these microservices like you get these",
    "start": "491240",
    "end": "497840"
  },
  {
    "text": "things but you're probably giving some things up and this happens in more ways than uh than you might think like you",
    "start": "497840",
    "end": "506039"
  },
  {
    "text": "might choose to build some a new service in instead of fixing something that's",
    "start": "506039",
    "end": "511120"
  },
  {
    "text": "broken and I don't know that doesn't maybe seem like a cost at first like it maybe seems like a feature like I don't",
    "start": "511120",
    "end": "516959"
  },
  {
    "text": "have to wait into that like old code and you know risk breaking it but at some point like the cost of having always",
    "start": "516959",
    "end": "524320"
  },
  {
    "text": "building around problems and never cleaning up the old problems like this starts to be a factor and another way to",
    "start": "524320",
    "end": "530760"
  },
  {
    "text": "say that is you might trade complexity for politics so instead of having to",
    "start": "530760",
    "end": "537279"
  },
  {
    "text": "have a maybe awkward conversation with some other human beings turns out it's all human beings who are writing the software at least at least these days",
    "start": "537279",
    "end": "543600"
  },
  {
    "text": "still um there are people on the other end uh of these you know of these source code files and you might have to talk",
    "start": "543600",
    "end": "550720"
  },
  {
    "text": "with them and you might have to have these awkward you know human emotion relationships with them and this is",
    "start": "550720",
    "end": "557760"
  },
  {
    "text": "really easy to avoid if you can just like write more software and that's a weird weird property of of this system",
    "start": "557760",
    "end": "565320"
  },
  {
    "text": "uh you can just write more software and avoid having uh having these these sort",
    "start": "565320",
    "end": "570720"
  },
  {
    "text": "of awkward conversations and you get to keep your biases like if you know along",
    "start": "570720",
    "end": "576360"
  },
  {
    "text": "those same lines if there're are some things that maybe like you don't necessarily agree with or like let's",
    "start": "576360",
    "end": "581600"
  },
  {
    "text": "just say you like uh python but the team that you're interfacing with uh they're",
    "start": "581600",
    "end": "586839"
  },
  {
    "text": "writing their stuff in nodejs you might think that you might have opinions about which one of those languages is better",
    "start": "586839",
    "end": "593200"
  },
  {
    "text": "and instead of maybe helping uh work in that other code base that uh is a",
    "start": "593200",
    "end": "598560"
  },
  {
    "text": "language that you don't personally care for uh you might just build some new stuff in your own language just to sort",
    "start": "598560",
    "end": "604000"
  },
  {
    "text": "of you know prop up your sort of the the the things that you think are best even",
    "start": "604000",
    "end": "610399"
  },
  {
    "text": "though that might not be the best thing for the organization or the the system as a whole so these are kind of weird",
    "start": "610399",
    "end": "615839"
  },
  {
    "text": "like these are sort of like I'd never I hadn't really considered that by super modularizing everything uh that we uh we",
    "start": "615839",
    "end": "623880"
  },
  {
    "text": "might be introducing these these sorts of things so I'm going to take you through like give you some some real",
    "start": "623880",
    "end": "629000"
  },
  {
    "text": "some concrete examples of sort of how um how we've broken up some of our engineering teams and some of the",
    "start": "629000",
    "end": "635680"
  },
  {
    "text": "technology choices that um that we've made and you can maybe see how you can",
    "start": "635680",
    "end": "641000"
  },
  {
    "text": "imagine project if you will how this might be going down uh with all these all the people that work at Uber so",
    "start": "641000",
    "end": "647399"
  },
  {
    "text": "before uh in in the prehistory of uber there was 100% outsourced there um you",
    "start": "647399",
    "end": "653480"
  },
  {
    "text": "know it didn't seem like a technology problem so like just had some some company somewhere write the first",
    "start": "653480",
    "end": "659399"
  },
  {
    "text": "version of The Uber mobile app on the back end um but eventually the um when the engineering was brought in house uh",
    "start": "659399",
    "end": "666160"
  },
  {
    "text": "we had a dispatch which is all written in no. JS Al these day these days the teams uh that team is writing all their",
    "start": "666160",
    "end": "672480"
  },
  {
    "text": "new stuff and go the core Services which is kind of like the rest of the system um was originally written in Python and",
    "start": "672480",
    "end": "679279"
  },
  {
    "text": "now that team is moving to go and eventually we brought maps inhouse and so that those those teams are using U",
    "start": "679279",
    "end": "685680"
  },
  {
    "text": "Python and Java and we have a whole data engineering uh you whole group that",
    "start": "685680",
    "end": "691040"
  },
  {
    "text": "their stuff's written in Python and Java we've got an in-house metrics thing that we've written that's written in go and",
    "start": "691040",
    "end": "697200"
  },
  {
    "text": "you start to notice like wow that's like a lot of languages",
    "start": "697200",
    "end": "702320"
  },
  {
    "start": "699000",
    "end": "798000"
  },
  {
    "text": "and we could do that like it was great like microservices let us do that like",
    "start": "702320",
    "end": "707680"
  },
  {
    "text": "we could just have teams be writing in different languages and they're still communicating with each other and that's",
    "start": "707680",
    "end": "712720"
  },
  {
    "text": "cool except we hadn't really counted on or factored in what all the cost would",
    "start": "712720",
    "end": "719639"
  },
  {
    "text": "be of operating that way so the first obvious one like okay fine yes hard to share code like simple like no no no",
    "start": "719639",
    "end": "726480"
  },
  {
    "text": "surprises there but it's also kind of hard to move between teams like if you want to sort of reorganize some people",
    "start": "726480",
    "end": "734000"
  },
  {
    "text": "and like now you've got a whole bunch of knowledge built up inside of people's heads in sort of one platform but maybe",
    "start": "734000",
    "end": "739920"
  },
  {
    "text": "doesn't directly translate um to to some other platform and they can obviously they can learn anybody can learn but",
    "start": "739920",
    "end": "745800"
  },
  {
    "text": "like there's a cost right there's a switching cost of of moving between teams and so what I wish I knew before",
    "start": "745800",
    "end": "752639"
  },
  {
    "text": "kind of Thoroughly embracing this like microservices everywhere model is that by having multiple languages it can",
    "start": "752639",
    "end": "759880"
  },
  {
    "text": "fragment the culture you can end up with sort of camps of like Oh I'm a node",
    "start": "759880",
    "end": "765519"
  },
  {
    "text": "programmer or I'm a go programmer and Java don't care for it like people",
    "start": "765519",
    "end": "771079"
  },
  {
    "text": "have it's natural like human beings organized around you know tribes or whatever uh but by embracing this we can",
    "start": "771079",
    "end": "779839"
  },
  {
    "text": "have lots of languages everywhere it's it'll there's there's nothing to sort of like check that that tendency and",
    "start": "779839",
    "end": "787639"
  },
  {
    "text": "there's a real cost there and I'm not sure exactly how to like how to you know appropriately address those costs but",
    "start": "787639",
    "end": "795920"
  },
  {
    "text": "surpris there there is a cost so like I said everything becomes an RPC and that",
    "start": "795920",
    "end": "802920"
  },
  {
    "start": "798000",
    "end": "961000"
  },
  {
    "text": "has a lot of surprising issues when when teams are communicating with each other with rpcs like that's the way that that",
    "start": "802920",
    "end": "809199"
  },
  {
    "text": "they're talking to each other so right off the bat like when you know when I started we were doing everything with",
    "start": "809199",
    "end": "814440"
  },
  {
    "text": "with htdp and wow this is uh a a very",
    "start": "814440",
    "end": "819959"
  },
  {
    "text": "common path that a lot of people go down but at scale especially with lots and lots of people joining really really",
    "start": "819959",
    "end": "825800"
  },
  {
    "text": "quickly the the weaknesses of something like hdp really start to show up like",
    "start": "825800",
    "end": "831160"
  },
  {
    "text": "what's a status code for what are headers for what goes into the query string like is this restful oh what",
    "start": "831160",
    "end": "836600"
  },
  {
    "text": "method is it like what does that mean and uh all of a sudden all these subtle things that seem like really cool when",
    "start": "836600",
    "end": "842160"
  },
  {
    "text": "you're doing browser programming all of a sudden become very very complicated and what you really just want is to say",
    "start": "842160",
    "end": "849160"
  },
  {
    "text": "I run this function in this like over there as opposed to here tell me what",
    "start": "849160",
    "end": "854279"
  },
  {
    "text": "happened but instead now you have all these like weird subtle interpretation issues with like you know HP semantics",
    "start": "854279",
    "end": "860720"
  },
  {
    "text": "um and yeah that's surprisingly expensive and Jason again like super fun",
    "start": "860720",
    "end": "867560"
  },
  {
    "text": "like it's neat that you can just like look at with your eyeballs and like read it and just see like UTF characters",
    "start": "867560",
    "end": "874839"
  },
  {
    "text": "there but there's without types it is a crazy crazy mess uh but not right away",
    "start": "874839",
    "end": "881800"
  },
  {
    "text": "it's uh it's just you're sort of borrowing against a future crazy mess when someone will change something and",
    "start": "881800",
    "end": "887160"
  },
  {
    "text": "then maybe a couple hops Downstream they were depending on some subtle interpretation of like empty string",
    "start": "887160",
    "end": "892720"
  },
  {
    "text": "versus null versus some type coercion deal or whatever in one language versus the other and it will cause like a huge",
    "start": "892720",
    "end": "898680"
  },
  {
    "text": "huge mess that takes forever to to sort out and what we really we could have fixed all of this if we had just had",
    "start": "898680",
    "end": "905120"
  },
  {
    "text": "Types on all these interfaces and all of these things like that seem so great um",
    "start": "905120",
    "end": "912079"
  },
  {
    "text": "at like small scale or when doing browser programming um end up being like real costs um at at scale especially at",
    "start": "912079",
    "end": "919000"
  },
  {
    "text": "big team scale of course rpcs are are slower than just like making a function call in inside a browser but especially",
    "start": "919000",
    "end": "926639"
  },
  {
    "text": "as you move absolutely everything to microservice is the the cost of making these things starts starts adding up so",
    "start": "926639",
    "end": "933759"
  },
  {
    "text": "what I wish I knew is that servers are not browsers like talking across the",
    "start": "933759",
    "end": "939040"
  },
  {
    "text": "data center it's makes way more sense to treat everything like a function call than it does to treat it like some kind",
    "start": "939040",
    "end": "946199"
  },
  {
    "text": "of web request that you might want to cash and fetch over the internet and",
    "start": "946199",
    "end": "951519"
  },
  {
    "text": "have all the extra browsery stuff when you control both sides of the of the",
    "start": "951519",
    "end": "957079"
  },
  {
    "text": "interaction it's way better for everybody to treat it like a like a function call so how many repos is best this is a",
    "start": "957079",
    "end": "965199"
  },
  {
    "text": "thing that I never thought that a discussion I never thought I would have because I thought the answer was obvious one is what I thought um but it turns",
    "start": "965199",
    "end": "971759"
  },
  {
    "text": "out many people disagree with me and uh many people think that many repos is the",
    "start": "971759",
    "end": "976959"
  },
  {
    "text": "right answer uh maybe one repo for a project maybe multiple like who knows because you know it's kind of like the",
    "start": "976959",
    "end": "983480"
  },
  {
    "text": "the trend in the industry of like publishing many small modules and it's very open source friendly right right",
    "start": "983480",
    "end": "989120"
  },
  {
    "text": "like you have um if you break everything into nice small modules and it's really easy to just open source some part of it",
    "start": "989120",
    "end": "994240"
  },
  {
    "text": "or swap pieces of it out but on the other hand one repo is really great",
    "start": "994240",
    "end": "999720"
  },
  {
    "text": "because then you can make cross cutting changes if you want to change something in two services at the same time it's",
    "start": "999720",
    "end": "1005319"
  },
  {
    "text": "really easy you can browse the code really easy really easily um so you know",
    "start": "1005319",
    "end": "1010519"
  },
  {
    "text": "there there are definitely trade-offs and you know many is bad because like it's really going to stress out sort of",
    "start": "1010519",
    "end": "1016240"
  },
  {
    "text": "your build system your navigation ability it's really uh it's kind of painful to make sure that you've uh done",
    "start": "1016240",
    "end": "1021920"
  },
  {
    "text": "a cross cutting change correctly or even this that you have all the right code um and one of course is bad because",
    "start": "1021920",
    "end": "1028360"
  },
  {
    "text": "eventually like it's going to get so big that you won't be able to uh to actually",
    "start": "1028360",
    "end": "1033558"
  },
  {
    "text": "build your software or even check out your software unless you have some elaborate uh crazy system that uh you",
    "start": "1033559",
    "end": "1039678"
  },
  {
    "text": "know does go through heroics to allow you to preserve this uh illusion like the system at Google Google famously has",
    "start": "1039679",
    "end": "1045520"
  },
  {
    "text": "one repo but kind of because it's so large never actually check it all out so",
    "start": "1045520",
    "end": "1050640"
  },
  {
    "text": "instead they have a virtual file system layer that like lets you pretend that you have it all checked out but you only actually have the stuff checked out that",
    "start": "1050640",
    "end": "1056640"
  },
  {
    "text": "you're actually working with wow one repo super cool but probably not usable",
    "start": "1056640",
    "end": "1062320"
  },
  {
    "text": "uh without specialized tooling so here's this here's a glimpse of how many repos",
    "start": "1062320",
    "end": "1067760"
  },
  {
    "text": "we have at Uber um I I took this a month ago and this is also apparently not",
    "start": "1067760",
    "end": "1073880"
  },
  {
    "text": "tracked anywhere so I just happened to have looked at it a month ago and so in our internal repository there there are",
    "start": "1073880",
    "end": "1080679"
  },
  {
    "text": "over 7,000 repos a month ago and now there are over 8,000 repos so that's a lot of repos and if you sort of filter",
    "start": "1080679",
    "end": "1087280"
  },
  {
    "text": "out like okay like individual Engineers might just want to put up a few you a few of their own little projects as",
    "start": "1087280",
    "end": "1092720"
  },
  {
    "text": "individual repos and some some teams track the configuration of their service",
    "start": "1092720",
    "end": "1099159"
  },
  {
    "text": "separately from the service itself and so these are like the configuration repos but you can see like that's you",
    "start": "1099159",
    "end": "1104919"
  },
  {
    "text": "know still not the majority of them the I mean there are just a a lot of repos out there we are so far to the other",
    "start": "1104919",
    "end": "1111440"
  },
  {
    "text": "side of the of the many Continuum on the the one versus many that I I fear that",
    "start": "1111440",
    "end": "1117200"
  },
  {
    "text": "there is no uh there's no way to ever become a single repo I don't know maybe",
    "start": "1117200",
    "end": "1122679"
  },
  {
    "text": "we'll see so in this big uh you know this this big like microservices deployment like",
    "start": "1122679",
    "end": "1129039"
  },
  {
    "start": "1123000",
    "end": "1239000"
  },
  {
    "text": "there are a ton of operational issues that come up you know like I mentioned well what happens and things break so",
    "start": "1129039",
    "end": "1134520"
  },
  {
    "text": "yeah there are Downstream dependencies like this is really complicated but back to the people ISS isues there are some",
    "start": "1134520",
    "end": "1139559"
  },
  {
    "text": "surprising things that some surprising situations that will come up is when",
    "start": "1139559",
    "end": "1144880"
  },
  {
    "text": "other teams maybe are blocked by you because it's not part you're not ready to release your thing but they have to",
    "start": "1144880",
    "end": "1150480"
  },
  {
    "text": "put a fix into your service but here you are owning your up time but now some other teams dependent on you and so can",
    "start": "1150480",
    "end": "1157080"
  },
  {
    "text": "they release your service like if all your tests pass or like I don't know is it is your is all of your automation",
    "start": "1157080",
    "end": "1163520"
  },
  {
    "text": "good enough that other teams can you know teams can release each other's software like I don't know that's an inter problem and for us it sort of like",
    "start": "1163520",
    "end": "1172039"
  },
  {
    "text": "depends on the situation like sometimes yes but sometime like usually no like usually you just have to have to be",
    "start": "1172039",
    "end": "1178240"
  },
  {
    "text": "blocked by the other team releasing their thing and you just got to coordinate and it's kind of you know",
    "start": "1178240",
    "end": "1183840"
  },
  {
    "text": "time expensive but I think that the real like big realization uh you know for me was",
    "start": "1183840",
    "end": "1191080"
  },
  {
    "text": "that we really want to understand like like we went to one side of the trade-off with microservices we said yeah great small teams everybody's",
    "start": "1191080",
    "end": "1196320"
  },
  {
    "text": "moving fast they're all releasing features super quickly iterating their owning their own up time Etc that's all great but sometimes you have to",
    "start": "1196320",
    "end": "1202840"
  },
  {
    "text": "understand the whole Sur the whole Service as one thing as one top level",
    "start": "1202840",
    "end": "1208159"
  },
  {
    "text": "working together as one giant machine system and that is kind of hard when you",
    "start": "1208159",
    "end": "1214720"
  },
  {
    "text": "spent all this time breaking it up so we just got done you know decomposing it as much as possible and now we have to like",
    "start": "1214720",
    "end": "1221480"
  },
  {
    "text": "somehow like re reand that uh all as one this is a tricky problem and uh I I wish",
    "start": "1221480",
    "end": "1229240"
  },
  {
    "text": "that I had uh spent more time kind of keeping that context together of like we",
    "start": "1229240",
    "end": "1234280"
  },
  {
    "text": "should really understand we should still be able to understand the whole system working as",
    "start": "1234280",
    "end": "1239480"
  },
  {
    "start": "1239000",
    "end": "1383000"
  },
  {
    "text": "one so performance a big you know it's definitely going to come up when teams",
    "start": "1239480",
    "end": "1245600"
  },
  {
    "text": "are talking through each other um when you know to each other over rpcs rpcs are expensive and especially when there",
    "start": "1245600",
    "end": "1252520"
  },
  {
    "text": "are multiple languages the the answer for like how you understand your performance it to totally depends on the",
    "start": "1252520",
    "end": "1259799"
  },
  {
    "text": "language tools and the tools are like all different and so now we've just gone through uh this process of like allowing",
    "start": "1259799",
    "end": "1265520"
  },
  {
    "text": "people to write in all their all these different languages but now the per understanding the performance across those languages becomes a real challenge",
    "start": "1265520",
    "end": "1272320"
  },
  {
    "text": "so like maybe in go you might have something like this this PPR output which is pretty sweet um but not all",
    "start": "1272320",
    "end": "1278279"
  },
  {
    "text": "runtimes have this so what we have been doing is to try to get everything to to",
    "start": "1278279",
    "end": "1283760"
  },
  {
    "text": "get the Performance Tools uh that all the languages that we run to uh to have a common uh sort of profiling format and",
    "start": "1283760",
    "end": "1290760"
  },
  {
    "text": "which is flame graphs so this for example is a flame graph from a go program and this is a flame graph from a",
    "start": "1290760",
    "end": "1296600"
  },
  {
    "text": "node program and we have similar deals with with python and and uh I'm pretty sure we have this uh just about worked",
    "start": "1296600",
    "end": "1303000"
  },
  {
    "text": "out with Java at this point although there's some weird other deals where some things in Java are hard to capture",
    "start": "1303000",
    "end": "1308480"
  },
  {
    "text": "performance-wise but anyway like the goal the the the the point of this though is that as you want to As you",
    "start": "1308480",
    "end": "1314480"
  },
  {
    "text": "move around and want to understand the performance of the system if the tools are so very different from one side to",
    "start": "1314480",
    "end": "1320159"
  },
  {
    "text": "the other that is another big point of of friction when you're trying to chase down a performance problem and it's the",
    "start": "1320159",
    "end": "1326679"
  },
  {
    "text": "the tools are different the the other big thing that uh that I learned that was surprising was everybody wants to",
    "start": "1326679",
    "end": "1334279"
  },
  {
    "text": "get a dashboard you know some performance dashboards like this but if it's not generated automatically um",
    "start": "1334279",
    "end": "1341679"
  },
  {
    "text": "teams will just end up making their own like fun little dashboards of things that they think are important and then",
    "start": "1341679",
    "end": "1347200"
  },
  {
    "text": "when you want to try to trace some problem down um one team's dashboard will look all totally different than",
    "start": "1347200",
    "end": "1353000"
  },
  {
    "text": "another and what we should have done earlier and what what we're doing now is make it so every service when you create",
    "start": "1353000",
    "end": "1360039"
  },
  {
    "text": "it you get the standard dashboard with the same set of things that we all agree",
    "start": "1360039",
    "end": "1365520"
  },
  {
    "text": "are useful things to know about from your service and you do that you get this without having to do any work at",
    "start": "1365520",
    "end": "1373240"
  },
  {
    "text": "all like it just shows up you have a service and now you have these dashbo",
    "start": "1373240",
    "end": "1378520"
  },
  {
    "text": "boards so then you can always browse everybody else's stuff and it will all sort of look the same another big debate",
    "start": "1378520",
    "end": "1385279"
  },
  {
    "start": "1383000",
    "end": "1518000"
  },
  {
    "text": "performance-wise is whether you should even care about performance um you know performance premature optimization uh",
    "start": "1385279",
    "end": "1392240"
  },
  {
    "text": "root of all evil Etc it spawn that that phrase has spawned a very weird",
    "start": "1392240",
    "end": "1398240"
  },
  {
    "text": "subculture in our industry of people who are literally like against optimization",
    "start": "1398240",
    "end": "1404640"
  },
  {
    "text": "because they they're just like it doesn't matter this is this is not busy the the service do have that much",
    "start": "1404640",
    "end": "1410080"
  },
  {
    "text": "traffic like we should always optimize for developer velocity um we can always",
    "start": "1410080",
    "end": "1415240"
  },
  {
    "text": "you know buy computers is cheaper than than hiring uh engineers and there's a certain truth to",
    "start": "1415240",
    "end": "1421559"
  },
  {
    "text": "that I mean Engineers are indeed very expensive and getting more expensive all the time whereas computers are getting cheaper all the time so so that",
    "start": "1421559",
    "end": "1428520"
  },
  {
    "text": "definitely is I mean there's some truth to that but the problem is that performance doesn't matter until it does",
    "start": "1428520",
    "end": "1435799"
  },
  {
    "text": "one day you will probably have have a performance problem and if you've kind",
    "start": "1435799",
    "end": "1441279"
  },
  {
    "text": "of established this culture of no performance does not matter we'll just get more computers it can be very very",
    "start": "1441279",
    "end": "1448240"
  },
  {
    "text": "difficult to actually have it suddenly matter um if you're you know without the",
    "start": "1448240",
    "end": "1453520"
  },
  {
    "text": "kind of infrastructure necessary to to sort of deal with these sorts of things and so what what I think is you probably",
    "start": "1453520",
    "end": "1461520"
  },
  {
    "text": "want to have at least some kind of minimum requirement some kind of SLA that's performance-based on everything",
    "start": "1461520",
    "end": "1469360"
  },
  {
    "text": "automatically that is gets created whether or not um it's even um a useful",
    "start": "1469360",
    "end": "1475080"
  },
  {
    "text": "like usefully Fast number just so that there is a number maybe you set it to 20",
    "start": "1475080",
    "end": "1480640"
  },
  {
    "text": "seconds like but just make it so everybody has a performance SLA that they just have to have whether they",
    "start": "1480640",
    "end": "1487520"
  },
  {
    "text": "don't have to opt into it they can opt into a more aggressive you know amount but everything has an SLA and then that",
    "start": "1487520",
    "end": "1494399"
  },
  {
    "text": "way you can always lower it you can always you can always bring it in and then will always be just that safety net",
    "start": "1494399",
    "end": "1500679"
  },
  {
    "text": "of like at least we have a way to you know a knob that we can turn so you know what what I wish I knew",
    "start": "1500679",
    "end": "1508440"
  },
  {
    "text": "is that you know good is not is not required but you have to at least know where you stand and it's maybe not now",
    "start": "1508440",
    "end": "1515919"
  },
  {
    "text": "but it will be eventually so related to to Performance",
    "start": "1515919",
    "end": "1521039"
  },
  {
    "start": "1518000",
    "end": "1598000"
  },
  {
    "text": "is this notion of fan out which causes a lot of performance problems and like",
    "start": "1521039",
    "end": "1526320"
  },
  {
    "text": "this has some kind of uh you know sort of obvious at first uh side effects but like a little subtle um if you've never",
    "start": "1526320",
    "end": "1532960"
  },
  {
    "text": "dealt with this problem before which is the overall latency before you can respond to the user right you've got uh",
    "start": "1532960",
    "end": "1538679"
  },
  {
    "text": "you've got to wait for the whatever the slowest thing you have um in your call chain and so imagine a a typical service",
    "start": "1538679",
    "end": "1546720"
  },
  {
    "text": "that uh you know it's generally pretty fast um responds in 1 millisecond 99% of",
    "start": "1546720",
    "end": "1552000"
  },
  {
    "text": "the time that's pretty good but 1% of the time unfortunately it takes like a whole second still doesn't sound too bad",
    "start": "1552000",
    "end": "1559399"
  },
  {
    "text": "right well it's a bummer but 1% of the time my users are going to get the slowc case and like oh well and you know",
    "start": "1559399",
    "end": "1565399"
  },
  {
    "text": "that's that's pretty basic but you know if you suddenly start having big fan out the chances go up pretty quickly and",
    "start": "1565399",
    "end": "1571679"
  },
  {
    "text": "suddenly more and more and more of your users are hitting somebody's slowc case",
    "start": "1571679",
    "end": "1576880"
  },
  {
    "text": "somewhere um and this gets so this gets even worse if you're not on the P99 if you're on the P95 it only starts taking",
    "start": "1576880",
    "end": "1584080"
  },
  {
    "text": "a few uh a few you know fanned out service calls before suddenly you start",
    "start": "1584080",
    "end": "1589760"
  },
  {
    "text": "hitting the slowc case way more often so the best way to sort of um to sort of go",
    "start": "1589760",
    "end": "1596520"
  },
  {
    "text": "after these kind of fan out problems is to get some kind of distributed tracing there are lots of ways to get this you",
    "start": "1596520",
    "end": "1602279"
  },
  {
    "start": "1598000",
    "end": "1835000"
  },
  {
    "text": "can get the the Zipkin or now this this open tracing project is pretty cool um we're participating in that that's a",
    "start": "1602279",
    "end": "1608520"
  },
  {
    "text": "that is a a a great effort but you know if you don't have that kind of a scale you can just use logs just Plum a common",
    "start": "1608520",
    "end": "1616480"
  },
  {
    "text": "ID through every request and just put put it in your log message um without this kind of tracing with without a way",
    "start": "1616480",
    "end": "1623000"
  },
  {
    "text": "to understand um a request's journey through uh the architecture uh",
    "start": "1623000",
    "end": "1629279"
  },
  {
    "text": "understanding these sorts of fan out problems uh is really really difficult and I will give you some examples these",
    "start": "1629279",
    "end": "1634559"
  },
  {
    "text": "are actually from our our production uh uh Zipkin deployment of of sort of why",
    "start": "1634559",
    "end": "1640240"
  },
  {
    "text": "some of this stuff is so hard to track down so this one I'll start with an easy one so this one super obvious classic",
    "start": "1640240",
    "end": "1648360"
  },
  {
    "text": "like a request is working its way through the system and then all of the sudden somebody took like a long time",
    "start": "1648360",
    "end": "1655559"
  },
  {
    "text": "and the results of the you know the services down below they kind of all depend on that and you know it's really",
    "start": "1655559",
    "end": "1662440"
  },
  {
    "text": "straightforward like like no tricks let's just get in there and figure out what's why every now and then uh that",
    "start": "1662440",
    "end": "1668519"
  },
  {
    "text": "thing is is too slow but here's a trickier one which is",
    "start": "1668519",
    "end": "1674240"
  },
  {
    "text": "there's a huge fan out and it turns out it's to all the same service",
    "start": "1674240",
    "end": "1679440"
  },
  {
    "text": "and what you see is that yeah of course the top level service it took it a long a long it was a long time before it",
    "start": "1679440",
    "end": "1685200"
  },
  {
    "text": "could respond but each of the individual service calls into this thing below it",
    "start": "1685200",
    "end": "1690640"
  },
  {
    "text": "are are kind of the same speed and know they're not that fast I mean this is not a not a blazingly fast service but it uh",
    "start": "1690640",
    "end": "1698799"
  },
  {
    "text": "I I can't remember what it does on each request but it's it does something that you know takes some time but still they",
    "start": "1698799",
    "end": "1704480"
  },
  {
    "text": "all take roughly the same time and so if you ask that team like hey it really seems like uh like something might be",
    "start": "1704480",
    "end": "1711559"
  },
  {
    "text": "wrong with your thing and they'll look at their graph and they'll be like no way man our stuff is super fast it's",
    "start": "1711559",
    "end": "1716760"
  },
  {
    "text": "like really consistent it's responding really really you know really well um but it turns out that there's this",
    "start": "1716760",
    "end": "1722880"
  },
  {
    "text": "massive fan out now this is a case of unintentional fan out where the the top",
    "start": "1722880",
    "end": "1729000"
  },
  {
    "text": "level service was fetching a list of things and then that list contained a bunch of IDs and then it was going out",
    "start": "1729000",
    "end": "1734679"
  },
  {
    "text": "and resolving those IDs like one at a time and so it was making like a whole bunch of concurrent rpcs um you know you",
    "start": "1734679",
    "end": "1740880"
  },
  {
    "text": "can see how it's got like a sliding window of you know a bunch of pending requests and as some of them finish it can fire off more of them but this is",
    "start": "1740880",
    "end": "1747799"
  },
  {
    "text": "just silly right like there should just be a a a bulk resolve endpoint where you",
    "start": "1747799",
    "end": "1753399"
  },
  {
    "text": "just ship the whole thing the list of IDs that you want and it just sends them all back to you um but we never would",
    "start": "1753399",
    "end": "1759440"
  },
  {
    "text": "have found this if it had not been for tracing because these things they they sort of uh they sort of",
    "start": "1759440",
    "end": "1765840"
  },
  {
    "text": "confuse a lot of the the the common metric so here's another one um this one the",
    "start": "1765840",
    "end": "1772200"
  },
  {
    "text": "the fan out is super super fast you know there it's um the requests are super super fast but the the the amount of",
    "start": "1772200",
    "end": "1780200"
  },
  {
    "text": "them um is many thousands and what's going on here is there's an omm involved",
    "start": "1780200",
    "end": "1787600"
  },
  {
    "text": "and the the the service gets back an object that looks like a regular old",
    "start": "1787600",
    "end": "1794039"
  },
  {
    "text": "object that you might Loop over or change things in a loop loop on but it",
    "start": "1794039",
    "end": "1799320"
  },
  {
    "text": "turns out when you do that every time you change one of these properties due to Magic it uh turns into a database",
    "start": "1799320",
    "end": "1805240"
  },
  {
    "text": "request and so all of a sudden this seemingly innocent uh traversal of a collection turns into 10,000 database",
    "start": "1805240",
    "end": "1812960"
  },
  {
    "text": "requests um whoops so anyway but you can you can if you ask the database team",
    "start": "1812960",
    "end": "1818519"
  },
  {
    "text": "like how's your thing going they'd be like yeah we are serving requests so super fast like you guys got nothing to",
    "start": "1818519",
    "end": "1823960"
  },
  {
    "text": "worry about everything's great but by the way why are we doing like a million you know transaction per second or whatever cuz turns out they're uh",
    "start": "1823960",
    "end": "1831559"
  },
  {
    "text": "they're pointlessly doing these these tiny tiny little operations so you probably want you want",
    "start": "1831559",
    "end": "1838320"
  },
  {
    "start": "1835000",
    "end": "1943000"
  },
  {
    "text": "to get some kind of a tracing um you know to to understand the fan out um another surprising thing about this is",
    "start": "1838320",
    "end": "1846440"
  },
  {
    "text": "the uh the overhead from tracing can actually uh change the results so uh it",
    "start": "1846440",
    "end": "1852200"
  },
  {
    "text": "turns out it's a lot of work to actually do all this like tracing stuff and so you probably want to not Trace them all",
    "start": "1852200",
    "end": "1858200"
  },
  {
    "text": "but trace a statistically significant portion of them like 1% or something like pretty low um is I think what we do",
    "start": "1858200",
    "end": "1865760"
  },
  {
    "text": "um but really the the you know this this is you know not too surprising but the",
    "start": "1865760",
    "end": "1870919"
  },
  {
    "text": "real surprising thing to me anyway was implementing this kind of tracing behavior requires cross language context",
    "start": "1870919",
    "end": "1878559"
  },
  {
    "text": "propagation and this is in the way of so many other problems that we have right now which is because we have all those",
    "start": "1878559",
    "end": "1885440"
  },
  {
    "text": "different languages and they're all using different Frameworks if if we want to have we want to Plum through",
    "start": "1885440",
    "end": "1890840"
  },
  {
    "text": "something some kind of context about the request like what user it is or are they authenticated or what gense are they in",
    "start": "1890840",
    "end": "1897320"
  },
  {
    "text": "or like I don't know like there are all these things that we want to do and that becomes very very complicated if there's",
    "start": "1897320",
    "end": "1903880"
  },
  {
    "text": "no way to um if there's no place to put this context where you know it will be propagated and specifically I mean if",
    "start": "1903880",
    "end": "1911039"
  },
  {
    "text": "you take in a request and you make dependent requests based on that incoming request will you add in this",
    "start": "1911039",
    "end": "1918480"
  },
  {
    "text": "incoming context without even understanding it so there may be like fields in there that this that the the",
    "start": "1918480",
    "end": "1924880"
  },
  {
    "text": "the intermediate service doesn't even understand but it will send them along the way um to the ones down below um",
    "start": "1924880",
    "end": "1931320"
  },
  {
    "text": "this would have saved us so so much time uh and hassle uh had we added it a long",
    "start": "1931320",
    "end": "1937200"
  },
  {
    "text": "time ago or just PRI prioritized adding it but uh it just kind of didn't seem that important and turns out it",
    "start": "1937200",
    "end": "1943679"
  },
  {
    "start": "1943000",
    "end": "2098000"
  },
  {
    "text": "is so related to tracing of course is logging um a big perhaps it's no no",
    "start": "1943679",
    "end": "1950039"
  },
  {
    "text": "longer a surprise you're probably starting to see the pattern here but uh with a bunch of different languages and a bunch of teams and a bunch of people who are all very new you know half the",
    "start": "1950039",
    "end": "1956399"
  },
  {
    "text": "engineering team has been here less than six months so like that's you know everybody's pretty new um Everybody uh",
    "start": "1956399",
    "end": "1962919"
  },
  {
    "text": "might tend to log in very different incompatible ways and I think the the",
    "start": "1962919",
    "end": "1968880"
  },
  {
    "text": "answer there is to give everyone the the structure like the Mandate the mandates",
    "start": "1968880",
    "end": "1975840"
  },
  {
    "text": "are tricky to give them tools that are so so obvious and easy to use that they wouldn't do it any other way uh to get",
    "start": "1975840",
    "end": "1981399"
  },
  {
    "text": "uh consistent and structured logging and you know of course multiple languages make this hard and but even even worse",
    "start": "1981399",
    "end": "1988760"
  },
  {
    "text": "um when there are problems um logging itself can make those same problems",
    "start": "1988760",
    "end": "1994399"
  },
  {
    "text": "worse so something bad starts happening it's like you start logging a lot um now you've actually got a whole new problem",
    "start": "1994399",
    "end": "2000960"
  },
  {
    "text": "caused by like logging too much and then that can Cascade etc etc so having some kind of back pressure in the logs where",
    "start": "2000960",
    "end": "2007320"
  },
  {
    "text": "you'll actually just drop log messages if uh you can't log fast enough um",
    "start": "2007320",
    "end": "2012679"
  },
  {
    "text": "should have uh we we're slowly rolling that out um to you know to the various different platforms but um wish we had",
    "start": "2012679",
    "end": "2020080"
  },
  {
    "text": "put that in there sooner but I more importantly than all of that is I wish that we had added some notion of",
    "start": "2020080",
    "end": "2027200"
  },
  {
    "text": "accounting for uh all log messages because what happens to all these logs",
    "start": "2027200",
    "end": "2033279"
  },
  {
    "text": "is generally they get like indexed by something like a like an elk or a Splunk or you know some Hadoop you know some kind",
    "start": "2033279",
    "end": "2040320"
  },
  {
    "text": "of a thing takes all these log messages and you know let's build indexes on them so that people can like search to them",
    "start": "2040320",
    "end": "2046120"
  },
  {
    "text": "and like learn things but the amount of data that people log like if it's free",
    "start": "2046120",
    "end": "2052960"
  },
  {
    "text": "uh some people will uh log way more than other people without you know malicious intent they were just like I don't know",
    "start": "2052960",
    "end": "2059118"
  },
  {
    "text": "logs are free right I just made them um and without having some way to uh to",
    "start": "2059119",
    "end": "2065118"
  },
  {
    "text": "sort of Trace which you know which to some somebody to send a bill to so when the when the big elastic search cluster",
    "start": "2065119",
    "end": "2072240"
  },
  {
    "text": "that has to index all these things um you know starts running into capacity problems and needs to prune something um",
    "start": "2072240",
    "end": "2078398"
  },
  {
    "text": "like somebody can get that like feedback that hey maybe slow down with the logs already so we've uh We've we open",
    "start": "2078399",
    "end": "2084720"
  },
  {
    "text": "sourced a thing that we're building a lot of our new stuff with um on the Go Side called zap structured logging uh my",
    "start": "2084720",
    "end": "2090638"
  },
  {
    "text": "favorite part about it though uh is how fast it is uh zero allocations uh on every log so you might want to check",
    "start": "2090639",
    "end": "2097160"
  },
  {
    "text": "that out another thing that uh that comes up when when you know like like a problem",
    "start": "2097160",
    "end": "2104240"
  },
  {
    "start": "2098000",
    "end": "2225000"
  },
  {
    "text": "surprises uh that contains surprises um is around lad testing and so so we want",
    "start": "2104240",
    "end": "2110440"
  },
  {
    "text": "to um you we want to do these lad tests like before things go into production of course um that only makes sense but",
    "start": "2110440",
    "end": "2117359"
  },
  {
    "text": "unfortunately there's no way to build as big of a test environment as there is a production environment and even worse",
    "start": "2117359",
    "end": "2124560"
  },
  {
    "text": "there's no way to uh actually generate realistic traffic that um will exercise",
    "start": "2124560",
    "end": "2131280"
  },
  {
    "text": "kind of all of the problems that are that are lurking out there and so what we have started to do is run these load",
    "start": "2131280",
    "end": "2138000"
  },
  {
    "text": "tests against production um during off peak times and this causes a lot of",
    "start": "2138000",
    "end": "2144440"
  },
  {
    "text": "strange problems um the biggest one is that uh blows up all the metrics",
    "start": "2144440",
    "end": "2149599"
  },
  {
    "text": "suddenly everyone uh thinks that we're having way more traffic than than we actually do and that's you know in order",
    "start": "2149599",
    "end": "2157119"
  },
  {
    "text": "to to to fix that we're back to this context propagation problem again of if",
    "start": "2157119",
    "end": "2162160"
  },
  {
    "text": "you're load testing production but you want it you want people to not think that we're getting you know denial",
    "start": "2162160",
    "end": "2167599"
  },
  {
    "text": "serviced you have to make sure that all of those requests have some kind of context that says this is a test request",
    "start": "2167599",
    "end": "2174119"
  },
  {
    "text": "like don't increment the counters and don't freak people out and that has to Plum all the way through the system um",
    "start": "2174119",
    "end": "2180880"
  },
  {
    "text": "otherwise like someone's going to get someone's going to get sad but what we really want to do is we want to to run",
    "start": "2180880",
    "end": "2188000"
  },
  {
    "text": "load against all of our services all of the time even when there there is excess",
    "start": "2188000",
    "end": "2194280"
  },
  {
    "text": "capacity because we keep having these bugs where things there are latent bugs that",
    "start": "2194280",
    "end": "2199960"
  },
  {
    "text": "only show up when uh when the traffic hits its peak so we want to keep our",
    "start": "2199960",
    "end": "2206040"
  },
  {
    "text": "systems near their peaks um you know just just shy of them and then back off as the real traffic uh starts ramping up",
    "start": "2206040",
    "end": "2212920"
  },
  {
    "text": "um but that just makes this problem even even worse so I wish had we had started",
    "start": "2212920",
    "end": "2218440"
  },
  {
    "text": "Building Systems a long time ago that knew how to handle this test traffic and",
    "start": "2218440",
    "end": "2223520"
  },
  {
    "text": "uh sort of account for it differently so if you uh if you just saw saw Casey's talk like that was um uh you",
    "start": "2223520",
    "end": "2231319"
  },
  {
    "start": "2225000",
    "end": "2300000"
  },
  {
    "text": "know very very relevant stuff um we I was I was already super on board with",
    "start": "2231319",
    "end": "2236480"
  },
  {
    "text": "this idea of of failure testing you know uh chaos monkey Etc um it it's super",
    "start": "2236480",
    "end": "2242200"
  },
  {
    "text": "great um not here to try to convince you of that but a surprising thing that I found when getting this done was that um",
    "start": "2242200",
    "end": "2250760"
  },
  {
    "text": "not everybody likes it in fact a lot of people hate it um especially if you have to add it in later so if imagine you've",
    "start": "2250760",
    "end": "2258640"
  },
  {
    "text": "written the service and you think it's pretty great and you put it in production and then someone comes to you and says oh hey bye the way we're going",
    "start": "2258640",
    "end": "2264440"
  },
  {
    "text": "to start killing your thing now like you will feel bad like that's my baby I just spent all this time making it and now",
    "start": "2264440",
    "end": "2269800"
  },
  {
    "text": "you're going to kill it and it's probably G to I know users are probably going to notice and like this is going to be bad so what I wish that we had",
    "start": "2269800",
    "end": "2277640"
  },
  {
    "text": "done is made failure testing happen to you whether you liked it or not this is",
    "start": "2277640",
    "end": "2283200"
  },
  {
    "text": "not a decision this is just part of going into production is you just have to you just have to withstand these",
    "start": "2283200",
    "end": "2291280"
  },
  {
    "text": "sorts of random killings and slowing and you know perturbing of uh of your operation um because people probably",
    "start": "2291280",
    "end": "2298800"
  },
  {
    "text": "won't want to opt into it so another big surprise was",
    "start": "2298800",
    "end": "2304920"
  },
  {
    "start": "2300000",
    "end": "2458000"
  },
  {
    "text": "migrations um you know a lot of times uh people come you know hear like big uh uh",
    "start": "2304920",
    "end": "2311280"
  },
  {
    "text": "big companies come and they talk about how amazing their technology is or whatever and it's always like the new stuff that they just got working and",
    "start": "2311280",
    "end": "2316880"
  },
  {
    "text": "that's why they came to a tech talk because they want to talk about their new stuff and meanwhile you might think oh no my stuff it's like really bad and",
    "start": "2316880",
    "end": "2322920"
  },
  {
    "text": "old and we spend all our time doing migrations and it's mostly Legacy most of our stuff is Legacy well no surprise",
    "start": "2322920",
    "end": "2328560"
  },
  {
    "text": "all of our stuff is Legacy it's all migrations most of mostly like people who work on the storage like all they're",
    "start": "2328560",
    "end": "2334319"
  },
  {
    "text": "doing is migration they're just like some constant migration from one piece of legacy to another not quite so Legacy",
    "start": "2334319",
    "end": "2340920"
  },
  {
    "text": "thing um someone is always migrating something uh somewhere and that is I'm",
    "start": "2340920",
    "end": "2346880"
  },
  {
    "text": "pretty sure what everyone is doing uh in spite of what you might think uh when people come to conferences and give you",
    "start": "2346880",
    "end": "2352640"
  },
  {
    "text": "awesome talks about their new tech CU you know what the old stuff still has to work like you have to keep that business",
    "start": "2352640",
    "end": "2357760"
  },
  {
    "text": "working there's no such thing these days as a maintenance window there's no like going down uh to you know work on your",
    "start": "2357760",
    "end": "2364240"
  },
  {
    "text": "work on your service like even in off peak times you uh become a global business there are no off peak times",
    "start": "2364240",
    "end": "2370560"
  },
  {
    "text": "like it's always peak times somewhere right and I remember what I said before about like well what happened to like",
    "start": "2370560",
    "end": "2376280"
  },
  {
    "text": "these immutable microservices what are you like migrating um well that turns out to be the problem with uh with",
    "start": "2376280",
    "end": "2382680"
  },
  {
    "text": "making uh you know just abandoning things at some point as long as they keep working is at some point you might",
    "start": "2382680",
    "end": "2388280"
  },
  {
    "text": "need to make some kind of a crosscutting change and that's going to be very expensive if people haven't touched that",
    "start": "2388280",
    "end": "2395079"
  },
  {
    "text": "code in months and are afraid of ever touching it again because the last time we released it it was you know 6 months",
    "start": "2395079",
    "end": "2400200"
  },
  {
    "text": "ago um that's a that is a tricky problem and what I really wish that I knew was",
    "start": "2400200",
    "end": "2406720"
  },
  {
    "text": "that mandates to migrate are bad um I knew people wouldn't like it like I knew",
    "start": "2406720",
    "end": "2411880"
  },
  {
    "text": "it's like I never want to be told that I have to like adopt some new system but",
    "start": "2411880",
    "end": "2417000"
  },
  {
    "text": "specifically being you know making someone change just because the",
    "start": "2417000",
    "end": "2422400"
  },
  {
    "text": "organization needs to change versus offering a new system that is so much better that it will just be obvious that",
    "start": "2422400",
    "end": "2428560"
  },
  {
    "text": "you need to get on this new thing um I I wish I had uh placed the appropriate",
    "start": "2428560",
    "end": "2434200"
  },
  {
    "text": "priority on like pure pure carrots no sticks um anytime the sticks come out um",
    "start": "2434200",
    "end": "2440480"
  },
  {
    "text": "it's uh I'm I'm convinced it's bad I mean unless it's for like security or you know compliance reasons I think",
    "start": "2440480",
    "end": "2446440"
  },
  {
    "text": "those are kind of like the two Trump cards where you know it's probably okay to like force people to do stuff but um",
    "start": "2446440",
    "end": "2453240"
  },
  {
    "text": "as a you know someone working on architecture or infrastructure I think the carrots are the only way to go so",
    "start": "2453240",
    "end": "2459359"
  },
  {
    "start": "2458000",
    "end": "2562000"
  },
  {
    "text": "here's another uh another surprise um you know open source it's super fun right everybody loves open source um",
    "start": "2459359",
    "end": "2466079"
  },
  {
    "text": "this uh you know the build the build by tradeoff remains uh a non",
    "start": "2466079",
    "end": "2471800"
  },
  {
    "text": "unanimous uh you know non-common understood concept not everyone agrees where you should you what you should",
    "start": "2471800",
    "end": "2478000"
  },
  {
    "text": "build and what you should buy what you should you use from open source or what you should build internally um but I",
    "start": "2478000",
    "end": "2483359"
  },
  {
    "text": "would observe that anything that seems like infrastructure anything that seems like uh it's part of the platform and",
    "start": "2483359",
    "end": "2489720"
  },
  {
    "text": "not part of the product um even if it's something that just makes sense for you to build uh for yourself um at some",
    "start": "2489720",
    "end": "2496000"
  },
  {
    "text": "point it is on its way to becoming an undifferentiated commodity Amazon's going to offer it as a service or",
    "start": "2496000",
    "end": "2501240"
  },
  {
    "text": "someone's going to offer it as a service and eventually that thing that you're spending all your time like kind of this",
    "start": "2501240",
    "end": "2507200"
  },
  {
    "text": "platform you're spending all your time working on um someone else will do for cheaper and better um and as long as you",
    "start": "2507200",
    "end": "2513880"
  },
  {
    "text": "have that perspective I think that's very very healthy but that what I was surprised to learn is this will make a",
    "start": "2513880",
    "end": "2520359"
  },
  {
    "text": "lot of people sad um a lot of people um get really invested in their work and if",
    "start": "2520359",
    "end": "2525440"
  },
  {
    "text": "they're working on some kind of like lower level infrastructure platforming kind of thing um it it doesn't sound",
    "start": "2525440",
    "end": "2531400"
  },
  {
    "text": "good to hear that Amazon is just released your thing as a service like you still kind of try to rationalize why",
    "start": "2531400",
    "end": "2537480"
  },
  {
    "text": "we should use your private thing or or whatever and this this is not uh this is",
    "start": "2537480",
    "end": "2544000"
  },
  {
    "text": "not obvious um and it's again back to uh turns out there are people on the other",
    "start": "2544000",
    "end": "2549200"
  },
  {
    "text": "end of all these text editors um yeah I I I wish that I had I had known that uh",
    "start": "2549200",
    "end": "2555480"
  },
  {
    "text": "how different uh the understandings of of uh of this trade-off are amongst uh",
    "start": "2555480",
    "end": "2561359"
  },
  {
    "text": "in our industry which brings us to politics so these Services by breaking",
    "start": "2561359",
    "end": "2567680"
  },
  {
    "start": "2562000",
    "end": "2658000"
  },
  {
    "text": "everything up into small pieces it can allow people to play politics so it's",
    "start": "2567680",
    "end": "2573880"
  },
  {
    "text": "useful politics is one of these funny words like like a lot of people throw around um but I don't actually think",
    "start": "2573880",
    "end": "2579319"
  },
  {
    "text": "everyone knows what it means I will um a colleague of mine has a really great definition that that I like um he says",
    "start": "2579319",
    "end": "2585440"
  },
  {
    "text": "that politics happens whenever you violate this property so if you make a decision that violates this property",
    "start": "2585440",
    "end": "2591760"
  },
  {
    "text": "where you uh put the values of yourself above those of your team or the values",
    "start": "2591760",
    "end": "2597040"
  },
  {
    "text": "of your team above those of the company that anything uh you know decisions that",
    "start": "2597040",
    "end": "2602359"
  },
  {
    "text": "violate this property um are are politics um a a funny thing is that um",
    "start": "2602359",
    "end": "2608599"
  },
  {
    "text": "you in many environments like politics just means uh things I don't like oh that thing happened I don't like it",
    "start": "2608599",
    "end": "2614839"
  },
  {
    "text": "politics like that's the obvious reason right um but I think seriously like this this uh this property here is is a",
    "start": "2614839",
    "end": "2622440"
  },
  {
    "text": "useful one to consider and and it's one that by embracing highly modular you",
    "start": "2622440",
    "end": "2628800"
  },
  {
    "text": "know rapid development um hiring people very quickly and trying to release features as quickly as you can um it's",
    "start": "2628800",
    "end": "2636520"
  },
  {
    "text": "there there is a a Temptation um to to start violating these properties because",
    "start": "2636520",
    "end": "2642960"
  },
  {
    "text": "when you uh when you value shipping things you know shipping things in sort of like smaller individual",
    "start": "2642960",
    "end": "2649640"
  },
  {
    "text": "accomplishments it can be harder to uh to to sort of prioritize what is better",
    "start": "2649640",
    "end": "2655079"
  },
  {
    "text": "for the company um surprising trade-off but you know everything is a",
    "start": "2655079",
    "end": "2660599"
  },
  {
    "start": "2658000",
    "end": "2798000"
  },
  {
    "text": "trade-off and I think that uh you know if there's if there's one thing that that I that I learned from you know",
    "start": "2660599",
    "end": "2667119"
  },
  {
    "text": "going through this process is that I wish that I knew how to better make these trade-offs intentionally like",
    "start": "2667119",
    "end": "2674200"
  },
  {
    "text": "understand like when when things are just kind of like happening like without an explicit decision just because it",
    "start": "2674200",
    "end": "2679680"
  },
  {
    "text": "seems like this is just the way things are going it's just the momentum is heading in that direction like I wish",
    "start": "2679680",
    "end": "2685440"
  },
  {
    "text": "that I had uh that I had thought about what what tradeoffs were being made um",
    "start": "2685440",
    "end": "2690480"
  },
  {
    "text": "even though uh I wasn't explicitly like you know we weren't explicitly making them so anyway that's all I have thanks",
    "start": "2690480",
    "end": "2696240"
  },
  {
    "text": "a lot [Applause]",
    "start": "2696240",
    "end": "2704550"
  },
  {
    "text": "we have time for one question and there's like 30 questions here so oh",
    "start": "2706800",
    "end": "2712240"
  },
  {
    "text": "dear right given that you use RPC rest how do you avoid coupling between your",
    "start": "2712240",
    "end": "2717960"
  },
  {
    "text": "services how do I avoid what how do you avoid coupling oh uh H I",
    "start": "2717960",
    "end": "2725680"
  },
  {
    "text": "don't know I mean we don't in many cases I mean we do our best but like it happens like um yeah that that's part of",
    "start": "2725680",
    "end": "2732839"
  },
  {
    "text": "the problem I mean there's duplication sometimes and there's coupling sometimes and we you",
    "start": "2732839",
    "end": "2738400"
  },
  {
    "text": "know we try to like exercise um you know good engineering discipline and like we try to do failure testing and making",
    "start": "2738400",
    "end": "2743839"
  },
  {
    "text": "sure that like we surface like unexpected couplings but sometimes there",
    "start": "2743839",
    "end": "2749680"
  },
  {
    "text": "just is and especially like in Avail you know for like Downstream availability like a lot of times there's just nothing",
    "start": "2749680",
    "end": "2756480"
  },
  {
    "text": "you can do if a service you know there's some service like three you know three down the chain that if it's down there's",
    "start": "2756480",
    "end": "2763839"
  },
  {
    "text": "actually nothing there's no useful answer uh that you can degrade to and",
    "start": "2763839",
    "end": "2769480"
  },
  {
    "text": "that coupling just exists but we still it's important to remember what the trade-off is even though there's",
    "start": "2769480",
    "end": "2776000"
  },
  {
    "text": "coupling the teams can still uh they can still move independently they can still release their components independently",
    "start": "2776000",
    "end": "2781440"
  },
  {
    "text": "and monitor them understand them Etc but sometimes it does happen okay thank you remember to vote",
    "start": "2781440",
    "end": "2788000"
  },
  {
    "text": "in the app have a good break [Applause]",
    "start": "2788000",
    "end": "2794470"
  }
]