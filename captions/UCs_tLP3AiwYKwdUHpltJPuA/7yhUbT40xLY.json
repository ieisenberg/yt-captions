[
  {
    "text": "[Music]",
    "start": "2540",
    "end": "11320"
  },
  {
    "text": "so right thank you thank you so much for coming to my talk uh having your attention is an honor absolute honor and",
    "start": "11320",
    "end": "19000"
  },
  {
    "text": "I really appreciate you taking the time out of your day to listen to me Pratt on about containers how many of you have too many",
    "start": "19000",
    "end": "26720"
  },
  {
    "text": "containers no probably not all of you but many of you will eventually because believe me this is the thing that's",
    "start": "26720",
    "end": "32200"
  },
  {
    "text": "going to sweep everything away and change the game for all of us so one day you will all have too many containers if",
    "start": "32200",
    "end": "38160"
  },
  {
    "text": "you don't have today uh so once you do have lots of containers what do you do",
    "start": "38160",
    "end": "43399"
  },
  {
    "text": "and really it doesn't have to be having lots of containers today this kind of stuff we're going to talk about is",
    "start": "43399",
    "end": "49960"
  },
  {
    "text": "applicable anyway uh and feel free to use the tool to ask questions you can",
    "start": "49960",
    "end": "55920"
  },
  {
    "text": "also tweet me about any think you like throughout the day uh I I have to run off because of",
    "start": "55920",
    "end": "62120"
  },
  {
    "text": "Twickenham I lived that way and apparently it's going to be an absolute disaster this afternoon so I'm going to run off by about 2:00 but I'll be there",
    "start": "62120",
    "end": "69960"
  },
  {
    "text": "for lunch if you want to chat talk about cators or Google cloud or anything else not Android though uh I don't work",
    "start": "69960",
    "end": "76840"
  },
  {
    "text": "Android uh feel free and I'll be there uh so yeah tweet questions anything uh",
    "start": "76840",
    "end": "82600"
  },
  {
    "text": "hash go London so please tweet about the event and make it successful because",
    "start": "82600",
    "end": "87680"
  },
  {
    "text": "this is a really cool event and we should promote it as much as possible so what's this and I I'm learning Japanese",
    "start": "87680",
    "end": "95720"
  },
  {
    "text": "so I did this talk in Tokyo recently Kwa nesca and it's pretty much what I can",
    "start": "95720",
    "end": "102399"
  },
  {
    "text": "say in talks I'm I know quite a lot of Japanese but I'm not regular speaking it yet so I'll keep on trying but what is",
    "start": "102399",
    "end": "107880"
  },
  {
    "text": "this this is a data center a Google data center it's in uh Council Bluffs Iowa uh",
    "start": "107880",
    "end": "114240"
  },
  {
    "text": "wherever that is somewhere in the midwest in the US and this is what we call a cluster of machines there's lots",
    "start": "114240",
    "end": "121159"
  },
  {
    "text": "of machines and if I left it up for a long time you might be able to count them all one by one but this is what our",
    "start": "121159",
    "end": "127119"
  },
  {
    "text": "software Engineers our developers use to run their stuff so how do they run their",
    "start": "127119",
    "end": "132120"
  },
  {
    "text": "stuff what do they do do they kind of select a machine in a rack in a data centor and say uh let's have 2p into",
    "start": "132120",
    "end": "138519"
  },
  {
    "text": "that send my binary over SSH into it stand up my binary maybe do that many times across a whole number of machines",
    "start": "138519",
    "end": "146080"
  },
  {
    "text": "uh no they don't that's not going to work right I just absolutely no way they can do that it's not the best option so",
    "start": "146080",
    "end": "151440"
  },
  {
    "text": "what do they do so what they do is this they create a configuration file called a bul config uh we'll talk about bog",
    "start": "151440",
    "end": "158599"
  },
  {
    "text": "more shortly the configuration file has a name uh in this case it's a job it's called hell world so this is hello world",
    "start": "158599",
    "end": "165159"
  },
  {
    "text": "for the data center and they can say what cell they want to run in and a cell is a",
    "start": "165159",
    "end": "171440"
  },
  {
    "text": "subdivision of a cluster it's 10,000 machine say on which they can run their stuff so they're saying I want to run it",
    "start": "171440",
    "end": "177440"
  },
  {
    "text": "on the cell so the cell is the is the Target not a machine uh they can say",
    "start": "177440",
    "end": "182680"
  },
  {
    "text": "what their binary is and the binary would be a statically linked binary remember",
    "start": "182680",
    "end": "187879"
  },
  {
    "text": "those they they're coming back they're coming back all of that Dynamic linking",
    "start": "187879",
    "end": "193840"
  },
  {
    "text": "is going to go away so statically linked and includes the web server in this case this is hello world uh it has its web",
    "start": "193840",
    "end": "200640"
  },
  {
    "text": "server embedded in it it carries it around with it so we can just move this around and run anywhere we don't have to",
    "start": "200640",
    "end": "206000"
  },
  {
    "text": "worry about what's on the machine we just run ultimately a run inside a container we have very lightweight",
    "start": "206000",
    "end": "211080"
  },
  {
    "text": "containers at Google and we've been using them for a long time and that's one of the reasons why we worked with",
    "start": "211080",
    "end": "216599"
  },
  {
    "text": "Linux to uh Implement cgroups and Nam spaces which we're not going to talk about too much today but I'm happy to",
    "start": "216599",
    "end": "222599"
  },
  {
    "text": "answer questions and so this is the binary we have that arguments as well",
    "start": "222599",
    "end": "228280"
  },
  {
    "text": "this is a web server we need a port uh requirements resource requirements this is interesting okay how much RAM does it",
    "start": "228280",
    "end": "234680"
  },
  {
    "text": "need what do we think it needs how much dis does it need how much CPU does it need 0.1 of CPU that's prettyy",
    "start": "234680",
    "end": "241480"
  },
  {
    "text": "good uh and we can also say how many copies of it we want to run want five",
    "start": "241480",
    "end": "248000"
  },
  {
    "text": "maybe uh although this is Google scale so maybe 10,000 10,000 is pretty good right so let's run 10,000 of these",
    "start": "248000",
    "end": "255000"
  },
  {
    "text": "things and me as an engineer working at Google I could do this I don't need any special privileges uh I can go off and",
    "start": "255000",
    "end": "261400"
  },
  {
    "text": "run this thing and nobody will complain nobody can say what are you doing running 10 H worlds uh because that's",
    "start": "261400",
    "end": "267800"
  },
  {
    "text": "fine apparently so that's what we do it's all declarative uh we create the",
    "start": "267800",
    "end": "273199"
  },
  {
    "text": "binary obviously we have a build system uh the build system is now available externally called basil on GitHub uh so",
    "start": "273199",
    "end": "280600"
  },
  {
    "text": "you want access to our distributed parallel build system that's available as well uh and why am I telling you all",
    "start": "280600",
    "end": "288039"
  },
  {
    "text": "this I'll tell you why I'm telling you all this in a minute uh the developer view of this so after 2 minutes 40",
    "start": "288039",
    "end": "294280"
  },
  {
    "text": "seconds we ramp up and we do ramp up we don't try to start them all at once because it doesn't make sense to do that",
    "start": "294280",
    "end": "300400"
  },
  {
    "text": "uh the binary is 50 megabytes inside so we have like 2 gbits per second of data to move around lots of caching going on",
    "start": "300400",
    "end": "306280"
  },
  {
    "text": "but we have to ramp this up reasonably slowly so that's all part of the system ramp up uh 2 minutes 40 seconds we have",
    "start": "306280",
    "end": "313759"
  },
  {
    "text": "10,000 in Le or so maybe not quite 10,000 I don't go I'm not going to go into details of that but there's another",
    "start": "313759",
    "end": "319520"
  },
  {
    "text": "talk online where I do uh and there's various reasons why we may not reach 10,000 uh but that's because of the",
    "start": "319520",
    "end": "326080"
  },
  {
    "text": "sheer number we're running uh so but I can tell more that as well if you need",
    "start": "326080",
    "end": "331120"
  },
  {
    "text": "to know more uh so what just happened this is a typical cell the what the cell",
    "start": "331120",
    "end": "337800"
  },
  {
    "text": "looks like uh Bor is our Schuler is our cluster Schuler it schedules our containers for us so this is the thing",
    "start": "337800",
    "end": "344240"
  },
  {
    "text": "that replaces the guy Happ to SFTP into a machine and stand up a binary or G",
    "start": "344240",
    "end": "349600"
  },
  {
    "text": "should say sorry and what we have here is a bul master",
    "start": "349600",
    "end": "355319"
  },
  {
    "text": "this is the thing that controls everything in the cell it's highly replicated it's very resilient uh five",
    "start": "355319",
    "end": "360360"
  },
  {
    "text": "copies uh and we have lots of machines down here uh these are the nodes or the",
    "start": "360360",
    "end": "366960"
  },
  {
    "text": "machines in aack that you saw earlier right uh see these all run in a thing called a ballit so what happens is this the",
    "start": "366960",
    "end": "374800"
  },
  {
    "text": "developer compiles the binary and it gets pushed out to some centralized store for the cell cell level storage",
    "start": "374800",
    "end": "382120"
  },
  {
    "text": "and then they create the configuration file they run a command bul CFG on the command line and push that configuration",
    "start": "382120",
    "end": "388800"
  },
  {
    "text": "file out to the B Master this goes into a persistent store this is paas based",
    "start": "388800",
    "end": "394400"
  },
  {
    "text": "consensus based uh and we're using p we haven't got called on on raft yet uh so",
    "start": "394400",
    "end": "399960"
  },
  {
    "text": "I'm not going to get into a kind of religious debate about that either though but and then we have now a state",
    "start": "399960",
    "end": "406000"
  },
  {
    "text": "of the system this is what it is currently and is what we want it to be so we've just now said we want 10,000 of",
    "start": "406000",
    "end": "412880"
  },
  {
    "text": "these and the schedule that comes along says what's the state of the system compare it against the state to what it",
    "start": "412880",
    "end": "418120"
  },
  {
    "text": "should be ah I should have 10 these running they're not running I'll fix that so it goes off and fixes it it",
    "start": "418120",
    "end": "423400"
  },
  {
    "text": "creates a plan then it talks to each of the machines uh it did it's chosen to run this job and says please run this",
    "start": "423400",
    "end": "429520"
  },
  {
    "text": "for me the machine will go and get the binary from storage and it will run that and then ultimately we have that we have",
    "start": "429520",
    "end": "437440"
  },
  {
    "text": "lots of Hello worlds right okay so why is that",
    "start": "437440",
    "end": "443599"
  },
  {
    "text": "relevant because basically kues which is what we're talking about today is our",
    "start": "443599",
    "end": "449520"
  },
  {
    "text": "attempts to give everybody that kind of thing allow everybody to do exactly what we do within internally within Google",
    "start": "449520",
    "end": "456000"
  },
  {
    "text": "because this is the way we're going to do this things in the future this is the way it's going to be things will change",
    "start": "456000",
    "end": "461280"
  },
  {
    "text": "those machines that we had before they're going to go away you know we're going to have clusters of machines and we're going to be running cluster",
    "start": "461280",
    "end": "467120"
  },
  {
    "text": "schedulers things that will intelligently run our stuff for us somewhere somewhere and we don't know",
    "start": "467120",
    "end": "473000"
  },
  {
    "text": "where or at least not exactly it's a bit like Heisenberg's uncertainty principle",
    "start": "473000",
    "end": "478840"
  },
  {
    "text": "we know big it is but we don't know where it is and so we're going to use a typical application for this a very typical uh",
    "start": "478840",
    "end": "486080"
  },
  {
    "text": "lampy lampy type is such a thing as a lampy stack uh so it's a lampy lampy",
    "start": "486080",
    "end": "491479"
  },
  {
    "text": "stack that has PHP uh many PHP front ends a MySQL which we'll cover lately",
    "start": "491479",
    "end": "498000"
  },
  {
    "text": "later uh how do we do this with cl with our containers traditional mcache and we",
    "start": "498000",
    "end": "503199"
  },
  {
    "text": "have a client consuming or clients consuming those Services exposed by the PHP",
    "start": "503199",
    "end": "508440"
  },
  {
    "text": "application and by the way uh i't got a side introducing me I'm Mandy wa I'm a",
    "start": "508440",
    "end": "513719"
  },
  {
    "text": "developer Advocate I normally have a side left it out I'm a developer advocate for Google uh and I work on cloud exclusively if you want me to talk",
    "start": "513719",
    "end": "521479"
  },
  {
    "text": "to me oh go to London slipped off go to London should be on all my slide sorry",
    "start": "521479",
    "end": "527120"
  },
  {
    "text": "Nikki g o t o l DN hash it's a hashtag so you can get me on Tech if you want to",
    "start": "527120",
    "end": "533920"
  },
  {
    "text": "talk about kubernetes generally hash kubernetes okay so let's talk about",
    "start": "533920",
    "end": "539040"
  },
  {
    "text": "contains how many of you are familiar with containers do Docker specifically how many of you have spun",
    "start": "539040",
    "end": "544320"
  },
  {
    "text": "up your own container actually created a container many of you okay I'm going to run through this very quickly just for the benefit of people who aren't as",
    "start": "544320",
    "end": "551160"
  },
  {
    "text": "familiar but I won't spend too much time on what containers are uh so this is the old way we used to do things we used to",
    "start": "551160",
    "end": "556880"
  },
  {
    "text": "have a machine U next to our desk and it moved into a server room we probably had a name for it we could probably log into",
    "start": "556880",
    "end": "563079"
  },
  {
    "text": "GR which is my machine's name is called gr and if anybody knows what the reference is please let me know because",
    "start": "563079",
    "end": "569760"
  },
  {
    "text": "uh Lord of the Rings so shared machines we would run everything on the machine",
    "start": "569760",
    "end": "576279"
  },
  {
    "text": "stand up the machine run this stuff and the green app the green application in this case may be a really important",
    "start": "576279",
    "end": "582959"
  },
  {
    "text": "business critical application and the red one may be something really silly and the red one may one day go completely mad and consume all of our",
    "start": "582959",
    "end": "589600"
  },
  {
    "text": "CPU and all of our memory and take the machine down and take down our production machine Production Services",
    "start": "589600",
    "end": "595079"
  },
  {
    "text": "completely no isolation uh we can't guarantee that one application break another uh there's no name spacing they",
    "start": "595079",
    "end": "602120"
  },
  {
    "text": "all have exactly the same view of what the system looks like there are no common libraries uh well sorry that's",
    "start": "602120",
    "end": "609800"
  },
  {
    "text": "not what I meant to say there are common libraries uh these libraries are shared so uh with Dynamic Linkin pretty good",
    "start": "609800",
    "end": "616560"
  },
  {
    "text": "works pretty well but sometimes you may find you may update an application or install a new one and something changes",
    "start": "616560",
    "end": "623040"
  },
  {
    "text": "your libraries and may break something for something else that has a specific dependency on a library does doesn't",
    "start": "623040",
    "end": "629519"
  },
  {
    "text": "happen very often uh if it's well wrd it shouldn't happen but it does happen occasionally and ultimately the",
    "start": "629519",
    "end": "634600"
  },
  {
    "text": "applications are highly coupled uh to your operating",
    "start": "634600",
    "end": "640720"
  },
  {
    "text": "system so then we have virtual machines We have basically now",
    "start": "641680",
    "end": "648880"
  },
  {
    "text": "introduced a a hypervisor a layer of idealized hardware on top of the actual Hardware so it looks like Hardware it's",
    "start": "648880",
    "end": "655760"
  },
  {
    "text": "not really Hardware but to operating systems running on that system it looks like a piece of Hardware idealized",
    "start": "655760",
    "end": "662279"
  },
  {
    "text": "Hardware hypervisor now we can run individual virtual machines for every",
    "start": "662279",
    "end": "667480"
  },
  {
    "text": "single app if we wanted to so we could have one uh machine body red app one",
    "start": "667480",
    "end": "672880"
  },
  {
    "text": "machine body the green app and they won't uh impact each other now when something breaks there's some possibility that it could happen but",
    "start": "672880",
    "end": "679639"
  },
  {
    "text": "very unlikely but if anybody's had to manage a large number of uh virtual machines",
    "start": "679639",
    "end": "686360"
  },
  {
    "text": "you know that that's quite difficult as well you have to actually install these things configure them uh just like you would at any kind of normal machine also",
    "start": "686360",
    "end": "693440"
  },
  {
    "text": "the application is still highly coupled to the gestos and this whole uh setup scenario can be hard to manage the new",
    "start": "693440",
    "end": "700000"
  },
  {
    "text": "ways containers and now we move up the stack we take this ideal idealized piece",
    "start": "700000",
    "end": "705120"
  },
  {
    "text": "of Hardware we move uper level and now we have an idealized operating system on which we can run things and those things",
    "start": "705120",
    "end": "711240"
  },
  {
    "text": "that we run are containers uh often Docker containers in the future there will be standards around containers we",
    "start": "711240",
    "end": "716839"
  },
  {
    "text": "will have many different container formats but hopefully there will will be a a open container initiative uh",
    "start": "716839",
    "end": "722279"
  },
  {
    "text": "standard container format that they will all comply to uh they will add value Docker will add value uh core OS will",
    "start": "722279",
    "end": "729000"
  },
  {
    "text": "add value with rocket Etc and so containers are the new thing and they're great wanted to just quickly mention",
    "start": "729000",
    "end": "735680"
  },
  {
    "text": "this as well because we're going to talk about volumes shortly uh containers Docker containers specifically are",
    "start": "735680",
    "end": "741279"
  },
  {
    "text": "created from images and the images are built up in layers uh so we have read",
    "start": "741279",
    "end": "746320"
  },
  {
    "text": "read only layers upon layer upon layer and we have a read right layer at the top which is our application uh so",
    "start": "746320",
    "end": "752880"
  },
  {
    "text": "that's how it's all built up in this case we have Debian we have libraries we have PHP and Apache then we have our",
    "start": "752880",
    "end": "758360"
  },
  {
    "text": "application code sitting on top of it and this is all copy and right at the top layer uh so the whole process will",
    "start": "758360",
    "end": "765720"
  },
  {
    "text": "be to build an image uh push it to a repository and this could be uh Hub",
    "start": "765720",
    "end": "770800"
  },
  {
    "text": "dod.com or hub. docker.io as it's called now and it could also be some private",
    "start": "770800",
    "end": "777480"
  },
  {
    "text": "repository something that's specific to you uh then you'll pull it back to the execution host which could be different",
    "start": "777480",
    "end": "782560"
  },
  {
    "text": "from the machine you built it on then you'll start the container from that Mage that's how the whole process works",
    "start": "782560",
    "end": "788199"
  },
  {
    "text": "and images have layers as I said uh I'm not going to go into too much detail I",
    "start": "788199",
    "end": "793240"
  },
  {
    "text": "was going to but I'm kind of worried about the time so let's move on and ultimately we can mount a host directory",
    "start": "793240",
    "end": "799240"
  },
  {
    "text": "as well and this is important when we get to databases shortly uh so it's it's possible to mount a host directory into",
    "start": "799240",
    "end": "805240"
  },
  {
    "text": "the container's file system its view of its own file system uh and these are completely mutable they don't outlive",
    "start": "805240",
    "end": "811480"
  },
  {
    "text": "the container and they're only available on one specific host on the actual host you mount them one you you can move them around and they can mount a different",
    "start": "811480",
    "end": "818160"
  },
  {
    "text": "directory maybe the same path but it will actually be a different directory so there's a possibility that the state",
    "start": "818160",
    "end": "823639"
  },
  {
    "text": "of one container run on one machine may be different from the states of a container run on another important note",
    "start": "823639",
    "end": "830440"
  },
  {
    "text": "then we have a Docker example so Docker is the canonical container format that everybody's using and it's pretty",
    "start": "830440",
    "end": "837040"
  },
  {
    "text": "impressive I uh I saw some hik talk two years ago at dot scale in Paris and it was extremely impressive the way he he",
    "start": "837040",
    "end": "844120"
  },
  {
    "text": "compared it to shipping containers uh so if you've heard that analogy it works so well and here so we have some containers",
    "start": "844120",
    "end": "850880"
  },
  {
    "text": "we have uh our application code running on top of PHP and Apache we have mcash D and we have",
    "start": "850880",
    "end": "857079"
  },
  {
    "text": "MySQL uh for the PHP and Apache and mcash case we have those layers some of",
    "start": "857079",
    "end": "863560"
  },
  {
    "text": "those layers are common in this case the library uh the lower level libraries are common between both but also have their",
    "start": "863560",
    "end": "869639"
  },
  {
    "text": "own libraries and MySQL is completely separate it has it all of its own dependencies and beneath that we have",
    "start": "869639",
    "end": "876800"
  },
  {
    "text": "some operating system uh and we have server and server a server uh which",
    "start": "876800",
    "end": "883199"
  },
  {
    "text": "could be a bare metal server it could be a virtual machine it could be your laptop it could be pretty much anything",
    "start": "883199",
    "end": "888240"
  },
  {
    "text": "you can run Docker on and the docker engine is the runtime effectively for containers and it's the thing that",
    "start": "888240",
    "end": "894360"
  },
  {
    "text": "manages running the containers and also manages the processes of creating them the do command pretty much does all",
    "start": "894360",
    "end": "901079"
  },
  {
    "text": "things uh and that's kind of crazy so why containers uh I'll go",
    "start": "901079",
    "end": "908000"
  },
  {
    "text": "through this quite a lot but basically containers are awesome so just let's use lots of them right that's the best thing to say we can go back to that but you",
    "start": "908000",
    "end": "915000"
  },
  {
    "text": "know this probably okay so performance they're quick to create uh once you pulled down",
    "start": "915000",
    "end": "920680"
  },
  {
    "text": "an image and cach it locally they're very quick to spin up uh they offer repeatability so whenever you create an",
    "start": "920680",
    "end": "926079"
  },
  {
    "text": "image uh you can pretty much guarantee that every time you run that image it will be the same uh quality of service",
    "start": "926079",
    "end": "932639"
  },
  {
    "text": "you have resource isolation you can allocate resources like we saw the Google engineer earlier she would",
    "start": "932639",
    "end": "938560"
  },
  {
    "text": "allocate x amount of memory x amount of uh CPU or would at least request that",
    "start": "938560",
    "end": "944240"
  },
  {
    "text": "and we so we can specify quality of service for these things when they're running uh accounting is very easy these",
    "start": "944240",
    "end": "949639"
  },
  {
    "text": "things are small easy to spin up and easy to manage and easy to track portability is probably the most",
    "start": "949639",
    "end": "954839"
  },
  {
    "text": "important part you can move these things from one machine to another uh from a laptop from a testing server to a",
    "start": "954839",
    "end": "960920"
  },
  {
    "text": "production server so all the way from Dev to uh test to prod and that's a very",
    "start": "960920",
    "end": "966680"
  },
  {
    "text": "important use case for Docker containers today but one day everything will be in the container believe me really I me",
    "start": "966680",
    "end": "973480"
  },
  {
    "text": "everybody at Google knows I'll spin up a container with it you know I'll put Chrome into a container you know because",
    "start": "973480",
    "end": "979440"
  },
  {
    "text": "then I can stop it from eating all my memory which is pretty cool I love",
    "start": "979440",
    "end": "985800"
  },
  {
    "text": "Chrome this is a fundamentally different way of managing application and it's going to change your life and I've said",
    "start": "985800",
    "end": "991440"
  },
  {
    "text": "this to people many times now that in a couple years time I'll talk somewhere if I'm still able to uh and you say to me",
    "start": "991440",
    "end": "998440"
  },
  {
    "text": "Mandy you told me about kuat years ago and you were right it's changed my life everything's different I no longer have",
    "start": "998440",
    "end": "1004040"
  },
  {
    "text": "a job no no you won't say that hopefully you'll say I do have a job because Mandy told me about kuat really early on and I",
    "start": "1004040",
    "end": "1010639"
  },
  {
    "text": "got on the bound wagon really quickly so containers are awesome let's use lots of them uh demo a demo I was going to do a",
    "start": "1010639",
    "end": "1017759"
  },
  {
    "text": "demo am I going to do a demo yeah okay so I'm cheating because I'm using",
    "start": "1017759",
    "end": "1024199"
  },
  {
    "text": "my history but my typing is absolutely pulling and it would take me like half an hour just to write this one command so what we're going to do here is use a",
    "start": "1024199",
    "end": "1030280"
  },
  {
    "text": "command called Cube cotle uh and this is going to allow us to actually deploy a container uh to uh kuat we'll talk more",
    "start": "1030280",
    "end": "1037640"
  },
  {
    "text": "about kuat shortly uh we're going to use a Docker image uh the docker image is here meash d uh version 1.4 uh we're",
    "start": "1037640",
    "end": "1045798"
  },
  {
    "text": "going to specify a port and we're going to specify some labels going talk about label shortly uh and I have here if it's",
    "start": "1045799",
    "end": "1053240"
  },
  {
    "text": "still running which is not it's stopped internal server error no we have a a",
    "start": "1053240",
    "end": "1059600"
  },
  {
    "text": "proxy basically uh with a a web UI that is sort to the kubat's API and not",
    "start": "1059600",
    "end": "1067240"
  },
  {
    "text": "resizing the window which is kind of weird okay do that then and if I run this now",
    "start": "1067240",
    "end": "1076120"
  },
  {
    "text": "we should see a container so this is mcash it's",
    "start": "1076120",
    "end": "1081679"
  },
  {
    "text": "yellow currently which means it's pending uh and it has what we call a replication controller we talk about",
    "start": "1081679",
    "end": "1086799"
  },
  {
    "text": "these more shortly one day I'm going to get rid of all my slides and I'm just going to use this to go for my entire talk I'm not quite there yet with it uh",
    "start": "1086799",
    "end": "1094159"
  },
  {
    "text": "so we have a container which is a gray one and we had this thing called a replication controller and we could",
    "start": "1094159",
    "end": "1099600"
  },
  {
    "text": "potentially and I have to make this command up as I go expose that as a",
    "start": "1099600",
    "end": "1105400"
  },
  {
    "text": "service and we're going to get into the services as well shortly uh but we can do",
    "start": "1105400",
    "end": "1111720"
  },
  {
    "text": "this and that will create a service for us and effectively allow us to access mcash do through this shim layer called",
    "start": "1111880",
    "end": "1119200"
  },
  {
    "text": "a service and we'll talk about that more shortly but now we have a whole configuration we have a an endpoint with",
    "start": "1119200",
    "end": "1124760"
  },
  {
    "text": "an IP address we have mcash running and we have something to actually manage our mcash",
    "start": "1124760",
    "end": "1130360"
  },
  {
    "text": "processes so let's go oh I'm got to delete that because I know it's going to break later if I",
    "start": "1130360",
    "end": "1136000"
  },
  {
    "text": "don't uh so I'm going to do C cotal get",
    "start": "1136000",
    "end": "1143600"
  },
  {
    "text": "RC for M Cas unsurprising and Cube cotle stop RC m d",
    "start": "1143600",
    "end": "1153159"
  },
  {
    "text": "I keep dropping the D at the end right so they should be gone now and",
    "start": "1153159",
    "end": "1159880"
  },
  {
    "text": "oh the service isn't gone o it",
    "start": "1159880",
    "end": "1164080"
  },
  {
    "text": "isn't",
    "start": "1167720",
    "end": "1170720"
  },
  {
    "text": "and that's also called M casd oh Services I always forget that seems",
    "start": "1174440",
    "end": "1180919"
  },
  {
    "text": "logical just to say delete MCD right okay I did that today it's",
    "start": "1180919",
    "end": "1186559"
  },
  {
    "text": "probably a bit mysterious so let's talk about kubernetes and let's do some live",
    "start": "1186559",
    "end": "1191760"
  },
  {
    "text": "editing of slides it should you should really create your slides while you're giving your talk I me that's really the best way",
    "start": "1191760",
    "end": "1197440"
  },
  {
    "text": "forward just so much more interesting in in that way right and the Wi-Fi is working great",
    "start": "1197440",
    "end": "1204120"
  },
  {
    "text": "isn't it it's really cool we don't notice it we don't say when it's working great we go to conferences it never works and we swear and we we tweet and",
    "start": "1204120",
    "end": "1211000"
  },
  {
    "text": "we say horrible things but when it works brilliantly we don't say anything it's working brilliantly today so kues how",
    "start": "1211000",
    "end": "1216720"
  },
  {
    "text": "many of you have heard of kues okay right how many of you actually want to know more about it well just",
    "start": "1216720",
    "end": "1222360"
  },
  {
    "text": "already know so much about it that we don't care anymore all right so kubernetes is uh something that uh it's",
    "start": "1222360",
    "end": "1228840"
  },
  {
    "text": "an open source project basically that we launched last year uh and which is open to everybody and has lots of",
    "start": "1228840",
    "end": "1234120"
  },
  {
    "text": "contributors and committers uh from all over the place from Microsoft from Amazon from coreos from mesosphere from",
    "start": "1234120",
    "end": "1240240"
  },
  {
    "text": "Red Hat everybody's contributing to this thing so it's not just Google it's a a real we're not we're not like a single",
    "start": "1240240",
    "end": "1246640"
  },
  {
    "text": "contributor uh kind of model for an open source project and the word itself how many of you know how to say Cuates",
    "start": "1246640",
    "end": "1254320"
  },
  {
    "text": "because I'm quite happy to stand outside late and help you uh say it properly",
    "start": "1254320",
    "end": "1259520"
  },
  {
    "text": "it's harder to do with other people Japanese have real find this really easy because it's made of Japanese",
    "start": "1259520",
    "end": "1265960"
  },
  {
    "text": "syllables uh so good mates is effectively a orchestrator or a scheduler for Docker containers and it",
    "start": "1265960",
    "end": "1272520"
  },
  {
    "text": "supports multiple Cloud environments it will run on Amazon it runs on uh Microsoft Azure it runs on Google Cloud",
    "start": "1272520",
    "end": "1278400"
  },
  {
    "text": "runs on top of mesosphere Red Hat use it for open shift and there's many many different youth cases uh and there's",
    "start": "1278400",
    "end": "1285080"
  },
  {
    "text": "lots of new stuff coming along in the pipeline you're going to be quite amazed how many people are going to be using kubernetes uh this is inspired and",
    "start": "1285080",
    "end": "1291840"
  },
  {
    "text": "informed by everything we saw earlier all of that stuff I showed you earlier actually had a point uh because basically we've learned uh through our",
    "start": "1291840",
    "end": "1298200"
  },
  {
    "text": "ball Schuler how to build a cluster Schuler or a container scheduler and we",
    "start": "1298200",
    "end": "1303559"
  },
  {
    "text": "think kubat is ultimately going to be better than what we built with Borg because we have technical debt everybody",
    "start": "1303559",
    "end": "1309320"
  },
  {
    "text": "has technical debt uh and there are things we would change about Bor if we could go back in time but we can't",
    "start": "1309320",
    "end": "1315480"
  },
  {
    "text": "really change them now so now we're going to be introducing kubernetes and while it doesn't do everything the bul",
    "start": "1315480",
    "end": "1320600"
  },
  {
    "text": "does today it will do eventually uh it's open source written and go and it's",
    "start": "1320600",
    "end": "1326000"
  },
  {
    "text": "basically there for managing applications not machines forget about machines we don't care about machines anymore Concepts uh we're going to go",
    "start": "1326000",
    "end": "1333000"
  },
  {
    "text": "through these one by one but we have containers pods Services volumes nodes replication controllers and labels W",
    "start": "1333000",
    "end": "1339320"
  },
  {
    "text": "that's a lot that's quite sad really but we'll try to do our best to explain",
    "start": "1339320",
    "end": "1345039"
  },
  {
    "text": "them so developer view uh kubernetes this is what what we saw with uh uh bul",
    "start": "1345039",
    "end": "1350559"
  },
  {
    "text": "earlier it's very similar uh we use the same colors at least uh and we have a",
    "start": "1350559",
    "end": "1356080"
  },
  {
    "text": "kues master kues master is there to schedule our containers for us it has a schedul component it has this thing",
    "start": "1356080",
    "end": "1362360"
  },
  {
    "text": "called a replication controller uh it has an API the API is brilliant that's what we're using the for the",
    "start": "1362360",
    "end": "1367600"
  },
  {
    "text": "visualization uh the API is used by all of the external tools a thing called Cottle the command we run the proxy that",
    "start": "1367600",
    "end": "1374320"
  },
  {
    "text": "we're using to uh do the web UI your application we use this as well we have a cube user interface which shows you",
    "start": "1374320",
    "end": "1381080"
  },
  {
    "text": "the utilization of your nodes and your cluster where your pods are running uh which is connected to you via web",
    "start": "1381080",
    "end": "1386279"
  },
  {
    "text": "browsers and we have nodes nodes very similar they don't run ball lits they run KU blits and we also have a thing",
    "start": "1386279",
    "end": "1392080"
  },
  {
    "text": "called a container registry so this is like our cluster our cell level cell level storage this is where we push",
    "start": "1392080",
    "end": "1397400"
  },
  {
    "text": "images to and we could push them to Docker we could push them to our own private container registry uh in the",
    "start": "1397400",
    "end": "1404080"
  },
  {
    "text": "cloud and we have the ability to run this stuff cators on a toop using",
    "start": "1404080",
    "end": "1409559"
  },
  {
    "text": "virtual box uh we can build a highly available multi no multi node cluster uh",
    "start": "1409559",
    "end": "1415760"
  },
  {
    "text": "this can be hosted so we provide a a hosted version of kubat called Google comput Google Computing Google container",
    "start": "1415760",
    "end": "1422320"
  },
  {
    "text": "engine or you can manage it yourself it could be on running on your on pre on",
    "start": "1422320",
    "end": "1427440"
  },
  {
    "text": "premise Services services or your on premise servers so if you have like 100",
    "start": "1427440",
    "end": "1433159"
  },
  {
    "text": "servers lying around doing nothing because you moved everything to the cloud you could just run culat on it and it be really really good use for them",
    "start": "1433159",
    "end": "1439520"
  },
  {
    "text": "you can find in the cloud on bare metal virtual machines and there's many many different options U and you can see",
    "start": "1439520",
    "end": "1445520"
  },
  {
    "text": "those options in The Matrix there so if anybody doesn't have time to get that link I'm happy to point you to it",
    "start": "1445520",
    "end": "1452960"
  },
  {
    "text": "later so what do we run on the nodes containers that's when it should have done the demo now so that demo I did",
    "start": "1452960",
    "end": "1460919"
  },
  {
    "text": "earlier was this demo here but I added that on the train this morning",
    "start": "1460919",
    "end": "1466840"
  },
  {
    "text": "so pods this talk about pods so what we saw earlier we run a container we said",
    "start": "1466840",
    "end": "1471919"
  },
  {
    "text": "this is the image I want you to run a container for me what it actually did was create a pod a pod is uh the atom of",
    "start": "1471919",
    "end": "1479120"
  },
  {
    "text": "scheduling for containers on cubanes so when we schedule anything it will be in a pod and we could have a container in a",
    "start": "1479120",
    "end": "1488760"
  },
  {
    "text": "pod one container or we could have two containers in a pod like peas in a pod or we can have more than two where it",
    "start": "1488760",
    "end": "1496240"
  },
  {
    "text": "makes sense to and you think of these pods has being like logical host when you used to install a machine with",
    "start": "1496240",
    "end": "1501640"
  },
  {
    "text": "Apache and maybe with a CMS like an Archer or jaal when it makes sense of run them side by side uh then that makes",
    "start": "1501640",
    "end": "1508880"
  },
  {
    "text": "sense to run them in a pod uh where they live and die together where one doesn't make sense without the other uh so when",
    "start": "1508880",
    "end": "1514320"
  },
  {
    "text": "you can pull the plug on this one it goes away uh you haven't got some container does no longer do anything running so where it makes sense to run",
    "start": "1514320",
    "end": "1521000"
  },
  {
    "text": "them together you put them in a pod uh these are ephemeral they can die and they can be replaced uh so uh no State",
    "start": "1521000",
    "end": "1528039"
  },
  {
    "text": "they don't don't contain State they contain temporary State uh but they shouldn't contain important State uh",
    "start": "1528039",
    "end": "1534440"
  },
  {
    "text": "business critical State and we've already seen that a single container pod can be created directly from a container",
    "start": "1534440",
    "end": "1540279"
  },
  {
    "text": "image and so here's an example of how we would couple them together uh how we'd have a logical host running a node.js",
    "start": "1540279",
    "end": "1547080"
  },
  {
    "text": "application and also something that synchronizes with get and so this is a typical push to deploy scenario where",
    "start": "1547080",
    "end": "1553600"
  },
  {
    "text": "your developers would push something out to git maybe it's a GitHub and you have something running in the container",
    "start": "1553600",
    "end": "1559919"
  },
  {
    "text": "that's saying I'm looking at this git repository or this GitHub repository and whenever I see any changes I'm going to",
    "start": "1559919",
    "end": "1565520"
  },
  {
    "text": "pull those changes down store them on a volume within the Pod we'll talk about volume shortly and the nodejs",
    "start": "1565520",
    "end": "1572080"
  },
  {
    "text": "application will now pick up those changes and start serving those changes so it's pushed to deploy effectively you deploy your changes to get and they",
    "start": "1572080",
    "end": "1578240"
  },
  {
    "text": "automatically get deployed to your uh runin application so continuous deployment almost containers are tightly",
    "start": "1578240",
    "end": "1584559"
  },
  {
    "text": "coupled they live and die together they have a shared network IP and port namespace Local Host is the same to them",
    "start": "1584559",
    "end": "1590520"
  },
  {
    "text": "so they can talk to each other on ports it looks like they're running on a logical host effectively uh so thinking",
    "start": "1590520",
    "end": "1596000"
  },
  {
    "text": "terms of services that you would usually run on the same machine and if you have any questions about pods let me know I used to have",
    "start": "1596000",
    "end": "1602480"
  },
  {
    "text": "more slides but I've cut back on them because too many pod slides bad so we talked about volumes uh we",
    "start": "1602480",
    "end": "1608919"
  },
  {
    "text": "have different kinds of volumes and these allow effectively individual containers to write data they like to",
    "start": "1608919",
    "end": "1614240"
  },
  {
    "text": "write to file systems uh or for multiple containers to share data between them",
    "start": "1614240",
    "end": "1619279"
  },
  {
    "text": "and in this case we have uh two containers the symbol the gear will is a pod symbol and a volume and what they're",
    "start": "1619279",
    "end": "1628880"
  },
  {
    "text": "actually backed by this volume is backed by is determined by the volume type and the first one is empty directory and",
    "start": "1628880",
    "end": "1634520"
  },
  {
    "text": "this is basically uh backed by position storage on the disc uh but only temporarily effectively so it lives",
    "start": "1634520",
    "end": "1642440"
  },
  {
    "text": "while the pod's alive and goes away when the Pod goes away uh so this is for pod sharing data temporary data between them",
    "start": "1642440",
    "end": "1649039"
  },
  {
    "text": "uh it doesn't persist after the Pod goes away so empty D is useful for having",
    "start": "1649039",
    "end": "1655159"
  },
  {
    "text": "that kind of transient data you don't really care about second one is uh mapping to a host path uh you can map to",
    "start": "1655159",
    "end": "1661440"
  },
  {
    "text": "a directory on the system the node and which the Pod is running uh and that's",
    "start": "1661440",
    "end": "1667120"
  },
  {
    "text": "quite useful but again it's a little bit dangerous because what it's mapping to may be different one machine than is on",
    "start": "1667120",
    "end": "1672440"
  },
  {
    "text": "the other it may have different data different conditions probably not but uh it's an important consideration",
    "start": "1672440",
    "end": "1679360"
  },
  {
    "text": "and the next one is uh a volume and a volume well not a volume NFS volume or gluster FS we can mount that and also we",
    "start": "1679360",
    "end": "1686360"
  },
  {
    "text": "can do cloud provider block storage so for Google we have Google position dis and Amazon has AWS block",
    "start": "1686360",
    "end": "1692760"
  },
  {
    "text": "storage uh labels labels are the single grouping mechanism of incubators uh in this case we have uh type equals Fe so",
    "start": "1692760",
    "end": "1700159"
  },
  {
    "text": "this is arbitrary metadata that's important to you but not to kues so key value pair type equals Fe is a label and",
    "start": "1700159",
    "end": "1706880"
  },
  {
    "text": "you can build dashboard application that can select on a label give me all the pods named this give me all the replication controllers with this label",
    "start": "1706880",
    "end": "1713600"
  },
  {
    "text": "uh and you can build your own dashboards or you can build another dashboard that looks at a different label so in this case we have two dashboards two",
    "start": "1713600",
    "end": "1719760"
  },
  {
    "text": "different labels each one's looking at different labels so you can build your own tooling around this and then there's",
    "start": "1719760",
    "end": "1725760"
  },
  {
    "text": "a developer view uh which is going to run through very quickly which is very similar to what we saw before we can",
    "start": "1725760",
    "end": "1731799"
  },
  {
    "text": "specify resource limits in terms of CPU in terms of memory container mappins and how many copies we want so in this case",
    "start": "1731799",
    "end": "1738440"
  },
  {
    "text": "we want 10,000 replicas 10,000 of those pods running replication controllers are",
    "start": "1738440",
    "end": "1743640"
  },
  {
    "text": "there basically to keep uh keep the uh pods up and running uh so basically we",
    "start": "1743640",
    "end": "1749039"
  },
  {
    "text": "have this notion of desired State we say we want to have two of these containers running or two of these pods running",
    "start": "1749039",
    "end": "1755679"
  },
  {
    "text": "which could be multiple containers and here's my template for building new pods uh it could have two different container",
    "start": "1755679",
    "end": "1762279"
  },
  {
    "text": "definitions three one uh but this is the template you're going to use to create new ones and so we create the",
    "start": "1762279",
    "end": "1767679"
  },
  {
    "text": "replication controller and say you're interested in pods with version equals V1 if any are exist it will pick them up",
    "start": "1767679",
    "end": "1774240"
  },
  {
    "text": "if any don't exist it will create them up to the number that it's been told to have in this case pods equals two so",
    "start": "1774240",
    "end": "1781600"
  },
  {
    "text": "we'll have two pods uh version equals V1 being arbitary metadata and we can have another replication controller with",
    "start": "1781600",
    "end": "1788080"
  },
  {
    "text": "version equals V2 in this case one pod and it will make sure there's always one pod uh in that case and so this is just",
    "start": "1788080",
    "end": "1795320"
  },
  {
    "text": "an example of a control Loop uh it will continuously check to make sure that the desired state is what we have you know",
    "start": "1795320",
    "end": "1800880"
  },
  {
    "text": "this is what the actual state is this is what you want it to be and it will fix it it there's too many running s them",
    "start": "1800880",
    "end": "1806240"
  },
  {
    "text": "away there not enough it add them contain livess we can do Health checkin there's some Basics I'm not going to",
    "start": "1806240",
    "end": "1812039"
  },
  {
    "text": "talk about this uh the zombie is pretty cool they're not green in The Walking",
    "start": "1812039",
    "end": "1817200"
  },
  {
    "text": "Dead though are they maybe they will be one day like in season 10 whatever",
    "start": "1817200",
    "end": "1823600"
  },
  {
    "text": "Services uh services are the things that sit in front of PODS uh and effectively aggregate them as something that can be",
    "start": "1823600",
    "end": "1829799"
  },
  {
    "text": "consumed by clients so at the bottom here we have three identical pods they would all had the same label we talk",
    "start": "1829799",
    "end": "1835880"
  },
  {
    "text": "about that shortly when we create a service we create something that has a virtual IP address and a DNS name uh and",
    "start": "1835880",
    "end": "1842279"
  },
  {
    "text": "clients can attach to that they can be internal clients or they can be external clients and effectively what the uh",
    "start": "1842279",
    "end": "1848559"
  },
  {
    "text": "service will do will load balance requests randomly across each one of the pods uh it has session Affinity client",
    "start": "1848559",
    "end": "1855559"
  },
  {
    "text": "IP Affinity uh so there's a session progress it can go back to the same pod uh but it will low balance randomly",
    "start": "1855559",
    "end": "1862080"
  },
  {
    "text": "across uh all of the pods and the constituency of uh a service oh oh I",
    "start": "1862080",
    "end": "1868240"
  },
  {
    "text": "deleted the other slide never mind the constituency of a service is uh made up of labels so in this case we have two",
    "start": "1868240",
    "end": "1875799"
  },
  {
    "text": "replication controllers version equals V1 for one of them version equals 2 V2 for the other and each of the pods also",
    "start": "1875799",
    "end": "1882559"
  },
  {
    "text": "has a type equals Fe label and our service cares about pods with label type equal Fe so it has a label selector type",
    "start": "1882559",
    "end": "1889679"
  },
  {
    "text": "equals a fe so all of those pods belong to that service but notice there are two different versions of the Pod here so we",
    "start": "1889679",
    "end": "1896039"
  },
  {
    "text": "could roll out a canary here we could roll out one pod that's different from all of the others just to do some kind",
    "start": "1896039",
    "end": "1901480"
  },
  {
    "text": "of AB testing uh so we're getting some of our traffic go to the new version some of it go to the old version uh that",
    "start": "1901480",
    "end": "1908000"
  },
  {
    "text": "has the virtual IP address and this could be consumed by external clients or internal so mapping to kubat is that D",
    "start": "1908000",
    "end": "1916200"
  },
  {
    "text": "keeps dropping off down there ND this is what it looks like in terms of Cates we have pods volumes uh",
    "start": "1916200",
    "end": "1923919"
  },
  {
    "text": "Services which is the long rectangle replication controller down here and a client which is exposing been",
    "start": "1923919",
    "end": "1932919"
  },
  {
    "text": "exposed as a service for the clients uh in terms of state I'm going to have to run through this because I",
    "start": "1932919",
    "end": "1938480"
  },
  {
    "text": "added this this morning I didn't realize I wouldn't have enough time so uh database everybody asks about database",
    "start": "1938480",
    "end": "1943720"
  },
  {
    "text": "and I can talk about this later uh in a cluster of ephemeral containers the application state must live outside",
    "start": "1943720",
    "end": "1950279"
  },
  {
    "text": "of the container right it can't be in the container so how do we solve",
    "start": "1950279",
    "end": "1955320"
  },
  {
    "text": "that uh the first one is we can have the database outside of the cluster uh so we",
    "start": "1955320",
    "end": "1960679"
  },
  {
    "text": "have all of our pods from applications in this case three different applications different colors uh and the",
    "start": "1960679",
    "end": "1965840"
  },
  {
    "text": "MySQL is effectively managed by a DBA or some kind of managed cloud service so",
    "start": "1965840",
    "end": "1971519"
  },
  {
    "text": "that's one solution the other one is to adapt your database to run inside the cluster so in this case MySQL run as a",
    "start": "1971519",
    "end": "1978399"
  },
  {
    "text": "pod and it will mount a file system uh when it becomes live when it when it",
    "start": "1978399",
    "end": "1984120"
  },
  {
    "text": "fires up it will mount a file system uh and that will file system will be provided by the cluster or we can do",
    "start": "1984120",
    "end": "1990399"
  },
  {
    "text": "cluster native and this is things like Cassandra or react which understand how to run in a distributed system and these",
    "start": "1990399",
    "end": "1995960"
  },
  {
    "text": "things can just have multiple instances running in pods and they can talk to each other and communicate with each other and the way networking Works in",
    "start": "1995960",
    "end": "2002000"
  },
  {
    "text": "pods that's very very simple to do simpler than containers generally so the real Dem",
    "start": "2002000",
    "end": "2008760"
  },
  {
    "text": "uh and find my shell",
    "start": "2008760",
    "end": "2013960"
  },
  {
    "text": "window which is now much bigger than it used to be right or in a different position you're hiding where are you",
    "start": "2013960",
    "end": "2019799"
  },
  {
    "text": "come here what show window stop",
    "start": "2019799",
    "end": "2026960"
  },
  {
    "text": "it oh man come on there it is look",
    "start": "2026960",
    "end": "2034200"
  },
  {
    "text": "hello right so uh let's go back to our visualization and close the console",
    "start": "2034399",
    "end": "2042120"
  },
  {
    "text": "so the first thing we're going to do oh the first thing we're going to do is create a dis uh so one thing oh it's in",
    "start": "2042120",
    "end": "2047799"
  },
  {
    "text": "Japanese I'll use this one one thing we need to do is go into the developers console and create a disk",
    "start": "2047799",
    "end": "2054679"
  },
  {
    "text": "uh and we're going to going to oh compute Computing Eng Diss and then we",
    "start": "2054679",
    "end": "2063280"
  },
  {
    "text": "had to find out what the name of the disk is and for that I will res resort to atom",
    "start": "2063280",
    "end": "2068440"
  },
  {
    "text": "and I will look at my configuration file for my container and my pod and I know I have to mount demo my SQL",
    "start": "2068440",
    "end": "2076520"
  },
  {
    "text": "disk so I'm going to create that dis uh new disk give it a name the name is",
    "start": "2077359",
    "end": "2084599"
  },
  {
    "text": "important because it's going to mount it based on the name I have to put it in the right Zone in this case and sorry this is kind of advanced Google Cloud",
    "start": "2084599",
    "end": "2090320"
  },
  {
    "text": "stuff uh so 500 GB should be enough for our MySQL effectively and we can",
    "start": "2090320",
    "end": "2099079"
  },
  {
    "text": "create so that's been created we have a 500 GB dis in the cloud uh and that's",
    "start": "2099079",
    "end": "2104359"
  },
  {
    "text": "not attached to any nodes currently it will be shortly so next thing to do is to go",
    "start": "2104359",
    "end": "2110920"
  },
  {
    "text": "away from the Japanese stuff because you don't want to see that uh and I'm going to use that Cube cotle",
    "start": "2110920",
    "end": "2117720"
  },
  {
    "text": "command again MF",
    "start": "2117720",
    "end": "2123240"
  },
  {
    "text": "oh my SQL server and that create my me a",
    "start": "2123640",
    "end": "2128839"
  },
  {
    "text": "service and a pod the Pod is my SQL we have namespacing here we won't talk about namespacing today it's yellow",
    "start": "2128839",
    "end": "2135280"
  },
  {
    "text": "currently is pend in hopefully it's going to mount the disc uh and everything will be okay if not I had to recreate it because I did something",
    "start": "2135280",
    "end": "2141520"
  },
  {
    "text": "wrong uh but hopefully I didn't do anything wrong uh so in the meantime we'll create",
    "start": "2141520",
    "end": "2148400"
  },
  {
    "text": "oh yeah it's working so it's now running uh so we have my SC running very quickly right that's probably the quickest we've",
    "start": "2148400",
    "end": "2155319"
  },
  {
    "text": "ever seen my SC up and running right so mcash mcash is the next",
    "start": "2155319",
    "end": "2161440"
  },
  {
    "text": "one mcash and this will create a pod and a service just like before uh again Nam",
    "start": "2163280",
    "end": "2170079"
  },
  {
    "text": "space and we don't care that much about and next thing to do is create a front end and the front end will be our PHP",
    "start": "2170079",
    "end": "2175800"
  },
  {
    "text": "stuff and this is going to be a replication controller remember we mentioned those uh we create that and",
    "start": "2175800",
    "end": "2182240"
  },
  {
    "text": "what we'll see is a replication controller which is the blue box here uh we've seen them before and two pods two",
    "start": "2182240",
    "end": "2188760"
  },
  {
    "text": "replicas of our PHP application running everything's running now but we don't have a service for our front end we have",
    "start": "2188760",
    "end": "2194280"
  },
  {
    "text": "to create that so next thing we do is do that and it will create a service",
    "start": "2194280",
    "end": "2201079"
  },
  {
    "text": "for us and now we have a service and we can plug that in so now we can see that the front ends here are talking to mcash",
    "start": "2201079",
    "end": "2207520"
  },
  {
    "text": "D because they will go to mcash D first if it's not in MCD they will retrieve it from MySQL and stick it into MCD so",
    "start": "2207520",
    "end": "2215560"
  },
  {
    "text": "that's the whole process the front end needs to be exposed to clients it has an IP address but that's a cluster local IP",
    "start": "2215560",
    "end": "2221839"
  },
  {
    "text": "address so things in the cluster can see it but nothing else can but there's a special instruction in the uh",
    "start": "2221839",
    "end": "2228319"
  },
  {
    "text": "configuration file that allows us to create a load balanced endpoint uh that",
    "start": "2228319",
    "end": "2233560"
  },
  {
    "text": "will be exposed to clients depending on the cloud provider so Google Cloud supports that and others do as well so",
    "start": "2233560",
    "end": "2239960"
  },
  {
    "text": "in this case if you say type equals low balancer it will say ah I need to create an external endpoint so on if it's run",
    "start": "2239960",
    "end": "2246280"
  },
  {
    "text": "on a system that can have such an endpoint like Google Cloud platform or uh Azure maybe yeah I think Azure does",
    "start": "2246280",
    "end": "2253400"
  },
  {
    "text": "as well uh you can have it create a load balance endpoint that takes a little while so let's fall back to the slides",
    "start": "2253400",
    "end": "2261359"
  },
  {
    "text": "uh and oh no it's there already okay we'll do that we'll go on and I'll click on that it will take me to this the a",
    "start": "2261359",
    "end": "2268280"
  },
  {
    "text": "brand new MySQL setup my colleague Roberts actually automated this and I should do it but we have to run setup uh",
    "start": "2268280",
    "end": "2274640"
  },
  {
    "text": "to create a table uh so now we create tables uh and our database with mySQL",
    "start": "2274640",
    "end": "2279760"
  },
  {
    "text": "and then we can run index. HTML and we can see container Camp oh no",
    "start": "2279760",
    "end": "2286880"
  },
  {
    "text": "it's the wrong one that's no good right so but secretly we've had our techies actually create one specifically",
    "start": "2286880",
    "end": "2293599"
  },
  {
    "text": "to go through London so but they haven't rolled it out yet which is bad I have to tell them off uh so I should be able to",
    "start": "2293599",
    "end": "2300079"
  },
  {
    "text": "store something now and this is always risky I may have done something wrong but okay so I stored it so if you access",
    "start": "2300079",
    "end": "2305680"
  },
  {
    "text": "this IP address now you'll be able to send your own messages and no rude ones please right so that's great we we want",
    "start": "2305680",
    "end": "2313880"
  },
  {
    "text": "to update this my one of the magic things about C cubat is we can do a very quick update so let's do the quick",
    "start": "2313880",
    "end": "2319760"
  },
  {
    "text": "update and we're going to do a rolling update and I'll move this up rather than clear",
    "start": "2319760",
    "end": "2326240"
  },
  {
    "text": "my screen again uh rolling update uh we're going to say what the name of the font end is uh it's rc1 which we can see",
    "start": "2326240",
    "end": "2332640"
  },
  {
    "text": "uh we go back to our visualization which I'll in a minute minus f is the file new",
    "start": "2332640",
    "end": "2337800"
  },
  {
    "text": "configuration file and the update period one second I better go back to my local",
    "start": "2337800",
    "end": "2343240"
  },
  {
    "text": "host so I can see the viz this is the visualization we're going to do the rolling update our mve is down and we",
    "start": "2343240",
    "end": "2349000"
  },
  {
    "text": "can see the magic happened happen so we have one front end controller two pods and we want to replace those two pods",
    "start": "2349000",
    "end": "2355079"
  },
  {
    "text": "with our new version of our application and first thing creates a new front end controller it creates a",
    "start": "2355079",
    "end": "2361960"
  },
  {
    "text": "new 2.0 pod and then it will take one of the 1.0 pods away and next it will",
    "start": "2361960",
    "end": "2367160"
  },
  {
    "text": "create another 2.0 pod this by Magic now we have two 2.0 pods and now",
    "start": "2367160",
    "end": "2374800"
  },
  {
    "text": "it will take the other 1.0 pod away we've completely rolled out our update to all of our pods and this could be 100",
    "start": "2374800",
    "end": "2380400"
  },
  {
    "text": "pods many more and finally the last thing to do is remove oh sorry I got",
    "start": "2380400",
    "end": "2386480"
  },
  {
    "text": "free in that I didn't change it it's now got free pods because the configuration file had replicas equals 3 and now it",
    "start": "2386480",
    "end": "2393359"
  },
  {
    "text": "removes the old front end controller and that's it so now we have to go to our application and see our changes now",
    "start": "2393359",
    "end": "2399560"
  },
  {
    "text": "fingers crossed it's exciting yay awesome right then people were",
    "start": "2399560",
    "end": "2406440"
  },
  {
    "text": "trying to do uh uh come on look I work for Google he",
    "start": "2406440",
    "end": "2412160"
  },
  {
    "text": "like you're not going to be able to do it right yeah we don't let that happen anymore so that's pretty much done we'll",
    "start": "2412160",
    "end": "2419440"
  },
  {
    "text": "wrap up now uh there's some other things I'd love to show there's more of this talk online as well and I'm changing the",
    "start": "2419440",
    "end": "2424960"
  },
  {
    "text": "talk every time to make sure that people have seen it before get get some new stuff all of the database stuff is new",
    "start": "2424960",
    "end": "2430200"
  },
  {
    "text": "uh and we're going to add more in the future uh and I'm going to start talking about this slightly differently more",
    "start": "2430200",
    "end": "2435920"
  },
  {
    "text": "about use cases as opposed to anything else the visualization is something like this we have a proxy uh one now cluster",
    "start": "2435920",
    "end": "2442960"
  },
  {
    "text": "uh which we can connect to the API via so the proxy code is all running on my laptop uh the open container initiative",
    "start": "2442960",
    "end": "2449280"
  },
  {
    "text": "was introduced oscon uh on July 21st basically everybody's going to agree on",
    "start": "2449280",
    "end": "2455200"
  },
  {
    "text": "the container format and I expected this to get bad there' be many container formats and then somebody would say we",
    "start": "2455200",
    "end": "2460640"
  },
  {
    "text": "have to have a a standard and there'll be a standard and'll come back together but it's happened earlier than I expected so now we have a standard uh so",
    "start": "2460640",
    "end": "2467560"
  },
  {
    "text": "everybody can build containers that comply with that spec we can run any container on kues kues open source uh we",
    "start": "2467560",
    "end": "2474200"
  },
  {
    "text": "want your help uh you can contribute to this thing uh go to kubernetes doio to see the documentation go to the GitHub",
    "start": "2474200",
    "end": "2480720"
  },
  {
    "text": "project to sign up as a contributor uh talk to our our people our engineers and they are seriously on ilc on hash Google",
    "start": "2480720",
    "end": "2488480"
  },
  {
    "text": "Das containers this is not a wasteland this is kind a bit of a nightmare in fact and TW tweet us on kuat iio and",
    "start": "2488480",
    "end": "2498800"
  },
  {
    "text": "questions hey two minutes over are Master components",
    "start": "2498800",
    "end": "2504319"
  },
  {
    "text": "ha right okay good question uh so cation is at 1.0 and it probably went",
    "start": "2504319",
    "end": "2511960"
  },
  {
    "text": "a little bit early to 1.0 it does not have OB the question is is that thing that m thing that we saw earlier uh is",
    "start": "2511960",
    "end": "2519599"
  },
  {
    "text": "it highly available and let's talk let's look at that this thing here is it highly",
    "start": "2519599",
    "end": "2525560"
  },
  {
    "text": "available because we saw five copies of that in bulk uh is it highly highly available and the question is no it's",
    "start": "2525560",
    "end": "2531960"
  },
  {
    "text": "not currently uh if you want High availability currently recat you would have to have multiple clusters or you",
    "start": "2531960",
    "end": "2539319"
  },
  {
    "text": "can run it on something from a provider and I'm going to suggest Google Cloud platform uh but you could try others uh",
    "start": "2539319",
    "end": "2546480"
  },
  {
    "text": "Google container engine which is our implementation of kubernetes uh hosts your master for you so we take it away",
    "start": "2546480",
    "end": "2552760"
  },
  {
    "text": "from you you build your cluster we take the M Master away and we look after it we feed and water it like a puppy and",
    "start": "2552760",
    "end": "2559240"
  },
  {
    "text": "you don't have to worry about it anymore so we are responsible for keeping it running and we have some tricks and stuff we can do behind the scenes to",
    "start": "2559240",
    "end": "2565440"
  },
  {
    "text": "make sure that is always running like Gmail and search so we can pretty much not worry about your master if you're",
    "start": "2565440",
    "end": "2571200"
  },
  {
    "text": "running a Google container engine if you're running it on your own machines you probably should fall back on multiple clusters currently",
    "start": "2571200",
    "end": "2577800"
  },
  {
    "text": "uh but this will change there will be high availability at some point uh is that who anwers the question",
    "start": "2577800",
    "end": "2586119"
  },
  {
    "text": "anybody any have more questions no any other",
    "start": "2586119",
    "end": "2591920"
  },
  {
    "text": "questions hey oh let let me ask your question so if uh you have a b with",
    "start": "2591920",
    "end": "2600440"
  },
  {
    "text": "containers and how with replication y can those PS detect each other they're",
    "start": "2600440",
    "end": "2609200"
  },
  {
    "text": "siblings each other right so do the pods know about each other uh no not really uh that's not the way they're designed",
    "start": "2609200",
    "end": "2616280"
  },
  {
    "text": "that would create a complicated endtimes n uh interaction right so basically things would communicate to the pods VI",
    "start": "2616280",
    "end": "2622359"
  },
  {
    "text": "the service they won't know which pod they're talking about these pet there's a pets versus cat analogy which I really",
    "start": "2622359",
    "end": "2627440"
  },
  {
    "text": "hate uh I prefer crops versus flowers you give your flowers names so these",
    "start": "2627440",
    "end": "2632680"
  },
  {
    "text": "pods are like crops we don't care about them they can come and go and be replaced by something that's equally",
    "start": "2632680",
    "end": "2638240"
  },
  {
    "text": "identical they don't they don't know about each other that we can probably set some environment variables to say",
    "start": "2638240",
    "end": "2644079"
  },
  {
    "text": "how many there are pass information but it starts getting sneaky and you start getting tired of coupling that way so",
    "start": "2644079",
    "end": "2650000"
  },
  {
    "text": "it's probably best to avoid those kind of scenarios provisioning my SC was very",
    "start": "2650000",
    "end": "2655200"
  },
  {
    "text": "impressive have you tried it with Enterprise databased Tech like Oracle or db2",
    "start": "2655200",
    "end": "2661720"
  },
  {
    "text": "uh let me think about that no no I I",
    "start": "2661720",
    "end": "2667920"
  },
  {
    "text": "one day I'm pretty sure oric will be running on this kind of cluster I mean Sun basically invented all this stuff",
    "start": "2667920",
    "end": "2673520"
  },
  {
    "text": "thear containers where I didn't I'm BSD jails as well I used to work for Sun as well uh and I left an oracle purchased",
    "start": "2673520",
    "end": "2680520"
  },
  {
    "text": "us which I had to so I no uh we don't support Oracle uh or DB to uh I think",
    "start": "2680520",
    "end": "2688559"
  },
  {
    "text": "considering the requirements for access to V system the way it does I think it would be extremely difficult uh to have",
    "start": "2688559",
    "end": "2694200"
  },
  {
    "text": "orle run on Cubes but maybe one day any more",
    "start": "2694200",
    "end": "2699960"
  },
  {
    "text": "questions all righty so again I'm hoping that I just kind of inspired you to look at this thing uh it's probably a lot of",
    "start": "2699960",
    "end": "2707040"
  },
  {
    "text": "it a lot of it too much to take in and all that kind of thing but you need to look at it and play with it tweet me ask",
    "start": "2707040",
    "end": "2712559"
  },
  {
    "text": "me questions uh find me out there I'll be drinking tea and I used to drink coffee I gave it up there drinking tea",
    "start": "2712559",
    "end": "2718800"
  },
  {
    "text": "and talking to people and doing stuff and I'll be leaving to escape the rugby hordes around 2:00 but I will be here to",
    "start": "2718800",
    "end": "2725720"
  },
  {
    "text": "answer your questions so thank you for giving me your time of your day I really appreciate it and",
    "start": "2725720",
    "end": "2731830"
  },
  {
    "text": "[Applause]",
    "start": "2731830",
    "end": "2736619"
  },
  {
    "text": "goodbye",
    "start": "2742319",
    "end": "2745319"
  }
]