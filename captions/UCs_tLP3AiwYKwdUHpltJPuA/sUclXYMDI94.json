[
  {
    "text": "[Music]",
    "start": "3550",
    "end": "7840"
  },
  {
    "text": "right so I have several different titles for this talk another alternative talk",
    "start": "16020",
    "end": "21160"
  },
  {
    "text": "for this an alternative title for this talk would be programmer happiness I've",
    "start": "21160",
    "end": "28029"
  },
  {
    "text": "been I've been a programmer for twenty twenty-five years and during my career things have gotten gradually worse",
    "start": "28029",
    "end": "35820"
  },
  {
    "text": "they've gotten more complex and and slower you know back back twenty years",
    "start": "35820",
    "end": "41559"
  },
  {
    "text": "ago you it was basically just you the editor and the compiler and not lots of",
    "start": "41559",
    "end": "49539"
  },
  {
    "text": "frameworks and things have grown over the time and I used to be able to to",
    "start": "49539",
    "end": "58600"
  },
  {
    "text": "really quickly get into this zone of programming where I just forget about",
    "start": "58600",
    "end": "64930"
  },
  {
    "text": "everything around me and I'm just programming and as anyone had that",
    "start": "64930",
    "end": "73240"
  },
  {
    "text": "experience you know did you just forget about everything else and and I find it",
    "start": "73240",
    "end": "79420"
  },
  {
    "text": "increasingly harder to get into the zone I think this has to do with a lot of",
    "start": "79420",
    "end": "88210"
  },
  {
    "text": "things library machines are getting faster everybody knows that but but at",
    "start": "88210",
    "end": "93790"
  },
  {
    "text": "the same time libraries and and frameworks and tools there's just getting more and more of them as anyone",
    "start": "93790",
    "end": "99790"
  },
  {
    "text": "here doing JavaScript development right so you know what I'm talking about right it's you have to deal with Babel and",
    "start": "99790",
    "end": "106960"
  },
  {
    "text": "webpack and your to spin up docker containers and and all this stuff and",
    "start": "106960",
    "end": "112380"
  },
  {
    "text": "it's just really really hard to get into the zone nowadays and I think it's",
    "start": "112380",
    "end": "117580"
  },
  {
    "text": "something that people have almost forgotten about I think young",
    "start": "117580",
    "end": "122740"
  },
  {
    "text": "programmers you know people who are joining the programming profession today",
    "start": "122740",
    "end": "127930"
  },
  {
    "text": "they they might not even know what it's like so I've been interested in in",
    "start": "127930",
    "end": "135749"
  },
  {
    "text": "programmer happiness or developer experience for a long time",
    "start": "135749",
    "end": "141580"
  },
  {
    "text": "but I'm becoming even more interested in it in the past years because I think I",
    "start": "141580",
    "end": "147310"
  },
  {
    "text": "think the technology is taking you know taking a wrong turn I want to talk today",
    "start": "147310",
    "end": "154150"
  },
  {
    "text": "about how can we get back into the zone how can we make hungry make acceptance",
    "start": "154150",
    "end": "159670"
  },
  {
    "text": "test fast how can get fast feedback and so on I want to start off with a little bit of psychology a couple of references",
    "start": "159670",
    "end": "167920"
  },
  {
    "text": "to some some psychology books that I've read it would be allowed to say that",
    "start": "167920",
    "end": "173410"
  },
  {
    "text": "I've read them you know from from page one to till the end but I've read sort of like the first half of it and then I",
    "start": "173410",
    "end": "181150"
  },
  {
    "text": "flicked back and forth and other people have pointed me to these books but there are some interesting things in in this",
    "start": "181150",
    "end": "187240"
  },
  {
    "text": "book by a lady called Kendra cherry three components of flow and we're talking about psychological flow here",
    "start": "187240",
    "end": "194460"
  },
  {
    "text": "what is immediate feedback so in order to get into the into this state of flow",
    "start": "194460",
    "end": "201610"
  },
  {
    "text": "you have to get immediate feedback on whatever you're doing right if feedback",
    "start": "201610",
    "end": "206680"
  },
  {
    "text": "doesn't happen you cannot enter the state of flow you also need to have the",
    "start": "206680",
    "end": "212410"
  },
  {
    "text": "feeling that you can succeed in what you're doing if if you're not sure",
    "start": "212410",
    "end": "217480"
  },
  {
    "text": "whether you're heading in the right direction you have this nagging worry all the time that prevents you from",
    "start": "217480",
    "end": "222940"
  },
  {
    "text": "entering into a state of flow and the third thing she mentions is that you",
    "start": "222940",
    "end": "231400"
  },
  {
    "text": "have to feel so engrossed in the experience that everything else just becomes negligible you forget that you're hungry you forget that you are",
    "start": "231400",
    "end": "238709"
  },
  {
    "text": "need to make this phone call you forget hopefully you don't forget that you need to go to the toilet but you know you",
    "start": "238709",
    "end": "245050"
  },
  {
    "text": "just forget about everything else there's another book as well by a gentleman called me Hyde she sent me hi",
    "start": "245050",
    "end": "253410"
  },
  {
    "text": "from Czech Republic I think similar similar stuff his book is called flow",
    "start": "253410",
    "end": "261459"
  },
  {
    "text": "and it's about the components that he talks about that are important is",
    "start": "261459",
    "end": "267150"
  },
  {
    "text": "intense concentration if you're super super concentrated you get into the state of flow but if",
    "start": "267150",
    "end": "273400"
  },
  {
    "text": "you get interrupted all the time by various things either by either by other tools or technologies or maybe people",
    "start": "273400",
    "end": "278770"
  },
  {
    "text": "you know if you're sitting in an open environment for example it's difficult to get into the state of flow and when",
    "start": "278770",
    "end": "285069"
  },
  {
    "text": "you're in a state of flow you have this merging of action and awareness you",
    "start": "285069",
    "end": "290169"
  },
  {
    "text": "can't really tell them apart talks about the same thing as what was",
    "start": "290169",
    "end": "299409"
  },
  {
    "text": "her name Kendra Terry you lose sort of the reflective self-consciousness and you",
    "start": "299409",
    "end": "307210"
  },
  {
    "text": "have this sense of personal agency that you control the situation sports people",
    "start": "307210",
    "end": "312629"
  },
  {
    "text": "if you do some kind of sport you know you're probably familiar with this feeling that you feel that you you",
    "start": "312629",
    "end": "319270"
  },
  {
    "text": "completely control of the other you know when you're skiing for example that I like to ski you know it's just I stop",
    "start": "319270",
    "end": "328779"
  },
  {
    "text": "thinking everything is just flowing naturally distortion of temporal",
    "start": "328779",
    "end": "334120"
  },
  {
    "text": "experience you look at your watch and you realize that three hours just flew by right this doesn't happen if you are",
    "start": "334120",
    "end": "342849"
  },
  {
    "text": "not in a state to flood you do looking at your watch and it's five minutes and you're looking at what and you just",
    "start": "342849",
    "end": "348969"
  },
  {
    "text": "can't wait for the day to be over and finally he talks about Auto telling",
    "start": "348969",
    "end": "356139"
  },
  {
    "text": "experience that means that whatever you're doing is an intrinsically rewarding experience just doing what",
    "start": "356139",
    "end": "363129"
  },
  {
    "text": "you're doing gives you joy and this is what programming should be like I think but I",
    "start": "363129",
    "end": "369039"
  },
  {
    "text": "think for a lot of people it isn't like this because there are all sorts of",
    "start": "369039",
    "end": "374589"
  },
  {
    "text": "things that prevent us from entering this state of flow and one of those",
    "start": "374589",
    "end": "382839"
  },
  {
    "text": "things is really really slow acceptance tests",
    "start": "382839",
    "end": "387569"
  },
  {
    "text": "now a couple of decades ago this is the last book I'm going to refer to Jakob",
    "start": "391850",
    "end": "399800"
  },
  {
    "text": "Nielsen who kind of founded the the usability engineering movement did some research into people's ability to how",
    "start": "399800",
    "end": "414500"
  },
  {
    "text": "different time delays how they affect",
    "start": "414500",
    "end": "420710"
  },
  {
    "text": "people's perceptive abilities so he came up with or he discovered that there's",
    "start": "420710",
    "end": "425810"
  },
  {
    "text": "three time limits that you need to keep in mind when you design user interfaces in order for those the use of interfaces",
    "start": "425810",
    "end": "432650"
  },
  {
    "text": "to to be usable by people and the first time limit that Jakob Nielsen talks",
    "start": "432650",
    "end": "438530"
  },
  {
    "text": "about is a tenth of a second if you have a user interface and you do something",
    "start": "438530",
    "end": "444680"
  },
  {
    "text": "you click a button and you get some sort of feedback within a tenth of a second",
    "start": "444680",
    "end": "451430"
  },
  {
    "text": "the user will it will feel like this is this is a system that is operating or",
    "start": "451430",
    "end": "458470"
  },
  {
    "text": "responding instantaneously the user cannot distinguish between instantaneous and a tenth of a second it just feels",
    "start": "458470",
    "end": "464740"
  },
  {
    "text": "like you click your button you see the thing immediately and if you can if you",
    "start": "464740",
    "end": "470570"
  },
  {
    "text": "can respond that quickly you don't need any sort of visual feedback like spinners or progress bars and stuff like",
    "start": "470570",
    "end": "476570"
  },
  {
    "text": "that one second is the next limit that",
    "start": "476570",
    "end": "482060"
  },
  {
    "text": "Yakima Nielsen talks about and that is that is the limit for the users thought",
    "start": "482060",
    "end": "489350"
  },
  {
    "text": "to remain uninterrupted if it takes more than a second your mind starts wandering",
    "start": "489350",
    "end": "495830"
  },
  {
    "text": "a bit and that's when you user interface designers decide to put up some sort of",
    "start": "495830",
    "end": "501620"
  },
  {
    "text": "visual cues like little spinners and and stuff you know just telling the user that don't go away you know that you're",
    "start": "501620",
    "end": "507830"
  },
  {
    "text": "going to get something back pretty soon so you don't need those kind of visual",
    "start": "507830",
    "end": "514099"
  },
  {
    "text": "feedbacks but the user is by one second the user has lost the the sense of",
    "start": "514099",
    "end": "520820"
  },
  {
    "text": "operating directly on the data right and the third time limit that Jakob",
    "start": "520820",
    "end": "528230"
  },
  {
    "text": "Nielsen talks about is ten seconds and this is the limit for keeping the users",
    "start": "528230",
    "end": "535610"
  },
  {
    "text": "attention focused on the dialogue if you're working with a with a user",
    "start": "535610",
    "end": "541430"
  },
  {
    "text": "interface where a feedback takes longer than 10 seconds you will lose them they",
    "start": "541430",
    "end": "546950"
  },
  {
    "text": "will go and do something else they will go and check their email they'll go and",
    "start": "546950",
    "end": "552110"
  },
  {
    "text": "all tab into some other social media stuff just to fill that gap with something meaningful so feedback is",
    "start": "552110",
    "end": "561230"
  },
  {
    "text": "incredibly important now I'm talking about user interface design here but what about what about programmers what",
    "start": "561230",
    "end": "568910"
  },
  {
    "text": "is this like when when you're sitting in your in your text editor or in your IDE you do something how long do you have to",
    "start": "568910",
    "end": "576080"
  },
  {
    "text": "wait for feedback you write some line up you write and maybe write a new method",
    "start": "576080",
    "end": "581480"
  },
  {
    "text": "maybe you refactor some code how long do you have to wait until you know whether or not you completely screwed everything",
    "start": "581480",
    "end": "587750"
  },
  {
    "text": "up well if you have to wait 10 seconds",
    "start": "587750",
    "end": "593870"
  },
  {
    "text": "for that that's going to take a massive hit to your ability to concentrate on",
    "start": "593870",
    "end": "599450"
  },
  {
    "text": "what you're doing and consequently it's going to take a massive hit for for your ability to be productive in a team so",
    "start": "599450",
    "end": "606940"
  },
  {
    "text": "fast feedback is incredibly important and obviously there's there's people",
    "start": "606940",
    "end": "612620"
  },
  {
    "text": "some people have to wait more than 10 seconds right some people have to wait 2 weeks at the end of the Sprint before",
    "start": "612620",
    "end": "620530"
  },
  {
    "text": "before they know whether or not their code is working or not now that's a",
    "start": "620530",
    "end": "625910"
  },
  {
    "text": "different class of problem that's an organizational problem right so you can't I'm not going to tell you how to",
    "start": "625910",
    "end": "631700"
  },
  {
    "text": "fix that today but hopefully I can I can give you some hints about how you can make the feedback cycle the tests really",
    "start": "631700",
    "end": "638930"
  },
  {
    "text": "fast",
    "start": "638930",
    "end": "641260"
  },
  {
    "text": "so we don't want people to go and and fence in a corridor while they're",
    "start": "646620",
    "end": "651910"
  },
  {
    "text": "compiling of code or while they're running the tests so what does the industry come up with to to address this",
    "start": "651910",
    "end": "659320"
  },
  {
    "text": "problem of slow feedback well there's",
    "start": "659320",
    "end": "664510"
  },
  {
    "text": "one thing that I'm sure everybody's heard about and that's the test pyramid what does the test pyramid say test",
    "start": "664510",
    "end": "673360"
  },
  {
    "text": "pyramid says that out of all of the tests that you have for your system you",
    "start": "673360",
    "end": "679750"
  },
  {
    "text": "should have a certain proportion of unit tests most of your tests should be unit tests and then service tests whatever",
    "start": "679750",
    "end": "687550"
  },
  {
    "text": "that means you can have not quite as many of those and you should have relatively few user interface tests",
    "start": "687550",
    "end": "694860"
  },
  {
    "text": "because UI tests as we all know are brittle they're expensive to write and they're",
    "start": "694860",
    "end": "700570"
  },
  {
    "text": "time-consuming to run right well this is",
    "start": "700570",
    "end": "705700"
  },
  {
    "text": "the conventional wisdom but I think I",
    "start": "705700",
    "end": "711660"
  },
  {
    "text": "I'm not sure I agree with that stuff anymore I'm interested in understanding",
    "start": "711660",
    "end": "717330"
  },
  {
    "text": "what is it that makes you eye tests brittle expensive to write and",
    "start": "717330",
    "end": "724420"
  },
  {
    "text": "time-consuming to run so I've got an",
    "start": "724420",
    "end": "730180"
  },
  {
    "text": "alternative pyramid which I call the the love-hate relationship pyramid recently",
    "start": "730180",
    "end": "738910"
  },
  {
    "text": "I've been moving so I've learned about Mary Kondo so you could call it does it spark joy pyramid so you should have",
    "start": "738910",
    "end": "746110"
  },
  {
    "text": "many of the tests that spark joy for whatever that means and as few as",
    "start": "746110",
    "end": "755500"
  },
  {
    "text": "possible of the tests that spark hate",
    "start": "755500",
    "end": "760860"
  },
  {
    "text": "right or sadness or frustration now what",
    "start": "760860",
    "end": "769240"
  },
  {
    "text": "do we put up in these different buckets here well one thing what's important here more speed as I talked about",
    "start": "769240",
    "end": "775540"
  },
  {
    "text": "initially is important if you have tests that take more than 10",
    "start": "775540",
    "end": "780570"
  },
  {
    "text": "seconds you're gonna lose your app you're gonna lose your focus you're",
    "start": "780570",
    "end": "786450"
  },
  {
    "text": "gonna go and do something else so you don't want to rely on too many of those tests you want to have relatively few tests that take more than 10 seconds and",
    "start": "786450",
    "end": "794610"
  },
  {
    "text": "you also don't want to have too many tests that take more than one second because you know as soon as you have 10",
    "start": "794610",
    "end": "800490"
  },
  {
    "text": "of them you believe you've lost your flow right so mostly your tests need to",
    "start": "800490",
    "end": "806790"
  },
  {
    "text": "be really really fast and I'm talking about millisecond fast here and I'm not",
    "start": "806790",
    "end": "812579"
  },
  {
    "text": "making a distinction between unit tests and acceptance tests and integration",
    "start": "812579",
    "end": "817890"
  },
  {
    "text": "tests and service tests and whatever people would decide to call them I'm",
    "start": "817890",
    "end": "822959"
  },
  {
    "text": "just saying lots of really fast tests very few really slow tests now the other thing",
    "start": "822959",
    "end": "830640"
  },
  {
    "text": "that makes us love or hate tests is determinism raise your hand if you've ever run a test that sometimes fails and",
    "start": "830640",
    "end": "837990"
  },
  {
    "text": "sometimes passes right everybody hates that that is just the worst right what's",
    "start": "837990",
    "end": "846240"
  },
  {
    "text": "the point in that test when it fails you don't really know whether it's just because it's a race condition or whether",
    "start": "846240",
    "end": "856019"
  },
  {
    "text": "you have a genuine bug in your system so you want to have as few as possible of those tests that are non-deterministic",
    "start": "856019",
    "end": "863570"
  },
  {
    "text": "so I've just chosen to put them in arbitrary categories here tests that pass 80% of the time you should have or",
    "start": "863570",
    "end": "870649"
  },
  {
    "text": "let or less frequently you should have very few of those and you should have",
    "start": "870649",
    "end": "875820"
  },
  {
    "text": "most of your tests should be completely deterministic right another thing you",
    "start": "875820",
    "end": "881519"
  },
  {
    "text": "can think about you know love/hate is is maintenance cost how long does it take",
    "start": "881519",
    "end": "887910"
  },
  {
    "text": "to write a test well if it takes a few minutes to write a test that's great but",
    "start": "887910",
    "end": "895980"
  },
  {
    "text": "if it takes days to write it or I'm not talking about just writing by the way it's you know maintaining existing tests",
    "start": "895980",
    "end": "902630"
  },
  {
    "text": "diagnosing tests that fail when a test fails you want to be able to figure out",
    "start": "902630",
    "end": "908130"
  },
  {
    "text": "fairly quickly why it failed that's usually what takes the most time fixing it once you've found out",
    "start": "908130",
    "end": "915000"
  },
  {
    "text": "why'd fails is usually relatively quick compared to diagnosing it in the first place so you want to be able to get good",
    "start": "915000",
    "end": "921600"
  },
  {
    "text": "error messages that will point exactly at where the problem is so so I think it",
    "start": "921600",
    "end": "930210"
  },
  {
    "text": "I think it's more productive to think about the love-hate relationship pyramid you want to have lots of the tests that you love and very few in the tests that",
    "start": "930210",
    "end": "937380"
  },
  {
    "text": "you that you hate alright so what is it",
    "start": "937380",
    "end": "945960"
  },
  {
    "text": "that we're looking at when we are testing why do we test in the first place why do we test our code well",
    "start": "945960",
    "end": "954029"
  },
  {
    "text": "because we want to have confidence we want to have confidence that our code",
    "start": "954029",
    "end": "960089"
  },
  {
    "text": "works but if you think about it there as many there are many different categories",
    "start": "960089",
    "end": "967650"
  },
  {
    "text": "of confidence there are many different characteristics of a system that we can have confidence about and I think a lot",
    "start": "967650",
    "end": "976020"
  },
  {
    "text": "of developers and testers they they tend",
    "start": "976020",
    "end": "983700"
  },
  {
    "text": "to conflate a lot of these different aspects and try and get all lots of",
    "start": "983700",
    "end": "988800"
  },
  {
    "text": "different kinds of confidence from the same tests so I don't have an exhaustive",
    "start": "988800",
    "end": "994620"
  },
  {
    "text": "list of what different kinds of confidence that you should be looking for but I'll give you a few just to give",
    "start": "994620",
    "end": "999780"
  },
  {
    "text": "you an idea so business logic right that's maybe the most obvious one you",
    "start": "999780",
    "end": "1006770"
  },
  {
    "text": "want to make sure that the algorithms in your program are correct for example",
    "start": "1006770",
    "end": "1014330"
  },
  {
    "text": "that if you say while for example that you calculate the insurance premium",
    "start": "1014330",
    "end": "1020530"
  },
  {
    "text": "correctly right or that you move the money to the right bank account but stuff like that is your business logic",
    "start": "1020530",
    "end": "1028250"
  },
  {
    "text": "working correctly that's definitely one thing that we want to have confidence about but we also want to have",
    "start": "1028250",
    "end": "1034640"
  },
  {
    "text": "confidence about the user interface if this is a system that has a user interface you know what you want to make",
    "start": "1034640",
    "end": "1040130"
  },
  {
    "text": "sure that the buttons and the text fields and all of our stuff is wired up correctly to the underlying this logic but this is a different kind of",
    "start": "1040130",
    "end": "1047390"
  },
  {
    "text": "confidence than verifying that the business logic itself is correct and",
    "start": "1047390",
    "end": "1053289"
  },
  {
    "text": "because it's a different kind of confidence it means that you shouldn't necessarily try and shoehorn all of",
    "start": "1053289",
    "end": "1059840"
  },
  {
    "text": "these different kinds of confidences into the same text I got more for you platform confidence does my system work",
    "start": "1059840",
    "end": "1067610"
  },
  {
    "text": "on Windows and Linux and Mac OS does it",
    "start": "1067610",
    "end": "1072860"
  },
  {
    "text": "work in Firefox Safari ie and so on does",
    "start": "1072860",
    "end": "1078500"
  },
  {
    "text": "it work with Java version eight nine ten eleven blah blah blah blah blah right so",
    "start": "1078500",
    "end": "1084350"
  },
  {
    "text": "you can you can have confidence about how portable your program is in on different different platforms again it's",
    "start": "1084350",
    "end": "1090740"
  },
  {
    "text": "a it's a different kind of confidence you should probably use a separate kind of testing to get that kind of",
    "start": "1090740",
    "end": "1096260"
  },
  {
    "text": "confidence integration by integration people people have different things when",
    "start": "1096260",
    "end": "1103669"
  },
  {
    "text": "they when we talk about integration tests to me integration tests that is the test that verifies that two systems",
    "start": "1103669",
    "end": "1110470"
  },
  {
    "text": "that you can when you connect them together everything works so you can have an integration test between the",
    "start": "1110470",
    "end": "1117409"
  },
  {
    "text": "part of your system that deals with payment and stripe for example but you",
    "start": "1117409",
    "end": "1122929"
  },
  {
    "text": "can test just that integration without testing everything else but again that's a different kind of confidence poor",
    "start": "1122929",
    "end": "1129440"
  },
  {
    "text": "performance you want to you want to be confident that your your system works",
    "start": "1129440",
    "end": "1135380"
  },
  {
    "text": "well under load that it's got the right throughput and latency and so on and security all these different kinds of",
    "start": "1135380",
    "end": "1141740"
  },
  {
    "text": "confidences and I think what what I tend",
    "start": "1141740",
    "end": "1147260"
  },
  {
    "text": "to see I you know when I go and look at other people's code base and very often my own I look at a test and I'm out if",
    "start": "1147260",
    "end": "1154730"
  },
  {
    "text": "you ask the question what kind of confidence are we supposed to get from this test I think that's a useful",
    "start": "1154730",
    "end": "1160100"
  },
  {
    "text": "question to ask and and if you're not sure well maybe you should rewrite the",
    "start": "1160100",
    "end": "1165649"
  },
  {
    "text": "test or if the question is or if the answer is well we are trying to get confidence about all these eight things",
    "start": "1165649",
    "end": "1171590"
  },
  {
    "text": "that I mentioned on my previous slides that test probably isn't very good at doing any of these things",
    "start": "1171590",
    "end": "1177900"
  },
  {
    "text": "right so so when you write them and when you design tests try and figure out what",
    "start": "1177900",
    "end": "1184559"
  },
  {
    "text": "what particular aspect of our system is that we're trying to gain confidence about and I think it makes sense to to",
    "start": "1184559",
    "end": "1192390"
  },
  {
    "text": "split them up in different kinds of tests and have multiple different test Suites that will give you give you just",
    "start": "1192390",
    "end": "1203100"
  },
  {
    "text": "confidence about security for example or about business logic but if you try and put everything into the same into the",
    "start": "1203100",
    "end": "1210150"
  },
  {
    "text": "same magic cauldron your tests are always going to be slow and brittle and",
    "start": "1210150",
    "end": "1215400"
  },
  {
    "text": "expensive to maintain so to illustrate how how we can improve this stuff I'm",
    "start": "1215400",
    "end": "1223230"
  },
  {
    "text": "going to give you an example here with a little to-do app that I've written everybody rise to do apps when they want to show off something so this is a small",
    "start": "1223230",
    "end": "1235410"
  },
  {
    "text": "react application written with an ojs back-end and a database to store all the",
    "start": "1235410",
    "end": "1242850"
  },
  {
    "text": "to Do's so let's have a look at what the architecture for that kind of",
    "start": "1242850",
    "end": "1249420"
  },
  {
    "text": "application might look like and I'm going to actually show you the",
    "start": "1249420",
    "end": "1255059"
  },
  {
    "text": "architecture not just with the runtime configuration but also what it looks like with the test environment so I'm",
    "start": "1255059",
    "end": "1261270"
  },
  {
    "text": "going to start from the top at the very top we have a test that is going to test",
    "start": "1261270",
    "end": "1266550"
  },
  {
    "text": "our application or to do application and",
    "start": "1266550",
    "end": "1271730"
  },
  {
    "text": "you'll see some Lego kind of shapes here I'll get back to what those means so just ignore that for now the test is",
    "start": "1271730",
    "end": "1279270"
  },
  {
    "text": "going to talk to some something here that I've called the webdriver actor I'll get back to what I mean by actor",
    "start": "1279270",
    "end": "1286580"
  },
  {
    "text": "then there's going to be a browser Firefox Chrome may be a mobile browser",
    "start": "1286580",
    "end": "1296390"
  },
  {
    "text": "inside the browser there's a Dom and we've written our application to",
    "start": "1296390",
    "end": "1303830"
  },
  {
    "text": "interface with the Dom the react application or it can be jQuery or it can be view it can be anything",
    "start": "1303830",
    "end": "1310630"
  },
  {
    "text": "but some sort of JavaScript application then we need to communicate with the",
    "start": "1310630",
    "end": "1315669"
  },
  {
    "text": "server over some Ajax calls HTTP WebSocket whatever so there's something that is responsible for talking to the",
    "start": "1315669",
    "end": "1323410"
  },
  {
    "text": "server and then we've got some HTTP here in the middle and this is the client and",
    "start": "1323410",
    "end": "1332410"
  },
  {
    "text": "the tests for the client then now the server comes into the picture we've got a web server here the part of it that",
    "start": "1332410",
    "end": "1339610"
  },
  {
    "text": "receives the HTTP requests and maybe forwards that to another component which",
    "start": "1339610",
    "end": "1345159"
  },
  {
    "text": "is where the domain logic is and then finally we need to store or everything",
    "start": "1345159",
    "end": "1350169"
  },
  {
    "text": "in the database oops no we got a little data access layer here to be couple of cells from the",
    "start": "1350169",
    "end": "1357370"
  },
  {
    "text": "database and then we have the database right with all of these layers and",
    "start": "1357370",
    "end": "1362460"
  },
  {
    "text": "people are wondering what why is my test so slow any ideas if I ran this test how",
    "start": "1362460",
    "end": "1373630"
  },
  {
    "text": "long do you think that would take",
    "start": "1373630",
    "end": "1376590"
  },
  {
    "text": "depends let's say about a second okay so you can't have that many of these kind",
    "start": "1379860",
    "end": "1386110"
  },
  {
    "text": "of tests before you start reading happy news or going on Facebook or Twitter or",
    "start": "1386110",
    "end": "1392679"
  },
  {
    "text": "something so if all your test looks like like this you're never going to get into",
    "start": "1392679",
    "end": "1399010"
  },
  {
    "text": "the flow unless you have two tests and",
    "start": "1399010",
    "end": "1404220"
  },
  {
    "text": "if you have two tests you never gonna get confidence so we got a problem but why is this why is this slow what is it",
    "start": "1404220",
    "end": "1410230"
  },
  {
    "text": "that makes computer program slow there's basically two things we say that a",
    "start": "1410230",
    "end": "1417100"
  },
  {
    "text": "program is bound by something so you can",
    "start": "1417100",
    "end": "1422500"
  },
  {
    "text": "say that a computer a program running on a computer can be CPU bound that means",
    "start": "1422500",
    "end": "1430080"
  },
  {
    "text": "that if you buy a faster CPU a CPU",
    "start": "1430080",
    "end": "1435760"
  },
  {
    "text": "that's twice as fast your program will run twice as fast right if the program",
    "start": "1435760",
    "end": "1440919"
  },
  {
    "text": "is CPU bound now this program here is not cpu-bound is",
    "start": "1440919",
    "end": "1447320"
  },
  {
    "text": "bound by another constraint if there's another constraint that limits how fast it can run you can throw as much CPU as",
    "start": "1447320",
    "end": "1454520"
  },
  {
    "text": "you wanted this it's nothing really going to make it any faster its i/o bound networking input/output sockets",
    "start": "1454520",
    "end": "1464650"
  },
  {
    "text": "HTTP calls calls of the database that kind of stuff that's what makes your tests slow so what can we do to make",
    "start": "1464650",
    "end": "1479240"
  },
  {
    "text": "this test suite here faster well I've",
    "start": "1479240",
    "end": "1485810"
  },
  {
    "text": "said this one is going to take ten seconds depending on while turret for it to do application very simple scenario",
    "start": "1485810",
    "end": "1493040"
  },
  {
    "text": "but for a more complicated I don't know some sort of e-commerce site where you have to go through several steps a test",
    "start": "1493040",
    "end": "1499490"
  },
  {
    "text": "like this can easily take ten seconds how can we make it faster well we can",
    "start": "1499490",
    "end": "1505310"
  },
  {
    "text": "remove some of the slow bits for example up in the top here where we're doing",
    "start": "1505310",
    "end": "1512390"
  },
  {
    "text": "webdriver webdriver by other way is an amazing tool oh yeah what kind of",
    "start": "1512390",
    "end": "1517700"
  },
  {
    "text": "confidence do you get from from from tests using selenium webdriver the",
    "start": "1517700",
    "end": "1523460"
  },
  {
    "text": "things that I mentioned previously business logic user interface platform",
    "start": "1523460",
    "end": "1532990"
  },
  {
    "text": "performance security what what do you get cut her comedy webdriver is an",
    "start": "1532990",
    "end": "1545660"
  },
  {
    "text": "amazing tool for getting calm getting confidence about platform right you can use it to check that your your",
    "start": "1545660",
    "end": "1552170"
  },
  {
    "text": "application is working on on all sorts of different browsers that's amazing and",
    "start": "1552170",
    "end": "1558140"
  },
  {
    "text": "then you get confidence that the business logo that the logic is is working as well but you pay a pretty",
    "start": "1558140",
    "end": "1564170"
  },
  {
    "text": "high price for that confidence so what if we could have one set of tests that",
    "start": "1564170",
    "end": "1570850"
  },
  {
    "text": "we've put up in the red you know I hate them because they're so",
    "start": "1570850",
    "end": "1577190"
  },
  {
    "text": "slow category and we have very few of those just to verify that yet this works",
    "start": "1577190",
    "end": "1582800"
  },
  {
    "text": "on all the browsers and then all of the other tests that are going to give us confidence about the business logic well",
    "start": "1582800",
    "end": "1588590"
  },
  {
    "text": "they don't have to use webdriver do they no they don't so let's just remove webdriver like this so I had a little",
    "start": "1588590",
    "end": "1598580"
  },
  {
    "text": "animation here but I'll run it again if you if you look carefully you'll see",
    "start": "1598580",
    "end": "1605000"
  },
  {
    "text": "that those different Lego intersections here which are contracts allows me to do",
    "start": "1605000",
    "end": "1613010"
  },
  {
    "text": "that so I'm going to push out something here and put a new one in so the same test now connects to the DOM and I",
    "start": "1613010",
    "end": "1621590"
  },
  {
    "text": "replaced that webdriver selenium stuff with with something else which I've called a Dom actor which to the test",
    "start": "1621590",
    "end": "1630230"
  },
  {
    "text": "looks exactly the same it's got the same interface you know the test just needs to talk to some interface that has one",
    "start": "1630230",
    "end": "1637610"
  },
  {
    "text": "stud like that it doesn't really care what it is so this is a different implementation of that thing that just",
    "start": "1637610",
    "end": "1644450"
  },
  {
    "text": "talks directly to the Dom without going through webdriver and I in no js' I can",
    "start": "1644450",
    "end": "1650870"
  },
  {
    "text": "do this because I can I can run the Dom inside of my node process very easily so",
    "start": "1650870",
    "end": "1658310"
  },
  {
    "text": "now this test is a lot faster it's just one second now because I removed the slowest bit of of the system the thing",
    "start": "1658310",
    "end": "1666020"
  },
  {
    "text": "that was the most I Oh bound which is selenium and now I can look at the next",
    "start": "1666020",
    "end": "1673580"
  },
  {
    "text": "bottleneck well where is that gonna be probably HTTP right because I'm still",
    "start": "1673580",
    "end": "1680270"
  },
  {
    "text": "doing making HTTP calls from from my application so let's see if we can remove that as well boom",
    "start": "1680270",
    "end": "1687380"
  },
  {
    "text": "let me run that again so Goenka is there a laser on this thing no but I'm going",
    "start": "1687380",
    "end": "1695300"
  },
  {
    "text": "to remove the stuff in the middle the thing above and below the the HTTP thing",
    "start": "1695300",
    "end": "1701780"
  },
  {
    "text": "there I'm going to connect the user interface directly to the server-side domain logic",
    "start": "1701780",
    "end": "1708159"
  },
  {
    "text": "boom now things are starting to get really really fast and again I can do",
    "start": "1708159",
    "end": "1714169"
  },
  {
    "text": "that because the way I've designed my application the reactor app it needs to",
    "start": "1714169",
    "end": "1721159"
  },
  {
    "text": "talk to an interface which I visualized here is something with two studs maybe there's two methods here like ant to do",
    "start": "1721159",
    "end": "1726799"
  },
  {
    "text": "and remove to do right it doesn't matter whether that's an implementation that",
    "start": "1726799",
    "end": "1732380"
  },
  {
    "text": "does it over HTTP or I can connect it straight to the domain logic which runs on the server this is easy to do in",
    "start": "1732380",
    "end": "1739039"
  },
  {
    "text": "JavaScript LAN because you've got the same language on both the server and the client but you can also do it with with",
    "start": "1739039",
    "end": "1747110"
  },
  {
    "text": "a more polar clock platform where you have say dotnet on the server and",
    "start": "1747110",
    "end": "1752409"
  },
  {
    "text": "JavaScript on the client but it's a little bit more complicated but you can still do it now things are getting",
    "start": "1752409",
    "end": "1758059"
  },
  {
    "text": "really fast where is the last IO bottleneck now it's the database so",
    "start": "1758059",
    "end": "1766429"
  },
  {
    "text": "let's get rid of it I'm going to replace a database with a memory data access",
    "start": "1766429",
    "end": "1772279"
  },
  {
    "text": "object which doesn't put stuff in the database it just stores it in hash tables now I can run this test in ten",
    "start": "1772279",
    "end": "1777409"
  },
  {
    "text": "milliseconds now I'm CPU bound because",
    "start": "1777409",
    "end": "1784700"
  },
  {
    "text": "there's no I own all of this stuff runs in the same process my tests my user",
    "start": "1784700",
    "end": "1792740"
  },
  {
    "text": "interface and my service I logic it's all in the same nodejs process and I",
    "start": "1792740",
    "end": "1801379"
  },
  {
    "text": "realized that not everybody here does no js' and react but the principle applies",
    "start": "1801379",
    "end": "1810429"
  },
  {
    "text": "no matter what sort of platform you're working on it try and put the test try",
    "start": "1810429",
    "end": "1815840"
  },
  {
    "text": "to put as much as possible inside of the same process so that you don't have to do i oh when you do this you're",
    "start": "1815840",
    "end": "1821269"
  },
  {
    "text": "sacrificing some confidence sacrificing confidence that you've integrated",
    "start": "1821269",
    "end": "1826820"
  },
  {
    "text": "everything correctly but you can get that confidence from other tests we're focusing on getting the really important",
    "start": "1826820",
    "end": "1834110"
  },
  {
    "text": "confidence here which is the business logic now is CPU bound",
    "start": "1834110",
    "end": "1840440"
  },
  {
    "text": "probably by the Dom because the Dom has have been too you know quite complicated beast needs to render",
    "start": "1840440",
    "end": "1846990"
  },
  {
    "text": "stuff so we can remove the Dom as well now we have tests that run in",
    "start": "1846990",
    "end": "1853050"
  },
  {
    "text": "milliseconds but what we have kept here is the domain logic the domain logic is",
    "start": "1853050",
    "end": "1858480"
  },
  {
    "text": "still there we're testing the domain logic without going through all of these layers of quite frankly uninteresting",
    "start": "1858480",
    "end": "1866070"
  },
  {
    "text": "gibberish it doesn't really spark joy so",
    "start": "1866070",
    "end": "1874110"
  },
  {
    "text": "let's put them next to each other that's another variant so by having",
    "start": "1874110",
    "end": "1882060"
  },
  {
    "text": "these very clear interfaces between the different components in your system you can mix and match and assemble them in",
    "start": "1882060",
    "end": "1888060"
  },
  {
    "text": "different ways when you run your tests depending on what sort of confidence you're looking for are you looking for",
    "start": "1888060",
    "end": "1894060"
  },
  {
    "text": "performance confidence well then we need the whole stack are you looking for business logic confidence well then we",
    "start": "1894060",
    "end": "1900270"
  },
  {
    "text": "only need a little bit of it are you looking for platform confidence well",
    "start": "1900270",
    "end": "1905700"
  },
  {
    "text": "then we need a whole stack again and so on so putting them all side-by-side you",
    "start": "1905700",
    "end": "1911400"
  },
  {
    "text": "can see that on the left here you've got the really really slow and expensive",
    "start": "1911400",
    "end": "1916670"
  },
  {
    "text": "tests that give you the that a few hopefully and this slow but they give",
    "start": "1916670",
    "end": "1923550"
  },
  {
    "text": "you this kind of integration and platform confidence and on the right we've stripped out most of the",
    "start": "1923550",
    "end": "1929700"
  },
  {
    "text": "infrastructure and they really really fast so let me give you a demo I know I",
    "start": "1929700",
    "end": "1940020"
  },
  {
    "text": "have to remember to turn off the mirroring here there we go all right",
    "start": "1940020",
    "end": "1948020"
  },
  {
    "text": "so I'm the cucumber man but it doesn't mean that you have to use cucumber to",
    "start": "1948020",
    "end": "1953450"
  },
  {
    "text": "use this technique but since I'm the cucumber man I'm going to illustrate how this works with cucumber but you can do",
    "start": "1953450",
    "end": "1960170"
  },
  {
    "text": "this with any unit or whatever your favorite testing tool is so I've got one",
    "start": "1960170",
    "end": "1969160"
  },
  {
    "text": "one scenario here for crating - duze maybe I should show you the to-do list",
    "start": "1969250",
    "end": "1975559"
  },
  {
    "text": "as well it looks like this so it's a server running yeah all right so I want",
    "start": "1975559",
    "end": "1981920"
  },
  {
    "text": "to test this application so here is a scenario it says given given there is",
    "start": "1981920",
    "end": "1989360"
  },
  {
    "text": "already want to do when I add get milk then the second to do should be get milk right pretty simple except this test so",
    "start": "1989360",
    "end": "1998480"
  },
  {
    "text": "let's run it maybe large that a bit so",
    "start": "1998480",
    "end": "2008260"
  },
  {
    "text": "what I'm going to do now I'm going to run I'm going to run my test in all of these different assemblies or configurations that I showed you in the",
    "start": "2008260",
    "end": "2015400"
  },
  {
    "text": "previous slides we're going to see how long it takes so what I'm doing here is",
    "start": "2015400",
    "end": "2020890"
  },
  {
    "text": "I'm running exactly the same tests in different configurations and what's",
    "start": "2020890",
    "end": "2027340"
  },
  {
    "text": "interesting here is to look at that how long they take so the one where I only have the Dom and the memory actually you",
    "start": "2027340",
    "end": "2036700"
  },
  {
    "text": "know what I'm gonna run a bit more of them I'm just going to copy the same tests and run it many times so it",
    "start": "2036700",
    "end": "2043240"
  },
  {
    "text": "becomes a little bit more go away one password so it becomes a little bit more",
    "start": "2043240",
    "end": "2048550"
  },
  {
    "text": "realistic just uncomment this so we have 20 tests they're all the same",
    "start": "2048550",
    "end": "2056398"
  },
  {
    "text": "oh my god there we go all right let's do",
    "start": "2060200",
    "end": "2068510"
  },
  {
    "text": "this again boom that was pretty fast boom boom boom boom",
    "start": "2068510",
    "end": "2074270"
  },
  {
    "text": "you can see it's gradually slower as as I'm assembling more and more and more of",
    "start": "2074270",
    "end": "2080329"
  },
  {
    "text": "the stack and running the fast ones first and now running through the entire stack with with the browser which as you",
    "start": "2080329",
    "end": "2088608"
  },
  {
    "text": "can see is just painfully slow so I don't it's important to have those tests",
    "start": "2088609",
    "end": "2093980"
  },
  {
    "text": "just to make sure that it works on Firefox and ie and Safari and so on but that's not where I need most I'm just",
    "start": "2093980",
    "end": "2101119"
  },
  {
    "text": "going to stop it because it takes too long so if we look at this we have one configuration here which is the one",
    "start": "2101119",
    "end": "2107299"
  },
  {
    "text": "where we don't have the UI we don't have the database we just have the domain logic incredibly fast right because",
    "start": "2107299",
    "end": "2113690"
  },
  {
    "text": "there is no i/o and I ran 20 tests in 11 milliseconds how long is that per test",
    "start": "2113690",
    "end": "2120640"
  },
  {
    "text": "half a millisecond per test for my domain logic and I'm able to do this",
    "start": "2120640",
    "end": "2129410"
  },
  {
    "text": "because I've designed the application with very clear contract between the",
    "start": "2129410",
    "end": "2136910"
  },
  {
    "text": "different parts of the system it's it's well it's decoupled so I can plug",
    "start": "2136910",
    "end": "2143450"
  },
  {
    "text": "components in and out just like Lego when I'm running the really really fast",
    "start": "2143450",
    "end": "2148579"
  },
  {
    "text": "tests the to Do's are being stored just not in a database that be stored in some",
    "start": "2148579",
    "end": "2154400"
  },
  {
    "text": "sort of fake to do store half a millisecond per test so I can run I can",
    "start": "2154400",
    "end": "2160579"
  },
  {
    "text": "run 2,000 tests in one second I've got",
    "start": "2160579",
    "end": "2167480"
  },
  {
    "text": "the the next one where I'm a plug in the Dom things are a bit slower here they're almost an order of magnitude slower so",
    "start": "2167480",
    "end": "2174430"
  },
  {
    "text": "76 milliseconds for 20 tests so a couple of milliseconds still not bad here I'm",
    "start": "2174430",
    "end": "2180920"
  },
  {
    "text": "running without a Dom but just with HTTP you can see that's even slower but it's",
    "start": "2180920",
    "end": "2187099"
  },
  {
    "text": "still pretty fast and here I'm taking the Dom managed to pee together",
    "start": "2187099",
    "end": "2193110"
  },
  {
    "text": "but you if you compare this with the first one right it is actually 40 times",
    "start": "2193110",
    "end": "2198840"
  },
  {
    "text": "slower even though it's it's reasonably reasonably fast here but that's it's",
    "start": "2198840",
    "end": "2204540"
  },
  {
    "text": "because it's a simple application but 40 times slower is a lot even though in my",
    "start": "2204540",
    "end": "2210810"
  },
  {
    "text": "little toy app it's fast and then finally we got the webdriver which I",
    "start": "2210810",
    "end": "2216360"
  },
  {
    "text": "didn't even finish but that was going to take something like 20 seconds",
    "start": "2216360",
    "end": "2221180"
  },
  {
    "text": "so I've got how much time do I have five minutes eight minutes Wow so I want to",
    "start": "2229150",
    "end": "2241870"
  },
  {
    "text": "talk a little bit about how this how this what looks from the perspective of the test one most tests that I see are",
    "start": "2241870",
    "end": "2250590"
  },
  {
    "text": "sort of hardwired to a particular part of the code which is fine but it makes",
    "start": "2250590",
    "end": "2258160"
  },
  {
    "text": "it really hard to swap in and out different assemblies of the application",
    "start": "2258160",
    "end": "2264240"
  },
  {
    "text": "so what I've done here is I've introduced a layer of abstraction between the test and the system under",
    "start": "2264240",
    "end": "2270070"
  },
  {
    "text": "test and of call that layer abstraction and actor which is a poor name because",
    "start": "2270070",
    "end": "2275890"
  },
  {
    "text": "people think about the actor model has nothing to do with the actor model well its actor in the sense of something",
    "start": "2275890",
    "end": "2282280"
  },
  {
    "text": "representing a person right representing somebody an actual human being interacting with the system so the test",
    "start": "2282280",
    "end": "2290580"
  },
  {
    "text": "only knows about actors and the actor acts as a facade for interacting with the system either through webdriver or",
    "start": "2290580",
    "end": "2297730"
  },
  {
    "text": "through HTTP or maybe directly with method calls to the domain logic but the",
    "start": "2297730",
    "end": "2303190"
  },
  {
    "text": "test doesn't know so you get two really",
    "start": "2303190",
    "end": "2308260"
  },
  {
    "text": "important benefits from organizing your tests this way one is what I just said you can swap in and out different",
    "start": "2308260",
    "end": "2314710"
  },
  {
    "text": "implementations and trade confidence for speed or different kinds of confidence",
    "start": "2314710",
    "end": "2320170"
  },
  {
    "text": "for speed and that's really cool I can run the same test to get confidence",
    "start": "2320170",
    "end": "2326320"
  },
  {
    "text": "about platform but I can also run the same test to get confidence about the main logic but they're different it can",
    "start": "2326320",
    "end": "2332680"
  },
  {
    "text": "be run at different times the other thing which is more of banging the drum",
    "start": "2332680",
    "end": "2339280"
  },
  {
    "text": "of BDD is that when you write your tests this way you cannot refer to things like",
    "start": "2339280",
    "end": "2345670"
  },
  {
    "text": "buttons and text fields and so on you have to write the test in a technology",
    "start": "2345670",
    "end": "2354790"
  },
  {
    "text": "agnostic manner because if I if my test said something about talking pressing",
    "start": "2354790",
    "end": "2361410"
  },
  {
    "text": "buttons how could I possibly how can I possibly press a button in in the DAO I",
    "start": "2361410",
    "end": "2368580"
  },
  {
    "text": "cannot possibly press a button in my domain logic doesn't make sense so and",
    "start": "2368580",
    "end": "2376020"
  },
  {
    "text": "this is important because this allows this is really the whole promise of",
    "start": "2376020",
    "end": "2382440"
  },
  {
    "text": "behavior driven development that the test can be read by non-technical",
    "start": "2382440",
    "end": "2389340"
  },
  {
    "text": "stakeholders so this is kind of some like your bonus you get if you decouple your tests from the system on the test",
    "start": "2389340",
    "end": "2394890"
  },
  {
    "text": "they become you forced to make them agnostic of the of the technology so",
    "start": "2394890",
    "end": "2401280"
  },
  {
    "text": "they can be read by by anyone so the test here it can send some commands you",
    "start": "2401280",
    "end": "2407430"
  },
  {
    "text": "can say I want to guess actually this is for a different example for a game but",
    "start": "2407430",
    "end": "2412890"
  },
  {
    "text": "if you imagine this was for the to-do list it could be added to do and the other one could be get a list of to do's",
    "start": "2412890",
    "end": "2421070"
  },
  {
    "text": "done the demo here is a list of some",
    "start": "2423140",
    "end": "2433320"
  },
  {
    "text": "URLs you can go to to learn more about this I actually forgot to add there's",
    "start": "2433320",
    "end": "2442110"
  },
  {
    "text": "another one which is better I apologize I'm going to change that URL now",
    "start": "2442110",
    "end": "2449210"
  },
  {
    "text": "there we go sub-second thank you guy",
    "start": "2456050",
    "end": "2462440"
  },
  {
    "text": "code no never do live coding in",
    "start": "2462440",
    "end": "2473030"
  },
  {
    "text": "presentation or live slide editing there we go all right and I think I have maybe a few",
    "start": "2473030",
    "end": "2480200"
  },
  {
    "text": "questions [Applause]",
    "start": "2480200",
    "end": "2490380"
  }
]