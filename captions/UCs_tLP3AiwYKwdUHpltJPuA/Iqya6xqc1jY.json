[
  {
    "start": "0",
    "end": "116000"
  },
  {
    "text": "[Music]",
    "start": "990",
    "end": "7859"
  },
  {
    "text": "all right can everyone hear me okay we're good awesome okay so we're gonna start this",
    "start": "12259",
    "end": "19800"
  },
  {
    "text": "talk with an experiment this may actually be the first sing-along that's ever occurred to go to I'm not certain",
    "start": "19800",
    "end": "25560"
  },
  {
    "text": "it's definitely during the main conference the first thing along I can't speak for the parties or anything like",
    "start": "25560",
    "end": "30630"
  },
  {
    "text": "that what I'm gonna do I'm gonna play a note on the keyboard and I want everyone to hum or saying what note they're",
    "start": "30630",
    "end": "36809"
  },
  {
    "text": "hearing okay cool are we on board all right",
    "start": "36809",
    "end": "42350"
  },
  {
    "text": "all right thank you so more on that later",
    "start": "45190",
    "end": "51670"
  },
  {
    "text": "Who am I so I'm a consultant I write software for a living and work with a",
    "start": "51670",
    "end": "57859"
  },
  {
    "text": "number of great individuals that also write software for a living for some great clients many of which are in the",
    "start": "57859",
    "end": "62960"
  },
  {
    "text": "room hello clients thank you I'm also the founder of the consulting company which means I mostly check",
    "start": "62960",
    "end": "68630"
  },
  {
    "text": "emails and scribble and write boards most the time now and I'm a speaker occasionally I speak and I'm a co-author",
    "start": "68630",
    "end": "75080"
  },
  {
    "text": "of a book that no one should read because it's like super super dated so this slide was supposed to be a picture",
    "start": "75080",
    "end": "82670"
  },
  {
    "text": "of this pantry team but I totally forgot to take the group photo today because we had everyone in town with the exception",
    "start": "82670",
    "end": "88310"
  },
  {
    "text": "of one of our team members in Belize but there are some spant readers in the room so just raise your hand or stand up or",
    "start": "88310",
    "end": "93500"
  },
  {
    "text": "do something weird okay that's pantry this most of span tree that's that's definitely a quorum",
    "start": "93500",
    "end": "99590"
  },
  {
    "text": "of span tree so who else am i I am a musician I'm the composer or at least I",
    "start": "99590",
    "end": "107569"
  },
  {
    "text": "used to be I'm the Spotify addict in just a deck of music in general and I'm",
    "start": "107569",
    "end": "112969"
  },
  {
    "text": "a recovering DJ sorry so this is a talk",
    "start": "112969",
    "end": "118399"
  },
  {
    "start": "116000",
    "end": "266000"
  },
  {
    "text": "though about music theory that's Mozart he knew a lot about music theory or at",
    "start": "118399",
    "end": "123770"
  },
  {
    "text": "least what they knew about music theory at the time but there was another historical figure Pythagoras for those",
    "start": "123770",
    "end": "129920"
  },
  {
    "text": "that went to school in the States and lived in a certain era is anyone familiar with this cartoon okay cuz",
    "start": "129920",
    "end": "137120"
  },
  {
    "text": "we're gonna watch this cartoon now you're gonna relive my childhood experience just today this will be great",
    "start": "137120",
    "end": "143600"
  },
  {
    "text": "hopefully the video feed works I haven't tested this part yet [Applause] [Music]",
    "start": "143600",
    "end": "149370"
  },
  {
    "text": "to the time of Pythagoras the master egghead of them all Lawrence the father of mathematics and",
    "start": "149370",
    "end": "156480"
  },
  {
    "text": "music you'll find mathematics in the",
    "start": "156480",
    "end": "161700"
  },
  {
    "text": "darndest places but first we'll need a",
    "start": "161700",
    "end": "167010"
  },
  {
    "text": "string stretch it good and tight pluck it now divide in half",
    "start": "167010",
    "end": "174239"
  },
  {
    "text": "plunk again you see it's the same tone one octave higher now divide the next",
    "start": "174239",
    "end": "181890"
  },
  {
    "text": "section and the next Pythagoras discovered the octave had a ratio of 2",
    "start": "181890",
    "end": "188130"
  },
  {
    "text": "to 1 with simple fractions he got this",
    "start": "188130",
    "end": "193740"
  },
  {
    "text": "[Music] and from this harmony in numbers",
    "start": "193740",
    "end": "200439"
  },
  {
    "text": "developed the musical scale of today [Music]",
    "start": "200439",
    "end": "206680"
  },
  {
    "text": "all right and then it goes into like a whole other thing but anyway by the way Disney Corporation that qualifies as",
    "start": "206680",
    "end": "214850"
  },
  {
    "text": "fair use please don't delete this video from YouTube after the fact that was under a minute was under a minute so let",
    "start": "214850",
    "end": "222770"
  },
  {
    "text": "me talk about the impact that this that this video and this this this specific",
    "start": "222770",
    "end": "228590"
  },
  {
    "text": "cartoon had in my life I sort of fell in love with the thakura's so this is actually my AOL screen name this",
    "start": "228590",
    "end": "234230"
  },
  {
    "text": "Pythagoras spelled backwards I tried to find I tried to actually revive a desktop computer that had a all instant",
    "start": "234230",
    "end": "240890"
  },
  {
    "text": "messenger installed so it could take a screenshot don't try to do that don't try to do that the weekend before your talk especially bad idea I also as a",
    "start": "240890",
    "end": "248720"
  },
  {
    "text": "musician released three albums under the name Pythagoras this is an album called pathology and I also did three other",
    "start": "248720",
    "end": "254930"
  },
  {
    "text": "albums called the Pythagorean theorem one two and three so I was really into Pythagoras and it was really into like",
    "start": "254930",
    "end": "261140"
  },
  {
    "text": "all his ratio stuff so more on that later also remember when I said I was a",
    "start": "261140",
    "end": "268040"
  },
  {
    "start": "266000",
    "end": "420000"
  },
  {
    "text": "recovering DJ so let's talk about College College was a weird time where",
    "start": "268040",
    "end": "273500"
  },
  {
    "text": "people sort of experiment and they try to find themselves and you know they're somewhat lonely and they're trying to make friends and that sort of thing and",
    "start": "273500",
    "end": "280100"
  },
  {
    "text": "so uh I BK I like had some musical background but I started out I had a brief career as a classical composer in",
    "start": "280100",
    "end": "286729"
  },
  {
    "text": "high school I actually wrote some music for my high school orchestra it sounded [Music]",
    "start": "286729",
    "end": "296500"
  },
  {
    "text": "that was me circa 1997 and then I have slightly longer career as a MIDI",
    "start": "296500",
    "end": "301510"
  },
  {
    "text": "musician we had actually write songs we all had like the same sound cards and we would upload them to the Internet in",
    "start": "301510",
    "end": "307720"
  },
  {
    "text": "like be like bulletin board forum type things and then we would like finish each other's songs so this is an example",
    "start": "307720",
    "end": "314020"
  },
  {
    "text": "of one of the songs that I worked on I",
    "start": "314020",
    "end": "317430"
  },
  {
    "text": "[Music] just want to get to that cool drum part",
    "start": "322450",
    "end": "328870"
  },
  {
    "text": "so but then college happened and and this wasn't really no one was really",
    "start": "328870",
    "end": "333880"
  },
  {
    "text": "resonating with that and people were really into this DJ thing because parties so I became someone that looked",
    "start": "333880",
    "end": "340930"
  },
  {
    "text": "like that hopefully not as far gone as as they were and hopefully not that guy",
    "start": "340930",
    "end": "345970"
  },
  {
    "text": "in the back either but I did I definitely did this a lot and so well",
    "start": "345970",
    "end": "353230"
  },
  {
    "text": "we'll get into that in a second but one of the things I did is as a classical composer and as a MIDI musician and as",
    "start": "353230",
    "end": "360040"
  },
  {
    "text": "someone that was really in love with the tigris when I was working on DJ sets I would apply music theory each of those",
    "start": "360040",
    "end": "366550"
  },
  {
    "text": "DJ sets and a lot of the DJ's that get paid like 20 million dollars a year to go fly around the world and play Dubai",
    "start": "366550",
    "end": "371830"
  },
  {
    "text": "and stuff they also apply music theory to their DJ sets and so this was",
    "start": "371830",
    "end": "377140"
  },
  {
    "text": "actually like one of my more popular mashups has anyone heard of the term mashup how about like mashup in the context of web 2.0 like where you take",
    "start": "377140",
    "end": "384880"
  },
  {
    "text": "like two api's from two different things together that came from this notion of like taking two songs and putting them together so this was one that I worked",
    "start": "384880",
    "end": "392080"
  },
  {
    "text": "on some time in the aughts I can't remember exactly when I think the date stamps on there it's called Beyonce",
    "start": "392080",
    "end": "397330"
  },
  {
    "text": "rockin beats and you can you can hear why maybe if you recognize the song",
    "start": "397330",
    "end": "402920"
  },
  {
    "text": "[Music]",
    "start": "402920",
    "end": "410849"
  },
  {
    "text": "anyway does anyone recognize those songs all right what the hell was that what was it I understand Michael Scott",
    "start": "410849",
    "end": "418060"
  },
  {
    "text": "doesn't understand either so that was Beyonce baby boy and Chemical Brothers block rock and beats",
    "start": "418060",
    "end": "424569"
  },
  {
    "text": "and how those two songs work together like what made them gel in a way that",
    "start": "424569",
    "end": "429759"
  },
  {
    "text": "like most random songs wouldn't well I how did it work harmonics and",
    "start": "429759",
    "end": "436210"
  },
  {
    "text": "we're gonna learn about harmonics today we're gonna learn a little bit about discrete optimization we're mostly gonna learn about harmonics most of my talk is",
    "start": "436210",
    "end": "442479"
  },
  {
    "text": "on harmonics so remember Pythagoras he",
    "start": "442479",
    "end": "447659"
  },
  {
    "text": "came up with these ratios and these ratios represent the the frequencies so",
    "start": "447659",
    "end": "456009"
  },
  {
    "text": "like how quickly a wave travels or how like the period between the waves and",
    "start": "456009",
    "end": "462219"
  },
  {
    "text": "the ratio between those those waves end up producing things that have sort of",
    "start": "462219",
    "end": "470319"
  },
  {
    "text": "like pleasing sounds of the year we're gonna go into why it's pleasing a little bit as well so these two particular",
    "start": "470319",
    "end": "477039"
  },
  {
    "text": "songs are what are known as perfect fifths from each other so this is from a",
    "start": "477039",
    "end": "483039"
  },
  {
    "text": "website where they do some like key detection and so you can see Beyonce's baby boy is in D flat major and Chemical",
    "start": "483039",
    "end": "490779"
  },
  {
    "text": "Brothers block rock and beats is in b-flat minor so they're perfect fifths from each other means mean they're five notes apart on each other scale but",
    "start": "490779",
    "end": "498610"
  },
  {
    "text": "since one is major and the others minor they they're compatible they basically",
    "start": "498610",
    "end": "503620"
  },
  {
    "text": "share the same notes on the keyboard they just have a different root note and we'll go into a little bit more about that as well just as a poll of the room",
    "start": "503620",
    "end": "509529"
  },
  {
    "text": "who plays an instrument in here okay who knows what major and minor are okay for",
    "start": "509529",
    "end": "515768"
  },
  {
    "text": "the rest of you we're gonna cover it briefly or someone else's I'm gonna delegate that to someone on YouTube but",
    "start": "515769",
    "end": "523169"
  },
  {
    "text": "this is a really big principle in terms of like figuring out how to make songs",
    "start": "523169",
    "end": "528940"
  },
  {
    "text": "progress so this is a picture of the circle of fifths as I said before b-flat",
    "start": "528940",
    "end": "534940"
  },
  {
    "start": "530000",
    "end": "766000"
  },
  {
    "text": "is the perfect fifth of D flat we'll cover more on that well why does it matter why it doesn't",
    "start": "534940",
    "end": "542480"
  },
  {
    "text": "matter because the brain likes to do math but not too much of it so this is",
    "start": "542480",
    "end": "548390"
  },
  {
    "text": "Adam Elia is anyone familiar with Adam Neely alright I got the the serious musician in the room back there the",
    "start": "548390",
    "end": "554510"
  },
  {
    "text": "music theorist so Adam Neely is probably like one of the more popular youtubers and he puts out a video series where he",
    "start": "554510",
    "end": "561560"
  },
  {
    "text": "basically explains a bunch of music theory and I try to do a similar",
    "start": "561560",
    "end": "566630"
  },
  {
    "text": "explanation in rehearsal and it didn't go very well so I'm just gonna delegate to him to explain a few musical principles and",
    "start": "566630",
    "end": "573470"
  },
  {
    "text": "specifically how the brain processes sounds when sounds are tunnel when the sound of the clips hits your inner ear a",
    "start": "573470",
    "end": "580280"
  },
  {
    "text": "structure called the basilar membrane vibrate in sympathy with the total number of Clips hitting it per second",
    "start": "580280",
    "end": "586550"
  },
  {
    "text": "tiny hair cells and the inner ear will convert that acoustic information into electrical impulses that the brain can",
    "start": "586550",
    "end": "592460"
  },
  {
    "text": "then interpret just the same way that a microphone will pick up sound waves to be either amplified or recorded what",
    "start": "592460",
    "end": "598550"
  },
  {
    "text": "happens next I think it's pretty incredible and also not that well understood our ears can do now really",
    "start": "598550",
    "end": "605540"
  },
  {
    "text": "quickly I'm afraid we need to use math let's take these two sine waves one",
    "start": "605540",
    "end": "612390"
  },
  {
    "text": "vibrates at 520 times per second to the other vibrates at 650 times per second their ear automatically calculates the",
    "start": "612390",
    "end": "619500"
  },
  {
    "text": "ratio between the two of them as this is the interval of a major third because",
    "start": "619500",
    "end": "625200"
  },
  {
    "text": "five against four is a simple ratio with simple integers our ear accepted as a",
    "start": "625200",
    "end": "630450"
  },
  {
    "text": "pleasing sound our ears automatically do what our conscious brains might have to labor over quickly calculate ratios",
    "start": "630450",
    "end": "636450"
  },
  {
    "text": "between two separate pitches and boy can they do it quickly thousands of notes per second can be processed by the brain",
    "start": "636450",
    "end": "642360"
  },
  {
    "text": "with the right sort of math behind it all right that blew my freakin mind the",
    "start": "642360",
    "end": "649980"
  },
  {
    "text": "first time and I saw it because I knew about the ratios but I didn't really think about the fact that like the",
    "start": "649980",
    "end": "656160"
  },
  {
    "text": "simpler the ratio the more pleasing it is to the brain because the less work it has to do but like you want some sort of",
    "start": "656160",
    "end": "661980"
  },
  {
    "text": "variety to keep it interesting it's like all other forms of sort of like artistic consumption but what does it have to do",
    "start": "661980",
    "end": "669000"
  },
  {
    "text": "with Beyonce what does it does anyone have a guess as to what that has to do with Beyonce all right",
    "start": "669000",
    "end": "674460"
  },
  {
    "text": "good because it was a rhetorical question anyway maybe the answer lies in the harmonic series the harmonic series",
    "start": "674460",
    "end": "681120"
  },
  {
    "text": "also known as the overtone series is based upon simple multiples of a fundamental so if your fundamental is",
    "start": "681120",
    "end": "686700"
  },
  {
    "text": "100 Hertz the second harmonic will be 200 Hertz [Music]",
    "start": "686700",
    "end": "692020"
  },
  {
    "text": "300 just take whatever the frequency of a note is multiply it by a number and",
    "start": "692020",
    "end": "697060"
  },
  {
    "text": "then you get that number come on it's so easy even a musician can do it we hear all of the different harmonics as",
    "start": "697060",
    "end": "702970"
  },
  {
    "text": "different pitches and intervals and relationship back to the word our brains process the differences between",
    "start": "702970",
    "end": "708130"
  },
  {
    "text": "harmonics as musical intervals the ratios between two of them create a harmonic interval for example the",
    "start": "708130",
    "end": "714250"
  },
  {
    "text": "distance between the before or the ratio of a major food",
    "start": "714250",
    "end": "721150"
  },
  {
    "text": "major thirds are in our system of Western harmony but other intervals aren't that the distance between the",
    "start": "721150",
    "end": "727300"
  },
  {
    "text": "seventh",
    "start": "727300",
    "end": "729690"
  },
  {
    "text": "sorry about that was that that lap that last part was pretty displeasing to your ear though right so it turns out I'm",
    "start": "732490",
    "end": "740420"
  },
  {
    "text": "just gonna foreshadow a later part of the presentation it turns out that people are making playlists with these intervals and not knowing it and it's",
    "start": "740420",
    "end": "746060"
  },
  {
    "text": "sounding awful especially is there anyone use shuffle shuffle does that right shuffle will do that because it",
    "start": "746060",
    "end": "752270"
  },
  {
    "text": "doesn't understand music theory so what we're going to be talking about today is building a better mousetrap a shuffle",
    "start": "752270",
    "end": "758600"
  },
  {
    "text": "sort effectively that understands musical composition and how we might be able to apply that so let's go back to",
    "start": "758600",
    "end": "768080"
  },
  {
    "start": "766000",
    "end": "935000"
  },
  {
    "text": "Beyonce and Chemical Brothers so we just understand what a perfect fifth was so",
    "start": "768080",
    "end": "773330"
  },
  {
    "text": "there's a ratio between two frequencies the fundamental so now I'm going to go",
    "start": "773330",
    "end": "779450"
  },
  {
    "text": "over to the keyboard and I'm gonna attempt can we all right we can all see the keyboard that's great I'm so excited",
    "start": "779450",
    "end": "785270"
  },
  {
    "text": "I was very nervous about this alright so we've got a B or a D flat",
    "start": "785270",
    "end": "792460"
  },
  {
    "text": "okay and then we've also got a b-flat",
    "start": "792970",
    "end": "798240"
  },
  {
    "text": "okay so if you hear these together that get that right hold on it yeah D",
    "start": "798240",
    "end": "807810"
  },
  {
    "text": "flat and it be flat okay so the scale if you watch the keys",
    "start": "807810",
    "end": "816080"
  },
  {
    "text": "are just a little bit over that way so the scale starting at D flat if we're",
    "start": "816080",
    "end": "822450"
  },
  {
    "text": "playing a D flat minor it sounds like this",
    "start": "822450",
    "end": "826820"
  },
  {
    "text": "okay now the notes from that scale happen to also be the scale a b-flat",
    "start": "831380",
    "end": "839010"
  },
  {
    "text": "major what did what did D flat minor sound like they did sign sound happier sad sad or a little weird like it makes",
    "start": "839010",
    "end": "847800"
  },
  {
    "text": "you feel a little nervous like something wrong is about to happen and that's because the intervals of a minor scale",
    "start": "847800",
    "end": "854130"
  },
  {
    "text": "are a little there they're less pleasing dory or they're a little bit more complex and some composers would say",
    "start": "854130",
    "end": "859860"
  },
  {
    "text": "interesting but just to avoid any contribution we go see complex so now",
    "start": "859860",
    "end": "865560"
  },
  {
    "text": "let's play the the b-flat major scale so same notes very good keyboards okay",
    "start": "865560",
    "end": "877519"
  },
  {
    "text": "so if I got those scales correctly which I don't think I did they they would they",
    "start": "882460",
    "end": "888070"
  },
  {
    "text": "would have the same notes and because they have the same notes if your ear",
    "start": "888070",
    "end": "894520"
  },
  {
    "text": "gets used to listening to a song that has those notes and then you go to another song that also has those notes",
    "start": "894520",
    "end": "901300"
  },
  {
    "text": "you're gonna think like ah I'm still in the same musical sort of like groove that I was before now if I played",
    "start": "901300",
    "end": "907180"
  },
  {
    "text": "something that was very dissonant and I can't on demand at practice it can't I can't do it but if I played something",
    "start": "907180",
    "end": "912670"
  },
  {
    "text": "that was what was called dissonant where we had like some intervals that didn't really make sense that was good that would be jarring that would that would",
    "start": "912670",
    "end": "918910"
  },
  {
    "text": "kind of like screw you up and make you think like well this doesn't like these two songs don't go together I can't",
    "start": "918910",
    "end": "924130"
  },
  {
    "text": "really unless you're a musician and you can like just recognize keys and scales on demand you may not know why but",
    "start": "924130",
    "end": "929830"
  },
  {
    "text": "you'll definitely like have it naturally in your brain that it sounds weird so",
    "start": "929830",
    "end": "935520"
  },
  {
    "start": "935000",
    "end": "1082000"
  },
  {
    "text": "relative minor just as a refresher of D flat major is B flat so they share the",
    "start": "935520",
    "end": "942640"
  },
  {
    "text": "same keys and you can sort of see those here and we already saw down the keyboard because I forgot the order of",
    "start": "942640",
    "end": "948730"
  },
  {
    "text": "my slides but while we're over here remember that experiment we did at the beginning where we sang we're going to",
    "start": "948730",
    "end": "953830"
  },
  {
    "text": "do that one more time right so [Music]",
    "start": "953830",
    "end": "965300"
  },
  {
    "text": "[Applause] [Music]",
    "start": "965300",
    "end": "970878"
  },
  {
    "text": "so I didn't actually I'm gonna do that one more time with the keyboard thing",
    "start": "972110",
    "end": "977570"
  },
  {
    "text": "here pay attention to these lights for a second",
    "start": "977570",
    "end": "982030"
  },
  {
    "text": "you can't [Music]",
    "start": "984010",
    "end": "990590"
  },
  {
    "text": "so what I'm doing this",
    "start": "990590",
    "end": "994690"
  },
  {
    "text": "and back in the day before we had these fancy like Nord synthesizers in order to make sounds sound rich what you would do",
    "start": "995890",
    "end": "1003209"
  },
  {
    "text": "is you would add harmonics you would have you would add intervals beyond the bass note that's played in order to make",
    "start": "1003209",
    "end": "1009360"
  },
  {
    "text": "the sound full and some of those intervals are actually intervals that aren't octaves of the same note and so",
    "start": "1009360",
    "end": "1017670"
  },
  {
    "text": "what I was doing with the red lights is I was removing certain elements so you could actually hear different tones so",
    "start": "1017670",
    "end": "1023130"
  },
  {
    "text": "when we were singing a note that we thought we heard those because we were hearing the fundamental frequency but",
    "start": "1023130",
    "end": "1028199"
  },
  {
    "text": "even hidden in that frequency there's a number of other frequencies and that also has an impact on the way that we",
    "start": "1028199",
    "end": "1033569"
  },
  {
    "text": "perceive sound there's actually only one one sound that can't be produced in the",
    "start": "1033569",
    "end": "1039030"
  },
  {
    "text": "natural world that has a perfect like flat set of harmonics that are only",
    "start": "1039030",
    "end": "1045720"
  },
  {
    "text": "octaves so actually that's too low for the speaker so that's what's called a",
    "start": "1045720",
    "end": "1052169"
  },
  {
    "text": "sine wave and those are what you hear when you get like hearing tests and that sort of thing because there's no other",
    "start": "1052169",
    "end": "1057990"
  },
  {
    "text": "stuff going on but most music is not just sine wave music that would be kind",
    "start": "1057990",
    "end": "1063510"
  },
  {
    "text": "of weird that would be actually really boring or like I don't know it would be like new AG type music sorry sorry Yanni",
    "start": "1063510",
    "end": "1070890"
  },
  {
    "text": "I was really into Yanni when I was like 7 it was like wanted like the 20 like CDs that my parents owned and so but so",
    "start": "1070890",
    "end": "1077970"
  },
  {
    "text": "I don't want to knock New Age but yeah they used sine waves a lot so that's a",
    "start": "1077970",
    "end": "1083760"
  },
  {
    "start": "1082000",
    "end": "1118000"
  },
  {
    "text": "pipe organ and so you can see there all of these different pipes have different links and so that's what makes the sound",
    "start": "1083760",
    "end": "1090390"
  },
  {
    "text": "sound full the same thing applies for guitar the same thing applies for flute they all have what's called different",
    "start": "1090390",
    "end": "1097110"
  },
  {
    "text": "Tambor's in that timbre represents all the different sub harmonics that are there are we still here on harmonics are",
    "start": "1097110",
    "end": "1102780"
  },
  {
    "text": "we digging harmonics did we learn something about harmonics is that's the most important part are we gonna go home and tell their friends and family how",
    "start": "1102780",
    "end": "1109020"
  },
  {
    "text": "cool harmonics are awesome I heard it yes for the camera I heard it yes so",
    "start": "1109020",
    "end": "1115740"
  },
  {
    "text": "sliders simulate pipes of different intervals of notes being played so let's talk about playlist has anyone seen high",
    "start": "1115740",
    "end": "1121020"
  },
  {
    "start": "1118000",
    "end": "1224000"
  },
  {
    "text": "fidelity the movie alright so in that movie John Cusack talks a lot about the rules of making a playlist he's talking",
    "start": "1121020",
    "end": "1127740"
  },
  {
    "text": "about the emotional rules like what songs need to go in but he also talks about the fact that you shouldn't like",
    "start": "1127740",
    "end": "1132950"
  },
  {
    "text": "you shouldn't elevate and then like deconstruct too quickly and so all of those are effectively rules and I love",
    "start": "1132950",
    "end": "1138590"
  },
  {
    "text": "rules I'm a programmer and I work a lot with constraint solvers and so I asked myself like can I take some of these",
    "start": "1138590",
    "end": "1144649"
  },
  {
    "text": "rules some of these music theory things and build a solar with that and I'll",
    "start": "1144649",
    "end": "1149720"
  },
  {
    "text": "explain what a solver is you don't worry if you're if you're confused by that that's totally natural I was I was",
    "start": "1149720",
    "end": "1155840"
  },
  {
    "text": "confused at first too until I saw the light so what matters musically to a playlist and this is this is my theory I",
    "start": "1155840",
    "end": "1163279"
  },
  {
    "text": "don't know if this is like an official like if you go to Wikipedia and you ask what matters to a playlist I don't know if they would necessarily agree but I",
    "start": "1163279",
    "end": "1169429"
  },
  {
    "text": "would say tone matters to a playlist so the chromatic compatibility that we were looking at before like being in the same",
    "start": "1169429",
    "end": "1174740"
  },
  {
    "text": "key or a complementary key or a fifth up or a fifth down will explain what those are the timing which is spelled with the",
    "start": "1174740",
    "end": "1182330"
  },
  {
    "text": "in in the second-to-last letter so timing would be like the tempo and also",
    "start": "1182330",
    "end": "1188240"
  },
  {
    "text": "the cadence so whether you're in 3/4 or 4/4 or whether you're playing really faster than the tempo we're really slow",
    "start": "1188240",
    "end": "1193880"
  },
  {
    "text": "in the tempo with a lot of different notes and the tambour and the Tambor represents like a lot about the",
    "start": "1193880",
    "end": "1199399"
  },
  {
    "text": "instrumentation of the song as well so let's talk about tongue because tone I",
    "start": "1199399",
    "end": "1204919"
  },
  {
    "text": "think is the most interesting and that's actually the rule that we're gonna be focused on today during the talk before",
    "start": "1204919",
    "end": "1210799"
  },
  {
    "text": "we do that let's talk about modes so raise your hand when I was asking before major/minor who is not fully aware of",
    "start": "1210799",
    "end": "1217460"
  },
  {
    "text": "major minor ok that is enough of the audience that we're gonna watch this video so this is Jacob Colley a",
    "start": "1217460",
    "end": "1224720"
  },
  {
    "start": "1224000",
    "end": "1313000"
  },
  {
    "text": "gentleman familiar Jacob Collier he's a Grammy award-winning musician he signed to Quincy Jones's label he was like a",
    "start": "1224720",
    "end": "1231110"
  },
  {
    "text": "child prodigy at fifteen and put a bunch of videos on YouTube where he was like harmonizing with people's random",
    "start": "1231110",
    "end": "1236419"
  },
  {
    "text": "melodies and so he did this series for Wired where he explained harmony to five",
    "start": "1236419",
    "end": "1241880"
  },
  {
    "text": "different degrees of complexity so first he explained it to a kindergartner then he explained it to a grade-school person",
    "start": "1241880",
    "end": "1247640"
  },
  {
    "text": "then he explained it to I think like a high school student and it caught it eventually was like Herbie Hancock so he was like jamming out with Herbie Hancock",
    "start": "1247640",
    "end": "1253970"
  },
  {
    "text": "and that was really cool but the way he explained it to a kindergartner I thought was really really interesting and he talks about major minor",
    "start": "1253970",
    "end": "1260000"
  },
  {
    "text": "is about injecting melody with emotion so that ultimately you leave home and",
    "start": "1260000",
    "end": "1265400"
  },
  {
    "text": "you return home and you've learned something along the way yeah so a nice place to start is with the idea of a",
    "start": "1265400",
    "end": "1270800"
  },
  {
    "text": "triad I tried is a three-part harmony basically so that's you know so this is",
    "start": "1270800",
    "end": "1276410"
  },
  {
    "text": "called C major have you heard this idea of like major chords and minor chords yeah so this is C major this is C minor",
    "start": "1276410",
    "end": "1287270"
  },
  {
    "text": "so the feelings are different right yeah feels like darkness yeah yeah so it's an",
    "start": "1287270",
    "end": "1298220"
  },
  {
    "text": "oversimplification again very controversial subject in music theory but but effectively they they have",
    "start": "1298220",
    "end": "1303620"
  },
  {
    "text": "different like you can't necessarily take a C major and go into a C minor and call that a musical transition where",
    "start": "1303620",
    "end": "1310850"
  },
  {
    "text": "you're going from song to song at least I don't believe that's the case so there's this thing called the Camelot system this is this is pretty canonical",
    "start": "1310850",
    "end": "1319700"
  },
  {
    "start": "1313000",
    "end": "1393000"
  },
  {
    "text": "within the like turn tables at a dance club DJ world where basically you pick",
    "start": "1319700",
    "end": "1326180"
  },
  {
    "text": "you figure out what key a song is in so let's say that we start with E major and from E major I can play another song any",
    "start": "1326180",
    "end": "1332150"
  },
  {
    "text": "major that's easy that's like child's play but I can also go I can go down a fifth to a major that's",
    "start": "1332150",
    "end": "1340190"
  },
  {
    "text": "also acceptable because they share a lot of the same notes I could go up the fifth to B major they also share a lot",
    "start": "1340190",
    "end": "1346100"
  },
  {
    "text": "of notes or I could go to a complementary key so the complementary key we were talking before about D flat",
    "start": "1346100",
    "end": "1352370"
  },
  {
    "text": "minor and B flat major that those are complementary keys in this case it's a",
    "start": "1352370",
    "end": "1357770"
  },
  {
    "text": "major and in D flat minor and so has anyone heard of the circle of fifths",
    "start": "1357770",
    "end": "1363430"
  },
  {
    "text": "okay so the circle of fifths is basically just walking this Camelot scale clockwise or counterclockwise it",
    "start": "1363430",
    "end": "1370700"
  },
  {
    "text": "odd infinitum like there's a lot of like guitars could do this all day and it would sound very musical and great but",
    "start": "1370700",
    "end": "1376250"
  },
  {
    "text": "you could also apply this to DJ sets again turntables in a nightclub and one",
    "start": "1376250",
    "end": "1381500"
  },
  {
    "text": "of the things that I discovered once I started getting out of turntables into the nightclub mode is you could also apply this to just regular playlists",
    "start": "1381500",
    "end": "1388130"
  },
  {
    "text": "where you're supplying one song after another and there's no real transition that was one of the things that I did",
    "start": "1388130",
    "end": "1393669"
  },
  {
    "start": "1393000",
    "end": "1438000"
  },
  {
    "text": "that's said that's not me that's that's someone that makes way more money than I do as a software engineer but but I I",
    "start": "1393669",
    "end": "1402080"
  },
  {
    "text": "did do mixtapes like post-college and this was an example of one transition where I used the Camelot",
    "start": "1402080",
    "end": "1408200"
  },
  {
    "text": "scale to figure out appropriate transitions between non dance songs",
    "start": "1408200",
    "end": "1415299"
  },
  {
    "text": "[Music]",
    "start": "1420740",
    "end": "1437919"
  },
  {
    "text": "so it's it was actually kind of hard to hear but there was a little bit of a drone that was happening that was continued on from the previous song and",
    "start": "1437919",
    "end": "1444700"
  },
  {
    "start": "1438000",
    "end": "1474000"
  },
  {
    "text": "the sustained note from the guitar but the challenges no one owns their media anymore so like you can't really take",
    "start": "1444700",
    "end": "1451419"
  },
  {
    "text": "these songs and like put them like together in like an audio sort of",
    "start": "1451419",
    "end": "1457179"
  },
  {
    "text": "nonlinear editor like all music is basically in the cloud like it would be weird if I just gave someone a link to",
    "start": "1457179",
    "end": "1463509"
  },
  {
    "text": "an s3 bucket and said like here download my new mixtape I don't even know people know how to do that anymore so so almost",
    "start": "1463509",
    "end": "1470350"
  },
  {
    "text": "everyone lists of sir music in the cloud which sort of posed a problem it's good news for playlist because playlists are",
    "start": "1470350",
    "end": "1476470"
  },
  {
    "start": "1474000",
    "end": "1504000"
  },
  {
    "text": "pervasive now and even that Jacob Kali a guy that we were looking at before he put up a playlist that he adds to on a",
    "start": "1476470",
    "end": "1482110"
  },
  {
    "text": "weekly basis of songs that he likes and there's like thousands or millions of playlist on Spotify at this point but",
    "start": "1482110",
    "end": "1488440"
  },
  {
    "text": "people are even writing PhD theses about it which is which is awesome this is actually a really interesting paper and",
    "start": "1488440",
    "end": "1495100"
  },
  {
    "text": "how like playlists have impacted our culture but you can't do fancy tricks and Spotify like play one more one more",
    "start": "1495100",
    "end": "1501279"
  },
  {
    "text": "than one song at a time so what can we do well we can reorder the tracks it's",
    "start": "1501279",
    "end": "1507789"
  },
  {
    "start": "1504000",
    "end": "1520000"
  },
  {
    "text": "revolutionary we could we could we could take we could take you know tracks a B and C and make it C ad or make it D a",
    "start": "1507789",
    "end": "1514710"
  },
  {
    "text": "whatever I didn't list D in the first one but that's alright um so uh anyone",
    "start": "1514710",
    "end": "1520990"
  },
  {
    "start": "1520000",
    "end": "1575000"
  },
  {
    "text": "know Ricci Sakamoto all right finally I found a reference that no one understood all right perfect",
    "start": "1520990",
    "end": "1526360"
  },
  {
    "text": "um so Ryoichi Sakamoto is a Japanese composer and he likes eating at fancy",
    "start": "1526360",
    "end": "1531460"
  },
  {
    "text": "restaurants in Japan but he there was one restaurant that he ate at that he really really hated the music and for",
    "start": "1531460",
    "end": "1537789"
  },
  {
    "text": "years he secretly like he went to the owner of the restaurant was like hey I'm gonna program your playlist for me I'm a really good musician I don't tell anyone",
    "start": "1537789",
    "end": "1544990"
  },
  {
    "text": "I'm just gonna like I'm gonna make your playlist and he applied all this music theory to to the playlist and then the",
    "start": "1544990",
    "end": "1551379"
  },
  {
    "text": "new someone from the New York Times discovered and they wrote a whole article that was really fast nating he rejects the notion that",
    "start": "1551379",
    "end": "1557140"
  },
  {
    "text": "algorithmic playlists are good and I disagree with him and he's probably right because he's smarter than I am but I'm still going to do this talk anyway I",
    "start": "1557140",
    "end": "1564340"
  },
  {
    "text": "thought about rewriting my whole talk by the way this morning to use quantum computing because I mean that but",
    "start": "1564340",
    "end": "1572050"
  },
  {
    "text": "apparently we don't have enough key bits for that so this is a talk about discrete optimization so is anyone care",
    "start": "1572050",
    "end": "1580810"
  },
  {
    "start": "1575000",
    "end": "1595000"
  },
  {
    "text": "to take a stab at defining a discrete optimization good good because I've",
    "start": "1580810",
    "end": "1586330"
  },
  {
    "text": "rehearsed an explanation so this is the Wikipedia page for the discrete",
    "start": "1586330",
    "end": "1593380"
  },
  {
    "text": "optimization problem it's too long you didn't read it did anyone actually read the whole thing no good all right",
    "start": "1593380",
    "end": "1599680"
  },
  {
    "start": "1595000",
    "end": "1600000"
  },
  {
    "text": "so discrete just means it has a finite number of possible solutions so if I have a 10 track playlist there are only",
    "start": "1599680",
    "end": "1606640"
  },
  {
    "start": "1600000",
    "end": "1620000"
  },
  {
    "text": "a finite number of configurations of those tracks versus like an infinite number continuous optimization which",
    "start": "1606640",
    "end": "1613420"
  },
  {
    "text": "could be like floating point integers odd infinitum it like infinite levels of",
    "start": "1613420",
    "end": "1618730"
  },
  {
    "text": "precision an optimization is searching those options to find one that closely",
    "start": "1618730",
    "end": "1624160"
  },
  {
    "start": "1620000",
    "end": "1636000"
  },
  {
    "text": "matches a set of rules so basically what you're looking to do is you're looking to minute minimize something or maximize",
    "start": "1624160",
    "end": "1630610"
  },
  {
    "text": "something in this case it's minimizing the number of really ugly key changes in a playlist so what are our rules so song",
    "start": "1630610",
    "end": "1638890"
  },
  {
    "start": "1636000",
    "end": "1684000"
  },
  {
    "text": "should play exactly once and some song transitions to be two songs in the same key but unless we have a playlist of all",
    "start": "1638890",
    "end": "1646240"
  },
  {
    "text": "songs in the same key we're going to need other songs to transition to adjacent keys on the camelot scale so",
    "start": "1646240",
    "end": "1652320"
  },
  {
    "text": "clockwise one counterclockwise one down or up one and so on transitions should",
    "start": "1652320",
    "end": "1658480"
  },
  {
    "text": "avoid drastic tempo or timbre changes as well that's one of the nice things about discrete optimization tools like the one",
    "start": "1658480",
    "end": "1664360"
  },
  {
    "text": "that we're using is you could just layer on all sorts of rules you could say like I don't want I don't want I'm trying to",
    "start": "1664360",
    "end": "1671710"
  },
  {
    "text": "think of a rapper or something I don't I don't want Beyonce to play after Chemical Brothers for some reason or I",
    "start": "1671710",
    "end": "1677470"
  },
  {
    "text": "don't want jay-z or in Beyonce to play after each other because that's just like passe at this point so all the",
    "start": "1677470",
    "end": "1684910"
  },
  {
    "start": "1684000",
    "end": "1691000"
  },
  {
    "text": "songs are in the cloud so that's hard how gonna actually analyze the songs to",
    "start": "1684910",
    "end": "1689980"
  },
  {
    "text": "figure out what key they're in so this is a talk about API integration Spotify",
    "start": "1689980",
    "end": "1696009"
  },
  {
    "start": "1695000",
    "end": "1714000"
  },
  {
    "text": "has an amazing API even though it's restful and not graph kill will fix that later but they have an amazing API which",
    "start": "1696009",
    "end": "1704080"
  },
  {
    "text": "actually allows me to go grab all the playlists in JSON form with all the",
    "start": "1704080",
    "end": "1709779"
  },
  {
    "text": "tracks with all the artists with all the album metadata and this is what it looks",
    "start": "1709779",
    "end": "1715570"
  },
  {
    "start": "1714000",
    "end": "1724000"
  },
  {
    "text": "like to get a Spotify playlist this is a JSON payload that's coming from from them that uses OAuth you like sort of",
    "start": "1715570",
    "end": "1721299"
  },
  {
    "text": "authenticate as the user that you're requesting on behalf of so that's great",
    "start": "1721299",
    "end": "1726970"
  },
  {
    "start": "1724000",
    "end": "1742000"
  },
  {
    "text": "and all but what about the key zuwanie who this is so this Francis Scott Key",
    "start": "1726970",
    "end": "1734649"
  },
  {
    "text": "he wrote star-spangled banner' that that's aside the point he's going to be our ambassador for a couple of times we",
    "start": "1734649",
    "end": "1740320"
  },
  {
    "text": "were asking about keys so the Spotify mergers and acquisitions team to the",
    "start": "1740320",
    "end": "1746769"
  },
  {
    "start": "1742000",
    "end": "1771000"
  },
  {
    "text": "rescue so they acquired Spotify acquired a company in 2014 that was doing some really really cool stuff on there were",
    "start": "1746769",
    "end": "1752860"
  },
  {
    "text": "spin off of the MIT Media Lab and one of the things that they were doing is they were analyzing songs for all sorts of",
    "start": "1752860",
    "end": "1758980"
  },
  {
    "text": "things but one of the things that were analyzing for was key and both the root note and the mode when they're doing",
    "start": "1758980",
    "end": "1765159"
  },
  {
    "text": "simple modes they're not doing like mixolydian and all that fancy stuff but that's enough for me to work with and so",
    "start": "1765159",
    "end": "1770649"
  },
  {
    "text": "they actually introduced all the echo nest features into the Spotify API so it",
    "start": "1770649",
    "end": "1776470"
  },
  {
    "start": "1771000",
    "end": "1785000"
  },
  {
    "text": "turns out that in addition to all the track data on 20 tracks per request I can also get all this cool stuff so what",
    "start": "1776470",
    "end": "1784210"
  },
  {
    "text": "is this cool stuff so they give me the key index so that what they refer to as the key is really the the fundamental",
    "start": "1784210",
    "end": "1790629"
  },
  {
    "start": "1785000",
    "end": "1821000"
  },
  {
    "text": "frequency of this scale or the that's the root note of the scale so in this case the key is to which would be D and",
    "start": "1790629",
    "end": "1798850"
  },
  {
    "text": "the mode which is one represents major zero represents minor so I have that",
    "start": "1798850",
    "end": "1805059"
  },
  {
    "text": "information now I actually wrote software like a decade ago over months",
    "start": "1805059",
    "end": "1810970"
  },
  {
    "text": "that did that tried to do something similar to this and I was like I fell off my chair when I realized that this",
    "start": "1810970",
    "end": "1816159"
  },
  {
    "text": "was just available to me without having to write really any code other than a rest call so they also bring some other",
    "start": "1816159",
    "end": "1821920"
  },
  {
    "text": "helpful stuff for optimization so they're returning their there they're sort of analyzed tempo the time",
    "start": "1821920",
    "end": "1827380"
  },
  {
    "text": "signature the loud the loudness but then they also have all these other properties like dance ability energy",
    "start": "1827380",
    "end": "1832510"
  },
  {
    "text": "speech eNOS liveness speech eNOS is like how much is it like a podcast I guess it",
    "start": "1832510",
    "end": "1839110"
  },
  {
    "text": "took me a while to understand I thought it was I thought they were referring to like is it rap music or not but no it's like is there is there musical stuff",
    "start": "1839110",
    "end": "1845110"
  },
  {
    "text": "happening in the background is really that then it's not considered speechy these all down here are all intervals",
    "start": "1845110",
    "end": "1852790"
  },
  {
    "text": "from zero to one okay so we have the data now let's just assume we have the",
    "start": "1852790",
    "end": "1858520"
  },
  {
    "text": "data but how do we optimize anyone worked with optic planner opt you all",
    "start": "1858520",
    "end": "1864430"
  },
  {
    "start": "1859000",
    "end": "1946000"
  },
  {
    "text": "should be working with octave planner is really really cool software so Optive planner is a constraint solver for the",
    "start": "1864430",
    "end": "1870700"
  },
  {
    "text": "JVM it's open source originally from the JBoss team Red Hat and now I think it's a part of IBM I'm not actually sure what",
    "start": "1870700",
    "end": "1877180"
  },
  {
    "text": "iBM is doing with it but it's a it's a Java library that you can embed and we've embedded this often it's Pantry to",
    "start": "1877180",
    "end": "1884470"
  },
  {
    "text": "solve a lot of optimization problems so it's some examples of non Spotify optimization problems include trying to",
    "start": "1884470",
    "end": "1891730"
  },
  {
    "text": "figure out if we're at a conference like this and you want to meet people that match your interest like one of the",
    "start": "1891730",
    "end": "1897190"
  },
  {
    "text": "challenges when you have a conference of like 800 attendees is when and where to meet them and if you have a conference that's all focused on meeting people",
    "start": "1897190",
    "end": "1903760"
  },
  {
    "text": "then all of a sudden like you're gonna be sending e-mails back and forth hey can you meet at 10 oh no this other person needs to meet at 10 I'm not gonna",
    "start": "1903760",
    "end": "1909850"
  },
  {
    "text": "be able to do that time and so we wrote software that basically allowed everyone to say like I just want to meet with",
    "start": "1909850",
    "end": "1915940"
  },
  {
    "text": "these 40 people and then we say great give us your calendar we'll figure it out we've also written software for the",
    "start": "1915940",
    "end": "1922480"
  },
  {
    "text": "for the state of Massachusetts to schedule foster care reviews for 12,000",
    "start": "1922480",
    "end": "1928300"
  },
  {
    "text": "children that need foster care reviews every month there before that there was I think 12 people that spent three weeks",
    "start": "1928300",
    "end": "1935470"
  },
  {
    "text": "out of every four manually coming up with the schedule that we were able to hopefully reduce to the press of a",
    "start": "1935470",
    "end": "1940600"
  },
  {
    "text": "button so this is really cool software and not a lot of people know about it and we're going to go through some of it today so first if we're going to build a",
    "start": "1940600",
    "end": "1949270"
  },
  {
    "start": "1946000",
    "end": "1998000"
  },
  {
    "text": "a constraint solver an octave planner we have to model our domain so this is",
    "start": "1949270",
    "end": "1954940"
  },
  {
    "text": "caught I'm using Kotlin not because I hate Java but just because I like Kotlin better I'm sorry but so this is this is so we",
    "start": "1954940",
    "end": "1963340"
  },
  {
    "text": "model a track and it tracks going to basically mirror what we had in JSON format from the Spotify API I took some",
    "start": "1963340",
    "end": "1969370"
  },
  {
    "text": "liberties with the structure because there's a lot of things that don't care about for optimization so the track is",
    "start": "1969370",
    "end": "1974590"
  },
  {
    "text": "immutable the track will always remain it will always have the same album and",
    "start": "1974590",
    "end": "1979900"
  },
  {
    "text": "artists and name and what it will either remain explicit or not but the playlist",
    "start": "1979900",
    "end": "1985030"
  },
  {
    "text": "track that could mutate and the difference between a playlist track and a regular track in just the track itself",
    "start": "1985030",
    "end": "1990940"
  },
  {
    "text": "is that the playlist track some of the playlist tracks will have relationships to other tracks as far as like whether they go before after and we'll get into",
    "start": "1990940",
    "end": "1997150"
  },
  {
    "text": "that in a second so we're using a specific type of planning heuristic",
    "start": "1997150",
    "end": "2004740"
  },
  {
    "start": "1998000",
    "end": "2056000"
  },
  {
    "text": "called chaining so so effectively a playlist is a linked list right so I can model it",
    "start": "2004740",
    "end": "2011820"
  },
  {
    "text": "such that I have a starting track and then I have the next track and that next",
    "start": "2011820",
    "end": "2017460"
  },
  {
    "text": "track is going to point to the starting track and then the next track is going to track the point to that track and that actually turns out to be the most",
    "start": "2017460",
    "end": "2023220"
  },
  {
    "text": "optimal approach when you need exactly you want representation of all your planning entities so I model out my",
    "start": "2023220",
    "end": "2030090"
  },
  {
    "text": "first track and that's effectively immutable and then I modeled out what I what I'm calling my rest playlist track",
    "start": "2030090",
    "end": "2035280"
  },
  {
    "text": "I hate this name couldn't think of a better one by the time of the talk but this is basically every track that's not the first track and the difference is",
    "start": "2035280",
    "end": "2041970"
  },
  {
    "text": "the the rest playlist has a previous track value which links to the playlist track so this effectively like a reverse",
    "start": "2041970",
    "end": "2048690"
  },
  {
    "text": "linked list thing that we have going there is everyone kind of following that part okay I see some nods I see some",
    "start": "2048690",
    "end": "2055648"
  },
  {
    "text": "nods good so this is what that looks like so effectively you have an anchor",
    "start": "2055649",
    "end": "2060750"
  },
  {
    "start": "2056000",
    "end": "2083000"
  },
  {
    "text": "and then you have a chain of entities that point at other entities and in certain planning situations you can",
    "start": "2060750",
    "end": "2066030"
  },
  {
    "text": "actually have multiple like you can have trees of entities in our particular case it's all just linear because we're just",
    "start": "2066030",
    "end": "2072300"
  },
  {
    "text": "we're not playing like this isn't a quantum playlist that would be dope but no like there's there's no case where",
    "start": "2072300",
    "end": "2078810"
  },
  {
    "text": "you're playing both like Beyonce and jay-z at the same time in different multiverses so the first track remains",
    "start": "2078810",
    "end": "2084690"
  },
  {
    "start": "2083000",
    "end": "2112000"
  },
  {
    "text": "fixes an anchor the rest playlist tracks have this planning variable of previous tracks and then during",
    "start": "2084690",
    "end": "2090659"
  },
  {
    "text": "optimization what we're doing is we are basically just shuffling around the previous track value so that's",
    "start": "2090660",
    "end": "2098220"
  },
  {
    "text": "effectively how we're playing this game with playlist optimization is we're saying instead of this this playlist",
    "start": "2098220",
    "end": "2103770"
  },
  {
    "text": "track going from one song to this song I'm instead gonna go from here to there and and then we determine whether or not",
    "start": "2103770",
    "end": "2109770"
  },
  {
    "text": "that makes the score better or worse so now let's build a pining solution so",
    "start": "2109770",
    "end": "2115530"
  },
  {
    "start": "2112000",
    "end": "2120000"
  },
  {
    "text": "this is a lot of code and I'm using deck set and I learned this cool new feature called code highlighting that allows me",
    "start": "2115530",
    "end": "2121350"
  },
  {
    "start": "2120000",
    "end": "2153000"
  },
  {
    "text": "to highlight just a small part of the code so and we're gonna go through this like piece by piece so we provide what's",
    "start": "2121350",
    "end": "2127260"
  },
  {
    "text": "called a value range provider and that will provide two lists in this case so",
    "start": "2127260",
    "end": "2132810"
  },
  {
    "text": "our anchor track which is a viable previous track value and then all of our rest tracks are also viable previous",
    "start": "2132810",
    "end": "2139680"
  },
  {
    "text": "track values and so we'll annotate our planning our planning entity with the",
    "start": "2139680",
    "end": "2145470"
  },
  {
    "text": "names of those ranges and then that's what the Optifine our system decides to use when it randomizes what moves it's",
    "start": "2145470",
    "end": "2152010"
  },
  {
    "text": "making we also have a series of facts so these are other immutable things that sort of come along for the ride",
    "start": "2152010",
    "end": "2158340"
  },
  {
    "start": "2153000",
    "end": "2161000"
  },
  {
    "text": "and then we have a planning score and the score is the star of the show because the score basically tries to",
    "start": "2158340",
    "end": "2164700"
  },
  {
    "start": "2161000",
    "end": "2181000"
  },
  {
    "text": "keep track of how good this playlist is and so this score is going to be directed by a series of rules that we're",
    "start": "2164700",
    "end": "2170220"
  },
  {
    "text": "going to get into in a second but effectively what we're trying to do so there's the in this particular score there's three slots there's one hard",
    "start": "2170220",
    "end": "2176700"
  },
  {
    "text": "slot on that hard slot indicates that like this score is like this is a bad",
    "start": "2176700",
    "end": "2182130"
  },
  {
    "start": "2181000",
    "end": "2239000"
  },
  {
    "text": "playlist altogether so I'm playing the same song twice right or I'm not playing",
    "start": "2182130",
    "end": "2187380"
  },
  {
    "text": "this song that I really want to play so that's that's an enviable that's an",
    "start": "2187380",
    "end": "2192630"
  },
  {
    "text": "enviable solution and then they're soft things which are sorted a nice-to-have which is like in a perfect world if if",
    "start": "2192630",
    "end": "2198480"
  },
  {
    "text": "left unchecked I would never want to change keys now that's not reality if you have a hundred song playlist and",
    "start": "2198480",
    "end": "2204630"
  },
  {
    "text": "it's unless you were like intentionally creating a playlist on one Keys you're going to have to change keys but you want to try to keep that that soft score",
    "start": "2204630",
    "end": "2210630"
  },
  {
    "text": "as low as possible so we have two of those what the first slot represents the thing that we're going to be looking at",
    "start": "2210630",
    "end": "2216720"
  },
  {
    "text": "today which is just minimizing the key changes and then the next one has two more to do with the decay function of like don't",
    "start": "2216720",
    "end": "2222390"
  },
  {
    "text": "which out Keys on a regular basis so if you just switched up keys don't switch out keys again so zero hard no",
    "start": "2222390",
    "end": "2229740"
  },
  {
    "text": "feasibility issues with the solution soft some things are still suboptimal at various degrees of severity but we can",
    "start": "2229740",
    "end": "2236640"
  },
  {
    "text": "accept that because we live in an imperfect world so now let's write some rules so op to planner has a sister",
    "start": "2236640",
    "end": "2243029"
  },
  {
    "text": "project or actually more technically Optive planner is a is a cousin or a nephew of drools it used to be called",
    "start": "2243029",
    "end": "2249599"
  },
  {
    "text": "drools planner um is anyone aware if it drools okay alright no you worked with",
    "start": "2249599",
    "end": "2255240"
  },
  {
    "text": "drools awesome utilize this pantry we're gonna talk about that later so drools is a rules engine and I'm not",
    "start": "2255240",
    "end": "2263279"
  },
  {
    "text": "going to get into a lot of detail on that but I do have a lightning talk that he gave the chicago java user group on drills engines where we get into the",
    "start": "2263279",
    "end": "2269400"
  },
  {
    "text": "algorithms and stuff so I'll link that somewhere on like the website or something when I launch a website but",
    "start": "2269400",
    "end": "2276720"
  },
  {
    "start": "2276000",
    "end": "2282000"
  },
  {
    "text": "this is the rule for making sure that we play a song only once so let's start",
    "start": "2276720",
    "end": "2282900"
  },
  {
    "start": "2282000",
    "end": "2347000"
  },
  {
    "text": "with our wind claws so what we're doing is we're pattern matching so we're saying when we have a rest playlist track and the previous track has been",
    "start": "2282900",
    "end": "2289710"
  },
  {
    "text": "assigned we're gonna bind the previous track the this.p variable to the previous track now if you have another",
    "start": "2289710",
    "end": "2296160"
  },
  {
    "text": "rest play this track and it'll automatically check to make sure that this isn't a duplicate then if that",
    "start": "2296160",
    "end": "2303420"
  },
  {
    "text": "other playlist track is also linking to the same previous track than this bat right that means we're playing the same song twice we don't want to do that so",
    "start": "2303420",
    "end": "2309990"
  },
  {
    "text": "what we do in the then clause is we add what's called a hard constraint match and we're gonna penalize each instance",
    "start": "2309990",
    "end": "2318000"
  },
  {
    "text": "of this pattern occurring in my solution by negative one now the negative one is",
    "start": "2318000",
    "end": "2323250"
  },
  {
    "text": "important because what that means is that a perfect score is zero and so you're always trying to get to the",
    "start": "2323250",
    "end": "2329279"
  },
  {
    "text": "maximal score if you have an unbounded solution set then you can use a positive",
    "start": "2329279",
    "end": "2334500"
  },
  {
    "text": "number but in most cases like I've never actually come across a use case where that makes sense and Jeffrey just just",
    "start": "2334500",
    "end": "2341519"
  },
  {
    "text": "met the octave planner Project Lead agrees with me so just don't do it don't do it Kevin so this is the data",
    "start": "2341519",
    "end": "2349319"
  },
  {
    "start": "2347000",
    "end": "2359000"
  },
  {
    "text": "structure that that drools uses it's called the Reedy tree and effectively it compiles it down into this big tree",
    "start": "2349319",
    "end": "2355380"
  },
  {
    "text": "where it can reason through changes in working memory very quickly but what about key rules Francis",
    "start": "2355380",
    "end": "2362380"
  },
  {
    "start": "2359000",
    "end": "2364000"
  },
  {
    "text": "Scott Key's he's keeping us honest so for that we're gonna use what's called a shadow variable and a shadow variable is",
    "start": "2362380",
    "end": "2369790"
  },
  {
    "start": "2364000",
    "end": "2398000"
  },
  {
    "text": "something that listens to a change and and run some code to to make some",
    "start": "2369790",
    "end": "2375520"
  },
  {
    "text": "manipulations so in this particular case we have a shadow variable called key distance and any time the previous track",
    "start": "2375520",
    "end": "2382000"
  },
  {
    "text": "changes we're gonna call thank you we're gonna call the key distance function and",
    "start": "2382000",
    "end": "2387250"
  },
  {
    "text": "or we're gonna call this this method to update the key distance function so if let's say we went from an E major to an",
    "start": "2387250",
    "end": "2394630"
  },
  {
    "text": "a major the distance will be different on the camelot scale so that's what this code looks like I'm not going to force",
    "start": "2394630",
    "end": "2400360"
  },
  {
    "text": "you to look at all of it so we have two events after the entity is added or after the variable changed and then this",
    "start": "2400360",
    "end": "2407620"
  },
  {
    "start": "2406000",
    "end": "2422000"
  },
  {
    "text": "is the fancy math for us to figure out basically the distance on the camelot scale because the distance could be",
    "start": "2407620",
    "end": "2412840"
  },
  {
    "text": "closer Cal clockwise or counter-clockwise you have to do this modulo function I don't like writing",
    "start": "2412840",
    "end": "2418060"
  },
  {
    "text": "this much code but that's that's what had to happen in this particular case so",
    "start": "2418060",
    "end": "2423400"
  },
  {
    "text": "and this is the part where we tell oh my god okay this is the part where we tell opt to planetry change something new",
    "start": "2423400",
    "end": "2430000"
  },
  {
    "text": "brew install ASCII cinema to jiff so I was trying to install this library that converted like terminal things to gist",
    "start": "2430000",
    "end": "2436570"
  },
  {
    "text": "and I totally paste it into the wrong part of my code so but let's pay attention to the playlist track key",
    "start": "2436570",
    "end": "2443260"
  },
  {
    "text": "distance playlist track key distance so any time we detect that the new distance",
    "start": "2443260",
    "end": "2449830"
  },
  {
    "text": "is different from the old distance we're gonna have to tell our score director that something updated before we update",
    "start": "2449830",
    "end": "2455170"
  },
  {
    "text": "and then we're gonna have to tell it when we're done updating it because that's Java doesn't have a way to detect",
    "start": "2455170",
    "end": "2460930"
  },
  {
    "text": "changes like that without like really really bad performance so now that we have done all this heavy lifting in",
    "start": "2460930",
    "end": "2467200"
  },
  {
    "start": "2464000",
    "end": "2492000"
  },
  {
    "text": "Kotlin town our key rule is very simple all we have to do is say where we have a",
    "start": "2467200",
    "end": "2472420"
  },
  {
    "text": "rest playlist track and the key distance is defined and the key distance is greater than zero then take the key",
    "start": "2472420",
    "end": "2479350"
  },
  {
    "text": "distance so bind it and then make the penalty and in this case I'm doing basically the square of the key distance",
    "start": "2479350",
    "end": "2485260"
  },
  {
    "text": "because I'm saying a distance of two is four times as worse than a distance of one so since most",
    "start": "2485260",
    "end": "2493350"
  },
  {
    "start": "2492000",
    "end": "2499000"
  },
  {
    "text": "playlists contain more songs in more than one key the score will never be zero we can't always have nice things",
    "start": "2493350",
    "end": "2499080"
  },
  {
    "start": "2499000",
    "end": "2523000"
  },
  {
    "text": "but OpticsPlanet will try to find the most efficient path to minimizing unpleasant and drastic key changes so",
    "start": "2499080",
    "end": "2505560"
  },
  {
    "text": "this is a vehicle routing solver that the Optive planner lead Jeffery came up with and what he was trying to do is",
    "start": "2505560",
    "end": "2511350"
  },
  {
    "text": "trying to figure out where to send a bunch of trucks if I have a bunch of deliveries to optimize for fuel usage same algorithm reason the exact same",
    "start": "2511350",
    "end": "2517950"
  },
  {
    "text": "stuff that he is except we're doing it for Spotify instead of like reducing our carbon footprint so how does it do that",
    "start": "2517950",
    "end": "2524970"
  },
  {
    "start": "2523000",
    "end": "2578000"
  },
  {
    "text": "so for that we're gonna go to chess for a second so there's this problem in",
    "start": "2524970",
    "end": "2530040"
  },
  {
    "text": "chess called in Queens which is moving moving for Queens on a chess board such",
    "start": "2530040",
    "end": "2535230"
  },
  {
    "text": "that they can attack each other and so this is this is a move what we're doing",
    "start": "2535230",
    "end": "2541350"
  },
  {
    "text": "is we're saying instead of this queen being here the Queen's going to move to here so it's going to change its",
    "start": "2541350",
    "end": "2546360"
  },
  {
    "text": "position and what what Optive planner is doing is just trying to figure out all the possible moves that it could make",
    "start": "2546360",
    "end": "2553350"
  },
  {
    "text": "given the current state so certain moves will be impossible later on in the progression so for example if the board",
    "start": "2553350",
    "end": "2559080"
  },
  {
    "text": "looks like this all of a sudden there's moves that were once viable that are no longer viable and so Optive planners",
    "start": "2559080",
    "end": "2564900"
  },
  {
    "text": "going to ignore those and opt approach just happens to be really good at making moves really quickly like this particular solver is doing about 3000",
    "start": "2564900",
    "end": "2571860"
  },
  {
    "text": "move evaluations per second or this particular solver is doing like hundreds of thousands my solvers doing about",
    "start": "2571860",
    "end": "2577680"
  },
  {
    "text": "3,000 per second so and and it's also really efficient in figuring out which",
    "start": "2577680",
    "end": "2582780"
  },
  {
    "text": "moves make sense so it creates like automatically a bunch of move strategies that make sense where so some could be",
    "start": "2582780",
    "end": "2589320"
  },
  {
    "text": "like you're swapping the previous track value some could be that you're just changing one some you're moving multiple",
    "start": "2589320",
    "end": "2594960"
  },
  {
    "text": "so how does this apply to playlists this is what a solver looks like in action it",
    "start": "2594960",
    "end": "2600360"
  },
  {
    "start": "2595000",
    "end": "2606000"
  },
  {
    "text": "moves really fast and then it moves really slow so the first thing it's doing is will actually zoom in on these logs what the hell was that",
    "start": "2600360",
    "end": "2606660"
  },
  {
    "text": "so the first thing we're doing is we're actually going to just try to pick some",
    "start": "2606660",
    "end": "2611820"
  },
  {
    "text": "track to go as the previous track so in this particular case we're not doing any trot right we're not undoing any moves",
    "start": "2611820",
    "end": "2617600"
  },
  {
    "text": "so that's what's called a construction heuristic so what we're seeing is we're",
    "start": "2617600",
    "end": "2622799"
  },
  {
    "start": "2618000",
    "end": "2627000"
  },
  {
    "text": "playing kaki king after Saint Vincent and then that has some impact on the",
    "start": "2622799",
    "end": "2629819"
  },
  {
    "text": "score and then since we can't reconsider",
    "start": "2629819",
    "end": "2635099"
  },
  {
    "start": "2631000",
    "end": "2641000"
  },
  {
    "text": "moves once when you decided on a track transition we're sort of stuck with it for a while which makes it really fast it makes it really inefficient because",
    "start": "2635099",
    "end": "2641519"
  },
  {
    "start": "2641000",
    "end": "2656000"
  },
  {
    "text": "we'll quickly hit what's called a local optimum so what if the kaki train King",
    "start": "2641519",
    "end": "2646529"
  },
  {
    "text": "track was the only track that worked after unmoral orchestra we were already putting thank you we've already put kaki",
    "start": "2646529",
    "end": "2653249"
  },
  {
    "text": "king into play well that's not going to work very well so what we do next is",
    "start": "2653249",
    "end": "2658559"
  },
  {
    "start": "2656000",
    "end": "2684000"
  },
  {
    "text": "what's called a local search so the local search it will effectively",
    "start": "2658559",
    "end": "2663630"
  },
  {
    "text": "evaluate more moves and and have the ability to undo so it's going to be looking at in this case about twenty",
    "start": "2663630",
    "end": "2670229"
  },
  {
    "text": "nine moves evaluating which one is effectively the best was some sort of like probabilistic fuzzing and it if it",
    "start": "2670229",
    "end": "2678989"
  },
  {
    "text": "gets too far down a path they can actually start backing up and in replaying some moves so that's really",
    "start": "2678989",
    "end": "2685859"
  },
  {
    "start": "2684000",
    "end": "2725000"
  },
  {
    "text": "fancy stuff that produces some really great stuff so after a long while we end up with an optimized solution so in this",
    "start": "2685859",
    "end": "2693569"
  },
  {
    "text": "case like this score I was running this on like a tiny tiny VM so after six hundred seconds we were able to find",
    "start": "2693569",
    "end": "2700170"
  },
  {
    "text": "four I think this is like an 800 track playlist because I was trying to be really really masochistic but the this",
    "start": "2700170",
    "end": "2710150"
  },
  {
    "text": "was what came out so this is actually even though the scores are really really",
    "start": "2710150",
    "end": "2715949"
  },
  {
    "text": "low low being negative in this particular case it actually was fairly",
    "start": "2715949",
    "end": "2722069"
  },
  {
    "text": "good given the volume of tracks that we had so most tracks will never get to a perfect solution but Optive planner is",
    "start": "2722069",
    "end": "2729269"
  },
  {
    "text": "also really great in that it can tell us what suboptimal so after it gives us a result it can actually tell you which",
    "start": "2729269",
    "end": "2736259"
  },
  {
    "text": "transitions were the worst offenders of the specific rules and so like this is well some code that I wrote to basically",
    "start": "2736259",
    "end": "2742949"
  },
  {
    "text": "output the fact that like this transition for whatever reason had to happen and they weren't able to undo it or they weren't able to find an",
    "start": "2742949",
    "end": "2749729"
  },
  {
    "text": "alternative but it goes from a1 beyond the camelot scale all the way up to a nine a which really far distance but we only have one",
    "start": "2749729",
    "end": "2756599"
  },
  {
    "text": "of those things out of 800 songs so that's probably okay so let's see it in",
    "start": "2756599",
    "end": "2761790"
  },
  {
    "start": "2760000",
    "end": "2785000"
  },
  {
    "text": "action this is a talk about failure so I had planned to launch Spotfire IO by the",
    "start": "2761790",
    "end": "2768990"
  },
  {
    "text": "time of this talk so that you could all go there and you can paste in your Spotify playlist and and it would it",
    "start": "2768990",
    "end": "2775770"
  },
  {
    "text": "would basically optimize and give you a new playlist under your Spotify ID due to Wi-Fi issues and procrastination and",
    "start": "2775770",
    "end": "2782099"
  },
  {
    "text": "and you know client fires and that sort of thing I wasn't able to get it done but I can talk about the different",
    "start": "2782099",
    "end": "2787829"
  },
  {
    "text": "component parts so the first thing we're gonna do is we're gonna pull data on demand from Spotify I'm using this node",
    "start": "2787829",
    "end": "2793020"
  },
  {
    "text": "library for that we're gonna slap some graph cue ball on top so we're using Apollo cuz anyone work with Apollo it's",
    "start": "2793020",
    "end": "2799380"
  },
  {
    "start": "2794000",
    "end": "2805000"
  },
  {
    "text": "an old library for doing graph kill it's amazing it's amazing stuff I know you are so it's amazing stuff we're also",
    "start": "2799380",
    "end": "2805530"
  },
  {
    "start": "2805000",
    "end": "2828000"
  },
  {
    "text": "using a this library called Prisma which is the only ORM that I actually can",
    "start": "2805530",
    "end": "2810569"
  },
  {
    "text": "tolerate what it does is it will actually create you define your graph QL types and it'll create a database schema",
    "start": "2810569",
    "end": "2816599"
  },
  {
    "text": "for you and then all you do is you interact with a graph QL interface and under the coverage that's actually going",
    "start": "2816599",
    "end": "2822059"
  },
  {
    "text": "to persist things and so we're doing that basically to be kind to Spotify if I just requested that artists I'm not going to request it again and then we",
    "start": "2822059",
    "end": "2829440"
  },
  {
    "start": "2828000",
    "end": "2842000"
  },
  {
    "text": "can grab a playlist so I actually built a graph QL interface on top of on top of",
    "start": "2829440",
    "end": "2835500"
  },
  {
    "text": "Spotify DH API using this caching layer this is a strategy that we plan to do on other projects as well it's pantry and",
    "start": "2835500",
    "end": "2843329"
  },
  {
    "start": "2842000",
    "end": "2877000"
  },
  {
    "text": "now once we've gathered all this play this information we can call this optimize mutation and graph QL and what",
    "start": "2843329",
    "end": "2849240"
  },
  {
    "text": "is going to do is it's going to gather all the data from Spotify and it's cached objects and it's going to output a tarball and it's going to then post",
    "start": "2849240",
    "end": "2858240"
  },
  {
    "text": "this is the part that doesn't actually work yet it's going to call an AWS lambda with the address of that tar ball",
    "start": "2858240",
    "end": "2863700"
  },
  {
    "text": "the land is going to pick up that tar ball and it's going to do some optimization stuff and it's gonna phone home with the response and then we're",
    "start": "2863700",
    "end": "2869190"
  },
  {
    "text": "gonna populate a playlist so that's that's the piece I had working when Spotfire was a simple command-line tool",
    "start": "2869190",
    "end": "2874380"
  },
  {
    "text": "and I decided to make it live and didn't didn't finish but what's up with this extract path so this is a simplified",
    "start": "2874380",
    "end": "2880859"
  },
  {
    "start": "2877000",
    "end": "2895000"
  },
  {
    "text": "form but the extract path is basically just a shot at 256 hash or at least the filename is a sha-256 hash",
    "start": "2880859",
    "end": "2887520"
  },
  {
    "text": "of the tarball contents and it basically just contains a bunch of JSON line files",
    "start": "2887520",
    "end": "2893130"
  },
  {
    "text": "with all the data that matters to the planner so that's the part this is this is the part that's not hooked up yet",
    "start": "2893130",
    "end": "2898890"
  },
  {
    "start": "2895000",
    "end": "2923000"
  },
  {
    "text": "sorry the the font is super tiny but I have a lambda that I can invoke where I",
    "start": "2898890",
    "end": "2904920"
  },
  {
    "text": "give it a JSON payload and then that will run the spot off that'll run the Spotfire optimizer in AWS lambda and",
    "start": "2904920",
    "end": "2912480"
  },
  {
    "text": "it'll spit out a result so it spits out resultant does nothing with it yet but the goal is again to have it phone home",
    "start": "2912480",
    "end": "2917940"
  },
  {
    "text": "so it's coming soon that was supposed to be an image of the Spotfire io github",
    "start": "2917940",
    "end": "2924150"
  },
  {
    "start": "2923000",
    "end": "2942000"
  },
  {
    "text": "account so I forgot to mention all this is open source we're actually going to be using this as a reference",
    "start": "2924150",
    "end": "2929520"
  },
  {
    "text": "architecture for planning projects at span tree and so if you actually go to github a lot of the code is crap a lot",
    "start": "2929520",
    "end": "2937890"
  },
  {
    "text": "of the code is commented out but the the website itself along with the API so the",
    "start": "2937890",
    "end": "2944820"
  },
  {
    "start": "2942000",
    "end": "2961000"
  },
  {
    "text": "graph QL shim and the solver are all there and I'll be continuing to update and doing some CI and hopefully by next",
    "start": "2944820",
    "end": "2952260"
  },
  {
    "text": "go to you can come up to me or if you actually tweet it's Pantry a spotify URL we'll go ahead and optimize it for you",
    "start": "2952260",
    "end": "2958290"
  },
  {
    "text": "using these rules so that's it so I want",
    "start": "2958290",
    "end": "2964860"
  },
  {
    "start": "2961000",
    "end": "3027000"
  },
  {
    "text": "to thank a few people though before I leave so firstly I want to thank span tree in this Bantry team especially mati",
    "start": "2964860",
    "end": "2970560"
  },
  {
    "text": "Eli mati and Eli because they built this really cool grid view for playlist",
    "start": "2970560",
    "end": "2978120"
  },
  {
    "text": "tracks that I wasn't able to integrate eventually I want to actually turn this into a full-on like playlist builder that's better than Spotify zone",
    "start": "2978120",
    "end": "2984300"
  },
  {
    "text": "interface and Justin for basically rubber ducking with me when I couldn't figure out how optic planner was working",
    "start": "2984300",
    "end": "2989810"
  },
  {
    "text": "I'll also want to thank the go-to conference I love this conference that's one of my favorites the Spotify nesco",
    "start": "2989810",
    "end": "2995940"
  },
  {
    "text": "nest teams for just being so awesome and the optic planner Apollo Prisma Postgres there's like this whole chain is open",
    "start": "2995940",
    "end": "3002600"
  },
  {
    "text": "source and so I want to thank them as well and I want to thank you for being such an exceptional audience and if we",
    "start": "3002600",
    "end": "3009290"
  },
  {
    "text": "do have questions I do want respectful of the next speaker we have a lounge it's pantry that many of you might have",
    "start": "3009290",
    "end": "3015080"
  },
  {
    "text": "stopped by it's over like on the way to the keynote lounge we'll be taking questions there so thank you",
    "start": "3015080",
    "end": "3021210"
  },
  {
    "text": "you",
    "start": "3021210",
    "end": "3023270"
  }
]