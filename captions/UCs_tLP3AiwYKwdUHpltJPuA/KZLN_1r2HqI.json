[
  {
    "start": "0",
    "end": "76000"
  },
  {
    "text": "[Music]",
    "start": "2550",
    "end": "11640"
  },
  {
    "text": "I had a dream I always wanted to to stop talk",
    "start": "13000",
    "end": "18240"
  },
  {
    "text": "like that it's my chance I had a dream I dreamed of doing operations for large",
    "start": "18240",
    "end": "25320"
  },
  {
    "text": "scale applications the right way so for you have a game do games here and you",
    "start": "25320",
    "end": "31119"
  },
  {
    "text": "have two three million users a day you have a lot of errors and you have to fix",
    "start": "31119",
    "end": "36160"
  },
  {
    "text": "them quick enough and I had a renovation how to do this better than every tool on",
    "start": "36160",
    "end": "42480"
  },
  {
    "text": "the market and I went on this quest to make this happen in products and tools",
    "start": "42480",
    "end": "48120"
  },
  {
    "text": "here in interally and when to vs and despair and disaster and didn't work at",
    "start": "48120",
    "end": "55120"
  },
  {
    "text": "all and then elastic surch came along and",
    "start": "55120",
    "end": "61920"
  },
  {
    "text": "I don't want to destroy to suspension maybe maybe start with a dream first and then later",
    "start": "62120",
    "end": "72159"
  },
  {
    "text": "sear so let's start with so I had to stream how did it came",
    "start": "72159",
    "end": "77680"
  },
  {
    "start": "76000",
    "end": "125000"
  },
  {
    "text": "to the Stream So when I started here this comp it was 7 years ago uh my first",
    "start": "77680",
    "end": "82960"
  },
  {
    "text": "game was this game monst ago it's a beautiful farming game unfortunately you",
    "start": "82960",
    "end": "88720"
  },
  {
    "text": "cannot play it anymore said that this was shut it down just two months ago um there was my memory but basically it's a",
    "start": "88720",
    "end": "95320"
  },
  {
    "text": "farming game it was a flesh game uh when the game would start it would read all the state everything from the database",
    "start": "95320",
    "end": "101079"
  },
  {
    "text": "to the client after you press something on the game click button basically West",
    "start": "101079",
    "end": "107000"
  },
  {
    "text": "call would be done on the back end and then the information then be Sav",
    "start": "107000",
    "end": "112079"
  },
  {
    "text": "there so we had logic and the back end of client and the logic in the back end",
    "start": "112079",
    "end": "117840"
  },
  {
    "text": "was mostly to validate what the Cent sending and if it was not sending the right thing an error pop up the game was",
    "start": "117840",
    "end": "125920"
  },
  {
    "start": "125000",
    "end": "243000"
  },
  {
    "text": "pretty successful so speak had something like 2.5 million users every day um and",
    "start": "125920",
    "end": "132520"
  },
  {
    "text": "users clicked a lot so we had something like 10,000 API calls per second uh",
    "start": "132520",
    "end": "138680"
  },
  {
    "text": "these are more calls than Wikipedia has but actually these were changing state in the database so we have something",
    "start": "138680",
    "end": "144040"
  },
  {
    "text": "like 100,000 datab FES per second at the speak time and that resulted in a rather",
    "start": "144040",
    "end": "149319"
  },
  {
    "text": "large a bit hard to overse system so we had something like 200 servers 150",
    "start": "149319",
    "end": "154400"
  },
  {
    "text": "application servers and uh 32 dat service everyone else is dat service was",
    "start": "154400",
    "end": "160840"
  },
  {
    "text": "a single point of failure and I'm the only person to blame for that because I",
    "start": "160840",
    "end": "165959"
  },
  {
    "text": "up that system um shame on me but I was also doing uh on call duty you build it",
    "start": "165959",
    "end": "171519"
  },
  {
    "text": "you run it I woke up in the middle of the night to fix my own M so whenever we had these uh client in",
    "start": "171519",
    "end": "178480"
  },
  {
    "text": "back end running out of s next exception ered in the server and users then would",
    "start": "178480",
    "end": "183599"
  },
  {
    "text": "see this oops something went want no problem reload and",
    "start": "183599",
    "end": "191760"
  },
  {
    "text": "continue and most of the time actually this happened due to network problems so",
    "start": "191760",
    "end": "197319"
  },
  {
    "text": "70% of the errors we have for network problems I mean someone doing playing a flash camp in the Philippines might not",
    "start": "197319",
    "end": "203000"
  },
  {
    "text": "have the best network connection Brazil is also another comp which is not so great so basically one call got lost um",
    "start": "203000",
    "end": "210120"
  },
  {
    "text": "one because these calls were not it um just like was not possible in that kind",
    "start": "210120",
    "end": "217040"
  },
  {
    "text": "of so for every user that might happen every one or two weeks right that R",
    "start": "217040",
    "end": "224120"
  },
  {
    "text": "sitation so not that bad but over all something like 10% of users every day want to some kind of problems and that's",
    "start": "224120",
    "end": "230360"
  },
  {
    "text": "250,000 users a day so that's a lot of noise you see in Lo fil so forget about",
    "start": "230360",
    "end": "236840"
  },
  {
    "text": "like fixing all bugs simply not POS in this kind of",
    "start": "236840",
    "end": "242159"
  },
  {
    "text": "system um so besides uh these network problems we had three main categories of",
    "start": "242159",
    "end": "249040"
  },
  {
    "text": "erors and one was yeah some hard outed I mean all these single points of failure databases training um but they were",
    "start": "249040",
    "end": "255959"
  },
  {
    "text": "quite of easy to not a big problem uh for the rest we had something like if",
    "start": "255959",
    "end": "261600"
  },
  {
    "text": "you had more than let's say 50 hours per minute or so ring alert",
    "start": "261600",
    "end": "269199"
  },
  {
    "text": "wake me up in the middle of the night that work really well until we had the second category which were cheers so",
    "start": "269199",
    "end": "277320"
  },
  {
    "text": "well remember this one guy who managed to create 500,000 exceptions in a single",
    "start": "277320",
    "end": "283000"
  },
  {
    "text": "hour at 2:00 in the morning three times in three days in a",
    "start": "283000",
    "end": "289520"
  },
  {
    "text": "row and um that brought me to an realization that uh just checking how",
    "start": "289520",
    "end": "295199"
  },
  {
    "text": "many exceptions you have maybe is not the best thing because every cheah masses of these exceptions so actually",
    "start": "295199",
    "end": "302320"
  },
  {
    "text": "what you want to know if an error is important you want to check like how many users are affected that is actually",
    "start": "302320",
    "end": "309160"
  },
  {
    "text": "the metric you should look after and it became my quest to convince",
    "start": "309160",
    "end": "316759"
  },
  {
    "text": "everyone including you that please don't check for the numbers of Errors always",
    "start": "316759",
    "end": "322639"
  },
  {
    "text": "check for how many different uses are affected that's much more powerful metric unfortunately it's also much",
    "start": "322639",
    "end": "330520"
  },
  {
    "text": "harder to so and the third problem we have of course like new",
    "start": "330520",
    "end": "337240"
  },
  {
    "text": "versions I mean test the coverage and",
    "start": "337240",
    "end": "342680"
  },
  {
    "text": "Flash didn't help that the project was start with some Outsourcing company then we took over the code from there uh I",
    "start": "344600",
    "end": "351919"
  },
  {
    "text": "was held so the one thing that we need in kind of like operation fast Fe so we",
    "start": "351919",
    "end": "357039"
  },
  {
    "text": "have a new version out there and within minutes we need to know if the version new version is worse or or better than",
    "start": "357039",
    "end": "363520"
  },
  {
    "text": "the old one if it's worse than the fast so",
    "start": "363520",
    "end": "369360"
  },
  {
    "text": "feedback um I found a screenshot of this really old system of mine and behold by",
    "start": "369360",
    "end": "376880"
  },
  {
    "text": "H and CSS Beauty um you see here kind of like on the left hand side these are",
    "start": "376880",
    "end": "382960"
  },
  {
    "text": "kind of like the AP calls that you have and you see two versions so we were segmenting the users by version or by",
    "start": "382960",
    "end": "389160"
  },
  {
    "text": "time Case by version um and when you look at this you see that um so this is",
    "start": "389160",
    "end": "395720"
  },
  {
    "text": "a new the old version the new version roughly 10% of us playing so 7,000 in this 10 minute frame active and about 6",
    "start": "395720",
    "end": "403840"
  },
  {
    "text": "to 7,000 running on the old and for each of these API calls then we were looking",
    "start": "403840",
    "end": "409919"
  },
  {
    "text": "on two data so in the bracket is kind of like how many exceptions we have um how many users how many exceptions we have",
    "start": "409919",
    "end": "417520"
  },
  {
    "text": "and the percentage is how many what percentage of users will these um and that is a sub thing here",
    "start": "417520",
    "end": "424479"
  },
  {
    "text": "it's pretty easy right so here 28 uh 28 users were affected than 18 so",
    "start": "424479",
    "end": "431319"
  },
  {
    "text": "the new version is is worse but here see kind of like 19 users were affecting new version and 73 in the old still the",
    "start": "431319",
    "end": "438400"
  },
  {
    "text": "percentage is higher so the thing is by using error rates you have a normalization you need to compare",
    "start": "438400",
    "end": "443960"
  },
  {
    "text": "different different sizes of user sets and later on this became very relevant",
    "start": "443960",
    "end": "449120"
  },
  {
    "text": "when you do look on mobile operations and do stage roll outs where you launch a new version for 1% of users on Android",
    "start": "449120",
    "end": "455720"
  },
  {
    "text": "you can compare these the arrrow rates that these 1% of users have to the",
    "start": "455720",
    "end": "461080"
  },
  {
    "text": "99 so this goes my holding it's a simple thing but I wanted this",
    "start": "461680",
    "end": "467319"
  },
  {
    "text": "everywhere um so I had this right so I could show this to people and was great",
    "start": "467319",
    "end": "473599"
  },
  {
    "text": "there was just no problem um um so yes I could seg users by",
    "start": "473599",
    "end": "480000"
  },
  {
    "text": "version in time and I could have these normalized user rates and I could measure users affected so that means I",
    "start": "480000",
    "end": "486159"
  },
  {
    "text": "could compare different times of the day different times of the year and also different games because you have",
    "start": "486159",
    "end": "491560"
  },
  {
    "text": "something that you compare against um so this was my",
    "start": "491560",
    "end": "497639"
  },
  {
    "text": "dream but in the implementation side um this is a system actually there",
    "start": "497639",
    "end": "503879"
  },
  {
    "start": "498000",
    "end": "580000"
  },
  {
    "text": "were more applications there was but um so I had added one more dat I mean we",
    "start": "503879",
    "end": "510280"
  },
  {
    "text": "have enough one more difference the two um and to make it run this was running in Amazon we used EVS volumes so they",
    "start": "510280",
    "end": "517360"
  },
  {
    "text": "were no solid stat anything and they were running in a we zero configuation remember what zero",
    "start": "517360",
    "end": "524120"
  },
  {
    "text": "means this is yeah so this is the no redundancy thing so if one of them they",
    "start": "524120",
    "end": "529600"
  },
  {
    "text": "would never fail actually they would just slow down and if them slow down then basically the the backl of this",
    "start": "529600",
    "end": "536320"
  },
  {
    "text": "database will fill up basically that would make the database EXP slow than after that all the clust",
    "start": "536320",
    "end": "541480"
  },
  {
    "text": "EXP um leing to this it's a bit of an irony so the",
    "start": "541480",
    "end": "547440"
  },
  {
    "text": "system I managed to measure this caused this so I was feeling bit like yes I had",
    "start": "547440",
    "end": "554160"
  },
  {
    "text": "this I had this kind of like holy R say arates are the way to go",
    "start": "554160",
    "end": "559440"
  },
  {
    "text": "yes but they also put everything on fire so somehow I",
    "start": "559440",
    "end": "566760"
  },
  {
    "text": "could not conv others stents the same maybe it had something to do with",
    "start": "566760",
    "end": "572959"
  },
  {
    "text": "that so the years went by I still believed in my dream I was still on my",
    "start": "572959",
    "end": "580560"
  },
  {
    "text": "CH so in 2013 I then saw my chance there was a student in town he",
    "start": "580560",
    "end": "588120"
  },
  {
    "text": "was looking for V yes I wed him um at this time we had",
    "start": "588120",
    "end": "594959"
  },
  {
    "text": "traded this new team um before we had eans so one team was responsible for one",
    "start": "594959",
    "end": "601040"
  },
  {
    "text": "game and then back in the middle to a part of that team uh there mobile games that more and more made less sense U",
    "start": "601040",
    "end": "608880"
  },
  {
    "text": "because this games on seem to be very simple so we created one team to provide services so to provide a back Service uh",
    "start": "608880",
    "end": "616880"
  },
  {
    "text": "to these other teams so this team s back Services were doing this offering service like persistance configuration",
    "start": "616880",
    "end": "623440"
  },
  {
    "text": "May test entertainment whatever um and I grab the student to create a new",
    "start": "623440",
    "end": "631320"
  },
  {
    "start": "631000",
    "end": "745000"
  },
  {
    "text": "um so and looked at this here game and was sending some call put it in producer",
    "start": "631640",
    "end": "637720"
  },
  {
    "text": "who then writ to Kafka which is a queueing system that we using at the time pretty simple very powerful um do",
    "start": "637720",
    "end": "644880"
  },
  {
    "text": "you know Kfar should I explain K it's okay okay if not come to me later",
    "start": "644880",
    "end": "652320"
  },
  {
    "text": "um you would have some consumer and that consumer then would buy the C pretty simple um the student before was working",
    "start": "652320",
    "end": "660079"
  },
  {
    "text": "in the business intelligence team and they were using kafa and press so actually we were using their system so",
    "start": "660079",
    "end": "665399"
  },
  {
    "text": "at bua all business events allc over this kind of and then you",
    "start": "665399",
    "end": "671399"
  },
  {
    "text": "would just in the browser go there have a application and read the data from super simple super",
    "start": "671399",
    "end": "678560"
  },
  {
    "text": "straightforward not really appes the system but the rest was",
    "start": "678560",
    "end": "683639"
  },
  {
    "text": "fine um so it was like yes we had the system and I was one step Clos cler to",
    "start": "683639",
    "end": "689760"
  },
  {
    "text": "my dream and um we really had like this up front furing makes so much sense that",
    "start": "689760",
    "end": "695000"
  },
  {
    "text": "make it robust so there was no exploding F everywhere need more that was good um",
    "start": "695000",
    "end": "700600"
  },
  {
    "text": "we managed not only to AR some crashes but also like info statements statements even every live view of the debu that",
    "start": "700600",
    "end": "706880"
  },
  {
    "text": "were running through the system because we comp that is easy and even Ed the fex search and he learned that hey having a",
    "start": "706880",
    "end": "713680"
  },
  {
    "text": "fotex search Arrow that's really ni I mean this of course was a SL percentage",
    "start": "713680",
    "end": "719639"
  },
  {
    "text": "percentage thing full Tex but still so",
    "start": "719639",
    "end": "725720"
  },
  {
    "text": "yes what was a student project he was working six weeks on the code and then",
    "start": "725880",
    "end": "731639"
  },
  {
    "text": "he moved on and yeah",
    "start": "731639",
    "end": "737320"
  },
  {
    "text": "test not there yet I was so close not there",
    "start": "737920",
    "end": "745160"
  },
  {
    "start": "745000",
    "end": "794000"
  },
  {
    "text": "yet next chance one year later lap time system what's lap",
    "start": "745399",
    "end": "752680"
  },
  {
    "text": "time um at we do games and uh most games will just fail",
    "start": "752680",
    "end": "759360"
  },
  {
    "text": "so that's just reality in the market 90% of games kind of like we stop sometime",
    "start": "759360",
    "end": "765079"
  },
  {
    "text": "in production because you realize that they don't work anymore at least he did it at time and that time was something",
    "start": "765079",
    "end": "771920"
  },
  {
    "text": "that when you start a project with some backend developers on it when you start a new project you don't need backend",
    "start": "771920",
    "end": "777120"
  },
  {
    "text": "right away so what do the backend Developers in between lap time so we have two lap times at the moment one set",
    "start": "777120",
    "end": "784079"
  },
  {
    "text": "of fix my M monster Bo nice of him and one I could convince",
    "start": "784079",
    "end": "789600"
  },
  {
    "text": "to build me my system and this time even has fure so this is how it",
    "start": "789600",
    "end": "796839"
  },
  {
    "start": "794000",
    "end": "910000"
  },
  {
    "text": "looks memories isn't this nice kind of like so you see here kind of like this is the",
    "start": "796839",
    "end": "802800"
  },
  {
    "text": "numbers percentage of users who had an error in that version um could see this",
    "start": "802800",
    "end": "809600"
  },
  {
    "text": "over time we could basically do group Errors By name and stack Trace to see",
    "start": "809600",
    "end": "814680"
  },
  {
    "text": "like what uses what errors are disting and when you zoom in a bit you also see",
    "start": "814680",
    "end": "820000"
  },
  {
    "text": "line that we have um how many urces so how often this exception or this eror",
    "start": "820000",
    "end": "825240"
  },
  {
    "text": "happened how many users were affected and what percentage of uses this so I",
    "start": "825240",
    "end": "830800"
  },
  {
    "text": "had my aror finally that was so",
    "start": "830800",
    "end": "836360"
  },
  {
    "text": "close um actually this kind of system is very hard to build um because then you have error",
    "start": "837120",
    "end": "844399"
  },
  {
    "text": "rates it's not only the error events that you need so whenever someone had an error you also need to know how many",
    "start": "844399",
    "end": "850320"
  },
  {
    "text": "users did not have an error at that time right makes sense so every time someone",
    "start": "850320",
    "end": "856800"
  },
  {
    "text": "started playing a session every user did this maybe 10 times a day they would need to send a call to our backet to say",
    "start": "856800",
    "end": "863199"
  },
  {
    "text": "okay I'm here so that we know like how many uses we playing the system so we can uh",
    "start": "863199",
    "end": "870839"
  },
  {
    "text": "this percentage of uses and also this culation of percentage uses is not a",
    "start": "870839",
    "end": "876920"
  },
  {
    "text": "trivial operation good for us um there was a",
    "start": "876920",
    "end": "883480"
  },
  {
    "text": "white paper we love white papers here and this white paper was about hyper",
    "start": "883480",
    "end": "889680"
  },
  {
    "text": "loglog that's a probabilistic algorithm actually from 2007 but um Bloom filter",
    "start": "889680",
    "end": "897079"
  },
  {
    "text": "was invoke in 2013 here he implemented it every game everywhere and Hyper knock",
    "start": "897079",
    "end": "902720"
  },
  {
    "text": "made it to us in 2014 and um I think I need to explain",
    "start": "902720",
    "end": "908040"
  },
  {
    "text": "this a bit what this does um and I'm borrowing some some talk from Twitter",
    "start": "908040",
    "end": "913839"
  },
  {
    "start": "910000",
    "end": "1110000"
  },
  {
    "text": "here who had the same idea in 2014 they implemented uh CR litics answers based",
    "start": "913839",
    "end": "919839"
  },
  {
    "text": "on hyperlock so hyperlock the problem is let's imagine you have 1 billion device",
    "start": "919839",
    "end": "925720"
  },
  {
    "text": "so youi identify small device basically users and if you want to store them all in one set to see like is this user in a",
    "start": "925720",
    "end": "933600"
  },
  {
    "text": "set or not so you want to craft the counter cardinality of that set then you would need something like 10 GB of data",
    "start": "933600",
    "end": "939240"
  },
  {
    "text": "this hyper lock loog you need 4 kiloby um but you sacrifice some accuracy for",
    "start": "939240",
    "end": "945880"
  },
  {
    "text": "that because it's a probabilistic algorithm very cool one and it works like",
    "start": "945880",
    "end": "951120"
  },
  {
    "text": "this um so you would take the device ID and would take a hash out of it so md5",
    "start": "951120",
    "end": "957480"
  },
  {
    "text": "whatever some creative like a 64 bit uh of that and in that uh in that bit set then",
    "start": "957480",
    "end": "966000"
  },
  {
    "text": "would look for um the longest consecutive row of BS so you don't remember the whole bit",
    "start": "966000",
    "end": "973240"
  },
  {
    "text": "set but you just make like okay in this case we have four mons of put calate",
    "start": "973240",
    "end": "978759"
  },
  {
    "text": "four out of this and for every user the put into this hyper you just measure",
    "start": "978759",
    "end": "983880"
  },
  {
    "text": "like which was the highest number of consecutive ones we ever saw um it's a bit",
    "start": "983880",
    "end": "990000"
  },
  {
    "text": "like um let's say I give you a coin and you toss the coin and hats is abond and",
    "start": "990000",
    "end": "996519"
  },
  {
    "text": "t a zero and you throw them up and down the whole time and you count like what",
    "start": "996519",
    "end": "1001759"
  },
  {
    "text": "was the longest weak of of hat you got and after some time I come back and you",
    "start": "1001759",
    "end": "1006959"
  },
  {
    "text": "tell me three the longest row of of hats is three then I know that probably you",
    "start": "1006959",
    "end": "1013079"
  },
  {
    "text": "run bed after 5 minutes and stopped not very long if you tell me 20",
    "start": "1013079",
    "end": "1019000"
  },
  {
    "text": "buy an hand tossing the kind and Bot and it works like this so basically it's an approximation how many different user",
    "start": "1019000",
    "end": "1025839"
  },
  {
    "text": "stuff into that thing the problem is the very first that you stuff in might be",
    "start": "1025839",
    "end": "1031120"
  },
  {
    "text": "all once and then you get a completely different result so they use something",
    "start": "1031120",
    "end": "1036438"
  },
  {
    "text": "that bucketed they use the first bits of the of the bit set to determine which",
    "start": "1036439",
    "end": "1041520"
  },
  {
    "text": "bucket is for example if you just use the first bit then you have 50% of the go to bucket starts at one 50% start",
    "start": "1041520",
    "end": "1049160"
  },
  {
    "text": "zero and if you use usually use take something like this first 16 bits so you have 65 K of buckets and this outlier",
    "start": "1049160",
    "end": "1057400"
  },
  {
    "text": "like everything one then would affect us only one of 65k bus so then you take a",
    "start": "1057400",
    "end": "1062600"
  },
  {
    "text": "me and you get an approximation um did someone understand",
    "start": "1062600",
    "end": "1068200"
  },
  {
    "text": "this if not I can pass them on the thing and some block post or try to explain",
    "start": "1068200",
    "end": "1073799"
  },
  {
    "text": "later the thing is um this is a very thing to not use up",
    "start": "1073799",
    "end": "1081000"
  },
  {
    "text": "much memory and CPU consumption um to find out how many different you see it's",
    "start": "1081000",
    "end": "1088600"
  },
  {
    "text": "basically a distinct appication um and very fast you",
    "start": "1088600",
    "end": "1095159"
  },
  {
    "text": "sacrifice some probability you might be off so we read the white paper or the LA",
    "start": "1095159",
    "end": "1102200"
  },
  {
    "text": "time guy white paper and we sent out onquest to build that system based on",
    "start": "1102200",
    "end": "1107760"
  },
  {
    "text": "that how good is that that's a laop so um here we do a lot of stuff in",
    "start": "1107760",
    "end": "1114200"
  },
  {
    "start": "1110000",
    "end": "1466000"
  },
  {
    "text": "LL and he chose llang as a system um so basically in lling um you",
    "start": "1114200",
    "end": "1121520"
  },
  {
    "text": "can spawn a lot of processes processes a bit like sweat in a jbm but it's much",
    "start": "1121520",
    "end": "1126679"
  },
  {
    "text": "more light this so it's no problem to SP 100,000 processes more on a single machine each one has its own garbage",
    "start": "1126679",
    "end": "1132600"
  },
  {
    "text": "collection is highly compound um in this regard super powerful um that follows",
    "start": "1132600",
    "end": "1138840"
  },
  {
    "text": "actor model someone those a they brought from that so let's say we have a request",
    "start": "1138840",
    "end": "1144039"
  },
  {
    "text": "with the new device ID and you would spawn from process that would keep this hyperlock block structure in memory um",
    "start": "1144039",
    "end": "1151640"
  },
  {
    "text": "and different uh calls would go to the same hyperlock block so we just do something like 4 kiloby in memory for",
    "start": "1151640",
    "end": "1157679"
  },
  {
    "text": "that stuff um and this is stable in memory so it's fast uh if you stop sending",
    "start": "1157679",
    "end": "1164520"
  },
  {
    "text": "requests to that thing um then you get a time out after some time that's part of theine RP",
    "start": "1164520",
    "end": "1171760"
  },
  {
    "text": "framework and it will just dump the number we have to this and this hyper",
    "start": "1171760",
    "end": "1178039"
  },
  {
    "text": "could represent for example uh the number of distinct users in a day or minute or second so you saw different",
    "start": "1178039",
    "end": "1186039"
  },
  {
    "text": "counters like um like this and after some time there for to die if a new",
    "start": "1186039",
    "end": "1192200"
  },
  {
    "text": "request comes for example to read this or to write something else he will spawn the same process again he would look on",
    "start": "1192200",
    "end": "1197480"
  },
  {
    "text": "S3 if you find it we start the state and continue so this is how basically the stateful session kind of a stateful",
    "start": "1197480",
    "end": "1204640"
  },
  {
    "text": "concept this is how we um by someone like most of when we had 150 application service before we now do this five it's",
    "start": "1204640",
    "end": "1212679"
  },
  {
    "text": "just kind of powerful concept um and for every error you would have different counters so imagine now",
    "start": "1212679",
    "end": "1220200"
  },
  {
    "text": "to get an error event in then it would update three counters so one for the count day one for the count hour and one",
    "start": "1220200",
    "end": "1227880"
  },
  {
    "text": "for the count minute actually it's a bit more clever than that um so you get these masses of",
    "start": "1227880",
    "end": "1234400"
  },
  {
    "text": "events in the system and you could just update three data structures in memory which are 4 kilobytes",
    "start": "1234400",
    "end": "1240440"
  },
  {
    "text": "each that's awesome that's really fast and if you put this hole in the",
    "start": "1240440",
    "end": "1246960"
  },
  {
    "text": "system it looks a bit like this uh you get this request in in a process that process spawns off a group process that",
    "start": "1246960",
    "end": "1253840"
  },
  {
    "text": "manages the group so that's basically the information for the aror that have",
    "start": "1253840",
    "end": "1259000"
  },
  {
    "text": "the same name and St phas um which follows the same process so you spawn it",
    "start": "1259000",
    "end": "1265080"
  },
  {
    "text": "off but this time you would uh dump this to dyb so we can do some extra operations uh so we would store for",
    "start": "1265080",
    "end": "1271520"
  },
  {
    "text": "example stf whatever only once in the system and not 500,000 times if it's a m eror and this group process will then be",
    "start": "1271520",
    "end": "1278840"
  },
  {
    "text": "responsible to spawn of these counters or the multiple counters the ter so this is a system that is",
    "start": "1278840",
    "end": "1286120"
  },
  {
    "text": "basically modeled after Twitter stor it's it's kind of a classic real time processing system it and it's pretty",
    "start": "1286120",
    "end": "1293559"
  },
  {
    "text": "cool stuff we Benchmark this and adjust about nice really cool system um and of",
    "start": "1293559",
    "end": "1302559"
  },
  {
    "text": "course uh this need to run a cluster because the world more than one machine to hand load um and the interesting",
    "start": "1302559",
    "end": "1310520"
  },
  {
    "text": "thing is how this cluster works together so that say um we want to update a group on the first server here but to request",
    "start": "1310520",
    "end": "1318600"
  },
  {
    "text": "hands up here then we need to know okay we need to update the r proc on the other on the",
    "start": "1318600",
    "end": "1324200"
  },
  {
    "text": "other so um in the Java world you use something like Zer based on P algorithm",
    "start": "1324200",
    "end": "1330400"
  },
  {
    "text": "we had our own implementation called Lo that's anour framework that we created and this",
    "start": "1330400",
    "end": "1337320"
  },
  {
    "text": "Locker process runs on every machine and basically this one process is a there like okay which error is managed by",
    "start": "1337320",
    "end": "1343440"
  },
  {
    "text": "which machine because whenever you spawn new group process we will register there",
    "start": "1343440",
    "end": "1348679"
  },
  {
    "text": "so uh this guy here knows that the group is here because this",
    "start": "1348679",
    "end": "1355559"
  },
  {
    "text": "group and then it will just send the data to that group that's how a cluster works so",
    "start": "1355559",
    "end": "1361840"
  },
  {
    "text": "basically you can think any node in the cluster and the data would get",
    "start": "1361840",
    "end": "1367799"
  },
  {
    "text": "magically and of course also work the",
    "start": "1367799",
    "end": "1372440"
  },
  {
    "text": "other is this Beau system",
    "start": "1374360",
    "end": "1379760"
  },
  {
    "text": "it's magnificent I mean what could possibly go wrong with the system that awful",
    "start": "1382000",
    "end": "1389919"
  },
  {
    "text": "sorry um awesome um it's",
    "start": "1389919",
    "end": "1395320"
  },
  {
    "text": "amazing two things changed after we finished of the guy and one from the",
    "start": "1395320",
    "end": "1401520"
  },
  {
    "text": "team and Junior finish the system um first of all uh okay how the system look",
    "start": "1401520",
    "end": "1410120"
  },
  {
    "text": "and um so we have a l p up front which the game s to and it's distributed in",
    "start": "1410120",
    "end": "1415640"
  },
  {
    "text": "mind how do we display the data I forgot that part sorry we have a browser same",
    "start": "1415640",
    "end": "1420840"
  },
  {
    "text": "thing um we had a single because we never used a single tesc app before so",
    "start": "1420840",
    "end": "1427080"
  },
  {
    "text": "we had to use one hip so we used angular um and angular would call talk to",
    "start": "1427080",
    "end": "1433679"
  },
  {
    "text": "actually one of these machines had a different role um and this was expect",
    "start": "1433679",
    "end": "1439200"
  },
  {
    "text": "ify the basically the group there to which use the DAT so this is the system that looks",
    "start": "1439200",
    "end": "1445240"
  },
  {
    "text": "like and this is magnificent and nothing could be wrong of course uh because I",
    "start": "1445240",
    "end": "1451960"
  },
  {
    "text": "mean you all this was really simplified version of explaining the system um it",
    "start": "1451960",
    "end": "1458279"
  },
  {
    "text": "took me some days to find out how it worked um so what could possibly go",
    "start": "1458279",
    "end": "1463520"
  },
  {
    "text": "wrong with the system actually two things happen so first of on we launched a new game",
    "start": "1463520",
    "end": "1468880"
  },
  {
    "start": "1466000",
    "end": "1568000"
  },
  {
    "text": "um this is a mobile game and it was the biggest launch in Google's history so",
    "start": "1468880",
    "end": "1474559"
  },
  {
    "text": "you knew exactly when to start it you had a hype campaign PR campaign running up to TV advertising whatever so I think",
    "start": "1474559",
    "end": "1480840"
  },
  {
    "text": "we have something like screen loing installed over the first weekend and this game had one thing that we didn't",
    "start": "1480840",
    "end": "1485919"
  },
  {
    "text": "did so often before it was one on Android um and um yeah that was good and",
    "start": "1485919",
    "end": "1493520"
  },
  {
    "text": "bad for the system we come to that in a second and the second thing is remember that was a lap time",
    "start": "1493520",
    "end": "1499120"
  },
  {
    "text": "project and lap time projects are temporary so exactly when this project",
    "start": "1499120",
    "end": "1506080"
  },
  {
    "text": "came wrong and what he built was becoming more and more important the most important thing ever uh this guy",
    "start": "1506080",
    "end": "1512720"
  },
  {
    "text": "left for another team so the simple de Services team who",
    "start": "1512720",
    "end": "1518039"
  },
  {
    "text": "are used to dealing with persistance and other systems uh they suddenly inherited",
    "start": "1518039",
    "end": "1524080"
  },
  {
    "text": "this system just the moment when it becomes really important",
    "start": "1524080",
    "end": "1529320"
  },
  {
    "text": "and they had three problems in the system and the first one",
    "start": "1529320",
    "end": "1535360"
  },
  {
    "text": "just basically there was no out few so whenever they had one game the new",
    "start": "1535360",
    "end": "1541120"
  },
  {
    "text": "version of that game soft launch went Amo and uh the whole system was just crushing",
    "start": "1541120",
    "end": "1548600"
  },
  {
    "text": "immediately um and we fixed that uh we didn't put half on top City running",
    "start": "1548600",
    "end": "1554039"
  },
  {
    "text": "Amazon we put kesis on top but basally same set up have prod R to a que and the",
    "start": "1554039",
    "end": "1559640"
  },
  {
    "text": "consumer then puts it into the system at a rate that the system simple that one was easy to",
    "start": "1559640",
    "end": "1567880"
  },
  {
    "text": "fix the second one was not so easy to fix um so we had this highly distributed",
    "start": "1567880",
    "end": "1575440"
  },
  {
    "start": "1568000",
    "end": "1674000"
  },
  {
    "text": "really cool online counting counter system this one here um and the problem",
    "start": "1575440",
    "end": "1582120"
  },
  {
    "text": "is there was a lot of in cluster communication because of these counters in the end they had more than a milon of",
    "start": "1582120",
    "end": "1589360"
  },
  {
    "text": "these processes running around in the cluster and everyone write it to their own as three file and every request",
    "start": "1589360",
    "end": "1595360"
  },
  {
    "text": "updated only three but when you were trying to read then you might read something like",
    "start": "1595360",
    "end": "1601480"
  },
  {
    "text": "thousands um also we had some nasty little hidden bus if you ever The Bu",
    "start": "1601480",
    "end": "1607720"
  },
  {
    "text": "distribute a network code and a system you didn't bu yourself that was fun took",
    "start": "1607720",
    "end": "1612799"
  },
  {
    "text": "us something two weeks the whole team to just to find this um and the whole system is kind of",
    "start": "1612799",
    "end": "1619960"
  },
  {
    "text": "like um you had kind of like load waves so one one not on the cluster got got of",
    "start": "1619960",
    "end": "1625159"
  },
  {
    "text": "thing and then kind of like the other Serv in the cluster thing then whole thing came crushing down and in the end",
    "start": "1625159",
    "end": "1632200"
  },
  {
    "text": "we just remove all the in cluster so what we did is we said um",
    "start": "1632200",
    "end": "1638559"
  },
  {
    "text": "every game resides on one of these notes in the cluster this is by the way",
    "start": "1638559",
    "end": "1644039"
  },
  {
    "text": "exactly the way they the same way how tic does it only at least up until this",
    "start": "1644039",
    "end": "1649799"
  },
  {
    "text": "time um they only had eight servers in 2014 and every user would reside only on",
    "start": "1649799",
    "end": "1655840"
  },
  {
    "text": "one of these machines because probably using system um so we just completely removed",
    "start": "1655840",
    "end": "1663200"
  },
  {
    "text": "the intercluster communication use some kind of static shouting like this game the that box reduce complexity a lot and",
    "start": "1663200",
    "end": "1670720"
  },
  {
    "text": "suddenly we could mostly run the",
    "start": "1670720",
    "end": "1675278"
  },
  {
    "start": "1674000",
    "end": "1804000"
  },
  {
    "text": "system but the third problem was and we were assuming that for every",
    "start": "1676159",
    "end": "1684279"
  },
  {
    "text": "event that comes in um the number of counters you would write is follows the",
    "start": "1684279",
    "end": "1689600"
  },
  {
    "text": "a of n it's linear so three or five counters that you would WR and the whole",
    "start": "1689600",
    "end": "1695159"
  },
  {
    "text": "system was based on the premise and if that would have been true",
    "start": "1695159",
    "end": "1701960"
  },
  {
    "text": "system um unfortunately when you look back at these slides maybe you notice this",
    "start": "1701960",
    "end": "1708559"
  },
  {
    "text": "here we are comparing two versions so of course then we need to",
    "start": "1708559",
    "end": "1713760"
  },
  {
    "text": "count to we need to have different counters right so you need to calculate the number of uses affected of version a",
    "start": "1713760",
    "end": "1720519"
  },
  {
    "text": "and of version B and of course it's more than just one version it becomes inverse you notice this one here that's a facet",
    "start": "1720519",
    "end": "1728210"
  },
  {
    "text": "[Music] search uh that's many different dimensions so we thought it would be",
    "start": "1728210",
    "end": "1734240"
  },
  {
    "text": "like this but in reality um that was multiply by Dimensions so we not only",
    "start": "1734240",
    "end": "1740640"
  },
  {
    "text": "updated three counter but three counters per version per operating system version and",
    "start": "1740640",
    "end": "1747200"
  },
  {
    "text": "for every device and we are talking about an Android launch we have more than 5,000 of",
    "start": "1747200",
    "end": "1753360"
  },
  {
    "text": "them so instead of updating speed CS we updated something like",
    "start": "1753360",
    "end": "1758720"
  },
  {
    "text": "20,000 um this actually more wease but basically it was unbearable and very",
    "start": "1758720",
    "end": "1767600"
  },
  {
    "text": "tough to handle and I mean also in the in the UI you",
    "start": "1767600",
    "end": "1774880"
  },
  {
    "text": "could um combine these so you could select one version one technical version so we also needed to St compers for the",
    "start": "1774880",
    "end": "1781200"
  },
  {
    "text": "combination of this um and when we did queries to the",
    "start": "1781200",
    "end": "1787519"
  },
  {
    "text": "system um and these cers were not memory it could happen that one quer then one",
    "start": "1787519",
    "end": "1792960"
  },
  {
    "text": "that had something like we were stared like 100,000 processes at the same time at the Ser one other memory so doing the",
    "start": "1792960",
    "end": "1799679"
  },
  {
    "text": "war reest could run out of memory the whole system and then come crushing down",
    "start": "1799679",
    "end": "1805840"
  },
  {
    "text": "so yes I had my system and actually we managed to manage",
    "start": "1805840",
    "end": "1814039"
  },
  {
    "text": "this handroid launch and without this system we would not have been able to do that because at that time for Unity",
    "start": "1814039",
    "end": "1820760"
  },
  {
    "text": "there was no service available and by these kind of like different comps we would find out like",
    "start": "1820760",
    "end": "1826679"
  },
  {
    "text": "okay this is that device it has only 16 KOB of memory um so we won't ship to it",
    "start": "1826679",
    "end": "1833880"
  },
  {
    "text": "so we could exclude them from the launch and that was critical for the success of the launch so in that sense this project",
    "start": "1833880",
    "end": "1840519"
  },
  {
    "text": "was successful but it felt like this it was firefighting the whole",
    "start": "1840519",
    "end": "1847919"
  },
  {
    "text": "time um so we had something like to to make the system fly I think there lost",
    "start": "1847919",
    "end": "1852960"
  },
  {
    "text": "something like three person months to build the system or maybe four uh and then we spent another to fix it to make",
    "start": "1852960",
    "end": "1859480"
  },
  {
    "text": "it running because we committed to the system we had this launch and we had to make it live actually we set ourselves",
    "start": "1859480",
    "end": "1866120"
  },
  {
    "text": "an internal deadline for I think 1st of December 2014 if you couldn't fix the",
    "start": "1866120",
    "end": "1871279"
  },
  {
    "text": "system you would put everything away and just based one one year work you fix the",
    "start": "1871279",
    "end": "1876760"
  },
  {
    "text": "system or make it barely stable two weeks before that it was really",
    "start": "1876760",
    "end": "1882720"
  },
  {
    "text": "close my dream was still alive somehow somewhere behind this",
    "start": "1882720",
    "end": "1889919"
  },
  {
    "text": "um but there was something else you see the",
    "start": "1891080",
    "end": "1896960"
  },
  {
    "text": "screenshot around you see",
    "start": "1896960",
    "end": "1900679"
  },
  {
    "text": "it in this student prototype system we had learned that fex sear is cool and",
    "start": "1904000",
    "end": "1910039"
  },
  {
    "text": "isn't there this this full Tex thingy around I remember like me you probably remember 10 years ago when we did this",
    "start": "1910039",
    "end": "1915960"
  },
  {
    "text": "little seene full Tex search uh I remember that I said like could that se be cool could he add something",
    "start": "1915960",
    "end": "1923039"
  },
  {
    "text": "like just a search box or something um and we did so we took this",
    "start": "1923039",
    "end": "1929919"
  },
  {
    "start": "1928000",
    "end": "2003000"
  },
  {
    "text": "system after we um and just would WIP everything",
    "start": "1929919",
    "end": "1935200"
  },
  {
    "text": "every event that you would get every call that the system would get just would WIP down to elastic",
    "start": "1935200",
    "end": "1941519"
  },
  {
    "text": "search so at Peak I think something like 1,000%",
    "start": "1941519",
    "end": "1948240"
  },
  {
    "text": "just Okay cool so then we had the search box angular so we just had one more call",
    "start": "1948519",
    "end": "1955080"
  },
  {
    "text": "here so this was still the majority of system but fex mov to here and this system had exactly the same data as this",
    "start": "1955080",
    "end": "1963000"
  },
  {
    "text": "one well and he did the most simple thing we could do we just chose from",
    "start": "1963000",
    "end": "1969799"
  },
  {
    "text": "hosting provider so they were called founded they not plastic",
    "start": "1969799",
    "end": "1975799"
  },
  {
    "text": "Cloud um just picked something that we have two servers um so we have two servers and",
    "start": "1975799",
    "end": "1982519"
  },
  {
    "text": "two Avail at Amazon and one TI for the program and for every day we would just",
    "start": "1982519",
    "end": "1988399"
  },
  {
    "text": "start a new index you would have 14 of them",
    "start": "1988399",
    "end": "1994080"
  },
  {
    "text": "14 events spot so 4 new just",
    "start": "1994080",
    "end": "2001120"
  },
  {
    "text": "amazing so easy so for me it was really a surprise",
    "start": "2001120",
    "end": "2008279"
  },
  {
    "start": "2003000",
    "end": "2099000"
  },
  {
    "text": "that you made all these effort and all this pain and really really professional",
    "start": "2008279",
    "end": "2014120"
  },
  {
    "text": "persons Hing asses of theat fly and the same dat we just DPed this just FES no",
    "start": "2014120",
    "end": "2021240"
  },
  {
    "text": "optimization whatsoever we just dumped it",
    "start": "2021240",
    "end": "2027240"
  },
  {
    "text": "h and then we read something you might guess is white paper I actually heard of",
    "start": "2027240",
    "end": "2033960"
  },
  {
    "text": "the white paper called hyperlock lock clusters",
    "start": "2033960",
    "end": "2039639"
  },
  {
    "text": "actually where we heard about that was in a blog post from LC because they",
    "start": "2041080",
    "end": "2046679"
  },
  {
    "text": "implemented hyper Plus+ in an um and basically what it does is it",
    "start": "2046679",
    "end": "2055320"
  },
  {
    "text": "uses the same principles as hyper loock loog but not when writing the data but",
    "start": "2055320",
    "end": "2060638"
  },
  {
    "text": "when reading it on the fly on the M it justs so basically you have a different",
    "start": "2060639",
    "end": "2067720"
  },
  {
    "text": "different um aggregation there you can have a kind like this thing count that is unique and then you really slow or",
    "start": "2067720",
    "end": "2074440"
  },
  {
    "text": "you can say like um um do this uh aggregation and it uses",
    "start": "2074440",
    "end": "2081200"
  },
  {
    "text": "um what's it called I forgot the other algorithm and if the data set gets bigger it uses",
    "start": "2081200",
    "end": "2087320"
  },
  {
    "text": "hyper loog loog plus plus under the fly so basically what I just described to you it does ony On Demand while doing",
    "start": "2087320",
    "end": "2094079"
  },
  {
    "text": "the Trav so we played around a bit um with",
    "start": "2094079",
    "end": "2102760"
  },
  {
    "text": "Kean and the use case we had in our in our UI with the old system and it didn't",
    "start": "2102760",
    "end": "2109119"
  },
  {
    "text": "crash the whole system we tried them out in K and guess",
    "start": "2109119",
    "end": "2114560"
  },
  {
    "text": "what just that flight filtering by device standard",
    "start": "2114560",
    "end": "2119920"
  },
  {
    "text": "faced search and this is something I did this morning just to get screenshot but",
    "start": "2119920",
    "end": "2125119"
  },
  {
    "text": "um just",
    "start": "2125119",
    "end": "2128480"
  },
  {
    "text": "so uh while the so was so in pain running the old system so we did",
    "start": "2130280",
    "end": "2135400"
  },
  {
    "text": "something rtic so we created the new system the system 2.0 and this time",
    "start": "2135400",
    "end": "2141920"
  },
  {
    "text": "everything was going to",
    "start": "2141920",
    "end": "2145520"
  },
  {
    "text": "be um use this and just cut out all that",
    "start": "2147160",
    "end": "2154799"
  },
  {
    "text": "stuff delet um um and that would have way but we",
    "start": "2154960",
    "end": "2163319"
  },
  {
    "text": "want this is the system 2.0 and do you know this 2.0",
    "start": "2163319",
    "end": "2169200"
  },
  {
    "text": "syndrome they want to make everything better because now you want to know so",
    "start": "2169200",
    "end": "2174240"
  },
  {
    "text": "he replaced angular by reactor and this team there's no job",
    "start": "2174240",
    "end": "2181800"
  },
  {
    "text": "developer in the team one half he later left the team um",
    "start": "2181800",
    "end": "2188480"
  },
  {
    "text": "and uh and re is really cool I believe it's a very powerful system but these",
    "start": "2188480",
    "end": "2193520"
  },
  {
    "text": "are folks who really know how to run Amazon service or operation know ear R and no JavaScript andit hard um and he",
    "start": "2193520",
    "end": "2202400"
  },
  {
    "text": "just had a small we application just host the react application and then basically everything was react and it",
    "start": "2202400",
    "end": "2209839"
  },
  {
    "text": "looks beautiful um so it's still",
    "start": "2209839",
    "end": "2216280"
  },
  {
    "text": "RS um so I just need to show you how beautiful this so this is no live on our",
    "start": "2216280",
    "end": "2223560"
  },
  {
    "text": "system uh uh so this is one of our life",
    "start": "2223560",
    "end": "2230960"
  },
  {
    "text": "games",
    "start": "2231599",
    "end": "2234599"
  },
  {
    "text": "okay let's see if that works ah so well now it's interesting I see M",
    "start": "2244520",
    "end": "2251920"
  },
  {
    "text": "here so it's a really cool thing so it's a really nice reactor application so that's the life view of one of our games",
    "start": "2251920",
    "end": "2257480"
  },
  {
    "text": "one of our mediumsized games that's a lot of Wars no errors and of course because we need to be really cool it's",
    "start": "2257480",
    "end": "2264160"
  },
  {
    "text": "all one page scroll down um and if you click on one ER here",
    "start": "2264160",
    "end": "2269240"
  },
  {
    "text": "I don't see what I'm clicking here then you scroll down of course um you can use",
    "start": "2269240",
    "end": "2274640"
  },
  {
    "text": "the mouse to skip through the errors so these are all time VAR to elastic search in an index that have a few hundred",
    "start": "2274640",
    "end": "2280920"
  },
  {
    "text": "million records in it and it just works and it's really cool um it can even",
    "start": "2280920",
    "end": "2286440"
  },
  {
    "text": "close something like little down like no I don't see anything let's see I want to",
    "start": "2286440",
    "end": "2292040"
  },
  {
    "text": "see all Box by this operating system version I think I have to click",
    "start": "2292040",
    "end": "2297599"
  },
  {
    "text": "here I can't see anything on the screen yeah I can't I don't know how to",
    "start": "2297599",
    "end": "2303800"
  },
  {
    "text": "zoom in um and the thing is that because this is all one page and it's",
    "start": "2303800",
    "end": "2310280"
  },
  {
    "text": "react uh we managed to build so many Bucks in it that we no longer know how to fix",
    "start": "2310280",
    "end": "2316319"
  },
  {
    "text": "them um so um if basically added a filter here and if I do the same filter",
    "start": "2316319",
    "end": "2323839"
  },
  {
    "text": "manually I get different results um and lots of other things so it's it's a really cool nice system it's",
    "start": "2323839",
    "end": "2330680"
  },
  {
    "text": "it's beautiful I mean look look at this it's it's amazing you see like vergence and compare like which one's better and",
    "start": "2330680",
    "end": "2337000"
  },
  {
    "text": "and all that and it's it's just an amazing system um so where's my mous here's my",
    "start": "2337000",
    "end": "2346160"
  },
  {
    "text": "mouse okay so much",
    "start": "2347000",
    "end": "2351359"
  },
  {
    "text": "for no I man to",
    "start": "2358920",
    "end": "2363440"
  },
  {
    "text": "so do you know the game find the mouse",
    "start": "2368599",
    "end": "2373720"
  },
  {
    "text": "yes so it's a beautiful system and you actually just two weeks away from",
    "start": "2382119",
    "end": "2387800"
  },
  {
    "text": "marketing this professional to other companies um but the reality is that for",
    "start": "2387800",
    "end": "2393920"
  },
  {
    "text": "us for this team it was super hard to so yes",
    "start": "2393920",
    "end": "2401480"
  },
  {
    "start": "2399000",
    "end": "2545000"
  },
  {
    "text": "success the system really looks beautiful and does fulfill all the",
    "start": "2401480",
    "end": "2406680"
  },
  {
    "text": "requirements um just this team was not able to sustain it so bug fixes or feature request and that thing so the",
    "start": "2406680",
    "end": "2413720"
  },
  {
    "text": "first system we shot our on the foot of the back end here we shoot our on the foot of the front end um so coming to",
    "start": "2413720",
    "end": "2421760"
  },
  {
    "text": "the last system of today uh and I really like this acon",
    "start": "2421760",
    "end": "2427960"
  },
  {
    "text": "piss especially the second ass um so so we had the system and and",
    "start": "2427960",
    "end": "2436960"
  },
  {
    "text": "elastic search was just working beautifully it just did work um so we he",
    "start": "2436960",
    "end": "2442960"
  },
  {
    "text": "kept exactly the same back end and put a new font on top very simple so um he",
    "start": "2442960",
    "end": "2449839"
  },
  {
    "text": "just used a plane rails application uh because for this team that was easier to handle it's not",
    "start": "2449839",
    "end": "2455760"
  },
  {
    "text": "looking that beautiful just gross um and this is how it looks like",
    "start": "2455760",
    "end": "2462800"
  },
  {
    "text": "it doesn't look as beautiful as the other one let's see if this time it goes",
    "start": "2462800",
    "end": "2468119"
  },
  {
    "text": "better",
    "start": "2468119",
    "end": "2471119"
  },
  {
    "text": "um so this is a beautiful",
    "start": "2473359",
    "end": "2478480"
  },
  {
    "text": "version this is a new version uh Android production",
    "start": "2478480",
    "end": "2487319"
  },
  {
    "text": "the T lower you have some filters in here let's say only um so basically you have classic",
    "start": "2487359",
    "end": "2494599"
  },
  {
    "text": "faceted search on on elastic search um this game has I think something like 3",
    "start": "2494599",
    "end": "2500720"
  },
  {
    "text": "400,000 a day um and when you click something then you open a new page no",
    "start": "2500720",
    "end": "2507240"
  },
  {
    "text": " ENT scrolling have some data here can also go here here um go through",
    "start": "2507240",
    "end": "2513720"
  },
  {
    "text": "the box have some charts uh basically the same",
    "start": "2513720",
    "end": "2519359"
  },
  {
    "text": "thing um so let's",
    "start": "2519359",
    "end": "2525440"
  },
  {
    "text": "this learning so if you want to know more about system I can show you so um it has",
    "start": "2525440",
    "end": "2532839"
  },
  {
    "text": "the same functionality it's not that nice probably not nice enough to make other",
    "start": "2532839",
    "end": "2538680"
  },
  {
    "text": "customers pay for it or whatever but it's good enough how inter and it's easy to",
    "start": "2538680",
    "end": "2544640"
  },
  {
    "text": "fix um so the system now is capable of uh processing something like 9,000 press",
    "start": "2544640",
    "end": "2551559"
  },
  {
    "start": "2545000",
    "end": "2672000"
  },
  {
    "text": "per second so that's can um but we have a quter for each individual game of",
    "start": "2551559",
    "end": "2557599"
  },
  {
    "text": "1,000 request perc so this is something that we have to quter on the on the",
    "start": "2557599",
    "end": "2563079"
  },
  {
    "text": "producers um if we have more we just start dropping requests so we protect our system something that we also",
    "start": "2563079",
    "end": "2569359"
  },
  {
    "text": "learned the hard way when one game started spending us 5,000 per second was",
    "start": "2569359",
    "end": "2574680"
  },
  {
    "text": "not so fun anymore um it just works on these two servers I showed you because it's",
    "start": "2574680",
    "end": "2580760"
  },
  {
    "text": "exactly the same backend didn't change anything on the elastic search back um it just start the DAT for 40",
    "start": "2580760",
    "end": "2587520"
  },
  {
    "text": "days and for every day something like 20 million events in the system with the total size of 30 G so um actually",
    "start": "2587520",
    "end": "2595559"
  },
  {
    "text": "interesting enough for us in this elastic search system we are not CPU bound um or memory Bond we are this",
    "start": "2595559",
    "end": "2602359"
  },
  {
    "text": "Space Bound uh so the 500 P of of data",
    "start": "2602359",
    "end": "2609119"
  },
  {
    "text": "um and you look at all the data that we have in here so these are the individual games you see this is for 30 days you",
    "start": "2610240",
    "end": "2616160"
  },
  {
    "text": "see these dat spes that we have in here um and for 24 hour periods this is what",
    "start": "2616160",
    "end": "2621440"
  },
  {
    "text": "it looks like so you see these two different uh calls that we have to start event so that's every user starting the",
    "start": "2621440",
    "end": "2627200"
  },
  {
    "text": "session and these are errors that we have so around about something like 20,000 Vols per minute is what the",
    "start": "2627200",
    "end": "2634319"
  },
  {
    "text": "system does now but you look for the last months you see these outliers",
    "start": "2634319",
    "end": "2640920"
  },
  {
    "text": "here remember very early in the beginning like one of the error calls there box in a new",
    "start": "2640920",
    "end": "2646920"
  },
  {
    "text": "version please read the box in the new version but since we have a Q in there",
    "start": "2646920",
    "end": "2653280"
  },
  {
    "text": "um this is a delay time um so this is how old the records are that you insert",
    "start": "2653280",
    "end": "2658520"
  },
  {
    "text": "into elastic search and basically it's a flat line and if some game really misbehaves then you may delay like 10",
    "start": "2658520",
    "end": "2666040"
  },
  {
    "text": "minutes of",
    "start": "2666040",
    "end": "2669440"
  },
  {
    "text": "TR so weing this up before we get to the Bas upstairs at least I",
    "start": "2671319",
    "end": "2678240"
  },
  {
    "start": "2672000",
    "end": "2879000"
  },
  {
    "text": "want are there some left",
    "start": "2678240",
    "end": "2683319"
  },
  {
    "text": "maybe so for me this is um a time curreny to look back um I",
    "start": "2683319",
    "end": "2691880"
  },
  {
    "text": "will leave vuga after seven years actually Friday is my last day here in this office and start something new then",
    "start": "2691880",
    "end": "2698079"
  },
  {
    "text": "in two weeks um so and while doing the talk before and now also this talk it",
    "start": "2698079",
    "end": "2703839"
  },
  {
    "text": "was kind of like to reflect and look back because this was also Quest and a journey for me about five six years and",
    "start": "2703839",
    "end": "2710319"
  },
  {
    "text": "one thing even with all the pain and all that using arates is now the way how we",
    "start": "2710319",
    "end": "2716079"
  },
  {
    "text": "do it here maybe now CR litics caught up maybe we switch to using an external",
    "start": "2716079",
    "end": "2721319"
  },
  {
    "text": "service but this is uh the way how we know do operations for m games so so um",
    "start": "2721319",
    "end": "2728480"
  },
  {
    "text": "B of wrapping up for me is kind of like leing in your dreams be consistent about it over the years even if you have pain",
    "start": "2728480",
    "end": "2734800"
  },
  {
    "text": "and fuckups uh but that's for me like one of the main takeways of this the",
    "start": "2734800",
    "end": "2741400"
  },
  {
    "text": "second one for me is the solution that you build need to fit to the problem of course right the",
    "start": "2741400",
    "end": "2749000"
  },
  {
    "text": "first real time processing thing it was an awesome amazing thing and it really worked and was a brilliant engineer",
    "start": "2749000",
    "end": "2755319"
  },
  {
    "text": "engineering Master you can say but it was not fit to the problem because Andro came along kind of like the whole",
    "start": "2755319",
    "end": "2761079"
  },
  {
    "text": "premises who exploded but the second one I mean that's we all know right I mean that's",
    "start": "2761079",
    "end": "2767480"
  },
  {
    "text": "true have requirements in good system but the second learning for me is even more important because it was not so clear to",
    "start": "2767480",
    "end": "2774520"
  },
  {
    "text": "me before the solutions that you build there also need to fit into the team",
    "start": "2774520",
    "end": "2779559"
  },
  {
    "text": "maintaining system also true um but we have kind of like a culture of like",
    "start": "2779559",
    "end": "2786359"
  },
  {
    "text": "everything knew we innovate and do something new and he just overdid it",
    "start": "2786359",
    "end": "2791640"
  },
  {
    "text": "this uh miming Twitter storm is really cool if you're Twitter if you're not",
    "start": "2791640",
    "end": "2796720"
  },
  {
    "text": "Twitter maybe you should not try to build a system Twitter um which brings me to to the",
    "start": "2796720",
    "end": "2803559"
  },
  {
    "text": "last one which for me still is is",
    "start": "2803559",
    "end": "2808880"
  },
  {
    "text": "amazing so we had this brilliant system engineering design and",
    "start": "2808880",
    "end": "2817200"
  },
  {
    "text": "off to make this work to think about it argue about it many white people and you",
    "start": "2817200",
    "end": "2822839"
  },
  {
    "text": "replace just replace the back by some host servers Nam elastic search and it",
    "start": "2822839",
    "end": "2829400"
  },
  {
    "text": "just did work and for me um allowing me to to",
    "start": "2829400",
    "end": "2836200"
  },
  {
    "text": "build a system that is more simple that is more elegent that upholds really the",
    "start": "2836200",
    "end": "2841559"
  },
  {
    "text": "value of kiss like keep it simple stupid and stupid is most of the time to myself",
    "start": "2841559",
    "end": "2847200"
  },
  {
    "text": "um is something that I really admire and really provs me to Value so for me",
    "start": "2847200",
    "end": "2852880"
  },
  {
    "text": "elastic search really is it's amazing because it allows me to do that to simplify system by ERS of magnitude and",
    "start": "2852880",
    "end": "2860160"
  },
  {
    "text": "it still works even better than before so for me my summary is just elastic SE",
    "start": "2860160",
    "end": "2869400"
  },
  {
    "text": "[Applause]",
    "start": "2870010",
    "end": "2879680"
  },
  {
    "text": "so if you have questions also good time to ask",
    "start": "2879680",
    "end": "2885520"
  },
  {
    "text": "them okay thanks for the talk Insight um you said you save 20 million records per",
    "start": "2885520",
    "end": "2892319"
  },
  {
    "text": "day how how performance the Tex let Expos to you um no problem whatsoever I",
    "start": "2892319",
    "end": "2900960"
  },
  {
    "text": "just hit one um I can I can show you later on so it depends a bit like so for a largest game",
    "start": "2900960",
    "end": "2907960"
  },
  {
    "text": "um uh you might run something like maybe 5 seconds or so but as long as",
    "start": "2907960",
    "end": "2915119"
  },
  {
    "text": "um um for the smaller games that only make",
    "start": "2915119",
    "end": "2920920"
  },
  {
    "text": "up so it's pretty enough so I say usually it's below 2 seconds so it's not like in lock that you go like and do a",
    "start": "2921520",
    "end": "2928040"
  },
  {
    "text": "TR like for any minute it's not the case because data is very structured um and",
    "start": "2928040",
    "end": "2935480"
  },
  {
    "text": "um I think it's also du to the way how but no problem in",
    "start": "2935480",
    "end": "2941520"
  },
  {
    "text": "this how big and complicated or simple are the event",
    "start": "2941520",
    "end": "2947559"
  },
  {
    "text": "structure uh it's very simple uh it's basically so we have a rest API the uh",
    "start": "2947559",
    "end": "2953200"
  },
  {
    "text": "clients do Post which is basically hashmap of key value Pairs and some of the values can be pretty long for",
    "start": "2953200",
    "end": "2958680"
  },
  {
    "text": "example you can lock something like reps or metadata or St faes and most of the",
    "start": "2958680",
    "end": "2963720"
  },
  {
    "text": "time it's very easy to used like I think or so but all this is a flat hashmap and",
    "start": "2963720",
    "end": "2971920"
  },
  {
    "text": "and this is basically structure that you have also yeah so this is what lands on an elastic C this is an elastic and can",
    "start": "2971920",
    "end": "2979680"
  },
  {
    "text": "you maybe share some order of magnitude like I don't know 10 five or like 100",
    "start": "2979680",
    "end": "2985359"
  },
  {
    "text": "how many F so many how many fields in",
    "start": "2985359",
    "end": "2989960"
  },
  {
    "text": "this I think for the something like 20 keys or so so 15 to 20 keys and then",
    "start": "2992799",
    "end": "3000040"
  },
  {
    "text": "maybe three four large ones like the the bre which can be a few okay but uh",
    "start": "3000040",
    "end": "3007040"
  },
  {
    "text": "something so overall pretty small documents compared to what you usually put in",
    "start": "3007040",
    "end": "3013880"
  },
  {
    "text": "[Music] phy so we use K internally and Al from",
    "start": "3015950",
    "end": "3024880"
  },
  {
    "text": "time to time we get access to all other to if they really want to to go down and you also use it for prototyping uh but",
    "start": "3024880",
    "end": "3032200"
  },
  {
    "text": "we did not really consider it to make it um publicly available to everyone",
    "start": "3032200",
    "end": "3039480"
  },
  {
    "text": "because then we feel like for different TRS we could then kind of like affect everything um but most of actually for",
    "start": "3039480",
    "end": "3047559"
  },
  {
    "text": "most parts we don't want to spend time educating everyone in the system so we",
    "start": "3047559",
    "end": "3053160"
  },
  {
    "text": "decided to build to have an opinion on what matters and what not and they put that in UI and put in front",
    "start": "3053160",
    "end": "3059119"
  },
  {
    "text": "of and you use kibana then if you really need to get dat later but then it's",
    "start": "3059119",
    "end": "3064400"
  },
  {
    "text": "probably more like one of us and one of the game teams to dig in the data",
    "start": "3064400",
    "end": "3070079"
  },
  {
    "text": "together anything else or everyone hungry do you have some kind of uh",
    "start": "3070079",
    "end": "3076559"
  },
  {
    "text": "grouping errors like similar errors um so basically all the errors",
    "start": "3076559",
    "end": "3081839"
  },
  {
    "text": "they are grouped so for criteria so um",
    "start": "3081839",
    "end": "3087640"
  },
  {
    "text": "um so the consumer actually creates um a hash out of I think it's the name of the",
    "start": "3087640",
    "end": "3094119"
  },
  {
    "text": "error which is us something like N Point extion or whatever and and the hash of",
    "start": "3094119",
    "end": "3100160"
  },
  {
    "text": "the STX or both together and hash and that we use as a unique identifier both",
    "start": "3100160",
    "end": "3105839"
  },
  {
    "text": "for the navigation in the UI but also to store as a document um so um so",
    "start": "3105839",
    "end": "3113680"
  },
  {
    "text": "basically this identifier becomes one of the few of the eres of the 20 million",
    "start": "3113680",
    "end": "3119319"
  },
  {
    "text": "and then we can basically then aggregate them all that have the same on them do",
    "start": "3119319",
    "end": "3124720"
  },
  {
    "text": "disting counter users to get the error for that it's pretty simple so it's a that thing of every error event that the",
    "start": "3124720",
    "end": "3131400"
  },
  {
    "text": "only thing is to put in this group ID so we can on and the group is just hash",
    "start": "3131400",
    "end": "3138520"
  },
  {
    "text": "it's super simple are you hosting Amazon using",
    "start": "3138520",
    "end": "3148520"
  },
  {
    "text": "uh the question is if you're using Amazon's search um so the current",
    "start": "3148920",
    "end": "3154040"
  },
  {
    "text": "version is version 2.2 version 2.3 would use Amazon's elastic search and instead",
    "start": "3154040",
    "end": "3159200"
  },
  {
    "text": "of elastic IO solution um so right now we are not using Amazon um all the",
    "start": "3159200",
    "end": "3165280"
  },
  {
    "text": "application servers are at Amazon and also elastic host them at Amazon uh the",
    "start": "3165280",
    "end": "3170599"
  },
  {
    "text": "reason why we will switch is that um the standard service size is provided by",
    "start": "3170599",
    "end": "3175960"
  },
  {
    "text": "elastic are pretty much one size you got can just scale them up and because we",
    "start": "3175960",
    "end": "3181440"
  },
  {
    "text": "need a lot of displays we are very overpriced in terms of CPU we have maybe",
    "start": "3181440",
    "end": "3186880"
  },
  {
    "text": "20 20 users using the system and you could do it with way less cost if you",
    "start": "3186880",
    "end": "3193040"
  },
  {
    "text": "just would have more this so uh you will probably switch over to Amazon's elastic",
    "start": "3193040",
    "end": "3198599"
  },
  {
    "text": "search solution what what instance types are are currently in use for the",
    "start": "3198599",
    "end": "3205280"
  },
  {
    "text": "no uh uh big ones uh I think the whole thing um it's uh the 64 GB r two of them",
    "start": "3205280",
    "end": "3215480"
  },
  {
    "text": "so I think total cost is something like3 and half th000 a month on elastic and I think Amazon is easily half or third of",
    "start": "3215480",
    "end": "3223200"
  },
  {
    "text": "that just didn't get a lot of time to do I'm",
    "start": "3223200",
    "end": "3230280"
  },
  {
    "text": "hungry you to let's go eat [Applause]",
    "start": "3230280",
    "end": "3243949"
  }
]