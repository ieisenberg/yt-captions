[
  {
    "text": "my name is Kim delco i work as a independent consultant in web and iOS",
    "start": "0",
    "end": "7319"
  },
  {
    "text": "development and i will tell you about supporting offline mobile web",
    "start": "7319",
    "end": "14160"
  },
  {
    "text": "applications via html5 so I got a little",
    "start": "14160",
    "end": "19680"
  },
  {
    "text": "agenda here first point is application cache that's how we can take our",
    "start": "19680",
    "end": "27720"
  },
  {
    "text": "skeleton and and persisted on the on the mobile device so we don't have to have",
    "start": "27720",
    "end": "34739"
  },
  {
    "text": "online access to to actually run the app the mobile app the next three is a",
    "start": "34739",
    "end": "43969"
  },
  {
    "text": "different way of storing our data it is very important here to separate the",
    "start": "43969",
    "end": "50430"
  },
  {
    "text": "application and the data that the application uses it's a common pitfall",
    "start": "50430",
    "end": "55469"
  },
  {
    "text": "to to put all in in the app cache and then help terrible things can happen so",
    "start": "55469",
    "end": "62820"
  },
  {
    "text": "first of all how do we take care of the application and then three different",
    "start": "62820",
    "end": "72710"
  },
  {
    "text": "perspectives on saving the data on the telephone or at the device too so let's",
    "start": "72710",
    "end": "79680"
  },
  {
    "text": "start with the application cache is that",
    "start": "79680",
    "end": "87720"
  },
  {
    "text": "big enough to read or should I make the font bigger fine okay this is from the",
    "start": "87720",
    "end": "93960"
  },
  {
    "text": "date the w3c spec and it it's just",
    "start": "93960",
    "end": "103409"
  },
  {
    "text": "telling us what we can expect from this specification it's it's about taking a",
    "start": "103409",
    "end": "108659"
  },
  {
    "text": "web application and and use and when when we are not connected to the to the",
    "start": "108659",
    "end": "114509"
  },
  {
    "text": "Internet and the way we do it is by providing a manifest so this guy is Jack",
    "start": "114509",
    "end": "124950"
  },
  {
    "text": "article he is he was a lead developer by",
    "start": "124950",
    "end": "129989"
  },
  {
    "text": "land yard and he is now transferring to Google and he has been traveling the",
    "start": "129989",
    "end": "135220"
  },
  {
    "text": "world with with this with this store called application cache is a douche bag",
    "start": "135220",
    "end": "142690"
  },
  {
    "text": "and if you look in the in urban dictionary a douche bag is something",
    "start": "142690",
    "end": "148360"
  },
  {
    "text": "like like this in over inflated sense of",
    "start": "148360",
    "end": "154600"
  },
  {
    "text": "self-worth so it's not very flattering",
    "start": "154600",
    "end": "161380"
  },
  {
    "text": "to be called the douchebag and I think maybe it's it's too harsh to call a call",
    "start": "161380",
    "end": "168880"
  },
  {
    "text": "the application cache at a douche bag I'll i prefer a comparing application",
    "start": "168880",
    "end": "173950"
  },
  {
    "text": "cast to my sister-in-law and she helps me out with my do-it-yourself jobs at",
    "start": "173950",
    "end": "181180"
  },
  {
    "text": "home and and she it's not very good at it but she is very eager to help so last",
    "start": "181180",
    "end": "188080"
  },
  {
    "text": "time she was there she was tooling eight millimeter holes in egg I wouldn't door",
    "start": "188080",
    "end": "193750"
  },
  {
    "text": "so the secret put a wall clocks in and school and screws and so I think that's",
    "start": "193750",
    "end": "200950"
  },
  {
    "text": "the kind of guy this F caches eager to",
    "start": "200950",
    "end": "206170"
  },
  {
    "text": "help but but we take care of it it's not",
    "start": "206170",
    "end": "212019"
  },
  {
    "text": "always as good as it says it is ok now",
    "start": "212019",
    "end": "220299"
  },
  {
    "text": "the technical parts to to use an app cache we have to to include a an",
    "start": "220299",
    "end": "228299"
  },
  {
    "text": "attribute manifest in the HTML tag and then refer a manifest file on the server",
    "start": "228299",
    "end": "236290"
  },
  {
    "text": "and usually this file is called cache",
    "start": "236290",
    "end": "241720"
  },
  {
    "text": "manifest but it's it's a careful choice",
    "start": "241720",
    "end": "247140"
  },
  {
    "text": "the files that are referencing a given",
    "start": "247140",
    "end": "254430"
  },
  {
    "text": "manifest violence will go into the app cache as master entry we will see why",
    "start": "254430",
    "end": "263530"
  },
  {
    "text": "this is important later so a manifest file consists of four",
    "start": "263530",
    "end": "271210"
  },
  {
    "text": "different sections the first section is a header and the very first line should",
    "start": "271210",
    "end": "278139"
  },
  {
    "text": "read cache manifest and there should be",
    "start": "278139",
    "end": "283300"
  },
  {
    "text": "no empty lines above we do comments like",
    "start": "283300",
    "end": "289629"
  },
  {
    "text": "this with a hash mark and then we have a cache section a fallback section and a",
    "start": "289629",
    "end": "296439"
  },
  {
    "text": "network section and I'll go through these in a moment when serving a cache",
    "start": "296439",
    "end": "303729"
  },
  {
    "text": "manifest file we have to serve it with the content-type text / cache manifest in it's about to be dropped this",
    "start": "303729",
    "end": "312069"
  },
  {
    "text": "restriction but in the implementations now in both chrome and firefox we have",
    "start": "312069",
    "end": "318759"
  },
  {
    "text": "to to give the right mime type or we it won't be treated as a cache manifest",
    "start": "318759",
    "end": "323800"
  },
  {
    "text": "file oh that was the cash part the cash",
    "start": "323800",
    "end": "336759"
  },
  {
    "text": "part is where we put in the files that we want to be on the app cache control",
    "start": "336759",
    "end": "342849"
  },
  {
    "text": "so here we put a style sheets the JavaScript files and the like we there's",
    "start": "342849",
    "end": "352259"
  },
  {
    "text": "the file that that has the cash",
    "start": "352259",
    "end": "357789"
  },
  {
    "text": "manifested it's no you don't have to mention that once again it's it's will",
    "start": "357789",
    "end": "364360"
  },
  {
    "text": "be in the cache and you don't have to do anything to to put it there the",
    "start": "364360",
    "end": "373419"
  },
  {
    "text": "resources has to be loaded with the same protocol as the manifest file but do not",
    "start": "373419",
    "end": "380229"
  },
  {
    "text": "have to come from the same origin so if it's a HTTP cache all the files that are",
    "start": "380229",
    "end": "388449"
  },
  {
    "text": "in the case has to be HTTP and not https for example fall back",
    "start": "388449",
    "end": "397969"
  },
  {
    "text": "here you can if you if there's files that you don't want in your case may be",
    "start": "397969",
    "end": "405229"
  },
  {
    "text": "there there big images or something like that you can you can provide fallbacks for these so here sa images / cars",
    "start": "405229",
    "end": "413929"
  },
  {
    "text": "should be replaced by images / cars grey card at jay peak if we are on offline so",
    "start": "413929",
    "end": "425349"
  },
  {
    "text": "and we can we can give a URL name space or we give a absolute you I'll yeah to",
    "start": "425349",
    "end": "433689"
  },
  {
    "text": "to the fall back and the fallback",
    "start": "433689",
    "end": "442219"
  },
  {
    "text": "resources have to come from the same origin as s the manifest file the",
    "start": "442219",
    "end": "449839"
  },
  {
    "text": "network part it says it's very important and in the misunderstand in this part we",
    "start": "449839",
    "end": "459589"
  },
  {
    "text": "if we don't provide a network section here we cannot we can only serve files",
    "start": "459589",
    "end": "466729"
  },
  {
    "text": "that are in the cache application cache so if our application has to go to",
    "start": "466729",
    "end": "473300"
  },
  {
    "text": "internet and get other files if it's online you have to specify something in",
    "start": "473300",
    "end": "480319"
  },
  {
    "text": "in a network section and if you specify a aspects it will be possible to to go",
    "start": "480319",
    "end": "489019"
  },
  {
    "text": "to any resource on the internet with the same protocol if you specify something more specific like this you'll be",
    "start": "489019",
    "end": "497599"
  },
  {
    "text": "restricted only to to use these resources from within the cash",
    "start": "497599",
    "end": "506349"
  },
  {
    "text": "you can omit the the cash section if you put something between the cache manifest",
    "start": "510889",
    "end": "517039"
  },
  {
    "text": "header and in the first section it will be included in in the in the cache as if",
    "start": "517039",
    "end": "524750"
  },
  {
    "text": "it were in a case section this is a",
    "start": "524750",
    "end": "531410"
  },
  {
    "text": "little trap if the browser cache is",
    "start": "531410",
    "end": "538040"
  },
  {
    "text": "still active underneath the application cache so if you request something from",
    "start": "538040",
    "end": "545870"
  },
  {
    "text": "the application cache it will go to the Bowser's normal cash and that can be a",
    "start": "545870",
    "end": "552380"
  },
  {
    "text": "little bit dangerous we will see that in in a moment here we had the double",
    "start": "552380",
    "end": "559070"
  },
  {
    "text": "refresh deal if if we are we don't wait",
    "start": "559070",
    "end": "566110"
  },
  {
    "text": "to see if we are online if we have requesting something that's on the cache location cache control we are showing",
    "start": "566110",
    "end": "574550"
  },
  {
    "text": "the page instantly and then afterwards we'll go and see if we are online so if",
    "start": "574550",
    "end": "580730"
  },
  {
    "text": "we are online and they say something new to our cash then that will be loaded but",
    "start": "580730",
    "end": "586970"
  },
  {
    "text": "the page will not be reloaded so we have to make a double reload if something has changed and we will see that in a moment",
    "start": "586970",
    "end": "596560"
  },
  {
    "text": "if we delete a manifest file then the",
    "start": "596560",
    "end": "603070"
  },
  {
    "text": "cached the application case will be deleted on the client so that's a way to",
    "start": "603070",
    "end": "608420"
  },
  {
    "text": "get rid of of being under K application cache control so we can just remove the",
    "start": "608420",
    "end": "616540"
  },
  {
    "text": "cache manifest and then the cached file will be removed yes this was this is",
    "start": "616540",
    "end": "629000"
  },
  {
    "text": "actually enough to to make a application",
    "start": "629000",
    "end": "636699"
  },
  {
    "text": "to put our web application on the cache control but",
    "start": "636699",
    "end": "641939"
  },
  {
    "text": "if that's not what we want this and in the nice API to the application cache",
    "start": "641939",
    "end": "648479"
  },
  {
    "text": "too so it's placed on the application",
    "start": "648479",
    "end": "655319"
  },
  {
    "text": "cache poverty on the windows object and that is the cash for this given master",
    "start": "655319",
    "end": "663779"
  },
  {
    "text": "entry so this this object has a poverty",
    "start": "663779",
    "end": "676319"
  },
  {
    "text": "called status and here we can see what",
    "start": "676319",
    "end": "681539"
  },
  {
    "text": "other status of our application cash-on-cash that means that this is not",
    "start": "681539",
    "end": "689549"
  },
  {
    "text": "under any cash control an idol that means that we are in s.s steady mode we",
    "start": "689549",
    "end": "696629"
  },
  {
    "text": "we have collected what there is to be collected and we have refreshed and so",
    "start": "696629",
    "end": "702119"
  },
  {
    "text": "on there are some methods there's an update method when calling this update",
    "start": "702119",
    "end": "708959"
  },
  {
    "text": "method we will we'll go and see if there's any changes and the to see if",
    "start": "708959",
    "end": "718829"
  },
  {
    "text": "there's any changes the app cache is looking for changes in the manifest file",
    "start": "718829",
    "end": "724499"
  },
  {
    "text": "so per definition if the manifest file hasn't changed there's nothing new to",
    "start": "724499",
    "end": "730379"
  },
  {
    "text": "the cash and if the manifest file has changed then we will reload the whole",
    "start": "730379",
    "end": "737339"
  },
  {
    "text": "cache if we will regret this operation",
    "start": "737339",
    "end": "743970"
  },
  {
    "text": "we can we can call a bot and then stop maybe we are on edge network and and do",
    "start": "743970",
    "end": "751199"
  },
  {
    "text": "not want to to wait for the cash to to download and when we are succeeded we",
    "start": "751199",
    "end": "757379"
  },
  {
    "text": "can call swap cash and then the new cash will will come in the newly downloaded cash but it will not reload the page so",
    "start": "757379",
    "end": "766879"
  },
  {
    "text": "resources being asked for after this web case swept cash will will pick files",
    "start": "766879",
    "end": "774629"
  },
  {
    "text": "from from gnucash this is a seldom-used normally",
    "start": "774629",
    "end": "780450"
  },
  {
    "text": "we will make a reload of the the whole page there are events that we can listen",
    "start": "780450",
    "end": "790220"
  },
  {
    "text": "listen for checking is the first event that we will get it will get it when",
    "start": "790220",
    "end": "798270"
  },
  {
    "text": "when we are starting and to look for a new update the next event we can get is",
    "start": "798270",
    "end": "806760"
  },
  {
    "text": "a no update that means that the manifest file is the same manifest violence",
    "start": "806760",
    "end": "812339"
  },
  {
    "text": "violet that we have on there on the client downloading that means that we",
    "start": "812339",
    "end": "820980"
  },
  {
    "text": "have found a difference between the two manifest files and we are now downloading the cash again and progress",
    "start": "820980",
    "end": "831510"
  },
  {
    "text": "we are getting progress events so we can see that something is happening cached",
    "start": "831510",
    "end": "842130"
  },
  {
    "text": "that means that this is this event will only fire when we for the first time is",
    "start": "842130",
    "end": "848390"
  },
  {
    "text": "caching the web application so so the first time that we are taking this page",
    "start": "848390",
    "end": "854100"
  },
  {
    "text": "on the under cache control will have a cached event file and afterwards when we",
    "start": "854100",
    "end": "861990"
  },
  {
    "text": "have downloaded a new version we'll get an update ready we can get an obsolete",
    "start": "861990",
    "end": "873120"
  },
  {
    "text": "that was what we saw before if you if the manifest file is gone then we will",
    "start": "873120",
    "end": "882660"
  },
  {
    "text": "get an obsolete event and and the case will be cleared and lastly we can have",
    "start": "882660",
    "end": "888000"
  },
  {
    "text": "an error that means that something went terrible wrong",
    "start": "888000",
    "end": "893540"
  },
  {
    "text": "yes we can try to take this these slides offline we look at the code go and find",
    "start": "895960",
    "end": "906130"
  },
  {
    "text": "the app cache file and here at the HTML tag we'll just put in a manifests equals",
    "start": "906130",
    "end": "920460"
  },
  {
    "text": "cache manifest and now we need to make a cache manifest",
    "start": "920460",
    "end": "929630"
  },
  {
    "text": "yeah I think we will steal one here",
    "start": "931640",
    "end": "936950"
  },
  {
    "text": "so now we made a cache manifest file and and I'm referring the style sheets and",
    "start": "947680",
    "end": "956650"
  },
  {
    "text": "did JavaScript files that makes up this",
    "start": "956650",
    "end": "962020"
  },
  {
    "text": "application I have a single fall back here I say the stylesheet github that",
    "start": "962020",
    "end": "967520"
  },
  {
    "text": "CSS should be replaced by style sheet as passively / CSS when we are offline and",
    "start": "967520",
    "end": "975100"
  },
  {
    "text": "I say that the network you can you can fetch whatever you want from the network",
    "start": "975100",
    "end": "981760"
  },
  {
    "text": "so let's see if we reload the page I",
    "start": "981760",
    "end": "986800"
  },
  {
    "text": "said error that's not good",
    "start": "987400",
    "end": "994780"
  },
  {
    "text": "yeah I did thank you I did that in the",
    "start": "1001360",
    "end": "1011880"
  },
  {
    "text": "html5 scary scary yeah so we when the",
    "start": "1011880",
    "end": "1026350"
  },
  {
    "text": "new now we introduce the appcache to to this side and we send a la vie cut back",
    "start": "1026350",
    "end": "1034360"
  },
  {
    "text": "at checking event it found them deaf manifest file we started downloading",
    "start": "1034360",
    "end": "1040540"
  },
  {
    "text": "there was some pocus and then suddenly there was i catched and now we are under",
    "start": "1040540",
    "end": "1047319"
  },
  {
    "text": "cache control so let's try to kill the",
    "start": "1047319",
    "end": "1056350"
  },
  {
    "text": "server now we should be offline let's do",
    "start": "1056350",
    "end": "1065380"
  },
  {
    "text": "it again what's the saying this cash",
    "start": "1065380",
    "end": "1075750"
  },
  {
    "text": "okay that's choose files I missed so if",
    "start": "1075750",
    "end": "1080980"
  },
  {
    "text": "we are missing any files we will get an error we can't use a cash that is not",
    "start": "1080980",
    "end": "1088299"
  },
  {
    "text": "complete so we we have a fully functional cash or no cash that's the 22",
    "start": "1088299",
    "end": "1098260"
  },
  {
    "text": "possibilities so we'll go and fix this case manifest",
    "start": "1098260",
    "end": "1105929"
  },
  {
    "text": "yep cassius's",
    "start": "1111040",
    "end": "1114270"
  },
  {
    "text": "more nicer stop it",
    "start": "1138860",
    "end": "1145980"
  },
  {
    "text": "what NASA muddy can I spelled modernizer",
    "start": "1149310",
    "end": "1163230"
  },
  {
    "text": "I stop the server yeah right we have we",
    "start": "1167230",
    "end": "1173049"
  },
  {
    "text": "have to reload it while we are yeah",
    "start": "1173049",
    "end": "1178740"
  },
  {
    "text": "that's great and now we can stop this over again now we have a new copy yeah",
    "start": "1178770",
    "end": "1190049"
  },
  {
    "text": "right",
    "start": "1190620",
    "end": "1193620"
  },
  {
    "text": "so game feel it's not failing",
    "start": "1195740",
    "end": "1199809"
  },
  {
    "text": "oh that's the camera here we are getting so what happens here is that we can't",
    "start": "1206050",
    "end": "1214180"
  },
  {
    "text": "fetch the manifest file so so for normal purposes this is on now on the cache",
    "start": "1214180",
    "end": "1219340"
  },
  {
    "text": "control so we can see the style sheet",
    "start": "1219340",
    "end": "1227260"
  },
  {
    "text": "has changed for them for the code and we",
    "start": "1227260",
    "end": "1233470"
  },
  {
    "text": "are now showing this page without being",
    "start": "1233470",
    "end": "1240880"
  },
  {
    "text": "online",
    "start": "1240880",
    "end": "1243210"
  },
  {
    "text": "so now we're back online again and it should change the now the cash is playing a game with me the browser cache",
    "start": "1248330",
    "end": "1258370"
  },
  {
    "text": "so it is a kind of a little bit of",
    "start": "1266880",
    "end": "1274860"
  },
  {
    "text": "douche-baggy but it it actually works if",
    "start": "1274860",
    "end": "1281010"
  },
  {
    "text": "you have the time to just fill it now I think everything is back to normal so",
    "start": "1281010",
    "end": "1287750"
  },
  {
    "text": "there is a working group working on on making this better but but I think it's",
    "start": "1287750",
    "end": "1293730"
  },
  {
    "text": "as it is right now it's usable and and you can you can take a look at what's",
    "start": "1293730",
    "end": "1299670"
  },
  {
    "text": "happening underneath by by using chrome tools the resources we can see that as a",
    "start": "1299670",
    "end": "1308490"
  },
  {
    "text": "cashier you can see what's files are in the cache and why they are indication",
    "start": "1308490",
    "end": "1313920"
  },
  {
    "text": "and you can go and look at combs app",
    "start": "1313920",
    "end": "1325860"
  },
  {
    "text": "cache internals and we can look at the",
    "start": "1325860",
    "end": "1331740"
  },
  {
    "text": "actual files that I in the cache and see the HTTP responses for these files so",
    "start": "1331740",
    "end": "1339600"
  },
  {
    "text": "even if it's a little bit tricky to to to use this there's a good tooling fight",
    "start": "1339600",
    "end": "1345510"
  },
  {
    "text": "and and when you have it working you're it is stable so now I have when I have",
    "start": "1345510",
    "end": "1356640"
  },
  {
    "text": "this one under cache control I don't have to worry much about it anymore",
    "start": "1356640",
    "end": "1362779"
  },
  {
    "text": "the cash application cache is only for for the skeleton of the application it's",
    "start": "1367170",
    "end": "1376430"
  },
  {
    "text": "if you use it for for data it tend to to",
    "start": "1376430",
    "end": "1381510"
  },
  {
    "text": "go wrong if if you change something you have to reload the whole cache so if you",
    "start": "1381510",
    "end": "1391500"
  },
  {
    "text": "if you decided to pick one point one",
    "start": "1391500",
    "end": "1396690"
  },
  {
    "text": "data file instead of another data file you have to reload your hole yep so I don't I prefer not to use the app cache",
    "start": "1396690",
    "end": "1404550"
  },
  {
    "text": "as as a data storage so and here's a",
    "start": "1404550",
    "end": "1409740"
  },
  {
    "text": "little look at where we can use it and",
    "start": "1409740",
    "end": "1417300"
  },
  {
    "text": "on the mobile side it's in iOS and it's",
    "start": "1417300",
    "end": "1422940"
  },
  {
    "text": "on Android and it's coming on and the windows phone so it sits perfectly",
    "start": "1422940",
    "end": "1429060"
  },
  {
    "text": "usable right now okay next up is it's",
    "start": "1429060",
    "end": "1440370"
  },
  {
    "text": "one of the three different storage mechanisms and this is the most symbol of them all it's local storage and it's",
    "start": "1440370",
    "end": "1448440"
  },
  {
    "text": "just a giant hashmap in in in the browser",
    "start": "1448440",
    "end": "1454970"
  },
  {
    "text": "this particular storage type is spanning a or F single origin so it's forgiving",
    "start": "1460290",
    "end": "1475200"
  },
  {
    "text": "origin and and the browser has different hash tables different local storage for",
    "start": "1475200",
    "end": "1481080"
  },
  {
    "text": "each origin that it's it meets so it's it's perfectly safe to use you cannot",
    "start": "1481080",
    "end": "1487700"
  },
  {
    "text": "you cannot go into another pages and other origins hash map and do anything",
    "start": "1487700",
    "end": "1495750"
  },
  {
    "text": "there so this is an important part of it",
    "start": "1495750",
    "end": "1509960"
  },
  {
    "text": "the keys are strings so you can use you can't use a a number you can use a",
    "start": "1509960",
    "end": "1519390"
  },
  {
    "text": "number but it is converted to a string everything is converted to a string before its use as a s a key and similar",
    "start": "1519390",
    "end": "1527400"
  },
  {
    "text": "values are strings so if you have complex objects and you want to store them in local storage you have to",
    "start": "1527400",
    "end": "1533870"
  },
  {
    "text": "realize the mess sta tion something like that there is a gate item method that's",
    "start": "1533870",
    "end": "1546620"
  },
  {
    "text": "that takes a a key and we join some value and you get a null back if if if",
    "start": "1546620",
    "end": "1554970"
  },
  {
    "text": "the key do not exist there's a set item taking a key and value and and if the",
    "start": "1554970",
    "end": "1563100"
  },
  {
    "text": "key is already in use the value is replaced and otherwise a new key value pairs is added remove item take a key",
    "start": "1563100",
    "end": "1574680"
  },
  {
    "text": "and remove the item from map and there's a clear that clears the whole the whole",
    "start": "1574680",
    "end": "1583250"
  },
  {
    "text": "local storage so you as a client can always get rid of of the database",
    "start": "1583250",
    "end": "1592820"
  },
  {
    "text": "there's a length so you can ask how many key value pairs are there in the database and there is a key takes an",
    "start": "1594379",
    "end": "1602759"
  },
  {
    "text": "integer and give back the key if it from",
    "start": "1602759",
    "end": "1609240"
  },
  {
    "text": "the given key set at that index it's a",
    "start": "1609240",
    "end": "1618539"
  },
  {
    "text": "little bit of syntactic sugar on top of this you can do use square brackets to",
    "start": "1618539",
    "end": "1627269"
  },
  {
    "text": "as you can in normal objects I think that is the preferred way to choose to",
    "start": "1627269",
    "end": "1635279"
  },
  {
    "text": "use this key stone here's a little",
    "start": "1635279",
    "end": "1640950"
  },
  {
    "text": "example I i think i will go for the console example instead we can add any",
    "start": "1640950",
    "end": "1649980"
  },
  {
    "text": "origin we can go in and say give us local storage and then we get a starch",
    "start": "1649980",
    "end": "1658980"
  },
  {
    "text": "opaque object back and we can look in that and say okay it has a key i have",
    "start": "1658980",
    "end": "1664499"
  },
  {
    "text": "been playing around with it so let's let's say local storage that clear so",
    "start": "1664499",
    "end": "1674789"
  },
  {
    "text": "now we have a empty storage up yet links",
    "start": "1674789",
    "end": "1681029"
  },
  {
    "text": "0 so we can we can add a a key and a value some string",
    "start": "1681029",
    "end": "1694220"
  },
  {
    "text": "you",
    "start": "1695399",
    "end": "1697460"
  },
  {
    "text": "so you can look at the object again yeah",
    "start": "1701360",
    "end": "1706980"
  },
  {
    "text": "we have a fubar key so if we try to",
    "start": "1706980",
    "end": "1713070"
  },
  {
    "text": "store something that is not by a key that is not a string for example 1 we",
    "start": "1713070",
    "end": "1723710"
  },
  {
    "text": "look at the storage again we can see it has actually converted this you can see",
    "start": "1723710",
    "end": "1732330"
  },
  {
    "text": "that it has converted the key to a",
    "start": "1732330",
    "end": "1741389"
  },
  {
    "text": "string if we use a more complex thing",
    "start": "1741389",
    "end": "1747389"
  },
  {
    "text": "for example a function we can declare function if as it's very simple function",
    "start": "1747389",
    "end": "1760679"
  },
  {
    "text": "and we use that function as a as a key",
    "start": "1760679",
    "end": "1767360"
  },
  {
    "text": "we can store a value for",
    "start": "1767360",
    "end": "1771320"
  },
  {
    "text": "whew that went well and we can use the same f2 to get it back but if we make",
    "start": "1775090",
    "end": "1783970"
  },
  {
    "text": "another function with the same this looks exactly the same we'll get full",
    "start": "1783970",
    "end": "1794380"
  },
  {
    "text": "back that's because the function is converted to a string everything is",
    "start": "1794380",
    "end": "1799690"
  },
  {
    "text": "converted to a string and and then used as a key so be careful with non strings",
    "start": "1799690",
    "end": "1809370"
  },
  {
    "text": "like the key here is function as a string there is a event you can listen",
    "start": "1809370",
    "end": "1825910"
  },
  {
    "text": "for an event called storage on window and if we have two sessions open in the",
    "start": "1825910",
    "end": "1834400"
  },
  {
    "text": "same in the same origin on the same origin will get an event from the if we",
    "start": "1834400",
    "end": "1842560"
  },
  {
    "text": "change the key will get an event in the other session so we can synchronize two",
    "start": "1842560",
    "end": "1849880"
  },
  {
    "text": "pages from from the same origin that way",
    "start": "1849880",
    "end": "1854700"
  },
  {
    "text": "there are some limitations there's only one hash map / origin so we have to put",
    "start": "1857640",
    "end": "1864640"
  },
  {
    "text": "all while they are data in one table and it's synchronous one of the few things",
    "start": "1864640",
    "end": "1872290"
  },
  {
    "text": "and you have a script as synchronous this API so if you stop really big",
    "start": "1872290",
    "end": "1879060"
  },
  {
    "text": "amounts of data you learn it will take time to you'll find that that everything",
    "start": "1879060",
    "end": "1887590"
  },
  {
    "text": "else is going to a hold so you have to take this in to consideration if if you",
    "start": "1887590",
    "end": "1894970"
  },
  {
    "text": "choose it it's a very simple way to get storage so if if you can live with these",
    "start": "1894970",
    "end": "1901510"
  },
  {
    "text": "limitations it's it's very very easy to use",
    "start": "1901510",
    "end": "1906210"
  },
  {
    "text": "so when can be used yes supports almost",
    "start": "1908909",
    "end": "1917770"
  },
  {
    "text": "all over you we need to go back to internet explorer 7 fun for finding",
    "start": "1917770",
    "end": "1924970"
  },
  {
    "text": "something that do not understand this and on the mobile side there's all green",
    "start": "1924970",
    "end": "1932909"
  },
  {
    "text": "the next possibility is web SQL database",
    "start": "1940350",
    "end": "1946860"
  },
  {
    "text": "this is an API for storing data in database that can be crude using a variant of SQL and this is actually a",
    "start": "1949380",
    "end": "1962820"
  },
  {
    "text": "way of getting a handle on a SQLite",
    "start": "1962820",
    "end": "1968740"
  },
  {
    "text": "database so so if you're familiar with SQL Lite it's it's it's very familiar to",
    "start": "1968740",
    "end": "1978100"
  },
  {
    "text": "you to use this there is a problem that's that the specification is no",
    "start": "1978100",
    "end": "1984789"
  },
  {
    "text": "longer an active maintenance so one of the reasons why this has happened is",
    "start": "1984789",
    "end": "1990580"
  },
  {
    "text": "that to be a specification in w3c there has to be two implementations and nobody",
    "start": "1990580",
    "end": "2001020"
  },
  {
    "text": "wants to reimplement SQL Lite just to make this specification so they have",
    "start": "2001020",
    "end": "2008130"
  },
  {
    "text": "abandoned this and but there's still a great support for for this on mobile",
    "start": "2008130",
    "end": "2014159"
  },
  {
    "text": "devices so opening a database there's",
    "start": "2014159",
    "end": "2021570"
  },
  {
    "text": "three different way to do that first you can give a name a version a longer name",
    "start": "2021570",
    "end": "2033120"
  },
  {
    "text": "and the initial size of the database",
    "start": "2033120",
    "end": "2039389"
  },
  {
    "text": "in bytes you can also give a function as the last parameter and that function",
    "start": "2039389",
    "end": "2046289"
  },
  {
    "text": "will be called for the first time the database is created so you have a chance",
    "start": "2046289",
    "end": "2052289"
  },
  {
    "text": "to initialize it a problem with these two is that if you don't if you guess",
    "start": "2052289",
    "end": "2058559"
  },
  {
    "text": "wrong with the version number then you just get an error back and end and you",
    "start": "2058559",
    "end": "2064950"
  },
  {
    "text": "can't do anything so the best way to open the database is by not supplying a",
    "start": "2064950",
    "end": "2071898"
  },
  {
    "text": "version give you the empty string and then you'll get a database back in the",
    "start": "2071899",
    "end": "2077128"
  },
  {
    "text": "newest version that is you can then ask",
    "start": "2077129",
    "end": "2084059"
  },
  {
    "text": "if this version of the you have just opened has the same version number as",
    "start": "2084059",
    "end": "2089789"
  },
  {
    "text": "the one you expect it to get and if this",
    "start": "2089789",
    "end": "2094799"
  },
  {
    "text": "is not true then you can call change version give it the parameter of the",
    "start": "2094799",
    "end": "2101990"
  },
  {
    "text": "current version the version you want to go two and then three callbacks change",
    "start": "2101990",
    "end": "2108150"
  },
  {
    "text": "error and success success and the change function will take as the first",
    "start": "2108150",
    "end": "2114390"
  },
  {
    "text": "parameter and transaction and this in this transaction you can alter the",
    "start": "2114390",
    "end": "2119480"
  },
  {
    "text": "schema of the database so here we have a",
    "start": "2119480",
    "end": "2124920"
  },
  {
    "text": "migration path you can go to so if if you are if your database is a brand new",
    "start": "2124920",
    "end": "2133940"
  },
  {
    "text": "you will give it version 0 or otherwise you will just take the past int of the",
    "start": "2133940",
    "end": "2142170"
  },
  {
    "text": "version and then you can say okay if you and use you older than one please do",
    "start": "2142170",
    "end": "2148500"
  },
  {
    "text": "this if you're older than 2 please do this and so on so you have a migration path you can go to to get all database",
    "start": "2148500",
    "end": "2156960"
  },
  {
    "text": "schemas synchronized you can't just push a new database schema to get to a client",
    "start": "2156960",
    "end": "2162720"
  },
  {
    "text": "you have to to wait for him to to open",
    "start": "2162720",
    "end": "2167970"
  },
  {
    "text": "the database if something goes wrong it will call",
    "start": "2167970",
    "end": "2175100"
  },
  {
    "text": "error and if it succeeded we now have a",
    "start": "2175100",
    "end": "2180410"
  },
  {
    "text": "database with the new and and asked for version number changing the database",
    "start": "2180410",
    "end": "2192170"
  },
  {
    "text": "scheme we use the transaction that we were given in the interchange call back",
    "start": "2192170",
    "end": "2200210"
  },
  {
    "text": "and we can execute SQL on on that",
    "start": "2200210",
    "end": "2205220"
  },
  {
    "text": "transaction and we can do something like create table alter table and so on so",
    "start": "2205220",
    "end": "2212300"
  },
  {
    "text": "here we we can change the database scheme and we can can add in data or delete data we can when we are finished",
    "start": "2212300",
    "end": "2226100"
  },
  {
    "text": "with the database we can do transactions",
    "start": "2226100",
    "end": "2231290"
  },
  {
    "text": "on that database to we can make a",
    "start": "2231290",
    "end": "2237110"
  },
  {
    "text": "transaction by calling transaction and give a call back to that function and we",
    "start": "2237110",
    "end": "2243350"
  },
  {
    "text": "can do SQL stuff in indeed in that callback from the function here and we",
    "start": "2243350",
    "end": "2251060"
  },
  {
    "text": "can provide an extra error and an extra success callback so where we can get",
    "start": "2251060",
    "end": "2256700"
  },
  {
    "text": "notified when when the transaction is over or if it failed we can also make a",
    "start": "2256700",
    "end": "2267140"
  },
  {
    "text": "read-only transaction so that be only",
    "start": "2267140",
    "end": "2272810"
  },
  {
    "text": "have read capacities but but do not",
    "start": "2272810",
    "end": "2277060"
  },
  {
    "text": "hinder order in inviting in the database",
    "start": "2279730",
    "end": "2284859"
  },
  {
    "text": "yeah we can we can execute SQL this is",
    "start": "2295230",
    "end": "2301900"
  },
  {
    "text": "an insert statement and in the ? CR are just replaced by by parameters in the",
    "start": "2301900",
    "end": "2312010"
  },
  {
    "text": "next parameter and an array we can get a",
    "start": "2312010",
    "end": "2323320"
  },
  {
    "text": "result set back we do an SQL statement we get a transaction and a result set",
    "start": "2323320",
    "end": "2330970"
  },
  {
    "text": "back in the success and we can then transfer train trestle to reverse this",
    "start": "2330970",
    "end": "2340690"
  },
  {
    "text": "this result set if you look at the",
    "start": "2340690",
    "end": "2349869"
  },
  {
    "text": "support for from web SQL we can see an",
    "start": "2349869",
    "end": "2355270"
  },
  {
    "text": "in the mobile side we have full support in iOS and full support the Android so",
    "start": "2355270",
    "end": "2362820"
  },
  {
    "text": "even in the newest version of iOS their",
    "start": "2362820",
    "end": "2368020"
  },
  {
    "text": "support for for web SQL so I don't think it will go away in in in the near future",
    "start": "2368020",
    "end": "2373720"
  },
  {
    "text": "the only problem here is what would happen in if if Microsoft's phone takes",
    "start": "2373720",
    "end": "2383410"
  },
  {
    "text": "off I don't think they will implement this specification so so if if if you",
    "start": "2383410",
    "end": "2389380"
  },
  {
    "text": "have plans of being compatible with with Microsoft Windows Phone you should maybe",
    "start": "2389380",
    "end": "2397150"
  },
  {
    "text": "consider the last choice here",
    "start": "2397150",
    "end": "2401338"
  },
  {
    "text": "and the last choice here is index DB index database that was introduced as a",
    "start": "2411120",
    "end": "2418170"
  },
  {
    "text": "replacement for for web SQL when they abandoned that and there's a common",
    "start": "2418170",
    "end": "2428460"
  },
  {
    "text": "pattern in the index to be and it is that if you call an object with an",
    "start": "2428460",
    "end": "2434790"
  },
  {
    "text": "operation then you get a request back and on that request you can attach unsuccess and on error callbacks we can",
    "start": "2434790",
    "end": "2446490"
  },
  {
    "text": "open the database there is a special call by cleared called on upgrade needed",
    "start": "2446490",
    "end": "2453350"
  },
  {
    "text": "we are providing a name and a version and if that version do not match the",
    "start": "2455000",
    "end": "2463680"
  },
  {
    "text": "version that is currently in the database upgrade needed will be called",
    "start": "2463680",
    "end": "2469080"
  },
  {
    "text": "and in that upgrade needed we can do our",
    "start": "2469080",
    "end": "2474830"
  },
  {
    "text": "schema manipulation so that's almost the same as we saw in web SQL we have a",
    "start": "2474830",
    "end": "2482370"
  },
  {
    "text": "function here where we can do the schema migration jobs and the the success",
    "start": "2482370",
    "end": "2493580"
  },
  {
    "text": "function here will be called when the upgrade is is done we can create update",
    "start": "2493580",
    "end": "2504750"
  },
  {
    "text": "stores and an update store here is is similar to a table in SQL world and we",
    "start": "2504750",
    "end": "2514500"
  },
  {
    "text": "can so that's that's kind of a bucket where we can put in a JSON documents we",
    "start": "2514500",
    "end": "2523560"
  },
  {
    "text": "think we can if you just make a updatestar called foo we will have to",
    "start": "2523560",
    "end": "2531030"
  },
  {
    "text": "provide keys for every update that we put in if we provide a key path when we",
    "start": "2531030",
    "end": "2539910"
  },
  {
    "text": "create the update store the object store will go and look after",
    "start": "2539910",
    "end": "2545819"
  },
  {
    "text": "this property on the updates that we store and use that as key if you give a",
    "start": "2545819",
    "end": "2555089"
  },
  {
    "text": "auto increment to then we have an automatic feature that gives a give skis",
    "start": "2555089",
    "end": "2563190"
  },
  {
    "text": "through our objects so I gave sequence",
    "start": "2563190",
    "end": "2568279"
  },
  {
    "text": "where we draw numbers from and if we give both a key path and a auto",
    "start": "2568279",
    "end": "2576210"
  },
  {
    "text": "increment to then we will make automatically make keys and the key will",
    "start": "2576210",
    "end": "2581430"
  },
  {
    "text": "be stored in in the key path poverty we",
    "start": "2581430",
    "end": "2588180"
  },
  {
    "text": "can make indexes and an index has a name and a property that means that we are",
    "start": "2588180",
    "end": "2598229"
  },
  {
    "text": "making an index here called name and we are picking out the the poverty name on",
    "start": "2598229",
    "end": "2605220"
  },
  {
    "text": "our objects and install that in the index we can tell it to be unique and we",
    "start": "2605220",
    "end": "2614160"
  },
  {
    "text": "can only have one value / / / index and",
    "start": "2614160",
    "end": "2621769"
  },
  {
    "text": "we can tell it to be a multi entry to that means that the property here emails",
    "start": "2621769",
    "end": "2628950"
  },
  {
    "text": "is an array of email for each of these there will be an entry in the email",
    "start": "2628950",
    "end": "2636809"
  },
  {
    "text": "index we can make transactions we do",
    "start": "2636809",
    "end": "2644430"
  },
  {
    "text": "that on the database we specify here what are the object stores that we want",
    "start": "2644430",
    "end": "2650609"
  },
  {
    "text": "to include in our transaction so we are spanning over the two pockets here",
    "start": "2650609",
    "end": "2656819"
  },
  {
    "text": "called foo and bar we can span over all the buckets by giving a empty array we",
    "start": "2656819",
    "end": "2666900"
  },
  {
    "text": "can make read write or read only transactions if we only give a single",
    "start": "2666900",
    "end": "2673469"
  },
  {
    "text": "string here it's it's the same as giving away with a single value in it if we",
    "start": "2673469",
    "end": "2686990"
  },
  {
    "text": "have created an transaction we can attach and uncomplete on error and on",
    "start": "2686990",
    "end": "2693060"
  },
  {
    "text": "airport call backs on the transaction and there is no explicit send or one or",
    "start": "2693060",
    "end": "2704580"
  },
  {
    "text": "anything on the transaction the transaction is run the next time we hit the the event loop on the browser so we",
    "start": "2704580",
    "end": "2713760"
  },
  {
    "text": "don't have explicitly to say okay go that takes a little bit getting used to",
    "start": "2713760",
    "end": "2720890"
  },
  {
    "text": "writing the code it will events the",
    "start": "2720890",
    "end": "2727740"
  },
  {
    "text": "bubbles so you can you can attach an error handler to your database and if",
    "start": "2727740",
    "end": "2734940"
  },
  {
    "text": "that goes anything wrong in a transaction the the event will bubble",
    "start": "2734940",
    "end": "2740280"
  },
  {
    "text": "and an end here in this color back yeah",
    "start": "2740280",
    "end": "2747450"
  },
  {
    "text": "adding data you can add again this is a synchronous data adding so we have to",
    "start": "2747450",
    "end": "2754290"
  },
  {
    "text": "make it a chance a request for adding data and we will attach unsuccess so we",
    "start": "2754290",
    "end": "2762359"
  },
  {
    "text": "are having a call back when the data is actually stored so this is this is a lot",
    "start": "2762359",
    "end": "2770130"
  },
  {
    "text": "of code but it gives us the possibility to store things as when correctly we can",
    "start": "2770130",
    "end": "2780990"
  },
  {
    "text": "add data requires that that key is is it's a new key and if you use put we",
    "start": "2780990",
    "end": "2788609"
  },
  {
    "text": "will overwrite anything that's in the key",
    "start": "2788609",
    "end": "2792530"
  },
  {
    "text": "and we can get data again we call get and we get our crest back and on that",
    "start": "2796810",
    "end": "2802840"
  },
  {
    "text": "request will put a a call back and when the code like files we have gotten data",
    "start": "2802840",
    "end": "2811140"
  },
  {
    "text": "there's a little bit more compact way of writing the same code here this is",
    "start": "2813810",
    "end": "2819850"
  },
  {
    "text": "assuming that that we are handling errors on the database level so we just attaching an unsuccess yeah but we can",
    "start": "2819850",
    "end": "2828340"
  },
  {
    "text": "chain chain the calls we can remove data",
    "start": "2828340",
    "end": "2836320"
  },
  {
    "text": "that's the same pattern as we saw and there's a possibility to prevent default",
    "start": "2836320",
    "end": "2843280"
  },
  {
    "text": "that's normal the dumb scripting so if we catch an error and we don't want it",
    "start": "2843280",
    "end": "2849850"
  },
  {
    "text": "to bubble we can prevent default then",
    "start": "2849850",
    "end": "2858190"
  },
  {
    "text": "there's cursors and cursors make us give us the possibility to traverse our",
    "start": "2858190",
    "end": "2864690"
  },
  {
    "text": "buckets our objects doors the main thing",
    "start": "2864690",
    "end": "2871390"
  },
  {
    "text": "about these cursors is that we are giving this callback is called for every",
    "start": "2871390",
    "end": "2878830"
  },
  {
    "text": "element and we call continue to get the next call to so this is a kind of tail",
    "start": "2878830",
    "end": "2886060"
  },
  {
    "text": "recursive way of doing it",
    "start": "2886060",
    "end": "2889950"
  },
  {
    "text": "we can use when we get a cursor the",
    "start": "2896690",
    "end": "2902880"
  },
  {
    "text": "cursor has a key and a value and the value is the object that we start under the given key it's not so this is an",
    "start": "2902880",
    "end": "2926760"
  },
  {
    "text": "index so we can get a value from an index by calling get the first element",
    "start": "2926760",
    "end": "2935900"
  },
  {
    "text": "get on sorry get the get the element with the key one so that's the way if we",
    "start": "2935900",
    "end": "2943529"
  },
  {
    "text": "know the key we can get the element out but we can also open a a cursor on a",
    "start": "2943529",
    "end": "2952099"
  },
  {
    "text": "honor index as we could open a cursor on a on a up X door we can make a key",
    "start": "2952099",
    "end": "2964829"
  },
  {
    "text": "cursor and then we are not getting back the value is really only getting back the keys so we if the keys give any",
    "start": "2964829",
    "end": "2971220"
  },
  {
    "text": "meaning to us we can traverse the keys and find out which element to be to want to have the value for its a cheaper",
    "start": "2971220",
    "end": "2977430"
  },
  {
    "text": "operation that we have to make another call to get the actual value we can make",
    "start": "2977430",
    "end": "2986609"
  },
  {
    "text": "ranges so we say I want the keys from 10 to 20 this is a very simple value",
    "start": "2986609",
    "end": "2995400"
  },
  {
    "text": "arranged consisting of only one element that we can make them more complicated",
    "start": "2995400",
    "end": "3001900"
  },
  {
    "text": "we can see lower bound for that's for and lower we can see lower bound for",
    "start": "3001900",
    "end": "3010089"
  },
  {
    "text": "komatsu that's lower than 4 and so on we",
    "start": "3010089",
    "end": "3015440"
  },
  {
    "text": "have a rubber and a bound that give us the possibility to to limit in both ends",
    "start": "3015440",
    "end": "3024130"
  },
  {
    "text": "we can change the closest direction from can not normally it's it's the next",
    "start": "3025000",
    "end": "3030140"
  },
  {
    "text": "so we started from the start and even go up we can do an opposite and here we",
    "start": "3030140",
    "end": "3038690"
  },
  {
    "text": "have next unique it will jump over the keys that has already been been been",
    "start": "3038690",
    "end": "3046339"
  },
  {
    "text": "used and previous unique if there was a",
    "start": "3046339",
    "end": "3055670"
  },
  {
    "text": "last call back on the on the database that will have been looked at yet let's",
    "start": "3055670",
    "end": "3063589"
  },
  {
    "text": "unblocking unblocked if we have two tabs open with the same database we can",
    "start": "3063589",
    "end": "3069829"
  },
  {
    "text": "update the one and not the other so if the database is open and we try to open",
    "start": "3069829",
    "end": "3075440"
  },
  {
    "text": "yet another in another version that we have open indeed in the other tab will",
    "start": "3075440",
    "end": "3082549"
  },
  {
    "text": "get a call back yeah unblocked so we have to close all other types too to",
    "start": "3082549",
    "end": "3088730"
  },
  {
    "text": "actually be able to to update this database",
    "start": "3088730",
    "end": "3094420"
  },
  {
    "text": "this is if and a new our specification",
    "start": "3100960",
    "end": "3105970"
  },
  {
    "text": "so so there's a that's vendor prefixes so if you will use this you have to to",
    "start": "3105970",
    "end": "3112210"
  },
  {
    "text": "just bypass them in the perfect something like something like this when",
    "start": "3112210",
    "end": "3121450"
  },
  {
    "text": "can I use it's all wet on the mobile side here and that's not good but i",
    "start": "3121450",
    "end": "3132060"
  },
  {
    "text": "think it's the specification of the future i think in in a year to we will",
    "start": "3132060",
    "end": "3137080"
  },
  {
    "text": "see that this will get in all the major browsers we can take a look at the",
    "start": "3137080",
    "end": "3144670"
  },
  {
    "text": "complete here we can see that for Chrome",
    "start": "3144670",
    "end": "3149830"
  },
  {
    "text": "for Android Firefox for Android there's already support what we can do while",
    "start": "3149830",
    "end": "3158349"
  },
  {
    "text": "waiting is we can use this gym that",
    "start": "3158349",
    "end": "3164890"
  },
  {
    "text": "takes index DB and put it on top of web SQL so this is the same implement almost",
    "start": "3164890",
    "end": "3174339"
  },
  {
    "text": "the same as as firefox has done Firefox has put index to be on top of SQLite so",
    "start": "3174339",
    "end": "3183849"
  },
  {
    "text": "this guy has has done the same he's taking the the web SQL database that is",
    "start": "3183849",
    "end": "3191050"
  },
  {
    "text": "a SQL Lite and and he has put the index DB on top of it so I think this is a",
    "start": "3191050",
    "end": "3197500"
  },
  {
    "text": "fairly good way to go until until them",
    "start": "3197500",
    "end": "3203040"
  },
  {
    "text": "until the specific case announcer the implementations is catching up",
    "start": "3203040",
    "end": "3208500"
  },
  {
    "text": "yeah sorry this was that that was all for sorry if I have delayed yeah I have",
    "start": "3214360",
    "end": "3223160"
  },
  {
    "text": "sorry thank you",
    "start": "3223160",
    "end": "3227559"
  }
]