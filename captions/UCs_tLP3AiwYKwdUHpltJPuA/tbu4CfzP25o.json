[
  {
    "start": "0",
    "end": "40000"
  },
  {
    "text": "[Music]",
    "start": "980",
    "end": "8900"
  },
  {
    "text": "hi everybody",
    "start": "14080",
    "end": "14880"
  },
  {
    "text": "i'm aaron pirecki i'm a senior security",
    "start": "14880",
    "end": "16720"
  },
  {
    "text": "architect at octa i'm also a member of",
    "start": "16720",
    "end": "18720"
  },
  {
    "text": "the oauth working group",
    "start": "18720",
    "end": "19840"
  },
  {
    "text": "at the ietf and i've been in the web",
    "start": "19840",
    "end": "21840"
  },
  {
    "text": "standards space for quite a long time",
    "start": "21840",
    "end": "23439"
  },
  {
    "text": "now",
    "start": "23439",
    "end": "24000"
  },
  {
    "text": "if you've ever google anything about",
    "start": "24000",
    "end": "25279"
  },
  {
    "text": "oauth you've probably landed on the",
    "start": "25279",
    "end": "26800"
  },
  {
    "text": "website i maintain which is oauth.net",
    "start": "26800",
    "end": "29359"
  },
  {
    "text": "it's a lot of great resources for",
    "start": "29359",
    "end": "31119"
  },
  {
    "text": "finding things about oauth",
    "start": "31119",
    "end": "32640"
  },
  {
    "text": "and if you ever see anything wrong with",
    "start": "32640",
    "end": "34079"
  },
  {
    "text": "it please feel free to contribute the",
    "start": "34079",
    "end": "35520"
  },
  {
    "text": "link is at the bottom and you can add",
    "start": "35520",
    "end": "37200"
  },
  {
    "text": "your own resources and things you find",
    "start": "37200",
    "end": "39040"
  },
  {
    "text": "on there",
    "start": "39040",
    "end": "39680"
  },
  {
    "text": "so before we talk about how to hack",
    "start": "39680",
    "end": "41440"
  },
  {
    "start": "40000",
    "end": "186000"
  },
  {
    "text": "oauth i want to talk a little bit about",
    "start": "41440",
    "end": "43280"
  },
  {
    "text": "what oauth",
    "start": "43280",
    "end": "44000"
  },
  {
    "text": "is if you've ever tried to read anything",
    "start": "44000",
    "end": "45760"
  },
  {
    "text": "online about oauth i apologize because",
    "start": "45760",
    "end": "47760"
  },
  {
    "text": "it can often feel like",
    "start": "47760",
    "end": "48879"
  },
  {
    "text": "trying to find your way through a maze",
    "start": "48879",
    "end": "50640"
  },
  {
    "text": "of content it is not",
    "start": "50640",
    "end": "52079"
  },
  {
    "text": "obvious how these things fit together",
    "start": "52079",
    "end": "54399"
  },
  {
    "text": "oauth is not just one spec",
    "start": "54399",
    "end": "56320"
  },
  {
    "text": "it's made up of a whole bunch of specs",
    "start": "56320",
    "end": "58239"
  },
  {
    "text": "so instead of going through the specs",
    "start": "58239",
    "end": "60320"
  },
  {
    "text": "we're actually going to take a step back",
    "start": "60320",
    "end": "61680"
  },
  {
    "text": "and first talk about how we got oauth in",
    "start": "61680",
    "end": "63520"
  },
  {
    "text": "the first place",
    "start": "63520",
    "end": "64320"
  },
  {
    "text": "so do you remember seeing this kind of",
    "start": "64320",
    "end": "65760"
  },
  {
    "text": "thing online like i don't know 10 years",
    "start": "65760",
    "end": "67520"
  },
  {
    "text": "ago or so",
    "start": "67520",
    "end": "68479"
  },
  {
    "text": "this was a very common pattern on the",
    "start": "68479",
    "end": "70080"
  },
  {
    "text": "internet a long time ago this new app",
    "start": "70080",
    "end": "71840"
  },
  {
    "text": "like yelp would launch",
    "start": "71840",
    "end": "73040"
  },
  {
    "text": "and it would ask you to enter your",
    "start": "73040",
    "end": "74240"
  },
  {
    "text": "password for your email address",
    "start": "74240",
    "end": "76640"
  },
  {
    "text": "in order for it to go and find your",
    "start": "76640",
    "end": "78000"
  },
  {
    "text": "friends to see if they are already using",
    "start": "78000",
    "end": "79680"
  },
  {
    "text": "yelp",
    "start": "79680",
    "end": "80400"
  },
  {
    "text": "which is like a very cool feature but",
    "start": "80400",
    "end": "82640"
  },
  {
    "text": "this is a terrible way to do that",
    "start": "82640",
    "end": "84240"
  },
  {
    "text": "and we understand that now but it wasn't",
    "start": "84240",
    "end": "86000"
  },
  {
    "text": "limited to just yelp it was also like",
    "start": "86000",
    "end": "87680"
  },
  {
    "text": "facebook doing this",
    "start": "87680",
    "end": "88880"
  },
  {
    "text": "but users were happily giving their",
    "start": "88880",
    "end": "90880"
  },
  {
    "text": "logins to these services because they",
    "start": "90880",
    "end": "92720"
  },
  {
    "text": "actually did want what the application",
    "start": "92720",
    "end": "94479"
  },
  {
    "text": "was promising",
    "start": "94479",
    "end": "95840"
  },
  {
    "text": "which was the ability to find their",
    "start": "95840",
    "end": "97439"
  },
  {
    "text": "friends so what we're looking for is a",
    "start": "97439",
    "end": "99520"
  },
  {
    "text": "solution",
    "start": "99520",
    "end": "100000"
  },
  {
    "text": "for how can we let applications access",
    "start": "100000",
    "end": "102079"
  },
  {
    "text": "the contacts",
    "start": "102079",
    "end": "103040"
  },
  {
    "text": "in their api but not have it also access",
    "start": "103040",
    "end": "106240"
  },
  {
    "text": "the person's",
    "start": "106240",
    "end": "107200"
  },
  {
    "text": "emails and that was the original problem",
    "start": "107200",
    "end": "109360"
  },
  {
    "text": "that oauth setup is top which was how",
    "start": "109360",
    "end": "110880"
  },
  {
    "text": "can we let an application access data in",
    "start": "110880",
    "end": "113119"
  },
  {
    "text": "an api",
    "start": "113119",
    "end": "114240"
  },
  {
    "text": "without giving that application your",
    "start": "114240",
    "end": "115680"
  },
  {
    "text": "password after the oauth flow is",
    "start": "115680",
    "end": "117280"
  },
  {
    "text": "complete and the user has allowed the",
    "start": "117280",
    "end": "118719"
  },
  {
    "text": "application",
    "start": "118719",
    "end": "119600"
  },
  {
    "text": "access to their account that application",
    "start": "119600",
    "end": "122000"
  },
  {
    "text": "will have an access token which is a",
    "start": "122000",
    "end": "123520"
  },
  {
    "text": "string of characters that doesn't mean",
    "start": "123520",
    "end": "124880"
  },
  {
    "text": "anything to the application",
    "start": "124880",
    "end": "126399"
  },
  {
    "text": "now string of characters is then used in",
    "start": "126399",
    "end": "128080"
  },
  {
    "text": "an api request to",
    "start": "128080",
    "end": "129679"
  },
  {
    "text": "access that api what's interesting is",
    "start": "129679",
    "end": "131599"
  },
  {
    "text": "that nothing in this process",
    "start": "131599",
    "end": "133040"
  },
  {
    "text": "actually tells the application about the",
    "start": "133040",
    "end": "135040"
  },
  {
    "text": "user it doesn't actually tell the",
    "start": "135040",
    "end": "136319"
  },
  {
    "text": "application who logged in",
    "start": "136319",
    "end": "137599"
  },
  {
    "text": "and that's totally fine oauth was not",
    "start": "137599",
    "end": "139520"
  },
  {
    "text": "created as a single sign-on protocol or",
    "start": "139520",
    "end": "141840"
  },
  {
    "text": "as a way to",
    "start": "141840",
    "end": "142720"
  },
  {
    "text": "talk about user identity it was created",
    "start": "142720",
    "end": "145120"
  },
  {
    "text": "to access apis",
    "start": "145120",
    "end": "146720"
  },
  {
    "text": "so i like to use this analogy of",
    "start": "146720",
    "end": "148160"
  },
  {
    "text": "checking in at a hotel which seems like",
    "start": "148160",
    "end": "149680"
  },
  {
    "text": "a funny idea right now",
    "start": "149680",
    "end": "150879"
  },
  {
    "text": "you go to the front desk you give that",
    "start": "150879",
    "end": "152480"
  },
  {
    "text": "person your id and your credit card",
    "start": "152480",
    "end": "154480"
  },
  {
    "text": "they give you back this hotel key you",
    "start": "154480",
    "end": "156480"
  },
  {
    "text": "take that hotel key",
    "start": "156480",
    "end": "158000"
  },
  {
    "text": "and you swipe the key on the door and",
    "start": "158000",
    "end": "159360"
  },
  {
    "text": "the door lets you in now in order for",
    "start": "159360",
    "end": "161360"
  },
  {
    "text": "this system to work the",
    "start": "161360",
    "end": "162720"
  },
  {
    "text": "key card doesn't actually need to",
    "start": "162720",
    "end": "164400"
  },
  {
    "text": "represent you a person",
    "start": "164400",
    "end": "165760"
  },
  {
    "text": "it just needs to represent that you have",
    "start": "165760",
    "end": "167280"
  },
  {
    "text": "access to this door",
    "start": "167280",
    "end": "168959"
  },
  {
    "text": "so the door doesn't even care about who",
    "start": "168959",
    "end": "170640"
  },
  {
    "text": "you are the door just cares about",
    "start": "170640",
    "end": "172239"
  },
  {
    "text": "whether this key card",
    "start": "172239",
    "end": "173440"
  },
  {
    "text": "has access so in oauth terms the person",
    "start": "173440",
    "end": "176400"
  },
  {
    "text": "at the front desk is the authorization",
    "start": "176400",
    "end": "178080"
  },
  {
    "text": "server",
    "start": "178080",
    "end": "178720"
  },
  {
    "text": "the key card is the access token and the",
    "start": "178720",
    "end": "180879"
  },
  {
    "text": "door is the api",
    "start": "180879",
    "end": "182560"
  },
  {
    "text": "with that kind of background out of the",
    "start": "182560",
    "end": "184080"
  },
  {
    "text": "way let's now talk about how oauth works",
    "start": "184080",
    "end": "187200"
  },
  {
    "start": "186000",
    "end": "352000"
  },
  {
    "text": "just enough so that we can see where",
    "start": "187200",
    "end": "188879"
  },
  {
    "text": "some of the holes are that we can start",
    "start": "188879",
    "end": "190239"
  },
  {
    "text": "poking out in order to actually break it",
    "start": "190239",
    "end": "192319"
  },
  {
    "text": "so all of oauth is modeled around these",
    "start": "192319",
    "end": "194480"
  },
  {
    "text": "five roles",
    "start": "194480",
    "end": "195360"
  },
  {
    "text": "these are roles defined in the spec the",
    "start": "195360",
    "end": "197200"
  },
  {
    "text": "terms at the bottom are the spec terms",
    "start": "197200",
    "end": "199040"
  },
  {
    "text": "for them",
    "start": "199040",
    "end": "199519"
  },
  {
    "text": "those aren't typically things that we",
    "start": "199519",
    "end": "200640"
  },
  {
    "text": "use in a conversation when we talk about",
    "start": "200640",
    "end": "202239"
  },
  {
    "text": "this",
    "start": "202239",
    "end": "202560"
  },
  {
    "text": "instead we talk about users and apis and",
    "start": "202560",
    "end": "205200"
  },
  {
    "text": "applications",
    "start": "205200",
    "end": "206080"
  },
  {
    "text": "but they're basically interchangeable so",
    "start": "206080",
    "end": "207840"
  },
  {
    "text": "the flow starts off with the user",
    "start": "207840",
    "end": "209840"
  },
  {
    "text": "visiting the application's website or",
    "start": "209840",
    "end": "211599"
  },
  {
    "text": "launching the mobile app",
    "start": "211599",
    "end": "212879"
  },
  {
    "text": "and then they click the button that says",
    "start": "212879",
    "end": "214159"
  },
  {
    "text": "login the app says great don't give me",
    "start": "214159",
    "end": "216319"
  },
  {
    "text": "your password",
    "start": "216319",
    "end": "216959"
  },
  {
    "text": "i can't use your password so instead go",
    "start": "216959",
    "end": "219200"
  },
  {
    "text": "over to the oauth server and log in",
    "start": "219200",
    "end": "221200"
  },
  {
    "text": "there",
    "start": "221200",
    "end": "221599"
  },
  {
    "text": "so that causes the user to land at the",
    "start": "221599",
    "end": "223120"
  },
  {
    "text": "oauth server where they then log in",
    "start": "223120",
    "end": "225200"
  },
  {
    "text": "and then they will see this prompt",
    "start": "225200",
    "end": "226720"
  },
  {
    "text": "asking them do you allow this request",
    "start": "226720",
    "end": "228560"
  },
  {
    "text": "if they click yes the oauth server",
    "start": "228560",
    "end": "230400"
  },
  {
    "text": "generates a one-time use",
    "start": "230400",
    "end": "231840"
  },
  {
    "text": "authorization code and sends it back in",
    "start": "231840",
    "end": "234080"
  },
  {
    "text": "a redirect to the user's browser",
    "start": "234080",
    "end": "236239"
  },
  {
    "text": "to have the user's browser deliver back",
    "start": "236239",
    "end": "237920"
  },
  {
    "text": "to the application so",
    "start": "237920",
    "end": "239280"
  },
  {
    "text": "once the application has the",
    "start": "239280",
    "end": "240720"
  },
  {
    "text": "authorization code it can now go",
    "start": "240720",
    "end": "242400"
  },
  {
    "text": "and get an access token and does that by",
    "start": "242400",
    "end": "244879"
  },
  {
    "text": "making a post request",
    "start": "244879",
    "end": "246239"
  },
  {
    "text": "back to the oauth server to exchange",
    "start": "246239",
    "end": "247920"
  },
  {
    "text": "that this is a step where it can also",
    "start": "247920",
    "end": "250080"
  },
  {
    "text": "include its client secret its own",
    "start": "250080",
    "end": "252000"
  },
  {
    "text": "password",
    "start": "252000",
    "end": "252799"
  },
  {
    "text": "so that the oau server knows that that",
    "start": "252799",
    "end": "254799"
  },
  {
    "text": "code was not stolen",
    "start": "254799",
    "end": "256239"
  },
  {
    "text": "in that redirect step so the oauth",
    "start": "256239",
    "end": "258400"
  },
  {
    "text": "server validates that request",
    "start": "258400",
    "end": "260239"
  },
  {
    "text": "checks the client secret and creates an",
    "start": "260239",
    "end": "262000"
  },
  {
    "text": "access token and returns it in the",
    "start": "262000",
    "end": "263440"
  },
  {
    "text": "response",
    "start": "263440",
    "end": "264320"
  },
  {
    "text": "now the application can go use the",
    "start": "264320",
    "end": "265759"
  },
  {
    "text": "access token to request data from the",
    "start": "265759",
    "end": "267520"
  },
  {
    "text": "api",
    "start": "267520",
    "end": "268080"
  },
  {
    "text": "so the blue lines on top are what we",
    "start": "268080",
    "end": "270080"
  },
  {
    "text": "call front channel",
    "start": "270080",
    "end": "271199"
  },
  {
    "text": "that's the idea where we're actually",
    "start": "271199",
    "end": "272320"
  },
  {
    "text": "using the user's browser to move data",
    "start": "272320",
    "end": "274080"
  },
  {
    "text": "between parties",
    "start": "274080",
    "end": "275440"
  },
  {
    "text": "the pink lines are the back channel and",
    "start": "275440",
    "end": "277440"
  },
  {
    "text": "that's the sort of more",
    "start": "277440",
    "end": "278479"
  },
  {
    "text": "normal one where we're sending data from",
    "start": "278479",
    "end": "280880"
  },
  {
    "text": "a client to a server",
    "start": "280880",
    "end": "282080"
  },
  {
    "text": "over https i like to think of this as",
    "start": "282080",
    "end": "284400"
  },
  {
    "text": "hand delivering a message where you can",
    "start": "284400",
    "end": "286080"
  },
  {
    "text": "walk up to somebody you can hand them a",
    "start": "286080",
    "end": "287919"
  },
  {
    "text": "thing",
    "start": "287919",
    "end": "288560"
  },
  {
    "text": "you can see them they can see you you",
    "start": "288560",
    "end": "290639"
  },
  {
    "text": "can say they took it you can be sure",
    "start": "290639",
    "end": "292000"
  },
  {
    "text": "that nobody else stole it",
    "start": "292000",
    "end": "293440"
  },
  {
    "text": "in that process sending data over the",
    "start": "293440",
    "end": "295280"
  },
  {
    "text": "front channel is more like",
    "start": "295280",
    "end": "296720"
  },
  {
    "text": "throwing it over a wall and just kind of",
    "start": "296720",
    "end": "298400"
  },
  {
    "text": "hoping they catch it",
    "start": "298400",
    "end": "299759"
  },
  {
    "text": "where you can't actually be sure that",
    "start": "299759",
    "end": "301600"
  },
  {
    "text": "they caught it you can't tell if",
    "start": "301600",
    "end": "303039"
  },
  {
    "text": "somebody stole it mid-flight you can't",
    "start": "303039",
    "end": "304800"
  },
  {
    "text": "tell if it just landed on the floor",
    "start": "304800",
    "end": "306639"
  },
  {
    "text": "and on the other side there's a similar",
    "start": "306639",
    "end": "308240"
  },
  {
    "text": "problem which is that on that side you",
    "start": "308240",
    "end": "309919"
  },
  {
    "text": "can't actually be sure where it's coming",
    "start": "309919",
    "end": "311600"
  },
  {
    "text": "from",
    "start": "311600",
    "end": "312160"
  },
  {
    "text": "you don't actually know if it's from the",
    "start": "312160",
    "end": "313600"
  },
  {
    "text": "real oauth server or from a fake oauth",
    "start": "313600",
    "end": "315759"
  },
  {
    "text": "server so",
    "start": "315759",
    "end": "316479"
  },
  {
    "text": "you might be wondering well why do we",
    "start": "316479",
    "end": "317680"
  },
  {
    "text": "use the front channel at all then if",
    "start": "317680",
    "end": "319360"
  },
  {
    "text": "it's so risky or insecure",
    "start": "319360",
    "end": "321199"
  },
  {
    "text": "it does have a few really important",
    "start": "321199",
    "end": "322720"
  },
  {
    "text": "properties that it turns out is very",
    "start": "322720",
    "end": "324720"
  },
  {
    "text": "useful in oauth",
    "start": "324720",
    "end": "326240"
  },
  {
    "text": "one it's the way that we can actually be",
    "start": "326240",
    "end": "328080"
  },
  {
    "text": "sure that the user was in front of their",
    "start": "328080",
    "end": "329759"
  },
  {
    "text": "computer",
    "start": "329759",
    "end": "330320"
  },
  {
    "text": "when they logged in because it's the",
    "start": "330320",
    "end": "332000"
  },
  {
    "text": "oauth server that is collecting their",
    "start": "332000",
    "end": "333600"
  },
  {
    "text": "password but",
    "start": "333600",
    "end": "334639"
  },
  {
    "text": "also importantly it's a way for",
    "start": "334639",
    "end": "336720"
  },
  {
    "text": "applications to be able to receive data",
    "start": "336720",
    "end": "338800"
  },
  {
    "text": "even when they don't have a public ip",
    "start": "338800",
    "end": "341520"
  },
  {
    "text": "address which for things like mobile",
    "start": "341520",
    "end": "343280"
  },
  {
    "text": "phones",
    "start": "343280",
    "end": "343759"
  },
  {
    "text": "or javascript apps turns out is really",
    "start": "343759",
    "end": "345919"
  },
  {
    "text": "important okay so that was a quick",
    "start": "345919",
    "end": "347759"
  },
  {
    "text": "overview of what oauth is",
    "start": "347759",
    "end": "349680"
  },
  {
    "text": "now let's move on to the hacks so it",
    "start": "349680",
    "end": "352560"
  },
  {
    "start": "352000",
    "end": "468000"
  },
  {
    "text": "turns out there's a lot of ways to hack",
    "start": "352560",
    "end": "354080"
  },
  {
    "text": "oauth in fact",
    "start": "354080",
    "end": "355360"
  },
  {
    "text": "most of them are documented in the specs",
    "start": "355360",
    "end": "357520"
  },
  {
    "text": "themselves",
    "start": "357520",
    "end": "358560"
  },
  {
    "text": "there's a handful of attacks documented",
    "start": "358560",
    "end": "360880"
  },
  {
    "text": "in the core the original document",
    "start": "360880",
    "end": "362639"
  },
  {
    "text": "there was a document put out about",
    "start": "362639",
    "end": "364400"
  },
  {
    "text": "specifically oauth and mobile apps which",
    "start": "364400",
    "end": "366160"
  },
  {
    "text": "again talks about some of the",
    "start": "366160",
    "end": "367600"
  },
  {
    "text": "particular aspects unique to the mobile",
    "start": "367600",
    "end": "369759"
  },
  {
    "text": "app environment",
    "start": "369759",
    "end": "371199"
  },
  {
    "text": "there's also a new document called",
    "start": "371199",
    "end": "372960"
  },
  {
    "text": "oauth2 security best current practice",
    "start": "372960",
    "end": "374880"
  },
  {
    "text": "and that is a huge list of",
    "start": "374880",
    "end": "376960"
  },
  {
    "text": "other ways that this can kind of go",
    "start": "376960",
    "end": "378639"
  },
  {
    "text": "wrong so i'm going to save you from that",
    "start": "378639",
    "end": "380639"
  },
  {
    "text": "because",
    "start": "380639",
    "end": "381199"
  },
  {
    "text": "those are well documented and well",
    "start": "381199",
    "end": "382720"
  },
  {
    "text": "understood instead i want to focus on a",
    "start": "382720",
    "end": "384960"
  },
  {
    "text": "couple of attacks that happened in the",
    "start": "384960",
    "end": "386160"
  },
  {
    "text": "real world that actually resulted in",
    "start": "386160",
    "end": "387919"
  },
  {
    "text": "some pretty big press headlines",
    "start": "387919",
    "end": "389840"
  },
  {
    "text": "so i'm going to start off with this one",
    "start": "389840",
    "end": "392000"
  },
  {
    "text": "which is twitter",
    "start": "392000",
    "end": "393120"
  },
  {
    "text": "back in 2013 there were a bunch of",
    "start": "393120",
    "end": "395039"
  },
  {
    "text": "headlines that came out about how",
    "start": "395039",
    "end": "396639"
  },
  {
    "text": "twitter's api keys were stolen or",
    "start": "396639",
    "end": "398639"
  },
  {
    "text": "leaked or whatever you wanted to call it",
    "start": "398639",
    "end": "400000"
  },
  {
    "text": "so what happened was",
    "start": "400000",
    "end": "401680"
  },
  {
    "text": "someone went and downloaded all the",
    "start": "401680",
    "end": "403120"
  },
  {
    "text": "twitter apps on all the different",
    "start": "403120",
    "end": "404319"
  },
  {
    "text": "platforms like",
    "start": "404319",
    "end": "405280"
  },
  {
    "text": "iphone android windows phone and then",
    "start": "405280",
    "end": "407680"
  },
  {
    "text": "decompiled them and extracted the",
    "start": "407680",
    "end": "409120"
  },
  {
    "text": "strings out of them",
    "start": "409120",
    "end": "410160"
  },
  {
    "text": "and then posted all those api keys on",
    "start": "410160",
    "end": "412160"
  },
  {
    "text": "github the result of this hack",
    "start": "412160",
    "end": "414000"
  },
  {
    "text": "was that basically anybody can now",
    "start": "414000",
    "end": "416319"
  },
  {
    "text": "impersonate the twitter apps",
    "start": "416319",
    "end": "417840"
  },
  {
    "text": "the lesson here that we learned was you",
    "start": "417840",
    "end": "420639"
  },
  {
    "text": "can't put secrets in native apps",
    "start": "420639",
    "end": "422880"
  },
  {
    "text": "it just doesn't work there's no way to",
    "start": "422880",
    "end": "424960"
  },
  {
    "text": "do it because",
    "start": "424960",
    "end": "426080"
  },
  {
    "text": "anybody who downloads that app is",
    "start": "426080",
    "end": "427599"
  },
  {
    "text": "downloading that secret and can just",
    "start": "427599",
    "end": "429520"
  },
  {
    "text": "decompile it so this was actually one of",
    "start": "429520",
    "end": "431199"
  },
  {
    "text": "the major problems with oauth one which",
    "start": "431199",
    "end": "433440"
  },
  {
    "text": "is that",
    "start": "433440",
    "end": "433840"
  },
  {
    "text": "it was entirely based around this idea",
    "start": "433840",
    "end": "436240"
  },
  {
    "text": "of using",
    "start": "436240",
    "end": "437039"
  },
  {
    "text": "a secret for that application to sign",
    "start": "437039",
    "end": "438880"
  },
  {
    "text": "requests and that secret was always",
    "start": "438880",
    "end": "440479"
  },
  {
    "text": "provisioned by the developer and then",
    "start": "440479",
    "end": "442000"
  },
  {
    "text": "put into the application",
    "start": "442000",
    "end": "443199"
  },
  {
    "text": "which works fine for web-based apps",
    "start": "443199",
    "end": "445360"
  },
  {
    "text": "where users don't have access to the",
    "start": "445360",
    "end": "447120"
  },
  {
    "text": "source code but when we're talking about",
    "start": "447120",
    "end": "448720"
  },
  {
    "text": "mobile apps the",
    "start": "448720",
    "end": "450160"
  },
  {
    "text": "users download those apps download the",
    "start": "450160",
    "end": "451919"
  },
  {
    "text": "secrets with them and can extract them",
    "start": "451919",
    "end": "453680"
  },
  {
    "text": "like we saw",
    "start": "453680",
    "end": "454560"
  },
  {
    "text": "so that was a major problem with oauth",
    "start": "454560",
    "end": "456560"
  },
  {
    "text": "one and that was actually a huge",
    "start": "456560",
    "end": "457759"
  },
  {
    "text": "motivator in deciding to start a new",
    "start": "457759",
    "end": "459520"
  },
  {
    "text": "version of the spec",
    "start": "459520",
    "end": "460720"
  },
  {
    "text": "so oauth 2 avoids the need for a client",
    "start": "460720",
    "end": "463280"
  },
  {
    "text": "secret in",
    "start": "463280",
    "end": "464160"
  },
  {
    "text": "cases where we can't use one because of",
    "start": "464160",
    "end": "466639"
  },
  {
    "text": "this additional extension",
    "start": "466639",
    "end": "468080"
  },
  {
    "start": "468000",
    "end": "558000"
  },
  {
    "text": "added to oauth pixie pkce is basically a",
    "start": "468080",
    "end": "471120"
  },
  {
    "text": "solution for",
    "start": "471120",
    "end": "472000"
  },
  {
    "text": "how to do oauth with applications that",
    "start": "472000",
    "end": "473919"
  },
  {
    "text": "can't use a secret let's now walk",
    "start": "473919",
    "end": "475360"
  },
  {
    "text": "through the flow again but look at",
    "start": "475360",
    "end": "476639"
  },
  {
    "text": "what's changed so it starts off the same",
    "start": "476639",
    "end": "478960"
  },
  {
    "text": "the user clicks on the application and",
    "start": "478960",
    "end": "480560"
  },
  {
    "text": "says i would like to use this",
    "start": "480560",
    "end": "481599"
  },
  {
    "text": "application please log in",
    "start": "481599",
    "end": "482960"
  },
  {
    "text": "now this time the app first generates a",
    "start": "482960",
    "end": "485680"
  },
  {
    "text": "new secret",
    "start": "485680",
    "end": "486639"
  },
  {
    "text": "random secret for this request stores it",
    "start": "486639",
    "end": "489360"
  },
  {
    "text": "internally",
    "start": "489360",
    "end": "490160"
  },
  {
    "text": "and then calculates a hash of that",
    "start": "490160",
    "end": "491759"
  },
  {
    "text": "secret then when it builds the url that",
    "start": "491759",
    "end": "493919"
  },
  {
    "text": "it's going to launch the user into a",
    "start": "493919",
    "end": "495199"
  },
  {
    "text": "browser it includes that hash value in",
    "start": "495199",
    "end": "497199"
  },
  {
    "text": "that url",
    "start": "497199",
    "end": "498160"
  },
  {
    "text": "so that causes the user's browser to",
    "start": "498160",
    "end": "499840"
  },
  {
    "text": "deliver the hash to the oauth server now",
    "start": "499840",
    "end": "501759"
  },
  {
    "text": "the oauth server still again gets the",
    "start": "501759",
    "end": "503440"
  },
  {
    "text": "user to log in",
    "start": "503440",
    "end": "504319"
  },
  {
    "text": "and prompts them for permission and then",
    "start": "504319",
    "end": "506639"
  },
  {
    "text": "it issues a temporary code but it also",
    "start": "506639",
    "end": "508720"
  },
  {
    "text": "remembers the hashed value the",
    "start": "508720",
    "end": "510800"
  },
  {
    "text": "user's browser delivers that temporary",
    "start": "510800",
    "end": "512399"
  },
  {
    "text": "code back to the application",
    "start": "512399",
    "end": "514320"
  },
  {
    "text": "and now the application is ready to go",
    "start": "514320",
    "end": "516080"
  },
  {
    "text": "and exchange that code for an access",
    "start": "516080",
    "end": "517680"
  },
  {
    "text": "token",
    "start": "517680",
    "end": "518159"
  },
  {
    "text": "this time because it doesn't have a",
    "start": "518159",
    "end": "519518"
  },
  {
    "text": "pre-registered client secret",
    "start": "519519",
    "end": "521279"
  },
  {
    "text": "it does have that secret that it's",
    "start": "521279",
    "end": "522719"
  },
  {
    "text": "holding on to from when it started the",
    "start": "522719",
    "end": "524080"
  },
  {
    "text": "request",
    "start": "524080",
    "end": "525040"
  },
  {
    "text": "so it includes that raw secret value in",
    "start": "525040",
    "end": "527120"
  },
  {
    "text": "this request",
    "start": "527120",
    "end": "528160"
  },
  {
    "text": "and what that does is it lets the oauth",
    "start": "528160",
    "end": "530880"
  },
  {
    "text": "server say okay well when i issued that",
    "start": "530880",
    "end": "532880"
  },
  {
    "text": "code",
    "start": "532880",
    "end": "533600"
  },
  {
    "text": "i remember seeing this hashed value so",
    "start": "533600",
    "end": "536560"
  },
  {
    "text": "that means",
    "start": "536560",
    "end": "537200"
  },
  {
    "text": "whoever is going to get this code now",
    "start": "537200",
    "end": "539200"
  },
  {
    "text": "has to prove",
    "start": "539200",
    "end": "540240"
  },
  {
    "text": "that they were the ones that started the",
    "start": "540240",
    "end": "541440"
  },
  {
    "text": "request and to do that if they include",
    "start": "541440",
    "end": "543839"
  },
  {
    "text": "the secret they use to generate that",
    "start": "543839",
    "end": "545360"
  },
  {
    "text": "hash",
    "start": "545360",
    "end": "546160"
  },
  {
    "text": "the oauth server can hash that value",
    "start": "546160",
    "end": "548000"
  },
  {
    "text": "itself and compare the two hashes to see",
    "start": "548000",
    "end": "549760"
  },
  {
    "text": "if they match",
    "start": "549760",
    "end": "550480"
  },
  {
    "text": "and then it can respond with the access",
    "start": "550480",
    "end": "551920"
  },
  {
    "text": "token and then we're done and everything",
    "start": "551920",
    "end": "553519"
  },
  {
    "text": "moves on",
    "start": "553519",
    "end": "554160"
  },
  {
    "text": "all right let's talk about the next one",
    "start": "554160",
    "end": "556080"
  },
  {
    "text": "and this is about hacking json web",
    "start": "556080",
    "end": "557760"
  },
  {
    "text": "tokens or jwts so",
    "start": "557760",
    "end": "559680"
  },
  {
    "start": "558000",
    "end": "694000"
  },
  {
    "text": "these headlines were going around around",
    "start": "559680",
    "end": "561760"
  },
  {
    "text": "2015",
    "start": "561760",
    "end": "562720"
  },
  {
    "text": "when a whole bunch of libraries were",
    "start": "562720",
    "end": "564320"
  },
  {
    "text": "found to be vulnerable to the same",
    "start": "564320",
    "end": "565920"
  },
  {
    "text": "problem and that was that many libraries",
    "start": "565920",
    "end": "567760"
  },
  {
    "text": "were actually not validating json web",
    "start": "567760",
    "end": "569440"
  },
  {
    "text": "tokens properly",
    "start": "569440",
    "end": "570480"
  },
  {
    "text": "json web tokens are often used for api",
    "start": "570480",
    "end": "573040"
  },
  {
    "text": "authentication",
    "start": "573040",
    "end": "574000"
  },
  {
    "text": "where your access token might be a json",
    "start": "574000",
    "end": "575920"
  },
  {
    "text": "web token here's what a json web token",
    "start": "575920",
    "end": "578000"
  },
  {
    "text": "looks like",
    "start": "578000",
    "end": "578640"
  },
  {
    "text": "there's a header a payload and a",
    "start": "578640",
    "end": "580000"
  },
  {
    "text": "signature without being able to validate",
    "start": "580000",
    "end": "582000"
  },
  {
    "text": "this somebody could go in here",
    "start": "582000",
    "end": "583519"
  },
  {
    "text": "modify the payload the middle part",
    "start": "583519",
    "end": "585680"
  },
  {
    "text": "change data change a username",
    "start": "585680",
    "end": "587600"
  },
  {
    "text": "change of permission things like that",
    "start": "587600",
    "end": "590080"
  },
  {
    "text": "and then",
    "start": "590080",
    "end": "590640"
  },
  {
    "text": "repackage it up and then send it to the",
    "start": "590640",
    "end": "592560"
  },
  {
    "text": "api and try to make api requests",
    "start": "592560",
    "end": "595200"
  },
  {
    "text": "if it's not validating it properly it",
    "start": "595200",
    "end": "596880"
  },
  {
    "text": "would then just read whatever data is in",
    "start": "596880",
    "end": "598560"
  },
  {
    "text": "the middle and then the attacker is in",
    "start": "598560",
    "end": "600160"
  },
  {
    "text": "so the thing about json web tokens is",
    "start": "600160",
    "end": "601680"
  },
  {
    "text": "that the header part",
    "start": "601680",
    "end": "602720"
  },
  {
    "text": "talks sort of about the token one of the",
    "start": "602720",
    "end": "605120"
  },
  {
    "text": "things in the header is a description of",
    "start": "605120",
    "end": "606959"
  },
  {
    "text": "how the token was signed",
    "start": "606959",
    "end": "608399"
  },
  {
    "text": "and there's a couple of different",
    "start": "608399",
    "end": "609360"
  },
  {
    "text": "options available to you if you're",
    "start": "609360",
    "end": "610959"
  },
  {
    "text": "creating a json web token one of the",
    "start": "610959",
    "end": "612560"
  },
  {
    "text": "signing mechanisms is",
    "start": "612560",
    "end": "613959"
  },
  {
    "text": "rs256 and that's an asymmetrical",
    "start": "613959",
    "end": "616560"
  },
  {
    "text": "algorithm",
    "start": "616560",
    "end": "617360"
  },
  {
    "text": "where you use a public key to verify it",
    "start": "617360",
    "end": "619360"
  },
  {
    "text": "and a private key to sign it",
    "start": "619360",
    "end": "620720"
  },
  {
    "text": "now it just so happens that there's also",
    "start": "620720",
    "end": "622800"
  },
  {
    "text": "a signing algorithm called",
    "start": "622800",
    "end": "624560"
  },
  {
    "text": "none and that means there's no signature",
    "start": "624560",
    "end": "627360"
  },
  {
    "text": "so the hack here is that you go get a",
    "start": "627360",
    "end": "628959"
  },
  {
    "text": "real access token that's probably signed",
    "start": "628959",
    "end": "630720"
  },
  {
    "text": "using rs256",
    "start": "630720",
    "end": "632480"
  },
  {
    "text": "then you go inside the token you change",
    "start": "632480",
    "end": "634320"
  },
  {
    "text": "the data you want in the middle part the",
    "start": "634320",
    "end": "635839"
  },
  {
    "text": "payload",
    "start": "635839",
    "end": "636880"
  },
  {
    "text": "and then you change the signing",
    "start": "636880",
    "end": "637920"
  },
  {
    "text": "algorithm to none and then make an api",
    "start": "637920",
    "end": "639920"
  },
  {
    "text": "request",
    "start": "639920",
    "end": "640480"
  },
  {
    "text": "and then if that server first looks at",
    "start": "640480",
    "end": "642240"
  },
  {
    "text": "the header to decide how to validate the",
    "start": "642240",
    "end": "643839"
  },
  {
    "text": "token",
    "start": "643839",
    "end": "644640"
  },
  {
    "text": "it'll see the signing algorithm none and",
    "start": "644640",
    "end": "646480"
  },
  {
    "text": "it will skip checking the signature at",
    "start": "646480",
    "end": "648240"
  },
  {
    "text": "all",
    "start": "648240",
    "end": "648800"
  },
  {
    "text": "and now it'll just believe whatever",
    "start": "648800",
    "end": "650399"
  },
  {
    "text": "you've put into the token which is",
    "start": "650399",
    "end": "651839"
  },
  {
    "text": "clearly wrong",
    "start": "651839",
    "end": "652720"
  },
  {
    "text": "and that was the problem so what's the",
    "start": "652720",
    "end": "654800"
  },
  {
    "text": "takeaway here the takeaway",
    "start": "654800",
    "end": "656240"
  },
  {
    "text": "is that that json web token header which",
    "start": "656240",
    "end": "658160"
  },
  {
    "text": "talks about how to validate the token",
    "start": "658160",
    "end": "660560"
  },
  {
    "text": "is untrusted information before you",
    "start": "660560",
    "end": "662800"
  },
  {
    "text": "validate the signature",
    "start": "662800",
    "end": "664160"
  },
  {
    "text": "and you have to treat it as such",
    "start": "664160",
    "end": "665920"
  },
  {
    "text": "basically what that means is",
    "start": "665920",
    "end": "667839"
  },
  {
    "text": "never actually let the header determine",
    "start": "667839",
    "end": "670160"
  },
  {
    "text": "what signing algorithm is used",
    "start": "670160",
    "end": "671839"
  },
  {
    "text": "instead when you go to validate a json",
    "start": "671839",
    "end": "673279"
  },
  {
    "text": "web token you should only use signing",
    "start": "673279",
    "end": "675040"
  },
  {
    "text": "methods that you know",
    "start": "675040",
    "end": "676240"
  },
  {
    "text": "are safe and that you know you're",
    "start": "676240",
    "end": "677440"
  },
  {
    "text": "expecting thankfully most json web token",
    "start": "677440",
    "end": "679360"
  },
  {
    "text": "libraries around 2015 2016 actually fix",
    "start": "679360",
    "end": "681680"
  },
  {
    "text": "this",
    "start": "681680",
    "end": "682000"
  },
  {
    "text": "by requiring you to tell it which",
    "start": "682000",
    "end": "684079"
  },
  {
    "text": "signing algorithms you are expecting",
    "start": "684079",
    "end": "686160"
  },
  {
    "text": "when you go to validate a token that way",
    "start": "686160",
    "end": "687760"
  },
  {
    "text": "you can't be tricked into accepting",
    "start": "687760",
    "end": "689760"
  },
  {
    "text": "assigning algorithm from the header",
    "start": "689760",
    "end": "691200"
  },
  {
    "text": "itself all right let's move on to one of",
    "start": "691200",
    "end": "693040"
  },
  {
    "text": "the more subtle ones",
    "start": "693040",
    "end": "694240"
  },
  {
    "start": "694000",
    "end": "896000"
  },
  {
    "text": "so in 2017 there was this attack on",
    "start": "694240",
    "end": "696240"
  },
  {
    "text": "google's oauth which resulted in",
    "start": "696240",
    "end": "698079"
  },
  {
    "text": "headlines like this",
    "start": "698079",
    "end": "699120"
  },
  {
    "text": "it had various names like an oauth worm",
    "start": "699120",
    "end": "701360"
  },
  {
    "text": "or a phishing attack",
    "start": "701360",
    "end": "703040"
  },
  {
    "text": "but let's take a look at how it worked",
    "start": "703040",
    "end": "704640"
  },
  {
    "text": "first of all do you see anything wrong",
    "start": "704640",
    "end": "706160"
  },
  {
    "text": "with this picture",
    "start": "706160",
    "end": "706959"
  },
  {
    "text": "i'll give you a second to look closely",
    "start": "706959",
    "end": "708800"
  },
  {
    "text": "you might notice that we are really on",
    "start": "708800",
    "end": "710639"
  },
  {
    "text": "the real google oauth server it's",
    "start": "710639",
    "end": "712440"
  },
  {
    "text": "accounts.google.com there's a secure",
    "start": "712440",
    "end": "714240"
  },
  {
    "text": "lock icon in the address bar so we know",
    "start": "714240",
    "end": "716320"
  },
  {
    "text": "this is actually a page served by google",
    "start": "716320",
    "end": "717839"
  },
  {
    "text": "this is not a fake page",
    "start": "717839",
    "end": "719360"
  },
  {
    "text": "but it's a little bit suspicious that",
    "start": "719360",
    "end": "721040"
  },
  {
    "text": "google docs is requesting",
    "start": "721040",
    "end": "722560"
  },
  {
    "text": "access to my contacts for example one",
    "start": "722560",
    "end": "725760"
  },
  {
    "text": "why doesn't he access my contacts but",
    "start": "725760",
    "end": "727760"
  },
  {
    "text": "also why does it need permission because",
    "start": "727760",
    "end": "730560"
  },
  {
    "text": "it's google but how about if i click",
    "start": "730560",
    "end": "732079"
  },
  {
    "text": "this little arrow next to google docs",
    "start": "732079",
    "end": "734240"
  },
  {
    "text": "and then i see the application developer",
    "start": "734240",
    "end": "736000"
  },
  {
    "text": "who built it and also",
    "start": "736000",
    "end": "737440"
  },
  {
    "text": "the url that i'm going to be sent to",
    "start": "737440",
    "end": "739120"
  },
  {
    "text": "when i authorize this app",
    "start": "739120",
    "end": "740959"
  },
  {
    "text": "what is docs cloud.info well i can be",
    "start": "740959",
    "end": "743600"
  },
  {
    "text": "pretty sure it's not actually google",
    "start": "743600",
    "end": "745200"
  },
  {
    "text": "so in oauth in order to start a flow you",
    "start": "745200",
    "end": "747600"
  },
  {
    "text": "just need to create a url and get",
    "start": "747600",
    "end": "749279"
  },
  {
    "text": "someone to click on it typically that's",
    "start": "749279",
    "end": "750720"
  },
  {
    "text": "the link that says login",
    "start": "750720",
    "end": "752240"
  },
  {
    "text": "but you could actually deliver that link",
    "start": "752240",
    "end": "753920"
  },
  {
    "text": "any way you can think of you could send",
    "start": "753920",
    "end": "755600"
  },
  {
    "text": "it",
    "start": "755600",
    "end": "755839"
  },
  {
    "text": "in a bitly link over sms you could put",
    "start": "755839",
    "end": "758800"
  },
  {
    "text": "it in an email for example and get",
    "start": "758800",
    "end": "760480"
  },
  {
    "text": "someone to click on it",
    "start": "760480",
    "end": "761440"
  },
  {
    "text": "and because anybody can make this link",
    "start": "761440",
    "end": "763360"
  },
  {
    "text": "you can transmit to anybody and start an",
    "start": "763360",
    "end": "765200"
  },
  {
    "text": "oauth flow when they click it",
    "start": "765200",
    "end": "766639"
  },
  {
    "text": "so the way this spread was that the",
    "start": "766639",
    "end": "768320"
  },
  {
    "text": "attacker just got one person to click on",
    "start": "768320",
    "end": "770800"
  },
  {
    "text": "this link",
    "start": "770800",
    "end": "771680"
  },
  {
    "text": "and as soon as one person did it granted",
    "start": "771680",
    "end": "774160"
  },
  {
    "text": "this application",
    "start": "774160",
    "end": "775279"
  },
  {
    "text": "access to that person's address book and",
    "start": "775279",
    "end": "777760"
  },
  {
    "text": "the ability to send email from their",
    "start": "777760",
    "end": "779440"
  },
  {
    "text": "account",
    "start": "779440",
    "end": "780480"
  },
  {
    "text": "and then this worm can go and use the",
    "start": "780480",
    "end": "783120"
  },
  {
    "text": "google apis to actually send an email",
    "start": "783120",
    "end": "786000"
  },
  {
    "text": "to everybody in their address book and",
    "start": "786000",
    "end": "788079"
  },
  {
    "text": "now that email",
    "start": "788079",
    "end": "789440"
  },
  {
    "text": "is not actually a fake email it's not",
    "start": "789440",
    "end": "791440"
  },
  {
    "text": "spam it's coming from a real google",
    "start": "791440",
    "end": "793120"
  },
  {
    "text": "account going to a real google account",
    "start": "793120",
    "end": "795040"
  },
  {
    "text": "and what's the contents of that email",
    "start": "795040",
    "end": "796959"
  },
  {
    "text": "it's this message that says so and so",
    "start": "796959",
    "end": "799279"
  },
  {
    "text": "share the file with you click here to",
    "start": "799279",
    "end": "800639"
  },
  {
    "text": "view it in google docs",
    "start": "800639",
    "end": "801920"
  },
  {
    "text": "now if you got this email it's going to",
    "start": "801920",
    "end": "803360"
  },
  {
    "text": "be from somebody in your address book",
    "start": "803360",
    "end": "805200"
  },
  {
    "text": "and it's actually a real email it's not",
    "start": "805200",
    "end": "806880"
  },
  {
    "text": "from a fake address it's from them",
    "start": "806880",
    "end": "808880"
  },
  {
    "text": "so then you go and you click the open in",
    "start": "808880",
    "end": "810639"
  },
  {
    "text": "docs button and you get taken to google",
    "start": "810639",
    "end": "812959"
  },
  {
    "text": "where you're then prompted with this and",
    "start": "812959",
    "end": "815040"
  },
  {
    "text": "because you're already thinking about",
    "start": "815040",
    "end": "816240"
  },
  {
    "text": "google docs you're more likely to just",
    "start": "816240",
    "end": "817680"
  },
  {
    "text": "click through right here and not even",
    "start": "817680",
    "end": "819760"
  },
  {
    "text": "think too much about it",
    "start": "819760",
    "end": "820800"
  },
  {
    "text": "and as soon as you do now the attacker",
    "start": "820800",
    "end": "822959"
  },
  {
    "text": "has an access token to your account and",
    "start": "822959",
    "end": "824320"
  },
  {
    "text": "can repeat the process and that's how",
    "start": "824320",
    "end": "825920"
  },
  {
    "text": "it's spiraled out of",
    "start": "825920",
    "end": "826880"
  },
  {
    "text": "control so within about 40 minutes of",
    "start": "826880",
    "end": "829760"
  },
  {
    "text": "this",
    "start": "829760",
    "end": "830079"
  },
  {
    "text": "it had spread so far that google",
    "start": "830079",
    "end": "831839"
  },
  {
    "text": "actually had to tweet this out and be",
    "start": "831839",
    "end": "833440"
  },
  {
    "text": "like",
    "start": "833440",
    "end": "834000"
  },
  {
    "text": "hey uh we're investigating this don't",
    "start": "834000",
    "end": "835839"
  },
  {
    "text": "click on that link meanwhile",
    "start": "835839",
    "end": "837360"
  },
  {
    "text": "on reddit where this had been reported",
    "start": "837360",
    "end": "839360"
  },
  {
    "text": "there were google engineers chiming in",
    "start": "839360",
    "end": "840959"
  },
  {
    "text": "being like okay we're looking",
    "start": "840959",
    "end": "842000"
  },
  {
    "text": "at it oh we found what's going on and",
    "start": "842000",
    "end": "844399"
  },
  {
    "text": "we've disabled the app",
    "start": "844399",
    "end": "845920"
  },
  {
    "text": "and at that point the next time anybody",
    "start": "845920",
    "end": "847600"
  },
  {
    "text": "clicked that link they just saw this",
    "start": "847600",
    "end": "849120"
  },
  {
    "text": "error page because",
    "start": "849120",
    "end": "850160"
  },
  {
    "text": "what they did was they just disable the",
    "start": "850160",
    "end": "851680"
  },
  {
    "text": "client id but if you think about it that",
    "start": "851680",
    "end": "853440"
  },
  {
    "text": "didn't actually solve the problem that",
    "start": "853440",
    "end": "855040"
  },
  {
    "text": "just stopped that particular instance",
    "start": "855040",
    "end": "857120"
  },
  {
    "text": "because the problem is actually a lot",
    "start": "857120",
    "end": "858720"
  },
  {
    "text": "deeper the problem is that",
    "start": "858720",
    "end": "860560"
  },
  {
    "text": "it's a phishing attack and phishing",
    "start": "860560",
    "end": "862320"
  },
  {
    "text": "attacks often don't have a technical",
    "start": "862320",
    "end": "864079"
  },
  {
    "text": "solution",
    "start": "864079",
    "end": "865199"
  },
  {
    "text": "because it's all about teaching users",
    "start": "865199",
    "end": "866959"
  },
  {
    "text": "what to expect and not to just sort of",
    "start": "866959",
    "end": "868800"
  },
  {
    "text": "blindly trust things",
    "start": "868800",
    "end": "870079"
  },
  {
    "text": "and a lot of the reasons that worked was",
    "start": "870079",
    "end": "871680"
  },
  {
    "text": "because that screen that asked for the",
    "start": "871680",
    "end": "873600"
  },
  {
    "text": "user's permission was so convincing",
    "start": "873600",
    "end": "875199"
  },
  {
    "text": "because it was google's screen",
    "start": "875199",
    "end": "876800"
  },
  {
    "text": "and they didn't do a good enough job of",
    "start": "876800",
    "end": "878399"
  },
  {
    "text": "preventing people from impersonating",
    "start": "878399",
    "end": "880399"
  },
  {
    "text": "google apps so really this problem is",
    "start": "880399",
    "end": "882240"
  },
  {
    "text": "all about just making sure",
    "start": "882240",
    "end": "883360"
  },
  {
    "text": "users are well informed when they're",
    "start": "883360",
    "end": "885360"
  },
  {
    "text": "granting permissions to other",
    "start": "885360",
    "end": "886639"
  },
  {
    "text": "applications to access their account",
    "start": "886639",
    "end": "888079"
  },
  {
    "text": "over oauth",
    "start": "888079",
    "end": "889279"
  },
  {
    "text": "so it's a hard problem and there are",
    "start": "889279",
    "end": "891440"
  },
  {
    "text": "several different kinds of illusions",
    "start": "891440",
    "end": "892800"
  },
  {
    "text": "some more heavy-handed than others",
    "start": "892800",
    "end": "894560"
  },
  {
    "text": "all right the last one i want to talk",
    "start": "894560",
    "end": "895920"
  },
  {
    "text": "about is facebook this made major",
    "start": "895920",
    "end": "898240"
  },
  {
    "start": "896000",
    "end": "1081000"
  },
  {
    "text": "headlines in 2018.",
    "start": "898240",
    "end": "900000"
  },
  {
    "text": "50 million accounts were hacked now",
    "start": "900000",
    "end": "902079"
  },
  {
    "text": "normally when there's like a large scale",
    "start": "902079",
    "end": "903760"
  },
  {
    "text": "hack like this it's actually something",
    "start": "903760",
    "end": "905440"
  },
  {
    "text": "pretty silly like if somebody left a",
    "start": "905440",
    "end": "906959"
  },
  {
    "text": "database publicly exposed to the",
    "start": "906959",
    "end": "908399"
  },
  {
    "text": "internet",
    "start": "908399",
    "end": "908959"
  },
  {
    "text": "or someone just stole a password dump",
    "start": "908959",
    "end": "911839"
  },
  {
    "text": "and then tried it on some other service",
    "start": "911839",
    "end": "913600"
  },
  {
    "text": "but this one caught my eye because",
    "start": "913600",
    "end": "915680"
  },
  {
    "text": "normally companies will just sort of",
    "start": "915680",
    "end": "917600"
  },
  {
    "text": "write a high-level apology email but",
    "start": "917600",
    "end": "920240"
  },
  {
    "text": "this was actually so serious that",
    "start": "920240",
    "end": "921760"
  },
  {
    "text": "facebook put out a lot of information",
    "start": "921760",
    "end": "923680"
  },
  {
    "text": "about exactly what went wrong here",
    "start": "923680",
    "end": "925440"
  },
  {
    "text": "so from their own post this was a phrase",
    "start": "925440",
    "end": "927839"
  },
  {
    "text": "that the vp of product used to describe",
    "start": "927839",
    "end": "929680"
  },
  {
    "text": "the attack",
    "start": "929680",
    "end": "930320"
  },
  {
    "text": "the vulnerability was the result of the",
    "start": "930320",
    "end": "932320"
  },
  {
    "text": "interaction of three distinct bugs",
    "start": "932320",
    "end": "934480"
  },
  {
    "text": "it wasn't just one problem and when we",
    "start": "934480",
    "end": "936560"
  },
  {
    "text": "look at these three bugs",
    "start": "936560",
    "end": "937839"
  },
  {
    "text": "you'll see that individually each of",
    "start": "937839",
    "end": "939680"
  },
  {
    "text": "these doesn't actually seem that bad",
    "start": "939680",
    "end": "941839"
  },
  {
    "text": "and seems like it couldn't cause",
    "start": "941839",
    "end": "943360"
  },
  {
    "text": "something at this scale it's only once",
    "start": "943360",
    "end": "945199"
  },
  {
    "text": "you stack them up",
    "start": "945199",
    "end": "946079"
  },
  {
    "text": "then it becomes a problem facebook has",
    "start": "946079",
    "end": "948639"
  },
  {
    "text": "or had",
    "start": "948639",
    "end": "949440"
  },
  {
    "text": "this great feature called view as you",
    "start": "949440",
    "end": "951680"
  },
  {
    "text": "could be on your profile page",
    "start": "951680",
    "end": "953440"
  },
  {
    "text": "click view as and see what your page",
    "start": "953440",
    "end": "955600"
  },
  {
    "text": "looks like to somebody else",
    "start": "955600",
    "end": "956800"
  },
  {
    "text": "and that was really useful for being",
    "start": "956800",
    "end": "958160"
  },
  {
    "text": "able to test out your privacy settings",
    "start": "958160",
    "end": "959759"
  },
  {
    "text": "so that's where this all starts so",
    "start": "959759",
    "end": "961040"
  },
  {
    "text": "here's the text from their statement",
    "start": "961040",
    "end": "962480"
  },
  {
    "text": "first view as is a privacy feature that",
    "start": "962480",
    "end": "964560"
  },
  {
    "text": "lets you see what your page looks like",
    "start": "964560",
    "end": "966160"
  },
  {
    "text": "to somebody else this is supposed to be",
    "start": "966160",
    "end": "967680"
  },
  {
    "text": "a view only interface",
    "start": "967680",
    "end": "969199"
  },
  {
    "text": "however for one type of composer the",
    "start": "969199",
    "end": "971199"
  },
  {
    "text": "little box that lets you post into your",
    "start": "971199",
    "end": "972720"
  },
  {
    "text": "profile",
    "start": "972720",
    "end": "973440"
  },
  {
    "text": "the view as incorrectly offered the",
    "start": "973440",
    "end": "975519"
  },
  {
    "text": "ability to post a video",
    "start": "975519",
    "end": "977120"
  },
  {
    "text": "but again by itself whatever right",
    "start": "977120",
    "end": "979040"
  },
  {
    "text": "that's not a big deal worse you can do",
    "start": "979040",
    "end": "980720"
  },
  {
    "text": "is like upload a video to your own wall",
    "start": "980720",
    "end": "982560"
  },
  {
    "text": "okay",
    "start": "982560",
    "end": "982959"
  },
  {
    "text": "so hold that one in your head for a",
    "start": "982959",
    "end": "984160"
  },
  {
    "text": "second now second they launched a new",
    "start": "984160",
    "end": "986240"
  },
  {
    "text": "version of this video uploader",
    "start": "986240",
    "end": "987920"
  },
  {
    "text": "and that version had a bug where it",
    "start": "987920",
    "end": "990079"
  },
  {
    "text": "generated an access token that had the",
    "start": "990079",
    "end": "991759"
  },
  {
    "text": "permissions of the facebook mobile app",
    "start": "991759",
    "end": "993680"
  },
  {
    "text": "now this is starting to sound a little",
    "start": "993680",
    "end": "995360"
  },
  {
    "text": "bit suspicious because",
    "start": "995360",
    "end": "996800"
  },
  {
    "text": "what do you mean it generated an access",
    "start": "996800",
    "end": "998639"
  },
  {
    "text": "token that sounds to me like",
    "start": "998639",
    "end": "1000320"
  },
  {
    "text": "they're letting one part of their system",
    "start": "1000320",
    "end": "1002000"
  },
  {
    "text": "just sort of assert things",
    "start": "1002000",
    "end": "1003839"
  },
  {
    "text": "on behalf of some other part of the",
    "start": "1003839",
    "end": "1005680"
  },
  {
    "text": "application without actually checking it",
    "start": "1005680",
    "end": "1007440"
  },
  {
    "text": "but again by itself this wouldn't be so",
    "start": "1007440",
    "end": "1009440"
  },
  {
    "text": "bad",
    "start": "1009440",
    "end": "1010240"
  },
  {
    "text": "because all that really could happen was",
    "start": "1010240",
    "end": "1012240"
  },
  {
    "text": "that you could use that access token to",
    "start": "1012240",
    "end": "1014160"
  },
  {
    "text": "post to your own account or read your",
    "start": "1014160",
    "end": "1015519"
  },
  {
    "text": "own data",
    "start": "1015519",
    "end": "1016399"
  },
  {
    "text": "okay so hold that one in your head third",
    "start": "1016399",
    "end": "1019279"
  },
  {
    "text": "when the video uploader appeared as part",
    "start": "1019279",
    "end": "1021040"
  },
  {
    "text": "of view as",
    "start": "1021040",
    "end": "1021920"
  },
  {
    "text": "it generated an access token not for you",
    "start": "1021920",
    "end": "1024000"
  },
  {
    "text": "the viewer",
    "start": "1024000",
    "end": "1025038"
  },
  {
    "text": "but instead for the profile you were",
    "start": "1025039",
    "end": "1026959"
  },
  {
    "text": "viewing now this is bad",
    "start": "1026959",
    "end": "1029120"
  },
  {
    "text": "this is clearly bad because now i'm able",
    "start": "1029120",
    "end": "1031678"
  },
  {
    "text": "to get an access token for somebody",
    "start": "1031679",
    "end": "1032880"
  },
  {
    "text": "else's account",
    "start": "1032880",
    "end": "1034558"
  },
  {
    "text": "but again if it were only this it",
    "start": "1034559",
    "end": "1037600"
  },
  {
    "text": "wouldn't have been that bad",
    "start": "1037600",
    "end": "1039120"
  },
  {
    "text": "because the view as was supposed to be a",
    "start": "1039120",
    "end": "1040880"
  },
  {
    "text": "read-only interface but when you stack",
    "start": "1040880",
    "end": "1042558"
  },
  {
    "text": "these",
    "start": "1042559",
    "end": "1043280"
  },
  {
    "text": "if you use the view as feature to view",
    "start": "1043280",
    "end": "1045038"
  },
  {
    "text": "somebody else's page you would end up",
    "start": "1045039",
    "end": "1046798"
  },
  {
    "text": "with an access token belonging to that",
    "start": "1046799",
    "end": "1048640"
  },
  {
    "text": "user that had the permissions of the",
    "start": "1048640",
    "end": "1050400"
  },
  {
    "text": "facebook mobile app",
    "start": "1050400",
    "end": "1051600"
  },
  {
    "text": "and that's why it started cascading out",
    "start": "1051600",
    "end": "1053280"
  },
  {
    "text": "of control so what's the moral of the",
    "start": "1053280",
    "end": "1055280"
  },
  {
    "text": "story here",
    "start": "1055280",
    "end": "1055919"
  },
  {
    "text": "this is again a pretty tricky one",
    "start": "1055919",
    "end": "1057280"
  },
  {
    "text": "because again each of these bugs",
    "start": "1057280",
    "end": "1059120"
  },
  {
    "text": "did not seem that bad on their own but i",
    "start": "1059120",
    "end": "1061679"
  },
  {
    "text": "think the thing that kind of ties it all",
    "start": "1061679",
    "end": "1063120"
  },
  {
    "text": "together",
    "start": "1063120",
    "end": "1063600"
  },
  {
    "text": "is that it's really important to keep",
    "start": "1063600",
    "end": "1065520"
  },
  {
    "text": "clean security boundaries between these",
    "start": "1065520",
    "end": "1067520"
  },
  {
    "text": "different parts of your application",
    "start": "1067520",
    "end": "1068960"
  },
  {
    "text": "don't let parts of your application",
    "start": "1068960",
    "end": "1070400"
  },
  {
    "text": "pretend to be other parts or pretend to",
    "start": "1070400",
    "end": "1072320"
  },
  {
    "text": "be users",
    "start": "1072320",
    "end": "1073200"
  },
  {
    "text": "we have the oauth framework for a reason",
    "start": "1073200",
    "end": "1075520"
  },
  {
    "text": "and that's what lets us make sure that",
    "start": "1075520",
    "end": "1077120"
  },
  {
    "text": "the user was involved",
    "start": "1077120",
    "end": "1078480"
  },
  {
    "text": "when issuing an access token for that",
    "start": "1078480",
    "end": "1080160"
  },
  {
    "text": "user and that is all i have for you",
    "start": "1080160",
    "end": "1082080"
  },
  {
    "start": "1081000",
    "end": "1102000"
  },
  {
    "text": "today i hope you enjoyed this",
    "start": "1082080",
    "end": "1083600"
  },
  {
    "text": "you can get a copy of my book at",
    "start": "1083600",
    "end": "1085240"
  },
  {
    "text": "oauth2simplified.com i also have cat",
    "start": "1085240",
    "end": "1087120"
  },
  {
    "text": "stickers available",
    "start": "1087120",
    "end": "1088000"
  },
  {
    "text": "on that website as well thank you so",
    "start": "1088000",
    "end": "1092000"
  },
  {
    "text": "much",
    "start": "1092840",
    "end": "1095840"
  },
  {
    "text": "you",
    "start": "1101440",
    "end": "1103519"
  }
]