[
  {
    "text": "thanks Jason thanks everybody uh last Talk of the day so uh you know we'll get we'll get through this then we'll get to",
    "start": "5960",
    "end": "11840"
  },
  {
    "text": "beers I'm psyched for that um and uh I'm going to tell you a little bit about Facebook's product infrastructure today",
    "start": "11840",
    "end": "18840"
  },
  {
    "text": "um and I'll tell you a little bit about what that even is because it's kind of a madeup thing uh but by way of",
    "start": "18840",
    "end": "24400"
  },
  {
    "text": "introduction I joined Facebook uh a little over five years ago five and a half now actually",
    "start": "24400",
    "end": "30480"
  },
  {
    "text": "and uh I joined after my startup uh which was called Shar grve pretty much",
    "start": "30480",
    "end": "35680"
  },
  {
    "text": "failed you know I managed to sell it to Facebook but um you know I did a lot of things wrong with this startup and and",
    "start": "35680",
    "end": "41039"
  },
  {
    "text": "part of what I want to tell you about today is kind of some of the things I've learned that I that I did wrong I didn't know at the time by working at Facebook",
    "start": "41039",
    "end": "47399"
  },
  {
    "text": "and things that I've learned about product development I think of myself mostly as as a product developer even",
    "start": "47399",
    "end": "53000"
  },
  {
    "text": "though now my role is mostly as a manager of this team called Product infrastructure and uh Facebook product",
    "start": "53000",
    "end": "59559"
  },
  {
    "text": "infrastructure ructure is responsible for some of these open source technologies that you may have heard of uh I just put a few of them up here",
    "start": "59559",
    "end": "66280"
  },
  {
    "text": "react I think a lot of people have heard of flux uh is this architectural pattern",
    "start": "66280",
    "end": "71400"
  },
  {
    "text": "that um has been referenced a few times at this conference you can look it up um graphql is something very new that uh we",
    "start": "71400",
    "end": "78080"
  },
  {
    "text": "put out there that we use internally um product infrastructure is also responsible for some lower level stuff",
    "start": "78080",
    "end": "84159"
  },
  {
    "text": "um you may have seen the uh the JavaScript typing Library flow um we uh",
    "start": "84159",
    "end": "90400"
  },
  {
    "text": "have worked on like the internal application layer which we write in a variant of PHP we call hack um there's",
    "start": "90400",
    "end": "96399"
  },
  {
    "text": "some low-level mobile infrastructure and then a lot of the UI sort of centralized UI component work happens on product",
    "start": "96399",
    "end": "102040"
  },
  {
    "text": "infrastructure as well and I'm not going to tell you too much about um those",
    "start": "102040",
    "end": "108640"
  },
  {
    "text": "Technologies today because I know not everybody works on mobile and not everybody works on the front end and not",
    "start": "108640",
    "end": "113799"
  },
  {
    "text": "everybody here even considers thems a product developer I would guess you know a lot of backend people here instead",
    "start": "113799",
    "end": "119479"
  },
  {
    "text": "what I want to tell you about today is the environment at Facebook especially the product development environment and",
    "start": "119479",
    "end": "125960"
  },
  {
    "text": "why product infrastructure kind of works at Facebook and and sort of the Counterpoint that it provides against",
    "start": "125960",
    "end": "132200"
  },
  {
    "text": "like the very effective Mainline product development track at Facebook and uh I",
    "start": "132200",
    "end": "138440"
  },
  {
    "text": "you know at at the end of that uh after I describe a lot about how how product works I want to talk a little bit about",
    "start": "138440",
    "end": "144920"
  },
  {
    "text": "infrastructure and what I think that is and it gets a little weird from that point on so I hope you'll come with me",
    "start": "144920",
    "end": "150120"
  },
  {
    "text": "on on kind of a journey here um but let's start with things that we know uh and and talk a little bit about what",
    "start": "150120",
    "end": "155760"
  },
  {
    "text": "software products are and you know there's all kinds of software products and products that use software but in",
    "start": "155760",
    "end": "161159"
  },
  {
    "text": "this case I'm talking mostly about you know kind of this someone uh mostly sitting at their computer or especially",
    "start": "161159",
    "end": "167040"
  },
  {
    "text": "uh sitting on their phone and interacting with something that's like pretty much a user interface like that's",
    "start": "167040",
    "end": "173120"
  },
  {
    "text": "really what we're trying to deliver right is is a satisfying user experience in the form of of a fluid user interface",
    "start": "173120",
    "end": "179440"
  },
  {
    "text": "that kind of meets people's expectations um so you know this is what I think of when I think of a product uh but you",
    "start": "179440",
    "end": "186040"
  },
  {
    "text": "might think of of the product you're working on and I would argue you know and and this is certainly a point of view but even if you work for a bank or",
    "start": "186040",
    "end": "193080"
  },
  {
    "text": "you work for Uber or whatever a lot of what you're doing is really trying to present a user interface you know and",
    "start": "193080",
    "end": "199200"
  },
  {
    "text": "there may be multiple users and I think actually that kind of typifies a product right like a product is often not just",
    "start": "199200",
    "end": "206440"
  },
  {
    "text": "the one end user the consumer um there are other us users at Facebook you know a really important user is the",
    "start": "206440",
    "end": "212840"
  },
  {
    "text": "advertisers who are trying to reach the people who are browsing their Newsfeed um but then there are a bunch of other users that sort of exist in this",
    "start": "212840",
    "end": "220360"
  },
  {
    "text": "constellation uh that you know we don't always think about but they're important parts of the product as well we've got",
    "start": "220360",
    "end": "225560"
  },
  {
    "text": "like operations so you know um Dave was talking about all the people who need to",
    "start": "225560",
    "end": "230799"
  },
  {
    "text": "understand how the product is working in production that's something else that typifies a product right um and we also",
    "start": "230799",
    "end": "236040"
  },
  {
    "text": "have a business because someone's got to figure out how to make this thing make money and get us paid um so you know",
    "start": "236040",
    "end": "243720"
  },
  {
    "text": "there's there's more than one user and this is an ecosystem uh with requirements kind of at every level that",
    "start": "243720",
    "end": "250040"
  },
  {
    "text": "are very hard to express that overlap in ways that we really have trouble predicting uh the other thing that I",
    "start": "250040",
    "end": "256479"
  },
  {
    "text": "think is interesting about a product is that um you know with infrastructure like we we kind of want to build it and",
    "start": "256479",
    "end": "262960"
  },
  {
    "text": "actually whether we want it to or not it lives forever right like you know a lot of the infrastructure we use today",
    "start": "262960",
    "end": "268759"
  },
  {
    "text": "whether we like it or not you know it was kind of built in the 70s and and what we have is either uh an evolution",
    "start": "268759",
    "end": "274800"
  },
  {
    "text": "of that or some kind of reaction to it um unlike that products actually are",
    "start": "274800",
    "end": "280520"
  },
  {
    "text": "expected to undergo this life cycle now I would argue that over the last this is kind of old school this product life",
    "start": "280520",
    "end": "286560"
  },
  {
    "text": "cycle thing this is anyone know crossing the chasm from like the 90s but anyway um what we've tried to do I think is",
    "start": "286560",
    "end": "292479"
  },
  {
    "text": "actually like skip the whole introduction thing right that's Lean Startup um and no one even wants to",
    "start": "292479",
    "end": "297600"
  },
  {
    "text": "bother with maturity and decline forget that just kind of sell your startup or whatever and growth is kind of the the",
    "start": "297600",
    "end": "303280"
  },
  {
    "text": "big thing that we focus on now and and you know that's good uh maturity and decline is kind of depressing",
    "start": "303280",
    "end": "309320"
  },
  {
    "text": "um so you know and I most of what I'm going to talk about when I talk about product development is really talking",
    "start": "309320",
    "end": "314919"
  },
  {
    "text": "about this growth phase because uh the way I think about it is like once you put something you know on your AWS",
    "start": "314919",
    "end": "321840"
  },
  {
    "text": "server you should immediately start using it you know just just within your company or just within your friends or",
    "start": "321840",
    "end": "327280"
  },
  {
    "text": "depending what the product is like you want to get to that point where you're kind of thinking of it as production as",
    "start": "327280",
    "end": "332360"
  },
  {
    "text": "soon as possible so how do we develop a great product and um you know this is the",
    "start": "332360",
    "end": "339360"
  },
  {
    "text": "thing this is the part where I'm going to tell you kind of what I think I've learned at Facebook um if you'd asked me",
    "start": "339360",
    "end": "344560"
  },
  {
    "text": "this five and a half years ago and I was working at share grve I'd say like you do an extensive user centered design",
    "start": "344560",
    "end": "350880"
  },
  {
    "text": "phase or you hire great designers or you spend a lot of time like writing out",
    "start": "350880",
    "end": "356160"
  },
  {
    "text": "sticky notes and putting them on the wall or something like that um and you know I actually think that that's",
    "start": "356160",
    "end": "361240"
  },
  {
    "text": "completely wrong I I I really don't think there's a lot of value in that now that's not to say that there isn't value",
    "start": "361240",
    "end": "366840"
  },
  {
    "text": "in design obviously you have to think about what you're doing the more deeply you understand like what the",
    "start": "366840",
    "end": "372240"
  },
  {
    "text": "requirements are and who your users are the better off you'll be um but at the same time I think there's really only",
    "start": "372240",
    "end": "378039"
  },
  {
    "text": "one way to build a great product and that is to iterate on it you have to",
    "start": "378039",
    "end": "383360"
  },
  {
    "text": "sort of build it as quickly as you can and then see if it works and then make changes and that's the reason why",
    "start": "383360",
    "end": "388560"
  },
  {
    "text": "Facebook has a a lot of these kinds of mantras on the wall um and you know I think this is really misunderstood and",
    "start": "388560",
    "end": "395319"
  },
  {
    "text": "I'm going to try to explain to you how I see uh what some of these slogans mean so move fast and break things I think",
    "start": "395319",
    "end": "402039"
  },
  {
    "text": "people think that means that we're talking about uh being sloppy or you know just hey copy the code from here",
    "start": "402039",
    "end": "408479"
  },
  {
    "text": "and paste it there and push it um that does happen a lot I don't I don't want to pretend that it doesn't and you know",
    "start": "408479",
    "end": "414360"
  },
  {
    "text": "I think it's a price we pay for you know you probably know like it's very hard to control how people react to any",
    "start": "414360",
    "end": "421199"
  },
  {
    "text": "corporate message you put out there um but uh but the way here's how I see this the first thing is that I'll say at this",
    "start": "421199",
    "end": "427840"
  },
  {
    "text": "point you know Facebook has like a billion users every day so if you are afraid of that you could easily be",
    "start": "427840",
    "end": "434479"
  },
  {
    "text": "paralyzed by that right like how could you even ever make a change to Facebook you know it's like are you kidding me",
    "start": "434479",
    "end": "439960"
  },
  {
    "text": "there's there's too many people too much traffic it's going to break so one thing you have to believe is that you know",
    "start": "439960",
    "end": "445479"
  },
  {
    "text": "even though you just graduated from college and you probably don't know that much about distributed system you can write a diff and push it and uh not fear",
    "start": "445479",
    "end": "453400"
  },
  {
    "text": "the consequences and so what this really means is that most of our engineering",
    "start": "453400",
    "end": "458520"
  },
  {
    "text": "work should go towards making it so that you can't break it not so that not to",
    "start": "458520",
    "end": "463879"
  },
  {
    "text": "make sure that you don't break it and by emphasizing that you get this velocity",
    "start": "463879",
    "end": "469000"
  },
  {
    "text": "which is which is what we're looking for and so um this is how I would typify the process at Facebook um I call it hacker",
    "start": "469000",
    "end": "477120"
  },
  {
    "text": "process and it's pretty simple because hackers don't like a lot of process uh so uh first thing you have to do is you",
    "start": "477120",
    "end": "483039"
  },
  {
    "text": "have to build it and you know you just don't mess around with this just write the damn code and you know if you're in",
    "start": "483039",
    "end": "488840"
  },
  {
    "text": "a long brainstorming session where you're arguing about which features to build first just agree on one feature",
    "start": "488840",
    "end": "494759"
  },
  {
    "text": "and build it and ship it as fast as you can and then build the next feature and ship that that's you",
    "start": "494759",
    "end": "500400"
  },
  {
    "text": "know there's like no better process than that now once you build it and ship it",
    "start": "500400",
    "end": "505800"
  },
  {
    "text": "your goal is to increase sort of audience and you can do that with by like increasing engagement of your",
    "start": "505800",
    "end": "511240"
  },
  {
    "text": "audience or by increasing the number of people who use your product and these things are usually mutually reinforcing",
    "start": "511240",
    "end": "517360"
  },
  {
    "text": "now there's another thing about hackers that I think most people really don't get you know like which is that you know",
    "start": "517360",
    "end": "523360"
  },
  {
    "text": "do hackers just like to kind of build stuff and stick it out there and then go on to the next thing you know yes sure",
    "start": "523360",
    "end": "530160"
  },
  {
    "text": "but the reason why is because they've solved the problem not because they just have like kind of done something crappy",
    "start": "530160",
    "end": "535839"
  },
  {
    "text": "and moved on right like that I think is the essence of hacking which is to find find a maybe a sometimes surprising way",
    "start": "535839",
    "end": "543200"
  },
  {
    "text": "of solving a problem now in production software especially like user software like this there's not an obvious way to",
    "start": "543200",
    "end": "550880"
  },
  {
    "text": "know if you've solved the problem unless you do careful measurement so one thing about this hacker process that I really",
    "start": "550880",
    "end": "556680"
  },
  {
    "text": "have to emphasize is that you have to do careful measurement and oftentimes you'll put as much time or more effort",
    "start": "556680",
    "end": "563560"
  },
  {
    "text": "into building your metrics and understanding the behavior of your feature or your app in production you do",
    "start": "563560",
    "end": "569760"
  },
  {
    "text": "into building it in the first place this is a real part of the hacker process and like no true hacker would be satisfied",
    "start": "569760",
    "end": "576560"
  },
  {
    "text": "with like push and prey because that you don't know if you solve the problem and that's ultimately what you're trying to",
    "start": "576560",
    "end": "581880"
  },
  {
    "text": "do um and I've tried to illustrate like what what we're trying to do here with a little animation I made this is my",
    "start": "581880",
    "end": "588279"
  },
  {
    "text": "keynote directorial skills um so you know what we're going to try to do is",
    "start": "588279",
    "end": "593360"
  },
  {
    "text": "like have these really short iterations where we're exploring what I would call this conceptual landscape which I've",
    "start": "593360",
    "end": "598959"
  },
  {
    "text": "tried to represent with this topological map and what you can see is that if we keep the iteration short and we don't go",
    "start": "598959",
    "end": "604200"
  },
  {
    "text": "too far we can kind of map out this conceptual landscape and we can kind of walk to the top of this peak and this",
    "start": "604200",
    "end": "612200"
  },
  {
    "text": "happens a lot at Facebook and it's a surprisingly effective way to improve on things you know making 1% improvements",
    "start": "612200",
    "end": "619640"
  },
  {
    "text": "day over day week over week yields huge gains year over-year and I think you",
    "start": "619640",
    "end": "625680"
  },
  {
    "text": "know if if sort of especially Facebook in its web era if it did did one thing really well it was this you know it was",
    "start": "625680",
    "end": "631640"
  },
  {
    "text": "sort of early on understanding that like you don't just push once a week you push every day and multiple times a day and",
    "start": "631640",
    "end": "638320"
  },
  {
    "text": "if we could do continuous deployment we definitely would um so having said that",
    "start": "638320",
    "end": "644000"
  },
  {
    "text": "you know uh what seems obvious here is that like the faster we can climb this hill the better we'll have a a better",
    "start": "644000",
    "end": "651040"
  },
  {
    "text": "product and sorry the sooner we'll have a better product and then we can go on from there so how can we improve",
    "start": "651040",
    "end": "656560"
  },
  {
    "text": "iteration speed like what are some engineering things we could do to enable this iterative process um and when I say",
    "start": "656560",
    "end": "664120"
  },
  {
    "text": "that you know I think there's some bad trade-offs we could make to improve iteration speed I I pulled up this",
    "start": "664120",
    "end": "670320"
  },
  {
    "text": "example because you know for a long time when I joined Facebook Facebook's mobile apps were a very thin wrapper around a",
    "start": "670320",
    "end": "677519"
  },
  {
    "text": "mobile website did do people remember that kind of a little bit okay yeah I see a few hands and you know this was",
    "start": "677519",
    "end": "683959"
  },
  {
    "text": "great for Facebook right like we could do what we did really well which is push the website frequently and you know we",
    "start": "683959",
    "end": "689440"
  },
  {
    "text": "made a mistake we could fix it quickly all that don't move fast you know what would you do if you weren't afraid is push everything all the time uh so that",
    "start": "689440",
    "end": "696680"
  },
  {
    "text": "was great you know unfortunately for users it was not as good um and uh you",
    "start": "696680",
    "end": "702040"
  },
  {
    "text": "know I think a lot of ink has been spilled over this particular sort of change in Direction and also I think",
    "start": "702040",
    "end": "708760"
  },
  {
    "text": "since this time a lot of people have shown that you absolutely can write a performant mobile web app the question I",
    "start": "708760",
    "end": "714720"
  },
  {
    "text": "would ask is like is it worth it you know I think what we've seen at Facebook is that it's actually a little easy easier to maintain a couple or a few",
    "start": "714720",
    "end": "722040"
  },
  {
    "text": "separate implementations uh on the native platforms to make something that's performant and feels really good",
    "start": "722040",
    "end": "727560"
  },
  {
    "text": "and can grow um so the question we need to ask is not just how we can impr proove iteration speed it's how we can",
    "start": "727560",
    "end": "733040"
  },
  {
    "text": "do that without giving away too much in terms of enduser quality and I use the",
    "start": "733040",
    "end": "738680"
  },
  {
    "text": "word performance here I could have just as easily said efficiency um but I didn't want to get get into like",
    "start": "738680",
    "end": "744959"
  },
  {
    "text": "developer efficiency and that kind of weirdness so for the most part especially on mobile efficienc is performance although there are times we",
    "start": "744959",
    "end": "751320"
  },
  {
    "text": "can give away efficiency and get performance um okay so what can we do to",
    "start": "751320",
    "end": "756519"
  },
  {
    "text": "do this um now I'll tell you what I think is actually the secret weapon that Facebook has and and I would say that if",
    "start": "756519",
    "end": "763199"
  },
  {
    "text": "you take one thing away from this talk this part is the part I want you to take away because I think you can go back and",
    "start": "763199",
    "end": "769240"
  },
  {
    "text": "implement this right away if you haven't done it uh Facebook release engineering",
    "start": "769240",
    "end": "774480"
  },
  {
    "text": "so there are no feature development branches at Facebook there's a every",
    "start": "774480",
    "end": "779800"
  },
  {
    "text": "week it goes whether you like it or not um you always commit to master the",
    "start": "779800",
    "end": "785160"
  },
  {
    "text": "culture is you know write the smallest if you can and commit it um and you know",
    "start": "785160",
    "end": "790199"
  },
  {
    "text": "your code is going to go out every week once you commit it you can't take it back and then uh we cut the release",
    "start": "790199",
    "end": "796720"
  },
  {
    "text": "Branch then we can pick some changes into that release Branch hopefully just fixes but usually especially if you",
    "start": "796720",
    "end": "802760"
  },
  {
    "text": "bribe the pushers with whiskey you know you can get a couple logging changes into into the release um and then then",
    "start": "802760",
    "end": "809199"
  },
  {
    "text": "you let it sit there for a couple days right at the end make sure you don't have any bad crashes and you ship it this is a mobile development schedule",
    "start": "809199",
    "end": "814760"
  },
  {
    "text": "for web uh it moves a little faster we cut it every week and then you can ship updates a few times a day um this is",
    "start": "814760",
    "end": "822880"
  },
  {
    "text": "pretty different from the whole microservices thing that you've heard a bunch about I'm not sure I buy into the microservices thing I'm happy to talk to",
    "start": "822880",
    "end": "829800"
  },
  {
    "text": "anyone about that I don't have a presentation on that but it's it's pretty different right Facebook actually has moved towards uh big monolithic re",
    "start": "829800",
    "end": "837560"
  },
  {
    "text": "re repositories um and we're trying hard to consolidate even further uh because",
    "start": "837560",
    "end": "843079"
  },
  {
    "text": "we think that the advantages for code sharing are are really high um now this",
    "start": "843079",
    "end": "849000"
  },
  {
    "text": "has been presented before if you haven't ever heard of this or seen it check it out go look at like uh some of the",
    "start": "849000",
    "end": "854560"
  },
  {
    "text": "videos we have for Facebook release engineering and you know this release process will be explained in more detail",
    "start": "854560",
    "end": "860000"
  },
  {
    "text": "what I don't think we've done a great job of explaining is like how this actually can work because I you know I",
    "start": "860000",
    "end": "865240"
  },
  {
    "text": "tell people about this and they're like wait a second if we just like took master every weekend and just tried to",
    "start": "865240",
    "end": "870600"
  },
  {
    "text": "ship it that would be a total cluster like that would never work um so there's there's something else here that for",
    "start": "870600",
    "end": "877120"
  },
  {
    "text": "developers that makes this possible and this is runtime code gating uh or exper",
    "start": "877120",
    "end": "882880"
  },
  {
    "text": "and experimentation and when I describe this to people I think some people think I'm talking about like something like",
    "start": "882880",
    "end": "888079"
  },
  {
    "text": "optimizely do you guys know what that thing is where you can like AB test different okay no one no one here is an",
    "start": "888079",
    "end": "894600"
  },
  {
    "text": "optimizely user okay I see someone there all right good so you know people use experimentation to like test different",
    "start": "894600",
    "end": "900360"
  },
  {
    "text": "kinds of copy or different colors for buttons or something like that that is not what I'm talking about here I'm",
    "start": "900360",
    "end": "905880"
  },
  {
    "text": "talking about actually protecting almost every new feature development with a runtime gate and I just want to kind of",
    "start": "905880",
    "end": "913320"
  },
  {
    "text": "illustrate how this works for you and unfortunately you know I'm going to present this you be like wow this sounds",
    "start": "913320",
    "end": "918639"
  },
  {
    "text": "cool could I have it in open source we don't have this in open source you'll see why it touches a lot of systems it's something you kind of have to implement",
    "start": "918639",
    "end": "924720"
  },
  {
    "text": "yourself at least for now but I can explain the concept you could go do it this is the first thing I'd do if I had",
    "start": "924720",
    "end": "930279"
  },
  {
    "text": "another startup so sorry this is going to be PHP code I think this might be the only slide in this whole conference with",
    "start": "930279",
    "end": "936720"
  },
  {
    "text": "PHP code on it I don't know um we have this free function here it's called GK check that's for gatekeeper and I've",
    "start": "936720",
    "end": "943639"
  },
  {
    "text": "named my experiment 64bit roll out because you know 64-bit all the things and what I've done is actually it used",
    "start": "943639",
    "end": "950079"
  },
  {
    "text": "to just say a knit here but now I say okay if we're in the experiment 64-bit roll out call my new routine and you",
    "start": "950079",
    "end": "956759"
  },
  {
    "text": "know we'll take you from there and now I can write to garbage in a knit 64 commit it to master and it can go out in into",
    "start": "956759",
    "end": "964120"
  },
  {
    "text": "production and it's fine it doesn't matter in fact depending on the release configuration it might even get stripped",
    "start": "964120",
    "end": "969319"
  },
  {
    "text": "back out because of guards or whatever but um actually that's not entirely true",
    "start": "969319",
    "end": "975240"
  },
  {
    "text": "because it really is a runtime check there are ways I could turn it off but um I'll get back to the effect this has",
    "start": "975240",
    "end": "980279"
  },
  {
    "text": "on our app size in a sec that's undesirable um but uh but anyway you",
    "start": "980279",
    "end": "986360"
  },
  {
    "text": "know now I'm free to develop my thing and you know I'm I'm happy I can write code and and commit it to master my",
    "start": "986360",
    "end": "991399"
  },
  {
    "text": "friends can code review it no complicated feature development branches okay the next thing I have is I have a web console that controls how this",
    "start": "991399",
    "end": "999440"
  },
  {
    "text": "experiment will work in production and um you can see we've got a bunch of choices in in the dropdown uh this is",
    "start": "999440",
    "end": "1006800"
  },
  {
    "text": "actually slightly old um because it was already on the web I don't have to argue with anybody about whether I could show",
    "start": "1006800",
    "end": "1011880"
  },
  {
    "text": "it to you guys um and you know at this point with this tool you can Target like",
    "start": "1011880",
    "end": "1017240"
  },
  {
    "text": "left-handed people in vene wh who don't eat meat um but uh but for the most part",
    "start": "1017240",
    "end": "1022880"
  },
  {
    "text": "you use a few basic restraints with this tool you know one thing is like I want to I want to pass for this right like",
    "start": "1022880",
    "end": "1028798"
  },
  {
    "text": "I'm testing this feature another one is it's hooked up to our internal teams tool so I can say everyone on my team",
    "start": "1028799",
    "end": "1034880"
  },
  {
    "text": "sees this feature uh I can say a certain percentage of employees see this feature and that has a stable salt so you know",
    "start": "1034880",
    "end": "1042600"
  },
  {
    "text": "release to release week over week that'll be the same cohort of people um and then you know finally I I can push",
    "start": "1042600",
    "end": "1048319"
  },
  {
    "text": "it to a Tre that's sometimes important if I have a feature with high Network effects or I can push it to some percentage of production users often a",
    "start": "1048319",
    "end": "1055520"
  },
  {
    "text": "very small one since they're so many and that's a really good thing about working at Facebook is you can turn on exposure",
    "start": "1055520",
    "end": "1061000"
  },
  {
    "text": "loging for like 0.01% of people for an hour and you'll have a more data than you know what to do with um so that's",
    "start": "1061000",
    "end": "1067799"
  },
  {
    "text": "awesome I love that uh and you know it's great that we also dog food this stuff so people go home and use this you know",
    "start": "1067799",
    "end": "1073559"
  },
  {
    "text": "on my team they'll give me feedback um but this way now I can you know I again",
    "start": "1073559",
    "end": "1078640"
  },
  {
    "text": "I Shi my feature already it's in the release now I can turn it on and invariably I did something wrong um",
    "start": "1078640",
    "end": "1084080"
  },
  {
    "text": "because you know that's that's why I'm a manager now um but uh I can turn it right back off",
    "start": "1084080",
    "end": "1090480"
  },
  {
    "text": "again you know and and I can segment my logs this way whatever it's you know it's it's a completely separate code",
    "start": "1090480",
    "end": "1096120"
  },
  {
    "text": "path last thing this is really important this goes back to that measurement thing which is um now I need to know how",
    "start": "1096120",
    "end": "1102440"
  },
  {
    "text": "people how my metrics how this changes my metrics how what does this experiment do to the things we care about so now um",
    "start": "1102440",
    "end": "1109240"
  },
  {
    "text": "this is another web page a different tool that we have which will tell me uh how people in my experiment do on key",
    "start": "1109240",
    "end": "1116840"
  },
  {
    "text": "metrics for the company and these metrics can be defined by any group they're kind of categorized at this point there's like way too many and",
    "start": "1116840",
    "end": "1122679"
  },
  {
    "text": "people are like what does sessions V2 Tuesday mean you know but anyway you",
    "start": "1122679",
    "end": "1128840"
  },
  {
    "text": "know how that goes um but but the idea is that like I've got some Topline metrics that I really care about and the",
    "start": "1128840",
    "end": "1134880"
  },
  {
    "text": "other the reason why I wanted to make sure I showed this to you and not just tell you about it is that this has error",
    "start": "1134880",
    "end": "1140120"
  },
  {
    "text": "bars on it even with all the samples that we get it's really important like",
    "start": "1140120",
    "end": "1145840"
  },
  {
    "text": "what happened when we first built this tool is that we were completely paralyzed because you know almost",
    "start": "1145840",
    "end": "1150919"
  },
  {
    "text": "anything you do to change something is going to tank some important metrics like because you have all these other",
    "start": "1150919",
    "end": "1157000"
  },
  {
    "text": "systems that are optimized around the current implementation so at some point you just kind of have to hold your nose",
    "start": "1157000",
    "end": "1162280"
  },
  {
    "text": "and say this is good enough I'm going to ship it and then I know that we'll be able to to take it from there and like",
    "start": "1162280",
    "end": "1167720"
  },
  {
    "text": "kind of optimize everything else around it so you want to be able to see these error bars and understand whether you",
    "start": "1167720",
    "end": "1173080"
  },
  {
    "text": "have a statistically significant change in your metric or it's kind of in the noise um but uh I cannot recommend this",
    "start": "1173080",
    "end": "1181039"
  },
  {
    "text": "approach highly enough and you know as I said like this is the one thing that I would really change about how I do any",
    "start": "1181039",
    "end": "1187440"
  },
  {
    "text": "product development in the future is measure really carefully runtime gating do not mess around with release branches",
    "start": "1187440",
    "end": "1194080"
  },
  {
    "text": "or any kind of if you have a release schedule where someone can delay it",
    "start": "1194080",
    "end": "1199480"
  },
  {
    "text": "they'll delay it that was guaranteed to happen right like the release date can only go in One Direction which is a bad",
    "start": "1199480",
    "end": "1205200"
  },
  {
    "text": "one so don't let that happen just ship it every week or every day or continuous release if if you can do that you're my",
    "start": "1205200",
    "end": "1211640"
  },
  {
    "text": "hero okay so I show this to people and they're like okay this you know I see some of the advantages that sounds good",
    "start": "1211640",
    "end": "1217720"
  },
  {
    "text": "and I already alluded to this but like doesn't that mean that everyone just adds code and no one ever cleans",
    "start": "1217720",
    "end": "1223400"
  },
  {
    "text": "anything up and uh I could say a bunch of things about this but you know the basic answer to that question is yes",
    "start": "1223400",
    "end": "1229720"
  },
  {
    "text": "that that's pretty much exactly what happens um and uh this is uh what someone externally did they took our iOS",
    "start": "1229720",
    "end": "1237159"
  },
  {
    "text": "binary and decompiled it and found that has 18,000 classes in it um and there are some really embarrassing class names",
    "start": "1237159",
    "end": "1244039"
  },
  {
    "text": "in there uh you know and I'm not look I'm going to tell you a bunch of things about what Facebook does and I think",
    "start": "1244039",
    "end": "1250240"
  },
  {
    "text": "people um certainly have misunderstood the thinking that I'm saying like that",
    "start": "1250240",
    "end": "1255360"
  },
  {
    "text": "I'm proud of this or this is like the one true way or something like that my argument is that this is effective",
    "start": "1255360",
    "end": "1261600"
  },
  {
    "text": "and it's I kind of wish it weren't true like right I wish that I could say stand here and say like look software",
    "start": "1261600",
    "end": "1266960"
  },
  {
    "text": "architecture is the most important thing having the best most efficient implementation is the most important thing but that has really not been my",
    "start": "1266960",
    "end": "1273039"
  },
  {
    "text": "experience my experience has been that this kind of iterative development is actually how you create this value",
    "start": "1273039",
    "end": "1278679"
  },
  {
    "text": "because you really don't know what's going to work and what's not going to work so yes we end up with a ton of",
    "start": "1278679",
    "end": "1284279"
  },
  {
    "text": "classes in our app and you know this causes problems right like it it certainly uh bumps bumps us up against limits in",
    "start": "1284279",
    "end": "1291640"
  },
  {
    "text": "the App Stores um it causes problems uh for our application tier in terms of",
    "start": "1291640",
    "end": "1296799"
  },
  {
    "text": "simply just pushing all the code we have um so what do we do about this right like so one thing we could do is we",
    "start": "1296799",
    "end": "1303000"
  },
  {
    "text": "could say okay guys stop changing things we're going to refactor um and that would be really",
    "start": "1303000",
    "end": "1309720"
  },
  {
    "text": "that would be really bad for our business and periodically someone is you know actually there are always multiple teams at Facebook working on rewriting",
    "start": "1309720",
    "end": "1316200"
  },
  {
    "text": "Facebook it's not possible it just you there's no way that you can even capture all the requirements of Facebook um so",
    "start": "1316200",
    "end": "1324400"
  },
  {
    "text": "you know I think it's still worthwhile to to try because you find out important things and actually um usually what you",
    "start": "1324400",
    "end": "1330760"
  },
  {
    "text": "identify is like okay we can't rewrite Facebook but we could rewrite this system and make this sort of improvement",
    "start": "1330760",
    "end": "1336159"
  },
  {
    "text": "but there's still this tide that like you know kind of crap Title Wave of crap",
    "start": "1336159",
    "end": "1341520"
  },
  {
    "text": "like kind of that's not possible to hold back so actually where do you invest your engineering right if you if you",
    "start": "1341520",
    "end": "1346840"
  },
  {
    "text": "kind of know that this is your destiny like entropic growth what do you do well this is the part that's kind of crazy",
    "start": "1346840",
    "end": "1353760"
  },
  {
    "text": "but kind of cool you take all these really smart people that you have and instead of like changing your",
    "start": "1353760",
    "end": "1359320"
  },
  {
    "text": "architecture so that it's perfect you ask them to make it so that you can continue to scale even when it seems",
    "start": "1359320",
    "end": "1364799"
  },
  {
    "text": "like you shouldn't and um this is this example which uh sort of achieved some",
    "start": "1364799",
    "end": "1370559"
  },
  {
    "text": "notoriety I think which was um I I probably won't do it justice I'm not much of an Android programmer but",
    "start": "1370559",
    "end": "1376520"
  },
  {
    "text": "basically uh Android gingerbread and earlier has this like memory buffer in",
    "start": "1376520",
    "end": "1382279"
  },
  {
    "text": "it uh which is limited to to five Megs okay so you can only have five Megs",
    "start": "1382279",
    "end": "1387799"
  },
  {
    "text": "worth of active uh method symbols like at a time and you know you'd think that",
    "start": "1387799",
    "end": "1393240"
  },
  {
    "text": "would be enough methods probably five Megs worth uh but even before we shipped",
    "start": "1393240",
    "end": "1398279"
  },
  {
    "text": "our rewrite you know we we were moving away from this mobile app and we we already had an Android app that was too big to run on dovic because of this uh",
    "start": "1398279",
    "end": "1405600"
  },
  {
    "text": "data structure it's called the linear Alec buffer um so and this is one example there are a",
    "start": "1405600",
    "end": "1411799"
  },
  {
    "text": "lot of these and they're all kind of crazy but they're all kind of cool too so what do we do well this in this",
    "start": "1411799",
    "end": "1417760"
  },
  {
    "text": "particular example we could actually find where this buffer was by using like a known offset in the in memory so the",
    "start": "1417760",
    "end": "1425440"
  },
  {
    "text": "process starts you look through memory you find this pointer that you could identify and then you walk around trying",
    "start": "1425440",
    "end": "1431640"
  },
  {
    "text": "to find this data structure you lock it then using J Andi you replace it",
    "start": "1431640",
    "end": "1436919"
  },
  {
    "text": "allocate a bigger data structure unlock it and keep going it worked that's a really crazy",
    "start": "1436919",
    "end": "1443960"
  },
  {
    "text": "thing right so we were able to ship the app um and you know like this wasn't this was I want to be also clear about",
    "start": "1443960",
    "end": "1449320"
  },
  {
    "text": "one thing which is like this was just to make it so that gingerbread and Below work the same way as later versions of",
    "start": "1449320",
    "end": "1455799"
  },
  {
    "text": "Android so it wasn't like you know we were only poking a hole it's like look we don't want to make this exception for",
    "start": "1455799",
    "end": "1461960"
  },
  {
    "text": "this for for earlier versions of the OS I think we all know that the Android ecosystem is super fragmented and what",
    "start": "1461960",
    "end": "1468480"
  },
  {
    "text": "you can do to make those the same is worth doing uh but you know this is a crazy hack like no question that it's a",
    "start": "1468480",
    "end": "1474919"
  },
  {
    "text": "crazy hack and another thing that's kind of funny or scary about this is that um actually there's like three different",
    "start": "1474919",
    "end": "1480760"
  },
  {
    "text": "heuristics that we use to try to find this buffer um and for a long time like the first two have been failing and",
    "start": "1480760",
    "end": "1486960"
  },
  {
    "text": "we're down to our last one of just like you know kind of crawling around bite by bite trying to find this buffer uh but",
    "start": "1486960",
    "end": "1493320"
  },
  {
    "text": "it's still working and then we kind of finally froze our our gingerbread version I think we're okay um",
    "start": "1493320",
    "end": "1499520"
  },
  {
    "text": "so yeah you know I want to be clear I'm not like advocating this I'm just saying that actually this is a this turns out",
    "start": "1499520",
    "end": "1505799"
  },
  {
    "text": "to be an effective way to invest your engineering dollars uh rather than trying to get people to stop coding or",
    "start": "1505799",
    "end": "1511960"
  },
  {
    "text": "you know to to like try to build an architecture that by the time you deliver it will almost certainly be not",
    "start": "1511960",
    "end": "1518279"
  },
  {
    "text": "what you need um but in the end you know like these these hacks all add up and",
    "start": "1518279",
    "end": "1524159"
  },
  {
    "text": "you know they I don't want to stand here I think just like Matt you know if you work uh if you saw Matt's talk about",
    "start": "1524159",
    "end": "1529440"
  },
  {
    "text": "Uber like if you work in environment like this you just kind of get used to everything being a little crazy and broken um so I don't want to stand here",
    "start": "1529440",
    "end": "1536279"
  },
  {
    "text": "and say like oh yeah this is great we're all really happy with this uh but it is you know and and eventually I think",
    "start": "1536279",
    "end": "1541960"
  },
  {
    "text": "these kinds of changes catch up with you and so back to our conceptual landscape here um you know we've you if maybe when",
    "start": "1541960",
    "end": "1550840"
  },
  {
    "text": "you saw this you thought the same thing I thought when I first got to Facebook which is like this is a great way to find local Maxima but what do you do",
    "start": "1550840",
    "end": "1558919"
  },
  {
    "text": "when you need to find a new Hill to climb like eventually you exhaust this and you reach a point where where you",
    "start": "1558919",
    "end": "1564520"
  },
  {
    "text": "actually really can't change your software anymore uh certainly you know one of the projects that I worked on before I managed this product",
    "start": "1564520",
    "end": "1570600"
  },
  {
    "text": "infrastructure group was was Facebook Chat and we literally got to the point where chat would break when we hadn't",
    "start": "1570600",
    "end": "1576000"
  },
  {
    "text": "even changed anything like we would just you know what I mean like someone else would write a new Javascript file and",
    "start": "1576000",
    "end": "1581720"
  },
  {
    "text": "that would break chat for reasons we really couldn't understand uh so at some point you need this function that takes",
    "start": "1581720",
    "end": "1587440"
  },
  {
    "text": "you somewhere else on this map and you know it may even be somewhere that starts off being not as good as where",
    "start": "1587440",
    "end": "1593760"
  },
  {
    "text": "you were before in fact it almost certainly is because you've optimized all kinds of business functions and software around what you've got um and",
    "start": "1593760",
    "end": "1601159"
  },
  {
    "text": "then you need to start this process over of climbing up this hill um but this is",
    "start": "1601159",
    "end": "1606360"
  },
  {
    "text": "actually a really dangerous this is dangerous isn't the right word it's a risky activity let me put it that way",
    "start": "1606360",
    "end": "1611960"
  },
  {
    "text": "and I it's because what I I describe the uh I describe as sharks the things in",
    "start": "1611960",
    "end": "1617840"
  },
  {
    "text": "production that like are pretty simple it seems like you could do better with fancy architecture but they work you know and",
    "start": "1617840",
    "end": "1624320"
  },
  {
    "text": "like the shark's been around for whatever however many million years pretty simple design you know there's a mouth and uh you know it poops and then",
    "start": "1624320",
    "end": "1632399"
  },
  {
    "text": "like everything just kind of goes through it swims around works pretty well you know I mean I think we're finally going to make these guys extinct",
    "start": "1632399",
    "end": "1638880"
  },
  {
    "text": "but it's taking a long time um not that that's a good thing I'm just kidding around",
    "start": "1638880",
    "end": "1644880"
  },
  {
    "text": "um but you know like these sharks are every everywhere in Facebook production I think like people I see it all the",
    "start": "1644880",
    "end": "1650559"
  },
  {
    "text": "time people come to Facebook and they're like oh my God this is crazy how does this you know like why why are you guys still doing this and the answer is like",
    "start": "1650559",
    "end": "1656799"
  },
  {
    "text": "well you know it works really well and changing it would be really expensive so that doesn't mean that we don't try it",
    "start": "1656799",
    "end": "1663000"
  },
  {
    "text": "just means that like it it's harder than it looks and when I think when we do go after these changes we have to go really",
    "start": "1663000",
    "end": "1670240"
  },
  {
    "text": "deep and so this is why you know product infrastructure is set up to like really rethink kind of fundamental things and",
    "start": "1670240",
    "end": "1677039"
  },
  {
    "text": "you know people yeah people tease me about you know like writing JavaScript libraries all the",
    "start": "1677039",
    "end": "1682600"
  },
  {
    "text": "time I'm a javascrip and I'm proud of it I'm not even going to apologize for that but uh but you know I do think that",
    "start": "1682600",
    "end": "1690320"
  },
  {
    "text": "like you we can we can have like pretty simple ideas about different ways to do",
    "start": "1690320",
    "end": "1695720"
  },
  {
    "text": "things uh that can really change that function that can put us on a different place on that conceptual map and to do",
    "start": "1695720",
    "end": "1702000"
  },
  {
    "text": "that you know I think we need to think really carefully about how we got where we are on the map and how we got where",
    "start": "1702000",
    "end": "1707640"
  },
  {
    "text": "we are on the the map is all about infrastructure it's all about the conceptual tools and the software tools",
    "start": "1707640",
    "end": "1713480"
  },
  {
    "text": "that were handed like from the moment we start to program you know starting with that Unix prompt or starting with a",
    "start": "1713480",
    "end": "1719799"
  },
  {
    "text": "description of the SQL language and and everything after that and I want to talk a little bit about infrastructure",
    "start": "1719799",
    "end": "1725880"
  },
  {
    "text": "because um you know we use this word infrastructure and it's kind of an analogy it's kind of It kind of really",
    "start": "1725880",
    "end": "1731039"
  },
  {
    "text": "is infrastructure at this point um this is what I think of when I think of infrastructure this is a Roman aqueduct",
    "start": "1731039",
    "end": "1736559"
  },
  {
    "text": "in France it's the P to guard uh and you know it's a projection of capabilities um this is did I say",
    "start": "1736559",
    "end": "1742880"
  },
  {
    "text": "aquifer I meant Aqueduct um and you know it's purpose is to take water from one place and and bring it somewhere else",
    "start": "1742880",
    "end": "1749120"
  },
  {
    "text": "right like from from a spring to the middle of a city or or a farm or something like that um it's a projection",
    "start": "1749120",
    "end": "1756039"
  },
  {
    "text": "of capability but the other thing that I think is really interesting about it is that it's an idea it's it's it's one",
    "start": "1756039",
    "end": "1763320"
  },
  {
    "text": "instance of the generalized idea of being able to have this capability of transporting water around it there are",
    "start": "1763320",
    "end": "1768440"
  },
  {
    "text": "many Roman aqueducts um and the other thing is you know the reason it's an",
    "start": "1768440",
    "end": "1773600"
  },
  {
    "text": "idea is that when the first person laid the first brick for this Aqueduct they",
    "start": "1773600",
    "end": "1779240"
  },
  {
    "text": "probably knew that they would not never see its completion they were able to project into that future you know it's an arrow pointing forward in time um",
    "start": "1779240",
    "end": "1786960"
  },
  {
    "text": "here's some here's some infrastructure that you know is a little more relevant this is sort of a generic communication",
    "start": "1786960",
    "end": "1792240"
  },
  {
    "text": "satellite but you know when we think of like when you text message your friend on the other side of the globe or",
    "start": "1792240",
    "end": "1797360"
  },
  {
    "text": "whatever you don't really think about this generalized capability we have of beaming Communications around but we all",
    "start": "1797360",
    "end": "1802919"
  },
  {
    "text": "rely on it and when we build software we we sort of expect that capability um now",
    "start": "1802919",
    "end": "1809159"
  },
  {
    "text": "when we get to software infrastructure we move into the realm of pure ideas and actually you know this I think makes",
    "start": "1809159",
    "end": "1815840"
  },
  {
    "text": "this point better than than those last two examples do which is that tcpip is",
    "start": "1815840",
    "end": "1821000"
  },
  {
    "text": "like one of my favorite examples of software infrastructure it's been really successful you know we would not all be sitting here without this thing and it's",
    "start": "1821000",
    "end": "1828200"
  },
  {
    "text": "an idea more than it's an implementation right there are libraries that implement tcpip but the cool thing about it is",
    "start": "1828200",
    "end": "1834360"
  },
  {
    "text": "that you could go sit down and write a new tcpip stack and you know exactly what to do because it's really well specified and you can hang out and talk",
    "start": "1834360",
    "end": "1841120"
  },
  {
    "text": "to everybody else on the internet um so first and foremost a piece of",
    "start": "1841120",
    "end": "1846320"
  },
  {
    "text": "infrastructure is a shared idea about how we're going to project capabilities",
    "start": "1846320",
    "end": "1851360"
  },
  {
    "text": "forward um even when we don't have them yet and if we take that as the",
    "start": "1851360",
    "end": "1857200"
  },
  {
    "text": "definition of structure we have to ask like well can you have a bad idea can you make a mistake in how you",
    "start": "1857200",
    "end": "1863960"
  },
  {
    "text": "think about this thing um and you know the answer is really clearly yes there's all these examples you know going back",
    "start": "1863960",
    "end": "1869840"
  },
  {
    "text": "to that Roman aqueduct it's lined with lead you know and people uh it seemed",
    "start": "1869840",
    "end": "1875159"
  },
  {
    "text": "like a good idea at the time right which is like well we need to smooth out the water flow so this is a really good substance for doing that um",
    "start": "1875159",
    "end": "1881679"
  },
  {
    "text": "archaeologists have shown that like the water coming out of that thing was 100 times uh more contaminated would lad",
    "start": "1881679",
    "end": "1888360"
  },
  {
    "text": "than the surrounding water so it was very clearly like poisoning its citizens even as it provided for water so we can",
    "start": "1888360",
    "end": "1894760"
  },
  {
    "text": "make mistakes with this and like this will point us in the wrong direction then you know people go crazy and they think that like the end of times is",
    "start": "1894760",
    "end": "1901120"
  },
  {
    "text": "coming or who knows what this did to the Roman Empire um now I'm going to go through a couple examples in software",
    "start": "1901120",
    "end": "1906960"
  },
  {
    "text": "that make me think the end of times is coming okay um I'm just kidding about that uh okay first example uh let's talk",
    "start": "1906960",
    "end": "1913720"
  },
  {
    "text": "about Sequel and I'm not going to go on a big nosql rant um I actually really like SQL I think it makes a ton of sense",
    "start": "1913720",
    "end": "1921039"
  },
  {
    "text": "um and it's really fun to pretend that like we're mathematicians and we can do like set calculus and stuff um but SQL",
    "start": "1921039",
    "end": "1929880"
  },
  {
    "text": "the part I want to focus on with SQL is not how we get data out of SQL but how we think about putting data into SQL and",
    "start": "1929880",
    "end": "1936679"
  },
  {
    "text": "SQL obviously has insert got to have that um but it's also got these update",
    "start": "1936679",
    "end": "1942240"
  },
  {
    "text": "and delete routines right like we think of the data in SQL as like just the data",
    "start": "1942240",
    "end": "1948120"
  },
  {
    "text": "see the data in our database is locked in time to where we are now so if we have a record you know and something",
    "start": "1948120",
    "end": "1954080"
  },
  {
    "text": "changes we're going to update it and if we remove that record we delete it and this made this was fine when",
    "start": "1954080",
    "end": "1960519"
  },
  {
    "text": "everybody was using one computer but you know now that's not the case at all anymore right so like you know this is",
    "start": "1960519",
    "end": "1966840"
  },
  {
    "text": "my SQL replication but every replication system works like this you can't like there's no meaning to update or delete",
    "start": "1966840",
    "end": "1973480"
  },
  {
    "text": "in a distributed system all you can do is tell someone like hey you should go update or delete this when you get this",
    "start": "1973480",
    "end": "1979000"
  },
  {
    "text": "message and in fact you know in a truly distributed system we may even update or",
    "start": "1979000",
    "end": "1984120"
  },
  {
    "text": "delete the same record and we have to kind of reconcile that or have an agreement about what we're going to do about that so like so SQL is a lie it it",
    "start": "1984120",
    "end": "1991519"
  },
  {
    "text": "can't happen in in a distributed system which almost everything these days is um",
    "start": "1991519",
    "end": "1997120"
  },
  {
    "text": "now I'm really happy to see that we're starting to move away from this way of thinking about things and you know I",
    "start": "1997120",
    "end": "2002600"
  },
  {
    "text": "think I've seen a few a bunch of speakers today talk about uh Apache Kafka and similar kind of log a pen",
    "start": "2002600",
    "end": "2009159"
  },
  {
    "text": "stores and I think this is actually a design that works right like you if you delete something you just write down",
    "start": "2009159",
    "end": "2014600"
  },
  {
    "text": "like okay Adam deleted this record and you don't show it to the user but you remember that like you know that's a",
    "start": "2014600",
    "end": "2020200"
  },
  {
    "text": "fact it can't change it's immutable um and that matches very well with like the way other good parts of our our computer",
    "start": "2020200",
    "end": "2028159"
  },
  {
    "text": "systems work now if that's the case let's go back to SQL for a second right",
    "start": "2028159",
    "end": "2033519"
  },
  {
    "text": "so this is actually all fine like SQ my SQL replication works okay you know it's not a big deal if you're Facebook",
    "start": "2033519",
    "end": "2040039"
  },
  {
    "text": "definitely causes problems and you know we need to get away from that but um here's where the problem comes right",
    "start": "2040039",
    "end": "2045840"
  },
  {
    "text": "like infrastructure is a is a projection it's a it's a forward Arrow so we take SQL which is this concept that people",
    "start": "2045840",
    "end": "2052599"
  },
  {
    "text": "understand and then we say like okay I've got an idea when you want to talk to a web service let's kind of mirror",
    "start": "2052599",
    "end": "2057638"
  },
  {
    "text": "that how you do it let's let's use HTTP rest and you can see rest really closely",
    "start": "2057639",
    "end": "2063240"
  },
  {
    "text": "mirror SQL and it kind of has the same idea about how we're going to think about resources we're going to um not",
    "start": "2063240",
    "end": "2068919"
  },
  {
    "text": "just add them but we'll be able to delete them and change them and um I hope I've made the argument that like in",
    "start": "2068919",
    "end": "2075520"
  },
  {
    "text": "a distributed systems these things just don't make that much sense they match our our intuitive notion of how these",
    "start": "2075520",
    "end": "2082839"
  },
  {
    "text": "things might work or how time seems to flow but it's not really what's happening behind the scenes and if we",
    "start": "2082839",
    "end": "2090118"
  },
  {
    "text": "give up this this match if we take away these um sort of conceptual underpinnings we have to ask like well",
    "start": "2090119",
    "end": "2097118"
  },
  {
    "text": "what could we differently you know how should this work and um it means that we",
    "start": "2097119",
    "end": "2102800"
  },
  {
    "text": "can kind of cross out this whole thing right like and people get really mad about this you know HTP rest is the",
    "start": "2102800",
    "end": "2108560"
  },
  {
    "text": "basis of the web and I it's been fine it's it's done fine you know I think we never really realize this uh hate OAS I",
    "start": "2108560",
    "end": "2117320"
  },
  {
    "text": "think that I'm saying it right um this idea of like a semantic web where you could like kind of literally understand",
    "start": "2117320",
    "end": "2122480"
  },
  {
    "text": "human knowledge by writing a WebCrawler hasn't quite panned out that way um but",
    "start": "2122480",
    "end": "2127720"
  },
  {
    "text": "you know it's I think it's time to let this go and there there are a couple of really practical reasons why this doesn't work that well if you're",
    "start": "2127720",
    "end": "2133760"
  },
  {
    "text": "especially if you're writing a mobile web client number one is that you end up over fetching right because like you've",
    "start": "2133760",
    "end": "2138800"
  },
  {
    "text": "defined a resource as everything we know about this person or this cat picture or whatever and so you can't avoid just",
    "start": "2138800",
    "end": "2145640"
  },
  {
    "text": "getting that unless you add in a lot of stuff to your rest implementation the other thing about rest that causes real",
    "start": "2145640",
    "end": "2151599"
  },
  {
    "text": "problems is that there aren't lists in rest or there are but they contain a bunch of uis which you then need to go",
    "start": "2151599",
    "end": "2158160"
  },
  {
    "text": "back and get each individual item for and you can work around this and people will redefine rest so that you can work",
    "start": "2158160",
    "end": "2163800"
  },
  {
    "text": "around these problems but you know I'm just sort of talking about like rest as you encounter it in the world which you",
    "start": "2163800",
    "end": "2169480"
  },
  {
    "text": "know I think undeniably has problems and so what you know we went on this process",
    "start": "2169480",
    "end": "2176960"
  },
  {
    "text": "of kind of figuring out what to do about rest and for a long time we just had these custom scripts that mobile apps",
    "start": "2176960",
    "end": "2182200"
  },
  {
    "text": "could call that our that our web pages could call those proved really hard to maintain and instead you know we of",
    "start": "2182200",
    "end": "2187960"
  },
  {
    "text": "converged on the specification for something we call graphql and if you haven't seen graphql it's worth a look",
    "start": "2187960",
    "end": "2193640"
  },
  {
    "text": "it's a query language over graphs uh that clients use to specify exactly the data they need and it can do multiple",
    "start": "2193640",
    "end": "2200160"
  },
  {
    "text": "traversals you know that that's in a nutshell that's what it is um I've got a link at the end of this presentation I",
    "start": "2200160",
    "end": "2206000"
  },
  {
    "text": "encourage you to check it out as I said I'm not going to go too deep into these implementations and more just tell you about why they exist um next example I",
    "start": "2206000",
    "end": "2214880"
  },
  {
    "text": "want to touch on really quickly which is another idea that we iner it from you know from the past it's a legacy idea",
    "start": "2214880",
    "end": "2221160"
  },
  {
    "text": "that I think we need to reexamine is is this model view controller architecture and if you got a chance to see um Ben",
    "start": "2221160",
    "end": "2227520"
  },
  {
    "text": "and Sam's talk rethinking MVC yesterday um they did a better job than I'm going to do of like kind of laying this thing",
    "start": "2227520",
    "end": "2234160"
  },
  {
    "text": "out but you know my take is that like model view controller was really about",
    "start": "2234160",
    "end": "2239599"
  },
  {
    "text": "like having a pretty hard to deal with guey and input device um rather than you",
    "start": "2239599",
    "end": "2245760"
  },
  {
    "text": "know having onclick right so like if you're reading Mouse input from a Serial line yes definitely let's keep that",
    "start": "2245760",
    "end": "2253800"
  },
  {
    "text": "implementation separate from like you know how we're going to deal with the records in our system um but guies are",
    "start": "2253800",
    "end": "2259720"
  },
  {
    "text": "much more sophisticated than that now they work at a pretty high level this kind of Separation causes problems",
    "start": "2259720",
    "end": "2265480"
  },
  {
    "text": "because we're holding state in two separate areas we've got a model which both gives and takes updates and a view",
    "start": "2265480",
    "end": "2272760"
  },
  {
    "text": "which both gives and takes updates and that is the definition of a synchronization problem and this would be pretty bad certainly hard to deal",
    "start": "2272760",
    "end": "2279760"
  },
  {
    "text": "with but what really makes it terrible is when you introduce a high latency server into this equation and now you",
    "start": "2279760",
    "end": "2285640"
  },
  {
    "text": "not only have synchronization on the client but you have asynchronous synchronization with the server um and",
    "start": "2285640",
    "end": "2291319"
  },
  {
    "text": "this causes no end of problems if you've written a big backbone or Ember app uh that uses collections I think you you",
    "start": "2291319",
    "end": "2297920"
  },
  {
    "text": "know you know that you can have this like proliferation of events that happen when you take an update especially if",
    "start": "2297920",
    "end": "2302960"
  },
  {
    "text": "you're trying to be optimistic you know if if the user hits delete on the client you just want to make that thing go away",
    "start": "2302960",
    "end": "2308480"
  },
  {
    "text": "before you hear back from the server that it's really gone and managing those kinds of updates gets really hairy uh so",
    "start": "2308480",
    "end": "2315680"
  },
  {
    "text": "at Facebook you know we sort of looked at this and we were having this problem this wasn't theoretical this was like",
    "start": "2315680",
    "end": "2320839"
  },
  {
    "text": "hey we have we're no longer able to update our ads app because um you know it's it's like too hard to think about",
    "start": "2320839",
    "end": "2327359"
  },
  {
    "text": "what's going to change when we change this event handler so um let's not do that you know let's just get rid of that",
    "start": "2327359",
    "end": "2333079"
  },
  {
    "text": "and replace it with something much more functional uh where up updates flow one",
    "start": "2333079",
    "end": "2338400"
  },
  {
    "text": "way through our system and this is this architecture pattern that we call flux and when people you know people ask me",
    "start": "2338400",
    "end": "2345560"
  },
  {
    "text": "about react and they sort of especially with react native people are like that's crazy you're going to make your mobile",
    "start": "2345560",
    "end": "2350640"
  },
  {
    "text": "apps Better by running JavaScript um I think that's all you know that's all that may be crazy I we'll see but uh I",
    "start": "2350640",
    "end": "2359040"
  },
  {
    "text": "think what we've shown is that this is a good architecture whether you buy into react and JavaScript or not this is a",
    "start": "2359040",
    "end": "2364599"
  },
  {
    "text": "good way to design your UI as a functional transformation between your model layer and your view",
    "start": "2364599",
    "end": "2371319"
  },
  {
    "text": "um almost done here uh so you know if you're me and like I I like to get weird",
    "start": "2371319",
    "end": "2377640"
  },
  {
    "text": "oh sorry huh I like I botched the reveal okay so the I picked two examples of our",
    "start": "2377640",
    "end": "2384359"
  },
  {
    "text": "product infrastructure these two particular ones even though they seem really disparate because they both exemplify something related and I think",
    "start": "2384359",
    "end": "2391119"
  },
  {
    "text": "this is actually really interesting which is that you know uh the reason why I think we need to question SE equal is",
    "start": "2391119",
    "end": "2397839"
  },
  {
    "text": "because there's this log based stream at the heart of our distributed systems and",
    "start": "2397839",
    "end": "2402880"
  },
  {
    "text": "the interesting thing to me is that there's a log based stream at the heart of flux as well the what we've done here",
    "start": "2402880",
    "end": "2408319"
  },
  {
    "text": "is we used this dispatcher if you look at the flux documentation to choke the",
    "start": "2408319",
    "end": "2413359"
  },
  {
    "text": "updates we take into the system into a single stream of messages and by doing",
    "start": "2413359",
    "end": "2418599"
  },
  {
    "text": "that we can make it easier to reason about the state of our application easier to test now why why are streams",
    "start": "2418599",
    "end": "2424960"
  },
  {
    "text": "so powerful why does that work in these different domains and I have an answer to this question this I promise you get",
    "start": "2424960",
    "end": "2430800"
  },
  {
    "text": "a little weird come with me we're almost done um and we can have a beer and talk about it what I think is missing and what I",
    "start": "2430800",
    "end": "2438040"
  },
  {
    "text": "think product infrastructure at Facebook represents is a third actor in the system so I described to you product",
    "start": "2438040",
    "end": "2445000"
  },
  {
    "text": "development which really comes at things from the point of view of the user and user requirements and I also described",
    "start": "2445000",
    "end": "2450440"
  },
  {
    "text": "infrastructure which comes from things uh from the point of view of capabilities and projecting these",
    "start": "2450440",
    "end": "2456240"
  },
  {
    "text": "capabilities forward but what's missing is the people who make the app all the people who work on this application and",
    "start": "2456240",
    "end": "2463359"
  },
  {
    "text": "have different concerns and roles and you know I think this goes really deep I",
    "start": "2463359",
    "end": "2468640"
  },
  {
    "text": "think this actually goes down to the bottom of like how we think and how we understand time um the first person to",
    "start": "2468640",
    "end": "2475079"
  },
  {
    "text": "really ask this question about like how do I perceive time and how do I react to",
    "start": "2475079",
    "end": "2480520"
  },
  {
    "text": "the world that I see around me was Renee day cart not the first person actually Plato and Aristotle did a bunch of this",
    "start": "2480520",
    "end": "2486440"
  },
  {
    "text": "but I decided not to go back that far um and and dart actually you know had this idea that like there's a guy in your",
    "start": "2486440",
    "end": "2493640"
  },
  {
    "text": "brain like a homunculus kind of perceiving the stimuli around you and",
    "start": "2493640",
    "end": "2499119"
  },
  {
    "text": "turning that into uh reality you know like that this is your sort of spiritual self that's disconnected from your body",
    "start": "2499119",
    "end": "2506319"
  },
  {
    "text": "and um this this kind of uh conception is remarkably like if you think about",
    "start": "2506319",
    "end": "2512079"
  },
  {
    "text": "how you think about who's in here um this is a remarkably powerful mental",
    "start": "2512079",
    "end": "2517520"
  },
  {
    "text": "model even though we can sort of show that has problems with it right like um one thing that we know is that the the",
    "start": "2517520",
    "end": "2524040"
  },
  {
    "text": "senses uh from your different sense organs arrive in your brain with different delays and yet we don't",
    "start": "2524040",
    "end": "2529160"
  },
  {
    "text": "perceive these delays even though they they are um perceptible and the reason is that we assemble a notion of time",
    "start": "2529160",
    "end": "2535560"
  },
  {
    "text": "that's really coherent even though that's not actually what's happening and there's this uh sort of new uh Theory Of",
    "start": "2535560",
    "end": "2542280"
  },
  {
    "text": "Consciousness relatively new you know we're talking 80s um there's this very modest book called",
    "start": "2542280",
    "end": "2547920"
  },
  {
    "text": "uh Consciousness explained it's by Daniel Dennett I really like it um but",
    "start": "2547920",
    "end": "2553079"
  },
  {
    "text": "uh it doesn't really explain Consciousness but it does like I think Advance the state-ofthe-art and one thing that he um he talks about is this",
    "start": "2553079",
    "end": "2559200"
  },
  {
    "text": "idea that like you know you're kind of cons constantly revising your notion of",
    "start": "2559200",
    "end": "2564480"
  },
  {
    "text": "what's happening right now you know you're projecting a little into the future and revising a little bit in the past to create this like pretty you know",
    "start": "2564480",
    "end": "2571319"
  },
  {
    "text": "it really feels like I'm here talking to all you guys and you're looking at me and stuff like that um who knows what's really happening though and if you if",
    "start": "2571319",
    "end": "2578839"
  },
  {
    "text": "you look at this diagram which is taken like right out of one of these texts uh this is a log based stream and I think",
    "start": "2578839",
    "end": "2584720"
  },
  {
    "text": "that's exactly kind of what's happening in our heads so I think I'm just about out of time but uh that's all I've got",
    "start": "2584720",
    "end": "2591400"
  },
  {
    "text": "um I encourage you to check out some of the software we've built I'd love to share beer with you out there",
    "start": "2591400",
    "end": "2598119"
  }
]