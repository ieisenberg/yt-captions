[
  {
    "start": "0",
    "end": "29000"
  },
  {
    "text": "[Music]",
    "start": "2550",
    "end": "6760"
  },
  {
    "text": "thank [Music] [Applause]",
    "start": "7759",
    "end": "15520"
  },
  {
    "text": "you hey Stockholm hello Stockholm um so",
    "start": "16760",
    "end": "21920"
  },
  {
    "text": "I'm here to talk to you about something that's actually pretty boring uh in most people's mind uh which is a",
    "start": "21920",
    "end": "28240"
  },
  {
    "text": "CDN uh Arthur Bergman uh long history of doing open source development uh and uh various large",
    "start": "28240",
    "end": "35840"
  },
  {
    "start": "29000",
    "end": "55000"
  },
  {
    "text": "websites for history uh and I'm actually from Stockholm I this commenting is",
    "start": "35840",
    "end": "40879"
  },
  {
    "text": "pretty funny people speak English to me I reply in Swedish and people keep speaking English to me um so after 13 years of not living",
    "start": "40879",
    "end": "48280"
  },
  {
    "text": "here I now realize how hard it must be to learn Swedish um so my the story really start",
    "start": "48280",
    "end": "53719"
  },
  {
    "text": "started in 2008 when I was of ikia where uh I decided uh somewhat foolishly that",
    "start": "53719",
    "end": "60000"
  },
  {
    "start": "55000",
    "end": "217000"
  },
  {
    "text": "we needed to build our own CDN um retrospect not that foolish and I took",
    "start": "60000",
    "end": "65040"
  },
  {
    "text": "two servers this check luggage and flew from San Francisco to London and built our first pop and that is a very",
    "start": "65040",
    "end": "72600"
  },
  {
    "text": "cost-effective way of moving servers between countries um not",
    "start": "72600",
    "end": "77960"
  },
  {
    "text": "recommended uh and uh in 2011 started fastly you're 5 years old headquarter in",
    "start": "77960",
    "end": "84520"
  },
  {
    "text": "San Francisco uh 270 employees and",
    "start": "84520",
    "end": "91920"
  },
  {
    "text": "why why a CDM so if you have an HTTP request my goal here is really to",
    "start": "92119",
    "end": "97640"
  },
  {
    "text": "convince you that if you have an HTP request going over the internet and you're not using a",
    "start": "97640",
    "end": "102920"
  },
  {
    "text": "CDM then either you are doing something wrong or we are not providing you the",
    "start": "102920",
    "end": "108280"
  },
  {
    "text": "service that you that we should and you can't use us right because I firmly believe that if you're sending an HTP",
    "start": "108280",
    "end": "114320"
  },
  {
    "text": "request over the Internet it should be using a CDM I'll go through why",
    "start": "114320",
    "end": "120960"
  },
  {
    "text": "so how many people here actively use cdms like not that many how many",
    "start": "120960",
    "end": "127520"
  },
  {
    "text": "programmatically interface with your CDN and so on that is depressingly few uh to most",
    "start": "127520",
    "end": "134560"
  },
  {
    "text": "people this is what a CDN is right it's a big black box that sits somewhere",
    "start": "134560",
    "end": "140239"
  },
  {
    "text": "between your servers and the end users and supposedly makes things faster but",
    "start": "140239",
    "end": "146800"
  },
  {
    "text": "you don't actually know what it does how it works um where your traffic is going",
    "start": "146800",
    "end": "151879"
  },
  {
    "text": "it's just one big black box right kind of like magic which is just a meaning",
    "start": "151879",
    "end": "157360"
  },
  {
    "text": "that you don't actually understand what's going on so it looks like magic to you it's not actually magic it's very",
    "start": "157360",
    "end": "163920"
  },
  {
    "text": "very simple it's a reverse proxy right we all know what reverse proxies are right like we use them we use elbs we",
    "start": "163920",
    "end": "171159"
  },
  {
    "text": "use F5s which are terrible we use a proxies squid whatever we use we use",
    "start": "171159",
    "end": "176480"
  },
  {
    "text": "reverse proxies all the time right they terminate our HP requests and they send traffic to our app",
    "start": "176480",
    "end": "183400"
  },
  {
    "text": "servers it's pretty standard architecture to have them involved right the only difference between a CDN",
    "start": "183400",
    "end": "191040"
  },
  {
    "text": "and a reverse proxy is that we have them all around the world that is really the only difference",
    "start": "191040",
    "end": "200640"
  },
  {
    "text": "right so if your client is in Tokyo they go to a reverse Pro in Tokyo that then",
    "start": "200640",
    "end": "206319"
  },
  {
    "text": "sends the request onwards to your app server in ec2 East but at fundamentally",
    "start": "206319",
    "end": "213879"
  },
  {
    "text": "all it is it's a reverse proxy it's also a reverse proxy with a big awesome amount of caching attached to it uh",
    "start": "213879",
    "end": "221920"
  },
  {
    "start": "217000",
    "end": "233000"
  },
  {
    "text": "which is is is key and I'll get into that later so this reverse proxy has to run",
    "start": "221920",
    "end": "229280"
  },
  {
    "text": "on something um what it runs on for us uh is pretty powerful machines uh I",
    "start": "229280",
    "end": "235560"
  },
  {
    "start": "233000",
    "end": "308000"
  },
  {
    "text": "heard the previous presenter talk about the loss of virtualization uh we don't virtualize",
    "start": "235560",
    "end": "241000"
  },
  {
    "text": "because loss of performance is just too too bad but it's kind of amazing right like one rack we can put 768 terabytes",
    "start": "241000",
    "end": "249360"
  },
  {
    "text": "of ssds right like it is a enormous amount of storage that we can deploy in a",
    "start": "249360",
    "end": "255400"
  },
  {
    "text": "fairly small um footprint at the edge and a lot of bandwidth that we then give",
    "start": "255400",
    "end": "262360"
  },
  {
    "text": "um access to everyone for so what happens when you use a CDN",
    "start": "262360",
    "end": "268280"
  },
  {
    "text": "you have a user the user goes to DNS server DNS server",
    "start": "268280",
    "end": "273720"
  },
  {
    "text": "tells the user go to CDM pop typically you have camed or some have delegated",
    "start": "273720",
    "end": "279960"
  },
  {
    "text": "that responsibility to CDN CDM pop gets the request if the CDM pop doesn't have",
    "start": "279960",
    "end": "285919"
  },
  {
    "text": "the request it goes back to origin and origin responds with the",
    "start": "285919",
    "end": "292000"
  },
  {
    "text": "object and we store it in the cache and then we return it to User it's very very simple",
    "start": "292000",
    "end": "300880"
  },
  {
    "text": "and if to cach it you don't actually have to go back to the",
    "start": "300880",
    "end": "306520"
  },
  {
    "text": "origin basically we're all used to using M cach red is whatever caching",
    "start": "306720",
    "end": "312400"
  },
  {
    "start": "308000",
    "end": "496000"
  },
  {
    "text": "technology we use inside our own data center but the CDN is really the same thing but outside and in a pass through",
    "start": "312400",
    "end": "319080"
  },
  {
    "text": "matter right so you don't give us content when the user request it we on",
    "start": "319080",
    "end": "324440"
  },
  {
    "text": "demand Lacy fill up uh with what what the user is requesting and we're close",
    "start": "324440",
    "end": "330880"
  },
  {
    "text": "to the user so then you know the standard complaint I hear is my content is private it's so special like it's",
    "start": "330880",
    "end": "338840"
  },
  {
    "text": "only served to one user um there's no way we can cach it it has pii blah blah",
    "start": "338840",
    "end": "344400"
  },
  {
    "text": "blah blah that's not usually true uh when you actually think about it most of your content is depending on your",
    "start": "344400",
    "end": "351560"
  },
  {
    "text": "application but most of it is actually sharable right it's just that typically you have really bad architectures that",
    "start": "351560",
    "end": "356840"
  },
  {
    "text": "mix and match private and non-private data into one payload and that makes it",
    "start": "356840",
    "end": "362319"
  },
  {
    "text": "hard so why should you care right traditional CDN have been owned by the",
    "start": "362319",
    "end": "367520"
  },
  {
    "text": "operations people it's been something you add on both on later and typically",
    "start": "367520",
    "end": "372919"
  },
  {
    "text": "they just make your life harder right they intercept your requests they cash they do weird things to them and as",
    "start": "372919",
    "end": "380080"
  },
  {
    "text": "developers and this is certainly me before I started a CDN um I actually always hated using",
    "start": "380080",
    "end": "387080"
  },
  {
    "text": "one like I knew it was an evil I had to deal with but not a something that",
    "start": "387080",
    "end": "392280"
  },
  {
    "text": "actually helped me so why should you care so the first reason is",
    "start": "392280",
    "end": "398319"
  },
  {
    "text": "performance right we all like performance uh this is a very uh simple",
    "start": "398319",
    "end": "405199"
  },
  {
    "text": "chart of what happens to your bounce rate is actually taken from Wikia when I was there um to your bounce rate when",
    "start": "405199",
    "end": "412199"
  },
  {
    "text": "when side performance goes down right so they jump from three uh second load time",
    "start": "412199",
    "end": "419720"
  },
  {
    "text": "to two seconds is 7 and a half to 20% bounce rate like that's pretty damn huge",
    "start": "419720",
    "end": "425720"
  },
  {
    "text": "and it's actually very early in the in the uh chart that you get most of the effect so why are things slow it's",
    "start": "425720",
    "end": "433919"
  },
  {
    "text": "latency uh latency is a measure of time delay experienced in a system the precise definition of it depends on the",
    "start": "433919",
    "end": "439759"
  },
  {
    "text": "system and the time being measured or waiting for right and latency adds up so when you have something latency",
    "start": "439759",
    "end": "446360"
  },
  {
    "text": "here you have some latency here and you you have to add it all up and you get something really bad fundamentally",
    "start": "446360",
    "end": "452039"
  },
  {
    "text": "though but cdns help you with it's a latency that you can't solve otherwise which is this which a speed of light",
    "start": "452039",
    "end": "458720"
  },
  {
    "text": "right no matter how hard you try it's going to take give or take 200 milliseconds for something from Europe",
    "start": "458720",
    "end": "466440"
  },
  {
    "text": "to reach Australia now it's 2/3 of that in fiber plus fiber doesn't actually follow the",
    "start": "466440",
    "end": "472879"
  },
  {
    "text": "the shortest path so no matter how fat how clever your code is no what you're doing fundamentally",
    "start": "472879",
    "end": "479960"
  },
  {
    "text": "you have to deal with that difference so you cash it locally the second is",
    "start": "479960",
    "end": "487360"
  },
  {
    "text": "security so we all want our sites to be secure what is this this is 160 GB per",
    "start": "487360",
    "end": "495639"
  },
  {
    "text": "second dos uh it happened very very quickly so",
    "start": "495639",
    "end": "501080"
  },
  {
    "start": "496000",
    "end": "739000"
  },
  {
    "text": "you can see the normal traffic starting up in the morning going then on",
    "start": "501080",
    "end": "506280"
  },
  {
    "text": "increasing traffic which was someone probing the network and then within 2 three minutes it goes from 20",
    "start": "506280",
    "end": "514279"
  },
  {
    "text": "gigs inbound to 160 gbits per second inbound right this is actually a pretty",
    "start": "514279",
    "end": "520080"
  },
  {
    "text": "small attack cdns implicitly because you send",
    "start": "520080",
    "end": "525839"
  },
  {
    "text": "all your traffic through them protect you against that right like and the only way to",
    "start": "525839",
    "end": "531680"
  },
  {
    "text": "fight the Dos is to have more capacity than your attacker so we provide layer free for DS",
    "start": "531680",
    "end": "538079"
  },
  {
    "text": "protection layer seven protection you can put in blocks you can analyze your traffic at the edge uh and then you can",
    "start": "538079",
    "end": "545399"
  },
  {
    "text": "put in rules for what you want to block what you know want to block what you want to um tarpet and so",
    "start": "545399",
    "end": "551360"
  },
  {
    "text": "on and the edge is important because if you look at like this is a normal traffic distribution for",
    "start": "551360",
    "end": "556560"
  },
  {
    "text": "us uh you can see that there's uh there's a fair amount of bandwidth going between Ashburn San Jose Ash Virginia",
    "start": "556560",
    "end": "565720"
  },
  {
    "text": "San Jose and Amsterdam which are our largest data centers and then there isn't actually that much traffic going",
    "start": "565720",
    "end": "571360"
  },
  {
    "text": "long distance because our entire purpose in life is to serve users that are close and then this",
    "start": "571360",
    "end": "577600"
  },
  {
    "text": "happens um so having been dsed a lot 95% from them are from China and I wish they",
    "start": "577600",
    "end": "584480"
  },
  {
    "text": "would just shut the fire wall off uh and not actually send us any more traffic uh because all of that was China right and",
    "start": "584480",
    "end": "592079"
  },
  {
    "text": "what's really frustrating with it is that they have this giant firewall so they know it's happening right they",
    "start": "592079",
    "end": "597600"
  },
  {
    "text": "inspect every single packet going over the wire and yet they're okay",
    "start": "597600",
    "end": "602959"
  },
  {
    "text": "letting like 200 million packets per second leave the country not enter so our ability to absorb that at",
    "start": "602959",
    "end": "611640"
  },
  {
    "text": "the edge far from where your data center is far from where your cloud provider is um is really powerful because it's the",
    "start": "611640",
    "end": "618279"
  },
  {
    "text": "only way to have enough capacity um to handle it it's also the only way to help",
    "start": "618279",
    "end": "623360"
  },
  {
    "text": "our isps handle it because they don't actually have enough capacity to backhole everything to certain region",
    "start": "623360",
    "end": "630399"
  },
  {
    "text": "right so like you will actually see saturation at multiple levels of the internet so largest attack we've seen",
    "start": "630399",
    "end": "636600"
  },
  {
    "text": "was about million sin sins per second and over 400 gbits per",
    "start": "636600",
    "end": "642120"
  },
  {
    "text": "second um how many people have been",
    "start": "642120",
    "end": "648160"
  },
  {
    "text": "dosed too many I'm sorry one of the things that's for me that's hardest with Doos it's to Outsource your emotional",
    "start": "648160",
    "end": "655240"
  },
  {
    "text": "burden when you have an outage when you deploy a bug when you do something wrong",
    "start": "655240",
    "end": "660600"
  },
  {
    "text": "like you made a mistake right you can write you can do a postmortem you can figure out what went wrong and you can",
    "start": "660600",
    "end": "666040"
  },
  {
    "text": "fix it um if a Dos there's actually an  sitting somewhere else in the world making your life miserable and",
    "start": "666040",
    "end": "672480"
  },
  {
    "text": "that's a huge difference from like the emotional burden uh of having to deal with that outage because you're trying",
    "start": "672480",
    "end": "678480"
  },
  {
    "text": "to fix something and you change a rule and then this or group of  discovered you changed it and",
    "start": "678480",
    "end": "684000"
  },
  {
    "text": "they attack you again and it's really really quite uh tiring when you're dealing with that day in and day",
    "start": "684000",
    "end": "690440"
  },
  {
    "text": "out the other is if it's actually cached if we can cach a page on the CDN it",
    "start": "690440",
    "end": "697120"
  },
  {
    "text": "doesn't actually matter if they're dsing it like if they want to fetch a page half a million times a second like go for it this is coming straight out of",
    "start": "697120",
    "end": "703519"
  },
  {
    "text": "like level free cash you know it's not actually hard final one is",
    "start": "703519",
    "end": "711920"
  },
  {
    "text": "availability so here's another chart which looks very much like adids right so it goes from one this is",
    "start": "715320",
    "end": "724839"
  },
  {
    "text": "multiple services but one customer um goes from about 10,000 request per second to Peaks close to 60,000 request",
    "start": "724839",
    "end": "732000"
  },
  {
    "text": "per second in less than 15 minutes what",
    "start": "732000",
    "end": "737079"
  },
  {
    "text": "this actually was was Prince died right and this is a new large new sites traffic um and what you see is going",
    "start": "737079",
    "end": "746120"
  },
  {
    "start": "739000",
    "end": "873000"
  },
  {
    "text": "from a total of about 16,000 RPS to 40,000 RPS this is one of the things where",
    "start": "746120",
    "end": "752000"
  },
  {
    "text": "doses are really hard to auto block because this looks exactly like a Dos suddenly there is like millions of new",
    "start": "752000",
    "end": "757399"
  },
  {
    "text": "clients all across the world hitting the site in a very very short fashion they",
    "start": "757399",
    "end": "763880"
  },
  {
    "text": "cashed everything so their Origins so no increasing traffic right like everything",
    "start": "763880",
    "end": "769399"
  },
  {
    "text": "was handled at the edge they never even noticed and you can't Auto scale that",
    "start": "769399",
    "end": "775279"
  },
  {
    "text": "right like you don't have enough time to Auto scale up in response for an event",
    "start": "775279",
    "end": "781240"
  },
  {
    "text": "like that and you have no way of predicting that event right so if you we do a lot of Super Bowl traffic that you",
    "start": "781240",
    "end": "786600"
  },
  {
    "text": "can also St you can scale up ahead for something like this you just can't and so if you have to compute the page and",
    "start": "786600",
    "end": "793279"
  },
  {
    "text": "deliver it it's game over if you can store it in cash and deliver it instantly like",
    "start": "793279",
    "end": "800920"
  },
  {
    "text": "140,000 request per second is actually not that",
    "start": "800920",
    "end": "805560"
  },
  {
    "text": "much we also support two really cool features want actually browser support which is stale while we validate uh but",
    "start": "805959",
    "end": "812800"
  },
  {
    "text": "also stale if error so if your origin goes down we keep serving whatever traffic we have or whatever content we",
    "start": "812800",
    "end": "819440"
  },
  {
    "text": "have so if you have an outage the CDN has the content no one should ever",
    "start": "819440",
    "end": "825600"
  },
  {
    "text": "notice uh we we had a customer email us in once and said um I took down I took",
    "start": "825600",
    "end": "831839"
  },
  {
    "text": "down our data center and the S is still working can you explain how I was like yeah it's because things work like they",
    "start": "831839",
    "end": "837959"
  },
  {
    "text": "should um availability wise also we have you know we have many isps all CDN have many",
    "start": "837959",
    "end": "844600"
  },
  {
    "text": "isps these are the ones that we use and we can actively Route Around problems so",
    "start": "844600",
    "end": "851240"
  },
  {
    "text": "Talia for example right now is running on like 40% capacity in Sweden of what they normally should um so we can stop",
    "start": "851240",
    "end": "858040"
  },
  {
    "text": "using them we can route around them uh and we also route between our own pups",
    "start": "858040",
    "end": "864360"
  },
  {
    "text": "continuously uh which path we think is best so if you can do things uh at the",
    "start": "864360",
    "end": "872000"
  },
  {
    "text": "edge you beat the speed of Life uh and you can defend uh against attacks Doses",
    "start": "872000",
    "end": "879199"
  },
  {
    "start": "873000",
    "end": "924000"
  },
  {
    "text": "and other security attacks as well so that's kind of fundamentally why",
    "start": "879199",
    "end": "885360"
  },
  {
    "text": "I think that if you're sending an HTP request over the internet and it's not going over a CDN it's not a very",
    "start": "885360",
    "end": "891360"
  },
  {
    "text": "valuable HTP request like it should be going over CDN if it has any value",
    "start": "891360",
    "end": "896959"
  },
  {
    "text": "whatsoever so you use this all the time um all of you all your build systems use us at least you also use all the sites",
    "start": "896959",
    "end": "904279"
  },
  {
    "text": "um but uh we support a lot of Open Source uh projects if you install any of",
    "start": "904279",
    "end": "909360"
  },
  {
    "text": "these package libraries that's actually coming from fastly um and if any of one of you are running an open source",
    "start": "909360",
    "end": "915639"
  },
  {
    "text": "project um we are always uh open to sponsoring them it's it's one of the few ways we feel that we can really easily",
    "start": "915639",
    "end": "921839"
  },
  {
    "text": "give back um developer tools um whenever you use GitHub for example um you",
    "start": "921839",
    "end": "929639"
  },
  {
    "start": "924000",
    "end": "977000"
  },
  {
    "text": "uh all of that traffic is coming through US gur Relic is actually a really interesting use case because for one of",
    "start": "929639",
    "end": "936720"
  },
  {
    "text": "the things they use us for is uh their mobile SDK so when a mobile SDK reports",
    "start": "936720",
    "end": "942160"
  },
  {
    "text": "performance metrics back to F back to New Relic it actually goes via fastly",
    "start": "942160",
    "end": "947199"
  },
  {
    "text": "that is not a typical CDN use case at all right there's no caching involved",
    "start": "947199",
    "end": "952399"
  },
  {
    "text": "all it is is it allows the phone it allows the client to negotiate a handshake much closer and then lets them",
    "start": "952399",
    "end": "958680"
  },
  {
    "text": "use very long running connections to us from us to them so they don't have to maintain a huge TLS infrastructure they",
    "start": "958680",
    "end": "965160"
  },
  {
    "text": "also get a nice speed",
    "start": "965160",
    "end": "968040"
  },
  {
    "text": "performance so even if your content isn't",
    "start": "970600",
    "end": "976160"
  },
  {
    "text": "cachable there is something called Dynamic site exploration and uh it",
    "start": "976720",
    "end": "981920"
  },
  {
    "start": "977000",
    "end": "1301000"
  },
  {
    "text": "actually does work the reason it works is this when you open a new connection",
    "start": "981920",
    "end": "987000"
  },
  {
    "text": "you s us in you get a sinac back so let's say you're 100",
    "start": "987000",
    "end": "992680"
  },
  {
    "text": "milliseconds each way from the server you now spend 200 milliseconds opening the CP connections you then send the TLs",
    "start": "992680",
    "end": "999639"
  },
  {
    "text": "handshake and you get the TLs handshake back so that's another 200 milliseconds you then send your request and you start",
    "start": "999639",
    "end": "1006480"
  },
  {
    "text": "getting your response back so you're up to 600 milliseconds before you starting",
    "start": "1006480",
    "end": "1011759"
  },
  {
    "text": "getting any data back assuming the server responds immediately of course and you're starting with a very very uh",
    "start": "1011759",
    "end": "1018040"
  },
  {
    "text": "slow TC connection because you start with a A initial congestion window of 10",
    "start": "1018040",
    "end": "1023079"
  },
  {
    "text": "and it will take a while well 200 milliseconds for per round trip for it to start uh opening up so you can",
    "start": "1023079",
    "end": "1029319"
  },
  {
    "text": "actually deliver bandwidth at a high speed so what if you have a CDN like this content is not cachable like",
    "start": "1029319",
    "end": "1035558"
  },
  {
    "text": "there's no way we can store it um that entire sequence happens to",
    "start": "1035559",
    "end": "1042319"
  },
  {
    "text": "CDN noes let's say 20 milliseconds away and then the CDN forwards the request",
    "start": "1042319",
    "end": "1048000"
  },
  {
    "text": "back to origin but that is already a pre-existing connection that's usually already very",
    "start": "1048000",
    "end": "1055480"
  },
  {
    "text": "open so you get a total transaction time of 320 millisecs until you get the first",
    "start": "1055480",
    "end": "1061120"
  },
  {
    "text": "bite back and you will typically get it back at a much higher rate Because the actual negotiation for the congestion",
    "start": "1061120",
    "end": "1068120"
  },
  {
    "text": "window based on roundtrip actually only happens between the client and the CDN",
    "start": "1068120",
    "end": "1074080"
  },
  {
    "text": "node which is only 20 milliseconds apart so the window the bandwidth um throughput will go up much much faster",
    "start": "1074080",
    "end": "1081039"
  },
  {
    "text": "right so even if there's no cashable content you will see a significant",
    "start": "1081039",
    "end": "1086679"
  },
  {
    "text": "performance Improvement just by sending the traffic through a CDM for a reverse proxy close to the user and you can go",
    "start": "1086679",
    "end": "1094640"
  },
  {
    "text": "in know sedexus and look at their DSA numbers they actually show the difference between a going directly to",
    "start": "1094640",
    "end": "1102280"
  },
  {
    "text": "origin and going through a CDN and so Brazil uh Brazil to to the US the",
    "start": "1102280",
    "end": "1109960"
  },
  {
    "text": "difference is roughly like 600 milliseconds between having to go directly and going for the",
    "start": "1109960",
    "end": "1117279"
  },
  {
    "text": "CDN a lot of a lot of content though is actually cashable right so when I",
    "start": "1118080",
    "end": "1123200"
  },
  {
    "text": "started fastly I was a Wikia and if you think of a Wiki page um they don't",
    "start": "1123200",
    "end": "1129360"
  },
  {
    "text": "actually change very often right so we have like 200 million Wiki Pages we get",
    "start": "1129360",
    "end": "1135799"
  },
  {
    "text": "X number of edits per day once the topic isn't active anymore it usually doesn't get an edit until it becomes active so",
    "start": "1135799",
    "end": "1143919"
  },
  {
    "text": "going back to origin and rendering each of those pages doesn't make",
    "start": "1143919",
    "end": "1150080"
  },
  {
    "text": "sense cashing them Clos to user is problematic if you risk having stale",
    "start": "1150200",
    "end": "1156240"
  },
  {
    "text": "data because if a user hits edit saves and it doesn't reflect that they get really up",
    "start": "1156240",
    "end": "1162000"
  },
  {
    "text": "upset right if you think of an e-commerce solution like inventory data and price data seems like it can change",
    "start": "1162000",
    "end": "1169760"
  },
  {
    "text": "you know can't be cashable but that's only if you can't actually invalidate it right like it's actually cashable",
    "start": "1169760",
    "end": "1176480"
  },
  {
    "text": "because it only changes when a trigger forces it to change that's true for a lot of uh",
    "start": "1176480",
    "end": "1183559"
  },
  {
    "text": "pieces of content out there especially we're seeing the trend right is that people are rewriting their apps to be",
    "start": "1183559",
    "end": "1190000"
  },
  {
    "text": "API driven both Progressive web apps from their s from their mobile apps and",
    "start": "1190000",
    "end": "1195320"
  },
  {
    "text": "they're splitting up the uh private and personal API calls and so the personal API call uh the sorry the public API",
    "start": "1195320",
    "end": "1203039"
  },
  {
    "text": "calls versus private ones the public ones become very easy to cash",
    "start": "1203039",
    "end": "1209159"
  },
  {
    "text": "um so we have some pretty awesome features to help you with this uh and",
    "start": "1209159",
    "end": "1214200"
  },
  {
    "text": "it's all about real time right because if you want to be able to use the CDN for that kind of content you have to trust it to actually allow you to deal",
    "start": "1214200",
    "end": "1221799"
  },
  {
    "text": "with that content so to actually invalidate uh if anyone's ever dealt with the the horrible thing that AWS",
    "start": "1221799",
    "end": "1228799"
  },
  {
    "text": "cloud front's invalidation is uh this is how easy it is to Val validate on path",
    "start": "1228799",
    "end": "1233880"
  },
  {
    "text": "right all you send is a purge The Purge HP verb too fastly and then typically",
    "start": "1233880",
    "end": "1239600"
  },
  {
    "text": "you will have an AAL um or API key and the content is gone it's 150 milliseconds to get rid uh all around",
    "start": "1239600",
    "end": "1246080"
  },
  {
    "text": "the world which is basically Network latency one way uh for the messages to",
    "start": "1246080",
    "end": "1251559"
  },
  {
    "text": "distribute and once you have that there's so much more you can cash right like what you thought you couldn't cash",
    "start": "1251559",
    "end": "1257240"
  },
  {
    "text": "because you now have the same control control on your internal on your external cach that's your internal right we also support CG key tag um",
    "start": "1257240",
    "end": "1265799"
  },
  {
    "text": "purging so you can tag HTP responses if you're making a collection with lots of objects just tag all the object IDs that",
    "start": "1265799",
    "end": "1272480"
  },
  {
    "text": "went into that collection you send one purge and every single object matching",
    "start": "1272480",
    "end": "1278880"
  },
  {
    "text": "that ID is gone so imager is one of our customers they tag every image uploaded",
    "start": "1278880",
    "end": "1285600"
  },
  {
    "text": "um with the user that uploaded it and then if a user wants to delete their 5",
    "start": "1285600",
    "end": "1290799"
  },
  {
    "text": "million images they send one cash in validation with that ID and all those images are gone so it Outsource the",
    "start": "1290799",
    "end": "1298159"
  },
  {
    "text": "cache dependency to us basically uh we have instant configuration takes about 5 Seconds to",
    "start": "1298159",
    "end": "1303720"
  },
  {
    "start": "1301000",
    "end": "1313000"
  },
  {
    "text": "deploy config if you have used varnish it's it's actually based on varnish you have access to",
    "start": "1303720",
    "end": "1310000"
  },
  {
    "text": "vcl when you move your traffic to the edge you also want to know what's going on um so your CDN should have and we do",
    "start": "1310000",
    "end": "1317760"
  },
  {
    "start": "1313000",
    "end": "1587000"
  },
  {
    "text": "have instant log files the uh one one of the things I've",
    "start": "1317760",
    "end": "1324520"
  },
  {
    "text": "learned is uh not keeping log files is extremely powerful because it means that when the government comes and asks for",
    "start": "1324520",
    "end": "1330840"
  },
  {
    "text": "them you can say I don't have them right it's the only acceptable way of not giving them to them is saying sorry we",
    "start": "1330840",
    "end": "1336960"
  },
  {
    "text": "don't have them and since it's not our log files we don't actually store any log files uh but we do provide a way for",
    "start": "1336960",
    "end": "1343400"
  },
  {
    "text": "customers to stream them off our servers as fast as possible uh and so we have you know you can feed it into your",
    "start": "1343400",
    "end": "1349799"
  },
  {
    "text": "analytics engine that then detects Bad actors and then uses the API to block Edge traffic at the edge you know in a",
    "start": "1349799",
    "end": "1356960"
  },
  {
    "text": "15sec loop um it's really powerful and we also provide real time",
    "start": "1356960",
    "end": "1362400"
  },
  {
    "text": "stats so you can kind of see um an example here this is actually the Mis",
    "start": "1362400",
    "end": "1367640"
  },
  {
    "text": "latency that we see to origin and this was a bad this is actually a bad code push from one of our customers and then",
    "start": "1367640",
    "end": "1373159"
  },
  {
    "text": "send us this so they could immediately see that their response rates response times started to go bad so it's",
    "start": "1373159",
    "end": "1379799"
  },
  {
    "text": "basically a programmatic edge right it replaces your firewall your low",
    "start": "1379799",
    "end": "1386600"
  },
  {
    "text": "balancer um and really gives you a tremendous amount",
    "start": "1386600",
    "end": "1392760"
  },
  {
    "text": "of power to work around problems to diagnose problems and to accelerate things from the edge um so for example",
    "start": "1392760",
    "end": "1400400"
  },
  {
    "text": "like we have plenty of customers who use us to low balance between different Cloud providers or they will do like a",
    "start": "1400400",
    "end": "1406200"
  },
  {
    "text": "they're migrating from one they'll do like a request to fre if the object isn't there they will retry it to Azure",
    "start": "1406200",
    "end": "1411520"
  },
  {
    "text": "like it's a very very common use case so thinking like trying to think",
    "start": "1411520",
    "end": "1418240"
  },
  {
    "text": "about how you would de do do uh architecturally if you had that kind of",
    "start": "1418240",
    "end": "1424200"
  },
  {
    "text": "power at the edge so I was at a customer a while ago and they actually a couple weeks ago and they they demoed this",
    "start": "1424200",
    "end": "1430440"
  },
  {
    "text": "really cool thing to me so they're currently migrating to a new architecture they want to be able to",
    "start": "1430440",
    "end": "1436080"
  },
  {
    "text": "have Services all around the world um there a Global newspaper with local",
    "start": "1436080",
    "end": "1441120"
  },
  {
    "text": "additions and the way they do it is this client comes to fastly fastly goes",
    "start": "1441120",
    "end": "1446799"
  },
  {
    "text": "through authentication Service which because they're pay wall um the",
    "start": "1446799",
    "end": "1451960"
  },
  {
    "text": "authentication Service responds to us they annotate the request um with",
    "start": "1451960",
    "end": "1458320"
  },
  {
    "text": "headers uh and they restart the request and they forward it to their segmentation service which does the AB",
    "start": "1458320",
    "end": "1463840"
  },
  {
    "text": "testing and all all the aspects around tracking segmentation service then responds too",
    "start": "1463840",
    "end": "1471880"
  },
  {
    "text": "fastly and we get the response they annotate it even more and then they",
    "start": "1471880",
    "end": "1477399"
  },
  {
    "text": "restart and actually go to the service that the user requested and that's they have services on on uh Google they have",
    "start": "1477399",
    "end": "1484360"
  },
  {
    "text": "services on AWS they have some in their own data centers um they have some third party services and then the response goes back",
    "start": "1484360",
    "end": "1491600"
  },
  {
    "text": "too fastly and back to the client now it's really cool with this architecture um from my point of view is",
    "start": "1491600",
    "end": "1497919"
  },
  {
    "text": "is too one the requests from the authentication Service and the segmentation service are",
    "start": "1497919",
    "end": "1503960"
  },
  {
    "text": "cashable two they don't actually allow their services to talk to each other except via um the frontend bus so",
    "start": "1503960",
    "end": "1512080"
  },
  {
    "text": "because they want to be able to move them uh between different providers and not have uh dependencies between them so",
    "start": "1512080",
    "end": "1518080"
  },
  {
    "text": "the API service literally relies only on headers that are signed given out by the",
    "start": "1518080",
    "end": "1524440"
  },
  {
    "text": "the other services to actually know what to do for this user the other cool thing is because this is",
    "start": "1524440",
    "end": "1530360"
  },
  {
    "text": "cached the these two authentication Service and segmentation service responses are cached the next time the",
    "start": "1530360",
    "end": "1535760"
  },
  {
    "text": "user comes you don't even go need to go to those services like you just go directly to the service you want and if",
    "start": "1535760",
    "end": "1541840"
  },
  {
    "text": "that service is cachable as well which it would be if it was a news article you don't actually have to go back to",
    "start": "1541840",
    "end": "1547080"
  },
  {
    "text": "origin right so you can really uh build pretty complicated and really really",
    "start": "1547080",
    "end": "1552840"
  },
  {
    "text": "fast systems now you say well I want to revoke user access well you just send a",
    "start": "1552840",
    "end": "1559600"
  },
  {
    "text": "ciruit key Purge for the user next time it comes through it will say I don't know who this is it will ask the",
    "start": "1559600",
    "end": "1565080"
  },
  {
    "text": "authentication server the indication server returns are denied and the request is denied and then you can cash that and so you've now offloaded your",
    "start": "1565080",
    "end": "1573080"
  },
  {
    "text": "your internal Services tremendously and giving the user a significantly better uh",
    "start": "1573080",
    "end": "1579559"
  },
  {
    "text": "experience running a CDN is a is it's pretty interesting um it's it's easy",
    "start": "1579880",
    "end": "1585360"
  },
  {
    "text": "from a conceptual level um if you look at a fallaces of distributed systems we",
    "start": "1585360",
    "end": "1590840"
  },
  {
    "start": "1587000",
    "end": "1621000"
  },
  {
    "text": "hit all of them really bad right network is not the internet is not reliable it's actually pretty terrible um",
    "start": "1590840",
    "end": "1597480"
  },
  {
    "text": "latency is really bad uh bandwidth is not infinite um Netflix U launched in",
    "start": "1597480",
    "end": "1604120"
  },
  {
    "text": "New Zealand a little while ago and immediately all bandwidth in New Zealand disappeared and you were getting like 2",
    "start": "1604120",
    "end": "1610039"
  },
  {
    "text": "kilobytes per second um the network is definitely not secure uh and there's many many administrators so that's what",
    "start": "1610039",
    "end": "1616960"
  },
  {
    "text": "we deal with right and there's very little of the Shelf software that works most of the",
    "start": "1616960",
    "end": "1622640"
  },
  {
    "start": "1621000",
    "end": "1930000"
  },
  {
    "text": "distributed system software out there uh assumes um couple of servers couple of",
    "start": "1622640",
    "end": "1628520"
  },
  {
    "text": "data centers that are fairly close by to each other and that you have reliable links",
    "start": "1628520",
    "end": "1634840"
  },
  {
    "text": "between as I said earlier our servers are pretty powerful so we also want to be able to scale up as po as wide but",
    "start": "1635200",
    "end": "1641399"
  },
  {
    "text": "the core Tech we use it's all open source right weuse H proxy uh H2O uh H2O",
    "start": "1641399",
    "end": "1647279"
  },
  {
    "text": "is pretty new it's written by by by a guy in Japan uh it's extremely fast hp1",
    "start": "1647279",
    "end": "1652480"
  },
  {
    "text": "and hp2 server uh and it's really really good code I'm I'm really excited about it uh varnish bird knot and Bas on auntu",
    "start": "1652480",
    "end": "1662279"
  },
  {
    "text": "and most of the code on the forwarding plane data plane is C most of the control code is rub go and most of the",
    "start": "1662279",
    "end": "1669159"
  },
  {
    "text": "API uh front side is rub networking so I absolutely hate uh",
    "start": "1669159",
    "end": "1676760"
  },
  {
    "text": "every single piece of custom built Hardware I've ever used right so I think F5 should die I think Cisco should stop",
    "start": "1676760",
    "end": "1683720"
  },
  {
    "text": "making and I think all firewalls are useless basically because they're the first thing that die in an attack",
    "start": "1683720",
    "end": "1689399"
  },
  {
    "text": "because they're so constrained so what we did is we we bought switches that run Linux if you ever dealt with a switch",
    "start": "1689399",
    "end": "1696720"
  },
  {
    "text": "you know they're pretty horrible from operating point of view when iist that you L Type bash and you have bash bash",
    "start": "1696720",
    "end": "1702240"
  },
  {
    "text": "and then you do yum install and you have like a package installed on it so we wrote Our Own code around aristas to do",
    "start": "1702240",
    "end": "1708679"
  },
  {
    "text": "what traditional these big Iron Hardwares uh do and then we've done a lot of work uh on coordination",
    "start": "1708679",
    "end": "1716080"
  },
  {
    "text": "Technologies we gave a talk a while ago and published some papers uh on bodal multicast which is how all the pops talk",
    "start": "1716080",
    "end": "1722720"
  },
  {
    "text": "to each other so it's a combination of a broadcasting uh multicast and a gossip",
    "start": "1722720",
    "end": "1729120"
  },
  {
    "text": "protocol for Recovery uh that works around all split brain situations uh and that's what it do we also rely heavily",
    "start": "1729120",
    "end": "1735480"
  },
  {
    "text": "on the CDN for our own configuration pushes our own deployments uh and our",
    "start": "1735480",
    "end": "1741360"
  },
  {
    "text": "own management uh and then uh we do use the cloud use Google and AWS for everything",
    "start": "1741360",
    "end": "1748480"
  },
  {
    "text": "that's not actually forwarding HTP requests so if you want to you can just",
    "start": "1748480",
    "end": "1753880"
  },
  {
    "text": "build your own it's pretty easy install varnish on a bunch of AWS machines and then uh use rout free to send traffic to",
    "start": "1753880",
    "end": "1761960"
  },
  {
    "text": "the closest user uh ideally we should do a better job that and you shouldn't have",
    "start": "1761960",
    "end": "1767559"
  },
  {
    "text": "to worry about uh but you should use something for your HTP requests thank",
    "start": "1767559",
    "end": "1774440"
  },
  {
    "text": "[Music] you so we have a few",
    "start": "1774650",
    "end": "1783240"
  },
  {
    "text": "questions um so question one um how do you deal with",
    "start": "1783240",
    "end": "1790080"
  },
  {
    "text": "https um painfully um think we use so we use H proxy we",
    "start": "1790080",
    "end": "1798840"
  },
  {
    "text": "have lots of certificates uh we have lots of private keys and we have automated systems for deploying them uh",
    "start": "1798840",
    "end": "1804840"
  },
  {
    "text": "and then but I don't know what the real meat of the question is though well I guess since the entire world is moving",
    "start": "1804840",
    "end": "1811799"
  },
  {
    "text": "to https this must be a real hurdle for you guys right it is a real hurdle um for",
    "start": "1811799",
    "end": "1819120"
  },
  {
    "text": "handling um though there things we have done that make it much better and there's been quite a lot of articles by",
    "start": "1819120",
    "end": "1824240"
  },
  {
    "text": "other people about it so for example one thing we do is we do a keep live to the browser for 10 minutes so and browsers",
    "start": "1824240",
    "end": "1830840"
  },
  {
    "text": "will actually keep connections open to a web server for 5 minutes even after you start surfing away from the site and",
    "start": "1830840",
    "end": "1836760"
  },
  {
    "text": "like that cut the handshakes by like 35% I think so we've done a lot of work around that but it so the problems you",
    "start": "1836760",
    "end": "1843360"
  },
  {
    "text": "see are mainly around speed it's about it's about handshake and it's about CPU usage and it's about uh how it behaves",
    "start": "1843360",
    "end": "1850640"
  },
  {
    "text": "on the packet loss okay uh what do you think about the recent developments in peer-to-peer",
    "start": "1850640",
    "end": "1856639"
  },
  {
    "text": "CDN uh I am I I don't actually know I haven't spent uh much time looking at it okay so",
    "start": "1856639",
    "end": "1865279"
  },
  {
    "text": "good so uh you made it quite clear that invalidating cashes uh it's quite easy",
    "start": "1865279",
    "end": "1871559"
  },
  {
    "text": "but it's also known to be one of the two hardest things in computer science right naming things and cash and validation",
    "start": "1871559",
    "end": "1877799"
  },
  {
    "text": "yep um do you have a lot of problems with customers needing support for that kind of thing uh we do I think one of",
    "start": "1877799",
    "end": "1885159"
  },
  {
    "text": "the more fun ones was this is a large news paper kept telling us that our Purge was",
    "start": "1885159",
    "end": "1890279"
  },
  {
    "text": "broken and uh took like two months of this intermittent problem until they",
    "start": "1890279",
    "end": "1895600"
  },
  {
    "text": "basically apologized and bought a little of beer because they were sending the cash invalidation before they committed",
    "start": "1895600",
    "end": "1901960"
  },
  {
    "text": "the change to database and we came back so fast that we got the old version right and so that happens fairly often",
    "start": "1901960",
    "end": "1910159"
  },
  {
    "text": "um and people are like invalidating things they don't know and so on um but yeah it is a hard problem okay thank you",
    "start": "1910159",
    "end": "1917519"
  },
  {
    "text": "thank you thanks everyone take care",
    "start": "1917519",
    "end": "1921919"
  }
]