[
  {
    "start": "0",
    "end": "40000"
  },
  {
    "text": "[Music]",
    "start": "960",
    "end": "8889"
  },
  {
    "text": "good morning and welcome to the first talk of the day I will be entertaining you for a little under an hour talking",
    "start": "13740",
    "end": "20760"
  },
  {
    "text": "about the the Gap that exists between code written by researchers and written",
    "start": "20760",
    "end": "26699"
  },
  {
    "text": "by software Developers I will explain this by also looking at two",
    "start": "26699",
    "end": "32940"
  },
  {
    "text": "examples from a product that I've been working on",
    "start": "32940",
    "end": "37399"
  },
  {
    "text": "and um as you saw and I'll show you some nice pictures as well so if you if it's",
    "start": "38579",
    "end": "45180"
  },
  {
    "start": "40000",
    "end": "113000"
  },
  {
    "text": "totally for you at least you can look at the pictures [Music]",
    "start": "45180",
    "end": "50280"
  },
  {
    "text": "my name is Linda I'm originally from office here in Denmark where I took my",
    "start": "50280",
    "end": "55800"
  },
  {
    "text": "degree in statistics and the last 20 years I've been working in the field",
    "start": "55800",
    "end": "61079"
  },
  {
    "text": "between statistics and software development and this field has since been called",
    "start": "61079",
    "end": "67860"
  },
  {
    "text": "data science and or data engineering depending on which which Focus you take",
    "start": "67860",
    "end": "74220"
  },
  {
    "text": "and the last few years I've had the privilege of leading a group of data",
    "start": "74220",
    "end": "80460"
  },
  {
    "text": "scientists in a Swiss company so I'll start by talking about this",
    "start": "80460",
    "end": "86280"
  },
  {
    "text": "company what we do our products then I'll present the problem to you or the",
    "start": "86280",
    "end": "92400"
  },
  {
    "text": "problem at I'm think I'm trying to solve with two examples and talk about what",
    "start": "92400",
    "end": "98880"
  },
  {
    "text": "Solutions we have taken to um to deal with these problems and of course there's always challenges",
    "start": "98880",
    "end": "105420"
  },
  {
    "text": "so I'll talk about those in the end together with the you can then get the chance to ask some questions",
    "start": "105420",
    "end": "112700"
  },
  {
    "start": "113000",
    "end": "447000"
  },
  {
    "text": "Ava is a Swiss company it was founded in 2014 and it's quite known in Switzerland",
    "start": "114560",
    "end": "123600"
  },
  {
    "text": "quite admired it has a lot of Awards in as a startup and also in med tech",
    "start": "123600",
    "end": "130500"
  },
  {
    "text": "this year it was acquired by a American company called fintech and we have",
    "start": "130500",
    "end": "137099"
  },
  {
    "text": "femtech health is a company consisting of a series of",
    "start": "137099",
    "end": "142620"
  },
  {
    "text": "companies all dealing with Women's Health everything around Women's Health",
    "start": "142620",
    "end": "147660"
  },
  {
    "text": "and then Eva is concerned about female reproductive health so we're working",
    "start": "147660",
    "end": "152879"
  },
  {
    "text": "with women's fertility we have a wearable device this is the",
    "start": "152879",
    "end": "158819"
  },
  {
    "text": "blue bracelet you see on the picture and this is worn by women during the",
    "start": "158819",
    "end": "164940"
  },
  {
    "text": "night and it collects physiological signals so it collects the heart rate the heart rate variability temperature",
    "start": "164940",
    "end": "171720"
  },
  {
    "text": "breathing rate perfusion sleep rate every 10 seconds we have around 200 000 users on the app",
    "start": "171720",
    "end": "179040"
  },
  {
    "text": "and they each collect one million data points every night so if you multiply a few numbers you can",
    "start": "179040",
    "end": "185940"
  },
  {
    "text": "see that we're not short on data and all and all all of these data we",
    "start": "185940",
    "end": "191879"
  },
  {
    "text": "have built different apps the first app that was in the market in 2016 here in",
    "start": "191879",
    "end": "198180"
  },
  {
    "text": "Europe is a fertility app so it's helping women to get pregnant",
    "start": "198180",
    "end": "203340"
  },
  {
    "text": "and last year was also approved by the FDA in U.S",
    "start": "203340",
    "end": "209599"
  },
  {
    "text": "then we have a been working the last couple of years on the contraception app",
    "start": "209599",
    "end": "215180"
  },
  {
    "text": "helping women to avoid pregnancy and also during covid we took a little bit",
    "start": "215180",
    "end": "221159"
  },
  {
    "text": "of a detour where we looked at early detection of Coit based on the same bracelet based on the",
    "start": "221159",
    "end": "227459"
  },
  {
    "text": "same signals but obviously not just for women also for men",
    "start": "227459",
    "end": "232640"
  },
  {
    "text": "so how does this all work well then the ovulation is occurring once per",
    "start": "234000",
    "end": "241560"
  },
  {
    "text": "cycle so on the x-axis here you see the time so this is one cycle and around in",
    "start": "241560",
    "end": "247200"
  },
  {
    "text": "the middle a woman has her ovulation but it's actually the days before the ovulation where she can get pregnant so",
    "start": "247200",
    "end": "253560"
  },
  {
    "text": "the five six days before the ovulation which is marked here by Green is the day",
    "start": "253560",
    "end": "258600"
  },
  {
    "text": "where she can actually get pregnant so these are the days that we are trying to predict coming from the other end so we",
    "start": "258600",
    "end": "266160"
  },
  {
    "text": "are not after the ovulation has happened it is rather easy but actually working",
    "start": "266160",
    "end": "272040"
  },
  {
    "text": "in real time we want to detect when is the Fertile days coming up",
    "start": "272040",
    "end": "277380"
  },
  {
    "text": "and since this is controlled by hormones and since hormones also influence everything else going on in the body",
    "start": "277380",
    "end": "284419"
  },
  {
    "text": "there's also a change in the physiological signals during the cycle",
    "start": "284419",
    "end": "289979"
  },
  {
    "text": "in a woman and this these chances are what we are using in order to predict the fertile",
    "start": "289979",
    "end": "296880"
  },
  {
    "text": "window coming up um so for example it's well known that the temperature rises slightly after the",
    "start": "296880",
    "end": "302580"
  },
  {
    "text": "ovulation but of course temperature alone is not enough because we want to predict it before not after so we're",
    "start": "302580",
    "end": "308759"
  },
  {
    "text": "using all of the signals and how they work together so as you can understand there is a lot",
    "start": "308759",
    "end": "314520"
  },
  {
    "text": "of research a lot of medical research going on in this field um it's",
    "start": "314520",
    "end": "320120"
  },
  {
    "text": "quite it's it's all new it's not been done before we have been doing a lot of clinical trials together with a lot of",
    "start": "320120",
    "end": "327600"
  },
  {
    "text": "different research institutions and also when we put something on the market we need to test it first and also after we",
    "start": "327600",
    "end": "335039"
  },
  {
    "text": "put it on the market in order to find out that it's still doing the right thing so",
    "start": "335039",
    "end": "340919"
  },
  {
    "text": "a lot of medical research a lot of clinical trials and of course to make it",
    "start": "340919",
    "end": "346139"
  },
  {
    "text": "work as a product in an app we have to apply a lot of machine learning so",
    "start": "346139",
    "end": "352139"
  },
  {
    "text": "there's a lot of signal processing a lot of modeling neural networks and of course",
    "start": "352139",
    "end": "359639"
  },
  {
    "text": "we have to deal with the very noisy data at times so we have to accommodate for",
    "start": "359639",
    "end": "365880"
  },
  {
    "text": "that as well for example when a woman is is ill her temperature rises we have to",
    "start": "365880",
    "end": "371160"
  },
  {
    "text": "accommodate for that or when she has been out drinking the night before her pulse is slightly heavily elevated and",
    "start": "371160",
    "end": "380280"
  },
  {
    "text": "also if if she has to do a big presentation in the morning then she might also be slightly stressed out the",
    "start": "380280",
    "end": "386460"
  },
  {
    "text": "night before so all of this of course we have to to accommodate for and my point is I don't want to talk",
    "start": "386460",
    "end": "393479"
  },
  {
    "text": "more about algorithms now or or the methods that we're using but I want to",
    "start": "393479",
    "end": "398580"
  },
  {
    "text": "point out that this is a very research heavy area so the people that work here tend to be",
    "start": "398580",
    "end": "404220"
  },
  {
    "text": "more towards the the type of researchers than to watch data science or data",
    "start": "404220",
    "end": "410580"
  },
  {
    "text": "Engineers software Developers",
    "start": "410580",
    "end": "414439"
  },
  {
    "text": "and so when you want to when you want to put quotes written by researchers into",
    "start": "416340",
    "end": "421860"
  },
  {
    "text": "production it can be quite difficult while I did my research for this talk I",
    "start": "421860",
    "end": "427259"
  },
  {
    "text": "found this quote on the internet that one of the hardest part of machine learning is effect effectively putting",
    "start": "427259",
    "end": "433680"
  },
  {
    "text": "models in production and I find that very true and a lot of people agree with that",
    "start": "433680",
    "end": "440160"
  },
  {
    "text": "that is a very tough problem and that is the problem that I",
    "start": "440160",
    "end": "445319"
  },
  {
    "text": "want to talk about today so I'll start with two examples from the",
    "start": "445319",
    "end": "451380"
  },
  {
    "start": "447000",
    "end": "455000"
  },
  {
    "text": "contraception app that we were working on so first of all in the beginning of last",
    "start": "451380",
    "end": "457020"
  },
  {
    "start": "455000",
    "end": "568000"
  },
  {
    "text": "year we wanted to reprocess all of our data files so this picture you see here",
    "start": "457020",
    "end": "462539"
  },
  {
    "text": "you can't see that clearly but don't worry about it it's not important x-axis is time the different y-axis are the",
    "start": "462539",
    "end": "470699"
  },
  {
    "text": "different levels of the signals and this represents one five of course it's not a picture file but it's",
    "start": "470699",
    "end": "476580"
  },
  {
    "text": "actually signals in a file so we need to to pass a file we need to split it",
    "start": "476580",
    "end": "481979"
  },
  {
    "text": "because it might be this is one nights of data but it might be several nights of data so we need to split it into the",
    "start": "481979",
    "end": "488220"
  },
  {
    "text": "different sleep events we need to filter the data and we need to extract some interesting features",
    "start": "488220",
    "end": "493500"
  },
  {
    "text": "that we can actually put into our models because working on the raw data will just be too much so we extract features",
    "start": "493500",
    "end": "501240"
  },
  {
    "text": "from it and we need to assess the quality and to do this we have in production we",
    "start": "501240",
    "end": "508259"
  },
  {
    "text": "have a python module that that do this all this processing and the existing solution that was set",
    "start": "508259",
    "end": "515520"
  },
  {
    "text": "up was to take this python code and rewrite it and let it run on spark on",
    "start": "515520",
    "end": "522959"
  },
  {
    "text": "AWS and the reason I don't think that's a very good solution is that spark is it",
    "start": "522959",
    "end": "530220"
  },
  {
    "text": "has it's its own language so you have to rewrite the code and we implement the solution which",
    "start": "530220",
    "end": "537600"
  },
  {
    "text": "means that you then then have two parallel Solutions one for production and one for when you want to repost the",
    "start": "537600",
    "end": "543240"
  },
  {
    "text": "data so what we did instead the obvious thing is to take the python module and run it",
    "start": "543240",
    "end": "550260"
  },
  {
    "text": "in parallel on AWS of course that then introduce some other",
    "start": "550260",
    "end": "555720"
  },
  {
    "text": "challenges you have to build some some infrastructure around it in order to to",
    "start": "555720",
    "end": "560940"
  },
  {
    "text": "run it in parallel but at least we're not re-implementing code anymore",
    "start": "560940",
    "end": "566839"
  },
  {
    "start": "568000",
    "end": "722000"
  },
  {
    "text": "then the second problem was after we have after we had all our",
    "start": "568140",
    "end": "573540"
  },
  {
    "text": "data we wanted to retrain our model so it was a neural network in tensorflow",
    "start": "573540",
    "end": "579839"
  },
  {
    "text": "and the model itself was not the problem it's it's okay the way it's packaged",
    "start": "579839",
    "end": "586440"
  },
  {
    "text": "um but what was the problem was the data handling because in order to run a tensorflow",
    "start": "586440",
    "end": "592500"
  },
  {
    "text": "model you have to to reformat the data in a way that tensorflow can understand it",
    "start": "592500",
    "end": "598320"
  },
  {
    "text": "you have to normalize the data and you have to filter data so between nights",
    "start": "598320",
    "end": "604440"
  },
  {
    "text": "there might be as I told you before there might be a night where you have a hangover so you need you want to filter",
    "start": "604440",
    "end": "609480"
  },
  {
    "text": "this this data out and it's called out light section",
    "start": "609480",
    "end": "615060"
  },
  {
    "text": "and also then finally when you get a result from the tensorflow model you want to to reformat it and put it into",
    "start": "615060",
    "end": "621600"
  },
  {
    "text": "the the output again and this code was simply scattered all",
    "start": "621600",
    "end": "627420"
  },
  {
    "text": "over the place all over the the training scripts and in the same when we looked",
    "start": "627420",
    "end": "634380"
  },
  {
    "text": "at the production code it was also all over the place so it was very difficult to follow this",
    "start": "634380",
    "end": "640800"
  },
  {
    "text": "code it was very difficult to maintain it and almost impossible to extend it to",
    "start": "640800",
    "end": "646620"
  },
  {
    "text": "do something new and to replace the model for example this is a well-known problem it's called",
    "start": "646620",
    "end": "652560"
  },
  {
    "text": "glue code and it's defined as supporting code for getting data in and out of",
    "start": "652560",
    "end": "658560"
  },
  {
    "text": "generic ml packages some people have been calculating how much this this code is and and came up",
    "start": "658560",
    "end": "666120"
  },
  {
    "text": "with a number of 95 in typical uh ml Scripts",
    "start": "666120",
    "end": "671519"
  },
  {
    "text": "and it's considered an answer pattern and as I said this was training and when",
    "start": "671519",
    "end": "679500"
  },
  {
    "text": "we looked at the production code exactly the same thing scattered all over the place and it was very difficult to to",
    "start": "679500",
    "end": "685500"
  },
  {
    "text": "prove that it was the same code that was implemented in the training and in the production code that is what takes the",
    "start": "685500",
    "end": "692040"
  },
  {
    "text": "data handling was actually doing the same thing we were spending quite a long time trying to prove that that outlier",
    "start": "692040",
    "end": "697740"
  },
  {
    "text": "detection was doing the same thing so again we have this problem with",
    "start": "697740",
    "end": "703560"
  },
  {
    "text": "re-implementation of code so two is just identified we have the",
    "start": "703560",
    "end": "711180"
  },
  {
    "text": "glue code the code that was used for getting",
    "start": "711180",
    "end": "716279"
  },
  {
    "text": "data in and out of email packages and we have this re-implementation of code and yeah you can see the solution is",
    "start": "716279",
    "end": "724260"
  },
  {
    "start": "722000",
    "end": "2131000"
  },
  {
    "text": "just to write good code right it's for example don't repeat yourself just reuse",
    "start": "724260",
    "end": "730019"
  },
  {
    "text": "code but then of course who should be writing this code that can be reused",
    "start": "730019",
    "end": "737160"
  },
  {
    "text": "and also it's it doesn't stop there as you saw in the first example we might also need to have some additional",
    "start": "737160",
    "end": "743820"
  },
  {
    "text": "infrastructure to run something in parallel for example and we haven't been talking about",
    "start": "743820",
    "end": "749100"
  },
  {
    "text": "experimentation with code at all this is just training something that exists and and",
    "start": "749100",
    "end": "754500"
  },
  {
    "text": "running something in production but actually when you want to experiment with code you have to do it in quite a",
    "start": "754500",
    "end": "760140"
  },
  {
    "text": "different manner so let's look at that experimentation what exactly do researchers do when they experiment",
    "start": "760140",
    "end": "769040"
  },
  {
    "text": "um so you the scientists often use different tools for example there's one called",
    "start": "770040",
    "end": "776279"
  },
  {
    "text": "ubita notebook which you see an example of here in the screen it's um it's an interactive tool you",
    "start": "776279",
    "end": "782760"
  },
  {
    "text": "write one line of code and you click return and then you get your results you",
    "start": "782760",
    "end": "788160"
  },
  {
    "text": "can look at the result you can run the same line of code again on the data after it's been modified explore the",
    "start": "788160",
    "end": "795000"
  },
  {
    "text": "data plot the data change a little bit go up and change the script and run it again on the same data so it's it's",
    "start": "795000",
    "end": "801899"
  },
  {
    "text": "quite messy there's no one single path you can basically do whatever you want in whatever order you want",
    "start": "801899",
    "end": "808079"
  },
  {
    "text": "and so it's it's a it can become quite uh difficult to follow it's an iterative",
    "start": "808079",
    "end": "814980"
  },
  {
    "text": "approach and a lot of trial and error and that means that we end up with a lot",
    "start": "814980",
    "end": "820380"
  },
  {
    "text": "of different Paths of code and a different a lot of alternative lines of",
    "start": "820380",
    "end": "825720"
  },
  {
    "text": "code that can do different things and often you also have to work together",
    "start": "825720",
    "end": "832320"
  },
  {
    "text": "with the other tools such as tensorboard if you want what would like to do some training of tensorflow models",
    "start": "832320",
    "end": "840779"
  },
  {
    "text": "and also one thing to to notice aside from the iterative approach that we need",
    "start": "840779",
    "end": "846720"
  },
  {
    "text": "to take is that scientists are typically generalists so they really like this one solution fits all right really really",
    "start": "846720",
    "end": "853620"
  },
  {
    "text": "really long scripts where you can change the different different parameters and",
    "start": "853620",
    "end": "858839"
  },
  {
    "text": "and get all sorts of settings and use this script for basically everything",
    "start": "858839",
    "end": "864920"
  },
  {
    "text": "which means that it's not specific to solving one single problem but might be reused again and again on different",
    "start": "864959",
    "end": "871560"
  },
  {
    "text": "things especially when you're talking about the data handling that you want to do different models and you but you",
    "start": "871560",
    "end": "877200"
  },
  {
    "text": "always want to do data handling but sometimes in slightly different ways because you want to normalize",
    "start": "877200",
    "end": "882660"
  },
  {
    "text": "differently do outline the section differently scale your parameters or something like that",
    "start": "882660",
    "end": "889880"
  },
  {
    "text": "so what happens when we want to move research code into production what are the differences between these two",
    "start": "890399",
    "end": "896639"
  },
  {
    "text": "different these two kinds of code and what are the consequences of these differences",
    "start": "896639",
    "end": "902040"
  },
  {
    "text": "well as I said research code needs to be very flexible and usually it is and usually it can do",
    "start": "902040",
    "end": "908279"
  },
  {
    "text": "almost everything whereas in production code you want to have something specialized to solve exactly the problem",
    "start": "908279",
    "end": "914279"
  },
  {
    "text": "that you have which means that you have a lot of redundant code that you have to get rid of",
    "start": "914279",
    "end": "921300"
  },
  {
    "text": "also research code you're usually using it manually so you one person sits in",
    "start": "921300",
    "end": "927779"
  },
  {
    "text": "front of a script and executes it often line by line but executes it and sits over it and and know exactly what's",
    "start": "927779",
    "end": "935160"
  },
  {
    "text": "going on and can can deal with all sorts of things that happens whereas in production you need to run a script",
    "start": "935160",
    "end": "941220"
  },
  {
    "text": "automated you want to have repeated usage so you have to focus on stability",
    "start": "941220",
    "end": "947820"
  },
  {
    "text": "um exception handling and unit testing in order to make it work but you don't have to do that when",
    "start": "947820",
    "end": "953760"
  },
  {
    "text": "you're writing a research code and research code is typically used by one person whereas a production code",
    "start": "953760",
    "end": "960660"
  },
  {
    "text": "it's or used by one person or sometimes a group of persons but then at least they work",
    "start": "960660",
    "end": "967199"
  },
  {
    "text": "very closely together and create their own code whereas the production code can be used by or Can Be Touched by a lot of",
    "start": "967199",
    "end": "974040"
  },
  {
    "text": "different people and therefore researchers when they write resource",
    "start": "974040",
    "end": "979500"
  },
  {
    "text": "code don't necessarily follow best practices for writing code",
    "start": "979500",
    "end": "984560"
  },
  {
    "text": "and also this row by row execution that we for example saw with the hubitzer notebook",
    "start": "985019",
    "end": "990620"
  },
  {
    "text": "means that you don't necessarily have to follow use object oriented programming",
    "start": "990620",
    "end": "996959"
  },
  {
    "text": "or follow any design patterns when you're writing code or else that you typically do in",
    "start": "996959",
    "end": "1002600"
  },
  {
    "text": "production and research code is mostly Standalone",
    "start": "1002600",
    "end": "1008420"
  },
  {
    "text": "code it can of course it needs to get data in it needs sometimes to work with tensorflow but in principle it doesn't",
    "start": "1008420",
    "end": "1015079"
  },
  {
    "text": "have to interact other than with the person that sits between it it doesn't have to interact with anything in an",
    "start": "1015079",
    "end": "1021320"
  },
  {
    "text": "automated way whereas a piece of production code sits inside of a system and has to interact with the rest of the",
    "start": "1021320",
    "end": "1027319"
  },
  {
    "text": "system so the interfaces to the rest of the system needs to be clearly identified",
    "start": "1027319",
    "end": "1032480"
  },
  {
    "text": "and clean and also when another point with the",
    "start": "1032480",
    "end": "1039740"
  },
  {
    "text": "with data is that in in research you work with very large data data sets so",
    "start": "1039740",
    "end": "1045678"
  },
  {
    "text": "when we want to do anything in in training for example we need to use the",
    "start": "1045679",
    "end": "1051679"
  },
  {
    "text": "whole data set all the Knights of all the women that we have whereas in production we just take one",
    "start": "1051679",
    "end": "1057740"
  },
  {
    "text": "single night from one single woman so instead of of uh of looking at all the",
    "start": "1057740",
    "end": "1063799"
  },
  {
    "text": "data that we have we're only looking at one single data point and therefore data handling is also",
    "start": "1063799",
    "end": "1070100"
  },
  {
    "text": "quite different and that also has consequences with how you parallelize your code because in in",
    "start": "1070100",
    "end": "1078440"
  },
  {
    "text": "when you do research you want to First do things in",
    "start": "1078440",
    "end": "1083840"
  },
  {
    "text": "in Syria in series in serialized first you want to get all your data then you",
    "start": "1083840",
    "end": "1091100"
  },
  {
    "text": "want to train and within the training you want to parallelize it so you want to do the parallelizing within the",
    "start": "1091100",
    "end": "1097280"
  },
  {
    "text": "scripts whereas in your production code you have one script that typically runs",
    "start": "1097280",
    "end": "1102380"
  },
  {
    "text": "very fast and you do the parallelizing outside of it which means that the structure of your code is also very",
    "start": "1102380",
    "end": "1109280"
  },
  {
    "text": "different and the way you optimize your code",
    "start": "1109280",
    "end": "1114280"
  },
  {
    "text": "so I've been talking about these two different environments um and I'll come back to the slide a few",
    "start": "1115160",
    "end": "1121520"
  },
  {
    "text": "times so I made it green so you can recognize it um on the left hand side we have the",
    "start": "1121520",
    "end": "1128360"
  },
  {
    "text": "experimentation um platform or side of things and in on",
    "start": "1128360",
    "end": "1134240"
  },
  {
    "text": "the right hand side here we have the production so I have painted a lot of",
    "start": "1134240",
    "end": "1139760"
  },
  {
    "text": "of little boxes but typically it's not different scripts that do these things",
    "start": "1139760",
    "end": "1145840"
  },
  {
    "text": "often it's it's the scripts that touch on all of these things so a little bit",
    "start": "1145840",
    "end": "1151280"
  },
  {
    "text": "of signal analysis a little bit of data mining a little bit of data manipulation all in one big script",
    "start": "1151280",
    "end": "1157340"
  },
  {
    "text": "and then when you want to move this to production you take bits and pieces from all of",
    "start": "1157340",
    "end": "1164059"
  },
  {
    "text": "these parts that you need and then you move a very little part of it to sit somewhere in your system so that's the",
    "start": "1164059",
    "end": "1171020"
  },
  {
    "text": "green box over here take a little bit of the machine learning code from over there and implement it in production",
    "start": "1171020",
    "end": "1176780"
  },
  {
    "text": "and around the machine learning codes it's a lot of other code some of its",
    "start": "1176780",
    "end": "1182240"
  },
  {
    "text": "test and debug I made this light green you can see it says in debug logging and data handling touches slightly on the",
    "start": "1182240",
    "end": "1190039"
  },
  {
    "text": "machine learning code but the rest of it doesn't so there's a lot of code sitting around",
    "start": "1190039",
    "end": "1196039"
  },
  {
    "text": "the machine learning code so let's first look at what we can do with that code",
    "start": "1196039",
    "end": "1203500"
  },
  {
    "text": "so this picture looks very much like it it's from a research paper from from Google from 2015 where they talk about",
    "start": "1204140",
    "end": "1212179"
  },
  {
    "text": "hidden technical debt in machine learning systems and they also call glucose and the there's two different",
    "start": "1212179",
    "end": "1219500"
  },
  {
    "text": "kinds of glucose that's one we talked about before with machine learning getting data in and out of of ml",
    "start": "1219500",
    "end": "1226580"
  },
  {
    "text": "packages and the other one is known from software development is to to connect",
    "start": "1226580",
    "end": "1232240"
  },
  {
    "text": "incompatible components and typically it doesn't contribute towards your",
    "start": "1232240",
    "end": "1237919"
  },
  {
    "text": "requirements so that's a lot of the other boxes sitting around",
    "start": "1237919",
    "end": "1243340"
  },
  {
    "text": "so let's look at this glue code who should implement this glue code should we let",
    "start": "1244360",
    "end": "1250340"
  },
  {
    "text": "researchers Implement their own code in production and where this might be some good idea",
    "start": "1250340",
    "end": "1257660"
  },
  {
    "text": "sometimes I would generally say not really because",
    "start": "1257660",
    "end": "1262940"
  },
  {
    "text": "they don't have a big interest in it then they probably would have become data developer the software developments",
    "start": "1262940",
    "end": "1269960"
  },
  {
    "text": "instead and also they probably don't have any skills in this area",
    "start": "1269960",
    "end": "1275240"
  },
  {
    "text": "and they should really just focus on what they're good at research modeling data processing",
    "start": "1275240",
    "end": "1281480"
  },
  {
    "text": "should we then let software developers build this code and here the quest the answer is always",
    "start": "1281480",
    "end": "1288380"
  },
  {
    "text": "it depends so what type of code are we talking about are we talking about the software glue then absolutely yes",
    "start": "1288380",
    "end": "1295039"
  },
  {
    "text": "there's no reason that a data scientist should deal with security of a system for example",
    "start": "1295039",
    "end": "1301159"
  },
  {
    "text": "and if we're talking about the machine learning glue then probably not because if you have to lift your code from from",
    "start": "1301159",
    "end": "1309440"
  },
  {
    "text": "what was implemented in from by the researchers to the to the production",
    "start": "1309440",
    "end": "1314659"
  },
  {
    "text": "code again as I said before you end up with parallel parallel implementation of",
    "start": "1314659",
    "end": "1319940"
  },
  {
    "text": "it you have can have hard time proving that it does the same thing and that really",
    "start": "1319940",
    "end": "1326659"
  },
  {
    "text": "serves us your time to Market suffers from that so let me talk about what we did with",
    "start": "1326659",
    "end": "1334159"
  },
  {
    "text": "the first type of glue code in in Ava so this is our architecture on a very high level so we have the bracelet over there",
    "start": "1334159",
    "end": "1341380"
  },
  {
    "text": "where we collect physiological data there's some firmware sitting on it so",
    "start": "1341380",
    "end": "1346520"
  },
  {
    "text": "it sends where via Bluetooth it sends the signals to a mobile phone and here the user can also log other",
    "start": "1346520",
    "end": "1354080"
  },
  {
    "text": "things like hangover and menstruation obviously and all of this gets sent to",
    "start": "1354080",
    "end": "1359419"
  },
  {
    "text": "the to the back end the back end then deals with all the communication",
    "start": "1359419",
    "end": "1365380"
  },
  {
    "text": "user access security data handling and all the business Logic for example when",
    "start": "1365380",
    "end": "1370400"
  },
  {
    "text": "the user get needs to get a send a notification in the app telling to have something to lock today",
    "start": "1370400",
    "end": "1377379"
  },
  {
    "text": "um the back end calls different modules the green ones over here one for",
    "start": "1377480",
    "end": "1383440"
  },
  {
    "text": "processing the signals that was the one I talked about before one for processing the logs that the user enters in the",
    "start": "1383440",
    "end": "1390679"
  },
  {
    "text": "mobile phone and finally the one that actually puts this together and predicts when is the ovulation or when is the",
    "start": "1390679",
    "end": "1397580"
  },
  {
    "text": "Fertile days coming up and all of this first part of it is not",
    "start": "1397580",
    "end": "1403159"
  },
  {
    "text": "really anything to do with machine learning so we have split it up in different team we",
    "start": "1403159",
    "end": "1409340"
  },
  {
    "text": "have a firmware team that deals with a bracelet the software and the bracelet a mobile team that deals with the UI",
    "start": "1409340",
    "end": "1416900"
  },
  {
    "text": "and then the back-end team is overarching basically everything",
    "start": "1416900",
    "end": "1422600"
  },
  {
    "text": "um and of course Underneath It All We Have devops handling all of our infrastructure to run our application",
    "start": "1422600",
    "end": "1429200"
  },
  {
    "text": "and infrastructure for developing our our applications as well and the last part of it is where the",
    "start": "1429200",
    "end": "1436640"
  },
  {
    "text": "data science team has their domain so we deal with the the modules for for",
    "start": "1436640",
    "end": "1444260"
  },
  {
    "text": "everything that has anything to do with with the data or data handling or",
    "start": "1444260",
    "end": "1450140"
  },
  {
    "text": "um algorithms and we also write in a different language than the other we",
    "start": "1450140",
    "end": "1455720"
  },
  {
    "text": "write in Python so this one sits in a universe by themselves work as",
    "start": "1455720",
    "end": "1461000"
  },
  {
    "text": "microservices know nothing about state they're stateless they know",
    "start": "1461000",
    "end": "1466820"
  },
  {
    "text": "nothing about what what the context there have been called from the interfaces to the rest of the system are",
    "start": "1466820",
    "end": "1473539"
  },
  {
    "text": "very clearly defined and so if we change this picture a",
    "start": "1473539",
    "end": "1480500"
  },
  {
    "text": "little bit so this was where we came from so our implementation of it looks like this we have separated everything",
    "start": "1480500",
    "end": "1488360"
  },
  {
    "text": "that needs to get get something from from the left hand side is separated in",
    "start": "1488360",
    "end": "1494659"
  },
  {
    "text": "its own modules with clear interfaces to the rest of the system",
    "start": "1494659",
    "end": "1500500"
  },
  {
    "text": "and we also went a step further so we looked at the the modules that was",
    "start": "1502100",
    "end": "1508580"
  },
  {
    "text": "written by the the data science team and looked at what similarities were between these modules that also has nothing to",
    "start": "1508580",
    "end": "1515600"
  },
  {
    "text": "do with with ML code so we have since it's a Kafka queue we have connection to",
    "start": "1515600",
    "end": "1521900"
  },
  {
    "text": "Kafka we have input output of the Json file that it receives from Kafka we have",
    "start": "1521900",
    "end": "1529580"
  },
  {
    "text": "logging and monitoring we have unit testing Docker and Jenkins integration and setup of the whole modules so all of",
    "start": "1529580",
    "end": "1538279"
  },
  {
    "text": "these things we could take out of the the code and put them into some shared libraries which is the pink box you see",
    "start": "1538279",
    "end": "1545600"
  },
  {
    "text": "here so returning to the picture we now have separated some of the code",
    "start": "1545600",
    "end": "1552100"
  },
  {
    "text": "some more of the glue we have put out in this this module that is shared",
    "start": "1552100",
    "end": "1559179"
  },
  {
    "text": "and now we want to talk about the last part of it so how we get all of this",
    "start": "1559940",
    "end": "1566059"
  },
  {
    "text": "code from over here onto this side so this has to do with the running of",
    "start": "1566059",
    "end": "1573799"
  },
  {
    "text": "training of the models and running the models when they have been trained so",
    "start": "1573799",
    "end": "1578960"
  },
  {
    "text": "ideally we should have some sort of platform sitting somewhere where we can do experimentation and an evaluation of our",
    "start": "1578960",
    "end": "1586940"
  },
  {
    "text": "models that should result in some trained models that are have the same format and",
    "start": "1586940",
    "end": "1593299"
  },
  {
    "text": "can just be configured to be put into the the production code ideally and luckily for",
    "start": "1593299",
    "end": "1601100"
  },
  {
    "text": "us there are tools out there to handle this and tools for managing the machine",
    "start": "1601100",
    "end": "1608480"
  },
  {
    "text": "learning life cycle so the machine learning life life cycle is the the cycle I showed here where you start with",
    "start": "1608480",
    "end": "1614720"
  },
  {
    "text": "the collecting the data then you want to prepare your data explore the data to",
    "start": "1614720",
    "end": "1619940"
  },
  {
    "text": "find a model that you can use and then train that model when you have found it",
    "start": "1619940",
    "end": "1625760"
  },
  {
    "text": "test and evaluate that your model is doing what it's supposed to do deployed in production run it in production and",
    "start": "1625760",
    "end": "1633380"
  },
  {
    "text": "monitor that it's doing the right thing collect more data and then do it all again to improve your models so this is",
    "start": "1633380",
    "end": "1640580"
  },
  {
    "text": "called the machine learning life cycle and the tools out there the two most popular are called Cube flow and ml flow",
    "start": "1640580",
    "end": "1647659"
  },
  {
    "text": "kubeflow is from Google and email flow is from data breaks since kubeflow is from Google obviously",
    "start": "1647659",
    "end": "1654440"
  },
  {
    "text": "it runs with tensorflow and tensorflow's own language called tensorflow extended",
    "start": "1654440",
    "end": "1663080"
  },
  {
    "text": "mlflow is basically just python so you can do anything you want to do there in Python",
    "start": "1663080",
    "end": "1669440"
  },
  {
    "text": "Cube flow is pipeline based and mlflow is experimentation based and what that means we shall I'll come back to in a in",
    "start": "1669440",
    "end": "1677059"
  },
  {
    "text": "a few slides and that means that mflow focuses on",
    "start": "1677059",
    "end": "1683059"
  },
  {
    "text": "tracking experiments where Cube flow is more from managing very complex machine",
    "start": "1683059",
    "end": "1688340"
  },
  {
    "text": "learning systems and as the name indicates kubeflow runs",
    "start": "1688340",
    "end": "1693980"
  },
  {
    "text": "on kubernetes and it's considered to be very very difficult to to",
    "start": "1693980",
    "end": "1699860"
  },
  {
    "text": "set up and maintain or handle for for just data scientists like me",
    "start": "1699860",
    "end": "1707240"
  },
  {
    "text": "and also can be run very easily locally on your machine or you can put it up on",
    "start": "1707240",
    "end": "1713779"
  },
  {
    "text": "a cloud when when you're more mature",
    "start": "1713779",
    "end": "1717940"
  },
  {
    "text": "so that means that we now have our ammo flow what's which was this platform for experimentation for",
    "start": "1719360",
    "end": "1726559"
  },
  {
    "text": "developing training evaluation comparing different models the ml flow comes with a built-in model",
    "start": "1726559",
    "end": "1733880"
  },
  {
    "text": "registry where you every time you train a model that gets stored to this model registry and by just calling an ID you can get",
    "start": "1733880",
    "end": "1742580"
  },
  {
    "text": "that into your production environment of course it's not that easy because you",
    "start": "1742580",
    "end": "1748279"
  },
  {
    "text": "have to make sure that the code and in by in experimentation and in in training",
    "start": "1748279",
    "end": "1756740"
  },
  {
    "text": "if you're doing some custom models that you invent yourself which we do not just",
    "start": "1756740",
    "end": "1762860"
  },
  {
    "text": "use the standard ones then you have to make sure that these models are known to both systems and also the way you want",
    "start": "1762860",
    "end": "1769700"
  },
  {
    "text": "to handle your data and we have even gone a step further we wanted to evaluate the whole system so",
    "start": "1769700",
    "end": "1775700"
  },
  {
    "text": "we also made that possible to evaluate that in mnflu",
    "start": "1775700",
    "end": "1781960"
  },
  {
    "text": "this is how it looks like this is the desktop of or the dashboard for ML flow",
    "start": "1782059",
    "end": "1789500"
  },
  {
    "text": "and every single line is a experiment so here we have uh try we have a trained",
    "start": "1789500",
    "end": "1796940"
  },
  {
    "text": "a model you see here on the models there's a link so we have trained a model several times",
    "start": "1796940",
    "end": "1803240"
  },
  {
    "text": "we have trained it with different parameters and then we have different metrics that we have measured that we",
    "start": "1803240",
    "end": "1808460"
  },
  {
    "text": "want to compare these different models by so for every model we we have a fully",
    "start": "1808460",
    "end": "1814399"
  },
  {
    "text": "inside we know exactly how it was trained that we can click on the the",
    "start": "1814399",
    "end": "1820820"
  },
  {
    "text": "link and come to a page where it's exactly described what the input was when it was trained and if we have",
    "start": "1820820",
    "end": "1827240"
  },
  {
    "text": "stored any artifacts in this case we have made a a plots that we have a histogram that we",
    "start": "1827240",
    "end": "1836120"
  },
  {
    "text": "wanted to to show and also you if you click on the model itself you go directly to the model",
    "start": "1836120",
    "end": "1842120"
  },
  {
    "text": "registry and you can explore your models um so so this is really good for",
    "start": "1842120",
    "end": "1848320"
  },
  {
    "text": "experimentation you have this model registry and the biggest Advantage is of",
    "start": "1848320",
    "end": "1853520"
  },
  {
    "text": "course that we have a reproducibility so we know exactly we can do this again if",
    "start": "1853520",
    "end": "1859340"
  },
  {
    "text": "somebody asks us to run exactly this model again we know how it was run with what data with what parameters",
    "start": "1859340",
    "end": "1867260"
  },
  {
    "text": "and the best thing is that it's really easy to deploy the train model",
    "start": "1867260",
    "end": "1872899"
  },
  {
    "text": "because this is how it looks like the code so this directory here is the Stone",
    "start": "1872899",
    "end": "1880100"
  },
  {
    "text": "model by mlflow everything is done automatically um in the ml ml model file you see",
    "start": "1880100",
    "end": "1888220"
  },
  {
    "text": "the model path that the model itself was stored in a pickled file and you see",
    "start": "1888220",
    "end": "1894980"
  },
  {
    "text": "that the serialization format is also given that it was serialized using Cloud pickle",
    "start": "1894980",
    "end": "1900260"
  },
  {
    "text": "we have which module we should use to load the model",
    "start": "1900260",
    "end": "1905779"
  },
  {
    "text": "in production in this case it's ml flow SK loan and also which version of SK",
    "start": "1905779",
    "end": "1912559"
  },
  {
    "text": "learn we used and also the rest which python version did we use and all the environment and",
    "start": "1912559",
    "end": "1919539"
  },
  {
    "text": "requirements are stored in in files in this lab in this folder as well",
    "start": "1919539",
    "end": "1926059"
  },
  {
    "text": "and in order to unify everything so that we always have the same format we follow",
    "start": "1926059",
    "end": "1932299"
  },
  {
    "text": "the the pattern from scikit-learn which is a well-known library for doing",
    "start": "1932299",
    "end": "1939740"
  },
  {
    "text": "machine learning and you have if you if you here we are",
    "start": "1939740",
    "end": "1945340"
  },
  {
    "text": "extending this um this um object called",
    "start": "1945340",
    "end": "1951200"
  },
  {
    "text": "um class called base estimator and by that you have to implement a fit function a fit function is for training",
    "start": "1951200",
    "end": "1958159"
  },
  {
    "text": "your model A predict function is when you have a trained model and you want to get a prediction of it so by these two",
    "start": "1958159",
    "end": "1965000"
  },
  {
    "text": "functions we can train in the experimentation side and we can predict on the on in production",
    "start": "1965000",
    "end": "1972559"
  },
  {
    "text": "and we also get all the other advantages with them um",
    "start": "1972559",
    "end": "1978880"
  },
  {
    "text": "with the SK learn we have all sorts of different models for example the random Forest classifier we have",
    "start": "1979279",
    "end": "1986919"
  },
  {
    "text": "all sorts of Ensemble methods we can use for example the bagging classifier we",
    "start": "1986919",
    "end": "1994220"
  },
  {
    "text": "have hyper parameter search we have scaling we have and the most important",
    "start": "1994220",
    "end": "1999500"
  },
  {
    "text": "thing is the pipeline which we have used which means that you put together the",
    "start": "1999500",
    "end": "2005559"
  },
  {
    "text": "way you handle your data and your model so the example here you can see this",
    "start": "2005559",
    "end": "2011140"
  },
  {
    "text": "pipeline consists of as a data smoother so first the signals is smoothed and",
    "start": "2011140",
    "end": "2017740"
  },
  {
    "text": "afterwards it's been put into a model this case this model is defined up there it's also even a",
    "start": "2017740",
    "end": "2025360"
  },
  {
    "text": "great search around it so a pipeline like everything else in sklearn is is",
    "start": "2025360",
    "end": "2031899"
  },
  {
    "text": "also does also have this fit function so here it's been fitted and when we then it's stored to the model",
    "start": "2031899",
    "end": "2039640"
  },
  {
    "text": "um registry and then we can just load it into to production and we're sure that",
    "start": "2039640",
    "end": "2044919"
  },
  {
    "text": "we get the same smoother the same model everything is set up exactly the same",
    "start": "2044919",
    "end": "2050560"
  },
  {
    "text": "same way in experimentation as it is in production",
    "start": "2050560",
    "end": "2056098"
  },
  {
    "text": "so where did that leave us now we changed the left hand side we have",
    "start": "2058899",
    "end": "2064658"
  },
  {
    "text": "this ml flow platform where we are experimenting we have the model registry",
    "start": "2064659",
    "end": "2070020"
  },
  {
    "text": "and both the ml flow and our modules are calling the same",
    "start": "2070020",
    "end": "2075179"
  },
  {
    "text": "libraries for models for defining the models and for data handling",
    "start": "2075179",
    "end": "2080858"
  },
  {
    "text": "and the model is stored in this registry and just picked up by the the",
    "start": "2080859",
    "end": "2086080"
  },
  {
    "text": "production Scripts so that that was it the just to",
    "start": "2086080",
    "end": "2093280"
  },
  {
    "text": "reiterate first we took out a lot of the glucose by separating everything in the",
    "start": "2093280",
    "end": "2099940"
  },
  {
    "text": "system that has nothing to do with with the data science at all then we took out some that has touching",
    "start": "2099940",
    "end": "2106780"
  },
  {
    "text": "the data science and put it into a reusable module and then we finally took",
    "start": "2106780",
    "end": "2112839"
  },
  {
    "text": "and implemented this useless ml flow framework in order to share code between",
    "start": "2112839",
    "end": "2119820"
  },
  {
    "text": "production and and experimentation and to",
    "start": "2119820",
    "end": "2125820"
  },
  {
    "text": "share the code as well and get easy access to the models",
    "start": "2125820",
    "end": "2131880"
  },
  {
    "start": "2131000",
    "end": "2284000"
  },
  {
    "text": "and I also said that there's still remaining challenges this looks very very nice but",
    "start": "2132400",
    "end": "2139359"
  },
  {
    "text": "you can still build a big big mess there's nobody is enforcing on you that",
    "start": "2139540",
    "end": "2145060"
  },
  {
    "text": "you should like we have done use a nice structured way of",
    "start": "2145060",
    "end": "2150400"
  },
  {
    "text": "implementing everything that you separate all the code you can you can still do whatever you want build",
    "start": "2150400",
    "end": "2155980"
  },
  {
    "text": "whatever Python scripts you want to do in in ml flow it doesn't stop you from",
    "start": "2155980",
    "end": "2161140"
  },
  {
    "text": "building a mess still I've been in the for I've been very fortunate that I worked together with a",
    "start": "2161140",
    "end": "2167140"
  },
  {
    "text": "data scientists who are very skilled in programming and also very eager to to do",
    "start": "2167140",
    "end": "2172900"
  },
  {
    "text": "it the right way so so it's not been a problem but if you if you don't have if you don't",
    "start": "2172900",
    "end": "2178780"
  },
  {
    "text": "have that luxury it can be very tough because a lot of resources still really",
    "start": "2178780",
    "end": "2185260"
  },
  {
    "text": "do not want to go down this path they want to use ubital notebook still they want to use different tools",
    "start": "2185260",
    "end": "2192220"
  },
  {
    "text": "um and it's really outside their core competences even to write something",
    "start": "2192220",
    "end": "2197380"
  },
  {
    "text": "as complicated as the quote I just showed you and of course they would need a lot of",
    "start": "2197380",
    "end": "2203859"
  },
  {
    "text": "training and support but still some researchers will never go down this path",
    "start": "2203859",
    "end": "2209500"
  },
  {
    "text": "and aside from that you still need the software develops to develop the rest of",
    "start": "2209500",
    "end": "2215500"
  },
  {
    "text": "the system you still need machine learning Engineers to help you set up all the different parts you can handle",
    "start": "2215500",
    "end": "2221320"
  },
  {
    "text": "yourself or write the python code and so there's still other skills needed than just data scientists in this setup",
    "start": "2221320",
    "end": "2229900"
  },
  {
    "text": "um and then of course you can ask what oh yeah and I forgot to say it doesn't",
    "start": "2229900",
    "end": "2235720"
  },
  {
    "text": "solve all the problems the first problem I presented to you retraining the the data is not covered by this framework",
    "start": "2235720",
    "end": "2242020"
  },
  {
    "text": "but we are doing it sort of the same idea by reusing the code",
    "start": "2242020",
    "end": "2247960"
  },
  {
    "text": "and what what is the solution then I mean you could argue that it might be agile and I think that's a very good",
    "start": "2247960",
    "end": "2255099"
  },
  {
    "text": "approach that you actually put together the people with the different skills the different Comfort zones together in one",
    "start": "2255099",
    "end": "2262180"
  },
  {
    "text": "team and that them implement this together pairing up writing code together and",
    "start": "2262180",
    "end": "2268119"
  },
  {
    "text": "also when you have multiple projects that are working on the same",
    "start": "2268119",
    "end": "2273220"
  },
  {
    "text": "platform you want to have people working on different projects in order to make sure that the code actually stays the",
    "start": "2273220",
    "end": "2279640"
  },
  {
    "text": "same that you do don't do parallel implementations of things",
    "start": "2279640",
    "end": "2284460"
  },
  {
    "start": "2284000",
    "end": "2305000"
  },
  {
    "text": "so that's all from me thank you very much for listening",
    "start": "2285040",
    "end": "2290339"
  }
]