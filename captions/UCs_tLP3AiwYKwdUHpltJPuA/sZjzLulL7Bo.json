[
  {
    "start": "0",
    "end": "160000"
  },
  {
    "text": "thank you [Music]",
    "start": "2520",
    "end": "6640"
  },
  {
    "text": "hi thanks uh yeah my name is Matt Turner I work at tetrate we do istio service",
    "start": "14120",
    "end": "20220"
  },
  {
    "text": "mesh kind of stuff products and Consulting if anybody's interested in that you can go and grab me and yeah",
    "start": "20220",
    "end": "25439"
  },
  {
    "text": "today I'm going to be talking about uh an aspect of cloud native technology some of the stuff you can do with it",
    "start": "25439",
    "end": "30679"
  },
  {
    "text": "focused specifically on on Progressive delivery or continuous deployment or whatever you want to call it",
    "start": "30679",
    "end": "37320"
  },
  {
    "text": "um like I say yeah 30 minutes plus questions I've got 90 slides so we'll we'll maybe maybe go a little fast",
    "start": "37320",
    "end": "43860"
  },
  {
    "text": "um I'm having technical difficulties as well I can't read the speaker notes because the the high DPI hasn't worked so",
    "start": "43860",
    "end": "50039"
  },
  {
    "text": "um I'll just make it up well I think I think I know what I'm talking about uh yeah the go to app does exist uh feedback is is always useful",
    "start": "50039",
    "end": "57000"
  },
  {
    "text": "um last time I gave this talk I was basically told I underestimated everybody and people said we didn't need the introduction we're too clever for",
    "start": "57000",
    "end": "62399"
  },
  {
    "text": "that so so that's 30 slides they can just go um but yeah what I want to talk about is",
    "start": "62399",
    "end": "67979"
  },
  {
    "text": "Progressive delivery in a cloud native World which is since we are Cloud native if we're on",
    "start": "67979",
    "end": "74400"
  },
  {
    "text": "our journey to Cloud native if our applications are starting to look Cloud native they have some of those features",
    "start": "74400",
    "end": "79799"
  },
  {
    "text": "then you know what advantages do we get from that and then what additional tools can we add to get to some kind of cloud",
    "start": "79799",
    "end": "87060"
  },
  {
    "text": "native Nirvana some kind of progressive delivery Nirvana which is going to look a little like this",
    "start": "87060",
    "end": "92580"
  },
  {
    "text": "um because Progressive delivery is you know a very Hot Topic at the moment lots of people have talked about it there's",
    "start": "92580",
    "end": "98159"
  },
  {
    "text": "books on it I won't try to recreate that um so I guess the the question was meant",
    "start": "98159",
    "end": "103500"
  },
  {
    "text": "to be who's you know in delivery and release process looks like this right nobody then or you're all tired",
    "start": "103500",
    "end": "110100"
  },
  {
    "text": "whose looks like this or maybe this",
    "start": "110100",
    "end": "115380"
  },
  {
    "text": "yeah from the 90s with these primary colors um what else did I find I googled this yeah this one",
    "start": "115380",
    "end": "122340"
  },
  {
    "text": "I think a consultant sold this to somebody and then you need to pay the consultant ten thousand dollars to",
    "start": "122340",
    "end": "127380"
  },
  {
    "text": "explain what it means because there's no there's no words on it I don't know what that means or you can go and talk to the agile",
    "start": "127380",
    "end": "133200"
  },
  {
    "text": "people right and you get trained you just get trains everywhere if you talk to our child people so I think what I'm trying to say is",
    "start": "133200",
    "end": "139500"
  },
  {
    "text": "this has always been a complicated sometimes quite tedious process of",
    "start": "139500",
    "end": "144660"
  },
  {
    "text": "getting software you know from code into the hands of users and unnecessarily so there's a lot of different stages",
    "start": "144660",
    "end": "149760"
  },
  {
    "text": "there's a lot of checks we want to do there's a lot of risk but I think now we have the technology to tackle that in a different way and",
    "start": "149760",
    "end": "156840"
  },
  {
    "text": "mitigate some of those issues so how does cloud native enable this so",
    "start": "156840",
    "end": "162660"
  },
  {
    "start": "160000",
    "end": "633000"
  },
  {
    "text": "a quick Tech overview we'll we'll power through some of these 30 slides um in the beginning there was a process",
    "start": "162660",
    "end": "168959"
  },
  {
    "text": "right you wrote some code you ended up running on Linux maybe it's compiled",
    "start": "168959",
    "end": "174000"
  },
  {
    "text": "maybe it isn't fine it's running um I won't say very much about 12 Factor",
    "start": "174000",
    "end": "179700"
  },
  {
    "text": "at all it's kind of it's a a bit dated now in some ways it's kind of like this is how Heroku thinks you should write",
    "start": "179700",
    "end": "185819"
  },
  {
    "text": "apps but it's not wrong uh there's definitely some good stuff in there so that's that's worth a look and a lot of",
    "start": "185819",
    "end": "191519"
  },
  {
    "text": "the principles about sort of keeping config separate and isolating dependencies are things we're going to rely on",
    "start": "191519",
    "end": "198000"
  },
  {
    "text": "you run that process in Docker right dock is great you run it in a container",
    "start": "198000",
    "end": "204060"
  },
  {
    "text": "one thing to quickly say is um oh yeah 12 Factor 12 factor factor",
    "start": "204060",
    "end": "211860"
  },
  {
    "text": "number five strictly separate build and run uh I think we use the words Docker",
    "start": "211860",
    "end": "217080"
  },
  {
    "text": "and the word container quite Loosely sometimes to me there's two things that are going on so there's a container",
    "start": "217080",
    "end": "223620"
  },
  {
    "text": "running at runtime right there's my my process my code running in this strong",
    "start": "223620",
    "end": "229560"
  },
  {
    "text": "isolation boundary of c groups and namespaces if you know the underlying Tech but running in in Docker",
    "start": "229560",
    "end": "236640"
  },
  {
    "text": "um in this strictly isolated way which means we can do resource constraints so",
    "start": "236640",
    "end": "241680"
  },
  {
    "text": "we can isolate its Network and that kind of stuff and then there's the container image right the image that this",
    "start": "241680",
    "end": "247260"
  },
  {
    "text": "container runs from the thing you would find on on Docker Hardware or any other kind of registry",
    "start": "247260",
    "end": "252900"
  },
  {
    "text": "and they're separate things that images are really powerful packaging format it's like a language I mean it's",
    "start": "252900",
    "end": "258000"
  },
  {
    "text": "towables under the hood right but it's a this language agnostic packaging format that's got a bunch of metadata about",
    "start": "258000",
    "end": "264479"
  },
  {
    "text": "what ports it's going to listen on and what's its entry point but I think a container image and as a packaging",
    "start": "264479",
    "end": "270419"
  },
  {
    "text": "format and a running container it's like an isolation mechanism are two related but separate things and it's useful to",
    "start": "270419",
    "end": "276900"
  },
  {
    "text": "keep that in your head just briefly you know if I'm if I'm",
    "start": "276900",
    "end": "281940"
  },
  {
    "text": "writing pieces of code and I'm running them in Docker I'm probably doing micro Services again there are whole books on that um go watch a Sam Newman video or",
    "start": "281940",
    "end": "288600"
  },
  {
    "text": "something but it can just be useful to think about the broad categories of microservice you might have uh and for",
    "start": "288600",
    "end": "296040"
  },
  {
    "text": "our purposes they might fall into sort of three so we might have you know one at the front that the user",
    "start": "296040",
    "end": "301800"
  },
  {
    "text": "talks to this is gonna um serve graphql or something this is one nice API endpoint for the user",
    "start": "301800",
    "end": "309479"
  },
  {
    "text": "that's going to hide the sort of you know scatter gather the queries to a lot of other microservices it's maybe going",
    "start": "309479",
    "end": "315479"
  },
  {
    "text": "to orchestrate some distributed transactions it's going to do that kind of stuff we've then got a bunch of",
    "start": "315479",
    "end": "320520"
  },
  {
    "text": "backends that actually do the work you know we write these we have complete control of these they all have contracts",
    "start": "320520",
    "end": "326460"
  },
  {
    "text": "to each other they all talk grpc to each other this is this is like our world of actual business logic and then this",
    "start": "326460",
    "end": "332400"
  },
  {
    "text": "layer here I've got on the right I think is a powerful model that I've been using",
    "start": "332400",
    "end": "337800"
  },
  {
    "text": "quite a lot which is that if you've got any external system like an API in the cloud you know this this cloud is just",
    "start": "337800",
    "end": "343860"
  },
  {
    "text": "meant to be weather.com go find out what the weather is or a database or something if you put a little micro",
    "start": "343860",
    "end": "349740"
  },
  {
    "text": "service in front of that then you can make them all look the same so your back ends can just talk",
    "start": "349740",
    "end": "355860"
  },
  {
    "text": "grpc or whatever Json to no matter whether they're calling this cloud service that talks XML right and needs",
    "start": "355860",
    "end": "363539"
  },
  {
    "text": "some some an API token handed to it whether this is a postgres database you can do especially if you use grpc you",
    "start": "363539",
    "end": "370440"
  },
  {
    "text": "can do you know bi-directional streaming here with with all of those advantages and everything looks the same so as far",
    "start": "370440",
    "end": "376320"
  },
  {
    "text": "as the real business lodge is concerned it's just talking to another micro service because you put this shim in front of systems that you don't control",
    "start": "376320",
    "end": "382560"
  },
  {
    "text": "and you didn't design microservice is great you get a bunch of advantages like they can scale I won't I",
    "start": "382560",
    "end": "389880"
  },
  {
    "text": "won't dwell on that too much and when you've got those Services you you know you've got a lot of them you",
    "start": "389880",
    "end": "396060"
  },
  {
    "text": "want redundancy you want scalability you need to run them on a lot of computers kubernetes there you go that's a very expensive",
    "start": "396060",
    "end": "402300"
  },
  {
    "text": "Consulting career um distilled into five seconds right but kubernetes for these purposes helps you",
    "start": "402300",
    "end": "408660"
  },
  {
    "text": "run lots of containers across lots of computers cool and it can also heal them and it can Auto scale them",
    "start": "408660",
    "end": "413940"
  },
  {
    "text": "you can then add a service mesh who's heard of a service mesh as a technology an istio or something oh okay cool",
    "start": "413940",
    "end": "419580"
  },
  {
    "text": "that's become really popular then so we put a network proxy alongside everything it has its own control plane",
    "start": "419580",
    "end": "425100"
  },
  {
    "text": "is this deal for example we can feed istio config and then we can make the network do smart things",
    "start": "425100",
    "end": "432300"
  },
  {
    "text": "and both of these together give us a bunch of metrics about what's going on right about whether our services crashing a lot how",
    "start": "432300",
    "end": "439560"
  },
  {
    "text": "much CPU and RAM it's using and then with the network proxy in there as well with the service mesh we can see how",
    "start": "439560",
    "end": "445080"
  },
  {
    "text": "many requests a second it's getting what its latency is to respond to them what its error rate is and we can crunch metrics in all kinds",
    "start": "445080",
    "end": "451380"
  },
  {
    "text": "of different ways but you know red metrics are the kind of standard I guess you know what is the rate of request coming in how many error responses did",
    "start": "451380",
    "end": "458220"
  },
  {
    "text": "we get and what was the latency because this is really the the Crux of what the user experiences and what the user wants",
    "start": "458220",
    "end": "465599"
  },
  {
    "text": "a lot of other stuff that you measure is the sort of a symptom a cause sorry like an underlying reason these this is",
    "start": "465599",
    "end": "471900"
  },
  {
    "text": "what's keeping your user happy you know did it respond quickly indeed did it give the right answer I was just trying to buy a concert ticket",
    "start": "471900",
    "end": "479580"
  },
  {
    "text": "and we can then start talking about service level agreements and service level objectives and service level indicators if you've not heard these",
    "start": "479580",
    "end": "485580"
  },
  {
    "text": "terms you know pause the pause the slide here or um yeah go and uh go and read",
    "start": "485580",
    "end": "490620"
  },
  {
    "text": "the Google SRE book or something very interesting stuff so current deployments what do we what",
    "start": "490620",
    "end": "496919"
  },
  {
    "text": "do we maybe do so if we've got CI right of course we've all got CI CD it's a best practice",
    "start": "496919",
    "end": "502440"
  },
  {
    "text": "um continuous integration used to actually have a different meaning it used to mean taking every branch of code",
    "start": "502440",
    "end": "509759"
  },
  {
    "text": "you know you would work on a feature on a branch you would push that branch and a continuous integration server was a",
    "start": "509759",
    "end": "515760"
  },
  {
    "text": "server that continuously merged Master into your branch right continuously",
    "start": "515760",
    "end": "521219"
  },
  {
    "text": "rebaste your branch onto Main to make sure that you're code integrated with the code that everybody else was working",
    "start": "521219",
    "end": "527519"
  },
  {
    "text": "on and everybody else was shipping to catch integration issues up front especially when you had a million lines",
    "start": "527519",
    "end": "533279"
  },
  {
    "text": "of code because all of your micro Services were actually just one monolith that's what continuous integration used",
    "start": "533279",
    "end": "538920"
  },
  {
    "text": "to mean these days people just mean I I mentioned that because it's kind of come back with microservices right how",
    "start": "538920",
    "end": "544860"
  },
  {
    "text": "many times have you deployed one micro service that relied on a new API from another one or something or somebody else",
    "start": "544860",
    "end": "551339"
  },
  {
    "text": "changed their API and you then couldn't call it and you hadn't caught that that integration sequence correctly but",
    "start": "551339",
    "end": "558060"
  },
  {
    "text": "nowadays it basically means continuous build right build test lint all the time great",
    "start": "558060",
    "end": "564120"
  },
  {
    "text": "so deployment I've done my continuous integration I've got my my build artifact",
    "start": "564120",
    "end": "570060"
  },
  {
    "text": "I then wanted to deploy it right what does that mean it probably means taking my piece of software and running it right vaguely",
    "start": "570060",
    "end": "576839"
  },
  {
    "text": "so continuous deployment is deploying it continuously every time there's a new build because this is",
    "start": "576839",
    "end": "583380"
  },
  {
    "text": "automated deploying that piece of software but when we start to talk about",
    "start": "583380",
    "end": "588660"
  },
  {
    "text": "Progressive delivery we maybe have to redefine the terms a little bit so if we say that release",
    "start": "588660",
    "end": "595440"
  },
  {
    "text": "is we can Define this term release and we say that this is exposing a piece of software to users right because that's",
    "start": "595440",
    "end": "602339"
  },
  {
    "text": "where the risk really is that's where the value is that's where we make money getting these new features to users and",
    "start": "602339",
    "end": "607380"
  },
  {
    "text": "that's where the risk is because the software might be broken so if we use this word release to mean exposing a piece of software to users or",
    "start": "607380",
    "end": "613920"
  },
  {
    "text": "you can look at it the other way around exposing users to a piece of software then what would continuous release be",
    "start": "613920",
    "end": "620339"
  },
  {
    "text": "well continuous release would be exposing every new deployment to these users every time we run a piece of",
    "start": "620339",
    "end": "626519"
  },
  {
    "text": "software you know the users are going to be accessing it so every new build gets exposed to all of the users",
    "start": "626519",
    "end": "633959"
  },
  {
    "start": "633000",
    "end": "670000"
  },
  {
    "text": "because that's based on this assumption it does my deployment does running the software the new version mean releasing",
    "start": "633959",
    "end": "639480"
  },
  {
    "text": "it mean users accessing it and taking that risk usually it does",
    "start": "639480",
    "end": "645240"
  },
  {
    "text": "is spoiler alert I think that's going to be one of the main the main principles usually it does but it doesn't have to",
    "start": "645240",
    "end": "650640"
  },
  {
    "text": "because we have a bunch of technology that I'll show you that means we can decouple these two stages so we can then",
    "start": "650640",
    "end": "656279"
  },
  {
    "text": "continuously build and continuously deploy start running every new version but not necessarily expose it to users",
    "start": "656279",
    "end": "665160"
  },
  {
    "text": "and that's got a bunch of advantages that I will go through we're halfway through already",
    "start": "665160",
    "end": "670680"
  },
  {
    "start": "670000",
    "end": "714000"
  },
  {
    "text": "um so I've got a picture to make this easier right the build process we do a git we we take some courage we commit it to get",
    "start": "670680",
    "end": "676500"
  },
  {
    "text": "some CI system comes along and you know we've got the output so this is this is",
    "start": "676500",
    "end": "681600"
  },
  {
    "text": "probably a container image because it's a really nice packaging format ends up in some registry Docker Hub or something",
    "start": "681600",
    "end": "687180"
  },
  {
    "text": "else the contract of this is that every new commit every new merge domain produces a",
    "start": "687180",
    "end": "692700"
  },
  {
    "text": "container image pushes it to the registry and this does the bottom of that like the agile testing pyramid if you want right we lint we compile if",
    "start": "692700",
    "end": "700320"
  },
  {
    "text": "you're in a compiled language you can catch an awful lot of Errors By writing rust and letting the the type Checker",
    "start": "700320",
    "end": "705540"
  },
  {
    "text": "and the borrow Checker and the lifetime Checker find all classes of Errors if you're using JavaScript and good luck",
    "start": "705540",
    "end": "710760"
  },
  {
    "text": "but you might get you might have some unit tests you know and then deployment is very separate so",
    "start": "710760",
    "end": "716760"
  },
  {
    "start": "714000",
    "end": "1098000"
  },
  {
    "text": "I've joined this big line so what we've got here is a user sitting behind a sort of you know load balancer API Gateway we've got a separate git",
    "start": "716760",
    "end": "724200"
  },
  {
    "text": "repo so we're doing git Ops I guess everybody familiar with the sort of basic get Ops principles of yeah cool no",
    "start": "724200",
    "end": "731700"
  },
  {
    "text": "sort of shaking heads um so we've got our repo full of yamls or whatever that describe what",
    "start": "731700",
    "end": "738240"
  },
  {
    "text": "should be running we've got a little you know sync operator so we've got a couple of Parts running in in kubernetes",
    "start": "738240",
    "end": "745560"
  },
  {
    "text": "we can add more operators more automation is always good we can add more so this watches the",
    "start": "745560",
    "end": "751740"
  },
  {
    "text": "container registry and says every time there's a new image you need to update this and and run it so this is",
    "start": "751740",
    "end": "757680"
  },
  {
    "text": "continuous deployment but sort of in the roundabout way because we're doing git Ops so user is sitting there order their",
    "start": "757680",
    "end": "763860"
  },
  {
    "text": "requests are going to our current version great if I do a new git commit",
    "start": "763860",
    "end": "769800"
  },
  {
    "text": "new builds or passes the tests end up in the container industry this thing notices there's a new version of software",
    "start": "769800",
    "end": "775680"
  },
  {
    "text": "updates the description in here to say hey the new version should be running and then this thing says oh yeah the new",
    "start": "775680",
    "end": "781079"
  },
  {
    "text": "version should be running so it runs it now when the user makes a request on a naive system you know what there's new",
    "start": "781079",
    "end": "787320"
  },
  {
    "text": "endpoints now behind our load balancer so the traffic gets split right goes to both of them this is the risky part this",
    "start": "787320",
    "end": "793320"
  },
  {
    "text": "this build is not risky this deployment getting this running is not risky this is risky sending user traffic to it is",
    "start": "793320",
    "end": "800459"
  },
  {
    "text": "risky so we can introduce yet more automation yet another operator",
    "start": "800459",
    "end": "805860"
  },
  {
    "text": "that will notice that all of this is going on and reprogram that load balancer on the Fly and say no just keep",
    "start": "805860",
    "end": "812040"
  },
  {
    "text": "the user traffic on the known good version for now please why do we want to do that this is kind",
    "start": "812040",
    "end": "817440"
  },
  {
    "text": "of the Crux of things why do we want to do that well firstly these are running these have been deployed why do I keep saying we",
    "start": "817440",
    "end": "823740"
  },
  {
    "text": "wanted continuous to deploy these are running and they're running in production right so they can access the production",
    "start": "823740",
    "end": "829740"
  },
  {
    "text": "database they are subject to production resource constraints they're reading production configuration files I work",
    "start": "829740",
    "end": "836399"
  },
  {
    "text": "somewhere once that had an outage because somebody changed the config file format and change the software that read it and",
    "start": "836399",
    "end": "842519"
  },
  {
    "text": "they got deployed like a new thing started and it's just crash looped it just sat there it was fine in staging",
    "start": "842519",
    "end": "847860"
  },
  {
    "text": "which is of course exactly the same as prod but when it got to prod it just kept crashing because the config file looked wrong so running this stuff just",
    "start": "847860",
    "end": "854760"
  },
  {
    "text": "just even seeing if it's if it starts in prod can be useful and having it sitting here running in prod is is useful",
    "start": "854760",
    "end": "861660"
  },
  {
    "text": "because what this magic low balance uh Network operator can do",
    "start": "861660",
    "end": "868320"
  },
  {
    "text": "is okay so the con yeah the contract of that is you see a new image you deploy it to prod doesn't get any use of",
    "start": "868320",
    "end": "874440"
  },
  {
    "text": "traffic so so why what could we start to do what's different",
    "start": "874440",
    "end": "879660"
  },
  {
    "text": "well this thing can tell the load balancer that sure user traffic goes to V1 but V2 is available right it's",
    "start": "879660",
    "end": "886199"
  },
  {
    "text": "sitting there it is deployed it's running it's in production so if a tester comes along and they set something like a header or they're on a",
    "start": "886199",
    "end": "893279"
  },
  {
    "text": "well-known machine well their traffic can go to the new one so they can start doing you can do manual testing you can",
    "start": "893279",
    "end": "898500"
  },
  {
    "text": "do you know user acceptance testing or whatever you just opt into the new version of the service and this is much better than",
    "start": "898500",
    "end": "905220"
  },
  {
    "text": "doing it in a test environment or a staging environment because a you don't have to pay for a complete copy of your environment B it is going to be the same",
    "start": "905220",
    "end": "912600"
  },
  {
    "text": "because it is prod right as I say prod data is available prod config is available other prod services are",
    "start": "912600",
    "end": "919380"
  },
  {
    "text": "available to talk to so that's your continuous integration right when this thing is under test",
    "start": "919380",
    "end": "924899"
  },
  {
    "text": "you know it's being tested against the latest version of every other service because of course it is it's improv to",
    "start": "924899",
    "end": "930000"
  },
  {
    "text": "write that's what's running and this this can be automated you know these agents can have the ability to",
    "start": "930000",
    "end": "936180"
  },
  {
    "text": "kick off some kind of Bot that will replay you know um replay regression test cases and that",
    "start": "936180",
    "end": "942839"
  },
  {
    "text": "kind of stuff this can be a load test right this can be a big fat pipe of stuff because remember those red metrics",
    "start": "942839",
    "end": "949320"
  },
  {
    "text": "you may have added your new feature perfectly functional but you slowed everything down by five times right so when you hit it with a lot of load the",
    "start": "949320",
    "end": "955980"
  },
  {
    "text": "users are going to have the right answer but an unacceptably slow experience that's also a Criterion that says Don't",
    "start": "955980",
    "end": "962339"
  },
  {
    "text": "release yeah I think I've gone over most of that does it even start it's there for manual",
    "start": "962339",
    "end": "969240"
  },
  {
    "text": "testing it's there for integration testing with all the other microservices it's",
    "start": "969240",
    "end": "974339"
  },
  {
    "text": "there for end-to-end testing and then you can look and you can look at non-functional stuff as well right it is",
    "start": "974339",
    "end": "980339"
  },
  {
    "text": "a fail it is it is a no release if your performance isn't within the SLO",
    "start": "980339",
    "end": "986100"
  },
  {
    "text": "uh I might skip this otherwise we're not going to get you're not going to see me fail to run a demo which is way more fun",
    "start": "986100",
    "end": "992699"
  },
  {
    "text": "than my slides uh yeah that's fiddly that's why we go skip it um so other things this can do right we",
    "start": "992699",
    "end": "998459"
  },
  {
    "text": "so we've we've done some manual testing we've opted into V2 we can now start to send the user traffic here as well",
    "start": "998459",
    "end": "1006380"
  },
  {
    "text": "but this Arrow only points one way right user requests go here responses don't go",
    "start": "1006380",
    "end": "1011720"
  },
  {
    "text": "to the user because the responses might be wrong but in the face of these user required we can see what this does with user",
    "start": "1011720",
    "end": "1017480"
  },
  {
    "text": "requests like does it crash does it slow down we can try to do all the testing we want before this right we can lint and we can",
    "start": "1017480",
    "end": "1024558"
  },
  {
    "text": "we can unit test and we can do everything we want but the reason we're testing prod",
    "start": "1024559",
    "end": "1030020"
  },
  {
    "text": "is nothing will ever be as crazy a test case as a user write nothing I was doing",
    "start": "1030020",
    "end": "1035298"
  },
  {
    "text": "uh and on one of the unscripted um go-to unscripted things with Eric Johnson this morning we've had quite a lot of coffee",
    "start": "1035299",
    "end": "1040699"
  },
  {
    "text": "and I was just like yeah um you know user requests are regression cases you haven't discovered yet",
    "start": "1040699",
    "end": "1047900"
  },
  {
    "text": "so so this is what this is about right you've we've replayed all the bad traffic from before but maybe there's hey new kinds of bad traffic so you can",
    "start": "1047900",
    "end": "1054679"
  },
  {
    "text": "you can feed it in but not get a response because you know again you're not taking the risk you haven't released",
    "start": "1054679",
    "end": "1059840"
  },
  {
    "text": "if the user isn't exposed to this software the software is exposed to the user in this case actually but the user isn't",
    "start": "1059840",
    "end": "1065840"
  },
  {
    "text": "exposed to the software so maybe I need to go and rewrite that earlier slide and as I say we can see what it's doing",
    "start": "1065840",
    "end": "1071900"
  },
  {
    "text": "we can see what its responses look like we can't yet we can see what its responses look like you know is there an",
    "start": "1071900",
    "end": "1076940"
  },
  {
    "text": "error rate in there we can even diff the two if you didn't think you'd made a functional change or if you didn't think",
    "start": "1076940",
    "end": "1082880"
  },
  {
    "text": "you'd touch certain endpoints then you can even see if it's giving them the same answer as the previous version or",
    "start": "1082880",
    "end": "1088520"
  },
  {
    "text": "this software kind of exists it's all possible so yeah we're now at the stage that it's",
    "start": "1088520",
    "end": "1094700"
  },
  {
    "text": "running in prod but it's invisible to those users so release the actual Act of releasing",
    "start": "1094700",
    "end": "1101360"
  },
  {
    "start": "1098000",
    "end": "1177000"
  },
  {
    "text": "of exposing users to Software",
    "start": "1101360",
    "end": "1106240"
  },
  {
    "text": "so the next thing this operator can do and all the previous stages right are about getting as much confidence as possible that this is going to work in",
    "start": "1106700",
    "end": "1113720"
  },
  {
    "text": "prod you know known regression cases load tests whatever everything the manual testers can think of but at some",
    "start": "1113720",
    "end": "1120440"
  },
  {
    "text": "point you've got to open the floodgates but you don't open the floodgates all the way so we can now start sending a",
    "start": "1120440",
    "end": "1126320"
  },
  {
    "text": "little bit a little bit of user traffic right to the new version a canary deployment if you want so we can send",
    "start": "1126320",
    "end": "1132080"
  },
  {
    "text": "one percent in see what happens if everything's okay you know the user gets the response and you can watch the",
    "start": "1132080",
    "end": "1138080"
  },
  {
    "text": "metrics of everything as you do that and you see this operator this this automated bot is watching the metrics",
    "start": "1138080",
    "end": "1144740"
  },
  {
    "text": "because this can also all be automated and this this agent will continue to",
    "start": "1144740",
    "end": "1149840"
  },
  {
    "text": "ramp that traffic continue to move it slowly across and just keep an eye on everything make sure the performance doesn't hockey stick at a certain load",
    "start": "1149840",
    "end": "1156260"
  },
  {
    "text": "or level or whatever and it can do it completely automatically if you if you tell it enough about the software right if you",
    "start": "1156260",
    "end": "1162440"
  },
  {
    "text": "tell it what good is meant to look like and what bad looks like then it can make the decisions that you can and we can",
    "start": "1162440",
    "end": "1168080"
  },
  {
    "text": "just ramp the traffic across um until you know most or all of it goes goes to the new version",
    "start": "1168080",
    "end": "1175960"
  },
  {
    "text": "well I got there let's see it I think the point of this I mean that's that's",
    "start": "1176960",
    "end": "1182660"
  },
  {
    "start": "1177000",
    "end": "1896000"
  },
  {
    "text": "kind of what do I need to say really is that I think that is",
    "start": "1182660",
    "end": "1188480"
  },
  {
    "text": "a sort of setup that everybody can aim for I think you know that's my sort of",
    "start": "1188480",
    "end": "1193520"
  },
  {
    "text": "thesis to you is I think this is a good way to do things I think this is um a nice North Star to be at",
    "start": "1193520",
    "end": "1199160"
  },
  {
    "text": "everything's automated everything's gradual everything hopefully has a like a much reduced risk",
    "start": "1199160",
    "end": "1205460"
  },
  {
    "text": "if we start off if we are Cloud native right if everything is a is a cloudy",
    "start": "1205460",
    "end": "1210559"
  },
  {
    "text": "technology we don't have you know like physical on-premise load balances or anything then most of us are probably",
    "start": "1210559",
    "end": "1217580"
  },
  {
    "text": "some way along that technological journey to you know there's nothing stopping us doing this and actually all",
    "start": "1217580",
    "end": "1222860"
  },
  {
    "text": "the tech to do all of this stuff exists all of those agents that I showed exist I'm going to demo some of them now the",
    "start": "1222860",
    "end": "1228320"
  },
  {
    "text": "stuff to diff that traffic you know that exists I haven't actually integrated into this demo I I struggle to make it",
    "start": "1228320",
    "end": "1233780"
  },
  {
    "text": "work you know there's not all of these tools are super mature yet I couldn't get one talking to the other but it's",
    "start": "1233780",
    "end": "1238880"
  },
  {
    "text": "all possible I'm going to give it another go and if that doesn't work I'm going to write another diff agent but",
    "start": "1238880",
    "end": "1244460"
  },
  {
    "text": "it's all it's all doable so what I wanted to do is show you that to hopefully reinforce the point and to",
    "start": "1244460",
    "end": "1250880"
  },
  {
    "text": "also just show you that I'm not lying because it always it always feels better if you've seen it I guess so",
    "start": "1250880",
    "end": "1258760"
  },
  {
    "text": "this may not be smooth not letting me even move my desktop",
    "start": "1261440",
    "end": "1267860"
  },
  {
    "text": "across you see uh right what are we going to do first we are going to",
    "start": "1267860",
    "end": "1275020"
  },
  {
    "text": "oh I need to run one more thing",
    "start": "1279559",
    "end": "1283360"
  },
  {
    "text": "so I've got nope I need to run another couple of",
    "start": "1289820",
    "end": "1295159"
  },
  {
    "text": "things",
    "start": "1295159",
    "end": "1297340"
  },
  {
    "text": "you saw the diagram right this is a this is a complicated system here this is not like how do this is not how to write",
    "start": "1301460",
    "end": "1306740"
  },
  {
    "text": "hello world in in go um so bear bear with me",
    "start": "1306740",
    "end": "1312460"
  },
  {
    "text": "even the error message is broken that tells you something",
    "start": "1316340",
    "end": "1321880"
  },
  {
    "text": "okay okay so kubernetes cluster running istio",
    "start": "1327020",
    "end": "1333500"
  },
  {
    "text": "service mesh running all of the other agents um the thing to look at here actually is this piece of software called blue green",
    "start": "1333500",
    "end": "1339020"
  },
  {
    "text": "really simple little blue green thing it literally gives you a web page it's either blue or green the image is 300K",
    "start": "1339020",
    "end": "1344780"
  },
  {
    "text": "that's that's what's nice about it um so you can see it's running version one and in fact you might have just",
    "start": "1344780",
    "end": "1352159"
  },
  {
    "text": "noticed that we have blue green and there's now this blue green primary because the that continuous deployment",
    "start": "1352159",
    "end": "1357860"
  },
  {
    "text": "agent is getting itself ready to start shifting traffic so it actually runs two versions of V1 to kind of just be be",
    "start": "1357860",
    "end": "1364039"
  },
  {
    "text": "ready to go uh and it's it's telling kubernetes this one actually just shouldn't get any traffic yet",
    "start": "1364039",
    "end": "1369320"
  },
  {
    "text": "um so we're running V1 great because V1 Honey's refreshing that's going to give",
    "start": "1369320",
    "end": "1375320"
  },
  {
    "text": "the game away oh even though Wi-Fi is gone come on",
    "start": "1375320",
    "end": "1381860"
  },
  {
    "text": "this isn't fair there we go V1 V1 is the only version exists right so B1 is the",
    "start": "1381860",
    "end": "1387020"
  },
  {
    "text": "version that's running",
    "start": "1387020",
    "end": "1389679"
  },
  {
    "text": "the one piece of terminal we'll see build and push version",
    "start": "1394220",
    "end": "1402320"
  },
  {
    "text": "one zero come on",
    "start": "1402320",
    "end": "1407200"
  },
  {
    "text": "pushed so now",
    "start": "1409880",
    "end": "1414940"
  },
  {
    "text": "so I've done some work I've written some code I've built the container image I've pushed the container image so in our container registry we've now got a one",
    "start": "1415100",
    "end": "1421580"
  },
  {
    "text": "zero one all of these things pull sort of every",
    "start": "1421580",
    "end": "1426799"
  },
  {
    "text": "minute so that we don't get rate limited by Docker Hub or anything else so I'm just gonna just have to store for a",
    "start": "1426799",
    "end": "1432320"
  },
  {
    "text": "little bit while this happens um but what's going to happen is one of those uh agents will hopefully notice",
    "start": "1432320",
    "end": "1438620"
  },
  {
    "text": "that we've got the one zero one image you know developer has and you can shift more of the risk",
    "start": "1438620",
    "end": "1444919"
  },
  {
    "text": "management left in your process right so you know if this were a real company I'd have probably I'd have written my code I'd have pushed it to a branch I'd have",
    "start": "1444919",
    "end": "1452419"
  },
  {
    "text": "only have got into main you know subject to passing tests subject to code review",
    "start": "1452419",
    "end": "1457580"
  },
  {
    "text": "um so you know and the merging domain says it's kind of ready to go it's ready to be deployed and then everything else",
    "start": "1457580",
    "end": "1462620"
  },
  {
    "text": "is you know as soon as that PR is approved everything else is automated from there right through the build and through the deployment",
    "start": "1462620",
    "end": "1469340"
  },
  {
    "text": "and we should be seeing the the deployment start part of that now",
    "start": "1469340",
    "end": "1476380"
  },
  {
    "text": "uh as I say it'll take it take a little while um",
    "start": "1476960",
    "end": "1482020"
  },
  {
    "text": "what I might do is switch over to the slide",
    "start": "1482059",
    "end": "1486940"
  },
  {
    "text": "so the way I've built this is I've just put some product logos in in place of those little um little sort of controller icons I had",
    "start": "1487340",
    "end": "1493940"
  },
  {
    "text": "I'm showing GitHub actions for CD doesn't I mean I've got a make file right but it could be sorry CI pick a CI",
    "start": "1493940",
    "end": "1500299"
  },
  {
    "text": "system um I'm using weave flux as the git Ops operator so",
    "start": "1500299",
    "end": "1506000"
  },
  {
    "text": "this is the thing that watches the image registry and actually takes what's in git",
    "start": "1506000",
    "end": "1512059"
  },
  {
    "text": "and pushes it out so what we're waiting for I've pushed the new image to Docker Hub we're waiting for one part of flux",
    "start": "1512059",
    "end": "1519080"
  },
  {
    "text": "to notice that it's there and actually do a commit into the git repo that",
    "start": "1519080",
    "end": "1524539"
  },
  {
    "text": "describes deployments and then another part of flux will notice the commit into",
    "start": "1524539",
    "end": "1529580"
  },
  {
    "text": "git and actually go and run these pods this is all super super decoupled which",
    "start": "1529580",
    "end": "1535340"
  },
  {
    "text": "means it's sort of extensible at every point um oh it's there there we go right one",
    "start": "1535340",
    "end": "1540559"
  },
  {
    "text": "zero one so one zero one is now running all I did was was push a container image and it's at your 90s we've got one zero",
    "start": "1540559",
    "end": "1546380"
  },
  {
    "text": "one and one zero zero running because this last piece of the puzzle Flagger which is this Progressive deployment",
    "start": "1546380",
    "end": "1553039"
  },
  {
    "text": "operator has kicked in and going okay wait I'm going to keep a copy of one zero zero running because I know that's",
    "start": "1553039",
    "end": "1558799"
  },
  {
    "text": "good and it's now going to be moving the traffic between this one and it'll run",
    "start": "1558799",
    "end": "1564260"
  },
  {
    "text": "any sort of automated test we asked it to on this this is isolated and I've got it set to automatically start rolling",
    "start": "1564260",
    "end": "1570320"
  },
  {
    "text": "traffic across if you're in an organization that still needs approval if for whatever political reason you",
    "start": "1570320",
    "end": "1576980"
  },
  {
    "text": "still need a human to tick a box at some point you can let all of this ride it can get to this stage you can have one",
    "start": "1576980",
    "end": "1583640"
  },
  {
    "text": "zero one you know running in prod ready for manual test if you set that header ready for everything but it won't you",
    "start": "1583640",
    "end": "1589100"
  },
  {
    "text": "can you can configure Flagger to not start enrolling the user traffic across until some human with an expensive job",
    "start": "1589100",
    "end": "1596240"
  },
  {
    "text": "titles press the button like you can do that that's fine and it can be a visual thing so so that that's why that's",
    "start": "1596240",
    "end": "1602419"
  },
  {
    "text": "hanging around I've actually got it I've said I trust the process and I want it to start rolling traffic over",
    "start": "1602419",
    "end": "1607880"
  },
  {
    "text": "and what we'll see",
    "start": "1607880",
    "end": "1611500"
  },
  {
    "text": "yeah yeah very observed there's so there's kubernetes is saying zero pods are ready because the service specialist",
    "start": "1615460",
    "end": "1622460"
  },
  {
    "text": "has been told to reject all the traffic coming into it basically so it's it's lowered that's how we actually that's the mechanism it uses under the hood to",
    "start": "1622460",
    "end": "1628880"
  },
  {
    "text": "actually stop the traffic flowing is to just lower the Readiness probe because it's still in that automated testing phase",
    "start": "1628880",
    "end": "1634159"
  },
  {
    "text": "but that's a good question um so if we actually so this is my guess Ops repo right this is the repo full of",
    "start": "1634159",
    "end": "1640039"
  },
  {
    "text": "yaml files that are getting deployed by flux and we should see yeah three minutes ago",
    "start": "1640039",
    "end": "1645140"
  },
  {
    "text": "there was a commit to the deployment because this thing says one zero one",
    "start": "1645140",
    "end": "1650419"
  },
  {
    "text": "and what happened was I tested this demo a few times you can't",
    "start": "1650419",
    "end": "1655460"
  },
  {
    "text": "be too careful um what happened was flux CD bot change the zeros for one",
    "start": "1655460",
    "end": "1661580"
  },
  {
    "text": "right and we've just about got time I can push",
    "start": "1661580",
    "end": "1668059"
  },
  {
    "text": "maybe I do some more work and I push one one zero",
    "start": "1668059",
    "end": "1673779"
  },
  {
    "text": "we've now got one one zero on Docker hub",
    "start": "1676340",
    "end": "1680620"
  },
  {
    "text": "so we won't wait because we don't really have time what's going to happen here is is this won't happen it'll stay on one",
    "start": "1683179",
    "end": "1688340"
  },
  {
    "text": "zero one and the reason for that is checked in",
    "start": "1688340",
    "end": "1694480"
  },
  {
    "text": "I have oh no wait I want history View",
    "start": "1695000",
    "end": "1699580"
  },
  {
    "text": "I've got this image policy that says yeah what what risks I refer to take",
    "start": "1703820",
    "end": "1709159"
  },
  {
    "text": "what versions of these software do I think is good to be released right it's deployed one one zero will be there do",
    "start": "1709159",
    "end": "1714620"
  },
  {
    "text": "all the test against it you want observe it but it's we're not happy to start Canary",
    "start": "1714620",
    "end": "1719840"
  },
  {
    "text": "releases to it because this my policy says some senior manager you know hasn't signed off that new feature branch and",
    "start": "1719840",
    "end": "1725779"
  },
  {
    "text": "marketing doesn't want these features to get in front of users yet because that's a perfectly valid business decision",
    "start": "1725779",
    "end": "1731059"
  },
  {
    "text": "right that's not technical so Tech can carry on doing their things one one zero will be running in prod",
    "start": "1731059",
    "end": "1736580"
  },
  {
    "text": "but it won't be it won't be there um I'm keeping this as graphical as possible you can maybe teach it you know",
    "start": "1736580",
    "end": "1742760"
  },
  {
    "text": "product owner or somebody to to do this that's not meant to be me being mean um but you know we for these processes",
    "start": "1742760",
    "end": "1749419"
  },
  {
    "text": "to work in a business the the non-technical people who are involved in them have to be able to",
    "start": "1749419",
    "end": "1755179"
  },
  {
    "text": "understand what's going on and use the tools right so saying get a command line type git commit get push it's just not",
    "start": "1755179",
    "end": "1760880"
  },
  {
    "text": "going to work it's not their job um but you could build a dashboard in front of this you could do something else right I'm just trying to keep it",
    "start": "1760880",
    "end": "1767120"
  },
  {
    "text": "fairly visible um risk",
    "start": "1767120",
    "end": "1772279"
  },
  {
    "text": "yes please commit and then we might see it we might not uh",
    "start": "1772279",
    "end": "1779120"
  },
  {
    "text": "I promise you what will happen this we'll see we'll see one one zero there and it'll start to come across",
    "start": "1779120",
    "end": "1785000"
  },
  {
    "text": "um because that you know that image is now being allowed in by by the policy",
    "start": "1785000",
    "end": "1790100"
  },
  {
    "text": "um and if at any point any of these images started returning 500s over the levels we've committed",
    "start": "1790100",
    "end": "1795620"
  },
  {
    "text": "because they're all the config for that is in this big old file",
    "start": "1795620",
    "end": "1802279"
  },
  {
    "text": "so this is this is the configuration for that continuous deployment agent",
    "start": "1802279",
    "end": "1807799"
  },
  {
    "text": "um you know what's the",
    "start": "1807799",
    "end": "1812860"
  },
  {
    "text": "how many times do we sort of reach out like you know how often do we what's the moving average window on the analysis",
    "start": "1813320",
    "end": "1818659"
  },
  {
    "text": "how many times is it allowed to fail before I think it's bad you know where do we wear the Trap where the two ends",
    "start": "1818659",
    "end": "1823880"
  },
  {
    "text": "of the traffic sliders do we you know stop if we're gating it if we've got a manual gate where do we stop",
    "start": "1823880",
    "end": "1830840"
  },
  {
    "text": "um yeah what does success look like it looks like over a sliding minute you know 99",
    "start": "1830840",
    "end": "1836720"
  },
  {
    "text": "um non-500 responses so all of this stuff is all of this stuff is configurable",
    "start": "1836720",
    "end": "1842740"
  },
  {
    "text": "so that's basically it's",
    "start": "1843260",
    "end": "1848659"
  },
  {
    "text": "where do I put my slides yep so that's what I just just showed uh",
    "start": "1848659",
    "end": "1853820"
  },
  {
    "text": "it's all available today I mean all of that stuff is available and works didn't take me too long to knock that demo together even more advanced stuff",
    "start": "1853820",
    "end": "1861320"
  },
  {
    "text": "um like sort of diffing traffic and like mirroring traffic and replaying stuff",
    "start": "1861320",
    "end": "1866720"
  },
  {
    "text": "like all of that exists but it is more fiddly to set up you'll be you know this is kind of this is devops right this is",
    "start": "1866720",
    "end": "1873080"
  },
  {
    "text": "download somebody else's software and run it territory if you want to go to the next level that's write your own",
    "start": "1873080",
    "end": "1878480"
  },
  {
    "text": "software territory which may or may not be something you've got the time to do um I should just say I'm not Shilling",
    "start": "1878480",
    "end": "1883880"
  },
  {
    "text": "although other products are available you can you can replace all of those with you know at least this set of stuff",
    "start": "1883880",
    "end": "1888980"
  },
  {
    "text": "and maybe others and I think for my",
    "start": "1888980",
    "end": "1894740"
  },
  {
    "text": "uh yeah I think we can ask a question about life we want I think my 30 minutes that was probably all I was gonna say thanks very much",
    "start": "1894740",
    "end": "1901210"
  },
  {
    "start": "1896000",
    "end": "1918000"
  },
  {
    "text": "[Applause]",
    "start": "1901210",
    "end": "1910450"
  }
]