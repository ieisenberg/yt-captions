[
  {
    "start": "0",
    "end": "113000"
  },
  {
    "text": "[Music]",
    "start": "970",
    "end": "7838"
  },
  {
    "text": "i",
    "start": "13280",
    "end": "13679"
  },
  {
    "text": "work with aqua security and we help",
    "start": "13679",
    "end": "16480"
  },
  {
    "text": "enterprises secure their",
    "start": "16480",
    "end": "18080"
  },
  {
    "text": "cloud native deployments and i look",
    "start": "18080",
    "end": "20640"
  },
  {
    "text": "after",
    "start": "20640",
    "end": "21680"
  },
  {
    "text": "their open source tools that we build",
    "start": "21680",
    "end": "23600"
  },
  {
    "text": "there",
    "start": "23600",
    "end": "25359"
  },
  {
    "text": "and i have been involved in with kind of",
    "start": "25359",
    "end": "27519"
  },
  {
    "text": "containers",
    "start": "27519",
    "end": "28480"
  },
  {
    "text": "and container security for for quite a",
    "start": "28480",
    "end": "30720"
  },
  {
    "text": "few years now",
    "start": "30720",
    "end": "32800"
  },
  {
    "text": "so earlier this year i published the",
    "start": "32800",
    "end": "36239"
  },
  {
    "text": "this book with o'reilly container",
    "start": "36239",
    "end": "37920"
  },
  {
    "text": "security",
    "start": "37920",
    "end": "39440"
  },
  {
    "text": "uh you can you know buy this from all",
    "start": "39440",
    "end": "41920"
  },
  {
    "text": "good bookshops",
    "start": "41920",
    "end": "43120"
  },
  {
    "text": "but you can also download a free",
    "start": "43120",
    "end": "45120"
  },
  {
    "text": "electronic copy so if you follow that",
    "start": "45120",
    "end": "46960"
  },
  {
    "text": "link",
    "start": "46960",
    "end": "47680"
  },
  {
    "text": "um you know don't let price be an",
    "start": "47680",
    "end": "49520"
  },
  {
    "text": "obstacle if you're interested in",
    "start": "49520",
    "end": "52160"
  },
  {
    "text": "you know in the material that we're",
    "start": "52160",
    "end": "53440"
  },
  {
    "text": "covering so",
    "start": "53440",
    "end": "56719"
  },
  {
    "text": "these are the different areas that i",
    "start": "56719",
    "end": "59280"
  },
  {
    "text": "kind of have",
    "start": "59280",
    "end": "60239"
  },
  {
    "text": "prepared that i think we can we can talk",
    "start": "60239",
    "end": "62000"
  },
  {
    "text": "about uh",
    "start": "62000",
    "end": "63359"
  },
  {
    "text": "we have a poll so maybe we can open that",
    "start": "63359",
    "end": "66080"
  },
  {
    "text": "poll",
    "start": "66080",
    "end": "66640"
  },
  {
    "text": "so you can start voting on these options",
    "start": "66640",
    "end": "70479"
  },
  {
    "text": "and while you're voting i'll just very",
    "start": "70479",
    "end": "73680"
  },
  {
    "text": "high level talk a little bit about these",
    "start": "73680",
    "end": "76000"
  },
  {
    "text": "options",
    "start": "76000",
    "end": "77200"
  },
  {
    "text": "so they're kind of in the order of",
    "start": "77200",
    "end": "79280"
  },
  {
    "text": "things that you can do at build time",
    "start": "79280",
    "end": "81040"
  },
  {
    "text": "through to at the end things that happen",
    "start": "81040",
    "end": "83680"
  },
  {
    "text": "at runtime uh",
    "start": "83680",
    "end": "87040"
  },
  {
    "text": "for most of these i have some demos so",
    "start": "87040",
    "end": "90000"
  },
  {
    "text": "we can uh",
    "start": "90000",
    "end": "91759"
  },
  {
    "text": "explore which ones you uh",
    "start": "91759",
    "end": "95200"
  },
  {
    "text": "you know we can dive into them as we go",
    "start": "95200",
    "end": "97119"
  },
  {
    "text": "through each one of these topics",
    "start": "97119",
    "end": "98880"
  },
  {
    "text": "uh let's do q a about that topic because",
    "start": "98880",
    "end": "101520"
  },
  {
    "text": "they're all",
    "start": "101520",
    "end": "102159"
  },
  {
    "text": "quite different",
    "start": "102159",
    "end": "105039"
  },
  {
    "text": "and yeah so just go ahead and vote on",
    "start": "105200",
    "end": "108000"
  },
  {
    "text": "whichever",
    "start": "108000",
    "end": "108720"
  },
  {
    "text": "thing you think looks interesting to you",
    "start": "108720",
    "end": "113040"
  },
  {
    "start": "113000",
    "end": "153000"
  },
  {
    "text": "this is about how you configure your",
    "start": "113040",
    "end": "115119"
  },
  {
    "text": "container to run",
    "start": "115119",
    "end": "117119"
  },
  {
    "text": "and uh one of the things that you can",
    "start": "117119",
    "end": "121360"
  },
  {
    "text": "configure whether you're running",
    "start": "121360",
    "end": "122719"
  },
  {
    "text": "you know on the docker command line or",
    "start": "122719",
    "end": "124799"
  },
  {
    "text": "in your kubernetes yaml",
    "start": "124799",
    "end": "127600"
  },
  {
    "text": "is the privileged flag",
    "start": "127600",
    "end": "131520"
  },
  {
    "text": "which my friend andrew martin from",
    "start": "131520",
    "end": "133360"
  },
  {
    "text": "control plane has described as the most",
    "start": "133360",
    "end": "135680"
  },
  {
    "text": "dangerous",
    "start": "135680",
    "end": "136480"
  },
  {
    "text": "flag in computing and i think he may",
    "start": "136480",
    "end": "138800"
  },
  {
    "text": "have a point there that's probably a",
    "start": "138800",
    "end": "140160"
  },
  {
    "text": "hotly contested title",
    "start": "140160",
    "end": "143599"
  },
  {
    "text": "in order to explain why it's so",
    "start": "143599",
    "end": "145599"
  },
  {
    "text": "dangerous i need to just step back and",
    "start": "145599",
    "end": "147680"
  },
  {
    "text": "make sure",
    "start": "147680",
    "end": "148800"
  },
  {
    "text": "everyone knows about linux capabilities",
    "start": "148800",
    "end": "152080"
  },
  {
    "text": "so we have a tendency to think you know",
    "start": "152080",
    "end": "154239"
  },
  {
    "start": "153000",
    "end": "245000"
  },
  {
    "text": "there's root which has all the",
    "start": "154239",
    "end": "155599"
  },
  {
    "text": "permissions",
    "start": "155599",
    "end": "156640"
  },
  {
    "text": "and unprivileged users",
    "start": "156640",
    "end": "160959"
  },
  {
    "text": "who don't have all the permissions and",
    "start": "160959",
    "end": "163200"
  },
  {
    "text": "that's kind of true",
    "start": "163200",
    "end": "164879"
  },
  {
    "text": "but the root permissions are actually",
    "start": "164879",
    "end": "167440"
  },
  {
    "text": "broken down",
    "start": "167440",
    "end": "168879"
  },
  {
    "text": "into a much more granular set of",
    "start": "168879",
    "end": "171680"
  },
  {
    "text": "permissions",
    "start": "171680",
    "end": "172400"
  },
  {
    "text": "that are called linux capabilities",
    "start": "172400",
    "end": "175440"
  },
  {
    "text": "and when you start a container as we'll",
    "start": "175440",
    "end": "178080"
  },
  {
    "text": "see in a moment",
    "start": "178080",
    "end": "179280"
  },
  {
    "text": "you get a set of these capabilities and",
    "start": "179280",
    "end": "182080"
  },
  {
    "text": "you can change that set of capabilities",
    "start": "182080",
    "end": "185920"
  },
  {
    "text": "a lot of those capabilities are",
    "start": "185920",
    "end": "188599"
  },
  {
    "text": "unnecessary for",
    "start": "188599",
    "end": "190959"
  },
  {
    "text": "most um applications",
    "start": "190959",
    "end": "194159"
  },
  {
    "text": "so i've got a few examples here you know",
    "start": "194159",
    "end": "197040"
  },
  {
    "text": "i'm pretty sure",
    "start": "197040",
    "end": "198080"
  },
  {
    "text": "you don't want to be running contained",
    "start": "198080",
    "end": "199599"
  },
  {
    "text": "and someone will come up with an",
    "start": "199599",
    "end": "200800"
  },
  {
    "text": "exception but",
    "start": "200800",
    "end": "201599"
  },
  {
    "text": "most containers do not want to be",
    "start": "201599",
    "end": "204000"
  },
  {
    "text": "messing about with the kernel modules on",
    "start": "204000",
    "end": "206000"
  },
  {
    "text": "the host",
    "start": "206000",
    "end": "206640"
  },
  {
    "text": "or changing the time on the host",
    "start": "206640",
    "end": "210239"
  },
  {
    "text": "another example is that you you may have",
    "start": "210239",
    "end": "212799"
  },
  {
    "text": "good use",
    "start": "212799",
    "end": "213599"
  },
  {
    "text": "reasons to use is is p trace p trace is",
    "start": "213599",
    "end": "216879"
  },
  {
    "text": "incredibly powerful because it allows",
    "start": "216879",
    "end": "218799"
  },
  {
    "text": "you to",
    "start": "218799",
    "end": "220239"
  },
  {
    "text": "intercept what's going on on other",
    "start": "220239",
    "end": "222319"
  },
  {
    "text": "processes",
    "start": "222319",
    "end": "223440"
  },
  {
    "text": "and potentially even modify what's",
    "start": "223440",
    "end": "225200"
  },
  {
    "text": "happening in other processes",
    "start": "225200",
    "end": "226799"
  },
  {
    "text": "so it's a you know hacker's dream",
    "start": "226799",
    "end": "229360"
  },
  {
    "text": "there's all sorts of incredibly powerful",
    "start": "229360",
    "end": "231040"
  },
  {
    "text": "things you can do",
    "start": "231040",
    "end": "232159"
  },
  {
    "text": "it's also useful for debugging that's",
    "start": "232159",
    "end": "234080"
  },
  {
    "text": "why it exists",
    "start": "234080",
    "end": "236080"
  },
  {
    "text": "but most of the time your containers",
    "start": "236080",
    "end": "238080"
  },
  {
    "text": "don't need",
    "start": "238080",
    "end": "239360"
  },
  {
    "text": "these capabilities",
    "start": "239360",
    "end": "242480"
  },
  {
    "text": "so let's move to a demo",
    "start": "243439",
    "end": "248030"
  },
  {
    "start": "245000",
    "end": "578000"
  },
  {
    "text": "[Music]",
    "start": "248030",
    "end": "251219"
  },
  {
    "text": "right so if i run a",
    "start": "252799",
    "end": "257040"
  },
  {
    "text": "container um",
    "start": "257040",
    "end": "260019"
  },
  {
    "text": "[Music]",
    "start": "260019",
    "end": "261600"
  },
  {
    "text": "i'm just going to run ubuntu and",
    "start": "261600",
    "end": "264720"
  },
  {
    "text": "actually i'm sorry i've got",
    "start": "264720",
    "end": "268320"
  },
  {
    "text": "zoom at the top of my screen so i just",
    "start": "268320",
    "end": "270320"
  },
  {
    "text": "need to",
    "start": "270320",
    "end": "271759"
  },
  {
    "text": "do that again where i can see it zoom",
    "start": "271759",
    "end": "274639"
  },
  {
    "text": "has",
    "start": "274639",
    "end": "275199"
  },
  {
    "text": "obliterated what i can see so i need to",
    "start": "275199",
    "end": "278000"
  },
  {
    "text": "run",
    "start": "278000",
    "end": "279199"
  },
  {
    "text": "with i'm gonna add",
    "start": "279199",
    "end": "283840"
  },
  {
    "text": "all capabilities",
    "start": "285280",
    "end": "288400"
  },
  {
    "text": "and inside the container i'm just going",
    "start": "288400",
    "end": "290320"
  },
  {
    "text": "to take a look at",
    "start": "290320",
    "end": "292400"
  },
  {
    "text": "the proc directory",
    "start": "292400",
    "end": "295440"
  },
  {
    "text": "a status file for process number one",
    "start": "295440",
    "end": "298080"
  },
  {
    "text": "inside this container",
    "start": "298080",
    "end": "299919"
  },
  {
    "text": "don't worry too much if you don't really",
    "start": "299919",
    "end": "301280"
  },
  {
    "text": "know what some of that terminology means",
    "start": "301280",
    "end": "305840"
  },
  {
    "text": "what i've done here is shown the",
    "start": "305840",
    "end": "307440"
  },
  {
    "text": "effective capability",
    "start": "307440",
    "end": "309440"
  },
  {
    "text": "flags that are set for processes inside",
    "start": "309440",
    "end": "312479"
  },
  {
    "text": "this container",
    "start": "312479",
    "end": "314880"
  },
  {
    "text": "you can see there's a lot of f's",
    "start": "314880",
    "end": "317360"
  },
  {
    "text": "basically it's a set of bit flags",
    "start": "317360",
    "end": "319520"
  },
  {
    "text": "they're all turned on so if i set",
    "start": "319520",
    "end": "322960"
  },
  {
    "text": "all the capabilities this is the kind of",
    "start": "322960",
    "end": "324720"
  },
  {
    "text": "maximal set",
    "start": "324720",
    "end": "325830"
  },
  {
    "text": "[Music]",
    "start": "325830",
    "end": "327759"
  },
  {
    "text": "so if i do the same thing again and this",
    "start": "327759",
    "end": "330720"
  },
  {
    "text": "time i",
    "start": "330720",
    "end": "332240"
  },
  {
    "text": "drop all capabilities",
    "start": "332240",
    "end": "335840"
  },
  {
    "text": "and i run the same command again and",
    "start": "336240",
    "end": "339199"
  },
  {
    "text": "this time",
    "start": "339199",
    "end": "340800"
  },
  {
    "text": "we see we get no capabilities so",
    "start": "340800",
    "end": "345120"
  },
  {
    "text": "depending on which ones you get set it",
    "start": "345120",
    "end": "346880"
  },
  {
    "text": "will always be somewhere in the range",
    "start": "346880",
    "end": "348479"
  },
  {
    "text": "between zero",
    "start": "348479",
    "end": "349360"
  },
  {
    "text": "and three lots of s",
    "start": "349360",
    "end": "353199"
  },
  {
    "text": "if i don't specify anything by default",
    "start": "353199",
    "end": "358000"
  },
  {
    "text": "and i do the same thing",
    "start": "358400",
    "end": "361759"
  },
  {
    "text": "[Music]",
    "start": "362370",
    "end": "365440"
  },
  {
    "text": "it's some value in between the two so i",
    "start": "365440",
    "end": "367840"
  },
  {
    "text": "i definitely don't have all the",
    "start": "367840",
    "end": "369199"
  },
  {
    "text": "capabilities by default",
    "start": "369199",
    "end": "370960"
  },
  {
    "text": "in fact docker gives us a sensible",
    "start": "370960",
    "end": "373199"
  },
  {
    "text": "subset",
    "start": "373199",
    "end": "374720"
  },
  {
    "text": "so that default is is",
    "start": "374720",
    "end": "377919"
  },
  {
    "text": "good to start with if you're being very",
    "start": "377919",
    "end": "380000"
  },
  {
    "text": "very particular",
    "start": "380000",
    "end": "381360"
  },
  {
    "text": "you might want to specify a particular",
    "start": "381360",
    "end": "384000"
  },
  {
    "text": "set of capabilities",
    "start": "384000",
    "end": "385680"
  },
  {
    "text": "to reduce for each container",
    "start": "385680",
    "end": "388960"
  },
  {
    "text": "precisely the ones that you you need",
    "start": "388960",
    "end": "392160"
  },
  {
    "text": "um that's a whole other topic",
    "start": "392160",
    "end": "395440"
  },
  {
    "text": "so let's run with instead of specifying",
    "start": "395440",
    "end": "398240"
  },
  {
    "text": "capabilities i'm gonna",
    "start": "398240",
    "end": "400000"
  },
  {
    "text": "set the privileged flag",
    "start": "400000",
    "end": "401770"
  },
  {
    "text": "[Music]",
    "start": "401770",
    "end": "404319"
  },
  {
    "text": "and i'm gonna do the same thing",
    "start": "404319",
    "end": "409280"
  },
  {
    "text": "and oops",
    "start": "409280",
    "end": "411100"
  },
  {
    "text": "[Music]",
    "start": "411100",
    "end": "413360"
  },
  {
    "text": "there we go and we can see that that's",
    "start": "413360",
    "end": "416639"
  },
  {
    "text": "equivalent to",
    "start": "416639",
    "end": "417680"
  },
  {
    "text": "turning on all the capabilities we got",
    "start": "417680",
    "end": "419759"
  },
  {
    "text": "the three and followed by lots of f's",
    "start": "419759",
    "end": "423039"
  },
  {
    "text": "okay so that doesn't sound so bad",
    "start": "423039",
    "end": "426960"
  },
  {
    "text": "i mean i've got all the capabilities",
    "start": "426960",
    "end": "429759"
  },
  {
    "text": "i've got the ability to do things like",
    "start": "429759",
    "end": "431919"
  },
  {
    "text": "p trace or install a kernel module um",
    "start": "431919",
    "end": "436000"
  },
  {
    "text": "doesn't seem any more dangerous than um",
    "start": "436000",
    "end": "438880"
  },
  {
    "text": "explicitly adding all the capabilities",
    "start": "438880",
    "end": "441840"
  },
  {
    "text": "privileged also does one more thing",
    "start": "441840",
    "end": "445759"
  },
  {
    "text": "so let's just run by default again",
    "start": "445759",
    "end": "450960"
  },
  {
    "text": "and have a look at what we can see in",
    "start": "450960",
    "end": "452960"
  },
  {
    "text": "the slash dev directory",
    "start": "452960",
    "end": "454960"
  },
  {
    "text": "and there's there are some devices there",
    "start": "454960",
    "end": "457680"
  },
  {
    "text": "there are some things",
    "start": "457680",
    "end": "459120"
  },
  {
    "text": "mounted some devices mounted into the",
    "start": "459120",
    "end": "460880"
  },
  {
    "text": "container",
    "start": "460880",
    "end": "461660"
  },
  {
    "text": "[Music]",
    "start": "461660",
    "end": "463440"
  },
  {
    "text": "let's examine that i do the same thing",
    "start": "463440",
    "end": "467680"
  },
  {
    "text": "with privileged",
    "start": "467680",
    "end": "470879"
  },
  {
    "text": "and we look at the devices there are a",
    "start": "471039",
    "end": "473759"
  },
  {
    "text": "lot",
    "start": "473759",
    "end": "474560"
  },
  {
    "text": "and i apologize for the color scheme",
    "start": "474560",
    "end": "476800"
  },
  {
    "text": "here i don't know what's happened there",
    "start": "476800",
    "end": "479840"
  },
  {
    "text": "with the privileged flag we have access",
    "start": "479840",
    "end": "482000"
  },
  {
    "text": "to all of the devices",
    "start": "482000",
    "end": "483840"
  },
  {
    "text": "on the host so if i wanted to if i have",
    "start": "483840",
    "end": "487039"
  },
  {
    "text": "the privilege flag i could do things",
    "start": "487039",
    "end": "488800"
  },
  {
    "text": "like",
    "start": "488800",
    "end": "489440"
  },
  {
    "text": "reformat the disks on the host this is",
    "start": "489440",
    "end": "492000"
  },
  {
    "text": "definitely",
    "start": "492000",
    "end": "493199"
  },
  {
    "text": "not something you want containers to be",
    "start": "493199",
    "end": "495759"
  },
  {
    "text": "able to do",
    "start": "495759",
    "end": "496960"
  },
  {
    "text": "so any container run with the privileged",
    "start": "496960",
    "end": "499840"
  },
  {
    "text": "flag",
    "start": "499840",
    "end": "501680"
  },
  {
    "text": "if that container were to be attacked if",
    "start": "501680",
    "end": "503919"
  },
  {
    "text": "a",
    "start": "503919",
    "end": "505440"
  },
  {
    "text": "hacker were able to get control of that",
    "start": "505440",
    "end": "507120"
  },
  {
    "text": "container if they've got the privileged",
    "start": "507120",
    "end": "509199"
  },
  {
    "text": "flag",
    "start": "509199",
    "end": "510160"
  },
  {
    "text": "they can you know completely game over",
    "start": "510160",
    "end": "513200"
  },
  {
    "text": "they have access to everything on your",
    "start": "513200",
    "end": "515039"
  },
  {
    "text": "host",
    "start": "515039",
    "end": "516159"
  },
  {
    "text": "so that is why uh",
    "start": "516159",
    "end": "520159"
  },
  {
    "text": "you can consider that flag to be",
    "start": "520159",
    "end": "523518"
  },
  {
    "text": "the most dangerous flag in computing",
    "start": "523519",
    "end": "527279"
  },
  {
    "text": "and more importantly you do not need",
    "start": "527279",
    "end": "529200"
  },
  {
    "text": "privileged in order to be root",
    "start": "529200",
    "end": "531040"
  },
  {
    "text": "your route by default in a container",
    "start": "531040",
    "end": "533279"
  },
  {
    "text": "anyway",
    "start": "533279",
    "end": "534720"
  },
  {
    "text": "this is one of the reasons why it's",
    "start": "534720",
    "end": "536800"
  },
  {
    "text": "dangerous not just because of how",
    "start": "536800",
    "end": "538160"
  },
  {
    "text": "powerful it is",
    "start": "538160",
    "end": "539519"
  },
  {
    "text": "but because people have a tendency to",
    "start": "539519",
    "end": "541519"
  },
  {
    "text": "think",
    "start": "541519",
    "end": "542720"
  },
  {
    "text": "well if i'm not",
    "start": "542720",
    "end": "546080"
  },
  {
    "text": "if privileged means people tend to think",
    "start": "546080",
    "end": "549200"
  },
  {
    "text": "that privilege means",
    "start": "549200",
    "end": "550480"
  },
  {
    "text": "i'm running as root and therefore they",
    "start": "550480",
    "end": "552480"
  },
  {
    "text": "assume that if you're not running with",
    "start": "552480",
    "end": "553920"
  },
  {
    "text": "privileged",
    "start": "553920",
    "end": "554560"
  },
  {
    "text": "you're not rude and that is not true",
    "start": "554560",
    "end": "557680"
  },
  {
    "text": "by default you are root and your roots",
    "start": "557680",
    "end": "561279"
  },
  {
    "text": "on the you it's the same reviews on the",
    "start": "561279",
    "end": "563360"
  },
  {
    "text": "host as it is inside the container",
    "start": "563360",
    "end": "576800"
  },
  {
    "text": "you",
    "start": "576800",
    "end": "578880"
  }
]