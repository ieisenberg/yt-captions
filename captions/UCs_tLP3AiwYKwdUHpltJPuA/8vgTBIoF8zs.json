[
  {
    "text": "[Music]",
    "start": "2550",
    "end": "11640"
  },
  {
    "text": "hi so um this talk is actually going to be about locks and the reason why it is",
    "start": "12280",
    "end": "18400"
  },
  {
    "text": "about logs is that when I signed up for this talk I actually thought I would be speaking in the death hops track okay so",
    "start": "18400",
    "end": "25960"
  },
  {
    "text": "so so I thought okay what's good for a deop track locks is always a good topic okay and then I figured a few weeks ago that",
    "start": "25960",
    "end": "32238"
  },
  {
    "text": "uh actually I will not be speaking in the death Ops track but I'll be in the big data and analytics track and then I thought maybe should I should change my",
    "start": "32239",
    "end": "38600"
  },
  {
    "text": "talk but maybe not uh because if you're interested in big data and analytics uh then you probably have the",
    "start": "38600",
    "end": "44920"
  },
  {
    "text": "problem that you have to ingest your data somehow have to transform it somehow and then put it somewhere else and this is a pain okay and this talk is",
    "start": "44920",
    "end": "52280"
  },
  {
    "text": "going to be about how to ease that pain for you okay few words about who I am I'm an",
    "start": "52280",
    "end": "59320"
  },
  {
    "text": "elastic search developer I joined elastic search one and a half years ago",
    "start": "59320",
    "end": "64518"
  },
  {
    "text": "and I basically joined because uh everybody's doing big data and I also wanted to do big data yeah wanted to do",
    "start": "64519",
    "end": "70240"
  },
  {
    "text": "data analysis and which I'm really super interested in although I must admit that",
    "start": "70240",
    "end": "75799"
  },
  {
    "text": "doing I'm now doing a lot of things at elastic search so a little bit of everything um and one thing that I would",
    "start": "75799",
    "end": "81759"
  },
  {
    "text": "like to mention is that I have no Ops background whatsoever and this is bad okay and this is bad for two reasons so",
    "start": "81759",
    "end": "88119"
  },
  {
    "text": "the first is uh I'm going to be touching many Ops related topics in this talk so",
    "start": "88119",
    "end": "93399"
  },
  {
    "text": "um ask me all you want about elastic search um if you want to know cfare integration on your 100 note cluster",
    "start": "93399",
    "end": "99119"
  },
  {
    "text": "that runs on AWS okay we'll see about I'll be able to answer okay but there's",
    "start": "99119",
    "end": "105000"
  },
  {
    "text": "a second reason why this is really bad and that is because that uh these two things interested in data analysis",
    "start": "105000",
    "end": "111840"
  },
  {
    "text": "especially in Big Data analysis and not having having a Ops background actually conflict because some of the biggest",
    "start": "111840",
    "end": "118560"
  },
  {
    "text": "data that we're having L around right now and that badly needs analysis are loog",
    "start": "118560",
    "end": "124000"
  },
  {
    "text": "files okay okay so how do we solve this problem if",
    "start": "124000",
    "end": "130160"
  },
  {
    "text": "you're somebody like me and you want to analyze lock files and so I'm going to give a a very brief introduction to the",
    "start": "130160",
    "end": "136800"
  },
  {
    "text": "alc it is elastic search lock stash in gabana and just a quick poll who of you have ever used",
    "start": "136800",
    "end": "143519"
  },
  {
    "text": "that oh quite a few huh okay good so this is going to be a very very",
    "start": "143519",
    "end": "148840"
  },
  {
    "text": "superficial beginners introduction and what this is all about okay so maybe",
    "start": "148840",
    "end": "153920"
  },
  {
    "text": "those who just raised their hand might not be super interested um but then I'm going to talk a little bit about uh analytics with elastic search and then",
    "start": "153920",
    "end": "160840"
  },
  {
    "text": "I'm going to show you kibana 4 uh which just came out a few weeks ago it's still in the B uh which is the visualization",
    "start": "160840",
    "end": "167599"
  },
  {
    "text": "part of this whole stack okay so what is Elk um so it's",
    "start": "167599",
    "end": "175319"
  },
  {
    "text": "basically three components first component is lock stash uh which would just allow ow you to easily ingest data",
    "start": "175319",
    "end": "181480"
  },
  {
    "text": "transform it and output it to some other application uh it has many inputs many outputs I'm going to talk about this in",
    "start": "181480",
    "end": "187879"
  },
  {
    "text": "a minute uh but the output that I will be talking about is elastic search uh the search engine and document",
    "start": "187879",
    "end": "195159"
  },
  {
    "text": "store and then once you have your data in in elastic search because elastic search really is uh more or less a back",
    "start": "195159",
    "end": "202080"
  },
  {
    "text": "end uh what you really want to look at your data okay and the uh software that we have at elastic search for that is",
    "start": "202080",
    "end": "208239"
  },
  {
    "text": "called kibana okay okay this is the three components uh but first let's talk a little bit about",
    "start": "208239",
    "end": "214439"
  },
  {
    "text": "data so uh when you're dealing with data and I'll I'll exclusively talk about data that comes in the form of maybe",
    "start": "214439",
    "end": "220920"
  },
  {
    "text": "messages or documents just one unit and it mainly contains a text so in dealing with data and you're really lucky then",
    "start": "220920",
    "end": "227599"
  },
  {
    "text": "maybe you pull your data from some sort of API for example you could pull it from IRC or from Twitter if you get it",
    "start": "227599",
    "end": "233040"
  },
  {
    "text": "from Twitter what you get this nicely format adjacent document that has all the different entries in lots of information and you can easily take it",
    "start": "233040",
    "end": "240319"
  },
  {
    "text": "and put it somewhere else or find out what this is all about but uh if you're not so",
    "start": "240319",
    "end": "245560"
  },
  {
    "text": "lucky uh then you might actually be looking at logs okay so let's look at some logs",
    "start": "245560",
    "end": "252319"
  },
  {
    "text": "okay on uh so what's going on with my system so",
    "start": "252319",
    "end": "257680"
  },
  {
    "text": "this my system log right now right uh so it starts off with a time stamp here",
    "start": "257680",
    "end": "263560"
  },
  {
    "text": "okay next comes the host name I really rename my computer I think uh then there's a component that",
    "start": "263560",
    "end": "270639"
  },
  {
    "text": "actually wrote The Log In this case uh hipchat and then comes some message uh that would tell a system",
    "start": "270639",
    "end": "277280"
  },
  {
    "text": "administrator or somebody who wrote the software what's actually happening right now okay and this is basically",
    "start": "277280",
    "end": "282600"
  },
  {
    "text": "unstructured text okay so it's what a CIS looks like so if you want to ingest a CIS loog um",
    "start": "282600",
    "end": "289840"
  },
  {
    "text": "you would probably have to write or usually you would have to write okay your own little tool that passes the Tim",
    "start": "289840",
    "end": "294919"
  },
  {
    "text": "stamp that passes the host name the component and then maybe the text and puts it somewhere okay but now have different application they write",
    "start": "294919",
    "end": "300960"
  },
  {
    "text": "different logs and in this talk I'll be talking about two data sets so I'm just going to show an example of this uh so",
    "start": "300960",
    "end": "308440"
  },
  {
    "text": "one is this log here so that starts very differently it",
    "start": "308440",
    "end": "315199"
  },
  {
    "text": "doesn't start uh with a time stamp it starts with this number here so this is really just an ever increasing ID okay",
    "start": "315199",
    "end": "320280"
  },
  {
    "text": "and then comes another number so who can tell me what this is it's also a time stamp it's a Unix",
    "start": "320280",
    "end": "327840"
  },
  {
    "text": "time stamp yeah awesome right so uh and then you have and this is a Wikipedia",
    "start": "327840",
    "end": "334919"
  },
  {
    "text": "access lock so this would be the requested component here okay so if you want to pause this also in addition to",
    "start": "334919",
    "end": "340600"
  },
  {
    "text": "the Sal lock that we've just seen you had to write another little script that paes all this stuff in right okay so",
    "start": "340600",
    "end": "347080"
  },
  {
    "text": "let's look at another log uh I don't think I have this prepared",
    "start": "347080",
    "end": "353280"
  },
  {
    "text": "so so anybody else what this is okay so one of these entries this is",
    "start": "353360",
    "end": "359479"
  },
  {
    "text": "an in a patchy log okay so starts off with an IP then would come user authentification again a Tim stamp the",
    "start": "359479",
    "end": "366800"
  },
  {
    "text": "get request uh the referer here so who referred the user actually to this",
    "start": "366800",
    "end": "371919"
  },
  {
    "text": "resource and then this is the resource that was actually requested here oops um",
    "start": "371919",
    "end": "378599"
  },
  {
    "text": "and then comes the actual agent that was tell us something about what browser for example that user uses what OS is using",
    "start": "378599",
    "end": "383840"
  },
  {
    "text": "and so on and so forth and as you can imagine I mean such an apach loog holds an awful lot of information alone the AP",
    "start": "383840",
    "end": "389160"
  },
  {
    "text": "think about it you can get from the app you can get an idea where this user is from it might not be accurate but you can idea where it's from you can know uh",
    "start": "389160",
    "end": "395840"
  },
  {
    "text": "what kind of well browser verions you actually have to support on your web page by just looking at uh the agent and",
    "start": "395840",
    "end": "401599"
  },
  {
    "text": "all that but still you would have to ingest all this data okay and that's a pain okay",
    "start": "401599",
    "end": "409120"
  },
  {
    "text": "so and the way you can do this easily in a modular way is lock stash okay uh lock",
    "start": "409120",
    "end": "415199"
  },
  {
    "text": "stash in a few sentences uh is a ruby application uh that allows you to collect en rich and store data in a very",
    "start": "415199",
    "end": "421000"
  },
  {
    "text": "easy way and it's particularly designed for large data that is we have gig or",
    "start": "421000",
    "end": "426759"
  },
  {
    "text": "terabytes of data that are constantly flowing in okay and horizontally scalable means as more data Flows In all",
    "start": "426759",
    "end": "433000"
  },
  {
    "text": "you have to do is add more nodes and more lock instances and this will just scale and best thing about it it's open",
    "start": "433000",
    "end": "438360"
  },
  {
    "text": "source yay it's a fety tool okay so so the basic idea of lockage is that",
    "start": "438360",
    "end": "446560"
  },
  {
    "text": "it has three components which are completely modular so you have an input component uh which would just connect uh",
    "start": "446560",
    "end": "454759"
  },
  {
    "text": "to this resource uh that actually passes the message okay this can be a data store it can be a particular lock file",
    "start": "454759",
    "end": "461440"
  },
  {
    "text": "it can be actually any file it can be some monitoring system it can be some Q like rabbit mq all these different",
    "start": "461440",
    "end": "468479"
  },
  {
    "text": "things takes messages from there and then the second component is the filter the filter would allow you to parse",
    "start": "468479",
    "end": "474720"
  },
  {
    "text": "these messages uh to enrich them with for example information about the GE IP",
    "start": "474720",
    "end": "479919"
  },
  {
    "text": "or about the user agent as you seen the in this log before uh mutate this message transform",
    "start": "479919",
    "end": "486759"
  },
  {
    "text": "it and then output it to somewhere else and this is the third component uh Lu has many outputs so you can write to",
    "start": "486759",
    "end": "492159"
  },
  {
    "text": "various data stores uh email P of Duty various chat programs and so on and so",
    "start": "492159",
    "end": "498199"
  },
  {
    "text": "forth and the cool thing about it is really modular so if you want to switch your output because just because you",
    "start": "498199",
    "end": "504479"
  },
  {
    "text": "change your data store you don't have to change the input in the filter you really only have to change the output",
    "start": "504479",
    "end": "510199"
  },
  {
    "text": "okay so just a quick example on how this would look in practice so if you what oh okay",
    "start": "510199",
    "end": "519039"
  },
  {
    "text": "sorry okay um if you download lock stash what you would",
    "start": "519039",
    "end": "525839"
  },
  {
    "text": "get yeah it's just this uh tar file okay and all you have to do uh to get luxar",
    "start": "525839",
    "end": "532600"
  },
  {
    "text": "started is just two things the one is just unpack it okay so just unpack this",
    "start": "532600",
    "end": "538680"
  },
  {
    "text": "thing and the second thing you would have to do is you have to write a little config file that tells Loos which input component which filter and which output",
    "start": "538680",
    "end": "545120"
  },
  {
    "text": "component actually to use okay so let's look at the most simplistic uh config file that you can think of and that",
    "start": "545120",
    "end": "551440"
  },
  {
    "text": "would be um so this would be list",
    "start": "551440",
    "end": "557440"
  },
  {
    "text": "one um in this case we say okay uh the input is just standard in so once lock",
    "start": "557440",
    "end": "562720"
  },
  {
    "text": "starts it'll just read messages from standard in okay it'll do nothing with them and then just output them to",
    "start": "562720",
    "end": "569120"
  },
  {
    "text": "standard out okay which might not seem very interesting but I'm just showing you for presentation purposes uh the",
    "start": "569120",
    "end": "574839"
  },
  {
    "text": "only thing I'm saying here uh I'm changing here is uh give me the the dback output so just so that you know",
    "start": "574839",
    "end": "580640"
  },
  {
    "text": "what's actually going on okay and then to start lock stash all you have to do is say",
    "start": "580640",
    "end": "587320"
  },
  {
    "text": "Okay um start lock stash with this command uh point it to the actual config",
    "start": "587320",
    "end": "592839"
  },
  {
    "text": "file oops uh and then they'll start and start",
    "start": "592839",
    "end": "599839"
  },
  {
    "text": "reading whatever you type into the command line okay so for example if I know type",
    "start": "599839",
    "end": "605040"
  },
  {
    "text": "hello um it'll do several things with this message so first of all there's going to be a field that's called uh",
    "start": "605040",
    "end": "611120"
  },
  {
    "text": "message and that will contain whatever you typed in there uh a version which is really just an internal thing of lockar",
    "start": "611120",
    "end": "616320"
  },
  {
    "text": "so we can ignore it for now H it'll automatically add a time stamp for you that is one was this message actually",
    "start": "616320",
    "end": "621480"
  },
  {
    "text": "received and add the host name at which Hostess was actually received okay so um",
    "start": "621480",
    "end": "630399"
  },
  {
    "text": "this might not be super interesting because really what we're interested in is what how can we uh get more information out of for example this",
    "start": "630399",
    "end": "636320"
  },
  {
    "text": "Apache Lo that we seen before okay so just once more um to show you this",
    "start": "636320",
    "end": "643279"
  },
  {
    "text": "oops this is really uh what you want to pass so what you would need is the third component uh that I was talking about",
    "start": "643279",
    "end": "649920"
  },
  {
    "text": "before that is this filter component okay so how could a filter for such an Apache log look",
    "start": "649920",
    "end": "655000"
  },
  {
    "text": "like and then again just going to show this",
    "start": "655000",
    "end": "661240"
  },
  {
    "text": "so here's how a filter could look like um I'd actually love to go into all the details and explain all the different",
    "start": "661560",
    "end": "667519"
  },
  {
    "text": "goodies that come with these filters and how to use them um but I can't uh if you have a detailed question about what the",
    "start": "667519",
    "end": "673680"
  },
  {
    "text": "different filters can do and what kind of different filters we have you can find me later uh at the elastic search booth and ask me or one of my colleagues",
    "start": "673680",
    "end": "681040"
  },
  {
    "text": "uh but for for now all you need to know is the most important filter for poing lock files is the grock filter which is",
    "start": "681040",
    "end": "686480"
  },
  {
    "text": "just an easy way to define sort of regular expressions and then we have two more filters here which is the date filter that will",
    "start": "686480",
    "end": "692680"
  },
  {
    "text": "actually uh pars an actual date from a string and the guip filter that will enhance uh the IP that was passed with",
    "start": "692680",
    "end": "700320"
  },
  {
    "text": "particular information and the user agent which will make sense of this user agent file that we've seen before okay",
    "start": "700320",
    "end": "705519"
  },
  {
    "text": "and output is against standed out so just to show you how this",
    "start": "705519",
    "end": "710639"
  },
  {
    "text": "works uh again we",
    "start": "710639",
    "end": "715160"
  },
  {
    "text": "can start lock stash again as we did before uh point it now to this different",
    "start": "718240",
    "end": "725320"
  },
  {
    "text": "config file and then just copy and paste any of these",
    "start": "725320",
    "end": "730360"
  },
  {
    "text": "lines into our standard in and then see what's",
    "start": "730360",
    "end": "737079"
  },
  {
    "text": "happening okay so so here's what's actually happening so it takes this",
    "start": "737079",
    "end": "742600"
  },
  {
    "text": "message um again puts it into a field that is called message but then there's much more with it okay pars is decline I",
    "start": "742600",
    "end": "749639"
  },
  {
    "text": "it passes the Tim stamp what the request actually was what was the HTP version status code how many bytes were",
    "start": "749639",
    "end": "755760"
  },
  {
    "text": "transferred who was the referer what was the agent um and about the agent not only what is the agent but also what is",
    "start": "755760",
    "end": "762519"
  },
  {
    "text": "the name of the agent what operation system will support what's the major and minor version right all interesting",
    "start": "762519",
    "end": "767720"
  },
  {
    "text": "stuff um or for the goip it's not just the go it also gives you the different country code it gives you maybe",
    "start": "767720",
    "end": "773519"
  },
  {
    "text": "sometimes even a city name and might even give you uh an area location such",
    "start": "773519",
    "end": "778800"
  },
  {
    "text": "as itude and lo uh latitude and longitude which might not be exact okay but uh if you have lots of these logs it",
    "start": "778800",
    "end": "785560"
  },
  {
    "text": "might give you some information so and the message here is while I",
    "start": "785560",
    "end": "791560"
  },
  {
    "text": "cannot go into the details oh yeah oh right and then of course I mean it tries to PA it right but if I just press",
    "start": "791560",
    "end": "796720"
  },
  {
    "text": "return it's not really a message so it'll tell you oh no uh no way no can do okay so the message here is you have",
    "start": "796720",
    "end": "804680"
  },
  {
    "text": "these these log files you have lots of them and all you have to do is to write this little config file that I showed before that is really really short and",
    "start": "804680",
    "end": "811839"
  },
  {
    "text": "suddenly you can get all this information out of it okay",
    "start": "811839",
    "end": "817800"
  },
  {
    "text": "awesome okay so um so I said before uh Lo",
    "start": "817800",
    "end": "824880"
  },
  {
    "text": "session has many different outputs um such as data source email and so on and so forth if you want to know",
    "start": "824880",
    "end": "830800"
  },
  {
    "text": "everything about these outputs either you can find us at the booth or you can also just go to the lock St uh homepage",
    "start": "830800",
    "end": "836800"
  },
  {
    "text": "and check out the spectacular documentation so the Lu documentation is",
    "start": "836800",
    "end": "841880"
  },
  {
    "text": "spectacularly well written I think okay so you can just go there there a huge list that tells you everything that you",
    "start": "841880",
    "end": "847519"
  },
  {
    "text": "need to know about all the different inputs and outputs okay but the output we'll be talking about is really just",
    "start": "847519",
    "end": "852759"
  },
  {
    "text": "elastic search okay so what is elastic search uh in a nutshell again it's written in Java shamer free so it's by",
    "start": "852759",
    "end": "860800"
  },
  {
    "text": "no SQL track here uh Json based meaning it can just uh ingest everything that comes in Jason and then the one thing",
    "start": "860800",
    "end": "866959"
  },
  {
    "text": "and I really apologize that I don't have this on the slide it's based on Lucine okay uh you can think of elastic search",
    "start": "866959",
    "end": "872959"
  },
  {
    "text": "basically as distributed Lucine and Lucine uh just in case you don't know uh",
    "start": "872959",
    "end": "878399"
  },
  {
    "text": "is this uh search Library this this Apache search Library okay so it's a",
    "start": "878399",
    "end": "883480"
  },
  {
    "text": "search engine uh and just like Lo it was really designed for SC H scaling horizontally meaning that if you uh",
    "start": "883480",
    "end": "891079"
  },
  {
    "text": "story documents with elastic search and more and more data Flows In all you have to do is add more computers start more",
    "start": "891079",
    "end": "896959"
  },
  {
    "text": "elastic search nodes and this will just scan and again it's open source a fety to",
    "start": "896959",
    "end": "902199"
  },
  {
    "text": "license okay so let's take a look at how elastic search looks like um again if you download elastic",
    "start": "902199",
    "end": "910720"
  },
  {
    "text": "search just like L you would just get a um tar file this is the beta actually",
    "start": "910720",
    "end": "916959"
  },
  {
    "text": "1.4 GA came out yesterday but I forgot to download it so I'll just be demoing the better which which is also cool but",
    "start": "916959",
    "end": "923279"
  },
  {
    "text": "yeah and then just like before all we have to do is just say Okay um unar it",
    "start": "923279",
    "end": "929560"
  },
  {
    "text": "and that's it that's all you have to do and then you can start elastic search now for the purpose of this demonstration I told before elastic",
    "start": "929560",
    "end": "935680"
  },
  {
    "text": "search has a back end and you can communicate to it for example via HTTP and curl uh but this is not really nice",
    "start": "935680",
    "end": "941319"
  },
  {
    "text": "to show right so I'm just going to install one more thing for elastic search just to make it easier for you to see what's actually going on um and that",
    "start": "941319",
    "end": "948480"
  },
  {
    "text": "is Marvel that's a plugin for elastic search um that would allow your a to",
    "start": "948480",
    "end": "953720"
  },
  {
    "text": "monitor elastic search and then also comes with a nice user interface that's called sense uh that makes it easy to to",
    "start": "953720",
    "end": "959160"
  },
  {
    "text": "execute queries against elastic search Okay um Marvel is unfortunately not for",
    "start": "959160",
    "end": "964720"
  },
  {
    "text": "free uh although it is free in development so yeah okay and then again",
    "start": "964720",
    "end": "970600"
  },
  {
    "text": "just like last St it's just started with this command and then it'll",
    "start": "970600",
    "end": "975920"
  },
  {
    "text": "run okay so so I said before and I just want to",
    "start": "975920",
    "end": "982600"
  },
  {
    "text": "prove that this is actually the case uh you can talk to it via curl so for example you can say okay is it really",
    "start": "982600",
    "end": "987759"
  },
  {
    "text": "running um um per default it'll listen on Port 9,200 so is it up and running",
    "start": "987759",
    "end": "993720"
  },
  {
    "text": "and yeah here it is okay um so here's the status code K 200 is there uh the",
    "start": "993720",
    "end": "999120"
  },
  {
    "text": "name will always be some Marvel Superhero if you don't not Define anything else okay so in this case the",
    "start": "999120",
    "end": "1005839"
  },
  {
    "text": "tomorrow man S I have no clue who that is okay good oh no no no supposed to see",
    "start": "1005839",
    "end": "1014399"
  },
  {
    "text": "that okay so so this is sense here uh which I open just for for demonstration",
    "start": "1014399",
    "end": "1020680"
  },
  {
    "text": "purposes okay I said before uh it adest everything that um uh that comes in Json format so for",
    "start": "1020680",
    "end": "1028000"
  },
  {
    "text": "example here we would say okay I give you this document it just has a field text and in this text is hello and the",
    "start": "1028000",
    "end": "1033720"
  },
  {
    "text": "way elastic search organizes documents is in two sort of logical units the first one is an index and you can",
    "start": "1033720",
    "end": "1039079"
  },
  {
    "text": "roughly think of an index as one database and then a type so you can roughly think of a type as a table okay",
    "start": "1039079",
    "end": "1045280"
  },
  {
    "text": "this is the basic Association so in this case I would say okay I call the index test index and I call the type Doc and I",
    "start": "1045280",
    "end": "1051679"
  },
  {
    "text": "give it an ID say okay hello it says okay the document is there and then when",
    "start": "1051679",
    "end": "1057039"
  },
  {
    "text": "I want to search for it again uh I can execute a query for example uh this would be a match query just give me all",
    "start": "1057039",
    "end": "1063160"
  },
  {
    "text": "the documents that have hello in the field text it would say yeah here's a",
    "start": "1063160",
    "end": "1068280"
  },
  {
    "text": "document okay if I look for Hells it would say no there is no document um so this part here the query",
    "start": "1068280",
    "end": "1075720"
  },
  {
    "text": "part this is actually the important part that elastic search uh uh elastic search query language is really huge very",
    "start": "1075720",
    "end": "1081799"
  },
  {
    "text": "powerful uh comes in many different uh ways uh and I will not be talking about",
    "start": "1081799",
    "end": "1087520"
  },
  {
    "text": "it at all so if you want to know more about elastic search how it works they",
    "start": "1087520",
    "end": "1092919"
  },
  {
    "text": "want a really good introduction and know all about the query language and all the different goodies that come with it you",
    "start": "1092919",
    "end": "1098520"
  },
  {
    "text": "read this book it's elastic search to definitive guide by my two colleagues uh Clinton gley and Zar Tong and this is",
    "start": "1098520",
    "end": "1104000"
  },
  {
    "text": "really the best introduction you can get into elastic search okay",
    "start": "1104000",
    "end": "1110159"
  },
  {
    "text": "all right so now we're actually uh ready to ingest",
    "start": "1110159",
    "end": "1118000"
  },
  {
    "text": "this loog file that I've shown you before and put it into elastic search um so",
    "start": "1118000",
    "end": "1124559"
  },
  {
    "text": "now first thing uh we need again this config file okay that will allow us to pars and storage elastic search so the",
    "start": "1124559",
    "end": "1130799"
  },
  {
    "text": "config file would in this case uh just look like this oops oh oh yeah right",
    "start": "1130799",
    "end": "1139400"
  },
  {
    "text": "sorry again uh we take it from standard in we have the same filters that we had before and the only thing I have to",
    "start": "1139400",
    "end": "1144919"
  },
  {
    "text": "change here is the output say Okay output is now elastic search using this protocol HTTP actually you do not even",
    "start": "1144919",
    "end": "1150640"
  },
  {
    "text": "have to add this line I'm only adding it because I later on will be showing kibana for and kib 4 needs elastic",
    "start": "1150640",
    "end": "1155720"
  },
  {
    "text": "search 1.4 but lock per default uses elastic search I think 1.3 some note so",
    "start": "1155720",
    "end": "1161640"
  },
  {
    "text": "this is the only reason why I'm putting this year um usually you don't have to okay and then to just uh get the",
    "start": "1161640",
    "end": "1169880"
  },
  {
    "text": "stuff into elastic search you do is just C uh was the sample log and we pipe it",
    "start": "1169880",
    "end": "1177200"
  },
  {
    "text": "into lock",
    "start": "1177200",
    "end": "1179639"
  },
  {
    "text": "stash and again point it to the config file which was in this case the",
    "start": "1182400",
    "end": "1189280"
  },
  {
    "text": "uh this config file and that's it and now all these",
    "start": "1189280",
    "end": "1194400"
  },
  {
    "text": "lines from the sample log will be read by lock stash will be pared uh put into",
    "start": "1194400",
    "end": "1199600"
  },
  {
    "text": "this format that we've seen before uh converted to adjacent document and then sent to elastic search for",
    "start": "1199600",
    "end": "1204840"
  },
  {
    "text": "indexing okay before we look at this there is actually uh a few things that we need to know the first is as I said",
    "start": "1204840",
    "end": "1210880"
  },
  {
    "text": "elastic search organizes uh documents and indices and what lock does is per",
    "start": "1210880",
    "end": "1216080"
  },
  {
    "text": "default it says okay just create one index per day and whenever a message",
    "start": "1216080",
    "end": "1221600"
  },
  {
    "text": "comes in and that has a time stamp check out which day this would fall into and this is then also uh the index that this",
    "start": "1221600",
    "end": "1229120"
  },
  {
    "text": "document would be indexed to okay this just per",
    "start": "1229120",
    "end": "1234919"
  },
  {
    "text": "default okay so let's see if we already have something",
    "start": "1235000",
    "end": "1240280"
  },
  {
    "text": "uh so if we search yay there's some documents so far",
    "start": "1240280",
    "end": "1245440"
  },
  {
    "text": "12585 and then we can see it's actually the same documents that we've seen before just now in Json format and index",
    "start": "1245440",
    "end": "1250760"
  },
  {
    "text": "and elastic search okay and now we can start asking questions for example how many people that visit my website uh use",
    "start": "1250760",
    "end": "1258080"
  },
  {
    "text": "Windows uhhuh 5,100 or 5,200 so far and how many me",
    "start": "1258080",
    "end": "1263919"
  },
  {
    "text": "users ahuh less interesting so so what's the most often used operation system",
    "start": "1263919",
    "end": "1269919"
  },
  {
    "text": "that's an interesting question right um and you don't want to go I mean you don't want to go through all the different operation Operation systems",
    "start": "1269919",
    "end": "1275880"
  },
  {
    "text": "that look like okay but Mac and windows and H what else do we have instead what you want to do is we want to have it the other way around you want to have it",
    "start": "1275880",
    "end": "1281559"
  },
  {
    "text": "give me all the operation systems that uh that we have and then count and give me the maximum so which one which one",
    "start": "1281559",
    "end": "1287159"
  },
  {
    "text": "was much often requested and this is what we call an elastic search and aggregation again to to explain the",
    "start": "1287159",
    "end": "1292520"
  },
  {
    "text": "details of this aggregation I I have to refer you to this this wonderful book",
    "start": "1292520",
    "end": "1297720"
  },
  {
    "text": "um uh but for not just in brief how it works um you say okay you define an aggregation give it a name and in this",
    "start": "1297720",
    "end": "1304039"
  },
  {
    "text": "case it would be terms aggregation so the the information about the operation system for example we have it here in",
    "start": "1304039",
    "end": "1309799"
  },
  {
    "text": "the uh user agent notas so I say okay just aggregate all",
    "start": "1309799",
    "end": "1315559"
  },
  {
    "text": "the terms in this user user agent. field and then count and then what you would get back or something like this okay",
    "start": "1315559",
    "end": "1322120"
  },
  {
    "text": "other I never tried that operation system I'm not sure if that's good but okay and then we have Windows 7 uh",
    "start": "1322120",
    "end": "1328679"
  },
  {
    "text": "Follow by Linux follows by Windows XP and so on okay um there's of course more things",
    "start": "1328679",
    "end": "1335320"
  },
  {
    "text": "that you want to know you might also want to know okay just how many requests per day right so how many requests per",
    "start": "1335320",
    "end": "1340559"
  },
  {
    "text": "day you would then use a date histogram it's called Date histogram again look up the syntax in this wonderful book um and",
    "start": "1340559",
    "end": "1348600"
  },
  {
    "text": "then the state tagram would say Okay per day in this case just count all the documents okay that would give me the",
    "start": "1348600",
    "end": "1355159"
  },
  {
    "text": "dock count for uh 24th of May for the 25th of May and so on and so forth but",
    "start": "1355159",
    "end": "1361039"
  },
  {
    "text": "we could of go a step further we could say okay uh tell me what was the most popular request for each of these days",
    "start": "1361039",
    "end": "1367640"
  },
  {
    "text": "or no wait tell me what was the request that caused most traffic on this day",
    "start": "1367640",
    "end": "1372840"
  },
  {
    "text": "okay so you would end up with something like this here and I'm not going to explain it I'm just going to execute it uh so this is also an",
    "start": "1372840",
    "end": "1379840"
  },
  {
    "text": "aggregation and that would create for me one result per day and then per day",
    "start": "1379840",
    "end": "1385520"
  },
  {
    "text": "again it would split this up into the most popular requests which would then be sorted by the sum of the bytes that",
    "start": "1385520",
    "end": "1391240"
  },
  {
    "text": "were actually transferred okay and then we can take a look at that",
    "start": "1391240",
    "end": "1397520"
  },
  {
    "text": "and frankly if you look at that it's all nice that this is possible but it's actually not much better than the",
    "start": "1397520",
    "end": "1403600"
  },
  {
    "text": "original lock file that we had before I mean so which was the most popular request on the",
    "start": "1403600",
    "end": "1409039"
  },
  {
    "text": "uh 25th of June no idea okay so which brings us to",
    "start": "1409039",
    "end": "1415919"
  },
  {
    "text": "uh the last component that I actually want to talk about um that is kibana okay which would allow you to",
    "start": "1415919",
    "end": "1422720"
  },
  {
    "text": "actually visualize all this stuff uh so Cabana again an in net showell it's an in browser JavaScript application based",
    "start": "1422720",
    "end": "1429159"
  },
  {
    "text": "on angular of flood and D3 um and it uh speaks to elastic search",
    "start": "1429159",
    "end": "1434679"
  },
  {
    "text": "via these aggregation requests that that you've just seen before but allow ows you to uh actually construct these",
    "start": "1434679",
    "end": "1440679"
  },
  {
    "text": "aggregation requests in a with a nice user interface and then also uh makes nice visualizations of these for example",
    "start": "1440679",
    "end": "1447200"
  },
  {
    "text": "bar charts or pie charts if you're into that I'm actually not but yeah um and",
    "start": "1447200",
    "end": "1452640"
  },
  {
    "text": "then again it's open source it's for free okay so",
    "start": "1452640",
    "end": "1459760"
  },
  {
    "text": "uh yeah there's maybe one more thing I should talk say about that um I said before it's a better",
    "start": "1459760",
    "end": "1466440"
  },
  {
    "text": "right so it's a better um and I'm going to demo it now k 4 right",
    "start": "1466440",
    "end": "1472480"
  },
  {
    "text": "and well the thing is it is a better but uh the ga is still a little further away",
    "start": "1472480",
    "end": "1479440"
  },
  {
    "text": "and in the latest better that was released not only is it a better but also some of the really good goodies that will come uh actually missing in",
    "start": "1479440",
    "end": "1487320"
  },
  {
    "text": "this last release so uh so what I did for you is I just will give you an overview of what's about to come and I",
    "start": "1487320",
    "end": "1494480"
  },
  {
    "text": "created a little kibana Branch for you and where I just merged together all the different pull requests that like to",
    "start": "1494480",
    "end": "1499520"
  },
  {
    "text": "give you an overview and I'm going to run from this Branch okay so now we're entering the danger",
    "start": "1499520",
    "end": "1506480"
  },
  {
    "text": "zone so okay okay I started it already right",
    "start": "1506480",
    "end": "1511559"
  },
  {
    "text": "fin is up and running usually what you would have to do uh is actually again just that lock",
    "start": "1511559",
    "end": "1517360"
  },
  {
    "text": "stash in in elastic search you just download it from uh from the web page",
    "start": "1517360",
    "end": "1522399"
  },
  {
    "text": "you get this thing you un un uh unar it just start it just like the other ones and they will just run",
    "start": "1522399",
    "end": "1529640"
  },
  {
    "text": "Okay but well now I'm running from grun so let's see how that",
    "start": "1529640",
    "end": "1535840"
  },
  {
    "text": "goes okay uh so elastic search uh sorry uh keep for default uh lists on uh Port",
    "start": "1535840",
    "end": "1544640"
  },
  {
    "text": "561 when you start it up the first thing it's going to ask you is okay so what index are you actually what index do you",
    "start": "1544640",
    "end": "1549880"
  },
  {
    "text": "want to look at now we just index log files and as I said before they start with the lock Dash pattern lock Dash and",
    "start": "1549880",
    "end": "1555440"
  },
  {
    "text": "then something else so I'm just going to leave it here the default uh It'll ask me for a Time Field name um",
    "start": "1555440",
    "end": "1563000"
  },
  {
    "text": "you can actually say Okay I want to look at data that has no time based events but um for now it's time based event so",
    "start": "1563000",
    "end": "1569200"
  },
  {
    "text": "we just going to leave it this way create it next thing is going to show me okay and this is all the fields you have in",
    "start": "1569200",
    "end": "1575279"
  },
  {
    "text": "here and then there's three tabs that are basically important and I'm just going to talk about two of them um first",
    "start": "1575279",
    "end": "1581080"
  },
  {
    "text": "is the Discover tab uh which is just a part that allows you to say uh to figure out where your data actually is okay so",
    "start": "1581080",
    "end": "1588720"
  },
  {
    "text": "uhu no results fault that's a bad thing um maybe my data is just a little older okay so let's take a",
    "start": "1588720",
    "end": "1595640"
  },
  {
    "text": "look so I can say okay just show me what was going on in the last 15 years on my",
    "start": "1595640",
    "end": "1601360"
  },
  {
    "text": "lock stash indices and then we see AA okay something's going in here appar apparently this loile was from",
    "start": "1601360",
    "end": "1608799"
  },
  {
    "text": "2012 and it would give me a nice overview over uh what kind of data it is so so this would just aggregate um",
    "start": "1608799",
    "end": "1616159"
  },
  {
    "text": "depending on uh what the resolution is is and what it can actually render per day or in this case I think it's per 12",
    "start": "1616159",
    "end": "1622520"
  },
  {
    "text": "hours how many requests came in um and you see this nice seasonal pattern here",
    "start": "1622520",
    "end": "1627799"
  },
  {
    "text": "so I would expect that this is actually during the week and this is on the weekend because on the weekend people have other things to do than know uh",
    "start": "1627799",
    "end": "1634240"
  },
  {
    "text": "visiting web pages um okay so this is how it looks",
    "start": "1634240",
    "end": "1640320"
  },
  {
    "text": "like and uh then it'll show you also",
    "start": "1640320",
    "end": "1647159"
  },
  {
    "text": "um show you all the different messages for example here it would uh give you a nice overview of what you have in these",
    "start": "1647159",
    "end": "1652600"
  },
  {
    "text": "fields and it'll show you uh the same thing in Jon which is really ugly so you shouldn't use it so so this is okay the",
    "start": "1652600",
    "end": "1659960"
  },
  {
    "text": "message here is this is a a basic idea to give you uh give you an overview of what's actually in your data but if you",
    "start": "1659960",
    "end": "1665320"
  },
  {
    "text": "want to know more like the things we just seen before uh what you want to do is you actually want to go to the visualize Tab and create a visualization",
    "start": "1665320",
    "end": "1672000"
  },
  {
    "text": "from that okay and here is how this would look like so first of all I say okay uh I want to look at the lock stash",
    "start": "1672000",
    "end": "1678679"
  },
  {
    "text": "index as before and let's start off with a vertical bar chart okay which would in in the beginning be well very",
    "start": "1678679",
    "end": "1685240"
  },
  {
    "text": "uninteresting because it really just tell me how many documents are currently indexed um and then we can add this",
    "start": "1685240",
    "end": "1691559"
  },
  {
    "text": "aggregation that I was talking about before for example we can say okay uh make a dates histogram on the x-axis uh",
    "start": "1691559",
    "end": "1699320"
  },
  {
    "text": "time stamp field is actually the time stamp field uh make a daily",
    "start": "1699320",
    "end": "1706039"
  },
  {
    "text": "histogram and then let's see how this looks like okay and this is basically roughly what we've seen before actually",
    "start": "1707120",
    "end": "1713799"
  },
  {
    "text": "I'm wondering if I can just yeah that's better um that's basically what we've",
    "start": "1713799",
    "end": "1719000"
  },
  {
    "text": "seen before okay same similar seasonal pattern um but not much interest not",
    "start": "1719000",
    "end": "1724120"
  },
  {
    "text": "more interesting than what we've seen before so the next thing that we could look is for example say Okay um what was",
    "start": "1724120",
    "end": "1729799"
  },
  {
    "text": "the traffic how many bytes were actually transferred okay so to do this uh you",
    "start": "1729799",
    "end": "1734960"
  },
  {
    "text": "can configure the x-axis conf uh y- AIS configuration",
    "start": "1734960",
    "end": "1740039"
  },
  {
    "text": "oh uh yaxis configuration and say I just sum up all the bites per",
    "start": "1741440",
    "end": "1748399"
  },
  {
    "text": "day okay and this looks very different and you might notice here already that this is much different from what we've seen before I we would expect if the uh",
    "start": "1748399",
    "end": "1756279"
  },
  {
    "text": "if the traffic sort of follows the same pattern as the uh as the general uh axis",
    "start": "1756279",
    "end": "1762480"
  },
  {
    "text": "then this should be okay or we would expect that this would be the case but it's actually not the case there's something else going on here I'm just",
    "start": "1762480",
    "end": "1768640"
  },
  {
    "text": "going to quit this makes me nervous um so the next question we could ask is",
    "start": "1768640",
    "end": "1774200"
  },
  {
    "text": "okay so which was the resource that actually uh caused this traffic okay what was the resource okay so we can say",
    "start": "1774200",
    "end": "1780880"
  },
  {
    "text": "just okay split the bars uh and sorted by terms and by terms",
    "start": "1780880",
    "end": "1787240"
  },
  {
    "text": "I mean by terms I mean the",
    "start": "1787240",
    "end": "1791278"
  },
  {
    "text": "request so so I like look what was actually",
    "start": "1792760",
    "end": "1799279"
  },
  {
    "text": "requested and this is actually rather interesting because we can see here that all this traffic or most of this traffic",
    "start": "1799279",
    "end": "1806000"
  },
  {
    "text": "was actually caused by one single file and now you can guess where this uh log is actually coming from so this is",
    "start": "1806000",
    "end": "1813000"
  },
  {
    "text": "actually the old the old Lo web page okay so all of this was uh caused by this one file and this is a little weird",
    "start": "1813000",
    "end": "1818440"
  },
  {
    "text": "so the next thing we might want to figure out is okay so um what's the agent who downloaded that",
    "start": "1818440",
    "end": "1824600"
  },
  {
    "text": "stuff was that were there people clicking on the web page was there maybe a sem are going on right and all the",
    "start": "1824600",
    "end": "1829960"
  },
  {
    "text": "5,000 students that were connected online on the world downloading Lo at the same time or what was actually going",
    "start": "1829960",
    "end": "1835519"
  },
  {
    "text": "on so uh let's look at the agent I just got to oh",
    "start": "1835519",
    "end": "1842399"
  },
  {
    "text": "yeah good okay and this is also rather interesting so what this tells us is",
    "start": "1842399",
    "end": "1847760"
  },
  {
    "text": "that it's basically all just Chef clients and I mean this year okay I would argue that maybe this is okay",
    "start": "1847760",
    "end": "1853039"
  },
  {
    "text": "somebody had their chef client running as I said I'm not an Ops person okay so",
    "start": "1853039",
    "end": "1858440"
  },
  {
    "text": "uh but this here sounds seems a little fishy to me okay so the next question we could ask is okay who who does that",
    "start": "1858440",
    "end": "1864840"
  },
  {
    "text": "maybe I can figure out a phone number and call these people and say Hey you screwed up your Chef configuration um",
    "start": "1864840",
    "end": "1870639"
  },
  {
    "text": "there's a different kind of visualization that we can actually use for that",
    "start": "1870639",
    "end": "1876440"
  },
  {
    "text": "uh um and we use a tile map so tile map would uh tell me something",
    "start": "1876440",
    "end": "1882399"
  },
  {
    "text": "about where in the world stuff is happening although as I said danger",
    "start": "1882399",
    "end": "1891279"
  },
  {
    "text": "zone um apparently this doesn't work with the resolution of my screen so I'm terribly sorry um if you want to see how",
    "start": "1891279",
    "end": "1897120"
  },
  {
    "text": "the ti Map works and how it can give you a wonderful overview of where in the world uh people visit your web page then",
    "start": "1897120",
    "end": "1902799"
  },
  {
    "text": "please find me at the booth later and I'm going to show it to you but um here unfortunately it will not work that's a",
    "start": "1902799",
    "end": "1908279"
  },
  {
    "text": "shame okay but it's actually not so bad because uh I'm running out of time",
    "start": "1908279",
    "end": "1914240"
  },
  {
    "text": "anyway so okay good",
    "start": "1914240",
    "end": "1919720"
  },
  {
    "text": "um actually I said before I want to show you two data sets Okay one was this Apache log and the other one was this",
    "start": "1919720",
    "end": "1926360"
  },
  {
    "text": "Wikipedia access log okay so uh I cannot actually",
    "start": "1926360",
    "end": "1932399"
  },
  {
    "text": "um show you this uh Wikipedia access log or index it on the flyer because it's a",
    "start": "1932399",
    "end": "1937679"
  },
  {
    "text": "little bigger than than the thing which we've just seen so I prepared it for you okay so I'm just going to start another",
    "start": "1937679",
    "end": "1943480"
  },
  {
    "text": "elastic search instance so what I'm going to do is I'm going to just say uh",
    "start": "1943480",
    "end": "1948600"
  },
  {
    "text": "give elastic search a little more Heap space forg about it's probably too much but but I safe than sorry um again",
    "start": "1948600",
    "end": "1956000"
  },
  {
    "text": "started lastic search as before but pointed to a different data directory uh just to make sure that uh the data that",
    "start": "1956000",
    "end": "1961440"
  },
  {
    "text": "actually index is loaded okay okay uh while this is starting up",
    "start": "1961440",
    "end": "1966639"
  },
  {
    "text": "I'm going to talk a little bit about uh the actual data set so first of all the the Apache lock that you've seen before uh if you want to play around a little",
    "start": "1966639",
    "end": "1972360"
  },
  {
    "text": "bit with loes you can get it for free on this web page semic complete.com which is the uh old web page that actually",
    "start": "1972360",
    "end": "1977840"
  },
  {
    "text": "hosted lock stash apparently in 2012 and the other data set that I'm",
    "start": "1977840",
    "end": "1983320"
  },
  {
    "text": "going to show is a Vick access log so you can get it from viky bench. and this is a spectacular data set anyone of you",
    "start": "1983320",
    "end": "1989600"
  },
  {
    "text": "ever seen that no wow okay it's 2 months of uh access to Wikipedia it's actually",
    "start": "1989600",
    "end": "1998159"
  },
  {
    "text": "designed for um uh it's actually designed for benchmarking your own web server so you",
    "start": "1998159",
    "end": "2003440"
  },
  {
    "text": "can download this and you can uh get a Wikipedia dump and then execute all these commands your server and see if it",
    "start": "2003440",
    "end": "2008799"
  },
  {
    "text": "crashes or not okay this is what was originally designed for but from a data analytics perspective this thing is pure",
    "start": "2008799",
    "end": "2014880"
  },
  {
    "text": "gold it's amazing what you can see in that okay and I'm just going to show you uh not the whole data set because the",
    "start": "2014880",
    "end": "2020480"
  },
  {
    "text": "whole data set is I don't know 500 gigabyte or nearly a terabyte",
    "start": "2020480",
    "end": "2026080"
  },
  {
    "text": "I'm just going to show you the um uh the logs from the German Wikipedia and only",
    "start": "2026080",
    "end": "2032240"
  },
  {
    "text": "those only the pages that were requested okay so everything that starts with te. wikipedia. ar Wiki this is what I'm",
    "start": "2032240",
    "end": "2038880"
  },
  {
    "text": "going to show and that's going to be 70 million entries okay see if we're here",
    "start": "2038880",
    "end": "2046440"
  },
  {
    "text": "yet yeah looks good okay so",
    "start": "2046440",
    "end": "2053878"
  },
  {
    "text": "um first you got to do is reload",
    "start": "2053879",
    "end": "2059799"
  },
  {
    "text": "kibana um this is actually on a different index so this is a this is the name of the index where I had it and",
    "start": "2061599",
    "end": "2067158"
  },
  {
    "text": "then again we we have to figure out where our data actually is so let's see where this data actually",
    "start": "2067159",
    "end": "2074838"
  },
  {
    "text": "is okay here's our data uh oops",
    "start": "2078399",
    "end": "2085398"
  },
  {
    "text": "sorry okay can zoom in a little bit zoom in a little",
    "start": "2096480",
    "end": "2104400"
  },
  {
    "text": "more and then we have this uh a similar thing that we've seen before okay so we have uh a weekly pattern apparently I",
    "start": "2104400",
    "end": "2111920"
  },
  {
    "text": "would argue that this is probably during the week and this is on the weekend okay and then also Daily pattern in this case",
    "start": "2111920",
    "end": "2117359"
  },
  {
    "text": "so this is probably day this is probably night probably day and probably night and mean the reason why this is much more impressive here than it is for this",
    "start": "2117359",
    "end": "2123640"
  },
  {
    "text": "Apache loog is because this is really just German Wikipedia so we would expect it's really just German that access this stuff or maybe a few from from another",
    "start": "2123640",
    "end": "2130640"
  },
  {
    "text": "country but well maybe not so okay and then we can start asking questions about",
    "start": "2130640",
    "end": "2136200"
  },
  {
    "text": "this uh in this case just one month of German Wikipedia for example you can say Okay um so what was the most popular",
    "start": "2136200",
    "end": "2142920"
  },
  {
    "text": "page okay um and the title here is actually wrong so what I'm doing here is I say okay uh split the lines by the",
    "start": "2142920",
    "end": "2150480"
  },
  {
    "text": "most popular page over all four weeks so this would wor first aggregate uh all",
    "start": "2150480",
    "end": "2155960"
  },
  {
    "text": "the pages over these four weeks and then and tell me okay how are these uh how do",
    "start": "2155960",
    "end": "2161480"
  },
  {
    "text": "does the exess Evolve over time and there's already something interesting we can see there okay maybe not so interesting is the fact that the main",
    "start": "2161480",
    "end": "2167960"
  },
  {
    "text": "page is the most requested page but this is interesting here so what is this anybody knows ah you can because this is",
    "start": "2167960",
    "end": "2173880"
  },
  {
    "text": "not rendered here okay so this is uh third of October which totally explains this dip",
    "start": "2173880",
    "end": "2180680"
  },
  {
    "text": "here okay nobody in Germany does anything other than partying so well maybe not okay um but this is not",
    "start": "2180680",
    "end": "2188160"
  },
  {
    "text": "uh this is not super interesting because because the main page just renders everything else invisible so uh second",
    "start": "2188160",
    "end": "2194599"
  },
  {
    "text": "thing we would probably do is get rid of all these Wikipedia meta Pages like portal or uh s Stu with Wikipedia or",
    "start": "2194599",
    "end": "2201640"
  },
  {
    "text": "with special or with special or so so let's filter them out and the way you can do this in kumana is you can just",
    "start": "2201640",
    "end": "2207760"
  },
  {
    "text": "Define a a filter on this top row here it's a very easy query language so just",
    "start": "2207760",
    "end": "2212880"
  },
  {
    "text": "tell you okay on the page should not be main page the page should not be special and so on and so forth and then what you",
    "start": "2212880",
    "end": "2218480"
  },
  {
    "text": "would get is this here and this is a little more interesting this gives us the uh most requested pages but you can",
    "start": "2218480",
    "end": "2225760"
  },
  {
    "text": "also see some Peaks here okay so this peak here for example I mean this is something that we've seen before people",
    "start": "2225760",
    "end": "2232119"
  },
  {
    "text": "want to know about the day of the German reunion uh here is a peak so this is",
    "start": "2232119",
    "end": "2237200"
  },
  {
    "text": "Heroes uh Heroes is a serious so I'm not sure who of you knows this Heroes no",
    "start": "2237200",
    "end": "2243200"
  },
  {
    "text": "okay uh and the 10th of October was actually the first air date of the first episode of the first season of Heroes in",
    "start": "2243200",
    "end": "2249880"
  },
  {
    "text": "Germany and here was the second episode okay so you can see these paks here and",
    "start": "2249880",
    "end": "2254960"
  },
  {
    "text": "I assume this is King of Queens but I was not interested because I don't really into King of Queens so okay this",
    "start": "2254960",
    "end": "2260560"
  },
  {
    "text": "is also interesting here okay so this is uh Myan Mar so anybody knows why there's a peak for me and Mar at this point yeah",
    "start": "2260560",
    "end": "2267839"
  },
  {
    "text": "okay uh they had a revolution at this part and the re revolution had the Peak",
    "start": "2267839",
    "end": "2272880"
  },
  {
    "text": "at this point okay and you can see this actually also easily uh if you look at several",
    "start": "2272880",
    "end": "2280520"
  },
  {
    "text": "related topics something that is uh related to this you could see okay Myanmar has a peak uh hun also sort of",
    "start": "2280520",
    "end": "2288160"
  },
  {
    "text": "has a different Behavior here okay and Anan sunuki has a different Behavior here and I probably dis pronounced this",
    "start": "2288160",
    "end": "2294319"
  },
  {
    "text": "but and uh biku which is a a a Buddhist",
    "start": "2294319",
    "end": "2299839"
  },
  {
    "text": "monk okay so people were looking up this word very frequently okay uh so this is all",
    "start": "2299839",
    "end": "2306400"
  },
  {
    "text": "interesting uh um but there's actually another way we can look at our data so instead of asking okay what was the most",
    "start": "2306400",
    "end": "2312119"
  },
  {
    "text": "popular page uh and then plot this over time instead tell me what was the most",
    "start": "2312119",
    "end": "2318079"
  },
  {
    "text": "popular page per day that is bucketed first per day and then give me the most popular term for these days okay so and",
    "start": "2318079",
    "end": "2326079"
  },
  {
    "text": "now I'm just going to show this in a different view it's not going to be in a curve view because as you can imagine if you do it per day you end up with way",
    "start": "2326079",
    "end": "2332280"
  },
  {
    "text": "more terms way more curves and this will't tell you anything so I'm just going to look at the table view here it's another a nice fancy feature that's",
    "start": "2332280",
    "end": "2339280"
  },
  {
    "text": "coming out with uh kibana again this will tell me okay 18th of September apparently the main page",
    "start": "2339280",
    "end": "2344760"
  },
  {
    "text": "was the most important page um Jim Morrison was requested here well this is this is interesting and we're going to look at this in a minute um 19th of",
    "start": "2344760",
    "end": "2352280"
  },
  {
    "text": "September only just meta Pages 20th of September only just meta pages and so on and so forth again not very interesting",
    "start": "2352280",
    "end": "2360640"
  },
  {
    "text": "um however so what we could do now is we could do the same thing that I explained before go to this thing here uh uh go to",
    "start": "2360640",
    "end": "2366960"
  },
  {
    "text": "this have you define a different query uh that would filter out all these things but there's actually a smarter",
    "start": "2366960",
    "end": "2373240"
  },
  {
    "text": "way to do that and this instead of instead of doing a term aggregation here and just count the popular Pages um we",
    "start": "2373240",
    "end": "2381319"
  },
  {
    "text": "could ask okay don't just tell me how many uh documents contain this term or how often",
    "start": "2381319",
    "end": "2388800"
  },
  {
    "text": "this page was requested but tell me how much more often it was requested on this day uh compared to all these other days",
    "start": "2388800",
    "end": "2396920"
  },
  {
    "text": "okay and this this is what we call a significant terms uh",
    "start": "2396920",
    "end": "2402040"
  },
  {
    "text": "analysis terms analysis um so again we would execute this on on the",
    "start": "2402920",
    "end": "2410160"
  },
  {
    "text": "page the Page Field and that would then show uh a very different",
    "start": "2411280",
    "end": "2418280"
  },
  {
    "text": "pattern okay so again J Morrison apparently was popular on that day right but then we see something else I'm",
    "start": "2418680",
    "end": "2424760"
  },
  {
    "text": "actually not even know how to pronounce it and I cannot tell you why it was popular on the day or Howard carpendale",
    "start": "2424760",
    "end": "2430560"
  },
  {
    "text": "um on the 19th of September there's something interesting apparently the 19th of September was an interesting",
    "start": "2430560",
    "end": "2436160"
  },
  {
    "text": "article on the day and that makes a whole lot of sense right uh F might seem",
    "start": "2436160",
    "end": "2441839"
  },
  {
    "text": "a little weird to you uh but then when you go to uh to Wikipedia and look up",
    "start": "2441839",
    "end": "2447960"
  },
  {
    "text": "the article of the day uh what you will find is that yeah this was the article of the day on the 19th of n okay so this",
    "start": "2447960",
    "end": "2455319"
  },
  {
    "text": "all makes a whole lot of sense uh you get the 20th of September on the 20th of September ISS expedition was I think",
    "start": "2455319",
    "end": "2461960"
  },
  {
    "text": "also the article of the day I'm not absolutely sure um yeah all that sort of stuff so this",
    "start": "2461960",
    "end": "2468880"
  },
  {
    "text": "is interesting but now let's focus on let's focus on Jim Morrison okay why was Jim Morrison interesting on that day and I can tell you already uh J Morrison uh",
    "start": "2468880",
    "end": "2476280"
  },
  {
    "text": "did not die on the day did not have a birthday on the day there was actually nothing it was not the article of the day okay so let's take a closer",
    "start": "2476280",
    "end": "2483560"
  },
  {
    "text": "look um so can again look just at this uh bucket aggregation so how many requests",
    "start": "2483560",
    "end": "2489800"
  },
  {
    "text": "of J Morrison per day were there and then we want to zoom in on this on this particular date okay so let's go back to",
    "start": "2489800",
    "end": "2495440"
  },
  {
    "text": "the Discover tab because this is where you can brush currently cannot brush iniz tab um and look for",
    "start": "2495440",
    "end": "2503520"
  },
  {
    "text": "just uh look for justi Morrison and then let's zoom in just on",
    "start": "2504560",
    "end": "2511760"
  },
  {
    "text": "this uh particular part so that would be this here okay now as we go back to the",
    "start": "2511760",
    "end": "2518400"
  },
  {
    "text": "visualized tab we can see it a little better okay and this is again the part where the danger zone starts uh here",
    "start": "2518400",
    "end": "2524520"
  },
  {
    "text": "would be a very impressive timeline that would tell me something about how many requests at which time of the day okay",
    "start": "2524520",
    "end": "2530160"
  },
  {
    "text": "and unfortunately I now cannot prove it to you because it's not rented I promise I'm going to open an issue and we're going to fix it uh but unfortunately not",
    "start": "2530160",
    "end": "2538119"
  },
  {
    "text": "so and this is really a shame because the funny thing here is what you would see is that this is actually uh 20 to1",
    "start": "2538119",
    "end": "2544319"
  },
  {
    "text": "a.m. in the morning this is actually at something like halfast 10 okay so",
    "start": "2544319",
    "end": "2549520"
  },
  {
    "text": "something happened between half 10 and 1:00 a.m. in the morning and then I looked up a TV program from",
    "start": "2549520",
    "end": "2556240"
  },
  {
    "text": "2007 try that and check it out there was actually one day air the",
    "start": "2556240",
    "end": "2561880"
  },
  {
    "text": "film it's it's yeah and I found that amazing okay and this is all just with a",
    "start": "2561880",
    "end": "2567839"
  },
  {
    "text": "few Mouse clicks uh uh 70 million documents it runs on this little computer few Mouse clicks wait a few",
    "start": "2567839",
    "end": "2573880"
  },
  {
    "text": "seconds and then you can figure it out and then all you have to do is Google a lot to figure out why this is actually a significant",
    "start": "2573880",
    "end": "2579359"
  },
  {
    "text": "term okay good okay that was it for the danger",
    "start": "2579359",
    "end": "2584960"
  },
  {
    "text": "zone uh here come all the backup slides in case anything would have happened uh so so one thing you should",
    "start": "2584960",
    "end": "2591040"
  },
  {
    "text": "know about I mean I was boasting a little bit with the uh 70 million terms and all that um uh terms aggregations",
    "start": "2591040",
    "end": "2597000"
  },
  {
    "text": "can be inexpensive okay so if you actually plan on using this on your own cluster or even running it in production",
    "start": "2597000",
    "end": "2602319"
  },
  {
    "text": "uh there's a few things you need to know and I'm just going to briefly mention the busws hoping that you will later on",
    "start": "2602319",
    "end": "2607640"
  },
  {
    "text": "look it up if you actually use this so first is a field data filter uh query cach is a new feature that comes in 14",
    "start": "2607640",
    "end": "2613920"
  },
  {
    "text": "that will make it easier to uh to story results of queries uh and not execute them again if",
    "start": "2613920",
    "end": "2620079"
  },
  {
    "text": "it's just the same query uh warmers is interesting and Doc wiress which is a way to actually not have to load",
    "start": "2620079",
    "end": "2625839"
  },
  {
    "text": "everything into memory but just memory map everything okay this is also a rather new feature that you should",
    "start": "2625839",
    "end": "2630880"
  },
  {
    "text": "really check out and then and I'm just putting this on a slide because I'm telling everyone regardless of what I'm",
    "start": "2630880",
    "end": "2635960"
  },
  {
    "text": "talking about before before you move to production with elastic search watch this video there is a video that tells",
    "start": "2635960",
    "end": "2641559"
  },
  {
    "text": "you everything about what you need to know uh what you need to take care of things that might nuclear cluster is all",
    "start": "2641559",
    "end": "2646920"
  },
  {
    "text": "in this video okay watch it okay so I talked a little bit about",
    "start": "2646920",
    "end": "2652000"
  },
  {
    "text": "the basic uh aggregations but we actually have a little more so we have for example okay uh percentile aggregation",
    "start": "2652000",
    "end": "2659920"
  },
  {
    "text": "which is not yet integrated in Cubana but it's on the road map cality aggregation significant terms I showed and then coming soon there will be much",
    "start": "2659920",
    "end": "2666599"
  },
  {
    "text": "more okay so we're thinking about maybe adding derivatives correlations between curves for example this m ma thing would",
    "start": "2666599",
    "end": "2672599"
  },
  {
    "text": "be cool if it would happen automatically okay but it's not sure yet there is an open issue if you have something that",
    "start": "2672599",
    "end": "2678359"
  },
  {
    "text": "you totally want to see in elastic search and you're thinking wow yes with this algorithm and this data would be awesome to have check out the GitHub",
    "start": "2678359",
    "end": "2684880"
  },
  {
    "text": "issue it's issue 8,110 and drop us a note and say okay I want to have this this is the algorithm I would expect and",
    "start": "2684880",
    "end": "2691200"
  },
  {
    "text": "let us know what you think because this is really work in progress okay and that's actually all I",
    "start": "2691200",
    "end": "2696880"
  },
  {
    "text": "got um we're hiring needless to say I think everybody's hiring and then elastic",
    "start": "2696880",
    "end": "2702880"
  },
  {
    "text": "search the company I mean was talking a lot about the software the company were actually offering support and trainings so in case you're running elastic search",
    "start": "2702880",
    "end": "2709160"
  },
  {
    "text": "and production um yeah give us a call okay",
    "start": "2709160",
    "end": "2714440"
  },
  {
    "text": "that was it thanks a [Music]",
    "start": "2714440",
    "end": "2720829"
  },
  {
    "text": "lot I have three questions written down is there anyone wanted to post a",
    "start": "2722119",
    "end": "2727240"
  },
  {
    "text": "question now so what happen what happened to hey",
    "start": "2727240",
    "end": "2734520"
  },
  {
    "text": "I have a question let me see okay can you read it predefined",
    "start": "2734520",
    "end": "2741680"
  },
  {
    "text": "predefined config files is the first one uh predefined config files sorry I cannot read that",
    "start": "2741680",
    "end": "2748040"
  },
  {
    "text": "anymore it's not for loog for Apache lock and everything yeah actually there",
    "start": "2748040",
    "end": "2753880"
  },
  {
    "text": "is I don't think there is anything on the lock SLB page there is examples for I think there's definitely one for",
    "start": "2753880",
    "end": "2759079"
  },
  {
    "text": "Apache log um one thing that is nice about log s is there's a big Community around it so if you if you Google a",
    "start": "2759079",
    "end": "2764599"
  },
  {
    "text": "little bit you will probably find a config file or sample config file for everything just because the community is",
    "start": "2764599",
    "end": "2770160"
  },
  {
    "text": "so great and writes a lot of blog posts about it and uh offers everything to the rest of the community so yeah what do",
    "start": "2770160",
    "end": "2775839"
  },
  {
    "text": "you do you want to say something about that be loud um I'm pretty sure on GitHub in the log stash contrib",
    "start": "2775839",
    "end": "2782920"
  },
  {
    "text": "repository there are also some sample config files there as well ah all right cool awesome",
    "start": "2782920",
    "end": "2790799"
  },
  {
    "text": "yeah thank you",
    "start": "2791119",
    "end": "2797040"
  },
  {
    "text": "okay the second one is how do you get lock files",
    "start": "2797040",
    "end": "2802280"
  },
  {
    "text": "scattered across multiple hosts to loxes do you need a messaging queue yeah you can use a messaging queue for that I",
    "start": "2802280",
    "end": "2808440"
  },
  {
    "text": "mean this is uh loxes can read for for ritm CU there's also another thing that's called the lock forwarder but",
    "start": "2808440",
    "end": "2813760"
  },
  {
    "text": "please do not ask me about the technical details of that uh find me later at the booth there's me and more colleagues and",
    "start": "2813760",
    "end": "2819559"
  },
  {
    "text": "then we can figure it out but yeah this is this is the basic idea you would use a queuing system of one way or the other for that okay the very last can a be",
    "start": "2819559",
    "end": "2827319"
  },
  {
    "text": "used for monitoring or is it rather for analyzis H for both so so the the",
    "start": "2827319",
    "end": "2832920"
  },
  {
    "text": "original uh development of kibana there was actually a system administrator it was Rashid Khan who thought this should",
    "start": "2832920",
    "end": "2838720"
  },
  {
    "text": "be really easy and this is why he actually built kibana 3 and it was for monitoring um you can configure it so",
    "start": "2838720",
    "end": "2843920"
  },
  {
    "text": "that it will load automatically every 5 Seconds every 1 minute or something like this and all just always display your",
    "start": "2843920",
    "end": "2849760"
  },
  {
    "text": "graphs okay so also alerts or yeah Al alerts okay so so alerts uh currently",
    "start": "2849760",
    "end": "2856800"
  },
  {
    "text": "not no So currently you can you can visualize your stuff uh but there's no automatic alerting um if it's a message",
    "start": "2856800",
    "end": "2865440"
  },
  {
    "text": "uh based alerting of course you can use lock stit for that and just output something to page duty but uh there is",
    "start": "2865440",
    "end": "2870559"
  },
  {
    "text": "nothing like basic thresholding that but then say okay now send a mail because uh",
    "start": "2870559",
    "end": "2875720"
  },
  {
    "text": "memory pressure is is above this and that threshold so yeah okay see you ATA for the next talk",
    "start": "2875720",
    "end": "2883520"
  },
  {
    "text": "and thanks again for br thank you for [Applause]",
    "start": "2883520",
    "end": "2889520"
  },
  {
    "text": "[Music]",
    "start": "2889520",
    "end": "2897919"
  },
  {
    "text": "coming",
    "start": "2900280",
    "end": "2903280"
  }
]