[
  {
    "start": "0",
    "end": "48000"
  },
  {
    "text": "[Music]",
    "start": "6990",
    "end": "10108"
  },
  {
    "text": "so my name is Kevin Goldsmith I am a VP of engineering at Spotify that's uh I am",
    "start": "12559",
    "end": "18680"
  },
  {
    "text": "what we call an alliance lead which means uh I manage tribe leads if you",
    "start": "18680",
    "end": "23880"
  },
  {
    "text": "know any of our weird uh terms for teams um I'm going to talk about microservices",
    "start": "23880",
    "end": "29080"
  },
  {
    "text": "at Spotify I'm not going to go I'm going talk about lots of different aspects about about it a lot of why we use them",
    "start": "29080",
    "end": "36120"
  },
  {
    "text": "um some detail but I'm not going to go too deep in this but I can take some questions around it so I'm going to",
    "start": "36120",
    "end": "43200"
  },
  {
    "text": "start this discussion with a bit of a hypothetical thought",
    "start": "43200",
    "end": "48840"
  },
  {
    "start": "48000",
    "end": "128000"
  },
  {
    "text": "experiment let's say I wanted to build a large application now this application is going to have some requirements right",
    "start": "48840",
    "end": "54840"
  },
  {
    "text": "there's some stuff this application has to be able to do it has to scale to millions of users it has to be internet",
    "start": "54840",
    "end": "62039"
  },
  {
    "text": "scale uh it has to uh support multiple platforms right so it has to work not",
    "start": "62039",
    "end": "68840"
  },
  {
    "text": "only on your mobile and on your web but also on desktop and on embedded devices",
    "start": "68840",
    "end": "74799"
  },
  {
    "text": "on game uh platforms lamps it has to run",
    "start": "74799",
    "end": "80680"
  },
  {
    "text": "on uh it has to handle some very complicated business rules this is not a simple application this is a very very",
    "start": "80680",
    "end": "87759"
  },
  {
    "text": "complicated application with lots of really strange business rules not set by",
    "start": "87759",
    "end": "93799"
  },
  {
    "text": "you set by others and it has to be competitive in a fast moving market now there's two ways",
    "start": "93799",
    "end": "99320"
  },
  {
    "text": "to be competitive or there's two parts of being competitive number one is you have to be able to respond quickly when",
    "start": "99320",
    "end": "106119"
  },
  {
    "text": "your competitors make a move right so you have to be very Nimble and very responsive better than being able to be",
    "start": "106119",
    "end": "112520"
  },
  {
    "text": "reactive it's better to be proactive and to be the ones that everyone is chasing",
    "start": "112520",
    "end": "117600"
  },
  {
    "text": "right so ideally you want everybody chasing in you you don't want to be trying to play catchup to everyone else so you need to be able to innovate",
    "start": "117600",
    "end": "124119"
  },
  {
    "text": "really quickly now this is a thought experiment but it's a pretty stupid thought experiment because I'm obviously talking about a product a product like",
    "start": "124119",
    "end": "130399"
  },
  {
    "start": "128000",
    "end": "395000"
  },
  {
    "text": "this Spotify right this is this this is the product I'm talking about now what those those requirements for our product",
    "start": "130399",
    "end": "139120"
  },
  {
    "text": "mean for us there's a few things one today and I'm using published",
    "start": "139120",
    "end": "146280"
  },
  {
    "text": "numbers uh the real numbers are higher in cases uh 75 million monthly active users",
    "start": "146280",
    "end": "155160"
  },
  {
    "text": "an important thing to know about what we think an active user is compared to somebody like",
    "start": "155160",
    "end": "161120"
  },
  {
    "text": "Facebook uh Facebook you use Facebook several times a day for a few minutes at",
    "start": "161120",
    "end": "166519"
  },
  {
    "text": "a time you use it while you're standing line at the bank you use it you know while you're on the bus people use",
    "start": "166519",
    "end": "172640"
  },
  {
    "text": "Spotify for hours at a time um I think I don't have the right numbers off top of",
    "start": "172640",
    "end": "178040"
  },
  {
    "text": "my head for just gener ener length of session but I can tell you the way that our editorial team measures average",
    "start": "178040",
    "end": "185120"
  },
  {
    "text": "session length uh for their playlists is like 23 minutes is their average session",
    "start": "185120",
    "end": "191080"
  },
  {
    "text": "length that's part of usually like a several hour session people listen to us all day long people put on white noise",
    "start": "191080",
    "end": "198159"
  },
  {
    "text": "and sleep with Spotify they stream white noise to their computer or their phone",
    "start": "198159",
    "end": "203519"
  },
  {
    "text": "all night long and leave it on their nightstand table white noise and pink noise are actually some of our most",
    "start": "203519",
    "end": "208920"
  },
  {
    "text": "popular tracks on Spotify and I'm not joking we're available in 58 countries",
    "start": "208920",
    "end": "215959"
  },
  {
    "text": "today uh and growing we add over 20,000 new tracks uh into our Corpus every day",
    "start": "215959",
    "end": "224159"
  },
  {
    "text": "and have forever the real number is goes lower it goes lower or higher but it's",
    "start": "224159",
    "end": "229599"
  },
  {
    "text": "always over 20,000 we have over two billion we just published this number yesterday actually",
    "start": "229599",
    "end": "236079"
  },
  {
    "text": "two billion user generated playlists now it's important I'm distinguishing between user generated which means the",
    "start": "236079",
    "end": "242400"
  },
  {
    "text": "playlist that you all create when you use Spotify I'm differentiating between that and the ones we create if you know",
    "start": "242400",
    "end": "248599"
  },
  {
    "text": "if you've heard of discover weekly that's a playlist we create for every active user that's like 75 million",
    "start": "248599",
    "end": "255159"
  },
  {
    "text": "playlist that we create that's not part of this number this is the ones that people sit down drag tracks in and make",
    "start": "255159",
    "end": "260959"
  },
  {
    "text": "a playlist so it's a lot of data for a lot of users if you know anything does",
    "start": "260959",
    "end": "266680"
  },
  {
    "text": "anybody know anything about the music business at all like anybody working and like kind of related to the music",
    "start": "266680",
    "end": "272080"
  },
  {
    "text": "business okay if from the outside the music business seems very simple or at least",
    "start": "272080",
    "end": "279440"
  },
  {
    "text": "not that complicated when you are trying to license music in 58 countries the",
    "start": "279440",
    "end": "284600"
  },
  {
    "text": "music business is insanely comp complicated when you in Germany click a track in Spotify to play which track you",
    "start": "284600",
    "end": "292720"
  },
  {
    "text": "are actually served is actually determined a lot by complicated business rules because for example when we uh",
    "start": "292720",
    "end": "300440"
  },
  {
    "text": "license Justin Bieber in Germany we license it separately than when we license Justin Bieber in the USA there",
    "start": "300440",
    "end": "307759"
  },
  {
    "text": "is a German version of his label that licenses his music in Germany and they",
    "start": "307759",
    "end": "312880"
  },
  {
    "text": "negotiate differently than the US version of his label the Canadian version the Australian version every",
    "start": "312880",
    "end": "319280"
  },
  {
    "text": "time we go into a new country we have to relicense this music you also hear you have Gemma right the music publishing",
    "start": "319280",
    "end": "325720"
  },
  {
    "text": "Society their rules are different than BMI and ask app and uh the publishing",
    "start": "325720",
    "end": "331759"
  },
  {
    "text": "right Societies in every other country so when you click that track not only which track are you allowed to play",
    "start": "331759",
    "end": "337319"
  },
  {
    "text": "based on your account in which country you're in does that is that different for every user but then who we pay and",
    "start": "337319",
    "end": "344440"
  },
  {
    "text": "how much we pay them is different for every track and every user so the business rules around this are actually",
    "start": "344440",
    "end": "350440"
  },
  {
    "text": "really really scarily complex but the our our systems have to handle it we also as you're probably",
    "start": "350440",
    "end": "358319"
  },
  {
    "text": "aware if you know anything around this space we have lots of competition we have smaller competitors who could be",
    "start": "358319",
    "end": "363840"
  },
  {
    "text": "usually we when we talk about that we think about people being much more Nimble than we are like not weighed down",
    "start": "363840",
    "end": "369840"
  },
  {
    "text": "by our heavyweight processes but we are also literally competing with two of the biggest companies in the universe Apple",
    "start": "369840",
    "end": "376160"
  },
  {
    "text": "and Google these are our competitors this is important and if you notice something up here this is how",
    "start": "376160",
    "end": "382840"
  },
  {
    "text": "competitive this Market's getting one of these competitors array is gone yes last week and now one of the other ones has",
    "start": "382840",
    "end": "389080"
  },
  {
    "text": "gotten bigger right this is a very very fast moving highly competitive",
    "start": "389080",
    "end": "394280"
  },
  {
    "text": "market so how do we support all these crazy requirements for our application",
    "start": "394280",
    "end": "400039"
  },
  {
    "start": "395000",
    "end": "691000"
  },
  {
    "text": "while still like growing the service in real user numbers pretty significantly month-to month we are growing still",
    "start": "400039",
    "end": "406080"
  },
  {
    "text": "incredibly fast so we have to do support that growth we have to support these crazy rules and we want to keep",
    "start": "406080",
    "end": "413039"
  },
  {
    "text": "innovating at the same time right all these things are in conflict with each other all these requirements how do we",
    "start": "413039",
    "end": "419879"
  },
  {
    "text": "do that if you know anything about Spotify one of the things we do I'm not going to go through Matrix I'm not going",
    "start": "419879",
    "end": "425319"
  },
  {
    "text": "to go through our Matrix and squads and tribes and that kind of stuff that is a microservices uh track but what I'm",
    "start": "425319",
    "end": "430840"
  },
  {
    "text": "going to tell you like the important part in how it relates to microservices is the core of what we do is this idea",
    "start": "430840",
    "end": "436039"
  },
  {
    "text": "around autonomous teams and for us the dictionary definition of autonomous is interesting but specifically this part",
    "start": "436039",
    "end": "441840"
  },
  {
    "text": "of the dictionary definition of autonomous we build these teams that are full control over what they do right",
    "start": "441840",
    "end": "448319"
  },
  {
    "text": "that's the most important part the team has to be almost no dependencies on other teams that's the most important",
    "start": "448319",
    "end": "455960"
  },
  {
    "text": "part of how we get this stuff done and keep moving it forward trying to be faster than everybody",
    "start": "455960",
    "end": "461639"
  },
  {
    "text": "else so I used to you know before I came to Spotify I worked at Adobe and I built",
    "start": "461639",
    "end": "468000"
  },
  {
    "text": "a product called Adobe Revel which is probably no longer in the App Store but it was until a few weeks ago sadly um",
    "start": "468000",
    "end": "476159"
  },
  {
    "text": "but this is how we would build kind of Connected app applications right this is",
    "start": "476159",
    "end": "481240"
  },
  {
    "text": "maybe how you build them it's a pretty strandard way of building connected applications you have clients probably a",
    "start": "481240",
    "end": "487960"
  },
  {
    "text": "client team for each client type you have a core Library team that abstracts all the crazy business logic probably uh",
    "start": "487960",
    "end": "494080"
  },
  {
    "text": "also handles all server communication to make that consistent you have a server team you have an infrastructure team",
    "start": "494080",
    "end": "500879"
  },
  {
    "text": "that's how we did it at Rebel it's how a lot of companies do it pretty obvious way to do that the problem is if you",
    "start": "500879",
    "end": "507120"
  },
  {
    "text": "want to build a new feature in this kind of world well let's say you want to build a new client feature the client",
    "start": "507120",
    "end": "513479"
  },
  {
    "text": "team asks the core team please give us an API that lets us do this the core team ask the server team please",
    "start": "513479",
    "end": "518680"
  },
  {
    "text": "implement this on the server side so we can do whatever we need to do in the client possibly you're adding a new",
    "start": "518680",
    "end": "524680"
  },
  {
    "text": "database type or something like that now the server team has to ask the infrastructure team that's a lot of",
    "start": "524680",
    "end": "529880"
  },
  {
    "text": "asking of other teams right that's a lot of people trying to get stuff onto other teams backlogs let's say also like",
    "start": "529880",
    "end": "537480"
  },
  {
    "text": "eventually the client teams get bored waiting for the serve team they're like we know how to do rest so we're going to just do it ourselves okay then they're",
    "start": "537480",
    "end": "544079"
  },
  {
    "text": "talking to the serve team and then probably there's some product person saying we have to launch this feature on all platforms simultaneously tons and",
    "start": "544079",
    "end": "550560"
  },
  {
    "text": "tons of communication the challenges around working this way are that",
    "start": "550560",
    "end": "556120"
  },
  {
    "text": "synchronization part it's trying to get everybody building the stuff so you can ship the feature it's because the client",
    "start": "556120",
    "end": "562399"
  },
  {
    "text": "implementation depends on the core implementation depends on the server implementation depends on the on the",
    "start": "562399",
    "end": "568800"
  },
  {
    "text": "infrastructure so we don't want to do that that slows you down that slows you down 80 80",
    "start": "568800",
    "end": "575040"
  },
  {
    "text": "different ways we didn't want that so instead what we did was we built full stock teams each",
    "start": "575040",
    "end": "583880"
  },
  {
    "text": "of our teams has backend developers front-end developers testers UI designer",
    "start": "583880",
    "end": "591600"
  },
  {
    "text": "product owner right what that means is you want to add a feature to Spotify you're on a feature team you want to add",
    "start": "591600",
    "end": "596800"
  },
  {
    "text": "a feature you implement the UI same time you implement the backend the developers are sitting in the same room couple",
    "start": "596800",
    "end": "603360"
  },
  {
    "text": "desks away from each other they're in constant communication it all goes out together and it's a dialogue it's not",
    "start": "603360",
    "end": "611320"
  },
  {
    "text": "synchronization so there's a light there's still light dependencies can erase all dependencies obviously we're",
    "start": "611320",
    "end": "616600"
  },
  {
    "text": "not individual feature teams are not putting servers into racks and our DCS um we're also you know uh we",
    "start": "616600",
    "end": "624360"
  },
  {
    "text": "actually to work this way requires a lot of infrastructure support and obviously",
    "start": "624360",
    "end": "629600"
  },
  {
    "text": "we're not submitting like 50 binaries to Apple or to Google like somebody has to",
    "start": "629600",
    "end": "635279"
  },
  {
    "text": "package that all up and hand that off but these dependencies are minimized to the greatest extent possible so for us",
    "start": "635279",
    "end": "643440"
  },
  {
    "text": "again at Spotify for us that means there's 90 teams over 90",
    "start": "643440",
    "end": "650320"
  },
  {
    "text": "squads uh with over 600 developers the number is higher this last published",
    "start": "650320",
    "end": "655519"
  },
  {
    "text": "number in five development offices on two continents building the same product right building",
    "start": "655519",
    "end": "662279"
  },
  {
    "text": "the same app that runs on your phone or on your tablet or on your desktop or in your",
    "start": "662279",
    "end": "668000"
  },
  {
    "text": "PlayStation so that's important to know because this is actually one of the reasons why we come to",
    "start": "668000",
    "end": "675720"
  },
  {
    "text": "microservices full these full stack autonomous teams require us to build our stuff in very Loosely coupled",
    "start": "675720",
    "end": "683279"
  },
  {
    "text": "architectures right so we don't have these dependencies we have to build things in a way that there isn't strict",
    "start": "683279",
    "end": "688839"
  },
  {
    "text": "dependency between the components we build now I'm going to take us back into",
    "start": "688839",
    "end": "694079"
  },
  {
    "start": "691000",
    "end": "863000"
  },
  {
    "text": "a little bit of time I'm not going to go as far back as as some uh the earlier speakers in the track I'm just going to",
    "start": "694079",
    "end": "699959"
  },
  {
    "text": "go back a little bit and this is the way we built applications for a long time",
    "start": "699959",
    "end": "705839"
  },
  {
    "text": "connected applications you're an app developer you don't have a huge team you build a server component server talks to",
    "start": "705839",
    "end": "712560"
  },
  {
    "text": "a data store that's the way we build connected applications your application becomes more popular now all of a sudden",
    "start": "712560",
    "end": "720760"
  },
  {
    "text": "your back end is starting to have some scaling problems you identify oh it's the data store data store is slow okay",
    "start": "720760",
    "end": "727480"
  },
  {
    "text": "so you Shard it uh or you come up with some sort of uh delayed replication",
    "start": "727480",
    "end": "734040"
  },
  {
    "text": "system whatever we know how to solve that problem data data store is slow let's we'll fix that now you become more",
    "start": "734040",
    "end": "740399"
  },
  {
    "text": "popular well okay now it's no longer your data store that's the problem it's now your server you have this big",
    "start": "740399",
    "end": "746000"
  },
  {
    "text": "monolithic server implementation and starting to get some of the code paths are getting slow well",
    "start": "746000",
    "end": "751120"
  },
  {
    "text": "okay this is how we know how to solve that problem we put a load balancer in",
    "start": "751120",
    "end": "756320"
  },
  {
    "text": "front of it create multiple instances you know this is this is easy we've done this for a long time now Spotify is",
    "start": "756320",
    "end": "763800"
  },
  {
    "text": "obsess obsessed with scaling it has been obsessed since the beginning it's been one of the things that's driven a lot of",
    "start": "763800",
    "end": "769000"
  },
  {
    "text": "our architectural decisions from the first moment so when we look at this problem",
    "start": "769000",
    "end": "775760"
  },
  {
    "text": "we've decomposed we almost at the beginning composed it to this problem",
    "start": "775760",
    "end": "781040"
  },
  {
    "text": "right because if you're worried about scaling to hundreds of millions of users",
    "start": "781040",
    "end": "786279"
  },
  {
    "text": "you build your system in a way that you can scale your components independently and this has driven a lot of our",
    "start": "786279",
    "end": "792320"
  },
  {
    "text": "Direction with microservices so when one part of your monolithic service was slow you have to",
    "start": "792320",
    "end": "799079"
  },
  {
    "text": "re you have to create new instances of big monolithic Services running on very big Iron and getting bigger all the time",
    "start": "799079",
    "end": "806240"
  },
  {
    "text": "so if I pick on Facebook because I like to pick on Facebook around this they're writing like a massively monolithic",
    "start": "806240",
    "end": "813320"
  },
  {
    "text": "server they are having to invent new computer science in order to distribute",
    "start": "813320",
    "end": "818480"
  },
  {
    "text": "this binary around right they have people who H make it easier for them to",
    "start": "818480",
    "end": "824199"
  },
  {
    "text": "build this monolithic thing we went a different way okay we said we'll take on",
    "start": "824199",
    "end": "830600"
  },
  {
    "text": "some different problems because we think those are easier to solve than actually hiring phds to make our binaries get",
    "start": "830600",
    "end": "837519"
  },
  {
    "text": "distributed better so we see this problem if this let's say this white box is doing a lot of fan out to other",
    "start": "837519",
    "end": "843839"
  },
  {
    "text": "services or it's doing some heavyweight computation we can just uh duplicate",
    "start": "843839",
    "end": "849079"
  },
  {
    "text": "that box or replicate that instances there and then not have to worry about all the other things that are actually",
    "start": "849079",
    "end": "854639"
  },
  {
    "text": "running pretty efficiently this is working for us incredibly well and it has for years we've been working this",
    "start": "854639",
    "end": "860680"
  },
  {
    "text": "way for years so microservices yay um this part",
    "start": "860680",
    "end": "867600"
  },
  {
    "start": "863000",
    "end": "1064000"
  },
  {
    "text": "is the part that's super important really uh easier to Scale based on our real world bottlenecks you can identify",
    "start": "867600",
    "end": "874480"
  },
  {
    "text": "the bottlenecks in your services and replicate there or fix them there without having to do massive rewrites or",
    "start": "874480",
    "end": "882320"
  },
  {
    "text": "actually come up with uh or actually having to do like lots and lots of work to do that um similarly they're way",
    "start": "882320",
    "end": "889320"
  },
  {
    "text": "easier to test right because the test surface is way smaller on each one of these things they don't do as much as a",
    "start": "889320",
    "end": "896120"
  },
  {
    "text": "big monolithic application so they're way easier to test developers can test them locally that's awesome right to be",
    "start": "896120",
    "end": "902199"
  },
  {
    "text": "able to test your service without having to deploy to the test environment is super great right especially if you're",
    "start": "902199",
    "end": "907720"
  },
  {
    "text": "running a laptop which many of the developers are they're easier deploy they're smaller right that's super important for",
    "start": "907720",
    "end": "915320"
  },
  {
    "text": "us they're smaller they deploy really fast and they're easier to monitor",
    "start": "915320",
    "end": "921160"
  },
  {
    "text": "because they're doing less so it's way easier to monitor each of those instances they can be uh version",
    "start": "921160",
    "end": "929160"
  },
  {
    "text": "independently this is something else we do a ton so this is super important as I said before we run on embedded devices",
    "start": "929160",
    "end": "936240"
  },
  {
    "text": "right embedded devices manufacturers when they want to create like they don't care once they've sold you your whatever",
    "start": "936240",
    "end": "943880"
  },
  {
    "text": "uh in fact this is the wthings lamp that runs Spotify in it once wthings has sold",
    "start": "943880",
    "end": "949160"
  },
  {
    "text": "you this thing they're really happy they don't really care about you anymore because you're not going to rent the lamp from them you own the lamp you're",
    "start": "949160",
    "end": "955600"
  },
  {
    "text": "not going to buy it again so you're that sale is done they don't necessarily need to update it ever right it's kind of",
    "start": "955600",
    "end": "962399"
  },
  {
    "text": "like the Android phone problem right older Android phones there's not a lot of value in the carriers to update them",
    "start": "962399",
    "end": "968639"
  },
  {
    "text": "right same problem in embedded devices there's very little reason for them to update them which means that as long as",
    "start": "968639",
    "end": "975199"
  },
  {
    "text": "these lamps are sitting on people's bedside table they're going to be calling the same version of the API on",
    "start": "975199",
    "end": "980600"
  },
  {
    "text": "the back end they're going to expect it to work exactly the same and if it doesn't work the same the lamp is going to start to is no longer going to work",
    "start": "980600",
    "end": "987800"
  },
  {
    "text": "now the people who are",
    "start": "987800",
    "end": "990920"
  },
  {
    "text": "some point later refactor some code that it turns out like a version 10 10 versions ago was still using and breaks",
    "start": "1048960",
    "end": "1056960"
  },
  {
    "text": "that that's I've seen that happen so many times we don't deal with that and that's super powerful and very",
    "start": "1056960",
    "end": "1065039"
  },
  {
    "start": "1064000",
    "end": "1324000"
  },
  {
    "text": "valuable uh the other thing that's kind of cool about the way we work and at the",
    "start": "1065039",
    "end": "1070520"
  },
  {
    "text": "scale we're at is we're less susceptible with microservices to large failures right big Services fail big small",
    "start": "1070520",
    "end": "1076640"
  },
  {
    "text": "Services fail small right this is important when you have an application like this so if you start typing this is",
    "start": "1076640",
    "end": "1083840"
  },
  {
    "text": "my favorite service to kind of use as an example if you start typing in Spotify in the search box after the third",
    "start": "1083840",
    "end": "1090240"
  },
  {
    "text": "character we start trying to suggest things to you right guess what the name of that service is that gives you those",
    "start": "1090240",
    "end": "1096240"
  },
  {
    "text": "suggestions it's called search suggest so what it does is it goes out and does",
    "start": "1096240",
    "end": "1101440"
  },
  {
    "text": "some personalized uh personalized results for you based on your search history based",
    "start": "1101440",
    "end": "1106919"
  },
  {
    "text": "on the stuff in your collection based on things you've listened to recently so that one service is Fanning out to like",
    "start": "1106919",
    "end": "1113120"
  },
  {
    "text": "a bunch of other services any one of those fails that's cool you just don't see those results if the search suggests",
    "start": "1113120",
    "end": "1119880"
  },
  {
    "text": "uh service itself fails you type you don't get anything until you hit return and then you go through the other search",
    "start": "1119880",
    "end": "1125159"
  },
  {
    "text": "service so it works fine users may not even notice that so at any point in time",
    "start": "1125159",
    "end": "1130440"
  },
  {
    "text": "at Spotify huge percentage of our this doesn't happen but it could happen large",
    "start": "1130440",
    "end": "1136240"
  },
  {
    "text": "numbers of our services could be down in like all of our dat data center simultaneously and you would as a user",
    "start": "1136240",
    "end": "1141640"
  },
  {
    "text": "wouldn't know it partially because it's 2015 and we built all of our things assuming that Services can fail all the",
    "start": "1141640",
    "end": "1147720"
  },
  {
    "text": "time we've learned that lesson but it's also because each of these services that could be failing is not doing so much",
    "start": "1147720",
    "end": "1154159"
  },
  {
    "text": "that it not being there is going to ruin your experience with Spotify so that's also pretty",
    "start": "1154159",
    "end": "1161440"
  },
  {
    "text": "important so there's the bad stuff about microservices as well they're harder to",
    "start": "1161480",
    "end": "1166760"
  },
  {
    "text": "Monitor and I couple minutes ago I said they easier to monitor I'm saying they're harder to monitor well why are",
    "start": "1166760",
    "end": "1172080"
  },
  {
    "text": "they harder to monitor because we don't have uh because we have thousands of instances running right we have a lot of",
    "start": "1172080",
    "end": "1179400"
  },
  {
    "text": "little Services running with lots of instances of them so while the surface area on each one of these is smaller",
    "start": "1179400",
    "end": "1186280"
  },
  {
    "text": "than like a big monolithic service there's just way more of them so that's a challenge for",
    "start": "1186280",
    "end": "1192640"
  },
  {
    "text": "us uh Discovery and documentation tools is super important if you're a backend",
    "start": "1192640",
    "end": "1198840"
  },
  {
    "text": "developer starting at Spotify next week you are a wash in a sea of services that actually up until recently there was no",
    "start": "1198840",
    "end": "1205760"
  },
  {
    "text": "way to know what services actually there were we were pretty bad about that I have to admit we've gotten way better at",
    "start": "1205760",
    "end": "1212080"
  },
  {
    "text": "it but even this next week not all services are as well named as search suggest some of them aren't these are",
    "start": "1212080",
    "end": "1219120"
  },
  {
    "text": "Services named by developers with no uh expectation that people outside the company are going to see them so there's",
    "start": "1219120",
    "end": "1225400"
  },
  {
    "text": "some pretty weirdly named services that have no context to what they actually do that's okay but if you're a new",
    "start": "1225400",
    "end": "1231880"
  },
  {
    "text": "developer trying to figure out how to get album metadata and there's no search that's uh there's no service it's called",
    "start": "1231880",
    "end": "1237640"
  },
  {
    "text": "album metadata returner uh which it might be if you wrote it in and you were in Germany um",
    "start": "1237640",
    "end": "1245520"
  },
  {
    "text": "that was a joke sorry bad joke on Germany uh sorry uh it it's really hard so we",
    "start": "1245520",
    "end": "1254360"
  },
  {
    "text": "actually have had to put a lot of work into actually making it easier for people to find services and to get uh",
    "start": "1254360",
    "end": "1260320"
  },
  {
    "text": "documentation on them this is uh something that we call system z uh this is relatively new it's only a",
    "start": "1260320",
    "end": "1266480"
  },
  {
    "text": "few weeks old um or it's been in development for a long time but it's only really become super useful in the",
    "start": "1266480",
    "end": "1272159"
  },
  {
    "text": "last few weeks when you write a new service and you check it into GitHub at uh Spotify you put a little yaml file in",
    "start": "1272159",
    "end": "1279159"
  },
  {
    "text": "there and then it populates this so each one of these is this is just some of the services right um like for example if",
    "start": "1279159",
    "end": "1286320"
  },
  {
    "text": "you were a new developer what does keano ser service do you have no idea um",
    "start": "1286320",
    "end": "1291600"
  },
  {
    "text": "Hermes Java IB Sim okay boot camp",
    "start": "1291600",
    "end": "1296679"
  },
  {
    "text": "42b uh these are some of the services that are running and uh you can click on these",
    "start": "1296679",
    "end": "1302679"
  },
  {
    "text": "you can get links to their GitHub repo you can get uh documentation on the service itself the system owner the",
    "start": "1302679",
    "end": "1308480"
  },
  {
    "text": "squad owner uh monitoring for these services so this is something we added",
    "start": "1308480",
    "end": "1313679"
  },
  {
    "text": "relatively recently um that's made it a lot easier but up until this point it was actually a little bit it was pretty",
    "start": "1313679",
    "end": "1319440"
  },
  {
    "text": "hard you had to just walk through the code uh in GitHub to find",
    "start": "1319440",
    "end": "1324720"
  },
  {
    "start": "1324000",
    "end": "1440000"
  },
  {
    "text": "stuff another problem that we have uh but everyone has when you talk about",
    "start": "1324720",
    "end": "1329960"
  },
  {
    "text": "what's wrong with microservices and why they're so horrible uh what you always talk here about is latency right because",
    "start": "1329960",
    "end": "1336480"
  },
  {
    "text": "what's happening is instead of us calling a single process or a multipro service that goes and collects all the",
    "start": "1336480",
    "end": "1343120"
  },
  {
    "text": "data and returns it instead we're calling lots of services and those services are calling other services and",
    "start": "1343120",
    "end": "1349360"
  },
  {
    "text": "there's latency that grows through each one of these calls yeah that's that's horrible the problem the the benefit",
    "start": "1349360",
    "end": "1356360"
  },
  {
    "text": "that we've seen to actually working this way means that we've tried to figure out better ways to handle the latency one of",
    "start": "1356360",
    "end": "1362679"
  },
  {
    "text": "the things we did was we stole this idea actually from Netflix this wasn't our",
    "start": "1362679",
    "end": "1367919"
  },
  {
    "text": "idea where we switched to using these view aggregation services so um previously in uh the Spotify client like",
    "start": "1367919",
    "end": "1376679"
  },
  {
    "text": "on your phone it would make calls out to dozens of services and uh and then kind",
    "start": "1376679",
    "end": "1382480"
  },
  {
    "text": "of assemble all the data even some of it it didn't really need and then it would kind of draw you a UI which meant each",
    "start": "1382480",
    "end": "1389200"
  },
  {
    "text": "one of these have their own latencies and depending on the connection you were on could be you know good or bad what we",
    "start": "1389200",
    "end": "1395279"
  },
  {
    "text": "what we did over like a year and a half a couple years ago is we switched to this other model this view aggregation",
    "start": "1395279",
    "end": "1400480"
  },
  {
    "text": "model so running in we have other services that basically are one per",
    "start": "1400480",
    "end": "1405919"
  },
  {
    "text": "platform per view more or less that go and do all this aggregation and return exactly only what the client needs so it",
    "start": "1405919",
    "end": "1413840"
  },
  {
    "text": "helps reduce the latency pretty significantly performance in the application took a pretty significant",
    "start": "1413840",
    "end": "1419320"
  },
  {
    "text": "jump like the application has gotten incredibly more responsive by doing this it doesn't mean we're not inducing",
    "start": "1419320",
    "end": "1425600"
  },
  {
    "text": "latency by having multiple servers it just means we're trying to keep the connections between them short and so",
    "start": "1425600",
    "end": "1432440"
  },
  {
    "text": "it's faster overall we also decreased a lot of the traffic to the client so this has worked quite well",
    "start": "1432440",
    "end": "1440440"
  },
  {
    "text": "of course if you're going to write bad monol lists you're going to write bad microservices I think one of the",
    "start": "1441440",
    "end": "1447279"
  },
  {
    "text": "problems we have because our services are owned by teams and lots of developers own lots of services means",
    "start": "1447279",
    "end": "1453640"
  },
  {
    "text": "there's fewer eyes on any part of the code pass uh so if you are writing bad",
    "start": "1453640",
    "end": "1459279"
  },
  {
    "text": "crummy code uh yeah you could actually it like bad smells can stay there longer just",
    "start": "1459279",
    "end": "1466159"
  },
  {
    "text": "because there's fewer eyes on them because there's way more service although honestly they're all much smaller so hopefully it isn't it's good",
    "start": "1466159",
    "end": "1473760"
  },
  {
    "text": "tradeoff but it's something I want to acknowledge now again so these are kind of generalized some of these benefits",
    "start": "1473760",
    "end": "1479799"
  },
  {
    "start": "1476000",
    "end": "1620000"
  },
  {
    "text": "are benefits maybe you already realizing in your own companies if you're using microservices um but maybe at a",
    "start": "1479799",
    "end": "1486000"
  },
  {
    "text": "different scale than we are right so if you're trying to convince your boss like oh this is a really good way of working",
    "start": "1486000",
    "end": "1491919"
  },
  {
    "text": "and their boss says well nobody's ever really done this at scale like okay well we have over 800 these are the active",
    "start": "1491919",
    "end": "1498799"
  },
  {
    "text": "Services we have another several hundred that aren't necessarily active we have 810 based on a couple days ago I just",
    "start": "1498799",
    "end": "1505840"
  },
  {
    "text": "looked 810 active Services that's about uh I saw the talk this morning that's",
    "start": "1505840",
    "end": "1510919"
  },
  {
    "text": "about the I guess that's about the same as Netflix um so we're doing this on a pretty big scale",
    "start": "1510919",
    "end": "1518399"
  },
  {
    "text": "okay that's about 10 systems per Squad right so it's about 10 Services",
    "start": "1518399",
    "end": "1524200"
  },
  {
    "text": "per Squad about 1.7 per developer or tester",
    "start": "1524200",
    "end": "1529360"
  },
  {
    "text": "or whomever I didn't look to see what the roles were I just looked to see who had ldap access to production so it's",
    "start": "1529360",
    "end": "1536880"
  },
  {
    "text": "over almost two Services per everyone who has the ability to touch a Production Service whether they're",
    "start": "1536880",
    "end": "1542520"
  },
  {
    "text": "testing it or coding against it or just have been to have access because they're",
    "start": "1542520",
    "end": "1548080"
  },
  {
    "text": "a right ldap group that's over for all of technology for the entire technology",
    "start": "1548080",
    "end": "1554360"
  },
  {
    "text": "department that's a 1.15 is system per member so it's over one service per",
    "start": "1554360",
    "end": "1561840"
  },
  {
    "text": "developer or tester or agile coach or manager in the technology",
    "start": "1561840",
    "end": "1567679"
  },
  {
    "text": "group that also means by the way um that well so that includes like everybody",
    "start": "1567679",
    "end": "1573559"
  },
  {
    "text": "that also client developers who don't write any server code so that gives you kind of the scale we're talking about uh",
    "start": "1573559",
    "end": "1580520"
  },
  {
    "text": "Matias bjor Hayden is talking tomorrow about uh mobile development in the Mobile Track so his",
    "start": "1580520",
    "end": "1586720"
  },
  {
    "text": "Squad uh his Squad in gothamberg has like 60 services that they run uh that",
    "start": "1586720",
    "end": "1593559"
  },
  {
    "text": "they're responsible for and that's with currently six backend developers so that's the kind of way",
    "start": "1593559",
    "end": "1600240"
  },
  {
    "text": "that's the kind of scale we're at this for example uh is part of the",
    "start": "1600240",
    "end": "1607399"
  },
  {
    "text": "metadata ingestion pipeline so this is kind of the complicated this is a squad owns this this is six developers six",
    "start": "1607399",
    "end": "1615159"
  },
  {
    "text": "seven developers these are their systems that they resp responsible",
    "start": "1615159",
    "end": "1620760"
  },
  {
    "start": "1620000",
    "end": "1708000"
  },
  {
    "text": "for um I also wanted to by the way uh we're pretty serious about open sourcing",
    "start": "1620799",
    "end": "1626399"
  },
  {
    "text": "stuff and uh one thing we've done uh pretty recently is op sourced uh this",
    "start": "1626399",
    "end": "1634480"
  },
  {
    "text": "technology uh framework we call Apollo so uh we've been doing this microservices thing for quite a while uh",
    "start": "1634480",
    "end": "1642279"
  },
  {
    "text": "a couple years ago we started developing Apollo now almost all of our microservices are built on the Apollo",
    "start": "1642279",
    "end": "1647880"
  },
  {
    "text": "framework work it's uh does a makes things tremendously simple for us to",
    "start": "1647880",
    "end": "1653000"
  },
  {
    "text": "generate new Services we decided that it was probably useful for everybody not just us so we've open sourced it um it's",
    "start": "1653000",
    "end": "1660559"
  },
  {
    "text": "on GitHub please feel free Fork at will and",
    "start": "1660559",
    "end": "1666840"
  },
  {
    "text": "uh put in pull requests that'd be awesome um we are probably open sourcing",
    "start": "1666840",
    "end": "1672799"
  },
  {
    "text": "a lot we've already open sourced a lot of other things but we're talking about doing a lot more open source around this area so maybe you'll be able to do",
    "start": "1672799",
    "end": "1679640"
  },
  {
    "text": "system Z or some of the other things some of this stuff we had to pull out of here like one of the things this does",
    "start": "1679640",
    "end": "1684960"
  },
  {
    "text": "for us is when you launch your service it does all the things to we have a service called nameless nameless does",
    "start": "1684960",
    "end": "1690799"
  },
  {
    "text": "all the right DNS rounding and stuff so we get all that free versioning routing and all that kind of stuff that might be",
    "start": "1690799",
    "end": "1697000"
  },
  {
    "text": "something we'd open source some point later and then Apollo the the our Fork",
    "start": "1697000",
    "end": "1703000"
  },
  {
    "text": "of it actually does all that stuff for free so it makes things pretty easy",
    "start": "1703000",
    "end": "1709120"
  },
  {
    "start": "1708000",
    "end": "1867000"
  },
  {
    "text": "so in retrospect or to sum up uh we've been doing this micro",
    "start": "1709120",
    "end": "1716159"
  },
  {
    "text": "services at Spotify for years uh we do it at a pretty large scale um we do it",
    "start": "1716159",
    "end": "1722600"
  },
  {
    "text": "with thousands and thousands of running instances on we're still running on our",
    "start": "1722600",
    "end": "1727919"
  },
  {
    "text": "own DCs we also do stuff in the cloud as well but for our production environment right now is all our own DCs more for",
    "start": "1727919",
    "end": "1734600"
  },
  {
    "text": "historic rather than practical or uh technical reasons but we also run these",
    "start": "1734600",
    "end": "1740799"
  },
  {
    "text": "services in our test environment which runs on AWS um so there's nothing inherently",
    "start": "1740799",
    "end": "1746720"
  },
  {
    "text": "that would mean we couldn't do this as well in the cloud uh we have been incredibly happy",
    "start": "1746720",
    "end": "1752159"
  },
  {
    "text": "with it because we have scaled stuff up we can rewrite our services at will",
    "start": "1752159",
    "end": "1757480"
  },
  {
    "text": "which we do rather than continue to refactor them or uh add more and more",
    "start": "1757480",
    "end": "1763399"
  },
  {
    "text": "technical debt over time we'll just rewrite them so a lot of our services are on their fifth or six iteration when",
    "start": "1763399",
    "end": "1769880"
  },
  {
    "text": "we get to a scaling inflection point right so you're rewriting a service it runs great on for 50 million users and",
    "start": "1769880",
    "end": "1776760"
  },
  {
    "text": "now you're at 60 million and it's starting to to be a little bit slow we'll go okay let's rewrite that we know",
    "start": "1776760",
    "end": "1783399"
  },
  {
    "text": "more now than we did when we wrote it let's make it work for 80 million or 100 million because of what we've learned so",
    "start": "1783399",
    "end": "1790840"
  },
  {
    "text": "we'll do that create a new version direct new clients to that version when the old clients st stop using the old",
    "start": "1790840",
    "end": "1797559"
  },
  {
    "text": "one just cu they've all upgraded we kill that one and then we go forward with this one when we hit that limit we've",
    "start": "1797559",
    "end": "1803799"
  },
  {
    "text": "now learned more and we'll rewrite it again we do this kind of stuff all the time because it's really easy with this",
    "start": "1803799",
    "end": "1809159"
  },
  {
    "text": "kind of architecture and it's working incredibly well for us so if you're",
    "start": "1809159",
    "end": "1814200"
  },
  {
    "text": "having a if you're at you know your company and you're trying to convince somebody like oh no no this is this is really great and they're like well no",
    "start": "1814200",
    "end": "1820159"
  },
  {
    "text": "it's really too that's a horrible idea you can point to us you can point to Netflix you can point to a lot of other",
    "start": "1820159",
    "end": "1825559"
  },
  {
    "text": "companies and say this is really working for them they're super super happy with it um with",
    "start": "1825559",
    "end": "1832240"
  },
  {
    "text": "that actually talked faster than I meant to I'm ready to take questions",
    "start": "1832240",
    "end": "1837799"
  },
  {
    "text": "um and thank [Applause]",
    "start": "1837799",
    "end": "1847799"
  },
  {
    "text": "you uh so oh oh sorry one thing too uh yeah I am also around I'm not wearing a",
    "start": "1847799",
    "end": "1853200"
  },
  {
    "text": "big uh red sweater but um and also yeah we're hiring by the by the way um so uh",
    "start": "1853200",
    "end": "1861320"
  },
  {
    "text": "uh if for whatever reason though you don't get a hold of me today you can also pop me questions on",
    "start": "1861320",
    "end": "1866360"
  },
  {
    "text": "Twitter okay so thanks for your talk um there are some some questions in the online system one is are your teams not",
    "start": "1866360",
    "end": "1874039"
  },
  {
    "start": "1867000",
    "end": "2031000"
  },
  {
    "text": "siloed by being autonomous uh how do you make sure teams are not repeating what",
    "start": "1874039",
    "end": "1879440"
  },
  {
    "text": "others are doing rather than reusing yeah so um there's uh I would actually",
    "start": "1879440",
    "end": "1886760"
  },
  {
    "text": "say our teams are kind of purposefully a little bit siloed right we they're autonomous and they own a mission the",
    "start": "1886760",
    "end": "1893760"
  },
  {
    "text": "way we avoid uh two teams trying to end up doing the same thing is we're pretty clear when we create a team we give it a",
    "start": "1893760",
    "end": "1900919"
  },
  {
    "text": "mission that does not overlap with anybody else's mission right so there's really no reason why the search team",
    "start": "1900919",
    "end": "1906519"
  },
  {
    "text": "should be rewriting test infrastructure they may write their own test infrastructure but they're not going to",
    "start": "1906519",
    "end": "1912080"
  },
  {
    "text": "redefine test infrastructure for the company it's just not part of their mission so we were pretty clear when we",
    "start": "1912080",
    "end": "1918000"
  },
  {
    "text": "create a new team like what they do and what they're responsible for and then we make sure no other team in the company",
    "start": "1918000",
    "end": "1924279"
  },
  {
    "text": "has that same or overlapping Mission so that's one way we avoid it but actually to avoid kind of multiple teams uh not",
    "start": "1924279",
    "end": "1932799"
  },
  {
    "text": "learning what other teams are learning to make sure we do that we have this thing called guilds so guilds at Spotify",
    "start": "1932799",
    "end": "1938559"
  },
  {
    "text": "transcend the entire company and anyone can create one so we have a backend developer Guild a Java developer Guild a",
    "start": "1938559",
    "end": "1945039"
  },
  {
    "text": "C++ developer Guild and then also stuff like a craft Brewers Guild and a photography Guild these are things that",
    "start": "1945039",
    "end": "1951679"
  },
  {
    "text": "kind of bring developers in multiple teams together to talk about technology and that's where we make sure like best",
    "start": "1951679",
    "end": "1958360"
  },
  {
    "text": "practices uh and knowledge get spread throughout the whole organization so that we don't ever end up with two teams",
    "start": "1958360",
    "end": "1964799"
  },
  {
    "text": "kind of building similar technology to support their missions okay uh another one is um how",
    "start": "1964799",
    "end": "1971159"
  },
  {
    "text": "do you handle the deployment of all your microservices how do we handle the deployment getting how do we handle the",
    "start": "1971159",
    "end": "1977279"
  },
  {
    "text": "deployment from microservices so we have uh so developers deploy themselves so that should be some I something I should",
    "start": "1977279",
    "end": "1983919"
  },
  {
    "text": "also say we actually used to have an operations team that handled deployment and incidents we stopped doing that a",
    "start": "1983919",
    "end": "1990600"
  },
  {
    "text": "while ago developers teams are now responsible for their own operations uh which means also that we",
    "start": "1990600",
    "end": "1997679"
  },
  {
    "text": "built these really nice tools to help them do the deployment developers deploy themselves whenever they want to um and",
    "start": "1997679",
    "end": "2004600"
  },
  {
    "text": "so what happens is there's a tool that I love this name of this tool there's a tool called the provisioning cannon and",
    "start": "2004600",
    "end": "2010679"
  },
  {
    "text": "it's basically kind of a one button thing that is like and shoot uh instances of your service out to all the",
    "start": "2010679",
    "end": "2017360"
  },
  {
    "text": "DCS and create and provision all them on running on our boxes so we made really good tools to make it easy for",
    "start": "2017360",
    "end": "2023720"
  },
  {
    "text": "developers to monitor to respond to incidents and to uh provision and provision and deploy themselves okay um",
    "start": "2023720",
    "end": "2032039"
  },
  {
    "text": "so another one is how do you handle authorization and authentication across all front-end Services if a deskt St",
    "start": "2032039",
    "end": "2038080"
  },
  {
    "text": "clients talks with so many services so one thing I didn't talk about in our architecture but uh I probably could",
    "start": "2038080",
    "end": "2046080"
  },
  {
    "text": "have or should have is all all client communication goes through what we call access points so that's where we do all",
    "start": "2046080",
    "end": "2053358"
  },
  {
    "text": "the security checks once you're there the access point will send you out to whatever calls you want to make so the a",
    "start": "2053359",
    "end": "2060320"
  },
  {
    "text": "we have a rather than uh we didn't want to create kind of a security nightmare where each service was having to do lots",
    "start": "2060320",
    "end": "2066679"
  },
  {
    "text": "and lots of authentication on the client so we do that through kind of these really lightweight access points that",
    "start": "2066679",
    "end": "2072480"
  },
  {
    "text": "redirect you to the to the service you're trying to get to but they handle all the",
    "start": "2072480",
    "end": "2078079"
  },
  {
    "text": "authentication okay um how do you handle multiple versions with branches yeah so",
    "start": "2078079",
    "end": "2084398"
  },
  {
    "start": "2079000",
    "end": "2118000"
  },
  {
    "text": "what we'll do so if you want to Branch say you wanted to make a new version of the service that had new uh API version",
    "start": "2084399",
    "end": "2091240"
  },
  {
    "text": "what you do is you just Fork it and then create a whole new service from that and just rewrite um usually the services are",
    "start": "2091240",
    "end": "2097800"
  },
  {
    "text": "small enough there's any kind of reusable codes already in a library anyway um but for the most part yeah",
    "start": "2097800",
    "end": "2105800"
  },
  {
    "text": "it's it's pretty lightweight we make it that these are all small Services pretty easy to just rewrite a new one I think",
    "start": "2105800",
    "end": "2112440"
  },
  {
    "text": "some we have some fairly older bigger services but that's pretty rare okay do",
    "start": "2112440",
    "end": "2119200"
  },
  {
    "start": "2118000",
    "end": "2162000"
  },
  {
    "text": "you run integration tests with uh several services and how do you deal with the different versions then so one",
    "start": "2119200",
    "end": "2126720"
  },
  {
    "text": "thing I think we should be better about than we are if I'm going to be totally honest um we do lots and lots of really",
    "start": "2126720",
    "end": "2134240"
  },
  {
    "text": "good unit testing on a single service we do not do great integration testing",
    "start": "2134240",
    "end": "2140880"
  },
  {
    "text": "across multiple Services Beyond lots and lots and lots of client automation so we",
    "start": "2140880",
    "end": "2148560"
  },
  {
    "text": "will run multiple clients we run them with tons and tons of automation on them and that is kind of a proxy for doing",
    "start": "2148560",
    "end": "2155760"
  },
  {
    "text": "good uh integ but I think that's something we actually need to be better about if I was going to be honest okay",
    "start": "2155760",
    "end": "2163000"
  },
  {
    "start": "2162000",
    "end": "2213000"
  },
  {
    "text": "um and what about so so someone asked about uh performance testing with so many users how do you deal with that so",
    "start": "2163000",
    "end": "2170240"
  },
  {
    "text": "that so one thing that's uh that's important about Spotify is",
    "start": "2170240",
    "end": "2175440"
  },
  {
    "text": "we collect ridiculous amounts of data around uh how users are interacting with",
    "start": "2175440",
    "end": "2181680"
  },
  {
    "text": "the application probably way way too much actually data all anonymized um I got to",
    "start": "2181680",
    "end": "2188240"
  },
  {
    "text": "be clear tons and tons of anonymized user data but that includes like a lot",
    "start": "2188240",
    "end": "2193800"
  },
  {
    "text": "of stuff around performance so we're always looking at uh in service performance we're looking at client",
    "start": "2193800",
    "end": "2200400"
  },
  {
    "text": "performance uh there's teams that are 100% focused on that stuff and then we're looking at how people you interact",
    "start": "2200400",
    "end": "2207000"
  },
  {
    "text": "with it so we're collecting lots and lots of real-time data and then analyzing it",
    "start": "2207000",
    "end": "2212920"
  },
  {
    "text": "always uh so do you have automated test is another question do we we have sorry",
    "start": "2212920",
    "end": "2218440"
  },
  {
    "start": "2213000",
    "end": "2290000"
  },
  {
    "text": "automated tests yes we have lots and lots of automated tests I thought so okay yeah um what about can you imagine",
    "start": "2218440",
    "end": "2226480"
  },
  {
    "text": "working this way with developers uh Outsource sitting uh in India um could I imagine working this",
    "start": "2226480",
    "end": "2233960"
  },
  {
    "text": "way with developers outsourced in India um yeah I don't I don't see particularly",
    "start": "2233960",
    "end": "2240839"
  },
  {
    "text": "why that would be a problem um the only thing I would say is uh one thing that",
    "start": "2240839",
    "end": "2246720"
  },
  {
    "text": "has to be I think one thing that's kind of important especially if you're having your own teams be responsible for",
    "start": "2246720",
    "end": "2253720"
  },
  {
    "text": "operational responsibility I think it works pretty well because if you write crummy code and you get woken up every",
    "start": "2253720",
    "end": "2259560"
  },
  {
    "text": "night because you're having incidents you fix that crummy code so I think that's actually kind of an important",
    "start": "2259560",
    "end": "2265520"
  },
  {
    "text": "part of this if you had some other team either doing operations or they were",
    "start": "2265520",
    "end": "2271400"
  },
  {
    "text": "doing the coding and you were doing the operations there's that you don't feel the pain um but I don't see a particular",
    "start": "2271400",
    "end": "2277680"
  },
  {
    "text": "a reason why like we do this between our offices in uh New York Stockholm",
    "start": "2277680",
    "end": "2282760"
  },
  {
    "text": "gothamberg and Boston stuff and that works fine so remote teams works okay",
    "start": "2282760",
    "end": "2288280"
  },
  {
    "text": "Outsource teams okay should be okay um so another",
    "start": "2288280",
    "end": "2294359"
  },
  {
    "start": "2290000",
    "end": "2406000"
  },
  {
    "text": "question is Apollo seems to be Java based and you say all services are based on it isn't that a little bit odd in a",
    "start": "2294359",
    "end": "2300560"
  },
  {
    "text": "microservices world where you could use different languages so we use different",
    "start": "2300560",
    "end": "2306240"
  },
  {
    "text": "languages out outside of production so there's a reason we use Java in production and this was uh we didn't use",
    "start": "2306240",
    "end": "2313480"
  },
  {
    "text": "to actually make a rule around what language you use that's actually relatively new so most of the services",
    "start": "2313480",
    "end": "2320240"
  },
  {
    "text": "that Spotify runs on most of the older versions Spotify is actually mostly written in Python the earlier versions",
    "start": "2320240",
    "end": "2326160"
  },
  {
    "text": "and we started transitioning to Java over the over years uh a little while ago we noticed",
    "start": "2326160",
    "end": "2333599"
  },
  {
    "text": "that the services that were having incidents consistently were the servic that were still written in Python so",
    "start": "2333599",
    "end": "2340200"
  },
  {
    "text": "we've more or less said okay from now on we're only writing production in Production Services in Java there's a",
    "start": "2340200",
    "end": "2346480"
  },
  {
    "text": "couple reasons for it one is actually developers move from Team to team and developers are code reviewing between",
    "start": "2346480",
    "end": "2352839"
  },
  {
    "text": "teams all the time and if every team is writing in different languages that becomes incredibly complicated that's I",
    "start": "2352839",
    "end": "2360440"
  },
  {
    "text": "think probably the main reason we do also because we are like many companies like when we find a tech something that",
    "start": "2360440",
    "end": "2367040"
  },
  {
    "text": "seems to work really well we say this is what we're going to use now cuz we don't want to deal with the pain of stuff not",
    "start": "2367040",
    "end": "2374119"
  },
  {
    "text": "working um so that's the other reason we know Java works and now that all the",
    "start": "2374119",
    "end": "2379760"
  },
  {
    "text": "production uh code is written in Java all the Production Services are written in Java that makes it really easy for",
    "start": "2379760",
    "end": "2385079"
  },
  {
    "text": "other people to jump in and help with stuff behind the scenes we write in",
    "start": "2385079",
    "end": "2390359"
  },
  {
    "text": "zillions of languages right so we're our data pipelines are written some we're using scalding so we're using scal we're",
    "start": "2390359",
    "end": "2397440"
  },
  {
    "text": "using earling we're using lots and lots of different languages at Spotify to write our services we're just not using",
    "start": "2397440",
    "end": "2403880"
  },
  {
    "text": "those languages in production okay um continuing the the discussion around programming so someone",
    "start": "2403880",
    "end": "2410599"
  },
  {
    "text": "asked whether you're using go the programming language go we are but not",
    "start": "2410599",
    "end": "2415720"
  },
  {
    "text": "in production okay um do you have a bootstrapping tool per language for a",
    "start": "2415720",
    "end": "2420920"
  },
  {
    "text": "service no so that's the other thing um teams can more or less again like we",
    "start": "2420920",
    "end": "2427040"
  },
  {
    "text": "this is it was interesting when we made this rule by the time we made the rule about Java every almost every team is",
    "start": "2427040",
    "end": "2432359"
  },
  {
    "text": "already in Java so it wasn't a big deal but for us to dictate a language was actually kind of a big deal for Spotify",
    "start": "2432359",
    "end": "2438920"
  },
  {
    "text": "um it's not usually the way we work uh but what we have done for all those",
    "start": "2438920",
    "end": "2444079"
  },
  {
    "text": "other things like data pipelines and stuff one of the things we've done is we've said we're going to make it super",
    "start": "2444079",
    "end": "2449520"
  },
  {
    "text": "super easy to do the thing we think is probably the best way to do it we're not",
    "start": "2449520",
    "end": "2454800"
  },
  {
    "text": "if you want to do it something else you're totally willing to do that we're just not going to invest a lot in our infrastructure to make that easy so for",
    "start": "2454800",
    "end": "2461640"
  },
  {
    "text": "example the the thing I showed uh uh Apollo is Java right because",
    "start": "2461640",
    "end": "2468079"
  },
  {
    "text": "that's what we use to do this um we have other tools for python we have lots of python stuff or that kind of thing but",
    "start": "2468079",
    "end": "2475520"
  },
  {
    "text": "no if you're we make it really easy to do Java and if you want to do something else that's fine but then you have to do",
    "start": "2475520",
    "end": "2481839"
  },
  {
    "text": "the work yourself okay um another question around the the architecture",
    "start": "2481839",
    "end": "2487839"
  },
  {
    "start": "2484000",
    "end": "2548000"
  },
  {
    "text": "do you have a separate view aggregate for each device and each app yes okay so",
    "start": "2487839",
    "end": "2493599"
  },
  {
    "text": "each view is going to have its own uh each view per platform so that that was",
    "start": "2493599",
    "end": "2499800"
  },
  {
    "text": "an easy one um how do you keep the teams in sync uh in especially if one teams depends on another one um shouldn't",
    "start": "2499800",
    "end": "2507520"
  },
  {
    "text": "there be like an architect for doing these kinds of global coordinations so",
    "start": "2507520",
    "end": "2512800"
  },
  {
    "text": "we don't that's the point I think is the teams are autonomous so we don't really keep them in sync they do each of them",
    "start": "2512800",
    "end": "2518839"
  },
  {
    "text": "is doing their own thing on their own schedule and on their own pace so we",
    "start": "2518839",
    "end": "2524319"
  },
  {
    "text": "actually and part of that is we have nearly some but as few as possible",
    "start": "2524319",
    "end": "2530560"
  },
  {
    "text": "dependencies so there is a lot of the work that we've done to set up our organization is to reduce the amount",
    "start": "2530560",
    "end": "2538599"
  },
  {
    "text": "that teams have to synchronize between each other and dependencies between them so think and microservices actually",
    "start": "2538599",
    "end": "2545880"
  },
  {
    "text": "super helpful for that okay um there is another one that that I think is quite",
    "start": "2545880",
    "end": "2551319"
  },
  {
    "start": "2548000",
    "end": "2646000"
  },
  {
    "text": "interesting um so how would you migrate away from a monolith because I mean that",
    "start": "2551319",
    "end": "2557000"
  },
  {
    "text": "seems to be what everybody is doing but you haven't spoken about it I think yeah I think uh I've been I when I talk to",
    "start": "2557000",
    "end": "2562280"
  },
  {
    "text": "other companies like when I go and visit other companies um a lot of them tell me well that's really great for you but you",
    "start": "2562280",
    "end": "2567880"
  },
  {
    "text": "kind of more or less started that way and we have this really important system that's really old and um we it's massive",
    "start": "2567880",
    "end": "2575520"
  },
  {
    "text": "and there's no way we can switch to microservices because everything depends on this thing and it's I mean it's I",
    "start": "2575520",
    "end": "2583520"
  },
  {
    "text": "would love to say well I'm not I'm not a consultant so I don't go around and like make help other companies do this I just",
    "start": "2583520",
    "end": "2589640"
  },
  {
    "text": "have like my own opinion about it which may or may not be right um but the way I would look at this is every time I've",
    "start": "2589640",
    "end": "2595520"
  },
  {
    "text": "talked to these companies like what is this big system doing well it's doing a b c d and e okay well that's one two",
    "start": "2595520",
    "end": "2603880"
  },
  {
    "text": "three four five different microservices you could have maybe you can pull this functionality out and you can pull this",
    "start": "2603880",
    "end": "2610839"
  },
  {
    "text": "functionality out it's just decomposing I mean I don't have a Magic Bullet for that but i' I hear this all the time and",
    "start": "2610839",
    "end": "2617880"
  },
  {
    "text": "to me when you're it's easy for me because I'm outside it obviously like I'm not in your company and I don't have",
    "start": "2617880",
    "end": "2624040"
  },
  {
    "text": "to deal with all the the finance people or whatever but what I'll tell you is if",
    "start": "2624040",
    "end": "2630000"
  },
  {
    "text": "you can step back a little bit really kind of look at your system like a black box and just think about what it does",
    "start": "2630000",
    "end": "2635640"
  },
  {
    "text": "you can start to figure out what you can tease out and then sort of tease each of those threads out and that seems to be a",
    "start": "2635640",
    "end": "2642680"
  },
  {
    "text": "good pattern I've seen work in other companies okay so continuing the the",
    "start": "2642680",
    "end": "2647839"
  },
  {
    "start": "2646000",
    "end": "2745000"
  },
  {
    "text": "discussion about autonomy how do you balance uh Team autonomy with requirements that each service must do",
    "start": "2647839",
    "end": "2654160"
  },
  {
    "text": "such as monitoring service Discovery Health checks locking correlation IDs so",
    "start": "2654160",
    "end": "2660720"
  },
  {
    "text": "uh there's very little that a service must do um",
    "start": "2660720",
    "end": "2667800"
  },
  {
    "text": "but again that's also kind of assuming developers don't care about the services",
    "start": "2667800",
    "end": "2672920"
  },
  {
    "text": "they write which is silly of course they care about it and they want them to to good be good so you know nobody's saying",
    "start": "2672920",
    "end": "2678520"
  },
  {
    "text": "you have to monitor your service there's no rule if you don't monitor your service be everyone will say like hey",
    "start": "2678520",
    "end": "2684760"
  },
  {
    "text": "why aren't you monitoring your service that seems stupid um but any developer who knows what they're doing like and we",
    "start": "2684760",
    "end": "2690200"
  },
  {
    "text": "hire people know what they're doing like says like we should monitor your service we give you lots of tools to make it",
    "start": "2690200",
    "end": "2695680"
  },
  {
    "text": "super easy to do that if you don't do it it's kind of the question is why aren't you um so we they have a lot of choices",
    "start": "2695680",
    "end": "2703920"
  },
  {
    "text": "on how they do stuff we don't tell them we don't we dictate almost nothing but we make it super easy to do it in the",
    "start": "2703920",
    "end": "2710040"
  },
  {
    "text": "easy way and so why do you need to innovate on deploying Services that's not really something you as a developer",
    "start": "2710040",
    "end": "2716520"
  },
  {
    "text": "writing services need to care about if you have a really easy way to deploy your service you'll just use it because",
    "start": "2716520",
    "end": "2722240"
  },
  {
    "text": "that's easier and you can spend more time actually coding so that's kind of",
    "start": "2722240",
    "end": "2728359"
  },
  {
    "text": "we don't enforce rules we kind of make it easy to do the the the smart thing",
    "start": "2728359",
    "end": "2734119"
  },
  {
    "text": "and then make it a little bit painful to not do this the obvious thing but no one tells developers you have to do this you",
    "start": "2734119",
    "end": "2740400"
  },
  {
    "text": "have to do that okay um with the exception of java and production so one rule we have um there is another more",
    "start": "2740400",
    "end": "2748280"
  },
  {
    "start": "2745000",
    "end": "2867000"
  },
  {
    "text": "detailed question so how do you do a distributed request tracing request",
    "start": "2748280",
    "end": "2753480"
  },
  {
    "text": "tracing across all services uh I do not have a I do not have the answer to that question off the",
    "start": "2753480",
    "end": "2759359"
  },
  {
    "text": "top of my head I'm a VP I'm not a developer so I have to apologize for that I wrote so that's kind of I I",
    "start": "2759359",
    "end": "2767880"
  },
  {
    "text": "wasn't I ended up in this track in an unusual way let's just say that so yeah",
    "start": "2767880",
    "end": "2775160"
  },
  {
    "text": "it was my fault so we do that I don't know what we're doing about it so how do you do code reviews across teams oh so",
    "start": "2775160",
    "end": "2782520"
  },
  {
    "text": "that's so um so the way we do both code reviews actually in on call",
    "start": "2782520",
    "end": "2787680"
  },
  {
    "text": "um so if you know anything about Spotify uh which you may or may not we have a",
    "start": "2787680",
    "end": "2794000"
  },
  {
    "text": "matrix organization which means like the teams being the vertical these full",
    "start": "2794000",
    "end": "2799079"
  },
  {
    "text": "stack autonomous teams are the vertical on the horizontal is uh sort of uh what",
    "start": "2799079",
    "end": "2805559"
  },
  {
    "text": "we call chapters and in a chapter would be all the backend Engineers across multiple teams so for example the way we",
    "start": "2805559",
    "end": "2812400"
  },
  {
    "text": "would do code reviews is the folks in your chapter who may be in your team or they might be in another team that's",
    "start": "2812400",
    "end": "2818359"
  },
  {
    "text": "part of your organization they do code review you all do code reviews for each other if for some reason somebody in",
    "start": "2818359",
    "end": "2824119"
  },
  {
    "text": "your chapter can't do it there's the guild and you can ask somebody in the guild all the backend Engineers are in",
    "start": "2824119",
    "end": "2829160"
  },
  {
    "text": "the same Guild so there's pretty easy ways to ask for code reviews we actually require two code reviews of every",
    "start": "2829160",
    "end": "2836119"
  },
  {
    "text": "check-in uh you have to get two plus ones uh to actually merge your PLL",
    "start": "2836119",
    "end": "2842200"
  },
  {
    "text": "request that's something that we've done forever and ever um and it's worked really really well for for us um so on",
    "start": "2842200",
    "end": "2849119"
  },
  {
    "text": "call kind of works the same on call rotations usually in the chapter so you are not on call for all 10 of your",
    "start": "2849119",
    "end": "2854640"
  },
  {
    "text": "services every night of the year uh you have a chapter that usually is like seven or eight people and because you're",
    "start": "2854640",
    "end": "2860119"
  },
  {
    "text": "all code reviewing each other's code and because all your services are actually quite small you can cover each other's systems pretty",
    "start": "2860119",
    "end": "2866319"
  },
  {
    "text": "well okay okay I guess um final question um what is your biggest area of",
    "start": "2866319",
    "end": "2872200"
  },
  {
    "start": "2867000",
    "end": "2947000"
  },
  {
    "text": "technical debt our biggest area of technical debt um",
    "start": "2872200",
    "end": "2878838"
  },
  {
    "text": "H in the entire company or in uh in the back ends I guess I think we have uh we",
    "start": "2879240",
    "end": "2886359"
  },
  {
    "text": "H we have all right I think there's one service in particular um if you know",
    "start": "2886359",
    "end": "2891720"
  },
  {
    "text": "Swedish it's a service we call slusk which is uh Swedish for trash",
    "start": "2891720",
    "end": "2899040"
  },
  {
    "text": "um and uh that's a service that kind of looks like a key value store and it's",
    "start": "2899040",
    "end": "2906000"
  },
  {
    "text": "kind of generic which meant that it was a service where if you needed something to be in a kind of a persistent key",
    "start": "2906000",
    "end": "2911720"
  },
  {
    "text": "Value Store you just add it to there for years now and um so it's basically this",
    "start": "2911720",
    "end": "2919240"
  },
  {
    "text": "kind of mess uh data repository that owns way too many important things just",
    "start": "2919240",
    "end": "2925800"
  },
  {
    "text": "because it was easier to throw something in there than to make a new key Value Store yeah so that's probably our number",
    "start": "2925800",
    "end": "2933240"
  },
  {
    "text": "one kind of technical debt piece okay thanks a lot uh for the talk thanks for",
    "start": "2933240",
    "end": "2939480"
  },
  {
    "text": "answering the [Applause]",
    "start": "2939480",
    "end": "2945309"
  },
  {
    "text": "questions",
    "start": "2946359",
    "end": "2949359"
  }
]