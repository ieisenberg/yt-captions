[
  {
    "text": "hello do this work okay great uh hey everyone uh my name is Matt I work at Uber and uh thanks so much for having me",
    "start": "6080",
    "end": "11880"
  },
  {
    "text": "here before I get started I want to give you a quick disclaimer um I know a lot",
    "start": "11880",
    "end": "17720"
  },
  {
    "text": "of times you go to a Tech conference and a big fancy California software company gets up here and tells you about all the",
    "start": "17720",
    "end": "24359"
  },
  {
    "text": "amazing things that they built and um I I feel like I'm in danger of falling",
    "start": "24359",
    "end": "30160"
  },
  {
    "text": "into that uh that stereotype here uh and I used to be uh I used to be on the sort",
    "start": "30160",
    "end": "35280"
  },
  {
    "text": "of uh on the audience side of of that and see these people from your Googles and your Facebooks and whatever come up",
    "start": "35280",
    "end": "40559"
  },
  {
    "text": "and say oh man it's so cool we got all this stuff figured out and we're scaling to the planet and uh they have all these",
    "start": "40559",
    "end": "46640"
  },
  {
    "text": "amazing systems and I'd be like wow that's weird because like my stuff sucks it's like all broken and like Legacy and",
    "start": "46640",
    "end": "54239"
  },
  {
    "text": "we're in the middle of all migrations and like what would be great to do microservices but it's like how are we",
    "start": "54239",
    "end": "60559"
  },
  {
    "text": "ever going to get the old this two generations old thing migrated to the one generation old thing before we even",
    "start": "60559",
    "end": "66200"
  },
  {
    "text": "invent a new thing um well I'm here to tell you that's how everyone is um even",
    "start": "66200",
    "end": "71600"
  },
  {
    "text": "even at Uber we're that way too we have all this old Legacy stuff and we wish it was newer and anyway that's the reason a",
    "start": "71600",
    "end": "77840"
  },
  {
    "text": "lot of people go to give talks at conferences is because they want to talk about their new cool stuff meanwhile back at the office most people are",
    "start": "77840",
    "end": "84000"
  },
  {
    "text": "working on the old Legacy stuff so uh don't feel too bad uh I want to also point out I don't have all the answers",
    "start": "84000",
    "end": "90360"
  },
  {
    "text": "but um definitely we've gone uh we've gone through some fairly unique circumstances and I hope you can learn",
    "start": "90360",
    "end": "97159"
  },
  {
    "text": "something from uh from our experience so you know as you probably heard um you know Uber's growing a lot uh over the",
    "start": "97159",
    "end": "104040"
  },
  {
    "text": "years we hired a lot of Engineers when I started at Uber about two years and two",
    "start": "104040",
    "end": "109200"
  },
  {
    "text": "months ago there were 200 engineers and now there are",
    "start": "109200",
    "end": "114280"
  },
  {
    "text": "2,500 plus Engineers so that's you know 10x year-over-year",
    "start": "114280",
    "end": "120960"
  },
  {
    "text": "that's pretty intense uh pretty intense growth and you know why do you hire",
    "start": "120960",
    "end": "126520"
  },
  {
    "text": "Engineers when obviously because you want them to write software and right software they did",
    "start": "126520",
    "end": "133239"
  },
  {
    "text": "um and this is the count of the the number of services that we have in production and I think the really",
    "start": "133239",
    "end": "140800"
  },
  {
    "text": "interesting thing about this graph is not necessarily the the actual y AIS position but the slope of that line um",
    "start": "140800",
    "end": "149080"
  },
  {
    "text": "showing no signs of stopping like once it sort of tipped up um like I don't",
    "start": "149080",
    "end": "154959"
  },
  {
    "text": "know I don't I don't see that I don't see that slope changing in anytime soon uh so here is uh here's sort of some",
    "start": "154959",
    "end": "162040"
  },
  {
    "text": "more like gritty details from the observability team about the the actual count of services as of like a couple",
    "start": "162040",
    "end": "167560"
  },
  {
    "text": "days ago and uh as you can see to my point earlier um most of it is Legacy",
    "start": "167560",
    "end": "173680"
  },
  {
    "text": "like most of it is where it's actually not uh not traced not measured not instrumented the way that we would like",
    "start": "173680",
    "end": "179560"
  },
  {
    "text": "it to be I mean it's not like we have no idea what's going on but we have some fancy new monitoring tools that uh we",
    "start": "179560",
    "end": "186040"
  },
  {
    "text": "hook up new stuff to but uh most of the old stuff does not have it",
    "start": "186040",
    "end": "191319"
  },
  {
    "text": "so as you can imagine this caused a lot of problems so uh adding this many this",
    "start": "191319",
    "end": "197760"
  },
  {
    "text": "many people this quickly uh deploying all these new Services uh this quickly um man it's uh you know lot a lot of",
    "start": "197760",
    "end": "205200"
  },
  {
    "text": "issues like it's harder to debug this system now that it's you know broken up into so many small parts um it's harder",
    "start": "205200",
    "end": "212799"
  },
  {
    "text": "to uh to profile it um but you know a curious thing that we're starting to find is we're hitting uh we're hitting a",
    "start": "212799",
    "end": "221239"
  },
  {
    "text": "lot more friction actually making changes which is kind of like the point",
    "start": "221239",
    "end": "227120"
  },
  {
    "text": "of maybe microservices in the first place is that it would be easier to make changes so uh we'll we'll come back to",
    "start": "227120",
    "end": "232959"
  },
  {
    "text": "that first like really kind of makes like we regularly sort of question this",
    "start": "232959",
    "end": "238439"
  },
  {
    "text": "like because we're all the stuff out and thinking is this you know lots of people uh whenever they see this graph",
    "start": "238439",
    "end": "244400"
  },
  {
    "text": "internally even they're like this can't be right like how can this be 2,000 is",
    "start": "244400",
    "end": "249599"
  },
  {
    "text": "too many um as if there's some number that's like the right number um so I don't know what that right number is but",
    "start": "249599",
    "end": "256400"
  },
  {
    "text": "like I you definitely you can imagine this topic comes up a lot like why like",
    "start": "256400",
    "end": "262479"
  },
  {
    "text": "is there some better way uh to do this and you know so we go through the normal the normal set of stuff like okay so is",
    "start": "262479",
    "end": "270280"
  },
  {
    "text": "it easier to release our software yeah maybe like maybe it's easier to release because like now uh you don't have to uh",
    "start": "270280",
    "end": "277720"
  },
  {
    "text": "release the whole thing you know if you want to make a change in some small part of it you can release just one 2,000th",
    "start": "277720",
    "end": "284000"
  },
  {
    "text": "of the stack you know um so that's I mean probably like I guess I guess that's true um and you know is it more",
    "start": "284000",
    "end": "292240"
  },
  {
    "text": "efficient um maybe like maybe it's more efficient cuz like there are some parts",
    "start": "292240",
    "end": "297520"
  },
  {
    "text": "that are maybe more compute intens and U you could sort of scale those",
    "start": "297520",
    "end": "302840"
  },
  {
    "text": "independently from the parts that are not but of course now you have 2,000 things that are all talking to each other over the network somehow uh and",
    "start": "302840",
    "end": "310160"
  },
  {
    "text": "there's no way that's as efficient as if they were all in the same process so I don't know maybe maybe it's more",
    "start": "310160",
    "end": "316479"
  },
  {
    "text": "efficient but uh that's that's definitely not it um scaling the",
    "start": "316479",
    "end": "321560"
  },
  {
    "text": "organization uh for us this is the big one uh we could not have scaled the",
    "start": "321560",
    "end": "328080"
  },
  {
    "text": "organization at least at the case that we did if it weren't for microservices so this was really I think the only like",
    "start": "328080",
    "end": "335960"
  },
  {
    "text": "the you can throw all of the other benefits away and still get you know as long as we had this one uh we'd be uh we",
    "start": "335960",
    "end": "343840"
  },
  {
    "text": "still probably would do it um so I mean you know for so for us like in our",
    "start": "343840",
    "end": "348960"
  },
  {
    "text": "unique situation like maybe that's good um but so you know it's definitely a",
    "start": "348960",
    "end": "354080"
  },
  {
    "text": "trade-off right like there it's it's not obvious that this is the right model or or what even is the right model model I",
    "start": "354080",
    "end": "360319"
  },
  {
    "text": "think when you when you when you really get down to like what the trade-off is that we're making it comes down to one of coupling it's like how tightly",
    "start": "360319",
    "end": "368199"
  },
  {
    "text": "coupled are these software components um if they were all in the same giant",
    "start": "368199",
    "end": "373639"
  },
  {
    "text": "monolith like uh which is the thing people do I mean like Facebook deploys much of their their web service written",
    "start": "373639",
    "end": "380560"
  },
  {
    "text": "by thousands of Engineers as a single binary like the bunch of that front- end code all compile compiles down into like",
    "start": "380560",
    "end": "387720"
  },
  {
    "text": "a single thing um that runs half of Facebook or whatever um so it's certainly possible that you could uh",
    "start": "387720",
    "end": "394120"
  },
  {
    "text": "that you could build software this way um but we have sort of chosen the far opposite extreme of being very very",
    "start": "394120",
    "end": "401800"
  },
  {
    "text": "Loosely coupled and there are some some interesting trade-offs there one that uh that's really surprising is if it uh the",
    "start": "401800",
    "end": "409400"
  },
  {
    "text": "more Loosely coupled you are the more youve have your software broken up in individual small modules the easier it",
    "start": "409400",
    "end": "415160"
  },
  {
    "text": "is to engage with open source so you can publish little bits of your stuff as a open source or consume you know replace",
    "start": "415160",
    "end": "421400"
  },
  {
    "text": "parts of it with open source components whereas building it as one giant thing maybe uh maybe you would have a little",
    "start": "421400",
    "end": "428280"
  },
  {
    "text": "harder time with that so uh in case you're thinking hey you know is are all",
    "start": "428280",
    "end": "434479"
  },
  {
    "text": "of your uh 2,000 Services all just like left PAD as a service um we are like",
    "start": "434479",
    "end": "440280"
  },
  {
    "text": "don't you understand libraries do you know that libraries exist um yes we do we know libraries exist uh we know you",
    "start": "440280",
    "end": "445360"
  },
  {
    "text": "don't have to write everything as a service so this is uh these are some stats from our our internal git repo and",
    "start": "445360",
    "end": "452319"
  },
  {
    "text": "so you can see the total number of git repos in there sort of going up very very quickly now of course they're not",
    "start": "452319",
    "end": "458360"
  },
  {
    "text": "all libraries some of them are are configurations that are deployed they're a Deployable unit of configuration uh",
    "start": "458360",
    "end": "465240"
  },
  {
    "text": "some of them are just you know people's people's personal repos but you know 12 12,000 12,000 repos even if it's you",
    "start": "465240",
    "end": "472520"
  },
  {
    "text": "know uh a bunch of those you take out the personal and the configuration ones it's still lots and lots of repos so we",
    "start": "472520",
    "end": "479680"
  },
  {
    "text": "are we are way way down on the uh down down the path of of loose coupling but",
    "start": "479680",
    "end": "485560"
  },
  {
    "text": "still um there are you know these services are are made up of multiple libraries and I really wanted to um run",
    "start": "485560",
    "end": "493720"
  },
  {
    "text": "several people asked me like how how many lines per service and I wanted to run this uh but I have such limited",
    "start": "493720",
    "end": "499000"
  },
  {
    "text": "bandwidth while I'm on this trip like I wasn't able to pull down all uh all 2,000 things so maybe I'll I'll figure",
    "start": "499000",
    "end": "504319"
  },
  {
    "text": "that out uh in the future so you know you probably heard if you talk to talk to people",
    "start": "504319",
    "end": "509960"
  },
  {
    "text": "you see some talks about microservices or whatever like there are the classic problems U that you know that are out",
    "start": "509960",
    "end": "515919"
  },
  {
    "text": "there um that that you'll run into as you're kind of scaling a thing up like this you know and these are all problems",
    "start": "515919",
    "end": "521800"
  },
  {
    "text": "that we've run into and come up with our own solutions for and um you know like your databases after a while sort of",
    "start": "521800",
    "end": "528160"
  },
  {
    "text": "like one is like too small or you know you want better availability proc properties and so uh get some kind of",
    "start": "528160",
    "end": "534760"
  },
  {
    "text": "better database you know like riaa or Cassandra or you know build your own sort of charting layer",
    "start": "534760",
    "end": "540160"
  },
  {
    "text": "and then you know all these things are talking to each other over rpcs but it's like you know if we have a bunch of",
    "start": "540160",
    "end": "545320"
  },
  {
    "text": "different languages you know so we have four languages in production we have nodejs and python we have go and Java",
    "start": "545320",
    "end": "551560"
  },
  {
    "text": "and so all these things are trying to like pass messages back and forth to each other so we need to get some kind of you know RPC framework that allows",
    "start": "551560",
    "end": "558600"
  },
  {
    "text": "this uh cross language uh interoperability so that's a you know that's a challenge but uh you know",
    "start": "558600",
    "end": "564160"
  },
  {
    "text": "tooling is getting a lot better in that in that uh area these days like with things like grpc Etc of course you're",
    "start": "564160",
    "end": "570079"
  },
  {
    "text": "going to have all these things got to find each other somehow you know so you need to figure out service Discovery and",
    "start": "570079",
    "end": "575399"
  },
  {
    "text": "then some more some slightly trickier ones like the biggest problems we have uh with you know the biggest not the",
    "start": "575399",
    "end": "583120"
  },
  {
    "text": "biggest but a common source of uh things getting overwhelmed is just internal dos",
    "start": "583120",
    "end": "588839"
  },
  {
    "text": "like somebody switches uh you thinks a timeout is in is in milliseconds but it's in seconds or the other way around",
    "start": "588839",
    "end": "595399"
  },
  {
    "text": "and um you know starts just internal self-inflicted Doo is um the thing that",
    "start": "595399",
    "end": "601240"
  },
  {
    "text": "our rate limiter catches more than bad people doing trying to do bad stuff to us and you know sometimes these uh you",
    "start": "601240",
    "end": "608600"
  },
  {
    "text": "know we want to support some kind of a graceful degradation as all these things are talking to each other and sometimes services are broken and you want to try",
    "start": "608600",
    "end": "615480"
  },
  {
    "text": "to cap a you know cap the impact of a cascading failure so you want to probably get some kind of circuit",
    "start": "615480",
    "end": "620519"
  },
  {
    "text": "breaking and you want to be able to try to understand this you know giant cloud of stuff um all as one thing and so we",
    "start": "620519",
    "end": "627880"
  },
  {
    "text": "probably need some kind of you know TR tracing to you know distributed tracing like a open tracing or Zipkin or or or",
    "start": "627880",
    "end": "633839"
  },
  {
    "text": "whatever to to figure out what's going on here and then somehow all these teams are going to have to be releasing their",
    "start": "633839",
    "end": "640240"
  },
  {
    "text": "stuff independently like whenever they feel like it and so that's actually a significant amount of tooling uh to make",
    "start": "640240",
    "end": "647079"
  },
  {
    "text": "that process go smoothly so these are kind of like the you know the Generation",
    "start": "647079",
    "end": "653279"
  },
  {
    "text": "One problems that we've had with uh with with scaling our our stuff and you know it's not that they uh not that they were",
    "start": "653279",
    "end": "660320"
  },
  {
    "text": "easy but um I don't know we we kind of feel good about what you know where we are with all these but now we're",
    "start": "660320",
    "end": "667279"
  },
  {
    "text": "starting to run in to some new problems like the biggest like at the highest level uh it's just harder to make",
    "start": "667279",
    "end": "674519"
  },
  {
    "text": "progress um than it than it used to be like it's harder for developers to implement features to to make changes to",
    "start": "674519",
    "end": "681440"
  },
  {
    "text": "the system than it seems like it should be and it's it's sort of perplexing",
    "start": "681440",
    "end": "686480"
  },
  {
    "text": "because you'd think that with all these small little Parts all over the place you could make nice isolated changes and",
    "start": "686480",
    "end": "693959"
  },
  {
    "text": "and that would be very easy um but you know one problem is it's really hard to even know exactly where it is you should",
    "start": "693959",
    "end": "701040"
  },
  {
    "text": "be making your change and you know if you uh if you don't understand that now",
    "start": "701040",
    "end": "706279"
  },
  {
    "text": "you you end up having to talk to all these different teams and ask them what their thing does and if you can get involved in their release you know",
    "start": "706279",
    "end": "712120"
  },
  {
    "text": "release process or whatever um so so let's dig into this a little bit like like why why is it getting harder to",
    "start": "712120",
    "end": "719560"
  },
  {
    "text": "make changes here and I think the the sort of the the way to tell like the",
    "start": "719560",
    "end": "726560"
  },
  {
    "text": "property that that I wish we would have that I feel like we're lacking in our system is that these microservices uh",
    "start": "726560",
    "end": "732200"
  },
  {
    "text": "talking to each other over rpcs do not compose well so it's hard to change uh",
    "start": "732200",
    "end": "738160"
  },
  {
    "text": "to sort of reorder what runs when and who's doing what and even to sort of",
    "start": "738160",
    "end": "743680"
  },
  {
    "text": "understand what these what these blocks are doing um it's harder than than certainly I I thought it would be",
    "start": "743680",
    "end": "749880"
  },
  {
    "text": "and you know by adding that service boundary in between all of these all these modules uh we make uh we make this",
    "start": "749880",
    "end": "757560"
  },
  {
    "text": "like we add an extra cost because like now you're going over the network and it's probably run by some other team and now you got to you know do do all that",
    "start": "757560",
    "end": "764320"
  },
  {
    "text": "stuff and so so let's let's look at an example um this is these are real names",
    "start": "764320",
    "end": "770680"
  },
  {
    "text": "of of uber Services um but the real world is much much much more complicated",
    "start": "770680",
    "end": "778040"
  },
  {
    "text": "than this and if you if you work at Uber and you're looking at this like I know those arrows don't exactly connect uh",
    "start": "778040",
    "end": "784360"
  },
  {
    "text": "this way like I know how I know but somehow we need less arrows than this",
    "start": "784360",
    "end": "790079"
  },
  {
    "text": "which is how many uh this is the dependency graph of the things that are being traced um so then let's like zoom",
    "start": "790079",
    "end": "799160"
  },
  {
    "text": "in down to rtpi which that was that thing over on the Le hand side of the graph and up here we'll find our user",
    "start": "799160",
    "end": "805120"
  },
  {
    "text": "service which is called populace uh where are you popul there we are great okay so that's just the things",
    "start": "805120",
    "end": "813839"
  },
  {
    "text": "that you know remember that 1,900 or whatever services and some eight or 900",
    "start": "813839",
    "end": "819079"
  },
  {
    "text": "of them are traced that's just the eight or 900 of them that are traced okay so we clearly can't use that graph let's",
    "start": "819079",
    "end": "824600"
  },
  {
    "text": "use this simple graph uh because uh it's a little bit a little bit easier uh to figure out what's going",
    "start": "824600",
    "end": "830399"
  },
  {
    "text": "on okay so what's going on here um so rtpi is the service at the edge it's",
    "start": "830399",
    "end": "835560"
  },
  {
    "text": "what handles all incoming uh traffic from mobile phones um the RT is a just a",
    "start": "835560",
    "end": "842040"
  },
  {
    "text": "historical uh sort of Legacy back when like I'm not even sure why we thought we should put that there doesn't matter",
    "start": "842040",
    "end": "847880"
  },
  {
    "text": "it's just called rtpi and uh so that's like everything go everything that the mobile phones uh do they talk through",
    "start": "847880",
    "end": "854199"
  },
  {
    "text": "rtpi so then it goes uh and this is a scenario where um uh user wants to get",
    "start": "854199",
    "end": "859959"
  },
  {
    "text": "picked up like like someone hits the pickme up button and this is sort of what happens so we go to the demand",
    "start": "859959",
    "end": "866480"
  },
  {
    "text": "service and demand service um manages a state machine for this this uh instance",
    "start": "866480",
    "end": "872800"
  },
  {
    "text": "of the this demand which is like pick me up and in order to get its job done uh",
    "start": "872800",
    "end": "879000"
  },
  {
    "text": "demand uses a few other services to do to do different things it uses optic to",
    "start": "879000",
    "end": "884320"
  },
  {
    "text": "figure out what uh what vehicle you know what what products are should be visible",
    "start": "884320",
    "end": "890279"
  },
  {
    "text": "in that user's area and how much they cost and then it uses geobase to figure",
    "start": "890279",
    "end": "895600"
  },
  {
    "text": "out which are the closest Vehicles by uh by haverson distance and then uh it",
    "start": "895600",
    "end": "902040"
  },
  {
    "text": "feeds all those into disco which is a traffic aware routing engine you know so",
    "start": "902040",
    "end": "907560"
  },
  {
    "text": "it of all the candidates that are close enough by have sign you feed them all into this thing and say great how long",
    "start": "907560",
    "end": "913120"
  },
  {
    "text": "will it take them to get there and in general what are the best ones uh what's the what are the you know the ranked",
    "start": "913120",
    "end": "918680"
  },
  {
    "text": "list of of candidate vehicles that we should select for a dispatch and then uh",
    "start": "918680",
    "end": "923720"
  },
  {
    "text": "in Supply there's another state machine that is that is the the driver so like the driver you know has a two State",
    "start": "923720",
    "end": "931000"
  },
  {
    "text": "machines are kind of like advancing here by this process all right so uh this is uh quick little just to",
    "start": "931000",
    "end": "939800"
  },
  {
    "text": "give you a sense of um how much stuff is Downstream from rtpi like the big red",
    "start": "939800",
    "end": "945440"
  },
  {
    "text": "dot on the Le hand side is is rtpi all of the stuff on the right are the things",
    "start": "945440",
    "end": "950480"
  },
  {
    "text": "that it you know that it goes out and talks to uh the the size of the dots represent um the amount of traffic uh",
    "start": "950480",
    "end": "956759"
  },
  {
    "text": "the color is some weird uh it's a side effect of the only thing that draws a",
    "start": "956759",
    "end": "962519"
  },
  {
    "text": "small enough graph that uh has a way to take the labels off is our anomaly",
    "start": "962519",
    "end": "967639"
  },
  {
    "text": "detection system and the red and when I took the screenshot that just means uh",
    "start": "967639",
    "end": "972800"
  },
  {
    "text": "from that one red dot to that other Red Dot something's out of whack and so you can figure out like it's not our TPI",
    "start": "972800",
    "end": "979399"
  },
  {
    "text": "that's the problem it's that other Red Dot down there if we would show the labels we can figure out what it was",
    "start": "979399",
    "end": "984480"
  },
  {
    "text": "anyway the point is um this is uh there's a bunch of Downstream stuff uh from from rtpi because it's the front",
    "start": "984480",
    "end": "992480"
  },
  {
    "text": "the front end and so but it's not all it's not all like that like this is the downstream for optic all the things on",
    "start": "992480",
    "end": "998519"
  },
  {
    "text": "the right are what optic talks to um and so you know it kind of gets less and less as it as it makes its way through",
    "start": "998519",
    "end": "1004360"
  },
  {
    "text": "the system okay so so this is cool so we've got this you know RPC fan out tree and",
    "start": "1004360",
    "end": "1012120"
  },
  {
    "text": "uh pretty pretty cool like you know we're doing it right micros servicing around got our state machines owned by",
    "start": "1012120",
    "end": "1018680"
  },
  {
    "text": "uh different services and they've they've got their own storage of course because they don't want to share storage",
    "start": "1018680",
    "end": "1024760"
  },
  {
    "text": "um and you know they're released by their teams independently and things are going great so then uh the business",
    "start": "1024760",
    "end": "1032000"
  },
  {
    "text": "people come along and say hey I got a great idea uh let's launch some new products um this is going to be great we",
    "start": "1032000",
    "end": "1037438"
  },
  {
    "text": "need to uh we're going to Route autonomous vehicles uh we're going to do Uber pool we're going to do Uber Eats",
    "start": "1037439",
    "end": "1043160"
  },
  {
    "text": "we're going to do all these different things um and then should be easy right we already have a dispatching system",
    "start": "1043160",
    "end": "1048960"
  },
  {
    "text": "like we already have like most of the things are the same um let's just go implement this um so let's take a very",
    "start": "1048960",
    "end": "1054559"
  },
  {
    "text": "very simple example uh cuz the other ones are a lot harder uh let's let's say that we wanted to add a new Uber product",
    "start": "1054559",
    "end": "1060799"
  },
  {
    "text": "which is Uber puppies uh we want to deliver puppies uh we're going to have just a car driving around it's got",
    "start": "1060799",
    "end": "1065840"
  },
  {
    "text": "puppies in the back and it's like fun you know everybody likes puppies and um you know you get a car it still takes",
    "start": "1065840",
    "end": "1071640"
  },
  {
    "text": "you where you want to go but there's puppies in the back so that's cool um so interestingly there are a bunch of",
    "start": "1071640",
    "end": "1077280"
  },
  {
    "text": "different rules that you would have to apply reply uh if you're the puppy team so like you're the puppy team and",
    "start": "1077280",
    "end": "1082880"
  },
  {
    "text": "everybody you know we got all this this framework up here and you're like sweet let's get to work time to implement our",
    "start": "1082880",
    "end": "1088120"
  },
  {
    "text": "business Logic for Uber puppies um okay so what are the rules Well turns out the",
    "start": "1088120",
    "end": "1093679"
  },
  {
    "text": "puppies um you know they can't be in the car for too long right because they have to go they have to go out and relieve",
    "start": "1093679",
    "end": "1099640"
  },
  {
    "text": "themselves from time to time uh they got to eat and drink and you know just in general puppies in a car for all day",
    "start": "1099640",
    "end": "1105559"
  },
  {
    "text": "long probably not a great idea further like we really don't want to have take the puppies out to the airport you know",
    "start": "1105559",
    "end": "1111919"
  },
  {
    "text": "we don't want them getting out in know some neighborhoods we probably don't want to take them to so suddenly like we're stacking up some more some more",
    "start": "1111919",
    "end": "1117919"
  },
  {
    "text": "rules so you think okay no problem um let's just stick those in let's add",
    "start": "1117919",
    "end": "1123280"
  },
  {
    "text": "these weights to the to the classifiers and disco and um should be good right",
    "start": "1123280",
    "end": "1129360"
  },
  {
    "text": "well it turns out that like suddenly um you need to uh you need to keep running",
    "start": "1129360",
    "end": "1134919"
  },
  {
    "text": "into more and more things that sound very very simple uh but you need to make changes elsewhere in the stack so now",
    "start": "1134919",
    "end": "1141640"
  },
  {
    "text": "poor puppies team wanted to implement this very simple thing of we already have lots of different kinds of vehicles",
    "start": "1141640",
    "end": "1147919"
  },
  {
    "text": "but we got to stick some new rules on there um suddenly these changes start propagating up and next thing you know",
    "start": "1147919",
    "end": "1154919"
  },
  {
    "text": "you got to go all the way out to the user because turns out some users don't like puppies uh they're allergic or",
    "start": "1154919",
    "end": "1161240"
  },
  {
    "text": "they're just I don't know they're just bad people they just don't like puppies and somehow you have to be able to to",
    "start": "1161240",
    "end": "1168039"
  },
  {
    "text": "reflect that you have to be able to say like okay uh we wish we would dispatch you a puppy's car and the user says like",
    "start": "1168039",
    "end": "1175880"
  },
  {
    "text": "sorry I'm not into it and then we're like okay cool we'll move on to the next one well now next thing you know we have",
    "start": "1175880",
    "end": "1181440"
  },
  {
    "text": "changed like everything and these changes I mean obviously would change everything but we had to touch",
    "start": "1181440",
    "end": "1186799"
  },
  {
    "text": "everything and these changes are very expensive because the poor puppies team is probably just a few people and you",
    "start": "1186799",
    "end": "1193880"
  },
  {
    "text": "know they got some cool graphics and so they got that going they got one or two Engineers that are like yeah no problem I'll just write a few lines of enforcing",
    "start": "1193880",
    "end": "1201640"
  },
  {
    "text": "these rules next thing you know they have to coordinate the release cycles of all of these teams they had to go",
    "start": "1201640",
    "end": "1207520"
  },
  {
    "text": "through and say hey uh demand team can we get that change in like when can we do it they're like really for puppies",
    "start": "1207520",
    "end": "1214280"
  },
  {
    "text": "cuz like are we're kind of running this Global serious transportation business over here you want to stick your puppies",
    "start": "1214280",
    "end": "1220799"
  },
  {
    "text": "thing like I don't know uh we'll get it eventually but it just like it's tough CU like they're always more important",
    "start": "1220799",
    "end": "1227080"
  },
  {
    "text": "you know something that always seems more important than uh you know these other features but like I mean I I pick",
    "start": "1227080",
    "end": "1232720"
  },
  {
    "text": "puppies is like a toy example because it's sort of easy to get your head around but this uh this happens a lot in",
    "start": "1232720",
    "end": "1238679"
  },
  {
    "text": "a lot of different ways changes within uh that that happen to be scoped within",
    "start": "1238679",
    "end": "1244080"
  },
  {
    "text": "a single Service uh end up being great like the teams can move independently they can release independently and",
    "start": "1244080",
    "end": "1250240"
  },
  {
    "text": "that's super cool but if there are ever cross cutting changes and it turns out",
    "start": "1250240",
    "end": "1255440"
  },
  {
    "text": "there are always cross cutting changes like no matter how you draw the boundaries there's always something",
    "start": "1255440",
    "end": "1260840"
  },
  {
    "text": "eventually someone's going to come up with something that they hadn't thought of before that you want the system to do",
    "start": "1260840",
    "end": "1266000"
  },
  {
    "text": "and it's not going to be all contained into one service so again I think the",
    "start": "1266000",
    "end": "1273039"
  },
  {
    "text": "problem here is that these elements are not composable we can't sort of move the",
    "start": "1273039",
    "end": "1278600"
  },
  {
    "text": "lines around and you know like a like a Unix pipeline where we can't just add another thing in the middle of the",
    "start": "1278600",
    "end": "1285279"
  },
  {
    "text": "pipeline uh and not you know without changing either end you know the things on either side of it uh we had to do all",
    "start": "1285279",
    "end": "1291520"
  },
  {
    "text": "these complicated releases and change our RPC endpoints and all this different stuff so what most people say at this",
    "start": "1291520",
    "end": "1299400"
  },
  {
    "text": "point is haven't you heard about events don't you know that like things like message cues exist and that you can just",
    "start": "1299400",
    "end": "1305640"
  },
  {
    "text": "put events on cues and subscribe to them like wouldn't that be better and indeed",
    "start": "1305640",
    "end": "1310919"
  },
  {
    "text": "we have uh we have in fact a whole parallel universe of microservices or",
    "start": "1310919",
    "end": "1316320"
  },
  {
    "text": "other event-based things um that uh you know that are on that side the the 2,000",
    "start": "1316320",
    "end": "1323159"
  },
  {
    "text": "services are largely in the left column of things that talk to each other mostly with rpcs um but there's a whole other",
    "start": "1323159",
    "end": "1330039"
  },
  {
    "text": "set of stuff that's uh that's event-based um this is for example how surge works so there are things that",
    "start": "1330039",
    "end": "1336000"
  },
  {
    "text": "subscribe to the you know Supply events and the demand events and they compute the you know the ratio of in the you",
    "start": "1336000",
    "end": "1342360"
  },
  {
    "text": "know in each of these hexagons around the world uh a bunch of other stuff that works that way um but the by far most",
    "start": "1342360",
    "end": "1350520"
  },
  {
    "text": "the the most code that we have uh is in the left-and column of things talking to each other with rpcs and largely you",
    "start": "1350520",
    "end": "1358039"
  },
  {
    "text": "know you could you could characterize it all as things that have to respond uh",
    "start": "1358039",
    "end": "1363559"
  },
  {
    "text": "while a person's waiting for it so like person hits a button and we need to give them back some response uh because",
    "start": "1363559",
    "end": "1370400"
  },
  {
    "text": "they're sitting there staring at their phone wondering when the thing will happen and everything on the other side",
    "start": "1370400",
    "end": "1375679"
  },
  {
    "text": "is asynchronous like very very different SLA um but I I think we'll we'll see even if",
    "start": "1375679",
    "end": "1382120"
  },
  {
    "text": "we had done all of this as events I'm I'm still not sure that that solves all these problems but Ju Just so you know",
    "start": "1382120",
    "end": "1388600"
  },
  {
    "text": "we've got we do have those two worlds but I'm mostly talking about the the the RPC World Okay cool so uh let's talk",
    "start": "1388600",
    "end": "1396960"
  },
  {
    "text": "about like what we're going to actually do uh to sort of make these things better so we've got a few efforts underway um they're in various stages of",
    "start": "1396960",
    "end": "1404559"
  },
  {
    "text": "development that are uh sort of changing this model of like microservices that talk to each other with with rpcs and so",
    "start": "1404559",
    "end": "1410880"
  },
  {
    "text": "the first is uh around storage and so you know if you're doing microservices right um you know what you do is you",
    "start": "1410880",
    "end": "1418279"
  },
  {
    "text": "give everything that needs storage its own database somehow because uh you know sharing databases is bad um and for you",
    "start": "1418279",
    "end": "1427159"
  },
  {
    "text": "know I guess it's bad like I don't know but that's what you're supposed to do um you're supposed to give everything their own their own database so um so here's",
    "start": "1427159",
    "end": "1434120"
  },
  {
    "text": "the the dependency graph of populace our user service and so you can see this thing has a lot of consumers you know so",
    "start": "1434120",
    "end": "1441919"
  },
  {
    "text": "it's the the Green Dot on the center um because as you might imagine if you want to work with a user in the Uber",
    "start": "1441919",
    "end": "1448320"
  },
  {
    "text": "ecosystem you're going to need to get that user object from populace because that's what that's the service that owns",
    "start": "1448320",
    "end": "1455080"
  },
  {
    "text": "the user object so it has its own storage and it has some downstreams too of like whenever user objects change we",
    "start": "1455080",
    "end": "1461559"
  },
  {
    "text": "need to validate that these changes are legal with other you know other services down there but anyway so you can see",
    "start": "1461559",
    "end": "1467919"
  },
  {
    "text": "like oh a lot of a lot of stuff ends up talking to populists and you could see it in that you know impossible spaghetti",
    "start": "1467919",
    "end": "1473360"
  },
  {
    "text": "graph earlier as well that uh you know a lot of lines Converge on populace so",
    "start": "1473360",
    "end": "1478919"
  },
  {
    "text": "this is kind of uh kind of an interesting problem because you might think oh we should just put a put maybe",
    "start": "1478919",
    "end": "1485880"
  },
  {
    "text": "can we just put a cash there um but like where would you put it like do you put it behind popul I mean it'd be nice if",
    "start": "1485880",
    "end": "1493120"
  },
  {
    "text": "all those things could just uh talk to the cash and then talk to populist but like I don't kind of It kind of blows up",
    "start": "1493120",
    "end": "1499440"
  },
  {
    "text": "the model I mean I guess you could do it but um we have chosen not to um you know",
    "start": "1499440",
    "end": "1504799"
  },
  {
    "text": "populace has its own cash um but still you've got this kind of focal point of",
    "start": "1504799",
    "end": "1510200"
  },
  {
    "text": "like you know really like a lot of traffic kind of you know focusing down on this one thing and and that is sort",
    "start": "1510200",
    "end": "1517200"
  },
  {
    "text": "of awkward um it costs a lot right to make all these rpcs to this you know",
    "start": "1517200",
    "end": "1522360"
  },
  {
    "text": "into this one service it puts a huge burden on the populace team to sort of like always be up um like there's no graceful degradation like if popul is",
    "start": "1522360",
    "end": "1528960"
  },
  {
    "text": "down like you can't log in so uh that's pretty unfortunate and you know there",
    "start": "1528960",
    "end": "1534080"
  },
  {
    "text": "are more problems uh in this uh in this you know in the storage domain um developing against this system is really",
    "start": "1534080",
    "end": "1541000"
  },
  {
    "text": "hard because so first of all like you can't spin up the full stack on your laptop if you wanted to like there's",
    "start": "1541000",
    "end": "1548679"
  },
  {
    "text": "just no way like even if you had one of those like super thick Dell laptops with the battery only lasts 30 minutes like",
    "start": "1548679",
    "end": "1554200"
  },
  {
    "text": "you cannot put the whole stack on your laptop um you uh and I don't even know that you'd",
    "start": "1554200",
    "end": "1561279"
  },
  {
    "text": "want to like it would just take you forever and it would just just you you don't necessarily need it but um it is",
    "start": "1561279",
    "end": "1568039"
  },
  {
    "text": "just that's the Baseline like you're not going to get the whole stack on your laptop um but then like related to",
    "start": "1568039",
    "end": "1573399"
  },
  {
    "text": "storage there's some interesting problems so uh so how do you work with uh as a developer how do you work with a",
    "start": "1573399",
    "end": "1579880"
  },
  {
    "text": "reasonable subset of data and so let's say you need like two or three services to be up just to you know test your",
    "start": "1579880",
    "end": "1585760"
  },
  {
    "text": "thing um many of those servic might need storage and so like what are you",
    "start": "1585760",
    "end": "1591200"
  },
  {
    "text": "supposed to do like maybe you can get some kind of Snapshot from production or",
    "start": "1591200",
    "end": "1596360"
  },
  {
    "text": "just you know generate some test data and like hope it's realistic um yeah it's it's it's complicated and so we",
    "start": "1596360",
    "end": "1603360"
  },
  {
    "text": "looked at these problems and uh oh wait one more thing one more big problem um",
    "start": "1603360",
    "end": "1608399"
  },
  {
    "text": "what happens if you want to change the schema so like your your services are talking to each other and they've got some kind of a some kind of a schema um",
    "start": "1608399",
    "end": "1615240"
  },
  {
    "text": "over the RPC but there's also some kind of schema to storage and you you know usually those are similar and if you",
    "start": "1615240",
    "end": "1621279"
  },
  {
    "text": "ever decide that you want to change this schema uh you know add some Fields change something or whatever um it's a",
    "start": "1621279",
    "end": "1627200"
  },
  {
    "text": "lot more complicated certainly than I uh expected and a big reason is because",
    "start": "1627200",
    "end": "1632480"
  },
  {
    "text": "this um simplifying that previous graph a little bit like usually there are a",
    "start": "1632480",
    "end": "1638440"
  },
  {
    "text": "lot more Downstream consumers than just your pair of your you know your pair of machines uh RPC to each other or one",
    "start": "1638440",
    "end": "1646080"
  },
  {
    "text": "machine talking to one database uh usually these objects end up flowing far",
    "start": "1646080",
    "end": "1651840"
  },
  {
    "text": "and wide uh throughout the you know throughout the infrastructure and landing and all kinds of different",
    "start": "1651840",
    "end": "1656919"
  },
  {
    "text": "places message cues and data warehouses and hoops and whatnot um so so evolving schemas uh is another is another big",
    "start": "1656919",
    "end": "1663399"
  },
  {
    "text": "Challenge and so we set about to fix this problem a little while ago and we had some uh some goals which were uh we",
    "start": "1663399",
    "end": "1670320"
  },
  {
    "text": "needed to move past uh this magic number of services like 2,000 like what if it",
    "start": "1670320",
    "end": "1677080"
  },
  {
    "text": "was 20,000 like I don't know maybe it will be there eventually and we got to figure out some kind of an infrastructure where it just doesn't",
    "start": "1677080",
    "end": "1684039"
  },
  {
    "text": "matter how many services you have um but particularly around storage um",
    "start": "1684039",
    "end": "1689120"
  },
  {
    "text": "provisioning new storage uh should be as easy as checking in code like it should just be an effortless uh sort of thing",
    "start": "1689120",
    "end": "1695519"
  },
  {
    "text": "that you can just do whenever you feel like and devs should be able to safely work with production data with real",
    "start": "1695519",
    "end": "1701200"
  },
  {
    "text": "production data and and test their code against this data and so so what do I",
    "start": "1701200",
    "end": "1706320"
  },
  {
    "text": "think like comes next like for for for microservices storage uh well we're working on a project it's actually in",
    "start": "1706320",
    "end": "1711919"
  },
  {
    "text": "production now we call it Dosa it's another fancy acronym it doesn't really matter what it stands for uh but it",
    "start": "1711919",
    "end": "1717360"
  },
  {
    "text": "works like this um inside of your service you got a little library and the",
    "start": "1717360",
    "end": "1723559"
  },
  {
    "text": "it turns out under you know behind the scenes uh that actually makes an RPC over to a to a Dosa service um and it",
    "start": "1723559",
    "end": "1730480"
  },
  {
    "text": "negotiates a schema uh at startup so the the service comes up and it says I have",
    "start": "1730480",
    "end": "1736559"
  },
  {
    "text": "these objects I know how to you know I know how to redent these objects is that going to work with you Dosa service and",
    "start": "1736559",
    "end": "1742440"
  },
  {
    "text": "that checks with the scheme of service and as long as we can interchange our objects uh at startup time uh we can",
    "start": "1742440",
    "end": "1749240"
  },
  {
    "text": "keep exchanging those objects forever and so even if the the scheme is evolve out from under us like we have we've got",
    "start": "1749240",
    "end": "1756000"
  },
  {
    "text": "a a path established so we can we can read and write these objects and you know we got some Cassandra storage uh",
    "start": "1756000",
    "end": "1762240"
  },
  {
    "text": "that we that we you know that we put the stuff in and we we replicate it uh globally or whatever but the interesting",
    "start": "1762240",
    "end": "1767799"
  },
  {
    "text": "part here um is that we allow developers to use this service from their laptops",
    "start": "1767799",
    "end": "1775799"
  },
  {
    "text": "or from their Dev instances or whatever and we do that in kind of an interesting way which is we've got this RPC Gateway",
    "start": "1775799",
    "end": "1782840"
  },
  {
    "text": "and then we add some context on this you know as as it as it admits uh rpcs to",
    "start": "1782840",
    "end": "1789799"
  },
  {
    "text": "production that come from developer laptops uh make sure that they're tagged with a Conta or this um what we call",
    "start": "1789799",
    "end": "1797080"
  },
  {
    "text": "Storage scopes and the way storage Scopes work is it gives you kind of a copy on right layer",
    "start": "1797080",
    "end": "1803120"
  },
  {
    "text": "uh on top of your storage so uh here's an example where uh somebody comes in with a scope of a scope list of MJR and",
    "start": "1803120",
    "end": "1810360"
  },
  {
    "text": "prod and when you do a read you start reading through the Scopes and as soon as you get um as soon as you find an",
    "start": "1810360",
    "end": "1817519"
  },
  {
    "text": "object uh you return that one um and so the the reads kind of cascade down and",
    "start": "1817519",
    "end": "1822880"
  },
  {
    "text": "if you get all the way to the bottom and there's no object then it's not found um but when you do a right you always right",
    "start": "1822880",
    "end": "1828440"
  },
  {
    "text": "to the topmost scope and so this works for multiple you know multiple layers so like you might have a maybe you're",
    "start": "1828440",
    "end": "1835200"
  },
  {
    "text": "working with a team and they've got some you know fixture that they're all you know that you're kind of iterating on",
    "start": "1835200",
    "end": "1840320"
  },
  {
    "text": "and but it's not ready for prod and so you can sort of still as a team share some of this data it doesn't have to be",
    "start": "1840320",
    "end": "1846200"
  },
  {
    "text": "on a a per developer basis um and another interesting thing about this is that it works with the these Scopes work",
    "start": "1846200",
    "end": "1852960"
  },
  {
    "text": "with uh the schema service so you can test out schema changes in your",
    "start": "1852960",
    "end": "1858720"
  },
  {
    "text": "development scope and read and write these objects you can read the old prod objects and write your new fancier",
    "start": "1858720",
    "end": "1865159"
  },
  {
    "text": "objects um into your development scope and decide whether this is a thing you",
    "start": "1865159",
    "end": "1870399"
  },
  {
    "text": "want to you know eventually release and so and the Scopes are are cheap to create and cheap to drop right so if you",
    "start": "1870399",
    "end": "1876639"
  },
  {
    "text": "decide you don't need this anymore you made a mistake you want to start over you can always drop your your Dev Scopes and just sort of reset them and you know",
    "start": "1876639",
    "end": "1884399"
  },
  {
    "text": "so that sort of that sort of helps with uh this pipe line here because the",
    "start": "1884399",
    "end": "1889799"
  },
  {
    "text": "format that we're storing inside of the Cassandra is a sort of a envelope format",
    "start": "1889799",
    "end": "1895279"
  },
  {
    "text": "that has a library that knows how to read and write uh objects in uh you know",
    "start": "1895279",
    "end": "1900639"
  },
  {
    "text": "in this in this format so the Kafka transits objects that it doesn't necessarily understand they're sort of",
    "start": "1900639",
    "end": "1907320"
  },
  {
    "text": "wrapped up in this Dosa envelope and they make their way through to various you know various other things um and so",
    "start": "1907320",
    "end": "1913760"
  },
  {
    "text": "that's that's pretty cool um we've got that in production like a couple months ago we're sort of ramping ramping uh",
    "start": "1913760",
    "end": "1920000"
  },
  {
    "text": "things onto it now so so far so good um so we get like how does this like help",
    "start": "1920000",
    "end": "1925519"
  },
  {
    "text": "with the problem of composability well instead of everyone having to explicitly",
    "start": "1925519",
    "end": "1931360"
  },
  {
    "text": "make calls to the um to the user service",
    "start": "1931360",
    "end": "1936679"
  },
  {
    "text": "um now there's a user library and the user library has these high level higher",
    "start": "1936679",
    "end": "1942320"
  },
  {
    "text": "level abstractions about things that you can do uh with users and it it uh sort",
    "start": "1942320",
    "end": "1948159"
  },
  {
    "text": "of is we allow everyone to sort of read and write those objects um even if they're not populous so uh this is uh",
    "start": "1948159",
    "end": "1956200"
  },
  {
    "text": "this is pretty cool so now we don't have to necessarily have that big uh that big burden uh on the user service that team",
    "start": "1956200",
    "end": "1962760"
  },
  {
    "text": "works on adding that logic to these libraries and older versions of the library uh keep working because all the",
    "start": "1962760",
    "end": "1968880"
  },
  {
    "text": "changes have to be uh Backward Compatible so that's cool um that's going going you know going pretty well",
    "start": "1968880",
    "end": "1976159"
  },
  {
    "text": "but there's another problem related to story especially in the microservices world which is transactions so if you remember",
    "start": "1976159",
    "end": "1985159"
  },
  {
    "text": "the the you know the the picture with the you know the supply and the demand when that happens we would really like",
    "start": "1985159",
    "end": "1992639"
  },
  {
    "text": "to do those changes uh transactional atomically we would like them to all either work you know both work or not",
    "start": "1992639",
    "end": "1999440"
  },
  {
    "text": "work but when we've got multiple independent entities and they're talking",
    "start": "1999440",
    "end": "2004480"
  },
  {
    "text": "to each other uh over rpcs that becomes very complicated like it's hard to do a",
    "start": "2004480",
    "end": "2009799"
  },
  {
    "text": "transaction across a service boundary and so what comes next like how",
    "start": "2009799",
    "end": "2015159"
  },
  {
    "text": "can we like how can we fix this problem well so when when we look at this you",
    "start": "2015159",
    "end": "2021799"
  },
  {
    "text": "when you when you look at sort of from from this model um it doesn't seem very",
    "start": "2021799",
    "end": "2027320"
  },
  {
    "text": "possible um doesn't seem like there are a lot of lot of good ways to go here and",
    "start": "2027320",
    "end": "2032360"
  },
  {
    "text": "so we're implementing an idea that uh that we got from Katie who's sitting right here in the front row",
    "start": "2032360",
    "end": "2038399"
  },
  {
    "text": "and uh she's given several talks about this um you should definitely go check it out which is sagas sagas are a",
    "start": "2038399",
    "end": "2045559"
  },
  {
    "text": "longlived transaction and the way that this works is you um for every kind of",
    "start": "2045559",
    "end": "2051440"
  },
  {
    "text": "step in the transaction you propose uh or you you add a compensating action so",
    "start": "2051440",
    "end": "2057358"
  },
  {
    "text": "if you need to roll this thing back uh you can you can roll it all back with these compensating actions and some one",
    "start": "2057359",
    "end": "2063760"
  },
  {
    "text": "thing has to coordinate this this long live transaction so this is called the",
    "start": "2063760",
    "end": "2069040"
  },
  {
    "text": "coordinator and here is a very real world example um I actually didn't show",
    "start": "2069040",
    "end": "2074200"
  },
  {
    "text": "you all the pieces in the previous thing but um the way that this Supply demand thing works there's a third entity",
    "start": "2074200",
    "end": "2079878"
  },
  {
    "text": "called job um and you can you can imagine why we would need jobs if you think about um Uber Eats or Uber pool",
    "start": "2079879",
    "end": "2086320"
  },
  {
    "text": "like a job might get handed around uh to multiple to multiple entities and have",
    "start": "2086320",
    "end": "2091760"
  },
  {
    "text": "have many many more States so so we need to change three things so user hits the pickme up button",
    "start": "2091760",
    "end": "2098160"
  },
  {
    "text": "and we say okay cool we found our we found our candidate we everybody everything seems great let's let's do",
    "start": "2098160",
    "end": "2104680"
  },
  {
    "text": "this let's actually make this thing happen and so the way that works is everyone s or the coordinator sends out",
    "start": "2104680",
    "end": "2110960"
  },
  {
    "text": "an assign uh to all these things and assuming that it works um then uh you",
    "start": "2110960",
    "end": "2116400"
  },
  {
    "text": "know then everybody's great um but if one of them does not work then we send",
    "start": "2116400",
    "end": "2122400"
  },
  {
    "text": "out the unassign I mean um this is really really oversimplified you should get all of the details uh if you're",
    "start": "2122400",
    "end": "2128960"
  },
  {
    "text": "interested in this uh from from Katie's talks or whatever um there's some there's some other papers you can read",
    "start": "2128960",
    "end": "2134000"
  },
  {
    "text": "about it as well but you know this isn't perfect there are a lot of edge cases like what if one of those steps was uh",
    "start": "2134000",
    "end": "2141119"
  },
  {
    "text": "send a a a push notification like it's kind of hard to like unsend a push notification right so um the the the",
    "start": "2141119",
    "end": "2149640"
  },
  {
    "text": "compensating uh the compensating actions are semantically compensating so uh you",
    "start": "2149640",
    "end": "2155560"
  },
  {
    "text": "could maybe send another push notification that says sorry about that like just kidding um or you know",
    "start": "2155560",
    "end": "2161240"
  },
  {
    "text": "whatever but but so so this is this is kind of a cool thing because uh the the",
    "start": "2161240",
    "end": "2167319"
  },
  {
    "text": "number of things that um that need to be done in this form it's actually really small like most things end up you can",
    "start": "2167319",
    "end": "2175200"
  },
  {
    "text": "kind of work independently but like every now and then there are times where we need a little bit of coordination um",
    "start": "2175200",
    "end": "2181520"
  },
  {
    "text": "across across these entities and and sagas give us a give us a nice way to to",
    "start": "2181520",
    "end": "2186680"
  },
  {
    "text": "make that happen so we're I don't I think that that that particular workflow",
    "start": "2186680",
    "end": "2192400"
  },
  {
    "text": "is almost is teetering on the brink of production um we're we're toying with a",
    "start": "2192400",
    "end": "2197920"
  },
  {
    "text": "few other workflows but that one is is just about just about live um okay so",
    "start": "2197920",
    "end": "2204079"
  },
  {
    "text": "perhaps the biggest problem I think with uh wi with these big microservice architectures at least at least as we",
    "start": "2204079",
    "end": "2210920"
  },
  {
    "text": "have deployed them um is that everything is talking to all these entities are",
    "start": "2210920",
    "end": "2216280"
  },
  {
    "text": "talking to each other over our rpcs and these rpcs are not as Loosely coupled as",
    "start": "2216280",
    "end": "2223119"
  },
  {
    "text": "I think they should be they're in fact very tightly coupled like service a knows that is talking to service B and I",
    "start": "2223119",
    "end": "2231160"
  },
  {
    "text": "think this is a this is a really tricky problem um but you know the the problems at rpcs uh are are vast and if you if",
    "start": "2231160",
    "end": "2239119"
  },
  {
    "text": "you went to to Chris's and Katie's talk yesterday uh you you got maybe a sense of them uh if you haven't I would",
    "start": "2239119",
    "end": "2244760"
  },
  {
    "text": "recommend you check that out or check out uh Chris has his weite with a bunch of you know all the reference materials",
    "start": "2244760",
    "end": "2250400"
  },
  {
    "text": "um you know the the evidence stacking up against rpcs uh is uh is vast um clearly",
    "start": "2250400",
    "end": "2257839"
  },
  {
    "text": "there there's something uh maybe there's there's some room for improvement here and you know it's like local computation",
    "start": "2257839",
    "end": "2264040"
  },
  {
    "text": "is fundamentally different from remote like I that's true uh I don't actually think that's the real problem that that",
    "start": "2264040",
    "end": "2269800"
  },
  {
    "text": "we have I think we've got some uh you know some different sort of uh challenges with how do we actually to",
    "start": "2269800",
    "end": "2277160"
  },
  {
    "text": "meet meaningfully uh compose these uh these event handlers uh in a way that",
    "start": "2277160",
    "end": "2284040"
  },
  {
    "text": "allows these cross cutting changes to uh to be done more easily so what do I",
    "start": "2284040",
    "end": "2290079"
  },
  {
    "text": "think that world looks like like this is an area we're kind of into the to the Bold new future of things we haven't",
    "start": "2290079",
    "end": "2296240"
  },
  {
    "text": "actually implemented yet but we're just trying to you know we're in the early stages of Designing and I think you know",
    "start": "2296240",
    "end": "2302520"
  },
  {
    "text": "okay first of all obviously asynchronous message passing like better you know I get it like that's clearly the future um",
    "start": "2302520",
    "end": "2309440"
  },
  {
    "text": "that uh you know the RPC model has you know some some fundamental uh challenges",
    "start": "2309440",
    "end": "2315560"
  },
  {
    "text": "but it requires like I think a little bit a different way of of of thinking about what it is we're trying to",
    "start": "2315560",
    "end": "2321560"
  },
  {
    "text": "accomplish and I think like why like why we're trying to accomplish it um there is this great uh quote on uh that that",
    "start": "2321560",
    "end": "2329560"
  },
  {
    "text": "Chris has from this uh this stusy paper um that I think is really relevant here",
    "start": "2329560",
    "end": "2335319"
  },
  {
    "text": "which says does developer convenience really Trump correctness all these other bad things and the very very next line",
    "start": "2335319",
    "end": "2343359"
  },
  {
    "text": "is of course not like no way there's no way uh it's worth it and I'm not sure",
    "start": "2343359",
    "end": "2349319"
  },
  {
    "text": "that that's always true I think it's often true but I think that there are cases where uh developer convenience",
    "start": "2349319",
    "end": "2356960"
  },
  {
    "text": "might actually be a thing that we want that we ought to optimize for so I think",
    "start": "2356960",
    "end": "2362280"
  },
  {
    "text": "the world we want to live in is not this RPC world where RT API knows it's",
    "start": "2362280",
    "end": "2369040"
  },
  {
    "text": "talking to demand and that knows it's talking to optic and does all these things I think we want to live in a",
    "start": "2369040",
    "end": "2374480"
  },
  {
    "text": "world where demand has some way of emitting some event that it will for",
    "start": "2374480",
    "end": "2380200"
  },
  {
    "text": "sure get a get exactly one response to that says hey what vehicles are closest like well someone figure this out for me",
    "start": "2380200",
    "end": "2386680"
  },
  {
    "text": "and some entity you know makees sure that that does get handled within the",
    "start": "2386680",
    "end": "2392160"
  },
  {
    "text": "right slas to respond to users who are waiting for these answers and likewise it could have made another event that",
    "start": "2392160",
    "end": "2398440"
  },
  {
    "text": "says like which vehicles have the lowest ETA and that gets handled in a request",
    "start": "2398440",
    "end": "2404079"
  },
  {
    "text": "response manner like that meets the SLA that we're looking for with graceful degradation and all those things but it",
    "start": "2404079",
    "end": "2409640"
  },
  {
    "text": "didn't explicitly send it to the Disco service it just said I want to know this thing um and then likewise so if you if",
    "start": "2409640",
    "end": "2417760"
  },
  {
    "text": "we live in this world uh we could do a really cool thing which is if you were the puppies team and you were like I",
    "start": "2417760",
    "end": "2424440"
  },
  {
    "text": "want to implement the puppies product we got to add some business logic where do we put it what you could do is stick",
    "start": "2424440",
    "end": "2430960"
  },
  {
    "text": "your little orange box right there in the flow and just hook in without changing",
    "start": "2430960",
    "end": "2437480"
  },
  {
    "text": "the Disco service or without changing any of those classifiers over there and just add your logic completely uh",
    "start": "2437480",
    "end": "2444920"
  },
  {
    "text": "independent of those other teams and say wait I got to I got to get a crack at this before before this thing flows back",
    "start": "2444920",
    "end": "2451920"
  },
  {
    "text": "I need to make sure that the user actually likes puppies because if it doesn't if the user doesn't we need to",
    "start": "2451920",
    "end": "2457800"
  },
  {
    "text": "actually reject this you know reject this candidate and move on move on to",
    "start": "2457800",
    "end": "2462920"
  },
  {
    "text": "the next best one but right now this is the problem with all the red dots this is like in order to implement that we",
    "start": "2462920",
    "end": "2469960"
  },
  {
    "text": "had to end up touching all these different things and that was like that was really really painful so we'd like the teams to be able to make these",
    "start": "2469960",
    "end": "2475560"
  },
  {
    "text": "changes to to insert these logical blocks without having to re-release the",
    "start": "2475560",
    "end": "2481599"
  },
  {
    "text": "other you know the the peer blocks in this flow um I think that would be great",
    "start": "2481599",
    "end": "2487920"
  },
  {
    "text": "but right now there's kind of no way to do this like there's no way to do this that uh sort of works as seamlessly like",
    "start": "2487920",
    "end": "2495680"
  },
  {
    "text": "you can kind of get at this a little bit but there's always like some horrible trade-off around around your SLA or or I",
    "start": "2495680",
    "end": "2503560"
  },
  {
    "text": "don't know just cost in general um but you know so this world like that I think we want to live in um is more along the",
    "start": "2503560",
    "end": "2510720"
  },
  {
    "text": "lines of what I think what I'm calling composable event processors I think this is uh this is a reasonable or a better",
    "start": "2510720",
    "end": "2518880"
  },
  {
    "text": "model uh for deploying microservices at scale is instead of services we have",
    "start": "2518880",
    "end": "2523920"
  },
  {
    "text": "these event processors and we have some orchestration layer uh to tie them all",
    "start": "2523920",
    "end": "2529000"
  },
  {
    "text": "together and so that's pretty cool and you might think like wow isn't that like the same as workflow or isn't this like",
    "start": "2529000",
    "end": "2535520"
  },
  {
    "text": "AWS Lambda or whatever and yeah kind of I mean there are elements to that uh and",
    "start": "2535520",
    "end": "2541800"
  },
  {
    "text": "I think realistically I think Amazon will get there eventually I mean if you look at the pace uh that they're rolling",
    "start": "2541800",
    "end": "2547680"
  },
  {
    "text": "out new things I it is um inevitable I think that uh soon there will be a",
    "start": "2547680",
    "end": "2553319"
  },
  {
    "text": "Amazon composable event processor service you can subscribe to and it will be great um but I hope that we as an",
    "start": "2553319",
    "end": "2561319"
  },
  {
    "text": "industry uh can develop a vendor neutral alternative because there are many",
    "start": "2561319",
    "end": "2566599"
  },
  {
    "text": "companies that For Whom the Amazon solution will uh will not be acceptable",
    "start": "2566599",
    "end": "2571920"
  },
  {
    "text": "and I think in general uh we would all be better off if there was a a neutral you know kind of vendor neutral way uh",
    "start": "2571920",
    "end": "2578880"
  },
  {
    "text": "to do this so you really have to ask though like why why am I up here uh talking about",
    "start": "2578880",
    "end": "2586559"
  },
  {
    "text": "changing the fundamental you know Paradigm of you know backend Computing um like I work at a transportation",
    "start": "2586559",
    "end": "2592359"
  },
  {
    "text": "company like I'm not work at a future of you know service inter service Communication company like like why does",
    "start": "2592359",
    "end": "2598920"
  },
  {
    "text": "any of this matter and I think that the reason is because the uh the tools that",
    "start": "2598920",
    "end": "2605440"
  },
  {
    "text": "we have to work with the tools when you're building when we were just getting started um they're very",
    "start": "2605440",
    "end": "2611680"
  },
  {
    "text": "different and the requirements are very different from the tools that we need when things have scaled up and not that",
    "start": "2611680",
    "end": "2617000"
  },
  {
    "text": "many people have scaled up and so like there are a few companies that end up having to just grapple with these sorts",
    "start": "2617000",
    "end": "2623079"
  },
  {
    "text": "of problems but the world that I want to live in is one where we make the tools",
    "start": "2623079",
    "end": "2628480"
  },
  {
    "text": "for building big be better than the tools for building small so we don't have to make this kind of transition",
    "start": "2628480",
    "end": "2634240"
  },
  {
    "text": "like if things scale up then you're like oh I have to re architect and now I got to get my message bus or whatever um but",
    "start": "2634240",
    "end": "2641319"
  },
  {
    "text": "what if when people started it was just better and obvious because their tools",
    "start": "2641319",
    "end": "2646520"
  },
  {
    "text": "gave them uh safe you know safe access to production data or or or these you",
    "start": "2646520",
    "end": "2651720"
  },
  {
    "text": "know all of these other properties that even when you're small are are actually pretty useful and so you go back to this",
    "start": "2651720",
    "end": "2658800"
  },
  {
    "text": "to this quota you know this you know scathing indictment of of the RPC model um I really think that the answer is at",
    "start": "2658800",
    "end": "2666760"
  },
  {
    "text": "first it does like At first developer convenience is actually the only thing that matters I think Mo you know most",
    "start": "2666760",
    "end": "2673760"
  },
  {
    "text": "software most most startups uh fail most a lot of software ends up not working it",
    "start": "2673760",
    "end": "2678960"
  },
  {
    "text": "turns out to be a bad idea uh at small scale developer convenience is the name of the game so we need to build tools so",
    "start": "2678960",
    "end": "2686240"
  },
  {
    "text": "that at small scale uh things are things are just better even as they scale I",
    "start": "2686240",
    "end": "2692680"
  },
  {
    "text": "think a way that we can tell if we are there is to look at how POS posable these things are and you know maybe take",
    "start": "2692680",
    "end": "2699680"
  },
  {
    "text": "the puppy example and and see if we could Implement that kind of change uh without re-releasing the components on",
    "start": "2699680",
    "end": "2704839"
  },
  {
    "text": "other side then I think maybe we're there and that's all I have thanks a lot [Applause]",
    "start": "2704839",
    "end": "2715140"
  }
]