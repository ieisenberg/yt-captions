[
  {
    "start": "0",
    "end": "102000"
  },
  {
    "text": "[Music]",
    "start": "970",
    "end": "7838"
  },
  {
    "text": "i'm going to talk today about phoenix and if you don't know uh what phoenix is it's basically the web framework that is",
    "start": "12799",
    "end": "18720"
  },
  {
    "text": "built on the elixir programming language so if you're familiar with like rails is to ruby kind of phoenix is to elixir and",
    "start": "18720",
    "end": "25920"
  },
  {
    "text": "specifically while phoenix provides some awesome things for web applications on its own about a year and a half ago",
    "start": "25920",
    "end": "33360"
  },
  {
    "text": "maybe two years ago at this point who knows after all this code stuff what a year is but some time ago they released",
    "start": "33360",
    "end": "39040"
  },
  {
    "text": "live view and it's grown in its capabilities and potential since then and i'd like to",
    "start": "39040",
    "end": "45200"
  },
  {
    "text": "demonstrate some of those things to you today they're really cool it provides real-time html communication from the",
    "start": "45200",
    "end": "50960"
  },
  {
    "text": "server to the client and it requires you to write like little to no javascript you can put some",
    "start": "50960",
    "end": "57680"
  },
  {
    "text": "javascript in there if you want but if you don't want to touch javascript you don't have to and it's efficient performant and real time and distributed",
    "start": "57680",
    "end": "63600"
  },
  {
    "text": "which is really cool so here's what we're doing today this is kind of our our plan the first thing is i'm going to",
    "start": "63600",
    "end": "68640"
  },
  {
    "text": "go over some of live views benefits just basically bullet point things that some of them i stole straight from the",
    "start": "68640",
    "end": "73840"
  },
  {
    "text": "phoenix live view readme some of them i kind of modified a little bit to my taste and then we're just going to jump",
    "start": "73840",
    "end": "79200"
  },
  {
    "text": "right into code and actually change a traditional controller driven web application into a real time one",
    "start": "79200",
    "end": "85119"
  },
  {
    "text": "using phoenix live view and there will be some errors some of them are going to be on purpose some of them i'm sure will",
    "start": "85119",
    "end": "90400"
  },
  {
    "text": "not be on purpose so bear with me live coding is always fun and adventurous it makes me feel alive up here in front",
    "start": "90400",
    "end": "96479"
  },
  {
    "text": "of you so we'll see if we can get through it on time and without many errors",
    "start": "96479",
    "end": "101680"
  },
  {
    "text": "so phoenix live view what are some of the benefits i asked um well let's make that first slide i asked one of my",
    "start": "101680",
    "end": "106880"
  },
  {
    "start": "102000",
    "end": "399000"
  },
  {
    "text": "buddies i said i'm doing this talk what's something that you think that these people should know about phoenix live you and he's worked as a consultant",
    "start": "106880",
    "end": "114159"
  },
  {
    "text": "on a lot of different applications and utilizes phoenix in a lot of those now",
    "start": "114159",
    "end": "119200"
  },
  {
    "text": "and has a few different applications on production that use phoenix live view especially for things like form",
    "start": "119200",
    "end": "124640"
  },
  {
    "text": "validations and he says the main thing that i love about it is it just works um so that's why i",
    "start": "124640",
    "end": "131200"
  },
  {
    "text": "put performance server rendered html that actually works so that's that's for him that's for ian uh but it's true that",
    "start": "131200",
    "end": "136879"
  },
  {
    "text": "it actually works um there are some other uh communication protocols out there or web framework plugins that you",
    "start": "136879",
    "end": "142959"
  },
  {
    "text": "can use um that do somewhat similar things but the",
    "start": "142959",
    "end": "148080"
  },
  {
    "text": "well i'll get to this in bullet points okay so here's what phoenix liveview does you can push html from the server to the client over websockets and again",
    "start": "148080",
    "end": "155200"
  },
  {
    "text": "there's other things that do that but elixir gives us an edge in the case of phoenix live view we send",
    "start": "155200",
    "end": "160720"
  },
  {
    "text": "only what changed to the client and that means if no markup on the change page then you're not going to get html markup",
    "start": "160720",
    "end": "166400"
  },
  {
    "text": "html markup sent as a message to the client over that socket connection so not only does that save you in terms of",
    "start": "166400",
    "end": "172400"
  },
  {
    "text": "bandwidth but it also saves the course and download time to the user and processing time on the server to",
    "start": "172400",
    "end": "178319"
  },
  {
    "text": "generate that markup it also allows you to hook into javascript events if you want",
    "start": "178319",
    "end": "184400"
  },
  {
    "text": "and also provide form hooks as well so things like live form validations i'm sure we've all encountered a form where",
    "start": "184400",
    "end": "191040"
  },
  {
    "text": "there's this super complex thing you're supposed to match your email address or password for like a",
    "start": "191040",
    "end": "198000"
  },
  {
    "text": "pattern that you have to um to be in you basically have to use this",
    "start": "198000",
    "end": "203040"
  },
  {
    "text": "pattern to create your password but you don't know what it is until you hit enter you come up with your password and you're all clever and then you hit enter",
    "start": "203040",
    "end": "208640"
  },
  {
    "text": "and then the form re-renders and says no sorry we can't accept that password it actually needs these you know seven things to be true about it before we can",
    "start": "208640",
    "end": "214879"
  },
  {
    "text": "accept your password and why do you tell me that before well the cool thing about phoenix live view is you can do",
    "start": "214879",
    "end": "220319"
  },
  {
    "text": "real-time form validations and provide instant feedback to users as they're filling out forms including file",
    "start": "220319",
    "end": "226400"
  },
  {
    "text": "uploads which is pretty neat it also allows you to do reusable html components that again are on the server",
    "start": "226400",
    "end": "232239"
  },
  {
    "text": "side and each one of those can have their own state they can house their own state information that means that",
    "start": "232239",
    "end": "237599"
  },
  {
    "text": "anywhere on the page and we'll go over a little bit more of this later but each",
    "start": "237599",
    "end": "242640"
  },
  {
    "text": "page that is rendered in phoenix has its own web websocket connection and is handled in a process a lightweight",
    "start": "242640",
    "end": "248239"
  },
  {
    "text": "elixir process on the server that means that if any little part of your web page breaks or crashes then it's not going to",
    "start": "248239",
    "end": "255040"
  },
  {
    "text": "take down the rest of your website and hopefully or even that web page and hopefully not your website and you know",
    "start": "255040",
    "end": "260160"
  },
  {
    "text": "god forbid your whole web server so each one of those has its own self-healing state that you can provide",
    "start": "260160",
    "end": "266240"
  },
  {
    "text": "that is apart from every other component on your web page it also provides live navigation as i mentioned it doesn't",
    "start": "266240",
    "end": "271840"
  },
  {
    "text": "provide markup over the wire unless it requires it so things like live navigation you know if you think about a",
    "start": "271840",
    "end": "277520"
  },
  {
    "text": "website typically there's like a an outer template that has like logo and branding and login",
    "start": "277520",
    "end": "283680"
  },
  {
    "text": "information and navigation things like that most of that stays the same on every page you visit so if you don't",
    "start": "283680",
    "end": "290639"
  },
  {
    "text": "have to you know render that html and send it down to the client on every page load then that can save again not only a",
    "start": "290639",
    "end": "297360"
  },
  {
    "text": "lot of bandwidth but it can save on user navigation time and server time as well so um live navigation is really cool in",
    "start": "297360",
    "end": "304400"
  },
  {
    "text": "fact i've got a web application that i'm working on with a buddy that um it's basically kind of like a live note-taking application we do a lot of",
    "start": "304400",
    "end": "310880"
  },
  {
    "text": "live view in there um and the navigation in it is so fast i told",
    "start": "310880",
    "end": "316320"
  },
  {
    "text": "them it feels fake it feels like it's like um i don't know it feels like i'm doing",
    "start": "316320",
    "end": "321759"
  },
  {
    "text": "something that's faking it but i'm not and it's even running on like the smallest digital ocean droplet i mean it is",
    "start": "321759",
    "end": "327360"
  },
  {
    "text": "um super super quick uh so beyond that because it uses elixir and elixir is built on erlang and erlang",
    "start": "327360",
    "end": "333919"
  },
  {
    "text": "compiles down to uh beam vm uh it is distributed in real time out of the box",
    "start": "333919",
    "end": "339280"
  },
  {
    "text": "you don't have to do anything extra to to do some really cool distributed and real-time things with elixir and phoenix",
    "start": "339280",
    "end": "345039"
  },
  {
    "text": "live view and of course my favorite things are it's built on elixir and phoenix which are two things i highly",
    "start": "345039",
    "end": "351520"
  },
  {
    "text": "encourage everyone to take a look at and and use um i got into rails back in 2004 i think",
    "start": "351520",
    "end": "358960"
  },
  {
    "text": "it was um when i first saw maybe 2005. but when i first saw david hannemeyer",
    "start": "358960",
    "end": "364000"
  },
  {
    "text": "hanson's you know build a blog in 10 minutes screencast was like okay i'm never writing in php again",
    "start": "364000",
    "end": "369759"
  },
  {
    "text": "and that was true i basically never wrote php again i was always doing rails um and the same thing happened back in 2014 when i saw elixir i was like oh man",
    "start": "369759",
    "end": "377840"
  },
  {
    "text": "if i if i had my choice i probably wouldn't write in ruby again i would move to elixir um so it's a fun language",
    "start": "377840",
    "end": "383600"
  },
  {
    "text": "to write in and phoenix does some really cool things in the web so those are the bullet points um and",
    "start": "383600",
    "end": "389039"
  },
  {
    "text": "the media the talk is really just gonna be just diving into code and seeing how things work so that's enough talk let me",
    "start": "389039",
    "end": "394240"
  },
  {
    "text": "load up here um our web application and show you what we're dealing with all right so on the screen on the right",
    "start": "394240",
    "end": "400960"
  },
  {
    "start": "399000",
    "end": "2337000"
  },
  {
    "text": "hand side here you'll see we have our web application in the browser and you can kind of think of the the thing we're",
    "start": "400960",
    "end": "406800"
  },
  {
    "text": "providing is our users we're providing our users with real-time um stock",
    "start": "406800",
    "end": "411919"
  },
  {
    "text": "updates what we'd like for it to be real-time stock updates right now they're just static and you see we have",
    "start": "411919",
    "end": "417039"
  },
  {
    "text": "the the name of the company we have their ticker symbol and we have the latest price that we",
    "start": "417039",
    "end": "423039"
  },
  {
    "text": "have for that company now if i refresh the page then it does give me new prices this is kind of typically how a normal",
    "start": "423039",
    "end": "429599"
  },
  {
    "text": "traditional web application would work you know if i want new information i have to request it i have to hit that refresh button",
    "start": "429599",
    "end": "435280"
  },
  {
    "text": "and it'll give me the latest prices now one thing i want to mention before we go any further is these are real names of",
    "start": "435280",
    "end": "440960"
  },
  {
    "text": "companies um they are real ticker symbols but they're not real prices um i've just got a back end process that",
    "start": "440960",
    "end": "446720"
  },
  {
    "text": "every two seconds randomly updates the the prices and if you're interested it is a bull market about 60 of the time",
    "start": "446720",
    "end": "453520"
  },
  {
    "text": "the price goes up and about 40 of the time price goes down so if you want to you know buy now then this is the good",
    "start": "453520",
    "end": "458639"
  },
  {
    "text": "time to buy but again don't don't buy anything for real on the left-hand side here you'll see",
    "start": "458639",
    "end": "463680"
  },
  {
    "text": "the output the console output of phoenix and so you can see that uh this request that i just made in our web browser was",
    "start": "463680",
    "end": "471360"
  },
  {
    "text": "handled by a page controller and an index function and as you might guess in most web frameworks you know you",
    "start": "471360",
    "end": "477840"
  },
  {
    "text": "typically hit something like an index on a page or on a controller and so we can look at that code and this is what a",
    "start": "477840",
    "end": "483599"
  },
  {
    "text": "page controller would look like in elixir that's a traditional one so it uses a controller and we've got the",
    "start": "483599",
    "end": "489759"
  },
  {
    "text": "index function defined that index accepts a connection and a list of params even though we don't care about",
    "start": "489759",
    "end": "495759"
  },
  {
    "text": "the params in this case and we call this render function we're rendering to the connection an index.html template and in",
    "start": "495759",
    "end": "502000"
  },
  {
    "text": "that template we're providing a variable called companies and we're in that uh for those companies we're just iterating",
    "start": "502000",
    "end": "507840"
  },
  {
    "text": "through and listing out a row for each of those now one thing you might want to know in terms of terminology is this",
    "start": "507840",
    "end": "513760"
  },
  {
    "text": "variable that we're providing to the template is called in the sign in uh the phoenix world probably in some other",
    "start": "513760",
    "end": "520240"
  },
  {
    "text": "frameworks as well but here it's called an assign and that'll come up here uh in a minute that'll be important the other thing i",
    "start": "520240",
    "end": "526880"
  },
  {
    "text": "want to show you is our router so in here this is where we handle",
    "start": "526880",
    "end": "532320"
  },
  {
    "text": "how requests are routed you know where does request a go where does request be amiigo so on our initial scope here this",
    "start": "532320",
    "end": "539839"
  },
  {
    "text": "is saying for any route um request it's going to be handled within the go to chicago web name space and then within",
    "start": "539839",
    "end": "547279"
  },
  {
    "text": "there uh any request to again the root path is going to be handled by page controller index and again that kind of",
    "start": "547279",
    "end": "554399"
  },
  {
    "text": "we've seen how that plays out in both the the logger sorry in the logs and on the web page here",
    "start": "554399",
    "end": "560640"
  },
  {
    "text": "and this pipe through you can provide different pipes different pipelines that each request goes through which again is",
    "start": "560640",
    "end": "566080"
  },
  {
    "text": "a huge thing in elixir or phoenix that i love um you can uh customize how each",
    "start": "566080",
    "end": "571279"
  },
  {
    "text": "request is handled and what little pieces it goes through as it handles that connection that's a little out of",
    "start": "571279",
    "end": "576959"
  },
  {
    "text": "scope for this uh this top this presentation but it's something that's very cool that you could take a look at on your own",
    "start": "576959",
    "end": "583279"
  },
  {
    "text": "so the first thing we want to do let's let's say we we like this application it's working well you know our users are",
    "start": "583279",
    "end": "588959"
  },
  {
    "text": "loving that we've got these up-to-date prices but they have to manually refresh it so what if we say well let's let's",
    "start": "588959",
    "end": "594959"
  },
  {
    "text": "push out new updates to the users whenever we get an update on the price so that they can always have that latest",
    "start": "594959",
    "end": "601040"
  },
  {
    "text": "price and they could try to beat those those darn trading bots so let's let's aim for that uh the first thing we need",
    "start": "601040",
    "end": "607200"
  },
  {
    "text": "to do is instead of being handled by a traditional page controller we need to push the request through a live view",
    "start": "607200",
    "end": "614079"
  },
  {
    "text": "through live view itself um and so instead of handling excuse me get request at that path",
    "start": "614079",
    "end": "619519"
  },
  {
    "text": "we're going to say it's going to be a live request and instead of through the page controller let's handle it in a module we're going to call page live",
    "start": "619519",
    "end": "626640"
  },
  {
    "text": "now if you look on the right here if i refresh this it's going to fail because we don't have that defined we haven't defined page live that module so that's",
    "start": "626640",
    "end": "634079"
  },
  {
    "text": "the first thing we need to do so let's go and find that and by tradition or um idiomatically",
    "start": "634079",
    "end": "640560"
  },
  {
    "text": "live live live view stuff is usually contained within a live directory so we'll call",
    "start": "640560",
    "end": "646000"
  },
  {
    "text": "this pagelive.ex and we're going to define module",
    "start": "646000",
    "end": "651760"
  },
  {
    "text": "and it's go to chicago web page live and it's going to use phoenix live view",
    "start": "651760",
    "end": "659440"
  },
  {
    "text": "and i'm just going to end it there save that and show you another error message on the right i didn't refresh that page",
    "start": "659440",
    "end": "666000"
  },
  {
    "text": "one of the cool things about phoenix is it's super quick and about noticing changes on the file system and",
    "start": "666000",
    "end": "672240"
  },
  {
    "text": "re-rendering the web connection in your browser when that connection when the file system changes so it recognized hey",
    "start": "672240",
    "end": "679200"
  },
  {
    "text": "now this page live is defined so it refreshed itself and now we've got a new error and that error is that render one",
    "start": "679200",
    "end": "685519"
  },
  {
    "text": "was not implemented now if you're not familiar with elixir so much then the render slash one basically means there's",
    "start": "685519",
    "end": "691040"
  },
  {
    "text": "a render function and the one means there's one argument to be expected in that render function",
    "start": "691040",
    "end": "697120"
  },
  {
    "text": "let's define that so let's define render i mentioned earlier that assigned is going to come into play in a little bit",
    "start": "697120",
    "end": "703279"
  },
  {
    "text": "this is where we're going to start seeing assigns being a thing in this case we're not going to care about it um",
    "start": "703279",
    "end": "708959"
  },
  {
    "text": "but the render function accepts the the assigns but right now we're going to ignore it instead we're just going to",
    "start": "708959",
    "end": "714880"
  },
  {
    "text": "say you know what we're going to get the list of companies from the database chicago",
    "start": "714880",
    "end": "720639"
  },
  {
    "text": "list companies and then we're going to um",
    "start": "720639",
    "end": "725839"
  },
  {
    "text": "render the page that we were rendering before chicago",
    "start": "725839",
    "end": "730880"
  },
  {
    "text": "page view render and again we're going to render it in as the index.html",
    "start": "730880",
    "end": "738000"
  },
  {
    "text": "template and we're going to pass in the assigned companies as companies",
    "start": "738000",
    "end": "743120"
  },
  {
    "text": "save that on the right hand side we should get a new error here and do we indeed we do it's uh assigned companies",
    "start": "743120",
    "end": "749440"
  },
  {
    "text": "not available that's because i misspelled it again helpful error messages instead of come monies we want",
    "start": "749440",
    "end": "755600"
  },
  {
    "text": "uh not command p's companies there we go let me save that now i should realize",
    "start": "755600",
    "end": "760800"
  },
  {
    "text": "that yes we do have a company assigns now now we have a new problem but again this one's pretty simple to",
    "start": "760800",
    "end": "766399"
  },
  {
    "text": "fix um so ensure your render function uses tilde l or your eex template uses the",
    "start": "766399",
    "end": "772639"
  },
  {
    "text": "dot lex extension in phoenix live view you can actually",
    "start": "772639",
    "end": "778959"
  },
  {
    "text": "render html and the component like this just",
    "start": "778959",
    "end": "784160"
  },
  {
    "text": "in line to say this is going to be what i want you know put some html in here um",
    "start": "784160",
    "end": "789760"
  },
  {
    "text": "and you know whatever we're not going to do it that way we've got the index template already defined but the eex",
    "start": "789760",
    "end": "795279"
  },
  {
    "text": "extension it basically tells phoenix that it is a static",
    "start": "795279",
    "end": "800560"
  },
  {
    "text": "elixir template and if we prefix or if we made it a dot l e x extension that",
    "start": "800560",
    "end": "806560"
  },
  {
    "text": "just means it's a live view template so all we need to do is rename this file from",
    "start": "806560",
    "end": "811959"
  },
  {
    "text": "index.html.eex to index.html.lex we save that",
    "start": "811959",
    "end": "817600"
  },
  {
    "text": "and now on the right you see that the browser again refreshes itself and we're back to having a live application but",
    "start": "817600",
    "end": "823199"
  },
  {
    "text": "again it's still not real time we do have to refresh the page to get those new updates um which are updating two times",
    "start": "823199",
    "end": "830320"
  },
  {
    "text": "or sorry every two seconds um so i have to still request it on my own but if you see in our uh on our log here the the",
    "start": "830320",
    "end": "837920"
  },
  {
    "text": "server logs the request is now being handled by our go to chicago web page live",
    "start": "837920",
    "end": "843839"
  },
  {
    "text": "module so at least we're now going through what live view provides us",
    "start": "843839",
    "end": "849040"
  },
  {
    "text": "one thing i should mention and i kind of forgot to mention the beginning of this is that there is one step that was before this that i kind of glossed over",
    "start": "849040",
    "end": "855600"
  },
  {
    "text": "but isn't really that big of a deal so i created this phoenix application through the generator through just a phoenix",
    "start": "855600",
    "end": "861440"
  },
  {
    "text": "generator to not be a live view application um that's because i wanted to go through the steps of converting it",
    "start": "861440",
    "end": "867519"
  },
  {
    "text": "to live view myself but in order to convert it to live view there were just some boilerplate things all i had to do",
    "start": "867519",
    "end": "873040"
  },
  {
    "text": "was copy and paste things from the readme that phoenix live view provides and um at most there's like five lines",
    "start": "873040",
    "end": "879600"
  },
  {
    "text": "per file maybe you know seven different files you need to touch so really not much at all but out of",
    "start": "879600",
    "end": "884959"
  },
  {
    "text": "you know for time's sake i just kind of already did that even though i was using utilizing any of live u's capabilities",
    "start": "884959",
    "end": "890560"
  },
  {
    "text": "if you're interested in what those steps are um then at the end of the presentation i've got a link to the exact code that i'm using right now and",
    "start": "890560",
    "end": "897920"
  },
  {
    "text": "i've got into each individual commit all the different steps we're going to be taking today and you can see how each of",
    "start": "897920",
    "end": "903040"
  },
  {
    "text": "those play out and furthermore if you do know from the very beginning that you would like a live view application then",
    "start": "903040",
    "end": "908320"
  },
  {
    "text": "phoenix actually provides live view generators so if you create a website you can just pass in the you know dash",
    "start": "908320",
    "end": "913600"
  },
  {
    "text": "dash live and it'll be a live view capable from the start which is pretty cool",
    "start": "913600",
    "end": "918800"
  },
  {
    "text": "all right so we're utilizing live view now to handle the requests but it's still not real time so if you think",
    "start": "918800",
    "end": "924560"
  },
  {
    "text": "about what it's going to take uh to have real-time communications with our server um",
    "start": "924560",
    "end": "931199"
  },
  {
    "text": "i mentioned earlier that each web connection each client connection to our server is handled in a process on the",
    "start": "931199",
    "end": "937440"
  },
  {
    "text": "elixir back end and that process um we want to be able to keep the state of the",
    "start": "937440",
    "end": "943600"
  },
  {
    "text": "information we need to to render the page in that state in memory if we go",
    "start": "943600",
    "end": "948720"
  },
  {
    "text": "back to page live here this unit use phoenix live view it provides us some kind of boilerplate",
    "start": "948720",
    "end": "955920"
  },
  {
    "text": "or usual um definitions of functions that we don't we don't need to redefine if we don't",
    "start": "955920",
    "end": "961839"
  },
  {
    "text": "have to but if we need to we can easily redefine them mount is one of those so",
    "start": "961839",
    "end": "967199"
  },
  {
    "text": "mount basically is called whenever the user first requests the page and wants to mount",
    "start": "967199",
    "end": "972320"
  },
  {
    "text": "mount the page um so for mounts we kind of want to override this and i'll show you why in a second but it's passed a",
    "start": "972320",
    "end": "978560"
  },
  {
    "text": "list of params it's passed the session information in case you need to do any sort of authentication even though honestly authentication probably would",
    "start": "978560",
    "end": "984639"
  },
  {
    "text": "have been done would be done before it even hits this point um but in here if you're again if you're familiar with elixir you'll notice that",
    "start": "984639",
    "end": "991600"
  },
  {
    "text": "a lot of times you'll have these tuples as returns okay or error or things like that",
    "start": "991600",
    "end": "998320"
  },
  {
    "text": "so a lot of the phoenix live view views expect a tuple like this as to the",
    "start": "998320",
    "end": "1003759"
  },
  {
    "text": "the response that it provides in this case okay and then some information that needs to continue on and typically it's",
    "start": "1003759",
    "end": "1009920"
  },
  {
    "text": "the socket itself so again if you remember that process is handling that socket in elixir process and so every",
    "start": "1009920",
    "end": "1016480"
  },
  {
    "text": "request it makes is going to we're going to take in that socket do something with it maybe change a couple things and then return that socket back as the new state",
    "start": "1016480",
    "end": "1023440"
  },
  {
    "text": "of that socket which is pretty cool so again if i save this nothing should change on the right things are still going to be handled i've gotta you know",
    "start": "1023440",
    "end": "1030160"
  },
  {
    "text": "actually request the new information but one of the things that we did here that is a little bit",
    "start": "1030160",
    "end": "1036798"
  },
  {
    "text": "more on the traditional sense is we're getting the list of companies on render instead let's get to the list of",
    "start": "1036799",
    "end": "1042480"
  },
  {
    "text": "companies when the page itself is mounted um and assign that list of companies",
    "start": "1042480",
    "end": "1048319"
  },
  {
    "text": "into the socket itself not as seeing a sign so we're going to assign to the socket",
    "start": "1048319",
    "end": "1055440"
  },
  {
    "text": "companies and companies is going to be that make sure i spell everything right this",
    "start": "1055440",
    "end": "1061120"
  },
  {
    "text": "time and when that is passed on to render so the thing that comes from mount is kind",
    "start": "1061120",
    "end": "1067120"
  },
  {
    "text": "of passed on to render and render accepts the list of assigns from the socket so now we do care about the",
    "start": "1067120",
    "end": "1072160"
  },
  {
    "text": "assigns because we want to pass on the assigns to the template and let's just pass them all through and not worry",
    "start": "1072160",
    "end": "1077280"
  },
  {
    "text": "about what's actually in there so again let's make sure our page is reloading correctly we did see it reload",
    "start": "1077280",
    "end": "1082559"
  },
  {
    "text": "on its own just because it doesn't notice the change but i do have to manually reload and things are still working but instead of getting a list of",
    "start": "1082559",
    "end": "1089200"
  },
  {
    "text": "companies on render now we get it on mount and right now that doesn't make that much of a difference i mean honestly because we have to re-render",
    "start": "1089200",
    "end": "1095440"
  },
  {
    "text": "and remount the page when we want when we reload the page but it will make a difference here in a minute",
    "start": "1095440",
    "end": "1101120"
  },
  {
    "text": "so we want to do that now um i mentioned that we've got",
    "start": "1101120",
    "end": "1106240"
  },
  {
    "text": "excuse me something in the background that's updating the prices every two seconds and that's really kind of a fake database i've just got like in memory",
    "start": "1106240",
    "end": "1112320"
  },
  {
    "text": "information for this list of companies and uh every two seconds that price is updated so what do we need to allow this",
    "start": "1112320",
    "end": "1120240"
  },
  {
    "text": "to be real time well we want to every time a price is updated we want our web",
    "start": "1120240",
    "end": "1125679"
  },
  {
    "text": "view to be updated our web page to be updated for the user so i've also created that kind of fake database to be",
    "start": "1125679",
    "end": "1131760"
  },
  {
    "text": "sort of a pub sub mechanism a publish subscribe so if you subscribe to this databases",
    "start": "1131760",
    "end": "1137840"
  },
  {
    "text": "updates then every time a company is updated it'll send out a message to all the subscribers that hey says hey i've",
    "start": "1137840",
    "end": "1144160"
  },
  {
    "text": "got a new list of prices and here's the the companies that are that are updated um do what you need to with them you",
    "start": "1144160",
    "end": "1150000"
  },
  {
    "text": "said you wanted them so here they are um so i've got that already coded so all we need to do is subscribe to those",
    "start": "1150000",
    "end": "1155440"
  },
  {
    "text": "messages so in here we can say you know if connected so if the client has connected",
    "start": "1155440",
    "end": "1160960"
  },
  {
    "text": "or the socket has connected successfully then we want to subscribe and i have this subscribe",
    "start": "1160960",
    "end": "1168000"
  },
  {
    "text": "function already set up and uh this the the argument that it expects is the",
    "start": "1168000",
    "end": "1173760"
  },
  {
    "text": "process of who is subscribing in this case um i mentioned that each",
    "start": "1173760",
    "end": "1178799"
  },
  {
    "text": "connection to a web you know page and server is handled by um a process and we",
    "start": "1178799",
    "end": "1184640"
  },
  {
    "text": "want to pass in our ourselves as the process uh to subscribe to these messages i'm going to save this now",
    "start": "1184640",
    "end": "1190960"
  },
  {
    "text": "watch on the right hand side i've got you know no hand looking on no hands you'll notice that we have updating",
    "start": "1190960",
    "end": "1196320"
  },
  {
    "text": "prices and roughly every two seconds we have that list of new prices coming through and so",
    "start": "1196320",
    "end": "1201679"
  },
  {
    "text": "you might think sweet we did it you know that's exactly what we wanted to do our work here is done we can go to the",
    "start": "1201679",
    "end": "1207200"
  },
  {
    "text": "quiz night and win all these prizes but then we look in the logs and realize that is a heck of a lot of red and",
    "start": "1207200",
    "end": "1213440"
  },
  {
    "text": "usually red in logs is not a good thing um so you're like oh shoot why",
    "start": "1213440",
    "end": "1218880"
  },
  {
    "text": "why are we getting these errors and furthermore why are errors resulting in the thing we wanted to see the outcome",
    "start": "1218880",
    "end": "1225440"
  },
  {
    "text": "we wanted well that's another cool thing about phoenix phoenix has a self-healing mechanism to where",
    "start": "1225440",
    "end": "1231919"
  },
  {
    "text": "if the process dies for whatever reason whether it's an error or you kill it or you know the user kills it or whatever",
    "start": "1231919",
    "end": "1238559"
  },
  {
    "text": "then phoenix will kind of self-heal and say what was the last known good state i had for this",
    "start": "1238559",
    "end": "1244720"
  },
  {
    "text": "connection and in this case it was when the user mounted the page",
    "start": "1244720",
    "end": "1250000"
  },
  {
    "text": "so it will remount on its own and when it remounts we've got the companies now",
    "start": "1250000",
    "end": "1255360"
  },
  {
    "text": "in that mount function so it gets list of companies and remounts the page and provides that to the page to the user",
    "start": "1255360",
    "end": "1262240"
  },
  {
    "text": "you also notice this isn't like a hard refresh this is actually actually is using um some of phoenix",
    "start": "1262240",
    "end": "1268159"
  },
  {
    "text": "live use capabilities to do some some cool stuff in here but you know having all these errors in your logs isn't the",
    "start": "1268159",
    "end": "1273919"
  },
  {
    "text": "right way to go so let's handle the message i'm going to go over here in my",
    "start": "1273919",
    "end": "1280159"
  },
  {
    "text": "in the console and actually look at the message itself so here it is it says function go to chicago web dot page live",
    "start": "1280159",
    "end": "1287600"
  },
  {
    "text": "dot handle info slash two is undefined or private and then it shows you the exact message that was being sent to our",
    "start": "1287600",
    "end": "1294000"
  },
  {
    "text": "process that wasn't handled and that was pagelive.handleinfo and then new prices",
    "start": "1294000",
    "end": "1299919"
  },
  {
    "text": "in a tuple and then a list of companies um so let's handle that let's define that handle info function and and go",
    "start": "1299919",
    "end": "1306559"
  },
  {
    "text": "from there and again if you're familiar with elixir this handle info um",
    "start": "1306559",
    "end": "1312720"
  },
  {
    "text": "should be familiar to you gin servers use it some other processes use it and typically when a process",
    "start": "1312720",
    "end": "1318960"
  },
  {
    "text": "receives a message um especially on a journal server this is how it receives it another cool thing about elixir is it",
    "start": "1318960",
    "end": "1325120"
  },
  {
    "text": "does pattern matching so we can say we only want to handle the specific message of new prices and then the list",
    "start": "1325120",
    "end": "1331760"
  },
  {
    "text": "of companies and we always get passed in the socket connection and so we're not going to send a reply",
    "start": "1331760",
    "end": "1338159"
  },
  {
    "text": "to the sender of the message which in this case was our fake database instead we want to do is take our socket",
    "start": "1338159",
    "end": "1344480"
  },
  {
    "text": "and assign the list of companies to the companies variable in the signs",
    "start": "1344480",
    "end": "1350799"
  },
  {
    "text": "so i'm going to save that and back on the right hand side here we are getting live updates every two",
    "start": "1350799",
    "end": "1357840"
  },
  {
    "text": "seconds and if we check our logs now we have no red coming up which is exactly what we wanted so we're handling that",
    "start": "1357840",
    "end": "1364159"
  },
  {
    "text": "message from our pub sub correctly it's handling the message in the in page live and then sending it on to the browser",
    "start": "1364159",
    "end": "1369840"
  },
  {
    "text": "and again it's doing that efficiently and with as few changes as possible which is really cool all right so a lot of times when you",
    "start": "1369840",
    "end": "1376159"
  },
  {
    "text": "hear about um functionality like this the it's kind of like the go the to do app",
    "start": "1376159",
    "end": "1381760"
  },
  {
    "text": "you know everyone's when they show off a new technology they they make it to do app well the real time i think the real-time version of a to-do app",
    "start": "1381760",
    "end": "1388400"
  },
  {
    "text": "is chat or you know real-time comments so shoot let's add that you know we did this pretty quickly what if we added",
    "start": "1388400",
    "end": "1393919"
  },
  {
    "text": "live chat i do have um already prepared uh some of the html markup for that live chat most",
    "start": "1393919",
    "end": "1401200"
  },
  {
    "text": "of you'll notice most of the stuff i do is um you know just me typing stuff in but in this case there's a lot of html here i",
    "start": "1401200",
    "end": "1407919"
  },
  {
    "text": "don't want to mess that up so got these comments and a couple things i want to point out it's mostly just you know",
    "start": "1407919",
    "end": "1412960"
  },
  {
    "text": "standard html but like in most frameworks phoenix provides a form builder uh helper methods or helpful",
    "start": "1412960",
    "end": "1418880"
  },
  {
    "text": "functions in this case we're calling form four comments and so our name the name of our form is gonna be comments",
    "start": "1418880",
    "end": "1424400"
  },
  {
    "text": "and then here is the path that the form should submit to and another cool thing about phoenix live view is you think",
    "start": "1424400",
    "end": "1429679"
  },
  {
    "text": "well this is being handled through a javascript websocket connection what if the user doesn't have javascript enabled",
    "start": "1429679",
    "end": "1435919"
  },
  {
    "text": "in their browser you know it might be kind of rare these days for that to happen but it that's not out of the",
    "start": "1435919",
    "end": "1441200"
  },
  {
    "text": "question so those are actually uh easy fallbacks that phoenix live view can fall back on and utilize um in this",
    "start": "1441200",
    "end": "1447200"
  },
  {
    "text": "case we don't really care about the fallbacks so we're just putting an asterisk there not an asterisk",
    "start": "1447200",
    "end": "1452240"
  },
  {
    "text": "but we also have this phoenix hook that i mentioned earlier that were available in this case we want to say",
    "start": "1452240",
    "end": "1457840"
  },
  {
    "text": "when uh then when the form is submitted we want to send a message called submit comment to the process",
    "start": "1457840",
    "end": "1464080"
  },
  {
    "text": "and so that's going to be important here in a minute um this submit comment name after this you'll see we just have a simple text input and then just like we",
    "start": "1464080",
    "end": "1471120"
  },
  {
    "text": "do with the companies we're iterating over the list of comments and the assigns and again the signs are going to show up here with the uh at symbol in",
    "start": "1471120",
    "end": "1478159"
  },
  {
    "text": "front of it so we're going to say for each comment in the comments assign we're going to loop over and just you",
    "start": "1478159",
    "end": "1483279"
  },
  {
    "text": "know print out the comment text nothing nothing super crazy i save that we get an error on the right that says you know",
    "start": "1483279",
    "end": "1489360"
  },
  {
    "text": "what i don't know what the comments is supposed to be in our signs and that's true we haven't told",
    "start": "1489360",
    "end": "1494480"
  },
  {
    "text": "um our page live anything about the signs comments so let's add that in there so",
    "start": "1494480",
    "end": "1501120"
  },
  {
    "text": "comments equals and as you might expect i've already prepared a list comments function to get",
    "start": "1501120",
    "end": "1507200"
  },
  {
    "text": "those from our fake database and then we also want to make sure we pass in those comments to our list of",
    "start": "1507200",
    "end": "1512480"
  },
  {
    "text": "assigns to that socket or for that socket connection so i hit save phoenix live view realizes that hey",
    "start": "1512480",
    "end": "1518960"
  },
  {
    "text": "we've got new information i need to reload myself and we do indeed have a comments form and someone has already",
    "start": "1518960",
    "end": "1524320"
  },
  {
    "text": "put in the comment first so perfect so and we want to be second so let's go over here and put second hit enter",
    "start": "1524320",
    "end": "1530080"
  },
  {
    "text": "you'll notice it kind of pauses for a second and excuse me doesn't do anything but then goes on its merry way again of",
    "start": "1530080",
    "end": "1536799"
  },
  {
    "text": "updating the prices um so what's going on well let's check our logs and yet again we have a an error message um in",
    "start": "1536799",
    "end": "1544880"
  },
  {
    "text": "this case we we have a handle event being sent to the the server or our process or page live",
    "start": "1544880",
    "end": "1551120"
  },
  {
    "text": "and that's undefined and again just like before it's self healing it knows that the last known good connection was um on",
    "start": "1551120",
    "end": "1557679"
  },
  {
    "text": "that initial amount so it mounts it remounts it and goes on its merry way which is updating those prices which is",
    "start": "1557679",
    "end": "1562799"
  },
  {
    "text": "pretty cool so but we do want to handle that event of us of common being submitted so let's define that",
    "start": "1562799",
    "end": "1568320"
  },
  {
    "text": "so down here we say def handle event and the event was submit comments",
    "start": "1568320",
    "end": "1574000"
  },
  {
    "text": "remember that was the hook we told it it was gonna be called um within there it passes in the params",
    "start": "1574000",
    "end": "1580480"
  },
  {
    "text": "and we named the form comments and just like in javascript you can destructure",
    "start": "1580480",
    "end": "1586559"
  },
  {
    "text": "objects and things like that in this case it's a map or destructuring a map within the function definition itself",
    "start": "1586559",
    "end": "1592159"
  },
  {
    "text": "and within that comments form we had a form or a field called text and we'll just bind that to the text variable here",
    "start": "1592159",
    "end": "1598640"
  },
  {
    "text": "for this function and of course we have the socket being passed through as well so go to chicago web this is our fake",
    "start": "1598640",
    "end": "1604880"
  },
  {
    "text": "database or go to chicago we're going to insert that comment uh that comment text and then we're not",
    "start": "1604880",
    "end": "1610720"
  },
  {
    "text": "going to reply to the center of the message but instead we're going to assign socket",
    "start": "1610720",
    "end": "1616400"
  },
  {
    "text": "and then our comments is now going to equal just go and get all the comments again",
    "start": "1616400",
    "end": "1621840"
  },
  {
    "text": "so list comments and that's going to be our new comments save that",
    "start": "1621840",
    "end": "1628320"
  },
  {
    "text": "we'll go over here and we'll try now submitting a comment second you know third perfect now we have you know live",
    "start": "1628320",
    "end": "1635279"
  },
  {
    "text": "chat live capability for entering comments and those messages are being handled as asynchronously from all the",
    "start": "1635279",
    "end": "1641679"
  },
  {
    "text": "messages for live updating of the prices which is pretty neat um so what if we you know live chat",
    "start": "1641679",
    "end": "1647440"
  },
  {
    "text": "itself is not very fun with just one person so let's open up another browser here and say okay well this guy is the fourth",
    "start": "1647440",
    "end": "1654320"
  },
  {
    "text": "person well he puts in fourth but over on the right here we don't get fourth as an update why is that well the",
    "start": "1654320",
    "end": "1661760"
  },
  {
    "text": "reason is because and you might have guessed this if you um were really paying attention about the the messages",
    "start": "1661760",
    "end": "1667600"
  },
  {
    "text": "of the uh the prices we're not sending out messages the the",
    "start": "1667600",
    "end": "1672720"
  },
  {
    "text": "pub sub isn't sending out a message on a new comment and i've done this um this is the one thing i haven't done",
    "start": "1672720",
    "end": "1678320"
  },
  {
    "text": "beforehand just so i can show you a peek a little bit about how we would do that in our pub sub um so i have something",
    "start": "1678320",
    "end": "1683600"
  },
  {
    "text": "called fake repo that's kind of a fake database it is a gen server if you speak elixir",
    "start": "1683600",
    "end": "1688960"
  },
  {
    "text": "and then here in this insert comment this is where we basically handle the insert comments function",
    "start": "1688960",
    "end": "1695039"
  },
  {
    "text": "so in our state we have a list of subscribers so for each one of those we want to go",
    "start": "1695039",
    "end": "1701120"
  },
  {
    "text": "through and take a subscriber subscriber",
    "start": "1701120",
    "end": "1706919"
  },
  {
    "text": "and uh we want to send that subscriber a message",
    "start": "1707039",
    "end": "1712480"
  },
  {
    "text": "and um make sure i spell that right and the message we wanted to to receive is something called how about",
    "start": "1712480",
    "end": "1718880"
  },
  {
    "text": "new comments and just passed that comment that we received back through save that",
    "start": "1718880",
    "end": "1725840"
  },
  {
    "text": "and let's go back over to our web browsers and over here i refresh the page you can see we have fourth there",
    "start": "1725840",
    "end": "1731039"
  },
  {
    "text": "when i manually refresh it but what if i now type fifth over here so yes we have fifth on the right and",
    "start": "1731039",
    "end": "1736880"
  },
  {
    "text": "now we have fifth on the left so you might think perfect but you also might think wait a minute something was a little fishy there so i'm going to",
    "start": "1736880",
    "end": "1742399"
  },
  {
    "text": "press enter and watch how long it takes for that left-hand side to get the message so enter",
    "start": "1742399",
    "end": "1748000"
  },
  {
    "text": "that's a bit of a delay so something might be up there right well let's go check our logs and again we have a whole bunch of red and",
    "start": "1748000",
    "end": "1755200"
  },
  {
    "text": "that's because we are sending that message to the subscribers but we're not handling that message in our page live",
    "start": "1755200",
    "end": "1761440"
  },
  {
    "text": "that's easy enough to do we've done that before with our new prices so we want to define another function of handle info again",
    "start": "1761440",
    "end": "1767760"
  },
  {
    "text": "using pattern matching a new comment and we sent that comment along with it as well and of course as i",
    "start": "1767760",
    "end": "1773679"
  },
  {
    "text": "mentioned earlier the socket is always sent along as well so here we don't want to reply to the fake database instead we want to assign",
    "start": "1773679",
    "end": "1781279"
  },
  {
    "text": "the socket uh the comments and now i'm going to do something that's going to look a little weird at first but i'll explain why in a",
    "start": "1781279",
    "end": "1787919"
  },
  {
    "text": "minute so instead of saying all the comments like down here when we submit the",
    "start": "1787919",
    "end": "1793039"
  },
  {
    "text": "comments um we are going through and getting all the comments again from the database and putting them back into the",
    "start": "1793039",
    "end": "1799039"
  },
  {
    "text": "the socket connection and um while that works now when we're just kind of doing stuff locally like what if",
    "start": "1799039",
    "end": "1805520"
  },
  {
    "text": "what if we had you know 100 users or what if what if we got really big and now we're robin hood and we've got you",
    "start": "1805520",
    "end": "1811039"
  },
  {
    "text": "know a million users or 10 million users and they're all chatting on this page and how can we handle all that in in a",
    "start": "1811039",
    "end": "1817360"
  },
  {
    "text": "memory process i mentioned that all this these processes are held in memory that's a lot of data held in memory if we're getting everything from the",
    "start": "1817360",
    "end": "1823039"
  },
  {
    "text": "database well that's where something called temporary assigns comes in the phoenix live view provides it already thought of",
    "start": "1823039",
    "end": "1828720"
  },
  {
    "text": "that it you know chris mccord who is the guy who came up with phoenix live you in phoenix itself",
    "start": "1828720",
    "end": "1833840"
  },
  {
    "text": "uh he's a smart guy he knows that if we have this type of application you're not going to want to hold all that information in memory",
    "start": "1833840",
    "end": "1840159"
  },
  {
    "text": "so we have something called temporary assigns so on our handle event when that",
    "start": "1840159",
    "end": "1846480"
  },
  {
    "text": "comment is submitted instead of assigning the socket and going out and getting the database information let's just say you know we're not going to",
    "start": "1846480",
    "end": "1852880"
  },
  {
    "text": "handle it explicitly here we're just going to pass on the socket as we found it so instead of doing anything to the",
    "start": "1852880",
    "end": "1858480"
  },
  {
    "text": "socket we're just going to pass it along and trust that that we in our knowledge that the",
    "start": "1858480",
    "end": "1863919"
  },
  {
    "text": "database itself is going to send out a message saying hey we've got a new comment here do what you want to with it and this is where we want where we do",
    "start": "1863919",
    "end": "1870000"
  },
  {
    "text": "what we want to with it now um temporary signs let me set that up",
    "start": "1870000",
    "end": "1875120"
  },
  {
    "text": "go up here and in our original socket return and our assign we can tell it you know of these assigns we do have some",
    "start": "1875120",
    "end": "1881760"
  },
  {
    "text": "temporary assigns that you need to know about and one of those is comments and this little empty list is what tells",
    "start": "1881760",
    "end": "1888320"
  },
  {
    "text": "the temporary assigns mechanism what to reset the assignments to after it's done with them",
    "start": "1888320",
    "end": "1893919"
  },
  {
    "text": "so if you think about think about like this as soon as um our original like we've",
    "start": "1893919",
    "end": "1899039"
  },
  {
    "text": "mounted the webpage mounted the websocket that's passed it on to render renders takes that comment to sign",
    "start": "1899039",
    "end": "1905679"
  },
  {
    "text": "um on the right hand side here in our in our browser it goes through and it renders all these comments and now it's",
    "start": "1905679",
    "end": "1911279"
  },
  {
    "text": "done with it it knows i've done what i need to with this assign um and usually it would just keep it in memory but now",
    "start": "1911279",
    "end": "1917600"
  },
  {
    "text": "with this temporary assigns it's saying okay i'm going to throw everything away that i have a memory for this assign and",
    "start": "1917600",
    "end": "1922640"
  },
  {
    "text": "reset it to this state of an empty list now down here this might make a little more sense again to where now we've said",
    "start": "1922640",
    "end": "1930480"
  },
  {
    "text": "that comments assigned should be a list again but in this case just with the new comment that we received i'm going to",
    "start": "1930480",
    "end": "1936559"
  },
  {
    "text": "save that and go over here and try something again let's uh you know do 7th",
    "start": "1936559",
    "end": "1942559"
  },
  {
    "text": "and we do get the message and in fact we bring up the other uh page over here if i type ninth",
    "start": "1942559",
    "end": "1949600"
  },
  {
    "text": "over on this side you should see that now both browsers say ninth but all our other comments are gone",
    "start": "1949600",
    "end": "1954640"
  },
  {
    "text": "um and you probably rightly guess but that's because we've replaced all the comments in the memory with this one",
    "start": "1954640",
    "end": "1960960"
  },
  {
    "text": "comment our latest comment and of course phoenix live view does provide a way to handle that as well as you might have",
    "start": "1960960",
    "end": "1967039"
  },
  {
    "text": "guessed so we go back to our index.html and um this is where we're doing stuff",
    "start": "1967039",
    "end": "1972960"
  },
  {
    "text": "with that comments assign right we're iterating through it and um listing out each one's text",
    "start": "1972960",
    "end": "1979200"
  },
  {
    "text": "well phoenix knows that this is the spot in your web page that you do stuff with that assign and it has something called",
    "start": "1979200",
    "end": "1985840"
  },
  {
    "text": "phoenix update and you can put that in here and by default it's doing this thing called replace it's doing an option called replace",
    "start": "1985840",
    "end": "1992000"
  },
  {
    "text": "that means that it's going to replace this whole interior div every time it realizes that comments has changed and",
    "start": "1992000",
    "end": "1998080"
  },
  {
    "text": "since it does that whole replace it's replacing this whole comments area over here with what's in now the new comments",
    "start": "1998080",
    "end": "2004720"
  },
  {
    "text": "assign um but instead of replace we know that's a temporary assign but we just want to prepend that area with the",
    "start": "2004720",
    "end": "2011919"
  },
  {
    "text": "information instead of replace it so let me refresh these manually just to get our list of assigns back or list our",
    "start": "2011919",
    "end": "2017200"
  },
  {
    "text": "comments and now i've pressed 10th that's pretty quick now both browsers are getting the update um go back over",
    "start": "2017200",
    "end": "2023120"
  },
  {
    "text": "here type 12 over here both browsers are getting those just fine very quickly and",
    "start": "2023120",
    "end": "2028720"
  },
  {
    "text": "checking our logs no errors so we've done it we've created real-time chat and again you know we can open up a whole",
    "start": "2028720",
    "end": "2034320"
  },
  {
    "text": "another browser window and they can join in the",
    "start": "2034320",
    "end": "2039360"
  },
  {
    "text": "chat and all of them are in sync and up-to-date and get those messages very quickly and in real time which is",
    "start": "2039360",
    "end": "2045360"
  },
  {
    "text": "awesome so this mission accomplished there um so honestly that's what we're going to be doing that's all we're doing in terms of",
    "start": "2045360",
    "end": "2052158"
  },
  {
    "text": "adding functionality to this website but when i do things like this um i like to wonder you know how far can i",
    "start": "2052159",
    "end": "2058638"
  },
  {
    "text": "push things with elixir how far can i push things with phoenix as well um so when i was thinking about thinking",
    "start": "2058639",
    "end": "2064000"
  },
  {
    "text": "through this i was like well the thing that it does well um is these",
    "start": "2064000",
    "end": "2069040"
  },
  {
    "text": "live updates so i've got it running every two seconds as an update well what if i you know can i",
    "start": "2069040",
    "end": "2074720"
  },
  {
    "text": "push that even further so let's go back to our page sorry our fake repo which is our pub sub as well",
    "start": "2074720",
    "end": "2080720"
  },
  {
    "text": "um and in here i've got this function that all it's doing is passing on an update milliseconds and you wouldn't",
    "start": "2080720",
    "end": "2086398"
  },
  {
    "text": "normally do things like this but i've done it this way for demonstration purposes and here we have 2 000",
    "start": "2086399",
    "end": "2091520"
  },
  {
    "text": "milliseconds is our update tick and um what if we increase that to let's say one second",
    "start": "2091520",
    "end": "2098720"
  },
  {
    "text": "that might seem kind of silly but i'm actually going to restart the server you don't have to but it's going to save me typing actually and it's restart so",
    "start": "2098720",
    "end": "2104240"
  },
  {
    "text": "quickly that it's easy to do so back to our browser excuse me",
    "start": "2104240",
    "end": "2109280"
  },
  {
    "text": "we can see that now both browsers are updating in one second every one second they're updating and both of them are in sync",
    "start": "2109280",
    "end": "2115440"
  },
  {
    "text": "and doing things well so that's great so i thought well let's see if we can go even further how about every half a",
    "start": "2115440",
    "end": "2121760"
  },
  {
    "text": "second do that save it this time i'm going to kill the server and show you how",
    "start": "2121760",
    "end": "2127920"
  },
  {
    "text": "show you something else so you'll notice that our browsers now are they're not updating anymore which is good because",
    "start": "2127920",
    "end": "2133359"
  },
  {
    "text": "there's not a server to talk to but it's another one of those self-healing things that elixir has or in phoenix has is it",
    "start": "2133359",
    "end": "2139440"
  },
  {
    "text": "knows the server went away but it's going to keep saying hey i know you were there are you there yet are you there",
    "start": "2139440",
    "end": "2144720"
  },
  {
    "text": "again are you back uh can i communicate with you yet um you know knock knock open up whatever whatever you call it",
    "start": "2144720",
    "end": "2150480"
  },
  {
    "text": "it's going to keep checking to see if that server exists and then re-communicate with it so i'm going to start the server back up you'll notice",
    "start": "2150480",
    "end": "2156160"
  },
  {
    "text": "i'm not going to press anything but as soon as it starts phoenix is going to realize hey you know what that server's back and it's going to reconnect and we",
    "start": "2156160",
    "end": "2162240"
  },
  {
    "text": "have updating prices again this time every half a second so 500 milliseconds we have a push update to our browser in",
    "start": "2162240",
    "end": "2168160"
  },
  {
    "text": "real time let's go any further how about 200 milliseconds so five times a second",
    "start": "2168160",
    "end": "2175200"
  },
  {
    "text": "let's try that uh not p let's do our server again it's gonna recompile that real quickly and then",
    "start": "2175200",
    "end": "2180560"
  },
  {
    "text": "back to our browser and we've got uh every five seconds we've got updates to our browser for all these prices",
    "start": "2180560",
    "end": "2186880"
  },
  {
    "text": "and as you'd imagine you know we still have asynchronous messaging as well for",
    "start": "2186880",
    "end": "2193200"
  },
  {
    "text": "comments which is pretty cool and then i did this a very truncated",
    "start": "2193200",
    "end": "2198720"
  },
  {
    "text": "version of this talk one time and someone the audience yelled out when we could meet in a real person real life they were like well what about 60 frames",
    "start": "2198720",
    "end": "2204320"
  },
  {
    "text": "a second and i thought well that's you know you laugh but let's try it so 16 60 frames",
    "start": "2204320",
    "end": "2209359"
  },
  {
    "text": "per second is basically 16 milliseconds so let's restart the server which restarts that timer",
    "start": "2209359",
    "end": "2215200"
  },
  {
    "text": "and see what we can do in this case zoom might actually be the um the contributing factor of not being able to",
    "start": "2215200",
    "end": "2220480"
  },
  {
    "text": "do 60 frames a second but uh on my browsers these are updating very quickly um and handling that very well",
    "start": "2220480",
    "end": "2227280"
  },
  {
    "text": "um i have read let this run for a while and it just starts eating up a ton of memory so i'm actually going to",
    "start": "2227280",
    "end": "2232400"
  },
  {
    "text": "kill that because the browsers aren't very good at handling it and change it instead back to let's say 200 so five",
    "start": "2232400",
    "end": "2237839"
  },
  {
    "text": "times a second reset the server and phoenix is going to reconnect",
    "start": "2237839",
    "end": "2244480"
  },
  {
    "text": "and go from there and a bird is trying to get into my house right now that's funny all right so we have five",
    "start": "2244560",
    "end": "2250480"
  },
  {
    "text": "times a second the server is sending these messages out and our browser is handling them now um i actually haven't been",
    "start": "2250480",
    "end": "2257359"
  },
  {
    "text": "completely upfront with what we're rendering here it looks like that we're rendering i don't know what like 15 to",
    "start": "2257359",
    "end": "2262640"
  },
  {
    "text": "20 different um companies and you know five times a second those",
    "start": "2262640",
    "end": "2267680"
  },
  {
    "text": "let's say it's 20. so five times a second 20 different companies that is 100 different browser changes",
    "start": "2267680",
    "end": "2274640"
  },
  {
    "text": "every minute or sorry every second it's actually more than that so if you look this is actually the full s p 500",
    "start": "2274640",
    "end": "2281440"
  },
  {
    "text": "list of all those companies in the s p 500 and prices are being updated for every one of them every 200 milliseconds",
    "start": "2281440",
    "end": "2287839"
  },
  {
    "text": "and being pushed out to the browser as new information over a websocket connection and the only reason they can do this so efficiently is because of",
    "start": "2287839",
    "end": "2294320"
  },
  {
    "text": "those the diffing algorithm that phoenix uses to know that only the things that changed need to be pushed out no markup",
    "start": "2294320",
    "end": "2302480"
  },
  {
    "text": "nothing like that so it's really just updating each row with information and you know you see it's still smooth",
    "start": "2302480",
    "end": "2309599"
  },
  {
    "text": "scrolling and a lot of this is vivaldi as a browser and each browser may handle you know lots of",
    "start": "2309599",
    "end": "2315920"
  },
  {
    "text": "information differently but 200 every 200 milliseconds to 500 companies",
    "start": "2315920",
    "end": "2321680"
  },
  {
    "text": "what is that five times 2500 updates a second to our",
    "start": "2321680",
    "end": "2326800"
  },
  {
    "text": "browser that's being handled in real time and our chat still works and it's performant and real time and distributed",
    "start": "2326800",
    "end": "2332880"
  },
  {
    "text": "that's pretty cool so that's phoenix that's what i want to show you today i actually wrote a book",
    "start": "2332880",
    "end": "2339119"
  },
  {
    "start": "2337000",
    "end": "2419000"
  },
  {
    "text": "called phoenix in action it goes through a lot of phoenix it doesn't actually go through live view",
    "start": "2339119",
    "end": "2345200"
  },
  {
    "text": "live view is still a baby when phoenix in action went to print and but it does give you enough information",
    "start": "2345200",
    "end": "2351119"
  },
  {
    "text": "to get to the point where you're ready to use live view in your application you really should have some fundamentals behind your back before you get into it",
    "start": "2351119",
    "end": "2357680"
  },
  {
    "text": "manning did give me a discount code to give out at the conference so there's a discount code here for 35 off any",
    "start": "2357680",
    "end": "2363520"
  },
  {
    "text": "anything at manning not just my book but if you have any questions or want to get in touch with me of course i'll be here in the slack for the duration of uh",
    "start": "2363520",
    "end": "2370800"
  },
  {
    "text": "go to but also i'm on twitter um i blog occasionally at jefferylessol.com typically about elixir stuff and i've",
    "start": "2370800",
    "end": "2377599"
  },
  {
    "text": "got a youtube channel where i start doing some live view stuff mostly just checking to see my setup here works but i think i'm going",
    "start": "2377599",
    "end": "2383520"
  },
  {
    "text": "to continue doing that and of course this project is down here as well uh so if you're gonna go check out the code and and try",
    "start": "2383520",
    "end": "2389200"
  },
  {
    "text": "it for yourself locally and mess around with a little bit um then feel free to do that each comment uh is broken out or",
    "start": "2389200",
    "end": "2394800"
  },
  {
    "text": "sorry each can broken out into those little steps that we went through to change our application from a",
    "start": "2394800",
    "end": "2400160"
  },
  {
    "text": "traditional one to one that handles live view real-time updates so thanks so much coming to my talk",
    "start": "2400160",
    "end": "2407240"
  },
  {
    "text": "you",
    "start": "2418160",
    "end": "2420240"
  }
]