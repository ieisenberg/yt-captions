[
  {
    "text": "[Music]",
    "start": "990",
    "end": "7859"
  },
  {
    "text": "alright let's get started thanks everyone for being here one of the you know the second-to-last sessions of the",
    "start": "12139",
    "end": "18240"
  },
  {
    "text": "day so my name is Ray I'm a developer advocate for Google cloud platform and there are two things I like to do one is",
    "start": "18240",
    "end": "24029"
  },
  {
    "text": "to bring some of the best technology that developers can use on Google cloud where he open-source projects like",
    "start": "24029",
    "end": "29550"
  },
  {
    "text": "ribbon 80s and Easter and things like that to developers especially Java developers I love Java this is my",
    "start": "29550",
    "end": "35219"
  },
  {
    "text": "language of my choice I've been in the industry for almost 15 years now and done a lot of development with these",
    "start": "35219",
    "end": "41460"
  },
  {
    "text": "type of systems and the one of the things I also like to do is to help and make our Google cloud products better",
    "start": "41460",
    "end": "46620"
  },
  {
    "text": "and for that reason I helped start this project called spring cloud GCP so if you're using java and spring and spring",
    "start": "46620",
    "end": "52079"
  },
  {
    "text": "boot give it a try you know check out the project out and let me know how you like it if you have any questions about",
    "start": "52079",
    "end": "58770"
  },
  {
    "text": "this session you can find me on twitter at sandal ism you can also find all of the materials and in the some of the",
    "start": "58770",
    "end": "65369"
  },
  {
    "text": "content on my website would you sign in this and that me and today i also have my coworker joining me here yeah so I'm",
    "start": "65369",
    "end": "73380"
  },
  {
    "text": "Robert Cooper also a cloud developer advocate roughly same amount of experience in terms of years in the",
    "start": "73380",
    "end": "79409"
  },
  {
    "text": "industry I went through multiple full stack applications and ended up now mostly in the database and storage space",
    "start": "79409",
    "end": "87150"
  },
  {
    "text": "but like in general distributed all distributed things are my my gem you",
    "start": "87150",
    "end": "92759"
  },
  {
    "text": "find me as well on Twitter at how C or C so if you have any questions around any like database or storage products let me",
    "start": "92759",
    "end": "99299"
  },
  {
    "text": "know yeah so I'm very happy that Roberts able to join me today now I don't this talk a couple of times in the past and I",
    "start": "99299",
    "end": "106140"
  },
  {
    "text": "just want to recognize that you know at the beginning when we had the first variation of this talk actually today",
    "start": "106140",
    "end": "111720"
  },
  {
    "text": "with Brook who is actually in the front here yeah Brooke yeah so so if you don't like any of the jokes today it's all his",
    "start": "111720",
    "end": "118409"
  },
  {
    "text": "fault I'm skating I'm skating we Kim what we came up with it is also your",
    "start": "118409",
    "end": "124770"
  },
  {
    "text": "fault yeah exactly so so yes the Burke is here and then we're gonna have a lot",
    "start": "124770",
    "end": "129869"
  },
  {
    "text": "of fun I think because I never know what Brooke will do from the audience so here we go so today",
    "start": "129869",
    "end": "136290"
  },
  {
    "text": "I'm gonna talk a little bit about micro services and to best demonstrate this I actually had a chance to develop one of",
    "start": "136290",
    "end": "142800"
  },
  {
    "text": "the best-looking application I can ever write yeah definitely I mean that's what's like probably a 45 years of",
    "start": "142800",
    "end": "148740"
  },
  {
    "text": "experience gets you right like together thank you to two maybe three colors",
    "start": "148740",
    "end": "154940"
  },
  {
    "text": "beautifully our we keep it simple that's all yeah look I'm not probably developer",
    "start": "154940",
    "end": "163020"
  },
  {
    "text": "so this is the best I can do I went online I found some bootstrap things and chicory and this is what I put together",
    "start": "163020",
    "end": "168390"
  },
  {
    "text": "however it does demonstrate quite a few things about micro services because I'm a back-end developer that is what I do",
    "start": "168390",
    "end": "174630"
  },
  {
    "text": "so I broke everything in it down into different backends so even though the application is just you know front-end",
    "start": "174630",
    "end": "180510"
  },
  {
    "text": "with the username and you know message and you click on the tweet button we're going to Co another service to save the",
    "start": "180510",
    "end": "185730"
  },
  {
    "text": "data and then we go back to you and we're going to show you all the messages has been written so far and behind the",
    "start": "185730",
    "end": "191550"
  },
  {
    "text": "scenes where you see micro services architecture so I brought this application down into the front-end with the UI and to packings",
    "start": "191550",
    "end": "198300"
  },
  {
    "text": "a hello or service a guestbook service that allows you to have CRE the operations it's going to store the data",
    "start": "198300",
    "end": "204000"
  },
  {
    "text": "into my sequel and of course we also have red eyes for sexual implications so I can hit multiple font and you know",
    "start": "204000",
    "end": "211470"
  },
  {
    "text": "together so we can have the same data",
    "start": "211470",
    "end": "215120"
  },
  {
    "text": "right like so sum or per route might say you could write that in a monolithic a bright but like come on we live in the",
    "start": "216950",
    "end": "223410"
  },
  {
    "text": "21st century let's complicate and microservice all the things but however",
    "start": "223410",
    "end": "232670"
  },
  {
    "text": "don't do this if you're just writing your guestbook but this will be a very very popular guestbook application so of",
    "start": "232670",
    "end": "239010"
  },
  {
    "text": "course we have to deal with being able to scale out our services independently from each other and so on and so forth",
    "start": "239010",
    "end": "244410"
  },
  {
    "text": "but just keep in mind you use that micro services architecture for if you're trying to solve certain problems so",
    "start": "244410",
    "end": "250980"
  },
  {
    "text": "let's give it a try so let's see what we got so far right so let's go and see it to complicated things matter even more",
    "start": "250980",
    "end": "257370"
  },
  {
    "text": "because it is micro service in architecture you do have to watch her for a few things like how do we deploy and manage your services in your",
    "start": "257370",
    "end": "263880"
  },
  {
    "text": "instances so for this we're actually deployed the hosts into a criminalist cluster fortunately",
    "start": "263880",
    "end": "269130"
  },
  {
    "text": "i'm running this on google cloud so it's a click of a button like my cluster that has about five endpoints five notes that",
    "start": "269130",
    "end": "275099"
  },
  {
    "text": "i have and i deployed everything in two companies right now and the way i've done is by you know one of the things",
    "start": "275099",
    "end": "280380"
  },
  {
    "text": "you should be doing is to codify you know your deployment and encrypted is everything is done cannot yellow file",
    "start": "280380",
    "end": "286289"
  },
  {
    "text": "and so we checked in all the mo descriptors and what we want to deploy and the beautiful thing about",
    "start": "286289",
    "end": "291479"
  },
  {
    "text": "communities is that you can actually add some of these deployment descriptors that will you know describe your desired",
    "start": "291479",
    "end": "298319"
  },
  {
    "text": "state and we can go ahead and count your up this into reality right so for example if i need two",
    "start": "298319",
    "end": "303449"
  },
  {
    "text": "instances of my UI i just say i need to write the cost of my application and in this is a deployment and you say which",
    "start": "303449",
    "end": "309840"
  },
  {
    "text": "image do i want to use to deploy and i can configure my environment variables here like to kind of say where the",
    "start": "309840",
    "end": "316919"
  },
  {
    "text": "backends are and i do this for all of my backends and also my load balancers as well so for example for my UI service in",
    "start": "316919",
    "end": "324270"
  },
  {
    "text": "combinators i can use the kind of service and i can say for this load balancer for this service and into low",
    "start": "324270",
    "end": "329520"
  },
  {
    "text": "balance behind the scenes to all of the applications with certain labels in this case it would be hollow or UI label",
    "start": "329520",
    "end": "335340"
  },
  {
    "text": "right so one really cool thing about this is the load balancers actually global load balancer that get provision",
    "start": "335340",
    "end": "341550"
  },
  {
    "text": "to you so you don't have to preform anything or like manage with multiple IPS you get one IPS the one IP for your",
    "start": "341550",
    "end": "348840"
  },
  {
    "text": "global load balancer and you're done yep so here we can actually see the entire architecture so we have the holloway",
    "start": "348840",
    "end": "355080"
  },
  {
    "text": "service with the this is a load balancer with an IP and we have two packing since it's running these are the parts and",
    "start": "355080",
    "end": "360570"
  },
  {
    "text": "this is the deployment so I can control how many instances I want and if I scroll down a little bit I can see the",
    "start": "360570",
    "end": "366000"
  },
  {
    "text": "guestbook service as well I can see two instances there and I can see my sequel and everything is running up and running",
    "start": "366000",
    "end": "371789"
  },
  {
    "text": "right now so why don't we just go ahead and take a quick look and I wrote this in spring and spring boot so you can see",
    "start": "371789",
    "end": "378389"
  },
  {
    "text": "very clearly we have a spring icon here on the top so let's go take a look interesting but what what this actually",
    "start": "378389",
    "end": "386130"
  },
  {
    "text": "working so that's good so my hello and let me say oh oh wait wait what what",
    "start": "386130",
    "end": "396080"
  },
  {
    "text": "yeah yeah but uh what uh wait what did I just do I broke it oh hey can you do a harder",
    "start": "399370",
    "end": "408860"
  },
  {
    "text": "fish wait how do you do our heart we shifted I could never remember that I",
    "start": "408860",
    "end": "415600"
  },
  {
    "text": "don't have that oh yeah it's a make yeah we have a backup video right we can just",
    "start": "415600",
    "end": "424880"
  },
  {
    "text": "run no I came in late like 11:00 my",
    "start": "424880",
    "end": "430370"
  },
  {
    "text": "flight was delayed and I stuff the I was like outside eating no I never have a",
    "start": "430370",
    "end": "437240"
  },
  {
    "text": "backup video all right sorry guys I mean five minutes in we have nothing do you",
    "start": "437240",
    "end": "443480"
  },
  {
    "text": "do you have something else to do for the next 45 minutes I mean I would send you to lunch right now but like that that",
    "start": "443480",
    "end": "449780"
  },
  {
    "text": "was like three hours four years ago yeah no no I guess that's not the case but wait wait a minute ray like come on we",
    "start": "449780",
    "end": "456410"
  },
  {
    "text": "live in the 21st century like everything is like spiked with AI nml nowadays it will just fix itself right you just wait",
    "start": "456410",
    "end": "463670"
  },
  {
    "text": "here for how long like two minutes no no Robert I don't I don't think AI",
    "start": "463670",
    "end": "470720"
  },
  {
    "text": "can actually fix this for us because this is one of the worst error message I've ever seen we really customized that",
    "start": "470720",
    "end": "477470"
  },
  {
    "text": "page right well like I said I'm a I'm not a front-end developer so this is the buy-side thing I can do it's a white",
    "start": "477470",
    "end": "483320"
  },
  {
    "text": "label arrow pager I didn't do any work here and and look at that this is a error with 500 internal server error and",
    "start": "483320",
    "end": "492020"
  },
  {
    "text": "a 4 4 and a 4 or 4 on the same page so I don't know how you get a 500 in the 404 on the same page yeah Baruch what is yes",
    "start": "492020",
    "end": "500360"
  },
  {
    "text": "what that's the only thing that we're",
    "start": "500360",
    "end": "505520"
  },
  {
    "text": "certain about you is in fact a java application and and you enjoy that so",
    "start": "505520",
    "end": "510560"
  },
  {
    "text": "much right now right that you totally gonna watch us to debug that for the next 40 minutes yeah no silently now",
    "start": "510560",
    "end": "518030"
  },
  {
    "text": "come on like you have seen great talks where you run into an issue in a demo and then the speakers are just like let",
    "start": "518030",
    "end": "524570"
  },
  {
    "text": "me fix it only take 5 minutes yeah reset their expectations right it will only take 40",
    "start": "524570",
    "end": "530630"
  },
  {
    "text": "it's to the buck so yeah so asking for your patience so that's let's figure",
    "start": "530630",
    "end": "535700"
  },
  {
    "text": "this out I mean what's definitely working earlier but I don't know what happened which is what has happened so what are you doing this case suppose you",
    "start": "535700",
    "end": "542240"
  },
  {
    "text": "re actually in a production environment and somebody tells you they're getting this weird error message you're on this",
    "start": "542240",
    "end": "547370"
  },
  {
    "text": "site what do you do there are so many options who can choose this is gonna be like almost a choose-your-own-adventure",
    "start": "547370",
    "end": "552680"
  },
  {
    "text": "type of deal but like we need to start somewhere right if I'd like I mean we're experienced developers right right so",
    "start": "552680",
    "end": "559280"
  },
  {
    "text": "who here is deploying to production directly are you living on the edge",
    "start": "559280",
    "end": "564860"
  },
  {
    "text": "folks wait Wow well yeah so hey usually I start",
    "start": "564860",
    "end": "577880"
  },
  {
    "text": "with tests and then I go to staging where let other people's look at it and",
    "start": "577880",
    "end": "583790"
  },
  {
    "text": "then if everything works we deploy to production right do we have a staging",
    "start": "583790",
    "end": "588860"
  },
  {
    "text": "you know what even though we don't have a backup video we do have a staging environment so within companies",
    "start": "588860",
    "end": "594080"
  },
  {
    "text": "environment where we have multiple notes right we have a whole cluster we did actually carve it up into different",
    "start": "594080",
    "end": "599660"
  },
  {
    "text": "namespaces so we actually have a namespace called staging and this well the cool thing you can do in companies",
    "start": "599660",
    "end": "605660"
  },
  {
    "text": "is that you know typically people will have a production cluster that only runs production workload but for non prod you",
    "start": "605660",
    "end": "612170"
  },
  {
    "text": "can actually share the same cluster beyond the in-space right and it will just like bin pack everything so like",
    "start": "612170",
    "end": "618050"
  },
  {
    "text": "you use the same configuration files that we showed you earlier you can basically use to deploy to different",
    "start": "618050",
    "end": "623780"
  },
  {
    "text": "namespaces so ray is going to show here for instance you can do the cat namespace you can list all the parts",
    "start": "623780",
    "end": "630050"
  },
  {
    "text": "that are running in our staging namespace you can do the same for QA for production and we use the exact same",
    "start": "630050",
    "end": "636320"
  },
  {
    "text": "configuration files so to deploy this application yeah and I can also find the service that I provision with the load",
    "start": "636320",
    "end": "642410"
  },
  {
    "text": "balancer in which case you know this is prot which is not working but if I go to my staging UI oh that was also not",
    "start": "642410",
    "end": "650240"
  },
  {
    "text": "working ah what what is nothing is",
    "start": "650240",
    "end": "655250"
  },
  {
    "text": "working properly today for me which is kind of weird and I think I know what happened I think I know what happened",
    "start": "655250",
    "end": "660950"
  },
  {
    "text": "but this is we are so can you do like an in cockney and let's see if that works maybe incognito well let's try so let me see",
    "start": "660950",
    "end": "668560"
  },
  {
    "text": "open case window yeah artworks okay we're done yeah oh wait so rewarding staging in",
    "start": "668560",
    "end": "674529"
  },
  {
    "text": "incognito window but okay that's kind of weird so what is going on here what what does this work here and oh I think I",
    "start": "674529",
    "end": "680649"
  },
  {
    "text": "know what happened but but that's weird so let's just zoom like this is the you know we got staging environment working",
    "start": "680649",
    "end": "686140"
  },
  {
    "text": "and we got product that's not actually working properly right what is going on what does it actually work I need to say",
    "start": "686140",
    "end": "691510"
  },
  {
    "text": "Baruch and hello right so yeah he actually writes with database so",
    "start": "691510",
    "end": "696970"
  },
  {
    "text": "everything kind of works that's fine yeah so what's going on right fraud all right so the next thing",
    "start": "696970",
    "end": "703180"
  },
  {
    "text": "like I mean we want to find out like it's actually the same thing deploy it to staging and to broad yeah so if you",
    "start": "703180",
    "end": "709420"
  },
  {
    "text": "actually have two environments in one works in the other one doesn't work you kind of need to figure out are they the",
    "start": "709420",
    "end": "714459"
  },
  {
    "text": "same app right Robert actually I'm pretty sure they're the same app because the way I deployed it was that it keeps",
    "start": "714459",
    "end": "720160"
  },
  {
    "text": "did you apply that chef and I deploy exactly the same descriptors and the only thing different was the staging or",
    "start": "720160",
    "end": "726459"
  },
  {
    "text": "QA or something else right okay yeah so let's have a look what we deploy yeah so",
    "start": "726459",
    "end": "731740"
  },
  {
    "text": "here's my you ID appointment and I can go in and see you know again I can see the replicas which is here so I got",
    "start": "731740",
    "end": "737770"
  },
  {
    "text": "replicas is equal to two I got my labels which is what I'm setting right and I'll scroll down a",
    "start": "737770",
    "end": "742839"
  },
  {
    "text": "little bit no mean to me is no matter if I scroll down a little bit eyes can see the name of image and now",
    "start": "742839",
    "end": "748390"
  },
  {
    "text": "of course there's a high possibility because I'm using boots on a factory but the boo is already",
    "start": "748390",
    "end": "755890"
  },
  {
    "text": "established the fact this sim image is working in staging so let's take a look at what are you using",
    "start": "755890",
    "end": "761230"
  },
  {
    "text": "yeah so I'm using gee Baruch again this baroque hello Rui and I'm using the",
    "start": "761230",
    "end": "766420"
  },
  {
    "text": "latest hike of course latest really yeah latest of course because we're in the world where were always the point to",
    "start": "766420",
    "end": "772180"
  },
  {
    "text": "production directly so we're doing see I see the pipeline so I'm always be pointing the latest version to",
    "start": "772180",
    "end": "778450"
  },
  {
    "text": "production right maybe not the best practice what's wrong with this so what can you possibly going like ladies is an",
    "start": "778450",
    "end": "785589"
  },
  {
    "text": "awesome feature for development right it's like it always points to your latest version but in production you",
    "start": "785589",
    "end": "791560"
  },
  {
    "text": "don't actually know what it really the points to especially like if you have a situation where",
    "start": "791560",
    "end": "797160"
  },
  {
    "text": "Rey is downloading a container image a week ago and that is now the latest and I download one like yesterday and then",
    "start": "797160",
    "end": "804089"
  },
  {
    "text": "this is a different version they all point to latest but they both point to a different version of the container so",
    "start": "804089",
    "end": "810569"
  },
  {
    "text": "you want to make sure that you use actually versions which in the best case are actually mutable right so that they",
    "start": "810569",
    "end": "816720"
  },
  {
    "text": "don't change the container image behind the version doesn't change or like in",
    "start": "816720",
    "end": "821790"
  },
  {
    "text": "terms of docker containers the other way to be very sure is to just refer to the sha-256 hash and then you can just add a",
    "start": "821790",
    "end": "829230"
  },
  {
    "text": "hash here if you actually want to be very very specific about what it is you're at the point now unfortunately I",
    "start": "829230",
    "end": "835410"
  },
  {
    "text": "did not follow these best practices obviously my production environments kind of broken I think there's ways for",
    "start": "835410",
    "end": "840990"
  },
  {
    "text": "us to kind of figure this out right right so in communities you can actually inspect what is running in your cluster",
    "start": "840990",
    "end": "847050"
  },
  {
    "text": "right so we can do a describe so you Ray brought up the container that we want to the part that we want to actually",
    "start": "847050",
    "end": "852660"
  },
  {
    "text": "inspect we can do a describe of this pot and then we can see exactly what is running in in that pot yeah so I do a",
    "start": "852660",
    "end": "860459"
  },
  {
    "text": "describe coming in and here I can see the details about my deployment specifically I can see the vrm the",
    "start": "860459",
    "end": "865529"
  },
  {
    "text": "variable I can see what's in mounting I can see the status but if I go up a little bit I can also see the exact",
    "start": "865529",
    "end": "870899"
  },
  {
    "text": "image hash that's been deployed so specifically were deploying something from G frog wood from chooks auto",
    "start": "870899",
    "end": "878399"
  },
  {
    "text": "factory instance and then here's the shot hash now this number is very big what we need to do is to compare between",
    "start": "878399",
    "end": "883889"
  },
  {
    "text": "this and staging right so we need all your help right now so let's do this this way right yeah no",
    "start": "883889",
    "end": "890209"
  },
  {
    "text": "you're not raise raise remember the first four well you can you can team up",
    "start": "890209",
    "end": "896310"
  },
  {
    "text": "yeah yeah I'm gonna remember the last four and then everybody else remember everything in between",
    "start": "896310",
    "end": "902130"
  },
  {
    "text": "something yeah pick and pick at each position it does not matter just pick a",
    "start": "902130",
    "end": "908490"
  },
  {
    "text": "number keep this in mind right so we need to compare that your hash they make sure they're the same thing you got it I should I didn't get it one second zero",
    "start": "908490",
    "end": "915660"
  },
  {
    "text": "yeah zero three four seven I got it so now we can go to that let me see here I",
    "start": "915660",
    "end": "920699"
  },
  {
    "text": "get pause and let's go to staging staging environment and we're gonna find one of the pots - oh that's good I tell",
    "start": "920699",
    "end": "928259"
  },
  {
    "text": "my staging environment went away that's it'll being absolutely unprepared",
    "start": "928259",
    "end": "933410"
  },
  {
    "text": "unfortunately even if that happened so let me go ahead and say describe and something from staging and let's see if",
    "start": "933410",
    "end": "939600"
  },
  {
    "text": "this is the same configuration as you can see it's hitting the same back-end that's because we had you sitting in the",
    "start": "939600",
    "end": "944880"
  },
  {
    "text": "namespace so we can share and reuse the same names for you because these are all scoped to the same namespace but now if",
    "start": "944880",
    "end": "951449"
  },
  {
    "text": "I go up a little bit here's the hash of what we deployed remember 0 3 4 7 6 2 4",
    "start": "951449",
    "end": "957240"
  },
  {
    "text": "B looks good everything else in between yeah yeah everything's good so we establish the fact that this is the same",
    "start": "957240",
    "end": "963089"
  },
  {
    "text": "environment in different in space with two different container employees with the same container image so they're",
    "start": "963089",
    "end": "969240"
  },
  {
    "text": "exactly the same map right right so so then what what what else should we check in this container image like well what",
    "start": "969240",
    "end": "976500"
  },
  {
    "text": "would you do next I think I would actually go and look at the locks right like that's kind of your next step to do",
    "start": "976500",
    "end": "983220"
  },
  {
    "text": "and like if we look back like what we would do like 10 15 years ago what would you do you would SSH into a machine you",
    "start": "983220",
    "end": "990329"
  },
  {
    "text": "would somewhere look for the logs like like a folder actually don't remember where it was maybe and then you go there",
    "start": "990329",
    "end": "997170"
  },
  {
    "text": "and use maybe crap to like find what exceptions were thrown in in your application now if you had multiple like",
    "start": "997170",
    "end": "1004279"
  },
  {
    "text": "instances of that running you had to basically go to each machine and go through each machine and do this process if you were really advanced you maybe",
    "start": "1004279",
    "end": "1011120"
  },
  {
    "text": "had one central server where you use the cron job and each of machines to send",
    "start": "1011120",
    "end": "1016550"
  },
  {
    "text": "your log files to that central server maybe with FTP or NFS if you really advanced but we can do better than that",
    "start": "1016550",
    "end": "1023149"
  },
  {
    "text": "yeah so in companies one of the really handy way of course is for you to do a QC he'll get parts you can see all the",
    "start": "1023149",
    "end": "1029390"
  },
  {
    "text": "running instances within a namespace or within other namespaces and if I want to go find the log this is what I can do",
    "start": "1029390",
    "end": "1035990"
  },
  {
    "text": "rather than SSH into that machine and find the files actually one of the best practices here is that you should never",
    "start": "1035990",
    "end": "1041839"
  },
  {
    "text": "write the log to your container file system from your application one reason is that in a VM in a machine environment",
    "start": "1041839",
    "end": "1049480"
  },
  {
    "text": "once you write the log to the file system you have a log rotator that's able to clean up the logs for you in the",
    "start": "1049480",
    "end": "1055730"
  },
  {
    "text": "container environment you don't have these local rotations and so your file system is going to keep on growing until either you runs out of space or you're",
    "start": "1055730",
    "end": "1063500"
  },
  {
    "text": "you when you start your container right and in most cases what you want to do is to",
    "start": "1063500",
    "end": "1068549"
  },
  {
    "text": "just output a log to STD out in which case you can do something like keep CTO logs that should F so you can actually",
    "start": "1068549",
    "end": "1074669"
  },
  {
    "text": "see the logs without actually having to SSH into the machine now hold on a second I got a math question for all of",
    "start": "1074669",
    "end": "1080399"
  },
  {
    "text": "you we do have two instances on my UI and I know one that's not working potentially what are the odds for me to",
    "start": "1080399",
    "end": "1087480"
  },
  {
    "text": "find this exception my stat race in one of these two instances baroque 50%",
    "start": "1087480",
    "end": "1093149"
  },
  {
    "text": "that's very good because it is one out of two that I'm going to find now of course we think the microservice is the",
    "start": "1093149",
    "end": "1099330"
  },
  {
    "text": "employment that this is such a super popular application you may not also a",
    "start": "1099330",
    "end": "1104340"
  },
  {
    "text": "may not always have these two instances right now what if you actually have things since this instead right so now",
    "start": "1104340",
    "end": "1110070"
  },
  {
    "text": "if I go get part right I'm going to see things since this is running now what",
    "start": "1110070",
    "end": "1115289"
  },
  {
    "text": "are the odds for me to find the the log in one of the things dances Brooke you",
    "start": "1115289",
    "end": "1121169"
  },
  {
    "text": "really like to answer questions today what is it that doesn't make sense but",
    "start": "1121169",
    "end": "1129299"
  },
  {
    "text": "okay Matt that could be true I guess that's probability I never could really good at it I'm gonna take your word for",
    "start": "1129299",
    "end": "1134940"
  },
  {
    "text": "it so so that could be true I would have said ten percent but okay so so this is",
    "start": "1134940",
    "end": "1140940"
  },
  {
    "text": "what I do right so I can do you Cpl Welk statue F and I'm going to find one of",
    "start": "1140940",
    "end": "1146460"
  },
  {
    "text": "these instances that could be running right now so I'm gonna find one that's running and I can just see the log this",
    "start": "1146460",
    "end": "1152940"
  },
  {
    "text": "way and oh I'm very lucky today baroque 50% yeah I should go buy some lottery",
    "start": "1152940",
    "end": "1159929"
  },
  {
    "text": "later today so I can't actually see the log this way now of course if you have multiple instances running you can't",
    "start": "1159929",
    "end": "1165870"
  },
  {
    "text": "just you know do cube sitio against every single one of these instances then we'll get other tools for you to do with",
    "start": "1165870",
    "end": "1171600"
  },
  {
    "text": "this that would be really tedious right like so there's a tool actually the multiple tools in Konya that you can use",
    "start": "1171600",
    "end": "1177149"
  },
  {
    "text": "you can use stern you can use cube tail to basically get an aggregated view over",
    "start": "1177149",
    "end": "1182220"
  },
  {
    "text": "all the parts that are deployed on a deployment all right so let's let's use stern maybe",
    "start": "1182220",
    "end": "1187559"
  },
  {
    "text": "in our case here so you basically use stern and then the name of your deployment it will basically used like",
    "start": "1187559",
    "end": "1193440"
  },
  {
    "text": "the kubernetes api is to find out which parts are running I'm not that deployment and then lists",
    "start": "1193440",
    "end": "1200100"
  },
  {
    "text": "all aggregates all the locks into your standard out on your local machine from all these pots around however in your",
    "start": "1200100",
    "end": "1206820"
  },
  {
    "text": "production environment more than likely this is great for development playing a production environment this is more than",
    "start": "1206820",
    "end": "1212220"
  },
  {
    "text": "likely we're going to see and this is when you know something really went wrong which is exception the whole time",
    "start": "1212220",
    "end": "1218490"
  },
  {
    "text": "and this will possibly like metrics with letters falling down on your screen and you have absolutely no idea what you",
    "start": "1218490",
    "end": "1225000"
  },
  {
    "text": "start right to find that error here in that like metrics and like pinpoint it",
    "start": "1225000",
    "end": "1230370"
  },
  {
    "text": "and then yeah yeah difficult so that that's not going to do so well so here's the beautiful part about carbon eighties",
    "start": "1230370",
    "end": "1236519"
  },
  {
    "text": "is that if you do actually output your your logs SST DL or STD arrow typically",
    "start": "1236519",
    "end": "1242730"
  },
  {
    "text": "you can actually install a centralized logging environment so for example if you're on Prem you probably have Alex",
    "start": "1242730",
    "end": "1248039"
  },
  {
    "text": "tak you'll access search log stash and Cabana and where they came centralizing advocate all of your logs for you and be",
    "start": "1248039",
    "end": "1254340"
  },
  {
    "text": "able to search and debug and figure out what is going on now because you are running this on Google cloud platform we",
    "start": "1254340",
    "end": "1259830"
  },
  {
    "text": "actually have a centralized logger pre-installed if I want to provision this automatically they will be done for",
    "start": "1259830",
    "end": "1265679"
  },
  {
    "text": "me so we can actually go to how we go start over logging in this case because I have this pre-configured just kind of",
    "start": "1265679",
    "end": "1271980"
  },
  {
    "text": "came with the thing and we can go ahead and find a log this way yeah so basically everything gets collected or",
    "start": "1271980",
    "end": "1277289"
  },
  {
    "text": "everything gets sent to stackdriver logging and then we basically we can't roll down and stacked while logging we can go out to our clusters or kubernetes",
    "start": "1277289",
    "end": "1284190"
  },
  {
    "text": "container the demo2 cluster we go to our namespace and then we go to our deployment that we have so here in this",
    "start": "1284190",
    "end": "1291299"
  },
  {
    "text": "case we do the hello world UI deployment and now you have all the aggregated logs from all our parts in this UI and you",
    "start": "1291299",
    "end": "1297929"
  },
  {
    "text": "can do search so we can for instance do a search for exception or for our four four or five hundred and so we see like",
    "start": "1297929",
    "end": "1305940"
  },
  {
    "text": "our logs and we can find the logs and see a bit about what is going on but there's one thing which is a little bit",
    "start": "1305940",
    "end": "1311639"
  },
  {
    "text": "complicated here right so you see all the logs educated but you don't really have an idea is that actually localized",
    "start": "1311639",
    "end": "1318480"
  },
  {
    "text": "problem they said maybe like one part that is going rogue or it's like all our parts going rogue and you have a story",
    "start": "1318480",
    "end": "1325019"
  },
  {
    "text": "about this like so so for example I was working as a consulting a hospital",
    "start": "1325019",
    "end": "1330509"
  },
  {
    "text": "the company hotel company and it was a monolith so even back then right it doesn't really matter what there's a",
    "start": "1330509",
    "end": "1336449"
  },
  {
    "text": "monolith or distributed system like today with microservices right you have multiple instances you cannot need to figure out what is actually going wrong",
    "start": "1336449",
    "end": "1343619"
  },
  {
    "text": "so what we used to do unfortunately back then was also a cessation to the machine aggregate all the logs FTP them down and",
    "start": "1343619",
    "end": "1350609"
  },
  {
    "text": "then do a grep or I write the Perl code or even I dump it into Hadoop and try to do some of these analysis what I really",
    "start": "1350609",
    "end": "1356999"
  },
  {
    "text": "want to find out at 2:00 a.m. in the morning was am I going to stay out all night or is it just one instance that's",
    "start": "1356999",
    "end": "1363809"
  },
  {
    "text": "being misconfigured and these type of analysis is really really useful and they're actually ways for us to do it",
    "start": "1363809",
    "end": "1369569"
  },
  {
    "text": "very easily now again if you have a centralized locking environment this is what they should be allowing you to do right so for example we can run analysis",
    "start": "1369569",
    "end": "1376859"
  },
  {
    "text": "on our logs from here it's specifically if you're using start over trace well we can potentially export a log to like a",
    "start": "1376859",
    "end": "1383549"
  },
  {
    "text": "messaging system so you can do real-time analysis and what's happening in your system or you can save it to long term storage",
    "start": "1383549",
    "end": "1390029"
  },
  {
    "text": "so you can analyze it later but one of my favorites actually output it to bigquery in this case where we can",
    "start": "1390029",
    "end": "1395489"
  },
  {
    "text": "actually do you know sequel commands so we can actually run sequel analysis our",
    "start": "1395489",
    "end": "1401190"
  },
  {
    "text": "log messages which is super super useful right and so the really cool thing here is that if you export it to bigquery it",
    "start": "1401190",
    "end": "1407819"
  },
  {
    "text": "creates a table for you it actually pottage it like petitions a table by day it creates all the columns for you and",
    "start": "1407819",
    "end": "1414719"
  },
  {
    "text": "so you literally just have to write the SQL statements to aggregate across your",
    "start": "1414719",
    "end": "1419759"
  },
  {
    "text": "logs but the point here though is that you want to you need a place kind of where you can go and figure out and",
    "start": "1419759",
    "end": "1426419"
  },
  {
    "text": "analyze the log and potentially get some metrics and data retro actively that you may not also otherwise being able to get",
    "start": "1426419",
    "end": "1432569"
  },
  {
    "text": "now picori though is something that we actually develop within google we used to be called Dremel internally this is",
    "start": "1432569",
    "end": "1439679"
  },
  {
    "text": "where we can actually go and you know debug our applications in courier logs to figure out what may have gone wrong",
    "start": "1439679",
    "end": "1445619"
  },
  {
    "text": "and stuff like that and the beauty of bigquery is that it doesn't matter how much data you have it's always the same",
    "start": "1445619",
    "end": "1451349"
  },
  {
    "text": "speed in soil it's similar speed when you know how much we can actually process and get the data back so",
    "start": "1451349",
    "end": "1456959"
  },
  {
    "text": "typically for this demo if I want to query Wikipedia data it will be like 100",
    "start": "1456959",
    "end": "1462569"
  },
  {
    "text": "terabytes of data and we can do sequel raise that were completing like 10 seconds or so Oh without any indexes now",
    "start": "1462569",
    "end": "1469230"
  },
  {
    "text": "for our little application here I have written a query here that I can analyze my logs which is gonna be a little bit",
    "start": "1469230",
    "end": "1475380"
  },
  {
    "text": "useful so what this query will do is to basically go and find all the log entries from my cluster that belongs to",
    "start": "1475380",
    "end": "1482010"
  },
  {
    "text": "my hollow or you our container from today that has the text peddler of exception and we're going to find all",
    "start": "1482010",
    "end": "1489630"
  },
  {
    "text": "the parts that has this error and we're going to order the count these in descending order so hopefully you can",
    "start": "1489630",
    "end": "1495180"
  },
  {
    "text": "find maybe there's one that just gone broke right so I'm gonna go ahead and run this thing of course I don't have so",
    "start": "1495180",
    "end": "1500430"
  },
  {
    "text": "much data but imagine if you actually have terabytes of data here we can run the query for you just the same yeah and",
    "start": "1500430",
    "end": "1507150"
  },
  {
    "text": "it looks like we have like two pods that are really out of interesting so so you",
    "start": "1507150",
    "end": "1512640"
  },
  {
    "text": "know maybe maybe there are two or one instance that you like going broke and let's see what we can do so what should",
    "start": "1512640",
    "end": "1519120"
  },
  {
    "text": "we do about this instance Robert this is a 2:00 a.m. in the morning yeah but that's it's kind of normal right like",
    "start": "1519120",
    "end": "1526530"
  },
  {
    "text": "you have a little bit of errors you have in every application yeah but but these two are really just out of out of order",
    "start": "1526530",
    "end": "1531600"
  },
  {
    "text": "right yeah so I would like in Cupidon kubernetes you can basically just delete",
    "start": "1531600",
    "end": "1536730"
  },
  {
    "text": "it delete so something like keep CTO delete and we can do delete the pod but",
    "start": "1536730",
    "end": "1541770"
  },
  {
    "text": "what our second Robert if I delete apart right now companies walk in without this container instance and we started another one for me let's assume this is",
    "start": "1541770",
    "end": "1548610"
  },
  {
    "text": "the the reason I mean I'm not going to see the issue now but what if it happens again tomorrow we do the same thing it",
    "start": "1548610",
    "end": "1555390"
  },
  {
    "text": "delayed again yeah what about next week well if it if it's",
    "start": "1555390",
    "end": "1560550"
  },
  {
    "text": "so regular then the the only solution that I can think of is setting up a cron job and do that like a deal with oh wow",
    "start": "1560550",
    "end": "1572940"
  },
  {
    "text": "how many people here have a cron job that deletes your application seriously are you the same people who diva I",
    "start": "1572940",
    "end": "1581179"
  },
  {
    "text": "remember you do that too right now have a cron job I remember I saw that earlier",
    "start": "1585350",
    "end": "1591690"
  },
  {
    "text": "know how my second New York what a record for the record what is that file",
    "start": "1591690",
    "end": "1596730"
  },
  {
    "text": "cron job demo for the record you can actually have a cron job in companies but you should not",
    "start": "1596730",
    "end": "1602820"
  },
  {
    "text": "be using it to delete your pod every week for the record I say just don't why",
    "start": "1602820",
    "end": "1611100"
  },
  {
    "text": "don't you want to do that because if you delete the party it happens over and over again you never really find the root cause of the issue right we really",
    "start": "1611100",
    "end": "1617850"
  },
  {
    "text": "don't want to cross your eyes do you basically bury the evidence for your crime with it and so we actually want to",
    "start": "1617850",
    "end": "1626460"
  },
  {
    "text": "investigate so there's actually really cool tool included.this what you can do is like we know like there is one part or maybe two",
    "start": "1626460",
    "end": "1632580"
  },
  {
    "text": "parts or a rope and we don't want to have these parts anymore serving traffic to the to the outside world so what we",
    "start": "1632580",
    "end": "1640560"
  },
  {
    "text": "can actually do we can see here we have our service siamo and that defines like like in the spec has basically a",
    "start": "1640560",
    "end": "1647700"
  },
  {
    "text": "selector so these are the labels that we attach to our deployment and we say in our service like okay the service",
    "start": "1647700",
    "end": "1654510"
  },
  {
    "text": "matches all the parts that have the labels hello world UI and serving through now if that doesn't hundred",
    "start": "1654510",
    "end": "1660390"
  },
  {
    "text": "percent match anymore then the service will not route traffic anymore to our BOTS so we can use this to look at our",
    "start": "1660390",
    "end": "1667650"
  },
  {
    "text": "parts which have right now at the serving label yeah so here I you see the command line here so I want to see all",
    "start": "1667650",
    "end": "1673470"
  },
  {
    "text": "the serving label that's being set so my hollow were you guys all have the serving labels of true that means every",
    "start": "1673470",
    "end": "1678990"
  },
  {
    "text": "one of these back in my potentially be getting one of these requests and returning this issue if I actually",
    "start": "1678990",
    "end": "1684420"
  },
  {
    "text": "suspect one of these instances is going rogue and really want to like isolate it",
    "start": "1684420",
    "end": "1689910"
  },
  {
    "text": "and prevent it from serving traffic this is what I can do I can also whoa what",
    "start": "1689910",
    "end": "1695070"
  },
  {
    "text": "just happened oh oh this is yep this is what I can do I can use the command line here is to go",
    "start": "1695070",
    "end": "1700170"
  },
  {
    "text": "cube CTO label I can label the pot basically I can update the label to what I want it to be so for example if I",
    "start": "1700170",
    "end": "1706620"
  },
  {
    "text": "suspect one of these instances having issues I can set the label serving to",
    "start": "1706620",
    "end": "1711990"
  },
  {
    "text": "false instead I can override it and this is now effectively taking out of my",
    "start": "1711990",
    "end": "1717180"
  },
  {
    "text": "service so I cannot get to this via my load balancer anymore so if i zoom in a little bit here I can see now",
    "start": "1717180",
    "end": "1723030"
  },
  {
    "text": "effectively this particular instance has the label of false so nothing will get there right and you see also like we",
    "start": "1723030",
    "end": "1728940"
  },
  {
    "text": "have one line which where we have a pod which is only or seconds old and the reason for this is like in in communities you have a",
    "start": "1728940",
    "end": "1735580"
  },
  {
    "text": "deployment where we said like we want to have 10 serving replicas for that deployment since we took out one of the",
    "start": "1735580",
    "end": "1741700"
  },
  {
    "text": "pots from that deployment the deployment raises it says like oh now I have only nine serving pots for this deployment so",
    "start": "1741700",
    "end": "1749440"
  },
  {
    "text": "I have to start a new one so it starts a new one and we can see we now have 10 yea serving and one which we took out of",
    "start": "1749440",
    "end": "1755440"
  },
  {
    "text": "service right so now even though I took out the service my app still not working which is kind of weird but we can also",
    "start": "1755440",
    "end": "1761919"
  },
  {
    "text": "now we have this particular instance isolated it's not no one else is getting",
    "start": "1761919",
    "end": "1766960"
  },
  {
    "text": "here so what we can do is to send request to this specific instance to kind of see what is going on okay and",
    "start": "1766960",
    "end": "1773559"
  },
  {
    "text": "the way that we can do is by using something that's beautiful manatees which is by pour forward so we can pull",
    "start": "1773559",
    "end": "1779110"
  },
  {
    "text": "forward traffic pull forward forward yeah oh I can smell I can do math and",
    "start": "1779110",
    "end": "1784630"
  },
  {
    "text": "cannot spell today I'm gonna pull forward directly into the pot I'm going to bind it to my local host and one by",
    "start": "1784630",
    "end": "1791140"
  },
  {
    "text": "my local host 8080 I'm going to put forward via a secure tunnel into the company's the cluster into that specific",
    "start": "1791140",
    "end": "1798789"
  },
  {
    "text": "part on that part port 8080 and now yeah the yeah now if I go to the localhost",
    "start": "1798789",
    "end": "1805750"
  },
  {
    "text": "8080 this will only send to the traffic to that specific instance right it's",
    "start": "1805750",
    "end": "1810970"
  },
  {
    "text": "it's one command just imagine you would have to pipe and set up all this yourself to like a pod which is running",
    "start": "1810970",
    "end": "1816700"
  },
  {
    "text": "in one machine somewhere you don't really even know one command and we pipe directly to this point yeah and",
    "start": "1816700",
    "end": "1822010"
  },
  {
    "text": "apparently this instance works hello yeah right okay that's a that's the one",
    "start": "1822010",
    "end": "1829059"
  },
  {
    "text": "I think that doesn't work but now by through this isolation mechanism well we can validate our assumptions and maybe",
    "start": "1829059",
    "end": "1836590"
  },
  {
    "text": "that's not the issue if you kill your parts and restart it and maybe you'll never figure this out right so okay so",
    "start": "1836590",
    "end": "1842799"
  },
  {
    "text": "this actually works alright so we basically we have our part that pod",
    "start": "1842799",
    "end": "1848110"
  },
  {
    "text": "works our application doesn't work we figure out in the beginning we have a micro service application so there's",
    "start": "1848110",
    "end": "1855370"
  },
  {
    "text": "probably a lot of things going on yeah right but but before we move on should which really do with this part all right",
    "start": "1855370",
    "end": "1861510"
  },
  {
    "text": "well we can just put it back right it works we verified it works yes so here we have two options",
    "start": "1861510",
    "end": "1866780"
  },
  {
    "text": "you can either just delete this part for real now now we kind of figure out what's wrong with it",
    "start": "1866780",
    "end": "1872240"
  },
  {
    "text": "oh one more thing is that in addition to pull forward you can also exact into it so you can do something like exact TI",
    "start": "1872240",
    "end": "1878270"
  },
  {
    "text": "and rather than you know installation the Machine figure out where they are at you can just exactly into this container",
    "start": "1878270",
    "end": "1884090"
  },
  {
    "text": "directly and all of sudden now you're inside of this pod and you can see what is actually running you can see if you",
    "start": "1884090",
    "end": "1890210"
  },
  {
    "text": "have hopefully you don't have locks right but if you do have something written to the disk you can take a look at it or if you want to do a threat dump",
    "start": "1890210",
    "end": "1896750"
  },
  {
    "text": "you can do a kill three you've got just that you can do the debugging this way so you can do a lot more once you're in",
    "start": "1896750",
    "end": "1902240"
  },
  {
    "text": "the shell of this instance so one word of caution I went to a company and showed that there and somebody from like",
    "start": "1902240",
    "end": "1909080"
  },
  {
    "text": "the architects came up or deviltry came up afterwards it's like you should have",
    "start": "1909080",
    "end": "1914570"
  },
  {
    "text": "never showed that please please please don't use that in production to make any",
    "start": "1914570",
    "end": "1919940"
  },
  {
    "text": "changes to your pot you're never gonna find what's happening alright so this is really just for inspection to like see",
    "start": "1919940",
    "end": "1927020"
  },
  {
    "text": "what's happening but please please please don't use it to make any changes to your pot pots right and now we kind",
    "start": "1927020",
    "end": "1933230"
  },
  {
    "text": "of figure out what is going on this thing is perfectly fine now we have the option to pull it back into service or I",
    "start": "1933230",
    "end": "1939679"
  },
  {
    "text": "can simply delete it if ideally they would just be gone but if I want to put it back in the service it's not actually guaranteed that's going to happen so for",
    "start": "1939679",
    "end": "1946970"
  },
  {
    "text": "example if I do the serving I can actually put the serving flag in code to true okay and if I do the locks if I get past",
    "start": "1946970",
    "end": "1955460"
  },
  {
    "text": "again what am I going to see is wait a second I had ten instances and one of",
    "start": "1955460",
    "end": "1961250"
  },
  {
    "text": "them was false and now I set it back to true and now I still have ten instances",
    "start": "1961250",
    "end": "1966260"
  },
  {
    "text": "what happened right so like now basically what happened is like the deployment sees that now I have it'll",
    "start": "1966260",
    "end": "1972200"
  },
  {
    "text": "suddenly eleven instance eleven pots running but it only needs ten so it has",
    "start": "1972200",
    "end": "1977720"
  },
  {
    "text": "to figure out to basically stop one of the pots so usually what it does it looks it's like do I have any non ready",
    "start": "1977720",
    "end": "1984050"
  },
  {
    "text": "unhealthy pots that I can stop and if they all already and healthy basically",
    "start": "1984050",
    "end": "1989390"
  },
  {
    "text": "looks at like what is the one that has the lowest run time and then stops that one yeah so so we can see that",
    "start": "1989390",
    "end": "1995660"
  },
  {
    "text": "effectively removed one of the instances for me maintains the fact that I have ten instances together okay",
    "start": "1995660",
    "end": "2001989"
  },
  {
    "text": "so we check a lot of things so far we we make sure that they are at the same application or one thing with you know I",
    "start": "2001989",
    "end": "2008289"
  },
  {
    "text": "see is what was actually inside the container right yeah but but we can we",
    "start": "2008289",
    "end": "2013690"
  },
  {
    "text": "can like if we want to you we can grab that hash we can go to artifactory I can do a search I can figure out what",
    "start": "2013690",
    "end": "2019479"
  },
  {
    "text": "version the latest actually means I can go so go inside of that container and figure out what is actually running",
    "start": "2019479",
    "end": "2025119"
  },
  {
    "text": "inside of this container what version of the jar file I'm using right we can do all of that within artifactory as well",
    "start": "2025119",
    "end": "2030669"
  },
  {
    "text": "but given that we may have done already we are pretty sure that everything is working you know our pots just this",
    "start": "2030669",
    "end": "2038619"
  },
  {
    "text": "still now working Robert Young so the local pots like the ones that we isolated they work right but the entire",
    "start": "2038619",
    "end": "2045339"
  },
  {
    "text": "application doesn't so we need to like we want to find out like you said anything like on a connection basis that",
    "start": "2045339",
    "end": "2050799"
  },
  {
    "text": "is going wrong right like we want to get a little bit more insight into like are the parts Archie and the service is",
    "start": "2050799",
    "end": "2056829"
  },
  {
    "text": "talking to each other so that's where we can actually go back to our beautiful application here yeah so so in here",
    "start": "2056829",
    "end": "2064179"
  },
  {
    "text": "Robert like because it is a complicated architecture you kind of never know who is actually making the call right yeah",
    "start": "2064179",
    "end": "2070419"
  },
  {
    "text": "like who is actually calling my servers but luckily enough I have my documentation here this is the UI that",
    "start": "2070419",
    "end": "2076599"
  },
  {
    "text": "will give you almost real-time stats so here we had two instances now we have ten I can see very clearly that the",
    "start": "2076599",
    "end": "2082690"
  },
  {
    "text": "lines are drawn like my hello or service UI is actually talking to my sequel or to hollower service and to my Redis and",
    "start": "2082690",
    "end": "2089919"
  },
  {
    "text": "stuff like that so let me go from there and it looks like you did that in Visio and you just update your resume this",
    "start": "2089919",
    "end": "2096490"
  },
  {
    "text": "this is totally not be zero this this is real-time this near real-time right I mean okay I saw that",
    "start": "2096490",
    "end": "2101920"
  },
  {
    "text": "the ports are updating so I give like that but like all the other lines what about the other lines this line well so",
    "start": "2101920",
    "end": "2108220"
  },
  {
    "text": "here's the trick unfortunately you can't me Robert so for example these lines are actually hard-coded I have to say so",
    "start": "2108220",
    "end": "2115029"
  },
  {
    "text": "what happened in this visualization tool is that I hard-coded the fact that my app is talking to these other services",
    "start": "2115029",
    "end": "2122230"
  },
  {
    "text": "so how would you actually know this is real now in a typical situation how many",
    "start": "2122230",
    "end": "2127480"
  },
  {
    "text": "of you actually had this happen to you you are trying to troubleshoot something in a complicated architecture and you go off to a documentation and",
    "start": "2127480",
    "end": "2133900"
  },
  {
    "text": "then maybe two hours later somebody taps on your shoulder and say yeah that doesn't happen anymore right like that",
    "start": "2133900",
    "end": "2140410"
  },
  {
    "text": "documentation is outdated right especially the ones that deploys the right reproduction I'm sorry but",
    "start": "2140410",
    "end": "2146670"
  },
  {
    "text": "documentation is stepping you up today yeah you are who here like keeps the documentation who of the developers here",
    "start": "2146670",
    "end": "2152410"
  },
  {
    "text": "keeps documentation of the data always you're an exception you're amazing right",
    "start": "2152410",
    "end": "2157540"
  },
  {
    "text": "like usually usually documentation is outdated the moment you write it yeah so",
    "start": "2157540",
    "end": "2162760"
  },
  {
    "text": "so we want to get some little bit more real-time insights exactly so there are a few tools that we can use right a one",
    "start": "2162760",
    "end": "2168910"
  },
  {
    "text": "of them is pretty cool it's called we for with scope this is a little plugin you can component you can add into your",
    "start": "2168910",
    "end": "2174390"
  },
  {
    "text": "cluster and what that allows you to do is to actually see some of the real-time connection information that the",
    "start": "2174390",
    "end": "2181210"
  },
  {
    "text": "application is that is establishing right so for example here I can zoom in a little bit I can see all of the",
    "start": "2181210",
    "end": "2186340"
  },
  {
    "text": "different services I have I can see how our UI talks to the debugger okay that's kind of cool and check this out if I",
    "start": "2186340",
    "end": "2193030"
  },
  {
    "text": "want to pull this out and if I want to do a quick refresh and we should be able to see the connection being established",
    "start": "2193030",
    "end": "2199270"
  },
  {
    "text": "and we should be able to see a new line being drawn and did you see that right so we can pretty much sure be sure that",
    "start": "2199270",
    "end": "2205300"
  },
  {
    "text": "the the network connections are going through and you know there's nothing happening in my infrastructure that's",
    "start": "2205300",
    "end": "2210580"
  },
  {
    "text": "causing something fishy all right so this is cool like we see like TCP connections basically going on services",
    "start": "2210580",
    "end": "2218170"
  },
  {
    "text": "talking to each other but we really don't know on a request level like who",
    "start": "2218170",
    "end": "2223360"
  },
  {
    "text": "like what service is talking to which service based on a request level so we we want to actually get a little bit",
    "start": "2223360",
    "end": "2228850"
  },
  {
    "text": "more inside even on on the request level to see like what is going on right and to do that what we need to do is what we",
    "start": "2228850",
    "end": "2236710"
  },
  {
    "text": "coat these should be retracing right and actually you should be tracing is not you and remember even when consulting I",
    "start": "2236710",
    "end": "2242680"
  },
  {
    "text": "was in this service-oriented architecture deployment and the first thing that my manager from a consulting told me to do",
    "start": "2242680",
    "end": "2249340"
  },
  {
    "text": "was to make sure that I have ID that's unique per request and then I propagate",
    "start": "2249340",
    "end": "2254770"
  },
  {
    "text": "this ID downstream to the other services I'm calling and this was many many years ago I'm like well should I be doing this",
    "start": "2254770",
    "end": "2261250"
  },
  {
    "text": "well so he gave me two answers number one is well what if one of the services had the issue how would you know which one actually",
    "start": "2261250",
    "end": "2267369"
  },
  {
    "text": "broke right so having a single correlation ID I can kind of figure that out right Oh what just happened oh no",
    "start": "2267369",
    "end": "2274209"
  },
  {
    "text": "all right and and that is actually amazing to have but I guess as you can tell from the description how ray was",
    "start": "2274209",
    "end": "2280839"
  },
  {
    "text": "talking about this experience it was basically a thing at the organisation where they set up a policy which",
    "start": "2280839",
    "end": "2286599"
  },
  {
    "text": "everybody had to follow you had to basically decide like who is the one who generating that ID so that you don't",
    "start": "2286599",
    "end": "2292569"
  },
  {
    "text": "have like multiple service generating individual IDs and then you have for one request multiple IDs and you have to",
    "start": "2292569",
    "end": "2297910"
  },
  {
    "text": "figure out how they belong to each other so we have advanced in that like way like a lot nowadays like you have a lot",
    "start": "2297910",
    "end": "2303999"
  },
  {
    "text": "of libraries that you can just tag on to your application and that application basically that library takes care of all",
    "start": "2303999",
    "end": "2310809"
  },
  {
    "text": "the metadata for you it adds all the like IDs and and all the things for you yeah and so for example if you're using",
    "start": "2310809",
    "end": "2317410"
  },
  {
    "text": "spring and spring bootie can use spring cloud smooth otherwise you can use brave and stuff like that or you can also",
    "start": "2317410",
    "end": "2323380"
  },
  {
    "text": "deploy your stuff into East EO in case if you propagate the right headers we can automatically propagate the traces",
    "start": "2323380",
    "end": "2330130"
  },
  {
    "text": "for you to store them and collect them now this is what ultimately you're going to get if you're on Prime you're",
    "start": "2330130",
    "end": "2335559"
  },
  {
    "text": "probably using something like Zipkin or Jager on the cloud you can do and you can use one of our services which is",
    "start": "2335559",
    "end": "2341709"
  },
  {
    "text": "called start over trace the results going to be the same what you really want to be able to see is what happened",
    "start": "2341709",
    "end": "2347140"
  },
  {
    "text": "in this call who is actually being slowed or is there anything that's broken now I have many many traces here",
    "start": "2347140",
    "end": "2353259"
  },
  {
    "text": "so every one of these thought is the trace that came through from my system and I need a way to kind of navigate this a little bit right so we want to",
    "start": "2353259",
    "end": "2359739"
  },
  {
    "text": "filter down right so here we can actually filter down on the ad HTTP status that we have so we can filled out on the 500 that we were seeing we can",
    "start": "2359739",
    "end": "2366519"
  },
  {
    "text": "click on one and then you see literally like a waterfall of what is happening in terms of the requests which service is",
    "start": "2366519",
    "end": "2372670"
  },
  {
    "text": "really calling which and where is any issues yes so here we have the the UI that's calling the holo war service and",
    "start": "2372670",
    "end": "2379479"
  },
  {
    "text": "for this particular thing we can see that this is in fact a lower service and I can drill in a little bit and invite",
    "start": "2379479",
    "end": "2385299"
  },
  {
    "text": "drilled into the end check this out this response time is really really fast for some reason and we can actually find",
    "start": "2385299",
    "end": "2390729"
  },
  {
    "text": "that the status code is actually 4 or 4 so this 4 4 code was you know it's cascading upwards to the actual UI and",
    "start": "2390729",
    "end": "2398529"
  },
  {
    "text": "this is what caused my 500 in the first place so in many cases having somehow these traces is",
    "start": "2398529",
    "end": "2405339"
  },
  {
    "text": "going to be very helpful in terms of finding out where in the chain of the coal actually broke right so we now know",
    "start": "2405339",
    "end": "2412450"
  },
  {
    "text": "that it's like broke down there but we don't know what costed right so you want to get a little bit more insight like",
    "start": "2412450",
    "end": "2417849"
  },
  {
    "text": "how do we find out what actually costs that for for right so so for that we",
    "start": "2417849",
    "end": "2422859"
  },
  {
    "text": "actually need to know the parameters that you're actually being sent in now you I mean either put the parameters in",
    "start": "2422859",
    "end": "2428980"
  },
  {
    "text": "one of these annotations so you can store that with the trace or if you forgot to do that I don't really want to",
    "start": "2428980",
    "end": "2436089"
  },
  {
    "text": "do that always because you have to also be careful with PII and things like yeah so but yeah I mean like what would you",
    "start": "2436089",
    "end": "2443319"
  },
  {
    "text": "do if you need more information from your app and your log does have doesn't",
    "start": "2443319",
    "end": "2449140"
  },
  {
    "text": "have those messages right now what would you do next we would add some logs right some log messages so like who here in the",
    "start": "2449140",
    "end": "2455680"
  },
  {
    "text": "audience can deploy within an hour to production yeah Wow yes like really",
    "start": "2455680",
    "end": "2461770"
  },
  {
    "text": "close native crowd here yeah that's awesome",
    "start": "2461770",
    "end": "2465390"
  },
  {
    "text": "microservices that's very good yeah all",
    "start": "2467430",
    "end": "2475030"
  },
  {
    "text": "right that is impressive to say like but there are some folks out there that ledin need more than an hour week maybe",
    "start": "2475030",
    "end": "2481540"
  },
  {
    "text": "like a day or week right so but even within an hour what you still have to do is that you want to make sure you check",
    "start": "2481540",
    "end": "2487089"
  },
  {
    "text": "out the revision that actually is in production and then you do a hot patch into that to add additional log messages",
    "start": "2487089",
    "end": "2493960"
  },
  {
    "text": "that somebody would have to them approve and then push that into production right in order for you to get funding out more",
    "start": "2493960",
    "end": "2499180"
  },
  {
    "text": "information and that whole cycle can be tedious and if you cannot do this within an hour maybe the issue went away maybe",
    "start": "2499180",
    "end": "2505960"
  },
  {
    "text": "a lot of people are angry already and you just don't know what's going on right so you want to have something",
    "start": "2505960",
    "end": "2511150"
  },
  {
    "text": "actually like which gives you the possibility to do that a little bit more interactive a little bit more quicker",
    "start": "2511150",
    "end": "2517329"
  },
  {
    "text": "yeah and we actually have something where you can add lock messages on your",
    "start": "2517329",
    "end": "2522670"
  },
  {
    "text": "protection application so we can go in till Vanek driver the battery given the right permission this is what you can do",
    "start": "2522670",
    "end": "2528700"
  },
  {
    "text": "given that you are in a pinch you are out of all of your options and you just really want to at lock message given that you have the",
    "start": "2528700",
    "end": "2535600"
  },
  {
    "text": "permission to do it you can actually do it so every one of my application right now is running with an agent behind the",
    "start": "2535600",
    "end": "2541780"
  },
  {
    "text": "scenes is JVM agent and this Adrienne's hook up to our debugger right now and",
    "start": "2541780",
    "end": "2546820"
  },
  {
    "text": "this allows us to do two different things the first one is that we can actually add log messages so so we we",
    "start": "2546820",
    "end": "2553960"
  },
  {
    "text": "have three different services here we can see how about you i Holloway service and so on and so forth I can click on any one of them and what",
    "start": "2553960",
    "end": "2560560"
  },
  {
    "text": "happened behind the scenes is that I encoded the github repository and the git commit hash into my jar file so that",
    "start": "2560560",
    "end": "2568210"
  },
  {
    "text": "the debugger agent can actually infer and so when I connect to this console",
    "start": "2568210",
    "end": "2573340"
  },
  {
    "text": "you will automatically download and pull down the right revision of my code this is really cool now if you don't have",
    "start": "2573340",
    "end": "2578800"
  },
  {
    "text": "access to that then what you can do is you just upload the right vision yourself okay or you can do this from",
    "start": "2578800",
    "end": "2584170"
  },
  {
    "text": "the IDE directly right so now we have all of the code available to us let's go ahead and find logs now rubber how do",
    "start": "2584170",
    "end": "2590980"
  },
  {
    "text": "you actually debug this with lock messages well I usually like I'm a big fan of like printout and logging okay",
    "start": "2590980",
    "end": "2596950"
  },
  {
    "text": "who-who else pretty awesome yeah but but it's gotta be a strategy to do this really yeah yeah but unfortunately I",
    "start": "2596950",
    "end": "2607630"
  },
  {
    "text": "cannot do alerts here but I can do pre multi buggy but there's a gotta be a strategy yeah so my strategy is usually",
    "start": "2607630",
    "end": "2612700"
  },
  {
    "text": "like binary search by the research binary search debugging how do you actually do that Robert oh you started with log message at the beginning at the",
    "start": "2612700",
    "end": "2619030"
  },
  {
    "text": "end okay so so in the beginning I'm here and then something at the end yeah",
    "start": "2619030",
    "end": "2624550"
  },
  {
    "text": "before the return okay so I'm like yes it works or a success yeah okay and then",
    "start": "2624550",
    "end": "2630730"
  },
  {
    "text": "what do you mean by binary and then you just let go Harper E and then put something in the offeree",
    "start": "2630730",
    "end": "2636070"
  },
  {
    "text": "I see so if it doesn't get to the bottom that means it must be somewhere in the middle so you ask something in the",
    "start": "2636070",
    "end": "2641650"
  },
  {
    "text": "middle like right here yeah right yeah actually have the name like so maybe you can yeah I'm gonna say maybe",
    "start": "2641650",
    "end": "2649090"
  },
  {
    "text": "it work here right and I'm gonna say the name is I'm going to use the expression",
    "start": "2649090",
    "end": "2654940"
  },
  {
    "text": "here to put the top winner of the name now just like that every time I'm adding a lot message again provider you have",
    "start": "2654940",
    "end": "2660880"
  },
  {
    "text": "the permission to do it every time that I go through this line of code the log message will be printed as",
    "start": "2660880",
    "end": "2667450"
  },
  {
    "text": "well so this is really really useful if you are absolutely in a pinch you really have to figure this out this is why you",
    "start": "2667450",
    "end": "2673450"
  },
  {
    "text": "can do so how do you actually find the log well you can go to the logging council of course we can go to you know",
    "start": "2673450",
    "end": "2680080"
  },
  {
    "text": "to your centralized logger it doesn't matter which one you're using and if I scroll down a little bit I should be",
    "start": "2680080",
    "end": "2685510"
  },
  {
    "text": "able to see right here what is this log pointer I'm here alright that's pretty cool and where's the second entry here",
    "start": "2685510",
    "end": "2693060"
  },
  {
    "text": "maybe Bork here the name is empty empty so user error",
    "start": "2693060",
    "end": "2698200"
  },
  {
    "text": "yeah so somebody didn't put in the username I wonder will nowadays yeah",
    "start": "2698200",
    "end": "2703750"
  },
  {
    "text": "interesting who brought the demo for the whole hour okay so that's pretty cool so you can actually figure out what",
    "start": "2703750",
    "end": "2709660"
  },
  {
    "text": "people actually entered if you're in pinch right again if you have the permission to do so",
    "start": "2709660",
    "end": "2715300"
  },
  {
    "text": "but we can do better yeah we can one step more yeah right so so for example",
    "start": "2715300",
    "end": "2721000"
  },
  {
    "text": "how many people be here we're kind of like sometimes you want to attach a production debugger into your production app to see what's going on yeah yeah you",
    "start": "2721000",
    "end": "2729940"
  },
  {
    "text": "kind of want to do it but nobody want to do it why don't you why can't you do it well why can't you do it why can't you",
    "start": "2729940",
    "end": "2735940"
  },
  {
    "text": "do it well every time if you enter a breakpoint and when somebody steps you know come through the code what's gonna",
    "start": "2735940",
    "end": "2742000"
  },
  {
    "text": "happen well it stops it sends me a notification I go to my laptop and step",
    "start": "2742000",
    "end": "2747190"
  },
  {
    "text": "them through stepping through I how long does that take so the user will see an empty page until you step through the",
    "start": "2747190",
    "end": "2753940"
  },
  {
    "text": "code sounds like job security so every time there's a high latency they'll call you",
    "start": "2753940",
    "end": "2759490"
  },
  {
    "text": "up and you'll step through the code increase the latency and that's how you keep your job that's awesome robbery maybe maybe not the best so we can do",
    "start": "2759490",
    "end": "2765880"
  },
  {
    "text": "better so at Google we actually use the same debugging agent in our production environment we can actually take",
    "start": "2765880",
    "end": "2771580"
  },
  {
    "text": "something that's called a snapshot so rather than stopping the world we can take a snapshot of your running instance",
    "start": "2771580",
    "end": "2777430"
  },
  {
    "text": "with the exact state that actually went through without stopping the world and now you can actually have a really good",
    "start": "2777430",
    "end": "2783580"
  },
  {
    "text": "visibility into what's going on so for example if I go to the holo Wars service code here and want to take a snapshot of",
    "start": "2783580",
    "end": "2790210"
  },
  {
    "text": "what's actually being sent for my rest template and when I see the endpoint in the name I can print it out or I can",
    "start": "2790210",
    "end": "2797380"
  },
  {
    "text": "take a snapshot like that and I can go back to my application I can do a refresher now",
    "start": "2797380",
    "end": "2802780"
  },
  {
    "text": "watch very carefully do you see that it just took a snapshot and I can see the",
    "start": "2802780",
    "end": "2808330"
  },
  {
    "text": "variable that's in scope which is name and I can see the coast tag of what happened in my application now I cannot",
    "start": "2808330",
    "end": "2815020"
  },
  {
    "text": "step through it but if I want to see multiple snapshots I can just add multiple snapshots like that and then I",
    "start": "2815020",
    "end": "2822760"
  },
  {
    "text": "can go ahead and do the refresh and I can take a snapshot at every single one of these moment in time which is really",
    "start": "2822760",
    "end": "2829090"
  },
  {
    "text": "really useful in some cases okay yeah all right very cool so so we stopped",
    "start": "2829090",
    "end": "2836410"
  },
  {
    "text": "finished the fact that it was a user arrow and I can tell you why this is actually happening and why when I went",
    "start": "2836410",
    "end": "2841570"
  },
  {
    "text": "into the incognito window actually works now unfortunately this is this was a real bug that we discovered during one",
    "start": "2841570",
    "end": "2848770"
  },
  {
    "text": "of the presentations and unfortunately we didn't get to fix it during that presentation what we did is to go back",
    "start": "2848770",
    "end": "2855460"
  },
  {
    "text": "and say what's going on and the reason this is happening is because in the user name field",
    "start": "2855460",
    "end": "2860680"
  },
  {
    "text": "I entered empty and because I have session I have session that's being stored and half empty session the whole",
    "start": "2860680",
    "end": "2867490"
  },
  {
    "text": "time that has an empty user name and my hello was serviced in out like that and this is why the arrow actually",
    "start": "2867490",
    "end": "2872920"
  },
  {
    "text": "propagated upwards to our application now we're not have being able to debug it actually for myself afterwards",
    "start": "2872920",
    "end": "2879880"
  },
  {
    "text": "without using some of these techniques actually okay so let's go yeah now we",
    "start": "2879880",
    "end": "2885760"
  },
  {
    "text": "can start at the talk now we fixed it today let me fix this app if I start a new incoming the window I should be able",
    "start": "2885760",
    "end": "2891820"
  },
  {
    "text": "to see everything working right and this is what we have done earlier so if I go here and we can see this everything is",
    "start": "2891820",
    "end": "2898450"
  },
  {
    "text": "actually working with it we don't forget self now have a new session right so what did we went through what did they learn in this session right so first and",
    "start": "2898450",
    "end": "2905140"
  },
  {
    "text": "foremost collect logs send them to standard out in kubernetes you basically",
    "start": "2905140",
    "end": "2910420"
  },
  {
    "text": "have lock collectors that either sent them to your Alex tech or in our case to to stackdriver where you can search",
    "start": "2910420",
    "end": "2917200"
  },
  {
    "text": "through these logs where you can export them to for instance a big query to do more education and analysis of this yeah",
    "start": "2917200",
    "end": "2924670"
  },
  {
    "text": "and what for service for service cause it could be useful not only if you have",
    "start": "2924670",
    "end": "2930070"
  },
  {
    "text": "monitoring tools like so we can collect some metrics from Prometheus or something else that typical useful if you need to know like",
    "start": "2930070",
    "end": "2936640"
  },
  {
    "text": "percentage you have favored your race and stuff like that but if you want to know like a request level what actually",
    "start": "2936640",
    "end": "2942040"
  },
  {
    "text": "is going through of what is actually causing a lot of issues YouTube sample your traces typically in production",
    "start": "2942040",
    "end": "2947740"
  },
  {
    "text": "environment you don't simple everything just because you have space and time to store every single trace so you probably take a percentage or a probability of",
    "start": "2947740",
    "end": "2954730"
  },
  {
    "text": "that in our demo we sampled hundred percent and we can actually go back to a single trace and see what actually",
    "start": "2954730",
    "end": "2960550"
  },
  {
    "text": "happened in between yeah and last but not least debugging like there are a lot of tools out there",
    "start": "2960550",
    "end": "2966010"
  },
  {
    "text": "in our case also again with the integration into stacked or debugging you have the possibility to add life log",
    "start": "2966010",
    "end": "2973120"
  },
  {
    "text": "messages through your application in production and even one step further you can take snapshots of what is running in",
    "start": "2973120",
    "end": "2979660"
  },
  {
    "text": "your application and see what is the cost AG what are the variables that are said at that moment in time yeah and",
    "start": "2979660",
    "end": "2985810"
  },
  {
    "text": "finally if you want to have a hilt of view of your entire cluster what you should also have is a monitoring tool",
    "start": "2985810",
    "end": "2992410"
  },
  {
    "text": "for the entire company's cluster now of course there are many many tools out there sniper also has that as well so this is",
    "start": "2992410",
    "end": "2998830"
  },
  {
    "text": "a you know pretty much a full suite if you are running on Google cloud while otherwise you can find the comparable",
    "start": "2998830",
    "end": "3004080"
  },
  {
    "text": "open source projects to help you debug and troubleshoot your services within your own deployment as well and with",
    "start": "3004080",
    "end": "3010470"
  },
  {
    "text": "that I think our time is up so thank you so much for being here thank you and yeah thanks for having us here",
    "start": "3010470",
    "end": "3016140"
  },
  {
    "text": "and thank you for roof yeah thank you [Applause]",
    "start": "3016140",
    "end": "3023630"
  }
]