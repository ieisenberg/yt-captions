[
  {
    "start": "0",
    "end": "51000"
  },
  {
    "text": "[Music] almost my entire career I've heard",
    "start": "6990",
    "end": "13559"
  },
  {
    "text": "people talking about event-driven architectures and event driven systems and things of that",
    "start": "13559",
    "end": "19119"
  },
  {
    "text": "kind and it's always been a little bit odd as to what what actually do people mean by that because when I dig a bit",
    "start": "19119",
    "end": "27080"
  },
  {
    "text": "further it seems that there are various different things going on there is some kind of common theme",
    "start": "27080",
    "end": "34079"
  },
  {
    "text": "events are or something called an event is an important part of what's going on",
    "start": "34079",
    "end": "40120"
  },
  {
    "text": "but actually what it boils down to in terms of something more",
    "start": "40120",
    "end": "46360"
  },
  {
    "text": "meaningful that's much more open-ended and for a long time that's",
    "start": "46360",
    "end": "52320"
  },
  {
    "start": "51000",
    "end": "165000"
  },
  {
    "text": "just been ticking around in the background um and I have at various",
    "start": "52320",
    "end": "57399"
  },
  {
    "text": "points in my career sort of thought I want to really dig further into this and I kind of never really got round to it cuz I dug into other things",
    "start": "57399",
    "end": "64320"
  },
  {
    "text": "instead but it really kind of came to a head late last",
    "start": "64320",
    "end": "70040"
  },
  {
    "text": "year um at Fort Works we've been doing quite a lot of event-driven stuff and various people came to roughly",
    "start": "70040",
    "end": "78040"
  },
  {
    "text": "the same conclusion as me saying we've been doing all of this stuff called event driven we're not really quite sure it's the same and we're doing it at all",
    "start": "78040",
    "end": "85040"
  },
  {
    "text": "these different project teams around the world because there's a several thousand people now at forw works and lots of",
    "start": "85040",
    "end": "90680"
  },
  {
    "text": "different projects we need to get together and learn from each other so we organized a workshop in Denver it was",
    "start": "90680",
    "end": "98000"
  },
  {
    "text": "yes Denver um late last year and a whole bunch of people got together and very quickly it became apparent that yes",
    "start": "98000",
    "end": "104159"
  },
  {
    "text": "there were some very distinctly different things going in under the title of event driven",
    "start": "104159",
    "end": "110520"
  },
  {
    "text": "and we need to try and figure that out a little bit better and as a result of that I think",
    "start": "110520",
    "end": "117960"
  },
  {
    "text": "we came to a bit of an understanding of some common patterns that help provide a bit more Precision into what we're",
    "start": "117960",
    "end": "124079"
  },
  {
    "text": "talking about and so we thought that's important that we describe this and say a bit more",
    "start": "124079",
    "end": "131280"
  },
  {
    "text": "to the rest of the world about some of our thoughts and I hope really hard that somebody else would write it up nobody",
    "start": "131280",
    "end": "137239"
  },
  {
    "text": "ever did but one of us did a little video thing just for an internal video wats it",
    "start": "137239",
    "end": "143280"
  },
  {
    "text": "and I thought oh I can't stand it anymore so I wrote a little note and stuck it up on my website not really",
    "start": "143280",
    "end": "148640"
  },
  {
    "text": "expecting it to get much track traffic and I saw it got downloaded with a huge amount of traffic so I thought well",
    "start": "148640",
    "end": "153720"
  },
  {
    "text": "actually this seems to be a common problem and that's what led me to decide",
    "start": "153720",
    "end": "158920"
  },
  {
    "text": "to inflict this talk on you this morning is because it seems to be that people are concerned about",
    "start": "158920",
    "end": "165640"
  },
  {
    "start": "165000",
    "end": "200000"
  },
  {
    "text": "this and what it boiled down to is we identified",
    "start": "165640",
    "end": "171959"
  },
  {
    "text": "four different things I would call them patterns that often come under the term",
    "start": "171959",
    "end": "177599"
  },
  {
    "text": "event driven an event driven system might you when people say they have an event driven system they usually mean",
    "start": "177599",
    "end": "184760"
  },
  {
    "text": "they've got at least one of these patterns in play and could mean they have all four",
    "start": "184760",
    "end": "190599"
  },
  {
    "text": "patterns in play and I will go through them one at a time gradually revealing what they",
    "start": "190599",
    "end": "198280"
  },
  {
    "text": "are so to begin the first one let's imagine some example system that might",
    "start": "198640",
    "end": "205159"
  },
  {
    "start": "200000",
    "end": "513000"
  },
  {
    "text": "be had by an insurance company and in this insurance system",
    "start": "205159",
    "end": "210319"
  },
  {
    "text": "we have our customers and our customers have a habit of moving around and changing their",
    "start": "210319",
    "end": "216920"
  },
  {
    "text": "address but the insurance imagine it's something like car insurance or house insurance um where changing where your",
    "start": "217640",
    "end": "225080"
  },
  {
    "text": "address actually affects your insurance quote levels and your premiums that you have to pay and everything so if",
    "start": "225080",
    "end": "231040"
  },
  {
    "text": "somebody changes their address it's not just a case of updating the address field you actually have to trigger the",
    "start": "231040",
    "end": "236720"
  },
  {
    "text": "insurance quoting system to come up with a new quote and they then got a send you some mail to say um here's your new um",
    "start": "236720",
    "end": "243760"
  },
  {
    "text": "Insurance agreement whatever whatever I don't know the details it's a long time since I'll spent any time with insurance",
    "start": "243760",
    "end": "250480"
  },
  {
    "text": "people but the point is in a kind of simple call and response kind of",
    "start": "250480",
    "end": "257199"
  },
  {
    "text": "architecture what that requires is whatever system you've got that's looking after customer management needs",
    "start": "257199",
    "end": "262600"
  },
  {
    "text": "to tell your quoting system hey go and do a requote and the problem of that is that",
    "start": "262600",
    "end": "268600"
  },
  {
    "text": "creates a dependen from the customer management system into",
    "start": "268600",
    "end": "274560"
  },
  {
    "text": "the insurance quoting system it needs to know that it's there it needs to know what apis it has etc etc",
    "start": "274560",
    "end": "280120"
  },
  {
    "text": "etc and that couples the knowledge of what how",
    "start": "280120",
    "end": "285160"
  },
  {
    "text": "Insurance quoting Works into something that's a much more generic customer management kind of feature and that's a kind of coupling",
    "start": "285160",
    "end": "292240"
  },
  {
    "text": "that a lot of people don't really like very much so one way we can get around this",
    "start": "292240",
    "end": "297720"
  },
  {
    "text": "coupling is we can say instead of doing that let's try and reverse things around I don't mind my",
    "start": "297720",
    "end": "303960"
  },
  {
    "text": "insurance quoting system knowing about my customers and that there is a customer management system there that seems a more natural dependency line to",
    "start": "303960",
    "end": "311680"
  },
  {
    "text": "follow because uh something that's very very generic managing customers generally that's the kind of thing you",
    "start": "311680",
    "end": "317840"
  },
  {
    "text": "want to depend on than have it depend on lots of other things and a way we can do this is we",
    "start": "317840",
    "end": "324360"
  },
  {
    "text": "can use an event so what happens is whenever the customer some customer data",
    "start": "324360",
    "end": "330479"
  },
  {
    "text": "changes the customer management system emits an event object to some well-known",
    "start": "330479",
    "end": "336199"
  },
  {
    "text": "Place event queue or whatever and an insurance quoting system can listen for that event and when the event occurs it",
    "start": "336199",
    "end": "342520"
  },
  {
    "text": "can decide do I want to do something about it if so what do I do and then that nicely re gives us that",
    "start": "342520",
    "end": "349360"
  },
  {
    "text": "ability to reverse the dependencies allows the insurance quoting system now has to know about this event structure",
    "start": "349360",
    "end": "356600"
  },
  {
    "text": "but the customer management system can be independent of all of this",
    "start": "356600",
    "end": "361639"
  },
  {
    "text": "and this is an approach that um we in our discussion whoops giving you a",
    "start": "361919",
    "end": "367160"
  },
  {
    "text": "slideway there in our discussion we referred to as event notification we're using events as a notification system uh",
    "start": "367160",
    "end": "376680"
  },
  {
    "text": "notification mechanism between multiple systems now of course I've described",
    "start": "376680",
    "end": "382680"
  },
  {
    "text": "that in terms of large scale systems independent relatively independent systems for a big company but we also",
    "start": "382680",
    "end": "389680"
  },
  {
    "text": "use this same pattern in a very small layer system and it's a classic of course approach of how to manage",
    "start": "389680",
    "end": "395639"
  },
  {
    "text": "interactions between graphical user interfaces and the rest of your code",
    "start": "395639",
    "end": "401240"
  },
  {
    "text": "when somebody enters information into a text box you don't want some very generic textbox widget to have to know",
    "start": "401240",
    "end": "407080"
  },
  {
    "text": "all about your code and which things to call instead you say the event the uh text box will generate an event when you",
    "start": "407080",
    "end": "413560"
  },
  {
    "text": "change it and then your code listens to the event it's the same idea and again",
    "start": "413560",
    "end": "418599"
  },
  {
    "text": "the same trick is your reversing dependencies and that's really I think the essence of why you want to do this",
    "start": "418599",
    "end": "425800"
  },
  {
    "text": "is that you want to do that reversal of dependencies now I've talked about this",
    "start": "425800",
    "end": "432360"
  },
  {
    "text": "in terms of events and I've stressed this dependency",
    "start": "432360",
    "end": "438319"
  },
  {
    "text": "switch that it does but it also does something else it bottles it sort of",
    "start": "438319",
    "end": "443879"
  },
  {
    "text": "takes everything to do with the change that the event talks about and Bottles it into a thing an object a record or",
    "start": "443879",
    "end": "451759"
  },
  {
    "text": "something of the s that you can refer to and pass around it makes the change a kind of first class thing",
    "start": "451759",
    "end": "458960"
  },
  {
    "text": "imic now when we do when we call a function that's just a very transient",
    "start": "458960",
    "end": "464840"
  },
  {
    "text": "thing we call the function Supply the arguments goes away we never know that",
    "start": "464840",
    "end": "470120"
  },
  {
    "text": "we've done it unless we got some logging and tracing going on but when we do something like this",
    "start": "470120",
    "end": "476360"
  },
  {
    "text": "what we're doing is we're actually making a record of it and then we have have a real thing that we can talk about and refer to and pass around and that",
    "start": "476360",
    "end": "483879"
  },
  {
    "text": "has its own benefits if once we can do that so we're actually getting a second",
    "start": "483879",
    "end": "489800"
  },
  {
    "text": "benefit here which is this bottling it up into a into a thing into an object or",
    "start": "489800",
    "end": "495360"
  },
  {
    "text": "I don't have to hesitate about using objects it doesn't have to be an object in an oo sense I think of it as a just",
    "start": "495360",
    "end": "501879"
  },
  {
    "text": "some kind of first class finger magig that needs to be a new technical term first class finger Magic",
    "start": "501879",
    "end": "509639"
  },
  {
    "text": "God I don't even get a giggle for that that's a shame now that's not the only way of",
    "start": "509680",
    "end": "515440"
  },
  {
    "start": "513000",
    "end": "690000"
  },
  {
    "text": "thinking about these first class finger midic often we think of them in terms of",
    "start": "515440",
    "end": "520839"
  },
  {
    "text": "commands as well and that leads to an interesting question well when do we have events and",
    "start": "520839",
    "end": "527240"
  },
  {
    "text": "when do we have commands what's the difference between an event and a command and I think it's actually it is",
    "start": "527240",
    "end": "533800"
  },
  {
    "text": "both very subtle not really anything that you can say is a strict definition and yet at",
    "start": "533800",
    "end": "539120"
  },
  {
    "text": "the same same time very important because it's about our language and our communication and how we talk about our",
    "start": "539120",
    "end": "546160"
  },
  {
    "text": "intentions about things we could describe that situation",
    "start": "546160",
    "end": "551279"
  },
  {
    "text": "I just described as the customer management system saying requote insurance for this",
    "start": "551279",
    "end": "557600"
  },
  {
    "text": "customer that's the customer management system saying it knows what ought to be done and it's telling some remote system",
    "start": "557600",
    "end": "565320"
  },
  {
    "text": "here's what you should do when I phrase it in terms of events",
    "start": "565320",
    "end": "570680"
  },
  {
    "text": "I'm saying the customer's address changed I'm not expecting any particular",
    "start": "570680",
    "end": "575720"
  },
  {
    "text": "response from that from anybody I'm just indicating a change both can be have this kind of",
    "start": "575720",
    "end": "582959"
  },
  {
    "text": "bottling it up and making it a first class finger Mig effect but the way the communication patterns differ is imp",
    "start": "582959",
    "end": "590399"
  },
  {
    "text": "strongly implied as different whether you use event naming or command naming",
    "start": "590399",
    "end": "596440"
  },
  {
    "text": "style naming so really it boils down this is one of the two hard problems in software right this is naming",
    "start": "596440",
    "end": "603279"
  },
  {
    "text": "things and therefore when you're thinking about the difference between events and commands it's really how do I",
    "start": "603279",
    "end": "611120"
  },
  {
    "text": "want to describe how this system works most accurately to the people who are reading about the system if I'm trying",
    "start": "611120",
    "end": "617399"
  },
  {
    "text": "to say I don't really care what happens as a result of this event I don't want to care then yes I want to use the word",
    "start": "617399",
    "end": "624360"
  },
  {
    "text": "event if on the other hand I am particular about I want something to happen then I want to name it in terms",
    "start": "624360",
    "end": "630680"
  },
  {
    "text": "of a command now I mean you can get all the way over way you could have your",
    "start": "630680",
    "end": "636240"
  },
  {
    "text": "insurance quoting system might ex insist on sending a communication an email to",
    "start": "636240",
    "end": "641360"
  },
  {
    "text": "the uh to the customer and natural way to do that of course will be a command",
    "start": "641360",
    "end": "646519"
  },
  {
    "text": "send an email but of course if you go too far down the Event Route you you then get this effect of passive",
    "start": "646519",
    "end": "652519"
  },
  {
    "text": "aggressive events right or passive aggressive commands where he's saying the customer needs to be sent a message",
    "start": "652519",
    "end": "658800"
  },
  {
    "text": "about their quote hint hint and you know you don't really want",
    "start": "658800",
    "end": "664160"
  },
  {
    "text": "to go down that path if you're trying to read how the system works that's going to be confusing when you get those kinds",
    "start": "664160",
    "end": "670079"
  },
  {
    "text": "of events occurring so whether you use events or commands under the covers they're basically the same thing they're",
    "start": "670079",
    "end": "676079"
  },
  {
    "text": "often messages on cues they look exactly the same the difference is all about naming but that difference is really",
    "start": "676079",
    "end": "681600"
  },
  {
    "text": "important because let's face it names in software systems are one of the most important things we have to deal with",
    "start": "681600",
    "end": "689680"
  },
  {
    "start": "690000",
    "end": "830000"
  },
  {
    "text": "so going back to our system again one of the nice benefits of using events is it",
    "start": "690880",
    "end": "696200"
  },
  {
    "text": "allows many other systems to hook up to the event stream very easily without us",
    "start": "696200",
    "end": "701560"
  },
  {
    "text": "having to tell the customer management system what's going on and this is a very nice property a nice result of",
    "start": "701560",
    "end": "707600"
  },
  {
    "text": "using events for notification here I need to hook up a new system that",
    "start": "707600",
    "end": "714000"
  },
  {
    "text": "takes advantage of CH needs to know about customer changing their addresses I don't have to go and talk to the",
    "start": "714000",
    "end": "719480"
  },
  {
    "text": "customer management team and get them to add a new not no call into their",
    "start": "719480",
    "end": "724600"
  },
  {
    "text": "interfaces and go to endless meetings with the customer management group and two months later maybe I will get them",
    "start": "724600",
    "end": "731959"
  },
  {
    "text": "to do something no I have they produced their events I just tap onto the event stream I'm cool this is a very",
    "start": "731959",
    "end": "739440"
  },
  {
    "text": "attractive ability um and it easily allows you to do all sorts of",
    "start": "739440",
    "end": "744480"
  },
  {
    "text": "interesting things without changing what's going on",
    "start": "744480",
    "end": "749760"
  },
  {
    "text": "but when anything sounds like it's really nice there's always a butt isn't",
    "start": "749959",
    "end": "755519"
  },
  {
    "text": "that and in the case of event notification that butt is now you're in",
    "start": "755519",
    "end": "761839"
  },
  {
    "text": "a situation where you've got no way you can figure out what the hell is going on in your system anymore because there's",
    "start": "761839",
    "end": "769440"
  },
  {
    "text": "no program to look at there's no statement of says these are all the things that happens when a customer",
    "start": "769440",
    "end": "775360"
  },
  {
    "text": "changes their address what you have to do the only way you can figure out what's going on is",
    "start": "775360",
    "end": "781040"
  },
  {
    "text": "you actually have to watch the address the various events and see what happens",
    "start": "781040",
    "end": "786519"
  },
  {
    "text": "looking at the flow of messages through your system to try and figure out what the hell's going on and this is true in the guey",
    "start": "786519",
    "end": "794440"
  },
  {
    "text": "case if you've ever tried to debug a heavily event driven guey kind of system",
    "start": "794440",
    "end": "800279"
  },
  {
    "text": "pretty much your only chance is to bring it up in the debugger and try and Trace the various events that are flowing",
    "start": "800279",
    "end": "807000"
  },
  {
    "text": "around I remember doing this once a trying to figure out how the original Small Talk 76 worked um because I was",
    "start": "807000",
    "end": "814279"
  },
  {
    "text": "writing some stuff about model view controller and I rapidly discovered you",
    "start": "814279",
    "end": "819720"
  },
  {
    "text": "couldn't trust any of the papers that have been written on it because they often didn't have access to the source code so I was able to get hold of a copy",
    "start": "819720",
    "end": "826399"
  },
  {
    "text": "of uh the original MVC Small Talk 76 bring it up and I could actually figure",
    "start": "826399",
    "end": "832720"
  },
  {
    "start": "830000",
    "end": "893000"
  },
  {
    "text": "out how it worked but I couldn't figure out how it worked by looking at the code I had to step through the debugger do",
    "start": "832720",
    "end": "838199"
  },
  {
    "text": "things and see what happen happened because again it was all events and that's the Dark Side of using event",
    "start": "838199",
    "end": "844279"
  },
  {
    "text": "notification you get this great decoupling you get this great flexibility being able to add new",
    "start": "844279",
    "end": "850199"
  },
  {
    "text": "consumers and you get a inability to see what's going on across the system as a whole there's no code anymore that you",
    "start": "850199",
    "end": "856880"
  },
  {
    "text": "can just look at and it's a tradeoff like so many things",
    "start": "856880",
    "end": "862800"
  },
  {
    "text": "tradeoffs so that's the first thing event notification and that I would probably",
    "start": "862800",
    "end": "868160"
  },
  {
    "text": "say is the most common that people say when they're event driven they're using an event notification mechanism um",
    "start": "868160",
    "end": "874160"
  },
  {
    "text": "somewhere which is kind of odd in a way because just about every system I've ever looked at uses event notification",
    "start": "874160",
    "end": "879519"
  },
  {
    "text": "to some extent um I guess when you call it event driven it means the event notification system is seen by at least",
    "start": "879519",
    "end": "887079"
  },
  {
    "text": "the the the senior people on the project as a particularly important part of the",
    "start": "887079",
    "end": "892639"
  },
  {
    "start": "893000",
    "end": "1251000"
  },
  {
    "text": "architecture so the second one is a minor variation on this case",
    "start": "893880",
    "end": "899959"
  },
  {
    "text": "so let's go back to a little example of the insurance company again in an event",
    "start": "899959",
    "end": "905680"
  },
  {
    "text": "notification system all you really need to know is",
    "start": "905680",
    "end": "911360"
  },
  {
    "text": "that the event occurred and that could really be very very generic it could just be saying hey something changed",
    "start": "911360",
    "end": "920480"
  },
  {
    "text": "somewhere um you probably want to give a little bit more information on the event about that so you might say h the the",
    "start": "920480",
    "end": "927440"
  },
  {
    "text": "event thing for Linda Chang something's changed about Linda's account and then all the other systems",
    "start": "927440",
    "end": "933000"
  },
  {
    "text": "go what what's happened the way they find out what's happened is they have to talk to the",
    "start": "933000",
    "end": "940480"
  },
  {
    "text": "customer management system and even if you got more precise about this you might say Linda's address",
    "start": "940480",
    "end": "946720"
  },
  {
    "text": "changed they've still typically the insurance quote system has okay so what's the new one what was the old one",
    "start": "946720",
    "end": "953319"
  },
  {
    "text": "you know has has it changed in a way that's important to me event notification often involves additional",
    "start": "953319",
    "end": "959920"
  },
  {
    "text": "traffic because the the systems that are the consumer systems still have to go back to the original source to get more",
    "start": "959920",
    "end": "966560"
  },
  {
    "text": "information and of course we reduce that burden by putting more information into the event if I just say something about",
    "start": "966560",
    "end": "974040"
  },
  {
    "text": "Linda changed then every time you have to Pile in on and it's probably half a time it's not worth it doesn't actually",
    "start": "974040",
    "end": "979839"
  },
  {
    "text": "mean anything so it was kind of a waste of time if I'm saying here's the address change then there's less traffic",
    "start": "979839",
    "end": "986639"
  },
  {
    "text": "required because I only need to go in if I can care about an address change and then I can take this to The",
    "start": "986639",
    "end": "993759"
  },
  {
    "text": "Logical um final conclusion and say can I put so much data in the events that I",
    "start": "993759",
    "end": "999639"
  },
  {
    "text": "don't natur need to go back to the host system so not just do I say Linda's address changed I say what her old",
    "start": "999639",
    "end": "1005880"
  },
  {
    "text": "address was what her new address is at that point maybe I don't have to go back",
    "start": "1005880",
    "end": "1011279"
  },
  {
    "text": "or maybe I do I know the address changed I know I need to do something but now I",
    "start": "1011279",
    "end": "1016639"
  },
  {
    "text": "need to go back to all the other attribut all the other things I know about Linda Rising her browser history how often she",
    "start": "1016639",
    "end": "1024678"
  },
  {
    "text": "stands up every day all of these things we know and we can find out by asking",
    "start": "1024679",
    "end": "1030558"
  },
  {
    "text": "the customer management system but now I've got a customer",
    "start": "1030559",
    "end": "1036038"
  },
  {
    "text": "management system that's got all of these queries every time something happens every other system is bombarding me with stuff can I reduce that can I",
    "start": "1036039",
    "end": "1044280"
  },
  {
    "text": "eliminate that load well I could and this is a pattern that we tentatively",
    "start": "1044280",
    "end": "1051160"
  },
  {
    "text": "named event carried State transfer which is a bit of a long-winded name but I",
    "start": "1051160",
    "end": "1056200"
  },
  {
    "text": "like it because it's a play on rest right um which is resource what's it",
    "start": "1056200",
    "end": "1062280"
  },
  {
    "text": "State transfer this is event carried State trans this is about using events that carry stur of",
    "start": "1062280",
    "end": "1067840"
  },
  {
    "text": "State what happens when you use this pattern is you say I want to completely forbid any contact to the customer",
    "start": "1067840",
    "end": "1074720"
  },
  {
    "text": "management system from the insurance quoting system which means Insurance quing system will keep a copy of all the",
    "start": "1074720",
    "end": "1082000"
  },
  {
    "text": "data that it's ever going to need now that means of course the",
    "start": "1082000",
    "end": "1087120"
  },
  {
    "text": "customer management system has to broadcast in its events all the data that those Downstream systems are going",
    "start": "1087120",
    "end": "1093559"
  },
  {
    "text": "to want to have and the downstream systems have to keep copies of everything that they are going to use I",
    "start": "1093559",
    "end": "1100840"
  },
  {
    "text": "don't have to keep a copy of the entire customer record I only have to copy the stuff that I care about so it's not as",
    "start": "1100840",
    "end": "1107480"
  },
  {
    "text": "bad as one might think but it's still obviously a lot of copying of data but the benefit is I now no longer need to",
    "start": "1107480",
    "end": "1115000"
  },
  {
    "text": "call the customer management system at all I have all the data at hand so that",
    "start": "1115000",
    "end": "1120320"
  },
  {
    "text": "might improve my performance because you know I no longer got remote Network calls to the customer management system",
    "start": "1120320",
    "end": "1125760"
  },
  {
    "text": "it reduces the load on the customer management system because it's not responding to all those calls it also",
    "start": "1125760",
    "end": "1131640"
  },
  {
    "text": "May improve availability because if the customer management system goes down or it's",
    "start": "1131640",
    "end": "1137679"
  },
  {
    "text": "intolerably slow I don't care I keep chugging along because I have all the data to",
    "start": "1137679",
    "end": "1143159"
  },
  {
    "text": "myself so we can immediately see there's some very nice benefits to do with that",
    "start": "1143159",
    "end": "1149559"
  },
  {
    "text": "now it doesn't mean I have to do all the necessary stuff to make sure that I'm up to dat I keep copies of the data it",
    "start": "1149559",
    "end": "1154760"
  },
  {
    "text": "means of course I have to copy all the data but we're not talking about that much data these days storage is is cheap",
    "start": "1154760",
    "end": "1161000"
  },
  {
    "text": "um and what's more I have my uh Insurance quoting system my availability no longer depends on the customer",
    "start": "1161000",
    "end": "1167000"
  },
  {
    "text": "management system so that's a good thing now hopefully you're well enough versed",
    "start": "1167000",
    "end": "1172840"
  },
  {
    "text": "in software development that you know when people say I have greater availability because I'm not dependent",
    "start": "1172840",
    "end": "1178080"
  },
  {
    "text": "on something else you know what the price is what's the price of high",
    "start": "1178080",
    "end": "1183120"
  },
  {
    "text": "availability lack of consistency exactly so now I've got",
    "start": "1183120",
    "end": "1189840"
  },
  {
    "text": "to replicate the data I have eventual consistency I have to deal with that issue so I've got a consistency problem",
    "start": "1189840",
    "end": "1197120"
  },
  {
    "text": "so again event carried state transfer has this um tradeoff I get even more",
    "start": "1197120",
    "end": "1204240"
  },
  {
    "text": "decoupling even more um availability but I lose complexity of keeping the",
    "start": "1204240",
    "end": "1209559"
  },
  {
    "text": "duplicated data and inevitable eventual consistency so this is a less common",
    "start": "1209559",
    "end": "1214760"
  },
  {
    "text": "pattern um I don't know what the proportions are I would say a lot of the time that I see event notification I don't see event State trans based State",
    "start": "1214760",
    "end": "1221679"
  },
  {
    "text": "transfer but you and you do have to have event not uh event notification to do this but it is a technique to bear in",
    "start": "1221679",
    "end": "1228880"
  },
  {
    "text": "mind I would say this is one that you keep deeper down in your toolbox um but it's many circumstances it can be a good",
    "start": "1228880",
    "end": "1236280"
  },
  {
    "text": "one to play so sometimes that's what we see when we talk about event driven",
    "start": "1236280",
    "end": "1242159"
  },
  {
    "text": "systems this notification of duplicating the data to avoid calling",
    "start": "1242159",
    "end": "1248720"
  },
  {
    "start": "1251000",
    "end": "1931000"
  },
  {
    "text": "back so the third item so far what I've been doing is I've been telling you the",
    "start": "1251880",
    "end": "1258080"
  },
  {
    "text": "concept and then telling you its name because I kind of think it's more exciting that way you're kind of a bit more of course if you read the talk",
    "start": "1258080",
    "end": "1264640"
  },
  {
    "text": "beforehand you already know what the four things are so I'm not really quite sure why I'm doing it but for this one",
    "start": "1264640",
    "end": "1269919"
  },
  {
    "text": "I'm going to tell you what it is right away event sourcing which is a technique that is",
    "start": "1269919",
    "end": "1275880"
  },
  {
    "text": "long been one that's fascinated me um and it's interesting to see how it's",
    "start": "1275880",
    "end": "1281120"
  },
  {
    "text": "being how people are using it but let's begin by explaining what it",
    "start": "1281120",
    "end": "1286159"
  },
  {
    "text": "is what do I mean by event sourcing how by the way how many people have come across the term event sourcing stick",
    "start": "1286159",
    "end": "1292880"
  },
  {
    "text": "your hands up just sound curious okay smattering of people how many people understand it well enough they think",
    "start": "1292880",
    "end": "1298320"
  },
  {
    "text": "they could explain it to somebody else a few okay I'm not going to ask you",
    "start": "1298320",
    "end": "1304080"
  },
  {
    "text": "to come up on stage and do it don't worry okay here's how I explain event sourcing and surprise surprises for",
    "start": "1304080",
    "end": "1311120"
  },
  {
    "text": "change of addressive example again because I'm kind of boring so let's imagine I've got some kind of customer",
    "start": "1311120",
    "end": "1316559"
  },
  {
    "text": "management system and I've got somebody with an address and they want to change their address in a typical system how do",
    "start": "1316559",
    "end": "1323679"
  },
  {
    "text": "you change address you just say okay let's blow away the old address create a new address right that's how it works",
    "start": "1323679",
    "end": "1331480"
  },
  {
    "text": "right nice and simple what event sourcing does is it creates this subtle change to the",
    "start": "1331480",
    "end": "1338799"
  },
  {
    "text": "picture so now what we have is we still have this representation of the current",
    "start": "1338799",
    "end": "1344279"
  },
  {
    "text": "state of the world but we've also got a second little area as as well and when I",
    "start": "1344279",
    "end": "1349840"
  },
  {
    "text": "say change my address the first thing that happens is we create an event object so this is this first class",
    "start": "1349840",
    "end": "1356799"
  },
  {
    "text": "finger magig that captures the details of a change and we pop that first class",
    "start": "1356799",
    "end": "1361960"
  },
  {
    "text": "finger Mig the event into some kind of separate storage area then we process that event and we",
    "start": "1361960",
    "end": "1370919"
  },
  {
    "text": "process the event to do exactly the thing that we expected to do earlier we change the thing",
    "start": "1370919",
    "end": "1376279"
  },
  {
    "text": "over the consequence of this is that we've kind of now got two sort of",
    "start": "1376279",
    "end": "1381320"
  },
  {
    "text": "representations of our world we have the what I refer to as the application state",
    "start": "1381320",
    "end": "1386600"
  },
  {
    "text": "which is the current state that we're thinking of of the world and then we have a log of all the events that ever change that",
    "start": "1386600",
    "end": "1392679"
  },
  {
    "text": "world and this is the crucial test for event sourcing the sort of the definitional test is that at any time we",
    "start": "1392679",
    "end": "1399960"
  },
  {
    "text": "can blow away that application State and confidently rebuild it from the log",
    "start": "1399960",
    "end": "1406039"
  },
  {
    "text": "that's the test I mean lots of people l changes and things like that it's the ability to replay the log and",
    "start": "1406039",
    "end": "1412880"
  },
  {
    "text": "confidently rebuild your state so that basically you don't care about your your application State and trying to preserve",
    "start": "1412880",
    "end": "1418679"
  },
  {
    "text": "it anymore because the vital thing is preserve the log if that's the situation then you've",
    "start": "1418679",
    "end": "1424279"
  },
  {
    "text": "got an Event Source system so how many people here have",
    "start": "1424279",
    "end": "1429400"
  },
  {
    "text": "built a system using event sourcing this approach smattering of hands a few hands",
    "start": "1429400",
    "end": "1435559"
  },
  {
    "text": "how many people here have used a system using event sourcing a few hands not very",
    "start": "1435559",
    "end": "1442640"
  },
  {
    "text": "many how many people here are software developers put your hands",
    "start": "1442640",
    "end": "1448480"
  },
  {
    "text": "up okay I'm going to assume you didn't quite understand what I've been talking about for the last few minutes because",
    "start": "1449120",
    "end": "1454480"
  },
  {
    "text": "otherwise we are really screwed all those people who haven't used an Event Source based system and are software",
    "start": "1454480",
    "end": "1461120"
  },
  {
    "text": "developers if that were true I would be really really worried in 2010 let alone",
    "start": "1461120",
    "end": "1466840"
  },
  {
    "text": "2017 because every software developer should be intimately familiar with one",
    "start": "1466840",
    "end": "1472320"
  },
  {
    "text": "particular form of Event Source system which is Version Control if you use git you",
    "start": "1472320",
    "end": "1479799"
  },
  {
    "text": "use subversion Mercurial even if you use CVS and I have it was a long time ago",
    "start": "1479799",
    "end": "1485679"
  },
  {
    "text": "but I used it you've used an Event Source system hell I use sccs you know",
    "start": "1485679",
    "end": "1492159"
  },
  {
    "text": "shows how old I am and this is I think a very good point",
    "start": "1492159",
    "end": "1497279"
  },
  {
    "text": "if vent sourcing is basically providing to your users A system that works on",
    "start": "1497279",
    "end": "1502760"
  },
  {
    "text": "their data the way version control works on your code that I find a very good way of",
    "start": "1502760",
    "end": "1508840"
  },
  {
    "text": "explaining at least to software developers what event sourcing is about and a lot of things about event sourcing",
    "start": "1508840",
    "end": "1514640"
  },
  {
    "text": "you can reason through by thinking well what happens in my version control system what does git do what does",
    "start": "1514640",
    "end": "1519880"
  },
  {
    "text": "subversion do and then applying that same question to the application state that you're in in your um Version",
    "start": "1519880",
    "end": "1527919"
  },
  {
    "text": "Control system your application state is your tree of files your working copy um your work tree and the log is of course",
    "start": "1527919",
    "end": "1535919"
  },
  {
    "text": "all the commits that have occurred um through now of course the system internally doesn't necessarily store it",
    "start": "1535919",
    "end": "1543000"
  },
  {
    "text": "as all events but it stores it effectively as it were all events there are snapshots that are contained at",
    "start": "1543000",
    "end": "1549760"
  },
  {
    "text": "various points to speed up performance which is basically a copy of the entire application State as at some commit but",
    "start": "1549760",
    "end": "1556799"
  },
  {
    "text": "by moving back and forth between snapshots and using commits and being clever about how that all inter plays it",
    "start": "1556799",
    "end": "1562840"
  },
  {
    "text": "gives you the sense that I've got every single commit which is kind of the same thing of saying I've got every single",
    "start": "1562840",
    "end": "1568559"
  },
  {
    "text": "snapshot but it's slightly more powerful to think of it in terms of every commit now that's a good metaphor for a",
    "start": "1568559",
    "end": "1576919"
  },
  {
    "text": "Geeks it's not a terribly good metaphor for business people but fortunately there is another really good example of",
    "start": "1576919",
    "end": "1584600"
  },
  {
    "text": "event sourcing in the business world that any business person will be familiar with",
    "start": "1584600",
    "end": "1590240"
  },
  {
    "text": "accounting ledgers right if I want to my current application state is however much money I've got in my checking",
    "start": "1590640",
    "end": "1597480"
  },
  {
    "text": "account but of course behind that is every single credit and debit to that",
    "start": "1597480",
    "end": "1602520"
  },
  {
    "text": "account and of course ledgers and accounting systems are used by all sorts of people and that is very much an",
    "start": "1602520",
    "end": "1609240"
  },
  {
    "text": "example of this event sourcing approach and again notice the fact that",
    "start": "1609240",
    "end": "1616399"
  },
  {
    "text": "it's a combin in reality it's often a combination of every single change and certain",
    "start": "1616399",
    "end": "1622320"
  },
  {
    "text": "snapshots a common thing in accounting is to say at the end of a year or",
    "start": "1622320",
    "end": "1627600"
  },
  {
    "text": "something would would say we're going to close out the year we calculate all the balances for the end of the year and",
    "start": "1627600",
    "end": "1633399"
  },
  {
    "text": "then we kind of ignore everything that happened before then and we build our SN uh events on points since then that's a",
    "start": "1633399",
    "end": "1640240"
  },
  {
    "text": "snapshot effect where effectively are throwing away history behind the point in that in that case um but it can also",
    "start": "1640240",
    "end": "1646440"
  },
  {
    "text": "be you don't throw away the history you just use it to make it easier to calculate what's going on for this year's money um and if you really need",
    "start": "1646440",
    "end": "1653039"
  },
  {
    "text": "to you can dig and go further back so again the storage is usually some mix of",
    "start": "1653039",
    "end": "1659279"
  },
  {
    "text": "events and snapshots done in some way that is efficient for your capability but you",
    "start": "1659279",
    "end": "1664600"
  },
  {
    "text": "want to always be able to synthesize that uh Recreation of the",
    "start": "1664600",
    "end": "1670480"
  },
  {
    "text": "events so the question with event sourcing is how can we use this more widely because there are many",
    "start": "1670679",
    "end": "1677000"
  },
  {
    "text": "interesting benefits but also costs with this pattern um immediately off the top of",
    "start": "1677000",
    "end": "1683640"
  },
  {
    "text": "the head you can say well it's obviously a great audit system if I want to figure out what the hell happened or how how on",
    "start": "1683640",
    "end": "1689760"
  },
  {
    "text": "Earth did this person get sent this quote that was completely ridiculous I can look back through the events and",
    "start": "1689760",
    "end": "1695360"
  },
  {
    "text": "figure it out and that's why anybody who's involved in audit really loves having an events s system that's why of",
    "start": "1695360",
    "end": "1702399"
  },
  {
    "text": "course we have ledgers because that's one of the main reasons is because of the audit it's also a fantastic",
    "start": "1702399",
    "end": "1708120"
  },
  {
    "text": "debugging tool if you're trying to figure out why your application State got screwed up at some particular point",
    "start": "1708120",
    "end": "1713440"
  },
  {
    "text": "in time you can actually take a copy of the system feed it the same events and watch what",
    "start": "1713440",
    "end": "1719320"
  },
  {
    "text": "happened going back in time and of course the time travel going back and seeing what was the application State a",
    "start": "1719320",
    "end": "1724960"
  },
  {
    "text": "month ago two months ago we're familiar from doing that from Version Control right and it's really useful to be able",
    "start": "1724960",
    "end": "1730360"
  },
  {
    "text": "to go back and forth um across time um the alternative state is Al is",
    "start": "1730360",
    "end": "1736880"
  },
  {
    "text": "effectively branching and that can be very useful in certain circumstances um I've worked on a few",
    "start": "1736880",
    "end": "1744080"
  },
  {
    "text": "systems where we might have notification of events and we deal with them um the example I always uses payroll somebody",
    "start": "1744080",
    "end": "1751399"
  },
  {
    "text": "worked um for 35 hours in a week we record that we send them a check we",
    "start": "1751399",
    "end": "1757799"
  },
  {
    "text": "update their sick pay benefits their pension benefits all sorts of Downstream",
    "start": "1757799",
    "end": "1763200"
  },
  {
    "text": "stuff happens and then 6 months later somebody says oh actually it wasn't 35",
    "start": "1763200",
    "end": "1768320"
  },
  {
    "text": "it was 40 that's a really complicated exercise to go and then undo well not you can't",
    "start": "1768320",
    "end": "1774760"
  },
  {
    "text": "undo because you can't change it but then to recalculate what the adjustments should be for all of that but if you've",
    "start": "1774760",
    "end": "1780960"
  },
  {
    "text": "got an Event Source system you say okay I'll tweak that I'll copy it to a different system tweak the event",
    "start": "1780960",
    "end": "1786720"
  },
  {
    "text": "calculate what the current state is look at the two application States diff them and do an adjustment I mean it obviously",
    "start": "1786720",
    "end": "1793200"
  },
  {
    "text": "is a bit more complicated than my casually saying well we just diff the application state but you get the F",
    "start": "1793200",
    "end": "1798640"
  },
  {
    "text": "picture right you actually get you can actually do it and it can be a long computation it can take oh a couple of",
    "start": "1798640",
    "end": "1804320"
  },
  {
    "text": "minutes but that's way faster than doing it manually and that can be a really powerful",
    "start": "1804320",
    "end": "1810840"
  },
  {
    "text": "thing last item on that on the list of good things is actually one of the most intriguing the idea of using a memory",
    "start": "1811279",
    "end": "1819799"
  },
  {
    "text": "image this basically says if our long-term record of what the",
    "start": "1819799",
    "end": "1826559"
  },
  {
    "text": "state of a system is a l of events actually I should walk over here and give you this end of the room a treat",
    "start": "1826559",
    "end": "1832880"
  },
  {
    "text": "Force the cameraman to wake up if I do give that long-term",
    "start": "1832880",
    "end": "1838519"
  },
  {
    "text": "view then actually I don't need to store the application state in any kind of",
    "start": "1838519",
    "end": "1843960"
  },
  {
    "text": "persistent form why do I need to store my application state in a relational database if I've got a log of all my",
    "start": "1843960",
    "end": "1849840"
  },
  {
    "text": "changes I can have a purely inmemory system and that has some interesting",
    "start": "1849840",
    "end": "1856480"
  },
  {
    "text": "benefits a great example of this is a trading system called elmax um it's a retail trading",
    "start": "1856480",
    "end": "1864360"
  },
  {
    "text": "system and it was built a few years ago and it has to be very high performance",
    "start": "1864360",
    "end": "1870799"
  },
  {
    "text": "very low latency and they looked at various ways to try and achieve this and they ended",
    "start": "1870799",
    "end": "1876200"
  },
  {
    "text": "up with saying we're going to run the entire system on a single threet and Java and the their headline was we can",
    "start": "1876200",
    "end": "1883919"
  },
  {
    "text": "do 6 million transactions per second on this single thread really really blazing fast and one of the keys to doing this",
    "start": "1883919",
    "end": "1891519"
  },
  {
    "text": "was all of their data was in memory they have complicated transactions they have lots and lots of things to look at at",
    "start": "1891519",
    "end": "1897120"
  },
  {
    "text": "once they didn't want to be going to a database they have it all in memory and they were able to process really really fast and if anything happened and the",
    "start": "1897120",
    "end": "1904159"
  },
  {
    "text": "system went down they could very quickly rebuild the state from their application logs they would snapshot overnight so",
    "start": "1904159",
    "end": "1910720"
  },
  {
    "text": "basically you run all the events from the beginning of today and work that way and in fact again one of the advantages",
    "start": "1910720",
    "end": "1917080"
  },
  {
    "text": "of events is you can have multiple systems running off the same event Stream So they had a very good way of having hot backups they basically ran",
    "start": "1917080",
    "end": "1924000"
  },
  {
    "text": "two systems all the time with one of them being the lead one and if it went down the second one would instantly take",
    "start": "1924000",
    "end": "1929399"
  },
  {
    "text": "over very very nice system very very performant one of the interesting things",
    "start": "1929399",
    "end": "1935720"
  },
  {
    "start": "1931000",
    "end": "2023000"
  },
  {
    "text": "I was talking with one of the lead developers and he said actually I mean the performance was fantastic and and really got people's attention but one of",
    "start": "1935720",
    "end": "1942440"
  },
  {
    "text": "the things that I really miss about programming in a different system is that is the nicest system of ever",
    "start": "1942440",
    "end": "1948120"
  },
  {
    "text": "programmed in because there was no database to ever deal with everything was in memory all the time and as a",
    "start": "1948120",
    "end": "1954000"
  },
  {
    "text": "result we could have a really good Rich model it was particularly good for complex logic represented in in a domain",
    "start": "1954000",
    "end": "1959919"
  },
  {
    "text": "model um it was a real pleasure to work in compared to many other systems um I'm surprised in many ways",
    "start": "1959919",
    "end": "1966519"
  },
  {
    "text": "more people haven't taken that kind of approach it's a bit unusual and you have to set up the infrastructure to make",
    "start": "1966519",
    "end": "1972519"
  },
  {
    "text": "sure that you're able to do the events with that but it is actually quite a powerful model and it may be getting more interesting as we get more towards",
    "start": "1972519",
    "end": "1980039"
  },
  {
    "text": "systems that have large amounts of nonvolatile main memory um because so",
    "start": "1980039",
    "end": "1986120"
  },
  {
    "text": "much of our of our systems have been built under this assumption that we've only got so much memory we have to park",
    "start": "1986120",
    "end": "1991720"
  },
  {
    "text": "everything else else on dis and now we got tons of memory it all fits in RAM",
    "start": "1991720",
    "end": "1996960"
  },
  {
    "text": "for so many applications so maybe we should take advantage of that and yeah memory image is a way to do it but you",
    "start": "1996960",
    "end": "2003120"
  },
  {
    "text": "still have to have some kind of persistent store and communication mechanism and the event log provides",
    "start": "2003120",
    "end": "2009279"
  },
  {
    "text": "that so event sourcing can be very useful in that situation so those are some of the",
    "start": "2009279",
    "end": "2015159"
  },
  {
    "text": "upsides but as implied for a downsides okay I'll go back hope you enjoyed that not having to",
    "start": "2015159",
    "end": "2022360"
  },
  {
    "text": "cran your neck for a while so it's an unfamiliar system that's bad because things that are",
    "start": "2022360",
    "end": "2027799"
  },
  {
    "start": "2023000",
    "end": "2326000"
  },
  {
    "text": "unfamiliar are harder to work with talking to external systems gets a bit more complicated because if I want to be",
    "start": "2027799",
    "end": "2033679"
  },
  {
    "text": "able to rebuild my application State I can't just say oh I called this external system two weeks ago what was the result",
    "start": "2033679",
    "end": "2040039"
  },
  {
    "text": "CU I can't call it again two weeks ago I have to make sure I save basically every response of an external system as an",
    "start": "2040039",
    "end": "2046600"
  },
  {
    "text": "event um and make it part of the replay mechanism um I have to think about how",
    "start": "2046600",
    "end": "2052599"
  },
  {
    "text": "do I store my events in a way that I can confidently replay them even as I'm changing the code that processes them so",
    "start": "2052599",
    "end": "2060158"
  },
  {
    "text": "the event schema starts becoming interesting to be able to do that also a",
    "start": "2060159",
    "end": "2065480"
  },
  {
    "text": "little little thing but awkward when I generate identifiers for things I have",
    "start": "2065480",
    "end": "2071158"
  },
  {
    "text": "to be careful that I can do that in a way that I can um replay this rule that says I must always be able to replay the",
    "start": "2071159",
    "end": "2078000"
  },
  {
    "text": "events build the application State there are these little tricks little traps for you early on that you have to deal with",
    "start": "2078000",
    "end": "2084878"
  },
  {
    "text": "and you have to think through how to get through those so those definitely do add",
    "start": "2084879",
    "end": "2090800"
  },
  {
    "text": "complexity and you get other complexity that typically comes along for the",
    "start": "2090800",
    "end": "2096000"
  },
  {
    "text": "ride one of the trigger for doing this talk and and the workshop was when I ran",
    "start": "2096000",
    "end": "2102560"
  },
  {
    "text": "into people that were running into difficulties with event driven systems but it wasn't clear what the source of",
    "start": "2102560",
    "end": "2108680"
  },
  {
    "text": "difficulty was so I remember chatting to somebody on a project that was in difficulties and they were saying oh I",
    "start": "2108680",
    "end": "2115640"
  },
  {
    "text": "will never ever use cqrs again I said okay you had a hard time with that oh",
    "start": "2115640",
    "end": "2125400"
  },
  {
    "text": "rewind got that wrong he said I will never ever again use event sourcing and I asked him why and he said well because",
    "start": "2125400",
    "end": "2132880"
  },
  {
    "text": "every time I want to do everything I have this read model to build and the right model to build I have to do twice as much work and I thought well hang on",
    "start": "2132880",
    "end": "2140040"
  },
  {
    "text": "that's nothing to do with event sourcing that's something to do with something else and you often find that people will",
    "start": "2140040",
    "end": "2146839"
  },
  {
    "text": "Mis mischaracterize where the problems are with event sourcing I've often heard",
    "start": "2146839",
    "end": "2152119"
  },
  {
    "text": "this because the problem and the problem on that project according to the lead architect was a sing synchrony they",
    "start": "2152119",
    "end": "2158920"
  },
  {
    "text": "processed all their events in an asynchronous Manner and asynchronous processing got difficult for people",
    "start": "2158920",
    "end": "2164480"
  },
  {
    "text": "because asynchrony tends to be hard to work with hard to reason about now there's no reason why you have to have",
    "start": "2164480",
    "end": "2171079"
  },
  {
    "text": "asynchrony with an Event Source system when I just make a local commit um in",
    "start": "2171079",
    "end": "2176240"
  },
  {
    "text": "git that's not an asynchronous operation now okay when I when people are pushing up to Shared repositories then",
    "start": "2176240",
    "end": "2182720"
  },
  {
    "text": "asynchrony comes into play um but there's none of that it's all synchronous operations when I'm doing a",
    "start": "2182720",
    "end": "2188839"
  },
  {
    "text": "local commit but often people take advantage of the event sourcing to",
    "start": "2188839",
    "end": "2194160"
  },
  {
    "text": "introduce asynchrony into the system which can be a good thing because it improves can improve responsiveness but",
    "start": "2194160",
    "end": "2200599"
  },
  {
    "text": "asynchron event adds complexity so the reason I put that as a",
    "start": "2200599",
    "end": "2206160"
  },
  {
    "text": "kind of question mark there is asynchrony often comes along for the ride with event sourcing systems and it",
    "start": "2206160",
    "end": "2212599"
  },
  {
    "text": "does add a lot of complexity but it doesn't have to be used you don't have to use asyn new invent approach even",
    "start": "2212599",
    "end": "2219319"
  },
  {
    "text": "though it seems common that people confuse that another issue is versioning versioning can get quite complicated in",
    "start": "2219319",
    "end": "2225440"
  },
  {
    "text": "invent Source system because of this ability to replay and particularly when you think",
    "start": "2225440",
    "end": "2231000"
  },
  {
    "text": "well the code of course is also changing in this system over time if I change the",
    "start": "2231000",
    "end": "2236400"
  },
  {
    "text": "structure of my application State and and the schema that I'm using for my application State can I still process",
    "start": "2236400",
    "end": "2243599"
  },
  {
    "text": "that event that was created a year ago what does it mean to create to do do that do I need to change my event",
    "start": "2243599",
    "end": "2249359"
  },
  {
    "text": "schemas and version them versioning can get messy again it doesn't have to be",
    "start": "2249359",
    "end": "2255680"
  },
  {
    "text": "the elmax example I mentioned earlier on they didn't run into that problem very much because they only operated on a",
    "start": "2255680",
    "end": "2261280"
  },
  {
    "text": "one-day snapshot and events from that snapshot so we didn't have to worry so much about the versioning aspects but it",
    "start": "2261280",
    "end": "2268640"
  },
  {
    "text": "can be a killer for other systems um and I'll mention that there is a book in progress or uh close to",
    "start": "2268640",
    "end": "2277119"
  },
  {
    "text": "some degree of completion by a guy called Greg young if you look on leanpub about versioning for event sourcing",
    "start": "2277119",
    "end": "2282400"
  },
  {
    "text": "systems where he goes into a lot of detail about the various options you have for handling event sourcing um so",
    "start": "2282400",
    "end": "2288599"
  },
  {
    "text": "handling versioning and event sourcing Greg Y is the creator of event store which is a a stor system specifically",
    "start": "2288599",
    "end": "2295440"
  },
  {
    "text": "designed for events he's been working in the event space for quite a while you can find a bunch of his lectures and",
    "start": "2295440",
    "end": "2301119"
  },
  {
    "text": "things on video I've been trying to get him to write a book about event sourcing for years so far without success so if",
    "start": "2301119",
    "end": "2307480"
  },
  {
    "text": "if you ever do see him tell him to write that book so events sourcing is like most",
    "start": "2307480",
    "end": "2313560"
  },
  {
    "text": "things a tradeoff there are pros and cons there are some really nice advantages there are complexities involved I do find it surprising that",
    "start": "2313560",
    "end": "2321560"
  },
  {
    "text": "more people haven't made use of it approach however one more thing to mention about",
    "start": "2321560",
    "end": "2327800"
  },
  {
    "start": "2326000",
    "end": "2611000"
  },
  {
    "text": "event sourcing though and that is exactly what we record as our events in the Event",
    "start": "2327800",
    "end": "2336000"
  },
  {
    "text": "Source think about the code example for a moment I go into my code I see some",
    "start": "2336000",
    "end": "2343920"
  },
  {
    "text": "function with a name that I don't like anymore and I want to change it so I go and change it fairly",
    "start": "2343920",
    "end": "2350240"
  },
  {
    "text": "straightforward refactoring operation how do I represent that change in terms",
    "start": "2350240",
    "end": "2355560"
  },
  {
    "text": "of event sourcing there's two events going on here one is my intention change the name",
    "start": "2355560",
    "end": "2362440"
  },
  {
    "text": "of this function and the second is all the actual edits that I actually have to do my source code which is not of course",
    "start": "2362440",
    "end": "2368880"
  },
  {
    "text": "just in one place it's the Declaration of the function and everywhere that calls it now as far as any Version Control",
    "start": "2368880",
    "end": "2375599"
  },
  {
    "text": "System I've ever used is concerned it only sees the latter it sees a series of textual diffs that have absolutely no",
    "start": "2375599",
    "end": "2383720"
  },
  {
    "text": "way that you can tell the intention from that except by looking at the diffs or and maybe the commit message to say",
    "start": "2383720",
    "end": "2389319"
  },
  {
    "text": "that's that's what I've done and we've talked in times of how it would be nice to have um automated refactorings that",
    "start": "2389319",
    "end": "2395760"
  },
  {
    "text": "were storable that were first class thingi jigs that you could apply across your project but in practice it's very",
    "start": "2395760",
    "end": "2401319"
  },
  {
    "text": "difficult to do that because of course a rename function method uh function cap",
    "start": "2401319",
    "end": "2407599"
  },
  {
    "text": "capability for that would work with JavaScript is not going to work with Java is not going to work with python so",
    "start": "2407599",
    "end": "2414160"
  },
  {
    "text": "I have to language specific changes in my version control system that starts",
    "start": "2414160",
    "end": "2419319"
  },
  {
    "text": "getting very hairy while text works with everything we know how to diff and merge and deal with text changes so we rely on",
    "start": "2419319",
    "end": "2427000"
  },
  {
    "text": "text but then we lose the intention we lose what's the reason",
    "start": "2427000",
    "end": "2432200"
  },
  {
    "text": "why same thing basically happens with business stuff as well we say I've got",
    "start": "2432200",
    "end": "2438200"
  },
  {
    "text": "some intention of something I want to do and I might want to capture v as an event and I think of that as a kind of",
    "start": "2438200",
    "end": "2444119"
  },
  {
    "text": "an input event and then I have how does this affect my internal knowledge of the",
    "start": "2444119",
    "end": "2449280"
  },
  {
    "text": "world which is a lot more detail but also often loses important context and",
    "start": "2449280",
    "end": "2455400"
  },
  {
    "text": "then there might be another kind of event which is an output event but says here's what changed so the rest of the",
    "start": "2455400",
    "end": "2460520"
  },
  {
    "text": "world knows about it it's important to realize these are separate things and to think about which",
    "start": "2460520",
    "end": "2467359"
  },
  {
    "text": "ones you want to capture which ones you want to store because you might want to store more than one of",
    "start": "2467359",
    "end": "2474000"
  },
  {
    "text": "these if you look carefully at the slide you might notice we have a slight problem the code isn't quite",
    "start": "2474000",
    "end": "2481440"
  },
  {
    "text": "right the total is wrong what happens to me fixing this",
    "start": "2481440",
    "end": "2488720"
  },
  {
    "text": "bug I've got to be able to replay if I quoted that as the order price I can't",
    "start": "2488720",
    "end": "2494640"
  },
  {
    "text": "just change it because I quoted it and announced it to the world but on the",
    "start": "2494640",
    "end": "2500280"
  },
  {
    "text": "other hand I've still got to fix the bug but I've got to also be able to replay things start getting tangled",
    "start": "2500280",
    "end": "2506760"
  },
  {
    "text": "again it's this versioning issue Greg Young's advice is quite firm he says don't have any business logic in",
    "start": "2506760",
    "end": "2514680"
  },
  {
    "text": "between your event and storage because if you do you run into this Tangled",
    "start": "2514680",
    "end": "2521240"
  },
  {
    "text": "versioning mess but on the other hand if I don't have the input event stored I",
    "start": "2521240",
    "end": "2526359"
  },
  {
    "text": "lose the driving intention of what I'm doing because that that internal event",
    "start": "2526359",
    "end": "2531520"
  },
  {
    "text": "can be pretty complicated and messy one solution of course is to store",
    "start": "2531520",
    "end": "2538119"
  },
  {
    "text": "both and in fact I've seen that done with some of the events s systems I've worked in um the the canonical style",
    "start": "2538119",
    "end": "2545480"
  },
  {
    "text": "that I that I saw back in the '90s when doing this was we would store the",
    "start": "2545480",
    "end": "2551160"
  },
  {
    "text": "external event and then actually all the changes to the application state would be accounting entries so they were",
    "start": "2551160",
    "end": "2556839"
  },
  {
    "text": "naturally event sourced because they're all accounting entries and so we'd store both and you might have a whole pipeline",
    "start": "2556839",
    "end": "2563920"
  },
  {
    "text": "of changes the payroll example I said every little change change to your sick pay allocation change to your vacation",
    "start": "2563920",
    "end": "2570680"
  },
  {
    "text": "stuff every one of those changes was a a accounting entry and so everything was",
    "start": "2570680",
    "end": "2576520"
  },
  {
    "text": "stored as events flowing all the way through and you have a pipeline of processes producing events producing",
    "start": "2576520",
    "end": "2583119"
  },
  {
    "text": "triggering other processes producing events through the system and that was very useful um and that worked quite",
    "start": "2583119",
    "end": "2589680"
  },
  {
    "text": "well and I suspect that's where we have to go part good part of the discussion we had at this Workshop was this",
    "start": "2589680",
    "end": "2595480"
  },
  {
    "text": "question of what's more important the internal or the input event um and as I said I do think it's it's certainly",
    "start": "2595480",
    "end": "2602200"
  },
  {
    "text": "important to be clear of what you're storing and to understand the ramifications of what means across",
    "start": "2602200",
    "end": "2607920"
  },
  {
    "text": "um and I suspect most of the time you need to store both okay so that's three of",
    "start": "2607920",
    "end": "2615319"
  },
  {
    "start": "2611000",
    "end": "2859000"
  },
  {
    "text": "them so what's the fourth one well I kind of already hinted on that um and",
    "start": "2615319",
    "end": "2620800"
  },
  {
    "text": "that is this thing called cqrs uh command query responsibility",
    "start": "2620800",
    "end": "2626079"
  },
  {
    "text": "segregation a term um coined by Greg young whose name I've called out a couple of times already and he's talked",
    "start": "2626079",
    "end": "2632440"
  },
  {
    "text": "about it I remember in fact the first time he talked about it was at a go-to conference or at least the first I saw",
    "start": "2632440",
    "end": "2637520"
  },
  {
    "text": "him talk about it was at a go-to conference many years ago the basic idea with",
    "start": "2637520",
    "end": "2644839"
  },
  {
    "text": "cqrs is that you separate the components that read and write to your store uh",
    "start": "2644839",
    "end": "2653160"
  },
  {
    "text": "permanent store um so you have effectively two separate models one for dealing with updates and one for dealing",
    "start": "2653160",
    "end": "2660079"
  },
  {
    "text": "with reads um so and then the crucial thing here is that they are separate pieces of",
    "start": "2660079",
    "end": "2665760"
  },
  {
    "text": "software separate component components and that you really only ever",
    "start": "2665760",
    "end": "2670920"
  },
  {
    "text": "use the command component command model when you're making an update you always",
    "start": "2670920",
    "end": "2677480"
  },
  {
    "text": "read using something else I mean you might do some read in the middle of processing the command uh will do some",
    "start": "2677480",
    "end": "2682760"
  },
  {
    "text": "reads but basically anything that reads a system is completely",
    "start": "2682760",
    "end": "2688760"
  },
  {
    "text": "separate and the example I remember that he gave a this that was quite nice was a system that had to do a lot of",
    "start": "2688760",
    "end": "2694920"
  },
  {
    "text": "complicated business Logic for all the updates and they didn't want to have to be but",
    "start": "2694920",
    "end": "2700880"
  },
  {
    "text": "they updated much less frequently than they read so it made sense to",
    "start": "2700880",
    "end": "2706319"
  },
  {
    "text": "effectively calculate a lot of derived data and store it in the read model so that the read model could basically go",
    "start": "2706319",
    "end": "2712520"
  },
  {
    "text": "direct to the UI and the command model then had to do all the complicated calc",
    "start": "2712520",
    "end": "2718880"
  },
  {
    "text": "calculations this is a model that I am this is an approach that I would say you've got to be wary of I think it's an",
    "start": "2720240",
    "end": "2728000"
  },
  {
    "text": "appropriate pattern for a number of situations but it is one that seems to",
    "start": "2728000",
    "end": "2734839"
  },
  {
    "text": "correlate a lot with people getting into trouble um and so you got to really kind",
    "start": "2734839",
    "end": "2740599"
  },
  {
    "text": "of be careful and make sure you really understand how it works and what its benefits are and if you really need it",
    "start": "2740599",
    "end": "2746160"
  },
  {
    "text": "when you're using it my sense is it's got to be pretty deep down in the tool bag um to pull this one out so good",
    "start": "2746160",
    "end": "2752920"
  },
  {
    "text": "pattern when used appropriately which is of course true of almost any pattern um but you really have to pay attention to",
    "start": "2752920",
    "end": "2758880"
  },
  {
    "text": "the when to use this I also find it gets a bit confused because I've heard people",
    "start": "2758880",
    "end": "2765160"
  },
  {
    "text": "say well I we think cqrs should be used everywhere because it's really useful to",
    "start": "2765160",
    "end": "2770400"
  },
  {
    "text": "have different uh models for reading things and populating different models but to me that's stuff we've been doing",
    "start": "2770400",
    "end": "2777559"
  },
  {
    "text": "ages I mean I've for ages been talking about the idea of reporting databases where you have your online transaction",
    "start": "2777559",
    "end": "2783400"
  },
  {
    "text": "processing system and then you take a uh input out of it put it into a completely separate database for generating reports",
    "start": "2783400",
    "end": "2790200"
  },
  {
    "text": "people have been doing this for years you might do it every night from a extract transfer load you might do it in",
    "start": "2790200",
    "end": "2796520"
  },
  {
    "text": "more real time using event updates these days um but that idea of having",
    "start": "2796520",
    "end": "2802119"
  },
  {
    "text": "different read pictures that's to my to my mind if cqrs is this then cqrs is",
    "start": "2802119",
    "end": "2808319"
  },
  {
    "text": "every system that was ever built um I think what's important about the cqrs model is the notion that the that",
    "start": "2808319",
    "end": "2814800"
  },
  {
    "text": "command model the thing that's used for update isn't used by anything for reading it's only used in the process",
    "start": "2814800",
    "end": "2820960"
  },
  {
    "text": "and you've got a distinctly different model that's only used in the update area and that I feel is a relatively",
    "start": "2820960",
    "end": "2826559"
  },
  {
    "text": "rarishock",
    "start": "2826559",
    "end": "2829559"
  },
  {
    "text": "multiple transformation steps compose very nicely so pipelines of Transformations I mean that's that",
    "start": "2846960",
    "end": "2853760"
  },
  {
    "text": "should be something that's familiar to pretty much everybody um so four patterns all coming under the",
    "start": "2853760",
    "end": "2862480"
  },
  {
    "start": "2859000",
    "end": "3006000"
  },
  {
    "text": "term event driven I found this useful and we found it useful in terms of our Workshop",
    "start": "2862480",
    "end": "2868480"
  },
  {
    "text": "because now we feel that when we hear somebody say event driven we've got an idea of where to go next now we say okay",
    "start": "2868480",
    "end": "2875839"
  },
  {
    "text": "we think one of at Le at least one of these four patterns is in play Let's ask questions about that and understanding",
    "start": "2875839",
    "end": "2882280"
  },
  {
    "text": "these patterns then can ask more questions about okay why are you doing this are you doing this appropriately um",
    "start": "2882280",
    "end": "2887920"
  },
  {
    "text": "what are the common traps I mean the value of a patent is saying here's a particular technique some ideas about",
    "start": "2887920",
    "end": "2894720"
  },
  {
    "text": "when when it's applicable or not and enough knowledge about the patent for you to know oh these are the things I should watch out for these are some of",
    "start": "2894720",
    "end": "2901200"
  },
  {
    "text": "the things that I would expect to see as consequences of that that gives you a bit more leverage but something as vague",
    "start": "2901200",
    "end": "2909200"
  },
  {
    "text": "as event driven to me doesn't give you that because it it's too imprecise it's",
    "start": "2909200",
    "end": "2914680"
  },
  {
    "text": "actually a similar problem that I I found with service oriented architecture service oriented architecture means so",
    "start": "2914680",
    "end": "2920200"
  },
  {
    "text": "many different things the fact that somebody said they were using it didn't really tell me anything you always have to dig deeper and so a more precise term",
    "start": "2920200",
    "end": "2927200"
  },
  {
    "text": "like microservices is better because it just carves out a small amount of that",
    "start": "2927200",
    "end": "2932400"
  },
  {
    "text": "space and you've got a better idea what's going on of course when a term like microservices get super overhyped",
    "start": "2932400",
    "end": "2938280"
  },
  {
    "text": "then that tends to lead to confusion um because people aren't using the term properly so you know again it's not",
    "start": "2938280",
    "end": "2944400"
  },
  {
    "text": "perfect but again with but with events I think we gain a lot by being a bit more precise what I hope you've got out of my",
    "start": "2944400",
    "end": "2951440"
  },
  {
    "text": "talk is some sense of U what that Precision looks like and what these patterns are and so that you can have a",
    "start": "2951440",
    "end": "2958240"
  },
  {
    "text": "bit of better idea when you're talking about event driven systems what they mean um the original article um there's",
    "start": "2958240",
    "end": "2965040"
  },
  {
    "text": "the URL for it um you can see I've stuck the date at the front of a URL I only do",
    "start": "2965040",
    "end": "2970240"
  },
  {
    "text": "that for things that I think oh that's not going to be relevant I'll probably delete it in 6 months I got that wrong um but anyway do",
    "start": "2970240",
    "end": "2977960"
  },
  {
    "text": "go and take a look at that it's a very brief summary but there's links from there to lots of other things um things",
    "start": "2977960",
    "end": "2983720"
  },
  {
    "text": "like the article on elmax some of the stuff I wrote 10 years ago on event sourcing that's still fairly relevant um",
    "start": "2983720",
    "end": "2989119"
  },
  {
    "text": "stuff of that kind and I hope you found that useful and I hope the talks that",
    "start": "2989119",
    "end": "2994400"
  },
  {
    "text": "you will see later on in this conference will be better than the one thank you",
    "start": "2994400",
    "end": "3000440"
  }
]