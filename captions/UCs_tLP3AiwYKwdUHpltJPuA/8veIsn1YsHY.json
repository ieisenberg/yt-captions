[
  {
    "start": "0",
    "end": "102000"
  },
  {
    "text": "so my name is Vadim I'm Ukrainian native sess is one of my passs and I'm AWS",
    "start": "12280",
    "end": "18920"
  },
  {
    "text": "Community Builder since practically the beginning of the program I block a lot I tweet a lot so if you would like to get",
    "start": "18920",
    "end": "25599"
  },
  {
    "text": "in touch you can find me I have quite unique surname so this talk was prepared with my colleague fdav uh who is in the",
    "start": "25599",
    "end": "32719"
  },
  {
    "text": "team who has implemented the storage solutions so also kudas huge hudas to him or to the team and the team name who",
    "start": "32719",
    "end": "39600"
  },
  {
    "text": "implemented this is calos so there quite a relation and we in Germany that's why",
    "start": "39600",
    "end": "44800"
  },
  {
    "text": "kind of this one so just to set the stage what we are doing and why the photos are so important we are we have",
    "start": "44800",
    "end": "51280"
  },
  {
    "text": "developed that's our Core Business uh the the solution for uh designing and purchasing of the",
    "start": "51280",
    "end": "58000"
  },
  {
    "text": "photo products and these are calendars photo books prints posters so everywhere",
    "start": "58000",
    "end": "64119"
  },
  {
    "text": "where you can simply print the photo it can be ma everything so um that's why",
    "start": "64119",
    "end": "70560"
  },
  {
    "text": "basically yeah the photos are at our core and we need to deal with that efficiently and yeah we are",
    "start": "70560",
    "end": "78040"
  },
  {
    "text": "100% um Fujifilm company so we are acquired 15 years ago and just provideed",
    "start": "78040",
    "end": "84799"
  },
  {
    "text": "solution for basically uh wholesale Solutions so white labels so we just",
    "start": "84799",
    "end": "90479"
  },
  {
    "text": "designed the solution and our customers we customize this for them and they are",
    "start": "90479",
    "end": "95960"
  },
  {
    "text": "just in this b2c business or B2B business to business",
    "start": "95960",
    "end": "101200"
  },
  {
    "text": "so this is agenda I just wanted to briefly talk how we got there how was our journey in AWS anyway and then we",
    "start": "101200",
    "end": "108520"
  },
  {
    "start": "102000",
    "end": "137000"
  },
  {
    "text": "will be talking about um motivation behind why we need to reimplement even",
    "start": "108520",
    "end": "113680"
  },
  {
    "text": "this storage what were are the reasons and why we choose sores and also we'll be talking about architectures and",
    "start": "113680",
    "end": "119920"
  },
  {
    "text": "special event driven patterns that we applied in our Solutions and briefly we'll be talking about challenges and",
    "start": "119920",
    "end": "126119"
  },
  {
    "text": "lessons learned it's just the topic on itself so our architecture",
    "start": "126119",
    "end": "131560"
  },
  {
    "text": "looked back until 2017 quite I would say classic uh we were in the data center",
    "start": "131560",
    "end": "138319"
  },
  {
    "start": "137000",
    "end": "274000"
  },
  {
    "text": "and even in multiple in several regions we had our own customers after the acquisition by fui fui had their own",
    "start": "138319",
    "end": "145239"
  },
  {
    "text": "customers especially in Asia so our the same product have been basically deployed in different data centers",
    "start": "145239",
    "end": "152120"
  },
  {
    "text": "across the world and it was classic stuff we had this Java Tom cut back end",
    "start": "152120",
    "end": "157440"
  },
  {
    "text": "we have Central database and we have a huge Central Storage for all things that we do normal everybody would develop it",
    "start": "157440",
    "end": "164519"
  },
  {
    "text": "like we uh like we did because we started 2004 and I'm 18 years in the company so nothing wrong with that but",
    "start": "164519",
    "end": "171879"
  },
  {
    "text": "uh that was kind of the situation that we were across the globe but the in the",
    "start": "171879",
    "end": "177319"
  },
  {
    "text": "data center have been there have been different vendors so we didn't even control in the Fuji data center in in",
    "start": "177319",
    "end": "183480"
  },
  {
    "text": "Japan that was their hardware and in Europe it was our Hardware so we could have a five load balance and in J inks",
    "start": "183480",
    "end": "190720"
  },
  {
    "text": "in in Japan so complete that this very difficult situation how to deploy efficiently the same stuff uh there so",
    "start": "190720",
    "end": "198239"
  },
  {
    "text": "lots of challenges and we wanted to go globally we were for example not in the US and all that stuff so we thought also",
    "start": "198239",
    "end": "204959"
  },
  {
    "text": "just how to modernize it we are highly in the peak business so in December during the Christmas people buy photo",
    "start": "204959",
    "end": "211720"
  },
  {
    "text": "book of the year so we also suffered from that kind of architecture to be honest and there have been thoughts how",
    "start": "211720",
    "end": "218640"
  },
  {
    "text": "just to deal with that so we we choose AWS it was the most mature cloud",
    "start": "218640",
    "end": "225760"
  },
  {
    "text": "provider anyway and it still is and we just took four years basically to migrate all the application to",
    "start": "225760",
    "end": "232360"
  },
  {
    "text": "standardize things so the ability to go GL go globally we we just used",
    "start": "232360",
    "end": "237959"
  },
  {
    "text": "infrastructure as a code for everything more patches and it has there have been lots of patches and nobody knew the",
    "start": "237959",
    "end": "245079"
  },
  {
    "text": "state of this of of the application and we provided independent production near",
    "start": "245079",
    "end": "250480"
  },
  {
    "text": "staging and and and test environments it was a huge headache in the data center because there were no test environment",
    "start": "250480",
    "end": "257239"
  },
  {
    "text": "so the the the life load balancer was used for staging purposes and if you do just the stress test then you could",
    "start": "257239",
    "end": "263160"
  },
  {
    "text": "impact life applications it was easy doable in AWS simply to separate environments and just it enabled us to",
    "start": "263160",
    "end": "269880"
  },
  {
    "text": "to safely test but what we also achieved during the migration we just split most",
    "start": "269880",
    "end": "275120"
  },
  {
    "start": "274000",
    "end": "347000"
  },
  {
    "text": "important things apart it was basically lift and shift with a lot of automation",
    "start": "275120",
    "end": "280919"
  },
  {
    "text": "but we also introduced some independent Services here so at least we could change a bit the logic of our storage",
    "start": "280919",
    "end": "287759"
  },
  {
    "text": "which was monolithical now we could separate the stuff for personal images we are not producing anything so we need",
    "start": "287759",
    "end": "294199"
  },
  {
    "text": "to sh ship the stuff to the lab which will produce so for this kind of storage",
    "start": "294199",
    "end": "299400"
  },
  {
    "text": "where the lab will be kind of pulling the orders we we we just push that stuff",
    "start": "299400",
    "end": "304600"
  },
  {
    "text": "on S3 and for we have static images like product images or videos how to to",
    "start": "304600",
    "end": "309960"
  },
  {
    "text": "design the product and each product like photo books you have high quality images it doesn't have anything to do with the",
    "start": "309960",
    "end": "315479"
  },
  {
    "text": "uploaded images that you use for design so we could separate it we we just put",
    "start": "315479",
    "end": "320720"
  },
  {
    "text": "cloud front uh and we put a lot of autoscaling policies based on the stuff so it was really huge step uh that we",
    "start": "320720",
    "end": "328039"
  },
  {
    "text": "did uh with with ws and with everything that that that that has been enabled",
    "start": "328039",
    "end": "333759"
  },
  {
    "text": "basically with all this uh stuff that have been separated and of course also speed of delivery increased because we",
    "start": "333759",
    "end": "340560"
  },
  {
    "text": "just had some at least core services but we also there were some",
    "start": "340560",
    "end": "345759"
  },
  {
    "text": "technical challenges remained it's not it hasn't hasn't been a huge problem but",
    "start": "345759",
    "end": "351240"
  },
  {
    "start": "347000",
    "end": "602000"
  },
  {
    "text": "anyway our web application has been still even on2 it was basically Tom",
    "start": "351240",
    "end": "356280"
  },
  {
    "text": "caterva we bundled nearly everything together the front end and back end was bundled together still so our Builders",
    "start": "356280",
    "end": "364360"
  },
  {
    "text": "or editors how to design the product have been deployed with the with the back end together and the back end",
    "start": "364360",
    "end": "370720"
  },
  {
    "text": "contained all the services binded together still so this is the photo book creation Safe Load of the product user",
    "start": "370720",
    "end": "377039"
  },
  {
    "text": "management payment ordering external Integrations everything have has been basically in this monolitic",
    "start": "377039",
    "end": "384039"
  },
  {
    "text": "application and yeah this Central Storage even for personal images it could become",
    "start": "384039",
    "end": "390240"
  },
  {
    "text": "because of the stability and how we use elastic file system it it's rare the case but at least there can be the",
    "start": "390240",
    "end": "396440"
  },
  {
    "text": "situation that if this elastic file system uh suffers from some degradation",
    "start": "396440",
    "end": "401560"
  },
  {
    "text": "then it propagates to all services and puts them down um basically and it was kind of it could have been scalability",
    "start": "401560",
    "end": "408560"
  },
  {
    "text": "issue we could mitigate it by provisioning all that stuff but we were aware that we may run may run into the",
    "start": "408560",
    "end": "415400"
  },
  {
    "text": "problems and we still miss clearly defined API especially for the storage",
    "start": "415400",
    "end": "420560"
  },
  {
    "text": "solution load the stability so no clear ownership because of the monolith and the storage is kind of key for us but",
    "start": "420560",
    "end": "428759"
  },
  {
    "text": "the more the bigger problem from the product and strategical point of view",
    "start": "428759",
    "end": "434440"
  },
  {
    "text": "was that I just said that all backend Services have been ped together and we simply realized that back in the days we",
    "start": "434440",
    "end": "441000"
  },
  {
    "text": "implemented their kind of e-commerce system on our own all this purchasing stuff product",
    "start": "441000",
    "end": "448080"
  },
  {
    "text": "catalog we have implemented this starting from 2004 and put everything together and our business asks just can",
    "start": "448080",
    "end": "455400"
  },
  {
    "text": "can you integrate Shopify can you integrate magenta which is now Adobe Cloud and we couldn't because the many",
    "start": "455400",
    "end": "461520"
  },
  {
    "text": "things that were bundled together are kind of generic even the storage how we deal with pictures is generic but it was",
    "start": "461520",
    "end": "467520"
  },
  {
    "text": "so much tied to all the self-written e-commerce system it wasn't simply possible without refactoring and this is",
    "start": "467520",
    "end": "475039"
  },
  {
    "text": "something that um basically was a driver for us to say okay we should split even",
    "start": "475039",
    "end": "481319"
  },
  {
    "text": "more apart and the storage is really essential so that the storage can be reused for Shopify magenta and and and",
    "start": "481319",
    "end": "487960"
  },
  {
    "text": "and all that stuff so yeah that was around several",
    "start": "487960",
    "end": "493280"
  },
  {
    "text": "years ago so we we started to experiment with surus to be honest one year after",
    "start": "493280",
    "end": "499000"
  },
  {
    "text": "the we started the migration of our data centers which we finished 2021 completely so we don't have any",
    "start": "499000",
    "end": "505599"
  },
  {
    "text": "data centers but we started to experiment with serverless 2018 so we are kind of now in six year and for us",
    "start": "505599",
    "end": "513880"
  },
  {
    "text": "we just saw so many benefits we could deliver without this all this infrastructure stuff and so on so I",
    "start": "513880",
    "end": "521719"
  },
  {
    "text": "think you can achieve the same UND depending of Technology you can do this with e two instances you do it with",
    "start": "521719",
    "end": "526760"
  },
  {
    "text": "containers you can do it with kubernetes but for us it was kind of this cultural stuff that the people simply saw the",
    "start": "526760",
    "end": "533480"
  },
  {
    "text": "value of servess and back six years ago they have been missing features a lot comparing to now but we started to dig",
    "start": "533480",
    "end": "540600"
  },
  {
    "text": "in so the people started to build experience that just spread in the company yeah so that was more cultural",
    "start": "540600",
    "end": "546760"
  },
  {
    "text": "thing and even if we are a part of the Fujifilm group we were allowed to decide on technology on our own which is cool",
    "start": "546760",
    "end": "553839"
  },
  {
    "text": "yeah so we were not afraid of some Cloud logins and all that stuff so this is how",
    "start": "553839",
    "end": "558959"
  },
  {
    "text": "it just developed I'm not the only person who is talking the conferences and all that stuff so we have a lot of",
    "start": "558959",
    "end": "564440"
  },
  {
    "text": "people blogging about this and uh so this was basically cultural thing behind",
    "start": "564440",
    "end": "569839"
  },
  {
    "text": "why we choose SES because we have we have had some some experiences with that",
    "start": "569839",
    "end": "576640"
  },
  {
    "text": "anyway so now we will talking about storage I will show you some diagrams",
    "start": "576640",
    "end": "582079"
  },
  {
    "text": "and there they have some abbreviations that's image storage solution we call it internally consumer file storage or",
    "start": "582079",
    "end": "589720"
  },
  {
    "text": "shortened CFS or CFS this is the same so this is all about dealing with pictures",
    "start": "589720",
    "end": "595720"
  },
  {
    "text": "that people use to design their products so now let's look into the architecture",
    "start": "595720",
    "end": "601120"
  },
  {
    "text": "and it's only the brief one of the solution that that we implemented and maybe the first one is just seems scared",
    "start": "601120",
    "end": "608240"
  },
  {
    "start": "602000",
    "end": "2120000"
  },
  {
    "text": "and I even hided uh some some Lambda functions but this remembers me so on",
    "start": "608240",
    "end": "615079"
  },
  {
    "text": "the day as yq presented Serv list the first day so they people saw how you can",
    "start": "615079",
    "end": "620959"
  },
  {
    "text": "manage that uh but basically if you will look further there are so many different apis so it's just not I will dig deep if",
    "start": "620959",
    "end": "629480"
  },
  {
    "text": "I will be talking about event driven Solutions there so there are so many different parts of that file API project",
    "start": "629480",
    "end": "636639"
  },
  {
    "text": "ordering contct support so each individual API is not looking that scary",
    "start": "636639",
    "end": "642000"
  },
  {
    "text": "if you just simply zoom in there and yeah if we will talking about",
    "start": "642000",
    "end": "647320"
  },
  {
    "text": "event driven architectures then obviously there will be some Individual Services or combinations",
    "start": "647320",
    "end": "654920"
  },
  {
    "text": "of sqs SNS vent Bridge kesis Dynamo DBS streams Cloud watch Event Event BRD",
    "start": "654920",
    "end": "662120"
  },
  {
    "text": "schula and if you look at least into this diagram you see we kind of have it",
    "start": "662120",
    "end": "667279"
  },
  {
    "text": "all we have q's okay it's probably not possible to implement something now without qes we have",
    "start": "667279",
    "end": "673720"
  },
  {
    "text": "SNS uh we have event Bridge here we have Dynamo DB streams and we have here",
    "start": "673720",
    "end": "680480"
  },
  {
    "text": "scheduled events and we also have kesis but it I will be showing the use case with loog files how we are using it so",
    "start": "680480",
    "end": "687399"
  },
  {
    "text": "basically we are using it not because it's cool to use everything and present in the conference but it has its usage",
    "start": "687399",
    "end": "694079"
  },
  {
    "text": "yeah these are different services for the different purposes so maybe you will be asking",
    "start": "694079",
    "end": "700240"
  },
  {
    "text": "what's so difficult I just put some images on the on the products you upload and why that complicated yeah it's",
    "start": "700240",
    "end": "708399"
  },
  {
    "text": "complicated what because there are so many different workflows the simplest one is just to upload picture normally",
    "start": "708399",
    "end": "714120"
  },
  {
    "text": "you just select it on your computer or on your phone locally and that's that's okay normal upload but we have also",
    "start": "714120",
    "end": "721320"
  },
  {
    "text": "something called mobile upload where you can simply uh kind of scan QR code send",
    "start": "721320",
    "end": "727000"
  },
  {
    "text": "it over to your friends and there will be URL and they can upload this kind of to your storage if you kind of somebody",
    "start": "727000",
    "end": "733800"
  },
  {
    "text": "if you were with your family in the vacation and your grand mother have has photos she can upload it to your to your",
    "start": "733800",
    "end": "741160"
  },
  {
    "text": "storage and you can kind of collect that stuff but of course storage costs money so we have a mobile upload but also on",
    "start": "741160",
    "end": "748320"
  },
  {
    "text": "top that we charge we have long-term storage by default the storage will be kind of expiring after the session of",
    "start": "748320",
    "end": "754240"
  },
  {
    "text": "the user has expired with the longterm you can save it up to whatever day your",
    "start": "754240",
    "end": "759480"
  },
  {
    "text": "the customer is willing to pay so our customer not the end customer so uh we configure this we have safe project you",
    "start": "759480",
    "end": "766399"
  },
  {
    "text": "can imagine the working on the photo book is not one day work my wife is working the whole December it just",
    "start": "766399",
    "end": "771519"
  },
  {
    "text": "drives me crazy the whole evenings to just collect everything what we showed",
    "start": "771519",
    "end": "776920"
  },
  {
    "text": "as a photos for one year and of course you would like like to save in between and then simply continue so we have save",
    "start": "776920",
    "end": "782360"
  },
  {
    "text": "project and we have of course card items so if you just designed it you would",
    "start": "782360",
    "end": "787880"
  },
  {
    "text": "like to purchase you put it into the card and we have our internal cards but we have solutions that we develop with",
    "start": "787880",
    "end": "793880"
  },
  {
    "text": "our customers they we have external cards like we have customers that not",
    "start": "793880",
    "end": "799399"
  },
  {
    "text": "only have uh photo business but they can also sell Furniture flowers and whatever",
    "start": "799399",
    "end": "804760"
  },
  {
    "text": "and they would like just with a single sun on that the customers can put everything in one box basket and everything that goes via our solution",
    "start": "804760",
    "end": "811920"
  },
  {
    "text": "will go to us and all the stuff so we need we have some apis for that as well yeah if you finish the order you have",
    "start": "811920",
    "end": "818680"
  },
  {
    "text": "ordered card item so that is the order and we have a lot of expirations yeah so you can delete the stuff the photos",
    "start": "818680",
    "end": "826320"
  },
  {
    "text": "images products safe projects manually if you don't like them but we have of course automated expirations because we",
    "start": "826320",
    "end": "833079"
  },
  {
    "text": "don't save anything forever like save projects they also uh there is a configuration to be expired",
    "start": "833079",
    "end": "839440"
  },
  {
    "text": "automatically with notifications and all that stuff and we have lots of cleanups so lots of workflow lots of completely",
    "start": "839440",
    "end": "845680"
  },
  {
    "text": "different workflows and that's why simply we need so many different stuff",
    "start": "845680",
    "end": "850800"
  },
  {
    "text": "so now let's talk about I will only dive in in some kind of extracts of the diagrams about event driven solutions",
    "start": "850800",
    "end": "858639"
  },
  {
    "text": "that we have so that because it's just event driven um architectures here so",
    "start": "858639",
    "end": "864639"
  },
  {
    "text": "cues yeah really everywhere yeah and it's also in our case I will show you some cases and the first one is so",
    "start": "864639",
    "end": "871079"
  },
  {
    "text": "trivial um yeah everybody if you just see the examples how somebody can use",
    "start": "871079",
    "end": "876720"
  },
  {
    "text": "cues you will always have this example with generate thumbnail from the picture it's also what what also appeared on AWS",
    "start": "876720",
    "end": "884279"
  },
  {
    "text": "blog post as an example how we use CU and yes we're using it the same way so",
    "start": "884279",
    "end": "889600"
  },
  {
    "text": "that basically as a kind of the picture is uploaded to S3 we will have then S3",
    "start": "889600",
    "end": "895160"
  },
  {
    "text": "create object event and we do something asynchronous that that simply are feasible to be done asynchronously and",
    "start": "895160",
    "end": "902320"
  },
  {
    "text": "the the thumbnail creation is nothing that will be accessed immediately so it will be accessed if you will access the",
    "start": "902320",
    "end": "908880"
  },
  {
    "text": "project once again which will happen not in the same second so we are just doing it also um asynchronously and um we are",
    "start": "908880",
    "end": "918480"
  },
  {
    "text": "also setting some some other states and with uh subil creation we can also decide what size of the picture do we so",
    "start": "918480",
    "end": "925519"
  },
  {
    "text": "what thumbnail size would we like to to create it depends where you're in the web on the on the on the notebook or on",
    "start": "925519",
    "end": "932240"
  },
  {
    "text": "on mobile phone then there are different requirements so it's a bit more logic but basically that's very very natural",
    "start": "932240",
    "end": "937839"
  },
  {
    "text": "for us just to create the stuff of course if you very quickly would like to access the project it maybe that it takes a bit of seconds then as that the",
    "start": "937839",
    "end": "946360"
  },
  {
    "text": "thumbnail will be generated and and displayed but in 99.9% the cases that's",
    "start": "946360",
    "end": "952240"
  },
  {
    "text": "totally fine so we have here another queue we call it handle file usage queue that's",
    "start": "952240",
    "end": "958440"
  },
  {
    "text": "very long name um the the thing here is that uh we have",
    "start": "958440",
    "end": "964720"
  },
  {
    "text": "here events that save project containing images and files were deleted so either",
    "start": "964720",
    "end": "970880"
  },
  {
    "text": "by by the user actively or expired after a certain time so we have a quite",
    "start": "970880",
    "end": "977000"
  },
  {
    "text": "complex logic because you can use the same image in different kind of projects you can create multiple projects with",
    "start": "977000",
    "end": "983519"
  },
  {
    "text": "the same image and we don't always copy the stuff so we reference the stuff so what's very easy in the front end simply",
    "start": "983519",
    "end": "989720"
  },
  {
    "text": "to delete uh the project it's sometimes very difficult technically to implement because we need to to see if the",
    "start": "989720",
    "end": "997040"
  },
  {
    "text": "existing so each individual picture has references in order to delete the picture itself yeah because it's not",
    "start": "997040",
    "end": "1003480"
  },
  {
    "text": "copied it's it's shared and this is what this why we are doing that asynchronously the put this into the",
    "start": "1003480",
    "end": "1008759"
  },
  {
    "text": "queue and then we have processes that run there's even stage asynchronous",
    "start": "1008759",
    "end": "1013880"
  },
  {
    "text": "processes so we simply run via Dynamo DB Dynamo DB is kind of handling that that",
    "start": "1013880",
    "end": "1019319"
  },
  {
    "text": "references and if we see that the picture is not referenc anymore when Market is not in use and then we will",
    "start": "1019319",
    "end": "1025520"
  },
  {
    "text": "have we will see that scheduled events that will really remove it um basically",
    "start": "1025520",
    "end": "1031760"
  },
  {
    "text": "on the storage also very powerful and kind of very natural and saves lots of",
    "start": "1031760",
    "end": "1036798"
  },
  {
    "text": "times because this also kind of time consuming uh task so here we will see the combined",
    "start": "1036799",
    "end": "1045280"
  },
  {
    "text": "pattern so now see here even sqs 54 with event Bri and Lambda so what's the the",
    "start": "1045280",
    "end": "1051160"
  },
  {
    "text": "the use case here I just only show you this this five or Q we have some Central",
    "start": "1051160",
    "end": "1056720"
  },
  {
    "text": "application I'll talking about it later just to put in so this Q is kind of for",
    "start": "1056720",
    "end": "1063520"
  },
  {
    "text": "the user States so what we are doing this we are just would like just to see if the user lcks in and lcks out in",
    "start": "1063520",
    "end": "1070000"
  },
  {
    "text": "several other events it's the natural that it should be 5 orq because it's not very lucky if we will receive log out",
    "start": "1070000",
    "end": "1077159"
  },
  {
    "text": "event before login event because our system can then bit yeah go in Madness",
    "start": "1077159",
    "end": "1084159"
  },
  {
    "text": "if if if the the sequence will be not okay so this is one of the example of the",
    "start": "1084159",
    "end": "1089520"
  },
  {
    "text": "fq and yeah in this fq then simply we have Lambda function pulling from that",
    "start": "1089520",
    "end": "1096240"
  },
  {
    "text": "and then we have a vent bridge in the middle uh just that goes through through different targets and simply sees what",
    "start": "1096240",
    "end": "1103559"
  },
  {
    "text": "needs to be done so for example if you look out uh what what needs to be done",
    "start": "1103559",
    "end": "1110080"
  },
  {
    "text": "is simply just that you remove the stuff that you probably not ordered for",
    "start": "1110080",
    "end": "1115320"
  },
  {
    "text": "example you could put something into the card but you don't order and we have the",
    "start": "1115320",
    "end": "1120360"
  },
  {
    "text": "logic if you lock out and you have such a state we remove all the projects and",
    "start": "1120360",
    "end": "1126760"
  },
  {
    "text": "all the pictures because they have only the life cycle kind of of your session",
    "start": "1126760",
    "end": "1132240"
  },
  {
    "text": "we are not allowed to that it stays because if you are in the internet cafe somebody can just log in see some",
    "start": "1132240",
    "end": "1139280"
  },
  {
    "text": "pictures and use that stuff so we we are quite cautious here and we he we have",
    "start": "1139280",
    "end": "1144559"
  },
  {
    "text": "here kind of this Logic on the project level so that we remove all the projects or card items in that sense but we also",
    "start": "1144559",
    "end": "1152120"
  },
  {
    "text": "remove up files uploaded Via Mobile upload that are not stored on the long-term version so if you upload only",
    "start": "1152120",
    "end": "1159000"
  },
  {
    "text": "files you can use it only within the session or you allowed then to store it for a longer time if the customer kind",
    "start": "1159000",
    "end": "1165200"
  },
  {
    "text": "of is willing to pay so lots of clean up work here very um powerful pattern the",
    "start": "1165200",
    "end": "1171640"
  },
  {
    "text": "question that may arise here is why we choose event breach for example over SNS and to be",
    "start": "1171640",
    "end": "1179720"
  },
  {
    "text": "honest we can do both in that case they are quite close services and in this case we have here two Downstream",
    "start": "1179720",
    "end": "1185720"
  },
  {
    "text": "consumers can this two Lambda functions going through project and files the same can be done VI SNS but we personally",
    "start": "1185720",
    "end": "1192880"
  },
  {
    "text": "prefer prefer to use event bridge in case uh these are events going on so there is a v check the project there is",
    "start": "1192880",
    "end": "1198960"
  },
  {
    "text": "an event check the um the files and it kind of sounds more natural we use SNS",
    "start": "1198960",
    "end": "1204240"
  },
  {
    "text": "for basically more notification based stuff uh even if event bridge is is a",
    "start": "1204240",
    "end": "1209480"
  },
  {
    "text": "bit more expensive but it allows us to define the schema and all that stuff so we willing just to pay a bit more but",
    "start": "1209480",
    "end": "1215799"
  },
  {
    "text": "the same scenario will be also working with SNS yeah now we will come to to other",
    "start": "1215799",
    "end": "1222760"
  },
  {
    "text": "stuff you see here we're using uh Dynamo DB streams so what are the requirements",
    "start": "1222760",
    "end": "1229000"
  },
  {
    "text": "we have the requirements I call it personally change loog pattern so there are different apis dealing with that so",
    "start": "1229000",
    "end": "1235799"
  },
  {
    "text": "the first one is this config API so how the customer account the partner account",
    "start": "1235799",
    "end": "1241000"
  },
  {
    "text": "is configured we have the requirement that we store the change look so all the changes needs to be stored because",
    "start": "1241000",
    "end": "1247200"
  },
  {
    "text": "somebody can say I haven't configured it like this and one of the important configuration can be for example how",
    "start": "1247200",
    "end": "1252440"
  },
  {
    "text": "long are this safe project I allowed to be stored yeah 16 days and so on if you",
    "start": "1252440",
    "end": "1258280"
  },
  {
    "text": "just change it to one day then all the projects will be gone of the customers They will receive notification and then",
    "start": "1258280",
    "end": "1264760"
  },
  {
    "text": "the same day they will be gone they they cannot save it it's a lot of work that can be kind of lost so that's why um we",
    "start": "1264760",
    "end": "1272559"
  },
  {
    "text": "simply need to store all the changes who done who has done what and when and uh",
    "start": "1272559",
    "end": "1279200"
  },
  {
    "text": "this is the one um pattern that we use and it's very easy with store the configuration then we use Dynamo DB",
    "start": "1279200",
    "end": "1285279"
  },
  {
    "text": "stream just to to process that and we have function that processes that and",
    "start": "1285279",
    "end": "1290559"
  },
  {
    "text": "stores that additionally in this change log table so we have the whole history of who has done what the same is here",
    "start": "1290559",
    "end": "1298679"
  },
  {
    "text": "this support API so what's the what's the reason for support API imagine somebody saved the project",
    "start": "1298679",
    "end": "1306320"
  },
  {
    "text": "work weeks on that and then he tries to open it and there is an error on our",
    "start": "1306320",
    "end": "1311880"
  },
  {
    "text": "side whatever is possible something has changed during we made an error and the",
    "start": "1311880",
    "end": "1316960"
  },
  {
    "text": "person cannot simply open it we are not simply allowed to access that project we",
    "start": "1316960",
    "end": "1322760"
  },
  {
    "text": "have the the support API for that this is our internal API we have support team",
    "start": "1322760",
    "end": "1328919"
  },
  {
    "text": "who can go and say I would like just to switch the owner kind of to me to",
    "start": "1328919",
    "end": "1334279"
  },
  {
    "text": "investigate that yeah we can even copy that so we don't damage it so that our customer support team simply um can own",
    "start": "1334279",
    "end": "1342919"
  },
  {
    "text": "the project open it they can go into the locks and they can talk to developers and then we can look how to fix it and",
    "start": "1342919",
    "end": "1349480"
  },
  {
    "text": "we have fixed it then maybe we can apply the fix to this project if it's something on the front end side and not",
    "start": "1349480",
    "end": "1355440"
  },
  {
    "text": "the back end side and also this customer support accessing the the images of the foreign projects is ggpr issue so we",
    "start": "1355440",
    "end": "1362720"
  },
  {
    "text": "need to save who has access what and even yeah we also need to just assign",
    "start": "1362720",
    "end": "1369840"
  },
  {
    "text": "the ticket so the C to our partner ask us to investigate the problem for for its End customer so this is the same",
    "start": "1369840",
    "end": "1377039"
  },
  {
    "text": "requirement here so the same logic is here we have kind of asynchronous processing table so if somebody in the",
    "start": "1377039",
    "end": "1382600"
  },
  {
    "text": "support IPI for example does change uh the the user uh the owner of the project",
    "start": "1382600",
    "end": "1389000"
  },
  {
    "text": "that goes the whole lock uh the the change lock will go via dynamos theb",
    "start": "1389000",
    "end": "1395039"
  },
  {
    "text": "streams will be processed by the Lambda function and stored in this change log table the same table for two different",
    "start": "1395039",
    "end": "1401240"
  },
  {
    "text": "cases we have here single table design so Alex debris from D expert in Dynam is",
    "start": "1401240",
    "end": "1407159"
  },
  {
    "text": "not here but he will love that hearing about single table design so these are kind of that use cases that we",
    "start": "1407159",
    "end": "1414120"
  },
  {
    "text": "heavily use now here Dynamo DB streams and it's really powerful and what's important we only kind of listen to",
    "start": "1414120",
    "end": "1421200"
  },
  {
    "text": "events that are really important to be to be stored as a change log there are",
    "start": "1421200",
    "end": "1426480"
  },
  {
    "text": "certain changes that they are not interested in they are not relevant you cannot do too much damage so we have",
    "start": "1426480",
    "end": "1432080"
  },
  {
    "text": "kind of uh the logic uh that we filter out uh what what can be now kind of of",
    "start": "1432080",
    "end": "1438640"
  },
  {
    "text": "send by Dynamo DB streams to Lambda",
    "start": "1438640",
    "end": "1444039"
  },
  {
    "text": "yeah this is what I explained yeah uh and of course yeah what we have here we have lots of",
    "start": "1444039",
    "end": "1450640"
  },
  {
    "text": "scheduled events so once again all this clean up job jobs uh where we delete uh",
    "start": "1450640",
    "end": "1457240"
  },
  {
    "text": "the safe project is all done one time per day or or several times per day for",
    "start": "1457240",
    "end": "1463400"
  },
  {
    "text": "that we use heavily scheduled events you can use the event Bridge schedule of",
    "start": "1463400",
    "end": "1469240"
  },
  {
    "text": "this as well this is the same this is more or less Cloud watch uh rule that can be triggered to the certain with a",
    "start": "1469240",
    "end": "1475919"
  },
  {
    "text": "certain pattern in a certain point in time and then we we have here different",
    "start": "1475919",
    "end": "1481440"
  },
  {
    "text": "use cases so the first one is finding expired safe project card item mobile uploads what that has been marked that",
    "start": "1481440",
    "end": "1488600"
  },
  {
    "text": "needs to be deleted and that will be deleted via on the on the",
    "start": "1488600",
    "end": "1493679"
  },
  {
    "text": "storage uh this is the first pattern and you here see that we send the",
    "start": "1493679",
    "end": "1498880"
  },
  {
    "text": "notification because we we need just to send notification uh via email to the customers we do it in stage environment",
    "start": "1498880",
    "end": "1506000"
  },
  {
    "text": "like you have 5 days otherwise the project will be deleted and you have some logic if you just change the",
    "start": "1506000",
    "end": "1512120"
  },
  {
    "text": "project and the expiration period starts from the beginning yeah this is how we work with that and then they can decide",
    "start": "1512120",
    "end": "1519159"
  },
  {
    "text": "would they like to continue to work the purchase or even just they have already purchased now agreed uh that it can be",
    "start": "1519159",
    "end": "1526279"
  },
  {
    "text": "deleted and what we also have have here we need to calculate the yeah kind of",
    "start": "1526279",
    "end": "1533240"
  },
  {
    "text": "the invoice so how much storage has been used for what customers yeah for all different project and you see here also",
    "start": "1533240",
    "end": "1539360"
  },
  {
    "text": "scheduled account and we have here once again we have here Lambda which splits the stuff and we calculate um this",
    "start": "1539360",
    "end": "1547440"
  },
  {
    "text": "metrix uh simply calculate for each customers uh all that stuff like uh how",
    "start": "1547440",
    "end": "1554039"
  },
  {
    "text": "many account project does they have how on the file Matrix so we have projects that contain files we have individual",
    "start": "1554039",
    "end": "1560480"
  },
  {
    "text": "mobile upload long-term storage files so we calculate with those Lambda functions kind of for all customers all this uh",
    "start": "1560480",
    "end": "1567600"
  },
  {
    "text": "storage metrics we publish it via grafana and then this can be converted kind of to the project management they",
    "start": "1567600",
    "end": "1573919"
  },
  {
    "text": "know the how much does it cost it may depend on the customer and they do it so",
    "start": "1573919",
    "end": "1579919"
  },
  {
    "text": "also very powerful and once again this is the same we have here event Bridge with a with multiple targets very",
    "start": "1579919",
    "end": "1586679"
  },
  {
    "text": "powerful but the same also could be done also with SNS it also support multiple",
    "start": "1586679",
    "end": "1592679"
  },
  {
    "text": "Lambda functions so also once again it's scheduled events we calculate this one time per day uh or we delete this stuff",
    "start": "1592679",
    "end": "1601120"
  },
  {
    "text": "uh we have one more a bit complicated situation with sending these emails because basically the sending of",
    "start": "1601120",
    "end": "1609520"
  },
  {
    "text": "email is not done by the storage we have our Central application which stores",
    "start": "1609520",
    "end": "1615080"
  },
  {
    "text": "which sends all emails possible in our system Sy and that's why we just simply",
    "start": "1615080",
    "end": "1621240"
  },
  {
    "text": "use the fan out pattern we have one more complexity that I didn't tell you we have still monolithic part of the",
    "start": "1621240",
    "end": "1627799"
  },
  {
    "text": "applications but we we we which which also uses relational database the ec2",
    "start": "1627799",
    "end": "1634360"
  },
  {
    "text": "servers and so on and we don't we cannot afford to have that system for each",
    "start": "1634360",
    "end": "1640200"
  },
  {
    "text": "individual customer some of them are fair small so we group the customers and uh kind of we have kind of customer",
    "start": "1640200",
    "end": "1647080"
  },
  {
    "text": "groups that we set up we have the same infrastructural setup ilb fs ec2 and and",
    "start": "1647080",
    "end": "1654240"
  },
  {
    "text": "postgress RDS and we group this customers depending on the on the logic so we have very big customers they",
    "start": "1654240",
    "end": "1660519"
  },
  {
    "text": "completely alone because that that other degradations don't impact them but we",
    "start": "1660519",
    "end": "1666720"
  },
  {
    "text": "also just put them together it's also contractual stuff so once again if we send here email notification first of",
    "start": "1666720",
    "end": "1673159"
  },
  {
    "text": "all it needs to be decided what customer group needs to process it so what kind",
    "start": "1673159",
    "end": "1678399"
  },
  {
    "text": "of uh this individual application needs to receive it and for that we use that",
    "start": "1678399",
    "end": "1683679"
  },
  {
    "text": "uh fan out pattern uh where the each each Central system hears to its",
    "start": "1683679",
    "end": "1690240"
  },
  {
    "text": "own que which then filters only the messages that are interested so there's",
    "start": "1690240",
    "end": "1695279"
  },
  {
    "text": "the que knows for what customers are stored are processed via the central service and they have customer ID in the",
    "start": "1695279",
    "end": "1702320"
  },
  {
    "text": "message and they only filter their own stuff so very simple fan out pattern but very powerful and because of that",
    "start": "1702320",
    "end": "1708840"
  },
  {
    "text": "complications we simply use it very very frequently of course it needs to be",
    "start": "1708840",
    "end": "1714720"
  },
  {
    "text": "updated if we have new customers new IDs it's of course job to be done but basically this needs to be done on this",
    "start": "1714720",
    "end": "1720919"
  },
  {
    "text": "side the ID will be just transferred via SNS automatically then the central system is taking care of sending the",
    "start": "1720919",
    "end": "1727720"
  },
  {
    "text": "emails there is a lot of p uh uh work to be done we have generic",
    "start": "1727720",
    "end": "1733640"
  },
  {
    "text": "templates and the customer can just decide how the the each indiv ual template is looking like so we have here",
    "start": "1733640",
    "end": "1741320"
  },
  {
    "text": "I think it's one of the last things that I would like to show you in terms of patterns we have",
    "start": "1741320",
    "end": "1746960"
  },
  {
    "text": "migration API it's only used for the first time so the customers had that all",
    "start": "1746960",
    "end": "1752799"
  },
  {
    "text": "storage and then we decided customer by customer just to migrate them to this new implementation done on the BL",
    "start": "1752799",
    "end": "1759240"
  },
  {
    "text": "serverless and this is kind of a huge process there the old logic had different structures and all that stuff",
    "start": "1759240",
    "end": "1766679"
  },
  {
    "text": "and we have here kind of this ation API which kicks in if we start okay we'd like to convert this customer to this",
    "start": "1766679",
    "end": "1773480"
  },
  {
    "text": "new cons consumer file storage customer and what we do we just group the the the",
    "start": "1773480",
    "end": "1779080"
  },
  {
    "text": "the users project into chunks like 100 projects we just add some metadata and",
    "start": "1779080",
    "end": "1785000"
  },
  {
    "text": "place this whole stuff with the metadata on S3 it's such a big because we one",
    "start": "1785000",
    "end": "1792200"
  },
  {
    "text": "project can be kind of hundreds of like Photo book can contain hundreds of pages",
    "start": "1792200",
    "end": "1797679"
  },
  {
    "text": "in each each page can contain so many pictures so we put all this metadata to S3 it's not possible via sqs and all",
    "start": "1797679",
    "end": "1804159"
  },
  {
    "text": "that stuff because uh the payload is limited on sqs and then we have here the",
    "start": "1804159",
    "end": "1809399"
  },
  {
    "text": "same stuff uh we send event create event to Lambda function",
    "start": "1809399",
    "end": "1815320"
  },
  {
    "text": "which then will process this uh this migration of these storages of this",
    "start": "1815320",
    "end": "1822799"
  },
  {
    "text": "projects safe project in chunks so this is kind of the example of storage first pattern so you put something first on",
    "start": "1822799",
    "end": "1829440"
  },
  {
    "text": "the storage to to S3 and now you simply asynchronously process that via the",
    "start": "1829440",
    "end": "1834519"
  },
  {
    "text": "queue in batches and all that stuff so once again we have here even stage process it's much more complicated we",
    "start": "1834519",
    "end": "1840480"
  },
  {
    "text": "migrate the whole all the projects of the customers of of and consumers of",
    "start": "1840480",
    "end": "1846519"
  },
  {
    "text": "that customer but it might be the case that there are so many that the migration takes hours so what happens if",
    "start": "1846519",
    "end": "1852320"
  },
  {
    "text": "the user the the end user would like just to access the system and it's in",
    "start": "1852320",
    "end": "1858679"
  },
  {
    "text": "the kind of in his projects are not migrated and the system is saying I don't see your project so we have here",
    "start": "1858679",
    "end": "1864480"
  },
  {
    "text": "on demand batch mode where we simply migrate everything normally but we have this on demand so in case the user logs",
    "start": "1864480",
    "end": "1871240"
  },
  {
    "text": "in we already look into the it safe projects like books and all the stuff and if we see that something is not",
    "start": "1871240",
    "end": "1878039"
  },
  {
    "text": "migrated we start migration immediately because we we will assume he will go into the safe project and continue",
    "start": "1878039",
    "end": "1884080"
  },
  {
    "text": "something so we don't wait hours then it will be his turn so we have batch mode as an on demand mode and yeah once again",
    "start": "1884080",
    "end": "1891399"
  },
  {
    "text": "it's storage first pattern very very uh uh mighty but of course we needed to",
    "start": "1891399",
    "end": "1898880"
  },
  {
    "text": "deal here sometimes we have errors during the migration process because we have customer storing this uh projects",
    "start": "1898880",
    "end": "1905039"
  },
  {
    "text": "for years and yeah they are willing to pay it and the things have changed so we cannot read that projects that are so",
    "start": "1905039",
    "end": "1911039"
  },
  {
    "text": "old and there are some sometimes errors and we need to deal with that can we migrate or we don't even have that",
    "start": "1911039",
    "end": "1916720"
  },
  {
    "text": "products are not even available and cannot be printed so we have here of course dqs and all that stuff we have",
    "start": "1916720",
    "end": "1923120"
  },
  {
    "text": "internal alerts it's uh the people are on the job if the migration is is going on so we can receive also here",
    "start": "1923120",
    "end": "1929320"
  },
  {
    "text": "notifications look into the stuff and all that stuff and just just to to see is that something that you can recover",
    "start": "1929320",
    "end": "1935919"
  },
  {
    "text": "and with theq you can replay the events but basically what's here also important we have here also implemented partial",
    "start": "1935919",
    "end": "1941919"
  },
  {
    "text": "batch responses so that if in the batch things are processed well and there are",
    "start": "1941919",
    "end": "1947519"
  },
  {
    "text": "some some project that cannot be processed so that we don't process the same don't",
    "start": "1947519",
    "end": "1952880"
  },
  {
    "text": "migrate the same safe project once and you can use this batch right item operation on Dynamo DB where you can",
    "start": "1952880",
    "end": "1959279"
  },
  {
    "text": "also save up to 25 items up to 25 migrated projects to the Dynamo DB at",
    "start": "1959279",
    "end": "1966440"
  },
  {
    "text": "once and you will save time because uh the most expensive operation when storing to Dynamo DB is establishing the",
    "start": "1966440",
    "end": "1972799"
  },
  {
    "text": "connection yeah and if you can batch the things up then it becomes quicker but of",
    "start": "1972799",
    "end": "1977840"
  },
  {
    "text": "of course we dealing here with up to 100 projects so we just probably have here",
    "start": "1977840",
    "end": "1983399"
  },
  {
    "text": "four transactions just in case everything has been migrated no that's the the last one I",
    "start": "1983399",
    "end": "1990000"
  },
  {
    "text": "wanted to show how we using kesis we are not using is with this um storage but we",
    "start": "1990000",
    "end": "1996480"
  },
  {
    "text": "have the central Cloud watch logs so this storage is implemented on its own",
    "start": "1996480",
    "end": "2001679"
  },
  {
    "text": "and WS account but of course we have account for our main applications that I showed you we have other applications we",
    "start": "2001679",
    "end": "2007960"
  },
  {
    "text": "have complete selfservice uh for creating the product uh which is also completely implemented",
    "start": "2007960",
    "end": "2014519"
  },
  {
    "text": "Services we have different accounts but we would like to have locks on the same in the same cloudwatch account so",
    "start": "2014519",
    "end": "2020919"
  },
  {
    "text": "because uh dealing with um pictures is only part",
    "start": "2020919",
    "end": "2026760"
  },
  {
    "text": "of the application if we have an error we would like to see the whole flows the user logged in the user selected",
    "start": "2026760",
    "end": "2032320"
  },
  {
    "text": "something the user purchased and there are different AWS account involved so we are transferring everything to one kind",
    "start": "2032320",
    "end": "2039720"
  },
  {
    "text": "of AWS account where we have Central cloudwatch look and we have kind of this cloudwatch cross account subscription so",
    "start": "2039720",
    "end": "2046519"
  },
  {
    "text": "that from our storage account we can subscribe to that uh to the central one",
    "start": "2046519",
    "end": "2051638"
  },
  {
    "text": "and we we first implemented that with kesis data stream but we then there was",
    "start": "2051639",
    "end": "2057839"
  },
  {
    "text": "even no serverless mode available but we needed just to to provision charts which",
    "start": "2057839",
    "end": "2063839"
  },
  {
    "text": "was not very pleas not not very convenient but then kesis data firehose",
    "start": "2063839",
    "end": "2070200"
  },
  {
    "text": "I think it's now renamed to Amazon data firehose so no kesis in the name but basically then allowed also the Integra",
    "start": "2070200",
    "end": "2077878"
  },
  {
    "text": "direct integration to Amazon open search where we kind of in the end the logs will end and we can search for them so",
    "start": "2077879",
    "end": "2084679"
  },
  {
    "text": "we immediately switch to this kesis data fireh hor we don't need to provision anything and then the locks flow via",
    "start": "2084679",
    "end": "2091320"
  },
  {
    "text": "cross account subscription through Amazon kesis data fire host to Amazon",
    "start": "2091320",
    "end": "2096560"
  },
  {
    "text": "search where we can search the whole kind of History the whole session of the customers also very very powerful",
    "start": "2096560",
    "end": "2102720"
  },
  {
    "text": "pattern the same can also be done if you are sending emails with Amazon simple email service you can do basically the",
    "start": "2102720",
    "end": "2110160"
  },
  {
    "text": "same if you would like to have logs uh SAS is connected to data firehorse as",
    "start": "2110160",
    "end": "2116000"
  },
  {
    "text": "well yeah this is basically the pattern so there are much more but I want to Simply to show you some of them and what",
    "start": "2116000",
    "end": "2123440"
  },
  {
    "start": "2120000",
    "end": "2136000"
  },
  {
    "text": "are the kind of lessons learned it's not quite easy to implement something like this so I would just briefly only",
    "start": "2123440",
    "end": "2129839"
  },
  {
    "text": "briefly talk about certain things that were important so the first one architect with AWS soral quarters and",
    "start": "2129839",
    "end": "2136320"
  },
  {
    "start": "2136000",
    "end": "2645000"
  },
  {
    "text": "Technical Concepts in mind especially if you're dealing with event-driven architectures you need to understand the",
    "start": "2136320",
    "end": "2141720"
  },
  {
    "text": "differences when I use sqs when I use SNS Kinesis in event Bridge there are",
    "start": "2141720",
    "end": "2146960"
  },
  {
    "text": "huge differences but there are also similarities like SNS and and um and",
    "start": "2146960",
    "end": "2152440"
  },
  {
    "text": "event Bridge have both some common functionality you need to understand that because you need to to to select",
    "start": "2152440",
    "end": "2159319"
  },
  {
    "text": "the right tool for the job this is the first one the second one you need to deal with understanding of the service",
    "start": "2159319",
    "end": "2165640"
  },
  {
    "text": "quarters they are all all AWS serves have them but especially with sores ones",
    "start": "2165640",
    "end": "2171480"
  },
  {
    "text": "you you need to understand they're kind of different and AWS provides the service calls with the name service",
    "start": "2171480",
    "end": "2178319"
  },
  {
    "text": "quarters so you can go there select your service like API Gateway and then you",
    "start": "2178319",
    "end": "2184079"
  },
  {
    "text": "can look into the quarters so quarters are constraints basically what you can do and the most important column is is",
    "start": "2184079",
    "end": "2191560"
  },
  {
    "text": "it adjustable or not and uh these are account and region limits so we are in",
    "start": "2191560",
    "end": "2198280"
  },
  {
    "text": "AWS region Au Central 1 in Frankfurt and these are the quars for that service you",
    "start": "2198280",
    "end": "2203680"
  },
  {
    "text": "can if you in Us East one you can see different values this is very important because if the quot is not adjustable",
    "start": "2203680",
    "end": "2211319"
  },
  {
    "text": "you need to architect around it if it's adjustable you can go to AWS customer support explain the use case and they",
    "start": "2211319",
    "end": "2217760"
  },
  {
    "text": "can raise the quarter but you need in many cases to explain uh the situation and it's important you can for some",
    "start": "2217760",
    "end": "2225040"
  },
  {
    "text": "metrics you need to look just do you need to change something they provide you monitoring metric so you can see",
    "start": "2225040",
    "end": "2232240"
  },
  {
    "text": "this is the concurrent invocations of Lambda do I need to raise it I'm okay or I'm not okay yeah or you can raise the",
    "start": "2232240",
    "end": "2239760"
  },
  {
    "text": "request so we increased a lot of quarters on our own for API Gateway for Lambda so that's not a huge problem per",
    "start": "2239760",
    "end": "2247599"
  },
  {
    "text": "say so and of course you need to understand them I only show you the API Gateway quot the most important one the",
    "start": "2247599",
    "end": "2254520"
  },
  {
    "text": "same will apply for all others and if I'm talking about the understanding technical Concepts you need to",
    "start": "2254520",
    "end": "2260119"
  },
  {
    "text": "understand the concept of the distributed systems like API Gateway has its own API Gateway talking algorithm",
    "start": "2260119",
    "end": "2267560"
  },
  {
    "text": "you have this throttling of different Services how throttle works you have rates you have bursts they are",
    "start": "2267560",
    "end": "2273359"
  },
  {
    "text": "completely different for Lambda for Dynamo DB even the same term will be Des",
    "start": "2273359",
    "end": "2278560"
  },
  {
    "text": "differently and this is hugely important that you understand the stuff that you will not be surprised by by S by S",
    "start": "2278560",
    "end": "2285520"
  },
  {
    "text": "behavior and uh if you have this you also need to understand how this applies together for example by default if you",
    "start": "2285520",
    "end": "2294079"
  },
  {
    "text": "have API Gateway the maximum number of requests per second for all your apis is",
    "start": "2294079",
    "end": "2299319"
  },
  {
    "text": "only 10,000 so you can only send 10,000 requests from all your apis of your region by default and this is the quar",
    "start": "2299319",
    "end": "2306599"
  },
  {
    "text": "that you probably need to raise very quickly otherwise it might be throttled but there is this additional burst rate",
    "start": "2306599",
    "end": "2313599"
  },
  {
    "text": "that can be only up to 5,000 that can save you for very short period of time and it's even not adjustable yeah so",
    "start": "2313599",
    "end": "2320920"
  },
  {
    "text": "this is something you can raise that even to several hundreds thousands uh but that second one is only",
    "start": "2320920",
    "end": "2327960"
  },
  {
    "text": "for very short burst and you need to understand how this burst is calculated with token buket algorithms and",
    "start": "2327960",
    "end": "2334319"
  },
  {
    "text": "sometimes you need to Def just set the quotas for for different API so that the one API doesn't consume all the qu from",
    "start": "2334319",
    "end": "2343000"
  },
  {
    "text": "other API so you can also throttle kind of say that's the limit I don't expect any more maybe it's then de do attack",
    "start": "2343000",
    "end": "2349599"
  },
  {
    "text": "but there are other solutions for that yeah also for API Gateway this time out maximum integration time out is 29",
    "start": "2349599",
    "end": "2356680"
  },
  {
    "text": "seconds it's adjustable since several months previously it wasn't adjustable especially for gen cases or then you are",
    "start": "2356680",
    "end": "2364440"
  },
  {
    "text": "talking to some very slow third parties you can adjust the reason Asterix they can limit your number of concurrent",
    "start": "2364440",
    "end": "2371800"
  },
  {
    "text": "invocations per second for this yeah depending how what the value you require if you just require here minutes we did",
    "start": "2371800",
    "end": "2378200"
  },
  {
    "text": "not need to raise that I don't know what there will be the reaction uh but this is something that stated clear in",
    "start": "2378200",
    "end": "2384079"
  },
  {
    "text": "documentation also the payload size with the API Gateway is 10 megabytes probably you don't need more you will not upload",
    "start": "2384079",
    "end": "2391000"
  },
  {
    "text": "S3 uh pictures to through to S3 through API Gateway you can upload them directly",
    "start": "2391000",
    "end": "2396560"
  },
  {
    "text": "with SDK from the front end using preced URL so API Gateway is not for that use",
    "start": "2396560",
    "end": "2403400"
  },
  {
    "text": "case anyway so this is only the one example so the same is true for lambdas for Dynamo DB you need to ask S you need",
    "start": "2403400",
    "end": "2410839"
  },
  {
    "text": "to understand why the q's are so important or so powerful because I know",
    "start": "2410839",
    "end": "2416560"
  },
  {
    "text": "only two services at AWS SNS and sqs that can scale virtually unlimit this is",
    "start": "2416560",
    "end": "2422720"
  },
  {
    "text": "what the documentation says forq unlimit number of messages per second",
    "start": "2422720",
    "end": "2427880"
  },
  {
    "text": "yeah so it's very difficult to reach something that will break I could put more than one several hundreds thousands",
    "start": "2427880",
    "end": "2435560"
  },
  {
    "text": "it worked yeah so this is very powerful but of course you need to also to understand then you will be in the",
    "start": "2435560",
    "end": "2441720"
  },
  {
    "text": "asynchronous world where we are partially I have shown you the the example and you need also to understand",
    "start": "2441720",
    "end": "2448440"
  },
  {
    "text": "why if you need the F4 and we needed that one for login and log out their um",
    "start": "2448440",
    "end": "2455440"
  },
  {
    "text": "throughput is muchow for five so you need to think there is a high throughput",
    "start": "2455440",
    "end": "2461680"
  },
  {
    "text": "mode which is then becomes even more difficult to implement because the ordering is only guaranteed for the",
    "start": "2461680",
    "end": "2466760"
  },
  {
    "text": "group of messages so read all those Concepts normal Q F Q look what's",
    "start": "2466760",
    "end": "2472200"
  },
  {
    "text": "importance of F Q should be kind of an exception really exception we needed it one time but basically normal Q has a",
    "start": "2472200",
    "end": "2479160"
  },
  {
    "text": "unlimited throughput so the most important also part is yeah we have some kind of discussions now about the",
    "start": "2479160",
    "end": "2486000"
  },
  {
    "text": "Improvement of a services at AWS but I simply",
    "start": "2486000",
    "end": "2491720"
  },
  {
    "text": "combined just the what AWS has done in the recent year with all the quarters",
    "start": "2491720",
    "end": "2497800"
  },
  {
    "text": "and all that stuff that raised the quarters enabled the use cases and you see it has happened quite a lot for",
    "start": "2497800",
    "end": "2504640"
  },
  {
    "text": "example Lambda now scales 12 time more quicker it was implemented for the last",
    "start": "2504640",
    "end": "2510960"
  },
  {
    "text": "reinvent and even Lambda function can scale even independently we had previously I think five 500 additional",
    "start": "2510960",
    "end": "2518880"
  },
  {
    "text": "invocation up to the maximum within 30 seconds now you have each 10 seconds 100",
    "start": "2518880",
    "end": "2526240"
  },
  {
    "text": "exist additional concurrent invocation until you reach the account limit so lots of stuff personally if you like to",
    "start": "2526240",
    "end": "2534359"
  },
  {
    "text": "use Amazon orora sess V2 now the version two the data API has been implemented",
    "start": "2534359",
    "end": "2540400"
  },
  {
    "text": "Dynamo DB introduces configurable maximum throughput for on demand table so the problem was with on demand your",
    "start": "2540400",
    "end": "2546839"
  },
  {
    "text": "cost can scale unlimitedly unlimitless and you simply can set the max value and say I would like to balance the cost and",
    "start": "2546839",
    "end": "2554200"
  },
  {
    "text": "yeah performance because otherwise you will be throttled yeah the same is Lambda supports faster polling from uh",
    "start": "2554200",
    "end": "2560760"
  },
  {
    "text": "Amazon sqs and all this stuff uh and this one this API Gateway integration",
    "start": "2560760",
    "end": "2566040"
  },
  {
    "text": "time out of 21 second has been increased so to be honest lot has been done in the",
    "start": "2566040",
    "end": "2572800"
  },
  {
    "text": "last year and I hope it will continue so that it will unlock um new use cases or",
    "start": "2572800",
    "end": "2578559"
  },
  {
    "text": "you can simply remove your workarounds that have been provided because the limits were a bit lower so one word of",
    "start": "2578559",
    "end": "2585760"
  },
  {
    "text": "caution it's also about latency so I just shown you this this this metrics this constraints this quotas you also",
    "start": "2585760",
    "end": "2592599"
  },
  {
    "text": "need to understand the latency of all the services because all this asynchronous things like event Bridge they introduce some additional latency",
    "start": "2592599",
    "end": "2599079"
  },
  {
    "text": "and even if it's asynchronous you need to think is it enough will the performance be enough I can refer to to",
    "start": "2599079",
    "end": "2604640"
  },
  {
    "text": "the talk or investigations of my friend Daniel frasa he's talking a lot about this he's working a big company and he",
    "start": "2604640",
    "end": "2612559"
  },
  {
    "text": "has investigated what will happen with Adas if you use EV EV bus SNS sqs or",
    "start": "2612559",
    "end": "2618440"
  },
  {
    "text": "even you go through SNS to sqs so there are kind of latencies they have been improved I read that the latency of",
    "start": "2618440",
    "end": "2625319"
  },
  {
    "text": "event bus event Bridge has been improved it's now lower it's the second",
    "start": "2625319",
    "end": "2631440"
  },
  {
    "text": "Improvement this year already so this might not even be actual but you need to",
    "start": "2631440",
    "end": "2636839"
  },
  {
    "text": "understand that as well there are latencies involved and that that's a normal stuff so General architectural",
    "start": "2636839",
    "end": "2643680"
  },
  {
    "text": "decisions basically I showed you Dynamo DB as a solution but with that team we started first with Aurora serverless",
    "start": "2643680",
    "end": "2652160"
  },
  {
    "start": "2645000",
    "end": "2782000"
  },
  {
    "text": "this was easier for us we understood relational databases better the situation was we didn't want to use vpcs",
    "start": "2652160",
    "end": "2659559"
  },
  {
    "text": "with Lambda what was required and we kind of wanted to use data API and we",
    "start": "2659559",
    "end": "2664839"
  },
  {
    "text": "hit exactly one limit with the one that was available back then number of",
    "start": "2664839",
    "end": "2670119"
  },
  {
    "text": "concurrent requests and it was not adjustable only 1,000 so we could not work around this we talked Aurora oras",
    "start": "2670119",
    "end": "2677400"
  },
  {
    "text": "V2 was released but there was no data API back then supported two years ago as we needed to decide so we we we could",
    "start": "2677400",
    "end": "2684440"
  },
  {
    "text": "not re architect we did not want vpcs so we switched to Dynamo DB it required a",
    "start": "2684440",
    "end": "2689599"
  },
  {
    "text": "lot of investment and knowledge Dynamo DB is no squl it's different yeah but we",
    "start": "2689599",
    "end": "2694720"
  },
  {
    "text": "did that with another team we started with with Dynamo DB so if you are just now probably having experience in the",
    "start": "2694720",
    "end": "2701520"
  },
  {
    "text": "relational databases think of it it's just a bit different I would say no sqls but",
    "start": "2701520",
    "end": "2708119"
  },
  {
    "text": "Dynamo DB doesn't require VPC in case you would like to use this",
    "start": "2708119",
    "end": "2713200"
  },
  {
    "text": "read read through cach and write through cach docks then you will require to have VPC yeah in the other way with Aurora",
    "start": "2713200",
    "end": "2719640"
  },
  {
    "text": "serverless you need to think there are also two scenarios because you will need to think about managing the connections",
    "start": "2719640",
    "end": "2725640"
  },
  {
    "text": "to the database you using Lambda because the number of connections is a factor of the size of the database yeah the bigger",
    "start": "2725640",
    "end": "2732559"
  },
  {
    "text": "the database relational database the more connection are possible but the short living Lambda function you can exhaust that yeah so you can use fds",
    "start": "2732559",
    "end": "2739480"
  },
  {
    "text": "proxy which requires with Aurora ores with Pro aora it requires VPC as well",
    "start": "2739480",
    "end": "2745040"
  },
  {
    "text": "you need to put everything into VPC the cold starts are not the problem anymore but there's much more infrastructure as",
    "start": "2745040",
    "end": "2751160"
  },
  {
    "text": "C security groups needs to be decided ports enabled that Lambda is allowed to talk to the database it's much more CAU",
    "start": "2751160",
    "end": "2758720"
  },
  {
    "text": "we didn't want that with the data API now which is Now supported in the",
    "start": "2758720",
    "end": "2763920"
  },
  {
    "text": "version two only for postgress it was announced in December last year there is",
    "start": "2763920",
    "end": "2768960"
  },
  {
    "text": "that option it wasn't the case two years as we needed to assess that situation we switch to Dynamo DB now you have more",
    "start": "2768960",
    "end": "2775160"
  },
  {
    "text": "option thank to AWS so you can decide what you do yeah uh only briefly of",
    "start": "2775160",
    "end": "2781680"
  },
  {
    "text": "course there was a talk about um by by by James uh about the observability",
    "start": "2781680",
    "end": "2788079"
  },
  {
    "start": "2782000",
    "end": "2952000"
  },
  {
    "text": "really hard without any things yeah and probably you will end up with some third",
    "start": "2788079",
    "end": "2793760"
  },
  {
    "text": "party provider to do this because the functionality of X-ray sometimes is not sufficient we also work with one of them",
    "start": "2793760",
    "end": "2801240"
  },
  {
    "text": "but be aware of course the cost of the observability is not neglectable it's really big one",
    "start": "2801240",
    "end": "2807960"
  },
  {
    "text": "so we be need to think about maybe sampling and all that stuff with the",
    "start": "2807960",
    "end": "2813000"
  },
  {
    "text": "risk of losing some some some things maybe the last quote and I found it",
    "start": "2813000",
    "end": "2818839"
  },
  {
    "text": "interesting Gregor Hopper wrote the article serverless illusion in April now he left AWS I hope not because of that",
    "start": "2818839",
    "end": "2826400"
  },
  {
    "text": "article but uh he is a well-known architect and what he says and I agree",
    "start": "2826400",
    "end": "2833280"
  },
  {
    "text": "servus reduces the need for ready available op skills and op skills are data data center op skills or classical",
    "start": "2833280",
    "end": "2840520"
  },
  {
    "text": "things like E2 or you manage database on your own uh but they increase demand for",
    "start": "2840520",
    "end": "2847319"
  },
  {
    "text": "less ready available distributed system design skills so what he tries to say",
    "start": "2847319",
    "end": "2853119"
  },
  {
    "text": "with that is only it's really hard to be distributed system and surus is inherently distributed with event driven",
    "start": "2853119",
    "end": "2859760"
  },
  {
    "text": "all that stuff so you need good design you need good good apis so this a huge",
    "start": "2859760",
    "end": "2865240"
  },
  {
    "text": "investment sometimes we are kind of Brave we start that we are doing that and then we only then realized it's much",
    "start": "2865240",
    "end": "2871480"
  },
  {
    "text": "more complicated than it that we thought it will be and also it happened to us we",
    "start": "2871480",
    "end": "2877160"
  },
  {
    "text": "needed to deal a lot with that and of course even if we are talking about um",
    "start": "2877160",
    "end": "2883559"
  },
  {
    "text": "servess yeah we are focusing more on the business logic what is of course true is that uh dealing with all that retries",
    "start": "2883559",
    "end": "2891280"
  },
  {
    "text": "all that stuff is not the business logic yeah but we need to think about it in this distributed system how this the",
    "start": "2891280",
    "end": "2897880"
  },
  {
    "text": "things are working and it's also not the business logic it's Shifting the work also to somewhere some some different",
    "start": "2897880",
    "end": "2905400"
  },
  {
    "text": "place I would say just the thinking but of course the power of Serv is that you can do everything in one team and we are",
    "start": "2905400",
    "end": "2911440"
  },
  {
    "text": "doing this this all what I shown you uh has been implemented by one team we",
    "start": "2911440",
    "end": "2917000"
  },
  {
    "text": "don't have Ops with each Dev does the op part and this is of course we are much",
    "start": "2917000",
    "end": "2922280"
  },
  {
    "text": "more quicker with that but it required a lot of investment and learning and not every company can sustain this",
    "start": "2922280",
    "end": "2928839"
  },
  {
    "text": "investment to be honest you are all the companies are on different stages the things are maybe differently important",
    "start": "2928839",
    "end": "2935280"
  },
  {
    "text": "we were allowed to do this I quite grateful for that but it may not be the use case but if you are kind of through",
    "start": "2935280",
    "end": "2941799"
  },
  {
    "text": "this learning phase and you can deal with that then you will see huge benefits so that's basically it what I",
    "start": "2941799",
    "end": "2948839"
  },
  {
    "text": "wanted to talk uh or explain and show you and thank you very much",
    "start": "2948839",
    "end": "2957160"
  }
]