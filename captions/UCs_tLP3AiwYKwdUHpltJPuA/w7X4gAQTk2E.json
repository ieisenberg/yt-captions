[
  {
    "start": "0",
    "end": "95000"
  },
  {
    "text": "[Music] okay I guess we'll start thanks very",
    "start": "6990",
    "end": "13670"
  },
  {
    "text": "much for deciding to be in this talk rather than something else I'm Goku and",
    "start": "13670",
    "end": "19150"
  },
  {
    "text": "what I'll be talking about is how do service deployments impact how we design",
    "start": "19150",
    "end": "27200"
  },
  {
    "text": "and deploy our systems I think one of the really interesting things that is",
    "start": "27200",
    "end": "32689"
  },
  {
    "text": "happening at the moment is this whole buzzword is exploding and lots of people",
    "start": "32689",
    "end": "40339"
  },
  {
    "text": "are approaching it from a technical perspective where is it stateless is it functions is it platform",
    "start": "40339",
    "end": "47059"
  },
  {
    "text": "as a service and as an industry we like dealing with technical stuff that's what we do tend to do but I think that the",
    "start": "47059",
    "end": "56269"
  },
  {
    "text": "whole serverless thing whatever you decide to call it is much much much more important to look from a financial",
    "start": "56269",
    "end": "63649"
  },
  {
    "text": "perspective so the way we are approaching things in terms of designing",
    "start": "63649",
    "end": "70640"
  },
  {
    "text": "and deploying applications things we take for granted today I have been built based on our experiences in the last 20",
    "start": "70640",
    "end": "79670"
  },
  {
    "text": "30 years deploying systems and many of the constraints that exists in the last",
    "start": "79670",
    "end": "88430"
  },
  {
    "text": "20 30 years no longer applied to deploying with a SS lambda which means",
    "start": "88430",
    "end": "94610"
  },
  {
    "text": "that many things that we now take for granted as best practices just are",
    "start": "94610",
    "end": "99740"
  },
  {
    "start": "95000",
    "end": "120000"
  },
  {
    "text": "solutions for constraints that no longer apply and that was really really interesting for me kind of when we",
    "start": "99740",
    "end": "106820"
  },
  {
    "text": "started getting our head around lambda deployments and that's kind of what I want to talk about what are the things that we now think are best practices but",
    "start": "106820",
    "end": "114890"
  },
  {
    "text": "are actually just solutions for problems that are no longer applicable and kind",
    "start": "114890",
    "end": "119900"
  },
  {
    "text": "of in terms of what I'm gonna talk about just as an example I develop a",
    "start": "119900",
    "end": "128110"
  },
  {
    "start": "120000",
    "end": "185000"
  },
  {
    "text": "collaboration up that helps people do mind maps online and in February 2016",
    "start": "128110",
    "end": "135620"
  },
  {
    "text": "we started migrating from Heroku to a SS lambda it took us about one year to move",
    "start": "135620",
    "end": "141500"
  },
  {
    "text": "everything because we did gradually during that year we increased them now",
    "start": "141500",
    "end": "148280"
  },
  {
    "text": "kind of decreased the hosting costs by about 1/2 and while at the same time",
    "start": "148280",
    "end": "154670"
  },
  {
    "text": "adding a bunch of new services and our number of active users increased by 50% in the same period so kind of all in all",
    "start": "154670",
    "end": "161750"
  },
  {
    "text": "my estimate is that we saved around 66% or 2/3 on our hosting costs and that's",
    "start": "161750",
    "end": "169640"
  },
  {
    "text": "really really interesting if you look at it from a perspective running a small business so after kind of I started publishing on",
    "start": "169640",
    "end": "178340"
  },
  {
    "text": "this a guy called Robert Charlie got in touch with me he wanted to do a scientific paper on this and together we",
    "start": "178340",
    "end": "184490"
  },
  {
    "text": "wrote a proper scientific paper Martin talked about science papers yesterday so you know all my professors at the",
    "start": "184490",
    "end": "190880"
  },
  {
    "start": "185000",
    "end": "242000"
  },
  {
    "text": "university of finally gonna be proud of me and know that all the alcohol kind of was worth something at the end and you",
    "start": "190880",
    "end": "197810"
  },
  {
    "text": "can kind of download this it's it's called the kind of economic an architectural impact of cephalus is",
    "start": "197810",
    "end": "204350"
  },
  {
    "text": "horrible but that's okay so you can get a lot more on the numbers that I talked about there but I realized as we were",
    "start": "204350",
    "end": "209989"
  },
  {
    "text": "doing research for this that actually our results were not even that interesting because we talked to people",
    "start": "209989",
    "end": "216980"
  },
  {
    "text": "that saved something like 99% on their hosting costs by moving away from other",
    "start": "216980",
    "end": "222680"
  },
  {
    "text": "platforms to - lambda' Heroku is reasonably cost efficient",
    "start": "222680",
    "end": "228290"
  },
  {
    "text": "anyway and moving or moving from older generations of cloud hosting or moving from on-premise hosting to lambda has an",
    "start": "228290",
    "end": "235519"
  },
  {
    "text": "even bigger potential to kind of do stuff so the key thing there I I think",
    "start": "235519",
    "end": "241010"
  },
  {
    "text": "that is really important to consider is kind of the way lambda is priced and in",
    "start": "241010",
    "end": "246140"
  },
  {
    "start": "242000",
    "end": "279000"
  },
  {
    "text": "my experience is mostly with AWS lambda although pretty much all the other cloud",
    "start": "246140",
    "end": "251209"
  },
  {
    "text": "providers are copying features and models now so the way a double is lambda is priced kind of fundamentally changes",
    "start": "251209",
    "end": "257900"
  },
  {
    "text": "the incentives for deployments fundamentally changes the incentives for good architecture and I think Martin's",
    "start": "257900",
    "end": "264740"
  },
  {
    "text": "talked about yesterday about engineering and how that's working within constraints I think cost is one of the major",
    "start": "264740",
    "end": "271039"
  },
  {
    "text": "constraints we have to work in and the pricing model kind of",
    "start": "271039",
    "end": "277090"
  },
  {
    "text": "fundamentally changes really important so kind of in terms of the pricing lamda prices stuff per request and per 100",
    "start": "277090",
    "end": "286780"
  },
  {
    "text": "millisecond increments in a processor in a virtual memory pack so these two",
    "start": "286780",
    "end": "293650"
  },
  {
    "text": "things are really really important to consider because they change how we pay",
    "start": "293650",
    "end": "300520"
  },
  {
    "text": "for for kind of what we're using and they start charging things not in terms",
    "start": "300520",
    "end": "307300"
  },
  {
    "text": "of reserved capacity but in terms of actual usage on a hundred millisecond",
    "start": "307300",
    "end": "312729"
  },
  {
    "text": "increments so it doesn't matter whether you have five VMs 500 VMs if you run",
    "start": "312729",
    "end": "318510"
  },
  {
    "text": "three boxes or 5000 boxes to process something all that matters is how many",
    "start": "318510",
    "end": "323830"
  },
  {
    "text": "requests came in and how long they took to execute under what memory conditions",
    "start": "323830",
    "end": "329650"
  },
  {
    "text": "so this whole buzzword of services is is horrible because of course there are",
    "start": "329650",
    "end": "334720"
  },
  {
    "text": "servers out there and things like that but as somebody came up with a real nice definition on Twitter the other day is",
    "start": "334720",
    "end": "340570"
  },
  {
    "text": "saying that kind of that the thing is serverless if you're only paying for actual usage if you're not paying for what you have",
    "start": "340570",
    "end": "348340"
  },
  {
    "text": "to plan as a reserved capacity so kind of historically that's not been like that historically good architecture",
    "start": "348340",
    "end": "356380"
  },
  {
    "text": "optimized for reserved resources and I you know 20 years ago in my previous",
    "start": "356380",
    "end": "364030"
  },
  {
    "text": "life I worked on trading platforms that were deployed on immortal Hardware I was",
    "start": "364030",
    "end": "369490"
  },
  {
    "text": "never supposed to die the storage cost more than my house the processors were",
    "start": "369490",
    "end": "374710"
  },
  {
    "text": "insanely expensive and everything was duplicated replicated replicated because",
    "start": "374710",
    "end": "380020"
  },
  {
    "text": "it's never ever ever supposed to die but once you have a machine like that you",
    "start": "380020",
    "end": "386110"
  },
  {
    "text": "optimize for using what you've bought you kind of you bundle stuff onto it you put everything you can to run there and",
    "start": "386110",
    "end": "393880"
  },
  {
    "text": "you're very very careful not to exceed the capacity of that because if you do then you know adding a couple of more",
    "start": "393880",
    "end": "399280"
  },
  {
    "text": "processors or adding a bit more storage requires an insane amount of cost so then 2006",
    "start": "399280",
    "end": "407680"
  },
  {
    "text": "Amazon kind of came out with the idea that you can get a virtual machine running in about five or ten minutes",
    "start": "407680",
    "end": "413939"
  },
  {
    "text": "which was completely insane at the time I worked for a big telecoms provider where it took them nine months to",
    "start": "413939",
    "end": "421360"
  },
  {
    "text": "provision a virtual machine internally and you know now comes Amazon you can",
    "start": "421360",
    "end": "427569"
  },
  {
    "text": "get the VM for about ten minutes and and that there was amazing but kind of it did not fundamentally change how we are",
    "start": "427569",
    "end": "433569"
  },
  {
    "text": "thinking about deployments because you got five virtual machines you're paying for five virtual machines so you're",
    "start": "433569",
    "end": "439389"
  },
  {
    "text": "gonna bundle everything into those five virtual machines and we teach people",
    "start": "439389",
    "end": "444520"
  },
  {
    "text": "good software design like decoupling isolation and and all those brilliant software design practices and then",
    "start": "444520",
    "end": "451509"
  },
  {
    "text": "because you have five virtual machines then you put your payment servers and your log and your monitoring system all",
    "start": "451509",
    "end": "458139"
  },
  {
    "text": "on the five virtual machines where they start interacting with each other and we",
    "start": "458139",
    "end": "463360"
  },
  {
    "text": "had this problem we're kind of deploying lots of different payment services to reserve VMs one of the VMS did not clean",
    "start": "463360",
    "end": "470199"
  },
  {
    "text": "up the temp space correctly now one of the payment services did not clean up",
    "start": "470199",
    "end": "476500"
  },
  {
    "text": "after itself and all the time it filled up the temp space Linux starts really really misbehaving when you fill up the",
    "start": "476500",
    "end": "481960"
  },
  {
    "text": "temp space so that kind of VM started going crazy all the payment services that machine went down although they",
    "start": "481960",
    "end": "488050"
  },
  {
    "text": "were designed to be decoupled and isolated and everything and that when that machine went down there was a cascade all you know the remaining four",
    "start": "488050",
    "end": "495819"
  },
  {
    "text": "machines started filling up that time space very very quickly and everything kind of imploded so um although you know he teach people",
    "start": "495819",
    "end": "503919"
  },
  {
    "text": "about good design as decoupling we end up deploying stuff to save cash because we need to reserve capacity and the next",
    "start": "503919",
    "end": "511930"
  },
  {
    "text": "generation of cloud deployments Google App Engine Heroku and things like that they moved a lot of the responsibilities",
    "start": "511930",
    "end": "519760"
  },
  {
    "text": "over to the cloud providers like provisioning like monitoring and things like that but the whole thing remained",
    "start": "519760",
    "end": "526540"
  },
  {
    "text": "you were paying for dinos on Heroku for example we our app was deployed on Heroku we",
    "start": "526540",
    "end": "531779"
  },
  {
    "text": "we have about 20 or 30 different exporters in two different formats and if I'm going to run a primary and a",
    "start": "531779",
    "end": "538680"
  },
  {
    "text": "failover for each of these exporters on separate isolated VMs plus for some exporters I need a lot more capacity and",
    "start": "538680",
    "end": "545220"
  },
  {
    "text": "for others for some one in five or six VMs that means that for 30 exporters I",
    "start": "545220",
    "end": "551519"
  },
  {
    "text": "need a hundred VMs to run on if I really want to make it reliable and isolated",
    "start": "551519",
    "end": "557189"
  },
  {
    "text": "but some of those exporters like markdown I wrote for myself nobody else uses that some of those exporters like",
    "start": "557189",
    "end": "565050"
  },
  {
    "text": "PDF I use it all the time so you know I'll put the market on exporter on the same block of machines as the PDF I'm",
    "start": "565050",
    "end": "572100"
  },
  {
    "text": "not going to create a separate block of machines to save money and you know of course we made a stupid mistake and some",
    "start": "572100",
    "end": "578040"
  },
  {
    "text": "of those things started interfering with each other because they were on the same machine now technically we have a",
    "start": "578040",
    "end": "583110"
  },
  {
    "text": "solution for this and we had a solution for this it's containers it's isolation it's things like that but as a you know",
    "start": "583110",
    "end": "588779"
  },
  {
    "text": "average company it's very very difficult to dedicate the resources to manage",
    "start": "588779",
    "end": "594149"
  },
  {
    "text": "everything there so what lambda does Islam that kind of provides that as a service so we start moving away from",
    "start": "594149",
    "end": "600110"
  },
  {
    "start": "598000",
    "end": "652000"
  },
  {
    "text": "reserved capacity to utilize capacity it doesn't matter how many VMs you need",
    "start": "600110",
    "end": "606269"
  },
  {
    "text": "Amazon is going to scale this and recharge you for how much you've used and that's kind of the request based",
    "start": "606269",
    "end": "611550"
  },
  {
    "text": "pricing that's really really interesting so what that means is that there's no more financial incentive for me to put",
    "start": "611550",
    "end": "617670"
  },
  {
    "text": "the markdown in the PDF exporter on the same VM even worse because they have",
    "start": "617670",
    "end": "624180"
  },
  {
    "text": "different memory needs markdown doesn't need any memory PDF needs a lot because it's using go script and go script is a",
    "start": "624180",
    "end": "630149"
  },
  {
    "text": "memory hog putting those two things on the same VM I will end up paying for a markdown for a high memory watermark",
    "start": "630149",
    "end": "636839"
  },
  {
    "text": "that's a lot more than I need if I separate them so the financial incentives here are actually for people",
    "start": "636839",
    "end": "642449"
  },
  {
    "text": "to unbundle the apps in all these small isolated modules it's really really interesting because said historically it",
    "start": "642449",
    "end": "648779"
  },
  {
    "text": "was completely different so one of the things that I think kind of people",
    "start": "648779",
    "end": "654029"
  },
  {
    "start": "652000",
    "end": "717000"
  },
  {
    "text": "should think about more and it's not microservices it's not kind of functions you can you can buzz for this any way",
    "start": "654029",
    "end": "659790"
  },
  {
    "text": "you want but I think what we started thinking about is really decoupling different tasks that have",
    "start": "659790",
    "end": "666370"
  },
  {
    "text": "different memory constraints different CPU constraints different deployment needs and thinking about well you know",
    "start": "666370",
    "end": "673510"
  },
  {
    "text": "if it doesn't matter how many VMs this runs on I don't care about it being",
    "start": "673510",
    "end": "678550"
  },
  {
    "text": "separately deployed and that's very very liberating and it's completely opposite of what we've been taught to do a lot of",
    "start": "678550",
    "end": "686290"
  },
  {
    "text": "kind of many practices like Bluegreen deployments many practices like kind of concentrated monitoring and things like",
    "start": "686290",
    "end": "691930"
  },
  {
    "text": "that they did no longer that problematic and that opens up some really",
    "start": "691930",
    "end": "698380"
  },
  {
    "text": "interesting possibilities for example moving from Heroku to lambda we've kind of deleted a bunch of code that was -",
    "start": "698380",
    "end": "705519"
  },
  {
    "text": "dealing with kind of you know figuring out what's going on on a particular VM figuring out how these things interact",
    "start": "705519",
    "end": "710860"
  },
  {
    "text": "with do they interact with each other so a lot of this infrastructure code is gone so the next thing that kind of I",
    "start": "710860",
    "end": "718269"
  },
  {
    "start": "717000",
    "end": "781000"
  },
  {
    "text": "think historically happened and no longer applies is generally good architecture because of the whole idea",
    "start": "718269",
    "end": "723940"
  },
  {
    "text": "of you know reserved stuff optimized for failovers and what that meant was really",
    "start": "723940",
    "end": "731350"
  },
  {
    "text": "complex state management you wanted to have a warm failover machine or a couple",
    "start": "731350",
    "end": "736510"
  },
  {
    "text": "of warm fill of machines that can take the load in you know very quickly if something fails so data needs to be",
    "start": "736510",
    "end": "743980"
  },
  {
    "text": "replicated cache needs to be replicated data needs to be synchronized across replicated machines then this kind of",
    "start": "743980",
    "end": "751120"
  },
  {
    "text": "cache invalidation policies people need to care about this there's a lot of really complex code to do to make this",
    "start": "751120",
    "end": "758440"
  },
  {
    "text": "work really really well but from a perspective of paying per request kind",
    "start": "758440",
    "end": "765699"
  },
  {
    "text": "of failover machines are not doing anything so kind of unless the receiving request you're not paying for them and then the big question becomes do you",
    "start": "765699",
    "end": "772449"
  },
  {
    "text": "actually need to plan for failover like that and another really interesting constraint that I think Canova's is",
    "start": "772449",
    "end": "778300"
  },
  {
    "text": "changing with the whole lambda architecture is kind of the time to recover that was historically a big",
    "start": "778300",
    "end": "786160"
  },
  {
    "start": "781000",
    "end": "1110000"
  },
  {
    "text": "driver for a lot of architectural practices is no longer that important and that opens up some really",
    "start": "786160",
    "end": "792459"
  },
  {
    "text": "interesting possibilities what I think is becoming a lot more important is the time to start",
    "start": "792459",
    "end": "797889"
  },
  {
    "text": "so when we talk about the time to start I'll just show you something very quickly let's see if the gods of the",
    "start": "797889",
    "end": "803719"
  },
  {
    "text": "Internet help us here so ok so if I do",
    "start": "803719",
    "end": "817740"
  },
  {
    "text": "[Music] and I do constable let's be nice",
    "start": "817740",
    "end": "837849"
  },
  {
    "text": "so this is kind of a a web api that on any request to slash hello will reply",
    "start": "857440",
    "end": "863960"
  },
  {
    "text": "with hi there it's not that's kind of complicated and if I've not made a stupid mistake we",
    "start": "863960",
    "end": "870710"
  },
  {
    "text": "should be able to do something like so",
    "start": "870710",
    "end": "883160"
  },
  {
    "text": "I'm using an open-source tool for deployments here that actually we've",
    "start": "883160",
    "end": "888440"
  },
  {
    "text": "open sourced while building it for mindmap the first one that we created was something like 30 lines of",
    "start": "888440",
    "end": "895820"
  },
  {
    "text": "JavaScript code and about 250 lines of shell scripts to deploy and then I realized that kind of the risk is no",
    "start": "895820",
    "end": "901340"
  },
  {
    "text": "longer in the code the risk is in the deployment so we wanted to have properly unit tested deployment and configuration",
    "start": "901340",
    "end": "906800"
  },
  {
    "text": "and and we kind of just packaged up all the scripts so this thing is now on on a URL on Amazon and if I grab this URL so",
    "start": "906800",
    "end": "920000"
  },
  {
    "text": "I've created a slash hello so if I do curl hello I get to hi there",
    "start": "920000",
    "end": "927050"
  },
  {
    "text": "so now this is a kind of thing that's running on one VM but what's really",
    "start": "927050",
    "end": "932750"
  },
  {
    "text": "interesting about this is that if all of you start attacking this thing now it",
    "start": "932750",
    "end": "938240"
  },
  {
    "text": "will perfectly handle the load if nobody's using it they don't have to pay for anything if we have a massive",
    "start": "938240",
    "end": "944120"
  },
  {
    "text": "massive spike now but then kind of you know the spike goes out that's perfectly fine as well it will scale up and scale",
    "start": "944120",
    "end": "949220"
  },
  {
    "text": "down plus with this I get a bunch of things automatically like monitoring logging security provisioning all the",
    "start": "949220",
    "end": "958190"
  },
  {
    "text": "stuff that kind of people want to deal with the operations so I've created this thing called go to Copenhagen so if I go",
    "start": "958190",
    "end": "964940"
  },
  {
    "text": "to my lambdas now",
    "start": "964940",
    "end": "967870"
  },
  {
    "text": "come on internet okay so we have a knob",
    "start": "972779",
    "end": "980189"
  },
  {
    "text": "that's not the right account",
    "start": "980189",
    "end": "983540"
  },
  {
    "text": "goodgoodgood so let's see Amazon four one three six",
    "start": "1001250",
    "end": "1007800"
  },
  {
    "text": "so for now you've seen my code come on",
    "start": "1007800",
    "end": "1014339"
  },
  {
    "text": "come on so if I go to lambda now I have",
    "start": "1014339",
    "end": "1027928"
  },
  {
    "text": "no idea what they've changed here so this is the okay III you can see how",
    "start": "1027929",
    "end": "1037589"
  },
  {
    "text": "often I use this anomaly use the command line D so what I want you to say is kind",
    "start": "1037589",
    "end": "1043170"
  },
  {
    "text": "of with with this you get a bunch of operations things for free immediately and why is this suffering bustle and",
    "start": "1043170",
    "end": "1049500"
  },
  {
    "text": "things that doesn't matter let's functions functions functions",
    "start": "1049500",
    "end": "1055950"
  },
  {
    "text": "functions page to go to Copenhagen okay",
    "start": "1055950",
    "end": "1062250"
  },
  {
    "text": "so here it is and then I have kind of lots of stuff around monitoring I have",
    "start": "1062250",
    "end": "1067830"
  },
  {
    "text": "my kind of errors throttles I have logs in cloud watch I have pretty much everything I need from an Operations",
    "start": "1067830",
    "end": "1074429"
  },
  {
    "text": "perspective already provided to me so there's this whole buzzword kind of that",
    "start": "1074429",
    "end": "1080340"
  },
  {
    "text": "lambda is moving from DevOps to no ops and Simon worldly who's a researcher in",
    "start": "1080340",
    "end": "1085710"
  },
  {
    "text": "the UK said kind of your company's not done DevOps yet just don't bother skip a whole generation of things and move to",
    "start": "1085710",
    "end": "1093240"
  },
  {
    "text": "something like this and it's easy fair enough it's not completely killing DevOps but now I said you know you have",
    "start": "1093240",
    "end": "1098520"
  },
  {
    "text": "all the operations stuff already I have a log I have kind of when it started when it ended how much memory it used",
    "start": "1098520",
    "end": "1104100"
  },
  {
    "text": "and this is amazingly good for optimizing stuff if you look at kind of",
    "start": "1104100",
    "end": "1110280"
  },
  {
    "start": "1110000",
    "end": "1135000"
  },
  {
    "text": "the typical architecture and and and stuff like that we normally had figuring",
    "start": "1110280",
    "end": "1115350"
  },
  {
    "text": "out how much money a particular function cost you to run was almost impossible people are optimizing based on a gut",
    "start": "1115350",
    "end": "1122730"
  },
  {
    "text": "feel they were optimizing whole applications now I know exactly for this particular task how much money I'm",
    "start": "1122730",
    "end": "1127950"
  },
  {
    "text": "spending so I can decide do I need to kind of invest in optimizing that or not so that's really really really",
    "start": "1127950",
    "end": "1133410"
  },
  {
    "text": "interesting and kind of in terms of time to start here's some here's some empirical numbers that I got these are",
    "start": "1133410",
    "end": "1140280"
  },
  {
    "text": "not confirmed by the AWS a Tablas doesn't publish any numbers about this but these are kind of my numbers that we",
    "start": "1140280",
    "end": "1146550"
  },
  {
    "text": "got generally so for a completely new instance of a deployed up so if you",
    "start": "1146550",
    "end": "1153059"
  },
  {
    "text": "start hitting this stuff now and this instance that it's running their content load with the JavaScript",
    "start": "1153059",
    "end": "1158880"
  },
  {
    "text": "this lady takes less than one second to get the new instance if you want to do a new deployment a new version like I've",
    "start": "1158880",
    "end": "1165210"
  },
  {
    "text": "just done it takes about three or four seconds to kind of set everything up so that's the infrastructure stuff now",
    "start": "1165210",
    "end": "1172970"
  },
  {
    "text": "what's left is how long our app takes to connect to the database load up the",
    "start": "1172970",
    "end": "1178080"
  },
  {
    "text": "cache load up the data and things that's I think kind of unlike the previous architectures where we were optimizing",
    "start": "1178080",
    "end": "1184170"
  },
  {
    "text": "for quick failover what we need to start thinking about is optimizing for quick start lazy loading everything kind of",
    "start": "1184170",
    "end": "1190920"
  },
  {
    "text": "making sure that we don't add a lot of this stuff because if we can then does this stop just kind of starts and dies",
    "start": "1190920",
    "end": "1196320"
  },
  {
    "text": "on its own now there's a whole buzzword here where people are talking about how we need to optimize we need to write",
    "start": "1196320",
    "end": "1203220"
  },
  {
    "text": "this stuff in a stateless way because",
    "start": "1203220",
    "end": "1208700"
  },
  {
    "text": "there's a big confusion of buzzwords and some people talk about services function",
    "start": "1208700",
    "end": "1215130"
  },
  {
    "text": "as a service than in a functional programming and functional programming is stateless and this you know people throw buzzwords around lambdas are not",
    "start": "1215130",
    "end": "1222240"
  },
  {
    "text": "stateless don't have to anybody tell you that lambdas are a stateful container",
    "start": "1222240",
    "end": "1227610"
  },
  {
    "text": "just having no idea how many containers you're running once the container starts you have no control over when is it",
    "start": "1227610",
    "end": "1233940"
  },
  {
    "text": "going to stop and whether the next request from the same user is going to hit the same container or a completely different container so rather than",
    "start": "1233940",
    "end": "1240630"
  },
  {
    "text": "developing for stateless what I think we should be thinking about this developing kind of for sure nothing designing for",
    "start": "1240630",
    "end": "1247080"
  },
  {
    "start": "1244000",
    "end": "1291000"
  },
  {
    "text": "sure nothing when the VM load is perfectly fine to start caching things in that VM that are not user specific",
    "start": "1247080",
    "end": "1253590"
  },
  {
    "text": "that's how we save a lot of time on processing requests that's how we save a lot of cash because you know that there",
    "start": "1253590",
    "end": "1260430"
  },
  {
    "text": "will be a VM running it's just that you mustn't ever catch anything that is specific to that particular request the",
    "start": "1260430",
    "end": "1266940"
  },
  {
    "text": "state of a user session is not there the state of a user session needs to be somewhere else and we'll talk about",
    "start": "1266940",
    "end": "1273270"
  },
  {
    "text": "quite an interesting option where to push the user state later but kind of",
    "start": "1273270",
    "end": "1279180"
  },
  {
    "text": "it's it's not stateless people that have never kind of deployed any of this talk",
    "start": "1279180",
    "end": "1284400"
  },
  {
    "text": "about lambdas being stateless they're not and and I think you lose a lot of money by treating them like stateless so",
    "start": "1284400",
    "end": "1290790"
  },
  {
    "text": "the next thing that I think kind of historically happened is it was really really difficult to replicate production",
    "start": "1290790",
    "end": "1297600"
  },
  {
    "start": "1291000",
    "end": "1571000"
  },
  {
    "text": "it was you know people had a production system with expensive storage or even if",
    "start": "1297600",
    "end": "1304320"
  },
  {
    "text": "it's on the cloud with good VMs and then that cost a lot so you wouldn't want to pay the same amount for your staging you",
    "start": "1304320",
    "end": "1311340"
  },
  {
    "text": "didn't want to pay the same amount for the testing so typically kind of performance tests unless you are Lmax",
    "start": "1311340",
    "end": "1317400"
  },
  {
    "text": "would run on a kind of a smaller copy of data on a smaller copy of the production",
    "start": "1317400",
    "end": "1324480"
  },
  {
    "text": "and things like that they were not really relevant they were not reliable and generally that made it really really",
    "start": "1324480",
    "end": "1329490"
  },
  {
    "text": "difficult to claim anything about production usage and production",
    "start": "1329490",
    "end": "1334500"
  },
  {
    "text": "performance based on the testing system now kind of I have a couple of friends",
    "start": "1334500",
    "end": "1342000"
  },
  {
    "text": "from Australia and and they they claim that I don't know if this is true or not the time that kind of Facebook is",
    "start": "1342000",
    "end": "1347850"
  },
  {
    "text": "continuously broken in Australia because Facebook is really good with kind of running business experiments on all",
    "start": "1347850",
    "end": "1353550"
  },
  {
    "text": "their users and kind of Australia's the market that's big enough to be",
    "start": "1353550",
    "end": "1358650"
  },
  {
    "text": "statistically significant it's English so they don't have to waste a lot of time preparing software for that but",
    "start": "1358650",
    "end": "1363870"
  },
  {
    "text": "Facebook doesn't really care too much about Australians they're laid-back people anyway so they can do experiments",
    "start": "1363870",
    "end": "1369360"
  },
  {
    "text": "in Australia and then when they figure what works what doesn't work they can translate that to the US now when you",
    "start": "1369360",
    "end": "1375810"
  },
  {
    "text": "think about something like that that's incredibly useful but up until five years ago or up until three years ago",
    "start": "1375810",
    "end": "1381480"
  },
  {
    "text": "that was available to you if your Google or Facebook running experiments like",
    "start": "1381480",
    "end": "1387480"
  },
  {
    "text": "that is you feel expensive you need a complete copy of production for something like that and you need the",
    "start": "1387480",
    "end": "1394350"
  },
  {
    "text": "relevant copy of production you need to synchronize the data between these things what one of them kind of best",
    "start": "1394350",
    "end": "1399990"
  },
  {
    "text": "examples of how important that is is a story called 40 shades of blue they're",
    "start": "1399990",
    "end": "1405780"
  },
  {
    "text": "absolutely loved because it's one of those rare things where you can read both sides of the story online forty",
    "start": "1405780",
    "end": "1412080"
  },
  {
    "text": "shades of blue led to kind of that the head of design at Google wanted to",
    "start": "1412080",
    "end": "1417300"
  },
  {
    "text": "change the color of the links on the homepage for ads and the developers",
    "start": "1417300",
    "end": "1422820"
  },
  {
    "text": "challenged him a bit and he wanted to change it to a particular blue collar overnight they",
    "start": "1422820",
    "end": "1428020"
  },
  {
    "text": "ran 40 different colors of blue and measured how much people are clicking on",
    "start": "1428020",
    "end": "1434049"
  },
  {
    "text": "that and then as a result of that depending whose side you read this guy either quitter was fired because the",
    "start": "1434049",
    "end": "1442690"
  },
  {
    "text": "difference was something like 250 million dollars between the current color and his color if you expand it to",
    "start": "1442690",
    "end": "1448000"
  },
  {
    "text": "a whole whole year and 100% of the users so kind of things like that are",
    "start": "1448000",
    "end": "1454450"
  },
  {
    "text": "incredibly important to test but for most people out there it was almost",
    "start": "1454450",
    "end": "1460390"
  },
  {
    "text": "impossible to do it because production copy cost so much now when we started doing lambda I had this brilliant best",
    "start": "1460390",
    "end": "1466600"
  },
  {
    "text": "idea in the world and I wanted to integrate wiki data graph of knowledge",
    "start": "1466600",
    "end": "1473230"
  },
  {
    "text": "with our app so that when you press a question mark it automatically opens up related terms it was going to be amazing",
    "start": "1473230",
    "end": "1478900"
  },
  {
    "text": "it was going to be brilliant it's going to be fantastic and and my business partner said no that's a shitty idea nobody's going to use that let's not",
    "start": "1478900",
    "end": "1487000"
  },
  {
    "text": "waste time doing that so you know I kind of generally don't like to ask for",
    "start": "1487000",
    "end": "1492130"
  },
  {
    "text": "permission like to ask for forgiveness so I decided I'm going to do that anyway and he said I know you're going to do it anyway do not touch the",
    "start": "1492130",
    "end": "1498159"
  },
  {
    "text": "production code because if you put this in we're going to have people you know screaming that we can't support the",
    "start": "1498159",
    "end": "1504400"
  },
  {
    "text": "right performance we're gonna be bottom like here we're gonna and I said okay and then I realized kind of with lambdas",
    "start": "1504400",
    "end": "1510309"
  },
  {
    "text": "you don't pay for stuff if you people don't use them so I kind of spent two days knocked up a quick lambda version",
    "start": "1510309",
    "end": "1518020"
  },
  {
    "text": "that was extended with this deployed a completely separate copy of our",
    "start": "1518020",
    "end": "1523270"
  },
  {
    "text": "production and sent 20% of our users there and you know lo and behold I",
    "start": "1523270",
    "end": "1529450"
  },
  {
    "text": "proved that it was a idea nobody wants to use it so we deleted that code",
    "start": "1529450",
    "end": "1534970"
  },
  {
    "text": "with our disturbing uh production so but this is this is some you know something",
    "start": "1534970",
    "end": "1541720"
  },
  {
    "text": "that traditionally we'd get into a fight who's right who's wrong guy would do it anyway and then that code would stay in the production and kind of you know cost",
    "start": "1541720",
    "end": "1548110"
  },
  {
    "text": "us more to maintain it was amazing because we could run a quick experiment so because we're paying for requests",
    "start": "1548110",
    "end": "1553600"
  },
  {
    "text": "we're not paying for reserve capacity it was exactly the same amount of money to send 80% of users to one version 20% to",
    "start": "1553600",
    "end": "1560680"
  },
  {
    "text": "another or to send everybody to the same version or to have a version for Copenhagen or to have a version for",
    "start": "1560680",
    "end": "1566350"
  },
  {
    "text": "go-to or to have a version for anything you want and actually kind of what this starts getting us to think about is",
    "start": "1566350",
    "end": "1572440"
  },
  {
    "start": "1571000",
    "end": "1657000"
  },
  {
    "text": "moving away from thinking about production to thinking about multiple versions and multi versioning in lambda",
    "start": "1572440",
    "end": "1577600"
  },
  {
    "text": "is incredibly well done I you know for my scenes like everybody else have done",
    "start": "1577600",
    "end": "1584050"
  },
  {
    "text": "an Orion framework a logging framework and a data multi version in framework everybody's done that when they young otherwise you don't you know you don't",
    "start": "1584050",
    "end": "1590830"
  },
  {
    "text": "get to call yourself a developer and then you end up kind of suffering through maintaining that for 10",
    "start": "1590830",
    "end": "1596170"
  },
  {
    "text": "years but that's okay so a data multi versioning request multi versioning",
    "start": "1596170",
    "end": "1602470"
  },
  {
    "text": "service multi versioning is really really difficult to do well at scale and Amazon probably have done it for their",
    "start": "1602470",
    "end": "1607690"
  },
  {
    "text": "own needs and they've just exposed a T lambda so every lambda function gets a numerical version every time you deploy",
    "start": "1607690",
    "end": "1613780"
  },
  {
    "text": "it and you can direct the calls for a particular function either to the last",
    "start": "1613780",
    "end": "1621750"
  },
  {
    "text": "non-deployed version or to a particular numerical deployment or you can assign aliases to a numerical deployment like",
    "start": "1621750",
    "end": "1628240"
  },
  {
    "text": "production testing staging so when we started doing this we started really kind of doing oh I have a production",
    "start": "1628240",
    "end": "1634030"
  },
  {
    "text": "version a testing version and staging version and then we realized why I'll just save a version to test this feature",
    "start": "1634030",
    "end": "1639820"
  },
  {
    "text": "oh I'll have a version to kind of you know when we're doing something experimental and 5% of our users really really need this feature but it's not",
    "start": "1639820",
    "end": "1647440"
  },
  {
    "text": "ready for everybody else we can deploy a version for them and give it to them and test it on them early and it's multi",
    "start": "1647440",
    "end": "1653650"
  },
  {
    "text": "version is incredibly well done so I think this is a really interesting thing to start thinking about kind of how do we bundle our tasks because it has a",
    "start": "1653650",
    "end": "1660370"
  },
  {
    "start": "1657000",
    "end": "1737000"
  },
  {
    "text": "massive impact on how we design how we deploy if we are going to design for a multi version universe where you know at",
    "start": "1660370",
    "end": "1668440"
  },
  {
    "text": "the same time several versions of a wrapper running and different things are communicating with even I think the whole domain driven design concept of",
    "start": "1668440",
    "end": "1674530"
  },
  {
    "text": "aggregates becomes incredibly more important because we want to make sure that kind of you know all the data for a",
    "start": "1674530",
    "end": "1681220"
  },
  {
    "text": "particular version of this object travels together and because we are kind",
    "start": "1681220",
    "end": "1686560"
  },
  {
    "text": "of don't want to clog the communication things that we want to make sure aggregates are actually relatively minimal so that we can push them around",
    "start": "1686560",
    "end": "1693970"
  },
  {
    "text": "and we can load them quickly but the movie to land has gotten us to thinking",
    "start": "1693970",
    "end": "1700090"
  },
  {
    "text": "a lot more about what are our actual aggregates where the aggregate boundaries what needs to be in a",
    "start": "1700090",
    "end": "1706299"
  },
  {
    "text": "particular version consistent with itself what can just kind of be different versions and and be okay so I",
    "start": "1706299",
    "end": "1712480"
  },
  {
    "text": "think that's a completely interesting kind of phenomenon that are not really seen in my code before that and because",
    "start": "1712480",
    "end": "1718659"
  },
  {
    "text": "we've designed for multi versioning now up front as we're migrating we can do lots of crazy things and the stuff that",
    "start": "1718659",
    "end": "1724419"
  },
  {
    "text": "was the traditional available to you know companies that make billions and billions of dollars we can do now and",
    "start": "1724419",
    "end": "1730239"
  },
  {
    "text": "we're a two-person team and that that's I think amazing as a kind of for what we",
    "start": "1730239",
    "end": "1736480"
  },
  {
    "text": "can do from the platform so the next really interesting thing driven by the",
    "start": "1736480",
    "end": "1743799"
  },
  {
    "start": "1737000",
    "end": "1773000"
  },
  {
    "text": "pricing model of AWS lambda is that different services charge for different",
    "start": "1743799",
    "end": "1748869"
  },
  {
    "text": "things so you can save quite a lot of money by playing arbitrage available yes against AWS that's amazing",
    "start": "1748869",
    "end": "1755799"
  },
  {
    "text": "and remember kind of lambda is as a processing service charges for the number of requests in time so if you can",
    "start": "1755799",
    "end": "1763119"
  },
  {
    "text": "delegate work from lambda to stuff that does not charge for the number of",
    "start": "1763119",
    "end": "1768190"
  },
  {
    "text": "requests in time you can save a lot of cash for example kind of API gateway",
    "start": "1768190",
    "end": "1775619"
  },
  {
    "start": "1773000",
    "end": "1896000"
  },
  {
    "text": "charges for the bytes being transferred the number of requests at the same time",
    "start": "1775619",
    "end": "1781239"
  },
  {
    "text": "kind of s3 that's the storage system just charges for transfer it doesn't care about the number of requests so one",
    "start": "1781239",
    "end": "1789429"
  },
  {
    "text": "example of that is that we own Heroku and before we started really thinking about this we would let people upload",
    "start": "1789429",
    "end": "1798789"
  },
  {
    "text": "files for export to a server where the server would communicate with the",
    "start": "1798789",
    "end": "1804129"
  },
  {
    "text": "storage and then the server would save stuff through storage it with rondo converter it would kind of upload it",
    "start": "1804129",
    "end": "1810279"
  },
  {
    "text": "back from the storage to the user what that means is that during that whole time the server is busy we're paying for",
    "start": "1810279",
    "end": "1816850"
  },
  {
    "text": "the server now if you're uploading a hundred megabyte file the transfer from",
    "start": "1816850",
    "end": "1821950"
  },
  {
    "text": "you to Amazon and the transfer for Amazon to you is actually the most amount of time the conversion time is relatively quick",
    "start": "1821950",
    "end": "1828580"
  },
  {
    "text": "so we're paying kind of for this operation for a long time we're because there's three only pays s3 only charges",
    "start": "1828580",
    "end": "1835360"
  },
  {
    "text": "for transfer if we can get people to upload directly to s3 and download directly from s3 we have reduced our",
    "start": "1835360",
    "end": "1842530"
  },
  {
    "text": "server costs by a significant amount so some other service that are interesting to consider like kognito the Amazon",
    "start": "1842530",
    "end": "1849010"
  },
  {
    "text": "authentication and session service only charges for the number of users it doesn't charge for the number of",
    "start": "1849010",
    "end": "1854170"
  },
  {
    "text": "requests those users make it doesn't charge for the capacity of the sessions it only charges for the number of users",
    "start": "1854170",
    "end": "1860020"
  },
  {
    "text": "so moving session state into kognito it's a really really interesting way of",
    "start": "1860020",
    "end": "1865030"
  },
  {
    "text": "kind of playing arbitrage with Amazon versus Amazon so kind of as a kind of an",
    "start": "1865030",
    "end": "1871120"
  },
  {
    "text": "example I'll show you later there's also this thing called the IOT gateway that we abuse massively IOT gateway is",
    "start": "1871120",
    "end": "1877240"
  },
  {
    "text": "designed to get low-power devices to talk to each other but we've built kind of real-time collaboration directly",
    "start": "1877240",
    "end": "1883540"
  },
  {
    "text": "through we're building real-time collaboration directly through IOT gateway which kind of because it only",
    "start": "1883540",
    "end": "1888820"
  },
  {
    "text": "charges for the number of messages it doesn't charge for processing time it doesn't charge for data transfer again",
    "start": "1888820",
    "end": "1894730"
  },
  {
    "text": "you can arbitrage things nicely so kind of we started moving a lot more for",
    "start": "1894730",
    "end": "1900610"
  },
  {
    "start": "1896000",
    "end": "1935000"
  },
  {
    "text": "thinking about applications and and kind of managed apps like Heroku like Google",
    "start": "1900610",
    "end": "1906160"
  },
  {
    "text": "App Engine to really the glue between different platform services for me lambda is mostly about what's missing",
    "start": "1906160",
    "end": "1913330"
  },
  {
    "text": "from amazon's platform and how do i kind of glue those things things together and what's the kind of what's the real",
    "start": "1913330",
    "end": "1919450"
  },
  {
    "text": "business value of my code because it's unlikely that developing a queue",
    "start": "1919450",
    "end": "1924550"
  },
  {
    "text": "interface system is where i can provide the most value i can provide value developing kind of the small bits of",
    "start": "1924550",
    "end": "1930510"
  },
  {
    "text": "processing those queue messages and that's really really interesting so kind of just as an example that this is kind",
    "start": "1930510",
    "end": "1937450"
  },
  {
    "start": "1935000",
    "end": "2001000"
  },
  {
    "text": "of how to get people to use s3 directly from a browser so on a server we have",
    "start": "1937450",
    "end": "1943210"
  },
  {
    "text": "something like this the s3 is the Amazon API SDK so you get a request for upload",
    "start": "1943210",
    "end": "1950500"
  },
  {
    "text": "file you populated with you know where it needs to go you limit the file size you",
    "start": "1950500",
    "end": "1955800"
  },
  {
    "text": "kind of provides security stuff and then you get a signature and then returned that to the browser that takes you know",
    "start": "1955800",
    "end": "1961590"
  },
  {
    "text": "20 milliseconds then the browser spends ten minutes uploading the big file to s3",
    "start": "1961590",
    "end": "1966720"
  },
  {
    "text": "where you're just paying for transfer then kind of this thing goes very quickly you go back and people download",
    "start": "1966720",
    "end": "1973650"
  },
  {
    "text": "it directly from s3 from a signed URL so amazon being amazon of course there's",
    "start": "1973650",
    "end": "1978840"
  },
  {
    "text": "this five different ways of authorizing requests there's signed urls there's the cig v4",
    "start": "1978840",
    "end": "1985260"
  },
  {
    "text": "that they do for kind of approaches this is giving people access to kognito so this lots and lots of ways how you can",
    "start": "1985260",
    "end": "1991620"
  },
  {
    "text": "get people to access directly one of these front-end services without going",
    "start": "1991620",
    "end": "1996750"
  },
  {
    "text": "through a traditional server so kind of in to really benefit from that financially I think what we started",
    "start": "1996750",
    "end": "2003590"
  },
  {
    "start": "2001000",
    "end": "2133000"
  },
  {
    "text": "thinking about a lot more is give the platform the roles that were traditionally associate with the server",
    "start": "2003590",
    "end": "2008750"
  },
  {
    "text": "process things like being the Gateway keeper things like being the orchestrator things like keeping kind of",
    "start": "2008750",
    "end": "2014780"
  },
  {
    "text": "sensation storage if you push that away from the lambda that's kind of the",
    "start": "2014780",
    "end": "2021350"
  },
  {
    "text": "processor to the other parts of the platform you can save a lot of cash now",
    "start": "2021350",
    "end": "2026450"
  },
  {
    "text": "here's why I think this is so insane in",
    "start": "2026450",
    "end": "2034190"
  },
  {
    "text": "September our app had something like 400,000 active users it's it's not you",
    "start": "2034190",
    "end": "2041930"
  },
  {
    "text": "know Google but it's not Mickey Mouse as well and just so that I'm not cheating",
    "start": "2041930",
    "end": "2046940"
  },
  {
    "text": "this is V live Amazon page so if I go to",
    "start": "2046940",
    "end": "2054770"
  },
  {
    "text": "my billing dashboard and I look at my costs for where is it the September bill",
    "start": "2054770",
    "end": "2064389"
  },
  {
    "text": "bill details September so for four",
    "start": "2064390",
    "end": "2069408"
  },
  {
    "text": "hundred thousand active users in September we have paid 53 cents",
    "start": "2069409",
    "end": "2078120"
  },
  {
    "text": "for lambda now beat that with your hosting costs and we you know they of",
    "start": "2078120",
    "end": "2085919"
  },
  {
    "text": "course there's there's some other services like we paid four dollars for data transfer and then we paid something",
    "start": "2085920",
    "end": "2092370"
  },
  {
    "text": "for API gateway and something for dynamo and things like that but all in all that the bill was a hundred bucks for a you",
    "start": "2092370",
    "end": "2099720"
  },
  {
    "text": "know four hundred thousand active users that are kind of collaborating in real time now this is insane",
    "start": "2099720",
    "end": "2105420"
  },
  {
    "text": "completely insane if you look at kind of stuff equivalent stuff I was doing ten",
    "start": "2105420",
    "end": "2111720"
  },
  {
    "text": "years ago that this is completely completely insane and you know add up",
    "start": "2111720",
    "end": "2117180"
  },
  {
    "text": "all the multi versioning and everything else they provide for almost not free",
    "start": "2117180",
    "end": "2123330"
  },
  {
    "text": "but included in the price that's that's why I think this is gorgeous and and and",
    "start": "2123330",
    "end": "2129060"
  },
  {
    "text": "you know fantastic in so many ways so kind of the another thing that started",
    "start": "2129060",
    "end": "2135510"
  },
  {
    "start": "2133000",
    "end": "2333000"
  },
  {
    "text": "happening here as we started thinking about more and more of arbitrage in different services against each other we",
    "start": "2135510",
    "end": "2140850"
  },
  {
    "text": "realized that kind of what engrained in my head for the last 30 years is do not",
    "start": "2140850",
    "end": "2148470"
  },
  {
    "text": "trust users to talk to Becky and resources like users are not allowed to talk to storage directly users are never",
    "start": "2148470",
    "end": "2157020"
  },
  {
    "text": "ever ever allowed to connect your database directly they have to go through a gatekeeper they have to go",
    "start": "2157020",
    "end": "2163560"
  },
  {
    "text": "through a server because on the server we discard invalid requests we validate stuff we you know everything before the",
    "start": "2163560",
    "end": "2170700"
  },
  {
    "text": "server we don't trust everything after the server we trust that's how we you know did the whole web logic thing",
    "start": "2170700",
    "end": "2177020"
  },
  {
    "text": "evolved we have application servers we have storage we have clients and I think",
    "start": "2177020",
    "end": "2183140"
  },
  {
    "text": "kind of especially if you start to use the platform on Amazon none of these",
    "start": "2183140",
    "end": "2188490"
  },
  {
    "text": "things are actually physically back-end resources anymore s3 is available over HTTP dynamo that's the databases",
    "start": "2188490",
    "end": "2195330"
  },
  {
    "text": "available over HTTP the fact that we are not letting users talk to you directly",
    "start": "2195330",
    "end": "2202770"
  },
  {
    "text": "doesn't mean it's not available if somebody kind of guesses the name it's there Amazon is making it available",
    "start": "2202770",
    "end": "2208620"
  },
  {
    "text": "and because of that kind of Amazon is actually implementing really really good",
    "start": "2208620",
    "end": "2214350"
  },
  {
    "text": "request level authorization policies each single request going from lambda to",
    "start": "2214350",
    "end": "2221580"
  },
  {
    "text": "a database is authorized because if they have no idea if your lambda is talking to the database if somebody else Islam",
    "start": "2221580",
    "end": "2226860"
  },
  {
    "text": "days talking to derivative is and it's not your database anywhere it's their database and it's kind of things like",
    "start": "2226860",
    "end": "2234390"
  },
  {
    "text": "this are really really interesting from a perspective of thinking about well you know if it's authorized per request",
    "start": "2234390",
    "end": "2242630"
  },
  {
    "text": "what's the damage in actually kind of authorizing clients to go there so Amazon gives you three or four different",
    "start": "2242630",
    "end": "2249480"
  },
  {
    "text": "mechanisms for authorizing these requests including say including saying that this user is only allowed to write",
    "start": "2249480",
    "end": "2255420"
  },
  {
    "text": "to this particular key in the database and only allowed to read from these keys in the database hierarchically or this",
    "start": "2255420",
    "end": "2261930"
  },
  {
    "text": "user is only allowed to read from this part of the queue and post to these parts of the queue and the same",
    "start": "2261930",
    "end": "2268110"
  },
  {
    "text": "authorization policies exactly the same apply as if you talk to from the client there then if you go through the server",
    "start": "2268110",
    "end": "2274140"
  },
  {
    "text": "and then I realized well you know we're just introducing latency by putting a server in the middle we're just paying",
    "start": "2274140",
    "end": "2280140"
  },
  {
    "text": "more and we started kind of using this like mad my brain still does not allow",
    "start": "2280140",
    "end": "2287310"
  },
  {
    "text": "me to or let users connect to the database because I've been a server-side",
    "start": "2287310",
    "end": "2292440"
  },
  {
    "text": "developer for 20 years and it's just wrong but we're letting people talk to the",
    "start": "2292440",
    "end": "2298410"
  },
  {
    "text": "storage directly well I think people talk to the queues and and kind of things like so you know maybe two years from now I'll I'll come into the talk",
    "start": "2298410",
    "end": "2304440"
  },
  {
    "text": "and say no no everybody's you know talking to the database and all our data is stolen and it's horrible or you know",
    "start": "2304440",
    "end": "2310770"
  },
  {
    "text": "but generally if you think about it's not your database it's Amazon's database and it's available using HTTP so it's",
    "start": "2310770",
    "end": "2318240"
  },
  {
    "text": "not back-end it's content or its middlewares of some kind so kind of we",
    "start": "2318240",
    "end": "2324870"
  },
  {
    "text": "started moving away from kind of three-tier models to smart clients not not dumb terminal smart terminals where",
    "start": "2324870",
    "end": "2331470"
  },
  {
    "text": "things connect directly so here's a URL and this is a",
    "start": "2331470",
    "end": "2338010"
  },
  {
    "start": "2333000",
    "end": "2601000"
  },
  {
    "text": "a prototype we've developed for a chat app that works on all browsers and works",
    "start": "2338010",
    "end": "2344190"
  },
  {
    "text": "on all mobile devices and things like that and kind of it",
    "start": "2344190",
    "end": "2349500"
  },
  {
    "text": "the source code is on github you can look it up afterwards so kind of connect",
    "start": "2349500",
    "end": "2364740"
  },
  {
    "text": "to this from your mobile phone or something like that and then you can kind of log in as a guest what that",
    "start": "2364740",
    "end": "2370230"
  },
  {
    "text": "means is that we are now getting a authorization ID from Cognito I can make",
    "start": "2370230",
    "end": "2376560"
  },
  {
    "text": "this login with the username and password log in through Google login through Facebook log in through many many different ways do two-factor",
    "start": "2376560",
    "end": "2382500"
  },
  {
    "text": "authentication for a conference kind of show it's you know open and then once I",
    "start": "2382500",
    "end": "2389640"
  },
  {
    "text": "have this I can actually use their API directly from a browser to talk to any resource I want that I'm allowed to talk",
    "start": "2389640",
    "end": "2395880"
  },
  {
    "text": "to so in this case we are talking directly to if you cannot get into the server listing just pump it up we are",
    "start": "2395880",
    "end": "2402870"
  },
  {
    "text": "talking to the IOT gateway the IOT",
    "start": "2402870",
    "end": "2408090"
  },
  {
    "text": "gateway is designed to kind of exchange messages between low-power devices but it's actually allowing you to have a",
    "start": "2408090",
    "end": "2415830"
  },
  {
    "text": "WebSocket interface as well how cool is that so you can use WebSockets on demand",
    "start": "2415830",
    "end": "2420900"
  },
  {
    "text": "managed that paid $5 per million",
    "start": "2420900",
    "end": "2426510"
  },
  {
    "text": "messages so peanuts and they're completely managed so you know we can",
    "start": "2426510",
    "end": "2433140"
  },
  {
    "text": "get a million people connecting to this now or we can get five people connecting",
    "start": "2433140",
    "end": "2438150"
  },
  {
    "text": "to this and it's it's all done operationally the source code is 30 lines of code so it is just completely",
    "start": "2438150",
    "end": "2445830"
  },
  {
    "text": "insane what we can do now with this stuff and how much it costs and I you know ten years ago I remember kind of",
    "start": "2445830",
    "end": "2452070"
  },
  {
    "text": "evaluating lots of different push mechanisms where they were doing degrading of a flash they were doing",
    "start": "2452070",
    "end": "2457350"
  },
  {
    "text": "long pole they were doing all these amazing things and I think the best thing we'll choose they were asking for",
    "start": "2457350",
    "end": "2462660"
  },
  {
    "text": "something like a hundred thousand quid a month I can get this now for five",
    "start": "2462660",
    "end": "2468210"
  },
  {
    "text": "dollars on a million messages if nobody's using it I don't pay if people are using it and",
    "start": "2468210",
    "end": "2474180"
  },
  {
    "text": "probably making money of it so you know perfectly fine to pay but there's no upfront cost there's no monthly",
    "start": "2474180",
    "end": "2480240"
  },
  {
    "text": "maintenance cost this is insane it's completely since I think kind of this thing changes how we approach what",
    "start": "2480240",
    "end": "2487650"
  },
  {
    "text": "we reserve what we what we kind of do and I said you just format see a nice ah",
    "start": "2487650",
    "end": "2496730"
  },
  {
    "text": "good good good good good so um so yeah I said that is you know",
    "start": "2496730",
    "end": "2502980"
  },
  {
    "text": "from here you can just go to go to the Lincoln and you can get the the source code for this so kind of in that respect",
    "start": "2502980",
    "end": "2510300"
  },
  {
    "text": "what I want to say is good engineering who the architecture is driven by",
    "start": "2510300",
    "end": "2517200"
  },
  {
    "text": "constraints cost is one of the key constraints we have to deal with and deploying on lambda fundamentally",
    "start": "2517200",
    "end": "2523530"
  },
  {
    "text": "changes the cost structure so lots of stuff that you know have evolved as best",
    "start": "2523530",
    "end": "2528900"
  },
  {
    "text": "practices over the last 20 years kind of no longer apply and our challenge as a",
    "start": "2528900",
    "end": "2535050"
  },
  {
    "text": "community over the next five 10 years is going to be to figure out what are you know just the shackles of the old world",
    "start": "2535050",
    "end": "2541350"
  },
  {
    "text": "that we're running with I mean in it you know I I can talk what's wrong about",
    "start": "2541350",
    "end": "2547530"
  },
  {
    "text": "lambda 4 you know days on end and this is not a silver bullet it doesn't solve all the problems but I think it's a",
    "start": "2547530",
    "end": "2553440"
  },
  {
    "text": "really really interesting perspective if you can you know run a four hundred thousand uses and pay fifty three cents",
    "start": "2553440",
    "end": "2560910"
  },
  {
    "text": "for the whole thing it's just insane and I think kind of the financial incentives of that are going to get pretty much",
    "start": "2560910",
    "end": "2567570"
  },
  {
    "text": "everything that can run in lambda to run in lambda over the next five years and that's why you know although most people",
    "start": "2567570",
    "end": "2575250"
  },
  {
    "text": "here I assume are not really deploying things in production for lambda yet this will comes to start investigating that",
    "start": "2575250",
    "end": "2581609"
  },
  {
    "text": "and in particular running cheap experiments is amazing if you need to run a kind of cheap stupid experiment",
    "start": "2581609",
    "end": "2588330"
  },
  {
    "text": "and you don't know if it's going to work out or not this is brilliant for that and then even if you do and kind of on-premise deployment later then you",
    "start": "2588330",
    "end": "2594810"
  },
  {
    "text": "know what to integrate and and and what to throw away so kind of I think one of",
    "start": "2594810",
    "end": "2601950"
  },
  {
    "start": "2601000",
    "end": "2663000"
  },
  {
    "text": "the key things that was you know a mind shift for us is is to start letting clients connect to",
    "start": "2601950",
    "end": "2607020"
  },
  {
    "text": "back-end resources because there are no back-end resources anymore and what that means is that all of the sudden your app",
    "start": "2607020",
    "end": "2612810"
  },
  {
    "text": "is not really running just on fifty or five or five hundred virtual machines",
    "start": "2612810",
    "end": "2618480"
  },
  {
    "text": "it's running on four hundred thousand client processes as well because you can push if you let people talk to Becky and",
    "start": "2618480",
    "end": "2624390"
  },
  {
    "text": "resources you can push orchestration you can push state to the client and all the",
    "start": "2624390",
    "end": "2631170"
  },
  {
    "text": "stuff that kind of is difficult to manage in the distributed architectures push it to the clients machine where the",
    "start": "2631170",
    "end": "2636930"
  },
  {
    "text": "client is a single client having a single state which simplifies things significantly so instead of kind of that",
    "start": "2636930",
    "end": "2643020"
  },
  {
    "text": "that's why we pay so little for lambda our app does not run on the VMS what runs on the VMS is a glue between",
    "start": "2643020",
    "end": "2648900"
  },
  {
    "text": "different back-end services our app actually runs on four hundred thousand",
    "start": "2648900",
    "end": "2654180"
  },
  {
    "text": "client processes that we do not have to pay for and that's kind of the really",
    "start": "2654180",
    "end": "2659250"
  },
  {
    "text": "really interesting mind shift here so kind of as two URLs for for more info",
    "start": "2659250",
    "end": "2665569"
  },
  {
    "start": "2663000",
    "end": "3065000"
  },
  {
    "text": "this first one is my blog where I post a lot about this stuff because I'm",
    "start": "2665569",
    "end": "2670920"
  },
  {
    "text": "incredibly excited about it the second one is the open source tool for deployment that I've shown you that kind",
    "start": "2670920",
    "end": "2676800"
  },
  {
    "text": "of simplify stuff if you do in JavaScript that's pretty much it thank",
    "start": "2676800",
    "end": "2681990"
  },
  {
    "text": "you very much I hope I kind of tickled your imagination at least of it and if anybody's posted any questions I",
    "start": "2681990",
    "end": "2687839"
  },
  {
    "text": "guess we can talk about that now do we have any questions where's the I can",
    "start": "2687839",
    "end": "2693210"
  },
  {
    "text": "read it loud okay lovely how do you feel about locking kind of that that's a",
    "start": "2693210",
    "end": "2700619"
  },
  {
    "text": "really interesting question and unlocking is is problematic on several levels lots of people talk about locking",
    "start": "2700619",
    "end": "2708150"
  },
  {
    "text": "in terms of locking with libraries locking with code if you use Oracle then you know you use Oracle's libraries with",
    "start": "2708150",
    "end": "2714240"
  },
  {
    "text": "lambda because the platform calls you not the other way around you're actually not locked into the lambda API at all",
    "start": "2714240",
    "end": "2720329"
  },
  {
    "text": "there aren't it's it's moving away from there would be trivial the big problem is you locked into the platform if you",
    "start": "2720329",
    "end": "2727109"
  },
  {
    "text": "really want to get the benefits of lambda then you're letting clients talk to storage directly I think lines talk to the database correctly and that's",
    "start": "2727109",
    "end": "2733500"
  },
  {
    "text": "where the locking happens now for us we've kind of we we've decide commercially that going really for",
    "start": "2733500",
    "end": "2741260"
  },
  {
    "text": "Amazon and and using Amazon for everything is a good commercial decision",
    "start": "2741260",
    "end": "2746390"
  },
  {
    "text": "it gives us the risk Obama's are not working but in my experience kind of they're pretty solid and they're much",
    "start": "2746390",
    "end": "2751880"
  },
  {
    "text": "much better doing the OP stand I can so I I know that there are some tools like",
    "start": "2751880",
    "end": "2757970"
  },
  {
    "text": "the serverless framework that allow you to deploy to multiple clouds and do kind of this hybrid thing but I guess the big",
    "start": "2757970",
    "end": "2764870"
  },
  {
    "text": "problem then like you know doing a database independent deployment is you get to use the the least common",
    "start": "2764870",
    "end": "2770450"
  },
  {
    "text": "denominator of the whole thing and you're never really using the platform what it is so kind of that's a",
    "start": "2770450",
    "end": "2776150"
  },
  {
    "text": "commercial decision that I guess everybody needs to make on their own but there's definitely things like you know ports and adapters or hexagonal",
    "start": "2776150",
    "end": "2782480"
  },
  {
    "text": "architecture and things that you can design stuff so if you do actually decide to move on to different cloud",
    "start": "2782480",
    "end": "2787610"
  },
  {
    "text": "provider you know you will I I don't I've never worked with a company where",
    "start": "2787610",
    "end": "2792620"
  },
  {
    "text": "the whole investment in being able to move from the primary database paid off because they never moved away from the",
    "start": "2792620",
    "end": "2799790"
  },
  {
    "text": "primary database so it's a commercial decision there's only two of us building this thing so I'd rather spend stuff",
    "start": "2799790",
    "end": "2805610"
  },
  {
    "text": "delivering successful features than building kind of an abstract software system but you know if you have five",
    "start": "2805610",
    "end": "2811250"
  },
  {
    "text": "kind of developers why not keep them busy so so the this disorder locked your",
    "start": "2811250",
    "end": "2819530"
  },
  {
    "text": "kind of can I get Apple pay on your phone as well when you unlock it okay so",
    "start": "2819530",
    "end": "2826760"
  },
  {
    "text": "we have how do you keep the state we decision so we tend to push a lot to the clients directly and and we tend to keep",
    "start": "2826760",
    "end": "2833450"
  },
  {
    "text": "the state in either incognito or in the users browsers kognito does automatic synchronization across devices we don't",
    "start": "2833450",
    "end": "2841190"
  },
  {
    "text": "tend to use that a lot because our our state is typically kind of the document you're working on and we don't need to",
    "start": "2841190",
    "end": "2848030"
  },
  {
    "text": "keep a lot of that but kognito is a pretty good way of kind of synchronizing stuff across devices using dynamo using",
    "start": "2848030",
    "end": "2855140"
  },
  {
    "text": "something like that to keep kind of the state per user is also pretty good because you can configure dynamo to",
    "start": "2855140",
    "end": "2861010"
  },
  {
    "text": "allow users to write only to a particular key so you ko or or a sub key",
    "start": "2861010",
    "end": "2866750"
  },
  {
    "text": "so you can write only to your own state and read only from your own state for example that that would be a possibility mm-hmm if",
    "start": "2866750",
    "end": "2878000"
  },
  {
    "text": "I'm if I'm P dose so uh III don't know that's never happened to us kind of",
    "start": "2878000",
    "end": "2884810"
  },
  {
    "text": "lambda n API gateway allow you to throttle things you can just configure throttling so you can say that you know",
    "start": "2884810",
    "end": "2891200"
  },
  {
    "text": "I want to run up to a thousand concurrent functions of this or up to I",
    "start": "2891200",
    "end": "2896599"
  },
  {
    "text": "think the limit by default is a thousand per function but then you can increase it or with the API gate where you can do",
    "start": "2896599",
    "end": "2904070"
  },
  {
    "text": "throttling based on an API key an authorization key or kind of generally",
    "start": "2904070",
    "end": "2909349"
  },
  {
    "text": "on an API endpoint so you can configure throught link so you can with the",
    "start": "2909349",
    "end": "2914630"
  },
  {
    "text": "monitoring they have and things like that spot if you are kind of being DDoS again my assumption is that Amazon will",
    "start": "2914630",
    "end": "2922400"
  },
  {
    "text": "protect against DDoS much much better than I can code that I don't know kind",
    "start": "2922400",
    "end": "2927470"
  },
  {
    "text": "of about anybody in the audience whether you feel you can build a better DDoS defense system than Amazon but certainly",
    "start": "2927470",
    "end": "2934970"
  },
  {
    "text": "you can configure it to be to get an early warning and then figure out what",
    "start": "2934970",
    "end": "2940400"
  },
  {
    "text": "to do from there so you don't have to spend millions and millions and millions if you get the dust at the moment the",
    "start": "2940400",
    "end": "2952700"
  },
  {
    "text": "biggest disadvantage is that lambda functions are limited to about five minutes run",
    "start": "2952700",
    "end": "2958790"
  },
  {
    "text": "so anything that takes longer than five minutes you need to split into multiple executions which means you can't keep an",
    "start": "2958790",
    "end": "2964910"
  },
  {
    "text": "open socket we were trying to develop something that talks to the Twitter API s and Twitter doesn't have a push API or",
    "start": "2964910",
    "end": "2973940"
  },
  {
    "text": "you know if you're on mortal you cannot get the push API you need to connect the",
    "start": "2973940",
    "end": "2978980"
  },
  {
    "text": "socket and get them to kind of stream stuff to you and with lambda that's not I mean it's possible but you need to",
    "start": "2978980",
    "end": "2985490"
  },
  {
    "text": "kind of load it every five minutes and then disconnect in the render state so for something like that I would still use ECS another kind of reasonable",
    "start": "2985490",
    "end": "2993829"
  },
  {
    "text": "disadvantage for many people is that there's this virtually no SLA the lambda or not virtual is actually no isolation",
    "start": "2993829",
    "end": "3002410"
  },
  {
    "text": "and that they don't offer any date and they don't of Neela's yet so our experience is that",
    "start": "3002410",
    "end": "3008519"
  },
  {
    "text": "kind of the u.s. East one the region that is overloaded with everything",
    "start": "3008519",
    "end": "3014819"
  },
  {
    "text": "because that's the first one that started occasionally gets kind of hiccups where we get a bit of delay but",
    "start": "3014819",
    "end": "3021529"
  },
  {
    "text": "we've never really had a full outage since February 2016 when we started kind",
    "start": "3021529",
    "end": "3028140"
  },
  {
    "text": "of moving to this that doesn't it's not going to happen and I think you know as Lomb that becomes more and more",
    "start": "3028140",
    "end": "3033599"
  },
  {
    "text": "important I assume they will start providing a slice for it at some point so that's an interesting limitation B I",
    "start": "3033599",
    "end": "3040859"
  },
  {
    "text": "guess those would be those would be the",
    "start": "3040859",
    "end": "3046259"
  },
  {
    "text": "two key key limitations for people so I think we ran out of time I don't know if",
    "start": "3046259",
    "end": "3051630"
  },
  {
    "text": "we have kind of I'll be around you know you can pick me up in in in in the corridor and then we'll talk about this",
    "start": "3051630",
    "end": "3057660"
  },
  {
    "text": "thing more I need to get other people to set up thank you very much [Applause]",
    "start": "3057660",
    "end": "3065010"
  }
]