[
  {
    "start": "0",
    "end": "168000"
  },
  {
    "text": "[Music]",
    "start": "960",
    "end": "8889"
  },
  {
    "text": "thanks for joining um yeah the title the title got a little",
    "start": "13139",
    "end": "18660"
  },
  {
    "text": "long here uh naming was always the hardest part right so but I guess the",
    "start": "18660",
    "end": "24779"
  },
  {
    "text": "the point here is that I guess most of uh most of us that have been deploying",
    "start": "24779",
    "end": "30240"
  },
  {
    "text": "stuff on on kubernetes has kind of run into uh run into this setting where you",
    "start": "30240",
    "end": "35820"
  },
  {
    "text": "deploy your application and then you start deploying other stuff around your application because there's the these",
    "start": "35820",
    "end": "41460"
  },
  {
    "text": "things that you want to solve inside of your cluster and then you end up you end up running your application but you also",
    "start": "41460",
    "end": "48000"
  },
  {
    "text": "end up running a lot of other pieces and and bits in your cluster and they need",
    "start": "48000",
    "end": "54000"
  },
  {
    "text": "to be operated they need to be managed you need to keep them up to date and and so on so so basically the idea here is",
    "start": "54000",
    "end": "60780"
  },
  {
    "text": "that what if we actually was able to kind of build a platform that that",
    "start": "60780",
    "end": "67200"
  },
  {
    "text": "supported our applications and have somebody else actually manage and run",
    "start": "67200",
    "end": "72299"
  },
  {
    "text": "this platform either a platform team or an external vendor like likenetic",
    "start": "72299",
    "end": "80280"
  },
  {
    "text": "so basically that's uh that's what we have been doing and I'll kind of walk",
    "start": "80280",
    "end": "85860"
  },
  {
    "text": "you through the things that we have discovered that we find our customers most often try to solve and and maybe",
    "start": "85860",
    "end": "93780"
  },
  {
    "text": "inspire you to go look at your own platform and so that we do not have to build it from from scratch every time",
    "start": "93780",
    "end": "100619"
  },
  {
    "text": "that we that we deploy a new application so just the mandatory slide about uh",
    "start": "100619",
    "end": "106799"
  },
  {
    "text": "about myself um as as I said I work with withnatic",
    "start": "106799",
    "end": "113280"
  },
  {
    "text": "um I have been working with ITC around 20 years I guess both as as developer",
    "start": "113280",
    "end": "118860"
  },
  {
    "text": "and architect and with infrastructure and um and a lot of viewers in in the financial",
    "start": "118860",
    "end": "126259"
  },
  {
    "text": "uh industry um and I often find myself kind of in",
    "start": "126259",
    "end": "132360"
  },
  {
    "text": "the gap between building the applications and getting getting them into into production so kind of getting",
    "start": "132360",
    "end": "139739"
  },
  {
    "text": "the infrastructure and the applications to meet and that's basically also what we what we do do with the kubernetes",
    "start": "139739",
    "end": "146220"
  },
  {
    "text": "rights and and do with the platform that we built on top of kubernetes",
    "start": "146220",
    "end": "151440"
  },
  {
    "text": "um yeah and that's what I do in athletic now I've been working with kubernetes",
    "start": "151440",
    "end": "156840"
  },
  {
    "text": "for like five plus years I think it was like 1.5 or something the version when I",
    "start": "156840",
    "end": "162300"
  },
  {
    "text": "when I started working with kubernetes so quite some years and now so for the agenda uh something like this",
    "start": "162300",
    "end": "170160"
  },
  {
    "start": "168000",
    "end": "209000"
  },
  {
    "text": "uh first I'm going to to to kind of set the stage and and what what are the kind",
    "start": "170160",
    "end": "175260"
  },
  {
    "text": "of issues here or the challenges that that we solve to actually run an an",
    "start": "175260",
    "end": "180840"
  },
  {
    "text": "application in a production grade setup um and then I'll uh hopefully if the",
    "start": "180840",
    "end": "187080"
  },
  {
    "text": "demon guards is is happy today I'll do a demonstration on how do we actually onboard an application and go from from",
    "start": "187080",
    "end": "194459"
  },
  {
    "text": "having no application in in our cluster to actually running in in something that is uh production great setup hopefully",
    "start": "194459",
    "end": "201180"
  },
  {
    "text": "uh in in 20 minutes or so um and then the short wrap up and at the",
    "start": "201180",
    "end": "206400"
  },
  {
    "text": "end there so setting the stage for start here we have",
    "start": "206400",
    "end": "212640"
  },
  {
    "start": "209000",
    "end": "216000"
  },
  {
    "text": "some code getting getting developed by some developers and and I guess by now",
    "start": "212640",
    "end": "219300"
  },
  {
    "start": "216000",
    "end": "449000"
  },
  {
    "text": "we have a setup with most uh with most businesses I guess that can build the",
    "start": "219300",
    "end": "225180"
  },
  {
    "text": "code and packages as a container a lot of stuff is is going on in the in the CI",
    "start": "225180",
    "end": "230220"
  },
  {
    "text": "area also but that's that not that's not for for the talk today so we're just",
    "start": "230220",
    "end": "235319"
  },
  {
    "text": "assuming that that the code one way or another ends up packaged as a container",
    "start": "235319",
    "end": "241260"
  },
  {
    "text": "image that we can that we can deploy along with some resource manifests that",
    "start": "241260",
    "end": "246599"
  },
  {
    "text": "actually describe how we want to deploy it inside of kubernetes so so the question here is uh how do we actually",
    "start": "246599",
    "end": "253140"
  },
  {
    "text": "deploy them and and most of us when we start working with kubernetes well we",
    "start": "253140",
    "end": "258479"
  },
  {
    "text": "get acquainted with the the Q quarter Command right so so the first approach here would be to cue Cardinal apply our",
    "start": "258479",
    "end": "266040"
  },
  {
    "text": "manifests and and sell the cluster to to pull the container image from from our",
    "start": "266040",
    "end": "271860"
  },
  {
    "text": "image registry and and we're good to go however um I guess I guess that's as you most of",
    "start": "271860",
    "end": "278639"
  },
  {
    "text": "you know that that don't hold up for long right because we are doing this from our local workstation and and we do",
    "start": "278639",
    "end": "285180"
  },
  {
    "text": "we we do want to know who is actually deploying and we probably want an audit Trail maybe a separation of Duties and",
    "start": "285180",
    "end": "292860"
  },
  {
    "text": "and all that kind of stuff so one other way to go would be would be the CI server approach right and and we",
    "start": "292860",
    "end": "299880"
  },
  {
    "text": "have done that for years in in other settings and kubernetes where we basically as part of our our CI so uh",
    "start": "299880",
    "end": "306419"
  },
  {
    "text": "give it some credentials and and let the CI server deploy whatever uh whatever system we have built right",
    "start": "306419",
    "end": "313259"
  },
  {
    "text": "um and that works fine and and possibly for for for many that's that's also a",
    "start": "313259",
    "end": "319620"
  },
  {
    "text": "viable solution there are there are some drawbacks though um one one drawback is that we're",
    "start": "319620",
    "end": "325680"
  },
  {
    "text": "actually giving the CI server credentials here right so the C ISO ends up having credentials to all the",
    "start": "325680",
    "end": "332039"
  },
  {
    "text": "Clusters that we want to deploy into so so now we have a CI server which may not",
    "start": "332039",
    "end": "337199"
  },
  {
    "text": "be the most hardened component security wise within our infrastructure and it sits on top of credentials for a lot of",
    "start": "337199",
    "end": "343979"
  },
  {
    "text": "clusters maybe even production clusters yeah so so that that might be one issue with that approach the other issue is",
    "start": "343979",
    "end": "349800"
  },
  {
    "text": "that the source of Truth as to what is actually deployed inside of our cluster is now scattered across a number of CI",
    "start": "349800",
    "end": "357660"
  },
  {
    "text": "bills right so we need to go into the CI bills Pipeline and see what builds have",
    "start": "357660",
    "end": "363300"
  },
  {
    "text": "been done here and have they actually deployed to our cluster so imagine that we wanted to rebuild such a cluster then",
    "start": "363300",
    "end": "370560"
  },
  {
    "text": "we have to go in and restart a number of different Pipelines in our CI server to actually get the applications redeployed",
    "start": "370560",
    "end": "378720"
  },
  {
    "text": "um so one solution to this that is growing more and more popular is is",
    "start": "378720",
    "end": "384120"
  },
  {
    "text": "using githubs where we kind of turn it around right so so now this is not a",
    "start": "384120",
    "end": "389460"
  },
  {
    "text": "talk as on githubs as such but with githubs you basically have your source",
    "start": "389460",
    "end": "394919"
  },
  {
    "text": "of truths and a git repository and then instead of kind of pushing it out to the cluster the cluster are more",
    "start": "394919",
    "end": "400259"
  },
  {
    "text": "orthononymous and and pulls in the changes from githubs and trying to reconcile the state of the cluster into",
    "start": "400259",
    "end": "406620"
  },
  {
    "text": "the desired state which you have put into git so that that is one way to kind of mitigate some of some of the other",
    "start": "406620",
    "end": "413220"
  },
  {
    "text": "stuff that that may also also come with some drawbacks so one way or another we need to kind of",
    "start": "413220",
    "end": "419220"
  },
  {
    "text": "deploy our application inside of the cluster and depending on which approach",
    "start": "419220",
    "end": "424380"
  },
  {
    "text": "we choose to to deploy inside of the cluster we might need some component to run inside of the cluster if if we",
    "start": "424380",
    "end": "430199"
  },
  {
    "text": "choose to do gitups well we need some kind of on component inside of the cluster that is actually the kit of the",
    "start": "430199",
    "end": "436440"
  },
  {
    "text": "Indian that actually pulls in these changes so already here starting to deploy our",
    "start": "436440",
    "end": "442020"
  },
  {
    "text": "application we add the first component to our cluster which is not actually business logic right",
    "start": "442020",
    "end": "449160"
  },
  {
    "start": "449000",
    "end": "564000"
  },
  {
    "text": "so that's the the one up at the top there we just to illustrate now we have",
    "start": "449160",
    "end": "454500"
  },
  {
    "text": "added something to the cluster handling deployment the next thing is that we have the application running we want some kind of",
    "start": "454500",
    "end": "461759"
  },
  {
    "text": "Ingress into the application assuming that this might be some kind of web application right it could be other",
    "start": "461759",
    "end": "468539"
  },
  {
    "text": "kinds of applications but but for for the sake sake of the example here let's assume that that we want https traffic",
    "start": "468539",
    "end": "475319"
  },
  {
    "text": "into into our application um and kubernetes actually still do not",
    "start": "475319",
    "end": "481199"
  },
  {
    "text": "come with a standard solution for Ingress you have to make a choice on which English controller do you actually",
    "start": "481199",
    "end": "487500"
  },
  {
    "text": "want so do you want to run and do next do we want to run Contour or traffic or something else you need to make a choice",
    "start": "487500",
    "end": "494759"
  },
  {
    "text": "there of of the increase controller also if we want our traffic to be",
    "start": "494759",
    "end": "501539"
  },
  {
    "text": "encrypted here we might also want certificates for doing TLS on top of our",
    "start": "501539",
    "end": "507900"
  },
  {
    "text": "HTTP connections right so we might want some component that can handle the refresh of certificates and issuing of",
    "start": "507900",
    "end": "514680"
  },
  {
    "text": "certificates and finally we might also want to be able to do custom domains we",
    "start": "514680",
    "end": "521339"
  },
  {
    "text": "might want the develop the developers to be able to specify which domain name",
    "start": "521339",
    "end": "526500"
  },
  {
    "text": "should this application be exposed under so we might also want some kind of integration into some kind of DNS system",
    "start": "526500",
    "end": "533519"
  },
  {
    "text": "so again we add some more components to our cluster besides the application here to handle these different these",
    "start": "533519",
    "end": "539940"
  },
  {
    "text": "different kinds of challenges right um",
    "start": "539940",
    "end": "545339"
  },
  {
    "text": "at this point we actually have an application running and we get Ingress into our cluster so now the customer",
    "start": "545339",
    "end": "553200"
  },
  {
    "text": "calls us and say hey my obligation isn't performing so what is going on and to ah",
    "start": "553200",
    "end": "561060"
  },
  {
    "text": "I'm kidding I hit on we take the next one so we get ahead to get a grip on what's going on we need some kind of",
    "start": "561060",
    "end": "567480"
  },
  {
    "start": "564000",
    "end": "607000"
  },
  {
    "text": "transparency into our cluster so we need to to be able to to get observability into what is actually going on and and",
    "start": "567480",
    "end": "574560"
  },
  {
    "text": "I'll get back to this but normally we talk about observability with three pillars we talk about logs metrics and",
    "start": "574560",
    "end": "581100"
  },
  {
    "text": "traces so so we need to add something that can pick up the logs maybe something that can pick up metrics from",
    "start": "581100",
    "end": "587820"
  },
  {
    "text": "our applications and maybe something that can pick up traces right so again we add one or more components that needs",
    "start": "587820",
    "end": "595320"
  },
  {
    "text": "to be operated monitored that need to be kept up to Great up to date to to ensure that we are not kind of having security",
    "start": "595320",
    "end": "601800"
  },
  {
    "text": "vulnerabilities in in the components around there and then the part that I skipped here because of",
    "start": "601800",
    "end": "610320"
  },
  {
    "start": "607000",
    "end": "668000"
  },
  {
    "text": "I guess was getting ahead of myself uh was was Secrets handling now assuming",
    "start": "610320",
    "end": "615600"
  },
  {
    "text": "that we actually did gitups for doing the deployments we we probably do not",
    "start": "615600",
    "end": "620640"
  },
  {
    "text": "want to store our secrets inside of bit at least not uh at least not in clear text and and the standard uh kubernetes",
    "start": "620640",
    "end": "628140"
  },
  {
    "text": "secret might look encrypted but it's only based 64 in encoded so it's",
    "start": "628140",
    "end": "633180"
  },
  {
    "text": "basically just to be able to handle binary values it's not an encryption as such so there's different different ways",
    "start": "633180",
    "end": "639600"
  },
  {
    "text": "of actually handling the task of getting secrets for for instance credentials for",
    "start": "639600",
    "end": "645720"
  },
  {
    "text": "database or something like that getting that into the cluster and it's also something that we need to solve one way",
    "start": "645720",
    "end": "651839"
  },
  {
    "text": "or another there is ways of handling it as part of the the GitHub GitHub Source",
    "start": "651839",
    "end": "657480"
  },
  {
    "text": "there's also ways of of giving the secrets a life cycle that is kind of independent of your of your GitHub setup",
    "start": "657480",
    "end": "665440"
  },
  {
    "text": "[Music] um yeah and then now we have the application running we",
    "start": "665440",
    "end": "673019"
  },
  {
    "start": "668000",
    "end": "751000"
  },
  {
    "text": "might want to be able to give some assurance that we are actually compliant with the different kind of policies for",
    "start": "673019",
    "end": "680399"
  },
  {
    "text": "one here we probably want to make sure that no containers are running as root for instance inside of our cluster we",
    "start": "680399",
    "end": "687300"
  },
  {
    "text": "might also want to make sure that containers drop privileges in the kernel that they are not supposed to use but we",
    "start": "687300",
    "end": "695579"
  },
  {
    "text": "might also have more business related policies we might want our applications to be labeled with the owning business",
    "start": "695579",
    "end": "702839"
  },
  {
    "text": "unit or whatever that kind of stuff um so so we might want some kind of",
    "start": "702839",
    "end": "708540"
  },
  {
    "text": "policy engine to help us enforce different different policies inside of a cluster for the security part something",
    "start": "708540",
    "end": "715200"
  },
  {
    "text": "comes with kubernetes previously we had the part security policies those are",
    "start": "715200",
    "end": "720360"
  },
  {
    "text": "being deprecated but the new admission controller as part of kubernetes to enforce something called part security",
    "start": "720360",
    "end": "726959"
  },
  {
    "text": "standards instead of that so you get a little bit from the the from the platform there but but not kind of",
    "start": "726959",
    "end": "734880"
  },
  {
    "text": "enforcing more business related policies so you might also want a component that",
    "start": "734880",
    "end": "740160"
  },
  {
    "text": "can enforce policies in in one way or another so now we have a number of of",
    "start": "740160",
    "end": "745620"
  },
  {
    "text": "different kind of challenges here that we want to solve and we might go to the",
    "start": "745620",
    "end": "751560"
  },
  {
    "start": "751000",
    "end": "805000"
  },
  {
    "text": "cncf landscape and take a look here all the little boxes are different projects solving",
    "start": "751560",
    "end": "759060"
  },
  {
    "text": "different challenges inside of kubernetes cluster so go and and take",
    "start": "759060",
    "end": "764880"
  },
  {
    "text": "your pick um of of which one you want and then if we're building con of the platform over",
    "start": "764880",
    "end": "771540"
  },
  {
    "text": "and over because we're building a new platform for for each project we might end up doing different choices here even",
    "start": "771540",
    "end": "778260"
  },
  {
    "text": "if they kind of solve somewhat the same problem so the issue here is basically can can",
    "start": "778260",
    "end": "785220"
  },
  {
    "text": "we actually build a platform that is fit for purpose kind of reusable and and",
    "start": "785220",
    "end": "790740"
  },
  {
    "text": "make kind of a an um opinionated choice of of systems or",
    "start": "790740",
    "end": "798560"
  },
  {
    "text": "components from from the landscape here right so",
    "start": "798560",
    "end": "804839"
  },
  {
    "text": "let's see if it's actually possible and let's see how it is from a developer",
    "start": "804839",
    "end": "810240"
  },
  {
    "start": "805000",
    "end": "2102000"
  },
  {
    "text": "perspective to actually bootstrap a new project into such a platform and and as we go I'll show I'll I'll dwell a little",
    "start": "810240",
    "end": "817380"
  },
  {
    "text": "bit upon the choices that we have done to solve these different issues that that you just saw",
    "start": "817380",
    "end": "823980"
  },
  {
    "text": "um just a brief introduction uh the the stack that we have selected consists",
    "start": "823980",
    "end": "831000"
  },
  {
    "text": "some of different components and we have chosen to kind of put them into the same grouping as as the cncf landscape has so",
    "start": "831000",
    "end": "839940"
  },
  {
    "text": "there's something about security and compliance the Escape keeper and the own policy agent to enforce policies there's",
    "start": "839940",
    "end": "847440"
  },
  {
    "text": "something about traffic management so we have an English controller in in Contour we have external DNS we have sat manager",
    "start": "847440",
    "end": "853860"
  },
  {
    "text": "I'll get back to that there's something about continuous deployment we are using flux for for githubs so that's in a",
    "start": "853860",
    "end": "861660"
  },
  {
    "text": "continuous deployment group and then of the ability and analysis is also kind of",
    "start": "861660",
    "end": "866820"
  },
  {
    "text": "a huge issue with such clusters so there's Prometheus there's there's a",
    "start": "866820",
    "end": "872579"
  },
  {
    "text": "lock collection and there is traces from through home Telemetry and basically",
    "start": "872579",
    "end": "878160"
  },
  {
    "text": "that the idea here is that that if you if we actually achieve buildings such a stack that is actually",
    "start": "878160",
    "end": "884579"
  },
  {
    "text": "that is actually viable that fit for purpose from for most applications there might might be variations of course but",
    "start": "884579",
    "end": "890699"
  },
  {
    "text": "then we can reuse that stack on top of pretty much any kubernetes cluster right so we can provide the application we",
    "start": "890699",
    "end": "897899"
  },
  {
    "text": "kind of the same interface towards the infrastructure no matter whether we are running on network on premise clusters",
    "start": "897899",
    "end": "904680"
  },
  {
    "text": "or whether we are running in Azure or or Amazon so that's another game from actually trying to standardize on on",
    "start": "904680",
    "end": "911399"
  },
  {
    "text": "something that we then know as an application developer this is kind of the interface towards the the",
    "start": "911399",
    "end": "917339"
  },
  {
    "text": "infrastructure right so for the sake of the demo I've written a",
    "start": "917339",
    "end": "924180"
  },
  {
    "text": "very very very small go Application that exposes uh one HTTP endpoint and",
    "start": "924180",
    "end": "931500"
  },
  {
    "text": "basically when you ask it on slash hello it just answers back hello world this is pretty much the most",
    "start": "931500",
    "end": "939779"
  },
  {
    "text": "simple thing you can do with go and HTTP I think the only thing that I have added",
    "start": "939779",
    "end": "945480"
  },
  {
    "text": "here is an open Telemetry Library so basically I wrap the application in in",
    "start": "945480",
    "end": "951899"
  },
  {
    "text": "an open Telemetry Handler to be able to to push out metrics and traces so that",
    "start": "951899",
    "end": "958740"
  },
  {
    "text": "we can get some transparency into the into the application so basically this is the source code for for the",
    "start": "958740",
    "end": "965279"
  },
  {
    "text": "application there's a link for for GitHub if you want to see the for real later on",
    "start": "965279",
    "end": "973019"
  },
  {
    "text": "um so what does it take to onboard or bootstrap this project into a cluster",
    "start": "973019",
    "end": "978839"
  },
  {
    "text": "well in kubernetes we have the notion of a namespace as as you probably know uh",
    "start": "978839",
    "end": "985079"
  },
  {
    "text": "so basically we want this application to live within its own namespaced kind of",
    "start": "985079",
    "end": "990720"
  },
  {
    "text": "to isolate it and and there's a number of things to setting up a namespace",
    "start": "990720",
    "end": "996480"
  },
  {
    "text": "there's a lot more than just doing Cube Coral create NS right because this",
    "start": "996480",
    "end": "1002240"
  },
  {
    "text": "namespace we want to be in somewhat uh production grade and we want to",
    "start": "1002240",
    "end": "1008120"
  },
  {
    "text": "we would like it to be production grade art close to boxing grade as early as possible in in the development cycle",
    "start": "1008120",
    "end": "1014420"
  },
  {
    "text": "right so when we deploy to development we want to be hit by the same things and not discover security issues when we go",
    "start": "1014420",
    "end": "1020779"
  },
  {
    "text": "into staging so that we actually adapt our our source code as as early as possible so uh creating the namespace uh",
    "start": "1020779",
    "end": "1029298"
  },
  {
    "text": "first of all we need to to set up the githubs so so what we have opted for is kind of",
    "start": "1029299",
    "end": "1036620"
  },
  {
    "text": "delegating the responsibility for deploying into a namespace uh to to a to",
    "start": "1036620",
    "end": "1041660"
  },
  {
    "text": "a separate git repository so basically the developer or or the customer here gets access to a git repository that can",
    "start": "1041660",
    "end": "1049820"
  },
  {
    "text": "do that can deploy into the namespace so anything pushed to that git repository will basically be reconciled into into",
    "start": "1049820",
    "end": "1057140"
  },
  {
    "text": "the new namespace here and that could be either be an git repository that already exists so it could be a new git",
    "start": "1057140",
    "end": "1063679"
  },
  {
    "text": "repository but we need that as kind of the foundation for doing reconciliation into the into the namespace then we need",
    "start": "1063679",
    "end": "1070280"
  },
  {
    "text": "something about setting up quotas we need Network policies we need the role",
    "start": "1070280",
    "end": "1075860"
  },
  {
    "text": "actually defining what can be deployed from real skid Ops repository because we do not want anybody to be able to kind",
    "start": "1075860",
    "end": "1082880"
  },
  {
    "text": "of mess with cluster-wide configurations right we do not want to be able to mess with cluster roll",
    "start": "1082880",
    "end": "1088640"
  },
  {
    "text": "bindings or something like that we do not want possibly not want the the",
    "start": "1088640",
    "end": "1094760"
  },
  {
    "text": "developers to be able to change network policies again you can kind of by altering the role here you can kind of",
    "start": "1094760",
    "end": "1101539"
  },
  {
    "text": "give delegate more or less responsibility to the git repository for litany this namespace if you actually",
    "start": "1101539",
    "end": "1107780"
  },
  {
    "text": "want to be able to deploy Network policies for this particular namespace you could extend the role definition for",
    "start": "1107780",
    "end": "1115039"
  },
  {
    "text": "for this namespace so that develops are allowed to divide Network policies for",
    "start": "1115039",
    "end": "1120140"
  },
  {
    "text": "instance but the normal kind of separation between operations and and",
    "start": "1120140",
    "end": "1125299"
  },
  {
    "text": "the development you would have operations manage the network policies for instance right",
    "start": "1125299",
    "end": "1130820"
  },
  {
    "text": "but that's kind of a agreement that you do and then you saw the secret stuff we",
    "start": "1130820",
    "end": "1136760"
  },
  {
    "text": "use external secrets to draw in secret Styles configuration there you could be creating databases that are specific for",
    "start": "1136760",
    "end": "1144020"
  },
  {
    "text": "the applications here and set up open Telemetry so there's a lot of stuff here to set up a new namespace and to make",
    "start": "1144020",
    "end": "1150919"
  },
  {
    "text": "this smooth and easy we created a small communities operator and now before I",
    "start": "1150919",
    "end": "1157940"
  },
  {
    "text": "actually show what the operator is like I'll kind of start the demo because all",
    "start": "1157940",
    "end": "1163640"
  },
  {
    "text": "this setup takes a little bit of time to to complete so so let's trigger let's trigger this and then I'll show you",
    "start": "1163640",
    "end": "1169640"
  },
  {
    "text": "afterwards what what is actually going on here um",
    "start": "1169640",
    "end": "1175120"
  },
  {
    "text": "let's see just a moment",
    "start": "1176140",
    "end": "1180820"
  },
  {
    "text": "just make sure we up to date them um basically I just add add a add one",
    "start": "1183679",
    "end": "1191600"
  },
  {
    "text": "um add one manifest here and you will see the resource that is part of this",
    "start": "1191600",
    "end": "1196700"
  },
  {
    "text": "manifest in in just a moment so since the cluster itself is also at at a",
    "start": "1196700",
    "end": "1202700"
  },
  {
    "text": "cluster level com differenti defined by githubs basically Now by um",
    "start": "1202700",
    "end": "1208460"
  },
  {
    "text": "by doing this change I can add a new namespace",
    "start": "1208460",
    "end": "1215020"
  },
  {
    "text": "and I push it to git and then to help the reconciliation going I'll just ask",
    "start": "1217160",
    "end": "1223160"
  },
  {
    "text": "flux to please reconcile this right away and then I'll show you what I actually",
    "start": "1223160",
    "end": "1230539"
  },
  {
    "text": "was doing here we created the namespace operator and um",
    "start": "1230539",
    "end": "1236299"
  },
  {
    "text": "and basically what it does is all the bullet points that you saw on the",
    "start": "1236299",
    "end": "1241460"
  },
  {
    "text": "previous slide it does that in in one run so it creates a new GitHub repository it creates the new SSH key",
    "start": "1241460",
    "end": "1248299"
  },
  {
    "text": "pair handing one over to GitHub and keeping one inside of the cluster to be able to do reconciliation it it sets up",
    "start": "1248299",
    "end": "1256640"
  },
  {
    "text": "the quote as the network policies and so on but the only thing that I actually put into the cluster right now is the",
    "start": "1256640",
    "end": "1263240"
  },
  {
    "text": "bootstrap custom resource over there so basically I just saying I want a new namespace here",
    "start": "1263240",
    "end": "1268539"
  },
  {
    "text": "called Network go to app and then I say the namespace quotas should be a sized",
    "start": "1268539",
    "end": "1275299"
  },
  {
    "text": "medium and for the new kit repository I want to reconcile against Main and from",
    "start": "1275299",
    "end": "1281240"
  },
  {
    "text": "a path called deploy so right now hopefully uh we are getting a new",
    "start": "1281240",
    "end": "1286460"
  },
  {
    "text": "repository and setting up the cluster uh so let's go take a look whether anything",
    "start": "1286460",
    "end": "1292640"
  },
  {
    "text": "actually happened so we can start at the at GitHub",
    "start": "1292640",
    "end": "1300039"
  },
  {
    "text": "try to do a refresh there yeah so if we look at yeah you can see there are 39 seconds ago so actually we got a new we",
    "start": "1300919",
    "end": "1307700"
  },
  {
    "text": "got a new uh garanoukit repository created we are on Main uh already now as",
    "start": "1307700",
    "end": "1314179"
  },
  {
    "text": "you can see and there's a deploy folder so already now we're actually starting to reconcile what's in the deployment",
    "start": "1314179",
    "end": "1320240"
  },
  {
    "text": "folder and this is created based on a GitHub template so actually as a developer you already get some you kind",
    "start": "1320240",
    "end": "1326780"
  },
  {
    "text": "of inherit some documentation from the template right so helping you get getting started with the with the new",
    "start": "1326780",
    "end": "1332780"
  },
  {
    "text": "namespace here um if we take a look inside of the cluster",
    "start": "1332780",
    "end": "1339380"
  },
  {
    "text": "uh there we have a new namespace called",
    "start": "1339380",
    "end": "1344840"
  },
  {
    "text": "Natick go to app it's uh H is 86 seconds we can do a describe and see that",
    "start": "1344840",
    "end": "1351020"
  },
  {
    "text": "there's like actually some quota as created if we go into the namespace we",
    "start": "1351020",
    "end": "1356720"
  },
  {
    "text": "can look at the flux um the flux resources in here so that",
    "start": "1356720",
    "end": "1361760"
  },
  {
    "text": "should be git repository pointing to to the one that you just saw in GitHub and also if we look at",
    "start": "1361760",
    "end": "1367700"
  },
  {
    "text": "customize we can see that it's actually applying the stuff that it checks out from GitHub",
    "start": "1367700",
    "end": "1374480"
  },
  {
    "text": "so now we actually set up and now we can start actually deploying our application",
    "start": "1374480",
    "end": "1381500"
  },
  {
    "text": "so for the deployment basically for the sake of the the",
    "start": "1381500",
    "end": "1387380"
  },
  {
    "text": "demonstration here it's a very very simple deployment I just instead of doing Helm or anything all else I just",
    "start": "1387380",
    "end": "1393620"
  },
  {
    "text": "basically created a Helm deployment resource here and I'm going to push that",
    "start": "1393620",
    "end": "1399799"
  },
  {
    "text": "into the cluster now and see if we can actually deploy the little Hello World Service there",
    "start": "1399799",
    "end": "1405740"
  },
  {
    "text": "um first things first I need to check out the our new repository here right",
    "start": "1405740",
    "end": "1412059"
  },
  {
    "text": "uh so I'll do a git clone and hopefully getting that and then I",
    "start": "1412059",
    "end": "1419659"
  },
  {
    "text": "can go in here and see that now we actually have this and I'll just uh",
    "start": "1419659",
    "end": "1427340"
  },
  {
    "text": "remove the stuff that we got from from the template there and then copy",
    "start": "1427340",
    "end": "1433460"
  },
  {
    "text": "the deployment manifest so basically now this was what what you",
    "start": "1433460",
    "end": "1438799"
  },
  {
    "text": "saw on the slide also right so a very simple deployment resource pointing to to to this simple application and if I",
    "start": "1438799",
    "end": "1447320"
  },
  {
    "text": "enter the this one I should be able to do an ad and say that now we are",
    "start": "1447320",
    "end": "1454100"
  },
  {
    "text": "actually doing the first deployment",
    "start": "1454100",
    "end": "1459158"
  },
  {
    "text": "and again I'll just ask flux to please reconcile right away uh it should be",
    "start": "1459440",
    "end": "1464900"
  },
  {
    "text": "this one so we don't have to wait for that and basically we should be able to hear",
    "start": "1464900",
    "end": "1470900"
  },
  {
    "text": "follow the deployment and we can see already now it's actually the deployment is",
    "start": "1470900",
    "end": "1476419"
  },
  {
    "text": "there uh the yard thing here is that there's actually no ready parts that's a little",
    "start": "1476419",
    "end": "1483320"
  },
  {
    "text": "bit strange so let's go into the replica set here to see what's what's going on it actually has a desire of one on the",
    "start": "1483320",
    "end": "1490280"
  },
  {
    "text": "current of zero so something is seems to be preventing us from from actively deploying so let's do a describe here",
    "start": "1490280",
    "end": "1497600"
  },
  {
    "text": "and if we look at the events you can see here that hopes we are",
    "start": "1497600",
    "end": "1503840"
  },
  {
    "text": "actually not complying with the security policies and as I as I described before",
    "start": "1503840",
    "end": "1508960"
  },
  {
    "text": "uh this actually forces us to already here at the development Point uh make",
    "start": "1508960",
    "end": "1515720"
  },
  {
    "text": "the the correct setup for for the security part so it's basically it's complaining uh that that we do not have",
    "start": "1515720",
    "end": "1522380"
  },
  {
    "text": "a secure to context in place right so to tell the container runtime that the this",
    "start": "1522380",
    "end": "1529940"
  },
  {
    "text": "this part is never or the containers of this part is never going to be allowed running with this kind of abilities we",
    "start": "1529940",
    "end": "1536659"
  },
  {
    "text": "need to add the execute the context to the deployment right that's that's standard best practice for security in",
    "start": "1536659",
    "end": "1542659"
  },
  {
    "text": "kubernetes uh so basically we need to say we do not want previous escalation so no ESU uh sudo or anything inside of",
    "start": "1542659",
    "end": "1550279"
  },
  {
    "text": "the container we want to drop current capabilities we do not ever want to run as root and then we choose some user uid",
    "start": "1550279",
    "end": "1557120"
  },
  {
    "text": "to to to be not rude so should a container come in with root it will be",
    "start": "1557120",
    "end": "1562640"
  },
  {
    "text": "overwritten by this uid instead um so we need to add this to actually have the pot created inside of our our um inside",
    "start": "1562640",
    "end": "1569900"
  },
  {
    "text": "of our cluster here to comply with the security policies and luckily",
    "start": "1569900",
    "end": "1575960"
  },
  {
    "text": "it's already here we just need to uncomment it so and basically it's the same all over",
    "start": "1575960",
    "end": "1582740"
  },
  {
    "text": "again right uh we do a air and we do a fix",
    "start": "1582740",
    "end": "1589039"
  },
  {
    "text": "oh not that fix fix Security contact",
    "start": "1589039",
    "end": "1595220"
  },
  {
    "text": "and push this and let the let's do a Reconciliation and then looking inside",
    "start": "1597500",
    "end": "1603919"
  },
  {
    "text": "of the cluster um there it goes and we got our part running line",
    "start": "1603919",
    "end": "1611600"
  },
  {
    "text": "um so that was for the first part we got the namespace created we got our application up and running uh next on we",
    "start": "1611600",
    "end": "1618799"
  },
  {
    "text": "want to have some kind of Ingress into the cluster and I'll just uh start this and then show you what's going on",
    "start": "1618799",
    "end": "1625400"
  },
  {
    "text": "afterwards again because that's always also takes a little bit of time to get that rolling",
    "start": "1625400",
    "end": "1633799"
  },
  {
    "text": "I'll just keep that also yep",
    "start": "1633799",
    "end": "1637960"
  },
  {
    "text": "so let's just Commit This and I'll show what it actually was",
    "start": "1640159",
    "end": "1647179"
  },
  {
    "text": "um English and false reconsibility yeah so",
    "start": "1647179",
    "end": "1654980"
  },
  {
    "text": "Ingress basically although uh kubernetes does not come with a built-in English",
    "start": "1654980",
    "end": "1661279"
  },
  {
    "text": "controller as such it does come with an English resource and on its way it's",
    "start": "1661279",
    "end": "1668659"
  },
  {
    "text": "also the the Gateway API specification which is kind of a more advanced way of of controlling your English so so kind",
    "start": "1668659",
    "end": "1675440"
  },
  {
    "text": "of there is a standardization around how do you define Ingress into your workload and basically we we just I just added",
    "start": "1675440",
    "end": "1683659"
  },
  {
    "text": "this Ingress and below the English between the part and the English is the service resources as you probably also",
    "start": "1683659",
    "end": "1689840"
  },
  {
    "text": "know if you work with with kubernetes so I just added the service and and English on top of that and that should actually",
    "start": "1689840",
    "end": "1696860"
  },
  {
    "text": "allow for our English controller to accept traffic right but the other things that we that we wanted here was",
    "start": "1696860",
    "end": "1703640"
  },
  {
    "text": "TLS certificate so we want to be able to issue let's encrypt certificates for our our workload here and we also want to be",
    "start": "1703640",
    "end": "1711440"
  },
  {
    "text": "able to create new DNS entries so the the highlighted stuff here is actually",
    "start": "1711440",
    "end": "1717860"
  },
  {
    "text": "telling the annotations here is actually telling sub manager which is part of the the managed component in this cluster",
    "start": "1717860",
    "end": "1724279"
  },
  {
    "text": "that I want to issue and let's encrypt certificate and the other part here the",
    "start": "1724279",
    "end": "1729559"
  },
  {
    "text": "hostname there is actually automatically created inside of the DNS or uh that is",
    "start": "1729559",
    "end": "1735559"
  },
  {
    "text": "that is kind of you could say connected to to this cluster that is a setup with external DNS and the moment that the",
    "start": "1735559",
    "end": "1741980"
  },
  {
    "text": "external DNS discovers that a new Ingress resource was created and it is",
    "start": "1741980",
    "end": "1747440"
  },
  {
    "text": "actually beneath the domain top level domain that I know something about then it would go to the DNS server and create",
    "start": "1747440",
    "end": "1753500"
  },
  {
    "text": "a new a record for for this one so in just a moment we should actually be able to access hello go to network Decay and",
    "start": "1753500",
    "end": "1761059"
  },
  {
    "text": "and do it with https seeing a let's encrypt certificate",
    "start": "1761059",
    "end": "1767000"
  },
  {
    "text": "um so let's see if if these things are actually propagated to both let's",
    "start": "1767000",
    "end": "1772279"
  },
  {
    "text": "encrypt and and and the DNS server by now um we can try",
    "start": "1772279",
    "end": "1779000"
  },
  {
    "text": "finding a browser here so if we say",
    "start": "1779000",
    "end": "1784059"
  },
  {
    "text": "Hello dot go to.netic.dk slash hello",
    "start": "1784340",
    "end": "1791480"
  },
  {
    "text": "it actually responds with Hello World a little bit small but but it basically just text that comes back if we look at",
    "start": "1791480",
    "end": "1798380"
  },
  {
    "text": "the the certificate here um we can actually see here that can no you",
    "start": "1798380",
    "end": "1805220"
  },
  {
    "text": "I can I can make that bigger but uh but basically that let's encrypt certificate and if we look at the the issuing date",
    "start": "1805220",
    "end": "1811820"
  },
  {
    "text": "here it's the 5th of October uh 1318 now that's uh",
    "start": "1811820",
    "end": "1817159"
  },
  {
    "text": "that's just now hopefully two two minutes ago in in UTC timer",
    "start": "1817159",
    "end": "1825799"
  },
  {
    "text": "um yeah and uh so far so good",
    "start": "1825799",
    "end": "1833000"
  },
  {
    "text": "now we got a we got most parts of our place and running and we have increase to our",
    "start": "1833000",
    "end": "1838940"
  },
  {
    "text": "allocation next up is the of the ability and and the transparency into what's",
    "start": "1838940",
    "end": "1844880"
  },
  {
    "text": "actually going on and for as far as locks goes these days",
    "start": "1844880",
    "end": "1851360"
  },
  {
    "text": "basically if we just log to stand out back in the days we always learned that we need to have a lock framework in",
    "start": "1851360",
    "end": "1857600"
  },
  {
    "text": "place and we need to make sure that log files are rotated so that you do not fill up the disk and all that stuff",
    "start": "1857600",
    "end": "1862940"
  },
  {
    "text": "running inside of kotema we just look to stand it out and it's pretty easy from",
    "start": "1862940",
    "end": "1868279"
  },
  {
    "text": "the cluster to pick up all the container locks from standard out so that's kind",
    "start": "1868279",
    "end": "1873500"
  },
  {
    "text": "of a no-brainer there's no there's no extra work to actually pick up the logs and make those available to the",
    "start": "1873500",
    "end": "1879080"
  },
  {
    "text": "developer right but for traces and for metrics uh you kind of gotta gotta have",
    "start": "1879080",
    "end": "1884360"
  },
  {
    "text": "some agreement or some interface between the applications and and the collection points metrics these days are pretty",
    "start": "1884360",
    "end": "1891919"
  },
  {
    "text": "much always handled by by Prometheus right so we need to have a way of",
    "start": "1891919",
    "end": "1897020"
  },
  {
    "text": "telling the infrastructure that hey here is here is a Prometheus metrics endpoint that you've got to scrape and pick up",
    "start": "1897020",
    "end": "1903380"
  },
  {
    "text": "the metrics for traces uh things are kind of converging towards open uh open",
    "start": "1903380",
    "end": "1910279"
  },
  {
    "text": "Telemetry uh so that you can kind of hand over traces but again the",
    "start": "1910279",
    "end": "1915559"
  },
  {
    "text": "application needs to know where to actually push these traces because for traces it's a it's a push push of data",
    "start": "1915559",
    "end": "1923059"
  },
  {
    "text": "out of the application normally um so basically",
    "start": "1923059",
    "end": "1928659"
  },
  {
    "text": "we allow for for an annotation on on the on the application here so that you can",
    "start": "1928659",
    "end": "1935360"
  },
  {
    "text": "tell hey I want an open television sidecar so I can hand over traces and we",
    "start": "1935360",
    "end": "1941720"
  },
  {
    "text": "use a premises operator for the metric side of things so you can deploy a service monitor resource and tell the",
    "start": "1941720",
    "end": "1947600"
  },
  {
    "text": "the infrastructure that hey I have something that that I want you to scrape",
    "start": "1947600",
    "end": "1953000"
  },
  {
    "text": "and then Prometheus operator will will make certain that the configuration of reaches is changed to actually pick up",
    "start": "1953000",
    "end": "1959960"
  },
  {
    "text": "the metrics from from the application so that's how the the interface or the agreement between the application and",
    "start": "1959960",
    "end": "1966380"
  },
  {
    "text": "the infrastructure is here and then basically there's some Cafe",
    "start": "1966380",
    "end": "1973179"
  },
  {
    "text": "that is accessible for for the guys using this platform and",
    "start": "1973179",
    "end": "1979360"
  },
  {
    "text": "here I can do I'm not sure whether I'm still locked on I'll just make sure that",
    "start": "1979360",
    "end": "1985340"
  },
  {
    "text": "that is the case basically it would look like this when you come in and then there's a lot of",
    "start": "1985340",
    "end": "1991580"
  },
  {
    "text": "core metrics because in in this world when you're running on a platform like kubernetes there's a lot of metrics that",
    "start": "1991580",
    "end": "1998419"
  },
  {
    "text": "you kind of get for free so so you can drill down into the cluster here and you",
    "start": "1998419",
    "end": "2003580"
  },
  {
    "text": "would be able to actually find the the go to app namespace and you'll be able to find how how much how much CPU and",
    "start": "2003580",
    "end": "2011200"
  },
  {
    "text": "how much memory are my application actually utilizing right now this comes without any any any uh any action from",
    "start": "2011200",
    "end": "2020140"
  },
  {
    "text": "from the application side of things well this is just being picked up by by the platform itself",
    "start": "2020140",
    "end": "2025419"
  },
  {
    "text": "but you are also able to query the the logs um for this setup we have we have a",
    "start": "2025419",
    "end": "2032799"
  },
  {
    "text": "human instance running beneath it but since it's a caffeine here basically basically it could be any log collection",
    "start": "2032799",
    "end": "2040779"
  },
  {
    "text": "system that was that was uh that was beneath it uh and then here we see One",
    "start": "2040779",
    "end": "2047500"
  },
  {
    "text": "locking the the the application is is created such that it creates a lock",
    "start": "2047500",
    "end": "2053679"
  },
  {
    "text": "entry each time that this hello endpoint is is called so here we see the trace ID",
    "start": "2053679",
    "end": "2059500"
  },
  {
    "text": "for for that particular session and again in a fan it's possible to make those kind of active so we can go from",
    "start": "2059500",
    "end": "2066158"
  },
  {
    "text": "from the lock here and into the trace so we can see the trace and now this application is is pretty pretty simple",
    "start": "2066159",
    "end": "2073240"
  },
  {
    "text": "uh and pretty boring in that respect so so basically there's only one span as",
    "start": "2073240",
    "end": "2079118"
  },
  {
    "text": "part of this Trace but but if the trace has spent multiple Services of course you will be able to to kind of see it",
    "start": "2079119",
    "end": "2085060"
  },
  {
    "text": "here and and also you can you can basically query the metrics from from",
    "start": "2085060",
    "end": "2090540"
  },
  {
    "text": "Prometheus also",
    "start": "2090540",
    "end": "2093898"
  },
  {
    "text": "that's kind of the the last part of the that's kind of the last part of the the",
    "start": "2097720",
    "end": "2104500"
  },
  {
    "start": "2102000",
    "end": "2223000"
  },
  {
    "text": "platform so basically I think we managed to show that in just 20 minutes you can",
    "start": "2104500",
    "end": "2110200"
  },
  {
    "text": "actually onboard an application and and of course this application was kind of tailored to fit into the platform but",
    "start": "2110200",
    "end": "2116079"
  },
  {
    "text": "but but but for for this simple kind of application this this would be fit for",
    "start": "2116079",
    "end": "2122079"
  },
  {
    "text": "purpose then of course in some settings there would be differences and then to to support the private platforms",
    "start": "2122079",
    "end": "2129400"
  },
  {
    "text": "um so I guess um uh the main takeaway is that there's more to running in kubernetes and cube",
    "start": "2129400",
    "end": "2136839"
  },
  {
    "text": "is called apply you've probably already knew that [Music] um",
    "start": "2136839",
    "end": "2142359"
  },
  {
    "text": "it might make sense in some contexts to actually hand out or have somebody else",
    "start": "2142359",
    "end": "2148119"
  },
  {
    "text": "manage and operate all these components whether it's an in-house platform team I",
    "start": "2148119",
    "end": "2153220"
  },
  {
    "text": "actually read an article on the new stack just yesterday where they actually talk about this setup where you have a",
    "start": "2153220",
    "end": "2160420"
  },
  {
    "text": "platform team inside of your business that that are running these kind of components for for the cluster so that",
    "start": "2160420",
    "end": "2167500"
  },
  {
    "text": "you can focus on the application developers can focus on on what actually makes business values and provide new",
    "start": "2167500",
    "end": "2173579"
  },
  {
    "text": "features but it's always a kind of a balance right so you got to have you got",
    "start": "2173579",
    "end": "2179380"
  },
  {
    "text": "to have enough flexibility to to support what developers want but you also need",
    "start": "2179380",
    "end": "2184839"
  },
  {
    "text": "for it to make value you also need to take kind of some responsibility away and and some of the management",
    "start": "2184839",
    "end": "2190240"
  },
  {
    "text": "operations away from from uh from the developers now right",
    "start": "2190240",
    "end": "2196720"
  },
  {
    "text": "um and then yeah for security it's uh it's always nice to have like do a push",
    "start": "2196720",
    "end": "2202540"
  },
  {
    "text": "lift so that you discover the security stuff as early as possible and not when",
    "start": "2202540",
    "end": "2207579"
  },
  {
    "text": "you're on your the verge of going into production you find out that hey everything is running as root we need to",
    "start": "2207579",
    "end": "2212800"
  },
  {
    "text": "kind of rewrite everything so so having that early in the process is is always is always nice",
    "start": "2212800",
    "end": "2219820"
  },
  {
    "text": "yep I think that kinds of completed thank you for",
    "start": "2219820",
    "end": "2226780"
  },
  {
    "start": "2223000",
    "end": "2245000"
  },
  {
    "text": "listening hope it was worth your time",
    "start": "2226780",
    "end": "2231180"
  }
]