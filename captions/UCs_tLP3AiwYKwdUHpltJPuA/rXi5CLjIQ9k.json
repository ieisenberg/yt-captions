[
  {
    "start": "0",
    "end": "323000"
  },
  {
    "text": "[Music] so hi my name is Clemens I work at",
    "start": "7510",
    "end": "14799"
  },
  {
    "text": "Microsoft I am the architect for messaging at Microsoft in Azure so we",
    "start": "14799",
    "end": "21340"
  },
  {
    "text": "have a few things that we run in Azure I've been in the there's a lot to read",
    "start": "21340",
    "end": "27939"
  },
  {
    "text": "don't don't worry about I'm I've been with in the after team for nine years",
    "start": "27939",
    "end": "34510"
  },
  {
    "text": "now which is funny because there's not nine years old so one of the first",
    "start": "34510",
    "end": "40120"
  },
  {
    "text": "services that or the first service is celebrated its tenth birthday was at the",
    "start": "40120",
    "end": "46329"
  },
  {
    "text": "end of last month service bus because we had our first public outing of that",
    "start": "46329",
    "end": "52659"
  },
  {
    "text": "service exactly 10 years ago on May 31st 2006 so we've been around quite a bit",
    "start": "52659",
    "end": "57749"
  },
  {
    "text": "quite some time and I didn't bring the Bragg slide but our messaging",
    "start": "57749",
    "end": "64088"
  },
  {
    "text": "infrastructure the broker infrastructure that we run currently runs about 350 billion transactions per week per month",
    "start": "64089",
    "end": "70890"
  },
  {
    "text": "the event hub I'm going to talk about event and gesture briefly also currently",
    "start": "70890",
    "end": "76660"
  },
  {
    "text": "does about three point five trillion transactions per week so we run a fairly",
    "start": "76660",
    "end": "82510"
  },
  {
    "text": "large messaging system and so messaging is something that we're that we're building as it happens since I'm a",
    "start": "82510",
    "end": "89440"
  },
  {
    "text": "little bit older I've been seeing the cycle now I'm seeing the cycle the",
    "start": "89440",
    "end": "97330"
  },
  {
    "text": "second time I see this micro services thing and I'm like the girl in Jurassic Park in the control center like this is",
    "start": "97330",
    "end": "103150"
  },
  {
    "text": "a unique system I know this I've seen these things turns out a lot of these",
    "start": "103150",
    "end": "108280"
  },
  {
    "text": "slides that I'm going to show you today are twelve years old we'll see whether",
    "start": "108280",
    "end": "113620"
  },
  {
    "text": "you can spot which which of them are I'm gonna I'm and I have a lot of slides for",
    "start": "113620",
    "end": "119080"
  },
  {
    "text": "you so this is going to be a lot of material I have 70 slides so we'll see how we can get through them and what I'm",
    "start": "119080",
    "end": "124150"
  },
  {
    "text": "going to start with is my notion our notion of services and what service",
    "start": "124150",
    "end": "129970"
  },
  {
    "text": "means because there's a very clear understanding that we have services and you'll also see why because I'm going to",
    "start": "129970",
    "end": "136420"
  },
  {
    "text": "use Azure as this showcase for what services mean because we build a system that consists of 80 services that are",
    "start": "136420",
    "end": "143290"
  },
  {
    "text": "all work load services that not only you can depend on but also that we depend depend on each other so it's a very",
    "start": "143290",
    "end": "150580"
  },
  {
    "text": "large ecosystem of services that we build on top of it where we build on top of each other so it's not something",
    "start": "150580",
    "end": "155800"
  },
  {
    "text": "that's internal no it's something where work load teams 30 people 50 people actually building work load services for",
    "start": "155800",
    "end": "162220"
  },
  {
    "text": "you but also for other people to consume and that can only work with particular",
    "start": "162220",
    "end": "167400"
  },
  {
    "text": "approach to how we build those services I want to tell you about that and also want to tell you about messaging I want to tell you about protocols and I want",
    "start": "167400",
    "end": "174130"
  },
  {
    "text": "to tell you about choices and it's going to end in a very simple summary picture for how you can go and structure our",
    "start": "174130",
    "end": "179290"
  },
  {
    "text": "services and I think about it so what is a service this is my definition it's",
    "start": "179290",
    "end": "185800"
  },
  {
    "text": "owned built and run by an organization that's the first defining criterion for",
    "start": "185800",
    "end": "191260"
  },
  {
    "text": "service it's when we talk about service it's something that is about organizations more than it is about",
    "start": "191260",
    "end": "196690"
  },
  {
    "text": "software it's about ownership it's about autonomy of that organization to go deploy and run stuff my team runs a",
    "start": "196690",
    "end": "203680"
  },
  {
    "text": "service and with what means run is there is no ops team we run that thing we",
    "start": "203680",
    "end": "209530"
  },
  {
    "text": "build it we deploy it we run it second the service is responsible for holding",
    "start": "209530",
    "end": "216010"
  },
  {
    "text": "processing and distributing particular kinds of information within the scope of a system and has authority for something",
    "start": "216010",
    "end": "221460"
  },
  {
    "text": "in my case we build technical platform services we build the messaging service",
    "start": "221460",
    "end": "226720"
  },
  {
    "text": "and that messaging broker there's one in that platform and that's our authority yeah we have actually we have two queues",
    "start": "226720",
    "end": "234090"
  },
  {
    "text": "another has a different purpose but in an organization you know the larger organization there is one particular",
    "start": "234090",
    "end": "240370"
  },
  {
    "text": "service that does one particular job now there may be some overlaps and there will be some overlaps due to",
    "start": "240370",
    "end": "246870"
  },
  {
    "text": "practicalities right companies merge then there's a thing that calls you know there's a there's a trap that's called",
    "start": "246870",
    "end": "253810"
  },
  {
    "text": "the customer service there is no one customer service because each sub organization has a different notion of",
    "start": "253810",
    "end": "259420"
  },
  {
    "text": "what a customer is but for that particular notion of other customers there's one service as one team that",
    "start": "259420",
    "end": "264940"
  },
  {
    "text": "owns it every service can be built and deployed and run independently meeting",
    "start": "264940",
    "end": "271479"
  },
  {
    "text": "defined operational objectives we'll talk about that too it communicates with consumers and other",
    "start": "271479",
    "end": "277449"
  },
  {
    "text": "services presenting information using conventions or contract assurances which means there is a contract there's",
    "start": "277449",
    "end": "282610"
  },
  {
    "text": "agreement about what that service and how that service communicates it project protects itself against unwanted access",
    "start": "282610",
    "end": "289300"
  },
  {
    "text": "to security and its information against loss there is safety for your data and",
    "start": "289300",
    "end": "294929"
  },
  {
    "text": "it handles failure conditions such as failures cannot lead to information corruption corruption so it failure",
    "start": "294929",
    "end": "301689"
  },
  {
    "text": "handling is part of the definition that is the service in my view whether that",
    "start": "301689",
    "end": "307209"
  },
  {
    "text": "is micro or macro or whatever that is actually doesn't matter because all those things also stack your service",
    "start": "307209",
    "end": "314709"
  },
  {
    "text": "that you built as a composition of all the services downstream services that you consume I said scope of a system",
    "start": "314709",
    "end": "323469"
  },
  {
    "start": "323000",
    "end": "427000"
  },
  {
    "text": "let's go and define that too a system is a Federation of services or other systems aiming provide a composite",
    "start": "323469",
    "end": "331569"
  },
  {
    "text": "solution for a well-defined scope a airline booking system a video",
    "start": "331569",
    "end": "338279"
  },
  {
    "text": "distribution portal some of those services may be shared amongst others",
    "start": "338279",
    "end": "344110"
  },
  {
    "text": "and that's true for platform services than it is for workload services that provide business business logic so as",
    "start": "344110",
    "end": "351159"
  },
  {
    "text": "your storage is a service that can be easily shared across many things because it's not very specific a customer",
    "start": "351159",
    "end": "357759"
  },
  {
    "text": "service against that's the trap is unlikely be the shareable across anything that is not exactly that",
    "start": "357759",
    "end": "364029"
  },
  {
    "text": "organization that has that particular notion of our customers the solution scope for that service may well be not",
    "start": "364029",
    "end": "372519"
  },
  {
    "text": "just technically motivated but also may be motivated by business technology policy law culture and other criteria so",
    "start": "372519",
    "end": "380019"
  },
  {
    "text": "you may go and set up a separate service a separately run service that may consist of similar code that needs to be",
    "start": "380019",
    "end": "386379"
  },
  {
    "text": "run separately by a separate team because of legal requirements because of",
    "start": "386379",
    "end": "392019"
  },
  {
    "text": "regulation because of all kinds of it's not only technical requirements not only pure business requirements with this",
    "start": "392019",
    "end": "397389"
  },
  {
    "text": "also other requirements for that as well which cause a different system to be",
    "start": "397389",
    "end": "402430"
  },
  {
    "text": "setup in which scope in whose scope services run and a system may appear and act like a",
    "start": "402430",
    "end": "409060"
  },
  {
    "text": "service towards other services so that's like a SAS platform office 365 is a",
    "start": "409060",
    "end": "417160"
  },
  {
    "text": "service but it's a very huge conglomerate of actually built-in services that you never see because it's",
    "start": "417160",
    "end": "422890"
  },
  {
    "text": "got a one pretty skin on top of it so so much for definitions service does not",
    "start": "422890",
    "end": "427930"
  },
  {
    "start": "427000",
    "end": "490000"
  },
  {
    "text": "imply any of that stuff in my view so if someone says you can only do services if",
    "start": "427930",
    "end": "434680"
  },
  {
    "text": "you use docker that's nonsense if you use on it you can only do micro services using kubernetes that's",
    "start": "434680",
    "end": "440950"
  },
  {
    "text": "nonsense same for JSON or XML or soap or",
    "start": "440950",
    "end": "446110"
  },
  {
    "text": "rest or any of those things now it has nothing to do with it service is really something that talks about organization",
    "start": "446110",
    "end": "452080"
  },
  {
    "text": "how you scope stuff and it talked about ownership and that's something that's important that's architecture this is",
    "start": "452080",
    "end": "457690"
  },
  {
    "text": "implementation this is design services about architecture primarily we'll get",
    "start": "457690",
    "end": "462760"
  },
  {
    "text": "to the design piece in a moment before that let me warn you of something",
    "start": "462760",
    "end": "469200"
  },
  {
    "text": "because when we tried that service thing the last time like 1998 1999 when we",
    "start": "469200",
    "end": "479830"
  },
  {
    "text": "came up with this notion of service orientation and we were kind of like we",
    "start": "479830",
    "end": "485590"
  },
  {
    "text": "Microsoft work on the forefront of that something happened the ESB people came",
    "start": "485590",
    "end": "492010"
  },
  {
    "start": "490000",
    "end": "556000"
  },
  {
    "text": "and they messed it all up so we we did a",
    "start": "492010",
    "end": "497020"
  },
  {
    "text": "good way you did a good bunch of of messing up in that whole a story with W",
    "start": "497020",
    "end": "502750"
  },
  {
    "text": "star specifically W security W security was so complicated nobody understood it it was awfully it's awfully hard to",
    "start": "502750",
    "end": "510550"
  },
  {
    "text": "implement so I can see why people didn't like the whole soap the whole soap",
    "start": "510550",
    "end": "515770"
  },
  {
    "text": "business because was too hard the ESB though that made everything really",
    "start": "515770",
    "end": "521260"
  },
  {
    "text": "terrible well how did the e has become about ESB had lots of marketing dollars",
    "start": "521260",
    "end": "526600"
  },
  {
    "text": "behind it and vendors with vested interests to go and sell you that thing and sell that thing into the enterprise",
    "start": "526600",
    "end": "532750"
  },
  {
    "text": "so you could buy product a product I don't want to bash the competitors but",
    "start": "532750",
    "end": "538840"
  },
  {
    "text": "you can buy those products and they we'll were now the central part of all of your integration interestingly enough",
    "start": "538840",
    "end": "546980"
  },
  {
    "text": "those vendors are now selling you the API gateway which is exactly the same",
    "start": "546980",
    "end": "551990"
  },
  {
    "text": "thing so let's talk let's let's take a look at that for a moment so that bus",
    "start": "551990",
    "end": "558649"
  },
  {
    "start": "556000",
    "end": "591000"
  },
  {
    "text": "that you're being sold the Enterprise Service bus it's not a bus as a hub typically it's for machine to machines",
    "start": "558649",
    "end": "564379"
  },
  {
    "text": "for machines it's somewhere in the corner and through which all of the message traffic rods that's not a bus",
    "start": "564379",
    "end": "570699"
  },
  {
    "text": "that is a bottleneck in the enterprise and the more and more and more you add to it the harder that thing gets to",
    "start": "570699",
    "end": "576949"
  },
  {
    "text": "scale that's a reality of why so I failed in many is a failure in many of",
    "start": "576949",
    "end": "584959"
  },
  {
    "text": "you in many people's view is because it's coupled to it has become coupled to this notion of an ESB so what are the",
    "start": "584959",
    "end": "591350"
  },
  {
    "start": "591000",
    "end": "614000"
  },
  {
    "text": "promises the promises of these ESB s is that you have centralized deployments",
    "start": "591350",
    "end": "596660"
  },
  {
    "text": "and config integration and you have all these adapters centralized service governance centralized management of",
    "start": "596660",
    "end": "602540"
  },
  {
    "text": "routing centralized repositories shared assets all wonderful centralized you can",
    "start": "602540",
    "end": "607579"
  },
  {
    "text": "go and have you know turn all the levers in that one place the dilemma is well at",
    "start": "607579",
    "end": "616279"
  },
  {
    "start": "614000",
    "end": "657000"
  },
  {
    "text": "scale and if you really want to have a lot of services if you run these where you now",
    "start": "616279",
    "end": "622790"
  },
  {
    "text": "have no mobile clients which show up in hundreds of thousands you have 80",
    "start": "622790",
    "end": "629540"
  },
  {
    "text": "services which need to depend on each other if you want to go and centrally manage all that stuff that's get a root",
    "start": "629540",
    "end": "635509"
  },
  {
    "text": "that's getting really difficult who is maintaining those four servers who is",
    "start": "635509",
    "end": "640879"
  },
  {
    "text": "actually owning all that stuff what this turns into is the central IT",
    "start": "640879",
    "end": "645980"
  },
  {
    "text": "organization where you have to go and file a change request for the ESB to go and change an adapter or change the",
    "start": "645980",
    "end": "651709"
  },
  {
    "text": "configuration so that's a horrid idea if we had done this in Azure just in this",
    "start": "651709",
    "end": "659480"
  },
  {
    "start": "657000",
    "end": "737000"
  },
  {
    "text": "example with all the services that we have all the teams that we have with",
    "start": "659480",
    "end": "664490"
  },
  {
    "text": "with 5000 6000 engineers who are working on this who owns that centerpiece who",
    "start": "664490",
    "end": "670160"
  },
  {
    "text": "owns that big rendezvous thing in the sky who owns the integration application server that",
    "start": "670160",
    "end": "676460"
  },
  {
    "text": "everything runs through nobody can it's too hard so that whole idea of having an",
    "start": "676460",
    "end": "684050"
  },
  {
    "text": "ESB of having this this big thing in that city in the middle of your enterprise and that every everybody",
    "start": "684050",
    "end": "690560"
  },
  {
    "text": "rhonda busan is giant nonsense and that",
    "start": "690560",
    "end": "695570"
  },
  {
    "text": "is a failure that is the failure of not of the of the notion of services that is",
    "start": "695570",
    "end": "701630"
  },
  {
    "text": "actually the failure of the concept of centralization so micro services is the",
    "start": "701630",
    "end": "708080"
  },
  {
    "text": "resurgence of services as we fought them up in the late 90s in the beginning",
    "start": "708080",
    "end": "714860"
  },
  {
    "text": "instance thousands before all that ESB nonsense happened the api gateway is",
    "start": "714860",
    "end": "719990"
  },
  {
    "text": "exactly the same trap so don't fall into it because we made me messing that up again so be aware if someone says you I",
    "start": "719990",
    "end": "727970"
  },
  {
    "text": "want to have here's a centralized managed API gateway that's the same thing so that much as a word of warning",
    "start": "727970",
    "end": "735680"
  },
  {
    "text": "just because I have you now case study Microsoft Azure how do we build stuff",
    "start": "735680",
    "end": "741860"
  },
  {
    "start": "737000",
    "end": "1015000"
  },
  {
    "text": "how do we run these so we have a large number of feature services we have",
    "start": "741860",
    "end": "747560"
  },
  {
    "text": "probably 200 services altogether including the internal ones I think we have 85 public feature services that we",
    "start": "747560",
    "end": "754580"
  },
  {
    "text": "have individual names and of course there's a lot of stuff in the back end that helps us kind of running the system",
    "start": "754580",
    "end": "761330"
  },
  {
    "text": "right just as much as as the Netflix folks have a lot of services that you never know about because you know you're",
    "start": "761330",
    "end": "766970"
  },
  {
    "text": "consuming they're they're pretty front-end we have a lot of services in the background that also we're running",
    "start": "766970",
    "end": "774770"
  },
  {
    "text": "the so and then these are the shared back-end services such a billing such as",
    "start": "774770",
    "end": "781360"
  },
  {
    "text": "Diagnostics pipeline which does troll into the events for actually per minute and we have we're all independent teams",
    "start": "781360",
    "end": "789680"
  },
  {
    "text": "so my team is depending on how you count 50 60 70 people and we're shipping",
    "start": "789680",
    "end": "796790"
  },
  {
    "text": "completely independently from everybody else nobody we don't need to announce to anybody that we're shipping we don't",
    "start": "796790",
    "end": "802070"
  },
  {
    "text": "need to announce anybody that we're patching because we have we're making promises to our internal folks and",
    "start": "802070",
    "end": "808520"
  },
  {
    "text": "we're making promises to the world the clear advantage that we have as a team is that we are we have an obligation to",
    "start": "808520",
    "end": "813980"
  },
  {
    "text": "the public because we're shipping a public service and also internal internal parties rely on so we have the",
    "start": "813980",
    "end": "821690"
  },
  {
    "text": "obligation to upgrade the system which is stateful it's a message broker underload maintaining SLA maintaining",
    "start": "821690",
    "end": "830510"
  },
  {
    "text": "SLA means we need to have 99.99% uptime 99.99% reliability through the upgrade",
    "start": "830510",
    "end": "838220"
  },
  {
    "text": "process and that's something that we just that were making a promise about we have to go and uphold that we shipping",
    "start": "838220",
    "end": "845660"
  },
  {
    "text": "features and fixes daily there's this is deployment going on all the time there used to be some time when the executives",
    "start": "845660",
    "end": "852170"
  },
  {
    "text": "get on stage and we're presenting a sure that there was kind of a change band that no longer exists like there's good",
    "start": "852170",
    "end": "857270"
  },
  {
    "text": "deployments going on when Scott Guthrie gets up on stage at the build conference that maybe just upgrades running because",
    "start": "857270",
    "end": "863810"
  },
  {
    "text": "there's no band all this it just needs to work 28 plus core data center facilities I",
    "start": "863810",
    "end": "871610"
  },
  {
    "text": "think we're up to well over 30 our total data center footprint is 200 that we",
    "start": "871610",
    "end": "877550"
  },
  {
    "text": "have including two CDN nodes and what else we do in Microsoft but address currently in twenty eight we have our",
    "start": "877550",
    "end": "885260"
  },
  {
    "text": "service has at least two sometimes four sometimes more clusters in each of these",
    "start": "885260",
    "end": "890360"
  },
  {
    "text": "data centers and facilities and those clusters are between 16 and 256 machines",
    "start": "890360",
    "end": "898280"
  },
  {
    "text": "with two to four cores each so we run fairly large clusters in those setups",
    "start": "898280",
    "end": "905000"
  },
  {
    "text": "across those systems and what they do is they move messages just in the clever way the only way how this can work",
    "start": "905000",
    "end": "913220"
  },
  {
    "text": "so I just talked about us but us meaning us the service must see the messaging team we federated everybody else so we",
    "start": "913220",
    "end": "921350"
  },
  {
    "text": "rely on storage we rely on compute we rely on the the billing pipeline we rely",
    "start": "921350",
    "end": "926960"
  },
  {
    "text": "on all those other services so everybody needs to be able to go and deploy themselves everybody needs to go and",
    "start": "926960",
    "end": "932210"
  },
  {
    "text": "have the same agility and that's something that you can only achieve if we have the right principles so what I",
    "start": "932210",
    "end": "938840"
  },
  {
    "text": "told you at the beginning of the definition that is the core those principles and so I want to",
    "start": "938840",
    "end": "944140"
  },
  {
    "text": "explain more and how we get to those principles how we think about those so a",
    "start": "944140",
    "end": "949630"
  },
  {
    "text": "service let me go and dive into more from a conceptual perspective because that matters and this slide is actually",
    "start": "949630",
    "end": "955570"
  },
  {
    "text": "this slide and this is something that I'm done I'm really glad about and proud of I have to say this slide is literally",
    "start": "955570",
    "end": "964050"
  },
  {
    "text": "twelve years old that was right then it is right now and that's the fabulous",
    "start": "964050",
    "end": "972250"
  },
  {
    "text": "thing we were right about this whole thing twelve years ago about autonomy",
    "start": "972250",
    "end": "977590"
  },
  {
    "text": "about doing this in the right thing we built the services in that way this is not a new movement this is proven",
    "start": "977590",
    "end": "983820"
  },
  {
    "text": "principles and that is why I'm so excited about my core services I'm not excited about the name actually but I'm",
    "start": "983820",
    "end": "990490"
  },
  {
    "text": "excited about the fact that we have taken services back from this mess that was the ESB and are rediscovering the",
    "start": "990490",
    "end": "998830"
  },
  {
    "text": "principles this is a cycle I'm really excited about so a defining property of services is that they're autonomous and",
    "start": "998830",
    "end": "1004950"
  },
  {
    "text": "that autonomy speaks about team's autonomy is independence a service owns",
    "start": "1004950",
    "end": "1010590"
  },
  {
    "text": "all the state it immediately depends on the managers all the data belongs to that service and only to that service",
    "start": "1010590",
    "end": "1019310"
  },
  {
    "start": "1015000",
    "end": "1068000"
  },
  {
    "text": "the service owns its communication contract the service owner owns the",
    "start": "1019310",
    "end": "1024990"
  },
  {
    "text": "contract makes a promise and if it wants to make a change we can make it they can make a change but there's no central",
    "start": "1024990",
    "end": "1030750"
  },
  {
    "text": "committee that defines what that contract looks like the service team owns that communication contract the",
    "start": "1030750",
    "end": "1036390"
  },
  {
    "text": "service can be changed redeployed or completely replaced at any time service has a well-known set of communication",
    "start": "1036390",
    "end": "1042300"
  },
  {
    "text": "paths where it announces itself the service shall note shall share no state",
    "start": "1042300",
    "end": "1049020"
  },
  {
    "text": "no internal state with others and there's no common data store there's no shared in memory state with any other",
    "start": "1049020",
    "end": "1055110"
  },
  {
    "text": "services if if you do this then you don't have a service you may have a tear but another service I'm going to get to",
    "start": "1055110",
    "end": "1060150"
  },
  {
    "text": "tier two tier and services and layers in a moment and there can't be no side line",
    "start": "1060150",
    "end": "1066870"
  },
  {
    "text": "communication then we'll also talk and",
    "start": "1066870",
    "end": "1072300"
  },
  {
    "start": "1068000",
    "end": "1208000"
  },
  {
    "text": "I'll have you have a picture in a moment what that means in terms of and why that's bad interdependencies your service owns you",
    "start": "1072300",
    "end": "1080100"
  },
  {
    "text": "owns its own uptime if you depend on a storage service underneath whether your",
    "start": "1080100",
    "end": "1085710"
  },
  {
    "text": "data is stored and that service is gone that's your fault because you ought to",
    "start": "1085710",
    "end": "1093900"
  },
  {
    "text": "have a replica of that data somewhere else or you should at least minimize the",
    "start": "1093900",
    "end": "1100890"
  },
  {
    "text": "risk such that maybe one of your partitions goes down because that's that goes down over there but you should go",
    "start": "1100890",
    "end": "1108420"
  },
  {
    "text": "and spread the risk around for your downstream dependency so that you can go and stay up and you should you if you",
    "start": "1108420",
    "end": "1114150"
  },
  {
    "text": "stay if you go down then at least be upfront about it right and give proper",
    "start": "1114150",
    "end": "1120330"
  },
  {
    "text": "errors back don't just crash like you need to expect that all the stuff that is downstream from you is not available it may not be",
    "start": "1120330",
    "end": "1127920"
  },
  {
    "text": "available so what is your plan for when that happens so that's something to be really conscious about you own your own up to it's not not something that you",
    "start": "1127920",
    "end": "1135060"
  },
  {
    "text": "can go and blame on others and autonomous service honors its own contracts because you can only be",
    "start": "1135060",
    "end": "1140910"
  },
  {
    "text": "autonomous if you have confidence that you can go and upgrade and that means",
    "start": "1140910",
    "end": "1145980"
  },
  {
    "text": "you made a promise in in the current version and you now made a make an upgrade well the other people who are",
    "start": "1145980",
    "end": "1154260"
  },
  {
    "text": "talking to you don't know about your new features in your new contract so you have to honor the old one and in most",
    "start": "1154260",
    "end": "1160170"
  },
  {
    "text": "cases there is a people contract that goes along with this which means we're going to sunset this API in a year and",
    "start": "1160170",
    "end": "1166320"
  },
  {
    "text": "that's how much warning other organisations need and that's our policy is to say we actually give you a year to",
    "start": "1166320",
    "end": "1174240"
  },
  {
    "text": "go and change things and that's that might sometimes even be slow so yes you can go in and rapidly evolve your",
    "start": "1174240",
    "end": "1180510"
  },
  {
    "text": "services but you need to are all on our backward contracts and if you look at many of the services that we have",
    "start": "1180510",
    "end": "1186240"
  },
  {
    "text": "sometimes they they actually on our contracts 2020 versions back because we",
    "start": "1186240",
    "end": "1192150"
  },
  {
    "text": "can't break the clients bits are deployed bits are shipping with other",
    "start": "1192150",
    "end": "1197250"
  },
  {
    "text": "software so honoring the contract is the is the way how you achieve autonomy for",
    "start": "1197250",
    "end": "1203070"
  },
  {
    "text": "yourself it's something that you is it a required discipline so why is sharing",
    "start": "1203070",
    "end": "1208860"
  },
  {
    "start": "1208000",
    "end": "1272000"
  },
  {
    "text": "data stores bad there a simple example so you have two services and they sort data they've",
    "start": "1208860",
    "end": "1216420"
  },
  {
    "text": "retrieved by a primary key passes that on to the other servants that other service now we relies on the same store right",
    "start": "1216420",
    "end": "1223560"
  },
  {
    "text": "token data the problem with that model is that service can never go and depend",
    "start": "1223560",
    "end": "1230280"
  },
  {
    "text": "on the other store right you can't move that service over to the other store",
    "start": "1230280",
    "end": "1236550"
  },
  {
    "text": "because they have a secret relationship with each other they share primary keys they can't they have to pass the data",
    "start": "1236550",
    "end": "1243810"
  },
  {
    "text": "around literally when you make this those two services are not coupled why",
    "start": "1243810",
    "end": "1249000"
  },
  {
    "text": "is that that because it's one it's one store you can't pull it apart you can't",
    "start": "1249000",
    "end": "1256800"
  },
  {
    "text": "scale it up you can't partition it you can't do any of the things that one of the services might want to do because",
    "start": "1256800",
    "end": "1264180"
  },
  {
    "text": "the other one depends on a particular relationship with them so these are not two services these are actually two",
    "start": "1264180",
    "end": "1270150"
  },
  {
    "text": "modules which are looking at the same database the nice thing also is that data store decoupling enables evolution",
    "start": "1270150",
    "end": "1278760"
  },
  {
    "start": "1272000",
    "end": "1524000"
  },
  {
    "text": "the contract piece not only is valid for talking to you through the service through the REST API or through",
    "start": "1278760",
    "end": "1284550"
  },
  {
    "text": "messaging it's also true for the relationship towards the data store because the data store also has a",
    "start": "1284550",
    "end": "1291030"
  },
  {
    "text": "contract has a schema so you have an evolution that goes on where you now",
    "start": "1291030",
    "end": "1297810"
  },
  {
    "text": "need to have new features and if you have new features and you need to have the data store change well then that",
    "start": "1297810",
    "end": "1303660"
  },
  {
    "text": "data store can very easily change in if you have the store separated so the",
    "start": "1303660",
    "end": "1310950"
  },
  {
    "text": "decomposition of services from a model it takes application into services means",
    "start": "1310950",
    "end": "1316650"
  },
  {
    "text": "that you're breaking up the database otherwise you don't have services it",
    "start": "1316650",
    "end": "1323070"
  },
  {
    "text": "must mean you break up the database and breaking up the database there's a whole",
    "start": "1323070",
    "end": "1328110"
  },
  {
    "text": "talk that I would love to give and that's the 3-hour talk probably about data patterns look at your database and",
    "start": "1328110",
    "end": "1334020"
  },
  {
    "text": "and differentiate between the data that is written that's read right and hot and then you read right once and never",
    "start": "1334020",
    "end": "1341940"
  },
  {
    "text": "change again I think about what the data does there's some data you can easily replicate",
    "start": "1341940",
    "end": "1347820"
  },
  {
    "text": "throughout the world very easily and the transactional core is very very small in most databases so you have to triage",
    "start": "1347820",
    "end": "1355410"
  },
  {
    "text": "your database that big data model with 170 tables or 700 tables is dead if you",
    "start": "1355410",
    "end": "1362160"
  },
  {
    "text": "want to do services also services have different requirements in terms of scale",
    "start": "1362160",
    "end": "1368880"
  },
  {
    "text": "and this is where we also get to to",
    "start": "1368880",
    "end": "1374930"
  },
  {
    "text": "two-tier concerns later you have a service that deals with front-end",
    "start": "1374960",
    "end": "1380100"
  },
  {
    "text": "traffic from mobile devices and from a mobile app that you just shipped and you have a back-end service that just",
    "start": "1380100",
    "end": "1385290"
  },
  {
    "text": "accepts whatever bookings like you have a travel a travel service the travel service with the catalog is going to",
    "start": "1385290",
    "end": "1391830"
  },
  {
    "text": "serve a ton of requests those travel bookings are going to come in you know fairly rarely those have completely",
    "start": "1391830",
    "end": "1398790"
  },
  {
    "text": "different scale scale concerns and you can go and build them differently so you",
    "start": "1398790",
    "end": "1404060"
  },
  {
    "text": "have a service B service P this slide is actually 15 years old the service",
    "start": "1404060",
    "end": "1411180"
  },
  {
    "text": "becomes overstressed what do you do and they're all sitting on the same machine",
    "start": "1411180",
    "end": "1416210"
  },
  {
    "text": "we split them up two machines what is the requirement no shared in",
    "start": "1416210",
    "end": "1423000"
  },
  {
    "text": "memory state no shared in memory dependencies between the two they need to be autonomous the service still runs",
    "start": "1423000",
    "end": "1431880"
  },
  {
    "text": "hot what do you do well you sharted",
    "start": "1431880",
    "end": "1437010"
  },
  {
    "text": "across machines so in the simplest case you cannot have crisscross instance a",
    "start": "1437010",
    "end": "1443220"
  },
  {
    "text": "this is where the notion of stateless shows up where you don't have any",
    "start": "1443220",
    "end": "1448320"
  },
  {
    "text": "interdependencies between those service instances they don't share state in the",
    "start": "1448320",
    "end": "1453390"
  },
  {
    "text": "simplest case because the more sophisticated our systems get the harder",
    "start": "1453390",
    "end": "1458550"
  },
  {
    "text": "gets the state listing and the state listing is really just a lie mostly because it talks about the length of the",
    "start": "1458550",
    "end": "1465600"
  },
  {
    "text": "session it doesn't talk about anything that's happening at runtime stateless means it commonly you make a",
    "start": "1465600",
    "end": "1472530"
  },
  {
    "text": "request and after that request you forget everything the set length of the session is one but we have more and more",
    "start": "1472530",
    "end": "1479010"
  },
  {
    "text": "sophisticated systems where the length of the session is longer than that so what are we doing to do with that",
    "start": "1479010",
    "end": "1485600"
  },
  {
    "text": "so there's infrastructure that we add for this today",
    "start": "1485600",
    "end": "1491010"
  },
  {
    "text": "we're monitoring modern clustering infrastructure can allow for easy and consistent state sharing failover of",
    "start": "1491010",
    "end": "1497460"
  },
  {
    "text": "ownership aspects of partitioned workloads one of those examples is something that we have in our cloud and",
    "start": "1497460",
    "end": "1503820"
  },
  {
    "text": "also available from premises also in in preview for Linux and it's called service fabric and service fabric is a",
    "start": "1503820",
    "end": "1510570"
  },
  {
    "text": "clustering fabric there's many other examples of dhts the serving the hash tables you can go",
    "start": "1510570",
    "end": "1516179"
  },
  {
    "text": "and find which can also go and replicate that kind of State across machines but I'll give you an example of how the",
    "start": "1516179",
    "end": "1521850"
  },
  {
    "text": "service fabric works in our system so this is a generic picture of a gateway",
    "start": "1521850",
    "end": "1530190"
  },
  {
    "start": "1524000",
    "end": "1750000"
  },
  {
    "text": "that has stateful computer behind it and has a storage tier behind it turns out",
    "start": "1530190",
    "end": "1536760"
  },
  {
    "text": "our the service that we build our broker actually is looks it looks like this in",
    "start": "1536760",
    "end": "1542700"
  },
  {
    "text": "that way so we have an HTTP gateway and you have the lookup facility that allows",
    "start": "1542700",
    "end": "1549990"
  },
  {
    "text": "you to kind of find the owner of the bucket a one so the first this first",
    "start": "1549990",
    "end": "1556409"
  },
  {
    "text": "yellow arrow at the top is implies a lookup to the cluster facility which",
    "start": "1556409",
    "end": "1564030"
  },
  {
    "text": "then says I need to find a one the owner of a one which machine owns a one that's",
    "start": "1564030",
    "end": "1569070"
  },
  {
    "text": "usually a hash resolution finds that place goes and talks to it similar thing",
    "start": "1569070",
    "end": "1575610"
  },
  {
    "text": "happens when that fateful compute cluster now talks to the storage tier which also finds that place now",
    "start": "1575610",
    "end": "1581780"
  },
  {
    "text": "something happens that machine dies in",
    "start": "1581780",
    "end": "1587429"
  },
  {
    "text": "automatically cluster system automatically falls over fails over to the secondary which has already been",
    "start": "1587429",
    "end": "1592830"
  },
  {
    "text": "primed it knows all the data which it now gets elected to the new to the new primary and if that same thing happens",
    "start": "1592830",
    "end": "1599610"
  },
  {
    "text": "on the storage tier well the same failover happens so that's that stuff that happens in these modern in this one",
    "start": "1599610",
    "end": "1605730"
  },
  {
    "text": "cluster fabrics where state state let's no longer exists exactly stateful is okay because we now",
    "start": "1605730",
    "end": "1613130"
  },
  {
    "text": "have ways to go in and create consistency across a large cluster so",
    "start": "1613130",
    "end": "1618230"
  },
  {
    "text": "that we can go and scale those things out because there are problems that require that stateless in the sense of",
    "start": "1618230",
    "end": "1624260"
  },
  {
    "text": "Webster but is still very easy but there's workloads where you need to go and maintain ownership and where you need to maintain a notion of what is",
    "start": "1624260",
    "end": "1631580"
  },
  {
    "text": "what and where is where so that was",
    "start": "1631580",
    "end": "1636650"
  },
  {
    "text": "clustering there's a fabulous talk",
    "start": "1636650",
    "end": "1642800"
  },
  {
    "text": "unfortunately I have not I there might not be recordings but there's still its slide deck that's around if you find if",
    "start": "1642800",
    "end": "1648140"
  },
  {
    "text": "you look for features and emissaries you will find a fantastic deck pad Helland",
    "start": "1648140",
    "end": "1655210"
  },
  {
    "text": "wrote this he said he's been fabulous in 2000 now in the late 90s transaction god",
    "start": "1655210",
    "end": "1662960"
  },
  {
    "text": "and he wrote this book he wrote wrote this deck about feast reasons and emissaries and one of the key aspects",
    "start": "1662960",
    "end": "1669140"
  },
  {
    "text": "here is one around autonomy where he speaks about how to think about autonomy and the relationship to other services",
    "start": "1669140",
    "end": "1675350"
  },
  {
    "text": "and an emissary is a very interesting concept an emissary is a piece of",
    "start": "1675350",
    "end": "1681650"
  },
  {
    "text": "software you give to someone to talk to you and that's something that we do very very often today by giving people SDKs",
    "start": "1681650",
    "end": "1687590"
  },
  {
    "text": "so Kafka for instance has a private protocol and they reserve the right",
    "start": "1687590",
    "end": "1692900"
  },
  {
    "text": "Apache Kafka messaging infrastructure these we reserve the right to change it the way how they get around this around",
    "start": "1692900",
    "end": "1699410"
  },
  {
    "text": "publishing the protocol effectively or committing to the protocol is that they ship you bits so they ship you an SDK",
    "start": "1699410",
    "end": "1704510"
  },
  {
    "text": "for this and this and this for many many many different languages which are emissaries we're going to see more and",
    "start": "1704510",
    "end": "1710630"
  },
  {
    "text": "more of this in the space of IOT because we have a notion of edge computer you want to go to push computation out into",
    "start": "1710630",
    "end": "1716990"
  },
  {
    "text": "devices that are sitting at the edge we want to go and push compute out to to",
    "start": "1716990",
    "end": "1722060"
  },
  {
    "text": "fog devices which are kind of sitting in the network so services don't necessarily all hide behind their",
    "start": "1722060",
    "end": "1728060"
  },
  {
    "text": "boundary but they may send little software agents out into the world which kind of do work on their behalf and if",
    "start": "1728060",
    "end": "1734570"
  },
  {
    "text": "you see what javascript does today in browsers on behalf of the back-end",
    "start": "1734570",
    "end": "1740090"
  },
  {
    "text": "service you have a lot of these emissaries so that is also something that is an old concept",
    "start": "1740090",
    "end": "1746330"
  },
  {
    "text": "proven because we do that all the time the benefit of keeping these services",
    "start": "1746330",
    "end": "1751520"
  },
  {
    "start": "1750000",
    "end": "1829000"
  },
  {
    "text": "autonomous is that they enable operational agility services and all the",
    "start": "1751520",
    "end": "1758510"
  },
  {
    "text": "implementations can be moved for configured replace behind the curtain you're committing to a contract you're",
    "start": "1758510",
    "end": "1764990"
  },
  {
    "text": "committing to to a certain external facing contract you you committing means",
    "start": "1764990",
    "end": "1774410"
  },
  {
    "text": "as you are upgrading as you're changing you keep honoring this which buys you",
    "start": "1774410",
    "end": "1780110"
  },
  {
    "text": "that sort of agility autonomy also and which means not sharing stores not",
    "start": "1780110",
    "end": "1786770"
  },
  {
    "text": "sharing anything that's kind of downstream from you stack also enables clustering you cannot do cluster you",
    "start": "1786770",
    "end": "1792890"
  },
  {
    "text": "cannot do partitioning you cannot do clustering you cannot do slicing up your work with scaling out your workload if",
    "start": "1792890",
    "end": "1799550"
  },
  {
    "text": "you share stores if you share any under downstream infrastructure with anybody else because you don't have agility to",
    "start": "1799550",
    "end": "1807590"
  },
  {
    "text": "go and change it that's really important ultimately reusability and adaptability",
    "start": "1807590",
    "end": "1814130"
  },
  {
    "text": "is something that you can achieve when you are autonomous so autonomy is is the",
    "start": "1814130",
    "end": "1819140"
  },
  {
    "text": "prime principle and if you want to take anything home from today from this talk autonomy is important that is the",
    "start": "1819140",
    "end": "1827030"
  },
  {
    "text": "service what do they try to achieve so",
    "start": "1827030",
    "end": "1832400"
  },
  {
    "start": "1829000",
    "end": "1992000"
  },
  {
    "text": "what are we trying to ship when we ship a service let's go and move on from autonomy scalability availability",
    "start": "1832400",
    "end": "1838280"
  },
  {
    "text": "consistency and I don't have enough time to go and define all the ways in in details let's reliability predictability",
    "start": "1838280",
    "end": "1844690"
  },
  {
    "text": "that's one that's easily overlooked but someone that's actually hurting us quite a bit if we messages flow through our",
    "start": "1844690",
    "end": "1853550"
  },
  {
    "text": "system in X milliseconds people get really upset if it takes more milliseconds than the usual milliseconds",
    "start": "1853550",
    "end": "1859160"
  },
  {
    "text": "and if they if it takes like five seconds to go and move a message around they get they call us predictability is",
    "start": "1859160",
    "end": "1866150"
  },
  {
    "text": "really important predictability means you need to ring-fence resources to do the same job over and over again there's",
    "start": "1866150",
    "end": "1873530"
  },
  {
    "text": "a lot to be said about multi-tenancy in the perfect the wonderfulness of it but if you need predictability you need",
    "start": "1873530",
    "end": "1879650"
  },
  {
    "text": "to have the resources available at all times so that's something that's the interesting design point we have in our",
    "start": "1879650",
    "end": "1885530"
  },
  {
    "text": "service now a capability of premium messaging where we actually live ring-fence resources we're in France CPU",
    "start": "1885530",
    "end": "1890690"
  },
  {
    "text": "and memory for customers so that they get the same performance every time so we don't run that in a multi-tenant",
    "start": "1890690",
    "end": "1896720"
  },
  {
    "text": "system anymore in those particular cases just for predictability security is",
    "start": "1896720",
    "end": "1902000"
  },
  {
    "text": "obvious agility the ability to go and make all the changes that I talked about safety risk of disaster support ability",
    "start": "1902000",
    "end": "1911179"
  },
  {
    "text": "cost all of those are operational objectives that a service team needs to meet and the service team has kind of in",
    "start": "1911179",
    "end": "1923390"
  },
  {
    "text": "that in those all those categories you're going to get those slides so you can go and review those areas that makes",
    "start": "1923390",
    "end": "1930470"
  },
  {
    "text": "assurances that's the thing so basically in all those buckets you think about",
    "start": "1930470",
    "end": "1935690"
  },
  {
    "text": "what you are trying to achieve and then you now turn that into an assurance to",
    "start": "1935690",
    "end": "1942140"
  },
  {
    "text": "your clients because that's part of building a service and running a service what is my predicted predictable",
    "start": "1942140",
    "end": "1950419"
  },
  {
    "text": "performance what is my scalability right if you buy X you're getting this and you",
    "start": "1950419",
    "end": "1957290"
  },
  {
    "text": "will go and discount based on what your metrics are and basically what you measure you will go and give yourself some wiggle room and then make a",
    "start": "1957290",
    "end": "1963080"
  },
  {
    "text": "commitment to this is my reliability this is how many transactions of I will",
    "start": "1963080",
    "end": "1968210"
  },
  {
    "text": "fail and transaction failing transactions can be quite a bit so for instance what we do on our brokers is as",
    "start": "1968210",
    "end": "1977450"
  },
  {
    "text": "I said three trillion transactions closer to three trillion transactions on",
    "start": "1977450",
    "end": "1983150"
  },
  {
    "text": "event hubs per week egress 99.99% reliability on trillions",
    "start": "1983150",
    "end": "1992740"
  },
  {
    "start": "1992000",
    "end": "2034000"
  },
  {
    "text": "we have a lot errors we have millions of errors millions of errors that's okay",
    "start": "1992740",
    "end": "2001049"
  },
  {
    "text": "because we're very upfront about about what that is you can't expect perfection",
    "start": "2001049",
    "end": "2006100"
  },
  {
    "text": "out of us because we're running a system at drama scale but that's something you need to be very clear about and cue",
    "start": "2006100",
    "end": "2011590"
  },
  {
    "text": "with people so what is your what is your commitment okay so so much about",
    "start": "2011590",
    "end": "2019179"
  },
  {
    "text": "services so service is something that is really a contract that you make with other people and it's something that's about organizations not about code this",
    "start": "2019179",
    "end": "2027159"
  },
  {
    "text": "is about code layers tiers and services a layer is how you organize code you",
    "start": "2027159",
    "end": "2037120"
  },
  {
    "start": "2034000",
    "end": "2092000"
  },
  {
    "text": "have a notion of the interface you have a notion of logic and you have a notion of resource access the reason why we",
    "start": "2037120",
    "end": "2045340"
  },
  {
    "text": "introduce layers back in you know there's very many of these layer patterns MVC is one but there's the",
    "start": "2045340",
    "end": "2052868"
  },
  {
    "text": "three-tier classic three-tier is one there's very many of these tiers of these patterns and those patterns are",
    "start": "2052869",
    "end": "2058270"
  },
  {
    "text": "always for trading resiliency between those different concerns so you can go",
    "start": "2058270",
    "end": "2063908"
  },
  {
    "text": "and change if you in MVC you can go and throw the view out without breaking everything everything else right in a",
    "start": "2063909",
    "end": "2071080"
  },
  {
    "text": "classic three-tier app you can add another interface you can add another way of communication without breaking",
    "start": "2071080",
    "end": "2077500"
  },
  {
    "text": "everything else you can replace the database now I'm joking you can't",
    "start": "2077500",
    "end": "2083770"
  },
  {
    "text": "replace the database many people tried everybody knows you can't if you change",
    "start": "2083770",
    "end": "2091570"
  },
  {
    "text": "the database you can screw it so the rationale coming and it's this is also",
    "start": "2091570",
    "end": "2097630"
  },
  {
    "start": "2092000",
    "end": "2137000"
  },
  {
    "text": "why I have that circle right from the outside is more flexible from the inside and when when you get to resource access",
    "start": "2097630",
    "end": "2103150"
  },
  {
    "text": "when you get to the database your your your super tightly coupled but out to the edge you can be laid you can be much",
    "start": "2103150",
    "end": "2110320"
  },
  {
    "text": "looser couple that's where you have more leverage than in the in the middle that's also a reason why you want to",
    "start": "2110320",
    "end": "2115750"
  },
  {
    "text": "keep those things autonomous you want to you if you need to have a major database change you want to constrain the impact",
    "start": "2115750",
    "end": "2123099"
  },
  {
    "text": "to that one service you don't want to go and redesign the world so that's good hygiene in your systems so communication",
    "start": "2123099",
    "end": "2131800"
  },
  {
    "text": "layers resource layers and then the stuff in the middle which is what we call logic awesome tears are about",
    "start": "2131800",
    "end": "2139330"
  },
  {
    "start": "2137000",
    "end": "2293000"
  },
  {
    "text": "runtime organization this is and this is where this is where",
    "start": "2139330",
    "end": "2145270"
  },
  {
    "text": "I might disagree with some other people who call microservices what micro-services are I just I have a clear",
    "start": "2145270",
    "end": "2152230"
  },
  {
    "text": "distinction between service operational assurances contracts teams and tiers",
    "start": "2152230",
    "end": "2161440"
  },
  {
    "text": "which are the things that actually get deployed for me a gateway is not a",
    "start": "2161440",
    "end": "2168160"
  },
  {
    "text": "service the game is part of a service but it's not a service per se an HTTP",
    "start": "2168160",
    "end": "2173260"
  },
  {
    "text": "API layer is not a service because it cannot it is not independent of the rest of the of the system of this of the",
    "start": "2173260",
    "end": "2180610"
  },
  {
    "text": "service that you deployed the service that you own for me that's a tier and you may able to go and independently",
    "start": "2180610",
    "end": "2187240"
  },
  {
    "text": "deploy tiers yes but if you have to go and do magic magic to go and make you",
    "start": "2187240",
    "end": "2192520"
  },
  {
    "text": "know to do a stamp deployment of your service you can't break anybody else but you can completely replace all the internals of",
    "start": "2192520",
    "end": "2197530"
  },
  {
    "text": "it so tears are about meeting your operational objectives and that means",
    "start": "2197530",
    "end": "2203710"
  },
  {
    "text": "that the Gateway tier may scale higher than the backend tier may all of your",
    "start": "2203710",
    "end": "2209770"
  },
  {
    "text": "different serves all of the different tiers that sit in the system that sit in your service may have different",
    "start": "2209770",
    "end": "2215350"
  },
  {
    "text": "objectives that they need to meet so I can tell you from our service from service bus we do a lot of MPP and HTTP",
    "start": "2215350",
    "end": "2225190"
  },
  {
    "text": "traffic and a lot of crypto on the gateway we do a lot of competitive heavy",
    "start": "2225190",
    "end": "2231250"
  },
  {
    "text": "compute work it might not seem that way but messaging is kind of hard a lot of compute work in the backend in",
    "start": "2231250",
    "end": "2238480"
  },
  {
    "text": "the messaging back-end those two tiers are completely different in terms of characteristics and we're also as a set",
    "start": "2238480",
    "end": "2244870"
  },
  {
    "text": "ring-fencing resources for customers the predictability of the system depends on the messaging tier but it doesn't spend",
    "start": "2244870",
    "end": "2251020"
  },
  {
    "text": "so much on the Gateway it's here the Gateway it's here has a completely different needs for memory and CPU and",
    "start": "2251020",
    "end": "2257290"
  },
  {
    "text": "networking then the messaging tier does so we pulled them apart we don't run them on a single set of machines we",
    "start": "2257290",
    "end": "2263440"
  },
  {
    "text": "actually run two clusters which are effectively bound to each other and make",
    "start": "2263440",
    "end": "2269890"
  },
  {
    "text": "up the service and then we have another tier obviously which is the storage tier underneath it we break those things up",
    "start": "2269890",
    "end": "2276220"
  },
  {
    "text": "in tears because we need to scale them differently and because they use the resources of the system differently and if we have",
    "start": "2276220",
    "end": "2282670"
  },
  {
    "text": "uniform usage of the resources on our machines we actually get higher reliability and and specifically in",
    "start": "2282670",
    "end": "2288819"
  },
  {
    "text": "messaging we sell reliability as a service so the way this materializes as",
    "start": "2288819",
    "end": "2294519"
  },
  {
    "start": "2293000",
    "end": "2305000"
  },
  {
    "text": "I just said is this gateway back-end storage different tiers one service so",
    "start": "2294519",
    "end": "2305680"
  },
  {
    "start": "2305000",
    "end": "2315000"
  },
  {
    "text": "layers are as about code management tiers of our run time management and services a really about ownership that's",
    "start": "2305680",
    "end": "2312759"
  },
  {
    "text": "that picture having a head now I promise you communication we have 10 minutes ago",
    "start": "2312759",
    "end": "2319739"
  },
  {
    "start": "2315000",
    "end": "2430000"
  },
  {
    "text": "let's try that communication messaging is all about how we move information",
    "start": "2319739",
    "end": "2326079"
  },
  {
    "text": "between systems and that's something that's really important for talking to",
    "start": "2326079",
    "end": "2331539"
  },
  {
    "text": "services because services are networked entities so let's talk about how",
    "start": "2331539",
    "end": "2336640"
  },
  {
    "text": "messaging materializes messaging is about getting data from A to B and back",
    "start": "2336640",
    "end": "2341769"
  },
  {
    "text": "sometimes not always sometimes there's a",
    "start": "2341769",
    "end": "2347079"
  },
  {
    "text": "lot of here so you have a lot of clients you have to deal with sometimes they show up all at the same time sometimes",
    "start": "2347079",
    "end": "2353920"
  },
  {
    "text": "they show up it trickles sometimes you have enormous amounts of data that you",
    "start": "2353920",
    "end": "2359589"
  },
  {
    "text": "need to go and deal with sometimes that allows them they're there you need to send one message you need to get that",
    "start": "2359589",
    "end": "2364660"
  },
  {
    "text": "message to a lot of people we have one service that's called notification hub so we also made which is specifically",
    "start": "2364660",
    "end": "2371170"
  },
  {
    "text": "built for the problem of let's say the Olympic Games or news organizations which want to go and send one news byte",
    "start": "2371170",
    "end": "2376509"
  },
  {
    "text": "but need to get it to 15 million phones within a few seconds sometimes the",
    "start": "2376509",
    "end": "2384519"
  },
  {
    "text": "destinations are all different so we actually need to go and differentiate sometimes the destination is not paying",
    "start": "2384519",
    "end": "2391029"
  },
  {
    "text": "attention or can't so you have to do something to go and you know have a little mailbox for it sometimes the",
    "start": "2391029",
    "end": "2397930"
  },
  {
    "text": "destination is super busy so it will throw you a 503 if you try to keep tickling it and sometimes it just it's",
    "start": "2397930",
    "end": "2405880"
  },
  {
    "text": "just dead and you don't know what so there's got to be answers to those",
    "start": "2405880",
    "end": "2411160"
  },
  {
    "text": "problems HTTP which we all use and is the de facto default for all the micro services",
    "start": "2411160",
    "end": "2417759"
  },
  {
    "text": "doesn't answer some of those questions so let's go a little bit further and",
    "start": "2417759",
    "end": "2424269"
  },
  {
    "text": "kind of think about what protocol requirements may be and what what things and what those what many terms mean",
    "start": "2424269",
    "end": "2430289"
  },
  {
    "start": "2430000",
    "end": "2488000"
  },
  {
    "text": "client and server what is client and what is server client and server ultimately only describes who",
    "start": "2430289",
    "end": "2437289"
  },
  {
    "text": "makes the initial connection you have a network someone is listening and someone's connecting that's client and",
    "start": "2437289",
    "end": "2443649"
  },
  {
    "text": "server turns out many and in HTTP that's coupled right the the whole notion of who can make a",
    "start": "2443649",
    "end": "2450309"
  },
  {
    "text": "request and who can go and ask someone else it's completely coupled to who makes the client reconnection which is",
    "start": "2450309",
    "end": "2456249"
  },
  {
    "text": "not true from any other protocols so let's stick with client and server as just the the party which is listening",
    "start": "2456249",
    "end": "2462549"
  },
  {
    "text": "networking the party which is connecting which is useful for many scenarios if we think about you know you have a client",
    "start": "2462549",
    "end": "2469329"
  },
  {
    "text": "that needs to connect out of an environment that is firewalled and anatta him everything but you still want",
    "start": "2469329",
    "end": "2474939"
  },
  {
    "text": "to get back to them from the server side right bit not it would be nice if that was possible and",
    "start": "2474939",
    "end": "2480579"
  },
  {
    "text": "disconnected from the fact who's connecting out and connecting and so client or server is just about the",
    "start": "2480579",
    "end": "2486039"
  },
  {
    "text": "network connectivity direction then there's directionality of that",
    "start": "2486039",
    "end": "2492039"
  },
  {
    "start": "2488000",
    "end": "2507000"
  },
  {
    "text": "connection is it simplex one-way only some protocols do that or is it duplex",
    "start": "2492039",
    "end": "2498359"
  },
  {
    "text": "allowing flow of data in either direction initiated by either direction",
    "start": "2498359",
    "end": "2504299"
  },
  {
    "text": "that's a separate concern then there's symmetry AMQP which we'll learn about in",
    "start": "2504299",
    "end": "2511629"
  },
  {
    "start": "2507000",
    "end": "2546000"
  },
  {
    "text": "a second is a symmetric protocol any content of the two connected parties can do anything it likes that's defined in",
    "start": "2511629",
    "end": "2518289"
  },
  {
    "text": "the protocol at all times except connected once it's connection established it's fully symmetric HTTP is",
    "start": "2518289",
    "end": "2525429"
  },
  {
    "text": "not symmetric because only their connecting party can issue requests that",
    "start": "2525429",
    "end": "2531819"
  },
  {
    "text": "has been has been relaxed a bit in HTTP - but it's not those are not symmetric",
    "start": "2531819",
    "end": "2537159"
  },
  {
    "text": "protocols 8mn qtt friends another messaging protocol is also not symmetric because there's specific things that",
    "start": "2537159",
    "end": "2543699"
  },
  {
    "text": "only the client can do multiplexing it'd be nice sometimes to",
    "start": "2543699",
    "end": "2549790"
  },
  {
    "start": "2546000",
    "end": "2576000"
  },
  {
    "text": "be able to go and use that same socket for two requests at the same time HDPE",
    "start": "2549790",
    "end": "2556270"
  },
  {
    "text": "can't hb2 can because it added multiplexing because there's there was",
    "start": "2556270",
    "end": "2562900"
  },
  {
    "text": "realization that it may would be nice to take that expensive HTTP s ssl/tls",
    "start": "2562900",
    "end": "2568960"
  },
  {
    "text": "socket that has been established and reused it instead of making many many more for small payloads framing what",
    "start": "2568960",
    "end": "2580150"
  },
  {
    "start": "2576000",
    "end": "2633000"
  },
  {
    "text": "those protocols do is they frame the data for us and then we take data and we encode it on top of that jason avro",
    "start": "2580150",
    "end": "2588760"
  },
  {
    "text": "message pack xml MPP has its own encoding CSV MPEG text raw there is good",
    "start": "2588760",
    "end": "2595840"
  },
  {
    "text": "choices for all of for all kinds of workloads Avro is an awesome awesome",
    "start": "2595840",
    "end": "2600940"
  },
  {
    "text": "awesome format to encode time series data it's binary it there's extra",
    "start": "2600940",
    "end": "2606850"
  },
  {
    "text": "compression it carries the schema with it it's astonishingly much but and has",
    "start": "2606850",
    "end": "2611860"
  },
  {
    "text": "better type system than Jason right the world is not Jason the rut the reason why HTTP has a content type and why mqp",
    "start": "2611860",
    "end": "2620230"
  },
  {
    "text": "has a content type is that you can go and get to choose what you're going to go and transfer you just need to be",
    "start": "2620230",
    "end": "2625330"
  },
  {
    "text": "upfront about what you support and then",
    "start": "2625330",
    "end": "2634900"
  },
  {
    "start": "2633000",
    "end": "2659000"
  },
  {
    "text": "there's metadata you want to tell people about you want to tell the other party about what that message contains HTTP",
    "start": "2634900",
    "end": "2642070"
  },
  {
    "text": "has had three definable headers in QPS Frieda definable headers and utt intercellular insistently enough has not",
    "start": "2642070",
    "end": "2648570"
  },
  {
    "text": "so you have to go and mangle all that information into the topic path which kind of makes a little weird or you need",
    "start": "2648570",
    "end": "2654970"
  },
  {
    "text": "to have out-of-band agreements across those so so in this context of the",
    "start": "2654970",
    "end": "2661960"
  },
  {
    "start": "2659000",
    "end": "2729000"
  },
  {
    "text": "communication context and service is a reusable artifact that can access the access through channels well defined by",
    "start": "2661960",
    "end": "2667090"
  },
  {
    "text": "some interface context so that's communications focusing just on that edge and it's focusing on that contract",
    "start": "2667090",
    "end": "2673390"
  },
  {
    "text": "and that you can it that you adhere to a particular contract interestingly enough",
    "start": "2673390",
    "end": "2678400"
  },
  {
    "text": "not no single communication mechanism fits all uses so trying to fit everything",
    "start": "2678400",
    "end": "2685510"
  },
  {
    "text": "into rest threat trying to fit everything into HTTP is actually not helping but it's counterproductive for",
    "start": "2685510",
    "end": "2693220"
  },
  {
    "text": "many paths and trying to make everything in JSON is also counterproductive we have the flexibility in that in the",
    "start": "2693220",
    "end": "2699190"
  },
  {
    "text": "stacks to actually go and use different formats for different purposes you have an entirety that is the contract the",
    "start": "2699190",
    "end": "2705190"
  },
  {
    "text": "service has has a composite surface area that is the contract you need to learn here too but that may be composed of",
    "start": "2705190",
    "end": "2711400"
  },
  {
    "text": "multiple channels and it may be composed of multiple ways of how you go any code",
    "start": "2711400",
    "end": "2716589"
  },
  {
    "text": "data so I'm going to be absolute five",
    "start": "2716589",
    "end": "2722589"
  },
  {
    "text": "minutes location transparency well what did I just kill okay that's fine",
    "start": "2722589",
    "end": "2730200"
  },
  {
    "start": "2729000",
    "end": "2831000"
  },
  {
    "text": "location transparency means that you don't that's actually a very easy one you don't give people the direct address",
    "start": "2730200",
    "end": "2737470"
  },
  {
    "text": "to your service you hide behind at least one level of indirection if you give",
    "start": "2737470",
    "end": "2745540"
  },
  {
    "text": "someone you give someone a DNS name that then maps to where your service actually",
    "start": "2745540",
    "end": "2750790"
  },
  {
    "text": "sits because otherwise you can't move the service there are situations that we've had in our in our world where we",
    "start": "2750790",
    "end": "2757839"
  },
  {
    "text": "had to literally replace cut clusters in by taking the customer data and copying",
    "start": "2757839",
    "end": "2763420"
  },
  {
    "text": "it into the new cluster because our schema changes were radical and we had to go we basically implementation of",
    "start": "2763420",
    "end": "2769030"
  },
  {
    "text": "pieces so we kind of did a copy into the new cluster continuous copy into the new cluster kind of kept the system",
    "start": "2769030",
    "end": "2774369"
  },
  {
    "text": "consistent and that did a forced DNS switchover of everybody so we did we",
    "start": "2774369",
    "end": "2780700"
  },
  {
    "text": "flipped up we we dialed the DNS record to zero the TTL effectively in a",
    "start": "2780700",
    "end": "2786280"
  },
  {
    "text": "stepwise way took the old cluster down base you cut everybody's connection",
    "start": "2786280",
    "end": "2791410"
  },
  {
    "text": "everybody picked up everybody failed picked up the new DNS records that actually works because many sects are",
    "start": "2791410",
    "end": "2798010"
  },
  {
    "text": "good about TTL and then I had everybody over on the new stack so and the only",
    "start": "2798010",
    "end": "2805450"
  },
  {
    "text": "way I can do this is have an additional abstraction using DNS for location transparency",
    "start": "2805450",
    "end": "2812338"
  },
  {
    "text": "you'll know all this you know all this",
    "start": "2813849",
    "end": "2818980"
  },
  {
    "text": "yeah so so I mean it's obvious that TCP",
    "start": "2820299",
    "end": "2826160"
  },
  {
    "text": "is a stream and village I should have cut those slides I just realize okay so",
    "start": "2826160",
    "end": "2831890"
  },
  {
    "start": "2831000",
    "end": "2881000"
  },
  {
    "text": "every service can be reached at least through one channel but it can have multiple channels and the the the edge",
    "start": "2831890",
    "end": "2841220"
  },
  {
    "text": "is effectively the services user interface if you will right so it you",
    "start": "2841220",
    "end": "2846650"
  },
  {
    "text": "can have you can have multiple multiple interfaces to your service and that's all just fine so in the interest of time",
    "start": "2846650",
    "end": "2853730"
  },
  {
    "text": "let's get to the protocols to start to talk about them effectively as we are",
    "start": "2853730",
    "end": "2860480"
  },
  {
    "text": "now informed about them what is HT p11 HP is only allows the request response",
    "start": "2860480",
    "end": "2865910"
  },
  {
    "text": "pattern it's not symmetric doesn't allow multiplexing allows variable encoding so",
    "start": "2865910",
    "end": "2872000"
  },
  {
    "text": "that's great and allows metadata doesn't give you any assurances whether and when the message",
    "start": "2872000",
    "end": "2878059"
  },
  {
    "text": "gets somewhere WebSockets is not a protocol well it's a",
    "start": "2878059",
    "end": "2885200"
  },
  {
    "start": "2881000",
    "end": "3036000"
  },
  {
    "text": "protocol but it's tunnel mostly if you're creating if you say I use WebSockets then the question is what are",
    "start": "2885200",
    "end": "2891410"
  },
  {
    "text": "you going to put on top of the WebSockets musicals WebSockets is a framing protocol and that's all it does",
    "start": "2891410",
    "end": "2896569"
  },
  {
    "text": "so anything you do over WebSockets if you're not using anything that's a protocol that's overlaid over WebSockets then you're using something that's",
    "start": "2896569",
    "end": "2903140"
  },
  {
    "text": "proprietary because it's just a tunnel it's a trick to get to a 443 but it's",
    "start": "2903140",
    "end": "2908690"
  },
  {
    "text": "not a protocol in itself it just gives you a raw socket so if you do anything just over WebSockets you just created",
    "start": "2908690",
    "end": "2915049"
  },
  {
    "text": "your own proprietary little protocol HT to is a CP as we know it plus",
    "start": "2915049",
    "end": "2921259"
  },
  {
    "text": "multiplexing plus binary header compression it's no longer a very simple protocol SHP when one was and if HP two",
    "start": "2921259",
    "end": "2930140"
  },
  {
    "text": "had come first the adoption of that would be have it very little but now this thing has a lot of adoption lot of",
    "start": "2930140",
    "end": "2936230"
  },
  {
    "text": "big companies behind it and the browser vendors and the web server vendors all you know can collude and can go make",
    "start": "2936230",
    "end": "2943700"
  },
  {
    "text": "something that's complicated but it's effectively what we and it has a special new feature that is",
    "start": "2943700",
    "end": "2949970"
  },
  {
    "text": "a one-way communication channel that allows the server to go and send data back coop is a protocol you'll hear more",
    "start": "2949970",
    "end": "2957830"
  },
  {
    "text": "about in the context of IOT the Internet of Things that is very much like HTTP",
    "start": "2957830",
    "end": "2964250"
  },
  {
    "text": "interestingly it's a symmetric so any site can go in initiate request and it's",
    "start": "2964250",
    "end": "2969830"
  },
  {
    "text": "super super super tiny and it's being used today to go and manage all your all",
    "start": "2969830",
    "end": "2974930"
  },
  {
    "text": "of your mobile phones that's how your mobile phones communicate at least in your deployments the lwm 10 protocol",
    "start": "2974930",
    "end": "2983780"
  },
  {
    "text": "which is used for device management you'll hear more about this if you're involved in mobile or if you are",
    "start": "2983780",
    "end": "2990590"
  },
  {
    "text": "involved in in IOT and then there's MQTT a publishing subscribe protocol one of",
    "start": "2990590",
    "end": "2997340"
  },
  {
    "text": "the messaging protocols which is great for communicating telemetry great for communicating little bits of little bits",
    "start": "2997340",
    "end": "3004330"
  },
  {
    "text": "of data and then there's the MPP protocol which is a messaging protocol",
    "start": "3004330",
    "end": "3010680"
  },
  {
    "text": "which kind of sits on sits a little bit up above MQTT in terms of capability it",
    "start": "3010680",
    "end": "3017320"
  },
  {
    "text": "supports multiplexing that MQTT doesn't it's fully symmetric that MQTT MQTT is",
    "start": "3017320",
    "end": "3022690"
  },
  {
    "text": "not but those two protocols AMQP and MQTT are the two candidates if you don't",
    "start": "3022690",
    "end": "3028960"
  },
  {
    "text": "use HTTP and two candidates for asynchronous messaging with a broker in",
    "start": "3028960",
    "end": "3035620"
  },
  {
    "text": "the middle you can do all kinds of interesting additional things and I'm already in over time I'm going to take three more minutes load leveling means",
    "start": "3035620",
    "end": "3044410"
  },
  {
    "start": "3036000",
    "end": "3070000"
  },
  {
    "text": "the service hangs there's a bunch of web servers here which take traffic you have a queue there's a lot of traffic that's",
    "start": "3044410",
    "end": "3051760"
  },
  {
    "text": "coming in and all of that lands in the queue the nice thing is if you have a service that sits behind those and it",
    "start": "3051760",
    "end": "3057100"
  },
  {
    "text": "now pulls from a queue that stress that comes up on the web doesn't come down into your service because you do a push",
    "start": "3057100",
    "end": "3064180"
  },
  {
    "text": "to pull translation through the queue it gives you load leveling you also get",
    "start": "3064180",
    "end": "3070480"
  },
  {
    "start": "3070000",
    "end": "3119000"
  },
  {
    "text": "true a little balancing all of the load balancers are HTP load balancers are actually lying to you right that's a lie",
    "start": "3070480",
    "end": "3076270"
  },
  {
    "text": "it's lying term because it doesn't consider load at all just spray all mechanisms that allow that try to do",
    "start": "3076270",
    "end": "3083920"
  },
  {
    "text": "load balancing by measuring the load on a machine and then try to push are doomed to failure the only way that",
    "start": "3083920",
    "end": "3090490"
  },
  {
    "text": "really works is to pull the data to pull jobs off a queue when your thread has",
    "start": "3090490",
    "end": "3096850"
  },
  {
    "text": "capacity so that's something that only is only self determined so that's load balancing that you also get through Q so",
    "start": "3096850",
    "end": "3103090"
  },
  {
    "text": "the Q insulates you from spikes and the Q also gives you a little true load",
    "start": "3103090",
    "end": "3109119"
  },
  {
    "text": "balancing so that's an advantage of sitting behind the queue and then of course you can go and take one messaging go and distribute to multiple parties",
    "start": "3109119",
    "end": "3116040"
  },
  {
    "text": "that is true for all those message brokers so messaging infrastructure that",
    "start": "3116040",
    "end": "3121660"
  },
  {
    "start": "3119000",
    "end": "3181000"
  },
  {
    "text": "we that you'll find that will help you with your micro-services infrastructure that will help you with meeting a lot of",
    "start": "3121660",
    "end": "3128020"
  },
  {
    "text": "those operational objectives this enterprise message brokers after service",
    "start": "3128020",
    "end": "3133090"
  },
  {
    "text": "bus thing we build IBM MQ activemq RabbitMQ they have publish/subscribe",
    "start": "3133090",
    "end": "3140110"
  },
  {
    "text": "super to robust and durable and typically allow multi node clustering",
    "start": "3140110",
    "end": "3145330"
  },
  {
    "text": "then there's lighter weight message brokers like our a virtues or sqs that you find on Amazon more constrained in",
    "start": "3145330",
    "end": "3151540"
  },
  {
    "text": "terms of features or most kiddo the MD broker mo constraint features in a certain way but kind of focus on a",
    "start": "3151540",
    "end": "3158020"
  },
  {
    "text": "particular task and then we have these invent event and gestures like kinases like Kafka like what we have an event",
    "start": "3158020",
    "end": "3165190"
  },
  {
    "text": "ups which are basically just meant to take huge amounts of data from millions of sources and capture the name",
    "start": "3165190",
    "end": "3172330"
  },
  {
    "text": "assistant so that they can go and be published all of those fulfill effectively the same role I'm going to",
    "start": "3172330",
    "end": "3179020"
  },
  {
    "text": "go get get to the summary because of time fulfill the same role and that is being your gateway augmenting your",
    "start": "3179020",
    "end": "3187900"
  },
  {
    "start": "3181000",
    "end": "3282000"
  },
  {
    "text": "gateway for your service so they sit up here there are message brokers they're not",
    "start": "3187900",
    "end": "3193510"
  },
  {
    "text": "clever they're not the ESB they're there you can go and set up a queue over here you can set up a queue over there you",
    "start": "3193510",
    "end": "3199930"
  },
  {
    "text": "can set up a queue over there all of those you can treat as one because they have no intelligence they don't touch",
    "start": "3199930",
    "end": "3205119"
  },
  {
    "text": "the the payload right they're just dumb pipes and that's good that way but they",
    "start": "3205119",
    "end": "3210400"
  },
  {
    "text": "take the traffic for you so that you can go pull it into our service and and and handle it that",
    "start": "3210400",
    "end": "3216460"
  },
  {
    "text": "you can fulfill your operational objectives that you don't get punished by the stress that comes in from the",
    "start": "3216460",
    "end": "3221740"
  },
  {
    "text": "outside world and that and that you can go and make sure that a message has been",
    "start": "3221740",
    "end": "3227680"
  },
  {
    "text": "captured reliably that you never lose that message you have never any Delta TM with HTTP HTTP is always great and all",
    "start": "3227680",
    "end": "3236260"
  },
  {
    "text": "these synchronous protocols are always great if you need to have an ad hoc response to something if you need to know often it's enough to know that the",
    "start": "3236260",
    "end": "3243610"
  },
  {
    "text": "message has been submitted at the message will later be published and that's something we see more and more",
    "start": "3243610",
    "end": "3248620"
  },
  {
    "text": "and more so when you think about micro services think about autonomy driving",
    "start": "3248620",
    "end": "3255580"
  },
  {
    "text": "principle second think about all the different options you have in terms of protocols and encodings because they are",
    "start": "3255580",
    "end": "3262240"
  },
  {
    "text": "all part of your arsenal don't let yourself to be constrained to just HTTP and JSON and that's what I have thank",
    "start": "3262240",
    "end": "3269020"
  },
  {
    "text": "you [Applause]",
    "start": "3269020",
    "end": "3277750"
  }
]