[
  {
    "text": "[Music]",
    "start": "2540",
    "end": "11619"
  },
  {
    "text": "microphone all right cool so yeah uh as Leslie said uh we are here to talk about",
    "start": "15920",
    "end": "22519"
  },
  {
    "text": "Cabana specifically uh I want to give you a little bit of history of how Cabana got to be where it is uh where it",
    "start": "22519",
    "end": "29720"
  },
  {
    "text": "is now and kind of where we're going with it uh just real quick just so I",
    "start": "29720",
    "end": "34800"
  },
  {
    "text": "know how many people uh have used kabana in the room before okay how many people were at the elastic search Meetup the",
    "start": "34800",
    "end": "41360"
  },
  {
    "text": "other night you can probably leave if you want because it's like exactly the same so I",
    "start": "41360",
    "end": "49120"
  },
  {
    "text": "did you know I don't want to bore you here uh okay so no biggie okay great so",
    "start": "49120",
    "end": "56000"
  },
  {
    "text": "uh so about half the room has used Cabana already which which is great great uh but for those that haven't uh",
    "start": "56000",
    "end": "62280"
  },
  {
    "text": "let me give you an idea of what it is and how it got here uh Cabana is a",
    "start": "62280",
    "end": "68479"
  },
  {
    "text": "application for digging into Data uh it used to be specifically for time series data but now we just kind of deal with",
    "start": "68479",
    "end": "75200"
  },
  {
    "text": "anything uh it was created because I was working at a chain of newspapers in the",
    "start": "75200",
    "end": "80799"
  },
  {
    "text": "US and it was this company that owned a whole bunch of newspapers I know we all like to think of our little Hometown",
    "start": "80799",
    "end": "86159"
  },
  {
    "text": "newspaper as having a bunch of people in a little room digging up dirt on whatnot that was not this company they had",
    "start": "86159",
    "end": "91680"
  },
  {
    "text": "dozens of newspapers across the us as you can imagine uh there are two things in the newspaper industry right",
    "start": "91680",
    "end": "97799"
  },
  {
    "text": "now A nobody reads newspapers uh and B when you do read them you read them on",
    "start": "97799",
    "end": "103520"
  },
  {
    "text": "the Internet uh and so this company generated an enormous amount of web",
    "start": "103520",
    "end": "108640"
  },
  {
    "text": "traffic uh much more than you would think uh the these things tended to come from you know kind of referral sources",
    "start": "108640",
    "end": "114799"
  },
  {
    "text": "and we didn't tend to get a lot of direct traffic but nonetheless we got a ton of traffic",
    "start": "114799",
    "end": "120520"
  },
  {
    "text": "uh and it was very very spiky traffic right like nobody goes and reads every single news story every single day just",
    "start": "120520",
    "end": "127000"
  },
  {
    "text": "because they want to know everything about what the reporters think they read something because it's interesting they read it because their friends said",
    "start": "127000",
    "end": "133000"
  },
  {
    "text": "something about it and they ended up there and they all ended up there at once and so we were constantly having to",
    "start": "133000",
    "end": "139519"
  },
  {
    "text": "deal with this and you're probably like oh well your your infrastructure for dealing with is probably great it wasn't",
    "start": "139519",
    "end": "145040"
  },
  {
    "text": "great it constantly had problems and we had no idea what they were because this",
    "start": "145040",
    "end": "150120"
  },
  {
    "text": "was years and years ago when there really wasn't anything great especially in the open source space for figuring",
    "start": "150120",
    "end": "156599"
  },
  {
    "text": "out what was going on in logs right so we had these like collections of shell scripts and then they were on a Wiki and",
    "start": "156599",
    "end": "163560"
  },
  {
    "text": "only the jerk me that wrote them knew how they worked uh nobody else ever used them and half the reason they never used",
    "start": "163560",
    "end": "169480"
  },
  {
    "text": "them is because by the time they went to get to them we had changed the log format it was out of date anyway and they didn't work anymore so I was",
    "start": "169480",
    "end": "175239"
  },
  {
    "text": "constantly having to write new ones and I got tired of writing them so I wrote Cabana so that I could stop writing",
    "start": "175239",
    "end": "180800"
  },
  {
    "text": "shell scripts so that's where kabani came from uh real quick people who used",
    "start": "180800",
    "end": "188080"
  },
  {
    "text": "uh Cabana used uh have used version four the current version real quick a few",
    "start": "188080",
    "end": "194000"
  },
  {
    "text": "used version three two okay sweet and one I'm not even",
    "start": "194000",
    "end": "199879"
  },
  {
    "text": "going to ask because I know nobody used it although there was somebody at the Meetup the other night that had which was very impressive okay so most of the",
    "start": "199879",
    "end": "207400"
  },
  {
    "text": "folks in the room have used three so so when we went to build four we wanted to take the best features of three and make",
    "start": "207400",
    "end": "214799"
  },
  {
    "text": "everything a little bit better and so we looked through three and we needed to",
    "start": "214799",
    "end": "220120"
  },
  {
    "text": "identify okay what's good what could be better and what could be a lot better so",
    "start": "220120",
    "end": "225879"
  },
  {
    "text": "we studied okay how are people using Cabana these days now the first way they",
    "start": "225879",
    "end": "231200"
  },
  {
    "text": "would use it was of course for Discovery they were searching through logs or some other kind of data right data Discovery",
    "start": "231200",
    "end": "237840"
  },
  {
    "text": "was what it was all about and like okay we need to make that better uh we need to make the whole thing perform better",
    "start": "237840",
    "end": "245319"
  },
  {
    "text": "if we want better data Discovery the first step in that is just getting the answers quicker so we can make the",
    "start": "245319",
    "end": "252360"
  },
  {
    "text": "interface better yes and we can make the whole thing just playing faster right",
    "start": "252360",
    "end": "257959"
  },
  {
    "text": "make the easy things easier once they're easier make them faster which was really important the other thing that we saw",
    "start": "257959",
    "end": "265040"
  },
  {
    "text": "when we when kabana 3 had been out for a little bit and this was something that we hadn't necess necessarily",
    "start": "265040",
    "end": "271560"
  },
  {
    "text": "anticipated was that people weren't just using Cabana they were building new",
    "start": "271560",
    "end": "277240"
  },
  {
    "text": "things with cabana which was just incredibly cool to us uh when I first",
    "start": "277240",
    "end": "282280"
  },
  {
    "text": "built Cabana 3 I was like okay well I need a a kind of dashboarding platform I want to be able to make some some",
    "start": "282280",
    "end": "288800"
  },
  {
    "text": "visualizations and have some charts of stuff uh it turns out people saw a lot of Promise in this uh and because we're",
    "start": "288800",
    "end": "294759"
  },
  {
    "text": "open source they started to dig into the code and they said well if he can do it I can do it and and they were completely",
    "start": "294759",
    "end": "300680"
  },
  {
    "text": "right and often they could do it better for that matter uh so they started building new applications on top of",
    "start": "300680",
    "end": "307000"
  },
  {
    "text": "Cabana they started adding new visualizations they started even adding a new new ways of doing queries we're",
    "start": "307000",
    "end": "313600"
  },
  {
    "text": "like okay so what we get out of this is that folks really want flexibility in",
    "start": "313600",
    "end": "319440"
  },
  {
    "text": "Cabana so when we go to build Cabana 4 let's build it in a way that lets them",
    "start": "319440",
    "end": "324520"
  },
  {
    "text": "have that flexibility without just having to hack at it so those were kind of the the but the",
    "start": "324520",
    "end": "330840"
  },
  {
    "text": "biggest difference we wanted to make was in Discovery uh Cabana 3 was built with",
    "start": "330840",
    "end": "338600"
  },
  {
    "text": "what elastic search had at the time and what elastic search had at the",
    "start": "338600",
    "end": "344199"
  },
  {
    "text": "time was facets uh has everybody here is everybody here pretty familiar with elastic search facets lot of heads",
    "start": "344199",
    "end": "351160"
  },
  {
    "text": "nodding I don't see any shaking okay anyway so facets uh facets are basically",
    "start": "351160",
    "end": "357880"
  },
  {
    "text": "a way of aggregating data for those that aren't aren't familiar right so find me the top five of something or get me the",
    "start": "357880",
    "end": "364759"
  },
  {
    "text": "average of some field and in particular that first thing that was the terms facet and then there was this other",
    "start": "364759",
    "end": "370639"
  },
  {
    "text": "thing called the stats facet and if you remember in Cabana 3 these things were pretty easy to do there was a a panel",
    "start": "370639",
    "end": "377720"
  },
  {
    "text": "that could deal with terms and put them on a bar chart or something and then there was a panel that could deal with",
    "start": "377720",
    "end": "383720"
  },
  {
    "text": "stats and it would show you the min max and average and whatnot of things and that was because it kind of mapped",
    "start": "383720",
    "end": "389199"
  },
  {
    "text": "directly back to these elastic search Concepts the problem was is that facets",
    "start": "389199",
    "end": "394840"
  },
  {
    "text": "weren't very flexible uh so remember I said we had that terms facet and that",
    "start": "394840",
    "end": "400160"
  },
  {
    "text": "statistics facet well somebody once decided that okay well I found the top",
    "start": "400160",
    "end": "405400"
  },
  {
    "text": "five requests to my site it would be super helpful if I knew what the average",
    "start": "405400",
    "end": "410479"
  },
  {
    "text": "time to load each one of those was and somebody said we can't really do that in elastic search right now you can get one",
    "start": "410479",
    "end": "417360"
  },
  {
    "text": "answer or you can have the other answer pick one and somebody said well look I need",
    "start": "417360",
    "end": "422840"
  },
  {
    "text": "to do this a lot and I can't do it with round trips a lot so what ended up happening was somebody copied and pasted a bunch of code out of the terms facet",
    "start": "422840",
    "end": "429199"
  },
  {
    "text": "and then a whole bunch out of the stats facet and they created this thing called the terms uncore stats",
    "start": "429199",
    "end": "435400"
  },
  {
    "text": "facet super I can see how that'll answer every question um so when when we went",
    "start": "435400",
    "end": "441000"
  },
  {
    "text": "to build elastic search 1.0 we said okay that that facet thing it's not really",
    "start": "441000",
    "end": "446800"
  },
  {
    "text": "working out and so the elastic search team built something called called aggregations and aggregations are basically do the exact same things as",
    "start": "446800",
    "end": "453400"
  },
  {
    "text": "facets but in a very composable way which of course got me really excited",
    "start": "453400",
    "end": "458560"
  },
  {
    "text": "about doing composable visualizations in Cabana so when we started to look at how",
    "start": "458560",
    "end": "465639"
  },
  {
    "text": "we could improve the concept of Discovery we took that kind of level of composability and those steps to solving",
    "start": "465639",
    "end": "472000"
  },
  {
    "text": "a problem when somebody says I need the top five or even heck I just need this one thing and we said how can we break that down into steps that make sense for",
    "start": "472000",
    "end": "479039"
  },
  {
    "text": "solving a problem so step one of solving a problem is often very very",
    "start": "479039",
    "end": "484360"
  },
  {
    "text": "onedimensional uh you have a pretty good idea of maybe what you're looking for",
    "start": "484360",
    "end": "489759"
  },
  {
    "text": "maybe you think you know what you're looking for specifically you're just looking for one thing right you know",
    "start": "489759",
    "end": "495960"
  },
  {
    "text": "okay I need to go to my logs and I need to find that failed SSH login and so you",
    "start": "495960",
    "end": "501280"
  },
  {
    "text": "go there and you find it and sometimes that's all you need but maybe you end up",
    "start": "501280",
    "end": "507319"
  },
  {
    "text": "with a bunch of them maybe you end up with four of them maybe you end up with five of them maybe you end up with four or 500,000 of them when you've only got",
    "start": "507319",
    "end": "514159"
  },
  {
    "text": "one of them or you've only got four or five of them it's not really that big of a deal right like so if I jump over to",
    "start": "514159",
    "end": "522120"
  },
  {
    "text": "the Discover tab of Cabana and I'm going to jump into my users index here and get",
    "start": "522120",
    "end": "528160"
  },
  {
    "text": "rid of a couple useless fields that aren't actually in there uh so I end up with something like this right and this",
    "start": "528160",
    "end": "534880"
  },
  {
    "text": "is a really kind of familiar view it's basically just a list of things that are in my uh users index and it's really",
    "start": "534880",
    "end": "541680"
  },
  {
    "text": "easy to find stuff in there obviously I've just got a little search thing up here and I'm going to search for the JPL",
    "start": "541680",
    "end": "546839"
  },
  {
    "text": "news user and sure I can find that user and this is a very kind of",
    "start": "546839",
    "end": "552000"
  },
  {
    "text": "one-dimensional way of finding things uh there it is there's the document I was looking for and even if I want to find",
    "start": "552000",
    "end": "559480"
  },
  {
    "text": "what that user was was doing that's still pretty easy right if I've got a log of everything this user does that's",
    "start": "559480",
    "end": "566480"
  },
  {
    "text": "still really easy to find so if I were to like jump over into my USA gov index",
    "start": "566480",
    "end": "572959"
  },
  {
    "text": "uh by the way the the data set I'm dealing with uh is the bit.ly uh US",
    "start": "572959",
    "end": "578200"
  },
  {
    "text": "government clickstream uh every time somebody generates a link to a US Government website uh bit.ly publishes",
    "start": "578200",
    "end": "585800"
  },
  {
    "text": "that to a websocket that you can connect to and and log if you want to uh I was",
    "start": "585800",
    "end": "591760"
  },
  {
    "text": "lucky enough that somebody else had already done this and made a nice big Archive of them for me uh because it's a",
    "start": "591760",
    "end": "596880"
  },
  {
    "text": "ready source of very real logging dat dat anyway so I can now see everything",
    "start": "596880",
    "end": "602680"
  },
  {
    "text": "that the JPL news user is doing everything every last unreadable thing",
    "start": "602680",
    "end": "610360"
  },
  {
    "text": "right I basically have no idea what this user is doing sure I can see a few things in there uh sort of oh they did",
    "start": "610360",
    "end": "618880"
  },
  {
    "text": "something at May 12th and they were using the zenu link",
    "start": "618880",
    "end": "624200"
  },
  {
    "text": "sleuth user agent this is super hard to read read I mean even if I did something",
    "start": "624200",
    "end": "632399"
  },
  {
    "text": "like uh add time to it and checked where they were going this is still really",
    "start": "632399",
    "end": "639360"
  },
  {
    "text": "hard to read even if I sort this by time right it's still hard to read this",
    "start": "639360",
    "end": "647760"
  },
  {
    "text": "is basically just logs I'm not really doing anything appreciably better than grep uh at this point uh it's just I can",
    "start": "647760",
    "end": "657320"
  },
  {
    "text": "see that oh the last time they were active is maybe June 30th or something so this can be useful for",
    "start": "657320",
    "end": "663560"
  },
  {
    "text": "limited cases right when I'm just doing search and I really know what I'm looking for already and I don't need to",
    "start": "663560",
    "end": "668680"
  },
  {
    "text": "see patterns in anything I don't know about you but I'm not super good at just looking down a list of things and",
    "start": "668680",
    "end": "673959"
  },
  {
    "text": "finding patterns in it uh so we really need a another dimension to look at essentially here right I don't just want",
    "start": "673959",
    "end": "680720"
  },
  {
    "text": "to see this like scattershot of stuff right I want to see some additional",
    "start": "680720",
    "end": "686160"
  },
  {
    "text": "Dimension to it I want to see things over time I want to see the EB and flow",
    "start": "686160",
    "end": "691880"
  },
  {
    "text": "of my data what that user was doing or what other users were doing uh or maybe",
    "start": "691880",
    "end": "698200"
  },
  {
    "text": "I don't even know what user I'm looking for right I knew I happen to be looking for the JPL news user there because I",
    "start": "698200",
    "end": "705279"
  },
  {
    "text": "honestly don't know I just kind of picked one um what if I didn't know what the most active user on my site was uh",
    "start": "705279",
    "end": "713639"
  },
  {
    "text": "is it the JPL news user by the way I I don't actually know it would be awfully helpful if I had a chart or something to",
    "start": "713639",
    "end": "721120"
  },
  {
    "text": "to help me figure that out if I could find the top users uh so of course gan's",
    "start": "721120",
    "end": "726800"
  },
  {
    "text": "good at doing both of these things and Comm 3 was good at doing both of these things too in kamana 4 we said hey look",
    "start": "726800",
    "end": "735240"
  },
  {
    "text": "that needing to see that Ean flow of things that's common enough that it's worth just throwing a chart at the top",
    "start": "735240",
    "end": "741760"
  },
  {
    "text": "of the screen every time somebody is dealing with time data you're dealing with time data you want to know when it",
    "start": "741760",
    "end": "747240"
  },
  {
    "text": "happened and you want to know how much of it happened uh just put it at the top there and so we did and we also added a",
    "start": "747240",
    "end": "753160"
  },
  {
    "text": "Time column by default if you happen to be dealing with it so I'll drop that other timestamp column I had added earlier and so there we go we can see a",
    "start": "753160",
    "end": "760199"
  },
  {
    "text": "big spike in the JPL news user but of course at this point we could go and look at a whole bunch of other data too",
    "start": "760199",
    "end": "766880"
  },
  {
    "text": "because we have a chart that helps us figure out when things went on that said what about if I wanted to",
    "start": "766880",
    "end": "773480"
  },
  {
    "text": "solve the other problem what if I wanted to see what are my most popular users right I could sit here and I could type",
    "start": "773480",
    "end": "780040"
  },
  {
    "text": "in every possible user and sit down and record you know which one it was but that would be a big waste of time so",
    "start": "780040",
    "end": "786680"
  },
  {
    "text": "instead I'm going to drop into this little field list over here and I'm just going to quickly visualize my popular",
    "start": "786680",
    "end": "794079"
  },
  {
    "text": "users okay so there are my popular users oh and it turns out that the JPL news",
    "start": "794079",
    "end": "799240"
  },
  {
    "text": "user actually is one of my like what's that top five users but there's a slight issue with",
    "start": "799240",
    "end": "808040"
  },
  {
    "text": "where we ended up here um when we were back on that other screen we could understand the EB and flow over time of",
    "start": "808040",
    "end": "815279"
  },
  {
    "text": "our data when we're on this chart I can understand in that entire time span",
    "start": "815279",
    "end": "821680"
  },
  {
    "text": "which which happens to be the last two years at the moment um I can understand who my top users were in the last two",
    "start": "821680",
    "end": "828920"
  },
  {
    "text": "years but now I don't know when it happened I don't know when they were active um which kind of a problem to me",
    "start": "828920",
    "end": "835279"
  },
  {
    "text": "I want to be able to understand why the JPL news user is is popular how did they",
    "start": "835279",
    "end": "840600"
  },
  {
    "text": "get there um you know what what kind of things do they post and so I need a way of melding this",
    "start": "840600",
    "end": "847639"
  },
  {
    "text": "chart with that other one and if we think about this as Dimensions we can think about the idea that we have",
    "start": "847639",
    "end": "853839"
  },
  {
    "text": "essentially two Dimensions here right we have how many things the user did and",
    "start": "853839",
    "end": "859160"
  },
  {
    "text": "who did them before we had uh you know what time is it and what happened at",
    "start": "859160",
    "end": "864440"
  },
  {
    "text": "that time so I need a way to meld these together I can do it on a bar chart but I'm not going to uh I'm going to drop",
    "start": "864440",
    "end": "871160"
  },
  {
    "text": "back over to the new visualizations section uh I can either just click the",
    "start": "871160",
    "end": "876279"
  },
  {
    "text": "new visualization thing or I can reclick on the visualize tab at the top here so I'm going to drop into a line chart and",
    "start": "876279",
    "end": "883160"
  },
  {
    "text": "I'm going to do this from a new search and I'm going to pick my USA gov index and I'm going to get a big white expans",
    "start": "883160",
    "end": "889800"
  },
  {
    "text": "of nothingness which isn't actually totally true I do actually have something on",
    "start": "889800",
    "end": "895000"
  },
  {
    "text": "there I've got that tiny little Green Dot right smack in the the the middle of the top there um which basically just",
    "start": "895000",
    "end": "902639"
  },
  {
    "text": "says hey look there's like 450,000 things in here I don't know what you want me to do with them uh this is all I",
    "start": "902639",
    "end": "909079"
  },
  {
    "text": "really know about this index so unless you tell me you need something else I'm going to give you that so we're at one",
    "start": "909079",
    "end": "915120"
  },
  {
    "text": "dimension now let's add another one I'm going to add an x-axis right now all",
    "start": "915120",
    "end": "920680"
  },
  {
    "text": "we're representing is all on the x-axis so I'm going to add a date",
    "start": "920680",
    "end": "927600"
  },
  {
    "text": "histogram all right so now we've got a chart that is very similar to that bar chart that we had before back on the",
    "start": "927600",
    "end": "934199"
  },
  {
    "text": "Discover screen uh it's a it's a line right we've got the same big spike that we had seen on that other one but now",
    "start": "934199",
    "end": "941079"
  },
  {
    "text": "we've got it in line form and my goal coming over here was I wanted to meld that user Dimension with the time",
    "start": "941079",
    "end": "949120"
  },
  {
    "text": "Dimension so how could I do that well I could just show the same chart right so",
    "start": "949120",
    "end": "954399"
  },
  {
    "text": "I could like maybe I could add another access to this but that really wouldn't do much for me yes I'd be able to see",
    "start": "954399",
    "end": "959920"
  },
  {
    "text": "who the popular users were but I wouldn't be able to see like what time they did stuff um I could add a like it",
    "start": "959920",
    "end": "967440"
  },
  {
    "text": "could add a z Dimension right so right you got X you've got X and you've got Y and then one of the really popular",
    "start": "967440",
    "end": "973639"
  },
  {
    "text": "things when you're trying to you know create another dimension is is people like to like throw another dimension at",
    "start": "973639",
    "end": "979360"
  },
  {
    "text": "you uh I'm not a big fan of three-dimensional charts in general I I don't generally believe things should",
    "start": "979360",
    "end": "985319"
  },
  {
    "text": "leap off the screen um I don't have a 3D TV and I don't mind much care for 3D movies uh because you can't get behind",
    "start": "985319",
    "end": "992199"
  },
  {
    "text": "the things right you've got this chart but you don't know that the smallest things are always going to be",
    "start": "992199",
    "end": "998040"
  },
  {
    "text": "at the front and the biggest things at the back which means that there's things that get lost and you can't see them so",
    "start": "998040",
    "end": "1003839"
  },
  {
    "text": "I'd rather than having the chart leap off the screen for the third dimension I would much rather pick a better",
    "start": "1003839",
    "end": "1009199"
  },
  {
    "text": "Dimension than that and I'm going to so right now if we look at the visual dimensions of this yes we can go with",
    "start": "1009199",
    "end": "1014600"
  },
  {
    "text": "length and width but one of the other dimensions here ends up being the color and right now we just represent everything",
    "start": "1014600",
    "end": "1020560"
  },
  {
    "text": "as green because it's pleasing and calming it reminds me of trees but we could probably give it more meaning than",
    "start": "1020560",
    "end": "1026880"
  },
  {
    "text": "that so let's split that green line into multiple lines so I'm going to add sub",
    "start": "1026880",
    "end": "1033240"
  },
  {
    "text": "buckets and you'll see in a minute why they are sub buckets I'm going to split these lines up and I'm going to use an",
    "start": "1033240",
    "end": "1040760"
  },
  {
    "text": "elastic search terms aggregation to do this and I'm going to do this on my user field so give me the top five users over",
    "start": "1040760",
    "end": "1048038"
  },
  {
    "text": "time and I'm going to hit enter that's a lot more than five",
    "start": "1048039",
    "end": "1053600"
  },
  {
    "text": "so as you can see down here I definitely just asked for five users but why did I get a whole lot more than five so those",
    "start": "1053600",
    "end": "1063000"
  },
  {
    "text": "of you familiar with elastic search aggregations might actually understand what just happened what happened was yes",
    "start": "1063000",
    "end": "1071480"
  },
  {
    "text": "I asked for top five however I asked for them as a factor of the time and so what",
    "start": "1071480",
    "end": "1079600"
  },
  {
    "text": "elastic search did was said well you asked me for time and that was the first",
    "start": "1079600",
    "end": "1084799"
  },
  {
    "text": "thing you asked me for and then you asked me for the users in that time well I had broken down your data set for you",
    "start": "1084799",
    "end": "1090640"
  },
  {
    "text": "and I had broken it down into these buckets in this case I had broken it down into weekly buckets and so when you asked me for",
    "start": "1090640",
    "end": "1097200"
  },
  {
    "text": "users I said well in each one of these weeks what's the most popular user so it went and found the top five users in",
    "start": "1097200",
    "end": "1103440"
  },
  {
    "text": "each week of course that changes from week to week and so all Cabana knew was well you told me a whole bunch of users",
    "start": "1103440",
    "end": "1109679"
  },
  {
    "text": "were popular uh here they are and here they are per week and he told me who was popular in each week that's not",
    "start": "1109679",
    "end": "1115880"
  },
  {
    "text": "necessarily what I want in this case uh if you actually look at the elastic search request you can understand how",
    "start": "1115880",
    "end": "1122000"
  },
  {
    "text": "this came to be we'll skip past uh is everybody Vaguely Familiar with elastic search requests and how they work more",
    "start": "1122000",
    "end": "1128159"
  },
  {
    "text": "or less is nodding heads no no shaking I'm still going to assume that you just don't want to tell me no so I'm going to",
    "start": "1128159",
    "end": "1134600"
  },
  {
    "text": "explain it um up here we have the query section this basically describes hey",
    "start": "1134600",
    "end": "1140240"
  },
  {
    "text": "this is the data I want to get uh basically I want to get everything between these two impossible to read",
    "start": "1140240",
    "end": "1145360"
  },
  {
    "text": "Unix timestamps uh and then down here I have my aggregation section and So within",
    "start": "1145360",
    "end": "1151520"
  },
  {
    "text": "this aggregation section we can see how elastics are structured this request on the top level we have a date histogram",
    "start": "1151520",
    "end": "1158720"
  },
  {
    "text": "and below that date histogram uh we have a terms of uh the user field so again",
    "start": "1158720",
    "end": "1165679"
  },
  {
    "text": "here we're taking into context the time that the thing falls into to to figure things out what we actually want to do",
    "start": "1165679",
    "end": "1171840"
  },
  {
    "text": "is run that terms aggregation first so find me my top five users and give me those five over time so what I need to",
    "start": "1171840",
    "end": "1178840"
  },
  {
    "text": "do is I need to raise this to be above that other one which I can do pretty",
    "start": "1178840",
    "end": "1184000"
  },
  {
    "text": "easily in Kon if we go over to this side we got these little buttons here for increasing and decreasing priority so",
    "start": "1184000",
    "end": "1191280"
  },
  {
    "text": "I'm going to increase that and rerun the aggregation okay so I have my top five",
    "start": "1191280",
    "end": "1197440"
  },
  {
    "text": "users over time now and it's it's much much cleaner although I still find this",
    "start": "1197440",
    "end": "1202480"
  },
  {
    "text": "to be kind of a visually distracting sort of thing uh mostly because I've got",
    "start": "1202480",
    "end": "1208240"
  },
  {
    "text": "all those lines in there and I don't really need to know the slope of anything right now so I'm going to drop",
    "start": "1208240",
    "end": "1214280"
  },
  {
    "text": "those out I'm just going to completely get rid of all those connecting lines so",
    "start": "1214280",
    "end": "1219360"
  },
  {
    "text": "now I've just got a bunch of dots and while this makes it kind of hard to see where things go to and from I'm more",
    "start": "1219360",
    "end": "1226799"
  },
  {
    "text": "interested in kind of where they were at and what I can see is way up here I've got a DOT that says JPL news and JPL",
    "start": "1226799",
    "end": "1234480"
  },
  {
    "text": "news was apparently very popular within this particular week um what I don't",
    "start": "1234480",
    "end": "1240880"
  },
  {
    "text": "know is why why was it popular why was there a big spike in JPL news and the",
    "start": "1240880",
    "end": "1247320"
  },
  {
    "text": "way this data set works is that these are all the clicks through bitly right",
    "start": "1247320",
    "end": "1252799"
  },
  {
    "text": "which means that a lot of people clicked through bit.ly for links that the JPL",
    "start": "1252799",
    "end": "1257880"
  },
  {
    "text": "news user had created at some point right they created these short URLs and somebody clicked on",
    "start": "1257880",
    "end": "1263360"
  },
  {
    "text": "them so there's two possible explanations for this",
    "start": "1263360",
    "end": "1268480"
  },
  {
    "text": "right explanation number one JPL news got really good at marketing and they",
    "start": "1268480",
    "end": "1274120"
  },
  {
    "text": "created a ton of content right they just created a huge amount of links maybe they published a whole bunch of blog",
    "start": "1274120",
    "end": "1279799"
  },
  {
    "text": "stories something they just tried to hit a really wide market and hoped that a whole bunch of people would want to",
    "start": "1279799",
    "end": "1285400"
  },
  {
    "text": "click on their stuff the other thing could be that they published one really really popular article uh and that shot",
    "start": "1285400",
    "end": "1293000"
  },
  {
    "text": "them straight to the top how do we figure out which it was what happened",
    "start": "1293000",
    "end": "1298520"
  },
  {
    "text": "okay so we're at three dimensions now but we want another dimension that explains to us what happened uh so what",
    "start": "1298520",
    "end": "1306159"
  },
  {
    "text": "we're really looking for here is how many unique articles did they end up",
    "start": "1306159",
    "end": "1311559"
  },
  {
    "text": "publishing uh basically the unique count within that bucket we can see that there were uh 6,5 and 93 clicks but to how",
    "start": "1311559",
    "end": "1320760"
  },
  {
    "text": "many unique destinations did those represent so we need to pick another dimension to represent unique",
    "start": "1320760",
    "end": "1327200"
  },
  {
    "text": "destinations and we've got three dimensions now so we need another one we've already got color we've got X we got y uh what about those dots right now",
    "start": "1327200",
    "end": "1335480"
  },
  {
    "text": "they're all the same color instead or right now they're all the same size instead of having those all be the same",
    "start": "1335480",
    "end": "1341279"
  },
  {
    "text": "size uh let's vary that size depending on how many unique",
    "start": "1341279",
    "end": "1349559"
  },
  {
    "text": "sites or accessed so I'm going to add another metric aggregation here and I'm",
    "start": "1349559",
    "end": "1354960"
  },
  {
    "text": "going to decide the dot size kind of flows off the screen a bit",
    "start": "1354960",
    "end": "1360919"
  },
  {
    "text": "all right uh so I am going to vary the dot size based on the unique count of",
    "start": "1360919",
    "end": "1367640"
  },
  {
    "text": "the destination field okay let's do",
    "start": "1367640",
    "end": "1373480"
  },
  {
    "text": "that all right so interesting thing",
    "start": "1373960",
    "end": "1379120"
  },
  {
    "text": "the JPL news dot didn't really change much in size uh and it doesn't look like",
    "start": "1379120",
    "end": "1385000"
  },
  {
    "text": "it changes much in size in general in fact many other users publish a lot more",
    "start": "1385000",
    "end": "1390400"
  },
  {
    "text": "stuff than the JPL news user does so it's not like their what they were doing just kind of exploded all of a sudden",
    "start": "1390400",
    "end": "1397120"
  },
  {
    "text": "they were still doing about the same stuff they were usually doing uh in fact we can we can get a better view of that",
    "start": "1397120",
    "end": "1402520"
  },
  {
    "text": "because we've decided that we we are interested in this user now they've become very popular and we're interested",
    "start": "1402520",
    "end": "1407600"
  },
  {
    "text": "in what they're doing so what I want to do is I'm just going to narrow this down so I'm just looking at the JPL news user",
    "start": "1407600",
    "end": "1412799"
  },
  {
    "text": "for a while so I'm going to click on this and kabana is going to generate some filters for me um so I don't",
    "start": "1412799",
    "end": "1419279"
  },
  {
    "text": "actually want to change the time I still want to see what the JPL news user had done for the last couple years so I'm going to deselect that filter and I'm",
    "start": "1419279",
    "end": "1425480"
  },
  {
    "text": "only going to apply this JPL news one here Cabana said look you clicked on something and it represents a couple of",
    "start": "1425480",
    "end": "1432679"
  },
  {
    "text": "different dimensions uh that I've been able to identify uh it represents a a week in time and it represents present a",
    "start": "1432679",
    "end": "1438799"
  },
  {
    "text": "particular user which is why it said hey do you want these two filters or or just you know some some subset of them so I'm",
    "start": "1438799",
    "end": "1445360"
  },
  {
    "text": "going to hit apply and just bring this down to the JPL news user so we can see that actually without the context of all",
    "start": "1445360",
    "end": "1452679"
  },
  {
    "text": "those other dots that were going around uh the say the bitly user kind of outweighing everybody uh in fact they",
    "start": "1452679",
    "end": "1458320"
  },
  {
    "text": "did seem to generate a few more things let's see they generated about uh well",
    "start": "1458320",
    "end": "1463720"
  },
  {
    "text": "exactly 39 unique sites however they usually generate oh 14 31 19 somewhere",
    "start": "1463720",
    "end": "1472880"
  },
  {
    "text": "between like 10 and 30ish uh things but they also usually only get oh",
    "start": "1472880",
    "end": "1481440"
  },
  {
    "text": "200ish click throughs but up here they had over 6,000 so despite the fact they",
    "start": "1481440",
    "end": "1487240"
  },
  {
    "text": "generated double the amount of links they got you know a 60-fold increase in how many users or much more than that",
    "start": "1487240",
    "end": "1494440"
  },
  {
    "text": "actually uh fold increase in how many uh users how many users clicked on things",
    "start": "1494440",
    "end": "1502399"
  },
  {
    "text": "so chances are they just had something that got popular they generated a few more articles but they received a whole",
    "start": "1502399",
    "end": "1508520"
  },
  {
    "text": "ton of clicks through to that uh okay so we know that they probably had a couple",
    "start": "1508520",
    "end": "1514440"
  },
  {
    "text": "of popular articles at least they published a few more but there were a couple that were obviously very very popular how do we figure out what those",
    "start": "1514440",
    "end": "1521679"
  },
  {
    "text": "were so I don't really super need the uh",
    "start": "1521679",
    "end": "1527039"
  },
  {
    "text": "splitting by color here any anymore right I'm only looking at the JPL news user so I can get rid of this and it",
    "start": "1527039",
    "end": "1533600"
  },
  {
    "text": "won't really change anything so I'm going to remove my split lines and that",
    "start": "1533600",
    "end": "1538880"
  },
  {
    "text": "won't change anything at all because I was only looking at one user anyway um and I don't really care about the time",
    "start": "1538880",
    "end": "1545159"
  },
  {
    "text": "anymore either in fact I'm just going to zoom in on this and get a better idea of",
    "start": "1545159",
    "end": "1550520"
  },
  {
    "text": "what went on in this specific time period really I want to know what went",
    "start": "1550520",
    "end": "1555600"
  },
  {
    "text": "on in that time that they were particularly popular so I don't need time as a dimension",
    "start": "1555600",
    "end": "1562840"
  },
  {
    "text": "anymore so let's put something else on the x-axis instead tell me what their popular destinations were I don't know",
    "start": "1562840",
    "end": "1570000"
  },
  {
    "text": "give me the top like not 51 give me the top say 15",
    "start": "1570000",
    "end": "1577200"
  },
  {
    "text": "destinations all right oh okay so we're back to having",
    "start": "1578279",
    "end": "1584399"
  },
  {
    "text": "little tiny dots again why do we have little tiny dots again well well we asked for the top destinations along the",
    "start": "1584399",
    "end": "1591520"
  },
  {
    "text": "x-axis and so each one of these only represents one destination and our DOT",
    "start": "1591520",
    "end": "1597080"
  },
  {
    "text": "size was determining unique destinations within the bucket well of course since each one of those represents one there's",
    "start": "1597080",
    "end": "1603039"
  },
  {
    "text": "only one in each which is actually to our benefit uh because we've managed to reclaim a Destin a a a dimension we can",
    "start": "1603039",
    "end": "1610000"
  },
  {
    "text": "reuse that dimension for something else so if we look at this we can see that",
    "start": "1610000",
    "end": "1615640"
  },
  {
    "text": "yes they had a few particularly popular things um how did those get to be",
    "start": "1615640",
    "end": "1622840"
  },
  {
    "text": "popular uh well this data set works a lot like the data set that I had at the",
    "start": "1622840",
    "end": "1628799"
  },
  {
    "text": "newspaper I was working at in that very few people came through the front page right very few people go to bitly and",
    "start": "1628799",
    "end": "1635000"
  },
  {
    "text": "just click on some links because they're short they come to bit.ly they go through bit.ly because they saw",
    "start": "1635000",
    "end": "1641120"
  },
  {
    "text": "something on another site that happened to use a bitly link so what sites did people see it on and how was the traffic",
    "start": "1641120",
    "end": "1649240"
  },
  {
    "text": "driven to the site was it driven because one particularly prolific site linked to",
    "start": "1649240",
    "end": "1655320"
  },
  {
    "text": "it right did this hit the front page of the New York Times or was did something happen like it was shared through uh",
    "start": "1655320",
    "end": "1660720"
  },
  {
    "text": "Facebook or Twitter or something uh and a whole bunch of users posted links to",
    "start": "1660720",
    "end": "1665880"
  },
  {
    "text": "this thing let's find out let's reclaim that unique count destination but",
    "start": "1665880",
    "end": "1671600"
  },
  {
    "text": "instead of doing destination let's grab the referrer header and referer tells us hey where did these people come from",
    "start": "1671600",
    "end": "1678799"
  },
  {
    "text": "uh and actually I want to show you a neat trick in elastic search uh who's used the cardinality aggregation in",
    "start": "1678799",
    "end": "1684200"
  },
  {
    "text": "elastic search anybody no basically nobody so cardinality is the thing that does unique counting uh unique counting",
    "start": "1684200",
    "end": "1692919"
  },
  {
    "text": "especially across distributed systems and very large sets while we're not dealing with a huge set here elastic",
    "start": "1692919",
    "end": "1698600"
  },
  {
    "text": "search is built to handle really large sets uh unique counting of very large sets is very hard uh right in order to",
    "start": "1698600",
    "end": "1705600"
  },
  {
    "text": "determine if something is unique you need to know if you've seen it before if I'm just say I'm sweeping through all my logs and I want to find you know the",
    "start": "1705600",
    "end": "1712039"
  },
  {
    "text": "unique uh referers so I need to know if I've seen something before so I know if I should count it again the problem is",
    "start": "1712039",
    "end": "1719760"
  },
  {
    "text": "in order to know if you've need if you've seen something before you have to remember that you saw it in order to remember that you've seed something you have to put it in memory if you have a",
    "start": "1719760",
    "end": "1727559"
  },
  {
    "text": "lot of those things it's going to use all of your memory so there's this thing called approximate counting and",
    "start": "1727559",
    "end": "1733279"
  },
  {
    "text": "approximate counting is what elastic search does if the data set is really really big and the way it does it is it",
    "start": "1733279",
    "end": "1739760"
  },
  {
    "text": "essentially for folks familiar I don't know why I keep asking people to raise their hands but familiar with the hyper log log algorithm uh basically nobody",
    "start": "1739760",
    "end": "1747679"
  },
  {
    "text": "cool hyper log log the way it works is you generate a bunch of hashes and you",
    "start": "1747679",
    "end": "1754120"
  },
  {
    "text": "use those hashes to determine essentially probability what is the chance that there's something like this",
    "start": "1754120",
    "end": "1759279"
  },
  {
    "text": "and how many of it would there be so elastic search has this optimization where it can generate those hashes ahead",
    "start": "1759279",
    "end": "1765000"
  },
  {
    "text": "of time so I'm going to pick the uh pre hashed version of this which I happen to",
    "start": "1765000",
    "end": "1770039"
  },
  {
    "text": "store just because it's fast it doesn't really matter as much on this data set but essentially the way storing hashes",
    "start": "1770039",
    "end": "1775799"
  },
  {
    "text": "works is you're trading a little bit of disk space for a whole lot more performance okay so",
    "start": "1775799",
    "end": "1781919"
  },
  {
    "text": "refers okay so what we can see here is that their most popular thing not",
    "start": "1781919",
    "end": "1787519"
  },
  {
    "text": "actually all that widely shared however the next most popular thing actually",
    "start": "1787519",
    "end": "1792600"
  },
  {
    "text": "very widely shared the uh unique count of the refer hash in this case is 187",
    "start": "1792600",
    "end": "1798200"
  },
  {
    "text": "so 187 uh different Des uh different uh sites referred to this uh this page so",
    "start": "1798200",
    "end": "1807159"
  },
  {
    "text": "what happened likely in this page was that it got somehow relatively popular on social media maybe it was posted on a",
    "start": "1807159",
    "end": "1814360"
  },
  {
    "text": "variety of news sites I'm just kind of curious what that actually is so I'm",
    "start": "1814360",
    "end": "1819519"
  },
  {
    "text": "going to open this up and I'm going to resort that and I'm going to look at",
    "start": "1819519",
    "end": "1825559"
  },
  {
    "text": "this one so what this one actually what actually was that okay so it is",
    "start": "1825559",
    "end": "1831919"
  },
  {
    "text": "apparently uh curiosity's heat shield in detail this apparently got very very",
    "start": "1831919",
    "end": "1839240"
  },
  {
    "text": "popular I'm I guess I'm not all that interested in it but okay I I guess I could see how that's that's I mean it's",
    "start": "1839240",
    "end": "1844919"
  },
  {
    "text": "Mars that's pretty cool anybody see this has anybody seen this image before by the way I I had never seen this until",
    "start": "1844919",
    "end": "1850480"
  },
  {
    "text": "the other night that I gave this really maybe you were one of those clicks I bet you you were I bet you were",
    "start": "1850480",
    "end": "1858120"
  },
  {
    "text": "I I bet we have a like especially if you got to it from Twitter or something because this contains a lot of uh t.co",
    "start": "1858120",
    "end": "1864320"
  },
  {
    "text": "links as well uh so there's actually an excellent chance that you are in that data set somewhere that's",
    "start": "1864320",
    "end": "1872840"
  },
  {
    "text": "neat okay cool back to that all right so",
    "start": "1872840",
    "end": "1878600"
  },
  {
    "text": "anyway that's essentially how Cabana deals with a whole bunch of different dimensions it lets you map up some",
    "start": "1878600",
    "end": "1885000"
  },
  {
    "text": "dimension of the data to some visual dimension of",
    "start": "1885000",
    "end": "1890360"
  },
  {
    "text": "stuff and it's a work it's a It's Kind it's kind of a flow that we found that we went through a lot when we were using",
    "start": "1890360",
    "end": "1896279"
  },
  {
    "text": "Cabana 3 we would first start searching then we'd realize that we didn't actually know what we were searching for",
    "start": "1896279",
    "end": "1902360"
  },
  {
    "text": "and so we'd go and we'd create a whole bunch of these panels right the problem was is that Cabana 3",
    "start": "1902360",
    "end": "1909320"
  },
  {
    "text": "was really designed to search and have a dashboard but sometimes you just didn't",
    "start": "1909320",
    "end": "1915120"
  },
  {
    "text": "need that answer over and over and over again you didn't actually need it on a dashboard which is why we built the",
    "start": "1915120",
    "end": "1921440"
  },
  {
    "text": "whole visualization aspect of this sometimes all I needed to know was that",
    "start": "1921440",
    "end": "1927120"
  },
  {
    "text": "a picture of a heat shield was a really popular thing I'm not going to need that to know that tomorrow and I probably",
    "start": "1927120",
    "end": "1933000"
  },
  {
    "text": "won't need it on a dashboard if I got to an answer that I would need to know repeatedly such as things like uh how",
    "start": "1933000",
    "end": "1939840"
  },
  {
    "text": "big are the files I'm serving how many unique uh visitors do I have every day",
    "start": "1939840",
    "end": "1945200"
  },
  {
    "text": "those are the kind of things I end up putting on a dashboard the idea is we were trying to build a flow that allowed you to get just the amount of",
    "start": "1945200",
    "end": "1951080"
  },
  {
    "text": "information you needed without forcing you to save it in some way or keep it around for later put it on a dashboard",
    "start": "1951080",
    "end": "1957159"
  },
  {
    "text": "or put it into kind of a fixed panel so of course Cabana lets you save these visualizations and reuse them uh if I",
    "start": "1957159",
    "end": "1964720"
  },
  {
    "text": "had needed to see that you know chart of the JPL news uh URLs I could have saved",
    "start": "1964720",
    "end": "1970840"
  },
  {
    "text": "that and put it on a dashboard I could have put it on multiple dashboards uh not only that but right now I'm mostly",
    "start": "1970840",
    "end": "1977399"
  },
  {
    "text": "looking at my USA gov data if I had other data I could put that stuff on a",
    "start": "1977399",
    "end": "1983399"
  },
  {
    "text": "dashboard too uh K 3 you could only link one index to One dashboard comana 4 as",
    "start": "1983399",
    "end": "1991880"
  },
  {
    "text": "many different indices as you want which actually brings up something kind of",
    "start": "1991880",
    "end": "1997000"
  },
  {
    "text": "neat let's go over to my dashboard real quick and I'm going to get rid of the JPL news user because I don't really",
    "start": "1997000",
    "end": "2003559"
  },
  {
    "text": "need to know about them uh so an interesting bit here is that yes I",
    "start": "2003559",
    "end": "2010720"
  },
  {
    "text": "can put multiple things on go back here I actually want to see more than just",
    "start": "2010720",
    "end": "2016080"
  },
  {
    "text": "that tiny slice of time that JPL news was active Okay",
    "start": "2016080",
    "end": "2021760"
  },
  {
    "text": "so interesting bit here is that I have these two indices I have the USA gov",
    "start": "2021760",
    "end": "2027720"
  },
  {
    "text": "index and I have this users index and they both share one common",
    "start": "2027720",
    "end": "2034840"
  },
  {
    "text": "trait and that that's they're both associated with a user name and so because I have that field user in both",
    "start": "2034840",
    "end": "2041399"
  },
  {
    "text": "places I get this neat kind of uh client side join effect essentially so let's",
    "start": "2041399",
    "end": "2046720"
  },
  {
    "text": "see I have down here a table of my top users and again we've got you know JPL",
    "start": "2046720",
    "end": "2052638"
  },
  {
    "text": "news user there and all these other ones but I'm going to pick on JPL newes again and I'm going to click that bar and",
    "start": "2052639",
    "end": "2059240"
  },
  {
    "text": "since that only represents uh one useful searchable Dimension Comm just goes ahead and creates the filter for me and",
    "start": "2059240",
    "end": "2065960"
  },
  {
    "text": "okay so now I can see where the JPL news user was popular uh so mostly in Europe",
    "start": "2065960",
    "end": "2071398"
  },
  {
    "text": "uh it turned out that most of those link clicks came from Europe uh and because I",
    "start": "2071399",
    "end": "2076720"
  },
  {
    "text": "have on the same dashboard the users index and a list of all the users that",
    "start": "2076720",
    "end": "2082520"
  },
  {
    "text": "gets filtered at the same time so now I also have all the details about that user even though it was stored in a",
    "start": "2082520",
    "end": "2088320"
  },
  {
    "text": "separate index from all the event data that I was normally looking at I get to get all the context about that user",
    "start": "2088320",
    "end": "2097839"
  },
  {
    "text": "because we were making dashboards this much more powerful uh and because we",
    "start": "2101560",
    "end": "2107119"
  },
  {
    "text": "were introducing so many new visualizations and because we were using aggregations and because the questions",
    "start": "2107119",
    "end": "2113400"
  },
  {
    "text": "we let you ask got more complex we really needed to speed up the way that Cabana did things so in Cabana 3 here's",
    "start": "2113400",
    "end": "2122440"
  },
  {
    "text": "what happened you had 15 panels on a dashboard which is a pretty complex thing",
    "start": "2122440",
    "end": "2128920"
  },
  {
    "text": "what K would do is it would say h deal with an elastic search and it would just Chuck a bunch of HTTP requests at",
    "start": "2128920",
    "end": "2135320"
  },
  {
    "text": "elastic search now there was an issue with this and that's that it often didn't chuck them directly at elastic",
    "start": "2135320",
    "end": "2141520"
  },
  {
    "text": "search with kamana 3 you had to have a web server and many people decided Well I'd rather uh set up a proxy and have",
    "start": "2141520",
    "end": "2148880"
  },
  {
    "text": "Cabana talk to elastic search through that totally totally reasonable the problem would be is that a lot of people",
    "start": "2148880",
    "end": "2154760"
  },
  {
    "text": "would grab an example for say Apache or something off the internet an example of a reverse proxy and that reverse proxy",
    "start": "2154760",
    "end": "2162240"
  },
  {
    "text": "configuration would have this line in it that said uh don't let any more than",
    "start": "2162240",
    "end": "2167520"
  },
  {
    "text": "three connections per user through at a time so I've got 15 things and the",
    "start": "2167520",
    "end": "2174200"
  },
  {
    "text": "browser just generated 15 HTTP requests so the browser's going to sit there and",
    "start": "2174200",
    "end": "2179400"
  },
  {
    "text": "spin it's just going to sit there and wait until it can issue more requests",
    "start": "2179400",
    "end": "2185680"
  },
  {
    "text": "which means it thinks it's going to issue 15 Apache is going to say no you're not you're going to issue three",
    "start": "2185680",
    "end": "2191359"
  },
  {
    "text": "and so what's going to happen is in order to get to that fourth request it's got to wait for one of the first three",
    "start": "2191359",
    "end": "2196960"
  },
  {
    "text": "to finish to get to the fifth requests it's got to wait for one of those three to finish so on and so forth which means",
    "start": "2196960",
    "end": "2205400"
  },
  {
    "text": "that you're constantly sitting there waiting for stuff and while you're sitting there waiting for Stuff there's new data coming into elastic search",
    "start": "2205400",
    "end": "2211839"
  },
  {
    "text": "right so by the time we actually get to like the 15th thing who knows how consistent our answers were were besides",
    "start": "2211839",
    "end": "2218920"
  },
  {
    "text": "the fact that it took a really long time so how did we solve that in Cabana 4 a",
    "start": "2218920",
    "end": "2224640"
  },
  {
    "text": "we got rid of the need to set up a proxy we just build a backend in uh we do the the essentially the proxying ourselves",
    "start": "2224640",
    "end": "2231040"
  },
  {
    "text": "uh with a minimal amount of uh restriction on it so we keep things to like non-destructive get requests uh we",
    "start": "2231040",
    "end": "2238440"
  },
  {
    "text": "let you write to the do Cabana index but that's really the only index that you get to write to the other way that we",
    "start": "2238440",
    "end": "2244240"
  },
  {
    "text": "solved this is we said don't Chuck 15 HTTP requests all at the same time",
    "start": "2244240",
    "end": "2251240"
  },
  {
    "text": "that's not particularly efficient elastic search has a better way of dealing with that we just bundle everything up into one big request now",
    "start": "2251240",
    "end": "2259440"
  },
  {
    "text": "uh so instead of issuing them all separately we put them all into the elastic search m search API and we make",
    "start": "2259440",
    "end": "2265079"
  },
  {
    "text": "sure that elastic search runs them all at the same time right it never made any sense to just run three at a time when",
    "start": "2265079",
    "end": "2271319"
  },
  {
    "text": "you've got you know five or six elastic search nodes and each of those have multiple cores why am I just running",
    "start": "2271319",
    "end": "2277880"
  },
  {
    "text": "three just run them all and let elastic search figure it out which it does quite well we found that on complex dashboards",
    "start": "2277880",
    "end": "2285079"
  },
  {
    "text": "things that were asking a lot of questions we were able to reduce the query time from a annoying 30 seconds",
    "start": "2285079",
    "end": "2291000"
  },
  {
    "text": "down to a slightly less annoying 10 seconds a pretty decent uh increase not",
    "start": "2291000",
    "end": "2296359"
  },
  {
    "text": "only that but because all the questions were asked at exactly the same time they all have the exact same view of the",
    "start": "2296359",
    "end": "2304440"
  },
  {
    "text": "data that's essentially how we addressed both the data Discovery and the",
    "start": "2304440",
    "end": "2310280"
  },
  {
    "text": "performance aspects of things as well as some of the",
    "start": "2310280",
    "end": "2315800"
  },
  {
    "text": "flexibility and we did most of that in Cabana 4 we recently released Cabana",
    "start": "2315800",
    "end": "2321560"
  },
  {
    "text": "41 uh 41 came with a whole bunch more performance improvements uh the big one",
    "start": "2321560",
    "end": "2328079"
  },
  {
    "text": "being that when we went to design Cabana 4 we were like okay we need to cach a bunch of stuff right we're doing we're",
    "start": "2328079",
    "end": "2334560"
  },
  {
    "text": "moving a lot of data around and it's important that that we cash things well of course the problem with",
    "start": "2334560",
    "end": "2340720"
  },
  {
    "text": "cash is that cash is essentially again you know remembering what just happened and remembering things again takes",
    "start": "2340720",
    "end": "2346920"
  },
  {
    "text": "memory and so we did a pretty good dive into okay this caching that we're doing",
    "start": "2346920",
    "end": "2352720"
  },
  {
    "text": "how effective is it really and it turned out it wasn't as effective as we wanted it to be so we got rid of a lot of the",
    "start": "2352720",
    "end": "2359119"
  },
  {
    "text": "caching and that actually ended up speeding up a lot of things uh in fact in in some places Kata 41 is somewhere",
    "start": "2359119",
    "end": "2366760"
  },
  {
    "text": "on the order of like 10 times more memory efficient than four was now a lot of that was cleaning up some code that",
    "start": "2366760",
    "end": "2372400"
  },
  {
    "text": "we didn't love a lot of it was just getting rid of caches that we weren't using Comm 4 is a lot faster of course",
    "start": "2372400",
    "end": "2378720"
  },
  {
    "text": "we brought or Comm 41 is a lot faster of course we brought in some new uh new uh",
    "start": "2378720",
    "end": "2383760"
  },
  {
    "text": "uh features too such as filters we've made them better we've added some functionality to them uh for example",
    "start": "2383760",
    "end": "2391520"
  },
  {
    "text": "Geographic filtering right I can do geo filters now so if I want to see just",
    "start": "2391520",
    "end": "2397680"
  },
  {
    "text": "this point on the map I can get just that point on the map another thing that we added was uh filter pinning and this",
    "start": "2397680",
    "end": "2406800"
  },
  {
    "text": "was to solve the problem of I answered a question here but I have the same",
    "start": "2406800",
    "end": "2413359"
  },
  {
    "text": "question somewhere else I'd like to use the same data in another part of the",
    "start": "2413359",
    "end": "2418800"
  },
  {
    "text": "application I created all these filters I don't want to create them again can you just keep them around for me so we",
    "start": "2418800",
    "end": "2425960"
  },
  {
    "text": "added filter pinning which B basically just says uh keep this filter so I'll select a little pin icon and wherever I",
    "start": "2425960",
    "end": "2432880"
  },
  {
    "text": "go from now on keep that filter so when I go over here I've still got this Geo",
    "start": "2432880",
    "end": "2438599"
  },
  {
    "text": "filter which means that all of these things are still relevant to that specific geographic area if i' selected",
    "start": "2438599",
    "end": "2444839"
  },
  {
    "text": "you know a user time range all that stuff just sticks with",
    "start": "2444839",
    "end": "2449960"
  },
  {
    "text": "me of course I can still get rid of them and see",
    "start": "2449960",
    "end": "2455040"
  },
  {
    "text": "everything the other thing that we added was field formatting so you put stuff",
    "start": "2455040",
    "end": "2462000"
  },
  {
    "text": "into elastic search and it's in the format that you need to be able to search on it easily right so I do",
    "start": "2462000",
    "end": "2467280"
  },
  {
    "text": "something like uh I have a bytes field I don't store that as 80 KB right I don't",
    "start": "2467280",
    "end": "2473000"
  },
  {
    "text": "store it as 80 kilobytes I store it as 880,000 but when I go to actually look",
    "start": "2473000",
    "end": "2478440"
  },
  {
    "text": "at it I don't constantly want to look at 880,000 I want to look at 80 KB so that",
    "start": "2478440",
    "end": "2484440"
  },
  {
    "text": "was something that we added was the ability to have have custom formatters",
    "start": "2484440",
    "end": "2489560"
  },
  {
    "text": "so if I add bytes here I can see that yep I actually get that in the proper",
    "start": "2489560",
    "end": "2495599"
  },
  {
    "text": "format and I also added URL links so we",
    "start": "2495599",
    "end": "2501200"
  },
  {
    "text": "have these field formatters that let you say exactly how you want the thing to be displayed so in this case I was storing",
    "start": "2501200",
    "end": "2507960"
  },
  {
    "text": "URLs there I want to show them as links uh that URL formatter actually does other stuff uh even though in this case",
    "start": "2507960",
    "end": "2514720"
  },
  {
    "text": "we happen to have URLs in there you don't actually have to have a URL in the field in order to create a link to it",
    "start": "2514720",
    "end": "2521720"
  },
  {
    "text": "for example let's say that you uh stored the ID of something right maybe I've got user ID in that list and I've got some",
    "start": "2521720",
    "end": "2528400"
  },
  {
    "text": "other application that I use for managing users this URL formatter is actually",
    "start": "2528400",
    "end": "2534400"
  },
  {
    "text": "templated so you can use that value and insert that into a URL so you could say",
    "start": "2534400",
    "end": "2539680"
  },
  {
    "text": "link off to another application or something for for context this is one of the places where",
    "start": "2539680",
    "end": "2546400"
  },
  {
    "text": "we first started introducing real flexibility into Cabana on a developer level this is the",
    "start": "2546400",
    "end": "2554559"
  },
  {
    "text": "first place that we really started to document the API for doing this yourself because we said that look we can hit",
    "start": "2554559",
    "end": "2560760"
  },
  {
    "text": "like a really broad use case of what people want to do with uh showing values",
    "start": "2560760",
    "end": "2566359"
  },
  {
    "text": "of fields but we're not going to get it all we need something so that people can do this in a custom way which we added",
    "start": "2566359",
    "end": "2573920"
  },
  {
    "text": "so now if you go in and look at our existing field formatters you can come up with with your own they're all written in JavaScript they have a",
    "start": "2573920",
    "end": "2580319"
  },
  {
    "text": "differentiation between looking at things in text for example in tool tips and such and then having them",
    "start": "2580319",
    "end": "2585720"
  },
  {
    "text": "represented uh as HTML for something like this so you could do things like uh",
    "start": "2585720",
    "end": "2591800"
  },
  {
    "text": "make images in line or you could code a field uh with some color depending on",
    "start": "2591800",
    "end": "2598079"
  },
  {
    "text": "what its value is any other of custom logic that you want to",
    "start": "2598079",
    "end": "2604520"
  },
  {
    "text": "introduce and we plan to kind of continue this trend of making things expandable",
    "start": "2604520",
    "end": "2611359"
  },
  {
    "text": "uh we're we're documenting the apis that we use to build features in Cabana very",
    "start": "2611359",
    "end": "2616839"
  },
  {
    "text": "constantly now so the next thing that we're building in Cabana that that we're really excited about is authentication",
    "start": "2616839",
    "end": "2624119"
  },
  {
    "text": "this is something that we're working on right now and when we started working on it we again said this needs to be",
    "start": "2624119",
    "end": "2629760"
  },
  {
    "text": "flexible people need to be able to do this their way sure we can build authentication systems that hit a pretty",
    "start": "2629760",
    "end": "2637119"
  },
  {
    "text": "broad spectrum right we know that we can integrate with elastic search Shield because that's easy it's like the thing",
    "start": "2637119",
    "end": "2642839"
  },
  {
    "text": "people use to secure elastic search but we know that that's not the",
    "start": "2642839",
    "end": "2648040"
  },
  {
    "text": "thing that everybody uses so we want to make sure that for authentication you can integrate with say your corporate",
    "start": "2648040",
    "end": "2653960"
  },
  {
    "text": "off system so we're building this in a pluggable way if you go to the GitHub uh repository there's a ticket explaining",
    "start": "2653960",
    "end": "2660079"
  },
  {
    "text": "all about how we're going to build pluggable authentication something that we've already started on the other thing",
    "start": "2660079",
    "end": "2667200"
  },
  {
    "text": "that we're doing is we're trying to allow you to extend other parts of the application for example building your",
    "start": "2667200",
    "end": "2673520"
  },
  {
    "text": "own visualizations we're starting to document the visualization API so that if you have a particularly Niche thing",
    "start": "2673520",
    "end": "2680640"
  },
  {
    "text": "you've got some way that you want to see your data maybe you've created a visualization uh as a standalone thing",
    "start": "2680640",
    "end": "2686559"
  },
  {
    "text": "you want to bring it into cabana it's something we want to start allowing you to do uh in addition you may have",
    "start": "2686559",
    "end": "2694319"
  },
  {
    "text": "noticed that I haven't been swapping back and forth between like keynote or PowerPoint or something during this uh",
    "start": "2694319",
    "end": "2702119"
  },
  {
    "text": "before I gave the talk I wanted to see well how easy it is it to extend Cabana to add completely new functionality so I",
    "start": "2702119",
    "end": "2709200"
  },
  {
    "text": "built a slideshow app for Cabana which is why I have that little slides tab at the top uh this is built with reveal JS",
    "start": "2709200",
    "end": "2716720"
  },
  {
    "text": "which is just a really simple uh JavaScript framework for making uh slideshows you don't actually need to",
    "start": "2716720",
    "end": "2722319"
  },
  {
    "text": "know anything about reveal JS or JavaScript to use this uh they have an",
    "start": "2722319",
    "end": "2727880"
  },
  {
    "text": "online builder for these that's all nice and pointand click if you grab the stuff in this",
    "start": "2727880",
    "end": "2733760"
  },
  {
    "text": "GitHub repository and drop it in your plugins directory in kabana it'll add a",
    "start": "2733760",
    "end": "2739240"
  },
  {
    "text": "new slides tab for you if you replace the I think it's called like offline.",
    "start": "2739240",
    "end": "2744319"
  },
  {
    "text": "HTML if you replace that with your own slides that you build on the online reveal.js thing you'll put your own",
    "start": "2744319",
    "end": "2751200"
  },
  {
    "text": "presentation in there and it'll just kind of work uh but it's it's about the",
    "start": "2751200",
    "end": "2756559"
  },
  {
    "text": "simple app you can imagine uh if you are a developer you can go into it and you've got kind of a very lightweight seed for",
    "start": "2756559",
    "end": "2763200"
  },
  {
    "text": "building your own stuff into Cabana we also want to make sure that",
    "start": "2763200",
    "end": "2769720"
  },
  {
    "text": "all of these things are always available to you word open source company everything we do is in the open we",
    "start": "2769720",
    "end": "2776440"
  },
  {
    "text": "haven't closed Source anything in Kam on and we don't plan to which means that we want you to be able to use stuff as soon",
    "start": "2776440",
    "end": "2781520"
  },
  {
    "text": "as it's available so we've started publishing snapshot builds and while I just gave you a nice diet try about how",
    "start": "2781520",
    "end": "2787400"
  },
  {
    "text": "we want to share everything mostly these are self-serving we really just want to sucker you into being beta testers for",
    "start": "2787400",
    "end": "2793040"
  },
  {
    "text": "us um which has been great for us because we started publishing these right before Cabana 41 and we got tons",
    "start": "2793040",
    "end": "2800319"
  },
  {
    "text": "of feedback uh I'm actually shocked at the number of people who are willing to uh to use something like way before",
    "start": "2800319",
    "end": "2806319"
  },
  {
    "text": "we've Q8 at all uh but served as a great test bed for us we fixed a ton of stuff",
    "start": "2806319",
    "end": "2813440"
  },
  {
    "text": "that hey maybe we wouldn't have found we also improved the behavior in a lot of places people said hey this could be",
    "start": "2813440",
    "end": "2818839"
  },
  {
    "text": "just a little better here and it's because we give Early Access to everything in an easy to consume way so",
    "start": "2818839",
    "end": "2825079"
  },
  {
    "text": "please grab it let us know how we can improve find bugs fix",
    "start": "2825079",
    "end": "2832319"
  },
  {
    "text": "bugs and that's about it",
    "start": "2832319",
    "end": "2836960"
  },
  {
    "text": "[Music]",
    "start": "2844660",
    "end": "2853739"
  }
]