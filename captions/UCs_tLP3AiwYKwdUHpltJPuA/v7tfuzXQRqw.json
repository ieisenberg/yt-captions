[
  {
    "text": "[Applause] hi",
    "start": "8200",
    "end": "13799"
  },
  {
    "text": "everyone big lights so I do have the the rock your Java t-shirt this Rockstar",
    "start": "13799",
    "end": "20320"
  },
  {
    "text": "thing by the way is something Java one designates people as so you know those votes you guys all do that's that's",
    "start": "20320",
    "end": "26560"
  },
  {
    "text": "where it ends up going um this this our marketing department put together and",
    "start": "26560",
    "end": "32040"
  },
  {
    "text": "and and I'll get back to it in a second uh but I I like to put this this picture",
    "start": "32040",
    "end": "38600"
  },
  {
    "text": "up at the beginning of of many of my talks anybody here recognize what that",
    "start": "38600",
    "end": "45360"
  },
  {
    "text": "is it's hard for me to see there somebody want to shout out apollo3",
    "start": "45800",
    "end": "50840"
  },
  {
    "text": "Apollo 13 exactly that is the se2 scrubber from a PO",
    "start": "50840",
    "end": "56239"
  },
  {
    "text": "13 and for those of you who might be two young to remember or to have seen the",
    "start": "56239",
    "end": "62239"
  },
  {
    "text": "movie um apal 13 was supposed to go to the Moon didn't quite make it they had",
    "start": "62239",
    "end": "68000"
  },
  {
    "text": "an accident on the way um and and they did get everybody back alive uh a big",
    "start": "68000",
    "end": "75320"
  },
  {
    "text": "problem they had was that the CO2 scrubber um they had to fit three people",
    "start": "75320",
    "end": "81759"
  },
  {
    "text": "into the lunar lander for long duration much longer than it was designed for it was designed for two people for about a",
    "start": "81759",
    "end": "88560"
  },
  {
    "text": "third of the time and and and the CO2 scrubber was not did not have enough capacity and they were basically going",
    "start": "88560",
    "end": "94159"
  },
  {
    "text": "to poison themselves with CO2 uh the Command Module the big part that had the",
    "start": "94159",
    "end": "99880"
  },
  {
    "text": "problem and had to be shut down had a CO2 scrubber but it was square and they had to fit a square peg into a round",
    "start": "99880",
    "end": "106560"
  },
  {
    "text": "hole that's literally what that is um and Engineers had to figure out how to",
    "start": "106560",
    "end": "112200"
  },
  {
    "text": "do this with the parts that were there in the spaceship and or people would die and",
    "start": "112200",
    "end": "118159"
  },
  {
    "text": "and that was a truly heroic effort um as you can see they did it with with duct",
    "start": "118159",
    "end": "123280"
  },
  {
    "text": "tape this is the ultimate in duct tape engineering um and and it is truly",
    "start": "123280",
    "end": "129879"
  },
  {
    "text": "heroic and and you guys might recognize the pattern of sometimes every once in a",
    "start": "129879",
    "end": "135280"
  },
  {
    "text": "while engineers get called on to save the day hopefully not with people's life on the Lin um and when we do there's",
    "start": "135280",
    "end": "142480"
  },
  {
    "text": "this Elation this this amazing feeling if you get to do this a few times in your career where where everything would",
    "start": "142480",
    "end": "148400"
  },
  {
    "text": "have broken except for you saved it it is truly a a great",
    "start": "148400",
    "end": "153879"
  },
  {
    "text": "feeling but but it's very important afterwards to",
    "start": "153879",
    "end": "159480"
  },
  {
    "text": "remember that our job is to come back look at this and think of how what we",
    "start": "159480",
    "end": "167159"
  },
  {
    "text": "can do to make this never happen again the postmortem Parts the the analysis",
    "start": "167159",
    "end": "172760"
  },
  {
    "text": "the why did I have to do a heroic act uh for things to keep working is important",
    "start": "172760",
    "end": "178440"
  },
  {
    "text": "and in this specific case hope hopefully the postmortem uh looked at this I'm hoping I'm assuming that a PO 14 went up",
    "start": "178440",
    "end": "186120"
  },
  {
    "text": "with CO2 scrubbers that were the same shape for example um but whenever you",
    "start": "186120",
    "end": "191720"
  },
  {
    "text": "see duct tape on engineering results you should think uh what should I be doing",
    "start": "191720",
    "end": "197879"
  },
  {
    "text": "in order to remove that duct tape because in the long run duct tape is is when you put it on it feels really good",
    "start": "197879",
    "end": "204360"
  },
  {
    "text": "but ripping it off that's a different story now this stock is actually my",
    "start": "204360",
    "end": "210640"
  },
  {
    "text": "attempt at at fixing some duct tape that I see uh around and you'll see how that",
    "start": "210640",
    "end": "216680"
  },
  {
    "text": "comes together as we go but I find this a pretty inspirational and directional thing to do when you see duct tape on",
    "start": "216680",
    "end": "223000"
  },
  {
    "text": "systems remember to come back and take it off later",
    "start": "223000",
    "end": "228799"
  },
  {
    "text": "so there it does work um so my title for today is how I stop worrying and learn",
    "start": "228799",
    "end": "236159"
  },
  {
    "text": "to love misery and and this connects to a subject I've been talking about for",
    "start": "236159",
    "end": "241680"
  },
  {
    "text": "several years um the the way we're going to walk through this is simple I'm I'm going to do a little bit of introduction",
    "start": "241680",
    "end": "248680"
  },
  {
    "text": "I'm going to explain how much of monitoring out in the world is simply",
    "start": "248680",
    "end": "253879"
  },
  {
    "text": "simply broken and how it's so bad that there's probably no more fixing",
    "start": "253879",
    "end": "259160"
  },
  {
    "text": "it and that there's some lights and tunnels involved at the end of this and",
    "start": "259160",
    "end": "265560"
  },
  {
    "text": "also that we while there is a lot of Miser misery out there we can actually learn to appreciate it and maybe gain",
    "start": "265560",
    "end": "271880"
  },
  {
    "text": "from that learning uh subjects that I've given to",
    "start": "271880",
    "end": "277280"
  },
  {
    "text": "this overall area in the past are things like understanding latency and",
    "start": "277280",
    "end": "282400"
  },
  {
    "text": "application responsiveness these are actual talk titles uh microservices and response time Behavior or or a little",
    "start": "282400",
    "end": "289360"
  },
  {
    "text": "more Whimsical how not to measure latency but the actual title for the",
    "start": "289360",
    "end": "294840"
  },
  {
    "text": "subject that I usually put somewhere in the slides is this",
    "start": "294840",
    "end": "300240"
  },
  {
    "text": "and that's because in most rooms I can actually see your faces I can't hear the lights are too strong but but when when",
    "start": "300240",
    "end": "309199"
  },
  {
    "text": "I talk through some of what I will talk through there's an inevitable reaction",
    "start": "309199",
    "end": "314400"
  },
  {
    "text": "in a few places in the room where people kind of have this yeah I think that's what we do and and when that happens",
    "start": "314400",
    "end": "323680"
  },
  {
    "text": "what I've always told audiences is feel free to exclaim oh it is okay in",
    "start": "323680",
    "end": "329800"
  },
  {
    "text": "this room it's okay regardless of what your parents told you and you know it's okay afterwards just go back to being",
    "start": "329800",
    "end": "335479"
  },
  {
    "text": "polite but here it's okay to say oh in the right places I might prompt you here and",
    "start": "335479",
    "end": "341639"
  },
  {
    "text": "there now I've been talking about this for a while in fact I did a talk here in",
    "start": "341639",
    "end": "347919"
  },
  {
    "text": "Mourne uh about this very subject um and and that was in",
    "start": "347919",
    "end": "354280"
  },
  {
    "text": "2014 and and you can't see this shirt or can't really read it so I'll zoom into",
    "start": "354280",
    "end": "359440"
  },
  {
    "text": "it you see 2014 over here in Melbourne at Yao and",
    "start": "359440",
    "end": "364600"
  },
  {
    "text": "the subject was how not to measure latency now this is coming full circle and explaining why I give",
    "start": "364600",
    "end": "371759"
  },
  {
    "text": "up just go ahead and measure it that way and and why we can live with the",
    "start": "371759",
    "end": "378280"
  },
  {
    "text": "outcomes probably so I stopped worrying and learned to love misery this is a",
    "start": "378280",
    "end": "384880"
  },
  {
    "text": "picture of me a few years ago yeah um I'll get to a picture of me",
    "start": "384880",
    "end": "391680"
  },
  {
    "text": "but I'm the CTO of and a co-founder of AO systems I I I work on a lot of things",
    "start": "391680",
    "end": "397800"
  },
  {
    "text": "I've built a lot of stuff and one of the things people probably know me the best for is garbage collection at a zoo we've",
    "start": "397800",
    "end": "404199"
  },
  {
    "text": "solved the problem of GC posit for Java they're gone um truly gone I know what",
    "start": "404199",
    "end": "410400"
  },
  {
    "text": "that sounds like but it's my algorithm and it works I I claim it this yeah um",
    "start": "410400",
    "end": "415840"
  },
  {
    "text": "but here's some evidence of actual work on garbage collection that's a real picture of me um and and",
    "start": "415840",
    "end": "422639"
  },
  {
    "text": "this machine in my kitchen is a trash compactor I think here in Australia you guys are not as lazy as The Californians",
    "start": "422639",
    "end": "430039"
  },
  {
    "text": "um the job of a trash compactor in California is to compact the garbage in",
    "start": "430039",
    "end": "435720"
  },
  {
    "text": "the trash can it does minor garbage collection compactions during the week so that you only have to do the full GC",
    "start": "435720",
    "end": "443599"
  },
  {
    "text": "only once a week where you carry the thing outside and in this case there was a problem the compact actor algorithm",
    "start": "443599",
    "end": "450319"
  },
  {
    "text": "wasn't working right you can see that there are fragments that were pouring out the back and I had to manually",
    "start": "450319",
    "end": "456520"
  },
  {
    "text": "defragment the heat um and I thought at the time that it",
    "start": "456520",
    "end": "461680"
  },
  {
    "text": "would be funny to take a picture with the actual GC Theory Book and and that was 15 years",
    "start": "461680",
    "end": "467919"
  },
  {
    "text": "ago um I I've done a lot of other things I've built all kinds of machines physical and virtual and operating",
    "start": "467919",
    "end": "474639"
  },
  {
    "text": "systems and accidentally build an application server in the late '90s",
    "start": "474639",
    "end": "480560"
  },
  {
    "text": "um and I also like to go around depressing people like you about",
    "start": "480560",
    "end": "486080"
  },
  {
    "text": "subjects like this so we'll get into the little bit of level setting and introduction talk about the world we",
    "start": "486080",
    "end": "491879"
  },
  {
    "text": "sort of live in or want to live in we talk about services and microservices a lot and and we come from a a world where",
    "start": "491879",
    "end": "500080"
  },
  {
    "text": "where applications were siloed and and were kind of stove piped um so this",
    "start": "500080",
    "end": "506400"
  },
  {
    "text": "Evolution from a stove type environment to to a services and later microservices",
    "start": "506400",
    "end": "512279"
  },
  {
    "text": "uh environment often looks like this we have different systems and each of the systems was over time broken into",
    "start": "512279",
    "end": "519919"
  },
  {
    "text": "services and and and those Services talk to each other within the system but now we have Services we expose them to other",
    "start": "519919",
    "end": "526640"
  },
  {
    "text": "parts of the other systems we start seeing these interconnections between them and if you look closely you can",
    "start": "526640",
    "end": "533080"
  },
  {
    "text": "still see the original boundaries for a while right uh but over time you're",
    "start": "533080",
    "end": "538320"
  },
  {
    "text": "hoping it grows into an actual network of services and microservices and that's a really nice picture right um and if",
    "start": "538320",
    "end": "545680"
  },
  {
    "text": "you're really successful it'll keep growing that way into something like",
    "start": "545680",
    "end": "550800"
  },
  {
    "text": "that that is Amazon 10 years ago According to some Amazon people these",
    "start": "550800",
    "end": "556320"
  },
  {
    "text": "are this is a map of their microservices and it's grown quite a bit since I think to keep in mind when you break a system",
    "start": "556320",
    "end": "562880"
  },
  {
    "text": "into smaller and smaller Services is this is an architecture decision but we're bu building an",
    "start": "562880",
    "end": "569760"
  },
  {
    "text": "architecture made of a lot of pieces this is one piece this is a microservice this is a microservice as",
    "start": "569760",
    "end": "578640"
  },
  {
    "text": "architecture and that's a very important analogy to keep in mind because the sensitivity of the system as a whole to",
    "start": "580360",
    "end": "587440"
  },
  {
    "text": "any one piece has increased dramatically when we have those so pipes and and separated systems the worst they could",
    "start": "587440",
    "end": "594000"
  },
  {
    "text": "do was break themselves right um now because of this because of the inter",
    "start": "594000",
    "end": "599640"
  },
  {
    "text": "dependencies of services and now microservices we've evolved all kinds of systemic uh tools to allow us to work",
    "start": "599640",
    "end": "607200"
  },
  {
    "text": "this and keep things resilient keep things redundant or survivable and one of the big ones we've learned to use is",
    "start": "607200",
    "end": "613880"
  },
  {
    "text": "circuit breakers or their equivalence the JV is of a circuit breaker is not to randomly flip and",
    "start": "613880",
    "end": "620040"
  },
  {
    "text": "annoy people it's to prevent fires a circuit breaker in a physical world will flip before the wire in the",
    "start": "620040",
    "end": "627120"
  },
  {
    "text": "wall catches fire it flips at a lower rating than the one we actually",
    "start": "627120",
    "end": "632519"
  },
  {
    "text": "catastrophically fail in and and the analogy is apt when we look at services",
    "start": "632519",
    "end": "637760"
  },
  {
    "text": "and we protect them by with various either either circuit breakers or or",
    "start": "637760",
    "end": "643200"
  },
  {
    "text": "push back mechanisms or back pressure mechanisms invariably we watch them for their",
    "start": "643200",
    "end": "648680"
  },
  {
    "text": "behavior and when they start behaving not great but well before they melt down",
    "start": "648680",
    "end": "654360"
  },
  {
    "text": "we we start pushing back we prevent the Meltdown either by a total flip it's say it's gone you you have to do without it",
    "start": "654360",
    "end": "660959"
  },
  {
    "text": "for a while or or some other rate limiting one of the early libraries in",
    "start": "660959",
    "end": "666880"
  },
  {
    "text": "micro services that did this very well is hyrix from Netflix it integrates into",
    "start": "666880",
    "end": "673000"
  },
  {
    "text": "pretty much any service used as a library to communicate between services and since everything communicates through the library you have a common",
    "start": "673000",
    "end": "679160"
  },
  {
    "text": "mechanism for both monitoring and breaking circuits uh this is evolved and",
    "start": "679160",
    "end": "685160"
  },
  {
    "text": "we now have all kinds of service mesh environments um these are just a you that I've picked and I don't like to",
    "start": "685160",
    "end": "691279"
  },
  {
    "text": "pick favorites but they've been eating each other um so I'm not sure what the",
    "start": "691279",
    "end": "696639"
  },
  {
    "text": "future will be but but various forms of taking the services putting them together and making sure that in that",
    "start": "696639",
    "end": "703600"
  },
  {
    "text": "together there's a systemic way to monitor them protect them deal with the",
    "start": "703600",
    "end": "708639"
  },
  {
    "text": "with the lines between them that are not service by service custom the service could be very independent in its",
    "start": "708639",
    "end": "715200"
  },
  {
    "text": "decisions uh but the way we run the whole mesh is not intentionally so we",
    "start": "715200",
    "end": "721079"
  },
  {
    "text": "may have a metric system that collects the from The Individual Services and Connections in various ways we'll put",
    "start": "721079",
    "end": "728079"
  },
  {
    "text": "them together into dashboards but since there's so many of them we can't do the dashboards anymore",
    "start": "728079",
    "end": "734360"
  },
  {
    "text": "we start looking at visualization systems like this or like that to try and show the flows and and fundamentally",
    "start": "734360",
    "end": "740959"
  },
  {
    "text": "we're putting together a way we have put together as an industry a way to look at all these um we often look at a separ",
    "start": "740959",
    "end": "749160"
  },
  {
    "text": "operation of a data plane where the actual Services talk to each other in various ways and a control plane that",
    "start": "749160",
    "end": "755199"
  },
  {
    "text": "gets us the Telemetry and the control onto common systems from there so we're",
    "start": "755199",
    "end": "760240"
  },
  {
    "text": "building this and my job remember is to depress",
    "start": "760240",
    "end": "766120"
  },
  {
    "text": "you right this is me so before we go any further I do need",
    "start": "766120",
    "end": "773560"
  },
  {
    "text": "to give you a choice um we're going to talk about some unfortunate realities and and if you",
    "start": "773560",
    "end": "781160"
  },
  {
    "text": "don't want to hear them we could you could take the blue pill the door is right there you can leave you can keep",
    "start": "781160",
    "end": "786880"
  },
  {
    "text": "believing whatever it is you want to believe but if we do stay we're going to",
    "start": "786880",
    "end": "792240"
  },
  {
    "text": "take the red bill and we will see a little bit of how far the rabbit hole goes that's a bad misquote of the movie",
    "start": "792240",
    "end": "798360"
  },
  {
    "text": "but remember all I'm offering is the truth yeah okay so let's start",
    "start": "798360",
    "end": "806240"
  },
  {
    "text": "um we like to look at pretty charts here's a pretty chart uh this is a chart",
    "start": "806240",
    "end": "812880"
  },
  {
    "text": "of a service uh looking at it over a period of two hours with a few colored",
    "start": "812880",
    "end": "817959"
  },
  {
    "text": "lines uh the Top Line there is 95th percentile then we have the 90th the 75th the Midian and the 25 percen that's",
    "start": "817959",
    "end": "826399"
  },
  {
    "text": "a full two hours of looking at the service from data points and metrics that we got for that one service across",
    "start": "826399",
    "end": "832120"
  },
  {
    "text": "a wide spectrum of time anything catch your eye here that we should look at",
    "start": "832120",
    "end": "840160"
  },
  {
    "text": "a Spike spike there's a spike you're right and we should probably go look at that Spike cuz you know it went up and",
    "start": "840519",
    "end": "847199"
  },
  {
    "text": "and then that 90th per also went up the rest of them seem to have not been affected something affected the top 5",
    "start": "847199",
    "end": "853959"
  },
  {
    "text": "10% we might want to look at what happened there and this is a simple demonstration",
    "start": "853959",
    "end": "859639"
  },
  {
    "text": "of a completely useless exercise because there's nothing on this chart that's any use nothing at all this is a completely",
    "start": "859639",
    "end": "866079"
  },
  {
    "text": "useless chart I just wasted 20 seconds of your life y",
    "start": "866079",
    "end": "872279"
  },
  {
    "text": "um what's the problem here well there are a few but let's start with this one",
    "start": "872279",
    "end": "877360"
  },
  {
    "text": "that's the 95th percentile what's not on this chart what has been erased from this",
    "start": "877360",
    "end": "884040"
  },
  {
    "text": "chart so that you don't have to worry about it the bad 5% we don't want to hear",
    "start": "884040",
    "end": "890800"
  },
  {
    "text": "about bad things right this is the 95% things that were good the worst 5% have",
    "start": "890800",
    "end": "897440"
  },
  {
    "text": "been thrown out before we plotted a a single dot on the line uh this is a chart of the good",
    "start": "897440",
    "end": "903360"
  },
  {
    "text": "things this is the chart of don't worry everything's okay even though it's not",
    "start": "903360",
    "end": "910000"
  },
  {
    "text": "before that Spike happened 5% of things had to be terrible worse than that Spike",
    "start": "910000",
    "end": "915320"
  },
  {
    "text": "for you to even get to this point and nobody told you anything before or after",
    "start": "915320",
    "end": "921199"
  },
  {
    "text": "now this is a great chart for marketing it's a great chart for getting your bonus even though you didn't do your job",
    "start": "921199",
    "end": "927839"
  },
  {
    "text": "and those life skills are are also important but but in monitoring systems we kind of",
    "start": "927839",
    "end": "934279"
  },
  {
    "text": "want to see the bad things the job is to tell us where the bad things are not tell us everything's okay even though",
    "start": "934279",
    "end": "940120"
  },
  {
    "text": "it's not so we don't want monitoring systems that are in the business of doing that right but we do have them so",
    "start": "940120",
    "end": "948120"
  },
  {
    "text": "I I I actually showed a very similar chart here five years ago and somebody from the audience came out to me",
    "start": "948120",
    "end": "953720"
  },
  {
    "text": "afterwards and said I was texting with our guys and I said hey what's our 95th percentile and they got this exact chart",
    "start": "953720",
    "end": "961360"
  },
  {
    "text": "from New Relic with 95th percentile right there so he asked them what else do we know and they did have the 99th",
    "start": "961360",
    "end": "969160"
  },
  {
    "text": "percental so they sent it to them that yellow line is that yellow",
    "start": "969160",
    "end": "975199"
  },
  {
    "text": "line and in case you're wondering is there something hiding above it yeah by definition it's sort of data everything",
    "start": "975199",
    "end": "983040"
  },
  {
    "text": "that you didn't show is worse it's not some random thing and it's much worse I",
    "start": "983040",
    "end": "988120"
  },
  {
    "text": "mean it's much worse but this is a much better chart right this shows the 99th",
    "start": "988120",
    "end": "994120"
  },
  {
    "text": "percentile there's another 1% that nobody kept cuz why would you keep that",
    "start": "994120",
    "end": "999319"
  },
  {
    "text": "many numbers uh that's much worse than the blue line so I go around ranting about this",
    "start": "999319",
    "end": "1006920"
  },
  {
    "text": "one of the formats I use is something I call latency tip of the day I'm not as good as I should be about writing them",
    "start": "1006920",
    "end": "1012240"
  },
  {
    "text": "but the format is simple I tweet something like this and then I rant about my own tweet",
    "start": "1012240",
    "end": "1018959"
  },
  {
    "text": "a blog like this okay um it's very satisfying um cuz nobody will engage",
    "start": "1018959",
    "end": "1026280"
  },
  {
    "text": "with me otherwise um so so this chart comes out",
    "start": "1026280",
    "end": "1031640"
  },
  {
    "text": "of one of those Rants and and as you see it's not just one thing that's wrong with it I told you about one let's look",
    "start": "1031640",
    "end": "1038038"
  },
  {
    "text": "at another cool thing that's interesting about this chart so this chart has lines",
    "start": "1038039",
    "end": "1043079"
  },
  {
    "text": "the problem with lines is it's hard to talk about them somebody says calls you and says uh so what's the 95th",
    "start": "1043079",
    "end": "1049760"
  },
  {
    "text": "percentile behave like you don't say well it's like this you you're looking",
    "start": "1049760",
    "end": "1057200"
  },
  {
    "text": "for summaries you're looking for numbers and there are numbers there's a number here in fact that's the only number on",
    "start": "1057200",
    "end": "1062360"
  },
  {
    "text": "this chart that's associated with the 95th percentile the average of the 95th percentile in this 2 hours is 184",
    "start": "1062360",
    "end": "1069440"
  },
  {
    "text": "milliseconds that is a number it's the most likely number you're going to quote if you're asked about it because it's",
    "start": "1069440",
    "end": "1075159"
  },
  {
    "text": "right there in front of you what does it mean to average the",
    "start": "1075159",
    "end": "1080360"
  },
  {
    "text": "95th percentile over two hours I mean seriously what does this mean so let's do a little math or",
    "start": "1080360",
    "end": "1088159"
  },
  {
    "text": "demonstration of how silly the math would be it is hard to deduce things",
    "start": "1088159",
    "end": "1093600"
  },
  {
    "text": "from averages of percentiles but we can use a very intuitive percentile the 100th percentile the maximum which acts",
    "start": "1093600",
    "end": "1100640"
  },
  {
    "text": "like all other percentiles from a point of view of math and we could take an example data set here are 15 data points",
    "start": "1100640",
    "end": "1107320"
  },
  {
    "text": "imagine that was the maximum fr every 1 minute that we watched and when we average it guess",
    "start": "1107320",
    "end": "1113679"
  },
  {
    "text": "what number we're going to get well I picked the number right um so",
    "start": "1113679",
    "end": "1121480"
  },
  {
    "text": "the average of the maximum for 15 minutes is 42 great what does that mean anybody see",
    "start": "1121480",
    "end": "1129320"
  },
  {
    "text": "the number 42 in the data set or anything close to it is the maximum",
    "start": "1129320",
    "end": "1134400"
  },
  {
    "text": "anywhere close to 42 I mean the maximum is clearly 601 there",
    "start": "1134400",
    "end": "1139559"
  },
  {
    "text": "the average of a percentile is just complete nonsense there is no meaning at",
    "start": "1139559",
    "end": "1145559"
  },
  {
    "text": "all to it the only thing we actually know about it is it's going to be larger than the smallest value and smallest",
    "start": "1145559",
    "end": "1151080"
  },
  {
    "text": "than the largest value but that's it it's it's just a number it's a random",
    "start": "1151080",
    "end": "1156280"
  },
  {
    "text": "number but we have it on screen so we communicate it maybe we'll even watch it right maybe we'll even flip a circuit",
    "start": "1156280",
    "end": "1162760"
  },
  {
    "text": "breaker on it accidentally so if you want a tip you cannot average percentiles there is no",
    "start": "1162760",
    "end": "1169600"
  },
  {
    "text": "math that does that there is no remedy for this averages of percentile simply don't",
    "start": "1169600",
    "end": "1175480"
  },
  {
    "text": "work but we use them all the time so percentiles probably matter though what",
    "start": "1175480",
    "end": "1183320"
  },
  {
    "text": "percentiles do you guys watch let's some shout outs of what percentile in a monitoring system Somebody's Watching",
    "start": "1183320",
    "end": "1189679"
  },
  {
    "text": "anybody here watching the 94 percentile yeah 99th",
    "start": "1189679",
    "end": "1196400"
  },
  {
    "text": "percentile I see a few there uh 99.9",
    "start": "1196400",
    "end": "1201880"
  },
  {
    "text": "percentile no okay um do you guys know what flips your circuit",
    "start": "1201880",
    "end": "1208480"
  },
  {
    "text": "breakers it's typically in most of these systems seems to be the 99 or 99.9 but",
    "start": "1208480",
    "end": "1214480"
  },
  {
    "text": "but let's look a little bit at at what those indicate so 99th percenti is a",
    "start": "1214480",
    "end": "1219600"
  },
  {
    "text": "common area people look at and and we tend to think that that's pretty good coverage I mean 99% of 99% of the",
    "start": "1219600",
    "end": "1226840"
  },
  {
    "text": "spectrum and we don't really need Perfection we're building systems that can handle resilient uh failures and",
    "start": "1226840",
    "end": "1233400"
  },
  {
    "text": "such uh but let's look at what it means to have the 99th percenta what are the chances that an external interaction a",
    "start": "1233400",
    "end": "1240559"
  },
  {
    "text": "service calling you an API call a human clicking on a web page uh will",
    "start": "1240559",
    "end": "1245720"
  },
  {
    "text": "experience worse than the 99th percentile of one of these things a search engine node a key Value Store a",
    "start": "1245720",
    "end": "1252799"
  },
  {
    "text": "database node or service a CDN or your microservice being w watched",
    "start": "1252799",
    "end": "1258919"
  },
  {
    "text": "with 99% what are the chances that something external will see that remember you are part of a compound",
    "start": "1258919",
    "end": "1266200"
  },
  {
    "text": "system so I went to a few web pages a while back and and I actually counted",
    "start": "1266200",
    "end": "1272320"
  },
  {
    "text": "from my web browser after caching on a single click reload how many HTTP",
    "start": "1272320",
    "end": "1277840"
  },
  {
    "text": "requests the browser actually went and got these are the actual numbers for these websites and you can see they're",
    "start": "1277840",
    "end": "1283640"
  },
  {
    "text": "in the hundreds or in the mid 10 for the best cleanest um uh site there the",
    "start": "1283640",
    "end": "1289480"
  },
  {
    "text": "Google search page with no junk on it still has 31 resources there and each",
    "start": "1289480",
    "end": "1295440"
  },
  {
    "text": "one of those is a separate request a separate HTTP request and response these",
    "start": "1295440",
    "end": "1300760"
  },
  {
    "text": "are the chances of seeing worse than the 99th per of an HTTP request in any one",
    "start": "1300760",
    "end": "1306480"
  },
  {
    "text": "of those pages in a single click my chance of seeing worse than a 99",
    "start": "1306480",
    "end": "1311640"
  },
  {
    "text": "percentile is right there it's high it's more than half for almost everything the",
    "start": "1311640",
    "end": "1318320"
  },
  {
    "text": "only only one that's less than half is that Google search page where there's still a 26 and 1 12% chance that with",
    "start": "1318320",
    "end": "1325400"
  },
  {
    "text": "one click I'll hit worst than a 99 percal so the 99% of what you do that",
    "start": "1325400",
    "end": "1331640"
  },
  {
    "text": "little service you're watching is Amplified when people actually see it",
    "start": "1331640",
    "end": "1338240"
  },
  {
    "text": "now most of your loads are going to experience worse than this if we look at this from a overall user experience",
    "start": "1338240",
    "end": "1344720"
  },
  {
    "text": "perspective imagine a very short session of only five clicks imagine that each one of them is super clean and only 40",
    "start": "1344720",
    "end": "1352400"
  },
  {
    "text": "resources how many of the people interacting with whatever the service is will not see something worse than 95th",
    "start": "1352400",
    "end": "1360200"
  },
  {
    "text": "percenti in their session that's what the math works out to",
    "start": "1360200",
    "end": "1365600"
  },
  {
    "text": "be 99.997% of this clicks on the the",
    "start": "1365600",
    "end": "1371760"
  },
  {
    "text": "sessions on this site will experience worse than the 95th percentile of an HTTP request",
    "start": "1371760",
    "end": "1379559"
  },
  {
    "text": "so why are we looking at this number it is relevant to",
    "start": "1379559",
    "end": "1385000"
  },
  {
    "text": "nobody it tells you it's a number that everything will be worse than well there",
    "start": "1385000",
    "end": "1390400"
  },
  {
    "text": "are a few that aren't if you looked at the 99th percental it'll be a little better uh sorry the",
    "start": "1390400",
    "end": "1396520"
  },
  {
    "text": "39 you'll cover 82% of the population with it at least it's more than half at",
    "start": "1396520",
    "end": "1402039"
  },
  {
    "text": "least it's a majority but you still have 18% uncovered you could look at it backwards and ask yourself",
    "start": "1402039",
    "end": "1408880"
  },
  {
    "text": "what percentile do I need to watch of a service in order to ex to to gauge or",
    "start": "1408880",
    "end": "1414320"
  },
  {
    "text": "predict the percentile of the experience of an API call or a user clicking um and",
    "start": "1414320",
    "end": "1421520"
  },
  {
    "text": "and if you want to know about the 95 percentile user you need to watch roughly that with those numbers if you",
    "start": "1421520",
    "end": "1427520"
  },
  {
    "text": "want the 99th percentile user you need 4 and a half nines so you need to watch a lot of",
    "start": "1427520",
    "end": "1433360"
  },
  {
    "text": "nines if you want to look at percentiles you need to look deep into the nines when you look at individual little",
    "start": "1433360",
    "end": "1438559"
  },
  {
    "text": "things because one and two nines are just what everything is worse",
    "start": "1438559",
    "end": "1445080"
  },
  {
    "text": "than the median is also kind of a useless number for knowing how bad things are tells you how good things are",
    "start": "1445080",
    "end": "1453159"
  },
  {
    "text": "so we we do a lot of this let's look at numbers and put them together and a lot of this has to do with wishful thinking",
    "start": "1453159",
    "end": "1459799"
  },
  {
    "text": "we we learned we learned some math in school and we really really want the",
    "start": "1459799",
    "end": "1465159"
  },
  {
    "text": "data we have to fit into that pretty chart of bell curves that will just be",
    "start": "1465159",
    "end": "1470480"
  },
  {
    "text": "right and work for us um and in order to do that we we collect a bunch of numbers",
    "start": "1470480",
    "end": "1475880"
  },
  {
    "text": "a few data points summarize them with percentile standard deviations averages and that gives us a feel for the shape",
    "start": "1475880",
    "end": "1482200"
  },
  {
    "text": "of the data you know one number no but two maybe three maybe four will give me",
    "start": "1482200",
    "end": "1487799"
  },
  {
    "text": "a feel another way people often look at this is if I cover 99% of the spectrum how bad can the rest really be the",
    "start": "1487799",
    "end": "1495279"
  },
  {
    "text": "answer is actually worse than everything you've seen because you sort of the D and only looked at the the bottom 99 but",
    "start": "1495279",
    "end": "1501200"
  },
  {
    "text": "but it's intuitive to think it's pretty good I I have a good feel here so let's",
    "start": "1501200",
    "end": "1506679"
  },
  {
    "text": "take a look at a common technique for doing this I have run into this quite a bit we know from school that when we",
    "start": "1506679",
    "end": "1514120"
  },
  {
    "text": "have a normal distribution of numbers a good spread of them we can get the mean and then get a standard deviation and",
    "start": "1514120",
    "end": "1520440"
  },
  {
    "text": "that will let us project sort of the the curve and and we could do math for",
    "start": "1520440",
    "end": "1526320"
  },
  {
    "text": "example if the mean was this and the standard the deviation was that um then if you look up there within three three",
    "start": "1526320",
    "end": "1533640"
  },
  {
    "text": "standard deviations is where the 99.7% is if we want a estimate of the 99th percentile 99.9 we could just do",
    "start": "1533640",
    "end": "1541240"
  },
  {
    "text": "this math and people will often go through this mostly if you ever show somebody a",
    "start": "1541240",
    "end": "1547440"
  },
  {
    "text": "standard deviation number they assume that this math is appropriate because otherwise why would you show them the",
    "start": "1547440",
    "end": "1553880"
  },
  {
    "text": "number you're you're basically telling them you think the distribution can be",
    "start": "1553880",
    "end": "1559039"
  },
  {
    "text": "this number could be useful for that and unfortunately for responsiveness latency um all those kind of time from A",
    "start": "1559039",
    "end": "1567600"
  },
  {
    "text": "to B things this is always always wrong always I've been looking for years and",
    "start": "1567600",
    "end": "1573919"
  },
  {
    "text": "years for a data set where standard deviations will be actually mapped to real numbers and I've not found one",
    "start": "1573919",
    "end": "1580559"
  },
  {
    "text": "yet let's look at a real data set here's a system this is a system that people",
    "start": "1580559",
    "end": "1585919"
  },
  {
    "text": "had actually worked on for years and they've did done a great job you see how they flattened the response time across",
    "start": "1585919",
    "end": "1593159"
  },
  {
    "text": "a wide spectrum um all the way way past the 99 percentile we have a great great flat uh",
    "start": "1593159",
    "end": "1599840"
  },
  {
    "text": "response time but what do you think would happen if I scroll a little to the right and start looking at the",
    "start": "1599840",
    "end": "1606039"
  },
  {
    "text": "interesting percentiles well when I do that there's a little bump there I'm not kidding that's the little",
    "start": "1606039",
    "end": "1613120"
  },
  {
    "text": "bump because if I scroll to the right there's another bump in the fact Factor the ratio",
    "start": "1613120",
    "end": "1619480"
  },
  {
    "text": "between the high point here and the low the the sorry not the low point the 99 percentile point is a th000 to",
    "start": "1619480",
    "end": "1626760"
  },
  {
    "text": "one and this is not uncommon this is the norm this is a a low latency system this",
    "start": "1626760",
    "end": "1632480"
  },
  {
    "text": "is between 50 or 70 micr seconds and 50 milliseconds but it's the same when you",
    "start": "1632480",
    "end": "1637720"
  },
  {
    "text": "go between half a millisecond and 500 milliseconds or 5sec occasionally uh",
    "start": "1637720",
    "end": "1644200"
  },
  {
    "text": "when you have a spike now there are a few interesting things I've learned from from looking a lot of these at at a lot of these data",
    "start": "1644200",
    "end": "1651080"
  },
  {
    "text": "sets one of them is what I call percentile archaeology um when you look",
    "start": "1651080",
    "end": "1656960"
  },
  {
    "text": "at a mature system and you plot it like this and I've built tools to plot it like this you find a really interesting",
    "start": "1656960",
    "end": "1664640"
  },
  {
    "text": "Behavior the chart has these these bumps these are modes a good mode a bad mode",
    "start": "1664640",
    "end": "1672000"
  },
  {
    "text": "and a terrible mode and the bumps the lines Bend at whole numbers of",
    "start": "1672000",
    "end": "1679840"
  },
  {
    "text": "this is not an accident this is a real system I didn't make this data up why did percentile charts Bend at",
    "start": "1679840",
    "end": "1687279"
  },
  {
    "text": "whole numbers of nines what's the natural law here well it's really simple people look",
    "start": "1687279",
    "end": "1694240"
  },
  {
    "text": "at numbers of nines and if this is a mature system that's been out there for a couple years",
    "start": "1694240",
    "end": "1699600"
  },
  {
    "text": "people have shaped it to be this because somebody told them that they care about the 99.9% Al so they made it",
    "start": "1699600",
    "end": "1706799"
  },
  {
    "text": "good then somebody afterwards said hey the 49 is important too so they made that good and basically we keep sweeping",
    "start": "1706799",
    "end": "1713519"
  },
  {
    "text": "things under that proverbial carpet to the right if we look at the actual numbers",
    "start": "1713519",
    "end": "1719960"
  },
  {
    "text": "here those stats I gave you from before that's from this data set that is the mean and that's the standard deviation",
    "start": "1719960",
    "end": "1726200"
  },
  {
    "text": "and you know what that 99.9 percal is actually pretty pretty well predicted by the standard deviation however we have",
    "start": "1726200",
    "end": "1733679"
  },
  {
    "text": "this data point here the 5 9 of this data set is that number that number is",
    "start": "1733679",
    "end": "1741679"
  },
  {
    "text": "184 standard deviations away from the mean now if you go back to basic",
    "start": "1741679",
    "end": "1748519"
  },
  {
    "text": "statistics in a normal distribution the 59in are supposed to fall within 4 and A2 Sigma let's be generous it's not",
    "start": "1748519",
    "end": "1755480"
  },
  {
    "text": "really normal 7 8 Sigma but 184 Sigma the Big Bang would happen 17 times",
    "start": "1755480",
    "end": "1761880"
  },
  {
    "text": "before that point can happen in that data set in a normal distribution now there's nothing wrong with the data or",
    "start": "1761880",
    "end": "1768640"
  },
  {
    "text": "the math this is simply not a normal distribution and neither is any response",
    "start": "1768640",
    "end": "1774240"
  },
  {
    "text": "time chart that you will ever look at except for the ones you make up if you see one that does have a normal",
    "start": "1774240",
    "end": "1780519"
  },
  {
    "text": "distribution it's probably not real so here's my definition of averages",
    "start": "1780519",
    "end": "1787840"
  },
  {
    "text": "standard deviation falls into the same category they're very useful if what you want to do is ignore",
    "start": "1787840",
    "end": "1795120"
  },
  {
    "text": "reality okay so you know know why is it that we don't have all these nines right",
    "start": "1795120",
    "end": "1802480"
  },
  {
    "text": "yeah it's my fault I know um well there are a few key things here the first one",
    "start": "1802480",
    "end": "1807640"
  },
  {
    "text": "is we can't average percentiles hopefully you got that message and another one is when we have lots and",
    "start": "1807640",
    "end": "1813600"
  },
  {
    "text": "lots of data we have to summarize it and we tend to summarize it in short intervals and those short intervals",
    "start": "1813600",
    "end": "1819679"
  },
  {
    "text": "don't have enough data to produce a high number of nine so we have a lot of intervals in a 2hour",
    "start": "1819679",
    "end": "1825760"
  },
  {
    "text": "period we we have a lot of percentiles but because we can't average them there's no way to reconstruct the high",
    "start": "1825760",
    "end": "1831440"
  },
  {
    "text": "number of nines so we don't so we talk about small numbers of nines cuz that's the data we have if you really want to",
    "start": "1831440",
    "end": "1837840"
  },
  {
    "text": "address this I built a I call it a a yak shaving co-op",
    "start": "1837840",
    "end": "1843279"
  },
  {
    "text": "on GitHub it's HDR histogram I built the Java version there are seven other",
    "start": "1843279",
    "end": "1848360"
  },
  {
    "text": "language ports of this thing now and it'll give you a way to deal with data and percentiles and histograms and add",
    "start": "1848360",
    "end": "1854679"
  },
  {
    "text": "them and get the precise things and chart this great um you can do this and it does help and",
    "start": "1854679",
    "end": "1861120"
  },
  {
    "text": "I've been trying to convince the world to use it but as I said I've kind of given up for a few reasons one of them",
    "start": "1861120",
    "end": "1866919"
  },
  {
    "text": "is this problem I call this the coordinate admission problem and the coordinate",
    "start": "1866919",
    "end": "1872840"
  },
  {
    "text": "admission problem is something that started me down this field if been talking about the subject and I call it",
    "start": "1872840",
    "end": "1878120"
  },
  {
    "text": "an accidental conspiracy because I see it everywhere nobody means to do it but at first I noticed and I said that's",
    "start": "1878120",
    "end": "1885080"
  },
  {
    "text": "weird I wonder if this happens elsewhere so I looked around and everywhere I look there it is it's very rare not to see",
    "start": "1885080",
    "end": "1892159"
  },
  {
    "text": "it has anybody here noticed how I spell percentiles yeah coordinate admission is",
    "start": "1892159",
    "end": "1899279"
  },
  {
    "text": "the lie in percent lies it is why even if we do all that",
    "start": "1899279",
    "end": "1905120"
  },
  {
    "text": "right and even if you use my histogram your data is still wrong because it's wrong at the input level so",
    "start": "1905120",
    "end": "1912240"
  },
  {
    "text": "let's talk about how that happens the most common thing a monitoring system will do is mon monitor",
    "start": "1912240",
    "end": "1919480"
  },
  {
    "text": "time and and it will do that by taking measurement before and after",
    "start": "1919480",
    "end": "1925000"
  },
  {
    "text": "operations measuring how long things take and then put them in buckets for later processing summarization and",
    "start": "1925000",
    "end": "1932240"
  },
  {
    "text": "display this this is the actual code Cassandra uses for measuring the percentiles of its read operations for",
    "start": "1932240",
    "end": "1939600"
  },
  {
    "text": "example this is actually the code well it's a code from an old version the new version has that in about 300 lines of",
    "start": "1939600",
    "end": "1946279"
  },
  {
    "text": "code that do the same thing um but but that is truly the logic when",
    "start": "1946279",
    "end": "1951919"
  },
  {
    "text": "you get that data from an mxp that tells you what the percentile reads this is where it came",
    "start": "1951919",
    "end": "1957120"
  },
  {
    "text": "from and most of your monitoring systems are doing this um and what's the problem",
    "start": "1957120",
    "end": "1963360"
  },
  {
    "text": "here I mean this is measuring time the the problem is that when the system glitches the measurements glitch and and",
    "start": "1963360",
    "end": "1971279"
  },
  {
    "text": "as long as as we measure all the time everything's fine but if we stop we also",
    "start": "1971279",
    "end": "1976399"
  },
  {
    "text": "stop measuring and delays that are outside of the measurement things are",
    "start": "1976399",
    "end": "1981440"
  },
  {
    "text": "not being measured so one operation could be long the next operations have",
    "start": "1981440",
    "end": "1987080"
  },
  {
    "text": "been waiting will enter the measurement period after I stop freezing and I won't be blaming them for that um lad",
    "start": "1987080",
    "end": "1994240"
  },
  {
    "text": "generators also do this exact same problem I've managed to fix a few of them",
    "start": "1994240",
    "end": "1999519"
  },
  {
    "text": "wq2 Cassandra stress Gatling has fixed their stuff uh um radar gun and there a",
    "start": "1999519",
    "end": "2006760"
  },
  {
    "text": "few others but most load generators will still exhibit coordinate admission now",
    "start": "2006760",
    "end": "2011799"
  },
  {
    "text": "what what can this do to you how bad can it get let's let's run a quick hypothetical imagine a perfect",
    "start": "2011799",
    "end": "2018080"
  },
  {
    "text": "system truly perfect um 100 things a second being requested each one",
    "start": "2018080",
    "end": "2024080"
  },
  {
    "text": "perfectly answered in 1 millisecond and then we take this perfect system and intentionally freeze it for 100 seconds",
    "start": "2024080",
    "end": "2030120"
  },
  {
    "text": "contrl Z on the keyboard count 100 seconds and see what happens now I'm going to try to describe",
    "start": "2030120",
    "end": "2037960"
  },
  {
    "text": "this system to you honestly in a way that you would want your monitoring system to describe it uh we can do",
    "start": "2037960",
    "end": "2044480"
  },
  {
    "text": "simple math on averages even though they're not great on the left the average is 1 millisecond by definition",
    "start": "2044480",
    "end": "2050560"
  },
  {
    "text": "on the right the average is 50 seconds for the second 100 seconds why because",
    "start": "2050560",
    "end": "2055599"
  },
  {
    "text": "at the beginning it's 100 seconds at the end it's almost zero it averages to 50",
    "start": "2055599",
    "end": "2061000"
  },
  {
    "text": "if you randomly come in that period overall across 200 seconds we should see an average of 25 seconds the math is",
    "start": "2061000",
    "end": "2068118"
  },
  {
    "text": "pretty simple and here are the percentiles the median is great but then it gets really bad and the 49s obviously",
    "start": "2068119",
    "end": "2074679"
  },
  {
    "text": "are close to 100 seconds there are no tricks here this is this is what you would want somebody to tell you about a",
    "start": "2074679",
    "end": "2081560"
  },
  {
    "text": "system if this is how the system behaved okay so what does your",
    "start": "2081560",
    "end": "2087118"
  },
  {
    "text": "monitoring system tell you about this let's measure this system if we measure the system with the code I showed you",
    "start": "2087119",
    "end": "2094000"
  },
  {
    "text": "before we would get 10,000 results here and then we'll get this terrible",
    "start": "2094000",
    "end": "2099720"
  },
  {
    "text": "terrible result here and that's it that's our data that's what's in the bucket we will then summarize it put it",
    "start": "2099720",
    "end": "2106599"
  },
  {
    "text": "in time series databases plotted on charts show the 95th percentiles or whatever it is and if we did that math",
    "start": "2106599",
    "end": "2113520"
  },
  {
    "text": "we'll find that the average is a few milliseconds and that the 49 of this",
    "start": "2113520",
    "end": "2118800"
  },
  {
    "text": "system is perfect I don't know why anybody's complaining about it I mean",
    "start": "2118800",
    "end": "2124800"
  },
  {
    "text": "99.99% of stuff in the system is one millisecond what's the",
    "start": "2124800",
    "end": "2130560"
  },
  {
    "text": "problem now yeah this seems outrageous 100 seconds people would notice but now",
    "start": "2130560",
    "end": "2135599"
  },
  {
    "text": "imagine that this was half a second out of every second and everything in your monitoring systems that show top and CPU",
    "start": "2135599",
    "end": "2141839"
  },
  {
    "text": "show hey everything's busy and flowing for half a second out of every seconds we're doing nothing but the other half a",
    "start": "2141839",
    "end": "2147560"
  },
  {
    "text": "second is doing very well um so here's the numbers right so what's what's going on here why",
    "start": "2147560",
    "end": "2155040"
  },
  {
    "text": "is this so wrong well it's pretty simple if we measure 10,000 results in a 100 second",
    "start": "2155040",
    "end": "2162319"
  },
  {
    "text": "period we should be measuring 10,000 results in any 100 second period not",
    "start": "2162319",
    "end": "2167400"
  },
  {
    "text": "just in the good ones and if we actually spent the time to do that we would get all this data and if we did the math on",
    "start": "2167400",
    "end": "2173960"
  },
  {
    "text": "it we would get exactly the description we expect coordinate Omission is the act of eliminating the bad",
    "start": "2173960",
    "end": "2181440"
  },
  {
    "text": "results coordinated emission of data not random emission of data but we take the",
    "start": "2181440",
    "end": "2186480"
  },
  {
    "text": "bad stuff and we erase it and unfortunately our systems tend to do that immediately on their own now they",
    "start": "2186480",
    "end": "2195079"
  },
  {
    "text": "have a even more moning uh uh uh quality where they keep one bad result so you",
    "start": "2195079",
    "end": "2200720"
  },
  {
    "text": "think it's measuring right right is the max right yeah it is it's just everything in the middle was",
    "start": "2200720",
    "end": "2207680"
  },
  {
    "text": "censored and as a result we get that often people tell me okay okay I get it the measurements aren't exactly right",
    "start": "2207680",
    "end": "2214079"
  },
  {
    "text": "but my job is to make things better I don't need to know exact what the number is I just need to know which way it's",
    "start": "2214079",
    "end": "2220280"
  },
  {
    "text": "pointing if I'm improving the system or making it worse so let's dispel the notion you could do that with",
    "start": "2220280",
    "end": "2226960"
  },
  {
    "text": "percentiles I actually started from this point because we spent 3 months of engineering trying to fix a non-existent",
    "start": "2226960",
    "end": "2233440"
  },
  {
    "text": "problem we took a system that was acting like that we improved it and then we got bad results so we went to measure why",
    "start": "2233440",
    "end": "2239800"
  },
  {
    "text": "and we kept optimizing and we kept getting bad results imagine you took this system and you fixed it instead of",
    "start": "2239800",
    "end": "2246440"
  },
  {
    "text": "dropping 9 999 requests you answer every one of them pretty quickly in 5 milliseconds",
    "start": "2246440",
    "end": "2253119"
  },
  {
    "text": "not quite as b as good as before but hey you spent a month doing this and you",
    "start": "2253119",
    "end": "2258480"
  },
  {
    "text": "feel really good about it and then you measure so you get data and your data",
    "start": "2258480",
    "end": "2266119"
  },
  {
    "text": "shows you that you made the system five times worse at the",
    "start": "2266119",
    "end": "2271359"
  },
  {
    "text": "49 so we should probably revert this change go back to the much better system",
    "start": "2271359",
    "end": "2276680"
  },
  {
    "text": "we had before we put all this effort in because clearly its numbers were better people were much happier with it right",
    "start": "2276680",
    "end": "2283839"
  },
  {
    "text": "so it doesn't actually work now when we look at coordinate ad Mission it it basically has this effect of mixing up",
    "start": "2283839",
    "end": "2290440"
  },
  {
    "text": "response time and service time from queueing Theory service time and response time could be seen this way",
    "start": "2290440",
    "end": "2296200"
  },
  {
    "text": "service time is how long it takes to provide a service take your otter make the coffee give you the coffee response",
    "start": "2296200",
    "end": "2302640"
  },
  {
    "text": "time is what people actually experience nobody experiences service time",
    "start": "2302640",
    "end": "2308040"
  },
  {
    "text": "service time is a completely Naval gazing uh measurement you can't see it from the outside but coordinate emission",
    "start": "2308040",
    "end": "2316480"
  },
  {
    "text": "reports responses times using service time measurements and if we actually",
    "start": "2316480",
    "end": "2322040"
  },
  {
    "text": "look at the data they're separated by orders of magnitude in real systems that are not saturated that are not running",
    "start": "2322040",
    "end": "2328920"
  },
  {
    "text": "into trouble and if you look at the real world or the virtual world people react",
    "start": "2328920",
    "end": "2335400"
  },
  {
    "text": "to that when they see that in in real measurements once you give them tool to do it and this is where my red blue pill",
    "start": "2335400",
    "end": "2342599"
  },
  {
    "text": "comparison came from right um not mine okay so so it's pretty bad anybody",
    "start": "2342599",
    "end": "2350760"
  },
  {
    "text": "have had a an oit moment yet okay I see a few hands yep that's",
    "start": "2350760",
    "end": "2357200"
  },
  {
    "text": "what the talks about and and this is this is maddening like you know what are",
    "start": "2357200",
    "end": "2362440"
  },
  {
    "text": "we doing how can we even live with this I've been trying to fix this for years and it hasn't moved the needle you guys",
    "start": "2362440",
    "end": "2368400"
  },
  {
    "text": "still do it wrong um so frustration is",
    "start": "2368400",
    "end": "2373800"
  },
  {
    "text": "everywhere um and how does the world even work if everything is so",
    "start": "2373800",
    "end": "2380000"
  },
  {
    "text": "wrong well the good news is that it does work we have empirical evidence you guys",
    "start": "2380000",
    "end": "2386000"
  },
  {
    "text": "came to a conference which means your systems are not currently on fire um or at least you don't think they",
    "start": "2386000",
    "end": "2392680"
  },
  {
    "text": "are um but I do think that there's a rainbow at the end of this tunnel so you",
    "start": "2392680",
    "end": "2398920"
  },
  {
    "text": "know here's a rainbow at the end of a tunnel there's also light in there and",
    "start": "2398920",
    "end": "2404599"
  },
  {
    "text": "that rainbow is really that there is something we are doing that actually works in addition to all this other",
    "start": "2404599",
    "end": "2411560"
  },
  {
    "text": "stuff we do that probably doesn't so you know there is something that we actually do every one of you does that works for",
    "start": "2411560",
    "end": "2419680"
  },
  {
    "text": "your business and keeps it afloat and prevents it from melting down even though all the numbers are completely",
    "start": "2419680",
    "end": "2425720"
  },
  {
    "text": "wrong so what is is that something and and I have some theories about that if we look at a common flow devops",
    "start": "2425720",
    "end": "2434319"
  },
  {
    "text": "is a common one to look at now and focus on the monitoring part I think of monitoring a lot like you would",
    "start": "2434319",
    "end": "2441760"
  },
  {
    "text": "medicine but our monitoring is medicine at 3,000 BC and now imagine that you were running",
    "start": "2441760",
    "end": "2449800"
  },
  {
    "text": "around hunting and Gathering something and and you fell down a Ravine and you hurt your",
    "start": "2449800",
    "end": "2455440"
  },
  {
    "text": "knee 4,000 years ago 5,000 years ago and and now hey maybe you'll just die or",
    "start": "2455440",
    "end": "2462319"
  },
  {
    "text": "maybe you could just ride this out but most likely if you looked around there'd",
    "start": "2462319",
    "end": "2467440"
  },
  {
    "text": "be some sort of a local witch doctor or or Shaman or something you know your",
    "start": "2467440",
    "end": "2473280"
  },
  {
    "text": "doctor went to which doctor medicine and has you know they have a degree and they",
    "start": "2473280",
    "end": "2479040"
  },
  {
    "text": "probably look like this and you'll go there and they'll they'll sit you down and they'll do a",
    "start": "2479040",
    "end": "2484319"
  },
  {
    "text": "little dance and a chant and and and put some smoke around and you know maybe",
    "start": "2484319",
    "end": "2489400"
  },
  {
    "text": "they'll sacrifice a goat uh they might rub a few herbs",
    "start": "2489400",
    "end": "2494920"
  },
  {
    "text": "together and give them to you or put them on something and and and you know they might draw blood we have all kinds",
    "start": "2494920",
    "end": "2501680"
  },
  {
    "text": "of superstitions that live to this day about you know we monitoring the systems",
    "start": "2501680",
    "end": "2506720"
  },
  {
    "text": "and we go looks okay yeah and bad cat black cats R laundering systems are bad",
    "start": "2506720",
    "end": "2513960"
  },
  {
    "text": "right um but some thing here",
    "start": "2513960",
    "end": "2519160"
  },
  {
    "text": "worked not everything you do works there's a lot of tradition and most likely the witch Docker didn't even know",
    "start": "2519160",
    "end": "2525359"
  },
  {
    "text": "what of the things they do is the thing that works I think it probably was the herbs",
    "start": "2525359",
    "end": "2530920"
  },
  {
    "text": "but I don't know uh and the reality is we do stuff out of tradition that works",
    "start": "2530920",
    "end": "2537319"
  },
  {
    "text": "we evolve until the things in some work and we could keep doing that but we could probably look for what actually",
    "start": "2537319",
    "end": "2544240"
  },
  {
    "text": "works to do our job better and focus on that and maybe ignore the rest or try to spend less time on the rest so we know",
    "start": "2544240",
    "end": "2551440"
  },
  {
    "text": "that our job is to figure out if things are good or bad and and not ignore the bad right and if we wait until they're",
    "start": "2551440",
    "end": "2558880"
  },
  {
    "text": "really bad that's too late but what we could do is look at the grades in",
    "start": "2558880",
    "end": "2564319"
  },
  {
    "text": "between and there's you know it's okay but not perfectly happy and there's it's",
    "start": "2564319",
    "end": "2569920"
  },
  {
    "text": "not totally broken but people are calling you on it right now this is to",
    "start": "2569920",
    "end": "2575200"
  },
  {
    "text": "me the focus that like to look at this is",
    "start": "2575200",
    "end": "2582000"
  },
  {
    "text": "misery when things are miserable you know about them you don't need percentiles to tell you that timeouts",
    "start": "2582000",
    "end": "2588599"
  },
  {
    "text": "are happening you don't need percentiles to tell you that fun calls are angry and",
    "start": "2588599",
    "end": "2594440"
  },
  {
    "text": "that people are getting fired and that you're losing business that's not percentiles there are other things that",
    "start": "2594440",
    "end": "2599800"
  },
  {
    "text": "show you that and you can't avoid measuring the things that do that because if you did you wouldn't be in",
    "start": "2599800",
    "end": "2605119"
  },
  {
    "text": "business when you start off you might not know what to measure but you very quickly",
    "start": "2605119",
    "end": "2612720"
  },
  {
    "text": "learn and and when we look at these any of these these are all things that you",
    "start": "2612720",
    "end": "2617960"
  },
  {
    "text": "can count not percents but you can actually count them there are occurrences of bad things that happen",
    "start": "2617960",
    "end": "2625240"
  },
  {
    "text": "miserable things that happen and with miserable things the right question is",
    "start": "2625240",
    "end": "2630280"
  },
  {
    "text": "not to ask was my 99th percentile miserable what do you care",
    "start": "2630280",
    "end": "2637640"
  },
  {
    "text": "like was the 99th perc all 100 milliseconds that's a yes no question",
    "start": "2637640",
    "end": "2643079"
  },
  {
    "text": "right well what if it was below 100 millisecond does that mean everything's fine what if it wasn't does that mean",
    "start": "2643079",
    "end": "2649760"
  },
  {
    "text": "we're totally screwed um the right thing to say is how many bad things happen or what percent",
    "start": "2649760",
    "end": "2657319"
  },
  {
    "text": "of things are bad as opposed to what is the percentile X which gave me a number",
    "start": "2657319",
    "end": "2663280"
  },
  {
    "text": "and when we do that we can actually monitor the totality of it this is an",
    "start": "2663280",
    "end": "2668640"
  },
  {
    "text": "example of actually monitoring misery in production um people do this this is a",
    "start": "2668640",
    "end": "2674160"
  },
  {
    "text": "simple chart the green line is load this is a 7day load on a monitoring system",
    "start": "2674160",
    "end": "2679400"
  },
  {
    "text": "you can see the weekend at the beginning and then 5 days of the week that's the green line and the the Orange Line there",
    "start": "2679400",
    "end": "2685520"
  },
  {
    "text": "is simply the the success rate um the top 2% of success rate the xais level is",
    "start": "2685520",
    "end": "2692520"
  },
  {
    "text": "98% so you can see that success rate goes up and down with loads that that it",
    "start": "2692520",
    "end": "2697920"
  },
  {
    "text": "gets bad after a bunch of load it recovers when the load is low that's what it looks like and you're measuring",
    "start": "2697920",
    "end": "2703920"
  },
  {
    "text": "the actual Misery the actual bad things is when that thing dips now when you do",
    "start": "2703920",
    "end": "2709000"
  },
  {
    "text": "that you can focus on it and say I want to make it better and as you can see some bright engineer somewhere figured",
    "start": "2709000",
    "end": "2715079"
  },
  {
    "text": "out how to make it better on the right anybody want to guess what they did to make it",
    "start": "2715079",
    "end": "2720319"
  },
  {
    "text": "better not the guys who know they deployed Zing or",
    "start": "2720319",
    "end": "2728040"
  },
  {
    "text": "jvm he simply rolled rolled it onto a Cassandra cluster and everything got",
    "start": "2728040",
    "end": "2733599"
  },
  {
    "text": "better um that makes me really proud it's also why I like to measure misery because it's the thing we make better um",
    "start": "2733599",
    "end": "2740800"
  },
  {
    "text": "but that's not what this talk is about we're talking about the misery and how to watch it and when you look at it this",
    "start": "2740800",
    "end": "2747160"
  },
  {
    "text": "way you can actually see the effects of your work you can actually see if you made things better or worse you can see",
    "start": "2747160",
    "end": "2752920"
  },
  {
    "text": "the things that need to get better because business people can tell you that no it's not okay to fail to answer",
    "start": "2752920",
    "end": "2758960"
  },
  {
    "text": "1% of things when the load is high that's just not okay now when we measure that we'll be",
    "start": "2758960",
    "end": "2766559"
  },
  {
    "text": "looking at Individual Services maybe at the aggregate of all of them as well because you want to look at misery at",
    "start": "2766559",
    "end": "2771839"
  },
  {
    "text": "that level and remember the this thing will get more complex and we will be going through the whole",
    "start": "2771839",
    "end": "2777559"
  },
  {
    "text": "microarchitecture to full architecture level so when we measure misery we're",
    "start": "2777559",
    "end": "2783480"
  },
  {
    "text": "measuring the misery of one Domino and we probably also need to look at the system as a",
    "start": "2783480",
    "end": "2789040"
  },
  {
    "text": "whole so we have those metrics for each of the things we watch it and we could",
    "start": "2789040",
    "end": "2794200"
  },
  {
    "text": "say bad good above levels timeouts Etc but we have a lot of them to",
    "start": "2794200",
    "end": "2800599"
  },
  {
    "text": "watch um and the aggregate of that is where monitoring systems do or should",
    "start": "2800599",
    "end": "2807559"
  },
  {
    "text": "focus in fact the main thing is don't look at the green stuff you only should look at the miserable stuff that's where",
    "start": "2807559",
    "end": "2813400"
  },
  {
    "text": "the work is and and you should funnel it towards that so in summary as a message to you",
    "start": "2813400",
    "end": "2821160"
  },
  {
    "text": "guys I know this might be depressing and all the numbers are wrong but but don't",
    "start": "2821160",
    "end": "2826880"
  },
  {
    "text": "worry just love the misery watch the misery focus on the misery the misery is the part that works",
    "start": "2826880",
    "end": "2834359"
  },
  {
    "text": "the percentiles of the goat don't spend your time on them and",
    "start": "2834359",
    "end": "2839920"
  },
  {
    "text": "if you want one last tip of the day don't aim to make any one percental",
    "start": "2839920",
    "end": "2845200"
  },
  {
    "text": "accept acceptable simply make aim for a for an acceptable percent",
    "start": "2845200",
    "end": "2852319"
  },
  {
    "text": "of misery metrics and figure out what those misery metrics are for your business and just ask how much are we",
    "start": "2852319",
    "end": "2859559"
  },
  {
    "text": "allowed to have what should our goal be and when you ask in those terms you can actually monitor for",
    "start": "2859559",
    "end": "2866800"
  },
  {
    "text": "it so with that",
    "start": "2866800",
    "end": "2872280"
  },
  {
    "text": "um I I'll just leave you with that message and we'll take a few questions if we have time uh how are we on time we",
    "start": "2872280",
    "end": "2878960"
  },
  {
    "text": "have time good good excellent thank thank you thank you very much",
    "start": "2878960",
    "end": "2885078"
  }
]