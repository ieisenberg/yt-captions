[
  {
    "start": "0",
    "end": "49000"
  },
  {
    "text": "so yeah um so I work for Expedia group here in our in our Brisbane Office I",
    "start": "2320",
    "end": "8480"
  },
  {
    "text": "work for our Cloud Center of Excellence team uh focused on cloud Finance Cloud",
    "start": "8480",
    "end": "13679"
  },
  {
    "text": "cost optimization uh and I'm going to be talking a bit about finops what is finops our journey at Expedia group and",
    "start": "13679",
    "end": "22080"
  },
  {
    "text": "uh then I'll talk also about kubernetes and optimizing kubernetes in the cloud so a bit of a doubleheader talk today uh",
    "start": "22080",
    "end": "30400"
  },
  {
    "text": "if you don't know much about Expedia we've been around for a long time uh a lot of websites all around the world uh",
    "start": "30400",
    "end": "36920"
  },
  {
    "text": "so we power our significant portion of the online travel industry um thousands",
    "start": "36920",
    "end": "42719"
  },
  {
    "text": "of applications and hundreds of clusters just to give you a bit of an idea of our our",
    "start": "42719",
    "end": "48879"
  },
  {
    "text": "scale can I see a show of hands who here before coming to the conference had heard of finops",
    "start": "48879",
    "end": "55359"
  },
  {
    "start": "49000",
    "end": "360000"
  },
  {
    "text": "before a few anyone actually involved in a finops role or function couple yeah",
    "start": "55359",
    "end": "63960"
  },
  {
    "text": "great well we're going to dive in and and and talk a bit about it what is finops it's a combination of finance and",
    "start": "63960",
    "end": "70680"
  },
  {
    "text": "devops literally that's that's how it was defined it's a portmanto between the two you might hear it called Financial",
    "start": "70680",
    "end": "77000"
  },
  {
    "text": "operations but that's a misnomer uh that's actually a role within the finance industry and the term is overloaded can also be called uh Cloud",
    "start": "77000",
    "end": "85479"
  },
  {
    "text": "financial management or engineering or optimization Cloud cost management whatever you call it if you call it",
    "start": "85479",
    "end": "91640"
  },
  {
    "text": "phobs or something else it's all about managing cost in the cloud and it's essentially about collaboration between",
    "start": "91640",
    "end": "98320"
  },
  {
    "text": "business and engineering and it's about getting the most business value out of your Cloud",
    "start": "98320",
    "end": "104240"
  },
  {
    "text": "spend so it's not about reducing Cloud spend but tying Cloud spend to business",
    "start": "104240",
    "end": "109560"
  },
  {
    "text": "value and making the two of those work together if you want to know more about it this is the book to read the cloud",
    "start": "109560",
    "end": "116000"
  },
  {
    "text": "fops book the second edition came out about 12 months ago Jr storman one of",
    "start": "116000",
    "end": "121079"
  },
  {
    "text": "the authors there worked for one of the cloud cost vendors for a while so he has a lot of Knowledge from the industry and",
    "start": "121079",
    "end": "127799"
  },
  {
    "text": "Mike Fuller worked for Atlas And as part of their Cloud optimization team so they bring a lot of years of of history and",
    "start": "127799",
    "end": "134400"
  },
  {
    "text": "knowledge and the book's filled of uh you know filled with lots of Pearls of Wisdom and War Stories and it's a great",
    "start": "134400",
    "end": "141160"
  },
  {
    "text": "way to understand why we want to do uh fops and get business and Engineering working",
    "start": "141160",
    "end": "147640"
  },
  {
    "text": "together so fops we need it because we've got Cloud devops so imagine a",
    "start": "147640",
    "end": "153720"
  },
  {
    "text": "world without finops where you scale up quickly in the cloud you have faster time to Market you have lots of",
    "start": "153720",
    "end": "160640"
  },
  {
    "text": "microservices going out there you have lots of customer demand you have Revenue coming in which you've also got higher",
    "start": "160640",
    "end": "166599"
  },
  {
    "text": "cost and your 5-year capex planning model starts to fall down because they're looking at this and saying wait",
    "start": "166599",
    "end": "172920"
  },
  {
    "text": "a minute spend is no longer predictable I'm seeing these spikes in cost and where's all this money coming from where",
    "start": "172920",
    "end": "178319"
  },
  {
    "text": "is it going to you see anomalies in spend some of it's positive some of it's negative so the positive spikes like",
    "start": "178319",
    "end": "184799"
  },
  {
    "text": "there's sudden customer demand sudden surge in in usage uh and revenue but you",
    "start": "184799",
    "end": "190959"
  },
  {
    "text": "see the negative anomalies where there's a sudden surge because someone's left a you know an inference training model",
    "start": "190959",
    "end": "197480"
  },
  {
    "text": "some some sort of massive instance training for 4 days over the weekend and there's no way to correlate those costs",
    "start": "197480",
    "end": "204400"
  },
  {
    "text": "so they all look like negative anomalies we misinterpret that and we pull the pin",
    "start": "204400",
    "end": "209799"
  },
  {
    "text": "and we say we're going back to the data center reduce time to Market customer satisfaction reduces and reduce",
    "start": "209799",
    "end": "217159"
  },
  {
    "text": "Revenue so finops is about combining finance and devops so devops brings the",
    "start": "217159",
    "end": "222480"
  },
  {
    "text": "engineering the automation the collaboration this idea of fast feedback and reducing silos and from Finance we",
    "start": "222480",
    "end": "230760"
  },
  {
    "text": "bring all accounting principles and business value monetary responsibility",
    "start": "230760",
    "end": "236280"
  },
  {
    "text": "these two worlds don't have a lot of knowledge of each other so finance that brings some of that Financial control",
    "start": "236280",
    "end": "242840"
  },
  {
    "text": "and devops brings some of that ownership of you know this is how we spin up Cloud resources and this is how we do stuff in",
    "start": "242840",
    "end": "249280"
  },
  {
    "text": "the cloud then fops meets in the middle this idea of collaboration predictability and centralizing best",
    "start": "249280",
    "end": "255959"
  },
  {
    "text": "practices and sharing sharing the idea of ownership so about centralizing how",
    "start": "255959",
    "end": "261320"
  },
  {
    "text": "we're going to do Finance in our organization work with our",
    "start": "261320",
    "end": "267320"
  },
  {
    "text": "teams We compare the two they're both started as a conference conversation a sidebar conversation so Jr storman was",
    "start": "267320",
    "end": "274280"
  },
  {
    "text": "at a conference at a talk about devs Ops he said we should do finops we need finops so he took uh he took Jean Kim's",
    "start": "274280",
    "end": "282199"
  },
  {
    "text": "definition of devops and he kind of rewarded it as a movement that focuses on collaboration between devops and",
    "start": "282199",
    "end": "288680"
  },
  {
    "text": "finance managing Cloud spend lowering Union economics increasing cost efficiency and portab and profitability",
    "start": "288680",
    "end": "295840"
  },
  {
    "text": "of the cloud environment and it's actually well defined so devops was kind of a movement a loose thing you know we",
    "start": "295840",
    "end": "302800"
  },
  {
    "text": "it's kind of a feel it's we want to get Dev and Ops working Better Together whereas finops have been very purposeful",
    "start": "302800",
    "end": "308000"
  },
  {
    "text": "in going out and defining it they've set up a finops foundation so similar to the cncf it's part of the Linux Foundation",
    "start": "308000",
    "end": "316960"
  },
  {
    "text": "you can do training courses get yourself certified you can get a little LinkedIn",
    "start": "316960",
    "end": "322160"
  },
  {
    "text": "uh badge against your profile if you do a course like I have and there's a bunch of different courses you can do and",
    "start": "322160",
    "end": "328560"
  },
  {
    "text": "they're great because because they give you enough knowledge to know about finops and how to talk to other people",
    "start": "328560",
    "end": "334759"
  },
  {
    "text": "about it and fops teams are actually encouraged so devops was always there's",
    "start": "334759",
    "end": "339840"
  },
  {
    "text": "no such thing as a devops team you're creating another Silo in between two silos whereas finops they encourage",
    "start": "339840",
    "end": "346120"
  },
  {
    "text": "having a centralized team to uh you know to to to try and come up with these best practices and spread them across across",
    "start": "346120",
    "end": "352880"
  },
  {
    "text": "the organization it might be a virtual team that's staffed by different people across different parts of the York but",
    "start": "352880",
    "end": "358840"
  },
  {
    "text": "the idea of centralizing it basically you can think of cloud cost as usage",
    "start": "358840",
    "end": "364440"
  },
  {
    "start": "360000",
    "end": "624000"
  },
  {
    "text": "times rate and you can think of chargebacks so when we got all of our",
    "start": "364440",
    "end": "369639"
  },
  {
    "text": "Cloud cost how do we attribute that to the different people the different users in our organization can consider that as",
    "start": "369639",
    "end": "376759"
  },
  {
    "text": "the cost divided by the usage per application there's a one pager that",
    "start": "376759",
    "end": "383639"
  },
  {
    "text": "talks you through the whole framework that's really sort of succinctly defines it it's good to know there's five",
    "start": "383639",
    "end": "389800"
  },
  {
    "text": "different personas so you can get training as any of these personas and know enough about what your persona needs to know um and then also enough",
    "start": "389800",
    "end": "397919"
  },
  {
    "text": "about the other persona so you can have a decent conversation with them the six well-defined domains that you can dive",
    "start": "397919",
    "end": "404759"
  },
  {
    "text": "deep and depending on where you are and in your journey you'll hear them talk about crawl walk and run are you at the",
    "start": "404759",
    "end": "410720"
  },
  {
    "text": "crawl phase or the walk phase or the Run phase of your journey that's pretty kind of straightforward and then there the",
    "start": "410720",
    "end": "417840"
  },
  {
    "text": "life cycle has three different phases inform optimize and operate and first",
    "start": "417840",
    "end": "423560"
  },
  {
    "text": "stage in is about visibility and allocation so I.E tagging all right the",
    "start": "423560",
    "end": "430199"
  },
  {
    "text": "basic kind of day one thing is do you tag your resources and can you allocate the cost of your resources then optimize",
    "start": "430199",
    "end": "437639"
  },
  {
    "text": "is about well let's look at the rates that we're paying to our Cloud providers and let's look at the usage can we",
    "start": "437639",
    "end": "443599"
  },
  {
    "text": "optimize any of these and what's some ideas that we can come up with based on our usage and our predicted going",
    "start": "443599",
    "end": "450000"
  },
  {
    "text": "forward then you take those ideas from the optimized phase you bring them into the operate phase where you you enact",
    "start": "450000",
    "end": "457599"
  },
  {
    "text": "those uh yeah those ideas that you've come up with and bring that back into the life cycle with continuous",
    "start": "457599",
    "end": "464840"
  },
  {
    "text": "Improvement so the last chapter of the book says the Nirvana of finops is making decisions on the value of cloud",
    "start": "464840",
    "end": "471280"
  },
  {
    "text": "spend no matter what method you use to measure the value and compare it so again it's about Cloud span decisions",
    "start": "471280",
    "end": "479039"
  },
  {
    "text": "are are driven by how we measure business value versus cost so if you",
    "start": "479039",
    "end": "486280"
  },
  {
    "text": "are doing something in the cloud and you want to get some visibility into it",
    "start": "486280",
    "end": "491599"
  },
  {
    "text": "you're going to need some software some tools you're going to need something to help you out on this journey so should you buy or build a platform and when",
    "start": "491599",
    "end": "499240"
  },
  {
    "text": "we're talking at scale big cloud Spenders are building their own their own tools so the um finops Foundation",
    "start": "499240",
    "end": "505919"
  },
  {
    "text": "panel discussion here so that the big cloud Spenders of $100 million a year or",
    "start": "505919",
    "end": "511319"
  },
  {
    "text": "end up building building their own tools and there's a few reasons for that um regardless of where you are you probably",
    "start": "511319",
    "end": "518120"
  },
  {
    "text": "want to start your journey with just the free tools that your cloud provider gives you and then you might explore some sort of vendor s solution to give",
    "start": "518120",
    "end": "525560"
  },
  {
    "text": "you some insights and give you some ideas on on how to connect the cost and and with with allocation maybe some open",
    "start": "525560",
    "end": "532760"
  },
  {
    "text": "source Solutions like Cloud custodian uh but then you might progress to building your own if you need to",
    "start": "532760",
    "end": "538279"
  },
  {
    "text": "mature Beyond what's what's available there or a combination of uh mix mix of those last two approaches and",
    "start": "538279",
    "end": "544760"
  },
  {
    "text": "customizing what you can get from open source and vender Solutions so the argument then for berse",
    "start": "544760",
    "end": "551200"
  },
  {
    "text": "is build if you're at that big scale when you build you can align the data and the reporting with your or with your",
    "start": "551200",
    "end": "557680"
  },
  {
    "text": "financial requirements you can then have the freedom to innovate and uh decide",
    "start": "557680",
    "end": "562800"
  },
  {
    "text": "what features you need and you can get them built into your own your own solution uh and then with compliance so",
    "start": "562800",
    "end": "569440"
  },
  {
    "text": "you can decide how you're going to comply with security and governance and build that into your into your product",
    "start": "569440",
    "end": "574920"
  },
  {
    "text": "and not wait on a vendor for that and at scale it is actually can be actually cheaper to to yeah build your own",
    "start": "574920",
    "end": "581959"
  },
  {
    "text": "platform uh even considering the total cost of the cloud resources you need the engineers you need to run it can be",
    "start": "581959",
    "end": "588640"
  },
  {
    "text": "cheaper than some of the vendor Solutions the argument for buy is you get a bunch of features out of the box",
    "start": "588640",
    "end": "594079"
  },
  {
    "text": "you also get access to Industry so they could be good to sort of seed your your journey with with uh some great",
    "start": "594079",
    "end": "600399"
  },
  {
    "text": "knowledge and they absorb the burden of a lot of the overhead of what goes into maintaining the",
    "start": "600399",
    "end": "606560"
  },
  {
    "text": "platform so if you're going to build your own go in eyes open there's a lot of data to process we're talking",
    "start": "606560",
    "end": "612240"
  },
  {
    "text": "sometimes billions of line items per month to process and you need to keep up to date with changes in that the cloud",
    "start": "612240",
    "end": "619000"
  },
  {
    "text": "billing data and you'll need a team of Engineers to help uh keep it running so",
    "start": "619000",
    "end": "624480"
  },
  {
    "start": "624000",
    "end": "1094000"
  },
  {
    "text": "our journey that we went on if we go back 10 years microservices were all the rage uh Ops Cloud native woohoo data",
    "start": "624480",
    "end": "630959"
  },
  {
    "text": "center is dead let's go deploy to the cloud everybody OMG cloud is expensive",
    "start": "630959",
    "end": "636920"
  },
  {
    "text": "where's all this money going who created all this stuff okay let's get some spreadsheets let's try and work out",
    "start": "636920",
    "end": "643079"
  },
  {
    "text": "which account belongs to who okay and now we need to mature a bit beyond that it's a bit unmanageable spreadsheets are",
    "start": "643079",
    "end": "650320"
  },
  {
    "text": "yeah getting out of hand we're going to en Force everyone has to tag their resources put an application tag on",
    "start": "650320",
    "end": "656040"
  },
  {
    "text": "there put a team tag on there so we know who owns what we uh did use one of the vendor tools to",
    "start": "656040",
    "end": "662399"
  },
  {
    "text": "help seed visibility but we did build our own tools and two of our separate brands at the time went on two parallel",
    "start": "662399",
    "end": "668519"
  },
  {
    "text": "Journeys one brand used kind of a devops approach where they uh they got some",
    "start": "668519",
    "end": "673760"
  },
  {
    "text": "Consultants to come and help and we used Dynamo red shift elastic Cabana to build",
    "start": "673760",
    "end": "679360"
  },
  {
    "text": "out this solution the other brand was using a big data approach so they brought in so they used S3 And Hive and",
    "start": "679360",
    "end": "687320"
  },
  {
    "text": "Spark and uh that that solution ended up being a lot more scalable cheaper to run",
    "start": "687320",
    "end": "693160"
  },
  {
    "text": "much more flexible and much more powerful so we ended up going with that approach and bringing in the the",
    "start": "693160",
    "end": "698240"
  },
  {
    "text": "visualization layer and layering it on top from the other other approach wait a minute RoR all right who owns this stuff",
    "start": "698240",
    "end": "705519"
  },
  {
    "text": "now okay application tag and Team tag no longer correlate they're no longer accurate all right well let's decouple",
    "start": "705519",
    "end": "712079"
  },
  {
    "text": "these bits of metadata and Define a metadata service where application is the primary key just put apption on your",
    "start": "712079",
    "end": "719600"
  },
  {
    "text": "resource and we'll decouple all the other metad data so your your team your email or",
    "start": "719600",
    "end": "725959"
  },
  {
    "text": "connectivity uh all the stuff all the data about your application decouple that so you can update that separately",
    "start": "725959",
    "end": "732600"
  },
  {
    "text": "to the to the cloud resources we built a recommendations engine called cwatch it was kind of a",
    "start": "732600",
    "end": "739360"
  },
  {
    "text": "forerunner to aws's compute Optimizer every night it would generate recommendations for ec2 instances EBS",
    "start": "739360",
    "end": "746839"
  },
  {
    "text": "RDS ECS out those recommendations uh to the to the",
    "start": "746839",
    "end": "752480"
  },
  {
    "text": "teams well teamx you're spending a lot of money you're spending hundreds of thousands of Dollar on ec2 what's going",
    "start": "752480",
    "end": "758440"
  },
  {
    "text": "on here actually we're building a platform we've got thousands of customers and these are the people that are actually spending the money okay now",
    "start": "758440",
    "end": "766360"
  },
  {
    "text": "we need to do now we need to find a way to do chargebacks of platforms so a way to separate out this is the cost for the",
    "start": "766360",
    "end": "774040"
  },
  {
    "text": "platform actually gets attributed to the actual users deployed deploy to the",
    "start": "774040",
    "end": "779680"
  },
  {
    "text": "platform what about SAS licensing costs so your big data your observability",
    "start": "779680",
    "end": "784800"
  },
  {
    "text": "tools your different SAS tools that's also basically usage times rate can we",
    "start": "784800",
    "end": "790160"
  },
  {
    "text": "charge that out to the different teams so we built L&M chargebacks as part of the platform too where we're going now what we're",
    "start": "790160",
    "end": "797360"
  },
  {
    "text": "looking at is unit economics that idea of tying the cost to the business value",
    "start": "797360",
    "end": "803360"
  },
  {
    "text": "realtime dashboard so it's really powerful the book talks about this idea of the Prius effect if you're driving a",
    "start": "803360",
    "end": "809360"
  },
  {
    "text": "Prius you can see how much are you using battery versus petrol and that changes that live feedback changes the way that",
    "start": "809360",
    "end": "816120"
  },
  {
    "text": "you you drive and if we can give teams uh real time feedback into this is how",
    "start": "816120",
    "end": "821160"
  },
  {
    "text": "many pods you're currently running since your deployment and you can see the number of resources you're using real",
    "start": "821160",
    "end": "826519"
  },
  {
    "text": "time that can actually change behavior and and and bring that back into optimizing the",
    "start": "826519",
    "end": "832839"
  },
  {
    "text": "spend uh and then sub platform chargebacks to team X is running a platform team Y is also running a",
    "start": "832839",
    "end": "839040"
  },
  {
    "text": "platform on top of tx's platform and then they've got customers that they want to charge back to so charge backs",
    "start": "839040",
    "end": "844519"
  },
  {
    "text": "all the way down so over the years then we've collected a bunch of features that we've",
    "start": "844519",
    "end": "849639"
  },
  {
    "text": "built uh into into our platform mentioned chargebacks multic Cloud",
    "start": "849639",
    "end": "855839"
  },
  {
    "text": "adding in organizational hierarchy alignment so your or chart bringing that in denormalizing all the data you get",
    "start": "855839",
    "end": "861600"
  },
  {
    "text": "from the cloud by adding in all of the organizational hierarchy data so you can slice and dice by different levels then",
    "start": "861600",
    "end": "869320"
  },
  {
    "text": "the cloud provider data will invariably have different types of issues so ec2",
    "start": "869320",
    "end": "874560"
  },
  {
    "text": "line items often come without instance types which is important to know so we'll fix that some resources you can't",
    "start": "874560",
    "end": "881000"
  },
  {
    "text": "actually tag so we'll work out well how do we charge that back to like the account owner or or whatever budgeting",
    "start": "881000",
    "end": "887320"
  },
  {
    "text": "and predictions so every month teams come in they set their update their budgets for how much they're going to",
    "start": "887320",
    "end": "892880"
  },
  {
    "text": "spend uh and we help out with uh generating predictions with with machine learning and aom reporting so that when",
    "start": "892880",
    "end": "900360"
  },
  {
    "text": "there is a sudden spike in cost we can send an email saying hey wait you spent a whole bunch more money than than you",
    "start": "900360",
    "end": "906199"
  },
  {
    "text": "normally do or you've exceeded your budget threshold and they can get that feedback much quicker and rather than",
    "start": "906199",
    "end": "911800"
  },
  {
    "text": "the bill shock at the end of the the month or or quarter all right I'm going to dive deep",
    "start": "911800",
    "end": "917320"
  },
  {
    "text": "a little into our Pipeline and talk about how we build this Tech technically and like most pipelines it starts with",
    "start": "917320",
    "end": "923279"
  },
  {
    "text": "input it has processing in the middle and it has output it all starts with the c the cost and usage report from AWS it",
    "start": "923279",
    "end": "931720"
  },
  {
    "text": "comes in we push that in to S3 using spark And Hive and we have a data Lake",
    "start": "931720",
    "end": "938120"
  },
  {
    "text": "which is a massive set of tables of all the raw data we get plus some intermediate tables plus some very rich",
    "start": "938120",
    "end": "944440"
  },
  {
    "text": "data products uh so we mix in all the application metadata the organizational metadata and each of the platforms that",
    "start": "944440",
    "end": "951639"
  },
  {
    "text": "on boards they have their own little microservices that every hour are pushing all of the usage of their tenant",
    "start": "951639",
    "end": "959759"
  },
  {
    "text": "uh as data into the platform usage API and we have the predictions API and",
    "start": "959759",
    "end": "965920"
  },
  {
    "text": "then on the output side various different dashboards you can run ad hoc",
    "start": "965920",
    "end": "971240"
  },
  {
    "text": "SQL queries get powerful month on month year on year kind of histories and uh",
    "start": "971240",
    "end": "977360"
  },
  {
    "text": "comparisons pushing application cost to our developer portal on on Backstage and",
    "start": "977360",
    "end": "982959"
  },
  {
    "text": "then that Cabana visualization layer where you can do that slicing and dicing by different parts of different sorts of",
    "start": "982959",
    "end": "989480"
  },
  {
    "text": "metad data the personas that get involved so on the left hand side here we've got our application engineer",
    "start": "989480",
    "end": "994800"
  },
  {
    "text": "they'll be the ones creating applications or our updating app metadata using backstage our different",
    "start": "994800",
    "end": "1001000"
  },
  {
    "text": "finops folk will get involved in the governance of the org metadata kind of level managers or senior Engineers will",
    "start": "1001000",
    "end": "1007120"
  },
  {
    "text": "be uploading predictions and then platform Engineers they actually have a fairly intricate role in working out",
    "start": "1007120",
    "end": "1013880"
  },
  {
    "text": "what was all the usage for the last hour uh for our platform and how we going to",
    "start": "1013880",
    "end": "1019440"
  },
  {
    "text": "work out how much you know CPU or memory or how many tables or streams or whatever were used and we'll push that",
    "start": "1019440",
    "end": "1025678"
  },
  {
    "text": "into the API and then it's all driven by our phop starter Engineers who get",
    "start": "1025679",
    "end": "1031038"
  },
  {
    "text": "involved in all the core bits of the pipeline and uh the",
    "start": "1031039",
    "end": "1036400"
  },
  {
    "text": "doic for the outputs your finops your managers your app Engineers they all get",
    "start": "1036400",
    "end": "1041480"
  },
  {
    "text": "involved in different data products that that end up uh on the right hand side there so the pipeline process then to",
    "start": "1041480",
    "end": "1049640"
  },
  {
    "text": "actually create all of this starts with the ingestion phase bringing in that CI",
    "start": "1049640",
    "end": "1055200"
  },
  {
    "text": "report which can be billions of line items per month every day we read in a whole month's worth of data and we",
    "start": "1055200",
    "end": "1060960"
  },
  {
    "text": "refresh the the entire data uh data set uh we cleanse it so fixing instance type",
    "start": "1060960",
    "end": "1067720"
  },
  {
    "text": "and other other data then we enrich it so we add in the custom pricing that",
    "start": "1067720",
    "end": "1072840"
  },
  {
    "text": "amortization the metad data the platform chargebacks and then we aggregate it down to that appli application Level so",
    "start": "1072840",
    "end": "1079280"
  },
  {
    "text": "application is like our our primary key you want to see all those all those line items aggregated to the level that we",
    "start": "1079280",
    "end": "1085360"
  },
  {
    "text": "care about and reconciliations about fixing data Integrity issues doing auditing against the the invoice",
    "start": "1085360",
    "end": "1093280"
  },
  {
    "text": "Etc okay so how do we do then the chargebacks for the platforms that run",
    "start": "1093280",
    "end": "1098919"
  },
  {
    "start": "1094000",
    "end": "1240000"
  },
  {
    "text": "on top of uh our infrastructure so I mentioned charge back is just take the",
    "start": "1098919",
    "end": "1104280"
  },
  {
    "text": "cost and divide it by usage but it's not quite that simple the challenge here is",
    "start": "1104280",
    "end": "1109360"
  },
  {
    "text": "that for any let's say we're running a containerized cluster for any given day any given hour there'll be instances",
    "start": "1109360",
    "end": "1116400"
  },
  {
    "text": "coming and going there'll be pods coming and going so there can actually be a lot of fluctuation in in the cost if we just",
    "start": "1116400",
    "end": "1122480"
  },
  {
    "text": "expose that to users uh which complicates you know how much does my app cost now compared to to uh yesterday",
    "start": "1122480",
    "end": "1129480"
  },
  {
    "text": "and why am I seeing these changes it would be similar if Amazon kind of exposed you to the actual cost of how",
    "start": "1129480",
    "end": "1135320"
  },
  {
    "text": "many actual physical VMS we're running in a data center instead they set a a um",
    "start": "1135320",
    "end": "1140480"
  },
  {
    "text": "an instance price uh you know price per instance type so that you've got some idea of how much money you're going to",
    "start": "1140480",
    "end": "1146679"
  },
  {
    "text": "spend on different instances so the solution here is to build out a consistent unit rate for the resources",
    "start": "1146679",
    "end": "1152320"
  },
  {
    "text": "that you're charging for so the prerequisites there you need to work out for your platform how are you going to",
    "start": "1152320",
    "end": "1158039"
  },
  {
    "text": "break it down so an example a very simple idea is with if you're running containerized platform just charge for",
    "start": "1158039",
    "end": "1163919"
  },
  {
    "text": "CPU and memory I'm going to wait those 50/50 could add in GPU storage and",
    "start": "1163919",
    "end": "1169039"
  },
  {
    "text": "networking but if those are a smaller percentage of the cost then it's might not be worth all the effort that's that",
    "start": "1169039",
    "end": "1175440"
  },
  {
    "text": "goes into actually tracking down all of those prices and all of those usage and and attributing it so we work out what's",
    "start": "1175440",
    "end": "1183240"
  },
  {
    "text": "what we call a platform compute unit which is a tenant proportion of the total capacity of the",
    "start": "1183240",
    "end": "1188919"
  },
  {
    "text": "cluster which is basically CPU plus memory but given any instance type",
    "start": "1188919",
    "end": "1194600"
  },
  {
    "text": "you're going to have more gibibytes of ram than you are going to have Calles and so we work out our waiting and the",
    "start": "1194600",
    "end": "1200840"
  },
  {
    "text": "industry standards here Amazon uh fargate they use a factor of One Core to",
    "start": "1200840",
    "end": "1207320"
  },
  {
    "text": "9 GB and cast AI us a factor of 1 to 7.3 we base it on the instance types and the",
    "start": "1207320",
    "end": "1213760"
  },
  {
    "text": "ratio of CPU to memory and that's how we we will figure out the the CPU waiting and then you can calculate the unit rate",
    "start": "1213760",
    "end": "1220559"
  },
  {
    "text": "which you add up the total cost of the platform and divide that by all of the PCU so all the CPU and memory that's",
    "start": "1220559",
    "end": "1226640"
  },
  {
    "text": "been submitted for all the applications that gives you the unit rate and then you can charge that back to your tenants",
    "start": "1226640",
    "end": "1232360"
  },
  {
    "text": "by multiplying their PCU their CPU and memory for the hour by by the unit",
    "start": "1232360",
    "end": "1238799"
  },
  {
    "text": "rate okay so we're going to switch now to the next topic kubernetes optimization and in this I'm going to be",
    "start": "1238799",
    "end": "1244919"
  },
  {
    "start": "1240000",
    "end": "1570000"
  },
  {
    "text": "talking a bit about uh mostly AWS and eks and that's by far the most popular",
    "start": "1244919",
    "end": "1250280"
  },
  {
    "text": "across the industry ways of deploying kubernetes uh but all the things that I'm going to talk here they will apply",
    "start": "1250280",
    "end": "1256080"
  },
  {
    "text": "to other other platforms as well uh and this is all based on on on my research",
    "start": "1256080",
    "end": "1261320"
  },
  {
    "text": "my my most recent research what was our journey to kind of get to where we are now we go back",
    "start": "1261320",
    "end": "1266919"
  },
  {
    "text": "almost 10 years different parallel Brands within Expedia that weren't really uh merged technically going back",
    "start": "1266919",
    "end": "1275039"
  },
  {
    "text": "uh to 2015 we had a big amazon ECS uh deployment which still poers a lot of",
    "start": "1275039",
    "end": "1281240"
  },
  {
    "text": "production today it's one of our Legacy platforms another brand was using msos and Nomad another brand was using",
    "start": "1281240",
    "end": "1286799"
  },
  {
    "text": "kubernetes on ec2 even before eks in 2020 Co hit the travel industry so that",
    "start": "1286799",
    "end": "1292960"
  },
  {
    "text": "gave us a lot of time to look inwardly and start to look at consolidating all of our Brands all of our Stacks all of",
    "start": "1292960",
    "end": "1300200"
  },
  {
    "text": "our technology and really streamlining things so we built what we call the runtime compute platform which is",
    "start": "1300200",
    "end": "1306159"
  },
  {
    "text": "running on eks and you can bring your own home chart and make it as complex as you want and you've got the freedom to",
    "start": "1306159",
    "end": "1312159"
  },
  {
    "text": "deploy however you want uh but then we've also got the pave Road experience",
    "start": "1312159",
    "end": "1317279"
  },
  {
    "text": "so with that you get the integration with Secrets management and observability service mesh",
    "start": "1317279",
    "end": "1324320"
  },
  {
    "text": "Etc we use aws's cluster order scaler and Carpenter to help out with cluster",
    "start": "1324320",
    "end": "1331400"
  },
  {
    "text": "optimization and uh now we're looking at this idea of autonomous right sizing for the workloads so we're going to talk",
    "start": "1331400",
    "end": "1337720"
  },
  {
    "text": "about these different strategies involved here open cost defines a specification on how to look at",
    "start": "1337720",
    "end": "1344120"
  },
  {
    "text": "chargebacks and charging uh for your kubernetes platforms they split it into three main costs you got your resource",
    "start": "1344120",
    "end": "1351000"
  },
  {
    "text": "allocation costs and this is how much does it cost these are the fixed costs whether you use them or not so your",
    "start": "1351000",
    "end": "1357120"
  },
  {
    "text": "instances your uh load balances whether you're using them or not you're paying for them so you allocate you still pay",
    "start": "1357120",
    "end": "1363760"
  },
  {
    "text": "for them usage is per per like if you say it's Network usage you pay per bite",
    "start": "1363760",
    "end": "1369240"
  },
  {
    "text": "you pay by the usage overhead costs will be your management fees like your eks",
    "start": "1369240",
    "end": "1374279"
  },
  {
    "text": "fees for for example another way they split it down is looking at workload costs versus idle costs so workload",
    "start": "1374279",
    "end": "1380600"
  },
  {
    "text": "costs is all the pods that have been deployed how much CPU and memory do they actually uh Reserve as a as a you as a",
    "start": "1380600",
    "end": "1388279"
  },
  {
    "text": "minimum reservation and idle cost is all the stuff that goes unreserved so you",
    "start": "1388279",
    "end": "1393720"
  },
  {
    "text": "know if you've got a eight core machine they've got pods running that take up four cores reservation then you've got",
    "start": "1393720",
    "end": "1399559"
  },
  {
    "text": "four cores of idle cost doesn't doesn't go reserved so these idal costs contribute",
    "start": "1399559",
    "end": "1407039"
  },
  {
    "text": "to what we call sh costs and that also includes those overhead costs as well as",
    "start": "1407039",
    "end": "1412520"
  },
  {
    "text": "the workloads that are required to actually keep the whole platform and cluster running things like your",
    "start": "1412520",
    "end": "1418000"
  },
  {
    "text": "kubernetes pods your sto your data dog all those shared things that you need so",
    "start": "1418000",
    "end": "1423520"
  },
  {
    "text": "who should pay for shared costs this is a never ending argument for every platform team and every platform owner",
    "start": "1423520",
    "end": "1430720"
  },
  {
    "text": "that uh goes through through this process uh and in the fops book they mention three different methods they",
    "start": "1430720",
    "end": "1437240"
  },
  {
    "text": "advocate you should start with the platform team advocating the co uh absorbing the costs uh they you the idea",
    "start": "1437240",
    "end": "1444360"
  },
  {
    "text": "there is that forces them to optimize their platform which is fair enough another way share it uniformally if",
    "start": "1444360",
    "end": "1450240"
  },
  {
    "text": "there's 10 tenants you charge them all 10% of the cost no matter how much they",
    "start": "1450240",
    "end": "1455320"
  },
  {
    "text": "actually Reserve model we use is charge a proportionate amount if you reserve 5%",
    "start": "1455320",
    "end": "1460840"
  },
  {
    "text": "of the cluster then you pay 5% of the overall uh shared shared cost",
    "start": "1460840",
    "end": "1466799"
  },
  {
    "text": "overheads so there's three different levels we can look at when we talk about optimization the bottom level we're",
    "start": "1466799",
    "end": "1472039"
  },
  {
    "text": "looking at infrastructure and here we have hundreds of thousands of instances across all of Expedia around 12,000 of",
    "start": "1472039",
    "end": "1478520"
  },
  {
    "text": "those would be in in the kind of the kubernetes footprint that we're talking about today uh so it's a it's a certain",
    "start": "1478520",
    "end": "1485159"
  },
  {
    "text": "portion um but at the infrastructure level you got to think about not just one platform but all your platforms uh",
    "start": "1485159",
    "end": "1491279"
  },
  {
    "text": "and at the cluster level we're talking about you 400 plus eks clusters 200,000 pods and we' still got a lot of",
    "start": "1491279",
    "end": "1497440"
  },
  {
    "text": "migration to come so it's all it's all growing at the infrastructure level the strategies that get involved",
    "start": "1497440",
    "end": "1504840"
  },
  {
    "text": "here we've got the the finops personas and they're responsible for thinking about forecasting and budgeting looking",
    "start": "1504840",
    "end": "1510760"
  },
  {
    "text": "at historical usage looking at the instance types that we've used in the past all that ec2 Fleet and what uh what",
    "start": "1510760",
    "end": "1519000"
  },
  {
    "text": "are we going to use in the future like how are we going to uh predict based on history uh what's the best uh what's the",
    "start": "1519000",
    "end": "1526600"
  },
  {
    "text": "best ways that we can come up with uh the the best rates that we can negotiate the best commitments",
    "start": "1526600",
    "end": "1532880"
  },
  {
    "text": "Etc so I mentioned before that cost is usage times rate and at this this level",
    "start": "1532880",
    "end": "1538679"
  },
  {
    "text": "when you're thinking about all of the infrastructure you don't have much control over usage because we've decentralized that it's amongst all the",
    "start": "1538679",
    "end": "1545399"
  },
  {
    "text": "teams deciding how they're going to use it but what we do have is rate at this level so uh the finops team then can get",
    "start": "1545399",
    "end": "1552559"
  },
  {
    "text": "involved in your rate negotiations looking at how much uh of certain instance types we're using can we get a",
    "start": "1552559",
    "end": "1559360"
  },
  {
    "text": "good savings plan or commitments or reserved instances and can we negotiate",
    "start": "1559360",
    "end": "1565720"
  },
  {
    "text": "a good Enterprise discount based on historical usage and and forecast and at this level what sort of",
    "start": "1565720",
    "end": "1572399"
  },
  {
    "start": "1570000",
    "end": "1937000"
  },
  {
    "text": "kpi can we use to measure how effective we are with our commitments there's a term called effective savings rate this",
    "start": "1572399",
    "end": "1578240"
  },
  {
    "text": "comes from a vendor by the name of Prosper Ops and they say if you take actual spend with discounts so how much",
    "start": "1578240",
    "end": "1585320"
  },
  {
    "text": "did you pay up front amortized for the month for your commitment and then look",
    "start": "1585320",
    "end": "1590360"
  },
  {
    "text": "at well how much would you have spent what was your on demand equivalent if you paid retail price if you divide",
    "start": "1590360",
    "end": "1595679"
  },
  {
    "text": "those into each other and then subtract that from one if you come up with a negative value like",
    "start": "1595679",
    "end": "1601039"
  },
  {
    "text": "0.2 and that's telling you that you actually wasted money with your commitment you paid an extra 20% for",
    "start": "1601039",
    "end": "1606240"
  },
  {
    "text": "your commitment you would have been better off not having it at all than just going with the retail price so it's a good kpi you can use to to work out",
    "start": "1606240",
    "end": "1613240"
  },
  {
    "text": "how effective you are at that level uh they PR Ops use yeah an approach to",
    "start": "1613240",
    "end": "1619200"
  },
  {
    "text": "dynamically actually right sizing your convertible reserved instances refactoring them maybe making them",
    "start": "1619200",
    "end": "1624640"
  },
  {
    "text": "taller but shorter or shorter and smaller depending on your actual usage so I think we're going to see a lot in",
    "start": "1624640",
    "end": "1631000"
  },
  {
    "text": "this in this space on uh on optimizing uh those those kind of negotiations",
    "start": "1631000",
    "end": "1636039"
  },
  {
    "text": "around commitments few different vendors like turbonomic spot and cast they look at",
    "start": "1636039",
    "end": "1641120"
  },
  {
    "text": "things like consolidating workloads onto instances so you can free up instances for termination or automating some of",
    "start": "1641120",
    "end": "1647039"
  },
  {
    "text": "the spot purchasing decisions then at the cluster level personas that get involved in",
    "start": "1647039",
    "end": "1653000"
  },
  {
    "text": "optimization here we're talking about your platform engineers and the responsibilities here are ensuring that",
    "start": "1653000",
    "end": "1659120"
  },
  {
    "text": "the the nodes in the cluster are right sized for the workloads and configuring",
    "start": "1659120",
    "end": "1664279"
  },
  {
    "text": "your tools like cluster order scaler and Carpenter to take advantage of the finops negotiations so looking configure",
    "start": "1664279",
    "end": "1671640"
  },
  {
    "text": "Carpenter to say use these instance types that we get the best rates uh and",
    "start": "1671640",
    "end": "1676960"
  },
  {
    "text": "uh making sure sure that we have that feedback loop between platform teams and the centralized fops",
    "start": "1676960",
    "end": "1682559"
  },
  {
    "text": "teams some strategies that we can do here even if it's just a manual thing you go in once a week you can at least",
    "start": "1682559",
    "end": "1688159"
  },
  {
    "text": "go to all the Clusters that you have that don't have any pods and just you know downscale them to zero nodes and",
    "start": "1688159",
    "end": "1693519"
  },
  {
    "text": "save the cost you can delete any unclaimed volumes for right sizing at",
    "start": "1693519",
    "end": "1698720"
  },
  {
    "text": "the cluster level we're talking about the different nodes that you need to to spin up the cluster uh and you probably",
    "start": "1698720",
    "end": "1706279"
  },
  {
    "text": "want to have your your nodes across multiple azs so maybe three azs for redundancy you probably want to start",
    "start": "1706279",
    "end": "1712120"
  },
  {
    "text": "with small nodes for smaller clusters you don't want Forex large instance types when you've only got one pod",
    "start": "1712120",
    "end": "1717679"
  },
  {
    "text": "deploy that's a lot of lot of wastage and choosing instance families that have a best proportion of CPU to memory so if",
    "start": "1717679",
    "end": "1724600"
  },
  {
    "text": "you have a lot of PODS that have a lot of CPU and not much memory then you probably want CPU optimized instances",
    "start": "1724600",
    "end": "1732399"
  },
  {
    "text": "rather than uh memory optimized instances or or vice versa",
    "start": "1732399",
    "end": "1737960"
  },
  {
    "text": "uh newer Generations aren't always more cost- effective so you need to do your research on on that as well and",
    "start": "1737960",
    "end": "1743279"
  },
  {
    "text": "different architectures will have different price ranges uh AMT versus Intel then you put",
    "start": "1743279",
    "end": "1749399"
  },
  {
    "text": "graviton uh and you can use spot instances if that's cheaper than than your uh Enterprise rates or your your",
    "start": "1749399",
    "end": "1756679"
  },
  {
    "text": "commitments those last two items require some some workload compatibility so we'll talk a",
    "start": "1756679",
    "end": "1762679"
  },
  {
    "text": "little bit about that when we go up the stack and look at workloads and optimization at this level so a bit of a",
    "start": "1762679",
    "end": "1768760"
  },
  {
    "text": "primer here for kubernetes for your workloads say we have a core say we have an instance here with eight cores and 16",
    "start": "1768760",
    "end": "1775919"
  },
  {
    "text": "GB of RAM let's just look at at CPU we have around eight a little bit less than",
    "start": "1775919",
    "end": "1781399"
  },
  {
    "text": "eight cores allocatable on the box um there's two terms request and limits so request is how much you're",
    "start": "1781399",
    "end": "1788240"
  },
  {
    "text": "reserving this is the minimum you're reserving for your pod so 2,000 mes is",
    "start": "1788240",
    "end": "1793600"
  },
  {
    "text": "the same as two cores and that's reserved whether you use it or not you get that and kubernetes will make sure",
    "start": "1793600",
    "end": "1798640"
  },
  {
    "text": "that you always have that you may decide that you want to burst beyond that if there's extra capacity aailable",
    "start": "1798640",
    "end": "1804519"
  },
  {
    "text": "available on the box and what you can do is configure limits you can say I reserve two Calles but I'm I'm willing",
    "start": "1804519",
    "end": "1810840"
  },
  {
    "text": "to go up to four calls if it's available on the box or you can just say No Limit I'm ready I'm willing to burst Way",
    "start": "1810840",
    "end": "1817039"
  },
  {
    "text": "Beyond that and and use whatever's available on the instance okay anyone want to have a",
    "start": "1817039",
    "end": "1824240"
  },
  {
    "text": "guess across our industry the average what percentage of containers would use",
    "start": "1824240",
    "end": "1830559"
  },
  {
    "text": "less than half of their requested resources any",
    "start": "1830559",
    "end": "1837200"
  },
  {
    "text": "guesses 90% any other guesses let's have a",
    "start": "1837200",
    "end": "1843600"
  },
  {
    "text": "look it's greater than 65% use less than half for CPU and for",
    "start": "1843600",
    "end": "1849559"
  },
  {
    "text": "memory the uh the the biggest Distribution on the left hand side that's less than 25% so we're talking",
    "start": "1849559",
    "end": "1855639"
  },
  {
    "text": "around less than 25% is about 50% utilization and if you just ruled out the right hand side of both those graphs",
    "start": "1855639",
    "end": "1861880"
  },
  {
    "text": "those are the those are the containers that use more than than what they've reserved so you might be closer to your",
    "start": "1861880",
    "end": "1868480"
  },
  {
    "text": "90 Mark if you rule out that that part of the graph there it's a lot of waste even we just say 2/3 of containers don't",
    "start": "1868480",
    "end": "1875960"
  },
  {
    "text": "even use half of their their um uh what they actually reserve and so the issue",
    "start": "1875960",
    "end": "1882159"
  },
  {
    "text": "we have here in the industry is trying to optimize and and It's Tricky it's a trade-off there's a sweet spot between",
    "start": "1882159",
    "end": "1888039"
  },
  {
    "text": "somewhere between cost and performance and reliability and that sweet spot is a is",
    "start": "1888039",
    "end": "1894760"
  },
  {
    "text": "a moving Target so every single application is different and unique and in in each cluster in each environment",
    "start": "1894760",
    "end": "1900880"
  },
  {
    "text": "it's it's deployed to is different and unique your performance profile can change with every release adding new",
    "start": "1900880",
    "end": "1907960"
  },
  {
    "text": "features could actually slow your application down customer demand can be spiky and unpredictable and as your",
    "start": "1907960",
    "end": "1914440"
  },
  {
    "text": "platform matures it itself may get more or less efficient at um how it actually",
    "start": "1914440",
    "end": "1919480"
  },
  {
    "text": "runs runs your pods at at scale and we talk about cost it's not just the cloud spend the amount of",
    "start": "1919480",
    "end": "1926000"
  },
  {
    "text": "resources you reserve it's also about the time that you spend how much do you invest in optimizing and how much of",
    "start": "1926000",
    "end": "1931639"
  },
  {
    "text": "that do you recoup in uh in in saved cost and improved performance so we did a bit of uh",
    "start": "1931639",
    "end": "1938799"
  },
  {
    "start": "1937000",
    "end": "2840000"
  },
  {
    "text": "research internally about this problem in the industry this you know massive amount of waste and how can we",
    "start": "1938799",
    "end": "1944120"
  },
  {
    "text": "automatically address some of this uh we got a lot of feedback in from management",
    "start": "1944120",
    "end": "1949519"
  },
  {
    "text": "from Architects from platform Engineers different application teams and it kind",
    "start": "1949519",
    "end": "1955039"
  },
  {
    "text": "of come back to a a trade-off between responsiveness and stability is kind of the kind of the highlights that I kind",
    "start": "1955039",
    "end": "1960480"
  },
  {
    "text": "of Pi picked out of that those those responses and with responsiveness we're talking about we want to try and hug the",
    "start": "1960480",
    "end": "1966880"
  },
  {
    "text": "demand curve as much as possible so you know scaling in horizontally and vertically when we're not using the",
    "start": "1966880",
    "end": "1973120"
  },
  {
    "text": "resources but being quick to scale out and scale up when we do need those",
    "start": "1973120",
    "end": "1978399"
  },
  {
    "text": "resources and respond to customer demand that when we can capture that we can then lower the cost but the more that",
    "start": "1978399",
    "end": "1985240"
  },
  {
    "text": "we're actually making all these fine grain configuration decisions and and and changes potentially the more",
    "start": "1985240",
    "end": "1992240"
  },
  {
    "text": "instability we're adding because we're doing more changes more frequently and there's going to be contention with all",
    "start": "1992240",
    "end": "1998120"
  },
  {
    "text": "of our other tools that are interacting with our workloads like our cicd releases our roll backs our failover",
    "start": "1998120",
    "end": "2005080"
  },
  {
    "text": "Disaster Recovery whatever it might be so at this level we've got all the",
    "start": "2005080",
    "end": "2011080"
  },
  {
    "text": "different personas application Engineers platform Engineers our ccoe folk that can get involved and responsibilities",
    "start": "2011080",
    "end": "2017679"
  },
  {
    "text": "here are twofold ensuring that our workloads aren't over-provisioned but also ensuring that they're kept",
    "start": "2017679",
    "end": "2024840"
  },
  {
    "text": "reliable so another quick primer kubernetes defines three different quality of service classes best effort",
    "start": "2024840",
    "end": "2032159"
  },
  {
    "text": "which basically you shouldn't use you it's like I'll stick my pod out somewhere but if kubernetes needs the",
    "start": "2032159",
    "end": "2038840"
  },
  {
    "text": "all the CPU in memory it will just delete the Pod uh so not not recommended then you've got guaranteed where you say",
    "start": "2038840",
    "end": "2045080"
  },
  {
    "text": "requests and limits are the same so it's non- burstable burstable is where request uh request is less than limits",
    "start": "2045080",
    "end": "2051440"
  },
  {
    "text": "or you don't have any limits you just go as as as far as you want with requests",
    "start": "2051440",
    "end": "2056839"
  },
  {
    "text": "then for CPU if you set CPU too low you end up starving or throttling and you",
    "start": "2056839",
    "end": "2062158"
  },
  {
    "text": "end up with performance issues because you don't have enough you don't have enough time slices on on the C to get",
    "start": "2062159",
    "end": "2067480"
  },
  {
    "text": "your work done and with memory if your setting is too low then you're at risk",
    "start": "2067480",
    "end": "2072760"
  },
  {
    "text": "of actually being killed by the dreaded um kill event from uh kubernetes they just it says you've run out of memory",
    "start": "2072760",
    "end": "2079760"
  },
  {
    "text": "you try to uh use too much memory and it will just kill your pod all Al together",
    "start": "2079760",
    "end": "2085280"
  },
  {
    "text": "you set them too high then we have this inefficiency problem which is pretty much industry",
    "start": "2085280",
    "end": "2091079"
  },
  {
    "text": "default so I did some research what's the best practice out there uh surely there's some gu guidance around around",
    "start": "2091079",
    "end": "2097079"
  },
  {
    "text": "this when it comes to memory it seems fairly incontrovertible most people are saying you should go for guaranteed you",
    "start": "2097079",
    "end": "2103640"
  },
  {
    "text": "should set set requests and limits to the same thing you avoid this idea of O kills uh when you burst beyond what you",
    "start": "2103640",
    "end": "2110599"
  },
  {
    "text": "have and then it it gets reclaimed you're just setting yourself up for disaster for CPU there's no real",
    "start": "2110599",
    "end": "2116400"
  },
  {
    "text": "industry consensus you've got two main options between burstable and guaranteed",
    "start": "2116400",
    "end": "2122280"
  },
  {
    "text": "and there's a few things to think about so with burstable where you set requests less than limits or you don't set limits",
    "start": "2122280",
    "end": "2128160"
  },
  {
    "text": "at all uh people are saying you should do this because then you can take advantage of the spare Cycles if you",
    "start": "2128160",
    "end": "2133240"
  },
  {
    "text": "burst beyond what you need and you're just you're responding to customer demand or whatever it might be and then",
    "start": "2133240",
    "end": "2139760"
  },
  {
    "text": "your HPA your horizontal pod Auto scaling will kick in eventually and it will spin up new pods which will then",
    "start": "2139760",
    "end": "2145480"
  },
  {
    "text": "take some of that uh alleviate some of the pressure on on those pods uh but you",
    "start": "2145480",
    "end": "2150720"
  },
  {
    "text": "really need to know what you're doing you need to know what your slos are you need to know what your requests should be you need to do some testing in",
    "start": "2150720",
    "end": "2156920"
  },
  {
    "text": "pre-prod and load testing to to know what you're doing there other people say you should go with guaranteed uh because",
    "start": "2156920",
    "end": "2163480"
  },
  {
    "text": "if you're bursting in pre-production uh and then you go to production and other there other pods that are doing a lot of",
    "start": "2163480",
    "end": "2169560"
  },
  {
    "text": "bursting uh it's a different environment and you've come to expect something different from",
    "start": "2169560",
    "end": "2175200"
  },
  {
    "text": "prepro and and another argument is if you have guaranteed for memory and so",
    "start": "2175200",
    "end": "2181520"
  },
  {
    "text": "memory is not bursting it's fixed but CPU is bursting um if you're using a lot of",
    "start": "2181520",
    "end": "2187280"
  },
  {
    "text": "CPU uh and you haven't set up like your HPA properly to to spin up new nodes",
    "start": "2187280",
    "end": "2193359"
  },
  {
    "text": "then the more CPU you're using in probably the more memory your your uh pod is is is going to want so that can",
    "start": "2193359",
    "end": "2199640"
  },
  {
    "text": "put pressure on on memory and then the other argument is that with communities",
    "start": "2199640",
    "end": "2205040"
  },
  {
    "text": "there's a setting called Static CPU manager you set it at the cluster level",
    "start": "2205040",
    "end": "2210160"
  },
  {
    "text": "and if you have guaranteed uh quality of service on your pods and you have a whole number of course so 1,000 millor",
    "start": "2210160",
    "end": "2217880"
  },
  {
    "text": "2,000 mes then you can actually get an affinity assigned for your pod to a CPU",
    "start": "2217880",
    "end": "2223400"
  },
  {
    "text": "you don't have to share that CPU with other with other pods and get better better",
    "start": "2223400",
    "end": "2229800"
  },
  {
    "text": "performance there's some strategies we can apply at this level so your platform Engineers again whether it's scripted or",
    "start": "2229800",
    "end": "2236960"
  },
  {
    "text": "manual you can go in and delete un delete abandoned work workloads and Nam spaces delete unclaimed",
    "start": "2236960",
    "end": "2243560"
  },
  {
    "text": "volumes and you can reward compatibility with cheaper infrastructure so at deploy time maybe you can add a label to your",
    "start": "2243560",
    "end": "2250319"
  },
  {
    "text": "pod that says I'm graviton ready or I'm spot you know I'm interruptable and then",
    "start": "2250319",
    "end": "2256280"
  },
  {
    "text": "you can have your Affinity assigned for those types of labels with used Carpenter to say these uh pods can go on",
    "start": "2256280",
    "end": "2263079"
  },
  {
    "text": "these types of instances and then you can reward those teams with cheaper interest rates lower interest sorry",
    "start": "2263079",
    "end": "2268839"
  },
  {
    "text": "lower unit rates for those types of instance types you can set up some basic right",
    "start": "2268839",
    "end": "2276760"
  },
  {
    "text": "sizing policies at at the start so go out with some sensible defaults as you know people don't configure it decide",
    "start": "2276760",
    "end": "2282880"
  },
  {
    "text": "what is the best practice and what qu what kind of quality of service do we want to have and what do we want to set",
    "start": "2282880",
    "end": "2288240"
  },
  {
    "text": "as your sensible defaults and then your FS folks can help uh your platform engineers get involved",
    "start": "2288240",
    "end": "2293839"
  },
  {
    "text": "with actually generating recommendations uh so shifting left recommendations is really powerful so we",
    "start": "2293839",
    "end": "2301200"
  },
  {
    "text": "built a tool called optimade which uh when someone makes a change to a Helm chart to their their uh requests and",
    "start": "2301200",
    "end": "2307880"
  },
  {
    "text": "limits say they go from one core to two cores uh on the pr before it gets merged",
    "start": "2307880",
    "end": "2313440"
  },
  {
    "text": "we push a little comment that says well you've just gone from one call to two calls and you maximum up to 200 PS",
    "start": "2313440",
    "end": "2320119"
  },
  {
    "text": "that's going to cost you an extra know 50 bucks a month or whatever and people see that comment and they like and we've",
    "start": "2320119",
    "end": "2326280"
  },
  {
    "text": "seen people actually go back and they have slack conversations about it and say oh I didn't realize do we want to do this and some people say I totally",
    "start": "2326280",
    "end": "2332960"
  },
  {
    "text": "forgot I actually changed that I didn't mean to actually commit it and so it's that little assistant there that giving",
    "start": "2332960",
    "end": "2338560"
  },
  {
    "text": "you the feedback early on before you actually merge uh you can do the same thing like a gitops type approach of",
    "start": "2338560",
    "end": "2344000"
  },
  {
    "text": "generating recommendations and then submitting them as poor requests again bringing that into the developer",
    "start": "2344000",
    "end": "2350760"
  },
  {
    "text": "workflow when it comes to making recommendations uh memory is a little harder because there's a lot of things",
    "start": "2350760",
    "end": "2356319"
  },
  {
    "text": "that go into run times and understanding you know the jvm settings or whichever",
    "start": "2356319",
    "end": "2361359"
  },
  {
    "text": "whichever runtime you're using uh CPU is a little easier to get started with making recommendations it's that",
    "start": "2361359",
    "end": "2367040"
  },
  {
    "text": "compressible resource and what you want to do here is try and close the gap between usage or utilization and actual",
    "start": "2367040",
    "end": "2373720"
  },
  {
    "text": "requests so you can divide usage by request and you kind of get a utilization rate but don't go by the",
    "start": "2373720",
    "end": "2380800"
  },
  {
    "text": "average statistic because that hides a lot of your distribution curve and this a mistake I've made in the past pretty",
    "start": "2380800",
    "end": "2386760"
  },
  {
    "text": "much industry standard is using TP 95 or or or 99 uh you can set a policy that",
    "start": "2386760",
    "end": "2392560"
  },
  {
    "text": "says okay if my TP 95 for the last 2 weeks never never went above uh 10% then",
    "start": "2392560",
    "end": "2399960"
  },
  {
    "text": "I'm going to make a recommendation of let's say 10% no your TP 95 figure plus",
    "start": "2399960",
    "end": "2406920"
  },
  {
    "text": "uh you know 100% so an example might be you've reserved One Core your 95th",
    "start": "2406920",
    "end": "2412119"
  },
  {
    "text": "percentile comes through says for the last 2 weeks you never used more than 100 milor so the recommendation we're",
    "start": "2412119",
    "end": "2417920"
  },
  {
    "text": "going to make is 200 millor which is very safe very conservative uh and you can just do that",
    "start": "2417920",
    "end": "2423599"
  },
  {
    "text": "and and and if they pick up that recommendation observe it a few weeks later and see if you want to make",
    "start": "2423599",
    "end": "2429119"
  },
  {
    "text": "another recommendation Cube cost has an example on on a Blog of theirs say if you have a",
    "start": "2429119",
    "end": "2434160"
  },
  {
    "text": "tier1 application you might want to go 49 percentile plus uh 100% or for a Dev",
    "start": "2434160",
    "end": "2441079"
  },
  {
    "text": "uh box you might just say cut you off at 95th percentile uh that's that's our",
    "start": "2441079",
    "end": "2447400"
  },
  {
    "text": "recommendation but beyond just making recommendations we need automation why do we need it so the state of finops",
    "start": "2447400",
    "end": "2454200"
  },
  {
    "text": "report for the last few years running we're asking organizations all around the world the number one challenge",
    "start": "2454200",
    "end": "2459400"
  },
  {
    "text": "everyone reports is basically getting Engineers to implement recommendations getting Engineers to do stuff which is",
    "start": "2459400",
    "end": "2465400"
  },
  {
    "text": "Harsh it's a harsh way of putting it because Engineers have a thousand things to do and Engineers want to optimize",
    "start": "2465400",
    "end": "2471240"
  },
  {
    "text": "that's you know that's what what what we've been trained to do it's what we love to do but it's risky right to go",
    "start": "2471240",
    "end": "2476720"
  },
  {
    "text": "and make a change to your kubernetes settings when it's kind of it's running and you've got a thousand other feature",
    "start": "2476720",
    "end": "2482480"
  },
  {
    "text": "requests and things that you need to do so another need for reason for the need for",
    "start": "2482480",
    "end": "2489800"
  },
  {
    "text": "automation say you have 10 microservices and you release them once a week you think about all the different input",
    "start": "2489800",
    "end": "2495839"
  },
  {
    "text": "variables that could go into how you can configure it there's 360,000 permutations of of you know choices you",
    "start": "2495839",
    "end": "2502800"
  },
  {
    "text": "could make in in in one month so that's not a human problem that's that's a machine learning",
    "start": "2502800",
    "end": "2508240"
  },
  {
    "text": "problem whether you buy or build a solution in this space we need bravery and this is all across the industry",
    "start": "2508240",
    "end": "2514560"
  },
  {
    "text": "talking to experts the the only way we're going to see measurable outcomes is with with with Automation and bravery",
    "start": "2514560",
    "end": "2521520"
  },
  {
    "text": "is the the biggest barrier for for organization so you need the willingness to go out test learn try things out and",
    "start": "2521520",
    "end": "2529680"
  },
  {
    "text": "companies that do have this bravery can see really high success rates from this uh and that's what the Cloud's about the",
    "start": "2529680",
    "end": "2535160"
  },
  {
    "text": "flexibility elasticity responding to the variable cost nature of the cloud so",
    "start": "2535160",
    "end": "2540440"
  },
  {
    "text": "should you buy or should you build an automated solution in this space I like",
    "start": "2540440",
    "end": "2545599"
  },
  {
    "text": "to think about it if looking at your runtime stack looking at the apps that are deployed to your platform on the",
    "start": "2545599",
    "end": "2551960"
  },
  {
    "text": "left hand side if you have a lot of freedom of choice a little of autonomy bring your own whatever jvm go rust",
    "start": "2551960",
    "end": "2559319"
  },
  {
    "text": "whatever you want bring bring your own or on the right hand side if you're highly standardized you will deploy with",
    "start": "2559319",
    "end": "2565760"
  },
  {
    "text": "spring boot on jvm and these are the things that you must do the more standardized you are",
    "start": "2565760",
    "end": "2572160"
  },
  {
    "text": "probably the more you can build your own Solution on the left hand side there's just a lot of input variables that",
    "start": "2572160",
    "end": "2578480"
  },
  {
    "text": "you're going to have to cater for a lot of things you're going to have to think about all the different runtime variables all the different metrics that",
    "start": "2578480",
    "end": "2584839"
  },
  {
    "text": "you need to look at on the right hand side you can standardize on Golden signals and say this is how we measure",
    "start": "2584839",
    "end": "2590079"
  },
  {
    "text": "latency or whatever performance uh metric you want to use and so you can build some tooling and we've talked to",
    "start": "2590079",
    "end": "2596559"
  },
  {
    "text": "companies that are doing that themselves they take away the request the limits the HPA settings from their from their",
    "start": "2596559",
    "end": "2603160"
  },
  {
    "text": "developers and they they configure it all with machine learning themselves uh on the buy side of things",
    "start": "2603160",
    "end": "2610040"
  },
  {
    "text": "there's a bunch of vendors if you go to the continuous optimization category in cncf you'll see this um and I like to",
    "start": "2610040",
    "end": "2617599"
  },
  {
    "text": "kind of split them into three different strategies whether you build it yourself or you you go with uh one of the one of",
    "start": "2617599",
    "end": "2623559"
  },
  {
    "text": "the vendor Solutions the low-level magic solution is a company called granulates an example here use some machine",
    "start": "2623559",
    "end": "2630480"
  },
  {
    "text": "learning to look at your workload running over a couple of weeks and they optimize very lowlevel decisions for you",
    "start": "2630480",
    "end": "2635920"
  },
  {
    "text": "and and you can see CPU kind of dropping by by 30% next step is actively configuring",
    "start": "2635920",
    "end": "2642839"
  },
  {
    "text": "your resources so you're going tweaking your horizontal and your vertical scaling configuring the the configuring",
    "start": "2642839",
    "end": "2650680"
  },
  {
    "text": "the kubernetes values and based on machine learning reinforcement learning",
    "start": "2650680",
    "end": "2656480"
  },
  {
    "text": "taking a safety first conservative approach just doing small changes gradually over time and and using",
    "start": "2656480",
    "end": "2661839"
  },
  {
    "text": "reinforcement learning so when there's a new release you do a relearning phase and uh third one is exploring optimal",
    "start": "2661839",
    "end": "2668680"
  },
  {
    "text": "configuration so going into prepro and using a data science kind of approach to looking at how can we explore those",
    "start": "2668680",
    "end": "2674520"
  },
  {
    "text": "360,000 permutations with some experiments and using the decisions that it gives you on",
    "start": "2674520",
    "end": "2680800"
  },
  {
    "text": "cost and performance trade-offs to then inform your production configuration so when it comes to uh",
    "start": "2680800",
    "end": "2688280"
  },
  {
    "text": "adopting automation uh these are some five tips to kind of close us out first of all you",
    "start": "2688280",
    "end": "2694599"
  },
  {
    "text": "want to empower Engineers with choice so just giving them like a simple Choice over threshold like 95th versus 99th",
    "start": "2694599",
    "end": "2700839"
  },
  {
    "text": "percentile and they Engineers will then feel a sense of control psychological ownership like these are my",
    "start": "2700839",
    "end": "2706599"
  },
  {
    "text": "recommendations I've tuned them they have them the flexibility to configure that before they deploy and your uptake",
    "start": "2706599",
    "end": "2713839"
  },
  {
    "text": "increases need to be above approach so don't go out there with average statistics and just say this is the",
    "start": "2713839",
    "end": "2719359"
  },
  {
    "text": "average set it to this uh you need you need realistic and um conservative",
    "start": "2719359",
    "end": "2724760"
  },
  {
    "text": "values you got two Extremes in your in your customers for your platform you're going to have zero trust and you have",
    "start": "2724760",
    "end": "2730880"
  },
  {
    "text": "blind trust blind trust is there must be some awesome machine learning behind this yep I to go deploy to prod no",
    "start": "2730880",
    "end": "2737119"
  },
  {
    "text": "problems others are zero trust I'm running a tier one critical service you're not coming anywhere near me with any of this Automation and stuff so you",
    "start": "2737119",
    "end": "2743880"
  },
  {
    "text": "need to earn trust over time um by making trustworthy recommendations and ering on the side of caution there's no",
    "start": "2743880",
    "end": "2750920"
  },
  {
    "text": "one size fits-all approach so some workloads are easily interruptable and restartable",
    "start": "2750920",
    "end": "2756599"
  },
  {
    "text": "others they want to run for as long as possible until they do another deploy maybe there's a bit of tech de they will",
    "start": "2756599",
    "end": "2762520"
  },
  {
    "text": "quickly spun up or lifted and shifted from the data center and others they have really long startup time so they",
    "start": "2762520",
    "end": "2768160"
  },
  {
    "text": "set their CPU thresholds really low say like 20% CPU utilization so that the",
    "start": "2768160",
    "end": "2773920"
  },
  {
    "text": "horizontal scaling has enough lead time to spin up the new instances so they can",
    "start": "2773920",
    "end": "2778960"
  },
  {
    "text": "go uh they can grow their current CPU usage while they're waiting for the new ones to come along so kind always assume",
    "start": "2778960",
    "end": "2786400"
  },
  {
    "text": "that lowly utilization is because of poorly designed thing it could be actually uh a symptom of uh trying to",
    "start": "2786400",
    "end": "2793200"
  },
  {
    "text": "overcome a different issue exploring the Paro front is hard so here I'm talking about trying to",
    "start": "2793200",
    "end": "2798920"
  },
  {
    "text": "optimize for two output variables cost and performance it's a difficult machine learning problem and there's so many",
    "start": "2798920",
    "end": "2804680"
  },
  {
    "text": "different input parameters tweaking CPU can have an impact on memory and vice versa last tip timing is everything so",
    "start": "2804680",
    "end": "2813440"
  },
  {
    "text": "scaling vertically and horizontally it needs some careful observation or bake in times in between making changes and",
    "start": "2813440",
    "end": "2820839"
  },
  {
    "text": "otherwise if you're making changes too frequently then you're introducing a lot of thrashing of of pods in between and",
    "start": "2820839",
    "end": "2827800"
  },
  {
    "text": "you don't want to go out making these changes during your Peak traffic times so you want to train your uh your",
    "start": "2827800",
    "end": "2834119"
  },
  {
    "text": "automation to work in the off peak times and make sure there's enough time between",
    "start": "2834119",
    "end": "2839720"
  },
  {
    "text": "changes so we looked at finops we talked about how it's a collaboration between finance and Engineering we centralized",
    "start": "2839720",
    "end": "2846079"
  },
  {
    "start": "2840000",
    "end": "2894000"
  },
  {
    "text": "our rate negotiation and our best practices and we keep our ownership of our Cloud resource decentralized because",
    "start": "2846079",
    "end": "2852839"
  },
  {
    "text": "we've now got a way of communicating and we talked about kubernetes optimization all our person",
    "start": "2852839",
    "end": "2858480"
  },
  {
    "text": "is working together it optimize the entire stack we need that automation to realize the true cost savings we need to",
    "start": "2858480",
    "end": "2865480"
  },
  {
    "text": "be we need to be brave and realistic and above for approach to close us out with",
    "start": "2865480",
    "end": "2870960"
  },
  {
    "text": "some resources I mentioned the fops book there's some great podcasts slack",
    "start": "2870960",
    "end": "2876599"
  },
  {
    "text": "Channel's great everyone's really welcoming in this in the fops community so jump in there uh certification on",
    "start": "2876599",
    "end": "2883359"
  },
  {
    "text": "phs.org there some different YouTube channels with the different vendors that have some great uh videos on kubernetes",
    "start": "2883359",
    "end": "2889800"
  },
  {
    "text": "optimization and there's a uh some good podcasts out there to listen to so",
    "start": "2889800",
    "end": "2895400"
  },
  {
    "start": "2894000",
    "end": "2901000"
  },
  {
    "text": "that's my that's my talk we might have time for a question or two",
    "start": "2895400",
    "end": "2902839"
  }
]