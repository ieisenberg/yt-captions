[
  {
    "start": "0",
    "end": "130000"
  },
  {
    "text": "foreign that's really great all right yeah so",
    "start": "5339",
    "end": "11760"
  },
  {
    "text": "I'm Randy Shoup and I want to talk to you today about minimal viable architecture so thematically very",
    "start": "11760",
    "end": "17760"
  },
  {
    "text": "similar to the talk in this room just a moment ago um there's really no one perfect",
    "start": "17760",
    "end": "24060"
  },
  {
    "text": "architecture for all scales for All Phases of evolution and for all problem",
    "start": "24060",
    "end": "29580"
  },
  {
    "text": "domains this is pretty obvious but like I think sometimes we have a little bit of Envy of other people's architectures",
    "start": "29580",
    "end": "34739"
  },
  {
    "text": "and try to think that we should do them when we should really be solving our own problems um so the the kind of structure of this",
    "start": "34739",
    "end": "40739"
  },
  {
    "text": "talk is about let's talk about the different phases of companies and products and I think all products and",
    "start": "40739",
    "end": "46920"
  },
  {
    "text": "you know kind of go through this S curve and we're going to have a different we're going to notice that there are different architectures that are",
    "start": "46920",
    "end": "52260"
  },
  {
    "text": "appropriate at different levels and different scales of the company so a little bit about my background so",
    "start": "52260",
    "end": "59039"
  },
  {
    "text": "um I most recently I was VP of engineering and Chief Architect at eBay I also spend a bunch of time at eBay as",
    "start": "59039",
    "end": "64739"
  },
  {
    "text": "an individual contributor earlier in my career I've been a a engineering",
    "start": "64739",
    "end": "70260"
  },
  {
    "text": "director at Google for Google app engine in the early days of Google Cloud I ran engineering at Stitch fix which is a",
    "start": "70260",
    "end": "76619"
  },
  {
    "text": "clothing retailer in the United States up to and through the IPO that we had and then I also worked as an engineering",
    "start": "76619",
    "end": "82920"
  },
  {
    "text": "leader at wework up to our not IPO um in case anybody's heard of that happy to",
    "start": "82920",
    "end": "90000"
  },
  {
    "text": "tell stories over adult beverages about uh about that because the stories are crazy",
    "start": "90000",
    "end": "95579"
  },
  {
    "text": "um so uh I um I am a a a",
    "start": "95579",
    "end": "102479"
  },
  {
    "text": "um uh for for startups I advise a bunch of startups and um so a lot of times I'll have conversations that'll go like",
    "start": "102479",
    "end": "108180"
  },
  {
    "text": "this they'll say tell us how you did things at Google and eBay and I will say sure I'll be happy to tell you what we",
    "start": "108180",
    "end": "114000"
  },
  {
    "text": "did but you have to promise not to do them yet um and the reason here obviously is that",
    "start": "114000",
    "end": "119220"
  },
  {
    "text": "you know the approp the stuff that's appropriate for a five-person company is is not the same thing that's appropriate for a 50-person a 50 000 person company",
    "start": "119220",
    "end": "126360"
  },
  {
    "text": "and vice versa okay um so I want to start a little bit about talking about some architecture",
    "start": "126360",
    "end": "132000"
  },
  {
    "start": "130000",
    "end": "294000"
  },
  {
    "text": "evolutions of eBay and of Amazon and then I want to go go through as I talked about those different those different",
    "start": "132000",
    "end": "137640"
  },
  {
    "text": "phases of companies and talk about what the appropriate architecture might be so eBay started famously about 27 years ago",
    "start": "137640",
    "end": "144800"
  },
  {
    "text": "uh with as in as a three-day weekend project of the founder so he spent the",
    "start": "144800",
    "end": "150959"
  },
  {
    "text": "Labor Day weekend uh playing around with this new cool thing called the web he um he built uh the first thing that",
    "start": "150959",
    "end": "157260"
  },
  {
    "text": "ultimately became eBay in curl so every item was a file I like to think of that",
    "start": "157260",
    "end": "163140"
  },
  {
    "text": "it all it like lived on his little 386 tower under his desk or something like that and it didn't scale but it wasn't",
    "start": "163140",
    "end": "170040"
  },
  {
    "text": "intended to the next iteration of eBay's architecture was what they you know cleverly called V2",
    "start": "170040",
    "end": "176819"
  },
  {
    "text": "um and it was it was a monolithic C plus plus dll that plugged into the Microsoft",
    "start": "176819",
    "end": "182519"
  },
  {
    "text": "Internet information server so like if you can remember that like you're old just like me so it's a C plus plus dll",
    "start": "182519",
    "end": "189840"
  },
  {
    "text": "in there monolithic it grew at its worst to 3.4 million lines of code in that",
    "start": "189840",
    "end": "196319"
  },
  {
    "text": "single dll that's single dll they were hitting",
    "start": "196319",
    "end": "201480"
  },
  {
    "text": "compiler limits on the number of methods per class which I'm you know uh embarrassed to",
    "start": "201480",
    "end": "207480"
  },
  {
    "text": "tell you that I know that the Microsoft compiler at the time allowed 16k methods",
    "start": "207480",
    "end": "212700"
  },
  {
    "text": "per class and they were hitting that limit like super scary um so you can imagine that this was",
    "start": "212700",
    "end": "218400"
  },
  {
    "text": "really difficult uh to work in and there and there wasn't much ability to like move move quickly",
    "start": "218400",
    "end": "224280"
  },
  {
    "text": "um it turns out that for the in for the engineers they were all not only in the same repo and not only in the same file",
    "start": "224280",
    "end": "230519"
  },
  {
    "text": "but they were actually all in the same class that was why uh why we were hitting those compiler limits pretty",
    "start": "230519",
    "end": "236340"
  },
  {
    "text": "brutal um so the next iteration was again cleverly called V3 and this wasn't yet",
    "start": "236340",
    "end": "242340"
  },
  {
    "text": "microservices but this was a breaking up of that monolith into what I would call like Java mini applications so",
    "start": "242340",
    "end": "250319"
  },
  {
    "text": "um you know several hundred different uh aspects of the site each each part of the site was like built or um uh shown",
    "start": "250319",
    "end": "258000"
  },
  {
    "text": "by a particular one of those uh one of those applications so you'd have an application for the search part of the",
    "start": "258000",
    "end": "263160"
  },
  {
    "text": "site for the selling part for the buy buying part Etc and you aggregate that all up and that was eBay and then there",
    "start": "263160",
    "end": "268979"
  },
  {
    "text": "were a bunch this will come into play later but like there were a bunch of a sea of shared databases underneath that",
    "start": "268979",
    "end": "274320"
  },
  {
    "text": "were used by all a lot of those different mini applications and then uh and then the more modern",
    "start": "274320",
    "end": "280139"
  },
  {
    "text": "um the more modern iterations of the architecture because there have been five um or more microservices and again still",
    "start": "280139",
    "end": "285960"
  },
  {
    "text": "Java but um you know move to Spring and then a move to Spring boot um but this is this is the this is how",
    "start": "285960",
    "end": "291900"
  },
  {
    "text": "eBay architecture has evolved over time Amazon has gone through a similar Evolution um so it started in about the same time",
    "start": "291900",
    "end": "298919"
  },
  {
    "start": "294000",
    "end": "393000"
  },
  {
    "text": "in 1995. it was all uh its initial um uh uh monolith was called obedos",
    "start": "298919",
    "end": "305580"
  },
  {
    "text": "that's a that's a city on the Amazon you know in Brazil it was a monolithic Pearl",
    "start": "305580",
    "end": "311820"
  },
  {
    "text": "and Mason front end over a c language back end um they were this the application was a",
    "start": "311820",
    "end": "318540"
  },
  {
    "text": "four gigabyte application so at four gigabyte uh worth of application in a four gigabyte address space so they were",
    "start": "318540",
    "end": "326100"
  },
  {
    "text": "regularly swapping just the application in and out of memory pretty brutal they were regularly breaking the gnu Linker",
    "start": "326100",
    "end": "332699"
  },
  {
    "text": "um and because it was so I'll call it effective at leaking memory um they were having to restart the um",
    "start": "332699",
    "end": "339660"
  },
  {
    "text": "the service every 100 to 200 requests just because of the memory leaks and as a consequence of you know this uh",
    "start": "339660",
    "end": "346320"
  },
  {
    "text": "painful situation they were actually end up only end up ending up being able to release once a quarter",
    "start": "346320",
    "end": "352259"
  },
  {
    "text": "um during the during the years 2001 to 2005 they went through a massive migration to",
    "start": "352259",
    "end": "358139"
  },
  {
    "text": "to Services what we might Now call microservices service you know wrote those services and in the newer",
    "start": "358139",
    "end": "363660"
  },
  {
    "text": "languages at the time C plus and Java or more modern I suppose uh no shared databases though so you know a an edict",
    "start": "363660",
    "end": "370800"
  },
  {
    "text": "from um from Jeff Bezos was like you couldn't share database data in any way which was really great",
    "start": "370800",
    "end": "376380"
  },
  {
    "text": "um and then in case anybody you know wonders whether architecture matters like as after they completed that",
    "start": "376380",
    "end": "382020"
  },
  {
    "text": "service migration you know the very next year AWS launched and you know Amazon started their kind of inexorable",
    "start": "382020",
    "end": "388860"
  },
  {
    "text": "takeover of the World's Online retail so architecture really matters okay so what can we learn from these two stories the",
    "start": "388860",
    "end": "395639"
  },
  {
    "start": "393000",
    "end": "513000"
  },
  {
    "text": "first one is that no one starts with microservices um but past a certain scale everyone at",
    "start": "395639",
    "end": "401100"
  },
  {
    "text": "these at these large scales ends up with something that we would call microservices but the other point I think here um is that most never reach",
    "start": "401100",
    "end": "407759"
  },
  {
    "text": "that scale so it's pretty important for us to understand what the problem that we that we're currently solving at our",
    "start": "407759",
    "end": "412860"
  },
  {
    "text": "company as opposed to you know uh Envy of the larger the larger places um the other way I like to say it is if",
    "start": "412860",
    "end": "418620"
  },
  {
    "text": "you don't end up regretting your early technology decisions you probably engineered over engineered there may",
    "start": "418620",
    "end": "424199"
  },
  {
    "text": "well have been another company that were in 1995 that wasn't could have been an eBay and Amazon competitor that instead",
    "start": "424199",
    "end": "430860"
  },
  {
    "text": "of like building a monolith and solving customer problems instead they built a distributed system and there's a reason",
    "start": "430860",
    "end": "436020"
  },
  {
    "text": "why we've never heard of that company okay uh so uh the structure from the",
    "start": "436020",
    "end": "442800"
  },
  {
    "text": "talk going uh from going forward is I want to talk about the phases of products and companies um and then talk",
    "start": "442800",
    "end": "448020"
  },
  {
    "text": "about what are the appropriate kind of patterns and forces at each of those things which will tell us what kind of architecture we need to we need to have",
    "start": "448020",
    "end": "455400"
  },
  {
    "text": "um so let's start with what I like to call the idea phase so this is before we've written any code what is the thing",
    "start": "455400",
    "end": "460620"
  },
  {
    "text": "that we're even trying to build and if you take nothing away from uh this talk I guess I would ask you to take away",
    "start": "460620",
    "end": "466680"
  },
  {
    "text": "these seven words because they're so powerful uh what problem are we trying to solve so this is the question that",
    "start": "466680",
    "end": "473099"
  },
  {
    "text": "we're asking ourselves at this idea idea phase is what is what's the problem that we are we're trying to solve is somebody",
    "start": "473099",
    "end": "479400"
  },
  {
    "text": "willing to pay us money for it is their product Market fit for the solution that we think we might want to do and why is",
    "start": "479400",
    "end": "485280"
  },
  {
    "text": "this so important um I'll just lean on Mary and Tom papendik and their excellent book lean software development because building",
    "start": "485280",
    "end": "491520"
  },
  {
    "text": "the wrong thing is the biggest waste in software development so we really need to understand our problem in order to",
    "start": "491520",
    "end": "497099"
  },
  {
    "text": "avoid building the wrong thing the other quote that I like I like on this line is",
    "start": "497099",
    "end": "502139"
  },
  {
    "text": "from Charles Kettering who used to be used to be the head of research at GM a problem well stated is a problem half",
    "start": "502139",
    "end": "507840"
  },
  {
    "text": "solved so it can be very clear on our problem we're well along our way okay so at this idea phase the way I would",
    "start": "507840",
    "end": "514380"
  },
  {
    "start": "513000",
    "end": "668000"
  },
  {
    "text": "suggest that we look at architecture is everything is a prototype right so our goal here is to explore the potential",
    "start": "514380",
    "end": "520200"
  },
  {
    "text": "problem space that we have as rapidly and as cheaply as possible we want to find a business model we want to find",
    "start": "520200",
    "end": "526020"
  },
  {
    "text": "product Market fit and we want to acquire our first customers and so the goal here is the goal here is rapid",
    "start": "526020",
    "end": "532320"
  },
  {
    "text": "iteration so everything that we build here is going to be a prototype and we're definitely going to throw it all away whether we think we're going to do",
    "start": "532320",
    "end": "538320"
  },
  {
    "text": "it you're going to do that or not so ideally we have no technology at all right so there's a reason why a user",
    "start": "538320",
    "end": "544920"
  },
  {
    "text": "experience designers use paper prototypes that's because we can rapidly look at the look at potential ideas and",
    "start": "544920",
    "end": "551220"
  },
  {
    "text": "literally throw them away if if they're not good ones the other the clever idea out of the Lean Startup book is you know",
    "start": "551220",
    "end": "558240"
  },
  {
    "text": "if you want to do online pet food you know start some fake Google ads and see",
    "start": "558240",
    "end": "563279"
  },
  {
    "text": "if anybody clicks on them um in the early days of Stitch fix which ultimately grew to be hugely a huge",
    "start": "563279",
    "end": "570720"
  },
  {
    "text": "investment in data science and machine learning the original implementation of that fancy algorithm was an Excel",
    "start": "570720",
    "end": "576720"
  },
  {
    "text": "spreadsheet that the that the founder wrote so again ideally no technology at all a WordPress blog would be another",
    "start": "576720",
    "end": "582839"
  },
  {
    "text": "great thing to do at this stage um so the way I like to think about it is engineering is about solving problems",
    "start": "582839",
    "end": "589500"
  },
  {
    "text": "and only sometimes do we solve those problems by writing code when I was leading engineering at Stitch fix one of",
    "start": "589500",
    "end": "596160"
  },
  {
    "text": "again it's a clothing retailer so we had physical warehouses around the United States and one of my teams built",
    "start": "596160",
    "end": "601440"
  },
  {
    "text": "software for those for the people who operated the warehouses and a lot of times they would come to us and they'd",
    "start": "601440",
    "end": "606480"
  },
  {
    "text": "say hey can you please add this button or do something to the existing applications to to help us do our job",
    "start": "606480",
    "end": "613380"
  },
  {
    "text": "and once we started to get into it with them a lot of times we could figure out that it was it was actually more",
    "start": "613380",
    "end": "618839"
  },
  {
    "text": "appropriate for us to change the business process than it was to act to change the software we'd be very happy",
    "start": "618839",
    "end": "624120"
  },
  {
    "text": "to change the software we're happy to add buttons all the time but by by looking holistically and not always",
    "start": "624120",
    "end": "629580"
  },
  {
    "text": "assuming that the first thing that we do is write software we were able to build better Solutions ultimately that you",
    "start": "629580",
    "end": "634680"
  },
  {
    "text": "know that matter to the business customers that we had okay uh so we talked about the idea",
    "start": "634680",
    "end": "640560"
  },
  {
    "text": "phase now I want to talk about what I'll call the starting phase and what characterizes the starting phase so that we have one team so maybe we're you know",
    "start": "640560",
    "end": "647399"
  },
  {
    "text": "five people we all fit around a conference table um and we have a pretty short time Horizon right so",
    "start": "647399",
    "end": "653399"
  },
  {
    "text": "um we're not necessarily we don't necessarily know that we're going to exist one year two year five years down",
    "start": "653399",
    "end": "658500"
  },
  {
    "text": "the road so we definitely shouldn't be building technology in order to solve problems that we only are going to have one year and two year and five two two",
    "start": "658500",
    "end": "665100"
  },
  {
    "text": "years and five years in the future um so the kind of architecture that we want to have in this phase is what I'll",
    "start": "665100",
    "end": "671160"
  },
  {
    "start": "668000",
    "end": "771000"
  },
  {
    "text": "call just enough architecture so we want to meet our near-term evolving customer needs as cheaply and as simply as",
    "start": "671160",
    "end": "677640"
  },
  {
    "text": "possible we want to Delight those first customers that we've hopefully Acquired and we want to acquire more",
    "start": "677640",
    "end": "683820"
  },
  {
    "text": "um so here the the goal here is for us to do rapid learning and Improvement um we want to Pro we want to we want to",
    "start": "683820",
    "end": "690420"
  },
  {
    "text": "prioritize team productivity over really any other uh any other thing and this is definitely not about scaling right so",
    "start": "690420",
    "end": "697019"
  },
  {
    "text": "this initial phase is not about scaling very large because we're not large yet",
    "start": "697019",
    "end": "702120"
  },
  {
    "text": "so uh one of the uh one of the quotes that I like in this area is from Martin",
    "start": "702120",
    "end": "707519"
  },
  {
    "text": "Fowler so the best code we can write now is code that would probably discard in a couple of years time",
    "start": "707519",
    "end": "713459"
  },
  {
    "text": "so what would just enough architecture look like in this in this starting phase so we want to use simple and familiar",
    "start": "713459",
    "end": "720660"
  },
  {
    "text": "technology that's familiar to the development team that we have we want to prioritize expressive power and ease of",
    "start": "720660",
    "end": "727620"
  },
  {
    "text": "use for the developers and this is why a lot of the startups that are that ultimately become successful start with",
    "start": "727620",
    "end": "733560"
  },
  {
    "text": "these kind of rapid prototyping Frameworks like PHP or Ruby on Rails or something like that and that's because",
    "start": "733560",
    "end": "738899"
  },
  {
    "text": "it app it doesn't optimize for you know where we are where we end up later necessarily but it does optimize for our",
    "start": "738899",
    "end": "745079"
  },
  {
    "text": "ability to prototype very very quickly and so here's where we think where uh",
    "start": "745079",
    "end": "750360"
  },
  {
    "text": "the monolithic architecture is appropriate and you know this is uh the previous talk talked about how they started in a monolith and you know I",
    "start": "750360",
    "end": "756959"
  },
  {
    "text": "would recommend everybody do the same so single application single database and basically no infrastructure right so",
    "start": "756959",
    "end": "763500"
  },
  {
    "text": "what we want to do here is ideally something kind of like platform as a service where we build that monolith on",
    "start": "763500",
    "end": "769260"
  },
  {
    "text": "top of that so uh the architecture the architecture diagram such as it is and",
    "start": "769260",
    "end": "774480"
  },
  {
    "start": "771000",
    "end": "957000"
  },
  {
    "text": "apologies to Simon Brown in the room um for uh is super simple like it's you",
    "start": "774480",
    "end": "780600"
  },
  {
    "text": "know we shouldn't try to get too fancy because our problem our problem statement isn't isn't too fancy yet",
    "start": "780600",
    "end": "786899"
  },
  {
    "text": "um so what are you know all of engineering is about trade-offs and so what are the trade-offs that we have right here so uh there are some good",
    "start": "786899",
    "end": "793980"
  },
  {
    "text": "things about a monolithic architecture even though it's you know a slur a lot of the time um so it's simple at first right",
    "start": "793980",
    "end": "801180"
  },
  {
    "text": "um anytime we're communicating with different parts of the system the latencies are in process so that so you",
    "start": "801180",
    "end": "806639"
  },
  {
    "text": "know everything is a lot faster you know a lot faster than it would be if it were if there were Network involved it's a it's typically a single build in a",
    "start": "806639",
    "end": "813060"
  },
  {
    "text": "single deployment unit that's almost a definition of a monolith and then it's pretty resource efficient at small scale",
    "start": "813060",
    "end": "818700"
  },
  {
    "text": "actually um but of course there are there are a bunch of cons right so as our team grows the coordination overhead of being in",
    "start": "818700",
    "end": "825660"
  },
  {
    "text": "the same monolith you know grows uh grows with the team um there's poor enforcement of",
    "start": "825660",
    "end": "831360"
  },
  {
    "text": "modularity right to the extent that there's modularity within the monolith it's because we've had discipline around",
    "start": "831360",
    "end": "836519"
  },
  {
    "text": "it as opposed to you know being essentially forced through barriers to",
    "start": "836519",
    "end": "841680"
  },
  {
    "text": "um to be modular um there's there's a very little opportunity for us to do horizontal",
    "start": "841680",
    "end": "846839"
  },
  {
    "text": "scaling at this point and then it's also again that by definition the monolith is a sort of single point of failure in a",
    "start": "846839",
    "end": "853680"
  },
  {
    "text": "single performance bottleneck so what you'll notice is that these cons are all things that happen at scale and again uh",
    "start": "853680",
    "end": "861480"
  },
  {
    "text": "we're in that starting phase so we don't really have any of these problems yet so it's pretty it's a pretty good bet for",
    "start": "861480",
    "end": "867480"
  },
  {
    "text": "us to you know stick with stick with a monolith in the in the early days um so other things that I think are",
    "start": "867480",
    "end": "873360"
  },
  {
    "text": "appropriate at this St at this scale of architecture include really prioritizing buying stuff and taking from other",
    "start": "873360",
    "end": "879540"
  },
  {
    "text": "people's software rather than you know building it ourselves so we want to make sure that we're spending um uh that we're prioritizing leveraging",
    "start": "879540",
    "end": "887040"
  },
  {
    "text": "a bunch of cloud infrastructure which of course would be you know a lot faster a lot cheaper a lot better than we've been",
    "start": "887040",
    "end": "892079"
  },
  {
    "text": "able to do ourselves um and then you know the companies that are that are like this Stitch fix and",
    "start": "892079",
    "end": "897180"
  },
  {
    "text": "wework in my example have no physical compute infrastructure anywhere in the world so just completely completely in",
    "start": "897180",
    "end": "903480"
  },
  {
    "text": "the cloud um we want to prefer open source so usually the open source Technologies",
    "start": "903480",
    "end": "909779"
  },
  {
    "text": "particularly now are even better than the commercial Alternatives so we definitely want to make sure that we're",
    "start": "909779",
    "end": "915120"
  },
  {
    "text": "uh we're optimizing for leveraging other people's work rather than building things ourselves",
    "start": "915120",
    "end": "921000"
  },
  {
    "text": "uh so along those lines we want to make sure that we're leveraging third-party services as much as we as much as we can",
    "start": "921000",
    "end": "926399"
  },
  {
    "text": "so leveraging things uh for infrastructure like logging and monitoring and alerting uh leveraging",
    "start": "926399",
    "end": "933260"
  },
  {
    "text": "authentication providers leveraging other um uh other services for things like",
    "start": "933260",
    "end": "938820"
  },
  {
    "text": "payments and billing and fraud detection Etc and again what we're trying to do here is focus on our core competency and",
    "start": "938820",
    "end": "945060"
  },
  {
    "text": "use third-party services for absolutely everything else but there are a couple of things that we",
    "start": "945060",
    "end": "950339"
  },
  {
    "text": "can do to make our monolith uh better and then we're going to talk about where we where we go from there in a moment so",
    "start": "950339",
    "end": "957360"
  },
  {
    "start": "957000",
    "end": "1020000"
  },
  {
    "text": "um the first thing that I would say here is enforcing within the team what I'll call a modularity discipline within the",
    "start": "957360",
    "end": "962880"
  },
  {
    "text": "monolith so I think it's really important that we even though uh there's",
    "start": "962880",
    "end": "968100"
  },
  {
    "text": "no enforcement of that modularity through through like the physical structure that we do that do that as a discipline within our development team",
    "start": "968100",
    "end": "974100"
  },
  {
    "text": "and if to the extent that we use you know modules or shared libraries essentially within that mod that",
    "start": "974100",
    "end": "979139"
  },
  {
    "text": "monolith it makes it easy to modify and replace them and it also sets us up well for",
    "start": "979139",
    "end": "984480"
  },
  {
    "text": "um for the future uh when we want to break this up um the other thing that I think is really important here is uh spending a",
    "start": "984480",
    "end": "991500"
  },
  {
    "text": "lot of time on detailed logging and exp and instrumentation so uh particularly in this in this phase where we're",
    "start": "991500",
    "end": "997740"
  },
  {
    "text": "rapidly iterating we want to make sure that we that we understand our user Behavior really really deeply and that",
    "start": "997740",
    "end": "1003800"
  },
  {
    "text": "allows us to understand what problems the users are facing and what Solutions we might be able to offer them and then",
    "start": "1003800",
    "end": "1009560"
  },
  {
    "text": "obviously also from a from a just kind of like operational perspective um enabling a better diagnosis and",
    "start": "1009560",
    "end": "1015680"
  },
  {
    "text": "better recovery when we have more logging and instrumentation so uh the other the other thing that I",
    "start": "1015680",
    "end": "1021980"
  },
  {
    "start": "1020000",
    "end": "1080000"
  },
  {
    "text": "think it's really important to prioritize at this stage is making sure that we're able to iterate to iterate",
    "start": "1021980",
    "end": "1027558"
  },
  {
    "text": "rapidly and and um and uh update the software quickly so again we want to make and make investments in continuous",
    "start": "1027559",
    "end": "1034040"
  },
  {
    "text": "delivery so that would be you know making sure that we invest in a repeatable deployment pipeline where we",
    "start": "1034040",
    "end": "1039319"
  },
  {
    "text": "have a you know low risk push button deployment that tells us whether it's safe to move move on that allows us even",
    "start": "1039319",
    "end": "1045319"
  },
  {
    "text": "within this monolith to have like a Rapid Release Cadence allows us to rapidly uh roll forward rapidly roll",
    "start": "1045319",
    "end": "1051919"
  },
  {
    "text": "back and rapidly recover it also ends up giving us a much more solid systems it",
    "start": "1051919",
    "end": "1057380"
  },
  {
    "text": "allows us to release smaller units of work as we learned about in the keynote this morning it gives and if we have",
    "start": "1057380",
    "end": "1063740"
  },
  {
    "text": "smaller it allows us to have smaller changes that we roll forward roll back and roll forward which gives us the",
    "start": "1063740",
    "end": "1069380"
  },
  {
    "text": "ability to like repair things more quickly understand things more clearly when we make changes and then it's",
    "start": "1069380",
    "end": "1074600"
  },
  {
    "text": "simpler to diagnose when something goes wrong uh the last idea that I would want to add here is a feature flag so as again",
    "start": "1074600",
    "end": "1082220"
  },
  {
    "start": "1080000",
    "end": "1242000"
  },
  {
    "text": "as we all know um it's it's the capability of adding a config configuration flag to enable or",
    "start": "1082220",
    "end": "1088520"
  },
  {
    "text": "disable a feature for a particular set of users um and it's been around for many many years of course",
    "start": "1088520",
    "end": "1094460"
  },
  {
    "text": "um now we can buy them as third-party services which is great and again it's another Cape another tool in our toolbox",
    "start": "1094460",
    "end": "1100400"
  },
  {
    "text": "to to have us develop more solid systems so we can decouple decouple code",
    "start": "1100400",
    "end": "1105440"
  },
  {
    "text": "delivery from feature delivery we can rapidly turn things on and off for either business reasons or operation",
    "start": "1105440",
    "end": "1110960"
  },
  {
    "text": "reasons Etc and it allows us to develop and test and verify our our system in",
    "start": "1110960",
    "end": "1116480"
  },
  {
    "text": "production and then the last thing obviously that's really important for this is that particularly again as we're doing all this iteration as we wanted is",
    "start": "1116480",
    "end": "1122660"
  },
  {
    "text": "we want to do experimentation again as we heard in the keynote this morning and so it's important so the ability to show",
    "start": "1122660",
    "end": "1127880"
  },
  {
    "text": "things to some users and not other users allows us to experiment in a in a statistically valid way and why is that",
    "start": "1127880",
    "end": "1134240"
  },
  {
    "text": "so important well I hope I wonder if people have heard this statistics so Ronnie kohavi who used to run",
    "start": "1134240",
    "end": "1140299"
  },
  {
    "text": "experimentation at Microsoft and at Amazon and I think now he's at Airbnb learned this so",
    "start": "1140299",
    "end": "1148039"
  },
  {
    "text": "um so it turns out that uh at Microsoft they they looked at you know the features that they produced and did they",
    "start": "1148039",
    "end": "1155120"
  },
  {
    "text": "were they good or neutral or poor and it turns out that one-third of the features that they produced were positive were",
    "start": "1155120",
    "end": "1162559"
  },
  {
    "text": "positive Direct in a positive direction and were statistically significantly positive but two-thirds of the features",
    "start": "1162559",
    "end": "1168799"
  },
  {
    "text": "that they produced were either flat no difference or they were statistically significant in the negative Direction so",
    "start": "1168799",
    "end": "1175580"
  },
  {
    "text": "um this is this is a really sobering uh thought that we really need to make sure",
    "start": "1175580",
    "end": "1180860"
  },
  {
    "text": "that we um that we're even though you know we might think that the feature is",
    "start": "1180860",
    "end": "1186260"
  },
  {
    "text": "particularly good that we want to release I mean obviously that's why we're doing it but two-thirds of the time were wrong about that so we want we",
    "start": "1186260",
    "end": "1192860"
  },
  {
    "text": "need to make sure that you know you know that we that we give ourselves the um operational and and uh and software",
    "start": "1192860",
    "end": "1199400"
  },
  {
    "text": "Tools in order for us to experiment quickly and notice when uh things are good and continue to do more of those",
    "start": "1199400",
    "end": "1205220"
  },
  {
    "text": "and notice when things are flattered down and do less of those okay",
    "start": "1205220",
    "end": "1210980"
  },
  {
    "text": "so uh so now let's move on to the next phase which I'll call the scaling phase so now rather than one team we're we're",
    "start": "1210980",
    "end": "1217760"
  },
  {
    "text": "several teams and we're growing uh growing and adding more teams now we have a longer time Horizon so it",
    "start": "1217760",
    "end": "1223220"
  },
  {
    "text": "actually makes more sense for us to invest in longer term uh approaches",
    "start": "1223220",
    "end": "1228260"
  },
  {
    "text": "um but again as uh if I if I look overall at like the number of applications that are that are in this",
    "start": "1228260",
    "end": "1233600"
  },
  {
    "text": "uh you know in the world like it's a pretty small percentage that are actually going to benefit from the things that we're going to talk about",
    "start": "1233600",
    "end": "1238880"
  },
  {
    "text": "going forward um so uh maybe the first question is when do we what are the what are the",
    "start": "1238880",
    "end": "1246020"
  },
  {
    "start": "1242000",
    "end": "1390000"
  },
  {
    "text": "warning signs when we're running out of um uh when we're running out of gas in the monolith so the first one that I've",
    "start": "1246020",
    "end": "1253220"
  },
  {
    "text": "seen in my personal experience is what I'll call feature velocity like our ability to to rapidly release new",
    "start": "1253220",
    "end": "1260299"
  },
  {
    "text": "features sort of ends up slowing down and ossifying and so our time to Market is slowing down teams are stepping on",
    "start": "1260299",
    "end": "1266840"
  },
  {
    "text": "each other's toes because they're in the monolith and they're no longer able to develop independently um and then the other kind of related",
    "start": "1266840",
    "end": "1273799"
  },
  {
    "text": "um uh warning sign is that when we're bringing new Engineers onto the team is it difficult for them to be productive",
    "start": "1273799",
    "end": "1279380"
  },
  {
    "text": "right like uh if they're able to show up and be productive pretty quickly okay we have a great modular system if if they",
    "start": "1279380",
    "end": "1285500"
  },
  {
    "text": "have to understand a lot of interdependencies and um you know a big ball of mud like that's a that's a",
    "start": "1285500",
    "end": "1290600"
  },
  {
    "text": "that's an issue and we need to make sure that we that we deal with it um the other the other reason uh that",
    "start": "1290600",
    "end": "1297020"
  },
  {
    "text": "I've off whoops the other reason that I've often seen in terms of re-architecture is simply scaling right so when the vertical scaling of the",
    "start": "1297020",
    "end": "1303740"
  },
  {
    "text": "monolith runs out of gas and it no longer uh gives us enough to continue to you know keep up with our rapidly",
    "start": "1303740",
    "end": "1309980"
  },
  {
    "text": "growing site and parts of the system need to scale faster than other parts of the system",
    "start": "1309980",
    "end": "1315679"
  },
  {
    "text": "um and then the last thing which of is rarely alone but it's usually in",
    "start": "1315679",
    "end": "1321080"
  },
  {
    "text": "combination with either or both of the Velocity point or the scaling point is that parts of the system want to want to",
    "start": "1321080",
    "end": "1326960"
  },
  {
    "text": "be deployed independently right so you know the monolithic releases 2 slow because it you know bundles everything",
    "start": "1326960",
    "end": "1332840"
  },
  {
    "text": "up together it's too complicated or it's too risky and so you know every you know",
    "start": "1332840",
    "end": "1338720"
  },
  {
    "text": "we might ask ourselves like every why are we uh redeploying the authentication system every time we update the",
    "start": "1338720",
    "end": "1344840"
  },
  {
    "text": "JavaScript right like that would be pretty silly okay um and uh so a lot of times uh people uh",
    "start": "1344840",
    "end": "1355280"
  },
  {
    "text": "are like well you know why didn't we just build it right the first time right like why didn't we just build",
    "start": "1355280",
    "end": "1360500"
  },
  {
    "text": "scale in from the very beginning uh and the way I like to think about it is getting to re-architect a system is a",
    "start": "1360500",
    "end": "1367039"
  },
  {
    "text": "sign of our success rather than our failure right like why are we re-architecting it's because people care",
    "start": "1367039",
    "end": "1372980"
  },
  {
    "text": "and because the initial things that we did uh are no longer keeping up with you",
    "start": "1372980",
    "end": "1378500"
  },
  {
    "text": "know the the usage and the growth and the uh and the scaling of the system so uh again I think I think uh",
    "start": "1378500",
    "end": "1385520"
  },
  {
    "text": "re-architecture is a success uh measure not a not a failure measure okay so when",
    "start": "1385520",
    "end": "1391580"
  },
  {
    "start": "1390000",
    "end": "1577000"
  },
  {
    "text": "we say scalable architecture what do we mean so our goal here is to stay ahead of this rapidly growing business and we",
    "start": "1391580",
    "end": "1397640"
  },
  {
    "text": "want to keep the site up or keep the app up um now it's about scaling the teams now",
    "start": "1397640",
    "end": "1403580"
  },
  {
    "text": "it's about scaling the technology and now it's about introducing repeatable processes that allow us to continue to",
    "start": "1403580",
    "end": "1409580"
  },
  {
    "text": "do things in a scalable and repeatable and reliable way so our organization starts to look something like this right",
    "start": "1409580",
    "end": "1416299"
  },
  {
    "text": "so we have a bunch of individual teams Each of which we want to make sure are independent of each other",
    "start": "1416299",
    "end": "1422000"
  },
  {
    "text": "um and uh each of them are able to iterate quickly and make make lots of improvements uh to the software so each",
    "start": "1422000",
    "end": "1428480"
  },
  {
    "text": "one of those teams is uh to borrow a phrase from the excellent team topologies book each one of those teams",
    "start": "1428480",
    "end": "1433940"
  },
  {
    "text": "is a sort of stream aligned team so each one of those teams is going to build and maintain hopefully a single service and",
    "start": "1433940",
    "end": "1440179"
  },
  {
    "text": "application or a small set of service of related services and applications we want to make sure that those teams are",
    "start": "1440179",
    "end": "1446419"
  },
  {
    "text": "able to design to deploy to operate their systems all independently of the other teams and we also want to make",
    "start": "1446419",
    "end": "1453020"
  },
  {
    "text": "sure that those teams own the services and applications that they build all the way end-to-end Cradle to grave and so",
    "start": "1453020",
    "end": "1459260"
  },
  {
    "text": "what does this imply about the architecture given that now we have a new set of goals and a new set of constraints right so now we want to now",
    "start": "1459260",
    "end": "1466460"
  },
  {
    "text": "we want to move to technologies that scale right so now it's a now it's common for companies to Mike to",
    "start": "1466460",
    "end": "1473240"
  },
  {
    "text": "potentially change their language from you know the old prototyping Frameworks to something that's more I don't know",
    "start": "1473240",
    "end": "1479059"
  },
  {
    "text": "Enterprise class if you like we really need to now we're starting to pay attention to latency and performance and",
    "start": "1479059",
    "end": "1485179"
  },
  {
    "text": "now we want to start introducing capabilities of asynchrony and event driven event-driven capabilities",
    "start": "1485179",
    "end": "1491720"
  },
  {
    "text": "um now we want to start introducing what I'll call Independent systems so here's the phase where we're introducing fit",
    "start": "1491720",
    "end": "1498380"
  },
  {
    "text": "for purpose systems like like a custom analytics systems or a separate rather separate analytic systems like a",
    "start": "1498380",
    "end": "1504919"
  },
  {
    "text": "separate search um set now now is the time when we're starting to build or or leverage",
    "start": "1504919",
    "end": "1510200"
  },
  {
    "text": "separated services and usually it starts with money for a lot of reasons right so",
    "start": "1510200",
    "end": "1515539"
  },
  {
    "text": "um breaking out payment systems and so on like that and then also uh also we're going to be in a situation we're going",
    "start": "1515539",
    "end": "1521000"
  },
  {
    "text": "to start layering those layering those services and then uh very similar to that to the talk that we just uh we just",
    "start": "1521000",
    "end": "1527659"
  },
  {
    "text": "heard about event driven about migrating to event driven architecture this is this is a time where we're going to",
    "start": "1527659",
    "end": "1533600"
  },
  {
    "text": "start to introduce something like that some kind of event queue or message broker or something like that that allows us to use messages to communicate",
    "start": "1533600",
    "end": "1540020"
  },
  {
    "text": "between the separate applications and services in our overall architecture and then the other aspect here is we want to",
    "start": "1540020",
    "end": "1547100"
  },
  {
    "text": "start introducing scalable persistence mechanisms so we're going to talk about this in more detail in a more moment but",
    "start": "1547100",
    "end": "1552919"
  },
  {
    "text": "like to the extent that we still that we have a monolithic database we're going to be breaking it up or figure figure out how to do that we're going to be",
    "start": "1552919",
    "end": "1558919"
  },
  {
    "text": "functionally partitioning the database into parts that you know serve one part one set of entities and",
    "start": "1558919",
    "end": "1565820"
  },
  {
    "text": "um other and other part with other side of that survey another set of entities and then we're probably then if um and",
    "start": "1565820",
    "end": "1571580"
  },
  {
    "text": "then sharding these things is an appropriate thing that starts to happen now okay",
    "start": "1571580",
    "end": "1577340"
  },
  {
    "start": "1577000",
    "end": "1746000"
  },
  {
    "text": "so now we're in the microservices world right and so just super briefly I want to make sure that we're all talking",
    "start": "1577340",
    "end": "1583279"
  },
  {
    "text": "about the same thing so to me a microservice is a is a service that serves a single purpose it's got a",
    "start": "1583279",
    "end": "1589340"
  },
  {
    "text": "simple well-defined interface and then and the um the micro The Individual Services are modular and independent and",
    "start": "1589340",
    "end": "1595820"
  },
  {
    "text": "then a critical aspect um is that those microservices own their own persistence right that they",
    "start": "1595820",
    "end": "1602419"
  },
  {
    "text": "um uh that the only way to get data into or out of a microservice is through the front door through the the main service",
    "start": "1602419",
    "end": "1609740"
  },
  {
    "text": "interface and there's nobody who has a back door to you know our database or our data storage mechanism",
    "start": "1609740",
    "end": "1616159"
  },
  {
    "text": "okay uh just like um just like in um the model the monolithic architecture the",
    "start": "1616159",
    "end": "1622880"
  },
  {
    "text": "microservice architecture also has pros and cons so the pros here are now each individual unit is simple uh we can",
    "start": "1622880",
    "end": "1629600"
  },
  {
    "text": "independently scale those individual service units we can independently deploy those uh those service units",
    "start": "1629600",
    "end": "1635659"
  },
  {
    "text": "that's one of the reasons why we moved to this architecture and then we can potentially we have the option to choose",
    "start": "1635659",
    "end": "1640880"
  },
  {
    "text": "a separate technology stack if we so choose when it's appropriate for you know particular Services separate from",
    "start": "1640880",
    "end": "1647539"
  },
  {
    "text": "other services and then also I think you know less well appreciated it less less appreciated than it should be is",
    "start": "1647539",
    "end": "1653900"
  },
  {
    "text": "Individual Services become their own security and compliance boundaries as well so it's so that allows us to you",
    "start": "1653900",
    "end": "1660140"
  },
  {
    "text": "know isolate the parts of the system that deal with managing money or managing uh personally identifiable",
    "start": "1660140",
    "end": "1665240"
  },
  {
    "text": "information or managing uh fraud detection or something like that so the the service mechanism gives us that",
    "start": "1665240",
    "end": "1671779"
  },
  {
    "text": "modularity to be able to bound the parts of the system that do the like complicate or scary or uh compliance",
    "start": "1671779",
    "end": "1679340"
  },
  {
    "text": "related stuff okay but you know it's not all rainbows and unicorns right so",
    "start": "1679340",
    "end": "1684380"
  },
  {
    "text": "microservice architecture you know has a bunch of cons so now even though each unit is simple now we have multiple",
    "start": "1684380",
    "end": "1690679"
  },
  {
    "text": "cooperating units we've exchanged those uh in process latencies for Network latencies now we need to introduce much",
    "start": "1690679",
    "end": "1697940"
  },
  {
    "text": "more sophisticated deployment and monitoring capabilities and arguably the overall system complexity at least from",
    "start": "1697940",
    "end": "1704419"
  },
  {
    "text": "a boxes and lines perspective is higher in this microservice world than it was in a monolithic world",
    "start": "1704419",
    "end": "1710539"
  },
  {
    "text": "okay so now I want to spend a little bit of time talking about well how do we get from there to here right so how do we",
    "start": "1710539",
    "end": "1717200"
  },
  {
    "text": "get from a monolithic architecture to a microservice architecture and I'm going to give you a couple of different ways",
    "start": "1717200",
    "end": "1722419"
  },
  {
    "text": "of looking at that problem uh all from all from my experience where sometimes I've done it well and sometimes I've",
    "start": "1722419",
    "end": "1727580"
  },
  {
    "text": "done it poorly but I think what I would universally say is again to quote uh the",
    "start": "1727580",
    "end": "1732980"
  },
  {
    "text": "wonderful Martin Fowler you definitely don't want to do a big bang uh migration all in one go so the only thing a big",
    "start": "1732980",
    "end": "1739640"
  },
  {
    "text": "bang migration is a big bang the only thing it guarantees rather is a big bang okay",
    "start": "1739640",
    "end": "1746240"
  },
  {
    "start": "1746000",
    "end": "2086000"
  },
  {
    "text": "um so the first slice or dimension of this migration that I want to talk about is doing it incrementally so",
    "start": "1746240",
    "end": "1753740"
  },
  {
    "text": "um uh when when you're in a situation at like as eBay was you know back in that horrible V2 isap e dll with a 3.4",
    "start": "1753740",
    "end": "1761539"
  },
  {
    "text": "million lines of code you wanna you wanna the first the first step or the Step Zero as I like to say before we do",
    "start": "1761539",
    "end": "1767059"
  },
  {
    "text": "one of these as we do one of these migrations is pilot out building the building something in the new system so",
    "start": "1767059",
    "end": "1773179"
  },
  {
    "text": "that we can figure out whether it works and and optimize for Learning and learn really quickly uh how to do it well and",
    "start": "1773179",
    "end": "1778279"
  },
  {
    "text": "how to do it poorly so I very advisedly am using the term pilot here rather than",
    "start": "1778279",
    "end": "1784039"
  },
  {
    "text": "prototype because I want we want to change we want to select something that actually matters to our users",
    "start": "1784039",
    "end": "1790820"
  },
  {
    "text": "um so what usually I recommend taking a particular end-to-end vertical experience whether it's some new thing",
    "start": "1790820",
    "end": "1796880"
  },
  {
    "text": "or some existing thing and we build that entirely entire part of the system in",
    "start": "1796880",
    "end": "1802700"
  },
  {
    "text": "the new way rather than in the old way and why do we do it that way it's because this is our opportunity to like",
    "start": "1802700",
    "end": "1808399"
  },
  {
    "text": "optimize for learning to learn and adjust in in the new um uh in the new architecture approach",
    "start": "1808399",
    "end": "1814580"
  },
  {
    "text": "it um we need to prove to ourselves that it's going to work so it allows us to demonstrate the feasibility and",
    "start": "1814580",
    "end": "1820159"
  },
  {
    "text": "demonstrate and allows us to gain confidence in um that we can do it but",
    "start": "1820159",
    "end": "1825500"
  },
  {
    "text": "it also allows us to focus very clearly on one particular area so we don't have to solve all the potential all the",
    "start": "1825500",
    "end": "1831440"
  },
  {
    "text": "problems around the entire aspect of our system but solve problems that are just targeted in one particular area and it",
    "start": "1831440",
    "end": "1837860"
  },
  {
    "text": "also bounds our investment and risk in case it doesn't go particularly well the first time and this initial step is",
    "start": "1837860",
    "end": "1844159"
  },
  {
    "text": "really the hardest right so we're learning to do things in a new way you know again in the in the last talk it",
    "start": "1844159",
    "end": "1849860"
  },
  {
    "text": "was you know the team learning how to do things in a microservices way when they were used to doing it in a monolithic way and also uh it you know by by its",
    "start": "1849860",
    "end": "1857480"
  },
  {
    "text": "nature you know we're having to build out a bunch of supporting capabilities in order to to get this to to start up",
    "start": "1857480",
    "end": "1864559"
  },
  {
    "text": "um and now and once that pilot is successful and what we've learned from it now we now own now and only now",
    "start": "1864559",
    "end": "1869600"
  },
  {
    "text": "should we start rolling out this migration and start attacking the Remain the rest of the system the main part of",
    "start": "1869600",
    "end": "1875659"
  },
  {
    "text": "the system so um the way I like to approach this is a little bit counter-intuitive",
    "start": "1875659",
    "end": "1881120"
  },
  {
    "text": "um so I like to think I like to again um because we've de-risked it and we've",
    "start": "1881120",
    "end": "1886460"
  },
  {
    "text": "uh we've done this we've done the pilot now we know that it's going to work so now I'm thinking about for this uh how",
    "start": "1886460",
    "end": "1893539"
  },
  {
    "text": "what can I how can I maximize my Roi in terms of the investment that I'm making in this in this um uh in this migration",
    "start": "1893539",
    "end": "1900260"
  },
  {
    "text": "so I actually uh would often recommend prioritizing the big the biggest bang for the buck things first and that",
    "start": "1900260",
    "end": "1907460"
  },
  {
    "text": "allows us to maximize the near-term payoff from that limited investment or finite investment that we're going to",
    "start": "1907460",
    "end": "1912860"
  },
  {
    "text": "make in this migration and it also forces us to confront and solve a bunch of harder problems earlier rather than",
    "start": "1912860",
    "end": "1918860"
  },
  {
    "text": "later in the um uh in the time and and actually that's exactly how eBay did",
    "start": "1918860",
    "end": "1926419"
  },
  {
    "text": "its V2 to V3 migration actually so again they did up they did a pilot and then",
    "start": "1926419",
    "end": "1931700"
  },
  {
    "text": "they actually reverse sorted all the pages on the site by Revenue contribution and they started migrating",
    "start": "1931700",
    "end": "1937460"
  },
  {
    "text": "the ones that were like the highest contribution and again that seems a little bit crazy but the reason that we",
    "start": "1937460",
    "end": "1943580"
  },
  {
    "text": "did it that way was because those are the areas that really matter like those are the areas where if we can get them",
    "start": "1943580",
    "end": "1948980"
  },
  {
    "text": "on the new architecture and allow um allow us to you know re-re move",
    "start": "1948980",
    "end": "1955039"
  },
  {
    "text": "change really quickly um then that's going to give us a lot a lot more uh value as a business okay",
    "start": "1955039",
    "end": "1962659"
  },
  {
    "text": "while we're doing this migration you can never avoid doing new feature development in parallel right so uh it",
    "start": "1962659",
    "end": "1969500"
  },
  {
    "text": "would never be correct for us to say sorry business for the next whatever quarter year two years no more new",
    "start": "1969500",
    "end": "1977059"
  },
  {
    "text": "features thank you very much like that's that would be deeply wrong on a bunch of different levels so uh there's really",
    "start": "1977059",
    "end": "1984620"
  },
  {
    "text": "can't pause the feature work so um uh the way I like to think about it though is within any particular",
    "start": "1984620",
    "end": "1990440"
  },
  {
    "text": "component any time that we're doing we're releasing something that release should either that deployment should",
    "start": "1990440",
    "end": "1996620"
  },
  {
    "text": "either be a feature change holding the kind of migration constant or a",
    "start": "1996620",
    "end": "2001840"
  },
  {
    "text": "migration change holding the features constant does it make sense what I'm saying there because we want to because",
    "start": "2001840",
    "end": "2007419"
  },
  {
    "text": "we're um we want to make sure that we're like only changing one variable at a time and the worst thing that we can do",
    "start": "2007419",
    "end": "2013059"
  },
  {
    "text": "is migrate a part of the system to you know to the new architecture and also do",
    "start": "2013059",
    "end": "2018820"
  },
  {
    "text": "feature changes in it at the same time because then when not if something goes wrong we it's hard for us to unpack",
    "start": "2018820",
    "end": "2025000"
  },
  {
    "text": "whether it was the migration and the architecture or it was the new feature that we did okay",
    "start": "2025000",
    "end": "2030640"
  },
  {
    "text": "um and then this this comes from my experience at eBay and other places but it turns out that the uh the resid their",
    "start": "2030640",
    "end": "2037179"
  },
  {
    "text": "residual components of that original architecture they might remain indefinitely like there were years after",
    "start": "2037179",
    "end": "2042580"
  },
  {
    "text": "the V3 migration was supposedly done at eBay where there were still a few a few pages that were served by V2 and that",
    "start": "2042580",
    "end": "2050200"
  },
  {
    "text": "and but again because they did it kind of in in priority order and like in that reverse order of uh Revenue contribution",
    "start": "2050200",
    "end": "2057760"
  },
  {
    "text": "um reverse sort of a revenue contribution uh the stuff that remained was like not that interesting and not",
    "start": "2057760",
    "end": "2063339"
  },
  {
    "text": "that difficult and wasn't changing very often so uh it was a you know there wasn't a lot of business case for us to",
    "start": "2063339",
    "end": "2069099"
  },
  {
    "text": "continue to finish those things uh on a super fast Cadence okay",
    "start": "2069099",
    "end": "2074919"
  },
  {
    "text": "so now the other uh the other aspect that I want to talk about in terms of migration is two different patterns for",
    "start": "2074919",
    "end": "2080919"
  },
  {
    "text": "how to do a monolith to microservices kind of transition",
    "start": "2080919",
    "end": "2086200"
  },
  {
    "start": "2086000",
    "end": "2194000"
  },
  {
    "text": "um so the first the first one is when we have the problem of a monolithic",
    "start": "2086200",
    "end": "2091480"
  },
  {
    "text": "application um this is uh this is the way that I that I approach it and found success",
    "start": "2091480",
    "end": "2096760"
  },
  {
    "text": "with this so the first thing that we want to do is we want to look for or create what's called a seam in the",
    "start": "2096760",
    "end": "2102220"
  },
  {
    "text": "monolith and I just love Michael feathers in his working effectively with Legacy code book talking about seams",
    "start": "2102220",
    "end": "2108940"
  },
  {
    "text": "when we're doing when we're doing migrations and re-implementations and often it's the",
    "start": "2108940",
    "end": "2114820"
  },
  {
    "text": "hardest part because we might actually have to do a bunch of work and refactoring in order to create this seam but what we found a seam for the",
    "start": "2114820",
    "end": "2121359"
  },
  {
    "text": "particular area that we want to pull out now we want to wall that off behind an interface so like whatever whatever uh",
    "start": "2121359",
    "end": "2129420"
  },
  {
    "text": "language or you know framework that we're using whatever your interface mechanism is like wall that area off by",
    "start": "2129420",
    "end": "2135099"
  },
  {
    "text": "the behind the interface and the only way to get in and out is through that uh that interface now we want to write",
    "start": "2135099",
    "end": "2142480"
  },
  {
    "text": "automated tests around that interface uh please don't skip this step if you do you're you'll be in for a",
    "start": "2142480",
    "end": "2149200"
  },
  {
    "text": "world of hurt ask me how I know that uh uh in fact uh when I started you know in",
    "start": "2149200",
    "end": "2155619"
  },
  {
    "text": "this industry I had hair so um you know there you go uh okay so please write automated tests",
    "start": "2155619",
    "end": "2161859"
  },
  {
    "text": "around that interface that's why we spent the effort to find that seam and to build the interface now and only now",
    "start": "2161859",
    "end": "2167380"
  },
  {
    "text": "are do we should we feel safe to replace that in-process implementation with an independent component and then now we",
    "start": "2167380",
    "end": "2174460"
  },
  {
    "text": "can start to do we do you know rinse and repeat right we'll do that for another part of the of the system another part of the system another part of the system",
    "start": "2174460",
    "end": "2180099"
  },
  {
    "text": "does this make sense okay cool great lots of nods okay this is if you if if we have the monolithic",
    "start": "2180099",
    "end": "2186640"
  },
  {
    "text": "application problem and there are other patterns too but this is one that I've used more often even than the Strangler uh the Strangler pattern",
    "start": "2186640",
    "end": "2193119"
  },
  {
    "text": "um now now separate now if your problem is the monolithic database here's here's",
    "start": "2193119",
    "end": "2198400"
  },
  {
    "start": "2194000",
    "end": "2454000"
  },
  {
    "text": "a way to kind of help migrate uh migrate that to services and so the example here was some work it was a bunch of work",
    "start": "2198400",
    "end": "2203980"
  },
  {
    "text": "that we did at Stitch fix in order to break up the monolithic database that we had so the problem is that we had a",
    "start": "2203980",
    "end": "2210160"
  },
  {
    "text": "bunch of different applications and services all uh all leveraging the same shared database and you can imagine that",
    "start": "2210160",
    "end": "2215859"
  },
  {
    "text": "shared database is a single performance bottleneck uh uh a single point of failure uh it's a challenge",
    "start": "2215859",
    "end": "2223060"
  },
  {
    "text": "um who has who has worked with architectures that look like this okay quite a lot",
    "start": "2223060",
    "end": "2228900"
  },
  {
    "text": "all right I don't feel so bad um okay so what we want to do is we want",
    "start": "2228900",
    "end": "2234160"
  },
  {
    "text": "to decouple those applications and services from that shared database so let's let's you know just to keep the",
    "start": "2234160",
    "end": "2240339"
  },
  {
    "text": "boxes and lines clean let's imagine we have two applications and three tables rather than 100 applications and",
    "start": "2240339",
    "end": "2245920"
  },
  {
    "text": "hundreds of tables okay so the first thing that we want to do is we want to create a new service that's going to be",
    "start": "2245920",
    "end": "2252820"
  },
  {
    "text": "uh that's going to cover a particular you know consistent part of the part of",
    "start": "2252820",
    "end": "2258880"
  },
  {
    "text": "the coherent part of the database so in this example we're going to move out client client capabilities that's what",
    "start": "2258880",
    "end": "2265119"
  },
  {
    "text": "we call customers at eBay at Stitch fix so we're going to create the client service and now we're going to spend time and",
    "start": "2265119",
    "end": "2272440"
  },
  {
    "text": "there's an investment here to move all the applications that we're directly using that mono that uh the table in the",
    "start": "2272440",
    "end": "2278859"
  },
  {
    "text": "monolithic database and move those to use the service there's probably a bunch of iteration in here and there's",
    "start": "2278859",
    "end": "2284020"
  },
  {
    "text": "definitely a lot of work so just because I can flick you know flip back and forth uh it's not it's not so clean and I'm",
    "start": "2284020",
    "end": "2290500"
  },
  {
    "text": "not implying that that it is but this is the next step um please do not stop here",
    "start": "2290500",
    "end": "2297760"
  },
  {
    "text": "you laugh but when I showed up at Stitch fix they they had already been doing",
    "start": "2297760",
    "end": "2303460"
  },
  {
    "text": "part of this migration and every single every single thing that they had migrated had stopped at this at this",
    "start": "2303460",
    "end": "2308920"
  },
  {
    "text": "phase why not why do I not want to stop at this phase Randy well it's because uh",
    "start": "2308920",
    "end": "2314200"
  },
  {
    "text": "we have all now we have all the problems of a distributed system right because we have uh we have this service and now",
    "start": "2314200",
    "end": "2320680"
  },
  {
    "text": "we're going over the network to the service from the application uh we have all the problems of a shared data database because we haven't moved any of",
    "start": "2320680",
    "end": "2327640"
  },
  {
    "text": "the data and we've got none of the benefits of the micro of microservices so this is one of those examples and",
    "start": "2327640",
    "end": "2333099"
  },
  {
    "text": "migrations where it starts out at some level of good and you want to get to some level of better but you actually",
    "start": "2333099",
    "end": "2339099"
  },
  {
    "text": "have to be worse for a little while until you can you know uh get better and and reap the benefits of the of the hard",
    "start": "2339099",
    "end": "2345280"
  },
  {
    "text": "work that you've done anyway so please don't stop here as we had done",
    "start": "2345280",
    "end": "2350560"
  },
  {
    "text": "um so now uh now the the next the next step here is for us to take you know so",
    "start": "2350560",
    "end": "2355660"
  },
  {
    "text": "now that only this client service is using the uh the kind of constellation of tables that are around clients in",
    "start": "2355660",
    "end": "2361900"
  },
  {
    "text": "this database now and only now can we move those out into a isolated or I'll call Private database that's associated",
    "start": "2361900",
    "end": "2368500"
  },
  {
    "text": "only with a service and now we just rinse and repeat right so again there's a lot of work",
    "start": "2368500",
    "end": "2373540"
  },
  {
    "text": "associated with this but now we do that with you know in this example items now we do that with uh Styles or skus that's",
    "start": "2373540",
    "end": "2380440"
  },
  {
    "text": "like the in the metadata about the inventory that we have and then the last thing that I want to",
    "start": "2380440",
    "end": "2386260"
  },
  {
    "text": "point out here is that really when we talk about the service these are the boundaries right so the boundary is not",
    "start": "2386260",
    "end": "2391540"
  },
  {
    "text": "just the cert the application part of the service and the code but it also includes again as we were mentioning",
    "start": "2391540",
    "end": "2397180"
  },
  {
    "text": "before it also includes any any data storage associated with that thing and this is really the boundary that we want",
    "start": "2397180",
    "end": "2402880"
  },
  {
    "text": "to keep nice and isolated and clean and modular okay so uh that was that was the scaling",
    "start": "2402880",
    "end": "2410200"
  },
  {
    "text": "phase and how we could migrate from uh from the monolithic architecture that we had the starting phase into the micro",
    "start": "2410200",
    "end": "2415599"
  },
  {
    "text": "into the microservices architecture that's more appropriate at the scaling phase now I'll briefly touch on what",
    "start": "2415599",
    "end": "2420700"
  },
  {
    "text": "I'll call what the last phase is what I'll call optimizing um and uh so here's where you know our",
    "start": "2420700",
    "end": "2428560"
  },
  {
    "text": "um this happens right we were growing really quickly and now you know this partic maybe this particular product",
    "start": "2428560",
    "end": "2434020"
  },
  {
    "text": "line is starting to flatten and we want to be able to make more investments in other parts of the system and other",
    "start": "2434020",
    "end": "2439240"
  },
  {
    "text": "parts of the company so we're kind of you know are in the sort of optimizing uh optimizing case so here's where we",
    "start": "2439240",
    "end": "2446200"
  },
  {
    "text": "have fewer teams we probably have a longer a longer time Horizon even still because we're just going to continue",
    "start": "2446200",
    "end": "2451780"
  },
  {
    "text": "continue on with this and so the appropriate kind of architectural changes that we might make here are all",
    "start": "2451780",
    "end": "2457119"
  },
  {
    "start": "2454000",
    "end": "2530000"
  },
  {
    "text": "about stability right so we want to take a system that's mostly stable and not changing really quickly we want to make",
    "start": "2457119",
    "end": "2462760"
  },
  {
    "text": "it more sustainable more efficient and more effective to maintain so we want to be able maybe want to make you know",
    "start": "2462760",
    "end": "2468820"
  },
  {
    "text": "sustainable and incremental improvements in functionality but there aren't going to be maybe a lot of them or at least at the same level as we were doing before",
    "start": "2468820",
    "end": "2474760"
  },
  {
    "text": "we want and now we also want to make sustainable improvements in operational efficiency as well uh and then then",
    "start": "2474760",
    "end": "2480760"
  },
  {
    "text": "we're probably thinking about consolidating the teams because again we don't need the same the same net level of Team investment as we used to and we",
    "start": "2480760",
    "end": "2487720"
  },
  {
    "text": "can put a bunch of people on on newer stuff that are earlier in those in those s-curves okay so as a as a as a quick",
    "start": "2487720",
    "end": "2494500"
  },
  {
    "text": "sum up here when we were in the starting phase we're usually a single team we want to optimize for Rapid iteration and",
    "start": "2494500",
    "end": "2501339"
  },
  {
    "text": "the appropriate architecture there I would claim is a monolith um in turn in the scaling phase now we have many teams we want to optimize for",
    "start": "2501339",
    "end": "2508480"
  },
  {
    "text": "velocity and scalability and and the appropriate architecture there I would claim is as a microservice architecture",
    "start": "2508480",
    "end": "2514359"
  },
  {
    "text": "and then in the optimizing phase we're more consolidating so we have fewer teams we're are motivated by efficiency",
    "start": "2514359",
    "end": "2520960"
  },
  {
    "text": "and sustainability and we're trying and we're trying to consolidate the architecture to make it easier to maintain",
    "start": "2520960",
    "end": "2526240"
  },
  {
    "text": "okay uh well thank you very much and um I look forward to some questions",
    "start": "2526240",
    "end": "2533099"
  },
  {
    "start": "2530000",
    "end": "2541000"
  },
  {
    "text": "and we've already got some I'll just bring the mic over for you and",
    "start": "2538480",
    "end": "2543300"
  },
  {
    "start": "2541000",
    "end": "2860000"
  },
  {
    "text": "uh can you elaborate a little bit on the consolidating the architecture at the optimizing phase",
    "start": "2544900",
    "end": "2550839"
  },
  {
    "text": "yeah sure um uh in in cases where I've seen it um",
    "start": "2550839",
    "end": "2556180"
  },
  {
    "text": "uh sometimes they'll uh sometimes teams will like combine like let's imagine in",
    "start": "2556180",
    "end": "2561520"
  },
  {
    "text": "our microservices phase we had you know tens of services and you know Services tend to kind of accrete over time and",
    "start": "2561520",
    "end": "2569200"
  },
  {
    "text": "the team wants to be able to like manage things more effectively with a smaller amount of resource investment so",
    "start": "2569200",
    "end": "2575140"
  },
  {
    "text": "sometimes you know services will get combined or they'll go out of their way to like um retire you know retire particular",
    "start": "2575140",
    "end": "2582640"
  },
  {
    "text": "services and like make things a lot simpler does that make sense what you're asking yeah that's what I'm talking about like consolidating like just",
    "start": "2582640",
    "end": "2588220"
  },
  {
    "text": "making it simpler to maintain yeah thank you any other questions",
    "start": "2588220",
    "end": "2593520"
  },
  {
    "text": "foreign for like a bigger company that's already gone through to the optimization stage if they I don't know are branching in a",
    "start": "2597400",
    "end": "2604180"
  },
  {
    "text": "new sector or whatever do you kind of start back from the start with that new team where you go back to like rails and",
    "start": "2604180",
    "end": "2609880"
  },
  {
    "text": "just you know or do you just try and go from that optimize and Branch out that way on how do you balance that yeah sure",
    "start": "2609880",
    "end": "2616900"
  },
  {
    "text": "um I mean I oh I'm always this is not exactly your question I'm always a believer in that idea phase that we do",
    "start": "2616900",
    "end": "2623020"
  },
  {
    "text": "it in the simplest cheapest uh way possible but no I don't recommend that like Google building a new product that",
    "start": "2623020",
    "end": "2629200"
  },
  {
    "text": "like they start with rails or something like that yeah yeah I think once you're you know it's why you're asking the",
    "start": "2629200",
    "end": "2634480"
  },
  {
    "text": "question like once the once the company is in that kind of scaling phase it's a lot easier to just like to continue to",
    "start": "2634480",
    "end": "2640900"
  },
  {
    "text": "leverage the service architecture um that we have and actually if anybody wants to come to my talk tomorrow",
    "start": "2640900",
    "end": "2647619"
  },
  {
    "text": "um I'm actually going to be talking about what is in more detail what does it look like in those large-scale architectures so",
    "start": "2647619",
    "end": "2654099"
  },
  {
    "text": "um there you go thank you good question anyone else",
    "start": "2654099",
    "end": "2661380"
  },
  {
    "text": "down the front",
    "start": "2661480",
    "end": "2664260"
  },
  {
    "text": "foreign just a little bit of interesting how you",
    "start": "2666819",
    "end": "2673900"
  },
  {
    "text": "do with the feature toggling because you know sometimes the future could be big sometimes it could be small sometimes it",
    "start": "2673900",
    "end": "2680319"
  },
  {
    "text": "could have have a very drastic impact on the system sometimes it's just a light touch but what if",
    "start": "2680319",
    "end": "2685780"
  },
  {
    "text": "most of the developers in your team feel like we need to go with the bing bang when because the feature is kind of",
    "start": "2685780",
    "end": "2693220"
  },
  {
    "text": "poisoning the whole system so to actually toggle in it you need to change a lot of things and the question is when the doing it",
    "start": "2693220",
    "end": "2702760"
  },
  {
    "text": "the feature with the feature toggling and the cost would be let's say twice",
    "start": "2702760",
    "end": "2708819"
  },
  {
    "text": "time more than just implement the feature without feature toggling how do you dealing with such situations",
    "start": "2708819",
    "end": "2716740"
  },
  {
    "text": "um I I well um I think there's a lot of context in there that I don't have",
    "start": "2716740",
    "end": "2721780"
  },
  {
    "text": "um but but I will say that almost always uh",
    "start": "2721780",
    "end": "2728619"
  },
  {
    "text": "I think if you can get to the point where uh feature toggles are just like just the way you build new software",
    "start": "2728619",
    "end": "2735520"
  },
  {
    "text": "um I think that really I think that really helps you a lot um now the big bang I was talking about the migration like I don't mind if you",
    "start": "2735520",
    "end": "2741579"
  },
  {
    "text": "build a feature and release it in one go um what I would what I would suggest and",
    "start": "2741579",
    "end": "2746920"
  },
  {
    "text": "this has been my experience mostly again in consumer software is that the ability to toggle you know if it's something",
    "start": "2746920",
    "end": "2752560"
  },
  {
    "text": "that's interesting and worth building it's worth being able to turn on and off if that makes any sense so I mean that's",
    "start": "2752560",
    "end": "2758079"
  },
  {
    "text": "again you have more context about your particular question than I do but that's my like initial cut on what you're",
    "start": "2758079",
    "end": "2764500"
  },
  {
    "text": "asking thank you any other questions",
    "start": "2764500",
    "end": "2772000"
  },
  {
    "text": "one over here",
    "start": "2772000",
    "end": "2774720"
  },
  {
    "text": "as you start to split up the the shared data services yeah a lot of systems I've",
    "start": "2778540",
    "end": "2784480"
  },
  {
    "text": "previously dealt with have a reporting layer that pulls from that have you got any great patterns for dealing with that",
    "start": "2784480",
    "end": "2789839"
  },
  {
    "text": "yeah I wouldn't say great but um but you know that I mean the the tried and true",
    "start": "2789839",
    "end": "2796540"
  },
  {
    "text": "kind of ETL mechanism right so you know the character you know this but like the characteristic of analytic systems is",
    "start": "2796540",
    "end": "2803260"
  },
  {
    "text": "they are comprehensive they like involve lots of stuff and also they are not typically real time like if it's real",
    "start": "2803260",
    "end": "2809319"
  },
  {
    "text": "time let's go event driven and just you know go straight there um but if you but if you've got the",
    "start": "2809319",
    "end": "2814839"
  },
  {
    "text": "classic Analytics problem which is every so often I want to run reports that summarize over a",
    "start": "2814839",
    "end": "2821980"
  },
  {
    "text": "bunch of time you know an ETL mechanism where there's an operational database and then there's",
    "start": "2821980",
    "end": "2828520"
  },
  {
    "text": "some transfer of you know extract transform and load as I'm sure everybody knows",
    "start": "2828520",
    "end": "2833680"
  },
  {
    "text": "um uh into some other system that's optimized for uh for analytics like",
    "start": "2833680",
    "end": "2838960"
  },
  {
    "text": "that's that's the standard pattern which which seems legit to me yeah",
    "start": "2838960",
    "end": "2845740"
  },
  {
    "text": "time for one more anyone else no well thank you very much for your",
    "start": "2845740",
    "end": "2852280"
  },
  {
    "text": "talk thanks I really appreciate it everyone [Applause]",
    "start": "2852280",
    "end": "2860969"
  }
]