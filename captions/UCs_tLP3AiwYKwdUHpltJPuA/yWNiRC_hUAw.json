[
  {
    "text": "I'm going to talk about elasticsearch obviously I'm not going to talk about",
    "start": "1780",
    "end": "7059"
  },
  {
    "text": "the full text search capabilities but rather how to use it to transform your data into information before I start who",
    "start": "7059",
    "end": "15370"
  },
  {
    "text": "have used actually using elasticsearch in production okay a couple that's fair",
    "start": "15370",
    "end": "22060"
  },
  {
    "text": "anyone already keep on and logstash user also a couple but not too much that's",
    "start": "22060",
    "end": "27850"
  },
  {
    "text": "great so yeah if you want to tweet about it I'd like you to use the elasticsearch",
    "start": "27850",
    "end": "33550"
  },
  {
    "text": "hashtag as well so we can basically see what you tweet about it before I start I",
    "start": "33550",
    "end": "38949"
  },
  {
    "text": "may introduce myself I'm Alexander I'm a comedian elasticsearch this means",
    "start": "38949",
    "end": "44320"
  },
  {
    "text": "features bug fixing I'm maintaining the debian and the RPM package so if everything is going wrong with packaging",
    "start": "44320",
    "end": "49989"
  },
  {
    "text": "it was most likely me as committing to a github repo is not a sustainable",
    "start": "49989",
    "end": "54999"
  },
  {
    "text": "business model the company called elastic search around the product is offering development and production",
    "start": "54999",
    "end": "61030"
  },
  {
    "text": "support this means we hope you like to get up and running with elastic search and we are also helping you in case your",
    "start": "61030",
    "end": "66430"
  },
  {
    "text": "production system goes nuts another thing is I'm doing trainings and I get to talk at conferences and a",
    "start": "66430",
    "end": "73060"
  },
  {
    "text": "Templar so my interest mainly Java JavaScript and web applications I've been working with elasticsearch since",
    "start": "73060",
    "end": "79210"
  },
  {
    "text": "about two two-and-a-half years I've been working for les Sixers the company since a couple of months and we a distributed",
    "start": "79210",
    "end": "85719"
  },
  {
    "text": "company so we yeah scattered all across the world if the world is northern",
    "start": "85719",
    "end": "90909"
  },
  {
    "text": "America and Europe and I'm based in Munich but we don't have no for sale so I do a lot of home office obviously so",
    "start": "90909",
    "end": "98530"
  },
  {
    "text": "what am I going to talk today about and before I start let me start with a very very common search and let me show you",
    "start": "98530",
    "end": "105100"
  },
  {
    "text": "the search it's more than a full-text search today I pretty much hope every one of you is going to recognize this",
    "start": "105100",
    "end": "111490"
  },
  {
    "text": "page it's a github search page and if you enter a search query like elastic",
    "start": "111490",
    "end": "116560"
  },
  {
    "text": "search in the search box you'll pretty much expect to get back results with elastic search but what is actually",
    "start": "116560",
    "end": "123039"
  },
  {
    "text": "happening on this page is way more than just executing a full-text search if you",
    "start": "123039",
    "end": "128170"
  },
  {
    "text": "take a look on the left you can like select by language and this makes it not only an unstructured search for elastic",
    "start": "128170",
    "end": "135129"
  },
  {
    "text": "search but also it adds some sort of structure to your search similar to a way a Korean",
    "start": "135129",
    "end": "140200"
  },
  {
    "text": "secret clause a search engine also is able to enrich the search results it's",
    "start": "140200",
    "end": "147040"
  },
  {
    "text": "going to return to the client you can see here that the search for elastic search is actually highlighted whenever",
    "start": "147040",
    "end": "152350"
  },
  {
    "text": "it's been found in a repository name or in a repository description sorting is",
    "start": "152350",
    "end": "158920"
  },
  {
    "text": "something which is quite obvious usually a search engine is sorting by relevancy",
    "start": "158920",
    "end": "164110"
  },
  {
    "text": "but if you want to like take another look at your data you obviously have to be able to sort by numbers or by strings",
    "start": "164110",
    "end": "169810"
  },
  {
    "text": "as well pagination is also something pretty obvious which needs to be supported by any structure which returns",
    "start": "169810",
    "end": "176890"
  },
  {
    "text": "any kind of data and where it gets interesting again and which we will cover today in this presentation is the",
    "start": "176890",
    "end": "182890"
  },
  {
    "text": "aggregation of data meaning that you're executing a search query like elastic search but you actually would want to",
    "start": "182890",
    "end": "188830"
  },
  {
    "text": "know like what is the distribution of results like the programming language like Java Ruby JavaScript and so forth",
    "start": "188830",
    "end": "195430"
  },
  {
    "text": "and this kind of aggregation of data will be covered today in this presentation something else which is",
    "start": "195430",
    "end": "201910"
  },
  {
    "text": "pretty much obvious for most search engines today as well as the capability of offering suggestions and as you can",
    "start": "201910",
    "end": "208989"
  },
  {
    "text": "see it's not only returning suggestions but also enriching them with highlighting again because search query",
    "start": "208989",
    "end": "214420"
  },
  {
    "text": "has been Debian and Debian has been highlighted in the results as well and this is for all kinds of functionality",
    "start": "214420",
    "end": "220720"
  },
  {
    "text": "like did you mean correcting typos on the fly before people firing up a search which doesn't return no results which",
    "start": "220720",
    "end": "227470"
  },
  {
    "text": "you pretty much don't want so before we go on I'm going to start with the",
    "start": "227470",
    "end": "232780"
  },
  {
    "text": "introduction into elastic search going to start with this password bingo slide",
    "start": "232780",
    "end": "238420"
  },
  {
    "text": "so if I only have this kind of slide pretty much best description for elastic search is a schema free rest and Jason",
    "start": "238420",
    "end": "245440"
  },
  {
    "text": "Bates distributed document store it's a distributed document store with obviously extraordinary search and data",
    "start": "245440",
    "end": "251920"
  },
  {
    "text": "extraction capabilities and the schema free is kind of a misnomer today because",
    "start": "251920",
    "end": "256989"
  },
  {
    "text": "it's more like schema less and if you index data into it elastic search tries to understand what",
    "start": "256989",
    "end": "263470"
  },
  {
    "text": "kind of data you're indexing like a date or like a number and automatically extract",
    "start": "263470",
    "end": "268870"
  },
  {
    "text": "this meta information from the data you are indexing its rest in JSON based so we are pretty much speaking HTTP and",
    "start": "268870",
    "end": "275740"
  },
  {
    "text": "JSON hopefully to protocol to a protocol in the object notation everyone should be like at least capable of",
    "start": "275740",
    "end": "282160"
  },
  {
    "text": "understanding of and working with systems it's distributed I'm going to",
    "start": "282160",
    "end": "287170"
  },
  {
    "text": "show this in a second what we understand under distributed document store and the document store basically means you can",
    "start": "287170",
    "end": "293170"
  },
  {
    "text": "index any JSON object of an arbitrary death and you can also search on this kind of data it's open source it's the",
    "start": "293170",
    "end": "301030"
  },
  {
    "text": "Apache License 2.0 so you can do whatever you want with us it doesn't require a lot of configuration to get up",
    "start": "301030",
    "end": "307780"
  },
  {
    "text": "and running and it's used by a couple of companies and if you take a look at them they look like it's only used by like",
    "start": "307780",
    "end": "313870"
  },
  {
    "text": "tech oriented companies but these are the early days they're really a lot of companies across every kind of industry",
    "start": "313870",
    "end": "320140"
  },
  {
    "text": "which is using elasticsearch today zero configuration is not like a part of my",
    "start": "320140",
    "end": "326950"
  },
  {
    "text": "marketing slide before but it's really that easy you download the archive you unzip it or you're on target and you're",
    "start": "326950",
    "end": "333970"
  },
  {
    "text": "running this one single command and you're ready to run with the Search Appliance basically the only real",
    "start": "333970",
    "end": "339520"
  },
  {
    "text": "dependency says is Java so you should have most up-to-date Java 7 because Java",
    "start": "339520",
    "end": "345400"
  },
  {
    "text": "6 is end-of-life but it also works with Java 6 if you like forced to use it in",
    "start": "345400",
    "end": "350890"
  },
  {
    "text": "your environment the other nice thing about this is you can just run the last command a couple of times in your system",
    "start": "350890",
    "end": "357370"
  },
  {
    "text": "and you immediately have a cluster on your local notebook to play around with the distributed features so how do you",
    "start": "357370",
    "end": "365890"
  },
  {
    "text": "index and search data with elasticsearch and this is pretty much the first command you have to execute I will not",
    "start": "365890",
    "end": "372160"
  },
  {
    "text": "talk about curl as a tool it's a command line HTTP client it's kind of a Swiss Army knife for everything so if you",
    "start": "372160",
    "end": "378790"
  },
  {
    "text": "don't know it use it a lot and what you can see it first line is the URL which",
    "start": "378790",
    "end": "384100"
  },
  {
    "text": "is being referenced like localhost 9200 which is a port elasticsearch ones on products is an index product is a type",
    "start": "384100",
    "end": "391750"
  },
  {
    "text": "and one is an ID and this is how you reference a single document why the URL and the rest of the document is",
    "start": "391750",
    "end": "398200"
  },
  {
    "text": "basically the body and again you can see it's primary it's the same J'son object it's a JSON object with a",
    "start": "398200",
    "end": "405189"
  },
  {
    "text": "death like it has a price object which inside has a net and the tax value and if you go through this for different",
    "start": "405189",
    "end": "412240"
  },
  {
    "text": "values which are inside of it elasticsearch actually recognize that that's a created at field is a timestamp",
    "start": "412240",
    "end": "418090"
  },
  {
    "text": "and is indexing it as a timestamp without having you to configure this upfront name is obviously a string and",
    "start": "418090",
    "end": "424569"
  },
  {
    "text": "the price fields are different because net looks like an integer and text is a float however when you enact this for",
    "start": "424569",
    "end": "432039"
  },
  {
    "text": "the first time the price dot net value will always be an integer which is not",
    "start": "432039",
    "end": "437439"
  },
  {
    "text": "what you want on a life and on production system so you can configure this upfront but in order to get up and",
    "start": "437439",
    "end": "442840"
  },
  {
    "text": "running you don't need to and yet text is a float and after you've",
    "start": "442840",
    "end": "448029"
  },
  {
    "text": "indexed the data with putting it to this URL you could also just execute an HTTP GET request to get it back immediately",
    "start": "448029",
    "end": "454240"
  },
  {
    "text": "it's basically a really a data store which you can just put data in and get it back if you want to search data in",
    "start": "454240",
    "end": "462310"
  },
  {
    "text": "the next step you can see that there's another call at the bottom which search in the index products with the type",
    "start": "462310",
    "end": "468279"
  },
  {
    "text": "product and execute the query for Macbook and you will most likely get",
    "start": "468279",
    "end": "473439"
  },
  {
    "text": "back the first document so this is all it takes you to get up and running with",
    "start": "473439",
    "end": "478659"
  },
  {
    "text": "elasticsearch download unzip start and have fun I was",
    "start": "478659",
    "end": "484750"
  },
  {
    "text": "talking about the distributed features and there are two things you like can divide the distributed application into",
    "start": "484750",
    "end": "490779"
  },
  {
    "text": "the first thing you want to do is replication this means you're actually duplicating data and storing it on",
    "start": "490779",
    "end": "496629"
  },
  {
    "text": "several machines this offers you some sort of reach scalability because you",
    "start": "496629",
    "end": "501969"
  },
  {
    "text": "now have actually more sources to query this kind of data on and you can execute more queries per second and the second",
    "start": "501969",
    "end": "509020"
  },
  {
    "text": "thing is removing a single point of failure even if one system goes down but you have your data replicated it's still",
    "start": "509020",
    "end": "515110"
  },
  {
    "text": "fully available and available to query the other thing which is important in distributed system is the charting of",
    "start": "515110",
    "end": "521828"
  },
  {
    "text": "data this means you take an index or a collection of data and split it across several machines",
    "start": "521829",
    "end": "527589"
  },
  {
    "text": "the core reason for this is the data gets too big to be stored on a single machine the other reason for this is",
    "start": "527589",
    "end": "534190"
  },
  {
    "text": "you've got right scalability suddenly you have two systems you can write your data to which is which",
    "start": "534190",
    "end": "540310"
  },
  {
    "text": "basically scares out and the third thing might be that you want to control data flows if you have a cluster with an S in",
    "start": "540310",
    "end": "546820"
  },
  {
    "text": "criminals strong machines and two are very strong into a very weak you may want to index your current data and",
    "start": "546820",
    "end": "552220"
  },
  {
    "text": "Clarry your gun to current data over the current over the powerful machines so",
    "start": "552220",
    "end": "559480"
  },
  {
    "text": "what means distributed distributed basically mean that you can fire up a single node with the command digest",
    "start": "559480",
    "end": "565210"
  },
  {
    "text": "shield and you can create an index in this one in this case it's an orders index and the products index and when",
    "start": "565210",
    "end": "572200"
  },
  {
    "text": "you create an index you can actually define the structure of an index in a distributed environment in this case you",
    "start": "572200",
    "end": "578170"
  },
  {
    "text": "would divide the orders index into like four parts which is the number of shots and you want that each part is",
    "start": "578170",
    "end": "584940"
  },
  {
    "text": "replicated somewhere else in your cluster this is some sort of contract you're defining when creating an index",
    "start": "584940",
    "end": "591150"
  },
  {
    "text": "the second example with the products index means creating an index with two shots but you don't want to have it",
    "start": "591150",
    "end": "597640"
  },
  {
    "text": "replicated somewhere as a kind of backup so if you're firing up a second note",
    "start": "597640",
    "end": "603580"
  },
  {
    "text": "this basically means that the contract was having four shots and one replica for each is going to be fulfilled on the",
    "start": "603580",
    "end": "610300"
  },
  {
    "text": "second on both nodes this means every data is basically doubly kated now but",
    "start": "610300",
    "end": "615490"
  },
  {
    "text": "it's available it's completely available and there's a notion of so-called primary and replica shots the one with a",
    "start": "615490",
    "end": "622089"
  },
  {
    "text": "green background other one where data gets index first and then it gets copied to the replicas shot and the contract of",
    "start": "622089",
    "end": "628900"
  },
  {
    "text": "the products index basically means I want to have two shots but I don't want to have any backup so if in this",
    "start": "628900",
    "end": "634900"
  },
  {
    "text": "scenario the second node fails I still have my full data of the orders index but I will obviously lose half of my",
    "start": "634900",
    "end": "640630"
  },
  {
    "text": "data of the products in Ex if you start up a certain node in this scenario the",
    "start": "640630",
    "end": "646630"
  },
  {
    "text": "products index will not change at all because the contract is already fulfilled but the other shots will",
    "start": "646630",
    "end": "651970"
  },
  {
    "text": "actually like distribute the clause across a freshly added note and you will you can now shutdown any note and all of",
    "start": "651970",
    "end": "659380"
  },
  {
    "text": "your data from the orders index will still be available so talking about",
    "start": "659380",
    "end": "665470"
  },
  {
    "text": "elastic search as a product is really nice but there's actually a whole system around and since we founded the",
    "start": "665470",
    "end": "671740"
  },
  {
    "text": "company we try to create an ecosystem like clients like you bond unlocks this",
    "start": "671740",
    "end": "678370"
  },
  {
    "text": "but the first thing you actually have to know that it's very easy to extend the functionality of the elasticsearch co-op",
    "start": "678370",
    "end": "684310"
  },
  {
    "text": "product it's basically just a Google juice application and we provide hooks for everything so you can create your",
    "start": "684310",
    "end": "690880"
  },
  {
    "text": "own plugins like your own leucine analyzers like you NLP functionality like your own aggregation functions or",
    "start": "690880",
    "end": "697630"
  },
  {
    "text": "whatever you want put it in a zip file and this is it to install it as a plugin in your elasticsearch node so it's it's",
    "start": "697630",
    "end": "704050"
  },
  {
    "text": "really easy to extend we also have clients for many languages but the",
    "start": "704050",
    "end": "709300"
  },
  {
    "text": "client is basically just a very thin layer of code between the HTTP layer of",
    "start": "709300",
    "end": "714850"
  },
  {
    "text": "elastic search and your application but it mate makes things actually simple if you don't have to care like for opening",
    "start": "714850",
    "end": "720220"
  },
  {
    "text": "HTTP connections and closing them and last week we released a couple of clients for Ruby Python PHP and perl as",
    "start": "720220",
    "end": "727090"
  },
  {
    "text": "official upstream clients which can be used to create your own object mapper for example and there's also a couple of",
    "start": "727090",
    "end": "733930"
  },
  {
    "text": "community-based efforts for JavaScript client for scarlet line for closure client and many more languages and even",
    "start": "733930",
    "end": "741280"
  },
  {
    "text": "there are more clients for the first four languages written by the community because they wanted to solve a certain",
    "start": "741280",
    "end": "746740"
  },
  {
    "text": "use case also kibana is something which I'm going to show in a second which",
    "start": "746740",
    "end": "753550"
  },
  {
    "text": "basically allows you to like get a graphical overview of your data which is thought in elasticsearch it's a small",
    "start": "753550",
    "end": "759760"
  },
  {
    "text": "JavaScript application which creates elastic search and creates charts and allows you to create dashboards you can",
    "start": "759760",
    "end": "765610"
  },
  {
    "text": "share with other people I'm going to show that in a second Laxus is lockfile aggregator which basically takes a pile",
    "start": "765610",
    "end": "772030"
  },
  {
    "text": "of log files and indexes them into elasticsearch but it's able to enrich them like with adding geo based data for",
    "start": "772030",
    "end": "778480"
  },
  {
    "text": "an IP address so it's easier to query and we also have a hadoop integration which allows for faster queries in some",
    "start": "778480",
    "end": "785830"
  },
  {
    "text": "cases because we can execute them in memory and return faster than a usual how to drop wood so this was",
    "start": "785830",
    "end": "794050"
  },
  {
    "text": "introduction the next step is that we are going to it index some data and I'm",
    "start": "794050",
    "end": "799360"
  },
  {
    "text": "going to show how to extract useful information out of it and question is what is data and in my terms",
    "start": "799360",
    "end": "806980"
  },
  {
    "text": "it's whatever provides value for your business and there's some kind of obvious data which is a domain data like",
    "start": "806980",
    "end": "813130"
  },
  {
    "text": "your orders or your products if you're an e-commerce shop this might be internal but it also might be external",
    "start": "813130",
    "end": "818740"
  },
  {
    "text": "if I'm a social media company which analyzes constant data streams of Twitter or Facebook this is my core",
    "start": "818740",
    "end": "825730"
  },
  {
    "text": "product value and this is the data I need to analyze same goes for Gmail and emails they need it for spam tagging and",
    "start": "825730",
    "end": "831730"
  },
  {
    "text": "filtering but there's also less obvious data which is in this case it's a sample application data",
    "start": "831730",
    "end": "837640"
  },
  {
    "text": "there's log files which might tell you when you need to like fire up your next ec2 instance because you're getting too",
    "start": "837640",
    "end": "843100"
  },
  {
    "text": "much requests for your static files there are also metrics like in-memory values from your application which you",
    "start": "843100",
    "end": "849430"
  },
  {
    "text": "would want to monitor and see what happens with them and react on certain events if you walk through a company you",
    "start": "849430",
    "end": "856899"
  },
  {
    "text": "will see that there's tons of more data like this not two main data not application data but maybe something",
    "start": "856899",
    "end": "862330"
  },
  {
    "text": "which is there on paper and you would want to have digital eyes or whatever and you will see that many things of",
    "start": "862330",
    "end": "868930"
  },
  {
    "text": "data you would want to index and obviously ask questions so you can ask",
    "start": "868930",
    "end": "874990"
  },
  {
    "text": "questions to your data and these are simple questions but you still want to know imagine we have this orders index I",
    "start": "874990",
    "end": "882220"
  },
  {
    "text": "just showed you with the four shots and one replica and after some time you might want to know how many are assigned",
    "start": "882220",
    "end": "888070"
  },
  {
    "text": "there how many orders we did get last months how many orders are coming in per day what is the average revenue for my",
    "start": "888070",
    "end": "894760"
  },
  {
    "text": "shopping cart inside of this order is actually a quite a wedded question which will come for your controlling department and also the average shopping",
    "start": "894760",
    "end": "903100"
  },
  {
    "text": "cart size per order and you wanna maybe know this by hour and order to find out when if the peak shopping time of my",
    "start": "903100",
    "end": "909310"
  },
  {
    "text": "customers these are all questions which sooner or later will most likely pop up",
    "start": "909310",
    "end": "914490"
  },
  {
    "text": "so what can we do first we are like I'm just showing you this as a format in",
    "start": "914490",
    "end": "920230"
  },
  {
    "text": "order to like I understand the next queries I'm going to show you so which order is obviously make quite a",
    "start": "920230",
    "end": "925959"
  },
  {
    "text": "complex beast but in this example it gets a creation timestamp and it has a total and usually an order has like",
    "start": "925959",
    "end": "933070"
  },
  {
    "text": "items and tags and the currency and are getting really fun if you start with",
    "start": "933070",
    "end": "938170"
  },
  {
    "text": "item cancellation out of it because then you have to recalculate your whole shopping cart how many orders are",
    "start": "938170",
    "end": "945850"
  },
  {
    "text": "created this is actually something which is really easy to answer with elasticsearch because all you have to do is an HTTP GET request on the orders",
    "start": "945850",
    "end": "953379"
  },
  {
    "text": "slash order slash underscore account URL and you're getting back a number but maybe this is not the most complex",
    "start": "953379",
    "end": "959620"
  },
  {
    "text": "crutch question you want to have answered if you want to know which",
    "start": "959620",
    "end": "965230"
  },
  {
    "text": "orders were created in the last month again this is very simple you just call it order endpoint this",
    "start": "965230",
    "end": "970449"
  },
  {
    "text": "count endpoint again but you have the so called range query which simply limits all the results between the first date",
    "start": "970449",
    "end": "977079"
  },
  {
    "text": "and the last date greater than equals and level then though the next question",
    "start": "977079",
    "end": "984069"
  },
  {
    "text": "might be how many orders were created per day so you actually have a bucket of",
    "start": "984069",
    "end": "989529"
  },
  {
    "text": "like 30 days for the month of September and you want to know like the chance at 25 orders so you still need to filter by",
    "start": "989529",
    "end": "995949"
  },
  {
    "text": "month but you also need to create buckets and count per day this is where",
    "start": "995949",
    "end": "1001050"
  },
  {
    "text": "faceting and aggregation actually comes in if you remember the github screenshot of the beginning the languages and the",
    "start": "1001050",
    "end": "1006809"
  },
  {
    "text": "aggregation information also was simply a facet it was just a count for the Java language it was just account for the",
    "start": "1006809",
    "end": "1012660"
  },
  {
    "text": "Ruby and the JavaScript language so it's just some sort of pocketing which has been happening there and you can also",
    "start": "1012660",
    "end": "1019170"
  },
  {
    "text": "simply count by day in this case you create a so-called facet you give it a name like created in this case you",
    "start": "1019170",
    "end": "1025980"
  },
  {
    "text": "specify a type like date histogram and the field created at which was part of the orders to be indexed and you have to",
    "start": "1025980",
    "end": "1032699"
  },
  {
    "text": "specify an intervals could be one week this could be one month could be a quarter of the year depending on which",
    "start": "1032699",
    "end": "1038399"
  },
  {
    "text": "scale or kind of scale of data you want to look at and you're obviously gonna need this kind of facet filter which",
    "start": "1038399",
    "end": "1044640"
  },
  {
    "text": "simply filled out the data for the specific months so what is the average",
    "start": "1044640",
    "end": "1050909"
  },
  {
    "text": "revenue per shopping cart this is sing which is slowly getting interesting for a controlling department and what you",
    "start": "1050909",
    "end": "1058529"
  },
  {
    "text": "can actually do is you can create a so-called statistical facet which actually takes all the numbers inside of",
    "start": "1058529",
    "end": "1064950"
  },
  {
    "text": "the field adds them up create some statistical values like min max average standard deviation",
    "start": "1064950",
    "end": "1070559"
  },
  {
    "text": "anthro forth and you can basically what I did she is I'm accessing the total",
    "start": "1070559",
    "end": "1075690"
  },
  {
    "text": "value field and I'm multiplying it with one point zero zero point one in case we",
    "start": "1075690",
    "end": "1081240"
  },
  {
    "text": "have like 10 percent revenue in each shopping cart it's it's most likely a simple calculation because you will want",
    "start": "1081240",
    "end": "1086789"
  },
  {
    "text": "to have this per product if you have a huge product catalog and I'm adding two because most ecommerce retailers make",
    "start": "1086789",
    "end": "1094499"
  },
  {
    "text": "their money actually with shipping costs and they can easily add a static amount of money for shipping cost and this is",
    "start": "1094499",
    "end": "1101039"
  },
  {
    "text": "where most of the revenue comes at with low budget it's orders so this is all",
    "start": "1101039",
    "end": "1107490"
  },
  {
    "text": "nice but this is not really complex questions I can do this with a little bit of sequel as well so where it gets",
    "start": "1107490",
    "end": "1114240"
  },
  {
    "text": "really interesting is to like apply several facets at once like I'm taking",
    "start": "1114240",
    "end": "1119879"
  },
  {
    "text": "the input of one facet like the statistical one and I'm marketing this over time like per day so what is the",
    "start": "1119879",
    "end": "1126240"
  },
  {
    "text": "average order value or the average shopping cart size per order per day and",
    "start": "1126240",
    "end": "1131340"
  },
  {
    "text": "this is where questions are slowly becoming more complex and this is where it's going to be complex for elastic",
    "start": "1131340",
    "end": "1136350"
  },
  {
    "text": "search because you need to combine every type of a facet arbitrarily now you can",
    "start": "1136350",
    "end": "1141629"
  },
  {
    "text": "do this with the upcoming release of less search 1.0 which is really flexible in this case and I'm going to show you a",
    "start": "1141629",
    "end": "1147600"
  },
  {
    "text": "later on how this works and obviously you can also do this by simply changing",
    "start": "1147600",
    "end": "1154379"
  },
  {
    "text": "your data and re-indexing it by like already having an aggregated field in a pre computed computation and putting",
    "start": "1154379",
    "end": "1161249"
  },
  {
    "text": "this into the index and then running a statistics facet but this is a big problem because every day your question",
    "start": "1161249",
    "end": "1167369"
  },
  {
    "text": "changes and you would need to change your data as well and re-indexing this doesn't scale obviously so keep this",
    "start": "1167369",
    "end": "1178409"
  },
  {
    "text": "question in mind and we come back later to that and how to solve it pretty easily another step you want to do like",
    "start": "1178409",
    "end": "1185429"
  },
  {
    "text": "when you now started to extract the first kinds of information the first bits of information and you you know",
    "start": "1185429",
    "end": "1191279"
  },
  {
    "text": "what's going on with your orders maybe is yeah your boss asks you to create the",
    "start": "1191279",
    "end": "1197610"
  },
  {
    "text": "daily Axl sheet you would want to have by email at 8 a.m. and you start hacking away this wonderful XLI brief",
    "start": "1197610",
    "end": "1204330"
  },
  {
    "text": "Ruby and Java and no you don't want to be the extended arm of your boss and",
    "start": "1204330",
    "end": "1210299"
  },
  {
    "text": "grabbing through log fights or like order data and do this every day on a different manner and Jason itself also",
    "start": "1210299",
    "end": "1217409"
  },
  {
    "text": "is not a management compatible notation which is actually returned by elasticsearch so you can just forward",
    "start": "1217409",
    "end": "1222840"
  },
  {
    "text": "the request to your boss and tell them to be happy and also writing your own visualization app for all kinds of stuff",
    "start": "1222840",
    "end": "1229260"
  },
  {
    "text": "this is not going to work in the long term and this is where Cabana comes in handy because Cabana is basically a a",
    "start": "1229260",
    "end": "1235620"
  },
  {
    "text": "small thing on top of elasticsearch it's an own JavaScript application which is able to query elasticsearch get back the",
    "start": "1235620",
    "end": "1241889"
  },
  {
    "text": "data and make wonderful graphs out of it keep on itself it's you can basically",
    "start": "1241889",
    "end": "1247049"
  },
  {
    "text": "just clone the github repo put it on a web server and that's it to get up and running initially what you can do with",
    "start": "1247049",
    "end": "1254519"
  },
  {
    "text": "Cubana is to create this kind of dashboards like in this case it's a log",
    "start": "1254519",
    "end": "1260460"
  },
  {
    "text": "file data from an apache web server which is maybe interesting to know about the distribution how many HTML files",
    "start": "1260460",
    "end": "1266490"
  },
  {
    "text": "you're actually sending back to your client how many PHP files how many images and you can see at the top that there's a",
    "start": "1266490",
    "end": "1272880"
  },
  {
    "text": "query for file endings for HTML PHP PNG gif on CSS then you can see a",
    "start": "1272880",
    "end": "1279980"
  },
  {
    "text": "distribution over time so you can pretty much see that there's a traffic peak at noon and this web server log so maybe",
    "start": "1279980",
    "end": "1287010"
  },
  {
    "text": "it's a lunch planner I don't know what this kind of site may be and you can see",
    "start": "1287010",
    "end": "1293039"
  },
  {
    "text": "you can you can use a pie chart so this is a completely configurable dashboard so you can pretty much fit this on your",
    "start": "1293039",
    "end": "1299460"
  },
  {
    "text": "use case and you can save a dashboard you can share it with your boss and he can like drill down on the data further",
    "start": "1299460",
    "end": "1306330"
  },
  {
    "text": "if he wants if you like just want to know how many people from China are accessing HTML files this is very easy",
    "start": "1306330",
    "end": "1312899"
  },
  {
    "text": "for him because he just needs to modify query and the query language is pretty simple yet even as a dark theme now I",
    "start": "1312899",
    "end": "1322169"
  },
  {
    "text": "mean the important part of this image is obviously that there are two problems owns inside of this image and if you",
    "start": "1322169",
    "end": "1327899"
  },
  {
    "text": "have a web server lock spanning over 10 Apaches it's going to be pretty hard to find this problem without the help of",
    "start": "1327899",
    "end": "1334020"
  },
  {
    "text": "visualization so this kind of tool is not only an 8 for you but if you're indexing Apache log files",
    "start": "1334020",
    "end": "1340320"
  },
  {
    "text": "it can really help you to like identify problems find out what is going wrong and at least know that something has",
    "start": "1340320",
    "end": "1346350"
  },
  {
    "text": "gone wrong at 5:00 a.m. this is not most likely not the time you're going to be awake and check all your webserver log",
    "start": "1346350",
    "end": "1352529"
  },
  {
    "text": "files another thing you can optionally",
    "start": "1352529",
    "end": "1357600"
  },
  {
    "text": "do in new releases is you can use geo locations of the data and like draw it",
    "start": "1357600",
    "end": "1362909"
  },
  {
    "text": "on a map and you could see like where other people are actually coming from visiting your site or in in the context",
    "start": "1362909",
    "end": "1368700"
  },
  {
    "text": "of your orders you can actually find out where other people are ordering form and",
    "start": "1368700",
    "end": "1374600"
  },
  {
    "text": "another nice functionality is that this geo location not only works for for",
    "start": "1374600",
    "end": "1380759"
  },
  {
    "text": "specific location points but you can also if you index the iso country code",
    "start": "1380759",
    "end": "1386370"
  },
  {
    "text": "like de for germany like DK for Denmark you can use a special widget which",
    "start": "1386370",
    "end": "1392009"
  },
  {
    "text": "basically draws you this country map and shows the distribution on top of it as you can see in the in the widget below",
    "start": "1392009",
    "end": "1398700"
  },
  {
    "text": "and you can also show trends like you can see that the tweets which are split",
    "start": "1398700",
    "end": "1404460"
  },
  {
    "text": "by language in this example that the Turkish tweets are actually rising by 8.33% so you can see what is actually",
    "start": "1404460",
    "end": "1411419"
  },
  {
    "text": "happening and changing in your application and this is a kind of dashboard information you boss most like",
    "start": "1411419",
    "end": "1416519"
  },
  {
    "text": "these like you wants so this is will what's a small overview of Cabana cabana",
    "start": "1416519",
    "end": "1422970"
  },
  {
    "text": "is a very nice tool you can create these dashboards you can like let some cells update every 30 seconds so you can just",
    "start": "1422970",
    "end": "1429779"
  },
  {
    "text": "wreck mount a huge LCD in your wall and see actually what is happening in life system but the thing is you're always",
    "start": "1429779",
    "end": "1436820"
  },
  {
    "text": "looking at data which is kind of in the past and the next step you option you",
    "start": "1436820",
    "end": "1442590"
  },
  {
    "text": "would want to do is like to know stuff now because they are definitely events",
    "start": "1442590",
    "end": "1447600"
  },
  {
    "text": "which can happen which you really want to know in the moment they are happening and if you take an arbitrary application",
    "start": "1447600",
    "end": "1454610"
  },
  {
    "text": "totally independent of how it's been implemented these are events which can absolutely happen like the first one you",
    "start": "1454610",
    "end": "1461549"
  },
  {
    "text": "have a checkout application and it suddenly takes more than two seconds for your payment provider to process a response you send this is not a problem",
    "start": "1461549",
    "end": "1469619"
  },
  {
    "text": "per se but this might be a problem because your payment provider is offline and you're not going to be able to process",
    "start": "1469619",
    "end": "1475470"
  },
  {
    "text": "any checkout and you might just want to call them about that same goes for credit card fraud detection maybe it's a",
    "start": "1475470",
    "end": "1482460"
  },
  {
    "text": "huge order of several 10k and the fraud detection kicks in and cancel this kind",
    "start": "1482460",
    "end": "1487830"
  },
  {
    "text": "of order maybe you want to know about it and processes manually you're sending out television commercial your visits",
    "start": "1487830",
    "end": "1494700"
  },
  {
    "text": "like exploding you might want to spin up several ec2 instances and if you have a sort of voucher in this television",
    "start": "1494700",
    "end": "1501690"
  },
  {
    "text": "commercial and it's gonna after one minute of this television commercial being sent that might be a good good PR",
    "start": "1501690",
    "end": "1508050"
  },
  {
    "text": "for you another use case from an operational perspective is the memory usage exceeds the physical memory this",
    "start": "1508050",
    "end": "1514380"
  },
  {
    "text": "basically means that your process has to swap out and is going to be slow this doesn't mean that your application is offline but that might indicate a",
    "start": "1514380",
    "end": "1520980"
  },
  {
    "text": "problem after all and these are all events which are not like bringing your application down but you want to react",
    "start": "1520980",
    "end": "1526920"
  },
  {
    "text": "on this kind of events and you want to know it in the moment they're happening and you don't want to check qivana from",
    "start": "1526920",
    "end": "1532290"
  },
  {
    "text": "the log files of 5:00 a.m. see maybe I should have done something about that if",
    "start": "1532290",
    "end": "1538800"
  },
  {
    "text": "you don't know this is from Java volt this is a library called metrics which is a pretty awesome thing it's written",
    "start": "1538800",
    "end": "1546570"
  },
  {
    "text": "by Koda Halley who also wrote the drop as a web framework and the most ya",
    "start": "1546570",
    "end": "1551970"
  },
  {
    "text": "likely library like that in Java volt is German short for Java monitoring it's library which has been around for 10",
    "start": "1551970",
    "end": "1557430"
  },
  {
    "text": "years and basically allows you to gather live statistics inside of your application and you can like have",
    "start": "1557430",
    "end": "1563820"
  },
  {
    "text": "several different types of metrics like a meter which can measure events over time like requests per second you can",
    "start": "1563820",
    "end": "1571890"
  },
  {
    "text": "like have a have a timer which can measure the runtime of something like",
    "start": "1571890",
    "end": "1576960"
  },
  {
    "text": "the connection to your payment provider API and create statistical statistic data about it and this is a very nice",
    "start": "1576960",
    "end": "1585060"
  },
  {
    "text": "feature about health checks which basically allow you to check if something inside of your application",
    "start": "1585060",
    "end": "1590220"
  },
  {
    "text": "works common Hadj check would be to connect to your database and see if it works usually people now tell me but I already",
    "start": "1590220",
    "end": "1596880"
  },
  {
    "text": "have my monitoring holes connecting to my database and see if it works but it's not a useful information if you",
    "start": "1596880",
    "end": "1603360"
  },
  {
    "text": "know that you're monitoring house is able to connect to you database it's useful information to know that your application is not able to",
    "start": "1603360",
    "end": "1609510"
  },
  {
    "text": "connect to your database and this is where whole checks come really in handy and metrics can report to elasticsearch",
    "start": "1609510",
    "end": "1616140"
  },
  {
    "text": "and even if you decide not to use elasticsearch at all after this talk I definitely encourage you to check out",
    "start": "1616140",
    "end": "1621450"
  },
  {
    "text": "the metrics library because it's awesome the metrics library from a Java point of",
    "start": "1621450",
    "end": "1627870"
  },
  {
    "text": "view is pretty easy to use you have one huge class called the metric registry where all the metrics are like",
    "start": "1627870",
    "end": "1633180"
  },
  {
    "text": "registered then it's easy to create a meter or timer as you can see here the",
    "start": "1633180",
    "end": "1639270"
  },
  {
    "text": "meter was one to like collect statistical values over time like the requests per second the timer one would",
    "start": "1639270",
    "end": "1645000"
  },
  {
    "text": "be the one you use when you want to measure how long your external connection to your payment provider duration is but the main problem with",
    "start": "1645000",
    "end": "1652140"
  },
  {
    "text": "the metrics library is this is always life data so it's being updated in the background and again you need to store",
    "start": "1652140",
    "end": "1659400"
  },
  {
    "text": "this kind of live data sometime everywhere to like create statistics about it and this is where lastic search",
    "start": "1659400",
    "end": "1665040"
  },
  {
    "text": "comes in you can basically configure the metrics library to report every minute most",
    "start": "1665040",
    "end": "1671580"
  },
  {
    "text": "likely to elasticsearch have this kind of metrics start there and use it for like pre-processing later on the metrics",
    "start": "1671580",
    "end": "1680490"
  },
  {
    "text": "elasticsearch reporter uses HTTP so it doesn't need a huge elasticsearch dependency it's independent from the",
    "start": "1680490",
    "end": "1686340"
  },
  {
    "text": "elasticsearch version so no matter if you see most up-to-date one or little older one and it has another really",
    "start": "1686340",
    "end": "1692760"
  },
  {
    "text": "really nice feature which is called a real-time notification we our population so real-time notification basically",
    "start": "1692760",
    "end": "1699390"
  },
  {
    "text": "means you can do something if you hit a certain metric like the disk space used for the while file system exceedance 90%",
    "start": "1699390",
    "end": "1706680"
  },
  {
    "text": "you may want to know about that the reported stuff is available in the github repo but before we go on I should",
    "start": "1706680",
    "end": "1713040"
  },
  {
    "text": "explain what percolation is except a nice feature inside of elasticsearch the normal process of indexing data is that",
    "start": "1713040",
    "end": "1719730"
  },
  {
    "text": "you index document and run a query against it like an indexing MacBook and I'm varying for MacBook and I'm getting",
    "start": "1719730",
    "end": "1725520"
  },
  {
    "text": "back this kind of data but imagine I'm searching for MacBook with a price of 200 euros which is not that much I won't",
    "start": "1725520",
    "end": "1734640"
  },
  {
    "text": "get a document back but I may want to register this query to get notified as soon this kind of data is indexed and this is",
    "start": "1734640",
    "end": "1741690"
  },
  {
    "text": "a classic use case for implementing a price agent and this is where a percolator really comes in handy and you",
    "start": "1741690",
    "end": "1748170"
  },
  {
    "text": "can if you take close the look of your data you can imagine pretty crazy stuff with it there are customers using it for",
    "start": "1748170",
    "end": "1755010"
  },
  {
    "text": "classification like getting back some sort of text and adding this text to the document automatically and obviously you",
    "start": "1755010",
    "end": "1762030"
  },
  {
    "text": "can use it for this kind of metrics application as well so this is how you",
    "start": "1762030",
    "end": "1767160"
  },
  {
    "text": "basically create a population support for it so you have an elasticsearch reporter which basically runs every 60",
    "start": "1767160",
    "end": "1774060"
  },
  {
    "text": "seconds to report its data to elasticsearch you register notifier like a pager notify in this case and you",
    "start": "1774060",
    "end": "1780960"
  },
  {
    "text": "apply the names of the metrics in this case every metric the population should run against you have to sort of",
    "start": "1780960",
    "end": "1786690"
  },
  {
    "text": "registered and then you implement your page and notify a class and whatever",
    "start": "1786690",
    "end": "1791850"
  },
  {
    "text": "should happen there most likely you want to trigger a call or you want to trigger RabbitMQ message which then gets",
    "start": "1791850",
    "end": "1798090"
  },
  {
    "text": "forwarded to another application which takes some sort of action together with",
    "start": "1798090",
    "end": "1804060"
  },
  {
    "text": "the metrics elasticsearch reporter which is on the elasticsearch github account there is also a small sample application",
    "start": "1804060",
    "end": "1811350"
  },
  {
    "text": "called cockpit which is basically two applications one is a java application which constantly reads out an open",
    "start": "1811350",
    "end": "1818160"
  },
  {
    "text": "stream from the US government showing which site is visited right now like nasa.gov or whatever and it takes some",
    "start": "1818160",
    "end": "1824520"
  },
  {
    "text": "metrics about that and collects how many lines per second are read from the stream and the other application is this",
    "start": "1824520",
    "end": "1830700"
  },
  {
    "text": "one which is a small node.js application which basically just can draw awesome",
    "start": "1830700",
    "end": "1836490"
  },
  {
    "text": "graph using d3 GS obviously and you can see the green the green rectangle on the",
    "start": "1836490",
    "end": "1842730"
  },
  {
    "text": "left side and this is basically the result of a notification being sent to this node.js app and it's forwarded by a",
    "start": "1842730",
    "end": "1849120"
  },
  {
    "text": "WebSocket connection to all the clients and this means it's basically real-time the moment it happens in the metrics",
    "start": "1849120",
    "end": "1854940"
  },
  {
    "text": "reporter it's reported to the client so if you want to play around with it check out the small application and see how",
    "start": "1854940",
    "end": "1861840"
  },
  {
    "text": "you can again build your own dashboard and wreck mount it to your wall in the wreck moment where I see a panel - what",
    "start": "1861840",
    "end": "1870530"
  },
  {
    "text": "the next step would obviously be to like go from data to insight so right now we",
    "start": "1872159",
    "end": "1878580"
  },
  {
    "text": "went from data to like extracting some basic information but seeing the limitation of this kind without having",
    "start": "1878580",
    "end": "1884669"
  },
  {
    "text": "to reenact your data we are able to like get a first overview about it",
    "start": "1884669",
    "end": "1889890"
  },
  {
    "text": "we are visualization and we are finally able to like get notified about it but what we really want at the end of the",
    "start": "1889890",
    "end": "1896520"
  },
  {
    "text": "day is like we want to know what do we need to do next so it's more like getting to the predicting business and",
    "start": "1896520",
    "end": "1904950"
  },
  {
    "text": "the thing about predicting stuff is that it's basically pretty complex the most",
    "start": "1904950",
    "end": "1910020"
  },
  {
    "text": "important thing is that you need long-term data this is the only chance of like being able to know what's going",
    "start": "1910020",
    "end": "1916289"
  },
  {
    "text": "to happen next visualization is an awesome start because Cubana will help you a lot to find out when you reach the next",
    "start": "1916289",
    "end": "1922950"
  },
  {
    "text": "possible level of scale where you need to add hardware to something but the",
    "start": "1922950",
    "end": "1928530"
  },
  {
    "text": "most important thing is you you have to like sort of in sauce this kind of data you can't just push it to some service",
    "start": "1928530",
    "end": "1934590"
  },
  {
    "text": "and hope it will get back to you with useful information so you have to know your data and you have to know your data",
    "start": "1934590",
    "end": "1940110"
  },
  {
    "text": "format and the last thing is that's not a problem there are lots of people inside of your company which have",
    "start": "1940110",
    "end": "1946710"
  },
  {
    "text": "questions about the kind of data you're indexing in which which will have awesome ideas what they always had",
    "start": "1946710",
    "end": "1952140"
  },
  {
    "text": "wanted to know but didn't dare to ask because you didn't like show them a solution to easily extract data from a",
    "start": "1952140",
    "end": "1958140"
  },
  {
    "text": "huge amount of data so there's a new feature called aggregations which will",
    "start": "1958140",
    "end": "1965130"
  },
  {
    "text": "come up in the elasticsearch 1.0 release the nice thing about aggregations is",
    "start": "1965130",
    "end": "1970320"
  },
  {
    "text": "basically you can take the output of a facet operation like the data through Graham the bucketing into values per day",
    "start": "1970320",
    "end": "1977280"
  },
  {
    "text": "and use it as an input for the next kind of operation like calculating the average value of your shopping cart and",
    "start": "1977280",
    "end": "1983280"
  },
  {
    "text": "if you remember what is the average shopping cart value per order per hour we can now pretty much and easily answer",
    "start": "1983280",
    "end": "1991110"
  },
  {
    "text": "that one those looks a little bit more complex than the last one but if you take a look it uses EGS aggregations",
    "start": "1991110",
    "end": "1998490"
  },
  {
    "text": "feature you specify a nice name for it average shopping cart per hour you again",
    "start": "1998490",
    "end": "2003649"
  },
  {
    "text": "use the date filter and the data to Gram facet but you use the aggregations field to",
    "start": "2003649",
    "end": "2010040"
  },
  {
    "text": "like greater calculate a total of the average and this is what you can now",
    "start": "2010040",
    "end": "2015710"
  },
  {
    "text": "actually have the drawback with this solution is it actually creates a bucket per hour and then average value this",
    "start": "2015710",
    "end": "2023870"
  },
  {
    "text": "means for one months you're going to have like 30 x times 24 buckets which",
    "start": "2023870",
    "end": "2029750"
  },
  {
    "text": "makes it 720 I think or something around that and this is not something you want to draw easily so what you actually",
    "start": "2029750",
    "end": "2035360"
  },
  {
    "text": "wanted to know most likely is are the most of my customer or the average value of my shopping cart",
    "start": "2035360",
    "end": "2041600"
  },
  {
    "text": "is it higher between fifteen and sixteen or four and five o'clock or five and six",
    "start": "2041600",
    "end": "2046610"
  },
  {
    "text": "o'clock you would have to change this query a little bit and still use a histogram facet or histogram aggregation",
    "start": "2046610",
    "end": "2053260"
  },
  {
    "text": "but using the script to access the date from the created egg field and just",
    "start": "2053260",
    "end": "2058639"
  },
  {
    "text": "create a bucket per hour of the day and this means you can like easily answer way more complex questions with the",
    "start": "2058640",
    "end": "2065389"
  },
  {
    "text": "aggregations because you can like go arbitrary deep obviously to the cost of some performance because these are all",
    "start": "2065390",
    "end": "2071270"
  },
  {
    "text": "in memory calculations but it's at least it's possible and this one would create exactly 24 buckets each for one hour and",
    "start": "2071270",
    "end": "2078710"
  },
  {
    "text": "add up the average value for your shopping carts so this is what I",
    "start": "2078710",
    "end": "2084710"
  },
  {
    "text": "encourage you ask complex questions and try to extract them out of your data for",
    "start": "2084710",
    "end": "2092510"
  },
  {
    "text": "example you've got the product page views which might be interesting but if you can combine the sum of product page",
    "start": "2092510",
    "end": "2099260"
  },
  {
    "text": "views with the price range you can actually find out pretty easily if you're a low budget shop or if your",
    "start": "2099260",
    "end": "2104900"
  },
  {
    "text": "premium shop so you can actually see pretty good what your customers are thinking of thinking of your shop",
    "start": "2104900",
    "end": "2110510"
  },
  {
    "text": "instead of like having the perception what you think what your shop actually is another thing might be geolocation so",
    "start": "2110510",
    "end": "2119000"
  },
  {
    "text": "imagine a huge Furniture house like sending out a newsletter twice a week",
    "start": "2119000",
    "end": "2124160"
  },
  {
    "text": "and they may want to find out",
    "start": "2124160",
    "end": "2128319"
  }
]