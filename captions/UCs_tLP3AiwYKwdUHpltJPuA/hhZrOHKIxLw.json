[
  {
    "start": "0",
    "end": "20000"
  },
  {
    "text": "[Music] thank you it's called Production Engineering but",
    "start": "6990",
    "end": "14240"
  },
  {
    "text": "we are always joking about it because product engineering is the other thing and it's always very hard to get that",
    "start": "14240",
    "end": "20000"
  },
  {
    "start": "20000",
    "end": "171000"
  },
  {
    "text": "right so I'm all into infrastructure SoundCloud I hope you know what",
    "start": "20000",
    "end": "25550"
  },
  {
    "text": "SoundCloud is foot sounds into the cloud sadly I am not so close to the music we",
    "start": "25550",
    "end": "31430"
  },
  {
    "text": "are from the side I'm just infrastructure did a lot of stuff is Prometheus I hope you already know what",
    "start": "31430",
    "end": "38300"
  },
  {
    "text": "prometheus might even be you only know what sound good is because you know",
    "start": "38300",
    "end": "43520"
  },
  {
    "text": "about prometheus I called some got the cradle of Prometheus because we did most of the",
    "start": "43520",
    "end": "49790"
  },
  {
    "text": "initial development there four years in if you have counted you might notice",
    "start": "49790",
    "end": "55070"
  },
  {
    "text": "that the big announcement of Prometheus was 2015 then later I think later that",
    "start": "55070",
    "end": "62149"
  },
  {
    "text": "year we reached 1.0 and right now like earlier this month we released the",
    "start": "62149",
    "end": "68350"
  },
  {
    "text": "glorious version 2.0 and then people talk about it like one and a half year",
    "start": "68350",
    "end": "73789"
  },
  {
    "text": "after 1.0 and now you see four years that's because Prometheus was start and",
    "start": "73789",
    "end": "79249"
  },
  {
    "text": "wasn't strictly wasn't started at SoundCloud but it was started as a pet project by matt and julius the two",
    "start": "79249",
    "end": "85009"
  },
  {
    "text": "founders of the project but then sounder was the the company were it got its",
    "start": "85009",
    "end": "90229"
  },
  {
    "text": "initial development and initial views and was always open so some people think it was done like in secret that's not",
    "start": "90229",
    "end": "96409"
  },
  {
    "text": "true it was always in the same it of auch where you can find it today and of",
    "start": "96409",
    "end": "101479"
  },
  {
    "text": "course it took a while to be ready for production and like let's say 2013 we",
    "start": "101479",
    "end": "107479"
  },
  {
    "text": "used it for the first time for real things but it wasn't really ready yet to throw it at you all so that happened a",
    "start": "107479",
    "end": "114889"
  },
  {
    "text": "bit lighter now prometheus is well-known enough but now that I didn't want to",
    "start": "114889",
    "end": "121039"
  },
  {
    "text": "just give the next introduction talk because I guess 20 percent of you are already using it or know a bit about it",
    "start": "121039",
    "end": "127159"
  },
  {
    "text": "and that would be boring on the other hand this is not a dedicated monitoring conference or even like prom corn a",
    "start": "127159",
    "end": "133910"
  },
  {
    "text": "conference there is just about Prometheus so like just giving something super advanced wouldn't",
    "start": "133910",
    "end": "139910"
  },
  {
    "text": "that would probably not help many of you so I thought let's just look back at how",
    "start": "139910",
    "end": "145740"
  },
  {
    "text": "those four years have changed our way of monitoring and I mean the hope is that",
    "start": "145740",
    "end": "152250"
  },
  {
    "text": "you will get some inspiration how you can do things in your own company organization whatever you will have see",
    "start": "152250",
    "end": "159930"
  },
  {
    "text": "some resemblance of problems you run into and then you might get an idea if something like prometheus is for you",
    "start": "159930",
    "end": "167240"
  },
  {
    "text": "also other things I'll talk about because it's not only Prometheus so",
    "start": "167240",
    "end": "172890"
  },
  {
    "start": "171000",
    "end": "229000"
  },
  {
    "text": "let's start some thought is about ten years old by now pretty precisely ten years I guess level",
    "start": "172890",
    "end": "179880"
  },
  {
    "text": "zero no monitoring that's what many people do right I mean it's sad but",
    "start": "179880",
    "end": "185280"
  },
  {
    "text": "sometimes you just don't have time it's usually a bad thing to not have any monitoring but I guess that's the",
    "start": "185280",
    "end": "192000"
  },
  {
    "text": "default and even if you don't do monitoring you are still you you are",
    "start": "192000",
    "end": "197100"
  },
  {
    "text": "still being monitored of course for you users or your customers and they will complain if you're lucky they complain",
    "start": "197100",
    "end": "203340"
  },
  {
    "text": "to you but most of the time they use this little bird and tweet it to the world that they are unhappy with your",
    "start": "203340",
    "end": "210540"
  },
  {
    "text": "service so Twitter is actually a pretty good monitoring tool in a way I know companies who have automated scripts if",
    "start": "210540",
    "end": "218190"
  },
  {
    "text": "certain phrases show up on Twitter that suggests that their site is down people get paged we don't have that but we have",
    "start": "218190",
    "end": "229400"
  },
  {
    "start": "229000",
    "end": "289000"
  },
  {
    "text": "this little section in our post mortem form so we do this in every post-modern",
    "start": "229400",
    "end": "235950"
  },
  {
    "text": "we ask our community team so have users tweeted about it have they written emails to you sometimes we know there's",
    "start": "235950",
    "end": "243510"
  },
  {
    "text": "an outage she put a help page up on our help system then we they check out how many users have used that page so this",
    "start": "243510",
    "end": "251160"
  },
  {
    "text": "is really good because you get a real-world feedback every postmodern process of something that is user facing",
    "start": "251160",
    "end": "258060"
  },
  {
    "text": "should have this section you know that perhaps this huge outage that all your",
    "start": "258060",
    "end": "264870"
  },
  {
    "text": "monitoring systems were taking you about didn't have such a you in fact and that that's good right that",
    "start": "264870",
    "end": "270759"
  },
  {
    "text": "might be I mean it might be your monitoring system is oversensitive it might also be your really good risk",
    "start": "270759",
    "end": "275860"
  },
  {
    "text": "graceful degradation you can't have an informed decision about that but also the opposite happens all the time",
    "start": "275860",
    "end": "281410"
  },
  {
    "text": "you have noticed anything internally but the users were complaining for weeks so",
    "start": "281410",
    "end": "286449"
  },
  {
    "text": "all of this is very good to get some calibration okay but let's talk about systems monitoring not just users",
    "start": "286449",
    "end": "293349"
  },
  {
    "start": "289000",
    "end": "339000"
  },
  {
    "text": "tweeting at us level one obviously I guess most of you went through that not yours",
    "start": "293349",
    "end": "300789"
  },
  {
    "text": "let's say seven years ago more or less if you want an open source monitoring",
    "start": "300789",
    "end": "306460"
  },
  {
    "text": "that's that's the gold standard there's AI senior now there are also other systems that are more modern but they're",
    "start": "306460",
    "end": "314050"
  },
  {
    "text": "essentially iterations on Nagios I singer I just put this here as the",
    "start": "314050",
    "end": "321360"
  },
  {
    "text": "placeholder for all of these in in practice we are using a cigarette sound on we are still using it it's so hard to",
    "start": "321360",
    "end": "328389"
  },
  {
    "text": "get rid of legacy systems that have been established sometimes it's also not worth it to get rid of them this is a",
    "start": "328389",
    "end": "334270"
  },
  {
    "text": "different story so that's what happens first it looks like that if you look at",
    "start": "334270",
    "end": "341919"
  },
  {
    "start": "339000",
    "end": "675000"
  },
  {
    "text": "this is I singer this is actually pretty recent screenshot to prove that we're",
    "start": "341919",
    "end": "346960"
  },
  {
    "text": "still using it and this is this is the first thing that comes to mind this is",
    "start": "346960",
    "end": "352509"
  },
  {
    "text": "all about hosts you look at a specific house and adios pings their house if",
    "start": "352509",
    "end": "357580"
  },
  {
    "text": "that house pings great then it runs other checks there are loads of plugins",
    "start": "357580",
    "end": "363310"
  },
  {
    "text": "nagas it's very versatile it can do it has this NR PE",
    "start": "363310",
    "end": "369150"
  },
  {
    "text": "Nagios remote processing environment or something I don't even know exactly what the acronym means but that's pretty",
    "start": "369150",
    "end": "375340"
  },
  {
    "text": "awesome because you can now go send something to the house and then on the house it can run things and that's very",
    "start": "375340",
    "end": "381909"
  },
  {
    "text": "flexible you can do almost anything and you see we check for stats D which is another monitoring system and it's",
    "start": "381909",
    "end": "389020"
  },
  {
    "text": "checking for n FS yes we are still using NFS so things are scary here but this is",
    "start": "389020",
    "end": "396460"
  },
  {
    "text": "pretty reason or originally there were way more checks for example how cool is this all those things so the problem that we",
    "start": "396460",
    "end": "404220"
  },
  {
    "text": "had with that I mean that many problems but the the most obvious one was this is all host oriented but at some point you",
    "start": "404220",
    "end": "412110"
  },
  {
    "text": "are talking about distributed systems so you have literally thousands of hosts and more some of them are always down",
    "start": "412110",
    "end": "418590"
  },
  {
    "text": "and it's kind of that's not an alerting condition that's normal life right I",
    "start": "418590",
    "end": "423780"
  },
  {
    "text": "mean you have to deal with them but you don't want to wake somebody up and a service is distributed it's designed to",
    "start": "423780",
    "end": "429780"
  },
  {
    "text": "tolerate that a house is down all the time and that's all it doesn't feel right and in practice it creates a lot",
    "start": "429780",
    "end": "436260"
  },
  {
    "text": "of problem so nagas I mean they have developed a lot it's a very mature system so there's the thing like cluster",
    "start": "436260",
    "end": "443370"
  },
  {
    "text": "checks that's exactly about clustered distributed services so we were using",
    "start": "443370",
    "end": "449820"
  },
  {
    "text": "that as well but there's also this interesting thing so what's the host here the host is called goal-linked",
    "start": "449820",
    "end": "456630"
  },
  {
    "text": "redirector which is an internal service doesn't matter I just picked it because it has go in the name like the",
    "start": "456630",
    "end": "461670"
  },
  {
    "text": "conference so this is back from many instances that run on some cluster we'll",
    "start": "461670",
    "end": "468360"
  },
  {
    "text": "talk about that later and the host is gray status pending so no check but",
    "start": "468360",
    "end": "477240"
  },
  {
    "text": "there's a service on it right so that's what you do or nod yours if you have something that is actually not bound to a host you create a pseudo host and then",
    "start": "477240",
    "end": "484590"
  },
  {
    "text": "you can still test it so you see this is kind of yeah it doesn't feel right but",
    "start": "484590",
    "end": "490770"
  },
  {
    "text": "there are some things that people think that are wrong about Nagas that are actually not that bad so let's quickly",
    "start": "490770",
    "end": "497760"
  },
  {
    "text": "talk about that the one is many people think this whole idea that the",
    "start": "497760",
    "end": "502800"
  },
  {
    "text": "monitoring server goes to the monitor target and retrieve some information is bad and fundamentally flawed and doesn't",
    "start": "502800",
    "end": "510900"
  },
  {
    "text": "scale now if you know anything about from easiest you know that permittees is doing exactly the same thing of course",
    "start": "510900",
    "end": "517169"
  },
  {
    "text": "it retrieves different things and it's all very different but this part tool based monitoring that's exactly what",
    "start": "517169",
    "end": "523650"
  },
  {
    "text": "Prometheus does and when we created it we were actually thinking this is the only way you can do it and there was a",
    "start": "523650",
    "end": "529590"
  },
  {
    "text": "bit of a religious struggle about it in practice I think and I think the more during community has settled down a bit",
    "start": "529590",
    "end": "536639"
  },
  {
    "text": "it actually doesn't matter so much it's really like you have to get it right of course but push or pull can read a lot",
    "start": "536639",
    "end": "543149"
  },
  {
    "text": "about that on the internet that's not the most important question here so if you say we cannot use Nagas because it",
    "start": "543149",
    "end": "549360"
  },
  {
    "text": "pulls things in its first it's wrong and also you couldn't use Prometheus either then the other thing is this whole story",
    "start": "549360",
    "end": "558449"
  },
  {
    "text": "about black box versus white box monitoring you might have heard that modern monitoring must be white box",
    "start": "558449",
    "end": "565139"
  },
  {
    "text": "we'll talk about that later now not yours it's kind of in the black box",
    "start": "565139",
    "end": "571500"
  },
  {
    "text": "monitoring domain but I think that's not my concept it's more or bi it's a",
    "start": "571500",
    "end": "577079"
  },
  {
    "text": "cultural thing traditionally monitoring was the obstinate those ops folks in the company",
    "start": "577079",
    "end": "583470"
  },
  {
    "text": "and you had the deaf folks and the deaf folks would throw something over the",
    "start": "583470",
    "end": "588480"
  },
  {
    "text": "fence and what they throw over the fence from the ops perspective is a black box here's our product",
    "start": "588480",
    "end": "594149"
  },
  {
    "text": "it runs please monitor it so you cannot do anything else but like it's sending probes to it and trying to find out if",
    "start": "594149",
    "end": "600600"
  },
  {
    "text": "it behaves as expected white box monitoring if you don't know that that is this is a kind of monitoring where",
    "start": "600600",
    "end": "607920"
  },
  {
    "text": "you open the box and you look into it and you check out what it is actually doing which usually requires the box to",
    "start": "607920",
    "end": "614459"
  },
  {
    "text": "cooperate so you instrument your code to provide metrics or you have in a",
    "start": "614459",
    "end": "620339"
  },
  {
    "text": "database you have some stats tables you can query things like that and that involves deaths the developers have to",
    "start": "620339",
    "end": "628170"
  },
  {
    "text": "be concerned about monitoring and that's a weird thing in a traditional separator",
    "start": "628170",
    "end": "633839"
  },
  {
    "text": "ops and effort but in life DevOps yeh world it's actually very natural and so",
    "start": "633839",
    "end": "639449"
  },
  {
    "text": "what had this pretty radical you build a you run it approach which became more more elaborate I try to I usually sell",
    "start": "639449",
    "end": "646949"
  },
  {
    "text": "it as we are using through DevOps because we only have people who do both we don't have that we don't have ops and",
    "start": "646949",
    "end": "653490"
  },
  {
    "text": "that effort is not just about getting nine more nicely along with each other it's really you don't have dedicated Ops",
    "start": "653490",
    "end": "659760"
  },
  {
    "text": "teams but different story so now yours is kind of black box by",
    "start": "659760",
    "end": "665279"
  },
  {
    "text": "culture but this whole NRP thing could totally do whitefox monitoring if you want to right so this",
    "start": "665279",
    "end": "671010"
  },
  {
    "text": "is the one thing but also perhaps blackbox monitoring is not that bad after all so now every single of my talks",
    "start": "671010",
    "end": "678840"
  },
  {
    "text": "mentioned this book I'm a fan I mean every single talk ever since this book",
    "start": "678840",
    "end": "684000"
  },
  {
    "text": "came out but now it's really on the internet if you haven't heard about it if you haven't read it and if you run",
    "start": "684000",
    "end": "689160"
  },
  {
    "text": "anything medium to large scale you need to read it of course I'm biased my Murphy was my",
    "start": "689160",
    "end": "696720"
  },
  {
    "text": "last boss at Google so now I have to admit I didn't work for a SoundCloud",
    "start": "696720",
    "end": "702050"
  },
  {
    "text": "forever but I was at this different company Google before as a side reliability engineer you said that right",
    "start": "702050",
    "end": "708089"
  },
  {
    "text": "you spoiled my surprise anyway so they describe my job I know most of the",
    "start": "708089",
    "end": "713100"
  },
  {
    "text": "people who wrote this so of course I'm biased but this is true gold it's not",
    "start": "713100",
    "end": "718529"
  },
  {
    "text": "that you should just copy Google because you are not Google to quote an popular blog post earlier this year that's true",
    "start": "718529",
    "end": "725610"
  },
  {
    "text": "you cannot just copy Google believe me we tried soundcard had a bunch of former Google as reason they thought now we are",
    "start": "725610",
    "end": "732240"
  },
  {
    "text": "getting bigger and more complex let's just do a sorry like Google doors didn't work but still you can learn from Google",
    "start": "732240",
    "end": "740190"
  },
  {
    "text": "and their vast experience with technology that we are now starting to use so definitely look into that and",
    "start": "740190",
    "end": "747270"
  },
  {
    "text": "they have a lot of stuff about monitoring and you will also learn something and that's symptom-based",
    "start": "747270",
    "end": "754050"
  },
  {
    "start": "752000",
    "end": "890000"
  },
  {
    "text": "alerting that's the kool-aid so you traditionally you have probably never",
    "start": "754050",
    "end": "759510"
  },
  {
    "text": "thought about symptoms and courses and what to alert and this is mostly because in a traditional world symptoms and",
    "start": "759510",
    "end": "765300"
  },
  {
    "text": "courses are more less the same so if I have an Apache like lamb stack or",
    "start": "765300",
    "end": "771209"
  },
  {
    "text": "whatever let's really go back to the 90s and and the server doesn't ping anymore",
    "start": "771209",
    "end": "776750"
  },
  {
    "text": "okay that's what Nagas alerts me on and that's the servers down that's the possible cause of an outage but since",
    "start": "776750",
    "end": "783209"
  },
  {
    "text": "it's your one server that serves your site your site is also down it's all the same right nowadays there are so many",
    "start": "783209",
    "end": "789480"
  },
  {
    "text": "things that could go wrong in here or distributed complex resilient self-healing all the buzzwords system so",
    "start": "789480",
    "end": "797010"
  },
  {
    "text": "I don't know like if if the database has higher latency is a replica stone",
    "start": "797010",
    "end": "802680"
  },
  {
    "text": "perhaps that's the problem perhaps not should I wake somebody up so causes are something you want to be informed about",
    "start": "802680",
    "end": "809460"
  },
  {
    "text": "during work hours to make sure that your system is in the same state but it's definitely not something you want to",
    "start": "809460",
    "end": "815160"
  },
  {
    "text": "wake people up because then you would wake people up all the time on the other hand your complex system has so many",
    "start": "815160",
    "end": "822150"
  },
  {
    "text": "possible causes you cannot even anticipate what they're what might happen that actually causes a problem to",
    "start": "822150",
    "end": "829140"
  },
  {
    "text": "your users or customers so what you want to page people on this is what I call",
    "start": "829140",
    "end": "834660"
  },
  {
    "text": "pages and tickets here you want to page people on symptoms on actually occurring",
    "start": "834660",
    "end": "840480"
  },
  {
    "text": "or imminent problems if you have an SLO or even SLA if you have contractual",
    "start": "840480",
    "end": "847170"
  },
  {
    "text": "requirement with your customers I serve 99% of my Kure successful in a hundred milliseconds that's great because",
    "start": "847170",
    "end": "853560"
  },
  {
    "text": "there's a proper monitoring system you can alert on exactly that you can wake somebody up and tell them listen we are",
    "start": "853560",
    "end": "859260"
  },
  {
    "text": "not fulfilling our contractual requirement wake up fix it right that's that's a great thing",
    "start": "859260",
    "end": "864840"
  },
  {
    "text": "and that catches all the possible causes and it doesn't wake you up for potential cost that might not be problematic at",
    "start": "864840",
    "end": "871290"
  },
  {
    "text": "the moment so that's the cool aid and if you think about that that's what blackbox monitoring is about right you",
    "start": "871290",
    "end": "877590"
  },
  {
    "text": "send probes from the outside to your system and if you get the expected reply great everything is up users are happy",
    "start": "877590",
    "end": "884790"
  },
  {
    "text": "customers happy so blackbox money is actually pretty good for this super cool modern thing blackbox monitoring",
    "start": "884790",
    "end": "891930"
  },
  {
    "start": "890000",
    "end": "965000"
  },
  {
    "text": "father-in is this one we want so it's sometimes my talks are like a Bible",
    "start": "891930",
    "end": "898050"
  },
  {
    "text": "reading club or something because then I open a quote from the Blue Book Oh low contrast here well I'll try to read",
    "start": "898050",
    "end": "905100"
  },
  {
    "text": "it so let's read about this and let's think what what is Google doing I mean you are not copying them but you want to",
    "start": "905100",
    "end": "911100"
  },
  {
    "text": "learn from them so Google is doing the following we combine heavy use of white box monitoring oh no this modest broad critical users",
    "start": "911100",
    "end": "919350"
  },
  {
    "text": "of black box monitoring the simplest way to think about black box monitoring versus white box monitoring is that",
    "start": "919350",
    "end": "925110"
  },
  {
    "text": "black box monitoring is symptom or Internet and represents active not predicted problems",
    "start": "925110",
    "end": "931530"
  },
  {
    "text": "good for paging black box monitoring has the key benefit of forcing discipline to",
    "start": "931530",
    "end": "936930"
  },
  {
    "text": "only Nakki human when a problem is both already ongoing and contributing to real",
    "start": "936930",
    "end": "942030"
  },
  {
    "text": "symptoms on the other hand for not yet occurring but imminent problems black",
    "start": "942030",
    "end": "947220"
  },
  {
    "text": "box monitoring is fairly useless so this is the big downer right so if you want",
    "start": "947220",
    "end": "952260"
  },
  {
    "text": "to alert on something that will for sure will happen if nobody intervenes that hasn't happened yet that's the best-case",
    "start": "952260",
    "end": "958800"
  },
  {
    "text": "right and that's difficult with black box monitoring there's also I mean if",
    "start": "958800",
    "end": "964890"
  },
  {
    "text": "you read on in the book there are more things this is my little focus on things",
    "start": "964890",
    "end": "969990"
  },
  {
    "start": "965000",
    "end": "1167000"
  },
  {
    "text": "and perhaps a bit my personal take on it so why this black box monitoring like we",
    "start": "969990",
    "end": "975690"
  },
  {
    "text": "went up and down roller coaster black boxes oldster all then you realize it's actually pretty good for modern alerting",
    "start": "975690",
    "end": "981740"
  },
  {
    "text": "but why is it still not sufficient so and this is the one thing you probe is",
    "start": "981740",
    "end": "987780"
  },
  {
    "text": "not real user traffic so of course we do our sound we will talk about that later we do a lot of black box proving itself",
    "start": "987780",
    "end": "994980"
  },
  {
    "text": "to measure our availability so we play a reference track it's boring it's",
    "start": "994980",
    "end": "1000230"
  },
  {
    "text": "probably just noise or beep or whatever now imagine some track goes viral on soundcloud millions of users want to",
    "start": "1000230",
    "end": "1006500"
  },
  {
    "text": "listen to that track and then the s3 bucket gets overloaded where that track is located not saying that it actually",
    "start": "1006500",
    "end": "1012530"
  },
  {
    "text": "works like that but you could imagine that track becomes unaccessible millions of people on the world are unhappy but",
    "start": "1012530",
    "end": "1018830"
  },
  {
    "text": "our boring reference track plays just fine and our black box manager tells me you are so this is a real issue because",
    "start": "1018830",
    "end": "1026720"
  },
  {
    "text": "yeah user traffic might look different another thing is the long tail latency",
    "start": "1026720",
    "end": "1032540"
  },
  {
    "text": "if you I mean probably all of you have heard one of those very excited talks",
    "start": "1032540",
    "end": "1037550"
  },
  {
    "text": "where people suddenly realize what like large shops like Google know for a long time long tail latency in complex",
    "start": "1037550",
    "end": "1044329"
  },
  {
    "text": "distributed micro-service architecture multi-tier whatever system is really important you can design your system to",
    "start": "1044329",
    "end": "1051560"
  },
  {
    "text": "avoid hitting the long tail but then you're already thinking about it but you you definitely want to know about your",
    "start": "1051560",
    "end": "1057170"
  },
  {
    "text": "long tail light and see that means it's not sufficient to know median or average latency stare",
    "start": "1057170",
    "end": "1062740"
  },
  {
    "text": "close to verse lists about 90th percentile 99th percentile 99.9% are",
    "start": "1062740",
    "end": "1068080"
  },
  {
    "text": "even perhaps that's really important and now do the math how many probes do I",
    "start": "1068080",
    "end": "1073149"
  },
  {
    "text": "need to find out my 99.9 percent I'll so I need a thousand probes and the slowest",
    "start": "1073149",
    "end": "1079299"
  },
  {
    "text": "one is that with a lot of sight like statistical uncertainty how often can",
    "start": "1079299",
    "end": "1084700"
  },
  {
    "text": "you probe every minute every five minutes thousand probes that meets like eternally until I know my 99.9% always",
    "start": "1084700",
    "end": "1091990"
  },
  {
    "text": "probing so that's really when I want to open the box and ask the binary so what",
    "start": "1091990",
    "end": "1097570"
  },
  {
    "text": "do you think is your latency the binary might lied to me but I get every single request accounted for I can also do",
    "start": "1097570",
    "end": "1105610"
  },
  {
    "text": "fancy things like I can ask in a multi-tier system I can ask the front end here so what do you think is the",
    "start": "1105610",
    "end": "1111850"
  },
  {
    "text": "latency of your back end because that's actually you won't get alive and right the frontier will tell you yes this back",
    "start": "1111850",
    "end": "1117610"
  },
  {
    "text": "end serves everything in the hammer milliseconds or like every hundreds request has a second or something which",
    "start": "1117610",
    "end": "1124090"
  },
  {
    "text": "is still a white box monitoring because you have to inspect one of those tiers but it's kind of throwing this real user",
    "start": "1124090",
    "end": "1130390"
  },
  {
    "text": "traffic that's also pretty good you only get this with white box monitoring and",
    "start": "1130390",
    "end": "1135809"
  },
  {
    "text": "then this is the biggest thing you still need to investigate courses so if you",
    "start": "1135809",
    "end": "1141370"
  },
  {
    "text": "get a nice symptom based alert may it be based on black box or white box monitoring and it tells you something is",
    "start": "1141370",
    "end": "1147340"
  },
  {
    "text": "broken the users are unhappy and your system is super complex so okay let's",
    "start": "1147340",
    "end": "1152350"
  },
  {
    "text": "fix it right but what is actually going wrong and that's really hard and this is where you need more than just alerting",
    "start": "1152350",
    "end": "1159010"
  },
  {
    "text": "you need something some means to investigate what's what's going wrong and that was a big issue at SoundCloud",
    "start": "1159010",
    "end": "1165580"
  },
  {
    "text": "when we went microservice and all those things okay let's quickly check out this is touch",
    "start": "1165580",
    "end": "1171010"
  },
  {
    "text": "point we are using catch points for like probing from all over the world no endorsement implied is just what we",
    "start": "1171010",
    "end": "1177039"
  },
  {
    "text": "happen to end up with you can do fairly complex things yeah it's difficult to",
    "start": "1177039",
    "end": "1183039"
  },
  {
    "text": "read but anyway if you have ever used cat phone you know those emails so you can simulate little browser sessions",
    "start": "1183039",
    "end": "1189340"
  },
  {
    "text": "like a user going to the SoundCloud landing page playing a track and that's how we measure our availability over a",
    "start": "1189340",
    "end": "1194950"
  },
  {
    "text": "year or over a quarter that's great because here's a lot of probes over quarter and you can really",
    "start": "1194950",
    "end": "1200160"
  },
  {
    "text": "count how many ninths you have and you get those pages if you are missing your targets but you see already this has a",
    "start": "1200160",
    "end": "1207570"
  },
  {
    "text": "long delay it's very noisy and I mean it's great for our quarterly goals of",
    "start": "1207570",
    "end": "1213240"
  },
  {
    "text": "availability but it's not right if I want to know within five minutes that now my 99th percentile latency is bad so",
    "start": "1213240",
    "end": "1221370"
  },
  {
    "text": "here you can only see so we conclude we need white box monitoring it's the year 2011 what do we do with my box",
    "start": "1221370",
    "end": "1227850"
  },
  {
    "text": "monitoring again take the coolest thing from hacker news back then there was study so that's is actually not that old",
    "start": "1227850",
    "end": "1235130"
  },
  {
    "text": "compared to not yours or I don't know computer technology in general so stats",
    "start": "1235130",
    "end": "1241530"
  },
  {
    "text": "D is already really nice white box monitoring you instrument your code you send like you count requests you send",
    "start": "1241530",
    "end": "1250080"
  },
  {
    "text": "out your latency and has implementation problems it uses UDP which is very lossy so it sounds like we didn't count 30% of",
    "start": "1250080",
    "end": "1257550"
  },
  {
    "text": "our traffic and didn't notice even so there are like certain things in like practical implementation but the idea is",
    "start": "1257550",
    "end": "1263790"
  },
  {
    "text": "really sound also again our you build it you're running approach made it really",
    "start": "1263790",
    "end": "1270120"
  },
  {
    "text": "easy that developers realized ok have to insert those three lines of code to to count my requests and send them via",
    "start": "1270120",
    "end": "1277200"
  },
  {
    "text": "stats D they get aggregated end up in graphite which is a weird hybrid often time serious database and the dashboard",
    "start": "1277200",
    "end": "1284040"
  },
  {
    "text": "builder but this is what we got like I mean back then that then those dashboard look pretty fancy not bad in a way what",
    "start": "1284040",
    "end": "1293340"
  },
  {
    "text": "were the problems it's aggregating a bit too much like",
    "start": "1293340",
    "end": "1298430"
  },
  {
    "text": "it's very difficult to nail things down to individual producers because graphite",
    "start": "1298430",
    "end": "1303570"
  },
  {
    "text": "is just not powerful for that we should actually consider what those different",
    "start": "1303570",
    "end": "1309690"
  },
  {
    "start": "1306000",
    "end": "1456000"
  },
  {
    "text": "things are I already mentioned that of it monitoring is many things this is not complete it's just things that come to",
    "start": "1309690",
    "end": "1317670"
  },
  {
    "text": "mind right now so monitoring is observing essentially I want fancy",
    "start": "1317670",
    "end": "1322710"
  },
  {
    "text": "dashboards I want to see what's going on with my systems what are my life science but it's also exploring",
    "start": "1322710",
    "end": "1329080"
  },
  {
    "text": "so if you have an outage and if you are lucky it is an anticipated problem and you have like a graph for the latency of",
    "start": "1329080",
    "end": "1337210"
  },
  {
    "text": "every single database replica you see are this one sticks out this is probably slow and creating problems but often of",
    "start": "1337210",
    "end": "1343809"
  },
  {
    "text": "course the real problems there are problems are those that you haven't anticipated so you were sitting there",
    "start": "1343809",
    "end": "1349629"
  },
  {
    "text": "your - was look fine your users are unhappy and what's going on right then you have to do some interactive",
    "start": "1349629",
    "end": "1355989"
  },
  {
    "text": "exploration and X that's the graphite combo is you can do a bit like you can",
    "start": "1355989",
    "end": "1362980"
  },
  {
    "text": "run query scratch the graphite time series database to call it that Y has a query language but it's really hard to",
    "start": "1362980",
    "end": "1370090"
  },
  {
    "text": "ask questions that you haven't thought about when you set up your matrix they have this hierarchy like hierarchical",
    "start": "1370090",
    "end": "1376899"
  },
  {
    "text": "aggregation aggregating the other way around is really hard and also what I",
    "start": "1376899",
    "end": "1382389"
  },
  {
    "text": "just mentioned like just cleaning something back to a single instance of your 500 instant service it's really",
    "start": "1382389",
    "end": "1388899"
  },
  {
    "text": "hard because graphite just doesn't have that granularity so and then alerting",
    "start": "1388899",
    "end": "1394869"
  },
  {
    "text": "this is what nagas does for us right it wakes me up if something is really wrong and the machines need me and this is all",
    "start": "1394869",
    "end": "1402730"
  },
  {
    "text": "disconnected now how do I even do something like I have something on a dashboard where I see if this graph",
    "start": "1402730",
    "end": "1408249"
  },
  {
    "text": "looks like that I want to get an alert how does not years know about that right and then you have again you it's very",
    "start": "1408249",
    "end": "1414429"
  },
  {
    "text": "flexibility of those plugins where you can tell Nagios please run this graphite query and if the outcome is above that",
    "start": "1414429",
    "end": "1420940"
  },
  {
    "text": "threshold and send me a warning and if it's even above that threshold sent me a page you can do this but it's all",
    "start": "1420940",
    "end": "1427859"
  },
  {
    "text": "separate and and yeah you you want this to be more one thing it's all monitoring",
    "start": "1427859",
    "end": "1435159"
  },
  {
    "text": "right and and this this it feels disconnected you have alerting in a different universe than exploring or",
    "start": "1435159",
    "end": "1441519"
  },
  {
    "text": "observing and the exploring part is really the weak one here so we had tiny dashboards we had alerts that were",
    "start": "1441519",
    "end": "1448419"
  },
  {
    "text": "fairly noisy as and then exploring between wasn't really working and it was",
    "start": "1448419",
    "end": "1454570"
  },
  {
    "text": "all very separate and different and then everything got more complicated because of container",
    "start": "1454570",
    "end": "1460340"
  },
  {
    "start": "1456000",
    "end": "1568000"
  },
  {
    "text": "so you have many machines perhaps virtual machines and a cloud provider that's bad enough already",
    "start": "1460340",
    "end": "1466970"
  },
  {
    "text": "but then containers happen so nowadays you all know docker and you know container orchestration you'll run many",
    "start": "1466970",
    "end": "1473270"
  },
  {
    "text": "of those containers somewhere I put kubernetes e because we are using it at Sound Cloud and it's pretty like",
    "start": "1473270",
    "end": "1479750"
  },
  {
    "text": "getting into the mainstream is fairly new but it's based on those ten years of Google experience Blue Book etc there",
    "start": "1479750",
    "end": "1488360"
  },
  {
    "text": "are others you don't have to use that it's fundamentally the same problem and Sound Cloud use containers before school",
    "start": "1488360",
    "end": "1496190"
  },
  {
    "text": "I mean after Google of course but before was cool there was no docker there was alexey and and we created",
    "start": "1496190",
    "end": "1502549"
  },
  {
    "text": "in-house a container orchestration thingy that was called bazooka which and",
    "start": "1502549",
    "end": "1508159"
  },
  {
    "text": "I don't like because I don't like weapons but I didn't come up with a name anyway that was like I mean they had",
    "start": "1508159",
    "end": "1515360"
  },
  {
    "text": "many flaws and maturity problems but fundamentally this was top notch that was really weeded container",
    "start": "1515360",
    "end": "1521720"
  },
  {
    "text": "orchestration like the big ones and normal people didn't even have docker",
    "start": "1521720",
    "end": "1527270"
  },
  {
    "text": "because it didn't exist so great stuff but then you have thousands and ten thousands of containers floating around",
    "start": "1527270",
    "end": "1533480"
  },
  {
    "text": "and and now you're you're monitoring targets like a container you're even more it's even more difficult to find",
    "start": "1533480",
    "end": "1539090"
  },
  {
    "text": "where the problem is so everything gets more complicated and then there's this sentence again from chapter 10 we need",
    "start": "1539090",
    "end": "1546919"
  },
  {
    "text": "monitoring systems that allow us to alert for high-level service objectives that's the whole thing right to have",
    "start": "1546919",
    "end": "1553010"
  },
  {
    "text": "proper alerting but retain the granularity to inspect individual components as needed you want both and",
    "start": "1553010",
    "end": "1560179"
  },
  {
    "text": "that is in one sentence why we needed to create Prometheus because there was nothing in the open source space that",
    "start": "1560179",
    "end": "1566809"
  },
  {
    "text": "would do that for us so level three Prometheus this is the",
    "start": "1566809",
    "end": "1573350"
  },
  {
    "start": "1568000",
    "end": "1746000"
  },
  {
    "text": "architecture I said I'm not going to give a technical introduction to Prometheus I want to focus on one point",
    "start": "1573350",
    "end": "1581330"
  },
  {
    "text": "here which is how how all the dots are connected now promises we often say",
    "start": "1581330",
    "end": "1587809"
  },
  {
    "text": "Prometheus when we are referring through the prometheus which is the middle box but that's not",
    "start": "1587809",
    "end": "1593200"
  },
  {
    "text": "true because you can check out the Prometheus github or there are dozens of",
    "start": "1593200",
    "end": "1598240"
  },
  {
    "text": "repos but then there are so many more that are not in the github communities or if it's a whole ecosystem it's many",
    "start": "1598240",
    "end": "1605800"
  },
  {
    "text": "things and it's also many ideas and concepts that's all Prometheus Promethean thinking like we have this I",
    "start": "1605800",
    "end": "1612970"
  },
  {
    "text": "often use that and code reviews like this is not very Promethean so it's it's it's more than just a binary that runs",
    "start": "1612970",
    "end": "1620740"
  },
  {
    "text": "as your monitoring server first of all it has instrumentation libraries so you already get help to instrument your code",
    "start": "1620740",
    "end": "1627850"
  },
  {
    "text": "similar to study it's really not that difficult if you got over the culture",
    "start": "1627850",
    "end": "1633640"
  },
  {
    "text": "shock and that's not even really represented you have like those jobs exporters here in the corner exporters",
    "start": "1633640",
    "end": "1640000"
  },
  {
    "text": "are like glue binaries if you have a system that isn't instrumented but ideally you have your own software you",
    "start": "1640000",
    "end": "1645040"
  },
  {
    "text": "instrument it and then you have metrics then promises about how to collect those",
    "start": "1645040",
    "end": "1650230"
  },
  {
    "text": "it's like now yours it pulls things in but everything else is different it's about storage and here we get into",
    "start": "1650230",
    "end": "1658120"
  },
  {
    "text": "something that time series database right like graphite so you you record",
    "start": "1658120",
    "end": "1664510"
  },
  {
    "text": "those metrics over time which has a lot of benefits not only for dashboarding but then you have an expression language",
    "start": "1664510",
    "end": "1670810"
  },
  {
    "text": "from ql this is this is very powerful sometimes confusing and it's used for",
    "start": "1670810",
    "end": "1677050"
  },
  {
    "text": "everything so you use it to formulate a query that heats feet your dashboard you",
    "start": "1677050",
    "end": "1683860"
  },
  {
    "text": "use it to interactively explore you later and you use it to formulate alerts",
    "start": "1683860",
    "end": "1689800"
  },
  {
    "text": "it's all the same language all of a sudden all make sense all is consistent - popular was from - back then that's",
    "start": "1689800",
    "end": "1698980"
  },
  {
    "text": "what we built at Souder because there was no suitable dashboard builder it also reads from graphite so you have",
    "start": "1698980",
    "end": "1704920"
  },
  {
    "text": "nice migration paths nowadays grow fauna is the hottest thing didn't really exist",
    "start": "1704920",
    "end": "1710620"
  },
  {
    "text": "back then so prominence is totally deprecated should disappear on our web page that has disappeared from the",
    "start": "1710620",
    "end": "1716290"
  },
  {
    "text": "architecture diagram and Cortana has many data sources is really great to draw dashboards from all kind of sources",
    "start": "1716290",
    "end": "1722590"
  },
  {
    "text": "but prometheus is a very popular one a lot manager takes all the alerts that you're a",
    "start": "1722590",
    "end": "1728100"
  },
  {
    "text": "formulator is from QLD dupes them they'll talk about the later and sends them to the right person which is",
    "start": "1728100",
    "end": "1733649"
  },
  {
    "text": "another thing right if you're alerting it's like a completely separate thing then all your ownership has to be",
    "start": "1733649",
    "end": "1739499"
  },
  {
    "text": "redefined in the alerting system again so it's also something area want more",
    "start": "1739499",
    "end": "1745050"
  },
  {
    "text": "[Music] consolidation this is very quickly just proves that I glossed over the fact that",
    "start": "1745050",
    "end": "1752369"
  },
  {
    "start": "1746000",
    "end": "1810000"
  },
  {
    "text": "we were using way more things than Nagas and start seeing graphite so ganglia immune intact divert all things we never",
    "start": "1752369",
    "end": "1758789"
  },
  {
    "text": "used hipster and in Flex DB but that would have been the past if we had no promises but now used kubernetes or our",
    "start": "1758789",
    "end": "1766590"
  },
  {
    "text": "own platform but when we use cover letters they had hipster in place because they needed a story about",
    "start": "1766590",
    "end": "1773129"
  },
  {
    "text": "monitoring and later they learned about promises and now yeah you kind of will",
    "start": "1773129",
    "end": "1778860"
  },
  {
    "text": "use Prometheus if you want to monitor kubernetes also New Relic is the representative of external",
    "start": "1778860",
    "end": "1784649"
  },
  {
    "text": "monitoring providers that's something we use pretty heavily just out of desperation because the external",
    "start": "1784649",
    "end": "1790350"
  },
  {
    "text": "monitoring provides they're fairly good they're doing a good job in what they're doing and the on premise open source",
    "start": "1790350",
    "end": "1796740"
  },
  {
    "text": "solution home grown whatever they couldn't really solve your problem so",
    "start": "1796740",
    "end": "1802110"
  },
  {
    "text": "you use all those providers and you paid them a lot of money New Relic was just one we paid the most money to but we had",
    "start": "1802110",
    "end": "1809009"
  },
  {
    "text": "more than this this is how it looks today so it's just like obvious",
    "start": "1809009",
    "end": "1814320"
  },
  {
    "text": "consolidation you use all the layers or things with the same system all with the",
    "start": "1814320",
    "end": "1822149"
  },
  {
    "text": "same language and then beautiful dashboard with Cortana so that there was",
    "start": "1822149",
    "end": "1828330"
  },
  {
    "text": "only quite a relief so talking about this external monitoring providers that's pretty important because they are",
    "start": "1828330",
    "end": "1835710"
  },
  {
    "start": "1829000",
    "end": "1946000"
  },
  {
    "text": "doing such a good job and they're also evolving and you have like New Relic and data dog and souk owners and and that",
    "start": "1835710",
    "end": "1842970"
  },
  {
    "text": "great stuff now there are situations where you really want this you are like just a small shop you don't really want",
    "start": "1842970",
    "end": "1849720"
  },
  {
    "text": "to happen whole team that is dedicated to monitoring or something it totally makes sense to say hey we can out",
    "start": "1849720",
    "end": "1856210"
  },
  {
    "text": "of that to that external provider and they are really having their right know-how and everything but I guess that",
    "start": "1856210",
    "end": "1862570"
  },
  {
    "text": "many like midsize organizations are in this state and definitely weren't that",
    "start": "1862570",
    "end": "1868000"
  },
  {
    "text": "state back then where they just had no choice so we don't want hosted monitoring we want it on premise like we",
    "start": "1868000",
    "end": "1874690"
  },
  {
    "text": "had weird things where we had an outage because our external internet connection was too slow and then some services",
    "start": "1874690",
    "end": "1880480"
  },
  {
    "text": "started to throw exception which we all send to a break and then our external internet connection was even snow because we have to send so much",
    "start": "1880480",
    "end": "1885850"
  },
  {
    "text": "exceptions to every like there are things where you say I don't want it I'm",
    "start": "1885850",
    "end": "1891160"
  },
  {
    "text": "big enough like we are even running a bare-metal later Center why should we have monitoring somewhere else",
    "start": "1891160",
    "end": "1896710"
  },
  {
    "text": "also it's expensive and you see this dotted line is our usage of external",
    "start": "1896710",
    "end": "1902080"
  },
  {
    "text": "monitoring it just went more more because that's the Onaga wasn't really pull it off and then Prometheus happened",
    "start": "1902080",
    "end": "1908140"
  },
  {
    "text": "so we could reduce that nowadays I put the black flame there because Prometheus can also do blackbox probing if you",
    "start": "1908140",
    "end": "1914740"
  },
  {
    "text": "really want to with the black boxes for so we reduced that a lot and now we have very organically growing very reasonable",
    "start": "1914740",
    "end": "1922030"
  },
  {
    "text": "use of external monitoring for example catch point for our like externally perceived availability that totally",
    "start": "1922030",
    "end": "1928750"
  },
  {
    "text": "makes sense and this is significant like we are shop of a hundred engineers and I",
    "start": "1928750",
    "end": "1934630"
  },
  {
    "text": "guess two of them are paid by the money we save by not using external monitoring",
    "start": "1934630",
    "end": "1939850"
  },
  {
    "text": "providers anymore so this is this is really a lot of money you have to pay to do serious monitoring so yeah catch one",
    "start": "1939850",
    "end": "1948430"
  },
  {
    "start": "1946000",
    "end": "1990000"
  },
  {
    "text": "no endorsement implied again this is just what we use kind of endorsement implies its latency at of course I'm",
    "start": "1948430",
    "end": "1955960"
  },
  {
    "text": "biased again because fish or Johannes sink who runs this he is a former",
    "start": "1955960",
    "end": "1961240"
  },
  {
    "text": "SoundCloud and also a Prometheus contributor and he essentially said okay we can do blackbox proving this",
    "start": "1961240",
    "end": "1966850"
  },
  {
    "text": "Prometheus let's just do this globally with different pops and everything and and offer this as a service so here are",
    "start": "1966850",
    "end": "1973780"
  },
  {
    "text": "off-premises inside for your on-premises premiere service so if you are using Prometheus and you want some global",
    "start": "1973780",
    "end": "1979780"
  },
  {
    "text": "probing and combine it all again with the same nice consistent semantics that",
    "start": "1979780",
    "end": "1985290"
  },
  {
    "text": "might be something to look at just starting to use that pretty interesting okay how are we timewise",
    "start": "1985290",
    "end": "1993830"
  },
  {
    "start": "1990000",
    "end": "2125000"
  },
  {
    "text": "okay so that was the big high-level overview I'm not making this overly",
    "start": "1993830",
    "end": "1999140"
  },
  {
    "text": "technical but just to get an idea how it looks more concretely let's just go through the stack quickly and see what",
    "start": "1999140",
    "end": "2006430"
  },
  {
    "text": "we how we do monitoring now so the first thing is instrumentation for white box monitoring you want your code to be",
    "start": "2006430",
    "end": "2012940"
  },
  {
    "text": "instrumented you can just do the classical thing using the vanilla Prometheus instrumentation libraries",
    "start": "2012940",
    "end": "2018430"
  },
  {
    "text": "this is just an example for go don't look too much into every single line but",
    "start": "2018430",
    "end": "2024580"
  },
  {
    "text": "you kind of see the orange part you add a few lines and then you get a histogram for all agencies and you count your",
    "start": "2024580",
    "end": "2030490"
  },
  {
    "text": "different status codes you see something about labels everything is labeled and Prometheus which we will talk about",
    "start": "2030490",
    "end": "2037450"
  },
  {
    "text": "later a bit but then we also have something called JVM kit so radical",
    "start": "2037450",
    "end": "2044380"
  },
  {
    "text": "micro-service approach is share nothing every team does their own thing but in",
    "start": "2044380",
    "end": "2049600"
  },
  {
    "text": "practice you don't want to you don't want to be too radical so you have some",
    "start": "2049600",
    "end": "2054610"
  },
  {
    "text": "shared code and whenever you do something on the JVM which add sound almost means Scala but also some other",
    "start": "2054610",
    "end": "2060820"
  },
  {
    "text": "things we have a like the library or framework that helps you to write a micro service and it's called JVM kit",
    "start": "2060820",
    "end": "2067360"
  },
  {
    "text": "and this gives you basic metrics for free essentially you write that a micro",
    "start": "2067360",
    "end": "2073300"
  },
  {
    "text": "service with that framework doesn't work for goal because it's not JVM this is where I put go code on the left side",
    "start": "2073300",
    "end": "2079330"
  },
  {
    "text": "here but for most of our micro services you just get the same set of metrics and then you add a few on top we see",
    "start": "2079330",
    "end": "2085898"
  },
  {
    "text": "Prometheus library that are custom to your service but that's pretty easy like it's fairly easy to get all those",
    "start": "2085899",
    "end": "2091840"
  },
  {
    "text": "metrics into your services and then this is the best thing create an internal",
    "start": "2091840",
    "end": "2098440"
  },
  {
    "text": "tool make it open source from the beginning and ensure that it comes to the next hipster monitoring tool because",
    "start": "2098440",
    "end": "2104680"
  },
  {
    "text": "when people will integrate against it so we're using sed birth using kubernetes we're using link Rd of course all CNCs",
    "start": "2104680",
    "end": "2111970"
  },
  {
    "text": "projects but they all have kubernetes they all have promised these metrics already built in great stuff right",
    "start": "2111970",
    "end": "2118180"
  },
  {
    "text": "theta is using our monitoring tool and you can use it with their products so this is",
    "start": "2118180",
    "end": "2123930"
  },
  {
    "text": "implementation easier than you think then collection probably more difficult",
    "start": "2123930",
    "end": "2129510"
  },
  {
    "start": "2125000",
    "end": "2262000"
  },
  {
    "text": "than you think we already mentioned it's so difficult to find your targets so",
    "start": "2129510",
    "end": "2135660"
  },
  {
    "text": "people often like frame promethease as the kubernetes monitoring system but in",
    "start": "2135660",
    "end": "2142230"
  },
  {
    "text": "practice you can use it to monitor everything so it's not like out of the box you put it here in your monitor",
    "start": "2142230",
    "end": "2147750"
  },
  {
    "text": "Canaries because you can also monitor other things and measures and ec2 and whatever you want but that means you",
    "start": "2147750",
    "end": "2155339"
  },
  {
    "text": "have to configure your particular use case and it can get really complicated because it's so flexible and what the",
    "start": "2155339",
    "end": "2161760"
  },
  {
    "text": "community usually recommends use some kind of configuration management if you have anything reasonably complex there's",
    "start": "2161760",
    "end": "2168180"
  },
  {
    "text": "also things like call as operators that's the thing where you can easily",
    "start": "2168180",
    "end": "2173790"
  },
  {
    "text": "run certain things on kubernetes and they have it for Prometheus as well where it gets super easy for that",
    "start": "2173790",
    "end": "2179310"
  },
  {
    "text": "particular use case we use chef as configuration management and for our developers is really easy on the left",
    "start": "2179310",
    "end": "2185490"
  },
  {
    "text": "you see this is for a PMO well I our Mobile API if you deploy that and you",
    "start": "2185490",
    "end": "2191790"
  },
  {
    "text": "put this little thing into a chef role and then magically it monitors everything on kubernetes about a PMO",
    "start": "2191790",
    "end": "2198089"
  },
  {
    "text": "well the system and cluster things these are already labeled talk about them",
    "start": "2198089",
    "end": "2203670"
  },
  {
    "text": "later so this is totally custom it's not predefined we just chose we want a system label and then Jeff generates",
    "start": "2203670",
    "end": "2211730"
  },
  {
    "text": "this premisses config this is just like it goes on for pages it looks really daring and you should",
    "start": "2211730",
    "end": "2218849"
  },
  {
    "text": "not code this by hand but yeah I mean this it really depends on your use case",
    "start": "2218849",
    "end": "2223950"
  },
  {
    "text": "but this all has to do with we are finding things on kubernetes timoni towards all dynamic it will follow up if",
    "start": "2223950",
    "end": "2230790"
  },
  {
    "text": "more containers come up and go down and kubernetes has labels Prometheus's label",
    "start": "2230790",
    "end": "2236760"
  },
  {
    "text": "it's so obvious we have to obviously we have to match them and we get all the coolness labels into Prometheus so on",
    "start": "2236760",
    "end": "2243180"
  },
  {
    "text": "coronet as you say this is my API mobile micro service and it has the system level a PMO well so to me it is knows I",
    "start": "2243180",
    "end": "2250170"
  },
  {
    "text": "should monitor everything with that label and I put all those labels on to Metrix together with other labels like",
    "start": "2250170",
    "end": "2256970"
  },
  {
    "text": "version is this a canary is this production and this is if you look at",
    "start": "2256970",
    "end": "2263370"
  },
  {
    "start": "2262000",
    "end": "2282000"
  },
  {
    "text": "the Prometheus servers web your eye you see it tells you about the targets if",
    "start": "2263370",
    "end": "2269070"
  },
  {
    "text": "your mobile has 200 things running on kubernetes and all those labels get magically attached once you're through",
    "start": "2269070",
    "end": "2275040"
  },
  {
    "text": "this hoop of configuring it it's all matching and nice and great and then",
    "start": "2275040",
    "end": "2282870"
  },
  {
    "start": "2282000",
    "end": "2326000"
  },
  {
    "text": "dashboards this is graph honor and since all our micro services that are using a",
    "start": "2282870",
    "end": "2288060"
  },
  {
    "text": "VM key did have those nice set of metrics you can also have a generic dashboard so this is essentially one",
    "start": "2288060",
    "end": "2294060"
  },
  {
    "text": "dashboard we have for you just pick your system and then end and component and track like all those things that we have",
    "start": "2294060",
    "end": "2300180"
  },
  {
    "text": "to find just for us because they make sense for us and you can just pick all those things you can compare the release",
    "start": "2300180",
    "end": "2306450"
  },
  {
    "text": "to the canary if it's performing better or worse and and this is like without a",
    "start": "2306450",
    "end": "2312090"
  },
  {
    "text": "developer doing anything about a particular service of course if you have custom metrics for specific service you",
    "start": "2312090",
    "end": "2318030"
  },
  {
    "text": "can also create your custom dashboards but this is super meaningful dashboards you just get for free in the active",
    "start": "2318030",
    "end": "2327720"
  },
  {
    "start": "2326000",
    "end": "2391000"
  },
  {
    "text": "exploration I mentioned how important that is on the right you see a part of the classical Prometheus server web UI",
    "start": "2327720",
    "end": "2335580"
  },
  {
    "text": "where you can just hack in from QL queries that is how we did it traditionally but the latest co-founder",
    "start": "2335580",
    "end": "2344190"
  },
  {
    "text": "version has Auto completion and all that jazz in the little text field where you",
    "start": "2344190",
    "end": "2352800"
  },
  {
    "text": "would usually just paste in your prompt your query so nowadays it's so awesome to just go to your co-founder dashboard",
    "start": "2352800",
    "end": "2359520"
  },
  {
    "text": "create a new whatever what's called panel and just start to hack and then it",
    "start": "2359520",
    "end": "2365640"
  },
  {
    "text": "will tell you it knows prompt URL it also completes it's like coding some programming language it autocompletes it",
    "start": "2365640",
    "end": "2373200"
  },
  {
    "text": "asks the community server about labels and metric names is very awesome to to",
    "start": "2373200",
    "end": "2378860"
  },
  {
    "text": "assemble curious that way if you have a nice fury you can save it as a dashboard or purpose it was really just",
    "start": "2378860",
    "end": "2384780"
  },
  {
    "text": "interactive exploration because you are down a current outage so that works really well alert creation I promise",
    "start": "2384780",
    "end": "2393990"
  },
  {
    "start": "2391000",
    "end": "2440000"
  },
  {
    "text": "it's all from girl by the way from if is too has a slightly different format for that so don't be confused we still use",
    "start": "2393990",
    "end": "2400289"
  },
  {
    "text": "the old one because we have a mix and converted with Chef but yeah details so",
    "start": "2400289",
    "end": "2406049"
  },
  {
    "text": "here I again won't go into details but you can see it's something like I have a rate of of missed iterations and I",
    "start": "2406049",
    "end": "2413400"
  },
  {
    "text": "divided by a total number of iterations so that some percentage cause at the",
    "start": "2413400",
    "end": "2418589"
  },
  {
    "text": "time some word and if I has more than 5% of that for four hours I send out a warning to somebody and you see there",
    "start": "2418589",
    "end": "2426390"
  },
  {
    "text": "are nice annotations like rumblings are really important you can read that in the Blue Book dashboards even like the",
    "start": "2426390",
    "end": "2433319"
  },
  {
    "text": "alert will tell you the dashboard to look at to find out more so that's really great and also at this point I",
    "start": "2433319",
    "end": "2442950"
  },
  {
    "start": "2440000",
    "end": "2497000"
  },
  {
    "text": "want to emphasize how important time series are because this is like this is",
    "start": "2442950",
    "end": "2448410"
  },
  {
    "text": "the proverbial example about this fool it could be any resource that that gets",
    "start": "2448410",
    "end": "2453450"
  },
  {
    "text": "consumed so if you have a classical modulus this full alert you just alert",
    "start": "2453450",
    "end": "2458670"
  },
  {
    "text": "on certain thresholds like 85% fool so on the left side you would alert all the time although this disk has been filled",
    "start": "2458670",
    "end": "2465900"
  },
  {
    "text": "in a controlled fashion and then it's you're done with that and you just read",
    "start": "2465900",
    "end": "2471059"
  },
  {
    "text": "from it but Nagas will still alert you and then like silencing a nagas alert is",
    "start": "2471059",
    "end": "2476339"
  },
  {
    "text": "really hard really easiest from easiest by the way and on the right page you",
    "start": "2476339",
    "end": "2482220"
  },
  {
    "text": "have something some job goes crazy and fills the disk and you get alerted like two minutes before you hit handler",
    "start": "2482220",
    "end": "2488250"
  },
  {
    "text": "present so I think I have this this is fine dog right so this is fine for",
    "start": "2488250",
    "end": "2494970"
  },
  {
    "text": "nagios and the left page which is actually fine so what you want is some",
    "start": "2494970",
    "end": "2501089"
  },
  {
    "start": "2497000",
    "end": "2515000"
  },
  {
    "text": "like let's predict the future so let's do some linear extrapolation from my time series I can do this first now just",
    "start": "2501089",
    "end": "2507599"
  },
  {
    "text": "doesn't know what time series right so you can see on the right it goes up up we should probably tell somebody on the",
    "start": "2507599",
    "end": "2514109"
  },
  {
    "text": "left is actually fine and in prometheus this looks like that like example for a",
    "start": "2514109",
    "end": "2519329"
  },
  {
    "start": "2515000",
    "end": "2540000"
  },
  {
    "text": "bit more complex and predict linear as a function that looks into the time series database and tells you something so if in four hours",
    "start": "2519329",
    "end": "2525829"
  },
  {
    "text": "we are at zero free file space and we already have a certain amount and it's not a read-only file system then",
    "start": "2525829",
    "end": "2532579"
  },
  {
    "text": "severity critical again you define that for yourself this is for us that we sent",
    "start": "2532579",
    "end": "2537800"
  },
  {
    "text": "the page - beurling's all those things on there so now where",
    "start": "2537800",
    "end": "2543260"
  },
  {
    "start": "2540000",
    "end": "2630000"
  },
  {
    "text": "to send the alerts to this is done with an alert routing tree this is all on the",
    "start": "2543260",
    "end": "2548869"
  },
  {
    "text": "alert manager now and then again it's all label based so we use this system label which we have defined for",
    "start": "2548869",
    "end": "2555050"
  },
  {
    "text": "ourselves so we know which system is owned by which team so here a PMO well",
    "start": "2555050",
    "end": "2560390"
  },
  {
    "text": "goes to certain receivers warning or critical and this is in practice more",
    "start": "2560390",
    "end": "2565760"
  },
  {
    "text": "complicated than you think and then you have all this routing tree you can do whatever you want and you can graph it",
    "start": "2565760",
    "end": "2572450"
  },
  {
    "text": "and this is the routing tree for us looks like a flower or something hopefully yours will look less complex",
    "start": "2572450",
    "end": "2579050"
  },
  {
    "text": "but this happens easily that and you see how complicated that actually is to route alerts the right user and you",
    "start": "2579050",
    "end": "2586609"
  },
  {
    "text": "cannot imagine how that worked with something like nine years before also you group them that's the orange part",
    "start": "2586609",
    "end": "2593329"
  },
  {
    "text": "it's again totally configurable but for us we thought if the alert name and the zone like which data centers in and the",
    "start": "2593329",
    "end": "2600560"
  },
  {
    "text": "system again it's the same we don't want to send out one alert per alert like we",
    "start": "2600560",
    "end": "2606319"
  },
  {
    "text": "won't have one bundled notification classical thing with now yours rec goes down with 32 servers you will get 32",
    "start": "2606319",
    "end": "2613730"
  },
  {
    "text": "pages not with prometheus you can say ok if like host is down in the same data",
    "start": "2613730",
    "end": "2620780"
  },
  {
    "text": "center for the same owner just sent you one page that enumerates all those 32 host and are down so that's also very",
    "start": "2620780",
    "end": "2627470"
  },
  {
    "text": "helpful to avoid alerting fatigue delivery again if you have an open",
    "start": "2627470",
    "end": "2633800"
  },
  {
    "text": "source system that goes viral then everybody will integrate against you so pay tribute has an explicit prometheus",
    "start": "2633800",
    "end": "2640040"
  },
  {
    "text": "integration so really easy to configure pager duty again no endorsement applied",
    "start": "2640040",
    "end": "2645500"
  },
  {
    "text": "with just using Plato duty to deliver pages we are also using slack for",
    "start": "2645500",
    "end": "2650630"
  },
  {
    "start": "2648000",
    "end": "2675000"
  },
  {
    "text": "everything including non paging alerts and there you see it's like you see all those nice thing with a run buckling and",
    "start": "2650630",
    "end": "2657270"
  },
  {
    "text": "the dashboard link so you see it in your slack the CRO father also runs nicely on a mobile phone so if you're like the",
    "start": "2657270",
    "end": "2663780"
  },
  {
    "text": "person on call you get something click on it look at the dashboard and you can already see what's going on even before",
    "start": "2663780",
    "end": "2669510"
  },
  {
    "text": "you have opened your laptop and logged into the VPN and everything so that's",
    "start": "2669510",
    "end": "2675089"
  },
  {
    "text": "also pretty good ok looks good so this",
    "start": "2675089",
    "end": "2680400"
  },
  {
    "text": "is parting slide sound that went from we have no clues we up or not we just look",
    "start": "2680400",
    "end": "2686550"
  },
  {
    "text": "at Twitter and I mean it was a joke but we had to show that people wouldn't even tweet about us if we are down they tweet",
    "start": "2686550",
    "end": "2692609"
  },
  {
    "text": "about us if we are up because that's so rare so nowadays we have many nines I'm",
    "start": "2692609",
    "end": "2699809"
  },
  {
    "text": "not sure if I'm allowed to tell you how many but like we reach our availability our ambitious availability goals",
    "start": "2699809",
    "end": "2705450"
  },
  {
    "text": "essentially by now every quarter despite several horrible things that happened to",
    "start": "2705450",
    "end": "2712800"
  },
  {
    "text": "us or even our third-party infrastructure providers those DNS blah",
    "start": "2712800",
    "end": "2718230"
  },
  {
    "text": "blah blah attack so we we asked the",
    "start": "2718230",
    "end": "2723270"
  },
  {
    "text": "managers and tech leads in a retrospective so we are we doing way better why just write it down the one",
    "start": "2723270",
    "end": "2729930"
  },
  {
    "text": "most important reason why we are doing better and most of them wrote down because we have improved monitoring and",
    "start": "2729930",
    "end": "2735240"
  },
  {
    "text": "this is a really nice match final reference shout-out to the Blue Book",
    "start": "2735240",
    "end": "2740720"
  },
  {
    "text": "Mikey because in again one of my former colleagues he made up this famous hierarchy of service reliability modeled",
    "start": "2740720",
    "end": "2747420"
  },
  {
    "text": "on mass loss rely a hierarchy of human needs were your F like food and shelter",
    "start": "2747420",
    "end": "2753780"
  },
  {
    "text": "at the bottom and only then you can do things that are very human-like philosophy and culture and signs and",
    "start": "2753780",
    "end": "2760890"
  },
  {
    "text": "like without food nothing works and there's a similar thing interest reliability your product is the one",
    "start": "2760890",
    "end": "2766349"
  },
  {
    "text": "thing you care about but it's only the tip of this pyramid and you have to build the pyramid from the bottom and I",
    "start": "2766349",
    "end": "2772079"
  },
  {
    "text": "really like how Mikey put monitoring as the base here and yeah this is kind of",
    "start": "2772079",
    "end": "2777930"
  },
  {
    "text": "my life by now so makes a lot sense and from unknown to low to high in four",
    "start": "2777930",
    "end": "2784290"
  },
  {
    "text": "years that's how it worked okay thank you I'll link the slides and",
    "start": "2784290",
    "end": "2789640"
  },
  {
    "start": "2787000",
    "end": "3055000"
  },
  {
    "text": "they Skeeter brittle and they will be uploaded to the go to side so you can look it up and that was asked to present",
    "start": "2789640",
    "end": "2795370"
  },
  {
    "text": "this no because we get questions we have minus five no plus four minutes for",
    "start": "2795370",
    "end": "2800710"
  },
  {
    "text": "questions [Applause]",
    "start": "2800710",
    "end": "2807430"
  },
  {
    "text": "yes oh thank you very much peon yeah we have two minutes but I think you're",
    "start": "2809410",
    "end": "2816980"
  },
  {
    "text": "floating around and people can that can ask you this first question other",
    "start": "2816980",
    "end": "2824059"
  },
  {
    "text": "results of the monitoring persistent loops where is it for example for",
    "start": "2824059",
    "end": "2829849"
  },
  {
    "text": "displaying data in the dashboards or do you lose the data when switching starting restarting nodes so yeah a very",
    "start": "2829849",
    "end": "2837319"
  },
  {
    "text": "good question the okay so there are two",
    "start": "2837319",
    "end": "2842450"
  },
  {
    "text": "things to it like from we think in the previous world as metrics as something you want history because it's time",
    "start": "2842450",
    "end": "2848990"
  },
  {
    "text": "series based training based alerting and everything but we think about it as ephemeral data so you just want enough",
    "start": "2848990",
    "end": "2855200"
  },
  {
    "text": "to say okay I can predict this space or I can look like how many arrows did I",
    "start": "2855200",
    "end": "2862430"
  },
  {
    "text": "have over the last ten minutes or one hour but not necessarily super long term trending although we get this like the",
    "start": "2862430",
    "end": "2868940"
  },
  {
    "text": "my circle people in the company started to hmm let's look at the last six months of database table growth and predict",
    "start": "2868940",
    "end": "2875569"
  },
  {
    "text": "when we will run out of this space and then you want really long-term data so it is persistent but it's more like a if",
    "start": "2875569",
    "end": "2883640"
  },
  {
    "text": "your server blows up the data is gone right now this promise is to we can finally do consists in hot backups so",
    "start": "2883640",
    "end": "2890599"
  },
  {
    "text": "that's good nice improvement to make the data a bit safer but then there's also something called the remote read and",
    "start": "2890599",
    "end": "2897650"
  },
  {
    "text": "write adapter so you can also like forward all the data into some really",
    "start": "2897650",
    "end": "2902779"
  },
  {
    "text": "distributed to revolt something something storage like open here is DB or influx DB and then you can even write",
    "start": "2902779",
    "end": "2909829"
  },
  {
    "text": "like read it back and there are unclear is against us total data in your distributed storage but you always have",
    "start": "2909829",
    "end": "2916039"
  },
  {
    "text": "your local storage from the more recent data that will never go down even if your network is on fire and your",
    "start": "2916039",
    "end": "2921650"
  },
  {
    "text": "distributed database doesn't work anymore okay thanks a lot of questions",
    "start": "2921650",
    "end": "2930079"
  },
  {
    "text": "came in lately yeah last question when monitoring detects issues you look at",
    "start": "2930079",
    "end": "2937190"
  },
  {
    "text": "the locks to determine the course what stack do you use for logging for collecting storage and",
    "start": "2937190",
    "end": "2942860"
  },
  {
    "text": "really nice almost a scripted so that's the huge thing about logs and metrics so",
    "start": "2942860",
    "end": "2950300"
  },
  {
    "text": "people often confuse the two or they ask me so do I need logs or any metrics and",
    "start": "2950300",
    "end": "2955430"
  },
  {
    "text": "the answers it's like it complements each other you need both things and it's really a different thing so you want",
    "start": "2955430",
    "end": "2961820"
  },
  {
    "text": "some stack of collecting logs and look at them and this is like event logging often let's say elasticsearch elk stack",
    "start": "2961820",
    "end": "2969560"
  },
  {
    "text": "is a good thing we just collect logs at the moment by our calf car so you can",
    "start": "2969560",
    "end": "2974720"
  },
  {
    "text": "just look at them we archive them somewhere on Hadoop but you want some kind of deer they're my logs I want to",
    "start": "2974720",
    "end": "2980870"
  },
  {
    "text": "look at them or I might even want to do some search and aggregation on them but this is different for metrics it's there",
    "start": "2980870",
    "end": "2987380"
  },
  {
    "text": "you can like it if you Google like Prometheus logs metrics you will find some nice blog post about it it's mostly",
    "start": "2987380",
    "end": "2993290"
  },
  {
    "text": "scalability if you're like small-scale you can just log everything and create metrics from it but larger scale metrics",
    "start": "2993290",
    "end": "3000940"
  },
  {
    "text": "just are like on a more higher level higher level and then you can just scale",
    "start": "3000940",
    "end": "3007060"
  },
  {
    "text": "up way more like if we had an elasticsearch cluster for all the logs we create on our thousands of micro",
    "start": "3007060",
    "end": "3012610"
  },
  {
    "text": "service instances we would need an elastic search cluster that is bigger than our whole production system so you cannot just log everything into",
    "start": "3012610",
    "end": "3018880"
  },
  {
    "text": "everything just based on lots but you also need logs for certain things so definitely both things complement",
    "start": "3018880",
    "end": "3024250"
  },
  {
    "text": "each other really interesting to dig deeper and Google with your friend because it's also search engine not just",
    "start": "3024250",
    "end": "3030160"
  },
  {
    "text": "the source of Technology okay so little spoiler pion talked a lot about site",
    "start": "3030160",
    "end": "3037690"
  },
  {
    "text": "reliability engineering at Google the next talk is exactly about site reliability engineering at Google and",
    "start": "3037690",
    "end": "3043920"
  },
  {
    "text": "with that I want to thank you for your talk thank you and just catch me four",
    "start": "3043920",
    "end": "3050020"
  },
  {
    "text": "more questions",
    "start": "3050020",
    "end": "3052530"
  }
]