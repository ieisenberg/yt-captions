[
  {
    "start": "0",
    "end": "127000"
  },
  {
    "text": "[Music]",
    "start": "3520",
    "end": "7840"
  },
  {
    "text": "all right well I am glad you're here you may not be able to tell I'm from America",
    "start": "12980",
    "end": "19010"
  },
  {
    "text": "I have a Danish accents very thick so I hope you can understand me talking but",
    "start": "19010",
    "end": "24930"
  },
  {
    "text": "um I'm glad you're here I'm excited to be doing this I'm gonna tell you a true story I started building this project",
    "start": "24930",
    "end": "31560"
  },
  {
    "text": "that we're gonna talk about today started building it last week on a whim on something we needed and after we",
    "start": "31560",
    "end": "36719"
  },
  {
    "text": "started looking at wood that would be really cool as a presentation so the one I was gonna do got swapped so this would",
    "start": "36719",
    "end": "44280"
  },
  {
    "text": "be the first time I've done this presentation so you can tell me whether I did great or whether I didn't do great",
    "start": "44280",
    "end": "49890"
  },
  {
    "text": "we'll see but I'm sure you'll tell me so I'm sure you'll let me know a couple rules while I'm talking just so you know",
    "start": "49890",
    "end": "55469"
  },
  {
    "text": "maybe not rules but guidelines are gonna help you out a lot okay the first one is this is any number I want it to be okay",
    "start": "55469",
    "end": "64228"
  },
  {
    "text": "when I tell I talked and I tell stories and things like that I'll hold this finger up and I'll say seven or 12 and",
    "start": "64229",
    "end": "69990"
  },
  {
    "text": "you know I've gone into restaurants a table for seven and I find myself alone at the bar so I do have one finger any",
    "start": "69990",
    "end": "77490"
  },
  {
    "text": "chance the way I was born I tell a lot of wonderful one finger jokes while I'm two while I'm talking and things like",
    "start": "77490",
    "end": "82920"
  },
  {
    "text": "that even if that makes you uncomfortable I'm totally okay with that so so we'll be good",
    "start": "82920",
    "end": "89579"
  },
  {
    "text": "the second rule is these are thumbs you'll see me do this a lot I'm not pointing at myself unless of course I am",
    "start": "89579",
    "end": "94799"
  },
  {
    "text": "it's contextual you have to figure it out so there you go and then these are quotes not apostrophes all right I do",
    "start": "94799",
    "end": "103560"
  },
  {
    "text": "this a lot like the other day I was working and I swear it like people always in the back row like I'm not",
    "start": "103560",
    "end": "110159"
  },
  {
    "text": "waving at you unless I am so you have to figure it out so I am glad you're here",
    "start": "110159",
    "end": "115680"
  },
  {
    "text": "today we're gonna be talking about building a back endless URL shortener and and back enlisting mean a lot of",
    "start": "115680",
    "end": "122670"
  },
  {
    "text": "different things so you know we'll kind of talk to that a little bit about Who I am just in case you don't know what I look",
    "start": "122670",
    "end": "129060"
  },
  {
    "start": "127000",
    "end": "208000"
  },
  {
    "text": "like there I am and life-size large size there my name is Eric Johnson my twitter handle",
    "start": "129060",
    "end": "134579"
  },
  {
    "text": "you see there I encourage you to follow me however I will warn you while I do talk about surveillance a lot I also",
    "start": "134579",
    "end": "140730"
  },
  {
    "text": "talk about pizza I'll talk about how pineapple shouldn't be on pizza I talk about my family I talk about all kinds",
    "start": "140730",
    "end": "145890"
  },
  {
    "text": "of things so it's a good with the bad you choose it's kind of funny I can always tell when we get a good debate going on you can tell whether it's good",
    "start": "145890",
    "end": "152099"
  },
  {
    "text": "or not by the number of people following they actually drop so I am a senior",
    "start": "152099",
    "end": "157260"
  },
  {
    "text": "developer advocate for surveillance at AWS I'm a server this tooling automation geek I love that kind of stuff I've been",
    "start": "157260",
    "end": "163890"
  },
  {
    "text": "in my past life I've been a software architect a Solutions Architect I'm a music lover I was a drummer I was",
    "start": "163890",
    "end": "170519"
  },
  {
    "text": "thought it was gonna be a professional drummer turns out I'm a really good drummer for one finger but I'm fairly",
    "start": "170519",
    "end": "176970"
  },
  {
    "text": "average the rest of the world so nobody's gonna pay me to do it so I love pizza it's very obvious I love food in",
    "start": "176970",
    "end": "182639"
  },
  {
    "text": "general I pizza and diet dr. pepper fanatic so I haven't been able to find",
    "start": "182639",
    "end": "187709"
  },
  {
    "text": "dr. pepper here so I'm drinking a coke today but you know how that goes so that's a little bit about me so let's",
    "start": "187709",
    "end": "194010"
  },
  {
    "text": "jump in so we have a lot to cover today I am gonna be going fast it's gonna be a lot of live code I'll set some expect expectations it's probably gonna be some",
    "start": "194010",
    "end": "201120"
  },
  {
    "text": "mistakes things like that but we'll see how it goes but let's jump in and just a quick overview of what we're gonna talk",
    "start": "201120",
    "end": "206819"
  },
  {
    "text": "about then we'll jump into it so we talked about a standard application we're gonna be building it basically a",
    "start": "206819",
    "end": "211859"
  },
  {
    "start": "208000",
    "end": "689000"
  },
  {
    "text": "you know REST API application today we're talking about building a service web application on AWS which is who I",
    "start": "211859",
    "end": "219989"
  },
  {
    "text": "work for that'sthat's the service we're gonna be talking about today this is basically what it would look like first of all obviously if you start",
    "start": "219989",
    "end": "225269"
  },
  {
    "text": "with the client you have a client and the first thing we have is we will host the site on AWS amplify console now what",
    "start": "225269",
    "end": "231989"
  },
  {
    "text": "this is this is kind of cool system this allows you to whole to host your sites I'm not gonna go into you know all about",
    "start": "231989",
    "end": "238049"
  },
  {
    "text": "it being kind of see some of the things it does but it provides a CI CD provides test and build automation it connects to",
    "start": "238049",
    "end": "244199"
  },
  {
    "text": "github or code commit support stage level it's powered by Amazon Cloud Front",
    "start": "244199",
    "end": "249479"
  },
  {
    "text": "which allows you to distribute your your code out to the edge and it's powered by",
    "start": "249479",
    "end": "254849"
  },
  {
    "text": "Amazon s3 so in a sense what you're doing is you're hosting your website in an s3 bucket if you're not familiar",
    "start": "254849",
    "end": "260250"
  },
  {
    "text": "that's three it's incredibly scalable it's incredibly durable so you can host your site there",
    "start": "260250",
    "end": "266370"
  },
  {
    "text": "people didn't know hey I can host a site right in s3 yeah I can amplify console add some more stuff to it by allowing",
    "start": "266370",
    "end": "272699"
  },
  {
    "text": "you to do the CIC and stuff so that's what we're gonna use today to host our client ok so far our back-end our",
    "start": "272699",
    "end": "280229"
  },
  {
    "text": "backends get a look a couple different ways so we'll talk about API management we're gonna use the API gateway there's",
    "start": "280229",
    "end": "286169"
  },
  {
    "text": "multiple different types of a peg gateway so there's different brands and for things like that but at AWS we have",
    "start": "286169",
    "end": "291630"
  },
  {
    "text": "the API gateway as a product and it's a managed API and so it does a lot of",
    "start": "291630",
    "end": "298020"
  },
  {
    "text": "things and that's one of the things I want to point out today as I'm walking through the live code and API gateway it",
    "start": "298020",
    "end": "303120"
  },
  {
    "text": "his job is not just to take hey here's the request do something with it all",
    "start": "303120",
    "end": "308280"
  },
  {
    "text": "right let me send it back there's a lot that can be done at the API gateway level things like authentication",
    "start": "308280",
    "end": "314760"
  },
  {
    "text": "authorization throttling caching SSL offloading custom domains resource policies request response modeling and",
    "start": "314760",
    "end": "322139"
  },
  {
    "text": "validation and more there's a lot more that it can do so when you think about building applications specifically",
    "start": "322139",
    "end": "328260"
  },
  {
    "text": "server this applications it's important to think about where can I handle different things and a lot of times",
    "start": "328260",
    "end": "334889"
  },
  {
    "text": "people skip right over API gateway go I'm gonna I'm gonna have to do a lambda or I'm gonna have to do containers",
    "start": "334889",
    "end": "339900"
  },
  {
    "text": "behind her I'm gonna have to spin up a box but the funny thing is a lot can be done at API gateway so we're talking",
    "start": "339900",
    "end": "347099"
  },
  {
    "text": "about backing usually when we're talking about a service back end you know it'll have lamed us behind it so your lambdas",
    "start": "347099",
    "end": "353070"
  },
  {
    "text": "are where your compute compute function happens right are you you're your business logic and so this isn't exactly",
    "start": "353070",
    "end": "359760"
  },
  {
    "text": "how ours will be broken up but you kind of get this idea that you know I may add functions for different things maybe domain specific or function or method or",
    "start": "359760",
    "end": "367349"
  },
  {
    "text": "resource different things like that so you think about lambda if you don't know anything about lambda lambda is a server",
    "start": "367349",
    "end": "373080"
  },
  {
    "text": "list compute architecture and it allows you to run just your code without setting up an architecture supports",
    "start": "373080",
    "end": "379410"
  },
  {
    "text": "multiple languages natively like Ruby java.net node Python et cetera you can",
    "start": "379410",
    "end": "385740"
  },
  {
    "text": "also do custom runtime for languages it Auto scales as you need it so as you get more load it gets bigger ok as you use",
    "start": "385740",
    "end": "392789"
  },
  {
    "text": "less load it gets smaller I don't think bigger and smaller are the right words but it gets it handles more capacity and less capacity and you'll",
    "start": "392789",
    "end": "400289"
  },
  {
    "text": "pay for what you use you only pay for the invokes you never pay for a machine to be sitting out there waiting for your",
    "start": "400289",
    "end": "405300"
  },
  {
    "text": "data and finally data storage I'm choosing to use DynamoDB dynamodb is",
    "start": "405300",
    "end": "412169"
  },
  {
    "text": "it's it's a highly scalable key value store highly durable global you can have",
    "start": "412169",
    "end": "417509"
  },
  {
    "text": "global multi master tables if you think if you're familiar in America with the the Black Friday or Cyber Monday is",
    "start": "417509",
    "end": "423719"
  },
  {
    "text": "anybody familiar with that you can raise your hand okay on Amazon this is what powers that okay when you need really",
    "start": "423719",
    "end": "431639"
  },
  {
    "text": "fast in and out really high scalability and your data durability is critical",
    "start": "431639",
    "end": "437639"
  },
  {
    "text": "that's that's where we had okay one of the mini but that's the state abase is very very much specific for the really",
    "start": "437639",
    "end": "443459"
  },
  {
    "text": "cool thing is the global multi master is you can you can have multi master databases around the region so around around the globe all right for",
    "start": "443459",
    "end": "452009"
  },
  {
    "text": "security we're adding Amazon kognito and Amazon carnitas job is he is simply he",
    "start": "452009",
    "end": "457889"
  },
  {
    "text": "we're gonna use him for user pools so I'm basically it allows me to create users and passwords he you can also do",
    "start": "457889",
    "end": "464639"
  },
  {
    "text": "federated identity you can you can actually host your login pages so if you don't want to write your whole login flow you'll see it up here I'm actually",
    "start": "464639",
    "end": "471569"
  },
  {
    "text": "gonna show you what when I do that and then he'll you can do custom domains for the auth and you can also do scopes so",
    "start": "471569",
    "end": "478019"
  },
  {
    "text": "that means you could say hey you're an admin your your just uh you know a lowly",
    "start": "478019",
    "end": "483029"
  },
  {
    "text": "developer advocate you know whatever so you can say you can base who gets where based on these scopes so this is kind of",
    "start": "483029",
    "end": "491309"
  },
  {
    "text": "the whole picture of what a standard service application looks like if we're building a simple web client and it's",
    "start": "491309",
    "end": "497819"
  },
  {
    "text": "the idea behind a spa client where you're running a single page application or a client server set up and that could",
    "start": "497819",
    "end": "503639"
  },
  {
    "text": "be something like you know angular view react different things like that those would all be hosted I'm gonna use",
    "start": "503639",
    "end": "509039"
  },
  {
    "text": "my fancy pointer again right here at AWS amplify console hey I use my pointer did",
    "start": "509039",
    "end": "514169"
  },
  {
    "text": "you guys see that I was tell him I probably wouldn't use it but I did all right so here's the thing that we want",
    "start": "514169",
    "end": "520529"
  },
  {
    "text": "to evaluate when we're looking at this there's a couple of questions we want to ask ourselves okay one is we think about",
    "start": "520529",
    "end": "527220"
  },
  {
    "text": "the idea of transport and transform okay and in my illustrious boss's name is a",
    "start": "527220",
    "end": "532439"
  },
  {
    "text": "Jane Eyre he's the direct serve elicit a double yes he made the comment he said lambdas functions should",
    "start": "532439",
    "end": "537720"
  },
  {
    "text": "be used to transform not transport so the idea here is you should use lambdas",
    "start": "537720",
    "end": "544020"
  },
  {
    "text": "when you need to transform your data when you need to do business logic but if all your lambda is doing is just",
    "start": "544020",
    "end": "550290"
  },
  {
    "text": "passing data back and forth then it might not be needed okay so we asked our",
    "start": "550290",
    "end": "556320"
  },
  {
    "text": "question do we even need those and for what we're doing we might not but you",
    "start": "556320",
    "end": "561900"
  },
  {
    "text": "asked the question say okay I've got business logic oh my slide went too fast there there we go I've got home I gave it up I gave",
    "start": "561900",
    "end": "568050"
  },
  {
    "text": "away the party right there mice I got business logic and my business logic is handled at the lambda",
    "start": "568050",
    "end": "573060"
  },
  {
    "text": "right but what if I can move my business logic to the Amazon API gateway then",
    "start": "573060",
    "end": "579420"
  },
  {
    "text": "what would happen as I can have an architecture looks like this so what is",
    "start": "579420",
    "end": "584790"
  },
  {
    "text": "this get us in this idea now lambdas are fast and they don't add a lot of latency",
    "start": "584790",
    "end": "590040"
  },
  {
    "text": "and they're also pretty cheap right so so with this with the pricing and lambda you get your first million in Vokes free",
    "start": "590040",
    "end": "596310"
  },
  {
    "text": "every month forever it's not for just two years forever and you get four hundred Giga of storage but if we don't need them why use them",
    "start": "596310",
    "end": "606090"
  },
  {
    "text": "okay so today over the next about 40 minutes we're gonna walk through building an application that did that",
    "start": "606090",
    "end": "615270"
  },
  {
    "text": "actually is back in lists okay or function list and we're gonna look at how do we move that business logic to",
    "start": "615270",
    "end": "620700"
  },
  {
    "text": "API gateway and how can we make use of some of the tooling and power that happens at API gateway so couple things",
    "start": "620700",
    "end": "628830"
  },
  {
    "text": "just to set expectations first of all this is a this is a proof of concept right what you're gonna see you might be",
    "start": "628830",
    "end": "635640"
  },
  {
    "text": "go I could do that better and I guarantee you probably can't okay that better than maybe I do or better than",
    "start": "635640",
    "end": "641670"
  },
  {
    "text": "what I did you know at 2:00 o'clock this morning right not really but that kind of I did this pretty fast because it's",
    "start": "641670",
    "end": "647490"
  },
  {
    "text": "like this would be fun to show all right it's happy path only so you might ask yourself well what happens if that air",
    "start": "647490",
    "end": "653190"
  },
  {
    "text": "is out we can handle errors I'm probably just not gonna coat it all in just because we're trying to move pretty fast okay I mean just to say this is not a",
    "start": "653190",
    "end": "661350"
  },
  {
    "text": "move I'm not I'm not against lambda because I'm you know I'm a developer advocate for service I mean",
    "start": "661350",
    "end": "667260"
  },
  {
    "text": "huge fan of lambda but I want to say if we don't need it let's don't use it there are other ways of doing things",
    "start": "667260",
    "end": "673580"
  },
  {
    "text": "when you walk out of here once you have an understanding of the power of API gateway in general we're gonna be",
    "start": "673580",
    "end": "678930"
  },
  {
    "text": "talking about specifically AWS is API gateway but just you know what can I offload to an api gateway and gain an",
    "start": "678930",
    "end": "685020"
  },
  {
    "text": "understanding of the right tools for the job all right but with that let's code all right so",
    "start": "685020",
    "end": "692460"
  },
  {
    "start": "689000",
    "end": "719000"
  },
  {
    "text": "what we're gonna do here is I'm gonna be talking through this we're gonna do some",
    "start": "692460",
    "end": "697950"
  },
  {
    "text": "live code so you can kind of see what's going on so I'll be working in the",
    "start": "697950",
    "end": "703650"
  },
  {
    "text": "Amazon database console and can everybody see that okay if you can't",
    "start": "703650",
    "end": "708720"
  },
  {
    "text": "read that can you raise your hand a little bit smaller okay all righty better all right I go any bigger I'll",
    "start": "708720",
    "end": "716220"
  },
  {
    "text": "have to stand back there to type so okay so here's what we're gonna do so we've got this API so we're gonna create I'm",
    "start": "716220",
    "end": "723270"
  },
  {
    "start": "719000",
    "end": "789000"
  },
  {
    "text": "sitting in the API gateway console and I'm nope I'm not I didn't even read that right that's a bad start folks really",
    "start": "723270",
    "end": "730590"
  },
  {
    "text": "bad start okay here we go API there we go let's reload that okay so we're gonna",
    "start": "730590",
    "end": "736470"
  },
  {
    "text": "actually create a new API this particular one is gonna be a REST API it's get me a new API and we're just",
    "start": "736470",
    "end": "743790"
  },
  {
    "text": "gonna call it slip to when we're all done the products called slip link okay",
    "start": "743790",
    "end": "749640"
  },
  {
    "text": "so it's just it's a it's a URL shortener okay description API now I'm gonna make",
    "start": "749640",
    "end": "759540"
  },
  {
    "text": "this regional I can't do edge API is as well and the edge API means it's gonna have a CDN in front of it it's gonna",
    "start": "759540",
    "end": "765450"
  },
  {
    "text": "push all my stuff out but we're just gonna keep this regional I'm building something Frankfurt okay so just give me a local one right now",
    "start": "765450",
    "end": "771840"
  },
  {
    "text": "yeah I really could have gone either way the reason I'm not doing yeah just sometimes it takes the CDN a little bit",
    "start": "771840",
    "end": "777060"
  },
  {
    "text": "to update and that's not so great in live coding so cuz the worst thing you want to do is have me up here toiling my",
    "start": "777060",
    "end": "782490"
  },
  {
    "text": "thumbs it is cuz I don't have thumbs right that's right okay so all right",
    "start": "782490",
    "end": "792260"
  },
  {
    "start": "789000",
    "end": "949000"
  },
  {
    "text": "let's do this so what you're looking at here is a very basic API there's really not much to it",
    "start": "792260",
    "end": "798000"
  },
  {
    "text": "it's just saying hey here it is and all I've got is one resource and that's just the route",
    "start": "798000",
    "end": "803870"
  },
  {
    "text": "okay so what we're gonna do the first thing we're gonna do is we're gonna build our create so that we can actually",
    "start": "803870",
    "end": "810290"
  },
  {
    "text": "create something to look at okay so we're gonna do that on a we're gonna create a resource because I want all of",
    "start": "810290",
    "end": "819200"
  },
  {
    "text": "my stuff all my admin stuff to work on a resource called links okay so everything's gonna be behind the slip",
    "start": "819200",
    "end": "825710"
  },
  {
    "text": "dot the slipped out link domain name so I want them to go to slipped out link",
    "start": "825710",
    "end": "831530"
  },
  {
    "text": "forward slash links to hit this with the API so I'm gonna create this resource",
    "start": "831530",
    "end": "836560"
  },
  {
    "text": "now I don't care about proxying right now and I don't care about cores will handle cores who loves cores yeah oh you",
    "start": "836560",
    "end": "844190"
  },
  {
    "text": "bunch of liars cores is hard nobody loves cores okay I didn't mean to call you liars please don't take that",
    "start": "844190",
    "end": "849890"
  },
  {
    "text": "out of my review all righty so we have links okay so then what we're gonna do",
    "start": "849890",
    "end": "855260"
  },
  {
    "text": "is we're gonna actually create a method now and that's gonna be our post method because what we're doing is we're gonna",
    "start": "855260",
    "end": "861620"
  },
  {
    "text": "post a new item this is a basic REST API yeah mostly if you've dealt the rest you",
    "start": "861620",
    "end": "868400"
  },
  {
    "text": "have post put delete up update different things like that now normally I could go to a lambda",
    "start": "868400",
    "end": "874400"
  },
  {
    "text": "function I can tell API gateway hey whatever comes in I'm gonna go straight to lambda function but instead I'm gonna",
    "start": "874400",
    "end": "880160"
  },
  {
    "text": "choose AWS service I have to choose a region okay and you're gonna see this",
    "start": "880160",
    "end": "885560"
  },
  {
    "text": "page several times today and then I'm gonna choose a service and I'm actually gonna correct connect directly to",
    "start": "885560",
    "end": "891440"
  },
  {
    "text": "dynamodb dynamodb has an API endpoint that I can hit and interact with okay so",
    "start": "891440",
    "end": "898070"
  },
  {
    "text": "I'm gonna tell it connect with that now the magic dynamodb is everything is done as a post so it's my HTTP method to",
    "start": "898070",
    "end": "904100"
  },
  {
    "text": "dynamo even though later when we do get some deletes and things like that I'm gonna interact with dynamo as a post and",
    "start": "904100",
    "end": "911660"
  },
  {
    "text": "I'm gonna use an action name and so the action name is the same thing as I would use like in an SDK or something like",
    "start": "911660",
    "end": "917960"
  },
  {
    "text": "that where I don't say put item or delete item and and in this one and I'll",
    "start": "917960",
    "end": "923540"
  },
  {
    "text": "explain why I'm gonna use update item and you may be asking yourself wait a",
    "start": "923540",
    "end": "928550"
  },
  {
    "text": "minute you're updating something but you haven't even created it yet and yes I do have a cheat sheet",
    "start": "928550",
    "end": "934760"
  },
  {
    "text": "oh you do not want to see me type all this stuff because that would be your not fun I'm grabbing the roll I'll",
    "start": "934760",
    "end": "942709"
  },
  {
    "text": "explain the role here for a moment this is the role that allows me to read and write - DynamoDB now the reason I'm",
    "start": "942709",
    "end": "949519"
  },
  {
    "start": "949000",
    "end": "1014000"
  },
  {
    "text": "choosing update item is in dynamodb if I'm just putting an item I can't get",
    "start": "949519",
    "end": "955760"
  },
  {
    "text": "that item back I would love to tell you the reasons why I don't know but if I do a put item it's not gonna give me the",
    "start": "955760",
    "end": "961790"
  },
  {
    "text": "new item back unless there was already an item there but if I do an update item then I get that data back and because we",
    "start": "961790",
    "end": "969139"
  },
  {
    "text": "don't want to have to make two calls we don't want to put it and then check to see if it got there we wanted to do a round trip to give the data back so I'm",
    "start": "969139",
    "end": "975649"
  },
  {
    "text": "doing an update item and it's gonna do a round trip it's gonna get that data back and then I can give it back to the",
    "start": "975649",
    "end": "980690"
  },
  {
    "text": "client when we're done all right so what I've done here now I've got four things",
    "start": "980690",
    "end": "986570"
  },
  {
    "text": "I've got a method request I've got an integration request and then I've got a method or integration response and a",
    "start": "986570",
    "end": "992630"
  },
  {
    "text": "method response that if you think about the thing way data flows through API gateway that's exactly that's gonna",
    "start": "992630",
    "end": "997850"
  },
  {
    "text": "happen it's gonna hit the method request first it's gonna hit the integration request then it goes to the integration response and back out to the method",
    "start": "997850",
    "end": "1003730"
  },
  {
    "text": "response and if this is a little overwhelming that's okay I don't expect you to know everything about API going",
    "start": "1003730",
    "end": "1009220"
  },
  {
    "text": "out there but I want you understand kind of what I'm doing and I know I'm talking fast so alright so now what we're gonna",
    "start": "1009220",
    "end": "1014920"
  },
  {
    "start": "1014000",
    "end": "1054000"
  },
  {
    "text": "do we've created our integration service and it's it has everything we just set",
    "start": "1014920",
    "end": "1019930"
  },
  {
    "text": "up so what we're gonna do is is data coming in I'm gonna make a data effect",
    "start": "1019930",
    "end": "1025089"
  },
  {
    "text": "I'll just show you real quick here so all I have to do to put my data is",
    "start": "1025089",
    "end": "1030850"
  },
  {
    "text": "something like this okay so we're gonna say I'm just gonna pass an ID of SD so",
    "start": "1030850",
    "end": "1039490"
  },
  {
    "text": "that's the that's the URL short short link and then I'm gonna pass a URL of",
    "start": "1039490",
    "end": "1045720"
  },
  {
    "text": "HTTP and this is my really outdated website that only my mom reads so there",
    "start": "1045720",
    "end": "1052720"
  },
  {
    "text": "you go alright now if I test that now okay we're gonna we got 200 but it's got",
    "start": "1052720",
    "end": "1058840"
  },
  {
    "start": "1054000",
    "end": "1229000"
  },
  {
    "text": "some validation errors because the data going into dynamodb isn't in the format that DynamoDB expects okay so we have to",
    "start": "1058840",
    "end": "1066610"
  },
  {
    "text": "transform that data all right so what we're gonna do is we're gonna add what we call a mapping",
    "start": "1066610",
    "end": "1072580"
  },
  {
    "text": "template okay in the integration request I'm gonna add a mapping template it's",
    "start": "1072580",
    "end": "1079899"
  },
  {
    "text": "gonna be in the format of application JSON save that now you're gonna see me",
    "start": "1079899",
    "end": "1086830"
  },
  {
    "text": "not save that a couple times and it's okay if I type something and move on and you see just yell out save that because",
    "start": "1086830",
    "end": "1092529"
  },
  {
    "text": "I don't forget and then spend ten minutes being really mad at all of you because I can't make this work so help me remember to save stuff all right so",
    "start": "1092529",
    "end": "1099460"
  },
  {
    "text": "right now our template is empty so this is the template that's gonna take the data I'll just grab this real quick here",
    "start": "1099460",
    "end": "1106919"
  },
  {
    "text": "and I'll explain this in just a moment so it's gonna take the data coming in and it's gonna transform it to match the",
    "start": "1106919",
    "end": "1113139"
  },
  {
    "text": "what dynamodb is looking at so let's blow this up for a minute so you can see it okay not big enough for everybody",
    "start": "1113139",
    "end": "1121230"
  },
  {
    "text": "okay good all right so first thing we're passing is we're telling you the table name so I'm telling you hey here's the",
    "start": "1121230",
    "end": "1127659"
  },
  {
    "text": "table name I want you to do then we're gonna do a condition expression we want to make sure that this ID doesn't",
    "start": "1127659",
    "end": "1133929"
  },
  {
    "text": "already exist so it has to pass this so it says the attribute does not exist in its ID the next thing we're gonna do is",
    "start": "1133929",
    "end": "1140500"
  },
  {
    "text": "we're gonna pass it its key and dynamodb likes to know the structure of everything so the key is ID and it's a",
    "start": "1140500",
    "end": "1146500"
  },
  {
    "text": "string that's what that s is and then I'm grabbing the data being passed into the body using the input JSON here the",
    "start": "1146500",
    "end": "1154600"
  },
  {
    "text": "next thing I'm gonna do are some expression attribute names and expression attribute values I'll explain him real quick here so you see as I see",
    "start": "1154600",
    "end": "1160929"
  },
  {
    "text": "them later sometimes we have we have reserved words in dynamodb or in the",
    "start": "1160929",
    "end": "1166360"
  },
  {
    "text": "services so in order to work around those just in case I don't want to mess those up like owner that's one of the",
    "start": "1166360",
    "end": "1171759"
  },
  {
    "text": "names of my fields that's a reserved word so I can map those to just variables so expression attribute names",
    "start": "1171759",
    "end": "1178210"
  },
  {
    "text": "maps those two variables pound you as URL pound - yes as timestamp so on",
    "start": "1178210",
    "end": "1183250"
  },
  {
    "text": "expression attribute values does the same thing it match it matches if I have to do long strings or some type of",
    "start": "1183250",
    "end": "1189789"
  },
  {
    "text": "configuration to get the value I can map those to a you to a variable as well and I'm doing : you : TSM : oh now you'll",
    "start": "1189789",
    "end": "1198220"
  },
  {
    "text": "notice that I've hard coded my email address in there that's on number 15 I believe there's a reason for",
    "start": "1198220",
    "end": "1205090"
  },
  {
    "text": "that this is gonna be part of our security okay and you're thinking wow that's lousy security of hard-coding your email",
    "start": "1205090",
    "end": "1210940"
  },
  {
    "text": "and we're gonna change that a little bit but for now so this works I'm going to show you later will dynamically grab",
    "start": "1210940",
    "end": "1216639"
  },
  {
    "text": "that when we have at authorization but we want to make it so that only I can interact with my stuff so it's gonna use",
    "start": "1216639",
    "end": "1223149"
  },
  {
    "text": "my email as my identifier all right so let's save that okay so if we go back",
    "start": "1223149",
    "end": "1230619"
  },
  {
    "start": "1229000",
    "end": "1429000"
  },
  {
    "text": "and we test that again okay I still got the same data here let's see we got so",
    "start": "1230619",
    "end": "1237700"
  },
  {
    "text": "this time we got a 200 and we've got some data back it's not pretty data but we got data back right so we've just",
    "start": "1237700",
    "end": "1244389"
  },
  {
    "text": "written to the DynamoDB table and I can pop over here to dynamodb and you can see it right here there you go so I have",
    "start": "1244389",
    "end": "1253539"
  },
  {
    "text": "one record in there we're good to go we could call it a win today but this isn't",
    "start": "1253539",
    "end": "1259179"
  },
  {
    "text": "the way we want to send our data back we could but it's not a real pretty way this is how DynamoDB looks at data so",
    "start": "1259179",
    "end": "1264730"
  },
  {
    "text": "that's okay we can change that as well so a couple of things we need to do okay",
    "start": "1264730",
    "end": "1271059"
  },
  {
    "text": "and first thing we're gonna do and our method response we make sure we have an HTTP status of 200 okay we also need to",
    "start": "1271059",
    "end": "1279429"
  },
  {
    "text": "add a header now this is where you manage the headers that are available to here and again for those of you who love",
    "start": "1279429",
    "end": "1285340"
  },
  {
    "text": "cores on our on our account we need to pass back the access origin I always get",
    "start": "1285340",
    "end": "1293350"
  },
  {
    "text": "this wrong control okay now notice I'm",
    "start": "1293350",
    "end": "1302019"
  },
  {
    "text": "not setting a value for it all I'm doing here is saying this is a header that I'm gonna need okay this is just in the",
    "start": "1302019",
    "end": "1309840"
  },
  {
    "text": "method response okay so I'm gonna go back out of here and I'm gonna go into",
    "start": "1309840",
    "end": "1315009"
  },
  {
    "text": "my integration response and this is where I interact with the backend service that I'm using at the",
    "start": "1315009",
    "end": "1320409"
  },
  {
    "text": "integration response I get data and I can map and configure that okay so",
    "start": "1320409",
    "end": "1325629"
  },
  {
    "text": "here's what I'm gonna do first thing is I'm gonna go ahead and set that header mapping that I just made I'm gonna give",
    "start": "1325629",
    "end": "1330909"
  },
  {
    "text": "it a value okay now I could put in here whatever website we're going to use for now we'll do",
    "start": "1330909",
    "end": "1335980"
  },
  {
    "text": "she used the star don't judge me it just makes it quick for us to be able to do this so what you could actually come in",
    "start": "1335980",
    "end": "1341470"
  },
  {
    "text": "and say look this is the domain that you should be able to reach from series of domains okay the last thing we're gonna",
    "start": "1341470",
    "end": "1346660"
  },
  {
    "text": "do here is we're gonna add a mapping template okay so this mapping template",
    "start": "1346660",
    "end": "1352390"
  },
  {
    "text": "instead of formatting the data on how DynamoDB should do it it takes what DynamoDB puts out and formats it in a",
    "start": "1352390",
    "end": "1360190"
  },
  {
    "text": "way that our client should get it so let me just walk you through that real quick so first thing we're doing is we're setting a variable input route that",
    "start": "1360190",
    "end": "1367030"
  },
  {
    "text": "grabs all our data off off the input path okay then we're gonna check it okay",
    "start": "1367030",
    "end": "1373000"
  },
  {
    "text": "so we want to check and see if DynamoDB kicked it out and said nope there was a condition issue here you have already",
    "start": "1373000",
    "end": "1380020"
  },
  {
    "text": "had this ID okay so if you look at this it says check I convert that to string",
    "start": "1380020",
    "end": "1385570"
  },
  {
    "text": "and I say does it contain the string conditional check failed exception if it does then we're gonna air out we're",
    "start": "1385570",
    "end": "1392260"
  },
  {
    "text": "gonna say error true and do a message link ID already exists we're still gonna",
    "start": "1392260",
    "end": "1397270"
  },
  {
    "text": "kick it back as a 200 to our user it worked everything went okay it just didn't work you can do it as a 402 this",
    "start": "1397270",
    "end": "1403900"
  },
  {
    "text": "is really kind of a preferential on how you want to do it but right now I'm gonna kick it I was at 200 if it doesn't",
    "start": "1403900",
    "end": "1409330"
  },
  {
    "text": "match that if it actually passes then we're gonna format our data as the ID",
    "start": "1409330",
    "end": "1414400"
  },
  {
    "text": "URL timestamp and owners let me save this let's go back to our test okay now",
    "start": "1414400",
    "end": "1421630"
  },
  {
    "text": "I'm gonna test this what do you guys think you'll see anybody know because the ID already exists there it is so now",
    "start": "1421630",
    "end": "1431080"
  },
  {
    "start": "1429000",
    "end": "1679000"
  },
  {
    "text": "we know hey there's our validation we can't double that up so let's change that I need real quick here we'll call",
    "start": "1431080",
    "end": "1437440"
  },
  {
    "text": "it SD one test that and there you go so I can now send that back to my user and",
    "start": "1437440",
    "end": "1445570"
  },
  {
    "text": "that's what's happening if you were to hit this from outside it would go all the way back alright except for we have",
    "start": "1445570",
    "end": "1450850"
  },
  {
    "text": "to set up the options and the pre-flight and all that and we'll take care of that in a little bit alright so now that",
    "start": "1450850",
    "end": "1456280"
  },
  {
    "text": "we're able to post data so one of the first things we want to do is you can look in here there's our two pieces of",
    "start": "1456280",
    "end": "1461860"
  },
  {
    "text": "data so the next thing we want to do is we want to be able to redirect based on",
    "start": "1461860",
    "end": "1467620"
  },
  {
    "text": "a call so this we're building a URL shortener right so they should be able to hit our domain pass the the short",
    "start": "1467620",
    "end": "1473830"
  },
  {
    "text": "link and get redirected okay so this is a little different we're not gonna actually do a response we want to send",
    "start": "1473830",
    "end": "1480010"
  },
  {
    "text": "back a location header so let's build that out real quick now first thing we're gonna do is we're gonna build this",
    "start": "1480010",
    "end": "1485530"
  },
  {
    "text": "in its own area so right off the route we're gonna add another resource and",
    "start": "1485530",
    "end": "1490930"
  },
  {
    "text": "that resource is gonna be bracket link ID in bracket now notice it API gateway",
    "start": "1490930",
    "end": "1498520"
  },
  {
    "text": "tries to be smart too oh you can't use those characters I actually want that so I'm gonna retype this real quick here",
    "start": "1498520",
    "end": "1503920"
  },
  {
    "text": "not worried about proxy or cores right now now what this says is that's gonna",
    "start": "1503920",
    "end": "1510429"
  },
  {
    "text": "be a parameter on my string so anything on the route with the parameter it",
    "start": "1510429",
    "end": "1515440"
  },
  {
    "text": "doesn't recognize like links then take this is where it goes it's kind of its",
    "start": "1515440",
    "end": "1520750"
  },
  {
    "text": "kind of a greedy it's not terribly greedy because it won't extend past that but just this one parameter all right so",
    "start": "1520750",
    "end": "1528309"
  },
  {
    "text": "here's what we're gonna do we go now we have to add a method on this and on this we're gonna do a gif cuz that's all we're doing people are just hitting it",
    "start": "1528309",
    "end": "1534610"
  },
  {
    "text": "with a browser so it's gonna be a simple get alright so we'll create a method and",
    "start": "1534610",
    "end": "1539800"
  },
  {
    "text": "we're gonna go get here and we're gonna save that and now I'm gonna go kind of",
    "start": "1539800",
    "end": "1545170"
  },
  {
    "text": "quick do this because we kind of already talked about this and for those of you saying man do I have to do this in the",
    "start": "1545170",
    "end": "1552160"
  },
  {
    "text": "dashboard the whole time no you don't actually and all these changes you've seen them are the same I do a post I'll",
    "start": "1552160",
    "end": "1558910"
  },
  {
    "text": "go back to explain that in a minute let me tell you what I'm gonna do here so for the action name here I'm gonna do get item I'm not doing a query because I",
    "start": "1558910",
    "end": "1567429"
  },
  {
    "text": "have the ID and the way DynamoDB works if you have that ID it knows where it's gonna be where it's going to be stored",
    "start": "1567429",
    "end": "1572890"
  },
  {
    "text": "it can go right to it that's one reason it's really quick okay so this is the hash in memory that they can grab that",
    "start": "1572890",
    "end": "1578170"
  },
  {
    "text": "now one thing I need is the roll now on this one I have two roles that I've got I've got one that allows that I just",
    "start": "1578170",
    "end": "1584710"
  },
  {
    "text": "used earlier that allows create read update delete so standard crud and this",
    "start": "1584710",
    "end": "1589840"
  },
  {
    "text": "roll only allows reading so I'm doing least privileges on there so it's saying",
    "start": "1589840",
    "end": "1595900"
  },
  {
    "text": "this can invoke DynamoDB but only in a read capacity now earlier I was saying",
    "start": "1595900",
    "end": "1601870"
  },
  {
    "text": "do we have to do everything too the council know you can build this and if we have time I'll show you right at",
    "start": "1601870",
    "end": "1607390"
  },
  {
    "text": "the end you can build this with the same template or CloudFormation template I have a template that builds this all out",
    "start": "1607390",
    "end": "1612850"
  },
  {
    "text": "for us okay but I don't want to walk you through the whole template because everybody follow that it's quite complex",
    "start": "1612850",
    "end": "1617950"
  },
  {
    "text": "so alright so now that we've got that so the first thing we need to do is we're gonna add our integration request so",
    "start": "1617950",
    "end": "1624490"
  },
  {
    "text": "we're gonna do a map okay again same pattern as we saw before and I'll",
    "start": "1624490",
    "end": "1629860"
  },
  {
    "text": "explain the template here that thing popping up says hey when should I pass",
    "start": "1629860",
    "end": "1636850"
  },
  {
    "text": "temple should I pass it on to the proxy behind it and I'm telling if there's no template that matches it so if I don't",
    "start": "1636850",
    "end": "1642130"
  },
  {
    "text": "have an application JSON pass it that's fine I can do never also so that's just a security measure that pops up all",
    "start": "1642130",
    "end": "1649090"
  },
  {
    "text": "right so in this one this is actually a pretty simple template okay all it does",
    "start": "1649090",
    "end": "1656740"
  },
  {
    "text": "it says here's the table name and here's the string or here's the hash that was passed in so find this and return it",
    "start": "1656740",
    "end": "1663850"
  },
  {
    "text": "okay so we save that okay so if we look at this real quick here and let's test",
    "start": "1663850",
    "end": "1669370"
  },
  {
    "text": "that see we get so we know we have a string so we're gonna pass in his path idea of SD and it can emulate that so we",
    "start": "1669370",
    "end": "1676300"
  },
  {
    "text": "hit test and there's the body okay it was that quick now again we need to",
    "start": "1676300",
    "end": "1681400"
  },
  {
    "start": "1679000",
    "end": "1874000"
  },
  {
    "text": "format that body in a way that it's gonna be usable but we notice we got a",
    "start": "1681400",
    "end": "1686770"
  },
  {
    "text": "status 200 that's not gonna work for us if we want to do a redirect okay if we want to do a redirect we need to do a",
    "start": "1686770",
    "end": "1693280"
  },
  {
    "text": "301 or a 302 we need to pass a location header make sense so what we can do here",
    "start": "1693280",
    "end": "1700590"
  },
  {
    "text": "we're gonna go back into our response here okay under the method response I'm",
    "start": "1700590",
    "end": "1707140"
  },
  {
    "text": "gonna get rid of the 200 that's not the one I want to use I want my default instead to be a 302 okay now I don't",
    "start": "1707140",
    "end": "1716860"
  },
  {
    "text": "need no I'm sorry I do need a header okay so my header that I'm worried about is location okay so now we've got that",
    "start": "1716860",
    "end": "1729850"
  },
  {
    "text": "now I can go back over to my integration response I'm gonna kill my 200 here as",
    "start": "1729850",
    "end": "1735280"
  },
  {
    "text": "well it defaults to to hunt it tries to you know hey here's what we're gonna do all right and I'm gonna",
    "start": "1735280",
    "end": "1740590"
  },
  {
    "text": "add integration and I'm gonna map a 302 I'm sorry a 200 to 302 okay",
    "start": "1740590",
    "end": "1748000"
  },
  {
    "text": "so what that's saying is even though the backend service is giving me a 200 I want you to send a 302 to the user okay",
    "start": "1748000",
    "end": "1755350"
  },
  {
    "text": "so this is how you can kind of control how that goes through so let's save that out real quick and then we need to do",
    "start": "1755350",
    "end": "1763210"
  },
  {
    "text": "deal with our headers so the way we're gonna deal with our header is this first",
    "start": "1763210",
    "end": "1769540"
  },
  {
    "text": "thing is we're gonna say we're gonna give it a default value of a header okay this is the location that I want you to",
    "start": "1769540",
    "end": "1775120"
  },
  {
    "text": "respond to and that's gonna be HTTP s for slash slip link and that's it okay",
    "start": "1775120",
    "end": "1784150"
  },
  {
    "text": "and maybe we'll pass a tag no link found okay so like that so that header says",
    "start": "1784150",
    "end": "1790120"
  },
  {
    "text": "look if we don't do any modifications this is what I want you to do so it's kind of the catch-all if there's an error in this I want you to save that",
    "start": "1790120",
    "end": "1797080"
  },
  {
    "text": "back now I need to save that remember I sometimes I forget to save it so the second thing we're gonna do is we're gonna add another mapping template just",
    "start": "1797080",
    "end": "1811120"
  },
  {
    "text": "grab that here now this doesn't look like JSON at all",
    "start": "1811120",
    "end": "1816280"
  },
  {
    "text": "this is VTL now really all the templates are doing are VTL that stands for",
    "start": "1816280",
    "end": "1822430"
  },
  {
    "text": "velocity templating language Apache came out with it it's very you could be",
    "start": "1822430",
    "end": "1827620"
  },
  {
    "text": "complex a little bit but it's very powerful now here's what we're doing in this one just so you can see it up all",
    "start": "1827620",
    "end": "1835600"
  },
  {
    "text": "right so there we go all right so what we're doing first of all we're setting the input route so we get a variable",
    "start": "1835600",
    "end": "1841810"
  },
  {
    "text": "then we're checking them again we're just converting it to a string so we can check it see if it exists so I'm looking",
    "start": "1841810",
    "end": "1847450"
  },
  {
    "text": "for item and if I get item I know I got something back okay I can go in a little",
    "start": "1847450",
    "end": "1852940"
  },
  {
    "text": "further if I wanted but that works for our for our purposes so if that's the case then I'm gonna override the header",
    "start": "1852940",
    "end": "1859450"
  },
  {
    "text": "location with the value from that item from the URL on that item okay all right",
    "start": "1859450",
    "end": "1867160"
  },
  {
    "text": "so and then I in that so let's save this down a little bit okay so now let's test",
    "start": "1867160",
    "end": "1878390"
  },
  {
    "start": "1874000",
    "end": "2169000"
  },
  {
    "text": "SD and see what we got test all right so no data because we",
    "start": "1878390",
    "end": "1886130"
  },
  {
    "text": "didn't send any data back right but look in the in the header location header is",
    "start": "1886130",
    "end": "1891669"
  },
  {
    "text": "our redirect okay so let's publish this and see if it actually works okay so anytime you make",
    "start": "1891669",
    "end": "1898789"
  },
  {
    "text": "changes to API gateway you have to deploy it and you need to apply it to a stage which I will do so right here okay",
    "start": "1898789",
    "end": "1906440"
  },
  {
    "text": "I can't tell how many times I have said oh my changes aren't showing and I get mad at the world and I realize I just",
    "start": "1906440",
    "end": "1912440"
  },
  {
    "text": "haven't deployed it okay so this is a route even though it says prod this is",
    "start": "1912440",
    "end": "1917450"
  },
  {
    "text": "the route of our API so I'm gonna go here I'm gonna go forward slash SD let's see",
    "start": "1917450",
    "end": "1923059"
  },
  {
    "text": "if it works there you go there's my website all right that quick that was",
    "start": "1923059",
    "end": "1929210"
  },
  {
    "text": "pretty quick huh yeah yeah I know in your head you guys are shy but I know everyone you're going that was quick",
    "start": "1929210",
    "end": "1937029"
  },
  {
    "text": "alright that was like a seven all right moving on okay so that so we have our so",
    "start": "1937029",
    "end": "1944000"
  },
  {
    "text": "what have we done we've done our create and we've done our redirect so if nothing else we could walk out here and",
    "start": "1944000",
    "end": "1949520"
  },
  {
    "text": "go out I think I can finish that that that makes sense but we're gonna finish it don't worry all right so the next",
    "start": "1949520",
    "end": "1954529"
  },
  {
    "text": "thing we're gonna do is we're gonna build out our the other two our update and delete and that's all that's all",
    "start": "1954529",
    "end": "1960590"
  },
  {
    "text": "we'll need here okay so resources yeah",
    "start": "1960590",
    "end": "1966250"
  },
  {
    "text": "so the first thing we need to do is we're gonna add something called read all links so that so that our users can",
    "start": "1966250",
    "end": "1971659"
  },
  {
    "text": "grab that so that's gonna be off our",
    "start": "1971659",
    "end": "1976149"
  },
  {
    "text": "another get okay so we're gonna create",
    "start": "1978549",
    "end": "1985220"
  },
  {
    "text": "the method this is gonna get we don't have to do a lot with cores here because it is a get let me let me build out the",
    "start": "1985220",
    "end": "1992240"
  },
  {
    "text": "service real quick here",
    "start": "1992240",
    "end": "1995408"
  },
  {
    "text": "all right so this time we're gonna again you do a post as the method to DynamoDB",
    "start": "2000450",
    "end": "2005620"
  },
  {
    "text": "but we're going to do a query okay so in this one we're gonna query and we're",
    "start": "2005620",
    "end": "2011110"
  },
  {
    "text": "actually gonna query a secondary index okay I added a secondary index a secondary index allows us to index on a",
    "start": "2011110",
    "end": "2020650"
  },
  {
    "text": "secondary item it's in the name but it gives us a lot of power to to index",
    "start": "2020650",
    "end": "2026710"
  },
  {
    "text": "stuff so what I want to be able to do is I created a second in secondary index on the owner so I want to be able to find",
    "start": "2026710",
    "end": "2032980"
  },
  {
    "text": "all links that would belong to me okay so going back to when it hard-coded my",
    "start": "2032980",
    "end": "2037990"
  },
  {
    "text": "email and you can kind of see I'm gonna look for everything that belongs to me alright so built that out so the map",
    "start": "2037990",
    "end": "2045610"
  },
  {
    "text": "we're gonna add we're going to add an integration request here and go to",
    "start": "2045610",
    "end": "2051190"
  },
  {
    "text": "mapping templates grab this links this",
    "start": "2051190",
    "end": "2066820"
  },
  {
    "text": "isn't a huge one but there's some work that's being done in it so let me show it to you real quick",
    "start": "2066820",
    "end": "2072300"
  },
  {
    "text": "alright so what this means is this one's gonna take and it's gonna get passed the",
    "start": "2072300",
    "end": "2078310"
  },
  {
    "text": "table name again and it passes the index name here's the table I want you to look at here's the index I want to look at and here's the expression the owner",
    "start": "2078310",
    "end": "2085419"
  },
  {
    "text": "remember I'm using those variables that we learned learned about earlier the owner must equal the owner so the owner",
    "start": "2085419",
    "end": "2090790"
  },
  {
    "text": "coming in must equal the owner listed here right now I've got the name hard-coded in here Eric D Johnson at",
    "start": "2090790",
    "end": "2097060"
  },
  {
    "text": "Amazon is is hard-coded in their later time allowing we will swap that out okay",
    "start": "2097060",
    "end": "2102640"
  },
  {
    "text": "so that's how that works and then let's save this okay let's actually test this",
    "start": "2102640",
    "end": "2110760"
  },
  {
    "text": "okay so if I do a test on this there really isn't much going on let's see we get there it is there's all my day",
    "start": "2115120",
    "end": "2121760"
  },
  {
    "text": "that's 200 again it's not in a format we want to use so real quick we'll take and",
    "start": "2121760",
    "end": "2127250"
  },
  {
    "text": "we'll modify that and grab that string so this one has a loop in it so it does",
    "start": "2127250",
    "end": "2133520"
  },
  {
    "text": "a for each two kind of format the language so we're gonna pop that in here and add it application all right so you",
    "start": "2133520",
    "end": "2145610"
  },
  {
    "text": "can see here where I'm looping through I set the variable then I loop through and I set the data looks much like the one where we grabbed it before go back to",
    "start": "2145610",
    "end": "2153290"
  },
  {
    "text": "test and there it is so we've got our data coming out all right so we can now",
    "start": "2153290",
    "end": "2159700"
  },
  {
    "text": "we could create we can get the one for redirect we can read all of them let's",
    "start": "2159700",
    "end": "2166460"
  },
  {
    "text": "add update and delete real quick okay so we're gonna add another resource because",
    "start": "2166460",
    "end": "2174320"
  },
  {
    "start": "2169000",
    "end": "2199000"
  },
  {
    "text": "update and delete use you'll actually pass in the per in the header you'll",
    "start": "2174320",
    "end": "2179900"
  },
  {
    "text": "pass the ID okay we'll also pass it in the body but it allows us a little more security so we're gonna we're gonna",
    "start": "2179900",
    "end": "2185060"
  },
  {
    "text": "create a resource and again we're just gonna keep a real simple we're still gonna use link ID okay so both times I'm",
    "start": "2185060",
    "end": "2192380"
  },
  {
    "text": "just passing a link ID as a parameter that'll get replaced in my path so",
    "start": "2192380",
    "end": "2198820"
  },
  {
    "text": "alright so in here we're gonna add a method I'm sorry we've added a method",
    "start": "2198820",
    "end": "2203960"
  },
  {
    "start": "2199000",
    "end": "2349000"
  },
  {
    "text": "we're gonna add our resource let's add the we're gonna do the update next so",
    "start": "2203960",
    "end": "2212260"
  },
  {
    "text": "resource it's okay alright so we're gonna do a update which is a put save",
    "start": "2212260",
    "end": "2223160"
  },
  {
    "text": "this look as I'm talking each time I do",
    "start": "2223160",
    "end": "2234110"
  },
  {
    "text": "that you'll notice there's a huge amount of services that the dynamodb will",
    "start": "2234110",
    "end": "2239500"
  },
  {
    "text": "automatically integrate with so good to know so we're gonna do again here we're",
    "start": "2239500",
    "end": "2244550"
  },
  {
    "text": "gonna do an update item okay so this this is ax legit update item so let's grab that",
    "start": "2244550",
    "end": "2250930"
  },
  {
    "text": "roll here because we want to do the crud roll so it's this one okay",
    "start": "2250930",
    "end": "2258280"
  },
  {
    "text": "this pass through here all that saying is if I have binary or things like that",
    "start": "2258280",
    "end": "2263540"
  },
  {
    "text": "I can't handle binary I can transform those as I need to all right so now we",
    "start": "2263540",
    "end": "2268820"
  },
  {
    "text": "need our mapping template now one of the",
    "start": "2268820",
    "end": "2274730"
  },
  {
    "text": "things that we talk about when we're doing business logic is security and making sure that only the right person",
    "start": "2274730",
    "end": "2280070"
  },
  {
    "text": "can do what what we're looking at we looked at that a little bit on some of the templates and I want to continue on",
    "start": "2280070",
    "end": "2285740"
  },
  {
    "text": "that so let me go to my update one this one's probably one of the more complex ones",
    "start": "2285740",
    "end": "2291609"
  },
  {
    "text": "in this one we are going to you see it",
    "start": "2291609",
    "end": "2297740"
  },
  {
    "text": "real quick set the table name the condition expression it's gonna check DB is the ID",
    "start": "2297740",
    "end": "2303880"
  },
  {
    "text": "coming back from from the database and P I is the ID in the path same here bi is",
    "start": "2303880",
    "end": "2311060"
  },
  {
    "text": "the ID in the body so I'm checking what they're passing on the path what's coming in on the body and what's in the",
    "start": "2311060",
    "end": "2316670"
  },
  {
    "text": "database to make sure that ID matches probably a little overkill but just to kind of show you how it can be done and",
    "start": "2316670",
    "end": "2321680"
  },
  {
    "text": "then also the owner has to match okay before I can do this work okay and then",
    "start": "2321680",
    "end": "2326990"
  },
  {
    "text": "if it's that's the case then I'll add in the data grabbing the path link ID and",
    "start": "2326990",
    "end": "2332450"
  },
  {
    "text": "then hard-coding that then I'm returning the whole set to me so that I can update",
    "start": "2332450",
    "end": "2337700"
  },
  {
    "text": "that really all I'm doing is updating the URL because that's all you can update in our bit in our linker on this",
    "start": "2337700",
    "end": "2342920"
  },
  {
    "text": "one for now so we'll save that okay so",
    "start": "2342920",
    "end": "2349250"
  },
  {
    "text": "in this we're actually gonna add a couple responses here in our method response we needs 200 and we've got to",
    "start": "2349250",
    "end": "2356359"
  },
  {
    "text": "add our header because again anytime we're doing anything past a yet it's",
    "start": "2356359",
    "end": "2363050"
  },
  {
    "text": "gonna require that we add the control or the headers on the function coming back",
    "start": "2363050",
    "end": "2368540"
  },
  {
    "text": "even though you have even though you may have core setup it still requires this",
    "start": "2368540",
    "end": "2374450"
  },
  {
    "text": "or the pre-flight all right so let's do that all righty",
    "start": "2374450",
    "end": "2380450"
  },
  {
    "text": "we're also going to do a 400 on this one okay another response and it's gonna be",
    "start": "2380450",
    "end": "2390619"
  },
  {
    "text": "400 again what I'm doing here is saying these are the possible responses I can have and on those responses these are",
    "start": "2390619",
    "end": "2397790"
  },
  {
    "text": "the possible headers that can exist in their response here and we're gonna say",
    "start": "2397790",
    "end": "2405020"
  },
  {
    "text": "on the 200 so we've got a couple that we're gonna add here okay so in our header mapping we're just",
    "start": "2405020",
    "end": "2411740"
  },
  {
    "text": "gonna set the access control again like we said we're gonna set this so that anything can hit it want to tighten that",
    "start": "2411740",
    "end": "2419119"
  },
  {
    "text": "down when you know your domain name and then our path here okay so we're gonna",
    "start": "2419119",
    "end": "2434090"
  },
  {
    "text": "add the application okay this one real simple okay",
    "start": "2434090",
    "end": "2439640"
  },
  {
    "text": "we know what's happening we're just gonna pass instance everything's good this is a 200 we're gonna respond with",
    "start": "2439640",
    "end": "2445070"
  },
  {
    "text": "the right answer okay so we know what we entered that and now we're gonna respond back with the data formatted okay",
    "start": "2445070",
    "end": "2452210"
  },
  {
    "text": "however now we need to add another integration and we're gonna say this is",
    "start": "2452210",
    "end": "2457700"
  },
  {
    "text": "going to be a 400 okay and save that text here and all",
    "start": "2457700",
    "end": "2470090"
  },
  {
    "text": "this is gonna do is say hey yep you're not authorized if this one here we've",
    "start": "2470090",
    "end": "2477440"
  },
  {
    "text": "got again access control we got to add our value save it and simply",
    "start": "2477440",
    "end": "2485710"
  },
  {
    "text": "and finally here alright so there you go err true not authorised that could pop",
    "start": "2491790",
    "end": "2498369"
  },
  {
    "text": "back depending so let's go back and see what we've got so this is the update so we're gonna",
    "start": "2498369",
    "end": "2504460"
  },
  {
    "text": "test this so we know we have a value out there called SD and we're gonna pass in",
    "start": "2504460",
    "end": "2509800"
  },
  {
    "text": "the body okay and we're gonna say SD and we're gonna say again I'm sorry this",
    "start": "2509800",
    "end": "2517060"
  },
  {
    "text": "should be ID should be SD and then",
    "start": "2517060",
    "end": "2522460"
  },
  {
    "text": "finally URL should be same thing so",
    "start": "2522460",
    "end": "2530770"
  },
  {
    "text": "that's we're gonna update the okay sorry",
    "start": "2530770",
    "end": "2537010"
  },
  {
    "text": "about that alright so let's test this see what happens okay we got it 200 and we got",
    "start": "2537010",
    "end": "2543640"
  },
  {
    "text": "the updated data back right that's good my URLs not looking too good that'll break just for giggles let's pass in a",
    "start": "2543640",
    "end": "2551020"
  },
  {
    "text": "new path value okay so SD 5 but our but it's SD here let's test that okay err",
    "start": "2551020",
    "end": "2558490"
  },
  {
    "text": "true not authenticated okay I can do other errors I can do some more logic to figure that out you see how I'm doing",
    "start": "2558490",
    "end": "2563920"
  },
  {
    "text": "the logic right in the template and I'm able to kick back for hundreds I'm able to kick back 200 what whatever we need",
    "start": "2563920",
    "end": "2570280"
  },
  {
    "text": "all right so real fast I'm gonna add one more integration and then we'll and then",
    "start": "2570280",
    "end": "2576430"
  },
  {
    "text": "we'll add some security around it and see okay so the last thing we're gonna add is our delete function okay so yeah",
    "start": "2576430",
    "end": "2588609"
  },
  {
    "text": "y'all watching me let's just delete the whole thing okay alright so we're gonna add a method",
    "start": "2588609",
    "end": "2594900"
  },
  {
    "start": "2589000",
    "end": "2694000"
  },
  {
    "text": "alrighty we're gonna say delete and there's just a test see if you guys were",
    "start": "2594900",
    "end": "2600820"
  },
  {
    "text": "awake alright I've chosen now to have",
    "start": "2600820",
    "end": "2606070"
  },
  {
    "text": "some type of allergy attack as well so you're welcome I like to have a mic when I sniff a lot all right so now this one",
    "start": "2606070",
    "end": "2613270"
  },
  {
    "text": "we're gonna do it simple delete item okay we need the crud role because",
    "start": "2613270",
    "end": "2619600"
  },
  {
    "text": "that's we're doing more than just reading so let's get the full roll here",
    "start": "2619600",
    "end": "2625070"
  },
  {
    "text": "I really should memorize this but it's you know long so let's add that in",
    "start": "2625070",
    "end": "2632950"
  },
  {
    "text": "racial response here grab that real quick here again template so in this",
    "start": "2636610",
    "end": "2642320"
  },
  {
    "text": "template and I want to take too long to explain just as time wise but this template has validation and also",
    "start": "2642320",
    "end": "2648260"
  },
  {
    "text": "basically just to say are you the user and are you allowed to delete it and pretty much and it's checking the user",
    "start": "2648260",
    "end": "2654470"
  },
  {
    "text": "from while we have it hard-coded in here it's actually checking the user from the login authentication so when we login to",
    "start": "2654470",
    "end": "2662450"
  },
  {
    "text": "our app your authentication we may not get time to show it today but your authentication is actually passed into",
    "start": "2662450",
    "end": "2668570"
  },
  {
    "text": "the application so using a variable you can actually grab that authentication so",
    "start": "2668570",
    "end": "2675080"
  },
  {
    "text": "I could say whatever was written does that match and they can't change it because that happens after the fact",
    "start": "2675080",
    "end": "2680900"
  },
  {
    "text": "that's part of the login system alright so what this guy's gonna do is he's gonna say hey here's the idea to delete",
    "start": "2680900",
    "end": "2686510"
  },
  {
    "text": "and verify that it's the owner so we can save that alright and then as far as the",
    "start": "2686510",
    "end": "2693710"
  },
  {
    "text": "responses I'm not gonna worry about sending all I care about is sending a 200 and a 400 ok so now I do need to",
    "start": "2693710",
    "end": "2702170"
  },
  {
    "start": "2694000",
    "end": "2819000"
  },
  {
    "text": "have the whole access allow so we're gonna add a header to this so I really",
    "start": "2702170",
    "end": "2711020"
  },
  {
    "text": "should get this to where I copy and paste it right probably all our time was taken to meet up in this alrighty so",
    "start": "2711020",
    "end": "2723110"
  },
  {
    "text": "let's add a 400 and you can add 500s and you can there's all kinds of different",
    "start": "2723110",
    "end": "2729440"
  },
  {
    "text": "ones you can add here as you need them ok now you may be ask yourself why do",
    "start": "2729440",
    "end": "2735830"
  },
  {
    "text": "you add the header there but you add that you have to add the response over here the reason is begin because this is",
    "start": "2735830",
    "end": "2742880"
  },
  {
    "text": "where you get or this is where the the data is integrated so you might want to",
    "start": "2742880",
    "end": "2749510"
  },
  {
    "text": "get data from your back-end to to set these settings so that's why you set the",
    "start": "2749510",
    "end": "2755390"
  },
  {
    "text": "value of it here right now I'm just hard-coding a value and I don't need to put anything there so I'm just gonna",
    "start": "2755390",
    "end": "2760490"
  },
  {
    "text": "pass the 200 400 based on if it works or not but I can do a value from from the",
    "start": "2760490",
    "end": "2767990"
  },
  {
    "text": "integration behind it so I don't have to worry about that so let's slip the bike okay all right so",
    "start": "2767990",
    "end": "2781310"
  },
  {
    "text": "that is all together we can now delete so let's go in here and we'll test that",
    "start": "2781310",
    "end": "2788930"
  },
  {
    "text": "and I think we had an SD here let's go ahead and delete that one okay and we",
    "start": "2788930",
    "end": "2797660"
  },
  {
    "text": "have a 200 and that's a kickback and that's how it work all right so we're gonna book it here we've got a few more",
    "start": "2797660",
    "end": "2804290"
  },
  {
    "text": "things I want to show you guys so the first thing is now what we did is we we got everything kind of kind of there but",
    "start": "2804290",
    "end": "2810830"
  },
  {
    "text": "now we need to change that out so it actually our authentication works okay you think okay how does authentication",
    "start": "2810830",
    "end": "2816830"
  },
  {
    "text": "work at API gateway level well we have this thing called an authorizer okay so",
    "start": "2816830",
    "end": "2822350"
  },
  {
    "start": "2819000",
    "end": "2869000"
  },
  {
    "text": "we're gonna create a new authorizer and this is gonna be a kognito authorizer and we're gonna call it user authorizer",
    "start": "2822350",
    "end": "2832160"
  },
  {
    "text": "now what this is gonna do is when I pass when I off spelling is important and I",
    "start": "2832160",
    "end": "2838160"
  },
  {
    "text": "know Z might not be right here but it's what I got okay I'm connecting it to a user pool that",
    "start": "2838160",
    "end": "2843650"
  },
  {
    "text": "I've already created okay alrighty and",
    "start": "2843650",
    "end": "2850850"
  },
  {
    "text": "I'm going to create that so now what this is this is an authorizer that allows me to use on all my resources to",
    "start": "2850850",
    "end": "2857990"
  },
  {
    "text": "have you have it verified to get the data so in order for me to get links on",
    "start": "2857990",
    "end": "2863480"
  },
  {
    "text": "this I don't want this one anybody can do because that's our redirector but this one we want it to actually",
    "start": "2863480",
    "end": "2869570"
  },
  {
    "start": "2869000",
    "end": "2924000"
  },
  {
    "text": "authorize using sometimes it's a little fun part of this because of caching you",
    "start": "2869570",
    "end": "2876320"
  },
  {
    "text": "have to do a refresh on that to get it show up so we're gonna say user authorizer save post here we're gonna",
    "start": "2876320",
    "end": "2885680"
  },
  {
    "text": "say same here these are authorizer save and we're",
    "start": "2885680",
    "end": "2893420"
  },
  {
    "text": "gonna do it on all four of these so we can see it put okay alrighty okay so",
    "start": "2893420",
    "end": "2908240"
  },
  {
    "text": "that is done alright so the last thing we're gonna do is real quick here we're",
    "start": "2908240",
    "end": "2914780"
  },
  {
    "text": "gonna swap out that owner that we talked about because I want you guys to see this actually working and that means",
    "start": "2914780",
    "end": "2920090"
  },
  {
    "text": "just making it up we might go a little bit over but I'll try not to go too far over okay so right here in this",
    "start": "2920090",
    "end": "2926210"
  },
  {
    "start": "2924000",
    "end": "2999000"
  },
  {
    "text": "application JSON we've got this owner hard-coded but what we really want is",
    "start": "2926210",
    "end": "2933460"
  },
  {
    "text": "context so this is the context that that's passed in from the API and then",
    "start": "2934630",
    "end": "2940820"
  },
  {
    "text": "the authorizer so this is the authorizer that we just created and we're gonna do",
    "start": "2940820",
    "end": "2946700"
  },
  {
    "text": "the claims that they offer and then we want their email okay so that is how",
    "start": "2946700",
    "end": "2952610"
  },
  {
    "text": "we're gonna grab the owner as it comes in okay we're gonna save this and we got",
    "start": "2952610",
    "end": "2958190"
  },
  {
    "text": "a couple more places we need to update that real quick and delete",
    "start": "2958190",
    "end": "2976780"
  },
  {
    "text": "you think man skies one finger and he types like a bad boy does anybody is anybody thinking that",
    "start": "2978920",
    "end": "2985339"
  },
  {
    "text": "right now if one person says yes that would be awesome all righty I expect the room host to",
    "start": "2985339",
    "end": "2992809"
  },
  {
    "text": "help me out but that's not happening just kidding man I love you",
    "start": "2992809",
    "end": "2997819"
  },
  {
    "text": "you guys are awesome all right so alright so there we go so one other thing we need to do for this to work",
    "start": "2997819",
    "end": "3003369"
  },
  {
    "start": "2999000",
    "end": "3079000"
  },
  {
    "text": "well a couple things we need to have we need to have cores working all right in order for cores to working we can we",
    "start": "3003369",
    "end": "3009760"
  },
  {
    "text": "can do a real quick thing now that everything's built out and it can analyze it I'm gonna tell it enable cores and it says alright look you've",
    "start": "3009760",
    "end": "3016210"
  },
  {
    "text": "got a post to get and some options let's add all that in let's add your access allow so we're gonna cruise through that",
    "start": "3016210",
    "end": "3021790"
  },
  {
    "text": "we're gonna place this real quick and then we're gonna do the same here and",
    "start": "3021790",
    "end": "3026829"
  },
  {
    "text": "we're gonna enable cores ok cruise through all that alrighty",
    "start": "3026829",
    "end": "3035430"
  },
  {
    "text": "alright so now we have cores going alright so the last thing we're gonna do",
    "start": "3039430",
    "end": "3045130"
  },
  {
    "text": "it's kind of fun I have a custom domain name already set up right now it's pointing out my old domain so we're",
    "start": "3045130",
    "end": "3051280"
  },
  {
    "text": "gonna we're gonna change it out it's called API duck slipped link we're gonna change this so that it's pointing at our",
    "start": "3051280",
    "end": "3058450"
  },
  {
    "text": "new one that I just created so it's slip to pointing at this prod stage and the",
    "start": "3058450",
    "end": "3064599"
  },
  {
    "text": "path of this okay we hit save alright so now we have a domain called API dot",
    "start": "3064599",
    "end": "3073240"
  },
  {
    "text": "slipped out link in front of it let's check our records real quick see if I ever need to work with here",
    "start": "3073240",
    "end": "3078670"
  },
  {
    "text": "sd-1 alright so I should be able to go to slip that link nope",
    "start": "3078670",
    "end": "3086670"
  },
  {
    "text": "API I need to do HTTP here and I'll explain that in a second I'm gonna do",
    "start": "3086670",
    "end": "3092079"
  },
  {
    "text": "slip dot link eric cannot type under pressure api that slip link and then /st",
    "start": "3092079",
    "end": "3102549"
  },
  {
    "text": "one and let's see if this redirects and it does ok so we now have a full one",
    "start": "3102549",
    "end": "3108790"
  },
  {
    "text": "working so what I'm able to do now I actually have let's if this is working alright so we're",
    "start": "3108790",
    "end": "3118750"
  },
  {
    "text": "gonna do a new one now this we're gonna do let's go eat it yes Sam okay create",
    "start": "3118750",
    "end": "3136840"
  },
  {
    "text": "that alright so bad format alrighty so one thing I've got I'll have to go back",
    "start": "3136840",
    "end": "3142900"
  },
  {
    "text": "to the API and make sure it's switched over and we are out of time but that's alright this is kind of the extra so",
    "start": "3142900",
    "end": "3148570"
  },
  {
    "text": "what I did here is I created a full interactive application that you're",
    "start": "3148570",
    "end": "3153760"
  },
  {
    "text": "seeing is a front-end to it give me about another minute and I'll get it working maybe I'll do it after fact if you want to see it but any",
    "start": "3153760",
    "end": "3160030"
  },
  {
    "text": "questions on this did you know you could do this a P I and are any questions on what you saw and how can you make it",
    "start": "3160030",
    "end": "3165940"
  },
  {
    "text": "work glad glad to answer any questions [Applause]",
    "start": "3165940",
    "end": "3175959"
  }
]