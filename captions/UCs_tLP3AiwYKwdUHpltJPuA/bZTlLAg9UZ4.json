[
  {
    "start": "0",
    "end": "38000"
  },
  {
    "text": "thank you",
    "start": "6180",
    "end": "8899"
  },
  {
    "text": "uh yeah so I'm going to talk about building images for the secure supply chain I'm actually no longer a product",
    "start": "12900",
    "end": "18720"
  },
  {
    "text": "manager I'm actually in devrel now or Technical Community Advocate I think is my official title",
    "start": "18720",
    "end": "25439"
  },
  {
    "text": "um yeah so I work for train guard and we do software supply chain security I'm",
    "start": "25439",
    "end": "30480"
  },
  {
    "text": "going to be mainly talking about vulnerabilities and so on in the stock but first I wanted to kind of wake",
    "start": "30480",
    "end": "36600"
  },
  {
    "text": "everybody up so we're going to have a quiz you all look super happy about this",
    "start": "36600",
    "end": "45059"
  },
  {
    "start": "38000",
    "end": "370000"
  },
  {
    "text": "um don't worry there's only two or three questions most of you are probably aware that vulnerabilities are given a cve number",
    "start": "45059",
    "end": "52320"
  },
  {
    "text": "so for example heartblade the open SSL vulnerability or cve 2014 zero one six",
    "start": "52320",
    "end": "59579"
  },
  {
    "text": "zero so I'm gonna give you some CV numbers and I want you to tell me what they are",
    "start": "59579",
    "end": "65939"
  },
  {
    "text": "so feel free to shout out if you know so the cve 2017",
    "start": "65939",
    "end": "72920"
  },
  {
    "text": "5638 this is probably the hardest question does anybody know what application framework this vulnerability",
    "start": "72920",
    "end": "79080"
  },
  {
    "text": "was in any guesses",
    "start": "79080",
    "end": "84500"
  },
  {
    "text": "okay this is Fun open SSL that's a very good guess but it's not right",
    "start": "85140",
    "end": "91380"
  },
  {
    "text": "it's actually um Apache struts so this was a remote code execution and",
    "start": "91380",
    "end": "98460"
  },
  {
    "text": "Apache struts which most of you are probably aware is a Java MVC framework",
    "start": "98460",
    "end": "103920"
  },
  {
    "text": "and it actually allowed you know complete remote code execution via HTTP",
    "start": "103920",
    "end": "109020"
  },
  {
    "text": "headers so all an attack I had to do was craft uh malicious HTTP header and they",
    "start": "109020",
    "end": "114720"
  },
  {
    "text": "could run code in your server um the main reason I mentioned this is",
    "start": "114720",
    "end": "121740"
  },
  {
    "text": "because this was a factor in the Equifax um data breach which was an enormous",
    "start": "121740",
    "end": "128819"
  },
  {
    "text": "data breach there's a hundred and fifty million U.S citizens and 15 million UK citizens plus a",
    "start": "128819",
    "end": "137640"
  },
  {
    "text": "smaller number in Canada all their sort of financial data on Equifax was compromised so it's pretty",
    "start": "137640",
    "end": "143640"
  },
  {
    "text": "bad and I believe it's still one of the largest data breaches in history",
    "start": "143640",
    "end": "149160"
  },
  {
    "text": "now the cve was a zero day but by the time Equifax was hacked there",
    "start": "149160",
    "end": "155040"
  },
  {
    "text": "had been a patch available for around five days so I admit it was tight but it is",
    "start": "155040",
    "end": "161340"
  },
  {
    "text": "possible they could have updated their systems and avoided this issue",
    "start": "161340",
    "end": "167840"
  },
  {
    "text": "okay next one this one I got two",
    "start": "170700",
    "end": "176519"
  },
  {
    "text": "um I thought this one is log4j because log4j was earlier",
    "start": "176519",
    "end": "182700"
  },
  {
    "text": "but good guess any other guesses can you tell me um",
    "start": "182700",
    "end": "188580"
  },
  {
    "text": "yeah this is actually one that is was important enough to get its own name",
    "start": "188580",
    "end": "194239"
  },
  {
    "text": "it was just last year sorry",
    "start": "194580",
    "end": "200420"
  },
  {
    "text": "no that was the year before you've all got short memories what",
    "start": "200580",
    "end": "206760"
  },
  {
    "text": "you've got short memories you should remember this but uh um it was in the Linux kernel",
    "start": "206760",
    "end": "212599"
  },
  {
    "text": "anyone no it was big enough to get its own name it was dirty pipe I don't know if any of",
    "start": "213480",
    "end": "219420"
  },
  {
    "text": "you saw that one it was pretty serious because um it was somewhat mitigated because",
    "start": "219420",
    "end": "226560"
  },
  {
    "text": "it's fairly complex to exploit but it did allow an unprivileged user to",
    "start": "226560",
    "end": "232260"
  },
  {
    "text": "basically write to any file so a minister exploits they write like um",
    "start": "232260",
    "end": "237720"
  },
  {
    "text": "to the SSH directory so we can ssh in his route so you could do clever things",
    "start": "237720",
    "end": "242940"
  },
  {
    "text": "and use this for privilege escalation um so it's a very serious vulnerability",
    "start": "242940",
    "end": "248640"
  },
  {
    "text": "uh and one of the things was Android devices were affected",
    "start": "248640",
    "end": "253739"
  },
  {
    "text": "or are effective so probably a bunch of them are unpatched so a bunch of people's mobile phones are at risk",
    "start": "253739",
    "end": "259380"
  },
  {
    "text": "because of this and dirty pipe was named after dirty cow do people remember dirty",
    "start": "259380",
    "end": "264720"
  },
  {
    "text": "cow that was from 2016 and that was a copy and rights attack",
    "start": "264720",
    "end": "269759"
  },
  {
    "text": "and if you go back and look at that you'll find that there was dozens of hundreds of malicious Android",
    "start": "269759",
    "end": "276120"
  },
  {
    "text": "applications released that attacked this vulnerability or the dirty California build",
    "start": "276120",
    "end": "283440"
  },
  {
    "text": "okay last one you've actually already named this one",
    "start": "283440",
    "end": "288020"
  },
  {
    "text": "yay look for Jay when I was reading bad",
    "start": "288540",
    "end": "293300"
  },
  {
    "text": "or look for Shell but it was a vulnerability in log 4G",
    "start": "293880",
    "end": "298940"
  },
  {
    "text": "um yeah so this has been called the single biggest most critical vulnerability ever",
    "start": "299100",
    "end": "306720"
  },
  {
    "text": "which is a pretty bold statement and the log4j software was and is so",
    "start": "306720",
    "end": "313320"
  },
  {
    "text": "prevalent that nearly all large organizations were running it somewhere where they knew it or not",
    "start": "313320",
    "end": "319380"
  },
  {
    "text": "and so millions of Ops and security staff across thousands of organizations",
    "start": "319380",
    "end": "324479"
  },
  {
    "text": "had a really bad week trying to deal with this I'd mitigate all that were find and mitigate all the",
    "start": "324479",
    "end": "331740"
  },
  {
    "text": "instances of log4j in their systems and millions of devices were affected",
    "start": "331740",
    "end": "337500"
  },
  {
    "text": "because it also affected iot stuff like TVs and so on these all turned out to be",
    "start": "337500",
    "end": "342539"
  },
  {
    "text": "running log for Jay somewhere so my point of all this is that",
    "start": "342539",
    "end": "348300"
  },
  {
    "text": "vulnerabilities are bad they end up getting you hacked",
    "start": "348300",
    "end": "353759"
  },
  {
    "text": "and the cost organizations Millions whether it's in reputational damage and",
    "start": "353759",
    "end": "360660"
  },
  {
    "text": "reputational loss or directly in lawsuits or just in ransomware when everything gets crypto locked",
    "start": "360660",
    "end": "368900"
  },
  {
    "start": "370000",
    "end": "615000"
  },
  {
    "text": "okay so in this talk I'm going to be talking about vulnerabilities and how they relate to containers and container",
    "start": "371699",
    "end": "377460"
  },
  {
    "text": "images I'm guessing most of you have used containers for certain lengths of time",
    "start": "377460",
    "end": "383520"
  },
  {
    "text": "and how many of you have tried like a vulnerability scanner such as Aqua trivia sneak or something",
    "start": "383520",
    "end": "390300"
  },
  {
    "text": "yeah even if you just run it like locally but most of you sort of come across them cool",
    "start": "390300",
    "end": "396419"
  },
  {
    "text": "so vulnerability scanners you know take an image they'll try and make a list of all",
    "start": "396419",
    "end": "402780"
  },
  {
    "text": "the software inside that image and the versions of that software and then you compare that list to various security",
    "start": "402780",
    "end": "409080"
  },
  {
    "text": "databases and as a result you get a list of what this Canon believes are possible",
    "start": "409080",
    "end": "414660"
  },
  {
    "text": "vulnerabilities in that container image and this sounds fantastic right because",
    "start": "414660",
    "end": "420360"
  },
  {
    "text": "ideally what I would do is I run a scanner on my image that finds any vulnerabilities well I'm not going to",
    "start": "420360",
    "end": "425699"
  },
  {
    "text": "put that in production because it's vulnerable um but yeah that was the sort of naive",
    "start": "425699",
    "end": "431819"
  },
  {
    "text": "hope um you know if most of you have run a vulnerability scanner so you're probably",
    "start": "431819",
    "end": "438060"
  },
  {
    "text": "aware there's a bit of a problem",
    "start": "438060",
    "end": "443120"
  },
  {
    "text": "and the problem is this if you run basically any vulnerability scanner on",
    "start": "445560",
    "end": "451080"
  },
  {
    "text": "the official images or base images of whatever you nearly always find",
    "start": "451080",
    "end": "456120"
  },
  {
    "text": "vulnerabilities and sometimes we find quite a lot of vulnerabilities so you're immediately overwhelmed with",
    "start": "456120",
    "end": "462000"
  },
  {
    "text": "all these vulnerabilities that you can't really deal with which sort of negates a lot of the use of the vulnerability scanner",
    "start": "462000",
    "end": "468479"
  },
  {
    "text": "so this example I ran this this morning um so yeah you've run it again now you",
    "start": "468479",
    "end": "474419"
  },
  {
    "text": "should get exactly the same result so today in nginx we have 151 packages",
    "start": "474419",
    "end": "480360"
  },
  {
    "text": "and 86 vulnerabilities um none critical thankfully but",
    "start": "480360",
    "end": "486599"
  },
  {
    "text": "apparently three are high and there's two fixed I'll explain what fixed is later",
    "start": "486599",
    "end": "493639"
  },
  {
    "text": "but then we've run node nodes kind of Infamous for having lots of vulnerabilities it's actually got a lot",
    "start": "494099",
    "end": "500460"
  },
  {
    "text": "better recently I'm not quite sure why because I ran this this morning and there is",
    "start": "500460",
    "end": "506479"
  },
  {
    "text": "658 vulnerabilities that's not a mistake gripe says there are 658 vulnerabilities",
    "start": "506479",
    "end": "512459"
  },
  {
    "text": "I did run it twice I did make sure right was updated and I did make sure I had the latest version of note",
    "start": "512459",
    "end": "518640"
  },
  {
    "text": "so that is the correct result it's actually much better than it was like a week or two ago when I ran it and",
    "start": "518640",
    "end": "524880"
  },
  {
    "text": "it get it got over 1 000 vulnerabilities uh that may have been a mistaken gripe",
    "start": "524880",
    "end": "530459"
  },
  {
    "text": "I'm not 100 sure but anyway you're kind of swimming",
    "start": "530459",
    "end": "536880"
  },
  {
    "text": "invulnerabilities and the problem is you know there's so much that's hard",
    "start": "536880",
    "end": "542940"
  },
  {
    "text": "to even use these tools because you're starting from a point of dealing with all these vulnerabilities",
    "start": "542940",
    "end": "548399"
  },
  {
    "text": "and a lot of people seem to get to the stage and give up or at least end up with sub-optimal",
    "start": "548399",
    "end": "555480"
  },
  {
    "text": "results so I've heard stories like security teams trying to investigate all",
    "start": "555480",
    "end": "562860"
  },
  {
    "text": "vulnerabilities and when they find vulnerabilities the images are sent back to the developers with instructions to",
    "start": "562860",
    "end": "569519"
  },
  {
    "text": "actually fix them or come up with a reason why they can't be exploited",
    "start": "569519",
    "end": "574920"
  },
  {
    "text": "then there's platform teams who provide these images to the application teams",
    "start": "574920",
    "end": "580140"
  },
  {
    "text": "and so on but the very base image they're providing is full of vulnerabilities to the point that nobody",
    "start": "580140",
    "end": "585720"
  },
  {
    "text": "notices when the application team accidentally adds some vulnerabilities",
    "start": "585720",
    "end": "591480"
  },
  {
    "text": "and then there's things that spend so long investigating vulnerabilities that by the time they've mitigated them",
    "start": "591480",
    "end": "597000"
  },
  {
    "text": "there's a dozen new vulnerabilities to deal with",
    "start": "597000",
    "end": "602160"
  },
  {
    "text": "so it's really not a great state at the minute",
    "start": "602160",
    "end": "607399"
  },
  {
    "text": "but I do have a solution and as an example I'm going to walk",
    "start": "607740",
    "end": "614100"
  },
  {
    "text": "through the redis image now these scans um they're not from today I think I did",
    "start": "614100",
    "end": "620100"
  },
  {
    "start": "615000",
    "end": "913000"
  },
  {
    "text": "scan this earlier today do I have the results yeah I disconnected earlier today and there's now two critical on 20",
    "start": "620100",
    "end": "627300"
  },
  {
    "text": "High I believe so they fixed one of the critical vulnerabilities but this is what you get",
    "start": "627300",
    "end": "632760"
  },
  {
    "text": "when you scan the default redis image from the docker hub",
    "start": "632760",
    "end": "637980"
  },
  {
    "text": "now most of you are probably aware that the default images are based on Debian",
    "start": "637980",
    "end": "643200"
  },
  {
    "text": "like if you don't specify a variant you get Debian by default um and that just comes with a whole bunch",
    "start": "643200",
    "end": "650100"
  },
  {
    "text": "of packages in this case you know we've got 100 packages some of those will be redis are related to redis",
    "start": "650100",
    "end": "656880"
  },
  {
    "text": "um but most of it's just related to Debian and the base image itself",
    "start": "656880",
    "end": "662459"
  },
  {
    "text": "and in that we have 84 vulnerabilities and three critical I believe now it's two and twenty",
    "start": "662459",
    "end": "669120"
  },
  {
    "text": "um now we can do a lot better if we look at the Alpine version",
    "start": "669120",
    "end": "676320"
  },
  {
    "text": "suddenly there's only 20 packages now it's not fair to directly compare",
    "start": "676320",
    "end": "681480"
  },
  {
    "text": "Alpine and Debian but basically Alpine is a much smaller Linux distribution and",
    "start": "681480",
    "end": "687480"
  },
  {
    "text": "that's basically why there's less vulnerability so just less to have a vulnerability in",
    "start": "687480",
    "end": "693600"
  },
  {
    "text": "but in this scan I still found too critical too high and one low I believe",
    "start": "693600",
    "end": "699300"
  },
  {
    "text": "this is slightly different now um I think two of them are gone as you scan again this morning",
    "start": "699300",
    "end": "705420"
  },
  {
    "text": "um and it actually relates to you she's too fixed and again I'll explain why that's the case in a moment",
    "start": "705420",
    "end": "713060"
  },
  {
    "text": "um so this is the only image that's exactly the same results two weeks ago and today",
    "start": "713579",
    "end": "718980"
  },
  {
    "text": "um so a chain guard we publish our own images you can go on for the latest",
    "start": "718980",
    "end": "724320"
  },
  {
    "text": "versions and play with them and run your own scans and see what it says but yeah you can",
    "start": "724320",
    "end": "731160"
  },
  {
    "text": "see there's roughly the same number of packages in the in our version as the Alpine",
    "start": "731160",
    "end": "736380"
  },
  {
    "text": "version but now there's zero vulnerabilities so one of the key points this talk is",
    "start": "736380",
    "end": "742740"
  },
  {
    "text": "that it is possible to get to zero vulnerabilities",
    "start": "742740",
    "end": "747740"
  },
  {
    "text": "okay and there's no Special Sauce like we've not I swear to",
    "start": "748500",
    "end": "754140"
  },
  {
    "text": "you we've not cheated um and actually the way we did it",
    "start": "754140",
    "end": "760640"
  },
  {
    "text": "is fairly simple there's kind of three points three main techniques that we're using",
    "start": "760680",
    "end": "767399"
  },
  {
    "text": "the first one is cut down dependencies just lessen the image it's less to have a vulnerability",
    "start": "767399",
    "end": "773880"
  },
  {
    "text": "second point is keep things as up to date as possible you know apply updates and patches as",
    "start": "773880",
    "end": "779339"
  },
  {
    "text": "quickly as you can and the third Point um gets into patching things yourself and also",
    "start": "779339",
    "end": "786240"
  },
  {
    "text": "security advisories that I'll talk about a bit more",
    "start": "786240",
    "end": "791060"
  },
  {
    "text": "so cutting down dependencies so if you go back to the redis example we saw there's a hundred packages in Debian",
    "start": "792720",
    "end": "800279"
  },
  {
    "text": "but only 20 in Alpine and only 99 Wolfie which is the the train guard Linux",
    "start": "800279",
    "end": "806459"
  },
  {
    "text": "distribution we use and yeah so this just comes into complexity and reducing the amount of",
    "start": "806459",
    "end": "812579"
  },
  {
    "text": "stuff in the container all these images do pretty much the same thing like I",
    "start": "812579",
    "end": "817980"
  },
  {
    "text": "think you'll be hard-pressed to find a difference between Vernon redis in the Debian image and",
    "start": "817980",
    "end": "824399"
  },
  {
    "text": "Alpine and Wolfie images that being said do be aware that Alpine is a muzzle based distro so it does uses",
    "start": "824399",
    "end": "832740"
  },
  {
    "text": "different standards C library for talking to the kernel and that can have implications in some cases",
    "start": "832740",
    "end": "839639"
  },
  {
    "text": "Wolfie and debiendo are both jealousy",
    "start": "839639",
    "end": "843800"
  },
  {
    "text": "and yeah so just you know a bunch of software in that container that is not or in the Debian container at least",
    "start": "844860",
    "end": "850079"
  },
  {
    "text": "that's not required to run Raiders okay at this point about keeping things",
    "start": "850079",
    "end": "855899"
  },
  {
    "text": "up to date if you look at the Alpine and Debian Linux distributions",
    "start": "855899",
    "end": "861899"
  },
  {
    "text": "there's a bunch of steps that we have to go through from our vulnerability being announced through to getting it's fixed",
    "start": "861899",
    "end": "869100"
  },
  {
    "text": "in a container image um so after a vulnerability is found",
    "start": "869100",
    "end": "875240"
  },
  {
    "text": "hopefully they might already be a patch before it's announced you know depending if it's a zero day or not but after",
    "start": "875240",
    "end": "881220"
  },
  {
    "text": "Upstream releases a patch you have to wait for the distribution",
    "start": "881220",
    "end": "886380"
  },
  {
    "text": "like Alpine or Debian to pick up that patch and create a new package with that",
    "start": "886380",
    "end": "892500"
  },
  {
    "text": "patch inside it and then once that's happened you have to wait for Docker or whoever",
    "start": "892500",
    "end": "898019"
  },
  {
    "text": "is creating the image to create a new version of the image with a new version of package inside it",
    "start": "898019",
    "end": "903420"
  },
  {
    "text": "and for my own non-scientific research it seems that this takes around one to",
    "start": "903420",
    "end": "909180"
  },
  {
    "text": "two weeks",
    "start": "909180",
    "end": "911720"
  },
  {
    "start": "913000",
    "end": "1948000"
  },
  {
    "text": "and that is one of the reasons that train guard we created our own Linux distribution called Wolfie",
    "start": "914699",
    "end": "922920"
  },
  {
    "text": "um we called it we'll feed because everything at shin guard is sort of octopus based and Wolfie is the smallest",
    "start": "922920",
    "end": "928920"
  },
  {
    "text": "octopus so something to do with Wolves is actually to do with octopi or octopuses",
    "start": "928920",
    "end": "934079"
  },
  {
    "text": "or whatever the plural is cephalopods",
    "start": "934079",
    "end": "940019"
  },
  {
    "text": "um so what makes Wolfie different why did we create wolf evrass and use something that was already there",
    "start": "940019",
    "end": "947279"
  },
  {
    "text": "um first thing to point out we sometimes call Wolfie and undistral it's not really a full Linux",
    "start": "947279",
    "end": "953699"
  },
  {
    "text": "distribution because we don't ship the kernel most of you are probably aware of containers work and you actually use",
    "start": "953699",
    "end": "960600"
  },
  {
    "text": "when you run your Docker run you're using the kernel from the host or you're using the kernel from a VM but the",
    "start": "960600",
    "end": "966660"
  },
  {
    "text": "container itself doesn't have the kernel inside it so in we'll see there's no kernel it's",
    "start": "966660",
    "end": "971760"
  },
  {
    "text": "really just a package repository full of packages that we've compiled from source",
    "start": "971760",
    "end": "977720"
  },
  {
    "text": "and that's why we call the industrial um there are some similarities to Alpine",
    "start": "978000",
    "end": "984959"
  },
  {
    "text": "because we use the 80k packaging format which is created by Alpine",
    "start": "984959",
    "end": "991579"
  },
  {
    "text": "um however unlike Alpine who compiled everything against muzzle we've compiled everything from Source against glibcy",
    "start": "991680",
    "end": "999000"
  },
  {
    "text": "and there's actually really cool blog recently about how we went back and compiled Java from source and bootstrap",
    "start": "999000",
    "end": "1004639"
  },
  {
    "text": "them from really old versions of java to get to the to Modern versions that you can look up",
    "start": "1004639",
    "end": "1010339"
  },
  {
    "text": "um Wolfie is a rolling distribution we don't do Point releases there's no like",
    "start": "1010339",
    "end": "1015980"
  },
  {
    "text": "um wolfier equivalent of Sid only sort of point in time you're always sort of on the latest version of things",
    "start": "1015980",
    "end": "1022820"
  },
  {
    "text": "all our packages come with f-bombs or software bill of materials I'm not going to talk about too much in this talk but",
    "start": "1022820",
    "end": "1030020"
  },
  {
    "text": "I really think that's going to be something very important in the future basically an s-bomb tells you",
    "start": "1030020",
    "end": "1035959"
  },
  {
    "text": "um what software is in a package and the versions and hopefully it'll also tell you about transitive dependencies maybe",
    "start": "1035959",
    "end": "1041600"
  },
  {
    "text": "I'll even tell you about build Time stuff as well um at the minute we're very much focused",
    "start": "1041600",
    "end": "1048140"
  },
  {
    "text": "on Eric 64 and x8664 so arm chips and Intel chips",
    "start": "1048140",
    "end": "1055220"
  },
  {
    "text": "um some of our images are available for a few other architectures and hopefully we'll have more architectures in the",
    "start": "1055220",
    "end": "1060620"
  },
  {
    "text": "future but I mean this is 99 of what everybody runs",
    "start": "1060620",
    "end": "1066400"
  },
  {
    "text": "we also have some of our own build tooling so to create multi APK packages",
    "start": "1068179",
    "end": "1073460"
  },
  {
    "text": "we use melange and to create our container images for",
    "start": "1073460",
    "end": "1078919"
  },
  {
    "text": "chain guide we use a tool called apko so we don't use Docker build we actually use a much simpler tool called apko it",
    "start": "1078919",
    "end": "1085880"
  },
  {
    "text": "can't do everything a Docker build can do all APK really does is um take a list of",
    "start": "1085880",
    "end": "1093220"
  },
  {
    "text": "apks and compile them into an image and because it's simpler it's also more",
    "start": "1093220",
    "end": "1098660"
  },
  {
    "text": "or it's much easier to make it reproducible so if you run APK over twice you'll get the same turbo light",
    "start": "1098660",
    "end": "1105559"
  },
  {
    "text": "you know down to the binary level which is actually something relatively hard to do in Docker you have to try and control",
    "start": "1105559",
    "end": "1112660"
  },
  {
    "text": "timestamps and build IDs and things like that but that kind of comes out of the box with the ABCO",
    "start": "1112660",
    "end": "1119179"
  },
  {
    "text": "it's also declarative yaml everybody loves yamo",
    "start": "1119179",
    "end": "1124120"
  },
  {
    "text": "and one of the big advantages of having their own Linux distribution is that we can get this one to two week",
    "start": "1126260",
    "end": "1132320"
  },
  {
    "text": "cycle down to minutes or hours so if a new patch or new vulnerability",
    "start": "1132320",
    "end": "1138380"
  },
  {
    "text": "drops we can pull in a patch for that we can rebuild the package it corresponds",
    "start": "1138380",
    "end": "1144020"
  },
  {
    "text": "to and we can rebuild any image that uses that package within a matter of",
    "start": "1144020",
    "end": "1149419"
  },
  {
    "text": "minutes or hours which is a huge advantage over being tied to Alpine or Debian for building",
    "start": "1149419",
    "end": "1156140"
  },
  {
    "text": "our images",
    "start": "1156140",
    "end": "1158620"
  },
  {
    "text": "okay so here's the point where things get a little bit complex",
    "start": "1162260",
    "end": "1167900"
  },
  {
    "text": "um keeping things up to date and reducing dependencies does account for 90 of the work we do but there's still",
    "start": "1167900",
    "end": "1174140"
  },
  {
    "text": "always a few CVS that we have to deal with that the scanners turn up",
    "start": "1174140",
    "end": "1180080"
  },
  {
    "text": "um one reason and so sometimes we have to apply patches ourselves for example",
    "start": "1180080",
    "end": "1186380"
  },
  {
    "text": "um yeah well the example here I've got say you have an upstream project like we'll call it food project and food",
    "start": "1186380",
    "end": "1192620"
  },
  {
    "text": "project is dependent on bar project now there's a vulnerability and bar project but it's not in food projects",
    "start": "1192620",
    "end": "1199640"
  },
  {
    "text": "the food project might not do a new release to update bar project for a while but we need to update it ourselves so to",
    "start": "1199640",
    "end": "1207020"
  },
  {
    "text": "resolve that vulnerability so we might be shipping a new version of food project with a new version of the",
    "start": "1207020",
    "end": "1212600"
  },
  {
    "text": "bar project inside it but we're really still on the version of the code that the Upstream beliefs say it's 1.27 or",
    "start": "1212600",
    "end": "1219320"
  },
  {
    "text": "whatever so we need a way to tell the scanners hey okay we're on version 1.27 of food",
    "start": "1219320",
    "end": "1226400"
  },
  {
    "text": "project but we have fixed this vulnerability our version is not vulnerable to this cve",
    "start": "1226400",
    "end": "1234380"
  },
  {
    "text": "and the way you tell scanners that is through something called the security advisory",
    "start": "1234380",
    "end": "1240400"
  },
  {
    "text": "so if you go back to Alpine various vulnerabilities um these top two are now gone",
    "start": "1241880",
    "end": "1248000"
  },
  {
    "text": "but when I ran the scan a few weeks ago these the top two turned up",
    "start": "1248000",
    "end": "1253580"
  },
  {
    "text": "and so the top two are kind of interesting because you'll see it says fixed in",
    "start": "1253580",
    "end": "1258620"
  },
  {
    "text": "and so what this means is the docker image had version 3.10 of the",
    "start": "1258620",
    "end": "1266360"
  },
  {
    "text": "lib ssl3 installed but there was actually already a version of Alpine with um 3.11 or up and had",
    "start": "1266360",
    "end": "1274760"
  },
  {
    "text": "already released version 3.11 of the package which addressed this High vulnerability but it took a few days for",
    "start": "1274760",
    "end": "1281960"
  },
  {
    "text": "a week or so before the new Docker image was created with the new version of this package",
    "start": "1281960",
    "end": "1287960"
  },
  {
    "text": "at the time I ran this scan that hadn't happened it has now but",
    "start": "1287960",
    "end": "1293960"
  },
  {
    "text": "there's still three other vulnerabilities so why do those turn up in the Alpine",
    "start": "1293960",
    "end": "1299240"
  },
  {
    "text": "image but not in the Wolfie image it's kind of interesting right",
    "start": "1299240",
    "end": "1304820"
  },
  {
    "text": "and the answer lies in security advisories so you can go today and check out the",
    "start": "1304820",
    "end": "1312380"
  },
  {
    "text": "advisory for Wolfie um it's just that Wolfie Dash Dev so all the wealthy stuff that Wolfie Dash Dev",
    "start": "1312380",
    "end": "1319700"
  },
  {
    "text": "um and yeah you can go to that URL and you can see the advisories for all our",
    "start": "1319700",
    "end": "1324740"
  },
  {
    "text": "um packages and this is what it kind of looks like it's just a bunch of yamo it's really",
    "start": "1324740",
    "end": "1331100"
  },
  {
    "text": "quite simple here's the one for redis I've only got the very top of the file here",
    "start": "1331100",
    "end": "1336980"
  },
  {
    "text": "and you can see we mentioned cve 2022.0543 and we say we're saying this",
    "start": "1336980",
    "end": "1343820"
  },
  {
    "text": "has been fixed since version 7.07 which is actually quite a while",
    "start": "1343820",
    "end": "1349480"
  },
  {
    "text": "and if you go back um we can see this as one of the this is a critical vulnerability listed here",
    "start": "1350360",
    "end": "1357380"
  },
  {
    "text": "so the reason it doesn't turn up when uh in the chain guide images because gripe",
    "start": "1357380",
    "end": "1364220"
  },
  {
    "text": "knows to go and check her advisory and says okay they're saying it doesn't exist and I even went and looked at this cve",
    "start": "1364220",
    "end": "1371600"
  },
  {
    "text": "and it actually turns out to be something to do with Debian Packaging so I'm 99 well 100 sure the Alpine is",
    "start": "1371600",
    "end": "1380780"
  },
  {
    "text": "not vulnerable to this cve so why is it showing up",
    "start": "1380780",
    "end": "1386120"
  },
  {
    "text": "and the reason is the docker build does not install redis from Alpine the docker build actually goes and gets",
    "start": "1386120",
    "end": "1392299"
  },
  {
    "text": "redis from the redis server and compiles it installs itself so this scanner can't go to Alpine and",
    "start": "1392299",
    "end": "1399380"
  },
  {
    "text": "say hey you know what CVS are fixed in this redis because it's not the red is from Alpine",
    "start": "1399380",
    "end": "1404539"
  },
  {
    "text": "so there's nowhere for this camera to go and say hey what's the vulnerabilities in this so let's just kind of assuming",
    "start": "1404539",
    "end": "1409940"
  },
  {
    "text": "these vulnerabilities exist because it knows there's a cve related to this version of redis and nobody's told that",
    "start": "1409940",
    "end": "1416179"
  },
  {
    "text": "it's fixed",
    "start": "1416179",
    "end": "1418720"
  },
  {
    "text": "so with those three points um reducing dependencies keeping stuff",
    "start": "1421460",
    "end": "1426559"
  },
  {
    "text": "up to date and security advisors for the rest is how we get to absolutely zero",
    "start": "1426559",
    "end": "1432980"
  },
  {
    "text": "vulnerabilities in our chain guard images",
    "start": "1432980",
    "end": "1437919"
  },
  {
    "text": "but you're probably thinking okay that's great for chain guards but what about myself how do I run containers with zero",
    "start": "1439700",
    "end": "1447919"
  },
  {
    "text": "vulnerabilities and the answer is pretty much the same the glib answer is use our images",
    "start": "1447919",
    "end": "1453919"
  },
  {
    "text": "because we do have images for a bunch of applications like nginx red is Fault blah blah blah you can get a full list",
    "start": "1453919",
    "end": "1459500"
  },
  {
    "text": "on GitHub or on our website let me grab some water",
    "start": "1459500",
    "end": "1466600"
  },
  {
    "text": "I'll go for a walk",
    "start": "1467179",
    "end": "1470140"
  },
  {
    "text": "sorry um probably the easiest the most low hanging fruit thing you can do today is",
    "start": "1474500",
    "end": "1481039"
  },
  {
    "text": "just use a smaller base image I mean you saw earlier how many vulnerabilities were in Debian compared to Alpine",
    "start": "1481039",
    "end": "1487820"
  },
  {
    "text": "there's also something called Debian Slim So if you're using Debian based images at the minute try something",
    "start": "1487820",
    "end": "1494179"
  },
  {
    "text": "called Debian slim it's really just Debian it's a bunch of packages removed so you can probably just switch that and",
    "start": "1494179",
    "end": "1500539"
  },
  {
    "text": "you'll save yourself a few vulnerabilities um likewise Alpine if you can probably",
    "start": "1500539",
    "end": "1506659"
  },
  {
    "text": "try changing to Alpine um there might be some functional",
    "start": "1506659",
    "end": "1511700"
  },
  {
    "text": "differences in there because of the change from glibcy to muzzle do be aware of that but Alpine's great I would",
    "start": "1511700",
    "end": "1517940"
  },
  {
    "text": "recommend trying it um scratch is the completely empty",
    "start": "1517940",
    "end": "1523940"
  },
  {
    "text": "Docker image which you can use in some cases and I'm going to talk about that and how that leads into Google distress",
    "start": "1523940",
    "end": "1530000"
  },
  {
    "text": "and the tune guide approach to base images",
    "start": "1530000",
    "end": "1534940"
  },
  {
    "text": "so scratch is the completely empty image there's nothing in it at all so it sounds quite useless",
    "start": "1536299",
    "end": "1543020"
  },
  {
    "text": "but in fact it is pretty cool you can do things with it especially if you use",
    "start": "1543020",
    "end": "1549140"
  },
  {
    "text": "a compiled language like go or rust or C because you can create something called Static binary with all the dependencies",
    "start": "1549140",
    "end": "1556580"
  },
  {
    "text": "inside it and you can take that static binary you can put it in the completely empty image and run it and then you've",
    "start": "1556580",
    "end": "1563480"
  },
  {
    "text": "got the most minimal possible image well Assuming he's not compiled too many dependencies in but um",
    "start": "1563480",
    "end": "1570500"
  },
  {
    "text": "that is like you know the best you can do it's fantastic but what you'll actually find is you can't",
    "start": "1570500",
    "end": "1576980"
  },
  {
    "text": "do that with a lot of applications because generally applications expect some operating stuff operating system",
    "start": "1576980",
    "end": "1584240"
  },
  {
    "text": "stuff to be available the most common ones probably CA certificates",
    "start": "1584240",
    "end": "1589820"
  },
  {
    "text": "if you want to talk to a TLS server over https or whatever you're going to need",
    "start": "1589820",
    "end": "1595760"
  },
  {
    "text": "CA certificates um also time zone data that's needed",
    "start": "1595760",
    "end": "1600980"
  },
  {
    "text": "quite a lot uh directory layout a lot of stuff expects like slash Etsy or slash",
    "start": "1600980",
    "end": "1607580"
  },
  {
    "text": "temp for example so you kind of want standard links directories to be available and users is another common one people",
    "start": "1607580",
    "end": "1615200"
  },
  {
    "text": "expect one or two users to be available and that's exactly why Google created",
    "start": "1615200",
    "end": "1621919"
  },
  {
    "text": "the distalist project so District list is a really really stripped down version of Debian like",
    "start": "1621919",
    "end": "1628039"
  },
  {
    "text": "there's almost nothing in it yeah it's much more than Debian and it's actually even smaller than Alpine if you're",
    "start": "1628039",
    "end": "1633860"
  },
  {
    "text": "looking at the static base image and they've taken it so far that there's not even a package manager or shell in",
    "start": "1633860",
    "end": "1641059"
  },
  {
    "text": "that image so it's really just for copying a binary in or an application in and running it",
    "start": "1641059",
    "end": "1647299"
  },
  {
    "text": "as for production it's not really for development or anything um they do have images for you know like",
    "start": "1647299",
    "end": "1653840"
  },
  {
    "text": "a static bass image or static binaries um there's also ones for Java and python I believe",
    "start": "1653840",
    "end": "1659600"
  },
  {
    "text": "I can't remember for other variants but that's it's a very limited number",
    "start": "1659600",
    "end": "1664640"
  },
  {
    "text": "um the biggest problem with Google distress this is a bit difficult to",
    "start": "1664640",
    "end": "1670700"
  },
  {
    "text": "extend um so you might be in the case you might think well I want this image but I want",
    "start": "1670700",
    "end": "1676340"
  },
  {
    "text": "one more Debian package in it because I need that for my application and that sounds reasonable should be something",
    "start": "1676340",
    "end": "1682100"
  },
  {
    "text": "easy to do but it's not really because you're gonna have to play with Dazzle or basil or",
    "start": "1682100",
    "end": "1688039"
  },
  {
    "text": "whatever you call it I don't know if any of you have tried Dazzle but it's not necessarily some of these laughing it's",
    "start": "1688039",
    "end": "1694039"
  },
  {
    "text": "not really a lot of fun I'm going to tell you that it's really meant for big infrastructure",
    "start": "1694039",
    "end": "1699080"
  },
  {
    "text": "projects um so that takes us to chain Guard base",
    "start": "1699080",
    "end": "1705679"
  },
  {
    "text": "images very similar philosophy and approach to Google Lister list which is unsurprising",
    "start": "1705679",
    "end": "1711200"
  },
  {
    "text": "given the people that find the chain guard were actually on the Google digitalist project as well",
    "start": "1711200",
    "end": "1718778"
  },
  {
    "text": "um however unlike Google distress hopefully our images are a lot easier to",
    "start": "1719179",
    "end": "1724460"
  },
  {
    "text": "extend and customize you can use APK which is our own build tool to create new images but you can",
    "start": "1724460",
    "end": "1731900"
  },
  {
    "text": "also just use a Docker file if you use a Docker file you probably want to use the dash Dev variant which will add in a",
    "start": "1731900",
    "end": "1737900"
  },
  {
    "text": "shell and package manager to our images um we have f-bombs which are pulled",
    "start": "1737900",
    "end": "1744140"
  },
  {
    "text": "through from Wolfie so you should get a complete analysis of all the software in",
    "start": "1744140",
    "end": "1749539"
  },
  {
    "text": "the image um yeah our images are updated every day you might notice we rebuild all images",
    "start": "1749539",
    "end": "1756980"
  },
  {
    "text": "every day but you might the date build stamp may be a few days",
    "start": "1756980",
    "end": "1762559"
  },
  {
    "text": "old and what that indicates is there's been no changes like although we've rebuilt it it hasn't changed in the last",
    "start": "1762559",
    "end": "1768260"
  },
  {
    "text": "few days and again it's all based on julipsy",
    "start": "1768260",
    "end": "1774220"
  },
  {
    "text": "yeah the next thing you want to think about doing cutting down dependencies",
    "start": "1775880",
    "end": "1780980"
  },
  {
    "text": "so there's a few things you can do here most people probably tried multi-stage builds that's where you know you do a",
    "start": "1780980",
    "end": "1786860"
  },
  {
    "text": "compilation and build your software in one container and then you copy the result into another image so your",
    "start": "1786860",
    "end": "1793220"
  },
  {
    "text": "production image doesn't have all your build artifacts in it it just has the the final thing",
    "start": "1793220",
    "end": "1798500"
  },
  {
    "text": "uh and that leads nicely into development and debug dependencies so",
    "start": "1798500",
    "end": "1803720"
  },
  {
    "text": "you don't want those things in production image have a separate Dev or debug variant for that kind of thing",
    "start": "1803720",
    "end": "1812559"
  },
  {
    "text": "the other thing I would say is in actual application development try to pull and list libraries this is a",
    "start": "1813080",
    "end": "1820220"
  },
  {
    "text": "lot easier said than done I realize but do think about whether you really need",
    "start": "1820220",
    "end": "1825320"
  },
  {
    "text": "that library for one function call or if there's another way you can do it because when you put on a library you",
    "start": "1825320",
    "end": "1831860"
  },
  {
    "text": "know you're pulling a lot of risk effectively and you have to keep that Library up to date or it's going to get",
    "start": "1831860",
    "end": "1837860"
  },
  {
    "text": "vulnerabilities and so on um yeah you don't want to be in the what was it JavaScript lift pad that's",
    "start": "1837860",
    "end": "1843860"
  },
  {
    "text": "exactly the sort of thing you do not want to happen",
    "start": "1843860",
    "end": "1847840"
  },
  {
    "text": "um the final point I want to talk about is just keeping updated I actually think",
    "start": "1850640",
    "end": "1855860"
  },
  {
    "text": "this is probably the hardest thing because I think we're all aware you update something and everything breaks",
    "start": "1855860",
    "end": "1862700"
  },
  {
    "text": "right and that's why organizations have a lot of scar tissue under scared to keep things up to date and",
    "start": "1862700",
    "end": "1869899"
  },
  {
    "text": "live in the bleeding edge and that makes sense um",
    "start": "1869899",
    "end": "1875179"
  },
  {
    "text": "what I would say this is better to keep things updated and run tests to",
    "start": "1875179",
    "end": "1881120"
  },
  {
    "text": "catch as much as possible than it is to end up being Equifax",
    "start": "1881120",
    "end": "1886898"
  },
  {
    "text": "um there are tools you can get to help you here stuff like the panda bot I think a lot of you have probably seen that I'll",
    "start": "1887120",
    "end": "1893600"
  },
  {
    "text": "look at that runs in GitHub and tells you when you need to update a library for example",
    "start": "1893600",
    "end": "1900460"
  },
  {
    "text": "um I mentioned earlier I work with a bunch of people from Google and they introduce this concept of built Horizon",
    "start": "1900500",
    "end": "1906200"
  },
  {
    "text": "to me which I hadn't heard before and I thought was quite interesting basically apparently at Google see a",
    "start": "1906200",
    "end": "1912620"
  },
  {
    "text": "container or VM or some service has been running continuously for a period of time I think it's even as short as a",
    "start": "1912620",
    "end": "1918679"
  },
  {
    "text": "week even if there's no updates to the code for that service they will replace that",
    "start": "1918679",
    "end": "1924440"
  },
  {
    "text": "service with a fresh version the reason being that of course there might be updates to other software",
    "start": "1924440",
    "end": "1929960"
  },
  {
    "text": "dependencies or the operating system and so on so you don't actually want a",
    "start": "1929960",
    "end": "1935059"
  },
  {
    "text": "service that's been running for 200 days in production I think we used to use it as a stamp of reliability but you can",
    "start": "1935059",
    "end": "1942500"
  },
  {
    "text": "also see it as a stamp of hey there's probably vulnerabilities in this",
    "start": "1942500",
    "end": "1947020"
  },
  {
    "start": "1948000",
    "end": "1991000"
  },
  {
    "text": "okay so that's pretty much what I want to talk about",
    "start": "1949340",
    "end": "1954620"
  },
  {
    "text": "um the big summary is use better images and you can totally go and look at the chain guard ones",
    "start": "1954620",
    "end": "1961460"
  },
  {
    "text": "but also even just using Alpine or a smaller base image will get you a long way",
    "start": "1961460",
    "end": "1967580"
  },
  {
    "text": "reduce your images dependencies be really aggressive about that that will get you a long way as well",
    "start": "1967580",
    "end": "1973179"
  },
  {
    "text": "the hardest Point keep everything up to date like you know run tests on everything",
    "start": "1973179",
    "end": "1978679"
  },
  {
    "text": "and update everything that is a difficult part but that's what will prevent you getting hacked",
    "start": "1978679",
    "end": "1985460"
  },
  {
    "text": "and if you do all those things you too can get to zero vulnerabilities",
    "start": "1985460",
    "end": "1992720"
  },
  {
    "start": "1991000",
    "end": "2009000"
  },
  {
    "text": "okay thank you all [Applause]",
    "start": "1992720",
    "end": "2000210"
  }
]