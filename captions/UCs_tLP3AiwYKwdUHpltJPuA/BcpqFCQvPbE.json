[
  {
    "start": "0",
    "end": "135000"
  },
  {
    "text": "[Music] I'm here to talk about velocity variety",
    "start": "5920",
    "end": "12709"
  },
  {
    "text": "and volume gaining insights my name is Henrik if you want to talk to me after",
    "start": "12709",
    "end": "24439"
  },
  {
    "text": "this conference please use my Twitter handle because it's probably the only school should meteor know that I'm using at the moment and I'm a bit of an odd",
    "start": "24439",
    "end": "33230"
  },
  {
    "text": "fellow for go to at least because I'm not a developer but I do write a lot of code I'm not necessarily a system",
    "start": "33230",
    "end": "39980"
  },
  {
    "text": "administrator by it I do have Minister a lot of systems and I'm involved in architecture without",
    "start": "39980",
    "end": "46340"
  },
  {
    "text": "being an architect so I'm kind of a generalist that does let lots of",
    "start": "46340",
    "end": "51380"
  },
  {
    "text": "interesting things when it comes to log management my my first log management solution was something I built sixteen",
    "start": "51380",
    "end": "58580"
  },
  {
    "text": "years ago give or take and it was industry standard centralized is logging",
    "start": "58580",
    "end": "64549"
  },
  {
    "text": "a couple of years later we did something that actually had a my sequel database",
    "start": "64549",
    "end": "70940"
  },
  {
    "text": "back-end and that thing failed rather spectacularly when you imagine you have",
    "start": "70940",
    "end": "76490"
  },
  {
    "text": "a two terabyte database back in 2006 2007 and to try to run all the table statement the worlds just ground to a",
    "start": "76490",
    "end": "83630"
  },
  {
    "text": "halt in 2000 2011 I discovered we",
    "start": "83630",
    "end": "91520"
  },
  {
    "text": "discovered elasticsearch that was I think just before the 0.10 release and",
    "start": "91520",
    "end": "101060"
  },
  {
    "text": "locks - as well before 1 . oh and we've been running that for a couple of years",
    "start": "101060",
    "end": "107299"
  },
  {
    "text": "in 2013 we switch to gray lock which we've been using for a couple of years",
    "start": "107299",
    "end": "112580"
  },
  {
    "text": "and given the the experience that we gained you doing all of that stuff we",
    "start": "112580",
    "end": "117619"
  },
  {
    "text": "essentially ended up building our own log management pipeline because I love",
    "start": "117619",
    "end": "123770"
  },
  {
    "text": "locks and because I so often dig about locks I'm sometimes called affectionately called sir locks a lot",
    "start": "123770",
    "end": "131170"
  },
  {
    "text": "I work for a public sector entity the region of South Denmark and for those of",
    "start": "133640",
    "end": "142310"
  },
  {
    "start": "135000",
    "end": "245000"
  },
  {
    "text": "you that are not inherently familiar with what a region does Denmark is divided into five different geographic",
    "start": "142310",
    "end": "148370"
  },
  {
    "text": "regions and the main responsibilities of a region is the fertility facilitate the health care operations within a a",
    "start": "148370",
    "end": "154970"
  },
  {
    "text": "specific region for us that means I don't know 14 15 16 hospitals a huge",
    "start": "154970",
    "end": "161570"
  },
  {
    "text": "number of social institutions sack record wards and while regions have other responsibilities such as tracking",
    "start": "161570",
    "end": "167959"
  },
  {
    "text": "soil contamination and all kinds of other stuff health care is what's probably 99 point something of our",
    "start": "167959",
    "end": "174769"
  },
  {
    "text": "entire budget an organization this size",
    "start": "174769",
    "end": "180830"
  },
  {
    "text": "can generate a ton of data so we are I",
    "start": "180830",
    "end": "186590"
  },
  {
    "text": "think we're logging a couple of terabytes every day we can ingest and",
    "start": "186590",
    "end": "193160"
  },
  {
    "text": "generate hundreds of thousands sometimes even millions of messages per second and we see a tremendous amount of good and",
    "start": "193160",
    "end": "202850"
  },
  {
    "text": "really really really bad logging formats",
    "start": "202850",
    "end": "207310"
  },
  {
    "text": "what are we going to talk about today well I think that we should start with a",
    "start": "209769",
    "end": "214970"
  },
  {
    "text": "general discussion about why I think log management is important for an organization while it is important for",
    "start": "214970",
    "end": "221269"
  },
  {
    "text": "developers why it is important for ops team security teams etc I will hopefully",
    "start": "221269",
    "end": "227840"
  },
  {
    "text": "you walk you through with a tour of what it is we ended up building to manage all of that complexity and I will show some",
    "start": "227840",
    "end": "236450"
  },
  {
    "text": "hopefully interesting use cases of what we actually do with all of the data that are a bit unusual so why the hell should",
    "start": "236450",
    "end": "247670"
  },
  {
    "start": "245000",
    "end": "410000"
  },
  {
    "text": "you care about log management I have a",
    "start": "247670",
    "end": "253150"
  },
  {
    "text": "fairly strong belief in log management being a very good tool for managing",
    "start": "253150",
    "end": "261769"
  },
  {
    "text": "complexity if you look at an organization of the size of ours we have",
    "start": "261769",
    "end": "267070"
  },
  {
    "text": "twenty-five thousand employees tens and tens and tens of thousands of devices and systems and workstations and",
    "start": "267070",
    "end": "273670"
  },
  {
    "text": "Printers and drug infusion problems and all kinds of other stuff this entire",
    "start": "273670",
    "end": "279790"
  },
  {
    "text": "thing actually looks a lot like a complex autonomous system we are so big",
    "start": "279790",
    "end": "286660"
  },
  {
    "text": "that I mean it's it's not unusual for an organization that the left hand doesn't really know what the right hand is doing",
    "start": "286660",
    "end": "292660"
  },
  {
    "text": "but in our size one finger on one hand doesn't know what the other finger on the same hand is up to and locks provide",
    "start": "292660",
    "end": "301600"
  },
  {
    "text": "a unique insight into what what is happening in this giant machinery I mean",
    "start": "301600",
    "end": "310420"
  },
  {
    "text": "I've seen some of your faces go blank after going all philosophical on you but",
    "start": "310420",
    "end": "315760"
  },
  {
    "text": "I mean it all really boils down to that locks can help your organization lops can help your development team you",
    "start": "315760",
    "end": "321570"
  },
  {
    "text": "administrative people people do running your servers doing a security to",
    "start": "321570",
    "end": "326650"
  },
  {
    "text": "overcome some of the implicit challenges of such a system and stuff is getting more and more complex every single day I",
    "start": "326650",
    "end": "332680"
  },
  {
    "text": "mean how did we go from deploying our app on a single machine to all of a",
    "start": "332680",
    "end": "337900"
  },
  {
    "text": "sudden having to manage kubernetes not ditching on kubernetes but but complexity is increasing every single",
    "start": "337900",
    "end": "343630"
  },
  {
    "text": "day like I briefly mentioned we have tens and tens and tens in tens of",
    "start": "343630",
    "end": "350710"
  },
  {
    "text": "thousands of different devices some of them pretty unusable I think the minority of you have MRI",
    "start": "350710",
    "end": "357400"
  },
  {
    "text": "scanners and drug infusion pumps and all kinds of other stuff but we have the",
    "start": "357400",
    "end": "362680"
  },
  {
    "text": "usual workstations servos phones and we have a presence in over a hundred different locations within our little",
    "start": "362680",
    "end": "369460"
  },
  {
    "text": "tiny part of them are we need data to",
    "start": "369460",
    "end": "375310"
  },
  {
    "text": "understand the complex interactions in our distributed system sometimes things",
    "start": "375310",
    "end": "380440"
  },
  {
    "text": "can fail with no obvious reason and sometimes an input to the system can",
    "start": "380440",
    "end": "386470"
  },
  {
    "text": "have a radically different output than then you would realize data can come in",
    "start": "386470",
    "end": "392860"
  },
  {
    "text": "a lot of different forms metrics monitoring checks documentation guidelines but",
    "start": "392860",
    "end": "400360"
  },
  {
    "text": "logs are also a pretty significant form of data what is a log really I mean if",
    "start": "400360",
    "end": "409599"
  },
  {
    "text": "you think about it it's actually pretty simple a log is pretty much nothing more",
    "start": "409599",
    "end": "417039"
  },
  {
    "start": "410000",
    "end": "525000"
  },
  {
    "text": "nothing less than a record of activity something has happened it gets written",
    "start": "417039",
    "end": "423969"
  },
  {
    "text": "down in a log file but logs are also inherently multi-dimensional compared to",
    "start": "423969",
    "end": "431800"
  },
  {
    "text": "metrics if you if you collect metrics to gain an insight into infrastructure you normally have a number representing a",
    "start": "431800",
    "end": "439449"
  },
  {
    "text": "thing so CPU usage memory utilization disk i/o logs are multi-dimensional",
    "start": "439449",
    "end": "446500"
  },
  {
    "text": "because if you think about something really simple like a log line from a phone from some web server it usually",
    "start": "446500",
    "end": "453279"
  },
  {
    "text": "contains 7 8 9 10 different pieces of information within that log line the",
    "start": "453279",
    "end": "459460"
  },
  {
    "text": "request path status cooked bytes transferred response times perhaps even the user that was logged in doing this",
    "start": "459460",
    "end": "465729"
  },
  {
    "text": "so logs are an inherently multi-dimensional logs are also data",
    "start": "465729",
    "end": "474150"
  },
  {
    "text": "data can become knowledge if you treat it correctly knowledge can at some point",
    "start": "474150",
    "end": "480310"
  },
  {
    "text": "become inside and inside can provide a fair amount of context in terms of what",
    "start": "480310",
    "end": "487900"
  },
  {
    "text": "what is happening in your infrastructure what is happening in your application",
    "start": "487900",
    "end": "493139"
  },
  {
    "text": "so what what did we end up billing well we had we sat down around around a table",
    "start": "496610",
    "end": "505009"
  },
  {
    "text": "and draw some stuff on him and on the whiteboard and because we have we have",
    "start": "505009",
    "end": "510169"
  },
  {
    "text": "tried this a number of times I mean we have tried different solutions and all of them failed at some point due to",
    "start": "510169",
    "end": "516768"
  },
  {
    "text": "various constraints due to various things that we didn't even think would be would be interesting for us to look",
    "start": "516769",
    "end": "522529"
  },
  {
    "text": "at so if you look at the the purely technical requirements they were",
    "start": "522529",
    "end": "528290"
  },
  {
    "start": "525000",
    "end": "690000"
  },
  {
    "text": "actually pretty simple we needed something that could reliably ingest a",
    "start": "528290",
    "end": "533630"
  },
  {
    "text": "million events per second we needed something that could reliably ingest terabytes and terabytes of data",
    "start": "533630",
    "end": "540459"
  },
  {
    "text": "and they perhaps more interesting thing is we needed something that can work with an arbitrary amount of different",
    "start": "540459",
    "end": "546079"
  },
  {
    "text": "formats because we don't we don't control the format of the data that that",
    "start": "546079",
    "end": "551269"
  },
  {
    "text": "ends up being ingested into our system the architectural requirements were",
    "start": "551269",
    "end": "558200"
  },
  {
    "text": "actually a bit more interesting we wanted something that was reliable and",
    "start": "558200",
    "end": "563449"
  },
  {
    "text": "ops friendly because we had some bad experiences running a couple of the",
    "start": "563449",
    "end": "568490"
  },
  {
    "text": "previous systems that was something that was was really really interesting to us the entire pipeline was built and",
    "start": "568490",
    "end": "574399"
  },
  {
    "text": "maintained and run and operated by a very very small team so the less time we",
    "start": "574399",
    "end": "580070"
  },
  {
    "text": "spent fixing this the more time we can spend on our other duties and improving this little system we wanted to",
    "start": "580070",
    "end": "587180"
  },
  {
    "text": "encourage a high degree of decoupling make it as micro service architecture",
    "start": "587180",
    "end": "592370"
  },
  {
    "text": "like as possible because we would like to be able to grow change and devolve parts of this infrastructure",
    "start": "592370",
    "end": "598100"
  },
  {
    "text": "independently from each other we wanted to utilize modern development and",
    "start": "598100",
    "end": "604220"
  },
  {
    "text": "operations that strategies which might come as a bit of a shock given that I",
    "start": "604220",
    "end": "609230"
  },
  {
    "text": "come from from from the public sector that's not necessarily something most of you would would think of when you think",
    "start": "609230",
    "end": "614839"
  },
  {
    "text": "about a government entity and we actually wanted this thing to function as an asynchronous integration platform",
    "start": "614839",
    "end": "620870"
  },
  {
    "text": "so we essentially could take any form of input do something to it and throw it",
    "start": "620870",
    "end": "626600"
  },
  {
    "text": "into any kind of output so essentially what we ended up with is",
    "start": "626600",
    "end": "633279"
  },
  {
    "text": "a distributed stream processing platform for contaminants we needed it to be",
    "start": "633279",
    "end": "643930"
  },
  {
    "text": "optimized for high velocity and high volume we wanted the outcome of those",
    "start": "643930",
    "end": "649149"
  },
  {
    "text": "events to be optimized for certain analytics while allowing a high degree of variability in the input data we wanted",
    "start": "649149",
    "end": "655990"
  },
  {
    "text": "it to be resistant to failure but we also wanted it to encourage experimentation so that we could continue to evolve and play and and",
    "start": "655990",
    "end": "663490"
  },
  {
    "text": "figure out new interesting stuff that we can do with all of our data and we",
    "start": "663490",
    "end": "668920"
  },
  {
    "text": "wanted an architecture that allows us to change almost any component without having a major impact on the platform",
    "start": "668920",
    "end": "674019"
  },
  {
    "text": "itself and it needed to be somewhat easy to run and easy to scale so what what",
    "start": "674019",
    "end": "684550"
  },
  {
    "text": "did we couple together to build our little little little baby well if you if",
    "start": "684550",
    "end": "691870"
  },
  {
    "start": "690000",
    "end": "840000"
  },
  {
    "text": "you know about Kafka if you're perhaps even already using Kafka then you probably realize that that what I've",
    "start": "691870",
    "end": "697600"
  },
  {
    "text": "been talking about screams Kafka how many people here know what Kafka is how",
    "start": "697600",
    "end": "703269"
  },
  {
    "text": "many people run and operate Kafka on a daily basis for those of you that don't",
    "start": "703269",
    "end": "709209"
  },
  {
    "text": "I will give you a very very short breakthrough or breakdown of what what Kafka is all about Kafka is a an event",
    "start": "709209",
    "end": "717850"
  },
  {
    "text": "bus a messaging system that came out of LinkedIn a couple of years ago conceptually and Kafka notes Kafka",
    "start": "717850",
    "end": "725110"
  },
  {
    "text": "servers are called brokers you can have multiple brokers to form a Kafka cluster data that gets ingested into Kafka is",
    "start": "725110",
    "end": "732519"
  },
  {
    "text": "put into a topic you can think of a topic like like a database a topic is then split into a number of partitions",
    "start": "732519",
    "end": "738550"
  },
  {
    "text": "which are the actual files that end up being on disk and you have consumers that can read data out of Kafka topics",
    "start": "738550",
    "end": "746170"
  },
  {
    "text": "and you have producers that will actually produce data and push them in to counter the",
    "start": "746170",
    "end": "753780"
  },
  {
    "text": "Kefka can be a bit challenging if you can ecstatic with it but but I mean if it's getting better and better and",
    "start": "753780",
    "end": "760240"
  },
  {
    "text": "better with every release and they're adding more and more features that make it more and more office friendly so it's",
    "start": "760240",
    "end": "766450"
  },
  {
    "text": "it's actually been not as painful as you think",
    "start": "766450",
    "end": "771540"
  },
  {
    "text": "we always keep a number of days of our data inside Kafka Kafka can do and per",
    "start": "771540",
    "end": "780430"
  },
  {
    "text": "topic you can actually configure Kafka to say I want to store the last three hours the last seven days the last two weeks so everything that we ship from",
    "start": "780430",
    "end": "788320"
  },
  {
    "text": "our servers from our switches from our endpoints from various appliance boxes medical technical devices whatever you",
    "start": "788320",
    "end": "794440"
  },
  {
    "text": "could think of once it reaches Kafka it is persistent on disk meaning whatever",
    "start": "794440",
    "end": "800040"
  },
  {
    "text": "else happens to our system as long as Kafka is running and Kafka is happy we",
    "start": "800040",
    "end": "805060"
  },
  {
    "text": "can always recover the data because we have data in Kafka we can rerun some of",
    "start": "805060",
    "end": "814540"
  },
  {
    "text": "the stuff that we've written some of our services if we figure out we had in the regression if we want to play with new",
    "start": "814540",
    "end": "820300"
  },
  {
    "text": "algorithms then we can simply run our code and instruct the graphical consumer",
    "start": "820300",
    "end": "825460"
  },
  {
    "text": "client to start at the highest available or lowest available offset and it will actually read in a day a week a month of",
    "start": "825460",
    "end": "831970"
  },
  {
    "text": "production data so that the tests we are doing I actually done against real time a real live production data they the",
    "start": "831970",
    "end": "841210"
  },
  {
    "start": "840000",
    "end": "890000"
  },
  {
    "text": "theme that is has been has been evolving over the last year it's kind of this so",
    "start": "841210",
    "end": "846730"
  },
  {
    "text": "we have different producers pushing data into it into different topics we then",
    "start": "846730",
    "end": "853330"
  },
  {
    "text": "have a consumer group which is a group of Kafka consumers pulling data out of",
    "start": "853330",
    "end": "858640"
  },
  {
    "text": "the topic they do something with that data they then ingest that data into",
    "start": "858640",
    "end": "864400"
  },
  {
    "text": "another topic that get picks gets picked up by another consumer group that does",
    "start": "864400",
    "end": "869440"
  },
  {
    "text": "something and ingest it into a new topic and the list goes on and on and on and",
    "start": "869440",
    "end": "874840"
  },
  {
    "text": "on until we finally hit some form of destination where those logs are getting",
    "start": "874840",
    "end": "880300"
  },
  {
    "text": "shipped to the interesting part about this is",
    "start": "880300",
    "end": "886779"
  },
  {
    "text": "actually what's happening inside all of those consumer groups because what we ended up building is we wrote a number",
    "start": "886779",
    "end": "897220"
  },
  {
    "start": "890000",
    "end": "1050000"
  },
  {
    "text": "of small services that can work independently of each other and do",
    "start": "897220",
    "end": "902560"
  },
  {
    "text": "something to to all of the data currently we have 29 distinct services",
    "start": "902560",
    "end": "909310"
  },
  {
    "text": "that do distinct things to our logs and",
    "start": "909310",
    "end": "915790"
  },
  {
    "text": "the interesting thing about about micro services because again I'm not a developer but but looking back at the",
    "start": "915790",
    "end": "921069"
  },
  {
    "text": "history I kind of think micro service is a bit old I mean if you think about it",
    "start": "921069",
    "end": "926440"
  },
  {
    "text": "that command in itself could be interpreted to be a number of micro services working together to form a",
    "start": "926440",
    "end": "932380"
  },
  {
    "text": "function if you agree with a notion that you should write services that do one",
    "start": "932380",
    "end": "938050"
  },
  {
    "text": "thing and do one thing well and if you agree with the notion that you should wide services to work together and that",
    "start": "938050",
    "end": "946209"
  },
  {
    "text": "services should be exposed to a universal interface in this case tech streams you have actually just",
    "start": "946209",
    "end": "952720"
  },
  {
    "text": "acknowledged that micro services are dating back to the late 70s early 80s",
    "start": "952720",
    "end": "958029"
  },
  {
    "text": "when the UNIX philosophy was crystallized by Rob Pike and Bryan Cronin in a paper in 1984 which is kind",
    "start": "958029",
    "end": "966100"
  },
  {
    "text": "of interesting again we have 29 distinct services and I thought it would be",
    "start": "966100",
    "end": "971649"
  },
  {
    "text": "interesting to look into some of them to figure out what what are we doing to all of the data that comes in in a",
    "start": "971649",
    "end": "977560"
  },
  {
    "text": "never-ending stream of different formats we need to have some kind of event",
    "start": "977560",
    "end": "983079"
  },
  {
    "text": "passing and some kind of normalization so that data makes sense when it comes out the other end this particular",
    "start": "983079",
    "end": "992709"
  },
  {
    "text": "service is written in Ruby we utilize some of the same libraries that elastic",
    "start": "992709",
    "end": "998470"
  },
  {
    "text": "locks - does to support croc patterns to allow us to essentially not having to reinvent the wheel every single time",
    "start": "998470",
    "end": "1004709"
  },
  {
    "text": "because there are not a lot of interesting lock patterns out there for many of the normal lock formats that you",
    "start": "1004709",
    "end": "1011009"
  },
  {
    "text": "would see this essentially allows us to met a",
    "start": "1011009",
    "end": "1016579"
  },
  {
    "text": "number of passing rules to a given topic so every message that hits is this topic",
    "start": "1016579",
    "end": "1022819"
  },
  {
    "text": "or a topic is of the same kind and would be essentially passed in the same way we",
    "start": "1022819",
    "end": "1029720"
  },
  {
    "text": "do have a few conditionals in there to allow for small small variants in the actual incoming data and to look at okay",
    "start": "1029720",
    "end": "1036980"
  },
  {
    "text": "if we detect this string then run this passer if we detect this string run another possum but but essentially this",
    "start": "1036980",
    "end": "1042589"
  },
  {
    "text": "is step one everything in a lock gets gets broken down and converted to JSON",
    "start": "1042589",
    "end": "1049390"
  },
  {
    "text": "we do some interesting things if you see this this actually tells you when I when",
    "start": "1049390",
    "end": "1056360"
  },
  {
    "start": "1050000",
    "end": "1092000"
  },
  {
    "text": "I started writing much lines today excellent example this is a Cisco box",
    "start": "1056360",
    "end": "1064789"
  },
  {
    "text": "sending some obscure syslog format but with the right rules what comes out the other end makes a lot more sense you",
    "start": "1064789",
    "end": "1071960"
  },
  {
    "text": "could now break down connection IDs you can look at devices you can filter on Direction ports destinations which we",
    "start": "1071960",
    "end": "1081350"
  },
  {
    "text": "are if the traffic passed through you can do a lot of interesting stuff as soon as you start breaking them down into separate fields to do searching in",
    "start": "1081350",
    "end": "1087980"
  },
  {
    "text": "analytics what we figured out pretty",
    "start": "1087980",
    "end": "1094520"
  },
  {
    "start": "1092000",
    "end": "1185000"
  },
  {
    "text": "early in this process is that we we don't really want to mess too much with the original event format so we we",
    "start": "1094520",
    "end": "1102679"
  },
  {
    "text": "practice the not a second I wouldn't really call it non-intrusive but at the",
    "start": "1102679",
    "end": "1110240"
  },
  {
    "text": "little amount the smallest amount of intrusion that that we can get away with in essence you should always be able to",
    "start": "1110240",
    "end": "1115789"
  },
  {
    "text": "recognize the original format if you're used to looking at syslog events from a particular appliance box or a particular",
    "start": "1115789",
    "end": "1122360"
  },
  {
    "text": "network vendor or windows event logs you should always be able to recognize whatever you're seeing as such an event",
    "start": "1122360",
    "end": "1128140"
  },
  {
    "text": "but that also has some inherent problems because I think in our environment we",
    "start": "1128140",
    "end": "1133549"
  },
  {
    "text": "have twelve or thirteen different field names for fields that contain a source",
    "start": "1133549",
    "end": "1139280"
  },
  {
    "text": "IP address that gets really really complex because you have to keep all of",
    "start": "1139280",
    "end": "1144289"
  },
  {
    "text": "those rules in your head about how to structure your depending on whatever data said you're looking at so what we actually do is we",
    "start": "1144289",
    "end": "1151970"
  },
  {
    "text": "append a number of fields to each and every log that use the same notation the",
    "start": "1151970",
    "end": "1158520"
  },
  {
    "text": "same nomenclature so we always have source underscore IP regardless of what is in the original event format we",
    "start": "1158520",
    "end": "1164490"
  },
  {
    "text": "always have source host etc etc because that then allows us for easier searching once data comes out the other end and we",
    "start": "1164490",
    "end": "1173520"
  },
  {
    "text": "always keep a copy of the original event in a separate field and for various",
    "start": "1173520",
    "end": "1179790"
  },
  {
    "text": "reasons one of them is compliance the",
    "start": "1179790",
    "end": "1186750"
  },
  {
    "start": "1185000",
    "end": "1287000"
  },
  {
    "text": "next service that sounds a bit ridiculous is actually counting we count",
    "start": "1186750",
    "end": "1193770"
  },
  {
    "text": "the occurrence of everything you see every process every dll every user logon",
    "start": "1193770",
    "end": "1201440"
  },
  {
    "text": "every file hash every domain that gets visited every IP address gets counted",
    "start": "1201440",
    "end": "1207830"
  },
  {
    "text": "and that is actually a pretty interesting problem I've started rewriting this in C because I I don't",
    "start": "1207830",
    "end": "1215190"
  },
  {
    "text": "know I felt sorry for myself one day and wanted to be really really really make things even more difficult but the",
    "start": "1215190",
    "end": "1221640"
  },
  {
    "text": "interesting thing is distributed counting is an interesting problem we have a number of we have a consumer",
    "start": "1221640",
    "end": "1226740"
  },
  {
    "text": "group doing this meaning we have 10 15 20 30 100 different services or instead",
    "start": "1226740",
    "end": "1234450"
  },
  {
    "text": "instances of the same service doing counting and doing this reliably in a distributed way it makes it kind of",
    "start": "1234450",
    "end": "1240720"
  },
  {
    "text": "interesting once we have a count that",
    "start": "1240720",
    "end": "1245910"
  },
  {
    "text": "actually allows us to give some context to an event how many times have we seen this particular thing in our environment",
    "start": "1245910",
    "end": "1251880"
  },
  {
    "text": "if I'm looking at a process that gets executed 500,000 times in a week across",
    "start": "1251880",
    "end": "1257670"
  },
  {
    "text": "25,000 workstations that's probably ok if I see an executable executed on one",
    "start": "1257670",
    "end": "1264840"
  },
  {
    "text": "machine and that's the only time that I've seen it executable I start to get a bit curious about what what is going on",
    "start": "1264840",
    "end": "1271490"
  },
  {
    "text": "this also allows us to implement detection types such as first seemed",
    "start": "1271490",
    "end": "1276870"
  },
  {
    "text": "like the first time we see something in our environment a file hash an exception that is",
    "start": "1276870",
    "end": "1282780"
  },
  {
    "text": "inherently interesting to us lower",
    "start": "1282780",
    "end": "1288300"
  },
  {
    "text": "casing it's it's actually a bit hilarious but but we have a dedicated service doing nothing but lower casing",
    "start": "1288300",
    "end": "1294990"
  },
  {
    "text": "of the actual field names that you're seeing and for some event formats even the entire event again the backend that",
    "start": "1294990",
    "end": "1302610"
  },
  {
    "text": "we are using for for doing searching and discovery and analytics and stuff this case case-sensitive so sometimes you",
    "start": "1302610",
    "end": "1309240"
  },
  {
    "text": "miss stuff just because you forgot that there are some log formats somewhere that wrote something but a capital A if",
    "start": "1309240",
    "end": "1316170"
  },
  {
    "text": "it's the first letter in the event and this really really helps with search and",
    "start": "1316170",
    "end": "1321990"
  },
  {
    "text": "discovery and the analytics part of what it is we do DNS lookups we can we can",
    "start": "1321990",
    "end": "1332370"
  },
  {
    "start": "1327000",
    "end": "1381000"
  },
  {
    "text": "generate hundreds of thousands of DNS lookups and a lot of the event formats",
    "start": "1332370",
    "end": "1337680"
  },
  {
    "text": "that we're ingesting contain an IP address but not the actual name of the machine doing whatever it's doing and",
    "start": "1337680",
    "end": "1344730"
  },
  {
    "text": "that in our environment causes a problem because my work well laptop can have",
    "start": "1344730",
    "end": "1351060"
  },
  {
    "text": "four or five different IP addresses in a single workday wired Wireless different",
    "start": "1351060",
    "end": "1356640"
  },
  {
    "text": "locations I start early and work from home or I work late over VPN we need to",
    "start": "1356640",
    "end": "1363060"
  },
  {
    "text": "assign some common denominator and that usually tends to be the name of the machine so we have a pretty significant",
    "start": "1363060",
    "end": "1370080"
  },
  {
    "text": "part of our infrastructure doing nothing but caching dns lookups so that we don't we don't trash our our authority of DNS",
    "start": "1370080",
    "end": "1377010"
  },
  {
    "text": "servers with all of this entropy",
    "start": "1377010",
    "end": "1382740"
  },
  {
    "text": "calculation we have a service twin shannon entropy calculation to estimate",
    "start": "1382740",
    "end": "1388320"
  },
  {
    "text": "the average number of bits needed to encode a string of symbols this",
    "start": "1388320",
    "end": "1394260"
  },
  {
    "text": "essentially helps us to filter out names",
    "start": "1394260",
    "end": "1400460"
  },
  {
    "text": "strings that are inherently random in nature perfect for looking at something",
    "start": "1400460",
    "end": "1406470"
  },
  {
    "text": "like DNS locks for looking at process names to figure out the stuff that that kind of stands out compared to the rest",
    "start": "1406470",
    "end": "1413460"
  },
  {
    "text": "of the system we also do a fair amount of",
    "start": "1413460",
    "end": "1419020"
  },
  {
    "start": "1417000",
    "end": "1453000"
  },
  {
    "text": "vector selector lookups every time we see something that we can identify as a machine or as a user we look it up and",
    "start": "1419020",
    "end": "1426460"
  },
  {
    "text": "we amend a number of information to the event something like where does this",
    "start": "1426460",
    "end": "1434440"
  },
  {
    "text": "person work what's their actual title what do they do where is this particular machine located",
    "start": "1434440",
    "end": "1441900"
  },
  {
    "text": "for reasons that I will talk about in a minute we have 29 of those services like",
    "start": "1441900",
    "end": "1449530"
  },
  {
    "text": "the ones I just went through doing all kinds of interesting stuff and the",
    "start": "1449530",
    "end": "1454710"
  },
  {
    "text": "trickiest part of our entire infrastructure is actually this if we if",
    "start": "1454710",
    "end": "1460000"
  },
  {
    "text": "we if we need if we want to maintain velocity in terms of passing a million",
    "start": "1460000",
    "end": "1465520"
  },
  {
    "text": "events per second we can't really wait for external connections stuff just dies",
    "start": "1465520",
    "end": "1472290"
  },
  {
    "text": "we can also kill read as instances in the blink of an eye so we need to be",
    "start": "1472290",
    "end": "1477700"
  },
  {
    "text": "really pretty clever about how many instances rerun here we run them how we shot the data over them because it can",
    "start": "1477700",
    "end": "1485830"
  },
  {
    "text": "it can be quite complicated actually but this is essentially what helps us to maintain a high velocity in orangist",
    "start": "1485830",
    "end": "1492640"
  },
  {
    "text": "rates and then there's this little gem I",
    "start": "1492640",
    "end": "1498450"
  },
  {
    "start": "1495000",
    "end": "1531000"
  },
  {
    "text": "mean it there is a reason for for me",
    "start": "1498450",
    "end": "1503800"
  },
  {
    "text": "losing my hair and this is actually one of them time formats are probably the",
    "start": "1503800",
    "end": "1509260"
  },
  {
    "text": "thing that that has caused the most amount of frustration when you're talking log management I mean come on",
    "start": "1509260",
    "end": "1514630"
  },
  {
    "text": "the number of hundred nano second intervals since January 1st 1601 UTC why",
    "start": "1514630",
    "end": "1521340"
  },
  {
    "text": "why Microsoft was it necessary to invent yet another timestamp format I mean it",
    "start": "1521340",
    "end": "1527890"
  },
  {
    "text": "just doesn't make any sense at all essentially what all this ends up with",
    "start": "1527890",
    "end": "1535270"
  },
  {
    "start": "1531000",
    "end": "1690000"
  },
  {
    "text": "is we built a multi-dimensional data model that lets us inspect and look and",
    "start": "1535270",
    "end": "1541840"
  },
  {
    "text": "correlate data and basically on a number of different angles",
    "start": "1541840",
    "end": "1547010"
  },
  {
    "text": "assumptions we can look at process execution by title like this is the use",
    "start": "1547010",
    "end": "1552950"
  },
  {
    "text": "of this application is this process normal foreigners working in an intensive care unit yes or no we can do",
    "start": "1552950",
    "end": "1560870"
  },
  {
    "text": "a lot of really really interesting things because we have added a lot of metadata and every layer in our matrix",
    "start": "1560870",
    "end": "1567860"
  },
  {
    "text": "becomes another opportunity for understanding and doing detection and doing all kinds of interesting things if",
    "start": "1567860",
    "end": "1574850"
  },
  {
    "text": "you remember the the architecture slide we talked about being being modern and being ops friendly the team that builds",
    "start": "1574850",
    "end": "1582980"
  },
  {
    "text": "runs maintains this is three and three and a half three and half people and they have a lot of other stuff that they",
    "start": "1582980",
    "end": "1589910"
  },
  {
    "text": "need to do besides doing that so we we decided to go all in and everything in",
    "start": "1589910",
    "end": "1596270"
  },
  {
    "text": "our infrastructure that runs and facilitates this this our little application is actually running",
    "start": "1596270",
    "end": "1602210"
  },
  {
    "text": "containers even though many of the people that are working on this our",
    "start": "1602210",
    "end": "1608000"
  },
  {
    "text": "system administrators security people we try to embrace continuous improvement",
    "start": "1608000",
    "end": "1613370"
  },
  {
    "text": "continuous delivery and and a lot of the other stuff that makes application work",
    "start": "1613370",
    "end": "1618440"
  },
  {
    "text": "interesting nowadays in our particular case we want docker containers we have a",
    "start": "1618440",
    "end": "1624020"
  },
  {
    "text": "github instance where all of our code gets gets gets gets stored we have an",
    "start": "1624020",
    "end": "1629030"
  },
  {
    "text": "image registry we have a built pipeline that that actually ends up deploying our",
    "start": "1629030",
    "end": "1634880"
  },
  {
    "text": "images to production so we can move fast and be relatively safe as we don't go",
    "start": "1634880",
    "end": "1640670"
  },
  {
    "text": "breaking things and we actually have a bit of code that we have written ourselves because we have a scheduler",
    "start": "1640670",
    "end": "1647030"
  },
  {
    "text": "for our consumer groups that I wrote in in Ruby that allows us to introspect the",
    "start": "1647030",
    "end": "1654290"
  },
  {
    "text": "consumer lag in Kafka and scale the number of consumers up and down accordingly and hopefully I'll finish",
    "start": "1654290",
    "end": "1662350"
  },
  {
    "text": "writing the next part of this which will actually allow us to manage Kafka partitions so the amount of petitions",
    "start": "1662350",
    "end": "1670940"
  },
  {
    "text": "the topic has is basically the amount of concurrent reads it can support and it doesn't really do you any good to scale",
    "start": "1670940",
    "end": "1677270"
  },
  {
    "text": "the num number of of Khafre consumers if you're not also scaling the number of petitions but",
    "start": "1677270",
    "end": "1683600"
  },
  {
    "text": "that's that's a tricky problem and we haven't have time to fix it",
    "start": "1683600",
    "end": "1689950"
  },
  {
    "text": "we embrace kind of the DevOps methodologies so we I mean plan code",
    "start": "1689950",
    "end": "1697310"
  },
  {
    "start": "1690000",
    "end": "1737000"
  },
  {
    "text": "build test Willy's deploy operate monitor should and shouldn't be of any surprise to any of you but it is",
    "start": "1697310",
    "end": "1703400"
  },
  {
    "text": "interesting once you start doing this in a very very traditional organization",
    "start": "1703400",
    "end": "1708580"
  },
  {
    "text": "like where do you where do you do our C's in there I mean how do you integrate",
    "start": "1708580",
    "end": "1714760"
  },
  {
    "text": "isolate processes against something like this that's the thing some of the things",
    "start": "1714760",
    "end": "1721760"
  },
  {
    "text": "that that make this really really really interesting from an organizational point of view because you start challenging a",
    "start": "1721760",
    "end": "1726860"
  },
  {
    "text": "number of constructs and concepts and processes and that that would otherwise",
    "start": "1726860",
    "end": "1732980"
  },
  {
    "text": "would simply disallow you to run stuff like this when data comes out the other",
    "start": "1732980",
    "end": "1739520"
  },
  {
    "start": "1737000",
    "end": "1840000"
  },
  {
    "text": "end we pump it into homeo which is a pretty nifty lock management platform that is",
    "start": "1739520",
    "end": "1746600"
  },
  {
    "text": "developed here in Denver and we use it for basically anything search discovery",
    "start": "1746600",
    "end": "1753560"
  },
  {
    "text": "archiving storage visualization alerting everything we do has homeo at its core",
    "start": "1753560",
    "end": "1763510"
  },
  {
    "text": "so when Kafka is the backbone of this application and our micro services of a",
    "start": "1763510",
    "end": "1769850"
  },
  {
    "text": "central nervous system homeo is kind of the beating out that's all main the main user into action towards the system we",
    "start": "1769850",
    "end": "1777620"
  },
  {
    "text": "will end up having 150 200 users once we have finished our migration process and",
    "start": "1777620",
    "end": "1783460"
  },
  {
    "text": "the security crew the operations team alone generates something in the order of three and a half to four thousand",
    "start": "1783460",
    "end": "1789560"
  },
  {
    "text": "queries the week so it's it's it's pretty substantial for for our security",
    "start": "1789560",
    "end": "1797660"
  },
  {
    "text": "for operation teams we're looking into how we can make it compliant with the",
    "start": "1797660",
    "end": "1804890"
  },
  {
    "text": "different legislative comply requirements so that we can actually store some of our most sensitive data in",
    "start": "1804890",
    "end": "1811070"
  },
  {
    "text": "there that's going work that that hopefully looks like it's not not not such a big issue",
    "start": "1811070",
    "end": "1816700"
  },
  {
    "text": "as you noticed trending has little estwick sides it because I don't think that the hall ventus code has actually",
    "start": "1816700",
    "end": "1822080"
  },
  {
    "text": "been been released to the public but there is something coming in terms of doing forecasting which is really",
    "start": "1822080",
    "end": "1827570"
  },
  {
    "text": "interesting and I think we have succeeded 250 300 different alerts that we run",
    "start": "1827570",
    "end": "1835310"
  },
  {
    "text": "just on top of all of it that nice data I mean it's great we have a lot of",
    "start": "1835310",
    "end": "1843320"
  },
  {
    "start": "1840000",
    "end": "1977000"
  },
  {
    "text": "events we have structured them we have normalized them we have added a lot of meaning to them but what do we actually",
    "start": "1843320",
    "end": "1848930"
  },
  {
    "text": "use them for again we have an enormous",
    "start": "1848930",
    "end": "1855020"
  },
  {
    "text": "amount of stuff logs everywhere and I",
    "start": "1855020",
    "end": "1862790"
  },
  {
    "text": "would I would like to at least showcase two very different examples of what you",
    "start": "1862790",
    "end": "1868760"
  },
  {
    "text": "can do with data like this one of them is is actually using logs for behavioral",
    "start": "1868760",
    "end": "1876470"
  },
  {
    "text": "detection behavioral detection of malicious unwanted activity inside your infrastructure we run a pretty",
    "start": "1876470",
    "end": "1884720"
  },
  {
    "text": "substantial deployment of bro-bro is a network security monitoring system that",
    "start": "1884720",
    "end": "1891530"
  },
  {
    "text": "is written in grow the language how many of you are familiar with bro or bro the language yeah my team the interesting",
    "start": "1891530",
    "end": "1901760"
  },
  {
    "text": "thing is bro is actually a turing-complete language that uses an event based programming mode it has a lot of domain-specific data types like",
    "start": "1901760",
    "end": "1908300"
  },
  {
    "text": "IP addresses and ports and extensive support for tracking and managing network state over time the interesting",
    "start": "1908300",
    "end": "1914510"
  },
  {
    "text": "thing about bro compared to other intrusion detection systems is bro has no notion of good or evil",
    "start": "1914510",
    "end": "1920830"
  },
  {
    "text": "bro just reports what it has seen on the network bro supports a ton of different",
    "start": "1920830",
    "end": "1928340"
  },
  {
    "text": "analyzers so what bro basically does is it detects connections it detects the protocols that are being spoken of those",
    "start": "1928340",
    "end": "1934790"
  },
  {
    "text": "connections and then it runs protocol analyzers to basically tell you what this protocol is doing so it's as if",
    "start": "1934790",
    "end": "1942650"
  },
  {
    "text": "it's a DNS request you get a connection log saying somebody connected UDP port 5-3 on some",
    "start": "1942650",
    "end": "1948590"
  },
  {
    "text": "machine but you can also see what was the actual query and what was the",
    "start": "1948590",
    "end": "1953600"
  },
  {
    "text": "response to that crew that all gets locked in some pretty nifty text files that are interlinked which make them",
    "start": "1953600",
    "end": "1959330"
  },
  {
    "text": "pretty interesting to use the interesting protocol for for any",
    "start": "1959330",
    "end": "1965300"
  },
  {
    "text": "organization would be SMB serve a messaging block which is one of the core protocols in Windows operating system in",
    "start": "1965300",
    "end": "1971240"
  },
  {
    "text": "Windows networks a lot of stuff happens over SMB besides sharing files and",
    "start": "1971240",
    "end": "1976370"
  },
  {
    "text": "Printers and we have we have a particular use case that I think was a little bit interesting because let's",
    "start": "1976370",
    "end": "1983090"
  },
  {
    "start": "1977000",
    "end": "1997000"
  },
  {
    "text": "let's assume that that we would like to detect ransomware most people in this room should be familiar or at least a",
    "start": "1983090",
    "end": "1989090"
  },
  {
    "text": "programmer some of you perhaps work in organizations that have been exposed to ransomware it's a very very annoying",
    "start": "1989090",
    "end": "1995450"
  },
  {
    "text": "problem when we start to talk about about detection there is there is David",
    "start": "1995450",
    "end": "2001930"
  },
  {
    "start": "1997000",
    "end": "2039000"
  },
  {
    "text": "Bianca's pyramid of pain which the higher you move into the top of the of",
    "start": "2001930",
    "end": "2008200"
  },
  {
    "text": "the higher you moving the permit the more tricky things get for an adversary",
    "start": "2008200",
    "end": "2013990"
  },
  {
    "text": "it is really easy to change hash values it's really easy to modify a document or",
    "start": "2013990",
    "end": "2019900"
  },
  {
    "text": "file and make it produce a different hash it's also really easy for them to switch their attack infrastructure to",
    "start": "2019900",
    "end": "2026830"
  },
  {
    "text": "using a different number of IPs different domain names etc etc what is really really tricky for them is to",
    "start": "2026830",
    "end": "2033790"
  },
  {
    "text": "change the way their malware operates if",
    "start": "2033790",
    "end": "2040390"
  },
  {
    "text": "we look into some of the into the data that that bro can provide this is a",
    "start": "2040390",
    "end": "2046510"
  },
  {
    "text": "pretty good example which is actually wrong a raw block we have done nothing to it where you can see the actual this",
    "start": "2046510",
    "end": "2053110"
  },
  {
    "text": "is a rename event somebody renamed the file where you can see the name of the",
    "start": "2053110",
    "end": "2059110"
  },
  {
    "text": "file the previous name of the file you can see IP addresses ports etc etc the interesting thing is you can now start",
    "start": "2059110",
    "end": "2065919"
  },
  {
    "text": "to track different SMB events such as file open file read file write for",
    "start": "2065919",
    "end": "2071800"
  },
  {
    "text": "rename delete etc per IP address over time",
    "start": "2071800",
    "end": "2077790"
  },
  {
    "text": "when somewhere has some duties to perform I mean it has to encrypt the",
    "start": "2078290",
    "end": "2084148"
  },
  {
    "text": "content of the file meaning it has to read some files and says it has to delete some files just to change the",
    "start": "2084149",
    "end": "2089339"
  },
  {
    "text": "file content simply by looking at the rate and volume of those different operations and comparing it to a normal",
    "start": "2089339",
    "end": "2095849"
  },
  {
    "text": "baseline is something that you can start doing detection on there are also be lots of false positives like people",
    "start": "2095849",
    "end": "2102000"
  },
  {
    "text": "starting robocopy or copying stuff around or copying their holiday images to whatever file share but essentially",
    "start": "2102000",
    "end": "2109579"
  },
  {
    "text": "it is it is possible already using this single log file the lead example where",
    "start": "2109579",
    "end": "2116730"
  },
  {
    "text": "you can start looking at and this is probably even more useful because not many people go around deleting messes volumes of data but that's typically",
    "start": "2116730",
    "end": "2124589"
  },
  {
    "text": "something you would see in that summer another interesting thing is you can see the actual file name so if you really",
    "start": "2124589",
    "end": "2131160"
  },
  {
    "text": "want to move into the typical signature based detection thing you could probably",
    "start": "2131160",
    "end": "2136230"
  },
  {
    "text": "feed in a list of known file types most ransomware families have a number of file types that they use when they start",
    "start": "2136230",
    "end": "2142470"
  },
  {
    "text": "renaming the can cryptid content and you can start detecting based upon that but",
    "start": "2142470",
    "end": "2147540"
  },
  {
    "text": "what's even more cool is bro has entire file analytics framework build in so we",
    "start": "2147540",
    "end": "2153960"
  },
  {
    "text": "can pull out files out of the network traffic submit them for sandbox analysis",
    "start": "2153960",
    "end": "2158970"
  },
  {
    "text": "but Brod does entropy inspection so broken actually helped us decipher how",
    "start": "2158970",
    "end": "2164849"
  },
  {
    "text": "random is the content of the file that's being written if you start tracking that over time you can then compare this and",
    "start": "2164849",
    "end": "2171540"
  },
  {
    "text": "say this word document that's being written has a very very different entropy profile to the other Word",
    "start": "2171540",
    "end": "2178109"
  },
  {
    "text": "documents that we normally see in our environment and by combining the different data types different methods",
    "start": "2178109",
    "end": "2184290"
  },
  {
    "text": "different queries you can actually respond pretty quickly to something that",
    "start": "2184290",
    "end": "2189569"
  },
  {
    "text": "isn't affected by rain summer by looking at behavior and behavior",
    "start": "2189569",
    "end": "2196609"
  },
  {
    "start": "2198000",
    "end": "2346000"
  },
  {
    "text": "another thing that I find very interesting and we are kind of back to the using logs to manage your complexity",
    "start": "2199280",
    "end": "2205050"
  },
  {
    "text": "thing is you can actually use logs to discover relationships most of the logs",
    "start": "2205050",
    "end": "2210630"
  },
  {
    "text": "that your applications your infrastructure your servers you whatever generates has some kind of notion about",
    "start": "2210630",
    "end": "2216660"
  },
  {
    "text": "who is talking to what or who is talking to whom and by modeling that you can",
    "start": "2216660",
    "end": "2222420"
  },
  {
    "text": "essentially create a graph of your entire infrastructure and of all the interactions within your infrastructure",
    "start": "2222420",
    "end": "2230420"
  },
  {
    "text": "one of the examples that we've built is using graph theory to answer a number of",
    "start": "2230420",
    "end": "2237420"
  },
  {
    "text": "interesting questions we run a over a thousand different",
    "start": "2237420",
    "end": "2244050"
  },
  {
    "text": "applications that can be anything from a small standalone desktop app to pretty",
    "start": "2244050",
    "end": "2250170"
  },
  {
    "text": "substantial information systems about patients and treatments and all kinds of other stuff and we can't remember every",
    "start": "2250170",
    "end": "2257339"
  },
  {
    "text": "one of them from the top of our head so if we if if I have to work with within a",
    "start": "2257339",
    "end": "2263280"
  },
  {
    "text": "specific system wouldn't be great if I could figure out how this thing operates you can actually do that by feeding the",
    "start": "2263280",
    "end": "2270000"
  },
  {
    "text": "right logs into something like new Forte so you can look at this machine the",
    "start": "2270000",
    "end": "2276210"
  },
  {
    "text": "clients connect to this web front-end server this web front-end server talks to the database and that database",
    "start": "2276210",
    "end": "2281849"
  },
  {
    "text": "actually also archives files to that file share which is inherently useful because you kind of create a",
    "start": "2281849",
    "end": "2287609"
  },
  {
    "text": "self-documenting infrastructure you could then start to look at what impact",
    "start": "2287609",
    "end": "2293069"
  },
  {
    "text": "do actual changes to infrastructure have how many people here are developers how",
    "start": "2293069",
    "end": "2298890"
  },
  {
    "text": "many people here do micro service based architectures how many of you actually",
    "start": "2298890",
    "end": "2306750"
  },
  {
    "text": "know exactly the number of upstream and downstream services that are dependent on your code this is one of the things",
    "start": "2306750",
    "end": "2317490"
  },
  {
    "text": "where where graphs actually can help because you can model the entire dependency chain across your distributed",
    "start": "2317490",
    "end": "2324329"
  },
  {
    "text": "application by using the logs that already exists and it doesn't have to be as hot if you look at something like new",
    "start": "2324329",
    "end": "2331380"
  },
  {
    "text": "4j it is it is inherently easy to express some of those changes and what you end",
    "start": "2331380",
    "end": "2337880"
  },
  {
    "text": "up with is something pretty that can be inherently useful this is kind of the",
    "start": "2337880",
    "end": "2347780"
  },
  {
    "start": "2346000",
    "end": "2422000"
  },
  {
    "text": "current state of affairs this is what we have been been spending I don't know a year on because we have a lot of other",
    "start": "2347780",
    "end": "2354080"
  },
  {
    "text": "stuff that we have to do also and if we look into what what will most likely be",
    "start": "2354080",
    "end": "2359900"
  },
  {
    "text": "tackling in the future we will expand our usage of of Kafka we have run some",
    "start": "2359900",
    "end": "2367790"
  },
  {
    "text": "interesting experiments around K streams and K tables by manipulating the actual",
    "start": "2367790",
    "end": "2373640"
  },
  {
    "text": "partitioning keys that data gets partitioned over we will most likely be",
    "start": "2373640",
    "end": "2378860"
  },
  {
    "text": "able to join disparate sources of data and key them on a common field like",
    "start": "2378860",
    "end": "2384520"
  },
  {
    "text": "getting an event stream for everything that a specific user or machine or",
    "start": "2384520",
    "end": "2390110"
  },
  {
    "text": "service application has done despite where that log those logs are coming from and we can then turn this into a",
    "start": "2390110",
    "end": "2396290"
  },
  {
    "text": "table to obtain a real-time view essentially a aggregated materialized",
    "start": "2396290",
    "end": "2402530"
  },
  {
    "text": "view that we can update every 10 minutes 15 minutes 30 minutes that can help us to manage some of all of our data and",
    "start": "2402530",
    "end": "2408520"
  },
  {
    "text": "exposing the new k sequel interface so that some of the people that are perhaps not as used to some of those technology",
    "start": "2408520",
    "end": "2415400"
  },
  {
    "text": "can actually work with some of that data using something they're familiar with like NC sequel and we will probably also",
    "start": "2415400",
    "end": "2424370"
  },
  {
    "start": "2422000",
    "end": "2467000"
  },
  {
    "text": "start to look a bit into machine learning we build a highly highly",
    "start": "2424370",
    "end": "2431450"
  },
  {
    "text": "multi-dimensional data model and there are some algorithms that are very very",
    "start": "2431450",
    "end": "2437270"
  },
  {
    "text": "good in terms of working with that something like k-means which is inherently useful when it's talking",
    "start": "2437270",
    "end": "2442940"
  },
  {
    "text": "multi-dimensional data models and that can potentially help off with doing",
    "start": "2442940",
    "end": "2448190"
  },
  {
    "text": "outlier detection and other interesting stuff ai is not something we've dabbled with because that machine learning is where",
    "start": "2448190",
    "end": "2455390"
  },
  {
    "text": "we kind of draw the line that's what what what beyond that it is something",
    "start": "2455390",
    "end": "2460700"
  },
  {
    "text": "that is that that's not really territory that we would like to venture and because we really have no idea what we'd be doing",
    "start": "2460700",
    "end": "2467350"
  },
  {
    "start": "2467000",
    "end": "2573000"
  },
  {
    "text": "that's essentially all I had and I'm I",
    "start": "2467720",
    "end": "2473490"
  },
  {
    "text": "hope it was useful I hope it was interesting are there any questions you have Mike there's one question here",
    "start": "2473490",
    "end": "2480180"
  },
  {
    "text": "through the app so have you made any considerations concerning the",
    "start": "2480180",
    "end": "2485430"
  },
  {
    "text": "forthcoming gdpr that's the general data protection regulation yes we have for",
    "start": "2485430",
    "end": "2492270"
  },
  {
    "text": "organizations such as ours that's actually a really really big problem because PII and pH I is pretty much",
    "start": "2492270",
    "end": "2498960"
  },
  {
    "text": "everything we touch isn't that category and this is also why we have decided to",
    "start": "2498960",
    "end": "2505290"
  },
  {
    "text": "keep all of this on print so nothing ever leaves our infrastructure it runs",
    "start": "2505290",
    "end": "2510420"
  },
  {
    "text": "on the dedicated infrastructure that is only accessible by very very few people",
    "start": "2510420",
    "end": "2515580"
  },
  {
    "text": "in our organization we have made sure that everything we do has an audit log even if every query inside whom you",
    "start": "2515580",
    "end": "2524040"
  },
  {
    "text": "actually get locked so we have a separate organizational role that can go",
    "start": "2524040",
    "end": "2529200"
  },
  {
    "text": "in and figure out who has accessed what data and for what purpose and we are working with them at the",
    "start": "2529200",
    "end": "2535950"
  },
  {
    "text": "moment to make sure that even the data on this is something that that it can't really easily be compromised so even I",
    "start": "2535950",
    "end": "2542550"
  },
  {
    "text": "as an administrator I can't SSH into that thing and then starting leading some of the queries that I generated but",
    "start": "2542550",
    "end": "2550290"
  },
  {
    "text": "because we run it on Prem because we have a very very limited exposure because there is a permission model that controls exactly who can see what data",
    "start": "2550290",
    "end": "2557610"
  },
  {
    "text": "many of the GDP our issues are actually not such an headache for us thank you",
    "start": "2557610",
    "end": "2564770"
  },
  {
    "text": "any questions from the audience",
    "start": "2564770",
    "end": "2568550"
  },
  {
    "text": "I how do you handle a sensitive data",
    "start": "2571000",
    "end": "2576730"
  },
  {
    "start": "2573000",
    "end": "2734000"
  },
  {
    "text": "type we thing looks how we handle sensitive data do you mask it or and we",
    "start": "2576730",
    "end": "2584410"
  },
  {
    "text": "have certain we have certain we have certain types of data that we run anonymizes over we also make sure that",
    "start": "2584410",
    "end": "2593220"
  },
  {
    "text": "data that contains sensitive material is removed within the required time frame because we can actually store some of",
    "start": "2593220",
    "end": "2600040"
  },
  {
    "text": "this for a shorter time in terms of debugging and other stuff so there are a",
    "start": "2600040",
    "end": "2605200"
  },
  {
    "text": "number of guidelines that we do but we would actually rather remove data than a normalized data because one of the most",
    "start": "2605200",
    "end": "2611410"
  },
  {
    "text": "of the key fields that we use for analysis are the features that we need to analyze so that it doesn't make that",
    "start": "2611410",
    "end": "2618970"
  },
  {
    "text": "much and then we'd rather expire data and say okay if you only can keep it for a week we only keep it for week okay so",
    "start": "2618970",
    "end": "2624700"
  },
  {
    "text": "you haven't haven't a need for encrypts on our opening that incur up some tea",
    "start": "2624700",
    "end": "2631860"
  },
  {
    "text": "mainly this is about infrastructure log security logs and helping to find falls",
    "start": "2631860",
    "end": "2638050"
  },
  {
    "text": "in different devices and appliances and all that stuff we the next the next",
    "start": "2638050",
    "end": "2644350"
  },
  {
    "text": "giant leap will be offering this to our business as a service so going out to the clinicians going out to the people",
    "start": "2644350",
    "end": "2650170"
  },
  {
    "text": "running the applications and having a discussion of both of them about how we can help them achieve some of the I mean",
    "start": "2650170",
    "end": "2655810"
  },
  {
    "text": "even some of the GDP are things around that you actually have to document that you check the access logs for your",
    "start": "2655810",
    "end": "2662260"
  },
  {
    "text": "application and stuff like that where we are in a unique position to offer a shared service that can help with that but it's only then when we start to hit",
    "start": "2662260",
    "end": "2669700"
  },
  {
    "text": "the the tricky issues okay I have another question as well how long you",
    "start": "2669700",
    "end": "2675460"
  },
  {
    "text": "have been doing this you said that you have 29 different micro services we",
    "start": "2675460",
    "end": "2681790"
  },
  {
    "text": "started this journey I think a year year and a half ago when we started feeling the growing pain and some of the",
    "start": "2681790",
    "end": "2688620"
  },
  {
    "text": "constraints of the trade offs we made with the previous iteration of this system we started looking at how can we",
    "start": "2688620",
    "end": "2694930"
  },
  {
    "text": "do this better how can we do this smarter and how can we solve some of our problems and I bet you that in a month",
    "start": "2694930",
    "end": "2701020"
  },
  {
    "text": "in two months and three months from now this is we'll have changed in some way and that's an inherent thing that we built",
    "start": "2701020",
    "end": "2708070"
  },
  {
    "text": "into the system is the ability to change to grow to learn to fail to relearn and",
    "start": "2708070",
    "end": "2714880"
  },
  {
    "text": "to do other interesting things that can helpfully achieve helped us achieve our goals okay thanks",
    "start": "2714880",
    "end": "2723299"
  },
  {
    "text": "any more questions costs",
    "start": "2723630",
    "end": "2730260"
  },
  {
    "start": "2734000",
    "end": "2835000"
  },
  {
    "text": "we spend taxpayer money so our our foremost obligation is to make sure that",
    "start": "2734190",
    "end": "2742270"
  },
  {
    "text": "we spend taxpayer money correctly the majority of the stuff that I've been",
    "start": "2742270",
    "end": "2747520"
  },
  {
    "text": "talking about is actually open source it's either open source or it's something that we developed it was a",
    "start": "2747520",
    "end": "2753549"
  },
  {
    "text": "conscious choice even though we have an operating budget of 24 point 1 billion the majority of that goes into",
    "start": "2753549",
    "end": "2760359"
  },
  {
    "text": "healthcare and even even if we could go out and buy a support contract for something like Kafka and we are under",
    "start": "2760359",
    "end": "2768220"
  },
  {
    "text": "some very very interesting purchasing rules as a public sector entity and we kind of want the core of this system to",
    "start": "2768220",
    "end": "2774640"
  },
  {
    "text": "be free we wanted something that that even if we have to do a public tender",
    "start": "2774640",
    "end": "2780190"
  },
  {
    "text": "and somebody else wins a bit we can change different parts of infrastructure without changing the core of it every",
    "start": "2780190",
    "end": "2787299"
  },
  {
    "text": "single time imagine if you need to do a public tender if you have somebody coming in and underpinning the",
    "start": "2787299",
    "end": "2793119"
  },
  {
    "text": "competition and you every 3 or 4 years have to enchained the entire system you have to port all of the rules all of the",
    "start": "2793119",
    "end": "2799990"
  },
  {
    "text": "alerts it gets really really cumbersome and the stuff that we are paying for is",
    "start": "2799990",
    "end": "2808540"
  },
  {
    "text": "some of the stuff that we simply couldn't do better ourselves so we have some some endpoint telemetry sensors on",
    "start": "2808540",
    "end": "2814450"
  },
  {
    "text": "our workstations that log all the DLL loadings process executions registry riots faster getting access to all that",
    "start": "2814450",
    "end": "2820930"
  },
  {
    "text": "stuff and we have Fumio and both of those are actually a lot less expensive than youth and you would think it was it",
    "start": "2820930",
    "end": "2830490"
  },
  {
    "text": "politically enough answered any more",
    "start": "2830490",
    "end": "2835720"
  },
  {
    "start": "2835000",
    "end": "3015000"
  },
  {
    "text": "questions what was the major driver to move from elasticsearch to whom you that's an",
    "start": "2835720",
    "end": "2842109"
  },
  {
    "text": "interesting question over here like like",
    "start": "2842109",
    "end": "2849520"
  },
  {
    "text": "I said we have been we've been running elastic for four five six we still run elastic I mean we still have parts of",
    "start": "2849520",
    "end": "2855400"
  },
  {
    "text": "our world infrastructure that we have moved into this pipeline yet because we have actually 100 150 people doing",
    "start": "2855400",
    "end": "2862180"
  },
  {
    "text": "service that's work that use the system every day to figure out why the hell somebody's account gets keeps getting locked out those people",
    "start": "2862180",
    "end": "2869380"
  },
  {
    "text": "need to be retrained we need to get them into the new system those operations take time essentially we move from locks",
    "start": "2869380",
    "end": "2876100"
  },
  {
    "text": "- to Greylock in 2013 because locks that has some inherent issues around",
    "start": "2876100",
    "end": "2882930"
  },
  {
    "text": "availability there is no read wasn't really no way to introspect the system to figure out what the hell was going on",
    "start": "2882930",
    "end": "2889030"
  },
  {
    "text": "it keeps failing and keeps throwing away data through place blocks - with great lock and we've spent we spend more time",
    "start": "2889030",
    "end": "2897190"
  },
  {
    "text": "managing elastic over the last year then developing this entire pipeline when you",
    "start": "2897190",
    "end": "2904210"
  },
  {
    "text": "start when you start to move into the realm where you have racks of elastic servers you often also need people that",
    "start": "2904210",
    "end": "2910330"
  },
  {
    "text": "are trained to handle that system if elastic is part of the application already I mean if you use it for low",
    "start": "2910330",
    "end": "2916600"
  },
  {
    "text": "latency search for something else then you probably have people who have a good idea about how that thing works but for",
    "start": "2916600",
    "end": "2922930"
  },
  {
    "text": "a logging specific purpose it was it was simply because of stuff that I could do",
    "start": "2922930",
    "end": "2928330"
  },
  {
    "text": "too much because we inherent we inherit all of the complexity because elastic can be used for anything from doing logs",
    "start": "2928330",
    "end": "2935860"
  },
  {
    "text": "to chasing Ebola outbreaks in Africa the other of the third thing that made us",
    "start": "2935860",
    "end": "2941920"
  },
  {
    "text": "change was the inherent trade-off in most of this system the most of the most of the system that that we look at in",
    "start": "2941920",
    "end": "2948760"
  },
  {
    "text": "terms of velocity and volume most always",
    "start": "2948760",
    "end": "2956590"
  },
  {
    "text": "centered around the notion of are you doing schema on Rideau scheming right in our elastic cluster and 80% of the",
    "start": "2956590",
    "end": "2963250"
  },
  {
    "text": "resources are being spent by maintaining indexes for search who Mayo has a rather",
    "start": "2963250",
    "end": "2969130"
  },
  {
    "text": "different approach because they don't do much indexing they do brute force searching this allows us to have a",
    "start": "2969130",
    "end": "2975220"
  },
  {
    "text": "relatively small amount of resources that can ingest even more data than our",
    "start": "2975220",
    "end": "2980530"
  },
  {
    "text": "gigantic three react elastic installation I mean the switch alone I think we saved something like a hundred",
    "start": "2980530",
    "end": "2987370"
  },
  {
    "text": "thousand euros in hardware and licenses and stuff by making that switch so for",
    "start": "2987370",
    "end": "2993370"
  },
  {
    "text": "us and for our specific use case it was the right choice elastic is a great product I like what",
    "start": "2993370",
    "end": "3000630"
  },
  {
    "text": "they're doing but it just wasn't the right choice for us Thank You hammering unfortunate I",
    "start": "3000630",
    "end": "3006999"
  },
  {
    "text": "think we're off this time now so yeah thank you very much for listening [Applause]",
    "start": "3006999",
    "end": "3017000"
  }
]