[
  {
    "text": "okay i'm going to talk about bottleneck",
    "start": "799",
    "end": "2240"
  },
  {
    "text": "analysis",
    "start": "2240",
    "end": "3040"
  },
  {
    "text": "and i'm talking about a very important",
    "start": "3040",
    "end": "4560"
  },
  {
    "text": "aspect of bottleneck analysis",
    "start": "4560",
    "end": "6720"
  },
  {
    "text": "which is the delivery of beer to large",
    "start": "6720",
    "end": "8720"
  },
  {
    "text": "numbers of conference attendees some of",
    "start": "8720",
    "end": "10559"
  },
  {
    "text": "you were",
    "start": "10559",
    "end": "11200"
  },
  {
    "text": "were there i think and it's very",
    "start": "11200",
    "end": "13120"
  },
  {
    "text": "important to keep them",
    "start": "13120",
    "end": "14320"
  },
  {
    "text": "in this happy state you can see um",
    "start": "14320",
    "end": "17359"
  },
  {
    "text": "as opposed to this fairly grumpy state",
    "start": "17359",
    "end": "19520"
  },
  {
    "text": "that we had",
    "start": "19520",
    "end": "20400"
  },
  {
    "text": "also at the night and uh what you tend",
    "start": "20400",
    "end": "23359"
  },
  {
    "text": "to run into",
    "start": "23359",
    "end": "24240"
  },
  {
    "text": "is this problem where you'll see a",
    "start": "24240",
    "end": "25840"
  },
  {
    "text": "bottle and it's empty",
    "start": "25840",
    "end": "27439"
  },
  {
    "text": "okay so so you have to figure out how",
    "start": "27439",
    "end": "30400"
  },
  {
    "text": "are you going to manage and maintain",
    "start": "30400",
    "end": "32320"
  },
  {
    "text": "full bottlenecks so that people can stay",
    "start": "32320",
    "end": "34480"
  },
  {
    "text": "happy all the time",
    "start": "34480",
    "end": "36399"
  },
  {
    "text": "so let's assume that where we've",
    "start": "36399",
    "end": "37760"
  },
  {
    "text": "deployed a netflix-based cloud service",
    "start": "37760",
    "end": "39920"
  },
  {
    "text": "because we would do that kind of thing",
    "start": "39920",
    "end": "42079"
  },
  {
    "text": "to collect lots of data on",
    "start": "42079",
    "end": "44960"
  },
  {
    "text": "on how much beer people have consumed",
    "start": "44960",
    "end": "48000"
  },
  {
    "text": "and how long it took them to get it so",
    "start": "48000",
    "end": "49920"
  },
  {
    "text": "we have this beer service",
    "start": "49920",
    "end": "51600"
  },
  {
    "text": "that's uh monitoring things and it's",
    "start": "51600",
    "end": "53840"
  },
  {
    "text": "yeah and we just have it at a url so we",
    "start": "53840",
    "end": "56000"
  },
  {
    "text": "can",
    "start": "56000",
    "end": "56719"
  },
  {
    "text": "put some r code in here so people can",
    "start": "56719",
    "end": "58559"
  },
  {
    "text": "figure out how to read",
    "start": "58559",
    "end": "60079"
  },
  {
    "text": "files from her and um and we plot the",
    "start": "60079",
    "end": "62640"
  },
  {
    "text": "response time of how long it takes to",
    "start": "62640",
    "end": "64478"
  },
  {
    "text": "get your beer",
    "start": "64479",
    "end": "66320"
  },
  {
    "text": "and you know it's sort of okay but it",
    "start": "66320",
    "end": "67920"
  },
  {
    "text": "looks like there's these big spikes",
    "start": "67920",
    "end": "69280"
  },
  {
    "text": "every now and again we run out of beer",
    "start": "69280",
    "end": "71600"
  },
  {
    "text": "or they or something um and the unit of",
    "start": "71600",
    "end": "74000"
  },
  {
    "text": "time here is the jif",
    "start": "74000",
    "end": "75040"
  },
  {
    "text": "the jiffy because you get a beer in a",
    "start": "75040",
    "end": "76720"
  },
  {
    "text": "jiffy that's a it's a unit of",
    "start": "76720",
    "end": "78560"
  },
  {
    "text": "you know if one jiffy is a good amount",
    "start": "78560",
    "end": "80240"
  },
  {
    "text": "of time to get your beer if it takes too",
    "start": "80240",
    "end": "81840"
  },
  {
    "text": "many jiffys it's too long",
    "start": "81840",
    "end": "83280"
  },
  {
    "text": "obviously you know spending 60 jiffys is",
    "start": "83280",
    "end": "85520"
  },
  {
    "text": "a very long time",
    "start": "85520",
    "end": "86960"
  },
  {
    "text": "so how would we summarize this response",
    "start": "86960",
    "end": "89680"
  },
  {
    "text": "time it's this is the hard part right",
    "start": "89680",
    "end": "91759"
  },
  {
    "text": "so let's try summarizing it with a few",
    "start": "91759",
    "end": "93920"
  },
  {
    "text": "different ways of",
    "start": "93920",
    "end": "95119"
  },
  {
    "text": "doing statistical things and there's you",
    "start": "95119",
    "end": "97360"
  },
  {
    "text": "know it's maybe",
    "start": "97360",
    "end": "98560"
  },
  {
    "text": "sort of well the mean is three so that's",
    "start": "98560",
    "end": "100400"
  },
  {
    "text": "sort of okay but the max is 67",
    "start": "100400",
    "end": "103040"
  },
  {
    "text": "and then we have quantiles and response",
    "start": "103040",
    "end": "105600"
  },
  {
    "text": "standard deviations and means and two",
    "start": "105600",
    "end": "107439"
  },
  {
    "text": "standard",
    "start": "107439",
    "end": "108079"
  },
  {
    "text": "it's this is all hard stuff so what we",
    "start": "108079",
    "end": "110399"
  },
  {
    "text": "really want to do is make it easy to",
    "start": "110399",
    "end": "112079"
  },
  {
    "text": "deliver large amounts of beer very",
    "start": "112079",
    "end": "113759"
  },
  {
    "text": "quickly",
    "start": "113759",
    "end": "114560"
  },
  {
    "text": "and i have a a great example here from",
    "start": "114560",
    "end": "116960"
  },
  {
    "text": "kukan london who was at kukan london",
    "start": "116960",
    "end": "120159"
  },
  {
    "text": "so this was this was the best beer",
    "start": "120159",
    "end": "121759"
  },
  {
    "text": "delivery system i had ever seen",
    "start": "121759",
    "end": "123840"
  },
  {
    "text": "basically there was a room with maybe",
    "start": "123840",
    "end": "125600"
  },
  {
    "text": "you know something like 500 or a",
    "start": "125600",
    "end": "127119"
  },
  {
    "text": "thousand people in it and there were",
    "start": "127119",
    "end": "128640"
  },
  {
    "text": "these waiters with trades of gross",
    "start": "128640",
    "end": "130879"
  },
  {
    "text": "just making forays they were just",
    "start": "130879",
    "end": "132319"
  },
  {
    "text": "appearing and dashing in and",
    "start": "132319",
    "end": "134239"
  },
  {
    "text": "and when their tray was empty they went",
    "start": "134239",
    "end": "135840"
  },
  {
    "text": "back for more and it filled this room",
    "start": "135840",
    "end": "137680"
  },
  {
    "text": "with beer extremely efficiently",
    "start": "137680",
    "end": "140560"
  },
  {
    "text": "and so that's that's made easy so um",
    "start": "140560",
    "end": "143760"
  },
  {
    "text": "so let's let's sort of do some modeling",
    "start": "143760",
    "end": "146080"
  },
  {
    "text": "around what that actually looks like",
    "start": "146080",
    "end": "148239"
  },
  {
    "text": "um there's a a some code i wrote in r",
    "start": "148239",
    "end": "151840"
  },
  {
    "text": "once called chp which draws interesting",
    "start": "151840",
    "end": "154000"
  },
  {
    "text": "graphs",
    "start": "154000",
    "end": "154800"
  },
  {
    "text": "um and i i tried fitting it on a slide",
    "start": "154800",
    "end": "157519"
  },
  {
    "text": "and it didn't fit so you just have to go",
    "start": "157519",
    "end": "159120"
  },
  {
    "text": "and find it",
    "start": "159120",
    "end": "161680"
  },
  {
    "text": "but if you if you create this artificial",
    "start": "161760",
    "end": "164239"
  },
  {
    "text": "scenario where we actually let's see how",
    "start": "164239",
    "end": "166160"
  },
  {
    "text": "much",
    "start": "166160",
    "end": "166640"
  },
  {
    "text": "let's scan let's let's let's try through",
    "start": "166640",
    "end": "168720"
  },
  {
    "text": "putting the throughput of more and more",
    "start": "168720",
    "end": "170080"
  },
  {
    "text": "beer by sending these guys with trays",
    "start": "170080",
    "end": "171920"
  },
  {
    "text": "these guys in",
    "start": "171920",
    "end": "173200"
  },
  {
    "text": "faster and faster to see how much beer",
    "start": "173200",
    "end": "175680"
  },
  {
    "text": "we can deliver to a crowd in one go",
    "start": "175680",
    "end": "178560"
  },
  {
    "text": "this is what the chp plot looks like so",
    "start": "178560",
    "end": "181120"
  },
  {
    "text": "what i've got in the top right",
    "start": "181120",
    "end": "183360"
  },
  {
    "text": "is a ramp of throughput i'm just testing",
    "start": "183360",
    "end": "185920"
  },
  {
    "text": "out all the possible throughputs i could",
    "start": "185920",
    "end": "187680"
  },
  {
    "text": "have in terms of",
    "start": "187680",
    "end": "188560"
  },
  {
    "text": "delivering beer into a crowd and what i",
    "start": "188560",
    "end": "190800"
  },
  {
    "text": "have along the bottom",
    "start": "190800",
    "end": "192319"
  },
  {
    "text": "is the response time versus headroom",
    "start": "192319",
    "end": "194720"
  },
  {
    "text": "well the big space here",
    "start": "194720",
    "end": "196239"
  },
  {
    "text": "is a distribution of response time",
    "start": "196239",
    "end": "198080"
  },
  {
    "text": "versus headroom",
    "start": "198080",
    "end": "199280"
  },
  {
    "text": "right and it's a scatter plot but in",
    "start": "199280",
    "end": "201200"
  },
  {
    "text": "this case i've got a very controlled",
    "start": "201200",
    "end": "202800"
  },
  {
    "text": "input",
    "start": "202800",
    "end": "203519"
  },
  {
    "text": "and i get a straight line and this is a",
    "start": "203519",
    "end": "205360"
  },
  {
    "text": "well-behaved system",
    "start": "205360",
    "end": "206560"
  },
  {
    "text": "but it seems like whoever is putting",
    "start": "206560",
    "end": "208239"
  },
  {
    "text": "beer on these trays there's a bit of a",
    "start": "208239",
    "end": "210000"
  },
  {
    "text": "bottleneck there and it we run out of",
    "start": "210000",
    "end": "211840"
  },
  {
    "text": "capacity",
    "start": "211840",
    "end": "212879"
  },
  {
    "text": "for the purposes of putting beer on",
    "start": "212879",
    "end": "215040"
  },
  {
    "text": "these trays so it gets slower and slower",
    "start": "215040",
    "end": "217280"
  },
  {
    "text": "it takes longer longer to respond as you",
    "start": "217280",
    "end": "218959"
  },
  {
    "text": "put more people in and these funny",
    "start": "218959",
    "end": "220879"
  },
  {
    "text": "blocks on the side are histograms of the",
    "start": "220879",
    "end": "222879"
  },
  {
    "text": "distribution",
    "start": "222879",
    "end": "223920"
  },
  {
    "text": "so i've got a very even distribution of",
    "start": "223920",
    "end": "225840"
  },
  {
    "text": "throughput because i was kind of just",
    "start": "225840",
    "end": "227360"
  },
  {
    "text": "doing this sort of test",
    "start": "227360",
    "end": "228879"
  },
  {
    "text": "theoretically and i have a distribution",
    "start": "228879",
    "end": "231519"
  },
  {
    "text": "of response time that shows most of the",
    "start": "231519",
    "end": "233120"
  },
  {
    "text": "time it's nice and fast but it gets you",
    "start": "233120",
    "end": "235120"
  },
  {
    "text": "know there's a smaller and smaller",
    "start": "235120",
    "end": "236319"
  },
  {
    "text": "amount",
    "start": "236319",
    "end": "236879"
  },
  {
    "text": "now that's not very realistic so let's",
    "start": "236879",
    "end": "238560"
  },
  {
    "text": "say you know let's say we were measuring",
    "start": "238560",
    "end": "240159"
  },
  {
    "text": "a real system and it would look",
    "start": "240159",
    "end": "241519"
  },
  {
    "text": "something like this it's roughly the",
    "start": "241519",
    "end": "243040"
  },
  {
    "text": "same",
    "start": "243040",
    "end": "243519"
  },
  {
    "text": "so i've got a roughly constant um",
    "start": "243519",
    "end": "247040"
  },
  {
    "text": "uh distribution of throughput and i have",
    "start": "247040",
    "end": "249360"
  },
  {
    "text": "a sort of a",
    "start": "249360",
    "end": "250239"
  },
  {
    "text": "distribution of response time it's a bit",
    "start": "250239",
    "end": "251920"
  },
  {
    "text": "more varied but it's still got this sort",
    "start": "251920",
    "end": "253840"
  },
  {
    "text": "of",
    "start": "253840",
    "end": "254080"
  },
  {
    "text": "up and to the right hockey stick curve",
    "start": "254080",
    "end": "256079"
  },
  {
    "text": "kind of thing so as",
    "start": "256079",
    "end": "257840"
  },
  {
    "text": "this is what you expect as you put more",
    "start": "257840",
    "end": "259840"
  },
  {
    "text": "throughput into a system",
    "start": "259840",
    "end": "261440"
  },
  {
    "text": "its response time slows down that's the",
    "start": "261440",
    "end": "263520"
  },
  {
    "text": "bottleneck right so that's the computer",
    "start": "263520",
    "end": "265199"
  },
  {
    "text": "version of the bottleneck right",
    "start": "265199",
    "end": "267440"
  },
  {
    "text": "and you can see i've got a this is sort",
    "start": "267440",
    "end": "268960"
  },
  {
    "text": "of three days worth of fairly noisy",
    "start": "268960",
    "end": "270560"
  },
  {
    "text": "looking data the top right part of this",
    "start": "270560",
    "end": "272320"
  },
  {
    "text": "graph is the throughput over time just",
    "start": "272320",
    "end": "273919"
  },
  {
    "text": "give you some context for what this",
    "start": "273919",
    "end": "275440"
  },
  {
    "text": "looks like",
    "start": "275440",
    "end": "276479"
  },
  {
    "text": "okay so we figured out what a normal",
    "start": "276479",
    "end": "278639"
  },
  {
    "text": "looking response time looks like if you",
    "start": "278639",
    "end": "280720"
  },
  {
    "text": "happen to be delivering large amounts of",
    "start": "280720",
    "end": "282560"
  },
  {
    "text": "beer",
    "start": "282560",
    "end": "283360"
  },
  {
    "text": "into a large group of conference",
    "start": "283360",
    "end": "285040"
  },
  {
    "text": "attendees but what happens if instead of",
    "start": "285040",
    "end": "287600"
  },
  {
    "text": "this being go to oh",
    "start": "287600",
    "end": "289360"
  },
  {
    "text": "it's go to hawaii let's say we're in",
    "start": "289360",
    "end": "292479"
  },
  {
    "text": "hawaii and instead of beer",
    "start": "292479",
    "end": "294080"
  },
  {
    "text": "we're trying to deliver my ties to",
    "start": "294080",
    "end": "295680"
  },
  {
    "text": "people and my ties are much more",
    "start": "295680",
    "end": "297520"
  },
  {
    "text": "complicated",
    "start": "297520",
    "end": "298720"
  },
  {
    "text": "they have umbrellas in them um and and",
    "start": "298720",
    "end": "301600"
  },
  {
    "text": "let's say there's only one person that",
    "start": "301600",
    "end": "303120"
  },
  {
    "text": "knows how to put the umbrella in",
    "start": "303120",
    "end": "305280"
  },
  {
    "text": "and and and that causes another",
    "start": "305280",
    "end": "307120"
  },
  {
    "text": "different kind of bottleneck so we've",
    "start": "307120",
    "end": "308400"
  },
  {
    "text": "got actually",
    "start": "308400",
    "end": "309680"
  },
  {
    "text": "we end up with a distribution that looks",
    "start": "309680",
    "end": "311199"
  },
  {
    "text": "like this and this is what happens when",
    "start": "311199",
    "end": "312720"
  },
  {
    "text": "there's lot contention in the system",
    "start": "312720",
    "end": "314880"
  },
  {
    "text": "because there's a serialization point",
    "start": "314880",
    "end": "316880"
  },
  {
    "text": "where only one person can figure out how",
    "start": "316880",
    "end": "318639"
  },
  {
    "text": "to get that umbrella and there's lots of",
    "start": "318639",
    "end": "320000"
  },
  {
    "text": "people that can make my ties",
    "start": "320000",
    "end": "321440"
  },
  {
    "text": "lots of people trying to drink mai tais",
    "start": "321440",
    "end": "323199"
  },
  {
    "text": "there's only one person who's got the",
    "start": "323199",
    "end": "324800"
  },
  {
    "text": "stock and can get that umbrella in",
    "start": "324800",
    "end": "326240"
  },
  {
    "text": "exactly right",
    "start": "326240",
    "end": "327199"
  },
  {
    "text": "so if you ever see that distribution and",
    "start": "327199",
    "end": "329039"
  },
  {
    "text": "it's up sort of it's flat",
    "start": "329039",
    "end": "330960"
  },
  {
    "text": "but it's it's going up so here if i",
    "start": "330960",
    "end": "333199"
  },
  {
    "text": "double the throughput",
    "start": "333199",
    "end": "334720"
  },
  {
    "text": "i double the response time yeah i'm just",
    "start": "334720",
    "end": "336800"
  },
  {
    "text": "basically blocking up on one thing so",
    "start": "336800",
    "end": "338639"
  },
  {
    "text": "that's that's a very different shape of",
    "start": "338639",
    "end": "340639"
  },
  {
    "text": "graph",
    "start": "340639",
    "end": "342240"
  },
  {
    "text": "so well let's help solve this problem by",
    "start": "342240",
    "end": "345120"
  },
  {
    "text": "bringing in the same guys we had in",
    "start": "345120",
    "end": "346720"
  },
  {
    "text": "london",
    "start": "346720",
    "end": "347520"
  },
  {
    "text": "uh and have them deliver lots of beer to",
    "start": "347520",
    "end": "349520"
  },
  {
    "text": "people but",
    "start": "349520",
    "end": "350880"
  },
  {
    "text": "and that lets us do simple drinks and",
    "start": "350880",
    "end": "353039"
  },
  {
    "text": "complicated drinks",
    "start": "353039",
    "end": "354240"
  },
  {
    "text": "and if you're if you're in hawaii you",
    "start": "354240",
    "end": "356160"
  },
  {
    "text": "can get this really complicated drink",
    "start": "356160",
    "end": "357759"
  },
  {
    "text": "which is an entire pineapple",
    "start": "357759",
    "end": "360560"
  },
  {
    "text": "it takes quite a long time to make you",
    "start": "360560",
    "end": "362240"
  },
  {
    "text": "start with a pineapple",
    "start": "362240",
    "end": "363600"
  },
  {
    "text": "you hollow out the pineapple you put rum",
    "start": "363600",
    "end": "365840"
  },
  {
    "text": "and stuff in it",
    "start": "365840",
    "end": "366800"
  },
  {
    "text": "and then you decorate it to look like a",
    "start": "366800",
    "end": "368319"
  },
  {
    "text": "dalek when you've drunk half of it",
    "start": "368319",
    "end": "371680"
  },
  {
    "text": "let's get sort of instead of saying",
    "start": "371680",
    "end": "373120"
  },
  {
    "text": "exterminate it says inebriate",
    "start": "373120",
    "end": "375199"
  },
  {
    "text": "inebriate right it's sort of that's the",
    "start": "375199",
    "end": "377360"
  },
  {
    "text": "general principle here",
    "start": "377360",
    "end": "379039"
  },
  {
    "text": "so what we now have is a mixture of work",
    "start": "379039",
    "end": "381759"
  },
  {
    "text": "going on we're trying to we have one",
    "start": "381759",
    "end": "383600"
  },
  {
    "text": "group of",
    "start": "383600",
    "end": "384160"
  },
  {
    "text": "we have one guy delivering extremely",
    "start": "384160",
    "end": "386639"
  },
  {
    "text": "high",
    "start": "386639",
    "end": "387680"
  },
  {
    "text": "you know extremely high volume very",
    "start": "387680",
    "end": "390479"
  },
  {
    "text": "simple",
    "start": "390479",
    "end": "391280"
  },
  {
    "text": "things and your bottles of beer very",
    "start": "391280",
    "end": "393680"
  },
  {
    "text": "easily and we have some other people",
    "start": "393680",
    "end": "395120"
  },
  {
    "text": "making these incredibly complicated",
    "start": "395120",
    "end": "396960"
  },
  {
    "text": "drinks",
    "start": "396960",
    "end": "397759"
  },
  {
    "text": "and if we do them both at the same time",
    "start": "397759",
    "end": "400240"
  },
  {
    "text": "we get this very strange looking",
    "start": "400240",
    "end": "401840"
  },
  {
    "text": "distribution",
    "start": "401840",
    "end": "403680"
  },
  {
    "text": "um if we flood it using our special beer",
    "start": "403680",
    "end": "407280"
  },
  {
    "text": "drink delivery monitoring service that",
    "start": "407280",
    "end": "409039"
  },
  {
    "text": "we're still running obviously because",
    "start": "409039",
    "end": "410639"
  },
  {
    "text": "it's in the cloud and it can see what's",
    "start": "410639",
    "end": "412000"
  },
  {
    "text": "happening somehow",
    "start": "412000",
    "end": "414800"
  },
  {
    "text": "and what's going on here is that let's",
    "start": "414880",
    "end": "417680"
  },
  {
    "text": "say we have a number of servers and they",
    "start": "417680",
    "end": "419440"
  },
  {
    "text": "can either be",
    "start": "419440",
    "end": "420319"
  },
  {
    "text": "filling trays with beer or they can be",
    "start": "420319",
    "end": "422400"
  },
  {
    "text": "carving out",
    "start": "422400",
    "end": "423599"
  },
  {
    "text": "um pineapples",
    "start": "423599",
    "end": "427280"
  },
  {
    "text": "so the they start off like of the",
    "start": "427280",
    "end": "428960"
  },
  {
    "text": "mixture of these things but eventually",
    "start": "428960",
    "end": "430560"
  },
  {
    "text": "they all end up carving pineapples",
    "start": "430560",
    "end": "432319"
  },
  {
    "text": "because it takes forever and there's",
    "start": "432319",
    "end": "433680"
  },
  {
    "text": "nobody filling trays with beer",
    "start": "433680",
    "end": "435440"
  },
  {
    "text": "and what happens then is the throughput",
    "start": "435440",
    "end": "437120"
  },
  {
    "text": "goes down and it goes really really slow",
    "start": "437120",
    "end": "439039"
  },
  {
    "text": "and you're up on the top left side here",
    "start": "439039",
    "end": "440720"
  },
  {
    "text": "you're right up there",
    "start": "440720",
    "end": "441919"
  },
  {
    "text": "and and eventually somebody finishes",
    "start": "441919",
    "end": "443919"
  },
  {
    "text": "carving pineapples",
    "start": "443919",
    "end": "445280"
  },
  {
    "text": "and there's a big stack of guys standing",
    "start": "445280",
    "end": "446960"
  },
  {
    "text": "there with empty trays you start filling",
    "start": "446960",
    "end": "448560"
  },
  {
    "text": "trays and the system starts",
    "start": "448560",
    "end": "450080"
  },
  {
    "text": "delivering lots and lots of trays of",
    "start": "450080",
    "end": "451759"
  },
  {
    "text": "beer and then gradually more orders of",
    "start": "451759",
    "end": "453599"
  },
  {
    "text": "pineapples come in and you oscillate",
    "start": "453599",
    "end": "455280"
  },
  {
    "text": "back",
    "start": "455280",
    "end": "455840"
  },
  {
    "text": "so this system is not stable it",
    "start": "455840",
    "end": "457599"
  },
  {
    "text": "oscillates back and forth between",
    "start": "457599",
    "end": "459440"
  },
  {
    "text": "delivering",
    "start": "459440",
    "end": "460240"
  },
  {
    "text": "lots and lots of very fast things and a",
    "start": "460240",
    "end": "462319"
  },
  {
    "text": "few very slow things",
    "start": "462319",
    "end": "463680"
  },
  {
    "text": "and this is a characteristic which is",
    "start": "463680",
    "end": "465680"
  },
  {
    "text": "quite hard to observe but",
    "start": "465680",
    "end": "467360"
  },
  {
    "text": "when you do these tr these distribution",
    "start": "467360",
    "end": "469360"
  },
  {
    "text": "plots it's easy to see that this is",
    "start": "469360",
    "end": "470960"
  },
  {
    "text": "happening",
    "start": "470960",
    "end": "471599"
  },
  {
    "text": "and when you see a system oscillating",
    "start": "471599",
    "end": "473360"
  },
  {
    "text": "it's quite often because you've got a",
    "start": "473360",
    "end": "474879"
  },
  {
    "text": "mixture of very slow things and very",
    "start": "474879",
    "end": "476720"
  },
  {
    "text": "fast things that you're giving it to do",
    "start": "476720",
    "end": "478240"
  },
  {
    "text": "at once",
    "start": "478240",
    "end": "479919"
  },
  {
    "text": "and this is this is the characteristic",
    "start": "479919",
    "end": "481840"
  },
  {
    "text": "of a thread starved system",
    "start": "481840",
    "end": "483919"
  },
  {
    "text": "right there's plenty of spare capacity",
    "start": "483919",
    "end": "485599"
  },
  {
    "text": "in the system but you don't have enough",
    "start": "485599",
    "end": "487280"
  },
  {
    "text": "threads you need to add more people",
    "start": "487280",
    "end": "488960"
  },
  {
    "text": "that can cover pineapples until you have",
    "start": "488960",
    "end": "491199"
  },
  {
    "text": "an excess of people and you have some",
    "start": "491199",
    "end": "492720"
  },
  {
    "text": "spare people left over that can also",
    "start": "492720",
    "end": "494479"
  },
  {
    "text": "deliver beer",
    "start": "494479",
    "end": "495440"
  },
  {
    "text": "while the full possible number of",
    "start": "495440",
    "end": "496960"
  },
  {
    "text": "pineapple carving is going on at the",
    "start": "496960",
    "end": "498479"
  },
  {
    "text": "same time",
    "start": "498479",
    "end": "499280"
  },
  {
    "text": "so the way you solve this problem is by",
    "start": "499280",
    "end": "500720"
  },
  {
    "text": "adding threads right so now we can see",
    "start": "500720",
    "end": "503440"
  },
  {
    "text": "we know when we have lot contention and",
    "start": "503440",
    "end": "505599"
  },
  {
    "text": "we have we have outer threads",
    "start": "505599",
    "end": "507440"
  },
  {
    "text": "and we have normal behavior but i want",
    "start": "507440",
    "end": "509919"
  },
  {
    "text": "to show you something else that happens",
    "start": "509919",
    "end": "511919"
  },
  {
    "text": "which is that if you manage to build",
    "start": "511919",
    "end": "513518"
  },
  {
    "text": "systems that auto scale that grow and",
    "start": "513519",
    "end": "515440"
  },
  {
    "text": "shrink with capacity",
    "start": "515440",
    "end": "516880"
  },
  {
    "text": "which is sort of you know this was a",
    "start": "516880",
    "end": "518240"
  },
  {
    "text": "good example i think you know i have a",
    "start": "518240",
    "end": "519839"
  },
  {
    "text": "scale level",
    "start": "519839",
    "end": "520719"
  },
  {
    "text": "set of beers here that are being",
    "start": "520719",
    "end": "522000"
  },
  {
    "text": "delivered i'm getting multiple beers",
    "start": "522000",
    "end": "524880"
  },
  {
    "text": "but the only example i could find was",
    "start": "524880",
    "end": "526399"
  },
  {
    "text": "actually a netflix one this is actually",
    "start": "526399",
    "end": "527920"
  },
  {
    "text": "one of our internal services that auto",
    "start": "527920",
    "end": "529680"
  },
  {
    "text": "scales",
    "start": "529680",
    "end": "530640"
  },
  {
    "text": "and app dynamics has a way of plotting",
    "start": "530640",
    "end": "533120"
  },
  {
    "text": "this so if this is the throughput and",
    "start": "533120",
    "end": "535200"
  },
  {
    "text": "this is the response time response time",
    "start": "535200",
    "end": "536720"
  },
  {
    "text": "looks a bit weird",
    "start": "536720",
    "end": "537760"
  },
  {
    "text": "but one of the things you can see is",
    "start": "537760",
    "end": "539200"
  },
  {
    "text": "that the lowest response time occurs",
    "start": "539200",
    "end": "541760"
  },
  {
    "text": "when the throughput is dropping and then",
    "start": "541760",
    "end": "543680"
  },
  {
    "text": "it goes up a little bit later",
    "start": "543680",
    "end": "545040"
  },
  {
    "text": "now if you do the distribution plot for",
    "start": "545040",
    "end": "546800"
  },
  {
    "text": "this there's this weird sort of set of",
    "start": "546800",
    "end": "549120"
  },
  {
    "text": "dots here",
    "start": "549120",
    "end": "549839"
  },
  {
    "text": "but what's actually happening is let's",
    "start": "549839",
    "end": "552640"
  },
  {
    "text": "start at the peak",
    "start": "552640",
    "end": "554080"
  },
  {
    "text": "peak throughput okay the top of that",
    "start": "554080",
    "end": "555760"
  },
  {
    "text": "blue section",
    "start": "555760",
    "end": "557120"
  },
  {
    "text": "that's the bit to the furthest to the",
    "start": "557120",
    "end": "559040"
  },
  {
    "text": "right",
    "start": "559040",
    "end": "560240"
  },
  {
    "text": "when over time what happens now is",
    "start": "560240",
    "end": "562959"
  },
  {
    "text": "there's a circle",
    "start": "562959",
    "end": "564080"
  },
  {
    "text": "you're going around a circle so you go",
    "start": "564080",
    "end": "565839"
  },
  {
    "text": "down the bottom along the bottom",
    "start": "565839",
    "end": "568080"
  },
  {
    "text": "lowest response time to the lowest",
    "start": "568080",
    "end": "570160"
  },
  {
    "text": "throughput",
    "start": "570160",
    "end": "571440"
  },
  {
    "text": "and then what actually happens is do i",
    "start": "571440",
    "end": "573920"
  },
  {
    "text": "have a",
    "start": "573920",
    "end": "575600"
  },
  {
    "text": "can i yeah there we go um",
    "start": "575600",
    "end": "579279"
  },
  {
    "text": "i now have very few machines or very few",
    "start": "579279",
    "end": "581519"
  },
  {
    "text": "bottles of beer or whatever in front of",
    "start": "581519",
    "end": "583120"
  },
  {
    "text": "me",
    "start": "583120",
    "end": "583600"
  },
  {
    "text": "and so as capacity increases it actually",
    "start": "583600",
    "end": "585839"
  },
  {
    "text": "goes up in a sawtooth because it gets a",
    "start": "585839",
    "end": "587519"
  },
  {
    "text": "bit",
    "start": "587519",
    "end": "587839"
  },
  {
    "text": "slow and then i add more machines and it",
    "start": "587839",
    "end": "589680"
  },
  {
    "text": "drops and so there's this sawtooth going",
    "start": "589680",
    "end": "591920"
  },
  {
    "text": "up here",
    "start": "591920",
    "end": "592880"
  },
  {
    "text": "as i'm throwing more capacity as i'm",
    "start": "592880",
    "end": "595360"
  },
  {
    "text": "increasing",
    "start": "595360",
    "end": "596640"
  },
  {
    "text": "and then it comes all the way up here",
    "start": "596640",
    "end": "598320"
  },
  {
    "text": "and then i'm throwing capacity away and",
    "start": "598320",
    "end": "600240"
  },
  {
    "text": "it sort of comes back down here so you",
    "start": "600240",
    "end": "601600"
  },
  {
    "text": "get a big",
    "start": "601600",
    "end": "602240"
  },
  {
    "text": "loop in your in your thing so if you see",
    "start": "602240",
    "end": "604079"
  },
  {
    "text": "a loop you know you've got something",
    "start": "604079",
    "end": "605440"
  },
  {
    "text": "that's sort of auto scaling",
    "start": "605440",
    "end": "607279"
  },
  {
    "text": "all right and uh so that you can use",
    "start": "607279",
    "end": "609920"
  },
  {
    "text": "this little chp",
    "start": "609920",
    "end": "611200"
  },
  {
    "text": "code that i wrote years ago to do the",
    "start": "611200",
    "end": "613519"
  },
  {
    "text": "diagrams or if you happen to have app",
    "start": "613519",
    "end": "615360"
  },
  {
    "text": "dynamics i may",
    "start": "615360",
    "end": "616240"
  },
  {
    "text": "persuade them to add this to their",
    "start": "616240",
    "end": "617600"
  },
  {
    "text": "product which made me happy",
    "start": "617600",
    "end": "619360"
  },
  {
    "text": "all right so this is basically my",
    "start": "619360",
    "end": "620959"
  },
  {
    "text": "summary plot",
    "start": "620959",
    "end": "622480"
  },
  {
    "text": "these are the hard things figuring out",
    "start": "622480",
    "end": "624000"
  },
  {
    "text": "whether you have lot contention whether",
    "start": "624000",
    "end": "625680"
  },
  {
    "text": "you have a well-behaved system",
    "start": "625680",
    "end": "627279"
  },
  {
    "text": "whether you're oscillating and have",
    "start": "627279",
    "end": "628640"
  },
  {
    "text": "thread shortages or whether you have",
    "start": "628640",
    "end": "630480"
  },
  {
    "text": "some sort of looping order scaled system",
    "start": "630480",
    "end": "632720"
  },
  {
    "text": "and if all you have to do is draw a",
    "start": "632720",
    "end": "634160"
  },
  {
    "text": "graph look at it and decide which kind",
    "start": "634160",
    "end": "636480"
  },
  {
    "text": "of you know what shape the graph is and",
    "start": "636480",
    "end": "638079"
  },
  {
    "text": "you can see what's going on",
    "start": "638079",
    "end": "639839"
  },
  {
    "text": "all right so that's it and we can finish",
    "start": "639839",
    "end": "642320"
  },
  {
    "text": "it with some liquid aloha",
    "start": "642320",
    "end": "643680"
  },
  {
    "text": "and that was not good",
    "start": "643680",
    "end": "648160"
  },
  {
    "text": "do you also observe that um when the",
    "start": "649440",
    "end": "652560"
  },
  {
    "text": "system",
    "start": "652560",
    "end": "654880"
  },
  {
    "text": "changes performance characteristic then",
    "start": "655120",
    "end": "657120"
  },
  {
    "text": "that the system itself is used in",
    "start": "657120",
    "end": "659040"
  },
  {
    "text": "another way so then your data also",
    "start": "659040",
    "end": "662399"
  },
  {
    "text": "changes because for you of course the",
    "start": "662399",
    "end": "664640"
  },
  {
    "text": "users for example go away and then",
    "start": "664640",
    "end": "667360"
  },
  {
    "text": "you have auto scaling because um",
    "start": "667360",
    "end": "671839"
  },
  {
    "text": "yeah you can certainly move between",
    "start": "671839",
    "end": "673519"
  },
  {
    "text": "these different things you could have a",
    "start": "673519",
    "end": "674959"
  },
  {
    "text": "system that starts off well behaved",
    "start": "674959",
    "end": "677279"
  },
  {
    "text": "and you put and all of a sudden say",
    "start": "677279",
    "end": "680160"
  },
  {
    "text": "maybe it's well behaved in test",
    "start": "680160",
    "end": "682079"
  },
  {
    "text": "but when you go to production there's",
    "start": "682079",
    "end": "683519"
  },
  {
    "text": "more latency because real customers are",
    "start": "683519",
    "end": "685519"
  },
  {
    "text": "further away",
    "start": "685519",
    "end": "686320"
  },
  {
    "text": "and all of a sudden you're out of",
    "start": "686320",
    "end": "687600"
  },
  {
    "text": "threads and system that starts off well",
    "start": "687600",
    "end": "689360"
  },
  {
    "text": "behaved starts becoming oscillating so",
    "start": "689360",
    "end": "691519"
  },
  {
    "text": "you",
    "start": "691519",
    "end": "692000"
  },
  {
    "text": "and you sometimes see this um there's",
    "start": "692000",
    "end": "695200"
  },
  {
    "text": "these graphs which show",
    "start": "695200",
    "end": "696640"
  },
  {
    "text": "sort of throughput like this except the",
    "start": "696640",
    "end": "699760"
  },
  {
    "text": "high point so this is a beautifully",
    "start": "699760",
    "end": "701440"
  },
  {
    "text": "smooth top",
    "start": "701440",
    "end": "702640"
  },
  {
    "text": "right but if the top looks like",
    "start": "702640",
    "end": "704240"
  },
  {
    "text": "dilbert's head it goes up and then it",
    "start": "704240",
    "end": "705839"
  },
  {
    "text": "oscillates like this and then it's got a",
    "start": "705839",
    "end": "707519"
  },
  {
    "text": "nice smooth dip",
    "start": "707519",
    "end": "708720"
  },
  {
    "text": "right you know dilbert's haircut it's",
    "start": "708720",
    "end": "710240"
  },
  {
    "text": "kind of so spiky on top that's",
    "start": "710240",
    "end": "712079"
  },
  {
    "text": "oscillating and then at low load it's",
    "start": "712079",
    "end": "714800"
  },
  {
    "text": "actually nice and smooth",
    "start": "714800",
    "end": "716079"
  },
  {
    "text": "and sometimes you see throughput graphs",
    "start": "716079",
    "end": "717839"
  },
  {
    "text": "that do that and that spikiness means",
    "start": "717839",
    "end": "719920"
  },
  {
    "text": "that at peak you're out of threads but",
    "start": "719920",
    "end": "721760"
  },
  {
    "text": "at low low",
    "start": "721760",
    "end": "722720"
  },
  {
    "text": "low utilization it's being well behaved",
    "start": "722720",
    "end": "725360"
  },
  {
    "text": "so you're actually moving between",
    "start": "725360",
    "end": "727360"
  },
  {
    "text": "these two positions on the left and and",
    "start": "727360",
    "end": "730160"
  },
  {
    "text": "when you average everything out you",
    "start": "730160",
    "end": "731839"
  },
  {
    "text": "can't see those oscillations it's one of",
    "start": "731839",
    "end": "733600"
  },
  {
    "text": "the problems",
    "start": "733600",
    "end": "734560"
  },
  {
    "text": "and it's odd to think that a system",
    "start": "734560",
    "end": "736240"
  },
  {
    "text": "would have an oscillating behavior it's",
    "start": "736240",
    "end": "738160"
  },
  {
    "text": "a",
    "start": "738160",
    "end": "738639"
  },
  {
    "text": "it's not normally something you see so",
    "start": "738639",
    "end": "741519"
  },
  {
    "text": "it",
    "start": "741519",
    "end": "741839"
  },
  {
    "text": "but it's very confusing because the",
    "start": "741839",
    "end": "743200"
  },
  {
    "text": "first time i saw this graph at the",
    "start": "743200",
    "end": "744480"
  },
  {
    "text": "bottom",
    "start": "744480",
    "end": "745120"
  },
  {
    "text": "i couldn't figure out it's not supposed",
    "start": "745120",
    "end": "746480"
  },
  {
    "text": "to be that shape it's supposed to go up",
    "start": "746480",
    "end": "748639"
  },
  {
    "text": "and to the right",
    "start": "748639",
    "end": "757680"
  }
]