[
  {
    "start": "0",
    "end": "276000"
  },
  {
    "text": "[Music]",
    "start": "990",
    "end": "7859"
  },
  {
    "text": "thank you it's great to be here so just",
    "start": "14859",
    "end": "20210"
  },
  {
    "text": "to give you little bit of more on Who I am my name is Keef I'm based in London although I'm originally from the US I've",
    "start": "20210",
    "end": "25820"
  },
  {
    "text": "been living in London about 21 years or so now and I work for thought works I've",
    "start": "25820",
    "end": "34730"
  },
  {
    "text": "been doing I'm working there about nine years or so basically so before that so over the kind of past my time of the",
    "start": "34730",
    "end": "39920"
  },
  {
    "text": "industry about kind of 2025 years I worked across development and systems administration roles I would kind of",
    "start": "39920",
    "end": "46010"
  },
  {
    "text": "like if I was working the development role I'll always be interested in well how are we kind of deploying our software and how we configuring you know",
    "start": "46010",
    "end": "52579"
  },
  {
    "text": "building servers you know for the software to be deployed so I'd kind of gravitate into that and so then I would",
    "start": "52579",
    "end": "58729"
  },
  {
    "text": "take a role my next role out so I want to work in the systems administration to be on that side of it and then I'd be like how can I use you know how can we",
    "start": "58729",
    "end": "65150"
  },
  {
    "text": "like write code and scripts stuff to do the building of our infrastructure and maintenance and operations kind of tasks",
    "start": "65150",
    "end": "71149"
  },
  {
    "text": "so it's always kind of a you know is something I gravitated towards and it wasn't until how long ago now ten years",
    "start": "71149",
    "end": "78649"
  },
  {
    "text": "plus now I guess that that became an acceptable thing because when I first did it especially when I would talk to",
    "start": "78649",
    "end": "84409"
  },
  {
    "text": "like say recruiters about my next job and they would say well what do you want to be a developer or a systems administrator and I would say well I",
    "start": "84409",
    "end": "90530"
  },
  {
    "text": "kind of want to do both no he can't do both you have to pick a career path right it was really awesome when DevOps",
    "start": "90530",
    "end": "95780"
  },
  {
    "text": "emerges this thing to make it acceptable and actually quite kind of cool to do",
    "start": "95780",
    "end": "101899"
  },
  {
    "text": "both the other thing that was kind of coming along with that a part of DevOps DevOps is about culture and and that",
    "start": "101899",
    "end": "108590"
  },
  {
    "text": "kind of stuff but and the the tools was also a part of it and infrastructure as code kind of",
    "start": "108590",
    "end": "114799"
  },
  {
    "text": "emerged around that time as well as a as a term and I had been doing I had been messing with this kind of stuff for a",
    "start": "114799",
    "end": "120619"
  },
  {
    "text": "while as well obviously if I was into automating how you build servers I was doing with like physical servers I was",
    "start": "120619",
    "end": "125869"
  },
  {
    "text": "using a tool called FAI boot which was for Debian which would do like you do a",
    "start": "125869",
    "end": "131569"
  },
  {
    "text": "pixie boot in the server hit the button when it boots to boot off the network and it would like install the OS on to it",
    "start": "131569",
    "end": "137150"
  },
  {
    "text": "and then I was running then I would boot strap to run cfengine which has come the precursor tool to",
    "start": "137150",
    "end": "143540"
  },
  {
    "text": "chef and puppet and these kind of things that would do server configuration so that was really cuz I was always doing",
    "start": "143540",
    "end": "150230"
  },
  {
    "text": "all this stuff for them an infrastructure as code became a thing I was always kind of following along with like what was coming out on the",
    "start": "150230",
    "end": "155810"
  },
  {
    "text": "industry cloud was emerging in the same time and so I was really kind of",
    "start": "155810",
    "end": "161180"
  },
  {
    "text": "enjoying putting this all together and when I worked at the thought work had joined thought works on the the when the",
    "start": "161180",
    "end": "166939"
  },
  {
    "text": "delivery of the continuous delivery book came out because I thought that really kind of touches on a lot of the stuff I'm really interested in and I want to",
    "start": "166939",
    "end": "172879"
  },
  {
    "text": "kind of be a part of that and then my gist of my job what I would would tend",
    "start": "172879",
    "end": "178430"
  },
  {
    "text": "to do on projects is we would be doing software delivery and clouds would be asking us to come in oh you all are like",
    "start": "178430",
    "end": "183530"
  },
  {
    "text": "continuous delivery you wrote this book and we want to do continuous delivery can you help us with that and that would often involve something which was fairly",
    "start": "183530",
    "end": "190489"
  },
  {
    "text": "new at the time so saying we have to engage with the operations folks on how do we make sure that we can deploy you",
    "start": "190489",
    "end": "196730"
  },
  {
    "text": "know have this game in order to have continuous delivery we need to be deploying into production quite frequently or at least easily and how do",
    "start": "196730",
    "end": "202879"
  },
  {
    "text": "you do that and so the kind of infrastructure is code and all that was kind of this fit into that it was like",
    "start": "202879",
    "end": "208340"
  },
  {
    "text": "okay here's a good solution to make sure that our environments are that can star the same across from development into",
    "start": "208340",
    "end": "214370"
  },
  {
    "text": "production to make sure that this is a smooth path one of the things I found was that our client organizations that",
    "start": "214370",
    "end": "221480"
  },
  {
    "text": "we work with people were using cloud technology they're starting to use it they were starting to use tools like puppet and chef but they weren't using",
    "start": "221480",
    "end": "228049"
  },
  {
    "text": "them necessarily not everybody was using them in and getting the best use out of them so if you read not everybody goes",
    "start": "228049",
    "end": "233750"
  },
  {
    "text": "to kind of like conferences and reads the blog posts and and and and can I guess also like figure out how to make",
    "start": "233750",
    "end": "240739"
  },
  {
    "text": "it work in that kind of really fluid way and people are using the tools but not so started getting the most out of it so this was where I was kind of as Ben was",
    "start": "240739",
    "end": "249169"
  },
  {
    "text": "saying it's that this is the the first but this first book I'm on the topic of infrastructure as code as a general topic and there were plenty of other",
    "start": "249169",
    "end": "255979"
  },
  {
    "text": "books around on kind of specific tools and all of that but I wanted to I wanted",
    "start": "255979",
    "end": "261380"
  },
  {
    "text": "to share like the ways of working regardless of which tool are you working with or which cloud are you're working with what are the kind of patterns and",
    "start": "261380",
    "end": "268779"
  },
  {
    "text": "practices that you can bring to to get the most out of it right so that's essentially what this is about I",
    "start": "268779",
    "end": "275770"
  },
  {
    "text": "mean it's a cloud was the enabler for this right cloud is like this idea you you you know you have an organization",
    "start": "275770",
    "end": "280819"
  },
  {
    "start": "276000",
    "end": "318000"
  },
  {
    "text": "that's doing their IT and cloud was this thing of like we can just go faster right we can in many cases it was about",
    "start": "280819",
    "end": "286810"
  },
  {
    "text": "you know over the the past few years say four or five years ago it's quite typical that that companies were saying",
    "start": "286810",
    "end": "294169"
  },
  {
    "text": "we're gonna set up a separate unit that's going to do digital they're gonna do our kind of you know more web and modern type stuff and because our",
    "start": "294169",
    "end": "300949"
  },
  {
    "text": "existing IT organization is too slow and they're stuck in old ways of working you",
    "start": "300949",
    "end": "307250"
  },
  {
    "text": "know we can use cloud and just forget those guys and we'll just go fast and use cloud and not worry about all the kind of things that you know the",
    "start": "307250",
    "end": "313310"
  },
  {
    "text": "processes and things that those guys have but then what we found is that yeah",
    "start": "313310",
    "end": "319699"
  },
  {
    "start": "318000",
    "end": "364000"
  },
  {
    "text": "there's still risk right as those new things these new kind of digital parts of the business got traction and they",
    "start": "319699",
    "end": "326389"
  },
  {
    "text": "started you know getting you know real users and real business happening on them real money flowing through them they couldn't afford to be too casual we",
    "start": "326389",
    "end": "334969"
  },
  {
    "text": "couldn't afford to kind of be cowboy about it and so this is where we started thinking about well maybe those folks you know in the old IT organization who",
    "start": "334969",
    "end": "341810"
  },
  {
    "text": "were saying you know we need to have some kind of you know better processes around this maybe they actually had a point maybe that's something we needed",
    "start": "341810",
    "end": "347779"
  },
  {
    "text": "to think about how do we do it in the cloud and then also organizations have gotten the idea that you know we can't",
    "start": "347779",
    "end": "353270"
  },
  {
    "text": "have digital being a separate thing we can't have you know technology and software is over here and the old business is over here it's all got to",
    "start": "353270",
    "end": "359629"
  },
  {
    "text": "kind of come together and and you know be the same thing so how can we do this well so how many people are familiar",
    "start": "359629",
    "end": "366680"
  },
  {
    "start": "364000",
    "end": "446000"
  },
  {
    "text": "with the state of the DevOps reports in the accelerate book I hope a fair number of people that's good I think if you're",
    "start": "366680",
    "end": "372800"
  },
  {
    "text": "interested in this space and especially if you're in your organization trying to kind of get traction on adopting these kind of ways of working and also agile",
    "start": "372800",
    "end": "379909"
  },
  {
    "text": "and continuous delivery and all these kind of related things this is an excellent resource because they've done they do research every year they do a",
    "start": "379909",
    "end": "386389"
  },
  {
    "text": "survey I think the this year survey is still going on so you can go to the",
    "start": "386389",
    "end": "391849"
  },
  {
    "text": "website and fill it out it's basically they're looking at different organizations and looking at you know",
    "start": "391849",
    "end": "396919"
  },
  {
    "text": "asking about so what kind of practices are you using in terms of things like and you know agile and the you know ways",
    "start": "396919",
    "end": "401930"
  },
  {
    "text": "of working and DevOps and so on what specific practice started using and then they're also",
    "start": "401930",
    "end": "407240"
  },
  {
    "text": "looking at how effective is the organization and achieving its goals and it's kind of interesting because they",
    "start": "407240",
    "end": "412730"
  },
  {
    "text": "look at it as you know whatever your goals are you know how how successful",
    "start": "412730",
    "end": "417860"
  },
  {
    "text": "are you in hitting them and those gonna be obviously things around software and and you know how well your you're",
    "start": "417860",
    "end": "423380"
  },
  {
    "text": "working as an organization but it's also how well how much money are you making as an organization how are your revenues",
    "start": "423380",
    "end": "429860"
  },
  {
    "text": "how are your profitability how's your share price and how are these things correlate right so they're they're working out what's the correlation between doing these principles and",
    "start": "429860",
    "end": "437360"
  },
  {
    "text": "practices and ways of working with getting good results and then getting some hard kind of evidence of what works",
    "start": "437360",
    "end": "443510"
  },
  {
    "text": "well and so they've focused on these",
    "start": "443510",
    "end": "448550"
  },
  {
    "start": "446000",
    "end": "501000"
  },
  {
    "text": "four key metrics as being really useful things as in these things correlate these things have the kind of strongest",
    "start": "448550",
    "end": "454400"
  },
  {
    "text": "indicator that you know if you if you can move the needle on these things you know in the right direction",
    "start": "454400",
    "end": "459620"
  },
  {
    "text": "you're probably going to move the needle in the right direction on other things in terms of your organization's performance they kind of fall in the two",
    "start": "459620",
    "end": "465560"
  },
  {
    "text": "pairs so there's the throughput which is how frequently do you ploy your software and what does the lead time how quickly",
    "start": "465560",
    "end": "471590"
  },
  {
    "text": "can you get a change in the production so if you notice oh we have a bug or there's a feature we want to add or you",
    "start": "471590",
    "end": "477380"
  },
  {
    "text": "know anything like that how quickly can we get that into people's hands and then on the other side there's the kind of",
    "start": "477380",
    "end": "483260"
  },
  {
    "text": "stability ones which is well how often when we make those changes does it fail how often do we need to roll it back or very quickly go jump on and make a fix",
    "start": "483260",
    "end": "489560"
  },
  {
    "text": "or gonna have some kind of a an issue when we make a change and then it's generally when something fails in our",
    "start": "489560",
    "end": "495740"
  },
  {
    "text": "system how quickly can we get it back up so these are kind of like the four kind of numbers in these team kind of groups and I think our instinct are kind of you",
    "start": "495740",
    "end": "505490"
  },
  {
    "start": "501000",
    "end": "548000"
  },
  {
    "text": "know what seems like an obvious thing is that there's a trade-off right you have to either be stable or you're gonna get",
    "start": "505490",
    "end": "513289"
  },
  {
    "text": "you're gonna be fast right there's kind of you have to kind of choose one of the other or try to balance them in the middle but you can't kind of do both so",
    "start": "513289",
    "end": "519710"
  },
  {
    "text": "if you're gonna have good throughput then you're probably gonna be less stable so the move fast and break things mentality we're a start-up we're gonna",
    "start": "519710",
    "end": "526520"
  },
  {
    "text": "move fast and things gonna break and that's okay it's cool or you're gonna say oh we're kind of not we're not a",
    "start": "526520",
    "end": "531620"
  },
  {
    "text": "startup we're like you know we're a bank or we're a retail store and we're doing serious things and dealing with lots of money so",
    "start": "531620",
    "end": "538079"
  },
  {
    "text": "we're gonna focus on stability as our main thing and but where that means we're gonna move slower and that's kind",
    "start": "538079",
    "end": "543420"
  },
  {
    "text": "of just the trade-off we have to accept right and this is kind of the mentality we have and it seems logical but going",
    "start": "543420",
    "end": "549630"
  },
  {
    "start": "548000",
    "end": "615000"
  },
  {
    "text": "back to the research from the state of the DevOps report it actually says that that's not true it actually says that",
    "start": "549630",
    "end": "555240"
  },
  {
    "text": "organizations would perform well and whatever kind of measure of performance",
    "start": "555240",
    "end": "560940"
  },
  {
    "text": "that you're looking at tend to do well at both of those things and that actually not very many organizations are",
    "start": "560940",
    "end": "567810"
  },
  {
    "text": "good at one versus the other we think oh we're gonna optimize for one and we're gonna be fast but but you know maybe not have as much quality or we're gonna be",
    "start": "567810",
    "end": "573959"
  },
  {
    "text": "focused on quality which means we're not so fast but actually organizations that that focus on one at the expense of the",
    "start": "573959",
    "end": "579810"
  },
  {
    "text": "other often find that it it it bites them right so if you're moving too fast and you're not worrying about the",
    "start": "579810",
    "end": "585029"
  },
  {
    "text": "quality of your system then it's hard to move that you build a system that's very messy and hard to work with and that slows you down much more quickly than",
    "start": "585029",
    "end": "591779"
  },
  {
    "text": "you think much sooner than you think but on the flip side you're saying we're gonna focus on being stable we're not",
    "start": "591779",
    "end": "597839"
  },
  {
    "text": "going to worry so much about speed well the fact that you're not able to move quickly means it's hard to have high",
    "start": "597839",
    "end": "603149"
  },
  {
    "text": "quality because you can't fix things very quickly and so you accumulate lists of you know your known issues and things",
    "start": "603149",
    "end": "608670"
  },
  {
    "text": "that we we you know are not great with our system but we just kind of accept it because we're you know we're moving too slowly to fix them so the secret here is",
    "start": "608670",
    "end": "618120"
  },
  {
    "start": "615000",
    "end": "668000"
  },
  {
    "text": "it surrounds making sure that we can change quickly and that we can use you",
    "start": "618120",
    "end": "623459"
  },
  {
    "text": "know we look at the way we build our systems as we're not building an end state we're not moving towards an end",
    "start": "623459",
    "end": "629190"
  },
  {
    "text": "state and then we're going to be done but where we're building a system which is always going to be changing it's going to be changing as we start",
    "start": "629190",
    "end": "635160"
  },
  {
    "text": "building it and then whatever point we start letting users on to it we're gonna carry on changing it and building it the",
    "start": "635160",
    "end": "640529"
  },
  {
    "text": "only point is going to change is when nobody's using anymore when we wind it down shut it down so we should design",
    "start": "640529",
    "end": "646949"
  },
  {
    "text": "our systems in ways that mean that we it's easy to change we have to have that in mind as a major consideration and our",
    "start": "646949",
    "end": "654360"
  },
  {
    "text": "designer that's what this book of building evolutionary architectures is about is about how to approach architecture how to move from thinking",
    "start": "654360",
    "end": "661110"
  },
  {
    "text": "about architecture as a static thing that we're doing towards something that's kind of continuously moving",
    "start": "661110",
    "end": "666750"
  },
  {
    "text": "process so kind of three areas to focus on I'm in this talk about how",
    "start": "666750",
    "end": "673589"
  },
  {
    "start": "668000",
    "end": "722000"
  },
  {
    "text": "do we optimize for change one is obviously defining things as code because that's kind of like the you know that's that's the the underlying thing",
    "start": "673589",
    "end": "679830"
  },
  {
    "text": "you know theme of you know what I'd like to talk about another is continuous",
    "start": "679830",
    "end": "685080"
  },
  {
    "text": "validation this is around testing that is around how do you get feedback and make sure that as you are building things that you're building the right",
    "start": "685080",
    "end": "691140"
  },
  {
    "text": "thing and building it well and the other is and I think this is really you space",
    "start": "691140",
    "end": "696480"
  },
  {
    "text": "that the the building of small pieces right so this is kind of the you know the trend towards micro services and all",
    "start": "696480",
    "end": "701610"
  },
  {
    "text": "of that is this idea of it's easier to work with smaller pieces to you know be able to change them quickly and also to",
    "start": "701610",
    "end": "707339"
  },
  {
    "text": "make sure that you're working with quality that you can kind of debug and and you know a small thing is easier to kind of make well than a big thing that",
    "start": "707339",
    "end": "713790"
  },
  {
    "text": "does lots of different things all together so these are the three areas I'm going to talk about so for that",
    "start": "713790",
    "end": "719339"
  },
  {
    "text": "first one of us define our stuff is code this is fairly so the reasons that we do",
    "start": "719339",
    "end": "724740"
  },
  {
    "text": "this are are fairly straightforward right so if everything is to find this code is very visible to everybody so anybody who joins your team and",
    "start": "724740",
    "end": "731670"
  },
  {
    "text": "understands the technology or is learning the technology stuff that you're working with can have a look and see well this is how an application server looks right this is the way we",
    "start": "731670",
    "end": "737790"
  },
  {
    "text": "can figure it it's right there in code it's not a document somewhere that may or may not be up today it also needs is",
    "start": "737790",
    "end": "744270"
  },
  {
    "text": "reusable we write something as code here's how we build an application server and then you can you know use it to create multiple application servers",
    "start": "744270",
    "end": "750930"
  },
  {
    "text": "and you can create them for maybe different customers different locations as well as your different environments and you know that like it's the same",
    "start": "750930",
    "end": "757260"
  },
  {
    "text": "thing it's consistent from every one of those application servers is built in the same way and then it's also testable",
    "start": "757260",
    "end": "762900"
  },
  {
    "text": "which gets onto that second practice that I'll talk about a little bit later but obviously if you have something",
    "start": "762900",
    "end": "768779"
  },
  {
    "text": "written as code then you know you can you can you can test it I'll talk about how that works um so firstly there's this idea if",
    "start": "768779",
    "end": "776459"
  },
  {
    "start": "772000",
    "end": "841000"
  },
  {
    "text": "you're gonna do infrastructure as code you need infrastructure right so you have an infrastructure platform as",
    "start": "776459",
    "end": "782550"
  },
  {
    "text": "basically this is like a cloud right and it may be a cloud like literally as in it's a public infrastructure as a service type of cloud or it could be in",
    "start": "782550",
    "end": "789600"
  },
  {
    "text": "your data center you can have a private cloud you can have virtualization many organizations also managed to do this",
    "start": "789600",
    "end": "794970"
  },
  {
    "text": "with physical hardware as well the key thing is that you have the kind of core resources so you have like on a compute",
    "start": "794970",
    "end": "800970"
  },
  {
    "text": "and storage and networking resources that you're able to prove these on demands using you know",
    "start": "800970",
    "end": "807570"
  },
  {
    "text": "programmatically right and that there's the answer you're doing this from a pool of resources and you can do it with your code on demand rather than having to go",
    "start": "807570",
    "end": "812850"
  },
  {
    "text": "ask somebody can you set something up for me so within this there's this",
    "start": "812850",
    "end": "819720"
  },
  {
    "text": "concept on the infrastructure stack which is basically this idea of it's",
    "start": "819720",
    "end": "825240"
  },
  {
    "text": "like you know so if you're using it's a collection of infrastructure resources that are defined and that you work with as a unit that's a droopin so this is",
    "start": "825240",
    "end": "831360"
  },
  {
    "text": "essentially like a terraform project CloudFormation template whatever it's like this is the unit of work with",
    "start": "831360",
    "end": "838170"
  },
  {
    "text": "infrastructure on a cloud type platform and then you use these things to build",
    "start": "838170",
    "end": "843360"
  },
  {
    "start": "841000",
    "end": "930000"
  },
  {
    "text": "you can call an application runtime platform this is often you know say on the core thing if you have like a platform as a service pass kind of thing",
    "start": "843360",
    "end": "849839"
  },
  {
    "text": "that's kind of core this it's like what am i running my application is on and that can have different shapes right so",
    "start": "849839",
    "end": "855390"
  },
  {
    "text": "you could be using virtual machines that's kind of the the standard with a typical cloud now ec2 instances or you",
    "start": "855390",
    "end": "860880"
  },
  {
    "text": "know is your every cloud has these virtual machines that you define and create on on-demand with your code you",
    "start": "860880",
    "end": "867209"
  },
  {
    "text": "can also be done with physical hardware as I mentioned so I mentioned I started out doing this with kind of like you know pixie boot type things and there's",
    "start": "867209",
    "end": "873330"
  },
  {
    "text": "tools like the Foreman and crowbar and so on which you can use if you really need to have physical hardware you know and deploy your thing straight onto it",
    "start": "873330",
    "end": "879510"
  },
  {
    "text": "for performance or for whatever reasons it is possible to build systems to automate that and treat it as if we're a",
    "start": "879510",
    "end": "885360"
  },
  {
    "text": "cloud at the bare metal cloud kind of concept and then these days obviously",
    "start": "885360",
    "end": "890640"
  },
  {
    "text": "containers are becoming more and more they're not prevalent but it's like it's the kind of where we're looking right if",
    "start": "890640",
    "end": "896130"
  },
  {
    "text": "we're not using containers where you know in kubernetes and doctrine all those kind of things we're probably you know experimenting with it and and",
    "start": "896130",
    "end": "902190"
  },
  {
    "text": "trying to work out how we can move towards that it has a lot of benefits and so this is just another kind of",
    "start": "902190",
    "end": "907230"
  },
  {
    "text": "variation of infrastructure resources that you provision and you know and can",
    "start": "907230",
    "end": "912870"
  },
  {
    "text": "manage so you can deploy applications on to it and there's also service runtimes doing even a little bit further and saying look we're not worried about like",
    "start": "912870",
    "end": "918990"
  },
  {
    "text": "you know I have my application code I'm deploying it into the system I don't really care which server or you know I",
    "start": "918990",
    "end": "924750"
  },
  {
    "text": "don't really know much detail about the servers that it runs on I'm just pushing the code but you still have you know so",
    "start": "924750",
    "end": "931110"
  },
  {
    "start": "930000",
    "end": "967000"
  },
  {
    "text": "you have to kind of think about it so for example for the clustering technology for the you know the kubernetes clusters and so on one of the",
    "start": "931110",
    "end": "936810"
  },
  {
    "text": "kind of things I'll talk a bit more about this in a moment but one of the kind of issues that we find is that people might be",
    "start": "936810",
    "end": "943950"
  },
  {
    "text": "defining other things as code but the cluster is kind of treated almost like a snowflake it's like we're gonna build the cluster build as big cluster and",
    "start": "943950",
    "end": "949470"
  },
  {
    "text": "then deploy things onto it and we manage the cluster by hand that we've managed our kubernetes by hands and that kind of",
    "start": "949470",
    "end": "955200"
  },
  {
    "text": "that has some issues and I'll I'll talk about a little bit later some patterns for managing these things but the kind",
    "start": "955200",
    "end": "962610"
  },
  {
    "text": "of key thing is that we wanted to find our clusters is code and manage those as code as well and then come becomes a",
    "start": "962610",
    "end": "968730"
  },
  {
    "start": "967000",
    "end": "1009000"
  },
  {
    "text": "server list I'm often asked about well do we need infrastructure was code if we're using server lists because there's no infrastructure that's all there is",
    "start": "968730",
    "end": "974730"
  },
  {
    "text": "infrastructure right and your server Lascaux Dever you're writing and pushing out there under the cloud platform and that gets executed on demand but still",
    "start": "974730",
    "end": "983130"
  },
  {
    "text": "there's gonna be you know it's you're gonna need to interact with other elements of a system it's probably gonna need to take you know make Network",
    "start": "983130",
    "end": "988920"
  },
  {
    "text": "requests that come in and trigger it to run and do things it might store things somewhere and so you still have to kind",
    "start": "988920",
    "end": "994320"
  },
  {
    "text": "of find these things and again you know as well you know I was gonna say with everything it's those things and all the",
    "start": "994320",
    "end": "999390"
  },
  {
    "text": "relationships should be defined as code and you should be testing them you know in test environments rather than this",
    "start": "999390",
    "end": "1004850"
  },
  {
    "text": "you know writing serve less code and pushing it straight to production right you're gonna test things right and so",
    "start": "1004850",
    "end": "1010400"
  },
  {
    "start": "1009000",
    "end": "1029000"
  },
  {
    "text": "this gets to the question of so how do we manage multiple environments when we were defining our infrastructure as code",
    "start": "1010400",
    "end": "1015470"
  },
  {
    "text": "and this is one of those things which on a certain level seems obvious like obviously we have we're defining our",
    "start": "1015470",
    "end": "1021410"
  },
  {
    "text": "infrastructure as code were dividing our environments as code and so that seems like you know we're gonna do that but it's like the details of how to do it",
    "start": "1021410",
    "end": "1027470"
  },
  {
    "text": "I'm gonna be tricky so there's kind of a couple of I think steps that people",
    "start": "1027470",
    "end": "1032630"
  },
  {
    "start": "1029000",
    "end": "1056000"
  },
  {
    "text": "often go through it's certainly that I went through when I was learning this so the kind of first thing that people do is say I'm gonna put all of my",
    "start": "1032630",
    "end": "1038900"
  },
  {
    "text": "environments in in code in a project where I've got a terraform project and in that project I've got my I'm gonna",
    "start": "1038900",
    "end": "1044900"
  },
  {
    "text": "have you know define each environment you know the server's in each environment databases in each environment networking in each",
    "start": "1044900",
    "end": "1050060"
  },
  {
    "text": "environment I'm just going to put those in this project that's all right there and I can work with it make changes to it and you know the problem is you know",
    "start": "1050060",
    "end": "1058880"
  },
  {
    "start": "1056000",
    "end": "1092000"
  },
  {
    "text": "you you end up very it's very easy to break things that you don't mean to break so you go and I'm gonna try make a tweak to how I do the networking I'll",
    "start": "1058880",
    "end": "1064820"
  },
  {
    "text": "tweak my test code that in in my project then I apply it it turns out there's some kind of relationship or I made a",
    "start": "1064820",
    "end": "1070910"
  },
  {
    "text": "type or whatever it is and so I've broken maybe production or if I you know bring",
    "start": "1070910",
    "end": "1076340"
  },
  {
    "text": "things down I run the tool and it kind of like you know you know you know it fails in some way it might affect",
    "start": "1076340",
    "end": "1082730"
  },
  {
    "text": "production right so this becomes this is like one of those things that you might start out doing when you're learning the tools and then you get into a situation",
    "start": "1082730",
    "end": "1088399"
  },
  {
    "text": "but if nothing bad happens you say I'm not doing that anymore so the next thing that people tend to move on to is saying right I'm gonna",
    "start": "1088399",
    "end": "1094220"
  },
  {
    "start": "1092000",
    "end": "1112000"
  },
  {
    "text": "separate the code for my different environments I'm gonna have one terraform project that's my test environment another one for staging",
    "start": "1094220",
    "end": "1099919"
  },
  {
    "text": "another for production and now I don't have that that blast radius issue anymore I can change the code in my test",
    "start": "1099919",
    "end": "1106009"
  },
  {
    "text": "environment apply it to the infrastructure in the cloud you know and it's not going to accidentally affect",
    "start": "1106009",
    "end": "1111619"
  },
  {
    "text": "production but the problem is how you man has changes and promote changes across environments is you you copy and",
    "start": "1111619",
    "end": "1118070"
  },
  {
    "start": "1112000",
    "end": "1190000"
  },
  {
    "text": "paste them from one to the next after you've tested your change in the test environment you copy the change in your",
    "start": "1118070",
    "end": "1123169"
  },
  {
    "text": "the code for your production environment and it's easy to so and and it's easy to make mistakes is one issue another issue",
    "start": "1123169",
    "end": "1130009"
  },
  {
    "text": "is that often you'll have things in each of those which may be defined like names of things based on the environment so my",
    "start": "1130009",
    "end": "1135679"
  },
  {
    "text": "app server and staging is called app - staging and then production that's called app - production when you copy a",
    "start": "1135679",
    "end": "1142399"
  },
  {
    "text": "code change across then you have to remember make sure that you change all those things otherwise you might screw something up right the other thing is",
    "start": "1142399",
    "end": "1149809"
  },
  {
    "text": "that that happens is that code gets kind of inconsistent so you like you start to work on a change you start testing it",
    "start": "1149809",
    "end": "1154970"
  },
  {
    "text": "something else comes up and you have to leave it so your your test code or your staging code it's got some unfinished",
    "start": "1154970",
    "end": "1160519"
  },
  {
    "text": "work in there and then you have to do something in production and what you do you guys go straight to production and",
    "start": "1160519",
    "end": "1165679"
  },
  {
    "text": "fix it there because the you know and so you get this kind of state where you're very similar to when you're running multiple environments in your pasture",
    "start": "1165679",
    "end": "1172549"
  },
  {
    "text": "production and you're configuring them by hands where it's like our staging isn't quite production because we have some half-finished work on there and",
    "start": "1172549",
    "end": "1178820"
  },
  {
    "text": "some things are a little bit different because we fix them in production and not in staging and so it kind of doesn't help with the whole consistency thing or",
    "start": "1178820",
    "end": "1184609"
  },
  {
    "text": "it takes a lot of work and a lot of discipline to make sure that you're consistent so the pattern that I tend to",
    "start": "1184609",
    "end": "1191570"
  },
  {
    "start": "1190000",
    "end": "1264000"
  },
  {
    "text": "recommend is called or I call it the template stack pattern and this is the idea that you actually have one source",
    "start": "1191570",
    "end": "1196609"
  },
  {
    "text": "code project again so we go back to having one terraform project but rather than that project having separate code",
    "start": "1196609",
    "end": "1202190"
  },
  {
    "text": "for each environment it's got one set of code which says this is what and it looks like this is what you know and",
    "start": "1202190",
    "end": "1207620"
  },
  {
    "text": "it's got application services got web servers it's got load balancers whatever and it might be parameterised to say",
    "start": "1207620",
    "end": "1213140"
  },
  {
    "text": "okay I'm in my test instance of my of my environment I'm only going to have one application server and production they",
    "start": "1213140",
    "end": "1218930"
  },
  {
    "text": "might have more application servers but it's like a parameter that you put in which is like how many or what parameters for your kind of automatic",
    "start": "1218930",
    "end": "1224810"
  },
  {
    "text": "scaling if you have that and so that has a lot of advantages right this is going to support our kind of ability to kind",
    "start": "1224810",
    "end": "1230600"
  },
  {
    "text": "of test and promote and it's the same way we deal with our applications right we don't take if we've got a java application that we use to build us a",
    "start": "1230600",
    "end": "1238550"
  },
  {
    "text": "spring boot jar file that we deploy we don't have separate copies of our source code for each environments and then copy",
    "start": "1238550",
    "end": "1244310"
  },
  {
    "text": "and paste to a different source code and rebuild it you know for each thing we have a single you know you know we have",
    "start": "1244310",
    "end": "1250640"
  },
  {
    "text": "a single you know I get repo we have a single project for our application we check it out we use it to build you know a deploy",
    "start": "1250640",
    "end": "1258890"
  },
  {
    "text": "artifact like a jar file and then we move that we have a version number move that through and we kinda want to do the same thing with our to be able to do the",
    "start": "1258890",
    "end": "1264680"
  },
  {
    "start": "1264000",
    "end": "1290000"
  },
  {
    "text": "same do the same thing with our infrastructure code and so this gets down to that kind of the second of the",
    "start": "1264680",
    "end": "1270650"
  },
  {
    "text": "the kind of three major practices and I'm talking about here which is continuously validate all the work as",
    "start": "1270650",
    "end": "1276890"
  },
  {
    "text": "you go again this is one of the times what I'm talking about this stuff and realizing well this is you know I'm",
    "start": "1276890",
    "end": "1282170"
  },
  {
    "text": "talking about things that are not specific to infrastructure necessarily right did you do this you want to do this with your application code as well",
    "start": "1282170",
    "end": "1288050"
  },
  {
    "text": "and it's just the same thing really although there can be some kind of challenges and doing it with",
    "start": "1288050",
    "end": "1293420"
  },
  {
    "text": "infrastructure so yeah the idea is if you've got this kind of thing of it you've got a template I've got a terraform project or CloudFormation or",
    "start": "1293420",
    "end": "1300050"
  },
  {
    "text": "ansible whatever it is which defines this is what my environment looks like every time you make a change to the code for that you'd like to push the code to",
    "start": "1300050",
    "end": "1307550"
  },
  {
    "text": "your source code repository and have it automatically tested you won't do continuous integration on your",
    "start": "1307550",
    "end": "1312590"
  },
  {
    "text": "infrastructure code in that way you know right away if you've broken something you get the feedback right away rather than having to wait until somebody tries",
    "start": "1312590",
    "end": "1318590"
  },
  {
    "text": "to apply it to an environment and then something breaks and so then this gives us the ability to do a pipeline just",
    "start": "1318590",
    "end": "1324470"
  },
  {
    "start": "1321000",
    "end": "1373000"
  },
  {
    "text": "like we do with application code we say we're gonna promote our infrastructure",
    "start": "1324470",
    "end": "1330410"
  },
  {
    "text": "code from one environment to the next we're going to use whether it's go CD or",
    "start": "1330410",
    "end": "1335450"
  },
  {
    "text": "Jenkins or what are these kind of tools we can use that for our infrastructure code and",
    "start": "1335450",
    "end": "1341659"
  },
  {
    "text": "so typically for infrastructure you need to have four as you're working on code locally as a developer you want to be",
    "start": "1341659",
    "end": "1348380"
  },
  {
    "text": "able to test your infrastructure before you push it in and so you might have a sandbox environment which is this is my",
    "start": "1348380",
    "end": "1353539"
  },
  {
    "text": "instance on the cloud and our kind of platform that I can kind of make changes to as I work on my infrastructure code",
    "start": "1353539",
    "end": "1360110"
  },
  {
    "text": "and then I'm going to push it and it's going to do a build it might do some validation and then we're going to test you know create a test environment of",
    "start": "1360110",
    "end": "1366559"
  },
  {
    "text": "the infrastructure and then integrated in with the application code and so on",
    "start": "1366559",
    "end": "1372700"
  },
  {
    "text": "now the challenge with this stuff particular with infrastructure maybe more than with other code is the",
    "start": "1372700",
    "end": "1378049"
  },
  {
    "start": "1373000",
    "end": "1413000"
  },
  {
    "text": "feedback cycle is a time it takes select where if your code is spinning up an environment in order to test it you know",
    "start": "1378049",
    "end": "1386299"
  },
  {
    "text": "it can be very very slow you know creating servers and you know network infrastructure and so on in the cloud",
    "start": "1386299",
    "end": "1393350"
  },
  {
    "text": "you know it could take like you know 10 20 30 minutes for it to kind of come up I mean especially as your system grows",
    "start": "1393350",
    "end": "1400309"
  },
  {
    "text": "and you get more people working on it this becomes untenable this is one of the problems that people face you know when they hear about this idea of doing",
    "start": "1400309",
    "end": "1406610"
  },
  {
    "text": "the automated testing and so on for their infrastructure they think it's a great idea but it's like it's just it's too slow we can't manage to do it and so",
    "start": "1406610",
    "end": "1413539"
  },
  {
    "start": "1413000",
    "end": "1427000"
  },
  {
    "text": "this is where this third kind of key core practice comes in which is breaking down your infrastructure into smaller",
    "start": "1413539",
    "end": "1419539"
  },
  {
    "text": "pieces which are faster and easier to work with and then that helps you to kind of make this this whole thing more",
    "start": "1419539",
    "end": "1425720"
  },
  {
    "text": "manageable in terms of those feedback loops so if you look at a stack if you look at say it's like a terraform or",
    "start": "1425720",
    "end": "1431870"
  },
  {
    "start": "1427000",
    "end": "1491000"
  },
  {
    "text": "CloudFormation project this defines servers and networking and databases and so on you know you can break the servers",
    "start": "1431870",
    "end": "1440029"
  },
  {
    "text": "out and say okay let's let's think about we're gonna build our servers actually okay maybe terraform creates our server",
    "start": "1440029",
    "end": "1446870"
  },
  {
    "text": "in the cloud but we're gonna run something like ansible or chef to actually configure what's on that server",
    "start": "1446870",
    "end": "1452299"
  },
  {
    "text": "and then we think about then the that code what happens on the server as a",
    "start": "1452299",
    "end": "1457340"
  },
  {
    "text": "separate thing that we can kind of test separately work with separately you might define a role which is this is an application server and that role might",
    "start": "1457340",
    "end": "1464090"
  },
  {
    "text": "have separate cookbooks or play books or whatnot which are for the different elements of what goes on the application",
    "start": "1464090",
    "end": "1470120"
  },
  {
    "text": "server all right so now we've got something to kind of broken down a little bit more detail and you know again this is like",
    "start": "1470120",
    "end": "1477789"
  },
  {
    "text": "separating from the what happens when we build the stack is like you build the stack with one tool and that tool",
    "start": "1477789",
    "end": "1483080"
  },
  {
    "text": "probably calls your ansible or puppet chef to actually then carry out make",
    "start": "1483080",
    "end": "1488330"
  },
  {
    "text": "turning it into an application server and so they can test those server configurations separately we can even do",
    "start": "1488330",
    "end": "1497690"
  },
  {
    "start": "1491000",
    "end": "1533000"
  },
  {
    "text": "it in virtual machines because we don't need to so the the thing that makes the overall infrastructure slow is that you're building stuff on the cloud",
    "start": "1497690",
    "end": "1503149"
  },
  {
    "text": "you're creating a you know booting up a new server a new virtual machine that takes a little while you can say we can actually test what the the code to build",
    "start": "1503149",
    "end": "1510320"
  },
  {
    "text": "that server does without having to spin up a server in the cloud we can do it locally or we can do it on a build",
    "start": "1510320",
    "end": "1515840"
  },
  {
    "text": "agents and we can do it in a docker container say you can have a docker container which has like a very very I'm",
    "start": "1515840",
    "end": "1521990"
  },
  {
    "text": "stripped-down OS and then you apply your code which says build what oh the pieces of an application server on to that that",
    "start": "1521990",
    "end": "1528710"
  },
  {
    "text": "that basic image and then you can have some tests which say you know did it do it correctly then you can kind of build",
    "start": "1528710",
    "end": "1535130"
  },
  {
    "start": "1533000",
    "end": "1733000"
  },
  {
    "text": "your pipelines you know in the kind of classic kind of fan-in pattern where you're saying I'm gonna have some stages",
    "start": "1535130",
    "end": "1541220"
  },
  {
    "text": "up here which am i doing my server configuration maybe I've got a playbook that that installs Tomcat and so I'm",
    "start": "1541220",
    "end": "1546559"
  },
  {
    "text": "gonna test that as one thing on its own and then I have another playbook that does something else from work that I want on an application server maybe an",
    "start": "1546559",
    "end": "1552440"
  },
  {
    "text": "install my monitoring software or what-have-you I'm gonna test that by itself and if there's anything wrong",
    "start": "1552440",
    "end": "1557960"
  },
  {
    "text": "with the code if I make a change to that code and I break it I'll find out really quickly without having to worry about creating the entire application server I",
    "start": "1557960",
    "end": "1564320"
  },
  {
    "text": "found out very quickly oh I broke that code for installing Tomcat I'm gonna fix that and and then you know kick the",
    "start": "1564320",
    "end": "1570500"
  },
  {
    "text": "pipeline off again with the with the fix and then you can you know as you aggregate them together so the next kind",
    "start": "1570500",
    "end": "1575990"
  },
  {
    "text": "of brown one there is saying we've got the application server role put all those things together put our Tomcat or monitoring agent whatever other pieces",
    "start": "1575990",
    "end": "1581360"
  },
  {
    "text": "belong on an application server together and run them together and say run just the tests we need at that point to say",
    "start": "1581360",
    "end": "1587269"
  },
  {
    "text": "does it all hang together as an application server the way I expect and then we can pull that in because we've",
    "start": "1587269",
    "end": "1592760"
  },
  {
    "text": "got our other kind of like branch to the pipeline down here where we're testing the just like the terraform code and",
    "start": "1592760",
    "end": "1597950"
  },
  {
    "text": "that terraform code if we get into how we design it we can design it in a way that says I don't need to actually",
    "start": "1597950",
    "end": "1603830"
  },
  {
    "text": "create my application server right I've got terraform code which creates the networking structures maybe some of the other things and I'm",
    "start": "1603830",
    "end": "1611659"
  },
  {
    "text": "just gonna test in that pipe part of the pipeline just does that work together because one of the things you find with infrastructure is like so one of the",
    "start": "1611659",
    "end": "1618320"
  },
  {
    "text": "kind of things I tend to test is like the routing of things because you'll set up like I've got different subnets I've",
    "start": "1618320",
    "end": "1623509"
  },
  {
    "text": "got security groups I've got load balancers gateways and then you've got your code it creates that and then you",
    "start": "1623509",
    "end": "1629419"
  },
  {
    "text": "boot up your server into it and you try to like you know open your browser pointed at it and it's like you know there's you know connection refused",
    "start": "1629419",
    "end": "1635299"
  },
  {
    "text": "you're like which part of all of those little pieces is is stopping you know me from getting that connection into my",
    "start": "1635299",
    "end": "1640909"
  },
  {
    "text": "server and so you can you can kind of like build that like logic and then have tests which check that without actually",
    "start": "1640909",
    "end": "1646129"
  },
  {
    "text": "having to create a server in there you can just things that are much more lightweight for your testing and so then that gives you that kind of feedback",
    "start": "1646129",
    "end": "1651590"
  },
  {
    "text": "that yeah okay I've got those things working fine and I don't need to kind of it's only if I touch those they need to rerun you know push a change through and",
    "start": "1651590",
    "end": "1658519"
  },
  {
    "text": "run tests on that otherwise I'm if I'm just testing you know making a change in my application server I can push that through and we integrate them together",
    "start": "1658519",
    "end": "1665029"
  },
  {
    "text": "and so I'm going to take that terraform code which I tested last week and they haven't changed it since then I'm gonna put in that my now my application server",
    "start": "1665029",
    "end": "1671779"
  },
  {
    "text": "with the new version of my my code for that and then I'm gonna test that they work together and again always with",
    "start": "1671779",
    "end": "1677690"
  },
  {
    "text": "these kind of progressive pipelines on infrastructure you're only testing you only want to test what you have to test",
    "start": "1677690",
    "end": "1682940"
  },
  {
    "text": "at that point so those green boxes shouldn't be going and saying is Tomcat installed is Java installed is my",
    "start": "1682940",
    "end": "1688100"
  },
  {
    "text": "monitoring agent installed because you should have tested those earlier it should be testing like does it all work",
    "start": "1688100",
    "end": "1693500"
  },
  {
    "text": "together can I connect and then when I connect you know when I point to the that you know network port and it goes",
    "start": "1693500",
    "end": "1699259"
  },
  {
    "text": "through all the kind of you know the no subnets and gateways and whatnot does",
    "start": "1699259",
    "end": "1705919"
  },
  {
    "text": "the thing come back show me that my application server is actually installed and I'm talking to that so it's kind of",
    "start": "1705919",
    "end": "1711409"
  },
  {
    "text": "like you're testing the pieces are all together so that kind of keeps it from becoming heavy where you don't want the those test stages there to be like too",
    "start": "1711409",
    "end": "1718309"
  },
  {
    "text": "massive and testing all the kind of details you want to just test just what they need to test and this is part of that all this kind of mentality helps",
    "start": "1718309",
    "end": "1724610"
  },
  {
    "text": "you with like saying that the the testing regime for infrastructure is is quicker and more manageable than the",
    "start": "1724610",
    "end": "1734000"
  },
  {
    "text": "other aspect of this talked about breaking out your kind of servers what about we have a like a large and your system is this big right now",
    "start": "1734000",
    "end": "1740210"
  },
  {
    "text": "we've got like 10 teams working on things all kinds of different application servers and databases and",
    "start": "1740210",
    "end": "1745429"
  },
  {
    "text": "things and it's just big right so even what environment spinning that up and testing it just takes you know so long",
    "start": "1745429",
    "end": "1752509"
  },
  {
    "text": "and the answer here is well you know we've got a monolithic system right it's",
    "start": "1752509",
    "end": "1758120"
  },
  {
    "text": "just like we wouldn't look at software and we say well we've got a monolithic application we've got a monolithic system monolithic infrastructure and it",
    "start": "1758120",
    "end": "1766190"
  },
  {
    "text": "has all the kind of same drawbacks again with infrastructure code it's like well if you make a change to one part of your system you might accidentally break",
    "start": "1766190",
    "end": "1772580"
  },
  {
    "text": "something that another team is working on and then you end up with having to have a lot of coordination overhead it's like I'm gonna make a change the",
    "start": "1772580",
    "end": "1778249"
  },
  {
    "text": "infrastructure away we're not ready we're doing something over here and then another team's not ready and so it makes",
    "start": "1778249",
    "end": "1783559"
  },
  {
    "text": "it hard to actually keep your infrastructure up-to-date because you've got a you know worried about everybody",
    "start": "1783559",
    "end": "1788690"
  },
  {
    "text": "that might be impacted by your change and so it comes back to again we're",
    "start": "1788690",
    "end": "1793820"
  },
  {
    "text": "borrowing concepts from software development right and and microservices is is the kind of thing that we've",
    "start": "1793820",
    "end": "1801619"
  },
  {
    "text": "realized we need to do with software and regardless like the extent that you do it you may or may not get down to like",
    "start": "1801619",
    "end": "1806779"
  },
  {
    "text": "they're really really small you know you know uber having a thousand and fifteen hundred you know micro services I'm in",
    "start": "1806779",
    "end": "1813619"
  },
  {
    "text": "their system you might not be at quite that level but still you're breaking it down into smaller pieces that are easier to work with and that should come down",
    "start": "1813619",
    "end": "1819769"
  },
  {
    "text": "to the infrastructure as well they should have smaller pieces of infrastructure to work with and each",
    "start": "1819769",
    "end": "1825139"
  },
  {
    "text": "piece of the infrastructure each stack each terraform project CloudFormation they can break out should have its own pipeline so you can test it in isolation",
    "start": "1825139",
    "end": "1831379"
  },
  {
    "text": "and get feedback on that and then also so you don't have to coordinate so much because you fear if I'm changing my and",
    "start": "1831379",
    "end": "1837019"
  },
  {
    "text": "my team is changing our parts of the infrastructure it shouldn't mean we have to coordinate with other people because we shouldn't be impacting them we should",
    "start": "1837019",
    "end": "1842899"
  },
  {
    "text": "be kind of drawing the boundaries here to make sure that it is easy for us to make changes and so where do you draw",
    "start": "1842899",
    "end": "1849590"
  },
  {
    "start": "1844000",
    "end": "1900000"
  },
  {
    "text": "those boundaries how do you break your infrastructure apart I think it's got to be kind of holistic you have to look at",
    "start": "1849590",
    "end": "1855080"
  },
  {
    "text": "we typically start by looking at like the application you know applications and systems that that are kind of user",
    "start": "1855080",
    "end": "1860749"
  },
  {
    "text": "facing the business value of things you know what are those moving parts and you want to try to outline your",
    "start": "1860749",
    "end": "1865759"
  },
  {
    "text": "infrastructure infrastructure pieces as well to those so that it can be you know",
    "start": "1865759",
    "end": "1871039"
  },
  {
    "text": "ideally the same teams or working with I'm changing my application my infrastructure they might change together so let's keep those kind of the",
    "start": "1871039",
    "end": "1878930"
  },
  {
    "text": "boundaries aligned to those and it goes to the the Conway's law thing right and you're you should be thinking about all",
    "start": "1878930",
    "end": "1885140"
  },
  {
    "text": "these things your application infrastructure or it's our application architecture your infrastructure architecture and your organizational",
    "start": "1885140",
    "end": "1891740"
  },
  {
    "text": "architecture and making sure that though all those boundaries are lined up right so that changes are easy to make across",
    "start": "1891740",
    "end": "1897800"
  },
  {
    "text": "the whole stack and so I mentioned before I'm going to talk about the the how container clusters and all that's",
    "start": "1897800",
    "end": "1904520"
  },
  {
    "start": "1900000",
    "end": "1938000"
  },
  {
    "text": "works and this is a good example I think of breaking down infrastructure into kind of different parts so so often what",
    "start": "1904520",
    "end": "1910820"
  },
  {
    "text": "we get the kind of starting point again is we're gonna have it we're gonna set up a kubernetes cluster and deploy applications onto it and a lot of",
    "start": "1910820",
    "end": "1916490"
  },
  {
    "text": "organizations look to how we're gonna have one big kubernetes cluster for all of our stuff and all of our environments because it's easier to manage maybe and",
    "start": "1916490",
    "end": "1926060"
  },
  {
    "text": "then we I know environments become just like a concept within the cluster right so maybe you do it with labels or what have you and we say you know we deploy",
    "start": "1926060",
    "end": "1932360"
  },
  {
    "text": "our are these set of applications onto the cluster and these are our testing and our staging and production or different sets of them now the issues",
    "start": "1932360",
    "end": "1939710"
  },
  {
    "start": "1938000",
    "end": "1998000"
  },
  {
    "text": "with this that people run into is it's might be fine from the application point of view but for the the cluster itself",
    "start": "1939710",
    "end": "1945080"
  },
  {
    "text": "it's like it becomes risky to change it right so you get in these situations like you're always gonna get patches",
    "start": "1945080",
    "end": "1950960"
  },
  {
    "text": "right you always got like these kind of security vulnerabilities get kind of published that you know you have in the",
    "start": "1950960",
    "end": "1955970"
  },
  {
    "text": "version of kubernetes or the version of the containers the version of the hosts operating systems so we've got a patch",
    "start": "1955970",
    "end": "1961550"
  },
  {
    "text": "our kubernetes clusters and so you're always having this drive that we need to",
    "start": "1961550",
    "end": "1966980"
  },
  {
    "text": "make changes to it or not to mention like new kind of features right because the the that all of the kind of software that's underpinning this I mean if you",
    "start": "1966980",
    "end": "1973490"
  },
  {
    "text": "before you get into like your service matches you see on all these kind of things is like there's constantly",
    "start": "1973490",
    "end": "1978740"
  },
  {
    "text": "changing constantly changing and so you're constantly having to kind of do up updates and stuff to kind of keep it keep it all together and keep it moving",
    "start": "1978740",
    "end": "1984830"
  },
  {
    "text": "and then obviously if you got one big cluster that everything runs on it's risky to change right so you say oh we",
    "start": "1984830",
    "end": "1990500"
  },
  {
    "text": "need to roll out the security update and it's like well you know you might break it right and and you know you're going",
    "start": "1990500",
    "end": "1995540"
  },
  {
    "text": "to break production as well as your test stage and so on it's also harder to change because you've got to do that",
    "start": "1995540",
    "end": "2001030"
  },
  {
    "start": "1998000",
    "end": "2031000"
  },
  {
    "text": "coordination all the teams that are involved all the different environments that are running on this big cluster",
    "start": "2001030",
    "end": "2006770"
  },
  {
    "text": "mean it's a lot more work to coordinate that and so you therefore you do it less frequently and you're kind of in this",
    "start": "2006770",
    "end": "2012700"
  },
  {
    "text": "situation where you're always kind of behind and it's one thing to be behind on the software and saying we're not",
    "start": "2012700",
    "end": "2017780"
  },
  {
    "text": "running the latest and greatest version of kubernetes and it's do and all that and that's probably all right but it's",
    "start": "2017780",
    "end": "2023210"
  },
  {
    "text": "like when you're you know you're not patched up because it's too hard to keep it patched up and so we're kind of like six months nine months behind on",
    "start": "2023210",
    "end": "2028460"
  },
  {
    "text": "security patching all right so what you can do obviously is you can break it by",
    "start": "2028460",
    "end": "2033920"
  },
  {
    "start": "2031000",
    "end": "2101000"
  },
  {
    "text": "environments that makes yeah I think that makes sense to say let's run a different cluster run our environments and different clusters and so here what",
    "start": "2033920",
    "end": "2041150"
  },
  {
    "text": "I've shown is that we've got just like two clusters so it's not that we can still have multiple applications on a",
    "start": "2041150",
    "end": "2046880"
  },
  {
    "text": "cluster because there may still be some efficiencies in that so I say we got staging a production or one cluster and and this might also be aligned to things",
    "start": "2046880",
    "end": "2053690"
  },
  {
    "text": "that your organizational and compliance boundary is to say in our staging environments we tend to have real user",
    "start": "2053690",
    "end": "2059120"
  },
  {
    "text": "data because we're maybe testing things that way in our staging environment and so there's different kind of constraints around it and so we can kind of group it",
    "start": "2059120",
    "end": "2065000"
  },
  {
    "text": "together and say that cluster is the cluster where we can have user data and in terms of our compliance rules there's",
    "start": "2065000",
    "end": "2070310"
  },
  {
    "text": "like one set of rules around that our testing cluster will say we could have testing and QA and maybe other environments but their environment we",
    "start": "2070310",
    "end": "2076730"
  },
  {
    "text": "don't have user data or whatever kind of reasons you have for having boundaries between things so you can kind of like",
    "start": "2076730",
    "end": "2082520"
  },
  {
    "text": "share things that way still that said I do know a lot of people who are very adamant about actually we want a",
    "start": "2082520",
    "end": "2087590"
  },
  {
    "text": "separate cluster for every environment a separate instance of kubernetes for each environment that we want to kind of",
    "start": "2087590",
    "end": "2093080"
  },
  {
    "text": "deploy and progress it through and that's also like a valid thing it kind",
    "start": "2093080",
    "end": "2098810"
  },
  {
    "text": "of depends on your your requirements and all of that and once you're doing this then it's just like any other",
    "start": "2098810",
    "end": "2104420"
  },
  {
    "start": "2101000",
    "end": "2212000"
  },
  {
    "text": "infrastructures code that we're talking about your cluster your kubernetes cluster is code and you can put it through a pipeline with different",
    "start": "2104420",
    "end": "2111500"
  },
  {
    "text": "environments and you can do automated testing on that so you say okay we're gonna update the version of kubernetes we update the code that does it and the",
    "start": "2111500",
    "end": "2118550"
  },
  {
    "text": "code can be different things right it might be your CloudFormation cooper terraform and some of whatever code",
    "start": "2118550",
    "end": "2124550"
  },
  {
    "text": "you're using to create your environment might also be something like I know cops or one of these other than these plenty of other kind of tools around that most",
    "start": "2124550",
    "end": "2131180"
  },
  {
    "text": "of them are things that you can you know you're defining your things hopefully as code if it's a tool that doesn't let you",
    "start": "2131180",
    "end": "2138320"
  },
  {
    "text": "define how your cluster is configured and built as code you should probably pick another",
    "start": "2138320",
    "end": "2143400"
  },
  {
    "text": "tool because that's you know it's not tenable to kind of think go to a UI and be pointing and clicking how you",
    "start": "2143400",
    "end": "2149250"
  },
  {
    "text": "configure things so yeah the idea is that you can kind of push this through",
    "start": "2149250",
    "end": "2154350"
  },
  {
    "text": "the environments and one of the kind of things I tend to do is have a separate environment separate stages of pipelines",
    "start": "2154350",
    "end": "2160680"
  },
  {
    "text": "for infrastructure before I put it into development environments right so one of the things that you know I used to do",
    "start": "2160680",
    "end": "2166590"
  },
  {
    "text": "early on so I'll make it connect it changed our infrastructure code now would push it into our development environments and then it would break the",
    "start": "2166590",
    "end": "2173010"
  },
  {
    "text": "development environments and then developers would and testers would get angry because they can't you know push their code waiting for me to unbreak the",
    "start": "2173010",
    "end": "2180960"
  },
  {
    "text": "infrastructure so then I said I started kind of saying let's let's have a separate environment where we do just",
    "start": "2180960",
    "end": "2186030"
  },
  {
    "text": "our infrastructure without the applications nobody else cares if we break it other than us and then we make sure that we're happy with it run",
    "start": "2186030",
    "end": "2191340"
  },
  {
    "text": "automated tests whatever checks we want to make before we then okay now we can push it into our development pipeline",
    "start": "2191340",
    "end": "2196500"
  },
  {
    "text": "and you kind of want to do all the pipelines together you don't want to push it straight into production because you want to make sure that you test then the applications still work with our",
    "start": "2196500",
    "end": "2203880"
  },
  {
    "text": "updates toward infrastructure code and then everything kind of flows along the production together or at least in",
    "start": "2203880",
    "end": "2210180"
  },
  {
    "text": "parallel and then another way to do it similarly to what I was talking about",
    "start": "2210180",
    "end": "2215490"
  },
  {
    "start": "2212000",
    "end": "2278000"
  },
  {
    "text": "earlier is okay you got you can break it down by environment you can also break it down within an environment and say actually each environment so each",
    "start": "2215490",
    "end": "2220890"
  },
  {
    "text": "environment might be a single kubernetes cluster or it might be separate clusters and then some of the kind of patterns",
    "start": "2220890",
    "end": "2228000"
  },
  {
    "text": "that are useful here is thinking about team boundaries or like groups of teams so a lot of organizations especially as they get larger what they find is that",
    "start": "2228000",
    "end": "2235050"
  },
  {
    "text": "useful to kind of make these kind of groups we have like kind of four or five different teams working on applications",
    "start": "2235050",
    "end": "2241170"
  },
  {
    "text": "that are part of an overall kind of function you know maybe it could be like you've got teams working on like kind of",
    "start": "2241170",
    "end": "2246240"
  },
  {
    "text": "product management payments or you know whatever kind of like business functions you might be grouping teams that way and",
    "start": "2246240",
    "end": "2253260"
  },
  {
    "text": "if you know so you have a group of teams that are kind of related working together if that's the structure of your thing then having a common",
    "start": "2253260",
    "end": "2258660"
  },
  {
    "text": "infrastructure between those teams kind of works out all right it's when you get another thing of we've got you know 20 30 teams all using a single single",
    "start": "2258660",
    "end": "2265110"
  },
  {
    "text": "kubernetes cluster in each environment we're again you get into that thing of well we've got an urgent update we have",
    "start": "2265110",
    "end": "2270120"
  },
  {
    "text": "to push through but it's going to potentially effects you know those twenty or thirty teams and that means you like need a lot more coordination",
    "start": "2270120",
    "end": "2276210"
  },
  {
    "text": "and whatnot so yeah we do this we can avoid big bang updates we want to each",
    "start": "2276210",
    "end": "2282869"
  },
  {
    "start": "2278000",
    "end": "2297000"
  },
  {
    "text": "update to be something that we can do in kind of small pieces and for relevant teams you can schedule it with the team to say we need to push out this security",
    "start": "2282869",
    "end": "2288720"
  },
  {
    "text": "update to our kubernetes cluster you can do to this team first because they're ready the other team you can do it the",
    "start": "2288720",
    "end": "2293819"
  },
  {
    "text": "next day or whatever you can have kind of a schedule to roll those out you can also this this helps with having protein",
    "start": "2293819",
    "end": "2299730"
  },
  {
    "start": "2297000",
    "end": "2316000"
  },
  {
    "text": "configurations or maybe different teams or different groups of teams need to configure you know their shared",
    "start": "2299730",
    "end": "2305579"
  },
  {
    "text": "infrastructure in different ways because they're doing things differently and this then gives you the ability to kind of give that you know a bit of leeway on",
    "start": "2305579",
    "end": "2312569"
  },
  {
    "text": "that then the other thing is that again",
    "start": "2312569",
    "end": "2319020"
  },
  {
    "start": "2316000",
    "end": "2361000"
  },
  {
    "text": "as I mentioned earlier it's the governance boundaries can be helpful because not only and in terms like the environments as I mentioned but it might",
    "start": "2319020",
    "end": "2324690"
  },
  {
    "text": "be that like okay we've got one set of applications and services and so on which deal with payments and so they're",
    "start": "2324690",
    "end": "2331079"
  },
  {
    "text": "under regulations for like to say PCI compliance or Sox or whatnot and so you know then the code and the pipeline for",
    "start": "2331079",
    "end": "2337829"
  },
  {
    "text": "that can can be kind of tailored to make sure that we're doing the right things and creating the right evidence for",
    "start": "2337829",
    "end": "2342990"
  },
  {
    "text": "audits and so on and putting the right controls in place or as parts of our system which aren't under those compliance regimes might not have as",
    "start": "2342990",
    "end": "2349410"
  },
  {
    "text": "rigorous requirements and so we you know we can have you know separates and we",
    "start": "2349410",
    "end": "2355890"
  },
  {
    "text": "can separate those out and help you know not everybody has to move at the pace of the slowest part of the organization so",
    "start": "2355890",
    "end": "2363240"
  },
  {
    "text": "the kind of summary on this is you know going back to we want to optimize for a change and how we work and that when I",
    "start": "2363240",
    "end": "2369930"
  },
  {
    "text": "say optimize for change is not just about optimizing to go as fast as possible it's about also making sure that we're doing things correctly and",
    "start": "2369930",
    "end": "2376049"
  },
  {
    "text": "with confidence and and you know it so it's kind of leveraging the tools to do both of those things at once and that",
    "start": "2376049",
    "end": "2381450"
  },
  {
    "text": "each of those things should enable the other and I guess a couple more points lemak on this in terms of how to do this",
    "start": "2381450",
    "end": "2387990"
  },
  {
    "text": "how to implement this you know with your system I think it's really important for as you're building any piece of",
    "start": "2387990",
    "end": "2393630"
  },
  {
    "text": "infrastructure you need to be building in this automation building in the defining it as code and using tests and",
    "start": "2393630",
    "end": "2400049"
  },
  {
    "text": "using pipelines as you build that piece of infrastructure so often run into people who are like well",
    "start": "2400049",
    "end": "2405060"
  },
  {
    "text": "don't really have the pieces in place yet we're building something in the cloud for the first time or we're doing this kind of automation of our",
    "start": "2405060",
    "end": "2410550"
  },
  {
    "text": "infrastructure for the first time or you know you're the cloud-based up so we're gonna you know first we need to work out what it is and build it we'll build the",
    "start": "2410550",
    "end": "2416880"
  },
  {
    "text": "thing first and then we'll go back and have the automation so if you've ever tried to add unit tests to an existing",
    "start": "2416880",
    "end": "2422790"
  },
  {
    "text": "code base that doesn't have unit tests you know that like it's really really hard to automate something that already",
    "start": "2422790",
    "end": "2427800"
  },
  {
    "text": "exists and was built without the automation and in fact we end up having to use the end of having to rebuild to a",
    "start": "2427800",
    "end": "2433710"
  },
  {
    "text": "large extent a system in order to make it workable so they can pull pieces out and test them independently and it's the",
    "start": "2433710",
    "end": "2438990"
  },
  {
    "text": "same with automating your infrastructure as it's the same with automating the deployment of your application you've got to kind of build it in from the",
    "start": "2438990",
    "end": "2444450"
  },
  {
    "text": "start and that's hard because it takes if you don't have these things in place if you don't have it's not just about",
    "start": "2444450",
    "end": "2450000"
  },
  {
    "text": "like picking the tools and saying we're using terraform or using this tool using that tool implementing that and deciding",
    "start": "2450000",
    "end": "2455880"
  },
  {
    "text": "how you want to use it and how you should use it your organization is you know it turns out to be a lot more work",
    "start": "2455880",
    "end": "2461070"
  },
  {
    "text": "than people expect it's that often leads to this kind of thing of well let's just do the automation later but it's you know it's",
    "start": "2461070",
    "end": "2468420"
  },
  {
    "text": "only these things that's worth it if you pick out a small piece with simpler requirements and like let's just take this this simple piece and let's build",
    "start": "2468420",
    "end": "2474360"
  },
  {
    "text": "the automation for that and get used to the kind of tooling and everything and how we do pipeline for our infrastructure to do that first and that",
    "start": "2474360",
    "end": "2481770"
  },
  {
    "text": "will take you a while there's kind of like this curve where you get quite a while to get even as one simple piece working and then you're in a better",
    "start": "2481770",
    "end": "2488490"
  },
  {
    "text": "place like now we can do more pieces and it becomes faster and faster and each thing that you you build you know the",
    "start": "2488490",
    "end": "2494460"
  },
  {
    "text": "new thing that you build in the cloud and with infrastructure is code doing this automation helps you do it faster and helps it meet it with more",
    "start": "2494460",
    "end": "2500730"
  },
  {
    "text": "confidence and so it's just that that kind of curves that's I guess final bit",
    "start": "2500730",
    "end": "2506280"
  },
  {
    "text": "of advice on that I think a few minutes for questions [Applause]",
    "start": "2506280",
    "end": "2519739"
  }
]