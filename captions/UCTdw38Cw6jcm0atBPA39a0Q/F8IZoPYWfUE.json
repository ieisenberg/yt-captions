[
  {
    "text": "all right hello welcome and thank you for coming um my name is Howard and I work",
    "start": "5240",
    "end": "13599"
  },
  {
    "text": "for Autodesk Forma and today I'm going to talk to you about uh how we've on our",
    "start": "13599",
    "end": "21279"
  },
  {
    "text": "journey from a small Norwegian startup to now being a big Tech at Autodesk uh",
    "start": "21279",
    "end": "27760"
  },
  {
    "text": "use these techniques to uh uh combine reliability so quality of",
    "start": "27760",
    "end": "34040"
  },
  {
    "text": "our code and speed uh by what I've D with our pushing to main um mentality",
    "start": "34040",
    "end": "41600"
  },
  {
    "text": "this is both to empower our teams and our Engineers uh but also the story of",
    "start": "41600",
    "end": "47480"
  },
  {
    "text": "how as an empowered engineer you take accountability for these",
    "start": "47480",
    "end": "54079"
  },
  {
    "text": "stuff um so I want to lead my presentation with two of our most",
    "start": "54079",
    "end": "61359"
  },
  {
    "text": "controversial points first of all we maintain no staging",
    "start": "61359",
    "end": "67479"
  },
  {
    "text": "environment uh for our application we only have uh",
    "start": "67479",
    "end": "72640"
  },
  {
    "text": "production and secondly uh if you join our team tomorrow we'll let you push",
    "start": "72640",
    "end": "78799"
  },
  {
    "text": "straight to Master on your first",
    "start": "78799",
    "end": "82680"
  },
  {
    "text": "day so why do we do these things first of all",
    "start": "84400",
    "end": "91159"
  },
  {
    "text": "uh we have a internal value of optimizing for time to",
    "start": "91159",
    "end": "96640"
  },
  {
    "text": "Value so this is both in we believe that we want to optimize the time it takes",
    "start": "96640",
    "end": "102079"
  },
  {
    "text": "from an a product person has an idea until our users are using functionality",
    "start": "102079",
    "end": "108759"
  },
  {
    "text": "to reap the benefit of this idea but also in the way that we design our processes and all",
    "start": "108759",
    "end": "115799"
  },
  {
    "text": "throughout um we do believe in empowered teams",
    "start": "115799",
    "end": "120840"
  },
  {
    "text": "uh and empowered uh individuals we don't believe in making up rules that limit",
    "start": "120840",
    "end": "126280"
  },
  {
    "text": "them we like to give them sharp knives and then expect them to handle them",
    "start": "126280",
    "end": "132720"
  },
  {
    "text": "properly and we do believe that that will Empower them to innovate uh we really believe in",
    "start": "132720",
    "end": "140120"
  },
  {
    "text": "learning quickly um so we encourage processes that lets us integrate code",
    "start": "140120",
    "end": "147040"
  },
  {
    "text": "quickly uh so that we can learn from production and from customers as early",
    "start": "147040",
    "end": "152519"
  },
  {
    "text": "as possible um and we do believe that we want to minimize everything minimize the",
    "start": "152519",
    "end": "159360"
  },
  {
    "text": "quantities that we ship uh and minimize our",
    "start": "159360",
    "end": "164440"
  },
  {
    "text": "processes and ultimately what we strive for as a company is that we believe that",
    "start": "164599",
    "end": "170519"
  },
  {
    "text": "there's a better way to build cities and we believe that these processes is the",
    "start": "170519",
    "end": "175959"
  },
  {
    "text": "best way that we can let our users do this so the techniques that I'll talk to you",
    "start": "175959",
    "end": "183440"
  },
  {
    "text": "to about today I think that you can take each of them and apply some part of them",
    "start": "183440",
    "end": "189959"
  },
  {
    "text": "uh but I want to set the context to kind of give you an overview of where they",
    "start": "189959",
    "end": "195280"
  },
  {
    "text": "work for us today uh so that you don't have these techniques in a void so first",
    "start": "195280",
    "end": "200959"
  },
  {
    "text": "of all um our product uh is a 100% web",
    "start": "200959",
    "end": "207280"
  },
  {
    "text": "cloud-based platform uh for or Architects that they can do uh early",
    "start": "207280",
    "end": "213480"
  },
  {
    "text": "stage building design so they start off in a Google Maps uh like interface to",
    "start": "213480",
    "end": "221000"
  },
  {
    "text": "create their project uh next off they can order uh local contextual data from",
    "start": "221000",
    "end": "227840"
  },
  {
    "text": "local data sources um to build a model",
    "start": "227840",
    "end": "232879"
  },
  {
    "text": "to put their buildings in uh we have some simple easy to understand drawing",
    "start": "232879",
    "end": "240599"
  },
  {
    "text": "tools that lets you sketch out building layouts on your site uh we have a",
    "start": "240599",
    "end": "246200"
  },
  {
    "text": "extensive suite for doing environmental analysis here you can see our wind",
    "start": "246200",
    "end": "252120"
  },
  {
    "text": "circuit model uh and when the architect has figured out a few different options",
    "start": "252120",
    "end": "259280"
  },
  {
    "text": "for their site they can go on and compare these here you're looking at a",
    "start": "259280",
    "end": "264320"
  },
  {
    "text": "sun analysis for two different proposals on the site and then they can contrast and figure figure out which uh options",
    "start": "264320",
    "end": "272199"
  },
  {
    "text": "to go go for and then at last they have a board feature now where they can do",
    "start": "272199",
    "end": "278320"
  },
  {
    "text": "the storytelling to tell the municipality or the stakeholders in the project why they arrived at this uh",
    "start": "278320",
    "end": "286560"
  },
  {
    "text": "proposal um that's our product in the market right now uh with Autodesk and",
    "start": "286560",
    "end": "292120"
  },
  {
    "text": "with Forma our uh wish is for the next 10 years to build out a industry Club",
    "start": "292120",
    "end": "299759"
  },
  {
    "text": "out for the domains that we are in architecture engineering construction and operation and it's both code that we",
    "start": "299759",
    "end": "307759"
  },
  {
    "text": "build and ship at Autodesk but it's also the broader ecosystem so the last few",
    "start": "307759",
    "end": "313000"
  },
  {
    "text": "months I've been involved in building apis and enabling thirdparty developers",
    "start": "313000",
    "end": "318880"
  },
  {
    "text": "to extend our platform so that's the product that these techniques work well for next",
    "start": "318880",
    "end": "326600"
  },
  {
    "text": "let's look at our infrastructure and organization so that you can gr the scale that we",
    "start": "326600",
    "end": "332919"
  },
  {
    "text": "operate at right now um so we have a bunch of web apps uh running in the",
    "start": "332919",
    "end": "340199"
  },
  {
    "text": "front end so uh whole applications uh which maybe one team owns the whole",
    "start": "340199",
    "end": "347479"
  },
  {
    "text": "application um within these applications there are some parts that are shared so",
    "start": "347479",
    "end": "353160"
  },
  {
    "text": "we have about 100 web components that we share across these tons of web apps uh",
    "start": "353160",
    "end": "359120"
  },
  {
    "text": "in our back back end we're heavily AWS based so we have around 750 Lambda",
    "start": "359120",
    "end": "366160"
  },
  {
    "text": "functions uh 250 uh S3 buckets 200 Dynamo DB tables",
    "start": "366160",
    "end": "373800"
  },
  {
    "text": "um we have a few ECS clusters for the heavier compute and amazingly we still",
    "start": "373800",
    "end": "379199"
  },
  {
    "text": "have only two gpus running for all of our rate tracing based analysis on the organizational side",
    "start": "379199",
    "end": "386840"
  },
  {
    "text": "we're about 93 uh prod people so designers product leads and Engineers uh",
    "start": "386840",
    "end": "394280"
  },
  {
    "text": "where which are spread out over 13 teams and again these teams are gathered into",
    "start": "394280",
    "end": "400680"
  },
  {
    "text": "what we call blocks which are approximately bounded contexts uh for these teams uh with two to four team in",
    "start": "400680",
    "end": "408360"
  },
  {
    "text": "each block uh and looking at the code uh we have about",
    "start": "408360",
    "end": "414720"
  },
  {
    "text": "480 separate code repositories on our GitHub um so from that you can uh tell",
    "start": "414720",
    "end": "422000"
  },
  {
    "text": "that everything is trying to be small and solving one piece of the puzzles there's very few like monolitic big code",
    "start": "422000",
    "end": "430360"
  },
  {
    "text": "repositories um we use uh three to four main languages Python and typescript",
    "start": "430360",
    "end": "436840"
  },
  {
    "text": "being the most prevalent so let's dive in and I have",
    "start": "436840",
    "end": "442400"
  },
  {
    "text": "about 11 of these techniques uh that's let us sck to a brighter future so uh to",
    "start": "442400",
    "end": "449879"
  },
  {
    "text": "give you an overview um the ideas that I'm about to",
    "start": "449879",
    "end": "455039"
  },
  {
    "text": "to uh describe to you is how we keep things simple how we reduce risk and",
    "start": "455039",
    "end": "461599"
  },
  {
    "text": "time to integration how we reduce the consequences of doing errors how we deal",
    "start": "461599",
    "end": "468120"
  },
  {
    "text": "with continuous integration how we try to learn as early",
    "start": "468120",
    "end": "473479"
  },
  {
    "text": "as possible how we decouple systems how we stay accountable when errors happen",
    "start": "473479",
    "end": "480599"
  },
  {
    "text": "and uh how we play on a design principle called",
    "start": "480599",
    "end": "486440"
  },
  {
    "text": "recognition so let's start with the first one as I said in the beginning we don't",
    "start": "487240",
    "end": "494520"
  },
  {
    "text": "maintain any staging environment development environment like that we only have our production",
    "start": "494520",
    "end": "501599"
  },
  {
    "text": "environment so the idea of this and a few of the other techniques is to keep",
    "start": "501599",
    "end": "507199"
  },
  {
    "text": "it simple and throughout this",
    "start": "507199",
    "end": "512680"
  },
  {
    "text": "presentation uh for each technique I will uh describe a anti uh and I try to choose the word",
    "start": "512680",
    "end": "520320"
  },
  {
    "text": "carefully I'm not saying that if you do something that I describe here that you're doing something wrong it might be",
    "start": "520320",
    "end": "527399"
  },
  {
    "text": "the perfect thing to do in your context but I'm just saying that we evaluate the",
    "start": "527399",
    "end": "533399"
  },
  {
    "text": "the trade-off and figured out that we want to take a decision that's kind of",
    "start": "533399",
    "end": "538560"
  },
  {
    "text": "on the other opposite uh side of the spectrum from uh from the anti that I",
    "start": "538560",
    "end": "544600"
  },
  {
    "text": "present uh so the anti for no staging is kind of obvious it's maintaining a",
    "start": "544600",
    "end": "550240"
  },
  {
    "text": "staging environment maybe even a development environment and then trying to have identical replicas for all of",
    "start": "550240",
    "end": "558120"
  },
  {
    "text": "these environments so let's first consider why",
    "start": "558120",
    "end": "565360"
  },
  {
    "text": "do you have a staging environment so my argument is is that you want to separate",
    "start": "565360",
    "end": "571360"
  },
  {
    "text": "your data and compute from the production environment and if we start with why you",
    "start": "571360",
    "end": "578920"
  },
  {
    "text": "would want to separate the compute so let's step a few years back and say that",
    "start": "578920",
    "end": "584519"
  },
  {
    "text": "your production server is obviously running in your parents closet it's a",
    "start": "584519",
    "end": "590040"
  },
  {
    "text": "single machine with a code running and the databas running on this machine and",
    "start": "590040",
    "end": "595120"
  },
  {
    "text": "let's say that you want to do something like a performance test now you have problem because if you want to run the",
    "start": "595120",
    "end": "601399"
  },
  {
    "text": "performance test on this machine it's going to hurt your end users because you're using the same machine so what",
    "start": "601399",
    "end": "607399"
  },
  {
    "text": "you did is to buy two machines so then you have a production server and you have a staging server and you have this",
    "start": "607399",
    "end": "614320"
  },
  {
    "text": "separation between data and compute for this thing luckily for us someone came",
    "start": "614320",
    "end": "621360"
  },
  {
    "text": "and built serverless compute so what this means for us is that this is",
    "start": "621360",
    "end": "626480"
  },
  {
    "text": "essentially aws's problem I deploy a function to an um the",
    "start": "626480",
    "end": "633600"
  },
  {
    "text": "production environment and I don't care about the server that's a WSS problem if",
    "start": "633600",
    "end": "638760"
  },
  {
    "text": "I want to scale up this function or that function I don't care about that because that's their job so the first point here",
    "start": "638760",
    "end": "645959"
  },
  {
    "text": "is that we don't really care about these compute servers anymore um so I can",
    "start": "645959",
    "end": "652279"
  },
  {
    "text": "essentially run my compute workloads in production without hurting my users the second thing here is that",
    "start": "652279",
    "end": "660200"
  },
  {
    "text": "we stopped using individual servers right we've moved on to database",
    "start": "660200",
    "end": "665440"
  },
  {
    "text": "clusters so we don't actually care about this single database servers anymore",
    "start": "665440",
    "end": "672560"
  },
  {
    "text": "either and the next invention that we didn't Advent but we're taking a lot of",
    "start": "672560",
    "end": "678360"
  },
  {
    "text": "use of is we don't have databases in our stack we have tables and again managing",
    "start": "678360",
    "end": "686720"
  },
  {
    "text": "that on database layer is a WS is problem and that leads us to I think the",
    "start": "686720",
    "end": "693920"
  },
  {
    "text": "single thing that I've seen that we kind of uh put into this is that why should",
    "start": "693920",
    "end": "700720"
  },
  {
    "text": "we have two tables one for staging and one for production when we can have one",
    "start": "700720",
    "end": "707279"
  },
  {
    "text": "table and then we can annotate each row with saying this is a staging row and",
    "start": "707279",
    "end": "714920"
  },
  {
    "text": "this is a production row and essentially when you comine this",
    "start": "714920",
    "end": "720079"
  },
  {
    "text": "technique with feature flagging which I will talk about in a moment we can have",
    "start": "720079",
    "end": "725639"
  },
  {
    "text": "an infinite amount of these environments running in our production Ser system if",
    "start": "725639",
    "end": "732120"
  },
  {
    "text": "we want to now there is something to say about",
    "start": "732120",
    "end": "737440"
  },
  {
    "text": "the security of this system um what we've decided is that the team that owns",
    "start": "737440",
    "end": "743959"
  },
  {
    "text": "the table has access to this and if I want to do some test in and need some",
    "start": "743959",
    "end": "751720"
  },
  {
    "text": "access to uh production data in a table that I don't own uh I need to ask my I",
    "start": "751720",
    "end": "758519"
  },
  {
    "text": "don't have direct access to this I need to ask our users for consent and then we have some granting in our o logic which",
    "start": "758519",
    "end": "766079"
  },
  {
    "text": "is audit logged and then I can have access to test on this production data so essentially if I don't own project",
    "start": "766079",
    "end": "773959"
  },
  {
    "text": "one in production I don't actually have access to that",
    "start": "773959",
    "end": "779760"
  },
  {
    "text": "so that's how we deal with not having a staging environment so the next thing I want to",
    "start": "779920",
    "end": "787600"
  },
  {
    "text": "talk about is how we deploy to Dev and when I say Dev I both mean my local",
    "start": "787600",
    "end": "795720"
  },
  {
    "text": "environment uh environment when where I do my direct development and also if I",
    "start": "795720",
    "end": "802320"
  },
  {
    "text": "want to have replicate environments running in production or at",
    "start": "802320",
    "end": "807639"
  },
  {
    "text": "AWS so again the basic idea here is to just conceive of the simplest thing that",
    "start": "807639",
    "end": "814399"
  },
  {
    "text": "might work and it turns out that boy does this work um so my anti for this is let's say",
    "start": "814399",
    "end": "822959"
  },
  {
    "text": "that you have all of these environments and you're nightly doing a batch clone of your production data and you're",
    "start": "822959",
    "end": "829160"
  },
  {
    "text": "cleaning it for sensitive data and then you're constantly replicating this",
    "start": "829160",
    "end": "834800"
  },
  {
    "text": "environment maybe locally or maybe a separate staging environment somewhere",
    "start": "834800",
    "end": "840360"
  },
  {
    "text": "all of that work we don't do any so a abstract view of our architecture looks",
    "start": "840360",
    "end": "847199"
  },
  {
    "text": "something like that we have all of these web apps running all of them is hitting",
    "start": "847199",
    "end": "852600"
  },
  {
    "text": "a API Gateway layer and then that uh delegates to our apis and some of our",
    "start": "852600",
    "end": "859560"
  },
  {
    "text": "apis call into other apis now if I want",
    "start": "859560",
    "end": "864839"
  },
  {
    "text": "to have a local Dev environment and let's say that there's a user that has",
    "start": "864839",
    "end": "871759"
  },
  {
    "text": "reported a bug um in production and I want to test on their data the only",
    "start": "871759",
    "end": "877240"
  },
  {
    "text": "thing that I do is to take this single web app and then I get clone that it can",
    "start": "877240",
    "end": "883480"
  },
  {
    "text": "be one of these 400 repos that I haven't worked with I run yarn install and yarn",
    "start": "883480",
    "end": "889160"
  },
  {
    "text": "start and now uh instead of going to uh app. Autodesk format.com I go to local.",
    "start": "889160",
    "end": "897519"
  },
  {
    "text": "Autodesk format.com and I'm hitting my own development",
    "start": "897519",
    "end": "902600"
  },
  {
    "text": "environment but the clever thing it does is to proxy everything in production so",
    "start": "902600",
    "end": "908199"
  },
  {
    "text": "right now I can use the app as if I was in production but for the app that I'm",
    "start": "908199",
    "end": "913320"
  },
  {
    "text": "running locally on my machine then the code uh running locally will be served",
    "start": "913320",
    "end": "920240"
  },
  {
    "text": "to me and with all of this web components that I talked about I might",
    "start": "920240",
    "end": "925720"
  },
  {
    "text": "have uh part of my page which is running locally and part is in production and",
    "start": "925720",
    "end": "931079"
  },
  {
    "text": "then the data that I operate on is served from our production environments so that's how easy it is to",
    "start": "931079",
    "end": "939560"
  },
  {
    "text": "spin up a development environment locally second I can do this for our",
    "start": "939560",
    "end": "947079"
  },
  {
    "text": "apis as well I can just spin this up uh test it locally going to words",
    "start": "947079",
    "end": "953600"
  },
  {
    "text": "production end points uh and then if I want to test some part of that backend",
    "start": "953600",
    "end": "960920"
  },
  {
    "text": "functionality that I just changed through one of our web apps I just spin",
    "start": "960920",
    "end": "966000"
  },
  {
    "text": "up that web app locally and I changed the proxy configuration for this single backend",
    "start": "966000",
    "end": "972319"
  },
  {
    "text": "service that I'm also running locally um and then I'm essentially testing this",
    "start": "972319",
    "end": "978560"
  },
  {
    "text": "locally um it's a bit more cumbersome and in fact uh what we do",
    "start": "978560",
    "end": "984040"
  },
  {
    "text": "more is to have backend feature Flags to test this",
    "start": "984040",
    "end": "989800"
  },
  {
    "text": "um and then the last thing that I can do is to take a copy of this uh local envir",
    "start": "989800",
    "end": "999240"
  },
  {
    "text": "uh local backend service that I'm developing and using uh stages for uh",
    "start": "999240",
    "end": "1006639"
  },
  {
    "text": "we're using serverless a lot to deploy our production environments I can just",
    "start": "1006639",
    "end": "1011920"
  },
  {
    "text": "change the state stage to a development stage and that will make a replica of",
    "start": "1011920",
    "end": "1018199"
  },
  {
    "text": "this produ uction backend system and then with smart proxying again I can sue",
    "start": "1018199",
    "end": "1023839"
  },
  {
    "text": "these together so that now I'm actually testing this as if it's deployed in production but it's on my own uh version",
    "start": "1023839",
    "end": "1031720"
  },
  {
    "text": "of it so if this seems to be a lot of work",
    "start": "1031720",
    "end": "1037360"
  },
  {
    "text": "to test two front ends and two back ends yes but that's",
    "start": "1037360",
    "end": "1043240"
  },
  {
    "text": "because in this context where we have tens of these front end applications or 700 of Lambda",
    "start": "1043240",
    "end": "1050240"
  },
  {
    "text": "functions this is actually a very simple way to test all of that",
    "start": "1050240",
    "end": "1056720"
  },
  {
    "text": "locally the next technique um is one of the most liberating uh ways that we work",
    "start": "1058840",
    "end": "1067080"
  },
  {
    "text": "uh and it's cleverly simple and I'm guess I'm hoping that most of you are familiar with this",
    "start": "1067080",
    "end": "1073320"
  },
  {
    "text": "technique um so the idea here is for us to do continuous integration",
    "start": "1073320",
    "end": "1080440"
  },
  {
    "text": "ation and uh my anti for the way that we work is if you have a long lived feature",
    "start": "1080440",
    "end": "1087600"
  },
  {
    "text": "Branch maybe as long lived that you're making a separate staging environment for this feature",
    "start": "1087600",
    "end": "1094159"
  },
  {
    "text": "Branch um and using it so what we do is to merge that code in to master or main",
    "start": "1094159",
    "end": "1102400"
  },
  {
    "text": "from day1 and the technique that we employ uh for our web apps mainly is to",
    "start": "1102400",
    "end": "1110520"
  },
  {
    "text": "Simply put a query parameter at the end of the URL and then you read this in in the",
    "start": "1110520",
    "end": "1116360"
  },
  {
    "text": "code and then you're flagging new code or old code based on this single uh",
    "start": "1116360",
    "end": "1123480"
  },
  {
    "text": "query parameter and the nice thing about this is that it's instantaneously",
    "start": "1123480",
    "end": "1129000"
  },
  {
    "text": "available to your end customers so if you're shipping something that you want feed feedback on fast you can do it and",
    "start": "1129000",
    "end": "1137360"
  },
  {
    "text": "I don't have to jump through separate Hoops or you don't have to spin up an environment for them to test they can",
    "start": "1137360",
    "end": "1142760"
  },
  {
    "text": "just go ahead and test this um you can also do this on like contexts in your",
    "start": "1142760",
    "end": "1148960"
  },
  {
    "text": "current data model so like is your user an internal user uh or you can use more",
    "start": "1148960",
    "end": "1157919"
  },
  {
    "text": "uh uh Advanced Techniques as having a thirdparty service uh shipping your",
    "start": "1157919",
    "end": "1163480"
  },
  {
    "text": "Flags uh so that you can write complex rules or just have a place to configure",
    "start": "1163480",
    "end": "1170400"
  },
  {
    "text": "yes no I'm shipping this so I talked about the early integration for end",
    "start": "1170400",
    "end": "1176760"
  },
  {
    "text": "users testing a second thing that's very nice here is that if I'm writing this",
    "start": "1176760",
    "end": "1182159"
  },
  {
    "text": "code and you're coming in and refactoring this the same code if I'm",
    "start": "1182159",
    "end": "1187240"
  },
  {
    "text": "well over here on a feature branch that you don't know about you'll go Ahad ahead and um refactor the whole of",
    "start": "1187240",
    "end": "1195240"
  },
  {
    "text": "Master and we'll have to deal with that uh integrating those two code pads later",
    "start": "1195240",
    "end": "1202120"
  },
  {
    "text": "but when I'm merging this to our main branch straight away when you come in and want to do your refactor you'll pick",
    "start": "1202120",
    "end": "1209320"
  },
  {
    "text": "up my change and you might even refactor my code on the feature",
    "start": "1209320",
    "end": "1215200"
  },
  {
    "text": "Branch uh a second Point here is that when we actually go to production with",
    "start": "1215200",
    "end": "1221240"
  },
  {
    "text": "this change we're not doing a large merge which might be risky we're",
    "start": "1221240",
    "end": "1227120"
  },
  {
    "text": "flipping one flag and in the instance that we up and want to flip back we're flipping one",
    "start": "1227120",
    "end": "1234120"
  },
  {
    "text": "flag back we're not reverting a lot of code",
    "start": "1234120",
    "end": "1238840"
  },
  {
    "text": "changes and if you do this correctly you're making it uh reducing",
    "start": "1239440",
    "end": "1246080"
  },
  {
    "text": "the risk for you eventually breaking your production",
    "start": "1246080",
    "end": "1250559"
  },
  {
    "text": "systems uh so this brings me to our forth technique uh which is for me the",
    "start": "1251480",
    "end": "1257840"
  },
  {
    "text": "the perfect uh example of simple is not easy uh it's all about uh doing small",
    "start": "1257840",
    "end": "1264360"
  },
  {
    "text": "incremental changes uh and the technique I I can teach you but the mentality and",
    "start": "1264360",
    "end": "1271559"
  },
  {
    "text": "the way of working is very hard to get right to get the full benefit of this",
    "start": "1271559",
    "end": "1277760"
  },
  {
    "text": "but essentially you try to break everything that you do into small atonic changes and then you ship them as you go",
    "start": "1277760",
    "end": "1287720"
  },
  {
    "text": "and then provide incremental user value to your end users so the idea here is to reduce the",
    "start": "1287720",
    "end": "1296799"
  },
  {
    "text": "risk because each change is small but also to reduce the time to integration",
    "start": "1296799",
    "end": "1304000"
  },
  {
    "text": "so that your code is integrated into prod and you're learning from production workloads as fast as possible there's an",
    "start": "1304000",
    "end": "1311480"
  },
  {
    "text": "obvious anti to this which is a huge humongous PR uh that changes everything",
    "start": "1311480",
    "end": "1318320"
  },
  {
    "text": "and has a lot of conversation on it and maybe takes a few weeks to test and",
    "start": "1318320",
    "end": "1323880"
  },
  {
    "text": "build and review and finally merge all risky business if you ask",
    "start": "1323880",
    "end": "1329279"
  },
  {
    "text": "me um so I'll show you two ways that",
    "start": "1329279",
    "end": "1334679"
  },
  {
    "text": "changes can be done here uh and then at the end I'll I'll compare and comment",
    "start": "1334679",
    "end": "1340440"
  },
  {
    "text": "what I uh feel are the benefits of the way that we work uh so the first one is",
    "start": "1340440",
    "end": "1345840"
  },
  {
    "text": "the anti- example where I do a large PR so uh let's imagine that we have this",
    "start": "1345840",
    "end": "1352039"
  },
  {
    "text": "main branch uh and the first thing I want to do when I want to build a new feature is to Fork out and make my own",
    "start": "1352039",
    "end": "1360200"
  },
  {
    "text": "Branch but what happens when you want to make a feature sometimes is that you notice that ah the code structure wasn't",
    "start": "1360200",
    "end": "1367520"
  },
  {
    "text": "really there so you start refactoring the code to fit your change and maybe",
    "start": "1367520",
    "end": "1372760"
  },
  {
    "text": "this is a 10minute change it's a sweeping change so it changes a lot of",
    "start": "1372760",
    "end": "1377960"
  },
  {
    "text": "code but it's fairly quick and when you look at it it's a very safe thing to do",
    "start": "1377960",
    "end": "1384960"
  },
  {
    "text": "because it was kind of easy for you to automatically do it and you're very confident about this being",
    "start": "1384960",
    "end": "1391760"
  },
  {
    "text": "correct and sometimes when you do this you stumble on a few bugs so maybe the",
    "start": "1391760",
    "end": "1397799"
  },
  {
    "text": "next thing that I do is on top of my refactor I fix the bug and then I'm",
    "start": "1397799",
    "end": "1404840"
  },
  {
    "text": "ready to build my feature and it's nice because I've just refactored all my code so it fits very",
    "start": "1404840",
    "end": "1412039"
  },
  {
    "text": "nicely to the architecture uh and then uh after a few",
    "start": "1412039",
    "end": "1417159"
  },
  {
    "text": "days I'll make a PR to master but then I suddenly realized that",
    "start": "1417159",
    "end": "1426840"
  },
  {
    "text": "you have your change coming into Master as well and you fix the same bug that I",
    "start": "1426840",
    "end": "1433760"
  },
  {
    "text": "fixed in a slightly different way without BAS in it off my refactor and",
    "start": "1433760",
    "end": "1440640"
  },
  {
    "text": "you've built your feature and sometimes maybe this is the",
    "start": "1440640",
    "end": "1445760"
  },
  {
    "text": "high value critical fix and feature that means that you will have a",
    "start": "1445760",
    "end": "1451919"
  },
  {
    "text": "prioritized merge so someone goes and uh reviews your PR and you merge it in and",
    "start": "1451919",
    "end": "1458440"
  },
  {
    "text": "you're now stuck with this ah I have this big uh merge",
    "start": "1458440",
    "end": "1465639"
  },
  {
    "text": "conflict which means it will be harder to review uh maybe it takes a longer",
    "start": "1465840",
    "end": "1472640"
  },
  {
    "text": "time to resolve the the fix um and uh some other tradeoffs I'll get to",
    "start": "1472640",
    "end": "1479080"
  },
  {
    "text": "afterwards so let's contrast this with another way of of doing and shipping",
    "start": "1479080",
    "end": "1485039"
  },
  {
    "text": "this as small small incremental changes so the first thing that I do is",
    "start": "1485039",
    "end": "1491360"
  },
  {
    "text": "to do my refactor and when I'm done I'll just ship it to production",
    "start": "1491360",
    "end": "1499039"
  },
  {
    "text": "which means when you start doing your fix there's two scenarios either you",
    "start": "1499039",
    "end": "1505520"
  },
  {
    "text": "start after you saw that I made my refractor and you're able to pick up my",
    "start": "1505520",
    "end": "1510880"
  },
  {
    "text": "refractor straight away and build it off of that or the other scenario where you",
    "start": "1510880",
    "end": "1516919"
  },
  {
    "text": "don't but at that point when you're going to merge it into master or push it",
    "start": "1516919",
    "end": "1522559"
  },
  {
    "text": "to to main you'll then you'll see my refactor and be confronted with this",
    "start": "1522559",
    "end": "1527600"
  },
  {
    "text": "change that you have to make next up I will try to push my fix but oh you've done the fix so I can drop",
    "start": "1527600",
    "end": "1535600"
  },
  {
    "text": "my fix and you've had to do it on top of my refactor so I'm happy about that um",
    "start": "1535600",
    "end": "1543360"
  },
  {
    "text": "you can do your feature I can do my fixure and at our company we're done now",
    "start": "1543360",
    "end": "1551200"
  },
  {
    "text": "there is no delayed uh merging there's no review of this we can go on to the",
    "start": "1551200",
    "end": "1556880"
  },
  {
    "text": "next thing so the two uh largest tradeoffs that I",
    "start": "1556880",
    "end": "1563440"
  },
  {
    "text": "see with this is first of the time to integrate so if we consider the pr",
    "start": "1563440",
    "end": "1571399"
  },
  {
    "text": "change my refactor that maybe took me 10 minutes to write took maybe one to two",
    "start": "1571399",
    "end": "1578919"
  },
  {
    "text": "weeks until it reached the main branch and reached our uh end users and with a",
    "start": "1578919",
    "end": "1586159"
  },
  {
    "text": "refactor there's two things that happens there maybe the code quality was better so maybe we had some bug fixes that went",
    "start": "1586159",
    "end": "1593000"
  },
  {
    "text": "in that were fixed earlier when we got the uh refactor in earlier and then the",
    "start": "1593000",
    "end": "1601039"
  },
  {
    "text": "second thing is that everyone else is confronted with my refactor earlier on",
    "start": "1601039",
    "end": "1606159"
  },
  {
    "text": "so that they can now not have to do rework later when",
    "start": "1606159",
    "end": "1611960"
  },
  {
    "text": "eventually my refactor um lands and the the second thing I want to",
    "start": "1611960",
    "end": "1618679"
  },
  {
    "text": "look at here is uh there's kind of two hiccups in both models so uh in the",
    "start": "1618679",
    "end": "1626440"
  },
  {
    "text": "small incremental changes model it's when you pushed your fix in the scenario",
    "start": "1626440",
    "end": "1633600"
  },
  {
    "text": "where you didn't pick up my refactor and you now have to redo your fix on top of my",
    "start": "1633600",
    "end": "1640840"
  },
  {
    "text": "refractor but in this scenario if you think about the amount of code and",
    "start": "1640840",
    "end": "1647360"
  },
  {
    "text": "consequently the amount of uh test cases that we have to run over to ensure that",
    "start": "1647360",
    "end": "1653320"
  },
  {
    "text": "this code is correct you have just made your fix on top of Master so you know the code",
    "start": "1653320",
    "end": "1659120"
  },
  {
    "text": "structure for master what you need to read is my refactor and then you need to apply the",
    "start": "1659120",
    "end": "1666000"
  },
  {
    "text": "change that you just made on top of this refactored code that's the amount of",
    "start": "1666000",
    "end": "1671799"
  },
  {
    "text": "knowledge that you have to put in your head with the pr scenario the hiccup is",
    "start": "1671799",
    "end": "1676960"
  },
  {
    "text": "when I have the merge and at this point all of this code is in",
    "start": "1676960",
    "end": "1685120"
  },
  {
    "text": "my head because uh I've probably started to forget about how Master looked like a",
    "start": "1685120",
    "end": "1691960"
  },
  {
    "text": "week or two ago because I'm in this happy place where I just refactored all of that so that's where I'm at I have to",
    "start": "1691960",
    "end": "1699240"
  },
  {
    "text": "learn about the fix that you made that you made in a slightly different way that I did so I need to figure out that",
    "start": "1699240",
    "end": "1704440"
  },
  {
    "text": "was it the same bug that we squashed maybe it has some trade-offs I",
    "start": "1704440",
    "end": "1709559"
  },
  {
    "text": "also need to learn about your feature and I need to remember my feature and then I have to test all of those test",
    "start": "1709559",
    "end": "1716440"
  },
  {
    "text": "cases to ensure that we're not breaking production so out of this I have a few",
    "start": "1716440",
    "end": "1724440"
  },
  {
    "text": "thoughts so when you work in this more incremental changes method each change",
    "start": "1724440",
    "end": "1730480"
  },
  {
    "text": "is very small and can be reasoned about in isolation others are able to pick up",
    "start": "1730480",
    "end": "1738120"
  },
  {
    "text": "your changes right away they don't have to wait a week until they can base their work on what you've been doing uh if you",
    "start": "1738120",
    "end": "1746320"
  },
  {
    "text": "need to roll back something let's say that that merge that I did to master failed in some way in",
    "start": "1746320",
    "end": "1753200"
  },
  {
    "text": "production my option is to revert that right that's a lot of code that goes back with the smallest possible",
    "start": "1753200",
    "end": "1760120"
  },
  {
    "text": "incremental changes when You' mess up something it's likely that it was what",
    "start": "1760120",
    "end": "1765519"
  },
  {
    "text": "you just did and that it's very small now I talked about that this is actually",
    "start": "1765519",
    "end": "1772120"
  },
  {
    "text": "a mindset change you need need to change the way that you uh develop the code",
    "start": "1772120",
    "end": "1779200"
  },
  {
    "text": "from when you have the idea what to change to break it into this continually",
    "start": "1779200",
    "end": "1784559"
  },
  {
    "text": "increment in incremental changes if not you're not re reaping all of the",
    "start": "1784559",
    "end": "1790159"
  },
  {
    "text": "benefits and you'll actually have to fight this process so this I've watched a few engineers at our firm that are",
    "start": "1790159",
    "end": "1797320"
  },
  {
    "text": "able to do this and it's incredible to watch them um it's also one point that I",
    "start": "1797320",
    "end": "1803080"
  },
  {
    "text": "might be missing here that um they are always done with their work maybe if you",
    "start": "1803080",
    "end": "1810399"
  },
  {
    "text": "ask them they're like 30 minutes or 20 minutes into what they just started compared to the big PR if you ask me",
    "start": "1810399",
    "end": "1817640"
  },
  {
    "text": "about something two hours before I'm done with that big merge and testing all of those things I've delivered nothing",
    "start": "1817640",
    "end": "1824799"
  },
  {
    "text": "for the past two weeks so I'm wor like I really want to do this one thing so if",
    "start": "1824799",
    "end": "1830440"
  },
  {
    "text": "you ask me about flexibility to prioritize something else it's just two",
    "start": "1830440",
    "end": "1835679"
  },
  {
    "text": "different scenarios I'm not saying that code reviews are not valuable I do a lot of",
    "start": "1835679",
    "end": "1841919"
  },
  {
    "text": "code reviews and I also ask for a lot of code reviews but there are alternative ways to reap the same benefits as code",
    "start": "1841919",
    "end": "1849240"
  },
  {
    "text": "reviews um without going to without like making that a rule for your team that",
    "start": "1849240",
    "end": "1854960"
  },
  {
    "text": "you have to go through Cod you Rus",
    "start": "1854960",
    "end": "1859360"
  },
  {
    "text": "uh our fifth technique um which uh is here mainly to set up the next one",
    "start": "1861279",
    "end": "1869039"
  },
  {
    "text": "because I've only seen this maybe used once or twice uh but it's easier to explain uh is blue green",
    "start": "1869039",
    "end": "1877159"
  },
  {
    "text": "deployment um and the base idea for this technique is that you want to reduce the",
    "start": "1877159",
    "end": "1882440"
  },
  {
    "text": "consequence of doing uh an error and the anti for this is is uh",
    "start": "1882440",
    "end": "1888519"
  },
  {
    "text": "taking down a central service in a very obvious way where you get a bunch of 500",
    "start": "1888519",
    "end": "1893600"
  },
  {
    "text": "errors uh in your logs and annoyed users um so that that this technique",
    "start": "1893600",
    "end": "1901159"
  },
  {
    "text": "I'll describe it with a example where we have a front end application and a",
    "start": "1901159",
    "end": "1906519"
  },
  {
    "text": "API so what you do is that you stick a proxy layer in between your front end",
    "start": "1906519",
    "end": "1912080"
  },
  {
    "text": "application on your API and then when you're deploying new code you deploy",
    "start": "1912080",
    "end": "1918600"
  },
  {
    "text": "both the old code and the new code at the same time and this proxy is",
    "start": "1918600",
    "end": "1924480"
  },
  {
    "text": "responsible for picking which of these to send new requests",
    "start": "1924480",
    "end": "1929639"
  },
  {
    "text": "to so it starts out with zero and then it gradually increases the traffic",
    "start": "1929639",
    "end": "1934760"
  },
  {
    "text": "that's going to the new API and at the proxy layer you're uh monitoring and",
    "start": "1934760",
    "end": "1941919"
  },
  {
    "text": "observing the rate of let's say 500 errors to 200 uh successful uh status",
    "start": "1941919",
    "end": "1950039"
  },
  {
    "text": "codes and you have some sort of threshold and if you cross Above This threshold for too many errors you simply",
    "start": "1950039",
    "end": "1957799"
  },
  {
    "text": "scale back and you notify the engineers that oh there's something bad",
    "start": "1957799",
    "end": "1963039"
  },
  {
    "text": "here but in the instance where the metrix is looking good you'll start to increase more and more traffic towards",
    "start": "1963039",
    "end": "1969679"
  },
  {
    "text": "your new API and then in the end you'll have all of your um traffic going to the",
    "start": "1969679",
    "end": "1975600"
  },
  {
    "text": "new API and you can tear down this uh infrastructure around it and then you",
    "start": "1975600",
    "end": "1981559"
  },
  {
    "text": "only have your new API now uh this can be done automatically with plugins uh so",
    "start": "1981559",
    "end": "1988480"
  },
  {
    "text": "that the only thing that you know about this is if you done something wrong you'll be pinged uh by a metric saying",
    "start": "1988480",
    "end": "1994840"
  },
  {
    "text": "hey your code is not deployed anymore go go fix",
    "start": "1994840",
    "end": "2000080"
  },
  {
    "text": "it so this brings me to the technique that we've employed a lot uh which is to",
    "start": "2000639",
    "end": "2008039"
  },
  {
    "text": "move this from the infrastructure layer and into the application layer now this",
    "start": "2008039",
    "end": "2015320"
  },
  {
    "text": "technique is uh inspired by a library by GitHub from quite a few years ago which",
    "start": "2015320",
    "end": "2022080"
  },
  {
    "text": "is called the scientist and the base idea is that you push your new",
    "start": "2022080",
    "end": "2028360"
  },
  {
    "text": "codepad with your old codepad and then you monitor application layer metrics",
    "start": "2028360",
    "end": "2034799"
  },
  {
    "text": "instead of infrastructure um so the base idea here is to force us",
    "start": "2034799",
    "end": "2044120"
  },
  {
    "text": "and allow us to learn from production workloads as early as we",
    "start": "2044120",
    "end": "2050000"
  },
  {
    "text": "can uh and my anti it's a bit contrived but I would I like to draw one slide at",
    "start": "2050000",
    "end": "2056158"
  },
  {
    "text": "least so let's imagine that you have a production system running your main",
    "start": "2056159",
    "end": "2062480"
  },
  {
    "text": "branch deployed to production and then you make this long lived feature Branch",
    "start": "2062480",
    "end": "2067560"
  },
  {
    "text": "with which you also uh deploy to a staging environment and if we compare these two with the amount of testing",
    "start": "2067560",
    "end": "2074679"
  },
  {
    "text": "that is going on on both of these branches and ideally production data testing these branches so for the main",
    "start": "2074679",
    "end": "2082398"
  },
  {
    "text": "branch from the start you'll have a lot of traffic like a pulse of your main uh",
    "start": "2082399",
    "end": "2088000"
  },
  {
    "text": "production workloads and then for this staging environment you'll have some exploratory testing the testing that you",
    "start": "2088000",
    "end": "2095480"
  },
  {
    "text": "do when you develop this feature and and then right before you want to go to production you're ramping this up and",
    "start": "2095480",
    "end": "2101960"
  },
  {
    "text": "like doing an acceptance test or something like that and then you flip the switch so that all the traffic goes",
    "start": "2101960",
    "end": "2108920"
  },
  {
    "text": "from production over to your new Branch um and then you're",
    "start": "2108920",
    "end": "2115240"
  },
  {
    "text": "done so the trick with the scientist pattern uh can be summarized as simple",
    "start": "2115240",
    "end": "2121560"
  },
  {
    "text": "as this piece of code uh so one try that's to protect your users from you",
    "start": "2121560",
    "end": "2127960"
  },
  {
    "text": "messing this up which is very important I've seen this tried out once without",
    "start": "2127960",
    "end": "2133000"
  },
  {
    "text": "the try catch and that was a bad idea it's one if which with a random",
    "start": "2133000",
    "end": "2139119"
  },
  {
    "text": "variable that says give us not all of the production workloads but like 20% of",
    "start": "2139119",
    "end": "2145320"
  },
  {
    "text": "it and then you can see that I'm running my new code but I'm not doing anything with the",
    "start": "2145320",
    "end": "2152319"
  },
  {
    "text": "results of this and then at the end I'm running and awaiting my old code uh most",
    "start": "2152319",
    "end": "2159760"
  },
  {
    "text": "of our backend is kind of asynchronous architecture so when I do something like",
    "start": "2159760",
    "end": "2165359"
  },
  {
    "text": "that I'm not actually like I'm I don't care that I synchronously added a few",
    "start": "2165359",
    "end": "2170400"
  },
  {
    "text": "lines to production code because it's not going to give my end users a noticeable performance",
    "start": "2170400",
    "end": "2177920"
  },
  {
    "text": "degreg but what happens when you do this and we do this from day one is that you",
    "start": "2177920",
    "end": "2183280"
  },
  {
    "text": "start learning about edge cases and you start learning from uh production workloads and you start to",
    "start": "2183280",
    "end": "2191000"
  },
  {
    "text": "Gro the performance of your system uh and how it scales",
    "start": "2191000",
    "end": "2197280"
  },
  {
    "text": "um and um this is kind of this is what you can",
    "start": "2197280",
    "end": "2202920"
  },
  {
    "text": "do today uh where we took this was to say okay but we also want to look at the",
    "start": "2202920",
    "end": "2210000"
  },
  {
    "text": "results from this data and compare them so uh a few years",
    "start": "2210000",
    "end": "2215760"
  },
  {
    "text": "ago I was on the analyzes teams in uh Spacemaker at the time uh and we wanted",
    "start": "2215760",
    "end": "2222400"
  },
  {
    "text": "to swap our infrastructure running rate tracing from kubernetes to AWS and",
    "start": "2222400",
    "end": "2229200"
  },
  {
    "text": "Lambda and what we did was to employ this technique I think this is approximately the code that I actually",
    "start": "2229200",
    "end": "2235920"
  },
  {
    "text": "shipped um and in addition to running these two on two different environments",
    "start": "2235920",
    "end": "2242800"
  },
  {
    "text": "in production we added a context variable uh go going into the request so",
    "start": "2242800",
    "end": "2250079"
  },
  {
    "text": "that when it came to the time to store the analyzis um data back it stored it with",
    "start": "2250079",
    "end": "2257480"
  },
  {
    "text": "this context and this meant that I was we were able to store uh the analyzis",
    "start": "2257480",
    "end": "2265040"
  },
  {
    "text": "results from the routine running on Lambda into one part of our database uh",
    "start": "2265040",
    "end": "2270839"
  },
  {
    "text": "and the production workloads in the other one and when our users was using",
    "start": "2270839",
    "end": "2276079"
  },
  {
    "text": "our application they only know is the production um context uh and we also employed a",
    "start": "2276079",
    "end": "2283800"
  },
  {
    "text": "feature flag in our front end to let our developers play and use this different contexts and you can notice that these",
    "start": "2283800",
    "end": "2290920"
  },
  {
    "text": "are just strings so I talked about infinite amount of um of",
    "start": "2290920",
    "end": "2296280"
  },
  {
    "text": "environments in this way you can just spin up as many of these as you want",
    "start": "2296280",
    "end": "2301680"
  },
  {
    "text": "luckily we didn't need that many so the additional steps that we went through here was to write a new program that",
    "start": "2301680",
    "end": "2309240"
  },
  {
    "text": "would uh copy down the analyzes results and this is just basic lists of numbers",
    "start": "2309240",
    "end": "2317319"
  },
  {
    "text": "and compare them for uh to ensure that",
    "start": "2317319",
    "end": "2322560"
  },
  {
    "text": "we had done the right thing when moving between these things so when it came to the time when",
    "start": "2322560",
    "end": "2329400"
  },
  {
    "text": "I flipped the feature flag to put all of the workload and kind of remove the old",
    "start": "2329400",
    "end": "2334960"
  },
  {
    "text": "kubernetes I was very confident that we could do this without any downtime and that we were handling all of the edge",
    "start": "2334960",
    "end": "2341839"
  },
  {
    "text": "cases correctly and I think we had one analyis failure and that's mainly was",
    "start": "2341839",
    "end": "2347920"
  },
  {
    "text": "mainly because we didn't fit it in Ram which is something that you need to configure",
    "start": "2347920",
    "end": "2354000"
  },
  {
    "text": "for all right next technique uh Is How We Do",
    "start": "2355280",
    "end": "2361520"
  },
  {
    "text": "breaking changes and uh as all of these techniques like nothing is invented uh",
    "start": "2361520",
    "end": "2369760"
  },
  {
    "text": "at uh at Forma um but this is how we do it so we combine feature flags and a a",
    "start": "2369760",
    "end": "2376960"
  },
  {
    "text": "known technique called expand and contract whenever we're doing breaking changes and the core idea of this",
    "start": "2376960",
    "end": "2384560"
  },
  {
    "text": "technique uh is to decouple systems in",
    "start": "2384560",
    "end": "2390240"
  },
  {
    "text": "time um so my anti here is a launch announcement that next Monday",
    "start": "2390240",
    "end": "2397960"
  },
  {
    "text": "uh from 2 a.m. in the morning we need to take down our system because we're doing",
    "start": "2397960",
    "end": "2404280"
  },
  {
    "text": "like a large change to six of our services uh which we've tested",
    "start": "2404280",
    "end": "2409599"
  },
  {
    "text": "extensively in our staging environment and we're shipping it to production not so lucky 4 hours later we",
    "start": "2409599",
    "end": "2418960"
  },
  {
    "text": "noticed the world about an incident where we had to roll back this change",
    "start": "2418960",
    "end": "2424000"
  },
  {
    "text": "because there was an unforeseen difference between our stage and our production",
    "start": "2424000",
    "end": "2430839"
  },
  {
    "text": "environments I lead this technique because I think it's brilliantly simple um by a front end and a backend",
    "start": "2431160",
    "end": "2440880"
  },
  {
    "text": "API so the way that you totally decouple this is described here um and this is a",
    "start": "2440880",
    "end": "2447800"
  },
  {
    "text": "simple HTTP endpoint and the the sorry I should have made up a few other words",
    "start": "2447800",
    "end": "2453760"
  },
  {
    "text": "here but I'm saying expand and contract that's kind of making things bigger and",
    "start": "2453760",
    "end": "2459319"
  },
  {
    "text": "making them smaller again and then I'm saying contract which is an agreement between two parties so bear with me on",
    "start": "2459319",
    "end": "2467000"
  },
  {
    "text": "that so the contract here is the data that you pass from the front end to the",
    "start": "2467000",
    "end": "2472160"
  },
  {
    "text": "back end so when you're doing a breaking change in an expand and contract manner",
    "start": "2472160",
    "end": "2477640"
  },
  {
    "text": "what you do is to expand the API by adding the old version and the",
    "start": "2477640",
    "end": "2485200"
  },
  {
    "text": "new version at the same time next up the front end implements the",
    "start": "2485200",
    "end": "2491319"
  },
  {
    "text": "version two of this API and then in the last phase you",
    "start": "2491319",
    "end": "2497240"
  },
  {
    "text": "contract by removing the old uh",
    "start": "2497240",
    "end": "2502400"
  },
  {
    "text": "version now this is very useful when you're doing breaking changes to live",
    "start": "2502440",
    "end": "2507520"
  },
  {
    "text": "apis in this manner uh but we'll see how this is very much more useful when",
    "start": "2507520",
    "end": "2512599"
  },
  {
    "text": "there's a bit more complex system like this so if we look at two front ends",
    "start": "2512599",
    "end": "2520079"
  },
  {
    "text": "doing the same request to the same API essentially with this technique we've",
    "start": "2520079",
    "end": "2526520"
  },
  {
    "text": "now decoupled these two front end teams in time from doing this change so we don't care when they do them we don't",
    "start": "2526520",
    "end": "2533440"
  },
  {
    "text": "have to tell them by a date that I need to do it and and more",
    "start": "2533440",
    "end": "2539160"
  },
  {
    "text": "complexly if this contract is something that more apis and backends serve",
    "start": "2539160",
    "end": "2547440"
  },
  {
    "text": "again we've uh decoupled uh in time when",
    "start": "2547440",
    "end": "2553040"
  },
  {
    "text": "this change needs to happen like there is one coupling and that's that a front end cannot add the version two until the",
    "start": "2553040",
    "end": "2560319"
  },
  {
    "text": "back end has actually added that version two but that's the only and that's not kind of a in sync",
    "start": "2560319",
    "end": "2567640"
  },
  {
    "text": "coupling um now you can notice that the uh first front end here is doing a small",
    "start": "2567640",
    "end": "2574760"
  },
  {
    "text": "trick that will come in handy later on it's that it's actually consuming contract version one from the first API",
    "start": "2574760",
    "end": "2582640"
  },
  {
    "text": "and contract version two from the second API now I said to you that our system is",
    "start": "2582640",
    "end": "2590440"
  },
  {
    "text": "a bit more complex than just two and to front ends so essentially we have plenty",
    "start": "2590440",
    "end": "2597720"
  },
  {
    "text": "of these front ends and uh backends we call them producers and consumers in our",
    "start": "2597720",
    "end": "2604119"
  },
  {
    "text": "system so a producer would produce a piece of geometry and a consumer like a",
    "start": "2604119",
    "end": "2610160"
  },
  {
    "text": "daylight analysis would look at that geometry um and analyze it but there's an contract between them on how the data",
    "start": "2610160",
    "end": "2616760"
  },
  {
    "text": "formats might look like and uh the core idea for our vision for the 10 next",
    "start": "2616760",
    "end": "2623359"
  },
  {
    "text": "years of our industy Cloud there's actually no upper limits to the number of producers and consumers in our system",
    "start": "2623359",
    "end": "2631680"
  },
  {
    "text": "and on top of that we don't only have one contract we might have plenty of contracts",
    "start": "2631680",
    "end": "2638000"
  },
  {
    "text": "uh doing changes having changes in flight at the same",
    "start": "2638000",
    "end": "2643760"
  },
  {
    "text": "time um so let's consider how you would do this change to a lot of front ends",
    "start": "2645240",
    "end": "2653440"
  },
  {
    "text": "and back ends is in a more traditional system so you would start at the first",
    "start": "2653440",
    "end": "2659559"
  },
  {
    "text": "phase of defining the contract that everyone is about to move",
    "start": "2659559",
    "end": "2664880"
  },
  {
    "text": "to and then you would ask all of your apis to implement this",
    "start": "2664880",
    "end": "2670960"
  },
  {
    "text": "contract and then you would ask all of your front ends to implement this",
    "start": "2670960",
    "end": "2677000"
  },
  {
    "text": "contract and then you would have all of them coordinate to ship this to a",
    "start": "2677000",
    "end": "2683079"
  },
  {
    "text": "staging environment test it there and then you would push to",
    "start": "2683079",
    "end": "2689280"
  },
  {
    "text": "production so in this there's three sync points which couples all of these teams",
    "start": "2689280",
    "end": "2696640"
  },
  {
    "text": "and system systems together first of all everyone has to agree that this is the contract that we're going to implement",
    "start": "2696640",
    "end": "2703559"
  },
  {
    "text": "now and everyone has to uh deploy to the staging environment before it makes any",
    "start": "2703559",
    "end": "2711160"
  },
  {
    "text": "sense to do testing and then every team has to test their system and a",
    "start": "2711160",
    "end": "2718319"
  },
  {
    "text": "acceptance test on this system needs to be performed in a sync way until you can go to the production",
    "start": "2718319",
    "end": "2725559"
  },
  {
    "text": "phase so let's compare this with the phases in expand and contract so the",
    "start": "2725559",
    "end": "2731960"
  },
  {
    "text": "first phase of expanding these producers to add the new",
    "start": "2731960",
    "end": "2737319"
  },
  {
    "text": "contract the second one is for all of the consumers or front ends to consume",
    "start": "2737319",
    "end": "2742760"
  },
  {
    "text": "the new contract and the last one is for the",
    "start": "2742760",
    "end": "2747800"
  },
  {
    "text": "producers to deprecate the now old contract so there is a sync Point here",
    "start": "2747800",
    "end": "2755200"
  },
  {
    "text": "as well and that that's at the point where you kind of ratify this",
    "start": "2755200",
    "end": "2762680"
  },
  {
    "text": "contract but remember my trick of when",
    "start": "2762760",
    "end": "2768359"
  },
  {
    "text": "one producer and one consumer or one frontend and one backend API has adopted",
    "start": "2768359",
    "end": "2773960"
  },
  {
    "text": "a new API there is actually a uh point in time where you can do learning and",
    "start": "2773960",
    "end": "2781200"
  },
  {
    "text": "remember that we're running this straight in production so we're getting user feedback back on the feature that",
    "start": "2781200",
    "end": "2788800"
  },
  {
    "text": "we're uh are able to build on top of this contract at this point so what we",
    "start": "2788800",
    "end": "2796680"
  },
  {
    "text": "uh usually see people do is to when this first producer produces this geometry",
    "start": "2796680",
    "end": "2803839"
  },
  {
    "text": "then a consumer comes in and in most cases it's actually this consumer that's",
    "start": "2803839",
    "end": "2808960"
  },
  {
    "text": "pushing for this new contract they want to have a new feature that they need a contract change for so this pushes this",
    "start": "2808960",
    "end": "2815520"
  },
  {
    "text": "sync phase where these two uh develop and figure out and iterate on this",
    "start": "2815520",
    "end": "2821480"
  },
  {
    "text": "contract to earlier on in the process and then I can push it out to",
    "start": "2821480",
    "end": "2826720"
  },
  {
    "text": "the rest of the organization so I also have a few",
    "start": "2826720",
    "end": "2831880"
  },
  {
    "text": "thoughts and uh Reflections on uh on these different ways of working so the",
    "start": "2831880",
    "end": "2838079"
  },
  {
    "text": "first thing is if we compare um how long it takes from a product person has an",
    "start": "2838079",
    "end": "2845359"
  },
  {
    "text": "great idea of a new feature until a user is actually consuming the benefits of",
    "start": "2845359",
    "end": "2852160"
  },
  {
    "text": "this in the traditional way you need to wait until you've deployed to the",
    "start": "2852160",
    "end": "2858359"
  },
  {
    "text": "production environment which might be weeks or months after you had the idea",
    "start": "2858359",
    "end": "2865079"
  },
  {
    "text": "essentially if you're very quick about it you can do the same within minutes uh",
    "start": "2865079",
    "end": "2870440"
  },
  {
    "text": "with the expand and contract that we run and again uh the second one is about",
    "start": "2870440",
    "end": "2876880"
  },
  {
    "text": "about the size of things when things goes bad so let's say that we learned",
    "start": "2876880",
    "end": "2883480"
  },
  {
    "text": "something from this test in production and now we need to make a change to this",
    "start": "2883480",
    "end": "2888599"
  },
  {
    "text": "so if you run a more synchronized and coupled process there's a lot of people",
    "start": "2888599",
    "end": "2894599"
  },
  {
    "text": "that care about this and there's a lot of people putting a lot of their time into this so when you come and say we've",
    "start": "2894599",
    "end": "2899880"
  },
  {
    "text": "done a mistake they're going to have a bad time however with our uh approach to",
    "start": "2899880",
    "end": "2906119"
  },
  {
    "text": "this may maybe it's two teams or maybe there actually just one engineer on each of those teams that has learned this at",
    "start": "2906119",
    "end": "2912520"
  },
  {
    "text": "this point so they're much less invested in what you've done and open uh to",
    "start": "2912520",
    "end": "2917760"
  },
  {
    "text": "changing based on new knowledge and again the second one let's",
    "start": "2917760",
    "end": "2923800"
  },
  {
    "text": "imagine the scenario that I talked about in the uh beginning with this large",
    "start": "2923800",
    "end": "2930319"
  },
  {
    "text": "change going in into production and now being rolled back now all of those teams",
    "start": "2930319",
    "end": "2935839"
  },
  {
    "text": "that were done with this change and happy to move on to the next thing to build they have to go back into that",
    "start": "2935839",
    "end": "2941839"
  },
  {
    "text": "state and figure out what went wrong and eventually go through all of this ordeal",
    "start": "2941839",
    "end": "2947440"
  },
  {
    "text": "again rolling back a change for two people that just started this it's is",
    "start": "2947440",
    "end": "2953319"
  },
  {
    "text": "much less hassle all right our next technique is",
    "start": "2953319",
    "end": "2962640"
  },
  {
    "text": "testing your code uh I hope you think duh [Music]",
    "start": "2962640",
    "end": "2968599"
  },
  {
    "text": "um however our base idea here is that one size doesn't fit any for",
    "start": "2968599",
    "end": "2977079"
  },
  {
    "text": "testing and my anti might be a bit controversial but something like a statement of 90 5% code cover is is a",
    "start": "2977079",
    "end": "2985000"
  },
  {
    "text": "rule that we apply uh to all of our teams so I seldom write uh automated",
    "start": "2985000",
    "end": "2995319"
  },
  {
    "text": "tests uh but when I'm changing a uh part of the code that's on a critical",
    "start": "2995319",
    "end": "3003480"
  },
  {
    "text": "workflow uh I I do um and my point here is that I think",
    "start": "3003480",
    "end": "3011680"
  },
  {
    "text": "that there's two aess that you need to uh think about when you're doing testing",
    "start": "3011680",
    "end": "3017559"
  },
  {
    "text": "the first one is how much impact does the change that you're about to do have",
    "start": "3017559",
    "end": "3024160"
  },
  {
    "text": "uh and that's negative impact like if I break this will it be bad for our users",
    "start": "3024160",
    "end": "3029760"
  },
  {
    "text": "so if you're changing like a drop- down menu somewhere in the product what's the consequence of that if that's selecting",
    "start": "3029760",
    "end": "3036640"
  },
  {
    "text": "some obscure setting somewhere maybe the consequence of that is low but if you're",
    "start": "3036640",
    "end": "3042200"
  },
  {
    "text": "now making it impossible to create new projects in your product that's a bad",
    "start": "3042200",
    "end": "3048359"
  },
  {
    "text": "thing so I always think about these two two things uh when I make changes and",
    "start": "3048359",
    "end": "3055520"
  },
  {
    "text": "then I adapt my test strategy to it and then I think the uh the kind of uh",
    "start": "3055520",
    "end": "3062559"
  },
  {
    "text": "unlocking thing in our stack is that whenever you're adding things behind a",
    "start": "3062559",
    "end": "3068400"
  },
  {
    "text": "feature flag and if you're doing that correctly then you might take things",
    "start": "3068400",
    "end": "3074559"
  },
  {
    "text": "that was on the critical path and move it down to lower impact and then you can also spend less",
    "start": "3074559",
    "end": "3082000"
  },
  {
    "text": "effort testing this and when I say less effort I'm not saying that you should",
    "start": "3082000",
    "end": "3088240"
  },
  {
    "text": "test it less and be less confident of it I'm just saying the time that you spend",
    "start": "3088240",
    "end": "3093400"
  },
  {
    "text": "to build that",
    "start": "3093400",
    "end": "3096119"
  },
  {
    "text": "confidence our ninth technique is dumb code and I'm proud to say that there's a",
    "start": "3098599",
    "end": "3104240"
  },
  {
    "text": "lot of dumb code at Forma again the idea here is to do the",
    "start": "3104240",
    "end": "3111720"
  },
  {
    "text": "simplest thing that's conceivably possible to make it work",
    "start": "3111720",
    "end": "3117960"
  },
  {
    "text": "and again my anti is a notion of testable code where",
    "start": "3117960",
    "end": "3124280"
  },
  {
    "text": "you've added a lot of abstractions uh which maybe are",
    "start": "3124280",
    "end": "3129319"
  },
  {
    "text": "unnecessary to just make it testable so I have three statements for",
    "start": "3129319",
    "end": "3134640"
  },
  {
    "text": "dumb code if I can copy paste code from anywhere and stick it anywhere and it",
    "start": "3134640",
    "end": "3141480"
  },
  {
    "text": "just works then it's dumb code if I can control click on a pH function and I",
    "start": "3141480",
    "end": "3147480"
  },
  {
    "text": "actually go to the implementation of that function not some random place then it's dumb",
    "start": "3147480",
    "end": "3152799"
  },
  {
    "text": "code if I can inspect the usage of some part of the code and then I find",
    "start": "3152799",
    "end": "3158960"
  },
  {
    "text": "everything directly and explicit then this is dumb code so the nice thing about this copy",
    "start": "3158960",
    "end": "3166119"
  },
  {
    "text": "baste paste ability is that this code now has the lowest possible number of",
    "start": "3166119",
    "end": "3171799"
  },
  {
    "text": "external dependencies and the nice thing about the control click is that then this is",
    "start": "3171799",
    "end": "3178960"
  },
  {
    "text": "probably built with the simplest possible architecture no uh additional",
    "start": "3178960",
    "end": "3184160"
  },
  {
    "text": "abstractions that I don't need and the last one is that I don't",
    "start": "3184160",
    "end": "3190000"
  },
  {
    "text": "have any an explicit dependencies so when I change this part of the code I",
    "start": "3190000",
    "end": "3196040"
  },
  {
    "text": "know what I'm breaking so I know how to fix that so I don't uh get stomped by",
    "start": "3196040",
    "end": "3203799"
  },
  {
    "text": "unwanted consequences um technique number 10 uh I hope that",
    "start": "3203799",
    "end": "3212480"
  },
  {
    "text": "you know about this uh I I won't go into very much detail I'm just keeping it in",
    "start": "3212480",
    "end": "3217799"
  },
  {
    "text": "here because it's fairly important and I don't think we're making any novel stuff",
    "start": "3217799",
    "end": "3223160"
  },
  {
    "text": "here um the base idea for this is to ensure that your team is accountable for",
    "start": "3223160",
    "end": "3229440"
  },
  {
    "text": "everything that they do and the anti for Incident Management",
    "start": "3229440",
    "end": "3235200"
  },
  {
    "text": "is to like don't care about stuff going wrong so we do two processes for",
    "start": "3235200",
    "end": "3243799"
  },
  {
    "text": "Incident Management it's when the incident has happened then we have a process for dealing with that incident",
    "start": "3243799",
    "end": "3250440"
  },
  {
    "text": "as quick as possible with zoom rooms and commanders and assessing impact and",
    "start": "3250440",
    "end": "3256040"
  },
  {
    "text": "severity to ensure that the impact to our end customer is as low as it",
    "start": "3256040",
    "end": "3261520"
  },
  {
    "text": "possibly can be and then we have a incident review process for our teams so after an",
    "start": "3261520",
    "end": "3268520"
  },
  {
    "text": "incident you do this uh both to build uh a confidence that you're failing to the",
    "start": "3268520",
    "end": "3275119"
  },
  {
    "text": "together in a blameless way but also to learn from your",
    "start": "3275119",
    "end": "3282319"
  },
  {
    "text": "mistakes our last technique is Log",
    "start": "3283400",
    "end": "3289599"
  },
  {
    "text": "contexts and uh the base idea for this technique is to uh employ uh the",
    "start": "3290119",
    "end": "3297599"
  },
  {
    "text": "recognition design pattern in contrast to recall where recognition is the",
    "start": "3297599",
    "end": "3303920"
  },
  {
    "text": "ability to recognize something that you've seen before while recall is the ability to",
    "start": "3303920",
    "end": "3310720"
  },
  {
    "text": "out of thin air remember what happened and the anti for log context is",
    "start": "3310720",
    "end": "3319520"
  },
  {
    "text": "this amazing thing that tells us everything about what went wrong um so I have two examples of how",
    "start": "3319520",
    "end": "3327359"
  },
  {
    "text": "we employ log context uh at Forma the first one is whenever there's a data",
    "start": "3327359",
    "end": "3333839"
  },
  {
    "text": "order that fails in our system we have a slack putut that will uh at us and tell",
    "start": "3333839",
    "end": "3340160"
  },
  {
    "text": "us and this I mean it's maybe more than two years since I designed this system",
    "start": "3340160",
    "end": "3347400"
  },
  {
    "text": "and when I looked back at this message uh the last week I actually remember the",
    "start": "3347400",
    "end": "3353039"
  },
  {
    "text": "architecture of this system um because it told me all about it and it even kind",
    "start": "3353039",
    "end": "3360319"
  },
  {
    "text": "of gives me some lines of code that I probably wrote at some point to remind me which line This failed on it reminds",
    "start": "3360319",
    "end": "3369119"
  },
  {
    "text": "me how I can reproduce the thing locally uh it gives me a shortcut to retry this",
    "start": "3369119",
    "end": "3375960"
  },
  {
    "text": "error it reminds me where the logs are and when I look at the logs it's",
    "start": "3375960",
    "end": "3381599"
  },
  {
    "text": "reminding me of how this system was composed and what parts",
    "start": "3381599",
    "end": "3386799"
  },
  {
    "text": "uh it's uh it's built",
    "start": "3386799",
    "end": "3390359"
  },
  {
    "text": "off so this brings us to my",
    "start": "3392480",
    "end": "3398079"
  },
  {
    "text": "conclusion so again we employ these techniques to uh take",
    "start": "3398400",
    "end": "3405799"
  },
  {
    "text": "accountability when we are given the Sharp Tools so that we can keep empowering our teams so that we can",
    "start": "3405799",
    "end": "3412119"
  },
  {
    "text": "integrate early uh optimize for this time to value and try to minimize all of",
    "start": "3412119",
    "end": "3418280"
  },
  {
    "text": "the things that we do I told you about all of these ideas from reducing risk to continuous",
    "start": "3418280",
    "end": "3425559"
  },
  {
    "text": "integration for decoupling uh and maybe also learning",
    "start": "3425559",
    "end": "3432760"
  },
  {
    "text": "early however this doesn't exist in a vacuum and we've made these decisions",
    "start": "3432960",
    "end": "3439480"
  },
  {
    "text": "because it works for us I'm amazed how much of this is true now and was true",
    "start": "3439480",
    "end": "3445480"
  },
  {
    "text": "four years ago but there are tradeoffs to this so first of all all of your engineers must act",
    "start": "3445480",
    "end": "3454160"
  },
  {
    "text": "accountable and you need to trust them to do so if not this breaks down you",
    "start": "3454160",
    "end": "3460400"
  },
  {
    "text": "need to embrace the chaos because you're not put this is about not putting in like there weren't any rules here I'm",
    "start": "3460400",
    "end": "3467440"
  },
  {
    "text": "not say and not all of our teams do these things uh but they can do it so",
    "start": "3467440",
    "end": "3473039"
  },
  {
    "text": "you need to embrace the chaos of uh autonomous and embraced or empowered um",
    "start": "3473039",
    "end": "3480039"
  },
  {
    "text": "Team Dynamic this is brilliant for having high iteration velocity if I have an",
    "start": "3480039",
    "end": "3487359"
  },
  {
    "text": "idea it can be seconds till a user is testing my idea if I want to um and it",
    "start": "3487359",
    "end": "3495559"
  },
  {
    "text": "allows you to always minimize the time it takes to correct the issues because",
    "start": "3495559",
    "end": "3501400"
  },
  {
    "text": "there's no artificial boundary before you fixing a bug you don't have to ask",
    "start": "3501400",
    "end": "3506520"
  },
  {
    "text": "for permission security becomes something that everyone is responsible for so",
    "start": "3506520",
    "end": "3512799"
  },
  {
    "text": "we're not putting that to a centralized unit that decides a lot of things for the rest of the company to protect them",
    "start": "3512799",
    "end": "3518520"
  },
  {
    "text": "we're pushing that back into the team and that's a real tradeoff that someone thinks it's very hard you need to",
    "start": "3518520",
    "end": "3525720"
  },
  {
    "text": "embrace incidents because they will happen but it's how you deal with them that's the most important thing and then",
    "start": "3525720",
    "end": "3532440"
  },
  {
    "text": "in our context we are still iterating our on our product we're trying to get",
    "start": "3532440",
    "end": "3538039"
  },
  {
    "text": "it to grow that's what we're mainly focused on and if you're not in that state maybe",
    "start": "3538039",
    "end": "3544440"
  },
  {
    "text": "other tradeoffs makes uh more sense um and this is my last slide uh",
    "start": "3544440",
    "end": "3552319"
  },
  {
    "text": "I'm Howard uh if you want to talk about these things I'm here for the day or you",
    "start": "3552319",
    "end": "3558200"
  },
  {
    "text": "can talk to me at Linkin thank you",
    "start": "3558200",
    "end": "3567160"
  }
]