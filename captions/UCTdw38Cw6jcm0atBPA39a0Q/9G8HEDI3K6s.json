[
  {
    "text": "is my audio on can you hear me it is it's being on fight good alright then",
    "start": "4390",
    "end": "10209"
  },
  {
    "text": "okay well we shall get started then and yeah it's really nice to see such a lot",
    "start": "10209",
    "end": "16750"
  },
  {
    "text": "of happy smiley faces out there I'm choosing to believe that you all deliberately want to be in this talk and",
    "start": "16750",
    "end": "23380"
  },
  {
    "text": "it's not just that you were so mesmerized by the Kino that you just like can't be bothered to get up and but",
    "start": "23380",
    "end": "28570"
  },
  {
    "text": "to be honest with you I don't care as long as you're here that's that's fine with me and so my name is Steve and I",
    "start": "28570",
    "end": "34270"
  },
  {
    "text": "work at Microsoft and I'm on the asp net team and as i'm sure most of you know",
    "start": "34270",
    "end": "40300"
  },
  {
    "text": "asp net is primarily a server-side programming platform so that is what the",
    "start": "40300",
    "end": "45460"
  },
  {
    "text": "majority of people on the team are focused on but I'm a little bit different personally I spend a lot of my time",
    "start": "45460",
    "end": "51070"
  },
  {
    "text": "trying to help improve the difficult lives of poor struggling front-end web",
    "start": "51070",
    "end": "56500"
  },
  {
    "text": "devs who are trying to make sense of a world where they have to use angular and react webpack and all that sort of stuff",
    "start": "56500",
    "end": "62050"
  },
  {
    "text": "and try and put that into a shape that at least gives them some kind of meaning",
    "start": "62050",
    "end": "67660"
  },
  {
    "text": "and some kind of hope and as part of that as you can probably imagine an",
    "start": "67660",
    "end": "73270"
  },
  {
    "text": "important aspect of it is trying to understand where the web platform is going in the future what are the new",
    "start": "73270",
    "end": "78579"
  },
  {
    "text": "features that are coming out that are going to change the kind of programming that we do on the web or that are going",
    "start": "78579",
    "end": "84250"
  },
  {
    "text": "to take things that used to be really difficult messy and make them better in some way in the future and that is what",
    "start": "84250",
    "end": "91119"
  },
  {
    "text": "this talk is about you two are probably somewhat interested to know how work web",
    "start": "91119",
    "end": "96159"
  },
  {
    "text": "development will change in the future and if you are then one of the good places that you can go to get some information about that is the various",
    "start": "96159",
    "end": "103180"
  },
  {
    "text": "platform status web pages that each of the browser makers have put up here's the one that Mozilla has put up about",
    "start": "103180",
    "end": "109780"
  },
  {
    "text": "Firefox and that's got a long long long list of all the different features that they're working on and we will be",
    "start": "109780",
    "end": "115509"
  },
  {
    "text": "putting it into Firefox with lots of information about what versions it's going to ship in and what the status is at the moment it's not just Mozilla",
    "start": "115509",
    "end": "122289"
  },
  {
    "text": "here's Google's one that they've put up for Chrome and that's really helpful it tells you exactly what versions each of",
    "start": "122289",
    "end": "128590"
  },
  {
    "text": "their different features are going to ship in it tells you also about what level of consensus has been reached among all the other browser makers about",
    "start": "128590",
    "end": "135280"
  },
  {
    "text": "each of the different features and links to the original specifications so you can learn more about you-know-what",
    "start": "135280",
    "end": "141799"
  },
  {
    "text": "in detail the api's are going to look like and so on finally not surprisingly",
    "start": "141799",
    "end": "147230"
  },
  {
    "text": "microsoft also has got one for the edge platform for example here it's showing you that there's going to be a",
    "start": "147230",
    "end": "153349"
  },
  {
    "text": "forthcoming ambient light sensor API which means you'll be able to detect if your visitors are in a light room or a",
    "start": "153349",
    "end": "159680"
  },
  {
    "text": "dark room I can't imagine what you're gonna do with that maybe you're gonna have some sort of special night mode on your website or something I don't know",
    "start": "159680",
    "end": "165440"
  },
  {
    "text": "but you know it's great to know that that stuff is there and you'll soon be able to use it now if you want to go a",
    "start": "165440",
    "end": "171590"
  },
  {
    "text": "step deeper below this stuff to the original standards bodies and the specifications that they're putting out",
    "start": "171590",
    "end": "177680"
  },
  {
    "text": "then there are a couple of different ones they're probably one of the main ones is the web architecture but whatever it says there for what WG okay",
    "start": "177680",
    "end": "185629"
  },
  {
    "text": "and they've got all of their specs that they're working on listed there and you can get into that in as much detail as",
    "start": "185629",
    "end": "191900"
  },
  {
    "text": "you possibly want but it can be a bit overwhelming because if you look at it there's like 900 different",
    "start": "191900",
    "end": "197379"
  },
  {
    "text": "specifications that are being worked on at the moment there are different levels of completeness and how do you even",
    "start": "197379",
    "end": "202910"
  },
  {
    "text": "figure out which ones of those are going to be interesting and relevant to you in your development life well the good news",
    "start": "202910",
    "end": "209599"
  },
  {
    "text": "is you don't have to because I've done that for you that's what this talk is about we are going to spend the next 55",
    "start": "209599",
    "end": "215660"
  },
  {
    "text": "minutes going through four major feature areas that are coming to the web which I think are particularly influential that",
    "start": "215660",
    "end": "223489"
  },
  {
    "text": "are going to change the way that you write your code or at least the first two certainly the second two are a",
    "start": "223489",
    "end": "228950"
  },
  {
    "text": "little bit more less known the first two you've probably heard of already I'm sure you will have actually but hopefully I'll be able to show them to",
    "start": "228950",
    "end": "235040"
  },
  {
    "text": "you in a little bit more detail than you've seen before okay so the first one which I think you'll have heard of but",
    "start": "235040",
    "end": "240799"
  },
  {
    "text": "maybe aren't quite using yet serviceworkers hands up if you're using service workers in your production application right now like for people",
    "start": "240799",
    "end": "249049"
  },
  {
    "text": "okay five right so not surprisingly it's a bit early days for service workers",
    "start": "249049",
    "end": "254060"
  },
  {
    "text": "because these it's only just started rolling out to be on by default in major",
    "start": "254060",
    "end": "259459"
  },
  {
    "text": "browsers but for those of you are not using it yet what is the idea with this",
    "start": "259459",
    "end": "264470"
  },
  {
    "text": "well the idea is to change how your code can run because since the very beginning",
    "start": "264470",
    "end": "269599"
  },
  {
    "text": "of programming on the web you've been subject to a very strict limitation that your JavaScript code can",
    "start": "269599",
    "end": "275599"
  },
  {
    "text": "only run while the user is on your webpage as soon as they never get away we just tear down your entire",
    "start": "275599",
    "end": "281199"
  },
  {
    "text": "application and that's it you can't run any more code but serviceworkers changes that it allows you to register some",
    "start": "281199",
    "end": "288050"
  },
  {
    "text": "JavaScript with the browser so that the browser can execute it even when the user is not on your page and as for why",
    "start": "288050",
    "end": "294409"
  },
  {
    "text": "you would want to do that well that gives rise to a whole bunch of different features and use cases that didn't exist",
    "start": "294409",
    "end": "299479"
  },
  {
    "text": "before and the most bit well-known of them is to enable offline support for your application but there's some other",
    "start": "299479",
    "end": "305120"
  },
  {
    "text": "stuff as well that I will mention in a minute but before we get to any of the other things let's just start by having",
    "start": "305120",
    "end": "311539"
  },
  {
    "text": "a look at what it looks like to write a bit of Service Worker code so I'm gonna do a demo now let's switch over okay so",
    "start": "311539",
    "end": "319190"
  },
  {
    "text": "actually let me show you this thing running in a browser first what I've done is I've created this very very simple plain HTML web page that looks a",
    "start": "319190",
    "end": "326960"
  },
  {
    "text": "bit like a newsfeed so you could think of it as being a bit like Twitter or something like that but it doesn't necessarily have to be a social media",
    "start": "326960",
    "end": "334460"
  },
  {
    "text": "type thing it could be say a feed of deliveries that your company's delivery drivers need to do it could be a list of",
    "start": "334460",
    "end": "340430"
  },
  {
    "text": "bugs that you've fixed or something like that it's just some source of information that you need to push out to people and",
    "start": "340430",
    "end": "347330"
  },
  {
    "text": "we're going to make this work nicely using service workers now at the moment this application does not work offline",
    "start": "347330",
    "end": "353810"
  },
  {
    "text": "and to prove that to you I'm gonna go into here and I'm gonna change my browser to simulate being offline and",
    "start": "353810",
    "end": "360139"
  },
  {
    "text": "then when I hit reload what will we get we'll get there is no internet connection all right so it doesn't work",
    "start": "360139",
    "end": "365419"
  },
  {
    "text": "it's dead that's just not a good thing so let's go back to online and we're going to try and make this thing work",
    "start": "365419",
    "end": "372469"
  },
  {
    "text": "offline and we're going to do it using service workers so let's see how the code for that might go right in my",
    "start": "372469",
    "end": "378469"
  },
  {
    "text": "application so far which by the way is just pure HTML CSS and JavaScript there's no server-side stuff going on",
    "start": "378469",
    "end": "384830"
  },
  {
    "text": "here I've got this javascript file and as you can see it doesn't yet do anything but the first thing I want to",
    "start": "384830",
    "end": "391310"
  },
  {
    "text": "do is register a serviceworker with the browser so to do that I can use a little",
    "start": "391310",
    "end": "396919"
  },
  {
    "text": "bit of code like this now the only bit here that's strictly necessary Terry is this I'm saying browser using",
    "start": "396919",
    "end": "403520"
  },
  {
    "text": "the serviceworker api's i want to register a serviceworker at this URL because the serviceworker is",
    "start": "403520",
    "end": "409250"
  },
  {
    "text": "a javascript file that's all it is the browser will fetch that and it will register it this other stuff here just",
    "start": "409250",
    "end": "414560"
  },
  {
    "text": "gives us some feedback about whether it succeeded or failed but we don't strictly need that now what is in the",
    "start": "414560",
    "end": "420020"
  },
  {
    "text": "serviceworker JS file well it's this what you need to understand about service workers is that the only thing",
    "start": "420020",
    "end": "427370"
  },
  {
    "text": "they can do is respond to events you can't choose when your service worker runs if you could you could abuse it in",
    "start": "427370",
    "end": "434330"
  },
  {
    "text": "all kinds of ways and just be mining Bitcoin in the background forever or something but to prevent that sort of thing the serviceworker will only allow",
    "start": "434330",
    "end": "442040"
  },
  {
    "text": "your code to run when the browser wants it to run and it does that by raising an event and in this case I am responding",
    "start": "442040",
    "end": "448340"
  },
  {
    "text": "to the install event you can probably guess that that fires when the serviceworker is first installed and i'm logging this message i'll just clean",
    "start": "448340",
    "end": "454880"
  },
  {
    "text": "that up slightly and what's the other stuff then this thing down here slightly weird looking api is but basically there",
    "start": "454880",
    "end": "461060"
  },
  {
    "text": "are various ways of telling the browser when your serviceworker is ready to run and this line here is just saying I'm",
    "start": "461060",
    "end": "466550"
  },
  {
    "text": "ready right now don't wait for anything else and this thing here as I'm sure you can guess is",
    "start": "466550",
    "end": "471710"
  },
  {
    "text": "a way of loading one javascript file into another normally you know javascript files using script tags but",
    "start": "471710",
    "end": "478040"
  },
  {
    "text": "we can't use script tags and serviceworkers because guess what there are no tags there's no page there's no document this javascript is running",
    "start": "478040",
    "end": "485630"
  },
  {
    "text": "outside the context of any particular page so there has to be this other API for loading JavaScript okay so let's see",
    "start": "485630",
    "end": "491990"
  },
  {
    "text": "if this works shall we we'll see if it logs stuff to the console to say that it got installed so if I do a reload now",
    "start": "491990",
    "end": "497630"
  },
  {
    "text": "we'll see the page gets the success result from that serviceworker register call and then the serviceworker has its",
    "start": "497630",
    "end": "504080"
  },
  {
    "text": "install event fired the install event only fires once so if I hit reload again",
    "start": "504080",
    "end": "510440"
  },
  {
    "text": "you'll see the page registers it again because it's coded to do that every time but the browser will fetch the",
    "start": "510440",
    "end": "516440"
  },
  {
    "text": "serviceworker and go hang on I've seen this before that's not changed I'm not going to bother installing it a second time so",
    "start": "516440",
    "end": "522080"
  },
  {
    "text": "however many times we reload it won't install again until we change the source code so let's make a very small change",
    "start": "522080",
    "end": "528650"
  },
  {
    "text": "to the source code there come back and reload and now the browser will say oh look I see that that's different",
    "start": "528650",
    "end": "534710"
  },
  {
    "text": "before so I'm going to reinstall that now but again it will only do that once so we won't see in the install event a",
    "start": "534710",
    "end": "541040"
  },
  {
    "text": "second time okay so that is the install event there are other events that you",
    "start": "541040",
    "end": "546350"
  },
  {
    "text": "can respond to as well and one of the good simplest places to start is with the fetch event fetch runs whenever the",
    "start": "546350",
    "end": "554060"
  },
  {
    "text": "browser wants to request something from your domain whenever it's going to do an HTTP request and here I'm just going to",
    "start": "554060",
    "end": "560000"
  },
  {
    "text": "log a message and you can ignore the rest of the stuff for now let's see if this works shall we I'll see if it's going to log a message every time we",
    "start": "560000",
    "end": "567080"
  },
  {
    "text": "make a request to the site I'll hit reload and oh it seems to not be working but it is working really on the first",
    "start": "567080",
    "end": "573440"
  },
  {
    "text": "request all it's done is its installed the updated serviceworker but when I load it again",
    "start": "573440",
    "end": "578690"
  },
  {
    "text": "now you'll see it's running my fetch event for every single HTTP request that",
    "start": "578690",
    "end": "583760"
  },
  {
    "text": "it makes to the domain the point of that is not just for logging stuff but so",
    "start": "583760",
    "end": "589070"
  },
  {
    "text": "that you can programmatically control what the browser does with the network I'll give you a very simple example",
    "start": "589070",
    "end": "596029"
  },
  {
    "text": "let's say that I want to say every time that we try to make a request for a PNG",
    "start": "596029",
    "end": "601790"
  },
  {
    "text": "file instead of fetching whatever file it was going to be instead we're going to fetch a picture of a face and we'll",
    "start": "601790",
    "end": "607250"
  },
  {
    "text": "pretend that that was the response from the web server so now I'll come back I'll reload and the first time it",
    "start": "607250",
    "end": "613160"
  },
  {
    "text": "installs the updated serviceworker and when I reload again then we get this picture of a face instead of any of the",
    "start": "613160",
    "end": "618890"
  },
  {
    "text": "images which is great because it's really fun way of cranking your coworkers",
    "start": "618890",
    "end": "624200"
  },
  {
    "text": "for example now you'll see that every single time my browser tries to fetch this BBC URL there it comes back with",
    "start": "624200",
    "end": "630950"
  },
  {
    "text": "this face even though that's nothing like what the web server would normally respond to it's so great for tricking",
    "start": "630950",
    "end": "636140"
  },
  {
    "text": "people but that's not the only use case there are other use cases as well and like I said probably the best-known one",
    "start": "636140",
    "end": "642860"
  },
  {
    "text": "is to enable offline support and that is what I will show you right now so let's get rid of this silly code here and make",
    "start": "642860",
    "end": "649520"
  },
  {
    "text": "sure that our web page has gone back to behaving normally okay good and I want to change a little bit about how my",
    "start": "649520",
    "end": "656149"
  },
  {
    "text": "serviceworker gets registered I'm gonna start by doing a very simplistic and naive approach to offline support and",
    "start": "656149",
    "end": "662209"
  },
  {
    "text": "then we'll make it a little bit cleverer in a moment so here is my very simplistic starting point I'm going to",
    "start": "662209",
    "end": "668120"
  },
  {
    "text": "say whenever this service worker gets installed we're going to define this array which is a long long long list of",
    "start": "668120",
    "end": "673790"
  },
  {
    "text": "hard-coded resources that I want to fetch and make available offline okay",
    "start": "673790",
    "end": "679640"
  },
  {
    "text": "so I've got this long list and then I'm going to fetch them and catch them and I'll do that using this new API called caches first I'll delete any existing",
    "start": "679640",
    "end": "687350"
  },
  {
    "text": "cache with this name then I will create a new empty cache with that name and then I will fetch all of those",
    "start": "687350",
    "end": "693740"
  },
  {
    "text": "hard-coded things and add them into this cache and when that's all done I'll say to the browser right I'm done I'm ready",
    "start": "693740",
    "end": "699529"
  },
  {
    "text": "now okay so having done that we can change through what the browser does when it",
    "start": "699529",
    "end": "705260"
  },
  {
    "text": "wants to fetch stuff for real we can say okay we no longer need to fetch stuff from the internet instead we can just",
    "start": "705260",
    "end": "711950"
  },
  {
    "text": "assume that everything that you ever want to fetch is already inside one of our caches so we can just populate the",
    "start": "711950",
    "end": "717740"
  },
  {
    "text": "response directly from that cache see if this works shall we so let's go back reload again the first time it installs",
    "start": "717740",
    "end": "725570"
  },
  {
    "text": "the updated serviceworker and now when I reload it it all just seems to be behaving as normal but it is a bit different because if we look in the",
    "start": "725570",
    "end": "732050"
  },
  {
    "text": "network tab you can see that all these responses have been resolved not using the internet but rather using the",
    "start": "732050",
    "end": "737630"
  },
  {
    "text": "serviceworker which means that we no longer need the network at all and if I put my browser",
    "start": "737630",
    "end": "742940"
  },
  {
    "text": "into offline mode like so then when I hit reload instead of there is no internet connection I'll just get my",
    "start": "742940",
    "end": "749450"
  },
  {
    "text": "webpage it just shows up as normal so my page now is completely indifferent to whether you've got a network connection",
    "start": "749450",
    "end": "755180"
  },
  {
    "text": "or not because it's not going to use it even if you do all right so that's fine but that's too simplistic",
    "start": "755180",
    "end": "761300"
  },
  {
    "text": "really this is going to lead to problems what problems well this is supposed to be a news feed isn't it what happens",
    "start": "761300",
    "end": "767600"
  },
  {
    "text": "when there's a new news item let's have a go at putting one in shall we I'm going to create a new news item",
    "start": "767600",
    "end": "775010"
  },
  {
    "text": "let's say it's CNBC and we'll go breaking Bitcoin down by 99% ok and then",
    "start": "775010",
    "end": "785750"
  },
  {
    "text": "we'll come back into the browser and I'll hit reload do I get the updated",
    "start": "785750",
    "end": "790850"
  },
  {
    "text": "news story no I don't well firstly that's not surprising because I'm offline so let's go back online and",
    "start": "790850",
    "end": "796010"
  },
  {
    "text": "reload again do I get the updated news story no I don't what about if I load again no I still don't why",
    "start": "796010",
    "end": "801500"
  },
  {
    "text": "well because I'm not even talking to the internet anymore I'm just returning everything from the cache that I've",
    "start": "801500",
    "end": "806570"
  },
  {
    "text": "already got so we've got no way of knowing that there's any new data so let's make our logic a little bit",
    "start": "806570",
    "end": "812030"
  },
  {
    "text": "smarter even though it's still not super great we'll have an updated strategy which is we'll say ok we'll try to",
    "start": "812030",
    "end": "819050"
  },
  {
    "text": "request it from the internet with that there and if that succeeds then we'll",
    "start": "819050",
    "end": "824540"
  },
  {
    "text": "return the response that we got from the network but if it fails then we'll fall back on returning stuff from the cache",
    "start": "824540",
    "end": "830750"
  },
  {
    "text": "so it's fractionally smarter let's see if that works so I'll load and the first time it's",
    "start": "830750",
    "end": "836840"
  },
  {
    "text": "updating the serviceworker and then I load again and we get the updated news story good so that's an improvement now",
    "start": "836840",
    "end": "843500"
  },
  {
    "text": "and of course if I was offline then it would fall back on serving stuff from the cache instead of going to the",
    "start": "843500",
    "end": "850670"
  },
  {
    "text": "Internet so that's good but it's still a bit too simplistic because the idea that someone is either offline or online well",
    "start": "850670",
    "end": "858140"
  },
  {
    "text": "it's not really a boolean stage you're not just online it's there's more a question of how online are you how good",
    "start": "858140",
    "end": "864980"
  },
  {
    "text": "is your internet connection what if you are online but your internet connection is so slow that the entire universe will",
    "start": "864980",
    "end": "870680"
  },
  {
    "text": "have like reached its heat death before we finish responding to the network request that's a pretty bad scenario and in fact I can",
    "start": "870680",
    "end": "877670"
  },
  {
    "text": "simulate that exact scenario quite easily by pretending that I've got plain",
    "start": "877670",
    "end": "882860"
  },
  {
    "text": "Wi-Fi connection ok so how is the user experience going to be now I'm gonna do",
    "start": "882860",
    "end": "889640"
  },
  {
    "text": "a control shift are to force it to fetch everything from the network now I will see how long it takes so it's not going",
    "start": "889640",
    "end": "896390"
  },
  {
    "text": "to quite take til the heat death of the universe but it will take a while and you can see we're still loading we waiting for these pictures we're waiting",
    "start": "896390",
    "end": "902660"
  },
  {
    "text": "and here they come come on pictures come on come on ok finally it's done it right",
    "start": "902660",
    "end": "908030"
  },
  {
    "text": "so it's not a great user experience right now it's too slow even though we were online so let's make our logic a",
    "start": "908030",
    "end": "914360"
  },
  {
    "text": "little bit smarter still we'll say now we'll try to use the network but if it's too slow then we'll give up and we'll",
    "start": "914360",
    "end": "920810"
  },
  {
    "text": "use the cached data okay so here's my third version of my offline support",
    "start": "920810",
    "end": "927020"
  },
  {
    "text": "logic which looks like a lot of code but it's not too bad really what we're doing is we're saying ok we'll start by trying",
    "start": "927020",
    "end": "932600"
  },
  {
    "text": "to fetch stuff from the network and if that succeeds then we will just return the response from the network if",
    "start": "932600",
    "end": "939050"
  },
  {
    "text": "it takes longer than 200 milliseconds because that's how long my patience lasts then we're going to give up we've",
    "start": "939050",
    "end": "944720"
  },
  {
    "text": "got one fifth of a second if it doesn't finish in that time then we're going to return stuff from the cache but we're",
    "start": "944720",
    "end": "951380"
  },
  {
    "text": "still gonna let our response our requests continue in the background even if we've given up and served from the",
    "start": "951380",
    "end": "956870"
  },
  {
    "text": "cache will still allow the request to continue in the background and when it eventually finishes we will update the",
    "start": "956870",
    "end": "962570"
  },
  {
    "text": "existing cached content so the user will eventually get updated data all right",
    "start": "962570",
    "end": "968210"
  },
  {
    "text": "let's see if this works shall we first I'm just gonna run throttle things while we get the updated Service Worker okay",
    "start": "968210",
    "end": "974930"
  },
  {
    "text": "then I will go back to being on the plain Wi-Fi like that and I'm gonna hit",
    "start": "974930",
    "end": "980060"
  },
  {
    "text": "reload and this time instead of taking ages it should come up in 200 milliseconds and it does and if you want",
    "start": "980060",
    "end": "985850"
  },
  {
    "text": "to actually see the numbers here let's reload again you'll see that all of",
    "start": "985850",
    "end": "991040"
  },
  {
    "text": "these responses are coming back in slightly over 200 milliseconds because we were waiting that long to see if the network would respond and then we gave",
    "start": "991040",
    "end": "997820"
  },
  {
    "text": "up and we returned it from the cache and so now if there's some new content let's say breaking I don't know",
    "start": "997820",
    "end": "1005350"
  },
  {
    "text": "climb base happy Bitcoin up by 99% okay",
    "start": "1005350",
    "end": "1014410"
  },
  {
    "text": "right we'll go back and we will hit reload and this time it will complete in",
    "start": "1014410",
    "end": "1019660"
  },
  {
    "text": "200 milliseconds we did not get the updated data from the network fast enough so we haven't shown it but in the",
    "start": "1019660",
    "end": "1025510"
  },
  {
    "text": "background you'll see it was updating all the stay so when the user hits up that reloaded again later now they will",
    "start": "1025510",
    "end": "1032319"
  },
  {
    "text": "get the updated news story and they never had to wait too long for him okay",
    "start": "1032319",
    "end": "1037360"
  },
  {
    "text": "right so what on earth was the point of me showing you all this stuff the point was not to say that this in particular",
    "start": "1037360",
    "end": "1045160"
  },
  {
    "text": "is the right way to do offline access or anything the point of it is just to demonstrate to you serviceworker api's",
    "start": "1045160",
    "end": "1051309"
  },
  {
    "text": "and the fact that serviceworker allows you to programmatically control things that you couldn't control before like",
    "start": "1051309",
    "end": "1056920"
  },
  {
    "text": "how the browser is going to interact with the network you can set your own policies for what should be cached and for how long and how long you wait in -",
    "start": "1056920",
    "end": "1062890"
  },
  {
    "text": "willing to wait for network responses and what you're gonna do if things timeout all that kind of stuff is under your control",
    "start": "1062890",
    "end": "1068320"
  },
  {
    "text": "in a way that it wouldn't have been before and you can apply that logic not just to requests that are running while",
    "start": "1068320",
    "end": "1073630"
  },
  {
    "text": "your page is already loaded but to record to the very first request to your page even before your pages is loaded so",
    "start": "1073630",
    "end": "1079900"
  },
  {
    "text": "serviceworker gives rise to that option but other things as well I'm not going to demonstrate it to you but serviceworkers allows you to say what",
    "start": "1079900",
    "end": "1086620"
  },
  {
    "text": "should happen if the user tries to send so for example save some changes to",
    "start": "1086620",
    "end": "1092080"
  },
  {
    "text": "something they've made while they were offline we can hold that request in memory and send it later to the browser",
    "start": "1092080",
    "end": "1097870"
  },
  {
    "text": "even if they're not on your webpage at that point similarly we can receive push notifications from your server even if",
    "start": "1097870",
    "end": "1103450"
  },
  {
    "text": "the users not on your webpage and a new thing that's just been creeping into the specs in the last couple of months is the ability to do large uploads and",
    "start": "1103450",
    "end": "1111040"
  },
  {
    "text": "downloads in the background in such a way that even if the user closes their browser and then reopens it later it",
    "start": "1111040",
    "end": "1116770"
  },
  {
    "text": "will resume the upload or download in the background even though they're not on your webpage and eventually when it completes it will send an event to your",
    "start": "1116770",
    "end": "1123460"
  },
  {
    "text": "serviceworker okay so that is service workers as for browser support on",
    "start": "1123460",
    "end": "1129280"
  },
  {
    "text": "service workers right now it's looking pretty decent it's already shipped turned on by default in Chrome and",
    "start": "1129280",
    "end": "1134470"
  },
  {
    "text": "Firefox it's also fully implemented in edge although it is behind a feature flag at the moment so you have to go",
    "start": "1134470",
    "end": "1141310"
  },
  {
    "text": "into the settings to turn that on hopefully that'll be on by default fairly soon and then ask for Safari Apple has said that you know they're",
    "start": "1141310",
    "end": "1148240"
  },
  {
    "text": "developing this this is something they're going to support so this is going to be a universal feature fairly",
    "start": "1148240",
    "end": "1153370"
  },
  {
    "text": "soon all right that's service workers let's move on to the next thing now the next thing is",
    "start": "1153370",
    "end": "1159940"
  },
  {
    "text": "another thing that I know for sure you're gonna have heard of but again I'm hoping that I can show you a little bit more of the internals of it than you've",
    "start": "1159940",
    "end": "1166240"
  },
  {
    "text": "seen before and some cool things and that is web assembly where assembly is pretty big deal in the world of web",
    "start": "1166240",
    "end": "1173080"
  },
  {
    "text": "programming because for the first time since you know the anybody's memory it gives us an entirely new way of writing",
    "start": "1173080",
    "end": "1180400"
  },
  {
    "text": "code for a web browser it's a new code format it's a binary bytecode format which is designed",
    "start": "1180400",
    "end": "1186640"
  },
  {
    "text": "primarily around performance so it's very compact over the network it's very",
    "start": "1186640",
    "end": "1192430"
  },
  {
    "text": "fast for browsers to decode it and to verify that it's going to be safe to execute and it's also very fast for",
    "start": "1192430",
    "end": "1198550"
  },
  {
    "text": "browsers to generate optimized machine code in time when they see that so that they",
    "start": "1198550",
    "end": "1203620"
  },
  {
    "text": "can execute it very quickly and the idea is of course not that you write that bytecode by hand you can if you want but",
    "start": "1203620",
    "end": "1210190"
  },
  {
    "text": "that would be mad the more likely scenario is that you're going to compile to it from some other language and not",
    "start": "1210190",
    "end": "1216010"
  },
  {
    "text": "JavaScript or JavaScript related languages but other things that you would never have used to program the web before like C or NGO or something else",
    "start": "1216010",
    "end": "1223330"
  },
  {
    "text": "like that so let me show you a little bit of how that might work I want to run",
    "start": "1223330",
    "end": "1229660"
  },
  {
    "text": "some code on the web that I would never normally be able to run and it is going to be written in C who's ever written",
    "start": "1229660",
    "end": "1237070"
  },
  {
    "text": "some C oh that's a good number that's like a third of you okay so C is a very",
    "start": "1237070",
    "end": "1243970"
  },
  {
    "text": "venerable programming language that goes back a long long time and you don't",
    "start": "1243970",
    "end": "1249430"
  },
  {
    "text": "normally use it on the web here's a simple example of printing out the Fibonacci sequence Fibonacci is a",
    "start": "1249430",
    "end": "1255610"
  },
  {
    "text": "sequence of numbers that's defined mathematically it doesn't really matter what the sequence is I'm just using it as an example of some arbitrary code",
    "start": "1255610",
    "end": "1261940"
  },
  {
    "text": "here and this block of code here all that does is it reads a argument that",
    "start": "1261940",
    "end": "1267160"
  },
  {
    "text": "comes in on the command line and then it calls this function print Fibonacci and if we look up here here's print",
    "start": "1267160",
    "end": "1272230"
  },
  {
    "text": "Fibonacci and it's going to just iterate through printing out each of the terms one by one okay now if we want to run",
    "start": "1272230",
    "end": "1279280"
  },
  {
    "text": "that code written traditionally we would compile it to a native binary using a C",
    "start": "1279280",
    "end": "1284800"
  },
  {
    "text": "compiler for example the GNU C compiler I could say GCC compiler Bonacci dot C",
    "start": "1284800",
    "end": "1291760"
  },
  {
    "text": "and produce a native binary called Fibonacci and then I can run that Fibonacci and it says how many terms do",
    "start": "1291760",
    "end": "1297370"
  },
  {
    "text": "you want and I'll say give me eight terms and it's going to print out eight terms of the Fibonacci sequence",
    "start": "1297370",
    "end": "1302530"
  },
  {
    "text": "very good but can we run it on the browser via web assembly of course we",
    "start": "1302530",
    "end": "1307690"
  },
  {
    "text": "can't otherwise I wouldn't be wasting your time by showing you this so to do",
    "start": "1307690",
    "end": "1312880"
  },
  {
    "text": "that we don't use GCC we can use EMCC them scriptum c compiler and that's",
    "start": "1312880",
    "end": "1319120"
  },
  {
    "text": "going to take mostly the same parameters we'll compile the same file we'll tell it that we want it to produce a web",
    "start": "1319120",
    "end": "1324430"
  },
  {
    "text": "assembly binary as its output and it's also new gonna need to wrap that in a JavaScript file which I'll show you in a",
    "start": "1324430",
    "end": "1329770"
  },
  {
    "text": "second so that compiles now and what that has just generated is the two files here we've got the webassembly",
    "start": "1329770",
    "end": "1337690"
  },
  {
    "text": "file that's the binary 50 kilobytes and we've got this javascript wrapper file which is just under 100 kilobytes and",
    "start": "1337690",
    "end": "1343690"
  },
  {
    "text": "that knows how to load up and execute the web assembly stuff now you might be a little bit shocked and appalled that",
    "start": "1343690",
    "end": "1349299"
  },
  {
    "text": "we've got 150 kilobytes worth of stuff come out of there for a 26 line C",
    "start": "1349299",
    "end": "1355480"
  },
  {
    "text": "program but it's not that bad really it really isn't because something like 99",
    "start": "1355480",
    "end": "1360730"
  },
  {
    "text": "percent of the size of those binaries there is the C runtime that's being bundled by default so even if you were a",
    "start": "1360730",
    "end": "1367179"
  },
  {
    "text": "much larger application the final compile size wouldn't necessarily be that much larger also this is completely",
    "start": "1367179",
    "end": "1373240"
  },
  {
    "text": "honest and uncompressed so it's really much much smaller than this by the time it actually gets sent to your browser",
    "start": "1373240",
    "end": "1378429"
  },
  {
    "text": "but anyway does it work let's try and run it shall we and to run it we're gonna need to",
    "start": "1378429",
    "end": "1383919"
  },
  {
    "text": "have an HTML page that we can load in a browser and I've got one right here I know it doesn't look much like HTML but",
    "start": "1383919",
    "end": "1389650"
  },
  {
    "text": "technically it sort of works and I've got a script tag and it's going to load this javascript file and up here there's",
    "start": "1389650",
    "end": "1395950"
  },
  {
    "text": "rather odd syntax for specifying what arguments should be passed to it okay so",
    "start": "1395950",
    "end": "1401320"
  },
  {
    "text": "let me try running that now I will launch that in a browser with ctrl f5 there and when that pops up let's look",
    "start": "1401320",
    "end": "1408610"
  },
  {
    "text": "in the console and we will see that it is indeed printing out the first 10",
    "start": "1408610",
    "end": "1413860"
  },
  {
    "text": "terms of the Fibonacci sequence there ok good so it does actually work can we see some of the internals can we see the",
    "start": "1413860",
    "end": "1420669"
  },
  {
    "text": "code well we sort of can yeah so this is sort of the code it's a bit hard to make",
    "start": "1420669",
    "end": "1426700"
  },
  {
    "text": "sense of if we want it to be a bit easier to make sense of we can compile it with this G flag which produces a",
    "start": "1426700",
    "end": "1433539"
  },
  {
    "text": "nice debug build then and if I've done that then when I come back and I hit reload you'll see there's a new thing",
    "start": "1433539",
    "end": "1439690"
  },
  {
    "text": "that showed up down here and that is the original C source code because it's now produced source Maps so that's sort of",
    "start": "1439690",
    "end": "1446799"
  },
  {
    "text": "nice but it's still have limited usefulness because things like breakpoints and search don't really work properly yet although hopefully I would",
    "start": "1446799",
    "end": "1452650"
  },
  {
    "text": "they will do at some point in the future but still can we get bit more insight into what's going on inside this well",
    "start": "1452650",
    "end": "1459610"
  },
  {
    "text": "another thing that got generated when I did that debug build there is this West file webassembly Ted",
    "start": "1459610",
    "end": "1466330"
  },
  {
    "text": "all right and that is a text representation of the same stuff that is in the binary wasum file and this is",
    "start": "1466330",
    "end": "1472990"
  },
  {
    "text": "designed to be human readable although obviously somewhat depends on what kind of human you are is to whether you can",
    "start": "1472990",
    "end": "1478270"
  },
  {
    "text": "read that but I think we're the right kind of humans we can do this okay so we",
    "start": "1478270",
    "end": "1483460"
  },
  {
    "text": "want to try and make sense of where is print Fibonacci in all this giant pile of stuff so I'm going to search for",
    "start": "1483460",
    "end": "1489430"
  },
  {
    "text": "print Fibonacci and there it is okay that looks interesting it's still a little bit hard to make sense of but we can make sense of it because look we've",
    "start": "1489430",
    "end": "1495880"
  },
  {
    "text": "got line numbers and we can see that that stuff there is what corresponds to line 5 in our C code all right what is",
    "start": "1495880",
    "end": "1502570"
  },
  {
    "text": "line 5 this is line 5 I'm declaring to locals one has got a value 0 the others got a value 1 okay and here we're",
    "start": "1502570",
    "end": "1510160"
  },
  {
    "text": "declaring to locals one of them's got a value 0 and the others got a value 1 so we can somewhat see the correspondence",
    "start": "1510160",
    "end": "1516250"
  },
  {
    "text": "and the same in other cases as well like here's line 11 this is where we're adding two things together and if we",
    "start": "1516250",
    "end": "1522160"
  },
  {
    "text": "look for the stuff that corresponds to line 11 it's all this stuff and in the middle of there you can see that there's",
    "start": "1522160",
    "end": "1528340"
  },
  {
    "text": "an integer add operation that operates on two locals so we can kind of make",
    "start": "1528340",
    "end": "1534190"
  },
  {
    "text": "sense of this a little bit you wouldn't want to write this by hand but you can see what it is now it's a a stack based virtual machine",
    "start": "1534190",
    "end": "1540880"
  },
  {
    "text": "if you've ever seen MSI L the bytecode that underlies dotnet you'll recognize this as being quite familiar because",
    "start": "1540880",
    "end": "1546730"
  },
  {
    "text": "although it's not the same thing it's a similar sort of programming environment",
    "start": "1546730",
    "end": "1552340"
  },
  {
    "text": "okay so it does similar kind of things in a similar kind of way okay so that is",
    "start": "1552340",
    "end": "1558610"
  },
  {
    "text": "web assembly and like I said there's lots of work being done on being able to compile to web assembly from lots of",
    "start": "1558610",
    "end": "1564310"
  },
  {
    "text": "different types of languages particularly those based on the clang tool chain so go and rust and Swift",
    "start": "1564310",
    "end": "1569590"
  },
  {
    "text": "those kinds of things they're doing a good job of making it possible to compile to web assembling and this got me thinking wouldn't it be really cool",
    "start": "1569590",
    "end": "1576490"
  },
  {
    "text": "if we could run dotnet on web assembly as well that would be awesome what would we need well all we would really need would be a dotnet runtime",
    "start": "1576490",
    "end": "1583510"
  },
  {
    "text": "that is itself written in C and then I could compile that using EMCC to make web assembly and then I could",
    "start": "1583510",
    "end": "1590080"
  },
  {
    "text": "run the web assembly my browser and I could load dotnet assemblers into the browser and it should all just work shouldn't it shouldn't it so I went",
    "start": "1590080",
    "end": "1597190"
  },
  {
    "text": "looking to find a dotnet runtime written in C and guess what there is one and I'm going to show you right now okay",
    "start": "1597190",
    "end": "1603510"
  },
  {
    "text": "so this is what I found on github a lot of C source code alright so this is",
    "start": "1603510",
    "end": "1611220"
  },
  {
    "text": "about 98 C files and it deals with stuff like what is it generics he finalizer",
    "start": "1611220",
    "end": "1617700"
  },
  {
    "text": "JIT they all sound very dotnet II don't they and that's because this is a dotnet runtime now it's not the net runtime",
    "start": "1617700",
    "end": "1624630"
  },
  {
    "text": "it's not daya framework it's not called CLR it is a runtime called DNA which was",
    "start": "1624630",
    "end": "1631380"
  },
  {
    "text": "written by mr. Chris Burke and I was sittin in the front row here I was very excited to meet him just a few minutes",
    "start": "1631380",
    "end": "1636480"
  },
  {
    "text": "ago and it's quite amazing that he single-handedly put together an entire C runtime that actually works now he did",
    "start": "1636480",
    "end": "1643080"
  },
  {
    "text": "kind of abandon it six years ago but still it's pretty awesome that it's still here and it works and we can now",
    "start": "1643080",
    "end": "1649470"
  },
  {
    "text": "compile it and then run whatever dotnet code we want you can compile it to regular native code or you can compile",
    "start": "1649470",
    "end": "1655080"
  },
  {
    "text": "it to web assembly so that's what I've done so let me show you I'll go to Wesen",
    "start": "1655080",
    "end": "1661919"
  },
  {
    "text": "DNA and we will look at the contents of what got generated when I compiled this",
    "start": "1661919",
    "end": "1667409"
  },
  {
    "text": "and we got these two files okay so just like before we've got a web assembly binary file which is 150k we've got the",
    "start": "1667409",
    "end": "1675570"
  },
  {
    "text": "javascript wrapper which is about 200k so all together we've got about 350 kilobytes of stuff there but again this",
    "start": "1675570",
    "end": "1682289"
  },
  {
    "text": "is very uncompressed unoptimized in in practice it's a lot smaller when it gets into the browser as I'll show you in a",
    "start": "1682289",
    "end": "1688649"
  },
  {
    "text": "second but again does it actually work let's try so if we want to run this stuff",
    "start": "1688649",
    "end": "1694019"
  },
  {
    "text": "again we're gonna need a web page to host that in and here is the web page",
    "start": "1694019",
    "end": "1699059"
  },
  {
    "text": "for that so I've got a script tag here which is going to learn DNA JavaScript",
    "start": "1699059",
    "end": "1704639"
  },
  {
    "text": "and I'm gonna need to pass some arguments to it in some way but I don't really know what that is yet so let's figure that out in a minute",
    "start": "1704639",
    "end": "1710340"
  },
  {
    "text": "firstly let's run this thing shall we so let's start an HTTP server in this directory here and then I can go to the",
    "start": "1710340",
    "end": "1718230"
  },
  {
    "text": "port that that's listening on and we will see if it actually manages to run the DNA runtime and we can see it does",
    "start": "1718230",
    "end": "1725309"
  },
  {
    "text": "look it is actually executing DNA and DNA says alright fine tell me what net assembly you want me to execute",
    "start": "1725309",
    "end": "1732299"
  },
  {
    "text": "so we better do that and we what DNA what Donna assembly can we use well I've got everyone's favorite the beloved",
    "start": "1732299",
    "end": "1739349"
  },
  {
    "text": "console app one right what does console that one do we all know this it prints out hello world to the console alright",
    "start": "1739349",
    "end": "1746459"
  },
  {
    "text": "so I can compile that now I'm just going to run build and that's going to generate a dotnet DLL on disk and then I",
    "start": "1746459",
    "end": "1752489"
  },
  {
    "text": "want to pass that as a parameter into DNA okay so here are the options I need",
    "start": "1752489",
    "end": "1758639"
  },
  {
    "text": "to pass I need to say I want you to run console app one DLL oh but by the way you can't really read files from my disk",
    "start": "1758639",
    "end": "1764969"
  },
  {
    "text": "you're running in a web browser so I need to configure what you're gonna do when you try to access a file system and",
    "start": "1764969",
    "end": "1770070"
  },
  {
    "text": "I'll say when you try to access this file console app one you're going to need to actually fetch it from this URL",
    "start": "1770070",
    "end": "1775139"
  },
  {
    "text": "and similarly in order for this stuff to work in and gonna need the core library that contains implementations of string",
    "start": "1775139",
    "end": "1781679"
  },
  {
    "text": "and a list and all the other dotnet stuff and that's going to be in this file which has got this URL yeah okay",
    "start": "1781679",
    "end": "1787979"
  },
  {
    "text": "well let's try it then so I'll come over here and I'll hit reload and then this time it actually loads and executes the",
    "start": "1787979",
    "end": "1794369"
  },
  {
    "text": "darknet assembly directly in the browser there and to prove that this is really working and doing the actual thing that we think it",
    "start": "1794369",
    "end": "1800579"
  },
  {
    "text": "should do I will put in some extra c-sharp code for example I'll put in this print Fibonacci implemented in",
    "start": "1800579",
    "end": "1807869"
  },
  {
    "text": "c-sharp and then I can run that from up here ly self print Fibonacci and we'll have the first 12 terms let's say I'll",
    "start": "1807869",
    "end": "1815129"
  },
  {
    "text": "do ctrl f6 to rebuild which only takes a second and I'll do ctrl R to reload and",
    "start": "1815129",
    "end": "1820289"
  },
  {
    "text": "we'll see now it's running our updated code right there in the browser which is",
    "start": "1820289",
    "end": "1825899"
  },
  {
    "text": "pretty super yeah all right thank you most of that credit goes to Chris down",
    "start": "1825899",
    "end": "1832880"
  },
  {
    "text": "here because I did like one hour of work to make that happen okay so that's",
    "start": "1832880",
    "end": "1838100"
  },
  {
    "text": "webassembly and now like I said the DNA run time is not itself under active development but",
    "start": "1838100",
    "end": "1844429"
  },
  {
    "text": "since we started messing around with this the mono team has pblica me publicly committed to bringing mono to",
    "start": "1844429",
    "end": "1851630"
  },
  {
    "text": "webassembly so you will not have to use DNA you will be able to use a fully supported up-to-date very efficient and",
    "start": "1851630",
    "end": "1859250"
  },
  {
    "text": "feature complete runtime mono actually inside the browser and so given that sort of prospect you might be thinking a",
    "start": "1859250",
    "end": "1866149"
  },
  {
    "text": "little bit like I did hey wouldn't it be cool if there was like some sort of framework that you could use to build",
    "start": "1866149",
    "end": "1871850"
  },
  {
    "text": "client-side web applications in net so that I could do my back-end in c-sharp I could do the front-end in c-sharp and I",
    "start": "1871850",
    "end": "1878330"
  },
  {
    "text": "wouldn't have to deal with like 400 different JavaScript libraries and web pack and all that kind of stuff wouldn't",
    "start": "1878330",
    "end": "1883490"
  },
  {
    "text": "that be some sort of magnificent utopia so I had a little go at that and I want to show you some of that stuff now but",
    "start": "1883490",
    "end": "1890000"
  },
  {
    "text": "before I show you I want to caution you that this is experimental this is not something that anyone is promising to",
    "start": "1890000",
    "end": "1896240"
  },
  {
    "text": "ship there's a supported product this is something that we've been messing around with and playing it and trying to test",
    "start": "1896240",
    "end": "1902210"
  },
  {
    "text": "out whether it would produce a good result and whether people actually want it so I would like it if as many of you",
    "start": "1902210",
    "end": "1907850"
  },
  {
    "text": "as possible would give us some feedback about whether you want this sort of thing and if so how it would need to work for you what kind of constraints",
    "start": "1907850",
    "end": "1914210"
  },
  {
    "text": "you would see on it and basically what you want out of a zone and you can go and try it yourself if you go to get up and and download the stuff on this repo",
    "start": "1914210",
    "end": "1920960"
  },
  {
    "text": "but let me actually show it to you right now so I'm going to go into Visual",
    "start": "1920960",
    "end": "1926929"
  },
  {
    "text": "Studio and I'm going to create a new project using this experimental framework so I'm going to create a new blazer",
    "start": "1926929",
    "end": "1932889"
  },
  {
    "text": "application blazer is browser plus razor and I'm going to call it NDC London",
    "start": "1932889",
    "end": "1940210"
  },
  {
    "text": "there we go and I will create my new application that that's obviously going",
    "start": "1940210",
    "end": "1945860"
  },
  {
    "text": "to set up the initial file structure for me on disk and it's going to deal with restoring all the packages and such that",
    "start": "1945860",
    "end": "1952700"
  },
  {
    "text": "I need for this thing to actually run now show you a code in a second but first let's just start it up and we will",
    "start": "1952700",
    "end": "1958700"
  },
  {
    "text": "make we'll make it run in a browser and we'll see what kind of functionality we will and what it can do and here it calms",
    "start": "1958700",
    "end": "1965880"
  },
  {
    "text": "takes a moment the first time cuz it's still compiling stuff and there we go alright so we've got a client-side",
    "start": "1965880",
    "end": "1972280"
  },
  {
    "text": "single page application it's got the sort of features that you would normally expect like it's got front and back navigation it's got an example of a",
    "start": "1972280",
    "end": "1979570"
  },
  {
    "text": "button that you can click and it counts how many times you've clicked it and it's got an example of fetching some",
    "start": "1979570",
    "end": "1985150"
  },
  {
    "text": "data from an endpoint on the server and render it and get in a table now the implementation of that is not the same",
    "start": "1985150",
    "end": "1992320"
  },
  {
    "text": "as what you might normally do because normally you would build this sort of thing with a JavaScript I would like angular or react or view or something",
    "start": "1992320",
    "end": "1998140"
  },
  {
    "text": "else like that but in this case there is no JavaScript whatsoever all I've got in",
    "start": "1998140",
    "end": "2003450"
  },
  {
    "text": "my project here is CSS HTML and then c-sharp stuff now the c-sharp stuff",
    "start": "2003450",
    "end": "2009690"
  },
  {
    "text": "comes in two different flavors we've got regular C sharp files CS files such as",
    "start": "2009690",
    "end": "2014730"
  },
  {
    "text": "this one that's dealing with starting the application up but we've also got some razor pages I'm sure I know a lot",
    "start": "2014730",
    "end": "2021300"
  },
  {
    "text": "of you here have used asp net so you will probably know what razor is but it's a syntax for combining c-sharp with",
    "start": "2021300",
    "end": "2028050"
  },
  {
    "text": "HTML in a very clean way that gives you a really good tooling support and this is the implementation of the counter",
    "start": "2028050",
    "end": "2034440"
  },
  {
    "text": "that I just showed you so the counter looks like this it counts how many times I click a button and the implementation",
    "start": "2034440",
    "end": "2039660"
  },
  {
    "text": "is we have an int that counts how many times you've clicked we use razor syntax",
    "start": "2039660",
    "end": "2044820"
  },
  {
    "text": "to display that in the UI and we've got a button and when you click it it's going to increment the count by calling",
    "start": "2044820",
    "end": "2050820"
  },
  {
    "text": "this method and incrementing that and that's really all there is to it so it's very very straightforward ok but is this",
    "start": "2050820",
    "end": "2058350"
  },
  {
    "text": "really practical is this going to deliver a good application building experience and can we actually build",
    "start": "2058350",
    "end": "2063780"
  },
  {
    "text": "some useful and interesting functionality with this let's try it out shall we so as a very important matter",
    "start": "2063780",
    "end": "2070320"
  },
  {
    "text": "of professional ethics I must demonstrate this to you in the form of a to-do list as you know that's",
    "start": "2070320",
    "end": "2075389"
  },
  {
    "text": "a legal requirement so I'm going to do that right now I'm going to move my IDE",
    "start": "2075390",
    "end": "2080398"
  },
  {
    "text": "down here a little bit so that we can see both the browser and the ID at the same time and I want to start by adding",
    "start": "2080399",
    "end": "2086158"
  },
  {
    "text": "a new item into this list for to-do list all right so I'm gonna find the nav menu",
    "start": "2086159",
    "end": "2091408"
  },
  {
    "text": "component and I'm going to scroll down and I'm going to copy one of these list items they're pasted another copy in it and I",
    "start": "2091409",
    "end": "2097960"
  },
  {
    "text": "will say this points to a URL to do list like that and I'm gonna set the text on",
    "start": "2097960",
    "end": "2103210"
  },
  {
    "text": "it to to do list and I'll hit ctrl s in the browser and as I do you see that the",
    "start": "2103210",
    "end": "2108250"
  },
  {
    "text": "web page is updated automatically in the background so we've got to do less than now and if I click on to do list what",
    "start": "2108250",
    "end": "2114130"
  },
  {
    "text": "happens well nothing happens well actually something did happen you see the URL is updated but it doesn't",
    "start": "2114130",
    "end": "2120400"
  },
  {
    "text": "know what to render because we don't have a component call to-do list so it's not really doing anything else just yet so let's create a new thing in here I'll",
    "start": "2120400",
    "end": "2127150"
  },
  {
    "text": "do add new item and I will call it to-do list I know the text is too small for",
    "start": "2127150",
    "end": "2132820"
  },
  {
    "text": "you to read there but it doesn't matter it's called to-do list and there we go the browser is updated again so now",
    "start": "2132820",
    "end": "2138700"
  },
  {
    "text": "there is a to-do list but it's blank by default let's start by putting some content in there shall we so let's put",
    "start": "2138700",
    "end": "2144190"
  },
  {
    "text": "h1 to do list with that spelling there",
    "start": "2144190",
    "end": "2149440"
  },
  {
    "text": "we go all right so we've got our heading there nice and I want to actually start",
    "start": "2149440",
    "end": "2154840"
  },
  {
    "text": "modeling and a to-do list now and since I'm going to do this in c-sharp I will have a functions block where I can put",
    "start": "2154840",
    "end": "2161770"
  },
  {
    "text": "some arbitrary C sharps or C sharp sauce by the seashore source code and I will have a class",
    "start": "2161770",
    "end": "2168580"
  },
  {
    "text": "initially and I will call it to-do list and I'm going to give that a couple of properties clapping text okay so each",
    "start": "2168580",
    "end": "2176920"
  },
  {
    "text": "to-do item is going to have actually to-do item each to-do item is going to have two properties will have a string",
    "start": "2176920",
    "end": "2183250"
  },
  {
    "text": "called text and will have a pool called is done makes sense yeah all right",
    "start": "2183250",
    "end": "2188380"
  },
  {
    "text": "but we don't just want to have one to-do item we want to have a whole list of them so I'm going to define a list of",
    "start": "2188380",
    "end": "2194950"
  },
  {
    "text": "to-do item to-do items and we'll make that as a new list very good now what",
    "start": "2194950",
    "end": "2201550"
  },
  {
    "text": "can we do with that well let's start by displaying how many items are in the list and I can do that with some razor",
    "start": "2201550",
    "end": "2206740"
  },
  {
    "text": "syntax I'll do to-do items dot count and we will say that and see initially there",
    "start": "2206740",
    "end": "2211870"
  },
  {
    "text": "are zero items in that list like you might expect and I want to actually represent that on the UI in some HTML so",
    "start": "2211870",
    "end": "2219160"
  },
  {
    "text": "I'm going to have an unordered list and I'll say for each of our item in to-do",
    "start": "2219160",
    "end": "2226000"
  },
  {
    "text": "items I want to render a list item and each one will display the item text save and we still don't know",
    "start": "2226000",
    "end": "2234510"
  },
  {
    "text": "and see anything because of course this list is empty so there's nothing to show I better add a button on there button",
    "start": "2234510",
    "end": "2241560"
  },
  {
    "text": "and I'll call it add item and when I hit when I click on that nothing happens because I haven't wired up any behavior",
    "start": "2241560",
    "end": "2247500"
  },
  {
    "text": "to that now so how can we respond when the user clicks well if we were writing some very old-school JavaScript we could",
    "start": "2247500",
    "end": "2254970"
  },
  {
    "text": "do this we could write on click and then we could start writing our JavaScript out in that but because this is blazer I",
    "start": "2254970",
    "end": "2260940"
  },
  {
    "text": "can write some c-sharp code to handle the event if I want to I'm going to",
    "start": "2260940",
    "end": "2266070"
  },
  {
    "text": "change this in a minute but for now what I want to do is I'm going to say to do items add a new to-do item and we will",
    "start": "2266070",
    "end": "2274440"
  },
  {
    "text": "set the text on the new item to whatever alright hit save on that and now when I",
    "start": "2274440",
    "end": "2281130"
  },
  {
    "text": "click on this button you'll see it is adding items to the list and it's updating the count and everything looks",
    "start": "2281130",
    "end": "2286170"
  },
  {
    "text": "good and we're feeling happy okay but this is not really great yet because",
    "start": "2286170",
    "end": "2291480"
  },
  {
    "text": "firstly I don't want to hard code this word whatever that's not hugely useful but also I really don't like having a",
    "start": "2291480",
    "end": "2297840"
  },
  {
    "text": "big chunk of c-sharp code in the middle of an HD I'm attribute that's kind of disturbing so instead of that I'm going",
    "start": "2297840",
    "end": "2303360"
  },
  {
    "text": "to have a method and I'll call it add item okay and inside there I'm going to take the",
    "start": "2303360",
    "end": "2309420"
  },
  {
    "text": "code that I had before like this and I'll paste that in there and then there's a sort of convenient shorthand",
    "start": "2309420",
    "end": "2316110"
  },
  {
    "text": "way of calling that I'm gonna say on click and we'll pass the add item to it",
    "start": "2316110",
    "end": "2321150"
  },
  {
    "text": "and this is the benefit of giving you nice type checking to make sure that any parameters that your method takes",
    "start": "2321150",
    "end": "2326370"
  },
  {
    "text": "correctly correspond to the right sort of event that you're handling that sort of thing okay let's just check this still works yeah",
    "start": "2326370",
    "end": "2332640"
  },
  {
    "text": "it does still work that's good but I want to remove this word whatever I want the user to be typing in whatever it is",
    "start": "2332640",
    "end": "2337890"
  },
  {
    "text": "that they want to add so I'll have an input and I'll put a placeholder in that to see it right here yeah",
    "start": "2337890",
    "end": "2345180"
  },
  {
    "text": "all right so we've got our text box there but it's still ignoring us we're gonna have to capture whatever it is",
    "start": "2345180",
    "end": "2350880"
  },
  {
    "text": "that the user has typed in there and I'm gonna capture that as a string and I'll call that next item like that and then I",
    "start": "2350880",
    "end": "2358380"
  },
  {
    "text": "can bind the value of this text box to that variable next item so whatever",
    "start": "2358380",
    "end": "2364590"
  },
  {
    "text": "is typed in that text box it's in this string the next item and then all that's nice this is not finished yet as you can",
    "start": "2364590",
    "end": "2370290"
  },
  {
    "text": "see so we'll remove this hard-coded whatever and we'll put next item in there and I automatically want to clear",
    "start": "2370290",
    "end": "2377700"
  },
  {
    "text": "that text box out as well so I'm going to set the next item back to null and that's going to make the text box go",
    "start": "2377700",
    "end": "2383970"
  },
  {
    "text": "blank after the user has clicked it so now I can type in first and it because",
    "start": "2383970",
    "end": "2389190"
  },
  {
    "text": "their second and it goes in and things are working that's great",
    "start": "2389190",
    "end": "2394230"
  },
  {
    "text": "okay but why else do I need to do well I need to make this editable and I need some way of actually marking items as done so let's change this a little bit",
    "start": "2394230",
    "end": "2402360"
  },
  {
    "text": "and we'll have an input that is bound to item text so that you can edit the text if you want to and I'll also have an",
    "start": "2402360",
    "end": "2409380"
  },
  {
    "text": "input of type check box and I will bind that to the item is done property very",
    "start": "2409380",
    "end": "2416910"
  },
  {
    "text": "good so now if I add stuff you'll see that it's got these check boxes but we",
    "start": "2416910",
    "end": "2423330"
  },
  {
    "text": "can't really see that the check boxes are doing anything yet so just so that you can see that actually works I'll change what we count instead of",
    "start": "2423330",
    "end": "2429540"
  },
  {
    "text": "counting all the item we'll just count the incomplete items and we can get the",
    "start": "2429540",
    "end": "2434790"
  },
  {
    "text": "number of incomplete items by doing a link query to say give me the count of all the ones where the inners done",
    "start": "2434790",
    "end": "2441420"
  },
  {
    "text": "property is still false okay so now when I add some things you'll see we've got",
    "start": "2441420",
    "end": "2447690"
  },
  {
    "text": "three incomplete items but as I check these boxes the count is updating in the way that you will require it to do so",
    "start": "2447690",
    "end": "2454520"
  },
  {
    "text": "okay very good so we have just built ourselves a simple but somewhat",
    "start": "2454520",
    "end": "2459540"
  },
  {
    "text": "functional to-do list component in what 31 lines of fairly straightforward",
    "start": "2459540",
    "end": "2464910"
  },
  {
    "text": "c-sharp code that I hope you'll agree is reasonably easy to understand that's nice [Applause]",
    "start": "2464910",
    "end": "2473120"
  },
  {
    "text": "thank you okay so nice that you're clapping I bet you some of you are",
    "start": "2473120",
    "end": "2478160"
  },
  {
    "text": "thinking hang on a minute this is not gonna work this is gonna be a disaster I can think of all kinds of terrible",
    "start": "2478160",
    "end": "2484370"
  },
  {
    "text": "things that are gonna happen here firstly you're shipping an entire dotnet runtime inside a webpage you Matt what",
    "start": "2484370",
    "end": "2491450"
  },
  {
    "text": "is it gonna be like 200 megabytes for a web page well let's find out shall we let's see how big this entire thing is",
    "start": "2491450",
    "end": "2497240"
  },
  {
    "text": "right now if I'll do a ctrl shift our full reload we'll see that this entire thing right now 341 kilobytes and that's",
    "start": "2497240",
    "end": "2503870"
  },
  {
    "text": "including the runtime that's including all of the libraries that's including the CSS for bootstrap and stuff so",
    "start": "2503870",
    "end": "2510080"
  },
  {
    "text": "that's a very reasonable size and that's not even a production optimize build yet so that compares quite favorably to some",
    "start": "2510080",
    "end": "2517220"
  },
  {
    "text": "of the single page application frameworks so that's nice all right now I know some other people in the room are",
    "start": "2517220",
    "end": "2523190"
  },
  {
    "text": "probably thinking yeah yeah that's all very well if you can rely on people having webassembly whereas I have to",
    "start": "2523190",
    "end": "2529220"
  },
  {
    "text": "support browsers that go back to like the Stone Age and they do not have web assembly and they are never going to so",
    "start": "2529220",
    "end": "2535580"
  },
  {
    "text": "this is no good for me well let's see what happens shall we if I try to use a web browser that does not have web",
    "start": "2535580",
    "end": "2542390"
  },
  {
    "text": "assembly support our old friend Internet Explorer 11 it's never heard of web assembly probably never well let's see",
    "start": "2542390",
    "end": "2548750"
  },
  {
    "text": "what happens if we go to this to-do list page inside ie 11 well it appears that's",
    "start": "2548750",
    "end": "2555110"
  },
  {
    "text": "surprising isn't it but does it actually work let's see well this does actually",
    "start": "2555110",
    "end": "2560270"
  },
  {
    "text": "work it works completely and we've got exactly the same behavior so how is this",
    "start": "2560270",
    "end": "2565520"
  },
  {
    "text": "we've got a web assembly application running inside a browser that doesn't even know what web assembly is the way",
    "start": "2565520",
    "end": "2571790"
  },
  {
    "text": "that is possible is because web assemblies are very cool technology and it's designed to be easily poly fobel",
    "start": "2571790",
    "end": "2577880"
  },
  {
    "text": "for older browsers in fact what's happening here is when we compile DNA we're compiling both a web assembly",
    "start": "2577880",
    "end": "2583340"
  },
  {
    "text": "version of it and an awesome j/s which is pure JavaScript version of it and we're detecting on the fly whether your",
    "start": "2583340",
    "end": "2588830"
  },
  {
    "text": "browser supports web assembly if so you get the fast compact version and if it doesn't then we learnt the somewhat slow",
    "start": "2588830",
    "end": "2594770"
  },
  {
    "text": "a larger JavaScript version of it but you the developer don't need to really care about that it's just going to work whether or not the browser",
    "start": "2594770",
    "end": "2600680"
  },
  {
    "text": "supports web assembling okay so that's good and yeah I'm sure some more of you",
    "start": "2600680",
    "end": "2606890"
  },
  {
    "text": "thinking yeah okay that sounds all right but what about debugging you're not gonna make that work are you because you",
    "start": "2606890",
    "end": "2612410"
  },
  {
    "text": "can't connect Visual Studio to your web browser you're never gonna be able to see what this code is doing on the inside and that did stumped us for quite",
    "start": "2612410",
    "end": "2618769"
  },
  {
    "text": "a while we did not know what to do about that but then we got some of the core people on the asp net team to do a hackathon to",
    "start": "2618769",
    "end": "2624200"
  },
  {
    "text": "see if they could figure out how to add debugging support and they did so let me show you how that might look and I'm",
    "start": "2624200",
    "end": "2631010"
  },
  {
    "text": "gonna do that by switching over to a slightly different sample here this is a different blazer sample that's designed",
    "start": "2631010",
    "end": "2637490"
  },
  {
    "text": "to show how it could be embedded into an asp net application does some other cool things like server-side pre-rendering",
    "start": "2637490",
    "end": "2643339"
  },
  {
    "text": "and stuff like that but I'm not going to show you that I'm gonna show you debugging and so when that comes up you'll see it looks initially more or",
    "start": "2643339",
    "end": "2650299"
  },
  {
    "text": "less the same as before because it's based on the same template again it's got a counter it's also shows how we can like interact with third-party",
    "start": "2650299",
    "end": "2656269"
  },
  {
    "text": "JavaScript libraries and stuff but anyway here's the counter and I want to debug this so I'm going to press a",
    "start": "2656269",
    "end": "2662539"
  },
  {
    "text": "special key combination control shift D that you just have to know about and when I do that you'll see a chrome debug",
    "start": "2662539",
    "end": "2668900"
  },
  {
    "text": "window appears so let's just move that over there and you will see that it looks like a normal chrome debugging",
    "start": "2668900",
    "end": "2675619"
  },
  {
    "text": "window and it does all the same things that they normally do for example I can do the element inspector I've got the",
    "start": "2675619",
    "end": "2681019"
  },
  {
    "text": "console I can go and look at the source code for my CSS and editor and all that kind of stuff but what's different and",
    "start": "2681019",
    "end": "2687079"
  },
  {
    "text": "interesting in this case is we've also got a list of the.net assemblies that",
    "start": "2687079",
    "end": "2692450"
  },
  {
    "text": "are loaded in the page and if we expand them we can even see our original c-sharp source code such as this here",
    "start": "2692450",
    "end": "2699680"
  },
  {
    "text": "and it's not just CS files but also CS HTML files so here for example is the",
    "start": "2699680",
    "end": "2705650"
  },
  {
    "text": "counter page and I can see my code in that and I can even set breakpoints on",
    "start": "2705650",
    "end": "2710869"
  },
  {
    "text": "it so if I've got some breakpoints there and I click over here you'll see it's paused in debugger and I've got the",
    "start": "2710869",
    "end": "2716420"
  },
  {
    "text": "breakpoint over there and I can now resume execution or I can hit this yeah",
    "start": "2716420",
    "end": "2722980"
  },
  {
    "text": "okay so we've got our dotnet code we're running it client-side using web",
    "start": "2724020",
    "end": "2730180"
  },
  {
    "text": "assembly and we're also debugging it client-side using client-side debugging tools which is a pretty sweet user",
    "start": "2730180",
    "end": "2736150"
  },
  {
    "text": "experience okay so that is gonna be all I have time to show you about this thing",
    "start": "2736150",
    "end": "2741280"
  },
  {
    "text": "but go and have a look at it yourself try it out and let us know if this sort of thing is of interest to you and and",
    "start": "2741280",
    "end": "2747160"
  },
  {
    "text": "how you would need it to work like what kind of platforms you want to support what sort of performance constraints you have that sort of stuff there's a",
    "start": "2747160",
    "end": "2753370"
  },
  {
    "text": "question but would it be okay if I took it after the talk thank you just because I'm trying to squeezing every last",
    "start": "2753370",
    "end": "2758410"
  },
  {
    "text": "moment of content into this talk all right so web assembly Browns the support it's looking really really good",
    "start": "2758410",
    "end": "2765250"
  },
  {
    "text": "okay so it's on by default in Chrome Firefox and Safari and that's also the",
    "start": "2765250",
    "end": "2771130"
  },
  {
    "text": "case for mobiles I don't just mean desktop even on Android and iOS this on by default in the current versions edge",
    "start": "2771130",
    "end": "2777130"
  },
  {
    "text": "has also got a full implementation of it but it's currently behind a feature flag again I'm hoping that that thing is",
    "start": "2777130",
    "end": "2783430"
  },
  {
    "text": "going to be turned on by default fairly soon okay that's webassembly now let's move on to the last two things",
    "start": "2783430",
    "end": "2790960"
  },
  {
    "text": "that I want to talk about today these are features that are not quite as well-known you might not have heard of",
    "start": "2790960",
    "end": "2796840"
  },
  {
    "text": "them but they do give you possibilities to do some cool new things that you will",
    "start": "2796840",
    "end": "2801880"
  },
  {
    "text": "not have done before okay it sounds really boring but it's not that bad honestly credential management okay",
    "start": "2801880",
    "end": "2808480"
  },
  {
    "text": "what's that about well it's about one of the many many things that we've had to struggle with as web developers since",
    "start": "2808480",
    "end": "2814540"
  },
  {
    "text": "the very beginning and this is user logins and registration and sign-in and change my password and we set my",
    "start": "2814540",
    "end": "2820930"
  },
  {
    "text": "password and all this kind of stuff that's utterly utterly boring but you have to just keep doing it over and over",
    "start": "2820930",
    "end": "2826050"
  },
  {
    "text": "financial management gives you a new set of api's in the browser that excuse me",
    "start": "2826050",
    "end": "2831160"
  },
  {
    "text": "allows the browser to do stuff that's actually useful for you for example it allows the browser to store credentials",
    "start": "2831160",
    "end": "2836950"
  },
  {
    "text": "on a given for a given user it allows the user to pick which of different accounts they want to use for a given",
    "start": "2836950",
    "end": "2842410"
  },
  {
    "text": "site and it even does some cool things like being able to synchronize login state across the users devices so if the",
    "start": "2842410",
    "end": "2849340"
  },
  {
    "text": "user registers for your site on their laptop and then they open their phone and go the same page then they're just logged",
    "start": "2849340",
    "end": "2855259"
  },
  {
    "text": "in automatically with the same account and they didn't have to do anything to make that happen okay so that's credential management and I want to show",
    "start": "2855259",
    "end": "2861619"
  },
  {
    "text": "it to you and to show it to you I'm gonna have to demonstrate a little bit of a business startup idea that I've",
    "start": "2861619",
    "end": "2867979"
  },
  {
    "text": "been working on in my spare time which I'm hoping is going to make me extremely rich indeed and it's a startup called",
    "start": "2867979",
    "end": "2875329"
  },
  {
    "text": "CEO portal the idea with CEO portal is that the very powerful titans of",
    "start": "2875329",
    "end": "2881569"
  },
  {
    "text": "industry the CEOs of multinational corporations will be able to create an account on CEO portal and they'll be",
    "start": "2881569",
    "end": "2887359"
  },
  {
    "text": "able to use it to do all the kind of day-to-day business activities that they're used to add such value to our",
    "start": "2887359",
    "end": "2892930"
  },
  {
    "text": "wonderful economy at the moment ok so I'm going to start by running that in the browser right now so I will set that",
    "start": "2892930",
    "end": "2900259"
  },
  {
    "text": "as my startup project and I will get that running and when that comes up you'll see we've got some quality corporate web design there which CEOs",
    "start": "2900259",
    "end": "2907519"
  },
  {
    "text": "love as far as I understand ok and when a CEO sees that they're gonna be like yes this looks like just the sort of",
    "start": "2907519",
    "end": "2914539"
  },
  {
    "text": "thing I need but is it secure can I trust them with my username and password so I'm gonna have to have a really",
    "start": "2914539",
    "end": "2921199"
  },
  {
    "text": "bulletproof modern login and authentication system and that's what I'm doing using the credential",
    "start": "2921199",
    "end": "2926900"
  },
  {
    "text": "management API so let me show you some of the code that is running when this page starts up ok when it starts up",
    "start": "2926900",
    "end": "2933949"
  },
  {
    "text": "let's just have a few breakpoints here here and here and then I'll hit reload",
    "start": "2933949",
    "end": "2939109"
  },
  {
    "text": "and you'll see what I'm doing is the first thing I'm doing is I'm checking whether this browser supports the",
    "start": "2939109",
    "end": "2944180"
  },
  {
    "text": "credential management API and it does so we move on to the next stage of saying right then browser using credential API",
    "start": "2944180",
    "end": "2951589"
  },
  {
    "text": "I want you to get me whatever credentials are stored for this current user and the bursar browser so sure",
    "start": "2951589",
    "end": "2957049"
  },
  {
    "text": "thing here they are undefined this user does not have a stored account on this website and so",
    "start": "2957049",
    "end": "2963739"
  },
  {
    "text": "you will then have some logic to display your application in a logged out state and that's what I'm doing right now",
    "start": "2963739",
    "end": "2970449"
  },
  {
    "text": "anyway when the CEO sees this they're obviously going to be convinced to the benefits so they will want to register",
    "start": "2970449",
    "end": "2975890"
  },
  {
    "text": "an account and I've got a little bit more code that handles that down here",
    "start": "2975890",
    "end": "2981319"
  },
  {
    "text": "and I want to show you what happens so the the user comes along they click some register and they're going to create an",
    "start": "2981319",
    "end": "2986989"
  },
  {
    "text": "account to let off steam and I'll have a nice secure password there I'll hit register and it's going to hit this breakpoint",
    "start": "2986989",
    "end": "2992670"
  },
  {
    "text": "down here ok so what's that going to do well it's going to start by constructing a new password credential object there",
    "start": "2992670",
    "end": "3000380"
  },
  {
    "text": "are various types of credentials that exist to do with like federated logins and stuff like that but the simplest one",
    "start": "3000380",
    "end": "3005840"
  },
  {
    "text": "is a password credential which is a username and password pair and I'm saying I want to populate it by getting",
    "start": "3005840",
    "end": "3012050"
  },
  {
    "text": "stuff out of an HTML form that's this form element and the browser can use some conventions to get the username and",
    "start": "3012050",
    "end": "3018410"
  },
  {
    "text": "password out of that and so now I've got this credential object and you'll see it's got my username and my password",
    "start": "3018410",
    "end": "3023540"
  },
  {
    "text": "that I use for everything don't hack me and next after that I'm gonna tell the browser that I want to store these",
    "start": "3023540",
    "end": "3030080"
  },
  {
    "text": "credentials so navigate to credentials store ok and when that line of code runs the browser will pop up a little bit of",
    "start": "3030080",
    "end": "3036680"
  },
  {
    "text": "UI to say hey do you want me to store this password for you now CEOs are very busy they do not read dialogues so",
    "start": "3036680",
    "end": "3042740"
  },
  {
    "text": "they're just gonna click on whatever button is most visually obvious and that is this button here because it's blue so obviously the user is going to click on",
    "start": "3042740",
    "end": "3048920"
  },
  {
    "text": "this button and the browser is going to have stored the credentials for that user and now I've got some logic that",
    "start": "3048920",
    "end": "3055400"
  },
  {
    "text": "will switch the application into a signed in mode ok so this is what it",
    "start": "3055400",
    "end": "3060710"
  },
  {
    "text": "looks like when you signed in it says welcome here's your username here are some cool things that you might want to",
    "start": "3060710",
    "end": "3065780"
  },
  {
    "text": "do today ok so that looks good but what happens when the user comes back later",
    "start": "3065780",
    "end": "3071480"
  },
  {
    "text": "are they going to have to sign in again well let's see what happens when I hit reload when I hit reload this time we",
    "start": "3071480",
    "end": "3078380"
  },
  {
    "text": "get to please get whatever credentials are stored for this user and this time instead of getting undefined you'll see",
    "start": "3078380",
    "end": "3084260"
  },
  {
    "text": "I've got the password credential object from before so I know the user name I know the password and now on the client",
    "start": "3084260",
    "end": "3090440"
  },
  {
    "text": "I can display the application in a logged in mode and I can also store that password credential in my application",
    "start": "3090440",
    "end": "3095930"
  },
  {
    "text": "state so that whenever I make any calls to the backend server it will get the relevant data and it can authenticate",
    "start": "3095930",
    "end": "3101300"
  },
  {
    "text": "the user properly okay so let's just remove these breakpoints and you will see that the application shows up in a",
    "start": "3101300",
    "end": "3108080"
  },
  {
    "text": "logged in stay and in fact every time I hit reload it's going to come up immediately in a logged in state and if you look carefully up in the top right",
    "start": "3108080",
    "end": "3114500"
  },
  {
    "text": "you'll see the browser even knows that we're signing them in because it sees me using these api's and the user knows",
    "start": "3114500",
    "end": "3119780"
  },
  {
    "text": "which account they're signed in as yeah that's good but other things you can do are for example having",
    "start": "3119780",
    "end": "3126030"
  },
  {
    "text": "multiple accounts so if I sign out and then I sign it oh now don't what sign in I want to start again I want to register",
    "start": "3126030",
    "end": "3133230"
  },
  {
    "text": "a new account okay and then I want to what am i doing okay right very good I'm",
    "start": "3133230",
    "end": "3142080"
  },
  {
    "text": "going to sign out then I'm going to register a new account this time I'm going to be Bert and I'll register that",
    "start": "3142080",
    "end": "3147390"
  },
  {
    "text": "continue save the user account there we go okay and now I can sign out I can",
    "start": "3147390",
    "end": "3152790"
  },
  {
    "text": "sign in and the browser will prompt me which of your saved accounts do you want to use so I can be Bert today welcome",
    "start": "3152790",
    "end": "3159270"
  },
  {
    "text": "Bert and then I can sign out sign in and I can be Steve welcome Steve alright so the users got a nice quick way of",
    "start": "3159270",
    "end": "3165210"
  },
  {
    "text": "switching between different accounts that they've got and like I said the browser can even deal with synchronizing",
    "start": "3165210",
    "end": "3172109"
  },
  {
    "text": "logins day across the users different devices now as for how that works that's not your problem unless you work for",
    "start": "3172109",
    "end": "3178410"
  },
  {
    "text": "Google or for Apple or for anyone else that makes a mobile operating system because it's just going to somehow do",
    "start": "3178410",
    "end": "3185820"
  },
  {
    "text": "that synchronization for you in the background and you can just don't have to care it's just going to happen okay",
    "start": "3185820",
    "end": "3190890"
  },
  {
    "text": "so that's credential management the last thing that I want to show you after I've",
    "start": "3190890",
    "end": "3196530"
  },
  {
    "text": "talked about this credential management current browser support is not looking",
    "start": "3196530",
    "end": "3201869"
  },
  {
    "text": "great at the moment I'm afraid so like I've just shown you chrome has got this thing turned on by default Safari as",
    "start": "3201869",
    "end": "3209490"
  },
  {
    "text": "committed to doing it it's not completely surprising that Google and Apple are the ones most interested in pushing this because of their mobile",
    "start": "3209490",
    "end": "3215280"
  },
  {
    "text": "operating systems edge and Firefox are not yet completely convinced they said",
    "start": "3215280",
    "end": "3220440"
  },
  {
    "text": "they're considering doing this but it is on a standard track so you would hope that they will eventually do it and will",
    "start": "3220440",
    "end": "3225690"
  },
  {
    "text": "have a universal feature there okay so that's credential management and the last thing that I want to show you is",
    "start": "3225690",
    "end": "3231599"
  },
  {
    "text": "another valuable feature and that is payment requests okay",
    "start": "3231599",
    "end": "3236640"
  },
  {
    "text": "so if there is one thing that web developers love more than anything else is getting money out of people who use",
    "start": "3236640",
    "end": "3242970"
  },
  {
    "text": "their websites and traditionally that has been a very difficult and messy process because you have to ask the user",
    "start": "3242970",
    "end": "3249390"
  },
  {
    "text": "to type in their credit card number and their shipping details and like go through a like twenty five step process and the users are like I can't be",
    "start": "3249390",
    "end": "3256020"
  },
  {
    "text": "bothered to take this out and then they don't even complete the purchase flows and you don't get their money and morally speaking that is a crime because",
    "start": "3256020",
    "end": "3263760"
  },
  {
    "text": "you deserve the money that those people would have and that is what payment requests are going to help us with now",
    "start": "3263760",
    "end": "3270810"
  },
  {
    "text": "you know if you do in-app purchases on a mobile app you don't have to type out your credit card number right all you",
    "start": "3270810",
    "end": "3276450"
  },
  {
    "text": "have to do is press a fingerprint or face ID or something like that that's what payment requests allows you to do on a webpage it makes payment requests",
    "start": "3276450",
    "end": "3284250"
  },
  {
    "text": "into a native feature where the browser can show you whatever kind of UI makes sense for the device that the user is on",
    "start": "3284250",
    "end": "3289590"
  },
  {
    "text": "and then it can give you whatever payment details the user has stored for their credit cards and their delivery",
    "start": "3289590",
    "end": "3294630"
  },
  {
    "text": "addresses and that sort of thing and hopefully then the user will actually complete the purchase flow more reliably",
    "start": "3294630",
    "end": "3300210"
  },
  {
    "text": "all right so let me show you that and this is how I'm playing to monetize CEO",
    "start": "3300210",
    "end": "3305910"
  },
  {
    "text": "portal actually my goal is that when users come along they'll see all these things and they'll think oh yes I love",
    "start": "3305910",
    "end": "3313320"
  },
  {
    "text": "doing all these things especially changing product goals but today the thing that I'm going to do because I",
    "start": "3313320",
    "end": "3318360"
  },
  {
    "text": "really love it is review some key financials so they're gonna click on review key financials and what's going",
    "start": "3318360",
    "end": "3323880"
  },
  {
    "text": "to happen is this ah that's the premium feature if you won that you're gonna",
    "start": "3323880",
    "end": "3328950"
  },
  {
    "text": "have to unlock it which is 50 gems and the user will think oh that's cool that's fine oh no look at this I've got",
    "start": "3328950",
    "end": "3334860"
  },
  {
    "text": "zero gems I'm gonna have to get some more gems so they'll click on get more gems and that will take them into the",
    "start": "3334860",
    "end": "3340740"
  },
  {
    "text": "gem store okay yeah all right and then the CEO will",
    "start": "3340740",
    "end": "3348680"
  },
  {
    "text": "think how many gems shall I buy well I don't know why but subconsciously I feel my attention is being drawn to this 50",
    "start": "3348680",
    "end": "3355730"
  },
  {
    "text": "million gems option and so they're obviously gonna click that button but when they click that button what's going",
    "start": "3355730",
    "end": "3361279"
  },
  {
    "text": "to happen well let's freeze time for a moment and we'll think about what code is going to run okay",
    "start": "3361279",
    "end": "3366859"
  },
  {
    "text": "now I'm going to show you the code that I've implemented when they click on that buy gems button and it's gonna call this",
    "start": "3366859",
    "end": "3373279"
  },
  {
    "text": "method here buy gems and what does that do well firstly it's going to compute",
    "start": "3373279",
    "end": "3378890"
  },
  {
    "text": "the prices and you need to understand this about payment requests they do not have a concept of things like tax and",
    "start": "3378890",
    "end": "3384289"
  },
  {
    "text": "delivery charges and stuff it's completely up to you to implement that sort of stuff so here I've got my shipping amount I've got a mandatory 20%",
    "start": "3384289",
    "end": "3391400"
  },
  {
    "text": "tip which i think is reasonable and I think that will catch on and then I am computing the total price okay",
    "start": "3391400",
    "end": "3397069"
  },
  {
    "text": "and once I've done that I can construct a new payment request object and there are lots of different ways you can",
    "start": "3397069",
    "end": "3402829"
  },
  {
    "text": "configure a payment request in this case I'm saying I'm gonna accept these two different types of credit cards but you",
    "start": "3402829",
    "end": "3408140"
  },
  {
    "text": "could also accept things like Google Play or Bitcoin ferret's or whatever other things you think that the users",
    "start": "3408140",
    "end": "3413539"
  },
  {
    "text": "device might support as long as it supports there and you say you accept it then it's going to prompt them with that option and then we can also specify what",
    "start": "3413539",
    "end": "3421430"
  },
  {
    "text": "line actions we want it to display so got these two items here for the gems and the shipping and then I'm going to",
    "start": "3421430",
    "end": "3427759"
  },
  {
    "text": "display the grand total shipping stuff and I'm saying I also want to collect a delivery address from this user as if",
    "start": "3427759",
    "end": "3433490"
  },
  {
    "text": "that makes any sense in this case and then I'm going to display display that",
    "start": "3433490",
    "end": "3438500"
  },
  {
    "text": "payment request and the browser will pop up whatever kind of native UI it thinks makes sense in this case and the user",
    "start": "3438500",
    "end": "3445009"
  },
  {
    "text": "will hopefully confirm the purchase and when they do we'll get the success callback and it will pass all the payment information to you or if they",
    "start": "3445009",
    "end": "3452150"
  },
  {
    "text": "cancel it then it's going to call the error callback okay so let's go back we'll unfreeze time and we'll click the",
    "start": "3452150",
    "end": "3458750"
  },
  {
    "text": "button and hopefully we'll get some money out of that juicy corporate credit card okay so I'm going to click it and",
    "start": "3458750",
    "end": "3463940"
  },
  {
    "text": "what happens is our code runs and the browser chooses to display this particular type of native UI and it's",
    "start": "3463940",
    "end": "3470240"
  },
  {
    "text": "going to give the order summary and we can go in and we can see all that stuff and that looks reasonable we can pick a shipping address we can pick a",
    "start": "3470240",
    "end": "3476390"
  },
  {
    "text": "method as if you know there's any other method for virtual gems and then we will click on which credit card we want to",
    "start": "3476390",
    "end": "3483170"
  },
  {
    "text": "have let's have this one here and then finally I can click on the pay button and that is going to move the user on to",
    "start": "3483170",
    "end": "3490069"
  },
  {
    "text": "the next step in the case of Chrome it chooses to ask the user to confirm by typing in their CVC number so I'll type",
    "start": "3490069",
    "end": "3497359"
  },
  {
    "text": "that in other browsers and other devices might choose to use a different UX flow depending on what makes sense but in",
    "start": "3497359",
    "end": "3504140"
  },
  {
    "text": "this case this is what it does and I click on confirm and that's going to send the payment request data back to my",
    "start": "3504140",
    "end": "3510049"
  },
  {
    "text": "application where I can collect all that sort of stuff now it's not automatically transferring money it's still up to you",
    "start": "3510049",
    "end": "3517160"
  },
  {
    "text": "to pass all this data through your payment processor or whatever kind of approach you want to use to actually get",
    "start": "3517160",
    "end": "3522440"
  },
  {
    "text": "the money it's just automating the process of collecting the information from the user okay so that is that",
    "start": "3522440",
    "end": "3529549"
  },
  {
    "text": "that's payment requests as for browser support well I've just shown you it working in Chrome good news for edge that's already shipped and on by default",
    "start": "3529549",
    "end": "3536630"
  },
  {
    "text": "there it looks different when you click on pay an edge it brings up the Microsoft wallet which is a different way of selecting your saved payment",
    "start": "3536630",
    "end": "3542960"
  },
  {
    "text": "methods but it's there and it works the other two browsers are also doing it too",
    "start": "3542960",
    "end": "3548539"
  },
  {
    "text": "so Safari has already got it implemented in their technical previews and Firefox has said at least that they're doing it",
    "start": "3548539",
    "end": "3554539"
  },
  {
    "text": "even though it's not shipped yeah all right that's payment requests and that's all the stuff that we're gonna have time",
    "start": "3554539",
    "end": "3560779"
  },
  {
    "text": "to talk about today I just want you to leave you imagining what your next mobile or desktop web application might",
    "start": "3560779",
    "end": "3568250"
  },
  {
    "text": "look like you might be able to do some cool things that you never done before for example you could use service workers to make your application work",
    "start": "3568250",
    "end": "3574609"
  },
  {
    "text": "offline you could also use service workers to be able to receive updates from the server or push changes back to",
    "start": "3574609",
    "end": "3581119"
  },
  {
    "text": "the server even when the user is not on your web page that's pretty cool you could also implement your",
    "start": "3581119",
    "end": "3586789"
  },
  {
    "text": "client-side code not in JavaScript or typescript or a related language but in something completely different compiled",
    "start": "3586789",
    "end": "3592099"
  },
  {
    "text": "to web assembling you could also use the credential management API so that users are automatically have their login state",
    "start": "3592099",
    "end": "3598190"
  },
  {
    "text": "synchronized across all their different devices and you could even get money out of them with a really clean user",
    "start": "3598190",
    "end": "3603920"
  },
  {
    "text": "experience as simple as a fingerprint or face ID or whatever it is that their device chooses to do",
    "start": "3603920",
    "end": "3609370"
  },
  {
    "text": "and none of these things are things that you would have done a year ago because it would have been too much of a mess and the technology wasn't stable enough",
    "start": "3609370",
    "end": "3615100"
  },
  {
    "text": "but in the coming months this sort of thing is becoming it entirely practical so a lot of cool new toys for us as web",
    "start": "3615100",
    "end": "3622390"
  },
  {
    "text": "developers so there we go that's all I've got time for today now if you've got any questions I know there was one I",
    "start": "3622390",
    "end": "3628360"
  },
  {
    "text": "will be around for a little bit so please come in chat to me also please remember to evaluate the session on your",
    "start": "3628360",
    "end": "3633670"
  },
  {
    "text": "way out and other than that just have a really good last day of your conference [Applause]",
    "start": "3633670",
    "end": "3640989"
  }
]