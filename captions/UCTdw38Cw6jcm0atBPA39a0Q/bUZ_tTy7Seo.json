[
  {
    "start": "0",
    "end": "34000"
  },
  {
    "text": "okay so it's uh three o'clock now so we can uh",
    "start": "5839",
    "end": "11920"
  },
  {
    "text": "get started if someone could uh yeah close the door",
    "start": "11920",
    "end": "17920"
  },
  {
    "text": "people still running in okay so uh thanks for uh coming to my talk on uh",
    "start": "19600",
    "end": "28240"
  },
  {
    "text": "cute quick 3d in vr and so yeah thanks let's just go ahead and get started",
    "start": "28240",
    "end": "34160"
  },
  {
    "start": "34000",
    "end": "34000"
  },
  {
    "text": "so here's a bit of an agenda of what i plan to talk about a short introduction and",
    "start": "34160",
    "end": "41040"
  },
  {
    "text": "you know since we're talking about something very specific today i need to drill down a bit and",
    "start": "41040",
    "end": "46480"
  },
  {
    "text": "introduce a few different topics uh and then uh i'll talk a bit about cute quick itself",
    "start": "46480",
    "end": "53680"
  },
  {
    "text": "what that is and what's special about it when it comes to vr and then",
    "start": "53680",
    "end": "58879"
  },
  {
    "text": "the actual rendering aspect the technical details of rendering in vr or at least to",
    "start": "58879",
    "end": "65439"
  },
  {
    "text": "these head mounted displays like this one this is a oculus quest 2",
    "start": "65439",
    "end": "70720"
  },
  {
    "text": "and uh the input methods and then uh some additional fun with the physics and",
    "start": "70720",
    "end": "75840"
  },
  {
    "text": "collisions at the end so let's get started with the introduction so who am i",
    "start": "75840",
    "end": "81680"
  },
  {
    "text": "my name's uh andy nichols and i work for the cute company i work on the graphics team in",
    "start": "81680",
    "end": "88880"
  },
  {
    "text": "oslo norway so not too far from here uh i've been working with cute for about 15 years but uh i've only been with you",
    "start": "88880",
    "end": "96000"
  },
  {
    "text": "know professionally with the cute company units predecessor companies for",
    "start": "96000",
    "end": "101439"
  },
  {
    "text": "the last 13 years and uh mainly been focused on embedded linux uh",
    "start": "101439",
    "end": "108799"
  },
  {
    "text": "well originally embedded linux and like the graphics on the embedded linux like so the embedded linux port",
    "start": "108799",
    "end": "114640"
  },
  {
    "text": "now i'm much more focused just graphics in general so the actual renderer so the 2d",
    "start": "114640",
    "end": "119680"
  },
  {
    "text": "uh renderer for cute quick and now the 3d render for cute quick uh i maintain",
    "start": "119680",
    "end": "126159"
  },
  {
    "text": "those things and work on a team of people that are also developing out that further",
    "start": "126159",
    "end": "132319"
  },
  {
    "text": "um and that's that's who i am so uh glad glad to be here",
    "start": "132319",
    "end": "138560"
  },
  {
    "text": "so what's this talk about uh i'm not here to sell you anything i mean cute's",
    "start": "138560",
    "end": "144959"
  },
  {
    "start": "139000",
    "end": "139000"
  },
  {
    "text": "awesome but the thing i'm talking about doesn't exist as a product yet it's something i'm actually developing developing",
    "start": "144959",
    "end": "150879"
  },
  {
    "text": "currently and it's more been a passion project up until now just something i'm doing for",
    "start": "150879",
    "end": "156400"
  },
  {
    "text": "fun and that's you know actually something that we're interested in developing now as the cute company",
    "start": "156400",
    "end": "163519"
  },
  {
    "text": "and so it's more of me a chance for me to geek out and talk about like what the development looked like so",
    "start": "163519",
    "end": "169519"
  },
  {
    "text": "far talk a bit about api design something that you know we haven't had a vr api in",
    "start": "169519",
    "end": "175440"
  },
  {
    "text": "qt yet and then some of the technical implement detail implementation details like especially with with regard to how you",
    "start": "175440",
    "end": "182000"
  },
  {
    "text": "actually render to a head-mounted display so first off uh how many of you know what",
    "start": "182000",
    "end": "188800"
  },
  {
    "text": "cute is i think i need to ask that at this this kind of conference so almost all of you so i don't spend too much",
    "start": "188800",
    "end": "193840"
  },
  {
    "text": "time on that i mean cute is a c plus uh application development framework uh and",
    "start": "193840",
    "end": "200720"
  },
  {
    "text": "i think uh patricia said it well this morning that the it's it contained so much it's almost an os",
    "start": "200720",
    "end": "206400"
  },
  {
    "text": "at this point it really is very broad in scope",
    "start": "206400",
    "end": "211519"
  },
  {
    "text": "so and it's you know not only c plus plus but also we have python bindings and then we also",
    "start": "211519",
    "end": "217599"
  },
  {
    "text": "have a technology called qt quick which i'll briefly talk about uh next and uh we also have you know an ide",
    "start": "217599",
    "end": "224879"
  },
  {
    "text": "called cute creator and lots of tooling around uh actually using the cute and",
    "start": "224879",
    "end": "230159"
  },
  {
    "text": "the cute ecosystem so but we're actually here to talk about cute",
    "start": "230159",
    "end": "235680"
  },
  {
    "start": "232000",
    "end": "232000"
  },
  {
    "text": "quick which is a runtime on top of qt that is",
    "start": "235680",
    "end": "243200"
  },
  {
    "text": "a combination of a renderer and a javascript engine that's actually binding to the things in qt to you know",
    "start": "243200",
    "end": "250879"
  },
  {
    "text": "instantiate the queue objects into a scene in a hierarchical declarative manner so you can see here this is a",
    "start": "250879",
    "end": "258400"
  },
  {
    "text": "very brief example of qml code you can see it's declarative you have a window it's a",
    "start": "258400",
    "end": "263840"
  },
  {
    "text": "certain size it has a name and centered in this window is a button and this is what you get",
    "start": "263840",
    "end": "269680"
  },
  {
    "text": "so again under the hood i mean these are all c plus plus objects but it's instantiated by this uh",
    "start": "269680",
    "end": "275600"
  },
  {
    "text": "json-like syntax which which which which we call qml so it's a mix of",
    "start": "275600",
    "end": "282560"
  },
  {
    "text": "say java kind of like javascript object notation and uh javascript itself",
    "start": "282560",
    "end": "288720"
  },
  {
    "text": "so so in addition to that we have a renderer that actually will take that that scene",
    "start": "288720",
    "end": "294840"
  },
  {
    "text": "and uh render that using hardware accelerated apis like opengl",
    "start": "294840",
    "end": "302000"
  },
  {
    "text": "directx vulcan metal depending on which which platform you're actually on",
    "start": "302000",
    "end": "307199"
  },
  {
    "text": "so and now more more recently we've actually introduced a",
    "start": "307199",
    "end": "313199"
  },
  {
    "text": "uh additional 3d apis for cute quick which we call cute quick 3d",
    "start": "313199",
    "end": "318960"
  },
  {
    "text": "and this is a high-level 3d engine that's kind of dark but this is actually",
    "start": "318960",
    "end": "324720"
  },
  {
    "text": "a scene that's uh was done with uh cute quick 3d so rather than you know deal with the",
    "start": "324720",
    "end": "330880"
  },
  {
    "text": "opengl primitives of like you know buffers and textures and stuff like that you're specifying models or materials to",
    "start": "330880",
    "end": "337919"
  },
  {
    "text": "how to shade those models and lights and where the camera is and you know what you're rendering",
    "start": "337919",
    "end": "342960"
  },
  {
    "text": "so it's a high level thing that uh you know us mere mortals can use",
    "start": "342960",
    "end": "348479"
  },
  {
    "text": "to get to the same kind of things that are shown here and it works very hand in hand with",
    "start": "348479",
    "end": "354720"
  },
  {
    "text": "tooling so you know you actually export a model from a 3d editor and that will work in the 3d engine",
    "start": "354720",
    "end": "362800"
  },
  {
    "text": "and so really the the short story is that it's adding 3d support to",
    "start": "362800",
    "end": "369280"
  },
  {
    "text": "the cute quick runtime okay and so one more thing to introduce since we're",
    "start": "369280",
    "end": "375440"
  },
  {
    "text": "talking about vr and we want to render to",
    "start": "375440",
    "end": "381199"
  },
  {
    "text": "display headsets there's another technology by the chronos organization called openxr",
    "start": "381199",
    "end": "387360"
  },
  {
    "start": "382000",
    "end": "382000"
  },
  {
    "text": "and this is an api that a cross-platform api that lets you render to",
    "start": "387360",
    "end": "394479"
  },
  {
    "text": "both vr and ar headsets so it's a i guess here it has a lot of examples of",
    "start": "394479",
    "end": "399600"
  },
  {
    "text": "different companies that that support this api uh what the device i'm showing today",
    "start": "399600",
    "end": "404960"
  },
  {
    "text": "is uh like i said the oculus quest 2 this is by facebook",
    "start": "404960",
    "end": "410160"
  },
  {
    "text": "and facebook is very pro open xr i think all of their like",
    "start": "410160",
    "end": "416000"
  },
  {
    "text": "proprietary apis are now they're moving them over to open xr so that",
    "start": "416000",
    "end": "421199"
  },
  {
    "text": "what's nice about that is that if you use that api then it actually works on all the different",
    "start": "421199",
    "end": "426240"
  },
  {
    "text": "headsets that support openxr so that was the clear choice for me not",
    "start": "426240",
    "end": "431520"
  },
  {
    "text": "having to write something specific for the oculus sdk oh and that only works on oculus and",
    "start": "431520",
    "end": "436800"
  },
  {
    "text": "then you couldn't use it with vive headsets or whatever it may be so",
    "start": "436800",
    "end": "442000"
  },
  {
    "text": "that's just a bit of background there okay so that's kind of all the technologies involved now i want to talk",
    "start": "442000",
    "end": "448720"
  },
  {
    "text": "a bit about uh the interest intricacies of cute quick itself and some of the challenges uh",
    "start": "448720",
    "end": "454639"
  },
  {
    "text": "that come with using cute quick as a technology for vr",
    "start": "454639",
    "end": "460400"
  },
  {
    "text": "so first off i want to talk a bit about uh this transition between 2d and 3d so by",
    "start": "460400",
    "end": "467360"
  },
  {
    "start": "461000",
    "end": "461000"
  },
  {
    "text": "default cute quick is a you know 2d ui framework and q quick 3d introduces the ability to you",
    "start": "467360",
    "end": "474879"
  },
  {
    "text": "know have a viewport into a 3d scene so in this case uh the view 3d item is your",
    "start": "474879",
    "end": "481919"
  },
  {
    "text": "viewport into the scene it's a 2d item that contains a 3d scene",
    "start": "481919",
    "end": "487759"
  },
  {
    "text": "or views a 3d scene so in this case it's just a the children of the view 3d is the same",
    "start": "487759",
    "end": "494639"
  },
  {
    "text": "so it has a directional light a perspective camera and a model and that would just show you a",
    "start": "494639",
    "end": "499759"
  },
  {
    "text": "a sphere that's that's that's lit in 3d so this is your transition from 2d into",
    "start": "499759",
    "end": "506639"
  },
  {
    "text": "3d and that is i guess the first thing that that you",
    "start": "506639",
    "end": "513360"
  },
  {
    "text": "need to know the other way around is that you have a",
    "start": "513360",
    "end": "519279"
  },
  {
    "text": "3d scene and you want to show 2d content in the 3d scene so bring",
    "start": "519279",
    "end": "524880"
  },
  {
    "text": "2d content into 3d spatial space so there's a couple of options here",
    "start": "524880",
    "end": "530480"
  },
  {
    "text": "the first is actually putting the 2d con content into a texture",
    "start": "530480",
    "end": "536240"
  },
  {
    "text": "and in this example it shows that that you have a texture item that's actually being used as the",
    "start": "536240",
    "end": "542959"
  },
  {
    "text": "uh like the base color map of this cube",
    "start": "542959",
    "end": "548399"
  },
  {
    "text": "and you can embed a 2d quick item as the texture so in this case it's just a button inside of a gray",
    "start": "548399",
    "end": "555279"
  },
  {
    "text": "rectangle that gets mapped to every face of the cube because that's how how that works and",
    "start": "555279",
    "end": "560959"
  },
  {
    "text": "that's the most flexible option uh but you also have the possibility of",
    "start": "560959",
    "end": "566000"
  },
  {
    "text": "just directly projecting 2d items into the 3d scene instead of going through a texture",
    "start": "566000",
    "end": "571279"
  },
  {
    "text": "so in this case i have a model and then there's a button that's a child of that",
    "start": "571279",
    "end": "578000"
  },
  {
    "text": "that model and then it's above the model here and that's rendered directly into the",
    "start": "578000",
    "end": "583120"
  },
  {
    "text": "scene using the 3d projection uh of that particular part of that spatial",
    "start": "583120",
    "end": "589200"
  },
  {
    "text": "scene and this is uh this is pretty useful",
    "start": "589200",
    "end": "595760"
  },
  {
    "text": "because if you want to put text into a scene and you want to be very clear and with the correct",
    "start": "595760",
    "end": "602399"
  },
  {
    "text": "projection you could just anchor it to some 3d object into the scene so",
    "start": "602399",
    "end": "608160"
  },
  {
    "text": "that will be pretty useful in vr when i get to that",
    "start": "608160",
    "end": "613680"
  },
  {
    "start": "613000",
    "end": "613000"
  },
  {
    "text": "so the the biggest challenge though when it comes to vr is that",
    "start": "613680",
    "end": "621519"
  },
  {
    "text": "cute quick is very tied to the window like there being a window the",
    "start": "621519",
    "end": "628000"
  },
  {
    "text": "q quick window because the whole rendering process is actually tied to you know you have a window",
    "start": "628000",
    "end": "634720"
  },
  {
    "text": "and this q quick window and every you know if you case with a monitor that refreshes at 60 hertz",
    "start": "634720",
    "end": "641279"
  },
  {
    "text": "every you know 16 milliseconds you're going to have a v blank and then it's going to say",
    "start": "641279",
    "end": "647519"
  },
  {
    "text": "okay it's time to render and then it's actually the window that's",
    "start": "647519",
    "end": "652720"
  },
  {
    "text": "that's facilitating all of the rendering uh of the scene so actually making sure that things are getting updated and that",
    "start": "652720",
    "end": "659200"
  },
  {
    "text": "it's actually rendering at the right times and so at least the way that cute quick's",
    "start": "659200",
    "end": "664560"
  },
  {
    "text": "architected like the window is everything but uh",
    "start": "664560",
    "end": "670800"
  },
  {
    "text": "in vr like you don't necessarily have a window like you are yes in practice you're still you",
    "start": "670800",
    "end": "677120"
  },
  {
    "text": "have two screens on the device and each one of them is flat and so you are technically",
    "start": "677120",
    "end": "683680"
  },
  {
    "text": "projecting to something flat but there's no window like you're directly",
    "start": "683680",
    "end": "689920"
  },
  {
    "text": "in in when you're stereoscopic you're rendering if anything you're already in 3d space so the whole concept of window",
    "start": "689920",
    "end": "697600"
  },
  {
    "text": "kind of breaks down if you have a head-mounted display so",
    "start": "697600",
    "end": "703440"
  },
  {
    "text": "how do you work around this uh with cute quick because by default everything requires",
    "start": "703440",
    "end": "709120"
  },
  {
    "text": "that you have a window and a scene so we have this we have this thing called quick render",
    "start": "709120",
    "end": "714399"
  },
  {
    "start": "711000",
    "end": "711000"
  },
  {
    "text": "control and this separates you or this gives you an the opportunity to actually",
    "start": "714399",
    "end": "722000"
  },
  {
    "text": "hide the details of the q quick window and actually give you the possibility of",
    "start": "722000",
    "end": "727120"
  },
  {
    "text": "manually running all of the things that q quick window would have done so i'll just show a couple of examples here",
    "start": "727120",
    "end": "734000"
  },
  {
    "text": "of how how how it would look so you create a render control you still create a cue",
    "start": "734000",
    "end": "739279"
  },
  {
    "text": "quick window but you don't you you make its parent the render control so then it doesn't necessarily",
    "start": "739279",
    "end": "745040"
  },
  {
    "text": "show it on the screen now you have an off-screen window that you can manually",
    "start": "745040",
    "end": "750880"
  },
  {
    "text": "specify what are you rendering to so what is your render target how big is it and then",
    "start": "750880",
    "end": "756800"
  },
  {
    "text": "manually call say polish items begin frame sync render and end frame which are the things that are necessary to",
    "start": "756800",
    "end": "762000"
  },
  {
    "text": "actually render a cue quick scene so this is very flexible because now",
    "start": "762000",
    "end": "768320"
  },
  {
    "text": "you can render into any texture you can render anywhere you can render off screen and quick just behaves like it is a window",
    "start": "768320",
    "end": "777120"
  },
  {
    "start": "777000",
    "end": "777000"
  },
  {
    "text": "so so okay so now",
    "start": "777760",
    "end": "782800"
  },
  {
    "text": "what i wanted to do was instead of you know that example",
    "start": "782800",
    "end": "787920"
  },
  {
    "text": "where we had a window i want to have a vr view that's actually you know this is the view in in the the",
    "start": "787920",
    "end": "794880"
  },
  {
    "text": "top level view for the scene so this xr view because we're using openxr so i call it xr view",
    "start": "794880",
    "end": "800399"
  },
  {
    "text": "and this will replace the view 3d and the window so",
    "start": "800399",
    "end": "805920"
  },
  {
    "text": "it's the way it works is it's also the scene itself so it's",
    "start": "805920",
    "end": "812880"
  },
  {
    "text": "the view the window and the scene all at the same time it creates a render control that renders",
    "start": "812880",
    "end": "818240"
  },
  {
    "text": "to an off-screen surface and does all of the open xr magic that you need to do to actually use open xr",
    "start": "818240",
    "end": "824639"
  },
  {
    "text": "so actually instantiating the headset and setting all the formats and it handles all the details for you all you",
    "start": "824639",
    "end": "830880"
  },
  {
    "text": "have to do is instantiate the xr view instead of a window and yeah it also handles the input but i'll",
    "start": "830880",
    "end": "837600"
  },
  {
    "text": "talk a bit about that later and the other thing is uh like you have",
    "start": "837600",
    "end": "842639"
  },
  {
    "text": "a view and then you have an actor so this is the actual since you're already in a 3d scene the",
    "start": "842639",
    "end": "848000"
  },
  {
    "text": "actor is the location of the headset so wherever this wherever the actor is in the scene that's going to be the al the",
    "start": "848000",
    "end": "854240"
  },
  {
    "text": "the base set for the headset everything else is an offset from that so",
    "start": "854240",
    "end": "861120"
  },
  {
    "text": "and this is what it looks like with or what the api looks like and what you would see in the headset with such a thing so",
    "start": "861120",
    "end": "867920"
  },
  {
    "text": "again the xr view you have a scene environment that says basically render this the",
    "start": "867920",
    "end": "873120"
  },
  {
    "text": "background black you have the actor uh one meter off the ground and one meter back",
    "start": "873120",
    "end": "878320"
  },
  {
    "text": "uh 100 is in centimeters in this case and and just a light and a crab and so",
    "start": "878320",
    "end": "887279"
  },
  {
    "text": "just just me trying to be still in the headset but",
    "start": "887920",
    "end": "894639"
  },
  {
    "text": "it's pretty simple to actually get something uh working so like with just that few lines",
    "start": "894639",
    "end": "901519"
  },
  {
    "text": "of code you can have something running in the headset showing a model",
    "start": "901519",
    "end": "906800"
  },
  {
    "text": "um okay so that's kind of the preview of the api the actual details of the rendering is",
    "start": "906800",
    "end": "913120"
  },
  {
    "start": "912000",
    "end": "912000"
  },
  {
    "text": "that you have with it with hmd it depends on the headset but",
    "start": "913120",
    "end": "919279"
  },
  {
    "text": "for the most part this is what it looks like you have the headset and there are two screens in",
    "start": "919279",
    "end": "925360"
  },
  {
    "text": "the headset sometimes there's one screen and it's just splitting it but in this case it looks logically like two",
    "start": "925360",
    "end": "931199"
  },
  {
    "text": "screens and each one of these screens has its own swap chain and so what that looks like in practice is just",
    "start": "931199",
    "end": "937199"
  },
  {
    "text": "like a triple buffer of three textures of you know this 1440 by",
    "start": "937199",
    "end": "942560"
  },
  {
    "text": "1584. and so with openxr i can create these and say",
    "start": "942560",
    "end": "948160"
  },
  {
    "text": "okay i want them to be rgb8 srgb this is the maximum size you set up all",
    "start": "948160",
    "end": "953759"
  },
  {
    "text": "that stuff and you basically have these two swap chains and then you need to render to both of those to",
    "start": "953759",
    "end": "960320"
  },
  {
    "text": "get the stereoscopic view you have a bit of options at least with the this headset",
    "start": "960320",
    "end": "966720"
  },
  {
    "text": "you can set like what frame rate you want by default it's 72 fps which is already",
    "start": "966720",
    "end": "973120"
  },
  {
    "text": "pretty tight because now you're i think it's like what seven ten seven milliseconds and you have to",
    "start": "973120",
    "end": "978720"
  },
  {
    "text": "do it twice per frame because you're having to render the scene twice",
    "start": "978720",
    "end": "984800"
  },
  {
    "text": "and then the only other detail is that each of the cameras like there'll be two cameras one for each eye that actually",
    "start": "984800",
    "end": "991440"
  },
  {
    "text": "shows up in the scene and each one will have a slightly different projection matrix that you need to render the scene from",
    "start": "991440",
    "end": "999199"
  },
  {
    "text": "so this is a bit what the rendering process looks like from the open xr side and the cute side is that",
    "start": "999199",
    "end": "1005839"
  },
  {
    "text": "you know we just begin the frame we",
    "start": "1005839",
    "end": "1010959"
  },
  {
    "text": "ask xr to give us the updated pose positions like so where is the",
    "start": "1010959",
    "end": "1016720"
  },
  {
    "text": "headset relative to the starting point uh where are the controllers like what is the like eye position because some of",
    "start": "1016720",
    "end": "1023600"
  },
  {
    "text": "the headsets you can actually change the distance of the eyes so that'll actually change between scenes and so you get the different poses and",
    "start": "1023600",
    "end": "1030079"
  },
  {
    "text": "projections for the for the headset and then you",
    "start": "1030079",
    "end": "1035438"
  },
  {
    "text": "would update the actual objects in the scene that reflect those things so like for the xr actor you'd change the",
    "start": "1035439",
    "end": "1041520"
  },
  {
    "text": "position that it's at or the hand controllers if you had hand controllers you change the offsets that they're",
    "start": "1041520",
    "end": "1046640"
  },
  {
    "text": "actually at in the cute quick scene and we would do that for you uh",
    "start": "1046640",
    "end": "1053039"
  },
  {
    "text": "and then you need to render the left and right eye so what we do is we",
    "start": "1053039",
    "end": "1058320"
  },
  {
    "text": "set the active camera because we have two cameras in the scene and with view 3d you can say or in the xr thing it",
    "start": "1058320",
    "end": "1064320"
  },
  {
    "text": "would be you set the left camera as the active camera so now you're going to be rendering from that camera's perspective",
    "start": "1064320",
    "end": "1070720"
  },
  {
    "text": "you want to set the render target to the current swap chain for that i",
    "start": "1070720",
    "end": "1075919"
  },
  {
    "text": "so you ask xr oh for the left eye what's the current swap chain and the in or the",
    "start": "1075919",
    "end": "1081679"
  },
  {
    "text": "current buffer in the swap chain and you set that as your render target and then you render the scene and then",
    "start": "1081679",
    "end": "1086720"
  },
  {
    "text": "in that same frame you do the same thing for the right eye so you just set the camera",
    "start": "1086720",
    "end": "1092880"
  },
  {
    "text": "render the scene or set the current render target to that buffer and then you render the scene and then you're",
    "start": "1092880",
    "end": "1098000"
  },
  {
    "text": "done so you've actually rendered the scene twice from two to two different perspectives and that gives you your stereoscopic view into the headset",
    "start": "1098000",
    "end": "1107039"
  },
  {
    "start": "1106000",
    "end": "1106000"
  },
  {
    "text": "what that looks like uh well it depends because cute supports or cutequik supports",
    "start": "1107039",
    "end": "1113600"
  },
  {
    "text": "different backends and so does open xr so in this case we right now we're",
    "start": "1113600",
    "end": "1118880"
  },
  {
    "text": "supporting opengl opengles vulcan direct 3d not metal i don't know i don't at least",
    "start": "1118880",
    "end": "1125760"
  },
  {
    "text": "none of my hardware i know of works on metal i haven't actually tried but i haven't",
    "start": "1125760",
    "end": "1131200"
  },
  {
    "text": "wrote the back end for metal either but it does work with cute quick in the rhi like so",
    "start": "1131200",
    "end": "1136559"
  },
  {
    "text": "cute could render to metal but i don't have any like special xr code for doing that",
    "start": "1136559",
    "end": "1142320"
  },
  {
    "text": "but i have this uh interface for all of the like different",
    "start": "1142320",
    "end": "1147440"
  },
  {
    "text": "paths that could require some special uh like set up like how do you get the the",
    "start": "1147440",
    "end": "1153120"
  },
  {
    "text": "render texture for example i guess i could go over for vulcan uh",
    "start": "1153120",
    "end": "1158320"
  },
  {
    "start": "1155000",
    "end": "1155000"
  },
  {
    "text": "there's a couple of uh quirks that you have to go through if you're using vulcan with open xr like",
    "start": "1158320",
    "end": "1164559"
  },
  {
    "text": "normally cute quick would set up like your vulcan instance and your vulcan physical device itself because it controls everything",
    "start": "1164559",
    "end": "1170720"
  },
  {
    "text": "well in the open xr world it's the headset that's responsible for all that stuff you actually have to tell openxr",
    "start": "1170720",
    "end": "1176240"
  },
  {
    "text": "like what extensions do i need to render to this headset so you have to query that first and then",
    "start": "1176240",
    "end": "1182480"
  },
  {
    "text": "also get the physical device to to tell that and you have to tell cute as well because cute is going to do all the rendering so",
    "start": "1182480",
    "end": "1188799"
  },
  {
    "text": "both of them need to do rendering so cubes are actually pretty flexible in this regard of being able to",
    "start": "1188799",
    "end": "1194080"
  },
  {
    "text": "like delay saying like oh yeah you here's the vulcan instance now that i have it",
    "start": "1194080",
    "end": "1199520"
  },
  {
    "text": "so and you can see here like just a quick code example of like",
    "start": "1199520",
    "end": "1205200"
  },
  {
    "text": "how you can just set on the q quick window the graphics device and the configuration in the vulcan instance so",
    "start": "1205200",
    "end": "1210720"
  },
  {
    "text": "it is possible to do that and",
    "start": "1210720",
    "end": "1216240"
  },
  {
    "text": "uh yes so the the render target itself for vulcan uh again you're you're asking the",
    "start": "1216240",
    "end": "1222159"
  },
  {
    "text": "swap chain uh what's the current buffer it's going to return this uh xr swap chain image volker or vulcan",
    "start": "1222159",
    "end": "1229919"
  },
  {
    "text": "khr texture pointer and then you have to cast that to a vk image that you can use",
    "start": "1229919",
    "end": "1235679"
  },
  {
    "text": "in qt quick and you're just getting this q quick render target we have a convenience method for turning",
    "start": "1235679",
    "end": "1241280"
  },
  {
    "text": "a vulcan texture into a render target for cute quick because again quick can render to",
    "start": "1241280",
    "end": "1246720"
  },
  {
    "text": "uh bulking textures are it's very flexible so just rendering",
    "start": "1246720",
    "end": "1252480"
  },
  {
    "text": "in this case rendering directly to the buffer given by the headset",
    "start": "1252480",
    "end": "1257840"
  },
  {
    "start": "1257000",
    "end": "1257000"
  },
  {
    "text": "so and that brings me to the next point which is performance considerations",
    "start": "1257840",
    "end": "1264159"
  },
  {
    "text": "uh performance is like super important with vr because if",
    "start": "1264159",
    "end": "1270080"
  },
  {
    "text": "you're not hitting your like the optimal frame rate for the headset like you'll make your user sick",
    "start": "1270080",
    "end": "1275360"
  },
  {
    "text": "either whether you have you're being really late with giving the buffers to the headset or you're not rendering at 72 60 90 120",
    "start": "1275360",
    "end": "1283520"
  },
  {
    "text": "whatever whatever is required for the particular application if you're not actually hitting those marks like that's",
    "start": "1283520",
    "end": "1288960"
  },
  {
    "text": "your user getting sick and putting taking the headset off and not using your software",
    "start": "1288960",
    "end": "1294000"
  },
  {
    "text": "so in this case uh i guess",
    "start": "1294000",
    "end": "1299039"
  },
  {
    "text": "with this particular headset because this is actually running android so it's basically a mobile phone with a screen",
    "start": "1299039",
    "end": "1305120"
  },
  {
    "text": "inside of a headset so you have to treat it like an embedded device or a mobile mobile device and the thing about these",
    "start": "1305120",
    "end": "1311440"
  },
  {
    "text": "these devices is that like they're using tiled renderers and like fbos are supe",
    "start": "1311440",
    "end": "1316480"
  },
  {
    "text": "super expensive so what you want to do is actually render directly to the screen itself like skip any of these off",
    "start": "1316480",
    "end": "1322880"
  },
  {
    "text": "screen surface things which actually is possible with cute quick by you know either rendering as an overlay or an",
    "start": "1322880",
    "end": "1328320"
  },
  {
    "text": "underlay and in most of my or in the toolkit by default i'm going to do underlays for the",
    "start": "1328320",
    "end": "1334799"
  },
  {
    "text": "vr module but it also means you can't use post-processing effects which they don't work that great in vr anyway",
    "start": "1334799",
    "end": "1341760"
  },
  {
    "text": "a lot of the tricks you do in post-processing effects don't work as a stereoscopic effect but it's also like",
    "start": "1341760",
    "end": "1348080"
  },
  {
    "text": "for headsets like this it really kills performance to the point where you're never going to hit your your",
    "start": "1348080",
    "end": "1354559"
  },
  {
    "text": "frame time budget and actually a lot of the tricks that are done by",
    "start": "1354559",
    "end": "1360559"
  },
  {
    "text": "these headsets require that you're running uh directly into the screen buffer because",
    "start": "1360559",
    "end": "1366720"
  },
  {
    "text": "like they i mean it's not directly on the window they have their own compositor that they're doing kind of tricks where",
    "start": "1366720",
    "end": "1373679"
  },
  {
    "text": "like the inside of the image has higher resolution than the outside of the image they're doing all kinds of crazy stuff",
    "start": "1373679",
    "end": "1379440"
  },
  {
    "text": "so you actually have to render directly to the screen buffer for those things to work because if you render to an fbo",
    "start": "1379440",
    "end": "1384720"
  },
  {
    "text": "first and then copy it to the screen apparently it doesn't work i don't know what they do but",
    "start": "1384720",
    "end": "1390240"
  },
  {
    "text": "i tried it and not only does it not look as good but it runs about half the speed so",
    "start": "1390240",
    "end": "1396159"
  },
  {
    "text": "important thing is to you know render directly to the screen buffer the other thing is that you know normally tone mapping is done",
    "start": "1396159",
    "end": "1402480"
  },
  {
    "text": "as a post-processing effect but at least in cute quick 3d because of how we're already rendering for you know",
    "start": "1402480",
    "end": "1408720"
  },
  {
    "text": "embedded and mobile devices we already have the option if you're direct rendering we do the tone tone mapping as part of just the draw call when you're",
    "start": "1408720",
    "end": "1415280"
  },
  {
    "text": "doing your material so it's not that big of a concern second thing is that uh well it's",
    "start": "1415280",
    "end": "1421520"
  },
  {
    "text": "actually for the same reason when we're doing forward rendering because deferred rendering requires lots",
    "start": "1421520",
    "end": "1427600"
  },
  {
    "text": "of intermediate buffers which are using fbos which are really slow problem is is that you know you can't do",
    "start": "1427600",
    "end": "1434000"
  },
  {
    "text": "as cool lighting effects but again your mobile hardware or even on the desktop",
    "start": "1434000",
    "end": "1439200"
  },
  {
    "text": "like you really want to save performance so it's best to keep this forward rendering in mind and cute quick 3d is using",
    "start": "1439200",
    "end": "1445520"
  },
  {
    "text": "forward rendering by default and the the last thing is actually you know just like all rendering you know",
    "start": "1445520",
    "end": "1452000"
  },
  {
    "text": "draw calls of your enemy you want to reduce the amount of draw calls down as much as possible and at least with the approach that i",
    "start": "1452000",
    "end": "1457840"
  },
  {
    "text": "took and you could see in the previous description was that i'm actually rendering the scene twice like the whole",
    "start": "1457840",
    "end": "1464400"
  },
  {
    "text": "scene twice one for each eye that in itself is also not ideal because no matter what you put in the scene you",
    "start": "1464400",
    "end": "1470640"
  },
  {
    "text": "always have two draw calls and it is actually possible to",
    "start": "1470640",
    "end": "1475760"
  },
  {
    "text": "make this one draw call by doing uh there's some extensions both in opengl",
    "start": "1475760",
    "end": "1481440"
  },
  {
    "text": "and vulcan where you can bind to output buffers and then use instance draw calls to",
    "start": "1481440",
    "end": "1486960"
  },
  {
    "text": "change the projection matrix of each one so that you can only there would only be one draw call but then the two render",
    "start": "1486960",
    "end": "1492480"
  },
  {
    "text": "targets but i'm not doing that yet it's it's a bit involved and required some vendor-specific extensions",
    "start": "1492480",
    "end": "1499200"
  },
  {
    "text": "at least in opengl so something i have to do a bit more experimenting with but",
    "start": "1499200",
    "end": "1504640"
  },
  {
    "text": "at least right now you can see in render dock it's for just that crab it's two draw calls so",
    "start": "1504640",
    "end": "1511120"
  },
  {
    "text": "just one for each of the the screen buffers also you know side point",
    "start": "1511120",
    "end": "1516480"
  },
  {
    "text": "if you're actually using the oculus sdk they have their own version of render dock that",
    "start": "1516480",
    "end": "1521600"
  },
  {
    "text": "works really well with that headset so i can recommend uh if you're if you're doing",
    "start": "1521600",
    "end": "1527200"
  },
  {
    "text": "vr development like it's despite the facebook association the",
    "start": "1527200",
    "end": "1532400"
  },
  {
    "text": "oculus stuff is actually pretty good development wise okay so that's just rendering to the",
    "start": "1532400",
    "end": "1538799"
  },
  {
    "text": "headset the actual input uh another big part of oh",
    "start": "1538799",
    "end": "1544880"
  },
  {
    "text": "that's the these guys i've got them backwards so usually with vr things you have you know these hand controllers and",
    "start": "1544880",
    "end": "1552080"
  },
  {
    "text": "these uh you know what you see in the headset is when you're when you're collecting the pose you're getting the offset from",
    "start": "1552080",
    "end": "1559360"
  },
  {
    "text": "the head so if you think about the scene this is the two right and left hands is just",
    "start": "1559360",
    "end": "1565360"
  },
  {
    "text": "going to be a rotational position relative to where the actor's head is",
    "start": "1565360",
    "end": "1570400"
  },
  {
    "text": "so if you look in this example uh this is where i've added uh one",
    "start": "1570400",
    "end": "1576480"
  },
  {
    "start": "1572000",
    "end": "1572000"
  },
  {
    "text": "controller to the scene so the plate video and so i have a flashlight",
    "start": "1576480",
    "end": "1582720"
  },
  {
    "text": "and you can like do the the doom doom 3 style like everything's dark and i'm lighting it up with my flashlight",
    "start": "1582720",
    "end": "1589279"
  },
  {
    "text": "and it looks really good in the headset like it's uh kind of scary to be looking in the dark",
    "start": "1589279",
    "end": "1594559"
  },
  {
    "text": "at that funky looking crab but you can see here that uh again you have the actor and the controller is a child of",
    "start": "1594559",
    "end": "1601919"
  },
  {
    "text": "the the actor that automatically gets you your position offset and what we'll do is we'll in the back end",
    "start": "1601919",
    "end": "1607840"
  },
  {
    "text": "look for the item the xr controller that for each the left and right depending on which",
    "start": "1607840",
    "end": "1613440"
  },
  {
    "text": "controller you set it as and which pose you have and we'll set the correct transforms for that item so that",
    "start": "1613440",
    "end": "1620240"
  },
  {
    "text": "whatever you may have in the scene as a child of that item it'll actually get updated so in this case i have this uh lintera item that's the flashlight that",
    "start": "1620240",
    "end": "1628000"
  },
  {
    "text": "is moving that object around in the scene so you have the model there and then the model has a light attached to",
    "start": "1628000",
    "end": "1633520"
  },
  {
    "text": "the front of it so that it's actually doing the spotlight so that's what that explains that code in that example",
    "start": "1633520",
    "end": "1640399"
  },
  {
    "text": "uh the second thing is that you know that was just moving moving an object around the other thing",
    "start": "1640399",
    "end": "1645520"
  },
  {
    "text": "is that you want to point at stuff so i want to like",
    "start": "1645520",
    "end": "1650720"
  },
  {
    "text": "point things out so like in this case uh if you've ever done the vr thing you",
    "start": "1650720",
    "end": "1656640"
  },
  {
    "text": "want to point where you're going and then teleport to that so i have here i have this",
    "start": "1656640",
    "end": "1662799"
  },
  {
    "text": "uh you know pointing in this little ball on the ground that says where it's at so we have a",
    "start": "1662799",
    "end": "1668880"
  },
  {
    "text": "we call picking api so it casts array into the scene sees if it",
    "start": "1668880",
    "end": "1675039"
  },
  {
    "text": "intersects with any objects and then it returns the result of what object was it how far away was it uh what position was",
    "start": "1675039",
    "end": "1682399"
  },
  {
    "text": "it at what was the normal at that and you can use that data to actually figure out like oh where in the scene is that is that something i should care about",
    "start": "1682399",
    "end": "1689440"
  },
  {
    "text": "so specifically for this example that is here like i'm just saying oh",
    "start": "1689440",
    "end": "1695360"
  },
  {
    "text": "am i intersecting with the floor because now i want to know where on the floor should you teleport to if you were going",
    "start": "1695360",
    "end": "1700640"
  },
  {
    "text": "to implement teleporting so that's all things that we already had in quick 3d i just take advantage of in my examples",
    "start": "1700640",
    "end": "1710559"
  },
  {
    "text": "the other thing is that uh you want to combine 2d and 3d in vr",
    "start": "1710559",
    "end": "1715679"
  },
  {
    "text": "which means that maybe you want to you know most cute uis are designed for either touch or mouse",
    "start": "1715679",
    "end": "1723200"
  },
  {
    "text": "so if you just draw the little line with with this thing that's kind of like a mouse so",
    "start": "1723200",
    "end": "1729600"
  },
  {
    "text": "i added an additional like helper class called uh this xr virtual mouse and that",
    "start": "1729600",
    "end": "1735120"
  },
  {
    "text": "will just do all of the translation for you if you have this in your scene and you can just assign which buttons or",
    "start": "1735120",
    "end": "1740640"
  },
  {
    "text": "which clicks on the mice and so that makes it possible to you know have a ui there that you could",
    "start": "1740640",
    "end": "1746960"
  },
  {
    "text": "scroll or in this case i'm just like drawing a little circle to show that yeah it works pretty well the",
    "start": "1746960",
    "end": "1752480"
  },
  {
    "text": "actual feedback so i can get very quickly based on where the the arrow is like what part of the scene because",
    "start": "1752480",
    "end": "1758320"
  },
  {
    "text": "that's just a that's just a q quick item that has a mouse area in it and i'm just drawing a a red circle and a label where that is",
    "start": "1758320",
    "end": "1766000"
  },
  {
    "text": "in the scene and last thing is a keyboard input",
    "start": "1766000",
    "end": "1773120"
  },
  {
    "text": "that sometimes you need to actually input names and stuff into user interfaces and",
    "start": "1773279",
    "end": "1779120"
  },
  {
    "text": "so you can actually use cute virtual keyboard too as the the keyboard input uh",
    "start": "1779120",
    "end": "1784480"
  },
  {
    "text": "unfortunately uh i got this working but the input method itself doesn't work so at least",
    "start": "1784480",
    "end": "1790720"
  },
  {
    "text": "i've been playing around with this because input methods and q require that you have a window and i have no window so i",
    "start": "1790720",
    "end": "1797039"
  },
  {
    "text": "like there's no window to focus if i think about that like if you're on an os and you alt tab into something uh to get",
    "start": "1797039",
    "end": "1804000"
  },
  {
    "text": "like input focus you can't do that if you're if there's no window to focus on so",
    "start": "1804000",
    "end": "1809120"
  },
  {
    "text": "it's something i have to think about because that that creates a lot of problems",
    "start": "1809120",
    "end": "1815039"
  },
  {
    "text": "okay and so pretty quickly i can go through uh",
    "start": "1815039",
    "end": "1820320"
  },
  {
    "text": "this uh last thing which is physics and collision so",
    "start": "1820320",
    "end": "1826640"
  },
  {
    "text": "when i was working on this stuff uh and i didn't really think i needed it but",
    "start": "1826640",
    "end": "1831760"
  },
  {
    "text": "once you start like making demos like you really see that collisions are really important like",
    "start": "1831760",
    "end": "1837679"
  },
  {
    "text": "things like floors and uh walls like like so you're moving your character around and like all of a",
    "start": "1837679",
    "end": "1843120"
  },
  {
    "start": "1840000",
    "end": "1840000"
  },
  {
    "text": "sudden you've clipped the wall and it's very unsettling when you're looking into a scene and there's a wall bisecting your face and you can see both",
    "start": "1843120",
    "end": "1849600"
  },
  {
    "text": "sides of the it's things you wouldn't think about a very unsettling so",
    "start": "1849600",
    "end": "1855600"
  },
  {
    "text": "uh so i wanted i wanted collisions uh and of course if you think about like have you ever",
    "start": "1855600",
    "end": "1861200"
  },
  {
    "text": "played vr demos like physics makes things fun like being able to grab things and throw them like says like i",
    "start": "1861200",
    "end": "1866240"
  },
  {
    "text": "want to do a demo that does that so uh i i decided to integrate uh bullet 3d as",
    "start": "1866240",
    "end": "1873760"
  },
  {
    "text": "well it was a separate module than the vr thing so you could use it separately but i said okay well this will work good",
    "start": "1873760",
    "end": "1879440"
  },
  {
    "text": "for vr so i actually did a module that used bullet 3d which is a",
    "start": "1879440",
    "end": "1886080"
  },
  {
    "text": "it's a dynamics and physics library it's done in c c and c plus plus",
    "start": "1886080",
    "end": "1891840"
  },
  {
    "text": "it's liberal open source licensing a zlib library so that made it convenient as well as had cmake build system",
    "start": "1891840",
    "end": "1899200"
  },
  {
    "text": "support so it was really easy to include into the project so as a third-party dependency without having to",
    "start": "1899200",
    "end": "1905039"
  },
  {
    "text": "write lots of crazy stuff so i created a small api for i mean bullet",
    "start": "1905039",
    "end": "1911279"
  },
  {
    "start": "1908000",
    "end": "1908000"
  },
  {
    "text": "3d does a lot of things so i wanted to really limit the scope down to you know the bare minimum of what i needed for",
    "start": "1911279",
    "end": "1917679"
  },
  {
    "text": "collisions so i had like static bodies which is things that don't move rigid bodies things that did move and then",
    "start": "1917679",
    "end": "1922880"
  },
  {
    "text": "collision areas like just invisible shapes that when you enter them i get notifications",
    "start": "1922880",
    "end": "1928799"
  },
  {
    "text": "uh which also means that i needed uh shapes because you have all these bodies you need to actually define like some",
    "start": "1928799",
    "end": "1935279"
  },
  {
    "text": "efficient shapes that aren't just the models themselves because i mean the thing that makes picking the the ray",
    "start": "1935279",
    "end": "1941120"
  },
  {
    "text": "casting thing so expensive is that it actually does triangle picking before it's all said and done to to give you",
    "start": "1941120",
    "end": "1946399"
  },
  {
    "text": "that normal reflection so you want to make your collisions a lot simpler so",
    "start": "1946399",
    "end": "1951519"
  },
  {
    "text": "you can specify things like spheres and boxes and cones and planes and yeah it's possible but also",
    "start": "1951519",
    "end": "1959120"
  },
  {
    "text": "this collision shape property is an array so you can actually compose them together so something like a",
    "start": "1959120",
    "end": "1965279"
  },
  {
    "text": "if you're making a collision volume for a door you have a box and then you have a couple of spheres or",
    "start": "1965279",
    "end": "1971760"
  },
  {
    "text": "another box for the doorknob so you want to compose those shapes together and then you have things like physics",
    "start": "1971760",
    "end": "1977919"
  },
  {
    "text": "material which is like what is the bounce what is the friction of the object and then",
    "start": "1977919",
    "end": "1983440"
  },
  {
    "text": "the overall dynamics world because again this all these items exist in the spatial",
    "start": "1983440",
    "end": "1988720"
  },
  {
    "text": "scene graph like in this like 3d space but they're not rendered so you have a separate like entity that's",
    "start": "1988720",
    "end": "1995600"
  },
  {
    "text": "actually keeping up with you know the physics world so in addition to the rendering you also have this physics world that's running",
    "start": "1995600",
    "end": "2001760"
  },
  {
    "text": "every frame or twice every frame that's actually saying okay what are the dynamics and then resyncing with the scene graph of where these items will be",
    "start": "2001760",
    "end": "2008159"
  },
  {
    "text": "after the dynamics engine has actually run so and this is this is what that looks like",
    "start": "2008159",
    "end": "2017120"
  },
  {
    "text": "and just like throwing some globes around into the scene and also you can see a little bit in the",
    "start": "2017120",
    "end": "2023760"
  },
  {
    "text": "bottom like these are actually like some debug volumes are actually showing like uh like the sphere itself of like what the",
    "start": "2023760",
    "end": "2030159"
  },
  {
    "text": "actual volume is so i have like a wireframe drawer that's actually showing you what it is but you can turn those on",
    "start": "2030159",
    "end": "2035440"
  },
  {
    "text": "and off and so uh yeah that's that's about it uh",
    "start": "2035440",
    "end": "2041600"
  },
  {
    "text": "i've had a lot of fun playing around with this and i mean at this point it needs more refinement and",
    "start": "2041600",
    "end": "2048720"
  },
  {
    "text": "and uh hopefully we'll be able to release these things as part of the cute project",
    "start": "2048720",
    "end": "2055200"
  },
  {
    "text": "soon uh because right now it's mostly been just me playing around in my free time because",
    "start": "2055200",
    "end": "2060878"
  },
  {
    "text": "like you know we're gonna i work on cute quick 3d and you know it's a",
    "start": "2060879",
    "end": "2066560"
  },
  {
    "text": "i mean while it's really cool that's a real-time 3d engine it's also i mean it's like a game engine it's it's fun to play with there's a lot of things that",
    "start": "2066560",
    "end": "2072320"
  },
  {
    "text": "you can do with it so and you do them with qml so it's like really just fun to play with so",
    "start": "2072320",
    "end": "2079040"
  },
  {
    "text": "i end up doing these crazy things like this and yeah but i see it as something that",
    "start": "2079040",
    "end": "2086320"
  },
  {
    "text": "would actually be useful because again we're not cute we're not focused on games and stuff and like all these like vr frameworks it's all game engines and",
    "start": "2086320",
    "end": "2093280"
  },
  {
    "text": "stuff and so i really want to see like how we can you know create good user",
    "start": "2093280",
    "end": "2099359"
  },
  {
    "text": "interface tools for vr since you know that's that's our bread and butter really with cute so",
    "start": "2099359",
    "end": "2105520"
  },
  {
    "text": "that's and that's that's pretty much it so uh uh yeah thanks and if you have any",
    "start": "2105520",
    "end": "2112079"
  },
  {
    "text": "questions uh please feel free to ask",
    "start": "2112079",
    "end": "2117720"
  },
  {
    "text": "no okay well you can ask me afterwards as well if you feel like it but yes thank you",
    "start": "2119760",
    "end": "2126460"
  },
  {
    "text": "[Applause]",
    "start": "2126460",
    "end": "2133480"
  },
  {
    "text": "you",
    "start": "2135520",
    "end": "2137599"
  }
]