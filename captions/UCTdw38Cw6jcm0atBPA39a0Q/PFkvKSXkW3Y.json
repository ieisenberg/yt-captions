[
  {
    "start": "0",
    "end": "54000"
  },
  {
    "text": "hi everyone thanks for coming I'm Nicholas I work at Spotify and I'm going to tell you a little bit about work that",
    "start": "6879",
    "end": "14080"
  },
  {
    "text": "we've done over the last I guess year or two around automating How We Do software",
    "start": "14080",
    "end": "19480"
  },
  {
    "text": "maintenance and and so on and a little bit around the learnings from that hopefully it should be interesting",
    "start": "19480",
    "end": "25000"
  },
  {
    "text": "hopefully should be applicable also if you're a uh maybe a slightly smaller company than we are I think some of the",
    "start": "25000",
    "end": "31199"
  },
  {
    "text": "learnings we started a bit late I think some of these learnings might be useful also when you're earlier in your growth",
    "start": "31199",
    "end": "37079"
  },
  {
    "text": "as a company uh I'm happy to take questions I'm going to save some time at the end",
    "start": "37079",
    "end": "42360"
  },
  {
    "text": "for questions hopefully if I don't run late but I'm also happy to take questions in the meantime so just raise",
    "start": "42360",
    "end": "47480"
  },
  {
    "text": "your hand and I think we have a microphone that we can send around cool so first of all let's take a",
    "start": "47480",
    "end": "56520"
  },
  {
    "start": "54000",
    "end": "108000"
  },
  {
    "text": "little bit of a step oh yeah there's a few seats in the front I think you can probably get squeezed in um so first let",
    "start": "56520",
    "end": "63000"
  },
  {
    "text": "me take a little bit of a stab of of reasoning around what Spotify actually looks like I'm not going to spend a lot",
    "start": "63000",
    "end": "68200"
  },
  {
    "text": "of time on this I'm happy to take questions if you have any I just wanted to speak like conceptually what the",
    "start": "68200",
    "end": "73520"
  },
  {
    "text": "architecture looks like so we have what you would probably call a microservice architecture our architecture sort of",
    "start": "73520",
    "end": "80360"
  },
  {
    "text": "preceded that term but we have started using it um wasn't that we were",
    "start": "80360",
    "end": "85759"
  },
  {
    "text": "particularly like smart or future um were able to the future it just made",
    "start": "85759",
    "end": "91320"
  },
  {
    "text": "sense for us to start building things with like fairly small components that had a single purpose that we could scale",
    "start": "91320",
    "end": "98320"
  },
  {
    "text": "independent of each other we could own them independent of each other and what and in fact what we've done oh sorry",
    "start": "98320",
    "end": "104200"
  },
  {
    "text": "that wasn't what I intended to do what we've done is to apply this to all types",
    "start": "104200",
    "end": "111439"
  },
  {
    "text": "of components not not just backend services so at Spotify if there's a data",
    "start": "111439",
    "end": "119399"
  },
  {
    "text": "pipeline if there's a mobile feature if there's a website they're going to typically be these fairly small",
    "start": "119399",
    "end": "125000"
  },
  {
    "text": "self-contained components that are owned by a single team and we've built our entire",
    "start": "125000",
    "end": "130920"
  },
  {
    "text": "architecture around that so if you build a website to Spotify there's this whole like routing infrastructure to be able",
    "start": "130920",
    "end": "136599"
  },
  {
    "text": "to get requests to your particular component if you own a part of our website for",
    "start": "136599",
    "end": "143760"
  },
  {
    "text": "example so we have a lot of these different types of components and uh it",
    "start": "143920",
    "end": "150080"
  },
  {
    "start": "144000",
    "end": "279000"
  },
  {
    "text": "might look like this I'm not going to spend a lot of time explaining this but you can see this like green layer of all of these components these are the main",
    "start": "150080",
    "end": "155959"
  },
  {
    "text": "things we're going to talk about today uh they're actually deployed as",
    "start": "155959",
    "end": "161000"
  },
  {
    "text": "you can imagine to make them actually useful so each component might exist in many many replicas so if you imagine a",
    "start": "161000",
    "end": "167800"
  },
  {
    "text": "back in service we might have a few replicas for some internal tool or whatever and we might have hundreds or",
    "start": "167800",
    "end": "173519"
  },
  {
    "text": "thousands of replicas for the most loaded heavily used uh back Services",
    "start": "173519",
    "end": "179560"
  },
  {
    "text": "again again same is true for Just For Us humans to be able to reason about all of these components we get then group them",
    "start": "179560",
    "end": "185959"
  },
  {
    "text": "into what we call systems and each system is owned by a single team that we call a squad so a team is you know 5 to",
    "start": "185959",
    "end": "193000"
  },
  {
    "text": "12 Engineers something like that um they have their they have a mission like our",
    "start": "193000",
    "end": "200159"
  },
  {
    "text": "team we're building the best search experience possible for for audio or we're building the best playlist experience possible uh and they decide",
    "start": "200159",
    "end": "208080"
  },
  {
    "text": "and decide and design and build and Implement and operate their own",
    "start": "208080",
    "end": "213599"
  },
  {
    "text": "components and of course as we've done this this for about 15 years now it um",
    "start": "213599",
    "end": "219760"
  },
  {
    "text": "it's getting a bit complicated so this is the dependency graph for our production back and services there's a",
    "start": "219760",
    "end": "226480"
  },
  {
    "text": "few thousand notes in there and you can see each line in this is where one service is calling another",
    "start": "226480",
    "end": "234040"
  },
  {
    "text": "service again we're not going to spend a lot of time on this but I wanted to show this to sort of speak to the complex",
    "start": "234280",
    "end": "239959"
  },
  {
    "text": "that that to get to and it might look and I'm I think it would be reasonable",
    "start": "239959",
    "end": "245000"
  },
  {
    "text": "to think that this looks insane like what the hell are you people doing so just to San check that we're not that",
    "start": "245000",
    "end": "253480"
  },
  {
    "text": "insane this is the number of services from a bunch of different companies these are just numbers that I either",
    "start": "253480",
    "end": "260239"
  },
  {
    "text": "found on in some blog post or heard from some friend that one of those companies as you can see we're roughly on par with",
    "start": "260239",
    "end": "266320"
  },
  {
    "text": "where other companies are so it's not that Spotify is doing something particularly stupid here this is what a",
    "start": "266320",
    "end": "273000"
  },
  {
    "text": "large scale microservice architecture looks like these",
    "start": "273000",
    "end": "278440"
  },
  {
    "start": "279000",
    "end": "379000"
  },
  {
    "text": "days there's a different dimension to look at this and that is to look at the growth over time so this shows the",
    "start": "279479",
    "end": "286800"
  },
  {
    "text": "purple line purple area here shows the number of components that we have in our case they happen to be register in this",
    "start": "286800",
    "end": "294520"
  },
  {
    "text": "uh developer portal that we have called backstage that we open source that you can use if you want so that's that's",
    "start": "294520",
    "end": "299680"
  },
  {
    "text": "where we registered this and this is just the number of such components that we have registered for some reason there's not",
    "start": "299680",
    "end": "305880"
  },
  {
    "text": "other y- axis on this but I can tell you that the maximum on this is around 40,000 you can extrapolate that graph uh",
    "start": "305880",
    "end": "314880"
  },
  {
    "text": "and the small Kink at the top is just a cleanup that we did recently of some test components you can see that the",
    "start": "314880",
    "end": "320280"
  },
  {
    "text": "trend is pretty clear like it's growing growing growing growing the Blue Line shows the number of Engineers that we",
    "start": "320280",
    "end": "326800"
  },
  {
    "text": "have and you can see that that's not growing as quickly which is a good thing",
    "start": "326800",
    "end": "332120"
  },
  {
    "text": "in many ways we're able to keep our developers productive they are able to",
    "start": "332120",
    "end": "337639"
  },
  {
    "text": "build new features build experiment so yeah this also I should mention this is not just production components this also",
    "start": "337639",
    "end": "344240"
  },
  {
    "text": "includes experiments we're running or hacks that's engineer has stuff so this is everything but it's good like we're",
    "start": "344240",
    "end": "350759"
  },
  {
    "text": "seeing that our Engineers are able to do a lot of work and try out many new things which is exactly what we want the",
    "start": "350759",
    "end": "356759"
  },
  {
    "text": "flip side of this of course is that as an engineer you have more and more stuff to",
    "start": "356759",
    "end": "362880"
  },
  {
    "text": "maintain if there's a security patch and you need to apply that to all your let's",
    "start": "362880",
    "end": "368440"
  },
  {
    "text": "say backend services or mobile features you might have many of those that you own in your team and that becomes pretty",
    "start": "368440",
    "end": "376160"
  },
  {
    "text": "boring and uh ous after a time so one way of looking at this would be to look",
    "start": "376160",
    "end": "384960"
  },
  {
    "start": "379000",
    "end": "428000"
  },
  {
    "text": "at what maintenance and migrations typically look like and this is just example this happened to be so we when",
    "start": "384960",
    "end": "391840"
  },
  {
    "text": "it comes to our back end we're mostly a uh run a Java based back end so this",
    "start": "391840",
    "end": "397840"
  },
  {
    "text": "shows the adoption when we moved to Java 11 a few years ago and as you can see",
    "start": "397840",
    "end": "404639"
  },
  {
    "text": "this took us almost a year or nine months um it took a dedicated team to do",
    "start": "404639",
    "end": "413280"
  },
  {
    "text": "this they sent out more than 2,000 P requests to our teams to do this",
    "start": "413280",
    "end": "418400"
  },
  {
    "text": "migration and tracking down this and doing a lot of you know project management and nudging people and",
    "start": "418400",
    "end": "424360"
  },
  {
    "text": "reminding people and all that stuff that means this is a lot of effort",
    "start": "424360",
    "end": "431919"
  },
  {
    "text": "to do one of these like fairly simple things should be a fairly simple thing and it meant that we could only do a few",
    "start": "431919",
    "end": "438000"
  },
  {
    "text": "of these per year if we would do lots of these our Engineers would push back and say hey I have an actual work to do I",
    "start": "438000",
    "end": "444560"
  },
  {
    "text": "can't be migrating Java versions all day um so we figured we're going to have to",
    "start": "444560",
    "end": "451120"
  },
  {
    "text": "deal with this we we we estimated we could maybe do like 10 of these migrations per year which was probably",
    "start": "451120",
    "end": "457240"
  },
  {
    "text": "not true we could do maybe more like five and we wanted to get to at least 100 so that we could more much more",
    "start": "457240",
    "end": "464159"
  },
  {
    "text": "actively maintain our software ecosystem so that was the goal that we",
    "start": "464159",
    "end": "470680"
  },
  {
    "start": "468000",
    "end": "522000"
  },
  {
    "text": "set out for ourselves and the way that we imagine doing this was rather than think about our software from a",
    "start": "470680",
    "end": "478440"
  },
  {
    "text": "component first mindset which is what we had done forever so again when we did this when",
    "start": "478440",
    "end": "485599"
  },
  {
    "text": "we did the Java 11 migration what we did was we sent out a um document to",
    "start": "485599",
    "end": "491039"
  },
  {
    "text": "everyone saying here's how you take your backend service and migrate that from java 8 to Java 11 please do this and",
    "start": "491039",
    "end": "497879"
  },
  {
    "text": "then we had developers do that for thousands of backing Services what we wanted to do now",
    "start": "497879",
    "end": "504440"
  },
  {
    "text": "instead was how about if we think about our entire fleet of components and how",
    "start": "504440",
    "end": "509639"
  },
  {
    "text": "we can apply operations to that Fleet to mutate that entire fleet as a",
    "start": "509639",
    "end": "515000"
  },
  {
    "text": "whole and we call this a fleet first mindset so this is what I'm going to",
    "start": "515000",
    "end": "520159"
  },
  {
    "text": "talk about today so one easy question to ask here",
    "start": "520159",
    "end": "527440"
  },
  {
    "start": "522000",
    "end": "685000"
  },
  {
    "text": "is uh if you have so yeah I forgot to I forgot to tell this part of the story so",
    "start": "527440",
    "end": "532600"
  },
  {
    "text": "I said that we had thousands of components we have around if I'm going to continue using the backend Service as an example we have around 4,000 or 3 and",
    "start": "532600",
    "end": "539360"
  },
  {
    "text": "a half thousand backend Services I think distinct backend services in production um most of those live in a in",
    "start": "539360",
    "end": "546600"
  },
  {
    "text": "a git repo on their own so that means that we have thousands of git repositories that contains production",
    "start": "546600",
    "end": "555519"
  },
  {
    "text": "components one way to solve this problem you could imagine would be how about just move that all into one repository",
    "start": "555519",
    "end": "561880"
  },
  {
    "text": "and you can make Atomic changes to those components turns out that it's that that",
    "start": "561880",
    "end": "567760"
  },
  {
    "text": "is a valid on or part partial answer to this challenge but of course it's",
    "start": "567760",
    "end": "573399"
  },
  {
    "text": "slightly more Nuance to that um poly repos versus monor repos both of those has a lot of benefits and drawbacks we",
    "start": "573399",
    "end": "580600"
  },
  {
    "text": "are gradually moving towards the monor repo world at Spotify but it's taking a",
    "start": "580600",
    "end": "585760"
  },
  {
    "text": "lot of time and it's very complicated we are there when it comes to our mobile apps so we have these mobile apps",
    "start": "585760",
    "end": "591839"
  },
  {
    "text": "repositories with millions of lines of codes and that has a certain set of challenges versus our thousands of",
    "start": "591839",
    "end": "598120"
  },
  {
    "text": "polars but we wanted to solve this problem more quickly than we could move to one rep and even if we were in a",
    "start": "598120",
    "end": "606240"
  },
  {
    "text": "world of having a monor repo you actually still have a lot of these challenges even if you're able to make",
    "start": "606240",
    "end": "612079"
  },
  {
    "text": "an atomic change in Git You probably don't want to roll that out is one big Atomic thing where you deploy thousands",
    "start": "612079",
    "end": "618279"
  },
  {
    "text": "of backend services at the same time or deploy thousands of or tens of thousands of data pipelines at the same time you",
    "start": "618279",
    "end": "624839"
  },
  {
    "text": "need to make those rollouts orchestrated you might not even be able to do an atomic kit commit because you",
    "start": "624839",
    "end": "632519"
  },
  {
    "text": "might might have hundreds of teams that needs to review your change and if you're going to wait on that Atomic",
    "start": "632519",
    "end": "637680"
  },
  {
    "text": "commit until that last 200th theme have have done their review you're going to",
    "start": "637680",
    "end": "643079"
  },
  {
    "text": "be waiting for months there's a great paper from Google",
    "start": "643079",
    "end": "648200"
  },
  {
    "text": "which famously has a very large monor repo and is extremely experienced with operating that where they I think in",
    "start": "648200",
    "end": "655760"
  },
  {
    "text": "this paper they did this API refactoring that I think I think affected if I remember correctly 3,500 files or",
    "start": "655760",
    "end": "663240"
  },
  {
    "text": "something like that and they had to break it down into many many many small change sets to get each of them uh",
    "start": "663240",
    "end": "670639"
  },
  {
    "text": "reviewed and merged and then orchestrate a roll out of that in a safe way so the",
    "start": "670639",
    "end": "675720"
  },
  {
    "text": "tooling that I'm going to talk through today turns out will probably be pretty similar in a world where we have a monor",
    "start": "675720",
    "end": "681560"
  },
  {
    "text": "repo compared to where we are today all right so the problem that",
    "start": "681560",
    "end": "689200"
  },
  {
    "start": "685000",
    "end": "727000"
  },
  {
    "text": "we're taking on is both a technology one that's where I'm going to spend most of the time talking through what we've actually built but it's also a bit of a",
    "start": "689200",
    "end": "696000"
  },
  {
    "text": "cultural one I I'll talk through that as well there's a change management part to this and I'll I'll try talk through that",
    "start": "696000",
    "end": "701240"
  },
  {
    "text": "as well but let's start with the technology one and let's look at what one of these fleetwide changes looks",
    "start": "701240",
    "end": "708480"
  },
  {
    "text": "like so again quick reminder what I said before we want to make a change that we",
    "start": "708480",
    "end": "714399"
  },
  {
    "text": "can apply to thousands of repositories make that changes in in a coordinated and controlled fashion and",
    "start": "714399",
    "end": "721200"
  },
  {
    "text": "roll that out in a safe way that's the goal",
    "start": "721200",
    "end": "726079"
  },
  {
    "text": "here so there are it's as always a bit more complicated on this but I'm going",
    "start": "727480",
    "end": "732880"
  },
  {
    "text": "to reason about this in these like four fairly high level steps so first of all we need to identify where we need to",
    "start": "732880",
    "end": "738720"
  },
  {
    "text": "make changes in the code we need to have some way of authoring or making those changes we",
    "start": "738720",
    "end": "745760"
  },
  {
    "text": "need to make lots and lots of P requests again we use git so so we we need to change need there are a few seats if you",
    "start": "745760",
    "end": "752079"
  },
  {
    "text": "want to squeeze it um so we need to send out lots and lots of PRS and then lastly we need to orchestrate the roll out in a",
    "start": "752079",
    "end": "758680"
  },
  {
    "text": "safe way so that if things starts breaking we can pause and roll back and",
    "start": "758680",
    "end": "764839"
  },
  {
    "text": "whatnot I'm going to reason through each of these in in order if we look at the",
    "start": "764839",
    "end": "770120"
  },
  {
    "text": "sort of identifying where we can make changes the simple way of doing this is",
    "start": "770120",
    "end": "775720"
  },
  {
    "text": "through some sort of code search and I think we probably all hit have this you might part of your if you use GitHub you",
    "start": "775720",
    "end": "782000"
  },
  {
    "text": "get that out of GitHub you can use Source gra there's lots of these tools that can enable this in a good way and",
    "start": "782000",
    "end": "787399"
  },
  {
    "text": "we have those as well of course uh they're usually pretty corar grained uh",
    "start": "787399",
    "end": "793160"
  },
  {
    "text": "but they work fine for a lot of use cases so you can identify like where do I have something that looks like this",
    "start": "793160",
    "end": "798760"
  },
  {
    "text": "piece of code or this piece of configuration and then I know it need then I know that it's those repositories",
    "start": "798760",
    "end": "804880"
  },
  {
    "text": "that I need to make changes to or those pots and repositories that I need to changes to",
    "start": "804880",
    "end": "810519"
  },
  {
    "text": "in our case we have also ingested all our code or our configuration and a ton",
    "start": "810519",
    "end": "816600"
  },
  {
    "text": "of runtime instrumentation into big query which is this tool that Google has that you can do ad hoc querying like SQL",
    "start": "816600",
    "end": "824480"
  },
  {
    "text": "on top all data sets so that means that we can actually do much more fine grained targeting so you can do much",
    "start": "824480",
    "end": "831560"
  },
  {
    "text": "more complicated um matching and you can join with various parts so I can say hey I",
    "start": "831560",
    "end": "837839"
  },
  {
    "text": "only want the source code for um components that are of this",
    "start": "837839",
    "end": "843440"
  },
  {
    "text": "particular type so I can join it with my backstage data or I can join it with I only want to do this with components",
    "start": "843440",
    "end": "849040"
  },
  {
    "text": "that has a certain number of replicas in production like all those types of things so that has turned out to be a",
    "start": "849040",
    "end": "854160"
  },
  {
    "text": "very powerful mechanism for us and something I can generally recommend to look into to do doesn't have to be big",
    "start": "854160",
    "end": "859720"
  },
  {
    "text": "query specifically but having good instrumentation and putting that into some sort of uh Analytics tool or",
    "start": "859720",
    "end": "866759"
  },
  {
    "text": "database where you can query it is a very powerful the last and we don't have this",
    "start": "866759",
    "end": "872720"
  },
  {
    "text": "yet it's something that we're currently uh building out is what is typically called semantic code search so this is",
    "start": "872720",
    "end": "878680"
  },
  {
    "text": "where you index your code so that you can start looking for for example where you have um API calls so if you have",
    "start": "878680",
    "end": "887440"
  },
  {
    "text": "imagine we have a library it's used in hundreds of components where is a particular method of that Library called",
    "start": "887440",
    "end": "895199"
  },
  {
    "text": "and this is of course very useful if you want to do API refactoring for example you could Target much more specifically",
    "start": "895199",
    "end": "902320"
  },
  {
    "text": "and there are open source tools like KY from Google that can do the centic code search but it's challenging to do it",
    "start": "902320",
    "end": "909600"
  },
  {
    "text": "scale so we're we're still working on getting this in P the big query stuff has been very powerful in the",
    "start": "909600",
    "end": "917160"
  },
  {
    "start": "918000",
    "end": "1059000"
  },
  {
    "text": "metime all right now we need to so now we know where we need to make the change uh now we need to actually have",
    "start": "919160",
    "end": "925360"
  },
  {
    "text": "something that can make the change so the way that we do this is we Implement",
    "start": "925360",
    "end": "932079"
  },
  {
    "text": "what we call a code mode where we typically our nomenclature is is a shift",
    "start": "932079",
    "end": "937480"
  },
  {
    "text": "um and this is just in our case a Docker container that you run on a local clone",
    "start": "937480",
    "end": "943160"
  },
  {
    "text": "of a repo and it does the change that it needs to do and that's",
    "start": "943160",
    "end": "948440"
  },
  {
    "text": "it so these are typically very easy to to for simple changes these are very",
    "start": "948440",
    "end": "953720"
  },
  {
    "text": "easy to write and we have a bunch of already readymade containers so if you need to change you know some yaml file",
    "start": "953720",
    "end": "960240"
  },
  {
    "text": "you can do that with a redim made container and just provide some configuration for it and the more advanced you get and in",
    "start": "960240",
    "end": "966920"
  },
  {
    "text": "particular once you get into wanting to refactor code things gets pretty hairy pretty quickly and there's this uh law",
    "start": "966920",
    "end": "975199"
  },
  {
    "text": "again coming out of Google called hm's law from an engineer called hm right",
    "start": "975199",
    "end": "980360"
  },
  {
    "text": "which works on Google's team that basically builds the same type of tooling that I'm talking about here see",
    "start": "980360",
    "end": "986240"
  },
  {
    "text": "he he put up this this law uh I think he sort of made it as a joke but someone else in that team then published it and",
    "start": "986240",
    "end": "993279"
  },
  {
    "text": "whatnot uh and it basically says that yeah you can have your fancy API and you can have your documentation saying how",
    "start": "993279",
    "end": "999319"
  },
  {
    "text": "that API is supposed to work but in reality once you have enough people using that API every possible observable",
    "start": "999319",
    "end": "1007160"
  },
  {
    "text": "behavior of that API someone will depend on and this is super annoying when you",
    "start": "1007160",
    "end": "1012880"
  },
  {
    "text": "actually try to change things at at at large scale and we spoke to this guy",
    "start": "1012880",
    "end": "1018160"
  },
  {
    "text": "when when and we started started this work and he told us like yeah you're going to run into this stuff it's going to be annoying and yeah to no one's",
    "start": "1018160",
    "end": "1025918"
  },
  {
    "text": "surprise it turns out that he's absolutely right and we see this all the time and again the you can imagine sort",
    "start": "1025919",
    "end": "1032400"
  },
  {
    "text": "of the broader your API surfaces the the harder this gets so if you're changing a gaml file it's fairly straightforward uh",
    "start": "1032400",
    "end": "1040640"
  },
  {
    "text": "there's still a lot of nuances to doing that as well but once you get into actually trying to do a semi Advanced",
    "start": "1040640",
    "end": "1046160"
  },
  {
    "text": "refactoring of some Java code it's tons and tons of tons of code to actually do that change because you're going to run",
    "start": "1046160",
    "end": "1053160"
  },
  {
    "text": "into all of these weird edge cases where people use your stuff in ways that you never",
    "start": "1053160",
    "end": "1058720"
  },
  {
    "start": "1059000",
    "end": "1102000"
  },
  {
    "text": "imagined but there are some Frameworks to help a little bit with this uh so we",
    "start": "1059440",
    "end": "1064559"
  },
  {
    "text": "use all of those that are listed here the uh Shifty one is our internal one so",
    "start": "1064559",
    "end": "1070039"
  },
  {
    "text": "it's not published yet at least but we're in particular heavy heavy users of uh rewrite which came out of I think",
    "start": "1070039",
    "end": "1077240"
  },
  {
    "text": "Netflix and um which is just a a cotlin",
    "start": "1077240",
    "end": "1082600"
  },
  {
    "text": "Java library for basically making code refactorings uh and there's a bunch of these available that we uh in addition",
    "start": "1082600",
    "end": "1090240"
  },
  {
    "text": "to these that we use as well um but this turns out to be the actually the hard part of this problem and we're still",
    "start": "1090240",
    "end": "1096520"
  },
  {
    "text": "learning how to make more more advanced uh",
    "start": "1096520",
    "end": "1101559"
  },
  {
    "start": "1102000",
    "end": "1193000"
  },
  {
    "text": "changes uh I'm going to do a quick aside here so one type of change that you want",
    "start": "1103320",
    "end": "1108919"
  },
  {
    "text": "to do that we want to do at least is of course to our Cloud resources so we",
    "start": "1108919",
    "end": "1114360"
  },
  {
    "text": "happen to run in Google Cloud it doesn't much matter which Cloud you run in or if you run on your own on Prem you probably",
    "start": "1114360",
    "end": "1120720"
  },
  {
    "text": "have a lot of resources in there it might be accounts or databases or buckets or in this case a caching",
    "start": "1120720",
    "end": "1127799"
  },
  {
    "text": "cluster or whatever it might be and in order to make changes to this you need to have them in git somehow of course a",
    "start": "1127799",
    "end": "1135440"
  },
  {
    "text": "very common way of doing this is using terraform or anible or a tool like this and we do this well in our case we use a",
    "start": "1135440",
    "end": "1142320"
  },
  {
    "text": "kubernetes based tool um and there's a few example shown here of of what that",
    "start": "1142320",
    "end": "1147679"
  },
  {
    "text": "might look like in our case um the reason I'm mentioning this is that when we started this work we were actually",
    "start": "1147679",
    "end": "1154280"
  },
  {
    "text": "sort of halfway or just beginning the transition into this new tool from a pretty messy state of having some stuff",
    "start": "1154280",
    "end": "1161360"
  },
  {
    "text": "in terraform a lot of manually created stuff as we had moved into or migrated to Cloud a bunch of years ago so in",
    "start": "1161360",
    "end": "1167840"
  },
  {
    "text": "order to actually make it possible for us to make these fleetwide changes to Cloud resources um we needed to",
    "start": "1167840",
    "end": "1175919"
  },
  {
    "text": "finish up that migration so that was a big part part of the part of the job that we did was to actually do that I just wanted to call that out as um again",
    "start": "1175919",
    "end": "1184120"
  },
  {
    "text": "if you want to be able to make these large scale fleetwide changes you need to have your stuff in get somewhere",
    "start": "1184120",
    "end": "1190080"
  },
  {
    "text": "where you can actually modify it in a safe way uh so the next part that we then",
    "start": "1190080",
    "end": "1197200"
  },
  {
    "start": "1193000",
    "end": "1296000"
  },
  {
    "text": "built was is called Fleet shift and this is the orchestrator so what you do is",
    "start": "1197200",
    "end": "1202280"
  },
  {
    "text": "that you have your Docker container that makes that change it makes as I said before it makes a change to a single",
    "start": "1202280",
    "end": "1209440"
  },
  {
    "text": "repository you have done your figured out your targeting so you have a number of repositories and that might be every",
    "start": "1209440",
    "end": "1215320"
  },
  {
    "text": "anywhere from a few to thousands of repos stories that you want to apply changes to and now you need to combine",
    "start": "1215320",
    "end": "1221880"
  },
  {
    "text": "these two and that's what Fleet shift does so it will so Fleet shift is is an",
    "start": "1221880",
    "end": "1227520"
  },
  {
    "text": "orchestrator what it will do is basically check out all the repositories that you're making",
    "start": "1227520",
    "end": "1233720"
  },
  {
    "text": "a change to locally for each of those run the docker container in a",
    "start": "1233720",
    "end": "1239200"
  },
  {
    "text": "orchestrated and coordinated way and then send and then look at when",
    "start": "1239200",
    "end": "1245440"
  },
  {
    "text": "I ran this Docker container did that create any change any diff and if so it",
    "start": "1245440",
    "end": "1250760"
  },
  {
    "text": "creates a p request based on it and this can",
    "start": "1250760",
    "end": "1255840"
  },
  {
    "text": "run once so you can have your shift and you run that once if it's a onetime",
    "start": "1255840",
    "end": "1261120"
  },
  {
    "text": "change you're doing or you can run it scheduled so for example we update all",
    "start": "1261120",
    "end": "1267000"
  },
  {
    "text": "our dependencies if you're using used to using something like dependabot or renovate or similar we use this to",
    "start": "1267000",
    "end": "1274679"
  },
  {
    "text": "schedule those types of jobs so they run every day so every day there's a one of",
    "start": "1274679",
    "end": "1281159"
  },
  {
    "text": "these shifts that come arounds and look at all the Java services for example and see check if they need to update any of",
    "start": "1281159",
    "end": "1287880"
  },
  {
    "text": "the dependencies and if so create a PR and send that to the owning",
    "start": "1287880",
    "end": "1294159"
  },
  {
    "text": "team and as a shift author if you're one of the people who are making one of",
    "start": "1296320",
    "end": "1301960"
  },
  {
    "text": "these changes uh you can go in and this is actually just a way to sort of debug your shift is it working as expected so",
    "start": "1301960",
    "end": "1308760"
  },
  {
    "text": "I can go in there see the output from it I can see what diff it created for some particular um repository in this case",
    "start": "1308760",
    "end": "1317080"
  },
  {
    "text": "and here's a good example ex of one of these cases where we actually wanted to change a cloud resource so here's a",
    "start": "1317080",
    "end": "1322559"
  },
  {
    "text": "shift that runs continuously and does um cost optimization for our big table at",
    "start": "1322559",
    "end": "1329039"
  },
  {
    "text": "database clusters so it will do some analysis on the load of this cluster and",
    "start": "1329039",
    "end": "1334240"
  },
  {
    "text": "it will configure the autoscaler for that big table instance and send a PR to",
    "start": "1334240",
    "end": "1339919"
  },
  {
    "text": "the team and the pr will look something like this so this is what you if you happen to own one of these big table",
    "start": "1339919",
    "end": "1347000"
  },
  {
    "text": "instances you will had a PR saying something like this hey we discover that we can configure your auto scaler in a",
    "start": "1347000",
    "end": "1353120"
  },
  {
    "text": "better way here's the pr to do that hopefully that makes",
    "start": "1353120",
    "end": "1360200"
  },
  {
    "start": "1361000",
    "end": "1479000"
  },
  {
    "text": "sense so now if we put ourselves in the shoes of the team in",
    "start": "1361279",
    "end": "1367840"
  },
  {
    "text": "the I don't remember which team it was Taylor I think was the team that sorry yeah Taylor as you can see on the",
    "start": "1367840",
    "end": "1374919"
  },
  {
    "text": "top there is a is is a is a squad at Spotify they have received this PR um but if you",
    "start": "1374919",
    "end": "1382440"
  },
  {
    "text": "put yourself in the shoes of those teams and you will you imagine yourself receiving hundreds of these automated",
    "start": "1382440",
    "end": "1388200"
  },
  {
    "text": "pull requests that's going to get pretty  annoying pretty quickly uh and",
    "start": "1388200",
    "end": "1393559"
  },
  {
    "text": "we don't want that we don't want our Engineers to have to review all of those changes that wasn't the purpose of this of this work wasn't to make more work",
    "start": "1393559",
    "end": "1400799"
  },
  {
    "text": "for developers it was the the opposite of that so what do we put in place and this",
    "start": "1400799",
    "end": "1406880"
  },
  {
    "text": "is maybe the most uh potentially controversial part of what we're doing is that we have something something that we simply call",
    "start": "1406880",
    "end": "1413520"
  },
  {
    "text": "autom merging so for most of the shifts that we do uh not all of them if they",
    "start": "1413520",
    "end": "1420200"
  },
  {
    "text": "are particularly risky we will not do auto merging but for most of the ones we do as long as",
    "start": "1420200",
    "end": "1426720"
  },
  {
    "text": "your uh CI build is green we will come around and merge that PR without any",
    "start": "1426720",
    "end": "1433440"
  },
  {
    "text": "human riew so we have a an auto Auto merger",
    "start": "1433440",
    "end": "1438960"
  },
  {
    "text": "that basically goes around looks for all of these um Fleet shift PRS that we've",
    "start": "1438960",
    "end": "1444640"
  },
  {
    "text": "generated see that they look safe it applies a bunch of rules so we only aut to merge during office hours we don't",
    "start": "1444640",
    "end": "1451360"
  },
  {
    "text": "aut to merge on holidays or whatever it might be uh we might wait for a while so",
    "start": "1451360",
    "end": "1456679"
  },
  {
    "text": "to allow for par some particular shifts we say to team hey you have two weeks to do a manual review of this and then",
    "start": "1456679",
    "end": "1463120"
  },
  {
    "text": "we're going to come around and aut to merge it if you haven't uh already merged or closed it so to give team some",
    "start": "1463120",
    "end": "1469360"
  },
  {
    "text": "ability to review but in the end for more than 75% of the PRS that we sent",
    "start": "1469360",
    "end": "1475320"
  },
  {
    "text": "out we end up what what emerging so this brings us to this",
    "start": "1475320",
    "end": "1482600"
  },
  {
    "start": "1479000",
    "end": "1719000"
  },
  {
    "text": "question of culture and like engineering culture and practices and so when we start this",
    "start": "1482600",
    "end": "1488840"
  },
  {
    "text": "work or maybe let me take a step back um we have a very long history and very",
    "start": "1488840",
    "end": "1494240"
  },
  {
    "text": "strong culture around ownership so I mentioned ear early on that each component is owned by one of our teams",
    "start": "1494240",
    "end": "1501600"
  },
  {
    "text": "and that team has full responsibility for that component so and you you as a team you",
    "start": "1501600",
    "end": "1507880"
  },
  {
    "text": "figure out which backing services or which pipelines you need you design and you build them and but you also operate",
    "start": "1507880",
    "end": "1513440"
  },
  {
    "text": "them so you're on call for those those components so you the one who's waking",
    "start": "1513440",
    "end": "1518720"
  },
  {
    "text": "up in the middle of the night when when things break and you have also always been",
    "start": "1518720",
    "end": "1527760"
  },
  {
    "text": "fully in control over um over those components every change that goes into",
    "start": "1527760",
    "end": "1533120"
  },
  {
    "text": "it you as a team because you own that component you own the repository you've",
    "start": "1533120",
    "end": "1539039"
  },
  {
    "text": "been the reviewer of of every change that's gone into that component but now all of a sudden what we're saying is",
    "start": "1539039",
    "end": "1544360"
  },
  {
    "text": "that no no no for these uh fleetwide changes it's going to be someone someone else somewhere far away in the company",
    "start": "1544360",
    "end": "1551159"
  },
  {
    "text": "who makes one of these fleetwide uh authors one of those changes and then we're just going to Auto merge that into",
    "start": "1551159",
    "end": "1556840"
  },
  {
    "text": "your post story uh good luck have fun with that when that breaks in the middle of point so we",
    "start": "1556840",
    "end": "1562840"
  },
  {
    "text": "imagined this was going to be a big change for us and was we're going to get a lot of resistance from our teams",
    "start": "1562840",
    "end": "1569480"
  },
  {
    "text": "um turns out that wasn't at all the case um turns out the developers just liked",
    "start": "1569480",
    "end": "1575039"
  },
  {
    "text": "getting this work done for them and not to be bothered but we did a lot of we did a",
    "start": "1575039",
    "end": "1581320"
  },
  {
    "text": "lot of you know discussions with our engineering teams and what not to prepare for this in the end it turns out to like yeah no we're super happy as",
    "start": "1581320",
    "end": "1587720"
  },
  {
    "text": "long as you don't break stuff if I can have less work to do awesome I'm going to I'm going to like that uh but of",
    "start": "1587720",
    "end": "1594720"
  },
  {
    "text": "course we did need to prepare ourselves a little bit so for example we had some components that didn't have great test",
    "start": "1594720",
    "end": "1601399"
  },
  {
    "text": "automation generally speaking we had pretty good test automation but there were a few types of components where we",
    "start": "1601399",
    "end": "1607320"
  },
  {
    "text": "had less good automation so we were we had to ask our teams to like please make",
    "start": "1607320",
    "end": "1613120"
  },
  {
    "text": "sure that the things you care about are under test this is typically called the",
    "start": "1613120",
    "end": "1618799"
  },
  {
    "text": "Beyonce rule while you will see Beyonce on the slide so uh if you like it you should put a test on it I think is the",
    "start": "1618799",
    "end": "1625240"
  },
  {
    "text": "it's the rule uh so so that was essentially what we",
    "start": "1625240",
    "end": "1630600"
  },
  {
    "text": "said to our teams uh make sure that whatever whatever needs to work in your",
    "start": "1630600",
    "end": "1636279"
  },
  {
    "text": "software that needs to be discoverable as part of the CI build or we're going to merge it and of course you know this",
    "start": "1636279",
    "end": "1643520"
  },
  {
    "text": "as developers you can't really figure out all of all of the possible failure",
    "start": "1643520",
    "end": "1648720"
  },
  {
    "text": "scenarios up front so a lot of this has been more incremental of like yes we have broken things but then it it needs",
    "start": "1648720",
    "end": "1654799"
  },
  {
    "text": "to be a discussion with that team or maybe you need to add a test to be able to catch this in the future this is very",
    "start": "1654799",
    "end": "1660640"
  },
  {
    "text": "much a continuous thing that we're doing and we have a tool this is part of",
    "start": "1660640",
    "end": "1666039"
  },
  {
    "text": "of Backstage that we call sound check and sound check is a way to basically you can run a bunch of um validation",
    "start": "1666039",
    "end": "1673600"
  },
  {
    "text": "checks on a component and say hey does this component not have a a good integration test does it have um all its",
    "start": "1673600",
    "end": "1682960"
  },
  {
    "text": "resources defined in our declarative inra as I showed before and so on so we defined one of those uh call soundcheck",
    "start": "1682960",
    "end": "1690600"
  },
  {
    "text": "programs for Fleet man as like a preparation for Fleet Management to allow teams to self assess themselves",
    "start": "1690600",
    "end": "1697360"
  },
  {
    "text": "and we left it to the teams so if if you as as a team decide that ah no we're not going to",
    "start": "1697360",
    "end": "1704360"
  },
  {
    "text": "um apply the we we don't we we're not going to priorize TI improving our test automation we think it's good enough",
    "start": "1704360",
    "end": "1710159"
  },
  {
    "text": "then that was fine we left it to the team to decide but we gave them the tool to self assess themselves in",
    "start": "1710159",
    "end": "1717759"
  },
  {
    "start": "1719000",
    "end": "1864000"
  },
  {
    "text": "subject so then let me speak about where we are so this is where I mentioned before this is very much ongoing work we",
    "start": "1719679",
    "end": "1725360"
  },
  {
    "text": "have uh a few teams that are working um very much on this at the",
    "start": "1725360",
    "end": "1731080"
  },
  {
    "text": "moment we did during essentially what we did during last year was to roll this",
    "start": "1731080",
    "end": "1737000"
  },
  {
    "text": "out to the vast majority of our Fleet and we're focusing on uh I'll tell",
    "start": "1737000",
    "end": "1744399"
  },
  {
    "text": "you where we where we're going in a second so we have to date done more more than 130 of these fleetwide changes I",
    "start": "1744399",
    "end": "1752080"
  },
  {
    "text": "think this number is actually slightly outdated it's a little bit higher now but not significantly so and we've sent",
    "start": "1752080",
    "end": "1757840"
  },
  {
    "text": "more than half a million uh automated PRS again most of those are what emerged",
    "start": "1757840",
    "end": "1764360"
  },
  {
    "text": "so it's not as horrible as it might sound and list here I won't go through that but the list here shows the type of",
    "start": "1764360",
    "end": "1770640"
  },
  {
    "text": "changes that we're that we're doing uh so I mentioned that we we bump dependencies every day so if there's a",
    "start": "1770640",
    "end": "1777600"
  },
  {
    "text": "new dependency update for something it the shift and the water merger will come",
    "start": "1777600",
    "end": "1783559"
  },
  {
    "text": "around the day after and bump the entire fleet to be up to date to the those dependency versions and the way we've",
    "start": "1783559",
    "end": "1790200"
  },
  {
    "text": "done this is that we've actually had for each of our we use different build tools or package managers like Maven or pip",
    "start": "1790200",
    "end": "1795760"
  },
  {
    "text": "and yarn and whatnot and for each of those we have some sort of centralized way of saying that this",
    "start": "1795760",
    "end": "1803320"
  },
  {
    "text": "is the version that we want in our Fleet of a particular dependency because that also takes care of um uh dependency",
    "start": "1803320",
    "end": "1810960"
  },
  {
    "text": "conflicts so we can have like a known working set of dependency versions and then have that set of versions be",
    "start": "1810960",
    "end": "1818399"
  },
  {
    "text": "applied be applied to our Fleet every day turns out to work really well yeah and you can see security fix and what",
    "start": "1818399",
    "end": "1824559"
  },
  {
    "text": "not and I'll actually show you a few few examples first first we can show this graph of this is just the number of",
    "start": "1824559",
    "end": "1830720"
  },
  {
    "text": "deployments that we do I think it's weekly in this case um and you can see that the number of deployments that are",
    "start": "1830720",
    "end": "1838159"
  },
  {
    "text": "started by a bot change is now roughly on par with the number of deployments that human developers Spotify",
    "start": "1838159",
    "end": "1846200"
  },
  {
    "text": "do and uh again Google published a paper a bunch of years ago where they showed a",
    "start": "1846200",
    "end": "1852720"
  },
  {
    "text": "similar graph and in their case the Bots have pulled away from from from humans",
    "start": "1852720",
    "end": "1857760"
  },
  {
    "text": "and we expect that to happen for us as well but for now we're roughly keeping",
    "start": "1857760",
    "end": "1864360"
  },
  {
    "start": "1864000",
    "end": "1957000"
  },
  {
    "text": "up so this is a somewhat famous or inFAMOUS security vulnerability I'm sure",
    "start": "1864360",
    "end": "1870159"
  },
  {
    "text": "some of you had to deal with this uh was I think in November 2021 uh the log for J vulnerability was",
    "start": "1870159",
    "end": "1878159"
  },
  {
    "text": "fun um so this was just as we were rolling out uh Fleet Management for",
    "start": "1878159",
    "end": "1886360"
  },
  {
    "text": "backend services the timing couldn't have been better for us it was an excellent example of where we can",
    "start": "1886360",
    "end": "1891600"
  },
  {
    "text": "actually try like one of the reasons why we did this was rather than having",
    "start": "1891600",
    "end": "1897600"
  },
  {
    "text": "to put a lot of effort into upgrading our Fleet in a very short period of time when we have a security vulnerability we",
    "start": "1897600",
    "end": "1904960"
  },
  {
    "text": "want to be able to do that in in in a few days and here we got the the excellent",
    "start": "1904960",
    "end": "1910880"
  },
  {
    "text": "way of showing if we could so what you can see here is the share of the fleet that has the fix for the log for J",
    "start": "1910880",
    "end": "1918080"
  },
  {
    "text": "vulnerability rolled out and you can actually see that at that at this point we were at roughly 80% adoption of Fleet",
    "start": "1918080",
    "end": "1924480"
  },
  {
    "text": "Management so about 80% of our backend Services were uh sort of Fleet managed",
    "start": "1924480",
    "end": "1930080"
  },
  {
    "text": "and for those we were able to patch our entire fleet in less than six hours and then for the remaining 20% that still",
    "start": "1930080",
    "end": "1937039"
  },
  {
    "text": "required a lot of engineering work you can see that that took multiple days to actually finish",
    "start": "1937039",
    "end": "1942919"
  },
  {
    "text": "up so this is exactly what we want to do and we've been able to do a few more of these types of uh roll outs or actually",
    "start": "1942919",
    "end": "1949600"
  },
  {
    "text": "many of these roll outs since then where we have some security fix that we want to get out and we're able to get that out",
    "start": "1949600",
    "end": "1956720"
  },
  {
    "start": "1957000",
    "end": "2100000"
  },
  {
    "text": "quickly this is another way of looking at this so this shows the time that it",
    "start": "1958000",
    "end": "1963960"
  },
  {
    "text": "takes us to roll out so we have an internal service framework kind of similar to Spring boot or whatever you",
    "start": "1963960",
    "end": "1971080"
  },
  {
    "text": "would use to build your backend Services uh and this shows the time it takes us to roll that out out to I think",
    "start": "1971080",
    "end": "1977919"
  },
  {
    "text": "it's 75% 70% of our Fleet and it you can see that the graph",
    "start": "1977919",
    "end": "1983639"
  },
  {
    "text": "starts at roughly 200 days so this was pre uh Fleet Management so it took 200",
    "start": "1983639",
    "end": "1991639"
  },
  {
    "text": "days to get organic adoption for a new version of of the service framework so the team who manage it manages that",
    "start": "1991639",
    "end": "1999200"
  },
  {
    "text": "framework would roll out the change and then 200 days later it would be at 70%",
    "start": "1999200",
    "end": "2004320"
  },
  {
    "text": "of the fleet and of course in that frame work we roll out a lot of new features",
    "start": "2004320",
    "end": "2010120"
  },
  {
    "text": "or um performance improvements or reliability improvements or security",
    "start": "2010120",
    "end": "2015360"
  },
  {
    "text": "fixes and all of those and it would take almost a year to get to most of the",
    "start": "2015360",
    "end": "2020519"
  },
  {
    "text": "fleet and by automating that we're now down to being consistently in doing that",
    "start": "2020519",
    "end": "2025559"
  },
  {
    "text": "in a few days and the reason why it's not just a day is that we don't do aut merging as I mentioned on weekends and",
    "start": "2025559",
    "end": "2031480"
  },
  {
    "text": "Fridays and one so it takes us a few days on on average and this is where we want to stick so that that mean that",
    "start": "2031480",
    "end": "2036720"
  },
  {
    "text": "means now if you're one of our infrastructure teams you make a change to you to the framework or library or",
    "start": "2036720",
    "end": "2042760"
  },
  {
    "text": "whatever it is you you own and publish you can have that being rolled out in",
    "start": "2042760",
    "end": "2048960"
  },
  {
    "text": "the next day or two this actually also means this might look great but it also means a big",
    "start": "2048960",
    "end": "2055280"
  },
  {
    "text": "challenge for our infrastructure teams because before they would get free free QA by Rolling things out slowly so",
    "start": "2055280",
    "end": "2061878"
  },
  {
    "text": "during those 200 days people might report bugs and like regressions and whatnot and they could fix those and",
    "start": "2061879",
    "end": "2068118"
  },
  {
    "text": "then they would slowly roll out now they can go from making a change to Breaking All of Spotify in less than",
    "start": "2068119",
    "end": "2074599"
  },
  {
    "text": "24 hours um so this has required a lot of",
    "start": "2074599",
    "end": "2079760"
  },
  {
    "text": "improvements in terms of test Automation in particular for our infrastructure teams and that's a lot of our Focus for",
    "start": "2079760",
    "end": "2087158"
  },
  {
    "text": "this year is actually to have our infrastructure teams being more confident with making these types of",
    "start": "2087159",
    "end": "2093320"
  },
  {
    "text": "changes without breaking everything so that's a lot of the focus at the",
    "start": "2093320",
    "end": "2099680"
  },
  {
    "text": "moment and I think this is the last graph I'm going to show so this shows What's called repaving so basically says",
    "start": "2099680",
    "end": "2106440"
  },
  {
    "start": "2100000",
    "end": "2183000"
  },
  {
    "text": "what part of the what part of our components do we redeploy uh within a",
    "start": "2106440",
    "end": "2111480"
  },
  {
    "text": "certain period of time so the graph might be a bit hard to read but the the summary is that uh roughly 80% of all",
    "start": "2111480",
    "end": "2118200"
  },
  {
    "text": "our components this is not just backing services but data pipelines websites and whatnot we redeploy at least every two",
    "start": "2118200",
    "end": "2125480"
  },
  {
    "text": "weeks and redeploying things is a really good thing because when you have things",
    "start": "2125480",
    "end": "2131280"
  },
  {
    "text": "running for a long period of time that's where you get someone might make a",
    "start": "2131280",
    "end": "2136760"
  },
  {
    "text": "manual change to that so all of a sudden the the sort of source of truth that you have in git is not true for whatever you",
    "start": "2136760",
    "end": "2142320"
  },
  {
    "text": "run in production you might have uh security vulnerabilities that remain",
    "start": "2142320",
    "end": "2148720"
  },
  {
    "text": "because you haven't redeployed something you might have fixed it but you haven't actually redeployed it so having this",
    "start": "2148720",
    "end": "2154520"
  },
  {
    "text": "practice of repaving this isn't well-known security good security practice uh is",
    "start": "2154520",
    "end": "2160920"
  },
  {
    "text": "great uh so yeah so we're currently at 80% the reason why we're not at 100% is",
    "start": "2160920",
    "end": "2166160"
  },
  {
    "text": "that we still have some components that we haven't been able to onboard and a lot of that is our sort of core",
    "start": "2166160",
    "end": "2171599"
  },
  {
    "text": "infrastructure components which we are also working on at and we have some weird ass components",
    "start": "2171599",
    "end": "2178839"
  },
  {
    "text": "that have some Legacy so those also takes longer time for all right so lastly I'm going to",
    "start": "2178839",
    "end": "2185079"
  },
  {
    "start": "2183000",
    "end": "2254000"
  },
  {
    "text": "talk a little bit about what we're planning next this is going to be fairly short but so I already mentioned some of",
    "start": "2185079",
    "end": "2190119"
  },
  {
    "text": "this uh we want to make our tooling better this is I think continuously true",
    "start": "2190119",
    "end": "2196319"
  },
  {
    "text": "uh and in particular we want to make it easier for any engineer at Spotify to do one of these fleetwide changes I mention",
    "start": "2196319",
    "end": "2203359"
  },
  {
    "text": "we had we have done 130 or so I think might get this number wrong but I think",
    "start": "2203359",
    "end": "2208640"
  },
  {
    "text": "those 130 are coming from 80 or so different teams and we want to grow that number to have more teams being",
    "start": "2208640",
    "end": "2215400"
  },
  {
    "text": "comfortable in doing these types of sh changes we want to make more more",
    "start": "2215400",
    "end": "2220480"
  },
  {
    "text": "complex changes I also mentioned this before so again we're super confident at making config changes or dependency",
    "start": "2220480",
    "end": "2227400"
  },
  {
    "text": "updates at this point we're less confident at making complex uh code",
    "start": "2227400",
    "end": "2233359"
  },
  {
    "text": "refactorings for example in a safe way that doesn't break in in lots of edge cases so we're sort of gaining",
    "start": "2233359",
    "end": "2240200"
  },
  {
    "text": "confidence and do doing more and more complicated changes and lastly as I already mentioned we're going to try to to",
    "start": "2240200",
    "end": "2247640"
  },
  {
    "text": "remove that L 20% so we're actually at 100% of our",
    "start": "2247640",
    "end": "2252720"
  },
  {
    "start": "2254000",
    "end": "2300000"
  },
  {
    "text": "F and I think this might be the last Almost last slide uh we're also considering if this is useful for other",
    "start": "2254000",
    "end": "2261960"
  },
  {
    "text": "companies and if we should release it externally uh if if you find that",
    "start": "2261960",
    "end": "2267800"
  },
  {
    "text": "interesting I would be super curious so feel free to ask a question or come up after the talk because every signal that",
    "start": "2267800",
    "end": "2273280"
  },
  {
    "text": "we can get will help us in making that decision this QR code um will take you",
    "start": "2273280",
    "end": "2280760"
  },
  {
    "text": "to so we have I mentioned before backstage which is which is our developer portal so if we would release",
    "start": "2280760",
    "end": "2286240"
  },
  {
    "text": "this we will probably release it under that umbrella of Backstage somehow and the QR code goes to a road map update",
    "start": "2286240",
    "end": "2292839"
  },
  {
    "text": "that we will give in a month or two on what the hell we're doing with backstage going forward so if you're interested in",
    "start": "2292839",
    "end": "2298680"
  },
  {
    "text": "that go for it and lastly if you found find found this interesting we have",
    "start": "2298680",
    "end": "2305119"
  },
  {
    "start": "2300000",
    "end": "2370000"
  },
  {
    "text": "published this more depth so there's a thre part series blog post that we've",
    "start": "2305119",
    "end": "2312079"
  },
  {
    "text": "done uh on our engineering blog where you can learn about sort of the general stuff what I've covered today in the",
    "start": "2312079",
    "end": "2318440"
  },
  {
    "text": "first post there's an entire post on the declara declarative infra stuff which is pretty interesting if if you want to um",
    "start": "2318440",
    "end": "2326400"
  },
  {
    "text": "sort of reconsider how you're doing that today or if you're not doing it at all this definitely presents the way of doing it and lastly one post that goes",
    "start": "2326400",
    "end": "2334400"
  },
  {
    "text": "into the implementation of uh Fleet shift and what they're merging and all of those in much much more detail than I",
    "start": "2334400",
    "end": "2339680"
  },
  {
    "text": "could do today uh somewhere in there is also hidden an email address if you want to reach out to the team you can do that in",
    "start": "2339680",
    "end": "2346440"
  },
  {
    "text": "that on that address and lastly we did a podcast episode so if you hate reading",
    "start": "2346440",
    "end": "2352920"
  },
  {
    "text": "and want to hear me talk more that's one way of suffer for another hour so you",
    "start": "2352920",
    "end": "2358640"
  },
  {
    "text": "can do that if you want to uh it's mostly of what I covered here",
    "start": "2358640",
    "end": "2363920"
  },
  {
    "text": "although of course uh we didn't go as much into implementation and whatnot because audio",
    "start": "2363920",
    "end": "2370480"
  },
  {
    "start": "2370000",
    "end": "2457000"
  },
  {
    "text": "only that is it I have 20 minutes for questions if anyone has any questions or",
    "start": "2370480",
    "end": "2376119"
  },
  {
    "text": "thoughts uh let me know and uh yeah again thanks for thanks for",
    "start": "2376119",
    "end": "2382680"
  },
  {
    "text": "coming uh for the team that have enough test automation do you have dedicated QA",
    "start": "2394319",
    "end": "2400000"
  },
  {
    "text": "test automation or you just forcing the engineers to learn how to test their own code ah yeah great question so generally",
    "start": "2400000",
    "end": "2406400"
  },
  {
    "text": "speaking for uh most of our types of components so backend Services data",
    "start": "2406400",
    "end": "2412520"
  },
  {
    "text": "pipeline so on we typically don't do any manual QA uh there are a few exceptions",
    "start": "2412520",
    "end": "2418079"
  },
  {
    "text": "where we might have components that um integrate with some third-party partner",
    "start": "2418079",
    "end": "2424000"
  },
  {
    "text": "for example and we might need to go through a test Pro call with that partner is part of some you know something that is under um PCI or or or",
    "start": "2424000",
    "end": "2432680"
  },
  {
    "text": "something similar that in that case we will do manual QA the other exception is that for our mobile components uh we do",
    "start": "2432680",
    "end": "2442359"
  },
  {
    "text": "weekly release of our mobile apps and that goes through a manual re uh QA process as well but generally speaking",
    "start": "2442359",
    "end": "2449240"
  },
  {
    "text": "we rely very heavily on test automation um I maybe it wasn't clear I showed a",
    "start": "2449240",
    "end": "2455200"
  },
  {
    "text": "graph of our uh this one this shows the number of",
    "start": "2455200",
    "end": "2460800"
  },
  {
    "text": "deployments that we do and we do around two and a half thousand deployments per day so it would require a lot of testers",
    "start": "2460800",
    "end": "2470000"
  },
  {
    "text": "if we would do that with manual QA so that's why we rely so heavily on testation for where we",
    "start": "2470000",
    "end": "2477440"
  },
  {
    "text": "can and so you said that you every team has ownership of their own components",
    "start": "2479640",
    "end": "2485800"
  },
  {
    "text": "and Stone components but often it happens that when you put a lot of components",
    "start": "2485800",
    "end": "2491680"
  },
  {
    "text": "together that communication between them and so on results in integration errors",
    "start": "2491680",
    "end": "2497160"
  },
  {
    "text": "or misconceptions between teams and so on so how is your experience with the",
    "start": "2497160",
    "end": "2504960"
  },
  {
    "start": "2504000",
    "end": "2817000"
  },
  {
    "text": "testing after the team itself has uh completed their own testing and",
    "start": "2504960",
    "end": "2510960"
  },
  {
    "text": "with also these big changes that you make so how many errors happen",
    "start": "2510960",
    "end": "2516680"
  },
  {
    "text": "integration in the system as a whole yeah it's it's a great question unfortunately I'm not going to have a",
    "start": "2516680",
    "end": "2522079"
  },
  {
    "text": "particularly I might have a surprise thing but maybe not a good answer so what we do is that we lot of we focus",
    "start": "2522079",
    "end": "2529119"
  },
  {
    "text": "quite heavily on integration testing as part of the CI build and typically what",
    "start": "2529119",
    "end": "2534400"
  },
  {
    "text": "we do is I'm going to probably overuse backend Services as the example here but",
    "start": "2534400",
    "end": "2539480"
  },
  {
    "text": "if we if we use that example again if you take you take your backend services and you actually as part of your CI",
    "start": "2539480",
    "end": "2545119"
  },
  {
    "text": "testing you spin that up with um mocked dependencies around it so if you're",
    "start": "2545119",
    "end": "2551400"
  },
  {
    "text": "dependent on some other services you will mock those out and then you will issue a bunch of API calls as part of",
    "start": "2551400",
    "end": "2556520"
  },
  {
    "text": "your testing and then make sure that works what we don't do a lot of there we do in some rare cases but not a lot is",
    "start": "2556520",
    "end": "2564160"
  },
  {
    "text": "is is things like things like contract testing so we actually don't test this",
    "start": "2564160",
    "end": "2569920"
  },
  {
    "text": "graph at all basically and that was where I said it's it's surprising",
    "start": "2569920",
    "end": "2575760"
  },
  {
    "text": "because I would imagine that we would see a lot of failure cases where we",
    "start": "2575760",
    "end": "2581559"
  },
  {
    "text": "would just you know break backwards compatibility for for some API or whatnot but we actually have very very",
    "start": "2581559",
    "end": "2587480"
  },
  {
    "text": "few of those types of of failure cases and incidents uh we do have strong",
    "start": "2587480",
    "end": "2592839"
  },
  {
    "text": "conventions and rules around how we design apis to be backwards compatible and whatnot but I would still naively I",
    "start": "2592839",
    "end": "2599680"
  },
  {
    "text": "would expect this to break more than it does so we haven't because of that we haven't actually focused too much on on",
    "start": "2599680",
    "end": "2606880"
  },
  {
    "text": "like contact driven testing and and things like that um because it just works but we and this is where I'm",
    "start": "2606880",
    "end": "2613240"
  },
  {
    "text": "saying my answer is not the particular good one we don't actually know exactly why it works but it works surprisingly",
    "start": "2613240",
    "end": "2619920"
  },
  {
    "text": "well to be re to maybe the slightly less tongue and- cheek on thread is that I",
    "start": "2619920",
    "end": "2625359"
  },
  {
    "text": "think this is an area we should probably invest a bit more into and get better testing and uh better um real",
    "start": "2625359",
    "end": "2632160"
  },
  {
    "text": "integration testing like how components talk to each other",
    "start": "2632160",
    "end": "2637319"
  },
  {
    "text": "um hello just a quick question You' mentioned changes about yls and",
    "start": "2637319",
    "end": "2643720"
  },
  {
    "text": "structure stuff wouldn't it make sense to have them in a separate repo example yeah so",
    "start": "2643720",
    "end": "2651839"
  },
  {
    "text": "we do that as well in some cases um so to take an example we deploy all our um",
    "start": "2651839",
    "end": "2660359"
  },
  {
    "text": "backend Services into kubernetes we have um the or we've had I should say we're",
    "start": "2660359",
    "end": "2667599"
  },
  {
    "text": "actually moving away from that and this part of the answer we've had all the definitions of you know the name spaces",
    "start": "2667599",
    "end": "2673160"
  },
  {
    "text": "the quotas and whatnot have been in a single monor repository um and that's been great to",
    "start": "2673160",
    "end": "2679040"
  },
  {
    "text": "be able to make some of these changes unfortunately it's sort of breaks our ownership model because then there's",
    "start": "2679040",
    "end": "2684240"
  },
  {
    "text": "some team that has to take ownership for that monor repo and that monor repo turns into a mess because you have hundreds of teams contributing to it so",
    "start": "2684240",
    "end": "2692240"
  },
  {
    "text": "we have to have very strong validation test sweets for that and whatnot so typically what happens is",
    "start": "2692240",
    "end": "2699079"
  },
  {
    "text": "that we start up with that approach and then we discover after a few years that no we actually want to move this closer",
    "start": "2699079",
    "end": "2704440"
  },
  {
    "text": "to the code that uh it belongs to so for that particular monor repo that work is",
    "start": "2704440",
    "end": "2710680"
  },
  {
    "text": "happening as we speak we're splitting that up and we're uh moving like namespace declaration for declarations",
    "start": "2710680",
    "end": "2717800"
  },
  {
    "text": "for specific components to the repository for that component but it's a trade-off so in some cases we we have a",
    "start": "2717800",
    "end": "2724280"
  },
  {
    "text": "single big Repository um for everything and we can make Atomic changes within that repository still",
    "start": "2724280",
    "end": "2730880"
  },
  {
    "text": "with the controlled roll out and in most cases we have found that the way we work",
    "start": "2730880",
    "end": "2736839"
  },
  {
    "text": "in with our ownership model it works better to have basically everything livits close to the code of that thing",
    "start": "2736839",
    "end": "2742920"
  },
  {
    "text": "is possible uh because that's where it's getting most best maintained um and then we have",
    "start": "2742920",
    "end": "2749920"
  },
  {
    "text": "to apply this type of solution in order to for example the example I showed of like what um optimizing aut scaling we",
    "start": "2749920",
    "end": "2757960"
  },
  {
    "text": "have to to use something like this so it's a bit of a it's definitely a trade-off and I think if we would",
    "start": "2757960",
    "end": "2764200"
  },
  {
    "text": "imagine a world where we would be fully in a uh monor repo I think we can actually",
    "start": "2764200",
    "end": "2770440"
  },
  {
    "text": "achieve both of those because then we could have like kubernetes configuration live",
    "start": "2770440",
    "end": "2777400"
  },
  {
    "text": "together with the code that it belongs to but still be a singular postor so that's one of the one of the tradeoffs",
    "start": "2777400",
    "end": "2783920"
  },
  {
    "text": "that we're debating at the moment it's a great question it's like it's a very nuanced question it's not as easy as it",
    "start": "2783920",
    "end": "2789640"
  },
  {
    "text": "might seem um say you have one of these shifts",
    "start": "2789640",
    "end": "2796559"
  },
  {
    "text": "and they you get all these PRS some of them may emerge and this uh change gets",
    "start": "2796559",
    "end": "2804000"
  },
  {
    "text": "deployed yep and it starts failing um is there any way that you catch that and",
    "start": "2804000",
    "end": "2809319"
  },
  {
    "text": "then flag the shift as like okay this is bad don't continue with this like stop the other PRS from emerging",
    "start": "2809319",
    "end": "2816640"
  },
  {
    "text": "uh yes so uh yeah so in here I I sorry I",
    "start": "2816640",
    "end": "2822000"
  },
  {
    "start": "2817000",
    "end": "2902000"
  },
  {
    "text": "skipped over this it's a it's a good point uh so in here you can see there's a box in the middle that says",
    "start": "2822000",
    "end": "2827440"
  },
  {
    "text": "firewatch so that is exactly that thing so firewatch sits and watches all of",
    "start": "2827440",
    "end": "2833400"
  },
  {
    "text": "these shifts as they are rolled out and provides monitoring for the uh for the author the change author",
    "start": "2833400",
    "end": "2842280"
  },
  {
    "text": "so they can then uh pause the uh the roll out we have automated that yet that is actually uh work that is ongoing to",
    "start": "2842280",
    "end": "2849520"
  },
  {
    "text": "to automate that to automate the pausing I should say or like pacing of the roll out but but yeah it's something that it",
    "start": "2849520",
    "end": "2855520"
  },
  {
    "text": "uh firat offers today um and as I said",
    "start": "2855520",
    "end": "2860880"
  },
  {
    "text": "that I realized another thing that I sort of skipped over was that I mentioned that we have this like we have all these components and we have strong",
    "start": "2860880",
    "end": "2866440"
  },
  {
    "text": "ownership for them we apply that to shifts as well so a shift is just",
    "start": "2866440",
    "end": "2872079"
  },
  {
    "text": "another type of component and it has an owner so every one of these 130",
    "start": "2872079",
    "end": "2878079"
  },
  {
    "text": "something shifts that we've done as an owner and as a change owner they are responsible for monitoring the roll out",
    "start": "2878079",
    "end": "2884559"
  },
  {
    "text": "and taking care of the bugs and the edge cases that that they find during that roll out so that's part of this process",
    "start": "2884559",
    "end": "2893359"
  },
  {
    "text": "as more questions these are great",
    "start": "2895960",
    "end": "2900160"
  },
  {
    "text": "questions um I would like to ask that uh for every team or Squad they when they",
    "start": "2901160",
    "end": "2906240"
  },
  {
    "start": "2902000",
    "end": "3107000"
  },
  {
    "text": "uh adopt this Fleet think they need to do some work uh to to conform to this Protocols are there any teams that has",
    "start": "2906240",
    "end": "2913280"
  },
  {
    "text": "like really strong push backs that they okay we don't want to do this we want to manage it completely our own or like",
    "start": "2913280",
    "end": "2919200"
  },
  {
    "text": "most team are just happy to to accept these changes so there there were a few teams initially",
    "start": "2919200",
    "end": "2926839"
  },
  {
    "text": "um well let me put say it like this there's a there were some teams that we",
    "start": "2926839",
    "end": "2932200"
  },
  {
    "text": "allowed to opt out components from being Fleet managed and Ty typically the types",
    "start": "2932200",
    "end": "2937359"
  },
  {
    "text": "of components that were opted out initially were those that were under some particular regulatory requirements",
    "start": "2937359",
    "end": "2944040"
  },
  {
    "text": "so again PCI itgc something like that uh we're not a in a heavily regulated",
    "start": "2944040",
    "end": "2950240"
  },
  {
    "text": "business some of you might be so that's the small share of our Fleet that is that has those those types of regulatory",
    "start": "2950240",
    "end": "2956599"
  },
  {
    "text": "requirements and initially we couldn't support them uh through flep management so they had to opt out since then we've",
    "start": "2956599",
    "end": "2963760"
  },
  {
    "text": "actually fixed that so now you can do that and be compliant so now we're actually managing those as well and then",
    "start": "2963760",
    "end": "2970599"
  },
  {
    "text": "to your actual question yeah so there were a few teams that opted out things typically they wouldn't opt out all",
    "start": "2970599",
    "end": "2976640"
  },
  {
    "text": "their stuff it would be more like a few components that were in a particularly bad shape and maybe they were",
    "start": "2976640",
    "end": "2983520"
  },
  {
    "text": "decommissioning those components in a month or two or three so rather than you know fixing the test automation for them",
    "start": "2983520",
    "end": "2990640"
  },
  {
    "text": "they just wanted to decommission them instead uh and there were a few not that",
    "start": "2990640",
    "end": "2996240"
  },
  {
    "text": "many but there were a few teams that had strong opinions initially but I think most of those have removed their Opals",
    "start": "2996240",
    "end": "3003319"
  },
  {
    "text": "now because they're seeing the benefits that they're getting so I don't I don't I'm not exactly up to date we might have",
    "start": "3003319",
    "end": "3009240"
  },
  {
    "text": "a few of those hold UPS still but largely like I'm going to say 99% of our",
    "start": "3009240",
    "end": "3014359"
  },
  {
    "text": "teams and developers are happily opting in their components but we did yeah so maybe I",
    "start": "3014359",
    "end": "3020880"
  },
  {
    "text": "should have explained this to far so we what we did was typically when we roll out new structure spoify we do that op",
    "start": "3020880",
    "end": "3027280"
  },
  {
    "text": "in so we say hey here's a new great product that our infrastructure team is",
    "start": "3027280",
    "end": "3032720"
  },
  {
    "text": "offering your uh you can use that if you want and we want to have that mechanism",
    "start": "3032720",
    "end": "3039760"
  },
  {
    "text": "because that forces our infrastructure teams to build good products if they build crappy products no one will use",
    "start": "3039760",
    "end": "3045920"
  },
  {
    "text": "them and they won't be successful so we actually want normally want to have that",
    "start": "3045920",
    "end": "3051359"
  },
  {
    "text": "opin type of process with this stuff we actually took the opposite approach and we said we're",
    "start": "3051359",
    "end": "3058480"
  },
  {
    "text": "going to opt in everyone and if you're not okay with that you have to explicitly opt",
    "start": "3058480",
    "end": "3064359"
  },
  {
    "text": "out so you could opt out the opt out was a self-service like you just added yourself to a file in git somewhere and",
    "start": "3064359",
    "end": "3070280"
  },
  {
    "text": "your component was not going to be Fleet managed but but uh if you didn't at some",
    "start": "3070280",
    "end": "3076559"
  },
  {
    "text": "point in time you're going to be Fleet managed no matter what and that's a very very unusual Approach at Spotify and we",
    "start": "3076559",
    "end": "3082599"
  },
  {
    "text": "did it in this case just because the type of things that we wanted to solve like being able to to do security fixes",
    "start": "3082599",
    "end": "3090240"
  },
  {
    "text": "much more effectively and so on were so important that we were actually willing to sort of take that take the downsides",
    "start": "3090240",
    "end": "3096400"
  },
  {
    "text": "of having that type of approach",
    "start": "3096400",
    "end": "3102440"
  },
  {
    "text": "y um looking at your interesting dependency graph um in my experience",
    "start": "3102440",
    "end": "3109520"
  },
  {
    "start": "3107000",
    "end": "3297000"
  },
  {
    "text": "whenever you do something uh extreme like using a any",
    "start": "3109520",
    "end": "3114680"
  },
  {
    "text": "good design pattern or practice whatever if take it to extreme it can be dangerous because the drawbacks tend to",
    "start": "3114680",
    "end": "3122599"
  },
  {
    "text": "outweigh the benefits um with that in mind do do still think going microservices and",
    "start": "3122599",
    "end": "3131760"
  },
  {
    "text": "small independent components and all these things is uh the way you would do it if you would redo the whole thing you",
    "start": "3131760",
    "end": "3139640"
  },
  {
    "text": "learned something about uh microservices and architecture and so on on the way",
    "start": "3139640",
    "end": "3144720"
  },
  {
    "text": "yep uh uh so this is very core to to my my job day today uh this type of",
    "start": "3144720",
    "end": "3150359"
  },
  {
    "text": "question um so the the short easy answer would be that yes I we we still think",
    "start": "3150359",
    "end": "3157520"
  },
  {
    "text": "this is the right approach for us um and I'm boldly going to claim that I think",
    "start": "3157520",
    "end": "3164359"
  },
  {
    "text": "once you're at a scale with hundreds of like where we have maybe 600 teams or so",
    "start": "3164359",
    "end": "3169760"
  },
  {
    "text": "at this point and we're building one product that's an important part to sort of understand about Spotify is that we",
    "start": "3169760",
    "end": "3177200"
  },
  {
    "text": "have one product so all of these 600 teams essentially work on the same thing like you might be on the edge of that",
    "start": "3177200",
    "end": "3185160"
  },
  {
    "text": "product you might be working on you know some payment system or or what not that is not like maybe perceived as core of",
    "start": "3185160",
    "end": "3192839"
  },
  {
    "text": "the uh audio streaming experience but you're still like on that same big product so it's not that we have a bunch",
    "start": "3192839",
    "end": "3198680"
  },
  {
    "text": "of different siloed Parts in the company everyone's collaborating on the same thing which is also why you're seeing this highly connected graph",
    "start": "3198680",
    "end": "3206799"
  },
  {
    "text": "and I think in that context you have a large organization you have a lot of",
    "start": "3206799",
    "end": "3213240"
  },
  {
    "text": "traffic like we like we do there's we get several million RPS to our",
    "start": "3213240",
    "end": "3221319"
  },
  {
    "text": "services uh around the clock so in in that in that scenario I actually think this architecture makes a ton of sense",
    "start": "3221319",
    "end": "3228960"
  },
  {
    "text": "um there are many many other scenarios where you're very different company and I think this architecture might make",
    "start": "3228960",
    "end": "3234760"
  },
  {
    "text": "much less less sense to you but for us I think yes it it still makes sense and we're not aiming to make those types of",
    "start": "3234760",
    "end": "3243520"
  },
  {
    "text": "changes there are definitely changes that we want to make to our architecture um so for example when you look at this",
    "start": "3243520",
    "end": "3250160"
  },
  {
    "text": "graph you could imagine it would make sense to have a little bit more welldefined uh subsets of the graph that we could",
    "start": "3250160",
    "end": "3256799"
  },
  {
    "text": "reason about independently and maybe have more loose coupling so you could pull out pieces and and treat them",
    "start": "3256799",
    "end": "3262640"
  },
  {
    "text": "independently we're not really able to do that because it's so highly connected at the moment so uh we're doing some",
    "start": "3262640",
    "end": "3268040"
  },
  {
    "text": "work around structuring things into domains more clearly and maybe",
    "start": "3268040",
    "end": "3273200"
  },
  {
    "text": "introducing architectural constraints that will limit exactly how this dependency graph can can look but uh the",
    "start": "3273200",
    "end": "3281640"
  },
  {
    "text": "the small components the uh strong ownership practices I think we will keep",
    "start": "3281640",
    "end": "3287880"
  },
  {
    "text": "for a while so it's a great question and like it's very top of mind for us all the time to",
    "start": "3287880",
    "end": "3295240"
  },
  {
    "text": "sort of question what the hell we're doing hey um so my question kind of ties",
    "start": "3295240",
    "end": "3303319"
  },
  {
    "start": "3297000",
    "end": "3417000"
  },
  {
    "text": "into um like regardless of the culture and how strong the culture in terms of",
    "start": "3303319",
    "end": "3308960"
  },
  {
    "text": "technical technical maturity is in any organization you will have to deal with",
    "start": "3308960",
    "end": "3314400"
  },
  {
    "text": "various levels of maturity in in these teams and I you you guys are running",
    "start": "3314400",
    "end": "3319440"
  },
  {
    "text": "like some self-sufficient teams um and you are mentioning ownership are these",
    "start": "3319440",
    "end": "3325240"
  },
  {
    "text": "teams also owning um the risk tolerance or risk level that they expose",
    "start": "3325240",
    "end": "3330400"
  },
  {
    "text": "themselves via this uh like certain level of automation uh yes they do so in the end",
    "start": "3330400",
    "end": "3337640"
  },
  {
    "text": "they are fully accountable for their components so yeah that includes that as well so that was again one of the",
    "start": "3337640",
    "end": "3343480"
  },
  {
    "text": "reasons why we uh offer this opt out uh possibility for Fleet Management was",
    "start": "3343480",
    "end": "3349799"
  },
  {
    "text": "like if you have a typically would be like a component that were particularly critical and in a",
    "start": "3349799",
    "end": "3357079"
  },
  {
    "text": "particularly bad state that would typically the combination where people will opt them out and they would need to fix the bad State part of that but yes",
    "start": "3357079",
    "end": "3364400"
  },
  {
    "text": "teams would need to do that assessment on their own and take accountability for those decisions",
    "start": "3364400",
    "end": "3372160"
  },
  {
    "text": "sorry uh you mean Fleet Management yes you could you could yes you could say you could say",
    "start": "3372160",
    "end": "3378960"
  },
  {
    "text": "for your component that my uh my website is not going to be Fleet managed that",
    "start": "3378960",
    "end": "3384200"
  },
  {
    "text": "opt out had a deadline so like in 6 months you would have to reassess it but",
    "start": "3384200",
    "end": "3389240"
  },
  {
    "text": "yes that was completely self-service enough to each team if they wanted to do it in reality I think we",
    "start": "3389240",
    "end": "3396280"
  },
  {
    "text": "never I might lie now but I don't think we ever got over like having 1% of our components being opted out so it was",
    "start": "3396880",
    "end": "3403640"
  },
  {
    "text": "fairly few that were opted out even at the midst of the roll",
    "start": "3403640",
    "end": "3409839"
  },
  {
    "text": "out hi um one question would be how you work out this with breaking changes",
    "start": "3409839",
    "end": "3415559"
  },
  {
    "text": "because probably they will exist you mean in in in this growth or",
    "start": "3415559",
    "end": "3421760"
  },
  {
    "start": "3417000",
    "end": "3567000"
  },
  {
    "text": "in does the Fleet Management also works with breaking",
    "start": "3421760",
    "end": "3427280"
  },
  {
    "text": "changes because Automation and breaking changes is probably not a good fit yeah",
    "start": "3427280",
    "end": "3434720"
  },
  {
    "text": "it's a it's an awesome awesome question it's it was part of the reasons why we wanted to do this to begin with so and",
    "start": "3434720",
    "end": "3441400"
  },
  {
    "text": "again if we look at this graph this again happens to be back in services but you can apply this to any any other type of component each of these services",
    "start": "3441400",
    "end": "3448680"
  },
  {
    "text": "offer some sort of API like each of the uh edges in this graph shows someone",
    "start": "3448680",
    "end": "3454039"
  },
  {
    "text": "using the API of a different service so I mentioned before that we have",
    "start": "3454039",
    "end": "3460280"
  },
  {
    "text": "strong conventions and around How We Do API design so that you can make",
    "start": "3460280",
    "end": "3465880"
  },
  {
    "text": "non-breaking changes to your apis but every now and then to your point you have to make a breaking change and that",
    "start": "3465880",
    "end": "3472520"
  },
  {
    "text": "is super painful so the way way we do that as much as and this is not unique",
    "start": "3472520",
    "end": "3478280"
  },
  {
    "text": "for us I think is generally a practice used is that when we need to make a",
    "start": "3478280",
    "end": "3483760"
  },
  {
    "text": "breaking change you typically need to uh well obviously you need to offer",
    "start": "3483760",
    "end": "3489079"
  },
  {
    "text": "whatever your your um API users are supposed to move to and then you can make the switch and",
    "start": "3489079",
    "end": "3496799"
  },
  {
    "text": "that's where Fleet Management come comes in so we can identify the sort of call sites for your API which services are",
    "start": "3496799",
    "end": "3502880"
  },
  {
    "text": "are calling your API and then in some cases again this goes into that making complicated changes challenge that I",
    "start": "3502880",
    "end": "3509440"
  },
  {
    "text": "mentioned before but if those changes are doable to author a shift for then",
    "start": "3509440",
    "end": "3516720"
  },
  {
    "text": "you can do that and the way I mentioned that Google paper before and they reason around the same thing typically what you",
    "start": "3516720",
    "end": "3522760"
  },
  {
    "text": "find that you need to do is you can't make a complicated",
    "start": "3522760",
    "end": "3528480"
  },
  {
    "text": "API change in one one Atomic change so typically you",
    "start": "3528480",
    "end": "3533640"
  },
  {
    "text": "have to do it in multiple step steps and then the API publisher will need to expose apis that allows for that gradual",
    "start": "3533640",
    "end": "3540799"
  },
  {
    "text": "shift over so basically you need to design your API change in a way that is",
    "start": "3540799",
    "end": "3545960"
  },
  {
    "text": "automatable and this we've only so far done for for a limited number of cases",
    "start": "3545960",
    "end": "3551079"
  },
  {
    "text": "so it's not something we have a ton of experience with but it's exactly one of those things that we want to learn and get better at going",
    "start": "3551079",
    "end": "3558520"
  },
  {
    "text": "forward cool I don't know where we are on time one more minute last",
    "start": "3560000",
    "end": "3567039"
  },
  {
    "start": "3567000",
    "end": "3599000"
  },
  {
    "text": "question um just a quick question about this graft um how do you find dead",
    "start": "3568400",
    "end": "3573720"
  },
  {
    "text": "branches on this like services that are part of features that are no longer used",
    "start": "3573720",
    "end": "3579400"
  },
  {
    "text": "maybe them have traffic by themselves but they are dead in general yep uh so",
    "start": "3579400",
    "end": "3587039"
  },
  {
    "text": "the the question the short answer is poorly I think uh so that is something",
    "start": "3587039",
    "end": "3593119"
  },
  {
    "text": "that we want to get better at and what we have one of the things that we're lacking today is a good so this",
    "start": "3593119",
    "end": "3600559"
  },
  {
    "text": "again shows dependencies within our backend ecosystem I could show you a similar graph for dependencies within",
    "start": "3600559",
    "end": "3606720"
  },
  {
    "text": "our data ecosystem and within our client ecosystem what we lack is a good understanding of how those fits together",
    "start": "3606720",
    "end": "3613599"
  },
  {
    "text": "so for example in our case because so much of our API traffic comes from our clients the most important thing to look",
    "start": "3613599",
    "end": "3621319"
  },
  {
    "text": "at would be the dependency graph between clients and backend but we basically lack that instrumentation today so we",
    "start": "3621319",
    "end": "3626839"
  },
  {
    "text": "can't really we can't actually answer your question in a really good way today what we can do is to look at sort of",
    "start": "3626839",
    "end": "3633200"
  },
  {
    "text": "more naive signals of like what's the RPS the service gets and because we have all of this in big quer as I mentioned",
    "start": "3633200",
    "end": "3638799"
  },
  {
    "text": "before we can actually do pretty Advanced analysis on top of that using like normal graph analysis uh algorithms",
    "start": "3638799",
    "end": "3645760"
  },
  {
    "text": "so that's ways that we can identify I'm going to say candidates for for dead",
    "start": "3645760",
    "end": "3651240"
  },
  {
    "text": "parts of this graph but it's not particularly precise and it does require a fair amount of manual human analysis",
    "start": "3651240",
    "end": "3658319"
  },
  {
    "text": "to do that today so that is something we want to improve and we in particular we want to improve this like understanding",
    "start": "3658319",
    "end": "3665960"
  },
  {
    "text": "of uh some feature in our clients what does",
    "start": "3665960",
    "end": "3672200"
  },
  {
    "text": "that call into in this graph and that's a a bit of a blind spot to us",
    "start": "3672200",
    "end": "3678720"
  },
  {
    "text": "today cool you had a lot of good questions uh I'm going to stick around for a few few minutes uh so feel free to",
    "start": "3678720",
    "end": "3685000"
  },
  {
    "text": "come forward if you want to chat more otherwise thanks a ton for coming and thanks for the",
    "start": "3685000",
    "end": "3691400"
  },
  {
    "text": "questions",
    "start": "3700920",
    "end": "3703920"
  }
]