[
  {
    "text": "so welcome I am really happy that you're all here",
    "start": "4880",
    "end": "11519"
  },
  {
    "text": "because we can't take that for granted I guess a lot of you uh got your ticket",
    "start": "11519",
    "end": "17520"
  },
  {
    "text": "on the NDC webpage you registered and you paid and then you used the check-in service",
    "start": "17520",
    "end": "24180"
  },
  {
    "text": "some years ago a friend of mine was a check-in event administrator",
    "start": "24180",
    "end": "29820"
  },
  {
    "text": "check-in had just read on their entire webpage and he realized that he could add any",
    "start": "29820",
    "end": "36480"
  },
  {
    "text": "other checking user as an even an event administrator",
    "start": "36480",
    "end": "42120"
  },
  {
    "text": "not only that he could also change their details like their email address",
    "start": "42120",
    "end": "47579"
  },
  {
    "text": "and just imagine if he had found the NDC account administrator this year",
    "start": "47579",
    "end": "56820"
  },
  {
    "text": "and hijacked the user by changing the email address doing a password reset",
    "start": "56820",
    "end": "62940"
  },
  {
    "text": "and then changing the bank account number for NDC payouts",
    "start": "62940",
    "end": "69180"
  },
  {
    "text": "or deleting all the registered participants maybe there wouldn't be any money",
    "start": "69180",
    "end": "74460"
  },
  {
    "text": "for NDC maybe there wouldn't have been an NDC at all so luckily that was reported and fixed",
    "start": "74460",
    "end": "82259"
  },
  {
    "text": "my name is halvor soccer I'm the application security lead at Forester",
    "start": "82259",
    "end": "88140"
  },
  {
    "text": "you may not know four star it's a merger last year of three different companies",
    "start": "88140",
    "end": "93540"
  },
  {
    "text": "one of them is the old Norwegian software company confirm it and I've been working there now for 10",
    "start": "93540",
    "end": "100020"
  },
  {
    "text": "years uh previously developer now I only work with application security Trying to",
    "start": "100020",
    "end": "105780"
  },
  {
    "text": "minimize the number of vulnerabilities doing scanning administering",
    "start": "105780",
    "end": "111860"
  },
  {
    "text": "penetration testing also doing a lot of testing myself",
    "start": "111860",
    "end": "117240"
  },
  {
    "text": "and my favorite thing is broken Access Control because as you will understand today",
    "start": "117240",
    "end": "124200"
  },
  {
    "text": "it's something that kind of falls through all the cracks it's very often overlooked",
    "start": "124200",
    "end": "130140"
  },
  {
    "text": "and it's quite fun to find it so broken Access Control",
    "start": "130140",
    "end": "137940"
  },
  {
    "text": "it's pretty much like this perfect picture does anyone see what's wrong here",
    "start": "137940",
    "end": "143780"
  },
  {
    "text": "anyone well this is discrimination against people who can walk stairs but can't",
    "start": "143940",
    "end": "149580"
  },
  {
    "text": "climb of course I would not try to move a piano past this door",
    "start": "149580",
    "end": "156000"
  },
  {
    "text": "but of course like the good people we are we don't do the climb because this is",
    "start": "156000",
    "end": "162959"
  },
  {
    "text": "like a sign really saying no trespassing but this is actually how a lot of web",
    "start": "162959",
    "end": "169080"
  },
  {
    "text": "applications are because we haven't really fixed access control or we think we have but then there are these",
    "start": "169080",
    "end": "176879"
  },
  {
    "text": "what if I try this URI there are all these little things that we get wrong",
    "start": "176879",
    "end": "184099"
  },
  {
    "text": "so the real problem of course is that the door isn't locked but nobody bothered",
    "start": "185580",
    "end": "191940"
  },
  {
    "text": "checking so broken Access Control does anyone know which position it has",
    "start": "191940",
    "end": "198720"
  },
  {
    "text": "in the latest edition of the ovas top 10.",
    "start": "198720",
    "end": "204140"
  },
  {
    "text": "it's number one that's where our first SQL injection used to be and then injection and now we",
    "start": "205739",
    "end": "212580"
  },
  {
    "text": "have broken Access Control it's not just one thing it's actually if",
    "start": "212580",
    "end": "217680"
  },
  {
    "text": "you see this list it's 34 different things I'm not going to cover all of them I'm going to focus on what's called",
    "start": "217680",
    "end": "223860"
  },
  {
    "text": "idor or insecure direct object reference it's also called Bola broken object",
    "start": "223860",
    "end": "231420"
  },
  {
    "text": "level authorization these are the same thing but the latter one is often used for apis and someone's tried to kind of",
    "start": "231420",
    "end": "238319"
  },
  {
    "text": "move to a different term but of course as we know everyone will just stick with the old one so it's about like a URI you have access",
    "start": "238319",
    "end": "247319"
  },
  {
    "text": "to a certain resource you can try to change it see if you have access to another resource",
    "start": "247319",
    "end": "252959"
  },
  {
    "text": "and a lot of times you can so it's about authorization",
    "start": "252959",
    "end": "259979"
  },
  {
    "text": "what's authorization it's the function of specifying access rights or privileges to users",
    "start": "259979",
    "end": "268199"
  },
  {
    "text": "jumping down a bit during operation the system uses the access control rules to",
    "start": "268199",
    "end": "273900"
  },
  {
    "text": "decide whether axis requests from authenticated consumers shall be approved or disapproved",
    "start": "273900",
    "end": "281460"
  },
  {
    "text": "that's at least the theory when I test I often find that not to be true it's true",
    "start": "281460",
    "end": "287220"
  },
  {
    "text": "a lot of times but a lot of times also it's not true",
    "start": "287220",
    "end": "292759"
  },
  {
    "text": "so speaker tip is it a good thing to read from a Wikipedia article",
    "start": "293699",
    "end": "299580"
  },
  {
    "text": "well it's better than being sloppy in your definitions I try directly to Define authorization in the previous",
    "start": "299580",
    "end": "305639"
  },
  {
    "text": "talk and once one of the authorities on the subject was in the audience and quickly",
    "start": "305639",
    "end": "311820"
  },
  {
    "text": "corrected me so get your definitions correct",
    "start": "311820",
    "end": "317060"
  },
  {
    "text": "so let's say you ordered something online and um this is the path that you can see",
    "start": "317759",
    "end": "323940"
  },
  {
    "text": "in the address line in your browser now are you ever attempted to change it",
    "start": "323940",
    "end": "329580"
  },
  {
    "text": "just a little bit you should see if you can see some other orders",
    "start": "329580",
    "end": "335759"
  },
  {
    "text": "because if you can see other people's orders or whatever resource it is well",
    "start": "335759",
    "end": "340800"
  },
  {
    "text": "then they can see yours then you can see your data",
    "start": "340800",
    "end": "346220"
  },
  {
    "text": "so let's say that same thing with users like I say my profile and I see users",
    "start": "347039",
    "end": "354419"
  },
  {
    "text": "like 542. it's apparently my ID now if I see this I think why didn't",
    "start": "354419",
    "end": "360120"
  },
  {
    "text": "they use current user that would be much more sensible because then they wouldn't even need to tell me",
    "start": "360120",
    "end": "365820"
  },
  {
    "text": "which user ID I have because I don't need that so if you want to test in this case",
    "start": "365820",
    "end": "373440"
  },
  {
    "text": "what do you do well the solution is to take this number and take plus one",
    "start": "373440",
    "end": "381419"
  },
  {
    "text": "so that's the entire Foundation of this type of testing the foundation is to take plus one",
    "start": "381419",
    "end": "386759"
  },
  {
    "text": "and I can promise you that if you go plus one in a lot of places you will likely find something",
    "start": "386759",
    "end": "393120"
  },
  {
    "text": "which you shouldn't find I think you get the picture",
    "start": "393120",
    "end": "398240"
  },
  {
    "text": "so a lot of times it's just about changing a number in the URI",
    "start": "398520",
    "end": "406440"
  },
  {
    "text": "you know what my five-year-old can do that yes I actually have a five-year-old and she can do it",
    "start": "406440",
    "end": "412620"
  },
  {
    "text": "but a lot of times it's of course it's a bit more complicated it's not everything that can be changed",
    "start": "412620",
    "end": "418380"
  },
  {
    "text": "just in URI like API requests often have to have some certain headers that the",
    "start": "418380",
    "end": "423660"
  },
  {
    "text": "browser will set and then you will need a web proxy also if you need to set certain headers or",
    "start": "423660",
    "end": "429900"
  },
  {
    "text": "change the verb a web proxy is pretty much a pit stop for request you stop it you change something you pass it on",
    "start": "429900",
    "end": "437520"
  },
  {
    "text": "and you need one to do a lot of authorization testing",
    "start": "437520",
    "end": "443240"
  },
  {
    "text": "so are you allowed to change the URI are you allowed to view the source of a",
    "start": "444000",
    "end": "450720"
  },
  {
    "text": "web page well people have been threatened with court cases in both of these in any cases",
    "start": "450720",
    "end": "457979"
  },
  {
    "text": "um I don't think anyone has ever been had a ruling against them for changing a",
    "start": "457979",
    "end": "463919"
  },
  {
    "text": "URI or viewing the source web page but well rather test something you're allowed to",
    "start": "463919",
    "end": "470340"
  },
  {
    "text": "test of course but I sometimes do it but some actual legal advice",
    "start": "470340",
    "end": "477240"
  },
  {
    "text": "if you have done the plus one and you found something interesting stop there",
    "start": "477240",
    "end": "482520"
  },
  {
    "text": "and you can you should also report if you dare it's mostly okay these days",
    "start": "482520",
    "end": "489060"
  },
  {
    "text": "what you should not do um is like test all the other numbers",
    "start": "489060",
    "end": "495419"
  },
  {
    "text": "don't script it don't script it to get all the data don't even script it to",
    "start": "495419",
    "end": "500940"
  },
  {
    "text": "kind of make an estimate of how long it would take to get all the data sometimes the plus one isn't enough",
    "start": "500940",
    "end": "508139"
  },
  {
    "text": "and that's kind of if you see that well the plus one oh yeah I think I have permission to that object already yeah then you do",
    "start": "508139",
    "end": "514560"
  },
  {
    "text": "like a minus 100 or a plus a thousand and you yeah if you still don't know then you do one more but you do the",
    "start": "514560",
    "end": "520740"
  },
  {
    "text": "minimum and don't do it on a competitor",
    "start": "520740",
    "end": "526880"
  },
  {
    "text": "so I like to speak about security and I do that at work this is kind of part of training Developers",
    "start": "527760",
    "end": "534060"
  },
  {
    "text": "and of course good thing about speaking about security is that my colleagues know that I like to find",
    "start": "534060",
    "end": "540839"
  },
  {
    "text": "bugs and vulnerabilities and so one of my colleagues sent me an",
    "start": "540839",
    "end": "547320"
  },
  {
    "text": "interesting hack request that was actually the subject of the email he had booked a cabin",
    "start": "547320",
    "end": "555420"
  },
  {
    "text": "he said like all the good holiday cabins are on this site it's old it's terrible",
    "start": "555420",
    "end": "561480"
  },
  {
    "text": "it's probably it's vulnerable but you had to use it to get to the good cabins",
    "start": "561480",
    "end": "567660"
  },
  {
    "text": "so he sent me this um I quickly found out that there were no numerous vulnerabilities on this site",
    "start": "567660",
    "end": "574800"
  },
  {
    "text": "so I'm not going to show it because they are still there and we reported it and they just just didn't understand vulnerability",
    "start": "574800",
    "end": "581399"
  },
  {
    "text": "and what that meant and what they should do so we kind of just gave up but it's still there it's bad still",
    "start": "581399",
    "end": "588720"
  },
  {
    "text": "so as you can see this is the path for the booking contract or the",
    "start": "588720",
    "end": "595200"
  },
  {
    "text": "cabin contract which says has some information about the cabin naturally like that's public",
    "start": "595200",
    "end": "601560"
  },
  {
    "text": "information on the website anyway but of course his contract would say when how",
    "start": "601560",
    "end": "606600"
  },
  {
    "text": "do you booked the cabin it also had information about him his name his phone number his email address",
    "start": "606600",
    "end": "613640"
  },
  {
    "text": "uh did I say home address yeah and also the name and age of everyone who would",
    "start": "613640",
    "end": "619140"
  },
  {
    "text": "be going to the cabin and pets",
    "start": "619140",
    "end": "624440"
  },
  {
    "text": "and what I found was that well if I try to take a higher number I can see other",
    "start": "625200",
    "end": "630540"
  },
  {
    "text": "future bookings if I take a lower number I can see past bookings and I can I still can",
    "start": "630540",
    "end": "637260"
  },
  {
    "text": "what's interesting about this well it's personal data or in many",
    "start": "637260",
    "end": "642360"
  },
  {
    "text": "places in the world there are laws about leaking personal data so",
    "start": "642360",
    "end": "648240"
  },
  {
    "text": "and also if he goes there yeah also the number of vehicles you had to Define in the contract",
    "start": "648240",
    "end": "654420"
  },
  {
    "text": "um someone would know that you're not at home and that your guard dog is not at home and they could relieve you of your",
    "start": "654420",
    "end": "660720"
  },
  {
    "text": "valuables at home so there could be real world consequences so things like this",
    "start": "660720",
    "end": "667019"
  },
  {
    "text": "another one parlor social media mainly for right-wing and Trump supporters",
    "start": "667019",
    "end": "674640"
  },
  {
    "text": "um of course frequently used in and around the January 6th storming of the capital",
    "start": "674640",
    "end": "681000"
  },
  {
    "text": "last year um right after this event Let's do let's",
    "start": "681000",
    "end": "688980"
  },
  {
    "text": "call it that there were talks about data from parlor",
    "start": "688980",
    "end": "694260"
  },
  {
    "text": "being leaked online and I also remember there were rumors that someone had hacked parlor and to do",
    "start": "694260",
    "end": "702180"
  },
  {
    "text": "so they had hacked some SMA sms-based two-factor Authentication",
    "start": "702180",
    "end": "708779"
  },
  {
    "text": "no they had not because the Parlor posts they had numeric IDs so someone just",
    "start": "708779",
    "end": "715740"
  },
  {
    "text": "scraped all the data and if you just accessed all the posts",
    "start": "715740",
    "end": "721440"
  },
  {
    "text": "you could also see the deleted posts and images and videos had GPS",
    "start": "721440",
    "end": "726720"
  },
  {
    "text": "coordinates uh so they claimed that 99 of the data",
    "start": "726720",
    "end": "732180"
  },
  {
    "text": "was posted online the data was used in the second impeachment of Donald Trump",
    "start": "732180",
    "end": "738300"
  },
  {
    "text": "it's likely still being used in courts today so when we hear about a hack",
    "start": "738300",
    "end": "746220"
  },
  {
    "text": "we often think that there was some really Advanced black magic hacking there are some people they socially",
    "start": "746220",
    "end": "752640"
  },
  {
    "text": "engineered some people then they chained three different vulnerabilities well if you're user 542 what about user",
    "start": "752640",
    "end": "760320"
  },
  {
    "text": "one who's that typically the administrator",
    "start": "760320",
    "end": "765899"
  },
  {
    "text": "and what if you can just change the email address of the administrator do a password reset",
    "start": "765899",
    "end": "772139"
  },
  {
    "text": "and just log in there's no longer a question of what you can do the question now is what can you not do because you",
    "start": "772139",
    "end": "778980"
  },
  {
    "text": "can do pretty much anything in the system so I've been a developer I've been",
    "start": "778980",
    "end": "785160"
  },
  {
    "text": "working on systems and I've seen kind of how things evolve and how we struggle with authorization",
    "start": "785160",
    "end": "792060"
  },
  {
    "text": "after a while but let's say that we have a system we start with perfect authorization of",
    "start": "792060",
    "end": "798899"
  },
  {
    "text": "course in this in the start the system is simple so we can actually get perfect",
    "start": "798899",
    "end": "804000"
  },
  {
    "text": "authorization so we have this system we have like one type of objects we have one type of",
    "start": "804000",
    "end": "809700"
  },
  {
    "text": "users and we have an administrator Maybe adding more objects of the same type",
    "start": "809700",
    "end": "816660"
  },
  {
    "text": "adding more users doesn't change anything because it's not about the number of that type of object because",
    "start": "816660",
    "end": "824160"
  },
  {
    "text": "that object type has authorization what happens to our systems is of course",
    "start": "824160",
    "end": "831240"
  },
  {
    "text": "that we get some change requests to make this useful and to sell more or to retain our customers we",
    "start": "831240",
    "end": "838320"
  },
  {
    "text": "need to do certain things to our systems so we start to change it like group users into like",
    "start": "838320",
    "end": "846360"
  },
  {
    "text": "friends or companies or whatever that share something and do not share other",
    "start": "846360",
    "end": "852060"
  },
  {
    "text": "things we create another object type that has some relation to another object",
    "start": "852060",
    "end": "857459"
  },
  {
    "text": "type maybe if you can see one you should also have access to the other so the Rules start to get a bit more",
    "start": "857459",
    "end": "863940"
  },
  {
    "text": "complicated more requests we add another object type",
    "start": "863940",
    "end": "869459"
  },
  {
    "text": "with even more advanced relations like yeah",
    "start": "869459",
    "end": "875160"
  },
  {
    "text": "and we add another user level and why do we do this well maybe because",
    "start": "875160",
    "end": "881339"
  },
  {
    "text": "the sales department wanted to license more users of a certain type and yeah",
    "start": "881339",
    "end": "888600"
  },
  {
    "text": "figured out the clients would would spend more with us if we did this so yeah we just have to comply with this",
    "start": "888600",
    "end": "895680"
  },
  {
    "text": "request we add another user level and they should have access to some",
    "start": "895680",
    "end": "901560"
  },
  {
    "text": "objects so we add another permission system to comply with that",
    "start": "901560",
    "end": "907220"
  },
  {
    "text": "and then what also happens of course mergers and acquisitions",
    "start": "907800",
    "end": "914959"
  },
  {
    "text": "we have two systems from two different companies now they need to be won and we need to",
    "start": "915180",
    "end": "922380"
  },
  {
    "text": "make them one in a record time and we already know that we have trouble",
    "start": "922380",
    "end": "928019"
  },
  {
    "text": "with authorization now we have big trouble so this is about the time we just give",
    "start": "928019",
    "end": "934079"
  },
  {
    "text": "up we know we should check stuff but we aren't really we know that yeah",
    "start": "934079",
    "end": "940019"
  },
  {
    "text": "it should be better should be a lot better",
    "start": "940019",
    "end": "945199"
  },
  {
    "text": "so when we start testing it what happens",
    "start": "948180",
    "end": "953300"
  },
  {
    "text": "so let's say we have two users Alice and Bob in this system now they're separated or should be",
    "start": "953699",
    "end": "960540"
  },
  {
    "text": "separated from each other and they need to authenticate to access the system",
    "start": "960540",
    "end": "965699"
  },
  {
    "text": "Alice creates some objects they're only for her to see fine",
    "start": "965699",
    "end": "971459"
  },
  {
    "text": "Bob creates an object and he wants to share his object with Alice",
    "start": "971459",
    "end": "977279"
  },
  {
    "text": "so she gets to read permission but it turns out of course that",
    "start": "977279",
    "end": "983519"
  },
  {
    "text": "when that was implemented I didn't really restrict it with the",
    "start": "983519",
    "end": "989220"
  },
  {
    "text": "code was too complex so actually Alice can also update this",
    "start": "989220",
    "end": "994320"
  },
  {
    "text": "object well if you look in the UI there is no option to update but if you just try",
    "start": "994320",
    "end": "1000259"
  },
  {
    "text": "like change the request a bit you can",
    "start": "1000259",
    "end": "1006639"
  },
  {
    "text": "Bob create some other objects and these have some other code what can Alice do with them",
    "start": "1008060",
    "end": "1014240"
  },
  {
    "text": "well Alice can delete the blue objects why well maybe delete was the last thing we",
    "start": "1014240",
    "end": "1021259"
  },
  {
    "text": "implemented at the time we needed to rush this new functionality out",
    "start": "1021259",
    "end": "1028699"
  },
  {
    "text": "we were going to do this later yeah the green object she can do anything",
    "start": "1028699",
    "end": "1035780"
  },
  {
    "text": "I'll come back to why Charlie is also in this system",
    "start": "1035780",
    "end": "1041720"
  },
  {
    "text": "he is in a different company or a different something different tenant should be totally separate",
    "start": "1041720",
    "end": "1048939"
  },
  {
    "text": "but Alice can also read or see one of his objects why well maybe because",
    "start": "1049580",
    "end": "1056380"
  },
  {
    "text": "support or Services needed to see certain objects across different tenants",
    "start": "1056380",
    "end": "1063080"
  },
  {
    "text": "and yeah code was complex somebody screwed up anyone can see this",
    "start": "1063080",
    "end": "1069260"
  },
  {
    "text": "the green object what's the problem it doesn't require authentication anyone",
    "start": "1069260",
    "end": "1075860"
  },
  {
    "text": "on the internet can see it can update it can delete it",
    "start": "1075860",
    "end": "1082039"
  },
  {
    "text": "so does this happen well you can go and look at my talk from NDC five years ago",
    "start": "1082039",
    "end": "1088940"
  },
  {
    "text": "there was a system I was had been testing probably had like 50 or 60 000",
    "start": "1088940",
    "end": "1094100"
  },
  {
    "text": "Norwegians registered in it there was no authentication on getting",
    "start": "1094100",
    "end": "1099320"
  },
  {
    "text": "or looking at the user details which included like phone number home address email address and a few other things",
    "start": "1099320",
    "end": "1106220"
  },
  {
    "text": "well it was even more interesting was that the same thing applied to changing password",
    "start": "1106220",
    "end": "1112520"
  },
  {
    "text": "and it didn't require you to enter the existing password which meant anyone on the internet could",
    "start": "1112520",
    "end": "1119360"
  },
  {
    "text": "hijack any user in the system if they just knew what the request would look like",
    "start": "1119360",
    "end": "1125679"
  },
  {
    "text": "so to control user access we set permissions",
    "start": "1126919",
    "end": "1131960"
  },
  {
    "text": "and we have to remember that when we introduced permissions we also need to secure the permissioning system",
    "start": "1131960",
    "end": "1140379"
  },
  {
    "text": "so to set permissions we typically need to Define three things which object are",
    "start": "1140840",
    "end": "1145940"
  },
  {
    "text": "we setting the permissions on which permission are we setting of course and for which user",
    "start": "1145940",
    "end": "1153980"
  },
  {
    "text": "and all of these have their little interesting properties if",
    "start": "1153980",
    "end": "1160340"
  },
  {
    "text": "we can if we don't restrict Which object we can set permissions on",
    "start": "1160340",
    "end": "1166100"
  },
  {
    "text": "well then we complicate things just a little bit for people who check for broken access",
    "start": "1166100",
    "end": "1172460"
  },
  {
    "text": "control because if I can't access their object directly maybe I can just assign myself",
    "start": "1172460",
    "end": "1178039"
  },
  {
    "text": "permissions to the object like it's just one more step and then I can go look at that object",
    "start": "1178039",
    "end": "1185799"
  },
  {
    "text": "what if I like here have the read-only permissions but I can overwrite that",
    "start": "1186260",
    "end": "1191480"
  },
  {
    "text": "permission with another permission it's called escalation or privilege maybe I can be",
    "start": "1191480",
    "end": "1196760"
  },
  {
    "text": "get the right permission or an administrate permission that would be interesting",
    "start": "1196760",
    "end": "1203059"
  },
  {
    "text": "or the last one what if I could take my object and I could add any user to it",
    "start": "1203059",
    "end": "1210820"
  },
  {
    "text": "is that a problem can't I give permission to anyone",
    "start": "1210860",
    "end": "1217240"
  },
  {
    "text": "well probably I can't in most systems like in a social media you can probably just",
    "start": "1218360",
    "end": "1223580"
  },
  {
    "text": "like add your friends in a work app you can probably only add",
    "start": "1223580",
    "end": "1228679"
  },
  {
    "text": "people from your company I've seen this a few times that I can add any user",
    "start": "1228679",
    "end": "1235460"
  },
  {
    "text": "and of course the app needs to populate this table with some data from the API and",
    "start": "1235460",
    "end": "1242360"
  },
  {
    "text": "what I typically see is something like this getting the username the full name the email address the company ID and the",
    "start": "1242360",
    "end": "1249620"
  },
  {
    "text": "company name of other people which of course could be",
    "start": "1249620",
    "end": "1255020"
  },
  {
    "text": "personal data so we have gdpr in here we also learn about our competitors in some",
    "start": "1255020",
    "end": "1261740"
  },
  {
    "text": "cases and how many users they have which could be interesting and maybe if",
    "start": "1261740",
    "end": "1267860"
  },
  {
    "text": "we were in hacker we could um look up their email addresses see if we could find leaked passwords online try",
    "start": "1267860",
    "end": "1274760"
  },
  {
    "text": "to log in as our competitor users and if that won't work maybe we just",
    "start": "1274760",
    "end": "1280520"
  },
  {
    "text": "lock them out too bad",
    "start": "1280520",
    "end": "1283780"
  },
  {
    "text": "and what's in your logs so if you test for broken Access Control",
    "start": "1285559",
    "end": "1292299"
  },
  {
    "text": "all the kind of the from the hacker perspective all the failures where we are denied access",
    "start": "1292880",
    "end": "1298820"
  },
  {
    "text": "they might show up in the log but all the successes when you actually",
    "start": "1298820",
    "end": "1304039"
  },
  {
    "text": "get to data you shouldn't get to I think in almost all cases the logs",
    "start": "1304039",
    "end": "1310460"
  },
  {
    "text": "will just say yeah this user got that data okay 200 okay",
    "start": "1310460",
    "end": "1315860"
  },
  {
    "text": "so if you need to find out who accessed what good luck",
    "start": "1315860",
    "end": "1320799"
  },
  {
    "text": "so it's a problem and we need to test to get this right but testing isn't that",
    "start": "1321380",
    "end": "1327679"
  },
  {
    "text": "easy so let's say we have one object which has an API endpoint",
    "start": "1327679",
    "end": "1333140"
  },
  {
    "text": "and this API has supports different verbs like in this case six different verbs",
    "start": "1333140",
    "end": "1339320"
  },
  {
    "text": "head and options probably don't give much but they could leak some data or at least existence of data which could be",
    "start": "1339320",
    "end": "1345559"
  },
  {
    "text": "interesting in some cases so just this one object",
    "start": "1345559",
    "end": "1353539"
  },
  {
    "text": "to test everything there we will need six tests",
    "start": "1353539",
    "end": "1358580"
  },
  {
    "text": "and we might have some different user types and I use the the term user type here that could mean different things it",
    "start": "1358580",
    "end": "1364700"
  },
  {
    "text": "could mean permission levels could mean user levels or Scopes or whatever applies in different apps just like",
    "start": "1364700",
    "end": "1372260"
  },
  {
    "text": "different users like who are at different levels and should see different things",
    "start": "1372260",
    "end": "1377299"
  },
  {
    "text": "and like in the same tenant so we not only have six tests to do we",
    "start": "1377299",
    "end": "1384380"
  },
  {
    "text": "now have 18 if we have three different user types and what about users in another company",
    "start": "1384380",
    "end": "1391460"
  },
  {
    "text": "should test that as well so we'd pretty much double it we have 36 tests to do",
    "start": "1391460",
    "end": "1397039"
  },
  {
    "text": "and this object is also exposed with another endpoint with limited functionality",
    "start": "1397039",
    "end": "1402500"
  },
  {
    "text": "now we almost have almost 50 tests to do and that's just for one object",
    "start": "1402500",
    "end": "1409100"
  },
  {
    "text": "how many objects do you have well it could be a lot so it's a lot of tests to do",
    "start": "1409100",
    "end": "1415900"
  },
  {
    "text": "and there is more found this on Twitter by someone called mufadal a lot of other ideas for idor",
    "start": "1416900",
    "end": "1425360"
  },
  {
    "text": "testing like yeah like some of them here I think",
    "start": "1425360",
    "end": "1430760"
  },
  {
    "text": "we already covered like changing the verb you could change the request content type you could uh",
    "start": "1430760",
    "end": "1437679"
  },
  {
    "text": "put the ID in an array yeah a lot of different things you could",
    "start": "1437679",
    "end": "1442880"
  },
  {
    "text": "do this is probably not everything either there are a lot of other examples you probably don't need to repeat these",
    "start": "1442880",
    "end": "1449419"
  },
  {
    "text": "for all like like all the 48 you don't need to kind of double that or anything",
    "start": "1449419",
    "end": "1455780"
  },
  {
    "text": "this could be like some more random tests but still there's a lot more to test so that doesn't really work",
    "start": "1455780",
    "end": "1463960"
  },
  {
    "text": "but how did we get here I'm going to split this out on different",
    "start": "1464720",
    "end": "1469880"
  },
  {
    "text": "functions um and I think it kind of pretty much comes down to we're being too optimistic",
    "start": "1469880",
    "end": "1475460"
  },
  {
    "text": "and people or things are not doing their job so let's start on the top here with the product manager I know the product",
    "start": "1475460",
    "end": "1482360"
  },
  {
    "text": "managers are very different in their roles some of them write user stories and they",
    "start": "1482360",
    "end": "1488240"
  },
  {
    "text": "would write things like this as a user I want to update my profile so that I can change my information",
    "start": "1488240",
    "end": "1495380"
  },
  {
    "text": "the happy case typically they don't write the Opposites",
    "start": "1495380",
    "end": "1500720"
  },
  {
    "text": "like as a user I don't want anyone else to access my profile so that they can see modify or delete my information",
    "start": "1500720",
    "end": "1507740"
  },
  {
    "text": "has anyone ever seen like a requirement like this oh there are some good of course if you",
    "start": "1507740",
    "end": "1515720"
  },
  {
    "text": "make this requirement you need to have another one like as an administrator I need to access everyone's profiles",
    "start": "1515720",
    "end": "1522559"
  },
  {
    "text": "so it's going to be detailed but actually somebody's got to do that job",
    "start": "1522559",
    "end": "1527659"
  },
  {
    "text": "but very often it's left for some others to decide and that's very often the Developers",
    "start": "1527659",
    "end": "1533900"
  },
  {
    "text": "so the developers they either sit down and discuss this and find some good Solutions or they just start to",
    "start": "1533900",
    "end": "1540260"
  },
  {
    "text": "implement it and make up the rules as they go and of course we are good developers so",
    "start": "1540260",
    "end": "1546860"
  },
  {
    "text": "we write some tests tests like user can see user can update",
    "start": "1546860",
    "end": "1553340"
  },
  {
    "text": "user can delete and administrator has full access the positive cases happy tests yeah",
    "start": "1553340",
    "end": "1561980"
  },
  {
    "text": "it works what we need to do is to at least write",
    "start": "1561980",
    "end": "1568039"
  },
  {
    "text": "a few more tests like unauthenticated is not authorized to prevent like anyone from the internet",
    "start": "1568039",
    "end": "1576620"
  },
  {
    "text": "wreaking havoc in our application and we could add a lot more like user in",
    "start": "1576620",
    "end": "1581659"
  },
  {
    "text": "different company can't see can't modify can't delete",
    "start": "1581659",
    "end": "1587320"
  },
  {
    "text": "and how do we do the manual testing as developers like yeah to check that things work yeah we test with like one",
    "start": "1588020",
    "end": "1595220"
  },
  {
    "text": "user and very often the high privileged user test with administrator",
    "start": "1595220",
    "end": "1601039"
  },
  {
    "text": "yeah deployed to production",
    "start": "1601039",
    "end": "1605080"
  },
  {
    "text": "so what else do we not do we don't document",
    "start": "1606740",
    "end": "1612440"
  },
  {
    "text": "or maybe we do sometimes we do that will of course Very be very helpful for the testers too to know how the system",
    "start": "1612440",
    "end": "1618140"
  },
  {
    "text": "should work also gives the testers some inspiration in what they should test",
    "start": "1618140",
    "end": "1624200"
  },
  {
    "text": "um but of course we know that everything is going to change next week so I will",
    "start": "1624200",
    "end": "1629299"
  },
  {
    "text": "write the documentation later or the code is the documentation and the code for authorization is often",
    "start": "1629299",
    "end": "1635299"
  },
  {
    "text": "very complex the tester we know what testers do from this joke",
    "start": "1635299",
    "end": "1641539"
  },
  {
    "text": "a QA engineer walks into a bar she orders two beers orders zero beers orders minus one beers orders a lizard",
    "start": "1641539",
    "end": "1649100"
  },
  {
    "text": "orders a null pointer tries to leave without paying satisfied she declares the bar ready for",
    "start": "1649100",
    "end": "1655100"
  },
  {
    "text": "business the first customer comes in and asks where the bathroom is the bar explodes",
    "start": "1655100",
    "end": "1662620"
  },
  {
    "text": "now as developers we think that this is really outside the box",
    "start": "1663260",
    "end": "1668720"
  },
  {
    "text": "we were expecting non-negative numbers or only positive numbers not even zero",
    "start": "1668720",
    "end": "1675500"
  },
  {
    "text": "and can't people understand that this should be numeric input no string input should",
    "start": "1675500",
    "end": "1681200"
  },
  {
    "text": "come here oops",
    "start": "1681200",
    "end": "1686299"
  },
  {
    "text": "okay we're back um should not put my hand there",
    "start": "1686299",
    "end": "1691460"
  },
  {
    "text": "make mental note to self okay uh stand there into that instead so a",
    "start": "1691460",
    "end": "1697640"
  },
  {
    "text": "security tester I think we need to go a bit further outside the box",
    "start": "1697640",
    "end": "1703000"
  },
  {
    "text": "and what about changing the unit price to one cent or change the currency to Zimbabwe",
    "start": "1703520",
    "end": "1709760"
  },
  {
    "text": "dollars or order with another customer ID maybe someone else will pay for us",
    "start": "1709760",
    "end": "1716299"
  },
  {
    "text": "or load the order verification form with another order IDE maybe there is a pick up your order button there",
    "start": "1716299",
    "end": "1723260"
  },
  {
    "text": "what about going to slash admin or send us HTTP 1.0",
    "start": "1723260",
    "end": "1731120"
  },
  {
    "text": "because we haven't really needed that for the last 15 years or 20 years or ordering from another origin",
    "start": "1731120",
    "end": "1739460"
  },
  {
    "text": "there's a lot of things we can do because if you do that the problem the bar explodes",
    "start": "1739460",
    "end": "1745960"
  },
  {
    "text": "so testers are not testing the crazy cases at least it's my",
    "start": "1747020",
    "end": "1752840"
  },
  {
    "text": "um what I learned um and also the testers often lack the",
    "start": "1752840",
    "end": "1758360"
  },
  {
    "text": "knowledge and they lack the tools if your testers aren't using a web proxy they probably don't do any authorization",
    "start": "1758360",
    "end": "1765320"
  },
  {
    "text": "testing at all foreign security test tools your boss or your",
    "start": "1765320",
    "end": "1772580"
  },
  {
    "text": "boss's boss spend a lot of money on SAS es Das SCA",
    "start": "1772580",
    "end": "1778700"
  },
  {
    "text": "whatever they're called because they were told that these will",
    "start": "1778700",
    "end": "1784700"
  },
  {
    "text": "cover ovas top 10 ulb PCI DSS compliant",
    "start": "1784700",
    "end": "1790220"
  },
  {
    "text": "but they will never find an either never because they're automated tools and an",
    "start": "1790220",
    "end": "1797179"
  },
  {
    "text": "either needs human assistance",
    "start": "1797179",
    "end": "1802640"
  },
  {
    "text": "you will need to tell the system that what the rules are or you will need to",
    "start": "1802640",
    "end": "1808159"
  },
  {
    "text": "verify whatever it found or yeah you'll need to look at it you can't leave this",
    "start": "1808159",
    "end": "1813380"
  },
  {
    "text": "to fully automated systems there aren't many available tools but",
    "start": "1813380",
    "end": "1818419"
  },
  {
    "text": "there are some and I'll show some of them later even have a demo or one of them",
    "start": "1818419",
    "end": "1823779"
  },
  {
    "text": "so your boss also spent a lot of money on a penetration tests to stay secure",
    "start": "1824659",
    "end": "1831440"
  },
  {
    "text": "they didn't find found they didn't find any idors either it could be your fault or it could be",
    "start": "1831440",
    "end": "1839840"
  },
  {
    "text": "the penetration tester's fault if you set up a web test server for this",
    "start": "1839840",
    "end": "1845720"
  },
  {
    "text": "test you created a user you created some data and gave the credentials to the tester",
    "start": "1845720",
    "end": "1851779"
  },
  {
    "text": "then you failed because you made it incredibly hard for the tester to find an either what you should do",
    "start": "1851779",
    "end": "1858740"
  },
  {
    "text": "is to create multiple users of different user levels or in different companies or",
    "start": "1858740",
    "end": "1864860"
  },
  {
    "text": "tenants or whatever like separate you need to kind of have this separation see each other's data",
    "start": "1864860",
    "end": "1871460"
  },
  {
    "text": "and you also need to create some data because then the penetration tester can log in as one user see what data is",
    "start": "1871460",
    "end": "1877640"
  },
  {
    "text": "available login as another user see what data is available there and then try to access",
    "start": "1877640",
    "end": "1884419"
  },
  {
    "text": "across these two users that's how you simply find idors",
    "start": "1884419",
    "end": "1889580"
  },
  {
    "text": "not by guessing because that's really hard",
    "start": "1889580",
    "end": "1893679"
  },
  {
    "text": "so if you do that and even if you explicitly ask the penetration",
    "start": "1895460",
    "end": "1902899"
  },
  {
    "text": "tester to look for broken Access Control you're probably still not gonna get any",
    "start": "1902899",
    "end": "1908840"
  },
  {
    "text": "ideas in the report because it's so much easier to just fill the report with",
    "start": "1908840",
    "end": "1913880"
  },
  {
    "text": "output from automated tools and from kind of the simple scripts like for them like login logout like test the",
    "start": "1913880",
    "end": "1920600"
  },
  {
    "text": "authentication a few other things I only actually see these in reports",
    "start": "1920600",
    "end": "1928820"
  },
  {
    "text": "from internal security teams I can't remember ever seeing it in penetration test reports and I've seen a",
    "start": "1928820",
    "end": "1935000"
  },
  {
    "text": "lot how did we get here now I want to see",
    "start": "1935000",
    "end": "1941360"
  },
  {
    "text": "some hands who has had a mandatory application security course during their studies",
    "start": "1941360",
    "end": "1950320"
  },
  {
    "text": "a few okay next question who has been trained in application security by their current",
    "start": "1952760",
    "end": "1959419"
  },
  {
    "text": "or former employer",
    "start": "1959419",
    "end": "1962620"
  },
  {
    "text": "pretty much the same number or proportion when I as when I train new",
    "start": "1964580",
    "end": "1969740"
  },
  {
    "text": "Developers final question who has been trained at any time on avoiding or detecting",
    "start": "1969740",
    "end": "1976220"
  },
  {
    "text": "authorization vulnerabilities good there are some",
    "start": "1976220",
    "end": "1981440"
  },
  {
    "text": "great so I thought I was trained I took this course some Years Ago by",
    "start": "1981440",
    "end": "1988580"
  },
  {
    "text": "Sans they're doing security training and certification so I took this course web app",
    "start": "1988580",
    "end": "1994760"
  },
  {
    "text": "penetration testing and ethical hacking learned a lot about a lot of tools cool ones automation of different things I",
    "start": "1994760",
    "end": "2003279"
  },
  {
    "text": "learned about um different hacks and vulnerabilities and attacks and exploits and whatnot",
    "start": "2003279",
    "end": "2012000"
  },
  {
    "text": "they didn't really tell us or teach us about like the the five-year-old can do this stuff like the",
    "start": "2012940",
    "end": "2019240"
  },
  {
    "text": "really simple changing just using a web proxy or just in the URI just changing",
    "start": "2019240",
    "end": "2025179"
  },
  {
    "text": "something because it's boring laborious work it's tedious",
    "start": "2025179",
    "end": "2031480"
  },
  {
    "text": "it's much better to just run a tool find stuff this is boring you know you remember all the",
    "start": "2031480",
    "end": "2038380"
  },
  {
    "text": "test cases like the 6 18 36 yeah maybe you have to run 25 of them to",
    "start": "2038380",
    "end": "2044799"
  },
  {
    "text": "find one either but that's that one could be disastrous",
    "start": "2044799",
    "end": "2050020"
  },
  {
    "text": "of course so what should you do well if you're here now with this uneasy feeling that",
    "start": "2050020",
    "end": "2058898"
  },
  {
    "text": "um do we just like do the pat down have you",
    "start": "2058899",
    "end": "2064000"
  },
  {
    "text": "just given up an authorization maybe you should just go back when you're back at work and just do some",
    "start": "2064000",
    "end": "2071320"
  },
  {
    "text": "testing just some random testing because random testing will actually reveal quite a bit though thanks if it's kind",
    "start": "2071320",
    "end": "2078158"
  },
  {
    "text": "of the random test fails there's a lot of things that are likely broken and",
    "start": "2078159",
    "end": "2084398"
  },
  {
    "text": "if you know that authorization we can't do it right anymore because it's just got not out of hand",
    "start": "2084399",
    "end": "2089679"
  },
  {
    "text": "then start working on convincing someone with",
    "start": "2089679",
    "end": "2094960"
  },
  {
    "text": "influence that we need to invest in fixing this we can't let this go on",
    "start": "2094960",
    "end": "2100180"
  },
  {
    "text": "because it's gonna get go wrong it's gonna go wrong terribly",
    "start": "2100180",
    "end": "2106800"
  },
  {
    "text": "so what should a tester do well should start testing you get a web",
    "start": "2107080",
    "end": "2113740"
  },
  {
    "text": "proxy if you haven't start changing requests so I said there are tools one of them is",
    "start": "2113740",
    "end": "2121599"
  },
  {
    "text": "a burp suit extension burp suit is a penetration testing tool or security testing tool",
    "start": "2121599",
    "end": "2127960"
  },
  {
    "text": "so they have this extension where you can Define or you can give it to credentials like",
    "start": "2127960",
    "end": "2133599"
  },
  {
    "text": "like cookies or an authorization header for one user and you typically choose like a low",
    "start": "2133599",
    "end": "2140079"
  },
  {
    "text": "privileged user and then you just kind of forget about that user and",
    "start": "2140079",
    "end": "2146140"
  },
  {
    "text": "you start working as another user like an administrator or a user in a different company and for every",
    "start": "2146140",
    "end": "2152520"
  },
  {
    "text": "request from the browser like burp suit is working as a web proxy",
    "start": "2152520",
    "end": "2157900"
  },
  {
    "text": "mine in the middle uh for every request it will create two more requests one for this other user",
    "start": "2157900",
    "end": "2163780"
  },
  {
    "text": "and one for an unauthenticated user and it will show you kind of which",
    "start": "2163780",
    "end": "2169660"
  },
  {
    "text": "um which responses are probably okay and which are like I don't know and which are like oh here it's",
    "start": "2169660",
    "end": "2176560"
  },
  {
    "text": "authorization is not enforced that could of course be that it's a public Resource as well",
    "start": "2176560",
    "end": "2182740"
  },
  {
    "text": "so you can do that there's a license to have the burp burp suit pro at least I don't know if this is available in the",
    "start": "2182740",
    "end": "2189220"
  },
  {
    "text": "free version but if you want free I have something for you",
    "start": "2189220",
    "end": "2195700"
  },
  {
    "text": "we have demo time um so I created an extension to filler Scripts",
    "start": "2195700",
    "end": "2201820"
  },
  {
    "text": "Fiddler is a web proxy I really like Fiddler and filler is free",
    "start": "2201820",
    "end": "2209460"
  },
  {
    "text": "so at least some versions are free um so I'll show something here",
    "start": "2209680",
    "end": "2217320"
  },
  {
    "text": "we have ovasp Juice Shop that's um something you can download and install",
    "start": "2217480",
    "end": "2223900"
  },
  {
    "text": "Yourself by running it on my computer here it's a vulnerable web application",
    "start": "2223900",
    "end": "2228940"
  },
  {
    "text": "it has a number of different vulnerabilities and the good thing is that when we",
    "start": "2228940",
    "end": "2234520"
  },
  {
    "text": "actually find the vulnerability it will tell us what we found and make it very",
    "start": "2234520",
    "end": "2241000"
  },
  {
    "text": "visual so first we need some users so and I have in this with this Fiddler",
    "start": "2241000",
    "end": "2248980"
  },
  {
    "text": "script that you can modify if you're not satisfied with it you can also there's a configuration file you can",
    "start": "2248980",
    "end": "2256420"
  },
  {
    "text": "start by harvesting authentication tokens so this user here is logged in I will",
    "start": "2256420",
    "end": "2263920"
  },
  {
    "text": "refresh and I will need to bring Fiddler back up because Fiddler found something first it",
    "start": "2263920",
    "end": "2270880"
  },
  {
    "text": "found a request without authentication because some of these requests aren't aren't authenticated",
    "start": "2270880",
    "end": "2278460"
  },
  {
    "text": "so I will call this one an authenticated oh we got another one so it's asked me",
    "start": "2279280",
    "end": "2284320"
  },
  {
    "text": "what should I call this user it might couldn't increase the size of these messages",
    "start": "2284320",
    "end": "2289619"
  },
  {
    "text": "so this one already in the incognito window on the browser so maybe I'll just call it incognito",
    "start": "2289619",
    "end": "2296180"
  },
  {
    "text": "[Music] so now we're harvested two users difference from burp suit authorize is",
    "start": "2296180",
    "end": "2303339"
  },
  {
    "text": "that you can add as many users as you want so you can actually test like eight users at the",
    "start": "2303339",
    "end": "2308619"
  },
  {
    "text": "same time like in different companies or different user levels so we're done harvesting",
    "start": "2308619",
    "end": "2315599"
  },
  {
    "text": "so we'll turn that off and we'll bring up another browser so here we have another user",
    "start": "2315880",
    "end": "2324180"
  },
  {
    "text": "so we log in okay we'll we'll clear the Fiddler log here we don't need that",
    "start": "2325780",
    "end": "2332680"
  },
  {
    "text": "but what we will need is to enable additional authorization requests",
    "start": "2332680",
    "end": "2337960"
  },
  {
    "text": "so what will happen now is pretty much the same thing as with um authorize now we can see in action so",
    "start": "2337960",
    "end": "2347140"
  },
  {
    "text": "let's see say we want to buy the apple juice so we add it to the basket and click this button oh we see the confetti",
    "start": "2347140",
    "end": "2354160"
  },
  {
    "text": "cannon which means we found a vulnerability so what happened it actually says here",
    "start": "2354160",
    "end": "2361119"
  },
  {
    "text": "you successfully solve the challenge view basket view another user's shopping basket",
    "start": "2361119",
    "end": "2366820"
  },
  {
    "text": "yeah and we also had an error handling thing here we don't need that",
    "start": "2366820",
    "end": "2372220"
  },
  {
    "text": "so we can look at these colored requests okay we got them in a different order",
    "start": "2372220",
    "end": "2378700"
  },
  {
    "text": "we'll try to order them differently there we go so we add we added to the basket",
    "start": "2378700",
    "end": "2384640"
  },
  {
    "text": "that's the first request that was the original like the request",
    "start": "2384640",
    "end": "2389680"
  },
  {
    "text": "that came from the browsers this is the one we're comparing with and we can see that these other requests",
    "start": "2389680",
    "end": "2395920"
  },
  {
    "text": "return to 401 so they were not authorized to do it whether they were actually",
    "start": "2395920",
    "end": "2402339"
  },
  {
    "text": "yeah I would say that should be a 403 but okay so we had some other requests which",
    "start": "2402339",
    "end": "2408339"
  },
  {
    "text": "weren't duplicated because they were not interesting like we don't need to duplicate like a static resource request",
    "start": "2408339",
    "end": "2414280"
  },
  {
    "text": "you can configure that then we have this one the original one is the",
    "start": "2414280",
    "end": "2422560"
  },
  {
    "text": "body is 257 bytes this is like a public resource so this",
    "start": "2422560",
    "end": "2428020"
  },
  {
    "text": "everyone gets the same but yeah it's red because well it's potentially something",
    "start": "2428020",
    "end": "2433420"
  },
  {
    "text": "then we have the next one the next Trio so the first one is the original request",
    "start": "2433420",
    "end": "2440260"
  },
  {
    "text": "we got the 200 on viewing basket number seven the unauthenticated user gets the 401 so",
    "start": "2440260",
    "end": "2447280"
  },
  {
    "text": "that one's green it's okay and the the user when we take this request",
    "start": "2447280",
    "end": "2453579"
  },
  {
    "text": "and swap the authentication tokens for the Incognito user we see that we can actually see another",
    "start": "2453579",
    "end": "2460960"
  },
  {
    "text": "user's basket which is what Juice Shop told us so let's look at this one",
    "start": "2460960",
    "end": "2468579"
  },
  {
    "text": "we see we have some more colors here uh this is this",
    "start": "2468579",
    "end": "2474820"
  },
  {
    "text": "was just like public information but it's a bit different for logged in users to none authenticated users like the",
    "start": "2474820",
    "end": "2482380"
  },
  {
    "text": "just because if you're not logged in you can't vote so let's",
    "start": "2482380",
    "end": "2488380"
  },
  {
    "text": "write a review uh what should you say about the apple juice too sour",
    "start": "2488380",
    "end": "2495779"
  },
  {
    "text": "oh another confetti cannon Forge review post a product review as another user or edit any user's existing",
    "start": "2496300",
    "end": "2503380"
  },
  {
    "text": "review that's what we did because well we suddenly see three",
    "start": "2503380",
    "end": "2509619"
  },
  {
    "text": "different reviews and as we can see here these are the review like posting the review they all got that to 201 even",
    "start": "2509619",
    "end": "2516700"
  },
  {
    "text": "they are an authenticated user got that so maybe we should just oops look at it",
    "start": "2516700",
    "end": "2524200"
  },
  {
    "text": "come on there we go let's look at um",
    "start": "2524200",
    "end": "2529420"
  },
  {
    "text": "the review so what we sent was the author email address and the message",
    "start": "2529420",
    "end": "2536320"
  },
  {
    "text": "so if you go back and look at it that's exactly what's here so we can actually insert any email address and",
    "start": "2536320",
    "end": "2542920"
  },
  {
    "text": "yeah I see I see problems like this a lot of times",
    "start": "2542920",
    "end": "2548940"
  },
  {
    "text": "so let's go back to the presentation so if you want to if you're not you haven't used Fiddler",
    "start": "2549700",
    "end": "2555520"
  },
  {
    "text": "script uh can you look at my um blog post that I made today this will",
    "start": "2555520",
    "end": "2561099"
  },
  {
    "text": "also be available in the in the end because all my Twitter you can find the link there uh",
    "start": "2561099",
    "end": "2567940"
  },
  {
    "text": "so if you don't haven't used Fiddler before a fiddler script it's really easy you can just copy the script if you have",
    "start": "2567940",
    "end": "2573460"
  },
  {
    "text": "like your own custom filter script there are details there on how you can kind of copy all the script codes that is create",
    "start": "2573460",
    "end": "2580060"
  },
  {
    "text": "or parts of the code that you need okay what should you do as a developer",
    "start": "2580060",
    "end": "2587440"
  },
  {
    "text": "working with the code okay your code might look like this",
    "start": "2587440",
    "end": "2593740"
  },
  {
    "text": "hopefully not okay here we have some interesting authorization",
    "start": "2593740",
    "end": "2599560"
  },
  {
    "text": "so we have this get report method and inside the method we have a mix of",
    "start": "2599560",
    "end": "2607180"
  },
  {
    "text": "uh authorization code and some other program logic but okay what's what are the rules here",
    "start": "2607180",
    "end": "2614380"
  },
  {
    "text": "so if the user and the report are in the same company then you can see the report",
    "start": "2614380",
    "end": "2620440"
  },
  {
    "text": "if you are a viewer or a designer or if you're an administrator you can see it see anyone any report regardless of",
    "start": "2620440",
    "end": "2627760"
  },
  {
    "text": "company and then the next one is kind of looking at in the database to see if this user has like some specific permissions for",
    "start": "2627760",
    "end": "2634839"
  },
  {
    "text": "this report so it's a mix so like different things",
    "start": "2634839",
    "end": "2639940"
  },
  {
    "text": "and this is often what we like put straight into a method Tangled with all the other code",
    "start": "2639940",
    "end": "2647380"
  },
  {
    "text": "adding complexity of course another problem here is that like the the method we call and the",
    "start": "2647380",
    "end": "2654400"
  },
  {
    "text": "method we just we're in have the same name so it's kind of pretty easy to just skip the authorization altogether",
    "start": "2654400",
    "end": "2662099"
  },
  {
    "text": "okay maybe improve it a bit we create this in a",
    "start": "2662099",
    "end": "2667780"
  },
  {
    "text": "class or uh in the library or an endpoint doing the",
    "start": "2667780",
    "end": "2673420"
  },
  {
    "text": "authorization for us which is very good because then it's reusable and it's also much easier to test it you",
    "start": "2673420",
    "end": "2681400"
  },
  {
    "text": "can probably do a unit test on it but we can do better",
    "start": "2681400",
    "end": "2687119"
  },
  {
    "text": "we can put it in an authorization attribute",
    "start": "2687400",
    "end": "2692460"
  },
  {
    "text": "and the really good thing about an authorization attribute is that you would typically put this like the first",
    "start": "2692500",
    "end": "2698260"
  },
  {
    "text": "thing on the back end when you get when you when when the request is coming in",
    "start": "2698260",
    "end": "2704079"
  },
  {
    "text": "so you typically have like the all the other attributes telling you if this is a get or a poster or put or delete",
    "start": "2704079",
    "end": "2710859"
  },
  {
    "text": "which means you can actually create rules that if it's like one of those",
    "start": "2710859",
    "end": "2716859"
  },
  {
    "text": "it's like an end point remember your the requests first come in",
    "start": "2716859",
    "end": "2721960"
  },
  {
    "text": "you can write rules so that your code will fail if you haven't specified authorization and you can of course",
    "start": "2721960",
    "end": "2727839"
  },
  {
    "text": "specify no authorization if it's a public method so also if you have like moved it all",
    "start": "2727839",
    "end": "2735040"
  },
  {
    "text": "out of your code then you can replace your code completely like the authorization code there are some tools",
    "start": "2735040",
    "end": "2741220"
  },
  {
    "text": "for this or products open policy agent and also uh also it's like they call themselves",
    "start": "2741220",
    "end": "2748839"
  },
  {
    "text": "authorization as a service I haven't tried them but you can if you want",
    "start": "2748839",
    "end": "2756819"
  },
  {
    "text": "what more should a developer do should write automated tests",
    "start": "2756819",
    "end": "2762099"
  },
  {
    "text": "no don't do that write an automated test framework",
    "start": "2762099",
    "end": "2767560"
  },
  {
    "text": "some of my colleagues have done this it's a fantastic project and it is not",
    "start": "2767560",
    "end": "2772599"
  },
  {
    "text": "that much code to write and you can probably reuse it a lot if like your code is similar in many different places",
    "start": "2772599",
    "end": "2780400"
  },
  {
    "text": "so what they've done is that they have as input a list of endpoints and they get this",
    "start": "2780400",
    "end": "2786700"
  },
  {
    "text": "from a Swagger or open API definition so they know all the endpoints and uh",
    "start": "2786700",
    "end": "2792400"
  },
  {
    "text": "then they can test for all the user types and as I said before that could be user levels it could be different",
    "start": "2792400",
    "end": "2797859"
  },
  {
    "text": "permission or permission levels it could be scopes depending on how your application is",
    "start": "2797859",
    "end": "2803380"
  },
  {
    "text": "done you could test all the verbs even those that aren't defined for that",
    "start": "2803380",
    "end": "2809740"
  },
  {
    "text": "endpoint just to see what happens okay so what's the point of this well",
    "start": "2809740",
    "end": "2817359"
  },
  {
    "text": "this system in our case creates output Excel file it's fairly readable by both",
    "start": "2817359",
    "end": "2823180"
  },
  {
    "text": "man and machine so we can take this Excel file which specifies all the",
    "start": "2823180",
    "end": "2829060"
  },
  {
    "text": "different endpoints and what can be done there by who and we can sit down and look at this and",
    "start": "2829060",
    "end": "2835900"
  },
  {
    "text": "say is this does this make sense is this how we want the system to work and maybe",
    "start": "2835900",
    "end": "2841119"
  },
  {
    "text": "it's not so we can change it the framework will load this file as the definition",
    "start": "2841119",
    "end": "2847900"
  },
  {
    "text": "and of course if we change something our tests will fail until we fix the code if we change the",
    "start": "2847900",
    "end": "2854800"
  },
  {
    "text": "code and our authorization changes the tests will fail if we add another endpoint the test will fail",
    "start": "2854800",
    "end": "2863500"
  },
  {
    "text": "because well it's helped in reminding ourselves that we need to apply authorization on every single endpoint",
    "start": "2863500",
    "end": "2872160"
  },
  {
    "text": "so yeah we solved the problem we now can test we can write better code",
    "start": "2872200",
    "end": "2878619"
  },
  {
    "text": "we can yeah not only like test manually we can test Autumn with automated tests",
    "start": "2878619",
    "end": "2884380"
  },
  {
    "text": "or did we solve the problem well I think you got the idea previously that there are some like other cases",
    "start": "2884380",
    "end": "2892000"
  },
  {
    "text": "and there are actually a lot of them but the important thing is we need to fix all the simple ones because they're the",
    "start": "2892000",
    "end": "2898780"
  },
  {
    "text": "ones that are easy to find and easy to exploit so at least we need to raise the bar and",
    "start": "2898780",
    "end": "2904720"
  },
  {
    "text": "then we get used to this and it's easier to do the others because we'll probably come across something like this",
    "start": "2904720",
    "end": "2911079"
  },
  {
    "text": "like the top one uh multiple or um things to",
    "start": "2911079",
    "end": "2916540"
  },
  {
    "text": "authorize in the same request or the bottom one updating my profile",
    "start": "2916540",
    "end": "2923319"
  },
  {
    "text": "and I add something which isn't there for me as a regular user like a roll ID and suddenly I am the administrator",
    "start": "2923319",
    "end": "2930400"
  },
  {
    "text": "yeah so there's a lot of things but this was the foundation maybe an",
    "start": "2930400",
    "end": "2936339"
  },
  {
    "text": "advanced course next year thank you very much [Applause]",
    "start": "2936339",
    "end": "2948779"
  }
]