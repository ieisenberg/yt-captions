[
  {
    "text": "we are going to talk about micro-services and in particular we're going to talk about the collaboration between these micro services and how to",
    "start": "4600",
    "end": "11110"
  },
  {
    "text": "design that the focus is about doing that over HTTP and I'm going to sort of",
    "start": "11110",
    "end": "17770"
  },
  {
    "text": "talk about and explain why that's actually pretty good good choice and sort of a light weights thing that you",
    "start": "17770",
    "end": "23769"
  },
  {
    "text": "probably have in your environment anyway and then they don't on you might want to do something else or whatever but it's",
    "start": "23769",
    "end": "29259"
  },
  {
    "text": "it's it's a really good starting point and just not introducing too much and just use what you're what you have",
    "start": "29259",
    "end": "34510"
  },
  {
    "text": "because you can do it really well using HTTP my name is Christian I'm an",
    "start": "34510",
    "end": "41559"
  },
  {
    "text": "independent consultant I've been working with micro services a whole lot over the last I don't know five years or so with",
    "start": "41559",
    "end": "48309"
  },
  {
    "text": "different clients and sort of that experience from a number of different companies doing that and seeing those",
    "start": "48309",
    "end": "54100"
  },
  {
    "text": "transformations to watch micro services is of course what informs this talk so it's the experiences from from those",
    "start": "54100",
    "end": "60399"
  },
  {
    "text": "things or some of the experiences for them thing those things pull into this talk the same goes for",
    "start": "60399",
    "end": "65710"
  },
  {
    "text": "the for the book you see there the micro services internet core very much based around that that experience and sort of",
    "start": "65710",
    "end": "75909"
  },
  {
    "text": "also some of the same things that that you'll see in this talk so if this makes any sense to you can go to the bookstore",
    "start": "75909",
    "end": "81040"
  },
  {
    "text": "and get that book yeah you also see some contact information there on that slide",
    "start": "81040",
    "end": "86079"
  },
  {
    "text": "it'll be at the end of it as well so please raise your hand and ask questions",
    "start": "86079",
    "end": "91689"
  },
  {
    "text": "as we go but if you think of there something afterwards you can also reach me through email Twitter or whatever and",
    "start": "91689",
    "end": "98619"
  },
  {
    "text": "I'll be happy to discuss ok so we're talking about micro services and that",
    "start": "98619",
    "end": "105070"
  },
  {
    "text": "seems to be all the rage and we all have to do do micro services yay but then again maybe not maybe it's not",
    "start": "105070",
    "end": "113200"
  },
  {
    "text": "the Silver Bullet so I'm going to preface a little bit before I get into the year into the collaboration part a",
    "start": "113200",
    "end": "119590"
  },
  {
    "text": "little bit about what I mean when I talk about micro services because it's such an overloaded term at this point and I'm",
    "start": "119590",
    "end": "125170"
  },
  {
    "text": "going to talk a little bit about why I think you should do it in some cases and why you shouldn't in some others and",
    "start": "125170",
    "end": "130960"
  },
  {
    "text": "then we'll dive into the edge of the collaboration between them so first off",
    "start": "130960",
    "end": "136690"
  },
  {
    "text": "sort of my personal definition of a microservices",
    "start": "136690",
    "end": "142420"
  },
  {
    "text": "is that a micro service is a service with one and only one very narrowly focused capability that a remote API",
    "start": "142420",
    "end": "148780"
  },
  {
    "text": "exposes to the rest of the system so a micro service is something that is part of a bigger system it's also a service",
    "start": "148780",
    "end": "156520"
  },
  {
    "text": "so it still service-oriented I think it's mostly just a flavor of",
    "start": "156520",
    "end": "161670"
  },
  {
    "text": "service oriented and we've sort of put the micro in front of it and whether micro is really a good word or it should",
    "start": "161670",
    "end": "167680"
  },
  {
    "text": "have been fine-grained or something else that kind of up for debate I think a",
    "start": "167680",
    "end": "172780"
  },
  {
    "text": "little bit but at least there's this sort of narrowly focused capability part that plays into this that that micro",
    "start": "172780",
    "end": "179830"
  },
  {
    "text": "services tend to be and should be narrowly focused so this should be very focused it's kind of the UNIX way of",
    "start": "179830",
    "end": "187570"
  },
  {
    "text": "thinking to one thing and do it well apply to two services so I think that's probably sort of the big difference we",
    "start": "187570",
    "end": "193930"
  },
  {
    "text": "call it compared to sort of earlier iterations on what we thought so service",
    "start": "193930",
    "end": "199090"
  },
  {
    "text": "on there oriented architecture was that that we maybe tended to look at some",
    "start": "199090",
    "end": "204250"
  },
  {
    "text": "some larger concepts back then and sort of something that we might now see as kind of a system that we will then break",
    "start": "204250",
    "end": "210040"
  },
  {
    "text": "into two micro services and to get a",
    "start": "210040",
    "end": "216489"
  },
  {
    "text": "little bit more concrete and to sort of it and to introduce the running example that I'm going to use in the slide throughout the talk and this could be",
    "start": "216489",
    "end": "223209"
  },
  {
    "text": "sort of part of a back-end system for some chain of shops that could be like",
    "start": "223209",
    "end": "229750"
  },
  {
    "text": "the 7-eleven chain of shops and you might have a loyalty program where you",
    "start": "229750",
    "end": "235180"
  },
  {
    "text": "can sort of get this little plastic card and then every time you buy something you you get points and then every so",
    "start": "235180",
    "end": "241000"
  },
  {
    "text": "often you get a free cup of coffee or whatever because you've spent so much money at the shops so lots of chains",
    "start": "241000",
    "end": "247570"
  },
  {
    "text": "have these that could be that could be sort of at least for the first",
    "start": "247570",
    "end": "252910"
  },
  {
    "text": "approximation of of doing this back-end system you might have a loyalty program",
    "start": "252910",
    "end": "258130"
  },
  {
    "text": "micro service because that's sort of one capability going on in that system there's some management around that that",
    "start": "258130",
    "end": "264070"
  },
  {
    "text": "loyalty program now over time you might actually break down the brain break that",
    "start": "264070",
    "end": "269500"
  },
  {
    "text": "down further because you would you might find out that that's actually more than one one capability as sort of",
    "start": "269500",
    "end": "276409"
  },
  {
    "text": "a natural thing that we see with micro-services happening over time that you maybe start up with this and then it",
    "start": "276409",
    "end": "282499"
  },
  {
    "text": "looks good then you sort of realized that that there's actually sort of a set of capabilities are a set of things",
    "start": "282499",
    "end": "287749"
  },
  {
    "text": "going on around the physical card and issuing that and putting a name of that and sending out new cards to people or",
    "start": "287749",
    "end": "294919"
  },
  {
    "text": "whatever and then there are some other capabilities going around going on",
    "start": "294919",
    "end": "300049"
  },
  {
    "text": "around the business rules around the points how many points do you get per purchase and are there sort of other",
    "start": "300049",
    "end": "307459"
  },
  {
    "text": "things do you make more points if you buy something at night than a day or the other way around there might be all the sorts of weird rules around how you get",
    "start": "307459",
    "end": "316219"
  },
  {
    "text": "these points and do you spend them when you get something for free or is it sort of just you move up and and become a",
    "start": "316219",
    "end": "322699"
  },
  {
    "text": "better customer and there's also all sorts of rules there and that's quite sort of different things the physical",
    "start": "322699",
    "end": "327979"
  },
  {
    "text": "cars and the points it turns out to be be different things so you would see this evolve but it's sort of for the",
    "start": "327979",
    "end": "334849"
  },
  {
    "text": "sake of keeping it a little bit not you know not making it too overwhelming in the in the talk I'm",
    "start": "334849",
    "end": "340789"
  },
  {
    "text": "going to talk about it as this one loyalty program micro service it is part",
    "start": "340789",
    "end": "346399"
  },
  {
    "text": "of a system and there are other micro services around it so we see in the in",
    "start": "346399",
    "end": "352969"
  },
  {
    "text": "the top left-hand corner we have something called a special office micro service so you can think about this as",
    "start": "352969",
    "end": "358219"
  },
  {
    "text": "something sort of back office type where people within this chain of stores they",
    "start": "358219",
    "end": "365839"
  },
  {
    "text": "kind of decide what are the special offers that we are going to put on we are going to say that you get a doughnut",
    "start": "365839",
    "end": "371899"
  },
  {
    "text": "and a cup of coffee at a discounted price or we as I am going to say this week we have three Mars bars for the",
    "start": "371899",
    "end": "379939"
  },
  {
    "text": "price of two or whatever you put those up there that's a lot of a connection between those two and that when we have",
    "start": "379939",
    "end": "388939"
  },
  {
    "text": "these people with these loyalty cars then they might sometimes target some of",
    "start": "388939",
    "end": "394579"
  },
  {
    "text": "those special offers at them so they might only be available to them or it might be that you just want to identify",
    "start": "394579",
    "end": "400399"
  },
  {
    "text": "that given a given a in special offer we want to figure out",
    "start": "400399",
    "end": "406379"
  },
  {
    "text": "who this is interesting for and and then maybe we notify them and that's what's going on in the bottom right hand corner",
    "start": "406379",
    "end": "413189"
  },
  {
    "text": "in the orange one we have a notification micro-service so we could create a",
    "start": "413189",
    "end": "418949"
  },
  {
    "text": "special offer the loyalty program then sort of looks at that offer looks at the population of people in the loyalty",
    "start": "418949",
    "end": "425969"
  },
  {
    "text": "program and figures out okay who's this who are we likely to sell this offer to and then we notify them somehow",
    "start": "425969",
    "end": "432779"
  },
  {
    "text": "sent them a push notification on our mobile APIs today if they had to have that send them a text message whatever",
    "start": "432779",
    "end": "440279"
  },
  {
    "text": "it might might be and try to sell that a sell something to them so already here and these are only as I",
    "start": "440279",
    "end": "446999"
  },
  {
    "text": "said this is sort of a first approximation of doing this and it's likely that we overtime will split some",
    "start": "446999",
    "end": "452159"
  },
  {
    "text": "of these micro services into smaller ones but already at this point we see that in order to do just slightly",
    "start": "452159",
    "end": "459330"
  },
  {
    "text": "interesting things like creating an offer and actually trying to get something to buy them we have three",
    "start": "459330",
    "end": "464430"
  },
  {
    "text": "micro services in play so we do see that we are having some collaboration between the these micro services before they do",
    "start": "464430",
    "end": "470669"
  },
  {
    "text": "anything interesting right this is already kind of jumping ahead a little",
    "start": "470669",
    "end": "475949"
  },
  {
    "text": "bit because I promised that I would I'd say a few words about why we want to do micro services so I'm just going to",
    "start": "475949",
    "end": "482370"
  },
  {
    "text": "return to to that and sort of the first and main point that I have experience",
    "start": "482370",
    "end": "490949"
  },
  {
    "text": "with with the customers I have at least and this could be different for different sectors and different companies but it seems to be that it's",
    "start": "490949",
    "end": "498209"
  },
  {
    "text": "very much about enabling continuous delivery and that's sort of the techie",
    "start": "498209",
    "end": "504809"
  },
  {
    "text": "or develop a way of saying it because it's actually a sort of an underlying reason behind behind this because doing",
    "start": "504809",
    "end": "511529"
  },
  {
    "text": "continuous delivery in and of itself is just sort of something that developers want to do if businesses don't sort of",
    "start": "511529",
    "end": "517800"
  },
  {
    "text": "sit down and put in their mission statement that they want to they want to do continuous delivery is no point in",
    "start": "517800",
    "end": "523018"
  },
  {
    "text": "that they have something else that they want to do but they want to do that something else in a in a quick way and",
    "start": "523019",
    "end": "529560"
  },
  {
    "text": "they want to be able to experiment and they want to be able to turn around and do it in a new way and follow the market",
    "start": "529560",
    "end": "535529"
  },
  {
    "text": "and so on so all of these things are all the things we've been talking about for years and years and years with that gel and it turns out that continuous",
    "start": "535529",
    "end": "542220"
  },
  {
    "text": "delivery is something that if we can if we get good at it if we can if we do it right then actually that enables real",
    "start": "542220",
    "end": "548370"
  },
  {
    "text": "agility for for the business and I think that is the underlying reason for a lot",
    "start": "548370",
    "end": "553560"
  },
  {
    "text": "of companies that do micro services and do it successfully there could be other",
    "start": "553560",
    "end": "559320"
  },
  {
    "text": "reasons some look at some scalability year component so forth but I think this tends to be at there at the heart of it",
    "start": "559320",
    "end": "566040"
  },
  {
    "text": "it's about that flexibility so that's really a good thing that we can that we can get from this in thought of and this",
    "start": "566040",
    "end": "573180"
  },
  {
    "text": "is the clear number one of the ones that I have on the slide so I'm going to go faster between the next one once another",
    "start": "573180",
    "end": "581220"
  },
  {
    "text": "one is that we can get sort of highly maintainable services of course you can still write crap code and shoot yourself",
    "start": "581220",
    "end": "586440"
  },
  {
    "text": "in the foot but these being narrowly focused it's also possible to actually write them so that it's pretty obvious",
    "start": "586440",
    "end": "593370"
  },
  {
    "text": "what they're doing and you can sort of hold it in your head and it's all fine and good to get something nice and maintainable",
    "start": "593370",
    "end": "599420"
  },
  {
    "text": "you get the possibility you get the possibility to do that in any system I think I guess but you sort of have",
    "start": "599420",
    "end": "605430"
  },
  {
    "text": "something driving you towards at least sort of manageable sizes here which makes it easier to have something",
    "start": "605430",
    "end": "610860"
  },
  {
    "text": "maintainable sizing true as well and an efficient developer workflow solution just aren't that big then it's not going",
    "start": "610860",
    "end": "616830"
  },
  {
    "text": "to take it's not it's not like when you open up the solution you go get coffee because it's going to take forever and",
    "start": "616830",
    "end": "622440"
  },
  {
    "text": "fast can test can be fast and so on so so these also plays into the flexibility",
    "start": "622440",
    "end": "628350"
  },
  {
    "text": "and the quick turnaround you can get you can get some robustness sort of by design into these systems this is one",
    "start": "628350",
    "end": "635490"
  },
  {
    "text": "way you could definitely also go the other way away and shoot yourself in the foot micro-services this means that you",
    "start": "635490",
    "end": "641940"
  },
  {
    "text": "have sort of highly distributed systems so there's all manner of ways to fail",
    "start": "641940",
    "end": "647040"
  },
  {
    "text": "but and this is really this is someone what we're going to talk about today is that if you think about how that",
    "start": "647040",
    "end": "652950"
  },
  {
    "text": "collaboration goes goes on then you can build in some robustness that means that",
    "start": "652950",
    "end": "657990"
  },
  {
    "text": "you can survive even something in the system isn't working probably the rest of it will or will still run which is",
    "start": "657990",
    "end": "665040"
  },
  {
    "text": "really good so so you can get some robustness just in there by design",
    "start": "665040",
    "end": "670310"
  },
  {
    "text": "and then I just saw them on the scaleability level you get the you also get a flexibility there that you can you",
    "start": "670310",
    "end": "676980"
  },
  {
    "text": "can find the bottleneck and then you can scale that one out you don't have to scale everything out you can scale out the year the microwave is that is",
    "start": "676980",
    "end": "683130"
  },
  {
    "text": "actually the bottleneck so I'm kind of guessing since you're in a room listening to micro into a micro services",
    "start": "683130",
    "end": "688860"
  },
  {
    "text": "talk that that these are things that you've probably kind of heard before this as well as the good things around",
    "start": "688860",
    "end": "694700"
  },
  {
    "text": "micro-services so so I wouldn't expect that as any big surprises at that point",
    "start": "694700",
    "end": "700620"
  },
  {
    "text": "at this point but we're going to play a little bit back into these benefits as we go through the talk now the flip side",
    "start": "700620",
    "end": "707279"
  },
  {
    "text": "of that is of course that well it's not a silver bullet it's not going to do everything for everybody and the first",
    "start": "707279",
    "end": "714000"
  },
  {
    "text": "thing is the distributed systems just our heart so if we don't have sufficient complexity in the domain to sort of",
    "start": "714000",
    "end": "721560"
  },
  {
    "text": "offset the complexity introduced by doing education systems a system then we",
    "start": "721560",
    "end": "726779"
  },
  {
    "text": "probably shouldn't be doing this because all the things I'm going to talk about",
    "start": "726779",
    "end": "733110"
  },
  {
    "text": "the collaboration I mean they are there because it's at a restricted system if",
    "start": "733110",
    "end": "738480"
  },
  {
    "text": "we just didn't do micro services and we didn't need to distribute things for other reasons for the ones that we just",
    "start": "738480",
    "end": "743880"
  },
  {
    "text": "talked about for instance then this talk wouldn't even be there and we could just get on with our lives and there would be kind of great in a",
    "start": "743880",
    "end": "749700"
  },
  {
    "text": "way but then again we do want the flexibility we could do around the scalability around the quick turnaround",
    "start": "749700",
    "end": "754740"
  },
  {
    "text": "and so on so forth so so there are reasons for doing that but you need a certain level of complexity in order to",
    "start": "754740",
    "end": "761490"
  },
  {
    "text": "to justify it um you're going to have a",
    "start": "761490",
    "end": "766529"
  },
  {
    "text": "lot of services if you will go this direction I'm not going to talk and talk a lot",
    "start": "766529",
    "end": "773040"
  },
  {
    "text": "about how sort of to scope micro services and find out which ones you you need just sort of what I've already",
    "start": "773040",
    "end": "780270"
  },
  {
    "text": "touched upon that that it's that it's usually sort of a journey where you get a first approximation and you have sort",
    "start": "780270",
    "end": "785550"
  },
  {
    "text": "of a manageable set of micro services like on the slide we had we had five early and that that's not hard to keep",
    "start": "785550",
    "end": "792690"
  },
  {
    "text": "in your head you can understand the whole system but already there I thought of alluded that that that loyalty",
    "start": "792690",
    "end": "798480"
  },
  {
    "text": "program is probably it's probably going to turn out to to me too big so just off the top of my head it",
    "start": "798480",
    "end": "804850"
  },
  {
    "text": "was like the physical cards and the points and that's probably more and it's probably more complex to actually",
    "start": "804850",
    "end": "810310"
  },
  {
    "text": "implement the real loyalty program then I realized because I haven't done that for real and as with most domains as you",
    "start": "810310",
    "end": "816579"
  },
  {
    "text": "dig in it turns out to become more complicated than you think so you will end up with a lot of them so it means a",
    "start": "816579",
    "end": "822639"
  },
  {
    "text": "complex production environment lots of lots of deployments and that's placed back into the thing about continuous",
    "start": "822639",
    "end": "829089"
  },
  {
    "text": "delivery now the goal might be be that",
    "start": "829089",
    "end": "834899"
  },
  {
    "text": "flexibility but you also need to continuous delivery in conjunction with micro services just because the sheer",
    "start": "834899",
    "end": "841720"
  },
  {
    "text": "amount of services you have mean that you are going to deploy a whole lot and you're going to drown if you can't do it",
    "start": "841720",
    "end": "846880"
  },
  {
    "text": "automatically and continuously so so you bring in some complexities you force yourself into some complexities by",
    "start": "846880",
    "end": "853420"
  },
  {
    "text": "choosing micro services also see that sort of refactoring across micro",
    "start": "853420",
    "end": "858970"
  },
  {
    "text": "services can be difficult if you don't get those boundaries right then you are in a situation where you have different",
    "start": "858970",
    "end": "864250"
  },
  {
    "text": "code bases and different repositories and you have different pipelines in order to deploy them but now you need to",
    "start": "864250",
    "end": "869529"
  },
  {
    "text": "move code from one to the other that's just a lot more difficult than having it in one solution and have you IDE just do",
    "start": "869529",
    "end": "876970"
  },
  {
    "text": "the move refactoring and then boom you're done it's just a lot more coordination which is also why I think",
    "start": "876970",
    "end": "886149"
  },
  {
    "text": "that the sensible sensical way of approaching it is actually rather",
    "start": "886149",
    "end": "892769"
  },
  {
    "text": "starting with slightly too big than slightly too small with micro services so it's also sort of one of my well",
    "start": "892769",
    "end": "900639"
  },
  {
    "text": "that's not really on any of the slides but it's one of the things I do want to say that that that that if you go into",
    "start": "900639",
    "end": "906399"
  },
  {
    "text": "the micro service journey you should you should err on the side of making them slightly bigger you should rather say",
    "start": "906399",
    "end": "913290"
  },
  {
    "text": "okay I'm going to start with that loyalty program even though I think maybe down the road I'm going to split",
    "start": "913290",
    "end": "918939"
  },
  {
    "text": "it up into more things but I'm not sure yet then I'd rather start with the bigger one and split them later because",
    "start": "918939",
    "end": "924490"
  },
  {
    "text": "that's that's a smaller hassle than taking two that were too small and just a compost them to work with and putting",
    "start": "924490",
    "end": "930399"
  },
  {
    "text": "them together I'd rather go the other way around but over time you're going to get a lot of them and that",
    "start": "930399",
    "end": "935830"
  },
  {
    "text": "introduces some some some headaches okay so with those warning sort of out of the",
    "start": "935830",
    "end": "942100"
  },
  {
    "text": "way I'm going to assume that we are doing micro services and therefore that",
    "start": "942100",
    "end": "947380"
  },
  {
    "text": "we do have these hundreds of services and that we do need to think about the collaboration between them and what do I",
    "start": "947380",
    "end": "955210"
  },
  {
    "text": "mean by collaboration I mean any and all communication between the micro services",
    "start": "955210",
    "end": "962080"
  },
  {
    "text": "so in the example that were some arrows and that meant that I was a communication going on between these",
    "start": "962080",
    "end": "967870"
  },
  {
    "text": "micro services so every time they talk to each other in some kind of way that's",
    "start": "967870",
    "end": "973570"
  },
  {
    "text": "collaboration and I find it helpful to split lease split the collaboration into",
    "start": "973570",
    "end": "980320"
  },
  {
    "text": "three styles and styles doesn't have three SS in it but it does on my slide",
    "start": "980320",
    "end": "986110"
  },
  {
    "text": "apparently it does today those three styles I think are useful to think about",
    "start": "986110",
    "end": "993010"
  },
  {
    "text": "our commands queries and events and again you'll notice these aren't words",
    "start": "993010",
    "end": "998500"
  },
  {
    "text": "that I just sort of made up these are words that we that we've used a lot around software and in other contexts as",
    "start": "998500",
    "end": "1004110"
  },
  {
    "text": "well and that's a good thing these should be should be something we we know about commands is one micro service ask another one to",
    "start": "1004110",
    "end": "1011580"
  },
  {
    "text": "do something do something for me queries is one micro service asking another micro service for some data back give me",
    "start": "1011580",
    "end": "1017970"
  },
  {
    "text": "this back asking a question elements which is kind of the most interesting",
    "start": "1017970",
    "end": "1024660"
  },
  {
    "text": "one of the of the bonds and and and the one that I'm going to recommend as your",
    "start": "1024660",
    "end": "1029670"
  },
  {
    "text": "preferred way of of creating a collaboration between micro services events are stuff that has happened it's",
    "start": "1029670",
    "end": "1037829"
  },
  {
    "text": "a past tense it's a fact it's someone registered with the loyalty program it's",
    "start": "1037830",
    "end": "1044220"
  },
  {
    "text": "not that they're going to register it's that they did register so when the loyalty program might decide to raise an",
    "start": "1044220",
    "end": "1053280"
  },
  {
    "text": "event and say some someone someone registered then they are already",
    "start": "1053280",
    "end": "1059580"
  },
  {
    "text": "registered it's not something the other parts of the system can say no no that's not going to happen it already has happened and that style",
    "start": "1059580",
    "end": "1068070"
  },
  {
    "text": "the past tense and the and the stating of facts that turns out to give you some some some nice",
    "start": "1068070",
    "end": "1075870"
  },
  {
    "text": "properties around robustness and scalability around these services so if",
    "start": "1075870",
    "end": "1082380"
  },
  {
    "text": "we look at the example again we will see that we actually have a bunch of the",
    "start": "1082380",
    "end": "1089310"
  },
  {
    "text": "different types of collaboration already going on so I'm just going to see if I can point up there in the corner we have",
    "start": "1089310",
    "end": "1096870"
  },
  {
    "text": "some event based collaboration already going on and it's in the new corner over",
    "start": "1096870",
    "end": "1103410"
  },
  {
    "text": "here and down here we have some sort of get something about the user that's a query",
    "start": "1103410",
    "end": "1109650"
  },
  {
    "text": "and we have that down here as well I'm going to bind the other way over there",
    "start": "1109650",
    "end": "1115920"
  },
  {
    "text": "we have them get and that's a query we also sort of have send out that notification and that's a command and so",
    "start": "1115920",
    "end": "1122580"
  },
  {
    "text": "we have on this slide already we have some queries we have some commands and we have some some event based",
    "start": "1122580",
    "end": "1129900"
  },
  {
    "text": "collaboration commands and queries I'm going to talk about these in conjunction and then after that I'm going to talk",
    "start": "1129900",
    "end": "1137130"
  },
  {
    "text": "about about events because events is the one that is your man out so commands and",
    "start": "1137130",
    "end": "1146340"
  },
  {
    "text": "queries share the fact that they are synchronous so if you send a command you know to stuff and then you sort of need",
    "start": "1146340",
    "end": "1153270"
  },
  {
    "text": "the answer back that at least the other party has accepted to do to do that that command whether they've actually",
    "start": "1153270",
    "end": "1159480"
  },
  {
    "text": "finished that command and actually done it that's kind of another question but they've accepted that yes I received",
    "start": "1159480",
    "end": "1165270"
  },
  {
    "text": "that that come out with queries I guess it's even more obvious that if you sort of ask that loyalty program microservice",
    "start": "1165270",
    "end": "1172770"
  },
  {
    "text": "how many point points does this give in use I have then it doesn't make any sense to not get the answer back it's",
    "start": "1172770",
    "end": "1179400"
  },
  {
    "text": "not really a query you get the answer back so it's synchronous and that that sense now last time I presented on these",
    "start": "1179400",
    "end": "1187380"
  },
  {
    "text": "slides I sort of got the question at this point oh but we can implement that",
    "start": "1187380",
    "end": "1194540"
  },
  {
    "text": "request response over an asynchronous pipe we can sort of do a message and then get a message back later yes that's",
    "start": "1194540",
    "end": "1201540"
  },
  {
    "text": "true but that's on a logical level at least that's still synchronous in my mind you",
    "start": "1201540",
    "end": "1206730"
  },
  {
    "text": "wait for the further response so so these are synchronous on the honor logical level at least and they map",
    "start": "1206730",
    "end": "1213330"
  },
  {
    "text": "nicely to HTTP and have so queries are pretty much just an HTTP GET if we do it",
    "start": "1213330",
    "end": "1219600"
  },
  {
    "text": "a way to be commands are pretty much just HTTP posts or HTTP put so I get ya",
    "start": "1219600",
    "end": "1226200"
  },
  {
    "text": "that's for asking for something something getting an answer back and you are even allowed to to cash it in a lot",
    "start": "1226200",
    "end": "1232290"
  },
  {
    "text": "of cases and so on so forth and that's nice post input yeah that's",
    "start": "1232290",
    "end": "1237900"
  },
  {
    "text": "meant to change something on the server side so that fits nicely with a command go do this I post a command up there and",
    "start": "1237900",
    "end": "1245630"
  },
  {
    "text": "already here we are kind of starting to see that since HTTP is so ambiguous",
    "start": "1245630",
    "end": "1254900"
  },
  {
    "text": "ubiquitous and it's it's definitely already in your data centers all text",
    "start": "1254900",
    "end": "1261210"
  },
  {
    "text": "tax-supported it's just it's just there anyway and it's probably also one of the",
    "start": "1261210",
    "end": "1268910"
  },
  {
    "text": "more stable thing things in your in your data centers are where where where you",
    "start": "1268910",
    "end": "1274920"
  },
  {
    "text": "have your courier service ID code running it sends too often be sort of a it's it's a good choice actually to use",
    "start": "1274920",
    "end": "1281100"
  },
  {
    "text": "that it's there anyway we don't have to introduce sort of another technology in order to do this so just annotating this",
    "start": "1281100",
    "end": "1287640"
  },
  {
    "text": "picture again and I don't expect that to be any big surprises in this I pointed",
    "start": "1287640",
    "end": "1294060"
  },
  {
    "text": "out the gate query get loyalty points by",
    "start": "1294060",
    "end": "1299760"
  },
  {
    "text": "user and oddly enough that's nature we get to something with the user and some kind of user ID I guess that shouldn't",
    "start": "1299760",
    "end": "1306450"
  },
  {
    "text": "be any big surprise we also have the command of registering a user that we",
    "start": "1306450",
    "end": "1315030"
  },
  {
    "text": "have here and that's an HTTP POST and that sort of Maps as you would expect and just to true",
    "start": "1315030",
    "end": "1321570"
  },
  {
    "text": "probe drive this point home it's also",
    "start": "1321570",
    "end": "1326610"
  },
  {
    "text": "pretty easy to implement this bit this little snippet of c-sharp code uses the",
    "start": "1326610",
    "end": "1333750"
  },
  {
    "text": "de Nancy web framework was a nice little well not actually little but nice lightweight easy-to-use web framework",
    "start": "1333750",
    "end": "1341280"
  },
  {
    "text": "that you can use on on asp net array it's been a core and it looks like this so we can just say get and that means",
    "start": "1341280",
    "end": "1348930"
  },
  {
    "text": "something that are going to respond to an HTTP GET then we put in a a pattern",
    "start": "1348930",
    "end": "1354810"
  },
  {
    "text": "for the for the URL in this case the user ID and then comes a lambda that it's the implementation of whatever you",
    "start": "1354810",
    "end": "1360450"
  },
  {
    "text": "want to do and it's straightforward in this case we take out the user ID from",
    "start": "1360450",
    "end": "1366450"
  },
  {
    "text": "the from the route itself and then we just sort of check if the user is",
    "start": "1366450",
    "end": "1372030"
  },
  {
    "text": "already there and if they are then we return the user and have it serialize",
    "start": "1372030",
    "end": "1378360"
  },
  {
    "text": "deviation or whatever and if not we we return a not found and somewhere you",
    "start": "1378360",
    "end": "1384990"
  },
  {
    "text": "might be sort of going okay why is he showing us this it's not it's not hard it's not not it's nothing difficult here",
    "start": "1384990",
    "end": "1391650"
  },
  {
    "text": "but that's the point this is actually pretty simple so just going with HTTP means that you're in a familiar",
    "start": "1391650",
    "end": "1398010"
  },
  {
    "text": "territory and you have a lot of things already defined like what should I do if I can't find the user well you reach or not found because",
    "start": "1398010",
    "end": "1405000"
  },
  {
    "text": "that's already in the protocol you don't have to make that stuff up yourself same",
    "start": "1405000",
    "end": "1410310"
  },
  {
    "text": "kind of thing goes for a command it's a post again the nancy code is pretty",
    "start": "1410310",
    "end": "1416820"
  },
  {
    "text": "straightforward I think you just have a post to some URL and then you have a lambda that can that that handles that",
    "start": "1416820",
    "end": "1426000"
  },
  {
    "text": "command and on that first language says this dot bind loyalty program user we",
    "start": "1426000",
    "end": "1431430"
  },
  {
    "text": "just try to deserialize the body of the post into a type called a loyalty",
    "start": "1431430",
    "end": "1437130"
  },
  {
    "text": "program user that's what's going on there so that's model binding I have the same thing in in MVC core if you prefer",
    "start": "1437130",
    "end": "1443610"
  },
  {
    "text": "that or probably in most web frameworks and then you just do whatever you have to do in order to fulfill to come out",
    "start": "1443610",
    "end": "1450170"
  },
  {
    "text": "right so switching gears a little bit",
    "start": "1450170",
    "end": "1455960"
  },
  {
    "text": "let's go in and open that has to move to the right screen there go now you can",
    "start": "1455960",
    "end": "1462810"
  },
  {
    "text": "see it right good okay so let's just clean that so we have",
    "start": "1462810",
    "end": "1470360"
  },
  {
    "text": "a little demo thing here and there's a client and it's over in there we're going to talk about the server now and",
    "start": "1470360",
    "end": "1478310"
  },
  {
    "text": "then we're going to look at the client at towards the end so let me just open",
    "start": "1478310",
    "end": "1483860"
  },
  {
    "text": "up the code that we have here that opened up on my screen here as well there we go now you can see it you okay",
    "start": "1483860",
    "end": "1492730"
  },
  {
    "text": "so that's off to that side no there we",
    "start": "1492730",
    "end": "1500000"
  },
  {
    "text": "go there's my mouse anyway so it's a slightly different example we could imagine we have a shopping cart and it's",
    "start": "1500000",
    "end": "1506150"
  },
  {
    "text": "really not an advanced shopping cart at all we also have a get thing and we have",
    "start": "1506150",
    "end": "1512660"
  },
  {
    "text": "a post thing here so giving some user ID we can or sorry given some use ID we can",
    "start": "1512660",
    "end": "1521270"
  },
  {
    "text": "post in some products that we get here",
    "start": "1521270",
    "end": "1526970"
  },
  {
    "text": "by doing the model binding again trying to deserialize from the bottom you know found the body into an I new role of of",
    "start": "1526970",
    "end": "1533590"
  },
  {
    "text": "products and then you can just sort of interact with that and it shouldn't really be that surprising so I'm just",
    "start": "1533590",
    "end": "1539510"
  },
  {
    "text": "going to start this going into service",
    "start": "1539510",
    "end": "1544650"
  },
  {
    "text": "[Music] and I guess we could also sort of",
    "start": "1544650",
    "end": "1549830"
  },
  {
    "text": "mention that in order to set this up it's not much to it if you if you've",
    "start": "1549830",
    "end": "1555950"
  },
  {
    "text": "seen is peanut quarry in action and might have it although other talks then",
    "start": "1555950",
    "end": "1561830"
  },
  {
    "text": "you'll know about the startup thing here where we sort of configure the whole application and all we're doing here is",
    "start": "1561830",
    "end": "1567830"
  },
  {
    "text": "basically just saying use Nancy to the app and then then you're ready to go then this Nancy module that we just saw",
    "start": "1567830",
    "end": "1574370"
  },
  {
    "text": "the cart will be discovered and those routes will be set up so that we get so",
    "start": "1574370",
    "end": "1582140"
  },
  {
    "text": "that we can hit those endpoints that we defined in the cart OCS so we have that",
    "start": "1582140",
    "end": "1590120"
  },
  {
    "text": "there okay so just check that we are up and running in the background yes we are and it's listening on localhost 5,000",
    "start": "1590120",
    "end": "1597170"
  },
  {
    "text": "good so it's running now and then I have some can't test requests",
    "start": "1597170",
    "end": "1602360"
  },
  {
    "text": "that we're just going to to fire off just as you can see exactly how these requests look so first off we have a",
    "start": "1602360",
    "end": "1608150"
  },
  {
    "text": "post to port 5,000 shopping cart and then 500 that's just some user ID and",
    "start": "1608150",
    "end": "1614060"
  },
  {
    "text": "I'm going to say that we are posting some some application JSON and what",
    "start": "1614060",
    "end": "1620600"
  },
  {
    "text": "we're posting is an array of products so I'm putting a hololens and an oculus",
    "start": "1620600",
    "end": "1626150"
  },
  {
    "text": "rift in my in my shopping cart apparently so let's just send that off and we get back a 200 ok and then we",
    "start": "1626150",
    "end": "1633500"
  },
  {
    "text": "actually get the contents of the shopping cart and let's just see that in the code as well what oops I wanted to",
    "start": "1633500",
    "end": "1640760"
  },
  {
    "text": "go there make that a little bit bigger",
    "start": "1640760",
    "end": "1649160"
  },
  {
    "text": "so we did the post and we got we read",
    "start": "1649160",
    "end": "1656360"
  },
  {
    "text": "the products out from the from the bottom of the opening button body of the request and then we just",
    "start": "1656360",
    "end": "1664940"
  },
  {
    "text": "return the cart however it looks for that user and then just let Nancy deal",
    "start": "1664940",
    "end": "1670700"
  },
  {
    "text": "with the with the serialization and because we said we also had an accept header on the request saying we want the",
    "start": "1670700",
    "end": "1677000"
  },
  {
    "text": "application JSON back then the web framework figures out how to serialize that in a proper manner again these are",
    "start": "1677000",
    "end": "1684590"
  },
  {
    "text": "things that we might look at and say ok we've seen country negotiation before we've seen Jason serialization before",
    "start": "1684590",
    "end": "1690800"
  },
  {
    "text": "well my point really is that yeah that is the point these things are things that kind of just work in your in your stacks so you",
    "start": "1690800",
    "end": "1698870"
  },
  {
    "text": "can think about the actual collaboration and not all the tech things so I think that's why I think HTTP is a good",
    "start": "1698870",
    "end": "1706040"
  },
  {
    "text": "starting point for a lot of things right going back to the slides and turning the",
    "start": "1706040",
    "end": "1712610"
  },
  {
    "text": "attention to talking about events because as I said earlier this is probably the the type of collaboration",
    "start": "1712610",
    "end": "1719780"
  },
  {
    "text": "that should be preferred in a lot of cases events are asynchronous so as I",
    "start": "1719780",
    "end": "1727430"
  },
  {
    "text": "also stated earlier it's past tense and it's a fact it's something that has already happened so in that sense it's is asynchronous by",
    "start": "1727430",
    "end": "1734679"
  },
  {
    "text": "nature and it follows a publish/subscribe sort of pattern so you",
    "start": "1734679",
    "end": "1742720"
  },
  {
    "text": "have one side publishing the events like okay there's a new user in the loyalty",
    "start": "1742720",
    "end": "1748240"
  },
  {
    "text": "program that's the loyalty program micros are we saying saying that that's an event it's happened there's a new",
    "start": "1748240",
    "end": "1753610"
  },
  {
    "text": "user then there might be other parts of the system that listens to the within those events or if you look at the",
    "start": "1753610",
    "end": "1760830"
  },
  {
    "text": "special office micro service that we had on the examples live from earlier is there's a new offer and it looks like",
    "start": "1760830",
    "end": "1766840"
  },
  {
    "text": "this tomorrow this is going to be discounted that's the publisher side and",
    "start": "1766840",
    "end": "1772000"
  },
  {
    "text": "then the loyalty program micro-service and can can subscribe to that and say",
    "start": "1772000",
    "end": "1777789"
  },
  {
    "text": "okay I want to react to those events but it doesn't have to do it synchronously it can do it on its own schedule so the",
    "start": "1777789",
    "end": "1784059"
  },
  {
    "text": "point is that it's already happened so it's sort of up to the subscriber how quickly how real time does this need to",
    "start": "1784059",
    "end": "1790809"
  },
  {
    "text": "need to be maybe it doesn't need to be that real time so you can have sort of a good lag there and that evens out the",
    "start": "1790809",
    "end": "1798130"
  },
  {
    "text": "load and that makes that that lowers your temporal Koopaling between these micro services which is really good and",
    "start": "1798130",
    "end": "1805330"
  },
  {
    "text": "yet this is pretty easy to implement with with HTTP so on the micro service",
    "start": "1805330",
    "end": "1814419"
  },
  {
    "text": "publishing the events we want an event feed and you can think about this as an atom feed or an RSS feed where you",
    "start": "1814419",
    "end": "1820570"
  },
  {
    "text": "subscribe to news or blog posts or whatever is a it's the same same idea we just have an endpoint that is a good",
    "start": "1820570",
    "end": "1827260"
  },
  {
    "text": "endpoint and supports some kind of paging and then you make requests like",
    "start": "1827260",
    "end": "1832600"
  },
  {
    "text": "like this or along these lines and HTTP GET to slash events and you say I want",
    "start": "1832600",
    "end": "1837970"
  },
  {
    "text": "event number 100 through to 200 and then",
    "start": "1837970",
    "end": "1843370"
  },
  {
    "text": "you get those back and then you do whatever with them so that's on the side",
    "start": "1843370",
    "end": "1848440"
  },
  {
    "text": "of the the publisher you just need this event feed and then you kind of done in",
    "start": "1848440",
    "end": "1854740"
  },
  {
    "text": "order of implementing the event based collaboration well almost you need a little bit more because you need to",
    "start": "1854740",
    "end": "1860769"
  },
  {
    "text": "actually raise these events but sort of raising them I tend to use that term but it does sound",
    "start": "1860769",
    "end": "1867940"
  },
  {
    "text": "like it's sort of shouting out to the world there's a new loyalty program user there is a new special offer but it's",
    "start": "1867940",
    "end": "1873970"
  },
  {
    "text": "not really true if we implement it like this then actually what's going on it's just sort of the little micro service there with its own little database",
    "start": "1873970",
    "end": "1880660"
  },
  {
    "text": "saying okay I'm going to put an event down there it's already happened I'm not going to tell anybody because I'm actually just storing the fact that this",
    "start": "1880660",
    "end": "1888070"
  },
  {
    "text": "happened in local database and then it's only at the point where somebody asks for that for those events via that",
    "start": "1888070",
    "end": "1895450"
  },
  {
    "text": "events endpoint that we actually give it to anybody um that's also sort of a nice thing cooling",
    "start": "1895450",
    "end": "1902740"
  },
  {
    "text": "wise that means that the the publisher doesn't know who the subscribers are somebody just calls that and anybody can",
    "start": "1902740",
    "end": "1908470"
  },
  {
    "text": "do it it's fine that also means that subscribers don't have to be up at the point where the",
    "start": "1908470",
    "end": "1913780"
  },
  {
    "text": "events are raised when the render race it's just needs two stories in their own local database so the so the the",
    "start": "1913780",
    "end": "1920350"
  },
  {
    "text": "microwave is a self-contained it can just raise the event it's done it's fine so that's good looking at code I think",
    "start": "1920350",
    "end": "1933850"
  },
  {
    "text": "we're going to see that that in there in the actual code in a little bit so I'm just going to skip that and talk about",
    "start": "1933850",
    "end": "1939820"
  },
  {
    "text": "how do you then actually subscribe to events and you do that by just following",
    "start": "1939820",
    "end": "1945130"
  },
  {
    "text": "this this circle so if we start at the top the first thing as subscribers you",
    "start": "1945130",
    "end": "1950410"
  },
  {
    "text": "do is fetch events that means doing an HTTP GET to that endpoint with the events and sort of which event you want",
    "start": "1950410",
    "end": "1957190"
  },
  {
    "text": "back then the next thing is that following the circle around that you",
    "start": "1957190",
    "end": "1962470"
  },
  {
    "text": "pass the event so you get them back in some JSON format or whatever so you have to read that and parse that out and then",
    "start": "1962470",
    "end": "1971020"
  },
  {
    "text": "you're ready to do whatever business logic you have to do so within that loyalty program microservice it's about",
    "start": "1971020",
    "end": "1977110"
  },
  {
    "text": "figuring out giving this these new special offers that i've ended out from",
    "start": "1977110",
    "end": "1982720"
  },
  {
    "text": "these special offers microservice who are the ones that i should notify about this weather who are the users that is",
    "start": "1982720",
    "end": "1989170"
  },
  {
    "text": "interesting for and you can have all sorts of rules about that maybe you know you profile the users know something",
    "start": "1989170",
    "end": "1994570"
  },
  {
    "text": "about the interest and you might also keep track of when did I last notify them something I don't want to bug them too",
    "start": "1994570",
    "end": "2000330"
  },
  {
    "text": "much and blah blah also all manner of rules but that's within the loyalty program micro service that is the one",
    "start": "2000330",
    "end": "2006540"
  },
  {
    "text": "that knows about this that and that sort of makes sense that it's that one the events are just coming from somewhere",
    "start": "2006540",
    "end": "2011790"
  },
  {
    "text": "else that doesn't have to know all these things then when you're done processing you just keep track of how many events",
    "start": "2011790",
    "end": "2018420"
  },
  {
    "text": "have I process now and then sleep for a while and the sort of that sleep is somewhat interesting because then after",
    "start": "2018420",
    "end": "2025140"
  },
  {
    "text": "the sleep you fetch again so essentially you're pulling on that events endpoint",
    "start": "2025140",
    "end": "2031500"
  },
  {
    "text": "like asking are there any new events are they any new events are they in the new events and is that terrible no I don't",
    "start": "2031500",
    "end": "2038670"
  },
  {
    "text": "think it is because for a good deal of",
    "start": "2038670",
    "end": "2044250"
  },
  {
    "text": "use cases that sleep time can be rather long at least in sort of machine time it",
    "start": "2044250",
    "end": "2049679"
  },
  {
    "text": "can be rather long do you have to have up to the millisecond real-time",
    "start": "2049679",
    "end": "2056158"
  },
  {
    "text": "responsiveness to notifying people about these special offers you probably don't maybe maybe it's once a day maybe you",
    "start": "2056159",
    "end": "2063628"
  },
  {
    "text": "can run it just every morning maybe you need even do it once every hour and even if you're just something down to",
    "start": "2063629",
    "end": "2069450"
  },
  {
    "text": "something like once every hour that's really slow for a machine right you're not gonna notice it on your on your",
    "start": "2069450",
    "end": "2074550"
  },
  {
    "text": "network that's a business rule thing so you have to understand of course the the",
    "start": "2074550",
    "end": "2079980"
  },
  {
    "text": "business capability being implemented in order to decide on that but it is worth noticing that this can be really really",
    "start": "2079980",
    "end": "2087419"
  },
  {
    "text": "slow actually and for a lot of use cases that is absolutely fine that means that",
    "start": "2087419",
    "end": "2092850"
  },
  {
    "text": "this this is not going to be there very noticeable yeah on your sort of network traffic it's just going to work fine",
    "start": "2092850",
    "end": "2098609"
  },
  {
    "text": "it's a pretty simple process it got its got some robustness built into it",
    "start": "2098609",
    "end": "2103680"
  },
  {
    "text": "because you're going to repeat it anyway you have that sleep period and then you're going to try again so if at the",
    "start": "2103680",
    "end": "2111450"
  },
  {
    "text": "time we're a subscriber wants to to look at some events if the publisher at that",
    "start": "2111450",
    "end": "2116550"
  },
  {
    "text": "point is down so when then a large program microservices micro service asks for new special",
    "start": "2116550",
    "end": "2122340"
  },
  {
    "text": "offers then when the special offer then if the special officer michael service is down that's fine it's just going to",
    "start": "2122340",
    "end": "2129030"
  },
  {
    "text": "jump over to the sleep period sleep awhile wake up ask again at that point you probably",
    "start": "2129030",
    "end": "2134460"
  },
  {
    "text": "fixed the the other other micro-service and you're good to go again of course if",
    "start": "2134460",
    "end": "2139500"
  },
  {
    "text": "it keeps being down then you have a problem but you people probably have other problems as well other than that it shouldn't just be down forever but",
    "start": "2139500",
    "end": "2147690"
  },
  {
    "text": "it's expected that they are down sometimes just because faders I expected but also because as we talked about with",
    "start": "2147690",
    "end": "2153660"
  },
  {
    "text": "lots and lots and lots of micro services you're going to have lots and lots and lots of deployments and you can do that",
    "start": "2153660",
    "end": "2159540"
  },
  {
    "text": "those with zero downtime but you can also accept there's a little bit of downtime in those deployments and then",
    "start": "2159540",
    "end": "2166470"
  },
  {
    "text": "design around it have some robustness and this just implicitly has that robustness in it so that's kind of nice",
    "start": "2166470",
    "end": "2173930"
  },
  {
    "text": "yeah so subscribing to these events the sort is is part of a of a micro service",
    "start": "2174890",
    "end": "2182640"
  },
  {
    "text": "but it can be a different process so it seems like something that belongs in sort of a background process so the",
    "start": "2182640",
    "end": "2188970"
  },
  {
    "text": "collaboration here is very much around HTTP so each micro service has a web",
    "start": "2188970",
    "end": "2194970"
  },
  {
    "text": "component to it it it's inside a web server but this subscription you might",
    "start": "2194970",
    "end": "2200640"
  },
  {
    "text": "want to pull out and having something else I think that's fine that you have micro services that span to operating",
    "start": "2200640",
    "end": "2206730"
  },
  {
    "text": "system processes like that and then you just deploy them together and that's one logical doing unit",
    "start": "2206730",
    "end": "2212270"
  },
  {
    "text": "okay so demoing this part as well back to the same solution of code here",
    "start": "2212270",
    "end": "2219660"
  },
  {
    "text": "we also have well actually first let's notice we have the raising of the event",
    "start": "2219660",
    "end": "2225300"
  },
  {
    "text": "here so this is in the business logic to main logic that I put here and yes it's",
    "start": "2225300",
    "end": "2230970"
  },
  {
    "text": "really small and just demo size code that I have here but we have some kind",
    "start": "2230970",
    "end": "2236370"
  },
  {
    "text": "of an event store and it's just a static dictionary really but you can imagine that it was a dictionary it was a",
    "start": "2236370",
    "end": "2243360"
  },
  {
    "text": "database that you put it into and it's persistent and I say raise an event and what I put into that is a product added",
    "start": "2243360",
    "end": "2250860"
  },
  {
    "text": "to cart event and that product added to carts event",
    "start": "2250860",
    "end": "2257870"
  },
  {
    "text": "[Music] this is you know it's not that interesting it really just takes a list",
    "start": "2258360",
    "end": "2264630"
  },
  {
    "text": "of products that you list out that these are the products that we just do put in there and then it has a sequence number",
    "start": "2264630",
    "end": "2269790"
  },
  {
    "text": "that is counted up each time and you event is raised then the other part of",
    "start": "2269790",
    "end": "2276480"
  },
  {
    "text": "this is the event feed and as I said it's just a very simple get end point in",
    "start": "2276480",
    "end": "2284250"
  },
  {
    "text": "order to implement this event feed and as you can see it really is a small and simple one you might need a little bit",
    "start": "2284250",
    "end": "2291690"
  },
  {
    "text": "more around sort of bound conditions for the start and the end and a couple of",
    "start": "2291690",
    "end": "2298320"
  },
  {
    "text": "error cases but this is essentially it that you just pull out the start and the end from the query string of the year of",
    "start": "2298320",
    "end": "2304800"
  },
  {
    "text": "the request and then you ask that event George you've just returned the events within this range and then you just let",
    "start": "2304800",
    "end": "2311460"
  },
  {
    "text": "the framework do the serialization and star and stuff so again it's a pretty simple idea it's easy to implement and",
    "start": "2311460",
    "end": "2317490"
  },
  {
    "text": "you get some of the some of the stuff that you sort of need around it the infrastructure that you need around is",
    "start": "2317490",
    "end": "2322530"
  },
  {
    "text": "to make it happen you get that request you're just using a web framework so that's a good thing about frameworks",
    "start": "2322530",
    "end": "2327570"
  },
  {
    "text": "they sort of remove the fluff from you you just have to write the actual code",
    "start": "2327570",
    "end": "2333530"
  },
  {
    "text": "right so we have this running already so",
    "start": "2333740",
    "end": "2338970"
  },
  {
    "text": "I think we should be able to interact with this that would go so we already",
    "start": "2338970",
    "end": "2346080"
  },
  {
    "text": "put something into into a cart let's just check that it's still running and we and behind yeah it's still running",
    "start": "2346080",
    "end": "2352440"
  },
  {
    "text": "and it got a request earlier to put something into a cart so it should actually already have raised an event so",
    "start": "2352440",
    "end": "2358440"
  },
  {
    "text": "let's just see if we ask it for events number zero through to number ten then",
    "start": "2358440",
    "end": "2363720"
  },
  {
    "text": "what do we get and we get just the one event because there is just one event so",
    "start": "2363720",
    "end": "2370560"
  },
  {
    "text": "that's also probably how you should implement this that you can ask for whatever range you want and then you just get back only up to two whatever",
    "start": "2370560",
    "end": "2377070"
  },
  {
    "text": "there was that's pretty few more events in there just for the sake of it so I'm",
    "start": "2377070",
    "end": "2383460"
  },
  {
    "text": "just going to okay I'm moving that over",
    "start": "2383460",
    "end": "2388890"
  },
  {
    "text": "here so we're back to looking at the car and I'm just going to some more hot lenses and some more",
    "start": "2388890",
    "end": "2394410"
  },
  {
    "text": "oculus rifts to my cart let's do it a few times and now I should have a few",
    "start": "2394410",
    "end": "2400499"
  },
  {
    "text": "events in the feed so if I still ask for the first ten events I expect that",
    "start": "2400499",
    "end": "2409799"
  },
  {
    "text": "that's what I have out here oops sorry yeah tense till then if I ask for those",
    "start": "2409799",
    "end": "2417779"
  },
  {
    "text": "I should get back some of the larger list of events you see we have an event",
    "start": "2417779",
    "end": "2423479"
  },
  {
    "text": "going from there and down to here and",
    "start": "2423479",
    "end": "2430710"
  },
  {
    "text": "have sequence number one and it says okay there were some products at it and we have another one and they look kind",
    "start": "2430710",
    "end": "2435930"
  },
  {
    "text": "of similar because it's the same product that I that I added several times but the sequence number goes up and we see",
    "start": "2435930",
    "end": "2442440"
  },
  {
    "text": "those on top so number four and if I only asked for like number two to number",
    "start": "2442440",
    "end": "2449009"
  },
  {
    "text": "three and of course I get this back F",
    "start": "2449009",
    "end": "2455279"
  },
  {
    "text": "see if that works I get no matter where number three back so not too surprising",
    "start": "2455279",
    "end": "2462059"
  },
  {
    "text": "but the point is that now you can just you can use something that you already have in your stack namely HTTP in order",
    "start": "2462059",
    "end": "2471119"
  },
  {
    "text": "to get this event based system now you can ask yourself why aren't we doing",
    "start": "2471119",
    "end": "2476489"
  },
  {
    "text": "this over some sort of a queueing system and there are definitely cases in fact",
    "start": "2476489",
    "end": "2481680"
  },
  {
    "text": "there are a lot of cases where I think that it's a that is a good as the idea as well but I don't think starting out",
    "start": "2481680",
    "end": "2488729"
  },
  {
    "text": "with this preclude going to a a queueing system at a later later stage and I",
    "start": "2488729",
    "end": "2495539"
  },
  {
    "text": "think it's something that you can sensibly avoid for for for a time at",
    "start": "2495539",
    "end": "2501509"
  },
  {
    "text": "least because at least if you are it well if you're in the cloud and",
    "start": "2501509",
    "end": "2506700"
  },
  {
    "text": "everything is just a happy Dappy and every technology just works then that's fine that's not always the reality",
    "start": "2506700",
    "end": "2512430"
  },
  {
    "text": "sometimes you have to run things yourself and sometimes the things doesn't work quite as well as advertised",
    "start": "2512430",
    "end": "2518839"
  },
  {
    "text": "so the learning curve of running something like like rabbitmq are running a calf care",
    "start": "2518839",
    "end": "2524359"
  },
  {
    "text": "is not always that easy there's also something to learn it's a point it's a",
    "start": "2524359",
    "end": "2529400"
  },
  {
    "text": "it's a technology that you have to learn to operate and run won't run properly so you're maybe you don't have to do that",
    "start": "2529400",
    "end": "2535759"
  },
  {
    "text": "from day one maybe you don't have the scale where you actually eat something for Kefka I think you can scale up",
    "start": "2535759",
    "end": "2541549"
  },
  {
    "text": "further with that and you probably in most cases can with this but a lot of systems don't need to do that until",
    "start": "2541549",
    "end": "2548630"
  },
  {
    "text": "further down the line so one point is just start out simple and you can actually get a long way and this doesn't",
    "start": "2548630",
    "end": "2554150"
  },
  {
    "text": "bar you from then going over to another technology because the essence here is",
    "start": "2554150",
    "end": "2559400"
  },
  {
    "text": "that if you get the collaboration to sign around the events and you get the Asian decoration a christen a city I",
    "start": "2559400",
    "end": "2567170"
  },
  {
    "text": "think that's right word I can't I can't talk you get the asynchronous collaboration and that's that's the",
    "start": "2567170",
    "end": "2573529"
  },
  {
    "text": "essential bit then sort of over time yes you can introduce another technology and and switch it over but this is a good",
    "start": "2573529",
    "end": "2579470"
  },
  {
    "text": "starting point and you might not have to move beyond the starting point and then you saved the the time of learning that",
    "start": "2579470",
    "end": "2585559"
  },
  {
    "text": "technology and I think sort of something that is sometimes overlooked as well is that that cuing technologies can",
    "start": "2585559",
    "end": "2595339"
  },
  {
    "text": "introduce a single point of failure because that's look at something like like rabbit where do you put those those",
    "start": "2595339",
    "end": "2602779"
  },
  {
    "text": "events that you put on on RabbitMQ you put them into a rabbit cluster yes it cluster its clustered but it's one",
    "start": "2602779",
    "end": "2609650"
  },
  {
    "text": "central point where everything goes through so now I have a single point of failure that's not really the case here",
    "start": "2609650",
    "end": "2617150"
  },
  {
    "text": "so you avoid that as well",
    "start": "2617150",
    "end": "2620739"
  },
  {
    "text": "right back to slides so a little recap",
    "start": "2622690",
    "end": "2628940"
  },
  {
    "text": "of the example here we've seen event based collaboration in the top left-hand",
    "start": "2628940",
    "end": "2635359"
  },
  {
    "text": "corner we've seen some query and command based collaboration in the bottom left-hand",
    "start": "2635359",
    "end": "2641960"
  },
  {
    "text": "corner and we've seen them all implemented over HTTP m-yeah",
    "start": "2641960",
    "end": "2648680"
  },
  {
    "text": "just going to repeat that we have the three different styles so repeating",
    "start": "2648680",
    "end": "2654950"
  },
  {
    "text": "someone what I've already said commands and queries are as synchronous and that means that the",
    "start": "2654950",
    "end": "2661970"
  },
  {
    "text": "caller sees errors if you query some for something and the other one is down or fail so however then the caller see",
    "start": "2661970",
    "end": "2671180"
  },
  {
    "text": "those sees those errors and they have to decide what to do you can't you can't",
    "start": "2671180",
    "end": "2676190"
  },
  {
    "text": "make the server side be the one responsible for dealing with errors because they might not even see the",
    "start": "2676190",
    "end": "2682579"
  },
  {
    "text": "requests it might be the network that's broken so it has to be the the caller",
    "start": "2682579",
    "end": "2688160"
  },
  {
    "text": "that they that deals with that and maybe sometimes that's kind of the obvious way of doing things so it can be so it can",
    "start": "2688160",
    "end": "2694160"
  },
  {
    "text": "be good that you're doing that because the new arranger code that you can that",
    "start": "2694160",
    "end": "2699170"
  },
  {
    "text": "you can easily understand um you get the sort of consistency in the sense that",
    "start": "2699170",
    "end": "2705950"
  },
  {
    "text": "you that we usually think about it a lot here because it's a synchronous you ask for something you get it back so there's",
    "start": "2705950",
    "end": "2713479"
  },
  {
    "text": "some sort of ease of use in in doing this but there's also some cooling and",
    "start": "2713479",
    "end": "2719660"
  },
  {
    "text": "especially the temporal cooling that is that both services has to be up can",
    "start": "2719660",
    "end": "2724700"
  },
  {
    "text": "really bite you as you go along it's also is also slow again this is",
    "start": "2724700",
    "end": "2731210"
  },
  {
    "text": "something we've set for years and years and years we'll all distributed systems and it is true that making remote calls",
    "start": "2731210",
    "end": "2738229"
  },
  {
    "text": "is slow compared to doing it inside of your your own process and sort of the lure of doing these kinds of",
    "start": "2738229",
    "end": "2744979"
  },
  {
    "text": "collaborations with commands and queries is that it looks like just a method called but it really isn't it's not",
    "start": "2744979",
    "end": "2750650"
  },
  {
    "text": "stable in nearly the same way and it's not nearly as fast so beware of that",
    "start": "2750650",
    "end": "2757150"
  },
  {
    "text": "events on the other hand are asynchronous which means that the point",
    "start": "2757150",
    "end": "2764630"
  },
  {
    "text": "in time where you feel that that slowness of the remoteness and the",
    "start": "2764630",
    "end": "2770390"
  },
  {
    "text": "instability of doing a remote calls sort of moves it's not at the point where the event is rates it's at the is at the",
    "start": "2770390",
    "end": "2777589"
  },
  {
    "text": "subscriber so the subscriber has to be the one dealing there with errors and it's for the same reason the subscriber",
    "start": "2777589",
    "end": "2784160"
  },
  {
    "text": "is now one the one making the call so it's the only one that is in a position to deal with there",
    "start": "2784160",
    "end": "2790049"
  },
  {
    "text": "but I think that's a good thing around these things it makes sense that it's a subscriber that knows why it needs the",
    "start": "2790049",
    "end": "2796469"
  },
  {
    "text": "events it's a subscriber that knows how critical this is so it's a subscriber that's able to deal with their with",
    "start": "2796469",
    "end": "2802380"
  },
  {
    "text": "errors and say how quickly should I retry what should my compensating actions be what do I need to do around",
    "start": "2802380",
    "end": "2808979"
  },
  {
    "text": "this in order to to deal with errors the one raising them and doesn't know that",
    "start": "2808979",
    "end": "2815930"
  },
  {
    "text": "you have eventual consistency with this with this and I think that's that worth pointing out because eventually",
    "start": "2816170",
    "end": "2824400"
  },
  {
    "text": "consistency can be a double-edged sword III find its kind it's really neat when",
    "start": "2824400",
    "end": "2830640"
  },
  {
    "text": "it when it works that you just sort of have these things happening and then eventually everybody",
    "start": "2830640",
    "end": "2836459"
  },
  {
    "text": "will catch up in an asynchronous fashion and things will be consistent again but it's also not always the way we",
    "start": "2836459",
    "end": "2844859"
  },
  {
    "text": "intuitively think about things so we do run into situations where it's kind of",
    "start": "2844859",
    "end": "2850469"
  },
  {
    "text": "surprising to people that something was so eventually consistent and we can come up with sort of good scenarios where",
    "start": "2850469",
    "end": "2856380"
  },
  {
    "text": "nobody will ever notice that it's eventually consistent but I think it's worth being aware of that not all cases",
    "start": "2856380",
    "end": "2863249"
  },
  {
    "text": "sort of intuitively fit into that and that's worth at least thinking about how",
    "start": "2863249",
    "end": "2868259"
  },
  {
    "text": "can you then make it look consistent and I think there are there are ways that",
    "start": "2868259",
    "end": "2874670"
  },
  {
    "text": "you can do you can do that maybe you can redesign the workflow maybe you can make",
    "start": "2874670",
    "end": "2880769"
  },
  {
    "text": "the communication back to the user slightly different so that it becomes obvious that you're doing a eventual",
    "start": "2880769",
    "end": "2886799"
  },
  {
    "text": "consistency but I think it's something we should just be upfront about that this is something we need in order to",
    "start": "2886799",
    "end": "2891839"
  },
  {
    "text": "get the stability and the scalability in these types of systems and then design it into into the features as well and",
    "start": "2891839",
    "end": "2898680"
  },
  {
    "text": "that that's that's that's all doable and you have much less temporal coupling",
    "start": "2898680",
    "end": "2904829"
  },
  {
    "text": "with this and we and then you have the other two styles the collaboration which I think I have labor already now as time",
    "start": "2904829",
    "end": "2912719"
  },
  {
    "text": "passes with these micro service systems they they evolve as I as I said so and",
    "start": "2912719",
    "end": "2923010"
  },
  {
    "text": "then kind of this tends to happen over time maybe by accident or maybe on",
    "start": "2923010",
    "end": "2930150"
  },
  {
    "text": "purpose I probably need some guidance in order to happen and what it's meant so",
    "start": "2930150",
    "end": "2936090"
  },
  {
    "text": "to illustrate that is that some micro-services are more closely related",
    "start": "2936090",
    "end": "2941160"
  },
  {
    "text": "than others some are more cohesive than than others and that's ok and there is",
    "start": "2941160",
    "end": "2947310"
  },
  {
    "text": "justice with objects there's the duality of Koopaling and cohesion I think that's",
    "start": "2947310",
    "end": "2953100"
  },
  {
    "text": "true for micro services as well so the colored circles that there are meant to",
    "start": "2953100",
    "end": "2958770"
  },
  {
    "text": "be groups of services in one case it's group of service singular we just have",
    "start": "2958770",
    "end": "2965610"
  },
  {
    "text": "one in there these could be bounded context if you're doing the main driven design and then within those boundaries",
    "start": "2965610",
    "end": "2972110"
  },
  {
    "text": "turns out you have different capabilities and then you might implement one capability in one Mike",
    "start": "2972110",
    "end": "2978090"
  },
  {
    "text": "Reserve is another capability in another micro service that's what you have illustrated here here here so that goes",
    "start": "2978090",
    "end": "2985980"
  },
  {
    "text": "back to the idea behind the urology program being something that at a first",
    "start": "2985980",
    "end": "2991140"
  },
  {
    "text": "unboxing nation might be one service then you might figure out oh this is a whole bowel in context with several capabilities inside of them but these",
    "start": "2991140",
    "end": "2997800"
  },
  {
    "text": "are more cohesive than they are sort of at the rest of the system so within those I tend to accept higher coupling",
    "start": "2997800",
    "end": "3004880"
  },
  {
    "text": "meaning that within a bounded context I think it can be OK to use command and",
    "start": "3004880",
    "end": "3011330"
  },
  {
    "text": "query based collaboration a little bit more whereas between these boundary",
    "start": "3011330",
    "end": "3016490"
  },
  {
    "text": "concepts between these groups of services so those are the read errors I strongly prefer event based in",
    "start": "3016490",
    "end": "3025130"
  },
  {
    "text": "collaboration because these are things that are further apart in the system so it's worse is if one brings the other",
    "start": "3025130",
    "end": "3031820"
  },
  {
    "text": "down it's all the things that are naturally further apart in the domain so",
    "start": "3031820",
    "end": "3037520"
  },
  {
    "text": "eventually consistency is more natural so I recommend eventually event based",
    "start": "3037520",
    "end": "3045770"
  },
  {
    "text": "collaboration as much and we can do it but especially between the bounded context and I think that's worth",
    "start": "3045770",
    "end": "3051140"
  },
  {
    "text": "noticing as well another thing you can sort of get from the illustration of this is that",
    "start": "3051140",
    "end": "3056849"
  },
  {
    "text": "you don't have to do it you don't have to do the sizes of these microservices uniformly across the whole system it",
    "start": "3056849",
    "end": "3063180"
  },
  {
    "text": "couldn't it can be fine that you sort of identified that the green area of their that bounded context well that's kind of",
    "start": "3063180",
    "end": "3070140"
  },
  {
    "text": "soups just within one big solution and it's okay then you can do sort of",
    "start": "3070140",
    "end": "3076710"
  },
  {
    "text": "smaller micro services in another part you still have the collaboration going on and you don't really have to notice",
    "start": "3076710",
    "end": "3082739"
  },
  {
    "text": "from the outside that one green one is one big thing you just have event based collaboration going on with it and it's",
    "start": "3082739",
    "end": "3088739"
  },
  {
    "text": "fine so in closing you should prefer",
    "start": "3088739",
    "end": "3093930"
  },
  {
    "text": "event based collaboration and we are done early I can see so we do have time",
    "start": "3093930",
    "end": "3100380"
  },
  {
    "text": "for questions if if there are any and if",
    "start": "3100380",
    "end": "3107519"
  },
  {
    "text": "not then you just get a bit more time for your break [Applause]",
    "start": "3107519",
    "end": "3119290"
  }
]