[
  {
    "start": "0",
    "end": "40000"
  },
  {
    "text": "so I thought we'd get started and if the",
    "start": "10170",
    "end": "15730"
  },
  {
    "text": "clicker wants to click yep hello my name is Linda lund and I'm here",
    "start": "15730",
    "end": "23140"
  },
  {
    "text": "because I love identity servers and I",
    "start": "23140",
    "end": "28779"
  },
  {
    "text": "ran across an addenda server recently that had some issues and I thought I would share those issues with you so",
    "start": "28779",
    "end": "35350"
  },
  {
    "text": "that maybe you can avoid some issues so I have worked as a application developer",
    "start": "35350",
    "end": "43960"
  },
  {
    "start": "40000",
    "end": "195000"
  },
  {
    "text": "for more than 25 years I graduated in 1994 back then we did not have Windows",
    "start": "43960",
    "end": "51610"
  },
  {
    "text": "everything was DOS based my most recent",
    "start": "51610",
    "end": "57010"
  },
  {
    "text": "position I was the lead developer on an identity server for application which",
    "start": "57010",
    "end": "63969"
  },
  {
    "text": "used our net core of course and entity server entity framework I am a big fan of Stack",
    "start": "63969",
    "end": "74049"
  },
  {
    "text": "Overflow you will probably run across me on there from time to time I have been",
    "start": "74049",
    "end": "80710"
  },
  {
    "text": "writing blogs and tutorials since probably around 2000 my roast recent",
    "start": "80710",
    "end": "87939"
  },
  {
    "text": "blog has been live since 2014 most of what I do on that blog is previously was",
    "start": "87939",
    "end": "95110"
  },
  {
    "text": "related to Google api's and dotnet and",
    "start": "95110",
    "end": "100500"
  },
  {
    "text": "recently I have been going more over to the dotnet course ID and identity server",
    "start": "100500",
    "end": "105520"
  },
  {
    "text": "just because that's what's fun for me right now I am also a Google developer",
    "start": "105520",
    "end": "111700"
  },
  {
    "text": "expert does anybody here know what a Google developer expert is if you heard of a Google developer expert Google",
    "start": "111700",
    "end": "118119"
  },
  {
    "text": "developer experts is Google's version of the Microsoft MVP program I have to",
    "start": "118119",
    "end": "126070"
  },
  {
    "text": "Google developer expert tags I was actually the fifth woman worldwide to be granted a Google developer expert",
    "start": "126070",
    "end": "132400"
  },
  {
    "text": "tag I have one for Google Analytics and the other one for identity platform",
    "start": "132400",
    "end": "138659"
  },
  {
    "text": "I am a contributor on the identity server for project open source project",
    "start": "139450",
    "end": "144940"
  },
  {
    "text": "and the Google dotnet client library when I say contributor I mean I like to",
    "start": "144940",
    "end": "150610"
  },
  {
    "text": "help out I answer it help with the issues on the forums I write documentation I write tutorials and",
    "start": "150610",
    "end": "158890"
  },
  {
    "text": "sample projects occasionally I will send in a bug fix I feel that these projects",
    "start": "158890",
    "end": "166810"
  },
  {
    "text": "all have their own lead developers who know what they're doing and are",
    "start": "166810",
    "end": "172030"
  },
  {
    "text": "perfectly capable that a lot of these projects do not have people like me who like to write documentation like to help",
    "start": "172030",
    "end": "178930"
  },
  {
    "text": "developers use their projects and just like the right sample code because",
    "start": "178930",
    "end": "184299"
  },
  {
    "text": "it's fun on my spare time so that's a little bit about what I am and what I do",
    "start": "184299",
    "end": "191079"
  },
  {
    "text": "so what are we gonna talk about today besides click or not working has anybody",
    "start": "191079",
    "end": "199390"
  },
  {
    "start": "195000",
    "end": "337000"
  },
  {
    "text": "ever heard of a lost puppy project okay this is a little pet name that I've",
    "start": "199390",
    "end": "206530"
  },
  {
    "text": "given it let's see if maybe I can clue you in on this a lost puppy project in",
    "start": "206530",
    "end": "212739"
  },
  {
    "text": "my opinion is you find a new framework online you get this great idea maybe",
    "start": "212739",
    "end": "219010"
  },
  {
    "text": "it's a new library hey let's make an identity server this could be a lot of fun right I mean everybody needs an",
    "start": "219010",
    "end": "225130"
  },
  {
    "text": "identity server we've never created one of these before let's make it a dandy server so everybody and the team gets together hey cool this is a great idea",
    "start": "225130",
    "end": "231970"
  },
  {
    "text": "we are going to make an identity server so next thing you know you've got",
    "start": "231970",
    "end": "238180"
  },
  {
    "text": "everybody together on this and then we're all making a night into server and everybody loves this puppy project this",
    "start": "238180",
    "end": "243880"
  },
  {
    "text": "is a little puppy needs so cute he's fluffy and he does all kinds of fun things the next thing you know 2 or 3",
    "start": "243880",
    "end": "249010"
  },
  {
    "text": "months goes by and wait a minute we need to add something to the puppy project so",
    "start": "249010",
    "end": "254260"
  },
  {
    "text": "ok John he's got five minutes so John will go ahead and do it and John goes in and he fixes something with it next",
    "start": "254260",
    "end": "259690"
  },
  {
    "text": "thing you know six months goes by we got to do something else with it nobody wants to play with this puppy anymore",
    "start": "259690",
    "end": "264820"
  },
  {
    "text": "nobody knows what the bomb annuity may be honestly anything you write if six months ago you're not going to remember",
    "start": "264820",
    "end": "271150"
  },
  {
    "text": "what it was I don't even remembered i wrote six weeks ago so all of a sudden you've got",
    "start": "271150",
    "end": "277610"
  },
  {
    "text": "this lost little puppy project that nobody really wants to play with anymore",
    "start": "277610",
    "end": "284060"
  },
  {
    "text": "but guess what it's in production and everything's using it so I was hired to",
    "start": "284060",
    "end": "290810"
  },
  {
    "text": "work at a company originally to work on",
    "start": "290810",
    "end": "296470"
  },
  {
    "text": "the main web application in the backend and about three weeks after I was hired",
    "start": "296470",
    "end": "304010"
  },
  {
    "text": "the contractor that they had was leaving and he was the one that was in charge of",
    "start": "304010",
    "end": "311120"
  },
  {
    "text": "the lost puppy project at the time and nobody else wanted to do with deal with this identity server so I said fine I",
    "start": "311120",
    "end": "317810"
  },
  {
    "text": "have worked on Google's identity server for a long time I'm a Google developer expert for identity platform I know how",
    "start": "317810",
    "end": "324350"
  },
  {
    "text": "to connect to an identity server how hard can it be to work on the back engine of an identity service I wanted",
    "start": "324350",
    "end": "330260"
  },
  {
    "text": "like fun to me sure I'll do it so that's how I ended up working on the identity",
    "start": "330260",
    "end": "338600"
  },
  {
    "start": "337000",
    "end": "492000"
  },
  {
    "text": "server now I'm gonna give you a few quick key tips to get you going on this",
    "start": "338600",
    "end": "347150"
  },
  {
    "text": "so that we understand each other what I'm talking here a client application is",
    "start": "347150",
    "end": "353020"
  },
  {
    "text": "your application your application wanting to connect to the identity serve this is a client application the API is",
    "start": "353020",
    "end": "361240"
  },
  {
    "text": "your group of functions that you want",
    "start": "361240",
    "end": "367790"
  },
  {
    "text": "your client application to be able to access right the user is the one that",
    "start": "367790",
    "end": "374240"
  },
  {
    "text": "owns the data who has to grant you access to use this data then we have the",
    "start": "374240",
    "end": "381590"
  },
  {
    "text": "main difference the difference between an ID token and an access token this is where a lot of people in the start",
    "start": "381590",
    "end": "388210"
  },
  {
    "text": "misunderstand the two different things and ID token you should think of as your",
    "start": "388210",
    "end": "396290"
  },
  {
    "text": "birth certificate or as the user's birth certificate an ID token identifies the",
    "start": "396290",
    "end": "401330"
  },
  {
    "text": "user who is physically logging into your application right now okay fine who uses the ID token your",
    "start": "401330",
    "end": "410780"
  },
  {
    "text": "client application will use the ID token your client I've seen a lot of it is the",
    "start": "410780",
    "end": "417139"
  },
  {
    "text": "the client application uses the ID token to see what language this user is",
    "start": "417139",
    "end": "422870"
  },
  {
    "text": "currently using to show the name up in the corner that this is who the user is right I hope you're with me so far okay",
    "start": "422870",
    "end": "431479"
  },
  {
    "text": "so now we over to the access token well what's an access token then the access token is more like your driver's license",
    "start": "431479",
    "end": "438970"
  },
  {
    "text": "the access token says that this user is over has has permissions to drive or it",
    "start": "438970",
    "end": "447259"
  },
  {
    "text": "could be whether or not this user is allowed to drink in the United States you have to be 21 to drink as far as I",
    "start": "447259",
    "end": "454039"
  },
  {
    "text": "remember you still have to be 21 the United States so who uses the access",
    "start": "454039",
    "end": "460789"
  },
  {
    "text": "token well the API uses the access token you client logs in the client is returned an",
    "start": "460789",
    "end": "466580"
  },
  {
    "text": "ID token or an access token I clients the ID token to say ok this is John",
    "start": "466580",
    "end": "471740"
  },
  {
    "text": "logging in fine then the then the client application will send the access token",
    "start": "471740",
    "end": "478250"
  },
  {
    "text": "over to your API and request data back using the API using the access token I'm",
    "start": "478250",
    "end": "493159"
  },
  {
    "start": "492000",
    "end": "548000"
  },
  {
    "text": "gonna start using the arrows now so let's go and look at a basic access",
    "start": "493159",
    "end": "500659"
  },
  {
    "text": "token an ID token like I said Google developer said I took Google's access",
    "start": "500659",
    "end": "506000"
  },
  {
    "text": "token and ID token an ID token for the most part is a JWT which you can use JWT",
    "start": "506000",
    "end": "513709"
  },
  {
    "text": "io to go in and decrypt for yourself so that you can go in and you can see the claims that are inside of this ID token",
    "start": "513709",
    "end": "521919"
  },
  {
    "text": "once you know what claims are inside of your ID token you can then see the",
    "start": "522849",
    "end": "533209"
  },
  {
    "text": "difference with an access token those are not always JW T's there's no",
    "start": "533209",
    "end": "538670"
  },
  {
    "text": "flames are no tokens inside of these it's just decrypted by the actual API to",
    "start": "538670",
    "end": "545330"
  },
  {
    "text": "know who has access so what happened when I took over this identity server",
    "start": "545330",
    "end": "552680"
  },
  {
    "start": "548000",
    "end": "583000"
  },
  {
    "text": "well the first thing I did was I said okay I want to see the claims I want to see what this thing is returning and",
    "start": "552680",
    "end": "559520"
  },
  {
    "text": "this is what I was faced with that's a lot bigger than the first one isn't it",
    "start": "559520",
    "end": "566900"
  },
  {
    "text": "there's a lot more stuff in here and I was like okay you know what I didn't",
    "start": "566900",
    "end": "575090"
  },
  {
    "text": "know you could add more claims to your token I thought that was pretty cool in the start but now let's go here's what",
    "start": "575090",
    "end": "585890"
  },
  {
    "start": "583000",
    "end": "606000"
  },
  {
    "text": "we're gonna do we are gonna start picking apart that token I've got five",
    "start": "585890",
    "end": "593330"
  },
  {
    "text": "points for you and we're gonna go through each one of them some of them are good some bad some of them are interesting let's see how it goes the",
    "start": "593330",
    "end": "600800"
  },
  {
    "text": "first one is email returning a user's email information if you feel like",
    "start": "600800",
    "end": "608240"
  },
  {
    "start": "606000",
    "end": "644000"
  },
  {
    "text": "reading the RFC for I open ID connect I personally will recommend it if you ever",
    "start": "608240",
    "end": "615320"
  },
  {
    "text": "had issues sleeping at night read that bedtime story really great you'll sleep like a baby so inside the RFC for open",
    "start": "615320",
    "end": "622640"
  },
  {
    "text": "ID connect it says that email is an optional scope that requests access to",
    "start": "622640",
    "end": "629540"
  },
  {
    "text": "the email and the email verified flames okay makes less sense so it's an",
    "start": "629540",
    "end": "635240"
  },
  {
    "text": "optional scope that your client can say to a user we want to see this user's",
    "start": "635240",
    "end": "640940"
  },
  {
    "text": "email information well that's perfectly",
    "start": "640940",
    "end": "647750"
  },
  {
    "text": "fine so this is returned in our claims their user info returned email and email",
    "start": "647750",
    "end": "655010"
  },
  {
    "text": "verified well that was kind of cool so it's obviously working except that if we",
    "start": "655010",
    "end": "661250"
  },
  {
    "start": "660000",
    "end": "765000"
  },
  {
    "text": "look at the actual token and we look at the Scopes that the client sent to",
    "start": "661250",
    "end": "667250"
  },
  {
    "text": "return the information there's no email scope there so somebody",
    "start": "667250",
    "end": "676260"
  },
  {
    "text": "went in and hard-coded added returning",
    "start": "676260",
    "end": "681570"
  },
  {
    "text": "the email claims to the identity server",
    "start": "681570",
    "end": "688610"
  },
  {
    "text": "is this a good thing is it a bad thing first of all it's probably against the",
    "start": "690290",
    "end": "696900"
  },
  {
    "text": "recommendations in the RFC but you also have to think about the fact that the",
    "start": "696900",
    "end": "701940"
  },
  {
    "text": "scopes are asking the user asking you",
    "start": "701940",
    "end": "708650"
  },
  {
    "text": "can I see your email information you want to run my client you want to run my",
    "start": "708650",
    "end": "714840"
  },
  {
    "text": "application I'm gonna ask you I need to see your email yes you can and I'm gonna ask you can I see your client or can I",
    "start": "714840",
    "end": "721410"
  },
  {
    "text": "see your email and you have the option to say yes or no now this isn't always",
    "start": "721410",
    "end": "727320"
  },
  {
    "text": "the case as far as Google as far as I know if you ask Google for email claim Google does not request consent from the",
    "start": "727320",
    "end": "735000"
  },
  {
    "text": "user some some authorization service do some don't",
    "start": "735000",
    "end": "740070"
  },
  {
    "text": "Google's doesn't as far as I know in my opinion if you are going to ask me to see my email I want to know it I don't",
    "start": "740070",
    "end": "748080"
  },
  {
    "text": "want some authorization server just returning my email information without them knowing it unfortunately this",
    "start": "748080",
    "end": "755220"
  },
  {
    "text": "server was that was one of the things I fix first so it no longer does that so",
    "start": "755220",
    "end": "766850"
  },
  {
    "start": "765000",
    "end": "788000"
  },
  {
    "text": "back to the puppy project idea so you want to create a new identity server what's the first thing you do identity",
    "start": "766850",
    "end": "775170"
  },
  {
    "text": "Server tutorials find an identity server tutorial find a really nice identity",
    "start": "775170",
    "end": "780300"
  },
  {
    "text": "server tutorial and you go ahead and you copy the tutorial and you put all the stuff in and you pop it off into testin",
    "start": "780300",
    "end": "786000"
  },
  {
    "text": "the next thing you know it's in production and you copied everything including the API name so now you have",
    "start": "786000",
    "end": "796500"
  },
  {
    "start": "788000",
    "end": "888000"
  },
  {
    "text": "an API in production what would you like to name your API Bob's bank",
    "start": "796500",
    "end": "804259"
  },
  {
    "text": "Datta well that would be a good API name",
    "start": "804259",
    "end": "809439"
  },
  {
    "text": "user email system information I don't know but personally I would not call it test",
    "start": "809439",
    "end": "816229"
  },
  {
    "text": "API unfortunately lest I new test API was still in production this was one of",
    "start": "816229",
    "end": "823220"
  },
  {
    "text": "the things I did not have time to except up II project can you be nice to your",
    "start": "823220",
    "end": "830059"
  },
  {
    "text": "puppy project I know it's really easy to just go stackoverflow copy code dump it",
    "start": "830059",
    "end": "836509"
  },
  {
    "text": "in I do it all the time we all do we're in a hurry we don't have time but",
    "start": "836509",
    "end": "842749"
  },
  {
    "text": "sometimes it's a good idea to stop read through what it is that you're putting into production and not put tests API",
    "start": "842749",
    "end": "849649"
  },
  {
    "text": "into production it's just I mean it just looks bad I mean if it was just an internal API then maybe it wouldn't",
    "start": "849649",
    "end": "855709"
  },
  {
    "text": "matter that all of your internal developers know that we have tests API this unfortunately was not this was live",
    "start": "855709",
    "end": "862339"
  },
  {
    "text": "this was third-party developers connecting to tests API wouldn't have",
    "start": "862339",
    "end": "867709"
  },
  {
    "text": "been that hard to fix just not something that was on my table to fix it you can",
    "start": "867709",
    "end": "872720"
  },
  {
    "text": "actually create a new API and then all new clients would use the first one and then you have to start contacting all",
    "start": "872720",
    "end": "878929"
  },
  {
    "text": "the developers saying please stop using tests API and then eventually just shut",
    "start": "878929",
    "end": "885139"
  },
  {
    "text": "it down and then wait for people to scream so that was number two now I",
    "start": "885139",
    "end": "890299"
  },
  {
    "start": "888000",
    "end": "928000"
  },
  {
    "text": "promised you a what could possibly go wrong and that was my mission to get you all here come to my first talk at NDC so",
    "start": "890299",
    "end": "899509"
  },
  {
    "text": "what could possibly go wrong business data how big is too big when",
    "start": "899509",
    "end": "906079"
  },
  {
    "text": "your access token and your ID token are built how much information can you stuff",
    "start": "906079",
    "end": "913009"
  },
  {
    "text": "in there if you're using this as a as a as a data store how big can these tokens",
    "start": "913009",
    "end": "920209"
  },
  {
    "text": "be theoretically they can be really really really big but if you make them",
    "start": "920209",
    "end": "925489"
  },
  {
    "text": "really really big what happens so this is the business data that was in",
    "start": "925489",
    "end": "937800"
  },
  {
    "start": "928000",
    "end": "1002000"
  },
  {
    "text": "the token now all of it or most of it",
    "start": "937800",
    "end": "943029"
  },
  {
    "text": "looks pretty reasonable except if you notice application ID application and ID is an array okay so let me try and",
    "start": "943029",
    "end": "952810"
  },
  {
    "text": "explain how this application worked this was an application where users could",
    "start": "952810",
    "end": "960040"
  },
  {
    "text": "have access to multiple companies each company could then have more than one",
    "start": "960040",
    "end": "968279"
  },
  {
    "text": "application install plug-in applications installed so to build this claim they",
    "start": "968279",
    "end": "978519"
  },
  {
    "text": "created a hard coupling between the identity server and the API so now to",
    "start": "978519",
    "end": "986199"
  },
  {
    "text": "build the claims the API had two for one it had to be up so if the API went down",
    "start": "986199",
    "end": "992260"
  },
  {
    "text": "the I did serve goes down because now we couldn't collect requests these claims so first of all you'd have to go over",
    "start": "992260",
    "end": "998680"
  },
  {
    "text": "and you'd have to get a list of all of",
    "start": "998680",
    "end": "1007440"
  },
  {
    "start": "1002000",
    "end": "1137000"
  },
  {
    "text": "your companies so there was an endpoint on the API we'd go over and we list all",
    "start": "1007440",
    "end": "1013769"
  },
  {
    "text": "of our companies get it returned back to your server fine not a problem then for each one of",
    "start": "1013769",
    "end": "1020339"
  },
  {
    "text": "those companies we'd go and we'd make a request asking for each one all the apps",
    "start": "1020339",
    "end": "1025620"
  },
  {
    "text": "for this company which was again ok except if you had some users that had",
    "start": "1025620",
    "end": "1032610"
  },
  {
    "text": "access to more than 20 companies 20 companies 10 apps each you've got a",
    "start": "1032610",
    "end": "1039660"
  },
  {
    "text": "number of requests going back and forth to this API not only was it hard on the",
    "start": "1039660",
    "end": "1046470"
  },
  {
    "text": "API but why was it hard on the API that's because it was built the tokens",
    "start": "1046470",
    "end": "1051929"
  },
  {
    "text": "were being built four times wait a minute what do you mean the tokens are being filled four times why are the talk",
    "start": "1051929",
    "end": "1057630"
  },
  {
    "text": "is being built four times it's built once for the ID token was built again for the access token you",
    "start": "1057630",
    "end": "1064919"
  },
  {
    "text": "have the option where the identity server for to include your claims inside the access token why do they need to be",
    "start": "1064919",
    "end": "1070260"
  },
  {
    "text": "there I don't know they were so you're building it once for the ID token once for the access token",
    "start": "1070260",
    "end": "1076799"
  },
  {
    "text": "why is it building four times you just said to Linda that's because again you",
    "start": "1076799",
    "end": "1083220"
  },
  {
    "text": "have a puppy project you were in you made a change Tom comes in Thomas makes",
    "start": "1083220",
    "end": "1089730"
  },
  {
    "text": "a change Tom decides he's gonna move this line to this line copy stuff something gets missed in the code review",
    "start": "1089730",
    "end": "1095760"
  },
  {
    "text": "and all of a sudden you're built in the cookie twice so it took me three months",
    "start": "1095760",
    "end": "1102179"
  },
  {
    "text": "to find a one-line code where here it",
    "start": "1102179",
    "end": "1107399"
  },
  {
    "text": "was building the cookie and the next thing you know it's rebuilding the cookie so this was done four times once",
    "start": "1107399",
    "end": "1116779"
  },
  {
    "text": "request all your all your companies then each company requests all your apps this",
    "start": "1116779",
    "end": "1124529"
  },
  {
    "text": "became a pretty big issue but that's",
    "start": "1124529",
    "end": "1132960"
  },
  {
    "text": "okay right I mean it's only done once an hour unfortunately it wasn't because in",
    "start": "1132960",
    "end": "1139970"
  },
  {
    "start": "1137000",
    "end": "1198000"
  },
  {
    "text": "asp net there was something called the security token validator well what's",
    "start": "1139970",
    "end": "1145350"
  },
  {
    "text": "that the security token validator is there for something called logout",
    "start": "1145350",
    "end": "1150390"
  },
  {
    "text": "anywhere if a user changes their password on their phone then it should",
    "start": "1150390",
    "end": "1157890"
  },
  {
    "text": "automatically log them out on their tablet on their desktop on their kids PC",
    "start": "1157890",
    "end": "1163950"
  },
  {
    "text": "and this is done through a security token on the user's on the user's",
    "start": "1163950",
    "end": "1170520"
  },
  {
    "text": "account inside I think it's inside asp net identity security token validation",
    "start": "1170520",
    "end": "1177840"
  },
  {
    "text": "was done every five minutes on this system so i want you to go in and start",
    "start": "1177840",
    "end": "1184350"
  },
  {
    "text": "thinking how many calls is this doing back and forth to this api rebuilding these tokens back and forth and back and",
    "start": "1184350",
    "end": "1190020"
  },
  {
    "text": "forth back and forth back and it's basically the same information because it's not changing all that",
    "start": "1190020",
    "end": "1195779"
  },
  {
    "text": "often so well now you've got one of the",
    "start": "1195779",
    "end": "1203039"
  },
  {
    "start": "1198000",
    "end": "1224000"
  },
  {
    "text": "issues that it's building all this now let's talk about cookies we all like",
    "start": "1203039",
    "end": "1208830"
  },
  {
    "text": "cookies I like cookies Julianne cookies browsers have limits there are limits to",
    "start": "1208830",
    "end": "1216690"
  },
  {
    "text": "the number of cookies there are limits to the cookie size and there are limits to the number headers in your browser",
    "start": "1216690",
    "end": "1223700"
  },
  {
    "text": "here are some numbers from a website that I found and I'm hoping they are",
    "start": "1223700",
    "end": "1229559"
  },
  {
    "start": "1224000",
    "end": "1276000"
  },
  {
    "text": "reasonably accurate chrome allows you 180 cookies Firefox 150 edge apparently",
    "start": "1229559",
    "end": "1238080"
  },
  {
    "text": "180 as well now let's look at the max cookie size does anybody know why we",
    "start": "1238080",
    "end": "1244080"
  },
  {
    "text": "can't have a standard max cookie size I mean these guys don't talk at all do",
    "start": "1244080",
    "end": "1249690"
  },
  {
    "text": "they I mean they really don't they really should but okay so we've got three different max cookie size but",
    "start": "1249690",
    "end": "1254729"
  },
  {
    "text": "there is a max cookie size okay so if I have a token that is this big and it",
    "start": "1254729",
    "end": "1261809"
  },
  {
    "text": "needs to be first of all it needs to be encrypted and for some reason asp net it",
    "start": "1261809",
    "end": "1266999"
  },
  {
    "text": "encrypts these cookies into I don't know what it does but it's pretty cryptic to what it does to them but it makes them huge I mean really really really really",
    "start": "1266999",
    "end": "1274139"
  },
  {
    "text": "really big so what are we gonna do with these really big cookies well then we have something called the cookie chunky",
    "start": "1274139",
    "end": "1279629"
  },
  {
    "start": "1276000",
    "end": "1345000"
  },
  {
    "text": "manager oh my god I love that name cookie chunky manager whoever named that should get a bonus",
    "start": "1279629",
    "end": "1285419"
  },
  {
    "text": "that's just great jump chunk up your cookies let's chunk a cookie so basically what the cookie chunky manager",
    "start": "1285419",
    "end": "1291899"
  },
  {
    "text": "does is it goes in and it says this cookie is too big so I'm gonna chunk it",
    "start": "1291899",
    "end": "1296909"
  },
  {
    "text": "up into pieces so that it'll go back to this use its into the users browser but then what you end up having is you end",
    "start": "1296909",
    "end": "1303599"
  },
  {
    "text": "up having multiple cookies now it works",
    "start": "1303599",
    "end": "1310529"
  },
  {
    "text": "it actually does it works fine no problem except when you have I had a",
    "start": "1310529",
    "end": "1315570"
  },
  {
    "text": "couple of users now I don't know why it didn't hit them every time but",
    "start": "1315570",
    "end": "1320999"
  },
  {
    "text": "occasionally and I think one of them was a supporter who had access to like a hundred and fifty companies me who needs",
    "start": "1320999",
    "end": "1327089"
  },
  {
    "text": "access 250 companies and each one of these apps it was building a huge cookie for them and I",
    "start": "1327089",
    "end": "1335340"
  },
  {
    "text": "think there was up to 12 chunks at once I saw a picture of it I could unfortunately I couldn't find it to put in the slides because it would have been",
    "start": "1335340",
    "end": "1341280"
  },
  {
    "text": "really impressive but yeah but that's okay isn't it nope",
    "start": "1341280",
    "end": "1349070"
  },
  {
    "start": "1345000",
    "end": "1391000"
  },
  {
    "text": "Kong has limits to now I am I'm gonna",
    "start": "1349520",
    "end": "1354930"
  },
  {
    "text": "come clean I am NOT a server infrastructure person I think I know",
    "start": "1354930",
    "end": "1360990"
  },
  {
    "text": "what Kong is it's some kind of a it's it has something to do with load balancing",
    "start": "1360990",
    "end": "1366930"
  },
  {
    "text": "in the API gateway and stuff but",
    "start": "1366930",
    "end": "1371990"
  },
  {
    "text": "unfortunately we started getting these errors from Kong and Kong is like my",
    "start": "1371990",
    "end": "1377130"
  },
  {
    "text": "headers are too big and I'm like what do you mean your headers are too big what gave you what's too big here I have no idea so I'm like telling my boss fine",
    "start": "1377130",
    "end": "1388260"
  },
  {
    "text": "we've got to remove this and he's like it's it apparently there is a really",
    "start": "1388260",
    "end": "1395460"
  },
  {
    "start": "1391000",
    "end": "1411000"
  },
  {
    "text": "really really big head or somewhere in nginx and it was kicking it out and that's because the default size was 8k",
    "start": "1395460",
    "end": "1405110"
  },
  {
    "text": "so I'm telling my boss we're gonna remove this and now we went back and",
    "start": "1405110",
    "end": "1410610"
  },
  {
    "text": "forth and they're all like we can't we need it we need to have the - all of",
    "start": "1410610",
    "end": "1422790"
  },
  {
    "start": "1411000",
    "end": "1453000"
  },
  {
    "text": "these claims inside of the token we had applications he kept telling me we got applications and lots of applications",
    "start": "1422790",
    "end": "1428970"
  },
  {
    "text": "that need all of these claims they're using them then we need them and we can't get rid of them and and I'm like",
    "start": "1428970",
    "end": "1435900"
  },
  {
    "text": "we've got users that are getting Kong errors what's worse I mean calling errors I said that just that's the it's",
    "start": "1435900",
    "end": "1442410"
  },
  {
    "text": "not even a 400 error or 500 there's a con error that it can't be good so what",
    "start": "1442410",
    "end": "1451140"
  },
  {
    "text": "are we gonna do well I googled around a bit did some checking on I think I found",
    "start": "1451140",
    "end": "1457890"
  },
  {
    "start": "1453000",
    "end": "1499000"
  },
  {
    "text": "a comment somewhere in github",
    "start": "1457890",
    "end": "1463250"
  },
  {
    "text": "that said that you could set the buffer size up and if you ever run into this",
    "start": "1463250",
    "end": "1469890"
  },
  {
    "text": "Kong error here's the fix for it because it actually does work it took me two",
    "start": "1469890",
    "end": "1475320"
  },
  {
    "text": "weeks to convince the server administrator to please go in and change the settings in Kong and yes I know I",
    "start": "1475320",
    "end": "1480540"
  },
  {
    "text": "don't really know what Kong does but they said that this will fix the book and sure enough it gave us some",
    "start": "1480540",
    "end": "1487680"
  },
  {
    "text": "breathing room it did actually fix it we no longer got Kong errors but now we had really big header sizes in Kong and my",
    "start": "1487680",
    "end": "1494970"
  },
  {
    "text": "server administrator wasn't really happy with that",
    "start": "1494970",
    "end": "1498920"
  },
  {
    "start": "1499000",
    "end": "1595000"
  },
  {
    "text": "so back to the token again it's still",
    "start": "1500840",
    "end": "1509400"
  },
  {
    "text": "really really big I mean what are we gonna do with this well we had to go in",
    "start": "1509400",
    "end": "1516240"
  },
  {
    "text": "and skinny it up it took me four months",
    "start": "1516240",
    "end": "1522240"
  },
  {
    "text": "to convince management and all of my fellow developers that having a hard",
    "start": "1522240",
    "end": "1527790"
  },
  {
    "text": "coupling between the identity server and the API was a bad idea and that the ID",
    "start": "1527790",
    "end": "1533850"
  },
  {
    "text": "token in access token were not meant to be a datastore this is not what you were supposed to be using these for and we",
    "start": "1533850",
    "end": "1540750"
  },
  {
    "text": "needed to remove this to get it removed",
    "start": "1540750",
    "end": "1546560"
  },
  {
    "text": "it turned out that there were only two applications that were actually using",
    "start": "1546560",
    "end": "1551760"
  },
  {
    "text": "the claims out of 40 or 50 that they told me we're probably using them so the",
    "start": "1551760",
    "end": "1560250"
  },
  {
    "text": "first application I think it took them two months to remove most of it the",
    "start": "1560250",
    "end": "1567890"
  },
  {
    "text": "second one was actually the main application it took them a bit longer I think it took them more than three",
    "start": "1567890",
    "end": "1573810"
  },
  {
    "text": "months but it had to do with the fact that at the same time we took on moving it over to asp net identity instead of",
    "start": "1573810",
    "end": "1581900"
  },
  {
    "text": "using an homegrown login system so it was how long it actually took to remove",
    "start": "1581900",
    "end": "1589110"
  },
  {
    "text": "it from them I don't I don't know but it took three months before all of this was removed and in production",
    "start": "1589110",
    "end": "1595479"
  },
  {
    "start": "1595000",
    "end": "1710000"
  },
  {
    "text": "and at the time I left this is the shiny new access to much cleaner isn't it",
    "start": "1595479",
    "end": "1603649"
  },
  {
    "text": "and look email claims there or email scope sorry",
    "start": "1603649",
    "end": "1609879"
  },
  {
    "text": "so that fixed the main issue so why was",
    "start": "1609879",
    "end": "1618950"
  },
  {
    "text": "this a problem this was a problem because as a puppy project there was",
    "start": "1618950",
    "end": "1625039"
  },
  {
    "text": "nobody that had the confidence to say to",
    "start": "1625039",
    "end": "1632269"
  },
  {
    "text": "management we shouldn't do this nobody",
    "start": "1632269",
    "end": "1637460"
  },
  {
    "text": "had the background knowledge of using an",
    "start": "1637460",
    "end": "1642739"
  },
  {
    "text": "identity server to say to management we really really shouldn't do this so",
    "start": "1642739",
    "end": "1651649"
  },
  {
    "text": "that's why I'm saying that if you have a puppy project which is fine I mean some",
    "start": "1651649",
    "end": "1657049"
  },
  {
    "text": "projects are really great to be just a little puppy project let's let's have create a new thing with angular and and",
    "start": "1657049",
    "end": "1663559"
  },
  {
    "text": "have a blast but you still need to have somebody somebody needs to own these",
    "start": "1663559",
    "end": "1669559"
  },
  {
    "text": "projects somebody needs to say that I will love this puppy and I will make sure that we are not putting something",
    "start": "1669559",
    "end": "1676279"
  },
  {
    "text": "in production that's a really really bad idea and I know it's hard we all have we",
    "start": "1676279",
    "end": "1682879"
  },
  {
    "text": "all move on to different projects we all run out of time but something like an",
    "start": "1682879",
    "end": "1688729"
  },
  {
    "text": "identity server this this can't happen identity service this is users login",
    "start": "1688729",
    "end": "1694969"
  },
  {
    "text": "system this is the users information here this really really can't happen so",
    "start": "1694969",
    "end": "1702859"
  },
  {
    "text": "that's why we need to be careful",
    "start": "1702859",
    "end": "1706989"
  },
  {
    "start": "1710000",
    "end": "1743000"
  },
  {
    "text": "now this one I'm gonna let you decide",
    "start": "1711220",
    "end": "1716809"
  },
  {
    "text": "because this is one of the ones that I didn't change I left this and that's",
    "start": "1716809",
    "end": "1723529"
  },
  {
    "text": "because I have a bad habit of being of two minds part of me says this is a bad",
    "start": "1723529",
    "end": "1731269"
  },
  {
    "text": "idea the other part of me says it doesn't matter that much so I couldn't",
    "start": "1731269",
    "end": "1737779"
  },
  {
    "text": "really decide if this was an issue or not these are two claims one is these",
    "start": "1737779",
    "end": "1748519"
  },
  {
    "start": "1743000",
    "end": "1950000"
  },
  {
    "text": "supporter and the other one a supporter supporter just so happens to be your subject ID the users user ID so the way",
    "start": "1748519",
    "end": "1756169"
  },
  {
    "text": "the system worked was that we had a lot of in Danish we call them Han back users",
    "start": "1756169",
    "end": "1765799"
  },
  {
    "text": "that that I want to say work with their hands but it's a plumbers and carpenters and and users like that and a lot of",
    "start": "1765799",
    "end": "1774529"
  },
  {
    "text": "times they are out and working for customers right and they have a little app and they were doing a little app",
    "start": "1774529",
    "end": "1780289"
  },
  {
    "text": "here but then they get a bug in the system and they have an issue with their account or they need to fix something",
    "start": "1780289",
    "end": "1786889"
  },
  {
    "text": "but the app it doesn't support that so they need to contact our support department and the support department",
    "start": "1786889",
    "end": "1793609"
  },
  {
    "text": "logs in takes control of their account and fixes it for them because these",
    "start": "1793609",
    "end": "1799249"
  },
  {
    "text": "users can't use TeamViewer on a mobile device over at aunt Tonya's house it",
    "start": "1799249",
    "end": "1806659"
  },
  {
    "text": "just doesn't work so we had this support system the way it worked was that there",
    "start": "1806659",
    "end": "1812359"
  },
  {
    "text": "were three or four undocumented API",
    "start": "1812359",
    "end": "1817399"
  },
  {
    "text": "endpoints and with these undocumented API endpoints it tested it used a policy",
    "start": "1817399",
    "end": "1825019"
  },
  {
    "text": "to check whether or not the user logging in using this endpoint had the supporter",
    "start": "1825019",
    "end": "1830450"
  },
  {
    "text": "claim as long as they had the supporter claim they were allowed to use this endpoint so these are undocumented",
    "start": "1830450",
    "end": "1836210"
  },
  {
    "text": "endpoints so why did I have an issue with this well I have an issue with",
    "start": "1836210",
    "end": "1843420"
  },
  {
    "text": "this because these two claims were returned on every client not just our",
    "start": "1843420",
    "end": "1849570"
  },
  {
    "text": "internal clients not just the client that actually used these endpoints it",
    "start": "1849570",
    "end": "1855240"
  },
  {
    "text": "was returned on every single client so if a Tom's carwash created a new app to",
    "start": "1855240",
    "end": "1864360"
  },
  {
    "text": "use this system and I logged in with supporter access Tom's car wash would",
    "start": "1864360",
    "end": "1869640"
  },
  {
    "text": "know that I have support access well is that an issue I don't know Ken Tom's car wash maybe find these API endpoints that",
    "start": "1869640",
    "end": "1878100"
  },
  {
    "text": "aren't documented because what we're talking about right now is subscribe by",
    "start": "1878100",
    "end": "1883290"
  },
  {
    "text": "obscurity we are assuming that it's safe because nobody can find these endpoints",
    "start": "1883290",
    "end": "1890929"
  },
  {
    "text": "how are they going to find the endpoints honestly I don't know and I think that's",
    "start": "1891650",
    "end": "1898530"
  },
  {
    "text": "part of the reason why I left this my original idea was to lock it down to a",
    "start": "1898530",
    "end": "1904350"
  },
  {
    "text": "client so that only the internal client there were two of them that I knew of",
    "start": "1904350",
    "end": "1909630"
  },
  {
    "text": "that used these endpoints only those would have these claims returned and",
    "start": "1909630",
    "end": "1917100"
  },
  {
    "text": "that would have made a lot of sense but to figure out how to do it wasn't",
    "start": "1917100",
    "end": "1922170"
  },
  {
    "text": "something that I had time it just wasn't prioritized and again I couldn't think I",
    "start": "1922170",
    "end": "1929400"
  },
  {
    "text": "couldn't decide on my own whether or not this was a good idea or not so that one",
    "start": "1929400",
    "end": "1935610"
  },
  {
    "text": "I left alone and decided it is what does",
    "start": "1935610",
    "end": "1942390"
  },
  {
    "text": "it is but it's still sitting there probably as a as a issue on JIRA here's",
    "start": "1942390",
    "end": "1951900"
  },
  {
    "start": "1950000",
    "end": "2045000"
  },
  {
    "text": "another one let's talk about time anybody has a Star Trek fan unit or",
    "start": "1951900",
    "end": "1959759"
  },
  {
    "text": "time is a really interesting thing what",
    "start": "1959759",
    "end": "1965649"
  },
  {
    "text": "is the standard lifetime of an ID token",
    "start": "1965649",
    "end": "1971379"
  },
  {
    "text": "an access token now I wasn't actually",
    "start": "1971379",
    "end": "1977289"
  },
  {
    "text": "able to find anywhere that a standard ID token lifetime was written down I think",
    "start": "1977289",
    "end": "1985509"
  },
  {
    "text": "the default in identity server for us about five minutes basically an ID token",
    "start": "1985509",
    "end": "1991870"
  },
  {
    "text": "you should only use it in your client to figure out who just logged in and then",
    "start": "1991870",
    "end": "1998289"
  },
  {
    "text": "chuck it I mean you don't really you wouldn't really keep it around it doesn't you don't really need it for",
    "start": "1998289",
    "end": "2003600"
  },
  {
    "text": "anything an access token on the other hand I believe we can agree that the",
    "start": "2003600",
    "end": "2009179"
  },
  {
    "text": "industry standard for an access token lifetime is an hour well why is that well that's because if if somebody",
    "start": "2009179",
    "end": "2017519"
  },
  {
    "text": "managed to get a hold of your access token in that hours time the the data",
    "start": "2017519",
    "end": "2026850"
  },
  {
    "text": "leakage would be minor I mean they how much what can they do in an hour so",
    "start": "2026850",
    "end": "2032000"
  },
  {
    "text": "normal systems as far as I know I know Google is about an hour I think Twitter's about an hour as well so and",
    "start": "2032000",
    "end": "2040110"
  },
  {
    "text": "an hour seems good to me right now or seems fine and I just did that one that",
    "start": "2040110",
    "end": "2049858"
  },
  {
    "start": "2045000",
    "end": "2253000"
  },
  {
    "text": "was an extra slide I threw in there I think I forgot that slide okay so now I have another story for you as you can",
    "start": "2049859",
    "end": "2056190"
  },
  {
    "text": "see I like stories so locate dadk this",
    "start": "2056190",
    "end": "2063089"
  },
  {
    "text": "is the claim for a user's language so",
    "start": "2063089",
    "end": "2069388"
  },
  {
    "text": "this word this returns as part of the ID token so that you know what language the",
    "start": "2069389",
    "end": "2074849"
  },
  {
    "text": "current user is using which is fine then",
    "start": "2074849",
    "end": "2080520"
  },
  {
    "text": "I had a supporter contact me and I had a really nice",
    "start": "2080520",
    "end": "2086510"
  },
  {
    "text": "reputation with the supporter I knew her very well and she was really cool and",
    "start": "2086510",
    "end": "2092190"
  },
  {
    "text": "she contacted me and she said that I have a user who just changed their",
    "start": "2092190",
    "end": "2099270"
  },
  {
    "text": "language and for some reason it's the",
    "start": "2099270",
    "end": "2106050"
  },
  {
    "text": "application isn't changing the language so I was like okay Conte went over I",
    "start": "2106050",
    "end": "2113160"
  },
  {
    "text": "contacted the developer in question and I said where are you guys reading this",
    "start": "2113160",
    "end": "2119430"
  },
  {
    "text": "language from I mean are you reading for the database are you getting it for the user info endpoint are you reading it",
    "start": "2119430",
    "end": "2124470"
  },
  {
    "text": "from the token he's a sound we're to have a good we're grabbing it from the token I assumed he meant access token ID token because I",
    "start": "2124470",
    "end": "2131369"
  },
  {
    "text": "knew at that point I knew that they were reading these claims out of the access",
    "start": "2131369",
    "end": "2137460"
  },
  {
    "text": "token rather than the ID token and that was part of the problem part of the thing I had to do was get them away from",
    "start": "2137460",
    "end": "2143430"
  },
  {
    "text": "reading these kind of claims out of the access token I wanted to get them out of the access token it's like okay fine so",
    "start": "2143430",
    "end": "2150270"
  },
  {
    "text": "I contacted her and I said the access tokens are an hour long they're reading",
    "start": "2150270",
    "end": "2156839"
  },
  {
    "text": "it out of the token you're gonna have to wait until the user locks in again and and until the access token times out and",
    "start": "2156839",
    "end": "2163319"
  },
  {
    "text": "it grabs a new one and she says or he did that and I was like wait a minute already did that now normally I'd say to",
    "start": "2163319",
    "end": "2170609"
  },
  {
    "text": "you to try again I don't believe you but I knew this supporter and I knew her and",
    "start": "2170609",
    "end": "2175680"
  },
  {
    "text": "I knew what she said already did that so she had tried and and I knew her well",
    "start": "2175680",
    "end": "2181109"
  },
  {
    "text": "enough to know that she hadn't tried just one she'd tried two or three times so I was like okay you've tried all",
    "start": "2181109",
    "end": "2188609"
  },
  {
    "text": "right fine tomorrow is Friday my 20% time I'll take a look at you button so",
    "start": "2188609",
    "end": "2195150"
  },
  {
    "text": "the next day I pulled up my machine I left it sitting there went back an hour later nope didn't change my language",
    "start": "2195150",
    "end": "2202230"
  },
  {
    "text": "what's going on here I couldn't figure it out hmm so then I pulled up my own",
    "start": "2202230",
    "end": "2208589"
  },
  {
    "text": "machine and I started trying it on my machine hey wait a minute works on my machine you guys haven't",
    "start": "2208589",
    "end": "2214680"
  },
  {
    "text": "heard that one before have you yeah worked fine on my machine yes it works works no problems in the campaign issue no it",
    "start": "2214680",
    "end": "2222729"
  },
  {
    "text": "didn't work on the server great okay so maybe there's something wrong with the server the server guy must have hated me",
    "start": "2222729",
    "end": "2229989"
  },
  {
    "text": "because first there was a Kong issue now there's now there's a token issue all right no no okay we're not gonna call",
    "start": "2229989",
    "end": "2234999"
  },
  {
    "text": "him so I figured what's the first thing I'm gonna do well fine let's let's see if we could figure out if there's a difference between the",
    "start": "2234999",
    "end": "2242440"
  },
  {
    "text": "client on my machine and the client up on the server what is what could be the difference here why is this working on",
    "start": "2242440",
    "end": "2249190"
  },
  {
    "text": "my machine and on a server or on the server but on on my machine well that's",
    "start": "2249190",
    "end": "2256239"
  },
  {
    "start": "2253000",
    "end": "2555000"
  },
  {
    "text": "because we have 14-day access tokens so why do we have 14:8 access tokens that",
    "start": "2256239",
    "end": "2263619"
  },
  {
    "text": "took a little bit of digging apparently",
    "start": "2263619",
    "end": "2270150"
  },
  {
    "text": "remember me wasn't working and cookie",
    "start": "2270150",
    "end": "2276369"
  },
  {
    "text": "sliding wasn't working which remember me",
    "start": "2276369",
    "end": "2281799"
  },
  {
    "text": "is that when a user logs in and then they log in tomorrow they don't have to",
    "start": "2281799",
    "end": "2286900"
  },
  {
    "text": "retype their password I'm sure if you've if you've if you've done this on if you",
    "start": "2286900",
    "end": "2292089"
  },
  {
    "text": "log in on Stack Overflow for example you don't have to type your password every day you don't have to type your password every day in Google either",
    "start": "2292089",
    "end": "2297849"
  },
  {
    "text": "that's cookie sliding and that's remember me remember me normally work something on the machine type of thing",
    "start": "2297849",
    "end": "2304059"
  },
  {
    "text": "but it remembers who you are logged in and apparently the issue was that the",
    "start": "2304059",
    "end": "2310539"
  },
  {
    "text": "users were being randomly kicked out of the machine out of the system",
    "start": "2310539",
    "end": "2315819"
  },
  {
    "text": "every hour or so and being forced to log in again and then if one of them shut",
    "start": "2315819",
    "end": "2322390"
  },
  {
    "text": "down the machine and started up again they'd be logged in again and rather than figuring out why the little puppy",
    "start": "2322390",
    "end": "2330609"
  },
  {
    "text": "was broken and why I remember me wasn't",
    "start": "2330609",
    "end": "2336160"
  },
  {
    "text": "working the decision was to set the access token to 14 days I was a great",
    "start": "2336160",
    "end": "2345729"
  },
  {
    "text": "decision well why was that a bad decision well think of this we've already seen",
    "start": "2345729",
    "end": "2353380"
  },
  {
    "text": "what was in this the business data that was in this so Jane has access to your",
    "start": "2353380",
    "end": "2360220"
  },
  {
    "text": "company and that's in the access token well Jane's been a bad girl we just",
    "start": "2360220",
    "end": "2368079"
  },
  {
    "text": "fired Jane but you know what Jane's still has a fourteen-day access token on her machine she could still do whatever",
    "start": "2368079",
    "end": "2373660"
  },
  {
    "text": "she wants can she it's good the access token still valid what's what's",
    "start": "2373660",
    "end": "2379630"
  },
  {
    "text": "validating it now luckily the API in the backend I did",
    "start": "2379630",
    "end": "2387880"
  },
  {
    "text": "check this because I was I was panicking here I was like wait a minute somebody's gonna get fired and this is gonna work",
    "start": "2387880",
    "end": "2393430"
  },
  {
    "text": "but I did some checking the API was doing a double check the API was not",
    "start": "2393430",
    "end": "2399609"
  },
  {
    "text": "using the claims as as a policy to validate whether or not the user had",
    "start": "2399609",
    "end": "2407020"
  },
  {
    "text": "access to something which made me very happy at the point in time because I was",
    "start": "2407020",
    "end": "2413020"
  },
  {
    "text": "really worried about this but what it did mean was that if the user change",
    "start": "2413020",
    "end": "2418150"
  },
  {
    "text": "their language settings that it wasn't going to update for 14 days so I ended",
    "start": "2418150",
    "end": "2424059"
  },
  {
    "text": "up having to tell her you're gonna have to have them log out and log in again and then it'll pick it up which lucky",
    "start": "2424059",
    "end": "2431920"
  },
  {
    "text": "for me it actually did which was really good unfortunately it took a little",
    "start": "2431920",
    "end": "2441460"
  },
  {
    "text": "longer to get remember me working I did in the end get it to working but one of",
    "start": "2441460",
    "end": "2447490"
  },
  {
    "text": "the things I did do a little sneaky of me was that the first thing I did was I",
    "start": "2447490",
    "end": "2452589"
  },
  {
    "text": "went in to all of the clients and the test database and I updated everybody to",
    "start": "2452589",
    "end": "2457660"
  },
  {
    "text": "one our access tokens and I waited for somebody to scream nobody screamed so",
    "start": "2457660",
    "end": "2465549"
  },
  {
    "text": "then a couple of weeks later I kind of whispered at one of my co-workers and I says I'm gonna go ahead and I'm gonna",
    "start": "2465549",
    "end": "2470920"
  },
  {
    "text": "update them all in production but I'll leave yours I left the two main",
    "start": "2470920",
    "end": "2476020"
  },
  {
    "text": "applications I says I'm gonna leave these two but I'm gonna go I would update everybody else and my wait for everybody else to scream nobody else",
    "start": "2476020",
    "end": "2482980"
  },
  {
    "text": "scream and then we started dealing with the two",
    "start": "2482980",
    "end": "2487990"
  },
  {
    "text": "main applications and that's when we had to I had to actually go in and fix the",
    "start": "2487990",
    "end": "2493720"
  },
  {
    "text": "issues with remember me and the sliding cookie there was unfortunately one application that I was not able to get",
    "start": "2493720",
    "end": "2502630"
  },
  {
    "text": "sliding cookie to work properly in and I think it had to do with the fact that it",
    "start": "2502630",
    "end": "2509740"
  },
  {
    "text": "was a very old version of Owen and it's",
    "start": "2509740",
    "end": "2517240"
  },
  {
    "text": "been a long time since I have touched that and I wasn't very familiar with",
    "start": "2517240",
    "end": "2523720"
  },
  {
    "text": "that application enough to be able to go in and and try and fix this I tried three or four times to fix it never got",
    "start": "2523720",
    "end": "2530830"
  },
  {
    "text": "it fixed I managed to convince them to let me reduce the length of time on the",
    "start": "2530830",
    "end": "2536920"
  },
  {
    "text": "access choke into eight hours instead of 14 days which seems to have worked so I",
    "start": "2536920",
    "end": "2543640"
  },
  {
    "text": "mean at least we've gotten that but unfortunately I no longer work for this company so I wasn't able to continue",
    "start": "2543640",
    "end": "2550870"
  },
  {
    "text": "working on this issue now I forgot to",
    "start": "2550870",
    "end": "2560320"
  },
  {
    "start": "2555000",
    "end": "2638000"
  },
  {
    "text": "set my timer so I have no idea how I am timewise so I'm going to give you a",
    "start": "2560320",
    "end": "2566650"
  },
  {
    "text": "little recap about everything we talked about remember to watch it out with the",
    "start": "2566650",
    "end": "2577300"
  },
  {
    "text": "scopes and watch out when you are adding your claims manually to identity server",
    "start": "2577300",
    "end": "2582430"
  },
  {
    "text": "make sure that you don't just go and start adding stuff because it might sound like a really good idea yes you",
    "start": "2582430",
    "end": "2588550"
  },
  {
    "text": "can't but it's it's probably not a really good idea you you need to know what you're doing if you go to copy code",
    "start": "2588550",
    "end": "2595750"
  },
  {
    "text": "even if it's identity server I don't care where you're coming from at least skim it don't just put test API in",
    "start": "2595750",
    "end": "2602020"
  },
  {
    "text": "production please remember not to overload your tokens like I said you are",
    "start": "2602020",
    "end": "2607630"
  },
  {
    "text": "more than welcome to add extra claims to the tokens there are a few claims that I could that validly think of it's a good",
    "start": "2607630",
    "end": "2614800"
  },
  {
    "text": "idea to add them remember not to anything that will change regularly because you've got an hour access token",
    "start": "2614800",
    "end": "2622750"
  },
  {
    "text": "you should be updating anything that's gonna expire in an hour and then of",
    "start": "2622750",
    "end": "2632619"
  },
  {
    "text": "course tokens have a lifetime for for a reason and then don't forget your puppy",
    "start": "2632619",
    "end": "2637630"
  },
  {
    "text": "project love your puppy project you know these for some reason out there you",
    "start": "2637630",
    "end": "2645430"
  },
  {
    "start": "2638000",
    "end": "2684000"
  },
  {
    "text": "spent your time creating this project and you'd you loved it at one point and",
    "start": "2645430",
    "end": "2653590"
  },
  {
    "text": "I know we all move on but don't forget about it love it enjoy it have fun with",
    "start": "2653590",
    "end": "2660820"
  },
  {
    "text": "it you know go back to it every now and then own it this is a China that mean as far as I'm just a lot of these projects",
    "start": "2660820",
    "end": "2667420"
  },
  {
    "text": "I've worked on I consider them my babies probably not my babies have gotten big by now but I mean enjoy it remember it",
    "start": "2667420",
    "end": "2675570"
  },
  {
    "text": "documented because somebody down the road is gonna be using it again and you want to make sure that they don't go in",
    "start": "2675570",
    "end": "2681100"
  },
  {
    "text": "and start adding email claims so I guess",
    "start": "2681100",
    "end": "2688570"
  },
  {
    "start": "2684000",
    "end": "2863000"
  },
  {
    "text": "that's it and I should have I should have timed this I can't be too far off and it's lunch",
    "start": "2688570",
    "end": "2693970"
  },
  {
    "text": "so you guys get to go and have lunch early but has anybody have any questions",
    "start": "2693970",
    "end": "2701130"
  },
  {
    "text": "the slides I I will put them up I'm sure",
    "start": "2705359",
    "end": "2710859"
  },
  {
    "text": "I know that this is being recorded whether or not they're gonna make me share the slides someplace I don't know",
    "start": "2710859",
    "end": "2717450"
  },
  {
    "text": "now they don't they don't require that you to put to share the slides but I'll put them up on slide deck somewhere and",
    "start": "2717450",
    "end": "2724290"
  },
  {
    "text": "you've got my you've got my Twitter account I'll tweet it up on Twitter where I slide it where I'll upload it to",
    "start": "2724290",
    "end": "2732180"
  },
  {
    "text": "but I can do that anything else go have",
    "start": "2732180",
    "end": "2738760"
  },
  {
    "text": "lunch oh wait a minute there's one over here I can barely see with",
    "start": "2738760",
    "end": "2743850"
  },
  {
    "text": "yep um identity server for actually all",
    "start": "2744610",
    "end": "2755870"
  },
  {
    "text": "of identity servers have something called the user info endpoint and the user info endpoint is basically a place",
    "start": "2755870",
    "end": "2763760"
  },
  {
    "text": "where you can get you can put pretty much anything you want in there but you",
    "start": "2763760",
    "end": "2769550"
  },
  {
    "text": "could definitely overload the user info endpoint to re add extra claims if you",
    "start": "2769550",
    "end": "2774890"
  },
  {
    "text": "wanted to put it there and that that would actually make a lot of sense because then when the application needed",
    "start": "2774890",
    "end": "2780290"
  },
  {
    "text": "it the application could go and specifically request it from the user info endpoint but the main issue that I",
    "start": "2780290",
    "end": "2787280"
  },
  {
    "text": "want to make here is that there should not be a coupling between the identity server and your API itself that alone is",
    "start": "2787280",
    "end": "2795770"
  },
  {
    "text": "a that that's a that's probably a bad idea so I would put an endpoint on your own API if you need this extra business",
    "start": "2795770",
    "end": "2803780"
  },
  {
    "text": "data put it on your API someplace because I I just I like to keep things",
    "start": "2803780",
    "end": "2809960"
  },
  {
    "text": "separate and identity servers only job should be to log in your users and",
    "start": "2809960",
    "end": "2815240"
  },
  {
    "text": "identify your users there there should be no coupling it has no business knowing your business data in my opinion",
    "start": "2815240",
    "end": "2822650"
  },
  {
    "text": "there could be some some reasons why you might want to do it and you can like I said user look up the user info endpoint",
    "start": "2822650",
    "end": "2829310"
  },
  {
    "text": "and you can overload them",
    "start": "2829310",
    "end": "2832270"
  },
  {
    "text": "the user info endpoint you log in you send a bearer token with the access",
    "start": "2837810",
    "end": "2842920"
  },
  {
    "text": "token and it'll and I'll go in if you come down after I'll google it for you and show you the identity for where it",
    "start": "2842920",
    "end": "2849730"
  },
  {
    "text": "is it's it's part of the documentation anything else last time let's go have",
    "start": "2849730",
    "end": "2859240"
  },
  {
    "text": "lunch [Applause]",
    "start": "2859240",
    "end": "2865460"
  }
]