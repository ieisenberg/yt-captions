[
  {
    "text": "my name is Scott Allen I have a lot of materials to cover so we will just commence the talk",
    "start": "9760",
    "end": "15330"
  },
  {
    "text": "first I want you to think about the lighthouse here in this picture it's obviously facing some adverse weather conditions and someone had to make a",
    "start": "15330",
    "end": "22290"
  },
  {
    "text": "choice about how to build that lighthouse if I was building that lighthouse I could have gone out in the water hammered a pole into the ocean",
    "start": "22290",
    "end": "29009"
  },
  {
    "text": "floor put a light on top ran an extension cord back to my house or you know wherever and that would be a",
    "start": "29009",
    "end": "34530"
  },
  {
    "text": "lighthouse maybe but it wouldn't be very resilient but it was very cheap and inexpensive to build if you want resiliency in a",
    "start": "34530",
    "end": "41879"
  },
  {
    "text": "lighthouse then you have to start thinking about drilling into the ocean bed and using concrete and steel and battery backups and things like that",
    "start": "41879",
    "end": "48180"
  },
  {
    "text": "it's obviously a lot more expensive so this may be obvious but I just want to point out that the amount of resiliency",
    "start": "48180",
    "end": "55559"
  },
  {
    "text": "that you want in a system is more of a business decision than a technical decision you have to figure out how much",
    "start": "55559",
    "end": "61350"
  },
  {
    "text": "down time can your business in curve how much availability do your customers expect and then you need to apply some",
    "start": "61350",
    "end": "68700"
  },
  {
    "text": "engineering constraints and do some technical research to figure out what can we provide for the right amount of",
    "start": "68700",
    "end": "74700"
  },
  {
    "text": "value so that techniques we're going to talk about today are really for",
    "start": "74700",
    "end": "79860"
  },
  {
    "text": "resilient services which is about maintaining high availability not perfect availability high availability",
    "start": "79860",
    "end": "85430"
  },
  {
    "text": "and a lot of the techniques that I'll talk about also applied to disaster recovery so if an entire data center",
    "start": "85430",
    "end": "91860"
  },
  {
    "text": "goes offline and takes your data with it how do you recover from that problem because in both of these cases to",
    "start": "91860",
    "end": "97530"
  },
  {
    "text": "maintain high availability to have a good disaster recovery plan you typically need things like redundancy",
    "start": "97530",
    "end": "103290"
  },
  {
    "text": "you need to replicate data to different data centers but I'm gonna focus on the high available high availability part of",
    "start": "103290",
    "end": "109380"
  },
  {
    "text": "this disaster recovery would be a different topic so I'm going to focus on",
    "start": "109380",
    "end": "115500"
  },
  {
    "text": "talking about specific asier features that give you resiliency and high availability and one of the things you",
    "start": "115500",
    "end": "122220"
  },
  {
    "text": "have to do if you're gonna decide to move to a cloud is you have to go to that cloud provider you have to figure out what they offer what services they",
    "start": "122220",
    "end": "128009"
  },
  {
    "text": "provide how how much resiliency is inherent in that service and I just want",
    "start": "128009",
    "end": "134310"
  },
  {
    "text": "to give an overview of some of the services that I've been using an azure over the last year so there's compute",
    "start": "134310",
    "end": "139920"
  },
  {
    "text": "services these would be virtual machines or containers running on a virtual machine everyone uses storage and azure",
    "start": "139920",
    "end": "145950"
  },
  {
    "text": "everyone uses networking to summit there's platform services integration",
    "start": "145950",
    "end": "151860"
  },
  {
    "text": "services app services so if you're not familiar with Azure and app service is",
    "start": "151860",
    "end": "157260"
  },
  {
    "text": "something that you can use to deploy a web application but it's a platform as a service feature so instead of running a",
    "start": "157260",
    "end": "165240"
  },
  {
    "text": "VM you're just running on a platform and yes behind the scenes it's Linux or Windows and it's running an IAS server",
    "start": "165240",
    "end": "171300"
  },
  {
    "text": "but you don't really care about operating system updates and so forth but that brings up one of the first",
    "start": "171300",
    "end": "176760"
  },
  {
    "text": "considerations for building resilient services is let's say I build an asp.net application or asp.net core application",
    "start": "176760",
    "end": "184110"
  },
  {
    "text": "there are several different ways that I could deploy that into Azure and I went to evaluate my choices if I'm really",
    "start": "184110",
    "end": "190440"
  },
  {
    "text": "focused on high availability for example I could take an asp.net application and easily provision a set of VMs inside of",
    "start": "190440",
    "end": "197730"
  },
  {
    "text": "azure and deploy onto VMs that have is installed I could also take something",
    "start": "197730",
    "end": "203010"
  },
  {
    "text": "like an asp.net core application and deploy it in a service fabric cluster which we'll talk about later in this",
    "start": "203010",
    "end": "208440"
  },
  {
    "text": "presentation and I can also take an asp net application and deploy it as an app service so three different services all",
    "start": "208440",
    "end": "215310"
  },
  {
    "text": "of them can host web applications for my customers all of them have different perspectives that you need to take for",
    "start": "215310",
    "end": "221760"
  },
  {
    "text": "availability different techniques that you need to use to make sure that that web service stays up and running those",
    "start": "221760",
    "end": "226830"
  },
  {
    "text": "are the kind of topics that we'll talk about today each of those resources",
    "start": "226830",
    "end": "231860"
  },
  {
    "text": "talking about availability will also have a service level agreement and in Azure it's very easy to do a google",
    "start": "231860",
    "end": "238290"
  },
  {
    "text": "search and say tell me the service level agreement for app services or for virtual machines and you should land on",
    "start": "238290",
    "end": "245489"
  },
  {
    "text": "a page that where you can click on a link and without very much legalese mmm",
    "start": "245489",
    "end": "250500"
  },
  {
    "text": "Microsoft on the very opening paragraph of that page will make it very apparent a couple different things first of all",
    "start": "250500",
    "end": "255570"
  },
  {
    "text": "for the resource that you're using like a virtual machine or an app service what",
    "start": "255570",
    "end": "260940"
  },
  {
    "text": "is the expected uptime what does the guaranteed uptime that Microsoft gives you that's one piece of information second piece of information will be",
    "start": "260940",
    "end": "268080"
  },
  {
    "text": "under what conditions will they guarantee that uptime so for example for",
    "start": "268080",
    "end": "273470"
  },
  {
    "text": "storage depending on what you select you might",
    "start": "273470",
    "end": "278690"
  },
  {
    "text": "get a guaranteed uptime of 99.9 percent which is about 10 minutes of downtime a",
    "start": "278690",
    "end": "286220"
  },
  {
    "text": "week but depending on your configuration you can also go for four nines or 99.99%",
    "start": "286220",
    "end": "292730"
  },
  {
    "text": "uptime for your storage and that would be four minutes of downtime a month compared to 40 minutes of downtime per",
    "start": "292730",
    "end": "299120"
  },
  {
    "text": "month the difference is that the four nines 99.99% require configuration that",
    "start": "299120",
    "end": "305480"
  },
  {
    "text": "is about twice as expensive as three nines so right there as a decision you have to make do you want do I want to",
    "start": "305480",
    "end": "312110"
  },
  {
    "text": "pay to reduce my downtime by an order of magnitude the other thing that the",
    "start": "312110",
    "end": "317240"
  },
  {
    "text": "service level agreements will tell you is the amount of credit that Microsoft will provide if they do not meet those",
    "start": "317240",
    "end": "322850"
  },
  {
    "text": "guaranteed uptime statistics another thing to understand about these",
    "start": "322850",
    "end": "329600"
  },
  {
    "text": "SLA is when you look at them is you also have to understand when you're designing their system how the SLA is combined",
    "start": "329600",
    "end": "336320"
  },
  {
    "text": "together so if I'm building a web application on App Services the let's say has a 99.95%",
    "start": "336320",
    "end": "343300"
  },
  {
    "text": "SLA so that's 21 minutes of downtime which is the SLA currently for app",
    "start": "343300",
    "end": "348410"
  },
  {
    "text": "services well specific app services is not the free ones and I'm using a sure sequel",
    "start": "348410",
    "end": "354560"
  },
  {
    "text": "database that has four nines in the SLA so that's 20 minutes 21 minutes and 4",
    "start": "354560",
    "end": "359990"
  },
  {
    "text": "minutes my system could be down for 25 minutes in a month when the how services",
    "start": "359990",
    "end": "365240"
  },
  {
    "text": "are down that's a different time than when the Azure sequel database is down I could be down for 25 minutes a month Microsoft would still be meeting their",
    "start": "365240",
    "end": "370820"
  },
  {
    "text": "commitment and I have to understand if that's good enough for my application how many customers could I lose how much",
    "start": "370820",
    "end": "377900"
  },
  {
    "text": "revenue could I lose if it's down for 25 minutes and the interesting technology choices and design patterns come into",
    "start": "377900",
    "end": "384470"
  },
  {
    "text": "play when you're trying to do better than that SLA so you're trying to do something to",
    "start": "384470",
    "end": "389840"
  },
  {
    "text": "mitigate when as your sequel might be offline for a few minutes those are some",
    "start": "389840",
    "end": "395630"
  },
  {
    "text": "of the things we'll look at we also have to understand so when",
    "start": "395630",
    "end": "403680"
  },
  {
    "text": "you're selecting which services and Azure you want to understand what what is the SLA for that particular service",
    "start": "403680",
    "end": "408930"
  },
  {
    "text": "and also what are some of the inherent resiliency features that are built into that service because most things in Azure they'll automatically give you",
    "start": "408930",
    "end": "415110"
  },
  {
    "text": "some resilience ease for example with blob storage when I went to store files somewhere in Azure I can set up a",
    "start": "415110",
    "end": "422069"
  },
  {
    "text": "specific type of redundancy in my blob storage so literally when you're creating a storage account there's a",
    "start": "422069",
    "end": "428099"
  },
  {
    "text": "little drop-down that says do you want locally redundant storage that's the storage that gives you three nines of availability or 40 minutes of downtime",
    "start": "428099",
    "end": "434759"
  },
  {
    "text": "per month and every bit of data that you write into that type of Azure blob storage gets replicated three times in",
    "start": "434759",
    "end": "441120"
  },
  {
    "text": "the same data center and it's guaranteed that your data will have copies on different racks of server so something",
    "start": "441120",
    "end": "447539"
  },
  {
    "text": "catastrophic happens to a specific rack like the both power supplies go out or whatever will still be another copy of",
    "start": "447539",
    "end": "455099"
  },
  {
    "text": "your data and said inside that same data center and then the interesting one the one that's twice as expensive is read",
    "start": "455099",
    "end": "461250"
  },
  {
    "text": "access GA overdone at storage where not only as your data still copied three times inside of the same data center",
    "start": "461250",
    "end": "467550"
  },
  {
    "text": "it's also asynchronously replicated to another data center but somewhere else on a different continent or perhaps on",
    "start": "467550",
    "end": "473789"
  },
  {
    "text": "the same continent if it's a big continent and if the primary data center goes if a whole data center goes offline",
    "start": "473789",
    "end": "479789"
  },
  {
    "text": "you still have access to your data from somewhere else and we'll talk about how to take advantage of that that's",
    "start": "479789",
    "end": "485430"
  },
  {
    "text": "actually really easy to use read accessed year but none in storage mm-hmm",
    "start": "485430",
    "end": "490500"
  },
  {
    "text": "if you use some of the azure SDK libraries to access blob storage for",
    "start": "490500",
    "end": "496229"
  },
  {
    "text": "virtual machines what is something inherent about virtual machines that will give you resiliency",
    "start": "496229",
    "end": "501800"
  },
  {
    "text": "that would be what Azra calls an availability set so if I go into Azure and I provision a single virtual machine",
    "start": "501800",
    "end": "508320"
  },
  {
    "text": "to run I just really know there's no sl8 for that if I want guaranteed uptime from",
    "start": "508320",
    "end": "514190"
  },
  {
    "text": "services that I put onto a virtual machine I have to create at least two virtual machines put a load balancer in",
    "start": "514190",
    "end": "520680"
  },
  {
    "text": "front and put those virtual machines into it an availability set and what an",
    "start": "520680",
    "end": "525720"
  },
  {
    "text": "availability set will allow me to do focus your attention down here is I can",
    "start": "525720",
    "end": "532710"
  },
  {
    "text": "configure how many fault domains and how many update domains I went in thus available DS set so a fault domain is",
    "start": "532710",
    "end": "538050"
  },
  {
    "text": "basically if something goes wrong inside a pager we'll try to limit the effect so",
    "start": "538050",
    "end": "543420"
  },
  {
    "text": "if I say I want to different fault domains and I want to put create two virtual machines I want them in two different fault domains a fault domains",
    "start": "543420",
    "end": "550709"
  },
  {
    "text": "basically a server rack so if an entire rack goes offline the other computer the",
    "start": "550709",
    "end": "555990"
  },
  {
    "text": "other virtual machine I have provisions should still be up somewhere in that same data center and there's also update",
    "start": "555990",
    "end": "561990"
  },
  {
    "text": "domains so let's say I have a hundred virtual machines provision across a few",
    "start": "561990",
    "end": "567570"
  },
  {
    "text": "different three different fault domains there's also update domains the update domain is Asher's way of guaranteeing",
    "start": "567570",
    "end": "574050"
  },
  {
    "text": "you that even if they have to supply some sort of security patch to the hypervisor the actual physical system",
    "start": "574050",
    "end": "580740"
  },
  {
    "text": "that's running all the route VMs and they have to take everything offline that your virtual machines will be distributed across these multiple update",
    "start": "580740",
    "end": "587490"
  },
  {
    "text": "domains they won't all go down at once to apply this update and there's a very",
    "start": "587490",
    "end": "593010"
  },
  {
    "text": "simple mechanism in the UI or with powershell script or however you want to do it to take your VMs and put them in",
    "start": "593010",
    "end": "598110"
  },
  {
    "text": "these different update domains if I'm building something with as your sequel",
    "start": "598110",
    "end": "603300"
  },
  {
    "text": "there's a couple different ways to have resiliency if I'm using Azure sequel as your sequel which already has a four",
    "start": "603300",
    "end": "610020"
  },
  {
    "text": "nines of guaranteed uptime one its replication so it's easy for me to go in and say this as your sequel instance",
    "start": "610020",
    "end": "616410"
  },
  {
    "text": "that I have running in an Australian data center I wanted to asynchronously replicate all",
    "start": "616410",
    "end": "622589"
  },
  {
    "text": "the writes and inserts and updates and deletes that I do into another data center perhaps on another continent and",
    "start": "622589",
    "end": "628380"
  },
  {
    "text": "you can have multiple secondaries with Azure sequel and it also provides point in time restore features which there's a",
    "start": "628380",
    "end": "636209"
  },
  {
    "text": "significant difference between replication and point and time restore so if I have a bug in my application and",
    "start": "636209",
    "end": "642240"
  },
  {
    "text": "it goes in and truncates a table or updates a customer table and sets everyone's name the Scott accidentally",
    "start": "642240",
    "end": "648660"
  },
  {
    "text": "it's a bug as you seek will happily replicate that error around the world",
    "start": "648660",
    "end": "653670"
  },
  {
    "text": "and that's when I would need a point in time restore also so you can configure",
    "start": "653670",
    "end": "658770"
  },
  {
    "text": "those easily this is a little interface where you can literally hear I have a as your sequel",
    "start": "658770",
    "end": "664930"
  },
  {
    "text": "instance running in the east us and I can just click one another data center the one in purple is the preferred data center for me to replicate my sequel",
    "start": "664930",
    "end": "671740"
  },
  {
    "text": "server into and when you setup replicated sequel server you'll get to a",
    "start": "671740",
    "end": "677620"
  },
  {
    "text": "little dialog like this where you can make the secondary type readable which has a number of interesting",
    "start": "677620",
    "end": "683110"
  },
  {
    "text": "ramifications on your software design if you have say a reporting system that",
    "start": "683110",
    "end": "688689"
  },
  {
    "text": "hangs off the main application it's very easy to point your reporting system to this replicated read-only version of",
    "start": "688689",
    "end": "696189"
  },
  {
    "text": "sequel server that kind of offloads things from your production system of course that does mean that all the write",
    "start": "696189",
    "end": "702249"
  },
  {
    "text": "still have to go to that primary sequel server but there's automatic failover so my primary sequel server goes down one",
    "start": "702249",
    "end": "708220"
  },
  {
    "text": "of the secondaries will get promoted my application will just fail over and start using that secondary for app",
    "start": "708220",
    "end": "715689"
  },
  {
    "text": "services when we want to host web applications one of the things that I can do with an app service to make it",
    "start": "715689",
    "end": "721209"
  },
  {
    "text": "more resilient is geo distributed that is literally take my application and install it in two different data centers",
    "start": "721209",
    "end": "727600"
  },
  {
    "text": "around the world then the question is which ones do my customers connect to",
    "start": "727600",
    "end": "733720"
  },
  {
    "text": "how do I route traffic to Australia versus one in the United States that's something that we'll talk about here in",
    "start": "733720",
    "end": "739899"
  },
  {
    "text": "just a bit too so let's get into some specifics let's say I'm building a relatively simple application I don't",
    "start": "739899",
    "end": "746949"
  },
  {
    "text": "need a lot of resiliency I'm not willing to pay for dedicating 10,000 virtual",
    "start": "746949",
    "end": "753790"
  },
  {
    "text": "machines to maintain you know 99.99% availability I just have my customers",
    "start": "753790",
    "end": "759339"
  },
  {
    "text": "coming to an app service my app service has an app service plan which I'll talk about in just a second maybe I used just",
    "start": "759339",
    "end": "765309"
  },
  {
    "text": "blob storage and Azure sequel so I'd like to maintain some amount availability in the system and it turns",
    "start": "765309",
    "end": "771639"
  },
  {
    "text": "out app service plans which are what describe the virtual hardware that",
    "start": "771639",
    "end": "777189"
  },
  {
    "text": "you're running on if you're not familiar with Azure so an app service is here's my application app service plan is what",
    "start": "777189",
    "end": "782860"
  },
  {
    "text": "hardware do I want to run it on I might want to run it on a to poor machine with 7.5 gigabytes of memory or I might want",
    "start": "782860",
    "end": "789790"
  },
  {
    "text": "to run it on a 4 core machine but once I define my app service plan for my servus I can also describe how many",
    "start": "789790",
    "end": "794970"
  },
  {
    "text": "instances of that app service plan that I want so how many copies of that hardware do I want do I want to run two",
    "start": "794970",
    "end": "800970"
  },
  {
    "text": "instances so if one goes down I still have one available or four instances ten instances you can go up to 20 I believe",
    "start": "800970",
    "end": "807660"
  },
  {
    "text": "without service plans depending on the price in tier you select an azure will automatically have a load balancer in",
    "start": "807660",
    "end": "814050"
  },
  {
    "text": "front of you to distribute things across the app service plan so that's a little bit of resiliency there but I also need",
    "start": "814050",
    "end": "821460"
  },
  {
    "text": "to think about the relationship between my app service and Azure sequel and using blob storage one thing you can do",
    "start": "821460",
    "end": "829770"
  },
  {
    "text": "in that situation is to take advantage of connection resiliency so if I have an application that tries to reach blob",
    "start": "829770",
    "end": "835050"
  },
  {
    "text": "storage or Azure sequel and it doesn't connect on the first try and it just gives up that's not very resilient but it's also",
    "start": "835050",
    "end": "840690"
  },
  {
    "text": "simple to program if my application does let's say three retries with a little",
    "start": "840690",
    "end": "846780"
  },
  {
    "text": "bit of back off time in between that can give me a more resilient application because sometimes you just have this",
    "start": "846780",
    "end": "852570"
  },
  {
    "text": "transient network conditions that don't let you through to a specific server but if you wait let's say fifteen hundred",
    "start": "852570",
    "end": "858120"
  },
  {
    "text": "milliseconds all of a sudden the connection will work it turns out that if you're using some of the official",
    "start": "858120",
    "end": "864570"
  },
  {
    "text": "Azure SDKs for these services like blob storage and for Azure sequel these SDKs",
    "start": "864570",
    "end": "870240"
  },
  {
    "text": "that are available for different languages for JavaScript for c-sharp they have built-in retry logic you just",
    "start": "870240",
    "end": "877680"
  },
  {
    "text": "have to take advantage of it and perhaps configure it differently if you want it to behave differently so for example",
    "start": "877680",
    "end": "882870"
  },
  {
    "text": "Azure storage the official NuGet package from Asher if I use that from c-sharp",
    "start": "882870",
    "end": "888510"
  },
  {
    "text": "has a retry logic and here's a little bit of code where you can see when I connect to blob storage with a blob",
    "start": "888510",
    "end": "897210"
  },
  {
    "text": "client one of the properties that is hanging off that object is the default request options and I can customize the",
    "start": "897210",
    "end": "904530"
  },
  {
    "text": "request options to say my location mode is primary than secondary in other words I want you to try to go to the primary",
    "start": "904530",
    "end": "912290"
  },
  {
    "text": "storage account location first and if that fails then try the secondary one and actually you have to do that if you",
    "start": "912290",
    "end": "919530"
  },
  {
    "text": "want to have the 99.99% uptime guarantee like yourself says you have to try the",
    "start": "919530",
    "end": "925250"
  },
  {
    "text": "secondary I can also specify different retry policies that is just a simple",
    "start": "925250",
    "end": "930410"
  },
  {
    "text": "interface if I want to say specify a custom retry policy but this linear",
    "start": "930410",
    "end": "935720"
  },
  {
    "text": "retry which the default is exponential by the way we'll just try it fails okay",
    "start": "935720",
    "end": "941840"
  },
  {
    "text": "let's wait 500 milliseconds we'll try again we'll try that for a maximum of three",
    "start": "941840",
    "end": "947150"
  },
  {
    "text": "attempts before we give up for the",
    "start": "947150",
    "end": "954680"
  },
  {
    "text": "entity framework entity framework and any framework or both provide an",
    "start": "954680",
    "end": "960380"
  },
  {
    "text": "extension method enable retry on failure which is highly suggested when you're running inside of a sure just again",
    "start": "960380",
    "end": "966890"
  },
  {
    "text": "because of the transient network failures that occur so the entity framework knows about the specific types",
    "start": "966890",
    "end": "972800"
  },
  {
    "text": "of errors that it might get back from an azure sequel instance where it makes sense to retry that so if you try to",
    "start": "972800",
    "end": "978830"
  },
  {
    "text": "insert something that violates a constraint that's inside of a database table and the error comes back about",
    "start": "978830",
    "end": "984890"
  },
  {
    "text": "that entity framework smart enough to know well if I try that again I'm just gonna get the same error message but if",
    "start": "984890",
    "end": "991100"
  },
  {
    "text": "it tries something that gets some sort of network related error then it knows okay we will wait for a period of time",
    "start": "991100",
    "end": "996620"
  },
  {
    "text": "500 milliseconds we'll try that again so those are some of the things that you",
    "start": "996620",
    "end": "1002680"
  },
  {
    "text": "can do that are really easy to have a more resilient service now let's talk about graceful degradation this is where",
    "start": "1002680",
    "end": "1008260"
  },
  {
    "text": "things get a little more interesting I want to use a document database Cosmos DB whatever it's called this week as a",
    "start": "1008260",
    "end": "1014710"
  },
  {
    "text": "sequel blob storage I'm not making that connection the connection has completely failed now what I do now what do I do",
    "start": "1014710",
    "end": "1021910"
  },
  {
    "text": "well if it's a read operation perhaps you have a cache with some older data",
    "start": "1021910",
    "end": "1026920"
  },
  {
    "text": "inside of it that you could read from instead and this is where but you know",
    "start": "1026920",
    "end": "1031930"
  },
  {
    "text": "there's a cost for provisioning resources in Azure if I want the the better uptime guarantees I pay a premium",
    "start": "1031930",
    "end": "1038890"
  },
  {
    "text": "for the better hardware the better services from Azure this is where you start talking about the cost of the",
    "start": "1038890",
    "end": "1044500"
  },
  {
    "text": "software that you build so now inside of my code instead of having something that",
    "start": "1044500",
    "end": "1049630"
  },
  {
    "text": "simply always just tries to go to the database now I have to think about situations where okay if the database",
    "start": "1049630",
    "end": "1055060"
  },
  {
    "text": "failed let me try other situations so I started having some branching logic and that now only",
    "start": "1055060",
    "end": "1060340"
  },
  {
    "text": "increases the amount of effort that you spend in building your software it obviously increases the amount of effort",
    "start": "1060340",
    "end": "1065740"
  },
  {
    "text": "that you spend debugging things when something goes wrong and testing things to make sure you have all these different conditions covered and testing",
    "start": "1065740",
    "end": "1073210"
  },
  {
    "text": "that this testing that this actually works so what happens when I turn off my address equal instance you know I want",
    "start": "1073210",
    "end": "1079780"
  },
  {
    "text": "to understand how the application is gonna behave in that instance it also",
    "start": "1079780",
    "end": "1085360"
  },
  {
    "text": "depends on the type of system you're building obviously - and that's where you know I can't give you specific",
    "start": "1085360",
    "end": "1091240"
  },
  {
    "text": "advice about exactly what to do but I can tell you that if you're building something that involves financial",
    "start": "1091240",
    "end": "1096460"
  },
  {
    "text": "transactions or stock quotes it might be a bad idea to serve up stale data obviously but if you're building some",
    "start": "1096460",
    "end": "1103360"
  },
  {
    "text": "sort of social media site and someone updates the user profile and someone else can't read it right away so we just",
    "start": "1103360",
    "end": "1108910"
  },
  {
    "text": "show the old user profile that was in a cache that's perfectly fine what about writes to that database well",
    "start": "1108910",
    "end": "1116680"
  },
  {
    "text": "maybe if the database down maybe if the database is down I start using a cueing system instead or maybe I'm always using",
    "start": "1116680",
    "end": "1122200"
  },
  {
    "text": "that cueing system and I have a backup for the queuing system but one of the things that I want to point out here is",
    "start": "1122200",
    "end": "1127570"
  },
  {
    "text": "that one of the best design patterns that you can have for resiliency has some other benefits to a cqr app so",
    "start": "1127570",
    "end": "1134800"
  },
  {
    "text": "separating the model that you use for reads from the model that you use for writes because you might want those",
    "start": "1134800",
    "end": "1141310"
  },
  {
    "text": "things to take two different paths through your code use two different data access techniques for example any CQRS",
    "start": "1141310",
    "end": "1150070"
  },
  {
    "text": "fans good let's talk about a slightly",
    "start": "1150070",
    "end": "1156820"
  },
  {
    "text": "more sophisticated scenario so now I have customers I have an app service I'm",
    "start": "1156820",
    "end": "1162520"
  },
  {
    "text": "using a storage account using CQRS on fire firing things into queues firing",
    "start": "1162520",
    "end": "1168430"
  },
  {
    "text": "things into blob storage I'm using that Redis cache I'm using Azure sequel search services app insights key bolt",
    "start": "1168430",
    "end": "1175780"
  },
  {
    "text": "all these wonderful services what I want to talk about is a couple different",
    "start": "1175780",
    "end": "1180820"
  },
  {
    "text": "situations in that one whoops now let's do this one instead",
    "start": "1180820",
    "end": "1188309"
  },
  {
    "text": "interesting let's talk about geo distribution actually said I have an app",
    "start": "1188900",
    "end": "1194520"
  },
  {
    "text": "service I have a web application I want to deploy that into multiple data centers and that there could be various",
    "start": "1194520",
    "end": "1199650"
  },
  {
    "text": "reasons for that I might went to deploy a web application into an Australian data center and a US data center just so that my customers",
    "start": "1199650",
    "end": "1207450"
  },
  {
    "text": "from Australia have a server that's really close to them and the latency is low and the application performance is really good and the US customers can use",
    "start": "1207450",
    "end": "1214890"
  },
  {
    "text": "the US server that might be one reason another reason is I might need a specific instance of my application",
    "start": "1214890",
    "end": "1221100"
  },
  {
    "text": "running in a region for compliance reasons so inside of the EU I might want",
    "start": "1221100",
    "end": "1228270"
  },
  {
    "text": "a specific installation of Azure sequel and my app service to keep all the information about Eun side the borders",
    "start": "1228270",
    "end": "1235710"
  },
  {
    "text": "there what I can do with a is I can take the code that I deploy into Azure and I",
    "start": "1235710",
    "end": "1242370"
  },
  {
    "text": "can create multiple app services and deploy the exact same application into each of those app services and then",
    "start": "1242370",
    "end": "1248520"
  },
  {
    "text": "figure out how which app service I will send my customers to using a service",
    "start": "1248520",
    "end": "1254190"
  },
  {
    "text": "known as Traffic Manager Traffic Manager is one of the load balancers in Azure",
    "start": "1254190",
    "end": "1259260"
  },
  {
    "text": "and I do just want to talk about load balancing for a second because there's",
    "start": "1259260",
    "end": "1264600"
  },
  {
    "text": "there's three different load balancers in Azure and sometimes that gets a little bit confusing first if you go",
    "start": "1264600",
    "end": "1269880"
  },
  {
    "text": "into the portal one you search for load balancer one of the hits that will come back is the azure load balancer the as your load balancer is a level three load",
    "start": "1269880",
    "end": "1276900"
  },
  {
    "text": "balancer so it operates at the tcp/ip level it's typically used in front of an availability set for virtual machines",
    "start": "1276900",
    "end": "1283200"
  },
  {
    "text": "because what you're doing is you're distributing TCP or UDP sessions across",
    "start": "1283200",
    "end": "1288540"
  },
  {
    "text": "a number of machines another load balancer that is in Azure is the azure",
    "start": "1288540",
    "end": "1293940"
  },
  {
    "text": "application gateway this is an application layer it's layer 7 so it understands protocols like HTTP HTTPS",
    "start": "1293940",
    "end": "1302400"
  },
  {
    "text": "and WebSocket so it's a slightly more sophisticated you could say load balancer this is the type of load",
    "start": "1302400",
    "end": "1308070"
  },
  {
    "text": "balancer that is used in front of an app service because I want I need a load balancer that is actually looking at",
    "start": "1308070",
    "end": "1314490"
  },
  {
    "text": "incoming HTTP requests and looking at headers perhaps for cookies to implement",
    "start": "1314490",
    "end": "1319919"
  },
  {
    "text": "features like sessions you know once the customer has established a session on one of my servers I always wanted to come back",
    "start": "1319919",
    "end": "1326340"
  },
  {
    "text": "there which is not typically something you want to do for resiliency and actually if you create an app service",
    "start": "1326340",
    "end": "1332789"
  },
  {
    "text": "with multiple instances of the plan so you have multiple servers running and Azure currently there's a feature known",
    "start": "1332789",
    "end": "1339570"
  },
  {
    "text": "as application request routing that is owned by default application request routing is this load balancer injecting",
    "start": "1339570",
    "end": "1346350"
  },
  {
    "text": "a cookie into the HTTP messages to make sure the client has a sticky session I",
    "start": "1346350",
    "end": "1351470"
  },
  {
    "text": "suggest you go in and turn that off and not try to use in memory sessions there's much better options that are",
    "start": "1351470",
    "end": "1357840"
  },
  {
    "text": "easy to use these days and then there's Traffic Manager which I want to take spend a little bit of time explaining",
    "start": "1357840",
    "end": "1364230"
  },
  {
    "text": "Traffic Manager actually works at the DNS level so with traffic manager what I",
    "start": "1364230",
    "end": "1369390"
  },
  {
    "text": "will do is set up traffic manager with a set of rules that tells traffic manager how to connect my customers to one of",
    "start": "1369390",
    "end": "1375510"
  },
  {
    "text": "these app services that I have deployed could be you know 10 different app services and 10 different countries so",
    "start": "1375510",
    "end": "1381299"
  },
  {
    "text": "when my web browser or my HTTP client or my operating system goes out and says",
    "start": "1381299",
    "end": "1386779"
  },
  {
    "text": "where do I what what IP address do I go to for NDC Sydney com how these rules",
    "start": "1386779",
    "end": "1393840"
  },
  {
    "text": "configured in traffic manager to say oh because that's coming from an Australian IP address we're going to give you back",
    "start": "1393840",
    "end": "1400649"
  },
  {
    "text": "an IP address that goes to the Australian data center that instance of the app service and there's different",
    "start": "1400649",
    "end": "1406799"
  },
  {
    "text": "rules that you can configure but this is DNS resolution basically it's load balancing or sending my customers to",
    "start": "1406799",
    "end": "1413399"
  },
  {
    "text": "specific locations by giving them back an IP address the way this works is",
    "start": "1413399",
    "end": "1419820"
  },
  {
    "text": "let's say inside of azure i have an asp.net application running in the east",
    "start": "1419820",
    "end": "1425940"
  },
  {
    "text": "us and the west EU so east US and west europe those would have two different",
    "start": "1425940",
    "end": "1432179"
  },
  {
    "text": "domain names so it might be music store dot music store or music store - us calm",
    "start": "1432179",
    "end": "1439230"
  },
  {
    "text": "and music store - EU dot-com what I can do is go in and create a traffic manager",
    "start": "1439230",
    "end": "1445679"
  },
  {
    "text": "profile I can say I want the domain name that my customers use to always be music",
    "start": "1445679",
    "end": "1453370"
  },
  {
    "text": "Dork manager net and yes of course you can purchase a custom domain and put it",
    "start": "1453370",
    "end": "1458440"
  },
  {
    "text": "in there so it could just be music store calm you can purchase SSL Certificates that get bound to that and then with",
    "start": "1458440",
    "end": "1464950"
  },
  {
    "text": "traffic manager I pick a routing method so when users come to looking for this",
    "start": "1464950",
    "end": "1471850"
  },
  {
    "text": "site looking for that IP address what method do I use to determine we turn the",
    "start": "1471850",
    "end": "1478960"
  },
  {
    "text": "IP address that they're going to use what routing method you can use as performance which is simply given the",
    "start": "1478960",
    "end": "1484090"
  },
  {
    "text": "current network situation traffic manager will try to determine given where that user is coming from where can",
    "start": "1484090",
    "end": "1490929"
  },
  {
    "text": "we send them that has the least amount of latency there's also a weighted",
    "start": "1490929",
    "end": "1496420"
  },
  {
    "text": "routing method this is useful useful useful for a couple different situations I could just wait things evylyn evenly I",
    "start": "1496420",
    "end": "1503110"
  },
  {
    "text": "could say 7:30 my 50 excuse me I'll slow down for a second send fifty percent of",
    "start": "1503110",
    "end": "1508120"
  },
  {
    "text": "my traffic to this one send the other fifty percent to this one you can also do interesting things like if you want",
    "start": "1508120",
    "end": "1513790"
  },
  {
    "text": "to roll out a new version of your software and just sort of test it out in production for a little bit to make sure things are seen you can use that",
    "start": "1513790",
    "end": "1520900"
  },
  {
    "text": "weighted traffic manager profile to say send 95 95 percent of my traffic here but send just 5 percent of it over to",
    "start": "1520900",
    "end": "1527920"
  },
  {
    "text": "this other app service so I can see how the haze before I update the other app service with the latest features and by",
    "start": "1527920",
    "end": "1534670"
  },
  {
    "text": "the way you can have nested traffic manager profiles so I can have a traffic traffic manager profile that points to",
    "start": "1534670",
    "end": "1540580"
  },
  {
    "text": "another traffic manager profile that has another set of rules to do the same sort sort of things you can also do priority",
    "start": "1540580",
    "end": "1546790"
  },
  {
    "text": "which is a good routing method if you want to have some sort of failover so I can say this app service priority 1 this",
    "start": "1546790",
    "end": "1552790"
  },
  {
    "text": "app service priority 2 request won't go to this other app service until traffic manager has determined that the priority",
    "start": "1552790",
    "end": "1559540"
  },
  {
    "text": "1 app service is in trouble for some reason and by the way this doesn't have to be just app services I should point",
    "start": "1559540",
    "end": "1565960"
  },
  {
    "text": "that out with traffic manager you can basically go to any endpoint so I can have things going to app services and",
    "start": "1565960",
    "end": "1571300"
  },
  {
    "text": "azure or website on a virtual machine and azure or website that I host in my own data center and then there's",
    "start": "1571300",
    "end": "1578530"
  },
  {
    "text": "Geographic that can be very useful for geofencing so again the situation where I have European customers I'm going to",
    "start": "1578530",
    "end": "1584320"
  },
  {
    "text": "keep their data in Europe I want to make sure that all my customers that are in Europe go to a European Data Center you can set up",
    "start": "1584320",
    "end": "1590030"
  },
  {
    "text": "geographic rules to do that once you've created the traffic manager profile then you can go in and in the configuration",
    "start": "1590030",
    "end": "1596700"
  },
  {
    "text": "blade for traffic manager profile where you can change the routing method if you want you can configure the DNS",
    "start": "1596700",
    "end": "1602520"
  },
  {
    "text": "time-to-live that's important that's 300 seconds right there so that means if I if traffic manager",
    "start": "1602520",
    "end": "1607980"
  },
  {
    "text": "hands out an IP address for an app service that suddenly goes down my user could be waiting up to four minutes to",
    "start": "1607980",
    "end": "1614520"
  },
  {
    "text": "get a new IP address to go to an app service that's working and this is one of those settings that's just a balance",
    "start": "1614520",
    "end": "1620580"
  },
  {
    "text": "between you know how quickly do I want things to failover versus how many DNS",
    "start": "1620580",
    "end": "1625890"
  },
  {
    "text": "requests do I want my users to be making I think you can specify a minimum here of 30 seconds but obviously then it's",
    "start": "1625890",
    "end": "1632550"
  },
  {
    "text": "aggressively always asking for for IP addresses this end point monitor",
    "start": "1632550",
    "end": "1638460"
  },
  {
    "text": "settings so what we'll see is that I need to tell traffic manager about the",
    "start": "1638460",
    "end": "1643590"
  },
  {
    "text": "different end points where I wanted to send traffic and then each end point that I provide I have to provide",
    "start": "1643590",
    "end": "1649140"
  },
  {
    "text": "basically a URL the traffic manager can go to to figure out if that particular resource is healthy so the path could be",
    "start": "1649140",
    "end": "1656460"
  },
  {
    "text": "something like slash status a good recommendation would be to create a page",
    "start": "1656460",
    "end": "1661560"
  },
  {
    "text": "or a route somewhere in your application that is dedicated to just returning the the health of the system and if you've",
    "start": "1661560",
    "end": "1667920"
  },
  {
    "text": "returned anything anything other than a 200 response traffic manager assumes there's problems so you might have a",
    "start": "1667920",
    "end": "1674550"
  },
  {
    "text": "dedicated status route that just checks do I have database connectivity do I have blobstore just everything online if",
    "start": "1674550",
    "end": "1681540"
  },
  {
    "text": "so return to 200 otherwise return to 500 and traffic manager will realize that",
    "start": "1681540",
    "end": "1686550"
  },
  {
    "text": "there's a problem there and that path has to be the same for all of your endpoints which are simply for a traffic",
    "start": "1686550",
    "end": "1693570"
  },
  {
    "text": "manager profile I go in I add endpoints I say that this is one app service this is my maybe something deployed locally",
    "start": "1693570",
    "end": "1700470"
  },
  {
    "text": "but these are the two endpoints that I want you to balance the traffic between so it's easy to use and effective let's",
    "start": "1700470",
    "end": "1708720"
  },
  {
    "text": "also talk about load leveling so another thing that you have to worry about to maintain high availability is when the",
    "start": "1708720",
    "end": "1714870"
  },
  {
    "text": "crushing weight of a spike of requests comes into your system how do you make sure that that doesn't",
    "start": "1714870",
    "end": "1720630"
  },
  {
    "text": "overwhelm back-end systems you know there's a lot of resources in Azure like Azure sequel and cosmos DB when you",
    "start": "1720630",
    "end": "1726510"
  },
  {
    "text": "provision them you have to provision the request units or the data transfer units",
    "start": "1726510",
    "end": "1733230"
  },
  {
    "text": "basically how hard are you going to allow those things to work and it's easy to end up in a situation where you have",
    "start": "1733230",
    "end": "1738390"
  },
  {
    "text": "a spike of traffic where suddenly you're hammering sequel server as your sequel so hard that you are exceeding the",
    "start": "1738390",
    "end": "1744450"
  },
  {
    "text": "number of dtu's that you've allocated for that particular sequel server basically how much performance you're",
    "start": "1744450",
    "end": "1750030"
  },
  {
    "text": "allowing for that sequel server and of course you pay for better performance so how do you level things out I've been a",
    "start": "1750030",
    "end": "1756960"
  },
  {
    "text": "big fan of service bus and azure it's worked really well there's really two forms of queuing and azure there's",
    "start": "1756960",
    "end": "1762360"
  },
  {
    "text": "queues associated with Azure storage which are very simple and straightforward and easy to use there's also queues as part of service",
    "start": "1762360",
    "end": "1768960"
  },
  {
    "text": "boss which are also simple to use but service service bus provides some additional features like topics which is",
    "start": "1768960",
    "end": "1775740"
  },
  {
    "text": "basically a pub sub mechanism so I can drop a message into a topic and have multiple listeners if need be or I can",
    "start": "1775740",
    "end": "1783360"
  },
  {
    "text": "use queues and drop a message into a queue where one other service or one other thing will pull that message out",
    "start": "1783360",
    "end": "1788820"
  },
  {
    "text": "and read from it and service bus by the way easy to use I can create Hugh's once",
    "start": "1788820",
    "end": "1794610"
  },
  {
    "text": "I've provisioned a service bus namespace configure a maximum amount of size configure how long a message should live",
    "start": "1794610",
    "end": "1801240"
  },
  {
    "text": "in that queue do things like enable duplicate detection and evil sessions and able partitioning partitioning is",
    "start": "1801240",
    "end": "1807060"
  },
  {
    "text": "useful when you are creating an enormous number of messages more than a single",
    "start": "1807060",
    "end": "1812810"
  },
  {
    "text": "node would be able to handle so you want to partition those things across multiple nodes we'll come back and talk a little more about partitioning what",
    "start": "1812810",
    "end": "1819600"
  },
  {
    "text": "service bus also basically easy to use this is the official service bus bus SDK where I have a cue client that I'll",
    "start": "1819600",
    "end": "1825690"
  },
  {
    "text": "create I create a new instance of a brokered message where I can put some content inside maybe I can Jason",
    "start": "1825690",
    "end": "1831960"
  },
  {
    "text": "serialize a complex object put it inside the brokered message and then just send things off to service bus in auditioning",
    "start": "1831960",
    "end": "1840660"
  },
  {
    "text": "in addition to load leveling there's also load throttling one of the things I",
    "start": "1840660",
    "end": "1847170"
  },
  {
    "text": "had experiment with is if this company is going to provide a public API that people",
    "start": "1847170",
    "end": "1852179"
  },
  {
    "text": "newse how do I prevent people from abusing that API how do I prevent people from making too many requests or writing",
    "start": "1852179",
    "end": "1859379"
  },
  {
    "text": "some sort of have a bug in their script that just is sending millions of requests to my API service every minute",
    "start": "1859379",
    "end": "1866389"
  },
  {
    "text": "there is a service inside of azure News API manager what API manager can do is",
    "start": "1866389",
    "end": "1874830"
  },
  {
    "text": "it basically acts as an API gateway it acts as a proxy what I can do with API manager is created I can point it to the",
    "start": "1874830",
    "end": "1880740"
  },
  {
    "text": "different services that I have which might be in different app services or scattered across different virtual machines and I can present a unified API",
    "start": "1880740",
    "end": "1889200"
  },
  {
    "text": "to my clients I can also present something that they have to register before they can use and I can also",
    "start": "1889200",
    "end": "1894899"
  },
  {
    "text": "easily implement policies like I'm only going to allow you five calls a minute if you're on the standard plan but and I",
    "start": "1894899",
    "end": "1902669"
  },
  {
    "text": "can have a premium tier for my API that allows them a hundred calls per minute but they have to pay more for it so if",
    "start": "1902669",
    "end": "1909629"
  },
  {
    "text": "you're writing an API that exposes metadata either through swagger or wisdom it's easy to go into this API",
    "start": "1909629",
    "end": "1916889"
  },
  {
    "text": "manager and say and point it to your metadata end point and it will figure out what operations you have available",
    "start": "1916889",
    "end": "1924769"
  },
  {
    "text": "and this would be creating that API management service so what's interesting",
    "start": "1924769",
    "end": "1930840"
  },
  {
    "text": "and interesting about this sorry if that's blurry it doesn't matter how many",
    "start": "1930840",
    "end": "1936119"
  },
  {
    "text": "api's I have how they're implemented where they exist in the world my customers can always just come to let's",
    "start": "1936119",
    "end": "1942059"
  },
  {
    "text": "say Scott Allen API dogger API net or whatever custom domain I have and I can",
    "start": "1942059",
    "end": "1947669"
  },
  {
    "text": "give them access to everything everything that I have in matter how its deployed or where it lives and you can",
    "start": "1947669",
    "end": "1954539"
  },
  {
    "text": "see the different pricing plans and the different limitations here but once I set that up I now have two things I have",
    "start": "1954539",
    "end": "1962039"
  },
  {
    "text": "a management portal available to me and I have a developer portal so when someone from another company says hey I",
    "start": "1962039",
    "end": "1967799"
  },
  {
    "text": "want to sign up to use your API how do we get authorization tokens how do I register for it as your already provides",
    "start": "1967799",
    "end": "1973710"
  },
  {
    "text": "an API they can come in they can register with a username and password they can then see my the documentation",
    "start": "1973710",
    "end": "1979860"
  },
  {
    "text": "for my API they can then manage their own access keys so it's just like when you go to use Google Maps or Bing Maps as a",
    "start": "1979860",
    "end": "1986970"
  },
  {
    "text": "developer and you have to register there to obtain an access token an API key",
    "start": "1986970",
    "end": "1992390"
  },
  {
    "text": "that's all built for you this is documentation that they would",
    "start": "1992390",
    "end": "1998850"
  },
  {
    "text": "see it just based on your swagger or wisdom metadata that API manager gets",
    "start": "1998850",
    "end": "2004000"
  },
  {
    "text": "this is an example of how I can define products for my api's and I can place my",
    "start": "2004000",
    "end": "2009260"
  },
  {
    "text": "API into different products so I might have a starter product that is free you",
    "start": "2009260",
    "end": "2014360"
  },
  {
    "text": "have to subscribe to use it but you'll only be able to run five calls a minute and a maximum of 100 calls per week or",
    "start": "2014360",
    "end": "2022150"
  },
  {
    "text": "you can pay more money to get the unlimited product have unlimited access to my API so this is just a good way to",
    "start": "2022150",
    "end": "2028790"
  },
  {
    "text": "control your API to be able to monitor it to make sure people aren't using it I",
    "start": "2028790",
    "end": "2035560"
  },
  {
    "text": "won't go into too much detail here but inside of API manager you can set up policies policies are where you define",
    "start": "2035560",
    "end": "2042110"
  },
  {
    "text": "things like the rate limits it's all done through XML and there's some simple policy statements here that you can drag",
    "start": "2042110",
    "end": "2048620"
  },
  {
    "text": "and drop into the policy and you can define policies have a product scope at a specific API scope or on a specific",
    "start": "2048620",
    "end": "2054950"
  },
  {
    "text": "operation and again this is generally useful not just for load throttling but also building API is where the",
    "start": "2054950",
    "end": "2062810"
  },
  {
    "text": "developers of the API might not anticipate what the customer wants for example things like cross domain calls",
    "start": "2062810",
    "end": "2068840"
  },
  {
    "text": "or client might want Jason instead of",
    "start": "2068840",
    "end": "2074720"
  },
  {
    "text": "XML since API manager is basically a proxy it can do some of those things for me can add pores headers to the responses",
    "start": "2074720",
    "end": "2080929"
  },
  {
    "text": "automatically for me even if the original service doesn't provide it now",
    "start": "2080929",
    "end": "2087290"
  },
  {
    "text": "let's talk about something completely different I mentioned app services I mentioned",
    "start": "2087290",
    "end": "2093470"
  },
  {
    "text": "virtual machines let's talk about service fabric for a Mon there's a couple different ways that I could build a movie store application in asp.net I",
    "start": "2093470",
    "end": "2101540"
  },
  {
    "text": "could just create everything in one project or I could take this micro service approach where I want the web UI",
    "start": "2101540",
    "end": "2106700"
  },
  {
    "text": "to be a service and the payment API to be a service and the identity management",
    "start": "2106700",
    "end": "2112400"
  },
  {
    "text": "for my application to be a service and of all these little different pieces and that I went to build separately and I",
    "start": "2112400",
    "end": "2119880"
  },
  {
    "text": "want them to be able to be deployed separately and updated separately but I still want them to function together",
    "start": "2119880",
    "end": "2125369"
  },
  {
    "text": "some sort of complete application what technology can I use for that that's one",
    "start": "2125369",
    "end": "2131190"
  },
  {
    "text": "of the scenarios where service fabric can be interesting so I want to give you two different perspectives on service fabric and first of all tell you that",
    "start": "2131190",
    "end": "2137580"
  },
  {
    "text": "service fabric is actually not tied to a shirt in any way yes you'll see as your",
    "start": "2137580",
    "end": "2143010"
  },
  {
    "text": "service fabric but there's just some features that are built into Azure that allow you to provision service fabric a",
    "start": "2143010",
    "end": "2148920"
  },
  {
    "text": "little bit easier so two different perspectives first let's take the runtime perspective the runtime perspective to service fabric is that",
    "start": "2148920",
    "end": "2156060"
  },
  {
    "text": "service fabric is a technology that is designed to run services in a cluster of machines so it understands that if you",
    "start": "2156060",
    "end": "2163950"
  },
  {
    "text": "give it five machines to run on and you describe the services that you want to run they're all those little services",
    "start": "2163950",
    "end": "2170250"
  },
  {
    "text": "that I had on the previous slide you can describe where you want those things to",
    "start": "2170250",
    "end": "2175440"
  },
  {
    "text": "run how many instances how they should be distributed across the cluster and service fabric we'll just make sure that",
    "start": "2175440",
    "end": "2181320"
  },
  {
    "text": "for example service a perhaps we want that to run on all five of these virtual machines and they don't have to be",
    "start": "2181320",
    "end": "2187410"
  },
  {
    "text": "virtual machines again this is a technology or if I took the five or six laptops that are sitting around doing",
    "start": "2187410",
    "end": "2193650"
  },
  {
    "text": "nothing in my basement and networked them together I could install the service fabric runtime on those laptops",
    "start": "2193650",
    "end": "2199859"
  },
  {
    "text": "and set up a cluster but you could also set up a cluster in AWS and you could set up a cluster in Azure so there's a",
    "start": "2199859",
    "end": "2208140"
  },
  {
    "text": "runtime perspective that service fabric has which is basically I'm gonna manage this cluster for you and I'm going to",
    "start": "2208140",
    "end": "2213450"
  },
  {
    "text": "try to make sure that services are always available so if one of these nodes fails if there's a catastrophic",
    "start": "2213450",
    "end": "2218940"
  },
  {
    "text": "storage failure or something goes offline because a network card fails I'm going to make sure that I take let's say",
    "start": "2218940",
    "end": "2224670"
  },
  {
    "text": "these services and if it's not running another instance somewhere I'll make sure I move that service and get it",
    "start": "2224670",
    "end": "2230280"
  },
  {
    "text": "running on another instance in this cluster to make sure it's always available for you that's the runtime perspective to",
    "start": "2230280",
    "end": "2236400"
  },
  {
    "text": "service fabric and I'm just giving you the high-level overview we could easily spend like four hours on service fabric",
    "start": "2236400",
    "end": "2242150"
  },
  {
    "text": "then there's the the programming model aspect of service fabric",
    "start": "2242150",
    "end": "2247500"
  },
  {
    "text": "so how do I write a service to run it inside of service fabric service fabric",
    "start": "2247500",
    "end": "2252510"
  },
  {
    "text": "has a couple different concepts first they have the concept of a guest executable let's say I write an application that's an asp.net core or",
    "start": "2252510",
    "end": "2259230"
  },
  {
    "text": "two node.js application and I want to be able to run it in a cluster of machines without my application having any",
    "start": "2259230",
    "end": "2265770"
  },
  {
    "text": "knowledge of service fabric you can do that you just have to register a guest executable with service fabric",
    "start": "2265770",
    "end": "2271650"
  },
  {
    "text": "tell-tell service fabric basically how to start your application do I run a script or run you know dotnet run what",
    "start": "2271650",
    "end": "2277590"
  },
  {
    "text": "is it and service fabric will copy your executable to the clusters that where it",
    "start": "2277590",
    "end": "2282780"
  },
  {
    "text": "needs to run and execute that make command to make sure that service is up and running so that's one approach to",
    "start": "2282780",
    "end": "2287970"
  },
  {
    "text": "use using service fabric where your application has no dependencies on service fabric itself the service fabric",
    "start": "2287970",
    "end": "2293400"
  },
  {
    "text": "runtime you're just a guest in that runtime then there's what service fabric",
    "start": "2293400",
    "end": "2298830"
  },
  {
    "text": "calls reliable services so these services are services that you're going to reference some runtime components of",
    "start": "2298830",
    "end": "2305160"
  },
  {
    "text": "service fabric and you're going to describe the service fabric when you're starting up and service fabric is going",
    "start": "2305160",
    "end": "2310410"
  },
  {
    "text": "to tell you when to open a connection so your application and your service has to be able to interact with service fabric",
    "start": "2310410",
    "end": "2316080"
  },
  {
    "text": "at a deeper level and there's different types of reliable services so there's a stateless service and I'll show you code",
    "start": "2316080",
    "end": "2322020"
  },
  {
    "text": "for this in just a moment so it makes a little more concrete a stateless service is a service that you register with",
    "start": "2322020",
    "end": "2328020"
  },
  {
    "text": "service fabric and yes service fabric controls its lifetime it understands when you're starting out but your",
    "start": "2328020",
    "end": "2333030"
  },
  {
    "text": "service doesn't have to store any state internally you can still use sequel databases or document databases or",
    "start": "2333030",
    "end": "2339180"
  },
  {
    "text": "whatever you want to use to store state but service fabric doesn't have to worry about managing that state your",
    "start": "2339180",
    "end": "2344280"
  },
  {
    "text": "application manages that state or a database manages that state and then",
    "start": "2344280",
    "end": "2349380"
  },
  {
    "text": "there's staple services so these are services that where service fabric",
    "start": "2349380",
    "end": "2355050"
  },
  {
    "text": "provides you with a set of data structures known as reliable collections so there's things like the reliable",
    "start": "2355050",
    "end": "2360690"
  },
  {
    "text": "queue and the reliable dictionary what a stateful service can do is if it wants to hold on to a specific piece of",
    "start": "2360690",
    "end": "2366480"
  },
  {
    "text": "information let's say about a customer it can ask service fabric for its a reliable dictionary of a certain name",
    "start": "2366480",
    "end": "2372990"
  },
  {
    "text": "and insert that data into that dictionary so what's interesting about the stateless service is two things",
    "start": "2372990",
    "end": "2378060"
  },
  {
    "text": "first of all those collections are in memory so they're incredibly fast if you don't",
    "start": "2378060",
    "end": "2383090"
  },
  {
    "text": "want the latency in the overhead of going to a sequel server database every time you need a piece of data about a customer then a stateful service can be",
    "start": "2383090",
    "end": "2390260"
  },
  {
    "text": "blazingly fast because all of that data is in memory the second thing is all of that data also gets saved to disk so",
    "start": "2390260",
    "end": "2396800"
  },
  {
    "text": "that data is durable so in addition to being on them in memory if something catastrophic fails there's still that",
    "start": "2396800",
    "end": "2403250"
  },
  {
    "text": "state this on disk for when the node restarts and it's also replicated throughout the cluster so if a single",
    "start": "2403250",
    "end": "2409340"
  },
  {
    "text": "node does go down we don't lose anything there was a third thing I wanted to say",
    "start": "2409340",
    "end": "2416210"
  },
  {
    "text": "and it completely escaped my mind but I'm sure it'll come back well it would be the third thing actually was said it",
    "start": "2416210",
    "end": "2422360"
  },
  {
    "text": "was replicated so the state is replicated and then there's also what's named is a stateful actor which I've",
    "start": "2422360",
    "end": "2427910"
  },
  {
    "text": "seen a number of people who implement things like real time things like online games and online auctions this is the",
    "start": "2427910",
    "end": "2434570"
  },
  {
    "text": "kind of situation where I want an instance of my service per each user so",
    "start": "2434570",
    "end": "2440420"
  },
  {
    "text": "I go into an online auction to start setting up bids the code that's running inside a service fabric is going to",
    "start": "2440420",
    "end": "2446390"
  },
  {
    "text": "create an actor that represents me it's gonna put it on one of the nodes and anytime I do something to modify my",
    "start": "2446390",
    "end": "2452120"
  },
  {
    "text": "state or my bids or the things I'm selling service fabric we'll be able to locate the actor object that's in memory",
    "start": "2452120",
    "end": "2458480"
  },
  {
    "text": "somewhere associated with me and invoke a method or change the state or whatever needs to be done and if I'm not present",
    "start": "2458480",
    "end": "2467120"
  },
  {
    "text": "on the system I stop using it for 20 minutes service fabric and it also knows how to spin down that actor and bring it",
    "start": "2467120",
    "end": "2472880"
  },
  {
    "text": "back up an hour later when I come back in so to make this a little more concrete about what service fabric is",
    "start": "2472880",
    "end": "2479110"
  },
  {
    "text": "let's first let's first do this when you're developing with service fabric",
    "start": "2479110",
    "end": "2485000"
  },
  {
    "text": "you can install what's known is the service fabric local cluster manager that's a little orange thing that",
    "start": "2485000",
    "end": "2491060"
  },
  {
    "text": "appears down here in my taskbar I can right-click that and I can say there we",
    "start": "2491060",
    "end": "2497750"
  },
  {
    "text": "go I went to run a one node cluster or I actually want to simulate a five node",
    "start": "2497750",
    "end": "2503540"
  },
  {
    "text": "cluster here on my development machine and if I go into task manager I would actually see five copies of the service",
    "start": "2503540",
    "end": "2510740"
  },
  {
    "text": "fabric executables and services running on this because I'm simulating a five node cluster but if I just want things to be",
    "start": "2510740",
    "end": "2517430"
  },
  {
    "text": "a little simpler I could do a one node cluster and there's an option here to manage the local cluster so this is",
    "start": "2517430",
    "end": "2526580"
  },
  {
    "text": "telling me that I have in this cluster which just happens to be on a single machine I have five nodes but five five",
    "start": "2526580",
    "end": "2534020"
  },
  {
    "text": "machines are running five nodes I have one application deployed to this cluster you can deploy multiple applications",
    "start": "2534020",
    "end": "2539540"
  },
  {
    "text": "there's two services running there's just two services in my application and we'll talk about partitions and replicas",
    "start": "2539540",
    "end": "2545990"
  },
  {
    "text": "here in just a second but this application movie store type is just a",
    "start": "2545990",
    "end": "2551900"
  },
  {
    "text": "web application an asp.net core web application that's distributed in that cluster and that people can reach with a",
    "start": "2551900",
    "end": "2558560"
  },
  {
    "text": "browser just like you would with any asp.net core application but this particular asp.net core application was",
    "start": "2558560",
    "end": "2565520"
  },
  {
    "text": "not implemented as as a guest executable it was implemented as a reliable service",
    "start": "2565520",
    "end": "2570920"
  },
  {
    "text": "for service fabric which means it looks just a little bit different than your typical asp.net core application so if I",
    "start": "2570920",
    "end": "2578090"
  },
  {
    "text": "come into program dot CS if you've done any asp.net core programming typically",
    "start": "2578090",
    "end": "2585290"
  },
  {
    "text": "program dot CS and the entry point for your application that's where you create an instance of the web host builder and",
    "start": "2585290",
    "end": "2591380"
  },
  {
    "text": "you start firing up cuss true and you start listening your ports and all that stuff well service fabric that's not",
    "start": "2591380",
    "end": "2597140"
  },
  {
    "text": "what you want to do what you want to do instead when you start up is go out to service fabric and say hello you've",
    "start": "2597140",
    "end": "2603260"
  },
  {
    "text": "started this thing up and this is your web type service so that could be any",
    "start": "2603260",
    "end": "2608420"
  },
  {
    "text": "arbitrary name there but you're basically telling service fabric hey this is the name of the thing that's starting up and when you need to create",
    "start": "2608420",
    "end": "2615020"
  },
  {
    "text": "a new entry when you need to get that service running just fire out this little bit of code that's in a lambda",
    "start": "2615020",
    "end": "2621410"
  },
  {
    "text": "expression basically instantiate this class and that will contain all of the boot up logic for my service so an",
    "start": "2621410",
    "end": "2627950"
  },
  {
    "text": "asp.net core and start of instead of starting to listen for HTTP connections",
    "start": "2627950",
    "end": "2634640"
  },
  {
    "text": "inside of the main entry point I instead have to wait for service fabric which is",
    "start": "2634640",
    "end": "2639830"
  },
  {
    "text": "now coordinating everything to start things up and it's inside of this web class where you will find",
    "start": "2639830",
    "end": "2649040"
  },
  {
    "text": "things like the web host builder let's use a web listener or use kestrel and",
    "start": "2649040",
    "end": "2654920"
  },
  {
    "text": "configure our services and use the startup class and all those things you would see in core but notice that this",
    "start": "2654920",
    "end": "2660560"
  },
  {
    "text": "happens inside of a method called create service instance listeners so service",
    "start": "2660560",
    "end": "2667070"
  },
  {
    "text": "fabric does want to be in control of your application it does want to tell you when you should start listening to things and actually please return to me",
    "start": "2667070",
    "end": "2674300"
  },
  {
    "text": "a data structure that I can use to interact with whatever you're using to listen for network connections which",
    "start": "2674300",
    "end": "2680180"
  },
  {
    "text": "could be HTTP or TCP whatever you want but this basically starts my web application running and again it's an",
    "start": "2680180",
    "end": "2685400"
  },
  {
    "text": "instance of a stateless service so I derived from a base class to use this",
    "start": "2685400",
    "end": "2690530"
  },
  {
    "text": "with service fabric there's another excuse-me service that is running inside",
    "start": "2690530",
    "end": "2697160"
  },
  {
    "text": "of this cluster it's a service that the",
    "start": "2697160",
    "end": "2702590"
  },
  {
    "text": "web application uses and it's just a simple counter service so we're going to",
    "start": "2702590",
    "end": "2708110"
  },
  {
    "text": "spin up also in service fabric a counter type service that will start running when we invoke this class and this class",
    "start": "2708110",
    "end": "2716290"
  },
  {
    "text": "excuse me is a staple service so a",
    "start": "2716290",
    "end": "2722810"
  },
  {
    "text": "stateful service is one of those services that service fabric can distribute throughout the cluster that's",
    "start": "2722810",
    "end": "2727820"
  },
  {
    "text": "actually going to hold steep in these reliable collections so for example what",
    "start": "2727820",
    "end": "2733400"
  },
  {
    "text": "this service is going to do something very simple just increment a counter every one second I'll show you that code in just a second but from the web",
    "start": "2733400",
    "end": "2740390"
  },
  {
    "text": "application I want to be able to go to one of my counter services and say hey what is your current count you know that",
    "start": "2740390",
    "end": "2746810"
  },
  {
    "text": "would just be like let's look up this customer and find out their first name right in the key in this case I'm just",
    "start": "2746810",
    "end": "2752270"
  },
  {
    "text": "doing something a little bit simpler which is to get an integer value or a long value what does that look like well",
    "start": "2752270",
    "end": "2758120"
  },
  {
    "text": "since I've derived from this stateful service based class I inherit a property called state manager and it a state",
    "start": "2758120",
    "end": "2764420"
  },
  {
    "text": "manager that allows me to interact with reliable collections so I either want to get or create a new reliable dictionary",
    "start": "2764420",
    "end": "2770750"
  },
  {
    "text": "of string and long called whatever name my dictionary and once I had that dictionary yes these",
    "start": "2770750",
    "end": "2777619"
  },
  {
    "text": "reliable collections are durable they respect transactions so if I write",
    "start": "2777619",
    "end": "2783260"
  },
  {
    "text": "something into it and it fails without me committing that'll be backed out",
    "start": "2783260",
    "end": "2788720"
  },
  {
    "text": "we don't necessarily we'd if I remember we do need transactions even for read operations here but this is basically me",
    "start": "2788720",
    "end": "2795109"
  },
  {
    "text": "saying hey give me the counter value out of that reliable dictionary and what I want to do is return that to whoever is",
    "start": "2795109",
    "end": "2800450"
  },
  {
    "text": "calling this operation what's a little more interesting is how we increment",
    "start": "2800450",
    "end": "2809420"
  },
  {
    "text": "that counter so when you write a service for service fabric you can implement an implement a method called run async and",
    "start": "2809420",
    "end": "2815690"
  },
  {
    "text": "in this case what run async is going to do is just set up an infinite loop so while true and execute this code every",
    "start": "2815690",
    "end": "2822920"
  },
  {
    "text": "one second every one second it wants to fetch the counter value and then increment it so again go to the state",
    "start": "2822920",
    "end": "2828470"
  },
  {
    "text": "manager create a transaction try to get the counter value in an asynchronous manner we'll log some events here then",
    "start": "2828470",
    "end": "2836270"
  },
  {
    "text": "we will try to add or update a counter value that has been incremented and",
    "start": "2836270",
    "end": "2841520"
  },
  {
    "text": "commit that transaction so that counter value is stored in memory that counter",
    "start": "2841520",
    "end": "2846980"
  },
  {
    "text": "values persisted to disk that counter value is replicated across a couple of other nodes I can configure how many",
    "start": "2846980",
    "end": "2852230"
  },
  {
    "text": "nodes it's replicated across and I do want to point out one of the tricky aspects of service fabric is that when",
    "start": "2852230",
    "end": "2858650"
  },
  {
    "text": "you implement stateless and stateful services you have to think about how you're going to partition your data if",
    "start": "2858650",
    "end": "2865099"
  },
  {
    "text": "all of your data can fit on a single VM because remember these this collection",
    "start": "2865099",
    "end": "2870800"
  },
  {
    "text": "has to fit in memory so if I provision a cluster of five machines that have three",
    "start": "2870800",
    "end": "2875900"
  },
  {
    "text": "and a half gigabytes of memory there's certain physical limits on how large my collection can be on that machine if all",
    "start": "2875900",
    "end": "2884030"
  },
  {
    "text": "my data let's say is 500 megabytes I don't have to worry about things too much but if I have 10 gigabytes of data",
    "start": "2884030",
    "end": "2890150"
  },
  {
    "text": "I need to figure out how to partition this service so that my data is spread",
    "start": "2890150",
    "end": "2896750"
  },
  {
    "text": "across multiple nodes in the cluster and multiple instances of the service and",
    "start": "2896750",
    "end": "2902240"
  },
  {
    "text": "there's ways to describe the service fabric how to do that I just want to show you something which is a configuration file which you need",
    "start": "2902240",
    "end": "2912230"
  },
  {
    "text": "to provide the service fabric this application manifest where I can say",
    "start": "2912230",
    "end": "2917420"
  },
  {
    "text": "things like the counter service I wanted to have a partition of 1 or 10 or 20 or",
    "start": "2917420",
    "end": "2924410"
  },
  {
    "text": "a hundred you know how many instances of the service do I want running across how",
    "start": "2924410",
    "end": "2929510"
  },
  {
    "text": "many different machines and I can also describe how to partition thing so you",
    "start": "2929510",
    "end": "2937730"
  },
  {
    "text": "can partition things by hash codes you can partition things by just simple integers let's say you're building an",
    "start": "2937730",
    "end": "2943070"
  },
  {
    "text": "address book for the world and you need to partition the names of everyone on the planet you might choose a",
    "start": "2943070",
    "end": "2950180"
  },
  {
    "text": "partitioning scheme that uses the first two letters or the last name something like that but you have to spread these",
    "start": "2950180",
    "end": "2955670"
  },
  {
    "text": "things around right let's see how we can use that counter service from our web",
    "start": "2955670",
    "end": "2960800"
  },
  {
    "text": "application just want to show you that bit also because it's interesting let's go to the home controller I just inline",
    "start": "2960800",
    "end": "2968660"
  },
  {
    "text": "this code so when the user comes to the index action for this particular web",
    "start": "2968660",
    "end": "2973880"
  },
  {
    "text": "application I want to go out and contact that counter service actually all the counter services that might be running",
    "start": "2973880",
    "end": "2979900"
  },
  {
    "text": "which is actually kind of rare typically you just want one the partition that holds the data that you want how do i",
    "start": "2979900",
    "end": "2986630"
  },
  {
    "text": "how do I communicate with other services inside a service fabric there's a couple different ways to do it one way to do it",
    "start": "2986630",
    "end": "2991640"
  },
  {
    "text": "is using domain name resolution services that service Patrick provides and just using HTTP or something like that but",
    "start": "2991640",
    "end": "2998090"
  },
  {
    "text": "you can also use this technology that service fabric calls remoting which is a",
    "start": "2998090",
    "end": "3003790"
  },
  {
    "text": "sounds like remoting from the old days of dotnet which everybody really liked that much but in a way it's similar",
    "start": "3003790",
    "end": "3011530"
  },
  {
    "text": "first of all inside the service fabric cluster I have pseudonyms for my",
    "start": "3011530",
    "end": "3016570"
  },
  {
    "text": "services I you know if I want to get access to this counter service I don't want to specify an IP address or a",
    "start": "3016570",
    "end": "3022180"
  },
  {
    "text": "machine name or anything like that so I'm basically gonna build a URI that says hey on the fabric in the movie",
    "start": "3022180",
    "end": "3027640"
  },
  {
    "text": "store application because there might be multiple applications I'm gonna find the counter service that's what I want to connect to and I can use this URI and",
    "start": "3027640",
    "end": "3034780"
  },
  {
    "text": "call a service fabric API to say give me that service and what I will do also is on this",
    "start": "3034780",
    "end": "3044239"
  },
  {
    "text": "fabric client that I've injected which gives you information about your environment there's something called the",
    "start": "3044239",
    "end": "3049309"
  },
  {
    "text": "query manager where I can basically say for this service this counter service give me a list of all the partitions",
    "start": "3049309",
    "end": "3055759"
  },
  {
    "text": "that are running in this cluster and what this is basically just gonna do this little loop here is going to loop",
    "start": "3055759",
    "end": "3062059"
  },
  {
    "text": "through each partition that's available it's going to use this class called service proxy to go out and create or",
    "start": "3062059",
    "end": "3068269"
  },
  {
    "text": "it's not actually gonna create well it's gonna create a proxy but it's gonna you could get a reference to one of those",
    "start": "3068269",
    "end": "3073699"
  },
  {
    "text": "running instances of the counter service that's out there given a particular partition key and I can get the count",
    "start": "3073699",
    "end": "3080449"
  },
  {
    "text": "value that's inside so now I know if it's a four or five or 100 or something like that I'm just going to collect",
    "start": "3080449",
    "end": "3086119"
  },
  {
    "text": "those together inside of a dictionary and spit them out on page so I do want to show you over here in the service",
    "start": "3086119",
    "end": "3091400"
  },
  {
    "text": "fabric Explorer inside of the newbie store there's the two services that are",
    "start": "3091400",
    "end": "3097219"
  },
  {
    "text": "running my counter service which is stateful and partitioned and the web service which is stateless because",
    "start": "3097219",
    "end": "3103189"
  },
  {
    "text": "because it just uses the stateful services to store everything that it needs and I can see inside of here",
    "start": "3103189",
    "end": "3108919"
  },
  {
    "text": "things like where where this is running now in a real cluster let's say that's",
    "start": "3108919",
    "end": "3114979"
  },
  {
    "text": "running on a sure this would I would probably run a stateless server on everything in the cluster every machine just because it's easy to do that",
    "start": "3114979",
    "end": "3122679"
  },
  {
    "text": "counter services that are partitioned this is showing me there's three instances of the counter service because",
    "start": "3122679",
    "end": "3129229"
  },
  {
    "text": "it's been partitioned each one holds a certain range data for a range of values",
    "start": "3129229",
    "end": "3134900"
  },
  {
    "text": "partition keys and I can see the primary for this particular service instance is running on node 3 in my cluster so",
    "start": "3134900",
    "end": "3141799"
  },
  {
    "text": "that's where all the requests would go to when I want to get the count from that particular instance they would go to node 3 but just in case there is a",
    "start": "3141799",
    "end": "3148579"
  },
  {
    "text": "disaster and a machine blows up that is also replicated all node 2 and node 4 and so I've actually come out here and",
    "start": "3148579",
    "end": "3155839"
  },
  {
    "text": "look at the nodes that are running it's not visible in the back try this",
    "start": "3155839",
    "end": "3164859"
  },
  {
    "text": "let's go out and look at node 3 and there's a little option here - let's do",
    "start": "3166470",
    "end": "3173800"
  },
  {
    "text": "a restart on that nude node 3 let's come",
    "start": "3173800",
    "end": "3180190"
  },
  {
    "text": "back up here what service proud fabric should detect here in a moment is that something is wrong in the cluster and",
    "start": "3180190",
    "end": "3190210"
  },
  {
    "text": "what it should do if we watch here hopefully it'll happen there we go the",
    "start": "3190210",
    "end": "3197350"
  },
  {
    "text": "primaries is now node 2 it's a service fabric switched when it detected that",
    "start": "3197350",
    "end": "3203050"
  },
  {
    "text": "node 3 was off line went to a new primary it'll bring node 3 back up on line here in a bit and that'll still be",
    "start": "3203050",
    "end": "3209980"
  },
  {
    "text": "an active secondary but you can see the question worked there right and that service fabrics whole purpose in life make sure everything is up and running",
    "start": "3209980",
    "end": "3216369"
  },
  {
    "text": "and always available no matter what you're putting out there another",
    "start": "3216369",
    "end": "3221710"
  },
  {
    "text": "interesting thing about service fabric that I want to point out down here at the bottom they have a chaos among chaos",
    "start": "3221710",
    "end": "3227770"
  },
  {
    "text": "monkey built-in so service fabric itself sort of a collection of micro services that run on the cluster there's a",
    "start": "3227770",
    "end": "3233710"
  },
  {
    "text": "cluster manager service the DNS service the field / service is the fault analysis service is actually interesting",
    "start": "3233710",
    "end": "3238780"
  },
  {
    "text": "it's up and running in there and it provides an API that allows you to take notes offline restart them destroy",
    "start": "3238780",
    "end": "3245800"
  },
  {
    "text": "things which restore things it's one of those things that you might want to use when you want to test how does my system",
    "start": "3245800",
    "end": "3251350"
  },
  {
    "text": "behave when an ood goes offline make sure that everything works properly and finally what does this look like in",
    "start": "3251350",
    "end": "3257950"
  },
  {
    "text": "Azure or what does it what does asher offer for service fabric some people get",
    "start": "3257950",
    "end": "3264580"
  },
  {
    "text": "a little overwhelmed by the configuration but you it's not too bad once you've gone through it a couple",
    "start": "3264580",
    "end": "3269680"
  },
  {
    "text": "times and hopefully you'll automate it right so you can do this all the time basically with Azure you can say yes I",
    "start": "3269680",
    "end": "3276010"
  },
  {
    "text": "want a new service fabric cluster here's the name this is the URL that my users would use to connect this is the operating system that I want to use this",
    "start": "3276010",
    "end": "3282880"
  },
  {
    "text": "is going to go out and provision the virtual machines for you could be v could be a hundred it could be a",
    "start": "3282880",
    "end": "3288070"
  },
  {
    "text": "thousand virtual machines they're all going to have the same username and password they're going to be set up",
    "start": "3288070",
    "end": "3293170"
  },
  {
    "text": "inside of azure in something known as a virtual machine scale set which just is something that makes it easy to manage this pool",
    "start": "3293170",
    "end": "3299560"
  },
  {
    "text": "of identical virtual machines hundreds of them if need being once you get",
    "start": "3299560",
    "end": "3305080"
  },
  {
    "text": "through that simple configuration you do some of the standard things that you always do in Azure like choose a size",
    "start": "3305080",
    "end": "3310810"
  },
  {
    "text": "for the VM oops you might want to go with a 4 core 14 gigabyte version because you want to",
    "start": "3310810",
    "end": "3315910"
  },
  {
    "text": "have reliable collections and have a little more space to breathe inside of each node for example and you can set up",
    "start": "3315910",
    "end": "3323590"
  },
  {
    "text": "things like Auto scale all of that's available once you complete that everything is provisioned for you and",
    "start": "3323590",
    "end": "3329020"
  },
  {
    "text": "you can go in and manage your cluster and deploy to your cluster there before",
    "start": "3329020",
    "end": "3334450"
  },
  {
    "text": "I leave that slide there's a couple things about service fabric I evaluated it quite heavily at the beginning of the year mm-hmm and I will tell you we",
    "start": "3334450",
    "end": "3341860"
  },
  {
    "text": "decided not to use it we decided to stick with app services I think service fabric is a perfect technology for some",
    "start": "3341860",
    "end": "3348970"
  },
  {
    "text": "specific types of applications particularly applications to deal with real-time data applications that need",
    "start": "3348970",
    "end": "3354970"
  },
  {
    "text": "really low data latency things like games and online bidding sites and",
    "start": "3354970",
    "end": "3360940"
  },
  {
    "text": "things like that but I can also tell you that trying to get a development team up",
    "start": "3360940",
    "end": "3366010"
  },
  {
    "text": "to speed on this takes a little bit of time because it's a different programming paradigm it's a different",
    "start": "3366010",
    "end": "3371440"
  },
  {
    "text": "way to think and I think the partitioning is particularly tricky you",
    "start": "3371440",
    "end": "3376450"
  },
  {
    "text": "have to kind of figure out up front using part art and part science how big",
    "start": "3376450",
    "end": "3381760"
  },
  {
    "text": "is my deed are going to be how am I going to partition it what sort of strategies I'm not going to use there but it is certainly a technology that is",
    "start": "3381760",
    "end": "3388750"
  },
  {
    "text": "quite useful I have heard a statistic that's something like 60% of the cores in Azure",
    "start": "3388750",
    "end": "3394690"
  },
  {
    "text": "total are running service fabric because a lot of the azure services themselves are built on top of service fabric as",
    "start": "3394690",
    "end": "3401560"
  },
  {
    "text": "your sequel Cosmo DB a lot of the Bing things and Cortana things run on service",
    "start": "3401560",
    "end": "3407920"
  },
  {
    "text": "fabric so it's certainly a technology that Microsoft dog foods and uses itself a couple obvious things if you want high",
    "start": "3407920",
    "end": "3417910"
  },
  {
    "text": "availability you have to automate I have this rule with the development team that I work with if you're going to make a",
    "start": "3417910",
    "end": "3424120"
  },
  {
    "text": "change in the development environment or the QA environment or the production environment I don't care",
    "start": "3424120",
    "end": "3429430"
  },
  {
    "text": "what environment it is you know you're not allowed to use the portable I want to see a script for that change or an",
    "start": "3429430",
    "end": "3435700"
  },
  {
    "text": "azure resource manager template as your resource manager templates are wonderful that there if you haven't used them they",
    "start": "3435700",
    "end": "3441609"
  },
  {
    "text": "are JSON files that you can use to provision anything in Azure you want to create an app service a virtual machine",
    "start": "3441609",
    "end": "3447369"
  },
  {
    "text": "a sequel database you want to buy a DNS name and attach a SSL certificate you can do all of that with Azure resource",
    "start": "3447369",
    "end": "3453970"
  },
  {
    "text": "manager templates but they are also one of those technologies that can be a little bit frustrating because they",
    "start": "3453970",
    "end": "3459819"
  },
  {
    "text": "aren't always well documented sometimes the best way to figure out what you want",
    "start": "3459819",
    "end": "3465040"
  },
  {
    "text": "inside of this JSON file to instruct a sure what to do is to go out and look at a sample or else do it in the portal and",
    "start": "3465040",
    "end": "3471640"
  },
  {
    "text": "the portal will allow you to export a template so if you're new to Azure definitely look at as your resource",
    "start": "3471640",
    "end": "3477040"
  },
  {
    "text": "manager templates as a way to automate a sure do all of your change through that because you can check those things in",
    "start": "3477040",
    "end": "3482230"
  },
  {
    "text": "the source control and prioritize them they work great with secrets like passwords you can pull them out of key",
    "start": "3482230",
    "end": "3487450"
  },
  {
    "text": "vol it works very well another thing that should be obvious is you need to do some testing to make sure that you do",
    "start": "3487450",
    "end": "3493030"
  },
  {
    "text": "have high availability availability and things are behaving well under load we use the load testing tools to come with",
    "start": "3493030",
    "end": "3499869"
  },
  {
    "text": "Visual Studio but there's a lot of different ones out there and monitoring",
    "start": "3499869",
    "end": "3505540"
  },
  {
    "text": "is also one of those things that you have to have asher provides some pretty",
    "start": "3505540",
    "end": "3511990"
  },
  {
    "text": "interesting monitoring tools and they provide services like application insights if you haven't used that i would recommend using that for some of",
    "start": "3511990",
    "end": "3519970"
  },
  {
    "text": "your diagnostic sinks but for complex systems the monitoring that asha",
    "start": "3519970",
    "end": "3526270"
  },
  {
    "text": "provides you know it's not customized for your domain and for your business and for large systems I would recommend",
    "start": "3526270",
    "end": "3532660"
  },
  {
    "text": "also taking a look at building a custom monitoring portal of some sort where you pull information from application",
    "start": "3532660",
    "end": "3538000"
  },
  {
    "text": "insights you pull information from some of your application audit logs to really be able to drill in quickly on how your",
    "start": "3538000",
    "end": "3545470"
  },
  {
    "text": "application is actually performing and what sort of load it's experiencing it saves a ton of time because when things",
    "start": "3545470",
    "end": "3551500"
  },
  {
    "text": "go wrong and you find yourself clicking on things randomly in the portal trying to find something that tells you exactly",
    "start": "3551500",
    "end": "3558099"
  },
  {
    "text": "where the problem is it's very frustrating and when you're doing that under crusher it just makes real bad day I've",
    "start": "3558099",
    "end": "3566270"
  },
  {
    "text": "been there I have more information in a more structured format than this rambling presentation in my Pluralsight",
    "start": "3566270",
    "end": "3572900"
  },
  {
    "text": "courses I think I have 14 hours of courses covering Azure including some of",
    "start": "3572900",
    "end": "3577910"
  },
  {
    "text": "the topics here and you know a little bit better explanation of service fabric so feel free to go there if you'd like",
    "start": "3577910",
    "end": "3584000"
  },
  {
    "text": "like more information you can also email me or contact me on Twitter and I thank",
    "start": "3584000",
    "end": "3589339"
  },
  {
    "text": "you for attending and hope you have a good day [Applause]",
    "start": "3589339",
    "end": "3597010"
  }
]