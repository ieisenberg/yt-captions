[
  {
    "start": "0",
    "end": "0"
  },
  {
    "text": "so in the next hour we're going to talk a lot about different ways to deploy docker containers to Azure and there are",
    "start": "30",
    "end": "7859"
  },
  {
    "text": "several ways my name is Michelle du Bustamante I run a security and micro",
    "start": "7859",
    "end": "13290"
  },
  {
    "text": "services practice out of salons and also are the the co-creator of policy server",
    "start": "13290",
    "end": "18630"
  },
  {
    "text": "a joint venture with slience we spend a lot of our time and I spend most of my days doing both security and micro",
    "start": "18630",
    "end": "25710"
  },
  {
    "text": "services related deployments around the security topology I work with some of",
    "start": "25710",
    "end": "30720"
  },
  {
    "text": "the best people I've ever met honestly who do this across many platforms Amazon",
    "start": "30720",
    "end": "36120"
  },
  {
    "text": "Azure different clusters so you know I guess what I would say about that is",
    "start": "36120",
    "end": "42300"
  },
  {
    "text": "hopefully I can share or in part with you a couple of the things that I feel are the most important that you get to",
    "start": "42300",
    "end": "48149"
  },
  {
    "text": "know no matter which orchestration platform you may or may not deploy to with docker and give you some tips and",
    "start": "48149",
    "end": "54090"
  },
  {
    "text": "tricks around that as we go through a tour of several of the places and ways you can deploy docker to Azure so we're",
    "start": "54090",
    "end": "61620"
  },
  {
    "text": "gonna start with a couple of questions I hear quite often the first of those questions is typically you know do I",
    "start": "61620",
    "end": "68130"
  },
  {
    "text": "even need an orchestration platform is that necessary for me to you know do micro services or do docker and the",
    "start": "68130",
    "end": "74549"
  },
  {
    "text": "second question that I get is typically how do I know well so besides how do I",
    "start": "74549",
    "end": "79740"
  },
  {
    "text": "know if I need an orchestration platform how do I choose between the orchestration platforms once I figured",
    "start": "79740",
    "end": "85350"
  },
  {
    "text": "out I actually need one and this is getting a little bit easier to be honest now that we're getting more managed",
    "start": "85350",
    "end": "91140"
  },
  {
    "text": "services but I'm gonna take you through the reasoning around what are the features we care about in orchestration",
    "start": "91140",
    "end": "96810"
  },
  {
    "text": "what are the ways we might deploy things before orchestration to sort of give you you know some foundation and making",
    "start": "96810",
    "end": "103229"
  },
  {
    "text": "those types of decisions so first a tour of what do we have in Azure for micro",
    "start": "103229",
    "end": "108689"
  },
  {
    "start": "104000",
    "end": "104000"
  },
  {
    "text": "services for docker deployments we have serverless options functions now support",
    "start": "108689",
    "end": "114659"
  },
  {
    "text": "being deployed as a container and we also have as your container instances which is the one I'll focus on in this",
    "start": "114659",
    "end": "120990"
  },
  {
    "text": "quick round tour because this is the first class citizen in Azure the container single line of code deploy",
    "start": "120990",
    "end": "127680"
  },
  {
    "text": "containers really nice and it goes server list so we'll talk about that has which means platform-as-a-service",
    "start": "127680",
    "end": "133560"
  },
  {
    "text": "which means managed server so that you don't have to worry about patching and operating system updates and things such",
    "start": "133560",
    "end": "140280"
  },
  {
    "text": "as that among other features we have app services for containers which I'll talk about",
    "start": "140280",
    "end": "145650"
  },
  {
    "text": "we have azure kubernetes service which is a new managed service for kubernetes and then we've got as your service",
    "start": "145650",
    "end": "151830"
  },
  {
    "text": "fabric which is more for your native plus container deployments which is an",
    "start": "151830",
    "end": "157020"
  },
  {
    "text": "option when you're doing service fabric for the the features that it offers like the stateful services and you know actor",
    "start": "157020",
    "end": "164760"
  },
  {
    "text": "based models and things like that so then we have iOS so I asked just means",
    "start": "164760",
    "end": "170280"
  },
  {
    "text": "really rolling your own right you take a platform you'd like to use and you deploy either you know D cos or",
    "start": "170280",
    "end": "177540"
  },
  {
    "text": "kubernetes or swarm mode with docker enterprise or docker Community Edition",
    "start": "177540",
    "end": "182819"
  },
  {
    "text": "and there's a number of other options as well so we get some templates out of the",
    "start": "182819",
    "end": "188130"
  },
  {
    "text": "marketplace and that can kick us off but ultimately you're going to own the template when it's time so what I'm",
    "start": "188130",
    "end": "193799"
  },
  {
    "text": "gonna do first is we're going to start with a quick TLDR docker just in case there are folks new to it and also to",
    "start": "193799",
    "end": "199290"
  },
  {
    "text": "bring home some of the things we care about when we think about running containers and just kind of a high-level",
    "start": "199290",
    "end": "206040"
  },
  {
    "text": "write docker is a containerization technology it popularized and made",
    "start": "206040",
    "end": "211620"
  },
  {
    "text": "mainstream the work working with containers right we had Linux containers before and then of course with docker",
    "start": "211620",
    "end": "219090"
  },
  {
    "text": "now it's become accessible to Linux and Windows and also easy to use right it's",
    "start": "219090",
    "end": "224850"
  },
  {
    "text": "got developer tooling it's got runtime tooling it's got DevOps tooling and so it's a way to package your applications",
    "start": "224850",
    "end": "231739"
  },
  {
    "text": "and deploy them as containers you put all the dependencies inside the image so",
    "start": "231739",
    "end": "237480"
  },
  {
    "text": "basically there's no more issues of configuring machines with lots of you know software moving parts and you can",
    "start": "237480",
    "end": "244500"
  },
  {
    "text": "also do multi container deployments with it and you'll see a little bit of that we have a runtime environment that has",
    "start": "244500",
    "end": "250290"
  },
  {
    "text": "to exist in order to run a container in a docker on a host machine and then of",
    "start": "250290",
    "end": "255900"
  },
  {
    "text": "course when you develop your software and you package it in a container image",
    "start": "255900",
    "end": "261430"
  },
  {
    "text": "that should be able to run anywhere that has docker available we have the idea that any of these orchestration",
    "start": "261430",
    "end": "268120"
  },
  {
    "text": "platforms aside from just a host machine with docker installed and the docker engine available we have container",
    "start": "268120",
    "end": "274419"
  },
  {
    "text": "platforms that also support docker which means that they've got the container engine running as well as some other",
    "start": "274419",
    "end": "280509"
  },
  {
    "text": "things to help you manage the deployed containers so we'll talk about those things as well",
    "start": "280509",
    "end": "286690"
  },
  {
    "start": "286000",
    "end": "286000"
  },
  {
    "text": "one of the main things that we get out of docker is that full stack encapsulation which gives us two really",
    "start": "286690",
    "end": "293680"
  },
  {
    "text": "cool things one of course being anything that I need to run my environment and",
    "start": "293680",
    "end": "299410"
  },
  {
    "text": "actually let me start with you know you're gonna have a base image which is identifying a compatible host for your",
    "start": "299410",
    "end": "307900"
  },
  {
    "text": "docker container so you know the kernels not included right it's a base image without the kernel it's lightweight and",
    "start": "307900",
    "end": "313449"
  },
  {
    "text": "then on top of that you might install some security patches to that and create a new base image and then on top of that",
    "start": "313449",
    "end": "318970"
  },
  {
    "text": "you'll deploy your dependency so a dotnet core app might have dotnet core asp net core and kestrel for the reverse",
    "start": "318970",
    "end": "324970"
  },
  {
    "text": "proxy to receive requests and then we've got our application files that get deployed somewhere with an entry point",
    "start": "324970",
    "end": "330699"
  },
  {
    "text": "right to reach it through the proxy when we do that in Java it would be maybe",
    "start": "330699",
    "end": "336340"
  },
  {
    "text": "just a different set of tools right I might have Apache Tomcat on top of that and have the Java SDK and then my java",
    "start": "336340",
    "end": "342190"
  },
  {
    "text": "application and maybe some other moving parts and then of course I can have Windows Server I can have nano server or",
    "start": "342190",
    "end": "348610"
  },
  {
    "text": "Windows Server full for full framework migration lift and shift with a Windows",
    "start": "348610",
    "end": "354159"
  },
  {
    "text": "container orchestration cluster okay of course all of this includes the docker",
    "start": "354159",
    "end": "360250"
  },
  {
    "text": "engine on a host that is where you're running these things okay now the goal",
    "start": "360250",
    "end": "367090"
  },
  {
    "text": "of all of this is that whatever works on your machine you build this image the full stack has encapsulated all the",
    "start": "367090",
    "end": "372580"
  },
  {
    "text": "dependencies I'm an expert at asp net core someone else is an expert at golang and other is a Java expert whatever",
    "start": "372580",
    "end": "379360"
  },
  {
    "text": "polyglot language they want to work with to build the end result doesn't really matter anymore and we can combine those",
    "start": "379360",
    "end": "385030"
  },
  {
    "text": "things and it will work on their machine and hopefully everywhere else because we finally have achieved that with you know",
    "start": "385030",
    "end": "390669"
  },
  {
    "text": "the consistency of that image being immutable and actually just deployed wherever it goes so that's a beautiful thing and so with",
    "start": "390669",
    "end": "399770"
  },
  {
    "text": "that let's talk a little bit about how I work with docker I'm gonna have my app code maybe I have a web app and an API",
    "start": "399770",
    "end": "405320"
  },
  {
    "text": "and I'm gonna define a docker file that will describe how to build the image what are the dependencies and with that",
    "start": "405320",
    "end": "412280"
  },
  {
    "text": "I'm gonna hit a I'm going to give the instruction docker build and I'm gonna tag it with a name so that the image has",
    "start": "412280",
    "end": "418970"
  },
  {
    "text": "a name to be used when I run the container I tell it to look for a dot",
    "start": "418970",
    "end": "424160"
  },
  {
    "text": "which means you know the docker file in the folder or something else if applicable and then the output of that",
    "start": "424160",
    "end": "429710"
  },
  {
    "text": "of course is that I have my web app or API image that has been generated it's",
    "start": "429710",
    "end": "434840"
  },
  {
    "text": "probably for now stored locally as I'm developing and then eventually will be pushed somewhere that is accessible to",
    "start": "434840",
    "end": "440330"
  },
  {
    "text": "my cluster or my deployment environment so I build images from my source I",
    "start": "440330",
    "end": "445430"
  },
  {
    "text": "describe a docker file that's my development process and then eventually we want to run those things so we take these images that we've built and we go",
    "start": "445430",
    "end": "452540"
  },
  {
    "text": "ahead and with a docker run command tell it to run this image and maybe give it a",
    "start": "452540",
    "end": "459050"
  },
  {
    "text": "name of course so that it has some way to be reached in the environment and then we maybe map the internal port of",
    "start": "459050",
    "end": "466550"
  },
  {
    "text": "this thing that's running if assuming it's a web app API and map it to an external port on the host in this case",
    "start": "466550",
    "end": "472790"
  },
  {
    "text": "I'm mapping it to the same one and then I give it a name of the image to run so",
    "start": "472790",
    "end": "478850"
  },
  {
    "text": "there are a number of other things I can provide the run command which are relevant to the environment that we'll",
    "start": "478850",
    "end": "484700"
  },
  {
    "text": "get into briefly after this but the simple view of it is I'm taking the image I'm telling it to run I'm probably",
    "start": "484700",
    "end": "490670"
  },
  {
    "text": "letting it assign a dynamic port or a fixed port and then I end up with this running container that I can communicate",
    "start": "490670",
    "end": "497030"
  },
  {
    "text": "with hopefully yeah so with that there is the concept of a service description",
    "start": "497030",
    "end": "505340"
  },
  {
    "text": "when I run a service anywhere whether it's local with docker run or whether",
    "start": "505340",
    "end": "510410"
  },
  {
    "text": "it's deployed to some environment ultimately it's a task it's a service it's a service description it's an",
    "start": "510410",
    "end": "516620"
  },
  {
    "text": "application description this these terms are interchangeable depending which orchestration environment you're working",
    "start": "516620",
    "end": "521810"
  },
  {
    "text": "in I need to describe how to run this thing I need to talk about port assignments I",
    "start": "521810",
    "end": "528220"
  },
  {
    "text": "need to talk about if I want to join a network so that I can communicate internally to my to my api's from my web",
    "start": "528220",
    "end": "536019"
  },
  {
    "text": "apps let's say without exposing them publicly for example I need to be able to say any environment variable",
    "start": "536019",
    "end": "541510"
  },
  {
    "text": "overrides because those are the things that will change as you go through environments and I might have a number",
    "start": "541510",
    "end": "547180"
  },
  {
    "text": "of other things in special cases where I have maybe a volume amounts or I have talker secrets instead of environment",
    "start": "547180",
    "end": "554529"
  },
  {
    "text": "variables right because I want to make sure those are protected in a different way and there's a number of other",
    "start": "554529",
    "end": "559690"
  },
  {
    "text": "potential configurations those things are part of describing the service as it's going to be run and so in the world",
    "start": "559690",
    "end": "567399"
  },
  {
    "text": "of docker docker compose is the file you",
    "start": "567399",
    "end": "572529"
  },
  {
    "text": "can create a compose file which is described in the amyl and it is the service description for the docker",
    "start": "572529",
    "end": "579160"
  },
  {
    "text": "enterprise and docker community environment running in swarm mode and when I say I want to run maybe one or",
    "start": "579160",
    "end": "586930"
  },
  {
    "text": "more services I describe it in this compose file and it will go build the docker file you know images and then it",
    "start": "586930",
    "end": "593410"
  },
  {
    "text": "will run those images collectively as an application a multi service application so I take you through that because it's",
    "start": "593410",
    "end": "599890"
  },
  {
    "text": "a very important feature for a number of reasons one being when I'm local and",
    "start": "599890",
    "end": "605290"
  },
  {
    "text": "let's say I wanted to onboard any of you to a project I'm working on if I can say install docker to your Mac or your",
    "start": "605290",
    "end": "612430"
  },
  {
    "text": "Windows machine and go you know get pull and now compose up I can create an",
    "start": "612430",
    "end": "618190"
  },
  {
    "text": "environment where all of that just runs and so compose up gives us this onboarding of developers just as a",
    "start": "618190",
    "end": "624220"
  },
  {
    "text": "developer tool forget about even orchestration and it's worth pointing out right so I might have multiple apps",
    "start": "624220",
    "end": "629800"
  },
  {
    "text": "multiple api's we're developing all of them and maybe some of them I'm building and testing in Visual Studio and some of",
    "start": "629800",
    "end": "636699"
  },
  {
    "text": "them I'm not and I just need to pull the image and run them so they're available to the run testing and then I might have",
    "start": "636699",
    "end": "642820"
  },
  {
    "text": "some dependencies like maybe local elastic for testing or local Kafka for testing message and event based systems",
    "start": "642820",
    "end": "650820"
  },
  {
    "text": "you know local PG admin if I want to do post grass or just a relational database",
    "start": "650820",
    "end": "656050"
  },
  {
    "text": "that's wait on my you know machine and the point there being I can even have you",
    "start": "656050",
    "end": "662079"
  },
  {
    "text": "know docker containers that run and initialize the data so literally come you know get pull compose up beautiful",
    "start": "662079",
    "end": "668740"
  },
  {
    "text": "thing so it can describe these multiple applications to run locally for development but that same thing could",
    "start": "668740",
    "end": "675490"
  },
  {
    "text": "theoretically be the instruction to deploy and tell the cluster I need you to load up all these services for me",
    "start": "675490",
    "end": "682449"
  },
  {
    "text": "makes sense not to say that all of those database services would go into your cluster but the point is it can be you",
    "start": "682449",
    "end": "688990"
  },
  {
    "text": "know a collection of services so I want to show you a couple quick things with",
    "start": "688990",
    "end": "694720"
  },
  {
    "text": "just working with docker and we'll start with that as a way to kind of just look",
    "start": "694720",
    "end": "701170"
  },
  {
    "text": "at the compose experience so what I'm gonna do is go to my directory on docker",
    "start": "701170",
    "end": "707500"
  },
  {
    "text": "and let's go into one of my simple examples and what I'm going to do is I",
    "start": "707500",
    "end": "712959"
  },
  {
    "text": "have a web app and an API so what I'm gonna do is go into my web app and just",
    "start": "712959",
    "end": "719139"
  },
  {
    "text": "give you a quick look at the docker file so we'll do a cat docker file and you'll",
    "start": "719139",
    "end": "724480"
  },
  {
    "text": "see that what this is saying is I'm building a lightweight Alpine Linux",
    "start": "724480",
    "end": "729610"
  },
  {
    "text": "compatible base image and I'm exposing port 3,000 for this web app and installing curl because I need that for",
    "start": "729610",
    "end": "736300"
  },
  {
    "text": "the health endpoint and then I'm saying hey let's have an intermediate image this is multistage builds available with",
    "start": "736300",
    "end": "742510"
  },
  {
    "text": "docker to flatten the images make them smaller so I'm now going to get a base image called you know a node base cuz",
    "start": "742510",
    "end": "748810"
  },
  {
    "text": "this is a node app and I'm gonna install Bower or and I'm gonna install it do the NPM install and that's gonna produce a",
    "start": "748810",
    "end": "755290"
  },
  {
    "text": "bunch of files and modules and things and then the output of that is going to go into my final base image and then I",
    "start": "755290",
    "end": "762069"
  },
  {
    "text": "have an entry point to start the eye so when I run this that's how that app gets built that's how the containers get",
    "start": "762069",
    "end": "767829"
  },
  {
    "text": "built in etc so what I can do now is let's go here and let's cat the docker compose file and so this simple compose",
    "start": "767829",
    "end": "775870"
  },
  {
    "text": "file says hey I've got an API I'm calling it API demo as a DNS name and I've got a web app and I have an",
    "start": "775870",
    "end": "783279"
  },
  {
    "text": "override in my environment variable saying find the API API demo colon 3000",
    "start": "783279",
    "end": "788319"
  },
  {
    "text": "because it's an environment for the local machine and so this would be the thing that changes as I traverse",
    "start": "788319",
    "end": "793970"
  },
  {
    "text": "environments but I wouldn't have to touch the image I would have to touch the dockerfile because that would just be about building the image so when I",
    "start": "793970",
    "end": "801680"
  },
  {
    "text": "run this as a compose up experience now I have a network created by default unless I want to name it and this will",
    "start": "801680",
    "end": "807890"
  },
  {
    "text": "give me my web app in API communicating with one another so there you go what",
    "start": "807890",
    "end": "812990"
  },
  {
    "text": "I'm going to do now is just take a quick look here and we'll do a docker",
    "start": "812990",
    "end": "818200"
  },
  {
    "text": "container LS and I've already got this running so the other interesting thing about this is you can do a docker",
    "start": "818200",
    "end": "824570"
  },
  {
    "text": "compose down and what that will do is",
    "start": "824570",
    "end": "829700"
  },
  {
    "text": "shut down those images and then when I do a docker compose up D which just",
    "start": "829700",
    "end": "834980"
  },
  {
    "text": "means run as a daemon it will go ahead and restart those if the images weren't",
    "start": "834980",
    "end": "840440"
  },
  {
    "text": "built it would go built them first and look for those docker files because the compose file said where's the docker",
    "start": "840440",
    "end": "846020"
  },
  {
    "text": "file located and so now I should have this running if I do a docker container LS and then you can see that I have",
    "start": "846020",
    "end": "854570"
  },
  {
    "text": "these two things running here that actually might have been a different one kind of think of it and if I kind of",
    "start": "854570",
    "end": "860540"
  },
  {
    "text": "scroll over here you can see its port 3000 I've mapped to for the web app and port 3000 one for the API which was my",
    "start": "860540",
    "end": "866720"
  },
  {
    "text": "override and then if I pop on in to one of these guys and just type localhost",
    "start": "866720",
    "end": "873490"
  },
  {
    "text": "3,000 then this will take me to the running app and this should take me to being able to call the API to show the",
    "start": "873490",
    "end": "880640"
  },
  {
    "text": "speakers and sessions which is what that API does and if I'm you know if DNS is working and my compose file had that",
    "start": "880640",
    "end": "887240"
  },
  {
    "text": "properly described as an environment override everything works okay so that's a quick tour just to give you that",
    "start": "887240",
    "end": "893090"
  },
  {
    "text": "compose just description in order to sort of set a baseline if you will for",
    "start": "893090",
    "end": "899210"
  },
  {
    "text": "this process so the container registry is the next thing we want to talk about it I just built images that were on my",
    "start": "899210",
    "end": "906080"
  },
  {
    "start": "901000",
    "end": "901000"
  },
  {
    "text": "local machine in the local cache and you know that's where they live while I'm just we're doing local development but",
    "start": "906080",
    "end": "912500"
  },
  {
    "text": "ultimately if I want to deploy these things somewhere I have to push them up to a registry so my local build or I can",
    "start": "912500",
    "end": "919040"
  },
  {
    "text": "do this with CI I'll show you will basically take the image and I could write an instruction on the",
    "start": "919040",
    "end": "924839"
  },
  {
    "text": "command line and say push the image to this registry docker hub as your container registry so as your container",
    "start": "924839",
    "end": "931379"
  },
  {
    "text": "registry supports that for our outer deployments and it's a secure registry and there's a lot of nice connectivity",
    "start": "931379",
    "end": "937290"
  },
  {
    "text": "between that registry and our V STS for easily building and pushing and connections between that and other Azure",
    "start": "937290",
    "end": "944009"
  },
  {
    "text": "assets for hosting so you'll see that when I go through some demos so the",
    "start": "944009",
    "end": "949290"
  },
  {
    "text": "image registry we need to push the image to ultimately we're also tagging these",
    "start": "949290",
    "end": "954899"
  },
  {
    "text": "images so the tag is very important for you know understanding which version is this which one is latest there can only be",
    "start": "954899",
    "end": "961499"
  },
  {
    "text": "one we might have other repository tags related to perhaps the build number we",
    "start": "961499",
    "end": "968910"
  },
  {
    "text": "could have a numbering and naming convention for feature releases could be any of the above so when I push to the",
    "start": "968910",
    "end": "975209"
  },
  {
    "text": "registry I can build all these tags and push and that will happen or I can go in",
    "start": "975209",
    "end": "980279"
  },
  {
    "text": "and set up a CI process and I can go to save yes yes with get behind it github",
    "start": "980279",
    "end": "986399"
  },
  {
    "text": "go to github go to TFS whatever my CI tool of flavor is really all of them",
    "start": "986399",
    "end": "992459"
  },
  {
    "text": "could work and basically you can either tell the CI tool go build now and push",
    "start": "992459",
    "end": "997799"
  },
  {
    "text": "the image or it can automate a course on check-in where it will pull latest build the image so it needs to find the docker",
    "start": "997799",
    "end": "1003949"
  },
  {
    "text": "file and then it will push those images to the registry of choice as you configure it so that's a useful thing to",
    "start": "1003949",
    "end": "1010129"
  },
  {
    "text": "do and ultimately the goal of that is that the tagged images will land in one",
    "start": "1010129",
    "end": "1015379"
  },
  {
    "text": "of my environments right so when I'm testing I might have a dev environment in the cloud and that should",
    "start": "1015379",
    "end": "1020899"
  },
  {
    "text": "automatically probably get latest and that's the only one by the way should always get latest cuz anywhere else you",
    "start": "1020899",
    "end": "1026870"
  },
  {
    "text": "might cause a problem you're not expecting quite UAC and prod maybe those",
    "start": "1026870",
    "end": "1032209"
  },
  {
    "text": "are specific versions or labels and we explicitly say we're ready to do so unless we're in a full-on automated",
    "start": "1032209",
    "end": "1039140"
  },
  {
    "text": "check-in everything goes process those are decisions you make once I push the",
    "start": "1039140",
    "end": "1044329"
  },
  {
    "text": "images the tags are the things we're going to ask for in the environment and it will automatically keep that",
    "start": "1044329",
    "end": "1049429"
  },
  {
    "text": "environment up-to-date if it's pulling latest all the time or if you tell the environment here's",
    "start": "1049429",
    "end": "1055130"
  },
  {
    "text": "Tagg please go get so these are important concepts to have baked and",
    "start": "1055130",
    "end": "1060440"
  },
  {
    "text": "let's just talk really quick about how we could do that in Visual Studio so I actually have a sample here that will",
    "start": "1060440",
    "end": "1066980"
  },
  {
    "text": "maybe have a bug in it that I'm going to fix so right now I'm forgetting my base",
    "start": "1066980",
    "end": "1072350"
  },
  {
    "text": "address to return the speakers in one of my deployments right so what I'm going to end up doing here is I just made a",
    "start": "1072350",
    "end": "1078020"
  },
  {
    "text": "change and I'm going to not even test it locally and commit because I'm a loose cannon so let's go ahead and say fix",
    "start": "1078020",
    "end": "1086900"
  },
  {
    "text": "speaker bug I know it works didn't test okay I'm not saying do this at home just",
    "start": "1086900",
    "end": "1095420"
  },
  {
    "text": "having a little fun so I'm gonna sink this I'm gonna do a push and with that I",
    "start": "1095420",
    "end": "1103550"
  },
  {
    "text": "can go over to my environment here and we should be able to see that there's a build down process right so essentially",
    "start": "1103550",
    "end": "1110930"
  },
  {
    "text": "when this builds this will go ahead and start to let's see if we can go into the",
    "start": "1110930",
    "end": "1117620"
  },
  {
    "text": "existing one that's running yeah",
    "start": "1117620",
    "end": "1121270"
  },
  {
    "text": "and this will start showing the output right it's gonna go through the process eventually it's going to build the image",
    "start": "1125990",
    "end": "1131090"
  },
  {
    "text": "and push the image and so on right so I've already configured this to connect to my asher registry it's really",
    "start": "1131090",
    "end": "1136940"
  },
  {
    "text": "easy to do so that's cool obviously in an hour not going to go through that but what I'm going to show",
    "start": "1136940",
    "end": "1143090"
  },
  {
    "text": "you next is let's go to the registry so in here what we should see is that my API is going to get an update or",
    "start": "1143090",
    "end": "1150679"
  },
  {
    "text": "actually sorry let me correct the the front-end will go from 341 to the next number and so that will eventually you",
    "start": "1150679",
    "end": "1157580"
  },
  {
    "text": "know populate and if I have any you know assets out here in now sure that we're automatically pulling latest then that",
    "start": "1157580",
    "end": "1163070"
  },
  {
    "text": "would get up-to-date okay so that's the idea okay so we've done a crash course",
    "start": "1163070",
    "end": "1168080"
  },
  {
    "text": "in docker right we know we have to build the image we know we have to push it somewhere and we know ultimately we're",
    "start": "1168080",
    "end": "1173360"
  },
  {
    "text": "gonna run it somewhere after testing locally perhaps in docker compose up right so let's take a look at some other",
    "start": "1173360",
    "end": "1179630"
  },
  {
    "text": "things we care about so among those is of course well do we deploy one",
    "start": "1179630",
    "end": "1184669"
  },
  {
    "text": "container and just you know have it at port 80 and essentially because",
    "start": "1184669",
    "end": "1189710"
  },
  {
    "text": "containers restart so fast and because we're a start-up and we want to conserve cash maybe we just have one machine out",
    "start": "1189710",
    "end": "1195049"
  },
  {
    "text": "there with a container and we're happy and ready to go but no we're not going to do that because we need load balancing so let's move along and talk",
    "start": "1195049",
    "end": "1201950"
  },
  {
    "start": "1201000",
    "end": "1201000"
  },
  {
    "text": "about how that happens with a docker in a container environment so you know load",
    "start": "1201950",
    "end": "1207919"
  },
  {
    "text": "balanced environment of course you would expect that you know there's some as your load balancer in front that is forwarding requests maybe round-robin or",
    "start": "1207919",
    "end": "1215450"
  },
  {
    "text": "otherwise to port 80 at each of these web machines 480 443 right so with that",
    "start": "1215450",
    "end": "1221510"
  },
  {
    "text": "when the request comes in if I have a container listening at 80 you remember the docker run command then I would be",
    "start": "1221510",
    "end": "1228260"
  },
  {
    "text": "able to receive I'd either of those machines and as long as every machine had an instance of that same container",
    "start": "1228260",
    "end": "1233899"
  },
  {
    "text": "at 80 then it's gonna work it's gonna find one on each machine just traditional web app deployment right now",
    "start": "1233899",
    "end": "1240529"
  },
  {
    "text": "of course if I have multiple containers on the VM my challenge is I can't share ports so I would have to choose a",
    "start": "1240529",
    "end": "1246649"
  },
  {
    "text": "different one and that's not ideal for production it's something you can work around it initially but we need DNS",
    "start": "1246649",
    "end": "1252440"
  },
  {
    "text": "right and we need routing so if we continue through the idea and say",
    "start": "1252440",
    "end": "1258300"
  },
  {
    "start": "1255000",
    "end": "1255000"
  },
  {
    "text": "hey what would happen if I have you know multiple containers and I would like all of them routed through a tee then what I",
    "start": "1258300",
    "end": "1264600"
  },
  {
    "text": "could have is an H a proxy router and nginx router or something on the box that would receive requests at 80 look",
    "start": "1264600",
    "end": "1270720"
  },
  {
    "text": "at what was being requested either DNS or rows or paths and basically forward it to the right one internally so that's",
    "start": "1270720",
    "end": "1278070"
  },
  {
    "text": "another option with a poor-man's sort of set up you know without putting in the effort to go to some other mechanism but",
    "start": "1278070",
    "end": "1285330"
  },
  {
    "start": "1283000",
    "end": "1283000"
  },
  {
    "text": "Web Apps for containers which is a pass environment and Azure and Azure does pass very very well has a built in",
    "start": "1285330",
    "end": "1292470"
  },
  {
    "text": "solution for that with DNS so every time you deploy a new container to the paths even if it's on the same machine each of",
    "start": "1292470",
    "end": "1299100"
  },
  {
    "text": "those will get a DNS I'll just call them ABC and so every time you scale out each",
    "start": "1299100",
    "end": "1304230"
  },
  {
    "text": "of those will get the same DNS and then the load balancer knows which DNS you asked for and maybe you map that to your",
    "start": "1304230",
    "end": "1310320"
  },
  {
    "text": "own DNS and then that will eventually get to the right container on whichever",
    "start": "1310320",
    "end": "1315660"
  },
  {
    "text": "machine it landed on we still have the scale out every container distribution looks the same right sorry every you",
    "start": "1315660",
    "end": "1322200"
  },
  {
    "text": "know VM every host is going to look the same so we're still with the same limitations there so we haven't yet done",
    "start": "1322200",
    "end": "1328530"
  },
  {
    "text": "a discussion about server density right I'm still needing to look at hey how",
    "start": "1328530",
    "end": "1333630"
  },
  {
    "text": "could I make better use of those VMs but for now we're just saying hey this is easy I understand path I understand you know",
    "start": "1333630",
    "end": "1340770"
  },
  {
    "text": "app services and Azure it's easy for me to manage but I want my containers to go there and I don't I'm not ready for an",
    "start": "1340770",
    "end": "1346830"
  },
  {
    "text": "orchestration platform yet because I haven't learned enough about how to manage that or you know maybe we don't",
    "start": "1346830",
    "end": "1352260"
  },
  {
    "text": "have enough containers to worry about that yet so this is a great option again it's",
    "start": "1352260",
    "end": "1357390"
  },
  {
    "text": "passed it scales out just like app services it can give you only 84 or 43 so those are your limitations for the",
    "start": "1357390",
    "end": "1364140"
  },
  {
    "text": "deployment and so let's take a look at what that looks like so I'm gonna head into our environment for Azure and I",
    "start": "1364140",
    "end": "1372630"
  },
  {
    "text": "think let's see what we can take a look at first so I actually have app service",
    "start": "1372630",
    "end": "1378450"
  },
  {
    "text": "containers already deployed here but just for this interest of seeing how we would create such a thing right I'm",
    "start": "1378450",
    "end": "1384810"
  },
  {
    "text": "gonna go ahead and add actually let's go back to where I was there I'm gonna go ahead and in this resource group",
    "start": "1384810",
    "end": "1391570"
  },
  {
    "text": "add a new you know app service for",
    "start": "1391570",
    "end": "1397030"
  },
  {
    "text": "containers there we go and we'll say I",
    "start": "1397030",
    "end": "1402340"
  },
  {
    "text": "want to create that okay so here I'll call this SM demos NDC new web and what",
    "start": "1402340",
    "end": "1411730"
  },
  {
    "text": "I can do is I can choose an existing app service plan so that it's actually",
    "start": "1411730",
    "end": "1417730"
  },
  {
    "text": "sitting on top of an existing VM or I can create a new scale-out set right so I can create a",
    "start": "1417730",
    "end": "1423790"
  },
  {
    "text": "new app service plan with a different set of machines and then ultimately it's asking me what's the container going to",
    "start": "1423790",
    "end": "1428950"
  },
  {
    "text": "look like so you know I can either go for a docker hub deployment that's private or public some other private",
    "start": "1428950",
    "end": "1434350"
  },
  {
    "text": "registry with username password or my Azure container registry which is this one and I can choose an image like",
    "start": "1434350",
    "end": "1441549"
  },
  {
    "text": "another copy of the web app and I can take which one I want so I can go back a version right to some other instance",
    "start": "1441549",
    "end": "1448390"
  },
  {
    "text": "that exists and you'll notice now we have 342 here which is kind of neat so let's go ahead and deploy that one and",
    "start": "1448390",
    "end": "1455070"
  },
  {
    "text": "once this is deployed then you know",
    "start": "1455070",
    "end": "1460090"
  },
  {
    "text": "we'll be able to reach that at port 80 and it will you know basically I haven't",
    "start": "1460090",
    "end": "1466690"
  },
  {
    "text": "yet set up the CI part right like that would automatically pull latest but I could set that up as well so let's go",
    "start": "1466690",
    "end": "1472780"
  },
  {
    "text": "ahead and first get the deployment going and I'll head back in here and we'll take a look at the finished one how about we don't do that just yet almost",
    "start": "1472780",
    "end": "1480160"
  },
  {
    "text": "there okay so right now I already do have this app service plan and it already has a",
    "start": "1480160",
    "end": "1486370"
  },
  {
    "text": "web app and an API deployed and if I take a look at the apps the web app has",
    "start": "1486370",
    "end": "1492940"
  },
  {
    "text": "a container setting and you can see that",
    "start": "1492940",
    "end": "1500860"
  },
  {
    "text": "it says I want continuous deployment and it should automatically update takes about you know 15 minutes before I see",
    "start": "1500860",
    "end": "1506500"
  },
  {
    "text": "that so I fall in immediate result then I could recycle the container and I would get the bug fix that I was talking about so that's one part of it the other",
    "start": "1506500",
    "end": "1514929"
  },
  {
    "text": "part is the app settings it always does that and I will have an override",
    "start": "1514929",
    "end": "1521169"
  },
  {
    "text": "somewhere in here right for any of my appsettings for for the container so",
    "start": "1521169",
    "end": "1527869"
  },
  {
    "text": "let's see if I have that this is the new one maybe it's the new one let's go over here so this is my DNS it gave me and",
    "start": "1527869",
    "end": "1535609"
  },
  {
    "text": "it's still again on the shared machine and when I head in here and I hit the speakers and sessions as long as the",
    "start": "1535609",
    "end": "1543229"
  },
  {
    "text": "configures therefore the override then everything should work fine and there it",
    "start": "1543229",
    "end": "1550009"
  },
  {
    "text": "is so what's it hitting it's hitting the other container right so I showed you",
    "start": "1550009",
    "end": "1557539"
  },
  {
    "text": "quickly how to deploy a new one but I had already this set up so that you could see that you can communicate with",
    "start": "1557539",
    "end": "1562759"
  },
  {
    "text": "each other they're on the same machine there's no special communication internally on the machine it's going through you know DNS to come in and call",
    "start": "1562759",
    "end": "1569929"
  },
  {
    "text": "the API and then I'm gonna be able to scale this out and I would just have to have of course this is my VM they're all",
    "start": "1569929",
    "end": "1576499"
  },
  {
    "text": "gonna have the same containers on it scale out it's a copy okay alright so keeping momentum eyes",
    "start": "1576499",
    "end": "1586129"
  },
  {
    "text": "our container instances so now what about one command to just launch a",
    "start": "1586129",
    "end": "1591259"
  },
  {
    "text": "container don't care where the server is the serverless concept and that's a beautiful thing because maybe I have",
    "start": "1591259",
    "end": "1597349"
  },
  {
    "text": "some bursty loads around certain types of processing in a container probably",
    "start": "1597349",
    "end": "1602539"
  },
  {
    "text": "you know could include just a web app for an API that sometimes gets a burst and needs to scale out as well or it",
    "start": "1602539",
    "end": "1609799"
  },
  {
    "text": "could be something that's processing messages and we need to scale that out when there's a long message line in the queue server list of course we don't see",
    "start": "1609799",
    "end": "1617539"
  },
  {
    "start": "1616000",
    "end": "1616000"
  },
  {
    "text": "the servers but they're there and the idea is I'm just launching a container I'm getting some warmed area for it to",
    "start": "1617539",
    "end": "1623959"
  },
  {
    "text": "be hosted and I'm getting you know DNS access to it so that it can scale so",
    "start": "1623959",
    "end": "1629929"
  },
  {
    "text": "load balancer in scales out however many it needs two containers available and I",
    "start": "1629929",
    "end": "1635839"
  },
  {
    "text": "can also do multi container deployments which might start to sound similar to the compose file capability which really",
    "start": "1635839",
    "end": "1643039"
  },
  {
    "text": "just means with our container instances just like with docker local and docker",
    "start": "1643039",
    "end": "1648919"
  },
  {
    "text": "swarm and docker Enterprise you have a way to describe a service deployment and",
    "start": "1648919",
    "end": "1654169"
  },
  {
    "text": "that way would be armed like right now and this could evolve to where it's actually taking in fact I think they",
    "start": "1654169",
    "end": "1660539"
  },
  {
    "text": "just launched it build this week taking a compose file as an option so this is kind of where we're heading we need to",
    "start": "1660539",
    "end": "1666780"
  },
  {
    "text": "describe the service we need the overrides for environment variables we need to know if there's multiple services in the deployment so they can",
    "start": "1666780",
    "end": "1673260"
  },
  {
    "text": "communicate with each other within their own network and not have to go out through DNS for example private api's",
    "start": "1673260",
    "end": "1679820"
  },
  {
    "text": "and other such things so with server lists I'm running this command it's deploying those wherever it still has",
    "start": "1679820",
    "end": "1686940"
  },
  {
    "text": "the environment override variables and things in the service description that it needs and there's a few other things",
    "start": "1686940",
    "end": "1692909"
  },
  {
    "text": "that that will add but let's keep going so with an azure container instance I still have you know these things",
    "start": "1692909",
    "end": "1699059"
  },
  {
    "start": "1694000",
    "end": "1694000"
  },
  {
    "text": "deployed to a service but what I can do is I'm going to the UI and I can create",
    "start": "1699059",
    "end": "1704130"
  },
  {
    "text": "a new one a new as a container instance and I can tell it which container but you'll",
    "start": "1704130",
    "end": "1709679"
  },
  {
    "text": "notice it's starting to ask for interesting other things like is this Windows or Linux because that's support",
    "start": "1709679",
    "end": "1715049"
  },
  {
    "text": "it and that way it will find the right home for the container which means my base image probably matches either",
    "start": "1715049",
    "end": "1721110"
  },
  {
    "text": "Windows or Linux too and then we also have look at that number of cores amount",
    "start": "1721110",
    "end": "1726600"
  },
  {
    "text": "of memory what's that these are other things you can tell the environment about your container how much memory and",
    "start": "1726600",
    "end": "1734429"
  },
  {
    "text": "CPU do I expect to consume to run so that the scheduler can decide where",
    "start": "1734429",
    "end": "1740309"
  },
  {
    "text": "should I be hosted where should I go who has room for me which machines are best",
    "start": "1740309",
    "end": "1746100"
  },
  {
    "text": "and there's a number of other constraints we can provide so those are",
    "start": "1746100",
    "end": "1751230"
  },
  {
    "text": "really important things and just starting to open open the door to that discussion so with Azure container",
    "start": "1751230",
    "end": "1758220"
  },
  {
    "text": "instances let's go in here for a sec I'm going to drop back and take a look at",
    "start": "1758220",
    "end": "1764580"
  },
  {
    "text": "something of a description so if I go to a CI and let's open up notepad content",
    "start": "1764580",
    "end": "1773700"
  },
  {
    "text": "demo deploy and you can just see from a high-level right this is a description",
    "start": "1773700",
    "end": "1779299"
  },
  {
    "text": "no need to memorize all of this obviously but it does show the CPU and",
    "start": "1779299",
    "end": "1784590"
  },
  {
    "text": "memory requirements it does show the environment variable override for the web to the API and notice this localhost",
    "start": "1784590",
    "end": "1792250"
  },
  {
    "text": "that's because when I do a multi container deployment right now the way that works with as your container",
    "start": "1792250",
    "end": "1798580"
  },
  {
    "text": "instances is it gives you DNS with localhost to the port and that might",
    "start": "1798580",
    "end": "1803620"
  },
  {
    "text": "evolve so you know hold that thought the point there is this is just a task",
    "start": "1803620",
    "end": "1808870"
  },
  {
    "text": "definition right so I can deploy this and if we take a look at how let me cat",
    "start": "1808870",
    "end": "1814960"
  },
  {
    "text": "the deploy and this is just a single CLI",
    "start": "1814960",
    "end": "1820690"
  },
  {
    "text": "command AZ group deployment create I could do this from the cloud shell if the JSON is available to me somewhere",
    "start": "1820690",
    "end": "1826540"
  },
  {
    "text": "publicly or on my cloud shell or I can do it from here so what I'm gonna do is I can notepad that and I'm gonna just",
    "start": "1826540",
    "end": "1834010"
  },
  {
    "text": "edit it to do a new deployment oops that was weird let's do deploy Multi bat and what I'll",
    "start": "1834010",
    "end": "1842530"
  },
  {
    "text": "do is I'll just call this deployment you know three or something like that just to not stomp and the other thing is it",
    "start": "1842530",
    "end": "1848140"
  },
  {
    "text": "needs to have a resource group that's pre created at this time so I might say I'm gonna create a new SM demos NDC - a",
    "start": "1848140",
    "end": "1857560"
  },
  {
    "text": "CI okay and that resource group needs to exist so I'm gonna head over to my ashore environment which is over here",
    "start": "1857560",
    "end": "1863700"
  },
  {
    "text": "and I'm gonna go to my resource groups and we'll just go ahead and create that",
    "start": "1863700",
    "end": "1868720"
  },
  {
    "text": "resource group to start so add one and a CI I could have scripted that by the way",
    "start": "1868720",
    "end": "1874330"
  },
  {
    "text": "right creating the reasons group but I just wanted to kind of go through this visually a little bit - so here as some",
    "start": "1874330",
    "end": "1879790"
  },
  {
    "text": "demos and you see a CI and we'll create that I think east you guys should work",
    "start": "1879790",
    "end": "1886120"
  },
  {
    "text": "you have to pick a region that is allowed and once this is there in resource group then we can head back to",
    "start": "1886120",
    "end": "1894690"
  },
  {
    "text": "my notepad save that close it and then",
    "start": "1894690",
    "end": "1900400"
  },
  {
    "text": "cat we'll just do a deploy a multi bat away we go",
    "start": "1900400",
    "end": "1907080"
  },
  {
    "text": "and it's running so once that finishes it's gonna head over and we'll see the",
    "start": "1914960",
    "end": "1920210"
  },
  {
    "text": "deployment happening in the portal and at some point we'll be able to you know",
    "start": "1920210",
    "end": "1925900"
  },
  {
    "text": "see that it's finished and then the API and the app will be there in the meantime let's just take a quick peek at",
    "start": "1925900",
    "end": "1932740"
  },
  {
    "text": "other things we can do so if I go back to my resource groups and head into the",
    "start": "1932740",
    "end": "1938210"
  },
  {
    "text": "a CI we can see that I can also deploy you know a brand new one right so I",
    "start": "1938210",
    "end": "1944210"
  },
  {
    "text": "could say I want to create a new instance probably is a good search term",
    "start": "1944210",
    "end": "1950230"
  },
  {
    "text": "and we'll go here container instances and say I want to create that and with",
    "start": "1950230",
    "end": "1956900"
  },
  {
    "text": "that container name SM demos live a CI",
    "start": "1956900",
    "end": "1962060"
  },
  {
    "text": "just giving it a name container image public or private this is where it's",
    "start": "1962060",
    "end": "1967130"
  },
  {
    "text": "interesting right so if I go to private it will actually not give me the",
    "start": "1967130",
    "end": "1972350"
  },
  {
    "text": "drop-down right now so I'm just gonna go with public and will say das blonde content web alright yeah content web",
    "start": "1972350",
    "end": "1980240"
  },
  {
    "text": "that's the website so I just don't want to go through the nonsense of typing all the rest in most of the places actually",
    "start": "1980240",
    "end": "1985580"
  },
  {
    "text": "connect you directly to your registry though so I'm sure that'll come and then I'm gonna say I'm gonna use an existing",
    "start": "1985580",
    "end": "1990590"
  },
  {
    "text": "resource group which one actually I don't care",
    "start": "1990590",
    "end": "1995780"
  },
  {
    "text": "we'll just say new ND c new RG and it'll deploy and this will say what",
    "start": "1995780",
    "end": "2009990"
  },
  {
    "text": "that's interesting a little not expected I guess I'm gonna",
    "start": "2012440",
    "end": "2018840"
  },
  {
    "text": "have to get out of there huh okay maybe",
    "start": "2018840",
    "end": "2024330"
  },
  {
    "text": "a feature just updated in the portal it's possible choose Windows or Linux choose how many core public IP any DNS",
    "start": "2024330",
    "end": "2033810"
  },
  {
    "text": "names you want there's a lot of things that just lit up this week not surprisingly because of built right so",
    "start": "2033810",
    "end": "2040110"
  },
  {
    "text": "there's some new things you can do that we we're not able to do before right here from the UI so you'll notice the",
    "start": "2040110",
    "end": "2046350"
  },
  {
    "text": "screenshots in my slides were slightly less feature so it's starting to evolve in the in the portal and so while that's",
    "start": "2046350",
    "end": "2052860"
  },
  {
    "text": "deploying let's head over here again and that gives you the idea of how easy it is to from the UI or from the command",
    "start": "2052860",
    "end": "2058620"
  },
  {
    "text": "lines quickly deploy a container ultimately that means it's getting scheduled by Asha so I probably",
    "start": "2058620",
    "end": "2068158"
  },
  {
    "text": "eventually want a way to visualize that and the way that's going to be is through kubernetes because kubernetes",
    "start": "2068159",
    "end": "2074070"
  },
  {
    "text": "has this thing called a cubelet that will let you visualize external things and there is an experimental github",
    "start": "2074070",
    "end": "2080850"
  },
  {
    "text": "repository right now that already has that available it's called an experiment only because I guess they're trying to",
    "start": "2080850",
    "end": "2086730"
  },
  {
    "text": "make it clear that it's not ready for primetime just yet but that's gonna be beautiful because then I can have my",
    "start": "2086730",
    "end": "2092220"
  },
  {
    "text": "server list things that scale wildly and then I can also have you know the ones that I'm deploying intentionally that's",
    "start": "2092220",
    "end": "2098010"
  },
  {
    "text": "used using fixed nodes in my cluster so you know that's that's sort of where",
    "start": "2098010",
    "end": "2103440"
  },
  {
    "text": "we're heading as far as the previously deployed will previously deployed application if we",
    "start": "2103440",
    "end": "2110760"
  },
  {
    "text": "take a look at the overview here you can see I didn't put any port sorry any any",
    "start": "2110760",
    "end": "2117630"
  },
  {
    "text": "DNS so I'm just gonna have to go here to 3000 and it'll still show me that it's",
    "start": "2117630",
    "end": "2125760"
  },
  {
    "text": "working which means it's doing that internal localhost CNS and everything's fine okay all right so now we start to",
    "start": "2125760",
    "end": "2133470"
  },
  {
    "text": "get interesting because we can do all this stuff I have containers I can run them locally",
    "start": "2133470",
    "end": "2139590"
  },
  {
    "text": "I can push them images I can deploy them into path which is nice and easy and accessible to",
    "start": "2139590",
    "end": "2144750"
  },
  {
    "text": "somebody who knows a sure but doesn't know orchestration yet and then I can have these loose containers that run and",
    "start": "2144750",
    "end": "2151140"
  },
  {
    "text": "do stuff but I probably need a management story around that still so we need to talk about why would I move to",
    "start": "2151140",
    "end": "2157650"
  },
  {
    "text": "orchestration so we can do things without orchestration but we need orchestration for things like service",
    "start": "2157650",
    "end": "2164910"
  },
  {
    "start": "2160000",
    "end": "2160000"
  },
  {
    "text": "discovery you know the idea of not having to know that every machine has a service at port",
    "start": "2164910",
    "end": "2171360"
  },
  {
    "text": "80 at this DNS you know I need to be able to distribute the services wherever and have them somehow and list or",
    "start": "2171360",
    "end": "2177750"
  },
  {
    "text": "register and tell the cluster Here I am so that we don't have to have this you",
    "start": "2177750",
    "end": "2183630"
  },
  {
    "text": "know fixed set of the same apps on every node for example and use the server's",
    "start": "2183630",
    "end": "2188730"
  },
  {
    "text": "more wisely and have better server density and that's a really really important feature the other is load",
    "start": "2188730",
    "end": "2195210"
  },
  {
    "text": "balancing in general and routing in general which all comes with the platforms in different ways and then",
    "start": "2195210",
    "end": "2200460"
  },
  {
    "text": "there's auto scaling the containers themselves so hey this one feels busy why don't we add some more all right",
    "start": "2200460",
    "end": "2207060"
  },
  {
    "text": "this one doesn't have enough running yet how about we make sure there's always two things like self-healing when",
    "start": "2207060",
    "end": "2213810"
  },
  {
    "text": "something fails when it crashes restarted I've seen that be incredibly useful in in situations where you know",
    "start": "2213810",
    "end": "2220890"
  },
  {
    "text": "there was a memory leak for example in some Java container that was running and until you figured out the the leak at",
    "start": "2220890",
    "end": "2227040"
  },
  {
    "text": "least one thing happened it restarted and so it you know every day it restarted at some point but you know",
    "start": "2227040",
    "end": "2233610"
  },
  {
    "text": "that didn't used to happen in our iis web app deployments the nodes just came down so these are really nice features",
    "start": "2233610",
    "end": "2240000"
  },
  {
    "text": "upgrading and rollback so being able to deploy new versions of containers but not have it affect the running app have",
    "start": "2240000",
    "end": "2246510"
  },
  {
    "text": "it gracefully deploy and stitch up the new one and retire the old one secret management so that your environment",
    "start": "2246510",
    "end": "2252570"
  },
  {
    "text": "variables don't have to hold secrets so all those features are the things that we're going to think about I'll show you some of them as I go through",
    "start": "2252570",
    "end": "2258780"
  },
  {
    "text": "the platforms and then the other thing is of course under that is infrastructure somewhere I either manage",
    "start": "2258780",
    "end": "2265410"
  },
  {
    "text": "that infrastructure or I don't but it's there right I have",
    "start": "2265410",
    "end": "2271520"
  },
  {
    "text": "masternodes and agent nodes and there's obviously got to be you know some form of DNS and load balancing on the outside",
    "start": "2271520",
    "end": "2278070"
  },
  {
    "text": "and a registry to deploy my images to and then I have platforms that support this the features of the platform itself",
    "start": "2278070",
    "end": "2285570"
  },
  {
    "text": "to do the deployments and scheduling and orchestration so kubernetes mezzos DC OS",
    "start": "2285570",
    "end": "2291900"
  },
  {
    "text": "which also supports kubernetes docker you know enterprise which also supports",
    "start": "2291900",
    "end": "2297450"
  },
  {
    "text": "kubernetes and swarm service fabric which is not super Nettie's more native",
    "start": "2297450",
    "end": "2303720"
  },
  {
    "text": "dotnet with containers with its own scheduler when we think about the host environment in Azure we've got the",
    "start": "2303720",
    "end": "2310530"
  },
  {
    "text": "kubernetes service which is managed we've got your infrastructure as a service which is deploy whichever",
    "start": "2310530",
    "end": "2316200"
  },
  {
    "text": "platform is your flavor and there are reasons to choose and then we've got on",
    "start": "2316200",
    "end": "2322110"
  },
  {
    "text": "bread hybrid which is a really good reason why people maybe don't go with paths because they want to manage on",
    "start": "2322110",
    "end": "2327780"
  },
  {
    "text": "Prem the same as cloud so they need to choose - I want kubernetes DC was swarm",
    "start": "2327780",
    "end": "2333440"
  },
  {
    "text": "swarm mode seee or enterprise do I want to pay for a license and support that kind of thing for on",
    "start": "2333440",
    "end": "2340620"
  },
  {
    "text": "premise cloud and then we have as your service fabric which is also now has more paths like than it was before as of",
    "start": "2340620",
    "end": "2348030"
  },
  {
    "text": "this announcements this week so there's a lot to think about there but",
    "start": "2348030",
    "end": "2353820"
  },
  {
    "text": "ultimately you know what we want to do is understand why orchestration as we go and so orchestration gives you these",
    "start": "2353820",
    "end": "2360840"
  },
  {
    "start": "2355000",
    "end": "2355000"
  },
  {
    "text": "master nodes their job is to keep track with quorum where are all the services",
    "start": "2360840",
    "end": "2366930"
  },
  {
    "text": "what is the healthy state of the services what is the state of the nodes and do we have enough services running",
    "start": "2366930",
    "end": "2373830"
  },
  {
    "text": "is there you know any of them need to scale or not you know that kind of thing and the master nodes have a leader and",
    "start": "2373830",
    "end": "2380970"
  },
  {
    "text": "there's leader election when one goes down so they stay current with each other all of the clusters all of the",
    "start": "2380970",
    "end": "2388470"
  },
  {
    "text": "orchestration platforms have this concept whether you see the nodes or not depends how far in two paths you're",
    "start": "2388470",
    "end": "2394410"
  },
  {
    "text": "going we have agent nodes that's where we deploy our stuff but we don't talk to",
    "start": "2394410",
    "end": "2399420"
  },
  {
    "text": "the agent notes directly we tell the master deploy this here's my service",
    "start": "2399420",
    "end": "2405180"
  },
  {
    "text": "description here's the services I want you to deploy here's the overrides for environment here's how many services are",
    "start": "2405180",
    "end": "2412440"
  },
  {
    "text": "bundled together and then it does the job of figuring out where to push those things and deploy so scheduling is a",
    "start": "2412440",
    "end": "2419250"
  },
  {
    "text": "very important part of this process scheduling means I'm essentially issuing a docker run or compose up at the master",
    "start": "2419250",
    "end": "2427620"
  },
  {
    "text": "with some sort of CD tool or directly with command line and that will then let",
    "start": "2427620",
    "end": "2435480"
  },
  {
    "text": "the master say okay how much resources do I need who's available you guys go pull the image and run",
    "start": "2435480",
    "end": "2441110"
  },
  {
    "text": "here's your parameters get it done and then the nodes take care of it from there and when the nodes run those containers",
    "start": "2441110",
    "end": "2448290"
  },
  {
    "text": "it registers with the master essentially who tracks where are all the",
    "start": "2448290",
    "end": "2455610"
  },
  {
    "text": "services running so it knows these two services are on those two nodes and healthy and then there's a heartbeat",
    "start": "2455610",
    "end": "2461250"
  },
  {
    "text": "that goes on so that if they get unhealthy the master knows that too so there's this whole process of",
    "start": "2461250",
    "end": "2467180"
  },
  {
    "text": "registration that provides a way to do discovery which means you could send a",
    "start": "2467180",
    "end": "2472800"
  },
  {
    "text": "request to the cluster and say I want application a and that application could be on two of the five nodes and it knows",
    "start": "2472800",
    "end": "2479670"
  },
  {
    "text": "how to find that scheduling services means server density means I don't have",
    "start": "2479670",
    "end": "2486450"
  },
  {
    "start": "2482000",
    "end": "2482000"
  },
  {
    "text": "to know which node everything's on and I can fill up the nodes better because now I don't have to have a copy of every",
    "start": "2486450",
    "end": "2492090"
  },
  {
    "text": "service on every node and then of course as I'm doing scheduling if there is a",
    "start": "2492090",
    "end": "2498080"
  },
  {
    "text": "kind of a you know a heavy population of services and we start reaching our",
    "start": "2498080",
    "end": "2504150"
  },
  {
    "text": "thresholds for CPU and memory disk space of course we need Auto scale to start",
    "start": "2504150",
    "end": "2509670"
  },
  {
    "text": "sending messages to Asher to say I need more notes and then now I have all of a",
    "start": "2509670",
    "end": "2515700"
  },
  {
    "text": "sudden got some space so I can shuffle things around a little bit so they can literally move and optimize how things",
    "start": "2515700",
    "end": "2520920"
  },
  {
    "text": "are deployed across the board so this is a beautiful thing because now we have the room for new instances and that",
    "start": "2520920",
    "end": "2526770"
  },
  {
    "start": "2524000",
    "end": "2524000"
  },
  {
    "text": "thing can get deployed and away we go so the master keeps track of all this stuff",
    "start": "2526770",
    "end": "2533400"
  },
  {
    "start": "2528000",
    "end": "2528000"
  },
  {
    "text": "helps the deployments happen get scheduled keep track of health and at the end of the day they all follow a",
    "start": "2533400",
    "end": "2540660"
  },
  {
    "text": "similar path now if I do this with ions in Azure then what I'm getting is essentially the masternodes",
    "start": "2540660",
    "end": "2547410"
  },
  {
    "text": "and the Asian nose and I'm gonna directly see and pay for all of them so",
    "start": "2547410",
    "end": "2553289"
  },
  {
    "text": "a first deployment would for example be like minimum eight notes right I'm gonna",
    "start": "2553289",
    "end": "2558299"
  },
  {
    "text": "have three masters because I need a quorum and I'm gonna have probably at least three to five nodes so probably",
    "start": "2558299",
    "end": "2565680"
  },
  {
    "text": "eight so another reason that people would start with paths and app services",
    "start": "2565680",
    "end": "2571440"
  },
  {
    "text": "would be I don't have enough containers to populate all that and so why would I pay the cost of eight notes but it's",
    "start": "2571440",
    "end": "2579029"
  },
  {
    "text": "very really invested in micro services it's going to be pretty easy for you to eventually have a neat no cluster and",
    "start": "2579029",
    "end": "2584309"
  },
  {
    "text": "that's what you're managing on Prem and cloud so I assess Ori we used to have",
    "start": "2584309",
    "end": "2589739"
  },
  {
    "text": "something called a sure container service which still shows in the portal but is probably going to disappear as that name because it really was just arm",
    "start": "2589739",
    "end": "2597539"
  },
  {
    "text": "templates that kicked off deploying DCOs swarm and kubernetes and it would give",
    "start": "2597539",
    "end": "2605220"
  },
  {
    "text": "you a cluster like that based on a template by the vendor and now the vendors are gonna start managing those",
    "start": "2605220",
    "end": "2610980"
  },
  {
    "text": "templates more themselves and it's just going to be part of ions and then you would of course customize that template",
    "start": "2610980",
    "end": "2617069"
  },
  {
    "text": "anyway so you're not going to take what they give you and say okay my Adger",
    "start": "2617069",
    "end": "2622109"
  },
  {
    "text": "setup is done i mean you own those nodes you have to do all the things you do",
    "start": "2622109",
    "end": "2627599"
  },
  {
    "text": "when you manage any infrastructure in Azure patching the machines updating the",
    "start": "2627599",
    "end": "2632609"
  },
  {
    "text": "software etc etc so is that all that no not at all because sometimes you're",
    "start": "2632609",
    "end": "2638700"
  },
  {
    "text": "doing on cram and hybrid and you want the same experience on creme and hybrids so I would certainly choose then between",
    "start": "2638700",
    "end": "2645359"
  },
  {
    "text": "these and now I have to think about hmm you know which way do I want to go docker native because they can give me a",
    "start": "2645359",
    "end": "2651390"
  },
  {
    "text": "support contract and it's supported by the company so I'm gonna pend spend money large organizations do that right",
    "start": "2651390",
    "end": "2657779"
  },
  {
    "text": "because they don't want to be without support a lot of them so they'll go for the support contract with docker",
    "start": "2657779",
    "end": "2664079"
  },
  {
    "text": "enterprise possibly with mesosphere right with DCOs because they all do that and then others will be like you",
    "start": "2664079",
    "end": "2670690"
  },
  {
    "text": "know what there's a lot of nice chair around kubernetes I'm gonna figure that one out and it's open source and I don't",
    "start": "2670690",
    "end": "2676060"
  },
  {
    "text": "have pay for the you know support or the same with docker with talker seee with just swarm okay so we get",
    "start": "2676060",
    "end": "2685000"
  },
  {
    "text": "these arm templates we can deploy and it'll do something like this but at the end of the day what it's doing is this right management knows",
    "start": "2685000",
    "end": "2690990"
  },
  {
    "start": "2686000",
    "end": "2686000"
  },
  {
    "text": "agent knows where the software goes all good so I'm going to give you a tour quickly of each of these and we're going",
    "start": "2690990",
    "end": "2698080"
  },
  {
    "text": "to talk about different things as I go through it one of them being constraints and how we deploy so I'm going to talk",
    "start": "2698080",
    "end": "2703660"
  },
  {
    "text": "about swarm first so let's get out of here and I'll go into and I'm going to",
    "start": "2703660",
    "end": "2712900"
  },
  {
    "text": "connect to my swarm cluster okay so what",
    "start": "2712900",
    "end": "2719530"
  },
  {
    "text": "I'm going to do first is essentially what I've done is I've securely tunneled into my swarm cluster but I'm gonna",
    "start": "2719530",
    "end": "2724540"
  },
  {
    "text": "pretend I'm coming in from outside and send instructions to the swarm cluster because if I type for example docker",
    "start": "2724540",
    "end": "2730800"
  },
  {
    "text": "info here it's going to tell me about this you know this particular machine",
    "start": "2730800",
    "end": "2737890"
  },
  {
    "text": "right so this is my swarm master you see so that's what this machine is and if I",
    "start": "2737890",
    "end": "2744340"
  },
  {
    "text": "type you know docker container LS it's",
    "start": "2744340",
    "end": "2751480"
  },
  {
    "text": "going to show me that I'm running swarm and I'm running console which is the key value store that's keeping track of the",
    "start": "2751480",
    "end": "2758320"
  },
  {
    "text": "state of things right and all of them have that but more interesting is this",
    "start": "2758320",
    "end": "2763600"
  },
  {
    "text": "if I type info but I do it against the cluster against the master I'm basically",
    "start": "2763600",
    "end": "2770050"
  },
  {
    "text": "sending a command to the master and it's telling me about my cluster I have a swarm agent with two containers another",
    "start": "2770050",
    "end": "2777130"
  },
  {
    "text": "swarm agent with one container and another swarm agent with one container so what I'm doing is instead asking",
    "start": "2777130",
    "end": "2785310"
  },
  {
    "text": "questions if you will about you know the cluster so if I wanted to do a container",
    "start": "2785310",
    "end": "2794040"
  },
  {
    "text": "yeah okay so I'm going to do this her LS and this can tell you that these",
    "start": "2794040",
    "end": "2802030"
  },
  {
    "text": "are the containers that are running across the cluster but each of them on a different note so when I talk to the",
    "start": "2802030",
    "end": "2807160"
  },
  {
    "text": "master I'm getting the whole picture of the cluster basically is what I'm saying so I can issue commands to deployed",
    "start": "2807160",
    "end": "2813039"
  },
  {
    "text": "there like say I want to run this content API and I'm going to hit that",
    "start": "2813039",
    "end": "2819339"
  },
  {
    "text": "run command and it just ran another one so I should be able to see that I have another running but what gets",
    "start": "2819339",
    "end": "2824859"
  },
  {
    "text": "interesting is also when you do things like this how about a constraint 7 gig of ram I'm gonna ask for okay so now I'm",
    "start": "2824859",
    "end": "2833470"
  },
  {
    "text": "gonna take that idea of the CPU or memory requirements I'm gonna pass on the docker run against the cluster and",
    "start": "2833470",
    "end": "2839650"
  },
  {
    "text": "say I require you know 7 gig around so let's give that a run and let's give it",
    "start": "2839650",
    "end": "2845650"
  },
  {
    "text": "around a couple times don't mind the daemon error and it says no resources",
    "start": "2845650",
    "end": "2851200"
  },
  {
    "text": "available to schedule now I'm doing this from the command line I haven't sent the right instructions to say retry and all",
    "start": "2851200",
    "end": "2857950"
  },
  {
    "text": "of that so it's just gonna fail on me here but obviously in the actual deployed environment what your clusters",
    "start": "2857950",
    "end": "2863890"
  },
  {
    "text": "are going to do is keep trying we'll see that so let's come back up here and let's do another docker info and if I do that",
    "start": "2863890",
    "end": "2871779"
  },
  {
    "text": "against the cluster I'm now gonna find out that I have containers running but",
    "start": "2871779",
    "end": "2876789"
  },
  {
    "text": "also seven gigabytes reserved you see and I've now said this container needs seven gigs so don't put any more on",
    "start": "2876789",
    "end": "2883480"
  },
  {
    "text": "there right so that's how you know basically you know how much room you",
    "start": "2883480",
    "end": "2889690"
  },
  {
    "text": "have left to spare in the cluster as a whole and your first question is going to be how on earth am I going to know",
    "start": "2889690",
    "end": "2895390"
  },
  {
    "text": "that and the quick answer given the hour is that you know you're gonna do drills",
    "start": "2895390",
    "end": "2901569"
  },
  {
    "text": "right you're gonna take a swag ah I think probably I need one CPU maybe we",
    "start": "2901569",
    "end": "2906670"
  },
  {
    "text": "can go down to half and I'm gonna go with 256 Meg you know instead of gigabytes and you know something that",
    "start": "2906670",
    "end": "2914109"
  },
  {
    "text": "uses more memory you have again general idea and then you're gonna run tests and loads and you're gonna start to learn",
    "start": "2914109",
    "end": "2919720"
  },
  {
    "text": "how do we break that container how do we tip it how do we make it fail how do we make it run out and you have to do that",
    "start": "2919720",
    "end": "2926200"
  },
  {
    "text": "that's part of the job otherwise we're just doing what we used to do which is deploy stuff and",
    "start": "2926200",
    "end": "2931930"
  },
  {
    "text": "you know the node might crash one day because somebody's taking too many resources so it's part of the job and",
    "start": "2931930",
    "end": "2937690"
  },
  {
    "text": "that's where I'm gonna leave that for now so let's take a look at actually one",
    "start": "2937690",
    "end": "2942910"
  },
  {
    "text": "other thing so I'm gonna exit here that just sort of illustrates the basics of you know constraints right deploying and",
    "start": "2942910",
    "end": "2950049"
  },
  {
    "text": "saying this is what I need and what does the impact to the cluster which means I can't deploy I'm scheduling and I can't",
    "start": "2950049",
    "end": "2955779"
  },
  {
    "text": "find resources the other thing that I can do though and let me just grab my other cell is I can take a look at you",
    "start": "2955779",
    "end": "2963160"
  },
  {
    "text": "know the orchestration UI in front of that right like that command line is what you would do with docker Community",
    "start": "2963160",
    "end": "2970450"
  },
  {
    "text": "Edition there's no UI there's no tools but everything's command line right and",
    "start": "2970450",
    "end": "2975460"
  },
  {
    "text": "a lot of people use that because it's native docker and the other thing we can do is go into an enterprise environment",
    "start": "2975460",
    "end": "2981640"
  },
  {
    "text": "so let me do I'm gonna go into",
    "start": "2981640",
    "end": "2987069"
  },
  {
    "text": "conference general queue okay so what I'm gonna do is cat this just to show",
    "start": "2987069",
    "end": "2992980"
  },
  {
    "text": "you what it is and what this is doing is saying I'm going to import a module that's going to let me connect to the",
    "start": "2992980",
    "end": "2998980"
  },
  {
    "text": "cluster basically and it's going to take from this folder information I need to",
    "start": "2998980",
    "end": "3004890"
  },
  {
    "text": "connect to the cluster that SSH key and all that good stuff and then I'm going to cat demo and all this is doing is",
    "start": "3004890",
    "end": "3011579"
  },
  {
    "text": "it's going to try to do a deploy to that cluster okay in a folder called conference app two it's going to deploy",
    "start": "3011579",
    "end": "3018299"
  },
  {
    "text": "a stack which is essentially a bundle for deploying compose and let me go over",
    "start": "3018299",
    "end": "3025079"
  },
  {
    "text": "here to my UI and I have this loaded up",
    "start": "3025079",
    "end": "3031740"
  },
  {
    "text": "over here already I should still be logged in let's refresh and what you'll see is I've already got a conference app",
    "start": "3031740",
    "end": "3037770"
  },
  {
    "text": "deployed but I wanted to show you you know again instructions get sent to the master now I'm seeing a UI in front of",
    "start": "3037770",
    "end": "3044760"
  },
  {
    "text": "the master it's on the master this is the UI deployed to the master so either way I'm having a master you know I'm",
    "start": "3044760",
    "end": "3051690"
  },
  {
    "text": "interacting with the master to know what's going on how many services are deployed how many images are available",
    "start": "3051690",
    "end": "3057270"
  },
  {
    "text": "because this has its own registry as well it's telling me things about the",
    "start": "3057270",
    "end": "3062309"
  },
  {
    "text": "nodes you know how's the health of the node all we'll do that as well because they know what they're reserving and then if I",
    "start": "3062309",
    "end": "3068250"
  },
  {
    "text": "head over to services or stacks here we're gonna see that new one deploy when",
    "start": "3068250",
    "end": "3073470"
  },
  {
    "text": "I hit the command line so let's go over here and I'll give it a run so we'll do a demo one and that will shell me to the",
    "start": "3073470",
    "end": "3082020"
  },
  {
    "text": "environment and it will start to create the services and now let's head back to that UI and we should see I might have",
    "start": "3082020",
    "end": "3089670"
  },
  {
    "text": "to refresh an update where we can see it's deploying here you see now what's",
    "start": "3089670",
    "end": "3095190"
  },
  {
    "text": "the point of that that's a compose file getting deployed to have a new",
    "start": "3095190",
    "end": "3100470"
  },
  {
    "text": "application or service deployed and this is going to show me you know what are the services that just got deployed and",
    "start": "3100470",
    "end": "3106560"
  },
  {
    "text": "it's actually not up yet you see that it's trying it's going to try and bring up two of each and if I go to the",
    "start": "3106560",
    "end": "3112800"
  },
  {
    "text": "existing stack that was already running what you'll see is I can go to my services and I can find the web app and",
    "start": "3112800",
    "end": "3119790"
  },
  {
    "text": "I can find the DNS to get to it and it's got that same environment override in",
    "start": "3119790",
    "end": "3125100"
  },
  {
    "text": "the compose and I can see that it's working I can hit the API and that's just sort of a high-level picture for",
    "start": "3125100",
    "end": "3131880"
  },
  {
    "text": "you there right so with that again this",
    "start": "3131880",
    "end": "3137520"
  },
  {
    "text": "is the introduction to hey how about visualizing some of these things right I'm still talking to the master no",
    "start": "3137520",
    "end": "3143070"
  },
  {
    "text": "matter how you slice it and the other thing that's kind of interesting is in here I am now actually tunneled in to",
    "start": "3143070",
    "end": "3151410"
  },
  {
    "text": "that cluster so this is going to show me all the things that are on that master this is not my local at all",
    "start": "3151410",
    "end": "3157590"
  },
  {
    "text": "so that's the other thing that's kind of neat in terms of what's your really day-to-day interaction or your CI and CD",
    "start": "3157590",
    "end": "3163200"
  },
  {
    "text": "communication that'll look like you got options you eyes endpoints to post and push and deploy and check the status",
    "start": "3163200",
    "end": "3170480"
  },
  {
    "text": "with the CLI tools like this this is actually just docker machine windows set",
    "start": "3170480",
    "end": "3176910"
  },
  {
    "text": "to look at a different cluster and that's how that would work with any docker deployment okay so let's continue",
    "start": "3176910",
    "end": "3186420"
  },
  {
    "text": "mesosphere so DCOs is actually yet another type of environment to deploy",
    "start": "3186420",
    "end": "3194420"
  },
  {
    "start": "3187000",
    "end": "3187000"
  },
  {
    "text": "application or to deploy your containers to it's got a master and it's got a set of agents it's got a different template",
    "start": "3194420",
    "end": "3200790"
  },
  {
    "text": "it deploys things slightly differently but ultimately it's the same idea I've got agents and I've got a master I have",
    "start": "3200790",
    "end": "3206339"
  },
  {
    "text": "a different API to post to it's not docker native so it's got a different you know web api endpoint HTTP calls to",
    "start": "3206339",
    "end": "3214770"
  },
  {
    "text": "post and schedule different format not compose instead some JSON doesn't matter",
    "start": "3214770",
    "end": "3220140"
  },
  {
    "text": "it's specific to that environment but there's overlapping common things right that we need to do so if we think about",
    "start": "3220140",
    "end": "3227579"
  },
  {
    "text": "it that let's just head into an example and I'm gonna exit this guy and let's go",
    "start": "3227579",
    "end": "3233069"
  },
  {
    "text": "over to my DCOs and in the DCOs",
    "start": "3233069",
    "end": "3239210"
  },
  {
    "text": "let's list my connect files here so I'm going to do a connect and that's going",
    "start": "3239210",
    "end": "3245250"
  },
  {
    "text": "to open up port four five five five on my local to touch the DCOs deployment so",
    "start": "3245250",
    "end": "3250380"
  },
  {
    "text": "that I can see HTTP and four or five",
    "start": "3250380",
    "end": "3255900"
  },
  {
    "text": "five five right so this could show me a different UI which is again just another",
    "start": "3255900",
    "end": "3262109"
  },
  {
    "text": "visual in front of a cluster this is the Manus the masternodes UI essentially",
    "start": "3262109",
    "end": "3267540"
  },
  {
    "text": "software that lets me see all the services that are running but let's talk about a couple more orchestration things",
    "start": "3267540",
    "end": "3273930"
  },
  {
    "text": "we talked about deploying with compose now we're talking about compose equivalence it's not composed but I",
    "start": "3273930",
    "end": "3280260"
  },
  {
    "text": "still can deploy one or more service with instructions we also have talked",
    "start": "3280260",
    "end": "3285359"
  },
  {
    "text": "about having you know command line instructions to see the health of the",
    "start": "3285359",
    "end": "3290369"
  },
  {
    "text": "cluster we also talked about scheduling slightly so what I want to do is talk about this conference demo again where I",
    "start": "3290369",
    "end": "3297059"
  },
  {
    "text": "have API and web but instead for now let's just show an example if I were to deploy a new container I can go in here",
    "start": "3297059",
    "end": "3304079"
  },
  {
    "text": "same idea I'm building my compose right now right I'm saying I want this",
    "start": "3304079",
    "end": "3309270"
  },
  {
    "text": "container image dust blonde and you know content API and that's going to go to my",
    "start": "3309270",
    "end": "3315500"
  },
  {
    "text": "my docker hub and find that content any it's it's an open public registry so",
    "start": "3315500",
    "end": "3322540"
  },
  {
    "text": "I don't have to put the instantly the security around that for a demo at least",
    "start": "3322540",
    "end": "3327610"
  },
  {
    "text": "so this will go under service ID and I'm gonna give this guy a name so let's go",
    "start": "3327610",
    "end": "3333820"
  },
  {
    "text": "down the process here - I don't think I",
    "start": "3333820",
    "end": "3339520"
  },
  {
    "text": "need to do that so go into environment environment variables I don't need any",
    "start": "3339520",
    "end": "3346600"
  },
  {
    "text": "but that's just another example of where health check very important so every service you build you will now add some",
    "start": "3346600",
    "end": "3352900"
  },
  {
    "text": "form of controller with a health check endpoint so that the cluster can know are you doing well or not and if you",
    "start": "3352900",
    "end": "3359080"
  },
  {
    "text": "don't return success then it will know it needs to maybe recycle you or you know take you out of the load balancer",
    "start": "3359080",
    "end": "3364720"
  },
  {
    "text": "so that will be an example of something that all of these will set set up right so I can go to HTTP I can select an",
    "start": "3364720",
    "end": "3372340"
  },
  {
    "text": "endpoint and call it you know whack speakers or something like that and then I can say you know how many",
    "start": "3372340",
    "end": "3382480"
  },
  {
    "text": "retries we want that kind of thing so every single one of these cluster orchestration platforms will give you",
    "start": "3382480",
    "end": "3388840"
  },
  {
    "text": "the same feature so we need that and again all the rest is is just building",
    "start": "3388840",
    "end": "3394300"
  },
  {
    "text": "your compose essentially yeah so this one I would call API - and I can just go",
    "start": "3394300",
    "end": "3399730"
  },
  {
    "text": "ahead and try to run that and it'll give me out of the gate an l4 load balancer inside the cluster so it's reachable by",
    "start": "3399730",
    "end": "3406450"
  },
  {
    "text": "other services on the cluster and can be scaled to one to five whoever however",
    "start": "3406450",
    "end": "3411790"
  },
  {
    "text": "many instances fit which is interesting in order to get publicly facing access I",
    "start": "3411790",
    "end": "3418540"
  },
  {
    "text": "need my add your load balancer to send you know a request into this cluster and if I don't have something sitting and",
    "start": "3418540",
    "end": "3424900"
  },
  {
    "text": "listening at port 80 then it's not going to work so what I usually would do is have an H a proxy of sorts so for",
    "start": "3424900",
    "end": "3431410"
  },
  {
    "text": "example we can go to the universe package and find marathon load balancer so marathon load balancer and if I say I",
    "start": "3431410",
    "end": "3440770"
  },
  {
    "text": "want to install that package let's try that again it says it's already",
    "start": "3440770",
    "end": "3446200"
  },
  {
    "text": "installed because it's the same name so I'll just give it another name here let's find it scrolling scrolling",
    "start": "3446200",
    "end": "3454720"
  },
  {
    "text": "here's my name lb - just for the sake of it and I'm gonna do an install so this",
    "start": "3454720",
    "end": "3460330"
  },
  {
    "text": "would install an H a proxy equivalent right it's based on H a proxy in my services and now we can see deployments",
    "start": "3460330",
    "end": "3467320"
  },
  {
    "text": "are happening the API looks like it's still trying to deploy and this guy looks like he's you know gonna try to",
    "start": "3467320",
    "end": "3473740"
  },
  {
    "text": "deploy and then in the meantime let's go look at actual services that are running that's scheduling it's waiting it's",
    "start": "3473740",
    "end": "3479800"
  },
  {
    "text": "looking for available resources it's looking to see if it can deploy or not and in the meantime I do have a working",
    "start": "3479800",
    "end": "3485650"
  },
  {
    "text": "example over here so I can hit my web and I can go and look at the configuration and we can see that it's",
    "start": "3485650",
    "end": "3492070"
  },
  {
    "text": "got that environment override for example to find my API at well for load",
    "start": "3492070",
    "end": "3500890"
  },
  {
    "text": "balancer by the name of API so it's all DNS it gives you that for free and I can",
    "start": "3500890",
    "end": "3505990"
  },
  {
    "text": "scale that as far as the front end goes I've mapped it to DNS so that I can have multiple things at port 80 so my a load",
    "start": "3505990",
    "end": "3513670"
  },
  {
    "text": "balancer sees this for was it along the H a proxy was told this maps to port 10,000 won and now all my services when",
    "start": "3513670",
    "end": "3521590"
  },
  {
    "text": "they enlist I have to tell that what's my service port and I pick two thousand one two three four etc so that's how",
    "start": "3521590",
    "end": "3527920"
  },
  {
    "text": "we're stitching up to be dynamically scalable within the front-end so just to",
    "start": "3527920",
    "end": "3536620"
  },
  {
    "text": "make sure that you understand that means there's an extra step not a bad thing to get my discovery working and then in in",
    "start": "3536620",
    "end": "3543250"
  },
  {
    "text": "kubernetes what you'll find is you don't have to do that because it stitches automatically over to Azure and grabs an",
    "start": "3543250",
    "end": "3550420"
  },
  {
    "text": "IP with DNS and so that's a beautiful thing so this is an extra step not a bad",
    "start": "3550420",
    "end": "3556060"
  },
  {
    "text": "thing a thing to know because we need discovery we need to be able to distribute these services across and",
    "start": "3556060",
    "end": "3561430"
  },
  {
    "text": "have them be found when we're load balanced now all that being said with",
    "start": "3561430",
    "end": "3566620"
  },
  {
    "text": "TCOs you know i can go through a lot of the same things I can check my health checks and and so on but what I'm going",
    "start": "3566620",
    "end": "3572230"
  },
  {
    "text": "to do is flip over to kubernetes to do the same so we'll take a look at kubernetes which again same",
    "start": "3572230",
    "end": "3579269"
  },
  {
    "text": "yeah I have management notes and I have agent no it's right only with aks I the",
    "start": "3579269",
    "end": "3585269"
  },
  {
    "text": "azure kubernetes service from Asher I don't have to look at the masters or the agents I will be able to access them so",
    "start": "3585269",
    "end": "3592949"
  },
  {
    "text": "I can log in I can use the azure CLI I can access the nose programmatically and",
    "start": "3592949",
    "end": "3597989"
  },
  {
    "text": "deploy and all the things but I don't have to manage the you know the patching",
    "start": "3597989",
    "end": "3604529"
  },
  {
    "text": "and the updates that'll all be done by Asher for me okay and so it's still a",
    "start": "3604529",
    "end": "3610349"
  },
  {
    "text": "kubernetes experience in terms of the management UI and i still have access to that UI but i get the benefit of not",
    "start": "3610349",
    "end": "3616919"
  },
  {
    "text": "having to do all the other hard work so let's take a look and so I'm gonna close",
    "start": "3616919",
    "end": "3622589"
  },
  {
    "text": "up my DCOs connection away we go and I'm",
    "start": "3622589",
    "end": "3627689"
  },
  {
    "text": "going to jump into aks so with that I will pop in on my connect",
    "start": "3627689",
    "end": "3636679"
  },
  {
    "text": "yeah that one and what this will do is get into my cluster so that I you know",
    "start": "3636679",
    "end": "3643889"
  },
  {
    "text": "launch the browser at the kubernetes UI and we'll just take a quick look at a couple of things there that are relevant",
    "start": "3643889",
    "end": "3649679"
  },
  {
    "text": "to the to the discussion here so again why do I want an orchestration platform",
    "start": "3649679",
    "end": "3655289"
  },
  {
    "text": "scheduling is one thing some of those things I just scheduled on DCOs we're gonna just not ever get deployed because",
    "start": "3655289",
    "end": "3661709"
  },
  {
    "text": "there weren't enough resources and but they'll keep retrying it's a beautiful thing until something comes available think containers that run as jobs that",
    "start": "3661709",
    "end": "3669929"
  },
  {
    "text": "just use available space and then go away and then everything else is fixed",
    "start": "3669929",
    "end": "3675569"
  },
  {
    "text": "like I need my api's and webs are always running but if they need to scale out then if there's room they will if I need",
    "start": "3675569",
    "end": "3682259"
  },
  {
    "text": "more nodes I add them and then they scale again but the other thing that we like is this idea if we go into let's",
    "start": "3682259",
    "end": "3689669"
  },
  {
    "text": "take the same example this demo and I have this web app so with web app sorry",
    "start": "3689669",
    "end": "3701009"
  },
  {
    "text": "what I want to do is actually go down to my services excuse me so services I have my web app and this one's at port 80 and",
    "start": "3701009",
    "end": "3708619"
  },
  {
    "text": "azure provided me the IP in order to get in to kubernetes and",
    "start": "3708619",
    "end": "3714420"
  },
  {
    "text": "then I could DNS that I haven't in this case but you could and then this is internally calling the load balancer",
    "start": "3714420",
    "end": "3721440"
  },
  {
    "text": "within kubernetes to find the API I didn't have to set anything up for that that just came for free you deploy",
    "start": "3721440",
    "end": "3727290"
  },
  {
    "text": "it you can scale it it's got its internal you know access if I take a",
    "start": "3727290",
    "end": "3733590"
  },
  {
    "text": "look it looks like it's working I'm getting to my speakers I'm getting to my sessions so let's go back to kubernetes and let's talk about minimums right so",
    "start": "3733590",
    "end": "3740910"
  },
  {
    "text": "this API if I say I want to kill an instance and I do that you know go back",
    "start": "3740910",
    "end": "3747750"
  },
  {
    "text": "over to services and actually let's go over to my deployments and it'll say how",
    "start": "3747750",
    "end": "3756810"
  },
  {
    "text": "many are running of two so it will restart if one of them goes away and it",
    "start": "3756810",
    "end": "3761940"
  },
  {
    "text": "needs a minimum - it'll actually you know go ahead and create that so I'm always going to have to by design so",
    "start": "3761940",
    "end": "3771240"
  },
  {
    "text": "that's like the self-healing concept right self-healing when there's failure to keep retrying try to run again and",
    "start": "3771240",
    "end": "3778710"
  },
  {
    "text": "then the idea of managing a minimum number of instances that are always",
    "start": "3778710",
    "end": "3783810"
  },
  {
    "text": "required if a node goes down and I lose one it's gonna go try to launch another one over here on another node in the",
    "start": "3783810",
    "end": "3790230"
  },
  {
    "text": "cluster to make sure I maintain that minimum okay so the whole idea of retries and restarts here's another",
    "start": "3790230",
    "end": "3797280"
  },
  {
    "text": "example if I head over to I have an example over here that has a dependency",
    "start": "3797280",
    "end": "3803400"
  },
  {
    "text": "on Redis for example so I'm gonna hit over to my example that has let me go to",
    "start": "3803400",
    "end": "3809220"
  },
  {
    "text": "my services and what we'll see oh it",
    "start": "3809220",
    "end": "3816600"
  },
  {
    "text": "didn't change excuse me let's go back to identity okay here we go",
    "start": "3816600",
    "end": "3822090"
  },
  {
    "text": "so here is Redis and what I want to do with Redis I'm gonna actually go to the deployments excuse me and what we're",
    "start": "3822090",
    "end": "3828390"
  },
  {
    "text": "gonna do is take a look at this guy and",
    "start": "3828390",
    "end": "3835910"
  },
  {
    "text": "quickly say I want to scale you down oh it's still at zero cool",
    "start": "3837230",
    "end": "3843910"
  },
  {
    "text": "so here's the beautiful thing about that when that's not working when that's not running and I go over to my services you",
    "start": "3843910",
    "end": "3852570"
  },
  {
    "text": "can see if I click on this guy that one of these is not happy the reason it's",
    "start": "3852570",
    "end": "3858820"
  },
  {
    "text": "not happy is because Redis is not running right now so it's expecting Redis and it's just going to keep trying",
    "start": "3858820",
    "end": "3864130"
  },
  {
    "text": "so it'll actually do a back off pull of trying to restart and then",
    "start": "3864130",
    "end": "3869440"
  },
  {
    "text": "eventually kind of give up for a while and take a longer period which is intelligent right but this guy still up",
    "start": "3869440",
    "end": "3875350"
  },
  {
    "text": "and running and healthy because I never restarted it so it hasn't learned that Redis is not there it's not hitting the",
    "start": "3875350",
    "end": "3880630"
  },
  {
    "text": "dependency okay so reason that's relevant is that if I want to fix that",
    "start": "3880630",
    "end": "3886180"
  },
  {
    "text": "so this is gonna retry to the end of time and then if I finally bring Redis back then everything should just work",
    "start": "3886180",
    "end": "3892240"
  },
  {
    "text": "right so there's a couple ways I can bring Redis back I can go in and scale it back to you know another number",
    "start": "3892240",
    "end": "3900070"
  },
  {
    "text": "actually and I would do that over here by the deployments right I can go grab Redis let me scroll to the next page and",
    "start": "3900070",
    "end": "3906100"
  },
  {
    "text": "we'll grab it and we'll say hey I want to scale this up so that we have an instance again and my other service will",
    "start": "3906100",
    "end": "3915990"
  },
  {
    "text": "eventually come back online right Oh insufficient CPU well nevermind so",
    "start": "3915990",
    "end": "3922480"
  },
  {
    "text": "that's a scheduling issue you see you're learning so much today it's awesome so the other way that I could fix that is I",
    "start": "3922480",
    "end": "3928720"
  },
  {
    "text": "can go over to my let's head back to",
    "start": "3928720",
    "end": "3934660"
  },
  {
    "text": "where I was all my services core and let's hit a chaos and what I'm gonna do",
    "start": "3934660",
    "end": "3942790"
  },
  {
    "text": "is if you take a look at how I could script deployment of a bunch of service",
    "start": "3942790",
    "end": "3948430"
  },
  {
    "text": "last little concept here I can say I want to update all the services and this",
    "start": "3948430",
    "end": "3955060"
  },
  {
    "text": "will deploy Redis and all these guys it's going to redeploy the same tasks I",
    "start": "3955060",
    "end": "3960340"
  },
  {
    "text": "defined for each of them because I haven't changed it but that will refresh the service so if I do an update all",
    "start": "3960340",
    "end": "3967720"
  },
  {
    "text": "this will start that deployment and of course it will need CPU to deploy all of those things if they weren't there",
    "start": "3967720",
    "end": "3974350"
  },
  {
    "text": "already but these are just an up on the existing services so that we'll do a rolling update to each and every",
    "start": "3974350",
    "end": "3979630"
  },
  {
    "text": "one of those and guess what I shouldn't care but the order because I should be defining my micro services not to care",
    "start": "3979630",
    "end": "3985720"
  },
  {
    "text": "and eventually all of them get up and running so if one depends on another and you know as long as I don't do silly",
    "start": "3985720",
    "end": "3991600"
  },
  {
    "text": "things like make my health checks depend on an actual API let them all heal on their own and then it just starts to",
    "start": "3991600",
    "end": "3998230"
  },
  {
    "text": "work if that makes sense so with that boy we talked about a lot of things I",
    "start": "3998230",
    "end": "4004620"
  },
  {
    "text": "think the most important message of all is that if you use docker and deploy containers it'll always work on your machine and hopefully everywhere else",
    "start": "4004620",
    "end": "4010380"
  },
  {
    "text": "including the places that I just showed you and we talked about you know different reasons that we need",
    "start": "4010380",
    "end": "4016680"
  },
  {
    "text": "orchestration the self-healing you know scheduling finding resources making the best use of resources load balancing",
    "start": "4016680",
    "end": "4024180"
  },
  {
    "text": "routing discovery but also that you have easy routes with things like pads and",
    "start": "4024180",
    "end": "4030120"
  },
  {
    "text": "app services and now we have the fully managed aks which makes that a more accessible thing as well so hope you",
    "start": "4030120",
    "end": "4035790"
  },
  {
    "text": "enjoyed that and I'll speak to you later have a good day",
    "start": "4035790",
    "end": "4041210"
  }
]