[
  {
    "text": "alright let's get started we're gonna talk about succeeding with salmon how",
    "start": "3529",
    "end": "9930"
  },
  {
    "text": "many of you are doing salmon actively that's quite a few I'm sorry I'm just",
    "start": "9930",
    "end": "17550"
  },
  {
    "text": "kidding I love salmon I've eating salmon for a long time probably since the beginning of the first release of salmon",
    "start": "17550",
    "end": "23869"
  },
  {
    "text": "but lately I've been looking more into alternatives and we have a big project",
    "start": "23869",
    "end": "29130"
  },
  {
    "text": "at work where we've done salmon for the last four years and we just recently decided to rewrite the entire rap in",
    "start": "29130",
    "end": "34379"
  },
  {
    "text": "native so I've got a lot of learnings over the years and I'll talk a little bit about those things that made us change into native programming instead",
    "start": "34379",
    "end": "41730"
  },
  {
    "text": "and some of the problems that we had early on that would probably have made our decision to go native not ever come",
    "start": "41730",
    "end": "48840"
  },
  {
    "text": "up so we would probably sticking with salmon if we'd follow some of the examples that I'm going to talk about here today but before we get into that",
    "start": "48840",
    "end": "55469"
  },
  {
    "text": "my name is Philip Ekberg I'm a Microsoft MVP it doesn't mean that I'm employed by Microsoft which you will probably tell",
    "start": "55469",
    "end": "61980"
  },
  {
    "text": "after this talk because I'm gonna talk a lot about interesting things in regards of salmon and some of the problems if",
    "start": "61980",
    "end": "68400"
  },
  {
    "text": "you have any questions please do ping me on Twitter or call out my name here and I'll try to answer anything that you",
    "start": "68400",
    "end": "74850"
  },
  {
    "text": "might ask all right so I like to look at this at the perspective all failing with salmon so one of the problems that I've",
    "start": "74850",
    "end": "81840"
  },
  {
    "text": "had lately is that there are so many different devices out there there's",
    "start": "81840",
    "end": "87030"
  },
  {
    "text": "really hard for us to build great apps for all the different platforms and this app that I'm working on currently we've",
    "start": "87030",
    "end": "93299"
  },
  {
    "text": "been developing this codebase for the last four years and one of the problems the main problem with the app is that",
    "start": "93299",
    "end": "98700"
  },
  {
    "text": "it's really hard for us to find people so finding people if we do that and we find the correct type of developers it",
    "start": "98700",
    "end": "106920"
  },
  {
    "text": "makes it a lot easier for us to build the apps but the problem is that we find c-sharp developers that know a little bit about the native platforms or we",
    "start": "106920",
    "end": "113729"
  },
  {
    "text": "find native developers that know nothing about C sharp and we kind of need to bring these two paradigms together and",
    "start": "113729",
    "end": "119549"
  },
  {
    "text": "build better applications so if we look past the people problem which is the",
    "start": "119549",
    "end": "125430"
  },
  {
    "text": "biggest problem then we've had other issues with salmon one of the problems is the tooling itself we've had I don't",
    "start": "125430",
    "end": "131940"
  },
  {
    "text": "know if you've experienced this but every release even if you're on the stable channel it feels like it's an",
    "start": "131940",
    "end": "136980"
  },
  {
    "text": "a version we get random crashes on the platforms especially Android and it feels like we were kind of in a public",
    "start": "136980",
    "end": "142769"
  },
  {
    "text": "beta beta testing scenario so I'm not trying to be discouraging here because I",
    "start": "142769",
    "end": "148349"
  },
  {
    "text": "think salmon is one of the best cross-platform toolkits out there but one of the first things that I get asked",
    "start": "148349",
    "end": "153540"
  },
  {
    "text": "by a lot of of developers that think about jumping on salmon is that do we really want to jump on this technology",
    "start": "153540",
    "end": "159810"
  },
  {
    "text": "what are some of the problems that you've experienced doing real-world projects and I've been doing green field",
    "start": "159810",
    "end": "165150"
  },
  {
    "text": "projects where we've been really successful with salmon and I've done this long project where we kind of",
    "start": "165150",
    "end": "170730"
  },
  {
    "text": "failed and we need to jump on something else so I'll talk a little bit about the problems that we've had but for that not",
    "start": "170730",
    "end": "178260"
  },
  {
    "text": "everyone in here is doing salmon so salmon is a great way for us to take some developers that know a little bit",
    "start": "178260",
    "end": "184290"
  },
  {
    "text": "of c-sharp teach them a little bit about the native API so they can build awesome applications that's the promise of",
    "start": "184290",
    "end": "190890"
  },
  {
    "text": "salmon that we can just build an app and it's available in every platform so all",
    "start": "190890",
    "end": "196590"
  },
  {
    "text": "that we need to do is just know a little bit of how Iowa's worked and how Android works and a little bit of of c-sharp and",
    "start": "196590",
    "end": "203040"
  },
  {
    "text": "we'll be successful at least that's the idea I don't know how many of you have have felt that it's it's that easy",
    "start": "203040",
    "end": "209970"
  },
  {
    "text": "it's probably becoming easier with things like salmon forums but you still need to learn a lot about the native",
    "start": "209970",
    "end": "215669"
  },
  {
    "text": "platforms before you can feel like you have a a first class application so how",
    "start": "215669",
    "end": "221370"
  },
  {
    "text": "do we build a successful app well obviously need to have a good IDE you need to build something good if you look",
    "start": "221370",
    "end": "226919"
  },
  {
    "text": "past that we need to share the right amount of code so one of the biggest problems with building things cross-platform is the the level of",
    "start": "226919",
    "end": "234060"
  },
  {
    "text": "amount the level of co-chairing how much code do we share among different platforms does it make sense to have",
    "start": "234060",
    "end": "239700"
  },
  {
    "text": "something in the shared layer that's not available on all the platforms if it's not then why do we build something",
    "start": "239700",
    "end": "246419"
  },
  {
    "text": "cross-platform to start with so that's one of the things you think about when when choosing a toolkit or when using",
    "start": "246419",
    "end": "252629"
  },
  {
    "text": "salmon and of course we're gonna minimize the app size one of the most",
    "start": "252629",
    "end": "257669"
  },
  {
    "text": "common complaints that we get with the app is that it's maybe it's 50 megabytes and now that we built it in native it's",
    "start": "257669",
    "end": "263669"
  },
  {
    "text": "2 so that's kind of a big problem I'm not blaming salmon for all of that",
    "start": "263669",
    "end": "269400"
  },
  {
    "text": "mainly we are you a lot of nougat packages so one of the things that dotnet developers love to do is to just bring in a package that solve",
    "start": "269400",
    "end": "275940"
  },
  {
    "text": "all our problems but on Android again what happens is that it needs to bundle",
    "start": "275940",
    "end": "280949"
  },
  {
    "text": "everything with the application which means that the application itself grows a lot you can't really sweep everything",
    "start": "280949",
    "end": "286949"
  },
  {
    "text": "out from from those packages so every thought every time you link a library your application is going to grow a lot",
    "start": "286949",
    "end": "292500"
  },
  {
    "text": "and especially with things like dotnet standard where it brings in the entire dotnet framework in small little pieces",
    "start": "292500",
    "end": "298380"
  },
  {
    "text": "that con tends to make the application quite large so I'll talk a little bit about how we can avoid that and how we",
    "start": "298380",
    "end": "304530"
  },
  {
    "text": "can make our applications a little bit smaller and then we want to optimize the",
    "start": "304530",
    "end": "309570"
  },
  {
    "text": "applications for speed and I'm not only talking about the application selfing performance because it's a native application right so when we build",
    "start": "309570",
    "end": "315720"
  },
  {
    "text": "something in Sam rain we know that we have a native application talking about the startup times of an application so",
    "start": "315720",
    "end": "322169"
  },
  {
    "text": "simon has been doing a lot of work on startup performance on iOS the applications start up really quickly",
    "start": "322169",
    "end": "328770"
  },
  {
    "text": "even if it's salmon forms on android doesn't really start that quickly so we've seen older Android phones that",
    "start": "328770",
    "end": "336600"
  },
  {
    "text": "start our app in maybe 15 seconds where iOS takes maybe half a second so they",
    "start": "336600",
    "end": "342150"
  },
  {
    "text": "have a lot of work to do especially when it comes to salmon forms but there are aware of all these different problems",
    "start": "342150",
    "end": "347970"
  },
  {
    "text": "and we can just wait for them to fix it and focus on things that we can fix in",
    "start": "347970",
    "end": "353760"
  },
  {
    "text": "our code so I think most of you've seen this image before this is the kind of",
    "start": "353760",
    "end": "358830"
  },
  {
    "text": "the idea of salmon that we can share a lot of code in our shared application",
    "start": "358830",
    "end": "363840"
  },
  {
    "text": "logic layer so if we focus on sharing the right amount of code the idea is",
    "start": "363840",
    "end": "369270"
  },
  {
    "text": "that we have this pretty small native layer that just allows us to build and bundle the application that runs in the",
    "start": "369270",
    "end": "374789"
  },
  {
    "text": "platforms and then we have a lot of shared code that kind of solves all the same problems across the different platforms in reality what I've seen",
    "start": "374789",
    "end": "382889"
  },
  {
    "text": "happening is that we kind of end up in this scenario here where one of the",
    "start": "382889",
    "end": "388800"
  },
  {
    "text": "platforms tend to be a little bit larger and we build things and for instance the iOS project so a funny story here is",
    "start": "388800",
    "end": "395460"
  },
  {
    "text": "that my my product owner uses on an iOS device which means that everyone needs",
    "start": "395460",
    "end": "400500"
  },
  {
    "text": "to focus on iOS I usually joke about that one day he's gonna watch one of my talks and I'm",
    "start": "400500",
    "end": "407120"
  },
  {
    "text": "gonna be out of a job so what happens in most cases is that we have one of the platforms that kind of",
    "start": "407120",
    "end": "413480"
  },
  {
    "text": "grow a little bit more than the other so we add things for instance to Android to work with NFC or we add things to to",
    "start": "413480",
    "end": "420800"
  },
  {
    "text": "iowa's to do things like with Siri which is not available on Android similar things are available on both of the",
    "start": "420800",
    "end": "427040"
  },
  {
    "text": "different platforms but doesn't make sense to put that into the shared application logic player well a lot of",
    "start": "427040",
    "end": "433910"
  },
  {
    "text": "people would probably say that it is but you end up in a situation where you have all these different abstractions where",
    "start": "433910",
    "end": "439460"
  },
  {
    "text": "it doesn't really make any sense and we have to think about that when we're writing code that runs on these",
    "start": "439460",
    "end": "444530"
  },
  {
    "text": "different platforms a lot of people have older phones and we need to think about all these CPU cycles that need to run",
    "start": "444530",
    "end": "450530"
  },
  {
    "text": "through our code so to avoid this we need to know about and understand why",
    "start": "450530",
    "end": "456350"
  },
  {
    "text": "it's so hard for us to to do code sharing why is it so hard difficult for us to do the right amount of code",
    "start": "456350",
    "end": "461450"
  },
  {
    "text": "sharing across the different platforms we know that we want to build an app and we want to build this app you since",
    "start": "461450",
    "end": "466550"
  },
  {
    "text": "Ameren because there's no other alternative out there that's good enough we can look at things like react and",
    "start": "466550",
    "end": "472160"
  },
  {
    "text": "PhoneGap and other other cross-platform toolkits but the problem is that they're not as close to the native platforms as",
    "start": "472160",
    "end": "478580"
  },
  {
    "text": "salmon so salmon is one of the the platforms that our tool kits that are bringing you closer to the platform so",
    "start": "478580",
    "end": "485240"
  },
  {
    "text": "you have your true to the API so if you know Android development you'll find yourself familiar with everything you",
    "start": "485240",
    "end": "491480"
  },
  {
    "text": "just need to know a little bit of c-sharp all right same goes for iOS so",
    "start": "491480",
    "end": "496670"
  },
  {
    "text": "the reason that it's so hard for us to share code across the different platforms is mainly because we have all",
    "start": "496670",
    "end": "501770"
  },
  {
    "text": "these different permutations of devices now everything from these large surface",
    "start": "501770",
    "end": "506840"
  },
  {
    "text": "hubs to hololens to the watches to tablets to refrigerators and and whatnot",
    "start": "506840",
    "end": "513140"
  },
  {
    "text": "right and even the the latest Samsung TVs now using salmon forms as the or",
    "start": "513140",
    "end": "519469"
  },
  {
    "text": "salmon as the go-to framework to build apps for the Tizen TV which i think is",
    "start": "519470",
    "end": "525800"
  },
  {
    "text": "pretty cool but that means that we need to think about all the different things that we want to share across these",
    "start": "525800",
    "end": "531500"
  },
  {
    "text": "different platforms if we have an application that needs to run on a watch",
    "start": "531500",
    "end": "537080"
  },
  {
    "text": "as well as on a phone do we really need to share all the same amount of code so the app that I'm working on is for",
    "start": "537080",
    "end": "542840"
  },
  {
    "text": "public transport the same map that I worked on last time I was here and talked about xamarin one of the issues",
    "start": "542840",
    "end": "549920"
  },
  {
    "text": "with this app is that we have a lot of people running different devices we have",
    "start": "549920",
    "end": "554990"
  },
  {
    "text": "small phones old phones and since it's public transport we can't really say that well you need to run Android 6 or",
    "start": "554990",
    "end": "561350"
  },
  {
    "text": "later otherwise we're not going to support your your platform it doesn't really work like that but then again we",
    "start": "561350",
    "end": "567140"
  },
  {
    "text": "want to be we want to innovate and we want to build things that are are fun and that helps people to to commute to",
    "start": "567140",
    "end": "572780"
  },
  {
    "text": "work so we might want to build something for the iWatch or for for other types of wearables it doesn't really make sense",
    "start": "572780",
    "end": "580040"
  },
  {
    "text": "to maybe bring that into the to the standard projects or to share any code at all for those projects right so some",
    "start": "580040",
    "end": "587000"
  },
  {
    "text": "cases it makes sense to not share any code but we try to bring things out into",
    "start": "587000",
    "end": "592100"
  },
  {
    "text": "new get packages and share as much as we can but we have to think about when it makes sense and when it's not so you",
    "start": "592100",
    "end": "600410"
  },
  {
    "text": "kind of feel confused right because we want to share code across different platforms and we want to build applications that are quicker to build",
    "start": "600410",
    "end": "606080"
  },
  {
    "text": "because that's kind of the reason why we choose xamarin because we want to build a application quickly we don't want to",
    "start": "606080",
    "end": "612350"
  },
  {
    "text": "build an applications that's slower than if we built it using Java Coughlin's or Swift or objective-c we",
    "start": "612350",
    "end": "618590"
  },
  {
    "text": "don't want to kind of build the application with any limitations so what",
    "start": "618590",
    "end": "625010"
  },
  {
    "text": "we do is that in order for us to kind of reach a good amount of code sharing is to think about how we can abstract",
    "start": "625010",
    "end": "631250"
  },
  {
    "text": "things in our applications where it makes sense so we want to introduce patterns and practices to make it easier",
    "start": "631250",
    "end": "637010"
  },
  {
    "text": "for us to introduce things in our code base to make it easier for us to introduce new systems if we need to so",
    "start": "637010",
    "end": "645530"
  },
  {
    "text": "it's funny because I always have windows as well in my examples but is anyone in here building Windows apps one you're",
    "start": "645530",
    "end": "653450"
  },
  {
    "text": "scared of raising your hand sorry not a lot of people do build Windows apps I would love to build uwp apps but not a",
    "start": "653450",
    "end": "659180"
  },
  {
    "text": "lot of people do so that's kind of you know one of the first things would stammering when I started out was that",
    "start": "659180",
    "end": "664970"
  },
  {
    "text": "the promise of you can just add any platform and one of the first things that the product owner asked me is",
    "start": "664970",
    "end": "670960"
  },
  {
    "text": "well we've built the app with Sam rain we built it for iOS and Android now we want to add Windows Phone I tell them",
    "start": "670960",
    "end": "677560"
  },
  {
    "text": "well if you didn't build everything in the native layers using Sam rain it would have been very easy for us to just",
    "start": "677560",
    "end": "683710"
  },
  {
    "text": "introduce a new platform but fundamentally we had kind of an incorrect architecture so we had a lot",
    "start": "683710",
    "end": "689589"
  },
  {
    "text": "of code like this here inside our native layers and just share code for things like service interactions and talking to",
    "start": "689589",
    "end": "696250"
  },
  {
    "text": "the back end and maybe models and view models which means that introducing a new platform is really hard right so in",
    "start": "696250",
    "end": "704140"
  },
  {
    "text": "this case here we're kind of not sharing the right amount of code and you can see here that kind of the box is bleeding to",
    "start": "704140",
    "end": "709300"
  },
  {
    "text": "the shared code layers and what I mean about by this illustration here is that sometimes you see that you use these",
    "start": "709300",
    "end": "715180"
  },
  {
    "text": "shared projects in with salmon is this idea of doing kind of file linking during compile time so it brings in the",
    "start": "715180",
    "end": "721630"
  },
  {
    "text": "files into the project that it compiles so it compiles as a part of for instance the Android or iOS project that means",
    "start": "721630",
    "end": "728440"
  },
  {
    "text": "that it can access things on the native platforms like the the GPS or or or",
    "start": "728440",
    "end": "733510"
  },
  {
    "text": "other things without having any references to that inside the shared project now what I see a lot of",
    "start": "733510",
    "end": "739180"
  },
  {
    "text": "developers doing is to have compiler directives in here so they say well if this little code snippet runs on Android",
    "start": "739180",
    "end": "745480"
  },
  {
    "text": "we run this thing here or if it's on iOS we kind of do another thing so that's kind of what it bleeds into the shared",
    "start": "745480",
    "end": "751690"
  },
  {
    "text": "code and we when you try to write platform specific code in your share layers that's kind of the the wrong way",
    "start": "751690",
    "end": "758140"
  },
  {
    "text": "of looking at it so what I try to do and I think most developers through the years have tried",
    "start": "758140",
    "end": "764709"
  },
  {
    "text": "to do it do this is to just add more layers in our application we just add some some things like we'll start let's",
    "start": "764709",
    "end": "771400"
  },
  {
    "text": "start at the bottom we had a dotnet standard library we now have support for for dotnet standard libraries and dotnet core and",
    "start": "771400",
    "end": "777670"
  },
  {
    "text": "Samer in the support is it's pretty good they're working on it so that's where I",
    "start": "777670",
    "end": "783070"
  },
  {
    "text": "would put my services and interfaces and abstract classes and then on top of that we can add a shared layer that",
    "start": "783070",
    "end": "789250"
  },
  {
    "text": "implements common things so if the implementation is similar on iOS and Android how about we just build that",
    "start": "789250",
    "end": "795339"
  },
  {
    "text": "implementation once but the reason that we're not putting that in the dot and standard libraries because that could be",
    "start": "795339",
    "end": "800440"
  },
  {
    "text": "consumed by things like the web back end or other types of platforms and then I want",
    "start": "800440",
    "end": "807540"
  },
  {
    "text": "to challenge the idea of having a shared UI so sometimes we want to say in a little bit more abstract manner to say",
    "start": "807540",
    "end": "814140"
  },
  {
    "text": "well this is my UI I'll just let the the platform decide what this looks like",
    "start": "814140",
    "end": "819350"
  },
  {
    "text": "so of course I'm talking about salmon forums and that allows us to specify our",
    "start": "819350",
    "end": "824460"
  },
  {
    "text": "UI using sam'l to say well I want to layout that allows me to position something in the center of the screen",
    "start": "824460",
    "end": "830400"
  },
  {
    "text": "and that'll just render properly under native platforms we did an experiment",
    "start": "830400",
    "end": "835740"
  },
  {
    "text": "with that in the app that we were we built which kind of was a mistake as well funny story so what we did was that",
    "start": "835740",
    "end": "843390"
  },
  {
    "text": "over these four years we've changed a lot of developers because it's really hard to find good people right but we",
    "start": "843390",
    "end": "849330"
  },
  {
    "text": "still failed with the application and I'm the only one that's the same that starting with the app so I think the",
    "start": "849330",
    "end": "855240"
  },
  {
    "text": "problem might not be the people that we changed just kidding so and then of",
    "start": "855240",
    "end": "862260"
  },
  {
    "text": "course on top of that we have the native layers which could be things that are very native and very specific to that",
    "start": "862260",
    "end": "867600"
  },
  {
    "text": "particular platform so we have things like NFC were now works on both iOS and",
    "start": "867600",
    "end": "873930"
  },
  {
    "text": "Android that just released the they opened up rather to use the NFC chip online with more than they had before so",
    "start": "873930",
    "end": "880350"
  },
  {
    "text": "now we might want to do that in the native layer or we bring that down Institute the shared and common implementation if implementation is",
    "start": "880350",
    "end": "886560"
  },
  {
    "text": "similar enough okay but I'm not saying that more layers is necessarily better because a lot of people especially if we",
    "start": "886560",
    "end": "894000"
  },
  {
    "text": "try to work with like micro services and and that kind of thought I see a lot of",
    "start": "894000",
    "end": "899670"
  },
  {
    "text": "people just add add more layers and you know we have services and repositories and factories and there's so many layers",
    "start": "899670",
    "end": "907260"
  },
  {
    "text": "we don't need that so we want to just limit the amount of code that we have but still build something that's",
    "start": "907260",
    "end": "913260"
  },
  {
    "text": "flexible enough for us to be able to add more platforms and extend the app that we have all right so we can do that by",
    "start": "913260",
    "end": "919830"
  },
  {
    "text": "introducing a few patterns now of course we can just the same with layers right we can just throw patterns at the",
    "start": "919830",
    "end": "925620"
  },
  {
    "text": "problem and think about how does this solve our current use case but some of",
    "start": "925620",
    "end": "930930"
  },
  {
    "text": "these patterns that I'm going to talk about they're they're good enough",
    "start": "930930",
    "end": "936250"
  },
  {
    "text": "with the limitations that we have on the only platforms so if you've done native Android and native iOS you know for",
    "start": "936250",
    "end": "941920"
  },
  {
    "text": "instance that there's no inversion of control not real inversion of control that is so you can't do constructor",
    "start": "941920",
    "end": "948160"
  },
  {
    "text": "injection on Android and you can't do it on iOS because the platform's",
    "start": "948160",
    "end": "953860"
  },
  {
    "text": "fundamentally work differently than you would for instance a with a web application where you could do constructor injection because the",
    "start": "953860",
    "end": "959650"
  },
  {
    "text": "runtime supports it so why do we want to do this kind of obvious because we want",
    "start": "959650",
    "end": "965260"
  },
  {
    "text": "to make our code easier to work with and also we want to make it more testable so",
    "start": "965260",
    "end": "970540"
  },
  {
    "text": "one of the problems that we've had as well is that we want to write tests we want to have good code coverage but I",
    "start": "970540",
    "end": "975940"
  },
  {
    "text": "don't think there's a single unit test in our application again I don't think that's why we failed but we have",
    "start": "975940",
    "end": "981100"
  },
  {
    "text": "fundamentally the wrong architecture which means that we built everything inside the native layers so just avoid that there's one thing that you can take",
    "start": "981100",
    "end": "988300"
  },
  {
    "text": "away from this talk is it's to avoid adding too many things into your native layers try to think more about the",
    "start": "988300",
    "end": "994510"
  },
  {
    "text": "patterns and practices and layers that you can add to avoid adding too much code that's repeated across the",
    "start": "994510",
    "end": "1000330"
  },
  {
    "text": "different platforms just an example now this is not the best example but we have",
    "start": "1000330",
    "end": "1005940"
  },
  {
    "text": "this activity here on Android and we're the thing in the in the in the middle",
    "start": "1005940",
    "end": "1011130"
  },
  {
    "text": "here that's kind of saying well if the user is logged in I want to transition",
    "start": "1011130",
    "end": "1016350"
  },
  {
    "text": "to somewhere and often what happens is that this here would be silly to break",
    "start": "1016350",
    "end": "1021480"
  },
  {
    "text": "this out into common code and have the same kind of code for the different platforms because that would add even more code to solve the this little",
    "start": "1021480",
    "end": "1028319"
  },
  {
    "text": "problem but what happens in a lot of cases is that well this block here grows",
    "start": "1028320",
    "end": "1033810"
  },
  {
    "text": "a lot and you want to log to the database if the user is not logged in and you might want to track that using",
    "start": "1033810",
    "end": "1039510"
  },
  {
    "text": "Google Analytics and you might want to do a lot of more things if the user is not logged in so what happens is that",
    "start": "1039510",
    "end": "1045750"
  },
  {
    "text": "you you probably have the same ID number with iOS and Android so how about we can break that out we decouple this from the",
    "start": "1045750",
    "end": "1052260"
  },
  {
    "text": "app from this activity here to make it easier for us to work with right so you",
    "start": "1052260",
    "end": "1058770"
  },
  {
    "text": "can't really test this here which is a good way of thinking about things let's how do we test this without running the",
    "start": "1058770",
    "end": "1065220"
  },
  {
    "text": "application right so we want to de couple this which means that we want to break that little thing out or to add",
    "start": "1065220",
    "end": "1072030"
  },
  {
    "text": "more code to solve the same thing but in the long run we want to make it easier for us to introduce new functionality",
    "start": "1072030",
    "end": "1077900"
  },
  {
    "text": "right so this is an idea we can add a view model which is kind of something",
    "start": "1077900",
    "end": "1083520"
  },
  {
    "text": "that we've seen if we don't in Semmering forms and it's one of the patterns that they try to to do on the native",
    "start": "1083520",
    "end": "1089700"
  },
  {
    "text": "platforms now as well if you've done cuddling with Android it's a very common patterns as well to do mvvm so the idea",
    "start": "1089700",
    "end": "1097470"
  },
  {
    "text": "with mvvm and view models is that we kind of we write our logic in an",
    "start": "1097470",
    "end": "1102510"
  },
  {
    "text": "abstract manner so we get some settings thing here that can check if we were logged in but we don't know about the",
    "start": "1102510",
    "end": "1108600"
  },
  {
    "text": "implementation so someone else injects the implementation into this view model that allows us to still check if we're",
    "start": "1108600",
    "end": "1114480"
  },
  {
    "text": "logged in and then of course we could fire an event if you want to navigate somewhere and in the native platform could listen for that event so it's",
    "start": "1114480",
    "end": "1122549"
  },
  {
    "text": "pretty simple it's a lot of code to solve the same problem but as I said in a lot of cases what happens is that it's",
    "start": "1122549",
    "end": "1128580"
  },
  {
    "text": "gross out of proportion and again in the app that we just built we had the idea",
    "start": "1128580",
    "end": "1135809"
  },
  {
    "text": "of splitting everything into view models and we had this guy that wanted to do proper mvvm using salmon forums and view",
    "start": "1135809",
    "end": "1142020"
  },
  {
    "text": "models and we finished one of the things that he built we had like a view model that was like five six hundred lines of code well like",
    "start": "1142020",
    "end": "1148950"
  },
  {
    "text": "that's not better than having two hundred code two and lines of code in each project so don't overdo it right so",
    "start": "1148950",
    "end": "1155760"
  },
  {
    "text": "put the right amount of code into your share code you can still write bad code if you're doing it here right so but in",
    "start": "1155760",
    "end": "1164340"
  },
  {
    "text": "this case here how do we do something platform-specific like I want to do NFC for instance or I want to I want to talk",
    "start": "1164340",
    "end": "1172530"
  },
  {
    "text": "to the GPS well because it we share it we could still write shared code that's",
    "start": "1172530",
    "end": "1177630"
  },
  {
    "text": "a little bit specific you saw that we can inject interfaces if it's available on that particular platform I've got an",
    "start": "1177630",
    "end": "1183900"
  },
  {
    "text": "example of one of the things that we're doing in the app were that we did before so in this case here we get an HTTP",
    "start": "1183900",
    "end": "1190860"
  },
  {
    "text": "response message and a problem with with Android is that if you're receiving",
    "start": "1190860",
    "end": "1196380"
  },
  {
    "text": "gzipped or deflated data over the web the built in HTTP client with salmon doesn't support decompressing that out",
    "start": "1196380",
    "end": "1203520"
  },
  {
    "text": "of the box which is kind of this fundamental thing that every HTTP client should support",
    "start": "1203520",
    "end": "1209640"
  },
  {
    "text": "so just for Android we need to manually decompress the data so this is a shared layer where we say well when this is",
    "start": "1209640",
    "end": "1216150"
  },
  {
    "text": "compiled for Android I want to decompress this manually now",
    "start": "1216150",
    "end": "1222330"
  },
  {
    "text": "again what happens in a lot of cases is that this grows as well so you want to add a little bit more to Android or you",
    "start": "1222330",
    "end": "1228510"
  },
  {
    "text": "want to add a little bit more to the other platforms and you end up having plot for a specific coding or share",
    "start": "1228510",
    "end": "1233520"
  },
  {
    "text": "layers so this is sometimes a good idea but a better idea would have been to",
    "start": "1233520",
    "end": "1239370"
  },
  {
    "text": "inject like a decompressor interface and have that implementation be in the native platforms but as I mentioned one",
    "start": "1239370",
    "end": "1247320"
  },
  {
    "text": "of the great ways to learn is to fail right so this is a good way to shoot",
    "start": "1247320",
    "end": "1252870"
  },
  {
    "text": "yourself in the foot in the long run so try to avoid that all right so one of",
    "start": "1252870",
    "end": "1258090"
  },
  {
    "text": "the other patterns that I want to talk about and I did mention that we can do dependency injection or inversion of",
    "start": "1258090",
    "end": "1263820"
  },
  {
    "text": "control and we can kind of achieve this",
    "start": "1263820",
    "end": "1269090"
  },
  {
    "text": "for certain things like our own services or or our caches or whatever or view",
    "start": "1269090",
    "end": "1274320"
  },
  {
    "text": "models but we can't do constructor injection on things like activities and the native components but for everything",
    "start": "1274320",
    "end": "1282360"
  },
  {
    "text": "else we can use an ioc container like tiny ioc to allow us to specify interfaces and register types and and so",
    "start": "1282360",
    "end": "1290190"
  },
  {
    "text": "forth and then what we can do is that we can introduce it another pattern which is called a service locator pattern this",
    "start": "1290190",
    "end": "1296460"
  },
  {
    "text": "is kind of an anti-pattern it makes the code really hard to test because what we",
    "start": "1296460",
    "end": "1301620"
  },
  {
    "text": "do here is that we say well I have this I have a static interface of my service locator which allows me to for instance",
    "start": "1301620",
    "end": "1307530"
  },
  {
    "text": "grab this account service which results that using the ioc container which would",
    "start": "1307530",
    "end": "1312570"
  },
  {
    "text": "then resolve everything for that constructor and if the parameters for the constructor have dependencies other",
    "start": "1312570",
    "end": "1318360"
  },
  {
    "text": "things it would resolve that and so forth let's just have a look at what that looks like",
    "start": "1318360",
    "end": "1324740"
  },
  {
    "text": "so in my solution what we have here is an application it's just I follow new",
    "start": "1326200",
    "end": "1332379"
  },
  {
    "text": "project pretty much and we get this application thing it's a partial class",
    "start": "1332379",
    "end": "1337859"
  },
  {
    "text": "and in the initialization of this here we can see that it's registering things",
    "start": "1337859",
    "end": "1343059"
  },
  {
    "text": "with the service locator the service locator allows us to reduce their implementations it allows us to register",
    "start": "1343059",
    "end": "1348759"
  },
  {
    "text": "instances and we can see or that evening here we this is an out-of-the-box and",
    "start": "1348759",
    "end": "1354940"
  },
  {
    "text": "one example and they're doing things incorrectly what they're doing is that",
    "start": "1354940",
    "end": "1360190"
  },
  {
    "text": "they're using compiler directives to say that well if it's iOS I won't use the Iowas message dialog if it's Android I",
    "start": "1360190",
    "end": "1365859"
  },
  {
    "text": "want to register this as the Droid message dialog actually what they're saying is that for every other platform they're gonna use to Android message",
    "start": "1365859",
    "end": "1372909"
  },
  {
    "text": "dialog which means that if we reference this project using uwp this would break which is not really good right that",
    "start": "1372909",
    "end": "1379239"
  },
  {
    "text": "makes it really hard for us to to share a lot of code what I would rather do is that I would take these lines of code",
    "start": "1379239",
    "end": "1385119"
  },
  {
    "text": "here and I would move them into the native layers it's okay to do things on",
    "start": "1385119",
    "end": "1393220"
  },
  {
    "text": "other places well so we could register that for instance inside our main application and now for for Android it",
    "start": "1393220",
    "end": "1398859"
  },
  {
    "text": "registers that message dialog properly that's a better way to do it in my",
    "start": "1398859",
    "end": "1404799"
  },
  {
    "text": "opinion now what happens here is that it's registering these things using a",
    "start": "1404799",
    "end": "1410049"
  },
  {
    "text": "single ton which lives for the entire lifecycle off the application and I can grab that instance off anything like the",
    "start": "1410049",
    "end": "1417340"
  },
  {
    "text": "count service we can see that for instance in the splash connectivity what",
    "start": "1417340",
    "end": "1423669"
  },
  {
    "text": "I'm doing here is that I'm saying well I want to get the service which sees the I account service and then I can save some",
    "start": "1423669",
    "end": "1428710"
  },
  {
    "text": "account into into that now again how do you test this line of code here it makes",
    "start": "1428710",
    "end": "1434919"
  },
  {
    "text": "it really hard for us to write a test here right because we're writing coding here that's depending on things outside",
    "start": "1434919",
    "end": "1440649"
  },
  {
    "text": "of its own box which makes it really hard for us to test it so we're kind of back at square one but the native",
    "start": "1440649",
    "end": "1446889"
  },
  {
    "text": "platforms don't support constructor injection which means that this is the best that we're gonna get unfortunately",
    "start": "1446889",
    "end": "1454230"
  },
  {
    "text": "and of course we we can save something in here for for the service locator and then I can grab",
    "start": "1454230",
    "end": "1461500"
  },
  {
    "text": "same same thing the can run the app I",
    "start": "1461500",
    "end": "1466830"
  },
  {
    "text": "want to share what it looks like and for",
    "start": "1466830",
    "end": "1473350"
  },
  {
    "text": "the login activity we'll see here that it's going to grab that same account service and then load the demo account and show that in our application so",
    "start": "1473350",
    "end": "1480100"
  },
  {
    "text": "we'll see that starting up here shortly",
    "start": "1480100",
    "end": "1484169"
  },
  {
    "text": "hopefully so that's one of the other",
    "start": "1487560",
    "end": "1492910"
  },
  {
    "text": "problems with Sam rain takes forever to build the apps this is just a file new",
    "start": "1492910",
    "end": "1499180"
  },
  {
    "text": "project I don't think I have anything in particular set up so you can see here that says sign in as Phillip so these",
    "start": "1499180",
    "end": "1505300"
  },
  {
    "text": "flash cream use the service locator which resolves something in the IOC container which could have lived in a",
    "start": "1505300",
    "end": "1511000"
  },
  {
    "text": "view model and so forth right so the next step would of course be to go into the splash activity and try to break",
    "start": "1511000",
    "end": "1517570"
  },
  {
    "text": "this out into somewhere else that's common for both iOS and Android because now this code only lives on Android and",
    "start": "1517570",
    "end": "1523360"
  },
  {
    "text": "it's not the same on iOS which is kind of one of the problems right so that's",
    "start": "1523360",
    "end": "1528910"
  },
  {
    "text": "one of the the issues we had when we built the app it's that we try to build an application that's graphically",
    "start": "1528910",
    "end": "1536380"
  },
  {
    "text": "awesome at least four years ago I wouldn't say that it's awesome anymore but the idea",
    "start": "1536380",
    "end": "1541630"
  },
  {
    "text": "was that it's so heavy on the graphics that it's really hard for us to build something that's shared for iOS and Android",
    "start": "1541630",
    "end": "1546970"
  },
  {
    "text": "so what happened was that we built this application we have these native layers and we built all the code inside in two",
    "start": "1546970",
    "end": "1553540"
  },
  {
    "text": "places a bruisin salmon because we can share a little bit of the code but that means that if there's a new screen in",
    "start": "1553540",
    "end": "1559090"
  },
  {
    "text": "the app we have to build the same thing twice I'm just happy we didn't introduce",
    "start": "1559090",
    "end": "1564970"
  },
  {
    "text": "Windows Phone because that would have made a lot of work actually it would be good probably been employed for the next",
    "start": "1564970",
    "end": "1571030"
  },
  {
    "text": "ten years so the service locator is a great pattern as I mentioned it is this",
    "start": "1571030",
    "end": "1577960"
  },
  {
    "text": "is an anti-pattern which pretty much means that after a while you're gonna feel like well this is not really good",
    "start": "1577960",
    "end": "1583810"
  },
  {
    "text": "because now we have a lot of spaghetti code and no one wants to have that so if",
    "start": "1583810",
    "end": "1590530"
  },
  {
    "text": "we think past the idea of well we can try to move things into our view models and we",
    "start": "1590530",
    "end": "1595929"
  },
  {
    "text": "can move things from our activities and just bootstrap small things in the activities or in the view controllers",
    "start": "1595929",
    "end": "1601720"
  },
  {
    "text": "and maybe we can think about adding something like salmon forums so I",
    "start": "1601720",
    "end": "1607630"
  },
  {
    "text": "mentioned that we try to do this because we got tired of just reimplemented all the UI for each platform even if we used",
    "start": "1607630",
    "end": "1613990"
  },
  {
    "text": "salmon salmon right so we wanted to for smaller things that we didn't really care too much about we wanted to",
    "start": "1613990",
    "end": "1620110"
  },
  {
    "text": "introduce Ameren forums because what happened was that we can specify the UI once and it's just replicated across",
    "start": "1620110",
    "end": "1626530"
  },
  {
    "text": "different platforms so we did that you see even before salmon introduced",
    "start": "1626530",
    "end": "1633190"
  },
  {
    "text": "support for it which is kind of living on the edge because when they do release things it's not necessarily stable so",
    "start": "1633190",
    "end": "1639760"
  },
  {
    "text": "jumping on something before they even release it well it's kind of interesting so what happened in our case was that",
    "start": "1639760",
    "end": "1645220"
  },
  {
    "text": "well we can try to move a lot of share code into the shared layer we add this",
    "start": "1645220",
    "end": "1650919"
  },
  {
    "text": "salmon forms layer and we try to stay true to well we don't want anything to",
    "start": "1650919",
    "end": "1656020"
  },
  {
    "text": "leak beneath this here so we have shared code that allows us to do things like common implementations and and services",
    "start": "1656020",
    "end": "1663160"
  },
  {
    "text": "and interfaces and then we have salmon forms for common UI and we have view models in there and run MVM and then we",
    "start": "1663160",
    "end": "1670570"
  },
  {
    "text": "just have this small little layer on top here now that's a great idea if this",
    "start": "1670570",
    "end": "1675730"
  },
  {
    "text": "works it did work for for certain platforms or certain phones I should say",
    "start": "1675730",
    "end": "1682350"
  },
  {
    "text": "what happens was that when you start salmon forms and iowa's nothing can",
    "start": "1682350",
    "end": "1688090"
  },
  {
    "text": "really be interpreted in runtime on iowa's everything needs to be compile time be ready at compile time",
    "start": "1688090",
    "end": "1693940"
  },
  {
    "text": "so everything with salmon forms is compiled into a native application of iowa's but what happens on Android is",
    "start": "1693940",
    "end": "1700000"
  },
  {
    "text": "that they don't do that so a lot of the things with salmon forums and in salmon in general they",
    "start": "1700000",
    "end": "1705280"
  },
  {
    "text": "interpret a lot of things and run up this runtime on Android which means that the application will be slower if you",
    "start": "1705280",
    "end": "1711640"
  },
  {
    "text": "run salmon forums on Android and especially in our case since with your public transport we have people running",
    "start": "1711640",
    "end": "1717100"
  },
  {
    "text": "Android 4 on I don't know the Samsung Galaxy S Mini which is maybe five six",
    "start": "1717100",
    "end": "1722679"
  },
  {
    "text": "years old that's kind of a problem so when doing this thing called Sam reforms and betting what happened",
    "start": "1722679",
    "end": "1729010"
  },
  {
    "text": "was that we had this one button in the app you press that it runs up Samer informs everything is mvvm everything is",
    "start": "1729010",
    "end": "1735610"
  },
  {
    "text": "beautiful the code is good but it takes forever to start up this page so people kind of get upset so we have to redo",
    "start": "1735610",
    "end": "1742990"
  },
  {
    "text": "that as well right we have to redo that either in xamarin native or we have to do that in native code so if you want to",
    "start": "1742990",
    "end": "1750910"
  },
  {
    "text": "do this which I think it's good if you run an application write an application that's only for newer phones doing",
    "start": "1750910",
    "end": "1757690"
  },
  {
    "text": "stammering forms embedding is a pretty good way to go we can we can say here in",
    "start": "1757690",
    "end": "1763180"
  },
  {
    "text": "this case we have this salmon forms page I can either create a fragment I can create a support fragment I can create a",
    "start": "1763180",
    "end": "1769540"
  },
  {
    "text": "view controller and then I can embed that into my applications and this",
    "start": "1769540",
    "end": "1774550"
  },
  {
    "text": "allows me to access everything that's in the capability of salmon forms so I can",
    "start": "1774550",
    "end": "1779710"
  },
  {
    "text": "do things like mev am using in viewing toolkits that we might have seen before using salmon forms and in this case here",
    "start": "1779710",
    "end": "1788260"
  },
  {
    "text": "we have these Android activity here and that I'm simply just embedding that into the app it's pretty cool I think this is",
    "start": "1788260",
    "end": "1795520"
  },
  {
    "text": "a great idea unless you work with older phones and of course the same works for iOS so let's just have a look at what",
    "start": "1795520",
    "end": "1802510"
  },
  {
    "text": "this looks like instead of just looking at slides let's look at some code so",
    "start": "1802510",
    "end": "1808690"
  },
  {
    "text": "kind of the same application what I've done is that I've just introduced some salmon forms so are these UI projects",
    "start": "1808690",
    "end": "1814510"
  },
  {
    "text": "here we have this my page which is simply a button which will be a",
    "start": "1814510",
    "end": "1821670"
  },
  {
    "text": "vertically aligned it'll update the text if you click it and of course this code",
    "start": "1821670",
    "end": "1828400"
  },
  {
    "text": "here could be improved as well we could do mvvm but that's kind of overkill for a little button now if we go into the",
    "start": "1828400",
    "end": "1836080"
  },
  {
    "text": "Android project we'll have a look at our main activity when we click the About",
    "start": "1836080",
    "end": "1842200"
  },
  {
    "text": "tab what it what it will do is that it'll initialize a marine forms to the",
    "start": "1842200",
    "end": "1847660"
  },
  {
    "text": "current context and then it will return a new fragment which it will navigate you because this here is a fragment",
    "start": "1847660",
    "end": "1855280"
  },
  {
    "text": "pager adapter and that's all there is to it so this is a way for us to introduce",
    "start": "1855280",
    "end": "1860440"
  },
  {
    "text": "salmon forms in to the app let's just run that and see what it looks like and I've talked to",
    "start": "1860440",
    "end": "1872440"
  },
  {
    "text": "Sam Erina a lot about this that there's a problem that it takes a long time to start up and to run this on Android and",
    "start": "1872440",
    "end": "1879430"
  },
  {
    "text": "they are working on it they're gonna try and do the same thing that they're doing for iOS so click not now here and let me",
    "start": "1879430",
    "end": "1886540"
  },
  {
    "text": "click about here it will initialize Sam in forums and then render that fragment",
    "start": "1886540",
    "end": "1892060"
  },
  {
    "text": "so it's super quick on my machine here but if you run that again on the older phone it'll take a little while but not",
    "start": "1892060",
    "end": "1899110"
  },
  {
    "text": "on iowa's so this here's Sam reforms this here looks like an Android button right so we could add elements here we",
    "start": "1899110",
    "end": "1905830"
  },
  {
    "text": "could have theming theming inside salmon forms and we could make this look like a beautiful seven forms application and",
    "start": "1905830",
    "end": "1912070"
  },
  {
    "text": "kind of we have a part of our application so I think we did pretty well with adding things to our",
    "start": "1912070",
    "end": "1918220"
  },
  {
    "text": "application the public transport app that people didn't notice on new phones that they were transitioning into salmon",
    "start": "1918220",
    "end": "1924100"
  },
  {
    "text": "forms there were a few gotchas that like navigation and toolbars and things for hiding when you transition into one of",
    "start": "1924100",
    "end": "1930430"
  },
  {
    "text": "these fragments and didn't really fit into our architecture but once we got the hang of that now I knew that they",
    "start": "1930430",
    "end": "1937000"
  },
  {
    "text": "were transitioning into something that shared across the different platforms but one thing you need to think about",
    "start": "1937000",
    "end": "1942370"
  },
  {
    "text": "when doing this is that if you add too much code now into your salmon forms project you trust that salmon forums",
    "start": "1942370",
    "end": "1950560"
  },
  {
    "text": "have implemented everything properly for every platform right so you might",
    "start": "1950560",
    "end": "1955900"
  },
  {
    "text": "experience random crashes on Android again like I betcha lot of Android I",
    "start": "1955900",
    "end": "1960970"
  },
  {
    "text": "haven't entered for myself I love Android but all the problems that we have it's just Android I don't know why",
    "start": "1960970",
    "end": "1966550"
  },
  {
    "text": "but I always seems like a much more stable platform in general all right so",
    "start": "1966550",
    "end": "1974220"
  },
  {
    "text": "we've added some reforms in here which means that we can now build the UI and we can add things in here and it should",
    "start": "1974220",
    "end": "1980200"
  },
  {
    "text": "be visible on all the different platforms and of course we have the same on iOS so we can run this project",
    "start": "1980200",
    "end": "1988559"
  },
  {
    "text": "let's run the simulator you can see here",
    "start": "1990389",
    "end": "1999010"
  },
  {
    "text": "that we have this tab bar controller what it's doing is that it's creating a navigation page so we get that nice",
    "start": "1999010",
    "end": "2005039"
  },
  {
    "text": "navigation top bar then sticking my page into this changing the tint color and",
    "start": "2005039",
    "end": "2011309"
  },
  {
    "text": "changing a few things and that's creating a view controller and sticking that into the list of tabs that we have",
    "start": "2011309",
    "end": "2016799"
  },
  {
    "text": "in the app so once that started we can",
    "start": "2016799",
    "end": "2023789"
  },
  {
    "text": "have a look at that okay we can just jump to the next thing and we'll look at that once it started up takes a while to",
    "start": "2023789",
    "end": "2029399"
  },
  {
    "text": "start the simulator so now the idea with",
    "start": "2029399",
    "end": "2034620"
  },
  {
    "text": "this is that we can now kind of abstract the UI that we know that's gonna be exactly the same on the different",
    "start": "2034620",
    "end": "2040080"
  },
  {
    "text": "platforms and we can stick view models into that shared project which is salmon",
    "start": "2040080",
    "end": "2046200"
  },
  {
    "text": "forms the forms project with the UI project but those few models could be used inside our activities and view",
    "start": "2046200",
    "end": "2052648"
  },
  {
    "text": "controllers right so they don't have to be sticking to the salmon forms views themselves all right so let's jump onto",
    "start": "2052649",
    "end": "2060628"
  },
  {
    "text": "the next cool thing that we need to use so now that we're doing salmon forms we can do something called the dependency",
    "start": "2060629",
    "end": "2066720"
  },
  {
    "text": "service the dependency service kind of solves their same problem as the ioc container it allows us to say that well",
    "start": "2066720",
    "end": "2073079"
  },
  {
    "text": "in this case here we have an implementation of the account service and this will resolve the interface here",
    "start": "2073079",
    "end": "2079490"
  },
  {
    "text": "we'll resolve this account service interface and when we ask for that",
    "start": "2079490",
    "end": "2084960"
  },
  {
    "text": "somewhere in the app it will just know what to get right so we could do that",
    "start": "2084960",
    "end": "2092760"
  },
  {
    "text": "instead of specifying things using the the ioc container ourselves again this is also an anti-pattern but it's what",
    "start": "2092760",
    "end": "2100230"
  },
  {
    "text": "you get with the platform's then there's one more pattern I want to talk about",
    "start": "2100230",
    "end": "2105359"
  },
  {
    "text": "and that's messaging and messaging Center is one way to help us solve that is everyone familiar with things like",
    "start": "2105359",
    "end": "2111390"
  },
  {
    "text": "event aggregation the idea of distributing distributing a message inside something someone outsides",
    "start": "2111390",
    "end": "2118079"
  },
  {
    "text": "listens for this and acts upon that message so when I click the login button here the",
    "start": "2118079",
    "end": "2123690"
  },
  {
    "text": "is that the activity or the viewcontroller listens for that message that you are now logged in and it can",
    "start": "2123690",
    "end": "2129510"
  },
  {
    "text": "handle that properly right so for instance what I can say here that well I",
    "start": "2129510",
    "end": "2134940"
  },
  {
    "text": "want to subscribe to the log in view model and then when you get that message",
    "start": "2134940",
    "end": "2141630"
  },
  {
    "text": "I want to fire off a new activity and of course we can just send that message",
    "start": "2141630",
    "end": "2147869"
  },
  {
    "text": "inside one of our view models right so again let's look at some code so kind of",
    "start": "2147869",
    "end": "2158369"
  },
  {
    "text": "all of these different things end up being this this idea you get some patterns and practices and you try to",
    "start": "2158369",
    "end": "2163920"
  },
  {
    "text": "apply them and you try to share the right amount of code but honestly it's really hard to kind of say this is",
    "start": "2163920",
    "end": "2170880"
  },
  {
    "text": "exactly the right amount of code to share in your app it really depends on what kind of app you're building so we",
    "start": "2170880",
    "end": "2176970"
  },
  {
    "text": "can just look at these iOS app that just started doesn't look as good what's what's interesting here is that this now",
    "start": "2176970",
    "end": "2182280"
  },
  {
    "text": "runs on an iPhone X and I created these projects I think they're they're built",
    "start": "2182280",
    "end": "2187800"
  },
  {
    "text": "using an older version off of salmon so before the iPhone X came out and what I",
    "start": "2187800",
    "end": "2196170"
  },
  {
    "text": "wanted to do was that I wanted to feel what it's like to operate an app using salmon so I just rebuilt the app using",
    "start": "2196170",
    "end": "2204060"
  },
  {
    "text": "the latest tool kits and the app no longer looks like it did a year ago and that's kind of the story with Samri a",
    "start": "2204060",
    "end": "2210810"
  },
  {
    "text": "lot of the cases what happens is that you end up having this application that you need to you maintain and then you",
    "start": "2210810",
    "end": "2217650"
  },
  {
    "text": "upgrade to a later version of salmon or there's a new version of iOS or Android and everything just breaks will probably",
    "start": "2217650",
    "end": "2224130"
  },
  {
    "text": "be the same with the native platforms so I'll think about here at the bottom and",
    "start": "2224130",
    "end": "2229200"
  },
  {
    "text": "we still have this button here that says click me right so that's the forms demo",
    "start": "2229200",
    "end": "2235609"
  },
  {
    "text": "now let's look at the messaging Center so kind of the same idea inside my UI",
    "start": "2235609",
    "end": "2242849"
  },
  {
    "text": "layer I have a view model that's called a login view model now I'm starting to",
    "start": "2242849",
    "end": "2248490"
  },
  {
    "text": "think about how do we properly move things into view models and and separate our concerns what I'm doing here is that",
    "start": "2248490",
    "end": "2256020"
  },
  {
    "text": "I'm saying well when you click the login button so I'm doing this command pattern so when",
    "start": "2256020",
    "end": "2261609"
  },
  {
    "text": "when we fire the login command I want you to get the account service and save",
    "start": "2261609",
    "end": "2267219"
  },
  {
    "text": "that account that we had currently have which will set the username that I've entered into my text box it will run",
    "start": "2267219",
    "end": "2273309"
  },
  {
    "text": "this messaging center thing and say that will login completed it will pass this",
    "start": "2273309",
    "end": "2278319"
  },
  {
    "text": "view model into whoever listens for the message so if we put a breakpoint in the",
    "start": "2278319",
    "end": "2284709"
  },
  {
    "text": "Android project we'll go into that activity that listens for it I have a login fragment activity here that says",
    "start": "2284709",
    "end": "2291609"
  },
  {
    "text": "well I'm going to subscribe for the login completed which is a lot which is a login view model and when I get that",
    "start": "2291609",
    "end": "2298930"
  },
  {
    "text": "I'm gonna just transition somewhere in the app right so that's pretty much all",
    "start": "2298930",
    "end": "2303999"
  },
  {
    "text": "there is to it so let's run this and see what happens",
    "start": "2303999",
    "end": "2309269"
  },
  {
    "text": "so of course we're not going to get away from having a little bit of code in our native layers but the idea is that we",
    "start": "2315299",
    "end": "2320789"
  },
  {
    "text": "try to write code that's pretty much shared across the different platforms so",
    "start": "2320789",
    "end": "2327239"
  },
  {
    "text": "I click sign-in here this is now salmon",
    "start": "2327239",
    "end": "2333599"
  },
  {
    "text": "forms I'll click login you'll see that",
    "start": "2333599",
    "end": "2338880"
  },
  {
    "text": "we get this inside the Android project we've got this event we can see here that the object passed here is in fact",
    "start": "2338880",
    "end": "2347279"
  },
  {
    "text": "containing the username Phillip that I just wrote and then I'll just release this here I'll go to the About tab here",
    "start": "2347279",
    "end": "2355739"
  },
  {
    "text": "and just fill up in the middle that's because if we look at the the native layer or the summary forms layers",
    "start": "2355739",
    "end": "2361859"
  },
  {
    "text": "already I have a view model or view itself called my page and what it's",
    "start": "2361859",
    "end": "2368369"
  },
  {
    "text": "doing is that it's grabbing that account service it's grabbing the account that I saved when I logged in so it's now kind",
    "start": "2368369",
    "end": "2374219"
  },
  {
    "text": "of separated from each other so my page doesn't know anything about the login page and the activity doesn't really",
    "start": "2374219",
    "end": "2380489"
  },
  {
    "text": "know anything about what happens inside those fragments but they can cross",
    "start": "2380489",
    "end": "2385919"
  },
  {
    "text": "communicate using these events which means that it would be super easy for me to introduce the same functionality on",
    "start": "2385919",
    "end": "2392459"
  },
  {
    "text": "iOS an ideally what happens is that the only thing that you need inside your native layers is to for instance how do",
    "start": "2392459",
    "end": "2399329"
  },
  {
    "text": "you transition somewhere if you want to do something in particular with that data from that message how do you",
    "start": "2399329",
    "end": "2404669"
  },
  {
    "text": "transition now another idea it would be that inside our view model we would say",
    "start": "2404669",
    "end": "2409679"
  },
  {
    "text": "well instead of sending the message we could say I just want to navigate somewhere and someone else takes care of",
    "start": "2409679",
    "end": "2416309"
  },
  {
    "text": "that navigation for instance on Android we now have the navigation host and on on iOS we have the normal navigation as",
    "start": "2416309",
    "end": "2424380"
  },
  {
    "text": "well right so that kind of makes sense and I mentioned before that we have this",
    "start": "2424380",
    "end": "2430109"
  },
  {
    "text": "dependency service that allows us to now grab dependencies that are specified",
    "start": "2430109",
    "end": "2436139"
  },
  {
    "text": "using this act review instead of having to specify that using our ioc container so if we look at our account service all",
    "start": "2436139",
    "end": "2445229"
  },
  {
    "text": "that I've done is that I've said well this is a dependency call for account service so it'll resolve",
    "start": "2445229",
    "end": "2451780"
  },
  {
    "text": "that interface and then inside any wearing the app I can say well I want",
    "start": "2451780",
    "end": "2456910"
  },
  {
    "text": "you to give me an implementation of the IEEE account service so I don't need the service locator this kind of acts as a",
    "start": "2456910",
    "end": "2462970"
  },
  {
    "text": "service locator for me okay so we're",
    "start": "2462970",
    "end": "2468460"
  },
  {
    "text": "kind of getting to a point where we reach something like an MVVM pattern so",
    "start": "2468460",
    "end": "2476230"
  },
  {
    "text": "the idea of an MVVM pattern is that we want to get navigation we want to get event aggregation which is kind of that",
    "start": "2476230",
    "end": "2482650"
  },
  {
    "text": "messaging center that we just looked at and we want to get dependency injection but we also want to get things like",
    "start": "2482650",
    "end": "2488680"
  },
  {
    "text": "automatically resolved things like the view model for a particular view I want to say that transition to this view here",
    "start": "2488680",
    "end": "2495610"
  },
  {
    "text": "create the view model for the view itself injective view model onto the view and create everything that the view",
    "start": "2495610",
    "end": "2501370"
  },
  {
    "text": "model needs right so there are of course tools that we can use to do that you can",
    "start": "2501370",
    "end": "2509020"
  },
  {
    "text": "use things like prison for instance which is a great mvvm toolkit so the",
    "start": "2509020",
    "end": "2515380"
  },
  {
    "text": "same idea here is that I have this application kind of the same items close all the other things that I have here so",
    "start": "2515380",
    "end": "2522370"
  },
  {
    "text": "they're less confusing so I have this application it's going to thee yes this",
    "start": "2522370",
    "end": "2529630"
  },
  {
    "text": "is a prism application which is kind of just like a salmon forms application on steroids so what happens here is that",
    "start": "2529630",
    "end": "2535140"
  },
  {
    "text": "it's registering a lot of things it's saying that well I'm gonna grab the",
    "start": "2535140",
    "end": "2541410"
  },
  {
    "text": "account service from the dependency service and then I'm gonna register that inside prism that which is using",
    "start": "2541410",
    "end": "2548560"
  },
  {
    "text": "artifact s and I account service so it's grabbing an instance from outside of the",
    "start": "2548560",
    "end": "2553720"
  },
  {
    "text": "box from something that has doesn't know about and it's registering that instance inside this here this is just a display",
    "start": "2553720",
    "end": "2559630"
  },
  {
    "text": "that we can kind of use these two paradigms together and of course it's registering navigation for the",
    "start": "2559630",
    "end": "2565750"
  },
  {
    "text": "navigation page and login view and what this does is that it allows us to say that well when you're navigating to for",
    "start": "2565750",
    "end": "2573610"
  },
  {
    "text": "instance the login view it's gonna know how to set up things for instance with",
    "start": "2573610",
    "end": "2579550"
  },
  {
    "text": "the the view model so have this thing here at the top that says wire up view model which means that it's",
    "start": "2579550",
    "end": "2584650"
  },
  {
    "text": "now going to create the view model for us based on the on the naming convention so it knows that this is called a login",
    "start": "2584650",
    "end": "2590619"
  },
  {
    "text": "view it will then look inside this law view models folder and find the login view model it'll create an instance of",
    "start": "2590619",
    "end": "2597010"
  },
  {
    "text": "that in this instance here takes an account service into the constructor",
    "start": "2597010",
    "end": "2602349"
  },
  {
    "text": "which is knows about because we set that up using the the di right with the ioc",
    "start": "2602349",
    "end": "2608380"
  },
  {
    "text": "container so it'll create the instance for the counselors and inject that into this view model here and then it will",
    "start": "2608380",
    "end": "2613690"
  },
  {
    "text": "just tie those two together which means that we can also bind to things using binding for username binding for the",
    "start": "2613690",
    "end": "2620200"
  },
  {
    "text": "login command which we could have done before as well but okay and that's all",
    "start": "2620200",
    "end": "2626349"
  },
  {
    "text": "living inside our stammering forms project right so now if we run this on",
    "start": "2626349",
    "end": "2632619"
  },
  {
    "text": "Android I haven't really done any changes to to the Android project itself these are all changes just inside salmon",
    "start": "2632619",
    "end": "2639460"
  },
  {
    "text": "forms which is kind of the idea I guess with salmon that you want to change",
    "start": "2639460",
    "end": "2645250"
  },
  {
    "text": "things in one place and then just have that changed across the different platforms so we would kind of get this",
    "start": "2645250",
    "end": "2650740"
  },
  {
    "text": "for free on iOS as well as Android let's see if it deploys",
    "start": "2650740",
    "end": "2658319"
  },
  {
    "text": "pick sign in here hopefully this is the way to zap yep okay all right Philip and",
    "start": "2666950",
    "end": "2674029"
  },
  {
    "text": "login and we'll see that that worked so I'll put another breakpoint in here it's",
    "start": "2674029",
    "end": "2681650"
  },
  {
    "text": "a little bit too quick because what",
    "start": "2681650",
    "end": "2688400"
  },
  {
    "text": "happens here is that I want to display that it actually creates the view model for us",
    "start": "2688400",
    "end": "2694119"
  },
  {
    "text": "as you'll see here it injected the I account service as well as when we click",
    "start": "2699020",
    "end": "2704710"
  },
  {
    "text": "login here it'll fire that command so just tie everything together for us so",
    "start": "2704710",
    "end": "2710840"
  },
  {
    "text": "that's pretty neat so kind of what we want to do in order for us to be successful with salmon is to try and",
    "start": "2710840",
    "end": "2716840"
  },
  {
    "text": "apply these different patterns we want to try to bring things out to view models when we can we want to add things",
    "start": "2716840",
    "end": "2722990"
  },
  {
    "text": "like prism or other tool kits that allows us to use navigation and event aggregation and dependency injection and",
    "start": "2722990",
    "end": "2729710"
  },
  {
    "text": "not worry too much about those things on the platforms unless again we work with",
    "start": "2729710",
    "end": "2735440"
  },
  {
    "text": "older phones all right",
    "start": "2735440",
    "end": "2743470"
  },
  {
    "text": "so now hopefully the application is a little bit more testable which means",
    "start": "2745140",
    "end": "2751450"
  },
  {
    "text": "that we could potentially write some unit tests I don't know if that would make any sense so I don't know if anyone",
    "start": "2751450",
    "end": "2757480"
  },
  {
    "text": "in here is doing automated UI tests using test cloud but we tried to do that a few times",
    "start": "2757480",
    "end": "2764260"
  },
  {
    "text": "guess what we failed we're not failing everything but what",
    "start": "2764260",
    "end": "2771069"
  },
  {
    "text": "happened with the UI tests were that they took so long to run so it would be",
    "start": "2771069",
    "end": "2776380"
  },
  {
    "text": "quicker for us or cost less to hire a manual tester to run through the app and",
    "start": "2776380",
    "end": "2781690"
  },
  {
    "text": "it was was for what then it was for us to wait for a feedback from UI tests right so because time is valuable and",
    "start": "2781690",
    "end": "2789970"
  },
  {
    "text": "waiting for us waiting for something to run in the cloud that's waiting for a device to be available wasn't really the",
    "start": "2789970",
    "end": "2796450"
  },
  {
    "text": "best approach and then a manual tester finds things that these UI tests won't",
    "start": "2796450",
    "end": "2802299"
  },
  {
    "text": "so things like well this font size looks a little bit odd the margins are a",
    "start": "2802299",
    "end": "2807369"
  },
  {
    "text": "little bit off which arguably the the product owner has told the developers",
    "start": "2807369",
    "end": "2812829"
  },
  {
    "text": "well if you just run the app you'll see that these are all problems but most developers don't seem to run their own code so unless well we have CI right so",
    "start": "2812829",
    "end": "2822279"
  },
  {
    "text": "someone else builds the code if it builds it works if we build using mvvm",
    "start": "2822279",
    "end": "2828099"
  },
  {
    "text": "and if you break out these things they would decoupled the code that kind of means that the application is hopefully",
    "start": "2828099",
    "end": "2834460"
  },
  {
    "text": "more maintainable if we do that properly so we really try to do this we try to",
    "start": "2834460",
    "end": "2842890"
  },
  {
    "text": "rewrite a lot of things in the app and make it more following mvvm patterns and looking more like a proper application",
    "start": "2842890",
    "end": "2849339"
  },
  {
    "text": "but the fundamental architecture was was so heavily bad that was really hard for",
    "start": "2849339",
    "end": "2855279"
  },
  {
    "text": "us to take a long time but I've seen several projects that are really awesome that applied these different patterns",
    "start": "2855279",
    "end": "2862390"
  },
  {
    "text": "and I've seen stammering forms applications that perform really well and look really great and one way to",
    "start": "2862390",
    "end": "2869920"
  },
  {
    "text": "solve this is or to make it faster is to plot apply a no time compilation which",
    "start": "2869920",
    "end": "2875829"
  },
  {
    "text": "you would probably think that's turn-on by default but it's not so what you can do this is for Android only ahead of",
    "start": "2875829",
    "end": "2883240"
  },
  {
    "text": "time compilation means that it takes all the code that we have all the the darknet code so on Android it takes the",
    "start": "2883240",
    "end": "2890770"
  },
  {
    "text": "dotnet assemblies and bundles that as a part of the the apk that you get when you compile the project so if you bring",
    "start": "2890770",
    "end": "2896980"
  },
  {
    "text": "down a project from Google Play and you just rename it to dot zip you unzip the file you'll find all your different",
    "start": "2896980",
    "end": "2903039"
  },
  {
    "text": "dotnet deals if you turn on ahead of time compilation it will still have all",
    "start": "2903039",
    "end": "2908410"
  },
  {
    "text": "the dotnet dll's but it will also have native compilation for all your code which means that the application is",
    "start": "2908410",
    "end": "2915339"
  },
  {
    "text": "going to be larger but it won't need to resolve things from those native from",
    "start": "2915339",
    "end": "2921609"
  },
  {
    "text": "those dotnet assemblies in runtime in the same manner so what you can do is",
    "start": "2921609",
    "end": "2926740"
  },
  {
    "text": "that in Android build you turn on this a little flag called enable äôt and then",
    "start": "2926740",
    "end": "2933520"
  },
  {
    "text": "you're going to advanced and you say - - IOT is equal to full and you need to",
    "start": "2933520",
    "end": "2938859"
  },
  {
    "text": "make sure that you link SDKs assemblies only if you do all that your application",
    "start": "2938859",
    "end": "2944380"
  },
  {
    "text": "is going to be a little bit larger and potentially a little bit quicker especially in older phones and then one",
    "start": "2944380",
    "end": "2953200"
  },
  {
    "text": "more thing that you might want to turn on is this one here embed assemblies in native code that means that it'll take",
    "start": "2953200",
    "end": "2958960"
  },
  {
    "text": "all the dotnet assemblies it'll compile those into native code again which I would expect the at a time compilation",
    "start": "2958960",
    "end": "2965079"
  },
  {
    "text": "would you but they will no longer be available in your apk so when you D decompress the apk there will be no way",
    "start": "2965079",
    "end": "2972490"
  },
  {
    "text": "for you to look at the darknet code that you had which is great but in the latest",
    "start": "2972490",
    "end": "2979390"
  },
  {
    "text": "version of stammering studio and Visual Studio that broke this so when you publish the app to Google Play or App",
    "start": "2979390",
    "end": "2985270"
  },
  {
    "text": "Store when you launch it it'll just crash it'll compile just fine so we kind",
    "start": "2985270",
    "end": "2993250"
  },
  {
    "text": "of noticed that pretty late because well developers don't run their own code so",
    "start": "2993250",
    "end": "2999910"
  },
  {
    "text": "turn those two things on there's a fix on github they've deployed packages there in v6 files to solve this because",
    "start": "2999910",
    "end": "3006809"
  },
  {
    "text": "it's kind of a priority I think it's only enabling Enterprise version of Visual Studio as well so it's kind of important to them for them",
    "start": "3006809",
    "end": "3012960"
  },
  {
    "text": "to fix that if you have both of them turned on the apps will be larger but they will be faster to run which is",
    "start": "3012960",
    "end": "3019620"
  },
  {
    "text": "really important and then another thing you might want to change the the HTTP",
    "start": "3019620",
    "end": "3026070"
  },
  {
    "text": "client implementation as well as the SSL TLS implementation because the native one is a lot faster than the salmon one",
    "start": "3026070",
    "end": "3034190"
  },
  {
    "text": "right so hopefully we feel a little bit more happy about doing it's a marine",
    "start": "3034190",
    "end": "3040350"
  },
  {
    "text": "right so we want to try and share a lot of code the the kind of the the goal",
    "start": "3040350",
    "end": "3046230"
  },
  {
    "text": "with this is to share the right amount of code in our applications which is really a hard thing to put your finger",
    "start": "3046230",
    "end": "3052380"
  },
  {
    "text": "on how much code do we need to share well that kind of depends on the application in a lot of cases it doesn't",
    "start": "3052380",
    "end": "3057780"
  },
  {
    "text": "make any sense to share a lot of code and in those cases it doesn't make sense to maybe build the app in salmon and we",
    "start": "3057780",
    "end": "3063540"
  },
  {
    "text": "choose to go over to native code mainly because finding native developers is a lot easier than teaching c-sharp or",
    "start": "3063540",
    "end": "3070650"
  },
  {
    "text": "native developers how to build salmon applications but if you know salmon and you know the the native platforms you",
    "start": "3070650",
    "end": "3077430"
  },
  {
    "text": "may build awesome applications so we kind of end up with an architecture that",
    "start": "3077430",
    "end": "3082800"
  },
  {
    "text": "looks like this in the perfect situation we might have a little bit larger iOS project because we have some specific",
    "start": "3082800",
    "end": "3091920"
  },
  {
    "text": "code a little bit less on Android and maybe a little bit more on uwp apps because we want to have support for for",
    "start": "3091920",
    "end": "3098100"
  },
  {
    "text": "the surface hub and for a smaller devices as well and of course we have the shared UI layer and then we have the",
    "start": "3098100",
    "end": "3103560"
  },
  {
    "text": "shared application logic layer which could be dotnet standard and it's kind",
    "start": "3103560",
    "end": "3109710"
  },
  {
    "text": "of obvious that we need to build something great so let's just jump ahead of that we've talked about sharing the",
    "start": "3109710",
    "end": "3114870"
  },
  {
    "text": "right amount of code and that it's really hard for anyone to say how much the right amount of code is but I've shown you some patterns that you can",
    "start": "3114870",
    "end": "3120690"
  },
  {
    "text": "apply in your code to make it easier just think about how do we decouple the app how do we make it testable how do",
    "start": "3120690",
    "end": "3126630"
  },
  {
    "text": "make it more fun to work with and then I did the opposite of talking about",
    "start": "3126630",
    "end": "3131640"
  },
  {
    "text": "minimizing the app size I talked about making it larger but to make it run faster so you don't have to choose do we",
    "start": "3131640",
    "end": "3137880"
  },
  {
    "text": "need to have a large app or a fast app and on iOS you can turn on things like",
    "start": "3137880",
    "end": "3143570"
  },
  {
    "text": "optimized PNG which means that it'll optimize all the images in the app and that'll kind of",
    "start": "3143570",
    "end": "3150050"
  },
  {
    "text": "reduce the file size on iowa's but the first test that we're doing now that we will building the app using native code",
    "start": "3150050",
    "end": "3156770"
  },
  {
    "text": "is that we were looking at the start of x we're looking at how large is the app and mainly the the feeling of the",
    "start": "3156770",
    "end": "3164450"
  },
  {
    "text": "application as well as development environment when I build the the Android",
    "start": "3164450",
    "end": "3169670"
  },
  {
    "text": "application the the apk is 2 3 megabytes now compared to where a blacks a Marine",
    "start": "3169670",
    "end": "3174680"
  },
  {
    "text": "app is maybe 15 20 and when I build the app for Android and deploy that to my",
    "start": "3174680",
    "end": "3179780"
  },
  {
    "text": "device that takes maybe 4 seconds with native it takes maybe 15 20 seconds with",
    "start": "3179780",
    "end": "3185360"
  },
  {
    "text": "stammering so those are some really interesting things that we're finding when we were jumping on this train but",
    "start": "3185360",
    "end": "3190910"
  },
  {
    "text": "it doesn't mean that 4 years from now this would have been the right decision right so just because we jumped off the",
    "start": "3190910",
    "end": "3197090"
  },
  {
    "text": "ship doesn't mean that it's not the right one for you to choose so just to wrap this up I think salmon is the",
    "start": "3197090",
    "end": "3202220"
  },
  {
    "text": "greatest toolkit are out around our out there for cross-platform development because it's true to the api's it keeps",
    "start": "3202220",
    "end": "3208880"
  },
  {
    "text": "you close to the native platforms you can interact with the iOS and Android API and you can build applications that",
    "start": "3208880",
    "end": "3215120"
  },
  {
    "text": "are really awesome but you need to think about the limitations off platforms and",
    "start": "3215120",
    "end": "3220310"
  },
  {
    "text": "to think about how do I build applications that run on all these different permutations of Android",
    "start": "3220310",
    "end": "3226040"
  },
  {
    "text": "because that's the biggest problem with salmon right all right thank you for",
    "start": "3226040",
    "end": "3231170"
  },
  {
    "text": "listening to me it's been a pleasure if you have any questions just hit me up on Twitter and don't forget to or leave a",
    "start": "3231170",
    "end": "3236210"
  },
  {
    "text": "vote when you leave Thanks [Applause]",
    "start": "3236210",
    "end": "3245420"
  }
]