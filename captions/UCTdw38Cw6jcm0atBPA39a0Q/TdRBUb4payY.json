[
  {
    "start": "0",
    "end": "53000"
  },
  {
    "text": "so hi everybody I'm Michelle the rupess Demonte nice to see so many people interested in micro-services it's fun to",
    "start": "160",
    "end": "8260"
  },
  {
    "text": "say microservices I have a company called salon so we do a lot of projects",
    "start": "8260",
    "end": "14080"
  },
  {
    "text": "for Amazon a sure the various platforms for the last few years now we've been building a practice around this stuff",
    "start": "14080",
    "end": "20349"
  },
  {
    "text": "and one of the things we do a lot is we build message based architectures for you know large scale organizations that",
    "start": "20349",
    "end": "27429"
  },
  {
    "text": "are building micro services and a lot of the reason behind that I'm going to talk about in this talk and give you some of the motivations for putting in the elbow",
    "start": "27429",
    "end": "35320"
  },
  {
    "text": "grease that it takes to go this route because obviously it does create another",
    "start": "35320",
    "end": "40360"
  },
  {
    "text": "layer of things you have to care for right but there's a lot of benefits on the other side so I hope to inspire you",
    "start": "40360",
    "end": "45490"
  },
  {
    "text": "to you know think about whether or not this fits what you might be doing okay and so with that let's get started let",
    "start": "45490",
    "end": "53950"
  },
  {
    "start": "53000",
    "end": "142000"
  },
  {
    "text": "me introduce you to our hello world today hello world today consists of you know browser-based apps maybe they could",
    "start": "53950",
    "end": "60400"
  },
  {
    "text": "be server-side maybe they could be spas with a back-end for front-end or BFF API",
    "start": "60400",
    "end": "65979"
  },
  {
    "text": "people love to say that mobile apps that have back-end api's shared api's that",
    "start": "65979",
    "end": "71679"
  },
  {
    "text": "might go across all of them you have partner api's that might be you know shared for third parties so maybe we",
    "start": "71679",
    "end": "78189"
  },
  {
    "text": "need a crook protect some of those things with api gateways throttling governing usage possibly license keys",
    "start": "78189",
    "end": "85960"
  },
  {
    "text": "that we would distribute and manage so sometimes we have api gateways in the middle of that we've got back-end API s",
    "start": "85960",
    "end": "92439"
  },
  {
    "text": "that might be protecting or accessing the business data on the backend and then we've got back in processing so",
    "start": "92439",
    "end": "97569"
  },
  {
    "text": "there's a lot going on in your you know typical app today all these poor people that get out of school and now they face",
    "start": "97569",
    "end": "104020"
  },
  {
    "text": "this instead of one big thing right so this is hello world and this is also the new monolith because the monolith",
    "start": "104020",
    "end": "110560"
  },
  {
    "text": "basically is this but with huge data back-end obviously",
    "start": "110560",
    "end": "115749"
  },
  {
    "text": "perfectly coupled to all of the api's and applications that you're serving and in addition a lot of potential shared",
    "start": "115749",
    "end": "122920"
  },
  {
    "text": "code across all of these things so that when we update things we're not really sure what we might break because it kind",
    "start": "122920",
    "end": "129670"
  },
  {
    "text": "of all glues together a big ball of mud right it looks nice in a picture till you you",
    "start": "129670",
    "end": "134780"
  },
  {
    "text": "know glue it all together so this is what we face and this is what we're trying to get away from when we do a",
    "start": "134780",
    "end": "140659"
  },
  {
    "text": "micro-services architecture so the idea is you know right now hello world and you know your everyday app is already",
    "start": "140659",
    "end": "147590"
  },
  {
    "start": "142000",
    "end": "228000"
  },
  {
    "text": "complicated we have distributed systems out of the gates you're dealing with API is you're dealing with server-side scale",
    "start": "147590",
    "end": "154220"
  },
  {
    "text": "you're dealing with um you know dealing with connections and how many concurrent",
    "start": "154220",
    "end": "159230"
  },
  {
    "text": "requests can I handle all these things in an Internet and cloud first world right so what is it if I add a couple of",
    "start": "159230",
    "end": "166609"
  },
  {
    "text": "micro services in the middle right I take my api's I make them more granular more manageable ID couple the glue you",
    "start": "166609",
    "end": "174230"
  },
  {
    "text": "know break it apart into a manageable set of you know projects that can be in isolation deployed so the idea behind",
    "start": "174230",
    "end": "181640"
  },
  {
    "text": "micro services gives me a way to hopefully achieve the dream right where",
    "start": "181640",
    "end": "186890"
  },
  {
    "text": "I can have isolated data behind each of the services so that they own their own data back-end so that when I do updates",
    "start": "186890",
    "end": "194420"
  },
  {
    "text": "to the schema or anything else I'm only updating that one piece so that when the UI is that call those api's",
    "start": "194420",
    "end": "201349"
  },
  {
    "text": "need to be updated I'm not necessarily impacting the rest of the system that's the idea that's where we want to go",
    "start": "201349",
    "end": "208220"
  },
  {
    "text": "right so the micro service is a dream is that we can have new features everywhere",
    "start": "208220",
    "end": "213919"
  },
  {
    "text": "quickly rapidly please the business right anytime we want to do an update we",
    "start": "213919",
    "end": "219260"
  },
  {
    "text": "update it seamlessly no impact to anybody else and we get you know our",
    "start": "219260",
    "end": "224930"
  },
  {
    "text": "wish which is frequent updates without impact and then we do the release and",
    "start": "224930",
    "end": "230000"
  },
  {
    "start": "228000",
    "end": "329000"
  },
  {
    "text": "we're not so worried about sweating with roll back and roll forward and if we do have to do that it's a small isolated",
    "start": "230000",
    "end": "236209"
  },
  {
    "text": "piece we're dealing with right and what we're leveraging is the self-healing nature of the container platforms so",
    "start": "236209",
    "end": "243290"
  },
  {
    "text": "that if something is failing something is not working it will try to self heal it will try to restart and hopefully",
    "start": "243290",
    "end": "250609"
  },
  {
    "text": "we've built resiliency into the client consumers of those api's that might have a glitch for a moment and then they will",
    "start": "250609",
    "end": "257959"
  },
  {
    "text": "do retries and you use circuit breaker techniques to fail fast but gracefully right so we're",
    "start": "257959",
    "end": "264810"
  },
  {
    "text": "hoping for that we're hoping for more visibility into production so what we want is you know visibility into our",
    "start": "264810",
    "end": "271410"
  },
  {
    "text": "logs we want to debug with our logs we want to be able to solve problems without having to call developers to",
    "start": "271410",
    "end": "276870"
  },
  {
    "text": "look at code we want to know more about what's going on in the system as a whole",
    "start": "276870",
    "end": "281940"
  },
  {
    "text": "we want dashboards right we have to do all these things already in a",
    "start": "281940",
    "end": "286950"
  },
  {
    "text": "microservices architecture to be successful because there's an awful lot of moving parts we're managing and if",
    "start": "286950",
    "end": "292500"
  },
  {
    "text": "you don't have that visibility you just can't be successful right at the end of the day the goal is not just to have",
    "start": "292500",
    "end": "299820"
  },
  {
    "text": "more moving parts and you know deal with the complexities or the the need to add",
    "start": "299820",
    "end": "306780"
  },
  {
    "text": "more instrumentation and dashboards to manage that we're not doing it just for fun right ultimately we're still doing",
    "start": "306780",
    "end": "313200"
  },
  {
    "text": "it for the business right we're doing it because they want to introduce features that will sell more services or new",
    "start": "313200",
    "end": "320640"
  },
  {
    "text": "features that will keep customers happy right we want to reduce support calls we want to release more and more and then",
    "start": "320640",
    "end": "326280"
  },
  {
    "text": "we have the happy executive dance right so enter the issue we still have to",
    "start": "326280",
    "end": "332730"
  },
  {
    "start": "329000",
    "end": "523000"
  },
  {
    "text": "solve with micro services right which is distributed data and the idea of different API is trying to own their own",
    "start": "332730",
    "end": "340020"
  },
  {
    "text": "data how do we deal with you know potential shared data stores for different parts of the system right we",
    "start": "340020",
    "end": "346530"
  },
  {
    "text": "still have to solve that problem and that's an age-old problem it's not new it's a problem that we had in the SOA",
    "start": "346530",
    "end": "352140"
  },
  {
    "text": "days right so take yourself back about 15 years you know we had the",
    "start": "352140",
    "end": "357990"
  },
  {
    "text": "introduction of SOA and you know a SOA is promise was that every service owned its own data right so we had the",
    "start": "357990",
    "end": "365250"
  },
  {
    "text": "Enterprise Architect view of this was that we would have you know ERP systems",
    "start": "365250",
    "end": "370590"
  },
  {
    "text": "and CRM systems and CMS systems and you know other acronyms and the idea was",
    "start": "370590",
    "end": "376560"
  },
  {
    "text": "that an Enterprise Architect would say hey I need to integrate these systems to create workflows for the business right",
    "start": "376560",
    "end": "382950"
  },
  {
    "text": "and how they would do that is maybe they would build integrations on top but those integrations always were true to",
    "start": "382950",
    "end": "389310"
  },
  {
    "text": "the SOA boundaries right we would call the services to year or the integrations here of those",
    "start": "389310",
    "end": "395159"
  },
  {
    "text": "apps so the apps were intended to be built as soas right so that again the",
    "start": "395159",
    "end": "401369"
  },
  {
    "text": "services on the data you never come in from any other direction right and so the principles of SOA guided us that",
    "start": "401369",
    "end": "408179"
  },
  {
    "text": "when we build applications we're supposed to follow those principles as well not just the Enterprise Architect",
    "start": "408179",
    "end": "413309"
  },
  {
    "text": "view but the solution architects you the problem is this didn't always work right because the interface of those services",
    "start": "413309",
    "end": "419789"
  },
  {
    "text": "would not do what we need it or they'd suck is a shorter way to say that and then I would have to go into the backend",
    "start": "419789",
    "end": "426779"
  },
  {
    "text": "or somebody would build data sinks and build aggregates and produce new views into that data for the reporting of the",
    "start": "426779",
    "end": "433619"
  },
  {
    "text": "rest of the company so we didn't always go through the service boundary because we just didn't always have that Liberty",
    "start": "433619",
    "end": "440069"
  },
  {
    "text": "right so there's that now when we go from Enterprise Architect view to the",
    "start": "440069",
    "end": "446309"
  },
  {
    "text": "solution architect view I remember struggling with this so many times right back in the days of wucf and SOA and",
    "start": "446309",
    "end": "452999"
  },
  {
    "text": "building solutions and wanting to stay pure to the SOA principles and practices",
    "start": "452999",
    "end": "458069"
  },
  {
    "text": "right and what we wanted to do is build our applications with these beautiful well-defined boundaries and services",
    "start": "458069",
    "end": "464539"
  },
  {
    "text": "contracts that governed how you access the data behind the service right the",
    "start": "464539",
    "end": "469559"
  },
  {
    "text": "arrows always point down never sideways never up right nice clean architecture",
    "start": "469559",
    "end": "475169"
  },
  {
    "text": "and we would have multiple services behind the application each owning their own data beautiful right",
    "start": "475169",
    "end": "481800"
  },
  {
    "text": "but the problem is sometimes customers and orders need to relate to one another",
    "start": "481800",
    "end": "487709"
  },
  {
    "text": "so you couldn't just have a customer service and an order service and so on you had to have some crossover right",
    "start": "487709",
    "end": "494399"
  },
  {
    "text": "where the query had to cross two or three or other domains if you will right",
    "start": "494399",
    "end": "499529"
  },
  {
    "text": "and so we would end up crossing the boundaries on the data layer even though we had a well-defined interface I want",
    "start": "499529",
    "end": "506369"
  },
  {
    "text": "the customers and their orders so we would end up you know making a query in the back that couples the data right and",
    "start": "506369",
    "end": "513508"
  },
  {
    "text": "then we started building the the new monolith so this problem was attempted",
    "start": "513509",
    "end": "520289"
  },
  {
    "text": "to be resolved right with data services right so the OData service the idea was",
    "start": "520289",
    "end": "526380"
  },
  {
    "start": "523000",
    "end": "574000"
  },
  {
    "text": "he the dream now we'll have another layer of services that we query and now if I want to you know bring across data I",
    "start": "526380",
    "end": "534350"
  },
  {
    "text": "call a service here and I'm still following SOA principles now because I'm calling a service that owns its own data",
    "start": "534350",
    "end": "540480"
  },
  {
    "text": "there you go but that didn't perform right so now we've got a performance problem we've",
    "start": "540480",
    "end": "545520"
  },
  {
    "text": "got to aggregate information and it's simply not going to go well so we ended up going back to this and saying well",
    "start": "545520",
    "end": "551600"
  },
  {
    "text": "you know basically who cares so I'm gonna go back and I'm gonna cross at the backend so that my system performs and",
    "start": "551600",
    "end": "557970"
  },
  {
    "text": "we'll just take the hit on the SOA principles Thanks so our goals to maintain those",
    "start": "557970",
    "end": "565080"
  },
  {
    "text": "principles maybe SOA was really more for the Enterprise Architect at that time right it was really hard to do that in a",
    "start": "565080",
    "end": "572490"
  },
  {
    "text": "solution and I think that micro services and in general there's a lot of a few",
    "start": "572490",
    "end": "577860"
  },
  {
    "start": "574000",
    "end": "663000"
  },
  {
    "text": "ways you can approach the distributed data issue this problem right one is we can have two-phase commit",
    "start": "577860",
    "end": "583230"
  },
  {
    "text": "across distributed data stores across services if you're actually using back-in-the-day SOA had you know",
    "start": "583230",
    "end": "589830"
  },
  {
    "text": "distributed transactions over XML no thanks we tried it was an attempt yes",
    "start": "589830",
    "end": "596130"
  },
  {
    "text": "so two-phase commit is one way to deal with observer the data we've got compensating operations to deal with",
    "start": "596130",
    "end": "601320"
  },
  {
    "text": "distributed data if you want to keep pure to your boundaries and then we got eventual consistency and in a micro",
    "start": "601320",
    "end": "606960"
  },
  {
    "text": "services solution you know you'll probably see a lot of people talking about eventual consistency as a practice",
    "start": "606960",
    "end": "613680"
  },
  {
    "text": "and when we embrace that messaging goes very nice with that hand-in-hand so that's not to say that everybody in this",
    "start": "613680",
    "end": "619890"
  },
  {
    "text": "room is going to do everything eventual consistency but I wanted to debunk a few myths we've certainly had our share of",
    "start": "619890",
    "end": "626820"
  },
  {
    "text": "customers that were skeptical about doing eventual consistency part of the reason is because they've just done it",
    "start": "626820",
    "end": "632940"
  },
  {
    "text": "badly in the past it happens right the system was a mess anyways and then they",
    "start": "632940",
    "end": "638160"
  },
  {
    "text": "tried to do eventual consistency on stop on top of something that was already a mess and so they didn't have a pattern",
    "start": "638160",
    "end": "644730"
  },
  {
    "text": "to follow clearly across the solution or across the apps they're building so it became a bit chaotic oh let's throw some",
    "start": "644730",
    "end": "651150"
  },
  {
    "text": "messages over here and that'll work but there was no structure behind it no design right and so the answer to this",
    "start": "651150",
    "end": "658770"
  },
  {
    "text": "is not he let's throw a bunch of messages in and get some eventual consistency the answer is you have to design it so if you're",
    "start": "658770",
    "end": "664370"
  },
  {
    "text": "going to embrace eventual consistency it is a design pattern and it involves having some practices that go alongside",
    "start": "664370",
    "end": "670780"
  },
  {
    "text": "possibly messaging so that's what I'm going to talk about okay so when we think about micro-services and eventual",
    "start": "670780",
    "end": "677570"
  },
  {
    "text": "consistency what I think about is let's have these services that own their own data back-end right and when we need to",
    "start": "677570",
    "end": "685100"
  },
  {
    "text": "update something in one of the services and propagate a value into another like say I have a ledger and I write a value",
    "start": "685100",
    "end": "692390"
  },
  {
    "text": "like I've withdrawn or deposited and I need the total balance to get over to",
    "start": "692390",
    "end": "697730"
  },
  {
    "text": "say my you know account record that's somewhere else so let's add the balance",
    "start": "697730",
    "end": "702860"
  },
  {
    "text": "to the main service where the transaction happens and let's make it eventually consistent that my total",
    "start": "702860",
    "end": "707960"
  },
  {
    "text": "balance shows on my dashboard and what is eventual consistent mean right it doesn't mean I'm gonna wait an hour or a",
    "start": "707960",
    "end": "714680"
  },
  {
    "text": "day it should mean I'm waiting you know sub-second or within a few seconds SLA just like",
    "start": "714680",
    "end": "720890"
  },
  {
    "text": "any other request in my system if I've done it right and yes things can go",
    "start": "720890",
    "end": "726080"
  },
  {
    "text": "wrong just like your API is can be down just like the system can slow when you",
    "start": "726080",
    "end": "731330"
  },
  {
    "text": "have you know some sort of extra load on the system he likes the idea and so you",
    "start": "731330",
    "end": "739040"
  },
  {
    "text": "know what we're looking for is the same as always we would get with requests patterns right and that means we need to",
    "start": "739040",
    "end": "744440"
  },
  {
    "text": "have a healthy system that manages load well and that scales well and that's partitioned well so we have to consider",
    "start": "744440",
    "end": "751310"
  },
  {
    "text": "all those things when we do this as well so eventual consistency just means I'm",
    "start": "751310",
    "end": "756470"
  },
  {
    "text": "gonna have a primary service who owns the data and I'm gonna project somehow maybe with messages the result of that",
    "start": "756470",
    "end": "763820"
  },
  {
    "text": "change and with a few ways we can approach that which I'll talk about in a minute um the other thing we might do is",
    "start": "763820",
    "end": "769550"
  },
  {
    "text": "have aggregate views right so I need a completely new view of the data some sort of reporting or again you know",
    "start": "769550",
    "end": "776510"
  },
  {
    "start": "776000",
    "end": "898000"
  },
  {
    "text": "could be anything so to get to this we have to do design right and so you have",
    "start": "776510",
    "end": "782420"
  },
  {
    "text": "to be able to go through your microservices design first with the belief that you can do this because when",
    "start": "782420",
    "end": "789110"
  },
  {
    "text": "we start looking at document databases how many people tried to use database when they first came out anyone",
    "start": "789110",
    "end": "796070"
  },
  {
    "text": "heck no no three people cool well so I knew a guy who did that and later",
    "start": "796070",
    "end": "803150"
  },
  {
    "text": "admitted a year and a half later that they shouldn't have done that with their startup why they weren't building a",
    "start": "803150",
    "end": "808280"
  },
  {
    "text": "microservices solution they were building a solution that was really just your traditional web app API single",
    "start": "808280",
    "end": "813800"
  },
  {
    "text": "back-end and this is you know going back probably five years right before it was really popular to think micro services",
    "start": "813800",
    "end": "820630"
  },
  {
    "text": "and so what they did is they spent about a year-and-a-half building something",
    "start": "820630",
    "end": "825650"
  },
  {
    "text": "that they could have had done in three months why because they had to go through all the query patterns to help",
    "start": "825650",
    "end": "831440"
  },
  {
    "text": "them understand the best way to optimize the use of the target document store and",
    "start": "831440",
    "end": "837400"
  },
  {
    "text": "it's really hard to work with a document store for an entire system that's typically relational and turn it into a",
    "start": "837400",
    "end": "844280"
  },
  {
    "text": "fully document store system if you're not thinking in micro services so they",
    "start": "844280",
    "end": "850490"
  },
  {
    "text": "spent a long time redoing and redoing and realizing that the way they needed to query the data across the whole",
    "start": "850490",
    "end": "856730"
  },
  {
    "text": "system wasn't working at performance scale and they ended up at a year to have before they could launch arguably",
    "start": "856730",
    "end": "864230"
  },
  {
    "text": "had they been working with a micro services architecture they would have been trying to solve the problem of all the query patterns everywhere in the",
    "start": "864230",
    "end": "870620"
  },
  {
    "text": "system they wouldn't try to think upfront how do I query all this data everywhere in five years or in a year",
    "start": "870620",
    "end": "877310"
  },
  {
    "text": "they would say hey I'm gonna trust that if I need a new view into the data that",
    "start": "877310",
    "end": "882440"
  },
  {
    "text": "we're writing I can somehow build that view later eventually and that's the",
    "start": "882440",
    "end": "887930"
  },
  {
    "text": "power of it so what we want to do is free our mind so that we can design our micro services trusting that we can",
    "start": "887930",
    "end": "893630"
  },
  {
    "text": "achieve that goal and then we have to talk about you know how do we get there with messages so a very brief TL DR or",
    "start": "893630",
    "end": "901430"
  },
  {
    "start": "898000",
    "end": "960000"
  },
  {
    "text": "you know too long didn't read in case I have to explain acronyms on how to build",
    "start": "901430",
    "end": "906440"
  },
  {
    "text": "you know a pattern in design so let's say I go to the design board for my micro services architecture so my",
    "start": "906440",
    "end": "912050"
  },
  {
    "text": "company does some sort of shopping cart selling things fulfillment you know Amazon style and you know",
    "start": "912050",
    "end": "918860"
  },
  {
    "text": "customer management is a thing so these are domains that I might tease out right so I'm going through the design phase",
    "start": "918860",
    "end": "924800"
  },
  {
    "text": "and I'm saying I've got customer management recommendations engine product catalogs fulfillment on the product orders",
    "start": "924800",
    "end": "931140"
  },
  {
    "text": "you know supply chain management shopping carts in memory and obviously",
    "start": "931140",
    "end": "936540"
  },
  {
    "text": "your traditional system always has identity of some sort right I have to login right I have to have credentials I have to have permissions so if we were",
    "start": "936540",
    "end": "943830"
  },
  {
    "text": "to take this design and say hey let's tease out one of these domains and see what my micro-services architecture",
    "start": "943830",
    "end": "949740"
  },
  {
    "text": "looks like and then how would I look at it in an event-based view so let me take you through that process will take",
    "start": "949740",
    "end": "955110"
  },
  {
    "text": "identity because it's not domain-specific most people understand what users do right so we have single",
    "start": "955110",
    "end": "962010"
  },
  {
    "start": "960000",
    "end": "1101000"
  },
  {
    "text": "sign-on that's a thing inside my identity domain right I got a login I got a log out I have protocols",
    "start": "962010",
    "end": "968280"
  },
  {
    "text": "I have user management so user management is create and activate and",
    "start": "968280",
    "end": "973950"
  },
  {
    "text": "deactivate users these are all things that we do you know typically there's a separate UI for that but it's connected",
    "start": "973950",
    "end": "980400"
  },
  {
    "text": "to the user store somehow right and then we've got self-service I'm gonna register I'm gonna confirm my email",
    "start": "980400",
    "end": "986040"
  },
  {
    "text": "myself I'm gonna change my own password I'm gonna update my profile change my",
    "start": "986040",
    "end": "991170"
  },
  {
    "text": "email there's workflows for that so I need UI I need api's I need you know update my own data right and then I have",
    "start": "991170",
    "end": "998280"
  },
  {
    "text": "permissions in the app so now we're starting to think about well are all these part of the identity domain or is",
    "start": "998280",
    "end": "1004700"
  },
  {
    "text": "permissions a separate domain don't know let's just take the assumption that perhaps as I'm thinking it through I'm",
    "start": "1004700",
    "end": "1011660"
  },
  {
    "text": "realizing you know I can't ease off permissions if I have hundreds of apps to manage the permissions for that does",
    "start": "1011660",
    "end": "1017990"
  },
  {
    "text": "nothing to do with login right I login over here isolate it once I get to the app what can I do right so I'll take",
    "start": "1017990",
    "end": "1024920"
  },
  {
    "text": "that out give it a different color user profile likewise write user profile might mean I have a membership and an",
    "start": "1024920",
    "end": "1030650"
  },
  {
    "text": "account or multiple accounts unrelated to login its ownership of other stuff right so maybe I tease that out",
    "start": "1030650",
    "end": "1036829"
  },
  {
    "text": "different domain and at the end of the day what I'm trying to come up with is what are my domains what are my",
    "start": "1036830",
    "end": "1042589"
  },
  {
    "text": "advocates behind the domain and therefore what's my micro-services strategy so that I can break it up into",
    "start": "1042590",
    "end": "1048620"
  },
  {
    "text": "smaller pieces so identity now turns into three domains so it's not just identity there's an identity domain",
    "start": "1048620",
    "end": "1055220"
  },
  {
    "text": "maybe there's a profile sub domain maybe there's a permission domaine so these now become isolated",
    "start": "1055220",
    "end": "1061500"
  },
  {
    "text": "things I can manageably think about where events fit how many events I have and each domain should own its own",
    "start": "1061500",
    "end": "1067700"
  },
  {
    "text": "messages or events meaning you never play the same event from multiple",
    "start": "1067700",
    "end": "1072990"
  },
  {
    "text": "domains or multiple micro-services so that makes it nice and manageable right so now we've gone through this design",
    "start": "1072990",
    "end": "1080549"
  },
  {
    "text": "let's focus on the identity stuff so I've got single sign-on I've got user management I've got self-service I have",
    "start": "1080549",
    "end": "1086520"
  },
  {
    "text": "a user back-end if that was one back-end then this is one micro services with possibly",
    "start": "1086520",
    "end": "1092970"
  },
  {
    "text": "multiple endpoints different access points to do stuff right but it's still one domain because it's one back-end",
    "start": "1092970",
    "end": "1098429"
  },
  {
    "text": "right it's coupled to the data and I could take a look at that and say hey inside identity server if I'm using that",
    "start": "1098429",
    "end": "1105120"
  },
  {
    "start": "1101000",
    "end": "1448000"
  },
  {
    "text": "to build this solution so now I'm building an app and I'm taking my design thinking and turning it into micro",
    "start": "1105120",
    "end": "1110880"
  },
  {
    "text": "services architecture and potentially events right so what do I need to do an identity server I need to configure the",
    "start": "1110880",
    "end": "1117000"
  },
  {
    "text": "apps that log in so that they're trusted and I need to do user stuff right log in log out etc so I've got maybe two micro",
    "start": "1117000",
    "end": "1124650"
  },
  {
    "text": "services here within this environment right so inside identity to separate micro",
    "start": "1124650",
    "end": "1131970"
  },
  {
    "text": "services that could be updated independently of one another with different data store different schema unrelated yeah and then I have these",
    "start": "1131970",
    "end": "1139020"
  },
  {
    "text": "apps that might fold in and start sharing that API all good right so what",
    "start": "1139020",
    "end": "1144330"
  },
  {
    "text": "I'm trying to go through here is what's the thinking that gets me to the point that I might need to break this up and",
    "start": "1144330",
    "end": "1150120"
  },
  {
    "text": "have multiple data stores because right now we're still in a simple environment right it's pretty easy to imagine",
    "start": "1150120",
    "end": "1155390"
  },
  {
    "text": "services and having a user database pretty easy to imagine having a configuration database for trusted apps",
    "start": "1155390",
    "end": "1163200"
  },
  {
    "text": "and maybe configuring those like a UI so we're not complicated yeah I just have",
    "start": "1163200",
    "end": "1168659"
  },
  {
    "text": "this too so I don't have an eventual consistency story yet right so let's see",
    "start": "1168659",
    "end": "1174000"
  },
  {
    "text": "where we might get to what if I think about this where I need to add feature",
    "start": "1174000",
    "end": "1179429"
  },
  {
    "text": "separately to user management and self-service unrelated to logging in so",
    "start": "1179429",
    "end": "1184679"
  },
  {
    "text": "maybe I start by factoring this out a little bit and creating well-defined controller entry points contracts if you",
    "start": "1184679",
    "end": "1190679"
  },
  {
    "text": "will for those activities still sharing it back-end though so that means I'm still separate microservices",
    "start": "1190679",
    "end": "1196289"
  },
  {
    "text": "only the two and what we're trying to get to if we need to only is this right",
    "start": "1196289",
    "end": "1203219"
  },
  {
    "text": "where maybe each of these has their own back-end now we have to talk about why",
    "start": "1203219",
    "end": "1209309"
  },
  {
    "text": "would I care to do that what would push me to here to where I need an eventual consistent story in this model okay so",
    "start": "1209309",
    "end": "1217830"
  },
  {
    "text": "what would push me they're optimizing reads so let's say I've got 20 million users you know any number between you",
    "start": "1217830",
    "end": "1226049"
  },
  {
    "text": "know two thousand to five thousand concurrent requests at a given point in time on a regular basis and if I update",
    "start": "1226049",
    "end": "1232919"
  },
  {
    "text": "the containers that support identity and login and make changes to features that",
    "start": "1232919",
    "end": "1239159"
  },
  {
    "text": "are unrelated to login I'm introducing a fragility potentially and I'm also not",
    "start": "1239159",
    "end": "1244559"
  },
  {
    "text": "optimizing the read access for just checking and and logging in and you know evaluating passwords verifying right so",
    "start": "1244559",
    "end": "1252200"
  },
  {
    "text": "optimizing reads might be a reason to separate it so that the user management stuff doesn't have to get in the way of",
    "start": "1252200",
    "end": "1257969"
  },
  {
    "text": "this very critical piece of the central part of my system yeah another thing internal configuration controls so let's",
    "start": "1257969",
    "end": "1265379"
  },
  {
    "text": "say I have all these people 200 apps this is you know example some customers",
    "start": "1265379",
    "end": "1270570"
  },
  {
    "text": "have hundreds of applications they're managing an identity those hundreds of applications need to be configured for",
    "start": "1270570",
    "end": "1276389"
  },
  {
    "text": "identity there is not one person doing that there's going to be potentially distributed people across the",
    "start": "1276389",
    "end": "1282299"
  },
  {
    "text": "organization adding their apps into the system but they don't know identity so we need controls we need UI we need to",
    "start": "1282299",
    "end": "1289919"
  },
  {
    "text": "keep you from running with scissors we got to make sure you can only configure at certain ways maybe there's three",
    "start": "1289919",
    "end": "1295169"
  },
  {
    "text": "patterns we use instead of all hundreds that are available so we can't just let everybody in the config directly it's",
    "start": "1295169",
    "end": "1302219"
  },
  {
    "text": "got to be controlled so we have this app to manage that and that app has zero to do with the runtime performance has to",
    "start": "1302219",
    "end": "1309929"
  },
  {
    "text": "do with controls which means I'm gonna have to edit those on a regular basis I'm going to update this on a regular",
    "start": "1309929",
    "end": "1314969"
  },
  {
    "text": "basis so I might need to separate that from the mainstream login again to",
    "start": "1314969",
    "end": "1321299"
  },
  {
    "text": "reduce the fragility of frequent updates here impacting this very central piece that matters to me so it's another reason another reason",
    "start": "1321299",
    "end": "1328410"
  },
  {
    "text": "would be multi-tenant here's an example for identity but really I'm trying to give you business reasons that could",
    "start": "1328410",
    "end": "1334140"
  },
  {
    "text": "come up this is identity related right I need to update user management on a",
    "start": "1334140",
    "end": "1339900"
  },
  {
    "text": "regular basis because we have support organization and maybe there's 300 CSRs that go into an app and ask for features",
    "start": "1339900",
    "end": "1346650"
  },
  {
    "text": "when they ask for a future and we need to deploy unit of deployment should I impact the runtime login of 20 million",
    "start": "1346650",
    "end": "1353640"
  },
  {
    "text": "users should those changes and I hit the button give me any need for concern that",
    "start": "1353640",
    "end": "1360180"
  },
  {
    "text": "I'm affecting login of 20 million users and the answer is no so how do I break",
    "start": "1360180",
    "end": "1365220"
  },
  {
    "text": "that up the unit of deployment is I've got an app to manage you know to manage",
    "start": "1365220",
    "end": "1370650"
  },
  {
    "text": "the users and do the CSR work and that's got to be something they can ask for features and the whole point of micro",
    "start": "1370650",
    "end": "1377700"
  },
  {
    "text": "services is to align with the business capabilities these are different business people the customers log in my",
    "start": "1377700",
    "end": "1384630"
  },
  {
    "text": "CSRs need features and now I've got self-service as another one again",
    "start": "1384630",
    "end": "1390680"
  },
  {
    "text": "keeping to the idea that I want to offload work I want to keep it so that",
    "start": "1390680",
    "end": "1397200"
  },
  {
    "text": "you know my customer service representatives are not getting too many",
    "start": "1397200",
    "end": "1402390"
  },
  {
    "text": "calls from you know users having problems so I want to update that set of features frequently maybe as its",
    "start": "1402390",
    "end": "1408810"
  },
  {
    "text": "evolving to help them help themselves so they don't call us and force me to hire",
    "start": "1408810",
    "end": "1414270"
  },
  {
    "text": "20 more people for for customer service it's a real dollar thing right ok so",
    "start": "1414270",
    "end": "1419670"
  },
  {
    "text": "again looking at how you break domains apart looking at the reasoning behind needing eventual consistency even within",
    "start": "1419670",
    "end": "1427350"
  },
  {
    "text": "a domain potentially is about this type of thinking if you were to pop up a",
    "start": "1427350",
    "end": "1432840"
  },
  {
    "text": "level we could just say each domain you know I have accounts and orders and customers might have features that I",
    "start": "1432840",
    "end": "1439650"
  },
  {
    "text": "write new data and it needs to eventually propagate like the ledger and account balance thing that I mentioned",
    "start": "1439650",
    "end": "1445530"
  },
  {
    "text": "before so I'm just giving you things to think about so the goal is get to the point where the right balance of",
    "start": "1445530",
    "end": "1452310"
  },
  {
    "text": "separate micro services and domains is sort of outlined it's not going to be",
    "start": "1452310",
    "end": "1458580"
  },
  {
    "text": "right the first time you evolve you might refactor it's okay except that and the whole point of",
    "start": "1458580",
    "end": "1464970"
  },
  {
    "text": "getting a good momentum behind your micro service deployment is that you should not be afraid to have frequent",
    "start": "1464970",
    "end": "1470400"
  },
  {
    "text": "change right because we've got good practices in place so the goal is to get to the point where that right balance is",
    "start": "1470400",
    "end": "1476640"
  },
  {
    "text": "there and now I have unlocked that achievement of having services on their own data so I've had this free mind I",
    "start": "1476640",
    "end": "1484080"
  },
  {
    "text": "know I can eventually consistent project data to another service back-end right",
    "start": "1484080",
    "end": "1490350"
  },
  {
    "text": "so I'm gonna just trust that I can get there and now I have to figure out how to get it done so let's take the example",
    "start": "1490350",
    "end": "1496650"
  },
  {
    "text": "I've given to you and let's evolve it to the messaging part so eventual consistency if I've got you know",
    "start": "1496650",
    "end": "1504049"
  },
  {
    "text": "independent data backends for each of these services so these are all micro",
    "start": "1504049",
    "end": "1509159"
  },
  {
    "text": "services at this point right let's think about now use cases so now we're going to play use cases this is how we go",
    "start": "1509159",
    "end": "1515159"
  },
  {
    "text": "through the process within the real use cases from config would be things like",
    "start": "1515159",
    "end": "1520169"
  },
  {
    "text": "add an app remove an app right so if I'm gonna do that then that will project into the config",
    "start": "1520169",
    "end": "1526110"
  },
  {
    "text": "database and eventually get into the runtime so you know we write it to the config database and eventually the",
    "start": "1526110",
    "end": "1532080"
  },
  {
    "text": "runtime knows hey I trust that app so what a couple seconds later max hopefully it's ready to go okay if I",
    "start": "1532080",
    "end": "1539460"
  },
  {
    "text": "have a register user and that means there's a user in the database that the",
    "start": "1539460",
    "end": "1544470"
  },
  {
    "text": "customer service rep should know about but logon doesn't need to know yet so I'm gonna project that only to the user",
    "start": "1544470",
    "end": "1550799"
  },
  {
    "text": "management side so they can see hey user registered but they haven't yet confirmed their email when they confirm",
    "start": "1550799",
    "end": "1557460"
  },
  {
    "text": "their email now they're a user they confirm their email set their password activate and now my user runtime knows",
    "start": "1557460",
    "end": "1566130"
  },
  {
    "text": "about that user so we've projected that over when it's time and so the idea is",
    "start": "1566130",
    "end": "1572220"
  },
  {
    "text": "that again taking these use cases we're going to learn whether or not we're doing this right we're gonna think about",
    "start": "1572220",
    "end": "1577470"
  },
  {
    "text": "can it be eventually consistent is it okay of two seconds passes when I deactivate a user is it okay the two",
    "start": "1577470",
    "end": "1585059"
  },
  {
    "text": "seconds passes and they could log in in that two seconds before that it's",
    "start": "1585059",
    "end": "1590190"
  },
  {
    "text": "realized in the actual you know run that's an SLA decision that's just you",
    "start": "1590190",
    "end": "1596430"
  },
  {
    "text": "know InfoSec discussion with your security controls have we seen this be",
    "start": "1596430",
    "end": "1601500"
  },
  {
    "text": "acceptable yes because we're usually getting sub 300 millisecond projections and guess what the ones that are high",
    "start": "1601500",
    "end": "1608130"
  },
  {
    "text": "risk like this one we're monitoring that carefully yeah and we have to have a shutdown plan if it doesn't work so if",
    "start": "1608130",
    "end": "1614460"
  },
  {
    "text": "the projectors down and I can't get that data over within my SLA then I need a",
    "start": "1614460",
    "end": "1620460"
  },
  {
    "text": "solution that can quickly execute and shut that user off so we have to build",
    "start": "1620460",
    "end": "1625560"
  },
  {
    "text": "that into our plan for the high risk areas only yeah the rest is we have to trust the system will work next users",
    "start": "1625560",
    "end": "1634050"
  },
  {
    "text": "locked out well that might not need a message or eventual consistency because I'm only gonna write it directly to the",
    "start": "1634050",
    "end": "1639570"
  },
  {
    "text": "user runtime I type my password three times badly I'm locked out immediately it'll go away in five minutes there's no",
    "start": "1639570",
    "end": "1646110"
  },
  {
    "text": "need to tell the other systems there's no projection because usually that's how we do that today you know following the",
    "start": "1646110",
    "end": "1652260"
  },
  {
    "text": "latest of NIST and wasp okay so now",
    "start": "1652260",
    "end": "1657540"
  },
  {
    "start": "1656000",
    "end": "1691000"
  },
  {
    "text": "we've thought through use cases and we've figured out if eventual consistency feels okay for those use cases now we're going to talk about how",
    "start": "1657540",
    "end": "1664260"
  },
  {
    "text": "we go into the message based solution so I've got now all these api's and instead the rights are gonna write messages so",
    "start": "1664260",
    "end": "1672690"
  },
  {
    "text": "those api's register user deactivate register app or add app remove app those",
    "start": "1672690",
    "end": "1680130"
  },
  {
    "text": "are all going to go to a message that is just requesting it be done and that is gonna go to some topic right and in the",
    "start": "1680130",
    "end": "1687120"
  },
  {
    "text": "cloud that could be event hubs or Kinesis right and then what's gonna",
    "start": "1687120",
    "end": "1692130"
  },
  {
    "start": "1691000",
    "end": "1755000"
  },
  {
    "text": "happen is you know config runtime well that's really a read process right so I'll take that away that's not",
    "start": "1692130",
    "end": "1698040"
  },
  {
    "text": "discussing messages at all we're not doing any rights from the config API we're just reading yeah we're doing",
    "start": "1698040",
    "end": "1704730"
  },
  {
    "text": "rights from all the other api's so those will all have messages in place and then what we need is a projector or a",
    "start": "1704730",
    "end": "1710700"
  },
  {
    "text": "consumer that will project the data to their back-end so we've got this messaging backbone that's shared across",
    "start": "1710700",
    "end": "1717330"
  },
  {
    "text": "all but we're not sharing topics right Micra services and domains can have an",
    "start": "1717330",
    "end": "1723690"
  },
  {
    "text": "isolated topic per and within that topic everything's in order outside of that topic it doesn't",
    "start": "1723690",
    "end": "1730949"
  },
  {
    "text": "have to be if you need order across topics you need things like process managers so that's doable",
    "start": "1730949",
    "end": "1737669"
  },
  {
    "text": "in a way right if you need it but you know you have to take the key use cases",
    "start": "1737669",
    "end": "1743069"
  },
  {
    "text": "one by one and then say do I need a process manager or not okay so topics",
    "start": "1743069",
    "end": "1749159"
  },
  {
    "text": "nice and isolated list of messages per micro service never sharing messages across them so these are micro services",
    "start": "1749159",
    "end": "1756989"
  },
  {
    "start": "1755000",
    "end": "1793000"
  },
  {
    "text": "they have an API a set of messages a projector and a data back-end completely",
    "start": "1756989",
    "end": "1763189"
  },
  {
    "text": "unrelated to one another the eventual consistency story comes with how we do",
    "start": "1763189",
    "end": "1768539"
  },
  {
    "text": "seek UI reviews and things like that so let's talk about that before I show anything so the idea is that in a CQRS",
    "start": "1768539",
    "end": "1777989"
  },
  {
    "text": "environment right if I'm using seeker as pattern right so I'm going to potentially have message based rights",
    "start": "1777989",
    "end": "1784229"
  },
  {
    "text": "and those are going to make my system asynchronous and those message based rights can either have a right store",
    "start": "1784229",
    "end": "1790829"
  },
  {
    "text": "approach or an optimized read store approach so let me explain that okay so if I do a write store approach my spa or",
    "start": "1790829",
    "end": "1797789"
  },
  {
    "start": "1793000",
    "end": "1870000"
  },
  {
    "text": "web app is going to call a write API and that write API is going to send a",
    "start": "1797789",
    "end": "1803639"
  },
  {
    "text": "message to the backbone and then I'm gonna read that message I'm going to project to a write store that is queried",
    "start": "1803639",
    "end": "1810269"
  },
  {
    "text": "on the other side okay so the idea here is I'm actually sharing the store with",
    "start": "1810269",
    "end": "1816809"
  },
  {
    "text": "the writes and the reads I'm just making the writes asynchronous so that there",
    "start": "1816809",
    "end": "1822149"
  },
  {
    "text": "can be a reduced back pressure of some amount right but if I really need to do optimized reads if we reach a point of",
    "start": "1822149",
    "end": "1829589"
  },
  {
    "text": "scale in the system I wouldn't do this right away I would start with this pattern until proven otherwise",
    "start": "1829589",
    "end": "1835219"
  },
  {
    "text": "so this makes it simpler architecture right but if I see that I need to",
    "start": "1835219",
    "end": "1840539"
  },
  {
    "text": "optimize for reads because of say you know just the maybe even the costs",
    "start": "1840539",
    "end": "1846299"
  },
  {
    "text": "sometimes the cost of a document database the Riesz can be so intense that you know we really need to optimize",
    "start": "1846299",
    "end": "1853919"
  },
  {
    "text": "that read store in a different way and make the right store more I can all right so it's costly and so if we",
    "start": "1853919",
    "end": "1862260"
  },
  {
    "text": "follow this pattern I've got requests and respond at the API layer I've got messages coming down and I've got",
    "start": "1862260",
    "end": "1868650"
  },
  {
    "text": "queries on the other side now let's look at what that seems like if I have an optimized read store I have the same",
    "start": "1868650",
    "end": "1874950"
  },
  {
    "start": "1870000",
    "end": "2066000"
  },
  {
    "text": "thing on the left hand side right I'm writing messages and it projectors doing a write to a write store but we're going",
    "start": "1874950",
    "end": "1883110"
  },
  {
    "text": "to project an event that says okay the writes happened and now I'm going to",
    "start": "1883110",
    "end": "1888630"
  },
  {
    "text": "read that and project a read store and there's different technologies to support this right like in Azure we use",
    "start": "1888630",
    "end": "1895140"
  },
  {
    "text": "cosmos and cosmos has you know really reliable event triggers for every write",
    "start": "1895140",
    "end": "1900210"
  },
  {
    "text": "and that goes to the event grid and the event grid picks it up and then we can do that I mean I'm making it sound",
    "start": "1900210",
    "end": "1905220"
  },
  {
    "text": "trivial it's not like a lot of time didn't go into planning that architecture and getting it tuned right but it's doable is what I'm saying",
    "start": "1905220",
    "end": "1913370"
  },
  {
    "text": "because we do it so I write the topic the event and then so now I've got",
    "start": "1913370",
    "end": "1919560"
  },
  {
    "text": "requests coming in from the web app right I've got messages being written to the right store and I've got events",
    "start": "1919560",
    "end": "1925590"
  },
  {
    "text": "being projected from that right so that it's you know a guaranteed we have",
    "start": "1925590",
    "end": "1930720"
  },
  {
    "text": "written it it is successful now it is a true fact once it's a fact it can be an",
    "start": "1930720",
    "end": "1936270"
  },
  {
    "text": "event right events are facts messages are requests I request that you you know",
    "start": "1936270",
    "end": "1941370"
  },
  {
    "text": "add the user or or create the registration and then the event is okay",
    "start": "1941370",
    "end": "1947610"
  },
  {
    "text": "registration was created yeah so now registration created I'm going to add to the read store and now the query API is",
    "start": "1947610",
    "end": "1953370"
  },
  {
    "text": "going to the read store I've now optimized the reads okay so the queries on that side can be highly performant",
    "start": "1953370",
    "end": "1958850"
  },
  {
    "text": "now that's just the internals right so I'm just trying to give you a picture of how CQRS could work in either direction",
    "start": "1958850",
    "end": "1965490"
  },
  {
    "text": "now let's talk about how it works from the perspective of how do I get the",
    "start": "1965490",
    "end": "1971610"
  },
  {
    "text": "state of stores eventually consistent what are some other ways right so another way is that I can have the user",
    "start": "1971610",
    "end": "1978360"
  },
  {
    "text": "registered event or message written to the backbone and then I can have other",
    "start": "1978360",
    "end": "1985290"
  },
  {
    "text": "interested parties to that event so a seekers view also gives you a way to do",
    "start": "1985290",
    "end": "1991350"
  },
  {
    "text": "that where when we write to the user self-service that a user was created but",
    "start": "1991350",
    "end": "1996820"
  },
  {
    "text": "I'm not yet a user I haven't set my password I'm waiting for the email right I registered I get an email the",
    "start": "1996820",
    "end": "2004080"
  },
  {
    "text": "projector on the user management side says I care about that message to let me listen in on your messages as well as my",
    "start": "2004080",
    "end": "2009990"
  },
  {
    "text": "own and then I'm gonna update my data store see so that's called a secure as",
    "start": "2009990",
    "end": "2015330"
  },
  {
    "text": "view and that pattern helps us support another way to do the eventual consistency without doing another event",
    "start": "2015330",
    "end": "2021660"
  },
  {
    "text": "out of the back end the decision comes down to architectural preference and also you know any guarantees that you",
    "start": "2021660",
    "end": "2028560"
  },
  {
    "text": "need in terms of delays to the writes yeah so next thing over here I might",
    "start": "2028560",
    "end": "2035250"
  },
  {
    "text": "have email confirmed now I'm a user and now I need to update the user runtime so",
    "start": "2035250",
    "end": "2044790"
  },
  {
    "text": "I'm gonna have a seeker s view pattern there as well next thing I get locked out well that doesn't do anything",
    "start": "2044790",
    "end": "2050879"
  },
  {
    "text": "because that's only going to the one user runtime I deactivate a user I have a seeker s view on both sides right so",
    "start": "2050880",
    "end": "2059340"
  },
  {
    "text": "the user self-service should also pick that up too I forgot to put the arrow okay now all",
    "start": "2059340",
    "end": "2067500"
  },
  {
    "start": "2066000",
    "end": "2198000"
  },
  {
    "text": "of this is leading to what are some of the other value propositions and then I'll get into a demo yeah so the other",
    "start": "2067500",
    "end": "2074040"
  },
  {
    "text": "value proposition of this whole story is I've now created a message based architecture whereby creating users",
    "start": "2074040",
    "end": "2080879"
  },
  {
    "text": "managing their lifecycle logging in events are all part of an event backbone",
    "start": "2080880",
    "end": "2086550"
  },
  {
    "text": "an event based system and now I have this really powerful piece of data outside of my read stores or right",
    "start": "2086550",
    "end": "2093060"
  },
  {
    "text": "stores I've actually also got messages that I can replay later to build new protections so now the source of truth",
    "start": "2093060",
    "end": "2100470"
  },
  {
    "text": "how many people have built a history table before for things that you needed audit record of right like everything",
    "start": "2100470",
    "end": "2106800"
  },
  {
    "text": "that happened oh the users permission change this day and then somebody else change them that day and you know or you",
    "start": "2106800",
    "end": "2114120"
  },
  {
    "text": "know could be any number of things right so audit is a big thing today compliance regulatory requirements and what we need",
    "start": "2114120",
    "end": "2122070"
  },
  {
    "text": "is an easy way to get that done so not that messaging in general is easy okay right I'm used",
    "start": "2122070",
    "end": "2127170"
  },
  {
    "text": "to it I do it a lot more often with a team obviously so you know we're having",
    "start": "2127170",
    "end": "2132570"
  },
  {
    "text": "success with that but once you've embraced that you get the side benefit and that is now I can project from those",
    "start": "2132570",
    "end": "2138930"
  },
  {
    "text": "messages I can go back in history and replay those messages and build new",
    "start": "2138930",
    "end": "2144170"
  },
  {
    "text": "stores I go back to the beginning of time and rebuild those wreath stores too if I had to write like let's say we",
    "start": "2144170",
    "end": "2150930"
  },
  {
    "text": "change the rule on the way we process the messages to produce the data then I go back and I could reproject and build",
    "start": "2150930",
    "end": "2157619"
  },
  {
    "text": "the data store again and then we can do snapshotting right for backup and recovery and then only replay from a",
    "start": "2157619",
    "end": "2164220"
  },
  {
    "text": "certain point in time as well so these are ideas audit and history now get to",
    "start": "2164220",
    "end": "2170280"
  },
  {
    "text": "be something that I can do for free because I take all these message like user created email confirmed etc and now",
    "start": "2170280",
    "end": "2175980"
  },
  {
    "text": "I have an audit list right like these are things that happened login fail blocking succeeded",
    "start": "2175980",
    "end": "2182310"
  },
  {
    "text": "you know audit might be more about the activity I logged in I got locked out etc history might be more about",
    "start": "2182310",
    "end": "2188460"
  },
  {
    "text": "permissions where elevated or reduced right and then that's the history of my",
    "start": "2188460",
    "end": "2195000"
  },
  {
    "text": "user record so these are the things we can do all right so we go from this",
    "start": "2195000",
    "end": "2201570"
  },
  {
    "start": "2198000",
    "end": "2260000"
  },
  {
    "text": "design hopefully that explains the motivation and some of the things we care about and we now have to apply this",
    "start": "2201570",
    "end": "2208020"
  },
  {
    "text": "plan into a technology stack so we have to choose how we're gonna go when we go",
    "start": "2208020",
    "end": "2213210"
  },
  {
    "text": "through this process it can be different if it's Amazon Azure it can be different if you're using like a back-end that is",
    "start": "2213210",
    "end": "2220410"
  },
  {
    "text": "an actual event sourcing based system like event store or eventuate i/o but if",
    "start": "2220410",
    "end": "2227160"
  },
  {
    "text": "we're just using a messaging backbone then we do it slightly differently so the rule of thumb that at least I",
    "start": "2227160",
    "end": "2232740"
  },
  {
    "text": "personally have seen is if you can do pass or platform-as-a-service anywhere that's usually really a win",
    "start": "2232740",
    "end": "2240030"
  },
  {
    "text": "because not only can they give you the scale like cloud scale but they're managing it for you as well so whenever",
    "start": "2240030",
    "end": "2246900"
  },
  {
    "text": "possible if we're in Amazon or if we're not sure we're gonna use you know Kinesis or we're gonna use event hubs",
    "start": "2246900",
    "end": "2252119"
  },
  {
    "text": "for example right could be service bus in some cases but for streaming events like this we usually use",
    "start": "2252119",
    "end": "2257860"
  },
  {
    "text": "event event streaming like event huh and so a cloud technology stack might be",
    "start": "2257860",
    "end": "2263530"
  },
  {
    "start": "2260000",
    "end": "2492000"
  },
  {
    "text": "I've got all these you know docker container so I need my docker platform right I need to be able to deploy those",
    "start": "2263530",
    "end": "2270370"
  },
  {
    "text": "containers somewhere like to the AKS or a jar kubernetes service could be a different one in Amazon eks we're gonna",
    "start": "2270370",
    "end": "2277990"
  },
  {
    "text": "have maybe some other things like caching so this is a path service anything I can offload to pass win so",
    "start": "2277990",
    "end": "2284800"
  },
  {
    "text": "I've got caching I've got a pin sites for logging so it's all built into Azure right so I get my end-to-end tracing",
    "start": "2284800",
    "end": "2291160"
  },
  {
    "text": "almost for free almost because of course you have to watch how you do it and see",
    "start": "2291160",
    "end": "2296650"
  },
  {
    "text": "that you can get the logs you need right event hub for messaging and then",
    "start": "2296650",
    "end": "2301990"
  },
  {
    "text": "possibly cosmos or sequel backends and this is another interesting thing from a micro services perspective I can choose",
    "start": "2301990",
    "end": "2308200"
  },
  {
    "text": "if I want my back in to be sequel or cosmos right I don't have to have the same back-end for every micro service",
    "start": "2308200",
    "end": "2313890"
  },
  {
    "text": "depends right we have a policy server product and that product is highly relational and it's back in so we use",
    "start": "2313890",
    "end": "2321160"
  },
  {
    "text": "relational database schema and we've had the odd person ask us well can we just deploy it and put it on you know cosmos",
    "start": "2321160",
    "end": "2327490"
  },
  {
    "text": "or a different back-end and the answer is no because like everything we do is based on that relational schema and all",
    "start": "2327490",
    "end": "2334030"
  },
  {
    "text": "the performance testing around the queries and so on is based on that but that's a micro service it shouldn't",
    "start": "2334030",
    "end": "2339160"
  },
  {
    "text": "matter that this one is sequel and the other one is cosmos and another one is Couchbase you know it doesn't matter",
    "start": "2339160",
    "end": "2345810"
  },
  {
    "text": "it's right tool for right job per micro service right so we can have that",
    "start": "2345810",
    "end": "2351400"
  },
  {
    "text": "freedom as well and so this would be my cloud stack and I'm gonna deploy that with queue control over to you know",
    "start": "2351400",
    "end": "2356440"
  },
  {
    "text": "kubernetes service those are my containers and then I need a local story for this so this is the other piece I",
    "start": "2356440",
    "end": "2361510"
  },
  {
    "text": "like to tell people is when we built these systems you need a way to troubleshoot and test this and to end",
    "start": "2361510",
    "end": "2367560"
  },
  {
    "text": "without having to all of you figure out how you're gonna share the dev cloud environment you know a sizable company",
    "start": "2367560",
    "end": "2374950"
  },
  {
    "text": "with lots of developers or different teams it gets really complicated to onboard new people and get the",
    "start": "2374950",
    "end": "2381850"
  },
  {
    "text": "productive and figure out where they should work and that I'm using the same messaging backbone you are and now our",
    "start": "2381850",
    "end": "2387760"
  },
  {
    "text": "messages are stomping on each other while we test it doesn't work so we need a local story and that's one of the power of docker",
    "start": "2387760",
    "end": "2393839"
  },
  {
    "text": "right so I can have my docker compose up story locally whereby I've my docker containers running on my machine",
    "start": "2393839",
    "end": "2400170"
  },
  {
    "text": "I've got Redis you know hosted locally in a container I've got maybe Elk instead of app insights for local",
    "start": "2400170",
    "end": "2406260"
  },
  {
    "text": "debugging with my logs to make sure I'm getting the right you know data in my logs and I can troubleshoot it's gonna",
    "start": "2406260",
    "end": "2413039"
  },
  {
    "text": "make production better if I can do that I'm gonna have Kafka maybe or event store locally and that's gonna be my",
    "start": "2413039",
    "end": "2419819"
  },
  {
    "text": "messaging backbone when I'm testing and I'm gonna have you know some database that's as close as possible to what I'm",
    "start": "2419819",
    "end": "2426990"
  },
  {
    "text": "actually deploying in the cloud so cosmos is an interesting one because right now we don't have a container for",
    "start": "2426990",
    "end": "2433200"
  },
  {
    "text": "that that we can use with Linux containers and because of that I can't do you know all my Linux containers",
    "start": "2433200",
    "end": "2440400"
  },
  {
    "text": "compose up with cosmos so I have a choice right I can either use the cosmos",
    "start": "2440400",
    "end": "2445500"
  },
  {
    "text": "tool if I have a Windows machine or if I'm on my Mac I don't have a tool yet and so what we do is we do provider",
    "start": "2445500",
    "end": "2451829"
  },
  {
    "text": "pattern that switches between what I'm using on Prem or in my local machine to",
    "start": "2451829",
    "end": "2456930"
  },
  {
    "text": "let developers be productive so that every one of you could say get pull compose up boom it works data",
    "start": "2456930",
    "end": "2464730"
  },
  {
    "text": "initialization boom it's in there there's a container that initializes the database locally so that you don't have",
    "start": "2464730",
    "end": "2471150"
  },
  {
    "text": "to seed your own data to work so total productivity gain right suite and then",
    "start": "2471150",
    "end": "2478500"
  },
  {
    "text": "you know sometimes we'll use Postgres because that can play both sequel and also doc database because I can use",
    "start": "2478500",
    "end": "2485069"
  },
  {
    "text": "Martin with Postgres and so will will sometimes use that but you know this is",
    "start": "2485069",
    "end": "2490589"
  },
  {
    "text": "just one example so you need a local story and so there I'll you know flip",
    "start": "2490589",
    "end": "2495630"
  },
  {
    "start": "2492000",
    "end": "2806000"
  },
  {
    "text": "over and we'll do some demo somewhere I think I just did the wrong screen but",
    "start": "2495630",
    "end": "2501329"
  },
  {
    "text": "we'll get back there so what I'm gonna do is I'm gonna go to my command here",
    "start": "2501329",
    "end": "2507480"
  },
  {
    "text": "and I'm gonna show you a couple things so first and foremost I've got a bunch",
    "start": "2507480",
    "end": "2514950"
  },
  {
    "text": "of different scripts here and these scripts all open them up in code but the idea is I can run",
    "start": "2514950",
    "end": "2522050"
  },
  {
    "text": "the full kind of back end in front end of the solution that I just described right in containers on my local machine",
    "start": "2522050",
    "end": "2527990"
  },
  {
    "text": "if I want it debug in Visual Studio then what I might do is something like this",
    "start": "2527990",
    "end": "2535660"
  },
  {
    "text": "to start okay so what this is going to",
    "start": "2538150",
    "end": "2545660"
  },
  {
    "text": "do is it's going to run a script that's going to do a compose up on certain list",
    "start": "2545660",
    "end": "2551330"
  },
  {
    "text": "of things right so I'm going to do a cat on demo back-end ps1 and what this going",
    "start": "2551330",
    "end": "2559040"
  },
  {
    "text": "to do is going to do a docker compose if you're familiar with docker and what that does is it runs you know creating a",
    "start": "2559040",
    "end": "2566240"
  },
  {
    "text": "network creating the Postgres backend creating the kafka back on creating",
    "start": "2566240",
    "end": "2572210"
  },
  {
    "text": "Redis creating elke and that's giving me my back-end now I can go to visual studio around the front end and I can",
    "start": "2572210",
    "end": "2578930"
  },
  {
    "text": "actually debug but hit you know a back-end that's on my local machine instead of going to some cloud and",
    "start": "2578930",
    "end": "2584540"
  },
  {
    "text": "figuring out where to configure that right so that's one kind of starting point usually you'll build a bunch of",
    "start": "2584540",
    "end": "2590870"
  },
  {
    "text": "scripts for things like that so I can do a start back-end and then this will",
    "start": "2590870",
    "end": "2598880"
  },
  {
    "text": "start those containers so now I'm going to have it Redis and an elk and a bunch of things",
    "start": "2598880",
    "end": "2604300"
  },
  {
    "text": "and then to point out a couple things about that so in my LP amo for example",
    "start": "2609290",
    "end": "2616200"
  },
  {
    "text": "I'm just pulling one of the popular you know easy to work with local containers",
    "start": "2616200",
    "end": "2621270"
  },
  {
    "text": "for Elks the full you know elasticsearch stack with Cabana with cabana so I can have a UI right and what that gives me",
    "start": "2621270",
    "end": "2627960"
  },
  {
    "text": "is a way to easily debug right so I can come over here and well there it is",
    "start": "2627960",
    "end": "2633210"
  },
  {
    "text": "right so localhost 5601 so let's do that",
    "start": "2633210",
    "end": "2638670"
  },
  {
    "text": "oh it's not warning at wait wait for it",
    "start": "2638670",
    "end": "2645380"
  },
  {
    "text": "and is it running yep okay",
    "start": "2647900",
    "end": "2655279"
  },
  {
    "text": "the internet don't need it",
    "start": "2663470",
    "end": "2668019"
  },
  {
    "text": "that's interesting okay I'm gonna just",
    "start": "2669460",
    "end": "2675850"
  },
  {
    "text": "check that the docker container LS let's just check that it's still working",
    "start": "2675850",
    "end": "2681610"
  },
  {
    "text": "because every once in a while they start and stop right so let's see god ELQ yeah",
    "start": "2681610",
    "end": "2691080"
  },
  {
    "text": "and it's been up for fifteen whole seconds Wow how about we do this and I open up a new",
    "start": "2691080",
    "end": "2699640"
  },
  {
    "text": "Chrome I don't know why I'm bothering but I'm just trying to see hang on we're",
    "start": "2699640",
    "end": "2705580"
  },
  {
    "text": "on one 5601 oh it's not ready yet",
    "start": "2705580",
    "end": "2715840"
  },
  {
    "text": "excuse me health check for the win alright well let's let that get ready",
    "start": "2715840",
    "end": "2721420"
  },
  {
    "text": "and then I'm sure one of these moments it'll refresh so in the meantime let's come back over here so that's the Cabana",
    "start": "2721420",
    "end": "2727420"
  },
  {
    "text": "one I would have a Kafka one and again I could use a vents door Kafka I'm not",
    "start": "2727420",
    "end": "2732970"
  },
  {
    "text": "saying you need to become an expert at Kafka that's a big deal right I'm not",
    "start": "2732970",
    "end": "2738280"
  },
  {
    "text": "managing a cluster I'm not trying to do this and to end I'm just trying to have",
    "start": "2738280",
    "end": "2743320"
  },
  {
    "text": "something locally that I can write messages to because I can't use event hubs on-prem right same with Kinesis so",
    "start": "2743320",
    "end": "2749920"
  },
  {
    "text": "this is giving me a story around that so I can pull down Kafka I can run it and then that's available for messaging",
    "start": "2749920",
    "end": "2755940"
  },
  {
    "text": "likewise with Postgres right so you know I'm not trying to be a cop Postgres expert I'm just trying to use you know",
    "start": "2755940",
    "end": "2762160"
  },
  {
    "text": "any framework and switch over between local and then going to cloud or using",
    "start": "2762160",
    "end": "2767410"
  },
  {
    "text": "Martin for example so and then the PG admin tool just gives me a way to view that so that's my local story if you",
    "start": "2767410",
    "end": "2773200"
  },
  {
    "text": "will let me go back and see if cabaas ready not that I was nervous okay thank",
    "start": "2773200",
    "end": "2786490"
  },
  {
    "text": "you okay so now let's talk about now my backends running I can go to visual",
    "start": "2786490",
    "end": "2792970"
  },
  {
    "text": "studio and we'll ignore that Visual Studio is going to give me",
    "start": "2792970",
    "end": "2799570"
  },
  {
    "text": "a way to let me close that down make it",
    "start": "2799570",
    "end": "2806350"
  },
  {
    "start": "2806000",
    "end": "2953000"
  },
  {
    "text": "a little room so this is my entire solution right so I've got a bunch of clients you know API in an MVC client",
    "start": "2806350",
    "end": "2813760"
  },
  {
    "text": "I've got consumers that are gonna pull messages right so these guys are responsible for pulling messages the run",
    "start": "2813760",
    "end": "2820030"
  },
  {
    "text": "time the user history and the user audit I've got a configuration API and that's",
    "start": "2820030",
    "end": "2826870"
  },
  {
    "text": "for writing to the configuration schema which will be a sequel in the cloud and Postgres here I've got identity server",
    "start": "2826870",
    "end": "2834100"
  },
  {
    "text": "the web app I've got user profile which is comprised of an API and also a web",
    "start": "2834100",
    "end": "2841150"
  },
  {
    "text": "app so the web app for for the profile",
    "start": "2841150",
    "end": "2847480"
  },
  {
    "text": "is for me to register and the backend is going to show me things like in start-up",
    "start": "2847480",
    "end": "2853320"
  },
  {
    "text": "how do I slip between Kafka right so if I'm Kafka then I'm gonna run here and if",
    "start": "2853320",
    "end": "2861670"
  },
  {
    "text": "I'm event hub then I'm gonna run here you see and obviously I can provide our",
    "start": "2861670",
    "end": "2867310"
  },
  {
    "text": "pattern that in like a real production example this is showing if-else just to keep it kind of simple but you know the",
    "start": "2867310",
    "end": "2874450"
  },
  {
    "text": "idea would be in production in a real sort of you know customer project we usually make it a little bit more decoupled and then if I look at app",
    "start": "2874450",
    "end": "2881560"
  },
  {
    "text": "settings I'm expecting my local dev to say hey I want to use Kafka so I'm overriding the default right and when I",
    "start": "2881560",
    "end": "2889090"
  },
  {
    "text": "deploy in a container my environment variable overrides are going to say what I'm supposed to do and then obviously",
    "start": "2889090",
    "end": "2894940"
  },
  {
    "text": "I'm gonna have secrets and things but those would go outside of the container configuration into secrets so we're",
    "start": "2894940",
    "end": "2901270"
  },
  {
    "text": "gonna have logging choices am i using you know elastic yes I am locally and",
    "start": "2901270",
    "end": "2908020"
  },
  {
    "text": "I'm using a local Redis URL but when I flipped a cloud I'm gonna flip it over to cloud version of all the same right",
    "start": "2908020",
    "end": "2914140"
  },
  {
    "text": "so the idea is when I'm structuring my apps around this one thing that you want to make note of is having that really",
    "start": "2914140",
    "end": "2919690"
  },
  {
    "text": "strong local story and then the flip to the cloud story somebody should proof that right and get",
    "start": "2919690",
    "end": "2926140"
  },
  {
    "text": "it so that all the devs can use it and then it's not like you have to reinvent the wheel every time right once you've got this baked it's pretty solid",
    "start": "2926140",
    "end": "2933220"
  },
  {
    "text": "so that's another thing to consider the other is obviously you know once I'm",
    "start": "2933220",
    "end": "2938470"
  },
  {
    "text": "running a Kafka's consumer for example so I'm gonna actually let this start",
    "start": "2938470",
    "end": "2943980"
  },
  {
    "text": "kafka consumer is going to be running instead of event hubs and its job is to have probably the same interface as",
    "start": "2943980",
    "end": "2950020"
  },
  {
    "text": "event hubs right what do I do with kafka consumer I write I send messages and the sorry the producer and then the consumer",
    "start": "2950020",
    "end": "2957670"
  },
  {
    "start": "2953000",
    "end": "3124000"
  },
  {
    "text": "is going to read the messages rights likewise they got the event hubs version of producing and consuming so you know",
    "start": "2957670",
    "end": "2963369"
  },
  {
    "text": "we're really just making it as clean as possible so I can work locally and do this full-blown messaging and the reason",
    "start": "2963369",
    "end": "2969250"
  },
  {
    "text": "I point that out is mostly because what you want to do again is make sure you're learning how to debug with your logs and",
    "start": "2969250",
    "end": "2975790"
  },
  {
    "text": "you're learning how to work the full system you're not testing without messages and then flipping to the dev",
    "start": "2975790",
    "end": "2980890"
  },
  {
    "text": "environment and testing with messages from the beginning we're doing the full story in our local machine yeah so",
    "start": "2980890",
    "end": "2987160"
  },
  {
    "text": "that's the idea so this will take a couple seconds to load and then while it's doing that let's talk about a couple other things in here so I've got",
    "start": "2987160",
    "end": "2997240"
  },
  {
    "text": "the user profile web for example that's gonna hit my breakpoint oh cool didn't",
    "start": "2997240",
    "end": "3003180"
  },
  {
    "text": "take us long so you can see that I'm hitting my breakpoint that says hey I'm in local so I'm gonna use elasticsearch",
    "start": "3003180",
    "end": "3008910"
  },
  {
    "text": "right so not really anything complicated I'm just gonna give it a run so you can see that I can run my back-end and I can",
    "start": "3008910",
    "end": "3014280"
  },
  {
    "text": "run the front-end and it kind of works right or more than kinda so there's that",
    "start": "3014280",
    "end": "3019970"
  },
  {
    "text": "so let's see yeah it does take a couple",
    "start": "3019970",
    "end": "3028619"
  },
  {
    "text": "seconds so we've hit one great point but a couple more seconds because it's just",
    "start": "3028619",
    "end": "3034100"
  },
  {
    "text": "slow which is why I usually debug with docker instead just use the containers I",
    "start": "3034100",
    "end": "3039720"
  },
  {
    "text": "mean so basically now I'm hitting the choice of Kafka so I've got a config setting that's telling me hey go to the",
    "start": "3039720",
    "end": "3045450"
  },
  {
    "text": "Kafka version so we're gonna hit that and then at some point here we're gonna see our UI and then I'm going to be able",
    "start": "3045450",
    "end": "3050880"
  },
  {
    "text": "to run through an example that hits the messaging story so while we're doing that let me go to an example of batch so",
    "start": "3050880",
    "end": "3058740"
  },
  {
    "text": "we're going to open up a message so here we are we're gonna send a message that's gonna be a topic check",
    "start": "3058740",
    "end": "3065410"
  },
  {
    "text": "probably so we're gonna go and hit that I've got a consumer that shows me the",
    "start": "3065410",
    "end": "3072370"
  },
  {
    "text": "best messages that I'm processing so that's just going back in time and hitting those messages that probably",
    "start": "3072370",
    "end": "3078190"
  },
  {
    "text": "were from the last run that weren't processed yet now I'm going to handle message but we're gonna keep going",
    "start": "3078190",
    "end": "3084190"
  },
  {
    "text": "because right now this is just topic checks mostly and then we're gonna have",
    "start": "3084190",
    "end": "3092830"
  },
  {
    "text": "UI and it'll be in support five thousand",
    "start": "3092830",
    "end": "3098050"
  },
  {
    "text": "seven so we'll see when that's ready I'm going to hit over here and we'll say",
    "start": "3098050",
    "end": "3103540"
  },
  {
    "text": "localhost five thousand seven",
    "start": "3103540",
    "end": "3107430"
  },
  {
    "text": "and",
    "start": "3113530",
    "end": "3116070"
  },
  {
    "text": "it's almost there okay so my UI is",
    "start": "3123280",
    "end": "3129130"
  },
  {
    "text": "running against my back-end containers when I register user is going to send a message to the Kafka queue right so what",
    "start": "3129130",
    "end": "3136060"
  },
  {
    "text": "I'm gonna say is Michelle boost uh I'm gonna create an email here and we'll call it local demo one at gmail.com yeah",
    "start": "3136060",
    "end": "3146340"
  },
  {
    "text": "and we'll go ahead and copy that clipboard and we'll say local one boost",
    "start": "3146340",
    "end": "3154000"
  },
  {
    "text": "enter so it's going to create a user and",
    "start": "3154000",
    "end": "3164170"
  },
  {
    "text": "that's hitting again back in containers but I'm gonna hit a breakpoint and this is now going to try and create my",
    "start": "3164170",
    "end": "3170890"
  },
  {
    "start": "3165000",
    "end": "3371000"
  },
  {
    "text": "message so I have a new user registration requested message being generated and I'm gonna go to that",
    "start": "3170890",
    "end": "3176830"
  },
  {
    "text": "definition and just show you from a micro services perspective right I'm",
    "start": "3176830",
    "end": "3182170"
  },
  {
    "text": "only dealing with a handful of messages so that's all of them right now I mean",
    "start": "3182170",
    "end": "3187390"
  },
  {
    "text": "probably in the real domain it's about you know 30 messages or something right for that particular you know",
    "start": "3187390",
    "end": "3194320"
  },
  {
    "text": "microservice if you will right so if I break this down by Microsoft and the messages are manageable right I'm gonna",
    "start": "3194320",
    "end": "3200230"
  },
  {
    "text": "have a solution for microcircuits I'm gonna have a separate API per micro service right so that's going to be a",
    "start": "3200230",
    "end": "3206290"
  },
  {
    "text": "manageable number of events to think about to debug against to write unit tests for and to potentially roll out",
    "start": "3206290",
    "end": "3214000"
  },
  {
    "text": "into production right so it's just sort of helps me to not have to think about the whole system all at once so this is",
    "start": "3214000",
    "end": "3220119"
  },
  {
    "text": "helpful I'm gonna hit go so that's creating that message and we're gonna",
    "start": "3220119",
    "end": "3225730"
  },
  {
    "text": "send the message so that's just see realizing that and getting it into Kafka and then once it's done there's going to",
    "start": "3225730",
    "end": "3231490"
  },
  {
    "text": "be a handle so we're gonna process the message so we're pulling that and doing a commit to the database on the other",
    "start": "3231490",
    "end": "3241630"
  },
  {
    "text": "side right so once that's processed we now should have navigated that might",
    "start": "3241630",
    "end": "3248770"
  },
  {
    "text": "just be me not having an API running but I think at the end what we're gonna do",
    "start": "3248770",
    "end": "3253930"
  },
  {
    "text": "is pop over here scroll down and what I'm gonna do is",
    "start": "3253930",
    "end": "3261059"
  },
  {
    "text": "okay cool okay so right now we have only the back hand running what I'm gonna do",
    "start": "3263039",
    "end": "3269200"
  },
  {
    "text": "is I'm gonna start the front ends so I'm gonna start the apps whole thing is going to run locally and I can go into",
    "start": "3269200",
    "end": "3274450"
  },
  {
    "text": "end rather than hitting in Visual Studio which is a bit slow so we're starting now the front end user run - I forgot to",
    "start": "3274450",
    "end": "3282940"
  },
  {
    "text": "stop Visual Studio hang on got a stop ports are being used stop that get out",
    "start": "3282940",
    "end": "3293289"
  },
  {
    "text": "of there and hit back all part of my plan to remind you about ports cuz you",
    "start": "3293289",
    "end": "3300880"
  },
  {
    "text": "know that's important so now I'm gonna run the containers and because I nearer",
    "start": "3300880",
    "end": "3306579"
  },
  {
    "text": "PowerShell will be red which is lovely but it doesn't mean there's an error",
    "start": "3306579",
    "end": "3312190"
  },
  {
    "text": "anymore and this will start up all of",
    "start": "3312190",
    "end": "3318039"
  },
  {
    "text": "those containers that were in the solution and once that's all done now I can just go to the same port five",
    "start": "3318039",
    "end": "3323980"
  },
  {
    "text": "thousand seven and away we go so I'm gonna go over here localhost five",
    "start": "3323980",
    "end": "3330819"
  },
  {
    "text": "thousand seven I'm not ready yet it will be it will be it will be almost",
    "start": "3330819",
    "end": "3341130"
  },
  {
    "text": "docker container LS and we've got all of",
    "start": "3341130",
    "end": "3349599"
  },
  {
    "text": "them running profile web five thousand seven [Music]",
    "start": "3349599",
    "end": "3357000"
  },
  {
    "text": "refresh and it should be ready it's",
    "start": "3358829",
    "end": "3364390"
  },
  {
    "text": "thinking who wrote that slow app okay so now",
    "start": "3364390",
    "end": "3371880"
  },
  {
    "start": "3371000",
    "end": "3600000"
  },
  {
    "text": "let's try it again paste not that localhost no Michele",
    "start": "3371880",
    "end": "3377219"
  },
  {
    "text": "booster at gmail.com and Michele who's",
    "start": "3377219",
    "end": "3382289"
  },
  {
    "text": "to enter and now it will register so",
    "start": "3382289",
    "end": "3388409"
  },
  {
    "text": "it's gonna take me to a fake email page it's gonna send a message to Kafka and Kafka is gonna say you know the back end",
    "start": "3388409",
    "end": "3396150"
  },
  {
    "text": "consumers going to say okay we're gonna send a message to the user we're gonna register we're gonna write that the registration was requested but now I'm",
    "start": "3396150",
    "end": "3402209"
  },
  {
    "text": "gonna click my link and I'm gonna go through the process of setting my password and we're gonna do that it's",
    "start": "3402209",
    "end": "3407489"
  },
  {
    "text": "gonna fail because I'm gonna give a bad password and that's okay because I'm gonna do bug with my log so I'm gonna go",
    "start": "3407489",
    "end": "3412890"
  },
  {
    "text": "over here and I'm gonna do query for password and I'm gonna find that error",
    "start": "3412890",
    "end": "3418609"
  },
  {
    "text": "and I'm gonna get whatever that error is",
    "start": "3418609",
    "end": "3424469"
  },
  {
    "text": "and I'm gonna say hey why don't I do an end-to-end trace so that can really debug with my logs so I'm gonna go and add the activity ID boom and when I add",
    "start": "3424469",
    "end": "3433890"
  },
  {
    "text": "that and take away mmm password I'm gonna be able to see all the messages that happened leading up to this problem",
    "start": "3433890",
    "end": "3441539"
  },
  {
    "text": "so that I can troubleshoot locally with my logs instead of winning in Visual Studio which was too slow anyway so now",
    "start": "3441539",
    "end": "3448409"
  },
  {
    "text": "I'm looking at all the things that happened up to that error I'm figuring out the problem you know if I don't like my logs I'm gonna go fix them and add",
    "start": "3448409",
    "end": "3454619"
  },
  {
    "text": "some more intelligence so that I can debug with my logs later and that is my local story so what I'm gonna do now is",
    "start": "3454619",
    "end": "3461130"
  },
  {
    "text": "I'm gonna do the cloud story and so what we'll do is probably stay in the red",
    "start": "3461130",
    "end": "3468059"
  },
  {
    "text": "screen and what we'll do is go back I",
    "start": "3468059",
    "end": "3474349"
  },
  {
    "text": "guess and then we're gonna go to connect to my conference demo so now I'm going",
    "start": "3474349",
    "end": "3482519"
  },
  {
    "text": "to connect to my kubernetes cluster that has the same thing deployed okay and with that same thing deployed we'll be",
    "start": "3482519",
    "end": "3488309"
  },
  {
    "text": "able to navigate",
    "start": "3488309",
    "end": "3491419"
  },
  {
    "text": "it's not I only have a few minutes left don't worry about it",
    "start": "3494950",
    "end": "3501349"
  },
  {
    "text": "it's the plug that's not working so he's worried about my power okay all right so",
    "start": "3501349",
    "end": "3512270"
  },
  {
    "text": "this gonna connect to kubernetes and while it's thinking about that we're gonna go to Asher and we're going to go",
    "start": "3512270",
    "end": "3518300"
  },
  {
    "text": "to portal asher calm and we're gonna log",
    "start": "3518300",
    "end": "3525830"
  },
  {
    "text": "in because apparently it doesn't remember and liar",
    "start": "3525830",
    "end": "3533980"
  },
  {
    "text": "yeah I have my phone here that's a good",
    "start": "3539880",
    "end": "3548609"
  },
  {
    "text": "thing huh I'm very secure yeah okay",
    "start": "3548609",
    "end": "3555680"
  },
  {
    "text": "all right and in the meantime kubernetes should be launching so we're over here",
    "start": "3556130",
    "end": "3562190"
  },
  {
    "text": "yes okay it's gonna ask me to do an AZ",
    "start": "3562190",
    "end": "3572789"
  },
  {
    "text": "login really I can't believe that's",
    "start": "3572789",
    "end": "3578759"
  },
  {
    "text": "happening hey I might need another",
    "start": "3578759",
    "end": "3584099"
  },
  {
    "text": "minute okay so yes I'm logged in good thank you",
    "start": "3584099",
    "end": "3594140"
  },
  {
    "text": "thank you are you gonna come back let's see yes it did cool okay so now let's try",
    "start": "3594289",
    "end": "3600299"
  },
  {
    "text": "connect not connect yes okay",
    "start": "3600299",
    "end": "3611269"
  },
  {
    "text": "I love that that just happened that's awesome okay so it's connecting to a",
    "start": "3615720",
    "end": "3623910"
  },
  {
    "text": "cougar news cluster I've deployed that whole solution all those containers are running in aks I have an event hub as",
    "start": "3623910",
    "end": "3629760"
  },
  {
    "text": "the backbone instead okay so what we're gonna do is we're gonna hit kubernetes",
    "start": "3629760",
    "end": "3636150"
  },
  {
    "text": "first and we're gonna take a look at the identity namespace where all of these things are deployed so you can see a couple things real quick so in here I've",
    "start": "3636150",
    "end": "3644220"
  },
  {
    "text": "got identity and I'm gonna go to my",
    "start": "3644220",
    "end": "3649500"
  },
  {
    "text": "services right so services and in the services we're gonna see that I have",
    "start": "3649500",
    "end": "3655800"
  },
  {
    "text": "actually I'm going to go to deployments that's better in this deployments we're gonna see that",
    "start": "3655800",
    "end": "3660810"
  },
  {
    "text": "I have a not-so-happy audit consumer which means that right now if I run the",
    "start": "3660810",
    "end": "3666869"
  },
  {
    "text": "actual demo I'm gonna have a problem with audit so we're gonna go through the process as I just did where I'm signing",
    "start": "3666869",
    "end": "3672329"
  },
  {
    "text": "up so I'm gonna go here I'm gonna tighten shell boost as fast as I can nd c1 at gmail.com I have to put a real",
    "start": "3672329",
    "end": "3681359"
  },
  {
    "text": "email yeah elevation for the wind and we'll go NDC one and we'll do boost uh",
    "start": "3681359",
    "end": "3689810"
  },
  {
    "text": "and we'll login and now I'm gonna hit here and we're going to now have",
    "start": "3689810",
    "end": "3694950"
  },
  {
    "text": "messages going so I'm gonna go password one two three and we're gonna login so",
    "start": "3694950",
    "end": "3702660"
  },
  {
    "text": "if I'm able to log in that means the eventual consistent was not fast enough for me not to be able to log in so",
    "start": "3702660",
    "end": "3708060"
  },
  {
    "text": "that's good right so we'll go there see if I remember it yeah and now I've",
    "start": "3708060",
    "end": "3715349"
  },
  {
    "text": "logged in so good right so eventually consistent pretty good that means I have data if I do this Michelle booster and I",
    "start": "3715349",
    "end": "3727710"
  },
  {
    "text": "want to do maybe a different one in case I already exist there so we'll do plus and ec2 and we'll copy that one too and",
    "start": "3727710",
    "end": "3739349"
  },
  {
    "text": "we'll do gusta and we'll register and we'll go",
    "start": "3739349",
    "end": "3745140"
  },
  {
    "text": "and try and confirm my email but this time I'm gonna do a bad password and",
    "start": "3745140",
    "end": "3750710"
  },
  {
    "text": "that's okay because that's gonna be an error next time I'm gonna try it actually better and then I'm gonna log",
    "start": "3750710",
    "end": "3760710"
  },
  {
    "text": "in but I'm gonna fail instead so I'm going to type that and do a bad password a couple times and a couple more times",
    "start": "3760710",
    "end": "3767940"
  },
  {
    "text": "and I'm gonna get locked out okay and now I'm gonna hit over here to a sure",
    "start": "3767940",
    "end": "3775710"
  },
  {
    "text": "which is where I was and we're gonna take a look at those resources so I've",
    "start": "3775710",
    "end": "3784380"
  },
  {
    "text": "got a resource SM so I've got a resource",
    "start": "3784380",
    "end": "3789750"
  },
  {
    "text": "for where my events are and I've got a resource for where my cosmos databases",
    "start": "3789750",
    "end": "3794960"
  },
  {
    "text": "events are coming in through here and we're going to go to my cosmos I'm gonna",
    "start": "3794960",
    "end": "3803940"
  },
  {
    "text": "see if those things projected as expected but I'm gonna have a history table now and I'm gonna have login backend which",
    "start": "3803940",
    "end": "3811619"
  },
  {
    "text": "is the sequel so that's already working because I showed I was able to log in right and what I'm gonna do is I'm gonna",
    "start": "3811619",
    "end": "3816869"
  },
  {
    "text": "hit my IKS version of user history and I",
    "start": "3816869",
    "end": "3822930"
  },
  {
    "text": "come in and query and see if I've got my history generated from the projector like we talked about so we'll do a this",
    "start": "3822930",
    "end": "3835049"
  },
  {
    "text": "is Kafka this is eCos",
    "start": "3835049",
    "end": "3842540"
  },
  {
    "text": "it's warm and someone here is aks where's my egg chaos one that one good",
    "start": "3842890",
    "end": "3848410"
  },
  {
    "text": "okay so I've got user history I'm going to query and we're gonna say execute",
    "start": "3848410",
    "end": "3853780"
  },
  {
    "text": "this one and then what we're gonna do is this one says C underscore or C dot",
    "start": "3853780",
    "end": "3866040"
  },
  {
    "text": "actually will do star his fine and I'm gonna say where Cu dot email or username",
    "start": "3867360",
    "end": "3879570"
  },
  {
    "text": "probably email equals and we'll paste",
    "start": "3879570",
    "end": "3885250"
  },
  {
    "text": "what I had and not hit enter and then that should show me if I was right yeah",
    "start": "3885250",
    "end": "3892240"
  },
  {
    "text": "and ec2 or as history protecting is",
    "start": "3892240",
    "end": "3898810"
  },
  {
    "text": "probably email or username that should be that should be there so if it's not",
    "start": "3898810",
    "end": "3904390"
  },
  {
    "text": "there then it might be because hmm",
    "start": "3904390",
    "end": "3913240"
  },
  {
    "text": "interesting okay we're gonna do this instead a different way I am batting a thousand",
    "start": "3913240",
    "end": "3920290"
  },
  {
    "text": "here hang on",
    "start": "3920290",
    "end": "3924780"
  },
  {
    "text": "I know Oh is it not doing the right one oh no way",
    "start": "3927500",
    "end": "3933920"
  },
  {
    "text": "thank you pair programming is this one a",
    "start": "3933920",
    "end": "3939050"
  },
  {
    "text": "kiss yeah I love this interface okay",
    "start": "3939050",
    "end": "3944810"
  },
  {
    "text": "let's try that again better wear seedot email equals that",
    "start": "3944810",
    "end": "3953210"
  },
  {
    "text": "yeah okay there we go",
    "start": "3953210",
    "end": "3959050"
  },
  {
    "text": "okay thank you and now we're gonna take that user ID and we're gonna do this I'm",
    "start": "3959050",
    "end": "3966710"
  },
  {
    "text": "gonna say wear ID subject ID equals that",
    "start": "3966710",
    "end": "3975520"
  },
  {
    "text": "and that's gonna give me all the messages that have happened including C",
    "start": "3975520",
    "end": "3985250"
  },
  {
    "text": "dot message type yeah and now you can",
    "start": "3985250",
    "end": "3992630"
  },
  {
    "text": "see all the messages that have been projected user created log and failed etc that's all my history fully",
    "start": "3992630",
    "end": "3998810"
  },
  {
    "text": "functioning right and so now the interesting thing is if I do that same query over on audit for the same user",
    "start": "3998810",
    "end": "4005800"
  },
  {
    "text": "right we're probably not going to get anything right now but we are in about a second because what we're gonna do is we're",
    "start": "4005800",
    "end": "4011860"
  },
  {
    "text": "gonna head over here I'm gonna do CD",
    "start": "4011860",
    "end": "4016950"
  },
  {
    "text": "surviving I guess and we're gonna go to",
    "start": "4018180",
    "end": "4023680"
  },
  {
    "text": "identity and we're going to do a update",
    "start": "4023680",
    "end": "4032890"
  },
  {
    "text": "all and that's kind of deploy oh you've got to be kidding me",
    "start": "4032890",
    "end": "4038200"
  },
  {
    "text": "hang on it's gonna work it's gonna go like this we're gonna connect again it",
    "start": "4038200",
    "end": "4043630"
  },
  {
    "text": "lost the connection it does that sometimes and once that's connected again then it's gonna work because that's what it",
    "start": "4043630",
    "end": "4051790"
  },
  {
    "text": "does see if it's connected ready ready ready ready",
    "start": "4051790",
    "end": "4057420"
  },
  {
    "text": "ready I think that might have actually",
    "start": "4057420",
    "end": "4063520"
  },
  {
    "text": "done it and now we're gonna do it oh come on really",
    "start": "4063520",
    "end": "4072599"
  },
  {
    "text": "I I hate you right now I was gonna do a",
    "start": "4077300",
    "end": "4082520"
  },
  {
    "text": "deployment so that it just fixed it right away and instead I'm gonna have to come here and do it because up here if I",
    "start": "4082520",
    "end": "4088940"
  },
  {
    "text": "go to my identity I can fix the audit and it'll just work that is so weird",
    "start": "4088940",
    "end": "4096940"
  },
  {
    "text": "okay you're not gonna do it are you okay",
    "start": "4096940",
    "end": "4104528"
  },
  {
    "text": "Wow okay well audits feeling so we're gonna just go in here and we're gonna",
    "start": "4104529",
    "end": "4110540"
  },
  {
    "text": "fix it and I'm gonna fix it by fixing the cosmos zero there and we're gonna",
    "start": "4110540",
    "end": "4121700"
  },
  {
    "text": "update that so that's going to update the deployment so that it's happy and it has the right key and that means cosmos",
    "start": "4121700",
    "end": "4133220"
  },
  {
    "text": "is gonna show me fun stuff which is here and identity here in data explorer right",
    "start": "4133220",
    "end": "4146410"
  },
  {
    "text": "there you go oh well thank God for that okay so with",
    "start": "4146710",
    "end": "4154990"
  },
  {
    "text": "that being said I think just to close it up here right the whole point of all of",
    "start": "4154990",
    "end": "4160270"
  },
  {
    "text": "this was to see that you could yeah",
    "start": "4160270",
    "end": "4168540"
  },
  {
    "text": "screens are fun it's",
    "start": "4168900",
    "end": "4175589"
  },
  {
    "text": "okay slides slide bugs no okay so the",
    "start": "4178869",
    "end": "4185960"
  },
  {
    "text": "whole point of that was just to say you know we have this compartmentalization",
    "start": "4185960",
    "end": "4191298"
  },
  {
    "text": "of smaller micro-services manageable number of messages manageable amount of code to deal with introduced your",
    "start": "4191299",
    "end": "4196460"
  },
  {
    "text": "messaging backbone how to do eventual consistency and have it be manageable",
    "start": "4196460",
    "end": "4201889"
  },
  {
    "text": "because of the fact that each of these isolated have a limited number of our messages I can focus just on the API the",
    "start": "4201889",
    "end": "4207559"
  },
  {
    "text": "projectors the messages the backend I can count on the eventual consistency build my projectors so the idea is I",
    "start": "4207559",
    "end": "4213920"
  },
  {
    "text": "have now this repeatable pattern a manageable amount of things to do in each and you know after that we're gonna",
    "start": "4213920",
    "end": "4221150"
  },
  {
    "text": "deal with additional you know thoughts right additional concepts like snapshots message replay polling and replay",
    "start": "4221150",
    "end": "4228260"
  },
  {
    "text": "message versioning Poisson message handling preserving order which I said is per domain or pore mica service if",
    "start": "4228260",
    "end": "4235849"
  },
  {
    "text": "everything can't be eventual we can deal with those cases on a case-by-case basis and then we need our drills and alerts",
    "start": "4235849",
    "end": "4241969"
  },
  {
    "text": "and monitoring around it for the sensitive areas to make sure that they played on time so yes it's a lot of work",
    "start": "4241969",
    "end": "4246980"
  },
  {
    "text": "but the benefit on the other side should be that you can project and have your audit in your history for free have",
    "start": "4246980",
    "end": "4252469"
  },
  {
    "text": "visibility into the system and then I'm gonna just say I'm out no pain no gain thank you",
    "start": "4252469",
    "end": "4259000"
  },
  {
    "text": "and that was painful",
    "start": "4261789",
    "end": "4266280"
  }
]