[
  {
    "text": "okay so opening doors a JSON web tokens thank my name is Ben Dekker I work for Xero as",
    "start": "9820",
    "end": "16540"
  },
  {
    "text": "a developer advocate does anybody know the difference between developer advocate and somebody in marketing I",
    "start": "16540",
    "end": "23130"
  },
  {
    "text": "give away I give away the t-shirt to the 603 don't have to sign a form for me I actually do have stickers and t-shirts",
    "start": "23130",
    "end": "29500"
  },
  {
    "text": "if you want any come see me afterwards in various sizes I think Dylan deserves one or maybe all three of them yeah I",
    "start": "29500",
    "end": "38170"
  },
  {
    "text": "want to talk to you about JSON web token security opening doors those kind of things let's just get started we'll show",
    "start": "38170",
    "end": "43780"
  },
  {
    "text": "and see where we end up does anybody remember when Amazon key came out does anybody here not know what Amazon",
    "start": "43780",
    "end": "50230"
  },
  {
    "text": "key is so the other thing that Sonia mentioned in her talk yesterday was that asking people to buy their hands up",
    "start": "50230",
    "end": "56170"
  },
  {
    "text": "there's always at least half the audience who go on mobile in hand up we're just fine I'm not judging but the",
    "start": "56170",
    "end": "61210"
  },
  {
    "text": "hard thing is when you ask somebody to admit they don't know something it's even harder and I just saw about 25% of the the rooms hands go up so thank you",
    "start": "61210",
    "end": "67119"
  },
  {
    "text": "for being honest and it's it's helpful for the presenters to know how to pitch",
    "start": "67119",
    "end": "72460"
  },
  {
    "text": "their their talks and how much details going to so Amazon walk for those of you who aren't away which if I extrapolate",
    "start": "72460",
    "end": "78730"
  },
  {
    "text": "that 25 to 25 percent out it's probably half of you first who didn't want to raise their hands was the mechanism",
    "start": "78730",
    "end": "84100"
  },
  {
    "text": "designed awful a lot I should really like train back shouldn't I keep keep me in check sir I",
    "start": "84100",
    "end": "89190"
  },
  {
    "text": "also stand in front to the screen I wonder a lot so if I'm ever standing in front of me any card reader just tell me",
    "start": "89190",
    "end": "94240"
  },
  {
    "text": "to shove it's fine I'm happy to be a dad or anything like that so Amazon lock coming back onto",
    "start": "94240",
    "end": "100060"
  },
  {
    "text": "topic was a mechanism designed predominantly for us deliveries there's",
    "start": "100060",
    "end": "105159"
  },
  {
    "text": "a thing that happens in the US more so than most other countries from what I can gather where when people get",
    "start": "105159",
    "end": "112150"
  },
  {
    "text": "deliveries at their front door there are some people who drive around in their cars and look after deliveries and take them an Amazon wanted to solve this",
    "start": "112150",
    "end": "118720"
  },
  {
    "text": "problem it's great idea so they developed their own Locker called Amazon lock ingenious name anybody here work",
    "start": "118720",
    "end": "124810"
  },
  {
    "text": "for Amazon excellent oh damn we're recording this Howie",
    "start": "124810",
    "end": "130940"
  },
  {
    "text": "so they decide the thing and look it's a great idea the the principle was that they'd be able to deliver something on",
    "start": "130940",
    "end": "136620"
  },
  {
    "text": "the other side of your door and Udall would then walk again so that nobody could steal it brilliant",
    "start": "136620",
    "end": "142590"
  },
  {
    "text": "but in November 2017 which I think was around about six three to six months",
    "start": "142590",
    "end": "148080"
  },
  {
    "text": "after it first got launched some researchers researchers found a bug in the system that allowed people to",
    "start": "148080",
    "end": "156260"
  },
  {
    "text": "deliver something and then for it still to be stolen so let's have a look at how that happened you have a door you want",
    "start": "156260",
    "end": "164160"
  },
  {
    "text": "to delivery to be made so somebody comes along in their truck and they for this package and they walk up to door and they get out their little device iPad",
    "start": "164160",
    "end": "171450"
  },
  {
    "text": "whatever and it connects off to the cloud yeah being some kind of Amazon service it's basically saying hey I've",
    "start": "171450",
    "end": "177510"
  },
  {
    "text": "got a delivery here maybe they do some kind of scanning to verify and they say I want access to this door and wasn't no",
    "start": "177510",
    "end": "182670"
  },
  {
    "text": "a customer they know which door to unlock so they send back a code that gets transferred via bluetooth to the",
    "start": "182670",
    "end": "189150"
  },
  {
    "text": "door and the door then goes yep that's a valid Bluetooth code I'm going to take that and then it'll send the code back",
    "start": "189150",
    "end": "196440"
  },
  {
    "text": "to the service and say hey I've just got this code it looks valid but can you tell me whether it is actually valid",
    "start": "196440",
    "end": "201600"
  },
  {
    "text": "like double check make sure because I thought obviously otherwise you could just send any code in and as long as it passed some kind of check then who would",
    "start": "201600",
    "end": "209790"
  },
  {
    "text": "open the door we don't want that so does it check back with the Amazon service to make sure that the door is supposed to be opened by the person who's standing there sound sounds great so the door",
    "start": "209790",
    "end": "216600"
  },
  {
    "text": "then opens they leave the package inside when they come out again they can lock",
    "start": "216600",
    "end": "221730"
  },
  {
    "text": "the door and walk away one of the extra security options that you could do was",
    "start": "221730",
    "end": "227760"
  },
  {
    "text": "to buy the Amazon lock a camera I don't know if that's what it was called it was a camera the abort but you'd plug in",
    "start": "227760",
    "end": "233760"
  },
  {
    "text": "connect to your Wi-Fi and you'd then be able to use a device from wherever you are in the world to see somebody like in",
    "start": "233760",
    "end": "239760"
  },
  {
    "text": "real time what's actually happening at your door it's a great extra security feature so what happened was that",
    "start": "239760",
    "end": "246989"
  },
  {
    "text": "somebody found that if you if you knock out the Wi-Fi the camera goes offline",
    "start": "246989",
    "end": "253980"
  },
  {
    "text": "the person looking at their device what do you expect them to see the last frame",
    "start": "253980",
    "end": "260459"
  },
  {
    "text": "captured because that's what happened so the proof concept was and I don't think it",
    "start": "260459",
    "end": "266990"
  },
  {
    "text": "actually got implemented in real life but the proof concept was if I as a delivery person go up and I press the",
    "start": "266990",
    "end": "272120"
  },
  {
    "text": "button unlock the door open the door but the package inside closed the door but I don't press the lock button yet I get a",
    "start": "272120",
    "end": "277490"
  },
  {
    "text": "Wi-Fi jammer at I knocked the camera offline the person who see me deliver it sees the door still closed I open at all they",
    "start": "277490",
    "end": "283759"
  },
  {
    "text": "still see the doors closed I go inside they still see the doors closed I take the package that I just delivered and",
    "start": "283759",
    "end": "289279"
  },
  {
    "text": "maybe their cat closed the door again press lock and go away they've lost that package in their cat very I'm happy now",
    "start": "289279",
    "end": "297289"
  },
  {
    "text": "the reason why this probably didn't happen is because to do that you'd have to be an Amazon delivery employee type",
    "start": "297289",
    "end": "302599"
  },
  {
    "text": "person and if you did that you're probably gonna get fired and they probably didn't want to be fired unless",
    "start": "302599",
    "end": "307669"
  },
  {
    "text": "the cat is very valuable not three months later somebody else had a",
    "start": "307669",
    "end": "313849"
  },
  {
    "text": "different oh they they solved that problem by the way because the reason why was the last photo is because it wasn't actually a live video stream it",
    "start": "313849",
    "end": "319939"
  },
  {
    "text": "was a photo grab every I don't know second or 10 seconds or something sent fireftp to a server and then your device",
    "start": "319939",
    "end": "326180"
  },
  {
    "text": "was just looking at the last photo and it would just get replaced and it didn't get replaced so what they did instead",
    "start": "326180",
    "end": "331189"
  },
  {
    "text": "was if they didn't get any for a certain amount of time they delete the file and it was like there's no photo ship something's gone wrong that's the",
    "start": "331189",
    "end": "337460"
  },
  {
    "text": "solution to be honest I don't know there's a better solution there's at least you're aware that something's gone",
    "start": "337460",
    "end": "343610"
  },
  {
    "text": "wrong with your system so six months later this was more of a research",
    "start": "343610",
    "end": "348620"
  },
  {
    "text": "research thing I don't think it happened but this was a little bit more ingenious and will actually allow somebody who's",
    "start": "348620",
    "end": "353990"
  },
  {
    "text": "not the Amazon employee to steal your package so what happens in this case you've got your door delivery before the",
    "start": "353990",
    "end": "360680"
  },
  {
    "text": "delivery person arrives whoever it is that wants to get their package comes along it's in red because red is an evil color they come along and they've got",
    "start": "360680",
    "end": "368810"
  },
  {
    "text": "this little box it can be really really little box and you can hide it inside a lamp or in a flowerpot or something",
    "start": "368810",
    "end": "374419"
  },
  {
    "text": "something nobody's going to notice but leave this little box at the side of your door and inside its got a Bluetooth",
    "start": "374419",
    "end": "380330"
  },
  {
    "text": "transmitter but it's currently disabled it's off so it's got a Bluetooth sensor which is just listening out for any kind",
    "start": "380330",
    "end": "386330"
  },
  {
    "text": "of Bluetooth radio frequency going on in the vicinity and then they bugger off",
    "start": "386330",
    "end": "392409"
  },
  {
    "text": "meanwhile at some point down the track delivery driver comes along and they connect up to the server and",
    "start": "392409",
    "end": "397550"
  },
  {
    "text": "they get that Bluetooth code and they sent the Bluetooth code to the door and the door then goes and checks in and unlocks and that's all fine meanwhile",
    "start": "397550",
    "end": "403880"
  },
  {
    "text": "this little box is detected that there's been a Bluetooth signal can't read it obviously because it's secure it's a pairing process right so it can't read",
    "start": "403880",
    "end": "411320"
  },
  {
    "text": "what the data was but it knows that there was a bluetooth transmission that just happened so what does it do next",
    "start": "411320",
    "end": "416830"
  },
  {
    "text": "it turns on is bluetooth jammer so in order to lock the door the person",
    "start": "416830",
    "end": "423110"
  },
  {
    "text": "because they don't know how long the door needs to be unlocked for the person who is making the delivery will open the door but the package inside close the",
    "start": "423110",
    "end": "428450"
  },
  {
    "text": "door and then they'll press the lock button on their device the lock button well going to use the Bluetooth",
    "start": "428450",
    "end": "434840"
  },
  {
    "text": "connection to the door and say I want you to lock then it will wait for confirmation that the door is locked Sam sensible yeah what happens if it",
    "start": "434840",
    "end": "442970"
  },
  {
    "text": "can't connect because bluetooth has been jammed it's never going to get a response it doesn't know that it's not",
    "start": "442970",
    "end": "448700"
  },
  {
    "text": "even getting the message to the door but it's never going to get a response so times out and what happens in the app",
    "start": "448700",
    "end": "454280"
  },
  {
    "text": "when it times that it says door locked",
    "start": "454280",
    "end": "459610"
  },
  {
    "text": "so delivery driver buggers off thank you the door is locked isn't actually locked evil red person",
    "start": "463660",
    "end": "469400"
  },
  {
    "text": "comes back opens the door takes the package takes their package walks away you come home your deliveries aren't",
    "start": "469400",
    "end": "475400"
  },
  {
    "text": "there your doors unlocked but everything else looks normal they didn't want the",
    "start": "475400",
    "end": "481040"
  },
  {
    "text": "care feed only two hens like grand piano one hand and Bluetooth camera in the other suppose you could swing a cat over",
    "start": "481040",
    "end": "487550"
  },
  {
    "text": "your shoulder they probably took the parrot there anybody have parrots okay",
    "start": "487550",
    "end": "494990"
  },
  {
    "text": "I'm not sure whether stealing pair of scissors is an offensive statement I didn't want to get in trouble I noticed",
    "start": "494990",
    "end": "501500"
  },
  {
    "text": "there's some people spilling over that side who might not be able to see the screen if there's anything important on the screen that happens the rest assured",
    "start": "501500",
    "end": "507800"
  },
  {
    "text": "I do wonder a lot I'll probably also do an interpretive dance so you'll be fine so I was thinking myself there's got to",
    "start": "507800",
    "end": "514520"
  },
  {
    "text": "be a better way I mean first of all connecting a door to an internet that",
    "start": "514520",
    "end": "520880"
  },
  {
    "text": "that doesn't need it to happen I mean connecting a fridge to the",
    "start": "520880",
    "end": "526160"
  },
  {
    "text": "Internet is stupid enough why would you care your daughter the Internet so but is there a way we can do this without connecting the door to the Internet at",
    "start": "526160",
    "end": "532190"
  },
  {
    "text": "all can we secure it in a different way so I still want to have a mobile app of",
    "start": "532190",
    "end": "537320"
  },
  {
    "text": "some sort obviously whoever's making the delivery is going to need some way of communicating there's this unlock",
    "start": "537320",
    "end": "544100"
  },
  {
    "text": "process so we can have this mobile app the mobile app is still going to connect to the cloud in some way but instead of",
    "start": "544100",
    "end": "550160"
  },
  {
    "text": "generating a code that gets transmitted to the server we're going to use some kind of identity provider but JSON web",
    "start": "550160",
    "end": "556450"
  },
  {
    "text": "JSON web token compliant hence the title at all any questions thanks coming it's",
    "start": "556450",
    "end": "564140"
  },
  {
    "text": "been great so we get the JSON web token back which we can then transfer via NFC sure NFC can still be jammed but one of",
    "start": "564140",
    "end": "571310"
  },
  {
    "text": "the advantages of NFC is that it's a near field it's harder to jam you candied if it's if the jammer is further",
    "start": "571310",
    "end": "577400"
  },
  {
    "text": "away you need a bigger device to jam the signal also NFC is is something that you",
    "start": "577400",
    "end": "584600"
  },
  {
    "text": "can connect to most IOT devices as evidenced by this thing here which I'll cross my fingers will work and then once",
    "start": "584600",
    "end": "591770"
  },
  {
    "text": "the code has been sent to the door the door doesn't actually need to go off to the Internet to the identity provider to",
    "start": "591770",
    "end": "597800"
  },
  {
    "text": "verify because for those of you familiar with JSON web tokens there's a signature component and that signature component",
    "start": "597800",
    "end": "602900"
  },
  {
    "text": "can be verified in order to verify the payload is accurate which means you can trust the payload and if the payload gives you the information you're",
    "start": "602900",
    "end": "608660"
  },
  {
    "text": "expecting then you know that it's a good trace and web token and you can unlock the door so you actually verify JSON web",
    "start": "608660",
    "end": "613790"
  },
  {
    "text": "token in the completely siloed environment with no needs to connect it to an external service to verify that",
    "start": "613790",
    "end": "619100"
  },
  {
    "text": "the token is still valid was valid in the first place or even is intended for you because the JSON web token will",
    "start": "619100",
    "end": "625280"
  },
  {
    "text": "contain information in there that tells you whether or not you are the intended recipient of that information so let's",
    "start": "625280",
    "end": "634130"
  },
  {
    "text": "delve down into a bit more of the technical things and this is where the interpretive dance will come in so how does the solution work you got a mobile",
    "start": "634130",
    "end": "640010"
  },
  {
    "text": "device over here I don't actually downside as prints we've got a device over here and then you've got the identity provider the identity provider",
    "start": "640010",
    "end": "645620"
  },
  {
    "text": "somewhere else in the cloud and then down on the bottom we've got a door imagine the door is just an API what I",
    "start": "645620",
    "end": "650840"
  },
  {
    "text": "want to do is send a request to this door to perform some kind of action how to post to slash and lock for example so",
    "start": "650840",
    "end": "660410"
  },
  {
    "text": "we have the mobile device that will generate it so we're going to be using OAuth code flow with pkc hands up to",
    "start": "660410",
    "end": "668360"
  },
  {
    "text": "understands exactly what that means good not many it's fairly new and I'll go",
    "start": "668360",
    "end": "673850"
  },
  {
    "text": "into some depth of how it works if there are any questions just ask me at any time ask me at the end whatever it's the",
    "start": "673850",
    "end": "680540"
  },
  {
    "text": "it's a new way of making sure that the data that's being passed around is actually intended for the recipient top",
    "start": "680540",
    "end": "688220"
  },
  {
    "text": "level overview let's let's drill then so we generate two codes basically you've got a challenge and you've got a",
    "start": "688220",
    "end": "693440"
  },
  {
    "text": "solution the solution to certain to all intents and purposes is basically a random string a random value of some",
    "start": "693440",
    "end": "700430"
  },
  {
    "text": "sort ideally cryptographically secure and then the the challenge is the hashed",
    "start": "700430",
    "end": "706310"
  },
  {
    "text": "version of that now we all know that hashing is easy but I'm hashing is mathematically improbable so the first",
    "start": "706310",
    "end": "712550"
  },
  {
    "text": "thing we do the one with a question mark up there that's the challenge that's the hashed value and the one underneath is the unhatched value so a mobile device",
    "start": "712550",
    "end": "720110"
  },
  {
    "text": "when mobile devices use OAuth open ID Connect for identifying themselves to an",
    "start": "720110",
    "end": "725900"
  },
  {
    "text": "identity provider in order to get tokens back it'll do it through the built-in browser so it's not the app that you",
    "start": "725900",
    "end": "731570"
  },
  {
    "text": "write yourself we're looking in a native app here it's it'll it'll spawn basically a browser instance in order to",
    "start": "731570",
    "end": "736940"
  },
  {
    "text": "present the webpage that's going to allow you to log in so we launched this browser instance and into it we pass the",
    "start": "736940",
    "end": "743470"
  },
  {
    "text": "challenge solution the thing that's really hard to be able to reverse engineer then the request goes off to",
    "start": "743470",
    "end": "749600"
  },
  {
    "text": "the identity provider with that challenge solution which the identity provider will remember and it's going to",
    "start": "749600",
    "end": "754820"
  },
  {
    "text": "respond with a login form because it doesn't know who you are yet if you already logged in to the identity provider they might skip this step but",
    "start": "754820",
    "end": "761480"
  },
  {
    "text": "the very least now it knows who you are once you actually log in it knows who you are and it has this challenge",
    "start": "761480",
    "end": "767060"
  },
  {
    "text": "solution this is the proof key so pkc is proof key for certificate exchange this",
    "start": "767060",
    "end": "772610"
  },
  {
    "text": "is the proof key and is going to allow us to prove that we are the intended recipients for the token so it's got this this challenge and it knows who you",
    "start": "772610",
    "end": "780770"
  },
  {
    "text": "are who's logged in so then it'll create the auth code so the auth code is something but not specific to you at all",
    "start": "780770",
    "end": "786740"
  },
  {
    "text": "it doesn't contain anything inside it that is anyway related to the person logged in with the exception the identity provider",
    "start": "786740",
    "end": "792170"
  },
  {
    "text": "will remember that for a short period of time so that in the future somebody can exchange that token of that or code for",
    "start": "792170",
    "end": "798200"
  },
  {
    "text": "actual tokens and we'll see how that happens here so we generate the auth code the or scope gets sent back to the",
    "start": "798200",
    "end": "804950"
  },
  {
    "text": "the browser that's been launched by the native app and the browser then having done this job having logged you in will",
    "start": "804950",
    "end": "810800"
  },
  {
    "text": "return that all code back to your app so your app now has an auth code which says nothing about the person who's just",
    "start": "810800",
    "end": "816740"
  },
  {
    "text": "logged in but it also has this solution to the challenge so now your app can",
    "start": "816740",
    "end": "822530"
  },
  {
    "text": "make a direct request directly to the identity provider it doesn't need to go by the browser anymore it's like a direct socket connection and they'll",
    "start": "822530",
    "end": "829250"
  },
  {
    "text": "send through the solution so as the auth code so what the identity provider can",
    "start": "829250",
    "end": "835550"
  },
  {
    "text": "do now is having had the challenge and knowing what the hashing algorithm was to generate the challenge it now has the solution and can confirm that if you",
    "start": "835550",
    "end": "842240"
  },
  {
    "text": "apply the same hashing algorithm to that solution you'll get the challenge so it",
    "start": "842240",
    "end": "847640"
  },
  {
    "text": "knows that the requests coming in as from the person who knows what the solution was does that make sense so we're proving now that this device over",
    "start": "847640",
    "end": "854960"
  },
  {
    "text": "here is the one that is intended to receive the tokens so this has been",
    "start": "854960",
    "end": "860420"
  },
  {
    "text": "added in to off code recently and it's especially useful in things like single page apps and native applications where a lot of your business logic is in a",
    "start": "860420",
    "end": "866600"
  },
  {
    "text": "device that you can't control if you're doing server based like if you log in virus server and then you go off and try and get tokens that way it's not as",
    "start": "866600",
    "end": "874100"
  },
  {
    "text": "important because the code is in a to all intents and purposes a lot more",
    "start": "874100",
    "end": "879560"
  },
  {
    "text": "secure environment it's one that you control is I can't right click view source the contents of your server-side",
    "start": "879560",
    "end": "884690"
  },
  {
    "text": "code but where we're putting code out into devices or onto inter browsers it's",
    "start": "884690",
    "end": "891260"
  },
  {
    "text": "a bit more important so being able to verify that the solution is correct and also verifying that the or code that is",
    "start": "891260",
    "end": "897920"
  },
  {
    "text": "received back is correct you can say well I know I issued that auth code to Ben therefore I'm going to create an",
    "start": "897920",
    "end": "903500"
  },
  {
    "text": "identity token and an access token that represent Ben and then I'm going to send those back to the device so the device",
    "start": "903500",
    "end": "913580"
  },
  {
    "text": "now has an identity token an access token identity token tells it Who I am what my profile information is which for",
    "start": "913580",
    "end": "920330"
  },
  {
    "text": "this purposes we don't necessarily need and access token and access token is what you can use to send to api's to be able",
    "start": "920330",
    "end": "926740"
  },
  {
    "text": "to say things like I want you to perform this action on Ben's behalf so now we can just make a single connection to the",
    "start": "926740",
    "end": "932800"
  },
  {
    "text": "door fire NFC that's the access token over and the door can evaluate that access",
    "start": "932800",
    "end": "938230"
  },
  {
    "text": "token verify that it's valid and unlocked at all simple right all right",
    "start": "938230",
    "end": "947019"
  },
  {
    "text": "let's have a look at them I want let's",
    "start": "947019",
    "end": "952029"
  },
  {
    "text": "see so I have this running already let me just close that because it doesn't like it when I have that maximized and",
    "start": "952029",
    "end": "960089"
  },
  {
    "text": "make that bit bigger can everybody see the eyes there'll be stuff arriving at",
    "start": "960089",
    "end": "968110"
  },
  {
    "text": "the bottom which will eventually push its way up which you might be able to see slightly over the top whether I can",
    "start": "968110",
    "end": "973180"
  },
  {
    "text": "move this all a little bit further",
    "start": "973180",
    "end": "976110"
  },
  {
    "text": "open-heart surgery got nothing on this",
    "start": "985660",
    "end": "990310"
  },
  {
    "text": "correct the question was the door is not calling it the identity provider to check the access code the access so that",
    "start": "997960",
    "end": "1003940"
  },
  {
    "text": "there's - there's the auth code and the access token and the auth code is what the mobile app uses and the token is",
    "start": "1003940",
    "end": "1012760"
  },
  {
    "text": "then used sent by the mobile aptitude or the door then can look at that token internally without having to make any",
    "start": "1012760",
    "end": "1018580"
  },
  {
    "text": "external connections now when I say this door is not connected to the internet that's technically not true because if it wasn't I wouldn't be able to SSH and",
    "start": "1018580",
    "end": "1024880"
  },
  {
    "text": "do this demo but theoretically if I turn the Wi-Fi off and still had the the",
    "start": "1024880",
    "end": "1031120"
  },
  {
    "text": "Python script running in the background and did this demo we still work I just wouldn't be able to show you what's going on behind the scenes right let's",
    "start": "1031120",
    "end": "1037750"
  },
  {
    "text": "see if I can get visor running are we running",
    "start": "1037750",
    "end": "1042329"
  },
  {
    "text": "or to giving me a friendly face I know there it is so Open Sesame",
    "start": "1047060",
    "end": "1053360"
  },
  {
    "text": "I came with us up with his branding myself what's the difference between somebody and branding and design and",
    "start": "1053360",
    "end": "1060250"
  },
  {
    "text": "developer advocate free t-shirts from developer efforts and ship design skills",
    "start": "1060250",
    "end": "1066230"
  },
  {
    "text": "from just about developer advocate so I was going to come back to be there we go",
    "start": "1066230",
    "end": "1072830"
  },
  {
    "text": "so I've developed this really really complicated application I basically stole the all-0 sdk and some random code",
    "start": "1072830",
    "end": "1080450"
  },
  {
    "text": "I found on some website probably Stack Overflow that allows me to write to NFC",
    "start": "1080450",
    "end": "1087700"
  },
  {
    "text": "let's have a quick look at what that looks like if I can find Android studio",
    "start": "1087700",
    "end": "1092960"
  },
  {
    "text": "so I've configured this so we've got the strings XML document basically contains the information that we need to talk to",
    "start": "1092960",
    "end": "1099560"
  },
  {
    "text": "that energy provider so we've got the client ID the domain that were going to be connecting to and the app name you",
    "start": "1099560",
    "end": "1104660"
  },
  {
    "text": "know because we need that and then the actual code itself is from farmer mouse",
    "start": "1104660",
    "end": "1111250"
  },
  {
    "text": "so I won't go through line by line because I don't send you to sleep I mean",
    "start": "1113170",
    "end": "1118610"
  },
  {
    "text": "that's sort of unjust for lunch gives you the carb coburn off this talk but essentially we have a number of key",
    "start": "1118610",
    "end": "1124430"
  },
  {
    "text": "points we've got the login button when you click on the login button you call a login function we create a new author",
    "start": "1124430",
    "end": "1130430"
  },
  {
    "text": "object here and then when we which will be used for the login and then we've got",
    "start": "1130430",
    "end": "1136160"
  },
  {
    "text": "a right button and the right button becomes active when we get the JSON web token back and calls this so toast is",
    "start": "1136160",
    "end": "1143180"
  },
  {
    "text": "the class that I found that rights to NFC cards and of course the make make",
    "start": "1143180",
    "end": "1148250"
  },
  {
    "text": "text and then write function no sorry toast is not that brings I'm working toast as the little display thing at the",
    "start": "1148250",
    "end": "1154640"
  },
  {
    "text": "bottom that says hey this was a successful which interesting Lee in my demo doesn't work at the moment but better than manner can you tell this is",
    "start": "1154640",
    "end": "1161510"
  },
  {
    "text": "going to go well so we've got the right function there that's what does the NFC stuff and if we come down to so there's",
    "start": "1161510",
    "end": "1169340"
  },
  {
    "text": "the login which is basically just setting up the web earth provider and right basically uses the end F message",
    "start": "1169340",
    "end": "1177910"
  },
  {
    "text": "object to take the tech and write it directly to the NFC card so",
    "start": "1177910",
    "end": "1183800"
  },
  {
    "text": "ever NFC card here one of the things that I found when testing early is you get three NFC cards when you buy NFC you",
    "start": "1183800",
    "end": "1189920"
  },
  {
    "text": "readers they usually have very small amount of user data nowhere near enough to store a JSON web token this is the",
    "start": "1189920",
    "end": "1195920"
  },
  {
    "text": "largest device storage use a storage device I can find we just got 888 bytes",
    "start": "1195920",
    "end": "1201760"
  },
  {
    "text": "that's a lot isn't it they didn't advise my average JSON web token is about 780",
    "start": "1201760",
    "end": "1208090"
  },
  {
    "text": "so just about fit so there's that code and now let's have a break this out and",
    "start": "1208090",
    "end": "1216070"
  },
  {
    "text": "look at what we're doing on the PI so I",
    "start": "1216070",
    "end": "1222400"
  },
  {
    "text": "was talking about how the the token gets validators there's two ways of creative",
    "start": "1222400",
    "end": "1229550"
  },
  {
    "text": "creating a certain signature for a JSON web token HS or H Mac 256 which is a pre",
    "start": "1229550",
    "end": "1235160"
  },
  {
    "text": "shared key every system that needs to generate a signature to verify token needs to know what that key is now",
    "start": "1235160",
    "end": "1240860"
  },
  {
    "text": "you've got RSA or RS 256 hashing which is a public private key mechanism the",
    "start": "1240860",
    "end": "1246500"
  },
  {
    "text": "advantage of RS 256 is that if your application has access to the Internet",
    "start": "1246500",
    "end": "1252140"
  },
  {
    "text": "you don't need to tell it what the public hears to verify the signature who's familiar with the concept of a",
    "start": "1252140",
    "end": "1257930"
  },
  {
    "text": "well known address or well-known URL so you'll see these in things like so for",
    "start": "1257930",
    "end": "1264350"
  },
  {
    "text": "the recording there's probably 10% of the people you'll see this in things like configuration you'll get",
    "start": "1264350",
    "end": "1271970"
  },
  {
    "text": "configuration files that'll allow it you know when you open up an email app and you put in your email address and it'll",
    "start": "1271970",
    "end": "1277010"
  },
  {
    "text": "automatically work out which server it is and which port is on that's a well known address so you go to a certain URL that's fixed and there's a standard for",
    "start": "1277010",
    "end": "1284210"
  },
  {
    "text": "it and we'll give you information about that service there's one of those four open ID connect so knowing that the",
    "start": "1284210",
    "end": "1289430"
  },
  {
    "text": "issuer of the token is been decried or 0da calm it can go to the well-known URL for that identity provider endpoint and",
    "start": "1289430",
    "end": "1295850"
  },
  {
    "text": "you can get all the information back including the public key so your application doesn't need to know other",
    "start": "1295850",
    "end": "1301070"
  },
  {
    "text": "public years but of course the door is offline so we're building the public key into the application here if you're",
    "start": "1301070",
    "end": "1307250"
  },
  {
    "text": "developing a system that's not offline or in a siloed environment you don't need to do this but for the purposes of this demo we need that in there",
    "start": "1307250",
    "end": "1315460"
  },
  {
    "text": "then we're going to set up the gpio so that's all the pins on the Raspberry Pi and we're going to set we've got a servo",
    "start": "1315720",
    "end": "1321600"
  },
  {
    "text": "locked position servo unlocked position we're just going to lock it by default and you'll notice for those who have done any kind of PI coding before as we",
    "start": "1321600",
    "end": "1328800"
  },
  {
    "text": "apply coding I'm cleaning up the GPIO here which means I'm actually disconnecting and I'm stopping sending any signals the reason for this is",
    "start": "1328800",
    "end": "1335670"
  },
  {
    "text": "because the servo uses pulse width modulation which I don't need to explain",
    "start": "1335670",
    "end": "1342870"
  },
  {
    "text": "but if anybody wants to know more I can tell you afterwards it's a way of the the signaling method is not a digital signal it's trying to emulate an active",
    "start": "1342870",
    "end": "1349680"
  },
  {
    "text": "analog signal but because it's not perfect if I didn't disconnect every time that bar that's currently keeping",
    "start": "1349680",
    "end": "1355320"
  },
  {
    "text": "the door closed would be jiggling forever and while that doesn't bother me so much it's really distracting for you",
    "start": "1355320",
    "end": "1360530"
  },
  {
    "text": "so I thought it's probably better to do it so basically got a loop we read from the NFC card we decode the JSON web",
    "start": "1360530",
    "end": "1367290"
  },
  {
    "text": "token we print it out that's basically so you can see what's going on in the hood we work out how long it still got",
    "start": "1367290",
    "end": "1373440"
  },
  {
    "text": "to expiry we don't need this programmatically we can ignore that again that's fit as display purposes for the demo we printed a success message",
    "start": "1373440",
    "end": "1380450"
  },
  {
    "text": "for the demo and most importantly we unlocked at all now you know there's no",
    "start": "1380450",
    "end": "1386070"
  },
  {
    "text": "checking in there to see whether the expiry is valid whether it's expired already any of those things because the",
    "start": "1386070",
    "end": "1391500"
  },
  {
    "text": "class that were using to decode the JSON web token will throw an exception if there's anything wrong with it at all so",
    "start": "1391500",
    "end": "1396600"
  },
  {
    "text": "we can assume that the code will flow through that everything's fine if the token has expired then we'll verify the",
    "start": "1396600",
    "end": "1403320"
  },
  {
    "text": "JSON web token again to get some information out about it but we're going to pass in a message saying we don't actually care whether or not it was valid and the reason for that is that I",
    "start": "1403320",
    "end": "1410190"
  },
  {
    "text": "still want to find out what the expiry on that is in the first instance because of through an error we don't actually have the data in the payload of the JSON",
    "start": "1410190",
    "end": "1416070"
  },
  {
    "text": "web token so I still want to pull that out so I can display on there saying this token is invalid and edit conspired this this many seconds ago and then what",
    "start": "1416070",
    "end": "1423870"
  },
  {
    "text": "make sure the doors locked and then do",
    "start": "1423870",
    "end": "1429330"
  },
  {
    "text": "some other stuff like if the value that comes through and doesn't actually look like a JSON web doesn't right I'm mostly",
    "start": "1429330",
    "end": "1437340"
  },
  {
    "text": "padding for time because I'm really not sure whether this is going to work let's let's just buy the bullet and",
    "start": "1437340",
    "end": "1443750"
  },
  {
    "text": "we'll run poll NFC Oh something moved that's a good sign right",
    "start": "1443750",
    "end": "1450320"
  },
  {
    "text": "so let's just get this back up unlock oh",
    "start": "1450320",
    "end": "1458080"
  },
  {
    "text": "it's on a bit of a go slow everyone's having a slow day it's Friday all right",
    "start": "1458080",
    "end": "1463220"
  },
  {
    "text": "so I've come on The Doors gonna work fine but you just won't be able to see",
    "start": "1463220",
    "end": "1468950"
  },
  {
    "text": "what's going on on my phone is that right that way you're gonna do to me",
    "start": "1468950",
    "end": "1473410"
  },
  {
    "text": "NBD got any any good jokes you hear",
    "start": "1483090",
    "end": "1489120"
  },
  {
    "text": "incorrectly alright this isn't gonna work so I'm just gonna hold it up state and see what's kind of going on so you saw before that the you might remember",
    "start": "1489120",
    "end": "1496530"
  },
  {
    "text": "before from when I was holding it up when he when it was actually on the screen that the login button is active and the right button is inactive so if I",
    "start": "1496530",
    "end": "1503820"
  },
  {
    "text": "hold this on there I just felt a vibration so I'm going to hit the login button and because I already did this",
    "start": "1503820",
    "end": "1510060"
  },
  {
    "text": "test earlier I'm already logged into the identity provider it's going to come straight back and I think somebody in",
    "start": "1510060",
    "end": "1516420"
  },
  {
    "text": "the front row can confirm that the bottom button just became active and the top one just became inactive so now I'm gonna hit the create door pass what's",
    "start": "1516420",
    "end": "1521970"
  },
  {
    "text": "happening now is we're running out write code which is sending the JSON web token to the NFC card login button has just",
    "start": "1521970",
    "end": "1527700"
  },
  {
    "text": "become active again so this card now has the JSON web token on it I do really",
    "start": "1527700",
    "end": "1534360"
  },
  {
    "text": "want to get this working but it doesn't want to seem to want to let me because",
    "start": "1534360",
    "end": "1540870"
  },
  {
    "text": "then I can actually show you what's on the NFC card",
    "start": "1540870",
    "end": "1544580"
  },
  {
    "text": "heyyyyyy right so let's just switch to this NFC card reader hold that up there",
    "start": "1548240",
    "end": "1557360"
  },
  {
    "text": "and we have a look at the end F so this is the user data and fortune I can't make us any bigger for those either back",
    "start": "1557360",
    "end": "1563120"
  },
  {
    "text": "but this part here the text starts a why that's basically the basics T for you",
    "start": "1563120",
    "end": "1568580"
  },
  {
    "text": "are encoded version of an open squiggly bracket so the technical term open brace and down here we've got the JW which is",
    "start": "1568580",
    "end": "1575420"
  },
  {
    "text": "the close brace so that's the start and end of action that's a lie there's a dot in there somewhere because that's the",
    "start": "1575420",
    "end": "1582200"
  },
  {
    "text": "signature but anyway so there's the Jason lip to them on on the NFC card so",
    "start": "1582200",
    "end": "1588470"
  },
  {
    "text": "he doesn't like me so if I come over here now and I want access to this door I hold this NFC card",
    "start": "1588470",
    "end": "1594620"
  },
  {
    "text": "up to the door and I'll move out of the way so that those who can't actually see the screen can see what's going on over there will see that the text is way too",
    "start": "1594620",
    "end": "1602660"
  },
  {
    "text": "big that's made out a bit smaller so you can actually see what's going on a bit better",
    "start": "1602660",
    "end": "1608799"
  },
  {
    "text": "or just the right way so we can see there at the moment it says for those who can't see but can just see my",
    "start": "1619290",
    "end": "1624580"
  },
  {
    "text": "backside it says access denied token expired Friday the 18th of October at 2:12 in the morning there's GMT time which",
    "start": "1624580",
    "end": "1631300"
  },
  {
    "text": "was 54 seconds ago and is currently counting up but you'll notice that the token is still readable so this is where",
    "start": "1631300",
    "end": "1636730"
  },
  {
    "text": "we're doing that double check and we're doing the we don't care whether is valid or not we just want to know what isn't the token and in there we can see the",
    "start": "1636730",
    "end": "1642640"
  },
  {
    "text": "subject so the subject is a representation of my identity I whenever I log in that will always be the subject",
    "start": "1642640",
    "end": "1648730"
  },
  {
    "text": "that you see so if you're writing any applications that where you need to manifest a user within your systems then that's the unique identifier that you",
    "start": "1648730",
    "end": "1655660"
  },
  {
    "text": "can use any time that comes back you can reman efest the same user out of your database i've got the issue time the",
    "start": "1655660",
    "end": "1661059"
  },
  {
    "text": "expired time we've got the audience and in there you can see the Open Sesame scheme so that was programmed into the",
    "start": "1661059",
    "end": "1666910"
  },
  {
    "text": "application the application the the native app runs that the door also is",
    "start": "1666910",
    "end": "1672309"
  },
  {
    "text": "basically an API responding to that URL so I delete the door is validating the",
    "start": "1672309",
    "end": "1684010"
  },
  {
    "text": "audience it'll it'll do that as part of the-- so the library that i'm using the old zero sdk for python will do that",
    "start": "1684010",
    "end": "1692800"
  },
  {
    "text": "automatically and if we just break that and have a look at the file again you",
    "start": "1692800",
    "end": "1698350"
  },
  {
    "text": "can see that this is defined just in there so that line there defines the",
    "start": "1698350",
    "end": "1704770"
  },
  {
    "text": "audience who would you pass into the verifier so if it's the wrong audience it'll say it's not intended to me so",
    "start": "1704770",
    "end": "1711070"
  },
  {
    "text": "it's an interesting one JSON web total is totally plain text I mean they're basically for your uncoded so they're hard for us to see what's going on",
    "start": "1711070",
    "end": "1716110"
  },
  {
    "text": "without decoding it but any system that gets it can it has full access to the payload it's and not encrypted you can encrypt JSON web tokens that's a whole",
    "start": "1716110",
    "end": "1722710"
  },
  {
    "text": "different talk but you should never put anything in there that's sensitive because any system that gets access to",
    "start": "1722710",
    "end": "1729309"
  },
  {
    "text": "the JSON web token can see what's going on in there you could argue that well that system is",
    "start": "1729309",
    "end": "1735610"
  },
  {
    "text": "still going to be able to use it because even if they're not specified in the audience they can just ignore that but",
    "start": "1735610",
    "end": "1742150"
  },
  {
    "text": "if you think about it any application that is using it in a valid way is going to want to check that it is the intended recipient of that open and any system",
    "start": "1742150",
    "end": "1749320"
  },
  {
    "text": "that doesn't bother checking that is we're not going to get the token anyway and even if it does it shouldn't be able",
    "start": "1749320",
    "end": "1754710"
  },
  {
    "text": "to do anything malicious with it but yes good question the the library does",
    "start": "1754710",
    "end": "1760200"
  },
  {
    "text": "actually check that for us so let's run",
    "start": "1760200",
    "end": "1766020"
  },
  {
    "text": "that again and I'm just going to write a new token",
    "start": "1766020",
    "end": "1771230"
  },
  {
    "text": "login",
    "start": "1773120",
    "end": "1776120"
  },
  {
    "text": "oh and by the way your soul ring obviously worked perfectly because it's reading the card thank you all right",
    "start": "1779050",
    "end": "1784180"
  },
  {
    "text": "create Thorpe s and I now have 60 seconds to get across the room well across the stage you going to write",
    "start": "1784180",
    "end": "1790810"
  },
  {
    "text": "maybe not right so if I come over here",
    "start": "1790810",
    "end": "1799120"
  },
  {
    "text": "now and I take the pressure off the door hey doors unlocked so you'll see down at",
    "start": "1799120",
    "end": "1811060"
  },
  {
    "text": "the bottom there it's giving the expiry still and that 31 seconds which is now 27 seconds is counting down and if I",
    "start": "1811060",
    "end": "1816880"
  },
  {
    "text": "stand here and waffle for about 22 seconds which I'm sure you'll all agree on quite capable of doing you'll notice",
    "start": "1816880",
    "end": "1824230"
  },
  {
    "text": "that even if the access card is still held there and it expires the door is",
    "start": "1824230",
    "end": "1829390"
  },
  {
    "text": "going to be able to detect that and lock the card lock the door again without me having to remove the card if",
    "start": "1829390",
    "end": "1834400"
  },
  {
    "text": "I remove the card now obviously the absence of the NFC card would cause one of the arrow points in the in the Python",
    "start": "1834400",
    "end": "1841720"
  },
  {
    "text": "script we looked at to execute wicked which would have locked the door but because the ticket the the token is now",
    "start": "1841720",
    "end": "1848140"
  },
  {
    "text": "expired so one of the disadvantages of this is that if it takes you longer than 60",
    "start": "1848140",
    "end": "1853930"
  },
  {
    "text": "seconds to get to the door then you can have to be burn that code on to the NFC card but in many ways that's also an",
    "start": "1853930",
    "end": "1859270"
  },
  {
    "text": "advantage because somebody's got to be close enough to the door to be able to unlock it anyway there's no point in somebody having a code for a door if",
    "start": "1859270",
    "end": "1865180"
  },
  {
    "text": "they're more than 60 seconds away from it so this now creates almost an",
    "start": "1865180",
    "end": "1870310"
  },
  {
    "text": "interactive policy the way we interact with the system of creating the card just before you'll unlock it in an ideal",
    "start": "1870310",
    "end": "1877600"
  },
  {
    "text": "world you actually build to just generate the code and send it straight across but unfortunately the pixel 2 doesn't have the right chipset to",
    "start": "1877600",
    "end": "1884530"
  },
  {
    "text": "emulate my my fare card yeah so that's",
    "start": "1884530",
    "end": "1892120"
  },
  {
    "text": "that one let's switch back to here",
    "start": "1892120",
    "end": "1897240"
  },
  {
    "text": "everyone there's the door so then I thought to myself well that's cool we've got being able to unlock the door",
    "start": "1899710",
    "end": "1906740"
  },
  {
    "text": "but we're still putting the full control into the person who's out the door this is fine if I want to get into my house",
    "start": "1906740",
    "end": "1912200"
  },
  {
    "text": "but what if I want to let the Amazon delivery driver in is there a way that I can allow the Amazon delivery driver to",
    "start": "1912200",
    "end": "1918080"
  },
  {
    "text": "use this mechanism but for me to control whether or not they're allowed in at that point in time so you could do that",
    "start": "1918080",
    "end": "1924649"
  },
  {
    "text": "with things like access control rules so that when the Amazon person logs in it makes sure they're supposed to be there like there is actually a package to be",
    "start": "1924649",
    "end": "1930830"
  },
  {
    "text": "delivered but the other thing that I've been thought is there's a new flow that's come out and fent acacia flowers",
    "start": "1930830",
    "end": "1937519"
  },
  {
    "text": "come out recently but it's been around for a while but it's become a lot more common to see it happening it's called",
    "start": "1937519",
    "end": "1943070"
  },
  {
    "text": "device flow there's anybody here not heard a device flow this is really fun one it's the one that allows you to log",
    "start": "1943070",
    "end": "1950000"
  },
  {
    "text": "into systems they're having a keyboard which is very useful when you're trying to log into your fridge how many people",
    "start": "1950000",
    "end": "1955429"
  },
  {
    "text": "have logged successfully into their fridge no mine doesn't connect into it either again I have no idea why you'd",
    "start": "1955429",
    "end": "1961730"
  },
  {
    "text": "want to connect you internet to the fridge but Netflix is a really good example of that or any kind of gaming",
    "start": "1961730",
    "end": "1968029"
  },
  {
    "text": "network where you've got a login and your your screen is your TV and your",
    "start": "1968029",
    "end": "1973460"
  },
  {
    "text": "input controller is like a joystick anybody logged into one of those before you know how you've got to go up across",
    "start": "1973460",
    "end": "1979940"
  },
  {
    "text": "across across click down right right click and then the person next to you",
    "start": "1979940",
    "end": "1985309"
  },
  {
    "text": "goes I know your password Oh so this tries to solve that problem so I thought",
    "start": "1985309",
    "end": "1991190"
  },
  {
    "text": "the downside with that is we actually gonna have to connect the door to the internet again so how does this one work",
    "start": "1991190",
    "end": "1997029"
  },
  {
    "text": "we get a camera because obviously we need to know who's at our door the camera doesn't necessarily need connect",
    "start": "1997029",
    "end": "2003279"
  },
  {
    "text": "to the internet we can do this with that I was thinking we could probably use Bluetooth for this because I as a delivery person I'm gonna have my device",
    "start": "2003279",
    "end": "2009340"
  },
  {
    "text": "and I'm going to be India here anyway I might as well use Bluetooth because we're not we don't care about the",
    "start": "2009340",
    "end": "2014740"
  },
  {
    "text": "security of this anymore we don't care about Bluetooth jammers because either the video stream is going to work or not and also NFC is a really poor",
    "start": "2014740",
    "end": "2020590"
  },
  {
    "text": "communications protocol for video you might be able to get I don't know one frame every two minutes I'll just - yes",
    "start": "2020590",
    "end": "2028360"
  },
  {
    "text": "so still use a Bluetooth connection camera then talks of why am i app and sends it off to the cloud which then the",
    "start": "2028360",
    "end": "2033909"
  },
  {
    "text": "person who owns this store can see what's going on if it gets knocked offline there's no video feed so that's",
    "start": "2033909",
    "end": "2040210"
  },
  {
    "text": "fine but then I wanted to have some kind of mechanism where the person who's looking at the feed is then interacting",
    "start": "2040210",
    "end": "2047559"
  },
  {
    "text": "with that authentication flow and device for is a really nice way of doing that so Q smooth transaction to a completely",
    "start": "2047559",
    "end": "2053858"
  },
  {
    "text": "different presentation we'll edit this out in post I think it's alright yeah",
    "start": "2053859",
    "end": "2059770"
  },
  {
    "text": "cool right device flow wears much",
    "start": "2059770",
    "end": "2066070"
  },
  {
    "text": "thicker alright so here's my fridge it's not my fridge I don't have an interconnection fish but let's say that this is the door and here's the device",
    "start": "2066070",
    "end": "2073089"
  },
  {
    "text": "that we're going to use to login to the door actually this is the device that the person who owns the door is gonna",
    "start": "2073089",
    "end": "2078280"
  },
  {
    "text": "happen and then we've got our identities over over there so in this particular instance the person who wants to make a",
    "start": "2078280",
    "end": "2084070"
  },
  {
    "text": "delivery doesn't actually need a device as such all they need is some way of starting the device flow process which",
    "start": "2084070",
    "end": "2090368"
  },
  {
    "text": "could just be a button and then the Raspberry Pi being the door will start",
    "start": "2090369",
    "end": "2095800"
  },
  {
    "text": "the device throat process off so what happens under the hood the door or the fridge will make a request the identity",
    "start": "2095800",
    "end": "2101020"
  },
  {
    "text": "provider and or sent through the client ID client ID being the thing that tells the identity provider what system is",
    "start": "2101020",
    "end": "2107530"
  },
  {
    "text": "trying to login to or trying to be logged in to the identity provider knowing the device flow request is going",
    "start": "2107530",
    "end": "2114460"
  },
  {
    "text": "to respond with a bit of JSON that'll help the device at the other end do what it needs to do to get authentication so",
    "start": "2114460",
    "end": "2121510"
  },
  {
    "text": "this bit of JSON in here is going to contain a device code this is a unique code for the door any further",
    "start": "2121510",
    "end": "2127000"
  },
  {
    "text": "communications from that door it'll say here's the device code you gave me so now that there's that link between the",
    "start": "2127000",
    "end": "2132010"
  },
  {
    "text": "door and the identity provider we have a user code so you know when when you",
    "start": "2132010",
    "end": "2137650"
  },
  {
    "text": "connect I know Google Chrome to your TV if you've done that you'll get the four",
    "start": "2137650",
    "end": "2143650"
  },
  {
    "text": "characters in the bottom right hand corner and that's the thing you need to verify that's kind of like the user code this is the thing the user gets that",
    "start": "2143650",
    "end": "2149800"
  },
  {
    "text": "they need to verify is the same in order for the authentication process to continue it doesn't solve the",
    "start": "2149800",
    "end": "2155650"
  },
  {
    "text": "authentication process but it's just a connector between the user and the identity provider we also have a",
    "start": "2155650",
    "end": "2161410"
  },
  {
    "text": "verification you are this is the endpoint on the identity provider that the user needs to hit in order to authenticate to connect the",
    "start": "2161410",
    "end": "2167860"
  },
  {
    "text": "door to the identity provider or the fridge in this case we've also got a complete version so this is going to be the verification URI plus the user code",
    "start": "2167860",
    "end": "2174550"
  },
  {
    "text": "it's just in a convenient single variable that you can just pump out as a QR code or something so somebody can",
    "start": "2174550",
    "end": "2179830"
  },
  {
    "text": "just scan it the whole process has an expiry you'll have like three minutes or",
    "start": "2179830",
    "end": "2185440"
  },
  {
    "text": "something to complete the process otherwise the thing times out and it also returns an interval this interval is a value in seconds and it's advising",
    "start": "2185440",
    "end": "2193450"
  },
  {
    "text": "the fridge or the door to connect every X number of seconds back to the identity provider to see whether or not there's",
    "start": "2193450",
    "end": "2199180"
  },
  {
    "text": "our token ready for it make sense we'll see the loop closed in a second so",
    "start": "2199180",
    "end": "2205480"
  },
  {
    "text": "we've got this information in the door the door then stars on that interval every five seconds for example making a",
    "start": "2205480",
    "end": "2212140"
  },
  {
    "text": "quest request to the identity provider saying hey here's my device code do I",
    "start": "2212140",
    "end": "2217810"
  },
  {
    "text": "have a token yet the identity providers like hold your horses mate I only just send you the code and person hasn't even",
    "start": "2217810",
    "end": "2223360"
  },
  {
    "text": "clicked the button yet there's nothing to see so it'll carry on doing that every five seconds or whatever the",
    "start": "2223360",
    "end": "2228460"
  },
  {
    "text": "interval we'll set up at meanwhile the door or the fridge is going to find some way of communicating that verification",
    "start": "2228460",
    "end": "2233470"
  },
  {
    "text": "URI and the user code to somebody who's going to have access or authority to",
    "start": "2233470",
    "end": "2238810"
  },
  {
    "text": "unlock the door or unlock the fridge I don't know why our fridge is internet",
    "start": "2238810",
    "end": "2246460"
  },
  {
    "text": "connected I'm going to change that image for door so this in here contains just",
    "start": "2246460",
    "end": "2252670"
  },
  {
    "text": "these occurred the verification URI and the convenience full complete URI that",
    "start": "2252670",
    "end": "2257980"
  },
  {
    "text": "the user can then use so they'll then click on that link or they'll scan the QR code or whatever it is that they do",
    "start": "2257980",
    "end": "2264660"
  },
  {
    "text": "and by doing that they'll be making a request through our interpreter there's a little gray line over here which is",
    "start": "2264660",
    "end": "2270160"
  },
  {
    "text": "the login process but let's assume they're logged in already at this point the identity provider says I've just had received a request on a verification",
    "start": "2270160",
    "end": "2277210"
  },
  {
    "text": "endpoint that I've been expecting from somebody who's authorized and logged in there for the next time line three",
    "start": "2277210",
    "end": "2283720"
  },
  {
    "text": "happens next one door says hey do you have a token the identity provider is going to so say hey yeah I've got a",
    "start": "2283720",
    "end": "2289360"
  },
  {
    "text": "token for you passes the access token back and probably an identity token may be of the person who just logged in",
    "start": "2289360",
    "end": "2295490"
  },
  {
    "text": "which can then be sent to whichever API",
    "start": "2295490",
    "end": "2299470"
  },
  {
    "text": "now in this case the door isn't doesn't need to talk to another API it just could just gonna use that access token",
    "start": "2300640",
    "end": "2306020"
  },
  {
    "text": "it never gets when it says ok I'm going to unlock that make sense any questions",
    "start": "2306020",
    "end": "2313220"
  },
  {
    "text": "about device flow so the thing I really love about this is the only communication here it doesn't even need",
    "start": "2313220",
    "end": "2319700"
  },
  {
    "text": "to be digital there can be display a QR code on the fridge door and you just",
    "start": "2319700",
    "end": "2325070"
  },
  {
    "text": "scan it with your phone it could be I don't know text to voice it or read a code at you and tell you to go to HTTP",
    "start": "2325070",
    "end": "2331430"
  },
  {
    "text": "colon - HTTP sorry but I love the fact that these are separate like they could even",
    "start": "2331430",
    "end": "2338570"
  },
  {
    "text": "be geographically separate maybe the code gets sent for SMS so you could be on the other side of the world which helps us unlock the door when we're not",
    "start": "2338570",
    "end": "2344210"
  },
  {
    "text": "at home so let's switch back to let's",
    "start": "2344210",
    "end": "2352190"
  },
  {
    "text": "try and use my laptop let's close that back to this one right so as you can see",
    "start": "2352190",
    "end": "2358790"
  },
  {
    "text": "I seamlessly transitioned directly back into this presentation again design",
    "start": "2358790",
    "end": "2363920"
  },
  {
    "text": "branding totally on brand it's working well so I'm going to do something slightly different I've not done this",
    "start": "2363920",
    "end": "2369920"
  },
  {
    "text": "before I've done the device flow but I'm hoping that this works let's see how we",
    "start": "2369920",
    "end": "2375050"
  },
  {
    "text": "go that's the first of all go and have a look at the code so this rather than",
    "start": "2375050",
    "end": "2383660"
  },
  {
    "text": "being a polling script is a server the runs in the background because it's just going to do a single process and then",
    "start": "2383660",
    "end": "2389180"
  },
  {
    "text": "close off and if we have a look from the top we've got the public key in there again essentially what we're doing and",
    "start": "2389180",
    "end": "2395870"
  },
  {
    "text": "if you remember back to what I just showed you in terms of the flow of device flow we're making a request to the identity provider saying give me",
    "start": "2395870",
    "end": "2402200"
  },
  {
    "text": "information I want a device flow off set up we get the device config we're then",
    "start": "2402200",
    "end": "2408020"
  },
  {
    "text": "going to print it out and there's this barcode dot tech ID comm URL which will if I click on it will give us a QR code",
    "start": "2408020",
    "end": "2414590"
  },
  {
    "text": "of it some of you might be able to see where this was going and then we're going to try getting the tokens out",
    "start": "2414590",
    "end": "2420140"
  },
  {
    "text": "we're going to get the ID token the access token and basically we're just going to print out a bit of information and then I'm looking at all like I said",
    "start": "2420140",
    "end": "2426260"
  },
  {
    "text": "if we get the token and it verifies which implied within the reading of by using",
    "start": "2426260",
    "end": "2431839"
  },
  {
    "text": "the library then the token is valid therefore we're going to unlock that all right let's run this so it's making a",
    "start": "2431839",
    "end": "2444920"
  },
  {
    "text": "request in the background so we've got the device code out the interval of 5 so every 5 seconds you'll see it a little",
    "start": "2444920",
    "end": "2451430"
  },
  {
    "text": "another set of eyes coming up that's basically polling the identity provider saying is there a code and then you see",
    "start": "2451430",
    "end": "2456799"
  },
  {
    "text": "the thumbs down nope and here's the verification URI but if I click on this link here and somebody in",
    "start": "2456799",
    "end": "2464900"
  },
  {
    "text": "the audience gets their phone out and goes to the URL represented by that QR",
    "start": "2464900",
    "end": "2473029"
  },
  {
    "text": "code and logs in with the username ona owner at example.com and the password password and I stand over here and just",
    "start": "2473029",
    "end": "2482390"
  },
  {
    "text": "look awkward ly while that hopefully happens",
    "start": "2482390",
    "end": "2488049"
  },
  {
    "text": "this is how I've had out all my talks",
    "start": "2497430",
    "end": "2501050"
  },
  {
    "text": "I wonder all right let me open that one",
    "start": "2509070",
    "end": "2525350"
  },
  {
    "text": "so did you get that far yeah all right well I'll just log in the owner at",
    "start": "2528900",
    "end": "2535140"
  },
  {
    "text": "example.com and password password yes",
    "start": "2535140",
    "end": "2546329"
  },
  {
    "text": "congratulations you're all set and now",
    "start": "2546329",
    "end": "2554509"
  },
  {
    "text": "so the difference here is I've just closed itself as well if we just switch back to the code and have a look what was going on in background I can find it",
    "start": "2555890",
    "end": "2564529"
  },
  {
    "text": "so we got the token through we got the identity token up there and the access token the token had the issue that time",
    "start": "2564529",
    "end": "2570480"
  },
  {
    "text": "stamp which was at 228 in the morning in in the UK and the expiry which was one",
    "start": "2570480",
    "end": "2578309"
  },
  {
    "text": "minute later so you can configure how long you want these tokens to to last in our case we actually only needed for",
    "start": "2578309",
    "end": "2584220"
  },
  {
    "text": "like the two seconds that it took the Python process to process it to determine it and then because the code",
    "start": "2584220",
    "end": "2591359"
  },
  {
    "text": "is valid did unlock the door and Ben did a five second countdown before locking it because using device flow there's no",
    "start": "2591359",
    "end": "2597470"
  },
  {
    "text": "simple way of interacting with the door again to trigger a closed now what you could do is if you want to because",
    "start": "2597470",
    "end": "2603509"
  },
  {
    "text": "obviously five seconds is not going to be long enough to open the door but a package inside Stila can close the door again is you could have a lock door",
    "start": "2603509",
    "end": "2608940"
  },
  {
    "text": "button which talks directly hardwired to some of the pins on the Raspberry Pi to",
    "start": "2608940",
    "end": "2613980"
  },
  {
    "text": "lock the door so you don't have the issue that the Amazon lock head we're blocking Bluetooth stop the door from",
    "start": "2613980",
    "end": "2619049"
  },
  {
    "text": "working and then that way somebody can arrive your door press the button camera",
    "start": "2619049",
    "end": "2624539"
  },
  {
    "text": "comes on sends a picture to you you say yep that's cool also contains the verification you are either came through",
    "start": "2624539",
    "end": "2630180"
  },
  {
    "text": "you click on that you approve it door unlocks person puts the package inside close of the door press the lock button off they go and you've had full control",
    "start": "2630180",
    "end": "2637259"
  },
  {
    "text": "over whether or not they get access and even though even though the door is connect to the internet again still we",
    "start": "2637259",
    "end": "2644130"
  },
  {
    "text": "don't have any other communications issues communications methods that can",
    "start": "2644130",
    "end": "2649230"
  },
  {
    "text": "potentially be interrupted or subverted on the door side that allow somebody to",
    "start": "2649230",
    "end": "2655160"
  },
  {
    "text": "bypass the authentication process cool",
    "start": "2655160",
    "end": "2662670"
  },
  {
    "text": "that's all I had so there are some",
    "start": "2667830",
    "end": "2676960"
  },
  {
    "text": "change that I haven't committed yet which I will be doing in the next in a few days but these URLs which are really hard",
    "start": "2676960",
    "end": "2685030"
  },
  {
    "text": "contrasts to read intentionally it's security through obscurity it's my favorite form of security Ben Decker is",
    "start": "2685030",
    "end": "2691390"
  },
  {
    "text": "my username at github opening doors Android opening doors Arduino and opening doors are pi you might be",
    "start": "2691390",
    "end": "2696550"
  },
  {
    "text": "wondering why there's an Arduino package in there it turns out that when you give this talk of conference and the NFC card",
    "start": "2696550",
    "end": "2701920"
  },
  {
    "text": "reader dies and you can't buy the same NFC card reader you need to buy one that works on our jareno but because our jury knows have such small amounts of memory",
    "start": "2701920",
    "end": "2708490"
  },
  {
    "text": "they can't actually hold a JSON web token and one go to be able to verify it so you then just stream that directly to",
    "start": "2708490",
    "end": "2714130"
  },
  {
    "text": "there as be pi so that's why that ones in there so you can have a look at that if you like as well but you know don't",
    "start": "2714130",
    "end": "2719350"
  },
  {
    "text": "worry about that 1/2 inch have a look at the Android and the our PI code if you want to duplicate this come up and have a look at the door ask me any questions",
    "start": "2719350",
    "end": "2725260"
  },
  {
    "text": "I'm around for the next few hours thanks for your time [Applause]",
    "start": "2725260",
    "end": "2733320"
  }
]