[
  {
    "text": "so welcome uh to my presentation on offline first Computing in an online World um my name is erold staff I work",
    "start": "5920",
    "end": "13799"
  },
  {
    "text": "at ksur defense and Aerospace um my day job is doing our own",
    "start": "13799",
    "end": "19960"
  },
  {
    "text": "DDS implementation uh now if you don't know what DDS is I'll also explain this during the",
    "start": "19960",
    "end": "25720"
  },
  {
    "text": "talk um we're not too big of a crowd so um feel free to ask questions I mean if",
    "start": "25720",
    "end": "32599"
  },
  {
    "text": "you're wondering some about something then somebody else is probably wondering too and they're just too timid so so",
    "start": "32599",
    "end": "38160"
  },
  {
    "text": "please just ask um the talk is going to be somewhat",
    "start": "38160",
    "end": "43320"
  },
  {
    "text": "technical I'll try some live coding that's always fun um but it's not going",
    "start": "43320",
    "end": "48399"
  },
  {
    "text": "to be an algorithmic Deep dive I'm not going to show any theorems or lambdas or Lamas or or stuff like that it's no no",
    "start": "48399",
    "end": "54920"
  },
  {
    "text": "computer science proofs here um and also it it offline first",
    "start": "54920",
    "end": "60920"
  },
  {
    "text": "versus local first it's it's kind of the same thing um but I I thought I'd start",
    "start": "60920",
    "end": "67360"
  },
  {
    "text": "out by um well there are no acronyms in the title I tried to make it a bit more catchy but uh the description mentions",
    "start": "67360",
    "end": "75280"
  },
  {
    "text": "both uh DDS and crdt so I'll thought I'd just start there just expand the",
    "start": "75280",
    "end": "80759"
  },
  {
    "text": "acronyms before I start using them um so at the end crdt is uh Conflict Free",
    "start": "80759",
    "end": "87880"
  },
  {
    "text": "replicated data types okay so what does that mean well it's a data type okay so",
    "start": "87880",
    "end": "94600"
  },
  {
    "text": "so it's any type of it can be a string map or graph or tree or or usually something complex um it's replicated",
    "start": "94600",
    "end": "103040"
  },
  {
    "text": "meaning it's it's a value type in in the sense that you can have multiple copies of it and so far this is any data type",
    "start": "103040",
    "end": "111880"
  },
  {
    "text": "in your standard template library is then sort of fulfills replicated data",
    "start": "111880",
    "end": "117240"
  },
  {
    "text": "type in that you can copy it but then the Conflict Free that's the special magic because it it means that it has a",
    "start": "117240",
    "end": "124560"
  },
  {
    "text": "built-in mechanism to resolve conflicts so that if you have a map here and a map",
    "start": "124560",
    "end": "129920"
  },
  {
    "text": "you copy it to a map over there and then you make concurrent changes to both Maps",
    "start": "129920",
    "end": "135120"
  },
  {
    "text": "then if it's a conflict free type you will have a way to merge those Maps again and have one single correct value",
    "start": "135120",
    "end": "143800"
  },
  {
    "text": "for that map and typically it means you'll you'll have the ability to to get a patch from this map and a patch from",
    "start": "143800",
    "end": "149480"
  },
  {
    "text": "that map and and apply them interchangeably and then you'll end up with the same result on both Maps so for",
    "start": "149480",
    "end": "156080"
  },
  {
    "text": "instance an an integer um in itself um it it's obviously it's a data type and",
    "start": "156080",
    "end": "163440"
  },
  {
    "text": "it's you can replicate it you can copy an integer value everywhere and then if you say for instance highest value wins",
    "start": "163440",
    "end": "171599"
  },
  {
    "text": "then it's conflict free in a sense because then then you resolved it because then if you change the integer",
    "start": "171599",
    "end": "177280"
  },
  {
    "text": "over here to four you change it over here to seven and then you merge them then the correct value is seven you know the correct value is seven and",
    "start": "177280",
    "end": "185000"
  },
  {
    "text": "that's so how is that useful we'll get back to that DDS on the other hand is um data",
    "start": "185000",
    "end": "193360"
  },
  {
    "text": "distribution service okay tells you nothing uh it's a standard uh for",
    "start": "193360",
    "end": "200159"
  },
  {
    "text": "published subscribe systems um and so",
    "start": "200159",
    "end": "205280"
  },
  {
    "text": "DDS is uh well it's a standard by OMG um I'm getting ahead of my myself because I'll cover all this later",
    "start": "205280",
    "end": "212200"
  },
  {
    "text": "but well just just say it's a publish subscribe thing um networking type of",
    "start": "212200",
    "end": "220040"
  },
  {
    "text": "library but I thought I'd start with this offline first thing because well offline first that's um",
    "start": "220040",
    "end": "229239"
  },
  {
    "text": "what's that uh if we assume that this guy is uh he doesn't have 5G in in the palm and",
    "start": "229239",
    "end": "236120"
  },
  {
    "text": "and he didn't bring star link so so he's actually offline um then what can you tell about his",
    "start": "236120",
    "end": "242079"
  },
  {
    "text": "Computing environment then of course whatever he's going to do on this",
    "start": "242079",
    "end": "247439"
  },
  {
    "text": "island he has to have brought with him because he has no external input",
    "start": "247439",
    "end": "252560"
  },
  {
    "text": "so it has to already be there um and so if he if he worked on",
    "start": "252560",
    "end": "261160"
  },
  {
    "text": "software code for instance then uh if he used uh clear case or one of those old",
    "start": "261160",
    "end": "266800"
  },
  {
    "text": "Version Control Systems he he couldn't really do his work but if you Ed git probably he would be",
    "start": "266800",
    "end": "272639"
  },
  {
    "text": "good he could work on this island and commit his code and do stuff and then he could [Music]",
    "start": "272639",
    "end": "278280"
  },
  {
    "text": "um could could deliver the code later on but get on the other hand it's not conflict free I mean raise your hand if",
    "start": "278280",
    "end": "285639"
  },
  {
    "text": "you used git um raise your hand if you used git and never had a merge",
    "start": "285639",
    "end": "291880"
  },
  {
    "text": "error so so it's not strictly conflict free but but it still enables use of uh",
    "start": "292240",
    "end": "298800"
  },
  {
    "text": "sort of offline or or local usage because you have a clone of your data so",
    "start": "298800",
    "end": "303960"
  },
  {
    "text": "if he used that he'd have it on his Island and he could work on his rep",
    "start": "303960",
    "end": "309639"
  },
  {
    "text": "story [Music] um but then offline first uh it kind of",
    "start": "309639",
    "end": "316479"
  },
  {
    "text": "applies that there is a second right if you're if you're just offline then you're offline but if you're offline",
    "start": "316479",
    "end": "322440"
  },
  {
    "text": "first then what comes after um and that would be some kind of networking because",
    "start": "322440",
    "end": "327600"
  },
  {
    "text": "you you want to be able to synchronize your data somehow and then question is",
    "start": "327600",
    "end": "332759"
  },
  {
    "text": "is this related to network architecture and the answer is kind of but but not really uh again",
    "start": "332759",
    "end": "341240"
  },
  {
    "text": "if if you look at git very often these days uh git usage is through GitHub um",
    "start": "341240",
    "end": "348000"
  },
  {
    "text": "and then effectively you have a client server architecture um but but it's still you",
    "start": "348000",
    "end": "353680"
  },
  {
    "text": "have this kind of local first capabilities right because you have this clone of your data and of course you can",
    "start": "353680",
    "end": "359080"
  },
  {
    "text": "use get in a peer-to-peer way in the sense that you you have a repos story you have another repos story you can",
    "start": "359080",
    "end": "364919"
  },
  {
    "text": "always just pull changes from one to the other you don't have to go through any type of",
    "start": "364919",
    "end": "370720"
  },
  {
    "text": "server um so it's it's kind of related or I guess uh",
    "start": "370720",
    "end": "377680"
  },
  {
    "text": "if you're doing local first type of architectures then you'll tend to support peerto beer networking better",
    "start": "377680",
    "end": "384479"
  },
  {
    "text": "but it's not strictly speaking um a requirement for this office first type",
    "start": "384479",
    "end": "390800"
  },
  {
    "text": "of concept but",
    "start": "390800",
    "end": "397120"
  },
  {
    "text": "then sort of an on a tangent there's this not conflict but but it well you",
    "start": "397120",
    "end": "405160"
  },
  {
    "text": "can look at consistency versus availability in a sense uh and what I",
    "start": "405160",
    "end": "410599"
  },
  {
    "text": "mean by that is that um if you want to have something uh",
    "start": "410599",
    "end": "415919"
  },
  {
    "text": "consistent then you need to sort of be able to lock that resource or or or very",
    "start": "415919",
    "end": "421520"
  },
  {
    "text": "often I mean in an online setting if if you're selling tickets to a concert then",
    "start": "421520",
    "end": "427080"
  },
  {
    "text": "you want don't want to sell the same ticket twice and so then you put a really high value on your",
    "start": "427080",
    "end": "434120"
  },
  {
    "text": "consistency um on the other hand I mean again git is is a proof that uh we're",
    "start": "434120",
    "end": "440120"
  },
  {
    "text": "sort of willing to forgo the use of or the ability to lock stuff you cannot really lock anything in git right you",
    "start": "440120",
    "end": "447080"
  },
  {
    "text": "you everybody can work on anything and then you you you fix it afterwards by merging um because and then effectively",
    "start": "447080",
    "end": "455199"
  },
  {
    "text": "you're putting a higher priority on availability so and and a lot of I think",
    "start": "455199",
    "end": "462240"
  },
  {
    "text": "a lot of effort in in sort of the cloud domain is on",
    "start": "462240",
    "end": "467800"
  },
  {
    "text": "consistency uh you have all this fancy um consistency Pro consensus",
    "start": "467800",
    "end": "474800"
  },
  {
    "text": "protocols um to be able to make sure that you have one true view of the world",
    "start": "474800",
    "end": "480360"
  },
  {
    "text": "so because I mean consistency is is very easy if you have a single source of truth if you have one program then you",
    "start": "480360",
    "end": "487400"
  },
  {
    "text": "know what the value is inside that program and that by definition is your truth and then in the cloud world you",
    "start": "487400",
    "end": "493800"
  },
  {
    "text": "find that okay but I need to scale up I need redundancy I need I need multiple",
    "start": "493800",
    "end": "498840"
  },
  {
    "text": "copies but then then you try to sort of maintain the consistency and you get these uh election algorithms for",
    "start": "498840",
    "end": "505599"
  },
  {
    "text": "instance to to make sure that you have a majority of your servers agreeing on something then you know it's the truth and then you can move forward but",
    "start": "505599",
    "end": "513440"
  },
  {
    "text": "but for other applications availability is uh more important so I mean I I work",
    "start": "513440",
    "end": "522320"
  },
  {
    "text": "for defense and Aerospace right so that that's that's the part of kbur where things can blow up and then if if half",
    "start": "522320",
    "end": "529600"
  },
  {
    "text": "your system has been blown up the other half should continue working so it'll go",
    "start": "529600",
    "end": "535600"
  },
  {
    "text": "it's it will work imperfectly but it's better that it does something then that it does nothing so so you don't want to",
    "start": "535600",
    "end": "542959"
  },
  {
    "text": "make sure that you have a voting majority be before you do any change to a document for instance you you want to",
    "start": "542959",
    "end": "548120"
  },
  {
    "text": "be able to change this thing and then it might be that somebody is doing a conflicting change but",
    "start": "548120",
    "end": "554600"
  },
  {
    "text": "then yeah it's it's still better to do something than than to do",
    "start": "554600",
    "end": "561600"
  },
  {
    "text": "nothing um so sort of going back to this offline",
    "start": "561680",
    "end": "568839"
  },
  {
    "text": "first um what it kind of implies is uh replication I think uh if if in any",
    "start": "568839",
    "end": "576720"
  },
  {
    "text": "sense of the way you're going to be offline first you're going to have to have uh your data locally it it must be",
    "start": "576720",
    "end": "582360"
  },
  {
    "text": "available where you are and I mean it could be inside your specific tablet or",
    "start": "582360",
    "end": "587600"
  },
  {
    "text": "or it could be a network resource that you have available inside your car or inside your boat or wherever you are but",
    "start": "587600",
    "end": "596360"
  },
  {
    "text": "um you you need some kind of local data system",
    "start": "596360",
    "end": "601480"
  },
  {
    "text": "um and also allowing local edits if so if you",
    "start": "601480",
    "end": "608600"
  },
  {
    "text": "have this local data then allowing local edits sort of",
    "start": "608600",
    "end": "613839"
  },
  {
    "text": "you have to embrace the concept of eventual consistency with with emphasis on eventual it it might not be it's not",
    "start": "613839",
    "end": "621200"
  },
  {
    "text": "sort of a failure state that you're trying to fix is just they're different because you've done something I've done",
    "start": "621200",
    "end": "628160"
  },
  {
    "text": "something we have haven't merged our work yet but that's fine um and and the",
    "start": "628160",
    "end": "633959"
  },
  {
    "text": "system kind of have to live with that it's more like the the real world in a sense where you cannot really know",
    "start": "633959",
    "end": "640760"
  },
  {
    "text": "anything but but you know you know what you know you have your own source of knowledge and and it's imperfect but",
    "start": "640760",
    "end": "646120"
  },
  {
    "text": "it's better than well you don't have a better option so so so you live with that",
    "start": "646120",
    "end": "652120"
  },
  {
    "text": "uncertainty um and so but but effectively at the end of the day on",
    "start": "652120",
    "end": "659760"
  },
  {
    "text": "these locally changed replicas you need some way to resolve",
    "start": "659760",
    "end": "665120"
  },
  {
    "text": "merge conflicts and then Conflict Free sounds awesome",
    "start": "665120",
    "end": "670800"
  },
  {
    "text": "right so with that I'd thought I'd go a bit",
    "start": "671480",
    "end": "677760"
  },
  {
    "text": "talk about uh the DDS first because data distribution service um this is about",
    "start": "677760",
    "end": "684680"
  },
  {
    "text": "moving data around so that's sort of uh one half of the equation that you need because you you have the the replicas",
    "start": "684680",
    "end": "692279"
  },
  {
    "text": "with the crdts and I'll get to those but first you must also be able to move your data around and I'll try to show how DDS",
    "start": "692279",
    "end": "699320"
  },
  {
    "text": "can be used here um first that I have this this quote about DDS is the best",
    "start": "699320",
    "end": "704720"
  },
  {
    "text": "kept secret in distributed systems um which would be a really nice thing if I mean if a food critic says that about",
    "start": "704720",
    "end": "710959"
  },
  {
    "text": "restaurant it's a very compliment if the restaurant says it about itself then",
    "start": "710959",
    "end": "716240"
  },
  {
    "text": "it's it's a bit more dodgy uh and this is from the Cyclone DDS which is a DDS",
    "start": "716240",
    "end": "721680"
  },
  {
    "text": "implementation read me so so I mean this and I'm not sure if I should say this either since I'm also implementing DDS",
    "start": "721680",
    "end": "729040"
  },
  {
    "text": "so but but so I guess we're a bit insecure but um but but we we think DDS",
    "start": "729040",
    "end": "735839"
  },
  {
    "text": "is awesome anyway so it's a standard um it's made",
    "start": "735839",
    "end": "742480"
  },
  {
    "text": "by object Management Group uh of corba Fame and also uml um",
    "start": "742480",
    "end": "749399"
  },
  {
    "text": "and also DDS so yeah um but it's um uh one nice thing about",
    "start": "749399",
    "end": "756920"
  },
  {
    "text": "it is that it's available on om g.org so it's a set of Standards really uh but",
    "start": "756920",
    "end": "762320"
  },
  {
    "text": "anyone can go there and download the PDFs and Implement their own if they want to there's no registration even required you can just get all the",
    "start": "762320",
    "end": "769240"
  },
  {
    "text": "standards which I think is really great um more specifically it's a it's a",
    "start": "769240",
    "end": "774720"
  },
  {
    "text": "brokerless so serverless there's no server here actual serverless not not a cloud serverless kind of serverless um",
    "start": "774720",
    "end": "782600"
  },
  {
    "text": "uh peer-to-peer uh publish subscribe Library so well the standard isn't the",
    "start": "782600",
    "end": "788800"
  },
  {
    "text": "library it's it's a standard but any implementation of the standard is probably going to be a library all I",
    "start": "788800",
    "end": "794399"
  },
  {
    "text": "know of are um and publish subscribe here that means that you're using this",
    "start": "794399",
    "end": "800320"
  },
  {
    "text": "Library you you're writing stuff you're not addressing some endpoint you're addressing a topic you you're you're",
    "start": "800320",
    "end": "807440"
  },
  {
    "text": "publishing GPS coordinates for instance uh and then there may or may not be",
    "start": "807440",
    "end": "813040"
  },
  {
    "text": "subscribers that are subscribing to GPS coordinates and they will then receive these coordinates if someone is",
    "start": "813040",
    "end": "818760"
  },
  {
    "text": "publishing but but there's no uh there's a level of interaction between sending and receiving so so that's the publish",
    "start": "818760",
    "end": "826360"
  },
  {
    "text": "subscribe um the API is uh well it's not offline you you can say but but it works",
    "start": "826360",
    "end": "833600"
  },
  {
    "text": "on local data so so it it's kind of at least it's local first in the sense that when you when you read something in the",
    "start": "833600",
    "end": "840079"
  },
  {
    "text": "API you're reading a local value so it it's very well it's it it helps you write",
    "start": "840079",
    "end": "847959"
  },
  {
    "text": "programs that are robust because or or resilient to network outages because you",
    "start": "847959",
    "end": "853680"
  },
  {
    "text": "you don't have a function call where you read stuff and then suddenly that read stuff function hangs uh the read in DDS",
    "start": "853680",
    "end": "860079"
  },
  {
    "text": "is non-blocking always you you do of course have a weight but then it's called weight and you kind of you can in",
    "start": "860079",
    "end": "865839"
  },
  {
    "text": "it that it's going to wait um there are several implementation incom DDS from",
    "start": "865839",
    "end": "871560"
  },
  {
    "text": "kbur is one of them um and there are RTI is a big company doing DDS and and there",
    "start": "871560",
    "end": "877440"
  },
  {
    "text": "are several open source versions like open DDS and Cyclone DDS um I have some",
    "start": "877440",
    "end": "884320"
  },
  {
    "text": "links at the end I thought I'd put up so you can if you're interested um I'll",
    "start": "884320",
    "end": "889839"
  },
  {
    "text": "leave that up at the end and then um yeah last thing before",
    "start": "889839",
    "end": "897079"
  },
  {
    "text": "we go to the live coding thing uh I thought a bit I talk a bit about",
    "start": "897079",
    "end": "902680"
  },
  {
    "text": "DDS Discovery because when you don't have a server then Discovery is kind of",
    "start": "902680",
    "end": "908639"
  },
  {
    "text": "uh one of the the difficult parts or or how do you discover other things uh and the answer for for DDS is multicast that",
    "start": "908639",
    "end": "916240"
  },
  {
    "text": "that's the standard answer or DDS standard answer um so if you create a a",
    "start": "916240",
    "end": "922000"
  },
  {
    "text": "participant DDS participant um is going to publish announce messages on",
    "start": "922000",
    "end": "928839"
  },
  {
    "text": "multicast so it it's basically sending out to the network I'm here I'm here I'm here and then what happens when another",
    "start": "928839",
    "end": "938880"
  },
  {
    "text": "participant receives this message it's going to um see that okay this is an announce",
    "start": "939160",
    "end": "946959"
  },
  {
    "text": "message from somebody I don't know and it'll answer back with the information about all the topics all the readers and",
    "start": "946959",
    "end": "953959"
  },
  {
    "text": "writers um it has and the quality of service so so basically all the settings for for these readers and writers it's",
    "start": "953959",
    "end": "959959"
  },
  {
    "text": "going to send that back it's also going to send an announce message back um or it'll just do that on regular basis and",
    "start": "959959",
    "end": "968079"
  },
  {
    "text": "then the participant a is going to do the exact same thing and send all its information to participant",
    "start": "968079",
    "end": "973839"
  },
  {
    "text": "B um and I think the neat thing about what happens then is that both",
    "start": "973839",
    "end": "981319"
  },
  {
    "text": "participants will then have the same data because participant a he knows",
    "start": "981319",
    "end": "986720"
  },
  {
    "text": "everything about himself of course and he also knows everything about participant B and and vice versa so then",
    "start": "986720",
    "end": "994199"
  },
  {
    "text": "you can on both ends you can run the same algorithm and come to the same answer so participant a will see that",
    "start": "994199",
    "end": "1001399"
  },
  {
    "text": "okay I'm publishing a topic on uh cordinates I'll start sending those to B",
    "start": "1001399",
    "end": "1007120"
  },
  {
    "text": "Because B is interested and B on his side will see that I'm subscribing to uh",
    "start": "1007120",
    "end": "1012839"
  },
  {
    "text": "coordinate for topics or topic for coordinates um and participant a is",
    "start": "1012839",
    "end": "1018199"
  },
  {
    "text": "published in that so I'll start subscribing to this I I'll I'll make the internal structures ready to receive",
    "start": "1018199",
    "end": "1024160"
  },
  {
    "text": "data from a um and there is no further handshake because you're running the",
    "start": "1024160",
    "end": "1029918"
  },
  {
    "text": "same algorithm with the same input data or it's pure functional programming right you same function with same input",
    "start": "1029919",
    "end": "1035959"
  },
  {
    "text": "on both computers is going to come to the same conclusion so they work this out independently don't need to do a",
    "start": "1035959",
    "end": "1041600"
  },
  {
    "text": "handshake so you you move directly from this generic exchange of information to",
    "start": "1041600",
    "end": "1047360"
  },
  {
    "text": "application data no no no agreement protocol that you should send me data",
    "start": "1047360",
    "end": "1052480"
  },
  {
    "text": "which is sort of a neat detail and also fits into this type of",
    "start": "1052480",
    "end": "1059960"
  },
  {
    "text": "local first Computing um it's the same kind of thing that you will have to do there to to",
    "start": "1059960",
    "end": "1066120"
  },
  {
    "text": "implement then I thought I'd look at chat because well I'm sorry but but",
    "start": "1066120",
    "end": "1073160"
  },
  {
    "text": "publish subscribe the simplest thing you can possibly Implement is always some kind of chat so that's what I'm going to",
    "start": "1073160",
    "end": "1079600"
  },
  {
    "text": "do too um and I thought well let's see if I can make this",
    "start": "1079600",
    "end": "1087240"
  },
  {
    "text": "actually readable like this",
    "start": "1087240",
    "end": "1092679"
  },
  {
    "text": "yeah so I've set up a project for myself to to not waste time doing searching for",
    "start": "1092679",
    "end": "1098960"
  },
  {
    "text": "the correct path in in cake and stuff like that um and what I have here is I",
    "start": "1098960",
    "end": "1105000"
  },
  {
    "text": "have this IDL file which is a a message Mage uh definition file basically that",
    "start": "1105000",
    "end": "1111360"
  },
  {
    "text": "DDS use it it's very similar to what you have in a protu file um and you can use",
    "start": "1111360",
    "end": "1116799"
  },
  {
    "text": "it to Define data types so module chat that's namespace chat in in C++ will",
    "start": "1116799",
    "end": "1122240"
  },
  {
    "text": "have a struct message and the message is going to contain uh two strings user and text um also I'm going",
    "start": "1122240",
    "end": "1131000"
  },
  {
    "text": "to cheat a bit here because I've put this topic annotation on um and that's not strictly speaking a part of the",
    "start": "1131000",
    "end": "1137919"
  },
  {
    "text": "standard or annotations are but what you do about the topic annotation isn't um but it allows us to generate some",
    "start": "1137919",
    "end": "1144559"
  },
  {
    "text": "further code so I don't have to type it all out myself so it'll make my chat application a bit shorter than it it",
    "start": "1144559",
    "end": "1150200"
  },
  {
    "text": "would have been if I didn't use this so then to to implement my simple",
    "start": "1150200",
    "end": "1156240"
  },
  {
    "text": "chat I'll start by including the the sort of top",
    "start": "1156240",
    "end": "1161440"
  },
  {
    "text": "level include the DDS header to to get my uh",
    "start": "1161440",
    "end": "1168720"
  },
  {
    "text": "hopefully uh allo correct working intelligence I mean um and with that in",
    "start": "1168720",
    "end": "1175679"
  },
  {
    "text": "place I can then create a domain",
    "start": "1175679",
    "end": "1179640"
  },
  {
    "text": "participant main participant DP and it will join domain",
    "start": "1181720",
    "end": "1190600"
  },
  {
    "text": "17 now what this is going to do is it'll create this domain participant object",
    "start": "1190600",
    "end": "1197200"
  },
  {
    "text": "obviously which is uh something that holds uh well it really is the owner of the",
    "start": "1197200",
    "end": "1204919"
  },
  {
    "text": "discovery mechanism it's the owner of all the sockets it's owner of shared memory areas so it's the the heaviest",
    "start": "1204919",
    "end": "1210960"
  },
  {
    "text": "object in in the DDS world and generally your application will create one of these or several of these at startup and",
    "start": "1210960",
    "end": "1217799"
  },
  {
    "text": "they'll live throughout the application lifetime very often you you can of you can create them at any time but also",
    "start": "1217799",
    "end": "1224440"
  },
  {
    "text": "since this is multicast Discovery uh it really doesn't make sense to create one of these read one value and destroy it",
    "start": "1224440",
    "end": "1230720"
  },
  {
    "text": "because it that's going to be very slow for you and and also probably the lifetime of this is at least a few",
    "start": "1230720",
    "end": "1237440"
  },
  {
    "text": "seconds in in normal cases because again",
    "start": "1237440",
    "end": "1243120"
  },
  {
    "text": "yeah something choose",
    "start": "1246000",
    "end": "1250799"
  },
  {
    "text": "completely oh good question question so so the question was what domain ID 17 is",
    "start": "1255880",
    "end": "1260960"
  },
  {
    "text": "that a a significant number or is it just a random number I picked um and and",
    "start": "1260960",
    "end": "1266360"
  },
  {
    "text": "the answer is it's a random number um so uh the domain ID is um a way to make uh",
    "start": "1266360",
    "end": "1275840"
  },
  {
    "text": "to to be able to have separate DDS and or or DDS networks that don't",
    "start": "1275840",
    "end": "1281640"
  },
  {
    "text": "conflict with each other uh it's an integer between it's a 32-bit number so",
    "start": "1281640",
    "end": "1286720"
  },
  {
    "text": "Zer to to up to 31 um 32 actually um four billion um it",
    "start": "1286720",
    "end": "1294919"
  },
  {
    "text": "will map to different UDP ports numbers um in a standard way but of course there",
    "start": "1294919",
    "end": "1300720"
  },
  {
    "text": "are more domain numbers than there are UDP port numbers so so they will collide at some point but but if I do uh 17 and",
    "start": "1300720",
    "end": "1308240"
  },
  {
    "text": "then I did 18 uh they two wouldn't communicate and they would be sending data on different UDP port",
    "start": "1308240",
    "end": "1315039"
  },
  {
    "text": "numbers but there's no um no yeah or no well since DDS uses different port",
    "start": "1315039",
    "end": "1321799"
  },
  {
    "text": "numbers for different domain it it basically uses any range of UDP ports",
    "start": "1321799",
    "end": "1327000"
  },
  {
    "text": "that that you want um so it it's not uh there's no specific DDS uh Port",
    "start": "1327000",
    "end": "1337880"
  },
  {
    "text": "yes uh yeah good question uh so so the",
    "start": "1344919",
    "end": "1350039"
  },
  {
    "text": "network bound on the domain would be uh by default it would be decided by your multicast routing settings um",
    "start": "1350039",
    "end": "1358039"
  },
  {
    "text": "and uh again well then then you go into the standard doesn't say anything about",
    "start": "1358039",
    "end": "1363600"
  },
  {
    "text": "this but um we we have a configuration file for our TDS implementation",
    "start": "1363600",
    "end": "1370880"
  },
  {
    "text": "um and it allows among other things to set this thing so this sets the TTL",
    "start": "1370880",
    "end": "1378799"
  },
  {
    "text": "value for the multicast messages and then your network will and and they're sent to uh by default again this address",
    "start": "1378799",
    "end": "1388679"
  },
  {
    "text": "uh 233 25501 and so anyone who sees this",
    "start": "1388679",
    "end": "1393960"
  },
  {
    "text": "message will try to start this handshake thing um but it it's then up to your",
    "start": "1393960",
    "end": "1399279"
  },
  {
    "text": "network really but um the the answer is that most of the time DDS is used sort",
    "start": "1399279",
    "end": "1404880"
  },
  {
    "text": "of um on on the a local network in uh so very often it's physically local",
    "start": "1404880",
    "end": "1410960"
  },
  {
    "text": "so inside a vehicle or or inside a boat again um or yeah so some some physical",
    "start": "1410960",
    "end": "1418760"
  },
  {
    "text": "area um or some kind of VN Network maybe so so you have a local network it's not",
    "start": "1418760",
    "end": "1425600"
  },
  {
    "text": "necessarily physically local but but it's still a limited number of computers because generally you you don't want to",
    "start": "1425600",
    "end": "1432840"
  },
  {
    "text": "address the world like this and also since since all of this communication is point to point and everybody inside a",
    "start": "1432840",
    "end": "1439039"
  },
  {
    "text": "single domain is talking to everybody else if you if you try to put a million people in the same domain that would be",
    "start": "1439039",
    "end": "1445240"
  },
  {
    "text": "like a million people in the same room all trying to talk it doesn't work so you you need this mechanism to um The",
    "start": "1445240",
    "end": "1452720"
  },
  {
    "text": "Domain mechanism I mean uh to be able to uh sort of control the number of",
    "start": "1452720",
    "end": "1459000"
  },
  {
    "text": "participants in the domain that they should have something to talk about some some reason to communicate if you",
    "start": "1459000",
    "end": "1466679"
  },
  {
    "text": "will uh um but of course uh you you can grow your network but but",
    "start": "1466679",
    "end": "1473039"
  },
  {
    "text": "at some point you will probably need separate domains and then you'll need to create some someone on a higher level",
    "start": "1473039",
    "end": "1478840"
  },
  {
    "text": "that are sends data between those two domains if you need that for instance but but it's left to the application so",
    "start": "1478840",
    "end": "1485880"
  },
  {
    "text": "the domain is a is a sort of flat",
    "start": "1485880",
    "end": "1490279"
  },
  {
    "text": "Network okay so I have my uh domain participant then let me try if I I can",
    "start": "1491200",
    "end": "1498679"
  },
  {
    "text": "create I'll need to include my generated code uh chat SL",
    "start": "1498679",
    "end": "1507640"
  },
  {
    "text": "reader and I'm also going to need a writer to do a chat so I'll just include",
    "start": "1507640",
    "end": "1515360"
  },
  {
    "text": "that so I then want to create okay scroll sorry",
    "start": "1515880",
    "end": "1525120"
  },
  {
    "text": "scroll up a bit um",
    "start": "1525120",
    "end": "1529679"
  },
  {
    "text": "reader like this and it takes the domain participant as an input so it it's created as a reader under this domain",
    "start": "1536880",
    "end": "1544320"
  },
  {
    "text": "participant and then what I want to do is whenever I receive some data um I just want to print it out to",
    "start": "1544320",
    "end": "1551720"
  },
  {
    "text": "standard out because that's uh that's the easiest thing I can do so let me just fix this up to",
    "start": "1551720",
    "end": "1559880"
  },
  {
    "text": "Lambda SLE something like",
    "start": "1564840",
    "end": "1570200"
  },
  {
    "text": "this something like that and also",
    "start": "1574679",
    "end": "1579278"
  },
  {
    "text": "here there we go um and then uh I'll just print it out",
    "start": "1583320",
    "end": "1590399"
  },
  {
    "text": "so and my message had a a name and a text so",
    "start": "1590399",
    "end": "1595700"
  },
  {
    "text": "[Music] sample data",
    "start": "1595700",
    "end": "1602799"
  },
  {
    "text": "message is [Music]",
    "start": "1602799",
    "end": "1607549"
  },
  {
    "text": "sending what message",
    "start": "1608679",
    "end": "1613158"
  },
  {
    "text": "text the user like this so user is writing",
    "start": "1614840",
    "end": "1620399"
  },
  {
    "text": "something and that's really all there is to it this this will create a reader that that will subscribe to my topic uh",
    "start": "1620399",
    "end": "1627760"
  },
  {
    "text": "and whenever it receives data it's going to print it to standard out so that's the that's the read Loop of my my chat",
    "start": "1627760",
    "end": "1635240"
  },
  {
    "text": "application um and then to create the right Loop to um I need first the",
    "start": "1635240",
    "end": "1642440"
  },
  {
    "text": "writer chat topic writer",
    "start": "1642520",
    "end": "1649520"
  },
  {
    "text": "and then I'll need a message to send so I'll initialize that with my",
    "start": "1649840",
    "end": "1657840"
  },
  {
    "text": "uh username and just an empty text and then I'll do a simple getline Loop",
    "start": "1657840",
    "end": "1668200"
  },
  {
    "text": "to to to to read data from from Sun",
    "start": "1668640",
    "end": "1674960"
  },
  {
    "text": "in",
    "start": "1676519",
    "end": "1679519"
  },
  {
    "text": "I'll get slide like so and then to publish this sample",
    "start": "1681600",
    "end": "1687720"
  },
  {
    "text": "um I just send it to the director and that's",
    "start": "1687720",
    "end": "1693159"
  },
  {
    "text": "it so this hopefully uh is enough to uh",
    "start": "1693159",
    "end": "1700480"
  },
  {
    "text": "and and correctly written um we'll",
    "start": "1700480",
    "end": "1705880"
  },
  {
    "text": "see",
    "start": "1706440",
    "end": "1709440"
  },
  {
    "text": "oh it compiles so we're all good um now uh I I cheated",
    "start": "1712640",
    "end": "1722159"
  },
  {
    "text": "and and created some terminals for myself to be able to test this thing um so it ends up in build and I have the",
    "start": "1722159",
    "end": "1731679"
  },
  {
    "text": "simple chat over here and this is the simple chat I just made let's check if",
    "start": "1731679",
    "end": "1738360"
  },
  {
    "text": "the yeah so this is recent right this is this has been made right",
    "start": "1738360",
    "end": "1744880"
  },
  {
    "text": "now I can run it I can comma Bob I can say",
    "start": "1744880",
    "end": "1750600"
  },
  {
    "text": "hi um there is nobody else here uh so it's not really going anywhere but uh",
    "start": "1750600",
    "end": "1758000"
  },
  {
    "text": "you can at least see that it's it's looping around because he's he's talking himself because this line here Bob's",
    "start": "1758000",
    "end": "1764399"
  },
  {
    "text": "colon High that's from this line here here so this you you see it's getting",
    "start": "1764399",
    "end": "1770159"
  },
  {
    "text": "published it's getting picked up locally but it's not being sent anywhere um and oh actually I have",
    "start": "1770159",
    "end": "1778760"
  },
  {
    "text": "something else running so that'll mess up my my diagram a bit",
    "start": "1778760",
    "end": "1786080"
  },
  {
    "text": "but that's okay um I can start another",
    "start": "1786080",
    "end": "1794000"
  },
  {
    "text": "one uh let's say Bill comes in and Bill then gets sent the message High",
    "start": "1794000",
    "end": "1800880"
  },
  {
    "text": "immediately from Bob and this this happens because inside the the DDS",
    "start": "1800880",
    "end": "1805919"
  },
  {
    "text": "Library the the message from from Bob has been stored uh so the DDS or",
    "start": "1805919",
    "end": "1811559"
  },
  {
    "text": "intercom DDS knows then to to send it immediately on connect uh to the new",
    "start": "1811559",
    "end": "1816960"
  },
  {
    "text": "application but but the message lives inside the the Bob process um and Bob",
    "start": "1816960",
    "end": "1823399"
  },
  {
    "text": "can say uh sorry Bill can say hi",
    "start": "1823399",
    "end": "1830159"
  },
  {
    "text": "Bob um and then yeah again it's messing a bit I I",
    "start": "1830159",
    "end": "1837760"
  },
  {
    "text": "have another application running somewhere uh but you see then what what happens is that uh the high message gets",
    "start": "1837760",
    "end": "1845159"
  },
  {
    "text": "sent to bill and when Bill responds he sends hi Bob back to to Bob and to this",
    "start": "1845159",
    "end": "1853080"
  },
  {
    "text": "mystery chat application that's running somewhere on my DDS domain I don't control where",
    "start": "1853080",
    "end": "1858559"
  },
  {
    "text": "so there's um and if if we extend this a bit",
    "start": "1858559",
    "end": "1863960"
  },
  {
    "text": "um or yeah let's let's add another another",
    "start": "1863960",
    "end": "1871720"
  },
  {
    "text": "participant um build sample simple chat Alice joins",
    "start": "1871720",
    "end": "1879440"
  },
  {
    "text": "um and she says",
    "start": "1879440",
    "end": "1884200"
  },
  {
    "text": "good good morning um and it goes to all the others and you",
    "start": "1884799",
    "end": "1890799"
  },
  {
    "text": "can see then in my nice diagram that she's sending it to both",
    "start": "1890799",
    "end": "1897039"
  },
  {
    "text": "first she she gets the existing messages from the other participants and then she's answering good morning and the",
    "start": "1897039",
    "end": "1902679"
  },
  {
    "text": "message is being sent to all of them now at this point I hope that",
    "start": "1902679",
    "end": "1908799"
  },
  {
    "text": "someone in the audience is is thinking that yeah okay this is a cool chat app but what about this diagram that's being",
    "start": "1908799",
    "end": "1915799"
  },
  {
    "text": "live updated right it's kind of cool isn't it I think it's cool",
    "start": "1915799",
    "end": "1921039"
  },
  {
    "text": "uh so glad you thought about that um and because nominally our component",
    "start": "1921039",
    "end": "1929760"
  },
  {
    "text": "diagram looks like this uh so so well we have Alice Bill and Bob and then",
    "start": "1929760",
    "end": "1935320"
  },
  {
    "text": "actually plus my uh mystery chat application somewhere don't know sorry about that um but my actual uh chat",
    "start": "1935320",
    "end": "1946360"
  },
  {
    "text": "application there there's one more participant here um because the",
    "start": "1946360",
    "end": "1955120"
  },
  {
    "text": "the the full component diagram looks like this so I have my my slides here my",
    "start": "1955120",
    "end": "1962639"
  },
  {
    "text": "my slid showing is in a web browser um and the slide server is a DDS uh web",
    "start": "1962639",
    "end": "1970159"
  },
  {
    "text": "server basically um so it listens on DDS um it participates in the same uh DDS",
    "start": "1970159",
    "end": "1977480"
  },
  {
    "text": "domain doesn't listen to chat messages though uh it listens to these crdt",
    "start": "1977480",
    "end": "1983039"
  },
  {
    "text": "messages so it listens to um it listens to um a crdt document that",
    "start": "1983039",
    "end": "1993760"
  },
  {
    "text": "I'm creating in another program called the mermaid mermaid generator here that listens in on the chat messages and then",
    "start": "1993760",
    "end": "2002039"
  },
  {
    "text": "um it's it's not actually showing the DDS traffic because it's cheating it's it's recording what's happening on the",
    "start": "2002039",
    "end": "2008440"
  },
  {
    "text": "chat domain and then it knows what the traffic is going to be to to fulfill that because I know what DDS is doing um",
    "start": "2008440",
    "end": "2015240"
  },
  {
    "text": "so but but essentially the mermaid generator is creating this uh document up here so whenever you do anything a",
    "start": "2015240",
    "end": "2023399"
  },
  {
    "text": "line will be appended to this document um and then the this diagram",
    "start": "2023399",
    "end": "2030240"
  },
  {
    "text": "here is simply a render it's it's a mermaid render of this text here so",
    "start": "2030240",
    "end": "2038960"
  },
  {
    "text": "easy right um actually it's it's not that difficult uh which is the cool",
    "start": "2039159",
    "end": "2044639"
  },
  {
    "text": "thing here um and that brings me I think uh over to uh Auto merge because",
    "start": "2044639",
    "end": "2056480"
  },
  {
    "text": "yeah yeah excellent question uh it depends",
    "start": "2058320",
    "end": "2068879"
  },
  {
    "text": "it's um uh I didn't show you but uh in the chat IDL is referring to a quality",
    "start": "2069079",
    "end": "2077960"
  },
  {
    "text": "of service setting and this quality of service is uh defined in in adjacent",
    "start": "2077960",
    "end": "2084638"
  },
  {
    "text": "file and here you can on for instance on the",
    "start": "2084639",
    "end": "2089960"
  },
  {
    "text": "writer side you can set a bunch of configuration settings uh and transient",
    "start": "2089960",
    "end": "2095760"
  },
  {
    "text": "local means that it should keep data for Lay joiners so so that's what's making it sort if it said volatile there then",
    "start": "2095760",
    "end": "2102480"
  },
  {
    "text": "Alice wouldn't get the old messages they would have been deleted uh whereas keep all history",
    "start": "2102480",
    "end": "2107800"
  },
  {
    "text": "means that all the chat messages Bob is producing will be queued up in his local",
    "start": "2107800",
    "end": "2113160"
  },
  {
    "text": "storage uh he could have keep last there instead with a depth of one or 10 or whatever uh and it then it would keep",
    "start": "2113160",
    "end": "2120119"
  },
  {
    "text": "the last sample uh and also uh you could put a lifespan here for instance to to",
    "start": "2120119",
    "end": "2126119"
  },
  {
    "text": "say that's the messages should live for 10 seconds or 10 days or whatever um but",
    "start": "2126119",
    "end": "2131680"
  },
  {
    "text": "um well generally this setting here with transient local and and keep all",
    "start": "2131680",
    "end": "2136800"
  },
  {
    "text": "wouldn't be advisable in the running system because this will make Bob keep his messages around forever",
    "start": "2136800",
    "end": "2143119"
  },
  {
    "text": "so uh yeah you you generally when you create or when you architect the DDS",
    "start": "2143119",
    "end": "2149520"
  },
  {
    "text": "domain you have to you have to make sure that data is thrown away and and DDS gives you a lot",
    "start": "2149520",
    "end": "2155280"
  },
  {
    "text": "of knobs to turn to tune your topic so so that the correct data is thrown away",
    "start": "2155280",
    "end": "2160440"
  },
  {
    "text": "at the correct time basically um yeah and then just to to prove that",
    "start": "2160440",
    "end": "2169079"
  },
  {
    "text": "this document is the same thing if I answer high again down here then you see",
    "start": "2169079",
    "end": "2176240"
  },
  {
    "text": "that's appended in this document so so far uh I mean this is this is neat",
    "start": "2176240",
    "end": "2186000"
  },
  {
    "text": "right um but the the the flow of the information is just from this",
    "start": "2186000",
    "end": "2191040"
  },
  {
    "text": "application through the DDS domain to the slide server to the browser so it",
    "start": "2191040",
    "end": "2197640"
  },
  {
    "text": "could have been just any text right it's it's there's no um it's it's",
    "start": "2197640",
    "end": "2204480"
  },
  {
    "text": "replicated but there are no uh concurrent changes so I don't really",
    "start": "2204480",
    "end": "2209599"
  },
  {
    "text": "need uh the auto merge or or the crdt functionality but then still I I used uh",
    "start": "2209599",
    "end": "2216319"
  },
  {
    "text": "the C rdt for this because that's what I had because that's sort of the goal of this talk",
    "start": "2216319",
    "end": "2222240"
  },
  {
    "text": "um which brings me to this automerge Library it's an open source project uh",
    "start": "2222240",
    "end": "2229200"
  },
  {
    "text": "it's a library uh their version they had a version one I think in JavaScript the version two is written in Rust uh it has",
    "start": "2229200",
    "end": "2236240"
  },
  {
    "text": "C bindings which is a pretty horrible API actually but but it's it works um",
    "start": "2236240",
    "end": "2243920"
  },
  {
    "text": "but it also compile compiles to web assembly so you can run the exact same Library uh so it it'll be uh consistent",
    "start": "2243920",
    "end": "2253319"
  },
  {
    "text": "with itself which is good um in the browser and it has a pretty nice",
    "start": "2253319",
    "end": "2258480"
  },
  {
    "text": "JavaScript API uh and also the the rust API is also pretty nice so so it's it's",
    "start": "2258480",
    "end": "2263760"
  },
  {
    "text": "easy to use this thing from from either rust or JavaScript and possible to use it from C or C++ um it's MIT licensed um",
    "start": "2263760",
    "end": "2273160"
  },
  {
    "text": "available at uh GitHub and also they have this uh nice",
    "start": "2273160",
    "end": "2279720"
  },
  {
    "text": "web page um to they talk about building local first software so so",
    "start": "2279720",
    "end": "2286119"
  },
  {
    "text": "they're very much in line with with the the topic of this talk and and they have",
    "start": "2286119",
    "end": "2292960"
  },
  {
    "text": "uh actually pretty nice documentation uh with with design principles and and how to how to use it",
    "start": "2292960",
    "end": "2299680"
  },
  {
    "text": "and and well if you're interested in this it's very much worth checking out",
    "start": "2299680",
    "end": "2305680"
  },
  {
    "text": "um they also have links here to stuff like this local first software oh that's a yeah let's not go there",
    "start": "2305680",
    "end": "2315800"
  },
  {
    "text": "yet [Music] um it's it's basically an essay on on",
    "start": "2317119",
    "end": "2322920"
  },
  {
    "text": "the on the field it's it's interesting reading",
    "start": "2322920",
    "end": "2328599"
  },
  {
    "text": "um and actually to use automerge it looks",
    "start": "2329240",
    "end": "2335560"
  },
  {
    "text": "like this this is straight from their documentation and it's also close to what inspired this talk actually because",
    "start": "2335560",
    "end": "2343040"
  },
  {
    "text": "uh it uses the autom merge stuff uh up here uh and then it says network",
    "start": "2343040",
    "end": "2348200"
  },
  {
    "text": "broadcast changes and then Network receive changes and I thought this and I looked at this and I thought hey I know",
    "start": "2348200",
    "end": "2354119"
  },
  {
    "text": "how to do that uh this is my DDS isn't it uh so how about I try to join the two",
    "start": "2354119",
    "end": "2360880"
  },
  {
    "text": "and and would that work out um so but but to start at the top uh an automerge",
    "start": "2360880",
    "end": "2367920"
  },
  {
    "text": "document is an immutable document uh and so to change this you you call a change",
    "start": "2367920",
    "end": "2374560"
  },
  {
    "text": "function that basically trans creates a transaction for you in this doc thing and then you can mutate the dock however",
    "start": "2374560",
    "end": "2381040"
  },
  {
    "text": "you want um and and the document in automerge is basically a Json equivalent",
    "start": "2381040",
    "end": "2387640"
  },
  {
    "text": "so so you have a the document is it feels like adjacent structure when you use it um and you can add uh uh another",
    "start": "2387640",
    "end": "2396960"
  },
  {
    "text": "nested objects you can add arrays strings numbers and it'll create a new immutable",
    "start": "2396960",
    "end": "2402680"
  },
  {
    "text": "document for you with it those changes applied and then you can do get changes",
    "start": "2402680",
    "end": "2408200"
  },
  {
    "text": "to get the diff basically between your old State and your new state and you can",
    "start": "2408200",
    "end": "2413440"
  },
  {
    "text": "transmit those over the network and then someone else receives them then can apply them uh to their uh current state",
    "start": "2413440",
    "end": "2421720"
  },
  {
    "text": "and they'll end up with a new document um that is identical to the new document",
    "start": "2421720",
    "end": "2428280"
  },
  {
    "text": "up here uh assuming that the current document was identical right but but you",
    "start": "2428280",
    "end": "2433960"
  },
  {
    "text": "can still apply it so so you and you can receive messages in any order that's an important property of the crdt it it's",
    "start": "2433960",
    "end": "2442160"
  },
  {
    "text": "uh it's conflict free but but it also allows you to um well you don't need a",
    "start": "2442160",
    "end": "2448160"
  },
  {
    "text": "specific ordering uh if you if you did it would be much more difficult to use",
    "start": "2448160",
    "end": "2455119"
  },
  {
    "text": "um and then we can look",
    "start": "2455319",
    "end": "2461839"
  },
  {
    "text": "at uh a to-do list so that's neat right um and now let me exit my my full",
    "start": "2461839",
    "end": "2470119"
  },
  {
    "text": "screen and over here actually I have a different view uh running on a different",
    "start": "2470119",
    "end": "2475920"
  },
  {
    "text": "server of what's going on so this is the same diagram from from my presentation but it the server is actually different",
    "start": "2475920",
    "end": "2482839"
  },
  {
    "text": "uh it's it's a different port um and I have a to-do list here and they're uh",
    "start": "2482839",
    "end": "2490400"
  },
  {
    "text": "they're linked so whatever I do on this",
    "start": "2490400",
    "end": "2495520"
  },
  {
    "text": "server is matched to whatever is happening on This Server over here and",
    "start": "2495520",
    "end": "2500880"
  },
  {
    "text": "so they're communicating through DDS and since the crdt is conflict free and",
    "start": "2500880",
    "end": "2507480"
  },
  {
    "text": "allows me to do edits wherever and just synchronizes afterwards uh I'm",
    "start": "2507480",
    "end": "2512960"
  },
  {
    "text": "guaranteed as long as communication is up um their state is going to end up the same",
    "start": "2512960",
    "end": "2520520"
  },
  {
    "text": "way for these things um and I can I can also add stuff here so I can",
    "start": "2520520",
    "end": "2527279"
  },
  {
    "text": "uh I can I can add another to-do item um and then now comes the very interesting",
    "start": "2529520",
    "end": "2536800"
  },
  {
    "text": "part uh you all could try to go to this web page here just visit on your phone",
    "start": "2536800",
    "end": "2543319"
  },
  {
    "text": "or laptop or whatever uh we'll see if the server melts it it's just a small computer at my house so this might break",
    "start": "2543319",
    "end": "2551920"
  },
  {
    "text": "spectacularly um but at least in theory uh you you should get this same web",
    "start": "2551920",
    "end": "2559960"
  },
  {
    "text": "page so first one in could go and and edit the the chat sequence and try to uh",
    "start": "2563040",
    "end": "2569480"
  },
  {
    "text": "edit the name of Bob to something else we'll see if it",
    "start": "2569480",
    "end": "2574520"
  },
  {
    "text": "works",
    "start": "2575160",
    "end": "2578160"
  },
  {
    "text": "if I can load it",
    "start": "2587000",
    "end": "2594200"
  },
  {
    "text": "yeah it might there's a risk that this part isn't working but I I promise you",
    "start": "2594200",
    "end": "2601160"
  },
  {
    "text": "concurrent changes are possible it's just",
    "start": "2601160",
    "end": "2608079"
  },
  {
    "text": "yeah no maybe my",
    "start": "2613640",
    "end": "2617119"
  },
  {
    "text": "um see if I can ping the",
    "start": "2620319",
    "end": "2624119"
  },
  {
    "text": "server oh it is oh great yeah so it's",
    "start": "2634160",
    "end": "2640079"
  },
  {
    "text": "um yeah it's network but it's not well you can't see this but it's it's not",
    "start": "2640079",
    "end": "2648040"
  },
  {
    "text": "uh the load isn't that high actually so it's the network that's",
    "start": "2649359",
    "end": "2654640"
  },
  {
    "text": "molting oh there yeah so",
    "start": "2655240",
    "end": "2662680"
  },
  {
    "text": "then yeah yay it's working",
    "start": "2665000",
    "end": "2670119"
  },
  {
    "text": "awesome so architecture then now it looks like",
    "start": "2670119",
    "end": "2675960"
  },
  {
    "text": "this so you have this um DDS domain that",
    "start": "2675960",
    "end": "2681800"
  },
  {
    "text": "the all the crtd crdt documents are communicating on and you have my slide",
    "start": "2681800",
    "end": "2688480"
  },
  {
    "text": "server that's this window over here uh that's uh hosting my my slideshow and",
    "start": "2688480",
    "end": "2693599"
  },
  {
    "text": "you have the public server that you're all accessing procing um and then all",
    "start": "2693599",
    "end": "2699160"
  },
  {
    "text": "the end browsers um and",
    "start": "2699160",
    "end": "2705520"
  },
  {
    "text": "so I think that the the magic of this is that uh it's I mean it's still probably",
    "start": "2705520",
    "end": "2712400"
  },
  {
    "text": "buggy uh if if you scratch this too hard it's it's going to fail somewhere honestly because it it's been I've been",
    "start": "2712400",
    "end": "2719280"
  },
  {
    "text": "doing this on my free time for the last two weeks so it's not it's not a high quality project but the the thing is",
    "start": "2719280",
    "end": "2726280"
  },
  {
    "text": "this aut merge Library uh really is kind of magic uh because being able to apply",
    "start": "2726280",
    "end": "2732240"
  },
  {
    "text": "changes like this uh I do not have any complex uh change resolution protocol or",
    "start": "2732240",
    "end": "2739079"
  },
  {
    "text": "anything like that I mean literally um the the change codes uh I think I'll",
    "start": "2739079",
    "end": "2744880"
  },
  {
    "text": "just try and show you um in in my most interesting bit is in",
    "start": "2744880",
    "end": "2752880"
  },
  {
    "text": "the in the JavaScript it'll",
    "start": "2752880",
    "end": "2758599"
  },
  {
    "text": "do let's see yeah here so event data this is triggered whenever",
    "start": "2760079",
    "end": "2768079"
  },
  {
    "text": "you receive a message whenever it receives a message from the DDS server",
    "start": "2768079",
    "end": "2774160"
  },
  {
    "text": "so this is a basically it's a DDS message received uh by the JavaScript application uh it checks that the topic",
    "start": "2774160",
    "end": "2781720"
  },
  {
    "text": "is crdt because I have the same receiver here for everything uh and then whenever",
    "start": "2781720",
    "end": "2787760"
  },
  {
    "text": "it has um it receives a document",
    "start": "2787760",
    "end": "2793440"
  },
  {
    "text": "um oh I should also show you the IDL because that makes more sense then um so",
    "start": "2793440",
    "end": "2799960"
  },
  {
    "text": "a crdt message is defined as this so it it has a a string which is",
    "start": "2799960",
    "end": "2807200"
  },
  {
    "text": "the document name that's the thing you're seeing oh sorry over here so so",
    "start": "2807200",
    "end": "2812760"
  },
  {
    "text": "that's just a string document name and then the content of uh the message is some crdt value and",
    "start": "2812760",
    "end": "2820880"
  },
  {
    "text": "that can either be a complete crdt document that you get from calling do save on the document or it can be a",
    "start": "2820880",
    "end": "2828520"
  },
  {
    "text": "change that you get when you call well you can get it multiple ways but but I'm",
    "start": "2828520",
    "end": "2833559"
  },
  {
    "text": "just doing do save incremental because it's easy uh which will save the changes",
    "start": "2833559",
    "end": "2838599"
  },
  {
    "text": "since the last time you did save incremental and it's that's transmitted uh and that's basically what then uh any",
    "start": "2838599",
    "end": "2847119"
  },
  {
    "text": "participant or or any reader in the system receives so then if I go back it checks",
    "start": "2847119",
    "end": "2853559"
  },
  {
    "text": "if this is a a complete document and if it is it'll actually here it will",
    "start": "2853559",
    "end": "2860119"
  },
  {
    "text": "overwrite what it had already so so it will create a new document up here uh",
    "start": "2860119",
    "end": "2866000"
  },
  {
    "text": "then it will get the change and it will merge the change into this into the new",
    "start": "2866000",
    "end": "2871440"
  },
  {
    "text": "document um and it will call Save incremental which is it's really just a",
    "start": "2871440",
    "end": "2876839"
  },
  {
    "text": "way to make sure that the next time I call Save incremental I don't have to retransmit everything it just received",
    "start": "2876839",
    "end": "2882359"
  },
  {
    "text": "so so that's you could skip this it would just waste a bit more",
    "start": "2882359",
    "end": "2888760"
  },
  {
    "text": "bandwidth um and then uh if it's a change it will look if it actually has",
    "start": "2888880",
    "end": "2896000"
  },
  {
    "text": "the document already if if not it just ignore the change uh and then uh it will",
    "start": "2896000",
    "end": "2903000"
  },
  {
    "text": "do uh well here is using incremental instead of merge I I can't recall why why I did that but",
    "start": "2903000",
    "end": "2910960"
  },
  {
    "text": "but it should be the same thing and the the point is it it's just a one API call to the autom merge and it will make sure",
    "start": "2910960",
    "end": "2917520"
  },
  {
    "text": "that the change is applied to the document and then return a new document",
    "start": "2917520",
    "end": "2922920"
  },
  {
    "text": "uh it'll also uh you can also here get information about what was changed so",
    "start": "2922920",
    "end": "2928880"
  },
  {
    "text": "that uh in a more advanced user interface you'd probably want to show to the user if there's a conflict somewhere",
    "start": "2928880",
    "end": "2935240"
  },
  {
    "text": "uh and and you can you can get that from autom meric can tell you that these",
    "start": "2935240",
    "end": "2940960"
  },
  {
    "text": "these concurrent changes change the same line so uh there there's a conflict and maybe",
    "start": "2940960",
    "end": "2946680"
  },
  {
    "text": "the maybe the user has to then make a determination what is correct",
    "start": "2946680",
    "end": "2953240"
  },
  {
    "text": "um and also what's worth noting here is that automerge will guarantee that the",
    "start": "2953240",
    "end": "2961160"
  },
  {
    "text": "state is the same on both systems or n systems after you you merge all the",
    "start": "2961160",
    "end": "2967079"
  },
  {
    "text": "changes but it will not guarantee that the merge is in fact what you want it",
    "start": "2967079",
    "end": "2972119"
  },
  {
    "text": "tries to be smart so and and usually I I mean it works out pretty well but um",
    "start": "2972119",
    "end": "2978599"
  },
  {
    "text": "there's no guarantee that uh for instance well this thing here is is never going to be syntactically wrong",
    "start": "2978599",
    "end": "2985359"
  },
  {
    "text": "because uh the the my my language is just uh if the line starts with a",
    "start": "2985359",
    "end": "2990680"
  },
  {
    "text": "exclamation mark it's done if it doesn't start with an exclamation mark it's not done so the this this grammar is any",
    "start": "2990680",
    "end": "2997160"
  },
  {
    "text": "text Will parse but uh with the diagram you can edit this and then if I if I",
    "start": "2997160",
    "end": "3005160"
  },
  {
    "text": "remove something here um it's just going to be a part well you can't really see it but but I mean it is an error it's",
    "start": "3005160",
    "end": "3012440"
  },
  {
    "text": "not no longer a valid mermaid diagram um",
    "start": "3012440",
    "end": "3018839"
  },
  {
    "text": "so there is no guarantee uh that that this will be maintained and and for my",
    "start": "3018839",
    "end": "3025119"
  },
  {
    "text": "use here I've simply used a single text field that's all they're being used um",
    "start": "3025119",
    "end": "3030559"
  },
  {
    "text": "so and that that works fine but but automerge as I mentioned it supports",
    "start": "3030559",
    "end": "3035839"
  },
  {
    "text": "pretty much any adjacent object so you can do a structured change which then will uh it will allow you to guarantee",
    "start": "3035839",
    "end": "3043400"
  },
  {
    "text": "the structure of your document because you're only making the the correct structure changes to to your uh crdt or",
    "start": "3043400",
    "end": "3050880"
  },
  {
    "text": "automerge document but still it doesn't guarantee that it's sem ically",
    "start": "3050880",
    "end": "3056280"
  },
  {
    "text": "consistent so so then you might have somewhere in then your Json like structure you changed some value to",
    "start": "3056280",
    "end": "3061960"
  },
  {
    "text": "something and and another value to something else and they're in Conflict so so it might not make sense and then",
    "start": "3061960",
    "end": "3068319"
  },
  {
    "text": "so so so you I mean you will need if you use this for real you you will need to resolve those",
    "start": "3068319",
    "end": "3074838"
  },
  {
    "text": "things yeah um and then another thing to be aware of",
    "start": "3078799",
    "end": "3086720"
  },
  {
    "text": "is that whenever we when whenever you're changing in your input area when when",
    "start": "3086720",
    "end": "3092160"
  },
  {
    "text": "you're writing something um my first naive implementation of this uh I just got a",
    "start": "3092160",
    "end": "3098680"
  },
  {
    "text": "notification that the chain the text in the text box was changed okay so I thought I I just open I'll just change",
    "start": "3098680",
    "end": "3105040"
  },
  {
    "text": "the text in my auto merge document but then you get horrible merge performance",
    "start": "3105040",
    "end": "3110160"
  },
  {
    "text": "because or or then what what happens is that you're telling the autom merge to replace content with with this content",
    "start": "3110160",
    "end": "3116319"
  },
  {
    "text": "replace with this content replace with this content and then effectively you're not going to see any merges you you're",
    "start": "3116319",
    "end": "3121839"
  },
  {
    "text": "just going to see one of those Valu is winning so so then if you have concurrent changes there always be a",
    "start": "3121839",
    "end": "3127480"
  },
  {
    "text": "huge conflict and one value will come up come out on top AER will guarantee that",
    "start": "3127480",
    "end": "3132599"
  },
  {
    "text": "but but it's going to be one of them so to get a useful uh sort of concurrent",
    "start": "3132599",
    "end": "3139160"
  },
  {
    "text": "Behavior where where you can uh sorry where where you were able to type",
    "start": "3139160",
    "end": "3144960"
  },
  {
    "text": "this stuff in and and at least some of it makes sense then you need to tell",
    "start": "3144960",
    "end": "3150760"
  },
  {
    "text": "Auto merge what's happening so so you need to tell it that it's going to insert text uh or or insert ads",
    "start": "3150760",
    "end": "3156839"
  },
  {
    "text": "somewhere it's going to do delete ad somewhere it's going to",
    "start": "3156839",
    "end": "3163200"
  },
  {
    "text": "who basically uh yeah tell it what the edit is",
    "start": "3163200",
    "end": "3172799"
  },
  {
    "text": "um and then I still have a couple of minutes so I I thought I'd do a bit more",
    "start": "3172799",
    "end": "3178400"
  },
  {
    "text": "about this uh crdt and and what they're actually are because um it's useful to",
    "start": "3178400",
    "end": "3186079"
  },
  {
    "text": "know something about them if if you were to use them uh and uh and Wikipedia has this to say um",
    "start": "3186079",
    "end": "3194480"
  },
  {
    "text": "that it allows you to uh update replicas independently without cordination um and",
    "start": "3194480",
    "end": "3201119"
  },
  {
    "text": "the algorithm for uh conflict resolution uh is is part of the data type and that",
    "start": "3201119",
    "end": "3207200"
  },
  {
    "text": "that's yeah it is um and they are",
    "start": "3207200",
    "end": "3212480"
  },
  {
    "text": "guaranteed to converge uh eventually um but eventually here means that they're",
    "start": "3212480",
    "end": "3218880"
  },
  {
    "text": "guaranteed to converge whenever they have the same information which might be never",
    "start": "3218880",
    "end": "3224920"
  },
  {
    "text": "but they they cannot be inconsistent if they have the same changes applied to them",
    "start": "3224920",
    "end": "3231839"
  },
  {
    "text": "that's not allowed uh I'd add",
    "start": "3231839",
    "end": "3237160"
  },
  {
    "text": "um well oh I stressed a bit that um you you end up with the same state uh if",
    "start": "3237280",
    "end": "3244480"
  },
  {
    "text": "they have the same changes so that that's another way to phrase the last thing but uh and the other",
    "start": "3244480",
    "end": "3252359"
  },
  {
    "text": "is I'm not sure if this is well crdt is not it's not like a protected thing so I",
    "start": "3252359",
    "end": "3258440"
  },
  {
    "text": "guess you you can say this uh but it it should be possible to apply changes in",
    "start": "3258440",
    "end": "3264480"
  },
  {
    "text": "any order because you you cannot know uh I mean I may receive some changes from someone else and from someone else and I",
    "start": "3264480",
    "end": "3270760"
  },
  {
    "text": "I apply them and that should be order independent and that's an important property because that makes it much much",
    "start": "3270760",
    "end": "3277079"
  },
  {
    "text": "easier to work with the crdts uh and and I mean what's happening here when when you all had your browsers out and and",
    "start": "3277079",
    "end": "3283280"
  },
  {
    "text": "did changes to the document then I would receive them here in some order um and",
    "start": "3283280",
    "end": "3289720"
  },
  {
    "text": "someone else would receive them in a different order and and there is no there is no clock um and that's really",
    "start": "3289720",
    "end": "3296520"
  },
  {
    "text": "actually that's that's point three that the crdt were a good implementation uh it shouldn't care about time of day um",
    "start": "3296520",
    "end": "3304760"
  },
  {
    "text": "simply because most of it's very hard to know the correct time of day often uh",
    "start": "3304760",
    "end": "3310480"
  },
  {
    "text": "and uh it's just more robust if it doesn't care um and",
    "start": "3310480",
    "end": "3318040"
  },
  {
    "text": "then I thought i' do just a couple of quick examples um so so if you have a a",
    "start": "3318040",
    "end": "3325240"
  },
  {
    "text": "simple thing that does add you you you have a number you're always adding so then if you add one you both",
    "start": "3325240",
    "end": "3333680"
  },
  {
    "text": "get one you add two and you add three you get different states but that's okay because you've added different information and then you switch it so",
    "start": "3333680",
    "end": "3340440"
  },
  {
    "text": "you add three and two and you get to the same answer so plus operator basically",
    "start": "3340440",
    "end": "3345480"
  },
  {
    "text": "allows an integer to be a crdt on the other hand if you uh mix add",
    "start": "3345480",
    "end": "3353119"
  },
  {
    "text": "and multiply it's not going to work because 1 + 2 * 3 is not the same as 1 *",
    "start": "3353119",
    "end": "3360839"
  },
  {
    "text": "3 + 2 again you add one you multiply it by",
    "start": "3360839",
    "end": "3367920"
  },
  {
    "text": "two you get two you add three you get five or you add one you get one you add three you get four and then you multiply",
    "start": "3367920",
    "end": "3374559"
  },
  {
    "text": "four by two you get eight they're not the same so this wouldn't be a a crdt",
    "start": "3374559",
    "end": "3379599"
  },
  {
    "text": "strategy for an integer and and more realistically if you have a set if the set is insert only",
    "start": "3379599",
    "end": "3387720"
  },
  {
    "text": "it's going to be uh a crdt because anytime you insert a value",
    "start": "3387720",
    "end": "3394880"
  },
  {
    "text": "uh is simply added to the set and well actually come to think of it you also",
    "start": "3394880",
    "end": "3402119"
  },
  {
    "text": "have to also in always use different Keys here wouldn't you um so you you",
    "start": "3402119",
    "end": "3408200"
  },
  {
    "text": "still need a conflict resolution if you're inserting the same value twice because then it order matters so h",
    "start": "3408200",
    "end": "3415760"
  },
  {
    "text": "yeah let's just skip this um the last one is that if you do removal uh it's",
    "start": "3415760",
    "end": "3422039"
  },
  {
    "text": "definitely not zdt because then if you try to remove something that's not there uh it's not going to be removed and then",
    "start": "3422039",
    "end": "3428720"
  },
  {
    "text": "if you add it later on you're going to add it uh so if you know one and two and",
    "start": "3428720",
    "end": "3435160"
  },
  {
    "text": "you try to remove two you get one if you know one and three and remove two you still have one and three and then later on if you add two you're going to",
    "start": "3435160",
    "end": "3443520"
  },
  {
    "text": "um or you're you're going to have different ordering here",
    "start": "3443520",
    "end": "3448960"
  },
  {
    "text": "so I guess the the point here is that it can be difficult to uh to delete stuff",
    "start": "3448960",
    "end": "3456359"
  },
  {
    "text": "in a crdt world and again intuition from git is is kind of useful in the sense",
    "start": "3456359",
    "end": "3463119"
  },
  {
    "text": "that if you have a branch in git uh it's very hard to make sure that it's gone from everywhere if you really want to",
    "start": "3463119",
    "end": "3469480"
  },
  {
    "text": "delete some data from from a git repository it's going to take ages because all the this distributed",
    "start": "3469480",
    "end": "3475240"
  },
  {
    "text": "repositories have to be changed um and if you manage to remove all the references eventually it will be garbage",
    "start": "3475240",
    "end": "3481480"
  },
  {
    "text": "collected but who knows it might come back later",
    "start": "3481480",
    "end": "3486880"
  },
  {
    "text": "on and that's we're very close to the end here um so there are a couple of",
    "start": "3486880",
    "end": "3492880"
  },
  {
    "text": "challenges too uh except uh in addition to deleting stuff um and that's",
    "start": "3492880",
    "end": "3499119"
  },
  {
    "text": "basically related to how do you know what to transmit when do you transmit um and I found a sort of a reasonable",
    "start": "3499119",
    "end": "3507520"
  },
  {
    "text": "trade-off between too much retransmissions and and having availability that actually worked but it",
    "start": "3507520",
    "end": "3513079"
  },
  {
    "text": "it was it's possible to actually break the the stuff that I made or and demoed",
    "start": "3513079",
    "end": "3518119"
  },
  {
    "text": "here it's not bulletproof and it balls down to probably you'll need some kind of watch dog to to be able or some",
    "start": "3518119",
    "end": "3524680"
  },
  {
    "text": "mechanism to detect that two two documents are in fact in a different state and you need to do sync because",
    "start": "3524680",
    "end": "3531760"
  },
  {
    "text": "when you know you need to do sync it's easy to do but but you have to know that that you need to do it um and auto merge",
    "start": "3531760",
    "end": "3537760"
  },
  {
    "text": "also then comes with a neat built-in function to to actually resolve the changes so so you don't have to know what's the difference you could just use",
    "start": "3537760",
    "end": "3544160"
  },
  {
    "text": "automerge and and ask it to reconcile these two and it it'll do a network handshake so you need basically TB",
    "start": "3544160",
    "end": "3550960"
  },
  {
    "text": "connection or an RPC connection um to be able to to synchronize two documents but",
    "start": "3550960",
    "end": "3557720"
  },
  {
    "text": "but you need to figure out how or that they are different I mean so",
    "start": "3557720",
    "end": "3563799"
  },
  {
    "text": "to conclude uh replication and syncing is is really cool uh if if you want to",
    "start": "3563799",
    "end": "3570599"
  },
  {
    "text": "if you if you put availability very high on your to need list um and you have to",
    "start": "3570599",
    "end": "3577359"
  },
  {
    "text": "accept that the system is Avail eventually consistent but it's not consistent right now so you have to sort",
    "start": "3577359",
    "end": "3583160"
  },
  {
    "text": "of embrace that mindset that that there is no one truth that everybody agrees",
    "start": "3583160",
    "end": "3588720"
  },
  {
    "text": "and so on but when everybody has the same information they will agree but",
    "start": "3588720",
    "end": "3594200"
  },
  {
    "text": "they they not right now um and there are readymade libraries uh I've talked a lot",
    "start": "3594200",
    "end": "3599960"
  },
  {
    "text": "about automerge now um there's also this yjs thing uh that's uh primarily",
    "start": "3599960",
    "end": "3608240"
  },
  {
    "text": "JavaScript I think um but it but it also seems to be high quality and and popular",
    "start": "3608240",
    "end": "3613599"
  },
  {
    "text": "in the domain um and otherwise you you have for DDS you have open source",
    "start": "3613599",
    "end": "3618640"
  },
  {
    "text": "alternative like Cyclone DDS and open DDS both are pretty good and if you're",
    "start": "3618640",
    "end": "3623880"
  },
  {
    "text": "interested in uh this locals first software thing there's a link for that too so that thank",
    "start": "3623880",
    "end": "3633279"
  },
  {
    "text": "you",
    "start": "3645480",
    "end": "3648480"
  },
  {
    "text": "yes",
    "start": "3653520",
    "end": "3656520"
  },
  {
    "text": "Yeah",
    "start": "3667680",
    "end": "3670680"
  },
  {
    "text": "by yeah uh DDS has uh um the same ideal by",
    "start": "3674880",
    "end": "3684640"
  },
  {
    "text": "way it's the same cor by IDL that's used by DDS so it's the exact same thing um",
    "start": "3684640",
    "end": "3689839"
  },
  {
    "text": "but it has two different mappings to C++ uh the Legacy one that's used by corba",
    "start": "3689839",
    "end": "3695160"
  },
  {
    "text": "that mandates the same thing uh but but there's a new C++ mapping that will uh",
    "start": "3695160",
    "end": "3701079"
  },
  {
    "text": "give you STD string STD vector and and all that stuff instead um so so there's",
    "start": "3701079",
    "end": "3706799"
  },
  {
    "text": "a new standard for it and and that's what um that's what I used um somewhere",
    "start": "3706799",
    "end": "3713039"
  },
  {
    "text": "over here um so so in my message. h",
    "start": "3713039",
    "end": "3719720"
  },
  {
    "text": "no chat. h no what's it",
    "start": "3719720",
    "end": "3725079"
  },
  {
    "text": "called yeah never mind uh point is it's a string it's it's the generator will create a string for us but but we were",
    "start": "3725079",
    "end": "3732240"
  },
  {
    "text": "also we have many in-house projects that are struggle with this old Coro data",
    "start": "3732240",
    "end": "3738839"
  },
  {
    "text": "types and and want to move on I think yeah",
    "start": "3738839",
    "end": "3745839"
  },
  {
    "text": "okay thank you again",
    "start": "3745839",
    "end": "3751440"
  }
]