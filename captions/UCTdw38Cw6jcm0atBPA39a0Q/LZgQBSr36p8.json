[
  {
    "start": "0",
    "end": "53000"
  },
  {
    "text": "one or two late comers right so my name is Andy Davis I'm an English guy living",
    "start": "6960",
    "end": "13809"
  },
  {
    "text": "in Finland which is interesting I work",
    "start": "13809",
    "end": "19420"
  },
  {
    "text": "for a financial tech company we are a debt collector but but we're really nice honest we actually try and help you buy",
    "start": "19420",
    "end": "28090"
  },
  {
    "text": "stuff but we'll only let you borrow money from us if we think you're actually going to be able to pay it back so we try to be responsible and this is",
    "start": "28090",
    "end": "36670"
  },
  {
    "text": "talk about feature toggles and some of how we've used them and stories of how",
    "start": "36670",
    "end": "42760"
  },
  {
    "text": "other companies have used them and how things have gone really well and in some cases gone really really terribly for",
    "start": "42760",
    "end": "48610"
  },
  {
    "text": "companies and as everyone loves a horror story we're gonna start with that so who's heard of a company called night",
    "start": "48610",
    "end": "54850"
  },
  {
    "start": "53000",
    "end": "147000"
  },
  {
    "text": "capital I'm guessing from the giggles of fear of you and does anyone want to shout out",
    "start": "54850",
    "end": "60100"
  },
  {
    "text": "why they've heard of night capital exactly power peg we'll get to what that",
    "start": "60100",
    "end": "66580"
  },
  {
    "text": "is exactly in a minute I'm always looking forward to the day when I do this talk and someone who works there is",
    "start": "66580",
    "end": "72130"
  },
  {
    "text": "in the audience because either I'll have to avoid them or buy them a beer I don't know which so a lot has been written",
    "start": "72130",
    "end": "79510"
  },
  {
    "text": "about this company because they had a series of little mistakes which if",
    "start": "79510",
    "end": "84850"
  },
  {
    "text": "they'd solved any one of them they could have probably avoided their little catastrophe so for those who don't know",
    "start": "84850",
    "end": "92290"
  },
  {
    "text": "who know Capital are they were a financial services company they were",
    "start": "92290",
    "end": "97360"
  },
  {
    "text": "doing high-frequency market trading and market making which is I assume what",
    "start": "97360",
    "end": "102729"
  },
  {
    "text": "caused the credit crisis so I'm not that bothered that they are not existing",
    "start": "102729",
    "end": "108460"
  },
  {
    "text": "company anymore now before this story starts they had about a hundred and three hundred and",
    "start": "108460",
    "end": "114640"
  },
  {
    "text": "sixty five million dollars worth of assets available to them so you need to keep that number in mind so this is",
    "start": "114640",
    "end": "122049"
  },
  {
    "text": "their share price graph when this incident happened and you notice there's quite a drop on one side this is also a",
    "start": "122049",
    "end": "129369"
  },
  {
    "text": "logarithmic scale so it's a really big drop and while that's happening on a date line between August 1st and August",
    "start": "129369",
    "end": "135760"
  },
  {
    "text": "2nd it didn't take a day for this to happen was a 45-minute window so how do they",
    "start": "135760",
    "end": "143430"
  },
  {
    "text": "manage to lose this much share price in 45 minutes well it comes down to two",
    "start": "143430",
    "end": "148739"
  },
  {
    "start": "147000",
    "end": "312000"
  },
  {
    "text": "features they had a feature called power peg and a feature called smart now power",
    "start": "148739",
    "end": "154380"
  },
  {
    "text": "peg was an existing feature that had been unused and was behind a feature",
    "start": "154380",
    "end": "160110"
  },
  {
    "text": "flag in their code base for around eight years quite why you have code that's not",
    "start": "160110",
    "end": "165209"
  },
  {
    "text": "used for eight years is beyond me but either way that's that's how old it was",
    "start": "165209",
    "end": "170989"
  },
  {
    "text": "now what this code would do is that when a large order came in it would take the",
    "start": "170989",
    "end": "176400"
  },
  {
    "text": "order and split it into many subsequent orders and just keep sending out orders and counting them until the right number",
    "start": "176400",
    "end": "182040"
  },
  {
    "text": "had been fulfilled the problem is the part of the pipeline that did the counting of orders had been moved much",
    "start": "182040",
    "end": "188549"
  },
  {
    "text": "earlier on into the pipeline so this code could no longer work even if it was activated but they not use in a year so",
    "start": "188549",
    "end": "196170"
  },
  {
    "text": "didn't matter so they wrote a new feature called Smart Switch did a similar functionality split big orders",
    "start": "196170",
    "end": "202680"
  },
  {
    "text": "into small orders but not in the same manner and as power peg was being",
    "start": "202680",
    "end": "207690"
  },
  {
    "text": "replaced with Mars they reused the fetch struggle so if we look at this code",
    "start": "207690",
    "end": "213870"
  },
  {
    "text": "example we have a feature flag at the top which is if feature enabled which is a really bad name by the way we will",
    "start": "213870",
    "end": "221459"
  },
  {
    "text": "submit a new order like one order for every item in this main order until",
    "start": "221459",
    "end": "227010"
  },
  {
    "text": "we've hit the total number of orders submitted is that yeah until we've submitted the total number required if",
    "start": "227010",
    "end": "234239"
  },
  {
    "text": "the feature flag is not enabled we're going to call the submit new order function and just say get me everything",
    "start": "234239",
    "end": "239280"
  },
  {
    "text": "in the order now I should point out this is me guessing how their code was formed to work out based on all of the stories",
    "start": "239280",
    "end": "246150"
  },
  {
    "text": "of what's happened because I was think they haven't released it they should have open sourced everything afterwards and we could have all had",
    "start": "246150",
    "end": "253290"
  },
  {
    "text": "enough now what happened at some point is they've done some kind of",
    "start": "253290",
    "end": "260130"
  },
  {
    "text": "optimization that's moved where the counting happens now if you look in the old version whenever we submit new order",
    "start": "260130",
    "end": "265380"
  },
  {
    "text": "we increment the current count of how many orders have been submitted new version that doesn't",
    "start": "265380",
    "end": "271490"
  },
  {
    "text": "happen in that function anymore happens at the end of the call we just say the current number of orders is some count",
    "start": "271490",
    "end": "277550"
  },
  {
    "text": "the way fetch from somewhere else then they replaced it with this power pay o",
    "start": "277550",
    "end": "284599"
  },
  {
    "text": "with this smart feature and this submit",
    "start": "284599",
    "end": "289849"
  },
  {
    "text": "the order is still doing the order submission magic but the current count is still being added at the end now if",
    "start": "289849",
    "end": "296960"
  },
  {
    "text": "you switch on this feature flag we're going to call this split into smaller orders function and everything's gonna",
    "start": "296960",
    "end": "302270"
  },
  {
    "text": "work fine that's the new smart feature but if you were to switch on the older power peg feature everything's gonna go",
    "start": "302270",
    "end": "309020"
  },
  {
    "text": "hilariously wrong now because they were testing things they deployed it to QA",
    "start": "309020",
    "end": "315500"
  },
  {
    "start": "312000",
    "end": "432000"
  },
  {
    "text": "they're using few struggles so they deployed to QA they test that their new feature works and it does father's they",
    "start": "315500",
    "end": "321830"
  },
  {
    "text": "wouldn't wouldn't have deployed if he didn't work so as they using feature toggles they do a dark deployment to",
    "start": "321830",
    "end": "326990"
  },
  {
    "text": "production which is symbolized by the yellow things now you might notice that one of these squares is blue still and",
    "start": "326990",
    "end": "332780"
  },
  {
    "text": "that's because their deployment pipeline deployed to eight servers but didn't report any failed deployments to them so",
    "start": "332780",
    "end": "339530"
  },
  {
    "text": "they actually only deployed to seven servers not eight so what do you think happens when you switch on a feature",
    "start": "339530",
    "end": "345110"
  },
  {
    "text": "flag that's being used for two features in different versions of software seven",
    "start": "345110",
    "end": "350389"
  },
  {
    "text": "of them are doing the new splitting in two orders thing which is fine the eighth server however is now trying to",
    "start": "350389",
    "end": "357050"
  },
  {
    "text": "fulfill orders without being able to count how many orders it's submitted as fast as it possibly can which is bad so",
    "start": "357050",
    "end": "365719"
  },
  {
    "text": "they did the logical thing if you're not using feature toggles when when a release goes bad what do you do you roll",
    "start": "365719",
    "end": "370940"
  },
  {
    "text": "back and now you've got eight servers going really fast doing the wrong thing",
    "start": "370940",
    "end": "376360"
  },
  {
    "text": "which is worse and then a few minutes later I think it was ten in the report",
    "start": "376360",
    "end": "381740"
  },
  {
    "text": "they switched off and switched off the feature flag and now all their servers go back to not doing anything bad now",
    "start": "381740",
    "end": "388099"
  },
  {
    "text": "unfortunately in that 45 minute window they lost four hundred and fifty million",
    "start": "388099",
    "end": "393169"
  },
  {
    "text": "dollars and they only had three hundred and sixty-five to start with so they",
    "start": "393169",
    "end": "398449"
  },
  {
    "text": "don't exist as a company anymore so yeah I guess the first rule from this comes out is never reuse a feature",
    "start": "398449",
    "end": "405790"
  },
  {
    "text": "because if they hadn't reused a fugitive wall what would have happened if they'd",
    "start": "405790",
    "end": "411500"
  },
  {
    "text": "sweet have they had a new feature called like enable power peg rather than just enable thing when they switched up seven",
    "start": "411500",
    "end": "418520"
  },
  {
    "text": "servers would have started doing the new operation one server would have just not done anything because it's Flags not",
    "start": "418520",
    "end": "424100"
  },
  {
    "text": "being changed but they didn't they reused the flag and all hell broke loose",
    "start": "424100",
    "end": "431050"
  },
  {
    "text": "the second part of it is dead code I mean power peg hadn't been used for",
    "start": "431050",
    "end": "437390"
  },
  {
    "text": "eight years why is it still in your code base I mean I hope they had source control I don't have anything to say",
    "start": "437390",
    "end": "442550"
  },
  {
    "text": "they did or didn't for sure but if they had source code or just delete it you can always get it back from history if",
    "start": "442550",
    "end": "448250"
  },
  {
    "text": "you need it so this also follows on into the next one which is keep your toggle",
    "start": "448250",
    "end": "455330"
  },
  {
    "text": "lifespans short because a long lifespan toggle you're more likely to hit into",
    "start": "455330",
    "end": "461300"
  },
  {
    "text": "things where this toggle has been off for a long time and it still compiles",
    "start": "461300",
    "end": "467680"
  },
  {
    "text": "but when you switch it on it doesn't work the same anymore because the surrounding code has changed in a way",
    "start": "467680",
    "end": "472970"
  },
  {
    "text": "that assumptions that were written or assumptions had when that toggle is written and no longer valid so the",
    "start": "472970",
    "end": "482210"
  },
  {
    "text": "longer your toggle lives for the more likely you are to have this kind of problem so keep the toggle lifetime",
    "start": "482210",
    "end": "487340"
  },
  {
    "text": "short I mean ideally we're talking days maybe weeks but not years",
    "start": "487340",
    "end": "495730"
  },
  {
    "text": "okay the good that's displaying weirdly on my screen um the next point is naming",
    "start": "496740",
    "end": "502800"
  },
  {
    "text": "a feature Douglas now in my piece of example code it was just called enable feature which is to get the point across",
    "start": "502800",
    "end": "508440"
  },
  {
    "text": "that was a terrible name if you look at these four names for feature toggles the",
    "start": "508440",
    "end": "514080"
  },
  {
    "text": "first two pretty descriptive the next one okay it's a juror ticket number so",
    "start": "514080",
    "end": "521550"
  },
  {
    "text": "it is probably easy but you should probably include some textual description in that as well and the",
    "start": "521550",
    "end": "528360"
  },
  {
    "text": "final one of just enable new feature is is terrible you're not going to see what that's for so if someone has repurposed",
    "start": "528360",
    "end": "533820"
  },
  {
    "text": "your toggle and then you're in a UI right I'm gonna switch on the new feature what is a new feature you don't",
    "start": "533820",
    "end": "541650"
  },
  {
    "text": "know you're gonna switch it on probably it'll work but maybe not skip rule 3",
    "start": "541650",
    "end": "547050"
  },
  {
    "text": "name your toggle as well so now that we've covered a company that did",
    "start": "547050",
    "end": "553110"
  },
  {
    "text": "something really terrible with toggles let's talk about different types of toggles now toggles can be used for",
    "start": "553110",
    "end": "563130"
  },
  {
    "text": "multiple different purposes which we'll go through in a minute but basically they're further on the right-hand side",
    "start": "563130",
    "end": "569280"
  },
  {
    "text": "of this you are the more flexible your toggle is down to the left-hand side",
    "start": "569280",
    "end": "574290"
  },
  {
    "text": "when it's not very flexible at all so a compile-time toggle is generally something you'll only going to use for",
    "start": "574290",
    "end": "580440"
  },
  {
    "text": "debug flags so for instance we have a sequel profiler and that will only be",
    "start": "580440",
    "end": "587700"
  },
  {
    "text": "compiled into the application if you have the particular flag switched on for it because we don't want that in our production application and the only few",
    "start": "587700",
    "end": "595650"
  },
  {
    "text": "times we need it it's fine to just recompile with a with the flag switched on startup toggles tend to be the ones",
    "start": "595650",
    "end": "604740"
  },
  {
    "text": "that you use the most micro-services because you only need to read your toggles once and startup and then if",
    "start": "604740",
    "end": "610380"
  },
  {
    "text": "your toggle values change you can just restart the service hopefully you've got multiple copies of the service running",
    "start": "610380",
    "end": "615720"
  },
  {
    "text": "so you can do a phase deployment and not have any downtime periodic tacos happen",
    "start": "615720",
    "end": "622950"
  },
  {
    "text": "in the background so you can query it regularly and whenever your happens you can look at the toggle and",
    "start": "622950",
    "end": "629060"
  },
  {
    "text": "you'll have a fairly current state on things and finally you've got an activity toggle which is say every time",
    "start": "629060",
    "end": "635149"
  },
  {
    "text": "a page is rendered or a user clicks a button you'll be checking the state of the toggle to see if it's on or not when",
    "start": "635149",
    "end": "642350"
  },
  {
    "text": "you're actually using an activity toggle you're probably actually using a periodic one because you don't want to",
    "start": "642350",
    "end": "648290"
  },
  {
    "text": "incur the latency of well you're probably going to be using launched darkly you don't want to incur the",
    "start": "648290",
    "end": "653509"
  },
  {
    "text": "latency of having to query their server every call firm every time you render a page because that's gonna slow your page",
    "start": "653509",
    "end": "660139"
  },
  {
    "text": "rendering down but now that we've looked at some feature table types I'm gonna",
    "start": "660139",
    "end": "665180"
  },
  {
    "text": "look at a company that's changed what type of toggle they were using for great",
    "start": "665180",
    "end": "670250"
  },
  {
    "text": "benefit so who's heard of HP everyone that's right",
    "start": "670250",
    "end": "675860"
  },
  {
    "start": "671000",
    "end": "738000"
  },
  {
    "text": "in this case we're going to be looking at their printer firmware division now their firmware division was made up from",
    "start": "675860",
    "end": "682339"
  },
  {
    "text": "about 400 to 800 software developers spread around the world they had over 10",
    "start": "682339",
    "end": "687680"
  },
  {
    "text": "million lines of code and they managed around 2 releases per year and engineers",
    "start": "687680",
    "end": "693500"
  },
  {
    "text": "on average spent about 5 percent of their time writing new features and 95%",
    "start": "693500",
    "end": "698810"
  },
  {
    "text": "not the breakdown of that was things like timesheets merging trying to fix",
    "start": "698810",
    "end": "704990"
  },
  {
    "text": "things that they've broken earlier and the reason it was fixing things are breaking earlier was because when you",
    "start": "704990",
    "end": "711170"
  },
  {
    "text": "had your change ready and you pushed it to the master branch to get things merged and built the feedback cycle on",
    "start": "711170",
    "end": "717019"
  },
  {
    "text": "that was 8 weeks I don't know about you but if if someone checks in something",
    "start": "717019",
    "end": "722839"
  },
  {
    "text": "broken and it takes eight weeks for feedback to come back and say hey you broke the build eight weeks ago I don't",
    "start": "722839",
    "end": "729949"
  },
  {
    "text": "remember that and the likelihood is someone else has taken a branch off it by that point anyway so now you've",
    "start": "729949",
    "end": "735889"
  },
  {
    "text": "broken multiple builds the other problem they had was an insane branching strategy so roughly speaking they had a",
    "start": "735889",
    "end": "743360"
  },
  {
    "start": "738000",
    "end": "922000"
  },
  {
    "text": "branching strategy per printer series which usually aligned with quarters of",
    "start": "743360",
    "end": "749509"
  },
  {
    "text": "the year and what they would do is they'd create a new branch for their new",
    "start": "749509",
    "end": "754639"
  },
  {
    "text": "printer series and then they'd change all of the if def which were scattered throughout the codebase this is compile-time toggles",
    "start": "754639",
    "end": "760680"
  },
  {
    "text": "for each printers to say what functionality it had and whether they should abled things like scanning or double siding and that kind of thing",
    "start": "760680",
    "end": "767360"
  },
  {
    "text": "they also made bug fixes which are are red diamonds in here now of course bug",
    "start": "767360",
    "end": "772470"
  },
  {
    "text": "fixes need to be on each branch because they might affect other printers one",
    "start": "772470",
    "end": "777839"
  },
  {
    "text": "thing I should point out as well as each one of these branches had a separate build pipeline so you still had the",
    "start": "777839",
    "end": "783990"
  },
  {
    "text": "eight weeks on each branch so when you take a bug fix and report it and hopefully you only put the bug fix and",
    "start": "783990",
    "end": "790620"
  },
  {
    "text": "not all of the FDF changes because otherwise you're gonna break another printer you end up with merging they",
    "start": "790620",
    "end": "795839"
  },
  {
    "text": "look something like that and now you can see why they spend ninety five percent of their time not writing features so",
    "start": "795839",
    "end": "803640"
  },
  {
    "text": "what they decided to do is react attack their entire system to make it one piece",
    "start": "803640",
    "end": "810120"
  },
  {
    "text": "of firmware that would run on all printers and rather than have a separate build with different if thefts",
    "start": "810120",
    "end": "815820"
  },
  {
    "text": "everywhere they would have a configuration file and that configuration file and start up the firmware would first read from the",
    "start": "815820",
    "end": "822029"
  },
  {
    "text": "printer what model it was find the appropriate configuration file and read all the config flags out of that which",
    "start": "822029",
    "end": "828899"
  },
  {
    "text": "gave them this branching strategy so bug fixes are happening and have been",
    "start": "828899",
    "end": "834420"
  },
  {
    "text": "committed fairly quickly and new features can be added in slightly longer",
    "start": "834420",
    "end": "839520"
  },
  {
    "text": "lip branches which would also include updating the config files to say you know I've added a double siding module",
    "start": "839520",
    "end": "844920"
  },
  {
    "text": "and we know that this print of this printer of this printer supports it so I've set set that config up also new",
    "start": "844920",
    "end": "850770"
  },
  {
    "text": "printers can just be added and merged in us here as they go so they've switched from compile-time toggles to startup",
    "start": "850770",
    "end": "857760"
  },
  {
    "text": "toggles with this they also switched to trunk base developments which is great and you should all be doing it and by",
    "start": "857760",
    "end": "866010"
  },
  {
    "text": "doing this their cycle time went from eight weeks down to two days I mean they",
    "start": "866010",
    "end": "872010"
  },
  {
    "text": "made some other improvements too like they have multi-phase builds so things go through like a a unit testing phase",
    "start": "872010",
    "end": "877829"
  },
  {
    "text": "then that goes to integration testing and then emulator testing and then",
    "start": "877829",
    "end": "885680"
  },
  {
    "text": "something else that I forget the name of simulate it yeah simulators then emulators one of",
    "start": "885680",
    "end": "892130"
  },
  {
    "text": "them is a fake printer that's real and one of them said fake printer that's virtual my karma which around is so you",
    "start": "892130",
    "end": "898460"
  },
  {
    "text": "test on a virtual printer and then once your virtual printer tests passed then you give it to a real printer that doesn't actually spray ink everywhere",
    "start": "898460",
    "end": "904880"
  },
  {
    "text": "it's just the controller board so the tests got slower the prefer the throat one which meant that when your builds or",
    "start": "904880",
    "end": "911570"
  },
  {
    "text": "your change broke hopefully I'd be caught in one of the earlier gates you wouldn't be waiting the full three days",
    "start": "911570",
    "end": "916790"
  },
  {
    "text": "anyway so the outcome of this is really",
    "start": "916790",
    "end": "922130"
  },
  {
    "start": "922000",
    "end": "976000"
  },
  {
    "text": "that your architecture matters are you can do feature toggles by scattering if",
    "start": "922130",
    "end": "927680"
  },
  {
    "text": "statements throughout your codebase everywhere but please don't it's one of",
    "start": "927680",
    "end": "933380"
  },
  {
    "text": "the the biggest push backs against feature toggles that I hear is that",
    "start": "933380",
    "end": "939020"
  },
  {
    "text": "people don't want if statements everywhere they don't want this scattered throughout their code base",
    "start": "939020",
    "end": "944630"
  },
  {
    "text": "which is great because it shouldn't be there are many other ways of dealing with feature toggles service each toggle",
    "start": "944630",
    "end": "950630"
  },
  {
    "text": "should only be queried maybe once or twice in your entire code base the way",
    "start": "950630",
    "end": "956510"
  },
  {
    "text": "you going HP call this they architect their system in a way that this worked",
    "start": "956510",
    "end": "961730"
  },
  {
    "text": "night capital I don't know they haven't said how they use their future talks but",
    "start": "961730",
    "end": "967670"
  },
  {
    "text": "I'm imagining not well so I'm gonna pretend that night capital have them spread everywhere in their codebase or",
    "start": "967670",
    "end": "973250"
  },
  {
    "text": "did beforehand so the way you get around this is branch and by extraction now if",
    "start": "973250",
    "end": "979910"
  },
  {
    "text": "you're doing trunk based delivery you're probably going to have to be doing this anyway but essentially rather than having a branch for a feature you branch",
    "start": "979910",
    "end": "988820"
  },
  {
    "text": "by inserting an interface or something to provide a different implementation of",
    "start": "988820",
    "end": "995420"
  },
  {
    "text": "some part of your system based on whether the toggle is on or off so this",
    "start": "995420",
    "end": "1000910"
  },
  {
    "text": "example we'll use a few times throughout this presentation and it is based on a real-world system that I had to modify",
    "start": "1000910",
    "end": "1007920"
  },
  {
    "text": "so we have an email connector interface which has a single dispatch method and",
    "start": "1007920",
    "end": "1013270"
  },
  {
    "text": "given an email message will probably dispatch it somewhere we have two implementations for it the",
    "start": "1013270",
    "end": "1020629"
  },
  {
    "text": "first one is a web service connector which we'll get to later because it's terrible and a rabbitmq connector which",
    "start": "1020629",
    "end": "1026569"
  },
  {
    "text": "is better now when it comes to rolling this out we don't want to give this to",
    "start": "1026569",
    "end": "1031788"
  },
  {
    "text": "everyone straight away and we don't certainly don't want the whole codebase to have to check which implementation it should be using so this is using",
    "start": "1031789",
    "end": "1038899"
  },
  {
    "text": "structure map or technically Lamar I guess I can't really tell but in our",
    "start": "1038899",
    "end": "1045589"
  },
  {
    "text": "startup offer application we're configuring our container to say if this toggle is enabled you trap mq otherwise",
    "start": "1045589",
    "end": "1051500"
  },
  {
    "text": "use the web service connector now the rest of the code bases that requires the use of an email connector can just ask",
    "start": "1051500",
    "end": "1058340"
  },
  {
    "text": "for an I email connector and it'll get the relevant implementation should be noted that when we did this the existing",
    "start": "1058340",
    "end": "1066409"
  },
  {
    "text": "calls to the web service based email connected were scattered everywhere through a very large monolith code base",
    "start": "1066409",
    "end": "1072799"
  },
  {
    "text": "so our first set of releases was actually refactoring things down until there was just one class that dealt with",
    "start": "1072799",
    "end": "1079130"
  },
  {
    "text": "talking to it so you can't necessarily just deploy once with this so we did a deployment",
    "start": "1079130",
    "end": "1084860"
  },
  {
    "text": "that refactor things then a deployment that added the interfaces and then deployments that had various",
    "start": "1084860",
    "end": "1089889"
  },
  {
    "text": "implementations of the features are all in different implementations this was",
    "start": "1089889",
    "end": "1096049"
  },
  {
    "text": "great for startup toggles because we only need to query and configure it once however if you want your toggle to be",
    "start": "1096049",
    "end": "1102769"
  },
  {
    "text": "queried more often and generally the more risky a toggle is the more often",
    "start": "1102769",
    "end": "1107870"
  },
  {
    "text": "you want to query it because if it's a big risk and something breaks you want to switch it off fairly quickly so in",
    "start": "1107870",
    "end": "1113870"
  },
  {
    "text": "the case of that you can just use something like the factory or the decorator pattern so we have a generic",
    "start": "1113870",
    "end": "1119120"
  },
  {
    "text": "form of this in the codebase you give it two implementations and that way when",
    "start": "1119120",
    "end": "1124460"
  },
  {
    "text": "you call this batch and this is a specific version but a generic version of this takes in two implementations of",
    "start": "1124460",
    "end": "1130190"
  },
  {
    "text": "anything and will let you pick which one at call time of dispatch and then if",
    "start": "1130190",
    "end": "1137299"
  },
  {
    "text": "your toggle library is fetching the states in the background",
    "start": "1137299",
    "end": "1142059"
  },
  {
    "text": "but this doesn't just have to be back in code we can use feature toggles in front-end so this is a little example",
    "start": "1145130",
    "end": "1152909"
  },
  {
    "text": "which is vaguely written in react so we have an actions panel on our web shop",
    "start": "1152909",
    "end": "1159029"
  },
  {
    "text": "front-end and we've got three buttons in it one click Buy Add to Cart and Add to",
    "start": "1159029",
    "end": "1164250"
  },
  {
    "text": "wish list now one of these as a feature dog will controlling whether to relax you show up and you can't tell which one",
    "start": "1164250",
    "end": "1170520"
  },
  {
    "text": "it is on this code it's probably the one click because you probably don't have a patron grant from Amazon and they won't",
    "start": "1170520",
    "end": "1176159"
  },
  {
    "text": "like you having one click buy now so the one click is actually implemented like",
    "start": "1176159",
    "end": "1181590"
  },
  {
    "text": "this this is a made-up feature doggin library by the way don't try and find it a problem it probably exists by the time",
    "start": "1181590",
    "end": "1188340"
  },
  {
    "text": "I finished making one of you is writing here now I can see so the idea is you",
    "start": "1188340",
    "end": "1196710"
  },
  {
    "text": "write your your single button and then you wrap it in a function that checks the toggle for you and then export that",
    "start": "1196710",
    "end": "1202620"
  },
  {
    "text": "and nothing else in the codebase needs to worry about where that toggle is queried so this can work in you eyes as",
    "start": "1202620",
    "end": "1208740"
  },
  {
    "text": "well again it all comes down to careful design and architecting your system well you can just use if statements if you",
    "start": "1208740",
    "end": "1216899"
  },
  {
    "text": "have to but I'd really rather you didn't",
    "start": "1216899",
    "end": "1220640"
  },
  {
    "text": "although as I've mentioned a few times toggles can be used for different things",
    "start": "1222390",
    "end": "1228050"
  },
  {
    "start": "1228000",
    "end": "1391000"
  },
  {
    "text": "so this little graph covers where toggles can be used and how flexible",
    "start": "1228050",
    "end": "1233370"
  },
  {
    "text": "they're so we've already covered the the bottom axis and up the side we've got",
    "start": "1233370",
    "end": "1238680"
  },
  {
    "text": "our four different types of toggle usage the first one is a release toggle this one is generally when you're deploying a",
    "start": "1238680",
    "end": "1245880"
  },
  {
    "text": "new feature and you want to give it to either a group of people or maybe everyone at once so if you've got a new",
    "start": "1245880",
    "end": "1253050"
  },
  {
    "text": "implementation of something and you just want to switch it on for everyone on a certain day the experiment toggle is",
    "start": "1253050",
    "end": "1260910"
  },
  {
    "text": "pretty similar to the recent toggle but is generally more used for a be testing so maybe you want to check if a green by",
    "start": "1260910",
    "end": "1269250"
  },
  {
    "text": "a now button makes more people click it than a red by a now button it does the",
    "start": "1269250",
    "end": "1275070"
  },
  {
    "text": "same thing that you know probably need more monitoring in place so you can keep an eye on whether your your experiment",
    "start": "1275070",
    "end": "1280740"
  },
  {
    "text": "is actually proving something one way or the other again this should be a fairly short really short lived thing because",
    "start": "1280740",
    "end": "1286170"
  },
  {
    "text": "it's a small feature test ops toggles we use for performance so if we've got a",
    "start": "1286170",
    "end": "1294030"
  },
  {
    "text": "heavyweight service that causes a lot of load and we want to switch it off sometimes if our sequel servers dying",
    "start": "1294030",
    "end": "1299760"
  },
  {
    "text": "for other reasons then you'd use an ops toggle to switch off the feature these tend to be the longest-lived toggles",
    "start": "1299760",
    "end": "1306150"
  },
  {
    "text": "because I don't know if you can technically call them feature toggles",
    "start": "1306150",
    "end": "1311430"
  },
  {
    "text": "because you are switching on and off a feature but they do tend to be longer lived than the others finally you've got",
    "start": "1311430",
    "end": "1318450"
  },
  {
    "text": "permissions and the only thing sound this is don't you can do permissioning",
    "start": "1318450",
    "end": "1324360"
  },
  {
    "text": "with feature toggles but don't you're kind of mixing meanings of things you",
    "start": "1324360",
    "end": "1330540"
  },
  {
    "text": "really should be using an authorization service for this something like identity server or key cloak would work great for",
    "start": "1330540",
    "end": "1337440"
  },
  {
    "text": "this the only time I'd allow you to put a permission toggle in is if you didn't have one of those to service and you",
    "start": "1337440",
    "end": "1343890"
  },
  {
    "text": "needed something helped now and you already had feature dog was available but I'd say you're incurring a fairly",
    "start": "1343890",
    "end": "1349530"
  },
  {
    "text": "high level of technical debt for that especially if his permission-based you're implying that it's to live for a fairly long time because",
    "start": "1349530",
    "end": "1356790"
  },
  {
    "text": "you're not gonna suddenly give her I don't know has the permission to delete all the users that you're not gonna suddenly",
    "start": "1356790",
    "end": "1364140"
  },
  {
    "text": "remove the flag round there yeah everyone can delete users they'll be fine so yeah don't don't do permissions",
    "start": "1364140",
    "end": "1371990"
  },
  {
    "text": "so operations toggles tend to sit on the right-hand side of this a compile-time",
    "start": "1371990",
    "end": "1377280"
  },
  {
    "text": "toggle would not be much use for something you want to switch on and off for performance reasons because you'd have to rebuild the application then",
    "start": "1377280",
    "end": "1383040"
  },
  {
    "text": "deploy a new version of it and by that point maybe your performance problems gone away anyway as an example of this",
    "start": "1383040",
    "end": "1391760"
  },
  {
    "start": "1391000",
    "end": "1565000"
  },
  {
    "text": "we had in a previous company a background process that really caused",
    "start": "1391760",
    "end": "1396900"
  },
  {
    "text": "quite a lot of load on the database not enough to cause issues but if there were other things happening then this was an",
    "start": "1396900",
    "end": "1404490"
  },
  {
    "text": "easy candidate to switch off and we then get a bunch of spare capacity on the server for everything else to run and",
    "start": "1404490",
    "end": "1410130"
  },
  {
    "text": "then later on we could switch it back on again now because we needed to keep an eye on",
    "start": "1410130",
    "end": "1416400"
  },
  {
    "text": "this we started off with a performance monitor which would switch on/off the toggle now this performance monitor is",
    "start": "1416400",
    "end": "1421530"
  },
  {
    "text": "the most complicated piece of software ever written by anyone ever it's the DBA you try writing a brain so",
    "start": "1421530",
    "end": "1432210"
  },
  {
    "text": "yeah he would keep an eye on the database if the promise about went out bad he'd just switch off the toggle for a while now eventually we wanted to",
    "start": "1432210",
    "end": "1439410"
  },
  {
    "text": "automate this because having the DBA watch the CPU graph is not the best use of his time and when you want to",
    "start": "1439410",
    "end": "1447450"
  },
  {
    "text": "automate this kind of thing you really need to monitor your background process in your toggle usage because while this",
    "start": "1447450",
    "end": "1453240"
  },
  {
    "text": "background process can be off for a while with no users noticing the impact",
    "start": "1453240",
    "end": "1458340"
  },
  {
    "text": "of it if you're switching it on and off repeatedly if the toggles flapping a lot then it's never going to actually",
    "start": "1458340",
    "end": "1464310"
  },
  {
    "text": "complete a run and people will eventually start why is my day to not here so when we eventually automated it",
    "start": "1464310",
    "end": "1473160"
  },
  {
    "text": "we also had monitoring dashboards and we'll get into monitoring and what you need to watch articles later",
    "start": "1473160",
    "end": "1479240"
  },
  {
    "text": "yep that's all for that one so that's an operations toggle so the next one is an",
    "start": "1480210",
    "end": "1486760"
  },
  {
    "text": "experiment now an experiment can move slightly further to the left because",
    "start": "1486760",
    "end": "1492040"
  },
  {
    "text": "again with microservices you can just bounce the service to change the state of a toggle if you're reading on startup",
    "start": "1492040",
    "end": "1498030"
  },
  {
    "text": "generally with an experiment the bigger the risk the further to the right hand side of this graph you want to be",
    "start": "1498030",
    "end": "1503530"
  },
  {
    "text": "because again if you're just changing the color of a button effects click rate",
    "start": "1503530",
    "end": "1508600"
  },
  {
    "text": "then maybe you can get over the startup toggle for that because you're not really gonna have that much impact on",
    "start": "1508600",
    "end": "1514870"
  },
  {
    "text": "the business unless maybe you've made the button completely invisible which would probably lower your click rate but",
    "start": "1514870",
    "end": "1523270"
  },
  {
    "text": "if it's a fairly high risk feature like I don't know power peg or smarts for",
    "start": "1523270",
    "end": "1530260"
  },
  {
    "text": "instance you'd probably want that on an activity toggle where you could switch it on or off very quickly finally",
    "start": "1530260",
    "end": "1537910"
  },
  {
    "text": "released huggles again they tend to shift slightly further to the left if you're rolling out a feature you don't",
    "start": "1537910",
    "end": "1544510"
  },
  {
    "text": "tend to need it to be checked on every activity so a background check to a",
    "start": "1544510",
    "end": "1550480"
  },
  {
    "text": "compiled check is probably fine yeah so",
    "start": "1550480",
    "end": "1556540"
  },
  {
    "text": "let's have a look an example of use of roll out this was a released of rather than an experiment although we did use",
    "start": "1556540",
    "end": "1563290"
  },
  {
    "text": "it as an experiment to start with so as I mentioned earlier the email connector example we had a soap service for",
    "start": "1563290",
    "end": "1570760"
  },
  {
    "start": "1565000",
    "end": "1637000"
  },
  {
    "text": "sending emails which sent them for exchange the soap service was terrible",
    "start": "1570760",
    "end": "1576040"
  },
  {
    "text": "an exchange was terrible and the application was terrible so it's a",
    "start": "1576040",
    "end": "1581890"
  },
  {
    "text": "recipe for success and so for some reason like if there was any problem",
    "start": "1581890",
    "end": "1587740"
  },
  {
    "text": "sending you ended up with a horrible gigantic XML error in the application the soap service did a lot of magic like",
    "start": "1587740",
    "end": "1594030"
  },
  {
    "text": "reformatting emails adding headers deleting things detecting Europe and if you're in death mode that kind of thing",
    "start": "1594030",
    "end": "1599530"
  },
  {
    "text": "and also exchange would take about 800 milliseconds to send an email usually except for a 1/2 an hour window which",
    "start": "1599530",
    "end": "1607000"
  },
  {
    "text": "shifted during the day so every day you could see in the blog graphs the no shifting earlier for half an hour",
    "start": "1607000",
    "end": "1612690"
  },
  {
    "text": "every day would take 30 seconds to send an email and I have no idea why I never",
    "start": "1612690",
    "end": "1617909"
  },
  {
    "text": "got to the bottom of that which was probably what caused the loss of these errors to come through the application",
    "start": "1617909",
    "end": "1623010"
  },
  {
    "text": "because the application is not expecting an email to take 30 seconds to send no one expects an email to take 30 seconds",
    "start": "1623010",
    "end": "1629100"
  },
  {
    "text": "to accept so our pan was to replace this",
    "start": "1629100",
    "end": "1635400"
  },
  {
    "text": "with RabbitMQ so our first release was refactoring so that we had these",
    "start": "1635400",
    "end": "1640919"
  },
  {
    "start": "1637000",
    "end": "1710000"
  },
  {
    "text": "connectors at the beginning on the left-hand side of this graft and we had a feature toggles to switch between",
    "start": "1640919",
    "end": "1646380"
  },
  {
    "text": "whether you use the old connector or the new connector now the new connector was implemented as I think five or six",
    "start": "1646380",
    "end": "1653490"
  },
  {
    "text": "decorators so the decorators actually took the logic of what the soap service did and put each part into a separate",
    "start": "1653490",
    "end": "1659130"
  },
  {
    "text": "decorator because then each part was testable rather than being one giant function in an XML soap service now what would",
    "start": "1659130",
    "end": "1666900"
  },
  {
    "text": "happen with the RabbitMQ connector as it would take the mail message format it dumped it under a bank you and then we",
    "start": "1666900",
    "end": "1672630"
  },
  {
    "text": "had a worker service reading it off as fast as it could and sending them we also lied to the user at this point as",
    "start": "1672630",
    "end": "1678330"
  },
  {
    "text": "well because the old service would send the email wait for 30 seconds and then say hey success or more likely failure",
    "start": "1678330",
    "end": "1685400"
  },
  {
    "text": "whereas with the new one we just went yeah it's been sent no one cares as long as it doesn't think that long to",
    "start": "1685400",
    "end": "1691890"
  },
  {
    "text": "send now because this is affecting an entire internal CRM system of a company",
    "start": "1691890",
    "end": "1699090"
  },
  {
    "text": "with maybe 500 users or so we didn't want to just switch it over to the new system in case the new system didn't",
    "start": "1699090",
    "end": "1705210"
  },
  {
    "text": "quite work because we've pulled a lot of logic out of this soap service as well so all we did is we went to one",
    "start": "1705210",
    "end": "1711419"
  },
  {
    "text": "particular user who had the most problems he was also one of the biggest pain in the asses to deal with in that",
    "start": "1711419",
    "end": "1717480"
  },
  {
    "text": "company he complained about everything which meant he gave feedback on everything which means that when you're",
    "start": "1717480",
    "end": "1723450"
  },
  {
    "text": "experimenting something you want him to test it because he will tell you if it's not right",
    "start": "1723450",
    "end": "1728650"
  },
  {
    "text": "so we went to her and I literally phone him and hi I'm rewriting the email system so doesn't suck would you like to",
    "start": "1728650",
    "end": "1735010"
  },
  {
    "text": "be the beta testify and he was entirely up for this so we used the toggle as an",
    "start": "1735010",
    "end": "1740200"
  },
  {
    "text": "experiment we switched it on just for him and he tested it for a while and he",
    "start": "1740200",
    "end": "1745270"
  },
  {
    "text": "found some issues we switched off the toggle fix things rolled it out a new version and that went back and forth for a week or so and once he was happy with",
    "start": "1745270",
    "end": "1752260"
  },
  {
    "text": "it we added his teammate who was also a pain but not quite so much of a pain and also had a lot of problems of this and",
    "start": "1752260",
    "end": "1758800"
  },
  {
    "text": "that was fine and then we rolled it out to the rest of his team there should be no this is a vague",
    "start": "1758800",
    "end": "1764290"
  },
  {
    "text": "representation of the org structure it was much bigger than this when we had",
    "start": "1764290",
    "end": "1769750"
  },
  {
    "text": "the whole team running it we found a performance issue each user was pushing",
    "start": "1769750",
    "end": "1775840"
  },
  {
    "text": "messages onto a single queue and then a worker was reading things off the downside is if the pink user had stuffed",
    "start": "1775840",
    "end": "1782410"
  },
  {
    "text": "in a load of say hundred emails a once on to the queue because they could do mass mailing which they did a lot and",
    "start": "1782410",
    "end": "1789100"
  },
  {
    "text": "another user was on the phone with someone else yeah I've send you the contract after click the send button it should be with you now and the exchanges",
    "start": "1789100",
    "end": "1796240"
  },
  {
    "text": "for some reason taking 30 seconds to send an email and there's a thousand of them queued up beforehand it's not not",
    "start": "1796240",
    "end": "1802690"
  },
  {
    "text": "great so we solve that problem by having two queues store any one worker process",
    "start": "1802690",
    "end": "1808780"
  },
  {
    "text": "but the worker process is just set to read from the direct queue and if that's empty read from the BOK you and the",
    "start": "1808780",
    "end": "1814990"
  },
  {
    "text": "software is just reconfigured so that when you send a mass mailing it goes into the bulk you so at this point we've",
    "start": "1814990",
    "end": "1821320"
  },
  {
    "text": "now solved a performance problem that team tested it and when there were no new problems we rolled it out to another",
    "start": "1821320",
    "end": "1826600"
  },
  {
    "text": "team and then to their department and then to the whole organization now this",
    "start": "1826600",
    "end": "1832210"
  },
  {
    "text": "whole process took us about six to eight weeks we weren't constantly working on it because you know he might be fine with",
    "start": "1832210",
    "end": "1837790"
  },
  {
    "text": "it for a few days and then he report hey this formatting is wrong so you know wasn't my fault soul focused but it took",
    "start": "1837790",
    "end": "1845340"
  },
  {
    "text": "ya six to eight weeks once the whole company was on it for a few weeks and no new problems we deleted the toggle and",
    "start": "1845340",
    "end": "1852910"
  },
  {
    "start": "1852000",
    "end": "1894000"
  },
  {
    "text": "this is a rough graph of what the usage looked like so on the Left we hit all on the y-axis we have the percent of users",
    "start": "1852910",
    "end": "1860860"
  },
  {
    "text": "who've got the in abled and on the right on the x axis we have time and you can see at the",
    "start": "1860860",
    "end": "1866230"
  },
  {
    "text": "beginning flaps up and down a lot and that's me testing with that girl that guy testing and me switching it on off",
    "start": "1866230",
    "end": "1871630"
  },
  {
    "text": "and then we get his mouth on it and then the whole team and then there's the off period where we found that performance",
    "start": "1871630",
    "end": "1877870"
  },
  {
    "text": "issue and then you can see there's a fairly fast ramp up to the rest of the company and then suddenly no one has the",
    "start": "1877870",
    "end": "1883299"
  },
  {
    "text": "toggle and that's us deleting it because everyone's got it we don't need to keep it around so by looking at this graph we",
    "start": "1883299",
    "end": "1891429"
  },
  {
    "text": "can and and our rollout percentages we can have our natural which is really",
    "start": "1891429",
    "end": "1896770"
  },
  {
    "start": "1894000",
    "end": "1960000"
  },
  {
    "text": "monitor your toggles because you don't know if you can delete it if you don't",
    "start": "1896770",
    "end": "1902289"
  },
  {
    "text": "know if people are querying it and if you're looking at a toggle well no one's",
    "start": "1902289",
    "end": "1907840"
  },
  {
    "text": "querying this then you can probably did it but you might also be looking at things like how many users have got this",
    "start": "1907840",
    "end": "1913510"
  },
  {
    "text": "what percentage of errors are we getting from that user so you might want to correlate it with error logs or monitoring if you have said anyone heard",
    "start": "1913510",
    "end": "1921909"
  },
  {
    "text": "of the scientist library by github so",
    "start": "1921909",
    "end": "1928240"
  },
  {
    "text": "scientist is a way of there's a couple of done that versions of it as well as a way for running experiments in parallel",
    "start": "1928240",
    "end": "1933970"
  },
  {
    "text": "with existing code so if you had a function for sending emails you could",
    "start": "1933970",
    "end": "1939760"
  },
  {
    "text": "write a second function that sends emails in a different way and scientists would run both of them use the results",
    "start": "1939760",
    "end": "1947049"
  },
  {
    "text": "of the existing version but report both versions performance characteristics back so you could see if the error rates",
    "start": "1947049",
    "end": "1953200"
  },
  {
    "text": "were the same or if one was faster than the other so if you're going to be doing experiments you might want to look into that library again this is displaying",
    "start": "1953200",
    "end": "1962559"
  },
  {
    "start": "1960000",
    "end": "2023000"
  },
  {
    "text": "really weirdly on my screen it's clipping half the diagram off but it's fine here right so this is another one",
    "start": "1962559",
    "end": "1968950"
  },
  {
    "text": "of the graphs we're looking at which is the rate at which a toggle is queried so",
    "start": "1968950",
    "end": "1974440"
  },
  {
    "text": "we can see to start with most people have to toggle off and everyone is",
    "start": "1974440",
    "end": "1980409"
  },
  {
    "text": "querying this in the company so the reason we have an angle at the start in",
    "start": "1980409",
    "end": "1985960"
  },
  {
    "text": "the end of this is because when we deploy software not everyone gets the new version at exactly the same moment so number of queries does ramp up over time",
    "start": "1985960",
    "end": "1992770"
  },
  {
    "text": "but we're also looking at what percentage of users have a toggle set to on or off so if it stays that everyone",
    "start": "1992770",
    "end": "2000300"
  },
  {
    "text": "has loads of people are querying it but it's on old loads of people wearing it but it's off then we can delete it but",
    "start": "2000300",
    "end": "2008280"
  },
  {
    "text": "also if no one's querying the toggle then it can be deleted and I guess this",
    "start": "2008280",
    "end": "2013290"
  },
  {
    "text": "one I dragged it down is keep your toggle lifetime short and delete them deleting stuffs great yeah the final",
    "start": "2013290",
    "end": "2024120"
  },
  {
    "start": "2023000",
    "end": "2063000"
  },
  {
    "text": "part on that which still relates to the monitoring is alerting if you're using something like graph lights and Gravano",
    "start": "2024120",
    "end": "2030090"
  },
  {
    "text": "you can set up monitoring on that and data dog can do similar as well monitor",
    "start": "2030090",
    "end": "2035550"
  },
  {
    "text": "what your toggles figure out what your time window is and send an alert when",
    "start": "2035550",
    "end": "2041160"
  },
  {
    "text": "something hasn't been queried for a few days that way you can proactively delete",
    "start": "2041160",
    "end": "2046890"
  },
  {
    "text": "your toggles because the more toggles you have of this living at the same time the more overlap you're likely to have",
    "start": "2046890",
    "end": "2052500"
  },
  {
    "text": "and the more overlap is going to give you exponential more code paths and more code paths makes more complex and this",
    "start": "2052500",
    "end": "2060388"
  },
  {
    "text": "is rendering really weirdly now ok I can't see anything yes user perception",
    "start": "2060389",
    "end": "2065750"
  },
  {
    "start": "2063000",
    "end": "2135000"
  },
  {
    "text": "so when you're boiling something out with a feature toggle one of the the side benefits from this is user",
    "start": "2065750",
    "end": "2072628"
  },
  {
    "text": "perception so our first user the one who was a patent he feels special because he",
    "start": "2072629",
    "end": "2079530"
  },
  {
    "text": "helped design this new feature he helped build it his feedback mattered he built this say he feels really great about",
    "start": "2079530",
    "end": "2085888"
  },
  {
    "text": "this the early adopters they feel great as well we had early access we were a",
    "start": "2085889",
    "end": "2091440"
  },
  {
    "text": "part of a special group we got all this new stuff and it was great everyone else",
    "start": "2091440",
    "end": "2097400"
  },
  {
    "text": "also feels great because as far as they can tell we switched on a new feature instantly for most of the company at",
    "start": "2097400",
    "end": "2102810"
  },
  {
    "text": "once and it just worked they don't know that it took us several weeks to make you perfect but to them the perception",
    "start": "2102810",
    "end": "2109890"
  },
  {
    "text": "was everything just worked at once so not only are we deploying software in a",
    "start": "2109890",
    "end": "2114930"
  },
  {
    "text": "more stable manner for us but it's helping the user perception of what we can deliver so harness this kind of",
    "start": "2114930",
    "end": "2122830"
  },
  {
    "text": "good feelings from users as well as well feature talk was a fun to write so the",
    "start": "2122830",
    "end": "2132040"
  },
  {
    "text": "downside which have alluded to a few times is the number of code paths goes up and a lot of people say that they",
    "start": "2132040",
    "end": "2140140"
  },
  {
    "start": "2135000",
    "end": "2182000"
  },
  {
    "text": "don't like toggles because the additional complexity that it adds the",
    "start": "2140140",
    "end": "2145840"
  },
  {
    "text": "first comeback to that is where software developers what doesn't add complexity",
    "start": "2145840",
    "end": "2150990"
  },
  {
    "text": "apart from deleting things which is great fun but and we generally can't",
    "start": "2150990",
    "end": "2156100"
  },
  {
    "text": "remove complexity very well like Dylan Beatty was saying in his talk is that we don't have to think about how the atoms",
    "start": "2156100",
    "end": "2162220"
  },
  {
    "text": "and the the electronics of a process of work anymore it's not removed complexity it's just abstract it out the way most of the time",
    "start": "2162220",
    "end": "2168850"
  },
  {
    "text": "so we can try and abstract as much stuff out of the way as possible and we can use toggles to help do this we can also",
    "start": "2168850",
    "end": "2175600"
  },
  {
    "text": "use toggles to trade one kind of complexity for a different kind of complexity one that's hopefully easier",
    "start": "2175600",
    "end": "2181030"
  },
  {
    "text": "to deal with now this is the same company that had the email rollout and",
    "start": "2181030",
    "end": "2186580"
  },
  {
    "start": "2182000",
    "end": "2327000"
  },
  {
    "text": "this happened after the email rollout so I'm probably at least partially to blame for this so we had three very long-lived",
    "start": "2186580",
    "end": "2195700"
  },
  {
    "text": "feature branches and by very long-lived I mean years and I heard from one of it",
    "start": "2195700",
    "end": "2201460"
  },
  {
    "text": "I don't work anymore but I heard from one of the developers recently that the outsource branch still exists which me",
    "start": "2201460",
    "end": "2207100"
  },
  {
    "text": "puts it at about five years old probably still with only two commits because I'm not convinced they've learnt more git is",
    "start": "2207100",
    "end": "2213040"
  },
  {
    "text": "yet I believe they threaten people with that",
    "start": "2213040",
    "end": "2218750"
  },
  {
    "text": "branch like if you don't do this then you have to merge that branch okay I don't even need to put the branch",
    "start": "2218750",
    "end": "2226280"
  },
  {
    "text": "on there it's just amusing um so we have these two internal feature branches which are very long-lived and the",
    "start": "2226280",
    "end": "2232850"
  },
  {
    "text": "business said to us right we want the second internal feature is is considered",
    "start": "2232850",
    "end": "2238490"
  },
  {
    "text": "done we want it released now as we're releasing everything off master we did the logical thing which is merge it in",
    "start": "2238490",
    "end": "2244580"
  },
  {
    "text": "and then we rebased the second internal feature off of the master branch and then someone",
    "start": "2244580",
    "end": "2252050"
  },
  {
    "text": "priorities changed and actually internal one wanted to go but not internal to if",
    "start": "2252050",
    "end": "2257900"
  },
  {
    "text": "you ever tried to undo a rebase it's not the most fun and this happens several",
    "start": "2257900",
    "end": "2264320"
  },
  {
    "text": "times after like the second time we were like right let's not rebase anything until it's actually in production and",
    "start": "2264320",
    "end": "2270380"
  },
  {
    "text": "they're actually decided to keep it like I said this is the same company that had the great email role why didn't we use",
    "start": "2270380",
    "end": "2278750"
  },
  {
    "text": "feature Dockers list we could have kept merging all these little features because there were lots of different in these two major branches if we kept",
    "start": "2278750",
    "end": "2285410"
  },
  {
    "text": "merging them into master but had them behind toggles then we could have flipped between whichever feature was desired without affecting very much I",
    "start": "2285410",
    "end": "2293440"
  },
  {
    "text": "mean sure you're going to take on a bit more complexity especially if you're if your data is changing so if you if you",
    "start": "2293440",
    "end": "2299420"
  },
  {
    "text": "have a structural database changes in both branches you're going to take on that complexity earlier rather than",
    "start": "2299420",
    "end": "2306140"
  },
  {
    "text": "later when it gets merged in and suddenly you've got two incompatible sets of changes that you now need to resolve so while it would be painful it",
    "start": "2306140",
    "end": "2313730"
  },
  {
    "text": "would be painful earlier rather than later and hopefully less surprising yeah",
    "start": "2313730",
    "end": "2318920"
  },
  {
    "text": "don't don't have long live feature branches in fact don't have branches they live longer than a day or two really do trunk based delivery the next",
    "start": "2318920",
    "end": "2328610"
  },
  {
    "start": "2327000",
    "end": "2340000"
  },
  {
    "text": "piece of feedback I receive a lot is that feature always make testing harder and maybe I'm not convinced I agree",
    "start": "2328610",
    "end": "2338770"
  },
  {
    "text": "so let's say you have some kind of tests doesn't really matter what and we treat",
    "start": "2338770",
    "end": "2346270"
  },
  {
    "start": "2340000",
    "end": "2464000"
  },
  {
    "text": "our tests as an immutable artifact so we decide to add a feature toggle that does",
    "start": "2346270",
    "end": "2351610"
  },
  {
    "text": "something to some class so what we do is we duplicate we copy and paste the set",
    "start": "2351610",
    "end": "2358360"
  },
  {
    "text": "of tests into a new class and one of them toggle off I'm one of them toggle",
    "start": "2358360",
    "end": "2363640"
  },
  {
    "text": "on green and then we change the tests in green to match whatever the new feature should do we release the feature and",
    "start": "2363640",
    "end": "2369820"
  },
  {
    "text": "both sets of tests should compile and pass because ones with the toggle off ones with the toggle on once your toggle",
    "start": "2369820",
    "end": "2377020"
  },
  {
    "text": "has been used for a while and you decide that you know your experiments been successful or failure as in my well be",
    "start": "2377020",
    "end": "2382600"
  },
  {
    "text": "and you decide to delete the toggle you just delete the relevant tests and you've gone back down to one set of",
    "start": "2382600",
    "end": "2388480"
  },
  {
    "text": "tests again it doesn't make it that much more complicated very long if you're",
    "start": "2388480",
    "end": "2394030"
  },
  {
    "text": "doing manual testing as well like following a test script or something it's basically the same you just have to",
    "start": "2394030",
    "end": "2400000"
  },
  {
    "text": "test grips when the toggle is on this should happen when they're talking us off this should happen throw one away",
    "start": "2400000",
    "end": "2405340"
  },
  {
    "text": "when you when you get rid of the toggle now the only time this really breaks down is if you've got a feature flag",
    "start": "2405340",
    "end": "2412600"
  },
  {
    "text": "that is spanning multiple microservices and the way you solve that is by not doing it because if it's so if is if",
    "start": "2412600",
    "end": "2423040"
  },
  {
    "text": "it's for if you have a feature flag that has to span multiple Mike Reserva cies I think you've got your bounded context",
    "start": "2423040",
    "end": "2428680"
  },
  {
    "text": "wrong because each you shouldn't need to affect another service and if you do",
    "start": "2428680",
    "end": "2434550"
  },
  {
    "text": "maybe you should have two separate toggles one for each service and and one service has to take the responsibility",
    "start": "2434550",
    "end": "2440650"
  },
  {
    "text": "if I need to handle both states from this but then I can decide whether my output should match or not",
    "start": "2440650",
    "end": "2446080"
  },
  {
    "text": "so I I'd say if you've got toggle spanning multiple services you've got at",
    "start": "2446080",
    "end": "2451540"
  },
  {
    "text": "least a code smell but probably a bounded context smell I don't know what",
    "start": "2451540",
    "end": "2458980"
  },
  {
    "text": "the term is for that so yeah",
    "start": "2458980",
    "end": "2463410"
  },
  {
    "start": "2464000",
    "end": "2537000"
  },
  {
    "text": "as a brief recap these are the rules the first one is really really important ask",
    "start": "2464369",
    "end": "2470430"
  },
  {
    "text": "anyone who worked for night capital and the next four are also important I'm",
    "start": "2470430",
    "end": "2476940"
  },
  {
    "text": "monitoring them you could probably get away with without my current team don't use feature toggles as much as I'd like",
    "start": "2476940",
    "end": "2483240"
  },
  {
    "text": "we actually deal with them by using octopus deploy variables in our web conflicts because we don't have them",
    "start": "2483240",
    "end": "2489299"
  },
  {
    "text": "that often it's usually we've written a feature and we need to wait for another team to deploy their feature before we",
    "start": "2489299",
    "end": "2494789"
  },
  {
    "text": "can switch ours on so you can start with a very simple fashion just use a web",
    "start": "2494789",
    "end": "2501240"
  },
  {
    "text": "config setting as you start to want to do more things like experiment on a specific user or group of users that's",
    "start": "2501240",
    "end": "2508079"
  },
  {
    "text": "when you need to start looking into other services like launch Darkly or other alternatives I I actually don't",
    "start": "2508079",
    "end": "2517079"
  },
  {
    "text": "know of any other alternatives I'm writing a feature toggling service my advice on that is don't use it because",
    "start": "2517079",
    "end": "2522809"
  },
  {
    "text": "it's just me messing about was that as I'm bored and it's got no real design or purpose or anything so if you want to",
    "start": "2522809",
    "end": "2529230"
  },
  {
    "text": "laugh at me writing feature toggling services look at my github it's called Crispin for reasons and finally I've got",
    "start": "2529230",
    "end": "2538380"
  },
  {
    "start": "2537000",
    "end": "2637000"
  },
  {
    "text": "some links here the first link is a more in-depth review about what happened with non-capital it's a fascinating read the",
    "start": "2538380",
    "end": "2546029"
  },
  {
    "text": "second link is the HP laserjet talk as well which is also a book which is also",
    "start": "2546029",
    "end": "2552599"
  },
  {
    "text": "fascinating and that goes into the real dynamics of how they changed into an agile organization and then we've got",
    "start": "2552599",
    "end": "2559170"
  },
  {
    "text": "some more information and definitely do truant based development I don't think I've mentioned that yet deuteronomist development yeah so that's all I had and",
    "start": "2559170",
    "end": "2568019"
  },
  {
    "text": "any questions I guess",
    "start": "2568019",
    "end": "2571339"
  },
  {
    "text": "yeah so yeah so the question is how do you monitor toggles it depends if you're",
    "start": "2578160",
    "end": "2584680"
  },
  {
    "text": "using some kind of structured logging or centralized logging so we log everything",
    "start": "2584680",
    "end": "2590440"
  },
  {
    "text": "with Siri log and push it through to elasticsearch so you can log your toggle States with that or we also do",
    "start": "2590440",
    "end": "2597610"
  },
  {
    "text": "monitoring so if you're using the graphite or graph on a stack or with like stats D or data dog for instance",
    "start": "2597610",
    "end": "2604540"
  },
  {
    "text": "you can push metrics through that as well so you basically callate them into one",
    "start": "2604540",
    "end": "2609580"
  },
  {
    "text": "location and then build a graph for them um if you want I can show you some graphs afterwards but I don't think I'm",
    "start": "2609580",
    "end": "2615130"
  },
  {
    "text": "technically allowed to publish them but yeah there are existing tooling for that don't invent your own as fun as that is",
    "start": "2615130",
    "end": "2624240"
  },
  {
    "text": "anyone else sorry I can't see because of the Sun that's over there okay so thank",
    "start": "2624240",
    "end": "2632920"
  },
  {
    "text": "you very much for coming",
    "start": "2632920",
    "end": "2635609"
  }
]