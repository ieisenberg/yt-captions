[
  {
    "text": "and we're getting close to the starting mark of this presentation good afternoon and hi everybody or even",
    "start": "160",
    "end": "6240"
  },
  {
    "text": "good evening depending on where you are welcome to this session at ndc oslo um people will",
    "start": "6240",
    "end": "12880"
  },
  {
    "text": "probably still pop in the nice thing is that we don't hear any doors go open or like being closed um because",
    "start": "12880",
    "end": "19359"
  },
  {
    "text": "of course it's all virtual last year i attended ndc oslo in person it's a really nice venue to be",
    "start": "19359",
    "end": "25680"
  },
  {
    "text": "honest and i was really looking forward but unfortunately like we're in a different situation so i would like to welcome you to my",
    "start": "25680",
    "end": "31439"
  },
  {
    "text": "office my home office where i live in the netherlands and what we're going to talk about third",
    "start": "31439",
    "end": "36559"
  },
  {
    "text": "party security risking.net core applications for the next next hour first of course it's always a",
    "start": "36559",
    "end": "43200"
  },
  {
    "text": "good idea to just briefly introduce yourself so where am i with the big picture on",
    "start": "43200",
    "end": "49200"
  },
  {
    "text": "the site my name is neil steinis and i work as a security researcher at vera code i got a background input net development",
    "start": "49200",
    "end": "56800"
  },
  {
    "text": "and i've always kept the side track on application security so first years of my career i mostly focused on on doing contract work and",
    "start": "56800",
    "end": "63600"
  },
  {
    "text": "developing apps starting with the bits uh let's say dot net bits the first bits one zero one one",
    "start": "63600",
    "end": "70320"
  },
  {
    "text": "and then i moved more into the securities page which is like 2014-ish that i moved to application",
    "start": "70320",
    "end": "75920"
  },
  {
    "text": "uh consultancy security consultancy and also some pen testing and ethical hacking",
    "start": "75920",
    "end": "81119"
  },
  {
    "text": "and in 25 2015 i joined veracode where i'm right now part of the research team and what i'm",
    "start": "81119",
    "end": "86400"
  },
  {
    "text": "mostly doing is focusing on our static analysis capabilities for the net application so i'm combining",
    "start": "86400",
    "end": "93360"
  },
  {
    "text": "all my background including development hacking into a single role where i work on that so if you want to talk",
    "start": "93360",
    "end": "98960"
  },
  {
    "text": "about barricode come see me afterwards or drop a message on slack because today we're not going to talk about the thing which we're going to",
    "start": "98960",
    "end": "105360"
  },
  {
    "text": "talk about third party risks and the way that we can reduce that risk in our site are",
    "start": "105360",
    "end": "110960"
  },
  {
    "text": "net core applications what will happen if you create a new app",
    "start": "110960",
    "end": "117840"
  },
  {
    "text": "and if you start out creating a new app with let's say you open up a console and you say dot net new mvc.net new console",
    "start": "117840",
    "end": "125040"
  },
  {
    "text": "or even net new win forms what will be the first thing that will happen once that's done",
    "start": "125040",
    "end": "131360"
  },
  {
    "text": "most of the time you will get your dependencies from repositories managers managers like nucat right it will go out",
    "start": "131360",
    "end": "137920"
  },
  {
    "text": "it will get all its dependencies it needs in order for you to be able to build",
    "start": "137920",
    "end": "143040"
  },
  {
    "text": "your your product so from that perspective a big portion of our application consists of",
    "start": "143040",
    "end": "148800"
  },
  {
    "text": "third-party libraries that we pull in and we just use because the nice thing about that is",
    "start": "148800",
    "end": "154080"
  },
  {
    "text": "like if there is an open source project that has a nice framework or component that helps you out your development you can",
    "start": "154080",
    "end": "160400"
  },
  {
    "text": "reduce development time right it becomes less and even if i put my developer hat on it",
    "start": "160400",
    "end": "165920"
  },
  {
    "text": "it can it's almost like it feels like you're lazy because you like getting a lot for not doing much right",
    "start": "165920",
    "end": "171760"
  },
  {
    "text": "but on the other hand there's the security side of that and if you pull in those",
    "start": "171760",
    "end": "177040"
  },
  {
    "text": "libraries be aware of like what do those projects do for security",
    "start": "177040",
    "end": "182480"
  },
  {
    "text": "like how do they deal with issues that are being found you can probably imagine that it's it's a different world if you're looking at",
    "start": "182480",
    "end": "188800"
  },
  {
    "text": "a project that's being run by five people in their spare time because they just enjoy technology right as everybody does",
    "start": "188800",
    "end": "195360"
  },
  {
    "text": "um can you expect the same kind of response in relation to security issues as let's",
    "start": "195360",
    "end": "201760"
  },
  {
    "text": "say a bigger vendor that has even maybe a fully dedicated team that fixes issues uh all the time right there's there's a",
    "start": "201760",
    "end": "208400"
  },
  {
    "text": "really this balance and especially when we like rely on that",
    "start": "208400",
    "end": "213680"
  },
  {
    "text": "part of that library or like we pull in that library and we develop on top of it that's",
    "start": "213680",
    "end": "218720"
  },
  {
    "text": "definitely introducing risks right and we need to be aware of what we're pulling in and",
    "start": "218720",
    "end": "224239"
  },
  {
    "text": "why so i think that's also a bit of the problem space we're going to cover",
    "start": "224239",
    "end": "230159"
  },
  {
    "text": "from development perspective there's definitely ways for us to improve that posture how we deal with",
    "start": "230159",
    "end": "235760"
  },
  {
    "text": "third-party libraries in general and that's exactly the goal of this presentation what we're going to talk about",
    "start": "235760",
    "end": "242319"
  },
  {
    "text": "so let's first define an agenda for the next 15 minutes and we're going to start out with",
    "start": "242400",
    "end": "248080"
  },
  {
    "text": "identifying some third-party security risks because there's a there's a whole variant of it and i want to share some",
    "start": "248080",
    "end": "253680"
  },
  {
    "text": "examples with you of what will happen if software gets compromised that we use then we're going to move to a subject of",
    "start": "253680",
    "end": "260560"
  },
  {
    "text": "this of the rest of the presentation so there's a demo app it uses a component that has some issues",
    "start": "260560",
    "end": "265919"
  },
  {
    "text": "inside of the component itself and i want to show you some ways on how we can maybe fix those",
    "start": "265919",
    "end": "271919"
  },
  {
    "text": "issues or make sure that those issues are less of a risk and that's something that we're going to",
    "start": "271919",
    "end": "277600"
  },
  {
    "text": "achieve by doing some compatimization or isolation of the functionality with some code patterns",
    "start": "277600",
    "end": "283919"
  },
  {
    "text": "then on the flip side like after that the second part of the presentation will focus more on doing reviews of components that we pull",
    "start": "283919",
    "end": "290400"
  },
  {
    "text": "in because i think that's the other pillar that we need to improve on like looking at apis and and have some",
    "start": "290400",
    "end": "295919"
  },
  {
    "text": "understanding of what's inside i think that really helps us out doing a better job",
    "start": "295919",
    "end": "301199"
  },
  {
    "text": "and at the end there's a conclusion and q a and we will probably open up the audio channel",
    "start": "301199",
    "end": "306240"
  },
  {
    "text": "at the end feel free to drop a chat question right now in the webex chat because i'm seeing me afterwards on",
    "start": "306240",
    "end": "312160"
  },
  {
    "text": "slack that's it's it's all possible there's a variety of possibilities to to communicate and that's nice right",
    "start": "312160",
    "end": "319520"
  },
  {
    "text": "so let's first define some problem fields with third-party security risks and what are",
    "start": "321360",
    "end": "326400"
  },
  {
    "text": "like what what are those risks right as i already said if you build a.net core application",
    "start": "326400",
    "end": "331600"
  },
  {
    "text": "a big portion of it will be built on top of dependencies you pull in and it's definitely important that the",
    "start": "331600",
    "end": "337680"
  },
  {
    "text": "developer will use a library as it has been intended to be used right and what i mean by that",
    "start": "337680",
    "end": "342800"
  },
  {
    "text": "is of course an api of library let's say you've got a data access layer that allows you to do queries on a",
    "start": "342800",
    "end": "349919"
  },
  {
    "text": "data database right and it abstracts away of some of the problems then if there is some ways of dynamically",
    "start": "349919",
    "end": "356400"
  },
  {
    "text": "creating queries that's of course a risk area right and the developer should of course not use that by default there",
    "start": "356400",
    "end": "362160"
  },
  {
    "text": "should be some guidance on that because if it uses dynamic sql then of course you probably are aware of",
    "start": "362160",
    "end": "368319"
  },
  {
    "text": "the fact that there might be sql injection inside that application that will result in more problems",
    "start": "368319",
    "end": "373919"
  },
  {
    "text": "so aside from the fact that the api needs to guide the developer taking the right decisions the developer also needs",
    "start": "373919",
    "end": "379520"
  },
  {
    "text": "to have some more knowledge in my opinion the third option is already what i talked about like what do these projects",
    "start": "379520",
    "end": "385680"
  },
  {
    "text": "do for security how actively are they releasing new things and is there a possibility for a security researcher to",
    "start": "385680",
    "end": "392240"
  },
  {
    "text": "share a problem that he has seen right so it's definitely something to um to to consider if you're using a",
    "start": "392240",
    "end": "399120"
  },
  {
    "text": "library the fourth one is of course we need to analyze our applications",
    "start": "399120",
    "end": "404800"
  },
  {
    "text": "on the third-party libraries that we're using and see if there's maybe versions that we need to update to",
    "start": "404800",
    "end": "410240"
  },
  {
    "text": "because of some security patches that are inside right that's that's of course a key thing to do and one other thing that",
    "start": "410240",
    "end": "417039"
  },
  {
    "text": "should definitely not be underestimated may make it is something called transitive dependencies and what i mean",
    "start": "417039",
    "end": "422479"
  },
  {
    "text": "by that is usually when you want to do something with an app and you pull in a top-level package",
    "start": "422479",
    "end": "428400"
  },
  {
    "text": "there's usually a whole transitive tree underneath that so it doesn't mean that you pull in a single package no it means that you",
    "start": "428400",
    "end": "434720"
  },
  {
    "text": "may be pulling several packages that are part of that all three right so there's there's a there's a bigger set of that",
    "start": "434720",
    "end": "442160"
  },
  {
    "text": "so these are like different risks and different um um the different areas the different party risks we're gonna",
    "start": "442160",
    "end": "448240"
  },
  {
    "text": "see more examples later on and to throw in some statistics on on this um each year we publish",
    "start": "448240",
    "end": "455599"
  },
  {
    "text": "uh something we call the state of software security where we share some of our metrics of the apps that we've analyzed and um",
    "start": "455599",
    "end": "462720"
  },
  {
    "text": "if you're interested in those reports come see me afterwards but i think the key uh statistics i want to",
    "start": "462720",
    "end": "468720"
  },
  {
    "text": "share with you is that in our 2018 edition we saw that 85 of the applications that were analyzed",
    "start": "468720",
    "end": "474879"
  },
  {
    "text": "for the first time have at least one vulnerable component meaning that there was one vulnerable",
    "start": "474879",
    "end": "480560"
  },
  {
    "text": "or at least one vulnerability inside of a component that was used by the app",
    "start": "480560",
    "end": "485599"
  },
  {
    "text": "in the 2019 edition we didn't have those statistics but luckily a month ago we published an open source edition",
    "start": "485599",
    "end": "491120"
  },
  {
    "text": "which reflected exactly the same statistics so i was happy to see it because i could use it right now",
    "start": "491120",
    "end": "496240"
  },
  {
    "text": "and there is a um at least a decrease what we have seen and that shows that it's like only 70",
    "start": "496240",
    "end": "503840"
  },
  {
    "text": "of the analyzed applications contain at least one vulnerable component right so there's some improvement still i think it's a big portion and you need",
    "start": "503840",
    "end": "510639"
  },
  {
    "text": "to be aware of using the last version of a component right i think that's that's the key of this",
    "start": "510639",
    "end": "516640"
  },
  {
    "text": "because if we then move on and see what could possibly go wrong i think the biggest example in",
    "start": "516640",
    "end": "522320"
  },
  {
    "text": "history might be the equifax data breach that happened in september of 2017 not sure if there's",
    "start": "522320",
    "end": "527760"
  },
  {
    "text": "any people from the us in this room but turned out that there was an apache stretch vulnerability which was",
    "start": "527760",
    "end": "533760"
  },
  {
    "text": "identified with a cve number which is like a logical number that they put like they tied to a",
    "start": "533760",
    "end": "539200"
  },
  {
    "text": "security problem and in a window of two months where the",
    "start": "539200",
    "end": "544480"
  },
  {
    "text": "server was not updated they were breached and 143 million us like u.s consumer records were stalling",
    "start": "544480",
    "end": "551440"
  },
  {
    "text": "so quite significant and what they should have done of course",
    "start": "551440",
    "end": "557279"
  },
  {
    "text": "is make sure that once the release was done of the fixed version in march or take right away and this would not have",
    "start": "557279",
    "end": "562800"
  },
  {
    "text": "happened right so that that's one example of a third party risk and not updating components which is which is of course a key essence of the",
    "start": "562800",
    "end": "569519"
  },
  {
    "text": "whole thing another thing i would like to quickly do a side step to is something that we call",
    "start": "569519",
    "end": "574800"
  },
  {
    "text": "supply chain attacks and what i mean with that is that with our software and the way that we",
    "start": "574800",
    "end": "580320"
  },
  {
    "text": "develop our software nowadays it consists of a lot more than just code that we check into a",
    "start": "580320",
    "end": "585519"
  },
  {
    "text": "repo right nowadays we do build pipelines on azure devops or github actions right there's a",
    "start": "585519",
    "end": "592000"
  },
  {
    "text": "lot more you can gitlab you can you can do a lot of variety of things and all the steps that we do and all the",
    "start": "592000",
    "end": "599360"
  },
  {
    "text": "steps we need to do in order to build our product or release our software can be identified as a supply chain right",
    "start": "599360",
    "end": "604959"
  },
  {
    "text": "every step so the fact that some components are being pulled in tests are being run that every",
    "start": "604959",
    "end": "610880"
  },
  {
    "text": "piece is a step inside of the supply chain and what we see nowadays is that it's also a target for attackers",
    "start": "610880",
    "end": "618640"
  },
  {
    "text": "to add malicious functionality to like hacking to a build pipeline and one",
    "start": "618640",
    "end": "623839"
  },
  {
    "text": "good example of that is something that happened with mpm's event stream package called event stream",
    "start": "623839",
    "end": "629279"
  },
  {
    "text": "on npm and that happened in november of 2018.",
    "start": "629279",
    "end": "634240"
  },
  {
    "text": "to give you some sense of what happened it's like this is this package had a 2 million",
    "start": "634720",
    "end": "640160"
  },
  {
    "text": "download count a week which is quite significant right 2 million downloads a week",
    "start": "640160",
    "end": "645360"
  },
  {
    "text": "and that was all due to the fact that it was a transitive dependency of 2000 other libraries because if you look into",
    "start": "645360",
    "end": "650800"
  },
  {
    "text": "the functionality of the library itself it wasn't it wasn't the law and it also",
    "start": "650800",
    "end": "655920"
  },
  {
    "text": "was a stale library as how they call it which means there was no like not much active development done on",
    "start": "655920",
    "end": "661519"
  },
  {
    "text": "that library to fix problems somebody stepped in from the community and started to do some fixes and it was",
    "start": "661519",
    "end": "667920"
  },
  {
    "text": "all like like helping out so then eventually that person got ownership of the project and",
    "start": "667920",
    "end": "674160"
  },
  {
    "text": "what then afterwards happened is that he decided to add some malware inside that package and um",
    "start": "674160",
    "end": "682160"
  },
  {
    "text": "that was eventually targeting specific crypto wallet cryptocurrencies to steal that currencies right so",
    "start": "682160",
    "end": "688560"
  },
  {
    "text": "in this case there was like a it's a pretty like if you see how much downloads it counts that's a",
    "start": "688560",
    "end": "694800"
  },
  {
    "text": "lot right and if you see the reach that that package has it's it's quite significant but in this case",
    "start": "694800",
    "end": "700240"
  },
  {
    "text": "somebody was like joining their team and and misusing the trust as an owner to",
    "start": "700240",
    "end": "705440"
  },
  {
    "text": "release a package right that's one step if we then look into something that happened like two weeks",
    "start": "705440",
    "end": "711279"
  },
  {
    "text": "ago which was published by github by the github security lab team is related to malware that targeted a",
    "start": "711279",
    "end": "717440"
  },
  {
    "text": "specific ide and in this case it's tied to netbeans",
    "start": "717440",
    "end": "723279"
  },
  {
    "text": "and that means ide and what this malware did is was like it infected the project that",
    "start": "723279",
    "end": "728560"
  },
  {
    "text": "were being built with the netbeans and it dropped additional functionality in the output",
    "start": "728560",
    "end": "733920"
  },
  {
    "text": "meaning that some malware and some some other stuff i don't know the exact details was being put in and it reproduced",
    "start": "733920",
    "end": "740079"
  },
  {
    "text": "itself so every piece of software that was built with that ide got additional functionality inside of it",
    "start": "740079",
    "end": "746000"
  },
  {
    "text": "which was malicious and of course if you think about it like what would an attacker try to achieve",
    "start": "746000",
    "end": "751839"
  },
  {
    "text": "with that usually developers have got access to a lot more resources within an organization right so that might be",
    "start": "751839",
    "end": "757519"
  },
  {
    "text": "a motivation because if you think about it logically i honestly myself i would not target an ide but maybe even a bill pipeline",
    "start": "757519",
    "end": "764079"
  },
  {
    "text": "because then you can infect a product right an output of that supply chain and then maybe even",
    "start": "764079",
    "end": "771279"
  },
  {
    "text": "reach out to more people right so it's the the key thing i want to to tell with this is that this is",
    "start": "771279",
    "end": "777360"
  },
  {
    "text": "something that's um it's it's it's happening and it's targeting a lot of different things and",
    "start": "777360",
    "end": "782959"
  },
  {
    "text": "even looking at libraries that we use and the supply chain that we have it becomes more complex and keep in mind",
    "start": "782959",
    "end": "788240"
  },
  {
    "text": "that each packet has has got its own supply chain also so a",
    "start": "788240",
    "end": "793600"
  },
  {
    "text": "library that's being built and being shared with with the developer community that",
    "start": "793600",
    "end": "798880"
  },
  {
    "text": "also is a supply chain and if that supply chain gets compromised and you use that library that inherently",
    "start": "798880",
    "end": "803920"
  },
  {
    "text": "means that your supply chain is also like compromised in the same way so there's they're closely tied together so",
    "start": "803920",
    "end": "810240"
  },
  {
    "text": "it's something to be aware of if we don't look at packages and supply",
    "start": "810240",
    "end": "815839"
  },
  {
    "text": "chain attacks like hey maybe we can just sign packages right that's that's that's a possibility we can get a code",
    "start": "815839",
    "end": "821440"
  },
  {
    "text": "signing certificate and we can sign a package and then it's all good",
    "start": "821440",
    "end": "826560"
  },
  {
    "text": "it turns out that signing nuget packages is not as trivial also it's expensive to get a code",
    "start": "826880",
    "end": "831920"
  },
  {
    "text": "shining certificate and there needs to be some steps done uh not a lot of packages do it themselves that's exactly what",
    "start": "831920",
    "end": "837839"
  },
  {
    "text": "phil hack writes about in the blog post of 2019 and the alternative would be to",
    "start": "837839",
    "end": "844560"
  },
  {
    "text": "do some some um let's say trust the owners of a specific package",
    "start": "844560",
    "end": "850800"
  },
  {
    "text": "that would be the alternative which you can say like hey if something is published by this by this development group and i",
    "start": "850800",
    "end": "856959"
  },
  {
    "text": "i will trust it right that's just that's a similar thing the key thing with this supply chain is",
    "start": "856959",
    "end": "862399"
  },
  {
    "text": "that it's it's it's a much broader pro problem it goes much wider and i can",
    "start": "862399",
    "end": "868000"
  },
  {
    "text": "even dedicate a whole session on this supply chain attacks on its own but keep in mind like let's",
    "start": "868000",
    "end": "874079"
  },
  {
    "text": "say if we have a package and we get it from nougat and it's signed what could possibly go wrong and i think",
    "start": "874079",
    "end": "879839"
  },
  {
    "text": "one good example i would like to share with you is something that happened to the asus live updater software that's being installed",
    "start": "879839",
    "end": "886560"
  },
  {
    "text": "on a new machine once you buy that right which is like the the update software that will reach out to asus if",
    "start": "886560",
    "end": "892399"
  },
  {
    "text": "there's any updates and then pulls it into the machine so it's not a development thing like a",
    "start": "892399",
    "end": "897519"
  },
  {
    "text": "third-party library that somebody programmed programming against no it's updating the machine itself in 2019",
    "start": "897519",
    "end": "904320"
  },
  {
    "text": "the people from kaspersky labs identified something that they called operation shadowhammer which",
    "start": "904320",
    "end": "909760"
  },
  {
    "text": "turned out that the asus live updated software its supply chain was compromised",
    "start": "909760",
    "end": "915120"
  },
  {
    "text": "and it's and it takes all the boxes and what i mean with that is that the package was",
    "start": "915120",
    "end": "921920"
  },
  {
    "text": "properly built according to all standards it was even signed with the acer certificate and the only",
    "start": "921920",
    "end": "928320"
  },
  {
    "text": "way you can see something was wrong with this package when you before you install it on your machine is look at its internals",
    "start": "928320",
    "end": "934480"
  },
  {
    "text": "and that's exactly what the kaspersky people did they identified some malicious activities or like some",
    "start": "934480",
    "end": "940000"
  },
  {
    "text": "malicious functionality inside libraries and they decided to investigate further right and a similar problem lies with",
    "start": "940000",
    "end": "946560"
  },
  {
    "text": "the way that we pull in libraries right if we trust the publisher or if we look at let's say",
    "start": "946560",
    "end": "952639"
  },
  {
    "text": "this comes from a trusted choice and it's not necessarily true that what's inside is really a valid thing to use",
    "start": "952639",
    "end": "957920"
  },
  {
    "text": "and that's the thing we're definitely going to touch more details on during this presentation",
    "start": "957920",
    "end": "963040"
  },
  {
    "text": "so these are different scenarios different third-party risks",
    "start": "963040",
    "end": "968959"
  },
  {
    "text": "right now let's move to the practical part of this presentation let's focus on an app that has some issues so i created a",
    "start": "968959",
    "end": "975600"
  },
  {
    "text": "demo app which of course is developed badly it lacks some best practices let's say like input",
    "start": "975600",
    "end": "981600"
  },
  {
    "text": "validation there's a lot of things that can can improve but there is a component used a third-party component",
    "start": "981600",
    "end": "987279"
  },
  {
    "text": "and that component itself has some issues to give you some sense of what the app is doing it's allowing you to administer some favorite",
    "start": "987279",
    "end": "994480"
  },
  {
    "text": "places and i like come up with a demo to say like hey i would like to have a list of places that i visited and maybe write down some",
    "start": "994480",
    "end": "1000880"
  },
  {
    "text": "stuff that i liked about it turned out that that is not such an original idea but",
    "start": "1000880",
    "end": "1006240"
  },
  {
    "text": "it fits the need for this presentation um small side note the photo that you're seeing right here is the nice uh",
    "start": "1006240",
    "end": "1012880"
  },
  {
    "text": "corporal port in in amazfort in the netherlands and it's it's a nice part to visit so let's move to the app and let's move",
    "start": "1012880",
    "end": "1019680"
  },
  {
    "text": "to vs code and let's dig into some code and then work through what we we've faced like what the problems that we're gonna",
    "start": "1019680",
    "end": "1026319"
  },
  {
    "text": "see today let me see i'm hoping i'm switching my screen",
    "start": "1026319",
    "end": "1032720"
  },
  {
    "text": "to vs code and i'm hoping that you're seeing my vs code right now",
    "start": "1032720",
    "end": "1039839"
  },
  {
    "text": "and you are seeing my screen so that's good i got a bit of slow response on my second screen over here",
    "start": "1048559",
    "end": "1054320"
  },
  {
    "text": "that's cool so let me do one more thing go back",
    "start": "1054320",
    "end": "1063200"
  },
  {
    "text": "now maximize this window get rid of this so",
    "start": "1064840",
    "end": "1071200"
  },
  {
    "text": "the first thing we're going to briefly dig into so this is the app the source code we're going to dig into i want to do a list package of this",
    "start": "1071200",
    "end": "1079200"
  },
  {
    "text": "project right so this is a cli command that will publish or that will show us all the top level",
    "start": "1079200",
    "end": "1084640"
  },
  {
    "text": "packages that are used by this application and what we see over here is that it's a network 3.1 app right that's the basic",
    "start": "1084640",
    "end": "1091440"
  },
  {
    "text": "profile and then we see it has a component which is called awesome pdf which",
    "start": "1091440",
    "end": "1096480"
  },
  {
    "text": "trust me isn't as awesome as it is because i created it but there are some transitive dependencies that have issues",
    "start": "1096480",
    "end": "1101679"
  },
  {
    "text": "inside which we're going to focus on and aside from that it also stores some data right so it needs some",
    "start": "1101679",
    "end": "1108000"
  },
  {
    "text": "sqlite entity framework or if we do the same command and then say let me also get a list of",
    "start": "1108000",
    "end": "1115760"
  },
  {
    "text": "the transitive dependencies then we will see the list",
    "start": "1115760",
    "end": "1121679"
  },
  {
    "text": "will be a lot longer right aside from the things that we need for our let's say uh net core 301 app",
    "start": "1121679",
    "end": "1129360"
  },
  {
    "text": "there's also a package added which is called itx7 which is probably used to create the pdfs",
    "start": "1129360",
    "end": "1136240"
  },
  {
    "text": "there is some bounty castle project inside which can be used for crypto and there's some ssl",
    "start": "1136240",
    "end": "1141760"
  },
  {
    "text": "being pulled in some native libraries so there's a lot more behind it right so we have the top level thing that i talked",
    "start": "1141760",
    "end": "1147919"
  },
  {
    "text": "about and the whole tree underneath which consists of this so let's close this terminal for now",
    "start": "1147919",
    "end": "1155200"
  },
  {
    "text": "let's just allow me to give a brief demo of the app and show you the problems that are inside",
    "start": "1155200",
    "end": "1161840"
  },
  {
    "text": "and and show you the security problems that this app has so it's just a basic mvc app",
    "start": "1161840",
    "end": "1168640"
  },
  {
    "text": "and it allows you to administer places right so it's default template work i'm no ui designer so",
    "start": "1168640",
    "end": "1175039"
  },
  {
    "text": "i just uh i just stick with what the default gives and of course what you see over here",
    "start": "1175039",
    "end": "1180320"
  },
  {
    "text": "there's a list of places and there's some data you can edit right over here you can see that there's a",
    "start": "1180320",
    "end": "1186240"
  },
  {
    "text": "name there's an image right that refers to what seems to be a file and there's a piece of text",
    "start": "1186240",
    "end": "1191600"
  },
  {
    "text": "which we can edit and if we then press the report button what would then happen is that it will",
    "start": "1191600",
    "end": "1197600"
  },
  {
    "text": "generate us a report which is a pdf that contains assuming the the picture you saw in in",
    "start": "1197600",
    "end": "1203360"
  },
  {
    "text": "that file name and the text and some some titles before i quickly continue i just want to",
    "start": "1203360",
    "end": "1210240"
  },
  {
    "text": "make one brief sidestep to one place being mentioned in this list and that's the one at the bottom",
    "start": "1210240",
    "end": "1216480"
  },
  {
    "text": "and that's a place called bidding you probably would ask like hey no it's what's minimal so this is the place where i grew up and spent 20 years",
    "start": "1216480",
    "end": "1223600"
  },
  {
    "text": "of my life and the next time if you create something on azure west europe then this is the data",
    "start": "1223600",
    "end": "1229919"
  },
  {
    "text": "center you will end up in and it's literally next to the village a small village where i grew up uh called miramir and it's usually it's",
    "start": "1229919",
    "end": "1237600"
  },
  {
    "text": "quite impressive to ride past it so if i visit my parents then i will see it and it's even an attractive area because",
    "start": "1237600",
    "end": "1244480"
  },
  {
    "text": "aside from microsoft google is also putting something next to it which is even bigger so there's a lot of stuff happening over",
    "start": "1244480",
    "end": "1250640"
  },
  {
    "text": "there but next time if you're creating something in west europe then be aware that that's",
    "start": "1250640",
    "end": "1256240"
  },
  {
    "text": "that's me to me right that's not even amsterdam the netherlands no it's mid so make sure that you",
    "start": "1256240",
    "end": "1262640"
  },
  {
    "text": "keep that in mind so let's now focus on the problems that this app has right so",
    "start": "1262640",
    "end": "1269760"
  },
  {
    "text": "as i said we can edit data and turns out that the pdf that has been generated has some relation between the name that",
    "start": "1269760",
    "end": "1277520"
  },
  {
    "text": "has been given to the place and the file name that it eventually creates as output right so yes no these are bad practices there's",
    "start": "1277520",
    "end": "1284880"
  },
  {
    "text": "no input validation but we're going to focus on the way that the component deals with this data so",
    "start": "1284880",
    "end": "1290159"
  },
  {
    "text": "we're just gonna work with that so if i then do a dot dot slash because i know that this is",
    "start": "1290159",
    "end": "1295760"
  },
  {
    "text": "uh this is a path and then say uh let's save this file as nfc or slow like",
    "start": "1295760",
    "end": "1301520"
  },
  {
    "text": "let's see save this name as this and if i then generate the report",
    "start": "1301520",
    "end": "1307200"
  },
  {
    "text": "we see that the report has got some weird name but i can also show you that inside the web server",
    "start": "1307200",
    "end": "1314559"
  },
  {
    "text": "there's a pdf created called nec oslo and it turns out that as i said the name",
    "start": "1314559",
    "end": "1320480"
  },
  {
    "text": "input is being used by the component to generate a file path and that's also known as a path reversal",
    "start": "1320480",
    "end": "1326559"
  },
  {
    "text": "or cwe 73 problem and it allows you to write pdf files",
    "start": "1326559",
    "end": "1331760"
  },
  {
    "text": "outside the root folder of the web application right we can even go up more levels dot dot slash dot slash there's a",
    "start": "1331760",
    "end": "1337120"
  },
  {
    "text": "lot of potential in in doing that the second problem we have is that we see over here there's an",
    "start": "1337120",
    "end": "1343600"
  },
  {
    "text": "image and there's an image that's a name which turns out to be just a file path also that loads images let me see i",
    "start": "1343600",
    "end": "1350000"
  },
  {
    "text": "think it's even one up and not there yes there it is so there's a folder that contains images",
    "start": "1350000",
    "end": "1355360"
  },
  {
    "text": "that can be loaded and that will be loaded by the report generation there is also the possibility",
    "start": "1355360",
    "end": "1362720"
  },
  {
    "text": "to not put in a file name but to put in a url instead of the image and the report that",
    "start": "1362720",
    "end": "1369679"
  },
  {
    "text": "we then generate will go out will fetch that image from",
    "start": "1369679",
    "end": "1374720"
  },
  {
    "text": "the internet put it inside of the report right and the problem that we see over here from security perspective is something",
    "start": "1374720",
    "end": "1381120"
  },
  {
    "text": "we call a server-side request for tree so input is being accepted from an",
    "start": "1381120",
    "end": "1386400"
  },
  {
    "text": "external and trusted source like an end user and then it will be used to do a request only half of the web server to some",
    "start": "1386400",
    "end": "1392880"
  },
  {
    "text": "other external source and in this case it goes to a web server to fetch that",
    "start": "1392880",
    "end": "1398080"
  },
  {
    "text": "image right in this case this is the market square in amazon but all the restaurants are so it will get it and it will put it in",
    "start": "1398080",
    "end": "1404640"
  },
  {
    "text": "so there's like those are the two main problems inside this app that we're gonna focus on",
    "start": "1404640",
    "end": "1409919"
  },
  {
    "text": "and that we're gonna fix by doing some other changes so let me quickly go back to vs code let",
    "start": "1409919",
    "end": "1416080"
  },
  {
    "text": "me show you some of the code that's behind because it's relatively simple but i just want you to",
    "start": "1416080",
    "end": "1421360"
  },
  {
    "text": "see the way that the reports are being generated because that's the code that we're going to focus on",
    "start": "1421360",
    "end": "1427279"
  },
  {
    "text": "so the project itself has a dependency a package reference",
    "start": "1427279",
    "end": "1433760"
  },
  {
    "text": "that references the awesome pdf component right that's the thing",
    "start": "1433760",
    "end": "1438559"
  },
  {
    "text": "and the um in this case it will instantiate a generator that we see over",
    "start": "1439039",
    "end": "1444880"
  },
  {
    "text": "here it will say hey please generate the pdf for me or pass on the data right of the title the image and the text that's",
    "start": "1444880",
    "end": "1451360"
  },
  {
    "text": "being used and afterwards it will then return a file content result that would read the",
    "start": "1451360",
    "end": "1456400"
  },
  {
    "text": "bytes and it will stream back to pdf to the end user so this is the functionality of the",
    "start": "1456400",
    "end": "1462559"
  },
  {
    "text": "the controller that gets the the third party library the pdf generator and uses it",
    "start": "1462559",
    "end": "1467840"
  },
  {
    "text": "and produces the output that comes back we're going to move back to the slides",
    "start": "1467840",
    "end": "1473760"
  },
  {
    "text": "and recap briefly what we have seen so two problems the pet reversal right so",
    "start": "1473760",
    "end": "1480159"
  },
  {
    "text": "the dynamic creation of the file pad that that's been externally controlled so that's something that somebody can type in",
    "start": "1480159",
    "end": "1486000"
  },
  {
    "text": "let's say this is a social media thing that everybody can like jump into then",
    "start": "1486000",
    "end": "1491120"
  },
  {
    "text": "of course that from that perspective and that audience there will be more users and there will",
    "start": "1491120",
    "end": "1496960"
  },
  {
    "text": "be more risk and as i already tell told you like there's",
    "start": "1496960",
    "end": "1502400"
  },
  {
    "text": "there are different ways and you can probably traverse directories and write out files one constraint it has is that it will always",
    "start": "1502400",
    "end": "1508559"
  },
  {
    "text": "be a pdf that it writes out right because that's the thing that the component will create for us so we cannot create any other files",
    "start": "1508559",
    "end": "1515440"
  },
  {
    "text": "and it will also add a dot pdf extension to that output file that it creates by default so",
    "start": "1515440",
    "end": "1522559"
  },
  {
    "text": "keep in mind that file systems and directory names of ipads have constraints on systems right which might",
    "start": "1522559",
    "end": "1529120"
  },
  {
    "text": "result in truncation of filename so there might be a possibility for us to override the or like cut off the",
    "start": "1529120",
    "end": "1535440"
  },
  {
    "text": "extension and then write back another file in some location so there is a lot of potential that's what",
    "start": "1535440",
    "end": "1541919"
  },
  {
    "text": "i'm trying to say and uh it allows you to override so that's that's problem one the second problem",
    "start": "1541919",
    "end": "1547840"
  },
  {
    "text": "it's a service i request forgery which is also known as cwe 918",
    "start": "1547840",
    "end": "1552880"
  },
  {
    "text": "which is by which will be identified as an information disclosure but it's i think it's a lot more powerful than just",
    "start": "1552880",
    "end": "1559039"
  },
  {
    "text": "the information disclosure let me explain to you by based on a couple of examples so it's also possible to access files",
    "start": "1559039",
    "end": "1568240"
  },
  {
    "text": "based on this right so you can also express yourself put that file slash url handler to some file that you",
    "start": "1568240",
    "end": "1574640"
  },
  {
    "text": "want to open and then maybe see what's inside you can also connect maybe to say like hey i",
    "start": "1574640",
    "end": "1580240"
  },
  {
    "text": "want to connect to http localhost 3306 which implicitly of course is the mysql server",
    "start": "1580240",
    "end": "1585760"
  },
  {
    "text": "port and if that one is open then you might get a response back from that right so if you put that inside of the",
    "start": "1585760",
    "end": "1592159"
  },
  {
    "text": "the image url then that will be done by the by the web server and it will request data that's on that location",
    "start": "1592159",
    "end": "1599200"
  },
  {
    "text": "the third url probably is familiar for the people who run with azure right that's the metadata service that you can",
    "start": "1599200",
    "end": "1604480"
  },
  {
    "text": "access from azure and if you put in this url then supposedly it should get",
    "start": "1604480",
    "end": "1609520"
  },
  {
    "text": "the metadata that's tied to that azure vm instance where this is running in",
    "start": "1609520",
    "end": "1614640"
  },
  {
    "text": "if this application would have been deployed on azure luckily i think there was some kind of",
    "start": "1614640",
    "end": "1620720"
  },
  {
    "text": "trap model that like saw this and with azure there is a need to also add a custom header and you",
    "start": "1620720",
    "end": "1626559"
  },
  {
    "text": "cannot do that request without that custom header so this won't be a vulnerable in in azure if you do",
    "start": "1626559",
    "end": "1633760"
  },
  {
    "text": "this on the other end if we then look at other cloud vendors so the thing that",
    "start": "1633760",
    "end": "1638799"
  },
  {
    "text": "happened with capital one and its data breach that was in august 2019 of last year it turned out they had a",
    "start": "1638799",
    "end": "1645600"
  },
  {
    "text": "server-side request for three issues in one of the apps that they run they run on as on their aws and somebody",
    "start": "1645600",
    "end": "1652240"
  },
  {
    "text": "was unable to get the metadata service from aws to expose information and that also",
    "start": "1652240",
    "end": "1658159"
  },
  {
    "text": "contained tokens that allow you to get access keys to s3 buckets and that was exactly how that server",
    "start": "1658159",
    "end": "1665360"
  },
  {
    "text": "side request for the issue was used to then do the data breach and i believe even",
    "start": "1665360",
    "end": "1670640"
  },
  {
    "text": "that app was running behind a web application firewall and it was all locked down but keep in",
    "start": "1670640",
    "end": "1676000"
  },
  {
    "text": "mind that if this web request is done by the web server you're already in that server right and it will be done on that",
    "start": "1676000",
    "end": "1681440"
  },
  {
    "text": "behalf and that's exactly what happened so it's quite powerful in our case there's not much",
    "start": "1681440",
    "end": "1686960"
  },
  {
    "text": "like we cannot like grab a file or read its contents because where the pdf component will constraint",
    "start": "1686960",
    "end": "1692720"
  },
  {
    "text": "us to only grabbing images and it will fail miserably if we load something else",
    "start": "1692720",
    "end": "1697840"
  },
  {
    "text": "aside of an image but we can definitely use it to probe and to see",
    "start": "1697840",
    "end": "1702960"
  },
  {
    "text": "uh and use it as a side channel by saying like hey if this file is present then the request will probably",
    "start": "1702960",
    "end": "1708320"
  },
  {
    "text": "be a little bit quicker than if the file is not present right and then use it as a so-called side channel",
    "start": "1708320",
    "end": "1714320"
  },
  {
    "text": "if you're still not convinced about server side request 4g being an issue then i would suggest you look for book bounty stories and also include the",
    "start": "1714320",
    "end": "1721200"
  },
  {
    "text": "acronym of of server side request forgery you will find a lot of good stories where people explain how they hack the",
    "start": "1721200",
    "end": "1727120"
  },
  {
    "text": "system and where usually surface io quest 4g is one of the stepping stones that they used",
    "start": "1727120",
    "end": "1732240"
  },
  {
    "text": "in order to get the hack done so i think this is also one that has a lot of potential so",
    "start": "1732240",
    "end": "1738159"
  },
  {
    "text": "moving out and moving to the next part is that a way for us to do a better job",
    "start": "1738159",
    "end": "1744799"
  },
  {
    "text": "right and i would like to focus on the way that the app uses the pdf component to generate",
    "start": "1744799",
    "end": "1750399"
  },
  {
    "text": "the output maybe there are ways for us to isolate this functionality and to walk down its capabilities right",
    "start": "1750399",
    "end": "1759279"
  },
  {
    "text": "and i would like to focus on doing it in c sharp in code and also within the same process and i",
    "start": "1759279",
    "end": "1765600"
  },
  {
    "text": "also would like to just take the pdf library and use as is i don't want to have any changes on it",
    "start": "1765600",
    "end": "1771120"
  },
  {
    "text": "right maybe there's another way for us to create a sandbox for that pdf log",
    "start": "1771120",
    "end": "1776320"
  },
  {
    "text": "within the mvc app and preferably as a box that has limited capabilities",
    "start": "1776320",
    "end": "1781840"
  },
  {
    "text": "if we then look into the net ecosystem in general then would that be a component that maybe",
    "start": "1781840",
    "end": "1787679"
  },
  {
    "text": "fits our needs and the answer is yes there was a component that would fit",
    "start": "1787679",
    "end": "1793360"
  },
  {
    "text": "our needs which is called system.app domain and if we looked into the definition of the of it",
    "start": "1793360",
    "end": "1799760"
  },
  {
    "text": "it says that it's a isolation boundary for security reliability versioning and unloading of",
    "start": "1799760",
    "end": "1804960"
  },
  {
    "text": "assemblies and the most trivial thing it has been",
    "start": "1804960",
    "end": "1810000"
  },
  {
    "text": "around since the first bits of net and which in combination with codex is security you can take one app domain",
    "start": "1810000",
    "end": "1816159"
  },
  {
    "text": "and create a second one inside of it and then allow it to load some untrusted code that was the",
    "start": "1816159",
    "end": "1821840"
  },
  {
    "text": "examples you saw in the beginning right which is kind of similar the similar part that i would like to approach with this",
    "start": "1821840",
    "end": "1827600"
  },
  {
    "text": "application if there are people in the room that are",
    "start": "1827600",
    "end": "1832640"
  },
  {
    "text": "like developing with asp.net core two oh they probably otherwire with something called trust levels which was an implementation of code access security",
    "start": "1832640",
    "end": "1840080"
  },
  {
    "text": "on top of an app domain that was on an is server and what that resulted in",
    "start": "1840080",
    "end": "1845360"
  },
  {
    "text": "is that if a single process is run and that was like the shared hosting time when everybody was",
    "start": "1845360",
    "end": "1850880"
  },
  {
    "text": "on the same web server and if you then within the application within the net application request the",
    "start": "1850880",
    "end": "1857679"
  },
  {
    "text": "temporary files then you'll get the temporary files of everybody but if you had trust level",
    "start": "1857679",
    "end": "1863600"
  },
  {
    "text": "medium then that was not allowed because that was like being a lot down as from 2017 microsoft stated don't use",
    "start": "1863600",
    "end": "1871279"
  },
  {
    "text": "this as a security boundary because it isn't and it turns out that there is a a mutex and",
    "start": "1871279",
    "end": "1876720"
  },
  {
    "text": "memory even a user memory that you can just like flip and that will allow you to turn it off",
    "start": "1876720",
    "end": "1882240"
  },
  {
    "text": "and you can completely circumvent it and if you're interested in seeing some code come reach come reach me afterwards i",
    "start": "1882240",
    "end": "1887760"
  },
  {
    "text": "can share that with you one other thing is that system.app domain is also not fully supported with",
    "start": "1887760",
    "end": "1893679"
  },
  {
    "text": "netcore and what i mean with that is that there is a knowledge of app domain but there's only a single instance of an",
    "start": "1893679",
    "end": "1899840"
  },
  {
    "text": "app domain once an application start and we not we cannot create a second app domain inside of it so",
    "start": "1899840",
    "end": "1905519"
  },
  {
    "text": "that's unfortunate luckily there are some internals that are being moved out of app domain that",
    "start": "1905519",
    "end": "1911600"
  },
  {
    "text": "are being like added to the base class library and that's that has got a lot of potential",
    "start": "1911600",
    "end": "1916880"
  },
  {
    "text": "and that one is called a system that was that's in system random loader",
    "start": "1916880",
    "end": "1921919"
  },
  {
    "text": "but it's called assembly load contents if we look up the definition of that then that's the scope for loading",
    "start": "1921919",
    "end": "1928559"
  },
  {
    "text": "resolving and unloading a set of assemblies and the demos you see around the assembly load context is that it's",
    "start": "1928559",
    "end": "1934559"
  },
  {
    "text": "usually used to load different versions of a same dll inside of a single process",
    "start": "1934559",
    "end": "1940240"
  },
  {
    "text": "i think last year david fowler showed the demo where he took two assembly load contexts and loaded",
    "start": "1940240",
    "end": "1946320"
  },
  {
    "text": "different versions of newton's soft.json or and there was the demo he showed right so that's something that's",
    "start": "1946320",
    "end": "1951919"
  },
  {
    "text": "possible inside the concept that we're going to move on to after after this slide and we're going to move back to vs code i'm",
    "start": "1951919",
    "end": "1958240"
  },
  {
    "text": "also going to use a concept called self-contained deployment and i just want to briefly explain that",
    "start": "1958240",
    "end": "1963919"
  },
  {
    "text": "if you do a publish of a net core app within the cli you can also do something called a",
    "start": "1963919",
    "end": "1968960"
  },
  {
    "text": "self-contained deployment which means that the the output of that publish",
    "start": "1968960",
    "end": "1974000"
  },
  {
    "text": "will contain the application and all those dependencies that it needs in order to run so everything inside that folder will be",
    "start": "1974000",
    "end": "1982000"
  },
  {
    "text": "the the assemblies that you need in order to run that application right and in conjunction with assembly load",
    "start": "1982000",
    "end": "1988080"
  },
  {
    "text": "context i think that can be a quite powerful concept to use so when i initially",
    "start": "1988080",
    "end": "1993600"
  },
  {
    "text": "worked on this i used the plugins library which was created by nate mcmaster who was then",
    "start": "1993600",
    "end": "1999519"
  },
  {
    "text": "working for the asp.net team and working on asp.net core and as from",
    "start": "1999519",
    "end": "2004640"
  },
  {
    "text": "net core 3.0 assembly load context surfaced a bit there was more things",
    "start": "2004640",
    "end": "2009840"
  },
  {
    "text": "exposed with it and you can easily implement your own so that's exactly what i did for the demos after that",
    "start": "2009840",
    "end": "2017039"
  },
  {
    "text": "so enough said let's move back to vs code and let's dig into some code and",
    "start": "2017200",
    "end": "2023600"
  },
  {
    "text": "see if we can fix it",
    "start": "2023600",
    "end": "2026799"
  },
  {
    "text": "so first let me switch to another folder and let me show you what we're",
    "start": "2029600",
    "end": "2036799"
  },
  {
    "text": "gonna do right now so i've explained a lot i talked about assembly load context just",
    "start": "2036799",
    "end": "2042880"
  },
  {
    "text": "bear with me i'm gonna talk you through like how the solution works and and how eventually we're gonna like hopefully",
    "start": "2042880",
    "end": "2048638"
  },
  {
    "text": "sandbox the functionality of the pdf library the first thing that we need to do is to",
    "start": "2048639",
    "end": "2053679"
  },
  {
    "text": "make sure that we take out the pdf generation itself and and put it in the library that it's like",
    "start": "2053679",
    "end": "2059919"
  },
  {
    "text": "on its own that we can put it someplace else or maybe even write it in a different process if we eventually want to do that",
    "start": "2059919",
    "end": "2067040"
  },
  {
    "text": "there's one thing we do need and it's a definition of like how can we talk to that um to that library and the first",
    "start": "2067040",
    "end": "2073280"
  },
  {
    "text": "thing that i've identified is is an interface right the interface is just the contract and if you can recall",
    "start": "2073280",
    "end": "2078878"
  },
  {
    "text": "the controller we saw earlier in this presentation this method just matches the generation",
    "start": "2078879",
    "end": "2084000"
  },
  {
    "text": "of the pdf and it's in an interface if we then look at my pdf library that's",
    "start": "2084000",
    "end": "2090800"
  },
  {
    "text": "the project that has the reference to awesome pdf right so that that's the package",
    "start": "2090800",
    "end": "2096240"
  },
  {
    "text": "reference to the pdf generation itself and if we don't look inside that then we see that there's an implementation",
    "start": "2096240",
    "end": "2102079"
  },
  {
    "text": "of ipdf service right so this is a component that matches that interface",
    "start": "2102079",
    "end": "2107200"
  },
  {
    "text": "and that if we look at line 15 on line 16 we see that there's that functionality that we saw earlier right",
    "start": "2107200",
    "end": "2114079"
  },
  {
    "text": "instantiate the pdf generator and generate the pdf and return the results back",
    "start": "2114079",
    "end": "2120320"
  },
  {
    "text": "so what happened here um is that this library contains the pdf generation",
    "start": "2120320",
    "end": "2125599"
  },
  {
    "text": "and we've isolated it in something separate i did put in two copays",
    "start": "2125599",
    "end": "2130800"
  },
  {
    "text": "um calls over here and i put them into strings and that's something for the demo purpose you will see later on",
    "start": "2130800",
    "end": "2136320"
  },
  {
    "text": "because i want to show you where these types reside and from which folder it's loaded because that's the essence",
    "start": "2136320",
    "end": "2142320"
  },
  {
    "text": "of the thing that we're doing so now let's focus on how we're then going to use this",
    "start": "2142320",
    "end": "2148320"
  },
  {
    "text": "component from our mvc app to have more control over what's happening right and still we don't want to change",
    "start": "2148320",
    "end": "2155359"
  },
  {
    "text": "the pdf library we just want to use it as is first let's quickly see",
    "start": "2155359",
    "end": "2162240"
  },
  {
    "text": "that i'm not faking that i'm so i removed the reference to awesome pdf right it's",
    "start": "2162240",
    "end": "2167359"
  },
  {
    "text": "not here anymore it's just doing the data entry and there's a project reference that points out to the interface library",
    "start": "2167359",
    "end": "2174000"
  },
  {
    "text": "because that's the that's the contract we you use in order to talk to that component",
    "start": "2174000",
    "end": "2181440"
  },
  {
    "text": "if we then move to let's go to the load contacts right now",
    "start": "2182240",
    "end": "2187839"
  },
  {
    "text": "so i've implemented my own assembly load contacts that does some things and there's a lot of stuff happening i will just explain to",
    "start": "2187839",
    "end": "2194320"
  },
  {
    "text": "you how the decision making goes within this thing and if you're interested in seeing the code then in my last",
    "start": "2194320",
    "end": "2200000"
  },
  {
    "text": "slide i will have a link to a repo which is already there that contains all this code and you can just go through it",
    "start": "2200000",
    "end": "2205839"
  },
  {
    "text": "yourself but in this case what we're doing over here is that we create an assembly load",
    "start": "2205839",
    "end": "2211599"
  },
  {
    "text": "context our own and we define a path and that's the path that will can that will have the",
    "start": "2211599",
    "end": "2218160"
  },
  {
    "text": "self-contained deployment of our mypdf library right so that's in essence what we're going to do",
    "start": "2218160",
    "end": "2223920"
  },
  {
    "text": "i'm going to deploy that thing later on and you will see um there's a self-contained deployment published done",
    "start": "2223920",
    "end": "2229839"
  },
  {
    "text": "to a folder that's a subfolder of this app and the second argument is the share type that i talked about so",
    "start": "2229839",
    "end": "2235839"
  },
  {
    "text": "if you have two assembly load contacts and if you download type a in a context uh the first context",
    "start": "2235839",
    "end": "2243440"
  },
  {
    "text": "and type a in the second context and if you would then compare those types then they will not match",
    "start": "2243440",
    "end": "2248640"
  },
  {
    "text": "so what we do need to do is that we need to have some shared type and that's the interface in order to talk to the the pdf",
    "start": "2248640",
    "end": "2255839"
  },
  {
    "text": "generation that's in the second load context that's what we're doing so we need to keep track of those so",
    "start": "2255839",
    "end": "2260960"
  },
  {
    "text": "that's exactly what happens in that second part of that constructor then the load function takes care of",
    "start": "2260960",
    "end": "2266720"
  },
  {
    "text": "logic and what it does is like hey are you interested in maybe a shared library then you will",
    "start": "2266720",
    "end": "2273119"
  },
  {
    "text": "return null and what that means is that this load context will tell the default one which is like the root of the app",
    "start": "2273119",
    "end": "2279280"
  },
  {
    "text": "should just take care of it right and in case of the interface we want that the second thing is that we take the",
    "start": "2279280",
    "end": "2284960"
  },
  {
    "text": "assembly resolver which is also part of the framework dependency the assembly dependency resolver",
    "start": "2284960",
    "end": "2290720"
  },
  {
    "text": "that's part of the network framework that will then do the resolving based on the assembly name and it will give you a",
    "start": "2290720",
    "end": "2295839"
  },
  {
    "text": "path back and that's a path we're going to use to load that assembly and if it's not found if it's not part",
    "start": "2295839",
    "end": "2302720"
  },
  {
    "text": "of that folder that we have that self-contained deployment of that mypdf",
    "start": "2302720",
    "end": "2307920"
  },
  {
    "text": "component inside then we're going to say like hey we're not able to load it we want to stop underneath there is a function that also",
    "start": "2307920",
    "end": "2315599"
  },
  {
    "text": "does the same for unmanaged libraries and it is a bit of a trick because i'm not doing a return no but i'm",
    "start": "2315599",
    "end": "2321359"
  },
  {
    "text": "returning an endpoint to zero because a self-contained deployment should have",
    "start": "2321359",
    "end": "2327839"
  },
  {
    "text": "all dependencies and even if you're like doing cross-platform right for mac osx there might be different",
    "start": "2327839",
    "end": "2332880"
  },
  {
    "text": "dependencies needed than if you would deploy this app on linux right there are some differences in it um there also are some exceptions to the",
    "start": "2332880",
    "end": "2340880"
  },
  {
    "text": "self-contained deployment that are still the libraries that are coming from the system itself and are not part",
    "start": "2340880",
    "end": "2346320"
  },
  {
    "text": "of of the the self-contained deployment so there's no way that we can control it so for that reason",
    "start": "2346320",
    "end": "2351920"
  },
  {
    "text": "i'm still pushing back on something and it's loading but the functionality that we're going to patch is solely",
    "start": "2351920",
    "end": "2357280"
  },
  {
    "text": "focused on managed code so we're fine with that right so this is the isolated context and now",
    "start": "2357280",
    "end": "2364400"
  },
  {
    "text": "we need to make sure that the controller has got the piece available right so if",
    "start": "2364400",
    "end": "2369680"
  },
  {
    "text": "we quickly take a peek into the controller and if we then move to the report method which is a bit below here oh that's file",
    "start": "2369680",
    "end": "2377040"
  },
  {
    "text": "it's a bit up there it is what we see over here is that we have an ipdf service",
    "start": "2377040",
    "end": "2382560"
  },
  {
    "text": "if we scroll up to the constructor we see that that's the interface right it's the interface that gets injected by",
    "start": "2382560",
    "end": "2388079"
  },
  {
    "text": "asp.net core the i over here we just replace that with the call to that interface",
    "start": "2388079",
    "end": "2393440"
  },
  {
    "text": "that's all that has been changed for this controller right so it's not talking directly to an instance",
    "start": "2393440",
    "end": "2398480"
  },
  {
    "text": "it's talking to the interface and of course we need to do something about having that interface available in our",
    "start": "2398480",
    "end": "2404240"
  },
  {
    "text": "services ti and that is this part of the code base once again",
    "start": "2404240",
    "end": "2409760"
  },
  {
    "text": "i'm i'm i'm i'm i'm confident that this is not the most efficient way but it works",
    "start": "2409760",
    "end": "2415440"
  },
  {
    "text": "but let me just briefly walk you through what's happening here so we create an isolated load contacts as you just saw",
    "start": "2415440",
    "end": "2421359"
  },
  {
    "text": "and we restrict it to that directory where mypdf libraries publish is being done inside of right",
    "start": "2421359",
    "end": "2427839"
  },
  {
    "text": "then we're going to say okay load that load those assemblies that are there",
    "start": "2427839",
    "end": "2433200"
  },
  {
    "text": "and then ask that load contacts to give back all its types that are available",
    "start": "2433200",
    "end": "2438240"
  },
  {
    "text": "and for each of the types that i find i will say like hey does this match ipdf servers and if that is the case",
    "start": "2438240",
    "end": "2445280"
  },
  {
    "text": "then i'm going to create an instance and add it as a singleton to our services ti for this asp.net core application right",
    "start": "2445280",
    "end": "2452480"
  },
  {
    "text": "so that isolated context will create my pdf service that matches",
    "start": "2452480",
    "end": "2458319"
  },
  {
    "text": "this interface right and that will then be added and then can be used so that's in essence what we have done so we've taken out that functionality",
    "start": "2458319",
    "end": "2464880"
  },
  {
    "text": "put it inside of a library that they can control more and of course as i said i need to make sure that it's published that's what i'm",
    "start": "2464880",
    "end": "2470880"
  },
  {
    "text": "going to do right now and i don't want to be like um doing the demo god so there's a build script for",
    "start": "2470880",
    "end": "2477440"
  },
  {
    "text": "that and it's inside of my pdf library folder so there's a build deployed",
    "start": "2477440",
    "end": "2487119"
  },
  {
    "text": "and to show you that it's not anything fancy just quickly opening it up so what it",
    "start": "2487359",
    "end": "2492800"
  },
  {
    "text": "does it does a publish right of this version and it and it does the",
    "start": "2492800",
    "end": "2498160"
  },
  {
    "text": "output and it does a self-contained deployment of this library and if we then look into and what i also",
    "start": "2498160",
    "end": "2504079"
  },
  {
    "text": "do is i copy it to the bing debug location of this project right so i can use it",
    "start": "2504079",
    "end": "2509760"
  },
  {
    "text": "because that's the way it expects it to be in that path so let's now start out the the project",
    "start": "2509760",
    "end": "2518160"
  },
  {
    "text": "let me quickly just make sure that i got some breakpoints set so we can dig into and see what's happening that one is in",
    "start": "2518160",
    "end": "2524800"
  },
  {
    "text": "make sure that it's set so let's now start the app again",
    "start": "2524800",
    "end": "2529838"
  },
  {
    "text": "and let's see where the types are loaded right because that's the thing i'm mostly interested in seeing",
    "start": "2530560",
    "end": "2536640"
  },
  {
    "text": "so we got the same app again we can do the places right we can do the edit and of course the thing that we're",
    "start": "2536640",
    "end": "2543200"
  },
  {
    "text": "interested in seeing is reporting we get into this function and if we",
    "start": "2543200",
    "end": "2550960"
  },
  {
    "text": "don't step into we end up in the pdf generation library that we just implemented",
    "start": "2550960",
    "end": "2556000"
  },
  {
    "text": "and i would like to step over these two invocations and what we then see is that we have",
    "start": "2556000",
    "end": "2562960"
  },
  {
    "text": "loaded my pdf project from a subfolder inside of our bin debug form of this",
    "start": "2562960",
    "end": "2569280"
  },
  {
    "text": "mvc project right so that's exactly what we want and we also see that the http client and that's the thing",
    "start": "2569280",
    "end": "2575760"
  },
  {
    "text": "we're going to focus on after this is also being loaded from that same subfolder right so mypdf",
    "start": "2575760",
    "end": "2583000"
  },
  {
    "text": "library.systemnet.http.dll there is there if you request that type http client from this",
    "start": "2583000",
    "end": "2590560"
  },
  {
    "text": "load context and it will come from that thing right so then we can just continue and you will",
    "start": "2590560",
    "end": "2595839"
  },
  {
    "text": "see that the pdf will just be generated you get output so go back to the the browser we will see like hey this works",
    "start": "2595839",
    "end": "2603119"
  },
  {
    "text": "right so right now what we have done is we've taken out the pdf generation we put it inside that",
    "start": "2603119",
    "end": "2609200"
  },
  {
    "text": "separate load context that has limitation on where it gets its assemblies so maybe we can just be stubborn and",
    "start": "2609200",
    "end": "2615920"
  },
  {
    "text": "maybe just remove http client from this whole equation because right there's there are two ways we can",
    "start": "2615920",
    "end": "2622560"
  },
  {
    "text": "generate a report based on on a file name and we can put in the url as we saw earlier",
    "start": "2622560",
    "end": "2629920"
  },
  {
    "text": "so let's just quickly put in that url for the demos purposes hold on for a",
    "start": "2631200",
    "end": "2637440"
  },
  {
    "text": "second so save let me quickly just report to show you that this is also still working",
    "start": "2637440",
    "end": "2643839"
  },
  {
    "text": "because we're going to mingle some with some types so yes right market square looking good",
    "start": "2643839",
    "end": "2651119"
  },
  {
    "text": "okay cool so as i said let's now be stubborn let's just do the following let me maximize the",
    "start": "2651119",
    "end": "2658480"
  },
  {
    "text": "terminal a bits and we need to go to favorite places bin",
    "start": "2658480",
    "end": "2665839"
  },
  {
    "text": "debug folder",
    "start": "2665839",
    "end": "2668960"
  },
  {
    "text": "as i said this is the mypdf library right so this is the the debug output of the app itself unless",
    "start": "2671200",
    "end": "2678400"
  },
  {
    "text": "right there and you see like this is like the normal thing you will get with an mvc app and if we then look into the my pdf library",
    "start": "2678400",
    "end": "2685040"
  },
  {
    "text": "subfolder then we will find all the other libraries right and it's i text it's",
    "start": "2685040",
    "end": "2690079"
  },
  {
    "text": "awesome pdf it's all there and as i said why not be stubborn and delete",
    "start": "2690079",
    "end": "2696800"
  },
  {
    "text": "everything related to system.net.http let us now restart the app and see what",
    "start": "2696800",
    "end": "2702960"
  },
  {
    "text": "happens [Music]",
    "start": "2702960",
    "end": "2708869"
  },
  {
    "text": "just waiting for a bit to rebuild and the debugger to be attached so if we now",
    "start": "2709599",
    "end": "2716960"
  },
  {
    "text": "generate a report still get the breakpoints let me turn",
    "start": "2716960",
    "end": "2724079"
  },
  {
    "text": "those off for now and let us continue we will get an exception right because in this case",
    "start": "2724079",
    "end": "2731040"
  },
  {
    "text": "we saw that there was a url that will normally grab that picture from that external location",
    "start": "2731040",
    "end": "2737200"
  },
  {
    "text": "and then get it in right and that's so this looks like this has succeeded or like we fixed",
    "start": "2737200",
    "end": "2743359"
  },
  {
    "text": "something but let's check it and let's go back what if we right now",
    "start": "2743359",
    "end": "2749040"
  },
  {
    "text": "do a report with a file that's local to the system and there for some reason there's still a codepath that relies on http client to",
    "start": "2749040",
    "end": "2755839"
  },
  {
    "text": "be there so this is not the solution so what if we replace this http client",
    "start": "2755839",
    "end": "2762240"
  },
  {
    "text": "with a stub and that's exactly what we're going to do right now so let me quickly show you a file a single file",
    "start": "2762240",
    "end": "2770079"
  },
  {
    "text": "this is inside a different project and if you see the namespaces matches http client",
    "start": "2770079",
    "end": "2775920"
  },
  {
    "text": "and it has a method called getstream async right that accepts uri and what we're going to do in that body",
    "start": "2775920",
    "end": "2781839"
  },
  {
    "text": "is throw another supported exception and say like hey you're allowed to do this let me quickly",
    "start": "2781839",
    "end": "2788560"
  },
  {
    "text": "deploy this and once again you already have guessed it i got a script to do that",
    "start": "2788560",
    "end": "2794000"
  },
  {
    "text": "and i need to make sure that i'm in the right folder there is system.net.http there's a build",
    "start": "2794000",
    "end": "2800640"
  },
  {
    "text": "deploy script which will copy this http client to that bin debug folder of",
    "start": "2800640",
    "end": "2806560"
  },
  {
    "text": "favorite places right off the app that we're looking at with this vs code instance so let's close this let's close this one",
    "start": "2806560",
    "end": "2813520"
  },
  {
    "text": "also let's do um let's skip one more shot",
    "start": "2813520",
    "end": "2819760"
  },
  {
    "text": "i also need to keep an eye on the time and move on after this to the next stage so",
    "start": "2819760",
    "end": "2826160"
  },
  {
    "text": "what if we now want to do based on a file",
    "start": "2828000",
    "end": "2831838"
  },
  {
    "text": "looking good right this is the nice thing of boston and if we don't go back",
    "start": "2834160",
    "end": "2839200"
  },
  {
    "text": "and then try it with the one that has a url we nicely get our exception like hey you're",
    "start": "2839200",
    "end": "2845599"
  },
  {
    "text": "not allowed to use this and to show you that i'm not tricking is that within",
    "start": "2845599",
    "end": "2850960"
  },
  {
    "text": "the controller and you probably have seen it in the beginning when i scrolled back there's another method called file and the file action will get",
    "start": "2850960",
    "end": "2858960"
  },
  {
    "text": "a file which is the same photo you saw earlier so let us quickly do a break point over",
    "start": "2858960",
    "end": "2864800"
  },
  {
    "text": "there let me go back to this solution and then let's request that action to show you that we're still able to",
    "start": "2864800",
    "end": "2872640"
  },
  {
    "text": "grab files right so in this case this is the main load context and what we see over here",
    "start": "2872640",
    "end": "2878480"
  },
  {
    "text": "is that the code base of http client is our shared folder right so we can",
    "start": "2878480",
    "end": "2884000"
  },
  {
    "text": "still use that and this is the main assembly load context so we can still grab that image as we",
    "start": "2884000",
    "end": "2889280"
  },
  {
    "text": "see over here and that's still intact so we have separated that functionality so this is this is a success",
    "start": "2889280",
    "end": "2896559"
  },
  {
    "text": "i'm going to quickly recap this so first this is a concept right and",
    "start": "2896559",
    "end": "2903760"
  },
  {
    "text": "i can definitely see issues like this is not something you can fit into a developer workflow and i'm definitely considering",
    "start": "2903760",
    "end": "2909680"
  },
  {
    "text": "like hey what are the things that i can change in order to make it more accessible but i think this definitely has a lot of potential",
    "start": "2909680",
    "end": "2915359"
  },
  {
    "text": "by having that separate load context and having control over the types that are being loaded because you're just going to strip out",
    "start": "2915359",
    "end": "2921520"
  },
  {
    "text": "the types that you don't want the library to use without changing the library itself right so you're just going to take the",
    "start": "2921520",
    "end": "2927040"
  },
  {
    "text": "bcl calls that it does and do something with it as i've shown before",
    "start": "2927040",
    "end": "2932720"
  },
  {
    "text": "one one one thing that is similar to this would be the um the ir linker that was",
    "start": "2932720",
    "end": "2939040"
  },
  {
    "text": "released with dotnet codrio which does some kind of tree shaking so it is introduced to do some size",
    "start": "2939040",
    "end": "2945839"
  },
  {
    "text": "reducing of your app if you're deploying it i can also imagine that you might might want to be more aggressive and strip out",
    "start": "2945839",
    "end": "2952559"
  },
  {
    "text": "types um i'm gonna talk about api reviews and there's a tool that i'm working on right",
    "start": "2952559",
    "end": "2957920"
  },
  {
    "text": "now and i'm developing a version that also can do patches in the same way you saw that i did it with that stop i just put in",
    "start": "2957920",
    "end": "2964640"
  },
  {
    "text": "so keep an eye out on that but with that said i just want to briefly touch the way",
    "start": "2964640",
    "end": "2970480"
  },
  {
    "text": "that we develop software right now right this is a this is a monolith application you saw earlier and it has all the",
    "start": "2970480",
    "end": "2976079"
  },
  {
    "text": "functionality glued into one single solution if you would have created this app in an",
    "start": "2976079",
    "end": "2981599"
  },
  {
    "text": "enterprise environment you probably would have created a separate version of let's say a micro surface that does",
    "start": "2981599",
    "end": "2986640"
  },
  {
    "text": "the pdf generation or maybe even a function or a serverless thing cloud native thing",
    "start": "2986640",
    "end": "2991920"
  },
  {
    "text": "that does that thing for you right which is like more isolated fits the purpose it only is responsible",
    "start": "2991920",
    "end": "2997839"
  },
  {
    "text": "for doing that if it maybe is running on a docker you can lock down the image you can say the docker image is not allowed to do it",
    "start": "2997839",
    "end": "3003920"
  },
  {
    "text": "as internet traffic it cannot go outside right there's a lot more to lock down i think the solution that we create",
    "start": "3003920",
    "end": "3010480"
  },
  {
    "text": "should have multiple layers of defense so yes the way that we change the way that we'd write our software has changed and it",
    "start": "3010480",
    "end": "3016800"
  },
  {
    "text": "becomes smaller and we can reduce the risks already but it's always good to have multiple layers of defense for these",
    "start": "3016800",
    "end": "3023040"
  },
  {
    "text": "types of issues so this is the part where we have fixed",
    "start": "3023040",
    "end": "3028559"
  },
  {
    "text": "it and now i want to quickly move to more like reviewing third-party libraries in an application",
    "start": "3028559",
    "end": "3034240"
  },
  {
    "text": "um and i want to be like reviewing the intent and some of the internals and have some",
    "start": "3034240",
    "end": "3040240"
  },
  {
    "text": "sense of what's happening right so picture that as the asus example i gave earlier you pull in a library",
    "start": "3040240",
    "end": "3046160"
  },
  {
    "text": "that is totally like it looks legit but are you completely confident of what's inside and that's the thing i want to focus on",
    "start": "3046160",
    "end": "3052960"
  },
  {
    "text": "i also want to for uh like emphasize that of course there's a difference between components and frameworks frameworks usually have",
    "start": "3052960",
    "end": "3059200"
  },
  {
    "text": "much tighter integration into your app let's say like mvc is is highly is highly like connected to",
    "start": "3059200",
    "end": "3065359"
  },
  {
    "text": "the code that i'm writing with all the controllers right so it will be harder to isolate that and the component we saw earlier is the pdf thing",
    "start": "3065359",
    "end": "3071920"
  },
  {
    "text": "and it's on its own and that allows us to pull it out and isolate it right we're going to do some reversing and i",
    "start": "3071920",
    "end": "3078640"
  },
  {
    "text": "just want to make sure that if you do reversing of.net assemblies always comply with the license of the component because it might not be allowed to do",
    "start": "3078640",
    "end": "3085359"
  },
  {
    "text": "that that's my disclaimer so don't take it from me but you're not allowed to do that i'm going to skip this one for now",
    "start": "3085359",
    "end": "3091760"
  },
  {
    "text": "and i want to move to the to the review of the component in order to have some time left for questions",
    "start": "3091760",
    "end": "3098720"
  },
  {
    "text": "so let me quickly go back and then i just like close my",
    "start": "3098720",
    "end": "3105280"
  },
  {
    "text": "slides no okay let me open up a terminal so what i",
    "start": "3105280",
    "end": "3110880"
  },
  {
    "text": "created is a tool that's called fennec and what it does it uses a component called mono.c",
    "start": "3110880",
    "end": "3117040"
  },
  {
    "text": "cell and mono.cso can be used to look into net assemblies and to look",
    "start": "3117040",
    "end": "3122400"
  },
  {
    "text": "into its il right and dump it and i think also for the sake of time i cannot like do",
    "start": "3122400",
    "end": "3129359"
  },
  {
    "text": "any quick view of the code itself and what it does it's relatively simple i'm gonna go to the",
    "start": "3129359",
    "end": "3136000"
  },
  {
    "text": "bin debug location of the of the of the app that we have just like looked into right we're going to go to",
    "start": "3136000",
    "end": "3141760"
  },
  {
    "text": "the mypdf library so so what it does it just looks into",
    "start": "3141760",
    "end": "3148800"
  },
  {
    "text": "an assembly and it just dumps out every api call is done based on a specific format and let me just generate it for",
    "start": "3148800",
    "end": "3155040"
  },
  {
    "text": "you and then explain to you like why i think this might be a valuable thing to do",
    "start": "3155040",
    "end": "3160079"
  },
  {
    "text": "so i'm gonna do the call i'm gonna say this one is just on on on nougat you can get it and",
    "start": "3160079",
    "end": "3167200"
  },
  {
    "text": "it's a it's a cli tool that will install itself i want to do output for awesome pdf and i also want",
    "start": "3167200",
    "end": "3173599"
  },
  {
    "text": "to include high text dlls because that's the thing that most of the problems residing in the way that it's being used if it's",
    "start": "3173599",
    "end": "3181040"
  },
  {
    "text": "then generated let me",
    "start": "3181040",
    "end": "3186240"
  },
  {
    "text": "do a code reuse of this right",
    "start": "3186240",
    "end": "3190800"
  },
  {
    "text": "so what it does it creates plain text files and there's a lot of info but trust me let me just talk you through",
    "start": "3192319",
    "end": "3198720"
  },
  {
    "text": "and show you what is it what is that right so it will just go over the types the method and the method bodies and show",
    "start": "3198720",
    "end": "3205440"
  },
  {
    "text": "all invocations so there is no logic checks of let's say if this code is reachable or not it will slowly look at",
    "start": "3205440",
    "end": "3211599"
  },
  {
    "text": "api calls and dump that out and because of the pattern that i'm using you can easily create a block and say like hey the",
    "start": "3211599",
    "end": "3217920"
  },
  {
    "text": "generate pdf method does this and you see that it instantiates a pdf",
    "start": "3217920",
    "end": "3223119"
  },
  {
    "text": "document and it will then do some image image adding right so that's the image factory",
    "start": "3223119",
    "end": "3229040"
  },
  {
    "text": "create and i know for certain that there might be a problem in that and i've also generated",
    "start": "3229040",
    "end": "3234880"
  },
  {
    "text": "the same file type of files for the itext thing which is being used by the awesome pdf and you can just connect the",
    "start": "3234880",
    "end": "3240240"
  },
  {
    "text": "dots you can just go through and tie the the calls to each other and if i then look for getstream async",
    "start": "3240240",
    "end": "3248480"
  },
  {
    "text": "let me just quickly grab that one for you in the second one",
    "start": "3248480",
    "end": "3253920"
  },
  {
    "text": "we will get into a url util openstream method and that's this one right this is this body",
    "start": "3253920",
    "end": "3261440"
  },
  {
    "text": "and this is exactly the copa we have just fixed during our demo right which we have altered the thing for so at first actually if",
    "start": "3262079",
    "end": "3268800"
  },
  {
    "text": "it's a local file or local pad then it will open a file stream if not it will create that http client",
    "start": "3268800",
    "end": "3274480"
  },
  {
    "text": "and it will get that stream async right and we have altered it that it can still load",
    "start": "3274480",
    "end": "3279760"
  },
  {
    "text": "the local pads like the local files which inherently still keeps the c serve problems related to",
    "start": "3279760",
    "end": "3286160"
  },
  {
    "text": "files but it cannot go externally anymore and you probably like this is a way that you",
    "start": "3286160",
    "end": "3291680"
  },
  {
    "text": "can easily skim you can search for specific things like binary format you should like if a binary format shows up at some",
    "start": "3291680",
    "end": "3298400"
  },
  {
    "text": "point inside a dll then you should always investigate like what's the reason because that's causing a lot of issues already",
    "start": "3298400",
    "end": "3304319"
  },
  {
    "text": "right and it gives you more sense and let's say if you do this for each dll that you",
    "start": "3304319",
    "end": "3309440"
  },
  {
    "text": "output before you release you can do a diff between this version and previous one and",
    "start": "3309440",
    "end": "3314880"
  },
  {
    "text": "identify things that might be smelly and identify that additional thing that",
    "start": "3314880",
    "end": "3320319"
  },
  {
    "text": "has been added which you do not expect it to be right and that's all about intent knowing what's inside the library that's",
    "start": "3320319",
    "end": "3325839"
  },
  {
    "text": "the goal of this tool let me quickly go back to my slides",
    "start": "3325839",
    "end": "3331040"
  },
  {
    "text": "just to wrap it up got five minutes left i don't want to",
    "start": "3331040",
    "end": "3336079"
  },
  {
    "text": "keep some open right so as i said review it's it's a pretty minimal implementation it relies on itech sharp",
    "start": "3336079",
    "end": "3343359"
  },
  {
    "text": "the path problem can be fixed right because we're only focused on the c serve but the path problem can be fixed",
    "start": "3343359",
    "end": "3348400"
  },
  {
    "text": "by doing a separate process or doing a micropatch so can you imagine that you also let's say check the path before the",
    "start": "3348400",
    "end": "3355440"
  },
  {
    "text": "files being written in the same way that we've replaced http client right there are some possibilities in that",
    "start": "3355440",
    "end": "3362720"
  },
  {
    "text": "as we've seen like the http client then we've patched it for that pdf component only i think which is quite powerful",
    "start": "3362720",
    "end": "3369280"
  },
  {
    "text": "the tool is available on nuget there's a site and it allows you to div right and skim and and there is an",
    "start": "3369280",
    "end": "3375920"
  },
  {
    "text": "alphabetical ordering inside the types that are being loaded so you should have each file will have the same like",
    "start": "3375920",
    "end": "3381359"
  },
  {
    "text": "sequence so you can easily div on that and as i said i'm right now i'm working on a new version that also",
    "start": "3381359",
    "end": "3388240"
  },
  {
    "text": "does micro patching and does a bit more and also allows you to maybe connect the dots between the different calls right",
    "start": "3388240",
    "end": "3393440"
  },
  {
    "text": "that's the next thing work in progress time is always the issue you can probably relate to that",
    "start": "3393440",
    "end": "3400000"
  },
  {
    "text": "if you're interested in a similar solution then microsoft released something called the application",
    "start": "3400000",
    "end": "3405040"
  },
  {
    "text": "inspector and it was done in last january and let me quickly just show you the screenshot of this app",
    "start": "3405040",
    "end": "3410480"
  },
  {
    "text": "what it does it takes a code base right so it's not doing anything with compile but it can just like they would i think",
    "start": "3410480",
    "end": "3416160"
  },
  {
    "text": "it can do a lot of different programming languages and it will give you an overview of the features that are",
    "start": "3416160",
    "end": "3422480"
  },
  {
    "text": "being used right so and then you can decide for yourself like hey do i expect this",
    "start": "3422480",
    "end": "3428880"
  },
  {
    "text": "library to have the need for doing sensitive data right",
    "start": "3428880",
    "end": "3433920"
  },
  {
    "text": "there you can you can have a better sense of what's inside that library and take better decisions and maybe focus on",
    "start": "3433920",
    "end": "3439280"
  },
  {
    "text": "reviewing that component that helps out both developers and of course security people within the organization",
    "start": "3439280",
    "end": "3446960"
  },
  {
    "text": "so with three minutes left let's squeeze through the conclusion and then open up for questions if there are any",
    "start": "3446960",
    "end": "3453680"
  },
  {
    "text": "so i would definitely encourage you to at least start reviewing components as i've shown right make sure that you",
    "start": "3453680",
    "end": "3460240"
  },
  {
    "text": "have some idea of intent of libraries and what they're doing consider compatibilization of logic in",
    "start": "3460240",
    "end": "3465839"
  },
  {
    "text": "different ways like doing different architectures or maybe the way that i'm i'm working it but right",
    "start": "3465839",
    "end": "3471200"
  },
  {
    "text": "it's still working progress but i definitely think it has potential and this does not remove the need for of",
    "start": "3471200",
    "end": "3477520"
  },
  {
    "text": "course any other best practices like input validation defensive coding right and making sure that security is part of",
    "start": "3477520",
    "end": "3483920"
  },
  {
    "text": "your development life cycle as a whole the stage is important there's always but as i said you want to have a layered",
    "start": "3483920",
    "end": "3489599"
  },
  {
    "text": "approach on fixing this problem and this is a smart bit that we might be able to do from development perspective",
    "start": "3489599",
    "end": "3497280"
  },
  {
    "text": "so with that said i would like to thank you for your time and um with two minutes left um",
    "start": "3497280",
    "end": "3503920"
  },
  {
    "text": "i would like to open up for questions if you have questions you are free to ask them in audio i think you're able to",
    "start": "3503920",
    "end": "3509599"
  },
  {
    "text": "and mute yourself otherwise drop them in the chat and then let's see if we can ask it",
    "start": "3509599",
    "end": "3517839"
  }
]