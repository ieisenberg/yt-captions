[
  {
    "start": "0",
    "end": "84000"
  },
  {
    "text": "okay we'll just jump straight to it I think",
    "start": "9519",
    "end": "17150"
  },
  {
    "text": "we've been instructed to tell you to squeeze together but it doesn't look",
    "start": "17150",
    "end": "23070"
  },
  {
    "text": "like there are many people standing so just see how it goes",
    "start": "23070",
    "end": "28640"
  },
  {
    "text": "we're going to tell a story basically I'll something that we did at work about",
    "start": "28640",
    "end": "34590"
  },
  {
    "text": "a year ago so this is us",
    "start": "34590",
    "end": "42899"
  },
  {
    "text": "I'm usually a lot more grumpy but the guy wouldn't stop taking pictures until I smiled so I am I am a front lead at at",
    "start": "42899",
    "end": "55560"
  },
  {
    "text": "the current project which we are going to talk about Francis is he was a",
    "start": "55560",
    "end": "62570"
  },
  {
    "text": "trustee minion but is now on to greener pastures",
    "start": "62570",
    "end": "67860"
  },
  {
    "text": "[Music] yeah we are partners at Connect is it we",
    "start": "67860",
    "end": "75119"
  },
  {
    "text": "are a small consultancy in in Oslo and we do other fun stuff as well but that's",
    "start": "75119",
    "end": "80270"
  },
  {
    "text": "for another time the project is called",
    "start": "80270",
    "end": "87270"
  },
  {
    "start": "84000",
    "end": "174000"
  },
  {
    "text": "easy it's it's a payment solution for online merchants as you can see it's",
    "start": "87270",
    "end": "97110"
  },
  {
    "text": "it's a net product probably all of you know no nets if you've paid for anything",
    "start": "97110",
    "end": "104400"
  },
  {
    "text": "really in in Norway or probably in Scandinavia it's gone through Nets",
    "start": "104400",
    "end": "110790"
  },
  {
    "text": "somehow this is a fairly new offering",
    "start": "110790",
    "end": "117450"
  },
  {
    "text": "that they have it's it has multiple",
    "start": "117450",
    "end": "122970"
  },
  {
    "text": "payment methods it's the difference",
    "start": "122970",
    "end": "128849"
  },
  {
    "text": "between this and previous previous models is that you don't have to have",
    "start": "128849",
    "end": "133860"
  },
  {
    "text": "separate agreements with each payment provider you used to as a merchant you",
    "start": "133860",
    "end": "140129"
  },
  {
    "text": "used to have to have a separate agreement with visa and with mastercard and then one with rips",
    "start": "140129",
    "end": "147190"
  },
  {
    "text": "and everything else now they have one agreement with nets and nets handles all",
    "start": "147190",
    "end": "153520"
  },
  {
    "text": "of it so yeah the sort of killer feature here is that you are recognized across",
    "start": "153520",
    "end": "160140"
  },
  {
    "text": "different different merchants so if you bought something somewhere using this",
    "start": "160140",
    "end": "165970"
  },
  {
    "text": "solution and then you go somewhere else we will remember your details so yeah",
    "start": "165970",
    "end": "176310"
  },
  {
    "start": "174000",
    "end": "334000"
  },
  {
    "text": "let's just let's have a look at what it looks like in its current iteration if I",
    "start": "176310",
    "end": "185260"
  },
  {
    "text": "can it's the right one yep",
    "start": "185260",
    "end": "192580"
  },
  {
    "text": "so this is our test shop so this is just",
    "start": "192580",
    "end": "200200"
  },
  {
    "text": "a shop that we use to integrate with the thing that we're actually building so",
    "start": "200200",
    "end": "205630"
  },
  {
    "text": "this is merely just a test tool which is why it doesn't look all that polished and beautiful so we can add a few things",
    "start": "205630",
    "end": "213459"
  },
  {
    "text": "to our shopping cart I'd like to buy a couple of Rubik's Cube and we will go to",
    "start": "213459",
    "end": "219730"
  },
  {
    "text": "the checkout and that's loaded here and",
    "start": "219730",
    "end": "226950"
  },
  {
    "text": "this thing here this iframe here is what we're actually building so everything",
    "start": "226950",
    "end": "233709"
  },
  {
    "text": "else around is just just for testing so we can enter some kind of email and then",
    "start": "233709",
    "end": "242350"
  },
  {
    "text": "you don't know if you saw it it goes quite quickly but there was a spinner here that that's when we're trying to look you up to see if we know who you",
    "start": "242350",
    "end": "248859"
  },
  {
    "text": "are based on your email and postal code which we don't because I've entered",
    "start": "248859",
    "end": "254220"
  },
  {
    "text": "something unique and I'll just carry on filling out",
    "start": "254220",
    "end": "261390"
  },
  {
    "text": "and in the background now we've now register you on this on this particular payment not as a consumer before we've",
    "start": "262570",
    "end": "269410"
  },
  {
    "text": "paid but you're now registered so that you don't have to do that explicitly and",
    "start": "269410",
    "end": "275740"
  },
  {
    "text": "so to speak with a button it's just just done",
    "start": "275740",
    "end": "280470"
  },
  {
    "text": "and we can pay",
    "start": "287150",
    "end": "290680"
  },
  {
    "text": "it's also a little pray to the demigods and hope that something more happens which it did and if we now go back to",
    "start": "296530",
    "end": "309850"
  },
  {
    "text": "the checkout and I haven't cleared the cart so that wasn't a very good demo I",
    "start": "309850",
    "end": "317350"
  },
  {
    "text": "should have been remembered here now that was fun you should have been here but let's move",
    "start": "317350",
    "end": "326710"
  },
  {
    "text": "on okay so when when I started a project",
    "start": "326710",
    "end": "342000"
  },
  {
    "text": "many years ago the PM told me the first day I arrived to just write down",
    "start": "342000",
    "end": "350070"
  },
  {
    "text": "everything that that seemed odd or that needed improvement or yeah and anything",
    "start": "350070",
    "end": "358720"
  },
  {
    "text": "really that that stood out because he said in a hundred days you're blind I",
    "start": "358720",
    "end": "364440"
  },
  {
    "text": "thought I was very good advice so I've done that for all my projects since and",
    "start": "364440",
    "end": "369940"
  },
  {
    "text": "this is some of the things that I wrote down when when I started this in this",
    "start": "369940",
    "end": "376600"
  },
  {
    "text": "project when I came on on this project that the previous front laid here he had",
    "start": "376600",
    "end": "382810"
  },
  {
    "text": "left a month prior so there wasn't really any overlap I had a day with him",
    "start": "382810",
    "end": "390300"
  },
  {
    "text": "but but I was pretty much here is the thing make it better the feedback loop",
    "start": "390300",
    "end": "402960"
  },
  {
    "text": "when developing was horrible it was it took 40 seconds from from you made a",
    "start": "402960",
    "end": "410620"
  },
  {
    "text": "change until you could see it which is yeah so that was the first order of",
    "start": "410620",
    "end": "417669"
  },
  {
    "text": "business I got that down from 40 seconds to 800 milliseconds which is yeah a lot",
    "start": "417669",
    "end": "426729"
  },
  {
    "text": "better I'd say was that doesn't really have anything to do with this story the the main thing was",
    "start": "426729",
    "end": "433909"
  },
  {
    "text": "that it was huge I mean if if you you saw the thing at at the demo is really",
    "start": "433909",
    "end": "441199"
  },
  {
    "text": "just the tiny thing in in the iframe with a with a couple of forms and the",
    "start": "441199",
    "end": "446240"
  },
  {
    "text": "button it shouldn't be megabytes big and",
    "start": "446240",
    "end": "452050"
  },
  {
    "text": "yeah it's also really slow it was really slow when we started the general",
    "start": "452050",
    "end": "458509"
  },
  {
    "text": "consensus is that it took about six seconds for it just to to show on the",
    "start": "458509",
    "end": "464000"
  },
  {
    "text": "screen which is a serious conversion killer when when you're trying to get",
    "start": "464000",
    "end": "471889"
  },
  {
    "text": "people to pay for something to buy in addition to that it was it was quite",
    "start": "471889",
    "end": "479870"
  },
  {
    "text": "hard to make changes because you changed something one place and then you broke something a different place it wasn't it",
    "start": "479870",
    "end": "485990"
  },
  {
    "text": "wasn't a consistent architecture especially around state management there",
    "start": "485990",
    "end": "492469"
  },
  {
    "text": "were many many different patterns and strategies in use at the same time which",
    "start": "492469",
    "end": "499580"
  },
  {
    "text": "which made it a mess really so so yeah that was that was yeah the",
    "start": "499580",
    "end": "509479"
  },
  {
    "text": "the main the main drivers for doing this",
    "start": "509479",
    "end": "514550"
  },
  {
    "text": "this conversion to to react the reason why it was angular in the first place it",
    "start": "514550",
    "end": "520969"
  },
  {
    "text": "was that they just copy the project that somebody else did and thus inherited the",
    "start": "520969",
    "end": "528140"
  },
  {
    "text": "whole stack without really considering what it was and why why they were using",
    "start": "528140",
    "end": "534410"
  },
  {
    "text": "it or if it would fit the problem so",
    "start": "534410",
    "end": "539680"
  },
  {
    "start": "540000",
    "end": "579000"
  },
  {
    "text": "but this was it was already in production people were using this so we",
    "start": "541189",
    "end": "546740"
  },
  {
    "text": "had to do this in a way that that we could still deliver newer versions it",
    "start": "546740",
    "end": "555290"
  },
  {
    "text": "was a three week a release cycle so every three weeks we we had to have a",
    "start": "555290",
    "end": "560360"
  },
  {
    "text": "new version with new features and so",
    "start": "560360",
    "end": "566509"
  },
  {
    "text": "yeah that was the challenge really how to change the whole stack while still",
    "start": "566509",
    "end": "574040"
  },
  {
    "text": "providing value and releasing all the time so let's show a quick demo of",
    "start": "574040",
    "end": "583300"
  },
  {
    "start": "579000",
    "end": "722000"
  },
  {
    "text": "almost where we started I couldn't get the initial version to run anymore that",
    "start": "583300",
    "end": "589279"
  },
  {
    "text": "is just angular so this version that we have here is where we've started porting",
    "start": "589279",
    "end": "595059"
  },
  {
    "text": "small parts of the application to react and we've thrown out system J s in favor",
    "start": "595059",
    "end": "602449"
  },
  {
    "text": "of webpack so if we can go just clear",
    "start": "602449",
    "end": "608149"
  },
  {
    "text": "aside data and let's select Norwegian",
    "start": "608149",
    "end": "613850"
  },
  {
    "text": "and buy some more Rubik's cubes",
    "start": "613850",
    "end": "619240"
  },
  {
    "text": "yeah",
    "start": "633139",
    "end": "636009"
  },
  {
    "text": "we'll get there yeah don't think so yeah",
    "start": "639220",
    "end": "653510"
  },
  {
    "text": "there we go there we go so you see the point right it's I mean if if you want",
    "start": "653510",
    "end": "659330"
  },
  {
    "text": "to go buy something and this is your experience then you're probably bored and think that it doesn't work and",
    "start": "659330",
    "end": "666410"
  },
  {
    "text": "you've gone somewhere else long before it actually load what you also see here",
    "start": "666410",
    "end": "673250"
  },
  {
    "text": "is that there are lots of padlocks so this is really secure right and there's",
    "start": "673250",
    "end": "681260"
  },
  {
    "text": "also a focus on the payment details which yeah for you as a merchant that",
    "start": "681260",
    "end": "689180"
  },
  {
    "text": "may not be natural so we switch that as well and you saw in our previous one we",
    "start": "689180",
    "end": "697010"
  },
  {
    "text": "were we did all the registration and payment details in the same window here we recognized but when you register you",
    "start": "697010",
    "end": "703070"
  },
  {
    "text": "have to go back through a three step process so you have to go through one one form and then you go to the next one and then you go to the final one way",
    "start": "703070",
    "end": "709130"
  },
  {
    "text": "that we're seeing here where you can actually enter your payment details so it's quite a involved process registering and actually getting to the",
    "start": "709130",
    "end": "715550"
  },
  {
    "text": "payment details and fulfilling the payment so just to to show where we",
    "start": "715550",
    "end": "727130"
  },
  {
    "start": "722000",
    "end": "837000"
  },
  {
    "text": "started sort of technology wise we we",
    "start": "727130",
    "end": "733790"
  },
  {
    "text": "use the bundle analyzer plugin for for web pack so what you're seeing here is",
    "start": "733790",
    "end": "739550"
  },
  {
    "text": "is everything but but it's it's everything is relative in size to one",
    "start": "739550",
    "end": "748010"
  },
  {
    "text": "another so some big things on the screen are big on this key in total we have",
    "start": "748010",
    "end": "756220"
  },
  {
    "text": "almost four megabytes of code that is downloaded on the client of course it",
    "start": "756220",
    "end": "763490"
  },
  {
    "text": "will be a bit smaller when it's gzipped and stuff but still a really really large payload for what is such a small",
    "start": "763490",
    "end": "769430"
  },
  {
    "text": "application and if you see the the purple thing in the top right corner that's that our",
    "start": "769430",
    "end": "776000"
  },
  {
    "text": "code our code and if you look at the the whole yellow thingy that all of the left",
    "start": "776000",
    "end": "784460"
  },
  {
    "text": "side is just angular stuff and it's dependencies we are we have rxjs as well",
    "start": "784460",
    "end": "791390"
  },
  {
    "text": "which is for angular we have some which",
    "start": "791390",
    "end": "799430"
  },
  {
    "text": "is quite big jQuery as well but in in the blue one in the middle there we have",
    "start": "799430",
    "end": "805430"
  },
  {
    "text": "our own J's as well which is and an angular dependency so quite a lot of",
    "start": "805430",
    "end": "813200"
  },
  {
    "text": "this is just angular and we're not really using a lot of it so it seems",
    "start": "813200",
    "end": "821710"
  },
  {
    "text": "very wasteful to use so much yeah",
    "start": "821710",
    "end": "828740"
  },
  {
    "text": "to have so much code that we aren't really using so yeah conversion to react",
    "start": "828740",
    "end": "840290"
  },
  {
    "start": "837000",
    "end": "906000"
  },
  {
    "text": "it is what what you need to consider when when you are going from from",
    "start": "840290",
    "end": "847940"
  },
  {
    "text": "something to something else is what what's what's similar and and what's",
    "start": "847940",
    "end": "854450"
  },
  {
    "text": "different right and try to find something that is sort of the same and see if you can make the transition",
    "start": "854450",
    "end": "861640"
  },
  {
    "text": "easily somehow both have the concept of components which is really an area on",
    "start": "861640",
    "end": "869780"
  },
  {
    "text": "the screen which has defined responsibilities it may have some business logic behind it yeah or",
    "start": "869780",
    "end": "878930"
  },
  {
    "text": "something else it takes usually takes in some kind of state and does something to",
    "start": "878930",
    "end": "884480"
  },
  {
    "text": "it renders it out but in order to to go",
    "start": "884480",
    "end": "890570"
  },
  {
    "text": "from angular to to react you have to transition all all of the stuff that the",
    "start": "890570",
    "end": "897020"
  },
  {
    "text": "component does and in our case that means getting all the state into read",
    "start": "897020",
    "end": "905800"
  },
  {
    "start": "906000",
    "end": "955000"
  },
  {
    "text": "so and up any up really is a tree you",
    "start": "906899",
    "end": "914500"
  },
  {
    "text": "have a root component and then you have major components which themselves have",
    "start": "914500",
    "end": "920589"
  },
  {
    "text": "smaller components and and yeah you get these branches and you have the leaves",
    "start": "920589",
    "end": "926069"
  },
  {
    "text": "which which are the components at the end where where you don't have defenses",
    "start": "926069",
    "end": "932920"
  },
  {
    "text": "on on yet and more components they don't have any children so that's that's what",
    "start": "932920",
    "end": "941769"
  },
  {
    "text": "we found out that that we should do we we start at the leaves and just move",
    "start": "941769",
    "end": "948209"
  },
  {
    "text": "inwards toward the trunk yeah so the",
    "start": "948209",
    "end": "959199"
  },
  {
    "start": "955000",
    "end": "1004000"
  },
  {
    "text": "easiest thing to do is to take just the templates angler components have a",
    "start": "959199",
    "end": "967660"
  },
  {
    "text": "template which is HTML with some some funky syntax which is which is what",
    "start": "967660",
    "end": "974970"
  },
  {
    "text": "renders things on the screen in react",
    "start": "974970",
    "end": "980259"
  },
  {
    "text": "you have the concept of presentational components which is which is basically",
    "start": "980259",
    "end": "985930"
  },
  {
    "text": "just a component that isn't connected to the store you just feed it with whatever",
    "start": "985930",
    "end": "991540"
  },
  {
    "text": "properties it needs and it renders it there's there should be no logic no no",
    "start": "991540",
    "end": "997329"
  },
  {
    "text": "nothing just feed it with props and and display it and that's also a nice proof",
    "start": "997329",
    "end": "1007589"
  },
  {
    "start": "1004000",
    "end": "1197000"
  },
  {
    "text": "proof of concept just to show that we can actually do this so angular looks",
    "start": "1007589",
    "end": "1013439"
  },
  {
    "text": "like this it has a template so we just",
    "start": "1013439",
    "end": "1018569"
  },
  {
    "text": "replaced a template with a react component and we'll show you how that",
    "start": "1018569",
    "end": "1025520"
  },
  {
    "text": "how that works",
    "start": "1025520",
    "end": "1028880"
  },
  {
    "text": "to get the right one so we've got a",
    "start": "1031380",
    "end": "1036798"
  },
  {
    "text": "component here that hasn't been migrated so we can see this is an angular component it has a template URL which",
    "start": "1036799",
    "end": "1046400"
  },
  {
    "text": "sorry let's see if we can that better so",
    "start": "1046400",
    "end": "1053250"
  },
  {
    "text": "we have this angular component here that takes a template URL which points to",
    "start": "1053250",
    "end": "1058770"
  },
  {
    "text": "this HTML file here that has all of your various bindings and stuff and when this",
    "start": "1058770",
    "end": "1064740"
  },
  {
    "text": "then gets tied together and run then it renders out the data and we somehow need",
    "start": "1064740",
    "end": "1071610"
  },
  {
    "text": "to migrate this template here over to",
    "start": "1071610",
    "end": "1077039"
  },
  {
    "text": "react so what we did was that we made this little utility here that takes in a",
    "start": "1077039",
    "end": "1084570"
  },
  {
    "text": "component and an ID for a Dom element for the component to be rendered on and",
    "start": "1084570",
    "end": "1091280"
  },
  {
    "text": "then we just render the component and with the props that have been specified",
    "start": "1091280",
    "end": "1096289"
  },
  {
    "text": "onto the container element and if we go to a component that has been that has",
    "start": "1096289",
    "end": "1106409"
  },
  {
    "text": "been migrated we can now see that this has instead of a template URL it just",
    "start": "1106409",
    "end": "1111870"
  },
  {
    "text": "has a string here with an HTML element",
    "start": "1111870",
    "end": "1117169"
  },
  {
    "text": "with an ID that we can then pass in to our the function that I am just showed",
    "start": "1117169",
    "end": "1128610"
  },
  {
    "text": "here so then we have our view that we've got here and then we send in our props",
    "start": "1128610",
    "end": "1135419"
  },
  {
    "text": "and then it gets rendered and you'll notice that there are several calls to",
    "start": "1135419",
    "end": "1141120"
  },
  {
    "text": "render throughout throughout the component we and it look it looks a bit",
    "start": "1141120",
    "end": "1147059"
  },
  {
    "text": "messy but that's because while we're doing this we need to have control of",
    "start": "1147059",
    "end": "1153090"
  },
  {
    "text": "when when things were rendered and when we finished them we can just use the",
    "start": "1153090",
    "end": "1158100"
  },
  {
    "text": "react lifecycle to to render things at the right time but at the moment we have to take care of",
    "start": "1158100",
    "end": "1165150"
  },
  {
    "text": "all of that manually and then the component itself here is just a bog-standard",
    "start": "1165150",
    "end": "1170370"
  },
  {
    "text": "react component just a function that takes in props and returns out some",
    "start": "1170370",
    "end": "1176880"
  },
  {
    "text": "stuff not connected to the store anything so what you lose is is the",
    "start": "1176880",
    "end": "1183529"
  },
  {
    "text": "automatic change detection so yeah we we have to we have to call render ourselves",
    "start": "1183529",
    "end": "1189270"
  },
  {
    "text": "when when something is changed so that's that's what what do you lose but it's",
    "start": "1189270",
    "end": "1195360"
  },
  {
    "text": "worth it and it's only temporary so after doing this we we show that this",
    "start": "1195360",
    "end": "1203820"
  },
  {
    "start": "1197000",
    "end": "1230000"
  },
  {
    "text": "works we can do it and it's actually faster already which surprised me but",
    "start": "1203820",
    "end": "1213419"
  },
  {
    "text": "after I thought about it it makes sense people people started coming over and and yeah thumbs up it's it's much",
    "start": "1213419",
    "end": "1222570"
  },
  {
    "text": "snappier keep up the good work this is yeah going in the right",
    "start": "1222570",
    "end": "1228059"
  },
  {
    "text": "direction so but yeah we are still in",
    "start": "1228059",
    "end": "1235590"
  },
  {
    "start": "1230000",
    "end": "1275000"
  },
  {
    "text": "production so what we did here was was going out to to merchants and and end",
    "start": "1235590",
    "end": "1243090"
  },
  {
    "text": "users the consumers so and we also",
    "start": "1243090",
    "end": "1252260"
  },
  {
    "text": "implemented new features while doing this so so everything is is just moving",
    "start": "1252260",
    "end": "1260190"
  },
  {
    "text": "along nicely and by constantly delivering new code to to production it",
    "start": "1260190",
    "end": "1267450"
  },
  {
    "text": "goes through all of all of the testing and all of everything so that we could verify that everything was working but",
    "start": "1267450",
    "end": "1278820"
  },
  {
    "start": "1275000",
    "end": "1418000"
  },
  {
    "text": "now that the hard stuff begins because we have to start thinking about the",
    "start": "1278820",
    "end": "1286590"
  },
  {
    "text": "state because that's that's the the biggest underlying problem here that we",
    "start": "1286590",
    "end": "1291770"
  },
  {
    "text": "don't really have all of the state angular doesn't really",
    "start": "1291770",
    "end": "1298320"
  },
  {
    "text": "enforce a way of doing it you can do it in in several different ways and that",
    "start": "1298320",
    "end": "1305039"
  },
  {
    "text": "was what what was done here maybe you",
    "start": "1305039",
    "end": "1310559"
  },
  {
    "text": "can yeah I can elaborate a bit on that would they it we'll get to it soon sure",
    "start": "1310559",
    "end": "1318659"
  },
  {
    "text": "actually was implemented but it used something called ng rx which is kind of",
    "start": "1318659",
    "end": "1325830"
  },
  {
    "text": "similar to redux but instead of just reflecting data changes on a stream and",
    "start": "1325830",
    "end": "1334470"
  },
  {
    "text": "when when the stream changed in the view as you would do with a connected react",
    "start": "1334470",
    "end": "1339720"
  },
  {
    "text": "component that reacts to props or coming in from the store as things change then",
    "start": "1339720",
    "end": "1346769"
  },
  {
    "text": "new actions were dispatched from the components so you had these wild risk",
    "start": "1346769",
    "end": "1352049"
  },
  {
    "text": "conditions with night and things updating in new actions being dispatched and as we were changing things then some",
    "start": "1352049",
    "end": "1358889"
  },
  {
    "text": "parts the application got faster and then suddenly applications got dispatched in different orders than they",
    "start": "1358889",
    "end": "1364289"
  },
  {
    "text": "were before so it was really really difficult to to do this transition",
    "start": "1364289",
    "end": "1370080"
  },
  {
    "text": "without constantly breaking stuff and things did break now and then but we got",
    "start": "1370080",
    "end": "1376049"
  },
  {
    "text": "there in the end yeah the thing is that it was really hard to make new features",
    "start": "1376049",
    "end": "1382889"
  },
  {
    "text": "because you almost always broke something unintentionally and and it was",
    "start": "1382889",
    "end": "1389309"
  },
  {
    "text": "hard to just even see how they fit together because I mean some some state",
    "start": "1389309",
    "end": "1396029"
  },
  {
    "text": "was in ngrick some was in service somewhere some was yeah I don't know I I",
    "start": "1396029",
    "end": "1402749"
  },
  {
    "text": "mean it it was a mess so so we we need to just get control of the state use one",
    "start": "1402749",
    "end": "1411539"
  },
  {
    "text": "pattern instead of many and just basically get control",
    "start": "1411539",
    "end": "1418849"
  },
  {
    "start": "1418000",
    "end": "1464000"
  },
  {
    "text": "so what we did was that we we dropped in a real relaxed or I mean and and grx is",
    "start": "1419000",
    "end": "1426510"
  },
  {
    "text": "an implementation of redux for angular but we are going to to react so so we we",
    "start": "1426510",
    "end": "1436770"
  },
  {
    "text": "put we put a real proper relaxed door in",
    "start": "1436770",
    "end": "1441809"
  },
  {
    "text": "there as well so the two stores were running in parallel actions were",
    "start": "1441809",
    "end": "1446850"
  },
  {
    "text": "dispatched to both so we could we could see that the same state was going to to",
    "start": "1446850",
    "end": "1455340"
  },
  {
    "text": "both stores and in that way verify that",
    "start": "1455340",
    "end": "1461460"
  },
  {
    "text": "things were working as it should so this",
    "start": "1461460",
    "end": "1467669"
  },
  {
    "start": "1464000",
    "end": "1577000"
  },
  {
    "text": "is how it works so if you're planning on doing this yourself on your project this is where you need to pay attention we we",
    "start": "1467669",
    "end": "1476370"
  },
  {
    "text": "created an angular service which was called which is called redux store",
    "start": "1476370",
    "end": "1481470"
  },
  {
    "text": "service it gets ng rx injected into",
    "start": "1481470",
    "end": "1487020"
  },
  {
    "text": "itself through angular's dependency injection eight wires up a redox door",
    "start": "1487020",
    "end": "1494190"
  },
  {
    "text": "and we wrote some some custom middleware",
    "start": "1494190",
    "end": "1502650"
  },
  {
    "text": "to just intercept the actions and pass them along to ng rx because Redux and",
    "start": "1502650",
    "end": "1510480"
  },
  {
    "text": "NGO X doesn't really talk to each other so so yeah it just parrots whatever",
    "start": "1510480",
    "end": "1518760"
  },
  {
    "text": "actions comes in - NGR x and then the",
    "start": "1518760",
    "end": "1523890"
  },
  {
    "text": "reason why this was an angular service in the first place is that we can then",
    "start": "1523890",
    "end": "1530010"
  },
  {
    "text": "we can inject it into angular components and expose the redux tour as the",
    "start": "1530010",
    "end": "1539159"
  },
  {
    "text": "property and what happens then is that in the angular component you dispatch",
    "start": "1539159",
    "end": "1547159"
  },
  {
    "text": "through read access dispatch mechanism instead of ng our X",
    "start": "1547159",
    "end": "1554850"
  },
  {
    "text": "and our middleware takes responsibility for passing it along to ng R X again so",
    "start": "1554850",
    "end": "1563309"
  },
  {
    "text": "to get to get a state out of the store",
    "start": "1563309",
    "end": "1570080"
  },
  {
    "text": "in the angular component you use ng rx but to dispatch new actions you use",
    "start": "1570080",
    "end": "1575540"
  },
  {
    "text": "Redux so the action lifecycle goes like",
    "start": "1575540",
    "end": "1582540"
  },
  {
    "start": "1577000",
    "end": "1719000"
  },
  {
    "text": "this it gets dispatched through redux ghost to the reducer and then it gets",
    "start": "1582540",
    "end": "1590760"
  },
  {
    "text": "picked up by our middleware and it get passed along to ng rx which then runs it",
    "start": "1590760",
    "end": "1598679"
  },
  {
    "text": "through actually the same reducer again so both a real axe and ng rx are using",
    "start": "1598679",
    "end": "1605130"
  },
  {
    "text": "the same code for the reducers so this",
    "start": "1605130",
    "end": "1615380"
  },
  {
    "text": "so this is just let me close that this is the redux door service that we were",
    "start": "1615380",
    "end": "1621840"
  },
  {
    "text": "just talking about no hmm this this one yeah so we can see here that we have",
    "start": "1621840",
    "end": "1633420"
  },
  {
    "text": "made a map of all the actions that we want to intercept and what we want to",
    "start": "1633420",
    "end": "1640410"
  },
  {
    "text": "happen upon interception and it's quite",
    "start": "1640410",
    "end": "1646650"
  },
  {
    "text": "a long list and at the very bottom here we have the actual middleware itself so",
    "start": "1646650",
    "end": "1653580"
  },
  {
    "text": "for each action that comes in we check if that action is in the map of actions",
    "start": "1653580",
    "end": "1660510"
  },
  {
    "text": "to intercept and if it is then we do",
    "start": "1660510",
    "end": "1666620"
  },
  {
    "text": "what we want to happen and for all of them it's just forward to ng our X so in",
    "start": "1666620",
    "end": "1672929"
  },
  {
    "text": "this component here that is then taking",
    "start": "1672929",
    "end": "1678870"
  },
  {
    "text": "use of that we see that we inject a redux door service here and instead of calling they stop stored",
    "start": "1678870",
    "end": "1689040"
  },
  {
    "text": "its dispatched to dispatch actions when things happen then we use our redux door",
    "start": "1689040",
    "end": "1696090"
  },
  {
    "text": "service door dispatch instead and then it goes through the lifecycle that we just showed in there in the diagram so",
    "start": "1696090",
    "end": "1702980"
  },
  {
    "text": "here you can see when an example of one of these totally crazy things here with",
    "start": "1702980",
    "end": "1709670"
  },
  {
    "text": "subscriptions that dispatch new ones and oh right so this is this is something",
    "start": "1709670",
    "end": "1726060"
  },
  {
    "start": "1719000",
    "end": "1776000"
  },
  {
    "text": "that we did over and over again for for",
    "start": "1726060",
    "end": "1731370"
  },
  {
    "text": "each component and and each part of of the functionality you need to really",
    "start": "1731370",
    "end": "1740490"
  },
  {
    "text": "just just focus on focus on something that you want to do transition and make",
    "start": "1740490",
    "end": "1748380"
  },
  {
    "text": "sure that you have control over all the state and then do the change so this is",
    "start": "1748380",
    "end": "1756510"
  },
  {
    "text": "where we are you have an angular component which renders stuff through",
    "start": "1756510",
    "end": "1762720"
  },
  {
    "text": "react and in order to get the logic from the angular component to react component",
    "start": "1762720",
    "end": "1771260"
  },
  {
    "text": "you just wedge another component in between the two and initially that's",
    "start": "1771260",
    "end": "1780210"
  },
  {
    "start": "1776000",
    "end": "1854000"
  },
  {
    "text": "just a very thin component that that just pirates all the all the props along",
    "start": "1780210",
    "end": "1789090"
  },
  {
    "text": "to to the presentational component but but this the difference is that this",
    "start": "1789090",
    "end": "1796980"
  },
  {
    "text": "component is connected to the the Redux store and you can get the props out so",
    "start": "1796980",
    "end": "1802620"
  },
  {
    "text": "for all the logic that you want to move from from angular 2 to to react just",
    "start": "1802620",
    "end": "1809730"
  },
  {
    "text": "make sure you have the props you need from the store and",
    "start": "1809730",
    "end": "1816049"
  },
  {
    "text": "you just have to copy it over basically so the angular component is is shrinking",
    "start": "1816049",
    "end": "1823649"
  },
  {
    "text": "and the the middle component here is is growing so but still there were lots",
    "start": "1823649",
    "end": "1834779"
  },
  {
    "text": "estate that wasn't in either store really so so I have to go through and",
    "start": "1834779",
    "end": "1840960"
  },
  {
    "text": "and just make sure that everything gets",
    "start": "1840960",
    "end": "1846659"
  },
  {
    "text": "gets handled everything that's shared in in any way gets handled by by redux",
    "start": "1846659",
    "end": "1854658"
  },
  {
    "start": "1854000",
    "end": "1949000"
  },
  {
    "text": "another thing is its side effects I mean in in computer science terms a side",
    "start": "1856399",
    "end": "1864990"
  },
  {
    "text": "effect is just it's just some observable",
    "start": "1864990",
    "end": "1871610"
  },
  {
    "text": "effect outside of of a function a pure function takes something in gives you",
    "start": "1871610",
    "end": "1878220"
  },
  {
    "text": "something out and it's the same every time it doesn't change the outside world",
    "start": "1878220",
    "end": "1883529"
  },
  {
    "text": "in in any way a side effect is is something that isn't pure that does make",
    "start": "1883529",
    "end": "1890309"
  },
  {
    "text": "a change and in any sort of useful application you need side effects so in",
    "start": "1890309",
    "end": "1899909"
  },
  {
    "text": "in angular you have a concept called effects which which really takes an",
    "start": "1899909",
    "end": "1906690"
  },
  {
    "text": "action it does something based on based",
    "start": "1906690",
    "end": "1912840"
  },
  {
    "text": "on that action it goes to a server asks for some data or you can do whatever",
    "start": "1912840",
    "end": "1920070"
  },
  {
    "text": "really and and usually the the output of it is one or more different actions",
    "start": "1920070",
    "end": "1926460"
  },
  {
    "text": "which have the payload that you want so it is really a separation of of events",
    "start": "1926460",
    "end": "1936179"
  },
  {
    "text": "and commands an effect picks up picks up a command you want something to be done",
    "start": "1936179",
    "end": "1941399"
  },
  {
    "text": "and it does it and result of that is an event with a",
    "start": "1941399",
    "end": "1947080"
  },
  {
    "text": "payload from my previous experience I've",
    "start": "1947080",
    "end": "1955210"
  },
  {
    "start": "1949000",
    "end": "2009000"
  },
  {
    "text": "used to funk which some of you probably are familiar with it's is a similar",
    "start": "1955210",
    "end": "1963400"
  },
  {
    "text": "concept in in react I had to look up what what a thunk really is what does it",
    "start": "1963400",
    "end": "1969550"
  },
  {
    "text": "mean the word just means a function that is returned from another function so",
    "start": "1969550",
    "end": "1977830"
  },
  {
    "text": "yeah it's just just a library for doing side effects in react it wasn't a very",
    "start": "1977830",
    "end": "1986020"
  },
  {
    "text": "good much because of of how it's structured and how it works so so we",
    "start": "1986020",
    "end": "1992860"
  },
  {
    "text": "looked at reading saga instead which which much is better its yeah his it's",
    "start": "1992860",
    "end": "2002160"
  },
  {
    "text": "basically basically the same way we will show you the code in a bit so this is",
    "start": "2002160",
    "end": "2013350"
  },
  {
    "text": "where we are right and ng rx after after",
    "start": "2013350",
    "end": "2019860"
  },
  {
    "text": "the action goes to the reducer it goes to the effects but that doesn't work",
    "start": "2019860",
    "end": "2025740"
  },
  {
    "text": "very well for us because as I said what happens in an effect is that it does",
    "start": "2025740",
    "end": "2033030"
  },
  {
    "text": "something and it produces different actions but those actions won't be picked up by our Redux store and that's",
    "start": "2033030",
    "end": "2041670"
  },
  {
    "text": "the problem so what we do get rid of the effects rewrite them into sagas and the",
    "start": "2041670",
    "end": "2050060"
  },
  {
    "text": "sagas they dispatch new actions and then it just starts all over again at the at",
    "start": "2050060",
    "end": "2057120"
  },
  {
    "text": "the top there and and goes through the whole thing and goes to to both stores",
    "start": "2057120",
    "end": "2062660"
  },
  {
    "text": "I just got a small example here so this",
    "start": "2063630",
    "end": "2071760"
  },
  {
    "text": "is an example of an angular effect and a Redux agha for the same thing I can try",
    "start": "2071760",
    "end": "2082129"
  },
  {
    "text": "so both of them handle and address ad",
    "start": "2084110",
    "end": "2089190"
  },
  {
    "text": "and both of them result in a successful or failed action one of them uses rxjs",
    "start": "2089190",
    "end": "2097740"
  },
  {
    "text": "and does it that way the other one uses a generator and does it like that",
    "start": "2097740",
    "end": "2103140"
  },
  {
    "text": "instead I find it easier to read the generator version but both both of them",
    "start": "2103140",
    "end": "2108420"
  },
  {
    "text": "are yeah do that do the same thing and result in the same actions being dispatched so we're already here and",
    "start": "2108420",
    "end": "2126050"
  },
  {
    "start": "2120000",
    "end": "2274000"
  },
  {
    "text": "after going through all of the components bit by bit we're left with",
    "start": "2126050",
    "end": "2132660"
  },
  {
    "text": "just the root and that that's still just",
    "start": "2132660",
    "end": "2138570"
  },
  {
    "text": "a component but it but it bootstraps the whole application so so you need to just handle it separately just start it up in",
    "start": "2138570",
    "end": "2151020"
  },
  {
    "text": "a different way so that was a that was a special case but you just basically just",
    "start": "2151020",
    "end": "2157170"
  },
  {
    "text": "take a chainsaw to it and replace it with a react version",
    "start": "2157170",
    "end": "2163970"
  },
  {
    "text": "so what remains now is this cake yeah",
    "start": "2165549",
    "end": "2177279"
  },
  {
    "text": "that was a that was a happy day so if we",
    "start": "2177279",
    "end": "2185229"
  },
  {
    "text": "look at the result we could say that these are all of course in in relative",
    "start": "2185229",
    "end": "2192609"
  },
  {
    "text": "terms as well but before we had four megabytes of code not non gzipped and",
    "start": "2192609",
    "end": "2198789"
  },
  {
    "text": "now we have 725 K for the same thing with of course we've added new",
    "start": "2198789",
    "end": "2205719"
  },
  {
    "text": "functionality along the way as as well as doing the migration so it's quite a",
    "start": "2205719",
    "end": "2211689"
  },
  {
    "text": "big difference here so yeah and also if you look at if you look on the screen",
    "start": "2211689",
    "end": "2220359"
  },
  {
    "text": "and and see how much of it is our code now we get to the old one it's almost",
    "start": "2220359",
    "end": "2228759"
  },
  {
    "text": "half the screen but it used to be just a little corner up up on the right there",
    "start": "2228759",
    "end": "2236399"
  },
  {
    "text": "so I think that's quite an improvement actually and if we look at the size of",
    "start": "2236399",
    "end": "2242380"
  },
  {
    "text": "our code as well it's actually smaller than it used to be even though we have",
    "start": "2242380",
    "end": "2249880"
  },
  {
    "text": "added new features I think that's mainly due to to the fact that we have cleaned",
    "start": "2249880",
    "end": "2256299"
  },
  {
    "text": "up the architecture it's it's not as over engineered as it used to be we do",
    "start": "2256299",
    "end": "2263109"
  },
  {
    "text": "things in in one way and yeah",
    "start": "2263109",
    "end": "2272130"
  },
  {
    "start": "2274000",
    "end": "2440000"
  },
  {
    "text": "so the numbers are quite nice size",
    "start": "2275380",
    "end": "2280520"
  },
  {
    "text": "reduction was 69% we didn't stop there we have we have removed all the other",
    "start": "2280520",
    "end": "2288260"
  },
  {
    "text": "stuff that wasn't used as well so we're now down to an 82% reduction which is",
    "start": "2288260",
    "end": "2295090"
  },
  {
    "text": "quite significant I say this startup speed after the after we got rid of",
    "start": "2295090",
    "end": "2302420"
  },
  {
    "text": "angular was reduced by 67% which is also",
    "start": "2302420",
    "end": "2307750"
  },
  {
    "text": "very nice we have we have made some recent changes that brings it down to 95",
    "start": "2307750",
    "end": "2315790"
  },
  {
    "text": "remember and that's that's compared to the six seconds that we started with we",
    "start": "2315790",
    "end": "2322190"
  },
  {
    "text": "we measured it on and on an iPhone a couple of weeks ago to 300 milliseconds",
    "start": "2322190",
    "end": "2327910"
  },
  {
    "text": "so that's yeah I think that's a huge improvement and and this is really how",
    "start": "2327910",
    "end": "2335510"
  },
  {
    "text": "it should have been this whole time but we got there in the end",
    "start": "2335510",
    "end": "2340690"
  },
  {
    "text": "there is less code to maintain and the architecture is a lot cleaner it's it's",
    "start": "2340690",
    "end": "2347030"
  },
  {
    "text": "much easier for for people to jump in and understand the code reason about it",
    "start": "2347030",
    "end": "2354230"
  },
  {
    "text": "and figure out what they need to do to make the changes they want to make we",
    "start": "2354230",
    "end": "2360800"
  },
  {
    "text": "have lots fewer bugs because yeah we",
    "start": "2360800",
    "end": "2366560"
  },
  {
    "text": "don't have those crazy situations where you change something one place and then",
    "start": "2366560",
    "end": "2371840"
  },
  {
    "text": "it affects something someplace else so so yeah it's it's it's much easier to",
    "start": "2371840",
    "end": "2381590"
  },
  {
    "text": "to implement new stuff the the development speed is is a lot faster we",
    "start": "2381590",
    "end": "2388790"
  },
  {
    "text": "deliver more features and and they work and we are a lot happier and that's",
    "start": "2388790",
    "end": "2398960"
  },
  {
    "text": "that's actually quite important in in my experience a happy developer is a productive developer and vice-versa if",
    "start": "2398960",
    "end": "2406549"
  },
  {
    "text": "you're not if you're not very happier than you you aren't really producing",
    "start": "2406549",
    "end": "2412010"
  },
  {
    "text": "much so so that's that's a very very big point yeah we actually raced through",
    "start": "2412010",
    "end": "2422510"
  },
  {
    "text": "this at this time I gave this presentation a week ago and and I spent",
    "start": "2422510",
    "end": "2429020"
  },
  {
    "text": "a lot more time so we have time for questions if somebody has them yeah in",
    "start": "2429020",
    "end": "2434690"
  },
  {
    "text": "the back yes the question was a bun yeah",
    "start": "2434690",
    "end": "2447109"
  },
  {
    "start": "2440000",
    "end": "2500000"
  },
  {
    "text": "good question the question is did we use any of the react and developer tools",
    "start": "2447109",
    "end": "2452960"
  },
  {
    "text": "during the migration and the answer is yes we did we used we used the Redux",
    "start": "2452960",
    "end": "2459829"
  },
  {
    "text": "there were tools a lot and that was really helpful because you can you can switch between stores and you can see ng",
    "start": "2459829",
    "end": "2467210"
  },
  {
    "text": "rx in there as well and that's how that's the what we used to make sure that we had captured all of the actions",
    "start": "2467210",
    "end": "2474740"
  },
  {
    "text": "and and all of the state because we could just switch between and compare so you can see that you can see the whole",
    "start": "2474740",
    "end": "2481910"
  },
  {
    "text": "timeline which actions were going where and and what what we were missing and",
    "start": "2481910",
    "end": "2487309"
  },
  {
    "text": "and just make sure that the state was was the same in the end so that was that",
    "start": "2487309",
    "end": "2494690"
  },
  {
    "text": "was really helpful yes",
    "start": "2494690",
    "end": "2498818"
  },
  {
    "start": "2500000",
    "end": "2544000"
  },
  {
    "text": "what the question is what what what angular version did we replace when we",
    "start": "2501119",
    "end": "2508619"
  },
  {
    "text": "came on the project it was angular 2 but we upgraded it quickly to angular 4 and",
    "start": "2508619",
    "end": "2516089"
  },
  {
    "text": "then we had to sort of we actually switched between angular 4 and 5 to just",
    "start": "2516089",
    "end": "2521760"
  },
  {
    "text": "get everything stacked right to make everything work together some I can't",
    "start": "2521760",
    "end": "2527460"
  },
  {
    "text": "actually remember if if we did it on angular 4 or Anglophile because it was",
    "start": "2527460",
    "end": "2532799"
  },
  {
    "text": "quite fiddly with all the packages and what worked and what what didn't work",
    "start": "2532799",
    "end": "2538609"
  },
  {
    "start": "2544000",
    "end": "2599000"
  },
  {
    "text": "question is did we have good test coverage before we started the refactoring and the answer is yes and no",
    "start": "2544640",
    "end": "2553460"
  },
  {
    "text": "we had good test coverage for all of all",
    "start": "2553460",
    "end": "2558480"
  },
  {
    "text": "of the business code but not for the rendering and and take my stuff and",
    "start": "2558480",
    "end": "2567329"
  },
  {
    "text": "stuff like that but but we had we had and and still have browser stack tests",
    "start": "2567329",
    "end": "2576509"
  },
  {
    "text": "which go through every every scenario every every functionality that that we",
    "start": "2576509",
    "end": "2583319"
  },
  {
    "text": "have and tests the whole stack front end through the back end",
    "start": "2583319",
    "end": "2590328"
  },
  {
    "start": "2599000",
    "end": "2702000"
  },
  {
    "text": "the question is why did we choose this gradual approach instead of just",
    "start": "2600369",
    "end": "2606339"
  },
  {
    "text": "creating a react component and just putting it in when one way we're done",
    "start": "2606339",
    "end": "2612010"
  },
  {
    "text": "with it stop yeah great the reason the reason",
    "start": "2612010",
    "end": "2619299"
  },
  {
    "text": "for that is that it looks very easy when",
    "start": "2619299",
    "end": "2624789"
  },
  {
    "text": "when we present it like this but in in reality a lot of the functionality is",
    "start": "2624789",
    "end": "2630640"
  },
  {
    "text": "quite complex so you and the application",
    "start": "2630640",
    "end": "2637180"
  },
  {
    "text": "wasn't structured very well in addition way we had a lot of really big",
    "start": "2637180",
    "end": "2642819"
  },
  {
    "text": "components which did a lot more than just one thing so we could we could transition some of the functionality in",
    "start": "2642819",
    "end": "2651010"
  },
  {
    "text": "a component and then we had to wait a while to do the rest because that's connected to something else so if if the",
    "start": "2651010",
    "end": "2660819"
  },
  {
    "text": "application had been structured properly and a component had one one",
    "start": "2660819",
    "end": "2668410"
  },
  {
    "text": "responsibility then then we probably could have done that but it was just hard to do it the way it was and we",
    "start": "2668410",
    "end": "2674319"
  },
  {
    "text": "didn't want to restructure the whole thing at the same time yes",
    "start": "2674319",
    "end": "2686069"
  },
  {
    "text": "[Music] okay the question is we're saying that",
    "start": "2699660",
    "end": "2708010"
  },
  {
    "start": "2702000",
    "end": "2840000"
  },
  {
    "text": "angular is big and bad and react is small and good and that's a bad motivation for rewriting I said all",
    "start": "2708010",
    "end": "2715750"
  },
  {
    "text": "right and the last bit was ah should",
    "start": "2715750",
    "end": "2723190"
  },
  {
    "text": "should everybody rewrite no I don't think so you you have to you have to",
    "start": "2723190",
    "end": "2729190"
  },
  {
    "text": "look at what you're what you're trying to do what what what is your project",
    "start": "2729190",
    "end": "2734920"
  },
  {
    "text": "what what is its purpose and what are you what are you aiming for",
    "start": "2734920",
    "end": "2741640"
  },
  {
    "text": "and as we saw what we're building is is just is just a little iframe right it",
    "start": "2741640",
    "end": "2749740"
  },
  {
    "text": "has to load quickly it's not a lot going on it's just a small little thing it has",
    "start": "2749740",
    "end": "2756069"
  },
  {
    "text": "to be fast it has to just do you want people to just fill in the smallest",
    "start": "2756069",
    "end": "2763240"
  },
  {
    "text": "amount of details that I have to and and then you push a button there and you move along in in a bigger application",
    "start": "2763240",
    "end": "2771279"
  },
  {
    "text": "where where you have lots more going on then the startup time I might not be a",
    "start": "2771279",
    "end": "2778569"
  },
  {
    "text": "problem at all you you may need all the other stuff that angular provides because it's it's a huge library that",
    "start": "2778569",
    "end": "2785650"
  },
  {
    "text": "that gives you a lot of functionality just out of the box you don't have to",
    "start": "2785650",
    "end": "2790990"
  },
  {
    "text": "figure out what what packages you need and and and cobble them together and and",
    "start": "2790990",
    "end": "2798240"
  },
  {
    "text": "keep everything compatible and and stuff like that so it's I mean if if you're",
    "start": "2798240",
    "end": "2807579"
  },
  {
    "text": "doing something else than what we are doing if if you if you need all of that",
    "start": "2807579",
    "end": "2817180"
  },
  {
    "text": "extra functionality that angular and gives you then then angular is fine no",
    "start": "2817180",
    "end": "2832109"
  },
  {
    "text": "we're done thank you for coming thank you [Applause]",
    "start": "2832109",
    "end": "2842710"
  }
]