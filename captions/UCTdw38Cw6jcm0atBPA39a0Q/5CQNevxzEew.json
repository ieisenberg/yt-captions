[
  {
    "start": "0",
    "end": "150000"
  },
  {
    "text": "hello three that's good I'll just have a",
    "start": "4260",
    "end": "9270"
  },
  {
    "text": "little Yap while people are still coming in you've been listening to the Ting Tings I tried to find a song that talked",
    "start": "9270",
    "end": "15660"
  },
  {
    "text": "about rest but oddly enough there is no song that talks about rest it did talk",
    "start": "15660",
    "end": "20970"
  },
  {
    "text": "about a four-letter name and it talked about something that not my name which if you talk to people who talk",
    "start": "20970",
    "end": "27119"
  },
  {
    "text": "about rest they discuss whether you really are doing rest it's like the agile thing we do our job you don't do",
    "start": "27119",
    "end": "33660"
  },
  {
    "text": "agile we do agile no you don't do our job the whole discussion kind of carries on so hopefully we're all here to see",
    "start": "33660",
    "end": "43710"
  },
  {
    "text": "about rest and you might have different opinions about it whether it's good or",
    "start": "43710",
    "end": "48930"
  },
  {
    "text": "not the important bit is we're talking about it in the context of really",
    "start": "48930",
    "end": "54500"
  },
  {
    "text": "consuming public api's and designing them and there's a good reason for that",
    "start": "54500",
    "end": "60269"
  },
  {
    "text": "is rest is actually really quite useful for doing public api's if you are",
    "start": "60269",
    "end": "65400"
  },
  {
    "text": "internal in a company and you own all the servers and it's all on a heterogeneous network you may not go for",
    "start": "65400",
    "end": "71370"
  },
  {
    "text": "rest is the best option for inter-process communication you know you might go for G RPC or direct code",
    "start": "71370",
    "end": "77430"
  },
  {
    "text": "sockets and things like that because it actually would probably be faster and not as much as it overhead and so it's",
    "start": "77430",
    "end": "83130"
  },
  {
    "text": "not a one-size-fits-all so we're really talking about public API I ought to say",
    "start": "83130",
    "end": "90180"
  },
  {
    "text": "why I could talk about this so I work for a company called huddle was anyone",
    "start": "90180",
    "end": "96390"
  },
  {
    "text": "at Ian Coopers talk damn I can't really talk about how he talked about hurdle",
    "start": "96390",
    "end": "102810"
  },
  {
    "text": "hurdle does secure document collaboration so it's kind of where a",
    "start": "102810",
    "end": "109320"
  },
  {
    "text": "company can invite external people in to share documents and you can find out who's viewed them who's downloaded them",
    "start": "109320",
    "end": "115980"
  },
  {
    "text": "audits workflows things like that well I'm not working at hurdle we're being for five years helping with the client",
    "start": "115980",
    "end": "123870"
  },
  {
    "text": "so you consume the api's more than anything I'm sometimes on a bicycle doing commuting into work 10,000",
    "start": "123870",
    "end": "131610"
  },
  {
    "text": "kilometers a year fall off about twice and get scratched and horrified people with bruises and this morning I was",
    "start": "131610",
    "end": "138460"
  },
  {
    "text": "mad in a 7 o'clock I was running up the river in Oslo which was that's from this morning there's a really nice River you",
    "start": "138460",
    "end": "144610"
  },
  {
    "text": "can kind of run up and so that was a good laugh so what do we mean by rest",
    "start": "144610",
    "end": "152620"
  },
  {
    "start": "150000",
    "end": "150000"
  },
  {
    "text": "clearly that's what we're gonna start with Roy fielding was the guy who did",
    "start": "152620",
    "end": "160060"
  },
  {
    "text": "the original proposal he did it in a thesis as far why he's dr. Roy fielding",
    "start": "160060",
    "end": "166420"
  },
  {
    "text": "and he also termed the coin the term hypermedia as the engine of application",
    "start": "166420",
    "end": "174460"
  },
  {
    "text": "state which has to be one of the worst acronyms ever created they have since said we don't like",
    "start": "174460",
    "end": "180730"
  },
  {
    "text": "having an acronym with the word hating because that you know ever since Donald",
    "start": "180730",
    "end": "185800"
  },
  {
    "text": "Trump got like didn't know and so they've caught it's now known as hyper media API so no one has to work out how",
    "start": "185800",
    "end": "192070"
  },
  {
    "text": "even to say Hattie o our West type thing anyway and you may or may not have heard",
    "start": "192070",
    "end": "197890"
  },
  {
    "text": "anyone heard of the Richardson maturity model there's this whole idea of how",
    "start": "197890",
    "end": "203860"
  },
  {
    "text": "restful are you are you going for resources are you doing resources reverbs all sorts of levels of maturity",
    "start": "203860",
    "end": "210360"
  },
  {
    "text": "now according to Roy hyper media is the",
    "start": "210360",
    "end": "215380"
  },
  {
    "text": "thing that is rest it's not an option not to do the links that link you to the next resource and the resource should",
    "start": "215380",
    "end": "220840"
  },
  {
    "text": "provide all the on word information just like a web page hyper media is how web",
    "start": "220840",
    "end": "226060"
  },
  {
    "text": "page works you might go to bbc.com find news stories but you can't predict any",
    "start": "226060",
    "end": "232600"
  },
  {
    "text": "of the links you're gonna see but you can click on them and go further in and go further in and find news that you",
    "start": "232600",
    "end": "238420"
  },
  {
    "text": "want fine but you didn't have to know all the links you only had to know the entry point so huddle works in a similar",
    "start": "238420",
    "end": "243910"
  },
  {
    "text": "way you get an entry point into huddle once you've got that it tells you where everything lives and theoretically we",
    "start": "243910",
    "end": "250060"
  },
  {
    "text": "could change that because we could trust all of our consumers to not hard-code api's and put IDs in them yes like we",
    "start": "250060",
    "end": "258730"
  },
  {
    "text": "could and so when you'd start discussing levels of maturity of rest how you do",
    "start": "258730",
    "end": "264250"
  },
  {
    "text": "rest what's the exact correct way to do it you get what I call rest affirming",
    "start": "264250",
    "end": "269560"
  },
  {
    "text": "arguments I was writing this just before to Barbados so I just like and it's like",
    "start": "269560",
    "end": "276340"
  },
  {
    "text": "real arguments about whether it is rest should that API do this is that verb applicable quite heated arguments but",
    "start": "276340",
    "end": "285190"
  },
  {
    "text": "you really got to go back to Roy fielding who invented it and unbelievably it seems to be one of the",
    "start": "285190",
    "end": "291970"
  },
  {
    "text": "terms has never been redefined by Martin Fowler to be something different which I find quite amazing in the industry and",
    "start": "291970",
    "end": "300030"
  },
  {
    "text": "one of the guys Marc Amundsen has tweeted about rest versus crud because",
    "start": "300030",
    "end": "306130"
  },
  {
    "text": "one of the misconceptions is rest well it's just crud isn't it you do a get",
    "start": "306130",
    "end": "311410"
  },
  {
    "text": "that's like a select you do a put that's an update a post is an insert and a delete verb it's delete and it's quit",
    "start": "311410",
    "end": "318850"
  },
  {
    "text": "you know and that's what you first think when you go into it and then you realize it's not crud and the really important",
    "start": "318850",
    "end": "324490"
  },
  {
    "text": "thing he highlighted with rest is that when you're designing your web api your data model is not necessarily your",
    "start": "324490",
    "end": "330790"
  },
  {
    "text": "object model so and you you have databases you probably instantiate stuff from",
    "start": "330790",
    "end": "337150"
  },
  {
    "text": "databases into classes and objects you don't necessarily have a one-to-one mapping unless you've got some ORM",
    "start": "337150",
    "end": "344920"
  },
  {
    "text": "matter of that column means this property on that object you might have date date or access layers that",
    "start": "344920",
    "end": "350590"
  },
  {
    "text": "translate between them and in the same way rest a resource is not necessarily the object you have in your object model",
    "start": "350590",
    "end": "357040"
  },
  {
    "text": "and it's definitely not necessarily at the table in the database so the moment you free your mind from that we get away",
    "start": "357040",
    "end": "364450"
  },
  {
    "text": "from the idea that it's just crud and we can actually do business processes and operations on them and we talk about",
    "start": "364450",
    "end": "370300"
  },
  {
    "text": "resources so for those who don't know about rest deeply I'm going to go a",
    "start": "370300",
    "end": "375940"
  },
  {
    "start": "373000",
    "end": "373000"
  },
  {
    "text": "brief thing of what a rest request would look like and what a response would look like a rest request is a HTTP operation",
    "start": "375940",
    "end": "385240"
  },
  {
    "text": "on a resource for pedants and this is from my colleague adulto toby Henderson",
    "start": "385240",
    "end": "390910"
  },
  {
    "text": "who helped me quite a bit on this and gave me a few examples it doesn't have to be HTTP it could be over a message",
    "start": "390910",
    "end": "396910"
  },
  {
    "text": "bus it could be over any other thing but for the rest of this talk it's only gonna be a HTTP because that's what",
    "start": "396910",
    "end": "402310"
  },
  {
    "text": "everyone is probably using any one news rest not on HTTP there you are shorts a and mythically it",
    "start": "402310",
    "end": "410030"
  },
  {
    "text": "cannot be on HDTV so you get something like this you do a get on a URI for",
    "start": "410030",
    "end": "419360"
  },
  {
    "text": "huddle its API doodlenet files users one two three recent item so now item you",
    "start": "419360",
    "end": "425540"
  },
  {
    "text": "might have looked at recently and you know it's called a uri or a URL a",
    "start": "425540",
    "end": "431330"
  },
  {
    "text": "universal resource indicator or locator so it's a resource that's our resource that URI and at the end of that we go",
    "start": "431330",
    "end": "439910"
  },
  {
    "text": "here's my authorization maybe so these are in headers you might",
    "start": "439910",
    "end": "446120"
  },
  {
    "text": "have an if modified since because you know you got it recently and you want to check them whether anything's been",
    "start": "446120",
    "end": "451190"
  },
  {
    "text": "updated and you don't want to have a response if it hasn't been updated so you can do caching and then in the body",
    "start": "451190",
    "end": "457130"
  },
  {
    "text": "of it it might be Jason in my ear XML but we've got rest responses that deliver CSV files you were asked for",
    "start": "457130",
    "end": "463850"
  },
  {
    "text": "application CSV and you get back CSV so nothing says it has to be Jason at all",
    "start": "463850",
    "end": "469220"
  },
  {
    "text": "it helps if it's Jason if you're gonna do hypermedia with lots of LinkedIn or XML if you want people to find it harder",
    "start": "469220",
    "end": "474919"
  },
  {
    "text": "to read so and the anatomy of a rest response looks a bit like this kind of",
    "start": "474919",
    "end": "484130"
  },
  {
    "start": "477000",
    "end": "477000"
  },
  {
    "text": "thing you get used to looking at in fiddler and in network diagnostic Diagnostics so you get back a status",
    "start": "484130",
    "end": "491030"
  },
  {
    "text": "maybe 200 ok because it's found the resource and it's all hope you've it's all fine you might get a content type",
    "start": "491030",
    "end": "498020"
  },
  {
    "text": "telling you what kind of content is being delivered a last modified header which allows you to do caching on your",
    "start": "498020",
    "end": "504050"
  },
  {
    "text": "side as well as the server knowing about it might be JSON XML as I said could be",
    "start": "504050",
    "end": "509330"
  },
  {
    "text": "even CSV you could be even a PDF file or a Word document and if you've got this Jason well you",
    "start": "509330",
    "end": "515659"
  },
  {
    "text": "might get a set of links so you can see here we have a link for deleting a document we have a link that tells you",
    "start": "515660",
    "end": "521630"
  },
  {
    "text": "how to get the document that self there's an alternate which allows you to open it in the website so if you want to",
    "start": "521630",
    "end": "527720"
  },
  {
    "text": "open that document in a web browser and go to the exact page in huddles website that's the alternate link and there's",
    "start": "527720",
    "end": "533870"
  },
  {
    "text": "known names for these rels that people use that you try and stick by convention rovolon as a specification",
    "start": "533870",
    "end": "543560"
  },
  {
    "text": "now someone's gonna say but we shouldn't always but there's new things on the block there's G RPC rather than rest",
    "start": "543650",
    "end": "551130"
  },
  {
    "text": "we've had people leave huddle and and come back with the joys of gr PC if you",
    "start": "551130",
    "end": "556860"
  },
  {
    "text": "don't know what G RPC is Google have created an open-source RPC engine it's",
    "start": "556860",
    "end": "562110"
  },
  {
    "text": "always connected HTTP to its using binary protocol it's procedure-based rather than that kind of resource based",
    "start": "562110",
    "end": "568890"
  },
  {
    "text": "it's the old-fashioned RPC I think we saw RPC with Java RMI and Colburn D",
    "start": "568890",
    "end": "574620"
  },
  {
    "text": "common so did anyone do D calm and soap and corba yeah does this ring true you",
    "start": "574620",
    "end": "582690"
  },
  {
    "text": "weren't there man you weren't there right I don't want to go back to RPC days everyone pretending the object",
    "start": "582690",
    "end": "589890"
  },
  {
    "text": "exists on your machine but it's on that remote machine over there and God knows how we debug the crap out of this all right so I'm gonna skip RPC because I'm",
    "start": "589890",
    "end": "597750"
  },
  {
    "text": "talking about public API which are much harder to do with something like that when you can't guarantee the HTTP to",
    "start": "597750",
    "end": "603210"
  },
  {
    "text": "transport protocols gonna be around so",
    "start": "603210",
    "end": "608490"
  },
  {
    "start": "607000",
    "end": "607000"
  },
  {
    "text": "if you're gonna start designing an API I mean where do you start well I think the",
    "start": "608490",
    "end": "614160"
  },
  {
    "text": "first thing you do is you do not start in a code editor because that's a bad thing especially if what you do is take",
    "start": "614160",
    "end": "621390"
  },
  {
    "text": "your data model and just fling it out as a kind of API and make it almost crude",
    "start": "621390",
    "end": "626760"
  },
  {
    "text": "like because that's impossible not gonna be the best solution it might be for admin pages but for anything that's",
    "start": "626760",
    "end": "632790"
  },
  {
    "text": "high-stress anything that's going to be used quite a bit it's not going to mean maybe the best solution so you should be",
    "start": "632790",
    "end": "639360"
  },
  {
    "text": "considering your human and automated users human users are the kind of people",
    "start": "639360",
    "end": "644520"
  },
  {
    "text": "who would use a website how are they going to flow around an application or or an iOS device or than Android the",
    "start": "644520",
    "end": "650250"
  },
  {
    "text": "automated users are those services that some of your customers will use which will hammer the crap out of your system",
    "start": "650250",
    "end": "656520"
  },
  {
    "text": "because they want to just automate things and sync files and get the latest tasks and drop everything into their own",
    "start": "656520",
    "end": "662880"
  },
  {
    "text": "system and they have quite different requirements to people who click through an interface and they're trying to navigate round an application",
    "start": "662880",
    "end": "670550"
  },
  {
    "text": "so you should kind of make your API readable by a human safe and XML weren't",
    "start": "670550",
    "end": "676890"
  },
  {
    "text": "inherently readable even left you could just translate the bra braces out but",
    "start": "676890",
    "end": "682260"
  },
  {
    "text": "and while you have the model on the survey may not fit all your clients so this is quite interesting do you design",
    "start": "682260",
    "end": "689730"
  },
  {
    "text": "for the server for the client you really designing for the business you're trying to do what are the things that most",
    "start": "689730",
    "end": "694830"
  },
  {
    "text": "people are gonna use how efficient can we make it and you've got that boring thing of security reliability and speed",
    "start": "694830",
    "end": "701010"
  },
  {
    "text": "and you can't have all of them so you've got to make some compromises which is why you set up a slack channel where you",
    "start": "701010",
    "end": "706530"
  },
  {
    "text": "can argue the crap out on this for several days propose api's amend them",
    "start": "706530",
    "end": "711570"
  },
  {
    "text": "change them all without doing the code first before you finally go hey this is",
    "start": "711570",
    "end": "717090"
  },
  {
    "text": "the API that satisfies no one but it's the best we're gonna get away with right because no one can ever agree on the",
    "start": "717090",
    "end": "723630"
  },
  {
    "text": "perfect API and the really important bit while you're gonna do that design upfront bit is you really are creating a",
    "start": "723630",
    "end": "730980"
  },
  {
    "start": "730000",
    "end": "730000"
  },
  {
    "text": "contract it's a contract between a publisher and a consumer and it's creating mutual obligations because for",
    "start": "730980",
    "end": "739080"
  },
  {
    "text": "the person publishing and that's the huddle we have to document the API we have to tell people where are our",
    "start": "739080",
    "end": "744780"
  },
  {
    "text": "resources what do we expect to give you back what are the options you might have what we might we extend because it was",
    "start": "744780",
    "end": "751350"
  },
  {
    "text": "nice to give hints and and what how different clients might use the API",
    "start": "751350",
    "end": "756810"
  },
  {
    "text": "because different clients have different requirements for the person consuming the I if someone has documented the API",
    "start": "756810",
    "end": "764640"
  },
  {
    "text": "please read it just I know you a documents boring but it's really hard to",
    "start": "764640",
    "end": "770370"
  },
  {
    "text": "write the documentation it's really important to read it afterwards because you can get really into a tangle without",
    "start": "770370",
    "end": "775680"
  },
  {
    "text": "doing that if the guys who've written the API haven't documented it fully moan",
    "start": "775680",
    "end": "781140"
  },
  {
    "text": "at them and get them to document it fully if it's open source do pull requests on their documentation and get",
    "start": "781140",
    "end": "786450"
  },
  {
    "text": "them nice a documentation because they quite enjoy that because that's a bit they don't like writing and remember",
    "start": "786450",
    "end": "792690"
  },
  {
    "text": "that if you only need certain bits from the API only use those bits don't cry",
    "start": "792690",
    "end": "797760"
  },
  {
    "text": "and consume the whole API upfront try and be agile about it we only need these bits at the moment those have been",
    "start": "797760",
    "end": "804000"
  },
  {
    "text": "we'll take if you do that and reduce that coupling if God forbid they change something that's really a breaking",
    "start": "804000",
    "end": "810000"
  },
  {
    "text": "change but you don't use it you won't care and you're fine in your survivor",
    "start": "810000",
    "end": "815450"
  },
  {
    "text": "and documentation is the key so I don't know how many how many people actually",
    "start": "815450",
    "end": "820890"
  },
  {
    "text": "create api's quite a lot because the",
    "start": "820890",
    "end": "826950"
  },
  {
    "text": "documentation is the key at that point and however even if the documentation is sample code that shows you how to use it",
    "start": "826950",
    "end": "833280"
  },
  {
    "text": "that's going to be a winner on it because that just leads people the right way into using your API because there",
    "start": "833280",
    "end": "840240"
  },
  {
    "text": "are ways that people can use your API that you never thought of which will then tie you in knots later have you",
    "start": "840240",
    "end": "845520"
  },
  {
    "text": "ever needed to change it which includes the concept of versioning versioning is",
    "start": "845520",
    "end": "855270"
  },
  {
    "start": "848000",
    "end": "848000"
  },
  {
    "text": "a real problem with rest because you know you've got the ultimate easy way of",
    "start": "855270",
    "end": "861270"
  },
  {
    "text": "versioning when the URI has v2 v3 v4 written in it and the resources are all",
    "start": "861270",
    "end": "866370"
  },
  {
    "text": "different for all the different V's and the clients have to know about all that and they have to be all maintained this",
    "start": "866370",
    "end": "871920"
  },
  {
    "text": "is actually quite a lot of work at the backend so on the nordic api website",
    "start": "871920",
    "end": "877650"
  },
  {
    "text": "which is a superb website for discussing rest and api's and good practices and I",
    "start": "877650",
    "end": "883560"
  },
  {
    "text": "can't Nemec I'm not going to say his first name till I'm rubbish what versions exist quite lot annoyingly the",
    "start": "883560",
    "end": "891660"
  },
  {
    "text": "version of the API that the clients are expecting what message format it might have in it the server the documentation",
    "start": "891660",
    "end": "899490"
  },
  {
    "text": "what version is that describing but what you don't have is you shouldn't really be putting this v2 v3 and the resource",
    "start": "899490",
    "end": "905040"
  },
  {
    "text": "URI that isn't where the versioning is a document is a document it might be it's",
    "start": "905040",
    "end": "910830"
  },
  {
    "text": "described slightly differently but if you've done it correctly and you've made optional parameters and things like that you should be able to get away with",
    "start": "910830",
    "end": "916500"
  },
  {
    "text": "upgrading without a new version so that's what you're trying to do and if",
    "start": "916500",
    "end": "921839"
  },
  {
    "text": "you've got radically new and different versions of resources you really need different resource your eyes because",
    "start": "921839",
    "end": "927870"
  },
  {
    "text": "they're no longer the same thing so how do you an extend an API",
    "start": "927870",
    "end": "937339"
  },
  {
    "start": "931000",
    "end": "931000"
  },
  {
    "text": "apparently you must not take anything away you must not change the presiding rules and you must not make optional things",
    "start": "937490",
    "end": "944190"
  },
  {
    "text": "required I mean this sounds really obvious so and the thing is it's",
    "start": "944190",
    "end": "950459"
  },
  {
    "text": "anything it's the data in the Jason the methods that might be used the headers all sorts of things can actually",
    "start": "950459",
    "end": "956810"
  },
  {
    "text": "effectively change an API but you can monitor who's using your API now this is",
    "start": "956810",
    "end": "963660"
  },
  {
    "text": "an important bit we it's important that if you have external customers you know who's using an API and who isn't using",
    "start": "963660",
    "end": "970079"
  },
  {
    "text": "an API so you have something like gdpr coming up which we had and we had an iOS",
    "start": "970079",
    "end": "976110"
  },
  {
    "text": "contacts app we wanted to work out you know realistically if there's an old app that we'd had we'd put out two years ago",
    "start": "976110",
    "end": "982110"
  },
  {
    "text": "that allowed you to find all the people who are in huddle in your company and be able to look them up and we went so GDP",
    "start": "982110",
    "end": "989940"
  },
  {
    "text": "our nightmare its local data on people's phones and it's all the personal information so let's see who's using",
    "start": "989940",
    "end": "995700"
  },
  {
    "text": "this app to work out what we're going to do with it and what we find is there's about five people using the app at which",
    "start": "995700",
    "end": "1001880"
  },
  {
    "text": "point we killed the app so we said pulling out the store warned them give them two weeks notice we'll just kill the app it's on an old API version that",
    "start": "1001880",
    "end": "1008690"
  },
  {
    "text": "we don't support properly anymore anyway to get that list of contacts and it was much easier just to kill it off but we",
    "start": "1008690",
    "end": "1014570"
  },
  {
    "text": "could only do that because we know exactly who's talking to our API what they're calling and then could work out exact users who are calling it so we",
    "start": "1014570",
    "end": "1021440"
  },
  {
    "text": "could email those users to tell them we're about to deprecate an API and an unbelievably telling someone were",
    "start": "1021440",
    "end": "1028130"
  },
  {
    "text": "getting rid of the app that that someone's using got those good marks in Zendesk from the customer support",
    "start": "1028130",
    "end": "1033860"
  },
  {
    "text": "telling them that they were going to withdraw the product and that's part of it you formalize how you gonna tell",
    "start": "1033860",
    "end": "1040280"
  },
  {
    "text": "people you're gonna change an API for us you've got at least six months before",
    "start": "1040280",
    "end": "1045650"
  },
  {
    "text": "you could ditch an API that you don't want to give up someone anymore at least six months just to flush all the clients",
    "start": "1045650",
    "end": "1052400"
  },
  {
    "text": "out and flush all the systems through and that includes the applications we write that people install on their",
    "start": "1052400",
    "end": "1057710"
  },
  {
    "text": "machines so it's you can't force everyone overnight to upgrade a OS app",
    "start": "1057710",
    "end": "1062780"
  },
  {
    "text": "they're not going to do it and enterprises don't like upgrading desktop apps every",
    "start": "1062780",
    "end": "1068180"
  },
  {
    "text": "two weeks that's submit they resist hugely so there's this idea of",
    "start": "1068180",
    "end": "1075680"
  },
  {
    "start": "1071000",
    "end": "1071000"
  },
  {
    "text": "introducing these breaking changes so",
    "start": "1075680",
    "end": "1081410"
  },
  {
    "text": "you create a new resource if you're gonna change query parameters and what it might do headers what data you've",
    "start": "1081410",
    "end": "1087530"
  },
  {
    "text": "sent accept or send things that you rely on and relationships with resources if",
    "start": "1087530",
    "end": "1093470"
  },
  {
    "text": "documents only been a workspace anymore but they live somewhere completely different and you're gonna give someone a completely different resource for work",
    "start": "1093470",
    "end": "1100070"
  },
  {
    "text": "who owns them you can have to change the resource because the old clients won't",
    "start": "1100070",
    "end": "1105410"
  },
  {
    "text": "know what to do with it basically if you can't make the client app produce the",
    "start": "1105410",
    "end": "1113720"
  },
  {
    "text": "same results with the same resources they previously called you've broken the API you've done a breaking change it",
    "start": "1113720",
    "end": "1119540"
  },
  {
    "text": "maybe they still behave correctly but they make a lot more calls into your server which is one of the cases so what",
    "start": "1119540",
    "end": "1128300"
  },
  {
    "text": "we're trying to get is patterns and strategies that we might reasonably go",
    "start": "1128300",
    "end": "1134360"
  },
  {
    "text": "for to make our REST API friendly and nice and in that versioning we have things like deprecation obviously I said",
    "start": "1134360",
    "end": "1142190"
  },
  {
    "text": "we give people warnings you give people six months even after six months what",
    "start": "1142190",
    "end": "1147470"
  },
  {
    "text": "you really don't want to do is start giving them server error five hundreds we want to get rid of that that's a",
    "start": "1147470",
    "end": "1152840"
  },
  {
    "text": "that's a nasty thing to give a client because it doesn't really help them because what happens is the user blames",
    "start": "1152840",
    "end": "1159550"
  },
  {
    "text": "whatever the the app is that isn't necessarily them it may be Hudl they",
    "start": "1159550",
    "end": "1165440"
  },
  {
    "text": "might not even get to the idea that hurdles at fault or they might just say hurdles broken I can't get to it that's it I'm not using it so you can do",
    "start": "1165440",
    "end": "1174530"
  },
  {
    "start": "1173000",
    "end": "1173000"
  },
  {
    "text": "elegant deprecation so if anyone used google capture in their login forms in",
    "start": "1174530",
    "end": "1181370"
  },
  {
    "text": "order to do validation at some point this year early on this year the capture",
    "start": "1181370",
    "end": "1187790"
  },
  {
    "text": "which would normally be that random squiggle of letters and numbers it's hard to read so computers can't read it but human can started to say this to 1%",
    "start": "1187790",
    "end": "1195500"
  },
  {
    "text": "of users so it would come up on on something like logging Paige saying v1 unsupported please tell",
    "start": "1195500",
    "end": "1203660"
  },
  {
    "text": "whoever it is who's written this site to go to this URI so after your I and it",
    "start": "1203660",
    "end": "1209810"
  },
  {
    "text": "tells you hey you need to upgrade from v1 to v2 of the capture interface it'll all end in March and March you won't get",
    "start": "1209810",
    "end": "1215810"
  },
  {
    "text": "anything at all back and that meant we could tell the site owner by the way you",
    "start": "1215810",
    "end": "1220940"
  },
  {
    "text": "need to upgrade your capture thing which is a relatively easy thing for them to do but that's a graceful deprecation",
    "start": "1220940",
    "end": "1226280"
  },
  {
    "text": "where even when v1 was still available they selected 1% of users to show that",
    "start": "1226280",
    "end": "1231530"
  },
  {
    "text": "message to to get those people off v1 which is kind of really neat now did",
    "start": "1231530",
    "end": "1238970"
  },
  {
    "text": "anyone I was gonna say does anyone have a Windows Mobile but I think it's got to",
    "start": "1238970",
    "end": "1244370"
  },
  {
    "text": "be the past tense now did anyone have a Windows very well and you used to be",
    "start": "1244370",
    "end": "1249710"
  },
  {
    "text": "able to search for music like Shazam you could make it listen to a song and find out you know what song was playing they",
    "start": "1249710",
    "end": "1258230"
  },
  {
    "text": "got rid of groove music in December Microsoft ended the groove music streaming service and at that point they",
    "start": "1258230",
    "end": "1263900"
  },
  {
    "text": "can tell what music you had because they had no music catalog to compare against so when you went and searched for a song",
    "start": "1263900",
    "end": "1270260"
  },
  {
    "text": "it came back with this so whatever song you search for it came back with a title",
    "start": "1270260",
    "end": "1276410"
  },
  {
    "text": "for that song of song and recognized on an album the service is retired by the",
    "start": "1276410",
    "end": "1281840"
  },
  {
    "text": "artists music continues right that wasn't just mobile that was on Windows",
    "start": "1281840",
    "end": "1287450"
  },
  {
    "text": "10 desktop as well because this was Cortana's music search feature as well so actually happened on real desktop",
    "start": "1287450",
    "end": "1293870"
  },
  {
    "text": "machines just as well and but the point about that is the user gets a message so that completely tells them kind of",
    "start": "1293870",
    "end": "1300560"
  },
  {
    "text": "what's happening that cleanliness service doesn't exist anymore but they can still play music but what they can't",
    "start": "1300560",
    "end": "1307010"
  },
  {
    "text": "do is recognize it anymore and that's nicer than server error I'm going to show you an empty list which is",
    "start": "1307010",
    "end": "1313700"
  },
  {
    "text": "otherwise what happens and one of the way to achieve this has anyone heard of",
    "start": "1313700",
    "end": "1319400"
  },
  {
    "start": "1316000",
    "end": "1316000"
  },
  {
    "text": "bffs mmm yeah a few back-end for front",
    "start": "1319400",
    "end": "1324770"
  },
  {
    "text": "ends so this bizarre thing it's basically a facade in front of your own",
    "start": "1324770",
    "end": "1330440"
  },
  {
    "text": "services so you may have an API already and you want to deprecate how the API",
    "start": "1330440",
    "end": "1337100"
  },
  {
    "text": "works mainly because you're completely re-engineering the backend we've done this recently we engineered entirely how",
    "start": "1337100",
    "end": "1343490"
  },
  {
    "text": "our tas system works it means we don't really have the same data anymore in the",
    "start": "1343490",
    "end": "1348860"
  },
  {
    "text": "database that we used to have so to support the other API we've written a Python front end in front that calls the",
    "start": "1348860",
    "end": "1356360"
  },
  {
    "text": "new API but translates it into all the semantics that the old API would have done and that means we don't have to",
    "start": "1356360",
    "end": "1362870"
  },
  {
    "text": "support the old API in a honkey bit of c-sharp code we can temporarily support",
    "start": "1362870",
    "end": "1368150"
  },
  {
    "text": "it in this Python until we move everyone off and then we can throw that Python away and you can do the same thing with",
    "start": "1368150",
    "end": "1373820"
  },
  {
    "text": "nodejs or graph oql it's that kind of thing where you put a temporary facade in front so this is just great it was in",
    "start": "1373820",
    "end": "1382520"
  },
  {
    "text": "the thought works TechRadar in 2016 as finally I know quite a few people who are now using it",
    "start": "1382520",
    "end": "1387710"
  },
  {
    "text": "as a pattern so you could be engineer and just use the new API but handover as",
    "start": "1387710",
    "end": "1394940"
  },
  {
    "text": "if it was the old API the other thing you can use bffs Thor and some Newman was Wittering on the roundest about four",
    "start": "1394940",
    "end": "1400790"
  },
  {
    "text": "years ago an NBC workshop is those BFFs are good for things like changing the",
    "start": "1400790",
    "end": "1406550"
  },
  {
    "text": "shape of the data if your REST API doesn't quite do what you might like for one of your clients one of your apps you",
    "start": "1406550",
    "end": "1414470"
  },
  {
    "text": "may decide we could put a BFF in front of that so the front end team who write",
    "start": "1414470",
    "end": "1420290"
  },
  {
    "text": "the web they're good at nodejs they can make no Jess or graph QL talk to our",
    "start": "1420290",
    "end": "1425780"
  },
  {
    "text": "api's and so when they asked for give me my recent documents instead of going a recent document list 20 document",
    "start": "1425780",
    "end": "1433040"
  },
  {
    "text": "links and going through every document link they could just return a aggregate of all the 20 documents which is",
    "start": "1433040",
    "end": "1440360"
  },
  {
    "text": "something they can write in their BFF and then supply a much shorter call into the web client and then it only has the",
    "start": "1440360",
    "end": "1446690"
  },
  {
    "text": "data that they need and that's their strategy is to improve performance by doing optimizations on really recent",
    "start": "1446690",
    "end": "1453860"
  },
  {
    "text": "commonly used things that take a lot of time",
    "start": "1453860",
    "end": "1458200"
  },
  {
    "start": "1457000",
    "end": "1457000"
  },
  {
    "text": "now I said about hypermedia we know that hypermedia in a normal webpage gives you",
    "start": "1459610",
    "end": "1465140"
  },
  {
    "text": "the links so I did the example of a new site where you click on the headlines and you get the top 10 headlines and",
    "start": "1465140",
    "end": "1470480"
  },
  {
    "text": "then you click on them and work our way through so when you deliver a resource",
    "start": "1470480",
    "end": "1476540"
  },
  {
    "text": "you can do these links and that can tell you how you should construct the user interface so we can work out either",
    "start": "1476540",
    "end": "1483140"
  },
  {
    "text": "users allowed to edit a document we could have edit links so you could have a delete link this actually allows you",
    "start": "1483140",
    "end": "1490070"
  },
  {
    "text": "to build the interface based on the response you get back this is really cool stuff because it just means you",
    "start": "1490070",
    "end": "1496429"
  },
  {
    "text": "don't have to go to a different permissions engine to go right now I've got a document I now have to go off and make this second call and find out how I",
    "start": "1496429",
    "end": "1502970"
  },
  {
    "text": "should make my user interface in order to work and that just allows you to",
    "start": "1502970",
    "end": "1509750"
  },
  {
    "text": "build this interface and all the links that come back all those hypermedia lengths are relative they can change",
    "start": "1509750",
    "end": "1515570"
  },
  {
    "text": "they could theoretically change so that they can be upgraded and they really reflect the permission you have on a",
    "start": "1515570",
    "end": "1521750"
  },
  {
    "text": "document so we use this in a real world example in huddle and we use it",
    "start": "1521750",
    "end": "1528530"
  },
  {
    "start": "1523000",
    "end": "1523000"
  },
  {
    "text": "especially in our document page so you're looking at a document you need to know whether you can edit it approve it",
    "start": "1528530",
    "end": "1533630"
  },
  {
    "text": "do things all those links are set by the users permissions the only problem is we",
    "start": "1533630",
    "end": "1540440"
  },
  {
    "text": "cocked up a bit because we didn't just use it for permissions so one of the",
    "start": "1540440",
    "end": "1546260"
  },
  {
    "text": "things you can do in huddle is lock a document for editing so and that's a",
    "start": "1546260",
    "end": "1551330"
  },
  {
    "text": "single lock that's what we implement internally we can also do multiple locking using office 365 so you can edit",
    "start": "1551330",
    "end": "1557030"
  },
  {
    "text": "online and have multiple users editing the same document but this is a single lock and the problem was in the old days",
    "start": "1557030",
    "end": "1564400"
  },
  {
    "text": "we just kind of loaded the document page and if the Edit link wasn't there you couldn't edit it probably because it",
    "start": "1564400",
    "end": "1571549"
  },
  {
    "text": "might be locked and it might be because you don't have permissions but you don't know but it doesn't matter because we",
    "start": "1571549",
    "end": "1576770"
  },
  {
    "text": "don't need the edit button I need to refresh the page in order to see a new version of it to see if someone had unlocked it we then got all excited we",
    "start": "1576770",
    "end": "1585770"
  },
  {
    "text": "got WebSockets and it's now a single page application so it doesn't reload it magically gets told the documents being",
    "start": "1585770",
    "end": "1592190"
  },
  {
    "text": "update its knows it's got unlocked and so the team go it's great we've got an unlock message we can enable the edit button",
    "start": "1592190",
    "end": "1598730"
  },
  {
    "text": "that we don't have because we've never given it because now we haven't got that",
    "start": "1598730",
    "end": "1603950"
  },
  {
    "text": "because we never had it when we entered the page because the document was locked bit crap we have to reload the entire",
    "start": "1603950",
    "end": "1611480"
  },
  {
    "text": "document resource in order to work out what the link the edit button should have had so we're now in the process of",
    "start": "1611480",
    "end": "1619280"
  },
  {
    "text": "working out how we're gonna have to extend the API for documents to include a section that's new that we will",
    "start": "1619280",
    "end": "1625970"
  },
  {
    "text": "understand as this new bit that told you hey here's the edit link for when the documents unlocked so that we have",
    "start": "1625970",
    "end": "1632330"
  },
  {
    "text": "something we can show immediately and then we can drop a call out of the web browser and it's really fast and the button looks disabled to start with",
    "start": "1632330",
    "end": "1638780"
  },
  {
    "text": "which indicates you could have edited it but someone's got it locked which is how it works if you stop a bit being",
    "start": "1638780",
    "end": "1644780"
  },
  {
    "text": "unlocked and then it locks automatically because we cache all that document information in a local repository in",
    "start": "1644780",
    "end": "1651410"
  },
  {
    "text": "JavaScript so the other thing that I highly recommend if you aren't doing it",
    "start": "1651410",
    "end": "1658100"
  },
  {
    "start": "1653000",
    "end": "1653000"
  },
  {
    "text": "is get hold of the idea of doing 304 not modified so it's using this if modified",
    "start": "1658100",
    "end": "1664820"
  },
  {
    "text": "since and last modified headers these are really cool and will save your",
    "start": "1664820",
    "end": "1670010"
  },
  {
    "text": "server a lot of effort so beta Lee what happens is when you get a resource as a",
    "start": "1670010",
    "end": "1679120"
  },
  {
    "text": "publisher you can give someone a last modified header so it has a nice it has",
    "start": "1679120",
    "end": "1685730"
  },
  {
    "text": "a date/time type thing in it and and that allows you to client say hey when I",
    "start": "1685730",
    "end": "1693350"
  },
  {
    "text": "next get this document I had this modified sin last modified header I'm",
    "start": "1693350",
    "end": "1698420"
  },
  {
    "text": "gonna say if it's modified since then can you tell me over and if it's been",
    "start": "1698420",
    "end": "1703940"
  },
  {
    "text": "modified you get a two hundred and you get the full JSON back if it hasn't been modified you get 304 and the client says",
    "start": "1703940",
    "end": "1710390"
  },
  {
    "text": "I've got the latest version of this I don't need any more and that 304 for huddle is a check in Redis it's really",
    "start": "1710390",
    "end": "1717410"
  },
  {
    "text": "fast to do a lookup we don't have to go anywhere near our main DV we don't have to go anywhere near loading real data",
    "start": "1717410",
    "end": "1722600"
  },
  {
    "text": "and compare the other way you can do this is with",
    "start": "1722600",
    "end": "1727690"
  },
  {
    "text": "the e-tags and etags are absolutely the way you",
    "start": "1727690",
    "end": "1733320"
  },
  {
    "text": "guarantee it's not being modified where you hash all the data you would have given in the JSON response or the",
    "start": "1733320",
    "end": "1739809"
  },
  {
    "text": "response the only problem with hashing all the response is you have to get all",
    "start": "1739809",
    "end": "1745299"
  },
  {
    "text": "the data to create the response to create the hash to check whether it's changed which is quite a lengthy process",
    "start": "1745299",
    "end": "1750389"
  },
  {
    "text": "so there's something called wiki tags where you do a version number so you actually hash this is document 20",
    "start": "1750389",
    "end": "1757450"
  },
  {
    "text": "if you've had document 20 you've probably got all the data and that's a much faster operation to do so that's",
    "start": "1757450",
    "end": "1764710"
  },
  {
    "text": "your solution if you don't like the not modified if you're really busy website",
    "start": "1764710",
    "end": "1770019"
  },
  {
    "text": "there's a problem if not modified and the mock modified problem is it's based on seconds and the problem with that is",
    "start": "1770019",
    "end": "1779139"
  },
  {
    "text": "if you have someone update a document at 21 seconds and someone read it and they",
    "start": "1779139",
    "end": "1784359"
  },
  {
    "text": "get yeah it was modified at 21 seconds and then someone else comes in half a second later and modifies it and then",
    "start": "1784359",
    "end": "1790179"
  },
  {
    "text": "you ask for again you'll be told it hasn't changed see if you got really busy sites you're not going to be liking",
    "start": "1790179",
    "end": "1795729"
  },
  {
    "text": "the last modified header you may find you get very weird edge cases where you",
    "start": "1795729",
    "end": "1801070"
  },
  {
    "text": "don't get the latest data at that point you've got to go e-tags so here's an",
    "start": "1801070",
    "end": "1806889"
  },
  {
    "start": "1805000",
    "end": "1805000"
  },
  {
    "text": "example of where our BFF broke the API unfortunately and remember I said it's",
    "start": "1806889",
    "end": "1814989"
  },
  {
    "text": "not just the resources it's not just a Jason it can be the headers and the team",
    "start": "1814989",
    "end": "1821529"
  },
  {
    "text": "who made the BFF decided to over emit their being a last modified header so",
    "start": "1821529",
    "end": "1827859"
  },
  {
    "text": "iOS app said hey if I got any notifications and it said yes here 200",
    "start": "1827859",
    "end": "1833080"
  },
  {
    "text": "and it said right I've got 20 notifications I've hammered a server for every 20 of them and get all the data to",
    "start": "1833080",
    "end": "1838570"
  },
  {
    "text": "do with them what it didn't do is put 304 logic on the request for notifications because it didn't need to",
    "start": "1838570",
    "end": "1844479"
  },
  {
    "text": "because the list kind of dealt with that so unfortunately it gave the same result",
    "start": "1844479",
    "end": "1850359"
  },
  {
    "text": "in the iOS app but it was making 21 calls instead of 1 which is a bit",
    "start": "1850359",
    "end": "1856089"
  },
  {
    "text": "unfortunate to be honest we could have left it like that there aren't that many iOS apps on",
    "start": "1856089",
    "end": "1861880"
  },
  {
    "text": "that particular page in the app causing us the problem but the mitigation is clearly put the last modified header in",
    "start": "1861880",
    "end": "1869290"
  },
  {
    "text": "because you broke the API and there was a belief that we shouldn't need to do that the clients got it wrong and as I",
    "start": "1869290",
    "end": "1876790"
  },
  {
    "text": "said earlier if the client behaves differently because you've changed something in the API you've broken the API you've made a breaking change the",
    "start": "1876790",
    "end": "1884290"
  },
  {
    "text": "other alternative as they said was can you just fix the iOS er I said do you want to wait six months for us to get",
    "start": "1884290",
    "end": "1890770"
  },
  {
    "text": "everyone onto the new iOS app and they went no not really okay snow you're gonna have to put the",
    "start": "1890770",
    "end": "1896020"
  },
  {
    "text": "last modified header in which wasn't too hard so one of the other things you can",
    "start": "1896020",
    "end": "1901510"
  },
  {
    "start": "1900000",
    "end": "1900000"
  },
  {
    "text": "do has anyone used returning for two nines when their server gets busy it's",
    "start": "1901510",
    "end": "1907390"
  },
  {
    "text": "cool how many people respect 49 who's used it do you find people don't respect",
    "start": "1907390",
    "end": "1913780"
  },
  {
    "text": "them very much so the whole idea here is if your servers really busy and you can",
    "start": "1913780",
    "end": "1920020"
  },
  {
    "text": "do this rate limit on specific apps there's one of the interesting use cases we have we have a company who wants to",
    "start": "1920020",
    "end": "1927460"
  },
  {
    "text": "sync all the files out of huddle on to their local backup systems all the time and they make a lot of requests into the",
    "start": "1927460",
    "end": "1933550"
  },
  {
    "text": "system so we rate limit them we allow them to make so many requests per hour and we can monitor that and then we can",
    "start": "1933550",
    "end": "1940240"
  },
  {
    "text": "rate limit them at the point they start exceeding their usage so what you do is you send back four to nine with a header",
    "start": "1940240",
    "end": "1946990"
  },
  {
    "text": "saying hey retry in 30 seconds and then try and come back in and if your consumers are nice they back off for 30",
    "start": "1946990",
    "end": "1953590"
  },
  {
    "text": "seconds and then come back and try and request again and that's really cool for trying to Dave your servers under",
    "start": "1953590",
    "end": "1959680"
  },
  {
    "text": "pressure you can start relieving it by just saying hey we're going to start rate limiting people get the system back",
    "start": "1959680",
    "end": "1965050"
  },
  {
    "text": "under control and then we should be okay there is a responsibility of the",
    "start": "1965050",
    "end": "1971710"
  },
  {
    "text": "consumer to actually do something sensible 4:49 response and unfortunately",
    "start": "1971710",
    "end": "1979060"
  },
  {
    "text": "at one point we managed to get our desktop client trying to ddos us because it was hammering us so hard because we",
    "start": "1979060",
    "end": "1986020"
  },
  {
    "text": "had problems on the server which meant to serve a timed out it thought the network had gone down checking whether the network had really",
    "start": "1986020",
    "end": "1992549"
  },
  {
    "text": "gone down found that the network hadn't gone down and came back and forgot to do a 304 and requested like hell for all",
    "start": "1992549",
    "end": "2000230"
  },
  {
    "text": "the data it might have missed in the meantime and it was very hard to deal with at that point so but even with it",
    "start": "2000230",
    "end": "2009409"
  },
  {
    "text": "being hard to deal with those clients could still get four two nines back which is a faster operation than having",
    "start": "2009409",
    "end": "2015470"
  },
  {
    "text": "to get all the data and then timing out so 49 s can be a very quick thing to protect your server in any emergency so",
    "start": "2015470",
    "end": "2024890"
  },
  {
    "start": "2023000",
    "end": "2023000"
  },
  {
    "text": "the other thing we get is you think in this modern world we've got web calls",
    "start": "2024890",
    "end": "2030470"
  },
  {
    "text": "they're not really a sink type things and a sinks the new you know is everyone",
    "start": "2030470",
    "end": "2036110"
  },
  {
    "text": "would like a sink C sharps giving it to the rest of the world in language terms",
    "start": "2036110",
    "end": "2041950"
  },
  {
    "text": "so how can we do an async pattern inside of rest and there is a patent or it's a",
    "start": "2041950",
    "end": "2048950"
  },
  {
    "text": "progress endpoint pattern so it's really nice it's so if you're doing something",
    "start": "2048950",
    "end": "2054560"
  },
  {
    "text": "like search or say in our system we upload a video and we expect to get a",
    "start": "2054560",
    "end": "2060648"
  },
  {
    "text": "preview of it but some of these videos have one gig in size it takes time to convert an entire one gig mp4 file into",
    "start": "2060649",
    "end": "2067460"
  },
  {
    "text": "a low bitrate file for people to preview so you post all the data that you want",
    "start": "2067460",
    "end": "2073388"
  },
  {
    "text": "the server returns 202 accepted and gives you a link to say hey here's a",
    "start": "2073389",
    "end": "2078770"
  },
  {
    "text": "link you can check to see how it's going see what's happening and that's the",
    "start": "2078770",
    "end": "2084080"
  },
  {
    "text": "point so that link and then I returned a final response and give you the Jason so it's almost like if the post was quick",
    "start": "2084080",
    "end": "2090500"
  },
  {
    "text": "it would have returned the Jason for the new resource it created but instead you keep holding this link and eventually",
    "start": "2090500",
    "end": "2096080"
  },
  {
    "text": "when the preview is ready it will give you all the Jason you would have got if it could have done it like that or it",
    "start": "2096080",
    "end": "2102050"
  },
  {
    "text": "could say we ran out of space or run out of time or we can't convert it because there's a problem with the file or it",
    "start": "2102050",
    "end": "2108140"
  },
  {
    "text": "can even just redirect you to the right page that kind of thing and once that",
    "start": "2108140",
    "end": "2115339"
  },
  {
    "text": "when async came in and someone went we can async our our web calls inside the",
    "start": "2115339",
    "end": "2121339"
  },
  {
    "text": "server we can make our web calls asynchronous and wanted the magic thing of I want to make it",
    "start": "2121339",
    "end": "2127130"
  },
  {
    "text": "asynchronous so that someone can make a call into the web server and it",
    "start": "2127130",
    "end": "2132200"
  },
  {
    "text": "immediately comes back if everything's okay but if there's an error I want them to be hell held until I'd give them an",
    "start": "2132200",
    "end": "2139220"
  },
  {
    "text": "error code which is impossible the way he was describing it was just never gonna work whereas this pattern actually works",
    "start": "2139220",
    "end": "2145220"
  },
  {
    "text": "really well so because we get this progress pattern we do that original",
    "start": "2145220",
    "end": "2150770"
  },
  {
    "text": "query that post that / or get that causes us to get a redirect or a progress URI but if we had oh that",
    "start": "2150770",
    "end": "2159380"
  },
  {
    "text": "document doesn't exist or you're not authorized to do this or there's an server error we could give that back immediately so you immediately give at",
    "start": "2159380",
    "end": "2166550"
  },
  {
    "text": "fast failure to the client and then you allow the client to pull later to get",
    "start": "2166550",
    "end": "2171680"
  },
  {
    "text": "the final result so it gets the whole benefit of the async operation of right now the app can just go off and do this",
    "start": "2171680",
    "end": "2178099"
  },
  {
    "text": "a complicated query say if it's a long search query you can do other things in the app and then it can pop up going hey",
    "start": "2178099",
    "end": "2184099"
  },
  {
    "text": "that query is finished you want to look at the results and you can never happen in the background now the other thing",
    "start": "2184099",
    "end": "2193460"
  },
  {
    "text": "we've had in the past and this is a great pattern to use and whereas when",
    "start": "2193460",
    "end": "2201619"
  },
  {
    "text": "you get just one one property you want to change the resource just one this one",
    "start": "2201619",
    "end": "2206990"
  },
  {
    "text": "and the rest pure risk oh well you must do a putt with the whole of the resource that is all the Jason that could",
    "start": "2206990",
    "end": "2213890"
  },
  {
    "text": "possibly be in the resource and you can't just change the status on its own",
    "start": "2213890",
    "end": "2220750"
  },
  {
    "text": "and the real niggle with that is you then start getting into new verbs such",
    "start": "2220750",
    "end": "2226880"
  },
  {
    "text": "as patch and you start talking about patch operations and then because as",
    "start": "2226880",
    "end": "2232369"
  },
  {
    "text": "well as get and get put post and delete there's also head and options and then",
    "start": "2232369",
    "end": "2238640"
  },
  {
    "text": "you get esoteric and start going patch and all these things and patch is not",
    "start": "2238640",
    "end": "2243829"
  },
  {
    "text": "guaranteed to be idempotent either so it's a bit painful and whether your",
    "start": "2243829",
    "end": "2248930"
  },
  {
    "text": "library support them properly is another question so we could put a do a mini pot",
    "start": "2248930",
    "end": "2254329"
  },
  {
    "text": "or post so we create a child resource so say you had a document files",
    "start": "2254329",
    "end": "2260880"
  },
  {
    "text": "document on 2/3 and all we want to do is change the read-only flag change it from yes one to zero we put for that new",
    "start": "2260880",
    "end": "2270299"
  },
  {
    "text": "resource it's just a child resource and it's just the read-only flag with one property in it one bit adjacent in it",
    "start": "2270299",
    "end": "2276089"
  },
  {
    "text": "and then it can return the full representation back so that we actually",
    "start": "2276089",
    "end": "2282210"
  },
  {
    "text": "get a full version of what that document looks like now with that read-only set and the really nice thing is if we call",
    "start": "2282210",
    "end": "2288390"
  },
  {
    "text": "it four times we still end up with the same thing happening it will be the read-only flag set to 1 or 0 the thing",
    "start": "2288390",
    "end": "2294779"
  },
  {
    "text": "that we tried to do and the point is when you return the whole of that Jason we can then use the content location",
    "start": "2294779",
    "end": "2301740"
  },
  {
    "text": "header in the response to tell you although you put that this resource what you got back is this resource so go and",
    "start": "2301740",
    "end": "2308880"
  },
  {
    "text": "look over here and that's what you've act we've actually given you back so you're not even breaking the whole rules",
    "start": "2308880",
    "end": "2314220"
  },
  {
    "text": "of hypermedia and links and resources so this is really cool because that's one of the hardest things to do in rest",
    "start": "2314220",
    "end": "2320069"
  },
  {
    "text": "where people go ah but I can't do something simple so real-world examples",
    "start": "2320069",
    "end": "2327500"
  },
  {
    "text": "and we'll go on from that so this exact example we have was a farm request",
    "start": "2327500",
    "end": "2333029"
  },
  {
    "start": "2328000",
    "end": "2328000"
  },
  {
    "text": "status so you can create a task in huddle and say hey Bob I need you to",
    "start": "2333029",
    "end": "2339599"
  },
  {
    "text": "give me the latest financial figures for for the company and he gets an email and he gets an endpoint that you can upload",
    "start": "2339599",
    "end": "2345569"
  },
  {
    "text": "it to and at some point he can set the status to done when he's happy that he's uploaded all the data that he needs to",
    "start": "2345569",
    "end": "2351839"
  },
  {
    "text": "upload and the guys in there in the front-end team are going this is really",
    "start": "2351839",
    "end": "2357359"
  },
  {
    "text": "crap so because every time we update the status on the web UI we have to do a get",
    "start": "2357359",
    "end": "2364259"
  },
  {
    "text": "to the latest version of the task resource to make sure no one has changed it since we loaded it into our web page",
    "start": "2364259",
    "end": "2369630"
  },
  {
    "text": "to then change one property on it to do a pot which doesn't return the resource",
    "start": "2369630",
    "end": "2374700"
  },
  {
    "text": "either because pots don't necessarily return resources and then we have to do a get to make sure that we did save it correctly so that we can refresh our",
    "start": "2374700",
    "end": "2381119"
  },
  {
    "text": "repository which is three calls to do one tiny reading operation to which they",
    "start": "2381119",
    "end": "2386519"
  },
  {
    "text": "said but that's how the API works but the good bit was that I then went to",
    "start": "2386519",
    "end": "2392680"
  },
  {
    "text": "coffee with Toby who is responsible as an architect for the tasks API and he said why the hell didn't they talk to us",
    "start": "2392680",
    "end": "2398140"
  },
  {
    "text": "about it we'll just write it like this we'll use this read this method of doing it so they're developing that mini put so",
    "start": "2398140",
    "end": "2405580"
  },
  {
    "text": "there will be a status child resource they do a port they get it back and the web team are really happy and why they",
    "start": "2405580",
    "end": "2412180"
  },
  {
    "text": "couldn't walk four deaths across an office to talk to the back-end team to have a discussion about this I don't",
    "start": "2412180",
    "end": "2417790"
  },
  {
    "text": "know but it's my example of how coffee solves everything if you go for coffee",
    "start": "2417790",
    "end": "2423430"
  },
  {
    "text": "regularly with people so it reduces server calls and it clearly actually",
    "start": "2423430",
    "end": "2429790"
  },
  {
    "text": "indicates what the business process was because I didn't want to update a task I just wanted to change the status so I'm",
    "start": "2429790",
    "end": "2436600"
  },
  {
    "text": "much more clear about what I'm trying to do and what I'm attempting so I",
    "start": "2436600",
    "end": "2442720"
  },
  {
    "start": "2441000",
    "end": "2441000"
  },
  {
    "text": "mentioned earlier that we shouldn't over consume and I'm not talking sugar and",
    "start": "2442720",
    "end": "2448360"
  },
  {
    "text": "fat and alcohol because everyone should over consume sugar fat now coke is it gorgeous and he made me happy and but",
    "start": "2448360",
    "end": "2457360"
  },
  {
    "text": "make me have to run in order to get rid of the weight that's the only problem and so just because a response includes",
    "start": "2457360",
    "end": "2464650"
  },
  {
    "text": "data you do not need to have it all right you don't need to grab it all and",
    "start": "2464650",
    "end": "2471130"
  },
  {
    "text": "responses are messages they're not saying hey you need to know all this it's hey here's all the information you",
    "start": "2471130",
    "end": "2477040"
  },
  {
    "text": "can do what you like with it it's up to you especially if you're just reading and you're not really updating things",
    "start": "2477040",
    "end": "2483580"
  },
  {
    "text": "you don't need all the data for a resource you only need two subsets for you to do with the operations you're interested in so a real-world example a",
    "start": "2483580",
    "end": "2490870"
  },
  {
    "text": "subtle desktop so a QA who was doing quite a correct thing decided to put an",
    "start": "2490870",
    "end": "2497530"
  },
  {
    "text": "invalid URI in the personal website of the user profile something we don't support any more personal websites and",
    "start": "2497530",
    "end": "2505240"
  },
  {
    "text": "they were checking we didn't get JavaScript injection so the server code",
    "start": "2505240",
    "end": "2511330"
  },
  {
    "text": "that except did the update to a user profile that was quite happy to have something that wasn't a proper URI first",
    "start": "2511330",
    "end": "2518320"
  },
  {
    "text": "fine little desktop every time it starts goes to an entry point into our API as I said",
    "start": "2518320",
    "end": "2523360"
  },
  {
    "text": "go to the sentry point you get told where to go and what you get told is worthy user profile is so you load that",
    "start": "2523360",
    "end": "2528610"
  },
  {
    "text": "it decided a person obviously a personal website must be a system don't you are I",
    "start": "2528610",
    "end": "2534450"
  },
  {
    "text": "pushed it into that dotnet blows up doc that frame way says that's not URI we're",
    "start": "2534450",
    "end": "2539740"
  },
  {
    "text": "confident in there throws an exception on the bit of code they decided not to put an exception handler around so that's the end of our",
    "start": "2539740",
    "end": "2547030"
  },
  {
    "text": "desktop every time it starts up so and the real annoying thing about this of",
    "start": "2547030",
    "end": "2552100"
  },
  {
    "text": "course is that desktop did not use the personal website it never showed it it never used it but the problem was when",
    "start": "2552100",
    "end": "2559120"
  },
  {
    "text": "they when it was first created they pointed it at the API and said we will see realize everything into real objects",
    "start": "2559120",
    "end": "2565330"
  },
  {
    "text": "so every class DC realizes every bit of JSON into an object was what they needed",
    "start": "2565330",
    "end": "2570820"
  },
  {
    "text": "to do was get about five bits of information out at the twenty or thirty that they needed to get and then they",
    "start": "2570820",
    "end": "2575890"
  },
  {
    "text": "could have survived such madness as JavaScript in a URI now I've been",
    "start": "2575890",
    "end": "2582520"
  },
  {
    "start": "2581000",
    "end": "2581000"
  },
  {
    "text": "ragging on the desktop team they had the oldest app it's for the half years old and it was written with the very old api's the I the Android guys were much",
    "start": "2582520",
    "end": "2590770"
  },
  {
    "text": "more modern know about two years old and and they have a bit where you have a to-do list of tasks and approvals that",
    "start": "2590770",
    "end": "2597730"
  },
  {
    "text": "are outstanding and they got a list of tasks that were coming in an a decided",
    "start": "2597730",
    "end": "2602860"
  },
  {
    "text": "to put this bit of code in and they said tasks have a type an action type and",
    "start": "2602860",
    "end": "2608080"
  },
  {
    "text": "they're either TAS or approvals if they're not tasks or approval god we don't know what it is we've got to throw an exception right so what happens we",
    "start": "2608080",
    "end": "2616960"
  },
  {
    "text": "add file requests their to-do lists don't work anymore because they decide to throw an exception not kill the app",
    "start": "2616960",
    "end": "2623050"
  },
  {
    "text": "you just get a blank to-do list they do have exception handling around that they got that right doesn't just kill the app",
    "start": "2623050",
    "end": "2629520"
  },
  {
    "text": "but this is the point so a lot of your API you'll talk to as a consumer will",
    "start": "2629520",
    "end": "2634630"
  },
  {
    "text": "have enumerations they might have colors they might have days of the week things like that and what you should really be",
    "start": "2634630",
    "end": "2640900"
  },
  {
    "text": "looking for is if you get a value you're not expecting you can mitigate it we",
    "start": "2640900",
    "end": "2646990"
  },
  {
    "text": "could have just shown you the tasks and approvals and possibly said to someone maybe in the UI there might be things we",
    "start": "2646990",
    "end": "2654160"
  },
  {
    "text": "can't show you in the to-do list there's ten items handle but at least we can show you the ones we understand so it's really good",
    "start": "2654160",
    "end": "2662240"
  },
  {
    "text": "to just cope with the things you know about and if there's things you don't know about warn the user but try and carry on because there's a good chance",
    "start": "2662240",
    "end": "2668960"
  },
  {
    "text": "it'll all work they also did a very interesting thing the same guys who did",
    "start": "2668960",
    "end": "2677119"
  },
  {
    "start": "2670000",
    "end": "2670000"
  },
  {
    "text": "the BFF where they emitted the last modified header and and caused the iOS",
    "start": "2677119",
    "end": "2683210"
  },
  {
    "text": "app to go rogue also had to deal with an Android app that despite the fact that",
    "start": "2683210",
    "end": "2690320"
  },
  {
    "text": "when you get a set of links they have rails on to tell you which one does what decided they just go for link",
    "start": "2690320",
    "end": "2697970"
  },
  {
    "text": "number zero in the array and that would always be the self link because they",
    "start": "2697970",
    "end": "2703580"
  },
  {
    "text": "didn't need to do anything now who here uses single or default or first or default in linked queries yes same",
    "start": "2703580",
    "end": "2710540"
  },
  {
    "text": "bloody thing right if the assumption is there is only one and when you use",
    "start": "2710540",
    "end": "2716359"
  },
  {
    "text": "single or default and then it blows up when it isn't now they are doing exactly the same kind of attitude they're not",
    "start": "2716359",
    "end": "2721640"
  },
  {
    "text": "looking for the data they know should be scold self they've decided to just go for the first link and it all went",
    "start": "2721640",
    "end": "2726650"
  },
  {
    "text": "completely / shaped so the BFF team had to preserve the link order the looking",
    "start": "2726650",
    "end": "2732500"
  },
  {
    "text": "bit is it's all in Jason which preserves link order XML has no promise that you get the links in the exact same order",
    "start": "2732500",
    "end": "2738109"
  },
  {
    "text": "that it would deserialize in a Dom to that order so they're very lucky they could do that and be specific as a consumer now this",
    "start": "2738109",
    "end": "2749330"
  },
  {
    "start": "2745000",
    "end": "2745000"
  },
  {
    "text": "isn't actually a restaurant but I can to at some point get this into a talk it",
    "start": "2749330",
    "end": "2754430"
  },
  {
    "text": "was heard all desktop it was when we were having problems with it coming back into the system is when we had for two nines and it was trying to ddos our own",
    "start": "2754430",
    "end": "2761770"
  },
  {
    "text": "server and it does this it does a check for network connectivity and it says hey",
    "start": "2761770",
    "end": "2768080"
  },
  {
    "text": "if I get a server error out of huddle I may have lost the internet because 500s come back from and no network as well",
    "start": "2768080",
    "end": "2774530"
  },
  {
    "text": "just as much as server errors so what I'm going to do is we need to check whether the Internet's up and checking",
    "start": "2774530",
    "end": "2780800"
  },
  {
    "text": "whether the internet up is a bit of a pain because you can't rely on OS like",
    "start": "2780800",
    "end": "2785930"
  },
  {
    "text": "OS libraries to check for a network connectivity because it may not be the Internet may only the intranet that's up you may be",
    "start": "2785930",
    "end": "2792049"
  },
  {
    "text": "partially network-connected and it has to work on a Mac as well as Windows which have completely different semantics on how xamarin would give you",
    "start": "2792049",
    "end": "2800299"
  },
  {
    "text": "a network connection to Windows so we go off to an Amazon s3 bucket and we go to",
    "start": "2800299",
    "end": "2805519"
  },
  {
    "text": "a URI that ends in the word ping and it should return the word pong in the",
    "start": "2805519",
    "end": "2811339"
  },
  {
    "text": "response something that's really horrible to explain to clients as",
    "start": "2811339",
    "end": "2816920"
  },
  {
    "text": "they're trying to debug the app and your game put this in it says pong it's okay it doesn't say pong anymore it has a",
    "start": "2816920",
    "end": "2823670"
  },
  {
    "text": "much more enterprise friendly message about what its returning and but this",
    "start": "2823670",
    "end": "2830180"
  },
  {
    "text": "bit of code was just classic there was actually a if the status code is less than bad request yeah",
    "start": "2830180",
    "end": "2839990"
  },
  {
    "text": "and that was anything under 400 it's fine redirect anything 200 whatever it",
    "start": "2839990",
    "end": "2846859"
  },
  {
    "text": "is accepted I might not even return you anything and so clearly this s3 bucket",
    "start": "2846859",
    "end": "2852529"
  },
  {
    "text": "we deleted the file or renamed it and the desktop still kept coming in",
    "start": "2852529",
    "end": "2857539"
  },
  {
    "text": "thinking the network was and it's all because CloudFront in front of that s3 bucket has a default if it doesn't find",
    "start": "2857539",
    "end": "2863630"
  },
  {
    "text": "a file and the default was to give you JavaScript to redirect your browser to",
    "start": "2863630",
    "end": "2868730"
  },
  {
    "text": "Huddle's website it's because we are reusing a bucket that's used for something quite different most of the",
    "start": "2868730",
    "end": "2874039"
  },
  {
    "text": "time so it gave you a 200 and a bunch of JavaScript and clearly it thought",
    "start": "2874039",
    "end": "2879109"
  },
  {
    "text": "network was there so hammered back into our service so we couldn't turn our desktops off so in mitigation now is we",
    "start": "2879109",
    "end": "2885049"
  },
  {
    "text": "do look for HTTP status code okay and we look inside the file to see what's in there so this is the thing if you get a",
    "start": "2885049",
    "end": "2892369"
  },
  {
    "text": "response back just because it says 200 doesn't mean you've got exactly what you might think you should go in and check",
    "start": "2892369",
    "end": "2897859"
  },
  {
    "text": "easier with rest because you're probably binding an object to some Jason and you might get a clue that it's going wrong",
    "start": "2897859",
    "end": "2903819"
  },
  {
    "text": "so that's my real world examples from the field of huddle we ever asked and",
    "start": "2903819",
    "end": "2910519"
  },
  {
    "start": "2904000",
    "end": "2904000"
  },
  {
    "text": "creating stuff these are really great resources to go to the Nordic api's is a",
    "start": "2910519",
    "end": "2917390"
  },
  {
    "text": "great way of finding out about REST API and having the kind of seen the",
    "start": "2917390",
    "end": "2922849"
  },
  {
    "text": "discussions that people and the thoughts they have one of the things they were discussing was the idea that although rest is kind of old hat",
    "start": "2922849",
    "end": "2930980"
  },
  {
    "text": "maybe it's getting to the tipping point where we might get the tools that make it much easier to use I think one of the",
    "start": "2930980",
    "end": "2936710"
  },
  {
    "text": "resistance to rest we've had is that it can be quite painful to use because you're a lower level if we had the ORM",
    "start": "2936710",
    "end": "2944720"
  },
  {
    "text": "type thing but for rest but not over n type thing because no one's to do that and we'd be better off and maybe they",
    "start": "2944720",
    "end": "2952190"
  },
  {
    "text": "think it's the tooling there's a slack channel quite by sebastian Lamba who",
    "start": "2952190",
    "end": "2958640"
  },
  {
    "text": "people may know from mode and raster and things like that and that where you can",
    "start": "2958640",
    "end": "2964280"
  },
  {
    "text": "I didn't finish the sentence how terrible and you can discuss what and what kind of semantics you should be",
    "start": "2964280",
    "end": "2971270"
  },
  {
    "text": "using in your API and does this make sense is this a good pattern to use and they're really friendly and actually",
    "start": "2971270",
    "end": "2976850"
  },
  {
    "text": "help you out and then bits coda comm leads you to a load of rest patterns",
    "start": "2976850",
    "end": "2983390"
  },
  {
    "text": "such as the progress n pattern to many requests all sorts things like that so we're starting to get known patterns for",
    "start": "2983390",
    "end": "2989810"
  },
  {
    "text": "rest documented really clearly that everyone can use I think that's really cool and the rest cookbook as well gives",
    "start": "2989810",
    "end": "2996470"
  },
  {
    "text": "you a really good focus on it so i blog occasionally at that and that's that and",
    "start": "2996470",
    "end": "3003880"
  },
  {
    "text": "the twitter was where you'll find this presentation or get it uploaded to github now owned by Microsoft and and",
    "start": "3003880",
    "end": "3010180"
  },
  {
    "text": "that's where you'll be able to download it in a few days and if you ever want to see about huddle you can working for us",
    "start": "3010180",
    "end": "3017500"
  },
  {
    "text": "in London you can go to there and that's it I think I finished early which is",
    "start": "3017500",
    "end": "3023440"
  },
  {
    "text": "shocking for me",
    "start": "3023440",
    "end": "3026040"
  },
  {
    "text": "so is there any questions that you think I could answer so the question is when",
    "start": "3030819",
    "end": "3056299"
  },
  {
    "text": "we get a resource if we only get the tiny little bits of information we need how can we then do an update to it if we",
    "start": "3056299",
    "end": "3062989"
  },
  {
    "text": "don't have the mini puts those little child resources the answer is you're hoping that 95% of the time you actually",
    "start": "3062989",
    "end": "3071210"
  },
  {
    "text": "only need the get and you can minimize that information you either are gonna have to make the child resource for a",
    "start": "3071210",
    "end": "3076940"
  },
  {
    "text": "mini port or more likely the number of Rights you do is so smaller compared to",
    "start": "3076940",
    "end": "3082460"
  },
  {
    "text": "the read so you can go and get the full resource and then do the write back I think that's that's a trade-off only",
    "start": "3082460",
    "end": "3088400"
  },
  {
    "text": "you'll be able to work out so I know our database is it's 98% read 2% right you",
    "start": "3088400",
    "end": "3095539"
  },
  {
    "text": "really don't write a lot to a database so if you're lucky you're in that situation I think you get the full resource put in a status and put it back",
    "start": "3095539",
    "end": "3101930"
  },
  {
    "text": "but if it's something that's needed to be quick and slick in a UI you might want to do the Mini Putt that's when you",
    "start": "3101930",
    "end": "3108229"
  },
  {
    "text": "start going for that because it's the performance thing of when the user clicks oh I'm approving it and it takes three seconds to do the whole shebang",
    "start": "3108229",
    "end": "3115489"
  },
  {
    "text": "that's unpleasant for a user to watch when you could fix it so easily",
    "start": "3115489",
    "end": "3121359"
  },
  {
    "text": "yeah so the question was how much do I we nest resources in a REST API which is",
    "start": "3133680",
    "end": "3141660"
  },
  {
    "text": "a good question so when we have a document and we get back a documents",
    "start": "3141660",
    "end": "3146760"
  },
  {
    "text": "title its name things like that we also then have a list of actors so we have a",
    "start": "3146760",
    "end": "3153329"
  },
  {
    "text": "list of users who created it who's the last person to update it things like",
    "start": "3153329",
    "end": "3158849"
  },
  {
    "text": "that and they are many resources of that kind of user so it tells you a self link",
    "start": "3158849",
    "end": "3164369"
  },
  {
    "text": "to go to that users user profile and as a link to their avatar it has their email and a few bits of information",
    "start": "3164369",
    "end": "3170700"
  },
  {
    "text": "enough information for us to do the UI we want to do in our clients and that's",
    "start": "3170700",
    "end": "3176789"
  },
  {
    "text": "kind of why we're doing it we're trying to do a minimal amount so they do saw an activity trail under a document you see",
    "start": "3176789",
    "end": "3183480"
  },
  {
    "text": "people's avatars and you see their names so if you hover over them you can see you it was that updated the document and",
    "start": "3183480",
    "end": "3188970"
  },
  {
    "text": "you can click on it to go to a full profile so that's the bit where you don't want to it's a bit like if you use",
    "start": "3188970",
    "end": "3196589"
  },
  {
    "text": "an ORM with child objects and it populates automatically all the child objects you want to resist that you want",
    "start": "3196589",
    "end": "3202799"
  },
  {
    "text": "to do this minimal consuming of the child items out of your resource",
    "start": "3202799",
    "end": "3208049"
  },
  {
    "text": "otherwise you will end up with a very deep model with a lot of data and although the transfer over the web is",
    "start": "3208049",
    "end": "3214319"
  },
  {
    "text": "fine because it's gzip that it's really fast you know the chances are it's compressed in all your HTTP calls it's",
    "start": "3214319",
    "end": "3220230"
  },
  {
    "text": "the unpacking of it into huge local objects when all you needed was a tiny bit I don't think that's the pleasant",
    "start": "3220230",
    "end": "3225539"
  },
  {
    "text": "bit and browsers don't like that particularly so I would put as little as you can get away with with always a self",
    "start": "3225539",
    "end": "3232170"
  },
  {
    "text": "link to get the full information if a client needs to get the information of that child object",
    "start": "3232170",
    "end": "3239270"
  },
  {
    "text": "okay thank you very much thank you [Applause]",
    "start": "3242340",
    "end": "3249659"
  }
]