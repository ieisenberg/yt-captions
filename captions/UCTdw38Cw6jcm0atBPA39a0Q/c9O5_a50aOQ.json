[
  {
    "start": "0",
    "end": "79000"
  },
  {
    "text": "for just before we start how many of you are using a sixth today good this is not an intro-level",
    "start": "9900",
    "end": "18380"
  },
  {
    "text": "talk all right this is kind of a talk where I'm expecting the crowd to actually know about elasticsearch what",
    "start": "18380",
    "end": "24169"
  },
  {
    "text": "it does what it doesn't do so if we're fixing anything else if we live to more",
    "start": "24169",
    "end": "31070"
  },
  {
    "text": "interesting interesting talks and I will just I will push some of the content",
    "start": "31070",
    "end": "38089"
  },
  {
    "text": "that I planned originally to talk a bit about a current situation of going on and with the last Excel security so just",
    "start": "38089",
    "end": "45710"
  },
  {
    "text": "expect that as well and they'll explain a bit so my name is Lisa Mar I've been",
    "start": "45710",
    "end": "51830"
  },
  {
    "text": "doing the elasticsearch search engines these kind of stuff for quite a few years now I'm an elastic stretch",
    "start": "51830",
    "end": "57260"
  },
  {
    "text": "consulting partner I'm operating through a brand called Big Data boutique we're",
    "start": "57260",
    "end": "62360"
  },
  {
    "text": "doing all of sorts of things in the cloud using big data as well as elastic",
    "start": "62360",
    "end": "67549"
  },
  {
    "text": "search installations worldwide including training and Microsoft MVP and a contributor to both the sales Internet",
    "start": "67549",
    "end": "75439"
  },
  {
    "text": "and an elastic search and our agenda today again not an intro talk and I'm",
    "start": "75439",
    "end": "83390"
  },
  {
    "start": "79000",
    "end": "79000"
  },
  {
    "text": "going quite fast now because I just have more content to add because of the",
    "start": "83390",
    "end": "89150"
  },
  {
    "text": "current situation is going on meaning elastic stretch clusters been hacked for ransom worldwide so talk",
    "start": "89150",
    "end": "97400"
  },
  {
    "text": "about this for a few minutes and show you what needs to be done in order to protect that I think it's it's actually",
    "start": "97400",
    "end": "103820"
  },
  {
    "text": "even more important than giving you some hair tips on how to use elastic search in general we all will talk a bit about",
    "start": "103820",
    "end": "112460"
  },
  {
    "text": "designing a cluster and your document structure I'm just giving you some pointers to what things you can do",
    "start": "112460",
    "end": "119120"
  },
  {
    "text": "better or just based on my experience things that maybe you are not aware of and I was considering will talk based on",
    "start": "119120",
    "end": "127340"
  },
  {
    "text": "that we'll talk more about queries and some some things that could happen in the analysis chain that you are using",
    "start": "127340",
    "end": "134420"
  },
  {
    "text": "whether you are aware of that or not and I'll show you some stuff that could be happening in a cluster and may be worth",
    "start": "134420",
    "end": "140750"
  },
  {
    "text": "your attention we'll also talk about index mappings some tricks some do's and",
    "start": "140750",
    "end": "145849"
  },
  {
    "text": "don'ts over there we'll talk about cluster management how to manage a cluster or to be more exact",
    "start": "145849",
    "end": "152910"
  },
  {
    "text": "some tips about managing your cluster how it should look like things you should be doing and shouldn't be doing",
    "start": "152910",
    "end": "158040"
  },
  {
    "text": "and we'll I'll try to actually get to talk a bit also about data ingestion how",
    "start": "158040",
    "end": "163769"
  },
  {
    "text": "to correctly ingest lots of data into your a success production clusters so",
    "start": "163769",
    "end": "169019"
  },
  {
    "text": "that's our agenda I wasn't planning on talking about that but about a week ago",
    "start": "169019",
    "end": "175650"
  },
  {
    "text": "and clusters elasticsearch clusters all over the world have been starting to be",
    "start": "175650",
    "end": "181410"
  },
  {
    "text": "hacked the data was being starting to be deleted and some message that looks like",
    "start": "181410",
    "end": "187410"
  },
  {
    "text": "something like that was being posted into the clusters basically if you had",
    "start": "187410",
    "end": "192840"
  },
  {
    "text": "the clusters of cluster with lots of data you suddenly found that your cluster is entirely empty and found this",
    "start": "192840",
    "end": "199290"
  },
  {
    "text": "ransom message on your clusters asking you to pay for it to get your data back anyone here has seen that before",
    "start": "199290",
    "end": "206610"
  },
  {
    "text": "in the internet except from Nile who actually tipped me on that alright so be",
    "start": "206610",
    "end": "213359"
  },
  {
    "text": "aware that this is currently happening this is like about it started about a week ago and clusters all over the world",
    "start": "213359",
    "end": "221340"
  },
  {
    "text": "are we are talking about like 5000 clusters right now right so about 5,000",
    "start": "221340",
    "end": "228420"
  },
  {
    "text": "clusters worldwide are we know that have been act we know of some clusters that",
    "start": "228420",
    "end": "234569"
  },
  {
    "text": "are not yet been hacked or but are still open to the web and could be hacked so",
    "start": "234569",
    "end": "241340"
  },
  {
    "text": "just if you have elasticsearch clusters just go back to your company and make",
    "start": "241340",
    "end": "247230"
  },
  {
    "text": "sure that your clusters are secure and that's what we're going to do now I'm going to show you some stuffs and do's",
    "start": "247230",
    "end": "252870"
  },
  {
    "text": "and don'ts about that just going back to the preview screen notice the URL so if",
    "start": "252870",
    "end": "259979"
  },
  {
    "text": "you're using a nastic search you know that the elasticsearch is accessible via the HTTP REST API over post nine two",
    "start": "259979",
    "end": "266400"
  },
  {
    "text": "hundred and usik as you can see this is like this is really the couple of days ago as you can see did some public IP",
    "start": "266400",
    "end": "273450"
  },
  {
    "text": "address accessible from my home from my home network on port nine 200 and",
    "start": "273450",
    "end": "279510"
  },
  {
    "text": "warning is basically an in name with that note with that message so",
    "start": "279510",
    "end": "285490"
  },
  {
    "text": "that cluster was exposed to the web and that's what allowed the attacker to",
    "start": "285490",
    "end": "290800"
  },
  {
    "text": "actually take the dash out deleted and then asking for ransom so how do you",
    "start": "290800",
    "end": "296289"
  },
  {
    "start": "295000",
    "end": "295000"
  },
  {
    "text": "protect your cluster basically that's lots of pointers I'll go through them a",
    "start": "296289",
    "end": "303009"
  },
  {
    "text": "bit quickly so we have time for the other content I'll explain and I'll be happily stay after the talk or during",
    "start": "303009",
    "end": "310899"
  },
  {
    "text": "the conference if you have further questions just come and ask me I'll be happy to answer protecting your data is",
    "start": "310899",
    "end": "316419"
  },
  {
    "text": "important so in order to not fall for those ransom attacks the first thing you",
    "start": "316419",
    "end": "323409"
  },
  {
    "text": "should do is protect your cluster from the public at ajaan expose it on any",
    "start": "323409",
    "end": "329439"
  },
  {
    "text": "public network now that sounds obvious sometimes people don't do that the",
    "start": "329439",
    "end": "334509"
  },
  {
    "text": "elasticsearch part is a bit better it's actually doing that by default just letting you know when things are not",
    "start": "334509",
    "end": "340779"
  },
  {
    "text": "configured correctly and most of the clusters that we see that are exposed",
    "start": "340779",
    "end": "345870"
  },
  {
    "text": "inversions before version 5 okay so two points something and even one point",
    "start": "345870",
    "end": "352419"
  },
  {
    "text": "something people are still still using that and those are a bit easier to get",
    "start": "352419",
    "end": "357490"
  },
  {
    "text": "wrong and that's where things start happening so whatever you do don't expose your cluster on the public IP the",
    "start": "357490",
    "end": "366219"
  },
  {
    "text": "way you do that you just go to the last external file and tell elasticsearch what address to bind to DNS or IP just",
    "start": "366219",
    "end": "374830"
  },
  {
    "text": "make sure it's a private IP and not a public IP so whatever you cluster is the",
    "start": "374830",
    "end": "379839"
  },
  {
    "text": "whatever way your Kolkata is configured to don't bind into a publicly accessible DNS or IP that's like the first thing",
    "start": "379839",
    "end": "387759"
  },
  {
    "text": "you should do the configuration is called network das in that just for you",
    "start": "387759",
    "end": "393819"
  },
  {
    "text": "into issue so you have it that's the first thing you do the second thing you",
    "start": "393819",
    "end": "399099"
  },
  {
    "text": "do you make sure because now you close down public access to your last excites crafter's you may have some client",
    "start": "399099",
    "end": "406330"
  },
  {
    "text": "applications talking directly to elasticsearch that's it's totally an anti-pattern but some people do that and",
    "start": "406330",
    "end": "413559"
  },
  {
    "text": "that's okay I'm not judging but now that you've closed down your public access to",
    "start": "413559",
    "end": "419169"
  },
  {
    "text": "your cluster you'll need to somehow you know make allow some access so you",
    "start": "419169",
    "end": "424599"
  },
  {
    "text": "basically create a software facade through your application you'll filter",
    "start": "424599",
    "end": "431079"
  },
  {
    "text": "or you'll approxi those requests through your code I recommend not using the",
    "start": "431079",
    "end": "436719"
  },
  {
    "text": "elasticsearch DSL directly for my application to the elasticsearch cluster",
    "start": "436719",
    "end": "442149"
  },
  {
    "text": "even though is even if it goes through some sort of a stab just create your own API against your Web API and just",
    "start": "442149",
    "end": "449769"
  },
  {
    "text": "translate that into the elastic search queries but again the most important part is not to communicate directly with",
    "start": "449769",
    "end": "456279"
  },
  {
    "text": "elasticsearch and to filter those requests and so for example not allow write only a lot of regions or in the",
    "start": "456279",
    "end": "463299"
  },
  {
    "text": "filter the rate as well that's very important next one disable HTTP access",
    "start": "463299",
    "end": "470559"
  },
  {
    "text": "from nodes that don't really need it so I'll I'll talk about cluster topology",
    "start": "470559",
    "end": "475959"
  },
  {
    "text": "later on the talk but we have master nodes data nodes client node only the client",
    "start": "475959",
    "end": "482379"
  },
  {
    "text": "nodes really need Claire HTTP access master node definitely don't need HTTP enabled on that on them dozen owed on",
    "start": "482379",
    "end": "489759"
  },
  {
    "text": "some installations you will have HTTP enables on Sam you Don again find out",
    "start": "489759",
    "end": "494769"
  },
  {
    "text": "where you can turn off the HTTP access and turn it off and again even if you",
    "start": "494769",
    "end": "501999"
  },
  {
    "text": "can use torches that not a default port that alone will make the attacks less",
    "start": "501999",
    "end": "508139"
  },
  {
    "text": "less common obscure a security by obscurity is always a good thing",
    "start": "508139",
    "end": "514110"
  },
  {
    "text": "sometimes you will have public nodes pub of elastic switch nodes publicly",
    "start": "514110",
    "end": "519610"
  },
  {
    "text": "available and good example of good use case use case example is a Cabana or",
    "start": "519610",
    "end": "524910"
  },
  {
    "text": "crops or all of those utilities that you use to monitor and query your elastic",
    "start": "524910",
    "end": "530649"
  },
  {
    "text": "search class basically tools that are already available for you and just you just using secure them as well all right",
    "start": "530649",
    "end": "537429"
  },
  {
    "text": "so basically I would recommend only exposing them from a private IP and then",
    "start": "537429",
    "end": "543429"
  },
  {
    "text": "connecting to some sort of a VPN and accessing that only through that VPN most VPNs do",
    "start": "543429",
    "end": "548649"
  },
  {
    "text": "they have two-factor authentication stuff like that so it's very highly protected and that's the way to do it",
    "start": "548649",
    "end": "554829"
  },
  {
    "text": "but sometimes setting is out that app is a bit hard to do and onto those cases",
    "start": "554829",
    "end": "560290"
  },
  {
    "text": "it's okay to expose those endpoints to the public network to the Internet",
    "start": "560290",
    "end": "565360"
  },
  {
    "text": "basically again binding to a public IP but do you put some sort of authentication layer around that so I",
    "start": "565360",
    "end": "572850"
  },
  {
    "text": "have a blog post detailing all of that if you want more details and in that",
    "start": "572850",
    "end": "578560"
  },
  {
    "text": "blog post I have a link to a compare simple and genetics configuration that",
    "start": "578560",
    "end": "583750"
  },
  {
    "text": "does all of that it just adds some authentication there on top of elasticsearch cabana and crops you can",
    "start": "583750",
    "end": "589990"
  },
  {
    "text": "go ahead and look how it looks like that's very easy to set up and it's really really important to do for those",
    "start": "589990",
    "end": "598209"
  },
  {
    "text": "of you who are running elasticsearch before version 5 especially versions 1.0",
    "start": "598209",
    "end": "603820"
  },
  {
    "text": "1.7 you are very susceptible for attacks",
    "start": "603820",
    "end": "609190"
  },
  {
    "text": "using scripts malicious script so elasticsearch until version 5 had groovy",
    "start": "609190",
    "end": "615250"
  },
  {
    "text": "as the default scripting language before version 2.0 it had different scripting",
    "start": "615250",
    "end": "622329"
  },
  {
    "text": "languages one of them was groovy as well in some versions and those dynamic scripting languages are not sandboxed so",
    "start": "622329",
    "end": "628959"
  },
  {
    "text": "an attacker could potentially inject a malicious script that should be used for",
    "start": "628959",
    "end": "634300"
  },
  {
    "text": "querying but it will it will be used to somehow gain access to the machine itself so disable then I max crypting if",
    "start": "634300",
    "end": "641529"
  },
  {
    "text": "your before version 5 version 5 already took care of that for you the default scripting language is is is safe to use",
    "start": "641529",
    "end": "649180"
  },
  {
    "text": "so again what is planning on actually giving that intro but it's super important just remember that and go",
    "start": "649180",
    "end": "657160"
  },
  {
    "text": "check your clusters and feel free to reach out if you need any any further advice so that's about that we have 15",
    "start": "657160",
    "end": "664180"
  },
  {
    "text": "minutes left to talk about the actual content and forgive me if I skim through some of it so let's start with design",
    "start": "664180",
    "end": "673120"
  },
  {
    "text": "how do this diner class to how to design your search and your",
    "start": "673120",
    "end": "678930"
  },
  {
    "start": "678000",
    "end": "678000"
  },
  {
    "text": "plus a logging analysis so we see two main patterns using elastic search the",
    "start": "678930",
    "end": "685440"
  },
  {
    "text": "first one is what I call the monolith in there you have your data store somewhere and you replicate that data to elastic",
    "start": "685440",
    "end": "692400"
  },
  {
    "text": "search and use the elastic search is some sort of over search facade and a",
    "start": "692400",
    "end": "698970"
  },
  {
    "text": "way to basically dig through that data usually the recommendation is not to use",
    "start": "698970",
    "end": "705060"
  },
  {
    "text": "elastic search as a single source of truth we'll talk about that in a bit but that index is the Manolis index is where",
    "start": "705060",
    "end": "713220"
  },
  {
    "text": "all your data is and that that is being continuously updated the documents will be updated and you can't really you know",
    "start": "713220",
    "end": "721110"
  },
  {
    "text": "char get into different manageable entities it's being used a lot for for",
    "start": "721110",
    "end": "728280"
  },
  {
    "text": "search a text search your special search those kind of things even image search record link as I have many text",
    "start": "728280",
    "end": "735900"
  },
  {
    "text": "documents I want to find similar documents anomaly detection stuff like",
    "start": "735900",
    "end": "741600"
  },
  {
    "text": "that so that's one usage pattern the second is but with usage pattern we see",
    "start": "741600",
    "end": "746850"
  },
  {
    "text": "quite a lot and that's about 80 90 percent of elastic search users use elastic search for that is for",
    "start": "746850",
    "end": "753870"
  },
  {
    "text": "centralized logging right so I have data that is time serious data and I'm",
    "start": "753870",
    "end": "759180"
  },
  {
    "text": "putting it into elastic search continuously in the most used cases when people using elastic search for logs",
    "start": "759180",
    "end": "766320"
  },
  {
    "text": "about 95% of usages that data will not will not ever change it just logs",
    "start": "766320",
    "end": "772410"
  },
  {
    "text": "things that happen so events think about logs in your system centralized logging",
    "start": "772410",
    "end": "778230"
  },
  {
    "text": "think about IOT so lots of sensors sending lots of data and that that it doesn't change it's only a thing that",
    "start": "778230",
    "end": "784650"
  },
  {
    "text": "happened in the past lots of times you'll see usages of elastic search in that respect with",
    "start": "784650",
    "end": "790590"
  },
  {
    "text": "audit logging and stuff data so because that data doesn't change you can safely",
    "start": "790590",
    "end": "796470"
  },
  {
    "text": "just put that data in index and let's say call that index using the name using",
    "start": "796470",
    "end": "802950"
  },
  {
    "text": "the name of the date that is currently representing all the events in that index and then when tomorrow comes just",
    "start": "802950",
    "end": "809910"
  },
  {
    "text": "lock that in there then move to index into a new index so we call that pattern a rolling indexes",
    "start": "809910",
    "end": "815520"
  },
  {
    "text": "and time series data time-based events and again about 80 90 percent of",
    "start": "815520",
    "end": "821640"
  },
  {
    "text": "elasticsearch users use elastic search for those use cases using the rolling",
    "start": "821640",
    "end": "827370"
  },
  {
    "text": "indexes pattern you starting with elastic search five gets a lot of attention and gets a lot of additional",
    "start": "827370",
    "end": "833910"
  },
  {
    "text": "features and I'll cover some of them now but those two patterns are the thing to",
    "start": "833910",
    "end": "839970"
  },
  {
    "text": "consider when you're approaching elastic search what is my usage pattern and once you realize these whether it's the Mona",
    "start": "839970",
    "end": "846330"
  },
  {
    "text": "Lisa or is it a rolling INXS pattern you can start approaching elastic search and",
    "start": "846330",
    "end": "851399"
  },
  {
    "text": "try to understand what feature set you can use so if you're having a mano list",
    "start": "851399",
    "end": "857670"
  },
  {
    "text": "if you're having just one index that gets data from your data store and just",
    "start": "857670",
    "end": "863120"
  },
  {
    "text": "being updated over time and you search on that and fast it into aggregations et",
    "start": "863120",
    "end": "869190"
  },
  {
    "text": "cetera then the most important thing I can tell you is that you should treat it",
    "start": "869190",
    "end": "874860"
  },
  {
    "text": "as a volatile index don't ever trust that index is there and",
    "start": "874860",
    "end": "880080"
  },
  {
    "text": "just make sure that you have did a way to just recreate it from scratch using",
    "start": "880080",
    "end": "885180"
  },
  {
    "text": "your data but I'm basically saying don't treat elasticsearch as a single source of truth that's what that is going to",
    "start": "885180",
    "end": "892260"
  },
  {
    "text": "give you lots of power for example like we'll discuss in a bit you're going to",
    "start": "892260",
    "end": "898020"
  },
  {
    "text": "learn a lot of stuff about the way your mapping works the way you should create your documents based on your data",
    "start": "898020",
    "end": "904560"
  },
  {
    "text": "assuming your data is in SQL Server or an SQL database sometimes you have",
    "start": "904560",
    "end": "911240"
  },
  {
    "text": "different design decisions around the structure of the document you're going to index into elastic search and that's",
    "start": "911240",
    "end": "917490"
  },
  {
    "text": "going to change over time if you learn about the usage patterns of your users that's why once your index is it treated",
    "start": "917490",
    "end": "924570"
  },
  {
    "text": "as a volatile some as a volatile index so you can just delete it and create it from scratch",
    "start": "924570",
    "end": "930050"
  },
  {
    "text": "obviously there are these ways to do that without downtime then you get a lot",
    "start": "930050",
    "end": "935190"
  },
  {
    "text": "of power in on moving forward and improving on the experience so that's my",
    "start": "935190",
    "end": "940709"
  },
  {
    "text": "first advice to you the second reason why I'm saying because elasticsearch themselves are not",
    "start": "940709",
    "end": "946750"
  },
  {
    "text": "recommending elasticsearch to be used as single source of truth I mean they have a document an official document it's",
    "start": "946750",
    "end": "952810"
  },
  {
    "text": "called a seal a success resiliency document feel free to search for it you'll see that they're still handling a",
    "start": "952810",
    "end": "958750"
  },
  {
    "text": "lot of corrupt data corruption issues and network issues stuff like that this",
    "start": "958750",
    "end": "964720"
  },
  {
    "text": "is in a much better situation that it has been like you know three years ago",
    "start": "964720",
    "end": "970000"
  },
  {
    "text": "things have improved drastically but still the official combination is not used a toxic search as a single source",
    "start": "970000",
    "end": "976780"
  },
  {
    "text": "of truth another thing that you should note mainly for the case places where",
    "start": "976780",
    "end": "983680"
  },
  {
    "text": "either indexing takes a lot of time or you're afraid of being ransomed or just",
    "start": "983680",
    "end": "991030"
  },
  {
    "text": "in places where for example in logs in the rolling indexes pattern you have",
    "start": "991030",
    "end": "996370"
  },
  {
    "text": "your data only in elasticsearch and that actually happens it's okay you should be using the backup and restore API now",
    "start": "996370",
    "end": "1003840"
  },
  {
    "text": "backup & restore or mainly backup the backup operation in a success is very very cheap so what you should be doing",
    "start": "1003840",
    "end": "1010740"
  },
  {
    "text": "is just creating a backup every 5-10 minutes and it's perfectly okay because",
    "start": "1010740",
    "end": "1016650"
  },
  {
    "text": "all that being happened is just files are being copied to the repository where",
    "start": "1016650",
    "end": "1021990"
  },
  {
    "text": "your index is being backup so it's perfectly okay and that's something issue you choose and you can consider",
    "start": "1021990",
    "end": "1029839"
  },
  {
    "text": "there is also the ability to three index very efficiently with elasticsearch and",
    "start": "1029839",
    "end": "1035550"
  },
  {
    "text": "that allows you to take data from I mean one index and reindex that into another index using different mappings",
    "start": "1035550",
    "end": "1042560"
  },
  {
    "text": "elasticsearch has a Redux API built in there are six which five also supports your indexing from different clusters so",
    "start": "1042560",
    "end": "1049500"
  },
  {
    "text": "it gives you a lot of power on that respect other than that elasticsearch five also",
    "start": "1049500",
    "end": "1056310"
  },
  {
    "start": "1052000",
    "end": "1052000"
  },
  {
    "text": "adds some more api's I'll just mention them and move forward but the shrink API",
    "start": "1056310",
    "end": "1062040"
  },
  {
    "text": "for example allows you to support large scale indexing it allows you to scale",
    "start": "1062040",
    "end": "1068130"
  },
  {
    "text": "out your cluster to many many shards and then recharge it basically too small a number of shards and to enable for",
    "start": "1068130",
    "end": "1075240"
  },
  {
    "text": "faster and more efficient reads also optimize the disk space and compression it's a new feature in five",
    "start": "1075240",
    "end": "1082200"
  },
  {
    "text": "and it allows to very strong digestion cabal capabilities in elasticsearch also",
    "start": "1082200",
    "end": "1088770"
  },
  {
    "text": "the rollover API allows you to do and better rollover in rolling indexes",
    "start": "1088770",
    "end": "1094290"
  },
  {
    "text": "pattern so you can now make sure that your indexes maintain a certain size in",
    "start": "1094290",
    "end": "1099660"
  },
  {
    "text": "terms of documents in the index and your age and this is how you can optimize on",
    "start": "1099660",
    "end": "1104760"
  },
  {
    "text": "queries and and in index sizes on disk",
    "start": "1104760",
    "end": "1109850"
  },
  {
    "text": "let's talk again a bit about document oriented design that's a very important",
    "start": "1109850",
    "end": "1115200"
  },
  {
    "start": "1110000",
    "end": "1110000"
  },
  {
    "text": "topic in in elasticsearch elasticsearch is a document store it allows you to",
    "start": "1115200",
    "end": "1120750"
  },
  {
    "text": "work against documents it is not xql and it does not have the concept of",
    "start": "1120750",
    "end": "1127110"
  },
  {
    "text": "relations or I'm lying to you a bit it does have something and that's what I'm going to show you but you shouldn't be",
    "start": "1127110",
    "end": "1133799"
  },
  {
    "text": "relying on that and that's my main point here so let's take let's take a look at",
    "start": "1133799",
    "end": "1139230"
  },
  {
    "text": "the part something that you probably have seen one way or another I have any",
    "start": "1139230",
    "end": "1144450"
  },
  {
    "text": "commerce store and that ecommerce website has categories and it has",
    "start": "1144450",
    "end": "1149880"
  },
  {
    "text": "product obviously with elasticsearch is represented as documents and so I have",
    "start": "1149880",
    "end": "1156870"
  },
  {
    "text": "in this case one document that is a category and then to document that our",
    "start": "1156870",
    "end": "1161970"
  },
  {
    "text": "product now those documents are related to one another in the following way a",
    "start": "1161970",
    "end": "1168960"
  },
  {
    "text": "product can be within a category and then the cut each category has a",
    "start": "1168960",
    "end": "1175590"
  },
  {
    "text": "required member level that's something that I put on a category level and then",
    "start": "1175590",
    "end": "1181200"
  },
  {
    "text": "I'm expecting my users that's being logged in to only see products under a category they're allowed to see right so",
    "start": "1181200",
    "end": "1188970"
  },
  {
    "text": "I have some sort of relation between product and category that relation is",
    "start": "1188970",
    "end": "1194460"
  },
  {
    "text": "for doing some stuff but as you can see the documents are completely separate",
    "start": "1194460",
    "end": "1199710"
  },
  {
    "text": "from one another if I wanted to query on to just show documents product documents",
    "start": "1199710",
    "end": "1205530"
  },
  {
    "text": "that relate to a category in a certain way for example using that required member level",
    "start": "1205530",
    "end": "1210940"
  },
  {
    "text": "touken I would have some issues doing that because those documents are completely unrelated elasticsearch",
    "start": "1210940",
    "end": "1217930"
  },
  {
    "text": "allows give me some tools to handle that and that's just I'm just showing you the",
    "start": "1217930",
    "end": "1223420"
  },
  {
    "text": "tip of the iceberg going into a full-fledged design with discussion here I completely out of",
    "start": "1223420",
    "end": "1229750"
  },
  {
    "text": "scope I just want to give you a taste of how it will look like so the naive approach would be to put the products in",
    "start": "1229750",
    "end": "1237340"
  },
  {
    "text": "the category in the category document alright so now I have all the products",
    "start": "1237340",
    "end": "1243370"
  },
  {
    "text": "and the provider map member level the token is accessible from this same",
    "start": "1243370",
    "end": "1248800"
  },
  {
    "text": "document what is the problem with this approach so I have one big document say",
    "start": "1248800",
    "end": "1256390"
  },
  {
    "text": "I have one category a category with thousands of product that document is going to be way too big and every update",
    "start": "1256390",
    "end": "1264160"
  },
  {
    "text": "to every product is going to trigger an update to the entire document of the",
    "start": "1264160",
    "end": "1269290"
  },
  {
    "text": "category which is a completely different concern also note because this requires",
    "start": "1269290",
    "end": "1276190"
  },
  {
    "text": "each product to have only one category unless of course I'm okay with just",
    "start": "1276190",
    "end": "1281310"
  },
  {
    "text": "duplicating product in other category documents so things are not that pretty",
    "start": "1281310",
    "end": "1286360"
  },
  {
    "text": "as it turns out there is another concern here which is a bit less intuitive the",
    "start": "1286360",
    "end": "1293200"
  },
  {
    "text": "fact is that this design which is actually entirely similar to this design",
    "start": "1293200",
    "end": "1301840"
  },
  {
    "text": "in elasticsearch hierarchy is being flattened out into just filled names",
    "start": "1301840",
    "end": "1309610"
  },
  {
    "text": "with all the possible values so product dot name I have two instances of that",
    "start": "1309610",
    "end": "1316210"
  },
  {
    "text": "field so essentially it will be indexed like that I'm losing here the ability to",
    "start": "1316210",
    "end": "1322090"
  },
  {
    "text": "connect between the names and their prices I cannot now ask or get a correct",
    "start": "1322090",
    "end": "1328210"
  },
  {
    "text": "answer for the question a USB camera that costs $35 or use the camera that",
    "start": "1328210",
    "end": "1334480"
  },
  {
    "text": "costs $100 both will return this document which is actually on the report",
    "start": "1334480",
    "end": "1341770"
  },
  {
    "text": "the category documenting of the product documents so things get start to get really messy here elasticsearch has a solution for",
    "start": "1341770",
    "end": "1348320"
  },
  {
    "text": "that for to be more exact to be specific it's called nested documents I can essentially tell elasticsearch those are",
    "start": "1348320",
    "end": "1356230"
  },
  {
    "text": "sub documents and elasticsearch will take care of indexing them on their own",
    "start": "1356230",
    "end": "1361940"
  },
  {
    "text": "and then allow me to do that cross type of of query but things are still a bit",
    "start": "1361940",
    "end": "1368000"
  },
  {
    "text": "nasty right they still need to update the categorical document when and update a product or I get back the category",
    "start": "1368000",
    "end": "1375740"
  },
  {
    "text": "documents whenever I prefer product no it's not that nice another option is to",
    "start": "1375740",
    "end": "1381470"
  },
  {
    "text": "use the parent-child approach parent-child allows me to have two",
    "start": "1381470",
    "end": "1386480"
  },
  {
    "text": "different types or two different sets of documents so a set of documents which is",
    "start": "1386480",
    "end": "1391550"
  },
  {
    "text": "the categories and then a set of documents which is the product and I can",
    "start": "1391550",
    "end": "1396800"
  },
  {
    "text": "Anakin tell elasticsearch on insertion that this product document is actually a",
    "start": "1396800",
    "end": "1403220"
  },
  {
    "text": "child of a proper category document and now I can search in products I can",
    "start": "1403220",
    "end": "1409130"
  },
  {
    "text": "search your categories I get the two completely separate complete completely different sets of documents but I'm now",
    "start": "1409130",
    "end": "1416510"
  },
  {
    "text": "in one query single query I can correlate the two I can ask for product that has a parent and then specify a",
    "start": "1416510",
    "end": "1425570"
  },
  {
    "text": "query on the parent which is the category or do it the other way as for categories and I'm an integrated query",
    "start": "1425570",
    "end": "1433250"
  },
  {
    "text": "on his child that also queries on product on the child documents so it's",
    "start": "1433250",
    "end": "1439730"
  },
  {
    "text": "very nice in this actually works quite nicely the issue with this is that I'm delegating the work to the query time in",
    "start": "1439730",
    "end": "1447800"
  },
  {
    "text": "search engines in general we prefer to do as much work as possible during",
    "start": "1447800",
    "end": "1453110"
  },
  {
    "text": "indexing time and then optimize for read time I want to get to a point where my",
    "start": "1453110",
    "end": "1458660"
  },
  {
    "text": "queries are 50 to 100 milliseconds it's most on the 99th percentile that's where",
    "start": "1458660",
    "end": "1464630"
  },
  {
    "text": "I want to be this this thing here is essentially is some sort of a joint that happens on real time and that's not",
    "start": "1464630",
    "end": "1472340"
  },
  {
    "text": "something I want to have if I can avoid it in some scenarios you can avoid it",
    "start": "1472340",
    "end": "1477830"
  },
  {
    "text": "we can do something that's called denormalization which is kind of in that SQL databases we would do normalization",
    "start": "1477830",
    "end": "1485210"
  },
  {
    "text": "here we can just do G normalization and duplicate data and in this case I'm",
    "start": "1485210",
    "end": "1490550"
  },
  {
    "text": "embedding the category data into the my product data now I have in one document",
    "start": "1490550",
    "end": "1497900"
  },
  {
    "text": "all the product doctor and I can search for it I can aggregate on that akin to whatever I want and I also have the",
    "start": "1497900",
    "end": "1504980"
  },
  {
    "text": "additional metadata on the category that I can filter on and do more interesting stuff on on both on search and on",
    "start": "1504980",
    "end": "1512660"
  },
  {
    "text": "aggregation and it's very handy again I'm still assuming I have one category",
    "start": "1512660",
    "end": "1519020"
  },
  {
    "text": "for each product and if I'll go deeper and I'll recall most sophisticated",
    "start": "1519020",
    "end": "1524960"
  },
  {
    "text": "system and charts requiring to have more than one category for a product that",
    "start": "1524960",
    "end": "1530150"
  },
  {
    "text": "could get interesting oh maybe I'll be thrown back to the discussion on nested documents for example so things are",
    "start": "1530150",
    "end": "1536180"
  },
  {
    "text": "starting to maybe become a bit more interesting but just again to give you the tip of the iceberg of a design",
    "start": "1536180",
    "end": "1542810"
  },
  {
    "text": "discussion that you should be having when talking on about monolith index that is a replication of the data store",
    "start": "1542810",
    "end": "1550780"
  },
  {
    "start": "1550000",
    "end": "1550000"
  },
  {
    "text": "just to give a few bullet points always prefer flat documents with elastic",
    "start": "1550780",
    "end": "1556820"
  },
  {
    "text": "search try aiming to a design that only involves flat documents try as hard as",
    "start": "1556820",
    "end": "1563630"
  },
  {
    "text": "you can not to have hard relationships no joins no nested documents which is",
    "start": "1563630",
    "end": "1569420"
  },
  {
    "text": "it's pretty much of wedding between two different types of data you can get to a",
    "start": "1569420",
    "end": "1575360"
  },
  {
    "text": "point where you have relationships but there are a bit more loosely typed so",
    "start": "1575360",
    "end": "1581690"
  },
  {
    "text": "maybe they are done on the application there maybe it's parent-child which is still some sort of a relationship but",
    "start": "1581690",
    "end": "1588170"
  },
  {
    "text": "it's more loose and more things like that you shouldn't be afraid of the",
    "start": "1588170",
    "end": "1594080"
  },
  {
    "text": "normalization the normalization is maybe some over duplication of data and maybe",
    "start": "1594080",
    "end": "1600380"
  },
  {
    "text": "it's some time data together but if done correctly can save you a lot of pain and actually with elasticsearch updating",
    "start": "1600380",
    "end": "1607670"
  },
  {
    "text": "data on the go is not that hard to do you can always write a small Python script or whatever to do some updates",
    "start": "1607670",
    "end": "1615150"
  },
  {
    "text": "for you there is an update by query API in elasticsearch and there is many ways",
    "start": "1615150",
    "end": "1620790"
  },
  {
    "text": "to actually fix mistakes or you know update data as you need to as long as it",
    "start": "1620790",
    "end": "1627240"
  },
  {
    "text": "doesn't happen too frequently even if it's once a day or something like that don't be afraid of that",
    "start": "1627240",
    "end": "1634490"
  },
  {
    "start": "1635000",
    "end": "1635000"
  },
  {
    "text": "the main point when when having a design discussion is try to aim for the query",
    "start": "1635870",
    "end": "1643140"
  },
  {
    "text": "part so try to optimize for reach try to optimize for fast queries and that is",
    "start": "1643140",
    "end": "1648720"
  },
  {
    "text": "the best advice I can give you don't think about how the data looks like think about how you want the data to",
    "start": "1648720",
    "end": "1654390"
  },
  {
    "text": "look like on query on the query side when you display it for the user or how are you going to are you planning to",
    "start": "1654390",
    "end": "1661200"
  },
  {
    "text": "query that data and here again the point about the elastic search index is being volatile all right so all the time your",
    "start": "1661200",
    "end": "1668850"
  },
  {
    "text": "questions might change or the way you want to represent the data might change and that's actually going to work to",
    "start": "1668850",
    "end": "1675750"
  },
  {
    "text": "your benefit because now you can just scrap the data and move to using a new index and you can do that in zero",
    "start": "1675750",
    "end": "1681720"
  },
  {
    "text": "downtime using index aliases so moving",
    "start": "1681720",
    "end": "1686730"
  },
  {
    "text": "on to the query side first if you had never heard of the Cabana console or",
    "start": "1686730",
    "end": "1693060"
  },
  {
    "start": "1690000",
    "end": "1690000"
  },
  {
    "text": "previously called stands go now and check it out it basically allows you to quickly",
    "start": "1693060",
    "end": "1699000"
  },
  {
    "text": "isolate on elastic search and investigate your indexes including also complete and and all that base all that",
    "start": "1699000",
    "end": "1705990"
  },
  {
    "text": "you need in order to work flawlessly with elastic search starting with the",
    "start": "1705990",
    "end": "1711690"
  },
  {
    "text": "elastic search cabana force before I think it was embedded in Cabana already",
    "start": "1711690",
    "end": "1717510"
  },
  {
    "text": "now to just change its name and it's called console very easy to do there's",
    "start": "1717510",
    "end": "1722880"
  },
  {
    "text": "also a chrome plugin which I use I find it very useful in chrome it it could be",
    "start": "1722880",
    "end": "1729180"
  },
  {
    "text": "it's called sense and it's very very handy and when you do queries and as I",
    "start": "1729180",
    "end": "1735840"
  },
  {
    "start": "1732000",
    "end": "1732000"
  },
  {
    "text": "said you want to optimize for query latency you want to optimize your document design for queries so",
    "start": "1735840",
    "end": "1744270"
  },
  {
    "text": "in order to do that you need to understand let's make a query run faster or run slower so when in classic search",
    "start": "1744270",
    "end": "1752130"
  },
  {
    "text": "when you query there's going to be two elements they're going to influence your query latency so the way lastik search",
    "start": "1752130",
    "end": "1760290"
  },
  {
    "text": "works it when it queries it applies two models one is the boolean model whether",
    "start": "1760290",
    "end": "1765930"
  },
  {
    "text": "a document answers the query or not satisfies the query or not so that's the boolean model that just basically go to",
    "start": "1765930",
    "end": "1772290"
  },
  {
    "text": "the index find the documents that match the query and then get them back after",
    "start": "1772290",
    "end": "1778650"
  },
  {
    "text": "after elasticsearch does that it tries to evaluate the score or the relevance",
    "start": "1778650",
    "end": "1784380"
  },
  {
    "text": "of the document and in most queries it will do quite a lot of work to get that done with using some mathematical models",
    "start": "1784380",
    "end": "1791930"
  },
  {
    "text": "and that we can put under the title of the vector space model now depending on",
    "start": "1791930",
    "end": "1798510"
  },
  {
    "text": "what you trying to do that can be quite expensive to do so think ask yourselves",
    "start": "1798510",
    "end": "1804030"
  },
  {
    "text": "very very strongly what where do you really need scoring to be applied and",
    "start": "1804030",
    "end": "1809100"
  },
  {
    "text": "elastic search gives you some ways to actually bypass that that scoring part",
    "start": "1809100",
    "end": "1815790"
  },
  {
    "text": "is if you need to be about that balloon part it is important to understand that",
    "start": "1815790",
    "end": "1822780"
  },
  {
    "text": "all queries in elastic search and basically in the screen which is what's powering it under the hood are",
    "start": "1822780",
    "end": "1828930"
  },
  {
    "text": "essentially two types of queries one is the term query term query is just this",
    "start": "1828930",
    "end": "1835200"
  },
  {
    "text": "is the term this is the field I want to go to that field in the index see if there is this term in that index under",
    "start": "1835200",
    "end": "1842610"
  },
  {
    "text": "that field and give give me back all those documents because most of the time",
    "start": "1842610",
    "end": "1848550"
  },
  {
    "text": "I'll be asking about more than one field or more than one term in one field there is a way to combine term queries using",
    "start": "1848550",
    "end": "1856080"
  },
  {
    "text": "the boolean query which I'm sure all of you have seen before but my point is",
    "start": "1856080",
    "end": "1861180"
  },
  {
    "text": "that all queries in elasticsearch whatever query you are running essentially going to be boiled down into",
    "start": "1861180",
    "end": "1867720"
  },
  {
    "text": "those two queries so whenever you are running a query ask yourself what is this going to look like after a rewrite",
    "start": "1867720",
    "end": "1875370"
  },
  {
    "text": "done by elasticsearch behind-the-scene so for example a wild card query F star bar",
    "start": "1875370",
    "end": "1882809"
  },
  {
    "text": "will be rewritten to whatever I have in the index that satisfy this pattern and",
    "start": "1882809",
    "end": "1888909"
  },
  {
    "text": "then I'll have a big bullying query with multiple term queries that would be",
    "start": "1888909",
    "end": "1894640"
  },
  {
    "text": "declared as going to be executed so that's query here that you see here is a very high-level",
    "start": "1894640",
    "end": "1900039"
  },
  {
    "text": "query that is not essentially going to nobody says it's going to be fast or",
    "start": "1900039",
    "end": "1906730"
  },
  {
    "text": "slow which will really depend on how many terms you have matching in your index so that's just something to keep",
    "start": "1906730",
    "end": "1912640"
  },
  {
    "text": "in mind before elasticsearch 5 that was",
    "start": "1912640",
    "end": "1917740"
  },
  {
    "start": "1916000",
    "end": "1916000"
  },
  {
    "text": "the case also for numeric query how many of you have moved to elasticsearch five",
    "start": "1917740",
    "end": "1923309"
  },
  {
    "text": "all right how many of you are elasticsearch two how many of you are",
    "start": "1923309",
    "end": "1928539"
  },
  {
    "text": "elasticsearch one how many are not using elasticsearch okay so elastic search",
    "start": "1928539",
    "end": "1936130"
  },
  {
    "text": "before a stick search five and numeric queries and geospatial queries all of",
    "start": "1936130",
    "end": "1941770"
  },
  {
    "text": "those queries that are not operating on string were in fact operating on strings",
    "start": "1941770",
    "end": "1947260"
  },
  {
    "text": "right so those numerix would have been translated into some form of the string",
    "start": "1947260",
    "end": "1952809"
  },
  {
    "text": "that led that it makes it searchable and those range queries on numerix would",
    "start": "1952809",
    "end": "1958929"
  },
  {
    "text": "have been translated to like older queries with tons sometimes even millions of term queries",
    "start": "1958929",
    "end": "1966070"
  },
  {
    "text": "and that would result in very slow queries okay so that's very important to know it has been changing on",
    "start": "1966070",
    "end": "1972820"
  },
  {
    "text": "elasticsearch file but before elasticsearch five that's a pitfall that you can definitely miss and this is",
    "start": "1972820",
    "end": "1980919"
  },
  {
    "text": "where you pretty much want to have those queries a cached and be optimized as",
    "start": "1980919",
    "end": "1988330"
  },
  {
    "text": "much as possible for example not not participate in any scoring in order to",
    "start": "1988330",
    "end": "1993610"
  },
  {
    "text": "do that you just want to take that query and put it in a filter context that will tell elasticsearch you're not interested",
    "start": "1993610",
    "end": "1999490"
  },
  {
    "text": "in scoring and that you give elasticsearch each chance of actually cashing it so try to find queries that",
    "start": "1999490",
    "end": "2008490"
  },
  {
    "text": "are quite intensive and put them in in the filter in food filter context which is part of the bull",
    "start": "2008490",
    "end": "2015809"
  },
  {
    "text": "inquiry before elasticsearch - that would have been called a filter we don't have that since since elasticsearch -",
    "start": "2015809",
    "end": "2022740"
  },
  {
    "text": "but it's a filter context ever since if",
    "start": "2022740",
    "end": "2028020"
  },
  {
    "text": "you're using scripts take into account that it will slow down things a bit more not only because of the language being",
    "start": "2028020",
    "end": "2035010"
  },
  {
    "text": "used because you can do that correctly using the expression language or painless language which are basically",
    "start": "2035010",
    "end": "2041190"
  },
  {
    "text": "compiled to bytecode so the execution time doesn't matter but there is an evaluation that happens on every result",
    "start": "2041190",
    "end": "2047130"
  },
  {
    "text": "and that's a bit slower or slower than you would expect in without scripts so",
    "start": "2047130",
    "end": "2054090"
  },
  {
    "text": "scripts will also slow you down a bit another thing to note is about paging",
    "start": "2054090",
    "end": "2061500"
  },
  {
    "start": "2058000",
    "end": "2058000"
  },
  {
    "text": "elasticsearch Lucine are not meant to be used for deep paging if you are querying",
    "start": "2061500",
    "end": "2068878"
  },
  {
    "text": "elasticsearch and you're telling a sixth search give me the first page which is ten results by default and then you go",
    "start": "2068879",
    "end": "2075840"
  },
  {
    "text": "to the next page you are essentially making double the search so the next",
    "start": "2075840",
    "end": "2081358"
  },
  {
    "text": "search on this for the second page is basically telling elasticsearch do the first search do the second search as",
    "start": "2081359",
    "end": "2087210"
  },
  {
    "text": "well and then only give me back the last ten results this is how elastic search engine work behind the skills so doing",
    "start": "2087210",
    "end": "2094950"
  },
  {
    "text": "ton of pages strong in size is not recommended for normal operation if you",
    "start": "2094950",
    "end": "2101970"
  },
  {
    "text": "go deep so two three four pages it's a no-brainer it doesn't really matter but",
    "start": "2101970",
    "end": "2108240"
  },
  {
    "text": "if you go deeper and deeper that's going to be slower gets slower and slower as you go deeper so this is why another",
    "start": "2108240",
    "end": "2116220"
  },
  {
    "text": "reason is that this paging is not stable because every time I go to the next page",
    "start": "2116220",
    "end": "2122550"
  },
  {
    "text": "I am essentially running a new query so that nobody guarantees that in page five",
    "start": "2122550",
    "end": "2128790"
  },
  {
    "text": "I will not see a result that already saw in page four that's because things can",
    "start": "2128790",
    "end": "2133950"
  },
  {
    "text": "they may in the exchanges obviously so some results can jump between pages",
    "start": "2133950",
    "end": "2139109"
  },
  {
    "text": "between my paging operations there is two ways to to avoid that or to make that work",
    "start": "2139109",
    "end": "2146349"
  },
  {
    "text": "better so elasticsearch five introduced something that's called search after and",
    "start": "2146349",
    "end": "2151479"
  },
  {
    "text": "search after lets you basically quickly scroll to the last known position in using some low-level mechanisms and then",
    "start": "2151479",
    "end": "2159189"
  },
  {
    "text": "start from there okay that will basically allow you to do",
    "start": "2159189",
    "end": "2164229"
  },
  {
    "text": "deep paging and perform them much faster there is another way that's called",
    "start": "2164229",
    "end": "2169930"
  },
  {
    "text": "scroll and that's meant usually for when you really have to have stable paging",
    "start": "2169930",
    "end": "2175869"
  },
  {
    "text": "meaning every page has its own and you know that that page is definitely the",
    "start": "2175869",
    "end": "2181749"
  },
  {
    "text": "right page and also for highly performing queries when you need to read lots and lots and lots of results back",
    "start": "2181749",
    "end": "2188709"
  },
  {
    "text": "so think one hundreds of thousands and millions of results back and then you can do scroll starting in monastic",
    "start": "2188709",
    "end": "2195130"
  },
  {
    "text": "search five you also have sliced scroll you can also do this in parallel for multiple readers so it's really nice my",
    "start": "2195130",
    "end": "2203410"
  },
  {
    "text": "point is just try to avoid deep paging as much as possible and if you always",
    "start": "2203410",
    "end": "2208599"
  },
  {
    "text": "what you do is just join search results your user doesn't really need more than three four pages max another question",
    "start": "2208599",
    "end": "2217900"
  },
  {
    "text": "you're doing search I guess you're going to drink some full-text search you do",
    "start": "2217900",
    "end": "2223839"
  },
  {
    "text": "some analysis using some analyzers that take your text break it down to tokens",
    "start": "2223839",
    "end": "2229689"
  },
  {
    "text": "and then normalize those tokens a bit so do you know what we're on I'll just do",
    "start": "2229689",
    "end": "2236369"
  },
  {
    "text": "I'm asking because there is an interesting case of the Swedish Kinect are there any Swedish people in the room",
    "start": "2236369",
    "end": "2242969"
  },
  {
    "text": "awesome so you'll know what I'm talking about there is a Swedish Kinect thing that's",
    "start": "2242969",
    "end": "2248140"
  },
  {
    "text": "called that's basically a way to connect or to do to shorten words right come",
    "start": "2248140",
    "end": "2254349"
  },
  {
    "text": "please correct me if I'm wrong I'm not I'm not Swedish speaking so what happened is I was at the client it you",
    "start": "2254349",
    "end": "2261279"
  },
  {
    "text": "know what let me start from the beginning there is this unique organization the Unicode organization is",
    "start": "2261279",
    "end": "2267039"
  },
  {
    "text": "basically is their job is to make sure that we have standards for things that",
    "start": "2267039",
    "end": "2272680"
  },
  {
    "text": "related text they came up with a Unicode standard that's called uax",
    "start": "2272680",
    "end": "2278140"
  },
  {
    "text": "29 that's the standard that basically defines what text segmentation is",
    "start": "2278140",
    "end": "2283660"
  },
  {
    "text": "meaning um I have a text and now I want to know what are the tokens in the text",
    "start": "2283660",
    "end": "2289119"
  },
  {
    "text": "in order to know that I need to know what to talk in eyes on is whitespace something I need to talk in eyes on as",
    "start": "2289119",
    "end": "2295150"
  },
  {
    "text": "punctuation marks is dot within a word something I need to talk in eyes the",
    "start": "2295150",
    "end": "2301270"
  },
  {
    "text": "question is depends right because in English dot within a word can mean an acronym in other languages it is not in",
    "start": "2301270",
    "end": "2308349"
  },
  {
    "text": "Hebrew for example you have quote marks within a word and that's actually legal in other languages you don't Chinese",
    "start": "2308349",
    "end": "2316270"
  },
  {
    "text": "Japanese Korean what is a world boundary and what is not so they set down and",
    "start": "2316270",
    "end": "2322150"
  },
  {
    "text": "wrote this comprehensive guide or standard you can read it in the internet it's quite comprehensive with lots of",
    "start": "2322150",
    "end": "2329290"
  },
  {
    "text": "examples and I went and said that some client site and we had some issues with",
    "start": "2329290",
    "end": "2334869"
  },
  {
    "text": "the search and to demonstrate what we saw is something like that we had two words and the editor of the content",
    "start": "2334869",
    "end": "2342730"
  },
  {
    "text": "forgot to put a space between the column and the next word so what happened is",
    "start": "2342730",
    "end": "2348730"
  },
  {
    "text": "using the elasticsearch default analyzer which implements that Unicode standard",
    "start": "2348730",
    "end": "2354880"
  },
  {
    "text": "it basically produced this one token for those two words after some investigation",
    "start": "2354880",
    "end": "2361720"
  },
  {
    "text": "and turned out to be just a private case of the Swedish connect because the",
    "start": "2361720",
    "end": "2367809"
  },
  {
    "text": "Unicode standard defines again it people smart people sit down and thought about",
    "start": "2367809",
    "end": "2374170"
  },
  {
    "text": "what would be a comprehensive and the most correct very possible to tokenizing",
    "start": "2374170",
    "end": "2380230"
  },
  {
    "text": "segment words and tokens they also consider the Swedish connect which as",
    "start": "2380230",
    "end": "2386020"
  },
  {
    "text": "far as I understand is in our cane case to be something that they need to take",
    "start": "2386020",
    "end": "2391150"
  },
  {
    "text": "care of so they defined this this segmentation case which is a letter a",
    "start": "2391150",
    "end": "2396880"
  },
  {
    "text": "column another letter from the English alphabet to be in a whole token and not",
    "start": "2396880",
    "end": "2404410"
  },
  {
    "text": "tokenize on that column in the middle so there are some more examples of that",
    "start": "2404410",
    "end": "2409420"
  },
  {
    "text": "of that Swedish connect but what what is call this is places where your edit or your text edit or forgets to put a space",
    "start": "2409420",
    "end": "2416740"
  },
  {
    "text": "between two words and you had a column between those words it will just render as one signal talking okay that you you",
    "start": "2416740",
    "end": "2424720"
  },
  {
    "text": "would never guess that that's what happened and that's actually what happens based on the Unicode standard in",
    "start": "2424720",
    "end": "2431080"
  },
  {
    "text": "pretty much every listing and elastic search implementation allottee so ask",
    "start": "2431080",
    "end": "2436300"
  },
  {
    "text": "yourself really well do you know what your under-eyes er is doing and that's just one interesting example obviously a",
    "start": "2436300",
    "end": "2443470"
  },
  {
    "text": "sense I sent them an email asking them to review that I never got a response",
    "start": "2443470",
    "end": "2448510"
  },
  {
    "text": "back I think it was like two years ago or something so that's that's that if you want to",
    "start": "2448510",
    "end": "2455770"
  },
  {
    "text": "know what you are now is doing you actually have an end point to let you do that you can just pass a text and",
    "start": "2455770",
    "end": "2461730"
  },
  {
    "text": "specify an analyzer name to to use for to analyze the text and you'll get back",
    "start": "2461730",
    "end": "2468340"
  },
  {
    "text": "a list of tokens that will get into the index another recommendation I have for",
    "start": "2468340",
    "end": "2474790"
  },
  {
    "text": "you that's not a default yet I'm pretty sure it is going to get to the default so default analyzers will do lower",
    "start": "2474790",
    "end": "2482080"
  },
  {
    "text": "casing for you which is quite obvious because will you know usually most of",
    "start": "2482080",
    "end": "2487600"
  },
  {
    "text": "the systems are pretty much multilingual today and we European languages have accented characters and not every",
    "start": "2487600",
    "end": "2495280"
  },
  {
    "text": "keyboard or not every keyboard user know how to use them so I'm recommending to",
    "start": "2495280",
    "end": "2501160"
  },
  {
    "text": "use the ASCII folding filter as well as key folding will take letters that have accented letter basically and translate",
    "start": "2501160",
    "end": "2508900"
  },
  {
    "text": "them or reduce them into their ASCII equivalent based again on some own some",
    "start": "2508900",
    "end": "2514180"
  },
  {
    "text": "standard mapping and I'm recommending the use of the ASCII folding for filter on every analyzer and that's an example",
    "start": "2514180",
    "end": "2521410"
  },
  {
    "text": "of how to define a lile analyzer using gas KeyFolio filter how many of you are",
    "start": "2521410",
    "end": "2527220"
  },
  {
    "start": "2525000",
    "end": "2525000"
  },
  {
    "text": "know and use and grams okay okay",
    "start": "2527220",
    "end": "2533109"
  },
  {
    "text": "so basically I've seen way too many clients lightly using Engram",
    "start": "2533109",
    "end": "2539690"
  },
  {
    "text": "and I started to realize that people see somewhere in some documentation",
    "start": "2539690",
    "end": "2545170"
  },
  {
    "text": "apparently an official recommendation of elasticsearch to use engrams for some scenarios and 99% of the cases where I",
    "start": "2545170",
    "end": "2554030"
  },
  {
    "text": "see engrams are being used that's incorrect and there's better solutions for that so whenever you hear people",
    "start": "2554030",
    "end": "2560150"
  },
  {
    "text": "tell you to use anagrams stop don't do that and try to reconsider",
    "start": "2560150",
    "end": "2565460"
  },
  {
    "text": "so two reasons people are usually using anagram to try and come up with a",
    "start": "2565460",
    "end": "2572000"
  },
  {
    "text": "suggestion algorithm or suggestion feature to the to their search",
    "start": "2572000",
    "end": "2577760"
  },
  {
    "text": "so engrams because of the way they work they let you tolerate spelling errors",
    "start": "2577760",
    "end": "2583210"
  },
  {
    "text": "okay so people do two things one they start using Engram and second they use",
    "start": "2583210",
    "end": "2588830"
  },
  {
    "text": "instead of just using four or five grams which will blow the index but not do too",
    "start": "2588830",
    "end": "2594350"
  },
  {
    "text": "much damage they will use two to ten and grams which means they're going to bloat",
    "start": "2594350",
    "end": "2600380"
  },
  {
    "text": "or index I'm sorry from speaking too fast and not explain what engrams is if",
    "start": "2600380",
    "end": "2606170"
  },
  {
    "text": "you don't know why it is better I'm serious so instead of using Engram go",
    "start": "2606170",
    "end": "2612230"
  },
  {
    "text": "and use gestures which is just a way to do that correctly using elasticsearch",
    "start": "2612230",
    "end": "2618320"
  },
  {
    "text": "API you can also do fuzzy search which will pretty much do that for you in a",
    "start": "2618320",
    "end": "2624380"
  },
  {
    "text": "much smarter way all right so that if you need suggestion so this so just change or suggesters",
    "start": "2624380",
    "end": "2630440"
  },
  {
    "text": "just go use two gestures if that doesn't help then maybe try to look at Engram",
    "start": "2630440",
    "end": "2636430"
  },
  {
    "text": "the second reason people using engrams is because they have like model names",
    "start": "2636430",
    "end": "2641870"
  },
  {
    "text": "and stuff like that so they want something that mimics the contains search in SQL or whatever they came from",
    "start": "2641870",
    "end": "2649420"
  },
  {
    "text": "and instead of doing that the right way they're using engrams to support searches like that so I want to find",
    "start": "2649420",
    "end": "2656030"
  },
  {
    "text": "this ws 500 is like I don't know a camera model so if I want my user that",
    "start": "2656030",
    "end": "2662360"
  },
  {
    "text": "if you typed 500 I'll be able to find ws 500 so using engrams for that and death",
    "start": "2662360",
    "end": "2668480"
  },
  {
    "text": "that's usually when I see people using two to ten instead of doing that check out the word",
    "start": "2668480",
    "end": "2676360"
  },
  {
    "text": "delimiter talking filter which will do this in a much smarter way to just tokenize on those changes so WS would be",
    "start": "2676360",
    "end": "2684940"
  },
  {
    "text": "talking 500 would be talkin Wi-Fi so Wi-Fi and Wi-Fi so that's just done",
    "start": "2684940",
    "end": "2691900"
  },
  {
    "text": "correctly just a healthy when you debug",
    "start": "2691900",
    "end": "2696910"
  },
  {
    "start": "2695000",
    "end": "2695000"
  },
  {
    "text": "some some debugging tools for you so if when you debug elasticsearch or enquiries and you want to understand",
    "start": "2696910",
    "end": "2703450"
  },
  {
    "text": "what's going on behind the scenes we have two things that are available to you so quarry explanation can explain",
    "start": "2703450",
    "end": "2710110"
  },
  {
    "text": "why a result came back and why it got the score that it got it's not very",
    "start": "2710110",
    "end": "2715870"
  },
  {
    "text": "readable I agree but it does let you give you enough information mainly this",
    "start": "2715870",
    "end": "2721540"
  },
  {
    "text": "part here text current Fox which gives you the field name and the actual talk",
    "start": "2721540",
    "end": "2726670"
  },
  {
    "text": "and that goes much that's very useful when you want to read to understand why a result came up and even better why",
    "start": "2726670",
    "end": "2733900"
  },
  {
    "text": "result didn't come up so you have two ways to approach that in every search",
    "start": "2733900",
    "end": "2739420"
  },
  {
    "text": "request you can add a explain true and that would add include the explanation",
    "start": "2739420",
    "end": "2745660"
  },
  {
    "text": "doesn't do that in production because it's very slowing down the queries very much and if you have a specific document",
    "start": "2745660",
    "end": "2752080"
  },
  {
    "text": "that you want to understand why I didn't come back come back in a search in the search requests you have the underscore",
    "start": "2752080",
    "end": "2757900"
  },
  {
    "text": "explained API that lets you send the query and the document ad and get back the explanation and that is very useful",
    "start": "2757900",
    "end": "2765130"
  },
  {
    "text": "to understand why the document didn't come back so mostly useful for text searches and very strong debug tool",
    "start": "2765130",
    "end": "2773370"
  },
  {
    "text": "another quiet question ooh a debug tool in elasticsearch is the profile API it's",
    "start": "2773370",
    "end": "2779440"
  },
  {
    "text": "an API that lets you again ask you lastic search about a specific worry but",
    "start": "2779440",
    "end": "2786010"
  },
  {
    "text": "this time not yet why a result came back or not but what are the performance",
    "start": "2786010",
    "end": "2791710"
  },
  {
    "text": "metrics of that query within the elastic search cluster so pretty much every",
    "start": "2791710",
    "end": "2797190"
  },
  {
    "text": "every component of the search is being analyzed and measured for for latencies",
    "start": "2797190",
    "end": "2804240"
  },
  {
    "start": "2804000",
    "end": "2804000"
  },
  {
    "text": "another happy this thing that's called named queries in some cases you want to be able to",
    "start": "2804240",
    "end": "2812619"
  },
  {
    "text": "send multiple queries and get back results and then know which of the",
    "start": "2812619",
    "end": "2817660"
  },
  {
    "text": "queries in the original query match the result so if you have a boolean query and you have multiple shoot clauses in",
    "start": "2817660",
    "end": "2824740"
  },
  {
    "text": "the result you can using name queries you can get back the names of the queries that matched each and every",
    "start": "2824740",
    "end": "2831880"
  },
  {
    "text": "result and it's very useful it can also sometimes replace use of aggregations of",
    "start": "2831880",
    "end": "2837790"
  },
  {
    "text": "term allegations and just again another hat tip try it out and so I have skin",
    "start": "2837790",
    "end": "2843730"
  },
  {
    "text": "because of some more content cover so",
    "start": "2843730",
    "end": "2849580"
  },
  {
    "start": "2845000",
    "end": "2845000"
  },
  {
    "text": "let's talk a bit about mapping so how many of you have heard about in of index templates alright mappings you know what",
    "start": "2849580",
    "end": "2858369"
  },
  {
    "text": "I'm talking about all right so a mapping is the index schema that that is what's going to define how the",
    "start": "2858369",
    "end": "2864910"
  },
  {
    "text": "data has been indexed what analyzers are being used and stuff like that",
    "start": "2864910",
    "end": "2870220"
  },
  {
    "text": "what happens is that usually it's much easier to define the mapping over that",
    "start": "2870220",
    "end": "2877180"
  },
  {
    "text": "it doesn't change after a certain point in time just define define it in elastic search and let elasticsearch do the",
    "start": "2877180",
    "end": "2884020"
  },
  {
    "text": "heavy lifting of creating the index and applying that's nothing that's being used using the index template so instead",
    "start": "2884020",
    "end": "2890830"
  },
  {
    "text": "of creating the index explicitly and applying the mapping explicitly you can use index templates which are you can",
    "start": "2890830",
    "end": "2897940"
  },
  {
    "text": "just treat them as documents and you just put them the mapping until",
    "start": "2897940",
    "end": "2903490"
  },
  {
    "text": "elasticsearch template Colin and some pattern and then every time an index is",
    "start": "2903490",
    "end": "2909820"
  },
  {
    "text": "being created using the that this name matches this pattern the index template",
    "start": "2909820",
    "end": "2916150"
  },
  {
    "text": "will be applied to it you can have multiple index template and will be applied to it by some order that you can",
    "start": "2916150",
    "end": "2922270"
  },
  {
    "text": "specify so order 0 meaning this is going to be the first one that's going to be applied to the index that matches it",
    "start": "2922270",
    "end": "2931020"
  },
  {
    "text": "another thing you may not be aware but there is a field that you never define and maybe never use",
    "start": "2931020",
    "end": "2937640"
  },
  {
    "text": "called in underscore underscore is being used usually by key balanced or when you search on that bar just right type ward",
    "start": "2937640",
    "end": "2945079"
  },
  {
    "text": "it will go to elasticsearch and query the old field if you don't use Cabana",
    "start": "2945079",
    "end": "2950269"
  },
  {
    "text": "you don't need it if you use Cabana what happens is that every piece of data that you put in an acid search is being",
    "start": "2950269",
    "end": "2957799"
  },
  {
    "text": "directed to the old field and that's a blacklist approach basically so everything is going there unless you",
    "start": "2957799",
    "end": "2964640"
  },
  {
    "text": "tell elasticsearch not to on a specific specific field not to index it into the",
    "start": "2964640",
    "end": "2969890"
  },
  {
    "text": "old field in my opinion that's a bad practice and I think you should do the other way around I think we should have",
    "start": "2969890",
    "end": "2976250"
  },
  {
    "text": "some sort of a whitelist approach so what I recommend usually is to disable",
    "start": "2976250",
    "end": "2981500"
  },
  {
    "text": "the oil field you can do that in an index configuration and then use elastic",
    "start": "2981500",
    "end": "2987079"
  },
  {
    "text": "search mechanism that's called copy two so you create the old field by yourself and use the cop copy tool to do a",
    "start": "2987079",
    "end": "2994519"
  },
  {
    "text": "rightist approach on every field that you do want to copy from your documents",
    "start": "2994519",
    "end": "2999859"
  },
  {
    "text": "to the old field for indexing and let's",
    "start": "2999859",
    "end": "3004900"
  },
  {
    "start": "3003000",
    "end": "3003000"
  },
  {
    "text": "talk about type so except from one use case which I mentioned earlier the",
    "start": "3004900",
    "end": "3010869"
  },
  {
    "text": "parent-child use case there is hardly any use case that I know of or that that",
    "start": "3010869",
    "end": "3016000"
  },
  {
    "text": "would justify using different types in one index let me explain if you have",
    "start": "3016000",
    "end": "3021430"
  },
  {
    "text": "many documents and those documents are in a certain have a certain schema all",
    "start": "3021430",
    "end": "3027940"
  },
  {
    "text": "right so if you put them in one index you and that index is going to be your manageable unit that is how you this is",
    "start": "3027940",
    "end": "3034990"
  },
  {
    "text": "how you scale right number of chars number of replicas this is your retention policy so if you're using",
    "start": "3034990",
    "end": "3041740"
  },
  {
    "text": "rolling indexes so you can only work on a single index when you backup when you",
    "start": "3041740",
    "end": "3047319"
  },
  {
    "text": "delete and and do things like that so it's it's your escalate in terms of",
    "start": "3047319",
    "end": "3052599"
  },
  {
    "text": "correlation see is your retention policy this is basically the manageable unit",
    "start": "3052599",
    "end": "3058210"
  },
  {
    "text": "that you have you cannot do anything with type types are just a logic unit",
    "start": "3058210",
    "end": "3063490"
  },
  {
    "text": "just separate mappings in of documents within a single index so it doesn't give",
    "start": "3063490",
    "end": "3069069"
  },
  {
    "text": "you anything there is no reason for you know to just index it into another index and then",
    "start": "3069069",
    "end": "3075050"
  },
  {
    "text": "basically benefit from another manageable unit and worst case you just",
    "start": "3075050",
    "end": "3082400"
  },
  {
    "text": "managing two different indexes but worst case scenario which is usually what happens now you are you have better",
    "start": "3082400",
    "end": "3089480"
  },
  {
    "text": "fine-grained control over your data right so except from the parent-child",
    "start": "3089480",
    "end": "3094700"
  },
  {
    "text": "scenario which you have to have two different types in one single index you just you should prefer using different",
    "start": "3094700",
    "end": "3101570"
  },
  {
    "text": "indexes instead of different types in one index let's talk a bit about",
    "start": "3101570",
    "end": "3109490"
  },
  {
    "start": "3108000",
    "end": "3108000"
  },
  {
    "text": "classroom management so you have your of your data in somewhere in an own elastic",
    "start": "3109490",
    "end": "3117020"
  },
  {
    "text": "search and duct elastic search cluster is hosted somewhere whether it's on-premise whether it's on cloud",
    "start": "3117020",
    "end": "3122830"
  },
  {
    "text": "obviously you protected it and it's not exposed to the web this is what we",
    "start": "3122830",
    "end": "3127970"
  },
  {
    "text": "already covered and let's talk a bit about patterns and best practices to",
    "start": "3127970",
    "end": "3133430"
  },
  {
    "text": "maintain it so first of all if you're using elastic search is a key value store or is some sort of a caching",
    "start": "3133430",
    "end": "3141020"
  },
  {
    "text": "mechanism just don't I just move to do this using a technology just that main",
    "start": "3141020",
    "end": "3147590"
  },
  {
    "text": "event for that the reason for that is a elastic search doesn't have recharging",
    "start": "3147590",
    "end": "3153170"
  },
  {
    "text": "capability so once you need to charge your data folder you cannot do that with",
    "start": "3153170",
    "end": "3158420"
  },
  {
    "text": "elastic search elastic search we just require to do some sort of our indexing and stuff it's not meant for that also",
    "start": "3158420",
    "end": "3166010"
  },
  {
    "text": "key value stores assume the data is sometimes updated and a sixth search is",
    "start": "3166010",
    "end": "3171980"
  },
  {
    "text": "- it's not good it's not meant for updates right so when you update data in elastic search you basically do a delete",
    "start": "3171980",
    "end": "3180170"
  },
  {
    "text": "and another right the way elastic search works under the hood it works quite hard",
    "start": "3180170",
    "end": "3185840"
  },
  {
    "text": "as as soon as it has many deletes and does it's not meant to be used as a key",
    "start": "3185840",
    "end": "3192109"
  },
  {
    "text": "value store or to maintain something that's frequently updated if you're using elastic search for searchers and",
    "start": "3192109",
    "end": "3198080"
  },
  {
    "text": "stuff like that so when you need to do deletes that's perfect fine but if you're using an ethics adjust as a key value store just get by",
    "start": "3198080",
    "end": "3205270"
  },
  {
    "text": "ID you you're better off doing it with the Redis Cassandra and other tools that",
    "start": "3205270",
    "end": "3211750"
  },
  {
    "text": "are meant for that speaking about clusters there is this",
    "start": "3211750",
    "end": "3218320"
  },
  {
    "start": "3214000",
    "end": "3214000"
  },
  {
    "text": "feature in elastic search that whenever there is a change in the settings of your cluster for example a new node is",
    "start": "3218320",
    "end": "3225880"
  },
  {
    "text": "being launched or one index started growing too large so whenever the",
    "start": "3225880",
    "end": "3231640"
  },
  {
    "text": "cluster is a bit unbalanced using many many metrics that elastic search",
    "start": "3231640",
    "end": "3237190"
  },
  {
    "text": "collects elastic search will opt to do some sort of rebalancing operation that's quite costly that means basically",
    "start": "3237190",
    "end": "3244180"
  },
  {
    "text": "a lot of i/o operations because now I'm going on elastic search with recharge and then just try to move them to",
    "start": "3244180",
    "end": "3251260"
  },
  {
    "text": "different nodes and swap charts between nodes because because it it tries to get",
    "start": "3251260",
    "end": "3256870"
  },
  {
    "text": "to a balanced state it will not just move one node it will always move one node and then another no and not sorry",
    "start": "3256870",
    "end": "3264550"
  },
  {
    "text": "not no charge and then move another shard to compensate for that so rebalancing will actually gain curve",
    "start": "3264550",
    "end": "3272940"
  },
  {
    "text": "latency issues with your queries if you have if you have a requirement for low latency queries you should definitely",
    "start": "3272940",
    "end": "3280630"
  },
  {
    "text": "lock down rebounding and it's very quite easy to do there is an API for that I'll",
    "start": "3280630",
    "end": "3285730"
  },
  {
    "text": "show you in a second even easier way to do that although it's been throttled",
    "start": "3285730",
    "end": "3290860"
  },
  {
    "text": "automatically which I still see in lots of scenarios where rebalancing actually",
    "start": "3290860",
    "end": "3296920"
  },
  {
    "text": "damages performance quite quite severely in many clusters so just my advice just",
    "start": "3296920",
    "end": "3302830"
  },
  {
    "text": "disable it as much as possible I'm speaking about charts there's one",
    "start": "3302830",
    "end": "3309910"
  },
  {
    "start": "3306000",
    "end": "3306000"
  },
  {
    "text": "frequently asked question is what is the optimal shard size in my opinion that a",
    "start": "3309910",
    "end": "3316360"
  },
  {
    "text": "I just measured in two metrics one is the number of documents per shard and",
    "start": "3316360",
    "end": "3322060"
  },
  {
    "text": "just as far as I know I can as far as I can tell based on many scenarios I've",
    "start": "3322060",
    "end": "3327280"
  },
  {
    "text": "seen there is a sweet spot of around 1 million documents so once you have around my 1 million documents",
    "start": "3327280",
    "end": "3334090"
  },
  {
    "text": "char did not index very sharp then searches will operate very fast while",
    "start": "3334090",
    "end": "3340090"
  },
  {
    "text": "still taking as much optimization as possible from you know the way the disk",
    "start": "3340090",
    "end": "3346510"
  },
  {
    "text": "did it stored on disk and stuff like that and the second metric is the size",
    "start": "3346510",
    "end": "3351640"
  },
  {
    "text": "of disk so once you go past five to ten gig a shard because shard is the unit",
    "start": "3351640",
    "end": "3359500"
  },
  {
    "text": "that elasticsearch manages in terms of scaling out that would mean that's",
    "start": "3359500",
    "end": "3364810"
  },
  {
    "text": "killing it out or that moving in between nodes or even initializing it into memory when a node comes up it takes",
    "start": "3364810",
    "end": "3372970"
  },
  {
    "text": "quite a lot of time and over five to ten to eight gigs that's taking too much",
    "start": "3372970",
    "end": "3379120"
  },
  {
    "text": "time so optimal size and disk is around five to ten gigs and optimal size in",
    "start": "3379120",
    "end": "3385210"
  },
  {
    "text": "terms of document count is around ten a one million documents as far as the",
    "start": "3385210",
    "end": "3392200"
  },
  {
    "start": "3390000",
    "end": "3390000"
  },
  {
    "text": "bugging tools I showed you some for securing there are more voice noting like a cluster allocation explanation",
    "start": "3392200",
    "end": "3398980"
  },
  {
    "text": "why discharge on this node etc some explain api's some profiling api's I'm",
    "start": "3398980",
    "end": "3406060"
  },
  {
    "text": "going to skip that cops is a very good tool for looking at your cluster and",
    "start": "3406060",
    "end": "3412660"
  },
  {
    "text": "seeing what's going on it's not compatible with version 5 because",
    "start": "3412660",
    "end": "3418420"
  },
  {
    "text": "version 5 deprecated sites plugin which is what cops we're using too was using",
    "start": "3418420",
    "end": "3424380"
  },
  {
    "text": "the guy who created cops created something that's called cerebral I don't",
    "start": "3424380",
    "end": "3430120"
  },
  {
    "text": "recommend using that I actually recommend using cops but using that through nginx or some static HTML server",
    "start": "3430120",
    "end": "3438700"
  },
  {
    "text": "is because that's just static HTML it allows you to see a good picture of your classroom know what's going on and again",
    "start": "3438700",
    "end": "3446440"
  },
  {
    "text": "don't forget to lock it down under some authentication mechanism as far as",
    "start": "3446440",
    "end": "3452800"
  },
  {
    "start": "3451000",
    "end": "3451000"
  },
  {
    "text": "classic topology goes make sure you don't mix and match hacks or rolls like",
    "start": "3452800",
    "end": "3458860"
  },
  {
    "text": "so elastic search cluster should have dedicated servers for each role so we",
    "start": "3458860",
    "end": "3465730"
  },
  {
    "text": "have three walls actually four but that's it we have three roles one is master or",
    "start": "3465730",
    "end": "3472150"
  },
  {
    "text": "master eligible you want to always have three of them okay exactly three so that",
    "start": "3472150",
    "end": "3479330"
  },
  {
    "text": "would allow you to deal with network partition if you have one you cannot",
    "start": "3479330",
    "end": "3485450"
  },
  {
    "text": "deal with network partition if you have an even number you could get to a split brain situation and everything above",
    "start": "3485450",
    "end": "3491810"
  },
  {
    "text": "three is just a waste of money in most cases so have three master node master readable node one of them would",
    "start": "3491810",
    "end": "3498740"
  },
  {
    "text": "be the master at every time a lastic search will decide which one it is that'll just have as many as you want",
    "start": "3498740",
    "end": "3504770"
  },
  {
    "text": "depending and sizing will depend on the actual data that you're going to serve",
    "start": "3504770",
    "end": "3510710"
  },
  {
    "text": "and that is a bit hard to scale out so master nodes can be quite laying",
    "start": "3510710",
    "end": "3516020"
  },
  {
    "text": "machines they don't have to be very busy just have two cores one for gigs memory",
    "start": "3516020",
    "end": "3521630"
  },
  {
    "text": "that's enough data nodes are going to be quite busy the sizing really depends on",
    "start": "3521630",
    "end": "3527869"
  },
  {
    "text": "how your data looks like and what is your application factor that you want",
    "start": "3527869",
    "end": "3533020"
  },
  {
    "text": "amount of memory that you allocated to the JVM really depends on your usage",
    "start": "3533020",
    "end": "3538720"
  },
  {
    "text": "nowadays you don't have to on version 5 don't really have to dedicate a lot of lots of memory because you can take",
    "start": "3538720",
    "end": "3544730"
  },
  {
    "text": "advantage of dock values for those of you both familiar with it so data node",
    "start": "3544730",
    "end": "3550339"
  },
  {
    "text": "is going to be pretty much a constant number because it's hard to scale them out mostly because of rebalancing then",
    "start": "3550339",
    "end": "3557000"
  },
  {
    "text": "you have the client nodes which you can scale up and down I'll turn down because",
    "start": "3557000",
    "end": "3562520"
  },
  {
    "text": "it's very easy to do that they are just start again standard knows not anything too complicated and they",
    "start": "3562520",
    "end": "3570320"
  },
  {
    "text": "will be the one to handle traffic and enquiries this scatter and gather",
    "start": "3570320",
    "end": "3577150"
  },
  {
    "start": "3576000",
    "end": "3576000"
  },
  {
    "text": "geographic distribution don't do that just stay in a single region in a single",
    "start": "3577720",
    "end": "3583130"
  },
  {
    "text": "data center I've seen clients who actually go and create it elasticsearch cluster on geographically distributed",
    "start": "3583130",
    "end": "3590510"
  },
  {
    "text": "not a good idea take a look at red nodes if you need to do that or there is more",
    "start": "3590510",
    "end": "3595760"
  },
  {
    "text": "ways to do that and I'll be happy to to have a offline discussion about that",
    "start": "3595760",
    "end": "3601730"
  },
  {
    "text": "unfortunately we don't have much time left so I'll pretty much skim through this one this is an original this is",
    "start": "3601730",
    "end": "3607970"
  },
  {
    "text": "these images from the elasticsearch documentation and it talks about the new",
    "start": "3607970",
    "end": "3613160"
  },
  {
    "text": "way to ingest data I think the change is something that's called ingest notes I don't really recommend",
    "start": "3613160",
    "end": "3621170"
  },
  {
    "text": "using them because I prefer all the ingest work to be done on dedicated note",
    "start": "3621170",
    "end": "3626750"
  },
  {
    "text": "and this is what a locust ash 5 does locust ash in general does and also 5",
    "start": "3626750",
    "end": "3632420"
  },
  {
    "text": "does it in a much better way way more optimized the rewrote some stuff my my",
    "start": "3632420",
    "end": "3640220"
  },
  {
    "text": "preference is usually to have ingestion data ingestion and parsing stuff like",
    "start": "3640220",
    "end": "3645230"
  },
  {
    "text": "that's done externally to the clusters so if you heard about ingest mode that would be my recommendation",
    "start": "3645230",
    "end": "3651410"
  },
  {
    "text": "so more recommendations here I'll post those slides there so so you can see",
    "start": "3651410",
    "end": "3656420"
  },
  {
    "text": "them I hope you enjoyed and thank you very much and don't forget to protect",
    "start": "3656420",
    "end": "3661790"
  },
  {
    "text": "your clusters and again if you need any help with that feel free to reach out thank you",
    "start": "3661790",
    "end": "3667430"
  },
  {
    "text": "[Applause]",
    "start": "3667430",
    "end": "3670099"
  }
]