[
  {
    "text": "everybody uh my name is Ian Cooper uh so I'm here because I'm the kind of person",
    "start": "11080",
    "end": "16680"
  },
  {
    "text": "that talks about messaging and yeah so my name is Martin thakes I go by martin.net on socials and stuff like",
    "start": "16680",
    "end": "23400"
  },
  {
    "text": "that and I talk about observability and open Telemetry and all of that kind of",
    "start": "23400",
    "end": "29119"
  },
  {
    "text": "stuff and I think it was about six months ago um Ian was I think I can't",
    "start": "29119",
    "end": "34320"
  },
  {
    "text": "remember where we're at one of the conferences and Ian came to me and said I want to do some talks around messaging",
    "start": "34320",
    "end": "40800"
  },
  {
    "text": "and observability can you help me with some stuff and I went you know what why don't we just do it on stage together um",
    "start": "40800",
    "end": "48000"
  },
  {
    "text": "and then you can all just be in while I train him um my new Junior",
    "start": "48000",
    "end": "53239"
  },
  {
    "text": "Dev you may wonder where the other member of ezy top is but uh we're trying",
    "start": "53239",
    "end": "59079"
  },
  {
    "text": "to basically inrease diversity of the conference by having uh two white guy old white guys with beards on stage at",
    "start": "59079",
    "end": "65080"
  },
  {
    "text": "the same time which is working really well we we have diversity of beard length true and you've got some ginger",
    "start": "65080",
    "end": "71040"
  },
  {
    "text": "in yours cool okay so we're we're here to",
    "start": "71040",
    "end": "77759"
  },
  {
    "text": "basically marry the two ideas of event driven architectures being complicated",
    "start": "77759",
    "end": "83000"
  },
  {
    "text": "and observability being something that allows us to understand systems somewhat ironically uh when we were building the",
    "start": "83000",
    "end": "89400"
  },
  {
    "text": "demo for this uh I was essentially thought hey it's okay Martin I've got an idea for a",
    "start": "89400",
    "end": "95799"
  },
  {
    "text": "demo app I will go and build that but you can just add the observability later and we thought we could just really end",
    "start": "95799",
    "end": "101640"
  },
  {
    "text": "up doing a talk about how painful it was to try and build a messaging app uh without any observability turned on so",
    "start": "101640",
    "end": "108439"
  },
  {
    "text": "that he could turn it on later because we probably managed to successfully prove every point we're about to make in",
    "start": "108439",
    "end": "113920"
  },
  {
    "text": "this talk um and we'll we'll we'll kind of refer to that as we go along uh kind of how that it was illumin ating that we",
    "start": "113920",
    "end": "120680"
  },
  {
    "text": "just struggled in exactly the way we predicted it didn't work uh my code is fantastic uh I just",
    "start": "120680",
    "end": "128360"
  },
  {
    "text": "left a few things out it didn't even work on his",
    "start": "128360",
    "end": "134200"
  },
  {
    "text": "machine um so do you want to you want to start by talking a little bit about flow and complexity and why we're here about",
    "start": "134200",
    "end": "142239"
  },
  {
    "text": "the Conch I I have the Conch right okay so when when you first start out",
    "start": "142239",
    "end": "149560"
  },
  {
    "text": "learning to do messaging between systems you're building something with a z service bus or CFA or SNS and",
    "start": "149560",
    "end": "157599"
  },
  {
    "text": "sqs there's a you get to a relatively simple point of complexity right you've got your producer and you got your",
    "start": "157599",
    "end": "163920"
  },
  {
    "text": "consumer your sender or receiver it doesn't really matter on the words okay but even at this point there's",
    "start": "163920",
    "end": "170720"
  },
  {
    "text": "quite a lot to go wrong so when I'm writing my receiver typically I'm going",
    "start": "170720",
    "end": "175920"
  },
  {
    "text": "to have some kind of message pump and the message pump is going to take a message off the wire it's going to",
    "start": "175920",
    "end": "181519"
  },
  {
    "text": "translate it and it's going to dispatch it to some code that handles it and there's pain there right am I reading",
    "start": "181519",
    "end": "188920"
  },
  {
    "text": "stuff off the correct place can I actually read stuff successfully when I",
    "start": "188920",
    "end": "194120"
  },
  {
    "text": "get the message can I translate it into something that could be expected when I",
    "start": "194120",
    "end": "200239"
  },
  {
    "text": "dispatch it to a Handler is it going to the right place does it succeed or does it fail so even that simple idea of a",
    "start": "200239",
    "end": "207239"
  },
  {
    "text": "loop has quite a lot of complexity in it and when we were writing this demo app",
    "start": "207239",
    "end": "212360"
  },
  {
    "text": "uh Martin kept saying to me Ian the bit of code that's supposed to notify us about the status of the delivery over",
    "start": "212360",
    "end": "218799"
  },
  {
    "text": "CFA doesn't seem to be working and uh I can't figure out why you were getting",
    "start": "218799",
    "end": "226640"
  },
  {
    "text": "this uh piece of uh these messages all about type information Etc and the",
    "start": "226640",
    "end": "232200"
  },
  {
    "text": "problem was I'd completely forgot to put in the pit of code that translated the",
    "start": "232200",
    "end": "237360"
  },
  {
    "text": "body of the message into a type in the type system just had slipped my mind I written a thousand messaging programs",
    "start": "237360",
    "end": "242760"
  },
  {
    "text": "right so it's really easy to make mistakes and the problem is there",
    "start": "242760",
    "end": "248640"
  },
  {
    "text": "essentially there's a whole world of how do I figure that out right and what was interesting about that though was the",
    "start": "248640",
    "end": "255640"
  },
  {
    "text": "error was happening inside of a mapper so the code where we were trying to say",
    "start": "255640",
    "end": "261120"
  },
  {
    "text": "why is this not being reached or why is this not hitting the database and updating something is you put a debug",
    "start": "261120",
    "end": "266199"
  },
  {
    "text": "end point a breakpoint in there and it wasn't even hitting the break point and it took actually adding some um",
    "start": "266199",
    "end": "273680"
  },
  {
    "text": "Telemetry in there for us to notice that it was actually in the mappa that it was failing because a debug wasn't seeing it",
    "start": "273680",
    "end": "281199"
  },
  {
    "text": "because we didn't know where to put the break point to be a in order to be able to see it this was one of those",
    "start": "281199",
    "end": "287039"
  },
  {
    "text": "situations where we got to the point of going well I I might actually need to add observability and then remove it so",
    "start": "287039",
    "end": "293000"
  },
  {
    "text": "that we can do it for the demo so one of the reasons this comes a bit more complex is",
    "start": "293000",
    "end": "298639"
  },
  {
    "text": "typically it's a bit more of a story than this right so one of the you you T you tend to be doing one or two things",
    "start": "298639",
    "end": "304639"
  },
  {
    "text": "in messaging so the Top Model we tend to call kind of in only pan so you can",
    "start": "304639",
    "end": "309919"
  },
  {
    "text": "think about that as far and forget uh just sending a command to someone as an instruction to do something and quite",
    "start": "309919",
    "end": "316240"
  },
  {
    "text": "often we stop talking about sender and receiver or producer and consumer and start talking about requester and",
    "start": "316240",
    "end": "322240"
  },
  {
    "text": "provider and that's because one team is essentially providing an API that",
    "start": "322240",
    "end": "328520"
  },
  {
    "text": "another team is calling so on an Inon model the team who's providing the API usually owns the",
    "start": "328520",
    "end": "334560"
  },
  {
    "text": "message pump and they're essentially saying there's a series of operations that I Expose and you can call when we",
    "start": "334560",
    "end": "342120"
  },
  {
    "text": "talk about out only typically the team providing the API is the producer and",
    "start": "342120",
    "end": "347960"
  },
  {
    "text": "they're essentially doing a pubs sub they're literally broadcasting it to everybody and there are problems because",
    "start": "347960",
    "end": "354639"
  },
  {
    "text": "typically that's often two separate teams and you may be divided by time and",
    "start": "354639",
    "end": "361199"
  },
  {
    "text": "Martin was at one point when we were trying to work on this together effectively in the at a plane and in the US maybe divided by cultural language",
    "start": "361199",
    "end": "369560"
  },
  {
    "text": "Martin comes from up north right but we speak properly so it can be it can be",
    "start": "369560",
    "end": "375919"
  },
  {
    "text": "difficult to interpret him um uh and those things make it hard because if you",
    "start": "375919",
    "end": "381199"
  },
  {
    "text": "if I own the provider and Martin owns the requestor how does he how does he know why",
    "start": "381199",
    "end": "387960"
  },
  {
    "text": "something is failing and often he doesn't want to spin up my app and start debugging it right this is",
    "start": "387960",
    "end": "394240"
  },
  {
    "text": "the problem we hit quite a bit is saying okay um I need to actually load your app",
    "start": "394240",
    "end": "399599"
  },
  {
    "text": "I need to start debugging your app how do I load your app how do I debug your app how does that actually work for me",
    "start": "399599",
    "end": "406319"
  },
  {
    "text": "uh and the same without only right the problem I'm going to get is um someone's broadcasting a message but I you know I",
    "start": "406319",
    "end": "412880"
  },
  {
    "text": "say I don't really care whether anyone listens to it but is anyone listening to it what happens if I'm sending it to",
    "start": "412880",
    "end": "419560"
  },
  {
    "text": "entirely the wrong channel it's just a name that I've configured somewhere in our case right there's a we're using the",
    "start": "419560",
    "end": "424919"
  },
  {
    "text": "local emulator for AER service bus so there's a config Json file we typed a whole lot of names into and we retyped",
    "start": "424919",
    "end": "431520"
  },
  {
    "text": "those names into the code for the request we' retyped those names in the code for the provider and that's really",
    "start": "431520",
    "end": "437319"
  },
  {
    "text": "possible we're going to make you mistype those but that's really hard to figure out right you can sit there staring at",
    "start": "437319",
    "end": "444240"
  },
  {
    "text": "the screen for hours wondering why my messages not going to the right place and it's really hard to determine what",
    "start": "444240",
    "end": "450919"
  },
  {
    "text": "happened if they did and there's no amount of unit testing there's no amount of putting tests in your code that can",
    "start": "450919",
    "end": "457919"
  },
  {
    "text": "test for configuration things like that these are names of cues names of um",
    "start": "457919",
    "end": "464000"
  },
  {
    "text": "topics that go in a config when you go live it'll be different in your stageing environment it'll be different in your",
    "start": "464000",
    "end": "469759"
  },
  {
    "text": "Dev environment your local Dev will work one way and there's no amount of unit testing that you can put in place to say",
    "start": "469759",
    "end": "475280"
  },
  {
    "text": "that we've got the right config on there maybe it's part of my PO me or my bicep",
    "start": "475280",
    "end": "481520"
  },
  {
    "text": "or part of my cloud formation that gets it wrong it adds a guid on the end who",
    "start": "481520",
    "end": "488440"
  },
  {
    "text": "knows it's only when it goes to production that we actually start to see that and it gets even more complicated",
    "start": "488440",
    "end": "495319"
  },
  {
    "text": "if there's not a one-way piece of communication so when we begin to think about inout communication so the idea of",
    "start": "495319",
    "end": "502560"
  },
  {
    "text": "request and reaction uh we tend to sometimes say request and reaction rather than request and reply and",
    "start": "502560",
    "end": "507800"
  },
  {
    "text": "messaging just to distinguish the two and try and give a understanding to the asynchronous nature of what's happening",
    "start": "507800",
    "end": "513479"
  },
  {
    "text": "right there's basically message boxes on either end then I am sending you a message to do some work and I am waiting",
    "start": "513479",
    "end": "520200"
  },
  {
    "text": "for a reply that happens asynchronously I'm not blocking so I send a message out some",
    "start": "520200",
    "end": "527120"
  },
  {
    "text": "point in the future I get a response and I have to resume an operation perhaps I have",
    "start": "527120",
    "end": "535200"
  },
  {
    "text": "effectively put written something to a database and said hey I'm going to put something something in a database and",
    "start": "535200",
    "end": "540640"
  },
  {
    "text": "when you get the response back I want you to retrieve that in our case um to simplify Our Lives we were using uh",
    "start": "540640",
    "end": "547920"
  },
  {
    "text": "channels inside basically the application which just sitting there waiting to pick up a response and fire",
    "start": "547920",
    "end": "553480"
  },
  {
    "text": "it back that was its own pain just using donet channels because well they're not",
    "start": "553480",
    "end": "558519"
  },
  {
    "text": "instrumented either and so it comes very difficult in it's even this simple interaction to",
    "start": "558519",
    "end": "564839"
  },
  {
    "text": "understand what's going on right my code has not received a response why and we typically something called a correlation",
    "start": "564839",
    "end": "571320"
  },
  {
    "text": "ID a correlation ID effectively is we're saying there's a there's an identifier for this particular",
    "start": "571320",
    "end": "577279"
  },
  {
    "text": "exchange right so I send you something and I reply back the way to think about it typically is when you old school send",
    "start": "577279",
    "end": "582920"
  },
  {
    "text": "a letter and you would put basically my ref your ref right so that you could",
    "start": "582920",
    "end": "587959"
  },
  {
    "text": "actually correlate the things but there's no good way for you to really",
    "start": "587959",
    "end": "593880"
  },
  {
    "text": "understand anything other than I've sent something with an ID I didn't seem to get a response back back with my ID what",
    "start": "593880",
    "end": "601720"
  },
  {
    "text": "happened right there is no way for you to do that as the sender and that's very disconcerting because how do I know what",
    "start": "601720",
    "end": "609320"
  },
  {
    "text": "went wrong did you did you never receive my request is there was there was there a",
    "start": "609320",
    "end": "614600"
  },
  {
    "text": "failure to send or is it just a failure for you to reply back and for me to",
    "start": "614600",
    "end": "620320"
  },
  {
    "text": "receive and so although we can we have a notion of a correlation ID there's",
    "start": "620320",
    "end": "625760"
  },
  {
    "text": "nothing here essentially letting us see the actual flow between these two",
    "start": "625760",
    "end": "631200"
  },
  {
    "text": "areas and as we say it's a com problem of complexity that increases with the more teams you have",
    "start": "631200",
    "end": "638320"
  },
  {
    "text": "working on it the more people you have working on it it's a it's the kind of nature of distributed systems they're",
    "start": "638320",
    "end": "643920"
  },
  {
    "text": "very uncertain people start working with this kind of code they find it very unsettling because they don't get to",
    "start": "643920",
    "end": "650680"
  },
  {
    "text": "essentially just debug the whole thing into end in a line there's a there's a",
    "start": "650680",
    "end": "655839"
  },
  {
    "text": "problem of distance and a problem of time that is now hurting it gets even harder if actually we begin",
    "start": "655839",
    "end": "663920"
  },
  {
    "text": "to also think about compensation sty flows right so I ask you to do something",
    "start": "663920",
    "end": "670600"
  },
  {
    "text": "and you can't do it but what you've made a promise to me is that you'll tell me you can't do it I want you to take a",
    "start": "670600",
    "end": "676760"
  },
  {
    "text": "payment for this customer's shopping cart or I couldn't do that the car the customer's car basically was refused",
    "start": "676760",
    "end": "684440"
  },
  {
    "text": "because it implies I I have to basically await two possible flows on myself",
    "start": "684440",
    "end": "690440"
  },
  {
    "text": "Di and how do I understand what led to those different reactions and now if you",
    "start": "690440",
    "end": "696839"
  },
  {
    "text": "look at this at the moment you probably we've gone through a few different of these strategies a lot of people don't think about in out they think about Pub",
    "start": "696839",
    "end": "703360"
  },
  {
    "text": "sub they think about cues and topics and like all of this is confusing and we've",
    "start": "703360",
    "end": "708440"
  },
  {
    "text": "only talking about one single interaction when we go on to something",
    "start": "708440",
    "end": "713480"
  },
  {
    "text": "like that all of those nonlinear lines those little dotted lines that are going",
    "start": "713480",
    "end": "718800"
  },
  {
    "text": "around all these different interconnections it gets scary I'm I'm",
    "start": "718800",
    "end": "724480"
  },
  {
    "text": "from a world where I am used to a nice distributed monolith they're great",
    "start": "724480",
    "end": "729519"
  },
  {
    "text": "because you can you know hit the thing and it hits the thing it's great um but not only are those interactions",
    "start": "729519",
    "end": "737320"
  },
  {
    "text": "happening when I don't know because they're on a a schedule they're polling and that kind of stuff some of those are",
    "start": "737320",
    "end": "744320"
  },
  {
    "text": "happening at the same time we've got race conditions so what you're looking at",
    "start": "744320",
    "end": "750000"
  },
  {
    "text": "here is we decided to build a sample app and some of you know I work for justy takeaways so we decided to build a",
    "start": "750000",
    "end": "756199"
  },
  {
    "text": "simple pizza shop it's a pretty classic example the one minute pizza shop all of your pizzas are both cooked and",
    "start": "756199",
    "end": "762160"
  },
  {
    "text": "delivered within one minute and and due to some limitations in in coding we can only offer to serve you one pizza at a",
    "start": "762160",
    "end": "767880"
  },
  {
    "text": "time yes if you if you order three pizzas you don't get any of them yeah uh um a slight bug but um uh you can see",
    "start": "767880",
    "end": "775440"
  },
  {
    "text": "here we got going called the storefront so the storefront eff of the idea is is just really HTTP interface on one side",
    "start": "775440",
    "end": "780639"
  },
  {
    "text": "that takes an order and HTTP interface on the other side that lets you query for the status of your order right and",
    "start": "780639",
    "end": "787279"
  },
  {
    "text": "that talks to basically the pizza shop which is that kind of middle one and the point the pizza shop is to essentially",
    "start": "787279",
    "end": "793079"
  },
  {
    "text": "cook a pizza and to effectively arrange for a courier to come and collect it and",
    "start": "793079",
    "end": "798519"
  },
  {
    "text": "then we got a courier at the bottom who's basically going to respond to the pizza shop and say yeah they're available they can come and collect it",
    "start": "798519",
    "end": "804959"
  },
  {
    "text": "or pick it up and then they will report their progress back to the store now I can promise you this is a very",
    "start": "804959",
    "end": "812120"
  },
  {
    "text": "simplistic version of what actually happens at reality at somewhere like just eat takeaway and I imagine our",
    "start": "812120",
    "end": "817920"
  },
  {
    "text": "competitors and yet this is pretty complicated when we come when there's",
    "start": "817920",
    "end": "823920"
  },
  {
    "text": "just two of us working on it and trying to figure out what the hell is happening and what's going wrong so you can see",
    "start": "823920",
    "end": "829240"
  },
  {
    "text": "there are points of there are both points of interaction those those dotted lines and then these sequences flowing",
    "start": "829240",
    "end": "835560"
  },
  {
    "text": "in between those points of interaction as well we're effectively doing some kind of messaging uh so typically if",
    "start": "835560",
    "end": "841759"
  },
  {
    "text": "it's between the front end and the pizza shop or the pizza shop to The Courier we're going to be doing messaging and",
    "start": "841759",
    "end": "847560"
  },
  {
    "text": "it's going to essentially be done over as your service bus and where we're effectively broadcasting events from The",
    "start": "847560",
    "end": "852680"
  },
  {
    "text": "Courier we're going to be using cfer and we're going to be doing events and that's basically what your Architects",
    "start": "852680",
    "end": "858720"
  },
  {
    "text": "will have given you and g go build that it's simple it's not simple so uh M's",
    "start": "858720",
    "end": "864160"
  },
  {
    "text": "going to queue up and we're going to show you a little bit of the cod we're not going to run it as yet deliberately uh you wouldn't see very much because we",
    "start": "864160",
    "end": "871360"
  },
  {
    "text": "uh the point is you just you all you'd be able to see visibly is I make an HTTP call uh and I get a response but tiny",
    "start": "871360",
    "end": "879279"
  },
  {
    "text": "bit bigger M for the f i I'm going to let's just we just want to give you",
    "start": "879279",
    "end": "884800"
  },
  {
    "text": "an idea of what what that kind of takes and remember this is just a demo app",
    "start": "884800",
    "end": "890560"
  },
  {
    "text": "right there's no there's nothing here that and any real world app is far more complicated so if we go and have a look",
    "start": "890560",
    "end": "897240"
  },
  {
    "text": "at this the the um storefront we can start there just a minimal API and that",
    "start": "897240",
    "end": "903639"
  },
  {
    "text": "message there at the bottom uh is the key one you want to so we' got an app. map post and the app. map post will post",
    "start": "903639",
    "end": "909920"
  },
  {
    "text": "in the orders there we go and the app. map post simply says take that HTTP",
    "start": "909920",
    "end": "915720"
  },
  {
    "text": "request that I got on the wire and we're going to post it over to as your service bus you can see that we're pulling some",
    "start": "915720",
    "end": "922519"
  },
  {
    "text": "config out right to tell us basically where to find the service bus tell us what the name of the queue is that we're",
    "start": "922519",
    "end": "927600"
  },
  {
    "text": "talking to and just going to push something out right and all that happens is we just know at this point we sent a",
    "start": "927600",
    "end": "933800"
  },
  {
    "text": "message but there's not a lot else going on other than we just know we've sent a message so if you hop over the pizza",
    "start": "933800",
    "end": "940639"
  },
  {
    "text": "shop so that's that's fairly simple you got have a program file for pizza shop this codes on my GitHub by the way so",
    "start": "940639",
    "end": "946440"
  },
  {
    "text": "it's GitHub in keep you can go look you put the program file for a Martin on that one I think uh you can that's show",
    "start": "946440",
    "end": "953240"
  },
  {
    "text": "won't show us very much but what would what we are creating here are a number of background services those background",
    "start": "953240",
    "end": "959759"
  },
  {
    "text": "Services represent message pumps that are effectively listening to order",
    "start": "959759",
    "end": "965079"
  },
  {
    "text": "service listening to responses from The Courier and we're also going to post out",
    "start": "965079",
    "end": "970199"
  },
  {
    "text": "so as an example one let's go and have a quick look at the kitchen service so we get an order in we're going to send to",
    "start": "970199",
    "end": "976399"
  },
  {
    "text": "the kitchen service and the kitchen service here is effectively going to cook our pizza and essentially it wants",
    "start": "976399",
    "end": "983079"
  },
  {
    "text": "to effectively so it's waiting on a channel internally on net and that gets signaled we'll show you that in a second",
    "start": "983079",
    "end": "988959"
  },
  {
    "text": "second by us receiving a message saying here is a pizza and we're then going to wait on receiving a message from a",
    "start": "988959",
    "end": "995399"
  },
  {
    "text": "courier to say that they're available after we send them a message saying are you available right so if we quickly",
    "start": "995399",
    "end": "1002839"
  },
  {
    "text": "look at you will notice by the way there is some instrumentation in here because",
    "start": "1002839",
    "end": "1009160"
  },
  {
    "text": "it was way harder to remove the instrumentation and I didn't want to because then it would might break and I might not so so if you can imagine we",
    "start": "1009160",
    "end": "1014959"
  },
  {
    "text": "were trying to debug this code without instrumentation it was getting particularly hard so I believe if you go",
    "start": "1014959",
    "end": "1022360"
  },
  {
    "text": "and look at the order go look at delivery a delivery",
    "start": "1022360",
    "end": "1027640"
  },
  {
    "text": "request will do us for an example one to show and no delivery uh delivery service",
    "start": "1027640",
    "end": "1033319"
  },
  {
    "text": "Factory one below I think it's the one and then dispatch service one below that actually yeah that's the one so dispatch",
    "start": "1033319",
    "end": "1039120"
  },
  {
    "text": "service effectively is the one that we call from the pizza shop when we begin to cook and what we're saying is hey I",
    "start": "1039120",
    "end": "1045720"
  },
  {
    "text": "want to send you a message to determine a ly whether or not you have a courier available for",
    "start": "1045720",
    "end": "1051919"
  },
  {
    "text": "us sorry I wanted syntax Highline and C didn't code didn't like uh and the other",
    "start": "1051919",
    "end": "1057200"
  },
  {
    "text": "one if you go and look at the kit at the um order service Factory I can't",
    "start": "1057200",
    "end": "1062720"
  },
  {
    "text": "remember the name of the actual service that we need to going can the order service Factory right down the bottom above",
    "start": "1062720",
    "end": "1068120"
  },
  {
    "text": "Pizza uh yeah so this one is what's listening to a message from a service",
    "start": "1068120",
    "end": "1075240"
  },
  {
    "text": "bus and saying hey there's a request here for you to cook a pizza and it puts",
    "start": "1075240",
    "end": "1081679"
  },
  {
    "text": "a whole set of messages out basically as a result of that so the place order to Handler if you just go into that uh",
    "start": "1081679",
    "end": "1087440"
  },
  {
    "text": "Martin uh little bit further down yeah you can see here it's going to write some messages one out to basically a",
    "start": "1087440",
    "end": "1093360"
  },
  {
    "text": "cook request one to a delivery request so it's in parallel saying cook the pizza and figure out whether or not",
    "start": "1093360",
    "end": "1099159"
  },
  {
    "text": "basically we can get delivery right and if you then go over to the last",
    "start": "1099159",
    "end": "1105400"
  },
  {
    "text": "piece which is to go to The Courier career should be very straightforward yeah if you go that one you can see",
    "start": "1105679",
    "end": "1112080"
  },
  {
    "text": "we're receiving the message saying are you available and we run a Handler and the Handler says okay we've got a little",
    "start": "1112080",
    "end": "1119039"
  },
  {
    "text": "flag that can reject a Job saying I'm going to accept the job or I'm going to reject a job and then we've also got a",
    "start": "1119039",
    "end": "1124120"
  },
  {
    "text": "CFA service yeah go on that one I'll tell you where to find it right which one we",
    "start": "1124120",
    "end": "1129400"
  },
  {
    "text": "going on uh you want to go to the delivery service Factory I believe that'll tell you delivery service yeah",
    "start": "1129400",
    "end": "1134840"
  },
  {
    "text": "the delivery service is going to work with CFA and it's going to produce message updating the status of the order",
    "start": "1134840",
    "end": "1142320"
  },
  {
    "text": "so we just use a simple mechanism of an E A Tim lapsing to say as it should have arrived and it sends you on the way",
    "start": "1142320",
    "end": "1149919"
  },
  {
    "text": "message is or a delivered message so I'm guessing all of you know exactly how that flow works now um there's a test in",
    "start": "1149919",
    "end": "1157760"
  },
  {
    "text": "what one minute so we so we kind of deliberately did that to you and it's a bit mean to walk you through the code",
    "start": "1157760",
    "end": "1163919"
  },
  {
    "text": "and get it's a bit confusing but the point is we are hardly doing anything",
    "start": "1163919",
    "end": "1168960"
  },
  {
    "text": "and yet it's really hard to figure it out right even with the source code in front of us with a whole lot of jumps",
    "start": "1168960",
    "end": "1176400"
  },
  {
    "text": "between applications based on messaging a whole lot of channels firing off",
    "start": "1176400",
    "end": "1181600"
  },
  {
    "text": "asynchronous work it is difficult to understand we wrote it and it's",
    "start": "1181600",
    "end": "1187400"
  },
  {
    "text": "difficult for us to navigate our way through I still don't understand half of what's happening in there right so it's",
    "start": "1187400",
    "end": "1193280"
  },
  {
    "text": "it's and that's a puzzle that you're going to get in reality and it's a puzzle that gets worse",
    "start": "1193280",
    "end": "1199159"
  },
  {
    "text": "so we don't want you to if you want to go and have a look at the code feel free it's on GitHub I wouldn't build your entire new business model based on it um",
    "start": "1199159",
    "end": "1206880"
  },
  {
    "text": "I mean if you do we want to cut I think James I think James has got a pizza shop of his own his own down the front James",
    "start": "1206880",
    "end": "1213039"
  },
  {
    "text": "did say he's worked really hard on his and you could possibly run a pizza shop on his one so a lot of this is intentionally",
    "start": "1213039",
    "end": "1220720"
  },
  {
    "text": "unintentional errors and some of it is unintentionally intentional errors because a lot of this was I mean I don't",
    "start": "1220720",
    "end": "1227120"
  },
  {
    "text": "know how this is going to go when we actually demo this by the way um it does work and I can add instrumentation to it",
    "start": "1227120",
    "end": "1234159"
  },
  {
    "text": "and you'll be able to see how things evolve but ultimately I I still don't know some of the errors that are",
    "start": "1234159",
    "end": "1239320"
  },
  {
    "text": "happening in here and we've spent two and a half weeks building this demo that's how hard this thing is and it's",
    "start": "1239320",
    "end": "1245240"
  },
  {
    "text": "three services front end a pizza shop and a career that's all it is and what",
    "start": "1245240",
    "end": "1251240"
  },
  {
    "text": "we wanted to do is move away slightly from the problem with these kind of demos that you see in these kind of",
    "start": "1251240",
    "end": "1257200"
  },
  {
    "text": "talks which is a a talks to be and the problem with a talks to be is it's not a realistic situation which gives you an",
    "start": "1257200",
    "end": "1262840"
  },
  {
    "text": "idea of I'm I'm struggling with uncertainty complexity in both time and",
    "start": "1262840",
    "end": "1268039"
  },
  {
    "text": "effectively uh distance between my application pieces all right can we flip back to the slides",
    "start": "1268039",
    "end": "1275240"
  },
  {
    "text": "yep uh all right so before we get into the kind of conversation about observability there are a couple of",
    "start": "1275240",
    "end": "1280279"
  },
  {
    "text": "other things that you should kind of think about and know and a few little things that you can do uh statically to",
    "start": "1280279",
    "end": "1286880"
  },
  {
    "text": "try and help you with those problems so the first thing I want to just talk about a little bit is the separation between orchestration and choreography",
    "start": "1286880",
    "end": "1293760"
  },
  {
    "text": "you'll see a lot of people talking about this being oh it's commands versus events I'm here to tell you that I think",
    "start": "1293760",
    "end": "1299600"
  },
  {
    "text": "that's nonsense um so really what we mean by orchestration is as follows",
    "start": "1299600",
    "end": "1305120"
  },
  {
    "text": "something is managing that workflow typically something is maintaining the",
    "start": "1305120",
    "end": "1311559"
  },
  {
    "text": "state of an instance of the workflow there's a technical term in process automation called a token a token is the",
    "start": "1311559",
    "end": "1317520"
  },
  {
    "text": "idea that I create an of this and state moves through the sequential flow but on",
    "start": "1317520",
    "end": "1322880"
  },
  {
    "text": "this diagram the thing in the dotted line represents effectively a process and it represents something we're",
    "start": "1322880",
    "end": "1328440"
  },
  {
    "text": "controlling with some choreograph with some orchestration orchestration could be embedded in your app right so you",
    "start": "1328440",
    "end": "1334400"
  },
  {
    "text": "could take something like mass transer or brighter write a bunch of handlers and they say hey my code responds to a",
    "start": "1334400",
    "end": "1340400"
  },
  {
    "text": "message my code responds to a message you don't have to have an explicit State machine or explicit workflow but you're",
    "start": "1340400",
    "end": "1345919"
  },
  {
    "text": "still effectively running things in sequence savings stuff to the database effectively resumable could be more",
    "start": "1345919",
    "end": "1351640"
  },
  {
    "text": "explicit could be a state machine like State list it could be a workflow product like workflow it could be an",
    "start": "1351640",
    "end": "1357039"
  },
  {
    "text": "external thing like kundi or something like that that effectively you're using to manage that that",
    "start": "1357039",
    "end": "1362720"
  },
  {
    "text": "orchestration the choreography is the bit that nobody's in charge of and that's all of these",
    "start": "1362720",
    "end": "1369720"
  },
  {
    "text": "messages flying between the things that are orchestrated and that's a very technical definition of the difference",
    "start": "1369720",
    "end": "1375600"
  },
  {
    "text": "between choreography and orchestration so a rid of clarity some color Martin",
    "start": "1375600",
    "end": "1382520"
  },
  {
    "text": "and I quite lowy our slides uh so uh the tiny story is that uh I gave a",
    "start": "1382520",
    "end": "1389000"
  },
  {
    "text": "presentation uh and somebody in the audience was tweeting saying my God in",
    "start": "1389000",
    "end": "1394480"
  },
  {
    "text": "has gone with This brilliant idea this faux 90s aesthetic slide I expect to see",
    "start": "1394480",
    "end": "1399960"
  },
  {
    "text": "more of these callbacks to the '90s and I'm like wow dude uh I just drew plain",
    "start": "1399960",
    "end": "1405679"
  },
  {
    "text": "slides with some a few diagrams on it but the idea here is that that is the uh",
    "start": "1405679",
    "end": "1411919"
  },
  {
    "text": "oh the wrong way around wow it's the wrong way around the orchestration is in Gray and the choreography is in blue there you go so um and it gets more",
    "start": "1411919",
    "end": "1422360"
  },
  {
    "text": "complicated once I think about errors right so compensation is this",
    "start": "1422360",
    "end": "1428919"
  },
  {
    "text": "common idea when I'm thinking about essentially some kind of orchestration so here you can see the idea of hey what",
    "start": "1428919",
    "end": "1436120"
  },
  {
    "text": "happens if I don't get the delivery of my food food there ought to be some kind of time limit at which point essentially",
    "start": "1436120",
    "end": "1442360"
  },
  {
    "text": "we say okay maybe The Courier got lost uh the pizza's probably really cold you",
    "start": "1442360",
    "end": "1448640"
  },
  {
    "text": "wouldn't want it by now we should redo that order we're not expecting you to",
    "start": "1448640",
    "end": "1453960"
  },
  {
    "text": "look and read all of these individual boxes by the way no yeah if you squint you can see the complexity that is the",
    "start": "1453960",
    "end": "1460440"
  },
  {
    "text": "idea the idea that we want you to focus on is even a tiny little nauy thing like",
    "start": "1460440",
    "end": "1466520"
  },
  {
    "text": "this is a curing quite a lot of complexity about how we think about it right even worse and again don't bother",
    "start": "1466520",
    "end": "1473919"
  },
  {
    "text": "to read the detail in many cases that includes places I work at",
    "start": "1473919",
    "end": "1479679"
  },
  {
    "text": "right people don't think clearly about orchestration versus choreography what",
    "start": "1479679",
    "end": "1485080"
  },
  {
    "text": "they do is essentially just randomly slice something up and say this team",
    "start": "1485080",
    "end": "1490120"
  },
  {
    "text": "owns this bit this team owns that bit this team tell the other bit so here is a kind of typical example that I might",
    "start": "1490120",
    "end": "1496600"
  },
  {
    "text": "see where effectively the was previously shown as a single orchestration is in",
    "start": "1496600",
    "end": "1502320"
  },
  {
    "text": "fact three partial orchestrations of the same Piece One Piece dealing with a kind",
    "start": "1502320",
    "end": "1508080"
  },
  {
    "text": "of receipt of the order other piece dealing with cooking other piece dealing with kind of managing that career",
    "start": "1508080",
    "end": "1513919"
  },
  {
    "text": "journey and the problem with that is that I enter a real world of",
    "start": "1513919",
    "end": "1521158"
  },
  {
    "text": "uncertainty I have very little view of what is going on there is not much orchestration at all",
    "start": "1521840",
    "end": "1529080"
  },
  {
    "text": "we tend to refer to this problem as pinball the idea essentially that I pull",
    "start": "1529080",
    "end": "1534200"
  },
  {
    "text": "back the lever on my message and I fire it stuff lights up around the system but",
    "start": "1534200",
    "end": "1539480"
  },
  {
    "text": "I have no real idea why right it's just like firing things off a pinball machine",
    "start": "1539480",
    "end": "1545640"
  },
  {
    "text": "and that's a real antipattern of complexity in event driven architectures",
    "start": "1545640",
    "end": "1550880"
  },
  {
    "text": "this idea that effectively I just don't know what's going on I I I I'm during an incident someone says what happens if",
    "start": "1550880",
    "end": "1559200"
  },
  {
    "text": "that message doesn't get sent and nobody knows the answer to that problem and I",
    "start": "1559200",
    "end": "1565360"
  },
  {
    "text": "think this happens way more when we start thinking about seress scenarios as your functions as your functions",
    "start": "1565360",
    "end": "1571039"
  },
  {
    "text": "triggered off service PST or off event hubs or off Lambda with sqs and all of",
    "start": "1571039",
    "end": "1576640"
  },
  {
    "text": "that kind of stuff because we've made it easy people like Maddie have made this",
    "start": "1576640",
    "end": "1582480"
  },
  {
    "text": "really easy to build these things with a Spire but they're really really hard to maintain",
    "start": "1582480",
    "end": "1588760"
  },
  {
    "text": "they feel easy because I've got 15 functions I displayy 15 functions and",
    "start": "1588760",
    "end": "1594200"
  },
  {
    "text": "it's good right because they're just all Autos scale zero to 1,000 in less than a second great it's amazing some of but I",
    "start": "1594200",
    "end": "1601480"
  },
  {
    "text": "don't need to support it so that's okay some you remember Amazon Prime uh video Amazon Prime video issued a blog post",
    "start": "1601480",
    "end": "1609000"
  },
  {
    "text": "which got mischaracterized as the death of microservices but really what they were talking about was the fact that",
    "start": "1609000",
    "end": "1615399"
  },
  {
    "text": "they had essentially broken up a single Orchestra ation into a number of tasks",
    "start": "1615399",
    "end": "1621080"
  },
  {
    "text": "using uh essentially uh AWS step functions to coordinate all those tasks",
    "start": "1621080",
    "end": "1628159"
  },
  {
    "text": "and realize that added a lot of complexity and really they just need to do the orchestration in process but you",
    "start": "1628159",
    "end": "1634399"
  },
  {
    "text": "have to think about these things because they do add a lot of complexity to your system all right so we'll talk a little",
    "start": "1634399",
    "end": "1641360"
  },
  {
    "text": "bit first of all before we get into um some of the cemetry I just want to talk about what tools are available to you to",
    "start": "1641360",
    "end": "1647200"
  },
  {
    "text": "try and understand the system in a more static sense so this again don't try and read it because it's not that valuable",
    "start": "1647200",
    "end": "1653320"
  },
  {
    "text": "information but this is a yaml file you can use Jason as well but this is ACN kpi so for those of you who don't know",
    "start": "1653320",
    "end": "1659640"
  },
  {
    "text": "ASN kpi is the equivalent of open API in the messaging world and let us document our endpoints so what happens is for a",
    "start": "1659640",
    "end": "1665720"
  },
  {
    "text": "given application I will say I received these messages on this channel or I send",
    "start": "1665720",
    "end": "1671559"
  },
  {
    "text": "these messages to this channel you can document the channels at the cues and the streams that you have and you can document effectively the scheme is that",
    "start": "1671559",
    "end": "1678360"
  },
  {
    "text": "go over it but there is no information that tells you as part of this what's",
    "start": "1678360",
    "end": "1684919"
  },
  {
    "text": "the connection between a messages that I receive and one that I pump out there's no sense of flow there's no sense of how",
    "start": "1684919",
    "end": "1692120"
  },
  {
    "text": "the how the thing operates together we could be really old school Architects like me and go into bpmn we're not going",
    "start": "1692120",
    "end": "1698679"
  },
  {
    "text": "to teach you how DP bpmn I just want to show you what it looks like so the idea here I start an event I got a task um",
    "start": "1698679",
    "end": "1705000"
  },
  {
    "text": "I've got an event that I wait for partially through in response to that event I may launch some some tasks and",
    "start": "1705000",
    "end": "1710360"
  },
  {
    "text": "either or choice I get back to the result at the end right I could go and document them all here is effectively me",
    "start": "1710360",
    "end": "1717240"
  },
  {
    "text": "effectively reading some information from a basket pricing it looking for vehicle delivery that's basically an",
    "start": "1717240",
    "end": "1724279"
  },
  {
    "text": "orchestration and that's what a choreography looks like in bpmn the key thing is not to really for you to",
    "start": "1724279",
    "end": "1730760"
  },
  {
    "text": "understand that right because that's what it looks like for our picture shop the trick is to understand there",
    "start": "1730760",
    "end": "1736600"
  },
  {
    "text": "are tools but I don't know the extent to which many of you would go I look at",
    "start": "1736600",
    "end": "1742600"
  },
  {
    "text": "that and I know everything there is to know about your demo Martin and in uh and it's all become suddenly clear to me",
    "start": "1742600",
    "end": "1750039"
  },
  {
    "text": "I saw that in the slide deck and now it's up there it looks terrifying it does and not everyone in your team is",
    "start": "1750039",
    "end": "1756039"
  },
  {
    "text": "going to even if you learn how to draw these not everyone in your team is actually going to understand how to read",
    "start": "1756039",
    "end": "1761240"
  },
  {
    "text": "them and most of them won't even open them yes this just for that simple thing that",
    "start": "1761240",
    "end": "1768279"
  },
  {
    "text": "Martin and I have built this is the choreography this is the flow of messages going through the system and",
    "start": "1768279",
    "end": "1773440"
  },
  {
    "text": "what's happening so it's it's complex and it's difficult to get your head around uh you may a simpler tool you",
    "start": "1773440",
    "end": "1781000"
  },
  {
    "text": "might be able to use this is just simply uh sequence diagram sequence diagrams can be used to show basically the",
    "start": "1781000",
    "end": "1787919"
  },
  {
    "text": "process model interrupt so that's slightly simpler you may have slightly more of a clue at this point as to what",
    "start": "1787919",
    "end": "1793840"
  },
  {
    "text": "is going on uh it may not actually reflect that reality but because probably doesn't he wrote he",
    "start": "1793840",
    "end": "1801200"
  },
  {
    "text": "wrote that before I came back on the flight and fixed everything so and that is one problem I",
    "start": "1801200",
    "end": "1806519"
  },
  {
    "text": "mean joking aside by m the problem with these diagrams is people write them and they don't maintain them so because they",
    "start": "1806519",
    "end": "1814120"
  },
  {
    "text": "are complex and expensive and as a result of that what happens is that you've got something",
    "start": "1814120",
    "end": "1820360"
  },
  {
    "text": "that is very out of date and may mislead you as to what is actually happening I",
    "start": "1820360",
    "end": "1825799"
  },
  {
    "text": "don't know maybe you folks are better than us you keep all your documentation up to date everything is constantly",
    "start": "1825799",
    "end": "1831880"
  },
  {
    "text": "right but for most of us the running system is the only truth yeah sorry we",
    "start": "1831880",
    "end": "1836919"
  },
  {
    "text": "can't merge that PR yet nobody's updated the Whiteboard to say that that new service has been added sorry we need to block the pr okay so this is this is the",
    "start": "1836919",
    "end": "1845159"
  },
  {
    "text": "the Martin portion of the show um because if you may you may not know but yes I do talk about something called",
    "start": "1845159",
    "end": "1851960"
  },
  {
    "text": "observability um Now observability isn't new so what I want to talk about is modern observability",
    "start": "1851960",
    "end": "1858360"
  },
  {
    "text": "um observability has been round for thousands of years back in the you know 1500 BC they were carving dashboards",
    "start": "1858360",
    "end": "1865559"
  },
  {
    "text": "into cave walls um wait just regretting that moment like when they ask can you add",
    "start": "1865559",
    "end": "1872080"
  },
  {
    "text": "Auto refresh please um I I just but observability is",
    "start": "1872080",
    "end": "1877159"
  },
  {
    "text": "the idea that we need to understand what's happening in a production system this isn't new we've been running production systems for many many years",
    "start": "1877159",
    "end": "1884880"
  },
  {
    "text": "I'm not going to tell you how long I've been running production systems but the year year started with a one um so it's",
    "start": "1884880",
    "end": "1891639"
  },
  {
    "text": "not new what is new is all of those diagrams that you've just",
    "start": "1891639",
    "end": "1897279"
  },
  {
    "text": "seen these things all of these the systems that we're building are is are",
    "start": "1897279",
    "end": "1903200"
  },
  {
    "text": "way more complex which means we need to think about how we observe these systems differently and that's where Modern",
    "start": "1903200",
    "end": "1909399"
  },
  {
    "text": "observability comes in thinks of me the guy basically",
    "start": "1909399",
    "end": "1914480"
  },
  {
    "text": "sitting staring at the uh the carvings in the wall but yeah go on that is Ian by the way about 40 years",
    "start": "1914480",
    "end": "1923799"
  },
  {
    "text": "ago um obviously it's all about three pillars yeah just all you need to do just put some logs put some metrics put",
    "start": "1925240",
    "end": "1931279"
  },
  {
    "text": "some traces in job done we have observability yeah",
    "start": "1931279",
    "end": "1936760"
  },
  {
    "text": "no there are no pillars I talk about this a lot I rant about this a lot there",
    "start": "1936760",
    "end": "1942120"
  },
  {
    "text": "are signals we have signals which give us data they don't give us ins sites they",
    "start": "1942120",
    "end": "1948919"
  },
  {
    "text": "don't tell us something we use that data to find things out but Martin we put a",
    "start": "1948919",
    "end": "1954159"
  },
  {
    "text": "spar in our app and we turned it on so we've got Telemetry is that not enough um it depends who you ask is that enough",
    "start": "1954159",
    "end": "1960840"
  },
  {
    "text": "Maddie yeah all right okay you'll see why it's not in a",
    "start": "1960840",
    "end": "1966679"
  },
  {
    "text": "minute um observability is not about generating signal data that is not what it's about",
    "start": "1966679",
    "end": "1975399"
  },
  {
    "text": "it's also not about monitoring it's not about putting in place a check for",
    "start": "1975399",
    "end": "1980480"
  },
  {
    "text": "something that we know is going to happen and alert us when that thing happens that's",
    "start": "1980480",
    "end": "1985760"
  },
  {
    "text": "monitoring we can use the same data for monitoring and",
    "start": "1985760",
    "end": "1990960"
  },
  {
    "text": "observability but they're not the same thing observability is UN is about",
    "start": "1990960",
    "end": "1998679"
  },
  {
    "text": "understanding it's understanding your context and to do that custom",
    "start": "1998679",
    "end": "2006639"
  },
  {
    "text": "instrumentation is the key when we talk about customer instrumentation it's not one thing I'm",
    "start": "2006639",
    "end": "2012960"
  },
  {
    "text": "not saying that you need to add spans all of your code custom instrumentation is about taking your",
    "start": "2012960",
    "end": "2019600"
  },
  {
    "text": "context about your pizza shop about your Ecom platform about your energy provider",
    "start": "2019600",
    "end": "2027279"
  },
  {
    "text": "platform adding that into your Telemetry data so you can ask questions about the",
    "start": "2027279",
    "end": "2032600"
  },
  {
    "text": "flow not there was a message that went through here what were the key characteristics of that message",
    "start": "2032600",
    "end": "2039080"
  },
  {
    "text": "so that we can understand which message failed what was in that message well we sent three pizzas and",
    "start": "2039080",
    "end": "2046760"
  },
  {
    "text": "that's when it failed not there was a pizza message come through and it",
    "start": "2046760",
    "end": "2052760"
  },
  {
    "text": "failed if we add this is a real thing by the way this is a Spire when I added",
    "start": "2052760",
    "end": "2058638"
  },
  {
    "text": "Auto instrumentation it's great you know what's great about it because you can make fun things out of",
    "start": "2058639",
    "end": "2065320"
  },
  {
    "text": "it that's literally I posted that internally on one of our slacks um at my company and somebody came back with that",
    "start": "2065320",
    "end": "2071280"
  },
  {
    "text": "so I had to show you um that's that's Tommy and the Tiger in no way not Calin",
    "start": "2071280",
    "end": "2076720"
  },
  {
    "text": "and Hobs um but ultimately they're not useful like great I've got",
    "start": "2076720",
    "end": "2082800"
  },
  {
    "text": "data I've got that signal data I've got a trace goes all the way down the thing look it's not useful though it's not",
    "start": "2082800",
    "end": "2091079"
  },
  {
    "text": "going to be give me understanding of my production system too many times what we",
    "start": "2091079",
    "end": "2096358"
  },
  {
    "text": "end up with is people just throwing loads of signal data at their back end whether it's honeycomb where I work or",
    "start": "2096359",
    "end": "2102599"
  },
  {
    "text": "data dog where James Works they'll throw data at it and now they have",
    "start": "2102599",
    "end": "2108359"
  },
  {
    "text": "observability this is why I don't talk about three pillars we talk about the right amount of data for us to gain",
    "start": "2108359",
    "end": "2114560"
  },
  {
    "text": "insights that could be metrics it could be logs it could be traces we're going to focus today on traces because in a",
    "start": "2114560",
    "end": "2122119"
  },
  {
    "text": "distributed system the causality is what's important",
    "start": "2122119",
    "end": "2128119"
  },
  {
    "text": "been able to see how all of these things interact all of those dotted lines that",
    "start": "2128119",
    "end": "2134560"
  },
  {
    "text": "you saw in those diagrams that's what's important there is not one time where",
    "start": "2134560",
    "end": "2141720"
  },
  {
    "text": "your CEO is going to come around to you and say Ian I know we've just had A4",
    "start": "2141720",
    "end": "2146920"
  },
  {
    "text": "million pound an hour outage but I really like your diagrams they're really cool nobody cares I dream",
    "start": "2146920",
    "end": "2154800"
  },
  {
    "text": "with that moment M you know that um but nobody",
    "start": "2154800",
    "end": "2160359"
  },
  {
    "text": "cares now in this particular example and this is a small example we've got HTTP",
    "start": "2160359",
    "end": "2166839"
  },
  {
    "text": "calls we've got net channels we've got Kafka we've got a database in Entity",
    "start": "2166839",
    "end": "2174920"
  },
  {
    "text": "framework um Pro tip by the way if you're doing things locally don't use Entity framework in memory use Entity",
    "start": "2174920",
    "end": "2181359"
  },
  {
    "text": "framework SQL light with an in-memory database specifically because you'll",
    "start": "2181359",
    "end": "2187000"
  },
  {
    "text": "actually be able to see the database interactions because otherwise it just happens in memory on the objects and",
    "start": "2187000",
    "end": "2192800"
  },
  {
    "text": "none of the instrumentation works and it's way more valuable to be able to see what that instrumentation is when you've",
    "start": "2192800",
    "end": "2199040"
  },
  {
    "text": "got something that hits 17 database calls when it should really just be doing one you won't see it we had you",
    "start": "2199040",
    "end": "2207240"
  },
  {
    "text": "know a certain amount of problems just with the ACT shaping for stuff right we're trying to effectively get to the",
    "start": "2207240",
    "end": "2212880"
  },
  {
    "text": "point where we can debug some of the messaging interaction that's failing but we've got the ACT shaving problem with",
    "start": "2212880",
    "end": "2217920"
  },
  {
    "text": "just getting Entity framework core right and being able to eliminate that stuff really helps you because um it can help",
    "start": "2217920",
    "end": "2223920"
  },
  {
    "text": "you move forward to focus on what you want to focus on which is what is the flow of my application and why is it not",
    "start": "2223920",
    "end": "2230599"
  },
  {
    "text": "working okay literally was not working right so",
    "start": "2230599",
    "end": "2237760"
  },
  {
    "text": "um let's see if this works if if the Aspire portion fails then I'm going to get MADD up here to come and fix",
    "start": "2237760",
    "end": "2245200"
  },
  {
    "text": "it um Okay so what I'm going to do first",
    "start": "2245760",
    "end": "2251400"
  },
  {
    "text": "is we are just going to add the default",
    "start": "2251400",
    "end": "2256520"
  },
  {
    "text": "instrumentation so this is just running an Aspire app host",
    "start": "2258119",
    "end": "2265200"
  },
  {
    "text": "hopefully maybe we'll see now I need to work out whether my",
    "start": "2265920",
    "end": "2272640"
  },
  {
    "text": "Service Plus is running I hope it is so we are using the local emulator for uh",
    "start": "2272640",
    "end": "2277800"
  },
  {
    "text": "service bus which is um lot of red a journey across Mac and windows that we",
    "start": "2277800",
    "end": "2284359"
  },
  {
    "text": "were doing together uh it turns out that Mac and windows don't like all the same",
    "start": "2284359",
    "end": "2289480"
  },
  {
    "text": "things when you're trying to build a demo app to get together uh my Mac didn't with running uh pman didn't",
    "start": "2289480",
    "end": "2294839"
  },
  {
    "text": "particularly like SQL Edge uh so uh yeah journey is an accurate",
    "start": "2294839",
    "end": "2303160"
  },
  {
    "text": "description right so um let's run a",
    "start": "2304720",
    "end": "2310040"
  },
  {
    "text": "request um against the API oh",
    "start": "2310040",
    "end": "2317720"
  },
  {
    "text": "yes it's pain off you don't know how long it took us to actually reach that",
    "start": "2317960",
    "end": "2324160"
  },
  {
    "text": "point the reason mine so excited is it was both of us I think almost destroyed laptops I think he almost had plane",
    "start": "2324160",
    "end": "2331520"
  },
  {
    "text": "rage the door nearly came off and the laptop was going to go out on the door um Okay so basic instrumentation this is",
    "start": "2331520",
    "end": "2340119"
  },
  {
    "text": "new project Aspire here's some distributed Services all we're doing",
    "start": "2340119",
    "end": "2345800"
  },
  {
    "text": "with that is I've got this Telemetry extensions in kind of in a shared",
    "start": "2345800",
    "end": "2351800"
  },
  {
    "text": "repository did you know you don't have to call everything service defaults you can call it whatever you",
    "start": "2351800",
    "end": "2358160"
  },
  {
    "text": "want the amount of times where somebody's oh I have to call it service default or it won't work like it's just a project dude",
    "start": "2358400",
    "end": "2367000"
  },
  {
    "text": "um so what we're doing is we are adding the OTP exporter which is what we need",
    "start": "2367920",
    "end": "2374880"
  },
  {
    "text": "to send it to um the aspired dashboard um we're giving everything a name so",
    "start": "2374880",
    "end": "2381240"
  },
  {
    "text": "every unique thing has a service name um that's a open Telemetry semantics we're",
    "start": "2381240",
    "end": "2386680"
  },
  {
    "text": "going to enable tracing we're going to get it to listen to a custom source a custom Tracer which has the name of our",
    "start": "2386680",
    "end": "2392880"
  },
  {
    "text": "service I'm going to add the default aspet core instrumentation to all of them even though they're not using it",
    "start": "2392880",
    "end": "2399000"
  },
  {
    "text": "it's not a problem to add ASP net core to something that doesn't have ASP net core it's fine um we're adding Entity",
    "start": "2399000",
    "end": "2405079"
  },
  {
    "text": "framework core instrumentation even though they don't have it um and that's it now out of the box",
    "start": "2405079",
    "end": "2413640"
  },
  {
    "text": "service bus does not have Auto instrumentation it's experimental right now and you'll find out why because we",
    "start": "2413640",
    "end": "2420240"
  },
  {
    "text": "found a bug another one where I was like it's not working why are all these things here and then I spoke to ler",
    "start": "2420240",
    "end": "2426560"
  },
  {
    "text": "who's one of the people on the Azure team and she went yeah yeah that's book I fixed",
    "start": "2426560",
    "end": "2431680"
  },
  {
    "text": "it um the joys of ranting on Blue Sky is great um so now got Kafka here as well",
    "start": "2431680",
    "end": "2439599"
  },
  {
    "text": "or you um I I'll get on to C kafka's its own Journey um so let's let's enable the",
    "start": "2439599",
    "end": "2447760"
  },
  {
    "text": "experimental service bus work um now we get to workout so I was",
    "start": "2447760",
    "end": "2453040"
  },
  {
    "text": "saying to I was just talking to Maddie earlier now I've just stopped as Spire um and now I've got to fill for an",
    "start": "2453040",
    "end": "2458640"
  },
  {
    "text": "indeterminate amount of time while a Spire spins down in the background so I can restart it please fix",
    "start": "2458640",
    "end": "2465160"
  },
  {
    "text": "that please fix it I lost a day on that I I like to think madd's actually coding",
    "start": "2465160",
    "end": "2471040"
  },
  {
    "text": "the fix on over the corner while we speak I could just imagine it's like yeah yeah can you just do net ad package",
    "start": "2471040",
    "end": "2477680"
  },
  {
    "text": "and pull down the new one it'll work please do that um okay",
    "start": "2477680",
    "end": "2482839"
  },
  {
    "text": "so yep that's all down so one of things the those is everyone familiar what we",
    "start": "2482839",
    "end": "2489640"
  },
  {
    "text": "mean by a trace anybody not familiar with a trace come see me after",
    "start": "2489640",
    "end": "2498000"
  },
  {
    "text": "class um okay just want to make sure because sometimes you know we don't want if it's if is the first time you met",
    "start": "2498160",
    "end": "2504160"
  },
  {
    "text": "some cemetry Concepts we want to make sure we don't we don't skip over that when we go through one of the ones that actually makes sense in a minute I'll",
    "start": "2504160",
    "end": "2509440"
  },
  {
    "text": "explain it a little bit further um I don't know what those failures are I haven't debugged those",
    "start": "2509440",
    "end": "2515880"
  },
  {
    "text": "I'm I presuming they're not not important so that's basically Kafka Kafka is very noisy um so what happens",
    "start": "2515880",
    "end": "2522640"
  },
  {
    "text": "unless me unless you're running am I Kafka kfka Kafka moans slightly less",
    "start": "2522640",
    "end": "2528599"
  },
  {
    "text": "than you but about the same amount um so Kafka effectively runs if unless you're in Java and a library called liard CFA",
    "start": "2528599",
    "end": "2535680"
  },
  {
    "text": "um liard CFA effectively is a is a sew written library and it's used by all the clients in go.net ETC it is noisy it",
    "start": "2535680",
    "end": "2542319"
  },
  {
    "text": "will tell you a lot about errors where effectively they don't bubble out ofly de cafka to your application code",
    "start": "2542319",
    "end": "2549079"
  },
  {
    "text": "they're just inside and it will tend to handle it there's a flag called fatal errors which you can basically pick up",
    "start": "2549079",
    "end": "2555760"
  },
  {
    "text": "so you can use to reduce the noise and typically in production environments that I've worked in that is one of the first things everyone does is to",
    "start": "2555760",
    "end": "2562160"
  },
  {
    "text": "basically try and suppress that noise because otherwise all the operators are going why does it say scary things to me",
    "start": "2562160",
    "end": "2568680"
  },
  {
    "text": "like I can't connect to Local Host 90 uh 92 for the for the for the bootstrap server and it's just it's polling in a",
    "start": "2568680",
    "end": "2575480"
  },
  {
    "text": "loop until it comes up so there's going to be a theme that you're going to notice as we go through this tracing is about causality it's",
    "start": "2575480",
    "end": "2582960"
  },
  {
    "text": "about this thing cause this thing to happen or this thing cause these five things to happen and those five things cause these things to happen there's a",
    "start": "2582960",
    "end": "2589160"
  },
  {
    "text": "term in open Telemetry or more specifically in the w3c specs called prop propagation and it's how we",
    "start": "2589160",
    "end": "2595920"
  },
  {
    "text": "propagate between process boundaries so we've got a pizza shop a storefront we've got some cers they're not in the",
    "start": "2595920",
    "end": "2602480"
  },
  {
    "text": "same process there's no way that you can have a static in your code that transmits all the way through those a",
    "start": "2602480",
    "end": "2608960"
  },
  {
    "text": "message goes up to service bus somebody picks that message up now one of the problems that we're seeing this is a",
    "start": "2608960",
    "end": "2614160"
  },
  {
    "text": "trace that hits the post orders endpoint you can see up there on the on the top left there um let's zoom in a bit um I",
    "start": "2614160",
    "end": "2622880"
  },
  {
    "text": "do like that spy by the way you can zoom in it does actually work it's very looks really pretty doesn't it I very built for demos it makes my applic the",
    "start": "2622880",
    "end": "2629880"
  },
  {
    "text": "application look beautiful so what we're seeing we're starting to see we've got a post toour order service we've got some",
    "start": "2629880",
    "end": "2636319"
  },
  {
    "text": "database calls that being made we've got a service bus called that's made from the storefront and you can see that the",
    "start": "2636319",
    "end": "2643440"
  },
  {
    "text": "pizza shop picks up that Ser that message and does something now if I go back to our list",
    "start": "2643440",
    "end": "2650720"
  },
  {
    "text": "of traces look at all this",
    "start": "2650720",
    "end": "2655279"
  },
  {
    "text": "noise one of the problems that we're trying to do with Telemetry is remove the",
    "start": "2655760",
    "end": "2660880"
  },
  {
    "text": "noise less noise more signal is what we the term we use what we want to do is get rid of anything that isn't important",
    "start": "2660880",
    "end": "2667400"
  },
  {
    "text": "now what we can see here though we've got this other one here we've got another one here where the pizza shop is",
    "start": "2667400",
    "end": "2673240"
  },
  {
    "text": "processing a message and it's sending it to Bob availability that's our one of our um",
    "start": "2673240",
    "end": "2679920"
  },
  {
    "text": "cers is called Bob um and then we've got the Courier picking it up and then that's doing some service bus stuff and",
    "start": "2679920",
    "end": "2685599"
  },
  {
    "text": "it's doing some more database stuff but they're not connected should they be connected is a different question",
    "start": "2685599",
    "end": "2691319"
  },
  {
    "text": "because there is way more art than science when it comes to observability when we're building this uh I had to",
    "start": "2691319",
    "end": "2696680"
  },
  {
    "text": "Hope on a call with Martin to look at this because I couldn't figure out what it could what it was telling me about",
    "start": "2696680",
    "end": "2701839"
  },
  {
    "text": "why why things weren't working uh and Martin was like I can fix it I can fix the Telemetry so you can understand what",
    "start": "2701839",
    "end": "2708280"
  },
  {
    "text": "the hell is going on here um but it's a problem right that there's a lot of a lot of signal to noise at that point so",
    "start": "2708280",
    "end": "2715880"
  },
  {
    "text": "all that did is it turned on these special Flags so app context. set switch",
    "start": "2715880",
    "end": "2720920"
  },
  {
    "text": "is a new thing in service bus that adds some activities around stuffff it is not",
    "start": "2720920",
    "end": "2727319"
  },
  {
    "text": "foolproof right now that's why it's called experimental don't go complaining that it doesn't work got experimental on",
    "start": "2727319",
    "end": "2734599"
  },
  {
    "text": "it so and then we tell open Telemetry that we would like to listen to this stuff and it does some interesting",
    "start": "2734599",
    "end": "2740359"
  },
  {
    "text": "things for us but we've still not got a load of stuff now what this is where it comes into US using channels channels in",
    "start": "2740359",
    "end": "2747040"
  },
  {
    "text": "net allow you to put an object in a place and then something else some other thread comes and picks that object up",
    "start": "2747040",
    "end": "2755359"
  },
  {
    "text": "which means that we've not got that propagation between those service bus works fine in some",
    "start": "2755359",
    "end": "2761839"
  },
  {
    "text": "ways but channels doesn't so then we had to come up with a way to make that work",
    "start": "2761839",
    "end": "2767240"
  },
  {
    "text": "so all of our requests now have all of this I created a base object so what happens is whenever we knew up um our",
    "start": "2767240",
    "end": "2775440"
  },
  {
    "text": "traceable request of which all the stuff that goes into channels derives from this object it will automatically add",
    "start": "2775440",
    "end": "2782240"
  },
  {
    "text": "our propagation context something we've had to do manually because there's no way to do that in",
    "start": "2782240",
    "end": "2788920"
  },
  {
    "text": "donet so we've added that in um what else have we added so let's turn on",
    "start": "2788920",
    "end": "2794440"
  },
  {
    "text": "custom Telemetry now um that one there kfka we doing kfka um yeah so",
    "start": "2794440",
    "end": "2803640"
  },
  {
    "text": "Kafka was a really interesting one the Aspire Kafka instrumentation if",
    "start": "2803640",
    "end": "2810240"
  },
  {
    "text": "you use the Aspire Kafka packages only adds metrics it doesn't add any kind of",
    "start": "2810240",
    "end": "2815480"
  },
  {
    "text": "tracing context it doesn't use the standard open Telemetry libraries for any of this it uses something built",
    "start": "2815480",
    "end": "2822480"
  },
  {
    "text": "specifically into a Spire so we started using the standard open Telemetry packages which caused us a end of",
    "start": "2822480",
    "end": "2828720"
  },
  {
    "text": "nightmares um so one of the reasons for this is well kind navigate to the code so um AO service bus offers you the",
    "start": "2828720",
    "end": "2836079"
  },
  {
    "text": "opportunity to use its own message pump so the message pump is the consumer code",
    "start": "2836079",
    "end": "2841160"
  },
  {
    "text": "you read to read items off and dispatch and handle so it's a nice Loop you can plug into with a z service bus so",
    "start": "2841160",
    "end": "2847599"
  },
  {
    "text": "effectively they can put Telemetry in for you when we're using tools like CFA",
    "start": "2847599",
    "end": "2852839"
  },
  {
    "text": "the problem is we're going to end up writing that message pump ourself and so there's no interception point which",
    "start": "2852839",
    "end": "2859760"
  },
  {
    "text": "essentially is standard where effectively a third party can go and put that be uh Telemetry in for",
    "start": "2859760",
    "end": "2868040"
  },
  {
    "text": "you okay so I'm going to speed through a little bit more of this but hopefully you're starting to get this idea we're",
    "start": "2868040",
    "end": "2873760"
  },
  {
    "text": "starting to add a few bits um in there this is that um process message async",
    "start": "2873760",
    "end": "2879800"
  },
  {
    "text": "that is its own delegate So within the Service Plus sdks when they process a",
    "start": "2879800",
    "end": "2886480"
  },
  {
    "text": "message they can add their own context and say when you exit that context we'll stop it so we can measure things in",
    "start": "2886480",
    "end": "2893160"
  },
  {
    "text": "Kafka we don't have that so in Kafka we had to add our own",
    "start": "2893160",
    "end": "2898319"
  },
  {
    "text": "now in Kafka we have this we have a notion of consuming a",
    "start": "2898319",
    "end": "2904119"
  },
  {
    "text": "message where are we in the pump I believe the one you got Diagnostics above it",
    "start": "2904119",
    "end": "2909359"
  },
  {
    "text": "there we go so in Kafka we consume a message as soon as we've consume that",
    "start": "2909359",
    "end": "2915200"
  },
  {
    "text": "message we're out of the CFA code but there's no context there it",
    "start": "2915200",
    "end": "2921920"
  },
  {
    "text": "doesn't know to add a span it doesn't know to add new context this so we've",
    "start": "2921920",
    "end": "2927920"
  },
  {
    "text": "had to add this bit here which is this new process message now one of the things I talk about quite a lot when I talk about instrumentation extension",
    "start": "2927920",
    "end": "2934960"
  },
  {
    "text": "methods don't wrap things extension methods so I've added an",
    "start": "2934960",
    "end": "2940040"
  },
  {
    "text": "extension method here to our consume result which comes back from Kafka um which does manual propagation don't be",
    "start": "2940040",
    "end": "2948680"
  },
  {
    "text": "scared manual instrumentation isn't scary adding a span isn't scary all",
    "start": "2948680",
    "end": "2955480"
  },
  {
    "text": "we've done so far is ADD spans we're going to come on to another bit about adding your own context in a",
    "start": "2955480",
    "end": "2960520"
  },
  {
    "text": "minute so we're just adding propagation you can go and look at this code I've got a ton of talks about how you do a",
    "start": "2960520",
    "end": "2966359"
  },
  {
    "text": "lot of this stuff in your code what I want you to take away from what we're talking about today is what it",
    "start": "2966359",
    "end": "2972400"
  },
  {
    "text": "takes the code is complicated the system is complicated don't expect two lines of",
    "start": "2972400",
    "end": "2980400"
  },
  {
    "text": "code to demystify all that complicated stuff for you it is complicated for a",
    "start": "2980400",
    "end": "2987839"
  },
  {
    "text": "reason and no amount of Auto implementation is going to get you to where you need to be when it comes to Modern observability so so one of the",
    "start": "2987839",
    "end": "2994680"
  },
  {
    "text": "things maybe we should talk about here Martin is the fact the um you know that we might talk about uh correlation ideas",
    "start": "2994680",
    "end": "3000880"
  },
  {
    "text": "conversation idas and messaging as ways to basically help your app understand the context when it uh retrieves",
    "start": "3000880",
    "end": "3007599"
  },
  {
    "text": "something uh maybe we should mention how does messaging allow you to connect",
    "start": "3007599",
    "end": "3012760"
  },
  {
    "text": "together separate messages in terms of telemetry so can we talk a little tiny",
    "start": "3012760",
    "end": "3017880"
  },
  {
    "text": "bit about Trace context yeah so Trace context is something that comes from w3c",
    "start": "3017880",
    "end": "3023160"
  },
  {
    "text": "standards it's not open cemetry it's not net um in case you didn't know Microsoft didn't invent tracing it's been around",
    "start": "3023160",
    "end": "3029760"
  },
  {
    "text": "for a while they have now embraced it and I am 100% behind it it's been embraced Aspire and I'm glad that",
    "start": "3029760",
    "end": "3035799"
  },
  {
    "text": "everybody who's using Aspire Now is really on board with this idea of using distributed tracing or even just tracing",
    "start": "3035799",
    "end": "3042720"
  },
  {
    "text": "but it's this idea of causality I have an action a context in this scenario it's a HTTP message that's our context",
    "start": "3042720",
    "end": "3051240"
  },
  {
    "text": "and then everything else happens off the back of it and it gives us this idea of what causes what it's not not just a",
    "start": "3051240",
    "end": "3057119"
  },
  {
    "text": "linear stream of messages that are human readable because you don't do that and I",
    "start": "3057119",
    "end": "3064799"
  },
  {
    "text": "have asked this question before let's see if this works when was the last time that you rdpd into a server and grepped",
    "start": "3064799",
    "end": "3072119"
  },
  {
    "text": "the log",
    "start": "3072119",
    "end": "3074480"
  },
  {
    "text": "file therapy is available 99% of people do not look at",
    "start": "3077599",
    "end": "3083960"
  },
  {
    "text": "systems that way they look at them by looking at structured event data in nosql databases",
    "start": "3083960",
    "end": "3091280"
  },
  {
    "text": "they will run aggregations they'll run searches they don't gret blogs",
    "start": "3091280",
    "end": "3097480"
  },
  {
    "text": "anymore if you take that sign of structured data and start adding things like causality and context start adding",
    "start": "3097480",
    "end": "3104880"
  },
  {
    "text": "your own data to it you end up in tracing spans are just structured",
    "start": "3104880",
    "end": "3110559"
  },
  {
    "text": "locks but with a load more data that makes them really useful I have stickers",
    "start": "3110559",
    "end": "3116319"
  },
  {
    "text": "that will explain everything so depending on your message and transport there will be varying support for",
    "start": "3116319",
    "end": "3122640"
  },
  {
    "text": "putting a uh Trace context header in the message which enables you to propagate",
    "start": "3122640",
    "end": "3128960"
  },
  {
    "text": "the trace across these hops into various messaging transports and that's what",
    "start": "3128960",
    "end": "3134760"
  },
  {
    "text": "allows us to begin to see how an overall operation moves say from HTTP through",
    "start": "3134760",
    "end": "3142319"
  },
  {
    "text": "messaging Etc ultimately you know one of our goals is to think about what",
    "start": "3142319",
    "end": "3147359"
  },
  {
    "text": "how do we want to try and Trace through the Journey of getting an order successfully to one of our",
    "start": "3147359",
    "end": "3154599"
  },
  {
    "text": "customers okay so now I've added all the custom instrumentation that I've added",
    "start": "3154599",
    "end": "3159720"
  },
  {
    "text": "I've I've now enabled all of that stuff just behind a couple of feature Flags if you really want to go and de deep into",
    "start": "3159720",
    "end": "3165880"
  },
  {
    "text": "what all of those mean and how they work go look at the repo it's not hard to follow but it it there's a bit of a",
    "start": "3165880",
    "end": "3172599"
  },
  {
    "text": "learning curve um so now with all of that stuff in there you can see we've",
    "start": "3172599",
    "end": "3178359"
  },
  {
    "text": "started to get to something a little bit nicer we've now got this big thing",
    "start": "3178359",
    "end": "3184200"
  },
  {
    "text": "here now I'm going to have to zoom out because it it gets long now what's",
    "start": "3184200",
    "end": "3191760"
  },
  {
    "text": "what's basically Happening Here is that same thing that we saw before we've now connected all of our service bus",
    "start": "3191760",
    "end": "3197000"
  },
  {
    "text": "messages we've connected all those inmemory channels all those actions that have been caused and collated and now in",
    "start": "3197000",
    "end": "3203440"
  },
  {
    "text": "one big Trace but I called it the one minute piz shop because what happens is we cook the",
    "start": "3203440",
    "end": "3209880"
  },
  {
    "text": "pizzas takes a few seconds and then The Courier goes I'm going to go and deliver it and then every 15 seconds it goes I'm",
    "start": "3209880",
    "end": "3218079"
  },
  {
    "text": "I'm in transit I'm coming I'm just around the corner I'm at the End of the",
    "start": "3218079",
    "end": "3223520"
  },
  {
    "text": "Street he's not and every 15 seconds it's going to",
    "start": "3223520",
    "end": "3228559"
  },
  {
    "text": "pump out an event that says I'm in transit and what's going to happen is the pizza shop is going to come up and",
    "start": "3228559",
    "end": "3235400"
  },
  {
    "text": "go oh I got that message I'm going to update my state update my state update my state now the stute among you this",
    "start": "3235400",
    "end": "3242160"
  },
  {
    "text": "big long line at the top there what you'll have seen is those four messages",
    "start": "3242160",
    "end": "3247280"
  },
  {
    "text": "that are underneath it were originally at the bottom of the screen now one of the problems that",
    "start": "3247280",
    "end": "3253880"
  },
  {
    "text": "we've got is this big process order stat this big line up there is I'm going to",
    "start": "3253880",
    "end": "3259160"
  },
  {
    "text": "go and deliver something one of the problems with traces and spans they do not get",
    "start": "3259160",
    "end": "3265720"
  },
  {
    "text": "exported and until they have finished you do not you don't don't push out a start and an end you push out an",
    "start": "3265720",
    "end": "3273839"
  },
  {
    "text": "end that says it started then and because all the ones underneath",
    "start": "3273839",
    "end": "3280440"
  },
  {
    "text": "it were based on this idea of that's my parent this is what caused me but that",
    "start": "3280440",
    "end": "3286000"
  },
  {
    "text": "was missing at the time now you see those things at the top",
    "start": "3286000",
    "end": "3291799"
  },
  {
    "text": "now you see how see how narrow they are incredibly hard to read",
    "start": "3291799",
    "end": "3298319"
  },
  {
    "text": "in a HTTP system we look at that what's that that's uh",
    "start": "3298599",
    "end": "3305160"
  },
  {
    "text": "two I don't know should be about a minute um but it's about a minute long",
    "start": "3305160",
    "end": "3312440"
  },
  {
    "text": "Trace but the post the response that went to the user happened in about 2",
    "start": "3312440",
    "end": "3319280"
  },
  {
    "text": "milliseconds happen really fast what what was it sorry 700",
    "start": "3319280",
    "end": "3325319"
  },
  {
    "text": "milliseconds now if I think about debugging this kind of system that is great I",
    "start": "3325319",
    "end": "3333280"
  },
  {
    "text": "suppose you know it shows me the whole interaction but it's really hard to look",
    "start": "3333280",
    "end": "3338400"
  },
  {
    "text": "at the thing that I care about which is that post against the API and that's specifically because this is a one",
    "start": "3338400",
    "end": "3344880"
  },
  {
    "text": "minute pizza shop has anybody had a pizza cooked and delivered in one minute I don't think",
    "start": "3344880",
    "end": "3351839"
  },
  {
    "text": "so maybe a Chicago Town one in the microwave was that a minute I can't",
    "start": "3351839",
    "end": "3357520"
  },
  {
    "text": "um but ultimately it doesn't happen in a minute it's 20 minutes it's half an hour it's an hour imagine that we've got 700",
    "start": "3357520",
    "end": "3365280"
  },
  {
    "text": "milliseconds and then an hour for the rest of the thing happening it's not a great debugging experience when I say",
    "start": "3365280",
    "end": "3371880"
  },
  {
    "text": "there is more art than science when it comes to observability I mean this I",
    "start": "3371880",
    "end": "3377240"
  },
  {
    "text": "mean this thing here look at your debug context one of the things that we can do",
    "start": "3377240",
    "end": "3382760"
  },
  {
    "text": "in open Telemetry is is we control where the",
    "start": "3382760",
    "end": "3388680"
  },
  {
    "text": "context lands so in our career service in this delivery",
    "start": "3388680",
    "end": "3394039"
  },
  {
    "text": "service I create my spam because it's channel so we've got that delivery jobs.",
    "start": "3394039",
    "end": "3399599"
  },
  {
    "text": "reader reads the orders the delivery job off and then goes and does the delivery",
    "start": "3399599",
    "end": "3405319"
  },
  {
    "text": "this is that periodic timer every 15 seconds it's going to go I'm in",
    "start": "3405319",
    "end": "3410559"
  },
  {
    "text": "transit now I say just start me a new span and it'll start me a new span inheriting the context this thing caused",
    "start": "3410559",
    "end": "3417319"
  },
  {
    "text": "me to happen I can easily make that an",
    "start": "3417319",
    "end": "3424559"
  },
  {
    "text": "entirely new Trace in open Telemetry terms we have",
    "start": "3424559",
    "end": "3430160"
  },
  {
    "text": "spans some of which are root spans root spans don't have a",
    "start": "3430160",
    "end": "3436240"
  },
  {
    "text": "parent which means they're their own Trace they're not included in the same Trace graph but what we can do is we can",
    "start": "3436240",
    "end": "3444359"
  },
  {
    "text": "add something called span links we call these casual links rather than",
    "start": "3444359",
    "end": "3449520"
  },
  {
    "text": "causal links causal link means I'm part of the whole Trace casual links means I'm also linked",
    "start": "3449520",
    "end": "3456880"
  },
  {
    "text": "to this thing over here so in this scenario here which is the last one I'm going to show you",
    "start": "3456880",
    "end": "3464480"
  },
  {
    "text": "um what we're actually doing there is we're going to break apart this is going to fail now I know",
    "start": "3464480",
    "end": "3470280"
  },
  {
    "text": "it I know it because I've just done it to told you this casual looks a bit like what the kids call a situation ship",
    "start": "3470280",
    "end": "3477599"
  },
  {
    "text": "not really in a relationship we're just kind of hanging out in a in a kind of way together I've changed my Facebook",
    "start": "3477599",
    "end": "3482640"
  },
  {
    "text": "status to Casual link um yeah if you do run the demo by",
    "start": "3482640",
    "end": "3489079"
  },
  {
    "text": "the way don't stop and start it too quickly because things stay open and you have to just run Docker PS to work out",
    "start": "3489079",
    "end": "3495760"
  },
  {
    "text": "when it's closed and even then it's not 100% um so I mean even the try St that M",
    "start": "3495760",
    "end": "3502960"
  },
  {
    "text": "was just showing you was incredibly useful to us when we were trying to debug because for us a key moment was to",
    "start": "3502960",
    "end": "3508520"
  },
  {
    "text": "get to the ability to go end to end and every time it would break in that process it's like why hasn't this thing",
    "start": "3508520",
    "end": "3516039"
  },
  {
    "text": "triggered right and then you can go and essentially look at more detail to discover what's going on and and that",
    "start": "3516039",
    "end": "3522760"
  },
  {
    "text": "was key to us being able to journey to end was being able to actually see where has it got to that is the point we need",
    "start": "3522760",
    "end": "3529880"
  },
  {
    "text": "to basically intercept and see what's going wrong okay so now what we end up with I",
    "start": "3529880",
    "end": "3535559"
  },
  {
    "text": "don't know why I've two in there that's cuz I did it too quickly obviously um but what we've now got is when those",
    "start": "3535559",
    "end": "3542319"
  },
  {
    "text": "things happen uh that's still the old",
    "start": "3542319",
    "end": "3548640"
  },
  {
    "text": "one did I actually say helps if you save the",
    "start": "3548640",
    "end": "3554359"
  },
  {
    "text": "file come on come on come on",
    "start": "3557760",
    "end": "3562799"
  },
  {
    "text": "kfka be a good kfka",
    "start": "3562799",
    "end": "3567319"
  },
  {
    "text": "and now the control plane is still running and hogging the ports from my HTTP server told",
    "start": "3568359",
    "end": "3574680"
  },
  {
    "text": "you please fix that mdy the um",
    "start": "3574680",
    "end": "3580799"
  },
  {
    "text": "uh when I run my uh messaging course we only do one example in CFA because of",
    "start": "3580799",
    "end": "3588599"
  },
  {
    "text": "the pain that is usually involved in all the poor delegates running kfka uh so so",
    "start": "3588599",
    "end": "3597839"
  },
  {
    "text": "what we should end up now is a situation where we",
    "start": "3597839",
    "end": "3603799"
  },
  {
    "text": "have come on come on I know we're getting close to time or",
    "start": "3603799",
    "end": "3609799"
  },
  {
    "text": "we are on time um so I will say let's let's just go back to the slid a minute we are on",
    "start": "3609799",
    "end": "3615240"
  },
  {
    "text": "time but they want to see the dramatic conclusion yeah they do we well that's",
    "start": "3615240",
    "end": "3620319"
  },
  {
    "text": "running let's just let that run for a minute um so what we've done is we started adding some Auto instrumentation",
    "start": "3620319",
    "end": "3625720"
  },
  {
    "text": "and saw where some of the shortcomings of that were we enabled the experimental service bus that got us some more",
    "start": "3625720",
    "end": "3631119"
  },
  {
    "text": "information about the overall flow but it still wasn't perfect because there's",
    "start": "3631119",
    "end": "3636440"
  },
  {
    "text": "parts of the system that weren't correlated what I didn't show you is how we can use the open Telemetry collector in a Spire as an Aspire component to",
    "start": "3636440",
    "end": "3645119"
  },
  {
    "text": "then add some more filtering to remove some of the data that isn't valuable saves cost makes things faster when",
    "start": "3645119",
    "end": "3652079"
  },
  {
    "text": "we're querying things we also added the cfer instrument ation you didn't really see that because",
    "start": "3652079",
    "end": "3659680"
  },
  {
    "text": "it was just let enable the thing we also added some custom spans",
    "start": "3659680",
    "end": "3664760"
  },
  {
    "text": "around the channels so we could get some propagation for the inmemory things that's going to help you see the",
    "start": "3664760",
    "end": "3670480"
  },
  {
    "text": "orchestration if you're doing it internally you're going to need to basically be able to tie everything",
    "start": "3670480",
    "end": "3676680"
  },
  {
    "text": "together so yeah so now we've got these",
    "start": "3676880",
    "end": "3683480"
  },
  {
    "text": "individual spans these individual traces sorry that's one delivery that's happening for",
    "start": "3683480",
    "end": "3689039"
  },
  {
    "text": "one Courier nice debug context it still includes some of the other services look storefront workers in there that's a",
    "start": "3689039",
    "end": "3695480"
  },
  {
    "text": "debug context what you should be doing when you start thinking about instrumenting",
    "start": "3695480",
    "end": "3701200"
  },
  {
    "text": "your code is what's the context in which I would debug this but what I can do from",
    "start": "3701200",
    "end": "3707280"
  },
  {
    "text": "here I can click on this one here you see this thing at the bottom",
    "start": "3707280",
    "end": "3714200"
  },
  {
    "text": "right down at the bottom there let's we have a span link so even though this",
    "start": "3714200",
    "end": "3721520"
  },
  {
    "text": "is its own trace it has a link back to the original",
    "start": "3721520",
    "end": "3726559"
  },
  {
    "text": "Trace which means I can then or I should be able to go back and",
    "start": "3726559",
    "end": "3735640"
  },
  {
    "text": "view the original Trace so I can still get between them I",
    "start": "3735640",
    "end": "3741760"
  },
  {
    "text": "don't have to rely on conversation idas and these abstract Concepts I can use the inbuilt stuff in",
    "start": "3741760",
    "end": "3749319"
  },
  {
    "text": "order to do it um so you saw me breaking about that propagation that was that last one so we",
    "start": "3749319",
    "end": "3755559"
  },
  {
    "text": "can now build our own debug context make it easier for things to people to keep things in their head that flow there is",
    "start": "3755559",
    "end": "3762880"
  },
  {
    "text": "three services there's about eight or nine different interactions that happen across three services think about your",
    "start": "3762880",
    "end": "3770279"
  },
  {
    "text": "system if you've got an event driven system is it more than three services is it more than nine interactions",
    "start": "3770279",
    "end": "3776799"
  },
  {
    "text": "is it going to be one Trace like that that's hard to debug you should be breaking it",
    "start": "3776799",
    "end": "3785440"
  },
  {
    "text": "apart in conclusion it's not one",
    "start": "3785520",
    "end": "3791200"
  },
  {
    "text": "view that and that includes both stat static and dynamic right all these tools are useful for you but the static tools",
    "start": "3791200",
    "end": "3797960"
  },
  {
    "text": "are much more helpful when you are thinking about the requirements of what you need to build once you're trying to",
    "start": "3797960",
    "end": "3804799"
  },
  {
    "text": "build that as you know I discovered I can come up with all the static diagrams to share with Martin about what I intend",
    "start": "3804799",
    "end": "3810400"
  },
  {
    "text": "to build for us but it doesn't help me find what's actually the problems at",
    "start": "3810400",
    "end": "3815520"
  },
  {
    "text": "runtime and that's critical to us actually delivering yeah and it's about marrying up the thing that your",
    "start": "3815520",
    "end": "3821480"
  },
  {
    "text": "architect sent you and says this is what it should do and then the thing that the engineer created the architecture",
    "start": "3821480",
    "end": "3827319"
  },
  {
    "text": "diagram says this is what I built it's marrying those up with the sres who go but it doesn't do any of",
    "start": "3827319",
    "end": "3834039"
  },
  {
    "text": "that it looks like that they're all useful things don't think",
    "start": "3834039",
    "end": "3839119"
  },
  {
    "text": "that one view is enough don't think that auto instrumentation is enough go away and instrument your code",
    "start": "3839119",
    "end": "3846160"
  },
  {
    "text": "and spend some time that's what we're really trying to get across look at the demo it's on 's um thing um we going to",
    "start": "3846160",
    "end": "3852400"
  },
  {
    "text": "go to the particular Booth after this um we're going to go to the particular Booth after this if you would like to",
    "start": "3852400",
    "end": "3857559"
  },
  {
    "text": "come in have a chat um and we'll be around there just to I may be around for the rest of the day as well um but",
    "start": "3857559",
    "end": "3864640"
  },
  {
    "text": "hopefully you've got a bit of um information Ian's got some talks on messaging I've got some talks on open Telemetry which go into more of the open",
    "start": "3864640",
    "end": "3871599"
  },
  {
    "text": "Telemetry Concepts and what you can do the goal of this was really to inspire you to actually do the work don't think",
    "start": "3871599",
    "end": "3879079"
  },
  {
    "text": "three lines of code is enough Y and that's it cool thanks very",
    "start": "3879079",
    "end": "3884240"
  },
  {
    "text": "much for coming and sorry we overran",
    "start": "3884240",
    "end": "3888160"
  }
]