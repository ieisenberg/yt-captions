[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "all right good afternoon everyone welcome to my session and thank you so",
    "start": "979",
    "end": "7770"
  },
  {
    "text": "much for joining I hope you're excited for a series of surrealist demos it's",
    "start": "7770",
    "end": "12780"
  },
  {
    "text": "gonna be so much fun so today we're going to look at building several as api's using nodejs and Azure",
    "start": "12780",
    "end": "19260"
  },
  {
    "text": "functions and I want you all to take a second and think about Twitter and think",
    "start": "19260",
    "end": "27180"
  },
  {
    "text": "about Twitter in terms of scale so every day in fact every second we are",
    "start": "27180",
    "end": "35309"
  },
  {
    "start": "30000",
    "end": "129000"
  },
  {
    "text": "collectively creating 6,000 tweets platform twitter has 330 million users",
    "start": "35309",
    "end": "44250"
  },
  {
    "text": "using their platform yearly we're creating 200 billion tweets that's some",
    "start": "44250",
    "end": "51989"
  },
  {
    "text": "interesting stat statistics right interesting numbers now what if the",
    "start": "51989",
    "end": "57300"
  },
  {
    "text": "creators of Twitter would have never created Twitter because of the amount of",
    "start": "57300",
    "end": "63570"
  },
  {
    "text": "scale and the amount of users that they had to support think about that how our",
    "start": "63570",
    "end": "71310"
  },
  {
    "text": "life be without Twitter that's basically me on every single startup idea that",
    "start": "71310",
    "end": "77640"
  },
  {
    "text": "I've ever had I kind of thinking about scale and the fact that I have to",
    "start": "77640",
    "end": "83400"
  },
  {
    "text": "implement and think about it and implement this application that might be used by gazillion users I'm just giving",
    "start": "83400",
    "end": "89909"
  },
  {
    "text": "up before even starting but that's why I also love surrealist because it enables me to build the next",
    "start": "89909",
    "end": "97650"
  },
  {
    "text": "Twitter without having to think of all of that my name is Simona cotton and I",
    "start": "97650",
    "end": "103860"
  },
  {
    "text": "work as a cloud developer advocate for Microsoft I'm here with set for Eze and a couple",
    "start": "103860",
    "end": "109470"
  },
  {
    "text": "other developer advocates you can find us on this page at AKMs avocados or on",
    "start": "109470",
    "end": "119009"
  },
  {
    "text": "Twitter ad advocates this is a page with everyone and the areas that they tend to",
    "start": "119009",
    "end": "125579"
  },
  {
    "text": "focus on in terms of Technology cool so what about service some of you",
    "start": "125579",
    "end": "133250"
  },
  {
    "start": "129000",
    "end": "318000"
  },
  {
    "text": "here that happen in the industry for quite a while remembering the time when we had we used to do everything on",
    "start": "133250",
    "end": "139550"
  },
  {
    "text": "premise and I'm sure that there's there's still people that are doing that yesterday at service days cardiff i",
    "start": "139550",
    "end": "146270"
  },
  {
    "text": "actually met someone that was saying that they're running their own servers from the basement of their building in",
    "start": "146270",
    "end": "152240"
  },
  {
    "text": "bristol so there's there are still people that go and build their own servers buy their own hardware and they",
    "start": "152240",
    "end": "160280"
  },
  {
    "text": "have to answer all these questions like how much hardware do I need is my hardware in a secure location how do i",
    "start": "160280",
    "end": "167510"
  },
  {
    "text": "architect my application am i going how many users will I have to support with",
    "start": "167510",
    "end": "172550"
  },
  {
    "text": "the existing infrastructure so that's the beginning of kind of the history of",
    "start": "172550",
    "end": "177980"
  },
  {
    "text": "compute and then from on-premise we realized that actually we should be",
    "start": "177980",
    "end": "184340"
  },
  {
    "text": "doing something about this we shouldn't rely on only on us buying our own hardware maybe we should outsource that",
    "start": "184340",
    "end": "191050"
  },
  {
    "text": "so we started outsourcing that to this model that's called infrastructure as a",
    "start": "191050",
    "end": "196280"
  },
  {
    "text": "service were basically someone else buys the hardware and someone else makes sure",
    "start": "196280",
    "end": "201680"
  },
  {
    "text": "that whenever there's a hardware failure they're going to take care of that they're gonna replace that particular",
    "start": "201680",
    "end": "207260"
  },
  {
    "text": "server we don't have to worry about that it's not an investment that we have to make actively but turns out that that's",
    "start": "207260",
    "end": "216709"
  },
  {
    "text": "not enough we still have to answer questions like what kind of security threats do I expose myself to so is",
    "start": "216709",
    "end": "225110"
  },
  {
    "text": "there someone that can help me with that and that's what platform as a service helps us with so basically we no longer",
    "start": "225110",
    "end": "232070"
  },
  {
    "text": "have to maybe install and provision all those virtual machines that we would do",
    "start": "232070",
    "end": "237320"
  },
  {
    "text": "in a infrastructure as a service type of model but now we have platform as a service where the cloud provider or the",
    "start": "237320",
    "end": "245180"
  },
  {
    "text": "company that we've we have outsourced that model to they're going to make sure to provision all the VMS that I need",
    "start": "245180",
    "end": "251540"
  },
  {
    "text": "they're going to install the operating system for us and more than that they're gonna they're actually going to even",
    "start": "251540",
    "end": "258880"
  },
  {
    "text": "install the security patches for so we're pretty safe there there's not a",
    "start": "258880",
    "end": "263900"
  },
  {
    "text": "lot to manage but still we have to figure out how much skill how much our",
    "start": "263900",
    "end": "269720"
  },
  {
    "text": "application needs to scale so we have to make sure that we configure those settings and not only that we also pay a",
    "start": "269720",
    "end": "276560"
  },
  {
    "text": "monthly bill so we pay every month a certain amount of money even though maybe our VM where our application",
    "start": "276560",
    "end": "284690"
  },
  {
    "text": "consumes only 20% or 10% or 0% at times",
    "start": "284690",
    "end": "289930"
  },
  {
    "text": "with that within that platform so then welcome to today which is serverless",
    "start": "289930",
    "end": "298390"
  },
  {
    "text": "where we don't have to worry about any of that the only thing the only questions that we have to ask are how do",
    "start": "298390",
    "end": "305030"
  },
  {
    "text": "I architect my application and how do I make sure that my code is secure so no",
    "start": "305030",
    "end": "311419"
  },
  {
    "text": "more worrying about the infrastructure no more worrying about the web server we only focus on the code so what is",
    "start": "311419",
    "end": "320360"
  },
  {
    "start": "318000",
    "end": "418000"
  },
  {
    "text": "serverless with tremulous will basically have an abstraction of servers we still have",
    "start": "320360",
    "end": "326240"
  },
  {
    "text": "servers somewhere it's just that we don't have to take care of them we don't have to configure them ourselves we",
    "start": "326240",
    "end": "332240"
  },
  {
    "text": "don't decide which web server is going to run our application and we just have to deploy our code to a certain platform",
    "start": "332240",
    "end": "339580"
  },
  {
    "text": "we we write code that it reacts to events so for those of you who've worked",
    "start": "339580",
    "end": "347240"
  },
  {
    "text": "with several as before your your might be familiar with the fact that server list code will will react to events like",
    "start": "347240",
    "end": "354410"
  },
  {
    "text": "an HTTP request or maybe a file that has been uploaded on on a storage account or",
    "start": "354410",
    "end": "361220"
  },
  {
    "text": "an event that has happened somewhere in the cloud and finally well the other",
    "start": "361220",
    "end": "367460"
  },
  {
    "text": "thing that's absolutely important about server list is this instant scale so the fact that depending on the number of",
    "start": "367460",
    "end": "373790"
  },
  {
    "text": "users that are making requests to our application our application can be deployed in a single container or it can",
    "start": "373790",
    "end": "381440"
  },
  {
    "text": "be deployed to thousands of servers or thousands of containers and we're going",
    "start": "381440",
    "end": "386780"
  },
  {
    "text": "to pay only for the amount of compute and memory that we're using while our",
    "start": "386780",
    "end": "393050"
  },
  {
    "text": "application is running so that's very important micro billing for those of you who are just starting",
    "start": "393050",
    "end": "399759"
  },
  {
    "text": "to maybe build a product and you're looking for a solution that's not gonna make you pay a monthly bill and that's",
    "start": "399759",
    "end": "406690"
  },
  {
    "text": "not gonna make you configure all the scale or all the numbers required for",
    "start": "406690",
    "end": "412330"
  },
  {
    "text": "your application to serve a number of users serverless is the solution for you",
    "start": "412330",
    "end": "418440"
  },
  {
    "start": "418000",
    "end": "551000"
  },
  {
    "text": "but then we do have this concept of functions when it comes to service",
    "start": "418440",
    "end": "424840"
  },
  {
    "text": "functions as a service and this is where we'll write our code that's gonna execute things and react to events but",
    "start": "424840",
    "end": "432789"
  },
  {
    "text": "many times we find ourselves not only having to execute code and when it comes",
    "start": "432789",
    "end": "437949"
  },
  {
    "text": "up in response to an event but we also have to execute code that kind of works",
    "start": "437949",
    "end": "443139"
  },
  {
    "text": "in a flow and that's what logic apps can help us with so if you have to orchestrate multiple events you can use",
    "start": "443139",
    "end": "450550"
  },
  {
    "text": "logic apps for that and on top of orchestration logic apps also has this",
    "start": "450550",
    "end": "457090"
  },
  {
    "text": "concept of connectors and basically there's house there's thousands of or",
    "start": "457090",
    "end": "462159"
  },
  {
    "text": "hundreds of connectors in logic apps where we can maybe use it use them for",
    "start": "462159",
    "end": "467199"
  },
  {
    "text": "sending emails like logic apps integrates with send grid for example or",
    "start": "467199",
    "end": "472240"
  },
  {
    "text": "office 365 and we don't have to write the code that connects our application",
    "start": "472240",
    "end": "477940"
  },
  {
    "text": "to those particular api's it's already done for us and then because it's",
    "start": "477940",
    "end": "484300"
  },
  {
    "text": "event-driven we also have this thing called event grid which allows us to orchestrate",
    "start": "484300",
    "end": "489729"
  },
  {
    "text": "events and interact with them but all of this sits on top of the data sources",
    "start": "489729",
    "end": "497500"
  },
  {
    "text": "that I've mentioned earlier and a lot of other tools like databases we can read",
    "start": "497500",
    "end": "502990"
  },
  {
    "text": "data and we can react to changes in our database in our storage account we can we're sure that our application is going",
    "start": "502990",
    "end": "510550"
  },
  {
    "text": "to be monitored for security flaws we can interact with IOT devices and we can",
    "start": "510550",
    "end": "518828"
  },
  {
    "text": "monitor our application but we're all developers right so we definitely need",
    "start": "518829",
    "end": "524920"
  },
  {
    "text": "to have also the development tools that enable us to build these applications",
    "start": "524920",
    "end": "530200"
  },
  {
    "text": "and with agile functions we have IT support so ideas like visual studio or",
    "start": "530200",
    "end": "537940"
  },
  {
    "text": "even editor vs code as well as integration with Azure DevOps and",
    "start": "537940",
    "end": "545820"
  },
  {
    "text": "monitoring application insights and we're gonna see all of these right now",
    "start": "545820",
    "end": "551910"
  },
  {
    "start": "551000",
    "end": "566000"
  },
  {
    "text": "so most of the session will be hands-on and I hope you're a huge fan of demos",
    "start": "551910",
    "end": "562390"
  },
  {
    "text": "and I hope that the demo gods are gonna be with me so this is vs code how many",
    "start": "562390",
    "end": "568390"
  },
  {
    "start": "566000",
    "end": "637000"
  },
  {
    "text": "of you is it can you see it yeah perfect how many of you are using this code",
    "start": "568390",
    "end": "574770"
  },
  {
    "text": "fantastic that's like 90% of the room one of the biggest things with this code",
    "start": "574770",
    "end": "581290"
  },
  {
    "text": "so this code is the text editor that has been built by Erich gamma and one of the",
    "start": "581290",
    "end": "586360"
  },
  {
    "text": "most powerful things about vs code is extension so basically by using those extensions we can turn our text editor",
    "start": "586360",
    "end": "593589"
  },
  {
    "text": "in a full ID and one of the when it comes to Cyril is one of the most useful",
    "start": "593589",
    "end": "598750"
  },
  {
    "text": "extensions that you'll ever find is the azure functions extension so this",
    "start": "598750",
    "end": "606220"
  },
  {
    "text": "extension is going to help us create new projects create new functions run and",
    "start": "606220",
    "end": "611290"
  },
  {
    "text": "debug those functions as well as deploy them I've already installed this",
    "start": "611290",
    "end": "616420"
  },
  {
    "text": "extension but basically it depends on Azure core tools which will be installed",
    "start": "616420",
    "end": "621490"
  },
  {
    "text": "whenever you go through the installation process and you have all the steps here",
    "start": "621490",
    "end": "626620"
  },
  {
    "text": "so I highly recommend if you're you're getting started with server let's go ahead and install this extension it will",
    "start": "626620",
    "end": "632350"
  },
  {
    "text": "be the best thing that it has ever happened tend to be very positive okay",
    "start": "632350",
    "end": "639490"
  },
  {
    "text": "so once you have that extensions and extension installed you're gonna be able",
    "start": "639490",
    "end": "644500"
  },
  {
    "text": "to access it from from the left-hand side on the azure icon so right here you",
    "start": "644500",
    "end": "652180"
  },
  {
    "text": "can see that I have the functions aligned there with functions from just from here I'm able to inspect",
    "start": "652180",
    "end": "659200"
  },
  {
    "text": "all the functions that I have deployed in the cloud so this is connect this extension is listing functions that I",
    "start": "659200",
    "end": "666130"
  },
  {
    "text": "have in Azure portal in via a portal and then I can also create new projects I",
    "start": "666130",
    "end": "672160"
  },
  {
    "text": "can create new functions and deploy them to the cloud so let's go ahead and create a new project now one thing",
    "start": "672160",
    "end": "679510"
  },
  {
    "text": "that's unique about Asha is that you are able to deploy or write multiple",
    "start": "679510",
    "end": "684910"
  },
  {
    "text": "functions within a project so this will enable us to deploy the functions that",
    "start": "684910",
    "end": "690250"
  },
  {
    "text": "are logically connected within the same resource and that means that we're also",
    "start": "690250",
    "end": "695890"
  },
  {
    "text": "going to scale those functions together so I've selected create a new project",
    "start": "695890",
    "end": "702580"
  },
  {
    "text": "and then it's gonna ask me what kind of what programming language do I want to use as you can see there's JavaScript",
    "start": "702580",
    "end": "709030"
  },
  {
    "text": "and C sharp they're generally available and we can also use Python or Java they're in preview mode so I'm gonna use",
    "start": "709030",
    "end": "716470"
  },
  {
    "text": "JavaScript and then if I go back to my file explorer you're gonna see a couple",
    "start": "716470",
    "end": "723250"
  },
  {
    "start": "718000",
    "end": "744000"
  },
  {
    "text": "of files that have been created for us the first one is the vs code folder and this is where all the magic lives this",
    "start": "723250",
    "end": "730510"
  },
  {
    "text": "is where our configuration for running and debugging functions is I'm not gonna",
    "start": "730510",
    "end": "736990"
  },
  {
    "text": "go into detail you don't have to know anything about configuring vs code we just know that it's there and it's gonna",
    "start": "736990",
    "end": "742720"
  },
  {
    "text": "run for us the next thing that has been generated is the hot host of JSON file this is where you configure settings",
    "start": "742720",
    "end": "750460"
  },
  {
    "start": "744000",
    "end": "848000"
  },
  {
    "text": "that are available our global to your project things like what kind of version of the azure",
    "start": "750460",
    "end": "756550"
  },
  {
    "text": "functions runtime am i using I'm using the second version because that's the one that is supported on all operating",
    "start": "756550",
    "end": "762790"
  },
  {
    "text": "systems I can also configure here things like what's the root of my if if I'm",
    "start": "762790",
    "end": "768810"
  },
  {
    "text": "configuring if I'm running an HTTP function then I can configure the the",
    "start": "768810",
    "end": "774940"
  },
  {
    "text": "root of the route that I that my URL will have so generally it's gonna be by",
    "start": "774940",
    "end": "781930"
  },
  {
    "text": "default it's going to be API but we can change that we can do API or we can change it to let's say MVC",
    "start": "781930",
    "end": "789360"
  },
  {
    "text": "another an important file here is the local that settings that jason this is where we configure our application",
    "start": "789360",
    "end": "796149"
  },
  {
    "text": "settings that we want to use in our local so imagine when you you're building functions or projects that you",
    "start": "796149",
    "end": "802839"
  },
  {
    "text": "run in your local you want to connect your developer database development",
    "start": "802839",
    "end": "807970"
  },
  {
    "text": "database when you move into the cloud you'll probably want to connect to your production database if that's your",
    "start": "807970",
    "end": "813519"
  },
  {
    "text": "production environment so this is where you can configure your database connection string and then proxies this",
    "start": "813519",
    "end": "820120"
  },
  {
    "text": "is a new feature well not really new it's been around for probably more than a year and this is how we can create a",
    "start": "820120",
    "end": "828579"
  },
  {
    "text": "thin layer on top of our existing function app or we can actually even group multiple function apps within the",
    "start": "828579",
    "end": "836829"
  },
  {
    "text": "same proxy as your functions proxy I don't have an example for that but if",
    "start": "836829",
    "end": "843339"
  },
  {
    "text": "you want to talk about more about this we can tell after this session so then",
    "start": "843339",
    "end": "849070"
  },
  {
    "start": "848000",
    "end": "950000"
  },
  {
    "text": "the next step this is just the the project that we've created next we want",
    "start": "849070",
    "end": "854709"
  },
  {
    "text": "to actually go ahead and create a new function and I've used the the icon there with the Thunder and the plus and",
    "start": "854709",
    "end": "861490"
  },
  {
    "text": "that will help me create a new function and generate code for that function from predefined templates so here and",
    "start": "861490",
    "end": "869500"
  },
  {
    "text": "previously that with Azure functions and with circulars we react to events so here you can see that we can create",
    "start": "869500",
    "end": "875560"
  },
  {
    "text": "functions that react to HTTP requests or to changes in a blob storage account or",
    "start": "875560",
    "end": "883420"
  },
  {
    "text": "even to a cue storage or a service bus bus and even timer trigger so we can",
    "start": "883420",
    "end": "891010"
  },
  {
    "text": "generate functions that will run at a certain time interval but because we're building api's I'm gonna create an HTTP",
    "start": "891010",
    "end": "898240"
  },
  {
    "text": "trigger function and then I have to give it a name so I'm gonna name it read recipes and you're gonna see why later",
    "start": "898240",
    "end": "906180"
  },
  {
    "text": "and the authorization level here anonymous it means that the URL will be",
    "start": "906180",
    "end": "911230"
  },
  {
    "text": "accessible to everyone function means that you will the the",
    "start": "911230",
    "end": "916990"
  },
  {
    "text": "platform will generate a code for and unless that particular URL is being",
    "start": "916990",
    "end": "922450"
  },
  {
    "text": "called with that code you won't go get access so if you run it without that",
    "start": "922450",
    "end": "927730"
  },
  {
    "text": "code you will get a four a one saying that permission is denied and this is all handled by the platform itself so",
    "start": "927730",
    "end": "935530"
  },
  {
    "text": "that's you don't have to do anything for that and then admin means that only my subscription will be able to call into",
    "start": "935530",
    "end": "941830"
  },
  {
    "text": "this function and this can be useful when you want to guard your your code you wanted to run in a certain",
    "start": "941830",
    "end": "948390"
  },
  {
    "text": "environment but for me it doesn't really matter I'm gonna go with anonymous and",
    "start": "948390",
    "end": "954270"
  },
  {
    "start": "950000",
    "end": "1003000"
  },
  {
    "text": "now we have a new folder that has been created and that has the same name as",
    "start": "954270",
    "end": "959320"
  },
  {
    "text": "the function that we've generated so",
    "start": "959320",
    "end": "965440"
  },
  {
    "text": "then function that jason this is where our function configuration yes so you",
    "start": "965440",
    "end": "971200"
  },
  {
    "text": "see that we have an array of bindings and we've defined two different bindings",
    "start": "971200",
    "end": "977440"
  },
  {
    "text": "one is an input binding and it's the HTTP trigger so this is how we tell the",
    "start": "977440",
    "end": "982810"
  },
  {
    "text": "azure runtime that we're listening for HTTP requests that are coming in and",
    "start": "982810",
    "end": "988240"
  },
  {
    "text": "then with the second one we are defining the output binding and this is how we",
    "start": "988240",
    "end": "995260"
  },
  {
    "text": "tell the azure functions runtime that we are returning an HTTP response and then",
    "start": "995260",
    "end": "1004560"
  },
  {
    "start": "1003000",
    "end": "1068000"
  },
  {
    "text": "our index that J is file this is a JavaScript function that will get two",
    "start": "1004560",
    "end": "1010530"
  },
  {
    "text": "parameters the first one is the context object which will enable us to communicate with the runtime and the",
    "start": "1010530",
    "end": "1017880"
  },
  {
    "text": "second one is basically the first element in the bindings array and it's",
    "start": "1017880",
    "end": "1024209"
  },
  {
    "text": "also the request object and you can see here that I'm using context to log",
    "start": "1024210",
    "end": "1029490"
  },
  {
    "text": "information and then I'm checking whether name exists either on the",
    "start": "1029490",
    "end": "1034680"
  },
  {
    "text": "request parameters or the request body and if it does I'm gonna return a hello",
    "start": "1034680",
    "end": "1039900"
  },
  {
    "text": "something if it doesn't I'm gonna return an error so who's excited to have this",
    "start": "1039900",
    "end": "1047550"
  },
  {
    "text": "baby running yeah so I'm going to run",
    "start": "1047550",
    "end": "1052860"
  },
  {
    "text": "this I can either go to this debug panel or I can even start the command palette",
    "start": "1052860",
    "end": "1060630"
  },
  {
    "text": "so command shift P and then say I want to start debugging so what this will do",
    "start": "1060630",
    "end": "1070200"
  },
  {
    "text": "is if we look at the terminal we can see that the first thing that it will do is",
    "start": "1070200",
    "end": "1075890"
  },
  {
    "text": "install extensions so the new edge of functions runtime is using an extension",
    "start": "1075890",
    "end": "1082110"
  },
  {
    "text": "based kind of model where we only have in the core of the platform we only have",
    "start": "1082110",
    "end": "1089010"
  },
  {
    "text": "probably the HTTP trigger implemented that I'm not sure if even that one and then the rest of the extensions are",
    "start": "1089010",
    "end": "1096000"
  },
  {
    "text": "going we're going to have to install them ourselves and the runtime will actually scan the function that JSON",
    "start": "1096000",
    "end": "1102540"
  },
  {
    "text": "file and see what kind of bindings were using and based on that it will go ahead and install those bindings the next",
    "start": "1102540",
    "end": "1110010"
  },
  {
    "text": "thing that will happen is it will run func host start which starts the actual",
    "start": "1110010",
    "end": "1116100"
  },
  {
    "text": "runtime and one thing that I want you to note here the array functions runtime it's it's actually open source so",
    "start": "1116100",
    "end": "1123510"
  },
  {
    "text": "whatever runs in the cloud we can actually run in our local we're running in our local as well and this is what",
    "start": "1123510",
    "end": "1129570"
  },
  {
    "text": "enables us to debug applications locally and once it started because this is an",
    "start": "1129570",
    "end": "1136740"
  },
  {
    "text": "HTTP function it will also generate a URL that we can use in our application",
    "start": "1136740",
    "end": "1142160"
  },
  {
    "text": "so I can click on this and it will open a browser telling me that I need to pass",
    "start": "1142160",
    "end": "1149220"
  },
  {
    "text": "in a parameter so here we can see that I've passed a name equals several eyes",
    "start": "1149220",
    "end": "1155610"
  },
  {
    "text": "and it returns hello service but what if we want to debug this well I go back to",
    "start": "1155610",
    "end": "1160950"
  },
  {
    "text": "my IDE can add a breakpoint let's say here if request name maybe I have a bug and I",
    "start": "1160950",
    "end": "1167899"
  },
  {
    "text": "want to debug this so if I'm refreshing now it will stop at the breakpoint I've",
    "start": "1167899",
    "end": "1173869"
  },
  {
    "text": "just added and then I can inspect these variables maybe I can change the query",
    "start": "1173869",
    "end": "1181340"
  },
  {
    "text": "to be instead of serverless I can say no",
    "start": "1181340",
    "end": "1191090"
  },
  {
    "text": "I can say set and then run this and it",
    "start": "1191090",
    "end": "1198559"
  },
  {
    "text": "will say hello say so this is the primer of what you can do in your local with",
    "start": "1198559",
    "end": "1205249"
  },
  {
    "text": "Azure functions but what we said is that we're gonna add we're gonna go ahead and",
    "start": "1205249",
    "end": "1210740"
  },
  {
    "start": "1207000",
    "end": "1364000"
  },
  {
    "text": "build api's right and this is this is just an endpoint it doesn't do much so",
    "start": "1210740",
    "end": "1217179"
  },
  {
    "text": "I'm gonna use this thing called code snippets from vs code I how many of you",
    "start": "1217179",
    "end": "1223519"
  },
  {
    "text": "are familiar with the concept of the code snippets in base code awesome there's probably a half of the room for",
    "start": "1223519",
    "end": "1230419"
  },
  {
    "text": "the rest of the half you can basically write if you have code that you're constantly writing having to write",
    "start": "1230419",
    "end": "1235789"
  },
  {
    "text": "yourself you can actually use code snippets to generate that code and",
    "start": "1235789",
    "end": "1242049"
  },
  {
    "text": "you're gonna see what how it works so I've I've just typed read and then I'm",
    "start": "1242049",
    "end": "1247100"
  },
  {
    "text": "selecting read recipes and then this will use the snippet that I've added in my comfy so you can see here that I'm",
    "start": "1247100",
    "end": "1255769"
  },
  {
    "text": "basically I'm importing the MongoDB package so my API my API endpoint will",
    "start": "1255769",
    "end": "1261679"
  },
  {
    "text": "read data from a MongoDB database and it will return a list of recipes and the",
    "start": "1261679",
    "end": "1268159"
  },
  {
    "text": "reason why I'm doing that is because I have this awesome angular application called tacos UI and right now if I go",
    "start": "1268159",
    "end": "1277580"
  },
  {
    "text": "into tacos let me inspect element here if I go into",
    "start": "1277580",
    "end": "1284210"
  },
  {
    "text": "tacos you will see that I'm returning a list of tacos recipes",
    "start": "1284210",
    "end": "1291470"
  },
  {
    "text": "but in fact this is a JSON up this this is a JSON file that I'm reading so it's",
    "start": "1291470",
    "end": "1297379"
  },
  {
    "text": "not very dynamic what I want to do instead is basically go and read data",
    "start": "1297379",
    "end": "1302450"
  },
  {
    "text": "from a cosmos DB database so cosmos DB is a no sequel database that supports",
    "start": "1302450",
    "end": "1307970"
  },
  {
    "text": "different types of models we can query cosmos to be using the sequel API a",
    "start": "1307970",
    "end": "1313070"
  },
  {
    "text": "MongoDB API graph API and there's a couple more I think of Sandra as well",
    "start": "1313070",
    "end": "1318379"
  },
  {
    "text": "but the cool thing is that cosmo ZB has an extension as well and cuz in vs code",
    "start": "1318379",
    "end": "1324980"
  },
  {
    "text": "and right here I can go ahead and see all the databases that I have available",
    "start": "1324980",
    "end": "1330409"
  },
  {
    "text": "I can even inspect here and this is one",
    "start": "1330409",
    "end": "1335929"
  },
  {
    "text": "document that I've created and I can even update it right here in visco I",
    "start": "1335929",
    "end": "1343220"
  },
  {
    "text": "think this is awesome but going back into our application what I really want to do is instead of",
    "start": "1343220",
    "end": "1350080"
  },
  {
    "text": "requesting data from a JSON file I actually want to connect this application to a service endpoint and",
    "start": "1350080",
    "end": "1357889"
  },
  {
    "text": "the way I'm gonna do that is I'm gonna deploy this application to the cloud and then connect to that URL okay so first",
    "start": "1357889",
    "end": "1366740"
  },
  {
    "start": "1364000",
    "end": "1448000"
  },
  {
    "text": "of all we are looking at this code very quickly we are importing a MongoDB",
    "start": "1366740",
    "end": "1371750"
  },
  {
    "text": "package and this is where when I got started with service I had to think like okay I know how to build applications",
    "start": "1371750",
    "end": "1378409"
  },
  {
    "text": "with no GS I know how to install applications how to install packages in a normal node.js application but how do",
    "start": "1378409",
    "end": "1384259"
  },
  {
    "text": "I actually install packages in a serverless application and turns out",
    "start": "1384259",
    "end": "1390320"
  },
  {
    "text": "that the answer is quite simple I have to run NPM in it - why to create a new",
    "start": "1390320",
    "end": "1398240"
  },
  {
    "text": "package that JSON file and I need to create it at the root folder of my of my",
    "start": "1398240",
    "end": "1403909"
  },
  {
    "text": "project so if you look here I've generated I've created a new package that JSON file and then the next thing",
    "start": "1403909",
    "end": "1410570"
  },
  {
    "text": "that I can do is run NPM install MongoDB and this will install the MongoDB",
    "start": "1410570",
    "end": "1417830"
  },
  {
    "text": "package for me and save it in the package that JSON file and I also",
    "start": "1417830",
    "end": "1424620"
  },
  {
    "text": "have access to the node modules folder very important here probably this has changed in the past year where basically",
    "start": "1424620",
    "end": "1432330"
  },
  {
    "text": "I'm sharing all the node modules between all of my functions so this is this is valuable information because I'm not",
    "start": "1432330",
    "end": "1438510"
  },
  {
    "text": "replicating I'm not duplicating packages before that we used to have to install packages for each function that we were",
    "start": "1438510",
    "end": "1446300"
  },
  {
    "text": "creating okay so we've learned how to create how to install NPM packages in our functions",
    "start": "1446300",
    "end": "1454530"
  },
  {
    "start": "1448000",
    "end": "1579000"
  },
  {
    "text": "awesome what's the next thing that we're doing here we are defining an authentication object with the user and",
    "start": "1454530",
    "end": "1461340"
  },
  {
    "text": "the password and then initializing a TV object to now and then we have this low",
    "start": "1461340",
    "end": "1468900"
  },
  {
    "text": "DB function that basically checks whether the DB object is null if it",
    "start": "1468900",
    "end": "1474060"
  },
  {
    "text": "isn't it will just return otherwise it will attempt to connect to it to the database that we've seen earlier and",
    "start": "1474060",
    "end": "1480870"
  },
  {
    "text": "then return that object and once I have the DB object I'm gonna go ahead and read from the recipes collection turn",
    "start": "1480870",
    "end": "1489930"
  },
  {
    "text": "that into an array and return that as part of our response object so this is",
    "start": "1489930",
    "end": "1495930"
  },
  {
    "text": "something that you've probably seen before if you've used no GS or if you've",
    "start": "1495930",
    "end": "1500940"
  },
  {
    "text": "ever read from a database before one thing that I want to highlight here is",
    "start": "1500940",
    "end": "1506010"
  },
  {
    "text": "the fact that we are initializing this object outside our function scope this",
    "start": "1506010",
    "end": "1512760"
  },
  {
    "text": "means that we are attempting to reuse the database connection throughout a",
    "start": "1512760",
    "end": "1518880"
  },
  {
    "text": "user requests with simulus we cannot store state so state will always if we",
    "start": "1518880",
    "end": "1526710"
  },
  {
    "text": "want to store state somewhere we're gonna have to restore to storage somewhere in the database or a queue or",
    "start": "1526710",
    "end": "1532950"
  },
  {
    "text": "a blob storage because we don't have access to the local memory and apart",
    "start": "1532950",
    "end": "1537990"
  },
  {
    "text": "from that the service provider will tell you that actually you can only run your function for 10 minutes and after that",
    "start": "1537990",
    "end": "1544500"
  },
  {
    "text": "we can move your function to a completely different instance a different part of the world maybe so",
    "start": "1544500",
    "end": "1550510"
  },
  {
    "text": "you cannot rely on local state but thinking optimistically most of the times that particular function will be",
    "start": "1550510",
    "end": "1557830"
  },
  {
    "text": "in the same instance for probably 15 minutes and or 30 minutes so if we can gain some performance here it's",
    "start": "1557830",
    "end": "1564460"
  },
  {
    "text": "recommended that you do it so I ran some tests here and without reusing this",
    "start": "1564460",
    "end": "1569770"
  },
  {
    "text": "database connection I was spending probably 300 milliseconds more on each",
    "start": "1569770",
    "end": "1575320"
  },
  {
    "text": "request because if we would always initialize that connection okay awesome",
    "start": "1575320",
    "end": "1581020"
  },
  {
    "start": "1579000",
    "end": "1636000"
  },
  {
    "text": "so we've installed the MongoDB package and we have all the details here to",
    "start": "1581020",
    "end": "1586059"
  },
  {
    "text": "connect to a database let's see if that actually works so I go ahead and run the",
    "start": "1586059",
    "end": "1591730"
  },
  {
    "text": "function that we've just created and this will start the edge of functions",
    "start": "1591730",
    "end": "1597220"
  },
  {
    "text": "run time and then I can click on the link there and yay it has connected to",
    "start": "1597220",
    "end": "1604150"
  },
  {
    "text": "my database and it's returns data from that particular database just to make sure that things are I'm not cheating",
    "start": "1604150",
    "end": "1610390"
  },
  {
    "text": "here I'm gonna go ahead and delete all these it's nobody likes exclamation",
    "start": "1610390",
    "end": "1616240"
  },
  {
    "text": "marks right so I've deleted these from cosmos DB so now if i refresh the page",
    "start": "1616240",
    "end": "1623710"
  },
  {
    "text": "we shouldn't have these anymore which is true we only have one probably if i",
    "start": "1623710",
    "end": "1631630"
  },
  {
    "text": "refresh again hopefully yeah we left one there awesome so we have connected to",
    "start": "1631630",
    "end": "1638530"
  },
  {
    "start": "1636000",
    "end": "1709000"
  },
  {
    "text": "our database what's the next step well I have to if some of you are secure our",
    "start": "1638530",
    "end": "1644470"
  },
  {
    "text": "super concerned about security probably already you've raised the proud brow here when you saw that I'm actually",
    "start": "1644470",
    "end": "1649900"
  },
  {
    "text": "displaying my database connection in my code what if we commit this to github so",
    "start": "1649900",
    "end": "1656350"
  },
  {
    "text": "what I had what we can do now is move those connection strings to our local",
    "start": "1656350",
    "end": "1662530"
  },
  {
    "text": "that settings that JSON file so let's say I'm taking my password here and moving it to local that settings that",
    "start": "1662530",
    "end": "1670240"
  },
  {
    "text": "JSON password I'm saving this here and I",
    "start": "1670240",
    "end": "1679820"
  },
  {
    "text": "already know that I also have a user and that is tacos okay and I also need the",
    "start": "1679820",
    "end": "1688550"
  },
  {
    "text": "port which I think it's this one so the",
    "start": "1688550",
    "end": "1693980"
  },
  {
    "text": "port for connecting to our database we can find it here yeah I think it was a",
    "start": "1693980",
    "end": "1701810"
  },
  {
    "text": "correct one oh okay so I've saved all",
    "start": "1701810",
    "end": "1711350"
  },
  {
    "start": "1709000",
    "end": "1784000"
  },
  {
    "text": "these settings here but how do we how do we go and access them from our application you already know this again",
    "start": "1711350",
    "end": "1718520"
  },
  {
    "text": "we can use process dot m and I want to",
    "start": "1718520",
    "end": "1724610"
  },
  {
    "text": "take a note of this star that means that after visco has run some machine",
    "start": "1724610",
    "end": "1731870"
  },
  {
    "text": "learning on a lot of people using a lot of usage in vs code they've decided that",
    "start": "1731870",
    "end": "1738650"
  },
  {
    "text": "M is one of the most popular fields accessed from process so if you've",
    "start": "1738650",
    "end": "1745190"
  },
  {
    "text": "updated to the latest version of es code you're gonna have access to this as well so process that and the password and",
    "start": "1745190",
    "end": "1752900"
  },
  {
    "text": "then we said that we're gonna replace here the user as well okay user and here",
    "start": "1752900",
    "end": "1761860"
  },
  {
    "text": "notice that I'm using a backtick which allows me to use this interpolation notation I'm not sure if that's the",
    "start": "1761860",
    "end": "1768410"
  },
  {
    "text": "correct name process that m dot user and",
    "start": "1768410",
    "end": "1774430"
  },
  {
    "text": "then our port we're gonna do exactly the same thing process that that port okay so instead",
    "start": "1774430",
    "end": "1785750"
  },
  {
    "text": "of connecting hard coding the connection strings in our code we have moved them",
    "start": "1785750",
    "end": "1791000"
  },
  {
    "text": "to this local that settings that JSON file I'm gonna run this again just to",
    "start": "1791000",
    "end": "1797420"
  },
  {
    "text": "double check that everything is working as expected and from here the next thing that we",
    "start": "1797420",
    "end": "1802940"
  },
  {
    "text": "want to do is go ahead and connect our at the angular application to read data from our service endpoint so just",
    "start": "1802940",
    "end": "1814329"
  },
  {
    "text": "testing okay fantastic we're retrieving the correct data we have access to this URL so in order to connect our angular",
    "start": "1814329",
    "end": "1824319"
  },
  {
    "text": "application to our endpoint I have to go and replace the URL that I have defined",
    "start": "1824319",
    "end": "1831789"
  },
  {
    "text": "in my angular service let me with the",
    "start": "1831789",
    "end": "1839969"
  },
  {
    "text": "URL that my service endpoint has generated so this is everything I need",
    "start": "1839969",
    "end": "1845739"
  },
  {
    "text": "to do to replace an existing back-end with the service one and now if i",
    "start": "1845739",
    "end": "1851739"
  },
  {
    "text": "refresh the page on the takos UI boomer i'm gonna act surprised it looks like we",
    "start": "1851739",
    "end": "1861969"
  },
  {
    "start": "1861000",
    "end": "1946000"
  },
  {
    "text": "have caused issues so then the next question is yeah we are accessing from a different domain",
    "start": "1861969",
    "end": "1868239"
  },
  {
    "text": "so we have to set up course so the next thing that we have to do is go ahead and do that in our service application and",
    "start": "1868239",
    "end": "1876749"
  },
  {
    "text": "to set up course I have to I can do that in local that settings that JSON right",
    "start": "1876749",
    "end": "1884709"
  },
  {
    "text": "here I have this host property which",
    "start": "1884709",
    "end": "1891729"
  },
  {
    "text": "enables me to define course so this is how I would enable course in my local",
    "start": "1891729",
    "end": "1898839"
  },
  {
    "text": "and then in order to we can do that in the portal as well where we can define course but let's see if this works now",
    "start": "1898839",
    "end": "1908729"
  },
  {
    "text": "so the the function is running if i refresh the page fantastic its retrieved",
    "start": "1913080",
    "end": "1922210"
  },
  {
    "text": "data from our database and I can run the exact same test where I modify one of",
    "start": "1922210",
    "end": "1927250"
  },
  {
    "text": "the fields and the database and then refresh the page here but it doesn't it's not as useful anymore you've seen",
    "start": "1927250",
    "end": "1933820"
  },
  {
    "text": "that it works so then the next thing that we want to do everything works in our local we actually want to deploy",
    "start": "1933820",
    "end": "1939880"
  },
  {
    "text": "this to the clock right so that it's accessible to those million users that would want to use our application and as",
    "start": "1939880",
    "end": "1947260"
  },
  {
    "start": "1946000",
    "end": "2049000"
  },
  {
    "text": "I mentioned the azure functions extension allows us to go ahead and",
    "start": "1947260",
    "end": "1953170"
  },
  {
    "text": "deploy this application directly to the to the cloud I've clicked the blue arrow",
    "start": "1953170",
    "end": "1959650"
  },
  {
    "text": "there and then I already have a function app that I've created and I can select",
    "start": "1959650",
    "end": "1964750"
  },
  {
    "text": "that so that I can deploy my code there but as you can see here there's a warning it's asking me whether I really",
    "start": "1964750",
    "end": "1971290"
  },
  {
    "text": "want to deploy this application this will overwrite existing code as one of",
    "start": "1971290",
    "end": "1977170"
  },
  {
    "text": "our colleagues and friends says friends don't let other friends right click",
    "start": "1977170",
    "end": "1982180"
  },
  {
    "text": "deploy right because this is danger zone even if you're working by yourself this",
    "start": "1982180",
    "end": "1987250"
  },
  {
    "text": "is gonna be a problem whether you want to keep version control you want to keep versions of your code you want to make",
    "start": "1987250",
    "end": "1994000"
  },
  {
    "text": "sure you're not overwriting everything and it's not retrievable so I'm gonna cancel this and I'm gonna show you one",
    "start": "1994000",
    "end": "2001200"
  },
  {
    "text": "neat thing that I've learned this weekend so I've been struggling with arm templates how many of you have used arm",
    "start": "2001200",
    "end": "2007260"
  },
  {
    "text": "templates as your resource manager template basically infrastructure as a",
    "start": "2007260",
    "end": "2012750"
  },
  {
    "text": "code so with arm templates we can actually define all the resources that",
    "start": "2012750",
    "end": "2018870"
  },
  {
    "text": "we are using whenever we're creating a function app and it's repeatable and reusable deployments I've been trying",
    "start": "2018870",
    "end": "2027210"
  },
  {
    "text": "for a year to generate those arms for function apps and I've been failing successfully every single time but this",
    "start": "2027210",
    "end": "2033150"
  },
  {
    "text": "weekend it's worked so I'm gonna show you how to do that there's another extension that can help you with this",
    "start": "2033150",
    "end": "2038910"
  },
  {
    "text": "it's called agile resource manager tools and if you have it installed in your vs",
    "start": "2038910",
    "end": "2044390"
  },
  {
    "text": "code the first thing that you can do is search the agile resource manager",
    "start": "2044390",
    "end": "2052010"
  },
  {
    "start": "2049000",
    "end": "2117000"
  },
  {
    "text": "template quick starts on github so there's a repository on github with hundreds of templates to generate these",
    "start": "2052010",
    "end": "2060560"
  },
  {
    "text": "resources and the I have to enter a search term so that it knows what kind",
    "start": "2060560",
    "end": "2067610"
  },
  {
    "text": "of template I'm looking for and I've searched for function and I can create I can use a template that creates a",
    "start": "2067610",
    "end": "2073850"
  },
  {
    "text": "dedicated plan which is the app service and it's the monthly bill we don't want",
    "start": "2073850",
    "end": "2078919"
  },
  {
    "text": "that we want the dynamic plan so I'm selecting the dynamic one and it's",
    "start": "2078919",
    "end": "2085129"
  },
  {
    "text": "created a new folder and templates with the name of the function and then in",
    "start": "2085130",
    "end": "2091179"
  },
  {
    "text": "parameters I can define the name I can define a parameter for what we'll see in",
    "start": "2091179",
    "end": "2097400"
  },
  {
    "text": "the next file but let's say NDC London five so this is this string is gonna be",
    "start": "2097400",
    "end": "2104870"
  },
  {
    "text": "part of our URL which is available globally so it has to be unique that's",
    "start": "2104870",
    "end": "2110060"
  },
  {
    "text": "why I use NDC London five I already deployed a couple of them so I'm saving",
    "start": "2110060",
    "end": "2115520"
  },
  {
    "text": "this and then looking at Azure deploy that Jason this is where the magic",
    "start": "2115520",
    "end": "2121810"
  },
  {
    "start": "2117000",
    "end": "2226000"
  },
  {
    "text": "happens this is where we define we declare the resources that we want to",
    "start": "2121810",
    "end": "2126860"
  },
  {
    "text": "deploy and right here in this code we have a Jason outline and this is gonna walk us",
    "start": "2126860",
    "end": "2133820"
  },
  {
    "text": "through the main elements of a a sure deploy file so the first thing that we",
    "start": "2133820",
    "end": "2139460"
  },
  {
    "text": "can we have to define in a template RM template is the schema this jason is",
    "start": "2139460",
    "end": "2145490"
  },
  {
    "text": "going to be validated against the schema to tell us whether what we're about to deploy is correct or not the next thing",
    "start": "2145490",
    "end": "2152390"
  },
  {
    "text": "is the content version this is where we version the template so this is our version the list of parameters this is",
    "start": "2152390",
    "end": "2160070"
  },
  {
    "text": "what we're going to use in order to make things dynamic so imagine here we have",
    "start": "2160070",
    "end": "2167960"
  },
  {
    "text": "one of the parameters is the app name I'm actually going to show you",
    "start": "2167960",
    "end": "2173110"
  },
  {
    "text": "this with something even faster so having that as you're deployed up JSON",
    "start": "2173110",
    "end": "2178810"
  },
  {
    "text": "file gives it this deploy to Azure button and when I click this it will",
    "start": "2178810",
    "end": "2185620"
  },
  {
    "text": "take me to a page where I can input those parameters so in this case it's a",
    "start": "2185620",
    "end": "2190660"
  },
  {
    "text": "UI because I want to allow this to anyone that goes to my github page I",
    "start": "2190660",
    "end": "2197110"
  },
  {
    "text": "want to allow them to create new applications and you can see here that I can select the subscription the research",
    "start": "2197110",
    "end": "2204250"
  },
  {
    "text": "group that I want to deploy this to and the location but then there's also a plain DB user DB password these are",
    "start": "2204250",
    "end": "2210850"
  },
  {
    "text": "parameters that I want to define in my deployment template today whenever I'm",
    "start": "2210850",
    "end": "2216280"
  },
  {
    "text": "redeploying this I I want to I need to specify a different app name does that",
    "start": "2216280",
    "end": "2222370"
  },
  {
    "text": "make sense yeah okay cool another thing that I can deploy I can",
    "start": "2222370",
    "end": "2229390"
  },
  {
    "text": "configure is the storage account type and you can see a cool thing is that I can define default values so if nobody",
    "start": "2229390",
    "end": "2236290"
  },
  {
    "text": "specified these parameters I can I can give a default value so that so that",
    "start": "2236290",
    "end": "2242350"
  },
  {
    "text": "people don't have to enter these and also allowed values so that's super cool",
    "start": "2242350",
    "end": "2247900"
  },
  {
    "text": "as well the next thing that we can define here is variables so these are",
    "start": "2247900",
    "end": "2255130"
  },
  {
    "text": "things that we're going to reuse throughout our template there I'm not necessarily immutable but these they're",
    "start": "2255130",
    "end": "2262090"
  },
  {
    "text": "not gonna change and we're gonna want to use location in multiple for example location and multiple multiple parts of",
    "start": "2262090",
    "end": "2268210"
  },
  {
    "text": "our our template and we don't want to execute these functions for example resource group that ID we can execute",
    "start": "2268210",
    "end": "2275170"
  },
  {
    "text": "this function we don't want to execute it throughout our template and then resources this is where the actual",
    "start": "2275170",
    "end": "2282040"
  },
  {
    "text": "description of the resources that we need to deploy our define is defined so",
    "start": "2282040",
    "end": "2288190"
  },
  {
    "text": "you can see here that I need to in order to deploy a function we need a storage account where our code will will leave",
    "start": "2288190",
    "end": "2294210"
  },
  {
    "text": "we also need the app service plan which is what we use for building an app",
    "start": "2294210",
    "end": "2302110"
  },
  {
    "text": "service which is where our code is going to be deployed and I think that's all so here we're",
    "start": "2302110",
    "end": "2309559"
  },
  {
    "text": "defining the storage account but I'm gonna walk through this but before while",
    "start": "2309559",
    "end": "2315920"
  },
  {
    "text": "we're walking through the templates we can go ahead and deploy the function",
    "start": "2315920",
    "end": "2322490"
  },
  {
    "text": "that I have in my local and I can do that with the the same the same",
    "start": "2322490",
    "end": "2328270"
  },
  {
    "text": "extension which is the natural resource tool manager something-something deploy",
    "start": "2328270",
    "end": "2333920"
  },
  {
    "text": "one of the Asha resource manager templates in your workspace that's the option that I care about and it says",
    "start": "2333920",
    "end": "2340730"
  },
  {
    "text": "that I have to log in first so as your login it's giving me this annoying",
    "start": "2340730",
    "end": "2347059"
  },
  {
    "text": "interactive thing I have to paste in the code continue and I'm now logged in",
    "start": "2347059",
    "end": "2354309"
  },
  {
    "text": "awesome so now if I try again deploy I'm",
    "start": "2354309",
    "end": "2361280"
  },
  {
    "text": "selecting the current folder where I have to find the template and then I will use an existing resource group",
    "start": "2361280",
    "end": "2368500"
  },
  {
    "text": "which is MVC London which I've created previously and if I go to my portal to",
    "start": "2368500",
    "end": "2377390"
  },
  {
    "text": "the list of resource groups and search for MVC London we're going to",
    "start": "2377390",
    "end": "2385880"
  },
  {
    "text": "immediately see that I've successfully deployed two deployments and then I have",
    "start": "2385880",
    "end": "2393140"
  },
  {
    "text": "one that's in progress so I'm gonna click on that one and I can monitor or",
    "start": "2393140",
    "end": "2398150"
  },
  {
    "text": "all the resources that are being deployed for me we can see here that a storage account has been deployed a",
    "start": "2398150",
    "end": "2404960"
  },
  {
    "text": "server forum that's the app service plan and I can even see operation details so",
    "start": "2404960",
    "end": "2411079"
  },
  {
    "text": "some of the logs that are available for us here and while that's happening we",
    "start": "2411079",
    "end": "2418670"
  },
  {
    "start": "2416000",
    "end": "2530000"
  },
  {
    "text": "can look at these these definitions where I'm basically saying that I want",
    "start": "2418670",
    "end": "2425930"
  },
  {
    "text": "to deploy Microsoft app service plan this is Microsoft websites and the name",
    "start": "2425930",
    "end": "2432799"
  },
  {
    "text": "is going to be the function app name that we've used we've defined earlier the location we're gonna retrieve that",
    "start": "2432799",
    "end": "2440560"
  },
  {
    "text": "from parameters its of type function app and we can also define what it depends",
    "start": "2440560",
    "end": "2447340"
  },
  {
    "text": "on so this means that when we're deploying those resources those are the ones that are going to be deployed",
    "start": "2447340",
    "end": "2452830"
  },
  {
    "text": "before our site here and we can define",
    "start": "2452830",
    "end": "2458020"
  },
  {
    "text": "properties and in fact this is not gonna work because I messed up the template",
    "start": "2458020",
    "end": "2464110"
  },
  {
    "text": "that we can generate using the extension is using the older version of functions",
    "start": "2464110",
    "end": "2472320"
  },
  {
    "text": "which is one and an older version of node so I've I've put in a PR this",
    "start": "2472380",
    "end": "2479620"
  },
  {
    "text": "weekend on to update these but it hasn't been accepted yet so so this is where we",
    "start": "2479620",
    "end": "2486040"
  },
  {
    "text": "we specify those app settings this is where we're gonna add our user connection string this is where we're",
    "start": "2486040",
    "end": "2492730"
  },
  {
    "text": "gonna add anything that's that's sensitive so let's see if this has been",
    "start": "2492730",
    "end": "2501180"
  },
  {
    "text": "deployed yes that's it has been deployed we're gonna have to update the",
    "start": "2501180",
    "end": "2507520"
  },
  {
    "text": "application settings and the way we're doing that is I can go into the portal",
    "start": "2507520",
    "end": "2514210"
  },
  {
    "text": "and instead of using six point five point zero I'm actually going to use eight eleven one which is the latest",
    "start": "2514210",
    "end": "2523870"
  },
  {
    "text": "node version and also the extension it has to be two instead of one so see all",
    "start": "2523870",
    "end": "2530470"
  },
  {
    "text": "the app settings that we had in our arm template there JSON template they're reflected in the in the portal here and",
    "start": "2530470",
    "end": "2537690"
  },
  {
    "text": "I didn't have to do that manually that's why I think the these arm templates are so powerful I love them so I've saved",
    "start": "2537690",
    "end": "2546580"
  },
  {
    "text": "this and if I go to the overview page I should be able to see the URL and it",
    "start": "2546580",
    "end": "2557590"
  },
  {
    "text": "tells me that the function is up and running but actually we have no code here right because we only deployed so",
    "start": "2557590",
    "end": "2564010"
  },
  {
    "text": "that arm template it's only describing the infrastructure or the the resources that we need so that we",
    "start": "2564010",
    "end": "2571130"
  },
  {
    "text": "can deploy that code to it so we know our function app is running the next",
    "start": "2571130",
    "end": "2578180"
  },
  {
    "text": "step is deploying our code and I can deploy my code using the right-click deployment but what would be even more",
    "start": "2578180",
    "end": "2585500"
  },
  {
    "text": "interesting if was if I had my code in a github account in a github repository",
    "start": "2585500",
    "end": "2591110"
  },
  {
    "text": "and then connect a CI CD pipeline to always push my code to this particular",
    "start": "2591110",
    "end": "2597440"
  },
  {
    "text": "function app whenever I make a change so I already have my code in on github",
    "start": "2597440",
    "end": "2606620"
  },
  {
    "text": "it's the repository you've seen earlier so what I'm gonna do is I'm gonna go to Azure DevOps",
    "start": "2606620",
    "end": "2612740"
  },
  {
    "start": "2610000",
    "end": "2666000"
  },
  {
    "text": "so that's dev - sure calm and I can configure a build pipeline right here so",
    "start": "2612740",
    "end": "2621220"
  },
  {
    "text": "in pipelines I have this builds screen and I can create a new build and it's",
    "start": "2621220",
    "end": "2629120"
  },
  {
    "text": "gonna ask me where do you want to deploy your code from I want to deploy it from github and I want to use an existing",
    "start": "2629120",
    "end": "2635030"
  },
  {
    "text": "connection that's basically telling I've authorized user' DevOps to read code from my github account and then I want",
    "start": "2635030",
    "end": "2642980"
  },
  {
    "text": "to deploy this node bin our repository and my repository already has this",
    "start": "2642980",
    "end": "2649660"
  },
  {
    "text": "pipelines that llamo file so you can see here that I can define my build pipeline",
    "start": "2649660",
    "end": "2655010"
  },
  {
    "text": "using UML configuration you can also use a UI for that I much rather have it in",
    "start": "2655010",
    "end": "2662210"
  },
  {
    "text": "code because this way it's versioned as well so in this as your pipelines the ml",
    "start": "2662210",
    "end": "2667280"
  },
  {
    "start": "2666000",
    "end": "2820000"
  },
  {
    "text": "file I define what kind of image I want to use to run my code and then to run my",
    "start": "2667280",
    "end": "2676100"
  },
  {
    "text": "build I want to also run npm install remember in our code we depend on MongoDB so we need to install that",
    "start": "2676100",
    "end": "2683180"
  },
  {
    "text": "package and then what I want to do is archive my code together with my",
    "start": "2683180",
    "end": "2688460"
  },
  {
    "text": "packages and this is a task that's predefined in Azure DevOps this is the",
    "start": "2688460",
    "end": "2694220"
  },
  {
    "text": "name of the task this is the display name the step that were executing right now",
    "start": "2694220",
    "end": "2700880"
  },
  {
    "text": "and then the next thing that I want to do is publish that zip file to a location in my Azure DevOps",
    "start": "2700880",
    "end": "2708369"
  },
  {
    "text": "environment and I'm gonna run this and",
    "start": "2708369",
    "end": "2714200"
  },
  {
    "text": "this will take me to a page to a dashboard where I can I can see all",
    "start": "2714200",
    "end": "2720829"
  },
  {
    "text": "these steps that get executing executed and there's a couple of things that we",
    "start": "2720829",
    "end": "2726980"
  },
  {
    "text": "can see on this screen how many you have used VSDs before fantastic this is the",
    "start": "2726980",
    "end": "2732380"
  },
  {
    "text": "equivalent of VST as the newer version is called DevOps pipelines and there's a",
    "start": "2732380",
    "end": "2739910"
  },
  {
    "text": "couple of things on this screen so we can see first that's the last commit message that I've the message for my",
    "start": "2739910",
    "end": "2748250"
  },
  {
    "text": "last comment on this repository then you can see who made this commit we also",
    "start": "2748250",
    "end": "2753290"
  },
  {
    "text": "have a link to the actual repository where we're reading data from we have",
    "start": "2753290",
    "end": "2759609"
  },
  {
    "text": "predefined the branch that we're using and the commit number or hash and then",
    "start": "2759609",
    "end": "2766609"
  },
  {
    "text": "you can see the steps that we've defined earlier with their names so here npm install' archive files how",
    "start": "2766609",
    "end": "2774440"
  },
  {
    "text": "long that particular step takes we also have access to the actual logs so here I",
    "start": "2774440",
    "end": "2781160"
  },
  {
    "text": "can inspect if something goes wrong I can actually have a look what what happened or what kind of commands have",
    "start": "2781160",
    "end": "2786920"
  },
  {
    "text": "been executed so now the green tick here is it means that this step has finished",
    "start": "2786920",
    "end": "2794440"
  },
  {
    "text": "whereas the blue one it means that it's still running it's in progress",
    "start": "2794440",
    "end": "2799490"
  },
  {
    "text": "another cool thing that we can see is the number of seconds that we spent during this build it's useful because if",
    "start": "2799490",
    "end": "2807349"
  },
  {
    "text": "you run this build for every single commit and at some point something bad happens it will take longer so you have",
    "start": "2807349",
    "end": "2813890"
  },
  {
    "text": "a history of how long your bill takes and you can spot anomalies there but",
    "start": "2813890",
    "end": "2820130"
  },
  {
    "text": "from here so this is just building our project on every single commit that I make on github it will trigger this",
    "start": "2820130",
    "end": "2826310"
  },
  {
    "text": "build but our goal is to actually deploy our code into the cloud right so I've",
    "start": "2826310",
    "end": "2831980"
  },
  {
    "text": "clicked on release their I hope you've seen yeah and I from my build I will be able to",
    "start": "2831980",
    "end": "2840839"
  },
  {
    "text": "create release as well and this is of type app service deployment and in order",
    "start": "2840839",
    "end": "2849539"
  },
  {
    "text": "to define the properties here I'm gonna have to use a subscription so in my this",
    "start": "2849539",
    "end": "2857609"
  },
  {
    "text": "is my subscription and then the type of app that I want to deploy to is the function app and then I want to deploy",
    "start": "2857609",
    "end": "2864839"
  },
  {
    "text": "what's the name of the function app that I want to deploy to so remember we've created NDC London so now I want to",
    "start": "2864839",
    "end": "2871470"
  },
  {
    "text": "deploy my code to that NDC London cobalt",
    "start": "2871470",
    "end": "2879020"
  },
  {
    "text": "and it's loading takes a while d5 is",
    "start": "2879020",
    "end": "2890910"
  },
  {
    "text": "that very perfect thank you okay so I'm saving this and now I want to release it",
    "start": "2890910",
    "end": "2899210"
  },
  {
    "text": "so it's using the artifact that's been created with the build and I can go into",
    "start": "2899210",
    "end": "2906450"
  },
  {
    "text": "this release and see again what's happening right there so if everything",
    "start": "2906450",
    "end": "2915150"
  },
  {
    "text": "here works correctly my code will be deployed to the new function app but if",
    "start": "2915150",
    "end": "2922500"
  },
  {
    "text": "we look at the at the function app already that you might figure out that",
    "start": "2922500",
    "end": "2929670"
  },
  {
    "text": "there's one thing that we're missing anyone can guess what was that",
    "start": "2929670",
    "end": "2938360"
  },
  {
    "text": "there you go perfect so set there has the secret we are we are missing the",
    "start": "2938360",
    "end": "2945230"
  },
  {
    "text": "secrets right because we configured them in our local but local that settings",
    "start": "2945230",
    "end": "2950510"
  },
  {
    "text": "that Jason where we have the details for connecting to our database are never",
    "start": "2950510",
    "end": "2955760"
  },
  {
    "text": "deployed to the cloud they stay in our local so now if I go into my list of",
    "start": "2955760",
    "end": "2961700"
  },
  {
    "text": "functions here I could either go to our portal but we could also do this from from the from vs code as well so if I",
    "start": "2961700",
    "end": "2971000"
  },
  {
    "text": "look here in DC London - if i refresh that's my previous deployment my",
    "start": "2971000",
    "end": "2978170"
  },
  {
    "text": "previous attempt now we have NDC London 5 so from here I can access the",
    "start": "2978170",
    "end": "2984140"
  },
  {
    "text": "application settings that we've seen earlier and we can see that we don't",
    "start": "2984140",
    "end": "2990170"
  },
  {
    "text": "have a user defined we don't have a password defined I hope I won't break",
    "start": "2990170",
    "end": "2998300"
  },
  {
    "text": "the release maybe I'll just wait for this to finish because this is pushing my code and if I edit application",
    "start": "2998300",
    "end": "3004840"
  },
  {
    "text": "settings I I'll mess up with the I think",
    "start": "3004840",
    "end": "3010890"
  },
  {
    "text": "but basically what I can do is I can add a new setting I can download remote",
    "start": "3010890",
    "end": "3018340"
  },
  {
    "text": "settings and I'm gonna do that because you can see here do I want to override",
    "start": "3018340",
    "end": "3027130"
  },
  {
    "text": "as your web storage yes you can see here that I have an instrumentation key for",
    "start": "3027130",
    "end": "3032440"
  },
  {
    "text": "monitoring applications and connection string to the azure storage and I don't",
    "start": "3032440",
    "end": "3038380"
  },
  {
    "text": "have that in my local so I want to download it and if I look at my local that setting that Jason we can see these",
    "start": "3038380",
    "end": "3044860"
  },
  {
    "text": "new new settings",
    "start": "3044860",
    "end": "3049560"
  },
  {
    "text": "while that's happening I'll go back to the applique to the function itself we",
    "start": "3055990",
    "end": "3062240"
  },
  {
    "start": "3057000",
    "end": "3489000"
  },
  {
    "text": "can see here that no function has no code has been deployed I think now we might have access because it's taking a",
    "start": "3062240",
    "end": "3069440"
  },
  {
    "text": "while to read that code but from here from the overview page I have access to",
    "start": "3069440",
    "end": "3076550"
  },
  {
    "text": "application insights an application insight that's what we use to monitor",
    "start": "3076550",
    "end": "3082220"
  },
  {
    "text": "our function so there's this screen that I absolutely love that's the live",
    "start": "3082220",
    "end": "3089240"
  },
  {
    "text": "metrics screen and I'm gonna this is gonna give me a real-time information about what's happening with that with",
    "start": "3089240",
    "end": "3095960"
  },
  {
    "text": "our function and right now this is a very bad screen where it's well it says",
    "start": "3095960",
    "end": "3101780"
  },
  {
    "text": "that my app is offline and that's that's the case because we have just released code to it so let me see if that",
    "start": "3101780",
    "end": "3108920"
  },
  {
    "text": "finished so we've succeeded and I want",
    "start": "3108920",
    "end": "3115400"
  },
  {
    "text": "to go back to our function and DC and we",
    "start": "3115400",
    "end": "3123380"
  },
  {
    "text": "can see our function our code has been deployed here I can retrieve the URL",
    "start": "3123380",
    "end": "3130700"
  },
  {
    "text": "from this particular UI so gate function URL I can copy it here and if I try to",
    "start": "3130700",
    "end": "3135890"
  },
  {
    "text": "access it because we don't have our secrets it will give me an error saying",
    "start": "3135890",
    "end": "3141080"
  },
  {
    "text": "that an error has occurred and now I on my application screen already we can see",
    "start": "3141080",
    "end": "3147350"
  },
  {
    "text": "that request that's coming in so let's go ahead and now upload local settings",
    "start": "3147350",
    "end": "3154480"
  },
  {
    "text": "to our cloud and this has it will add our user in our password so now if i",
    "start": "3154480",
    "end": "3162410"
  },
  {
    "text": "refresh this page it should give me data",
    "start": "3162410",
    "end": "3167620"
  },
  {
    "text": "from our database fingers crossed",
    "start": "3167620",
    "end": "3174430"
  },
  {
    "text": "this is usually not a good sign or it is",
    "start": "3175680",
    "end": "3183819"
  },
  {
    "text": "so this is data from coming from cosmos TV and we can see the live metrics here",
    "start": "3183819",
    "end": "3192640"
  },
  {
    "text": "the second request which was successful and I want to show you one last thing",
    "start": "3192640",
    "end": "3198328"
  },
  {
    "text": "how many of you have used the artillery",
    "start": "3198779",
    "end": "3204519"
  },
  {
    "text": "are you familiar with artillery MPM package it artillery it's use is used",
    "start": "3204519",
    "end": "3210369"
  },
  {
    "text": "for load testing so what I can do with artillery is now make a dozen of",
    "start": "3210369",
    "end": "3216490"
  },
  {
    "text": "requests to add your functions and show you how we can see the requests coming",
    "start": "3216490",
    "end": "3223299"
  },
  {
    "text": "in and right now we can see that here we have one server online but if I go ahead",
    "start": "3223299",
    "end": "3229240"
  },
  {
    "text": "and I'm actually gonna copy this so you",
    "start": "3229240",
    "end": "3235180"
  },
  {
    "text": "can install our artillery from NPM and this is gonna start a quick test which",
    "start": "3235180",
    "end": "3241930"
  },
  {
    "text": "will run 10 requests and from 20 users at the same time and I have to pass it",
    "start": "3241930",
    "end": "3248019"
  },
  {
    "text": "and the URL itself",
    "start": "3248019",
    "end": "3251549"
  },
  {
    "text": "let me go to my okay so we can see the requests coming in the number of servers",
    "start": "3256690",
    "end": "3261930"
  },
  {
    "text": "increasing so this is scaling and also if someone tells you that there's no",
    "start": "3261930",
    "end": "3267309"
  },
  {
    "text": "servers in several is you just take them to the screen and then we will see it happening you also have access to the",
    "start": "3267309",
    "end": "3275260"
  },
  {
    "text": "super name and how many requests per seconds are coming in to a certain instance running our code and this is",
    "start": "3275260",
    "end": "3284559"
  },
  {
    "text": "their output from artillery so I think",
    "start": "3284559",
    "end": "3290170"
  },
  {
    "text": "this is everything I have the last thing",
    "start": "3290170",
    "end": "3295780"
  },
  {
    "text": "that I actually want to show you probably you've noticed that when where",
    "start": "3295780",
    "end": "3300819"
  },
  {
    "text": "we have our cloud our function in the cloud the URL says recipes it doesn't",
    "start": "3300819",
    "end": "3306760"
  },
  {
    "text": "say read recipes the way we configured that is in our function that JSON file",
    "start": "3306760",
    "end": "3316079"
  },
  {
    "text": "we can define a route so here you can",
    "start": "3316079",
    "end": "3322359"
  },
  {
    "text": "see that we can configure the method that we're listening to which is here is get but we can also configure route so",
    "start": "3322359",
    "end": "3329589"
  },
  {
    "text": "here we're saying that we don't we want to override the name that we've given the function and we want to configure it",
    "start": "3329589",
    "end": "3336130"
  },
  {
    "text": "to read from recipes to make to add",
    "start": "3336130",
    "end": "3341170"
  },
  {
    "text": "recipes to that okay so I think this is",
    "start": "3341170",
    "end": "3346240"
  },
  {
    "text": "a success this is definitely the demo gods have helped me what have we managed to do today we've managed to understand",
    "start": "3346240",
    "end": "3354849"
  },
  {
    "text": "what service is kind of we've managed to create a new project in our local using",
    "start": "3354849",
    "end": "3360279"
  },
  {
    "text": "vs code and the vs code as your functions extension we've also managed",
    "start": "3360279",
    "end": "3366130"
  },
  {
    "text": "to create a new arm template infrastructure as code and we've",
    "start": "3366130",
    "end": "3371740"
  },
  {
    "text": "deployed the new function app and the function using arm template we've also",
    "start": "3371740",
    "end": "3376779"
  },
  {
    "text": "configured the ICD so using Azure DevOps we have we are now pushing codes to our",
    "start": "3376779",
    "end": "3383859"
  },
  {
    "text": "new function on every single change that we make to our repository and we've also seen how",
    "start": "3383859",
    "end": "3390130"
  },
  {
    "text": "we can use application insights to monitor traffic that comes into our",
    "start": "3390130",
    "end": "3396040"
  },
  {
    "text": "function and obviously this will give us so it will give us information about whenever errors happen into our",
    "start": "3396040",
    "end": "3403570"
  },
  {
    "text": "application as well so far everything has been successfully lucky me so we haven't seen that but you can use",
    "start": "3403570",
    "end": "3409690"
  },
  {
    "text": "this screen for that as well if you're looking to learn more about Asha",
    "start": "3409690",
    "end": "3416440"
  },
  {
    "text": "functions oops about Asha functions and server",
    "start": "3416440",
    "end": "3424330"
  },
  {
    "text": "list in general and as your pipelines have go to the these links you'll find a",
    "start": "3424330",
    "end": "3430480"
  },
  {
    "text": "lot of documentation I highly recommend you check out Microsoft's third and serverless those are modules they're",
    "start": "3430480",
    "end": "3437290"
  },
  {
    "text": "basically self-paced modules where you can go in a sandbox the cloud shell will",
    "start": "3437290",
    "end": "3445450"
  },
  {
    "text": "be spun up for you and you can execute commands there and you can learn about server list you'll get points as well",
    "start": "3445450",
    "end": "3451920"
  },
  {
    "text": "and it's for free so you don't need an azure subscription you can run your code",
    "start": "3451920",
    "end": "3457600"
  },
  {
    "text": "there as well and if you want stickers I have some here so feel free to pop and",
    "start": "3457600",
    "end": "3464010"
  },
  {
    "text": "thank you so much [Applause]",
    "start": "3464010",
    "end": "3475409"
  }
]