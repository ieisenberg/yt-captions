[
  {
    "text": "good morning everyone welcome to the Friday sessions of NDC the last day thanks for sticking",
    "start": "1319",
    "end": "7399"
  },
  {
    "text": "around on know these multi-day conferences go on the attendance seems to drop off so you know thanks for thanks for sticking around so long and",
    "start": "7399",
    "end": "13599"
  },
  {
    "text": "specifically thank you for coming to this session in this session we're going to be talking about the top five ways to",
    "start": "13599",
    "end": "18800"
  },
  {
    "text": "make the worst microservice system ever and hopefully with a clickbait title you kind of got the idea that this is going",
    "start": "18800",
    "end": "24240"
  },
  {
    "text": "to be a bit of fun we're going to have a good time some of us will laugh some of us might cry as we see parts of our systems in these techniqu",
    "start": "24240",
    "end": "31240"
  },
  {
    "text": "um but hopefully it'll be a good time I'm very passionate about building bad systems so I hope that some of that",
    "start": "31240",
    "end": "37520"
  },
  {
    "text": "passion comes through and elevat energizes the room a little bit so that maybe if you spent a little too long at the cocktail party last night you'll",
    "start": "37520",
    "end": "44320"
  },
  {
    "text": "leave in a better mood than you came in it I quite like this picture as a visual",
    "start": "44320",
    "end": "49600"
  },
  {
    "text": "representation of microservices uh the contrast isn't great but it's a it's a gentleman on a scooter and you can tell he's going really fast because there's a",
    "start": "49600",
    "end": "56120"
  },
  {
    "text": "motion blurred background behind him um just like microservices they they let you move fast and you can be agile and",
    "start": "56120",
    "end": "62160"
  },
  {
    "text": "you can respond to changes uh you'll also see that he doesn't have any bloat on him he's only got the essentials his",
    "start": "62160",
    "end": "68200"
  },
  {
    "text": "uh his shoes his clothes his backpack his hair that I'm totally not envious of at all um but he doesn't have any bloat",
    "start": "68200",
    "end": "75439"
  },
  {
    "text": "on him such as I don't know uh knee guards or elbow pads or protective head gear of any kind um and that in",
    "start": "75439",
    "end": "82520"
  },
  {
    "text": "conjunction with this High center of gravity and the low pivot point of the scooter means he's only one bump in the road away from permanent brain damage",
    "start": "82520",
    "end": "89320"
  },
  {
    "text": "just like microservices so who am I and why am I qualified to talk to you about building",
    "start": "89320",
    "end": "94960"
  },
  {
    "text": "bad systems my name is William Brer uh my friends call me William and since",
    "start": "94960",
    "end": "100040"
  },
  {
    "text": "we've known each other for so long you we're all friends here now so you also get to call me William as you can see",
    "start": "100040",
    "end": "105320"
  },
  {
    "text": "from the mug I am the world's okayest programmer uh there are unfortunately three things that I don't like about",
    "start": "105320",
    "end": "110880"
  },
  {
    "text": "that mug the first is that the a program is tilted just a little to the side just",
    "start": "110880",
    "end": "116840"
  },
  {
    "text": "enough for me to notice when I'm drinking my tea or coffee the second is that the font is dangerously close to",
    "start": "116840",
    "end": "122719"
  },
  {
    "text": "Comic Sands but it's not actually comic Sands because that would be cool in a sort of ironic way this is just a cheap knock or font um and the third is that",
    "start": "122719",
    "end": "130160"
  },
  {
    "text": "unfortunately the mug is unverified I know it it may come as a surprise but there was not in fact a worldwide",
    "start": "130160",
    "end": "136239"
  },
  {
    "text": "programability survey done where they assess the ability of every program around the world and decided I was the",
    "start": "136239",
    "end": "142879"
  },
  {
    "text": "okayest unfortunately that didn't happen so even though I'm in possession of the mug it doesn't confer upon me the",
    "start": "142879",
    "end": "148480"
  },
  {
    "text": "official title of world's K programmer so to look for some more evidence of my okayness I went to see",
    "start": "148480",
    "end": "154400"
  },
  {
    "text": "what my co-workers were saying about me um and as you can see in our company slack they they don't think I'm the",
    "start": "154400",
    "end": "160319"
  },
  {
    "text": "worst programmer at least but they definitely don't think I'm the best programmer but what has been an okay",
    "start": "160319",
    "end": "166159"
  },
  {
    "text": "program I have to do with anything well being okay means that I've written some good systems and some bad systems in my",
    "start": "166159",
    "end": "171800"
  },
  {
    "text": "career but I'm pretty sure we all think that we've written some good and some bad does anybody El think they've never written a bad",
    "start": "171800",
    "end": "177480"
  },
  {
    "text": "system if if you're hiring now is a time when you need to look for Hands by the way there's there's a couple in the back",
    "start": "177480",
    "end": "183640"
  },
  {
    "text": "there so what do I bring to the table what can I offer you that will elevate my expertise in building bad systems to",
    "start": "183640",
    "end": "190360"
  },
  {
    "text": "and take it to the next level well that's got to do with who I work for and I've got to be very careful how I phrase this because just because I work for",
    "start": "190360",
    "end": "196440"
  },
  {
    "text": "them doesn't mean that we write bad systems I work for a company called particular software and particular",
    "start": "196440",
    "end": "201680"
  },
  {
    "text": "software makes n service bus which is a framework and corresponding set of libraries and tools that help Net",
    "start": "201680",
    "end": "207720"
  },
  {
    "text": "developers distribute their systems so whether you want to do that to achieve microservices or you want to do high",
    "start": "207720",
    "end": "212920"
  },
  {
    "text": "availability or service oriented architecture whatever the reason n Service Plus can help.net developers do",
    "start": "212920",
    "end": "218599"
  },
  {
    "text": "that successfully the thing with working for particular is that there's no distinction between the engineering team",
    "start": "218599",
    "end": "224200"
  },
  {
    "text": "and the support team so if you work on N service bus you support n service bus",
    "start": "224200",
    "end": "229280"
  },
  {
    "text": "and I do a lot of support because honestly it's one of the more fun things that I get to do in my job because you get to see a lot of different types of",
    "start": "229280",
    "end": "235360"
  },
  {
    "text": "systems applied in a lot of different environments in a lot of different ways and a lot of different scales with one",
    "start": "235360",
    "end": "241400"
  },
  {
    "text": "might think a lot of different quality levels of each of these systems but here's a thing about system",
    "start": "241400",
    "end": "246799"
  },
  {
    "text": "quality if you assume that the quality of systems around the world so we take all the systems around the world and we",
    "start": "246799",
    "end": "252720"
  },
  {
    "text": "rank them in terms of quality you might think that it would follow something like a normal distribution where on the",
    "start": "252720",
    "end": "257799"
  },
  {
    "text": "one side you'd have very few systems that are exceptionally high quality these are pristine works of art we",
    "start": "257799",
    "end": "263199"
  },
  {
    "text": "should be preserving these systems and studying them for decades to come on the Other Extreme you might think there'd be",
    "start": "263199",
    "end": "268600"
  },
  {
    "text": "a few systems that are absolutely atrocious and we should probably be studying them for decades to come as well but for a very different reason to",
    "start": "268600",
    "end": "274880"
  },
  {
    "text": "those and then you would think that most systems sort of fall into the okay system quality category but when you do",
    "start": "274880",
    "end": "281639"
  },
  {
    "text": "in support the people that have got the good systems don't come to you and ask for help because they don't need it",
    "start": "281639",
    "end": "287360"
  },
  {
    "text": "everything's going great the people that have got the okay systems don't come to you very often for support because",
    "start": "287360",
    "end": "293000"
  },
  {
    "text": "generally things are just going okay you know they're doing just fine so the",
    "start": "293000",
    "end": "298240"
  },
  {
    "text": "types of systems that I see when do support are the ones down here the ones where there have been some bad decisions",
    "start": "298240",
    "end": "303639"
  },
  {
    "text": "that have been made system has been architectured poorly things are going wrong and they need help and after",
    "start": "303639",
    "end": "309240"
  },
  {
    "text": "seeing a lot of these types of systems eventually you start picking out some common themes among these systems and",
    "start": "309240",
    "end": "314560"
  },
  {
    "text": "that's what we're going to talk about today in fact because I only see systems in this section of the system quality",
    "start": "314560",
    "end": "321319"
  },
  {
    "text": "graph as far as I'm concerned the distribution of system quality doesn't look like this as far as I'm concerned",
    "start": "321319",
    "end": "327080"
  },
  {
    "text": "everything is skewed down to the awful side and we should feel ashamed as an industry of what we're doing to our customers especially given how much some",
    "start": "327080",
    "end": "333520"
  },
  {
    "text": "of us are able to charge them so microservices right why do we",
    "start": "333520",
    "end": "339479"
  },
  {
    "text": "microservice well the consultant answer is we would do microservice so that we can have independent deployability we",
    "start": "339479",
    "end": "345360"
  },
  {
    "text": "can have increase scalability we can decrease coupling we can blah blah blah blah blah blah blah nobody does",
    "start": "345360",
    "end": "352000"
  },
  {
    "text": "microservices for those reasons we do microservices because we don't want to do a monolith somehow as an industry we",
    "start": "352000",
    "end": "359000"
  },
  {
    "text": "have convinced ourselves that the two options are either microservices or monolith and on top of that monolith is",
    "start": "359000",
    "end": "365840"
  },
  {
    "text": "bad that's like saying well okay which color are you going to use to paint the black or the white ignoring the fact",
    "start": "365840",
    "end": "371560"
  },
  {
    "text": "that there's many other colors out there and even if there were only the black and white you're also ignoring the fact that you can blend the black and the",
    "start": "371560",
    "end": "377680"
  },
  {
    "text": "white together to achieve Many Shades of Gray in between it's not a one or the other",
    "start": "377680",
    "end": "382720"
  },
  {
    "text": "discussion but somehow as an industry we have collectively decided monoliths are bad and you're only doing monoliths or",
    "start": "382720",
    "end": "389479"
  },
  {
    "text": "microservices nothing in between go progress uh some of these other answers",
    "start": "389479",
    "end": "395120"
  },
  {
    "text": "are quite fun though uh so why do you do microservices because you want to increase complexity and decrease",
    "start": "395120",
    "end": "400599"
  },
  {
    "text": "performance that's very very often the case it seems like sometimes we come in up with a most convoluted complicated",
    "start": "400599",
    "end": "407080"
  },
  {
    "text": "way to render little angle brackets down to a browser for HTML um someone wants to mend their",
    "start": "407080",
    "end": "413840"
  },
  {
    "text": "broken heart maybe maybe your heart's been hurting I don't know",
    "start": "413840",
    "end": "420120"
  },
  {
    "text": "so uh this picture on the left hand side is a picture of the kalash temple in India it is carved from a single Rock",
    "start": "420120",
    "end": "427199"
  },
  {
    "text": "making it the largest official man-made monolith in the world uh here's another",
    "start": "427199",
    "end": "432639"
  },
  {
    "text": "image of it a slightly different angle um you can see on the right hand side there's a few people standing there to give you an idea of the scale of this",
    "start": "432639",
    "end": "438840"
  },
  {
    "text": "thing this is this is a phenomenal work of human achievement like they they had to carve this by hand well I mean not by",
    "start": "438840",
    "end": "445680"
  },
  {
    "text": "hand they didn't claw away at the rocks with their their fingers they had tools but not like pneumatic tools or electric",
    "start": "445680",
    "end": "451039"
  },
  {
    "text": "tools or anything like that so this is a phenomenal bit of human achievement that we've done um the amount of work and",
    "start": "451039",
    "end": "458919"
  },
  {
    "text": "dedication that it must have taken to construct this monolith is amazing the Erp system that you've been working on",
    "start": "458919",
    "end": "464919"
  },
  {
    "text": "for 10 years doesn't even come close to the scale of engineering needed for this",
    "start": "464919",
    "end": "470599"
  },
  {
    "text": "they had to to to design this in order to construct it they had to start from the top down they had to carve everything away from the top everything",
    "start": "470599",
    "end": "476960"
  },
  {
    "text": "had to be planned in advance it was this is this is an amazing feet of human engineering that we've got you monoliths",
    "start": "476960",
    "end": "482599"
  },
  {
    "text": "can be beautiful it must have been a labor of love except for the people that worked on it they must have gotten real sick of",
    "start": "482599",
    "end": "489120"
  },
  {
    "text": "chising their way after the first 5 minutes in the hot Sun Also I can't help but wonder what",
    "start": "489120",
    "end": "494360"
  },
  {
    "text": "this would have looked like if it was built using scrum I guess we'll never know so for the rest of the talk we're",
    "start": "494360",
    "end": "501800"
  },
  {
    "text": "going to work with a single example and we're going to see how bad we can make this example so we're going to start with a monolith right and we're going to",
    "start": "501800",
    "end": "508400"
  },
  {
    "text": "transition this monolith to microservices and we're going to see how bad of a system we can get by taking",
    "start": "508400",
    "end": "513440"
  },
  {
    "text": "this to microservices and we're going to see if we can make this an awful experience to work with spoiler alert is",
    "start": "513440",
    "end": "518959"
  },
  {
    "text": "pretty bad straight from the first technique but we can get it really bad later on so because it's a monolith uh",
    "start": "518959",
    "end": "525120"
  },
  {
    "text": "remember our earlier discussion monoliths are bad so this must be a tire fire that we're working with now the",
    "start": "525120",
    "end": "530320"
  },
  {
    "text": "first technique we're going to use to transition away from the monolith into microservices is something known as the Strangler fig pattern I'm pretty sure",
    "start": "530320",
    "end": "536600"
  },
  {
    "text": "most of us have heard of the Strangler fig pattern by now but if you haven't what the Strangler fig pattern says is that when you want to transition",
    "start": "536600",
    "end": "542640"
  },
  {
    "text": "something to microservices you start by carving off bits of functionality and once you've taken that functionality you",
    "start": "542640",
    "end": "547720"
  },
  {
    "text": "can then extract it out to its separate service so we'll isolate a bit of internal functionality maybe something",
    "start": "547720",
    "end": "553600"
  },
  {
    "text": "like the charge credit card service once we've isolated that within our monolith we can then take that functionality and",
    "start": "553600",
    "end": "559360"
  },
  {
    "text": "move it to a separate micros service and then we can call that micros service instead of calling the code directly and",
    "start": "559360",
    "end": "566160"
  },
  {
    "text": "at this point we can we can Pat ourselves in the back because we have now achieved microservices uh and we can order a",
    "start": "566160",
    "end": "572040"
  },
  {
    "text": "pizza party or whatever business is doing for us these days to celebrate successes but what have we actually done",
    "start": "572040",
    "end": "578480"
  },
  {
    "text": "to our system performance so let's take a look at a graph and what we'll do is we'll we'll look at the throughput of the system and",
    "start": "578480",
    "end": "584800"
  },
  {
    "text": "how it changes based on the load of the system and we'll first start with the monolith so this is before we make any",
    "start": "584800",
    "end": "590360"
  },
  {
    "text": "changes to the system as we increase the load of our monolith we should expect the throughput of the monolith to",
    "start": "590360",
    "end": "596800"
  },
  {
    "text": "increase at a roughly linear rate now I don't mean one to one when I say linear I mean like some K value probably",
    "start": "596800",
    "end": "602640"
  },
  {
    "text": "between zero and one where as you increase the load by one the throughput will increase by x amount or k amount",
    "start": "602640",
    "end": "609200"
  },
  {
    "text": "whatever that is as we increase the load even more though there's a higher chance that",
    "start": "609200",
    "end": "614760"
  },
  {
    "text": "there's going to be contention of resources there's going to be more swapping of threads because it's taken a little bit longer for things to complete",
    "start": "614760",
    "end": "620360"
  },
  {
    "text": "we're doing more things per time unit but each of those things is going to start taking a little bit longer maybe there's roow locks that we've got",
    "start": "620360",
    "end": "627000"
  },
  {
    "text": "there's contention on resources so we start seeing a sort of tapering off of the increase in the throughput of",
    "start": "627000",
    "end": "633440"
  },
  {
    "text": "the system when the load gets to a certain point at some point though if we increase the the load of the system too",
    "start": "633440",
    "end": "639560"
  },
  {
    "text": "much we're going to see the throughput completely drop off",
    "start": "639560",
    "end": "644600"
  },
  {
    "text": "why why would you expect this to happen so I'm a net developer so what I'll do is I'll explain how this why this would",
    "start": "644600",
    "end": "651120"
  },
  {
    "text": "happen in net but this will work or this will apply regardless of uh what language you're using if it's a managed",
    "start": "651120",
    "end": "657519"
  },
  {
    "text": "runtime environment where they do some type of garbage collection for you something like this is going to occur when your systems get to a certain",
    "start": "657519",
    "end": "663639"
  },
  {
    "text": "amount of load so in net there are three types of garbage collection events generation zero garbage collection",
    "start": "663639",
    "end": "669839"
  },
  {
    "text": "generation one and generation two and net makes a few assumptions around garbage collection uh that it builds its",
    "start": "669839",
    "end": "676160"
  },
  {
    "text": "garbage collection methodology off of so if. net decides it needs to do",
    "start": "676160",
    "end": "681600"
  },
  {
    "text": "garbage collection the first thing it does is decide what type of garbage collection do I need to do um and that's",
    "start": "681600",
    "end": "686959"
  },
  {
    "text": "because the assumption is that variables that are assigned to the Heap are very",
    "start": "686959",
    "end": "692120"
  },
  {
    "text": "quickly released or can be released again uh shortly afterwards and they represent that by doing a generation",
    "start": "692120",
    "end": "698560"
  },
  {
    "text": "zero garbage collection event so as soon as you create a variable VAR aal1 123 uh",
    "start": "698560",
    "end": "704399"
  },
  {
    "text": "net will go and assign that bit of memory to the Heap and it it puts it in the generation zero category so when a",
    "start": "704399",
    "end": "710040"
  },
  {
    "text": "gen zero garbage collection event runs it goes to everything as marked as generation zero and says well is something still referencing you no I can",
    "start": "710040",
    "end": "717279"
  },
  {
    "text": "release you is something still referencing you no I can release you if it gets to one that's still been",
    "start": "717279",
    "end": "722639"
  },
  {
    "text": "referenced it then takes that generation zero memory and promotes it to generation one so it's not going to",
    "start": "722639",
    "end": "728800"
  },
  {
    "text": "release it but the Assumption here is that generation one is going to run less frequently than a generation zero garbage collection event and if you're",
    "start": "728800",
    "end": "735079"
  },
  {
    "text": "still using something while I'm trying to uh clear up memory it's probably going to hang around for a little bit",
    "start": "735079",
    "end": "740240"
  },
  {
    "text": "longer so as our as our system takes longer to do things things hang around longer which means we reserving that",
    "start": "740240",
    "end": "746360"
  },
  {
    "text": "memory longer which means that the higher likelihood that those things are going to get promoted to generation one",
    "start": "746360",
    "end": "751920"
  },
  {
    "text": "if things take even longer and a generation one garbage collection event runs it's going to go through all the",
    "start": "751920",
    "end": "757120"
  },
  {
    "text": "items marked gen zero and gen one so immediately a generation one garbage collection event takes longer than a gen",
    "start": "757120",
    "end": "763800"
  },
  {
    "text": "zero but it's going to go through all of the Gen one items and see can I release you can I release you can I release you",
    "start": "763800",
    "end": "769880"
  },
  {
    "text": "if it can't release it it's going to promote it to surprise surprise generation 2 and that's sort of where",
    "start": "769880",
    "end": "775560"
  },
  {
    "text": "the problem begins so generation two garbage collection events in net or what is known as stop the world events what",
    "start": "775560",
    "end": "782560"
  },
  {
    "text": "it does is it pauses all user threads so if your application is processing 100 different threads all of those threads",
    "start": "782560",
    "end": "788720"
  },
  {
    "text": "are going to be paused except for the one during the Gen 2 garbage collection event which means you're not processing",
    "start": "788720",
    "end": "794160"
  },
  {
    "text": "anything stack Overflow experienced this a few years back or many years back not a few um and this is a graph showing the",
    "start": "794160",
    "end": "800079"
  },
  {
    "text": "response time of the web servers these spikes over here that you can see these are where the Gen 2 garbage collection",
    "start": "800079",
    "end": "805839"
  },
  {
    "text": "event was running and Mark reel wrote a whole blog post about how they managed to work around that",
    "start": "805839",
    "end": "810880"
  },
  {
    "text": "eventually since these days though so this was 2011 things have improved a lot with garbage collection in net uh We've",
    "start": "810880",
    "end": "817000"
  },
  {
    "text": "now got the background garbage collection uh processor which goes and does this in the background so it doesn't pause all of the user threads",
    "start": "817000",
    "end": "823560"
  },
  {
    "text": "unless your system is under sufficient load that net decides it needs to do a foreground garbage collection event in",
    "start": "823560",
    "end": "830120"
  },
  {
    "text": "which case pauses all user threads and You' get a drop off in performance so that's why we would we",
    "start": "830120",
    "end": "837040"
  },
  {
    "text": "expect to see this drop off performance in a monolith um under a certain amount",
    "start": "837040",
    "end": "842680"
  },
  {
    "text": "of load what happens when we transition to microservices well well let's start",
    "start": "842680",
    "end": "847839"
  },
  {
    "text": "increasing the load of our microservices at the beginning we should start seeing a SL a linear is increase",
    "start": "847839",
    "end": "853600"
  },
  {
    "text": "in the throughput of our microservices I hope it's obvious that the increase in throughput will be lower than the",
    "start": "853600",
    "end": "859000"
  },
  {
    "text": "monolith because we've introduced network operations right network operations are expensive in terms of",
    "start": "859000",
    "end": "864759"
  },
  {
    "text": "computing time it takes a long time to negotiate that TCP connection to do this ceric exchange to serialize to",
    "start": "864759",
    "end": "871680"
  },
  {
    "text": "deserialize so we should see things taking a little bit longer for the same amount of load okay well that means things are",
    "start": "871680",
    "end": "878560"
  },
  {
    "text": "going to hang around longer which means we're going to get more thread swapping sooner which means that decrease in",
    "start": "878560",
    "end": "884040"
  },
  {
    "text": "increase decrease of the increase of throughput is going to come sooner which Sur surprise means the big drop of",
    "start": "884040",
    "end": "890600"
  },
  {
    "text": "performance is going to come sooner so the first technique that we can do when we when we try to uh make",
    "start": "890600",
    "end": "898320"
  },
  {
    "text": "our system as bad as possible the first technique that we can do is we can actually try and do",
    "start": "898320",
    "end": "904160"
  },
  {
    "text": "microservices so for the first one you put a net to call in front of everything and that's a guaranteed way to make your",
    "start": "904160",
    "end": "909279"
  },
  {
    "text": "system a little bit just a little bit worse is anyone you old enough to remember the WCF days and there were those people going around saying",
    "start": "909279",
    "end": "915040"
  },
  {
    "text": "everything should be a WCF data service everything should be a data contract or data object whatever it was yep man what",
    "start": "915040",
    "end": "922519"
  },
  {
    "text": "a time to be alive so uh We've take we've taken our",
    "start": "922519",
    "end": "928319"
  },
  {
    "text": "system we've applied the Strangler fig pattern all over the place and we no longer have a monolith anymore we've now distributed our system into a",
    "start": "928319",
    "end": "934519"
  },
  {
    "text": "microservice the thing that the Strangler fig pattern is not good at though is changing application logic or",
    "start": "934519",
    "end": "939920"
  },
  {
    "text": "fixing any coupling problems that you've got so if you had coupling between code components you're still going to have",
    "start": "939920",
    "end": "945560"
  },
  {
    "text": "that same coupling between your service components now and in fact we've made it worse because on top of the normal",
    "start": "945560",
    "end": "951839"
  },
  {
    "text": "application coupling that we had we've now also got Network topology coupling because we can't go and move these",
    "start": "951839",
    "end": "957639"
  },
  {
    "text": "services around without telling the other services hey we've moved it around so we've taken our monolith we split it",
    "start": "957639",
    "end": "963360"
  },
  {
    "text": "up and we've made it even worse by making it a distributor monolith so instead of a single tire that's burning",
    "start": "963360",
    "end": "968639"
  },
  {
    "text": "we've got a field of tires that's burning which is pretty good so in terms of progress for making the worst system",
    "start": "968639",
    "end": "975040"
  },
  {
    "text": "possible this is a this is a good first step but now if you're working on this system it's going to be pretty bad to",
    "start": "975040",
    "end": "980800"
  },
  {
    "text": "work you're going to hate your job you're going to come in do your 8 hours and then leave and probably Bang Your Head on the desk a few times and you're",
    "start": "980800",
    "end": "987279"
  },
  {
    "text": "going to I'm almost into bet find yourself thinking I bet you I could rewrite the system in a few months and",
    "start": "987279",
    "end": "993079"
  },
  {
    "text": "it would be great anybody ever thought I bet you I could rewrite the system and i' fix all the problems you're all lies",
    "start": "993079",
    "end": "998519"
  },
  {
    "text": "if you haven't put your hand up so rewriting the system is a is a very enticing option sometimes because",
    "start": "998519",
    "end": "1005240"
  },
  {
    "text": "it's difficult to work with this Legacy that you drag in along with you but the thing with rewrites is that big bang",
    "start": "1005240",
    "end": "1011399"
  },
  {
    "text": "rewrites of large complex software systems do not work asterisk and we we'll kind of",
    "start": "1011399",
    "end": "1016839"
  },
  {
    "text": "circle back to that asterisk in a bit but rewriting a big large system is",
    "start": "1016839",
    "end": "1023560"
  },
  {
    "text": "probably not going to be a good idea and it's probably going to fail why is that well that's because of how we do",
    "start": "1023560",
    "end": "1028959"
  },
  {
    "text": "software development so software development in its Essence is exchanging time for functionality you're taking",
    "start": "1028959",
    "end": "1035120"
  },
  {
    "text": "developer time and converting that developer time into features that users can use so we can we can represent that",
    "start": "1035120",
    "end": "1041760"
  },
  {
    "text": "as a graph so on the y- axis we've got the amount of functionality in the system and the x-axis is the time spent",
    "start": "1041760",
    "end": "1047319"
  },
  {
    "text": "developing on the system sometimes we uh sometimes we render this as burn down charts you know but it's",
    "start": "1047319",
    "end": "1054520"
  },
  {
    "text": "essentially we're taking developer time and converting it into functionality and at the start of a",
    "start": "1054520",
    "end": "1059799"
  },
  {
    "text": "system things are going great when you've got a green field system the amount of time that you spend working on your system means that you get a high",
    "start": "1059799",
    "end": "1066120"
  },
  {
    "text": "output in terms of functionality that you can add you're throwing new screens out left right and Center your your users are very happy with this",
    "start": "1066120",
    "end": "1073600"
  },
  {
    "text": "eventually you get to a point though where you need to sort of go back to previous functionality that you've worked on you have to pay some technical",
    "start": "1073600",
    "end": "1079200"
  },
  {
    "text": "debt maybe refactor a few things you've got business rules that now have to uh interact with previous screens that",
    "start": "1079200",
    "end": "1084720"
  },
  {
    "text": "you've designed so it takes you a little bit longer to add the same amount of functionality that you would have taken you a short amount of time to do at the",
    "start": "1084720",
    "end": "1091559"
  },
  {
    "text": "start of the system and eventually it takes really long time to add any functionality because there's just a lot",
    "start": "1091559",
    "end": "1097000"
  },
  {
    "text": "of competing different rules there's a lot of things going on in in the system that you're working on and you might think to yourself okay",
    "start": "1097000",
    "end": "1104280"
  },
  {
    "text": "well this is the time now that we need to do a rewrite so you go to the business and you say listen uh we've",
    "start": "1104280",
    "end": "1110000"
  },
  {
    "text": "just completed our microservice project that was a that was a great success we've micros serviced everything um how",
    "start": "1110000",
    "end": "1116679"
  },
  {
    "text": "about as a reward you let us do a oh I know we'll call it a modernization project we'll modernize the system we'll",
    "start": "1116679",
    "end": "1123440"
  },
  {
    "text": "we'll it's not a rewrite because they they won't agree to that but we'll modernize it um and we'll replace the parts with a new system give us six",
    "start": "1123440",
    "end": "1129880"
  },
  {
    "text": "months it'll be perfect and the business will go and say six months okay yeah we can we can make that",
    "start": "1129880",
    "end": "1136799"
  },
  {
    "text": "work so you start your rewrite now if we started it here like where the the",
    "start": "1136799",
    "end": "1142799"
  },
  {
    "text": "amount of new functionality you can add is absolutely awful so we timed this re perfectly what's going to happen is that",
    "start": "1142799",
    "end": "1148679"
  },
  {
    "text": "instead of adding this bit of functionality at the top because we're not adding more functionality that no",
    "start": "1148679",
    "end": "1154280"
  },
  {
    "text": "longer exists while we're doing the rewrite so the amount of functionality we've got stays constant and then we",
    "start": "1154280",
    "end": "1159679"
  },
  {
    "text": "start rewriting the system again and now this is a new system essentially it's a",
    "start": "1159679",
    "end": "1165080"
  },
  {
    "text": "green field system so the amount of functionality we can add in a short amount of time time is fantastic this is",
    "start": "1165080",
    "end": "1170280"
  },
  {
    "text": "the most amazing thing we've ever done and it's probably going to be faster than it was originally because",
    "start": "1170280",
    "end": "1176080"
  },
  {
    "text": "you've spent more time in the business domain you know more about the business problems that you're going to experience and while you were working on the old",
    "start": "1176080",
    "end": "1181720"
  },
  {
    "text": "system you're probably sitting there banging your head on the desk thinking about how you would do things differently so you're going to be very",
    "start": "1181720",
    "end": "1186919"
  },
  {
    "text": "productive during this phase but it's going to take you longer than six months why because I'm a developer I",
    "start": "1186919",
    "end": "1195360"
  },
  {
    "text": "know how we estimate things in fact the there's probably some correlation between how good of a developer you are",
    "start": "1195360",
    "end": "1201120"
  },
  {
    "text": "and how good of an estimator you are if you're a really good developer you're probably a really bad estimator and if you're a good estimator you must be an",
    "start": "1201120",
    "end": "1207440"
  },
  {
    "text": "awful developer uh I myself am the world's okayest estimator I've got that",
    "start": "1207440",
    "end": "1212919"
  },
  {
    "text": "going for me but even if you could estimate with 100% accuracy so if you if",
    "start": "1212919",
    "end": "1218240"
  },
  {
    "text": "you took the entire system and you knew it was going to take you six months to redo this entire thing it would still be",
    "start": "1218240",
    "end": "1224679"
  },
  {
    "text": "wrong because with large complex systems you can't keep all of that context in your head while you're doing the",
    "start": "1224679",
    "end": "1230640"
  },
  {
    "text": "estimation process there's a lot that goes on in these large complex systems and the chances of it being 100%",
    "start": "1230640",
    "end": "1236880"
  },
  {
    "text": "documented is almost zero it's a bit like where that dog from up where we get hyperfocused on certain things at a time",
    "start": "1236880",
    "end": "1244240"
  },
  {
    "text": "forgetting about everything else or every second Tuesday if it happens to fall on a full moon the business R will",
    "start": "1244240",
    "end": "1249480"
  },
  {
    "text": "invert and now we now need to pay customers to use our system for 24 hours it's those edge cases that make software",
    "start": "1249480",
    "end": "1255640"
  },
  {
    "text": "development interesting and we often forget about those while while we doing uh problem solving of big complex",
    "start": "1255640",
    "end": "1263039"
  },
  {
    "text": "systems so we're busy working on our reite and it's been 9 months now after after we told business that it take six",
    "start": "1263039",
    "end": "1268600"
  },
  {
    "text": "months and they're going to come to us and say listen uh we we can't keep doing this we need there's a new compliance",
    "start": "1268600",
    "end": "1275760"
  },
  {
    "text": "project coming out gdpr 2.0 has hit we need to comply by the end of the year and you you say okay just give us",
    "start": "1275760",
    "end": "1283200"
  },
  {
    "text": "give us two more months it'll be fine four months later they come and say okay this is this is it we're canceling this",
    "start": "1283200",
    "end": "1289279"
  },
  {
    "text": "modernization it's not a rot we're canceling this modernization project now and you you go into the stages of grief",
    "start": "1289279",
    "end": "1297159"
  },
  {
    "text": "uh where and you you start you immediately jump to the bargaining phase and you say okay I'll make you a deal",
    "start": "1297159",
    "end": "1302360"
  },
  {
    "text": "got an idea what we do is we'll have the old system that's in production right and that's working fine people are using",
    "start": "1302360",
    "end": "1308080"
  },
  {
    "text": "that we'll keep that there and we'll deploy the parts that we've Rewritten so far is this sign of familiar at all to",
    "start": "1308080",
    "end": "1314279"
  },
  {
    "text": "anyone right and well this the users can use the new system for the parts we have Rewritten and the old system for the",
    "start": "1314279",
    "end": "1320679"
  },
  {
    "text": "parts we haven't and then uh we'll we'll keep them in sync by creating an integration layer that'll be fine um yes",
    "start": "1320679",
    "end": "1330480"
  },
  {
    "text": "and you you honestly believe this because it it feels right you've invested 10 months of your life trying to do this rewrite um and you you sort",
    "start": "1330480",
    "end": "1337840"
  },
  {
    "text": "of forget that now you don't just have to support one system you've got to support three systems you have to support your old Legacy system you have",
    "start": "1337840",
    "end": "1344720"
  },
  {
    "text": "to support your new system and you have to support this horrible integration lay the integration layer is going to be",
    "start": "1344720",
    "end": "1349840"
  },
  {
    "text": "horrible because it has to talk to the horrible old system and the longer that it has to do that the more likelihood",
    "start": "1349840",
    "end": "1355840"
  },
  {
    "text": "there is that the horrible decisions in the old system are going to bleed over into the new system oh William I need",
    "start": "1355840",
    "end": "1360960"
  },
  {
    "text": "that field in the report by Tuesday afternoon please can we get it in the new system and you think okay well yes",
    "start": "1360960",
    "end": "1366200"
  },
  {
    "text": "I'll just take it through as it is now and then I'll fix it in the next Sprint yeah",
    "start": "1366200",
    "end": "1371360"
  },
  {
    "text": "right but at least we're doing Services now so on the new side that's great um",
    "start": "1371360",
    "end": "1377400"
  },
  {
    "text": "it's a bit like trying to build an aane while you flying it I asked doly to generate an image of that um and I came",
    "start": "1377400",
    "end": "1384240"
  },
  {
    "text": "up with this horrifying thing I don't know why it's got the word dogs on the side I I don't know what that's about",
    "start": "1384240",
    "end": "1392039"
  },
  {
    "text": "and it looks a little bit I don't know is it me or was it the Ryan Air font under the",
    "start": "1392039",
    "end": "1398200"
  },
  {
    "text": "engine no judgment so the second technique that we can use to make the worst system is we",
    "start": "1398200",
    "end": "1403840"
  },
  {
    "text": "can try and do a big bang rewrite now I said big bang rewrites do not work little asterisk there are two cases",
    "start": "1403840",
    "end": "1409799"
  },
  {
    "text": "where they do work uh the first case is when the system is actually just not large and complex so if you can safely",
    "start": "1409799",
    "end": "1417480"
  },
  {
    "text": "do the rewrite within a few months it can work but at that stage you're not dealing with large complex software systems you're dealing with a",
    "start": "1417480",
    "end": "1424080"
  },
  {
    "text": "system uh again you need to sort of make sure that you've checked your assumptions about the estimation how long it's going to take whether you can",
    "start": "1424080",
    "end": "1430480"
  },
  {
    "text": "do it within that period of time but it can work if the system isn't actually that",
    "start": "1430480",
    "end": "1435919"
  },
  {
    "text": "complicated the second time that it will work is for your CV um so as soon as you start the rewrite you you put the latest",
    "start": "1435919",
    "end": "1441799"
  },
  {
    "text": "and greatest technology uh in your new project and before you even compile you add it to your CV as well you start",
    "start": "1441799",
    "end": "1447679"
  },
  {
    "text": "sending that out um and that'll that'll work for you so where are we now we've got three",
    "start": "1447679",
    "end": "1454720"
  },
  {
    "text": "systems we supporting in production we've got the old system we've got the new system and we've got the",
    "start": "1454720",
    "end": "1459880"
  },
  {
    "text": "monolith cool um it's still not too bad though we can make this worse let's take a look at this problem remember why we",
    "start": "1459880",
    "end": "1466919"
  },
  {
    "text": "had this big drop of performance it was because we were waiting for things to finish they hang around longer which means there's a higher likel of Gen 2",
    "start": "1466919",
    "end": "1473320"
  },
  {
    "text": "garbage collection we don't want to do this again we want to make new better mistakes making the same old mistakes is",
    "start": "1473320",
    "end": "1479720"
  },
  {
    "text": "boring so what we'll do is instead of our service calling another service",
    "start": "1479720",
    "end": "1484960"
  },
  {
    "text": "directly and waiting for a response we'll be smart we'll do this thing we've heard about in the microservices space",
    "start": "1484960",
    "end": "1490480"
  },
  {
    "text": "called cues so we'll introduce a Queue at the credit card service and our service a when it needs to call the",
    "start": "1490480",
    "end": "1496799"
  },
  {
    "text": "credit card service instead of calling it directly it just takes a message and puts it on the queue for the credit card",
    "start": "1496799",
    "end": "1503840"
  },
  {
    "text": "service which means that as soon as the broker tells our service cool I've got your message service a can then",
    "start": "1503840",
    "end": "1510000"
  },
  {
    "text": "terminate and we don't hang around for a long time so we don't get that Gen 2 garbage collection that sounds great",
    "start": "1510000",
    "end": "1517200"
  },
  {
    "text": "what could go wrong here well let's have a look at the credit card service so as this calls our payment service it takes",
    "start": "1517200",
    "end": "1523559"
  },
  {
    "text": "messages off the front of the queue and it says okay I need to charge this credit card €10 I'll call my payment provider and do that so our message",
    "start": "1523559",
    "end": "1530720"
  },
  {
    "text": "flows along from the back of the queue to the front and it gets to the front and it says we need to charge Williams credit card",
    "start": "1530720",
    "end": "1536600"
  },
  {
    "text": "50 um and we call the payment provider and something goes wrong probably because I don't have 50 to my name I",
    "start": "1536600",
    "end": "1543200"
  },
  {
    "text": "don't know um and we get an exception and think okay oh well uh well we've",
    "start": "1543200",
    "end": "1550520"
  },
  {
    "text": "taken that message off of the queue and it's now disappeared it doesn't happen often but",
    "start": "1550520",
    "end": "1556200"
  },
  {
    "text": "I I don't want to say never happens but it's very rare that I get a business requirement that I need to lose my",
    "start": "1556200",
    "end": "1561240"
  },
  {
    "text": "customer money um but if this was that requirement I'd be doing a great job here so instead of just losing that",
    "start": "1561240",
    "end": "1568520"
  },
  {
    "text": "message when we take it off of the queue what we'll do then is we'll get clever and we'll think well when I take the message off of the queue and I try and",
    "start": "1568520",
    "end": "1574799"
  },
  {
    "text": "process it I'll do it in a in a loop within a try catch so if it fails I'll",
    "start": "1574799",
    "end": "1580399"
  },
  {
    "text": "just keep R trying to process that message and that's that's fine now I don't lose that message except maybe I'm",
    "start": "1580399",
    "end": "1587000"
  },
  {
    "text": "maybe there's something wrong with the payment provider and all I'm doing is I'm dsing them constantly because I'm just trying to process the same message",
    "start": "1587000",
    "end": "1593159"
  },
  {
    "text": "over and over and over again maybe they charge me per call that I make okay so",
    "start": "1593159",
    "end": "1598399"
  },
  {
    "text": "now I'll get smarter and I'll think well what I'll do is I'll introduce some sort of delay mechanism that if it constantly fails we'll back off and we'll slow",
    "start": "1598399",
    "end": "1605279"
  },
  {
    "text": "down okay so we solve that problem but maybe my credit card will never have 50",
    "start": "1605279",
    "end": "1610880"
  },
  {
    "text": "available to it and the call will always fail maybe I put the wrong credit card number in that message is sitting at the",
    "start": "1610880",
    "end": "1616600"
  },
  {
    "text": "front of the queue everything behind it is waiting for its turn to get processed but this message that'll never get processed is sitting there blocking",
    "start": "1616600",
    "end": "1623520"
  },
  {
    "text": "everything okay well easy fix what would do is we'll introduce a dead letter que and we'll take that message and we'll move it to the dead letter queue which",
    "start": "1623520",
    "end": "1630600"
  },
  {
    "text": "then also means that I now need to make some software to manage that dead L queue uh so that I can put those",
    "start": "1630600",
    "end": "1636520"
  },
  {
    "text": "messages back in production and this is actually sounding like a really fun engineering problem and it is a fun",
    "start": "1636520",
    "end": "1642120"
  },
  {
    "text": "engineering problem because it's what I do as my day job this is this is a Sol Problem by n",
    "start": "1642120",
    "end": "1647240"
  },
  {
    "text": "service mass transit reburst brighter command there's many options in the just in the net space that solve this sort of",
    "start": "1647240",
    "end": "1653080"
  },
  {
    "text": "problem for you and I use uh messaging as an example because that's what I know but you can take any sort of example you",
    "start": "1653080",
    "end": "1659520"
  },
  {
    "text": "want here uh did anybody I'm I don't know if it's still a thing that the the",
    "start": "1659520",
    "end": "1664559"
  },
  {
    "text": "young people do these days but back when I was doing software development in my day um everybody had their go at writing",
    "start": "1664559",
    "end": "1670640"
  },
  {
    "text": "an OM mapper so you would have your little table definition and then it would generate the SQL scripts to create",
    "start": "1670640",
    "end": "1676880"
  },
  {
    "text": "the table for you you and they to create your code file so you could just call those things everyone did that right so",
    "start": "1676880",
    "end": "1682720"
  },
  {
    "text": "whether it's that whether it's a front end framework the chances of your business needing a such unique use case",
    "start": "1682720",
    "end": "1688880"
  },
  {
    "text": "is very slim I'm not saying it's impossible but it's very slim and there's almost always going to be an off the shelf framework that does a lot of",
    "start": "1688880",
    "end": "1694960"
  },
  {
    "text": "what you need even though it's really cool engineering problems to solve so the third technique is don't",
    "start": "1694960",
    "end": "1701840"
  },
  {
    "text": "use offthe shelf Frameworks to help you do these kinds of things so what do we have now well we've",
    "start": "1701840",
    "end": "1708640"
  },
  {
    "text": "got our monolith that we supporting we've got our new system we supporting we've got our integration layer that we supporting and we've got this horrible",
    "start": "1708640",
    "end": "1715000"
  },
  {
    "text": "smelly buggy framework thing that we supporting as well along the way so that's four things that we're doing instead of actually doing any business",
    "start": "1715000",
    "end": "1721559"
  },
  {
    "text": "functionality that's pretty good let's dig a little bit deeper",
    "start": "1721559",
    "end": "1726679"
  },
  {
    "text": "though and we'll look into more specific examples so maybe this is a e-commerce site that we're working on it's amaz no",
    "start": "1726679",
    "end": "1733159"
  },
  {
    "text": "it's rainforest.com so rainforest.com is an e-commerce site and you can buy things things um predominantly products",
    "start": "1733159",
    "end": "1740000"
  },
  {
    "text": "you know so we'll have a product service that defines things that you can buy so maybe something like coffee would have a",
    "start": "1740000",
    "end": "1746120"
  },
  {
    "text": "title it would have a price associated with it some images for the product um",
    "start": "1746120",
    "end": "1751799"
  },
  {
    "text": "where it's in stock a description some reviews for it and we sort of build this",
    "start": "1751799",
    "end": "1757000"
  },
  {
    "text": "into our product service and we end up with an entity that sort of looks a little bit like this and then our",
    "start": "1757000",
    "end": "1762320"
  },
  {
    "text": "business comes uses and says we need a search screen and you go great I've been waiting for this moment my whole life we",
    "start": "1762320",
    "end": "1769440"
  },
  {
    "text": "can take our product entity and create a search screen so if someone searches for coffee we get a list of all of these",
    "start": "1769440",
    "end": "1775000"
  },
  {
    "text": "things because we can search through the name or the description of the products and we can display all things that have",
    "start": "1775000",
    "end": "1780559"
  },
  {
    "text": "coffee somewhere in them and that's great uh see the modernization project",
    "start": "1780559",
    "end": "1786080"
  },
  {
    "text": "was a success even though it's not finished yet but then our product owner comes to us and says hey I've got an idea now the",
    "start": "1786080",
    "end": "1794360"
  },
  {
    "text": "correct response when your product owner comes to you and says I've got an idea is you tell the product owner please",
    "start": "1794360",
    "end": "1799840"
  },
  {
    "text": "wait until the next Sprint we can do this during the Sprint planning session you escort them out the building once",
    "start": "1799840",
    "end": "1804880"
  },
  {
    "text": "they've left you fake your own death and you start a new life somewhere else but you don't do that and the",
    "start": "1804880",
    "end": "1810919"
  },
  {
    "text": "product owner says um we've got a theory that if someone has ordered specifically consumables before there's a likely High",
    "start": "1810919",
    "end": "1818120"
  },
  {
    "text": "likelihood that they'll order the same thing again so we want to show on the search screen which products a user has ordered",
    "start": "1818120",
    "end": "1824320"
  },
  {
    "text": "before and you think oh damn that is a good idea",
    "start": "1824320",
    "end": "1830480"
  },
  {
    "text": "except the order history isn't in the product service that's in the order service that you've got so if you want",
    "start": "1830480",
    "end": "1837960"
  },
  {
    "text": "to display that and you start sort of getting creative and you're thinking of ideas um H okay I'll tell you what",
    "start": "1837960",
    "end": "1846159"
  },
  {
    "text": "product owner if you promise that this is the only time this is going to happen we can make this work and they agree of",
    "start": "1846159",
    "end": "1851840"
  },
  {
    "text": "course of course they do so now you include the order service in your product Services search now it doesn't",
    "start": "1851840",
    "end": "1857039"
  },
  {
    "text": "NE necessarily have to mean that you're calling two things maybe the product service is coordinating this uh maybe",
    "start": "1857039",
    "end": "1862600"
  },
  {
    "text": "you've got a cool API Gateway in place that'll solve this for you but you're now invoke involving data from two",
    "start": "1862600",
    "end": "1868000"
  },
  {
    "text": "different services in in your search screen but it's okay you deploy this and it's working and everything's great and",
    "start": "1868000",
    "end": "1874960"
  },
  {
    "text": "then the next Sprint the product owner comes to you and says hey instead of Faking your own death you",
    "start": "1874960",
    "end": "1881320"
  },
  {
    "text": "listen to them and they say well we want to give certain customers certain discounts so if they're a gold customer",
    "start": "1881320",
    "end": "1887559"
  },
  {
    "text": "maybe want to give them a specific price and again you think damn that's a really good",
    "start": "1887559",
    "end": "1893639"
  },
  {
    "text": "idea can't shoot it down except the customer status isn't in the order service and it's not in the product",
    "start": "1893639",
    "end": "1899279"
  },
  {
    "text": "service either that's in the customer service and you think to yourself oh I",
    "start": "1899279",
    "end": "1904919"
  },
  {
    "text": "just fooled myself real good here you promised product owner and the product owner is going to say well I didn't",
    "start": "1904919",
    "end": "1910279"
  },
  {
    "text": "Pinky Promise so now you include the customer service in your search screen and eventually your whole system is blured",
    "start": "1910279",
    "end": "1916480"
  },
  {
    "text": "over to having all of your different service boundaries in one request and search is a good example of this because",
    "start": "1916480",
    "end": "1923000"
  },
  {
    "text": "search involves looking for things all over the place so it might seem like a contrived",
    "start": "1923000",
    "end": "1928600"
  },
  {
    "text": "example but search is a hard problem to solve just think how much money Google throws at the problem but why is this a problem why",
    "start": "1928600",
    "end": "1935960"
  },
  {
    "text": "why do we have these cross service boundary calls has anybody watched this",
    "start": "1935960",
    "end": "1941080"
  },
  {
    "text": "video uh there there's a slide at the end with the URLs and everything but this is mandatory viewing if you if you",
    "start": "1941080",
    "end": "1946799"
  },
  {
    "text": "are to attempt microservices it's by YouTube channel called croam and the video is called",
    "start": "1946799",
    "end": "1952159"
  },
  {
    "text": "microservices um I cried the first few times I watched it because it's just it's so so beautiful should have won an",
    "start": "1952159",
    "end": "1958519"
  },
  {
    "text": "Oscar for something but if we've got our three different Services right we've got our service boundaries our product service",
    "start": "1958519",
    "end": "1964880"
  },
  {
    "text": "our order service and our customer service These are nice things because we can represent them as nice little",
    "start": "1964880",
    "end": "1969960"
  },
  {
    "text": "entities right you can go into a shop and you can pick up a product you can expect the product you can look at it you can put it down you can do the same",
    "start": "1969960",
    "end": "1977039"
  },
  {
    "text": "same thing with the order like you can take your invoice your T upep at the end and you can look at it and you can inspect it and put it down it's a nice",
    "start": "1977039",
    "end": "1982760"
  },
  {
    "text": "thing I guess you could pick up customers and inspect them but I wouldn't recommend that if you do you do",
    "start": "1982760",
    "end": "1989080"
  },
  {
    "text": "have to make sure you put them down at some point though but these are things these are things that you can interact",
    "start": "1989080",
    "end": "1994519"
  },
  {
    "text": "with at a physical level when it comes to software though users don't product",
    "start": "1994519",
    "end": "2000039"
  },
  {
    "text": "they don't customer they don't user they they search they check out",
    "start": "2000039",
    "end": "2007039"
  },
  {
    "text": "they add to cart they do these processes they verb rather than noun with your system and if you take your service",
    "start": "2007039",
    "end": "2013440"
  },
  {
    "text": "boundaries and you define them as nouns there's a very high likelihood that you're going to have to do cross-service",
    "start": "2013440",
    "end": "2019440"
  },
  {
    "text": "communication whenever you're doing verby things so whenever you're interacting with the system when you're",
    "start": "2019440",
    "end": "2025440"
  },
  {
    "text": "shopping there's a high likelihood that there's going to be cross- service communication because doing things isn't",
    "start": "2025440",
    "end": "2032120"
  },
  {
    "text": "just a a thing on its own it's usually a combination of different puzzle pieces again I asked darly for a picture of a",
    "start": "2032120",
    "end": "2037960"
  },
  {
    "text": "puzzle I'm concerned that it doesn't know what words are because this is not a puzzle that anyone can",
    "start": "2037960",
    "end": "2045600"
  },
  {
    "text": "do so to make sure that we have the best chance of having the most cross-service",
    "start": "2045600",
    "end": "2051158"
  },
  {
    "text": "communication possible the fourth technique that we can use is we can make sure that we Define our service boundaries based off of nouns and not",
    "start": "2051159",
    "end": "2058000"
  },
  {
    "text": "verbs it's really hard to make your service boundaries based off of verbs but it is so worthwhile if you end up",
    "start": "2058000",
    "end": "2065200"
  },
  {
    "text": "with your service boundaries being product policy claims take some time to reflect on",
    "start": "2065200",
    "end": "2072240"
  },
  {
    "text": "those and see if maybe there's uh different ways that you can represent the actions the behaviors of those",
    "start": "2072240",
    "end": "2078520"
  },
  {
    "text": "internal service boundaries right so we've got our",
    "start": "2078520",
    "end": "2084358"
  },
  {
    "text": "monolith our integration layer our microservice system this new framework that's we supporting that's a bit buggy",
    "start": "2084359",
    "end": "2090720"
  },
  {
    "text": "and broken and we've made sure that all of our services are defined in such a way that they're nouns so that there's",
    "start": "2090720",
    "end": "2096158"
  },
  {
    "text": "as much cross service communication as we can possibly get how can we make this",
    "start": "2096159",
    "end": "2101280"
  },
  {
    "text": "worse well let's fix this right we want to we want to fix things not make them",
    "start": "2101280",
    "end": "2107200"
  },
  {
    "text": "worse so what we'll do is we'll fix this instead of having cross service calls we'll we'll make this a better thing so",
    "start": "2107200",
    "end": "2114200"
  },
  {
    "text": "instead of having search being a product thing uh what we'll do is we'll create a search service right to search is a verb",
    "start": "2114200",
    "end": "2122119"
  },
  {
    "text": "so this is good uh we've got a good service boundary there and the search service can have its own little",
    "start": "2122119",
    "end": "2128400"
  },
  {
    "text": "representation of the products so instead of being a product entity it might be a search product entity which",
    "start": "2128400",
    "end": "2134440"
  },
  {
    "text": "has some additional fields in there so whether customer which customers have ordered this before um specific pricing",
    "start": "2134440",
    "end": "2140440"
  },
  {
    "text": "for specific customers you know we can make whatever model we need to represent the search Behavior within the search",
    "start": "2140440",
    "end": "2146119"
  },
  {
    "text": "service and this is looking promising but how do we get the data into the search service",
    "start": "2146119",
    "end": "2151880"
  },
  {
    "text": "right well I know we've got Pub sub right that's cool so what we'll do is when ever a new product is added to the",
    "start": "2151880",
    "end": "2158440"
  },
  {
    "text": "product service because the product service is the source of truthful products we'll publish an event and then",
    "start": "2158440",
    "end": "2164000"
  },
  {
    "text": "the search service can subscribe to that event and it can maintain its own list of search products and we can do the",
    "start": "2164000",
    "end": "2170599"
  },
  {
    "text": "same for the customer service when a customer status changes will product will publish an event and we can maintain that list within the search",
    "start": "2170599",
    "end": "2176960"
  },
  {
    "text": "service and the same for the order service publish events when someone orders something anybody tried this",
    "start": "2176960",
    "end": "2183280"
  },
  {
    "text": "before there's so many problems with this not least of which is the duplication of data because that's",
    "start": "2183280",
    "end": "2190079"
  },
  {
    "text": "that's fine like we can we can justify that away we're all smart here we're all Architects so we can say things like",
    "start": "2190079",
    "end": "2196599"
  },
  {
    "text": "um this is okay because uh oh the source of Truth for",
    "start": "2196599",
    "end": "2202599"
  },
  {
    "text": "products is still in the product service this is just a read model okay so we're doing cqrs yes this is good uh cqrs",
    "start": "2202599",
    "end": "2210960"
  },
  {
    "text": "we're publishing events so it's event sourcing as well we're doing cqs event sourcing and definitely bounded context",
    "start": "2210960",
    "end": "2216760"
  },
  {
    "text": "so it's dddd so we're doing DDD cqs event sourcing this is a good thing this is a fun system to work on and people",
    "start": "2216760",
    "end": "2224280"
  },
  {
    "text": "believe you but even if the duplication of data wasn't a problem which it sort of is um",
    "start": "2224280",
    "end": "2231280"
  },
  {
    "text": "the biggest problem with this is you still have tight coupling between your components as an example if the customer",
    "start": "2231280",
    "end": "2238200"
  },
  {
    "text": "service changes its business rules that says well instead of giving special pricing to Gold customers we want to",
    "start": "2238200",
    "end": "2244480"
  },
  {
    "text": "give special pricing to the top 100 customers the customer service makes its",
    "start": "2244480",
    "end": "2249680"
  },
  {
    "text": "change internally and then suddenly the search service doesn't work because it's",
    "start": "2249680",
    "end": "2255319"
  },
  {
    "text": "still listening for events that says customer status has changed not well customers moved from 99 to",
    "start": "2255319",
    "end": "2263319"
  },
  {
    "text": "100 we've got tight coupling between the business logic of the search service and the customer service in that case so",
    "start": "2263319",
    "end": "2270079"
  },
  {
    "text": "even if the duplication of data wasn't a concern the coupling is a bigger",
    "start": "2270079",
    "end": "2275599"
  },
  {
    "text": "problem we can fix this though um and I'm going to show you a technique to fix this but",
    "start": "2275599",
    "end": "2281400"
  },
  {
    "text": "I want to be clear I'm not saying this is a good technique I'm also not saying this is a bad technique I'm just saying",
    "start": "2281400",
    "end": "2287359"
  },
  {
    "text": "hey here's a thing put it in your toolbox if it works for you great if it doesn't also don't just use it",
    "start": "2287359",
    "end": "2293599"
  },
  {
    "text": "everywhere and the thing that it relies off of is that when you're dealing with software uh we've got the 4 plus1 view",
    "start": "2293599",
    "end": "2300599"
  },
  {
    "text": "of software right and it means that the logical boundaries of your system doesn't have to match the physical",
    "start": "2300599",
    "end": "2305920"
  },
  {
    "text": "deployment boundaries of your system you can have the logical boundaries be intact while breaking that apart at",
    "start": "2305920",
    "end": "2311640"
  },
  {
    "text": "deployment time so we're going to look at something known as the engine pattern so we'll first of all replace our search service",
    "start": "2311640",
    "end": "2318000"
  },
  {
    "text": "with a search engine because that just sounds right doesn't it a search engine is much better than a search",
    "start": "2318000",
    "end": "2323040"
  },
  {
    "text": "service and the search engine is going to expose three interfaces so the first",
    "start": "2323040",
    "end": "2328119"
  },
  {
    "text": "interface it's going to expose is something called I find products which just takes in a filter and splits back a",
    "start": "2328119",
    "end": "2333960"
  },
  {
    "text": "list of products it's then going to expose a i price products interface which surprise surprise gives you a",
    "start": "2333960",
    "end": "2340040"
  },
  {
    "text": "price for a product for a specific user and then an ey track orders which just says true or false if someone has",
    "start": "2340040",
    "end": "2346359"
  },
  {
    "text": "ordered something before or not so the search engine takes these three interfaces and compiles it into an",
    "start": "2346359",
    "end": "2352000"
  },
  {
    "text": "assembly and puts it on a local nougat feed or something or some type of internal package manager which means then that how do we",
    "start": "2352000",
    "end": "2359800"
  },
  {
    "text": "use this so our product service can go and and take that Nate feed or that package from wherever it is and it can",
    "start": "2359800",
    "end": "2366079"
  },
  {
    "text": "implement a class called product finder and this class implements the iind products interface the customer service",
    "start": "2366079",
    "end": "2373560"
  },
  {
    "text": "can do the same with the status pricer so the status pricer class can Implement an ey price products interface and the",
    "start": "2373560",
    "end": "2380000"
  },
  {
    "text": "order service can Implement an order history class how do we deploy this or how do we",
    "start": "2380000",
    "end": "2385839"
  },
  {
    "text": "bring it all together without introducing coupling as part of your build process when you check in your code why don't",
    "start": "2385839",
    "end": "2393040"
  },
  {
    "text": "you take that product finder class compile it into into its own assembly",
    "start": "2393040",
    "end": "2398160"
  },
  {
    "text": "and then take that assembly that dll and paste it into the folder of the search",
    "start": "2398160",
    "end": "2403520"
  },
  {
    "text": "engine so the search engine when it says oh I need to do a search can say hey net please give me all of the classes in my",
    "start": "2403520",
    "end": "2410400"
  },
  {
    "text": "app domain that implement the iin products interface so in this case the search engine doesn't have to know about",
    "start": "2410400",
    "end": "2416359"
  },
  {
    "text": "the product service it just knows oh here's a class that implements this interface so now I can ask this class",
    "start": "2416359",
    "end": "2422240"
  },
  {
    "text": "for a list of products that match the search text that I've put in that product class knows that it needs to",
    "start": "2422240",
    "end": "2427640"
  },
  {
    "text": "talk to the product service database and we can do the same with the status pricer so the status pricer can",
    "start": "2427640",
    "end": "2434839"
  },
  {
    "text": "be compiled into an assembly and put into the search engines folder the search engine can then say give me all",
    "start": "2434839",
    "end": "2440200"
  },
  {
    "text": "of the instances of give me all of the classes Implement that Implement ey price products and apply that to the",
    "start": "2440200",
    "end": "2447000"
  },
  {
    "text": "list of products that you got from the previous uh product finder class and then the same happens with the order",
    "start": "2447000",
    "end": "2452599"
  },
  {
    "text": "history class we're making three queries here but there's a a big distinction between what we had here and what we had",
    "start": "2452599",
    "end": "2458599"
  },
  {
    "text": "with uh the cross service communication because the product finder doesn't need",
    "start": "2458599",
    "end": "2464000"
  },
  {
    "text": "to know anything about the status price so it doesn't need to know anything about the audit history it doesn't need to know anything other than I'm making a",
    "start": "2464000",
    "end": "2470560"
  },
  {
    "text": "query to my database and here's a list of products that match if the customer service changes",
    "start": "2470560",
    "end": "2476839"
  },
  {
    "text": "this business rule and says well instead of the status given special pricing we want the top 100 customers to have",
    "start": "2476839",
    "end": "2482200"
  },
  {
    "text": "special pricing the customer service makes the change logically within its boundary it instead of shipping out a",
    "start": "2482200",
    "end": "2488760"
  },
  {
    "text": "status pricer class it ships out a ranking pricer and places that in the search",
    "start": "2488760",
    "end": "2495119"
  },
  {
    "text": "engine folder the change only happened logically within the customer service but it's now affected the way that we",
    "start": "2495119",
    "end": "2501440"
  },
  {
    "text": "display results in the search engine we don't have that same coupling before so even though we still making multiple",
    "start": "2501440",
    "end": "2507480"
  },
  {
    "text": "calls to multiple Services logically those calls aren't crossing any service boundaries so we have the uh we have the",
    "start": "2507480",
    "end": "2515960"
  },
  {
    "text": "Loc coupling that we were looking for there another nice side effect of this is that you're not only limited to uh",
    "start": "2515960",
    "end": "2522760"
  },
  {
    "text": "the product service only doing the product finder for instance the product service could say well every day I'm",
    "start": "2522760",
    "end": "2528079"
  },
  {
    "text": "going to choose 10 items at random and these 10 items are going to be heavily discounted so the product finder or the",
    "start": "2528079",
    "end": "2533359"
  },
  {
    "text": "product service can Implement a daily deal pricer and ship that off so when",
    "start": "2533359",
    "end": "2538839"
  },
  {
    "text": "the search engine says I need to display the prices it now gets two instances of classes that can change the prices of",
    "start": "2538839",
    "end": "2545160"
  },
  {
    "text": "the products maybe the order service wants to do a bulk discount if someone has ordered",
    "start": "2545160",
    "end": "2550200"
  },
  {
    "text": "nine of these items before the 10th one is 90% off you the order service can",
    "start": "2550200",
    "end": "2555520"
  },
  {
    "text": "create a bulk Discounter that implements the high price products and send that off to the search engine none of these",
    "start": "2555520",
    "end": "2561960"
  },
  {
    "text": "things know anything about any of the other components there's very low coupling between them and all of the changes that have to happen happen",
    "start": "2561960",
    "end": "2568480"
  },
  {
    "text": "within the service boundaries of each of these things and the thing that this relies",
    "start": "2568480",
    "end": "2574559"
  },
  {
    "text": "off of is that you don't need to have the same logical system boundaries as you do with the physical system",
    "start": "2574559",
    "end": "2580160"
  },
  {
    "text": "boundaries you can have those be different so if you want to make sure that you get it wrong make sure that you conflate those two together so that you",
    "start": "2580160",
    "end": "2587160"
  },
  {
    "text": "don't accidentally deploy things uh",
    "start": "2587160",
    "end": "2592240"
  },
  {
    "text": "differently so we've had five techniques uh the first is just to put an HTTP call in front of everything so we can have a",
    "start": "2592359",
    "end": "2598920"
  },
  {
    "text": "nice great distributor monolith uh the second is to do a big bang rewrite because what's better than having one",
    "start": "2598920",
    "end": "2604839"
  },
  {
    "text": "system to maintain well having three systems is better the third technique is to make sure that we do all of our cool",
    "start": "2604839",
    "end": "2610440"
  },
  {
    "text": "things ourselves because that's actually the fun engineering work that we want to do and it is really rewarding for us",
    "start": "2610440",
    "end": "2616079"
  },
  {
    "text": "it's just a Pity that the poor business doesn't get any value out of it um make sure that you use nouns",
    "start": "2616079",
    "end": "2621880"
  },
  {
    "text": "instead of verbs for your service boundaries and then conflate your logical and your physical deployment",
    "start": "2621880",
    "end": "2627160"
  },
  {
    "text": "boundaries together for maximum effect so that you can't work around any of these coupling",
    "start": "2627160",
    "end": "2633359"
  },
  {
    "text": "issues uh I'm going to leave this slide up for a little bit while I talk so I want to I want to sort of pre-answer a",
    "start": "2633359",
    "end": "2638440"
  },
  {
    "text": "question that I often get about this I finish quite a bit early um but I almost always get a question either directly",
    "start": "2638440",
    "end": "2644720"
  },
  {
    "text": "from the audience or they come to ask me afterwards of well thanks for showing us what not to do but um can't you show us",
    "start": "2644720",
    "end": "2651200"
  },
  {
    "text": "what we should do instead and I think unfortunately that's a bit of a failing in the way that I that I present this",
    "start": "2651200",
    "end": "2656760"
  },
  {
    "text": "talk so the it should be obvious that the talk is not about what you should do",
    "start": "2656760",
    "end": "2662240"
  },
  {
    "text": "to make successful microservices but at the same time and slightly obviously it's also not about what you shouldn't",
    "start": "2662240",
    "end": "2668559"
  },
  {
    "text": "do to be successful with microservices so all of these five techniques I listed them as guaranteed fail but they're",
    "start": "2668559",
    "end": "2676559"
  },
  {
    "text": "not right you they're all very valuable important techniques the Strangler fig pattern is a very valuable tool that you",
    "start": "2676559",
    "end": "2683319"
  },
  {
    "text": "can use but it has its downsides it doesn't help you with any coupling concerns that you've got it doesn't help",
    "start": "2683319",
    "end": "2689160"
  },
  {
    "text": "you tease out important complex parts of your system it's really good at taking bits of your system that are welld",
    "start": "2689160",
    "end": "2694960"
  },
  {
    "text": "designed and well encap at and moving them elsewhere but you need to get to that",
    "start": "2694960",
    "end": "2700119"
  },
  {
    "text": "point first not every offal frame or not every problem has an off the shell frame",
    "start": "2700119",
    "end": "2705559"
  },
  {
    "text": "that's going to work but chances are there's probably something that's going to be avilable there so when I say these",
    "start": "2705559",
    "end": "2711520"
  },
  {
    "text": "are the top five techniques to get things wrong that's not necessarily true the intention here is so that we're all",
    "start": "2711520",
    "end": "2717079"
  },
  {
    "text": "smart we're all in this room we're at NDC we're trying to learn we're trying to get better at our",
    "start": "2717079",
    "end": "2722559"
  },
  {
    "text": "craft but there's downsides to all of these things so when you use these techniques don't be afraid to use them",
    "start": "2722559",
    "end": "2727880"
  },
  {
    "text": "they're very valuable but think about what the downside effects are and weigh that up against what benefits you get",
    "start": "2727880",
    "end": "2733520"
  },
  {
    "text": "from it maybe it's okay to have cross- service communication because you get a very clear way of talking with your",
    "start": "2733520",
    "end": "2739559"
  },
  {
    "text": "users about the problem domain maybe a single language is more important to you than having uh fewer cross- service",
    "start": "2739559",
    "end": "2747200"
  },
  {
    "text": "calls just be aware of all of the side effects or not not the side effects the downsides of these types of techniques",
    "start": "2747200",
    "end": "2754000"
  },
  {
    "text": "rather than Building Systems in the the a horrible quality I don't want to see any systems that you people build I want",
    "start": "2754000",
    "end": "2759040"
  },
  {
    "text": "to see you guys build systems up in this side of the segment so you don't have to come to",
    "start": "2759040",
    "end": "2764119"
  },
  {
    "text": "people like me to help you with these things and with that I am done are there",
    "start": "2764119",
    "end": "2769359"
  },
  {
    "text": "any questions you can always talk to me afterwards I'm very very excited to talk about Bad Code so you can grab me after",
    "start": "2769359",
    "end": "2775680"
  },
  {
    "text": "if you want as well great thank you everyone",
    "start": "2775680",
    "end": "2782760"
  }
]