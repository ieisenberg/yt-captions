[
  {
    "start": "0",
    "end": "83000"
  },
  {
    "text": "hello oh there we go my on excellent right I'm gonna get kicked off everyone",
    "start": "2520",
    "end": "8260"
  },
  {
    "text": "got a beer we good excellent so CSP xxp STS pkp CAA et Cie",
    "start": "8260",
    "end": "18759"
  },
  {
    "text": "oMG WTF BB Q this is my talk today and I can hear all of you thinking the next",
    "start": "18759",
    "end": "24939"
  },
  {
    "text": "acronym in there which is ffs so the friendlier and more sane version of the",
    "start": "24939",
    "end": "31329"
  },
  {
    "text": "title here is probably modern web security standards this is what I'm going to be talking about and I can't",
    "start": "31329",
    "end": "38770"
  },
  {
    "text": "that the title is kind of on purpose I want to kind of cut through this acronym soup that we end up with and all of this",
    "start": "38770",
    "end": "44650"
  },
  {
    "text": "confusion around these different technologies because a lot of them when you allow them to be are really simple",
    "start": "44650",
    "end": "50380"
  },
  {
    "text": "and can help you an awful lot for close to no input why is little effort is is possible for some of these so you can",
    "start": "50380",
    "end": "57040"
  },
  {
    "text": "probably think of the talk more is a series of whitening talks that introduce you to each one of these different",
    "start": "57040",
    "end": "62739"
  },
  {
    "text": "technologies so you can learn you know are they applicable to me could they help me how can these things make my",
    "start": "62739",
    "end": "68409"
  },
  {
    "text": "lives easier because I'm a security guy and this is a security talk but a lot of these things can just make your lives",
    "start": "68409",
    "end": "74350"
  },
  {
    "text": "easier as developers and this is why I use them a lot of the time so I'm gonna",
    "start": "74350",
    "end": "79810"
  },
  {
    "text": "get kicked off and I'm gonna dive right into it and the first acronym from my title is something called content",
    "start": "79810",
    "end": "85960"
  },
  {
    "start": "83000",
    "end": "300000"
  },
  {
    "text": "security policy now if you see me on Twitter before or anywhere else or even speaking somewhere else you'll have probably heard me talk about CSP already",
    "start": "85960",
    "end": "94290"
  },
  {
    "text": "CSP is an immeasurably powerful mechanism and it can do so many different things for you and it was",
    "start": "94290",
    "end": "101770"
  },
  {
    "text": "originally designed to stop something called content injection attacks and what I mean by that will be that",
    "start": "101770",
    "end": "108460"
  },
  {
    "text": "something that perhaps looks like this so you have your web page and you have a lovely review section at the bottom and",
    "start": "108460",
    "end": "113560"
  },
  {
    "text": "you want people to click on the five stars and type how awesome your product is and they submit it but some sneaky",
    "start": "113560",
    "end": "119470"
  },
  {
    "text": "person will write their review and include some patient code in there they might put a JavaScript tagging like this",
    "start": "119470",
    "end": "124900"
  },
  {
    "text": "so you save their comment into your database and then you render that comment on to your homepage and say look at this great five-star review we got",
    "start": "124900",
    "end": "131139"
  },
  {
    "text": "and that come has the script tag in it now show of",
    "start": "131139",
    "end": "136700"
  },
  {
    "text": "hands who wants this script tag loaded on their home page exactly right and why",
    "start": "136700",
    "end": "142159"
  },
  {
    "text": "don't you because we as humans can look at this and say well we've got this script tag here and it's been loaded",
    "start": "142159",
    "end": "147950"
  },
  {
    "text": "from evil calm which is probably not a good start and it's also called keylogger j/s which is definitely not",
    "start": "147950",
    "end": "154579"
  },
  {
    "text": "what we want but the browser doesn't have that level of context and understanding like we do the browser is",
    "start": "154579",
    "end": "160849"
  },
  {
    "text": "parsing the HTML it sees a valid script tag and it goes and fetches the script and places it into the page the browser",
    "start": "160849",
    "end": "167810"
  },
  {
    "text": "doesn't have the information it needs in order to to make that assessment of whether or not it should load this",
    "start": "167810",
    "end": "174319"
  },
  {
    "text": "particular script and we could make this even harder for the browser because we also have things like inline script and",
    "start": "174319",
    "end": "181129"
  },
  {
    "text": "these kinds of attacks are called XSS cross-site scripting and this one's even more difficult because what's the",
    "start": "181129",
    "end": "186920"
  },
  {
    "text": "example here is particularly harmless do you know whether I is an attacker port",
    "start": "186920",
    "end": "192709"
  },
  {
    "text": "out there or whether the hosts put that there themselves and it's supposed to be a genuine script on the page that should",
    "start": "192709",
    "end": "197900"
  },
  {
    "text": "be there now we have no point of reference we have no evil com we have no key luggage is so in line scripts like",
    "start": "197900",
    "end": "204410"
  },
  {
    "text": "this are even more difficult to deal with because we don't even have any information to make the decision on with",
    "start": "204410",
    "end": "209840"
  },
  {
    "text": "what we should do with this script and these two things are what CSP was originally created to fix their their",
    "start": "209840",
    "end": "216769"
  },
  {
    "text": "content injection attacks they call cross-site scripting but CSP is evolved and it can now do so many more things",
    "start": "216769",
    "end": "223609"
  },
  {
    "text": "for you so we're going to look at what CSP is and how we deploy it so CSP content security policy is what",
    "start": "223609",
    "end": "230810"
  },
  {
    "text": "we call a security header it's a HTTP response header that you use specifically to configure a security",
    "start": "230810",
    "end": "238040"
  },
  {
    "text": "mechanism a security feature so you can see it alongside all the headers here that you're probably somewhat familiar",
    "start": "238040",
    "end": "243650"
  },
  {
    "text": "with you define the content security policy header and then you put your policy in the header so it goes along",
    "start": "243650",
    "end": "249169"
  },
  {
    "text": "with the page to the browser and you say to the browser here is the page and here is the policy that I want you to enforce",
    "start": "249169",
    "end": "254569"
  },
  {
    "text": "so we need to build a policy the policies are built of what we call the",
    "start": "254569",
    "end": "259970"
  },
  {
    "text": "directive so within CSP there's a whole bunch of directives this is a subset this is not close to all of them but",
    "start": "259970",
    "end": "265340"
  },
  {
    "text": "these ones for all different locations the browser is allowed to load content from so if",
    "start": "265340",
    "end": "271110"
  },
  {
    "text": "you were to specify the image source directive you would think if the browser a list of domains and that means that",
    "start": "271110",
    "end": "276690"
  },
  {
    "text": "the browser is permitted to load images from those domains so you say here's the image source here's my CDN under",
    "start": "276690",
    "end": "283260"
  },
  {
    "text": "Facebook these are the two places that we can load images from you could specify the font source and say this is",
    "start": "283260",
    "end": "288630"
  },
  {
    "text": "where I'd load my fonts from and things get really interesting really powerful when we do the script sauce because you say this is the place or the places that",
    "start": "288630",
    "end": "295500"
  },
  {
    "text": "I load all of my scripts from so you",
    "start": "295500",
    "end": "300930"
  },
  {
    "start": "300000",
    "end": "476000"
  },
  {
    "text": "take a policy you build the policy this is probably the most basic example of a CSP that I can give you so we've defined",
    "start": "300930",
    "end": "310230"
  },
  {
    "text": "the content security policy ahead of here and on the previous slide there was the default source now if you want to be",
    "start": "310230",
    "end": "315810"
  },
  {
    "text": "fairly relaxed and kind of laid-back about it you can say by default we'll load from these different locations and",
    "start": "315810",
    "end": "321330"
  },
  {
    "text": "that means any content can be loaded from these locations scripts images Styles everything self is a keyword in",
    "start": "321330",
    "end": "328800"
  },
  {
    "text": "CSP which means my own website so by default I'm happy to load things from myself hopefully you should be otherwise",
    "start": "328800",
    "end": "334290"
  },
  {
    "text": "you've got issues that I can't help you with and we can load things from this other website as well from CDN j-s com",
    "start": "334290",
    "end": "339630"
  },
  {
    "text": "so you send this to the browser and already we've neutralized the two attacks that I just talked about the two",
    "start": "339630",
    "end": "346500"
  },
  {
    "text": "cross-site scripting ones because the first one it will look at the script tag and it'll go into the source attribute I",
    "start": "346500",
    "end": "351570"
  },
  {
    "text": "say write evil comm we're trying to load a script from evil com there's no scripts or specified so I'll check the",
    "start": "351570",
    "end": "357000"
  },
  {
    "text": "default sauce evil.com start in the whitelist and the browser will simply skip over that script tag and won't load",
    "start": "357000",
    "end": "364200"
  },
  {
    "text": "it so we've completely neutralized that first attack vector and the second one the inline script one of the things that",
    "start": "364200",
    "end": "370140"
  },
  {
    "text": "you get by default with CSP is that the browser won't execute any inline scripts and this is because of the issue that I",
    "start": "370140",
    "end": "376320"
  },
  {
    "text": "said in that you don't know where it came from you have no information to make the decision on so what you do is",
    "start": "376320",
    "end": "381960"
  },
  {
    "text": "you externalize it into a file load it from your own domain and then we match on self so you can still have the script",
    "start": "381960",
    "end": "389160"
  },
  {
    "text": "in the page just not inline and already we've completely neutralized the XSS which is a huge problem on the web it's",
    "start": "389160",
    "end": "396360"
  },
  {
    "text": "a massive it's still one of the most common attacks that we see but I couldn't deploy that on my website and I'm pretty",
    "start": "396360",
    "end": "402370"
  },
  {
    "text": "sure that you couldn't deploy that on your website either because we all load content from like a bazillion different",
    "start": "402370",
    "end": "407530"
  },
  {
    "text": "places so you need to fine-tune your policy for your website so we go",
    "start": "407530",
    "end": "412900"
  },
  {
    "text": "defaults or self by default and fairly happy to load things from my own domain and then I specify the script source we",
    "start": "412900",
    "end": "418000"
  },
  {
    "text": "want to get more specific now when you specify a new directive like this it overrides the default you don't inherit",
    "start": "418000",
    "end": "424780"
  },
  {
    "text": "from it so if you want to load scripts on yourself you need to specify it and then I've put these two CDN domains in",
    "start": "424780",
    "end": "430360"
  },
  {
    "text": "there and what this means now is that I can have script tags like this on my page the browser will come through a",
    "start": "430360",
    "end": "435790"
  },
  {
    "text": "look at the size attribute and say okay yep Google CDN that's good class class CDN that's good we can load both of",
    "start": "435790",
    "end": "442270"
  },
  {
    "text": "these scripts so you do that for the script source and then you continue fine-tuning to your policy we call them",
    "start": "442270",
    "end": "447730"
  },
  {
    "text": "source lists so you say okay these are all the locations that we want to load scripts from this is where we load styles images we can control things like",
    "start": "447730",
    "end": "454840"
  },
  {
    "text": "iframes who are you allowed to put in frames inside your site and you can start to build this policy you can start",
    "start": "454840",
    "end": "461170"
  },
  {
    "text": "to get really specific with that but this is as I said this is a subset of",
    "start": "461170",
    "end": "467830"
  },
  {
    "text": "the directive so this controls where we're allowed to load different types of content from but you could also control",
    "start": "467830",
    "end": "473380"
  },
  {
    "text": "certain actions that the browser is allowed to take as well because there's more directives and there's more",
    "start": "473380",
    "end": "479200"
  },
  {
    "start": "476000",
    "end": "688000"
  },
  {
    "text": "directives and the ones I'm going to show you in total and I really like things like the form action so when I",
    "start": "479200",
    "end": "485770"
  },
  {
    "text": "was talking about the example of someone leaving your review and writing your script hang in there what if they wrote a form tag instead we've still got a",
    "start": "485770",
    "end": "493300"
  },
  {
    "text": "problem because the bad guy is probably gonna write a form tag that looks a little bit like this and maybe they could trick a",
    "start": "493300",
    "end": "500470"
  },
  {
    "text": "user into thinking you know this is the the login button for the page down here at the bottom well style it will make it look good and the user types and they",
    "start": "500470",
    "end": "507520"
  },
  {
    "text": "username and password where is it going the browser will quite happily send it to this other website again because he",
    "start": "507520",
    "end": "513520"
  },
  {
    "text": "doesn't know that it's not supposed to the form tag is valid we have the action we'll send the user name and password",
    "start": "513520",
    "end": "519430"
  },
  {
    "text": "there and hopefully none of you one your usernames and passwords to be able to be sent to evil comm but the browser",
    "start": "519430",
    "end": "525580"
  },
  {
    "text": "doesn't know that so you can specify the form action and say look this is where you're allowed to post forms to on my",
    "start": "525580",
    "end": "531339"
  },
  {
    "text": "side and most websites it's just self because you generally only have a login on the same domain or you can just specify the",
    "start": "531339",
    "end": "538310"
  },
  {
    "text": "domains that you want it to be able to post to frame ancestors is another good",
    "start": "538310",
    "end": "543950"
  },
  {
    "text": "one this controls who is allowed to frame you and we see a lot of attacks like this especially on financial sites",
    "start": "543950",
    "end": "550760"
  },
  {
    "text": "where rather than kind of ripping off your homepage and trying to make a convincing looking blogging form what an",
    "start": "550760",
    "end": "557390"
  },
  {
    "text": "attacker will do is they'll get their site and they'll load you in an iframe so it is your website you're in an",
    "start": "557390",
    "end": "562400"
  },
  {
    "text": "iframe and then they'll overlay a transparent form on top so in the user clicks on what they think is the bank's",
    "start": "562400",
    "end": "568520"
  },
  {
    "text": "login field they're clicking on the transparent one overlaid on top of it and it's a really simple attack called clickjacking and",
    "start": "568520",
    "end": "574670"
  },
  {
    "text": "it's basically just lazy people that don't want to build their unlocking forms so they'll just frame you with frame ancestors if you try and do this",
    "start": "574670",
    "end": "581390"
  },
  {
    "text": "with my website you will see that it doesn't work because I use frame ancestors in CSP to say look nobody's",
    "start": "581390",
    "end": "588770"
  },
  {
    "text": "allowed to frame me my website does not go in an iframe and that's it problem solved things like block comics content",
    "start": "588770",
    "end": "597620"
  },
  {
    "text": "this is a really good one it's falling out of favor now and in and it's kind of been replaced with upgrading secured",
    "start": "597620",
    "end": "602750"
  },
  {
    "text": "requests but if you have a website on HTTP most people are either on HTTPS",
    "start": "602750",
    "end": "607850"
  },
  {
    "text": "already or are moving will soon be moving and when you go to HTTPS you need",
    "start": "607850",
    "end": "613220"
  },
  {
    "text": "to have all of your things loaded over HTTPS too so all of your images your style sheets your scripts your everything has to be HTTPS otherwise you",
    "start": "613220",
    "end": "620870"
  },
  {
    "text": "get little warnings in the address bar that says something is wrong so if you would support this on to your HTTP",
    "start": "620870",
    "end": "627470"
  },
  {
    "text": "website you lose your green padlock that you did all that hard work for and it",
    "start": "627470",
    "end": "632510"
  },
  {
    "text": "generally it turns yellow or maybe red depends on the exact browser but this will break things this will give your",
    "start": "632510",
    "end": "638300"
  },
  {
    "text": "users errors because you've somehow like this asset slipped through to production it happens you know we have the common",
    "start": "638300",
    "end": "644900"
  },
  {
    "text": "niceties like content writers and blog writers just copy and pasting from all over the internet into their articles",
    "start": "644900",
    "end": "650530"
  },
  {
    "text": "upgrade insecure requests tells the browser to look at that and rewrite that tag for you so the browser will actually",
    "start": "650530",
    "end": "657320"
  },
  {
    "text": "take that image tag and rewrite it to HTTPS because upgrading secure request",
    "start": "657320",
    "end": "662660"
  },
  {
    "text": "says look if there are any used if your requests on this page just upgrade them like I don't want them to break things I don't want my users to",
    "start": "662660",
    "end": "668639"
  },
  {
    "text": "see errors automatically fix it for me and just don't pester me with this thing",
    "start": "668639",
    "end": "674059"
  },
  {
    "text": "I'm gonna look at all of these in action I'm going to give me some demos of this kind of stuff in action but the one",
    "start": "674059",
    "end": "680939"
  },
  {
    "text": "thing that we need to consider is that CSP is quite powerful because what",
    "start": "680939",
    "end": "686339"
  },
  {
    "text": "happens if you forget to whitelist the place that you load your style sheets run and the browser refuses to load",
    "start": "686339",
    "end": "692399"
  },
  {
    "text": "style sheets on your website what's your website into what like it's crap so you",
    "start": "692399",
    "end": "697679"
  },
  {
    "text": "can break things with CSP most security mechanisms most features in fact you can't break things if you deploy them wrong so it's really essential that we",
    "start": "697679",
    "end": "704669"
  },
  {
    "text": "know how to test CSP before we deploy it and you can do you can test the SP with zero risk on your website what you do is",
    "start": "704669",
    "end": "712649"
  },
  {
    "text": "you send exactly the same policy that you've built but we change the name of the header so we changes a content",
    "start": "712649",
    "end": "718470"
  },
  {
    "text": "security policy report only and when you send the header with this name what it says to the browser is look I'm thinking",
    "start": "718470",
    "end": "725189"
  },
  {
    "text": "about deploying this policy tell me what would happen if you enforced it don't enforce it just tell me what you would",
    "start": "725189",
    "end": "732059"
  },
  {
    "text": "have done and the browser will pop up errors in the console for you and say right okay if I got this policy on this",
    "start": "732059",
    "end": "737279"
  },
  {
    "text": "page I would have blocked this image I would have blocked that script and this analogy over here would not have been",
    "start": "737279",
    "end": "742589"
  },
  {
    "text": "loaded eater and you can say great okay maybe we've missed them or maybe you actually have things that shouldn't be there but you get that",
    "start": "742589",
    "end": "748829"
  },
  {
    "text": "feedback but nothing happens on the page it's not going to completely tank your website but this means that you need to",
    "start": "748829",
    "end": "756660"
  },
  {
    "text": "go to the page and look in the console which kind of sucks especially if you're a big website with hundreds or maybe",
    "start": "756660",
    "end": "762299"
  },
  {
    "text": "even thousands of pages you could have localized content you could have got all kinds of crazy stuff so this doesn't really scale and there's a solution for",
    "start": "762299",
    "end": "769199"
  },
  {
    "text": "that as well it's called CSP reporting now again it's very similar kind of",
    "start": "769199",
    "end": "775379"
  },
  {
    "text": "mechanism what we do we have the header in report only mode and again we send the policy but this time you add this",
    "start": "775379",
    "end": "780869"
  },
  {
    "text": "new directive on the end called report URI and what this does is it saves to the browser look instead of just writing",
    "start": "780869",
    "end": "787980"
  },
  {
    "text": "this error into the console I actually just want you to send it to this location I want you to send me a report",
    "start": "787980",
    "end": "793110"
  },
  {
    "text": "and it will post a JSON payload to that endpoint for you and the JSON payload",
    "start": "793110",
    "end": "798690"
  },
  {
    "text": "all of the information in it that you need to find the issue and rectify it so",
    "start": "798690",
    "end": "804150"
  },
  {
    "text": "it tells you the document URI I know that on this page of my blog there is a problem they violated the script sauce",
    "start": "804150",
    "end": "810390"
  },
  {
    "text": "so I know there's a script on there that shouldn't be there it gives you the original policy so you can see what the browser was working with and then it",
    "start": "810390",
    "end": "817470"
  },
  {
    "text": "tells you the blocked URI so I can look at this and say wow okay if I go to this page on my blog there's a script tag on",
    "start": "817470",
    "end": "823500"
  },
  {
    "text": "there trying to load from evil com I should probably go take a look at that now in report only mode the browser will",
    "start": "823500",
    "end": "830820"
  },
  {
    "text": "not block it so this is just giving you the feedback and you can put this into your production site and the thing that",
    "start": "830820",
    "end": "836280"
  },
  {
    "text": "I like about this is that you're kind of turning all of the visitors to your site into kind of your QA team and your",
    "start": "836280",
    "end": "842580"
  },
  {
    "text": "security testing team because each time a visitor comes to your page they will say oh I came to your page and this",
    "start": "842580",
    "end": "847860"
  },
  {
    "text": "thing was wrong here's a bug report and it's nicely formatted it has all of the correct information and you'll never get",
    "start": "847860",
    "end": "852990"
  },
  {
    "text": "that from your QA team I can say that I was a QA it's ok so I want to show a",
    "start": "852990",
    "end": "860520"
  },
  {
    "start": "856000",
    "end": "1190000"
  },
  {
    "text": "couple of these different things actually in action because it's great to talk about them but it's even better when we can see them so I've got a few",
    "start": "860520",
    "end": "867900"
  },
  {
    "text": "different demos set up and if you follow me on Twitter what I'm gonna do is I'm just going to tweet the links out to these at the same time so you can",
    "start": "867900",
    "end": "874290"
  },
  {
    "text": "actually go and have a look at these afterwards I'll leave them up so I have a page here on my blog and it's got a",
    "start": "874290",
    "end": "879660"
  },
  {
    "text": "few different examples set up on it so let's dive into the console and see what's going on with this page so when I",
    "start": "879660",
    "end": "885990"
  },
  {
    "text": "reload that and straight away you can see that we've got two errors in the console just over to the side there so",
    "start": "885990",
    "end": "891830"
  },
  {
    "text": "if I take a look at this script tag this particular one here is that big enough",
    "start": "891830",
    "end": "899250"
  },
  {
    "text": "on the screen so I've got an actual script tag in this page this is like a genuine real script tag you can go inspect the sauce and it's genuinely",
    "start": "899250",
    "end": "904920"
  },
  {
    "text": "trying to load a keylogger from evil calm into my website but of",
    "start": "904920",
    "end": "910290"
  },
  {
    "text": "course I have CSP deployed and that has not happened because if we come down here and take a look it says refuse to",
    "start": "910290",
    "end": "917250"
  },
  {
    "text": "load the script evil.com forward slash keyloggers is because it violates the",
    "start": "917250",
    "end": "922680"
  },
  {
    "text": "following content security policy directive so because I have this header in place the browser comes through and",
    "start": "922680",
    "end": "928140"
  },
  {
    "text": "it parses the page and says okay we've got this script from evil comm but it's were not going to load that we're not",
    "start": "928140",
    "end": "934790"
  },
  {
    "text": "going to put it into the page now the next on I'm going to skip over",
    "start": "934790",
    "end": "940310"
  },
  {
    "text": "the form for a second because you can already see the second error in the console and the secondary in the console comes from this particular image here",
    "start": "940310",
    "end": "947030"
  },
  {
    "text": "and what I wanted to show was upgrading secure requests in action so again somehow somewhere",
    "start": "947030",
    "end": "953060"
  },
  {
    "text": "I have accidentally put a HTTP set onto my page could be an image it could be a style script doesn't matter but somehow",
    "start": "953060",
    "end": "959930"
  },
  {
    "text": "this thing got there and this thing shouldn't be there so if I take that though if we go look at the network tab",
    "start": "959930",
    "end": "966560"
  },
  {
    "text": "for the requests that loaded this and if I can find it if we take a look at the",
    "start": "966560",
    "end": "973070"
  },
  {
    "text": "request that was made to fetch that image even though the script tag said HTTP just like I said it actually made a",
    "start": "973070",
    "end": "979160"
  },
  {
    "text": "HTTP request now it tried to make that secure request they upgraded it to HTTPS",
    "start": "979160",
    "end": "985820"
  },
  {
    "text": "but they still didn't work because of the image being blocked by my CSP again",
    "start": "985820",
    "end": "992000"
  },
  {
    "text": "so it now says refused to load the image HTTP because they've already insecure but still evil.com is still not in my",
    "start": "992000",
    "end": "999170"
  },
  {
    "text": "wireless I still want a little pictures from evil comm even if we're loading them over HTTPS so this works this actually",
    "start": "999170",
    "end": "1007300"
  },
  {
    "text": "happens and the one that I really like and the one that bizarrely I see use the least of them is this one it's the forum",
    "start": "1007300",
    "end": "1014710"
  },
  {
    "text": "action so if we take a look just here actually they just dive straight into",
    "start": "1014710",
    "end": "1019810"
  },
  {
    "text": "the forum so you can see that I've got this this is actually like a real forum again I'm actually gonna do this the forum action on my website now any",
    "start": "1019810",
    "end": "1026199"
  },
  {
    "text": "normal website if you could inject this forum as an attacker as a bad guy I can do this there's many different avenues",
    "start": "1026200",
    "end": "1031689"
  },
  {
    "text": "it doesn't really matter how we got there if I put my username and password in there do you want this to actually",
    "start": "1031690",
    "end": "1038500"
  },
  {
    "text": "submit and hopefully the answer is no it doesn't matter what your website is hopefully the answer to this question is",
    "start": "1038500",
    "end": "1043870"
  },
  {
    "text": "no boy if we try I'll actually put a table that's put a real one in",
    "start": "1043870",
    "end": "1051029"
  },
  {
    "text": "so if I hit submit now we all agree that normally this should just fire and it would send a post payload with my",
    "start": "1053170",
    "end": "1059110"
  },
  {
    "text": "username and password but if I press it and I ignore one password because I'm not going to save that we can jump over",
    "start": "1059110",
    "end": "1065740"
  },
  {
    "text": "to the console and you can see again now we've got another area that's popped up",
    "start": "1065740",
    "end": "1070870"
  },
  {
    "text": "and he says refused to send form data so evil comm /eto password because it",
    "start": "1070870",
    "end": "1076510"
  },
  {
    "text": "violates the following content security policy directive and as I said most people hopefully it's probably it's gonna be form action itself because you",
    "start": "1076510",
    "end": "1082690"
  },
  {
    "text": "generally don't really post data to too many places but if you do you can just specify them now there's no real reason",
    "start": "1082690",
    "end": "1089260"
  },
  {
    "text": "especially on your login form that you want Matt to be able to send anywhere else I can't think of any legitimate",
    "start": "1089260",
    "end": "1096520"
  },
  {
    "text": "time when you would want to be able to send your login form to anyone else but you but I really don't see that many",
    "start": "1096520",
    "end": "1102460"
  },
  {
    "text": "sites using this is very it's a very rare thing and the last thing that I just want to quickly show if I do jump",
    "start": "1102460",
    "end": "1108760"
  },
  {
    "text": "over to the network tab what we can see here I talked about the report your eye and that value where you could send that",
    "start": "1108760",
    "end": "1115330"
  },
  {
    "text": "report so if we look here you can see that this page made a request to my report your eye value file transparency",
    "start": "1115330",
    "end": "1122440"
  },
  {
    "text": "I run this service that i'm also using myself of course and it sends that post payload out to the address that you",
    "start": "1122440",
    "end": "1128680"
  },
  {
    "text": "specify in your policy so if i sit down to the bottom you can actually see this",
    "start": "1128680",
    "end": "1134350"
  },
  {
    "text": "is the actual JSON payload that the browser dissent so if you as a general user of my site it came to that page and",
    "start": "1134350",
    "end": "1140110"
  },
  {
    "text": "you tried to actually log in not only with the CSP have saved you and not allowed you to submit that form but your",
    "start": "1140110",
    "end": "1146500"
  },
  {
    "text": "browser would then tell me that it happened it would say hey look someone's just come to your web site on this page they tried to send a form action to evil",
    "start": "1146500",
    "end": "1154480"
  },
  {
    "text": "calm and it's the host I could look at I'm like whoa we've got a pretty serious issue on our website we need to go fix",
    "start": "1154480",
    "end": "1159610"
  },
  {
    "text": "this so having a CSP is great it's really powerful it will help you do a lot of things but I also think that",
    "start": "1159610",
    "end": "1165670"
  },
  {
    "text": "reporting is is just as important because if you have a problem on your site and your CSP and the browser is",
    "start": "1165670",
    "end": "1172240"
  },
  {
    "text": "taking action to protect you or your users you should know about that you need to know about that so that's CSP and action as I said these",
    "start": "1172240",
    "end": "1180340"
  },
  {
    "text": "are kind of lightning introduction talks to all of these different kinds of technologies so have a look",
    "start": "1180340",
    "end": "1186370"
  },
  {
    "text": "CSP there's a lot more that it can do for you but I want to keep going I want to keep",
    "start": "1186370",
    "end": "1192010"
  },
  {
    "start": "1190000",
    "end": "1388000"
  },
  {
    "text": "moving forwards and the next thing that I want to talk about is xxp the second acronym in my slide title now X X P or X",
    "start": "1192010",
    "end": "1202750"
  },
  {
    "text": "X SS protection as it is called is another it's another HTTP response",
    "start": "1202750",
    "end": "1207820"
  },
  {
    "text": "header and we actually use it to configure the XSS auditor in browsers now every browser has one of these",
    "start": "1207820",
    "end": "1215050"
  },
  {
    "text": "auditors built into them if you're running any good or modern browser it will do and what these auditors do in",
    "start": "1215050",
    "end": "1220540"
  },
  {
    "text": "these browsers is they try and detect some of the attacks that we just talked about and they try to detect them automatically and take action to protect",
    "start": "1220540",
    "end": "1226480"
  },
  {
    "text": "you and that's good most of the time that's really good because we want the browser to try and detect these things",
    "start": "1226480",
    "end": "1232780"
  },
  {
    "text": "and we want the browser's to try and save our users in the instance that they're under attack but they aren't",
    "start": "1232780",
    "end": "1238809"
  },
  {
    "text": "always perfect we have seen instances in the past where the auditors have been abused they've been tricked into doing",
    "start": "1238809",
    "end": "1244420"
  },
  {
    "text": "things when they shouldn't have done things and this leads to some fairly interesting results now they've asked me",
    "start": "1244420",
    "end": "1251770"
  },
  {
    "text": "not to talk about the different audit ISM which browser has the best one and which one has the worst one so I'm not going to do that and we're just going to",
    "start": "1251770",
    "end": "1258790"
  },
  {
    "text": "talk about what X XP is and again as I said it's another security header so HTTP response header you decide you",
    "start": "1258790",
    "end": "1266020"
  },
  {
    "text": "define the header you send the header along with your pages and again you put the policy in the header itself now the",
    "start": "1266020",
    "end": "1271420"
  },
  {
    "text": "good thing with xxp compared to CSP is super simple I can actually just show you all possible values that you can",
    "start": "1271420",
    "end": "1277870"
  },
  {
    "text": "send because the list is that short this one turns off the auditor you send this",
    "start": "1277870",
    "end": "1283059"
  },
  {
    "text": "header with your website and it's nice to the browser look I am so happy with my defenses I don't want you to take any",
    "start": "1283059",
    "end": "1290200"
  },
  {
    "text": "action now this is really only for very brave websites the only big website that",
    "start": "1290200",
    "end": "1295240"
  },
  {
    "text": "I found that uses this is Facebook Facebook are so confident in their own defenses they don't want to risk the",
    "start": "1295240",
    "end": "1301090"
  },
  {
    "text": "browser's auditor being used in a way that it shouldn't so they actually set this header you can go to their site and see you then they say look turn off the",
    "start": "1301090",
    "end": "1307630"
  },
  {
    "text": "browser defenses we're happy with our own probably not for most people though the interesting thing is that most sites",
    "start": "1307630",
    "end": "1314260"
  },
  {
    "text": "don't issue this header and if you don't issue the header we actually default to this next value which is",
    "start": "1314260",
    "end": "1320080"
  },
  {
    "text": "where the auditor is enabled so by default on all sites unless you configure it otherwise the auditor is",
    "start": "1320080",
    "end": "1325419"
  },
  {
    "text": "running and will actively try and protect the users of your site after",
    "start": "1325419",
    "end": "1331360"
  },
  {
    "text": "that you can then specify the mode value and this is really interesting because in the default setting what the auditor",
    "start": "1331360",
    "end": "1338230"
  },
  {
    "text": "will do is it will just try and scoop things out of the page that it thinks are bad so it's like okay we've got this page this script tag looks nasty we'll",
    "start": "1338230",
    "end": "1344649"
  },
  {
    "text": "just take that little bit out when you set it to mode block what happens instead is it just refuses to render the",
    "start": "1344649",
    "end": "1349779"
  },
  {
    "text": "page and it says right okay there's something bad on this page I'm not even going to render it at all and this is",
    "start": "1349779",
    "end": "1355570"
  },
  {
    "text": "the value that I recommend that most sites should be using and you'll see why in just a moment and the last thing that",
    "start": "1355570",
    "end": "1362110"
  },
  {
    "text": "you can do again you can ask it to tell you you can say to the auditor in the",
    "start": "1362110",
    "end": "1367360"
  },
  {
    "text": "browser look if you take action because you think there is something wrong on my website great take the action save the",
    "start": "1367360",
    "end": "1373299"
  },
  {
    "text": "user but also tell me please tell me I have something wrong on my site because otherwise use the host we won't know so",
    "start": "1373299",
    "end": "1380409"
  },
  {
    "text": "again I think that the reporting is a really valuable part of of most of these",
    "start": "1380409",
    "end": "1385539"
  },
  {
    "text": "mechanisms so let's look at it in action again it's it's nice to give demos of",
    "start": "1385539",
    "end": "1392380"
  },
  {
    "start": "1388000",
    "end": "1673000"
  },
  {
    "text": "these different kinds of things and I've got a couple set up here for that so",
    "start": "1392380",
    "end": "1398190"
  },
  {
    "text": "this page here has a script loaded inside it you can see an example of the",
    "start": "1398190",
    "end": "1403450"
  },
  {
    "text": "script tag is just that and it's just a very simple alert script so if I just",
    "start": "1403450",
    "end": "1408909"
  },
  {
    "text": "reload the page it pulls in a script file that just throws up a j/s alert it doesn't do anything particularly fancy",
    "start": "1408909",
    "end": "1414730"
  },
  {
    "text": "you can see let's have a look at the script itself so here is the script tag",
    "start": "1414730",
    "end": "1421690"
  },
  {
    "text": "and if we just have a look at that just really simple doesn't do anything okay",
    "start": "1421690",
    "end": "1427480"
  },
  {
    "text": "there's nothing hostile about this the auditor will have looked at this and the order - how long has allowed this to run",
    "start": "1427480",
    "end": "1432610"
  },
  {
    "text": "as you would expect there's nothing bad happening here but as I said we can trick the auditor in the browser so what",
    "start": "1432610",
    "end": "1439929"
  },
  {
    "text": "happens if I let's take a copy of this element what I'm gonna do I'm just going",
    "start": "1439929",
    "end": "1446769"
  },
  {
    "text": "to make up a get parameter and then I paste the script tag into this get",
    "start": "1446769",
    "end": "1452529"
  },
  {
    "text": "parameter now when I send this request I'm going to reload the page where the get parameter this is just my blog it",
    "start": "1452529",
    "end": "1459129"
  },
  {
    "text": "doesn't do anything based on the parameters it literally doesn't care but if I rerun this now where's my alert box",
    "start": "1459129",
    "end": "1467109"
  },
  {
    "text": "I have no alert box anymore and if we take a look it is actually an error down",
    "start": "1467109",
    "end": "1472389"
  },
  {
    "text": "in the console if i zoom in on that for you he says the XSS auditor refused to",
    "start": "1472389",
    "end": "1478149"
  },
  {
    "text": "execute a script in this page because its source code was found in the request",
    "start": "1478149",
    "end": "1483190"
  },
  {
    "text": "is the end of that sentence and what this means is the auditor has seen me",
    "start": "1483190",
    "end": "1489820"
  },
  {
    "text": "send a get request to this server with this script tag in it and when the page came back the script tag was also in the",
    "start": "1489820",
    "end": "1496839"
  },
  {
    "text": "page and the audit is like whoa if you send the script the script comes back lying you're injecting the auditor things that I have put that",
    "start": "1496839",
    "end": "1503589"
  },
  {
    "text": "script tag into the page but the script tag was already there but the auditor doesn't know that I've tricked it into",
    "start": "1503589",
    "end": "1509019"
  },
  {
    "text": "removing that script tag from the page if we go look at the source of the page now the exact same page look at the",
    "start": "1509019",
    "end": "1516339"
  },
  {
    "text": "source of that script now the auditor in the browser has stripped that script tag",
    "start": "1516339",
    "end": "1521709"
  },
  {
    "text": "out now this script was harmless it didn't do anything but what if that was part of your redirect flowing or what if",
    "start": "1521709",
    "end": "1527589"
  },
  {
    "text": "it was some fraud detection script that would profile users and look for what if it was functional the kind of the point",
    "start": "1527589",
    "end": "1534309"
  },
  {
    "text": "here is that we don't want people to be able to choose what scripts we can have in our site you can put multiple get parameters in and just disable multiple",
    "start": "1534309",
    "end": "1540279"
  },
  {
    "text": "scripts on the page and then send that link to someone and when they click it their browser will do the same thing and",
    "start": "1540279",
    "end": "1547179"
  },
  {
    "text": "that all happens because this page doesn't define a policy we've left the browser in its default mode so what we",
    "start": "1547179",
    "end": "1553659"
  },
  {
    "text": "need to do instead is this page I have configured a policy and I've configured it into block mode now again we can take",
    "start": "1553659",
    "end": "1561219"
  },
  {
    "text": "a look at the page it's exactly the same script tag in there and what you'll see",
    "start": "1561219",
    "end": "1567369"
  },
  {
    "text": "if we do on this page is some slightly different behavior so exactly the same script tag I'll reload it and prove that it's there so it throws the alert but",
    "start": "1567369",
    "end": "1575619"
  },
  {
    "text": "this time I'm going to copy this script tag and go through exactly the same process to make up again promotor paste",
    "start": "1575619",
    "end": "1582909"
  },
  {
    "text": "that in there except this time the page doesn't load because this is what happens when the",
    "start": "1582909",
    "end": "1589120"
  },
  {
    "text": "policy is in block mode it says here chrome has detected unusual code on this page and blocked it to",
    "start": "1589120",
    "end": "1595240"
  },
  {
    "text": "protect your personal information and the error message is error blocked by the XSS auditor now again the auditor",
    "start": "1595240",
    "end": "1602260"
  },
  {
    "text": "was detected in an attack and he said look there's something wrong in this page in the previous example it just scooped out the bad script tag and",
    "start": "1602260",
    "end": "1608230"
  },
  {
    "text": "loaded the rest of the page with it which gives the attacker the ability to control what happens whereas with this",
    "start": "1608230",
    "end": "1614110"
  },
  {
    "text": "one it's like look if we say there is something fishy going on on this page should we even really load it like can",
    "start": "1614110",
    "end": "1619990"
  },
  {
    "text": "we be sure that we can fix that with no context than your information and allow the user to continue and I think this is",
    "start": "1619990",
    "end": "1626350"
  },
  {
    "text": "why block mod is much more important because the auditor can't be abused and",
    "start": "1626350",
    "end": "1632200"
  },
  {
    "text": "in both these scenarios I will have gotten a report sent back to me to say hey I'm the xs/s auditor calling in just",
    "start": "1632200",
    "end": "1638320"
  },
  {
    "text": "to let you know that on this page this thing happened and here's all the information that you need so you can get",
    "start": "1638320",
    "end": "1643660"
  },
  {
    "text": "this real-time feedback if you monitor those reports they're literally sent in real-time so you can sit there and watch that end point any black pop there we go",
    "start": "1643660",
    "end": "1650800"
  },
  {
    "text": "some things just happened so if you want that level of capability is there for you to have them for you to use so again",
    "start": "1650800",
    "end": "1659740"
  },
  {
    "text": "another really simple one I like xxp because I don't think we should just leave the default it doesn't matter what",
    "start": "1659740",
    "end": "1665260"
  },
  {
    "text": "policy setting you choose but choose it and be explicit don't just leave things to fate and see kind of what happens the",
    "start": "1665260",
    "end": "1674170"
  },
  {
    "start": "1673000",
    "end": "1970000"
  },
  {
    "text": "next one up for the next acronym in my title next lightning talk if you will STS is strict Transport Security your",
    "start": "1674170",
    "end": "1682930"
  },
  {
    "text": "detect a very common theme because strict Transport Security is also a security header but again it fixes a",
    "start": "1682930",
    "end": "1688390"
  },
  {
    "text": "different set of problems for us a lot of websites right now are either already on HTTPS or will be",
    "start": "1688390",
    "end": "1695680"
  },
  {
    "text": "very soon moving to HTTPS the whole web is driving towards HTTPS and it's",
    "start": "1695680",
    "end": "1701560"
  },
  {
    "text": "actually happening a rate that we've never seen before in history I scan the top a million sites on the planet every",
    "start": "1701560",
    "end": "1707110"
  },
  {
    "text": "day and I track how many of them every day are moving and this this graph not only are we maintaining the fact that",
    "start": "1707110",
    "end": "1713200"
  },
  {
    "text": "we're moving science the HTTPS this graph is actually getting steeper we're increasing the rate",
    "start": "1713200",
    "end": "1718659"
  },
  {
    "text": "which we move to HTTPS which is great this is fantastic we should encrypt all of the things but browsers were built in",
    "start": "1718659",
    "end": "1725259"
  },
  {
    "text": "an age when HTTPS didn't even exist at one point on the web HTTP was the only",
    "start": "1725259",
    "end": "1730269"
  },
  {
    "text": "thing that we had and some of the the behaviors and the bad habits linger",
    "start": "1730269",
    "end": "1736479"
  },
  {
    "text": "so without HSTs as we call these HTTP strict Transport Security without HSTs",
    "start": "1736479",
    "end": "1743309"
  },
  {
    "text": "you open your browser and you want to go to Twitter the thanks for coming be the",
    "start": "1743309",
    "end": "1751090"
  },
  {
    "text": "vast majority of people will open their address bar and type in twitter.com and if you type in Twitter com the blue part",
    "start": "1751090",
    "end": "1758619"
  },
  {
    "text": "here the browser needs to connect to the site and to do that the browser has to have a scheme we have to use HTTP or",
    "start": "1758619",
    "end": "1763869"
  },
  {
    "text": "HTTPS to get there and the problem is that right now even still today in every",
    "start": "1763869",
    "end": "1769659"
  },
  {
    "text": "single browser that you can go and use right now if you provide it Twitter com it will prefix it with HTTP and it will",
    "start": "1769659",
    "end": "1776739"
  },
  {
    "text": "default to doing the insecure thing this is still true absolutely right now in every browser and what that means is",
    "start": "1776739",
    "end": "1783129"
  },
  {
    "text": "that when you type that enhancer you immediately start talking over an insecure connection you send a HTTP",
    "start": "1783129",
    "end": "1789399"
  },
  {
    "text": "request now if you are going to a good site like Twitter they will of course respond back",
    "start": "1789399",
    "end": "1794979"
  },
  {
    "text": "with a 301 redirect and say look we don't do this HTTP thing we want the HTTPS we want to secure and the browser",
    "start": "1794979",
    "end": "1801489"
  },
  {
    "text": "says ok great that's fine I will honor that redirect and I will remake the requests over HTTPS it's not a big",
    "start": "1801489",
    "end": "1807340"
  },
  {
    "text": "problem and it's a bit of a big waste of time because you go to do this like whole big thing around the whole transport layer and then go get the page",
    "start": "1807340",
    "end": "1814299"
  },
  {
    "text": "properly but we end up where we need to be we end up on a secure connection but",
    "start": "1814299",
    "end": "1820330"
  },
  {
    "text": "not always the problem is that the majority of our initial connection to a",
    "start": "1820330",
    "end": "1825970"
  },
  {
    "text": "site is actually secure because the request we send in the response from Twitter is done on HTTP and that means",
    "start": "1825970",
    "end": "1831940"
  },
  {
    "text": "it's not secure people can see it people can meddle with it people can change it and the really important thing here is that the 301",
    "start": "1831940",
    "end": "1838269"
  },
  {
    "text": "that we get back from Twitter to say hey you're on an insecure connection right now let's go secure we send that over",
    "start": "1838269",
    "end": "1844570"
  },
  {
    "text": "HTTP we send that over in secure connection which means somebody can meddle with it somebody can tamper with",
    "start": "1844570",
    "end": "1850989"
  },
  {
    "text": "it so is it a good idea to say okay this isn't secure right now let's go secure the bad guys we'll just chop that bit",
    "start": "1850989",
    "end": "1857539"
  },
  {
    "text": "out they don't want the browser to see that bit and we're not on the secure connection right now and this is really",
    "start": "1857539",
    "end": "1862759"
  },
  {
    "text": "easy it's the most trivial attack that we can do and it's called SSL stripping and essentially what happens is when you",
    "start": "1862759",
    "end": "1869840"
  },
  {
    "text": "send that HTTP request to Twitter the bad guy says hi yeah I'm Twitter here's",
    "start": "1869840",
    "end": "1875299"
  },
  {
    "text": "the page that you asked for and what the bad guy does is they just proxy the request on the other side so they see",
    "start": "1875299",
    "end": "1881779"
  },
  {
    "text": "your browser ask for the homepage for Twitter and they go to Twitter on HTTPS grab the page and give it to you so your",
    "start": "1881779",
    "end": "1888649"
  },
  {
    "text": "browser's like great I sent an HTTP request and I got the page that I wanted load the page and it never sees the",
    "start": "1888649",
    "end": "1895070"
  },
  {
    "text": "upgrade thing because it doesn't happen and this is so trivially simple but if you deploy a website with HTTPS and you",
    "start": "1895070",
    "end": "1902809"
  },
  {
    "text": "aren't using HSTs then we haven't you're not finished we're not done because we've got to fix this problem because",
    "start": "1902809",
    "end": "1909980"
  },
  {
    "text": "it's so trivial to do and this is exactly the problem that STS fixes so",
    "start": "1909980",
    "end": "1916070"
  },
  {
    "text": "STS again it's strict Transport Security it's a security header really easy to configure and deploy you just set this",
    "start": "1916070",
    "end": "1921799"
  },
  {
    "text": "header on your site and deliver the policy along to the browser and again STS really simple there's only three",
    "start": "1921799",
    "end": "1929179"
  },
  {
    "text": "directives total and you actually only need to use max age that's the only one required for a valid policy now this is",
    "start": "1929179",
    "end": "1935720"
  },
  {
    "text": "the number of seconds that the browser should remember that you have enabled this for so you say okay look I want to",
    "start": "1935720",
    "end": "1942259"
  },
  {
    "text": "turn on this feature and I want to turn it on for a month and the browser will remember that and apply this feature for",
    "start": "1942259",
    "end": "1947389"
  },
  {
    "text": "a month include subdomains does exactly what it says on the tin if you turn this on for example com and that's your",
    "start": "1947389",
    "end": "1953330"
  },
  {
    "text": "website do you want to apply this to the subdomains beneath it and preload that's extra reading you should have a look at",
    "start": "1953330",
    "end": "1960169"
  },
  {
    "text": "pre loading because you can actually have your domain name written into the source code of every mainstream browser",
    "start": "1960169",
    "end": "1966109"
  },
  {
    "text": "on the planet using pre loading and that's really cool so you should check that out but this is an STS policy",
    "start": "1966109",
    "end": "1972259"
  },
  {
    "text": "that's it that's all that you need max age that's a month in seconds and the",
    "start": "1972259",
    "end": "1977269"
  },
  {
    "text": "idea is that if the user comes even once a week every time they come they'll top the cache they'll remember it for the",
    "start": "1977269",
    "end": "1983059"
  },
  {
    "text": "next month again and again and the protection that it gives you that is so crucial is that with HTTP",
    "start": "1983059",
    "end": "1990800"
  },
  {
    "text": "with HSTs sorry you open up your browser you type in twitter.com and you hit enter again now Twitter already uses",
    "start": "1990800",
    "end": "1996140"
  },
  {
    "text": "HSTs and has for a very long time and what will happen is the browser won't",
    "start": "1996140",
    "end": "2001390"
  },
  {
    "text": "actually send this request because HSTs tells it you can never speak to me on HTTP you change the default setting in",
    "start": "2001390",
    "end": "2009100"
  },
  {
    "text": "the browser from HTTP to HTTPS instead so now not only if we save that whole",
    "start": "2009100",
    "end": "2015760"
  },
  {
    "text": "trip around the network where we do the whole redirect and server 3 or one thing your page loads faster we're now just",
    "start": "2015760",
    "end": "2021280"
  },
  {
    "text": "going straight to HTTPS and because the HTTP request is never actually sent we",
    "start": "2021280",
    "end": "2026560"
  },
  {
    "text": "can just ignore it and just pretend it doesn't exist our whole connection is secure all of the time so it makes your page load",
    "start": "2026560",
    "end": "2033520"
  },
  {
    "text": "faster and it also makes it secure no matter what happens and there's a couple of interesting things that STS allows",
    "start": "2033520",
    "end": "2039730"
  },
  {
    "text": "you to do as well and this ones are sure to pull up those quickly so I may jump",
    "start": "2039730",
    "end": "2046000"
  },
  {
    "text": "over to a site that I know doesn't use this not mine mine does I just want to",
    "start": "2046000",
    "end": "2051280"
  },
  {
    "text": "open the network tab so let's have a look at this preserve the blog and",
    "start": "2051280",
    "end": "2058378"
  },
  {
    "text": "despite yelling at them all the time the BBC still don't use straight transport",
    "start": "2058379",
    "end": "2063820"
  },
  {
    "text": "security so I typed that in there and as we said you make a HTTP request it sends",
    "start": "2063820",
    "end": "2070570"
  },
  {
    "text": "it out over the network I'll just make that a bit bigger Don if the guys at the back can see and we send that HTTP",
    "start": "2070570",
    "end": "2076360"
  },
  {
    "text": "request out and then we get the 301 back to say look you need to come back over HTTP",
    "start": "2076360",
    "end": "2081690"
  },
  {
    "text": "now the BBC has like a horrible redirect chain and I don't understand why but",
    "start": "2081690",
    "end": "2086980"
  },
  {
    "text": "ultimately after being redirected you get to HTTPS at the end part of that but",
    "start": "2086980",
    "end": "2092050"
  },
  {
    "text": "all of those redirects were HTTP if the bad guy doesn't want you to see them the bad guy just throws them away because",
    "start": "2092050",
    "end": "2098290"
  },
  {
    "text": "they're not secure you can't stop them so that's somewhat problematic and if",
    "start": "2098290",
    "end": "2104140"
  },
  {
    "text": "you go to a web site and again I can explicitly try to go to HTTP on my web",
    "start": "2104140",
    "end": "2110050"
  },
  {
    "text": "site now as the user I've told the browser I want to go to HTTP on this website and",
    "start": "2110050",
    "end": "2115780"
  },
  {
    "text": "as the user you are generally the without the keyboard you're essentially got as far as the browser is concerned",
    "start": "2115780",
    "end": "2121090"
  },
  {
    "text": "you are like the most important thing and if you type it on the keyboard it happens what do you think will happen at",
    "start": "2121090",
    "end": "2126369"
  },
  {
    "text": "my site will this go HTTP and redirect",
    "start": "2126369",
    "end": "2131339"
  },
  {
    "text": "so if we take a look you can see this is the initial request that I made as the",
    "start": "2132600",
    "end": "2139480"
  },
  {
    "text": "user it tried to go to HTTP but the status code here is not 301 or maybe 302 as you would expect",
    "start": "2139480",
    "end": "2145450"
  },
  {
    "text": "it's 307 instead and it says that an internal redirect took place and the reason for that was HSTs now it then",
    "start": "2145450",
    "end": "2154600"
  },
  {
    "text": "immediately followed that up with a secure request instead so the browser didn't send that first request I didn't",
    "start": "2154600",
    "end": "2160690"
  },
  {
    "text": "go out we didn't hit the network he went to make and it was like oh actually I'm not allowed to do this because HSTs is",
    "start": "2160690",
    "end": "2166600"
  },
  {
    "text": "set on this site I've got to go to HTTPS straightaway and a good thing with that 307 read/write you can time these it",
    "start": "2166600",
    "end": "2173740"
  },
  {
    "text": "takes less than a millisecond so that means that that whole redirect loop that would have happened on my site also",
    "start": "2173740",
    "end": "2178750"
  },
  {
    "text": "didn't happen so this page loads quicker as well I like that we can get to things from a security mechanism better",
    "start": "2178750",
    "end": "2184510"
  },
  {
    "text": "performance and the fact that we've mitigated this whole category of different attacks so STS is really",
    "start": "2184510",
    "end": "2192310"
  },
  {
    "text": "simple and the one thing that I would say with it is start with your max age really low it's one of the most common problems I see people say oh let's turn",
    "start": "2192310",
    "end": "2199150"
  },
  {
    "text": "this on and test it and we'll set a year in the cache you can't turn something on",
    "start": "2199150",
    "end": "2204430"
  },
  {
    "text": "and test it for you because if you turn this on and it breaks your website then you're locked in for a year that's the",
    "start": "2204430",
    "end": "2209590"
  },
  {
    "text": "cache value that's how long the browser will remember it as I said I track those top I'm really in sight so when Facebook first introduced STS quite a while ago",
    "start": "2209590",
    "end": "2216790"
  },
  {
    "text": "now they started with the max age at 10 seconds and that's a really good idea because you're like there's no test",
    "start": "2216790",
    "end": "2222609"
  },
  {
    "text": "mechanism for STS apart from a small max age so you're like right I want to turn it on I want to see what happens so we'll go for 10 seconds so you deploy it",
    "start": "2222609",
    "end": "2230020"
  },
  {
    "text": "onto your site 10 seconds max age and it's like oh my god like all of these things break or our JavaScript subdomain",
    "start": "2230020",
    "end": "2235270"
  },
  {
    "text": "can't be secure whatever happens something breaks the best part is you just turn it off wait 10 seconds and",
    "start": "2235270",
    "end": "2240850"
  },
  {
    "text": "just deny any knowledge about what happened because it's all gone so that one was STS it's STS if you're",
    "start": "2240850",
    "end": "2248470"
  },
  {
    "text": "already on HTTPS this is essential you cannot consider your deployment done unless you are using STS it's just too",
    "start": "2248470",
    "end": "2256720"
  },
  {
    "text": "critical an issue and again it will make you have pages load faster so why not we have nothing to lose here next one this",
    "start": "2256720",
    "end": "2265060"
  },
  {
    "start": "2263000",
    "end": "2533000"
  },
  {
    "text": "is an interesting one I can hear people chuckling in the front row because pkp is the next acronym from my slide title",
    "start": "2265060",
    "end": "2272020"
  },
  {
    "text": "and public key pinning is a really interesting mechanism because this is basically the most powerful security",
    "start": "2272020",
    "end": "2277450"
  },
  {
    "text": "mechanism that you could ever deploy right now for your website and was it",
    "start": "2277450",
    "end": "2282550"
  },
  {
    "text": "spider-man that said like with great power comes great responsibility that has never been more true than with public key pinning because public key",
    "start": "2282550",
    "end": "2289870"
  },
  {
    "text": "pinning is the most powerful security mechanism or if you use it wrong it is the most powerful fought gun that you",
    "start": "2289870",
    "end": "2294970"
  },
  {
    "text": "all have ever seen so I'm giving you this warning on the way in because it's really important that we understand this public key",
    "start": "2294970",
    "end": "2302410"
  },
  {
    "text": "pinning is designed to fix a very specific problem that we have online called rogue certificates if you want HTTPS on your website you have to go to",
    "start": "2302410",
    "end": "2309460"
  },
  {
    "text": "a certificate authority and get certificate that's how this works and the idea is you go to this CA and say hi",
    "start": "2309460",
    "end": "2314860"
  },
  {
    "text": "I'm Scott how about you k you prove you over the domain and they say okay here's your certificate but who here has",
    "start": "2314860",
    "end": "2321430"
  },
  {
    "text": "perfect security no one great so neither",
    "start": "2321430",
    "end": "2327040"
  },
  {
    "text": "to CAS no organization has perfect security sometimes they get tricked sometimes they have breaches or we end",
    "start": "2327040",
    "end": "2332980"
  },
  {
    "text": "up with what's called a rogue certificate and it's where somebody gets a certificate that shouldn't have one so",
    "start": "2332980",
    "end": "2338110"
  },
  {
    "text": "if I get a certificate for PayPal com I can tell your browser I am PayPal calm and it will give you",
    "start": "2338110",
    "end": "2344440"
  },
  {
    "text": "green padlocks and secure things and you will think I am PayPal calm and that's a really big problem so all we have on the",
    "start": "2344440",
    "end": "2350170"
  },
  {
    "text": "screen here is one certificate that I got as the owner of this website and one certificate that the attacker got by",
    "start": "2350170",
    "end": "2355270"
  },
  {
    "text": "tricking a CA they might have hacked them compromised them breach their systems they may have just tricked them socially engineered them doesn't matter",
    "start": "2355270",
    "end": "2361660"
  },
  {
    "text": "which one of these is the bad certificate which one of them which one",
    "start": "2361660",
    "end": "2368260"
  },
  {
    "text": "of these should you trust and which one of these should you not trust and this is the problem this is exactly the",
    "start": "2368260",
    "end": "2375160"
  },
  {
    "text": "problem that pkp was designed to fix and just you know that was the bad one you were wrong",
    "start": "2375160",
    "end": "2380340"
  },
  {
    "text": "so pkp is another response header you'll you'll be seeing like a really similar theme through all of these it's another",
    "start": "2380340",
    "end": "2386490"
  },
  {
    "text": "HTTP response heading you set the public keepings header and again inside that header you set the policy that you want",
    "start": "2386490",
    "end": "2392310"
  },
  {
    "text": "the browser to enforce really simple again we've only got three directives max age and include subdomains you should be",
    "start": "2392310",
    "end": "2398760"
  },
  {
    "text": "familiar with now the number of seconds that you keep that for and whether or not you want this policy to apply to",
    "start": "2398760",
    "end": "2404550"
  },
  {
    "text": "subdomains on your site and this pin sha-256 directive is the new one this is the the secret sauce of pkp because to",
    "start": "2404550",
    "end": "2413220"
  },
  {
    "text": "deploy a valid policy you need at least two of these pin values and these pin values are a hash of the encryption key",
    "start": "2413220",
    "end": "2420240"
  },
  {
    "text": "on your server so when you set up HTTPS you want to do encryption of course you've got to have an encryption key and",
    "start": "2420240",
    "end": "2426960"
  },
  {
    "text": "what you do is you take a hash of that key it's actually a part of the key you take a hash of that and put it into the",
    "start": "2426960",
    "end": "2432480"
  },
  {
    "text": "policy and you're saying to the browser right look I've got my website set up I have this encryption key and here is a",
    "start": "2432480",
    "end": "2437640"
  },
  {
    "text": "hash of it so when you come back and I'm using this key again you can hash the key and see if it matches and if it",
    "start": "2437640",
    "end": "2443940"
  },
  {
    "text": "matches you know that it's me and the reason you need a second one is because you've got to have backups in every kind",
    "start": "2443940",
    "end": "2449100"
  },
  {
    "text": "of part of IT and tech you've got to have backups so the idea is you go somewhere else and you generate a backup",
    "start": "2449100",
    "end": "2454530"
  },
  {
    "text": "key and take the hash of that so you're saying to the browser look if you come back to my website the key that I use",
    "start": "2454530",
    "end": "2460860"
  },
  {
    "text": "should match one of these two hashes and if it doesn't it's not my key so it doesn't matter who gives it to you",
    "start": "2460860",
    "end": "2465990"
  },
  {
    "text": "and who they say they are you know that it's not me because I'm giving these two values to you ahead of time as I said",
    "start": "2465990",
    "end": "2474420"
  },
  {
    "text": "the hash value itself if you are technical and interested in this this is a hash of something called the subjects",
    "start": "2474420",
    "end": "2479610"
  },
  {
    "text": "public key information or the spki essentially if we don't care then you don't really need two new hash part of",
    "start": "2479610",
    "end": "2486150"
  },
  {
    "text": "your encryption key and the browser can check that every time it comes back to make sure it matches and to make sure",
    "start": "2486150",
    "end": "2491580"
  },
  {
    "text": "that it's still you at the other side because you've established some kind of a greed secret and say look these are",
    "start": "2491580",
    "end": "2496890"
  },
  {
    "text": "the two things that I will have and if you're really technical and you really do care about this you don't even need",
    "start": "2496890",
    "end": "2502350"
  },
  {
    "text": "to hash your own keys if you trust your CI you know if you can pin at different levels and the only reason I bring this",
    "start": "2502350",
    "end": "2508200"
  },
  {
    "text": "up is that if you do go away and consider this you need to understand the different ramifications of trusting your CA to do",
    "start": "2508200",
    "end": "2514570"
  },
  {
    "text": "this again it's a very complex and very powerful mechanism and probably may be only suitable if you're like a bank",
    "start": "2514570",
    "end": "2521050"
  },
  {
    "text": "website and government website maybe financing you do a lot of transactions large in commerce this certainly isn't",
    "start": "2521050",
    "end": "2526330"
  },
  {
    "text": "for you know Joe's pizza shop or you know some kind of small-scale site and",
    "start": "2526330",
    "end": "2533890"
  },
  {
    "start": "2533000",
    "end": "2641000"
  },
  {
    "text": "again very similar theme you can deploy this in report only mode if you look at this header here you'll see at the end",
    "start": "2533890",
    "end": "2539770"
  },
  {
    "text": "it's public key pins report only so you can deploy this to the browser and say look if I gave this to you what would",
    "start": "2539770",
    "end": "2545740"
  },
  {
    "text": "happen and also send me a report again to this address you'll get that nice JSON payload back when you can recruit",
    "start": "2545740",
    "end": "2552610"
  },
  {
    "text": "all of your visitors to be part of your QA team and file useful box like we're winning so much at this point it's",
    "start": "2552610",
    "end": "2558430"
  },
  {
    "text": "really a valuable feature to have so I'm not going to give a demo of pkp",
    "start": "2558430",
    "end": "2565780"
  },
  {
    "text": "and the reason I'm not going to give a demo of PK Peas it would be a little bit like me trying to give you a brief",
    "start": "2565780",
    "end": "2572080"
  },
  {
    "text": "introduction on handling weapons-grade plutonium and if you accidentally touch these two things together you're just going to vaporize us all this is this is",
    "start": "2572080",
    "end": "2578530"
  },
  {
    "text": "too dangerous for me to demo and you should really consider whether or not you need this on your site are you a high enough value target and the reason",
    "start": "2578530",
    "end": "2586150"
  },
  {
    "text": "I say that is let's say that you're the bad guy right now and you've hacked a CA and you can get a certificate for any",
    "start": "2586150",
    "end": "2593500"
  },
  {
    "text": "web site on the planet what domain would you get a certificate for if you could",
    "start": "2593500",
    "end": "2599130"
  },
  {
    "text": "you're gonna go for my paypal com maybe the Australian government me US",
    "start": "2602160",
    "end": "2608860"
  },
  {
    "text": "government maybe Amazon if you ask yourself that question and you are not",
    "start": "2608860",
    "end": "2614080"
  },
  {
    "text": "the answer then you don't need pkp that is the test that is the litmus test whether or not you need it if you could",
    "start": "2614080",
    "end": "2619750"
  },
  {
    "text": "get a certificate for any site on the planet any domain what domain would it be and if you put your domain in the",
    "start": "2619750",
    "end": "2625180"
  },
  {
    "text": "answer then you need this if not you probably don't the other reason for pkp",
    "start": "2625180",
    "end": "2631810"
  },
  {
    "text": "falling out of favor apart from being really dangerous is that it's largely being replaced by two of the mechanisms",
    "start": "2631810",
    "end": "2637240"
  },
  {
    "text": "you can achieve the same level of protection but with much less hassle and much less risk which is the more important part and that is the next",
    "start": "2637240",
    "end": "2643570"
  },
  {
    "text": "acronym in my title it's one of the two mechanisms that I see over the coming months and years replacing public key pinning as the",
    "start": "2643570",
    "end": "2650530"
  },
  {
    "text": "method of choice and its certificate authority authorization and again it",
    "start": "2650530",
    "end": "2656500"
  },
  {
    "text": "fixes a very simple problem but this is very serious problem when you want HTTPS",
    "start": "2656500",
    "end": "2661990"
  },
  {
    "text": "on your website you've got to go get a certificate this is just how it works you've got to go to a CA and apply for",
    "start": "2661990",
    "end": "2667060"
  },
  {
    "text": "them and when you do that and you get one you get the pretty green things in the browser you get the padlocks and HTTPS now I use less encrypts as my CA",
    "start": "2667060",
    "end": "2676420"
  },
  {
    "start": "2673000",
    "end": "2771000"
  },
  {
    "text": "if you already on HTTPS and you're paying for your certificates you don't have to pay for them anymore let's",
    "start": "2676420",
    "end": "2681820"
  },
  {
    "text": "encrypt give them away free and I only one less encrypt to issue the",
    "start": "2681820",
    "end": "2687100"
  },
  {
    "text": "certificates on my website but I have no way of saying that like how do I say I",
    "start": "2687100",
    "end": "2692140"
  },
  {
    "text": "only want this CA to do that if you go to a CA and say hi I'm Scott how could",
    "start": "2692140",
    "end": "2697180"
  },
  {
    "text": "it UK and you try and trick them you can go to any CA that you want as the bad guy you can choose now are you going to",
    "start": "2697180",
    "end": "2702880"
  },
  {
    "text": "go to like a really good strong CA that's got good processes in there secure are you gonna go to like a really",
    "start": "2702880",
    "end": "2708010"
  },
  {
    "text": "small CA that doesn't have very mature processes or good security U is the attacker get to choose how you want to",
    "start": "2708010",
    "end": "2714940"
  },
  {
    "text": "attack and this is a problem and this is a problem because I use less encrypt and that's not just less encrypt as a CA",
    "start": "2714940",
    "end": "2721210"
  },
  {
    "text": "there's hundreds of other CAS all around the world some of them are multi-million dollar companies with whole security",
    "start": "2721210",
    "end": "2728290"
  },
  {
    "text": "divisions never mind just teams and some of them are just kind of like you know a few guys in a shed that set up as an",
    "start": "2728290",
    "end": "2735220"
  },
  {
    "text": "attacker which one of those are you gonna go after if you want to try and bridge them you're gonna go after the weakest link in the chain because that's",
    "start": "2735220",
    "end": "2740860"
  },
  {
    "text": "what the bad guys do we're lazy and this is problematic because you can approach",
    "start": "2740860",
    "end": "2746230"
  },
  {
    "text": "this CEO you say right I want to try get a certificate for Scott's website and let's see if we can trick this year oh no we couldn't trick them right we'll",
    "start": "2746230",
    "end": "2752530"
  },
  {
    "text": "try and trick these guys next No and you're just gonna keep going until either you run out of CAS or you find",
    "start": "2752530",
    "end": "2757750"
  },
  {
    "text": "one that you can get through their their process so as a host as the owner of my",
    "start": "2757750",
    "end": "2764230"
  },
  {
    "text": "domain I want to be able to say that I don't authorize anyone else to issue certificates for me apart from the CAS",
    "start": "2764230",
    "end": "2771220"
  },
  {
    "start": "2771000",
    "end": "3086000"
  },
  {
    "text": "that I want and this is what CAA does by introducing a new DNS record you can now actually take control",
    "start": "2771220",
    "end": "2777740"
  },
  {
    "text": "who is allowed to issue certificates for your domain so we're all familiar with the kind of standard DNS records that we",
    "start": "2777740",
    "end": "2784400"
  },
  {
    "text": "come across we've got a records quad-a tax records CIA is just a new type of",
    "start": "2784400",
    "end": "2789980"
  },
  {
    "text": "record that you can set and this is why CIA is essentially free like you know",
    "start": "2789980",
    "end": "2795050"
  },
  {
    "text": "hopefully setting a DNS record isn't going to cost you anything and what we do is we set the issue directive this is",
    "start": "2795050",
    "end": "2801470"
  },
  {
    "text": "the first value you can set in CIA and it says this is the CIA that I authorized to issue certificates for my",
    "start": "2801470",
    "end": "2808190"
  },
  {
    "text": "website so now you is the bad guy you go to the China post office is a CA you go",
    "start": "2808190",
    "end": "2813230"
  },
  {
    "text": "to the China post office and you say I want a certificate for Scott helm Cody at UK see if I can trick you see if I can force you to give me one and they",
    "start": "2813230",
    "end": "2820369"
  },
  {
    "text": "look at this and say no sorry we're not authorized to do that problem-solve if you as the attacker",
    "start": "2820369",
    "end": "2827240"
  },
  {
    "text": "want a certificate now the only CA that you can go and try and get one from he's let's encrypt because they're the only",
    "start": "2827240",
    "end": "2832280"
  },
  {
    "text": "ones that are authorized to issue a certificate for my sign so the attack surface went from 200 plus days in the",
    "start": "2832280",
    "end": "2838250"
  },
  {
    "text": "planet to one and now use the attacker of force to do that and the issue",
    "start": "2838250",
    "end": "2844130"
  },
  {
    "text": "directive let's some issue standard certs so that contain actual domains if you want wild card certificates they're",
    "start": "2844130",
    "end": "2849200"
  },
  {
    "text": "a little bit more kind of powerful there's an issue wild directive so again you can allow or deny a CA the authority",
    "start": "2849200",
    "end": "2855859"
  },
  {
    "text": "to do that and again reporting is a really common thing that we see this io def record here what this says is if you",
    "start": "2855859",
    "end": "2863330"
  },
  {
    "text": "as a CA refuse to issue a certificate tell me that someone tried to get one",
    "start": "2863330",
    "end": "2868369"
  },
  {
    "text": "right yeah it's great that you've refused it and not issued it but I'd quite like to know if someone is out",
    "start": "2868369",
    "end": "2873710"
  },
  {
    "text": "there trying to get a certificate for my website and that is what this math because this method is for you say look",
    "start": "2873710",
    "end": "2879109"
  },
  {
    "text": "just send me an email here send me a report and say hey look someone's just trying to get a certificate for your domain you should probably know about",
    "start": "2879109",
    "end": "2884540"
  },
  {
    "text": "this so we'll take a look at it I can't actually show it in action as such but",
    "start": "2884540",
    "end": "2890840"
  },
  {
    "text": "with CAA being such a new mechanism unfortunately it's not quite as widely adopted as I would like yet this came",
    "start": "2890840",
    "end": "2897619"
  },
  {
    "text": "into action it was the 7th of September last year so all CAS are now required by their",
    "start": "2897619",
    "end": "2902990"
  },
  {
    "text": "governing body to check these records so this isn't optional anymore this is now a requirement so Google have this cool",
    "start": "2902990",
    "end": "2909890"
  },
  {
    "text": "DNS tool that we can use to look at records and we can now specifically look up CA records so this",
    "start": "2909890",
    "end": "2917240"
  },
  {
    "text": "might now is my actual CIA policy these are the these are the the CAS that I whitelist if like me you have more than",
    "start": "2917240",
    "end": "2924020"
  },
  {
    "text": "one CA just create multiple records and say not only do I authorized this particular CA but I also issue these I",
    "start": "2924020",
    "end": "2930290"
  },
  {
    "text": "also authorize these other people to issue as well the issue while directives are also in there so those CAS can issue",
    "start": "2930290",
    "end": "2936620"
  },
  {
    "text": "wildcard certificates for my domain and that's it like we really can't get much",
    "start": "2936620",
    "end": "2942020"
  },
  {
    "text": "more simple than creating a DNS record and I love these mechanisms where it's essentially zero effort on the way in",
    "start": "2942020",
    "end": "2948380"
  },
  {
    "text": "and the savings and the benefits on the other side are massive but it's not widely deployed yet so let's have a look",
    "start": "2948380",
    "end": "2955070"
  },
  {
    "text": "I think Google have won Google have their own CA so they just authorized themselves and no other CA is allowed to",
    "start": "2955070",
    "end": "2960590"
  },
  {
    "text": "issue certificates for google.com and who else have we got I can't think of anyone that actually uses this eBay are",
    "start": "2960590",
    "end": "2967310"
  },
  {
    "text": "you baiting so there we go eBay have locked themselves to some on tech and they also have the i/o desk set to get emails so if you go out there and",
    "start": "2967310",
    "end": "2973640"
  },
  {
    "text": "you're a bad guy and you try and get a certificate for eBay com not only are you not going to get it but they're also",
    "start": "2973640",
    "end": "2980030"
  },
  {
    "text": "going to tell you Bay that you try to get it as well and that's a really powerful mechanism again for sites like",
    "start": "2980030",
    "end": "2985370"
  },
  {
    "text": "eBay who it would be a really serious issue for if you got a certificate for eBay com this is this is a really good mechanism",
    "start": "2985370",
    "end": "2993100"
  },
  {
    "text": "there's the reason the CAA is well is much better than the previous one pkp is that if this does cause harm if this",
    "start": "2993100",
    "end": "3000520"
  },
  {
    "text": "does break there's no kind of max-age like there is in pkp if these records are wrong or you've misconfigured it or",
    "start": "3000520",
    "end": "3006550"
  },
  {
    "text": "you need to change it you just changed dns and as fast as you can change dns you can fix the problem so there's no",
    "start": "3006550",
    "end": "3012160"
  },
  {
    "text": "kind of memory effect there's no lasting harm or damage after you break it by accident so you need to generate your policy now",
    "start": "3012160",
    "end": "3019990"
  },
  {
    "text": "they look kind of gnarly sometimes and they can be problematic but there is a tool to do this and I would recommend this on this is the tool that I use on",
    "start": "3019990",
    "end": "3027010"
  },
  {
    "text": "SSL may see a record generator seal it should just go through and say look this is me well there we go yeah and you come",
    "start": "3027010",
    "end": "3035800"
  },
  {
    "text": "down here and there's just a list of all the different CAS and it's like right okay who do we want um I want less",
    "start": "3035800",
    "end": "3040810"
  },
  {
    "text": "encrypt to issue non wildcard and wild card and we'll just have these people whoever they are and then you scroll down to the",
    "start": "3040810",
    "end": "3047140"
  },
  {
    "text": "bottom would you like to get emails oh yes I would because that's a good idea and if you scroll down here that's your",
    "start": "3047140",
    "end": "3054190"
  },
  {
    "text": "policy they're that they're the records that you need to go set in DNS so you open up your I'm on cloud flight it's",
    "start": "3054190",
    "end": "3059890"
  },
  {
    "text": "really easy you just open it up create a new record select CAA paste that value in done hopefully that would take you no",
    "start": "3059890",
    "end": "3066280"
  },
  {
    "text": "more than maybe five or ten minutes and it's not going to cost you anything DNS records they should be free but you're",
    "start": "3066280",
    "end": "3071799"
  },
  {
    "text": "gonna get a huge level of protection from that so I love these easy wins any mechanism where you know I don't have to",
    "start": "3071799",
    "end": "3079000"
  },
  {
    "text": "do too much it's great so so anything I",
    "start": "3079000",
    "end": "3085059"
  },
  {
    "text": "was going back there's quite a few there I appreciate that was like a really kind of quick introduction and that was kind",
    "start": "3085059",
    "end": "3090970"
  },
  {
    "text": "of the point what I want to do is introduce you to these different mechanisms so that you can look at them and maybe you've seen one in there that",
    "start": "3090970",
    "end": "3096670"
  },
  {
    "text": "you think oh well those other ones might not be for us but you know that's ESP things sounded really good so quick",
    "start": "3096670",
    "end": "3103059"
  },
  {
    "start": "3103000",
    "end": "3121000"
  },
  {
    "text": "overview of each one if you're on HTTPS on your website you really want CSP with",
    "start": "3103059",
    "end": "3108160"
  },
  {
    "text": "upgrading secure enable reporting get that real-time feedback that is a massively valuable feature that you can",
    "start": "3108160",
    "end": "3114700"
  },
  {
    "text": "get when your visitors will tell you about problems with your site in real time what's not to like xxp please",
    "start": "3114700",
    "end": "3124240"
  },
  {
    "start": "3121000",
    "end": "3149000"
  },
  {
    "text": "specify this no matter what value what policy that you go for you should be explicit I don't think that we should",
    "start": "3124240",
    "end": "3129839"
  },
  {
    "text": "kind of rely on defaults because if we rely on defaults and we're not aware of it they can change they may change",
    "start": "3129839",
    "end": "3135549"
  },
  {
    "text": "between different browsers you know Chrome and Firefox may diverge on their agreement they may change what happens",
    "start": "3135549",
    "end": "3140950"
  },
  {
    "text": "so I think that we should be explicit and make a conscious choice rather than depending on defaults when we convey to",
    "start": "3140950",
    "end": "3146589"
  },
  {
    "text": "configuring the auditor STS another essential one it forces HTTPS to your",
    "start": "3146589",
    "end": "3153430"
  },
  {
    "start": "3149000",
    "end": "3172000"
  },
  {
    "text": "website we get rid of any HTTP comes so that default HTTP in the browser there's been there since the dawn of the web you",
    "start": "3153430",
    "end": "3160210"
  },
  {
    "text": "can change that to HTTPS Reap all of the security benefits save your servers from issuing 301's all day long make your",
    "start": "3160210",
    "end": "3167200"
  },
  {
    "text": "pages load faster there's really a lot to be had from a very simple mechanism there pkp this is the dark one this is",
    "start": "3167200",
    "end": "3174700"
  },
  {
    "start": "3172000",
    "end": "3201000"
  },
  {
    "text": "kind of falling out of glory now because a lot of people have configured this one a lot of people have",
    "start": "3174700",
    "end": "3179740"
  },
  {
    "text": "broken their websites I've helped two different companies try and recover from Miss configuring this so if you do",
    "start": "3179740",
    "end": "3186210"
  },
  {
    "text": "answer that question with your own domain if I could get a certificate for any site on the planet if your site is",
    "start": "3186210",
    "end": "3192160"
  },
  {
    "text": "on that list then do consider this but again be warned that is a very dangerous",
    "start": "3192160",
    "end": "3197380"
  },
  {
    "text": "mechanism if you get it wrong you turn off your website and there's no going back but then it's being replaced by CAA",
    "start": "3197380",
    "end": "3203799"
  },
  {
    "start": "3201000",
    "end": "3238000"
  },
  {
    "text": "we can get a lot of the features of pkp from CAA and it's just a simple DNS record as we",
    "start": "3203799",
    "end": "3210220"
  },
  {
    "text": "just saw if you are interested in the second mechanism that I talked about for replacing pkp something called",
    "start": "3210220",
    "end": "3215319"
  },
  {
    "text": "certificate transparency I'll tweet out some links to that afterwards and you can read up on that if you want but the",
    "start": "3215319",
    "end": "3220509"
  },
  {
    "text": "CT deadline for compliance is coming this April and most website operators I speaks you don't actually know that it's",
    "start": "3220509",
    "end": "3226420"
  },
  {
    "text": "coming in April so it's probably worth checking that out actually and having a look to see if your website is ready for",
    "start": "3226420",
    "end": "3232720"
  },
  {
    "text": "the CT compliance kind of impending doom deadline that's coming but other than",
    "start": "3232720",
    "end": "3238150"
  },
  {
    "start": "3238000",
    "end": "3600000"
  },
  {
    "text": "that you know security all of these are security mechanisms but often I find myself not selling them all of the time",
    "start": "3238150",
    "end": "3244390"
  },
  {
    "text": "on their security value reporting is great learning about errors on your site fix things automatically that slipped",
    "start": "3244390",
    "end": "3249880"
  },
  {
    "text": "through to production there shouldn't be there there's lots of benefits outside of just security as well so take all",
    "start": "3249880",
    "end": "3256660"
  },
  {
    "text": "this away secure all the things make your websites better and thank you very much",
    "start": "3256660",
    "end": "3263309"
  },
  {
    "text": "now I did leave and I have got six minutes for questions okay yes okay so",
    "start": "3266430",
    "end": "3291249"
  },
  {
    "text": "the question there was if you configure the auditor to block and the user gets that error message they might think it's",
    "start": "3291249",
    "end": "3296920"
  },
  {
    "text": "a result of a security compromised on your site I guess the problem here is and it sounds like a bit of cop-out",
    "start": "3296920",
    "end": "3302619"
  },
  {
    "text": "answer but it's not it depends on your organization's tolerance to what happens there because if you filter the risk is",
    "start": "3302619",
    "end": "3308559"
  },
  {
    "text": "that your website looks okay and your user gets compromised whereas if you block the result is that your user is",
    "start": "3308559",
    "end": "3314200"
  },
  {
    "text": "safe but it looks like something's happened to your site now I can't answer that question for you that's a decision",
    "start": "3314200",
    "end": "3320920"
  },
  {
    "text": "but this kind of comes back to the point of making the conscious decision and setting the value like right now you're",
    "start": "3320920",
    "end": "3326049"
  },
  {
    "text": "all just going with the default probably most people are just going with the default and don't actually know whereas even if you stick with the default it's",
    "start": "3326049",
    "end": "3332950"
  },
  {
    "text": "still better that you've explicitly and knowingly configured that to happen and can explain that when it does happen rather than just right now most people",
    "start": "3332950",
    "end": "3340329"
  },
  {
    "text": "don't second question yes that's a",
    "start": "3340329",
    "end": "3359799"
  },
  {
    "text": "really good question the question there basically was if someone compromises your site and they could set one of",
    "start": "3359799",
    "end": "3365319"
  },
  {
    "text": "these headers themselves like as the bad guy yeah so piqu piqu peers are",
    "start": "3365319",
    "end": "3370599"
  },
  {
    "text": "especially bad one for this if you get a bad guy in your environment and they can do stuff on your website setting",
    "start": "3370599",
    "end": "3375819"
  },
  {
    "text": "response headers will be one of the things that they could do and we actually call this hostile pinning there is a term for this and what happens with",
    "start": "3375819",
    "end": "3382119"
  },
  {
    "text": "hostile pinning is and we saw a really great example of this just last the year before at DEFCON in Vegas they called it",
    "start": "3382119",
    "end": "3388509"
  },
  {
    "text": "ransom pkp so bad guys get onto your server and they set the pkp header and",
    "start": "3388509",
    "end": "3394599"
  },
  {
    "text": "they lock it to a set of keys and then they deface your website you know you've seen the defacements before they write you know hacked by some kid",
    "start": "3394599",
    "end": "3401559"
  },
  {
    "text": "wall whatever and they send out a tweet saying look we've just two-faced like eBay's homepage",
    "start": "3401559",
    "end": "3406599"
  },
  {
    "text": "why is the first thing that everybody does when they see that in the headlines in the news they click it they all go",
    "start": "3406599",
    "end": "3412989"
  },
  {
    "text": "straight to the eBay homepage she's like oh my god there's like funny cat pictures on eBay's homepage let's go take a look when you go to the page you",
    "start": "3412989",
    "end": "3418809"
  },
  {
    "text": "get the policy but the users don't know that it happens in the background eBay security team come along they fix",
    "start": "3418809",
    "end": "3424809"
  },
  {
    "text": "everything they put their website back to normal and they're like ok everyone we're good come back to our website now but the",
    "start": "3424809",
    "end": "3430329"
  },
  {
    "text": "browser remembers the pkp policy from earlier and then when it comes back to the website the browser now can't load",
    "start": "3430329",
    "end": "3436359"
  },
  {
    "text": "the page and that's a variant of hostile pinning called ransom pkp because then",
    "start": "3436359",
    "end": "3441489"
  },
  {
    "text": "the bad guys ring eBay and say yeah those two pin values we set those two keys if you want those keys there are a",
    "start": "3441489",
    "end": "3446890"
  },
  {
    "text": "million dollars a piece or you can leave your website off your choice so this is",
    "start": "3446890",
    "end": "3452019"
  },
  {
    "text": "one of the reasons the kind of this is this is one of the big reasons that pkp is on its way oh I think in that it can",
    "start": "3452019",
    "end": "3458440"
  },
  {
    "text": "actually be turned around and used against the hosts in a very bad way and it can be used against you even if you",
    "start": "3458440",
    "end": "3463569"
  },
  {
    "text": "don't configure it because if I get onto your website I can just turn it on and you can't stop me because I'm in control",
    "start": "3463569",
    "end": "3469239"
  },
  {
    "text": "and it's not so much a problem because if the bad guys get it of course they can do whatever they want it's the fact",
    "start": "3469239",
    "end": "3474940"
  },
  {
    "text": "that after I'm gone it will stay there in the browser and that's the really dangerous bit yes I like fall forever if",
    "start": "3474940",
    "end": "3488319"
  },
  {
    "text": "you've got any modern browser that's been updated and like sorry no I think",
    "start": "3488319",
    "end": "3494079"
  },
  {
    "text": "you have to be edge ie11 if you're like super up-to-date with everything but if you're using how you love and then I",
    "start": "3494079",
    "end": "3500170"
  },
  {
    "text": "don't know if maybe you've got other things I'm sorry I do all the time I'm",
    "start": "3500170",
    "end": "3505299"
  },
  {
    "text": "just I'm just funning yeah",
    "start": "3505299",
    "end": "3510989"
  },
  {
    "text": "so the important thing to clarify there is that you should still keep your three oh ones in place so you should always do",
    "start": "3516779",
    "end": "3523630"
  },
  {
    "text": "that and always keep them because HSTs is what we call a tofu mechanism it's trust on first use which means that",
    "start": "3523630",
    "end": "3530410"
  },
  {
    "text": "until that browser has been to your website at least once they won't know it's there anyway so they're going to go HTTP that first time get the redirect",
    "start": "3530410",
    "end": "3537970"
  },
  {
    "text": "then CH STS and from that point forward they'll have it so you still need the the 301 because the first time every",
    "start": "3537970",
    "end": "3544480"
  },
  {
    "text": "time you'll be HTTP anyway that's what pre loading fixes go check out pre loading you get your domain name literally",
    "start": "3544480",
    "end": "3550630"
  },
  {
    "text": "written into the source code of the browser so even if it's never been to your website my domain name and I know this my domain name is written into the",
    "start": "3550630",
    "end": "3557049"
  },
  {
    "text": "source code of every browser on all of your devices if you've updated in like the last two years so my domain is",
    "start": "3557049",
    "end": "3562180"
  },
  {
    "text": "literally written into all of your devices if you've never been that's pre loading and that's cool everyone should check that out yep - why so if he",
    "start": "3562180",
    "end": "3579039"
  },
  {
    "text": "doesn't support STS yeah so this is a really good thing with all of these mechanisms is that you set these headers",
    "start": "3579039",
    "end": "3585549"
  },
  {
    "text": "and the browser looks at the header and it's not compliant or it's too old it doesn't understand them just ignores them and carries on as normal so the",
    "start": "3585549",
    "end": "3592119"
  },
  {
    "text": "absolute worst case scenario for any of these is nothing and that's what I really like because that's why it can be",
    "start": "3592119",
    "end": "3597400"
  },
  {
    "text": "fairly broad when I say everyone should deploy this because it doesn't really matter the worst case scenario is that",
    "start": "3597400",
    "end": "3602619"
  },
  {
    "text": "nothing changes there's another question",
    "start": "3602619",
    "end": "3607740"
  },
  {
    "text": "yes I saw this that was really good",
    "start": "3612630",
    "end": "3617910"
  },
  {
    "text": "correct yes",
    "start": "3621450",
    "end": "3625588"
  },
  {
    "text": "yes yeah so there's a couple of things",
    "start": "3631939",
    "end": "3641039"
  },
  {
    "text": "if you haven't read that article I'll tweet our link after the talk five minutes because it is a really good article the interesting thing that I",
    "start": "3641039",
    "end": "3646709"
  },
  {
    "text": "found about that is his problem was that he was exfiltrating data and CSP is not meant to stop data exfiltration it's",
    "start": "3646709",
    "end": "3652920"
  },
  {
    "text": "meant to stop content injection so there is kind of a cross purpose there in that he's he was kind of relying on CSP to do",
    "start": "3652920",
    "end": "3659009"
  },
  {
    "text": "something that he did but that it wasn't meant to do correct yes and actually",
    "start": "3659009",
    "end": "3664979"
  },
  {
    "text": "what we have done now I pushed in the standards body and we are actually gonna get a prefetch sauce in CSP version 3",
    "start": "3664979",
    "end": "3671279"
  },
  {
    "text": "which will be out soon so you ought to be able to specify things like prefetch pre-render etc as well so there will be",
    "start": "3671279",
    "end": "3677189"
  },
  {
    "text": "another new directive coming and that will completely neutralize the attack that was in the article questions",
    "start": "3677189",
    "end": "3683519"
  },
  {
    "text": "there's another can't see I did I don't",
    "start": "3683519",
    "end": "3689279"
  },
  {
    "text": "anymore know the answer was I'm a",
    "start": "3689279",
    "end": "3695999"
  },
  {
    "text": "security guy when I don't do things people ask me questions on Twitter so ya",
    "start": "3695999",
    "end": "3701459"
  },
  {
    "text": "know even I've turned off pkp on my site now in favor of CA a.m. CT any more",
    "start": "3701459",
    "end": "3707699"
  },
  {
    "text": "questions oh yeah sorry yes I see great",
    "start": "3707699",
    "end": "3714959"
  },
  {
    "text": "value in pkp before me yeah so most sites that do deploy pkp never actually",
    "start": "3714959",
    "end": "3721709"
  },
  {
    "text": "enforced it they deploy it in report only mode and use it purely as a monitoring mechanism just to see what's",
    "start": "3721709",
    "end": "3726779"
  },
  {
    "text": "going on out there because they might be curious it's like they never actually intend to enforce it but you can deploy pkp report only mode and have it sent",
    "start": "3726779",
    "end": "3734099"
  },
  {
    "text": "you those reports and it just gives you more data to work with and there's no risk because it can never go wrong and",
    "start": "3734099",
    "end": "3740609"
  },
  {
    "text": "there's one more yes",
    "start": "3740609",
    "end": "3744229"
  },
  {
    "text": "so just from that question by I'm again sorry make sure I understood it okay",
    "start": "3763950",
    "end": "3773369"
  },
  {
    "text": "yeah I mean I do use cookies and I in all of my services that I run and the",
    "start": "3773369",
    "end": "3778660"
  },
  {
    "text": "sites that I work with we still use cookies we have the secure flag to make sure they're always translated securely and the HTTP only flag to make sure they",
    "start": "3778660",
    "end": "3785859"
  },
  {
    "text": "can't be read by script but if you start coupling that things with like CSP to make sure that hostile script can't get",
    "start": "3785859",
    "end": "3791170"
  },
  {
    "text": "in that's another line of defense and if you're interested in cookies and auth tokens like that check out something",
    "start": "3791170",
    "end": "3796810"
  },
  {
    "text": "called same site cookies and I wrote an article called tough cookies if you google it it lists all of the extra",
    "start": "3796810",
    "end": "3802510"
  },
  {
    "text": "stuff that you can do with cookies and there's actually quite a lot that we can do to protect them so have a look further my tough cookies article I'll",
    "start": "3802510",
    "end": "3810130"
  },
  {
    "text": "have to wrap it there I'm over time I'm hanging around all night if there's any more questions please come and find me other than that thank you very much for",
    "start": "3810130",
    "end": "3815829"
  },
  {
    "text": "coming [Applause]",
    "start": "3815829",
    "end": "3819379"
  }
]