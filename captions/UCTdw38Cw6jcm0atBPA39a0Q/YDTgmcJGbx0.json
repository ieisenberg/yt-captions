[
  {
    "text": "hey folks how you all doing all right you enjoying the complimentary",
    "start": "8080",
    "end": "13280"
  },
  {
    "text": "food and drinks and everything it's great to see so many of your faces here it makes me so happy i spoke at ndc",
    "start": "13280",
    "end": "20880"
  },
  {
    "text": "last year which you may or may not remember was just all virtual so i spent the whole i spent",
    "start": "20880",
    "end": "26320"
  },
  {
    "text": "an hour just talking to a camera which believe me it's not the best kind of way",
    "start": "26320",
    "end": "31679"
  },
  {
    "text": "you don't get the most sort of feedback from the audience so having seen so many places here makes me really",
    "start": "31679",
    "end": "36960"
  },
  {
    "text": "really excited now just a heads up i might ask you a one point maybe two for",
    "start": "36960",
    "end": "42559"
  },
  {
    "text": "a little bit of audience participation now this is not dangerous you feel free to join along don't do it",
    "start": "42559",
    "end": "49120"
  },
  {
    "text": "if you don't want to it's only good fun anyway anyway welcome to this little",
    "start": "49120",
    "end": "54559"
  },
  {
    "text": "session on building webassembly games with rust how we move video games from consoles",
    "start": "54559",
    "end": "61920"
  },
  {
    "text": "and on your local machine and into the browser so",
    "start": "61920",
    "end": "68240"
  },
  {
    "text": "let's start with a little sort of outline for what we're going to do today",
    "start": "68240",
    "end": "73520"
  },
  {
    "text": "uh the duration here is actually about correct we'll be spending about 45 minutes with me just talking",
    "start": "73520",
    "end": "79439"
  },
  {
    "text": "you listening at any point if you've got any questions feel free to",
    "start": "79439",
    "end": "84640"
  },
  {
    "text": "just shout out raise your hand or whatever and i'll try and answer them as we go along there's really no like strict schedule",
    "start": "84640",
    "end": "91040"
  },
  {
    "text": "we have to follow um anyway the talk is divided roughly into three parts one is how do you even",
    "start": "91040",
    "end": "97920"
  },
  {
    "text": "get started like what are the tools that we want to use when building these games the second is when we how when we put it",
    "start": "97920",
    "end": "104799"
  },
  {
    "text": "together how do you actually build the game what sort of adjustments you need to make to build a game for the web",
    "start": "104799",
    "end": "109840"
  },
  {
    "text": "instead of for a for any well a native platform i would say",
    "start": "109840",
    "end": "115600"
  },
  {
    "text": "and finally when it's actually working and it builds for the web and it plays",
    "start": "115600",
    "end": "121200"
  },
  {
    "text": "what sort of concerns do you need to have in mind when building for a platform such as the web how is it",
    "start": "121200",
    "end": "126560"
  },
  {
    "text": "different from native and what you need to optimize for anyway let's start with a little",
    "start": "126560",
    "end": "132239"
  },
  {
    "text": "introduction hey folks i'm thomas hartman i'm currently a developer community",
    "start": "132239",
    "end": "138239"
  },
  {
    "text": "manager sort of developer relations ish very vague i don't know what i'm doing my boss doesn't know what i'm doing it's",
    "start": "138239",
    "end": "144000"
  },
  {
    "text": "pretty good uh i used to be a full stack-ish developer like i've been everywhere i've",
    "start": "144000",
    "end": "149599"
  },
  {
    "text": "done a bit of front-line i've done a bit of back-end not an expert at anything but i'm just really really curious i",
    "start": "149599",
    "end": "156000"
  },
  {
    "text": "really like playing around and learning new stuff now i'm a rust enthusiast or a station",
    "start": "156000",
    "end": "163440"
  },
  {
    "text": "as we like to call ourselves and i co-host the rust oslo meetup group",
    "start": "163440",
    "end": "168560"
  },
  {
    "text": "so when it was time to write a game for the web it was pretty obvious that yeah i'd go for rust now i don't have a very",
    "start": "168560",
    "end": "176239"
  },
  {
    "text": "impressive cv at all i haven't built massive projects i don't maintain curl or anything like that i just",
    "start": "176239",
    "end": "182800"
  },
  {
    "text": "like to learn i'm curious and i like playing with things and more than that i love video games",
    "start": "182800",
    "end": "188239"
  },
  {
    "text": "and i have ever since i was a kid now when i was a kid i was my mother's first",
    "start": "188239",
    "end": "195040"
  },
  {
    "text": "child right and she was quite conservative and she didn't really want",
    "start": "195040",
    "end": "201120"
  },
  {
    "text": "to let me watch tv for too long or play games or do anything so i always had go to my friends places",
    "start": "201120",
    "end": "206400"
  },
  {
    "text": "to play right and i was always super excited but then lucky stroke i got really ill",
    "start": "206400",
    "end": "213360"
  },
  {
    "text": "that meant that i had to stay home for like weeks and my mother was sort of scratching her",
    "start": "213360",
    "end": "219040"
  },
  {
    "text": "thinking well how am i going to entertain this kid i got to get some work done as well turns out the",
    "start": "219040",
    "end": "224840"
  },
  {
    "text": "solution is a nintendo 64. i was super excited right so i spent a",
    "start": "224840",
    "end": "230239"
  },
  {
    "text": "couple of weeks much like this kid yeah uh just playing super mario 64 and banjo-kazooie and",
    "start": "230239",
    "end": "238239"
  },
  {
    "text": "just loving everything and since then like i've loved games",
    "start": "238239",
    "end": "244239"
  },
  {
    "text": "all the while sadly as i'm sure a lot of you can relate to once you grow up and you start",
    "start": "244239",
    "end": "249439"
  },
  {
    "text": "a job you don't get as much time to play as you want to but that doesn't mean that my mind doesn't immediately go ah",
    "start": "249439",
    "end": "255439"
  },
  {
    "text": "games games this is cool can we do anything with games for this so that's why i thought yeah",
    "start": "255439",
    "end": "262240"
  },
  {
    "text": "let's write a game oh by the way i just realized you can see my address bar and stuff i'm really sorry about that but i",
    "start": "262240",
    "end": "267520"
  },
  {
    "text": "haven't found a way to both show full screen the pronunciation and my speaker notes so you'll just have to live with",
    "start": "267520",
    "end": "273199"
  },
  {
    "text": "it it's fine anyway yeah so writing a game",
    "start": "273199",
    "end": "278560"
  },
  {
    "text": "for the browser using rust there's a lot of moving parts and it could be really really difficult but",
    "start": "278560",
    "end": "286479"
  },
  {
    "text": "um i had hoped it would be harder because it's actually not it's surprisingly easy and when i found that out i figured oh",
    "start": "286479",
    "end": "293199"
  },
  {
    "text": " i gotta think of something else now to talk about for an hour right i gotta have something to show",
    "start": "293199",
    "end": "298479"
  },
  {
    "text": "and luckily i do um so just sit along and enjoy it",
    "start": "298479",
    "end": "305120"
  },
  {
    "text": "first off why why even write games of the browser",
    "start": "305120",
    "end": "310160"
  },
  {
    "text": "right like why not just deal with native games aren't they great i mean sure they are and they run they're optimized for",
    "start": "310160",
    "end": "316000"
  },
  {
    "text": "the various platforms but that's the thing there are various platforms they run on multiple separate",
    "start": "316000",
    "end": "323840"
  },
  {
    "text": "instances that means like if you're on a computer you need to download the right file for your operating system if you're on a",
    "start": "323840",
    "end": "329600"
  },
  {
    "text": "phone you need to get the right file for that and everything and i'm sure if you've played games you can also relate to the fact that oh you might have this",
    "start": "329600",
    "end": "336160"
  },
  {
    "text": "dll installer you need to link something or things just stop working",
    "start": "336160",
    "end": "341360"
  },
  {
    "text": "with the browser you've got one target and this target runs on pretty much all",
    "start": "341360",
    "end": "347120"
  },
  {
    "text": "modern systems so it's very easy right you go oh well you put it here everyone can get hold of it they don't need to",
    "start": "347120",
    "end": "352479"
  },
  {
    "text": "download anything it's just there right in the browser so it's a great way to sort of make",
    "start": "352479",
    "end": "358720"
  },
  {
    "text": "things accessible and make let people see what you're working on without having to download stuff",
    "start": "358720",
    "end": "364000"
  },
  {
    "text": "and spend a lot of time getting set up that's what makes it really exciting to",
    "start": "364000",
    "end": "369039"
  },
  {
    "text": "me now how do we get started with this as i",
    "start": "369039",
    "end": "374160"
  },
  {
    "text": "said i had a goal i wanted a game in a browser",
    "start": "374160",
    "end": "379199"
  },
  {
    "text": "that means probably webassembly you could do just javascript and play with the canvas and all that stuff but it's more fun if it's",
    "start": "379199",
    "end": "385440"
  },
  {
    "text": "web assembly and second as i said i love rust naturally",
    "start": "385440",
    "end": "391039"
  },
  {
    "text": "let's try and put them together now i also said specified this talk",
    "start": "391039",
    "end": "396960"
  },
  {
    "text": "does not require any sort of rust knowledge so don't worry we're not going to dive deep into like the internals of",
    "start": "396960",
    "end": "402800"
  },
  {
    "text": "how this function works and all that stuff it's all mostly pretty high level there's some optimization stuff later",
    "start": "402800",
    "end": "408240"
  },
  {
    "text": "that gets a bit into the weeds but just hang out and she'll be fine anyway",
    "start": "408240",
    "end": "414000"
  },
  {
    "text": "let's talk about rust because i mean why why would you choose rust and rust",
    "start": "414000",
    "end": "422720"
  },
  {
    "text": "basket ferrous is probably a bit hurt that you would even ask but for me it was never really a",
    "start": "422720",
    "end": "427759"
  },
  {
    "text": "question so let's talk about rust",
    "start": "427759",
    "end": "432880"
  },
  {
    "text": "rust is a systems programming language is what they bill it as but it's basically just a program language that",
    "start": "432880",
    "end": "439680"
  },
  {
    "text": "looks a lot like c it's got the c style structure that you're probably familiar with from c",
    "start": "439680",
    "end": "445039"
  },
  {
    "text": "from javascript and from all of that stuff um now this isn't a learner's talk so",
    "start": "445039",
    "end": "451280"
  },
  {
    "text": "this is probably the most we're going to see syntax wise so just so you know it's something you're familiar with",
    "start": "451280",
    "end": "457840"
  },
  {
    "text": "um rust is a compiled language much like",
    "start": "457840",
    "end": "462960"
  },
  {
    "text": "again c-sharp and java so as opposed to javascript and python that are interpreted that means you",
    "start": "462960",
    "end": "469360"
  },
  {
    "text": "build it once you get a binary and you can distribute the binary you don't need to distribute the source files right",
    "start": "469360",
    "end": "474879"
  },
  {
    "text": "next there's no runtime and there's no garbage collector this is more similar",
    "start": "474879",
    "end": "481039"
  },
  {
    "text": "to c and c plus plus where you need to do manual memory allocations to make sure you free and",
    "start": "481039",
    "end": "487520"
  },
  {
    "text": "allocate the memory you need rust does this slightly differently",
    "start": "487520",
    "end": "494240"
  },
  {
    "text": "it has something called the borrowed checker which means at compile time uh when you",
    "start": "494240",
    "end": "500080"
  },
  {
    "text": "build everything like in your source files you have to declare and make sure that everything works that the memory is",
    "start": "500080",
    "end": "506960"
  },
  {
    "text": "freed and all that stuff but russ does it for you just make sure that it doesn't compile unless things work",
    "start": "506960",
    "end": "515279"
  },
  {
    "text": "so this stuff so you get in memory leaks and is stops a whole host of bugs so it's really really useful for that",
    "start": "515279",
    "end": "522800"
  },
  {
    "text": "um it's also fast and memory efficient and this goes back to what i was saying",
    "start": "522800",
    "end": "528080"
  },
  {
    "text": "in terms of not having a runtime not being garbage collected right so like c and staples plus you get really really",
    "start": "528080",
    "end": "534320"
  },
  {
    "text": "high performance and you don't have these slow downs when you need to sort of collect all the garbage or start up",
    "start": "534320",
    "end": "540080"
  },
  {
    "text": "the runtime so you get away from that now what about me why do i like ross because",
    "start": "540080",
    "end": "546399"
  },
  {
    "text": "i mean this is great language wise but what is it about the language that draws me to it i mean sure performance",
    "start": "546399",
    "end": "553040"
  },
  {
    "text": "is good it's all well and good but i don't really encounter that a lot when i just do my own recording in my spare",
    "start": "553040",
    "end": "558959"
  },
  {
    "text": "time right why do i need to worry about that um so i think one of my favorite things is",
    "start": "558959",
    "end": "564959"
  },
  {
    "text": "rust's type system which is really really expressive and it's actually touring complete you can build a program with types such",
    "start": "564959",
    "end": "571440"
  },
  {
    "text": "that it doesn't compile because it just never finishes the halting problem right",
    "start": "571440",
    "end": "577120"
  },
  {
    "text": "or i mean in the compilation will start because of a stack overflow error at the end or a recursion depth error",
    "start": "577120",
    "end": "583519"
  },
  {
    "text": "but it's really really powerful it's a lot more similar to stuff like haskell to ocamel than it is to c-sharp and java",
    "start": "583519",
    "end": "591360"
  },
  {
    "text": "and this lets you model a lot of stuff very elegantly um it's ergonomic in the way yeah it's",
    "start": "591360",
    "end": "598240"
  },
  {
    "text": "low level like c like c plus plus but it's also got a lot of functions",
    "start": "598240",
    "end": "603600"
  },
  {
    "text": "and functionality set up so that it's sort of like it feels like python and a lot of it it's just got clear",
    "start": "603600",
    "end": "609440"
  },
  {
    "text": "functions it's easy to do what you want to do the community is warm and welcoming it",
    "start": "609440",
    "end": "616800"
  },
  {
    "text": "is one or probably the most welcoming community that i know and it's very supportive and everyone is",
    "start": "616800",
    "end": "623839"
  },
  {
    "text": "very welcome um it's challenging but in a good way i mentioned borrowjack earlier",
    "start": "623839",
    "end": "631120"
  },
  {
    "text": "once you start working with it like it's kind of hard to get going because it'll tell you oh you can't do this you can't",
    "start": "631120",
    "end": "636560"
  },
  {
    "text": "do that or hey you're free here but using it again here and at first that can be a bit of a",
    "start": "636560",
    "end": "641760"
  },
  {
    "text": "grind but once you get used to it and once you learn why and how it works it's actually really really fun",
    "start": "641760",
    "end": "648399"
  },
  {
    "text": "in a kind of a weird fun way right but also it's uh it's it helps you think about how you",
    "start": "648399",
    "end": "654000"
  },
  {
    "text": "structure your programs in general not just in rust and of course the cute little crab",
    "start": "654000",
    "end": "659040"
  },
  {
    "text": "ferris as the mascot so we've gone over most of this now so why",
    "start": "659040",
    "end": "664160"
  },
  {
    "text": "would rust be a good tool for video game development well obviously if it's faster memory efficient that's",
    "start": "664160",
    "end": "669519"
  },
  {
    "text": "great for a game that means you can draw more pixels on the screen it means you can fit more things in a game",
    "start": "669519",
    "end": "675200"
  },
  {
    "text": "that is exactly what you want it's also",
    "start": "675200",
    "end": "680320"
  },
  {
    "text": "not garbage collected so that means you don't get these sudden slowdowns when it has to sort of collect all the threads and collect all the loose objects you",
    "start": "680320",
    "end": "686160"
  },
  {
    "text": "get away from that completely and finally it compiles two asm really really well",
    "start": "686160",
    "end": "693360"
  },
  {
    "text": "there's a lot of tools in the web and rusty ecosystem that just put things",
    "start": "693360",
    "end": "698720"
  },
  {
    "text": "together so making that leap from a native binary to web binary",
    "start": "698720",
    "end": "705920"
  },
  {
    "text": "is pretty simple so web assembly then okay cool we know what",
    "start": "705920",
    "end": "712240"
  },
  {
    "text": "ross is what is web assembly um i was writing this talk right and i thought hey okay so this is website's",
    "start": "712240",
    "end": "718800"
  },
  {
    "text": "logo it's purple and it says it's purple and it says",
    "start": "718800",
    "end": "726079"
  },
  {
    "text": "now i don't know if nintendo had anything to do with this at all but i also can't say they didn't so",
    "start": "726079",
    "end": "732320"
  },
  {
    "text": "take that for what you will anyway webassembly or wasm",
    "start": "732320",
    "end": "737600"
  },
  {
    "text": "is an assembly like language for the web um it has a it's been designed",
    "start": "737600",
    "end": "745680"
  },
  {
    "text": "to complement the work alongside javascript not necessarily replace it",
    "start": "745680",
    "end": "750880"
  },
  {
    "text": "although a lot of people thought it would in the beginning that's not really what it's meant to do",
    "start": "750880",
    "end": "757440"
  },
  {
    "text": "it's fast uh it runs with near-native performance as they call it",
    "start": "757519",
    "end": "762880"
  },
  {
    "text": "basically it runs faster than javascript it's great to use for intensive computations",
    "start": "762880",
    "end": "770079"
  },
  {
    "text": "and it runs in pretty much all the modern browsers so all the big four like chrome firefox",
    "start": "770399",
    "end": "777519"
  },
  {
    "text": "safari and edge even before it was edgium so even the old edge does it",
    "start": "777519",
    "end": "783839"
  },
  {
    "text": "uh and also there's something called lazy or webassembly systems interface i",
    "start": "783839",
    "end": "788880"
  },
  {
    "text": "think which allows you to run whether somebody everywhere even outside the browser you'll need a runtime for it",
    "start": "788880",
    "end": "794959"
  },
  {
    "text": "but it makes it really really exciting uh because you can use that to sort of numb containerized applications because",
    "start": "794959",
    "end": "801360"
  },
  {
    "text": "website has a really strict security protocol so it's great for saying oh you don't get access to this and this and that",
    "start": "801360",
    "end": "806800"
  },
  {
    "text": "so not that i'm the expert here but it sounds as if it might um actually",
    "start": "806800",
    "end": "811920"
  },
  {
    "text": "be useful in the similar way that containers are used today",
    "start": "811920",
    "end": "816880"
  },
  {
    "text": "um as i said it was implemented in four major browsers in 2017 that's four years ago it's been around for a while it's",
    "start": "817200",
    "end": "823360"
  },
  {
    "text": "just you've probably used it you just haven't realized uh and finally",
    "start": "823360",
    "end": "829920"
  },
  {
    "text": "in 2019 it became a w3c recommendation that puts it on the same level as",
    "start": "829920",
    "end": "835680"
  },
  {
    "text": "javascript html and css as language of the web it is an officially a big thing",
    "start": "835680",
    "end": "843199"
  },
  {
    "text": "so what's it look like um this is a factorial function in c you don't",
    "start": "843199",
    "end": "850480"
  },
  {
    "text": "need to understand it it's just that's what it looks like now in webassembly as i said webassembly is a",
    "start": "850480",
    "end": "859279"
  },
  {
    "text": "assembly-like language with a compact binary format so a dot wasn't file",
    "start": "859279",
    "end": "865199"
  },
  {
    "text": "looks like this now i don't know about you but this doesn't look like anything to",
    "start": "865199",
    "end": "870560"
  },
  {
    "text": "me it's just a bunch of numbers put all together it doesn't really help in any way",
    "start": "870560",
    "end": "876560"
  },
  {
    "text": "but luckily websimply has another format as well you've got webassembly and you got",
    "start": "876560",
    "end": "882399"
  },
  {
    "text": "webassembly text and the fun thing is because they've got different extensions so webassembly is dot wasm",
    "start": "882399",
    "end": "888800"
  },
  {
    "text": "webassembly text is what yeah",
    "start": "888800",
    "end": "894000"
  },
  {
    "text": "again don't know if that's on purpose or a joke or whatnot but it's actually called what",
    "start": "894000",
    "end": "899519"
  },
  {
    "text": "and web assembly text is a lot more readable uh because it looks like this",
    "start": "899519",
    "end": "906399"
  },
  {
    "text": "which sort of kind of looks like any sort of function you might or any if you squint it sort",
    "start": "906399",
    "end": "911920"
  },
  {
    "text": "of looks like a language but also uh you can also make it look like this if",
    "start": "911920",
    "end": "918639"
  },
  {
    "text": "you're into lips this is great because it's just a bunch of s expressions now these two forms are equivalent",
    "start": "918639",
    "end": "926720"
  },
  {
    "text": "and it's just a different way of writing the same thing one is easy to read one is probably easier to edit depending",
    "start": "926720",
    "end": "932399"
  },
  {
    "text": "on how you like editing stuff final part then now that we've got rust",
    "start": "932399",
    "end": "938959"
  },
  {
    "text": "and we've got webassembly is the game engine what do we do with this one",
    "start": "938959",
    "end": "946079"
  },
  {
    "text": "uh here's my choices the ones i had amethyst bevy",
    "start": "946079",
    "end": "951839"
  },
  {
    "text": "or whiteboard from scratch now this isn't quite up to date the way it is now amethyst is or was a game engine in rust",
    "start": "951839",
    "end": "959199"
  },
  {
    "text": "it has since stopped working on the game engine and started just helping the community in the game engine",
    "start": "959199",
    "end": "964720"
  },
  {
    "text": "community itself bevvy is still active uh and a good choice uh right from",
    "start": "964720",
    "end": "972079"
  },
  {
    "text": "scratch is an option but not for me uh i would not know even",
    "start": "972079",
    "end": "978160"
  },
  {
    "text": "where to start or and i mean this took a while this thing but imagine just how much longer would it",
    "start": "978160",
    "end": "983440"
  },
  {
    "text": "take if i had a written whole engine so nah dropped that and decided to go",
    "start": "983440",
    "end": "988639"
  },
  {
    "text": "with betty because it was a well it's it's gotten so much attention",
    "start": "988639",
    "end": "995839"
  },
  {
    "text": "in the system lately there are also other choices i just wasn't really aware of them",
    "start": "995839",
    "end": "1002720"
  },
  {
    "text": "now in part the reason i chose baby is because i got a good friend who just",
    "start": "1002959",
    "end": "1008000"
  },
  {
    "text": "won't shut up about it it's great i love him and he's got me really into the idea of this",
    "start": "1008000",
    "end": "1014320"
  },
  {
    "text": "engine bevi according to themselves is a refreshingly simple data-driven game",
    "start": "1014320",
    "end": "1020160"
  },
  {
    "text": "engine built in rust it's based on an ecs or entity component",
    "start": "1020160",
    "end": "1025918"
  },
  {
    "text": "system again we're not going to delve into what that means for a game and i probably couldn't explain it well",
    "start": "1025919",
    "end": "1031520"
  },
  {
    "text": "enough if i tried so but it's different from how say unreal works i think or a number of",
    "start": "1031520",
    "end": "1038798"
  },
  {
    "text": "other engines that usually use a scene graph and instead you've got you know what never mind",
    "start": "1038799",
    "end": "1046000"
  },
  {
    "text": "it's also as opposed to other engines that i've worked with there's no graphical editor previously",
    "start": "1046000",
    "end": "1051840"
  },
  {
    "text": "when i've made games i've used unity i've used a bit of unreal and they have this nice like scene and drive where you",
    "start": "1051840",
    "end": "1057200"
  },
  {
    "text": "can place things in and you can move them around and shift them up and down none of that everything",
    "start": "1057200",
    "end": "1062320"
  },
  {
    "text": "is straight from your editor which is fine but it's a different",
    "start": "1062320",
    "end": "1067520"
  },
  {
    "text": "workflow right you got to think about things in a very different way now about wasm support",
    "start": "1067520",
    "end": "1075280"
  },
  {
    "text": "in bevi 0.5 which is the current version you need a plugin",
    "start": "1075280",
    "end": "1080559"
  },
  {
    "text": "but it's very simple you add a plugin and it compiles for wasn't easy in betwee 0.6 it will be built in",
    "start": "1080559",
    "end": "1087679"
  },
  {
    "text": "which is really quite exciting and really just elevates wisdom as like a proper target",
    "start": "1087679",
    "end": "1093520"
  },
  {
    "text": "so we've got the tools",
    "start": "1093520",
    "end": "1098240"
  },
  {
    "text": "part time for part two there's just no way this will work right uh and we'll start by or talking about",
    "start": "1098559",
    "end": "1105200"
  },
  {
    "text": "writing the actual game because that's supposed to be the fun part right this is why i did this i could write a game",
    "start": "1105200",
    "end": "1111280"
  },
  {
    "text": "um full disclosure i didn't",
    "start": "1111280",
    "end": "1116320"
  },
  {
    "text": "um the thing is i had massive plans",
    "start": "1116320",
    "end": "1121520"
  },
  {
    "text": "um and i applied for nbc right and then they accepted two of my talks",
    "start": "1121520",
    "end": "1127360"
  },
  {
    "text": "and not just one and suddenly i had to get a lot of done like oh can i do this can i do this",
    "start": "1127360",
    "end": "1134080"
  },
  {
    "text": "and also when you're writing a game or just in general you might know troubleshooting that's time consuming you spend a lot of",
    "start": "1134080",
    "end": "1140720"
  },
  {
    "text": "time trying to figure out why it doesn't work so um",
    "start": "1140720",
    "end": "1146880"
  },
  {
    "text": "i originally wanted to look really cool and really slick and present like a",
    "start": "1146880",
    "end": "1152000"
  },
  {
    "text": "maths puzzle game i took a course in discrete mathematics this spring i thought ah this is awesome",
    "start": "1152000",
    "end": "1158320"
  },
  {
    "text": "so i wanted to create like generate graphs and ask you to find like a yellow path around it or euler path",
    "start": "1158320",
    "end": "1164320"
  },
  {
    "text": "sorry wow or like oh you can use modular arithmetic to sort of figure out what's going on",
    "start": "1164320",
    "end": "1169760"
  },
  {
    "text": "there didn't happen didn't happen um so i could think okay well let's",
    "start": "1169760",
    "end": "1175039"
  },
  {
    "text": "simplify it we'll make a flappy bird clone that's easy right it's one thing that bob's up and down an",
    "start": "1175039",
    "end": "1180160"
  },
  {
    "text": "environment that passes forth should be easy uh yeah",
    "start": "1180160",
    "end": "1185760"
  },
  {
    "text": "that also takes time it didn't happen so i ended up using an example from bevy",
    "start": "1185760",
    "end": "1191679"
  },
  {
    "text": "that they sort of ship with there and it's breakout",
    "start": "1191679",
    "end": "1197039"
  },
  {
    "text": "it's breakout hey thank you have yourself some extra complimentary like coffee on me whatever",
    "start": "1198240",
    "end": "1207480"
  },
  {
    "text": "but it looks like this and it works so let's see what you need to do to",
    "start": "1207600",
    "end": "1212960"
  },
  {
    "text": "actually make it compile for webassembly instead of as a native binary",
    "start": "1212960",
    "end": "1218240"
  },
  {
    "text": "because originally the example targets",
    "start": "1218240",
    "end": "1223679"
  },
  {
    "text": "native platforms so let's look at the little bits that you need to add to make it run on the web",
    "start": "1223679",
    "end": "1231840"
  },
  {
    "text": "um parts of it relate to the limitations of the platform now some",
    "start": "1232840",
    "end": "1240880"
  },
  {
    "text": "of these aren't really necessarily relevant for the game because breakout is simple enough there isn't any multi-threading going on",
    "start": "1240880",
    "end": "1247120"
  },
  {
    "text": "but webassembly does not support multi-threading as of now also fun thing",
    "start": "1247120",
    "end": "1253520"
  },
  {
    "text": "bevy's default renderer is web gpu but no browsers support web gpu as of",
    "start": "1253520",
    "end": "1260080"
  },
  {
    "text": "now so when compiling for native you use web gpu when you compile for the web you use",
    "start": "1260080",
    "end": "1265440"
  },
  {
    "text": "a webgl too engine instead it's just a little plug that you gotta switch out it's not a big thing",
    "start": "1265440",
    "end": "1272000"
  },
  {
    "text": "the built-in audio system doesn't work again doesn't really matter for breakout there's no sound",
    "start": "1272000",
    "end": "1277440"
  },
  {
    "text": "uh but there are plugins you can get that just dropping replacements and work and finally if you want to control it",
    "start": "1277440",
    "end": "1283280"
  },
  {
    "text": "using a gamepad joystick or controller that's not supported on the web sadly",
    "start": "1283280",
    "end": "1289520"
  },
  {
    "text": "but now let's look at the bits you need to actually change in your",
    "start": "1289520",
    "end": "1295679"
  },
  {
    "text": "files both source files and package files and okay so the first one",
    "start": "1295679",
    "end": "1302240"
  },
  {
    "text": "this is part of a cargo.tml file which in rust is sort of like a package.json",
    "start": "1302240",
    "end": "1307600"
  },
  {
    "text": "or whatever it's where you describe the package and all the dependencies right in the original breakout game",
    "start": "1307600",
    "end": "1314559"
  },
  {
    "text": "this was all there was i mean there was a section saying who's the author and why is it but the only thing in there",
    "start": "1314559",
    "end": "1319760"
  },
  {
    "text": "that wasn't metadata is this dependency on devi now",
    "start": "1319760",
    "end": "1325440"
  },
  {
    "text": "when we change the wasm",
    "start": "1325440",
    "end": "1330480"
  },
  {
    "text": "it kind of expands a little bit now this looks really really scary but it's not",
    "start": "1330480",
    "end": "1336640"
  },
  {
    "text": "as bad as it seems and most of this is actually just saying what was saying oh",
    "start": "1336640",
    "end": "1342240"
  },
  {
    "text": "about the gpu web gpu and the webgl you'll notice that at the top it says",
    "start": "1342240",
    "end": "1347360"
  },
  {
    "text": "features and then it says all the default features and then it splits into native and web and this is how you tell",
    "start": "1347360",
    "end": "1353039"
  },
  {
    "text": "it how to compile the basic various platforms so here we say uh well okay use a",
    "start": "1353039",
    "end": "1359600"
  },
  {
    "text": "different renderer when building for native and for the web for everything else use",
    "start": "1359600",
    "end": "1364960"
  },
  {
    "text": "the default ones and finally because we",
    "start": "1364960",
    "end": "1370640"
  },
  {
    "text": "also added a new crate the right package if you will the webgl renderer we need to add that too",
    "start": "1370640",
    "end": "1377440"
  },
  {
    "text": "pretty simple but it's kind of intimidating because it went from one line to like 20.",
    "start": "1377440",
    "end": "1383840"
  },
  {
    "text": "next up here is a main function again we're not going to delve into what a or",
    "start": "1383840",
    "end": "1390640"
  },
  {
    "text": "how this works really but this is the main function this",
    "start": "1390640",
    "end": "1395840"
  },
  {
    "text": "this one function has every change i had to make to make it compile and run on the web",
    "start": "1395840",
    "end": "1401520"
  },
  {
    "text": "and is this fit that's literally all i had to change it says okay when we're compiling for the",
    "start": "1401520",
    "end": "1408400"
  },
  {
    "text": "webassembly target architecture add the webgl to plugin as i said that's the only change you",
    "start": "1408400",
    "end": "1414080"
  },
  {
    "text": "really had to make super easy now this is scary",
    "start": "1414080",
    "end": "1419840"
  },
  {
    "text": "this is cargo make this is a make file like format",
    "start": "1419840",
    "end": "1424880"
  },
  {
    "text": "so it's sort of inspired by i guess make file you use for c whatever so it's a build system that's",
    "start": "1424880",
    "end": "1431039"
  },
  {
    "text": "split into tasks um it is actually pretty good but this",
    "start": "1431039",
    "end": "1437200"
  },
  {
    "text": "isn't something you see in most rust projects so it wasn't really something i was familiar with how to use",
    "start": "1437200",
    "end": "1442480"
  },
  {
    "text": "now i'm going to run over to this here side because i can point at the screen is that okay",
    "start": "1442480",
    "end": "1448720"
  },
  {
    "text": "great all right oh what is a bit weird but yeah so um and it's great it runs and it builds",
    "start": "1448720",
    "end": "1455760"
  },
  {
    "text": "and it's in the browser now enjoy this gif of anakin skywalker a bit longer while i have another sip",
    "start": "1455760",
    "end": "1463919"
  },
  {
    "text": "so when you have a game that you're supposed to play in the browser",
    "start": "1466400",
    "end": "1471440"
  },
  {
    "text": "let's talk about what you need to sort of build and bundle it because i mean one thing",
    "start": "1471440",
    "end": "1477440"
  },
  {
    "text": "is the binary right you can create a binary but how do you distribute it and how do you put it on a web page and also",
    "start": "1477440",
    "end": "1485039"
  },
  {
    "text": "what sort of things do you need to think about when you build it like what do you",
    "start": "1485039",
    "end": "1490799"
  },
  {
    "text": "optimize for on the web is it different from native or how does it change anyway",
    "start": "1490799",
    "end": "1496240"
  },
  {
    "text": "the first thing we need to do to wire everything together is an html file it's supposed to go in the web it needs file",
    "start": "1496240",
    "end": "1501760"
  },
  {
    "text": "right and it's really pretty simple all it takes is this little block",
    "start": "1501760",
    "end": "1508320"
  },
  {
    "text": "of javascript which imports and starts the game now this file is sort of included it's",
    "start": "1508320",
    "end": "1516320"
  },
  {
    "text": "that's part of the template for building for the web and so it's in the repository and automatically it's built in",
    "start": "1516320",
    "end": "1523919"
  },
  {
    "text": "to like your distribution and once you do that it just works you get a blank page you",
    "start": "1523919",
    "end": "1530960"
  },
  {
    "text": "get the game so there's nothing great on the page it's literally just a blank page but at least it runs right at least",
    "start": "1530960",
    "end": "1536320"
  },
  {
    "text": "it's a game now let's look at the file because it says it import init from target wasn't",
    "start": "1536320",
    "end": "1543279"
  },
  {
    "text": "js right and this file",
    "start": "1543279",
    "end": "1548880"
  },
  {
    "text": "is over a thousand lines of magic numbers of obfuscated lines and names and it's",
    "start": "1548880",
    "end": "1556480"
  },
  {
    "text": "really sort of nasty you really don't want to write that yourself luckily you don't have to it's generated",
    "start": "1556480",
    "end": "1561679"
  },
  {
    "text": "for you by wasn't binding and this is the same",
    "start": "1561679",
    "end": "1566799"
  },
  {
    "text": "crate that we saw the arrow with earlier where i had the dependency mismatch same crate now this crate is really a",
    "start": "1566799",
    "end": "1575279"
  },
  {
    "text": "life saver because this is what sort of enables rust to talk to",
    "start": "1575279",
    "end": "1582159"
  },
  {
    "text": "javascript in and out and to bind things properly thus they're buying gen",
    "start": "1582159",
    "end": "1587840"
  },
  {
    "text": "again according to them it's rust library and the cli that facilitates high level interactions between wasn't",
    "start": "1587840",
    "end": "1594000"
  },
  {
    "text": "modules and javascript it's part of the boston webassembly egg",
    "start": "1594000",
    "end": "1599679"
  },
  {
    "text": "system the thing about this is webassembly by default really has",
    "start": "1599679",
    "end": "1606000"
  },
  {
    "text": "floats is it and u32s and that's all the types you get",
    "start": "1606000",
    "end": "1611360"
  },
  {
    "text": "that's a bit hard to work with if you're used to working with data structures and you're used to working with like anything",
    "start": "1611360",
    "end": "1616720"
  },
  {
    "text": "i mean anything except for just like numbers then you want something to not have to think",
    "start": "1616720",
    "end": "1622080"
  },
  {
    "text": "about what number is this luckily wasn't binding lets you use the same types the same structs the same",
    "start": "1622080",
    "end": "1628880"
  },
  {
    "text": "objects that you're used to in your codings you don't need to worry about it it's great it also",
    "start": "1628880",
    "end": "1634880"
  },
  {
    "text": "lets you import stuff from javascript into rust so you can call javascript modules from your rust code",
    "start": "1634880",
    "end": "1642399"
  },
  {
    "text": "super uh and you can even like do stuff like manipulate the dom and all that it's really really interesting how they've",
    "start": "1642399",
    "end": "1648320"
  },
  {
    "text": "done it it's necessary another cool thing if you do typescript it automatically generates bindings so",
    "start": "1648320",
    "end": "1655919"
  },
  {
    "text": "all in all great hey fan now",
    "start": "1655919",
    "end": "1661760"
  },
  {
    "text": "so you use that and then when it runs it's time to make the",
    "start": "1662240",
    "end": "1667279"
  },
  {
    "text": "package small and this is where the web differs from native right",
    "start": "1667279",
    "end": "1676080"
  },
  {
    "text": "because when you compile natively you usually want optimize speed you want things to run as fast as possible you",
    "start": "1676080",
    "end": "1681520"
  },
  {
    "text": "want to render as much as you can you want to make it run run run run but on the web",
    "start": "1681520",
    "end": "1687279"
  },
  {
    "text": "a larger size means it'll take longer to download which means it'll take longer before you see anything before they can",
    "start": "1687279",
    "end": "1693200"
  },
  {
    "text": "interact with it so you probably want to change your target and say actually i want a small binary it's okay if it",
    "start": "1693200",
    "end": "1700320"
  },
  {
    "text": "runs a little bit slower just make it a bit smaller um obviously that's a trade-off and",
    "start": "1700320",
    "end": "1706559"
  },
  {
    "text": "you've got to figure out okay well what's right for my game or what do you want to optimize for because maybe",
    "start": "1706559",
    "end": "1712559"
  },
  {
    "text": "sometimes you can you have your users and you know if they're happy to wait half an hour every game to download",
    "start": "1712559",
    "end": "1718799"
  },
  {
    "text": "but usually you probably don't you probably want them running as soon as possible but obviously in the end you",
    "start": "1718799",
    "end": "1725919"
  },
  {
    "text": "need to optimize for or you need to measure and optimize what's right for you",
    "start": "1725919",
    "end": "1731919"
  },
  {
    "text": "now measurement is important because otherwise how do you know what works and what doesn't",
    "start": "1731919",
    "end": "1739840"
  },
  {
    "text": "let's actually look at this because originally when i built it just no optimizations know anything just",
    "start": "1740080",
    "end": "1747039"
  },
  {
    "text": "in release mode it's 12.1 megabytes that's a pretty large download that can",
    "start": "1747039",
    "end": "1754080"
  },
  {
    "text": "take a little bit of time especially on slower networks right so it can take a while to get that one down",
    "start": "1754080",
    "end": "1760559"
  },
  {
    "text": "so let's look at some of the tips we can do some of the tricks number one and this is where it gets",
    "start": "1760559",
    "end": "1766080"
  },
  {
    "text": "sort of into the weeds i'll get sort of into how rust's uh compilation works and all that but it's not super important",
    "start": "1766080",
    "end": "1773840"
  },
  {
    "text": "you can do something called link time optimizations now i'm not a compiler engineer so this a lot of this is above",
    "start": "1773840",
    "end": "1780320"
  },
  {
    "text": "my head but apparently it lets llvm which is the back end the low-level virtual machine",
    "start": "1780320",
    "end": "1786159"
  },
  {
    "text": "it lets it inline and prune functions more often which for you means you get a smaller",
    "start": "1786159",
    "end": "1792080"
  },
  {
    "text": "binary and it runs a little bit faster so this is good however the trade-off",
    "start": "1792080",
    "end": "1797919"
  },
  {
    "text": "you get longer compile times it takes a bit longer to compile but you get something out of it",
    "start": "1797919",
    "end": "1804159"
  },
  {
    "text": "the other thing we can do is to optimize for size",
    "start": "1804159",
    "end": "1809279"
  },
  {
    "text": "by default lvm optimizes for speed it wants things to run fast because usually",
    "start": "1809279",
    "end": "1815520"
  },
  {
    "text": "that's what you want however we've got two flags change that they're called the they're called s and",
    "start": "1815520",
    "end": "1821440"
  },
  {
    "text": "z or z if you will now z is more aggressive than s",
    "start": "1821440",
    "end": "1828480"
  },
  {
    "text": "so it should in theory give you smaller binaries right that's usually the case at least so i'm",
    "start": "1828480",
    "end": "1835200"
  },
  {
    "text": "told but sometimes s yields better results so again what you've got to do",
    "start": "1835200",
    "end": "1840559"
  },
  {
    "text": "measure when compiled with link time optimization to thin",
    "start": "1840559",
    "end": "1847520"
  },
  {
    "text": "we saved about a meg that's fine right i i don't really know what",
    "start": "1847520",
    "end": "1852720"
  },
  {
    "text": "we're looking for in terms of like how much we want to save but that doesn't seem all that impressive",
    "start": "1852720",
    "end": "1858320"
  },
  {
    "text": "uh when we optimize for size this one's quite fun z give us 12.4 megabytes the aggressive",
    "start": "1858320",
    "end": "1864480"
  },
  {
    "text": "optimization for size made it larger i don't know why or what",
    "start": "1864480",
    "end": "1870559"
  },
  {
    "text": "but that's why it did now using s it got smaller again and that's good so",
    "start": "1870559",
    "end": "1878000"
  },
  {
    "text": "s takes it down to about 11.8 and level z takes up to about 12.4",
    "start": "1878000",
    "end": "1885200"
  },
  {
    "text": "okay cool what if we put them together can we do both lto thin and",
    "start": "1885200",
    "end": "1890799"
  },
  {
    "text": "like probably s right well we'll try z as well and see what's better",
    "start": "1890799",
    "end": "1895919"
  },
  {
    "text": "of course we can when we put them together",
    "start": "1895919",
    "end": "1901679"
  },
  {
    "text": "the length of optimization and the s optimization takes us to 10.4",
    "start": "1901679",
    "end": "1907760"
  },
  {
    "text": "megabytes uh and the z just takes us to 10.8 so the s is still performing better",
    "start": "1907760",
    "end": "1916240"
  },
  {
    "text": "but again saving one and a half megabyte out of 12 still",
    "start": "1918559",
    "end": "1924799"
  },
  {
    "text": "doesn't seem very impressive at that point is it worth it and what do you got to download at 10 and a half",
    "start": "1924799",
    "end": "1930480"
  },
  {
    "text": "anyway it's not that much extra to weight you the extra 10 so",
    "start": "1930480",
    "end": "1936000"
  },
  {
    "text": "luckily there's more stuff we can do let's look at post processing",
    "start": "1936000",
    "end": "1942159"
  },
  {
    "text": "you see there's a tool called wasmopt which is a post-processing tool from a package",
    "start": "1942159",
    "end": "1949760"
  },
  {
    "text": "called binarian or binarian i don't know how to pronounce that anyway binary is the compiler and tool",
    "start": "1949760",
    "end": "1955440"
  },
  {
    "text": "chain infrastructure library for webassembly and is written in c plus plus",
    "start": "1955440",
    "end": "1961279"
  },
  {
    "text": "its aim is to make compiling to reassembly easy fast and effective",
    "start": "1961279",
    "end": "1967519"
  },
  {
    "text": "what it does is that it sort of improves on llvm's optimizations and makes it",
    "start": "1967519",
    "end": "1972720"
  },
  {
    "text": "even better again i'm not a compiler engineer i don't know exactly how it works all i know is that it does good",
    "start": "1972720",
    "end": "1978480"
  },
  {
    "text": "stuff for you and it makes your binary better so let's see what happens when we try and",
    "start": "1978480",
    "end": "1984240"
  },
  {
    "text": "apply this now we had the s binary right there was 10.4 this",
    "start": "1984240",
    "end": "1991760"
  },
  {
    "text": "is both with length optimizations and with",
    "start": "1991760",
    "end": "1997600"
  },
  {
    "text": "the uh s optimization it was the smallest one the two we had right so we apply one's mop",
    "start": "1997600",
    "end": "2004320"
  },
  {
    "text": "to it and optimize again for s and we get down point to 6.1",
    "start": "2004320",
    "end": "2010960"
  },
  {
    "text": "now this is a lot better now we actually have we've split the amount of space you need",
    "start": "2010960",
    "end": "2016640"
  },
  {
    "text": "in two this is great the other one was a bit larger remember",
    "start": "2016640",
    "end": "2022240"
  },
  {
    "text": "but the funny thing is when you run this with wasmat it gets even smaller and we go from 12",
    "start": "2022240",
    "end": "2030159"
  },
  {
    "text": "down to 5.2 now granted that's still quite a lot of quite a lot of data to ship",
    "start": "2030159",
    "end": "2035360"
  },
  {
    "text": "but i'm sure there are websites out there that ship more javascript than that so it's probably not the worst",
    "start": "2035360",
    "end": "2040960"
  },
  {
    "text": "thing in the world at least we've cut seven out of 12 megs which is pretty",
    "start": "2040960",
    "end": "2046320"
  },
  {
    "text": "good i'd say now if this isn't enough for you",
    "start": "2046320",
    "end": "2051839"
  },
  {
    "text": "you can also run various kinds of code profiling and other sort of tweaks",
    "start": "2051839",
    "end": "2058720"
  },
  {
    "text": "there is a code profiler called twiggy which is a size profiling tool for wasm",
    "start": "2058720",
    "end": "2065839"
  },
  {
    "text": "what it does is it analyzes the call graph and it lets you see figure out why a function is called",
    "start": "2065839",
    "end": "2072240"
  },
  {
    "text": "and if we remove that function how much space would we actually save in the binary",
    "start": "2072240",
    "end": "2077280"
  },
  {
    "text": "and also remove sort of the other functions that are affected by this but we've also got manual interventions",
    "start": "2077280",
    "end": "2084560"
  },
  {
    "text": "and again this gets slightly into the weed of how rust works and compilation but",
    "start": "2084560",
    "end": "2090079"
  },
  {
    "text": "we'll do it briefly one avoid string formatting uh obviously",
    "start": "2090079",
    "end": "2095200"
  },
  {
    "text": "this causes allocations because you can't know the size of a string so the less you can do that",
    "start": "2095200",
    "end": "2103680"
  },
  {
    "text": "the less space you need in the binary you want to avoid panics panics are",
    "start": "2103680",
    "end": "2109520"
  },
  {
    "text": "what rust doesn't have exceptions but a panic is when something happens",
    "start": "2109520",
    "end": "2116320"
  },
  {
    "text": "and just just throws his hands up it's like i don't know what to do i don't know what to do and it just exits",
    "start": "2116320",
    "end": "2122560"
  },
  {
    "text": "now the reason why removing panics work is because to panic or when you",
    "start": "2122560",
    "end": "2129359"
  },
  {
    "text": "panic you also get a stack trace you can use a",
    "start": "2129359",
    "end": "2134400"
  },
  {
    "text": "preprocessor macro that'll stop you from panicking or when you do panic you won't get a stack trace and that",
    "start": "2134400",
    "end": "2139920"
  },
  {
    "text": "means there's less for you to worry about in the binary",
    "start": "2139920",
    "end": "2145119"
  },
  {
    "text": "you can avoid allocations as much as possible especially in hot code paths this is the same for any language that has any sort",
    "start": "2145119",
    "end": "2152160"
  },
  {
    "text": "of allocations the more you allocate the more time it takes and the more space it uses now",
    "start": "2152160",
    "end": "2159119"
  },
  {
    "text": "by if you can strip all the allocations in your binary amazing the roster",
    "start": "2159119",
    "end": "2166480"
  },
  {
    "text": "allocator takes about i heard 10 kilobytes that means you say 10 kilobytes we've seen now that we've got",
    "start": "2166480",
    "end": "2171760"
  },
  {
    "text": "five megs 10 kilobytes isn't going to be too much but like if you're down at that level he's like i need to get those fine",
    "start": "2171760",
    "end": "2178560"
  },
  {
    "text": "little bits out do that or use a different allocator you can switch allocators and rust to",
    "start": "2178560",
    "end": "2184800"
  },
  {
    "text": "something called we alloc now this one's less focus on having predictable performance but it is",
    "start": "2184800",
    "end": "2192320"
  },
  {
    "text": "a bit smaller and this one's fun in rust you can use trait objects",
    "start": "2192320",
    "end": "2199119"
  },
  {
    "text": "instead of generics and without getting too much into it",
    "start": "2199119",
    "end": "2204800"
  },
  {
    "text": "what this means when you use a generic in rust same as generic in c sharp or whatever",
    "start": "2204800",
    "end": "2211839"
  },
  {
    "text": "rust actually takes this function and monomorphizes it in the output that means one function",
    "start": "2211839",
    "end": "2218640"
  },
  {
    "text": "gets compiled to however many times it's called so it's one for each type it's called with",
    "start": "2218640",
    "end": "2223760"
  },
  {
    "text": "each one of those so the function say you call it with five different types then you get in the binary you get five",
    "start": "2223760",
    "end": "2230560"
  },
  {
    "text": "different functions but each use a single type instead so they're faster they take more space",
    "start": "2230560",
    "end": "2238720"
  },
  {
    "text": "instead if you use straight objects you get what's called dynamic dispatch that means rust figures",
    "start": "2238720",
    "end": "2244720"
  },
  {
    "text": "out at runtime whether is this type of that type of that type it's a bit slower but you get only the",
    "start": "2244720",
    "end": "2250640"
  },
  {
    "text": "one function so it takes less space and that's we want and finally there is a tool called wasm snip i think",
    "start": "2250640",
    "end": "2258000"
  },
  {
    "text": "this is a really funny name and what it does is you can annotate a function and say snip",
    "start": "2258000",
    "end": "2263200"
  },
  {
    "text": "and then if you know that this function is not called at runtime it just will be",
    "start": "2263200",
    "end": "2268720"
  },
  {
    "text": "completely excluded from the binary as well as all the functions that it",
    "start": "2268720",
    "end": "2273760"
  },
  {
    "text": "sort of relies on now i don't know why you would do this or what sort of use cases it's useful",
    "start": "2273760",
    "end": "2279119"
  },
  {
    "text": "for i've i've went and checked out the project seen the readme that's just what it says and i guess for",
    "start": "2279119",
    "end": "2284160"
  },
  {
    "text": "some reason if you want to run probably if you have what's called a const function you can run it at compile",
    "start": "2284160",
    "end": "2290640"
  },
  {
    "text": "time in rust so you can probably remove those if you know you're not going to use",
    "start": "2290640",
    "end": "2296240"
  },
  {
    "text": "it which would be useful now",
    "start": "2296839",
    "end": "2301920"
  },
  {
    "text": "all that out of the way this is an important sort of adage from",
    "start": "2301920",
    "end": "2308320"
  },
  {
    "text": "uh the bits of optimization just like how we let time profiling guide our speed up methods we want to",
    "start": "2308320",
    "end": "2315359"
  },
  {
    "text": "let size profiling guide our code size shrinking efforts fail to do this and you risk wasting",
    "start": "2315359",
    "end": "2321359"
  },
  {
    "text": "your own time and well maybe that of your employers but basically it just means yeah you",
    "start": "2321359",
    "end": "2327599"
  },
  {
    "text": "spend a lot of time that you won't get back and it might not really pay off",
    "start": "2327599",
    "end": "2333119"
  },
  {
    "text": "so in summary remember kids",
    "start": "2333119",
    "end": "2339040"
  },
  {
    "text": "that going from rust to webassembly is actually easier than you'd think",
    "start": "2339040",
    "end": "2345599"
  },
  {
    "text": "the main thing is sort of picking a compilation target when you compile there are some little amendments that",
    "start": "2345599",
    "end": "2351280"
  },
  {
    "text": "you might need to make to the source code you might need to make to the build system to make it work but overall it's pretty simple",
    "start": "2351280",
    "end": "2359680"
  },
  {
    "text": "there are a couple limitations to keep in mind as i said webassembly is single threaded",
    "start": "2359680",
    "end": "2365440"
  },
  {
    "text": "as of now certain libraries and certain workflows might not work depending on what they",
    "start": "2365440",
    "end": "2371839"
  },
  {
    "text": "need such as controllers or other things that or the audio for instance",
    "start": "2371839",
    "end": "2376960"
  },
  {
    "text": "but finally with great power comes great responsibility now the power here",
    "start": "2376960",
    "end": "2382400"
  },
  {
    "text": "is for you to distribute a game over the web but when you do that remember to keep",
    "start": "2382400",
    "end": "2388079"
  },
  {
    "text": "your audience and your users in mind so when you build when you bundle",
    "start": "2388079",
    "end": "2394560"
  },
  {
    "text": "try and optimize for the right things and measure the outcomes see what makes",
    "start": "2394560",
    "end": "2399839"
  },
  {
    "text": "things good uh and yeah just make sure that the experience is as good as possible",
    "start": "2399839",
    "end": "2408720"
  },
  {
    "text": "now this is actually all i had but i reckon do we want to see the game running do you want",
    "start": "2408839",
    "end": "2414400"
  },
  {
    "text": "to see if we can get it up yeah let's see if i can get this uh hey",
    "start": "2414400",
    "end": "2420000"
  },
  {
    "text": "so we're on this",
    "start": "2420000",
    "end": "2424280"
  },
  {
    "text": "oh is it going to run is it going to run",
    "start": "2430319",
    "end": "2435760"
  },
  {
    "text": "it seems my browser is a bit sort of not really responsive here because",
    "start": "2435760",
    "end": "2441040"
  },
  {
    "text": "it's not opening its tab that's interesting",
    "start": "2441040",
    "end": "2447200"
  },
  {
    "text": "how about we do this try and open it again",
    "start": "2447200",
    "end": "2453560"
  },
  {
    "text": "uh and shift this to number one",
    "start": "2454960",
    "end": "2460960"
  },
  {
    "text": "there we go so super simple breakout clone",
    "start": "2461200",
    "end": "2467839"
  },
  {
    "text": "and it runs all right so that's it if there's any",
    "start": "2467839",
    "end": "2473119"
  },
  {
    "text": "questions there's coupling back there you i saw you",
    "start": "2473119",
    "end": "2478839"
  },
  {
    "text": "first uh changing the way you allocate might",
    "start": "2478839",
    "end": "2484000"
  },
  {
    "text": "benefit your site have you considered trying another",
    "start": "2484000",
    "end": "2489680"
  },
  {
    "text": "allocation strategy like arena allocation or something i have not",
    "start": "2489680",
    "end": "2494800"
  },
  {
    "text": "done this for the specific case but that is also good yeah like figure out obviously that looks like anything right",
    "start": "2494800",
    "end": "2501599"
  },
  {
    "text": "um i don't have much experience with it but i'm sort of aware of it but yeah like anything you can do to change it or",
    "start": "2501599",
    "end": "2508079"
  },
  {
    "text": "to make it more effective or smaller it's probably good this one there yeah what is the maximum",
    "start": "2508079",
    "end": "2514319"
  },
  {
    "text": "resolution oh that's interesting i've never thought to check",
    "start": "2514319",
    "end": "2520839"
  },
  {
    "text": "uh do you jerk in i i don't know or i don't know why that doesn't matter i think the it's",
    "start": "2520839",
    "end": "2527200"
  },
  {
    "text": "the canvas that sort of uh this one uh wait so resolution",
    "start": "2527200",
    "end": "2533599"
  },
  {
    "text": "in what sense like how large can you make it or i don't know the the native one runs up",
    "start": "2533599",
    "end": "2540640"
  },
  {
    "text": "to 4k at least i'm assuming you can make the cameras larger if you want to i think this one's 1280 or something",
    "start": "2540640",
    "end": "2548560"
  },
  {
    "text": "um 1280 by what so 1080 is that anyway i'm sorry i don't actually know",
    "start": "2548560",
    "end": "2554960"
  },
  {
    "text": "but it's a good question right i think yeah",
    "start": "2554960",
    "end": "2560960"
  },
  {
    "text": "the performance profiling yeah we can open that just in the browser here you know how that works",
    "start": "2563359",
    "end": "2571280"
  },
  {
    "text": "i still have 12. poop",
    "start": "2575520",
    "end": "2580960"
  },
  {
    "text": "there we go all right what were you looking for performance eh sure",
    "start": "2581200",
    "end": "2587839"
  },
  {
    "text": "cool hey",
    "start": "2588800",
    "end": "2595119"
  },
  {
    "text": "it's a good shot yeah so it runs from what i can tell usually around or mostly at 60 and minimum 26.3 so that's pretty",
    "start": "2595839",
    "end": "2603440"
  },
  {
    "text": "decent but again i mean this is a very simple breakout clone obviously",
    "start": "2603440",
    "end": "2608480"
  },
  {
    "text": "uh depending on how complicated it gets it might not work yeah",
    "start": "2608480",
    "end": "2613760"
  },
  {
    "text": "so the the large assembly size that you ended up with yes that's mostly due to the size of the bevy game engine or is",
    "start": "2613760",
    "end": "2621040"
  },
  {
    "text": "that how it is when you make your arrest lessons that is also a really good question i don't know",
    "start": "2621040",
    "end": "2626480"
  },
  {
    "text": "um [Music] it's very thanks",
    "start": "2626480",
    "end": "2631520"
  },
  {
    "text": "do you want to sort of elaborate on why it's buffy",
    "start": "2632240",
    "end": "2637000"
  },
  {
    "text": "all right so for anyone who didn't hear that it's the game engine because it has to download and run a whole actual game",
    "start": "2648960",
    "end": "2655359"
  },
  {
    "text": "engine in your browser and that just takes a lot of space so the game here is i think like 100",
    "start": "2655359",
    "end": "2661040"
  },
  {
    "text": "lines of code or something it's pretty simple so it's not like that massive but obviously the game engine and to make it",
    "start": "2661040",
    "end": "2666160"
  },
  {
    "text": "run takes a little bit a while",
    "start": "2666160",
    "end": "2670000"
  },
  {
    "text": "it's a bit choppy uh i don't have anywhere on the projector it's it depends on how much i've got running on",
    "start": "2676079",
    "end": "2681440"
  },
  {
    "text": "my computer as well as with everything uh but it seems when i run it on on this screen like",
    "start": "2681440",
    "end": "2688160"
  },
  {
    "text": "locally it seems perfectly fine sometimes it might get a bit choppy but also that depends on your system",
    "start": "2688160",
    "end": "2694880"
  },
  {
    "text": "as i mentioned this is a linux system and so it might be that i just configured the gpu way wrong and things",
    "start": "2694880",
    "end": "2701200"
  },
  {
    "text": "just don't work as intended i i don't know like i've used this for a couple years i still don't know the first thing",
    "start": "2701200",
    "end": "2706640"
  },
  {
    "text": "about it i try and it usually sort of works out",
    "start": "2706640",
    "end": "2711520"
  },
  {
    "text": "this one in the back",
    "start": "2712880",
    "end": "2716440"
  },
  {
    "text": "um",
    "start": "2720400",
    "end": "2723400"
  },
  {
    "text": "yes so to just to rewrite the question is i mentioned that",
    "start": "2740880",
    "end": "2746560"
  },
  {
    "text": "webassembly is meant to complement javascript but is is it possible to use webassembly to sort of i mean control",
    "start": "2746560",
    "end": "2752319"
  },
  {
    "text": "the web page so you can build web pages in other languages and not just in javascript and not just use web74",
    "start": "2752319",
    "end": "2758560"
  },
  {
    "text": "and the short answer is yes there is uh so i mentioned earlier that",
    "start": "2758560",
    "end": "2763839"
  },
  {
    "text": "you you can import javascript functions you can call dom money you can do dom manipulation in rust there are",
    "start": "2763839",
    "end": "2770480"
  },
  {
    "text": "frameworks in rust such as the one i'm most familiar with is called you which lets you build essentially like react",
    "start": "2770480",
    "end": "2777440"
  },
  {
    "text": "or any sort of javascript app it lets you build the whole thing in rust and runs in the browser so it is possible i",
    "start": "2777440",
    "end": "2784240"
  },
  {
    "text": "don't know really what the state of it is you still need to initialize it from javascript and so on and so on",
    "start": "2784240",
    "end": "2789680"
  },
  {
    "text": "but i don't actually know where they're going with it in the end but the official stance is always",
    "start": "2789680",
    "end": "2795599"
  },
  {
    "text": "it's meant to complement javascript not replace it but that might mean that javascript does",
    "start": "2795599",
    "end": "2801040"
  },
  {
    "text": "what it does best which is these little little sprinkles right and then if you want to build a whole app maybe that's",
    "start": "2801040",
    "end": "2806240"
  },
  {
    "text": "better done in something else all right",
    "start": "2806240",
    "end": "2812400"
  },
  {
    "text": "anyone else no all right in which case yeah",
    "start": "2812400",
    "end": "2819880"
  },
  {
    "text": "yeah so the question is with rusty feels like there's a lot of sdks and libraries that are not stable",
    "start": "2839599",
    "end": "2846160"
  },
  {
    "text": "yet so what's my experience with it right yeah and it's true in rust a lot of",
    "start": "2846160",
    "end": "2852880"
  },
  {
    "text": "libraries are still in like o point whatever they haven't quite hit 1.0 any yet",
    "start": "2852880",
    "end": "2860000"
  },
  {
    "text": "um in my experience that's usually fine obviously i did have this thing that it's been weeks trying to figure out",
    "start": "2860000",
    "end": "2865920"
  },
  {
    "text": "what was happening right but usually it's not been an issue i haven't built any like large scale apps or anything in",
    "start": "2865920",
    "end": "2872480"
  },
  {
    "text": "rust but i've used it for a couple of simple like little web apps or a little server that does this or",
    "start": "2872480",
    "end": "2878000"
  },
  {
    "text": "that or advent of code and stuff like that usually fine and i know rust is used in production a",
    "start": "2878000",
    "end": "2883839"
  },
  {
    "text": "lot of places and like big places like amazon and google and stuff and they use it",
    "start": "2883839",
    "end": "2888880"
  },
  {
    "text": "so it does work um and i would probably say look at what libraries you can find and if you can't",
    "start": "2888880",
    "end": "2895920"
  },
  {
    "text": "find a 1.0 just see what it's all about because usually even before 1.00 they've been quite",
    "start": "2895920",
    "end": "2901280"
  },
  {
    "text": "stable in my experience right great",
    "start": "2901280",
    "end": "2907839"
  },
  {
    "text": "ah yes",
    "start": "2907839",
    "end": "2911079"
  },
  {
    "text": "uh yeah so what exactly do you mean by optimizing",
    "start": "2917760",
    "end": "2924079"
  },
  {
    "text": "across performance the different devices that people would be using kind of like when you're making mobile applications you want a specific experience for",
    "start": "2927440",
    "end": "2934240"
  },
  {
    "text": "everyone right you don't want it to like accelerate hardware ah right",
    "start": "2934240",
    "end": "2941359"
  },
  {
    "text": "that is very likely possible but i also do not know i'm sorry",
    "start": "2941359",
    "end": "2948400"
  },
  {
    "text": "yes",
    "start": "2951119",
    "end": "2954119"
  },
  {
    "text": "is",
    "start": "2964400",
    "end": "2967400"
  },
  {
    "text": "ah that's a good question now there's a couple things i didn't mention uh and the question was how do you debug when",
    "start": "2989520",
    "end": "2994800"
  },
  {
    "text": "you got this massive file sort of includes everything right so how do you include how do you debug the compiled binary or the wise and binary thing",
    "start": "2994800",
    "end": "3000720"
  },
  {
    "text": "right and what we saw with the compilations and",
    "start": "3000720",
    "end": "3005760"
  },
  {
    "text": "how i compile this when you compile for was them like the completion takes a while so it's probably not optimal for",
    "start": "3005760",
    "end": "3012240"
  },
  {
    "text": "when you're developing you probably wanted you do this for like release build uh and also because the changes you need",
    "start": "3012240",
    "end": "3019680"
  },
  {
    "text": "to make are so few when i'd sort of when i was developing things and trying to make it work i",
    "start": "3019680",
    "end": "3025040"
  },
  {
    "text": "would build it for native and just run it on my computer and just debug it that way and then just hope it works in the",
    "start": "3025040",
    "end": "3031599"
  },
  {
    "text": "browser i mean the one thing that we do change here is the the webgl or the renderer",
    "start": "3031599",
    "end": "3037440"
  },
  {
    "text": "that might cause problems but i haven't run into any so i haven't actually had to solve that problem",
    "start": "3037440",
    "end": "3042960"
  },
  {
    "text": "but say try and probably run it for native first and then if you have to run for the web there might be ways to do it",
    "start": "3042960",
    "end": "3049119"
  },
  {
    "text": "but i haven't checked we had did you have a question right yeah you",
    "start": "3049119",
    "end": "3054960"
  },
  {
    "text": "partially answered it now but i was wondering how the developer experience was you have to compile the entire thing",
    "start": "3054960",
    "end": "3061119"
  },
  {
    "text": "yeah every time you make a change yeah so about that as well bevy has a",
    "start": "3061119",
    "end": "3066640"
  },
  {
    "text": "feature called dynamic which you can use which is really useful for development which lets you",
    "start": "3066640",
    "end": "3072079"
  },
  {
    "text": "because it will load pretty much everything dynamically but just compile bits you change",
    "start": "3072079",
    "end": "3077200"
  },
  {
    "text": "and so development-wise this is great because that means it takes like a second or two to rebuild it's pretty much instant right you rebuild and you",
    "start": "3077200",
    "end": "3083599"
  },
  {
    "text": "see it i did not get that working with the the the build script that i had for it",
    "start": "3083599",
    "end": "3088640"
  },
  {
    "text": "wasn't because i didn't really well because at that point i just accepted that i'm not going to make a game anyway i'll just use breakouts i didn't really",
    "start": "3088640",
    "end": "3094559"
  },
  {
    "text": "need it but when working on the actual game using dynamic to reload is",
    "start": "3094559",
    "end": "3101839"
  },
  {
    "text": "much much faster and very smooth it's also uh outlining the docs if you need how to use it",
    "start": "3101839",
    "end": "3108000"
  },
  {
    "text": "yeah do you have one more question",
    "start": "3108000",
    "end": "3111838"
  },
  {
    "text": "all right see like source map yeah so you can do source maps to debug things that's great",
    "start": "3118160",
    "end": "3125839"
  },
  {
    "text": "all right any struggles no all right then thank you very much",
    "start": "3126559",
    "end": "3133119"
  },
  {
    "text": "for coming along to listening it's really nice seeing you",
    "start": "3133119",
    "end": "3139720"
  }
]