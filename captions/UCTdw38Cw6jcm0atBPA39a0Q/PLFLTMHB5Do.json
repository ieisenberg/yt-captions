[
  {
    "start": "0",
    "end": "142000"
  },
  {
    "text": "alright let's start on time so we can end on time first of all thanks for",
    "start": "5859",
    "end": "11150"
  },
  {
    "text": "being here I know at least for me at NDC there's always great talks and I always have a difficult time choosing so thanks",
    "start": "11150",
    "end": "18470"
  },
  {
    "text": "for choosing this talk and my name is Matata Mel I'm a developer advocate at Google based here in London and I'm",
    "start": "18470",
    "end": "24980"
  },
  {
    "text": "gonna be talking about some of these containers K&A - and cloud run and how they can help Arab modernization there's",
    "start": "24980",
    "end": "30710"
  },
  {
    "text": "a lot of things in one talk if you've been paying attention this talk was initially about card run but then as I",
    "start": "30710",
    "end": "38210"
  },
  {
    "text": "was thinking about it I said okay well cloud run is something that runs on Google cloud but if you're not on Google cloud what do you do well you can use",
    "start": "38210",
    "end": "44690"
  },
  {
    "text": "ca√±edo which is the open source foundation for cloud run so that's when I decided to include that in the talk because I think it's very relevant to",
    "start": "44690",
    "end": "50420"
  },
  {
    "text": "people no matter where you run and then recently I also was refactoring and",
    "start": "50420",
    "end": "56290"
  },
  {
    "text": "breaking and old monolith into bunch of my tree services and I managed to make",
    "start": "56290",
    "end": "61309"
  },
  {
    "text": "it work on cloud run and that whole journey taught me a lot of things even though it's a small app so I decided to",
    "start": "61309",
    "end": "66799"
  },
  {
    "text": "include that in the talk as well so that we don't just talk about theory but we also look at it kind of a real-world example and see what we can learn from",
    "start": "66799",
    "end": "74119"
  },
  {
    "text": "that journey and how we can modernize your apps and use this technologies like a native and cloud run to do that so",
    "start": "74119",
    "end": "79789"
  },
  {
    "text": "it's three minute talks within a talk so you get three talks for the price of one but I haven't done this talk before so I",
    "start": "79789",
    "end": "86569"
  },
  {
    "text": "don't know the timings I mean my intention is that I will do 20 minutes 20 minutes 20 minutes with Kay native code run an app modernization but we'll",
    "start": "86569",
    "end": "93439"
  },
  {
    "text": "see how it goes and I might skip some parts if I am running short on time all right and also the deck is already on speaker",
    "start": "93439",
    "end": "101270"
  },
  {
    "text": "deck and the demos that I'm going to show for KI native and cloud run in the app modernization they are already on",
    "start": "101270",
    "end": "107359"
  },
  {
    "text": "github I always like to publish my stuff before the talk and I'm gonna give you the links of those demos at the end of",
    "start": "107359",
    "end": "115490"
  },
  {
    "text": "my talk so you'll have everything that I show today and more if you need it after",
    "start": "115490",
    "end": "121099"
  },
  {
    "text": "the talk all right so let's first go through some intro so we are all on the",
    "start": "121099",
    "end": "126289"
  },
  {
    "text": "same page and then after that I'm gonna go through key native then after that I'm gonna go - I'm gonna go through",
    "start": "126289",
    "end": "132050"
  },
  {
    "text": "Quadron and then we'll look at the app modernization and my talks usually go with a liberal intro",
    "start": "132050",
    "end": "137520"
  },
  {
    "text": "demo a little bit of intro a little bit of demo so he's gonna be back and forth so hopefully we'll keep things interesting now have you heard our",
    "start": "137520",
    "end": "143970"
  },
  {
    "start": "142000",
    "end": "295000"
  },
  {
    "text": "service enough in this conference yeah I mean every talk I've been to there was some mention of service and some attempt",
    "start": "143970",
    "end": "150600"
  },
  {
    "text": "of defining it I'm gonna do the same here but I think instead of defining service",
    "start": "150600",
    "end": "156300"
  },
  {
    "text": "I want to think of it in terms of two different models that you can think about it first you can think of it as an",
    "start": "156300",
    "end": "163260"
  },
  {
    "text": "operational model right how do you run your code and when you think about server this way of running your code you",
    "start": "163260",
    "end": "169710"
  },
  {
    "text": "are probably thinking that there there's no servers or there's like no infrastructure management that you have",
    "start": "169710",
    "end": "174810"
  },
  {
    "text": "to worry about I mean of course there are servers but it's not your problem anymore you're probably thinking there's",
    "start": "174810",
    "end": "179850"
  },
  {
    "text": "managed security at least at the base level that you can rely that things are secure and of course you need to do more",
    "start": "179850",
    "end": "185610"
  },
  {
    "text": "but at least the basics are there and you only pay for what you use and that's",
    "start": "185610",
    "end": "190740"
  },
  {
    "text": "a very important point and I'm gonna come back to this as we explain cut run and also my app as well so that's kind",
    "start": "190740",
    "end": "197460"
  },
  {
    "text": "of the operational model of thinking server lists but at the same time if you're an application developer like me you are probably thinking in terms of",
    "start": "197460",
    "end": "203460"
  },
  {
    "text": "services or micro services if you want to call them that are usually event-driven so something triggers your",
    "start": "203460",
    "end": "209250"
  },
  {
    "text": "function this can be an HTTP call or this can be a pops up message or something else and usually you're",
    "start": "209250",
    "end": "215400"
  },
  {
    "text": "thinking of services that are stateless because when you think of serve when you think of service when and when your",
    "start": "215400",
    "end": "221100"
  },
  {
    "text": "services are stateless it's much easier to scale them and it's much much easier to to work with them of course there's",
    "start": "221100",
    "end": "227970"
  },
  {
    "text": "ways to get state into your services but in general you talk about the services being stateless and then you have the",
    "start": "227970",
    "end": "233850"
  },
  {
    "text": "state somewhere else so service is great because it kind of frees us from all the",
    "start": "233850",
    "end": "239340"
  },
  {
    "text": "things that we had to do that's not part our our application but at the same time",
    "start": "239340",
    "end": "244470"
  },
  {
    "text": "you are kind of limited on the on the service that you're using so if you're using lambda or Google Cloud functions",
    "start": "244470",
    "end": "249900"
  },
  {
    "text": "or either we as your functions you are limited with their runtimes right so you",
    "start": "249900",
    "end": "254940"
  },
  {
    "text": "can iterate fast but you're limited on the other hand we had these things called containers containers as you all",
    "start": "254940",
    "end": "262380"
  },
  {
    "text": "know it's a packaging format and it allows you to package your app and its dependencies in a consistent way and it",
    "start": "262380",
    "end": "270780"
  },
  {
    "text": "also allows you to run that container in a consistent way in multiple environments and the good thing about containers is",
    "start": "270780",
    "end": "276810"
  },
  {
    "text": "that it gives you a lot of flexibility so you can use any language any library and you have all this ecosystem around",
    "start": "276810",
    "end": "283080"
  },
  {
    "text": "containers so you have the container base images you have projects like kubernetes a nice tea O&K nato and",
    "start": "283080",
    "end": "289560"
  },
  {
    "text": "others around it so it's a good place to be if you need that flexibility with your app so so far or this doesn't",
    "start": "289560",
    "end": "298289"
  },
  {
    "start": "295000",
    "end": "337000"
  },
  {
    "text": "render properly on my on the screen but I have these bubbles around them but anyway so far you had to choose between",
    "start": "298289",
    "end": "304379"
  },
  {
    "text": "the two right you can either go with Cerberus and iterate fast because you don't have to worry about a lot of",
    "start": "304379",
    "end": "310050"
  },
  {
    "text": "things but then at some point that's not going to work for whatever reason maybe you want to use a certain library or you",
    "start": "310050",
    "end": "316289"
  },
  {
    "text": "or you need to do a long-running task and that's not allowed in the turbines framework then at that point you",
    "start": "316289",
    "end": "321750"
  },
  {
    "text": "probably fall over to containers that gives you a lot of flexibility but then you kind of lose the velocity that comes",
    "start": "321750",
    "end": "327750"
  },
  {
    "text": "with Cerberus so you have to make this charge choice upfront and it's I don't",
    "start": "327750",
    "end": "332879"
  },
  {
    "text": "think it's a good choice to make you know why not have both right and that's the whole point oh-kay NATO and",
    "start": "332879",
    "end": "339779"
  },
  {
    "text": "quad run what these projects are trying to do is that they're trying to give you a framework so that you can still use",
    "start": "339779",
    "end": "347939"
  },
  {
    "text": "containers but you can also use them in a circle this way and I will explain",
    "start": "347939",
    "end": "353819"
  },
  {
    "text": "what I mean by that so all the things that you expect from a circle is function you can kind of expect them from a container running on kn8 or call",
    "start": "353819",
    "end": "360810"
  },
  {
    "text": "gram and k native is an open source project that everything is based on so",
    "start": "360810",
    "end": "367349"
  },
  {
    "text": "I'll start talking about that first and you can run it anywhere there's Cuban it is so if you run cube editors on Prem",
    "start": "367349",
    "end": "373289"
  },
  {
    "text": "you can export your NATO and run it if you are running in the cloud or on on a managed cubensis cluster like gke Google",
    "start": "373289",
    "end": "379860"
  },
  {
    "text": "Chrome and his engine you can still install Cana - and run it and then on the other end of the spectrum there's",
    "start": "379860",
    "end": "385620"
  },
  {
    "text": "something called cloud run which is the manager version of que NATO on Google cloud and it's fully managed",
    "start": "385620",
    "end": "391199"
  },
  {
    "text": "meaning that you don't have to worry about a cluster you don't have to worry about anything just say this is my container deploy it and it will do it",
    "start": "391199",
    "end": "396300"
  },
  {
    "text": "for you and then there's something called cloud run run process that's somewhere in the middle that I won't talk too much about",
    "start": "396300",
    "end": "403289"
  },
  {
    "text": "but just to let you know if you want to stay in communities ecosystem but you still want to be in",
    "start": "403289",
    "end": "409350"
  },
  {
    "text": "the cloud you can do that in Crandall anthos so there you're still running on Humanities in a cubic unit this class on",
    "start": "409350",
    "end": "416580"
  },
  {
    "text": "Google Cloud but but you're installing K NATO on top of that so that's given to you so you don't have to do as much work",
    "start": "416580",
    "end": "422729"
  },
  {
    "text": "but it's still Cuban it is not fully managed so let's start with KNAT first",
    "start": "422729",
    "end": "428240"
  },
  {
    "start": "428000",
    "end": "563000"
  },
  {
    "text": "what is K native the official definition is that it's a cube it is based open",
    "start": "428240",
    "end": "433650"
  },
  {
    "text": "source building blocks for service who is using humanities here anyone few",
    "start": "433650",
    "end": "438810"
  },
  {
    "text": "people so you know that kubernetes is not easy to use if anyone tells you",
    "start": "438810",
    "end": "444270"
  },
  {
    "text": "cabinet is easy don't believe them if you want to deploy a container communities you need to do a lot of",
    "start": "444270",
    "end": "450330"
  },
  {
    "text": "things you need to first of all create your container like docker file then you need to create a pod deployment once you",
    "start": "450330",
    "end": "457800"
  },
  {
    "text": "want you want to expose it you need to create a community service then you need to worry about ingresses and then if you",
    "start": "457800",
    "end": "463470"
  },
  {
    "text": "want to use service mesh you have steel then you need to worry about virtual services gateways destination rules all",
    "start": "463470",
    "end": "469289"
  },
  {
    "text": "that kind of stuff so it's not that easy so that's why I like kubernetes a service they don't really come together",
    "start": "469289",
    "end": "475500"
  },
  {
    "text": "usually but the whole point ok native is that it tries to turn humanities into a",
    "start": "475500",
    "end": "480539"
  },
  {
    "text": "service platform right it tries to give you the building blocks for that it's an open source project on github it started",
    "start": "480539",
    "end": "487770"
  },
  {
    "text": "what by Google but now companies like when were red hat and and others they're contributing to it and the que native",
    "start": "487770",
    "end": "495030"
  },
  {
    "text": "and cloud run stack kind of looks like this at the bottom layer you have communities then on top of that you have",
    "start": "495030",
    "end": "501960"
  },
  {
    "text": "to install gateway because que native it doesn't try to solve the problem of how",
    "start": "501960",
    "end": "507090"
  },
  {
    "text": "to get traffic to your container instead it relies on a gateway for that you usually use steel for that but if you",
    "start": "507090",
    "end": "514500"
  },
  {
    "text": "want to install other gate with this pluggable and the last time I checked these were the three gateways that were available then on top of that you",
    "start": "514500",
    "end": "521909"
  },
  {
    "text": "install a native que native has two parts serving and eventing and I'll talk",
    "start": "521909",
    "end": "527220"
  },
  {
    "text": "about what there shortly and then at this point you can start using Cuban it as if it's a service",
    "start": "527220",
    "end": "533190"
  },
  {
    "text": "platform anywhere you run kubernetes but if you're on google cloud then there's cloud run the",
    "start": "533190",
    "end": "538930"
  },
  {
    "text": "version I work on anthos this semi manager version you can use as well I should also point out that the fully",
    "start": "538930",
    "end": "545260"
  },
  {
    "text": "managed cloud run it's not based on kubernetes it runs on Google's infrastructure so this picture is a bit misleading in that sense but Clare run",
    "start": "545260",
    "end": "552580"
  },
  {
    "text": "on anthos runs on cuban√≠a so everything else runs on communities so first I want to show you this part as if you're",
    "start": "552580",
    "end": "559029"
  },
  {
    "text": "installing it yourself then we'll get into cloud run and show you what the difference is there so what is kinda",
    "start": "559029",
    "end": "565720"
  },
  {
    "start": "563000",
    "end": "612000"
  },
  {
    "text": "disturbing this first part I'm clean native it's a way to deploy containers in a service way that's how I explain to",
    "start": "565720",
    "end": "571899"
  },
  {
    "text": "people what it does is that you create a creative service and you point your container and then you just say deploy",
    "start": "571899",
    "end": "579040"
  },
  {
    "text": "this container for me and Kay native deploys our container it sets up the traffic to your container so all the",
    "start": "579040",
    "end": "585339"
  },
  {
    "text": "traffic is set up for you then it gives you automatic scaling so by default your continual scale up and down then it",
    "start": "585339",
    "end": "592330"
  },
  {
    "text": "gives you configuration revision management meaning every time you deploy your container you get a new revision",
    "start": "592330",
    "end": "598029"
  },
  {
    "text": "and you can use that revision from then on or you can go back to a previous revision if you want and then it gives",
    "start": "598029",
    "end": "604690"
  },
  {
    "text": "you traffic splitting right so once your multiple revisions you can switch traffic between them right so in a",
    "start": "604690",
    "end": "610060"
  },
  {
    "text": "nutshell this is what came into serving us and the terminology okay native serving goes like this at the top level",
    "start": "610060",
    "end": "616750"
  },
  {
    "start": "612000",
    "end": "663000"
  },
  {
    "text": "you have the service this is a cube and this is a key native service it's not like kubernetes service so it's",
    "start": "616750",
    "end": "622029"
  },
  {
    "text": "different it's a higher-level high-level service thank you man it is so you",
    "start": "622029",
    "end": "627040"
  },
  {
    "text": "create the cognitive service that has a configuration in the configuration you usually point to the container and you",
    "start": "627040",
    "end": "632650"
  },
  {
    "text": "pass in some environment variables and other things and then once you deploy your service with the configuration you",
    "start": "632650",
    "end": "637660"
  },
  {
    "text": "get a new revision and you get the route point to the revision and all this is done for you automatically",
    "start": "637660",
    "end": "642730"
  },
  {
    "text": "every time you change something about the configuration that creates a new revision and the route gets updated to",
    "start": "642730",
    "end": "648190"
  },
  {
    "text": "that revision right so that's done automatically as well and as I mentioned once your multiple revisions you can set",
    "start": "648190",
    "end": "654250"
  },
  {
    "text": "rules here and you can do things like a be testing or you can do traffic splitting stuff like that so let's just",
    "start": "654250",
    "end": "659649"
  },
  {
    "text": "take a quick look on how this works as I",
    "start": "659649",
    "end": "664750"
  },
  {
    "text": "mentioned on github I have all of this available so I just take take a look at one of them so I had this cane a",
    "start": "664750",
    "end": "670480"
  },
  {
    "text": "tutorial that I'm gonna share the link you and this in this tutorial I show up I'll show how to set up a cluster in",
    "start": "670480",
    "end": "677990"
  },
  {
    "text": "Google Cloud and have to install K NATO on top one thing that I want to show you",
    "start": "677990",
    "end": "683060"
  },
  {
    "text": "in in set up is that I just want to go through the steps quickly so you get an",
    "start": "683060",
    "end": "688490"
  },
  {
    "text": "understanding I have all of these in scripts so the first step is to get a",
    "start": "688490",
    "end": "694670"
  },
  {
    "text": "cube and this cluster depending on which cloud we are running or whether you are running on on Prem you will have a",
    "start": "694670",
    "end": "699980"
  },
  {
    "text": "different way of getting a cluster this one uses G cloud to create a clustering google cloud then you need to install a",
    "start": "699980",
    "end": "706370"
  },
  {
    "text": "gateway in this case in this case I'm using Easter as my gateway and you need to set a local gateway on steel so that",
    "start": "706370",
    "end": "713930"
  },
  {
    "text": "you can use a cane eighty event thing within your cluster so I do that in this script then you can install can you to",
    "start": "713930",
    "end": "720530"
  },
  {
    "text": "serving and then kinetic eventing they are separate so you can install one or the other or you can install both at the",
    "start": "720530",
    "end": "726830"
  },
  {
    "text": "same time if you want and then if you want to use Google Cloud events there's another project called K native GCP",
    "start": "726830",
    "end": "734150"
  },
  {
    "text": "project you can install that as well and this will give you a way to read events",
    "start": "734150",
    "end": "739220"
  },
  {
    "text": "from Google Cloud into your kinetic cluster so I do that as well so because I'm gonna read pops up messages from",
    "start": "739220",
    "end": "744620"
  },
  {
    "text": "Google Cloud later so I won't go through these scripts too much but I just want to let you know that they're there and",
    "start": "744620",
    "end": "750080"
  },
  {
    "text": "if you just look at one of them in stone serving so this is this installs K",
    "start": "750080",
    "end": "755090"
  },
  {
    "text": "native serving and you can see that all I'm doing is I'm just applying some Yama",
    "start": "755090",
    "end": "760100"
  },
  {
    "text": "files serving llamo CR DS and then I actually stop the serving after that and",
    "start": "760100",
    "end": "766460"
  },
  {
    "text": "there's also some monitoring posit you can install to monitor your community installation if you want so you are",
    "start": "766460",
    "end": "771470"
  },
  {
    "text": "basically pointing to the Virgin of Canada you want in this case the version I'm using is 0.12 which is the latest as",
    "start": "771470",
    "end": "777440"
  },
  {
    "text": "of today and I just point to a yellow file and then you will have K Nate's running so once you have this and I",
    "start": "777440",
    "end": "782690"
  },
  {
    "text": "already did this before Here I am in Google Cloud there's kubernetes engine I have my clean it",
    "start": "782690",
    "end": "788810"
  },
  {
    "start": "785000",
    "end": "821000"
  },
  {
    "text": "across the running I just want to make sure that everything is running so can a disturbing gets installed under a separate namespace it's a native -",
    "start": "788810",
    "end": "796520"
  },
  {
    "text": "serving so I just want to take a look at the pods that in there you can see that they are running so everything is good",
    "start": "796520",
    "end": "801590"
  },
  {
    "text": "and let's take a look at ket eventing as well they are running as well so it's just another application on top of",
    "start": "801590",
    "end": "808560"
  },
  {
    "text": "your kubernetes and then if we look at cube CT I'll get pods east your system",
    "start": "808560",
    "end": "814199"
  },
  {
    "text": "you will see that sto is already there as well with there with is your ingress gateway and cost of local gateway",
    "start": "814199",
    "end": "819540"
  },
  {
    "text": "anything things like that alright so what I need to do to deploy an app on a",
    "start": "819540",
    "end": "825029"
  },
  {
    "start": "821000",
    "end": "942000"
  },
  {
    "text": "container on K native let's go through that so I just going to go through a very simple example let's say you have",
    "start": "825029",
    "end": "832380"
  },
  {
    "text": "this hello world application that basically when it gets a request it will",
    "start": "832380",
    "end": "838110"
  },
  {
    "text": "just say hello world and I do something more than that",
    "start": "838110",
    "end": "843509"
  },
  {
    "text": "let me just show you the code quickly this is C sharp but it's also I also wrote it in Python and what we have here",
    "start": "843509",
    "end": "849839"
  },
  {
    "text": "is so first I am looking for a port",
    "start": "849839",
    "end": "855560"
  },
  {
    "text": "environment variable and if it's there I bind to that if not that I bite into 8880 this is the contract 4k native and",
    "start": "855560",
    "end": "862170"
  },
  {
    "text": "also contract for cloud run and then this is it here and then in in startup I",
    "start": "862170",
    "end": "869540"
  },
  {
    "text": "look at get HTTP GET and once I get a request I look at an Emer Grable called",
    "start": "869540",
    "end": "875459"
  },
  {
    "text": "target and if it's there I will use it if not I'll just say world and then in the response I just say hello world or",
    "start": "875459",
    "end": "882180"
  },
  {
    "text": "hello target if it's if it's set right it's something very simple but it's on purpose so that I can show you how this",
    "start": "882180",
    "end": "887550"
  },
  {
    "text": "work in a simple way so we've built the app then we create a local file out of that and then we built the docker and we",
    "start": "887550",
    "end": "895440"
  },
  {
    "text": "push it to docker hub so the image is there and then I need to create a candy to service we wait to create the service",
    "start": "895440",
    "end": "902220"
  },
  {
    "text": "is like this you create a yellow file as in everything else in humanities you need to create a yellow file this is a",
    "start": "902220",
    "end": "908850"
  },
  {
    "text": "que native service I know this because I'm using a native API and the kind is a service this is the name this is the",
    "start": "908850",
    "end": "915029"
  },
  {
    "text": "namespace that it gets installed and this is the configuration on my service in the configuration you can see that I",
    "start": "915029",
    "end": "921449"
  },
  {
    "text": "am pointing to my image and I'm also passing an environment variable called target with the value of v1 right so",
    "start": "921449",
    "end": "928410"
  },
  {
    "text": "that's the whole definition on my service compare this to kubernetes this is much shorter in humanities you",
    "start": "928410",
    "end": "934829"
  },
  {
    "text": "wouldn't need like multiple Yama files and you would need to set up each do with the way so compared to that this is much",
    "start": "934829",
    "end": "940940"
  },
  {
    "text": "simpler and then to create the service we just apply it so let's actually do that so first before I do this let me go",
    "start": "940940",
    "end": "947570"
  },
  {
    "text": "to watch so I'm watching some parts Community Service Canada configuration",
    "start": "947570",
    "end": "952700"
  },
  {
    "text": "revision and route so right now I have three pods running these are pods that I need for kinetic eventing just ignore",
    "start": "952700",
    "end": "961220"
  },
  {
    "text": "them act like they don't exist because I wanted to set them up before the talk but to deploy my service let's say cube",
    "start": "961220",
    "end": "968090"
  },
  {
    "text": "CTO apply service we won and now this says the service is created and you can",
    "start": "968090",
    "end": "974300"
  },
  {
    "text": "see that immediately cainy to creates connector service and it creates a service for the sir it",
    "start": "974300",
    "end": "981170"
  },
  {
    "text": "creates a configuration for the service it creates the first revision of the service and we cannot see it here but it",
    "start": "981170",
    "end": "986750"
  },
  {
    "text": "also creates a route for the service let me actually make this all bigger yeah we",
    "start": "986750",
    "end": "991880"
  },
  {
    "text": "have the rather as well and then we also see that we have a pod running for our service and if I do a curl you will see",
    "start": "991880",
    "end": "1000370"
  },
  {
    "text": "that hopefully yeah hello we want so it's very exciting but this basically",
    "start": "1000370",
    "end": "1006390"
  },
  {
    "text": "tells us that the service is up and running the the routing is set up and all that kind of stuff now if I do any",
    "start": "1006390",
    "end": "1012790"
  },
  {
    "start": "1012000",
    "end": "1025000"
  },
  {
    "text": "kind of change to my service so let's go here by the way you can set up your own domain for this for now I'm using it at",
    "start": "1012790",
    "end": "1020620"
  },
  {
    "text": "i/o as my dummy domain but you can actually set up a proper domain for it as I mentioned anything that changes in",
    "start": "1020620",
    "end": "1027640"
  },
  {
    "start": "1025000",
    "end": "1339000"
  },
  {
    "text": "the configuration it creates a new revision for example if we go to our service and we just change this",
    "start": "1027640",
    "end": "1033910"
  },
  {
    "text": "environment variable from v1 to v2 we are making a configuration change so that will generate a new revision",
    "start": "1033910",
    "end": "1039420"
  },
  {
    "text": "similarly if we go to our code and just change our code from hello to by this",
    "start": "1039420",
    "end": "1045550"
  },
  {
    "text": "will be a code change and what we need to do is we need to build our docker image again and push it and then we can",
    "start": "1045550",
    "end": "1051880"
  },
  {
    "text": "go to the image and change from the image from version one to version 3 this would be another configuration change",
    "start": "1051880",
    "end": "1058060"
  },
  {
    "text": "and once we apply it we will get a new revision so let's do this and see what happens and maybe I will make this a",
    "start": "1058060",
    "end": "1064570"
  },
  {
    "text": "little smaller and keep watching by the way you can see that the part is",
    "start": "1064570",
    "end": "1070660"
  },
  {
    "text": "terminating because we haven't used version one for 60 seconds so it's scaling down so Auto",
    "start": "1070660",
    "end": "1076260"
  },
  {
    "text": "scale is already set up for me now let's deploy another one service v2",
    "start": "1076260",
    "end": "1083059"
  },
  {
    "text": "so this is the one with the configuration change you will see that immediately it created a second revision",
    "start": "1083090",
    "end": "1089250"
  },
  {
    "text": "for my service and then it created it's going to create the pods for it as well",
    "start": "1089250",
    "end": "1094559"
  },
  {
    "text": "and then it will update the route to point to that pod for some reason yeah it did recreate the pod was it too quick",
    "start": "1094559",
    "end": "1100860"
  },
  {
    "text": "or did it not happen let's see if you do a crawl again you see that it's hello b2 so we did that configuration change and",
    "start": "1100860",
    "end": "1106140"
  },
  {
    "text": "it's already getting all the traffic now if we do a code change and push our",
    "start": "1106140",
    "end": "1111960"
  },
  {
    "text": "image and want to deploy that image you can just apply it and then you will see that another revision is being created",
    "start": "1111960",
    "end": "1118950"
  },
  {
    "text": "this is generation 3 and then now we have two sets of pods running one for version 2 and one more for version 3 and",
    "start": "1118950",
    "end": "1125700"
  },
  {
    "text": "if you do a curl again we see that the code is updated as well now of course in the real world you don't update code",
    "start": "1125700",
    "end": "1133260"
  },
  {
    "text": "like this what you should do is that you would make a code change you will deploy",
    "start": "1133260",
    "end": "1139190"
  },
  {
    "text": "a version of that change in a separate URL you would test it out make sure that",
    "start": "1139190",
    "end": "1145470"
  },
  {
    "text": "it works and then once everything is good you would gradually send traffic to it right so you want to do some kind of",
    "start": "1145470",
    "end": "1151590"
  },
  {
    "text": "blue-green deployment or traffic splitting or whatever you want to call it and that becomes really easy with Kay",
    "start": "1151590",
    "end": "1156779"
  },
  {
    "text": "native so let me show you a quick example of that before we move on to Kennedy eventing so in traffic splitting",
    "start": "1156779",
    "end": "1164000"
  },
  {
    "text": "first of all what you can do is that right now all the revisions they have",
    "start": "1164000",
    "end": "1170850"
  },
  {
    "text": "random names right when you look at our revision names here they are random names but in traffic splitting it makes",
    "start": "1170850",
    "end": "1176640"
  },
  {
    "text": "sense to have proper names for your revisions and you can do that you can go to your service and then under here you",
    "start": "1176640",
    "end": "1182880"
  },
  {
    "text": "can say I want this service to have a have a stable revision name and in this case we are calling it hello world - v1",
    "start": "1182880",
    "end": "1189690"
  },
  {
    "text": "and then I'm also defining some traffic rules in this case I'm saying that I",
    "start": "1189690",
    "end": "1194970"
  },
  {
    "text": "want this revision version 1 to get all of the traffic anything after that I don't want it to get any traffic right",
    "start": "1194970",
    "end": "1201870"
  },
  {
    "text": "so once we do this let's see what happens so everyone I think I call this pin so it's",
    "start": "1201870",
    "end": "1211440"
  },
  {
    "text": "configured you can see that the revision name now is it's a proper name and if",
    "start": "1211440",
    "end": "1217500"
  },
  {
    "text": "you do a curl again we are back to version one now let's deploy another version in this",
    "start": "1217500",
    "end": "1223650"
  },
  {
    "text": "case let's call it version four but let's set let's keep the traffic rules the same so we are deploying it but we",
    "start": "1223650",
    "end": "1230250"
  },
  {
    "text": "are still sending all the traffic to version one so let's do that",
    "start": "1230250",
    "end": "1237890"
  },
  {
    "text": "now you'll see that another version well we can't see it now because I don't have enough space here but another version",
    "start": "1238400",
    "end": "1244530"
  },
  {
    "text": "has been created I hope yeah it should be yes version 4 and then if we do a",
    "start": "1244530",
    "end": "1251220"
  },
  {
    "text": "curl again to the default URL it still says v1 so where's your 4 has been deployed but the main URL hasn't changed",
    "start": "1251220",
    "end": "1258660"
  },
  {
    "text": "yet and actually if I go back to the URL and add latest - here I can get 2",
    "start": "1258660",
    "end": "1265590"
  },
  {
    "text": "version for now it's scaling up now it says hello version 4 so it's",
    "start": "1265590",
    "end": "1270750"
  },
  {
    "text": "running but the main URL points to the version 1 so that's how you can do silent deploys and make sure that your",
    "start": "1270750",
    "end": "1276660"
  },
  {
    "text": "new version works and then once you are confident that it works you can gradually start sending traffic to it so",
    "start": "1276660",
    "end": "1282510"
  },
  {
    "text": "you can go back to your traffic rules and say ok I want to change my traffic",
    "start": "1282510",
    "end": "1287640"
  },
  {
    "text": "rules and I want version 1 to get 50% of the traffic and we're in for it to get better 50% and anything else I don't",
    "start": "1287640",
    "end": "1294540"
  },
  {
    "text": "want it to get any traffic right so if we applied that 50/50 you will see that",
    "start": "1294540",
    "end": "1303450"
  },
  {
    "text": "nothing changed here we didn't create any revisions we are just updating the route so there's nothing new here but if",
    "start": "1303450",
    "end": "1310140"
  },
  {
    "text": "I do curl to the main URL you see how I'll be for next one before at some",
    "start": "1310140",
    "end": "1316320"
  },
  {
    "text": "point it should say v1 I think I'm something yeah v1 yeah it",
    "start": "1316320",
    "end": "1322350"
  },
  {
    "text": "was maybe scaling up by roughly it should say half of the time you want and that I have before ok and then if I am",
    "start": "1322350",
    "end": "1328980"
  },
  {
    "text": "done with my service I can either say delete my service hello world and then",
    "start": "1328980",
    "end": "1334230"
  },
  {
    "text": "everything about the service will just go away and the pods will determine and we are back to where we were before so that's K nate is serving in a",
    "start": "1334230",
    "end": "1341920"
  },
  {
    "start": "1339000",
    "end": "1568000"
  },
  {
    "text": "nutshell the next part of K native is eventing and kinetic eventing is all",
    "start": "1341920",
    "end": "1348520"
  },
  {
    "text": "about pulling in events and passing them to your services right and these events",
    "start": "1348520",
    "end": "1353980"
  },
  {
    "text": "can be events from your own cluster that you generate within your cluster or it",
    "start": "1353980",
    "end": "1359140"
  },
  {
    "text": "can be events that you listen from external sources now I should also",
    "start": "1359140",
    "end": "1364600"
  },
  {
    "text": "mention that the the service the service can be a K&H a service or it can be",
    "start": "1364600",
    "end": "1370150"
  },
  {
    "text": "kubernetes tour so you can you can you get to choose which kind of service you can pass the messages to do so in the",
    "start": "1370150",
    "end": "1375760"
  },
  {
    "text": "eventing the main building blocks are like this first you have some sources that are listening for some events from",
    "start": "1375760",
    "end": "1382450"
  },
  {
    "text": "externally whatever you want to listen so you need to install them separately and then you need to inject a broker",
    "start": "1382450",
    "end": "1388180"
  },
  {
    "text": "into your namespace so typically you will have a single broker into your namespace that will listen for messages",
    "start": "1388180",
    "end": "1394210"
  },
  {
    "text": "coming in from the sources and then once you have the broken receiving the messages for the namespace then within",
    "start": "1394210",
    "end": "1399940"
  },
  {
    "text": "the namespace these services kubernetes or k nato services they will decide what",
    "start": "1399940",
    "end": "1405340"
  },
  {
    "text": "they're interested in through triggers so in this trigger this service wants to get all the read messages and in this",
    "start": "1405340",
    "end": "1410740"
  },
  {
    "text": "trigger this service wants to get all blue messages right so that that's kind of like the building blocks or eventing",
    "start": "1410740",
    "end": "1416160"
  },
  {
    "text": "the kind of event sources that you that's already there is is this this is not the full list just some of them so",
    "start": "1416160",
    "end": "1422890"
  },
  {
    "text": "you can listen cough grab messages you can listen google cloud pub/sub messages you can listen listen cuban it is events Google",
    "start": "1422890",
    "end": "1429640"
  },
  {
    "text": "Cloud storage and more so there's many more sources then and you can also write your own source if you want and listen",
    "start": "1429640",
    "end": "1435340"
  },
  {
    "text": "things in your own system and then I should also mention that you know all",
    "start": "1435340",
    "end": "1441310"
  },
  {
    "text": "sorts of different events come into que native but they eventually get converted into what's called cloud events it's a",
    "start": "1441310",
    "end": "1447580"
  },
  {
    "text": "common event in format that was designed by CN CF so it's an open-source inventing implementation so all these",
    "start": "1447580",
    "end": "1454810"
  },
  {
    "text": "events will be converted into that and the data part of that cloud event will actually include the payload so if it's",
    "start": "1454810",
    "end": "1460090"
  },
  {
    "text": "a get up event you'll find it in the data and the broker will get that kind of event so let me show you a quick",
    "start": "1460090",
    "end": "1466300"
  },
  {
    "text": "example of this before we move on to cloud run so in this case what",
    "start": "1466300",
    "end": "1471310"
  },
  {
    "text": "doing is that what I want to do is that I want to connect cloud storage events to cloud vision API so I want users to",
    "start": "1471310",
    "end": "1481000"
  },
  {
    "text": "be able to send pictures say pictures into cloud storage and once the picture is saved that storage will trigger an",
    "start": "1481000",
    "end": "1487900"
  },
  {
    "text": "event to pops up you can set it so that it triggers a message to Google cloud",
    "start": "1487900",
    "end": "1493000"
  },
  {
    "text": "pub/sub which is an event bus and then I will read that message in the K native using kinetic eventing and then from K",
    "start": "1493000",
    "end": "1499390"
  },
  {
    "text": "native eventing I will pass it to a kinetic unity service actually not a native service but it can be a tentative",
    "start": "1499390",
    "end": "1504880"
  },
  {
    "text": "service and then I will make a call to vision API and extract labels from that",
    "start": "1504880",
    "end": "1510910"
  },
  {
    "text": "image using machine learning right so what I'm doing here is that basically when an image is saved an event is",
    "start": "1510910",
    "end": "1517060"
  },
  {
    "text": "triggered and the event will make a call to vision API and vision API will label this image for us and tell us what this",
    "start": "1517060",
    "end": "1523480"
  },
  {
    "text": "image is about so now to do this the main things that you need to do is and I",
    "start": "1523480",
    "end": "1530410"
  },
  {
    "text": "have other examples here you can take a look later the main thing that you need",
    "start": "1530410",
    "end": "1536800"
  },
  {
    "text": "to do is first of all I'm reading Google Cloud events so I need to install can eat it with GCP llam√≥ and I did that",
    "start": "1536800",
    "end": "1543220"
  },
  {
    "text": "before and I need to create a pub subtopic that I did I did that before as well then you need to create a source source",
    "start": "1543220",
    "end": "1549700"
  },
  {
    "text": "is the thing that listens external events right so in this case I create a what's called cloud pub/sub source and",
    "start": "1549700",
    "end": "1555280"
  },
  {
    "text": "in here I point to the topic that I want to listen so this is the google cloud pub/sub topic that i'm listening and",
    "start": "1555280",
    "end": "1560770"
  },
  {
    "text": "then i also define my sink so once I get this message what should I do with it you send it to the broker in the name",
    "start": "1560770",
    "end": "1567460"
  },
  {
    "text": "space right so you need to set this up this is how you set it up and I already",
    "start": "1567460",
    "end": "1572620"
  },
  {
    "start": "1568000",
    "end": "1589000"
  },
  {
    "text": "did that and then the broker lives in the name space so you need to label your namespace with the KNAT",
    "start": "1572620",
    "end": "1579430"
  },
  {
    "text": "event event the injection right so once I label my namespace then a broker gets",
    "start": "1579430",
    "end": "1584920"
  },
  {
    "text": "injected into my namespace and it waits for messages for the namespace right so I did all this work let just make sure",
    "start": "1584920",
    "end": "1591910"
  },
  {
    "start": "1589000",
    "end": "1610000"
  },
  {
    "text": "that they're actually there so if I do keep CTL get cloud pub/sub source I",
    "start": "1591910",
    "end": "1598350"
  },
  {
    "text": "should see that there's a pub/sub source waiting for messages from external pops of topic and then",
    "start": "1598350",
    "end": "1604920"
  },
  {
    "text": "I do get broker I should see a broker in my name size as well now I need to",
    "start": "1604920",
    "end": "1609930"
  },
  {
    "text": "actually deploy my code my service so to do that let's look at here",
    "start": "1609930",
    "end": "1615810"
  },
  {
    "start": "1610000",
    "end": "1703000"
  },
  {
    "text": "I won't so I create my code in c-sharp a",
    "start": "1615810",
    "end": "1623940"
  },
  {
    "text": "Python it's basically a code like when it gets an event it makes a call to vision API I won't show it here because we don't have time but you can take a",
    "start": "1623940",
    "end": "1630060"
  },
  {
    "text": "little bit later if you want I push my image then I create in this case a Cuban",
    "start": "1630060",
    "end": "1635430"
  },
  {
    "text": "it is deployment this is the hardware as you can see I need to create a deployment and a service I do this just",
    "start": "1635430",
    "end": "1640590"
  },
  {
    "text": "to show that you can do it with kubernetes services as well and then i create my service that i need to hook my",
    "start": "1640590",
    "end": "1646770"
  },
  {
    "text": "service to my to the broker using a trigger so in this case i'm saying that ok i want to create a trigger i'm not",
    "start": "1646770",
    "end": "1653340"
  },
  {
    "text": "filtering any messages so any message that comes into my broker will get to my service and here i define who gets the",
    "start": "1653340",
    "end": "1659490"
  },
  {
    "text": "service so my subscriber it's a cumulative service but if it's a teenager service you just use this one instead of the other one right so let's",
    "start": "1659490",
    "end": "1667110"
  },
  {
    "text": "do this so I'm here let's apply service llamo then I created my creatives my",
    "start": "1667110",
    "end": "1677160"
  },
  {
    "text": "Cuban to service and then let's also create the trigger and it triggers creator as well and then if I do get",
    "start": "1677160",
    "end": "1684120"
  },
  {
    "text": "trigger you see that I have a trigger vision and it's pointing to my vision service and then if we look at now if",
    "start": "1684120",
    "end": "1692220"
  },
  {
    "text": "you look at our pods we see that there's a vision pod and if I listen if I look at the logs of this and let's just",
    "start": "1692220",
    "end": "1698520"
  },
  {
    "text": "follow it you see that it's just waiting for something to happen now to trigger this event I will go to Google Cloud go",
    "start": "1698520",
    "end": "1706860"
  },
  {
    "start": "1703000",
    "end": "1773000"
  },
  {
    "text": "to Google Cloud storage then there's que native bucket where I set up and with notifications so that",
    "start": "1706860",
    "end": "1715080"
  },
  {
    "text": "when I save a file it sends a message I will upload a file and for this one let's just upload my picture now as this",
    "start": "1715080",
    "end": "1723510"
  },
  {
    "text": "is uploading it goes to the storage this will trigger a message to pops up and it will read that message and that will go",
    "start": "1723510",
    "end": "1729420"
  },
  {
    "text": "to Katie eventing and then from they will get to our service and if everything worked you see that our",
    "start": "1729420",
    "end": "1734640"
  },
  {
    "text": "service received the message and from there it extracted the URL or the the image",
    "start": "1734640",
    "end": "1743480"
  },
  {
    "text": "and then it made a call to vision API and it says okay this picture is labeled forehead chin facial hair so it's me",
    "start": "1743480",
    "end": "1750010"
  },
  {
    "text": "yeah so you can see that this is the sort of things that you can hook up together using ki netic venting all",
    "start": "1750010",
    "end": "1757340"
  },
  {
    "text": "right we are already halfway done so that means I need to speed up well let me clean things up so let's delete",
    "start": "1757340",
    "end": "1765490"
  },
  {
    "text": "service and then let's delete the trigger and we're back to where we were all right all right so that's connected",
    "start": "1765490",
    "end": "1775430"
  },
  {
    "start": "1773000",
    "end": "2004000"
  },
  {
    "text": "and that works everywhere you have kubernetes now what is cloud run well it's the same thing as sky native right",
    "start": "1775430",
    "end": "1781850"
  },
  {
    "text": "it tries to bring serve with us to containers the idea is that you would",
    "start": "1781850",
    "end": "1788390"
  },
  {
    "text": "deploy a container and get it in production in seconds with a URL that you can ping the whole experiences is",
    "start": "1788390",
    "end": "1794750"
  },
  {
    "text": "kind of designed for being serviced and I'll show you how this works and also designed to be open right like that's",
    "start": "1794750",
    "end": "1800810"
  },
  {
    "text": "why I came a to exists because you can run it on Prime with Kay native but if you're in the cloud and if you're okay",
    "start": "1800810",
    "end": "1806780"
  },
  {
    "text": "with using google cloud then cloud run is much easier when I'm running it and I want to show you how now the basic use",
    "start": "1806780",
    "end": "1813890"
  },
  {
    "text": "case for kn8 cloud run is basically public endpoints kind of things like API",
    "start": "1813890",
    "end": "1819620"
  },
  {
    "text": "endpoints or web hooks and stuff like that but you can also use the pie with endpoints let's say you have some",
    "start": "1819620",
    "end": "1824660"
  },
  {
    "text": "private service and you want it to be only called by internal services you can make it private so that what everyone",
    "start": "1824660",
    "end": "1830930"
  },
  {
    "text": "can call it only people with certain headers can call it there's some contract that you need to adhere to so",
    "start": "1830930",
    "end": "1837230"
  },
  {
    "text": "as in Kay native you need to listen on 0-0 and you need to listen on port mmm",
    "start": "1837230",
    "end": "1842570"
  },
  {
    "text": "variable if it's there you need to use that because it might change usually it defaults to port 8080 your server needs",
    "start": "1842570",
    "end": "1849200"
  },
  {
    "text": "to start you can't just hang around like for a long time I need to start within 4 minutes the request time so when you get",
    "start": "1849200",
    "end": "1856610"
  },
  {
    "text": "a request you need to respond in 15 minutes or less right so it's not good for long running tasks you can do small",
    "start": "1856610",
    "end": "1863450"
  },
  {
    "text": "ETL jobs but it's not for like long-running one hour test yet I mean in the future versions of",
    "start": "1863450",
    "end": "1868640"
  },
  {
    "text": "quadrant maybe will introduce that but as though today it's for short tasks and things that are stateless you cannot",
    "start": "1868640",
    "end": "1874909"
  },
  {
    "text": "have any state in cloud run except some memory but but even that goes away when the whole thing scales down and the",
    "start": "1874909",
    "end": "1883070"
  },
  {
    "text": "whole computation has to happen within the request right so when you get a request you have to do the work in the request you cannot just spin another thread and",
    "start": "1883070",
    "end": "1890389"
  },
  {
    "text": "and do things in the background it won't be a lot because the whole thing is sandbox by something called G Weiser and",
    "start": "1890389",
    "end": "1896269"
  },
  {
    "text": "you guys it will kill your threads if you try to do that and there's all these",
    "start": "1896269",
    "end": "1901519"
  },
  {
    "text": "resources that you get I want boy with the details but basically you get one CPU per container with 256 Meg's of",
    "start": "1901519",
    "end": "1908359"
  },
  {
    "text": "memory so on and so forth and I should also point out G Weiser again it's",
    "start": "1908359",
    "end": "1913759"
  },
  {
    "text": "sandbox by gy0 so you know you can't do crazy things with your container otherwise do revisable kill kill it for",
    "start": "1913759",
    "end": "1919879"
  },
  {
    "text": "you and you can read more about G Weiser there's a separate project for that and",
    "start": "1919879",
    "end": "1925100"
  },
  {
    "text": "for me the best part of cloud run is that you pay for what you use so you specify what CPU you want what memory",
    "start": "1925100",
    "end": "1931549"
  },
  {
    "text": "you want and how many requests you get and you pay 400 millisecond increments right so if no one uses your app you",
    "start": "1931549",
    "end": "1938539"
  },
  {
    "text": "don't pay anything right or if it's an occasional connected app it's perfect for that and I'm gonna talk about this later when I talk about our application",
    "start": "1938539",
    "end": "1945580"
  },
  {
    "text": "and the time that you get built is actually not the instance time right so",
    "start": "1945580",
    "end": "1951409"
  },
  {
    "text": "let's imagine that your container woke up and and you're it's running but you don't get any requests you don't get",
    "start": "1951409",
    "end": "1958100"
  },
  {
    "text": "charged for that even though your instance is running you get charged at the beginning or request one and at the",
    "start": "1958100",
    "end": "1963710"
  },
  {
    "text": "end of your last request requests to so in that time you get charged but the rest of the time when even if your",
    "start": "1963710",
    "end": "1969169"
  },
  {
    "text": "instance is running you don't get built so this makes it really really cheap compared to other places and while also",
    "start": "1969169",
    "end": "1977239"
  },
  {
    "text": "one thing to point out compared to other service platforms is that concurrency",
    "start": "1977239",
    "end": "1982580"
  },
  {
    "text": "you've gotten concurrency here right normally if you are running on one des or Google cut",
    "start": "1982580",
    "end": "1987619"
  },
  {
    "text": "functions or any kind of service functions kind of framework you get one request and that gets handled by one",
    "start": "1987619",
    "end": "1993470"
  },
  {
    "text": "function right but in K native what not a native in cloud run and also App Engine you can handle multiple requests",
    "start": "1993470",
    "end": "2000609"
  },
  {
    "text": "and this is good for concurrency all right so let's show a little bit of this",
    "start": "2000609",
    "end": "2006310"
  },
  {
    "start": "2004000",
    "end": "2149000"
  },
  {
    "text": "so this was K native tutorial we don't need this anymore",
    "start": "2006310",
    "end": "2011770"
  },
  {
    "text": "and I have another one o'clock one tutorial and in here I talked about some",
    "start": "2011770",
    "end": "2017680"
  },
  {
    "text": "use cases so let's just go through some of them let's see how you deploy the same kind of hello world app but this",
    "start": "2017680",
    "end": "2023860"
  },
  {
    "text": "time on cloud run and look at the difference there alright so first you",
    "start": "2023860",
    "end": "2030490"
  },
  {
    "text": "create your service your code we did that before so I won't show you that then you need to build your container",
    "start": "2030490",
    "end": "2036130"
  },
  {
    "text": "and store it in Google container registry which is an internal registry for Google Cloud projects to do that you",
    "start": "2036130",
    "end": "2042790"
  },
  {
    "text": "can use g-cloud so when you say G cloudbuilt submit and point your project and tag your image this basically takes",
    "start": "2042790",
    "end": "2050470"
  },
  {
    "text": "your project and builds it in the cloud using something called Google cloud built and then once it builds it in the",
    "start": "2050470",
    "end": "2056950"
  },
  {
    "text": "cloud it saves it into Google container registry so this command does that and I already let's double check that I",
    "start": "2056950",
    "end": "2063790"
  },
  {
    "text": "already have it here so if I look a container registry these are all my images but under hello world you should",
    "start": "2063790",
    "end": "2070389"
  },
  {
    "text": "see there's a hello world v1 so it's already there I built it three days ago",
    "start": "2070390",
    "end": "2075839"
  },
  {
    "text": "where are we and then to deploy it it's",
    "start": "2076500",
    "end": "2082330"
  },
  {
    "text": "basically a single command so you'll just say g-cloud run deploy your service name the image that you want to deploy",
    "start": "2082330",
    "end": "2088658"
  },
  {
    "text": "the platform in this case is managed meaning I want to use the manage version the fully managed regional quadrant and",
    "start": "2088659",
    "end": "2094179"
  },
  {
    "text": "I'm also saying allow unauthenticated so I want this to be a public service right so let's do this let me see echo service",
    "start": "2094179",
    "end": "2103810"
  },
  {
    "text": "name yeah well we don't have let me see if I have it set up No",
    "start": "2103810",
    "end": "2110560"
  },
  {
    "text": "so let's do service name hello world public and then do our G cloud run",
    "start": "2110560",
    "end": "2117670"
  },
  {
    "text": "deploy and then if this works now this",
    "start": "2117670",
    "end": "2124600"
  },
  {
    "text": "is what what is trying to do is it's deploying it's creating a new revision like we created a new revision creative",
    "start": "2124600",
    "end": "2130630"
  },
  {
    "text": "it's setting up IM policy meaning anyone will access to it and it's running traffic to it right so it's doing the",
    "start": "2130630",
    "end": "2137050"
  },
  {
    "text": "same things that i show you a key native except the big difference is that I don't have to create a cluster I didn't",
    "start": "2137050",
    "end": "2143270"
  },
  {
    "text": "have to set up sto or K NATO or all that kind of stuff I just said deploy this container and everything is done for me",
    "start": "2143270",
    "end": "2148400"
  },
  {
    "text": "now within a few seconds you get a public URL and if we actually go to Google Cloud let's look at cloud run you",
    "start": "2148400",
    "end": "2156710"
  },
  {
    "start": "2149000",
    "end": "2237000"
  },
  {
    "text": "see all my card run services how the world public is here and then by default",
    "start": "2156710",
    "end": "2162560"
  },
  {
    "text": "you'll get some metrics and no one uses my app which is said but you would see",
    "start": "2162560",
    "end": "2167990"
  },
  {
    "text": "like the request latency is and CPU allocation things like that here under revisions I see all the different",
    "start": "2167990",
    "end": "2174320"
  },
  {
    "text": "revisions on my service that's already deployed so this one was just deployed now and since we have multiple revisions",
    "start": "2174320",
    "end": "2180830"
  },
  {
    "text": "we can do traffic splitting if you want to then it has really nice integration with stackdriver which is the DevOps",
    "start": "2180830",
    "end": "2187460"
  },
  {
    "text": "tool of Google Cloud and I'm the logs I can see some basic logs on my application you can see they just",
    "start": "2187460",
    "end": "2192530"
  },
  {
    "text": "listening on port 8080 and then if you look at the Yama file you can see that it's just a regular K native service but",
    "start": "2192530",
    "end": "2199970"
  },
  {
    "text": "it's fully managed and then I already get a public URL so I don't have to worry about setting it up setting up",
    "start": "2199970",
    "end": "2206390"
  },
  {
    "text": "domain and stuff like that and then it just says some of you want just like before but everything is set up for me now if I want to change things I can",
    "start": "2206390",
    "end": "2215030"
  },
  {
    "text": "deploy a new version I can do it from command line but I can also do it from here so I can change things like how much CPU",
    "start": "2215030",
    "end": "2221210"
  },
  {
    "text": "is being allocated I can increase the memory if I want up to two gig stuff like that and then I can set mmm",
    "start": "2221210",
    "end": "2227570"
  },
  {
    "text": "variables right so here I'm reading target version 1 but you can add more if you want and then as soon as you deploy",
    "start": "2227570",
    "end": "2233900"
  },
  {
    "text": "it creates a new provision and it will update traffic to the revision right so this is a public service you can also do",
    "start": "2233900",
    "end": "2241339"
  },
  {
    "start": "2237000",
    "end": "2324000"
  },
  {
    "text": "private services as I mentioned so I'll just quickly look at that so in private",
    "start": "2241339",
    "end": "2248359"
  },
  {
    "text": "service the difference is that you deploy the same way but then you pass in this and flag and you say don't allow",
    "start": "2248359",
    "end": "2256190"
  },
  {
    "text": "unauthenticated I don't want everyone to call this I only want certain people to call this so once you deploy it like",
    "start": "2256190",
    "end": "2261800"
  },
  {
    "text": "that and I think I already have it let's let me show you an example so let's go",
    "start": "2261800",
    "end": "2268790"
  },
  {
    "text": "to quad run and hello world private it's the same",
    "start": "2268790",
    "end": "2275380"
  },
  {
    "text": "service but now you can see that the URL is grayed out because I cannot get to it right I need to be authenticated by it",
    "start": "2275380",
    "end": "2282250"
  },
  {
    "text": "but the UI is quite nice that it basically tells me the current command to run so if I run the scroll command",
    "start": "2282250",
    "end": "2287920"
  },
  {
    "text": "and passing this authorization header where I grab and identity token then I",
    "start": "2287920",
    "end": "2293770"
  },
  {
    "text": "will be able to call this so let's try it out so if I do this then hopefully it",
    "start": "2293770",
    "end": "2302049"
  },
  {
    "text": "will I will be able to call my internal service yes hello world so you can see that calling",
    "start": "2302049",
    "end": "2308859"
  },
  {
    "text": "internal services is also you know deploying I mean an internal internal ways it's much easier if you need to do",
    "start": "2308859",
    "end": "2314980"
  },
  {
    "text": "this from your your code if you need to call it from your code it's more it's a little bit more complicated and I show it in my tutorial but it's quite",
    "start": "2314980",
    "end": "2321910"
  },
  {
    "text": "straightforward once you understand it so these are base use cases for cloud run but then there are other use cases",
    "start": "2321910",
    "end": "2328750"
  },
  {
    "start": "2324000",
    "end": "2396000"
  },
  {
    "text": "that you can also use quite run with for example you can use pops up trigger services for example if a message goes",
    "start": "2328750",
    "end": "2336069"
  },
  {
    "text": "to a queue then pops up can make a call to your cloud run service to an internal service you can have storage triggered",
    "start": "2336069",
    "end": "2345369"
  },
  {
    "text": "services so if you save a file then they notifies pops up and pops up can call",
    "start": "2345369",
    "end": "2350559"
  },
  {
    "text": "your cloud run service you can have scheduled services so there's something called cloud scheduler which is kind of",
    "start": "2350559",
    "end": "2356950"
  },
  {
    "text": "like cron but for the cloud and you can make class scheduler called run on a",
    "start": "2356950",
    "end": "2362559"
  },
  {
    "text": "certain schedule so you can see that there's a lot of different ways of running cloud run and the last one is an",
    "start": "2362559",
    "end": "2367720"
  },
  {
    "text": "async task way of calling cloud run so there's this thing is called cloud tests in one clock where you know if the user",
    "start": "2367720",
    "end": "2374170"
  },
  {
    "text": "does something you can capture what they did like registration for example you can push a task to a queue and that task",
    "start": "2374170",
    "end": "2381369"
  },
  {
    "text": "can trigger it can't run and the good thing about Claude Claude task is that if something is wrong with the task so",
    "start": "2381369",
    "end": "2387849"
  },
  {
    "text": "let's say your quad run instance crashes Claude test keeps track of the task and it reprise and stuff like that so it's",
    "start": "2387849",
    "end": "2393520"
  },
  {
    "text": "actually very useful for things like that to show you an example of this I want the point but I just want to show",
    "start": "2393520",
    "end": "2399190"
  },
  {
    "start": "2396000",
    "end": "2485000"
  },
  {
    "text": "you how it looks I deployed and like maybe I showed here",
    "start": "2399190",
    "end": "2405339"
  },
  {
    "text": "I deployed a scheduled service so a cloud run service that gets called on a schedule and the steps for that is first",
    "start": "2405339",
    "end": "2411819"
  },
  {
    "text": "of all use enable quad scheduler in Google cloud and that's how you do it then you deploy your service in this",
    "start": "2411819",
    "end": "2418630"
  },
  {
    "text": "case my tea services is called event displayer so I just built my image and",
    "start": "2418630",
    "end": "2425769"
  },
  {
    "text": "then I I deploy but when I deploy I am doing it an internal service right because I don't want anyone to call my",
    "start": "2425769",
    "end": "2431410"
  },
  {
    "text": "service I only want class schedule to call my service so that's why I'm deploying it internally then to enable",
    "start": "2431410",
    "end": "2437589"
  },
  {
    "text": "class scheduler to call my service I need to set basically a service account so I create a service account and then I",
    "start": "2437589",
    "end": "2446019"
  },
  {
    "text": "give the service account a role that says it's a run in Volkers so it can",
    "start": "2446019",
    "end": "2451059"
  },
  {
    "text": "make calls to quadrille services that that's what that means then once I have",
    "start": "2451059",
    "end": "2456789"
  },
  {
    "text": "that I create a schedule and in this schedule I think this says five minutes",
    "start": "2456789",
    "end": "2462219"
  },
  {
    "text": "every five minutes make a call to this HTTP URL which is the URL on my service",
    "start": "2462219",
    "end": "2467289"
  },
  {
    "text": "and then pass in this this is my service account and this is my token audience which is the URL on my service right so",
    "start": "2467289",
    "end": "2473650"
  },
  {
    "text": "that's how this scheduler can actually use the service account and make a call to your internal service and everything",
    "start": "2473650",
    "end": "2479049"
  },
  {
    "text": "just works and you'll see in the logs that your service gets called every five minutes right so this is just an example",
    "start": "2479049",
    "end": "2485880"
  },
  {
    "start": "2485000",
    "end": "2532000"
  },
  {
    "text": "we have 20 minutes which should be enough time to talk about a somewhat of a real-world example although this",
    "start": "2485880",
    "end": "2493559"
  },
  {
    "text": "alright so hopefully you understood the point ok native and cloud run hopefully you also understood it understood that",
    "start": "2493559",
    "end": "2500680"
  },
  {
    "text": "cloud run is like really much easier when I'm running it if you are in the cloud already and what I did is that me",
    "start": "2500680",
    "end": "2509469"
  },
  {
    "text": "and my friend angin who who was here yesterday but he couldn't come today we",
    "start": "2509469",
    "end": "2515559"
  },
  {
    "text": "worked on this app over the years and I want to talk about the initial app and how we transform it over the years and",
    "start": "2515559",
    "end": "2522430"
  },
  {
    "text": "how I actually use cloud run in the end to make it into as in an architecture that kind of makes sense and go through",
    "start": "2522430",
    "end": "2528759"
  },
  {
    "text": "that story so that you have a concrete example of what it looks like so this app so me and my friend we were",
    "start": "2528759",
    "end": "2536589"
  },
  {
    "start": "2532000",
    "end": "2704000"
  },
  {
    "text": "basically we're both original from Cypress we like we news from Cyprus so what we try to do",
    "start": "2536589",
    "end": "2542310"
  },
  {
    "text": "is that we said okay why don't we build a mobile app where we kind of aggregate",
    "start": "2542310",
    "end": "2547350"
  },
  {
    "text": "all the news from Cyprus in a nice easy app so that's that was our idea so my",
    "start": "2547350",
    "end": "2552390"
  },
  {
    "text": "friend he worked on the mobile front end because I don't know anything about the front end and then I was gonna I worked",
    "start": "2552390",
    "end": "2557880"
  },
  {
    "text": "on the back end right so how do you how do you get the RSS feeds and how do you transform them how to display them in a",
    "start": "2557880",
    "end": "2563730"
  },
  {
    "text": "Web API so the initial prototype I think this happened late 2015 or early 2016",
    "start": "2563730",
    "end": "2568790"
  },
  {
    "text": "we had an asp.net app this was I think 4.6 running on Windows only and it was a",
    "start": "2568790",
    "end": "2576780"
  },
  {
    "text": "single app but in reality it was three different things the first one was reader so the reader was basically on a",
    "start": "2576780",
    "end": "2583260"
  },
  {
    "text": "schedule it would go to our assess fees and just read them then there was a transformer that would get them and",
    "start": "2583260",
    "end": "2589680"
  },
  {
    "text": "transform them into a common format because these RSS feeds there there was no standard right like they were all in",
    "start": "2589680",
    "end": "2595740"
  },
  {
    "text": "their own standards and what we wanted to do is we want to extract the things that we wanted like the news title needs",
    "start": "2595740",
    "end": "2601800"
  },
  {
    "text": "body news images and stuff like that and and transform that inter comment from that and then serve it on a web api so",
    "start": "2601800",
    "end": "2608850"
  },
  {
    "text": "that the mobile front end can call it and get get this these irises within in",
    "start": "2608850",
    "end": "2614070"
  },
  {
    "text": "a common format right so we did this in a weekend or two and it kind of worked",
    "start": "2614070",
    "end": "2619140"
  },
  {
    "text": "so that was like the positive of it it just worked it was really easy to deploy because a single app on a single machine",
    "start": "2619140",
    "end": "2627030"
  },
  {
    "text": "and by the way we were hosted on an is hosting site right it wasn't even cloud or anything like that and it was really",
    "start": "2627030",
    "end": "2633240"
  },
  {
    "text": "cheap as well to host it was like a dollar or two per month or something like that so it was very easy to get up",
    "start": "2633240",
    "end": "2638880"
  },
  {
    "text": "up and running but there was a lot of problems with it right first of all the biggest problem was that you know it was",
    "start": "2638880",
    "end": "2645690"
  },
  {
    "text": "three separate things but we all bundled them to get into one thing and there was too much coupling and you could see that",
    "start": "2645690",
    "end": "2651780"
  },
  {
    "text": "in our code as well you know even though I list these as like we do transformer API they weren't as neatly separated you",
    "start": "2651780",
    "end": "2660060"
  },
  {
    "text": "know when I when I was reading I was also transforming as I was transforming I was writing some warehouse I wasn't",
    "start": "2660060",
    "end": "2665100"
  },
  {
    "text": "doing a good job because it was a prototype but there was too much coupling then the developer experience",
    "start": "2665100",
    "end": "2671190"
  },
  {
    "text": "of the host was horrible like for example it would go down once in a while like and",
    "start": "2671190",
    "end": "2677080"
  },
  {
    "text": "and it would be down like that machine would be down for like 10 minutes and we didn't know why I would have to FTP to",
    "start": "2677080",
    "end": "2683140"
  },
  {
    "text": "the IaaS host to see the walks you know I couldn't see them easily things like that there was no redundancy it was a",
    "start": "2683140",
    "end": "2690010"
  },
  {
    "text": "single machine so if it went down everything went down there was no persistent everything was in memory",
    "start": "2690010",
    "end": "2695170"
  },
  {
    "text": "because that's all we needed at the time and there was no resilience whatsoever so if the reader crashed for whatever",
    "start": "2695170",
    "end": "2700750"
  },
  {
    "text": "reason it would bring down the whole thing right so it kind of worked but barely right so this was late 2015 early",
    "start": "2700750",
    "end": "2708580"
  },
  {
    "start": "2704000",
    "end": "2861000"
  },
  {
    "text": "2016 now in the next stage of the app we said okay why don't we and this was a",
    "start": "2708580",
    "end": "2714369"
  },
  {
    "text": "time when I started working for Google that I was getting into cloud technologies and everything I said why don't we just lift and ship this app to",
    "start": "2714369",
    "end": "2720700"
  },
  {
    "text": "the cloud I see what happens right it was more like an exercise to see how easy it would be to do that and what",
    "start": "2720700",
    "end": "2726340"
  },
  {
    "text": "would we get out of it so that's what I did on Google cloud there is something called compute engine which are",
    "start": "2726340",
    "end": "2732070"
  },
  {
    "text": "basically virtual machines that can host Linux or Windows so I took a Windows server and you know deployed the iOS app",
    "start": "2732070",
    "end": "2739660"
  },
  {
    "text": "that there and it was actually quite easy to do that right now taking an",
    "start": "2739660",
    "end": "2744820"
  },
  {
    "text": "existing app and deploying on an existing on a VM Windows Server without",
    "start": "2744820",
    "end": "2750070"
  },
  {
    "text": "any persistent is quite easy so it just kind of worked but to my surprise we also got some benefits that we weren't",
    "start": "2750070",
    "end": "2756490"
  },
  {
    "text": "expecting for example in compute engine what you can do is once you deploy your app you can take a snapshot or your app",
    "start": "2756490",
    "end": "2763390"
  },
  {
    "text": "or your disk and then you can tell compute engine can you please create",
    "start": "2763390",
    "end": "2768430"
  },
  {
    "text": "like two or three or four copies of this for me and it would and it would be really easy basically to have multiple",
    "start": "2768430",
    "end": "2773800"
  },
  {
    "text": "VMs running in if you need redundancy right and then once you have multiple instances you can put them into instance",
    "start": "2773800",
    "end": "2780670"
  },
  {
    "text": "groups and then you can have a load balancer in front of it right so although all of a sudden you have redundancy and you have load balancing",
    "start": "2780670",
    "end": "2787660"
  },
  {
    "text": "without really having to do much work all I had to do was basically just take the snapshot and just tell compute",
    "start": "2787660",
    "end": "2794859"
  },
  {
    "text": "engine just be create an instance group for me so that was nice there was also",
    "start": "2794859",
    "end": "2800440"
  },
  {
    "text": "the possibility auto scaling I mean I didn't set auto scaling myself because we didn't",
    "start": "2800440",
    "end": "2805950"
  },
  {
    "text": "but it's very easy to set up auto scaling in in compute engine and just",
    "start": "2805950",
    "end": "2811020"
  },
  {
    "text": "say you know when you read this metric ought to scare my compute engine instances you can do that I mean have to",
    "start": "2811020",
    "end": "2816869"
  },
  {
    "text": "manually set it up but it but having that possibility was nice the Devex the",
    "start": "2816869",
    "end": "2822150"
  },
  {
    "text": "developer experience was much better than is hosting all suddenly could see",
    "start": "2822150",
    "end": "2827460"
  },
  {
    "text": "our logs in stackdriver we could start and stop our VMs stuff like that and the",
    "start": "2827460",
    "end": "2834420"
  },
  {
    "text": "only downside i would say is that compared to iOS hosting it cloud is expensive right there is no question",
    "start": "2834420",
    "end": "2839760"
  },
  {
    "text": "about that I mean instead of paying like five dollars per month or something like",
    "start": "2839760",
    "end": "2844890"
  },
  {
    "text": "that at this stage we're probably paying more like 50 60 dollars per month because we were running a couple VMs we were using",
    "start": "2844890",
    "end": "2851760"
  },
  {
    "text": "web balancer we were paying for Windows Server licenses stuff like that right so it became a little bit more expensive",
    "start": "2851760",
    "end": "2858180"
  },
  {
    "text": "than we expected probably smallish app right now the next stage of the app was",
    "start": "2858180",
    "end": "2863450"
  },
  {
    "start": "2861000",
    "end": "3076000"
  },
  {
    "text": "so just to let you know this was roughly 2017 and you see that we didn't do",
    "start": "2863450",
    "end": "2869430"
  },
  {
    "text": "anything for two years right because once things are running you don't want to like touch them right that's what happens and that's what we",
    "start": "2869430",
    "end": "2876780"
  },
  {
    "text": "did and at the same time I was also kind of waiting to see what happens with that core right because at the time like this",
    "start": "2876780",
    "end": "2884520"
  },
  {
    "text": "dotnet core thing was just coming out and it promised all these things like it's gonna run everywhere and I was a",
    "start": "2884520",
    "end": "2890160"
  },
  {
    "text": "little skeptical because I used to work at my stuff and I'm like really like they're really doing this so I was gonna I was kind of waiting to see what's",
    "start": "2890160",
    "end": "2895950"
  },
  {
    "text": "gonna happen but then in early 2019 I was kind of like okay this thought of course seems",
    "start": "2895950",
    "end": "2901049"
  },
  {
    "text": "pretty cool so why don't I try to rewrite this app in dotnet core so I can run it in everywhere basically it's not",
    "start": "2901049",
    "end": "2907290"
  },
  {
    "text": "just on Windows and I dedicated a weekend to rewrite the app in the core",
    "start": "2907290",
    "end": "2912720"
  },
  {
    "text": "because I wasn't sure what was gonna work or not and to my big surprise it took me two or three hours to rewrite",
    "start": "2912720",
    "end": "2919950"
  },
  {
    "text": "the whole app from metro.net core and I was pleasantly surprised and big props to by yourself for doing such a good job",
    "start": "2919950",
    "end": "2926309"
  },
  {
    "text": "without the core they really and in some parts of our code we I don't have to",
    "start": "2926309",
    "end": "2931440"
  },
  {
    "text": "change anything some parts I had to change but it was really easy to find documentation on what to change and some parts in asp.net",
    "start": "2931440",
    "end": "2937950"
  },
  {
    "text": "work was just better so I could just get rid of it and just use it it's not like Oh way of doing things so it",
    "start": "2937950",
    "end": "2943050"
  },
  {
    "text": "was really really straightforward and then the next step was I was encouraged by that as okay I had the rest of the",
    "start": "2943050",
    "end": "2948540"
  },
  {
    "text": "weekend what can I do so I said okay why don't I continue is it because once you write your app and continuous it it",
    "start": "2948540",
    "end": "2954360"
  },
  {
    "text": "opens up so many doors right you can deploy it to so many different places so icon terrorize it barely like because I",
    "start": "2954360",
    "end": "2960990"
  },
  {
    "text": "didn't know doctor that well at the time I still don't know that well because writing writing docker files in a",
    "start": "2960990",
    "end": "2967070"
  },
  {
    "text": "efficient way and a secure way is really difficult actually but I containerized it and then at that point I had all this",
    "start": "2967070",
    "end": "2973740"
  },
  {
    "text": "choice where I can deploy it I could deploy to kubernetes on google kubernetes engine or I could go to App",
    "start": "2973740",
    "end": "2979620"
  },
  {
    "text": "Engine flex and I went with App Engine flex because in App Engine flights you",
    "start": "2979620",
    "end": "2986340"
  },
  {
    "text": "basically say here's my container run it and it does it is it does that on VMs",
    "start": "2986340",
    "end": "2991650"
  },
  {
    "text": "but the user experience the developer experience is really easy here's my container just quiet",
    "start": "2991650",
    "end": "2996660"
  },
  {
    "text": "whereas Kuban it is even though it was more popular and I could do it that way but I had to do a lot of things like",
    "start": "2996660",
    "end": "3003080"
  },
  {
    "text": "pods and services and all that kind of stuff that I don't want to get into to be honest so I chose to deploy to App Engine and then you know that gave me",
    "start": "3003080",
    "end": "3010640"
  },
  {
    "text": "benefits as well so first of all I got rid of windows so things got cheaper you know secondly in App Engine there's load",
    "start": "3010640",
    "end": "3018470"
  },
  {
    "text": "balancers and there's auto scaling but you don't have to do anything for it you just say the point my container and then",
    "start": "3018470",
    "end": "3024560"
  },
  {
    "text": "all of a sudden you've got what balancing you got multiple versions you get auto scaling set up for you so it's",
    "start": "3024560",
    "end": "3031130"
  },
  {
    "text": "kind of like magic that it just happens behind the scenes and you don't have to manually do it yourself and we also got",
    "start": "3031130",
    "end": "3037550"
  },
  {
    "text": "revision management meaning every time I deploy my app I get a new revision just like I showed you in K native in App",
    "start": "3037550",
    "end": "3043910"
  },
  {
    "text": "Engine there is also the notion of revisions and this made it really easy for me because sometimes I would deploy",
    "start": "3043910",
    "end": "3049910"
  },
  {
    "text": "something we don't work but I can go back to the previous region really easily the only dances sighs I can think of in",
    "start": "3049910",
    "end": "3056180"
  },
  {
    "text": "this case is that I'm still working on VMs because even even that engine kind of tries to hide the VMS it was still",
    "start": "3056180",
    "end": "3062480"
  },
  {
    "text": "VNC behind the scene and this deployment was slow it would take like five minutes sometimes ten minutes to deploy a simple",
    "start": "3062480",
    "end": "3069230"
  },
  {
    "text": "app and I don't like that too much but that was the reality so how much time I have 10 minutes okay",
    "start": "3069230",
    "end": "3077119"
  },
  {
    "text": "so the next update was mid 2019 as you can see we're getting faster because we are using things that are modern and",
    "start": "3077119",
    "end": "3084650"
  },
  {
    "text": "things are becoming easier to update so in this update after like a few months I said okay a new version away so that",
    "start": "3084650",
    "end": "3091160"
  },
  {
    "text": "came along so 300 so let's update to that and that was quite easy and then at",
    "start": "3091160",
    "end": "3096440"
  },
  {
    "text": "the time cloud run was being announced at Google next in San Francisco and I",
    "start": "3096440",
    "end": "3101599"
  },
  {
    "text": "said okay why don't I just try to deploy this container to Cod run and that was literally a single G cloud deploy",
    "start": "3101599",
    "end": "3108530"
  },
  {
    "text": "command to deploy it it was still a single app it wasn't like micro services",
    "start": "3108530",
    "end": "3115190"
  },
  {
    "text": "or anything like that but I could run it on cloud run and then all of a sudden I bill dropped from like 20 $30 per month",
    "start": "3115190",
    "end": "3121910"
  },
  {
    "text": "to like almost free well I should say free because there's a free tier in cloud run so it was pretty much free",
    "start": "3121910",
    "end": "3128000"
  },
  {
    "text": "right and the reason is that our app is not like the most popular app on in the world and it's occasional connected",
    "start": "3128000",
    "end": "3134750"
  },
  {
    "text": "right so sometimes when someone wants to read the news that it comes and it wakes up and then it gets the fees and then",
    "start": "3134750",
    "end": "3141079"
  },
  {
    "text": "serves them and then after a while no one uses it and it just shuts down and that model is perfect for call it run",
    "start": "3141079",
    "end": "3146900"
  },
  {
    "text": "it's perfect for occasional connected apps so I was really happy about the service billing that made it free for us",
    "start": "3146900",
    "end": "3153730"
  },
  {
    "text": "the Devex or cloud run is really good so did you can deploy within seconds so instead of like 10 minutes we basically",
    "start": "3153730",
    "end": "3161059"
  },
  {
    "text": "deploy like every second or so if you want to and then this integrated logging",
    "start": "3161059",
    "end": "3166849"
  },
  {
    "text": "that I show you the revision management now all the kind of stuff really makes it much easier to work with so these are",
    "start": "3166849",
    "end": "3173059"
  },
  {
    "text": "the kind of the benefits that we get by just moving to cloud run but the issue that we had was cold starts so our app",
    "start": "3173059",
    "end": "3179299"
  },
  {
    "text": "if you remember it's a reader Web API and converter right and the reader like",
    "start": "3179299",
    "end": "3185869"
  },
  {
    "text": "when when code runs scales down it doesn't read anything it just just dies and then when a user comes to get defeat",
    "start": "3185869",
    "end": "3192920"
  },
  {
    "text": "then we have to wake up first so it has to start the container which is pretty",
    "start": "3192920",
    "end": "3198470"
  },
  {
    "text": "quick but then the reader has to go fetch and then come back so that was an issue that I wanted to fix in the next",
    "start": "3198470",
    "end": "3204890"
  },
  {
    "text": "iteration so the next update was was literally like a couple of weeks ago and I said",
    "start": "3204890",
    "end": "3212880"
  },
  {
    "start": "3206000",
    "end": "3494000"
  },
  {
    "text": "okay this app doesn't make sense anymore as a monolith right it needs to be",
    "start": "3212880",
    "end": "3217980"
  },
  {
    "text": "broken down and I wanted to go through that and see what it takes to actually",
    "start": "3217980",
    "end": "3223290"
  },
  {
    "text": "break I mean even though it's not too complicated on app it was still somewhat complicated see how we can break it down",
    "start": "3223290",
    "end": "3229110"
  },
  {
    "text": "so in the end this is what we ended up having so first we created a reader",
    "start": "3229110",
    "end": "3234570"
  },
  {
    "text": "service this is a cloud run service that simply it just fetches the feeds and",
    "start": "3234570",
    "end": "3239640"
  },
  {
    "text": "then brings them back right now of course this has to happen on a schedule so I put a class schedule in front of it",
    "start": "3239640",
    "end": "3246450"
  },
  {
    "text": "so class scheduler maybe every half a day or every day whatever you want would call the reader and get defeats then the",
    "start": "3246450",
    "end": "3252750"
  },
  {
    "text": "reader has to save defeat somewhere right so to save it I use quad storage so just gets the JSON and saves it to",
    "start": "3252750",
    "end": "3259560"
  },
  {
    "text": "cloud storage and this is very easy to understand it's very isolated from everything else and I can also go to",
    "start": "3259560",
    "end": "3265740"
  },
  {
    "text": "class storage and see my fees and see how they are saved now the second part is the users so I created another web",
    "start": "3265740",
    "end": "3273560"
  },
  {
    "text": "another cloud run service called web and this time oh by the way the reader is a private service and only class schedule'",
    "start": "3273560",
    "end": "3280200"
  },
  {
    "text": "can call that and the web is a public service and the users will call the web to get back so feeds in a common format",
    "start": "3280200",
    "end": "3286160"
  },
  {
    "text": "now of course we have the feeds here they're not transform yet so I need a transformer for that so what we what you",
    "start": "3286160",
    "end": "3293250"
  },
  {
    "text": "can do is you can set cloud storage to publish events when something happens so",
    "start": "3293250",
    "end": "3298440"
  },
  {
    "text": "when we when we save a feat they can publish a message to pops up and then",
    "start": "3298440",
    "end": "3304020"
  },
  {
    "text": "that will call another service called converter it's a private service that will get the actual file and it will do",
    "start": "3304020",
    "end": "3310020"
  },
  {
    "text": "the conversion it will basically look at the file and say ok this is a feed of this type and I need to convert it into",
    "start": "3310020",
    "end": "3315270"
  },
  {
    "text": "this format and it just has all these rules to convert it and once it converts it it says into something called fire",
    "start": "3315270",
    "end": "3322410"
  },
  {
    "text": "store so fire store it's an Oracle database from firebase that's part of",
    "start": "3322410",
    "end": "3327840"
  },
  {
    "text": "Google cloud and it's very good for sequel type as or JSON type objects so",
    "start": "3327840",
    "end": "3336060"
  },
  {
    "text": "it was a natural fit to you know and say with the firestore and then the web would just talk to the firestore",
    "start": "3336060",
    "end": "3342570"
  },
  {
    "text": "right so as you can see we went from one monolith to three separate my services",
    "start": "3342570",
    "end": "3348150"
  },
  {
    "text": "and each my service they do their own thing and it's kind of easy to kind of construct conceptualize them and see",
    "start": "3348150",
    "end": "3355109"
  },
  {
    "text": "what's happening and for me the biggest biggest advantage was that first of all the web on looks at fire stored and we",
    "start": "3355109",
    "end": "3360900"
  },
  {
    "text": "have persistence now so there's no cost issue anymore then we there only if I want to know if",
    "start": "3360900",
    "end": "3367170"
  },
  {
    "text": "the reader is working I can just look at cloud storage and see if it's being updating the converter on the updates",
    "start": "3367170",
    "end": "3372599"
  },
  {
    "text": "the fire stores I can just see when was the last time it updated the fire store so in every way it seems better",
    "start": "3372599",
    "end": "3377820"
  },
  {
    "text": "but of course with everything else there's trade-offs right it's not always like the best the best solution so the",
    "start": "3377820",
    "end": "3385880"
  },
  {
    "text": "the trade-offs are like something like this first of all the architecture is loosely coupled so I can update each",
    "start": "3385880",
    "end": "3392820"
  },
  {
    "text": "part as I want I can update individual pieces and for me the piece that I",
    "start": "3392820",
    "end": "3398609"
  },
  {
    "text": "always update is the converter right the rules change a lot with these RSS feeds so I need to change the converter a lot",
    "start": "3398609",
    "end": "3403920"
  },
  {
    "text": "but I don't really need to change the way we read feeds or I don't need to change the web UI that much so this is the part that I'm changing a lot and now",
    "start": "3403920",
    "end": "3409920"
  },
  {
    "text": "I can do that you're not having to act like anything else and we can use different languages right right right",
    "start": "3409920",
    "end": "3415140"
  },
  {
    "text": "now I'm using c-sharp everywhere but there's no reason why the webview I cannot cannot be not J's or something like that being able to do that helps",
    "start": "3415140",
    "end": "3422010"
  },
  {
    "text": "because if someone else wants to take this app in the future they can take and write in their own language and yeah",
    "start": "3422010",
    "end": "3428520"
  },
  {
    "text": "better utilization of the resources because the reader it just wakes up once a day or so so we are not wasting",
    "start": "3428520",
    "end": "3433859"
  },
  {
    "text": "sources and the web UI it can scale without having to scale the reader right",
    "start": "3433859",
    "end": "3440339"
  },
  {
    "text": "I mean it before it was stupid that we were scaling everything together when we only needed to scale the web web part",
    "start": "3440339",
    "end": "3445740"
  },
  {
    "text": "actually and the disadvantage is that there's many more many parts now it's",
    "start": "3445740",
    "end": "3452190"
  },
  {
    "text": "not a one app anymore like you have three different services your classes",
    "start": "3452190",
    "end": "3457380"
  },
  {
    "text": "you have pops up you have firestore so it is more complicated like no matter what how you look at it's more",
    "start": "3457380",
    "end": "3462839"
  },
  {
    "text": "complicated and this is a decision that you need to make I mean for me I since I want to maintain this up having this",
    "start": "3462839",
    "end": "3469260"
  },
  {
    "text": "kind of infrastructure is okay but maybe for your app it's an overkill so yeah that's a decision that you need to",
    "start": "3469260",
    "end": "3475250"
  },
  {
    "text": "make and obviously it's more expensive because you need to pay three services and storage and pops up and fire store",
    "start": "3475250",
    "end": "3482300"
  },
  {
    "text": "so I don't know I didn't run the numbers but it feels like this I mean with all",
    "start": "3482300",
    "end": "3487670"
  },
  {
    "text": "the moving parts it should be a bit more expensive than having the model with maybe maybe it's similar I don't know I",
    "start": "3487670",
    "end": "3492920"
  },
  {
    "text": "haven't done the math so the lessons learnt I learned here is that first of all you seen the transformation even for",
    "start": "3492920",
    "end": "3498920"
  },
  {
    "start": "3494000",
    "end": "3600000"
  },
  {
    "text": "a simple app it's not that straightforward you don't go from Windows asp.net to a cloud run service",
    "start": "3498920",
    "end": "3504440"
  },
  {
    "text": "just with one one iteration it has to be a transformation and it has to be a",
    "start": "3504440",
    "end": "3509690"
  },
  {
    "text": "little gradual transformation as you go along taking the app and just putting in the",
    "start": "3509690",
    "end": "3515780"
  },
  {
    "text": "cloud even that has a lot of benefit as you seen I wasn't expecting that I would be easier to take an existing app and",
    "start": "3515780",
    "end": "3522080"
  },
  {
    "text": "just put it in cloud and get all the benefits that I wasn't really expecting so it's something to think about",
    "start": "3522080",
    "end": "3527690"
  },
  {
    "text": "we had none optimal solutions on the way for example App Engine wasn't the best place to basically deploy my app because",
    "start": "3527690",
    "end": "3534980"
  },
  {
    "text": "we didn't have cloud run but these non optimal solutions since I got ready for App Engine flex since I container as my",
    "start": "3534980",
    "end": "3541490"
  },
  {
    "text": "app it helped me to move to cloud run much easier so even though things might be non optimal for now they are actually",
    "start": "3541490",
    "end": "3548150"
  },
  {
    "text": "stepping stone for optimal solutions you have to rewrite Oracle at some point right I had to literally go through my",
    "start": "3548150",
    "end": "3554840"
  },
  {
    "text": "code refactor it and split it up into three different pieces you it just has to happen because you are changing your",
    "start": "3554840",
    "end": "3561170"
  },
  {
    "text": "environments from on Prem to the cloud so at some point you to kind of take advantage of the cloud make things",
    "start": "3561170",
    "end": "3566360"
  },
  {
    "text": "pluggable make sure you can replace things so I had to change my in memory from from in-memory to fire so I had to",
    "start": "3566360",
    "end": "3572720"
  },
  {
    "text": "rewrite things that make things pluggable but that's inevitable as you go from on printing to the cloud and",
    "start": "3572720",
    "end": "3578300"
  },
  {
    "text": "finally everyone talks about monolith and how great it is to decompose it right and it's true in some ways but in",
    "start": "3578300",
    "end": "3585860"
  },
  {
    "text": "other ways it's very complicated even for a simple app like this it takes a lot of time to figure out how to",
    "start": "3585860",
    "end": "3591860"
  },
  {
    "text": "decompose it then wants to decompose it how to deploy it how do you communicate between my tree services there's a lot",
    "start": "3591860",
    "end": "3597530"
  },
  {
    "text": "of decisions that you need to make so it's gonna be more complicated than what you have no matter what how you look at it but you have to basically make a code",
    "start": "3597530",
    "end": "3605300"
  },
  {
    "text": "make a conscious decision and say okay is this worth it for my scenario what I mean what am I trying to do I mean for",
    "start": "3605300",
    "end": "3611450"
  },
  {
    "text": "me it was it was good to separate it out so that I can actually look at these separately and also you know the fact",
    "start": "3611450",
    "end": "3619640"
  },
  {
    "text": "that I just uptake convert and nothing else was worth it to go through this exercise but you need to make the decision yourself unfortunately we are",
    "start": "3619640",
    "end": "3626690"
  },
  {
    "text": "out of time and I can't take any questions but thanks for listening I'm gonna be here after the talker I'm gonna be",
    "start": "3626690",
    "end": "3632900"
  },
  {
    "text": "outside as well so if you have any questions feel free to reach out so the ki-netic tutorial is there the",
    "start": "3632900",
    "end": "3638240"
  },
  {
    "text": "clock run tutorial is there and these are the official the official links to the products and then the the app itself",
    "start": "3638240",
    "end": "3645050"
  },
  {
    "text": "we called amethyst it's an ancient city in Cyprus so that's why we chose the name if you want to take a look at it",
    "start": "3645050",
    "end": "3651020"
  },
  {
    "text": "it's there I have instructions on how to deploy it if you want to put yourself I don't know maybe you want your own news feeder feed feel free to take it and",
    "start": "3651020",
    "end": "3657590"
  },
  {
    "text": "yeah thanks for your attention thanks very much [Applause]",
    "start": "3657590",
    "end": "3666230"
  }
]