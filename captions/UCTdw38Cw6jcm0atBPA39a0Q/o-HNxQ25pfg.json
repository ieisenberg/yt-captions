[
  {
    "start": "0",
    "end": "26000"
  },
  {
    "text": "so thanks for joining my name is thomas petricek and i'll be talking about designing",
    "start": "6319",
    "end": "11599"
  },
  {
    "text": "composable functional libraries not just for data visualization um",
    "start": "11599",
    "end": "17840"
  },
  {
    "text": "i work at the university of kent and i do some f sharp consulting at f sharp works as well",
    "start": "17840",
    "end": "23760"
  },
  {
    "text": "um so this talk is sort of um it's",
    "start": "23760",
    "end": "30000"
  },
  {
    "start": "26000",
    "end": "190000"
  },
  {
    "text": "um using a domain that may feel strange to people or may feel unfamiliar but really the",
    "start": "30000",
    "end": "36399"
  },
  {
    "text": "point is to talk about functional functional thinking and how you think as a functional programmer and um charts",
    "start": "36399",
    "end": "44239"
  },
  {
    "text": "i'm using uh as an example because they provide a really nice um playground for explaining those ideas",
    "start": "44239",
    "end": "53280"
  },
  {
    "text": "so um the motivation for this is um not so much technical it sort of",
    "start": "53280",
    "end": "60640"
  },
  {
    "text": "came from a project that i've been involved with which tries to make data exploration",
    "start": "60640",
    "end": "67439"
  },
  {
    "text": "more open so the motivation is um and you you see more and more journalists these days are",
    "start": "67439",
    "end": "73920"
  },
  {
    "text": "actually using data in in news reporting and um often they'll have interesting",
    "start": "73920",
    "end": "81840"
  },
  {
    "text": "charts and um as a programmer or as as someone who could actually check",
    "start": "81840",
    "end": "88159"
  },
  {
    "text": "whether they've done it right you you always keep wondering how did they actually do this so um i've",
    "start": "88159",
    "end": "94479"
  },
  {
    "text": "been working on a project that um to put it in in this way makes facts great",
    "start": "94479",
    "end": "100159"
  },
  {
    "text": "again and lets people sort of um see how things are how data",
    "start": "100159",
    "end": "105360"
  },
  {
    "text": "visualizations are created and as part of that um i wanted to",
    "start": "105360",
    "end": "111280"
  },
  {
    "text": "create some interactive data visualizations and obviously as a programmer when you have",
    "start": "111280",
    "end": "117680"
  },
  {
    "text": "a problem and you can't quite fit find a perfect perfect solution for it you wonder what",
    "start": "117680",
    "end": "124240"
  },
  {
    "text": "would it take to write my own data visualization library and",
    "start": "124240",
    "end": "129280"
  },
  {
    "text": "that got me really to thinking to think about what is what is what is a chart if you",
    "start": "129280",
    "end": "136000"
  },
  {
    "text": "if you want to create a nice composable data visualization library you really have to understand what is it",
    "start": "136000",
    "end": "142400"
  },
  {
    "text": "that you're working with so the main point of this talk is going to be about that",
    "start": "142400",
    "end": "147840"
  },
  {
    "text": "it's going to be about um how do you look at this at this",
    "start": "147840",
    "end": "154080"
  },
  {
    "text": "interesting and tricky domain and make sense of um what is a chart so that you can have",
    "start": "154080",
    "end": "161599"
  },
  {
    "text": "a nice api for working with that um so i'll be using the charts as an example but",
    "start": "161599",
    "end": "167760"
  },
  {
    "text": "really the main point is is all these different sort of tricks and",
    "start": "167760",
    "end": "173680"
  },
  {
    "text": "tips that help you with with functional functional design and i'm going to be doing this in a",
    "start": "173680",
    "end": "180879"
  },
  {
    "text": "sharp but i think actually many of those ideas are are useful regardless of whether you're using",
    "start": "180879",
    "end": "187280"
  },
  {
    "text": "functional programming language or not so if you start looking at what is a",
    "start": "187280",
    "end": "193120"
  },
  {
    "start": "190000",
    "end": "470000"
  },
  {
    "text": "chart the the sort of first place you go to is something like google charts and",
    "start": "193120",
    "end": "198159"
  },
  {
    "text": "um that's just a popular charting library and their their answer to the question",
    "start": "198159",
    "end": "204159"
  },
  {
    "text": "of what is a chart is is this very long list of things you can have",
    "start": "204159",
    "end": "209519"
  },
  {
    "text": "bar chart column chart line chart scatter chart histogram then they have things like combo chart",
    "start": "209519",
    "end": "216000"
  },
  {
    "text": "which actually is a sort of strange combination of some predefined",
    "start": "216000",
    "end": "221280"
  },
  {
    "text": "charts but as you see in the screenshots there's just a long list of things so this",
    "start": "221280",
    "end": "228640"
  },
  {
    "text": "makes you think well maybe there really isn't any sort of deeper structure to it maybe",
    "start": "228640",
    "end": "234000"
  },
  {
    "text": "if you want charts you just have to create 20 different types and then people will pick",
    "start": "234000",
    "end": "240400"
  },
  {
    "text": "so that's not very satisfying and it also doesn't cover many of the really interesting things",
    "start": "240400",
    "end": "246720"
  },
  {
    "text": "so my my favorite example of a data visualization is this um this thing produced by the new york",
    "start": "246720",
    "end": "253920"
  },
  {
    "text": "times where what they're doing is that they're looking at the history of olympic games and what countries",
    "start": "253920",
    "end": "262240"
  },
  {
    "text": "won what number of medals and it's just a really nice way of",
    "start": "262240",
    "end": "268080"
  },
  {
    "text": "telling the world history because you can see the two gaps there for the first and second world war you",
    "start": "268080",
    "end": "274720"
  },
  {
    "text": "can see during the cold war era uh the the boycott of first the games in in russia by the",
    "start": "274720",
    "end": "283360"
  },
  {
    "text": "us and then vice versa so um you can see the sort of",
    "start": "283360",
    "end": "288400"
  },
  {
    "text": "rise of um countries outside of europe and us towards the end so it really tells a",
    "start": "288400",
    "end": "295040"
  },
  {
    "text": "nice story but if you if you start thinking about what this is",
    "start": "295040",
    "end": "301120"
  },
  {
    "text": "well um is there any sort of deeper structure to this or maybe maybe a chart is really just",
    "start": "301120",
    "end": "308240"
  },
  {
    "text": "just the svg graphics with some text and shapes that you have to um the positions of which you have to",
    "start": "308240",
    "end": "314800"
  },
  {
    "text": "calculate manually so um that's not that's not very",
    "start": "314800",
    "end": "319840"
  },
  {
    "text": "satisfying um so when people write charts and create charts using charting",
    "start": "319840",
    "end": "326800"
  },
  {
    "text": "libraries you basically have two options either you go for something very low level like d3 where you um",
    "start": "326800",
    "end": "335280"
  },
  {
    "text": "just define points you use some functions to translate them to",
    "start": "335280",
    "end": "341039"
  },
  {
    "text": "pixels and then you generate some dom elements and set their values and that's that's",
    "start": "341039",
    "end": "347520"
  },
  {
    "text": "your that's your graphics so that's really tedious um",
    "start": "347520",
    "end": "352960"
  },
  {
    "text": "but it lets you do anything you want the other option is to use something like google charts where you just say",
    "start": "352960",
    "end": "359759"
  },
  {
    "text": "i want um a bar chart and a line chart together and that is easy",
    "start": "359759",
    "end": "367600"
  },
  {
    "text": "but it doesn't let you do anything interesting so um it gets even worse when you start",
    "start": "367600",
    "end": "375360"
  },
  {
    "text": "thinking about interactivity um this is this is another nice idea",
    "start": "375360",
    "end": "380479"
  },
  {
    "text": "of uh from new york times where what they did is they created a chart where",
    "start": "380479",
    "end": "385520"
  },
  {
    "text": "they only show you some of the data and you have to draw the rest to make a guess and then they'll say how",
    "start": "385520",
    "end": "392080"
  },
  {
    "text": "wrong you wear which is a great way of of making you think about the problem but once you add",
    "start": "392080",
    "end": "399520"
  },
  {
    "text": "interactivity something like google charts doesn't really help you anymore so you have to do a lot more programming",
    "start": "399520",
    "end": "407199"
  },
  {
    "text": "and um how do you represent that uh becomes becomes another big question",
    "start": "407199",
    "end": "415280"
  },
  {
    "text": "so when when you sort of go through these ideas you'll really see that",
    "start": "415280",
    "end": "421360"
  },
  {
    "text": "there's there's some common things that are important about charts um there's",
    "start": "421360",
    "end": "426560"
  },
  {
    "text": "some kinds of projections where you have domain values say a country",
    "start": "426560",
    "end": "433120"
  },
  {
    "text": "like united states or or the uk um you have you have domain values like",
    "start": "433120",
    "end": "439919"
  },
  {
    "text": "um 200 200 members of parliament that you have to map to pixels",
    "start": "439919",
    "end": "446400"
  },
  {
    "text": "um then you have some shapes obviously filled areas lines and so on",
    "start": "446400",
    "end": "452240"
  },
  {
    "text": "and then there's various ways of composing these and then the interactivity is adding this sort of",
    "start": "452240",
    "end": "458319"
  },
  {
    "text": "dependence on user input so so user can interact and then the state of the chart will",
    "start": "458319",
    "end": "464000"
  },
  {
    "text": "depend on that so those are some things that we have to have to represent in a clever way",
    "start": "464000",
    "end": "470319"
  },
  {
    "start": "470000",
    "end": "912000"
  },
  {
    "text": "and um what i'm going to do is i'll i'll talk through uh a couple of examples that demonstrate",
    "start": "470319",
    "end": "477919"
  },
  {
    "text": "a library that i've been working on um in fsharp that really sort of shows",
    "start": "477919",
    "end": "483840"
  },
  {
    "text": "you how you build up a chart from very small very basic pieces",
    "start": "483840",
    "end": "488960"
  },
  {
    "text": "so i'm going to switch over to code here right that's my demos and i've got some",
    "start": "488960",
    "end": "496319"
  },
  {
    "text": "sample data i've got um uk elections and exchange rate",
    "start": "496319",
    "end": "503680"
  },
  {
    "text": "in june 2016 and i've got a page here where we will see the",
    "start": "503680",
    "end": "509759"
  },
  {
    "text": "outputs and the basic thing i can try to do is to say i'm going to i want to create",
    "start": "509759",
    "end": "518000"
  },
  {
    "text": "a column chart with the election results and i can just start by creating a new",
    "start": "518000",
    "end": "524880"
  },
  {
    "text": "column and i'm going to use the f-sharp pipe to render this so i create some shape and then render",
    "start": "524880",
    "end": "531760"
  },
  {
    "text": "that if i save it switch over here it turns grey so that's all very impressive is it um but",
    "start": "531760",
    "end": "539680"
  },
  {
    "text": "the point is um i haven't really specified anything",
    "start": "539680",
    "end": "544800"
  },
  {
    "text": "about this chart i just said i want one column and what happens is that the column takes up all the available space",
    "start": "544800",
    "end": "551600"
  },
  {
    "text": "so there's one column taking my entire screen using default color with no axes",
    "start": "551600",
    "end": "559040"
  },
  {
    "text": "but we can do more and the first primitive i'm going to be using is this layered operation",
    "start": "559040",
    "end": "566480"
  },
  {
    "text": "where i can say i'm going to iterate over all my data",
    "start": "566480",
    "end": "573519"
  },
  {
    "text": "and for every party i'm going to create",
    "start": "573519",
    "end": "578480"
  },
  {
    "text": "for every party i'm going to create a a column with the party name and the",
    "start": "580800",
    "end": "587120"
  },
  {
    "text": "election result from 2019 and i'm going to overlay this",
    "start": "587120",
    "end": "593920"
  },
  {
    "text": "and i'm going to fix my typos i'll save this and now you see it actually starts",
    "start": "593920",
    "end": "600399"
  },
  {
    "text": "resembling a shape of a column chart so there's gray boxes",
    "start": "600399",
    "end": "605760"
  },
  {
    "text": "of different heights so that's getting better and that's just done by overlaying these",
    "start": "605760",
    "end": "612240"
  },
  {
    "text": "basic columns now we want to make it more interesting",
    "start": "612240",
    "end": "617920"
  },
  {
    "text": "so i'm going to add some color here that's the first step and now it's now",
    "start": "617920",
    "end": "623040"
  },
  {
    "text": "it's colored so you can already guess if you know the uk politics and i'm going to do my last bit",
    "start": "623040",
    "end": "630800"
  },
  {
    "text": "which is to add some axes and i have to say on which sides i want them so i'm going",
    "start": "630800",
    "end": "637440"
  },
  {
    "text": "to add axes over the whole thing i just constructed",
    "start": "637440",
    "end": "642480"
  },
  {
    "text": "and if i do this now i actually get the normal column chart so the point here is i've sort of",
    "start": "642480",
    "end": "649839"
  },
  {
    "text": "started from very simple basic blocks like just a column that represents one of",
    "start": "649839",
    "end": "654880"
  },
  {
    "text": "these one of these boxes here and from that i was able to construct",
    "start": "654880",
    "end": "661839"
  },
  {
    "text": "a complete chart in in just a few steps",
    "start": "662160",
    "end": "667040"
  },
  {
    "text": "now the the key thing here that was really interesting is this handling of continuous and",
    "start": "667279",
    "end": "673600"
  },
  {
    "text": "categorical values so you don't i don't say much about this but when you look here",
    "start": "673600",
    "end": "679360"
  },
  {
    "text": "a column here i say this is a categorical value and then i give it a",
    "start": "679360",
    "end": "684800"
  },
  {
    "text": "string and here i say this is a continuous value and i give it a number",
    "start": "684800",
    "end": "689839"
  },
  {
    "text": "and if you look at this this this chart the y-axis",
    "start": "689839",
    "end": "696399"
  },
  {
    "text": "is continuous so there's numbers from 0 to 400. the the um x-axis is categorical so it",
    "start": "696399",
    "end": "703519"
  },
  {
    "text": "just has different different categories in this case party names",
    "start": "703519",
    "end": "709600"
  },
  {
    "text": "and the the library behind this this is sort of the first thing that really is a fundamental basic primitive here",
    "start": "709600",
    "end": "717519"
  },
  {
    "text": "the library behind this handles um or understands those values and and does",
    "start": "717519",
    "end": "723440"
  },
  {
    "text": "clever alignment so um on a continuous scale you just have values from",
    "start": "723440",
    "end": "728639"
  },
  {
    "text": "zero to something and when you have a value on that scale you know where to put it on a",
    "start": "728639",
    "end": "734800"
  },
  {
    "text": "categorical scale this is this is somewhat more interesting because you have these separate categories",
    "start": "734800",
    "end": "741120"
  },
  {
    "text": "and they just get sort of put side by side one after the other",
    "start": "741120",
    "end": "746160"
  },
  {
    "text": "and within each category you actually have a sort of range of positions from zero to one",
    "start": "746160",
    "end": "752639"
  },
  {
    "text": "so you can uniquely say where on this chart i am for example by saying sort of",
    "start": "752639",
    "end": "759600"
  },
  {
    "text": "green 0.3 that will tell you this this this coordinate here",
    "start": "759600",
    "end": "766320"
  },
  {
    "text": "um and the beautiful thing is you you sort of try to understand what the",
    "start": "766320",
    "end": "771680"
  },
  {
    "text": "chart is by thinking about it in this way and at the same time you can write f sharp code absorb type",
    "start": "771680",
    "end": "778560"
  },
  {
    "text": "definitions that um represent this so in my case",
    "start": "778560",
    "end": "783760"
  },
  {
    "text": "there's a type for scales and scale can be a continuous that represents",
    "start": "783760",
    "end": "788959"
  },
  {
    "text": "sort of area of a chart really um from some number to some number or a",
    "start": "788959",
    "end": "794240"
  },
  {
    "text": "categorical in which case it just has a has a list of these different categories",
    "start": "794240",
    "end": "800000"
  },
  {
    "text": "a value can be a continuous it's a number somewhere on that continuous scale",
    "start": "800000",
    "end": "805839"
  },
  {
    "text": "or a categorical in which case it's the name of the category together with a",
    "start": "805839",
    "end": "812160"
  },
  {
    "text": "position where in that in that area you are and uh a column chart really",
    "start": "812160",
    "end": "819839"
  },
  {
    "text": "i you can you could see i was typing derived dot column that's because it's a it's a it's not a",
    "start": "819839",
    "end": "825839"
  },
  {
    "text": "primitive thing a primitive thing is just a filled shape and here for example this one starts from",
    "start": "825839",
    "end": "832560"
  },
  {
    "text": "labor 0 and goes to labor one and the the y axis is from 0 to 200 something",
    "start": "832560",
    "end": "841760"
  },
  {
    "text": "so this is this is sort of one case where you have to understand what is it that you're dealing with and then you can",
    "start": "841760",
    "end": "848480"
  },
  {
    "text": "nicely represent it as discriminated unions um",
    "start": "848480",
    "end": "854399"
  },
  {
    "text": "the other the other type i'll i'll show you as a definition of a chart",
    "start": "854399",
    "end": "859440"
  },
  {
    "text": "so this is really sort of trying to capture what is a chart",
    "start": "859440",
    "end": "864560"
  },
  {
    "text": "and here i've got basic things like a shape now a shape is a sequence of x",
    "start": "864560",
    "end": "871839"
  },
  {
    "text": "and y coordinates and that's just cor points in a shape that will get filled",
    "start": "871839",
    "end": "877519"
  },
  {
    "text": "um then there's various transformations like axes which take a shape and four",
    "start": "877519",
    "end": "884800"
  },
  {
    "text": "booleans specifying where you want to put the axes um you can add padding things like that",
    "start": "884800",
    "end": "891839"
  },
  {
    "text": "the the key thing here is layered which takes a sequence of shape and sort of puts them all together",
    "start": "891839",
    "end": "898000"
  },
  {
    "text": "automatically aligns them and that involves doing things like",
    "start": "898000",
    "end": "903120"
  },
  {
    "text": "figuring out what's the individual scales of those shapes how they compose to one scale that you",
    "start": "903120",
    "end": "909839"
  },
  {
    "text": "can then use for the whole chart um now to do a little bit of",
    "start": "909839",
    "end": "917519"
  },
  {
    "start": "912000",
    "end": "972000"
  },
  {
    "text": "tiny advertising for f sharp um i think there's there's one thing that's been really really valuable that people",
    "start": "917519",
    "end": "924240"
  },
  {
    "text": "don't often know about f sharp and that's um the the fact that f sharp has",
    "start": "924240",
    "end": "929440"
  },
  {
    "text": "units of measure so this is a mechanism where you can say i have a number um but it's not just a",
    "start": "929440",
    "end": "936880"
  },
  {
    "text": "float it's float of some unit it's float of kilograms or float of",
    "start": "936880",
    "end": "942560"
  },
  {
    "text": "years or float of members or probably end of members of parliament i don't",
    "start": "942560",
    "end": "948079"
  },
  {
    "text": "think you get half member of parliament so in my type definitions what i've what",
    "start": "948079",
    "end": "954720"
  },
  {
    "text": "i've been using throughout is annotate these these um shapes and values with whether they",
    "start": "954720",
    "end": "961279"
  },
  {
    "text": "represent the x or y axis and this is great because then in your code",
    "start": "961279",
    "end": "967040"
  },
  {
    "text": "if you mix up x and y's it will tell you this doesn't compile",
    "start": "967040",
    "end": "972320"
  },
  {
    "start": "972000",
    "end": "1035000"
  },
  {
    "text": "and it's also great because you you then end up doing some pretty tricky calculations",
    "start": "972320",
    "end": "979360"
  },
  {
    "text": "that i never learned in high school like how do you project from a from a space to another space and",
    "start": "979360",
    "end": "987600"
  },
  {
    "text": "um with with units the project function is really just something that takes a",
    "start": "987600",
    "end": "993440"
  },
  {
    "text": "scale of x unit scale of y units value of x units",
    "start": "993440",
    "end": "999279"
  },
  {
    "text": "value of y units projection from um one kind of x units to another kind",
    "start": "999279",
    "end": "1006399"
  },
  {
    "text": "of x units and produces values in the other kind of x units so typically if i've got a chart that",
    "start": "1006399",
    "end": "1013759"
  },
  {
    "text": "talks about years and i'm projecting that to pixels this will make sure that the value i",
    "start": "1013759",
    "end": "1020320"
  },
  {
    "text": "calculate actually is in pixels so this is a fairly sort of",
    "start": "1020320",
    "end": "1025520"
  },
  {
    "text": "technical f-sharp thing but it's just been hugely valuable and and useful in in defining the domain so that you",
    "start": "1025520",
    "end": "1032640"
  },
  {
    "text": "can make sense of it now i want to show you another chart um",
    "start": "1032640",
    "end": "1039678"
  },
  {
    "start": "1035000",
    "end": "1293000"
  },
  {
    "text": "and as you can see people living in the uk just can't give up on brexit",
    "start": "1039679",
    "end": "1044959"
  },
  {
    "text": "so um i've got i've got another example here i'm going to create a line chart that",
    "start": "1044959",
    "end": "1054320"
  },
  {
    "text": "goes over some exchange rates between what is this",
    "start": "1054720",
    "end": "1062799"
  },
  {
    "text": "pound and dollar and i'm just going to start by drawing",
    "start": "1063200",
    "end": "1069919"
  },
  {
    "text": "a line and rendering it and i forgot one more thing",
    "start": "1069919",
    "end": "1077840"
  },
  {
    "text": "so i don't have dates for those for those values it's just a plain list so i'm going to use",
    "start": "1077840",
    "end": "1083280"
  },
  {
    "text": "indexed to add just a number from from zero to one but um the",
    "start": "1083280",
    "end": "1090799"
  },
  {
    "text": "chart the chart you see here now is a line that represents the pound dollar exchange rate around around",
    "start": "1090799",
    "end": "1098640"
  },
  {
    "text": "the 2016 brexit vote and what i want to do now and that's the",
    "start": "1098640",
    "end": "1104000"
  },
  {
    "text": "thing that not many charting libraries let you do is put some background that distinguishes the part between the vote",
    "start": "1104000",
    "end": "1110720"
  },
  {
    "text": "and after the vote um and so i just really want to have some background there but this is already",
    "start": "1110720",
    "end": "1117919"
  },
  {
    "text": "something that um for example in in google charts you can't do",
    "start": "1117919",
    "end": "1123679"
  },
  {
    "text": "um so i'm going to make this sorry",
    "start": "1123679",
    "end": "1130400"
  },
  {
    "text": "black so i've got a black line and",
    "start": "1131039",
    "end": "1137840"
  },
  {
    "text": "if i want to put some background what i'm going to do is just use my shape",
    "start": "1137840",
    "end": "1143039"
  },
  {
    "text": "layered construct for for putting multiple things over each other and",
    "start": "1143039",
    "end": "1150320"
  },
  {
    "text": "i'm going to take my line and combine this with a shape that's just a filled shape",
    "start": "1150320",
    "end": "1158240"
  },
  {
    "text": "with some number some number of points that define the corners and the core the points i don't have to",
    "start": "1158240",
    "end": "1165600"
  },
  {
    "text": "specify in pixels i specify them in in the domain values so",
    "start": "1165600",
    "end": "1171840"
  },
  {
    "text": "my x is is zero that's just the sort of number of the days and my y the second thing i think i want",
    "start": "1171840",
    "end": "1180160"
  },
  {
    "text": "first is that 16 days um and my y's are actually the exchange rate",
    "start": "1180160",
    "end": "1187679"
  },
  {
    "text": "so um this is going to be drawing from x from exchange rate one to one",
    "start": "1187679",
    "end": "1194799"
  },
  {
    "text": "to exchange rate uh 1.8 i think that looks nice",
    "start": "1194799",
    "end": "1200559"
  },
  {
    "text": "and go back to zero day i just had to figure out how you draw a rectangle here",
    "start": "1200559",
    "end": "1207120"
  },
  {
    "text": "that's the hardest thing and if i save this then i should get a rectangle as as a",
    "start": "1207120",
    "end": "1213919"
  },
  {
    "text": "background and it's just background because i i put it first in my list",
    "start": "1213919",
    "end": "1219760"
  },
  {
    "text": "and now i can change this color to a nice color i invented before",
    "start": "1219760",
    "end": "1228880"
  },
  {
    "text": "and now i'm combining a shape and i'm combining a line",
    "start": "1229039",
    "end": "1236240"
  },
  {
    "text": "and it just works out automatically because i'm always using these domain units of",
    "start": "1236240",
    "end": "1242559"
  },
  {
    "text": "sort of number of days on the x-axis exchange rate on the y-axis so you never have to",
    "start": "1242559",
    "end": "1247919"
  },
  {
    "text": "fiddle with pixels and i'm going to cheat a little bit and",
    "start": "1247919",
    "end": "1252960"
  },
  {
    "text": "insert the shape for the second house um that's that's pretty much the same thing",
    "start": "1252960",
    "end": "1258960"
  },
  {
    "text": "really and now i've got both halves filled and the only thing i want to add now is",
    "start": "1258960",
    "end": "1265919"
  },
  {
    "text": "to add some axes to this i'm going to say again shape axes",
    "start": "1265919",
    "end": "1272559"
  },
  {
    "text": "and i'll show you that i can put them on the right as well which will make",
    "start": "1272559",
    "end": "1278559"
  },
  {
    "text": "this look quite nice so this is this is how you compose a chart and now we're already going",
    "start": "1278559",
    "end": "1285039"
  },
  {
    "text": "beyond the basics despite sort of covering something like five different primitives",
    "start": "1285039",
    "end": "1292000"
  },
  {
    "text": "so that's the that's the first thing um you can actually do a lot more using",
    "start": "1292000",
    "end": "1298559"
  },
  {
    "start": "1293000",
    "end": "1452000"
  },
  {
    "text": "using a few more primitives so the next thing i want to do is to add a title to the chart um that's",
    "start": "1298559",
    "end": "1304799"
  },
  {
    "text": "that's quite useful thing to have for charts and i didn't tell you how to do this yet and the fact is this is this is i don't",
    "start": "1304799",
    "end": "1312240"
  },
  {
    "text": "really need to have anything anything primitive for for titles um",
    "start": "1312240",
    "end": "1317520"
  },
  {
    "text": "i can create title just by saying um",
    "start": "1317520",
    "end": "1323759"
  },
  {
    "text": "just by saying shape dot text and this creates a title and here i'm i'm sort of saying",
    "start": "1325760",
    "end": "1333360"
  },
  {
    "text": "where to put this now this is where it gets interesting um",
    "start": "1333360",
    "end": "1338799"
  },
  {
    "text": "because i now have title and the body and the body is sort of obviously specified",
    "start": "1338799",
    "end": "1345919"
  },
  {
    "text": "in terms of uh numbers of days and exchange rates the title i can just",
    "start": "1345919",
    "end": "1353280"
  },
  {
    "text": "render the title to show you the title title just is is something that has sort of positions from 0 to 100 so it's sort",
    "start": "1353280",
    "end": "1360799"
  },
  {
    "text": "of made up scale and um the interesting thing i can do is",
    "start": "1360799",
    "end": "1366240"
  },
  {
    "text": "i can combine these obviously using layered i have title and body but if i do this",
    "start": "1366240",
    "end": "1373919"
  },
  {
    "text": "they're they're using fairly incompatible in incompatible scales so that the chart itself ends up",
    "start": "1373919",
    "end": "1380159"
  },
  {
    "text": "just being somewhere in a tiny corner on the side um so there is a way of fixing this",
    "start": "1380159",
    "end": "1388240"
  },
  {
    "text": "by saying um rather than sort of",
    "start": "1388240",
    "end": "1394720"
  },
  {
    "text": "using the the scales that are inherent in the shape i want to use scales that i've",
    "start": "1394720",
    "end": "1400640"
  },
  {
    "text": "explicitly provided here from 0 to 100 so now that the chart has",
    "start": "1400640",
    "end": "1405760"
  },
  {
    "text": "spun from for the full width and",
    "start": "1405760",
    "end": "1410960"
  },
  {
    "text": "if i do the same thing for the y axis now i have to think about this to get it",
    "start": "1411840",
    "end": "1418400"
  },
  {
    "text": "right so um this is going to take part take an area from 90 percent to 100",
    "start": "1418400",
    "end": "1426159"
  },
  {
    "text": "percent and the body is going to be from 0 to 90. so now i've sort of explicitly positioned",
    "start": "1426159",
    "end": "1432880"
  },
  {
    "text": "the things just by replacing their scales um so this is this is sort of more advanced",
    "start": "1432880",
    "end": "1441039"
  },
  {
    "text": "trick that lets you do various combined charts that overlay each other and maybe share",
    "start": "1441039",
    "end": "1446320"
  },
  {
    "text": "one axis but not the other but it also lets you do things like titles",
    "start": "1446320",
    "end": "1452159"
  },
  {
    "text": "and really what sort of interesting lesson here is that there",
    "start": "1452159",
    "end": "1457600"
  },
  {
    "text": "are multiple ways of composing things so i have this sort of basic layered",
    "start": "1457600",
    "end": "1463120"
  },
  {
    "text": "operation that really just says sort of put things over each other",
    "start": "1463120",
    "end": "1468559"
  },
  {
    "text": "um but i've got various operations to tweak these um like operations that that",
    "start": "1468559",
    "end": "1476000"
  },
  {
    "text": "somehow override the scale and if you override the scale the automatic layering will work differently",
    "start": "1476000",
    "end": "1483440"
  },
  {
    "text": "so there's an operation that lets you say um when when it when looking at the shape",
    "start": "1483440",
    "end": "1489840"
  },
  {
    "text": "has to infer infer what's the scale and you can override that in in various ways",
    "start": "1489840",
    "end": "1498240"
  },
  {
    "text": "so what what are the sort of key ideas about functional thinking um first of all i think it's really sort",
    "start": "1499440",
    "end": "1506240"
  },
  {
    "text": "of thinking about the domain so when you think about charts you shouldn't be thinking about pixels",
    "start": "1506240",
    "end": "1512320"
  },
  {
    "text": "because that's just a technical detail you should be thinking about the the domain primitives",
    "start": "1512320",
    "end": "1517919"
  },
  {
    "text": "like values in terms of years exchange rates and so on um you should be thinking about sort of",
    "start": "1517919",
    "end": "1525679"
  },
  {
    "text": "domain primitives like lines and axes rather than rather than",
    "start": "1525679",
    "end": "1531200"
  },
  {
    "text": "pixels and polygons you need to think about the",
    "start": "1531200",
    "end": "1536960"
  },
  {
    "text": "different ways in which things can be composed so in charts that's mainly the overlaying but again if you look at",
    "start": "1536960",
    "end": "1543440"
  },
  {
    "text": "other domains there will be different things and um in in fsharp and this is sort of",
    "start": "1543440",
    "end": "1549360"
  },
  {
    "text": "somewhat specific to this example but a useful tricks you can use units of measure to make",
    "start": "1549360",
    "end": "1554559"
  },
  {
    "text": "sure that you actually don't create don't introduce certain errors",
    "start": "1554559",
    "end": "1561360"
  },
  {
    "start": "1561000",
    "end": "1590000"
  },
  {
    "text": "there's also i think somewhat more general design patterns that you can you can",
    "start": "1563440",
    "end": "1569520"
  },
  {
    "text": "extract from from this example so i'll just talk briefly about three different design patterns that i",
    "start": "1569520",
    "end": "1576559"
  },
  {
    "text": "think are very common in in definitely in functional programming i think they would be applicable to",
    "start": "1576559",
    "end": "1582799"
  },
  {
    "text": "other areas as well and they are nicely illustrated but what by",
    "start": "1582799",
    "end": "1589600"
  },
  {
    "text": "what i was showing so um the first design pattern for for that i'm",
    "start": "1589600",
    "end": "1594880"
  },
  {
    "start": "1590000",
    "end": "1697000"
  },
  {
    "text": "going to do one more change to my example here because i've constructed this this chart",
    "start": "1594880",
    "end": "1600960"
  },
  {
    "text": "with a title but adding title to something is obviously a useful",
    "start": "1600960",
    "end": "1606240"
  },
  {
    "text": "useful operation that i might want to do more often so what i can do is i can",
    "start": "1606240",
    "end": "1612640"
  },
  {
    "text": "turn this title up title construction",
    "start": "1612640",
    "end": "1618480"
  },
  {
    "text": "into a reusable reusable function reusable primitive",
    "start": "1618480",
    "end": "1624240"
  },
  {
    "text": "where rather than just putting this text i'll i'll use arbitrary arbitrary title",
    "start": "1624240",
    "end": "1630720"
  },
  {
    "text": "and i'm going to attach that to some to some body um so that's going to be",
    "start": "1630720",
    "end": "1638840"
  },
  {
    "text": "here so i'll say title my text and then",
    "start": "1638840",
    "end": "1646000"
  },
  {
    "text": "the body for which i want to use the title",
    "start": "1646000",
    "end": "1650240"
  },
  {
    "text": "and well actually i'm going to render this and",
    "start": "1653200",
    "end": "1660240"
  },
  {
    "text": "um in the title operation i'm going to define the the elements that define the title at",
    "start": "1660240",
    "end": "1666399"
  },
  {
    "text": "the top and i'm going to use this this layering to combine that with",
    "start": "1666399",
    "end": "1671679"
  },
  {
    "text": "some with somebody that the user provides i'm going to get",
    "start": "1671679",
    "end": "1677120"
  },
  {
    "text": "some text and some body and this this function the title function is just sort of",
    "start": "1677120",
    "end": "1682559"
  },
  {
    "text": "saying whatever you gave me i'll put a title on top um now i'm going",
    "start": "1682559",
    "end": "1688240"
  },
  {
    "text": "to change this just by adding some exclamation marks to see that is actually the change a bit change so",
    "start": "1688240",
    "end": "1695440"
  },
  {
    "text": "that works um and the the really useful pattern here is that if you have",
    "start": "1695440",
    "end": "1702720"
  },
  {
    "start": "1697000",
    "end": "1848000"
  },
  {
    "text": "um basic primitives um like my layered and text and shapes",
    "start": "1702720",
    "end": "1709919"
  },
  {
    "text": "then you can kind of define different layers of obstruction and in this library this",
    "start": "1709919",
    "end": "1716480"
  },
  {
    "text": "actually happens at multiple places so at the very sort of lowest level",
    "start": "1716480",
    "end": "1722240"
  },
  {
    "text": "there is svg and x and y coordinates with pixels on top of that i've got my my library of",
    "start": "1722240",
    "end": "1729840"
  },
  {
    "text": "shapes compositions and categorical and continuous values and on top of that you could define",
    "start": "1729840",
    "end": "1736880"
  },
  {
    "text": "fairly ordinary list of charts like bars and lines",
    "start": "1736880",
    "end": "1742320"
  },
  {
    "text": "and the main point is that sort of at any point the sort of",
    "start": "1742320",
    "end": "1748880"
  },
  {
    "text": "you can you can go down one level if you need more flexibility but it's not like you're jumping all the",
    "start": "1748880",
    "end": "1755679"
  },
  {
    "text": "way from very high bar charts to very low rendering of pixels um and in in a lot of well-designed",
    "start": "1755679",
    "end": "1763600"
  },
  {
    "text": "functional code you you have these sort of several layers of obstructions where",
    "start": "1763600",
    "end": "1768640"
  },
  {
    "text": "the the next one is built from the primitives just below in a relatively simple way like we just",
    "start": "1768640",
    "end": "1775120"
  },
  {
    "text": "built the title um the other interesting thing is",
    "start": "1775120",
    "end": "1780399"
  },
  {
    "text": "there's often um some some kind of processing pipeline so in my library the way the shapes",
    "start": "1780399",
    "end": "1788320"
  },
  {
    "text": "actually get rendered is that the library takes the shapes calculates some inferred scales by sort",
    "start": "1788320",
    "end": "1794960"
  },
  {
    "text": "of producing a new type new value of scaled shape then it",
    "start": "1794960",
    "end": "1800240"
  },
  {
    "text": "calculates how is that how that's going to be projected on the screen that produces another set of data",
    "start": "1800240",
    "end": "1807200"
  },
  {
    "text": "attached to the shape and then it actually gets transformed into svg",
    "start": "1807200",
    "end": "1812559"
  },
  {
    "text": "so you've got this processing pipeline or rendering pipeline where a value goes",
    "start": "1812559",
    "end": "1820320"
  },
  {
    "text": "through a sequence of transformations and this is this is something that again happens pretty much everywhere in",
    "start": "1820320",
    "end": "1827039"
  },
  {
    "text": "in functional code um the compiler does this as well by taking your raw",
    "start": "1827039",
    "end": "1834159"
  },
  {
    "text": "text turning it into some syntax three adding types to it turning that into",
    "start": "1834159",
    "end": "1840960"
  },
  {
    "text": "into bytes of compiled code so again this is this is another very",
    "start": "1840960",
    "end": "1846080"
  },
  {
    "text": "common function pattern and for the last pattern i actually want to show you how you create an animated",
    "start": "1846080",
    "end": "1853120"
  },
  {
    "text": "chart so i'm going to take my my bar chart from the start",
    "start": "1853120",
    "end": "1860320"
  },
  {
    "text": "um that was what's this so this was my bar chart and i've got",
    "start": "1860320",
    "end": "1866159"
  },
  {
    "text": "data for 2017 elections in 2019 elections and i want to create something",
    "start": "1866159",
    "end": "1871279"
  },
  {
    "text": "very click and it will go from 17 to 18 by sort of adapting the height",
    "start": "1871279",
    "end": "1877360"
  },
  {
    "text": "so the way to do this is i'm going to use an approach that's",
    "start": "1877360",
    "end": "1883840"
  },
  {
    "text": "been popular in f sharp based on the elm architecture where i have some state now in my case",
    "start": "1883840",
    "end": "1891200"
  },
  {
    "text": "the state is going to be just sort of zero to one based on how far in the animation you are you have some",
    "start": "1891200",
    "end": "1898320"
  },
  {
    "text": "update function that takes a current state an event representing what's happened on",
    "start": "1898320",
    "end": "1904080"
  },
  {
    "text": "the screen and returns a new state so right now this is not going to be doing anything",
    "start": "1904080",
    "end": "1911120"
  },
  {
    "text": "and i'll have a render function that takes the current state and turns uh",
    "start": "1911200",
    "end": "1918720"
  },
  {
    "text": "produces that the html we want to we want to see so um here i'm going to just wrap",
    "start": "1918720",
    "end": "1925200"
  },
  {
    "text": "that as svg and i've got a built-in function",
    "start": "1925200",
    "end": "1930399"
  },
  {
    "text": "that takes the initial state uh rendering function and update",
    "start": "1930399",
    "end": "1937200"
  },
  {
    "text": "so if i do this then it renders a bar chart so that works but there's",
    "start": "1937200",
    "end": "1943200"
  },
  {
    "text": "nothing nothing really interesting here and i can construct some more some more",
    "start": "1943200",
    "end": "1949919"
  },
  {
    "text": "html around this so this is um using a tiny f-sharp",
    "start": "1949919",
    "end": "1955600"
  },
  {
    "text": "library for for constructing html where all i want to do is to create a button",
    "start": "1955600",
    "end": "1962880"
  },
  {
    "text": "with a text animate and i'll want to add an event handler so",
    "start": "1962880",
    "end": "1970080"
  },
  {
    "text": "when i click this is going to call some function that currently will not do anything",
    "start": "1970080",
    "end": "1977360"
  },
  {
    "text": "so do i get my button i got my button now i need to do the the update of the",
    "start": "1977360",
    "end": "1983200"
  },
  {
    "text": "state so what kind of events can happen in this chart there's something that happens when you",
    "start": "1983200",
    "end": "1988799"
  },
  {
    "text": "click animate so i'll have one event for anime for start and then i'll have another",
    "start": "1988799",
    "end": "1996399"
  },
  {
    "text": "event that happens sort of every time you want to take the next step of the animation",
    "start": "1996399",
    "end": "2002240"
  },
  {
    "text": "next frame i'll call this animate now in my update function if i get uh",
    "start": "2002240",
    "end": "2011120"
  },
  {
    "text": "if i get the start event then i'll just i'll just start by setting the states to",
    "start": "2011120",
    "end": "2016240"
  },
  {
    "text": "something that's a bit more than zero and if i get animate i'll just increment",
    "start": "2016240",
    "end": "2022640"
  },
  {
    "text": "this by a tiny bit and whenever the user clicks",
    "start": "2022640",
    "end": "2029360"
  },
  {
    "text": "the button this is going to trigger the um start event and the other thing i need",
    "start": "2029360",
    "end": "2035919"
  },
  {
    "text": "to do is to also trigger the animate event whenever uh if if my state is somewhere",
    "start": "2035919",
    "end": "2042080"
  },
  {
    "text": "between zero and one so if this is more than zero but it's not um",
    "start": "2042080",
    "end": "2050158"
  },
  {
    "text": "not one yet then i'm going to trigger then i'm going to",
    "start": "2050159",
    "end": "2056639"
  },
  {
    "text": "set a timer um to trigger the",
    "start": "2058480",
    "end": "2066079"
  },
  {
    "text": "animate event after say 20 milliseconds and because this is calling javascript",
    "start": "2066079",
    "end": "2071919"
  },
  {
    "text": "function it returns some null that i have to ignore um so now it will actually go through",
    "start": "2071919",
    "end": "2078079"
  },
  {
    "text": "the animation and i just need to do some more mathematics here to actually calculate",
    "start": "2078079",
    "end": "2083118"
  },
  {
    "text": "the value of the bar so that it's sort of um 2017 when state is zero 2019 when the",
    "start": "2083119",
    "end": "2091118"
  },
  {
    "text": "state is won um so how do i do this uh i'll take this",
    "start": "2091119",
    "end": "2096560"
  },
  {
    "text": "times one minus state plus this",
    "start": "2096560",
    "end": "2103680"
  },
  {
    "text": "times state and if my mathematics was right then this should actually do an",
    "start": "2103680",
    "end": "2109680"
  },
  {
    "text": "animation let's see if this works now if i i click here on animate",
    "start": "2109680",
    "end": "2118160"
  },
  {
    "text": "then it did actually animate it sort of doesn't you have to be very careful to watch it",
    "start": "2118160",
    "end": "2123200"
  },
  {
    "text": "so i'll show this again three two one animate but it did",
    "start": "2123200",
    "end": "2128480"
  },
  {
    "text": "it did animate and it doesn't look great partly because of this automatic scaling",
    "start": "2128480",
    "end": "2134480"
  },
  {
    "text": "where the the largest bar is always taking the full space so i can do one more tweak here",
    "start": "2134480",
    "end": "2142079"
  },
  {
    "text": "by setting the",
    "start": "2142079",
    "end": "2145839"
  },
  {
    "text": "the scale of this and i don't care about the y i'll just say none here um but i need to",
    "start": "2147119",
    "end": "2154880"
  },
  {
    "text": "need to override the default the default y scale so that it is",
    "start": "2154880",
    "end": "2162160"
  },
  {
    "text": "a continuous scale from 0 to let's say 400 and then if i do this",
    "start": "2162160",
    "end": "2170880"
  },
  {
    "text": "it refreshes uh i think i should have put this inside the axis otherwise it looks bad",
    "start": "2170880",
    "end": "2179040"
  },
  {
    "text": "i'm going to change this move this here",
    "start": "2179040",
    "end": "2183680"
  },
  {
    "text": "so now we'll have we'll have axis that goes all the way to 400 if i click animate then the bars will",
    "start": "2185200",
    "end": "2191839"
  },
  {
    "text": "shift so that was that was an example of how you do how you do",
    "start": "2191839",
    "end": "2199440"
  },
  {
    "text": "how you do an animated chart but um really the the point of this was to",
    "start": "2199599",
    "end": "2205680"
  },
  {
    "text": "show you this this useful general uh functional design pattern",
    "start": "2205680",
    "end": "2210800"
  },
  {
    "start": "2206000",
    "end": "2282000"
  },
  {
    "text": "of of states and events because what happens in the in the",
    "start": "2210800",
    "end": "2216079"
  },
  {
    "text": "implementation is you start with some state an event happens you transform that",
    "start": "2216079",
    "end": "2221920"
  },
  {
    "text": "state into a new state then you can render that um some more things happen you transform the state",
    "start": "2221920",
    "end": "2228640"
  },
  {
    "text": "again through an event and um you get a new state which you can render",
    "start": "2228640",
    "end": "2235119"
  },
  {
    "text": "and this happens for different events like clicking the start button or just updating the animation",
    "start": "2235119",
    "end": "2241040"
  },
  {
    "text": "and um this is something that got really popular in the user interface programming",
    "start": "2241040",
    "end": "2246400"
  },
  {
    "text": "through the the elm based architecture and then if you're using f-sharp and and fable for web programming",
    "start": "2246400",
    "end": "2252800"
  },
  {
    "text": "there's an elmish library that implements that which also now has a has a mobile",
    "start": "2252800",
    "end": "2258720"
  },
  {
    "text": "version and so on so it's popular in ui but it's also",
    "start": "2258720",
    "end": "2263920"
  },
  {
    "text": "kind of the the essence of event sourcing so um is really a pattern that i think",
    "start": "2263920",
    "end": "2270960"
  },
  {
    "text": "appears in many many different places and here i've i've used it in the context of charting to to handle the the",
    "start": "2270960",
    "end": "2277599"
  },
  {
    "text": "animations where you go through several states",
    "start": "2277599",
    "end": "2282000"
  },
  {
    "start": "2282000",
    "end": "2468000"
  },
  {
    "text": "um so that's almost almost um all i wanted to show you",
    "start": "2282839",
    "end": "2289040"
  },
  {
    "text": "there's one last bit that is interesting and um this is um",
    "start": "2289040",
    "end": "2295920"
  },
  {
    "text": "the fact that not everybody actually uses f sharp and fable for doing their web programming",
    "start": "2295920",
    "end": "2301200"
  },
  {
    "text": "so um the library that i've been talking about um it's called compost.js",
    "start": "2301200",
    "end": "2308079"
  },
  {
    "text": "and you can you can find documentation online and um this is actually a normal javascript",
    "start": "2308079",
    "end": "2315760"
  },
  {
    "text": "library so this this fact i've been hiding from you so far to keep you looking at my f-sharp code but um",
    "start": "2315760",
    "end": "2324640"
  },
  {
    "text": "the the library i've been i've been showing here um there's a tutorial on how to use it",
    "start": "2324640",
    "end": "2330320"
  },
  {
    "text": "from javascript and um it gives you",
    "start": "2330320",
    "end": "2335440"
  },
  {
    "text": "a variable or javascript very variable c and then when i create column you can",
    "start": "2335440",
    "end": "2340720"
  },
  {
    "text": "see exactly the kind of things i was showing right now with with f sharp there's a way to",
    "start": "2340720",
    "end": "2346880"
  },
  {
    "text": "overlay columns just like what i've been doing there's a way to set fill colors and so on and you can sort",
    "start": "2346880",
    "end": "2355200"
  },
  {
    "text": "of draw draw various things so really this",
    "start": "2355200",
    "end": "2360240"
  },
  {
    "text": "this whole thing even though it's written in f-sharp um it just appears and behaves like a",
    "start": "2360240",
    "end": "2367040"
  },
  {
    "text": "javascript library and the way this works is that i'm using the fable compiler to turn f-sharp to",
    "start": "2367040",
    "end": "2373680"
  },
  {
    "text": "javascript and fable integrates really nicely with",
    "start": "2373680",
    "end": "2378720"
  },
  {
    "text": "all the standard node and and javascript web development tools",
    "start": "2378720",
    "end": "2383920"
  },
  {
    "text": "so um it lets you compile it lets you compile code",
    "start": "2383920",
    "end": "2389119"
  },
  {
    "text": "into javascript package it through webpack publish that to npm and that's basically",
    "start": "2389119",
    "end": "2396400"
  },
  {
    "text": "what i'm what i'm doing here um the only interesting thing is that um to make the f sharp code",
    "start": "2396400",
    "end": "2404319"
  },
  {
    "text": "really sort of nicely usable from javascript i did add a very lightweight wrapper",
    "start": "2404319",
    "end": "2409760"
  },
  {
    "text": "around it so in the in the source code for the library there's a definition of an",
    "start": "2409760",
    "end": "2415760"
  },
  {
    "text": "of an interface which is a way of creating a plain javascript object",
    "start": "2415760",
    "end": "2420800"
  },
  {
    "text": "that has all these different all these different primitives that i've been showing you",
    "start": "2420800",
    "end": "2426160"
  },
  {
    "text": "in the f-sharp side as sort of a javascript version now most of these things don't actually",
    "start": "2426160",
    "end": "2432800"
  },
  {
    "text": "do much and they'll just sort of call the f-sharp thing the only uh difference",
    "start": "2432800",
    "end": "2440000"
  },
  {
    "text": "is is in some cases where um the the javascript",
    "start": "2440000",
    "end": "2446319"
  },
  {
    "text": "um interface is sort of gets gets easier if you just let it take",
    "start": "2446319",
    "end": "2452400"
  },
  {
    "text": "different types so in some places in the interface here i just take object and",
    "start": "2452400",
    "end": "2457839"
  },
  {
    "text": "then i use some javascript tricks to find whether it's a number or a string",
    "start": "2457839",
    "end": "2462880"
  },
  {
    "text": "and then based on that i i can do the right thing automatically so the javascript api for it ends up",
    "start": "2462880",
    "end": "2468880"
  },
  {
    "start": "2468000",
    "end": "2681000"
  },
  {
    "text": "being um actually a somewhat somewhat shorter than the",
    "start": "2468880",
    "end": "2473920"
  },
  {
    "text": "than the f-serve api um so if i if i wanted to show you this",
    "start": "2473920",
    "end": "2479520"
  },
  {
    "text": "i'll just have to switch my uh my project so that it starts",
    "start": "2479520",
    "end": "2487040"
  },
  {
    "text": "my javascript demos and if i go to the right window",
    "start": "2487040",
    "end": "2494160"
  },
  {
    "text": "and start it again now this will this will actually show you the process as well because",
    "start": "2494160",
    "end": "2500640"
  },
  {
    "text": "when i'm when i'm building the library it just starts a webpack server so that i",
    "start": "2500640",
    "end": "2506720"
  },
  {
    "text": "can do my my live debugging and live updating and um fable is the f sharp to javascript",
    "start": "2506720",
    "end": "2514400"
  },
  {
    "text": "compiler and that has a webpack loader so whenever webpack notices an fs file in",
    "start": "2514400",
    "end": "2520640"
  },
  {
    "text": "your project um which is what what i was doing here when i just had",
    "start": "2520640",
    "end": "2526160"
  },
  {
    "text": "um dot fs here before um whenever that fact notices that it will it will",
    "start": "2526160",
    "end": "2531520"
  },
  {
    "text": "trigger the f sharp compiler which will then find all the relevant f-sharp files compile them to javascript",
    "start": "2531520",
    "end": "2540880"
  },
  {
    "text": "which has just happened and i think now it's now it's all loaded",
    "start": "2540880",
    "end": "2548319"
  },
  {
    "text": "if i go to the right file that's this one this is this is a file with with various demos all",
    "start": "2548560",
    "end": "2556240"
  },
  {
    "text": "implemented in javascript ranging from",
    "start": "2556240",
    "end": "2561279"
  },
  {
    "text": "um some helpers ranging from the very very basic ones",
    "start": "2561920",
    "end": "2567599"
  },
  {
    "text": "like creating a bar chart by um mapping over all the elections data and",
    "start": "2567599",
    "end": "2575599"
  },
  {
    "text": "generating a column for each all the way all the way to what i was",
    "start": "2575599",
    "end": "2582720"
  },
  {
    "text": "just showing here um an animated chart with some with some",
    "start": "2582720",
    "end": "2588079"
  },
  {
    "text": "initial state update function that reacts to events a render function that does something",
    "start": "2588079",
    "end": "2593760"
  },
  {
    "text": "in response and a sort of entry point that says starts with this",
    "start": "2593760",
    "end": "2599839"
  },
  {
    "text": "start with this state so the very last one here is actually quite fun chart where",
    "start": "2599839",
    "end": "2609359"
  },
  {
    "text": "it shows you the uk government spending on different things for year 2015",
    "start": "2609359",
    "end": "2616000"
  },
  {
    "text": "as a percentage of gdp and the the idea is that you first have to make a guess",
    "start": "2616000",
    "end": "2622079"
  },
  {
    "text": "and once you once you make a guess then it will tell you what's the right thing so you might think that the uk",
    "start": "2622079",
    "end": "2628319"
  },
  {
    "text": "definitely doesn't spend enough on education um the um",
    "start": "2628319",
    "end": "2633599"
  },
  {
    "text": "health expenditure is great social protection i don't know i'm economic affairs i'll",
    "start": "2633599",
    "end": "2640079"
  },
  {
    "text": "just put some put some values here um but if you actually do this yourself you",
    "start": "2640079",
    "end": "2646319"
  },
  {
    "text": "have to sort of figure out what will do i think and then when you click show me how i",
    "start": "2646319",
    "end": "2651359"
  },
  {
    "text": "did you'll you'll see what the actual reality is and in this case um the the biggest single",
    "start": "2651359",
    "end": "2658480"
  },
  {
    "text": "bit of expenditure is pensions so that all goes under social protection",
    "start": "2658480",
    "end": "2665119"
  },
  {
    "text": "the the point is this is something i can actually compose from the primitives i was showing",
    "start": "2665599",
    "end": "2671520"
  },
  {
    "text": "and this chart has a few sort of extras like these these bars that indicate your",
    "start": "2671520",
    "end": "2677040"
  },
  {
    "text": "original guesses but that's really just drawing a line so there's nothing extra",
    "start": "2677040",
    "end": "2684400"
  },
  {
    "start": "2681000",
    "end": "2907000"
  },
  {
    "text": "so to wrap up um the the talk was really so i talked i",
    "start": "2684720",
    "end": "2690960"
  },
  {
    "text": "talked about designing composable um libraries for data visualization",
    "start": "2690960",
    "end": "2696400"
  },
  {
    "text": "but um data visualization is really a sort of example domain to use to illustrate more",
    "start": "2696400",
    "end": "2703119"
  },
  {
    "text": "general patterns and uh the the first question that i",
    "start": "2703119",
    "end": "2708960"
  },
  {
    "text": "think is is very fundamental is what is it that we're actually working with so this led me to this whole sort of",
    "start": "2708960",
    "end": "2716319"
  },
  {
    "text": "discussion about what is a chart what are scales and um i think this is something you",
    "start": "2716319",
    "end": "2722720"
  },
  {
    "text": "really have to you really have to do no matter no matter what kind of software you're writing um",
    "start": "2722720",
    "end": "2728400"
  },
  {
    "text": "in in functional languages very often this maps to defining primitive",
    "start": "2728400",
    "end": "2734720"
  },
  {
    "text": "uh types so doing doing sort of a domain modeling using things like",
    "start": "2734720",
    "end": "2740640"
  },
  {
    "text": "f-sharp discriminated unions which let you say a scale can be categorical or continuous",
    "start": "2740640",
    "end": "2747680"
  },
  {
    "text": "and you sort of list the different options and um it often fits on a slide so it's it's",
    "start": "2747680",
    "end": "2753599"
  },
  {
    "text": "something you can explain to other people in the team and and review that",
    "start": "2753599",
    "end": "2759200"
  },
  {
    "text": "and as a bonus i've used the units of measure in fsharp to make sure i can actually implement it with my with",
    "start": "2759200",
    "end": "2765520"
  },
  {
    "text": "my limited limited projection mathematics skills",
    "start": "2765520",
    "end": "2772400"
  },
  {
    "text": "and the other thing i did demonstrate throughout is is three valuable functional design",
    "start": "2772400",
    "end": "2778640"
  },
  {
    "text": "patterns um first one was this sort of building up of obstructions if you have",
    "start": "2778640",
    "end": "2786400"
  },
  {
    "text": "nice composable pieces you can define more high level abstractions like adding",
    "start": "2786400",
    "end": "2793440"
  },
  {
    "text": "a chart title or defining a bar chart really just by putting a few few basic things together",
    "start": "2793440",
    "end": "2801920"
  },
  {
    "text": "so you have sort of multiple layer layers with relatively sort of low friction between them um i talked",
    "start": "2801920",
    "end": "2810160"
  },
  {
    "text": "about how you go through transformations how the sort of shapes got get rendered by starting with the",
    "start": "2810160",
    "end": "2816000"
  },
  {
    "text": "shape calculating scales calculating projections turning that into svg so that sort of",
    "start": "2816000",
    "end": "2823040"
  },
  {
    "text": "sequence of transformations again really um",
    "start": "2823040",
    "end": "2828319"
  },
  {
    "text": "it's sort of you have multiple steps where there's relatively low friction between between each two",
    "start": "2828319",
    "end": "2834960"
  },
  {
    "text": "and finally when showing the animation i talked about the states and updates which is a",
    "start": "2834960",
    "end": "2840400"
  },
  {
    "text": "very useful pattern for um ui programming",
    "start": "2840400",
    "end": "2845520"
  },
  {
    "text": "but it's also the same idea that appears in event sourcing and um the the library is available",
    "start": "2845520",
    "end": "2853760"
  },
  {
    "text": "as open source project online so if you search for compost js you'll you'll find",
    "start": "2853760",
    "end": "2859359"
  },
  {
    "text": "it and you can look at how the whole thing works and i think it's a it's a nice example of",
    "start": "2859359",
    "end": "2865280"
  },
  {
    "text": "um doing quite useful thing in fsharp where you use f-serve and functional",
    "start": "2865280",
    "end": "2871760"
  },
  {
    "text": "programming for implementing something that's quite tricky and you have to do a lot of thinking about the domain",
    "start": "2871760",
    "end": "2877440"
  },
  {
    "text": "but exposing that as just a simple javascript library which anyone can use",
    "start": "2877440",
    "end": "2882720"
  },
  {
    "text": "and i think that's great so that's all i wanted to say and thanks for watching and if there are",
    "start": "2882720",
    "end": "2889839"
  },
  {
    "text": "any comments post them into the chat or i'll i'll check the slack later on as",
    "start": "2889839",
    "end": "2896640"
  },
  {
    "text": "well",
    "start": "2898839",
    "end": "2901839"
  },
  {
    "text": "you",
    "start": "2907440",
    "end": "2909520"
  }
]