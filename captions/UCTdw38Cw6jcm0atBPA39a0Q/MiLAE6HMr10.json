[
  {
    "text": "hello hello okay great that works and we are finally ready to go oh my goodness",
    "start": "2800",
    "end": "8960"
  },
  {
    "text": "there's a good number of you in here today that's great uh well I hope you have enjoyed your day so far and you",
    "start": "8960",
    "end": "14240"
  },
  {
    "text": "have had a a good lunch which has given you lots of energy to be full of Buzzy excitement for all the cool stuff that",
    "start": "14240",
    "end": "20519"
  },
  {
    "text": "we're going to do uh in this talk so uh quickly introduce myself my name is Steve and I work at Microsoft I am on",
    "start": "20519",
    "end": "28080"
  },
  {
    "text": "the ASP net team uh so do a whole bunch of stuff related to aspnet MVC mostly uh",
    "start": "28080",
    "end": "33640"
  },
  {
    "text": "but as well as that I'm really interested in what's going on in the world of JavaScript and what's new for",
    "start": "33640",
    "end": "39079"
  },
  {
    "text": "us as web developers so I'm guessing that we've basically got a room full of web developers here but no worries if",
    "start": "39079",
    "end": "44640"
  },
  {
    "text": "you're not but hands up if you write some sort of client side code today JavaScript or typescript that sort of",
    "start": "44640",
    "end": "49960"
  },
  {
    "text": "thing yeah the considerable majority of you okay so if you are like me then you",
    "start": "49960",
    "end": "55160"
  },
  {
    "text": "are probably interested in what new possibilities are emerging for us as web",
    "start": "55160",
    "end": "60199"
  },
  {
    "text": "developers and what new cool things we're going to be building into our apps over the next year or so that we",
    "start": "60199",
    "end": "65360"
  },
  {
    "text": "couldn't possibly have done before now if you want to learn about that sort of stuff one of the best resources I think",
    "start": "65360",
    "end": "72080"
  },
  {
    "text": "is available is provided by all the different browser makers so each different browser maker uh has got a",
    "start": "72080",
    "end": "78640"
  },
  {
    "text": "sort of service status or platform status web page that you can go to and they'll give you a nice big list of all",
    "start": "78640",
    "end": "84439"
  },
  {
    "text": "the things that they're working on uh and links to the specifications links to discussions and things like that this",
    "start": "84439",
    "end": "90360"
  },
  {
    "text": "one here is milla's one and that shows you all the stuff they've been doing uh it also tells you what the status of these features in other browsers are",
    "start": "90360",
    "end": "97040"
  },
  {
    "text": "that sort of thing and of course there's also one for Chrome this is chromestatus.com uh that's nice because",
    "start": "97040",
    "end": "102920"
  },
  {
    "text": "it shows you which version each of the different features is going to be shipping in and again it gives you some",
    "start": "102920",
    "end": "108200"
  },
  {
    "text": "indication of what level of consensus there is for other browser makers to ship each of those features as well and",
    "start": "108200",
    "end": "115399"
  },
  {
    "text": "finally of course we've got the Microsoft Edge one The Edge platform status page there and that shows you a",
    "start": "115399",
    "end": "121680"
  },
  {
    "text": "whole bunch of cool stuff that you're going to be able to do soon as well such as the very exciting ambient light",
    "start": "121680",
    "end": "127119"
  },
  {
    "text": "sensor API which means that your web page will be able to detect whether the user is in a dark room or a bright room",
    "start": "127119",
    "end": "132840"
  },
  {
    "text": "while they're using your page which is going to be great I have no idea what you will do with that but I'm sure you'll come up with something awesome",
    "start": "132840",
    "end": "139720"
  },
  {
    "text": "now as for where all this stuff comes from where do these ideas originate and where is the consensus actually built",
    "start": "139720",
    "end": "145920"
  },
  {
    "text": "what is the official source for all this well you can go and have a look at the w3.org page and they've got a very very",
    "start": "145920",
    "end": "152239"
  },
  {
    "text": "long list of all the standards that they're working on specifying and you can go from there to all the mailing",
    "start": "152239",
    "end": "157599"
  },
  {
    "text": "lists and you can get involved in the discussions and so on there's a lot of stuff there and it takes a long time to",
    "start": "157599",
    "end": "163800"
  },
  {
    "text": "Wade through so what I'm doing for you in this talk is I've been through 900 or something items on there and I've picked",
    "start": "163800",
    "end": "170599"
  },
  {
    "text": "out a few of the things that are particularly interesting for us to talk about things that I think are going to",
    "start": "170599",
    "end": "175920"
  },
  {
    "text": "make a noteworthy difference to the way you build your application and hopefully will be fun for you to see as well okay",
    "start": "175920",
    "end": "183360"
  },
  {
    "text": "so that's what we're going to do in this talk uh we're going to go through four par major feature areas now the first",
    "start": "183360",
    "end": "189760"
  },
  {
    "text": "two I'm going to go into quite a lot of detail on and they're quite big and well-known features so I think you probably have heard of them um although",
    "start": "189760",
    "end": "196720"
  },
  {
    "text": "no problem if you haven't um I will hopefully be able to show you some aspects of them that you have not seen before so there should be some new stuff",
    "start": "196720",
    "end": "202640"
  },
  {
    "text": "in here for everyone this the other two items three and four on their list are quite small Niche features that I had",
    "start": "202640",
    "end": "208720"
  },
  {
    "text": "personally never heard of and until a couple of months ago um probably a good number of you won't have heard of them as well but they are pretty cool and",
    "start": "208720",
    "end": "215080"
  },
  {
    "text": "hopefully they'll give you some ideas of stuff you can do as well okay so the first item on our list that I want us to",
    "start": "215080",
    "end": "221599"
  },
  {
    "text": "look about is service workers okay that's quite a big and important feature area hands up if you think you're at",
    "start": "221599",
    "end": "227680"
  },
  {
    "text": "least vaguely aware of something about the basic concept of service workers not very many we probably",
    "start": "227680",
    "end": "233920"
  },
  {
    "text": "talking 10 20% of people okay uh and how many of you who have heard of it are",
    "start": "233920",
    "end": "239319"
  },
  {
    "text": "actually it in production in some way I'm looking for any hands no okay maybe",
    "start": "239319",
    "end": "245319"
  },
  {
    "text": "nobody all right well that's reasonable because even though this concept has been around for a couple of years people",
    "start": "245319",
    "end": "250640"
  },
  {
    "text": "have been talking about this and building up to it it hasn't really been feasible to actually use in a real application until kind of nowish really",
    "start": "250640",
    "end": "258400"
  },
  {
    "text": "because browser support for that is just Landing this year in the middle of this year depending on which browser you're",
    "start": "258400",
    "end": "263440"
  },
  {
    "text": "talking about so what is the idea of a service worker well if we go right back",
    "start": "263440",
    "end": "268759"
  },
  {
    "text": "to the very beginning of of programming on the web uh a certain feature has remained constant throughout all that",
    "start": "268759",
    "end": "274360"
  },
  {
    "text": "time which is that you can only run code when your page is loaded in the browser",
    "start": "274360",
    "end": "279639"
  },
  {
    "text": "your page is the thing that delivers the JavaScript in the first place and the browser will stop you running it as soon as the user moves away but service",
    "start": "279639",
    "end": "286919"
  },
  {
    "text": "worker changes that service worker allows you to Define some JavaScript that will register in the browser and",
    "start": "286919",
    "end": "293360"
  },
  {
    "text": "then the browser can just run that code anytime it wants to whether or not the user is even on your page and that is",
    "start": "293360",
    "end": "300800"
  },
  {
    "text": "what G makes possible a whole bunch of interesting new features and the best known one of these features is the",
    "start": "300800",
    "end": "307240"
  },
  {
    "text": "ability for your application to run offline I'm going to show you some demos of that in a second but there are some",
    "start": "307240",
    "end": "312440"
  },
  {
    "text": "other good features as well for example if the user does stuff while they're online then a service worker can synchronize that back to your web server",
    "start": "312440",
    "end": "319520"
  },
  {
    "text": "as soon as the user gets a network connection later even if they're not still on your page uh you can also use",
    "start": "319520",
    "end": "324800"
  },
  {
    "text": "this to receive push notifications from your server uh so normally if you want to send a notification from your server",
    "start": "324800",
    "end": "330639"
  },
  {
    "text": "uh with something like websockets signal r or whatever it only works if the user is there on your site but a push",
    "start": "330639",
    "end": "335800"
  },
  {
    "text": "notification can be sent to your service worker whether or not the user is on the page and finally coming in the future",
    "start": "335800",
    "end": "341560"
  },
  {
    "text": "the ability to run tasks that are scheduled in the future none of the browsers have implemented that one yet but it's specified and should be coming",
    "start": "341560",
    "end": "347720"
  },
  {
    "text": "along soon so the best way to understand that is of course to see it so let's",
    "start": "347720",
    "end": "353440"
  },
  {
    "text": "switch over to a demo and I'm going to show you uh adding some cool service worker based features to an application",
    "start": "353440",
    "end": "359960"
  },
  {
    "text": "and the application that we're going to add these features to is uh this one it's kind of a news site uh it's just a",
    "start": "359960",
    "end": "366400"
  },
  {
    "text": "you can imagine this as being like a social network feed or a Twitter feed or something like that or you could think of it as being something a bit more",
    "start": "366400",
    "end": "374039"
  },
  {
    "text": "businessyoutube we don't really even have any script in this just yet I've got this file page.js uh but as you can",
    "start": "388560",
    "end": "395080"
  },
  {
    "text": "see it's not really doing anything we just got an event handler that says when the page is loaded we're going to do something but I haven't done it yet so",
    "start": "395080",
    "end": "402039"
  },
  {
    "text": "what we want to do is register a service worker in this browser and I can do that",
    "start": "402039",
    "end": "407199"
  },
  {
    "text": "using the service worker API a bit like this so I'm saying Navigator do serviceworker I would like you to",
    "start": "407199",
    "end": "413160"
  },
  {
    "text": "register this Javascript file because the service worker is a Javascript file",
    "start": "413160",
    "end": "418360"
  },
  {
    "text": "that gets registered with the browser so that is technically all we have to do the remainder of this code we don't",
    "start": "418360",
    "end": "424000"
  },
  {
    "text": "strictly need but it's quite nice just to see whether or not what we just did succeeded or failed okay I'll save that",
    "start": "424000",
    "end": "430800"
  },
  {
    "text": "and now you're probably wondering what is in this service worker. JS file well let me show you now a service worker",
    "start": "430800",
    "end": "437680"
  },
  {
    "text": "responds to events that's the only thing it can do the browser raises events when it wants to your service worker responds",
    "start": "437680",
    "end": "443759"
  },
  {
    "text": "to that and at the moment I'm only responding to this one event called install and as you can probably guess",
    "start": "443759",
    "end": "450639"
  },
  {
    "text": "the browser is going to run that when the uh service worker is installed into the browser there's a couple of other",
    "start": "450639",
    "end": "456680"
  },
  {
    "text": "things here as well you're probably wondering what is this self. import scripts well this is how you can load",
    "start": "456680",
    "end": "461879"
  },
  {
    "text": "one Javascript file into another in service workers in a normal web application you load JavaScript files",
    "start": "461879",
    "end": "467319"
  },
  {
    "text": "using script tags but of course you can't use script tags in a service worker because there are no tags there's",
    "start": "467319",
    "end": "472599"
  },
  {
    "text": "no document so obviously you need a different way of loading scripts and that's what this thing is doing up here",
    "start": "472599",
    "end": "477720"
  },
  {
    "text": "and then finally what is this skill waiting thing well with a surface worker you get control over how and when your",
    "start": "477720",
    "end": "484400"
  },
  {
    "text": "service worker is installed there are various different ways you can do that and this skip waiting is a way of saying",
    "start": "484400",
    "end": "490240"
  },
  {
    "text": "I just want to install it right now please I am done with waiting I don't care what else you're doing just install this for me please so that's what that's",
    "start": "490240",
    "end": "496319"
  },
  {
    "text": "going to do okay so if I go back into my browser now and I open this console then",
    "start": "496319",
    "end": "501560"
  },
  {
    "text": "let's clear that out and hopefully when I run we will see it runs the code that I just wrote and it will register and",
    "start": "501560",
    "end": "507680"
  },
  {
    "text": "install that service worker okay so it says service worker registered that was the actual page running and then the",
    "start": "507680",
    "end": "513839"
  },
  {
    "text": "browser fetched the service worker Javascript file and it registered it and it in run the install event on it now it",
    "start": "513839",
    "end": "520919"
  },
  {
    "text": "only runs the install event once so if I hit reload you'll see the page can",
    "start": "520919",
    "end": "526000"
  },
  {
    "text": "re-register it as many times as it likes that's fine nothing's going to happen uh the browser will fetch the service worker code in the background and it",
    "start": "526000",
    "end": "532399"
  },
  {
    "text": "will say hang on that's the same thing that I've already installed so I'm not going to bother installing that again it will only install it again if you",
    "start": "532399",
    "end": "538800"
  },
  {
    "text": "actually change the code so let's just make a small change to the code there and I'll come back and I'll hit reload",
    "start": "538800",
    "end": "544079"
  },
  {
    "text": "and then hopefully we will see it has now run the updated uh code and it's",
    "start": "544079",
    "end": "549279"
  },
  {
    "text": "installed an updated version of my service worker okay great but what can we really do with a service worker what",
    "start": "549279",
    "end": "555720"
  },
  {
    "text": "can we actually accomplish here well like I said you can only respond to events and there are various different",
    "start": "555720",
    "end": "561959"
  },
  {
    "text": "events that you can respond to and a good one to get started with is this event called Fetch and the browser will",
    "start": "561959",
    "end": "568720"
  },
  {
    "text": "raise that event every time it wants to fetch some content from your domain so every HTTP request it's going to make",
    "start": "568720",
    "end": "575440"
  },
  {
    "text": "it's now going to call this fetch method and I can write whatever code in here I want to programmatically modify that",
    "start": "575440",
    "end": "581959"
  },
  {
    "text": "request or modify the response okay so I'll save that come back to the browser",
    "start": "581959",
    "end": "587120"
  },
  {
    "text": "and I'll hit reload and then hopefully it will install my updated service worker and then next time I hit reload",
    "start": "587120",
    "end": "592920"
  },
  {
    "text": "I'll get loads of log messages because every time it's making an HTTP request now it's passing that through my",
    "start": "592920",
    "end": "598519"
  },
  {
    "text": "JavaScript code and if you notice up here this request here is for the initial page uh that is",
    "start": "598519",
    "end": "605079"
  },
  {
    "text": "before any of my page JavaScript is loaded so this is a new thing it's never been possible to observe the initial",
    "start": "605079",
    "end": "610560"
  },
  {
    "text": "page load in JavaScript before because obviously your JavaScript wasn't there until the page had at least started",
    "start": "610560",
    "end": "615880"
  },
  {
    "text": "loading but with a service worker you can you can intercept and modify every request to your domain apart from",
    "start": "615880",
    "end": "622200"
  },
  {
    "text": "requests for service workers because that would be a weird sort of infinite Loop thing so uh you can't intercept requests for your service workers but",
    "start": "622200",
    "end": "628279"
  },
  {
    "text": "for anything else you you can okay now that we're able to intercept our requests we can do some stuff to modify",
    "start": "628279",
    "end": "634279"
  },
  {
    "text": "them uh I'll give you a quick example uh let's say that I want to listen for all requests for PNG files and whenever any",
    "start": "634279",
    "end": "641720"
  },
  {
    "text": "request for a PNG file is about to be made I'm not going to um do what it normally happens instead I'm going to",
    "start": "641720",
    "end": "647120"
  },
  {
    "text": "fetch a different file and serve that to the browser instead so I'll go back and hit reload and I'll wait for my uh",
    "start": "647120",
    "end": "654000"
  },
  {
    "text": "updated service worker to install and now if I hit reload all of my images will get replaced by a different image",
    "start": "654000",
    "end": "661600"
  },
  {
    "text": "and that is obviously very useful as a way of pranking your co-workers but that is not the only feature of service",
    "start": "661600",
    "end": "668440"
  },
  {
    "text": "workers there are some other cool things that you can do as well and like I said the most well-known one of these is the",
    "start": "668440",
    "end": "674279"
  },
  {
    "text": "ability to run your application offline let me give you a quick example of how that might work so I'm going to remove",
    "start": "674279",
    "end": "680399"
  },
  {
    "text": "this silly code that I had before and I'm going to take you through three different ways that we can do offline support with service workers uh with",
    "start": "680399",
    "end": "688320"
  },
  {
    "text": "different functionality and the first one and the simplest one is going to be assuming that we can pre-cache",
    "start": "688320",
    "end": "694720"
  },
  {
    "text": "everything okay so what I'm doing now I'm changing the install event here and I'm defining a hard-coded list of all",
    "start": "694720",
    "end": "701360"
  },
  {
    "text": "the different resources on my site that I want to make available offline and I'm going to use a new API called cachers",
    "start": "701360",
    "end": "708639"
  },
  {
    "text": "caches are available to your service workers and they allow you to programmatically Define caches of HTTP",
    "start": "708639",
    "end": "715000"
  },
  {
    "text": "requests and responses that you can then use later so I'm saying okay I'm going to delete any cache that already exists",
    "start": "715000",
    "end": "721200"
  },
  {
    "text": "with this particular name and then I'm going to create a new cache with that name so it's nice new and empty and then",
    "start": "721200",
    "end": "728079"
  },
  {
    "text": "I'm going to wait for the browser to fetch all of those resources in my hardcoded list and add all of the",
    "start": "728079",
    "end": "733800"
  },
  {
    "text": "responses to the cache and when we've got all that we can stop waiting to install and we can finish installing the",
    "start": "733800",
    "end": "739199"
  },
  {
    "text": "service worker right and then when the browser tries to make a request to an",
    "start": "739199",
    "end": "744399"
  },
  {
    "text": "item on our site I can just assume that we've already got it cached so for every single request we try to make we'll",
    "start": "744399",
    "end": "750959"
  },
  {
    "text": "match it against our caches and we'll just serve the cached content back to the browser let's see if this works then",
    "start": "750959",
    "end": "757480"
  },
  {
    "text": "I'm going to come over and reload to update the service worker and then I'm going to reload again and this time",
    "start": "757480",
    "end": "762959"
  },
  {
    "text": "everything should be served out of cache so I'll hit reload and you will see that uh the page has come up it's working as",
    "start": "762959",
    "end": "769600"
  },
  {
    "text": "normal but if we look over here on this network tab you will see that all the content has been served from the service",
    "start": "769600",
    "end": "776720"
  },
  {
    "text": "worker rather than from the internet which means that we don't even need the",
    "start": "776720",
    "end": "782040"
  },
  {
    "text": "Internet anymore we can be completely offline if we want to and to prove that for you I'm going to Mark myself as",
    "start": "782040",
    "end": "789079"
  },
  {
    "text": "offline this will simulate having no network connection from the computer at all uh just to show you that that really",
    "start": "789079",
    "end": "794880"
  },
  {
    "text": "does do that if I try and go to example.com you'll see I cannot get there and it says there is no internet",
    "start": "794880",
    "end": "800040"
  },
  {
    "text": "connection okay so you wouldn't be able to get you wouldn't expect you can go to any websites right now but if I go back",
    "start": "800040",
    "end": "805600"
  },
  {
    "text": "to that page I had before you'll see it pops up just as if I had a perfectly good internet connection and it's",
    "start": "805600",
    "end": "811279"
  },
  {
    "text": "serving all that stuff programmatically out of the cache which is great but this is not a complete",
    "start": "811279",
    "end": "818320"
  },
  {
    "text": "solution there are still some issues that we might want to solve for example you might not want to hardcode a list of",
    "start": "818320",
    "end": "824120"
  },
  {
    "text": "every single resource that you want to make available offline you might want to do that dynamically in some way and",
    "start": "824120",
    "end": "829720"
  },
  {
    "text": "another issue is what happens if the underlying content actually changes now well let's see I'm going to add a new",
    "start": "829720",
    "end": "836480"
  },
  {
    "text": "news item to this list now so let's say we'll have a new item here and we'll say it's a uh class CNBC and we'll say",
    "start": "836480",
    "end": "845120"
  },
  {
    "text": "breaking something important happened read",
    "start": "845120",
    "end": "851079"
  },
  {
    "text": "it now you won't believe what happened next okay all",
    "start": "851079",
    "end": "859320"
  },
  {
    "text": "right so I've got that uh wonderful clickbaity item in my list there and my user wants to get the latest news so",
    "start": "859320",
    "end": "865680"
  },
  {
    "text": "they come along and they hit reload oh they don't say any new content oh that's because they're offline so that's quite reasonable I'll go online now and I'll",
    "start": "865680",
    "end": "872480"
  },
  {
    "text": "hit reload but I still don't see any updated content why is that because my",
    "start": "872480",
    "end": "877800"
  },
  {
    "text": "application is hardcoded to just serve everything from the cache so it's never even going to check whether there's any",
    "start": "877800",
    "end": "883399"
  },
  {
    "text": "updated content that's not great so how about we make our logic a little bit more sophisticated next approach that we",
    "start": "883399",
    "end": "890480"
  },
  {
    "text": "could use offline approach to uh we could if we wanted to try making a request to the network but if that fails",
    "start": "890480",
    "end": "897839"
  },
  {
    "text": "then we'll serve content from the cash so I'm saying we're going to try the actual network if we get a good result",
    "start": "897839",
    "end": "903720"
  },
  {
    "text": "we'll return it if we don't then we're going to go back to that serving from cash logic let's try that so on my first",
    "start": "903720",
    "end": "910199"
  },
  {
    "text": "reload it's going to update the service worker in the background and then when I reload a second time we should see we",
    "start": "910199",
    "end": "915759"
  },
  {
    "text": "get the new breaking news story showing up there which is great uh but if my user is offline and I hit reload then",
    "start": "915759",
    "end": "922399"
  },
  {
    "text": "the application still works because it's now serving the cach content so that's an improvement we're now getting new",
    "start": "922399",
    "end": "927720"
  },
  {
    "text": "data when possible and we're falling back on the cache when we have to that's good but there are still scenarios where",
    "start": "927720",
    "end": "934440"
  },
  {
    "text": "you will get a very poor end user experience for example what happens if the user does have a network connection",
    "start": "934440",
    "end": "940959"
  },
  {
    "text": "but it's just unbelievably slow or it's some sort of captive portal that's never even going to return the content anyway",
    "start": "940959",
    "end": "946720"
  },
  {
    "text": "what's going to happen then well we can try and simulate that a little bit I'll go online but I'm going to simulate a",
    "start": "946720",
    "end": "952480"
  },
  {
    "text": "very very slow network connection some plain Wi-Fi there and uh I'm going to",
    "start": "952480",
    "end": "957720"
  },
  {
    "text": "have to what will I do okay let's start by going to a blank page and then I'm going to see how long",
    "start": "957720",
    "end": "964040"
  },
  {
    "text": "it takes to load so it's loading loading still waiting and the images are starting to appear now you can see we're",
    "start": "964040",
    "end": "970480"
  },
  {
    "text": "still waiting though and it's really slow and finally it's loaded okay good",
    "start": "970480",
    "end": "975680"
  },
  {
    "text": "so it did work but it's a really poor user experience and obviously their network connection might be even slower than that it might take half an hour to",
    "start": "975680",
    "end": "981920"
  },
  {
    "text": "download or something crazy and the user is just going to click back and obviously not bother to visit your site what can we do about that then well we",
    "start": "981920",
    "end": "988959"
  },
  {
    "text": "can make our logic a little bit more sophisticated still and the point of me showing you this is to show you the",
    "start": "988959",
    "end": "994279"
  },
  {
    "text": "power of service workers to programmatically control what your application is doing with the network you can Implement whatever logic you",
    "start": "994279",
    "end": "1000839"
  },
  {
    "text": "think makes sense to your site such as this here I'm saying okay we'll use the",
    "start": "1000839",
    "end": "1006519"
  },
  {
    "text": "network if it's fast but if the network turns out to be slow then we're going to serve cach content so I'm saying here",
    "start": "1006519",
    "end": "1013440"
  },
  {
    "text": "all right we're going to try to make a regular request to the network and if that works then we're going to return that Network response if it was fast",
    "start": "1013440",
    "end": "1019920"
  },
  {
    "text": "enough but we're going to time that out after 200 milliseconds because people can't be bothered to wait any longer",
    "start": "1019920",
    "end": "1025000"
  },
  {
    "text": "than 1/5 of a second and if it it's going to take longer than that then we'll just fall back on serving the",
    "start": "1025000",
    "end": "1030438"
  },
  {
    "text": "cached content but a little cleverly in the background we'll allow these slow",
    "start": "1030439",
    "end": "1036038"
  },
  {
    "text": "requests to continue running and when the slow request eventually does complete we'll programmatically update",
    "start": "1036039",
    "end": "1042038"
  },
  {
    "text": "our cach content with whatever we got back so now uh our application should be a little bit faster so let's just reload",
    "start": "1042039",
    "end": "1049320"
  },
  {
    "text": "that that's going to take a while but that's going to update the service worker on the first request and now I",
    "start": "1049320",
    "end": "1055080"
  },
  {
    "text": "want to change my new story I'm going to go back and change this let's have",
    "start": "1055080",
    "end": "1060720"
  },
  {
    "text": "breaking two something else happened",
    "start": "1060720",
    "end": "1065880"
  },
  {
    "text": "okay that's important news that our user wants to see when they reload are they going to see it well no they're not",
    "start": "1065880",
    "end": "1072480"
  },
  {
    "text": "going to see it because their network is too slow so I'll hit reload and we're just going to see the previous cached content and that's going to come up",
    "start": "1072480",
    "end": "1078880"
  },
  {
    "text": "after 200 milliseconds reliably no matter how slow the network is but in the background we're still fetching the",
    "start": "1078880",
    "end": "1085280"
  },
  {
    "text": "updated data and storing that in the cache so the next time the user hits reload then they should see breaking two",
    "start": "1085280",
    "end": "1091559"
  },
  {
    "text": "and they get their new uh new story there okay so I am not trying to say",
    "start": "1091559",
    "end": "1097120"
  },
  {
    "text": "that this is the one true correct way to do offline access I'm just saying that you get to control it you get to make",
    "start": "1097120",
    "end": "1102559"
  },
  {
    "text": "the decisions about how to prioritize between going to the network how long you're willing to wait whether you're",
    "start": "1102559",
    "end": "1107799"
  },
  {
    "text": "serving cash content whether you can Define all that cache content in advance whether you have to do it dynamically",
    "start": "1107799",
    "end": "1112960"
  },
  {
    "text": "it's all up to you because the service worker apis give you that level of control and there are other features as",
    "start": "1112960",
    "end": "1119960"
  },
  {
    "text": "well that this gives rise to uh like I mentioned before you can synchronize things that the user does offline uh",
    "start": "1119960",
    "end": "1125520"
  },
  {
    "text": "that is when they try to make an HTTP request to your server uh that can't complete because the network is not there you can say actually let's just",
    "start": "1125520",
    "end": "1131840"
  },
  {
    "text": "store that one for later and then when the network connection comes back up then you can get a notification even if",
    "start": "1131840",
    "end": "1137280"
  },
  {
    "text": "the user's moved on to a different website and then you can do what you want to take that data that they had before and find some way of synchronize",
    "start": "1137280",
    "end": "1143640"
  },
  {
    "text": "it back to your server again you I I also mentioned you can take push requests from your server and maybe you",
    "start": "1143640",
    "end": "1148840"
  },
  {
    "text": "can do schedule tasks in the future okay now as for actual browser support as of",
    "start": "1148840",
    "end": "1153919"
  },
  {
    "text": "this month uh it's good news in Chrome and Firefox because they've already got this stuff shipped it's very close to",
    "start": "1153919",
    "end": "1159760"
  },
  {
    "text": "being shipped in Edge as well it is actually implemented it's in there it's just behind a flag that the user has to",
    "start": "1159760",
    "end": "1165240"
  },
  {
    "text": "turn on at the moment so hopefully that will be on by default pretty soon uh webkit is or Safari let's say is not",
    "start": "1165240",
    "end": "1171559"
  },
  {
    "text": "quite so clear what they're doing with this somebody on a mailing list posted yeah we should do it but that's the only",
    "start": "1171559",
    "end": "1177799"
  },
  {
    "text": "public statement that we've had and that's doesn't really count as a public statement so we don't really know what they're doing but you know apparently",
    "start": "1177799",
    "end": "1184320"
  },
  {
    "text": "they know that they should do it and hopefully they will do that okay right",
    "start": "1184320",
    "end": "1189679"
  },
  {
    "text": "then next major feature area that I want to do some uh in-depth demos about it's another feature that I'm sure you've",
    "start": "1189679",
    "end": "1195840"
  },
  {
    "text": "heard of but I'm pretty sure you won't have seen some of the stuff uh that I'll be able to show you just now and that",
    "start": "1195840",
    "end": "1200960"
  },
  {
    "text": "feature is web assembly I'm sure you've heard of it so I won't bother asking but for anybody who's not quite sure what",
    "start": "1200960",
    "end": "1207159"
  },
  {
    "text": "that is it means a couple of different things uh one thing it say in a sense it's a completely new way of running",
    "start": "1207159",
    "end": "1213159"
  },
  {
    "text": "code on the web it's a new sort of application runtime that's available in the browser it's actually JavaScript but",
    "start": "1213159",
    "end": "1219400"
  },
  {
    "text": "it's a specific uh subset of normal JavaScript uh that can be optimized to",
    "start": "1219400",
    "end": "1224520"
  },
  {
    "text": "run extremely quickly the browser can verify that it's safe extremely quickly and there's also a new binary format for",
    "start": "1224520",
    "end": "1230960"
  },
  {
    "text": "delivering that kind of code to the browser and that format is called Web assembly uh it's it's a lowlevel binary",
    "start": "1230960",
    "end": "1237400"
  },
  {
    "text": "B code format that you're not really meant to read yourself uh you're not really meant to write it yourself either",
    "start": "1237400",
    "end": "1243200"
  },
  {
    "text": "the idea is that you can compile to that from some other language and again the",
    "start": "1243200",
    "end": "1249000"
  },
  {
    "text": "best way to understand it is to actually see it so let's have it go at compiling a bit of code to web assembly and then I",
    "start": "1249000",
    "end": "1256559"
  },
  {
    "text": "want to show you the actual web assembly code code itself that's generated the actual bite code or at least a human",
    "start": "1256559",
    "end": "1261960"
  },
  {
    "text": "readable version of it uh because I hadn't even personally seen what web assembly source code looks like until a",
    "start": "1261960",
    "end": "1267880"
  },
  {
    "text": "couple of months ago uh and I think it's really useful to understand what it's doing if you can really actually see what the code is so we're going to start",
    "start": "1267880",
    "end": "1274919"
  },
  {
    "text": "with a bit of C source code here let's just refresh that okay so the easiest",
    "start": "1274919",
    "end": "1281279"
  },
  {
    "text": "thing that you can compile to web assembly today is C or C++ and here I've implemented a very basic C program that",
    "start": "1281279",
    "end": "1287200"
  },
  {
    "text": "prints out the Fibonacci sequence and the mathematicians among you will know that Fibonacci sequence is just a",
    "start": "1287200",
    "end": "1293279"
  },
  {
    "text": "series of numbers that's defined mathematically it doesn't really matter what that sequence is I'm just using it",
    "start": "1293279",
    "end": "1298720"
  },
  {
    "text": "using it as an example of an arbitrary algorithm for this talk now this bit of code down here you can ignore uh that's",
    "start": "1298720",
    "end": "1304720"
  },
  {
    "text": "just responsible for reading an argument from the command line and calling this other function and that is the algorithm that actually prints out the Fibonacci",
    "start": "1304720",
    "end": "1311919"
  },
  {
    "text": "sequence now the normal way of running C code would be to compile it to a native executable which you could do with",
    "start": "1311919",
    "end": "1318679"
  },
  {
    "text": "something like the g c compiler and then we could run uh Fibonacci and it'll say",
    "start": "1318679",
    "end": "1323919"
  },
  {
    "text": "okay how many terms do you want 10 terms and it's going to print out our 10 terms of Fibonacci brilliant but can we",
    "start": "1323919",
    "end": "1330279"
  },
  {
    "text": "compile that to web assembly of course let's see how to do that to compile C to",
    "start": "1330279",
    "end": "1335480"
  },
  {
    "text": "web assembly we can use the m scripton c compiler uh which takes pretty much the same set of parameters as GCC except it",
    "start": "1335480",
    "end": "1343720"
  },
  {
    "text": "can produce uh JavaScript or web assembly so I'm taking my Fibonacci .c file here here I'm saying I would like",
    "start": "1343720",
    "end": "1349960"
  },
  {
    "text": "you to give me some web assembly please and this is all going to be wrapped in a file called Fibonacci DJs so if I run",
    "start": "1349960",
    "end": "1356360"
  },
  {
    "text": "that now it should actually compile that and if I look at the files that are on disk it has just created those two files",
    "start": "1356360",
    "end": "1363159"
  },
  {
    "text": "those two files are uh the actual web assembly binary file there that contains",
    "start": "1363159",
    "end": "1368880"
  },
  {
    "text": "the actual application code uh and then we've got this wrapper file JavaScript stuff there and that deals with actually",
    "start": "1368880",
    "end": "1375320"
  },
  {
    "text": "being able to run web assembly and do the interrupt with it from the browser's normal JavaScript apis and you might",
    "start": "1375320",
    "end": "1381799"
  },
  {
    "text": "think 48 kilobytes just for that six lines of code or whatever that's kind of a lot isn't it well yeah it would be",
    "start": "1381799",
    "end": "1389080"
  },
  {
    "text": "except that that 48 kilobytes also includes the entire cun time needed for all the stuff you do with regular C",
    "start": "1389080",
    "end": "1394960"
  },
  {
    "text": "programs and it's memory management and all that stuff so there's a lot in there actually not just the few lines of code",
    "start": "1394960",
    "end": "1400559"
  },
  {
    "text": "that we wrote now to actually run that we need to launch it from a web page and",
    "start": "1400559",
    "end": "1405640"
  },
  {
    "text": "here's a web page uh it doesn't look much like one but it is and it's got a script tag in it that's going to be able",
    "start": "1405640",
    "end": "1411000"
  },
  {
    "text": "to load this Fibonacci JS file and then I'm also predefining a bit of config",
    "start": "1411000",
    "end": "1417440"
  },
  {
    "text": "that's similar to passing arguments on the command line so if we actually run this now in our browser then hopefully",
    "start": "1417440",
    "end": "1424480"
  },
  {
    "text": "we will see our C code has run and if we look in the console we'll see we've actually got the uh Fibonacci Sequence",
    "start": "1424480",
    "end": "1431320"
  },
  {
    "text": "printed out okay that's good but how does it actually work what does this web assembly code look like inside well we",
    "start": "1431320",
    "end": "1438799"
  },
  {
    "text": "can't really read the wasm file direct uh my screen's gone off but yours is okay good okay uh we can't read the",
    "start": "1438799",
    "end": "1446720"
  },
  {
    "text": "westom file directly because it's a binary format but we can get a human readable version of it if we want to or",
    "start": "1446720",
    "end": "1453320"
  },
  {
    "text": "at least kind of human readable depending on what kind of human you are but hopefully you're the right kind so",
    "start": "1453320",
    "end": "1458720"
  },
  {
    "text": "we will run this now and then if we have a look we'll see we've created some new files in fact I'll show you over here",
    "start": "1458720",
    "end": "1465559"
  },
  {
    "text": "okay so we've now got a source map file and a web assembly text file was okay uh",
    "start": "1465559",
    "end": "1471799"
  },
  {
    "text": "I'll look at that in a second but the fact that we've got a source map now means if I reload you'll see we've got the actual C source code available in",
    "start": "1471799",
    "end": "1478399"
  },
  {
    "text": "our browser debug tools and theoretically you can even set break points on that and step through it in",
    "start": "1478399",
    "end": "1484720"
  },
  {
    "text": "practice you cannot because it's horribly broken in all the browsers right now but I'm sure they will fix that uh you can see where they're going",
    "start": "1484720",
    "end": "1491640"
  },
  {
    "text": "with this anyway the point of this is I want to show you this web assembly text file now like I said it's a pretty big",
    "start": "1491640",
    "end": "1497480"
  },
  {
    "text": "file that's got loads of see runtime stuff in it um so it's sort of massive and you obviously are not going to just",
    "start": "1497480",
    "end": "1502840"
  },
  {
    "text": "immediately go yeah I know what that's doing but we can more or less understand it if we do the following so if I go and",
    "start": "1502840",
    "end": "1510039"
  },
  {
    "text": "say I really want to know what my print Fibonacci function looks like in web assembly so I'm going to copy that name",
    "start": "1510039",
    "end": "1516039"
  },
  {
    "text": "and then I'm going to search for it and we'll see here's print Fibonacci in web",
    "start": "1516039",
    "end": "1522000"
  },
  {
    "text": "assembly and it's got loads of setup stuff and just loads and loads and loads of hard to understand code but it does",
    "start": "1522000",
    "end": "1527960"
  },
  {
    "text": "have line numbers so we can see that these two statements here correspond to line five in our C source code what is",
    "start": "1527960",
    "end": "1535320"
  },
  {
    "text": "line five well it's this one I'm declaring two locals and the first one has the value zero and the second one",
    "start": "1535320",
    "end": "1541039"
  },
  {
    "text": "has the value one and if we look here we'll see it declares two locals and the first one has value zero and the second",
    "start": "1541039",
    "end": "1547520"
  },
  {
    "text": "one has value one so it does pretty much make sense now it is hard to read but if",
    "start": "1547520",
    "end": "1553039"
  },
  {
    "text": "you look through it you'll see that it's a stack based virtual machine uh with",
    "start": "1553039",
    "end": "1558320"
  },
  {
    "text": "typed entries on the stack so in some ways it's conceptually quite similar to the net runtime it does make sense more",
    "start": "1558320",
    "end": "1565039"
  },
  {
    "text": "or less uh we can see for example let's",
    "start": "1565039",
    "end": "1570080"
  },
  {
    "text": "see we can see here this is where we're actually doing an addition so we're getting two locals here and we're using",
    "start": "1570080",
    "end": "1576120"
  },
  {
    "text": "an integer addition on them and that's from line 11 if we look at line 11 you'll see indeed we're doing an",
    "start": "1576120",
    "end": "1581480"
  },
  {
    "text": "addition right there so yeah it it does seem more or less plausible and this is what the browser is actually running",
    "start": "1581480",
    "end": "1586720"
  },
  {
    "text": "when it runs web assembly or although it normally runs it from a compact binary representation not from text okay good",
    "start": "1586720",
    "end": "1594720"
  },
  {
    "text": "all right then so uh that shows that we can compile some C or C++ source code to",
    "start": "1594720",
    "end": "1600200"
  },
  {
    "text": "web assembly and you'll be pleased to know that there's some work going on to make other language compiled to web",
    "start": "1600200",
    "end": "1605480"
  },
  {
    "text": "assembly as well uh for example rust uh go Swift various other things can be compiled to web assembly and if you",
    "start": "1605480",
    "end": "1612799"
  },
  {
    "text": "think about it theoretically at some point in the future it might even be possible to do something awesome like",
    "start": "1612799",
    "end": "1618279"
  },
  {
    "text": "compile a net runtime to web assembly and if we could do that then we could even load and Run net code directly in",
    "start": "1618279",
    "end": "1624520"
  },
  {
    "text": "the browser on web assembly which would be amazing but it sounds a bit too good to be true does it or should we actually",
    "start": "1624520",
    "end": "1631960"
  },
  {
    "text": "try and do that shall we see if we can make a net runtime compiled to web assembly right now and actually do a bit",
    "start": "1631960",
    "end": "1638000"
  },
  {
    "text": "of a world first of getting net core running inside our web browser okay so I'm going to change",
    "start": "1638000",
    "end": "1645039"
  },
  {
    "text": "directory here and I want to show you something first so I'm I'm going to show you this directory that I've got here",
    "start": "1645039",
    "end": "1651320"
  },
  {
    "text": "and what is inside there well I've got a lot of C source code a lot of it and",
    "start": "1651320",
    "end": "1656880"
  },
  {
    "text": "what that is is a net runtime now it's not the net runtime it's not the regular full. NET Framework it is not the fullet",
    "start": "1656880",
    "end": "1664320"
  },
  {
    "text": "core thing it is a separate net runtime a third party one which is smaller and",
    "start": "1664320",
    "end": "1669760"
  },
  {
    "text": "it's designed for portability it is not designed for compiling to web assembly since it predates web assembly by",
    "start": "1669760",
    "end": "1675799"
  },
  {
    "text": "several years but it only took a few small tweaks to get it to actually build through the en scripton tool chain so if",
    "start": "1675799",
    "end": "1683600"
  },
  {
    "text": "we do that the result of doing so is contents of this directory we have dna.",
    "start": "1683600",
    "end": "1689120"
  },
  {
    "text": "Js uh and dna. wasm so what's DNA DNA is net anywhere that's the name of this net",
    "start": "1689120",
    "end": "1695559"
  },
  {
    "text": "runtime okay now it's a bit bigger than what we had before these two files together are 350 kilobytes more or less",
    "start": "1695559",
    "end": "1702559"
  },
  {
    "text": "and you might think well that's quite of a big thing to put in your web page isn't it but this is before any sort of minification or gzip compression so by",
    "start": "1702559",
    "end": "1709559"
  },
  {
    "text": "the time you're serving that for real it should be well under 100 kilobytes okay but does it actually work let's see",
    "start": "1709559",
    "end": "1715919"
  },
  {
    "text": "first I'm going to have to run this in a browser uh so I'm going to go over to this other page over here and you'll see",
    "start": "1715919",
    "end": "1722159"
  },
  {
    "text": "that again I'm using a script tag to try and actually load dna. JS okay let's uh",
    "start": "1722159",
    "end": "1728559"
  },
  {
    "text": "set that as startup project uh and actually I'm going to run it from the command line so let's do HTTP",
    "start": "1728559",
    "end": "1734480"
  },
  {
    "text": "server okay and then I'm going to go to this Local Host Local Host P 88 let's",
    "start": "1734480",
    "end": "1741519"
  },
  {
    "text": "run that and we should see that indeed it is in fact running the DNA runtime",
    "start": "1741519",
    "end": "1747159"
  },
  {
    "text": "there and it's saying okay here's your usage instructions please tell me what net executable you would like to run",
    "start": "1747159",
    "end": "1752559"
  },
  {
    "text": "okay so I'm going to need a net executable here and that's cool because I have got one I've got the famous",
    "start": "1752559",
    "end": "1757640"
  },
  {
    "text": "console app one that everybody knows and loves and inside there we've got uh a very simple bit of hello world code and",
    "start": "1757640",
    "end": "1765200"
  },
  {
    "text": "I'm going to need to compile that so I'm going to do build and after that has built which will happen soon I'm sure",
    "start": "1765200",
    "end": "1771880"
  },
  {
    "text": "there we go then we are going to have a file on disk and if I go into uh Bin",
    "start": "1771880",
    "end": "1777320"
  },
  {
    "text": "debug netcore app1 one then you'll see that we've got console app 1.dll that we have just compiled and that's a a five",
    "start": "1777320",
    "end": "1784080"
  },
  {
    "text": "kilobyte package of net compiled code right now I want to load that into DNA",
    "start": "1784080",
    "end": "1790840"
  },
  {
    "text": "so I'm going to go over here and I'm going to change these arguments I'm going to say I would like to uh load and",
    "start": "1790840",
    "end": "1796720"
  },
  {
    "text": "run console app one . dll okay now that file needs to be loaded over the web so",
    "start": "1796720",
    "end": "1802799"
  },
  {
    "text": "we need to point it to a particular location and I'm saying I want you to load that file from this location here",
    "start": "1802799",
    "end": "1807880"
  },
  {
    "text": "and also by the way you're going to need to load this Corb dll which contains implementations of low level.net things",
    "start": "1807880",
    "end": "1813760"
  },
  {
    "text": "like string and list and stuff like that okay does it work come back to the browser hit reload one more time and",
    "start": "1813760",
    "end": "1819960"
  },
  {
    "text": "indeed we've got hello world so we've got our actual C code running in the browser there and just to show you",
    "start": "1819960",
    "end": "1827000"
  },
  {
    "text": "momentary slight Applause yeah okay uh now just to prove to you",
    "start": "1827000",
    "end": "1832919"
  },
  {
    "text": "that really is actually allowing me to run arbitrary C code I'm going to drop in a c implementation of uh print",
    "start": "1832919",
    "end": "1840120"
  },
  {
    "text": "Fibonacci there and I will call that print Fibonacci let's run that with 15",
    "start": "1840120",
    "end": "1845679"
  },
  {
    "text": "and I will build that so build build console app one okay come back hit",
    "start": "1845679",
    "end": "1852200"
  },
  {
    "text": "reload oops come back hit reload and then we've got our C Fibonacci running so it was very quick and easy for us to",
    "start": "1852200",
    "end": "1858200"
  },
  {
    "text": "get updated code into the browser there so I hope you think that is pretty cool and interesting the fact that we could",
    "start": "1858200",
    "end": "1864840"
  },
  {
    "text": "bring our own. net runtime into the browser through web assembly now if you",
    "start": "1864840",
    "end": "1870960"
  },
  {
    "text": "are anything like me you probably look at that and you think yeah wouldn't it be cool if there was some sort of",
    "start": "1870960",
    "end": "1877240"
  },
  {
    "text": "framework that you could use to build single page applications with net code rather than having to write any JavaScript or typescript or webpack or",
    "start": "1877240",
    "end": "1883960"
  },
  {
    "text": "any of that stuff it wouldn't be cool if we could just do all this with net running on web assembly I thought that",
    "start": "1883960",
    "end": "1889960"
  },
  {
    "text": "too so shall we have a little look at what that might look like okay so before",
    "start": "1889960",
    "end": "1895799"
  },
  {
    "text": "we I really get into that I'm going to caution you that this is not a shipping product this is an experiment this is",
    "start": "1895799",
    "end": "1902440"
  },
  {
    "text": "just for you to be amused by and also because I'm really interested in what you actually think about this whether",
    "start": "1902440",
    "end": "1907760"
  },
  {
    "text": "you think this is something that you would actually want to use whether anyone really cares about this sort of thing so I definitely want your feedback",
    "start": "1907760",
    "end": "1913360"
  },
  {
    "text": "but don't expect that you can just download this and start building some production application with it when you leave session okay so let's create a new",
    "start": "1913360",
    "end": "1919880"
  },
  {
    "text": "project I'm going to create a new application which is going to be a rich client side application with c and razor",
    "start": "1919880",
    "end": "1926000"
  },
  {
    "text": "running in the browser what should we call it my super thing okay and we will create that so",
    "start": "1926000",
    "end": "1933240"
  },
  {
    "text": "that's going to create an initial project for us there and hoping that all the packages restore and we can actually",
    "start": "1933240",
    "end": "1938880"
  },
  {
    "text": "build that is that going to work hopefully yes yep that's compiling okay so I can",
    "start": "1938880",
    "end": "1945399"
  },
  {
    "text": "now run that in a browser when that pops up you will see we've got something that resembles a single page application",
    "start": "1945399",
    "end": "1952639"
  },
  {
    "text": "takes a moment to come up the first time because it's compiling stuff in the background and there we go now if any of you were in my talk yesterday you may",
    "start": "1952639",
    "end": "1959200"
  },
  {
    "text": "find this to look quite similar quite familiar because it looks the same as the angular and react and other",
    "start": "1959200",
    "end": "1965519"
  },
  {
    "text": "templates that we've got shipping at the moment and it's got the same functionality as those do so we've got basic client side navigation I can go",
    "start": "1965519",
    "end": "1971799"
  },
  {
    "text": "backwards and forwards we've got an example of a component that lets you increment a count and an example of",
    "start": "1971799",
    "end": "1977480"
  },
  {
    "text": "fetching some data from the back end there but what does this code really look like then uh so let's expand all",
    "start": "1977480",
    "end": "1984000"
  },
  {
    "text": "this stuff and we will see that it is not reactor or angular or anything like that and in fact there is no JavaScript",
    "start": "1984000",
    "end": "1990399"
  },
  {
    "text": "in here whatsoever none it is just C and razor and what does it really look like",
    "start": "1990399",
    "end": "1996320"
  },
  {
    "text": "well let's have a look at this counter code here it's very very simple and predictable okay I'm using C to say I'm",
    "start": "1996320",
    "end": "2003679"
  },
  {
    "text": "going to have a count property which is an INT and then I've got a method that when you click when you call it it's going to increment that count I'm using",
    "start": "2003679",
    "end": "2009919"
  },
  {
    "text": "razor to display the current count and I've got a button that you can click and it will increment the count in that kind",
    "start": "2009919",
    "end": "2016120"
  },
  {
    "text": "of way so that is how that works and other nice things work too for example",
    "start": "2016120",
    "end": "2021240"
  },
  {
    "text": "if I want to change my code let's change that to counter one two 3 it's just going to update very quickly and if I",
    "start": "2021240",
    "end": "2027159"
  },
  {
    "text": "want to make it go up uh in tens rather than ones then I come back and click that and it will do okay so it's",
    "start": "2027159",
    "end": "2033679"
  },
  {
    "text": "compiling very quickly there and it does that by having an instance of the Ros compiler uh in memory there so not",
    "start": "2033679",
    "end": "2040720"
  },
  {
    "text": "inside the browser but in on the server there we've got a rosling compiler that can very quickly produce updated dlls",
    "start": "2040720",
    "end": "2046559"
  },
  {
    "text": "that can get loaded and run through web assembly there so that's very nice and fast but would it really be nice for you",
    "start": "2046559",
    "end": "2053440"
  },
  {
    "text": "as a developer to build something like this what would the actual experience be like let's have a go at adding a bit of functionality to this site now and I'll",
    "start": "2053440",
    "end": "2060440"
  },
  {
    "text": "do the classic uh example that everybody always wants to do which is of course a to-do list so I'm going to create a new",
    "start": "2060440",
    "end": "2067520"
  },
  {
    "text": "file file uh to represent the to-do list component so I'll add a new item and it's going to be called to-do list.",
    "start": "2067520",
    "end": "2075560"
  },
  {
    "text": "cshtml okay and then I want to have a reference to that file from somewhere",
    "start": "2075560",
    "end": "2080638"
  },
  {
    "text": "else I want the user to be able to get here okay so I want to modify this",
    "start": "2080639",
    "end": "2085839"
  },
  {
    "text": "navigation menu to add a new entry on it I will go to the nav menu there and I'm just going to scroll down and copy and",
    "start": "2085839",
    "end": "2091919"
  },
  {
    "text": "paste one of the existing list items here and I'm going to link that one to to-do list and then then I will also",
    "start": "2091919",
    "end": "2098720"
  },
  {
    "text": "change the text to-do list okay hit save and now we've got to-do list in the menu",
    "start": "2098720",
    "end": "2104359"
  },
  {
    "text": "and I click on that and we'll see the Todo list component shows up there okay now how can we actually Implement a",
    "start": "2104359",
    "end": "2110240"
  },
  {
    "text": "to-do list well we're going to do this with C so I want to define a class to represent a to-do item so firstly I want",
    "start": "2110240",
    "end": "2116839"
  },
  {
    "text": "a code block that I can put some C in and then I'll have a class called to-do item and every one of these to-do items",
    "start": "2116839",
    "end": "2124640"
  },
  {
    "text": "will have a string property called text and a bu property called is done that's",
    "start": "2124640",
    "end": "2130599"
  },
  {
    "text": "a reasonable model for a to-do item and then I want to have a list of these things so let's have list of to-do item",
    "start": "2130599",
    "end": "2139320"
  },
  {
    "text": "which I can type eventually called to-do items equals new list of to-do item Okay",
    "start": "2139320",
    "end": "2145079"
  },
  {
    "text": "so we've got our list of to-do items there now I want to display that in some way the first thing I will display the",
    "start": "2145079",
    "end": "2150680"
  },
  {
    "text": "number of items in the list so let's have to-do items. count and we will see that",
    "start": "2150680",
    "end": "2156599"
  },
  {
    "text": "initially there are zero items in the list like you'd expect and I want to actually display the contents of the",
    "start": "2156599",
    "end": "2162359"
  },
  {
    "text": "list as well so let's have an A List here and I'll say for each VAR item in",
    "start": "2162359",
    "end": "2168079"
  },
  {
    "text": "Todo items I want to have a list item that displays item. text now you won't",
    "start": "2168079",
    "end": "2174640"
  },
  {
    "text": "see anything straight away because there's of course nothing to display there's nothing in the list I need to have some way of getting stuff into that",
    "start": "2174640",
    "end": "2180920"
  },
  {
    "text": "list and I will have a button add item okay now currently when I click that",
    "start": "2180920",
    "end": "2187599"
  },
  {
    "text": "button it's not going to do anything because I don't have any Behavior wired up to it and how can I actually add some",
    "start": "2187599",
    "end": "2192720"
  },
  {
    "text": "Behavior well if we go back to uh the good old days of JavaScript uh many",
    "start": "2192720",
    "end": "2198040"
  },
  {
    "text": "years ago we would have an onclick Handler and then we would start writing some JavaScript in there uh but now I can write some C code in there that will",
    "start": "2198040",
    "end": "2205839"
  },
  {
    "text": "actually run when the button is clicked so I'm going to say to-do items. add new",
    "start": "2205839",
    "end": "2211280"
  },
  {
    "text": "Todo item and then we'll set the text on that to be new thing okay",
    "start": "2211280",
    "end": "2218040"
  },
  {
    "text": "oh yeah I need a semicolon on the end of there because that's a complete line of C okay and then when I click this button",
    "start": "2218040",
    "end": "2223839"
  },
  {
    "text": "you will see we are now adding items to our list and they are showing up so that's good but I don't really want to",
    "start": "2223839",
    "end": "2229160"
  },
  {
    "text": "hardcode this string new thing and I don't really like the fact that I've got all this C code in line and an event",
    "start": "2229160",
    "end": "2235560"
  },
  {
    "text": "handler anyway that doesn't look great so I'm going to make a method to do this let's call it add item okay and then I",
    "start": "2235560",
    "end": "2242240"
  },
  {
    "text": "can take the code that I had there before let's just drop that in here and now of course I can I can invoke add",
    "start": "2242240",
    "end": "2248319"
  },
  {
    "text": "item from there if I want to but as a nice little short hand I can say onclick add item and that will say behave the",
    "start": "2248319",
    "end": "2255240"
  },
  {
    "text": "same as before okay but I want to change this text I don't want it to be new thing I want the user to be able to type",
    "start": "2255240",
    "end": "2260880"
  },
  {
    "text": "some text in so let's have a text box and I'll say type [Music]",
    "start": "2260880",
    "end": "2266000"
  },
  {
    "text": "here okay uh but currently it's ignoring what I type in the text box I need some way of capturing what gets typed in",
    "start": "2266000",
    "end": "2271920"
  },
  {
    "text": "there there are various ways we could do that but one way would be to have a string here let's call it next item and",
    "start": "2271920",
    "end": "2278560"
  },
  {
    "text": "then I'm going to bind the contents of that text box to this string property there and then when we add an item I'm",
    "start": "2278560",
    "end": "2285119"
  },
  {
    "text": "going to say we'll use that text that you've typed in I'm also going to set it back to null which will clear out the",
    "start": "2285119",
    "end": "2290800"
  },
  {
    "text": "text box so you can enter your next item straight away so let's go first and",
    "start": "2290800",
    "end": "2296359"
  },
  {
    "text": "second and that's all working very well very good okay what else do we need to",
    "start": "2296359",
    "end": "2301400"
  },
  {
    "text": "do to make this into a convincing application well we need to be able to edit the contents of the text and we",
    "start": "2301400",
    "end": "2306480"
  },
  {
    "text": "need to be able to mark it items has done so I'm going to add a bit of extra HTML in here pretty simple stuff I'm",
    "start": "2306480",
    "end": "2311680"
  },
  {
    "text": "just going to have a text box that binds to item. text okay so that's now going to display",
    "start": "2311680",
    "end": "2319520"
  },
  {
    "text": "uh an editable thing that you can edit and that does actually edit the underlying data structure even though you can't really see that it does and",
    "start": "2319520",
    "end": "2325960"
  },
  {
    "text": "then also I'm going to have a checkbox so input type equals checkbox and then",
    "start": "2325960",
    "end": "2331319"
  },
  {
    "text": "I'm also going to bind that to item dot is done",
    "start": "2331319",
    "end": "2337720"
  },
  {
    "text": "okay so now I can Mark items as done or not but you can't really say that see that that takes any effect does that",
    "start": "2337720",
    "end": "2344119"
  },
  {
    "text": "actually do anything when I check that box in order to actually show you that it does let's change what we're counting",
    "start": "2344119",
    "end": "2349720"
  },
  {
    "text": "instead of counting all the items let's just count the items that are remaining to be done how many incomplete items are",
    "start": "2349720",
    "end": "2355599"
  },
  {
    "text": "there we'll count all the items where the item is not yet done using a bit of",
    "start": "2355599",
    "end": "2361079"
  },
  {
    "text": "link code there so now if I add some items then we should be able to see those items show up and as I tole these",
    "start": "2361079",
    "end": "2367839"
  },
  {
    "text": "boxes the uh item count changes okay good so we are able",
    "start": "2367839",
    "end": "2375079"
  },
  {
    "text": "okay all right everyone loves to-do lists so now that's pretty cool because",
    "start": "2375079",
    "end": "2380599"
  },
  {
    "text": "it allows us to build our application in a really familiar and uh and nice interactive kind of way but I'm sure",
    "start": "2380599",
    "end": "2386440"
  },
  {
    "text": "some of you are probably sitting there thinking is that really practical though I mean seriously you're shipping an",
    "start": "2386440",
    "end": "2392240"
  },
  {
    "text": "entire net runtime and core libraries in your web page that's going to be like hundreds of megabytes or something isn't",
    "start": "2392240",
    "end": "2397680"
  },
  {
    "text": "it are you crazy that can't work well let's see let's see how big this thing actually is so I'm going to go over to",
    "start": "2397680",
    "end": "2402839"
  },
  {
    "text": "this network tab here and I'll reload and you'll see that the whole thing there 326 kilobytes now I think we all",
    "start": "2402839",
    "end": "2409880"
  },
  {
    "text": "know of certain single page application Frameworks written in JavaScript that will produce bigger application than",
    "start": "2409880",
    "end": "2414960"
  },
  {
    "text": "that typically on average so this is quite a reasonable starting point size there and that is before any serious",
    "start": "2414960",
    "end": "2420760"
  },
  {
    "text": "attempt to actually optimize it so there's no code stripping um some of the code is not even minified and it includes bootstrap as well so so that's",
    "start": "2420760",
    "end": "2427760"
  },
  {
    "text": "quite reasonable and the other objection that I expect that some of you are probably thinking is oh that's all very",
    "start": "2427760",
    "end": "2433960"
  },
  {
    "text": "well for browsers that support web assembly but you know most browsers or at least the ones my special customers",
    "start": "2433960",
    "end": "2439119"
  },
  {
    "text": "are using don't support web assembly so that's no good is it well let's see what happens if we try to run this in a",
    "start": "2439119",
    "end": "2444920"
  },
  {
    "text": "browser that does not support web assembly Internet Explorer 11 our old",
    "start": "2444920",
    "end": "2449960"
  },
  {
    "text": "friend definitely does not support web assembly so what happens when we try to run our application in there well it",
    "start": "2449960",
    "end": "2456440"
  },
  {
    "text": "just comes up it works and I can still do all the same stuff that I was doing before all the functionality is there",
    "start": "2456440",
    "end": "2462119"
  },
  {
    "text": "that we implemented and it all behaves exactly the same how is that even remotely possible given that it's a web",
    "start": "2462119",
    "end": "2468160"
  },
  {
    "text": "assembly application there and the answer is that web assembly is really cool it's a pretty amazing technology it",
    "start": "2468160",
    "end": "2473760"
  },
  {
    "text": "is designed for easy backward compatibility with browsers that don't support web assembly so uh like I said",
    "start": "2473760",
    "end": "2480119"
  },
  {
    "text": "the actual runtime is more or less a um a subset of a certain type of JavaScript",
    "start": "2480119",
    "end": "2485720"
  },
  {
    "text": "so it's not that difficult to have a polyfill for web assembly and that's what's happening here when we detect",
    "start": "2485720",
    "end": "2491160"
  },
  {
    "text": "that your browser does not support web assembly we'll just dynamically load the polyl for you and then the application will work exactly the same as if the",
    "start": "2491160",
    "end": "2497680"
  },
  {
    "text": "browser did it adds about 100 kilobytes to the page weight so you don't want to do it all the time it's why we just do it dynamically for browsers that need it",
    "start": "2497680",
    "end": "2505760"
  },
  {
    "text": "okay right then I hope that is of some interest to you um it's pretty cool that",
    "start": "2505760",
    "end": "2511319"
  },
  {
    "text": "web assembly allows us to do this sort of thing bringing in a custom runtime a custom framework and um yeah that's",
    "start": "2511319",
    "end": "2517680"
  },
  {
    "text": "pretty cool now if you want to have a look at that you can go to this location on GitHub and you can download that",
    "start": "2517680",
    "end": "2523839"
  },
  {
    "text": "project template that I was just using there and you can have a play about with it yourself and I'm going to caution you one further time that this is not a",
    "start": "2523839",
    "end": "2530119"
  },
  {
    "text": "shipping product it's an experiment but I am interested in what you think of it and whether you could make any good use",
    "start": "2530119",
    "end": "2535960"
  },
  {
    "text": "of that okay now do browsers support web assembly yet well yeah pretty good news",
    "start": "2535960",
    "end": "2543000"
  },
  {
    "text": "uh it's already on by default in Chrome and Firefox it's fully ready to go",
    "start": "2543000",
    "end": "2548200"
  },
  {
    "text": "pretty much in Edge it's already there behind a flag so the user has to turn on a config setting to see it but again I'm",
    "start": "2548200",
    "end": "2554440"
  },
  {
    "text": "expecting that to be on by default fairly soon and slightly better news from Safari this time uh they have",
    "start": "2554440",
    "end": "2560119"
  },
  {
    "text": "actually acknowledged that they are really going to build this and ship that so that is officially listed as in",
    "start": "2560119",
    "end": "2565640"
  },
  {
    "text": "development as far as Safari is concerned okay so that is web assembly",
    "start": "2565640",
    "end": "2571960"
  },
  {
    "text": "we are going to move on to the last two things now these two things are slightly more obscure features and I will give",
    "start": "2571960",
    "end": "2578040"
  },
  {
    "text": "you slightly more sort of casual level demo of them and not so much technical detail this time but I hope that they",
    "start": "2578040",
    "end": "2584160"
  },
  {
    "text": "will be interesting to you give you some cool ideas about things you could do the first one is credential management it",
    "start": "2584160",
    "end": "2590240"
  },
  {
    "text": "sounds about as boring as it can get but it is actually pretty useful now we've had to deal with credentials as web",
    "start": "2590240",
    "end": "2596079"
  },
  {
    "text": "developers since the very beginning of web development we've always had usernames and passwords and sessions and",
    "start": "2596079",
    "end": "2601319"
  },
  {
    "text": "cookies and login screens and registration and sign out and all that stuff that we've all implemented dozens",
    "start": "2601319",
    "end": "2606599"
  },
  {
    "text": "and dozens of times and the browser has not done very much to help us with that credential management is a new set of",
    "start": "2606599",
    "end": "2613839"
  },
  {
    "text": "apis that allows the browser to understand the concept of usernames and passwords or other types of login flows",
    "start": "2613839",
    "end": "2620839"
  },
  {
    "text": "and do something actually useful for you it gives you a way of storing credentials in the browser in such a way",
    "start": "2620839",
    "end": "2627960"
  },
  {
    "text": "that the user will get automatically logged in on all their devices so the user logs into your application on the",
    "start": "2627960",
    "end": "2633920"
  },
  {
    "text": "desktop and when they pop it open on their phone they'll find they're just logged in they didn't have to do anything they didn't have to tell them",
    "start": "2633920",
    "end": "2639960"
  },
  {
    "text": "that it's the same account or anything because the browser can deal with synchronizing credentials for you uh it",
    "start": "2639960",
    "end": "2645200"
  },
  {
    "text": "also gives you some native user interface in the browser for things like account Pickers and switches and that sort of thing of course you want to see",
    "start": "2645200",
    "end": "2652359"
  },
  {
    "text": "it so let us move on to our uh fourth and final demo application and I'm going",
    "start": "2652359",
    "end": "2658280"
  },
  {
    "text": "to introduce to you a little bit of project that I've got working on in the background uh it's a bit of a a business",
    "start": "2658280",
    "end": "2664240"
  },
  {
    "text": "idea that I've had I'm hoping to get very rich out of this it's called CEO portal the idea with CEO portal is that",
    "start": "2664240",
    "end": "2671240"
  },
  {
    "text": "uh uh powerful business people the the big Titans of the industrial world can come along and they can register on this",
    "start": "2671240",
    "end": "2677760"
  },
  {
    "text": "and then they can do all the stuff that CEOs need to do through a website let me just show you that if I bring that up",
    "start": "2677760",
    "end": "2684319"
  },
  {
    "text": "you'll see we've got some nice sort of corporate web design going on there I think this will strongly appeal to CEOs",
    "start": "2684319",
    "end": "2690040"
  },
  {
    "text": "from what I understand and um so yeah the other thing about CEOs that you need to understand is that they're very very",
    "start": "2690040",
    "end": "2696079"
  },
  {
    "text": "cautious about security they want a very robust and Clean login",
    "start": "2696079",
    "end": "2701119"
  },
  {
    "text": "and registration system where they know that their Account Details will be protected so I'm going to show you how",
    "start": "2701119",
    "end": "2706640"
  },
  {
    "text": "we can do that with a bit of credential management but the first thing I want to show you is what this page is doing when",
    "start": "2706640",
    "end": "2712440"
  },
  {
    "text": "it actually starts up so when this page first loads it tries to uh ask the",
    "start": "2712440",
    "end": "2718520"
  },
  {
    "text": "browser hey have you got any saved credentials already for this user Navigator docenti doget and in this",
    "start": "2718520",
    "end": "2725559"
  },
  {
    "text": "particular case it's going to return undefined because the user does not yet have any saved credentials and so we're",
    "start": "2725559",
    "end": "2732240"
  },
  {
    "text": "just going to display our application in a logged out status and then eventually our user or",
    "start": "2732240",
    "end": "2739480"
  },
  {
    "text": "potential user is going to be convinced that this is a good investment for them to of their time to register for this application so they'll come along and",
    "start": "2739480",
    "end": "2745960"
  },
  {
    "text": "they'll create themselves an account like that and they're going to click on the register button and when they do that this code will run down here so",
    "start": "2745960",
    "end": "2753440"
  },
  {
    "text": "we're going to instantiate a new password credential there various different types of credentials that you",
    "start": "2753440",
    "end": "2758680"
  },
  {
    "text": "can instantiate a password credential is the simplest one it's just a username and a password there are other types for",
    "start": "2758680",
    "end": "2764400"
  },
  {
    "text": "different types of Federated login systems uh to instantiate a password credential we need to give it the the",
    "start": "2764400",
    "end": "2770119"
  },
  {
    "text": "username and password but in this case as a shorthand I'm passing it an instance of a form an actual HTML form",
    "start": "2770119",
    "end": "2777200"
  },
  {
    "text": "element and the browser will be able to pull the username and password out of that form by by convention so when we've",
    "start": "2777200",
    "end": "2783680"
  },
  {
    "text": "done that we'll now have a credential object which uh has picked out the username Steve and password and such",
    "start": "2783680",
    "end": "2790240"
  },
  {
    "text": "like and then we can say hey browser will you please store that credential for me and when we do that the browser",
    "start": "2790240",
    "end": "2796400"
  },
  {
    "text": "will display a bit of native UI here to say do you want me to store this credential actually and the user will",
    "start": "2796400",
    "end": "2801960"
  },
  {
    "text": "obviously click the blue button because they don't read it and it will save the credential in the browser there and now",
    "start": "2801960",
    "end": "2808319"
  },
  {
    "text": "we can switch over to our logged in view okay so this is the logged in view you can see various things that uh CEOs need",
    "start": "2808319",
    "end": "2815200"
  },
  {
    "text": "to do that they can do from this screen or they can sign out if they need to now next time this page gets loaded and we",
    "start": "2815200",
    "end": "2822000"
  },
  {
    "text": "try to check for credentials again we will get slightly different Behavior so if I hit reload now you will see again",
    "start": "2822000",
    "end": "2828920"
  },
  {
    "text": "we're trying to get credentials and if we look we've got the password credential object back with our username",
    "start": "2828920",
    "end": "2834760"
  },
  {
    "text": "and password so we know that we should display the user in a logged in state and also every time we make any API",
    "start": "2834760",
    "end": "2840599"
  },
  {
    "text": "calls to our back end we can pass the data from that credential to the back end as well so that it knows obviously",
    "start": "2840599",
    "end": "2846359"
  },
  {
    "text": "to do the reant server side authentication checks okay so my user is now starting in a logged in state and in",
    "start": "2846359",
    "end": "2853599"
  },
  {
    "text": "fact every time I reload if you have a look up there a little message just flashes up to the user I'm signing you",
    "start": "2853599",
    "end": "2859079"
  },
  {
    "text": "in as Steve uh because the browser knows about these credentials now it knows what your username is and it knows that",
    "start": "2859079",
    "end": "2864520"
  },
  {
    "text": "it's automatically signing you in and we get other cool features from the browser as well uh for example if the user has",
    "start": "2864520",
    "end": "2870800"
  },
  {
    "text": "got multiple accounts let's register another account like this and let's just",
    "start": "2870800",
    "end": "2876839"
  },
  {
    "text": "delete the breakpoint okay I'll save the Bert credential as well and now when I go to sign in you'll see the browser is",
    "start": "2876839",
    "end": "2883000"
  },
  {
    "text": "prompting the user which of your accounts do you want to sign in as so you've got a quick account switcher I",
    "start": "2883000",
    "end": "2888079"
  },
  {
    "text": "can be Bert and then I can quickly become Steve again very good okay so",
    "start": "2888079",
    "end": "2894280"
  },
  {
    "text": "that gives us a pretty nice way of uh giving the user the ability to store",
    "start": "2894280",
    "end": "2899440"
  },
  {
    "text": "their credentials and like I said it can be automatically synchronized across their devices uh so they don't have to",
    "start": "2899440",
    "end": "2905960"
  },
  {
    "text": "keep logging in on each different device that they go to",
    "start": "2905960",
    "end": "2912079"
  },
  {
    "text": "okay so what's the",
    "start": "2913040",
    "end": "2917000"
  },
  {
    "text": "question uh are you asking about browser support in Firefox and Edge you are okay well how about uh this to answer your",
    "start": "2918079",
    "end": "2925040"
  },
  {
    "text": "question right so um this feature is uh only in Chrome today so Chrome is",
    "start": "2925040",
    "end": "2931760"
  },
  {
    "text": "pushing ahead with this agenda they've already shipped this feature the other browsers have not actually confirm that",
    "start": "2931760",
    "end": "2937599"
  },
  {
    "text": "they're going to do it but it is a standard track feature so you would hope and expect that they are going to do this but it is early days for credential",
    "start": "2937599",
    "end": "2944520"
  },
  {
    "text": "management and so if you are going to use this right now you're going to need to um not rely on it completely now",
    "start": "2944520",
    "end": "2951319"
  },
  {
    "text": "thankfully the way these apis work you can reasonably well polyfill all of it apart from the actual synchronization",
    "start": "2951319",
    "end": "2957680"
  },
  {
    "text": "across devices so we could have a polyfill that stores the credentials in local storage or something else like",
    "start": "2957680",
    "end": "2962799"
  },
  {
    "text": "that I'm not aware of a good polyfill right now actually so if anyone wants a cool open source project that they want to start and get loads of people using",
    "start": "2962799",
    "end": "2969440"
  },
  {
    "text": "you can po credential management I'm sure you'll get a lot of users okay so that's Ser browser support any other",
    "start": "2969440",
    "end": "2975599"
  },
  {
    "text": "questions about credential management at this point no okay great okay so we will move",
    "start": "2975599",
    "end": "2981040"
  },
  {
    "text": "on then from that to our fourth and final feature and this fourth and final feature is a it's a thing that mobile",
    "start": "2981040",
    "end": "2989400"
  },
  {
    "text": "and Native applications have been able to do really well for quite a while but desk but sorry but web based",
    "start": "2989400",
    "end": "2995240"
  },
  {
    "text": "applications have been doing a pretty terrible job of it and that is taking payments from users this is another",
    "start": "2995240",
    "end": "3002359"
  },
  {
    "text": "thing that's been around since the very beginning of programming on the web we have always wanted to get money out of",
    "start": "3002359",
    "end": "3007440"
  },
  {
    "text": "people reasonably enough but the but it's been a pretty terrible user experience uh so far in the web because",
    "start": "3007440",
    "end": "3013359"
  },
  {
    "text": "if you want to make someone give you money you have to have some sort of checkout form where they manually type",
    "start": "3013359",
    "end": "3018480"
  },
  {
    "text": "in their credit card details and their delivery addresses and all that stuff and it's like so many steps that 80% of",
    "start": "3018480",
    "end": "3024319"
  },
  {
    "text": "them don't even bother to finish it and you don't make a as much money as you otherwise would have whereas if you",
    "start": "3024319",
    "end": "3029880"
  },
  {
    "text": "think about how a native mobile app works if it wants some money out of you it just pops a a little thing saying",
    "start": "3029880",
    "end": "3035079"
  },
  {
    "text": "please give me your fingerprint to confirm and then hey your money is mine wouldn't it be nice if you could do that sort of thing on the web as well that is",
    "start": "3035079",
    "end": "3041839"
  },
  {
    "text": "what the payments uh request API is for it allows you to tell the browser I want",
    "start": "3041839",
    "end": "3048079"
  },
  {
    "text": "some money from this user please and you tell it how much and what the money is for and so on and it will display some",
    "start": "3048079",
    "end": "3053440"
  },
  {
    "text": "native user interface to tell the user hey the this application wants a payment from you and then if the user confirms",
    "start": "3053440",
    "end": "3060240"
  },
  {
    "text": "it then you all the payment details go to you now the the way that the actual UI looks will vary depending on what",
    "start": "3060240",
    "end": "3067040"
  },
  {
    "text": "kind of browser or device it is if it's on a mobile device it's probably going to ask them for a fingerprint or something on the web it may ask for some",
    "start": "3067040",
    "end": "3073520"
  },
  {
    "text": "other kind of uh on the uh desktop it probably asks for some other kind of confirmation so let's have a go adding a",
    "start": "3073520",
    "end": "3080760"
  },
  {
    "text": "payment feature into the CEO portal so that I can get rich Okay so",
    "start": "3080760",
    "end": "3087240"
  },
  {
    "text": "how and why are we going to get money out of our users well I've thought about this carefully and I've come up with what I think is a really good business",
    "start": "3087240",
    "end": "3093440"
  },
  {
    "text": "model so let's say that our user is signed in they're a powerful CEO and they're thinking about which executive",
    "start": "3093440",
    "end": "3098799"
  },
  {
    "text": "activity they want to perform today and I assume that most Executives really like reviewing key financial documents",
    "start": "3098799",
    "end": "3105720"
  },
  {
    "text": "they they seem to be into that sort of thing so they click on this button and what happens is ah this is a premium",
    "start": "3105720",
    "end": "3111000"
  },
  {
    "text": "feature which you can unlock now for just 50 gems and a CEO probably thinks cool that's a good deal I'm quite happy",
    "start": "3111000",
    "end": "3117400"
  },
  {
    "text": "to spend 50 gems on that but oh no I've got zero gems I'm going to have to get some more gems so let's get some gems",
    "start": "3117400",
    "end": "3123640"
  },
  {
    "text": "shall we and that'll take us into the Gem Store and um we'll think hm how many",
    "start": "3123640",
    "end": "3128960"
  },
  {
    "text": "gems shall I buy not sure but for whatever reason my attention seems to be drawn to this 50 million gems option",
    "start": "3128960",
    "end": "3135880"
  },
  {
    "text": "there U it seems like a reasonable Choice it's the most popular choice you know and um all the features in CEO",
    "start": "3135880",
    "end": "3141559"
  },
  {
    "text": "portal require you to spend gems so I think 50 million would be a reasonable amount to have now now when the user",
    "start": "3141559",
    "end": "3147559"
  },
  {
    "text": "clicks that button I want their money how am I going to get their money well let me show you a bit of code that's",
    "start": "3147559",
    "end": "3153160"
  },
  {
    "text": "going to run when that uh is invoked so if I open up the Javascript file that's",
    "start": "3153160",
    "end": "3158559"
  },
  {
    "text": "in there and we'll scroll down down down down to buy gems now that is the function that will run when the user",
    "start": "3158559",
    "end": "3164119"
  },
  {
    "text": "clicks the button and what it's going to do is it's going to compute uh a bit of stuff to do with the amount that I want",
    "start": "3164119",
    "end": "3169920"
  },
  {
    "text": "to charge them this is an important thing to understand that payment request apis do not do any computations for you",
    "start": "3169920",
    "end": "3176839"
  },
  {
    "text": "they will not calculate tax or shipping or anything else like that it's entirely up to you to provide whatever values you",
    "start": "3176839",
    "end": "3183480"
  },
  {
    "text": "want it to display in the UI so I'm Computing some values and then I'm defining a new payment request and",
    "start": "3183480",
    "end": "3189880"
  },
  {
    "text": "inside that payment request I can configure what sort of payment methods I'm willing to accept in this case it's just uh credit cards but you could have",
    "start": "3189880",
    "end": "3196480"
  },
  {
    "text": "other things like Android pay or whatever other stuff uh that a given device might support and then we can",
    "start": "3196480",
    "end": "3201880"
  },
  {
    "text": "configure that on this occasion I'm saying I'm taking these types of credit cards that you can give me and then I",
    "start": "3201880",
    "end": "3207079"
  },
  {
    "text": "can also Define order details as well so what are the line items what's the grand total what's the shipping uh information",
    "start": "3207079",
    "end": "3213799"
  },
  {
    "text": "that kind of thing and then finally I can give other settings such as do I want to collect shipping details from",
    "start": "3213799",
    "end": "3219480"
  },
  {
    "text": "this user or not and then I can say to the browser can you please show this payment request to this user and then",
    "start": "3219480",
    "end": "3226920"
  },
  {
    "text": "we'll get a call back when they confirm or reject that so let's see that actually happen I'm going to click on this button now and when I do that a bit",
    "start": "3226920",
    "end": "3233599"
  },
  {
    "text": "of native UI will show up now I did not Design This this this is built into Chrome uh this is just what shows up and",
    "start": "3233599",
    "end": "3239680"
  },
  {
    "text": "it displays all the information that we've asked it to so the user can see their order details and the the tip that",
    "start": "3239680",
    "end": "3245319"
  },
  {
    "text": "I've added there which I think is reasonable and the online delivery as if there's any other way of delivering virtual gems and um and then the user",
    "start": "3245319",
    "end": "3253599"
  },
  {
    "text": "can select from their uh predefined uh shipping address I don't know why but you know that's just to show you that we",
    "start": "3253599",
    "end": "3259760"
  },
  {
    "text": "can do that and we can also select a payment method that they would have pre-stored with their operating system",
    "start": "3259760",
    "end": "3265880"
  },
  {
    "text": "with their browser or whatever depending on what kind of device they are using and then finally the user is going to",
    "start": "3265880",
    "end": "3271440"
  },
  {
    "text": "click on the pay button of course and if they are doing so in Chrome it's going to ask them to confirm with the CVC",
    "start": "3271440",
    "end": "3277720"
  },
  {
    "text": "number so I'm just going to type in some number there and I'll hit save or okay",
    "start": "3277720",
    "end": "3282880"
  },
  {
    "text": "and then uh the browser will return all this payment information to you the web developer for you to do what you want",
    "start": "3282880",
    "end": "3288520"
  },
  {
    "text": "with now I am trusting with you with my card number here so please don't abuse that trust um I just want to emphasize",
    "start": "3288520",
    "end": "3295200"
  },
  {
    "text": "that the browser is not actually making the transaction for you it's not contacting a bank or anything like that",
    "start": "3295200",
    "end": "3301640"
  },
  {
    "text": "it's just giving you the stored details the stored payment number uh the uh stored shipping address and any other",
    "start": "3301640",
    "end": "3307480"
  },
  {
    "text": "options that they've chosen and it's still up to you to pass that through to your normal payment processor or whatever but the point is that the user",
    "start": "3307480",
    "end": "3313920"
  },
  {
    "text": "did not have to type this stuff in they just tapped a button or did a fingerprint and you got the payment details and hopefully your conversion",
    "start": "3313920",
    "end": "3320160"
  },
  {
    "text": "rate is much higher than it otherwise would have been now the way this actually appears to the user like I said",
    "start": "3320160",
    "end": "3326319"
  },
  {
    "text": "will vary depending on what device they are using or what browser and if I show you how this looks in Edge you'll see",
    "start": "3326319",
    "end": "3331880"
  },
  {
    "text": "it's slightly different so if I bring this up in Edge and I'll do the same thing where I'm trying to buy my gems",
    "start": "3331880",
    "end": "3337680"
  },
  {
    "text": "what happens in this case is that the Microsoft wallet will pop up and then the user will be able to make their payment using whatever they've got",
    "start": "3337680",
    "end": "3343520"
  },
  {
    "text": "stored there in their wallet so it varies by device type and by browser as",
    "start": "3343520",
    "end": "3348599"
  },
  {
    "text": "it should because that uh will maximize the chance that your user has actually got the stored payment information and",
    "start": "3348599",
    "end": "3355039"
  },
  {
    "text": "is willing to actually give you the money now is that supported in browsers well it's better news from Edge this",
    "start": "3355039",
    "end": "3360960"
  },
  {
    "text": "time because that feature is already shipped in Edge good well done those people uh Chrome has already got this",
    "start": "3360960",
    "end": "3366079"
  },
  {
    "text": "one live as well Firefox has announced that it is in development so hopefully it won't be too long before it's live",
    "start": "3366079",
    "end": "3371280"
  },
  {
    "text": "there as well uh unfortunately again Safari is the laggy one there because they have not even acknowledged the existence of this as a concept yet so we",
    "start": "3371280",
    "end": "3378160"
  },
  {
    "text": "don't know if or when they're going to do that um but realistically if you want to use something like that today you're",
    "start": "3378160",
    "end": "3383480"
  },
  {
    "text": "going to have to have some kind of fallback for browsers that don't support it because someone's going to be on an old browser and you don't want to refuse",
    "start": "3383480",
    "end": "3390240"
  },
  {
    "text": "their money so you're going to have to say for people who support this you can pay with one tap for people who don't you're going to have to go after to some",
    "start": "3390240",
    "end": "3396640"
  },
  {
    "text": "tedious traditional checkout form where you type in your credit card number and all that okay any questions about",
    "start": "3396640",
    "end": "3402440"
  },
  {
    "text": "payment requests no all right great okay so uh",
    "start": "3402440",
    "end": "3407599"
  },
  {
    "text": "that is all the stuff that I'm going to have time to demo for you today we've just been through a whole bunch of different upcoming features that create",
    "start": "3407599",
    "end": "3414280"
  },
  {
    "text": "new possibilities for your web application uh just to finish off let's imagine what your next uh crossplatform web",
    "start": "3414280",
    "end": "3421480"
  },
  {
    "text": "application might look like and what it might do well it might have some really cool features for example you might be",
    "start": "3421480",
    "end": "3426599"
  },
  {
    "text": "able to use service workers to make it load instantly even if the user's got a very slow network connection or or no",
    "start": "3426599",
    "end": "3432240"
  },
  {
    "text": "network connection at all you could also use service workers to do things in the background for example if the user does",
    "start": "3432240",
    "end": "3438079"
  },
  {
    "text": "stuff while they're offline you can synchronize that back to your server later and you can receive pushes from your server even when the user is not on",
    "start": "3438079",
    "end": "3444559"
  },
  {
    "text": "your page you could also potentially write your application in a completely custom language or runtime of your",
    "start": "3444559",
    "end": "3451520"
  },
  {
    "text": "choice you could use maybe net or Swift or rust or something else like that thanks to the power of web assembly you",
    "start": "3451520",
    "end": "3457000"
  },
  {
    "text": "could also give users a really clean login system that synchronizes automatically across their devices and",
    "start": "3457000",
    "end": "3463119"
  },
  {
    "text": "you can hopefully even get money out of them with uh just a single tap or fingerprint none of these features you",
    "start": "3463119",
    "end": "3469240"
  },
  {
    "text": "would realistically have done last year there might have been some sort of vague ways of doing some of them but it was",
    "start": "3469240",
    "end": "3474319"
  },
  {
    "text": "wasn't very practical whereas as of this year that sort of support is actually Landing in browsers that customers are",
    "start": "3474319",
    "end": "3480079"
  },
  {
    "text": "actually using so you can realistically do some of this sort of thing so that is",
    "start": "3480079",
    "end": "3485559"
  },
  {
    "text": "all we have time for uh I hope you enjoy this session please remember to evaluate on the way out so that you can control",
    "start": "3485559",
    "end": "3492000"
  },
  {
    "text": "what the schedule is like for next year and I hope you enjoy the rest of your conference thank you",
    "start": "3492000",
    "end": "3500799"
  }
]