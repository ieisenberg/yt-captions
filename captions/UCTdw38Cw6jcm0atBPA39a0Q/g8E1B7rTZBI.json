[
  {
    "text": "has",
    "start": "40640",
    "end": "43640"
  },
  {
    "text": "oh",
    "start": "53039",
    "end": "56039"
  },
  {
    "text": "is",
    "start": "61920",
    "end": "64920"
  },
  {
    "text": "mojitos",
    "start": "104159",
    "end": "107159"
  },
  {
    "text": "oh",
    "start": "147840",
    "end": "150840"
  },
  {
    "text": "what else do i have to say",
    "start": "179599",
    "end": "183879"
  },
  {
    "text": "together",
    "start": "191599",
    "end": "194599"
  },
  {
    "text": "react redux",
    "start": "209440",
    "end": "213239"
  },
  {
    "text": "anymore",
    "start": "220319",
    "end": "223319"
  },
  {
    "text": "together",
    "start": "231360",
    "end": "234360"
  },
  {
    "text": "good afternoon ndc everybody stand up",
    "start": "250560",
    "end": "256079"
  },
  {
    "text": "all right so remain standing if you build or have ever built apis that use http",
    "start": "257040",
    "end": "265040"
  },
  {
    "text": "so if you've never built any web services at all sit down okay remain standing if you've ever implemented",
    "start": "265040",
    "end": "270960"
  },
  {
    "text": "server support for http put remain standing if you've implemented",
    "start": "270960",
    "end": "276720"
  },
  {
    "text": "patch remain standing if you've ever used",
    "start": "276720",
    "end": "283840"
  },
  {
    "text": "content negotiation to avoid something that would have been a breaking change and upset your customers",
    "start": "283840",
    "end": "291520"
  },
  {
    "text": "congratulations you people are the lucky winners i'll buy you a drink later hello yes welcome my name is dylan beatty",
    "start": "291600",
    "end": "300080"
  },
  {
    "text": "and for the next hour i am going to talk to you about rest um",
    "start": "300080",
    "end": "307120"
  },
  {
    "text": "so little exercise there at the beginning just to get some idea of you know the level of the room and who's done what and stuff and yeah it's pretty",
    "start": "307120",
    "end": "313840"
  },
  {
    "text": "good most of you clearly you understand the principles of http uh you understand some of the patterns you understand what",
    "start": "313840",
    "end": "320240"
  },
  {
    "text": "patches even if you've not necessarily worked with it and stuff um rest is",
    "start": "320240",
    "end": "325520"
  },
  {
    "text": "a massive buzzword rest is very very widely used um hands up anybody who has",
    "start": "325520",
    "end": "331919"
  },
  {
    "text": "ever talked to a vendor and they've gone oh yeah we have a restful api and you look at it and you're like no you really",
    "start": "331919",
    "end": "337360"
  },
  {
    "text": "don't you you think you do but yeah um so what we're going to do this",
    "start": "337360",
    "end": "343199"
  },
  {
    "text": "afternoon is i'm going to take you through some of the sort of the bits of rest that go beyond just",
    "start": "343199",
    "end": "349199"
  },
  {
    "text": "http get and post and put and actually look at some of the the architectural",
    "start": "349199",
    "end": "355520"
  },
  {
    "text": "constraints and the styles which create or which inform the design of",
    "start": "355520",
    "end": "360560"
  },
  {
    "text": "restful systems rest is not necessarily good",
    "start": "360560",
    "end": "367280"
  },
  {
    "text": "there can be restful systems which are bad systems and there are systems which are very very good systems which have",
    "start": "367280",
    "end": "373120"
  },
  {
    "text": "nothing to do with rest one of the key things to understand you know one of the things that i try and do",
    "start": "373120",
    "end": "378960"
  },
  {
    "text": "with these talks is to make sure at least people understand what we mean by what is a restful api and what is not",
    "start": "378960",
    "end": "385039"
  },
  {
    "text": "there is no intrinsic value judgment in whether rest is the right thing for you for your team for your company for what",
    "start": "385039",
    "end": "392080"
  },
  {
    "text": "you are trying to achieve your customers but if we don't understand the distinction between restful systems and",
    "start": "392080",
    "end": "398800"
  },
  {
    "text": "other systems you can't have a informed discussion about it you can't make an informed decision about it",
    "start": "398800",
    "end": "404960"
  },
  {
    "text": "very quick recap this is roy roy fielding um roy fielding",
    "start": "404960",
    "end": "410160"
  },
  {
    "text": "was at cern roy fielding worked on the http 1.1 spec roy fielding worked on",
    "start": "410160",
    "end": "416720"
  },
  {
    "text": "the original httpd and apache web servers he's now the chief scientist at adobe",
    "start": "416720",
    "end": "422960"
  },
  {
    "text": "and rest was a architectural style that was published",
    "start": "422960",
    "end": "428400"
  },
  {
    "text": "in his phd thesis as phd thesis theses thesis go it is",
    "start": "428400",
    "end": "435520"
  },
  {
    "text": "actually very readable it's on his website i thoroughly recommend if you're interested in understanding where these",
    "start": "435520",
    "end": "441599"
  },
  {
    "text": "ideas came from and the kind of rationale and the thinking behind them check it out read it it's good there's",
    "start": "441599",
    "end": "447840"
  },
  {
    "text": "some really really good stuff good reasoning good examples good discussion in there and what he basically says is",
    "start": "447840",
    "end": "454960"
  },
  {
    "text": "this when given a name a coordinated set of architectural constraints becomes a style roy fielding's thinking was very",
    "start": "454960",
    "end": "461919"
  },
  {
    "text": "heavily informed by architecture in the sense of construction buildings you know walking",
    "start": "461919",
    "end": "467120"
  },
  {
    "text": "around downtown sydney yesterday there is some astonishing wonderful architecture here and in architecture we",
    "start": "467120",
    "end": "474080"
  },
  {
    "text": "have styles you have rococo you have barack you have brutalism you have classical you have all these things and",
    "start": "474080",
    "end": "480720"
  },
  {
    "text": "they are not tools and they are not frameworks and they are not plugins and they are not modules they are styles it",
    "start": "480720",
    "end": "487360"
  },
  {
    "text": "is a a set of patterns for thinking about how to solve certain recurring problems",
    "start": "487360",
    "end": "494080"
  },
  {
    "text": "rest is not something that you download and install from npm or nougat rest is a way of thinking about how the systems",
    "start": "494080",
    "end": "501520"
  },
  {
    "text": "you are building are going to evolve over time and this is one of the key things to bear in mind about it",
    "start": "501520",
    "end": "507680"
  },
  {
    "text": "this is a direct quote from the person who coined rest and he says rest is software design on a scale of decades",
    "start": "507680",
    "end": "514959"
  },
  {
    "text": "every detail is intended to promote software longevity and independent evolution many of the constraints are",
    "start": "514959",
    "end": "521760"
  },
  {
    "text": "directly opposed to short-term efficiency if you are in a hurry",
    "start": "521760",
    "end": "526959"
  },
  {
    "text": "if you are trying to ship version one before you run out of funding if you are trying to hit a deadline if you are",
    "start": "526959",
    "end": "532880"
  },
  {
    "text": "trying to fix an urgent problem that is happening in production you should probably not be trying to",
    "start": "532880",
    "end": "538320"
  },
  {
    "text": "build a restful system those are not the situations where rest is the right answer to your problem",
    "start": "538320",
    "end": "544640"
  },
  {
    "text": "the other thing about this it's on a scale of decades roy fielding published his phd thesis 15 years ago we have not",
    "start": "544640",
    "end": "550800"
  },
  {
    "text": "had decades yet we've had one and a half decades that's not long enough really to",
    "start": "550800",
    "end": "556480"
  },
  {
    "text": "know whether he was right but there is a lot of thinking that suggests",
    "start": "556480",
    "end": "561760"
  },
  {
    "text": "that many of the patterns that he outlined are actually they are good ways of building flexible software which can",
    "start": "561760",
    "end": "569040"
  },
  {
    "text": "evolve over a long long period of time you know we are rest is about trying to",
    "start": "569040",
    "end": "574240"
  },
  {
    "text": "design systems which will run for decades you know anyone here actually got code there running that's more than",
    "start": "574240",
    "end": "579360"
  },
  {
    "text": "10 years old i know i do go classic asp the framework that never dies",
    "start": "579360",
    "end": "586720"
  },
  {
    "text": "but you know it is it's this interesting think about what it is that you're doing what is the value you're trying to",
    "start": "586720",
    "end": "592080"
  },
  {
    "text": "deliver you're trying to delight a customer are you trying to hit a deadline are you trying to comply with some new legislation",
    "start": "592080",
    "end": "597360"
  },
  {
    "text": "and if those requirements genuinely inform building a system which you want to be able to evolve over not",
    "start": "597360",
    "end": "603200"
  },
  {
    "text": "necessarily decades but you know years then it's worth really understanding taking the time to understand these",
    "start": "603200",
    "end": "608560"
  },
  {
    "text": "patterns and then making an informed decision as to whether they are the right patterns for what you are trying to do",
    "start": "608560",
    "end": "615519"
  },
  {
    "text": "rest outlines a set of constraints around how software systems are built",
    "start": "616320",
    "end": "621839"
  },
  {
    "text": "it's interesting to note that rest does not say you must use http it doesn't say",
    "start": "621839",
    "end": "627279"
  },
  {
    "text": "you must use xml it doesn't say you must use json it defines a set of patterns for",
    "start": "627279",
    "end": "632560"
  },
  {
    "text": "communications between a client and a server and a ways of facilitating those",
    "start": "632560",
    "end": "638640"
  },
  {
    "text": "interactions in those conversations client server should not be terribly surprising to anybody in this room you",
    "start": "638640",
    "end": "644720"
  },
  {
    "text": "have a client or lots of clients we've probably all got them in our pockets these things the clients some of these things are servers as well because",
    "start": "644720",
    "end": "650640"
  },
  {
    "text": "they're getting quite clever now but you have a server which has centralized data logic behavior rules",
    "start": "650640",
    "end": "656320"
  },
  {
    "text": "information you have a bunch of clients connecting to it this helps in a lot of ways if you need to fix something you",
    "start": "656320",
    "end": "661440"
  },
  {
    "text": "don't need to mail out cds like everyone had to in the 1980s you just go bang we've deployed a new release to our",
    "start": "661440",
    "end": "667279"
  },
  {
    "text": "server now all of our customers got the benefit of that new release statelessness is one of the key tenets",
    "start": "667279",
    "end": "674640"
  },
  {
    "text": "of being able to scale systems easily it's also one of the things that everybody",
    "start": "674640",
    "end": "680160"
  },
  {
    "text": "kind of got wrong almost as soon as the web was invented has anyone been through the process of taking something like",
    "start": "680160",
    "end": "686160"
  },
  {
    "text": "asp.net or php and try to put it behind a load balancer and suddenly you realize",
    "start": "686160",
    "end": "691200"
  },
  {
    "text": "that things are breaking because your code uses something called session yeah so",
    "start": "691200",
    "end": "697120"
  },
  {
    "text": "http comes along and rest is a set of stars on top and they're like oh don't don't have state you know every",
    "start": "697120",
    "end": "702640"
  },
  {
    "text": "conversation between a client and a server should be an atomic transaction the client should say this is me here",
    "start": "702640",
    "end": "709040"
  },
  {
    "text": "are my credentials here is all of the information that i need to give to you and the server",
    "start": "709040",
    "end": "715200"
  },
  {
    "text": "the http server in this context should be able to say okay we can deal with that the second during introduced",
    "start": "715200",
    "end": "721279"
  },
  {
    "text": "session you're relying on your web server to remember who was here a minute ago you've got all these little half-finished conversations and",
    "start": "721279",
    "end": "727519"
  },
  {
    "text": "half-baked transactions hanging around in memory one you could do better things with that memory",
    "start": "727519",
    "end": "733200"
  },
  {
    "text": "two you don't know whether anyone is ever going to come back and finish those conversations so you have to think well",
    "start": "733200",
    "end": "738560"
  },
  {
    "text": "do i want my session timeout to be set to an hour do i want my session timeout set to five minutes and three if one of",
    "start": "738560",
    "end": "744000"
  },
  {
    "text": "your servers in your farm dies you need to bounce someone onto another one it's gonna die because all of that state has",
    "start": "744000",
    "end": "749200"
  },
  {
    "text": "disappeared with the server that has just gone down so try and avoid state you know if you",
    "start": "749200",
    "end": "754560"
  },
  {
    "text": "have session your system's not restful might be a perfectly good system you know it might be the right solution to",
    "start": "754560",
    "end": "760639"
  },
  {
    "text": "your problem but it's not restful cachable cache ability is is particularly",
    "start": "760639",
    "end": "767120"
  },
  {
    "text": "relevant out here in australia where there are four fiber optic cables connecting us to the rest of the world",
    "start": "767120",
    "end": "773519"
  },
  {
    "text": "in a perfect world when they release a new version of jquery that will get downloaded to",
    "start": "773519",
    "end": "778800"
  },
  {
    "text": "australia once and then will be cached locally and everyone else in the entire nation of",
    "start": "778800",
    "end": "785040"
  },
  {
    "text": "australia who needs jquery 2.1 will get the same one instead of reusing the very",
    "start": "785040",
    "end": "791600"
  },
  {
    "text": "valuable contended bandwidth cache ability there's basically two ways of caching that matter in restful systems",
    "start": "791600",
    "end": "799519"
  },
  {
    "text": "infinite and never optimize for infinity when you put a resource on the web",
    "start": "799519",
    "end": "806240"
  },
  {
    "text": "try if you possibly can to make sure that anyone who's ever seen that resource that url before",
    "start": "806240",
    "end": "812000"
  },
  {
    "text": "can use the version they got last week or last year or the version that someone else got that their isp is caching or",
    "start": "812000",
    "end": "817519"
  },
  {
    "text": "their cellular data provider is caching when you start thinking about it in terms of you know cache for three hours",
    "start": "817519",
    "end": "823600"
  },
  {
    "text": "six hours no no think about it never in infinity and optimize for infinity it really starts to inform the way you",
    "start": "823600",
    "end": "829440"
  },
  {
    "text": "think about the information you're presenting how you structure your urls",
    "start": "829440",
    "end": "834560"
  },
  {
    "text": "layered system goes very very closely hand in hand with cachability it's the idea you have a client a server",
    "start": "834560",
    "end": "840800"
  },
  {
    "text": "and actually the client doesn't care whether it's talking to the server or it's talking to a proxy that's talking",
    "start": "840800",
    "end": "846000"
  },
  {
    "text": "to a load balancer that's talking to a server or it's talking to a proxy that's talking to something else it's talking",
    "start": "846000",
    "end": "851199"
  },
  {
    "text": "to a vpn that's talking to a file at every level any element in that stack should talk to the thing above and the",
    "start": "851199",
    "end": "857120"
  },
  {
    "text": "thing below and it shouldn't care what's hidden behind those this allows you to do things like",
    "start": "857120",
    "end": "863040"
  },
  {
    "text": "so a good example of this is using reverse proxies on things like your build pipeline when you're downloading",
    "start": "863040",
    "end": "868880"
  },
  {
    "text": "packages from nuget or from npm stick a proxy in front of it and then if you've ever downloaded anything you'll have a",
    "start": "868880",
    "end": "874399"
  },
  {
    "text": "local copy of it nuget doesn't need to know that that's happened your build server doesn't need to know that that's happened the upstream servers have no",
    "start": "874399",
    "end": "881120"
  },
  {
    "text": "idea that you're caching stuff because each of these layers provides an abstraction between the relying system",
    "start": "881120",
    "end": "886560"
  },
  {
    "text": "and the providing system the server code on demand is the ability to say the",
    "start": "886560",
    "end": "892320"
  },
  {
    "text": "servers i got a whole bunch of stuff i got logic i've got data i've got behavior",
    "start": "892320",
    "end": "897360"
  },
  {
    "text": "i'm assuming most of you are in scott hanselman's keynote this morning where he's talking about you know this idea you've got 10 vms running in a cluster",
    "start": "897360",
    "end": "903680"
  },
  {
    "text": "and you've got 1000 users now actually now you have 1010 machines involved in your infrastructure because",
    "start": "903680",
    "end": "910320"
  },
  {
    "text": "all of your clients have got machines of their own which have computing power they have memory they have storage they",
    "start": "910320",
    "end": "916639"
  },
  {
    "text": "have capability code on demand is what makes this happen code on demand is why gmail kicked hotmail's ass so",
    "start": "916639",
    "end": "923360"
  },
  {
    "text": "resoundingly because gmail came along and they're like actually we are not going to round trip every mouse click",
    "start": "923360",
    "end": "928720"
  },
  {
    "text": "back to our server and send it back again we're going to run your mail system on your computer and we're only going to talk to the server when we",
    "start": "928720",
    "end": "934560"
  },
  {
    "text": "actually need some information we're not going to just use it as part of navigation and that you know code on demand is just",
    "start": "934560",
    "end": "940959"
  },
  {
    "text": "javascript and the assembly language of the web this thing has taken off massively in terms of browser experiences",
    "start": "940959",
    "end": "948079"
  },
  {
    "text": "there's not so much yet in terms of apis you know most people are still quite wary of getting arbitrary code on an api",
    "start": "948079",
    "end": "954240"
  },
  {
    "text": "response and then running it um have you ever i was installing homebrew on my mac yesterday and it's like paste",
    "start": "954240",
    "end": "960160"
  },
  {
    "text": "this shell script into an administrator terminal window and i'm like uh no",
    "start": "960160",
    "end": "965839"
  },
  {
    "text": "i'm not entirely sure i want to do that so you go and you dig the bits around so there are elements of trust and there's",
    "start": "965839",
    "end": "971040"
  },
  {
    "text": "some security patterns we're going to look at later which facilitate these kinds of interactions",
    "start": "971040",
    "end": "976240"
  },
  {
    "text": "uniform interface anything you can do over http as an example of this",
    "start": "976240",
    "end": "982399"
  },
  {
    "text": "is done using the same thing you have a verb get put post options head patch",
    "start": "982399",
    "end": "988399"
  },
  {
    "text": "you have a content type you have a bunch of headers you have a payload body request body response",
    "start": "988399",
    "end": "994720"
  },
  {
    "text": "it's the same for all of them if you want to interact with a png or a piece of video or something you do not need to",
    "start": "994720",
    "end": "1000399"
  },
  {
    "text": "switch to a different protocol on a different set of conventions the same interface is used to interact with",
    "start": "1000399",
    "end": "1005680"
  },
  {
    "text": "different media types being provided by different systems it's one of the reasons the web works you know one of the reasons why the web is better than",
    "start": "1005680",
    "end": "1012079"
  },
  {
    "text": "you had the aol client to get on the aol network to talk to other aol users and if you wanted to talk to someone on compuserve you couldn't because they",
    "start": "1012079",
    "end": "1018160"
  },
  {
    "text": "were all these little walled gardens and finally the one which we're basically talking about for the rest of the day hypermedia is the engine of",
    "start": "1018160",
    "end": "1024319"
  },
  {
    "text": "application state which i'm not going to explain now we're going to talk about that in depth",
    "start": "1024319",
    "end": "1030240"
  },
  {
    "text": "this bit is optional in the thesis in which rest is described he",
    "start": "1030559",
    "end": "1036640"
  },
  {
    "text": "explicitly says code on demand's optional you know that bit you can do it or you cannot do it",
    "start": "1036640",
    "end": "1041760"
  },
  {
    "text": "all of the rest of them that's what rest is if your system has these problems and it",
    "start": "1041760",
    "end": "1048640"
  },
  {
    "text": "embraces these patterns and principles in order to solve them you can legitimately say that you have a restful",
    "start": "1048640",
    "end": "1054160"
  },
  {
    "text": "system you don't necessarily need all of them you may have very very small systems where actually there's very",
    "start": "1054160",
    "end": "1059200"
  },
  {
    "text": "little notion of application state and so you haven't got hyper media yet but as your system grows and you start",
    "start": "1059200",
    "end": "1065200"
  },
  {
    "text": "encountering the problems that we're going to look at today if hypermedia is the solution you adopt",
    "start": "1065200",
    "end": "1070559"
  },
  {
    "text": "then you're restful if hypermedia you decide is too complicated then you're not restful it doesn't matter you might",
    "start": "1070559",
    "end": "1076000"
  },
  {
    "text": "still be fine system might work you know ship it everyone gets paid customers are delighted rest is not magic it's just one more way",
    "start": "1076000",
    "end": "1082799"
  },
  {
    "text": "of doing things and the more we understand about it the better informed decisions we can make about whether it's the right solution for what we're doing",
    "start": "1082799",
    "end": "1090400"
  },
  {
    "text": "so we're going to build a social network and we're going to build a social network for superheroes because all the",
    "start": "1090400",
    "end": "1096240"
  },
  {
    "text": "social networks that we've got at the moment are all based on the idea of people having friends i want to build a social network where you can have",
    "start": "1096240",
    "end": "1101600"
  },
  {
    "text": "enemies so you can you know assign people and you can have battles and then we can sell the film rights for billions",
    "start": "1101600",
    "end": "1106799"
  },
  {
    "text": "of dollars because you know you think software's big bucks look at what marvel are doing in hollywood right now",
    "start": "1106799",
    "end": "1112160"
  },
  {
    "text": "so and we're not interested in front-end stuff we're just building a back-end we're going to build a persistent system we're going to put an api in front of it",
    "start": "1112160",
    "end": "1118480"
  },
  {
    "text": "and we're going to publish our api specification and the world is going to come knocking flocking to our doorstep",
    "start": "1118480",
    "end": "1123600"
  },
  {
    "text": "and is going to embrace our social network and we're going to start with this",
    "start": "1123600",
    "end": "1129600"
  },
  {
    "text": "we're going to start with a end point a resource called profiles this is a collection of profiles because",
    "start": "1129600",
    "end": "1135840"
  },
  {
    "text": "you've got to have profiles because it's a social network and we are going to seed it with some test data and the first person in our",
    "start": "1135840",
    "end": "1141919"
  },
  {
    "text": "network is going to be tony stark who has chosen the username ironman for obvious reasons",
    "start": "1141919",
    "end": "1149120"
  },
  {
    "text": "we've got some data at this point we've got a pretty good restful solution to an incredibly small problem that",
    "start": "1149120",
    "end": "1155120"
  },
  {
    "text": "isn't actually very interesting so let's extend it a little bit let's create a way that people can join our social",
    "start": "1155120",
    "end": "1160400"
  },
  {
    "text": "network by posting their own data to our endpoint so now we've got post slash profiles",
    "start": "1160400",
    "end": "1168080"
  },
  {
    "text": "hands up anyone who has ever argued with that team for more than say four hours",
    "start": "1168080",
    "end": "1173440"
  },
  {
    "text": "about what http post actually means",
    "start": "1173440",
    "end": "1178480"
  },
  {
    "text": "the rest of the verbs are pretty simple yep get me that put replace that with this uh delete remove that post is",
    "start": "1178480",
    "end": "1185600"
  },
  {
    "text": "complicated because post can have side effects posts can be used for things which are not idempotent things that it",
    "start": "1185600",
    "end": "1191120"
  },
  {
    "text": "might be safe to do once and dangerous to do twice and so there's a lot of specific validation and semantics about the way",
    "start": "1191120",
    "end": "1197440"
  },
  {
    "text": "you implement post so all we've got here is we've got an endpoint that you take some data you wrap it up as json post it",
    "start": "1197440",
    "end": "1204559"
  },
  {
    "text": "to that endpoint and it's going to give you back bang 201 created",
    "start": "1204559",
    "end": "1209600"
  },
  {
    "text": "and it's going to say location there so what this is effectively said you're giving me some data i've accepted it i",
    "start": "1209600",
    "end": "1216480"
  },
  {
    "text": "have created a resource for you here is where you can find that resource and then as a convenience we're actually",
    "start": "1216480",
    "end": "1222559"
  },
  {
    "text": "going to include the resource that was just created in the payload and the response to save you having to do a round trip",
    "start": "1222559",
    "end": "1229280"
  },
  {
    "text": "and this is brilliant you know iron man goes and tells all his mates about it and spider-man tells all his mates about it and we get up in the morning and two",
    "start": "1229280",
    "end": "1236559"
  },
  {
    "text": "million people have joined our social network by posting their own stuff in jason we've got everyone down as far as howard the duck you know we've got",
    "start": "1236559",
    "end": "1243200"
  },
  {
    "text": "obscure superheroes no one's ever heard of from that one comic book special edition in 1962.",
    "start": "1243200",
    "end": "1249440"
  },
  {
    "text": "and then the phone rings and it's the network team and they're like your api is using all of our",
    "start": "1249440",
    "end": "1255679"
  },
  {
    "text": "bandwidth we're doing fine yesterday and now the entire continent of australia can't get online because your api is",
    "start": "1255679",
    "end": "1261440"
  },
  {
    "text": "consuming all of it and someone else says your stupid api is overloading our database",
    "start": "1261440",
    "end": "1267600"
  },
  {
    "text": "the reason this is happening is because we've got a resource called profiles and when there was one person in that list",
    "start": "1267600",
    "end": "1273360"
  },
  {
    "text": "you could get it and it was fine two three four five people two million people every time anyone",
    "start": "1273360",
    "end": "1279039"
  },
  {
    "text": "goes get profiles they are retrieving two million records every time they do it",
    "start": "1279039",
    "end": "1285200"
  },
  {
    "text": "this is clearly not a terribly good idea because it is going to clobber the bandwidth it's going to club a database",
    "start": "1285200",
    "end": "1290720"
  },
  {
    "text": "it's going to waste an awful lot of resources we want a more elegant solution to this so someone comes up with a bright idea hey why don't we why",
    "start": "1290720",
    "end": "1296480"
  },
  {
    "text": "don't we just do pagination so we'll split it down into pages and we'll have page one page two page three and we think yeah brilliant you know",
    "start": "1296480",
    "end": "1302559"
  },
  {
    "text": "nice idea okay so get profiles page one bang there's some stuff",
    "start": "1302559",
    "end": "1308960"
  },
  {
    "text": "and if you need more than that you can go in and you can go okay get me page two page three page four page five",
    "start": "1308960",
    "end": "1315520"
  },
  {
    "text": "this looks pretty simple you know it's easy to understand at this point we have stopped being",
    "start": "1315520",
    "end": "1321679"
  },
  {
    "text": "restful it works but it's not rest the reason it is not rest is that at this point that",
    "start": "1321679",
    "end": "1329520"
  },
  {
    "text": "knowledge that understanding that page number starts at one and goes two three four five that's state",
    "start": "1329520",
    "end": "1335679"
  },
  {
    "text": "that's understanding the transitions that are available from a particular point in our application",
    "start": "1335679",
    "end": "1341280"
  },
  {
    "text": "and we have not defined anywhere within our resources how that state exists to",
    "start": "1341280",
    "end": "1347039"
  },
  {
    "text": "know that we support page one two three four five you're gonna have to look on the wiki or read the manual or",
    "start": "1347039",
    "end": "1352799"
  },
  {
    "text": "file a support ticket or something and we don't want that because we want our api itself to be",
    "start": "1352799",
    "end": "1359360"
  },
  {
    "text": "explorable so",
    "start": "1359360",
    "end": "1364158"
  },
  {
    "text": "anyone recognize these one person two people three people four",
    "start": "1365919",
    "end": "1371120"
  },
  {
    "text": "five six i grew up on these these are choose your own adventure books these are brilliant so you open page one and it outlines the",
    "start": "1371120",
    "end": "1378080"
  },
  {
    "text": "scenario and then yeah so let's let's actually have a look so here's an example so this is the ndc sydney choose your",
    "start": "1378080",
    "end": "1384559"
  },
  {
    "text": "own adventure it's tuesday night you've just arrived in sydney you've been traveling for 29 straight hours and your brain thinks",
    "start": "1384559",
    "end": "1391120"
  },
  {
    "text": "it's half past breakfast time yesterday you should probably get some sleep but there's talk of heading downtown to",
    "start": "1391120",
    "end": "1397039"
  },
  {
    "text": "scruffy murphy's for drinks and niall is going on about this amazing whiskey bar he found down some dodgy",
    "start": "1397039",
    "end": "1402559"
  },
  {
    "text": "back alley and now we have to make a choice to go to our room and take a nap turn to",
    "start": "1402559",
    "end": "1407919"
  },
  {
    "text": "page 74 to go to scruffy murphy's for a beer page 23 and if you want to go and drink",
    "start": "1407919",
    "end": "1413440"
  },
  {
    "text": "single malt with nile until your visa card stops working go to page 41. so control hands who's going for a nap",
    "start": "1413440",
    "end": "1421200"
  },
  {
    "text": "scruffy murphy's whiskey bar good choice",
    "start": "1421200",
    "end": "1427679"
  },
  {
    "text": "this is a really great example of of hyper media because what we've got here is we have a resource representation",
    "start": "1427679",
    "end": "1433919"
  },
  {
    "text": "in a format that the consumer can understand and attach to that resource representation we have all the",
    "start": "1433919",
    "end": "1439760"
  },
  {
    "text": "information we need to understand what can we do from here what are the options",
    "start": "1439760",
    "end": "1444880"
  },
  {
    "text": "where can we go what avenues of exploration are open to us having retrieved this resource",
    "start": "1444880",
    "end": "1451919"
  },
  {
    "text": "so let's go back to our endpoint our profiles endpoint and let's instead of using page one two three four",
    "start": "1451919",
    "end": "1458480"
  },
  {
    "text": "let's actually put some hypermedia representation in now this particular example you'll notice",
    "start": "1458480",
    "end": "1465120"
  },
  {
    "text": "the bits in yellow are effectively the things that have changed so one our content type is not json anymore it's",
    "start": "1465120",
    "end": "1471039"
  },
  {
    "text": "hal plus json the way content types work the application bit is standard you can",
    "start": "1471039",
    "end": "1476400"
  },
  {
    "text": "put anything you like before the plus the bit after the plus is standard so what we're doing here is we're saying we're going to extend the basic json",
    "start": "1476400",
    "end": "1482880"
  },
  {
    "text": "data type with something called hal media application language which is one of several javascript multimedia uh",
    "start": "1482880",
    "end": "1490000"
  },
  {
    "text": "hyper media formats that we'll look at in a second i like hal because it's quite compact and it's human readable and for these",
    "start": "1490000",
    "end": "1497279"
  },
  {
    "text": "kind of examples it's succinct and it's nice it works well so what hal does is it says okay",
    "start": "1497279",
    "end": "1504400"
  },
  {
    "text": "we are going to one the data itself we're going to wrap up in a collection here called items",
    "start": "1504400",
    "end": "1509760"
  },
  {
    "text": "and we are going to add a collection called links anything in these examples with an underscore as part of the house specification",
    "start": "1509760",
    "end": "1515440"
  },
  {
    "text": "anything else is my own stuff things that we've added to demonstrate how this works so now when we get slash profiles",
    "start": "1515440",
    "end": "1522320"
  },
  {
    "text": "we get this little payload that says okay here's where you can go from here we've got a self link if you want the same thing again this is the url you go",
    "start": "1522320",
    "end": "1529520"
  },
  {
    "text": "to the next page is available here the last page we have this wonderful",
    "start": "1529520",
    "end": "1535200"
  },
  {
    "text": "hashing problem in english the word last can either mean like the one before this one or it can mean the last one in the",
    "start": "1535200",
    "end": "1541360"
  },
  {
    "text": "list so i should have fixed this what i tend to do is i use previous and i use final",
    "start": "1541360",
    "end": "1547279"
  },
  {
    "text": "in system so that we avoid the word last completely so we basically said so the final page",
    "start": "1547279",
    "end": "1553919"
  },
  {
    "text": "here is is index 220 there are five items in this list your list is index 0 in a collection of 223",
    "start": "1553919",
    "end": "1560960"
  },
  {
    "text": "and here's the stuff you wanted and this is pretty cool it's easy it's",
    "start": "1560960",
    "end": "1567200"
  },
  {
    "text": "readable you can look at that and you or more correctly your api client can go",
    "start": "1567200",
    "end": "1572240"
  },
  {
    "text": "all right let's open the links collection and see if next exists if it does we know we're not at the end when",
    "start": "1572240",
    "end": "1577600"
  },
  {
    "text": "we get to the end of the list next we'll come back as it won't even be there okay fine we've got the entire list",
    "start": "1577600",
    "end": "1583360"
  },
  {
    "text": "whether we're storing that locally or caching it or we're just showing it in some kind of a data grid or something kind of doesn't matter",
    "start": "1583360",
    "end": "1590480"
  },
  {
    "text": "so that's the first example of using hypermedia to inform clients how they can interact",
    "start": "1590480",
    "end": "1596000"
  },
  {
    "text": "with the system we've got now the nice thing one of the reasons why hypermedia gives you this flexibility the client does not have to",
    "start": "1596000",
    "end": "1603279"
  },
  {
    "text": "know that we are doing page one two three or index zero five ten if we decide that actually we're gonna start",
    "start": "1603279",
    "end": "1609440"
  },
  {
    "text": "doing things alphabetically the client all the client needs to know is to go into the links collection find next and",
    "start": "1609440",
    "end": "1616559"
  },
  {
    "text": "retrieve whatever that is next is a convention that's part of our system lynx is a convention that's part",
    "start": "1616559",
    "end": "1623120"
  },
  {
    "text": "of hal href is a convention that's part of how hypermedia json works but the url itself",
    "start": "1623120",
    "end": "1628559"
  },
  {
    "text": "the client should not know it should not care it should retrieve it it should follow it it should request the next one",
    "start": "1628559",
    "end": "1634159"
  },
  {
    "text": "we can switch to doing pagination alphabetically we can switch to doing it by which shard in our cluster that",
    "start": "1634159",
    "end": "1641120"
  },
  {
    "text": "indexes are stored on we can do all sorts of things with it without breaking the client application because the",
    "start": "1641120",
    "end": "1646399"
  },
  {
    "text": "client is following those links instead of having some hard baked behavior that someone wrote after reading about it on",
    "start": "1646399",
    "end": "1652080"
  },
  {
    "text": "a wiki so social network let's start with friends",
    "start": "1652080",
    "end": "1658480"
  },
  {
    "text": "we can we can look at adding enemies later so we've added we got a username we've got",
    "start": "1658480",
    "end": "1663679"
  },
  {
    "text": "name we're going to add friends to it we've got username we got username we got username we've got collections of",
    "start": "1663679",
    "end": "1668799"
  },
  {
    "text": "friends and because this is a social network and you want to be able to stalk people and see what they're doing we're going to",
    "start": "1668799",
    "end": "1674320"
  },
  {
    "text": "add updates so tony stark has gone on and he said hey i'm working on a new iron man suit",
    "start": "1674320",
    "end": "1679919"
  },
  {
    "text": "and then a little while later he has this brilliant idea he's going to build an iron man suit with a selfie stick on it so he can take photographs of himself",
    "start": "1679919",
    "end": "1686480"
  },
  {
    "text": "out saving the world and then a little while later he says oh no the selfie stick broke oh well",
    "start": "1686480",
    "end": "1691679"
  },
  {
    "text": "back to the drawing board so we got friends and we got updates but of course the friends can have updates",
    "start": "1691679",
    "end": "1698240"
  },
  {
    "text": "and the friends can have friends and the friends friends can have updates",
    "start": "1698240",
    "end": "1703440"
  },
  {
    "text": "this by the way is what they call big data this is when the json won't fit on a powerpoint slide anymore",
    "start": "1703440",
    "end": "1710159"
  },
  {
    "text": "we have a problem because the phone is about to ring again or you know something's going to pop up on hip chat or or slack",
    "start": "1710159",
    "end": "1716559"
  },
  {
    "text": "and someone is going to say your stupid api is using all of our bandwidth again and someone's going to say your api is",
    "start": "1716559",
    "end": "1721919"
  },
  {
    "text": "overloading the database again i told you we should have stuck to php we never had these problems with php",
    "start": "1721919",
    "end": "1728720"
  },
  {
    "text": "what we've basically done is we've built a degenerate system because when you request one person",
    "start": "1728720",
    "end": "1734960"
  },
  {
    "text": "it's going to bring you back all their friends and all their updates and all their friends friends and all their friends friends friends and so there is",
    "start": "1734960",
    "end": "1740880"
  },
  {
    "text": "no way to say please get me one profile and please do not bring back the entire connected graph for this whole social",
    "start": "1740880",
    "end": "1746880"
  },
  {
    "text": "network so what we want to do is to break the",
    "start": "1746880",
    "end": "1753200"
  },
  {
    "text": "resource down instead of this huge tree that you start at the top and you get the whole thing you know it's everything",
    "start": "1753200",
    "end": "1758799"
  },
  {
    "text": "or burst we're going to use the same hypermedia principle to break this profile down",
    "start": "1758799",
    "end": "1763840"
  },
  {
    "text": "into lots of little granular bits of data so same thing hal json we're getting",
    "start": "1763840",
    "end": "1769760"
  },
  {
    "text": "iron man's profile links we've got self we got friends we got photos we got updates",
    "start": "1769760",
    "end": "1775440"
  },
  {
    "text": "so we can retrieve this and again we have an api client that goes in there we need to tell it this is",
    "start": "1775440",
    "end": "1781840"
  },
  {
    "text": "friends this is photos this is updates those things ideally won't change it's part of the contract between our server",
    "start": "1781840",
    "end": "1787360"
  },
  {
    "text": "and our consumers but the url formats don't matter we can move friends onto a whole separate infrastructure we can do",
    "start": "1787360",
    "end": "1793679"
  },
  {
    "text": "the rest on aws and friends on azure if we want to because the client just knows how to follow the urls and it doesn't",
    "start": "1793679",
    "end": "1799440"
  },
  {
    "text": "care what those urls are because that's the backbone of this kind of hypermedia stuff",
    "start": "1799440",
    "end": "1805840"
  },
  {
    "text": "and this looks pretty cool and so now someone's building an api client and they go yeah profiles brilliant",
    "start": "1805840",
    "end": "1812320"
  },
  {
    "text": "okay let's get friends okay let's get updates okay let's get photos oh yeah let's get photo number",
    "start": "1812320",
    "end": "1818320"
  },
  {
    "text": "one two three four oh photo one two three four's got some comments let's get those let's get photo one three four five oh",
    "start": "1818320",
    "end": "1824880"
  },
  {
    "text": "and that one's got some comments let's go photo one four five six",
    "start": "1824880",
    "end": "1830799"
  },
  {
    "text": "and then this happens the phone rings again or slack or hip chat or twitter or skype",
    "start": "1832159",
    "end": "1837600"
  },
  {
    "text": "and so i was like dude your api is crazy i just want to draw a profile i've got to make like 50 calls",
    "start": "1837600",
    "end": "1842640"
  },
  {
    "text": "and then your ops team ring up and they're like our web server just crashed because the iis logs have filled up the c drive",
    "start": "1842640",
    "end": "1850120"
  },
  {
    "text": "you ever had this happen in production yeah something that used to be one http",
    "start": "1850799",
    "end": "1856320"
  },
  {
    "text": "request is now 50 requests and every one of those requests is going to write something to see inet pub log files and",
    "start": "1856320",
    "end": "1863200"
  },
  {
    "text": "they were like well of course we put all the applications on the d drive but we didn't think we had to move the logs because this never happened before",
    "start": "1863200",
    "end": "1869760"
  },
  {
    "text": "and of course we never had this problem with php so we've gone from massive two gigs of data",
    "start": "1869760",
    "end": "1876720"
  },
  {
    "text": "that is dreadful because every time anyone tries to request anything it overloads the network to tiny little",
    "start": "1876720",
    "end": "1881919"
  },
  {
    "text": "pieces of data that are overloading the network because you have to make like 50 calls in order to do anything",
    "start": "1881919",
    "end": "1888320"
  },
  {
    "text": "this is one of the absolute key things where rest doesn't make a whole lot of sense until you know what words to",
    "start": "1889039",
    "end": "1894480"
  },
  {
    "text": "google and the magic words to google are resource expansion once you know that that's what you're",
    "start": "1894480",
    "end": "1900080"
  },
  {
    "text": "looking for you will find a wealth of very good information about how to do this if you don't know that",
    "start": "1900080",
    "end": "1906720"
  },
  {
    "text": "particular phrase you can stumble around for ages going rest api too many requests rest api too",
    "start": "1906720",
    "end": "1915360"
  },
  {
    "text": "slow log files and so that that's make a note of that one because that's a really useful kind of",
    "start": "1915360",
    "end": "1920960"
  },
  {
    "text": "shibboleth to know to go and look for more information about this stuff later but what we're effectively doing is something is very",
    "start": "1920960",
    "end": "1927519"
  },
  {
    "text": "analogous to the idea of eager loading if you've ever worked with an orm it's saying i want this but actually i know",
    "start": "1927519",
    "end": "1932960"
  },
  {
    "text": "what page i'm trying to draw or i know what form i'm trying to populate i would like to please get iron man's profile",
    "start": "1932960",
    "end": "1939200"
  },
  {
    "text": "and can you bring back the updates in line bring back those as well and so what we've got",
    "start": "1939200",
    "end": "1945679"
  },
  {
    "text": "this bit is ours we are free to create this resource expansion however we like in a way that works for our clients and",
    "start": "1945679",
    "end": "1951760"
  },
  {
    "text": "our servers and hal basically says okay so we're going to find the thing named updates",
    "start": "1951760",
    "end": "1958240"
  },
  {
    "text": "and then in the embedded payload we are going to stick in a json property called updates",
    "start": "1958240",
    "end": "1963840"
  },
  {
    "text": "which in this case is effectively what we would have got by making a second request only it's going",
    "start": "1963840",
    "end": "1970399"
  },
  {
    "text": "to make it for us and insert it into the embedded thing and you can do some quite sophisticated",
    "start": "1970399",
    "end": "1975519"
  },
  {
    "text": "stuff by supporting dot paths so you can expand updates.friend.username or update.friend.photo",
    "start": "1975519",
    "end": "1981919"
  },
  {
    "text": "you can expand updates comma friends comma photos it may not necessarily work it's very",
    "start": "1981919",
    "end": "1988480"
  },
  {
    "text": "very good to think of this as sort of a hint rather than a guaranteed",
    "start": "1988480",
    "end": "1994559"
  },
  {
    "text": "behavior because at some point you may request so many expanded things that your server",
    "start": "1994559",
    "end": "2000399"
  },
  {
    "text": "you make a conscious decision no if someone asks for all that we're not going to give them what they wanted so one pattern that's useful for",
    "start": "2000399",
    "end": "2006399"
  },
  {
    "text": "implementing this is when you request something cache it locally with the url of the resource remember we're optimizing here",
    "start": "2006399",
    "end": "2012000"
  },
  {
    "text": "for infinite caching so once you've got something stick it in a cache until you run out of memory and if you need that",
    "start": "2012000",
    "end": "2017279"
  },
  {
    "text": "thing again first thing you do is you check your cache that doesn't work you stick it in a resource expansion if",
    "start": "2017279",
    "end": "2022320"
  },
  {
    "text": "after the resource expansion the cache is still empty then you go and you do another request and you actually explicitly fetch that thing so you have",
    "start": "2022320",
    "end": "2028559"
  },
  {
    "text": "this idea of you know trying different layers in your architecture to see whether you have a convenient handy copy",
    "start": "2028559",
    "end": "2035360"
  },
  {
    "text": "of that thing knocking around that you can use um let's quickly talk you through there",
    "start": "2035360",
    "end": "2040480"
  },
  {
    "text": "are about half a dozen different hyper media formats it's one of the the things that",
    "start": "2040480",
    "end": "2046399"
  },
  {
    "text": "when json was sort of first postulated this idea of using javascript as a data format instead of as a programming",
    "start": "2046399",
    "end": "2052079"
  },
  {
    "text": "language one of the things that it doesn't natively have is any notion of hyper media so people have extended the",
    "start": "2052079",
    "end": "2058000"
  },
  {
    "text": "language in various ways i'm going to talk you through these quickly we're not going to go into a lot of detail it's just worth knowing what they are if you",
    "start": "2058000",
    "end": "2063919"
  },
  {
    "text": "want to go away and google this stuff later um jason ld is the",
    "start": "2063919",
    "end": "2070000"
  },
  {
    "text": "web standard one this is a w3c standard that's been ratified",
    "start": "2070000",
    "end": "2075358"
  },
  {
    "text": "json ld is very much read-only it's about navigating collections of data that you're retrieving hydra extends",
    "start": "2075359",
    "end": "2081679"
  },
  {
    "text": "jsonld by telling you interactions and actions that are available on those resources",
    "start": "2081679",
    "end": "2086878"
  },
  {
    "text": "json api is another one which has got a fair bit of traction collection plus json",
    "start": "2086879",
    "end": "2092480"
  },
  {
    "text": "siren hal json ld looks like this so",
    "start": "2092480",
    "end": "2097760"
  },
  {
    "text": "the interesting thing to notice here this is another one of those things that's a bit confusing until you get it these are real urls",
    "start": "2097760",
    "end": "2103280"
  },
  {
    "text": "there is a consortium of people including facebook google microsoft yahoo",
    "start": "2103280",
    "end": "2109359"
  },
  {
    "text": "apple who are basically trying to write a definitive guide to everything of how you represent machine readable",
    "start": "2109359",
    "end": "2116160"
  },
  {
    "text": "data about real things and so what we've got here is",
    "start": "2116160",
    "end": "2122240"
  },
  {
    "text": "if you go there it will actually explain what a name is in the context of json ld and anyone who",
    "start": "2122240",
    "end": "2128960"
  },
  {
    "text": "implements this should use name to mean the same thing so in this context it's this wonderful kind of taxonomic",
    "start": "2128960",
    "end": "2135119"
  },
  {
    "text": "hierarchy the top level has got a thing and then a you know a thing can be a person and a person can be a film",
    "start": "2135119",
    "end": "2140480"
  },
  {
    "text": "director and a film director can be something else and you have this very very rich hierarchy of interactions and",
    "start": "2140480",
    "end": "2146160"
  },
  {
    "text": "behaviors but the point is if you request anything from a json ld endpoint that defines a name and an alternate",
    "start": "2146160",
    "end": "2151839"
  },
  {
    "text": "name you should be able to use those things consistently both in the way you build your applications and in the discussions you can have about them",
    "start": "2151839",
    "end": "2158720"
  },
  {
    "text": "so we've got a thing here which has a name it's got an alternate name and it's got an image and the image has an id and",
    "start": "2158720",
    "end": "2164400"
  },
  {
    "text": "the id has a type and then down here we've said okay so within the context of this person the name is tony stark and",
    "start": "2164400",
    "end": "2170560"
  },
  {
    "text": "if you want to know what that means go and look up here alternate name is iron man and that's a url to an image of this thing",
    "start": "2170560",
    "end": "2178400"
  },
  {
    "text": "once you click that schema.org is not like example.com everything starts making a lot more sense",
    "start": "2178400",
    "end": "2185200"
  },
  {
    "text": "hydra is this legible from the back i'm aware that there's a fat chunk of code on this so i won't dwell on it too long",
    "start": "2185200",
    "end": "2190800"
  },
  {
    "text": "basically hydra extends this by saying okay so there is a supported operation here",
    "start": "2190800",
    "end": "2196240"
  },
  {
    "text": "which um will allow you to it expects a certain schema this is the",
    "start": "2196240",
    "end": "2201760"
  },
  {
    "text": "method it allows these are the status codes you can expect to get back from it and then down here we document the",
    "start": "2201760",
    "end": "2208480"
  },
  {
    "text": "get like the read-only interactions that happen with that collection json semantically fairly",
    "start": "2208480",
    "end": "2215599"
  },
  {
    "text": "similar to hal we got this idea of a version we've got an href for the the resource we've requested we've got a",
    "start": "2215599",
    "end": "2220720"
  },
  {
    "text": "collection of links and then we have a collection of items which sits in the same payload this has an interesting example in that",
    "start": "2220720",
    "end": "2228320"
  },
  {
    "text": "the items themselves contain a nested links collection to show you how you can have hypermedia at the top level but you",
    "start": "2228320",
    "end": "2234000"
  },
  {
    "text": "can also have hypermedia relationships with resources that are embedded in the payload of the thing you've just retrieved",
    "start": "2234000",
    "end": "2241560"
  },
  {
    "text": "json api again similar solution to the same sort of problem we've got the same collection",
    "start": "2242079",
    "end": "2247200"
  },
  {
    "text": "of links self next last and then in here we've got collections of embedded data types including relationships there is",
    "start": "2247200",
    "end": "2254800"
  },
  {
    "text": "some interesting semantics around what things like author and comments mean in the context of this which is worth",
    "start": "2254800",
    "end": "2261119"
  },
  {
    "text": "reading up on if this is a format you want to use siren is another one that allows you to",
    "start": "2261119",
    "end": "2267520"
  },
  {
    "text": "define as well as defining read-only properties you can define actions so what we've got in here is we've got a",
    "start": "2267520",
    "end": "2274240"
  },
  {
    "text": "resource we got here a mission list so we've got one of our superheroes and we want to send them off to do something somewhere pull a bunch of data out",
    "start": "2274240",
    "end": "2281760"
  },
  {
    "text": "and here we've got an action so this is what it's called title is interesting because these are human readable this is",
    "start": "2281760",
    "end": "2287359"
  },
  {
    "text": "designed to be something that you can theoretically render your user interface",
    "start": "2287359",
    "end": "2292720"
  },
  {
    "text": "based entirely on metadata that's been provided in the representation that you've retrieved",
    "start": "2292720",
    "end": "2298560"
  },
  {
    "text": "from the api so we've got a bunch of fields here that you need in order to send iron man off",
    "start": "2298560",
    "end": "2304000"
  },
  {
    "text": "on a mission you've got a type you've got an endpoint href and you've got some human readable commentary going with",
    "start": "2304000",
    "end": "2310160"
  },
  {
    "text": "that like i said there's an awful lot to it some of them are very similar some of",
    "start": "2310160",
    "end": "2315599"
  },
  {
    "text": "them are very different some of them are standard some of them are not if you want to do anything it's worth doing a quick pass over all of them",
    "start": "2315599",
    "end": "2321760"
  },
  {
    "text": "one of the things you'll find is a bit dizzy in particular if you're doing the stuff in dot net is you've got one two three four five different json hyper",
    "start": "2321760",
    "end": "2328560"
  },
  {
    "text": "media formats plus you've got a choice between aspen mvc or web api or nancy or open raster or service deck so to pick",
    "start": "2328560",
    "end": "2335599"
  },
  {
    "text": "the right one you need to look at like 30 35 different combinations of technologies and stuff which is why i love working in it so much there's just",
    "start": "2335599",
    "end": "2342240"
  },
  {
    "text": "so many standards to choose from okay let's enrich our api a little bit so",
    "start": "2342240",
    "end": "2347599"
  },
  {
    "text": "we're going to go back to profile we're going to start adding a whole bunch more data so we can get really really stalky on people",
    "start": "2347599",
    "end": "2353200"
  },
  {
    "text": "so we are going to add height weight location status hometown email website birthday",
    "start": "2353200",
    "end": "2360240"
  },
  {
    "text": "last modified we've got all of this rich information all this this great stuff on there",
    "start": "2360240",
    "end": "2367200"
  },
  {
    "text": "now we want to go in and update it so we're going to use an http put and we are going to put to slash profiles http",
    "start": "2367280",
    "end": "2375359"
  },
  {
    "text": "1.1 that's our content type and we're going to update the status",
    "start": "2375359",
    "end": "2380640"
  },
  {
    "text": "now what we don't know is that iron man's wearing his apple watch and",
    "start": "2380640",
    "end": "2386079"
  },
  {
    "text": "his apple watch is linked into our heroes network and as he's flying home across the atlantic it is constantly",
    "start": "2386079",
    "end": "2392800"
  },
  {
    "text": "updating his location and posting it to our network so by the time he's finished composing this update the location is",
    "start": "2392800",
    "end": "2399359"
  },
  {
    "text": "out of date so when he tries to do that status it's going to say 409 conflict the thing you",
    "start": "2399359",
    "end": "2405359"
  },
  {
    "text": "sent me does not match the thing i've got now this is a problem you'll hit quite",
    "start": "2405359",
    "end": "2411119"
  },
  {
    "text": "often if you are using this idea of just putting a profile put in http says",
    "start": "2411119",
    "end": "2416720"
  },
  {
    "text": "whatever is at this endpoint whether there's something there or not replace the whole thing with this new copy",
    "start": "2416720",
    "end": "2422640"
  },
  {
    "text": "so you have to provide the complete representation of the latest version of that resource",
    "start": "2422640",
    "end": "2427680"
  },
  {
    "text": "and the server will interpret that either it'll just blindly replace it and risk blowing away some data or it'll do",
    "start": "2427680",
    "end": "2433680"
  },
  {
    "text": "some complicated version checking authentication it's up to you how that gets implemented but the signs that you're getting this",
    "start": "2433680",
    "end": "2439920"
  },
  {
    "text": "wrong are that you start getting these kinds of support requests someone's saying why do i need to put the whole profile just to update",
    "start": "2439920",
    "end": "2446000"
  },
  {
    "text": "location you know this is crazy because we're going to add more and more and more fields to this thing and someone else is saying every time i try and do",
    "start": "2446000",
    "end": "2451520"
  },
  {
    "text": "an update i get a four online conflict because i can't actually retrieve update and post back fast enough to keep up",
    "start": "2451520",
    "end": "2458160"
  },
  {
    "text": "with the changes that are being pushed through the system so there is one solution we can apply to",
    "start": "2458160",
    "end": "2463760"
  },
  {
    "text": "this and that's to break our resource down into lots of tiny little endpoints so instead of iron man's profile being a",
    "start": "2463760",
    "end": "2470720"
  },
  {
    "text": "resource we'll say what about if the status element of that profile was a resource and then we could put that on",
    "start": "2470720",
    "end": "2477599"
  },
  {
    "text": "its own so we're going to put to profiles iron man status finished saving the world i",
    "start": "2477599",
    "end": "2482800"
  },
  {
    "text": "need a drink and it's going to say 204 no content which basically means i got this cool sorted fine",
    "start": "2482800",
    "end": "2489200"
  },
  {
    "text": "this works you will very quickly find that you have got dozens of tiny little resource",
    "start": "2489200",
    "end": "2495920"
  },
  {
    "text": "endpoints which are all gettable and portable and then you start getting into all the complicated semantics because now you've",
    "start": "2495920",
    "end": "2501520"
  },
  {
    "text": "got all these different resources you need a way of navigating them so you end up with very very complicated links collections and stuff what we want is a",
    "start": "2501520",
    "end": "2509440"
  },
  {
    "text": "better way of changing one element of a composite resource",
    "start": "2509440",
    "end": "2515359"
  },
  {
    "text": "patch this is from the rfc",
    "start": "2515599",
    "end": "2520640"
  },
  {
    "text": "specification rfc 5789 which tells us how to implement patch",
    "start": "2520640",
    "end": "2526560"
  },
  {
    "text": "except it doesn't it tells us that patch is a way of doing this",
    "start": "2526560",
    "end": "2531839"
  },
  {
    "text": "but it doesn't actually provide very much guidance at all on how you should go about implementing it patch method",
    "start": "2531839",
    "end": "2538079"
  },
  {
    "text": "requests that a set of changes described in a request be applied to the resource the set of changes is represented in a",
    "start": "2538079",
    "end": "2544400"
  },
  {
    "text": "format called a patch document identified by a media type so far so good",
    "start": "2544400",
    "end": "2551079"
  },
  {
    "text": "this is the actual example from the rfc of how you implement it",
    "start": "2552160",
    "end": "2557280"
  },
  {
    "text": "that's what they tell you this is how you how you submit a patch which is great because it means we are free to do this however we like",
    "start": "2557280",
    "end": "2564560"
  },
  {
    "text": "so one completely standard compliant implementation of patch is that we download the profile we update it in our",
    "start": "2564560",
    "end": "2571119"
  },
  {
    "text": "favorite text editor we save it we use the unix diff command to diff the old thing and the new thing and spit out a",
    "start": "2571119",
    "end": "2577040"
  },
  {
    "text": "patch file and then we upload the patch file using patch with this custom content type of",
    "start": "2577040",
    "end": "2584079"
  },
  {
    "text": "application x unix diff we upload the patch and the server goes great i'm going to take that and i'm",
    "start": "2584079",
    "end": "2590079"
  },
  {
    "text": "going to use the patch command to apply it to the resource and and yeah everyone's fine happy 200 okay",
    "start": "2590079",
    "end": "2598078"
  },
  {
    "text": "there are better ways of doing it there is a thing called json patch which is a",
    "start": "2598880",
    "end": "2604160"
  },
  {
    "text": "format for representing a series of changes it also includes some fairly neat stuff around operators so jsonpatch",
    "start": "2604160",
    "end": "2610880"
  },
  {
    "text": "effectively gives you a array so it is an ordered list of operations so in this",
    "start": "2610880",
    "end": "2616400"
  },
  {
    "text": "example what we are saying is first of all we've got an http if match header so we've got something that will",
    "start": "2616400",
    "end": "2623280"
  },
  {
    "text": "generate checksums and make sure that the checksum the client's seen most recently is the same as the one on the server",
    "start": "2623280",
    "end": "2629680"
  },
  {
    "text": "then for a bit of extra resiliency we're going to run an operation called test we are going to go into this",
    "start": "2629680",
    "end": "2636800"
  },
  {
    "text": "profiles iron man which is a json resource and we are going to find the thing which is at last modified",
    "start": "2636800",
    "end": "2643520"
  },
  {
    "text": "in that resource and we are going to test that it is equal to this if it is we are going to proceed to the",
    "start": "2643520",
    "end": "2649599"
  },
  {
    "text": "next operation in the list if it is not we are going to return a 409 conflict and bailout the next thing in the list",
    "start": "2649599",
    "end": "2656000"
  },
  {
    "text": "is a replace operation we're going to find the thing at status and we're going to say finished saving the world i need",
    "start": "2656000",
    "end": "2661760"
  },
  {
    "text": "a drink 200 okay or",
    "start": "2661760",
    "end": "2667440"
  },
  {
    "text": "we could decide that we are going to implement patch using memes of nicholas cage",
    "start": "2667440",
    "end": "2673119"
  },
  {
    "text": "which is completely legitimate there's nothing about this that defies the standard you know we have a thing that",
    "start": "2673359",
    "end": "2678640"
  },
  {
    "text": "if you want us to do something update your record update your email address you have to go to",
    "start": "2678640",
    "end": "2684200"
  },
  {
    "text": "memegenerator.net and put it on a jpeg of nic cage and then you've got to upload that as a nic cage plus png and",
    "start": "2684200",
    "end": "2690480"
  },
  {
    "text": "what we're going to do is we're going to print all those out and stick them on someone's desk and we're going to return 202 accepted",
    "start": "2690480",
    "end": "2696480"
  },
  {
    "text": "which is seriously old school but is still actually standards compliant there was an interesting thing in",
    "start": "2696480",
    "end": "2702880"
  },
  {
    "text": "scott's keynote this morning where he was talking about guys at intel they have to send a fax to provision new",
    "start": "2702880",
    "end": "2708400"
  },
  {
    "text": "virtual machines i was thinking you could actually probably implement rest or restful",
    "start": "2708400",
    "end": "2714079"
  },
  {
    "text": "systems using fax machines as long as you controlled what it was that was written on the facts and what response",
    "start": "2714079",
    "end": "2720160"
  },
  {
    "text": "you could realistically expect because a 202 accepted is a kind of general purpose we are going to deal with this later",
    "start": "2720160",
    "end": "2726720"
  },
  {
    "text": "come back try again or you know we'll notify you or start polling every 10 seconds to see if this thing's ready yet",
    "start": "2726720",
    "end": "2733359"
  },
  {
    "text": "so you could probably implement rest using fax machines i wouldn't recommend it but it'd be fun to try if they can do",
    "start": "2733359",
    "end": "2739920"
  },
  {
    "text": "http over carrier pigeons we can do this so",
    "start": "2739920",
    "end": "2745359"
  },
  {
    "text": "ceo comes down and he's like ah you know someone is is they're looking to buy our network and they need to make a couple",
    "start": "2745359",
    "end": "2751119"
  },
  {
    "text": "of changes to our data format we need to expose full names and surnames separately so that we can index",
    "start": "2751119",
    "end": "2756560"
  },
  {
    "text": "by surname so that they can feed it into their crm system and also they want to replace the hometown with an iso 3166",
    "start": "2756560",
    "end": "2762960"
  },
  {
    "text": "country code so we can do that cool google maps visualization of where all our users are and you know it's friday it's kind of",
    "start": "2762960",
    "end": "2769119"
  },
  {
    "text": "late so we sit down yeah no problem so we just go and we change the json format and we break this up and we break",
    "start": "2769119",
    "end": "2774240"
  },
  {
    "text": "hometown down into a city and a country code and then we push straight to production because it's late and what",
    "start": "2774240",
    "end": "2779920"
  },
  {
    "text": "the hell integration tests are probably all right maybe and then when we log on later we have a",
    "start": "2779920",
    "end": "2785440"
  },
  {
    "text": "string of messages saying hey your api has broken our application and our website's stopped working none of our",
    "start": "2785440",
    "end": "2790720"
  },
  {
    "text": "reports work and you broke the internet oops",
    "start": "2790720",
    "end": "2795839"
  },
  {
    "text": "we did we didn't made a breaking change we changed our format such that the clients that are out there that are expecting",
    "start": "2795839",
    "end": "2802400"
  },
  {
    "text": "name to be one field are suddenly finding a chunk of json the best thing that's going to happen is they're going",
    "start": "2802400",
    "end": "2807440"
  },
  {
    "text": "to just treat that json as a string and suddenly all our customers are going to be called open brackets first name colon tony comma surname colon start close",
    "start": "2807440",
    "end": "2814240"
  },
  {
    "text": "brackets they're more likely to crash catastrophically and they're going to do this on every single resource because",
    "start": "2814240",
    "end": "2819760"
  },
  {
    "text": "we've changed the fundamental kind of root level profile entry",
    "start": "2819760",
    "end": "2825280"
  },
  {
    "text": "so we need a way of being able to make those kinds of changes",
    "start": "2825280",
    "end": "2830640"
  },
  {
    "text": "without disrupting people who are already using them",
    "start": "2830640",
    "end": "2835359"
  },
  {
    "text": "easiest thing to do is never break anything you know just get it all right first time so have a big design meeting and write down all the answers for the",
    "start": "2835760",
    "end": "2842240"
  },
  {
    "text": "next 20 years because rest is software design on a scale of decades",
    "start": "2842240",
    "end": "2847520"
  },
  {
    "text": "you might be able to get away with not breaking anything for a couple of months but seriously if you're building systems",
    "start": "2847520",
    "end": "2852720"
  },
  {
    "text": "that are going to run for any serious length of time things are going to change and there are solutions to this",
    "start": "2852720",
    "end": "2858240"
  },
  {
    "text": "and the interesting thing there is how do you decide which solution to adopt because they are all wrong",
    "start": "2858240",
    "end": "2864319"
  },
  {
    "text": "there are three ways so a lot of this stuff um is troy hunt wrote a great blog post on this uh",
    "start": "2864319",
    "end": "2869760"
  },
  {
    "text": "two years ago now where on his have i been punching he was rolling out version two of some apis for that and he did",
    "start": "2869760",
    "end": "2875119"
  },
  {
    "text": "this great write-up of the different patterns and there's some um sebastian lambler is out there right now giving",
    "start": "2875119",
    "end": "2880720"
  },
  {
    "text": "talks about don't version your apis it's evil you should do everything using content negotiation which is kind of a",
    "start": "2880720",
    "end": "2886960"
  },
  {
    "text": "different approach to versioning so there's a lot of interesting thinking around this so one way of doing it is that you have",
    "start": "2886960",
    "end": "2894079"
  },
  {
    "text": "a version one api and a version two api and they're on different urls so get version two",
    "start": "2894079",
    "end": "2901359"
  },
  {
    "text": "okay get version one okay this requires you to know when you do",
    "start": "2901359",
    "end": "2906960"
  },
  {
    "text": "version one that there's gonna be a version two so you can put version one in the url so it doesn't downgrade particularly",
    "start": "2906960",
    "end": "2914079"
  },
  {
    "text": "gracefully another way of doing it is to use content negotiation so when your",
    "start": "2914079",
    "end": "2919760"
  },
  {
    "text": "client connects to your server the first version probably says hey i speak json just give me json",
    "start": "2919760",
    "end": "2925040"
  },
  {
    "text": "and then you realize that actually you need to do something a little bit more clever so what you can do now",
    "start": "2925040",
    "end": "2930480"
  },
  {
    "text": "is you can say i'm going to define a custom mime type application vendor dot my api dot version 2 plus json or",
    "start": "2930480",
    "end": "2937920"
  },
  {
    "text": "vendor my api version 2 plus hal plus json now the nice thing about this is if",
    "start": "2937920",
    "end": "2943280"
  },
  {
    "text": "you forgot to do anything special in version one of your client your server can go right anyone who asks",
    "start": "2943280",
    "end": "2948720"
  },
  {
    "text": "for json we know that they're version one because if they were version two they'd know that we changed this thing so",
    "start": "2948720",
    "end": "2954079"
  },
  {
    "text": "anyone asking for version 2 version 3 version 4 you can handle that with content negotiation",
    "start": "2954079",
    "end": "2959520"
  },
  {
    "text": "and again same thing spits back at 200 okay the third approach you can take here is you put a custom header in and you just",
    "start": "2959520",
    "end": "2966240"
  },
  {
    "text": "say get me application json and by the way x my api version i'm running version two today what are you running",
    "start": "2966240",
    "end": "2973040"
  },
  {
    "text": "how do you decide and this you know is another all of these approaches work",
    "start": "2973040",
    "end": "2979039"
  },
  {
    "text": "it all hinges on whether version one and version two are the same resource or not",
    "start": "2979440",
    "end": "2986000"
  },
  {
    "text": "if you imagine we've got a photograph in our archive so we've got a picture of the opera house and sydney harbour bridge and one client requests that",
    "start": "2986000",
    "end": "2992960"
  },
  {
    "text": "picture as a png another client requests it as a jpeg it's pretty obvious there that what",
    "start": "2992960",
    "end": "2998079"
  },
  {
    "text": "we're doing is we're taking the same resource and we're just using a different representation in each of those scenarios",
    "start": "2998079",
    "end": "3003839"
  },
  {
    "text": "whereas you may have a scenario where customer version one is a completely",
    "start": "3003839",
    "end": "3009520"
  },
  {
    "text": "different set of data your version two you rolled out all sorts of compliance you started doing uh you know deliveries",
    "start": "3009520",
    "end": "3015520"
  },
  {
    "text": "to the door so suddenly you've got street addresses you're indexing people by social security number instead of by",
    "start": "3015520",
    "end": "3021200"
  },
  {
    "text": "database id it's a business decision you know you need to understand your domain and how",
    "start": "3021200",
    "end": "3026880"
  },
  {
    "text": "you are modeling your domain well enough to know whether version 1 and version 2",
    "start": "3026880",
    "end": "3031920"
  },
  {
    "text": "is analogous to the same photograph as a tifford jpeg or whether version 1 version 2 are actually different",
    "start": "3031920",
    "end": "3038480"
  },
  {
    "text": "representations because at the end of the stack there's probably a real person who hasn't changed it's about what",
    "start": "3038480",
    "end": "3045359"
  },
  {
    "text": "properties of that person are being modeled in your system and whether you've changed that enough that it's actually a completely different resource",
    "start": "3045359",
    "end": "3054520"
  },
  {
    "text": "so if version one and version two represent same person same resource use content",
    "start": "3054640",
    "end": "3060480"
  },
  {
    "text": "negotiation same thing different format if they're completely different it makes sense to use a different uri",
    "start": "3060480",
    "end": "3067359"
  },
  {
    "text": "because in this case you have different resources a resource should be addressable by the same uri",
    "start": "3067359",
    "end": "3073280"
  },
  {
    "text": "so different resource different url kind of makes sense or there's the actually this is the",
    "start": "3073280",
    "end": "3079280"
  },
  {
    "text": "point where rest is not the right solution for our problem we'll just use a custom header it works you know there are lots of very successful systems that",
    "start": "3079280",
    "end": "3085520"
  },
  {
    "text": "use this approach so that's how you handle it on the client but what do you do on your server",
    "start": "3085520",
    "end": "3091440"
  },
  {
    "text": "suddenly you've got a api that needs to be running version one side by side with version two",
    "start": "3091440",
    "end": "3097839"
  },
  {
    "text": "do you branch your code base and have separate deployment pipelines for v1 and v2 or do you stick with one code base",
    "start": "3097839",
    "end": "3104559"
  },
  {
    "text": "and you do all the content negotiation in code and you have you know like version two of your controller inherits from version one of your controller and",
    "start": "3104559",
    "end": "3110559"
  },
  {
    "text": "this kind of stuff um this is about the only question i've ever come across in computer science where the answer is not",
    "start": "3110559",
    "end": "3116319"
  },
  {
    "text": "it depends i think there is actually a right answer to this and the right answer is that you use one code base you",
    "start": "3116319",
    "end": "3122319"
  },
  {
    "text": "have one deployment pipeline you have one set of tests you have one single you",
    "start": "3122319",
    "end": "3127520"
  },
  {
    "text": "know base of code that represents every api version that you are still running in",
    "start": "3127520",
    "end": "3132640"
  },
  {
    "text": "production and you use something akin to this because all of these approaches you can",
    "start": "3132640",
    "end": "3138800"
  },
  {
    "text": "actually map onto the same chunk of code so what we've got here is a web api example where we've got a get v2 method",
    "start": "3138800",
    "end": "3146880"
  },
  {
    "text": "we've got an attribute here that says if the client is negotiating on content typing",
    "start": "3146880",
    "end": "3152800"
  },
  {
    "text": "giving us version two you should hit this one and we've got a naive route saying api slash v2 slash profile name",
    "start": "3152800",
    "end": "3159280"
  },
  {
    "text": "comes here and this stuff is actually pretty easy and the nice thing about it is you can monitor the routes that are being hit",
    "start": "3159280",
    "end": "3165839"
  },
  {
    "text": "and when you realize that no one is hitting version one anymore you can go in and you can just remove it from that element of the code base the stuff which",
    "start": "3165839",
    "end": "3172480"
  },
  {
    "text": "is common to version one version two doesn't end up being two copies of the same module deployed to two different",
    "start": "3172480",
    "end": "3177520"
  },
  {
    "text": "places by two different pipelines okay so",
    "start": "3177520",
    "end": "3183359"
  },
  {
    "text": "next bright idea from your your um chief executive officer someone comes in and says hey",
    "start": "3183359",
    "end": "3188800"
  },
  {
    "text": "we hired the cfo's teenage son to build us a mobile app because you know and he's like yeah can",
    "start": "3188800",
    "end": "3194240"
  },
  {
    "text": "i get in the database because i need all the customer data so i can build this mobile app using a mobile app building toolkit that i found in my summer",
    "start": "3194240",
    "end": "3200400"
  },
  {
    "text": "holidays and someone else is like hey we just found out that linkbate.com is asking users to put their password into",
    "start": "3200400",
    "end": "3206640"
  },
  {
    "text": "their website so they can log in and scrape all of their friends from our network these are real scenarios you know these",
    "start": "3206640",
    "end": "3212880"
  },
  {
    "text": "are the kind of things you come across all the time you've got all this data and other people want to use that data to do things",
    "start": "3212880",
    "end": "3218800"
  },
  {
    "text": "and your users maybe have a completely legitimate reason for wanting to share that",
    "start": "3218800",
    "end": "3224400"
  },
  {
    "text": "or your users are being misled they're being phished they're being misinformed how do you go in and implement the sort",
    "start": "3224400",
    "end": "3231520"
  },
  {
    "text": "of security which will protect users data while still offering them control",
    "start": "3231520",
    "end": "3236720"
  },
  {
    "text": "over who can do that and what now conventionally there's always been this",
    "start": "3236720",
    "end": "3241920"
  },
  {
    "text": "approach to think of security very much like if you imagine a bank there's a you know set of doors",
    "start": "3241920",
    "end": "3248079"
  },
  {
    "text": "and then there's a public foyer and then there's a counter and behind that there are the tellers and behind that there's a manager's office and behind that",
    "start": "3248079",
    "end": "3254160"
  },
  {
    "text": "there's a vault and some people are allowed in the vault and some people are allowed here it's this very very kind of atomic level of",
    "start": "3254160",
    "end": "3260480"
  },
  {
    "text": "security either we trust you or we don't and if we trust you we trust you with everything",
    "start": "3260480",
    "end": "3265680"
  },
  {
    "text": "you know i've worked on systems where there's a flag on a user that says do they have delete access and if they do it means they can delete",
    "start": "3265680",
    "end": "3271280"
  },
  {
    "text": "anything in the entire system and if they don't they can't delete anything at all which kind of works when you're dealing",
    "start": "3271280",
    "end": "3277200"
  },
  {
    "text": "with a small number of trusted employees but for building large-scale distributed systems where there maybe isn't a",
    "start": "3277200",
    "end": "3283280"
  },
  {
    "text": "hard line between who's an employee who's an administrator who's a customer who's a user you need to take a much more granular",
    "start": "3283280",
    "end": "3289599"
  },
  {
    "text": "atomic approach to the way you think about security you don't want this idea of there's a",
    "start": "3289599",
    "end": "3294799"
  },
  {
    "text": "bank vault and you're allowed in and you're not you want something more akin to you can get into your safe deposit",
    "start": "3294799",
    "end": "3300240"
  },
  {
    "text": "box you can get into yours you can get into yours you can use yours you can't get into anyone else's",
    "start": "3300240",
    "end": "3305440"
  },
  {
    "text": "now the protocol that exists for facilitating this is something called oauth2 so oauth2 is an authorization",
    "start": "3305440",
    "end": "3312960"
  },
  {
    "text": "protocol it's not an identification protocol there is now a thing called open id connect that sits on top of that",
    "start": "3312960",
    "end": "3318640"
  },
  {
    "text": "if you're interested in building this kind of stuff don't because nobody builds their own crypto systems and no one should build their",
    "start": "3318640",
    "end": "3324480"
  },
  {
    "text": "own authentication download identity server work out how it works and use that because that solves all of the hard",
    "start": "3324480",
    "end": "3330799"
  },
  {
    "text": "problems to do with the cryptographic validity of the the underlying protocols",
    "start": "3330799",
    "end": "3336079"
  },
  {
    "text": "it's a very nice platform it's very extensible but effectively what oauth2 does so",
    "start": "3336079",
    "end": "3342799"
  },
  {
    "text": "we've got this is our end user we've got linkbait.com and we've got us we're startup.com this is our website that's",
    "start": "3342799",
    "end": "3348720"
  },
  {
    "text": "our api and link bait wants some data from our api and the user is happy for this to",
    "start": "3348720",
    "end": "3354240"
  },
  {
    "text": "happen because the user thinks linkbait.com is brilliant and they want to tell all their friends about it",
    "start": "3354240",
    "end": "3359520"
  },
  {
    "text": "so the first thing that happens the user goes to link bay and says hey it's me and link bait goes prove it",
    "start": "3359520",
    "end": "3366078"
  },
  {
    "text": "go to startup.com and tell them we are allowed access to your stuff user gets",
    "start": "3366880",
    "end": "3372000"
  },
  {
    "text": "redirected to startup they log in there we validate them we send them back a page",
    "start": "3372000",
    "end": "3377760"
  },
  {
    "text": "proof that you're you they put in their credentials credentials have not been shared with link bait the credential flow is between",
    "start": "3377760",
    "end": "3384240"
  },
  {
    "text": "the customer and us we say yep",
    "start": "3384240",
    "end": "3389760"
  },
  {
    "text": "gotcha we give them a token in the browser redirect and say go back to linkbait.com give them this don't",
    "start": "3389760",
    "end": "3396480"
  },
  {
    "text": "give them your password that would be crazy give them this token it's actually a pair of tokens thing called an access",
    "start": "3396480",
    "end": "3402400"
  },
  {
    "text": "token and think of a refresh token the customer gives that token to",
    "start": "3402400",
    "end": "3408799"
  },
  {
    "text": "link bait link bait sends the token to our website says is this real now what it's doing at this point is",
    "start": "3408799",
    "end": "3414640"
  },
  {
    "text": "it's taking the refresh token i've taken the code exchange token and it's saying hey the customer just gave me this can i",
    "start": "3414640",
    "end": "3420799"
  },
  {
    "text": "have some keys please and our site is going to respond with yeah here you go have a set of keys",
    "start": "3420799",
    "end": "3427040"
  },
  {
    "text": "they can then use those keys to go onto our api pull data off it data goes back to link bait dot com",
    "start": "3427040",
    "end": "3433839"
  },
  {
    "text": "link bait sends that back to the end user everyone's happy the best way to think of this token",
    "start": "3433839",
    "end": "3438880"
  },
  {
    "text": "exchange so the key thing about these these two keys there's an access key and there's a refresh key the access key is",
    "start": "3438880",
    "end": "3444079"
  },
  {
    "text": "like a safe deposit key made out of ice you can use it unsupervised for about 10 minutes and after that it stops working",
    "start": "3444079",
    "end": "3451200"
  },
  {
    "text": "now this gives you very powerful scalability because you don't have to validate every single request you pick a",
    "start": "3451200",
    "end": "3458240"
  },
  {
    "text": "time window and you say well how much damage can someone do with a key that we know is going to work for 10",
    "start": "3458240",
    "end": "3464480"
  },
  {
    "text": "minutes but after that it's never going to work again because an access key can't be revoked if you're doing stuff with financial systems or anything",
    "start": "3464480",
    "end": "3470720"
  },
  {
    "text": "really important there are ways of doing per request key validation which are extensions to the protocol but the",
    "start": "3470720",
    "end": "3476720"
  },
  {
    "text": "underlying principle is we'll give you a key that will last for five minutes 10 minutes to let you make as many api calls as you want and then it'll stop",
    "start": "3476720",
    "end": "3482799"
  },
  {
    "text": "working when it stops working you take the refresh token and you go back to us and you say give",
    "start": "3482799",
    "end": "3488400"
  },
  {
    "text": "me another access token and assuming that the customer has not logged in and gone you know settings applications",
    "start": "3488400",
    "end": "3494799"
  },
  {
    "text": "revoke revoke revoke revoke that refresh token will succeed we'll give them another one of these little",
    "start": "3494799",
    "end": "3500319"
  },
  {
    "text": "melty ice keys that will work for another 10 minutes and another 10 minutes and another 10 minutes at no point are the customers",
    "start": "3500319",
    "end": "3506480"
  },
  {
    "text": "credentials shared with the third party and beyond that 10 minute expiry window on the access token",
    "start": "3506480",
    "end": "3512400"
  },
  {
    "text": "there's no risk to the customer that their data is going to be exploited by link bait in a way that our startup provider can't",
    "start": "3512400",
    "end": "3519760"
  },
  {
    "text": "control so that's oauth2 openid connect we looked",
    "start": "3519760",
    "end": "3525599"
  },
  {
    "text": "at content negotiation we've looked at api versioning we've looked at resource expansion",
    "start": "3525599",
    "end": "3530720"
  },
  {
    "text": "hopefully all of that stuff a has been interesting and informative b",
    "start": "3530720",
    "end": "3535760"
  },
  {
    "text": "has helped some of you maybe understand a little bit more about what rest is good at and when rest might not",
    "start": "3535760",
    "end": "3540799"
  },
  {
    "text": "necessarily be the right answer we are nearly out of time we have a couple of minutes for questions",
    "start": "3540799",
    "end": "3546720"
  },
  {
    "text": "are there any questions there is a question i want to say",
    "start": "3546720",
    "end": "3552880"
  },
  {
    "text": "there's a microphone coming around yeah but it's for the recording",
    "start": "3552880",
    "end": "3559839"
  },
  {
    "text": "um in your list of uh hypermedia style",
    "start": "3559839",
    "end": "3565520"
  },
  {
    "text": "frameworks that are available did i see json api or open api or json api",
    "start": "3565520",
    "end": "3571200"
  },
  {
    "text": "sorry the question is does open api which is x swagger count in your list",
    "start": "3571200",
    "end": "3576559"
  },
  {
    "text": "probably i'm not familiar with it so i don't know um there is a lot of very very active",
    "start": "3576559",
    "end": "3582880"
  },
  {
    "text": "development going on around a lot of these formats open api isn't one i'm familiar with swagger i have come across",
    "start": "3582880",
    "end": "3588880"
  },
  {
    "text": "so swagger is basically a way of it's almost an api design language isn't it it's a way of defining your endpoints",
    "start": "3588880",
    "end": "3595440"
  },
  {
    "text": "what they support the nice thing about swagger is that you can take a swagger definition you can generate documentation from it you can",
    "start": "3595440",
    "end": "3602400"
  },
  {
    "text": "generate dummy clients from it and you can generate dummy servers from it because one of the nice things about that kind of api thing is you can design",
    "start": "3602400",
    "end": "3609200"
  },
  {
    "text": "the thing and then you can spin up a dummy implementation that your front-end team can start calling",
    "start": "3609200",
    "end": "3614880"
  },
  {
    "text": "and also a service stack which is one of the net frameworks will actually generate the other way around you can generate swagger documentation directly",
    "start": "3614880",
    "end": "3621599"
  },
  {
    "text": "from the metadata and then you can generate nice html docs from the swagger so swagger is another good one it's",
    "start": "3621599",
    "end": "3627440"
  },
  {
    "text": "worth looking at but in terms of open api i don't know",
    "start": "3627440",
    "end": "3632400"
  },
  {
    "text": "ah so yeah probably then i don't know if there's anything in there that's um intrinsically related to",
    "start": "3632480",
    "end": "3638960"
  },
  {
    "text": "hyper media but i'll certainly go and look it up so any other questions yes",
    "start": "3638960",
    "end": "3646000"
  },
  {
    "text": "for the versioning thing how do you actually define a version for an api like if an api has said",
    "start": "3650319",
    "end": "3656799"
  },
  {
    "text": "representing like three different resources today yep so it's possible that i add a new resource tomorrow yep",
    "start": "3656799",
    "end": "3662079"
  },
  {
    "text": "or just one of the resources has changed uh properties or something like that so it's the enter api version or it's just",
    "start": "3662079",
    "end": "3668240"
  },
  {
    "text": "like the profile that is version but the friends are not version and",
    "start": "3668240",
    "end": "3673920"
  },
  {
    "text": "the canonical way of doing this is that somebody is retrieving slash profile",
    "start": "3673920",
    "end": "3679440"
  },
  {
    "text": "and one morning they look at the lynx collection and in links collection there is an href for version 2 of that profile",
    "start": "3679440",
    "end": "3686720"
  },
  {
    "text": "hypermedia is an incredibly flexible pattern that you can use for all sorts of things and as well as saying hey this",
    "start": "3686720",
    "end": "3692400"
  },
  {
    "text": "profile's got friends this profile's got status updates you can say this profile has a newer api representation available",
    "start": "3692400",
    "end": "3699359"
  },
  {
    "text": "so you can use the same hypermedia patterns and the thing about that is because you're not changing anything because you're just adding new fields to",
    "start": "3699359",
    "end": "3705920"
  },
  {
    "text": "it you won't break clients by adding new elements to the links collection that's available on a resource",
    "start": "3705920",
    "end": "3711760"
  },
  {
    "text": "and so that gives you a way of gracefully notifying clients that a new representation of something is available",
    "start": "3711760",
    "end": "3718240"
  },
  {
    "text": "it's also an argument in favor of doing sort of either content negotiation",
    "start": "3718240",
    "end": "3724319"
  },
  {
    "text": "style stuff as opposed to just saying there is now version two of our api which completely deprecates version one",
    "start": "3724319",
    "end": "3730079"
  },
  {
    "text": "you can actually go with the idea of having versioned resources which conform to content negotiation instead of saying",
    "start": "3730079",
    "end": "3735920"
  },
  {
    "text": "hey where said v1 in all your web addresses before put v2 in there now does that answer the question",
    "start": "3735920",
    "end": "3742559"
  },
  {
    "text": "partly that's fine i mean the other thing is that's more of it i guess the discussion is",
    "start": "3742559",
    "end": "3748240"
  },
  {
    "text": "uh have you seen a resistance step to do this proper way of rest was i have",
    "start": "3748240",
    "end": "3753599"
  },
  {
    "text": "to huge amount of resistance from let's say i'm doing an api my clients didn't want all this thing they said",
    "start": "3753599",
    "end": "3758640"
  },
  {
    "text": "they're all crap i don't i don't need these things bloating it i have no reason for all these links href blah blah blah they",
    "start": "3758640",
    "end": "3765280"
  },
  {
    "text": "just rejected this uh this concert they wanted to go to page equal to five yeah",
    "start": "3765280",
    "end": "3770480"
  },
  {
    "text": "the clients didn't want it i like paying you well it's my own company so they're all working together but they",
    "start": "3770480",
    "end": "3777039"
  },
  {
    "text": "didn't want the api people to give them apis like that so",
    "start": "3777039",
    "end": "3782400"
  },
  {
    "text": "just do the rest of friends you can try and educate them or you can accept that they're paying the bills and you do what they want",
    "start": "3782400",
    "end": "3788799"
  },
  {
    "text": "it's the great trade-off of anyone who goes we don't like your solution you know um i don't have a magic bullet answer",
    "start": "3788799",
    "end": "3794960"
  },
  {
    "text": "for that you know i think understand it understand the costs understand the trade-offs and then try and reach an",
    "start": "3794960",
    "end": "3800720"
  },
  {
    "text": "informed consensus among the people who have a stake in the thing so any other questions",
    "start": "3800720",
    "end": "3807760"
  },
  {
    "text": "grand well thank you very very much for coming along taking the time to listen um my name's dylan i'm on twitter as",
    "start": "3807760",
    "end": "3814480"
  },
  {
    "text": "dylan beatty um i'm on email dylan at dylanbeaty.net if any of you want to follow up on anything or talk about any",
    "start": "3814480",
    "end": "3820160"
  },
  {
    "text": "of this stuff further um i'm around all week and the one wearing a big stupid cowboy hat so come and say hello if you",
    "start": "3820160",
    "end": "3825280"
  },
  {
    "text": "have any more questions or anything you want to talk about thank you very much enjoy the rest of the conference",
    "start": "3825280",
    "end": "3832359"
  }
]