[
  {
    "text": "thank you so much for coming this is so lovely welcome to day two so my name is Joe and I am a devel",
    "start": "5200",
    "end": "14200"
  },
  {
    "text": "at Dino and today I'm going to talk to you through building an in browser code editor that not only runs in your",
    "start": "14200",
    "end": "20880"
  },
  {
    "text": "browser but also lets you safely execute other people's code but before we get",
    "start": "20880",
    "end": "26279"
  },
  {
    "text": "started um I'd just like to ask you a couple of questions like first of all who here has actually heard of Dino",
    "start": "26279",
    "end": "33600"
  },
  {
    "text": "before okay that's that's a good amount and who's actually used it",
    "start": "33600",
    "end": "39399"
  },
  {
    "text": "before okay smaller and is anybody actually using it in production no okay well that's cool so",
    "start": "39399",
    "end": "46760"
  },
  {
    "text": "today we're going to be building with Dino and hopefully I can introduce you to some things that you might love some",
    "start": "46760",
    "end": "52840"
  },
  {
    "text": "things you might not know uh but let's get started and dive in and build an editor but first of all why might we",
    "start": "52840",
    "end": "60120"
  },
  {
    "text": "want to build an in browser code editor so aside from being a kind of cool",
    "start": "60120",
    "end": "66040"
  },
  {
    "text": "project there are many reasons why you might want to build one of these uh if you work at a company that offers apis",
    "start": "66040",
    "end": "72439"
  },
  {
    "text": "or other tools to developers it's a great way of improving your onboarding experience if they can try out the code",
    "start": "72439",
    "end": "78520"
  },
  {
    "text": "right in the browser uh it allows you to let developers try out your code immediately",
    "start": "78520",
    "end": "84799"
  },
  {
    "text": "without needing to set up their own local environment and things like embed embed",
    "start": "84799",
    "end": "90240"
  },
  {
    "text": "editors within your documentation is really nice for helping people learn how to use your code immediately no need to",
    "start": "90240",
    "end": "97600"
  },
  {
    "text": "switch between tabs or get out their IDE they can just try it out and an in",
    "start": "97600",
    "end": "102960"
  },
  {
    "text": "browser editor can uh be really helpful if you're offering a low or no code",
    "start": "102960",
    "end": "108360"
  },
  {
    "text": "solution and I know we say no code but there's occasionally times when you need to add a bit of extra functionality into",
    "start": "108360",
    "end": "114880"
  },
  {
    "text": "that no code solution and just having a box where you can type in some code and execute it is really useful without",
    "start": "114880",
    "end": "121520"
  },
  {
    "text": "needing to you know change product but running code that other",
    "start": "121520",
    "end": "127039"
  },
  {
    "text": "people have written presents us with a problem we can't trust code uh to",
    "start": "127039",
    "end": "132480"
  },
  {
    "text": "execute on our machines on our websites uh that other people are going to write",
    "start": "132480",
    "end": "138040"
  },
  {
    "text": "we just don't know what they're going to write allowing third party code execution can introduce us to a whole load of security",
    "start": "138040",
    "end": "144480"
  },
  {
    "text": "vulnerabilities uh there could be malicious scripts trying to seal our data they could be trying to inject",
    "start": "144480",
    "end": "150080"
  },
  {
    "text": "harmful code into our websites or compromise our users data privacy so we",
    "start": "150080",
    "end": "155640"
  },
  {
    "text": "need to try and prevent malicious code from wreaking havoc on our own code basis not only that but we will need to",
    "start": "155640",
    "end": "163440"
  },
  {
    "text": "provide resources which are going to run this code we need CPU we need memory",
    "start": "163440",
    "end": "169080"
  },
  {
    "text": "these things could potentially impact the page load times for our own",
    "start": "169080",
    "end": "175239"
  },
  {
    "text": "site so in order to you know make an in an embra browser code editor that's",
    "start": "175239",
    "end": "181200"
  },
  {
    "text": "going to run third party code we're likely going to end up needing to provision some sort of Comm compute uh a",
    "start": "181200",
    "end": "188680"
  },
  {
    "text": "large amount of compute we're going to need to perhaps install something like kubernetes on it then we're going to",
    "start": "188680",
    "end": "194519"
  },
  {
    "text": "need some management apis to make sure that only the correct shape of code gets executed we'll need to make sure that",
    "start": "194519",
    "end": "201560"
  },
  {
    "text": "our container instances are secure and we'll need to make sure that we don't run out of storage and likely we're going to need",
    "start": "201560",
    "end": "208480"
  },
  {
    "text": "an entire Ops Team to run this entire thing the truth is building a managed",
    "start": "208480",
    "end": "213680"
  },
  {
    "text": "runtime is you know we're talking like millions of dollars worth of problem here which is a pretty significant",
    "start": "213680",
    "end": "220439"
  },
  {
    "text": "barrier to entry for most people who just want to make something cool and interactive and build fun experiences on",
    "start": "220439",
    "end": "226760"
  },
  {
    "text": "the web so with all of this in mind how are we going to build this editor and",
    "start": "226760",
    "end": "232159"
  },
  {
    "text": "what are we going to need in order to do so so first of all we're going to need",
    "start": "232159",
    "end": "238079"
  },
  {
    "text": "an app of some kind obviously something like imagine like code pen or JS bin so we're thinking like a text box",
    "start": "238079",
    "end": "246480"
  },
  {
    "text": "where people can type in code and a Go Button where they can press go and execute the code then we're going to",
    "start": "246480",
    "end": "252720"
  },
  {
    "text": "need some sort of Hosting which is going to run this app so that people can actually visit it and see it and finally",
    "start": "252720",
    "end": "258880"
  },
  {
    "text": "we're going to need an application platform that is going to actually run the users's code so probably something",
    "start": "258880",
    "end": "265560"
  },
  {
    "text": "like serverless functions and I work for Dino as I mentioned and we have products",
    "start": "265560",
    "end": "270720"
  },
  {
    "text": "that solve all of these hard problems for you but what is Dino we are an",
    "start": "270720",
    "end": "276880"
  },
  {
    "text": "open-source JavaScript runtime for the modern web uh we're built on web standards built in Rust so it's super",
    "start": "276880",
    "end": "284400"
  },
  {
    "text": "fast uh using V8 uh which you will already know if you've ever made a node",
    "start": "284400",
    "end": "289919"
  },
  {
    "text": "project uh Doo natively supports typescript out the box so you can just",
    "start": "289919",
    "end": "295120"
  },
  {
    "text": "run your typescript code you don't need an extra uh config setup you don't need",
    "start": "295120",
    "end": "300160"
  },
  {
    "text": "to install anything else you can write strongly typed code immediately and catch errors early and Dino also has",
    "start": "300160",
    "end": "308440"
  },
  {
    "text": "tools for formatting for linting for testing and it just really sort of streamlines your development flow you",
    "start": "308440",
    "end": "315080"
  },
  {
    "text": "don't need to install anything else and you might have heard of us because we've been around for a few years Dino was",
    "start": "315080",
    "end": "321440"
  },
  {
    "text": "actually built by the guy who originally built node uh Ryan d uh and he so he",
    "start": "321440",
    "end": "328400"
  },
  {
    "text": "gave a very famous talk at JS comp about five or so years ago with like 10",
    "start": "328400",
    "end": "335800"
  },
  {
    "text": "things that he learned about building node so he took all of this experience from building node and tried to build",
    "start": "335800",
    "end": "341720"
  },
  {
    "text": "something that was better that was a a more delightful developer experience and the whole hope that he",
    "start": "341720",
    "end": "349360"
  },
  {
    "text": "had with Dino is that it would level up the JavaScript ecosystem by narrowing",
    "start": "349360",
    "end": "355600"
  },
  {
    "text": "the gap between the browser and the server side and obviously allowing typ script to be a first class",
    "start": "355600",
    "end": "361880"
  },
  {
    "text": "citizen uh so Dino works out the box with all of the modern web tools that you're used to using so we're going to",
    "start": "361880",
    "end": "368240"
  },
  {
    "text": "be building this with react with feet with typescript uh and you might be wondering",
    "start": "368240",
    "end": "374599"
  },
  {
    "text": "why like why would I want to add Dino into the mix here and the answer is this like not only is Dino great for running",
    "start": "374599",
    "end": "381720"
  },
  {
    "text": "typescript code and running it super fast like Dino is faster than node uh",
    "start": "381720",
    "end": "387479"
  },
  {
    "text": "it's complemented by all the other tooling that has uh and it just it makes",
    "start": "387479",
    "end": "392560"
  },
  {
    "text": "building things like this uh just a very pleasant",
    "start": "392560",
    "end": "397800"
  },
  {
    "text": "experience so I mentioned we're going to need some sort of Hosting Dino has dino",
    "start": "397800",
    "end": "403400"
  },
  {
    "text": "deploy which is Dino's hosting solution uh if you've used Heroku or",
    "start": "403400",
    "end": "409240"
  },
  {
    "text": "similar before it's it's very similar to that uh it's a worldwide platform it's",
    "start": "409240",
    "end": "414639"
  },
  {
    "text": "great for serers side JavaScript and typescript hosting uh and and it's powered by the",
    "start": "414639",
    "end": "421199"
  },
  {
    "text": "dino runtime run on very efficient V8 engines uh so it's super fast super",
    "start": "421199",
    "end": "426599"
  },
  {
    "text": "lightweight really nice and easy to use and Dino also has so I mentioned we're",
    "start": "426599",
    "end": "431919"
  },
  {
    "text": "going to need some sort of serverless functions Dino also has our serverless functions for us so Dino has this thing",
    "start": "431919",
    "end": "437960"
  },
  {
    "text": "called sub hosting which is a set of capabilities that are built on top of deploy which are designed for securely",
    "start": "437960",
    "end": "444479"
  },
  {
    "text": "running code written by multiple people in a sandboxed environment ment it",
    "start": "444479",
    "end": "450840"
  },
  {
    "text": "supports JavaScript it supports typescript and it's optimized for super fast deployment and cold start times",
    "start": "450840",
    "end": "457000"
  },
  {
    "text": "which is exactly what we need for this scenario uh we've got a load of really",
    "start": "457000",
    "end": "462080"
  },
  {
    "text": "nice apis so it's very easy to deploy your code immediately it supports Global",
    "start": "462080",
    "end": "468240"
  },
  {
    "text": "deployment it's low latency uh we can access it from everywhere in the world",
    "start": "468240",
    "end": "473720"
  },
  {
    "text": "uh and I I don't want to stand here and do a giant sales pitch but the cool thing about sub hosting is it's built",
    "start": "473720",
    "end": "479080"
  },
  {
    "text": "for developers it's built for Tool Builders people like yourselves to allow you to",
    "start": "479080",
    "end": "485280"
  },
  {
    "text": "offer serverless functions to your own uh customers without having to worry about infrastructure or scalability or",
    "start": "485280",
    "end": "492520"
  },
  {
    "text": "anything like that yourselves so with all of this in mind let's actually build the",
    "start": "492520",
    "end": "498560"
  },
  {
    "text": "app so first of all we're going to set up a new dino project uh setting up is",
    "start": "498560",
    "end": "503840"
  },
  {
    "text": "super easy you can use you can install Dino with C with Brew with chocolatey",
    "start": "503840",
    "end": "509840"
  },
  {
    "text": "depending on what operating system you're on and if you've used Zeno in the past a lot of things have changed uh so",
    "start": "509840",
    "end": "516680"
  },
  {
    "text": "it's probably more familiar than you think if you're moving over from node so the first thing we're going to do we're",
    "start": "516680",
    "end": "522279"
  },
  {
    "text": "going to init a new project much like creating a new node package with mpm in",
    "start": "522279",
    "end": "527920"
  },
  {
    "text": "it doo in it is going to just create a basic project for you uh it's going to",
    "start": "527920",
    "end": "533160"
  },
  {
    "text": "give you a typescript entry point a config file and a test file so let's take a just a really quick quick look at",
    "start": "533160",
    "end": "539959"
  },
  {
    "text": "them so this is what it's going to create for you uh you can see in here you've got your main TS your main test",
    "start": "539959",
    "end": "547519"
  },
  {
    "text": "and your Doo Json so we've got our basic entry point and let's take a look at the Json",
    "start": "547519",
    "end": "554440"
  },
  {
    "text": "so this is your uh config file where you can configure how you want Doo to run",
    "start": "554440",
    "end": "561680"
  },
  {
    "text": "it's where you're going to set up tasks tasks are very similar to node scripts so this is all stuff that you should",
    "start": "561680",
    "end": "567560"
  },
  {
    "text": "have seen before this is where you can also manage and import your dependencies and incidentally if you are",
    "start": "567560",
    "end": "575399"
  },
  {
    "text": "working with a node project you can keep your package Json you don't necessarily need a dino Json uh it's just there if",
    "start": "575399",
    "end": "582560"
  },
  {
    "text": "you want to configure the extra tools that Dino has so if you want to add linting rules into the linter OR add",
    "start": "582560",
    "end": "588560"
  },
  {
    "text": "formatting rules into the formatter this is there for you and finally as I mentioned we have",
    "start": "588560",
    "end": "595320"
  },
  {
    "text": "our testing file Dino really cares about writing good tests and making test thing super easy for you so there's a a",
    "start": "595320",
    "end": "602200"
  },
  {
    "text": "testing Runner built into Doo that runs out the box uh so that is your sort of 60-second",
    "start": "602200",
    "end": "610120"
  },
  {
    "text": "intro to your Dino project now we're going to actually configure a repository",
    "start": "610120",
    "end": "616800"
  },
  {
    "text": "that works with feet that works with react um so we can actually do some",
    "start": "616800",
    "end": "622839"
  },
  {
    "text": "webd so let's edit that default project that we just made we are going to uh um",
    "start": "622880",
    "end": "629880"
  },
  {
    "text": "oh sorry if you want to run the default project you can do it with doot Tas Dev and if you want to run the test you can",
    "start": "629880",
    "end": "634920"
  },
  {
    "text": "do it with doot test so we're going to add some dependencies so I mentioned we want to use vit for our local uh Dev",
    "start": "634920",
    "end": "642120"
  },
  {
    "text": "server we want to use react to build the actual UI with so we're just going to",
    "start": "642120",
    "end": "647399"
  },
  {
    "text": "add all these dependencies we can do it with doo ad very similar to how you've worked with mpm before and that's going",
    "start": "647399",
    "end": "654000"
  },
  {
    "text": "to add those dependencies into your Doo Json and then we can and uh create a",
    "start": "654000",
    "end": "661160"
  },
  {
    "text": "task which is going to start up our V server so let's take a look at our",
    "start": "661160",
    "end": "667360"
  },
  {
    "text": "updated Dino Json which is going to look like this now uh so you can see we've",
    "start": "667360",
    "end": "672440"
  },
  {
    "text": "got that extra task in there and we've got our new dependencies so in order to run this",
    "start": "672440",
    "end": "680000"
  },
  {
    "text": "thing you'll see there in our V start Task we've got Dino Run minus a that",
    "start": "680000",
    "end": "686120"
  },
  {
    "text": "minus a is a permissions setting so by default Doo tries to be more",
    "start": "686120",
    "end": "693399"
  },
  {
    "text": "secure than node so it will deny access to things like Network to files to",
    "start": "693399",
    "end": "700839"
  },
  {
    "text": "environment variables um and you need to explicitly allow these permissions uh",
    "start": "700839",
    "end": "706639"
  },
  {
    "text": "you can do so there's a bunch of allow tags so you can allow net allow uh file",
    "start": "706639",
    "end": "714120"
  },
  {
    "text": "write allow read that kind of thing um or you can use minus a which is allow",
    "start": "714120",
    "end": "719920"
  },
  {
    "text": "everything we don't recommend that you use minus a in your real projects but",
    "start": "719920",
    "end": "725160"
  },
  {
    "text": "for building a little task thing like this it's just quicker and easier so we're going to use minus a and then one",
    "start": "725160",
    "end": "732079"
  },
  {
    "text": "of the cool things about Dino is it manages your uh dependencies directly so",
    "start": "732079",
    "end": "740600"
  },
  {
    "text": "uh what it does is it doesn't create a node modules file like you might expect",
    "start": "740600",
    "end": "745680"
  },
  {
    "text": "in node um it doesn't cach the package in your local working directory uh",
    "start": "745680",
    "end": "752199"
  },
  {
    "text": "instead it caches them in temporary storage which makes your development experience just a little bit neater you",
    "start": "752199",
    "end": "757560"
  },
  {
    "text": "don't have that ugly folder with all those files right there in your working directory uh and it's it's just it makes",
    "start": "757560",
    "end": "766399"
  },
  {
    "text": "uh your developer experience just a little bit faster so let's build our app now we're going to need to make a folder",
    "start": "766399",
    "end": "774199"
  },
  {
    "text": "where we're going to put our app and a folder where we're going to put our backend so I'm going to make a directory",
    "start": "774199",
    "end": "779800"
  },
  {
    "text": "folder and I'm going to make a server a server directory uh so my new",
    "start": "779800",
    "end": "787920"
  },
  {
    "text": "uh have I got them in there no you can't see them in there that's fine so inside of the uh root directory",
    "start": "787920",
    "end": "797120"
  },
  {
    "text": "we're going to also need to configure our V project uh so we're going to just make this V config file uh and what",
    "start": "797120",
    "end": "804560"
  },
  {
    "text": "that's going to do is make sure that we're looking at our client directory which is where we're going to actually",
    "start": "804560",
    "end": "810120"
  },
  {
    "text": "build this app so we've just got a root client there um and then when we run",
    "start": "810120",
    "end": "815839"
  },
  {
    "text": "Dino task feet start feat is going to get executed by Dino and be ready to host whatever app we put into that",
    "start": "815839",
    "end": "822720"
  },
  {
    "text": "client directory uh for the sake of brevity now uh I'm not going to show you how to",
    "start": "822720",
    "end": "829000"
  },
  {
    "text": "build a hello world react app or a hello world V app uh this is all beautifully documented on the web I'm sure it's",
    "start": "829000",
    "end": "835320"
  },
  {
    "text": "something you've all done many many times before um but what you're going to do in that client app is you know set up",
    "start": "835320",
    "end": "842759"
  },
  {
    "text": "your your hello world VAP your hello world react app you can literally use create react app inside that directory",
    "start": "842759",
    "end": "850000"
  },
  {
    "text": "if you want to um but what we'll do for now is you'll need an index HTML and an",
    "start": "850000",
    "end": "856959"
  },
  {
    "text": "index TS file inside of that client directory just to get started so let's",
    "start": "856959",
    "end": "862480"
  },
  {
    "text": "talk about the app that we're going to actually build on top of our Hello World um oh yeah so once you've got that",
    "start": "862480",
    "end": "869959"
  },
  {
    "text": "all set up once you set up your hello world this is what your directory structure will look like so we've got",
    "start": "869959",
    "end": "875120"
  },
  {
    "text": "that client directory with our app inside it and at the moment our server directory is is",
    "start": "875120",
    "end": "880959"
  },
  {
    "text": "empty so what are we going to build we're going to build a super basic little UI it's got a text area where",
    "start": "880959",
    "end": "887320"
  },
  {
    "text": "users are going to type in the code this is not going to be beautifully styled",
    "start": "887320",
    "end": "892639"
  },
  {
    "text": "there are a bunch of libraries out there that can do things like um uh syntax highlighting and things",
    "start": "892639",
    "end": "899240"
  },
  {
    "text": "like that on code editors for you I'm not going to talk about that today we're just going to talk about the functionality of it so this is going to",
    "start": "899240",
    "end": "905800"
  },
  {
    "text": "be not the most beautiful thing you've ever seen um but this is what we're",
    "start": "905800",
    "end": "910920"
  },
  {
    "text": "going to make uh we're going to have an area where we can display the output of the code that they run and then we're",
    "start": "910920",
    "end": "917360"
  },
  {
    "text": "going to write some API functionality to actually create these code boxes when people actually choose to run some",
    "start": "917360",
    "end": "924920"
  },
  {
    "text": "code and this is what it's going to look like so remember I talked about the sub hosting API earlier uh that allows us to",
    "start": "924920",
    "end": "933120"
  },
  {
    "text": "run untrusted code and return an output we're going to write a backend API that",
    "start": "933120",
    "end": "938839"
  },
  {
    "text": "is going to call Dino sub hosting it's going to create a new project it's going to run the code in that project and then",
    "start": "938839",
    "end": "945639"
  },
  {
    "text": "it's going to return the results so that we can show them in our",
    "start": "945639",
    "end": "950519"
  },
  {
    "text": "UI and we're going to use react router we're going to make a single page app",
    "start": "951839",
    "end": "957480"
  },
  {
    "text": "and uh this is going to be the component that presents the text area to us so if",
    "start": "957480",
    "end": "964720"
  },
  {
    "text": "you take a look here you can see we've got a text area where the user can type in their code underneath that we've got",
    "start": "964720",
    "end": "971279"
  },
  {
    "text": "a button where they can run and then I've got this deployment viewer component which is uh just the place",
    "start": "971279",
    "end": "977360"
  },
  {
    "text": "where uh we've got an iframe which is going to show the instance of the running code sample that they have just",
    "start": "977360",
    "end": "985839"
  },
  {
    "text": "run so let's take a look then uh let's let's expand this file out a bit so inside here we've just got a few",
    "start": "985839",
    "end": "994600"
  },
  {
    "text": "State variables which are actually going to make this component reactive uh so we can see where we can",
    "start": "994600",
    "end": "1000920"
  },
  {
    "text": "set the URL of that um iframe uh we can set a status on the button that says",
    "start": "1000920",
    "end": "1007160"
  },
  {
    "text": "like we're running right now that kind of thing uh and we can update the actual",
    "start": "1007160",
    "end": "1012720"
  },
  {
    "text": "code the most important part of this document is our deploy changes function",
    "start": "1012720",
    "end": "1018279"
  },
  {
    "text": "so when our user clicks on the Run button to deploy their changes we're going to call our backend API and this",
    "start": "1018279",
    "end": "1025000"
  },
  {
    "text": "API is going to interact with the dino sub hosting API to take a copy of that code host it in a brand new running",
    "start": "1025000",
    "end": "1032520"
  },
  {
    "text": "function and then each sub hosted function is going to have its own URL",
    "start": "1032520",
    "end": "1037839"
  },
  {
    "text": "and the deployment viewer is what's going to display the content that is at that",
    "start": "1037839",
    "end": "1044319"
  },
  {
    "text": "URL another thing of interest in this app is our API client which is responsible for all",
    "start": "1044919",
    "end": "1051679"
  },
  {
    "text": "of the fetch requests that we're going to be doing and there's a few functions in here so first of all we have the uh",
    "start": "1051679",
    "end": "1059080"
  },
  {
    "text": "loading sample code which is here uh just in case when the user comes to the",
    "start": "1059080",
    "end": "1064720"
  },
  {
    "text": "page we don't want them to try and run nothing so we're just going to give them a bit of sample code that they can run",
    "start": "1064720",
    "end": "1070880"
  },
  {
    "text": "on their first landing of the page then we have this deploy project",
    "start": "1070880",
    "end": "1076640"
  },
  {
    "text": "function which is responsible for both cre creating and updating the code",
    "start": "1076640",
    "end": "1082120"
  },
  {
    "text": "sandboxes uh then we have our wait for deployment function which is what we're",
    "start": "1082120",
    "end": "1087559"
  },
  {
    "text": "going to use to poll to see if the running function is ready to show",
    "start": "1087559",
    "end": "1092760"
  },
  {
    "text": "yet and we have uh this uh wait for",
    "start": "1092760",
    "end": "1098600"
  },
  {
    "text": "deployment uh function which is going to just uh get the deployment API but we've",
    "start": "1098600",
    "end": "1107200"
  },
  {
    "text": "not built out any of these API yet so let's do that now so when we deploy this application",
    "start": "1107200",
    "end": "1114880"
  },
  {
    "text": "we're going to need to have something to host it first because at the moment we've just got vit doing that job for us",
    "start": "1114880",
    "end": "1121120"
  },
  {
    "text": "locally so to make sure vit and the backend apis play nicely together we're going to have to add a couple more tasks",
    "start": "1121120",
    "end": "1128080"
  },
  {
    "text": "into our Dino Json that we'll then use during the CI so we're going to create a",
    "start": "1128080",
    "end": "1134840"
  },
  {
    "text": "dino server side app that we can deploy which is actually going to host boost our react app uh when we are using it in",
    "start": "1134840",
    "end": "1143679"
  },
  {
    "text": "in the deployed version so we are going to uh yeah create this new task here which is",
    "start": "1143679",
    "end": "1150480"
  },
  {
    "text": "server start uh we're going to move that main TS file that got created when we did our",
    "start": "1150480",
    "end": "1156400"
  },
  {
    "text": "Dino init into our uh server file server uh directory sorry um and then we can",
    "start": "1156400",
    "end": "1163799"
  },
  {
    "text": "start editing in there uh so what happens is when we",
    "start": "1163799",
    "end": "1168880"
  },
  {
    "text": "deploy the project we'll use this Dino server side act to app to host our",
    "start": "1168880",
    "end": "1174280"
  },
  {
    "text": "backend API so that react can then call it uh so let's update that main TS file",
    "start": "1174280",
    "end": "1181480"
  },
  {
    "text": "now that we've just moved into the server directory so this is the entry the entry point for our server side",
    "start": "1181480",
    "end": "1188159"
  },
  {
    "text": "backend API uh this file uses a web framework called Oak which is going to do just",
    "start": "1188159",
    "end": "1194280"
  },
  {
    "text": "some basic URL routing uh and you can see here this is kind of one of the cool things about Dino uh you",
    "start": "1194280",
    "end": "1201720"
  },
  {
    "text": "can directly import packages as well as importing them through Dino Json so you can see in here we're actually directly",
    "start": "1201720",
    "end": "1209480"
  },
  {
    "text": "importing the oak package from jsr jsr is just a modern package",
    "start": "1209480",
    "end": "1216080"
  },
  {
    "text": "registry for ES modules so if you're writing modern JavaScript check out",
    "start": "1216080",
    "end": "1221640"
  },
  {
    "text": "jsr um and Dino can resolve those packages at runtime when the script executes which is going to be super",
    "start": "1221640",
    "end": "1228679"
  },
  {
    "text": "helpful for us later when we might want to run these things inside our serverless functions so in this file",
    "start": "1228679",
    "end": "1235480"
  },
  {
    "text": "we're just initializing Oak we're asking it to root some static files from client disc inside of our current working",
    "start": "1235480",
    "end": "1242960"
  },
  {
    "text": "directory and this is the location that V is going to use to compile the static assets of our react",
    "start": "1242960",
    "end": "1251080"
  },
  {
    "text": "app uh so when we run this app after we've compiled the react app it's going",
    "start": "1251440",
    "end": "1256640"
  },
  {
    "text": "to act as a web server and it's going to serve the react app that we've just made uh we've already set up our V config to",
    "start": "1256640",
    "end": "1263679"
  },
  {
    "text": "proxy to/ API and back to this server and just what all of this configuration",
    "start": "1263679",
    "end": "1269919"
  },
  {
    "text": "does for us is it lets us use v as our Dev server locally and it lets us use uh",
    "start": "1269919",
    "end": "1276320"
  },
  {
    "text": "this uh Doo app as our server side app it gives us a nice local Dev experience",
    "start": "1276320",
    "end": "1283440"
  },
  {
    "text": "uh like feet gives us hot reloading all the things that we love about feet but in production the dino app is what's",
    "start": "1283440",
    "end": "1289679"
  },
  {
    "text": "actually going to be hosting our little uh",
    "start": "1289679",
    "end": "1294960"
  },
  {
    "text": "editor so we're going to then update the server side API with functions which are",
    "start": "1295080",
    "end": "1300400"
  },
  {
    "text": "going to implement the features that we talked about earlier uh so we need to get the sample code we need to deploy",
    "start": "1300400",
    "end": "1307240"
  },
  {
    "text": "the project and we need to get the deployment and you'll notice in here",
    "start": "1307240",
    "end": "1312320"
  },
  {
    "text": "each route is mapped using its verb and its path followed by the function that",
    "start": "1312320",
    "end": "1317400"
  },
  {
    "text": "is actually going to handle this request and finally you will see a root static",
    "start": "1317400",
    "end": "1322559"
  },
  {
    "text": "files from helper that make sure the react app aexs get served correctly in",
    "start": "1322559",
    "end": "1328520"
  },
  {
    "text": "production so let's actually build out each of these functions",
    "start": "1328520",
    "end": "1334278"
  },
  {
    "text": "now so a first good example of what a oak root handle looks like let's take a",
    "start": "1334600",
    "end": "1341559"
  },
  {
    "text": "look at get sample code so this is a nice simple file all it does is it loads a file from the file system us using",
    "start": "1341559",
    "end": "1348720"
  },
  {
    "text": "Doo's file system apis and it Returns the body in a Json object so if you can",
    "start": "1348720",
    "end": "1356000"
  },
  {
    "text": "kind of see how Oak works here you need to assign the response body of the context object provided as a function",
    "start": "1356000",
    "end": "1363240"
  },
  {
    "text": "argument but let's take a look at something a bit more interesting",
    "start": "1363240",
    "end": "1368679"
  },
  {
    "text": "now so uh deploy project TS is what's going to do most of the work of this app",
    "start": "1369919",
    "end": "1376960"
  },
  {
    "text": "uh it's what's going to create new sub hosting instances and when this API is",
    "start": "1376960",
    "end": "1382200"
  },
  {
    "text": "called the first thing we're going to do is we're going to check see whether",
    "start": "1382200",
    "end": "1387279"
  },
  {
    "text": "there's an ID that's been passed uh we're going to pass this ID as a URL",
    "start": "1387279",
    "end": "1392640"
  },
  {
    "text": "parameter from the oakter if we find one we presume that we already have an existing project that",
    "start": "1392640",
    "end": "1399000"
  },
  {
    "text": "we're updating if we don't have one we are going to create a new one so we'll",
    "start": "1399000",
    "end": "1404440"
  },
  {
    "text": "get it to create a new project for us once we've got a valid project ID",
    "start": "1404440",
    "end": "1410919"
  },
  {
    "text": "regardless of it being new or existing we're going to work out what content we want to update this project",
    "start": "1410919",
    "end": "1417320"
  },
  {
    "text": "with so uh if our API received some code as part of the response body we're going",
    "start": "1417320",
    "end": "1422799"
  },
  {
    "text": "to use that assuming that a user has typed in this code uh otherwise we're",
    "start": "1422799",
    "end": "1428600"
  },
  {
    "text": "going to default to the sample code uh which is what will happen when we create",
    "start": "1428600",
    "end": "1434320"
  },
  {
    "text": "a new project from SC from scratch and then once we've got our",
    "start": "1434320",
    "end": "1439640"
  },
  {
    "text": "project ID and we've got the code we're going to create a new files map which is",
    "start": "1439640",
    "end": "1444679"
  },
  {
    "text": "basically just pretending to be a file system where we give each file uploaded",
    "start": "1444679",
    "end": "1449760"
  },
  {
    "text": "a file name and we give it some contents so some text some code but in this",
    "start": "1449760",
    "end": "1456320"
  },
  {
    "text": "example we're only ever uploading one file which is going to be our entry point which is main",
    "start": "1456320",
    "end": "1462640"
  },
  {
    "text": "TS we then ask our client to deploy our project passing the maps uh the files",
    "start": "1462640",
    "end": "1469399"
  },
  {
    "text": "map and then we return the project the de the deployment and the subsequent",
    "start": "1469399",
    "end": "1475720"
  },
  {
    "text": "deployed uh URL back to our web UI which can then be loaded into an",
    "start": "1475720",
    "end": "1482480"
  },
  {
    "text": "iframe it super warm up",
    "start": "1482480",
    "end": "1486559"
  },
  {
    "text": "here uh and in order to keep our HTTP API handlers nice and simple we've",
    "start": "1490000",
    "end": "1496799"
  },
  {
    "text": "created this Doo posting client. TS file um which this is some a bridged code",
    "start": "1496799",
    "end": "1504559"
  },
  {
    "text": "here but all we're doing is we're sending requests to Dino's sub hosting API using fetch which is built into Dino",
    "start": "1504559",
    "end": "1513159"
  },
  {
    "text": "which is super cool um and each of the functions on the sub hosting client",
    "start": "1513159",
    "end": "1518320"
  },
  {
    "text": "represent a dino API call we validate our status codes we add some nice",
    "start": "1518320",
    "end": "1523880"
  },
  {
    "text": "typescript definitions to the response object as we return them so let's talk a",
    "start": "1523880",
    "end": "1530200"
  },
  {
    "text": "little bit about what sub hosting actually does it's a collection of API endpoints",
    "start": "1530200",
    "end": "1538360"
  },
  {
    "text": "that allow you to create projects these projects can be owned by your organization on you know deploy and you",
    "start": "1538360",
    "end": "1546960"
  },
  {
    "text": "you get authentication credentials which allow you to create as many projects as you like and you can deploy as many",
    "start": "1546960",
    "end": "1553279"
  },
  {
    "text": "deployments as you like into those projects and they will each have their own distinct urls",
    "start": "1553279",
    "end": "1559440"
  },
  {
    "text": "projects are you can think of them as like an organizational unit within deploy and deployments share No data",
    "start": "1559440",
    "end": "1566840"
  },
  {
    "text": "between each other even if they belong to the same project so we've got extra security there um and if you take a look",
    "start": "1566840",
    "end": "1574840"
  },
  {
    "text": "I don't know if you can how clearly you can see the screenshot um but there's some examples of what you can do with",
    "start": "1574840",
    "end": "1581399"
  },
  {
    "text": "each end point there so create deployment redeploy uh get deployment",
    "start": "1581399",
    "end": "1586520"
  },
  {
    "text": "details that kind of thing um so when you uh use sub hosting you",
    "start": "1586520",
    "end": "1592360"
  },
  {
    "text": "have an organization your organization can contain projects and projects can contain deployments and the calls you uh",
    "start": "1592360",
    "end": "1600720"
  },
  {
    "text": "will make to implement uh anything that you're building with",
    "start": "1600720",
    "end": "1606080"
  },
  {
    "text": "sub hosting are going to be to SL organization SL projects or SL deployments depending on what it is that",
    "start": "1606080",
    "end": "1612200"
  },
  {
    "text": "you want to do and if you have multiple tenants or you have customers yourself",
    "start": "1612200",
    "end": "1617919"
  },
  {
    "text": "that you want to be selling uh serverless functions to you'll be able",
    "start": "1617919",
    "end": "1624520"
  },
  {
    "text": "to capture all of their billing information separately uh per project",
    "start": "1624520",
    "end": "1630120"
  },
  {
    "text": "because analytics are treated at a project level um and for the sake of this demo",
    "start": "1630120",
    "end": "1637360"
  },
  {
    "text": "each sandb box is going to be its own project with each edit resulting in a",
    "start": "1637360",
    "end": "1642559"
  },
  {
    "text": "fresh deployment with distinct URLs uh in a real world scenario what",
    "start": "1642559",
    "end": "1648279"
  },
  {
    "text": "you probably want to do is delete older deployments as users make changes uh",
    "start": "1648279",
    "end": "1656600"
  },
  {
    "text": "just uh because it's a bit neater and you will treat users as a sort of project per user organizational",
    "start": "1656600",
    "end": "1664279"
  },
  {
    "text": "pattern uh and for those of you who are interested in what sub hosting is actually doing um it's an Innovative",
    "start": "1664279",
    "end": "1672799"
  },
  {
    "text": "approach to the idea of shared compute so Doo deployments are deployed into V8",
    "start": "1672799",
    "end": "1677840"
  },
  {
    "text": "is each one gets his own distinct sandbox instance of the V8 engine which is going",
    "start": "1677840",
    "end": "1683799"
  },
  {
    "text": "to execute in and each isolate has access to a virtualized file system and",
    "start": "1683799",
    "end": "1690200"
  },
  {
    "text": "a sandboxed runtime so each isolate is a completely separate state has completely",
    "start": "1690200",
    "end": "1696320"
  },
  {
    "text": "separate objects they they can't be used within one another so again we're we're creating that sort of secure",
    "start": "1696320",
    "end": "1703399"
  },
  {
    "text": "environment uh on top of that Doo sub hosting uses two vpcs",
    "start": "1703399",
    "end": "1708679"
  },
  {
    "text": "one for rooting incoming requests and another for isolates to actually access the internet so you're getting uh",
    "start": "1708679",
    "end": "1717240"
  },
  {
    "text": "isolation between uh Network traffic which again more security that's what we",
    "start": "1717240",
    "end": "1722480"
  },
  {
    "text": "want more isolation more security so we've built up this project",
    "start": "1722480",
    "end": "1728279"
  },
  {
    "text": "we're going to deploy it into the cloud uh with doo deploy and test it out I",
    "start": "1728279",
    "end": "1733399"
  },
  {
    "text": "mentioned earlier Dino deploy is very like any other hosting platform that you've used",
    "start": "1733399",
    "end": "1738679"
  },
  {
    "text": "uh it's an online tool it's got gitops based CD tools you've you've seen all of",
    "start": "1738679",
    "end": "1744600"
  },
  {
    "text": "this before uh it's got its own little uh control panel and what it does is it",
    "start": "1744600",
    "end": "1750679"
  },
  {
    "text": "creates GitHub actions that um will then allow you to uh update your deployed",
    "start": "1750679",
    "end": "1758480"
  },
  {
    "text": "project every time you make a change uh and it's got this step here where you can basically set up a a",
    "start": "1758480",
    "end": "1765799"
  },
  {
    "text": "configuration so what entry Point am I going to need what uh build tasks am I",
    "start": "1765799",
    "end": "1771880"
  },
  {
    "text": "using um and the important thing that we have to enter here is we do our Doo task",
    "start": "1771880",
    "end": "1777120"
  },
  {
    "text": "build command to make sure this thing is actually going to build and then we what that's going to do is make sure that",
    "start": "1777120",
    "end": "1782840"
  },
  {
    "text": "feat compiles our react app into the correct location and it can be served once it's been",
    "start": "1782840",
    "end": "1789440"
  },
  {
    "text": "deployed and uh yeah so our editor has",
    "start": "1789440",
    "end": "1794760"
  },
  {
    "text": "been successfully deployed um and here is is one that I deployed earlier so uh",
    "start": "1794760",
    "end": "1801760"
  },
  {
    "text": "let us all say a quick prayer to the demo",
    "start": "1801760",
    "end": "1807480"
  },
  {
    "text": "Gods so this is our beautiful interactive sandbox so here you can see",
    "start": "1807480",
    "end": "1813679"
  },
  {
    "text": "this was our uh stter code that we gave them uh in case they haven't entered",
    "start": "1813679",
    "end": "1820080"
  },
  {
    "text": "anything but obviously we are developers and we want to actually edit the code",
    "start": "1820080",
    "end": "1826440"
  },
  {
    "text": "ourselves so there we go so now we see our text input our text area that we",
    "start": "1826440",
    "end": "1832320"
  },
  {
    "text": "made and uh yep we can run it and we've got the response hello world and we can",
    "start": "1832320",
    "end": "1837960"
  },
  {
    "text": "edit in here so I can say hello",
    "start": "1837960",
    "end": "1842559"
  },
  {
    "text": "Copenhagen and I can run it uh the Wi-Fi in here is not super",
    "start": "1843159",
    "end": "1851000"
  },
  {
    "text": "duper Speedy there we go um so uh yeah we can see that we can run users code we",
    "start": "1851000",
    "end": "1859360"
  },
  {
    "text": "can see an output uh and this is super cool uh because we can as I mentioned earlier we",
    "start": "1859360",
    "end": "1866279"
  },
  {
    "text": "can uh we can do some slightly more complicated things so uh this example",
    "start": "1866279",
    "end": "1873159"
  },
  {
    "text": "here is using Dino serve which is just a really nice lightweight um HTTP server",
    "start": "1873159",
    "end": "1879200"
  },
  {
    "text": "which is built into Dino but what if we wanted to do something a little bit more complicated uh what if we wanted to",
    "start": "1879200",
    "end": "1886519"
  },
  {
    "text": "maybe use Oak again and do some more complicated rooting uh well we can absolutely do",
    "start": "1886519",
    "end": "1893799"
  },
  {
    "text": "that so let's",
    "start": "1893799",
    "end": "1898398"
  },
  {
    "text": "uh take a look at our Oak example from earlier so here I am importing Oak directly from",
    "start": "1899200",
    "end": "1908760"
  },
  {
    "text": "jsr uh I'm setting up uh a root just to slash and uh if I run this",
    "start": "1908760",
    "end": "1918880"
  },
  {
    "text": "come on yay awesome and we could we could",
    "start": "1924039",
    "end": "1930080"
  },
  {
    "text": "potentially set this up um with a whole load of different routes um at the moment I've only the demo only allows",
    "start": "1930080",
    "end": "1937600"
  },
  {
    "text": "for slash but if we wanted to start doing more complicated things we absolutely could um we can as you can",
    "start": "1937600",
    "end": "1944240"
  },
  {
    "text": "see we can import modules that we might need uh from jsr directly and run them",
    "start": "1944240",
    "end": "1950279"
  },
  {
    "text": "at runtime like this is super cool we can start to do some really complicated things and actually execute third party",
    "start": "1950279",
    "end": "1957840"
  },
  {
    "text": "code in a safe and secure",
    "start": "1957840",
    "end": "1963398"
  },
  {
    "text": "environment and okay let's swap back where is my mouse there it is",
    "start": "1963960",
    "end": "1973278"
  },
  {
    "text": "so that was a completely wallwind introduction to dino to deploy to sub",
    "start": "1978600",
    "end": "1984880"
  },
  {
    "text": "hosting to serverless functions um and the code for this demo is available at",
    "start": "1984880",
    "end": "1990559"
  },
  {
    "text": "GitHub at the above URL um and this is the QR code for the slide deck so if you",
    "start": "1990559",
    "end": "1996240"
  },
  {
    "text": "want to uh go through it at a slightly slower Pace uh it's all in there all of",
    "start": "1996240",
    "end": "2001720"
  },
  {
    "text": "my speaker notes are in there so it'll talk you through setting up a project um",
    "start": "2001720",
    "end": "2008240"
  },
  {
    "text": "Dino has some super exciting news coming up in the next couple of months so uh keep your ears peeled for that or come",
    "start": "2008240",
    "end": "2016039"
  },
  {
    "text": "have a chat with me after the talk I would really love to hear about how you're using Dino uh if you are using",
    "start": "2016039",
    "end": "2022480"
  },
  {
    "text": "Dino if you're thinking about using Dino I'd really love to chat to you and uh",
    "start": "2022480",
    "end": "2027880"
  },
  {
    "text": "yeah thank you so much for listening [Applause]",
    "start": "2027880",
    "end": "2039359"
  }
]