[
  {
    "text": "all right I think it's time to start for the last people came in there are still",
    "start": "9559",
    "end": "14730"
  },
  {
    "text": "some seats scattered around but it looks like almost everyone is seated so I think it's time to start with my talk",
    "start": "14730",
    "end": "21750"
  },
  {
    "text": "about robots wizards and god damned infrastructure or as you might have read",
    "start": "21750",
    "end": "30810"
  },
  {
    "text": "in the program how to be cool in the age of legacy so today I'm going to take you",
    "start": "30810",
    "end": "36960"
  },
  {
    "text": "through a quick journey about some interesting parts about Alex Davis transition from sort of like",
    "start": "36960",
    "end": "42059"
  },
  {
    "text": "old-fashioned hosting to public cloud first a few words about myself I am",
    "start": "42059",
    "end": "49739"
  },
  {
    "text": "multicolored fog chef in Beck which basically means that I'm a middle manager who still gets to program a bit and I've",
    "start": "49739",
    "end": "56190"
  },
  {
    "text": "been working with addictive as a consultant for a year and a half and I'm a developer turned DevOps and my",
    "start": "56190",
    "end": "62460"
  },
  {
    "text": "background is definitely primarily from the developer part of the DevOps",
    "start": "62460",
    "end": "67800"
  },
  {
    "text": "equation I'm a Java developer originally but luckily for me like half the team",
    "start": "67800",
    "end": "73350"
  },
  {
    "text": "I'm working in is from a more operations kind of background which i think is kind",
    "start": "73350",
    "end": "78360"
  },
  {
    "text": "of healthy because much of what I've been learning earlier in the DevOps space is developers trying to do both",
    "start": "78360",
    "end": "83579"
  },
  {
    "text": "development and ops and that is if you've seen that it's kind of cool but",
    "start": "83579",
    "end": "89310"
  },
  {
    "text": "not very pretty so first I want to do a live demo and I want to inform you that",
    "start": "89310",
    "end": "95659"
  },
  {
    "text": "everything I'm gonna do now is live in production on actually like quite",
    "start": "95659",
    "end": "100740"
  },
  {
    "text": "heavily used production systems so if something goes bad and someone in the center back row screams and runs out",
    "start": "100740",
    "end": "107039"
  },
  {
    "text": "that's something we agreed to do but it's definitely me that something went super bad okay so Oh wrong screen okay",
    "start": "107039",
    "end": "117840"
  },
  {
    "text": "we can fix that mirror and here we are",
    "start": "117840",
    "end": "125009"
  },
  {
    "text": "hello Amazon so first I want to show you something",
    "start": "125009",
    "end": "132940"
  },
  {
    "text": "called easy too how many here know what easy to is okay",
    "start": "132940",
    "end": "137950"
  },
  {
    "text": "not everyone probably more crowded than a little bisque round so we said to is the Elastic Compute cloud part of AWS",
    "start": "137950",
    "end": "145690"
  },
  {
    "text": "which is basically where they run virtual machines so you could see say that ec2 is basically the cornerstone",
    "start": "145690",
    "end": "151210"
  },
  {
    "text": "for everything in Amazon it's rare that you do this like the simple virtual machine thing and I was going to talk",
    "start": "151210",
    "end": "156400"
  },
  {
    "text": "too much about that I'm just going to show you something real quick and then I will jump back to that later so let's find something called Auto",
    "start": "156400",
    "end": "162600"
  },
  {
    "text": "where's my search auto auto scaling so I",
    "start": "162600",
    "end": "172030"
  },
  {
    "text": "click the auto scaling groups button here and I search for something called",
    "start": "172030",
    "end": "177430"
  },
  {
    "text": "play so you can see that I find two auto scaling groups here and you probably don't know what that is but that does",
    "start": "177430",
    "end": "183550"
  },
  {
    "text": "matter so choose one of them and we can see currently it's scaled to probably",
    "start": "183550",
    "end": "189280"
  },
  {
    "text": "pretty hard to see let's zoom in a bit desired capacity to minimum to maximum for and I'm gonna edit this and I'm",
    "start": "189280",
    "end": "196840"
  },
  {
    "text": "gonna say desired capacity is now three for the play API so just like two words about all to play guys the play API is",
    "start": "196840",
    "end": "203560"
  },
  {
    "text": "basically our back-end for playing things so when it except is probably not",
    "start": "203560",
    "end": "210459"
  },
  {
    "text": "what TV distribution company so whenever you play something be that on your TV",
    "start": "210459",
    "end": "216010"
  },
  {
    "text": "box or on the streaming platform on the web or whatever we used to play API so if this goes down then there's no TV for",
    "start": "216010",
    "end": "221920"
  },
  {
    "text": "anyone until we run out screaming and fix it so let's scale that up to three save it and we can see up here that",
    "start": "221920",
    "end": "231150"
  },
  {
    "text": "there's an exclamation mark here on this thesis so it says instances may be in the process of launching hopefully",
    "start": "231150",
    "end": "236620"
  },
  {
    "text": "terminating hopefully not and where something is going to start happening here so we're gonna jump over to cabana",
    "start": "236620",
    "end": "242980"
  },
  {
    "text": "how many hairs you have used to bottom before about half okay so Cubana is",
    "start": "242980",
    "end": "249400"
  },
  {
    "text": "basically a log aggregation tool so it takes log lines and lets you do pretty",
    "start": "249400",
    "end": "255400"
  },
  {
    "text": "cool analysis on top of it so what we're seeing here is the HTTP",
    "start": "255400",
    "end": "261010"
  },
  {
    "text": "request log for for the play API can see I done requested hose filtering here we just see all the requests going",
    "start": "261010",
    "end": "268030"
  },
  {
    "text": "against play ap idols extended I know so currently there's about 250 requests per",
    "start": "268030",
    "end": "275590"
  },
  {
    "text": "30 seconds so I'm gonna add what's called a sub bucket here and split the",
    "start": "275590",
    "end": "280659"
  },
  {
    "text": "series on terms you don't need to know what that is and we gonna split it on host so what we",
    "start": "280659",
    "end": "289120"
  },
  {
    "text": "basically do then is that we see the number of HTTP requests coming in per",
    "start": "289120",
    "end": "294189"
  },
  {
    "text": "server we have survey those requests so as you can see you have three servers unless you might remember the number",
    "start": "294189",
    "end": "301029"
  },
  {
    "text": "will set to 2 as a side account and that is actually because we have 1 canary node because we can see the purple guy",
    "start": "301029",
    "end": "306069"
  },
  {
    "text": "on top here gets a lot less traffic than to 2-under and that's because this guy probably a little bit hard to see but it",
    "start": "306069",
    "end": "312009"
  },
  {
    "text": "says WP CA and to see there in the server name stands for canary so it only gets about 5% of the traffic and that",
    "start": "312009",
    "end": "320080"
  },
  {
    "text": "scoots we can do canary deploy so we can deploy new versions there and see will it start failing in ways that we didn't",
    "start": "320080",
    "end": "325449"
  },
  {
    "text": "with a previous version so what you can see here is then this is cumulative so you can see the 250 requests split on 16",
    "start": "325449",
    "end": "332500"
  },
  {
    "text": "of them going to this server 111 to this one and 109 to this one and we're gonna",
    "start": "332500",
    "end": "339339"
  },
  {
    "text": "get back to that later but for now let's talk a little bit but a bit more about it Xterra ok so you're not gonna have",
    "start": "339339",
    "end": "345610"
  },
  {
    "text": "that on top of the presentation okay so extent I'm guessing probably a",
    "start": "345610",
    "end": "355300"
  },
  {
    "text": "lot of you are in the regions and then I guess we're almost all the regions except it uses like yeah I know a little",
    "start": "355300",
    "end": "361509"
  },
  {
    "text": "bit about that company and it's old in a way right it's not like the most modern",
    "start": "361509",
    "end": "366879"
  },
  {
    "text": "connotation you're gonna get with a brand name because the Xterra is or at least was the antenna on the wall",
    "start": "366879",
    "end": "373599"
  },
  {
    "text": "company so what we did like the whole business idea of Xterra going back a few years combines huge masts on top of",
    "start": "373599",
    "end": "382659"
  },
  {
    "text": "mountains which gives great coverage almost everywhere I think there are 87",
    "start": "382659",
    "end": "388270"
  },
  {
    "text": "of those huge masts and then it a beam TV everywhere so people use that in",
    "start": "388270",
    "end": "393339"
  },
  {
    "text": "their houses in their cabins in their what we call it Ramon in a region or mobile homes in",
    "start": "393339",
    "end": "399940"
  },
  {
    "text": "English and even on boats and it's it's been a bit like a pretty good business for quite a few years so this took over",
    "start": "399940",
    "end": "406990"
  },
  {
    "text": "for the old like traditional broadcasting were yet NRK and TV to then",
    "start": "406990",
    "end": "412780"
  },
  {
    "text": "that started bit to be modernized and things from the IT point of view that is a fairly simple business model you need",
    "start": "412780",
    "end": "419800"
  },
  {
    "text": "a CRM system so you need a customer relationship management system you need the hardware for your TV boxes you need",
    "start": "419800",
    "end": "429100"
  },
  {
    "text": "to provision to say that ok this guy gets access to this content this girl gets access to this content but it's all",
    "start": "429100",
    "end": "435400"
  },
  {
    "text": "like mostly you just combine things you buy software here you buy hardware there and it plug it together with some",
    "start": "435400",
    "end": "441220"
  },
  {
    "text": "integrations and I'm guessing the people who did that ten years ago or five years ago wouldn't agree that it was easy but",
    "start": "441220",
    "end": "447940"
  },
  {
    "text": "compared to what we're doing now it's like it's fairly easy from the IT side is mostly about sourcing and combining",
    "start": "447940",
    "end": "453850"
  },
  {
    "text": "things doing logistics and sale sales and then you have a good business idea then enter this thing here people",
    "start": "453850",
    "end": "462580"
  },
  {
    "text": "started buying cell phones which is good I have a cell phone and I like it and then these guys",
    "start": "462580",
    "end": "468370"
  },
  {
    "text": "started doing things as well so streaming very quickly became normalized",
    "start": "468370",
    "end": "474700"
  },
  {
    "text": "or commoditized when YouTube are here because youtube sort of changed the whole playing field as what what of what",
    "start": "474700",
    "end": "481120"
  },
  {
    "text": "people expected from a streaming platform it should work all the time it suddenly streaming I remember I think",
    "start": "481120",
    "end": "486310"
  },
  {
    "text": "was like seven or eight years ago streaming was still weird I'm not gonna say porn but uh you know porn and then",
    "start": "486310",
    "end": "492849"
  },
  {
    "text": "suddenly YouTube appeared and screaming here everything like I think I already stream the YouTube video today and I",
    "start": "492849",
    "end": "499510"
  },
  {
    "text": "like being here all day so I don't know why that happened but like you do streaming all the time so your",
    "start": "499510",
    "end": "506410"
  },
  {
    "text": "expectations to streaming platforms start to increase rapidly and people don't distinguish that like okay YouTube huge American company dick stiva or get",
    "start": "506410",
    "end": "514450"
  },
  {
    "text": "to or whatever sort of smallish Norwegian companies with a whole different business model you just expect",
    "start": "514450",
    "end": "519520"
  },
  {
    "text": "everything to be as good as the best thing you use so people expect except to have a streaming platform and you expect",
    "start": "519520",
    "end": "525520"
  },
  {
    "text": "it to be up all the time and to be great in the terms of feature set and then",
    "start": "525520",
    "end": "531010"
  },
  {
    "text": "suddenly this others things started happening in the TV industry as well which is suddenly everyone becomes a streaming provider so",
    "start": "531010",
    "end": "537199"
  },
  {
    "text": "we get an S like so you get HBO we get an RK you get via play and I'm pretty sure you can get like 10 or 15 different",
    "start": "537199",
    "end": "544820"
  },
  {
    "text": "streaming platform with sort of different content but also kinda the same content at the same time and that",
    "start": "544820",
    "end": "551120"
  },
  {
    "text": "obviously means that the market becomes super competitive so time to market",
    "start": "551120",
    "end": "556370"
  },
  {
    "text": "becomes really critical and up times becomes just like it's not something you discuss you just need a hundred percent",
    "start": "556370",
    "end": "563300"
  },
  {
    "text": "uptime now obviously that doesn't exist but for us if we have that damn time people change the channel on your TV and",
    "start": "563300",
    "end": "569660"
  },
  {
    "text": "suddenly like the sixth sixth channel doesn't work on your TV box and that",
    "start": "569660",
    "end": "575449"
  },
  {
    "text": "that doesn't fit inside people had like TV doesn't stop working so that's sort of the reality we live in so and then we",
    "start": "575449",
    "end": "582680"
  },
  {
    "text": "also recently launched a new streaming platform called steam it's the first",
    "start": "582680",
    "end": "587839"
  },
  {
    "text": "like completely in a region pure streaming service so it's super early",
    "start": "587839",
    "end": "593630"
  },
  {
    "text": "and it may or may not be a success but it sort of shows the shift we've been going through from sales organization",
    "start": "593630",
    "end": "600680"
  },
  {
    "text": "who could do six hours of them downtime pretty easily six years ago to super",
    "start": "600680",
    "end": "605990"
  },
  {
    "text": "competitive streaming provider now basically try to go what they say head to toe heads to heads trying to compete",
    "start": "605990",
    "end": "612949"
  },
  {
    "text": "with the likes of Netflix so if you haven't checked that out you should definitely check out stream at seam dude",
    "start": "612949",
    "end": "619370"
  },
  {
    "text": "I know you can get a 30-day free trial so you should do that if you haven't and that was enough of the advertisements",
    "start": "619370",
    "end": "626510"
  },
  {
    "text": "today so a little bit about IT in the Xterra so again most of you probably don't know",
    "start": "626510",
    "end": "633800"
  },
  {
    "text": "it external as well so to me it was a bit surprising to figure out that you realize that it's actually from the IT",
    "start": "633800",
    "end": "639889"
  },
  {
    "text": "side a very interesting company we do about a hundred gigabytes of second streaming 100 gigabits per second",
    "start": "639889",
    "end": "647569"
  },
  {
    "text": "streaming during Peet's which of course is a lot of data we get about two or",
    "start": "647569",
    "end": "653120"
  },
  {
    "text": "three hundred requests per second against our backends during normal Peaks and then our traffic is also very very",
    "start": "653120",
    "end": "661250"
  },
  {
    "text": "peaky by native nature because specifically sports sports events drives a lot of traffic because people",
    "start": "661250",
    "end": "667380"
  },
  {
    "text": "want to watch Davinder Olympics you want to watch the their World Cup finals you",
    "start": "667380",
    "end": "672570"
  },
  {
    "text": "want to watch the new episode of X on the beach so like these single things happening that everyone wants to watch",
    "start": "672570",
    "end": "677760"
  },
  {
    "text": "and it's so this is very interesting like especially the Winter Olympics the last time was on in the daytime right so",
    "start": "677760",
    "end": "684300"
  },
  {
    "text": "we think that that drives traffic down but it actually drove traffic up because people are working and watching at work so that's that's good for us we also",
    "start": "684300",
    "end": "693090"
  },
  {
    "text": "have some legacy we don't have like super legacy as I guess some air might",
    "start": "693090",
    "end": "698430"
  },
  {
    "text": "be working with but we definitely come from an old hosting model we have some monolith fish services so that we don't",
    "start": "698430",
    "end": "706320"
  },
  {
    "text": "have that like one super mama with which is like everything evolves around this one but we have a few services that",
    "start": "706320",
    "end": "712890"
  },
  {
    "text": "definitely are way too big and we have that feeling like we need to scale this but we don't want to scale this 80% of",
    "start": "712890",
    "end": "719670"
  },
  {
    "text": "it we just need to scale this like small thing but we can't because it's like stuck together and everything else so we",
    "start": "719670",
    "end": "724920"
  },
  {
    "text": "have that model model with feeling and I'm pretty sure you probably wouldn't be here if you don't know that feeling and",
    "start": "724920",
    "end": "732030"
  },
  {
    "text": "we also have quite interesting mix of in-house development and source services so we combine sort of like both platform",
    "start": "732030",
    "end": "740040"
  },
  {
    "text": "services with commercial off-the-shelf software that we need our hosts ourselves and quite a lot of in-house development and we're not a very huge",
    "start": "740040",
    "end": "749580"
  },
  {
    "text": "organization we are 110 people in total nothing including customer service and",
    "start": "749580",
    "end": "756060"
  },
  {
    "text": "about 40 of us are working with technology in some way so that's either project management or developers or",
    "start": "756060",
    "end": "762060"
  },
  {
    "text": "operations people or whatever and also a fairly interesting thing about the extent it doesn't really fit too well",
    "start": "762060",
    "end": "768420"
  },
  {
    "text": "into this presentation but it's worth mentioning is that we basically all only",
    "start": "768420",
    "end": "773760"
  },
  {
    "text": "do cross-functional teams there's no IT departments I think we have till 12 or 13 teams in total and we",
    "start": "773760",
    "end": "780480"
  },
  {
    "text": "have developers in seven of them so that kind of it gives it it makes it interesting to try to make decisions in",
    "start": "780480",
    "end": "787680"
  },
  {
    "text": "the IT space because there's no centralized there's no like one one one guy one girl who makes every decision",
    "start": "787680",
    "end": "793890"
  },
  {
    "text": "it's just like giving it to bring people together and try to figure things out",
    "start": "793890",
    "end": "799230"
  },
  {
    "text": "and before I move on I also want to give not of the head to this guy still in the center back is the operations guy at six",
    "start": "799230",
    "end": "807750"
  },
  {
    "text": "teller who basically thought up much of what we're discussing here today so we built it together but Truman came",
    "start": "807750",
    "end": "813840"
  },
  {
    "text": "up with a lot of it so and he'll be you really hanging up out of the 67 stand today right yeah so if you want to say",
    "start": "813840",
    "end": "819270"
  },
  {
    "text": "hi to drool or talk about me and how great I am you can find him at the next ever stand okay so so some goals for today a lot of",
    "start": "819270",
    "end": "827460"
  },
  {
    "text": "introduction here now but we're gonna get started technology so what I want to",
    "start": "827460",
    "end": "832620"
  },
  {
    "text": "show you today is that you can build a horse walk or how you can build a horizontal horizontally scalable",
    "start": "832620",
    "end": "837930"
  },
  {
    "text": "infrastructure for dotnet without porting everything to Donetsk or which is like this super specific part of my",
    "start": "837930",
    "end": "843360"
  },
  {
    "text": "talk I want to walk you through what in general is required for her soulful",
    "start": "843360",
    "end": "849300"
  },
  {
    "text": "scaling of infrastructure and last and maybe not least I want to show you that",
    "start": "849300",
    "end": "854610"
  },
  {
    "text": "cool stuff on infrastructure is happening in Norway in reasonably sized companies because at least I've had the",
    "start": "854610",
    "end": "861150"
  },
  {
    "text": "feeling that I go to conferences and I hear from people and they're from Google and therefore Facebook and they're doing like okay that's super awesome and then",
    "start": "861150",
    "end": "868170"
  },
  {
    "text": "I get back to work and I write Java so like yeah it's cool that you're writing service meshes in go but I'm writing",
    "start": "868170",
    "end": "875040"
  },
  {
    "text": "like Java for the enterprise so I just want to show you that a lot of really cool things are definitely possible",
    "start": "875040",
    "end": "880530"
  },
  {
    "text": "without being one of those huge tech companies so a little bit about our team",
    "start": "880530",
    "end": "885740"
  },
  {
    "text": "I work in the site reliability engineering team at 3:7",
    "start": "885740",
    "end": "890930"
  },
  {
    "text": "so moving from the whole sales organization thing into the whole",
    "start": "890930",
    "end": "896490"
  },
  {
    "text": "digital product development company it was decided by tool and some others that we needed to create a mystery team so",
    "start": "896490",
    "end": "905280"
  },
  {
    "text": "sorry for those who don't know is Google's take on professionalized DevOps",
    "start": "905280",
    "end": "910650"
  },
  {
    "text": "so it's basically DevOps done properly and for us that is meant building a lot",
    "start": "910650",
    "end": "918030"
  },
  {
    "text": "of infrastructure in tech obviously but also almost as much discussing and caring about culture quality and",
    "start": "918030",
    "end": "924300"
  },
  {
    "text": "operational awareness so base basically helping the organization's the organization and helping developers know",
    "start": "924300",
    "end": "930900"
  },
  {
    "text": "how to build scale robust quality centered applications",
    "start": "930900",
    "end": "936420"
  },
  {
    "text": "with a lot of users because that's it's partially this technology technology thing but almost to as large a degree",
    "start": "936420",
    "end": "942600"
  },
  {
    "text": "it's some lines that thing and a cultural thing I've been working on that as well and there's we've also been working quite a lot on developer",
    "start": "942600",
    "end": "948630"
  },
  {
    "text": "experience so our team has been working for about a year and a half and we've",
    "start": "948630",
    "end": "953639"
  },
  {
    "text": "been on and off for people it's been a bit like some people coming so I'm going but I would say on average we're four",
    "start": "953639",
    "end": "960149"
  },
  {
    "text": "people and I think we're looking at being maybe closer to three in the long run just to give you sort of a feeling",
    "start": "960149",
    "end": "966360"
  },
  {
    "text": "about what we're talking every we're not at what a twenty people team but it's not like left hand work for two",
    "start": "966360",
    "end": "971880"
  },
  {
    "text": "developers either so what we've been doing mostly is migrating from our old",
    "start": "971880",
    "end": "978810"
  },
  {
    "text": "platform which I think it's fair to say was pretty much becoming a burning",
    "start": "978810",
    "end": "984269"
  },
  {
    "text": "platform as I mentioned briefly briefly earlier we had outages for hours because",
    "start": "984269",
    "end": "989670"
  },
  {
    "text": "just like the platform went down period so there was a lot of migration work",
    "start": "989670",
    "end": "995069"
  },
  {
    "text": "involved and we did a lot a lot of work around that and I think like the triggering point was was it the Winter Olympic storm when you ordered the",
    "start": "995069",
    "end": "1002000"
  },
  {
    "text": "server from the other hosting company I know it doesn't matter there was a huge sporting event coming up and we were",
    "start": "1002000",
    "end": "1007339"
  },
  {
    "text": "feeling like yeah we probably not gonna be able to scale for that so we need new servers and I think the lead time for",
    "start": "1007339",
    "end": "1012410"
  },
  {
    "text": "those force for those services servers we needed needed was four weeks and I",
    "start": "1012410",
    "end": "1017630"
  },
  {
    "text": "mean that's not super good when you need to scale like a manual like almost",
    "start": "1017630",
    "end": "1023600"
  },
  {
    "text": "ordering by fax machine process to get new servers it doesn't quite feel right",
    "start": "1023600",
    "end": "1029500"
  },
  {
    "text": "so we needed something really quickly a few scale completely differently",
    "start": "1029500",
    "end": "1035058"
  },
  {
    "text": "anybody needed something like with less inherent downtime then we were having because things just went down",
    "start": "1035059",
    "end": "1040720"
  },
  {
    "text": "occasionally and it shouldn't so we set up or at least I've reversed engineered a list of requirements we had we wanted",
    "start": "1040720",
    "end": "1049760"
  },
  {
    "text": "to service isolation so we wanted to be able to let service a crash without bringing down B C D and E which we",
    "start": "1049760",
    "end": "1056059"
  },
  {
    "text": "definitely also tried a couple of times we wanted to avoid too strong platform",
    "start": "1056059",
    "end": "1061100"
  },
  {
    "text": "tines so we wanted we want to be able to replace our configuration management system without replacing our deployment",
    "start": "1061100",
    "end": "1066290"
  },
  {
    "text": "platform or we wanted to be able to replace our virtual machine provider without replacing our password storing our",
    "start": "1066290",
    "end": "1073970"
  },
  {
    "text": "password and secret system and so on we need to be able to handle boundary based",
    "start": "1073970",
    "end": "1080150"
  },
  {
    "text": "security and message chain driven architecture because we use those we wanted something like immutable",
    "start": "1080150",
    "end": "1087080"
  },
  {
    "text": "infrastructure basically meaning is that meaning that we don't want to keep servers around for a long time because we tried that and obviously a lot of you",
    "start": "1087080",
    "end": "1093770"
  },
  {
    "text": "have probably worked with these old servers like yeah you had seven years of uptime which is cool but it's also crap",
    "start": "1093770",
    "end": "1100130"
  },
  {
    "text": "because they they become snowflakes and we have we have some fake servers like servers it's been around for super long",
    "start": "1100130",
    "end": "1105770"
  },
  {
    "text": "and it patched it manually and you never know what's gonna happen when you use the snowflake server so we don't want",
    "start": "1105770",
    "end": "1112309"
  },
  {
    "text": "that anymore and we also want a quick horizontal scaling as I talked about it was like probably the main driver and we",
    "start": "1112309",
    "end": "1119600"
  },
  {
    "text": "also need an interoperability with our existing hosting providers so we needed like the we need to be able to move stuff gradually and we needed to be able",
    "start": "1119600",
    "end": "1126620"
  },
  {
    "text": "to talk together while we were removing it so the obvious choice for what we're doing to me is basically this kubernetes",
    "start": "1126620",
    "end": "1134750"
  },
  {
    "text": "or some other kind of container orchestration orchestration platform we",
    "start": "1134750",
    "end": "1141440"
  },
  {
    "text": "use kubernetes for a lot of stuff and that's great it's awesome and you should but the thing is we mostly couldn't",
    "start": "1141440",
    "end": "1147500"
  },
  {
    "text": "because our problem was not classic or like old-fashioned applications which",
    "start": "1147500",
    "end": "1155720"
  },
  {
    "text": "basically aren't completely contained already there are things happening in that space and if you have the time you",
    "start": "1155720",
    "end": "1160820"
  },
  {
    "text": "should at least look into that before considering what we've done but for us",
    "start": "1160820",
    "end": "1167120"
  },
  {
    "text": "it wasn't ready enough and I wasn't mature enough one minute it because we needed to migrate now and then we",
    "start": "1167120",
    "end": "1172880"
  },
  {
    "text": "decided to roll our own which sounds like a bad thing but what basically what we did was figuring out how do we want to run",
    "start": "1172880",
    "end": "1180050"
  },
  {
    "text": "applications on servers in the cloud without like letting DevOps be clicking",
    "start": "1180050",
    "end": "1185840"
  },
  {
    "text": "around in the azure UI or the Google UI but actually having something that could be done automatically and be super",
    "start": "1185840",
    "end": "1192290"
  },
  {
    "text": "awesome okay how are you doing so far we",
    "start": "1192290",
    "end": "1197330"
  },
  {
    "text": "good yes three thumbs that's that's good okay",
    "start": "1197330",
    "end": "1203390"
  },
  {
    "text": "back to the demo so I'm know you're still not seeing this okay here we are",
    "start": "1203390",
    "end": "1219970"
  },
  {
    "text": "so you probably remember this graph if I'm a bit disappointed",
    "start": "1219970",
    "end": "1225670"
  },
  {
    "text": "so first let's jump too easy to you and see how things are looking here hopefully something should be happening",
    "start": "1225670",
    "end": "1231710"
  },
  {
    "text": "around here and we refresh it and okay so we're seeing three that's good so",
    "start": "1231710",
    "end": "1237230"
  },
  {
    "text": "let's move over to Cubano you can see we tried to scale out at about twenty ten",
    "start": "1237230",
    "end": "1243500"
  },
  {
    "text": "twenty three so that's about 17 minutes ago because now it's ten forty and then",
    "start": "1243500",
    "end": "1249380"
  },
  {
    "text": "if i refresh so you can actually you can see that around ten thirty eight a new",
    "start": "1249380",
    "end": "1257300"
  },
  {
    "text": "guy appeared and it looks like that's wpm zero five zero one so on and so on",
    "start": "1257300",
    "end": "1262430"
  },
  {
    "text": "so that's actually what it takes a scale out now and if you keep in mind that I said that like the last I'm going to do",
    "start": "1262430",
    "end": "1268820"
  },
  {
    "text": "this or like the triggering time we need to do it do this it took four weeks and",
    "start": "1268820",
    "end": "1273950"
  },
  {
    "text": "this took eleven minutes so it's it's",
    "start": "1273950",
    "end": "1279050"
  },
  {
    "text": "definitely the difference and I'm guessing some of you are thinking if you can do this then why are you sitting or",
    "start": "1279050",
    "end": "1285020"
  },
  {
    "text": "at least standing here like pointing clicking doing this manually why isn't this done automatically so this is",
    "start": "1285020",
    "end": "1291860"
  },
  {
    "text": "something we introduced quite recently and there's a service in AWS called auto-scaling AWS auto-scaling which is",
    "start": "1291860",
    "end": "1299870"
  },
  {
    "text": "not to be confused with what I just went into which is ECT to auto-scaling groups AWS auto-scaling",
    "start": "1299870",
    "end": "1305960"
  },
  {
    "text": "different thing obviously so let's go there so we have these supremely nicely",
    "start": "1305960",
    "end": "1315770"
  },
  {
    "text": "named scaling plans and I think it's this one and I think it's",
    "start": "1315770",
    "end": "1322420"
  },
  {
    "text": "yes this one so what you're seeing here is a auto scaling group we've based",
    "start": "1323049",
    "end": "1328480"
  },
  {
    "text": "really based our forecasting on CPU utilization because that's the back",
    "start": "1328480",
    "end": "1333489"
  },
  {
    "text": "sorry the bottleneck for this particular system so what you're seeing here is it easy enough to see for you in the back",
    "start": "1333489",
    "end": "1339239"
  },
  {
    "text": "yes nodding no thumbs but nodding that's good enough so you can see here that we",
    "start": "1339239",
    "end": "1344259"
  },
  {
    "text": "are measuring the CPU load so the blue line here is the actual load while a yellow load is the forecast you can see",
    "start": "1344259",
    "end": "1350200"
  },
  {
    "text": "we're about here now and this has been our last week so amazon expects our next",
    "start": "1350200",
    "end": "1357700"
  },
  {
    "text": "day to be like this that's a load forecast so based on that amazon also",
    "start": "1357700",
    "end": "1364419"
  },
  {
    "text": "does planning about for just instant account planning for us so we automatically scale up and down throughout the day and you can see we",
    "start": "1364419",
    "end": "1371200"
  },
  {
    "text": "mostly stay at about the same scaling so we are basically running two servers all the time because we set our lower limit",
    "start": "1371200",
    "end": "1377080"
  },
  {
    "text": "to because we want the redundancy we can also see that amazon automatically scales up for like planned peaks because",
    "start": "1377080",
    "end": "1384100"
  },
  {
    "text": "we know that people generally tend to watch more TV at 8:00 in the evening than I do that's 4 a.m. a.m. in the",
    "start": "1384100",
    "end": "1390279"
  },
  {
    "text": "morning for example which i think is pretty cool and we're definitely going to do more with this in the future to me",
    "start": "1390279",
    "end": "1399909"
  },
  {
    "text": "pretty awesome ok water time and it's",
    "start": "1399909",
    "end": "1406090"
  },
  {
    "text": "hard to thinking like away because like the whole presenter drinking sound is not a good one thank you ok sigh cut",
    "start": "1406090",
    "end": "1419440"
  },
  {
    "text": "coughing it into the microphone is that that helps okay so how do you go about",
    "start": "1419440",
    "end": "1425109"
  },
  {
    "text": "making a horizontally scalable infrastructure there's a great guide for that on the Internet of course which is",
    "start": "1425109",
    "end": "1432039"
  },
  {
    "text": "called d12 factor app the 12 factor app describes sort of like the general guidelines for how you create a modern",
    "start": "1432039",
    "end": "1438340"
  },
  {
    "text": "cloud cloud application or cloud service and it's great but at least to meet like",
    "start": "1438340",
    "end": "1444039"
  },
  {
    "text": "contains too many hard words so this order doesn't really fit inside my head",
    "start": "1444039",
    "end": "1449619"
  },
  {
    "text": "so rather than doing that I have created my own which is not on the internet it's on my slide and it's the making or",
    "start": "1449619",
    "end": "1457070"
  },
  {
    "text": "making a horizontal horizontally scalable infrastructure for dummies guide so number one you gonna need",
    "start": "1457070",
    "end": "1463190"
  },
  {
    "text": "somewhere to run your servers number two you're gonna need to provision your servers number three ish you need to",
    "start": "1463190",
    "end": "1470540"
  },
  {
    "text": "build and store artifacts so deployments and I'm not going to talk any more about that it's because in this context I'd say",
    "start": "1470540",
    "end": "1478790"
  },
  {
    "text": "it's easy and I know there are people who have like their full-time job is doing continuous integration and",
    "start": "1478790",
    "end": "1485390"
  },
  {
    "text": "continuous integration setup and servers and so on and it is hard doing it it's just like it's a fairly simple problem",
    "start": "1485390",
    "end": "1494270"
  },
  {
    "text": "if you abstract it okay you need to build artifacts based on source code and then you get a sip file or a deal or a",
    "start": "1494270",
    "end": "1500990"
  },
  {
    "text": "jar file or whatever and it is stored somewhere you can access it later that's easy and of course the deal details of",
    "start": "1500990",
    "end": "1506930"
  },
  {
    "text": "it can be super hard but not so that's why I'm not going to talk about it today because we're just gonna assume you have",
    "start": "1506930",
    "end": "1512420"
  },
  {
    "text": "that zip file somewhere you need to be able to make deployments you need to be",
    "start": "1512420",
    "end": "1518660"
  },
  {
    "text": "able to route stuff to your servers and in order to route stuff to your servers you're gonna need to run to know where",
    "start": "1518660",
    "end": "1523850"
  },
  {
    "text": "stuff is running so that's basically what you need in order to be able to automatically create new servers deploy",
    "start": "1523850",
    "end": "1530150"
  },
  {
    "text": "stuff to them and round in traffic so we do this using these five guys and I will",
    "start": "1530150",
    "end": "1538550"
  },
  {
    "text": "definitely leave out a lot of details here because there are a lot of details but I think I'm gonna show you enough",
    "start": "1538550",
    "end": "1545180"
  },
  {
    "text": "that you get a get a pretty good overall understanding of how this is done so it's also nice to know that everything",
    "start": "1545180",
    "end": "1552140"
  },
  {
    "text": "we're talking about it or I'm talking about here is fully automated it's in version control we don't click around in you I like the",
    "start": "1552140",
    "end": "1558920"
  },
  {
    "text": "clicking around in the UI I did earlier that's basically what would you we also",
    "start": "1558920",
    "end": "1564860"
  },
  {
    "text": "use a lot of cloud formation which is basically Amazon's terraform option and I'm also not going to talk a lot about",
    "start": "1564860",
    "end": "1571370"
  },
  {
    "text": "that because it's hard to do with that it could be coming super detailed and alteur steinbeck here it came to talk",
    "start": "1571370",
    "end": "1576620"
  },
  {
    "text": "about terraform on Azure yesterday and I'm guessing they're like if you want to find the resources on this there are a",
    "start": "1576620",
    "end": "1583520"
  },
  {
    "text": "lot of them are but I'm not one of them so let's move to dummy guide item number",
    "start": "1583520",
    "end": "1589790"
  },
  {
    "text": "one which you need somewhere to run servers okay",
    "start": "1589790",
    "end": "1595470"
  },
  {
    "text": "so now he's gonna get technicals I need to show my guns okay so where can we get",
    "start": "1595470",
    "end": "1601860"
  },
  {
    "text": "servers you probably kinda expect this from the demo now we use Amazon ec2 or",
    "start": "1601860",
    "end": "1607350"
  },
  {
    "text": "LSE complete compute cloud it's uh it's basically a platform for running virtual machines which is great and it's",
    "start": "1607350",
    "end": "1614070"
  },
  {
    "text": "basically just what we need so this I don't expect you to be able to",
    "start": "1614070",
    "end": "1619710"
  },
  {
    "text": "watch this video and I don't want you to so I didn't have it in there but I do so this is basically what you do in the UI",
    "start": "1619710",
    "end": "1625679"
  },
  {
    "text": "in Amazon to run virtual machines to just click around and choose server sizes and choose what kind of oh s you want and whatever and then Amazon bring",
    "start": "1625679",
    "end": "1632640"
  },
  {
    "text": "them up for you oh I'm just gonna mention a few of because we are mostly a donut shop so a lot of you would",
    "start": "1632640",
    "end": "1639090"
  },
  {
    "text": "probably be expecting us to use Azure but we're not were using Amazon no",
    "start": "1639090",
    "end": "1644610"
  },
  {
    "text": "explanation provided now it's actually we did like we did of you and it started out uh sure and I'm sure is is great but",
    "start": "1644610",
    "end": "1651390"
  },
  {
    "text": "like for our specification and our preferences it just turned out it'll be uh sector a better choice so but I'm not",
    "start": "1651390",
    "end": "1657030"
  },
  {
    "text": "gonna say what would be better for you but we went for Amazon so that's sort of",
    "start": "1657030",
    "end": "1664049"
  },
  {
    "text": "like the solution to problem number one we need servers and now servers but",
    "start": "1664049",
    "end": "1669660"
  },
  {
    "text": "where does that take us there is no auto scaling in me clicking and pointing around and getting up a generic key",
    "start": "1669660",
    "end": "1675540"
  },
  {
    "text": "Windows 2018 machine that doesn't give us a horizontal or suitable scaling for texture structure so what's next okay",
    "start": "1675540",
    "end": "1683820"
  },
  {
    "text": "okay so we're still on you need someone to run servers and you're gonna need to",
    "start": "1683820",
    "end": "1689370"
  },
  {
    "text": "like have your own servers not just Amazon's generic Windows thing is so we use something called custom a mice or a",
    "start": "1689370",
    "end": "1696299"
  },
  {
    "text": "mice a mice is Amazon's image service which is where we build and install our",
    "start": "1696299",
    "end": "1703200"
  },
  {
    "text": "own specific fixed ever Windows machine builds which is Windows with a little",
    "start": "1703200",
    "end": "1709260"
  },
  {
    "text": "bit of little something extra install.net based all the data log client which we use for monitoring and a",
    "start": "1709260",
    "end": "1715799"
  },
  {
    "text": "lot of other stuff that we just we know we need this for all our servers so okay it's getting kind of better",
    "start": "1715799",
    "end": "1722010"
  },
  {
    "text": "we now have machines so we can bring up and these are going to be have installed things that we generally like",
    "start": "1722010",
    "end": "1728490"
  },
  {
    "text": "on our machines but that doesn't help us because we don't want to do that manually we'll just want to don't want to sit around scaling up machines or",
    "start": "1728490",
    "end": "1734820"
  },
  {
    "text": "like bringing up new machines taking down ourselves so then enter Amazon ec2 auto-scaling",
    "start": "1734820",
    "end": "1740880"
  },
  {
    "text": "groups which is basically a service a bunch of server tree service together it lets you describe a type of server or",
    "start": "1740880",
    "end": "1749160"
  },
  {
    "text": "kind of server and then you can just say to Amazon yeah I'm gonna want three of those so you just do that for me so it",
    "start": "1749160",
    "end": "1757410"
  },
  {
    "text": "could also as a name implies visit to automatically scale up and down and using other services obviously the name",
    "start": "1757410",
    "end": "1764580"
  },
  {
    "text": "auto scaling groups gives that away so we're getting there because now we're gonna be able to add machines and we can",
    "start": "1764580",
    "end": "1771660"
  },
  {
    "text": "remove them again so we now have generic",
    "start": "1771660",
    "end": "1776970"
  },
  {
    "text": "machines that we can bring up and down ordinary texter machines which give them ring up and down automatically but that still doesn't help us because the",
    "start": "1776970",
    "end": "1783150"
  },
  {
    "text": "machine when it once it comes up it's gonna be completely useless because it's just gonna be generic any content like deployment number one from service B or",
    "start": "1783150",
    "end": "1790890"
  },
  {
    "text": "messy toddler C so what do we do with those okay so enter something called user data",
    "start": "1790890",
    "end": "1798240"
  },
  {
    "text": "in Amazon and I I'm guessing like every virtual machine provider platform it's",
    "start": "1798240",
    "end": "1804300"
  },
  {
    "text": "gonna have something like that user data is basically what Amazon runs every time we bring up a new machine so once the",
    "start": "1804300",
    "end": "1811920"
  },
  {
    "text": "machine is up yeah well I gotta go now you're sorry user data go along yeah I'm here I'm a new machine what you're gonna",
    "start": "1811920",
    "end": "1817320"
  },
  {
    "text": "do with that so now we come to problem number two we're going to need to",
    "start": "1817320",
    "end": "1822720"
  },
  {
    "text": "provision our service servers so provisioning is to me like one of those weasel words in infrastructure because I",
    "start": "1822720",
    "end": "1830690"
  },
  {
    "text": "always feel like I should know what provision is preparing for preparing for this talk I actually tried to Google it",
    "start": "1830690",
    "end": "1836280"
  },
  {
    "text": "to make sure I actually know I google it and I like to read the first four hits I'm gonna still not sure what it means",
    "start": "1836280",
    "end": "1842850"
  },
  {
    "text": "so if you feel like I don't know what it means or you personally feel that you don't know what it means",
    "start": "1842850",
    "end": "1848130"
  },
  {
    "text": "it basically means just to configure your machine to be like specific and ready to use",
    "start": "1848130",
    "end": "1854480"
  },
  {
    "text": "so we use something for let's something ansible for this how many of you have",
    "start": "1854600",
    "end": "1859740"
  },
  {
    "text": "tried ansible or know about it or whatever okay if you know it definitely don't not all so ansible basically lets",
    "start": "1859740",
    "end": "1869460"
  },
  {
    "text": "you configure serve its servers it's a tool where you write a lot of configuration in Yama and then you can",
    "start": "1869460",
    "end": "1876120"
  },
  {
    "text": "take that the mo file and point it towards the server I'm gonna show you out what it looks like you know a few seconds so our issue because you could",
    "start": "1876120",
    "end": "1884130"
  },
  {
    "text": "definitely do everything we're doing and in ansible in user data but as i showed",
    "start": "1884130",
    "end": "1889590"
  },
  {
    "text": "you like the user data box is this big that's not a cool place to writes eighty",
    "start": "1889590",
    "end": "1896190"
  },
  {
    "text": "thousand lines of provisioning code so you don't want to do that so and also to",
    "start": "1896190",
    "end": "1901200"
  },
  {
    "text": "set up of like a completely fully working Windows machine you need to restart a couple of times and you've got",
    "start": "1901200",
    "end": "1907290"
  },
  {
    "text": "a lot like need a lot of configuration and you don't want it like actually launch a new server doing 20 minutes of",
    "start": "1907290",
    "end": "1914070"
  },
  {
    "text": "provisioning just change like does that change I did in line number 70 thousand four hundred and thirty nine work you",
    "start": "1914070",
    "end": "1921480"
  },
  {
    "text": "want to be able to test that individually and isolate it and so on so that's why we use ansible file for that",
    "start": "1921480",
    "end": "1926730"
  },
  {
    "text": "for that so again don't worry if you can't really see the with you this is",
    "start": "1926730",
    "end": "1932790"
  },
  {
    "text": "what I'm so broken figuration looks like it's llamo based any other like a lot of",
    "start": "1932790",
    "end": "1937980"
  },
  {
    "text": "plugins so you have a lot of like readily made ways to do this and do that so if you want to in just install the",
    "start": "1937980",
    "end": "1943350"
  },
  {
    "text": "data czar client for example there's already gonna be a module for that and there are modules for a lot of things",
    "start": "1943350",
    "end": "1948929"
  },
  {
    "text": "but you can also quite easily create your own modules so what you can't see me doing here is running our ansible",
    "start": "1948929",
    "end": "1955380"
  },
  {
    "text": "configuration against a specific server from the command line but then the next",
    "start": "1955380",
    "end": "1960690"
  },
  {
    "text": "problem in doing is this automatically is you don't want to sit around I don't want to sit around in 4:00 in the",
    "start": "1960690",
    "end": "1965760"
  },
  {
    "text": "morning okay in case we need to scale up now I should be able to run this ansible playbook script I definitely don't want",
    "start": "1965760",
    "end": "1971520"
  },
  {
    "text": "that so we or at least originally tool wrote something called ansible job service",
    "start": "1971520",
    "end": "1977600"
  },
  {
    "text": "which is basically a verification for doing the exact same thing as I did from",
    "start": "1977600",
    "end": "1982650"
  },
  {
    "text": "the command line in the previous video so you can see here that I may or may not be able to see that I'm running a",
    "start": "1982650",
    "end": "1989730"
  },
  {
    "text": "file called site outside of the ammo against specific server which is basically the exact same thing as I did from the",
    "start": "1989730",
    "end": "1995880"
  },
  {
    "text": "command line okay so then we're getting there nearer nearer that's a cool world okay so a new",
    "start": "1995880",
    "end": "2005539"
  },
  {
    "text": "machine comes up the user data script gets run and then what you may or may",
    "start": "2005539",
    "end": "2011059"
  },
  {
    "text": "not be able to see here is that it says invoke it each step of self configuration allow reboot verbose so",
    "start": "2011059",
    "end": "2017390"
  },
  {
    "text": "what that is that is a PowerShell module we've written which basically not.if notifies the ansible job service that a",
    "start": "2017390",
    "end": "2023750"
  },
  {
    "text": "new machine has come up and i'm ready to be configured so you should run ansible provisioning so server configuration",
    "start": "2023750",
    "end": "2030650"
  },
  {
    "text": "against me so that cold coat goes out and then ansible job service starts the job against that particular server and",
    "start": "2030650",
    "end": "2037130"
  },
  {
    "text": "then we can actually see that in our own UI that the target identifier is the new",
    "start": "2037130",
    "end": "2042799"
  },
  {
    "text": "machine and the job source is something called self configuration so we can see in the UI that this is not something",
    "start": "2042799",
    "end": "2048440"
  },
  {
    "text": "that you don't trigger using the UI it's something that was automatically triggered by the infrastructure from a",
    "start": "2048440",
    "end": "2053510"
  },
  {
    "text": "new server coming up so we're getting one step closer we then have a fully",
    "start": "2053510",
    "end": "2059300"
  },
  {
    "text": "configured ec2 instance with meaningful stuff running on it but still we're",
    "start": "2059300",
    "end": "2066800"
  },
  {
    "text": "gonna want applications on it so that brings us to dummy guide step",
    "start": "2066800",
    "end": "2071840"
  },
  {
    "text": "number three you need to be able to make deployments",
    "start": "2071840",
    "end": "2076960"
  },
  {
    "text": "bless you so I'm guessing on the net",
    "start": "2085000",
    "end": "2090320"
  },
  {
    "text": "conference this probably is like yeah obviously he's gonna say octopus deploy coming from a Java background this is",
    "start": "2090320",
    "end": "2096950"
  },
  {
    "text": "like the most amazing piece of technology I've ever seen because like",
    "start": "2096950",
    "end": "2101960"
  },
  {
    "text": "my entire life deploying things that was like come online and running weird shell",
    "start": "2101960",
    "end": "2107359"
  },
  {
    "text": "scripts it works but like the first time I saw octopus deploys like dude you just",
    "start": "2107359",
    "end": "2114380"
  },
  {
    "text": "you just click to deploy and you can set up rules so like only your product",
    "start": "2114380",
    "end": "2120079"
  },
  {
    "text": "manager can deploy to production of all you can deploy to you eighty I'm pretty",
    "start": "2120079",
    "end": "2125329"
  },
  {
    "text": "sure this exists somewhere India in the Javas fair but I I never used it and I never saw that so I think octopus deploy",
    "start": "2125329",
    "end": "2132410"
  },
  {
    "text": "is great and it's also and we're gonna talk a little bit about that so in",
    "start": "2132410",
    "end": "2139160"
  },
  {
    "text": "case you haven't used octopus deploy it basically looks like this you click around yet deploy I could cancel I don't",
    "start": "2139160",
    "end": "2145010"
  },
  {
    "text": "want to do that and what you're seeing here is the great part about octopus deploy it's like it's super easy to use",
    "start": "2145010",
    "end": "2151819"
  },
  {
    "text": "is easy to understand it makes deployments a joy but what",
    "start": "2151819",
    "end": "2157069"
  },
  {
    "text": "you're seeing here is also the part about octopus because our major problem is with octopus is configuration I think",
    "start": "2157069",
    "end": "2164030"
  },
  {
    "text": "we have like 150 different deployments and we're creating all that config in the UI so that what like the description",
    "start": "2164030",
    "end": "2171950"
  },
  {
    "text": "of how we create a new service or a new deployment is basically find an old one if you like cop it's just the things you",
    "start": "2171950",
    "end": "2178550"
  },
  {
    "text": "need you're just and you have a new one so imagine doing that for two or three years so we're gonna have like like add",
    "start": "2178550",
    "end": "2184730"
  },
  {
    "text": "evolving tree or like some improve deploy some worse deploys depending on who made them and they're pretty much",
    "start": "2184730",
    "end": "2191510"
  },
  {
    "text": "all you need and that's not it's not a good place to be so like in general octopus is good but I think if someone",
    "start": "2191510",
    "end": "2198349"
  },
  {
    "text": "were to for some reason invite me and talk about this in a year and a half I'm",
    "start": "2198349",
    "end": "2203359"
  },
  {
    "text": "pretty sure octopus won't be there in this presentation unless they fix this because it doesn't work for us at all",
    "start": "2203359",
    "end": "2209329"
  },
  {
    "text": "the whole configuration thingy so octopus deploy basically works like this",
    "start": "2209329",
    "end": "2215920"
  },
  {
    "text": "you have the octopus server on your left hand am i right",
    "start": "2215920",
    "end": "2222440"
  },
  {
    "text": "and you have something called calamari installed on each server so the calamari is a calamari are actually small",
    "start": "2222440",
    "end": "2229099"
  },
  {
    "text": "octopuses so it's very appropriate you have small octopuses on each server you're going to deploy to the calamari",
    "start": "2229099",
    "end": "2234650"
  },
  {
    "text": "is connected to the octopus deploy server and this way the octopus deploy server knows where it can deploy",
    "start": "2234650",
    "end": "2240680"
  },
  {
    "text": "applications so in our context that means that of course as part of the server positioning we install and",
    "start": "2240680",
    "end": "2247220"
  },
  {
    "text": "configure calamari on each servers the calamari then report back to the octopus deploy which becomes super happy because",
    "start": "2247220",
    "end": "2253549"
  },
  {
    "text": "it now has yay a new deploy target and then we use something called deploy",
    "start": "2253549",
    "end": "2258890"
  },
  {
    "text": "triggers for new servers so what you can see here is that we do automatically deploy when a machine is enabled and",
    "start": "2258890",
    "end": "2266059"
  },
  {
    "text": "found to be healthy in any environment for the role and there it says the services external AWS play API or API",
    "start": "2266059",
    "end": "2274010"
  },
  {
    "text": "play so what we're saying in octopus apply is that once a calamari reports in and it's a new server and the server",
    "start": "2274010",
    "end": "2281059"
  },
  {
    "text": "looks kind of healthy deploy to it and then we're getting somewhere with all of the place right so when a new calamari",
    "start": "2281059",
    "end": "2290210"
  },
  {
    "text": "reports in octopus deploys octopus deploy deploys and that obviously it makes it very happy so the next problem",
    "start": "2290210",
    "end": "2297230"
  },
  {
    "text": "is once we have a new deployments how do we know how to route traffic there ok",
    "start": "2297230",
    "end": "2305049"
  },
  {
    "text": "everybody still following ya mental fonts yes actual thump-thump some",
    "start": "2305049",
    "end": "2312789"
  },
  {
    "text": "physical fun that's good ok it's actually it's not gonna get harder from here we are more than halfway through",
    "start": "2312789",
    "end": "2318559"
  },
  {
    "text": "and it's it's gonna get a little bit more complicated but maybe easier",
    "start": "2318559",
    "end": "2323690"
  },
  {
    "text": "something like complex and talk simple",
    "start": "2323690",
    "end": "2329299"
  },
  {
    "text": "made easy if you if that doesn't make sense go home and Google simple made easy and watch the presentation you find",
    "start": "2329299",
    "end": "2334940"
  },
  {
    "text": "it it's gonna blow your minds it will do mine at least but that's it's not a feat ok so step number 5 you're gonna need to",
    "start": "2334940",
    "end": "2343990"
  },
  {
    "text": "route stuff to your servers for this we use something called traffic",
    "start": "2343990",
    "end": "2350170"
  },
  {
    "text": "now traffic is a load balancer and I'm pretty sure all of you have worked with little dancers knowingly or unknowingly",
    "start": "2350170",
    "end": "2357150"
  },
  {
    "text": "some familiar names in the space are nginx Apache big IP and a lot of other",
    "start": "2357150",
    "end": "2363340"
  },
  {
    "text": "ones so traffic's second superpower besides having an awesomely awesome",
    "start": "2363340",
    "end": "2370030"
  },
  {
    "text": "Utley cute logo is that it's highly configurable and made from the bottom up to be very dynamic so a lot of load",
    "start": "2370030",
    "end": "2377410"
  },
  {
    "text": "balancers are pretty like old because it's hard technology to write because it needs to work every single time and that",
    "start": "2377410",
    "end": "2386410"
  },
  {
    "text": "means that they're based on like the old regime where yeah you know that you're gonna have you have these four servers",
    "start": "2386410",
    "end": "2391420"
  },
  {
    "text": "so you can just like punch die piece directly into UI or an XML config file or whatever well traffic is a new neural",
    "start": "2391420",
    "end": "2397540"
  },
  {
    "text": "bouncer and it's built around like the whole assumption that servers or services are gonna be a thorough or got",
    "start": "2397540",
    "end": "2406690"
  },
  {
    "text": "coming and going automatically so configurations need to be as well so it's all about like just tying in",
    "start": "2406690",
    "end": "2411790"
  },
  {
    "text": "different providers for configuration and so on so the traffic UI looks like this",
    "start": "2411790",
    "end": "2417520"
  },
  {
    "text": "it basically maps ot called front ends to backends so you have a fronting definition which is you're gonna have a",
    "start": "2417520",
    "end": "2422830"
  },
  {
    "text": "server here that looks like this and it's gonna behave kind of like this and this is very fine back-end and as you",
    "start": "2422830",
    "end": "2428710"
  },
  {
    "text": "can see the UI is or I'm probably not so hard so easy to see but it's it's completely static it's a read-only UI",
    "start": "2428710",
    "end": "2435010"
  },
  {
    "text": "because the config is meant to be just elsewhere so traffic is super good at",
    "start": "2435010",
    "end": "2443290"
  },
  {
    "text": "routing traffic which names name kind of applies so you can rouse route based on how on hostname paths whatever it's it's",
    "start": "2443290",
    "end": "2452530"
  },
  {
    "text": "good at doing things like the Qunari node which I showed you earlier in the demo so you can say that okay I want",
    "start": "2452530",
    "end": "2457630"
  },
  {
    "text": "this know to have this much traffic and these notice that that's not traffic and so on but still it's going to need to",
    "start": "2457630",
    "end": "2466330"
  },
  {
    "text": "know about the new server because even though it's like good at routing it's not good at magically knowing about",
    "start": "2466330",
    "end": "2472110"
  },
  {
    "text": "appearing servers so that brings us to our last problem on a demo list which is",
    "start": "2472110",
    "end": "2478900"
  },
  {
    "text": "you need to be able to know where stuff running and for this we use something",
    "start": "2478900",
    "end": "2484780"
  },
  {
    "text": "called consumer now consume is a service and a lot of people probably heard about it to me concealed is like is a magic",
    "start": "2484780",
    "end": "2491590"
  },
  {
    "text": "Delap sword or at least it used to be before I started using it myself even if you go to their website I think they",
    "start": "2491590",
    "end": "2496600"
  },
  {
    "text": "describe themselves as a this service discovery mesh and distributed key-value",
    "start": "2496600",
    "end": "2502210"
  },
  {
    "text": "store yes buzzwords gonna look awesome on my resume and it does so for us it's",
    "start": "2502210",
    "end": "2509500"
  },
  {
    "text": "primarily a tool which is remarkably good at keeping track of services servers and like what runs on what I was",
    "start": "2509500",
    "end": "2517960"
  },
  {
    "text": "also going to mention we also use it for configuration so that's the key value store part but I just I leave that out",
    "start": "2517960",
    "end": "2525430"
  },
  {
    "text": "of this presentation because that is also a fairly simple problem so consume",
    "start": "2525430",
    "end": "2531760"
  },
  {
    "text": "mostly looks like this you can see here we have the services external API prod",
    "start": "2531760",
    "end": "2538330"
  },
  {
    "text": "main play API and it points down to well I point down to it running on the nodes W PCA and so on wpm wpm so these are",
    "start": "2538330",
    "end": "2547000"
  },
  {
    "text": "basically the same nodes that I showed you in Cabana and has showed you an ec2 earlier so consume keeps track of where",
    "start": "2547000",
    "end": "2552730"
  },
  {
    "text": "these are running and it even has this nice little feature where checks whether or not a service looks healthy on a",
    "start": "2552730",
    "end": "2559720"
  },
  {
    "text": "particular server so it does it has like first citizen built-in health checking which you can do using which you can do",
    "start": "2559720",
    "end": "2568030"
  },
  {
    "text": "you see it is v6 or you can run local scripts and it supports a lot of",
    "start": "2568030",
    "end": "2573370"
  },
  {
    "text": "different ways to check whether something looks healthy or not so the way consume mostly looks is like this so",
    "start": "2573370",
    "end": "2583090"
  },
  {
    "text": "it kind of looks like the whole deployment model for octopus deploy is that you have a centralized server called the consume master it's a bit",
    "start": "2583090",
    "end": "2589600"
  },
  {
    "text": "simplified here because in practice it is a bit more complex than that but overall it's like this so we have at the",
    "start": "2589600",
    "end": "2594730"
  },
  {
    "text": "consume master you have agents running on each easy to instance the these",
    "start": "2594730",
    "end": "2599890"
  },
  {
    "text": "agents do whatever health checking is needed against the play API and then reports into the consumed master which",
    "start": "2599890",
    "end": "2605170"
  },
  {
    "text": "keeps track of it across environments and across data centers and so on so in",
    "start": "2605170",
    "end": "2611230"
  },
  {
    "text": "our context in our overall picture this and I'm guessing you're starting to anticipate what it's like we have",
    "start": "2611230",
    "end": "2617710"
  },
  {
    "text": "ansible job service which during provisioning installs the consume clients on each server then consume",
    "start": "2617710",
    "end": "2623470"
  },
  {
    "text": "client then actually doesn't we actually notify the consume clients that a server",
    "start": "2623470",
    "end": "2628660"
  },
  {
    "text": "service is running on a given server during octopus deploy so the consume",
    "start": "2628660",
    "end": "2634600"
  },
  {
    "text": "agent then knows ok the play API is running on the server so I'm going to health check that in this way and once",
    "start": "2634600",
    "end": "2639850"
  },
  {
    "text": "it's running and it's healthy it reports that into the consume master which then knows about the new deployment so with",
    "start": "2639850",
    "end": "2648820"
  },
  {
    "text": "traffic a new server then appears fully deployed from octopus deploy the consume",
    "start": "2648820",
    "end": "2657010"
  },
  {
    "text": "agent then reports into the consumed master hello we have a new deployment running on a new server traffic then",
    "start": "2657010",
    "end": "2663100"
  },
  {
    "text": "subscribes to updated configuration from consumes consume the new request comes in traffic knows yes I can find that on",
    "start": "2663100",
    "end": "2670930"
  },
  {
    "text": "that new server and boom that's it we now basically have horizontal scale",
    "start": "2670930",
    "end": "2676300"
  },
  {
    "text": "ad automatically and can route traffic to to a new server ok so I can't if",
    "start": "2676300",
    "end": "2685240"
  },
  {
    "text": "you're feeling a little bit like me right now it's a lot to take in there's a lot of things to fit into your",
    "start": "2685240",
    "end": "2690910"
  },
  {
    "text": "head at one time but if it's sort of real back nothing of what I told you now",
    "start": "2690910",
    "end": "2696550"
  },
  {
    "text": "is actually hard I'm pretty sure most of you understood at least five of the six",
    "start": "2696550",
    "end": "2703060"
  },
  {
    "text": "steps maybe even all of them it's just like once you try to tie everything together it becomes a little bit messy",
    "start": "2703060",
    "end": "2708490"
  },
  {
    "text": "because there's so many different concepts and so many different technologies but none of them are actually hard once you isolate the",
    "start": "2708490",
    "end": "2714610"
  },
  {
    "text": "problem so what we're doing we use Amazon ec2 for virtual machines of",
    "start": "2714610",
    "end": "2720790"
  },
  {
    "text": "scaling we use ansible for machine provisioning and configuration we used",
    "start": "2720790",
    "end": "2726640"
  },
  {
    "text": "octopus deploy for deployments we use traffic for reverse proxying and load balancing and we use consume for service",
    "start": "2726640",
    "end": "2734260"
  },
  {
    "text": "discovery and configuration so if I try to summarize all of this into one like",
    "start": "2734260",
    "end": "2740170"
  },
  {
    "text": "mother ugly auto-updating powerpoint slide this is what's going on",
    "start": "2740170",
    "end": "2747280"
  },
  {
    "text": "so we have an existing setup with two servers traffic happily routing traffic",
    "start": "2747280",
    "end": "2752590"
  },
  {
    "text": "to those and then the auto scaling groups in the bottom there triggers and it says okay we're going to bring up a",
    "start": "2752590",
    "end": "2758200"
  },
  {
    "text": "new easy two machines based easy to machine based on a given ami then user",
    "start": "2758200",
    "end": "2765280"
  },
  {
    "text": "data on that particular server reports in to animal drop service and simple job server starts the provisioning job",
    "start": "2765280",
    "end": "2770620"
  },
  {
    "text": "against that particular server which installs the consul agent and the",
    "start": "2770620",
    "end": "2776350"
  },
  {
    "text": "calamari which is the octopus deploy agent so the calamari then reports into",
    "start": "2776350",
    "end": "2783310"
  },
  {
    "text": "octopus deploy octopus deploy deploy the application wants to that particular server they conceal agent and health",
    "start": "2783310",
    "end": "2789970"
  },
  {
    "text": "checks that new deployment and reports into the consumer master traffic then",
    "start": "2789970",
    "end": "2795310"
  },
  {
    "text": "subscribes to configuration changes in consume and knows about the new server and is able to route traffic there and",
    "start": "2795310",
    "end": "2802720"
  },
  {
    "text": "that is actually everything so to try to",
    "start": "2802720",
    "end": "2807880"
  },
  {
    "text": "like tie this all together I would say this is pretty awesome I think it's like a super cool complete setup but you",
    "start": "2807880",
    "end": "2816190"
  },
  {
    "text": "should use containers and you should use something like your bananas if you can because of course this is a lot to build and kubernetes basically does this but a",
    "start": "2816190",
    "end": "2825580"
  },
  {
    "text": "good thing is and I'm guessing the reason while they're actually are quite a lot of people there is that not",
    "start": "2825580",
    "end": "2831760"
  },
  {
    "text": "everyone started like from scratch two weeks ago most of us have like we have",
    "start": "2831760",
    "end": "2837820"
  },
  {
    "text": "applications we wrote eight years ago and twelve years ago and some of them are going to be hard to fit into a",
    "start": "2837820",
    "end": "2843130"
  },
  {
    "text": "container in their future so the good thing is for you if you need to do this",
    "start": "2843130",
    "end": "2848920"
  },
  {
    "text": "this is something that can be introduced gradually you do we didn't and you don't have to build this as like okay we're",
    "start": "2848920",
    "end": "2854170"
  },
  {
    "text": "gonna build this platform now and we're gonna spend half year doing that and then we can start like moving the first services we built like the bare minimum",
    "start": "2854170",
    "end": "2860920"
  },
  {
    "text": "we had to and we also like plugged in a lot of new stuff to the old infrastructure so which made it easier",
    "start": "2860920",
    "end": "2866800"
  },
  {
    "text": "to shift stuff over as we went along so we've been improving that platform a lot since we moved the first service and",
    "start": "2866800",
    "end": "2874080"
  },
  {
    "text": "it's adaptable to any service that runs on Windows so it doesn't only fit for web applications web applications and",
    "start": "2874080",
    "end": "2881200"
  },
  {
    "text": "and only fit for in-house developed applications and the design also",
    "start": "2881200",
    "end": "2887350"
  },
  {
    "text": "supports services of can't scale scale on a time dynamically and we do that so we actually run I think a pisode of it",
    "start": "2887350",
    "end": "2893320"
  },
  {
    "text": "on a similar set up our particular episode said it can't scale this way so we got just like right for in a UI and",
    "start": "2893320",
    "end": "2900070"
  },
  {
    "text": "then I'm gonna get two new servers we actually need to do that manually because there's a lot of like manual plumbing that we could weren't able to",
    "start": "2900070",
    "end": "2906070"
  },
  {
    "text": "automate but it's super nice that it fits into the same kind of setup and you can use the same automation then you can use the same reproducibility of server",
    "start": "2906070",
    "end": "2913510"
  },
  {
    "text": "configuration and so on so the takeaways",
    "start": "2913510",
    "end": "2918850"
  },
  {
    "text": "you should bring home with you today is we did not build all this in one day so",
    "start": "2918850",
    "end": "2925180"
  },
  {
    "text": "if you're gonna if you think like yeah this is kind of fits into my world you should use this as a road map or an",
    "start": "2925180",
    "end": "2931690"
  },
  {
    "text": "inspiration but not like something that you need in order to start doing everything else so take the bits you",
    "start": "2931690",
    "end": "2939640"
  },
  {
    "text": "need I said in our requirements list we designed this to be pluggable so we can",
    "start": "2939640",
    "end": "2945370"
  },
  {
    "text": "replace a lot of this without it impacting anything else so if you like yes this sounds like you do me this like",
    "start": "2945370",
    "end": "2950860"
  },
  {
    "text": "sounds like you do to me this sounds horrible then drop the horrible part whichever one this what that was and you",
    "start": "2950860",
    "end": "2958300"
  },
  {
    "text": "should like always keep on improving one thing at a time and that should also be your approach to this if you want to do it that you should start with okay which",
    "start": "2958300",
    "end": "2965230"
  },
  {
    "text": "part of what I what I talked about today is actually a problem you have now which you need to fix all now and you might",
    "start": "2965230",
    "end": "2972160"
  },
  {
    "text": "maybe you can start doing service discovery using consume and maybe that's like that's a nice place to start for",
    "start": "2972160",
    "end": "2978100"
  },
  {
    "text": "you and then you can gradually move on from there because the thing is that if you do this a step at a time and you",
    "start": "2978100",
    "end": "2984430"
  },
  {
    "text": "start doing small improvements on where you are today then I think I'm pretty sure that all of you can do this and that means that you",
    "start": "2984430",
    "end": "2990370"
  },
  {
    "text": "can be cool in the age of legacy so that's about it I'm gonna be here for",
    "start": "2990370",
    "end": "2997450"
  },
  {
    "text": "quite a few more hours I'm gonna be hanging out at both the extent and the extent and most of the day so if some of",
    "start": "2997450",
    "end": "3004050"
  },
  {
    "text": "you feel like yes this is also for me but that guy were all sitting because there's no detail about how I did it",
    "start": "3004050",
    "end": "3010410"
  },
  {
    "text": "here then you should go find me till noisy on or like people hanging at the extensions are probably gonna be",
    "start": "3010410",
    "end": "3017190"
  },
  {
    "text": "interested in talking about this so thank you for coming and I hope you enjoyed it [Applause]",
    "start": "3017190",
    "end": "3026749"
  }
]