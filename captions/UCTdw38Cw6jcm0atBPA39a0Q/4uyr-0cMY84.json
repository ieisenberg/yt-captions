[
  {
    "start": "0",
    "end": "17000"
  },
  {
    "text": "all right thank you all so much for uh coming to this talk it has been rescheduled several times and i am just",
    "start": "480",
    "end": "6560"
  },
  {
    "text": "so grateful that it's actually happening um but yeah today we're going to talk a little bit about webrtc um if you have",
    "start": "6560",
    "end": "14000"
  },
  {
    "text": "been spending your life online on screens over the last two years then probably you have said you're on mute to",
    "start": "14000",
    "end": "21039"
  },
  {
    "start": "17000",
    "end": "321000"
  },
  {
    "text": "someone or someone has said it to you um so today we're going to talk about how webrtc can solve this problem and many",
    "start": "21039",
    "end": "28160"
  },
  {
    "text": "more that you might have my name is liz moy and i'm a developer evangelist for twilio i you share her",
    "start": "28160",
    "end": "35040"
  },
  {
    "text": "pronouns and um if you are building something with webrtc or really any type",
    "start": "35040",
    "end": "41040"
  },
  {
    "text": "of communications i would love to hear about it um you can find me on twitter at ec moy um or drop me a line um at my",
    "start": "41040",
    "end": "48000"
  },
  {
    "text": "tolio email address um but when i was kind of like looking up",
    "start": "48000",
    "end": "53600"
  },
  {
    "text": "stuff for this talk i was thinking a lot about you know how we've spent our time um these last two years and when i think",
    "start": "53600",
    "end": "61440"
  },
  {
    "text": "about something like webrtc um it is a way that you can have real time",
    "start": "61440",
    "end": "67680"
  },
  {
    "text": "connected experiences with audio video and then actually like arbitrary data",
    "start": "67680",
    "end": "73119"
  },
  {
    "text": "that you can decide what you want to do with um so there's a lot of really good cases for when we would want to use",
    "start": "73119",
    "end": "79600"
  },
  {
    "text": "webrtc and when we might want to use something else right because i i'm sure",
    "start": "79600",
    "end": "85119"
  },
  {
    "text": "you all probably recognize the other applications on this screen you have a lot of options now with how",
    "start": "85119",
    "end": "92320"
  },
  {
    "text": "you want to connect with people when you're trying to have a video call an audio call",
    "start": "92320",
    "end": "98799"
  },
  {
    "text": "so if we think about those situations where we might want to use like a zoom",
    "start": "98799",
    "end": "103920"
  },
  {
    "text": "or a teams or that kind of thing um if we are talking on a work meeting you",
    "start": "103920",
    "end": "109360"
  },
  {
    "text": "likely have a app that's provisioned by work and that's what you use you may",
    "start": "109360",
    "end": "114640"
  },
  {
    "text": "have had like zoom birthday parties i know i went to a lot of those over the last two years or maybe you",
    "start": "114640",
    "end": "120560"
  },
  {
    "text": "have skype calls with family members and that's great because you can agree that you both want to have",
    "start": "120560",
    "end": "126159"
  },
  {
    "text": "this application that you will connect through however there are some cases where it",
    "start": "126159",
    "end": "131440"
  },
  {
    "text": "actually might make more sense to have a browser-based experience and that's really the powerful thing about webrtc",
    "start": "131440",
    "end": "137920"
  },
  {
    "text": "is that it's entirely browser-based so no matter what type of device you're using to call through um you can use",
    "start": "137920",
    "end": "144800"
  },
  {
    "text": "webrtc to do that if you have a connection to a browser with the exception of maybe like three browsers",
    "start": "144800",
    "end": "150319"
  },
  {
    "text": "um which we'll talk about a little bit but um there are a couple of sort of like business cases that i've seen quite a",
    "start": "150319",
    "end": "156800"
  },
  {
    "text": "bit over the last two years and i would say the primary one that i've seen as a really great web",
    "start": "156800",
    "end": "162800"
  },
  {
    "text": "use case for webrtc is actually telehealth so if you think about the experience that you might have with a",
    "start": "162800",
    "end": "169760"
  },
  {
    "text": "health provider with getting an appointment if you can just send someone a link maybe by whatsapp message or email",
    "start": "169760",
    "end": "177760"
  },
  {
    "text": "they click on that link and then they join the appointment that is a much better user experience than asking",
    "start": "177760",
    "end": "184080"
  },
  {
    "text": "someone to download a separate app and go through all these steps some other examples",
    "start": "184080",
    "end": "190480"
  },
  {
    "text": "of this kind of use case could be insurance banking or one that might be kind of relevant to some folks",
    "start": "190480",
    "end": "197120"
  },
  {
    "text": "in the room um if you're doing a coding interview where you have to do a whiteboarding session or sort of like a",
    "start": "197120",
    "end": "203200"
  },
  {
    "text": "vs code live style thing you could actually build your own version of that using webrtc",
    "start": "203200",
    "end": "210959"
  },
  {
    "text": "so webrtc is real-time video uh audio and",
    "start": "210959",
    "end": "216480"
  },
  {
    "text": "data experiences for users and really the powerful part of it um is that it is",
    "start": "216480",
    "end": "222080"
  },
  {
    "text": "so customizable and it handles a lot of the tricky networking things that are really like a",
    "start": "222080",
    "end": "228080"
  },
  {
    "text": "pain in the butt to try to figure out it handles all that for you so that you can just focus on the user experience it's",
    "start": "228080",
    "end": "235120"
  },
  {
    "text": "available on all browsers um there are also ios and android libraries if you",
    "start": "235120",
    "end": "240959"
  },
  {
    "text": "prefer to work that way but really if you've got access to firefox chrome",
    "start": "240959",
    "end": "246879"
  },
  {
    "text": "any of the modern browsers with the exception again of a few you can use it you can build an entire ui experience",
    "start": "246879",
    "end": "254239"
  },
  {
    "text": "even if you're just using vanilla javascript you can really go a long way all the demos that i'm going to show",
    "start": "254239",
    "end": "259440"
  },
  {
    "text": "today are all written in vanilla javascript no libraries or frameworks but certainly",
    "start": "259440",
    "end": "265440"
  },
  {
    "text": "you can use those and there's there's tons of like react frameworks for instance that you can use um with webrtc",
    "start": "265440",
    "end": "271759"
  },
  {
    "text": "it's also secure um obviously security is a huge concern and because it's peer-to-peer it's a secure choice uh",
    "start": "271759",
    "end": "278800"
  },
  {
    "text": "we'll talk a little bit more about um what peer-to-peer really means here because there are some",
    "start": "278800",
    "end": "284639"
  },
  {
    "text": "things that you have to take into account as you're scaling and you're getting more users joining in on a call so today",
    "start": "284639",
    "end": "291520"
  },
  {
    "text": "we're going to talk about the basics of webrtc kind of what actually happens when you",
    "start": "291520",
    "end": "297120"
  },
  {
    "text": "say i am user a wanting to connect to user b over a peer connection um we'll talk a little bit",
    "start": "297120",
    "end": "303440"
  },
  {
    "text": "about how you can create a really great experience for the user and some different features that you",
    "start": "303440",
    "end": "308720"
  },
  {
    "text": "might consider using customizations when you're using the web rtc apis and",
    "start": "308720",
    "end": "314960"
  },
  {
    "text": "then lastly a few tools about diagnostics and then takeaways from the session",
    "start": "314960",
    "end": "321600"
  },
  {
    "start": "321000",
    "end": "518000"
  },
  {
    "text": "so diving into the basics of webrtc um if we think about how we would want to",
    "start": "321600",
    "end": "327680"
  },
  {
    "text": "start a connection with another user we'll think about maybe an example where",
    "start": "327680",
    "end": "334160"
  },
  {
    "text": "you have three devices that all want to connect so you've got a phone a laptop and a desktop computer so the",
    "start": "334160",
    "end": "341600"
  },
  {
    "text": "first thing is all of the devices need to let each other know that they're available connect and they do this through a",
    "start": "341600",
    "end": "348400"
  },
  {
    "text": "process called signaling so webrtc doesn't handle the signaling process",
    "start": "348400",
    "end": "354320"
  },
  {
    "text": "but it doesn't care how you do it really um so the way that we'll talk about doing it today is by using websockets",
    "start": "354320",
    "end": "361120"
  },
  {
    "text": "because this is something that a lot of people are familiar with using and it's available as an api as well",
    "start": "361120",
    "end": "368400"
  },
  {
    "text": "you can also format the data however you want to format it formatting it via json if you're using",
    "start": "368400",
    "end": "373759"
  },
  {
    "text": "websockets is kind of the the use case that we'll look at for today and then there are a couple of different",
    "start": "373759",
    "end": "380319"
  },
  {
    "text": "ways um that you can actually send some media back and forth the easiest uh and",
    "start": "380319",
    "end": "386240"
  },
  {
    "text": "best case is peer-to-peer so if we're all on the same network",
    "start": "386240",
    "end": "391520"
  },
  {
    "text": "we all have a private ip address that's unique to our device and then the public",
    "start": "391520",
    "end": "396880"
  },
  {
    "text": "ip address of the router that we're connected to so if we're all on the same router then",
    "start": "396880",
    "end": "402240"
  },
  {
    "text": "we can all connect to each other pretty easily we can share the port number we want to connect on",
    "start": "402240",
    "end": "408400"
  },
  {
    "text": "and it's it's really great the only problem is because we're sharing data",
    "start": "408400",
    "end": "413759"
  },
  {
    "text": "directly back and forth as you can imagine the more peers you add to this the more difficult it becomes to keep",
    "start": "413759",
    "end": "421360"
  },
  {
    "text": "things moving quickly it's really hard on the cpu it really affects the bandwidth and so",
    "start": "421360",
    "end": "427680"
  },
  {
    "text": "this is great if it's just a few devices maybe if you're like doing a demo but if you add more into the mix",
    "start": "427680",
    "end": "434400"
  },
  {
    "text": "it's not going to be a good experience um so at that point you probably want to",
    "start": "434400",
    "end": "439440"
  },
  {
    "text": "use a media server um so there is a type of server called a selective forwarding",
    "start": "439440",
    "end": "445599"
  },
  {
    "text": "unit or an sfu there are a few others that you could consider",
    "start": "445599",
    "end": "450639"
  },
  {
    "text": "there's one called an mcu there's one called a mesh we won't get into that today those are kind of more advanced",
    "start": "450639",
    "end": "456720"
  },
  {
    "text": "cases but the sfu is really great it sends all the media to that server",
    "start": "456720",
    "end": "461759"
  },
  {
    "text": "and then the server handles sending it back out to all of the peers the sfu can also customize some",
    "start": "461759",
    "end": "467360"
  },
  {
    "text": "different things on it so it can re-encode the video if it needs to it can manage some of the",
    "start": "467360",
    "end": "473360"
  },
  {
    "text": "bandwidth so it can actually provide kind of a better experience if you take advantage of some of the things that you",
    "start": "473360",
    "end": "479520"
  },
  {
    "text": "can configure on it so i found this blog post by the team at",
    "start": "479520",
    "end": "484560"
  },
  {
    "text": "signal that was really interesting and they highlighted a lot of the sfus that they looked at when they were",
    "start": "484560",
    "end": "490560"
  },
  {
    "text": "building their own sfu so their sfu it's a closed source and",
    "start": "490560",
    "end": "496800"
  },
  {
    "text": "you can't use it yourself but you can use some of these open source sfus that they actually modeled theirs off of so if",
    "start": "496800",
    "end": "503599"
  },
  {
    "text": "that's something that's interesting to you uh definitely dive into that a bit more um okay so let's talk about um ice and",
    "start": "503599",
    "end": "512000"
  },
  {
    "text": "nat get ready for a lot of acronyms so i stands for interactive connectivity establishment and really what it's",
    "start": "512000",
    "end": "519440"
  },
  {
    "start": "518000",
    "end": "629000"
  },
  {
    "text": "trying to find out is what is your ip address what's the ip address that you need to send to the peer so that they",
    "start": "519440",
    "end": "525519"
  },
  {
    "text": "can connect to you and you can start sharing audio and video and data um so",
    "start": "525519",
    "end": "531519"
  },
  {
    "text": "uh it does this by using a network address translation and so basically",
    "start": "531519",
    "end": "537279"
  },
  {
    "text": "what's happening is it's trying to use nat to find out behind the public ip address on my",
    "start": "537279",
    "end": "544080"
  },
  {
    "text": "router what is my private ip address and it kind of does that translation between the two peers so that the",
    "start": "544080",
    "end": "550480"
  },
  {
    "text": "private addresses stay protected so again if we're peer-to-peer then it's no problem",
    "start": "550480",
    "end": "556080"
  },
  {
    "text": "we really don't have to go through any of these other types of servers however if we're not on the same network then we",
    "start": "556080",
    "end": "562480"
  },
  {
    "text": "do have to use stun which is session traversal utilities around nat or fornat",
    "start": "562480",
    "end": "569120"
  },
  {
    "text": "and so stun is really great it is going to be the default the cool",
    "start": "569120",
    "end": "574640"
  },
  {
    "text": "thing about ice is that it's kind of running all of these processes in parallel so it's going to try to connect peer-to-peer if that fails it's going to",
    "start": "574640",
    "end": "581440"
  },
  {
    "text": "try to connect to stun um and stun there's really no problems with it except if you run into a",
    "start": "581440",
    "end": "589200"
  },
  {
    "text": "firewall or a proxy which again is something you probably all will run into because a lot of people are connecting",
    "start": "589200",
    "end": "595839"
  },
  {
    "text": "through uh their work networks or things that are protected in some way so if",
    "start": "595839",
    "end": "601040"
  },
  {
    "text": "this happens then you have to connect through what's called turn traversal using",
    "start": "601040",
    "end": "606079"
  },
  {
    "text": "relays around nat so because it just isn't going to be able to connect via a public ip address",
    "start": "606079",
    "end": "613519"
  },
  {
    "text": "it will have to kind of do all of these things that go around the net it is uh more expensive um so you are",
    "start": "613519",
    "end": "621279"
  },
  {
    "text": "going to have to figure out a way to manage the costs you probably want to protect it behind a username and a",
    "start": "621279",
    "end": "626640"
  },
  {
    "text": "password um just so that you don't incur extra costs from folks using it um so",
    "start": "626640",
    "end": "632399"
  },
  {
    "start": "629000",
    "end": "924000"
  },
  {
    "text": "let's dive into the apis now which is really like the most exciting important part of this talk uh so there are three",
    "start": "632399",
    "end": "639279"
  },
  {
    "text": "apis that webrtc is based around the first one is media capture so this api is",
    "start": "639279",
    "end": "646079"
  },
  {
    "text": "going to get the devices that you are able to connect to on your machine",
    "start": "646079",
    "end": "651120"
  },
  {
    "text": "once it gets permission from those devices to connect it will grab the inputs of the video audio and the data",
    "start": "651120",
    "end": "658640"
  },
  {
    "text": "to relay over the next one is the peer connection so this is what's actually going to use",
    "start": "658640",
    "end": "664399"
  },
  {
    "text": "those i servers to try and make the connection to the pier and then we'll feed the stream of all the data that we",
    "start": "664399",
    "end": "670240"
  },
  {
    "text": "got into that connection over to the pier and then the last thing i think is kind",
    "start": "670240",
    "end": "675279"
  },
  {
    "text": "of the most fun one because it is like choose your own adventure throw whatever",
    "start": "675279",
    "end": "680720"
  },
  {
    "text": "arbitrary data you want into the websocket and send it over to the other peer and i have some demos that kind of show",
    "start": "680720",
    "end": "687519"
  },
  {
    "text": "some fun ideas of how you might use this so get user media is really kind of the",
    "start": "687519",
    "end": "693680"
  },
  {
    "text": "most important api out of the bunch because if you can't connect to a device then you can't",
    "start": "693680",
    "end": "699600"
  },
  {
    "text": "get any media or any data and that's really why we're doing this in the first place is so that we can see someone else",
    "start": "699600",
    "end": "705120"
  },
  {
    "text": "on their screen or or hear them so you have this constraints object and",
    "start": "705120",
    "end": "710959"
  },
  {
    "text": "you'll see you know you can customize it so you can set it to true for audio or",
    "start": "710959",
    "end": "716399"
  },
  {
    "text": "video or both um and there are actually some instances where you might not want",
    "start": "716399",
    "end": "721600"
  },
  {
    "text": "both um i have definitely had to do um the sort of like image verification",
    "start": "721600",
    "end": "727839"
  },
  {
    "text": "before where it's like take a video of you going like that or you know positioning your head a certain way so",
    "start": "727839",
    "end": "733200"
  },
  {
    "text": "if you're doing something like that you actually don't need audio um i run a podcast i've thought a lot about you",
    "start": "733200",
    "end": "739040"
  },
  {
    "text": "know what would it look like to build a platform to record my podcast off of and i don't do any video for my podcast so",
    "start": "739040",
    "end": "746079"
  },
  {
    "text": "if i wanted to just get the audio data and do it that way then that would really actually make sense for this case",
    "start": "746079",
    "end": "752320"
  },
  {
    "text": "um this is also assuming that someone will give permission um and then we just can do something with the data but we'll",
    "start": "752320",
    "end": "758880"
  },
  {
    "text": "talk a little bit about what would happen if someone didn't give permission and how you'd handle that um this api used to return callbacks um",
    "start": "758880",
    "end": "766880"
  },
  {
    "text": "it has evolved over the years and now it returns promises so if you would prefer to write it um in ac ink await you can",
    "start": "766880",
    "end": "773279"
  },
  {
    "text": "absolutely do that um so the next api that we're looking at",
    "start": "773279",
    "end": "778560"
  },
  {
    "text": "is um get pure connection and this one is doing all of that work of getting us",
    "start": "778560",
    "end": "785360"
  },
  {
    "text": "connected to the other pier so we're going to create the object and then feed in ice",
    "start": "785360",
    "end": "792079"
  },
  {
    "text": "servers as the argument and so iservers is going to be both the stun and the turn server because again",
    "start": "792079",
    "end": "797760"
  },
  {
    "text": "if stun ends up failing then it's going to go over and try the turn once we get a candidate that candidate",
    "start": "797760",
    "end": "804800"
  },
  {
    "text": "is actually our ip address and the port number so once we have that we can go ahead and",
    "start": "804800",
    "end": "810720"
  },
  {
    "text": "try to send that over as the signal to the peer we're also going to add the stream of",
    "start": "810720",
    "end": "817040"
  },
  {
    "text": "the media that we were able to get in that first get user media call that we made",
    "start": "817040",
    "end": "822880"
  },
  {
    "text": "so that when we hopefully have an agreement we can start streaming the data immediately",
    "start": "822880",
    "end": "828320"
  },
  {
    "text": "we're going to create an offer and the offer essentially is all of the information that the peer would need to",
    "start": "828320",
    "end": "834240"
  },
  {
    "text": "know about your browser so in addition to all the candidate data it's also things like",
    "start": "834240",
    "end": "839760"
  },
  {
    "text": "what do you need to encode your media as for me to be able to read it any of the other constraints maybe that",
    "start": "839760",
    "end": "845519"
  },
  {
    "text": "they've put on their data that we need to know about before we try and send something over",
    "start": "845519",
    "end": "850720"
  },
  {
    "text": "and then we're going to set our remote description to that offer that we just made so um the",
    "start": "850720",
    "end": "858240"
  },
  {
    "text": "other appear as it says it sets the remote description and then it will kind",
    "start": "858240",
    "end": "863519"
  },
  {
    "text": "of check the offer that we sent over and see if it's actually compatible with what they have and then",
    "start": "863519",
    "end": "869680"
  },
  {
    "text": "if that does happen and it is compatible then it will create an answer that it will send back to peer a",
    "start": "869680",
    "end": "876560"
  },
  {
    "text": "and then at that point hopefully we have a successful connection",
    "start": "876560",
    "end": "882320"
  },
  {
    "text": "and we can go ahead and we can start streaming all of the data uh and then at that point we can do something fun in",
    "start": "882320",
    "end": "888320"
  },
  {
    "text": "the ui and go ahead and actually display the video that we have play the audio that we have um or do something fun with",
    "start": "888320",
    "end": "895440"
  },
  {
    "text": "the uh the data that we have in the data track so uh this is the data channel api",
    "start": "895440",
    "end": "901680"
  },
  {
    "text": "and um it's uh it's pretty straightforward all you really have to do is just give it a",
    "start": "901680",
    "end": "907199"
  },
  {
    "text": "unique name of what you want it to be and then we just start listening for the",
    "start": "907199",
    "end": "912320"
  },
  {
    "text": "data um and it is a websocket connection so you do need to open the socket um but",
    "start": "912320",
    "end": "918240"
  },
  {
    "text": "once the agreement's been made and that's open we can start sharing things back and forth",
    "start": "918240",
    "end": "924320"
  },
  {
    "start": "924000",
    "end": "1172000"
  },
  {
    "text": "um so now that we kind of know the inner workings of these apis um and sort of",
    "start": "924320",
    "end": "929519"
  },
  {
    "text": "the order in which they're run um let's talk a little bit about the user experience um so in terms of media again",
    "start": "929519",
    "end": "937279"
  },
  {
    "text": "we looked at media earlier and we were assuming okay this is always going to resolve someone will see the permission",
    "start": "937279",
    "end": "944560"
  },
  {
    "text": "dialog box pop up in their browser and they will agree that they want to share their video and their audio but uh",
    "start": "944560",
    "end": "951839"
  },
  {
    "text": "unfortunately that's not always going to be the case perhaps they explicitly say they don't want to share",
    "start": "951839",
    "end": "957199"
  },
  {
    "text": "or maybe they have operating system settings that have prevented them from sharing which is something that has",
    "start": "957199",
    "end": "963839"
  },
  {
    "text": "happened to me in a live demo recently and was really embarrassing and difficult to figure out uh but",
    "start": "963839",
    "end": "970480"
  },
  {
    "text": "uh we do want to let the user know if for some reason um we can't access the",
    "start": "970480",
    "end": "975519"
  },
  {
    "text": "other users uh video or audio we don't want it to just fail silently and then not know what's",
    "start": "975519",
    "end": "981199"
  },
  {
    "text": "going on we aren't able to get more information about why it's being blocked if perhaps",
    "start": "981199",
    "end": "987680"
  },
  {
    "text": "another application is using the video so it won't be as descriptive of an",
    "start": "987680",
    "end": "992800"
  },
  {
    "text": "error message but it is good to provide something there in terms of the constraints around the",
    "start": "992800",
    "end": "1000160"
  },
  {
    "text": "video and the audio media there are a few that are maybe helpful to be aware",
    "start": "1000160",
    "end": "1005199"
  },
  {
    "text": "of as you're building these experiences out one of them is facing mode so if you are",
    "start": "1005199",
    "end": "1012000"
  },
  {
    "text": "building something for mobile if you think about the way that your phone is um you have the camera that faces you",
    "start": "1012000",
    "end": "1018399"
  },
  {
    "text": "and the camera that faces out into the environment and uh if you know if you're pretty sure",
    "start": "1018399",
    "end": "1024160"
  },
  {
    "text": "that people that are uh opening this link or coming to um the webrtc uh sort",
    "start": "1024160",
    "end": "1030558"
  },
  {
    "text": "of in-browser experience that you've built if you know they're coming from mobile then you can set this to be facing them",
    "start": "1030559",
    "end": "1036240"
  },
  {
    "text": "so that that's already just something that's ready to go um because if you're like me you've also probably been on a",
    "start": "1036240",
    "end": "1042400"
  },
  {
    "text": "call where um the video is set to facing outward the whole time and the person can't figure out how to turn it the",
    "start": "1042400",
    "end": "1048000"
  },
  {
    "text": "other way and then you're like looking at the corner of a room the whole time there are these other uh settings as",
    "start": "1048000",
    "end": "1054720"
  },
  {
    "text": "well um environment is the one that kind of faces outwards so that's straightforward i've looked a lot into",
    "start": "1054720",
    "end": "1061760"
  },
  {
    "text": "the right and the left options and i haven't really found any like",
    "start": "1061760",
    "end": "1066880"
  },
  {
    "text": "typical real life person use cases for these um there were some awards shows",
    "start": "1066880",
    "end": "1073039"
  },
  {
    "text": "like big you know hollywood award shows that were done um during the pandemic that used webrtc and so for like a big",
    "start": "1073039",
    "end": "1080080"
  },
  {
    "text": "multi-camera setup or something like that um right and left could be used but if you're just kind of an average person",
    "start": "1080080",
    "end": "1086160"
  },
  {
    "text": "then i don't know that those will be the most applicable but if you know any use cases i would love to hear about them so",
    "start": "1086160",
    "end": "1093039"
  },
  {
    "text": "definitely let me know uh the other thing that you can do that i think is really useful is you can set",
    "start": "1093039",
    "end": "1098960"
  },
  {
    "text": "a unique device id to the devices on your machine so if you know that you're",
    "start": "1098960",
    "end": "1104320"
  },
  {
    "text": "going to be logging into this and you you have different maybe you have like an external camera and then you have the",
    "start": "1104320",
    "end": "1110320"
  },
  {
    "text": "internal camera on your mic uh or on your computer and then you also have like your microphone and maybe like a",
    "start": "1110320",
    "end": "1116080"
  },
  {
    "text": "usb mic um you can differentiate between these two and choose between them and",
    "start": "1116080",
    "end": "1121120"
  },
  {
    "text": "that's a really important part of the user experience is allowing users to decide which device they want to choose",
    "start": "1121120",
    "end": "1127600"
  },
  {
    "text": "for the input it sounds obvious but it's actually like something that does take some intention",
    "start": "1127600",
    "end": "1133039"
  },
  {
    "text": "when you're building this out you can use this enumerate devices method to go through the devices",
    "start": "1133039",
    "end": "1138720"
  },
  {
    "text": "that are connected and the other good thing too is that way if for some reason the device isn't connected on the user's",
    "start": "1138720",
    "end": "1144320"
  },
  {
    "text": "end you know through no fault of the application that's something that they can then explore knowing that it's not",
    "start": "1144320",
    "end": "1150320"
  },
  {
    "text": "set up properly the one thing is that if a user doesn't give permission to",
    "start": "1150320",
    "end": "1156559"
  },
  {
    "text": "the browser to see their devices then it remains anonymous you might",
    "start": "1156559",
    "end": "1161600"
  },
  {
    "text": "actually see like the number of devices that are connected but you won't have any information about like the",
    "start": "1161600",
    "end": "1167120"
  },
  {
    "text": "descriptive name of that device you know whatever the brand of it is or that kind of thing so",
    "start": "1167120",
    "end": "1173360"
  },
  {
    "start": "1172000",
    "end": "1601000"
  },
  {
    "text": "now that we've kind of gotten our way around this i'm to show a quick demo and",
    "start": "1173360",
    "end": "1179520"
  },
  {
    "text": "i just wanted to give a quick shout out to my colleague phil um if you all come to nbc every year you may have met phil",
    "start": "1179520",
    "end": "1185600"
  },
  {
    "text": "before he authored these demos that i'm going to show and they're they're really they're really",
    "start": "1185600",
    "end": "1192000"
  },
  {
    "text": "well done so um the first thing we'll look at here is um just the camera selection so",
    "start": "1192000",
    "end": "1198960"
  },
  {
    "text": "um on the left hand side of the screen um is firefox and on the right hand is chrome um so we'll kind of just look at",
    "start": "1198960",
    "end": "1205280"
  },
  {
    "text": "some of the differences uh and the similarities between them so if i choose get camera here it's going",
    "start": "1205280",
    "end": "1211679"
  },
  {
    "text": "to give me um some options about how i want to connect and we'll see if my if",
    "start": "1211679",
    "end": "1217039"
  },
  {
    "text": "my cam link actually does work i have this uh i have this camera set up over here this is usually what i use for my",
    "start": "1217039",
    "end": "1223039"
  },
  {
    "text": "webcam at home um and then there's also like the internal camera",
    "start": "1223039",
    "end": "1228480"
  },
  {
    "text": "which is the facetime one here so um it's interesting because firefox has",
    "start": "1228480",
    "end": "1233760"
  },
  {
    "text": "this remember this decision link or checkbox and uh it actually won't",
    "start": "1233760",
    "end": "1239200"
  },
  {
    "text": "remember so that's not really super useful but that's okay uh cool so this is working",
    "start": "1239200",
    "end": "1244799"
  },
  {
    "text": "which is great you can all see yourselves out there now um and then if i wanted to change over to my facetime",
    "start": "1244799",
    "end": "1252559"
  },
  {
    "text": "camera for instance if i just click this here i'll have to give permission to that as well and then you can all see me",
    "start": "1252559",
    "end": "1260480"
  },
  {
    "text": "so then if we go over here to chrome it's pretty similar it's you know still doing this thing where it asks permission now um and then you'll see",
    "start": "1260480",
    "end": "1268159"
  },
  {
    "text": "all the ones i have here um there's this obs one which i use sometimes for",
    "start": "1268159",
    "end": "1273200"
  },
  {
    "text": "streaming it's a virtual camera so it's actually not really going to do anything here",
    "start": "1273200",
    "end": "1278960"
  },
  {
    "text": "and then let's talk a little bit about resolution",
    "start": "1278960",
    "end": "1284240"
  },
  {
    "text": "because that is definitely something that is worth kind of exploring and thinking about if you are building with",
    "start": "1284240",
    "end": "1291440"
  },
  {
    "text": "webrtc um so 920 by 1080 is kind of like a standard",
    "start": "1291440",
    "end": "1298559"
  },
  {
    "text": "um that we could put in if we wanted to um it's best to give some different",
    "start": "1298559",
    "end": "1304080"
  },
  {
    "text": "options so the minimum the maximum and then the ideal and so you can as you can imagine you know as",
    "start": "1304080",
    "end": "1311200"
  },
  {
    "text": "as the browser window size moves it's going it's going to try to hit one of these",
    "start": "1311200",
    "end": "1317280"
  },
  {
    "text": "the one thing that you do want to kind of avoid is this one called exact so if",
    "start": "1317280",
    "end": "1322559"
  },
  {
    "text": "you use exact then it's only going to try exactly what you gave it",
    "start": "1322559",
    "end": "1327600"
  },
  {
    "text": "and if it can't reach that if it's over constrained then you're going to get this over constrained error basically",
    "start": "1327600",
    "end": "1333120"
  },
  {
    "text": "saying you know this is too big and i can't do it so we'll just take a look at what this",
    "start": "1333120",
    "end": "1338720"
  },
  {
    "text": "looks like really quick so i'm going to minimize firefox here",
    "start": "1338720",
    "end": "1346240"
  },
  {
    "text": "and we will just use chrome um so the cool thing about webrtc of",
    "start": "1346240",
    "end": "1353120"
  },
  {
    "text": "course as well is that um it is built uh entirely in the browser so um if you",
    "start": "1353120",
    "end": "1361440"
  },
  {
    "text": "want to make some edits uh without you know kind of like writing something in your ide and then refreshing it you can",
    "start": "1361440",
    "end": "1368240"
  },
  {
    "text": "just go over here and kind of have a play around with it so that's what we're gonna do so right now we're looking at this video",
    "start": "1368240",
    "end": "1375440"
  },
  {
    "text": "constraints object which we've declared on line 32. um so i'm just going to go",
    "start": "1375440",
    "end": "1380559"
  },
  {
    "text": "in here and then i'm going to change the width of it so we'll ch we'll do it using that and first way that we looked",
    "start": "1380559",
    "end": "1387039"
  },
  {
    "text": "at so we'll give this 320",
    "start": "1387039",
    "end": "1392399"
  },
  {
    "text": "and this will be 19 20 and then ideal",
    "start": "1393679",
    "end": "1399919"
  },
  {
    "text": "and then for the height here um",
    "start": "1401120",
    "end": "1406720"
  },
  {
    "text": "i always forget this resolution so let's see if i get it",
    "start": "1406720",
    "end": "1411679"
  },
  {
    "text": "and then we're going to look at this and then we'll look at the exact and you'll see kind of what can go wrong uh if we",
    "start": "1412400",
    "end": "1419280"
  },
  {
    "text": "go about it that way all right so i'm going to save this",
    "start": "1419280",
    "end": "1426080"
  },
  {
    "text": "and then if i go over here to get camera you'll see that it did change our resolution there so",
    "start": "1426080",
    "end": "1433120"
  },
  {
    "text": "that's good that's what we wanted to see um now i'm going to go over here and just",
    "start": "1433120",
    "end": "1438640"
  },
  {
    "text": "change this to exact uh and so again the browser is just going to try to get exactly what we have",
    "start": "1438640",
    "end": "1443840"
  },
  {
    "text": "given it um and it actually probably should be fine for my cameling one um yeah so",
    "start": "1443840",
    "end": "1450720"
  },
  {
    "text": "that's working fine but let's see what happens when i try the facetime one oh",
    "start": "1450720",
    "end": "1457520"
  },
  {
    "text": "oh thank you",
    "start": "1457520",
    "end": "1460400"
  },
  {
    "text": "okay there we go um so uh exciting very paradoxical when you do",
    "start": "1462960",
    "end": "1468799"
  },
  {
    "text": "the thing that you don't want to do um but we got the error here so it can't get this resolution that we wanted and",
    "start": "1468799",
    "end": "1475039"
  },
  {
    "text": "then if we go to the console we'll see we did get that over constrained error so um just something to keep in mind",
    "start": "1475039",
    "end": "1481600"
  },
  {
    "text": "again um as you are thinking about you know the experience that the user might be having on their end",
    "start": "1481600",
    "end": "1489200"
  },
  {
    "text": "okay so the next thing uh that i'll mention is",
    "start": "1489200",
    "end": "1495520"
  },
  {
    "text": "another sort of mobile uh thing that a little feature that you could add in potentially if you know",
    "start": "1495520",
    "end": "1501600"
  },
  {
    "text": "someone is um gonna be on mobile and it's actually like the torch or the flashlight on your phone um so if you",
    "start": "1501600",
    "end": "1508480"
  },
  {
    "text": "set this to true then it will automatically turn the torch on when someone connects via video um",
    "start": "1508480",
    "end": "1516320"
  },
  {
    "text": "and you may think okay well if you use true to turn it on certainly you'd use false",
    "start": "1516320",
    "end": "1521600"
  },
  {
    "text": "to turn it off but that is not the case um you would actually just need to stop the video track entirely in order to",
    "start": "1521600",
    "end": "1528799"
  },
  {
    "text": "turn the torch off and i think a few use cases for this that would actually make a lot of sense",
    "start": "1528799",
    "end": "1535279"
  },
  {
    "text": "are if you were building a barcode scanner or if you were building a qr code scanner which is a huge thing again that",
    "start": "1535279",
    "end": "1541279"
  },
  {
    "text": "we've seen quite a bit over the last two years um the other thing that you can do",
    "start": "1541279",
    "end": "1546880"
  },
  {
    "text": "rather than constraining the video track as it comes in",
    "start": "1546880",
    "end": "1551919"
  },
  {
    "text": "as you're asking for it you can also constrain it after you've already gotten the track so you can apply these",
    "start": "1551919",
    "end": "1558000"
  },
  {
    "text": "constraints after you've already gotten the video track from the stream of data",
    "start": "1558000",
    "end": "1564320"
  },
  {
    "text": "the other thing that you want to take into consideration if you are changing the video track itself",
    "start": "1564320",
    "end": "1571279"
  },
  {
    "text": "is that if you want to switch to another device another stream of data from",
    "start": "1571279",
    "end": "1576720"
  },
  {
    "text": "another device you can't just go in here and change the device id because it actually needs to",
    "start": "1576720",
    "end": "1582400"
  },
  {
    "text": "get a different track of data from that other device so similarly to torch you're going to",
    "start": "1582400",
    "end": "1588400"
  },
  {
    "text": "want to stop the track first and then you can just go ahead and make the",
    "start": "1588400",
    "end": "1594880"
  },
  {
    "text": "request again with the device id of the one that you intended to use",
    "start": "1594880",
    "end": "1601600"
  },
  {
    "text": "so um it's a good practice just to always provide a way for people to",
    "start": "1601600",
    "end": "1606799"
  },
  {
    "text": "change their device and let them know which one they're currently on and check those inputs",
    "start": "1606799",
    "end": "1613440"
  },
  {
    "text": "so i will show you a demo of how you can do this",
    "start": "1613440",
    "end": "1619120"
  },
  {
    "text": "so for this one let's go back to our split screen",
    "start": "1619840",
    "end": "1626440"
  },
  {
    "text": "and we're going to see this connection here",
    "start": "1628640",
    "end": "1635039"
  },
  {
    "text": "and make this one smaller okay so if we preview the camera and",
    "start": "1635919",
    "end": "1642799"
  },
  {
    "text": "microphone here again it's going to ask for our permission um great so you can see we've got this drop",
    "start": "1642799",
    "end": "1649200"
  },
  {
    "text": "down here and then we've also got the microphone",
    "start": "1649200",
    "end": "1654240"
  },
  {
    "text": "um so if we wanted to join the room we could add in our information here and then i'll just do the same thing on this",
    "start": "1654240",
    "end": "1660399"
  },
  {
    "text": "one we're actually going to use this next part in a second but i just wanted you to see what it looks like so then if",
    "start": "1660399",
    "end": "1665679"
  },
  {
    "text": "i wanted to choose you know my cam link here i could do that um",
    "start": "1665679",
    "end": "1671200"
  },
  {
    "text": "and yeah this is just like a nice kind of like information for the user to have before they log in",
    "start": "1671200",
    "end": "1679279"
  },
  {
    "text": "the next part that i'm going to show is actually all around the web audio api so we'll talk about that really quick",
    "start": "1679279",
    "end": "1685039"
  },
  {
    "text": "before i go into that part um so if you saw that visualizer that popped up that",
    "start": "1685039",
    "end": "1690720"
  },
  {
    "text": "was kind of like going that actually wasn't part of webrtc that was a different api called the web audio api",
    "start": "1690720",
    "end": "1697600"
  },
  {
    "text": "and it's really useful to use alongside webrtc because you're already getting",
    "start": "1697600",
    "end": "1703039"
  },
  {
    "text": "that audio data coming in so you might as well do something with it and there's also some other things that",
    "start": "1703039",
    "end": "1709200"
  },
  {
    "text": "you can customize that i'm going to show you in a minute that's very relevant to the title of",
    "start": "1709200",
    "end": "1714320"
  },
  {
    "text": "this talk so you can display audio to the user in a lot of different ways using it i've",
    "start": "1714320",
    "end": "1720559"
  },
  {
    "text": "also seen people build things where you can like change your voice and kind of like silly",
    "start": "1720559",
    "end": "1726159"
  },
  {
    "text": "um demos where you can you know like add reverb to your voice or like do",
    "start": "1726159",
    "end": "1731600"
  },
  {
    "text": "really fun stuff so um i think you could probably build like a really uh great interactive experience with that",
    "start": "1731600",
    "end": "1738559"
  },
  {
    "start": "1738000",
    "end": "1854000"
  },
  {
    "text": "um and the nice thing is is once you kind of understand the media constraints that are available to you you can really",
    "start": "1738559",
    "end": "1744559"
  },
  {
    "text": "use them to your advantage um to make it feel like uh something easy for the user",
    "start": "1744559",
    "end": "1750159"
  },
  {
    "text": "to use something like with them in mind built with them in mind really um so now",
    "start": "1750159",
    "end": "1755760"
  },
  {
    "text": "i'm gonna show you a little bit more about what can be done with the web audio api",
    "start": "1755760",
    "end": "1761120"
  },
  {
    "text": "um okay so uh we're gonna log in and i'm going to go on mute like kind of immediately",
    "start": "1761360",
    "end": "1768799"
  },
  {
    "text": "just so that you can see what we're getting at here",
    "start": "1768799",
    "end": "1773919"
  },
  {
    "text": "all right and then i'm going to give myself another name here just slightly different so it won't",
    "start": "1776159",
    "end": "1783360"
  },
  {
    "text": "okay so uh you can see now that i'm talking",
    "start": "1783360",
    "end": "1788880"
  },
  {
    "text": "uh but i'm on mute so in this demo it's it's really great",
    "start": "1788880",
    "end": "1794080"
  },
  {
    "text": "because basically it's taking the audio that's coming in and it's trying to figure out like okay the audio is within",
    "start": "1794080",
    "end": "1800320"
  },
  {
    "text": "this frequency so i know it's probably not background noise and i know that someone's probably talking but they're",
    "start": "1800320",
    "end": "1805520"
  },
  {
    "text": "on mute um and this solves the you're on mute problem so uh never again do you",
    "start": "1805520",
    "end": "1811279"
  },
  {
    "text": "have to tell a colleague hey uh please come off mute um you can just use something like this",
    "start": "1811279",
    "end": "1817840"
  },
  {
    "text": "uh cool so there's just a few more things that i want to chat about before",
    "start": "1817840",
    "end": "1823600"
  },
  {
    "text": "we wrap up here um",
    "start": "1823600",
    "end": "1830559"
  },
  {
    "text": "screen share so screen share is part of webrtc but it's a different api than get",
    "start": "1830559",
    "end": "1836399"
  },
  {
    "text": "user media this one is going to be get display media so it's pretty similar it's going to",
    "start": "1836399",
    "end": "1842399"
  },
  {
    "text": "prompt you to share your screen again um and it's it's just for similar",
    "start": "1842399",
    "end": "1847600"
  },
  {
    "text": "reasons right like you don't want someone being able to access your screen after you've ended this session",
    "start": "1847600",
    "end": "1853600"
  },
  {
    "text": "that would be really bad um in the past uh webrtc builds were really difficult to",
    "start": "1853600",
    "end": "1859519"
  },
  {
    "text": "build or sorry uh creating video for the browser was really hard to build",
    "start": "1859519",
    "end": "1865360"
  },
  {
    "text": "you had to develop plugins that would add on to your browser and then you had to maintain those and you often had to",
    "start": "1865360",
    "end": "1873200"
  },
  {
    "text": "create some sort of extension in order to share the screen um so now you don't have to do that you can just do it all",
    "start": "1873200",
    "end": "1879360"
  },
  {
    "text": "through webrtc so it's recommended um to not do that um there are a couple of",
    "start": "1879360",
    "end": "1886159"
  },
  {
    "text": "other like fun uh little things that um you can do with uh aside from just screen sharing",
    "start": "1886159",
    "end": "1893279"
  },
  {
    "text": "that you can do with the data channels are api so i'll show you some of those and then we'll",
    "start": "1893279",
    "end": "1899039"
  },
  {
    "text": "just talk briefly about like what the data channel api looks like um okay so",
    "start": "1899039",
    "end": "1904720"
  },
  {
    "text": "uh again i'm gonna just share here to this particular",
    "start": "1904720",
    "end": "1909919"
  },
  {
    "text": "demo and um i'm just gonna log in here so",
    "start": "1909919",
    "end": "1915120"
  },
  {
    "text": "that you can really like see what it would look like for two people to join um",
    "start": "1915120",
    "end": "1921039"
  },
  {
    "text": "this one is a little bit different than the other one that we just did",
    "start": "1921039",
    "end": "1926240"
  },
  {
    "text": "i'm gonna go on mute and",
    "start": "1926240",
    "end": "1931279"
  },
  {
    "text": "this is uh as you can see here we've got this share",
    "start": "1931279",
    "end": "1938159"
  },
  {
    "text": "screen option um so you can",
    "start": "1938159",
    "end": "1943279"
  },
  {
    "text": "share your screen although that one looks like it's not working for some reason so here you'll see you know",
    "start": "1943279",
    "end": "1948799"
  },
  {
    "text": "there's this drop down and you can choose if you want a particular window or the whole thing the thing that this",
    "start": "1948799",
    "end": "1955360"
  },
  {
    "text": "um that firefox does that i think is actually really nice is it'll let you mute website notifications while you're",
    "start": "1955360",
    "end": "1961039"
  },
  {
    "text": "sharing so if you do happen to have that enabled i actually think that's a really nice feature um",
    "start": "1961039",
    "end": "1968480"
  },
  {
    "text": "and then yeah you've all seen this before but that's you know kind of what it looks like in here",
    "start": "1968480",
    "end": "1974559"
  },
  {
    "text": "looks like maybe it didn't share my video",
    "start": "1974559",
    "end": "1979279"
  },
  {
    "text": "oh did i that would do it then let me try it over here uh i just want to",
    "start": "1980960",
    "end": "1987840"
  },
  {
    "text": "show the whiteboarding things it's actually pretty cool",
    "start": "1987840",
    "end": "1993279"
  },
  {
    "text": "thank you um so there's that and then there's this fun thing",
    "start": "1993440",
    "end": "1999039"
  },
  {
    "text": "with the data channel api where phil built this thing where you",
    "start": "1999039",
    "end": "2004799"
  },
  {
    "text": "can like send like click an emoji that you want to send but then like the more you click it the bigger it gets",
    "start": "2004799",
    "end": "2011200"
  },
  {
    "text": "um which is kind of funny you could like tell somebody to like fast forward to go backward",
    "start": "2011200",
    "end": "2016720"
  },
  {
    "text": "um warn them that they're you know running out of time here um and then if you wanted to try and",
    "start": "2016720",
    "end": "2022320"
  },
  {
    "text": "like make your face the emoji you could do that um the other uh feature here that i",
    "start": "2022320",
    "end": "2028399"
  },
  {
    "text": "think is pretty fun is you can do this whiteboard and this is another library that somebody built that's",
    "start": "2028399",
    "end": "2034559"
  },
  {
    "text": "integrated in this demo but um it's pretty fun uh and i know like a lot",
    "start": "2034559",
    "end": "2039760"
  },
  {
    "text": "of people use like mirror or other whiteboarding collaborative tools now so those are great but you could also build",
    "start": "2039760",
    "end": "2045360"
  },
  {
    "text": "your own if that is something that you wanted to do",
    "start": "2045360",
    "end": "2050398"
  },
  {
    "text": "all right so uh everything that we just looked at was built using data channels",
    "start": "2053040",
    "end": "2059358"
  },
  {
    "text": "and again really all you have to do is just give it a name and open that up",
    "start": "2059359",
    "end": "2064878"
  },
  {
    "text": "there are a few other useful tools that you can look at when you're building something with",
    "start": "2064879",
    "end": "2070878"
  },
  {
    "text": "webrtc so at twilio we do have a video product that's a paid product um but we also",
    "start": "2070879",
    "end": "2077358"
  },
  {
    "text": "have these uh diagnostic tools which are free um so you can implement them in",
    "start": "2077359",
    "end": "2083760"
  },
  {
    "text": "your own builds and it will help you test for things like bitrate video input audio input and audio output",
    "start": "2083760",
    "end": "2092320"
  },
  {
    "text": "we also have a site called networktest.twilio.com and if you go there it's going to",
    "start": "2092320",
    "end": "2098240"
  },
  {
    "text": "immediately start running a bunch of tests some of them again are twilio specific if you're using like our voice services",
    "start": "2098240",
    "end": "2105119"
  },
  {
    "text": "or something with video um but some of them are more general like bitrate and upload speed so you can definitely take",
    "start": "2105119",
    "end": "2112000"
  },
  {
    "text": "advantage of that it'll also do a thing where it will like set up an automatic call and make sure your audio inputs are working",
    "start": "2112000",
    "end": "2117839"
  },
  {
    "text": "so that might be something useful to you as i mentioned earlier not every browser",
    "start": "2117839",
    "end": "2123920"
  },
  {
    "text": "does accommodate webrtc but if you look at this i would say the coverage is pretty good um all of the",
    "start": "2123920",
    "end": "2131040"
  },
  {
    "text": "green you know are browsers that do uh allow for webrtc and if you are building",
    "start": "2131040",
    "end": "2136160"
  },
  {
    "text": "something on android and you're worried about the native browser not working there are those libraries for if you",
    "start": "2136160",
    "end": "2141760"
  },
  {
    "text": "want to build something for android so hopefully by now you uh know that webrtc",
    "start": "2141760",
    "end": "2147119"
  },
  {
    "start": "2143000",
    "end": "2211000"
  },
  {
    "text": "is not a solution it's not a fully fledged thing that you can just go and deploy and use but i",
    "start": "2147119",
    "end": "2152560"
  },
  {
    "text": "actually think it's good that it's not a solution because it gives you the power to build what you want to build it",
    "start": "2152560",
    "end": "2158079"
  },
  {
    "text": "really is everywhere so anywhere there's a modern browser there is the potential to build a web",
    "start": "2158079",
    "end": "2163359"
  },
  {
    "text": "rtc experience it's powerful because it's on the web we have all these other apps that allow",
    "start": "2163359",
    "end": "2169599"
  },
  {
    "text": "connectivity but they don't allow for the same sort of customization or fun that something",
    "start": "2169599",
    "end": "2175119"
  },
  {
    "text": "like webrtc does and then hopefully you leave this talk today",
    "start": "2175119",
    "end": "2180160"
  },
  {
    "text": "feeling empowered and maybe have some ideas yourself that you could use to create your own",
    "start": "2180160",
    "end": "2187520"
  },
  {
    "text": "webrtc experiences um so thanks again so much for spending your lunch time coming to this talk uh",
    "start": "2187520",
    "end": "2193599"
  },
  {
    "text": "hopefully you learned something new or maybe just got a bit of a refresher and again if you would like to reach out",
    "start": "2193599",
    "end": "2199839"
  },
  {
    "text": "please do so at my twitter my email i would love to learn more about what you're building and have a great rest of",
    "start": "2199839",
    "end": "2205839"
  },
  {
    "text": "your time at ndc [Applause]",
    "start": "2205839",
    "end": "2213140"
  }
]