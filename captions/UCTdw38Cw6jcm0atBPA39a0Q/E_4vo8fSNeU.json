[
  {
    "start": "0",
    "end": "131000"
  },
  {
    "text": "I'm going to do a slightly abbreviated version of this talk um this is called how to be fast a look at high",
    "start": "2600",
    "end": "8639"
  },
  {
    "text": "performance websites this talk was supposed to happen yesterday but I don't know if y'all remember there was a bit",
    "start": "8639",
    "end": "14559"
  },
  {
    "text": "of an evacuation situation and so this is when we got rescheduled for so uh my",
    "start": "14559",
    "end": "20840"
  },
  {
    "text": "name is Eric Brandis and I build software that monitors other software so",
    "start": "20840",
    "end": "26000"
  },
  {
    "text": "the main product that we've made my business partners and I over the years is trackjs which is a JavaScript error monitoring tool but our our JavaScript",
    "start": "26000",
    "end": "33160"
  },
  {
    "text": "eror monitoring customers kept saying hey we want to know our performance metrics too right we want to know not only do we have JavaScript errors but is",
    "start": "33160",
    "end": "40760"
  },
  {
    "text": "our website fast and we didn't have a good way to answer that question for them and so we built a second product",
    "start": "40760",
    "end": "46120"
  },
  {
    "text": "called request metrics and so my head has been in the web performance space for the last two years what we've been building it and so um this talk is all",
    "start": "46120",
    "end": "53199"
  },
  {
    "text": "about ways to go faster how to measure speed and how you can make your website",
    "start": "53199",
    "end": "58800"
  },
  {
    "text": "faster um um why do we care about speed so just yesterday I was telling somebody",
    "start": "58800",
    "end": "64518"
  },
  {
    "text": "about this talk and he said that where he works they don't care about speed because the users of their software are",
    "start": "64519",
    "end": "70280"
  },
  {
    "text": "paid to use the software and so it's like we don't care and I was like well but I feel like as professionals we",
    "start": "70280",
    "end": "76600"
  },
  {
    "text": "should probably probably have a little pride in our work and if that doesn't sell you um years and years ago Amazon",
    "start": "76600",
    "end": "83040"
  },
  {
    "text": "did a bunch of Investigation into performance and they found that for every 100 milliseconds that the site was slow it cost them1 % of their sales and",
    "start": "83040",
    "end": "91920"
  },
  {
    "text": "in fact Walmart just saw the exact same thing a few years ago the BBC they",
    "start": "91920",
    "end": "97600"
  },
  {
    "text": "noticed that for every additional second the page took to load 10% of the users",
    "start": "97600",
    "end": "102640"
  },
  {
    "text": "leave and Google is on the same track as well so if your page load goes from 1",
    "start": "102640",
    "end": "108119"
  },
  {
    "text": "second to 3 seconds the probability that the user bounces goes up 32% but if it goes from 1 second to 6 seconds the",
    "start": "108119",
    "end": "115280"
  },
  {
    "text": "probability of a bounce is 106% so users don't like waiting for slow things",
    "start": "115280",
    "end": "121399"
  },
  {
    "text": "and when we talk about speed so what does it mean you know what makes a",
    "start": "121399",
    "end": "126680"
  },
  {
    "text": "website fast or slow we should probably discuss some terminology so for years the main",
    "start": "126680",
    "end": "133400"
  },
  {
    "start": "131000",
    "end": "131000"
  },
  {
    "text": "barometer of web performance was load time and so the load event is fired at a",
    "start": "133400",
    "end": "139040"
  },
  {
    "text": "certain point in the page life cycle when all of the dependent resources are done and so when we talk about",
    "start": "139040",
    "end": "145040"
  },
  {
    "text": "performance a lot of what we're talking about is load time and so if you've ever looked at the Chrome developer tools on the network tab at the bottom it will",
    "start": "145040",
    "end": "152760"
  },
  {
    "text": "tell you the load time for the website that you just loaded it will also give you Dom content loaded which is when the",
    "start": "152760",
    "end": "159360"
  },
  {
    "text": "Dom is parsed and in memory but not all of the dependent resources have been downloaded so both are interesting",
    "start": "159360",
    "end": "165000"
  },
  {
    "text": "numbers but really lad is historically the thing we care about however Google recently has",
    "start": "165000",
    "end": "172159"
  },
  {
    "start": "170000",
    "end": "170000"
  },
  {
    "text": "created a new thing called The Core web vitals and I'm not even going to read that paragraph to you because it is so",
    "start": "172159",
    "end": "177640"
  },
  {
    "text": "much marketing speak I can't even stand it but there are three core web vitals",
    "start": "177640",
    "end": "182879"
  },
  {
    "text": "largest contentful paint first input delay and cumulative layout shift now these measure different parts of page",
    "start": "182879",
    "end": "189920"
  },
  {
    "text": "and website performance the thing that we mainly care about today is largest contentful paint and we're going to talk",
    "start": "189920",
    "end": "195799"
  },
  {
    "text": "more about what that is in a second but there is also a fourth web vital it's",
    "start": "195799",
    "end": "201120"
  },
  {
    "text": "not a core web vital there's only three of those but one of the other web vitals is first contentful paint which is",
    "start": "201120",
    "end": "208000"
  },
  {
    "text": "related so if we use use bbc.com as an example if we go to web pag test.org",
    "start": "208000",
    "end": "214319"
  },
  {
    "text": "right they do a really cool thing where you can put the website in and then it'll show you a series of thumbnails as it's loading and they will actually call",
    "start": "214319",
    "end": "221879"
  },
  {
    "text": "out first contentful paint and largest contentful paint for you and first contentful paint is when the very first",
    "start": "221879",
    "end": "228360"
  },
  {
    "text": "thing whether it's a text or image or whatever is rendered on the screen and the idea with that is you know you want",
    "start": "228360",
    "end": "234200"
  },
  {
    "text": "that to be as fast as possible so the user can tell that something is happening largest content paint is the",
    "start": "234200",
    "end": "241159"
  },
  {
    "start": "238000",
    "end": "238000"
  },
  {
    "text": "paint that is the the biggest area of the screen prior to load so here we can see in the BBC example that that big",
    "start": "241159",
    "end": "248799"
  },
  {
    "text": "hero image is the largest contentful paint the biggest paint that happens before load and the idea with largest",
    "start": "248799",
    "end": "254519"
  },
  {
    "text": "contentful paint is that the faster that is the more likely that your website at least looks usable to the end user so",
    "start": "254519",
    "end": "261280"
  },
  {
    "text": "Google says it should be less than two and a half seconds which if you've used",
    "start": "261280",
    "end": "266440"
  },
  {
    "text": "modern websites not many people are doing it under two and a half seconds and Google is serious about this stuff",
    "start": "266440",
    "end": "272320"
  },
  {
    "text": "so in 2010 they started using load performance as a signal and search result rankings for desktop websites in",
    "start": "272320",
    "end": "279199"
  },
  {
    "text": "2018 they added mobile performance as a search result ranking factor and as of 2020 the core web vitals are now",
    "start": "279199",
    "end": "286440"
  },
  {
    "text": "actually included as a ranking factor for your search results now they're kg they don't say how much of a factor it",
    "start": "286440",
    "end": "293000"
  },
  {
    "text": "is they just say that they're going to continue to use it as a factor but it's important to know about these core web",
    "start": "293000",
    "end": "298880"
  },
  {
    "text": "vitals and measure them so that you can make sure you're not going to you know run a file of Google big G we talk about web performance there",
    "start": "298880",
    "end": "306400"
  },
  {
    "text": "are three big factors outside of your control the first is what device your user is using so some people have super",
    "start": "306400",
    "end": "312919"
  },
  {
    "text": "modern smartphones or apple M1 pros and they're awesome and some people have 8-year-old Android 4 phones right and",
    "start": "312919",
    "end": "319960"
  },
  {
    "text": "that is going to make a big difference in how they experience your website it's also a matter of the",
    "start": "319960",
    "end": "325520"
  },
  {
    "text": "connection so if you're on like a super hardwired fiber to the Home Connection your internet experience is going to be",
    "start": "325520",
    "end": "331160"
  },
  {
    "text": "a lot better than somebody that's on you know dialup or on the tube and is like getting the most spotty internet",
    "start": "331160",
    "end": "337240"
  },
  {
    "text": "ever and the third thing that we can't really control for is where the users coming from so we don't know how far",
    "start": "337240",
    "end": "343120"
  },
  {
    "text": "away they are from our servers but the further away they are the worse the experience is going to be for them so in",
    "start": "343120",
    "end": "351160"
  },
  {
    "start": "350000",
    "end": "350000"
  },
  {
    "text": "order to fix and mitigate those three factors we need to measure performance first so that we know how are we doing",
    "start": "351160",
    "end": "357000"
  },
  {
    "text": "today and then we need to speed things up and so we can measure if we've actually improved things so in the school of web",
    "start": "357000",
    "end": "364600"
  },
  {
    "text": "performance measurement there's two thoughts you'll hear a lot of people talk about lab measurement or synthetic",
    "start": "364600",
    "end": "371000"
  },
  {
    "text": "measurement and I call these theoretical measurements because they are totally bogus and the biggest purveyor of",
    "start": "371000",
    "end": "377039"
  },
  {
    "text": "nonsense performance audit data is Lighthouse and so this is a tool that was uh created by Google of course like",
    "start": "377039",
    "end": "384080"
  },
  {
    "text": "30% of the stuff in this talk was created by Google um and I call it the thing that everyone uses for madeup",
    "start": "384080",
    "end": "390080"
  },
  {
    "text": "results so if you've never used Lighthouse you can find it in your Chrome developer tools right it lives right here and it lets you run",
    "start": "390080",
    "end": "396880"
  },
  {
    "text": "performance audits on the site that you're currently visiting and uh you can see you get some categories that you can",
    "start": "396880",
    "end": "402880"
  },
  {
    "text": "choose from one thing that most people don't know um because this is actually",
    "start": "402880",
    "end": "408039"
  },
  {
    "text": "hidden most of the time you actually have to open this menu by default Lighthouse uses what's called simulated",
    "start": "408039",
    "end": "414440"
  },
  {
    "text": "throttling where they do some sort of blackbox network throttling to try and",
    "start": "414440",
    "end": "420599"
  },
  {
    "text": "appear like a real user would but what does that mean now you can uncheck this",
    "start": "420599",
    "end": "426479"
  },
  {
    "text": "and they won't do that but regardless if you pick mobile they're going to do more",
    "start": "426479",
    "end": "431560"
  },
  {
    "text": "emulation to try and emulate a mobile device and that includes things like throttling and um trying to sort of",
    "start": "431560",
    "end": "438000"
  },
  {
    "text": "mimic the user agent and other things it's not always perfect so for example here is",
    "start": "438000",
    "end": "444960"
  },
  {
    "text": "google.com search results for web performance now I don't need a website",
    "start": "444960",
    "end": "450080"
  },
  {
    "text": "or Lighthouse or anything to tell me that Google search results are fast every time I search and hit go it feels",
    "start": "450080",
    "end": "456400"
  },
  {
    "text": "practically instant right so what does Lighthouse Google's own tool say about",
    "start": "456400",
    "end": "462800"
  },
  {
    "text": "google.com they get a 66 on the performance score with a big orange color which means it's not very good",
    "start": "462800",
    "end": "468360"
  },
  {
    "text": "right now these scores are they you know they're out of a 100 what does it actually mean you know they've got this",
    "start": "468360",
    "end": "475240"
  },
  {
    "text": "rubric for calculating them but the big thing that I found really I onic deeply",
    "start": "475240",
    "end": "480400"
  },
  {
    "text": "ironic was that their SEO score is so bad right this is the company that writes the book on search engines and",
    "start": "480400",
    "end": "486599"
  },
  {
    "text": "they can't optimize it maybe they don't have to and you can see their largest contentful paint and you can start",
    "start": "486599",
    "end": "492840"
  },
  {
    "text": "seeing some of these web vitals in these Lighthouse audits their largest contentful paint is 2.9 seconds well",
    "start": "492840",
    "end": "499360"
  },
  {
    "text": "remember I just told you that Google themselves says you should have a largest contentful paint less than two and a half seconds so they don't even",
    "start": "499360",
    "end": "505360"
  },
  {
    "text": "pull it off right so then I was like well okay maybe this is just I need something to compare it to right I don't",
    "start": "505360",
    "end": "510879"
  },
  {
    "text": "know what a 66 means as far as performance I just know it's orange and that's not very good so I was like well what is like a really dog slow site that",
    "start": "510879",
    "end": "517599"
  },
  {
    "text": "I can run lighthouse on like what's the worst site I can think of and I was paying my credit card bill at the time and so I was like yeah Chase chase.com",
    "start": "517599",
    "end": "524680"
  },
  {
    "text": "this is one of the worst websites on Earth and when you load chase.com it's so bad that there's so many loading",
    "start": "524680",
    "end": "531519"
  },
  {
    "text": "Spinners this is just three there's seven seven loading Spinners that spin when you load it and I'm like surely",
    "start": "531519",
    "end": "537200"
  },
  {
    "text": "this will get worse than a 66 performance score so I ran Lighthouse against it and it",
    "start": "537200",
    "end": "542279"
  },
  {
    "text": "gets an 80 which is unbelievable and they nailed the SEO game right I mean",
    "start": "542279",
    "end": "547519"
  },
  {
    "text": "Google can't do it but chase.com can with all those loading Spinners are you kidding me and then you can see the",
    "start": "547519",
    "end": "553040"
  },
  {
    "text": "largest contemple paint is three times faster than Google's in Lighthouse and I",
    "start": "553040",
    "end": "558720"
  },
  {
    "text": "don't think that's right because every time I use that site it's terribly painful",
    "start": "558720",
    "end": "564519"
  },
  {
    "text": "so the whole point of this is just say that it's not always accurate and to",
    "start": "564519",
    "end": "569720"
  },
  {
    "text": "prove it there's a second kind of measurement it's called field measurement it's actually getting the values from the user's browser when they",
    "start": "569720",
    "end": "576399"
  },
  {
    "text": "load a page and of course Google also has that data so I don't know if y'all know but Chrome is sending statistics",
    "start": "576399",
    "end": "584160"
  },
  {
    "start": "579000",
    "end": "579000"
  },
  {
    "text": "for your page loads back to Google and they call it the Chrome user experience report and so Chrome is sending back all",
    "start": "584160",
    "end": "590959"
  },
  {
    "text": "of this performance metric data and you can put in a webpage URL into their page speed insights UI and it will give you",
    "start": "590959",
    "end": "599079"
  },
  {
    "text": "back a performance audit report that looks a lot like Lighthouse but it's actually using real data so let's look",
    "start": "599079",
    "end": "605600"
  },
  {
    "text": "and see how things go so here is the Chrome user experience report for Google",
    "start": "605600",
    "end": "610720"
  },
  {
    "text": "search results for that query you can see that they've passed their web vital assessment their first contentful paint",
    "start": "610720",
    "end": "616680"
  },
  {
    "text": "is blazing fast and their largest contentful paint is three times faster",
    "start": "616680",
    "end": "621760"
  },
  {
    "text": "in real life than light housee said it was and if we go to chase the world's worst",
    "start": "621760",
    "end": "627640"
  },
  {
    "text": "website they fail their core web vitals assessment their first contentful paint is in the orange and their largest",
    "start": "627640",
    "end": "633120"
  },
  {
    "text": "contentful paint is in the orange and it is three times slower in real life than it is in Lighthouse so the main point",
    "start": "633120",
    "end": "641120"
  },
  {
    "text": "here is that those synthetic measurements they might be useful for certain class of Investigation but in my",
    "start": "641120",
    "end": "646680"
  },
  {
    "text": "opinion the best way to measure web performance is get the data from real users and so you'll hear you'll hear the",
    "start": "646680",
    "end": "652519"
  },
  {
    "start": "651000",
    "end": "651000"
  },
  {
    "text": "term real user monitoring thrown around a lot that is often a performance monitoring plus sort of activity mon ing",
    "start": "652519",
    "end": "659560"
  },
  {
    "text": "tracking clicks and that kind of thing um so in this case I'm talking about real user metrics and we can get all of",
    "start": "659560",
    "end": "666880"
  },
  {
    "text": "the metrics we'd ever want from the browser itself so all modern browsers including some older versions of safari",
    "start": "666880",
    "end": "672920"
  },
  {
    "text": "support the window.performance API and so here's just like a a quick little throwaway oneliner to get the navigation",
    "start": "672920",
    "end": "680639"
  },
  {
    "text": "entry uh for whatever page I was look I think that was bbc.com but you can see here the duration is",
    "start": "680639",
    "end": "686959"
  },
  {
    "text": "actually that is the the value of page load right so you can do this in any browser right now you can put that in",
    "start": "686959",
    "end": "692480"
  },
  {
    "text": "and you'll actually get all this detailed information I mean to like how many decimal points is that um of how",
    "start": "692480",
    "end": "698839"
  },
  {
    "text": "long did load take you can figure out how long did SSL take you can figure out what kind of protocol were we running was it http1 or",
    "start": "698839",
    "end": "706839"
  },
  {
    "text": "http2 and so we took all this uh data that was you know just sitting there",
    "start": "707000",
    "end": "712240"
  },
  {
    "text": "waiting for us and so what request metric does is it actually just packages it all up right and sends it and makes",
    "start": "712240",
    "end": "717320"
  },
  {
    "text": "pretty graphs and so the goal is to show show you what is not only your 50th median percentile right but what is your",
    "start": "717320",
    "end": "723279"
  },
  {
    "text": "75th percentile and 95th percentile for load because it's in those margins where your users are going to start to see",
    "start": "723279",
    "end": "729040"
  },
  {
    "text": "poor experience and we can also use the browser to give us web vitals data so",
    "start": "729040",
    "end": "734680"
  },
  {
    "text": "there is now a performance Observer object that you can use in Chrome and",
    "start": "734680",
    "end": "740000"
  },
  {
    "text": "Firefox mostly and a little bit of safari so the browser support is not as good but you can get largest contentful",
    "start": "740000",
    "end": "746639"
  },
  {
    "text": "paint you can get cumulative layout shift you can get all all of the core web vitals from this at least in Chrome for sure and so we send those to our",
    "start": "746639",
    "end": "754240"
  },
  {
    "text": "service too because what we want to see is how are we doing on this stuff right like this data is only interesting in",
    "start": "754240",
    "end": "760360"
  },
  {
    "text": "aggregate right like one person might have a bad experience but how about a 100 people",
    "start": "760360",
    "end": "765800"
  },
  {
    "text": "right so now that we've talked about all this like terminology and stuff what are some tricks that we can use that like",
    "start": "765800",
    "end": "771560"
  },
  {
    "text": "the big guys use like Google to be fast right and so some of this stuff is uh you're going to be like yeah this is",
    "start": "771560",
    "end": "777240"
  },
  {
    "text": "like brain dead Common Sense Eric and I know that but I still see a lot of people not doing it so the first thing",
    "start": "777240",
    "end": "784160"
  },
  {
    "text": "that we can do to go faster is just do less right just make less requests so even Google itself loads something like",
    "start": "784160",
    "end": "790760"
  },
  {
    "text": "39 assets when you go to their search result page but you know who doesn't load a lot of things gov.uk so I was not",
    "start": "790760",
    "end": "798720"
  },
  {
    "text": "planning to include gov.uk in my talk until I came to this website from my house in Minnesota USA and I was like",
    "start": "798720",
    "end": "804440"
  },
  {
    "text": "this is the most fast website I have ever seen in my life and I was like what are they doing like it's a really simple s I know it's a lot of text it's pretty",
    "start": "804440",
    "end": "811480"
  },
  {
    "text": "basic functionality so it should be fast but it is really fast and I'm looking and they they only Lo 17 things which is",
    "start": "811480",
    "end": "818480"
  },
  {
    "text": "crazy like that is the lowest I've seen on any major like public facing website it's only 200 kilobytes over the wire",
    "start": "818480",
    "end": "825920"
  },
  {
    "text": "and you can just see that like load is is blinding fast 223 milliseconds is crazy and that's from my house in the US",
    "start": "825920",
    "end": "833800"
  },
  {
    "text": "so we're going to talk about that more later and I was also like man every time I go back to the website it's really",
    "start": "833800",
    "end": "840440"
  },
  {
    "text": "fast and so one of the things that I see people screw up all the time is cashing",
    "start": "840440",
    "end": "845839"
  },
  {
    "start": "841000",
    "end": "841000"
  },
  {
    "text": "right so if we look so I load I loaded gov.uk for the second time because I wanted to see how they did on caching",
    "start": "845839",
    "end": "850880"
  },
  {
    "text": "and you can see that literally every one of the static content assets came from the cash right so Harrah they've got it",
    "start": "850880",
    "end": "857519"
  },
  {
    "text": "configured right but what's more interesting and I don't see this hardly ever but this is cool and y'all should",
    "start": "857519",
    "end": "863720"
  },
  {
    "text": "think about it I went to www.gov.uk and you can see here that my",
    "start": "863720",
    "end": "869240"
  },
  {
    "text": "browser only got 81 bytes back from the server it knows that the HTML is 82 KB",
    "start": "869240",
    "end": "876040"
  },
  {
    "text": "right but it only got 81 byes back and that's because they have their eegs configured correctly and we got a 304",
    "start": "876040",
    "end": "883759"
  },
  {
    "text": "back instead of a 200 with all that content because when we made that request my browser sent an if none match",
    "start": "883759",
    "end": "891199"
  },
  {
    "text": "header with the EEG that it retrieve last time and as long as it didn't change it'll send a 304 back and it'll",
    "start": "891199",
    "end": "898279"
  },
  {
    "text": "just pull it from discount cash right so I rarely see this in the wild and it's",
    "start": "898279",
    "end": "903880"
  },
  {
    "text": "great and of course the people who built this site they did it all for the static content as well so there's a couple",
    "start": "903880",
    "end": "911000"
  },
  {
    "text": "things I want to call out just in terms of getting your cash control stuff right there's sort of two two pieces of the puzzle the first is you need to use the",
    "start": "911000",
    "end": "916680"
  },
  {
    "text": "right cache control header in this case they've got a huge max age so max age is measured in seconds right and they've",
    "start": "916680",
    "end": "922360"
  },
  {
    "text": "got I don't know what that is it's like 15 years or something um and they've also marked it as public which means that Downstream proxies and caches can",
    "start": "922360",
    "end": "929040"
  },
  {
    "text": "cash it and they've also marked it as immutable and I don't see too many people using the immutable keyword but",
    "start": "929040",
    "end": "935240"
  },
  {
    "text": "it is really nice it's it's a little bit newer and it just tells the browser as well as Downstream caches that like this",
    "start": "935240",
    "end": "942399"
  },
  {
    "text": "thing will never change like if there's a new version it'll have a new file name right you can safely conclude that this",
    "start": "942399",
    "end": "947519"
  },
  {
    "text": "will never ever ever change and they also put a far Futures expire header on",
    "start": "947519",
    "end": "952920"
  },
  {
    "text": "it right so that's 15 years too I think right December 2037 so those two things me that my",
    "start": "952920",
    "end": "959399"
  },
  {
    "text": "browser as long as the cache you know exists on disk as long as I haven't cleared it it will never go back over",
    "start": "959399",
    "end": "966120"
  },
  {
    "text": "the wire for these assets and when they change they'll just update it looks like they got commit hashes or some kind of",
    "start": "966120",
    "end": "971880"
  },
  {
    "text": "file hash in the name whenever the file changes they'll just change the file name right so this is easy stuff but a",
    "start": "971880",
    "end": "978720"
  },
  {
    "text": "lot of people don't do it um same thing with smaller files right so I say compress everything everybody knows that",
    "start": "978720",
    "end": "985120"
  },
  {
    "text": "right except for like I've got this JavaScript here I know know it's tiny the point is not to read it the point is",
    "start": "985120",
    "end": "991199"
  },
  {
    "text": "that I'm going to put it in a minifier so if we uglifyjs it we actually take that little bit of JavaScript and it",
    "start": "991199",
    "end": "996440"
  },
  {
    "text": "goes down 66% from minification and I would say broadly we see about a 60 to",
    "start": "996440",
    "end": "1002600"
  },
  {
    "text": "70% size reduction in minification in general and you're all saying yeah yeah yeah we minifi we minifi",
    "start": "1002600",
    "end": "1009560"
  },
  {
    "text": "except a lot of times I see people are like running webpack builds and they forget to put it in production mode",
    "start": "1009560",
    "end": "1015800"
  },
  {
    "text": "right and so they're actually sending out inline Source maps and all sorts of just terrible stuff to their production website so it's one of those things like",
    "start": "1015800",
    "end": "1022160"
  },
  {
    "text": "just make sure you check the box um and then if we look at our friend Google here so I was curious what does",
    "start": "1022160",
    "end": "1028240"
  },
  {
    "text": "Google do as far as compression goes right and I kind of knew the answer but I wanted to check so when my browser",
    "start": "1028240",
    "end": "1034240"
  },
  {
    "text": "Firefox in this case because I wanted to see if it was supported made a request to Google it said hey I'll accept these",
    "start": "1034240",
    "end": "1040480"
  },
  {
    "text": "three different kinds of content en codings right you've probably seen gzip and deflame before and if you're in the",
    "start": "1040480",
    "end": "1046000"
  },
  {
    "text": "web space you've probably heard of brle or br right and sure enough they gave me",
    "start": "1046000",
    "end": "1051480"
  },
  {
    "text": "back broley right and so does gov.uk for example and so I didn't actually know",
    "start": "1051480",
    "end": "1057960"
  },
  {
    "text": "what a broley was I'd heard of this for years but I didn't actually know what it was named after it turns out it's a Swiss pastry of some kind that's what",
    "start": "1057960",
    "end": "1064600"
  },
  {
    "text": "Google image search comes up so I don't know if that's right but that's what they said and the reason you might consider brle instead of gzip is because",
    "start": "1064600",
    "end": "1072320"
  },
  {
    "text": "it does on average giv you about a 20% size reduction in HTML and it's about the same CPU time as Gus Z depending on",
    "start": "1072320",
    "end": "1079480"
  },
  {
    "text": "settings right so it's you're basically paying the same cost but getting a slightly better compression ratio so brle is a thing that if it's easy if you",
    "start": "1079480",
    "end": "1085559"
  },
  {
    "text": "can just change it in your framework might be worth it or on your web server so if we look at compression in",
    "start": "1085559",
    "end": "1091880"
  },
  {
    "start": "1088000",
    "end": "1088000"
  },
  {
    "text": "real life so we have to do this for request metrics the product I build we have a JavaScript agent that we have customers put on their websites to get",
    "start": "1091880",
    "end": "1099280"
  },
  {
    "text": "all of that metric data the original size of that Javascript file it's like a big webpack",
    "start": "1099280",
    "end": "1104600"
  },
  {
    "text": "typescript thing it's 46 KB once we ify it it goes down to 16 KB or 65% savings",
    "start": "1104600",
    "end": "1112799"
  },
  {
    "text": "once we gzip it we save a further 10 kilobytes and so we've actually saved 83% of the bytes over the wire I also",
    "start": "1112799",
    "end": "1119960"
  },
  {
    "text": "tried it with broley just to see and you get about a 6% improvement over gzip which in our case is probably not worth",
    "start": "1119960",
    "end": "1125559"
  },
  {
    "text": "it right I think um I think there's other things we could do probably if we cared but just you know frame of",
    "start": "1125559",
    "end": "1132159"
  },
  {
    "text": "reference one last thing that I bet especially in Microsoft world you're probably not doing is compressing your",
    "start": "1132159",
    "end": "1137760"
  },
  {
    "text": "Json API resp responses so for years asp.net MVC and MVC core did not",
    "start": "1137760",
    "end": "1143760"
  },
  {
    "text": "automatically turn on gzip compression for uh Jason responses you can but it",
    "start": "1143760",
    "end": "1149440"
  },
  {
    "text": "just wasn't on by default I don't know what the default is today but it'd be worth checking because Jason is eminently compressible right and so you",
    "start": "1149440",
    "end": "1156360"
  },
  {
    "text": "could get a lot of um performance savings just by turning that on especially if you're doing single page",
    "start": "1156360",
    "end": "1161480"
  },
  {
    "text": "applications where there's a lot of API calls or if you're using something like graphql or whatever so let's talk about images for",
    "start": "1161480",
    "end": "1168320"
  },
  {
    "text": "a second so images the the general rule of themb is you can't compress images right they're already compressed the whole point of the image codec is to",
    "start": "1168320",
    "end": "1174760"
  },
  {
    "text": "take like make the smallest possible binary representation of this image but that's not quite true if you've never",
    "start": "1174760",
    "end": "1180919"
  },
  {
    "text": "used tiny PNG you should try it so if you have a PNG image and feed it to Tiny PNG they will give you back a PNG that's",
    "start": "1180919",
    "end": "1187360"
  },
  {
    "text": "even smaller but looks identical and supposedly it works with webp and jpeg too I haven't tried it with those but",
    "start": "1187360",
    "end": "1193880"
  },
  {
    "text": "there is a visual studio code extension where you can just right click on the image and say sent a tiny PNG and it",
    "start": "1193880",
    "end": "1200000"
  },
  {
    "text": "will just come back fully compressed so it's pretty easy to do and they have you know full CLI and API integration",
    "start": "1200000",
    "end": "1207120"
  },
  {
    "text": "too and if you haven't seen webp before Google loves using webp because they",
    "start": "1207120",
    "end": "1212240"
  },
  {
    "text": "invented it and um it's cool though because it is 26% smaller than pgs and",
    "start": "1212240",
    "end": "1217400"
  },
  {
    "text": "it does support some things that pngs don't like animation right so it's kind of meant to be a replacement for animated gifts and pgs and it supports",
    "start": "1217400",
    "end": "1224960"
  },
  {
    "text": "Alpha transparency so it can do a lot of things um Google almost exclusively",
    "start": "1224960",
    "end": "1230039"
  },
  {
    "text": "serves webp to Modern browsers the problem with webp is that it's not fully",
    "start": "1230039",
    "end": "1236880"
  },
  {
    "text": "supported everywhere so Firefox Google and new Safari all support it just fine",
    "start": "1236880",
    "end": "1242280"
  },
  {
    "text": "but there are some old laggards where um older safaris will show static images",
    "start": "1242280",
    "end": "1247760"
  },
  {
    "text": "but they will not show the animated ones IE doesn't support it at all I don't know how many people still support IE",
    "start": "1247760",
    "end": "1253960"
  },
  {
    "text": "but the other thing that you can do as far as images go is you can send differ sized images to different devices",
    "start": "1253960",
    "end": "1261360"
  },
  {
    "text": "depending on aspect ratio um with viewport width or resolution so back to",
    "start": "1261360",
    "end": "1268000"
  },
  {
    "text": "Google if we look at their logo right and if we expand this out they've got the usual image stuff right they've got",
    "start": "1268000",
    "end": "1274320"
  },
  {
    "text": "a source but they've got a new attribute called Source set right it's new it's been around for a few years but it's",
    "start": "1274320",
    "end": "1279520"
  },
  {
    "text": "pretty widely supported now and you can see here they've actually specified two images one with 1X or sort of normal",
    "start": "1279520",
    "end": "1286200"
  },
  {
    "text": "resolution one with 2X or high API um like retina style right and so I was",
    "start": "1286200",
    "end": "1293679"
  },
  {
    "text": "requesting with my crappy Windows desktop and I got the 1X version because it is not high DPI which saved me a",
    "start": "1293679",
    "end": "1299919"
  },
  {
    "text": "bunch of bytes over the wire so if you do have an image heavy sight it might be worth considering using Source set and",
    "start": "1299919",
    "end": "1305600"
  },
  {
    "text": "sending smaller images um you can also instead of 1x or 2x you can put in",
    "start": "1305600",
    "end": "1311200"
  },
  {
    "text": "widths so like if the viewport width of the device is 480 or less send down this",
    "start": "1311200",
    "end": "1316279"
  },
  {
    "text": "small image versus you know the full desktop image and that is a great way it's a little bit work but is a great",
    "start": "1316279",
    "end": "1321840"
  },
  {
    "text": "way to lower the amount of btes over the wire uh and the last image trick is",
    "start": "1321840",
    "end": "1327320"
  },
  {
    "start": "1327000",
    "end": "1327000"
  },
  {
    "text": "Google does this a lot I don't see it very often anywhere else but if uh if you have small images like these so when",
    "start": "1327320",
    "end": "1334120"
  },
  {
    "text": "I search for web performance these three images came up if we look at this image and inspect it in the browser right",
    "start": "1334120",
    "end": "1339559"
  },
  {
    "text": "we'll find out it's not actually living on a server somewhere they sent me base 64 encoded data right they're using a",
    "start": "1339559",
    "end": "1345880"
  },
  {
    "text": "data URL so there was no request made to get this in image they included the entire binary source of the image in the",
    "start": "1345880",
    "end": "1352760"
  },
  {
    "text": "response from their server now you can see the file size is only 4.5 KB and",
    "start": "1352760",
    "end": "1357840"
  },
  {
    "text": "they only do it for small images um especially when they have a lot of little small images and the reason is",
    "start": "1357840",
    "end": "1363120"
  },
  {
    "text": "because anytime you base 64 something you're going to increase its size by 33% so um as things get bigger you're",
    "start": "1363120",
    "end": "1372039"
  },
  {
    "text": "not going to want to pay that 33% increase you'd rather just make another request for it",
    "start": "1372039",
    "end": "1377200"
  },
  {
    "text": "right okay so now I want to talk about proximity and things you can do to mitigate people that are far away so the",
    "start": "1377200",
    "end": "1383480"
  },
  {
    "text": "way that request metrics works today right when someone goes to visit our app or sends data to us if there's two",
    "start": "1383480",
    "end": "1389039"
  },
  {
    "text": "servers that live in Montreal Canada so no matter where you are in the world you are talking to a server in Canada right",
    "start": "1389039",
    "end": "1395960"
  },
  {
    "text": "so from the UK it's going to be slower than from somebody in you know Toronto or whatever so like wouldn't it be cool if",
    "start": "1395960",
    "end": "1403440"
  },
  {
    "start": "1400000",
    "end": "1400000"
  },
  {
    "text": "we could have multiple locations right and obviously you can so I'll get there",
    "start": "1403440",
    "end": "1409760"
  },
  {
    "text": "but the nice thing about multiple locations is then your users don't have to go as far so one way to do that like",
    "start": "1409760",
    "end": "1417520"
  },
  {
    "text": "the best way like the way where you have full control but it's also the most complicated is called geodns right this",
    "start": "1417520",
    "end": "1423240"
  },
  {
    "text": "what Google uses and we're going to look at it in a second but geodns takes into account the requestor IP so when I ask",
    "start": "1423240",
    "end": "1429960"
  },
  {
    "text": "for google.com it says where are you requesting from oh Minnesota I'm going to give you the server closest to",
    "start": "1429960",
    "end": "1435080"
  },
  {
    "text": "Minnesota or if I'm in London it'll say oh here's the London IP right and so",
    "start": "1435080",
    "end": "1440600"
  },
  {
    "text": "they actually have full control over which IPS get returned so if we look at it right so if I run NS lookup from my",
    "start": "1440600",
    "end": "1447559"
  },
  {
    "text": "machine in Minnesota USA Google lives at this IP address if I plug that IP",
    "start": "1447559",
    "end": "1453840"
  },
  {
    "text": "address into reverse IP lookup I find out it's in Chicago it's 400 miles away from my house is where Google lives for",
    "start": "1453840",
    "end": "1459760"
  },
  {
    "text": "me the speed of light can do 400 miles in 2.1 milliseconds how long do you think it",
    "start": "1459760",
    "end": "1465399"
  },
  {
    "text": "takes to do a ping right and so just as a quick as side ping is a single um a single packet going over the wire and",
    "start": "1465399",
    "end": "1471320"
  },
  {
    "text": "coming back right so it's only 32 bytes um and it doesn't even use TCP or anything it uses icmp so it's quite",
    "start": "1471320",
    "end": "1476919"
  },
  {
    "text": "lightweight protocol it's about as fast as you can get so for my house in Minnesota to talk",
    "start": "1476919",
    "end": "1483480"
  },
  {
    "text": "to Google in Chicago it takes 26ish milliseconds right that's pretty",
    "start": "1483480",
    "end": "1488640"
  },
  {
    "text": "good but it's still 10 times slower than the speed of light and I thought we were supposed to move at the speed of light",
    "start": "1488640",
    "end": "1493760"
  },
  {
    "text": "right everybody got fiber and all this stuff well the reason is because there's 12 hops between my house and 400 miles",
    "start": "1493760",
    "end": "1499880"
  },
  {
    "text": "away in Chicago right and so each one of those routers um is adding a little bit of latency and so when we look at",
    "start": "1499880",
    "end": "1506360"
  },
  {
    "text": "loading Google we can see it's 45 milliseconds to do the SSL handshake which isn't too bad we're not waiting",
    "start": "1506360",
    "end": "1511559"
  },
  {
    "text": "for very long content downloads half a second the whole thing is done in 750 milliseconds right that's pretty",
    "start": "1511559",
    "end": "1518480"
  },
  {
    "text": "good so then I set up a computer in London I was like well how long you know like if I'm in London and I say where is",
    "start": "1518480",
    "end": "1525360"
  },
  {
    "text": "Google what does it give me back right well it gives me back a different IP address so I looked up this IP address",
    "start": "1525360",
    "end": "1532039"
  },
  {
    "text": "and this IP address is right in the heart of the city like city of London and so Google of course has servers",
    "start": "1532039",
    "end": "1537240"
  },
  {
    "text": "everywhere so when I ping it look at the Ping on this guy so from my my machine in London which is in the digital ocean",
    "start": "1537240",
    "end": "1543520"
  },
  {
    "text": "data center to Google it's only like two milliseconds like those machines have to be very close to each other so then I",
    "start": "1543520",
    "end": "1550840"
  },
  {
    "text": "got to thinking well how much does proximity actually matter what if I take that IP address right I take that IP",
    "start": "1550840",
    "end": "1557240"
  },
  {
    "text": "address that's in the city of London what if I take that and make that like my hosts file for google.com right so",
    "start": "1557240",
    "end": "1563760"
  },
  {
    "text": "that like from my house in Minnesota I'm actually talking to Google servers in London how how long how big of a",
    "start": "1563760",
    "end": "1570039"
  },
  {
    "text": "distance is it and how long does it take so it's about 10 times greater physical",
    "start": "1570039",
    "end": "1575120"
  },
  {
    "text": "distance as the crow fly so it's about 4,000 miles the speed of light can do that in 21 milliseconds what do you",
    "start": "1575120",
    "end": "1581600"
  },
  {
    "text": "think the Ping's going to be for this one it's not as bad as you think actually it's like 105 milliseconds so",
    "start": "1581600",
    "end": "1586799"
  },
  {
    "text": "it's it's five times slow not 10 times slower you know what I mean",
    "start": "1586799",
    "end": "1591840"
  },
  {
    "text": "like you might expect and the reason is there's more hops there's 12 hops to Chicago there's 18 to London so there's",
    "start": "1591840",
    "end": "1599960"
  },
  {
    "text": "not 10 times more hops there's only 50% more hops actually and so one of those hops is a big long fiber cable across",
    "start": "1599960",
    "end": "1606880"
  },
  {
    "text": "the Atlantic and so you really don't take as bad of a hit as you'd think but a five time slowdown is still",
    "start": "1606880",
    "end": "1613600"
  },
  {
    "text": "significant we can see that the TLs uh SSL negotiation takes three times longer",
    "start": "1613600",
    "end": "1619480"
  },
  {
    "text": "um two times longer getting the data back time to first bite from the server and we see the content download actually",
    "start": "1619480",
    "end": "1624960"
  },
  {
    "text": "managed to do it in a pretty respectable 1.6 times slower and we average out about 1.8 times so on the one hand",
    "start": "1624960",
    "end": "1631120"
  },
  {
    "text": "that's not too bad right on the one hand like two times slower to go 4,000 miles like that's not the worst the problem is",
    "start": "1631120",
    "end": "1639000"
  },
  {
    "text": "this is just for getting the HTML from google.com every other resource is going",
    "start": "1639000",
    "end": "1644039"
  },
  {
    "text": "to be subject to the same performance slowdown and those things are going to add up when you've got 20 or 30 or 40",
    "start": "1644039",
    "end": "1649240"
  },
  {
    "text": "resources right and all of a sudden that two times slowdown starts to be a four or five or six times slowdown and we do",
    "start": "1649240",
    "end": "1654880"
  },
  {
    "text": "care about that so gns is hard to pull off gns is",
    "start": "1654880",
    "end": "1660720"
  },
  {
    "text": "hard because we most of us don't have Global databases that spam the whole world like Google does right we have a",
    "start": "1660720",
    "end": "1666960"
  },
  {
    "text": "database that lives one place and so no matter how many other places we try and you know put servers we still have a",
    "start": "1666960",
    "end": "1674120"
  },
  {
    "text": "single point of Truth generally so this is where any cast can come in and so I",
    "start": "1674120",
    "end": "1679360"
  },
  {
    "text": "don't know if youall have heard of anycast before but it what it means is that multiple servers separated around",
    "start": "1679360",
    "end": "1685919"
  },
  {
    "text": "the world all have the same IP address right so let me give you an example so I",
    "start": "1685919",
    "end": "1692559"
  },
  {
    "start": "1691000",
    "end": "1691000"
  },
  {
    "text": "was really surprised that gov.uk was so fast from my house in Minnesota and I was like how can that be so I I decided",
    "start": "1692559",
    "end": "1699159"
  },
  {
    "text": "to look it up I said where is gov UK and I did this from my machine in London and I did it from my machine in the USA and",
    "start": "1699159",
    "end": "1706519"
  },
  {
    "text": "I got back the same IP addresses so the gov.uk site existed those four",
    "start": "1706519",
    "end": "1713039"
  },
  {
    "text": "IPS but then I pinged it I was like well I'll take the same IP and I'll ping it and when I ping it it's 24 milliseconds",
    "start": "1713039",
    "end": "1720679"
  },
  {
    "text": "from my house in the US and it's you know 2 milliseconds from the UK to the",
    "start": "1720679",
    "end": "1725799"
  },
  {
    "text": "same IP well that's because they're using anycast and specifically those IPS are actually fastly so that is fastly",
    "start": "1725799",
    "end": "1733240"
  },
  {
    "text": "IPS they're using them as their content delivery Network um the last Point here is it's",
    "start": "1733240",
    "end": "1740559"
  },
  {
    "text": "worth considering a CDN if you have a lot of static content that doesn't change very often um or even if it does",
    "start": "1740559",
    "end": "1747200"
  },
  {
    "text": "because not because the CDN is more reliable not because their network is better per se but because they're closer",
    "start": "1747200",
    "end": "1753559"
  },
  {
    "text": "hopefully to your end user right and that does start to add up especially the more requests that you're",
    "start": "1753559",
    "end": "1760080"
  },
  {
    "text": "making now we get to talk about protocols so have you guys heard of quick before so this is another Google",
    "start": "1760080",
    "end": "1766720"
  },
  {
    "text": "thing goodness it's actually called HTP 3 now so Google developed this thing called quick it was",
    "start": "1766720",
    "end": "1772679"
  },
  {
    "text": "a new HTTP like protocol and they liked it so much that eventually they started a standard track for and now it's HTTP 3",
    "start": "1772679",
    "end": "1779399"
  },
  {
    "text": "and so you can see that when I go to google.com I'm actually using HTTP 3 to talk to all of their servers and you",
    "start": "1779399",
    "end": "1785799"
  },
  {
    "text": "might be saying wait a minute what happened to http2 didn't we just convert everything to http2 like didn't Microsoft just finally start supporting",
    "start": "1785799",
    "end": "1791440"
  },
  {
    "text": "it Windows Server 2020 and of course you're right um if you look go UK is",
    "start": "1791440",
    "end": "1797039"
  },
  {
    "text": "still using http2 right and Netflix is still using",
    "start": "1797039",
    "end": "1802279"
  },
  {
    "text": "htp1 so I do want to just talk about the differences between the protocols real quick so you can understand why maybe",
    "start": "1802279",
    "end": "1807559"
  },
  {
    "text": "you'd want to use two or maybe you'd want to use three if it's available back in the HTP days it was",
    "start": "1807559",
    "end": "1813000"
  },
  {
    "text": "one connection one request per resource right you want JavaScript you got three files it's three requests you could keep",
    "start": "1813000",
    "end": "1820039"
  },
  {
    "text": "persistent connections open but it would take server side resources as well now",
    "start": "1820039",
    "end": "1825399"
  },
  {
    "text": "to get around this problem browsers would open six parallel requests per domain so clever people back in the day",
    "start": "1825399",
    "end": "1831840"
  },
  {
    "text": "and I remember doing this myself would actually create multiple domains that all pointed of the same standat of content servers so the browser would",
    "start": "1831840",
    "end": "1838360"
  },
  {
    "text": "parallelize more requests right it was called domain charting if you remember and really the problem that",
    "start": "1838360",
    "end": "1844320"
  },
  {
    "start": "1843000",
    "end": "1843000"
  },
  {
    "text": "they're trying to talk about or get around is what's called headof line blocking and it's basically all it means",
    "start": "1844320",
    "end": "1849679"
  },
  {
    "text": "is that if you got three images the first one is going to block everybody else behind it right so if I go get",
    "start": "1849679",
    "end": "1856000"
  },
  {
    "text": "image one I have to wait for him to come back before I can go get image two I have to wait for that one to come back",
    "start": "1856000",
    "end": "1861120"
  },
  {
    "text": "before I can go get image three right and so then the smart people they made the parallel requests so if I've got",
    "start": "1861120",
    "end": "1866600"
  },
  {
    "start": "1863000",
    "end": "1863000"
  },
  {
    "text": "nine images right I'll I'll send six requests off and as they come back I'll",
    "start": "1866600",
    "end": "1871679"
  },
  {
    "text": "start making more requests so that didn't really scale and so for http2 the big change was that",
    "start": "1871679",
    "end": "1878600"
  },
  {
    "text": "they no longer do multiple connections you can now request multiple files over a single TCP stream so that's the big",
    "start": "1878600",
    "end": "1885360"
  },
  {
    "text": "difference in theory it solves the head of line blocking problem I can in one TCP stream I can ask for 20 things and",
    "start": "1885360",
    "end": "1892279"
  },
  {
    "text": "I'll get 20 things back in the response right the problem is it does fix head of",
    "start": "1892279",
    "end": "1898039"
  },
  {
    "text": "line blocking at the hcp level but it doesn't fix it at the TCP level and what",
    "start": "1898039",
    "end": "1903559"
  },
  {
    "text": "I mean is so this is kind of conceptually what's happening right you're asking for everything all at once and you're getting everything back all",
    "start": "1903559",
    "end": "1910360"
  },
  {
    "start": "1904000",
    "end": "1904000"
  },
  {
    "text": "at once but actually under the covers what it's doing is it's interleaving all of the btes for all the different files",
    "start": "1910360",
    "end": "1917399"
  },
  {
    "text": "so if you've got five images coming back but say something happens say you've got to do a TCP retransmit for some reason",
    "start": "1917399",
    "end": "1922840"
  },
  {
    "text": "right a packet got lost everything is still blocked because you're waiting for all those pieces to",
    "start": "1922840",
    "end": "1929039"
  },
  {
    "text": "get back and because of TCP itself you've still got this head of line blocking issue though it is much better",
    "start": "1929039",
    "end": "1935399"
  },
  {
    "text": "let's see how much better so here's amazon.com right and they load 330",
    "start": "1935399",
    "end": "1940679"
  },
  {
    "text": "requests 330 things come down to draw that page which is absolutely astounding",
    "start": "1940679",
    "end": "1945919"
  },
  {
    "text": "so I loaded it 20 times each with http1 and then 20 times each with http2 enabled in my",
    "start": "1945919",
    "end": "1952039"
  },
  {
    "text": "browser so you can see for htp1 the 95th percentile actually gets pretty bad",
    "start": "1952039",
    "end": "1957240"
  },
  {
    "text": "right you start to see some longtail things every once in a while and median and 75th are okay but we really start to",
    "start": "1957240",
    "end": "1963720"
  },
  {
    "text": "see Improvement we turn on HTP 2 right everything gets a little bit closer together all the timings are more",
    "start": "1963720",
    "end": "1970360"
  },
  {
    "text": "consistent and because they're loading so many resources if we look the average",
    "start": "1970360",
    "end": "1975919"
  },
  {
    "text": "image takes about one second to come from amazon.com in hp1 land but in hp2",
    "start": "1975919",
    "end": "1983200"
  },
  {
    "text": "it's only 312 milliseconds we saved it's a 3X speed up on images just to enable hp2",
    "start": "1983200",
    "end": "1989960"
  },
  {
    "text": "right enter hp3 so now the deal with hp3 is it's not even using TCP right they",
    "start": "1989960",
    "end": "1995519"
  },
  {
    "text": "figured out okay that was dumb like we'll do something different so now what they do is they make a TCP like protocol",
    "start": "1995519",
    "end": "2000639"
  },
  {
    "text": "over UDP and everybody gets their own UDP data stream so that if even one of them has a problem in packet loss the",
    "start": "2000639",
    "end": "2007200"
  },
  {
    "text": "other ones don't block so that's kind of the big thing can you use htb3 uh maybe if you're Google yes if",
    "start": "2007200",
    "end": "2014720"
  },
  {
    "text": "you're anybody in the Microsoft landscape no um caddy has full support",
    "start": "2014720",
    "end": "2021720"
  },
  {
    "text": "for it engine X is working furiously on official support there is a beta that you can download and will turn on hp3",
    "start": "2021720",
    "end": "2028880"
  },
  {
    "text": "and um if you're on IIs well I hope you're on Windows Server 2022 uh which I didn't even know that was a thing that",
    "start": "2028880",
    "end": "2035240"
  },
  {
    "text": "will supposedly enable it as far as hp3 goes it came with another sort of trick",
    "start": "2035240",
    "end": "2040440"
  },
  {
    "text": "though it came with TLS 1.3 so um in TLS 1.2 to do an SSL handshake you have to",
    "start": "2040440",
    "end": "2048040"
  },
  {
    "start": "2041000",
    "end": "2041000"
  },
  {
    "text": "do two full round trips in TLS 1.3 they got it down to one round trip they can",
    "start": "2048040",
    "end": "2053440"
  },
  {
    "text": "do one round trip to do the whole SSL negotiation so right there you're saving quite a bit of time but it gets better",
    "start": "2053440",
    "end": "2059638"
  },
  {
    "text": "ts13 introduced what's called zero roundtrip connection negotiation so after the first time you talk to your",
    "start": "2059639",
    "end": "2065320"
  },
  {
    "text": "server they actually pre-share the key so that the next time it talks it doesn't have to do any negotiation it",
    "start": "2065320",
    "end": "2072839"
  },
  {
    "text": "can just start making requests and so that can make a really big difference current support varies but",
    "start": "2072839",
    "end": "2077960"
  },
  {
    "start": "2076000",
    "end": "2076000"
  },
  {
    "text": "it's it's better than HTP 3 you can start using it even with http2 it's supported widely by most web servers",
    "start": "2077960",
    "end": "2083720"
  },
  {
    "text": "except for I so still be waiting for that um a couple quick things zero rtt",
    "start": "2083720",
    "end": "2090440"
  },
  {
    "text": "is not enabled by default because there are some security concerns with it I think they're a little overblown but you do have to enable it if you want to and",
    "start": "2090440",
    "end": "2097240"
  },
  {
    "text": "they've atically cleaned up the number of Cipher Suites that you would use it used to be I don't know if you guys ever looked at like the amount of supported",
    "start": "2097240",
    "end": "2102640"
  },
  {
    "text": "ciphers but it was like this huge list of just like wildly named things now there's only three three that you have",
    "start": "2102640",
    "end": "2108800"
  },
  {
    "text": "to implement and so the last way to speed things up that I want to talk about and then we'll go drink some more",
    "start": "2108800",
    "end": "2114079"
  },
  {
    "text": "beer is if you don't need something right away load it later right because when we talked about load time load was",
    "start": "2114079",
    "end": "2120920"
  },
  {
    "text": "fired after all the dependent resources finished downloading but what if it wasn't a",
    "start": "2120920",
    "end": "2126440"
  },
  {
    "text": "dependent resource what if you said hey don't worry about it right I and gov.uk",
    "start": "2126440",
    "end": "2131960"
  },
  {
    "start": "2128000",
    "end": "2128000"
  },
  {
    "text": "does this really well I'm going to use the async attribute right I'm going to load all my scripts async and they're",
    "start": "2131960",
    "end": "2137280"
  },
  {
    "text": "not going to delay a page load at that point the browser is not going to wait for them to come back before it loads so",
    "start": "2137280",
    "end": "2142320"
  },
  {
    "text": "you got to make sure your code can actually support that but it's a great way if you want to to do things later",
    "start": "2142320",
    "end": "2148240"
  },
  {
    "text": "and get your load time a little bit faster if there are things that you can wait for and the other thing that you",
    "start": "2148240",
    "end": "2153760"
  },
  {
    "text": "can do if you have an image heavy site and the BBC does this pretty well is um they lazy load images so as you're",
    "start": "2153760",
    "end": "2160040"
  },
  {
    "start": "2158000",
    "end": "2158000"
  },
  {
    "text": "scrolling um they don't actually you don't pay to download that image until",
    "start": "2160040",
    "end": "2165599"
  },
  {
    "text": "you actually put it in the viewport now they have a complicated JavaScript mechanism that they're using for this",
    "start": "2165599",
    "end": "2171200"
  },
  {
    "text": "but in 2022 for the most part we can actually use the loading equals lazy attribute which is super cool and so it",
    "start": "2171200",
    "end": "2178359"
  },
  {
    "text": "just lets the browser say well once it's in the viewport then I'll go get it right it's fairly widely supported and",
    "start": "2178359",
    "end": "2183680"
  },
  {
    "text": "so if you weren't doing anything about lazy loading before it's an easy way to get started started because old browsers",
    "start": "2183680",
    "end": "2189560"
  },
  {
    "text": "just ignore it okay so the the last thing to wrap it up there's a lot of ways there's a",
    "start": "2189560",
    "end": "2195119"
  },
  {
    "text": "million knobs that you can turn to go faster right but in order to know if you're being successful you have to measure it first right and then you have",
    "start": "2195119",
    "end": "2202240"
  },
  {
    "text": "to figure out what works for your app because not all of these make sense in all use cases right and there's no",
    "start": "2202240",
    "end": "2207720"
  },
  {
    "text": "Silver Bullet I would say the most important thing is do the fundamentals everyone knows them but nobody does them it's",
    "start": "2207720",
    "end": "2212880"
  },
  {
    "text": "like flossing twice a day or whatever it's like yeah I know I should do that but it sucks but it's worth it",
    "start": "2212880",
    "end": "2218319"
  },
  {
    "text": "and I would say that if you have a text de that supports it one of the more modern protocols would be beneficial hb2",
    "start": "2218319",
    "end": "2223560"
  },
  {
    "text": "for sure and if you can hb3 and ts13 are an easy way to get more performance",
    "start": "2223560",
    "end": "2228880"
  },
  {
    "text": "without actually having to make any changes to your application code and finally it's it's goodidea to get closer to the user if you can so if",
    "start": "2228880",
    "end": "2235400"
  },
  {
    "text": "you can put your static content on a CDN with many points of presence around the globe and it's not too cumbersome from a deployment perspective it might be worth",
    "start": "2235400",
    "end": "2243040"
  },
  {
    "text": "it and finally in terms of measuring I would say that it's really only use it like worth it to consider field metrics",
    "start": "2243040",
    "end": "2249480"
  },
  {
    "text": "or real metrics obtained from your users right because if all of your users are experiencing your website well who cares",
    "start": "2249480",
    "end": "2256680"
  },
  {
    "text": "what Lighthouse thinks right if everybody's having a great experience F you Lighthouse that's it let's go drink some",
    "start": "2256680",
    "end": "2263000"
  },
  {
    "text": "beers",
    "start": "2263000",
    "end": "2266000"
  }
]