[
  {
    "start": "0",
    "end": "410000"
  },
  {
    "text": "so hey welcome everyone I hope you had a good lunch yeah good lunch my name is Sandeep I'm a",
    "start": "4770",
    "end": "11790"
  },
  {
    "text": "developer advocate on Google cloud platform caught me on Twitter at sniffing Esch and today I want to talk",
    "start": "11790",
    "end": "17700"
  },
  {
    "text": "about not Google cloud platform but hasha carve alt instead and modern secrets map management so but before I",
    "start": "17700",
    "end": "25140"
  },
  {
    "text": "get started how many people have seen this page before something that looks like it few people so this how people",
    "start": "25140",
    "end": "33270"
  },
  {
    "text": "view slack with that question okay so if you've ever used slack for a open source",
    "start": "33270",
    "end": "38850"
  },
  {
    "text": "project or a community forum or something like that you've probably run into this this page and what it is it's",
    "start": "38850",
    "end": "44250"
  },
  {
    "text": "a way around slack's limitation of not letting you invite random people you put in your",
    "start": "44250",
    "end": "49589"
  },
  {
    "text": "email address you click get blind invite it pings the slack API it's just like back to our API that's not documented",
    "start": "49589",
    "end": "55829"
  },
  {
    "text": "anywhere and it'll send you an email to join the team so seems pretty straightforward but you have to run it",
    "start": "55829",
    "end": "62909"
  },
  {
    "text": "yourself in order to have a public slack channel and I wanted to host this on Google App Engine and this is before we",
    "start": "62909",
    "end": "69869"
  },
  {
    "text": "had no js' support on App Engine standard so I rewrote the whole thing in PHP which is good idea right and I was",
    "start": "69869",
    "end": "80969"
  },
  {
    "text": "running to some scaling issues once we hit around 7,000 users and so I said okay I'll make some updates I updated it",
    "start": "80969",
    "end": "87149"
  },
  {
    "text": "performance was great I pushed the github and then like two minutes later I got a ping from a co-worker and I didn't",
    "start": "87149",
    "end": "94920"
  },
  {
    "text": "have to even look at that message to know what I did I had leaked my slack",
    "start": "94920",
    "end": "101399"
  },
  {
    "text": "keys and I recast the keys to github and I felt like an idiot all right and",
    "start": "101399",
    "end": "107270"
  },
  {
    "text": "almost 15 minutes later get Guardian to like this free service that is running",
    "start": "107270",
    "end": "112909"
  },
  {
    "text": "found that I leaked my keys and sent me an email saying that hey you leaked your",
    "start": "112909",
    "end": "118469"
  },
  {
    "text": "keys out so I was like okay this like open source company can detect that I leaked my keys out probably like a",
    "start": "118469",
    "end": "125189"
  },
  {
    "text": "thousand hackers objective this - right wow that was really fast and luckily it",
    "start": "125189",
    "end": "132750"
  },
  {
    "text": "wasn't anything big it was really easy to fix this region but it was a kind of a hassle to regenerate keys out the",
    "start": "132750",
    "end": "138450"
  },
  {
    "text": "all the code everywhere change the git repository like scrub that commit out of there do a bunch of annoying things but",
    "start": "138450",
    "end": "144510"
  },
  {
    "text": "at the end of the day this leak wasn't a big deal but I thought to myself what if it was a big deal what if I leaked out",
    "start": "144510",
    "end": "150510"
  },
  {
    "text": "my like Google Cloud JSON certificate don't let anyone spin up resources on my dime that's not a good thing",
    "start": "150510",
    "end": "156480"
  },
  {
    "text": "it's like Bitcoin mine for days right how do people handle this that's well",
    "start": "156480",
    "end": "162269"
  },
  {
    "text": "it's my question and what I thought you know it would never happen to me as a",
    "start": "162269",
    "end": "168720"
  },
  {
    "text": "coat for me right in my mind I think a lot of people here feel the same way you hear about people leaking stuff to look",
    "start": "168720",
    "end": "175500"
  },
  {
    "text": "it up all the time you're saying that could never happen to me I'm too smart for that right unfortunately maybe you",
    "start": "175500",
    "end": "182040"
  },
  {
    "text": "are smarter than me but it can happen to you too and so the whole thing is how can you minimize these kind of things",
    "start": "182040",
    "end": "188250"
  },
  {
    "text": "that can compromise your systems and compromise your organization's right so",
    "start": "188250",
    "end": "193290"
  },
  {
    "text": "I got to me thinking what tools do we have out there that can help with this and what I got when I found out was most",
    "start": "193290",
    "end": "201329"
  },
  {
    "text": "organizations security looks something like this it's like a hard exterior right with a",
    "start": "201329",
    "end": "206459"
  },
  {
    "text": "nice gooey soft interior and so you can think of it like a firewall or VPC or",
    "start": "206459",
    "end": "211859"
  },
  {
    "text": "something like that so how many folks are using a VPC on the cloud to like protect their resources so this means",
    "start": "211859",
    "end": "218280"
  },
  {
    "text": "basically like if it's inside of your V PC it has access to your stuff right because who can go inside your V PC only",
    "start": "218280",
    "end": "225299"
  },
  {
    "text": "you can all right it's perfectly safe how many people use a VPN to access their Corp Network a lot of love hands",
    "start": "225299",
    "end": "232709"
  },
  {
    "text": "come up once you're connected at V p.m. you have access to all your stuff right sounds pretty reasonable who can get",
    "start": "232709",
    "end": "237810"
  },
  {
    "text": "access to your VPN aside from you the problem with with this security model the hard perimeter or the fortress",
    "start": "237810",
    "end": "244049"
  },
  {
    "text": "security model is that the smallest hole lets you get access to literally everything right maybe your main",
    "start": "244049",
    "end": "251489"
  },
  {
    "text": "application in a production environment is super hardened you're good to go and then someone launches this little QA",
    "start": "251489",
    "end": "256650"
  },
  {
    "text": "testing that has a bunch of security vulnerabilities hacker hacks that gets into your environment and now has full",
    "start": "256650",
    "end": "262500"
  },
  {
    "text": "access to your V PC right and your super hard production database doesn't matter at all because you have full access to",
    "start": "262500",
    "end": "269280"
  },
  {
    "text": "it that's not good right so at Google we have this idea of beyond",
    "start": "269280",
    "end": "274920"
  },
  {
    "text": "Corp it's more genericized as something called zero trust networks so basically this means that I don't care who you are",
    "start": "274920",
    "end": "281880"
  },
  {
    "text": "you must a prove to me who you are first and then be I'll only give you the",
    "start": "281880",
    "end": "287460"
  },
  {
    "text": "minimum set of permissions and and operations that you can do to get your job done so just because you're running",
    "start": "287460",
    "end": "293460"
  },
  {
    "text": "on my network doesn't mean you get access to everything I can do you only get access to things that I will let you get access",
    "start": "293460",
    "end": "298950"
  },
  {
    "text": "to right and so this means that every single application every single person both machines and humans need to first",
    "start": "298950",
    "end": "306000"
  },
  {
    "text": "authenticate who they are and then after they do that they only get a limited set of operations that they can do to the",
    "start": "306000",
    "end": "312240"
  },
  {
    "text": "other system right so zero trust networks and Beyond Corp so this is great internally at Google we have a",
    "start": "312240",
    "end": "317250"
  },
  {
    "text": "bunch of tooling and stuff we've been externalizing some of that like the cloud identity we're a proxy which lets you kind of get around the VPN but you",
    "start": "317250",
    "end": "326190"
  },
  {
    "text": "need something for applications themselves right the whole thing where I leaked my slack keys I don't want to be able to do that I don't want my App",
    "start": "326190",
    "end": "332790"
  },
  {
    "text": "Engine app to have access to the slack keys in the config file that is like you're trusting it you're trusting me I",
    "start": "332790",
    "end": "339660"
  },
  {
    "text": "have actually that config file I can copy paste that config file anywhere I want and now everyone has access to our slack right not good so I got to looking",
    "start": "339660",
    "end": "348930"
  },
  {
    "text": "and how's your corpse vault it's pretty much the standard tool out there open source tool that's used to manage these",
    "start": "348930",
    "end": "355710"
  },
  {
    "text": "kind of things right a tool for managing secrets and to my luck set Fargo who used to work at Hershey Corp joined my",
    "start": "355710",
    "end": "362130"
  },
  {
    "text": "team and I was like haha I'm gonna ask you a million questions so I sat down with him for a few hours and he gave me",
    "start": "362130",
    "end": "367830"
  },
  {
    "text": "a fire hose of information and at the very end he said so I'm giving a talk in Oslo at NDC but I can't make it anymore",
    "start": "367830",
    "end": "374970"
  },
  {
    "text": "I don't want to cancel do you want to do it instead sure I said sounds like a",
    "start": "374970",
    "end": "380970"
  },
  {
    "text": "great way to learn how a vault works and it was it forces you to learn a lot of things quickly",
    "start": "380970",
    "end": "386790"
  },
  {
    "text": "so what vault is is it basically allows you to build zero trust networks in your organization and it does it very very",
    "start": "386790",
    "end": "394230"
  },
  {
    "text": "and they're really nice and easy to use way so quick agenda for the rest of the talk basically I want to show some",
    "start": "394230",
    "end": "400470"
  },
  {
    "text": "scenarios on how vault can help you secure your applications how to kind of use vault",
    "start": "400470",
    "end": "405480"
  },
  {
    "text": "as an end user as a machine and then how to run vault in a highly available fashion so let's look at a few scenarios",
    "start": "405480",
    "end": "412950"
  },
  {
    "text": "first on how you can use vault to security applications so let's look at a",
    "start": "412950",
    "end": "419880"
  },
  {
    "text": "application that wants to send a SMS to an end user right so your app you might",
    "start": "419880",
    "end": "425340"
  },
  {
    "text": "want to you might write this like SMS functionality yourself it sounds like a waste of time to me in fact there's a",
    "start": "425340",
    "end": "431880"
  },
  {
    "text": "great company in the expo booth that'll do it for you called Twilio so you can go talk to them",
    "start": "431880",
    "end": "437670"
  },
  {
    "text": "instead and basically can just use their API you send them a bunch of JSON and they will send the SMS to your end user",
    "start": "437670",
    "end": "444000"
  },
  {
    "text": "on your behalf but there's a little bit of an issue to send that JSON and Tullio",
    "start": "444000",
    "end": "449130"
  },
  {
    "text": "they want to make sure that it's you sending that message and not some random person on the street right so they give you an API key and you send that API key",
    "start": "449130",
    "end": "456510"
  },
  {
    "text": "along with the JSON payload okay that sounds great but again I don't want to store that API",
    "start": "456510",
    "end": "462630"
  },
  {
    "text": "key along with my application ID then I lose who has access to that I lose added",
    "start": "462630",
    "end": "468420"
  },
  {
    "text": "ability I lose what happens if that JSON gets a sniff somewhere and now I've leaked my keys out that's not a good",
    "start": "468420",
    "end": "474480"
  },
  {
    "text": "thing right so instead let's see how vault can help with that I can instead",
    "start": "474480",
    "end": "480450"
  },
  {
    "text": "pop the vault as an authenticated user what will return that API key back to me and then I can send it over to Twilio so",
    "start": "480450",
    "end": "487740"
  },
  {
    "text": "I no longer store that API key along with my app either in a config file or an environment variable or hard-coded I",
    "start": "487740",
    "end": "493800"
  },
  {
    "text": "don't do that anymore and said vault manages that secret for me and I talked the vault dynamically when I need that",
    "start": "493800",
    "end": "499620"
  },
  {
    "text": "API key to use it right so this is probably the most well-known use case",
    "start": "499620",
    "end": "506640"
  },
  {
    "start": "503000",
    "end": "635000"
  },
  {
    "text": "for vault it's using vault as an encrypted key value store so let's take a look at how that works in a quick demo",
    "start": "506640",
    "end": "513289"
  },
  {
    "text": "so basically here I have vault running",
    "start": "513290",
    "end": "518599"
  },
  {
    "text": "in dev mode so it's like not how you're supposed to run it in real life but for a demo that's pretty good so what I'm",
    "start": "518599",
    "end": "525720"
  },
  {
    "text": "going to do here is well this don't mind",
    "start": "525720",
    "end": "530790"
  },
  {
    "text": "that step but I need to do one second",
    "start": "530790",
    "end": "537420"
  },
  {
    "text": "so I'm going to connect to my local vault instance here great and so let's",
    "start": "537420",
    "end": "545890"
  },
  {
    "text": "write some data into the key value store and then read it back out so let me make",
    "start": "545890",
    "end": "554050"
  },
  {
    "text": "that a little bigger so folks can read so basically a vault has a REST API that",
    "start": "554050",
    "end": "559630"
  },
  {
    "text": "you can use this is the command-line client which basically just wraps up REST API so vault key value put so it's",
    "start": "559630",
    "end": "565630"
  },
  {
    "text": "an HTTP verb put post get things like that secret so that's the secrets engine",
    "start": "565630",
    "end": "571780"
  },
  {
    "text": "right so secret will be the key value store and then slash my secret so my",
    "start": "571780",
    "end": "577030"
  },
  {
    "text": "secret is the key and the value is going to be hello and so you can see that",
    "start": "577030",
    "end": "582130"
  },
  {
    "text": "basically it created it it said the version is one so if I update that and I",
    "start": "582130",
    "end": "587890"
  },
  {
    "text": "say you know NDC so now the version is",
    "start": "587890",
    "end": "598750"
  },
  {
    "text": "two so it's actually a version key value store in the latest versions of vault so now if I want to read that value back",
    "start": "598750",
    "end": "604690"
  },
  {
    "text": "out you can see that it read it back out",
    "start": "604690",
    "end": "611770"
  },
  {
    "text": "my value NDC and obviously this is a table you can make it into JSON you can do whatever it's just the command-line",
    "start": "611770",
    "end": "617560"
  },
  {
    "text": "client is wrapping it into a nice to read human value for me so that was pretty straightforward I can read and",
    "start": "617560",
    "end": "623800"
  },
  {
    "text": "write from any path any sub path I can get permissions to read from certain",
    "start": "623800",
    "end": "629590"
  },
  {
    "text": "paths not read from certain paths right so if you go and look back into our",
    "start": "629590",
    "end": "634780"
  },
  {
    "text": "slides right here obviously here the app should only have permission to read from",
    "start": "634780",
    "end": "640090"
  },
  {
    "start": "635000",
    "end": "780000"
  },
  {
    "text": "this location and not write to it right so we can do all that kind of cool stuff with Walt and we'll talk more about how",
    "start": "640090",
    "end": "648130"
  },
  {
    "text": "you actually authenticate to vault later on okay so look at another scenario",
    "start": "648130",
    "end": "654940"
  },
  {
    "text": "that's a little bit more interesting so when you're running a micro services stack you have a bunch of different micro services and some of them don't",
    "start": "654940",
    "end": "662530"
  },
  {
    "text": "need all the data that our user sends us so an end user might send some data to a front end application that data might",
    "start": "662530",
    "end": "669670"
  },
  {
    "text": "flow through a bunch of services in our stack and then it finally goes to a backhand app that",
    "start": "669670",
    "end": "674949"
  },
  {
    "text": "actually needs that data to do some sort of work now the fronton app knows it needs that data so it's probably",
    "start": "674949",
    "end": "680829"
  },
  {
    "text": "hardened there's some PII reviews security reviews things like that so it's a hardened application and stay with the back-end app you're probably",
    "start": "680829",
    "end": "686860"
  },
  {
    "text": "are treating that PII correctly we understand how to harden it and things but that random micro service isn't the",
    "start": "686860",
    "end": "692500"
  },
  {
    "text": "stack it is maybe just like a pub sub or a rightist queue or rabbitmq something",
    "start": "692500",
    "end": "697600"
  },
  {
    "text": "like that it doesn't really know what this data is and it might be vulnerable to attack right so if I attack that",
    "start": "697600",
    "end": "703660"
  },
  {
    "text": "random micro services in the middle of micro service in the middle of our stack maybe as an internal user right you know",
    "start": "703660",
    "end": "709060"
  },
  {
    "text": "a disgruntled employee who has access to that thing and it's like a low priority thing so you haven't really secured it",
    "start": "709060",
    "end": "715060"
  },
  {
    "text": "that well well now they have access to all that hardened data that's flowing into it right so what I really want to",
    "start": "715060",
    "end": "721180"
  },
  {
    "text": "do is encrypt the data that's going downstream and then once you go to the backend we actually decrypt it right so",
    "start": "721180",
    "end": "728800"
  },
  {
    "text": "this app right here needs to decrypt that data that's been encrypted in this front end so we can actually use vault",
    "start": "728800",
    "end": "738310"
  },
  {
    "text": "to do this as well so the front-end app can send the plaintext to vault and get",
    "start": "738310",
    "end": "743410"
  },
  {
    "text": "back encrypted data send that encrypt the data downstream and then the back-end can send that encrypted data to",
    "start": "743410",
    "end": "749019"
  },
  {
    "text": "vault and get back the plain text so the really cool thing here is that this backhand app you can give it only",
    "start": "749019",
    "end": "755769"
  },
  {
    "text": "permission to decrypt data and this friends an app you can give it only permission to encrypt data so that means",
    "start": "755769",
    "end": "762819"
  },
  {
    "text": "if our friend an app is compromised all the previous messages are not readable right because it only has permission to",
    "start": "762819",
    "end": "768910"
  },
  {
    "text": "encrypt new data and if our back-end app is compromised it can't trick our our system into thinking there's more data",
    "start": "768910",
    "end": "775269"
  },
  {
    "text": "than you know as really this is there it can't add any new data in so this is",
    "start": "775269",
    "end": "781149"
  },
  {
    "start": "780000",
    "end": "943000"
  },
  {
    "text": "basically using vault as an encryption service and the vault Doc's call it the transit engine so let's take a look at",
    "start": "781149",
    "end": "787569"
  },
  {
    "text": "how this works okay so",
    "start": "787569",
    "end": "793199"
  },
  {
    "text": "okay so basically because it is encrypting arbitrary data you need a",
    "start": "795290",
    "end": "801110"
  },
  {
    "text": "base64 encode the stuff let's clean up so I'm gonna make a little smaller so I",
    "start": "801110",
    "end": "807560"
  },
  {
    "text": "can read it so I'm going to say base64",
    "start": "807560",
    "end": "811630"
  },
  {
    "text": "and put codes cool so this is the basics before a representation of hello so I'm",
    "start": "813130",
    "end": "821840"
  },
  {
    "text": "going to take that in actually it's like something more interesting than hello-o NDC sure great so you can see there who",
    "start": "821840",
    "end": "831350"
  },
  {
    "text": "can read base64 just by looking at it now it's kidding I'm sure someone out there can so now",
    "start": "831350",
    "end": "836870"
  },
  {
    "text": "I'm gonna say I love make by the way it's great for demos I don't heard remember stuff and then I'm gonna say",
    "start": "836870",
    "end": "843170"
  },
  {
    "text": "data equals this okay so what it did is",
    "start": "843170",
    "end": "849020"
  },
  {
    "text": "it basically vault right into this transit against the transit is the",
    "start": "849020",
    "end": "854620"
  },
  {
    "text": "encryption as a service and then encrypt is the endpoint for encrypting data and",
    "start": "854620",
    "end": "859880"
  },
  {
    "text": "then I basically gave it the plaintext equals that and it gave me back the",
    "start": "859880",
    "end": "865730"
  },
  {
    "text": "ciphertext of vault version one blah blah blah blah blah blah blah right so if I take this string and let's first",
    "start": "865730",
    "end": "876650"
  },
  {
    "text": "let's make decrypt data and let's give it in our string that it gave us it",
    "start": "876650",
    "end": "885530"
  },
  {
    "text": "gives us back the base64 encoded original data let's decipher write and",
    "start": "885530",
    "end": "890540"
  },
  {
    "text": "you can see here basically I sent it to vault write transit again but instead of",
    "start": "890540",
    "end": "897500"
  },
  {
    "text": "encrypt its decrypt and I give it a cipher text instead of a plaintext right and so with that we can encrypt and",
    "start": "897500",
    "end": "903710"
  },
  {
    "text": "decrypt data in different portions of our micro-services stack without even knowing the encryption key and things",
    "start": "903710",
    "end": "909890"
  },
  {
    "text": "like that right Walt manages all that for us and instead we can just use it as a service so no matter where in your",
    "start": "909890",
    "end": "916520"
  },
  {
    "text": "stack you're encrypting and decrypting data as long as you say that my key is",
    "start": "916520",
    "end": "921890"
  },
  {
    "text": "what's being used to encrypt and decrypt this so as long as you're agree on which basically key right so my dash key",
    "start": "921890",
    "end": "929089"
  },
  {
    "text": "you have permission and your useless MP in your front and back end you can encrypt and decrypt this data without",
    "start": "929089",
    "end": "934610"
  },
  {
    "text": "having to do any sort of pre-shared keys or public key authentication or anything complicated just use vault which is",
    "start": "934610",
    "end": "939829"
  },
  {
    "text": "really nice okay so let's go on to the",
    "start": "939829",
    "end": "947629"
  },
  {
    "start": "943000",
    "end": "1258000"
  },
  {
    "text": "last and I think the most interesting use for vault so how many folks here run",
    "start": "947629",
    "end": "953959"
  },
  {
    "text": "Russian database or in their company I'm assuming everyone here has a production database right",
    "start": "953959",
    "end": "959089"
  },
  {
    "text": "how many folks have a QA or staging database that they interact with most people write for your QA and staging",
    "start": "959089",
    "end": "965959"
  },
  {
    "text": "databases how do you get user accounts do you talk to an IT person or an ops",
    "start": "965959",
    "end": "971029"
  },
  {
    "text": "person and say I need a user account and then the email you want how many people will do that a few people right how many",
    "start": "971029",
    "end": "977420"
  },
  {
    "text": "people opened up a JIRA ticket and then wait two weeks and then finally get their username password yeah okay I see",
    "start": "977420",
    "end": "983089"
  },
  {
    "text": "some hands going up the problem with this is once you wait those two weeks and you get your username and password you're never ever ever ever ever gonna",
    "start": "983089",
    "end": "990439"
  },
  {
    "text": "throw those away right you're gonna put that into your like Dropbox or Google Drive and keep it forever and ever because the next time you need it for",
    "start": "990439",
    "end": "996679"
  },
  {
    "text": "your next project you don't want to go through that hassle of like doing this whole pinging people I need another",
    "start": "996679",
    "end": "1003670"
  },
  {
    "text": "username password all over again right and so this creates something called secret sprawl where you created this",
    "start": "1003670",
    "end": "1009910"
  },
  {
    "text": "account for this original purpose and that one account is now being used for a thousand different things because it I",
    "start": "1009910",
    "end": "1015819"
  },
  {
    "text": "want to get my job done and go home on Friday right I don't want to just like sit here and wait for a password to come",
    "start": "1015819",
    "end": "1021399"
  },
  {
    "text": "in so I can't do anything I'm blocked but obviously this causes problems what if that person who has it user",
    "start": "1021399",
    "end": "1026860"
  },
  {
    "text": "name/password leaves the company and they put that username password on their personal Dropbox and then they get",
    "start": "1026860",
    "end": "1033808"
  },
  {
    "text": "hacked completely unrelated to you as a company right they had fished and now they have your test they're your test",
    "start": "1033809",
    "end": "1041110"
  },
  {
    "text": "password oh it's my test password your test accounts can give so much",
    "start": "1041110",
    "end": "1046538"
  },
  {
    "text": "information away on how your production runs that now they have more information that can attack your production environment right they can maybe access",
    "start": "1046539",
    "end": "1053169"
  },
  {
    "text": "your github repository maybe they can do all this kind of crazy stuff because you just email this username password right",
    "start": "1053169",
    "end": "1058950"
  },
  {
    "text": "so instead and and also in this scenario we have these three apps the admin app the user",
    "start": "1058950",
    "end": "1064700"
  },
  {
    "text": "app the analytics app the only different sets of permissions right so maybe the",
    "start": "1064700",
    "end": "1070070"
  },
  {
    "text": "admin app needs full read/write access to your thing the user app has right access to a few tables read access to",
    "start": "1070070",
    "end": "1075920"
  },
  {
    "text": "some other tables and your analytics app has only read-only access so now you need a minimum of three different users",
    "start": "1075920",
    "end": "1081800"
  },
  {
    "text": "in your database it sounds three times the chance of one of these getting leaked out obviously",
    "start": "1081800",
    "end": "1086870"
  },
  {
    "text": "your QA and tests and all these different environments have different username and passwords so now your users have to manage where these are and",
    "start": "1086870",
    "end": "1093560"
  },
  {
    "text": "config files and things like that gets kind of annoying what how can volt help with this basically right so",
    "start": "1093560",
    "end": "1100810"
  },
  {
    "text": "instead of giving your admin app your app your analytics app its own username",
    "start": "1100810",
    "end": "1106790"
  },
  {
    "text": "and password the admin app actually talks to vault and says hey I am the admin app can you give me back a",
    "start": "1106790",
    "end": "1112280"
  },
  {
    "text": "database credential and vault will actually talk to the production database",
    "start": "1112280",
    "end": "1117710"
  },
  {
    "text": "or whatever database create a user on the fly and then return that user back",
    "start": "1117710",
    "end": "1123890"
  },
  {
    "text": "to the admin app and now that admin app can use that to access a production database but here's a really cool thing",
    "start": "1123890",
    "end": "1130010"
  },
  {
    "text": "because it's creating that user on the fly we can actually set something called a TTL on that account so we can say if",
    "start": "1130010",
    "end": "1136880"
  },
  {
    "text": "you don't renew the lease within 30 minutes this account gets destroyed and even if",
    "start": "1136880",
    "end": "1142280"
  },
  {
    "text": "you're ruining the lease every 30 minutes after 24 hours it gets destroyed so what this means is if you leak a",
    "start": "1142280",
    "end": "1148450"
  },
  {
    "text": "username password that's being actively used the maximum lifespan it can have is 24 hours once at 24 hours up that",
    "start": "1148450",
    "end": "1155090"
  },
  {
    "text": "account is no longer useful right so they had a rehabber system to get another username password and if they",
    "start": "1155090",
    "end": "1160970"
  },
  {
    "text": "hack a username password you detect that it's been leaked and you don't renew",
    "start": "1160970",
    "end": "1166070"
  },
  {
    "text": "that lease in 30 minutes it's going to be useless I say all right so that's really powerful because even if this",
    "start": "1166070",
    "end": "1172310"
  },
  {
    "text": "account gets copy pasted into a file doesn't matter within 24 hours it's gone and obviously these numbers are",
    "start": "1172310",
    "end": "1177710"
  },
  {
    "text": "configurable to whatever your your organization needs but this really means that you limit the secret sprawl in your",
    "start": "1177710",
    "end": "1183950"
  },
  {
    "text": "organization it doesn't matter someone copy paste this into a text file and sends it out what's in an X amount of time that you can guarantee this account",
    "start": "1183950",
    "end": "1190910"
  },
  {
    "text": "is now useless and the really cool thing about vault is it's not just limited to like databases so obviously you have",
    "start": "1190910",
    "end": "1196549"
  },
  {
    "text": "things like Cassandra and my sequel among ODB things like that but it can also create cloud service accounts using",
    "start": "1196549",
    "end": "1203600"
  },
  {
    "text": "vault so Google cloud AWS adjure all of these systems actually integrate with vault and you can actually create",
    "start": "1203600",
    "end": "1210009"
  },
  {
    "text": "service accounts that can say spin up a VM or create a database or whatever and",
    "start": "1210009",
    "end": "1215809"
  },
  {
    "text": "these accounts only large short-term temporary things as well so what this means is let's say your application needs to spin up a few VM to crunch some",
    "start": "1215809",
    "end": "1223220"
  },
  {
    "text": "numbers and then spin back down your applications and say hey vault can you give me a I am or a service account that",
    "start": "1223220",
    "end": "1231109"
  },
  {
    "text": "can do this it'll say here you go it will only be active for 30 minutes once it's done I'm done right I don't really need it for",
    "start": "1231109",
    "end": "1236929"
  },
  {
    "text": "more than you know a few seconds so I don't need a permanent account and so what this means is even if my app is",
    "start": "1236929",
    "end": "1243139"
  },
  {
    "text": "compromised and someone steals that service account it'll only work for a little limited amount of time and no one",
    "start": "1243139",
    "end": "1248210"
  },
  {
    "text": "can Bitcoin mine on my dime forever right cuz that's never happened before",
    "start": "1248210",
    "end": "1254950"
  },
  {
    "text": "it's happened a lot okay so take a look at this what we call vault dynamic secrets so here hopefully",
    "start": "1254950",
    "end": "1264529"
  },
  {
    "start": "1258000",
    "end": "1584000"
  },
  {
    "text": "I have my my sequel database running so let's just log into it as a root just to show you that it's working",
    "start": "1264529",
    "end": "1271778"
  },
  {
    "text": "nice equal eight point zero point zero point one the password is very secure",
    "start": "1272330",
    "end": "1281509"
  },
  {
    "text": "it's PA SS w already boom okay we're in we're into our my sequel as a root user",
    "start": "1281509",
    "end": "1286639"
  },
  {
    "text": "right so it is just how you maybe you would hard hard code these username passwords in just to show you kind of",
    "start": "1286639",
    "end": "1292340"
  },
  {
    "text": "work so I could say you use world I have like this like a dummy data set in here select star from cool so I just have all",
    "start": "1292340",
    "end": "1304879"
  },
  {
    "text": "the big cities in the world in this databases great okay cool so let's exit this so now think you root user and",
    "start": "1304879",
    "end": "1312859"
  },
  {
    "text": "that's the root user actually let's go back in I can do silly things like let's",
    "start": "1312859",
    "end": "1323269"
  },
  {
    "text": "make a new city",
    "start": "1323269",
    "end": "1326049"
  },
  {
    "text": "oh look all right hold on",
    "start": "1331920",
    "end": "1338750"
  },
  {
    "text": "looks like a new city called Sundeep school city that's a district of in the",
    "start": "1340220",
    "end": "1345510"
  },
  {
    "text": "district of Oslo the population one because I'm the only one who can live in Sneed school city and obviously oh it's",
    "start": "1345510",
    "end": "1352860"
  },
  {
    "text": "not like this I'm not gonna work my",
    "start": "1352860",
    "end": "1358920"
  },
  {
    "text": "seagull screw you okay so I can insert that in it works it works Wow you compromised the database thank",
    "start": "1358920",
    "end": "1365250"
  },
  {
    "text": "you thank you I'm such a hacker so I don't want anyone to have you know root",
    "start": "1365250",
    "end": "1370830"
  },
  {
    "text": "access to my database so let's actually talk to vault and use it to dynamically generate some certificates for this",
    "start": "1370830",
    "end": "1378300"
  },
  {
    "text": "thing so let's get oh not yet hold on I",
    "start": "1378300",
    "end": "1386130"
  },
  {
    "text": "gotta create went too fast okay so the",
    "start": "1386130",
    "end": "1392220"
  },
  {
    "text": "first thing we need to do is basically tell evolve how to create new users right and so it's a little bit hard to",
    "start": "1392220",
    "end": "1398790"
  },
  {
    "text": "read but basically I create a new role called read-only and so what that is is",
    "start": "1398790",
    "end": "1404820"
  },
  {
    "text": "it'll basically run the sequel statement so create user name blah blah blah password a grant select on everything to",
    "start": "1404820",
    "end": "1412590"
  },
  {
    "text": "name at whatever right and then I give a TTL max of 1 minute and a 1 minute so",
    "start": "1412590",
    "end": "1417630"
  },
  {
    "text": "and after 1 minute this account will be useless so basically I didn't create any random sequel statement that will give",
    "start": "1417630",
    "end": "1425100"
  },
  {
    "text": "me any sort of permission to create that user right and so now I have this read-only role now I can actually run",
    "start": "1425100",
    "end": "1430650"
  },
  {
    "text": "this get DB creds and it'll give me a dynamically generated username and password so now if I log in to the",
    "start": "1430650",
    "end": "1439290"
  },
  {
    "text": "database so the user is this thing and we have one minute before this account",
    "start": "1439290",
    "end": "1445380"
  },
  {
    "text": "is deactivated so gotta go fast and the",
    "start": "1445380",
    "end": "1450720"
  },
  {
    "text": "password is this so again I've logged in",
    "start": "1450720",
    "end": "1458880"
  },
  {
    "text": "and I can I can CL ECT star oh man so much pressure okay so I can",
    "start": "1458880",
    "end": "1470610"
  },
  {
    "text": "select star but if I try to insert oh man I'm gonna run out of time one minute",
    "start": "1470610",
    "end": "1480810"
  },
  {
    "text": "was - it was - that's too little so let's go here make my seagull right okay",
    "start": "1480810",
    "end": "1489740"
  },
  {
    "text": "hopefully this copy-paste will work this time didn't work okay that well okay",
    "start": "1489740",
    "end": "1502410"
  },
  {
    "text": "well let's just pretend again that that didn't work because it's a read-only user but now if I could kind of login I",
    "start": "1502410",
    "end": "1508950"
  },
  {
    "text": "know it's the quote in the S right yeah I was too cool for for my password or",
    "start": "1508950",
    "end": "1516330"
  },
  {
    "text": "for my a sequel statement so let's scroll back up where is it right here so",
    "start": "1516330",
    "end": "1523200"
  },
  {
    "text": "it's been a minute basically where is it - who can see it I know it's after this",
    "start": "1523200",
    "end": "1534320"
  },
  {
    "text": "the problem is I can't regenerate it because it's already been used oh there",
    "start": "1534860",
    "end": "1541680"
  },
  {
    "text": "it is okay here's that okay so now if I",
    "start": "1541680",
    "end": "1546780"
  },
  {
    "text": "try to use this password it'll say access denied right and so even though",
    "start": "1546780",
    "end": "1553800"
  },
  {
    "text": "that worked a minute ago we've now basically removed that user from our database dynamically and so",
    "start": "1553800",
    "end": "1560430"
  },
  {
    "text": "this means that even if someone got that username password once that time limit is up it's basically useless account and",
    "start": "1560430",
    "end": "1567180"
  },
  {
    "text": "so this this is the same thing for any cloud account any database anything that",
    "start": "1567180",
    "end": "1572640"
  },
  {
    "text": "has a plug-in for vault that has a dynamic secret back-end right and so the cool thing that vault is a lot of people have written their own dynamic secrets",
    "start": "1572640",
    "end": "1578870"
  },
  {
    "text": "backends so you can use it for a lot of different systems that vault doesn't support out of the box okay so I think",
    "start": "1578870",
    "end": "1585930"
  },
  {
    "text": "that's one of the coolest parts it really helps you secure your organization basically you can say",
    "start": "1585930",
    "end": "1591530"
  },
  {
    "text": "every account that we use in production only lasts for this long so the worst case scenario is even if all our keys",
    "start": "1591530",
    "end": "1598100"
  },
  {
    "text": "are leaked they're only gonna last for 30 minutes and one other really cool",
    "start": "1598100",
    "end": "1604250"
  },
  {
    "text": "thing about vault before we keep going is the auditing function right so let's say that someone actually gets a way to",
    "start": "1604250",
    "end": "1611990"
  },
  {
    "text": "authenticate to vault every time someone talks to our vault service it's logged right and all the",
    "start": "1611990",
    "end": "1618320"
  },
  {
    "text": "information about who that client is is logged as well so you can actually start alerting and figuring out are the",
    "start": "1618320",
    "end": "1625730"
  },
  {
    "text": "requests coming to vault coming from real applications right and so you might",
    "start": "1625730",
    "end": "1631010"
  },
  {
    "text": "think you know once someone compromises your login to vault well isn't that the same thing as getting your keys anyway there's actually a little bit more",
    "start": "1631010",
    "end": "1638560"
  },
  {
    "text": "visibility and auditability into accessing vault versus say getting your Twilio key and just using it from some",
    "start": "1638560",
    "end": "1646280"
  },
  {
    "text": "random service somewhere else right you don't really know about that vs. vault you have control and view ability in -",
    "start": "1646280",
    "end": "1651610"
  },
  {
    "start": "1651000",
    "end": "1975000"
  },
  {
    "text": "okay so speaking of accounts and logging into vault let's talk about how you actually use it right because we didn't",
    "start": "1651610",
    "end": "1658060"
  },
  {
    "text": "our animations we didn't really talk about how this part of it really works right I have still had to talk to vault",
    "start": "1658060",
    "end": "1665390"
  },
  {
    "text": "to get that API key back and if I can't do that securely well that's pretty much",
    "start": "1665390",
    "end": "1670520"
  },
  {
    "text": "useless right so it's the first thing to think about or something called policies",
    "start": "1670520",
    "end": "1675950"
  },
  {
    "text": "so policies are kind of like ACLs they provide a declarative way to grant or forbid access to certain paths and",
    "start": "1675950",
    "end": "1682250"
  },
  {
    "text": "operations involves pretty straightforward what they do so let's say you have two policies these are the",
    "start": "1682250",
    "end": "1690620"
  },
  {
    "text": "these are key values right so the first policy says you are allowed to read from",
    "start": "1690620",
    "end": "1696080"
  },
  {
    "text": "secret foo and the second policy says you're allowed to update things in secret food so now you have these two",
    "start": "1696080",
    "end": "1702680"
  },
  {
    "text": "policies you can map those two roles so let's say we have three roles the first",
    "start": "1702680",
    "end": "1709460"
  },
  {
    "text": "role gets mapped to the first a second policy so it can update things in secret foo the second role can read things from",
    "start": "1709460",
    "end": "1717200"
  },
  {
    "text": "secret foo and the third role can do both right so it has both policies map to it so basically these are like end to",
    "start": "1717200",
    "end": "1723950"
  },
  {
    "text": "end you can map any policy to any role and any role to any policy you mostly map",
    "start": "1723950",
    "end": "1729970"
  },
  {
    "text": "policies to roles that's how this works so you create all these policies you can",
    "start": "1729970",
    "end": "1735070"
  },
  {
    "text": "give them descriptive names and then you can say this role has this policy and you can put multiple policies per role",
    "start": "1735070",
    "end": "1741100"
  },
  {
    "text": "to school so what is a role on kind of how do you authenticate into vault so it",
    "start": "1741100",
    "end": "1747730"
  },
  {
    "text": "has all of these it's a big list I break it down kind of two sections right so",
    "start": "1747730",
    "end": "1753130"
  },
  {
    "text": "you have auth methods for humans so this is how a human would authenticate into vault so you have things like user name",
    "start": "1753130",
    "end": "1759370"
  },
  {
    "text": "password makes sense github username github login LDAP I don't know what octa",
    "start": "1759370",
    "end": "1765130"
  },
  {
    "text": "and radius are I'm sure there are people in the audience to do but again it's a way for it's an authentication server",
    "start": "1765130",
    "end": "1770610"
  },
  {
    "text": "already authenticated as a human being right and for machines I feel a little",
    "start": "1770610",
    "end": "1778419"
  },
  {
    "text": "bit more interesting you can authenticate to vault using things like TLS certificates are tokens the tokens are actually what vault uses",
    "start": "1778419",
    "end": "1786160"
  },
  {
    "text": "honor to cover for everything but it's hard to kind of generate that token by yourself which is why they have these",
    "start": "1786160",
    "end": "1791559"
  },
  {
    "text": "other methods if you use a Perl which is kind of vault native authentication",
    "start": "1791559",
    "end": "1798730"
  },
  {
    "text": "method but obviously that's kind of tricky to use so you can also use the cloud provider I am accounts as well as kubernetes",
    "start": "1798730",
    "end": "1805919"
  },
  {
    "text": "service accounts as well which is really cool running kubernetes it can set actually just wrote an open source something like",
    "start": "1805919",
    "end": "1812169"
  },
  {
    "text": "yesterday that lets you put a sidecar into your kubernetes pod and automatically authenticate the vault",
    "start": "1812169",
    "end": "1818200"
  },
  {
    "text": "using these service account built into kubernetes so one question that I had that you might have right now is you",
    "start": "1818200",
    "end": "1824530"
  },
  {
    "text": "just told me that vault can generate cloud serves accounts and now you also told me that you can authenticate to",
    "start": "1824530",
    "end": "1829929"
  },
  {
    "text": "vault using cloud service accounts so I can use a cloud service account to create a cloud service account I heard",
    "start": "1829929",
    "end": "1836590"
  },
  {
    "text": "you like cloud service accounts I put service counts in your service accounts kind of sort of so it's actually better",
    "start": "1836590",
    "end": "1841840"
  },
  {
    "text": "to use it this way then say Krita service account directly and use it in your code so let's say again you have a",
    "start": "1841840",
    "end": "1847690"
  },
  {
    "text": "service account that can spin up some VMs your application needs to spin up VM to do its job now if you just created",
    "start": "1847690",
    "end": "1854140"
  },
  {
    "text": "that service account and then embedded it into your into your code says the JSON file or whatever if",
    "start": "1854140",
    "end": "1859900"
  },
  {
    "text": "that JSON file gets leaked again anyone who has that can create as many VMs in your under your building account that",
    "start": "1859900",
    "end": "1866500"
  },
  {
    "text": "they want right but if you create a service account that has zero permissions and it's only used to",
    "start": "1866500",
    "end": "1873100"
  },
  {
    "text": "authenticate to vault and then vault gives you back a temporary service account that has the permissions you need to actually do your job what this",
    "start": "1873100",
    "end": "1879550"
  },
  {
    "text": "lets you do is if that Xero permission service account is stolen well they can't really do anything with that",
    "start": "1879550",
    "end": "1884740"
  },
  {
    "text": "aside from authenticate to vault once they had then to Kate to vault we should have the break-in here of epc to do right once they do that they have to",
    "start": "1884740",
    "end": "1892360"
  },
  {
    "text": "it'll be log and audited and you'll be like what what is this thing who I'm not supposed to using this sort of account only that app is and then you can just",
    "start": "1892360",
    "end": "1899080"
  },
  {
    "text": "turn that off in your vault and then boom you're done right even if they are able to do one or two requests and get",
    "start": "1899080",
    "end": "1904230"
  },
  {
    "text": "your your service account that's only temporary they can only spin up so much before you detect that and turn them off",
    "start": "1904230",
    "end": "1910060"
  },
  {
    "text": "right versus like secretly run thousands of machines forever because I keep",
    "start": "1910060",
    "end": "1915460"
  },
  {
    "text": "spinning them up so even this way kind of limit your surface area for attack you're limiting the Scopes of what your",
    "start": "1915460",
    "end": "1922360"
  },
  {
    "text": "accounts are embedded with to just have off and not have permissions the permissions all come from the policies",
    "start": "1922360",
    "end": "1928240"
  },
  {
    "text": "and things of that from vault you're just using the cloud providers to provide author author indication instead",
    "start": "1928240",
    "end": "1935260"
  },
  {
    "text": "of the actual permissions themselves it's cool so in a nutshell basically auth methods",
    "start": "1935260",
    "end": "1941140"
  },
  {
    "text": "map one-to-one to a role and then rolls map and to end policies so you can have",
    "start": "1941140",
    "end": "1947470"
  },
  {
    "text": "this role have multiple policies you have multiple C's for multiple roles but each auth method basically maps to a",
    "start": "1947470",
    "end": "1953530"
  },
  {
    "text": "specific role right which makes it really straightforward like when you log in as a human you are on the ops team so",
    "start": "1953530",
    "end": "1961450"
  },
  {
    "text": "you get the specific role human on ops team and that has a certain amount of policies when your app logs in it has a",
    "start": "1961450",
    "end": "1967300"
  },
  {
    "text": "specific service account it logs into vault it has a special role front-end app and front-end app has a certain",
    "start": "1967300",
    "end": "1973450"
  },
  {
    "text": "amount of policies pretty straightforward okay last section",
    "start": "1973450",
    "end": "1978520"
  },
  {
    "start": "1975000",
    "end": "2006000"
  },
  {
    "text": "running vault so there's a lot of ways to run vault I want to focus on the Google Cloud portion of it",
    "start": "1978520",
    "end": "1984610"
  },
  {
    "text": "but it's pretty similar and most setups on-prem in the cloud whatever right so you basically need three",
    "start": "1984610",
    "end": "1990940"
  },
  {
    "text": "different things to run vault you need a storage back-end that's highly available you need a way to run your vault",
    "start": "1990940",
    "end": "1998080"
  },
  {
    "text": "instances themselves that's highly available and you need some sort of master key management policy or way to",
    "start": "1998080",
    "end": "2003510"
  },
  {
    "text": "do that and I'll talk about that in a second because it's a little bit complicated so for your storage back-end you can do",
    "start": "2003510",
    "end": "2009780"
  },
  {
    "start": "2006000",
    "end": "2286000"
  },
  {
    "text": "something like Google Cloud storage you can also use something like s3 or Azure blob store basically you need a",
    "start": "2009780",
    "end": "2014960"
  },
  {
    "text": "stork back-end that you can read and write from and so vault will actually do the encryption before writing into any",
    "start": "2014960",
    "end": "2021270"
  },
  {
    "text": "back-end so for example Google Cloud Storage encrypts all data at rest but it's Google encrypting it right so if",
    "start": "2021270",
    "end": "2026790"
  },
  {
    "text": "you don't trust Google you can use vault to encrypt it using your own key so again any sort of storage back-end",
    "start": "2026790",
    "end": "2033360"
  },
  {
    "text": "that's how available will work Google Cloud Storage s3 all these things don't",
    "start": "2033360",
    "end": "2038460"
  },
  {
    "text": "have really great like latency and performance compared to like a database but when you're using vault you're not",
    "start": "2038460",
    "end": "2044400"
  },
  {
    "text": "really using it like Redis right when using the key value for vault you're not like reading writing super fast you're like what is the key okay cool I'll use",
    "start": "2044400",
    "end": "2050370"
  },
  {
    "text": "it by thank you you're not like doing a million operations per second right so something like Google Cloud Storage is probably more than enough performance",
    "start": "2050370",
    "end": "2056850"
  },
  {
    "text": "for everyone here but if you do need more you can run things like Google Cloud spanner or Aurora or things like",
    "start": "2056850",
    "end": "2062639"
  },
  {
    "text": "that to give you a more high performance back in but you do pay a little bit extra for that kind of stuff now when it",
    "start": "2062640",
    "end": "2068790"
  },
  {
    "text": "comes to actually running vault itself what I'll recommend is running it in something like kubernetes and so the",
    "start": "2068790",
    "end": "2075060"
  },
  {
    "text": "reason why I would recommend this is because it has to be highly available right if your vault service goes down remember let's say you're logging into",
    "start": "2075060",
    "end": "2081510"
  },
  {
    "text": "your database well that key has to be refreshed every 30 minutes and if it's not refreshed every 30 minutes even the",
    "start": "2081510",
    "end": "2088560"
  },
  {
    "text": "worst case scenario you're only gonna have 24 hours before that key is gone right so if your vault instance is down",
    "start": "2088560",
    "end": "2094050"
  },
  {
    "text": "for more than 24 hours all of a sudden you lose production access to your database so vault has to be up all the",
    "start": "2094050",
    "end": "2100170"
  },
  {
    "text": "time right so I recommend running it something like google kubernetes engine using what the regional cluster so it's like highly",
    "start": "2100170",
    "end": "2105960"
  },
  {
    "text": "available over multiple regions sorry over multiple zones in a region and then",
    "start": "2105960",
    "end": "2111330"
  },
  {
    "text": "you're running it in containers so even if lungo that one goes down kubernetes will detect that bring another one back up it'd take its place",
    "start": "2111330",
    "end": "2116550"
  },
  {
    "text": "so you always have vault running which so you know peace of mind in my opinion",
    "start": "2116550",
    "end": "2122200"
  },
  {
    "text": "and I'll show you a link for that in a second on how you can actually run that in a secure way now the last part is the",
    "start": "2122200",
    "end": "2128740"
  },
  {
    "text": "master key management so this is where it gets a little bit complicated especially on how vault works works so",
    "start": "2128740",
    "end": "2137109"
  },
  {
    "text": "how many people have gone to a bank to like a safety deposit box or put",
    "start": "2137109",
    "end": "2142869"
  },
  {
    "text": "something an safety deposit box few people right usually you go there and then the bank person and you both have a key and you put it in and turn at the",
    "start": "2142869",
    "end": "2149650"
  },
  {
    "text": "same time right and opens that box up how many people have launched a nuclear weapon now I was kidding it's the same",
    "start": "2149650",
    "end": "2155440"
  },
  {
    "text": "thing right you want you don't want one person to be compromised to compromise your whole system and so vault has that",
    "start": "2155440",
    "end": "2161079"
  },
  {
    "text": "same principle where you can basically create a key that's broken up into multiple smaller keys and so you can",
    "start": "2161079",
    "end": "2168490"
  },
  {
    "text": "break it up into X number of keys and you can say I need Y number of keys to",
    "start": "2168490",
    "end": "2173710"
  },
  {
    "text": "actually unlock the vault so but involve boots up for the first time it's sealed",
    "start": "2173710",
    "end": "2179560"
  },
  {
    "text": "so before you can use it you have to unseal it and so basically this means that you have to take those Y number of",
    "start": "2179560",
    "end": "2186339"
  },
  {
    "text": "keys and punch them on it punch them all in and then vault will unseal right so let's say you have 10 keys 10 master",
    "start": "2186339",
    "end": "2192250"
  },
  {
    "text": "keys you give them to all the executives in your company you need at least four keys to unlock your vault what this",
    "start": "2192250",
    "end": "2197680"
  },
  {
    "text": "means is like if you reboot it or anything you have to basically unlock it again and so this like a security",
    "start": "2197680",
    "end": "2203230"
  },
  {
    "text": "measure to prevent people from like oh I just reboot vault with this like convenient security bug and all of a",
    "start": "2203230",
    "end": "2210280"
  },
  {
    "text": "sudden you know everything is compromised right so if you ever restart the vault process you have to unlock it",
    "start": "2210280",
    "end": "2215319"
  },
  {
    "text": "or unseal it that can be really annoying in an automated environment when",
    "start": "2215319",
    "end": "2220900"
  },
  {
    "text": "something like kubernetes which is like turning on and running these containers and killing them and running them somewhere else if every time a container",
    "start": "2220900",
    "end": "2227980"
  },
  {
    "text": "dies you had to go and unseal it right you know ping your CI CI oh and be like hey I know you're on vacation but can",
    "start": "2227980",
    "end": "2234160"
  },
  {
    "text": "you call unskillful yeah it's gonna get annoying quickly so I've heard that most",
    "start": "2234160",
    "end": "2239349"
  },
  {
    "text": "people use some sort of automated way to unseal it and even if you're doing it automated",
    "start": "2239349",
    "end": "2245079"
  },
  {
    "text": "you can still take a little bit more security precautions for example it can use something like Google kms or again a",
    "start": "2245079",
    "end": "2250210"
  },
  {
    "text": "juror and Amazon has their own KMS systems or key management systems where the cloud provider will actually",
    "start": "2250210",
    "end": "2255460"
  },
  {
    "text": "generate and wrote take these keys for you and you can use that key to unlock vault so this way you",
    "start": "2255460",
    "end": "2260890"
  },
  {
    "text": "can you have an API and a way to I tend to Kate to Google kms get the key and then unlock vault when it boots up right",
    "start": "2260890",
    "end": "2266200"
  },
  {
    "text": "again this is a choice you have to make in your organization do you want to automate this away or do you want to you",
    "start": "2266200",
    "end": "2273490"
  },
  {
    "text": "know have a human being go there and unlock it verify that everything is ok before you unlock the vault that's a",
    "start": "2273490",
    "end": "2280270"
  },
  {
    "text": "choice you have to make I think most people go for the more automated thing but it is a security trade-off that you",
    "start": "2280270",
    "end": "2285670"
  },
  {
    "text": "have to make okay so finally if you want",
    "start": "2285670",
    "end": "2291010"
  },
  {
    "text": "to know how to run a highly available vault bat back end on kubernetes sets",
    "start": "2291010",
    "end": "2296770"
  },
  {
    "text": "again just open-source this really cool workshop vault - kubernetes workshop and",
    "start": "2296770",
    "end": "2302109"
  },
  {
    "text": "then the second github link is a bunch of terraform scripts to basically just spin this up on a gke cluster",
    "start": "2302109",
    "end": "2308529"
  },
  {
    "text": "automatically you don't know what terraform is it's like cloud formation or deployment manager things like that",
    "start": "2308529",
    "end": "2313839"
  },
  {
    "text": "she's spinning up resources chef puppet similar to those kind of things so that's really cool if you just want it",
    "start": "2313839",
    "end": "2319420"
  },
  {
    "text": "to get up and running and so the way that those actually work is it creates a",
    "start": "2319420",
    "end": "2324849"
  },
  {
    "text": "separate google cloud project so a project is like a and I used to work container but it's not what the",
    "start": "2324849",
    "end": "2330880"
  },
  {
    "text": "container you think about like docker like a a box it's a it's like an",
    "start": "2330880",
    "end": "2337329"
  },
  {
    "text": "isolated box and what it does is it creates one account in that box and then",
    "start": "2337329",
    "end": "2343180"
  },
  {
    "text": "it sets up all the all the vols and everything like that and then expose that over you're gonna suppose that like",
    "start": "2343180",
    "end": "2348309"
  },
  {
    "text": "a shared V PC or something so basically no one has permission to touch the kubernetes cluster that vault is running",
    "start": "2348309",
    "end": "2354190"
  },
  {
    "text": "in is running in its own isolated kubernetes cluster isolated project isolated everything and",
    "start": "2354190",
    "end": "2359380"
  },
  {
    "text": "it has just like a pipe to your actual project that's running your actual resources so this means that even if",
    "start": "2359380",
    "end": "2364420"
  },
  {
    "text": "your project is compromised they can't compromise vault right so it's just another layer of security so this is like super secure best practices way of",
    "start": "2364420",
    "end": "2371470"
  },
  {
    "text": "running vault on kubernetes and then if you're are using kubernetes I mostly talked about kubernetes which",
    "start": "2371470",
    "end": "2377470"
  },
  {
    "text": "is why I'm talking about it so much I love kubernetes again set yeah again yesterday just open sourced and we",
    "start": "2377470",
    "end": "2384400"
  },
  {
    "text": "worked on this together a kubernetes authenticator",
    "start": "2384400",
    "end": "2389950"
  },
  {
    "text": "for vault right so remember I talked about how you can use kubernetes service accounts to talk to vault to get all",
    "start": "2389950",
    "end": "2395109"
  },
  {
    "text": "this stuff this is basically a sidecar that this does not all if all for you automatically and then just puts it into",
    "start": "2395109",
    "end": "2400839"
  },
  {
    "text": "your container using the shared volume so you don't have to actually worry about kubernetes service account and all",
    "start": "2400839",
    "end": "2407770"
  },
  {
    "text": "this complicated crap so and yeah there's also a tutorial on our Doc's which you can read if you want but yeah",
    "start": "2407770",
    "end": "2414310"
  },
  {
    "text": "follow us on Twitter it's fun ask me any questions I don't know if I have all the answers but I'm happy to try and also we",
    "start": "2414310",
    "end": "2421089"
  },
  {
    "text": "have a conference at next in San Francisco if anyone wants to come it's cool I guess I will be there talking",
    "start": "2421089",
    "end": "2428170"
  },
  {
    "text": "about kubernetes and things like that a bunch of Googlers a bunch of partners so if you're in the city and you want to go",
    "start": "2428170",
    "end": "2433570"
  },
  {
    "text": "to the conference talk to me and I will show you how to buy a ticket all right thank y'all so much",
    "start": "2433570",
    "end": "2440550"
  },
  {
    "text": "and ask questions you can feel free to answer you",
    "start": "2444240",
    "end": "2448400"
  },
  {
    "text": "and the that's not the survey whatever the feedback they want you to do",
    "start": "2456380",
    "end": "2462049"
  },
  {
    "text": "feedback so yes please do feedback thank you",
    "start": "2462049",
    "end": "2466479"
  }
]