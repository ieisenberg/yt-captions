[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "uh we're going to be talking about how to build the oh the top five techniques to build the worst micro server system ever",
    "start": "599",
    "end": "6899"
  },
  {
    "text": "I really like this image as a representation of microservices because you've got this this gentleman on a scooter it's a bit washed out on the",
    "start": "6899",
    "end": "13200"
  },
  {
    "text": "projector but he's going really fast and he's not he's not hampered by any bloat like protective headgear or anything and",
    "start": "13200",
    "end": "20760"
  },
  {
    "text": "the center of gravity is really high and the pivot point is really low and all it takes is one bump in the ground and",
    "start": "20760",
    "end": "26160"
  },
  {
    "text": "permanent brain damage just like microservices so who am I and why am I qualified to",
    "start": "26160",
    "end": "32700"
  },
  {
    "start": "30000",
    "end": "97000"
  },
  {
    "text": "talk to you about microservices my name is William brander I'm from South Africa and I know these South",
    "start": "32700",
    "end": "38760"
  },
  {
    "text": "African accent can be a little bit difficult to understand at times so I will try and enunciate a little bit clearer than I usually do and I will try",
    "start": "38760",
    "end": "45420"
  },
  {
    "text": "to speak a little bit slower than I usually do hopefully that helps and see for the mug I am the world's",
    "start": "45420",
    "end": "51719"
  },
  {
    "text": "okayest programmer I'm also incredibly passionate about building bad systems",
    "start": "51719",
    "end": "57660"
  },
  {
    "text": "I hope some of that passion is going to come through and energize the room so that we can end the day on a high note",
    "start": "57660",
    "end": "63480"
  },
  {
    "text": "there are three things that I dislike about this mug the first is that the a in program is tilted ever so slightly to",
    "start": "63480",
    "end": "69900"
  },
  {
    "text": "the side just enough to bother my OCD the second is that the font is dangerously close to Comic Sans without",
    "start": "69900",
    "end": "76560"
  },
  {
    "text": "actually being Comic Sans because that would be sort of cool in an ironic way but this isn't it's just like a weird",
    "start": "76560",
    "end": "82320"
  },
  {
    "text": "knockoff and then the third is that the mug is unfortunately unverified it it may",
    "start": "82320",
    "end": "89100"
  },
  {
    "text": "surprise you to learn that there was not in fact a worldwide census done on developerability with me Landing Square",
    "start": "89100",
    "end": "94619"
  },
  {
    "text": "in the middle so I went about looking to see if there's a there's other ways that I could prove that I was an okay",
    "start": "94619",
    "end": "100259"
  },
  {
    "start": "97000",
    "end": "260000"
  },
  {
    "text": "programmer and I spent some time looking through my company slack and my co-workers definitely don't think I'm",
    "start": "100259",
    "end": "105659"
  },
  {
    "text": "the best programmer either but at least one of them doesn't think I'm the worst so I've got that going for",
    "start": "105659",
    "end": "110939"
  },
  {
    "text": "me but what does being an okay programmer have to do with writing bad systems",
    "start": "110939",
    "end": "116100"
  },
  {
    "text": "right being an okay programmer means that I've probably written some systems that I'm proud of and some that I'm a",
    "start": "116100",
    "end": "121740"
  },
  {
    "text": "little bit ashamed of but I'm sure everyone has written some bad systems does it has anyone not written a bad system before if anyone's hiring look",
    "start": "121740",
    "end": "128280"
  },
  {
    "text": "around for hands now we've all worked in some bad systems so",
    "start": "128280",
    "end": "133440"
  },
  {
    "text": "what do I bring to the table that that can Elevate me and I can really make it that I'm the guy to teach you how to",
    "start": "133440",
    "end": "139860"
  },
  {
    "text": "write bad systems well that's got to do with who I work for I work for a company called particular software we make in-service",
    "start": "139860",
    "end": "146400"
  },
  {
    "text": "bus has anybody heard of particular well we've got a booth outside so if you",
    "start": "146400",
    "end": "151500"
  },
  {
    "text": "haven't heard of us we've done a really bad job anybody heard of end service but I hope everyone anybody using in service pass",
    "start": "151500",
    "end": "158580"
  },
  {
    "text": "my salary so for those of you who don't know and service bus is a library and framework",
    "start": "158580",
    "end": "165480"
  },
  {
    "text": "for building distributed systems so whether you want to build microservices or so or just partition your system and",
    "start": "165480",
    "end": "171840"
  },
  {
    "text": "service bus can help you do that but that's not what this talk is about so what does working for particular have",
    "start": "171840",
    "end": "178019"
  },
  {
    "text": "to do with making bad systems well at particular if you work on the",
    "start": "178019",
    "end": "183480"
  },
  {
    "text": "engineering team you also do support There's no distinction between engineering and support which means that",
    "start": "183480",
    "end": "189540"
  },
  {
    "text": "if you work on end service bus you support in-service bus and you support the customers that use ad Service Plus",
    "start": "189540",
    "end": "195599"
  },
  {
    "text": "and that's honestly one of the more fun things that I get to do is is support because I get to see a lot of different systems applied in a lot of different",
    "start": "195599",
    "end": "202140"
  },
  {
    "text": "ways at a lot of different scales and I get to see how people are using and service bus to build these distributed",
    "start": "202140",
    "end": "208319"
  },
  {
    "text": "systems but here's the thing about support if one was were to assume that system",
    "start": "208319",
    "end": "214019"
  },
  {
    "text": "quality follows a normal distribution where you've got some really poor quality systems on the one side and a",
    "start": "214019",
    "end": "219659"
  },
  {
    "text": "few really high quality systems on the other side with most systems having reasonable quality sort of in the middle",
    "start": "219659",
    "end": "225780"
  },
  {
    "text": "that doesn't really help with support because the people that have got the high quality systems aren't coming to",
    "start": "225780",
    "end": "231120"
  },
  {
    "text": "support for help and the people that have got the medium Quality Systems aren't coming either because they can probably work out their problems",
    "start": "231120",
    "end": "236640"
  },
  {
    "text": "themselves so the types of systems that I see when I do support are the ones down here",
    "start": "236640",
    "end": "241799"
  },
  {
    "text": "and I see a lot of these in fact as far as I'm concerned based on",
    "start": "241799",
    "end": "246840"
  },
  {
    "text": "my history with support it means that the distribution of system quality does not follow a normal distribution like this as far as I'm concerned all systems",
    "start": "246840",
    "end": "253680"
  },
  {
    "text": "are bad and as an industry we should be ashamed of ourselves for what we do into our Pro customers",
    "start": "253680",
    "end": "259940"
  },
  {
    "text": "to microservices right why do we do microservices the Consulting answer for why we do",
    "start": "259979",
    "end": "265020"
  },
  {
    "start": "260000",
    "end": "377000"
  },
  {
    "text": "microservices is we want to decrease coupling so we can have independent deployability we can scale things up and",
    "start": "265020",
    "end": "271500"
  },
  {
    "text": "down without bothering the rest of the system and blah blah blah blah nobody does microservices for that we do",
    "start": "271500",
    "end": "277740"
  },
  {
    "text": "microservices so that we can increase complexity and decrease performance we do microservices so that we can come",
    "start": "277740",
    "end": "284160"
  },
  {
    "text": "up with the most convoluted way to render angle brackets for a browser and most importantly we do microservices",
    "start": "284160",
    "end": "291180"
  },
  {
    "text": "because we don't want to be seen to be doing a monolith right monoliths are bad if you if you start a project and say",
    "start": "291180",
    "end": "296639"
  },
  {
    "text": "well I'm going to start to the model of architecture uh you get you get looks of Despair from your colleagues every new project is",
    "start": "296639",
    "end": "303419"
  },
  {
    "text": "it's going to be a microservice architecture right monoliths aren't bad though they're good",
    "start": "303419",
    "end": "309360"
  },
  {
    "text": "this picture on the the left-hand side left hand side is of the kailash temple",
    "start": "309360",
    "end": "314880"
  },
  {
    "text": "in India it's carved from a single Rock making this the largest man-made monolith in",
    "start": "314880",
    "end": "321000"
  },
  {
    "text": "the world the Erp system you've been working on for the last seven years doesn't come close",
    "start": "321000",
    "end": "326400"
  },
  {
    "text": "he has a different picture of it with a slightly better angle you can see there's people on the probably in the way there there's people on the side on",
    "start": "326400",
    "end": "333300"
  },
  {
    "text": "the left to give you an idea of the scale of this this is huge this is a massive undertaking they carved this from hand",
    "start": "333300",
    "end": "340020"
  },
  {
    "text": "well I mean not from hand they didn't claw the rock where they had tools but they weren't electrical pneumatic tools",
    "start": "340020",
    "end": "347639"
  },
  {
    "text": "this must have taken an immense amount of planning dedication work effort this is this has been a labor of love for",
    "start": "347639",
    "end": "354120"
  },
  {
    "text": "someone and a whole bunch of slaves probably but it's beautiful",
    "start": "354120",
    "end": "360918"
  },
  {
    "text": "monoliths can be beautiful don't don't think you have to do microservices because the alternative is model if it's",
    "start": "361259",
    "end": "367080"
  },
  {
    "text": "there's a there's a spectrum and a whole lot of options in between as a side note could you imagine what",
    "start": "367080",
    "end": "372840"
  },
  {
    "text": "this would have looked like if they built this using scrum",
    "start": "372840",
    "end": "376759"
  },
  {
    "start": "377000",
    "end": "728000"
  },
  {
    "text": "the talk I'm going to assume that we have a system and we're now trying to transition the system into microservices and make it as bad as possible and we're",
    "start": "378419",
    "end": "385500"
  },
  {
    "text": "going to see a few techniques that we can do with that so we've got a monolith it's a monolith so it must be bad so it's a tire fire",
    "start": "385500",
    "end": "391500"
  },
  {
    "text": "over monolith and we're going to transition this to microservices and a typical technique and it's come up a few times at the",
    "start": "391500",
    "end": "397860"
  },
  {
    "text": "conference already is to apply with something known as the Strangler fig pattern where you take a bit of functionality in your system say the",
    "start": "397860",
    "end": "404580"
  },
  {
    "text": "charge credit card method you isolate that from the rest of your code and then you move that off to a service and then",
    "start": "404580",
    "end": "410280"
  },
  {
    "text": "your main monolith can call the the new service instead of having to have that call in process",
    "start": "410280",
    "end": "416520"
  },
  {
    "text": "yay we've micro serviced what have we actually done though to our system so if we apply this everywhere",
    "start": "416520",
    "end": "422940"
  },
  {
    "text": "what is the result well let's take a look at the throughput of the system and how the throughput changes as the load on the system",
    "start": "422940",
    "end": "429240"
  },
  {
    "text": "changes we'll start at the monolith so as the as the load of the monolith increases the",
    "start": "429240",
    "end": "436440"
  },
  {
    "text": "throughput will increase as well at the start it'll increase fairly linearly and by that I don't mean one to one but",
    "start": "436440",
    "end": "442860"
  },
  {
    "text": "there will be some like K Factor where as the load increases by one that the throughput will increase by Point",
    "start": "442860",
    "end": "448380"
  },
  {
    "text": "somewhere between zero and one hopefully not zero and as you as the load increases even",
    "start": "448380",
    "end": "455280"
  },
  {
    "text": "more that throughput should increase a little more as well but the rate of change of increase will decrease a little bit because the as the system is",
    "start": "455280",
    "end": "461699"
  },
  {
    "text": "doing more things concurrently there's more handing over to different threads there's more exchanges you're waiting",
    "start": "461699",
    "end": "466800"
  },
  {
    "text": "for resources so it will start to taper off a bit and eventually it's going to get to a",
    "start": "466800",
    "end": "472800"
  },
  {
    "text": "point where the throughput is going to drop off completely and you might ask yourself well why what",
    "start": "472800",
    "end": "478139"
  },
  {
    "text": "is the behavior that's causing this to happen and this has got to do with the way that.net does memory management so",
    "start": "478139",
    "end": "484680"
  },
  {
    "text": "in.net there's three types of garbage collection events generation zero generation one and generation two technically there's also generation",
    "start": "484680",
    "end": "491520"
  },
  {
    "text": "three or large object Heap but for the purposes of this discussion we can fold that into generation two",
    "start": "491520",
    "end": "497160"
  },
  {
    "text": "and the way that garbage collection works is that when you're trying to allocate a memory in.net if there's",
    "start": "497160",
    "end": "502199"
  },
  {
    "text": "certain criteria met.net goes and says okay I need to free up some memory let me go and do a gen zero garbage",
    "start": "502199",
    "end": "507300"
  },
  {
    "text": "collection event and a gen zero garbage collection event is intended to clear up resources that",
    "start": "507300",
    "end": "512700"
  },
  {
    "text": "have been allocated and freed fairly quickly so VAR X is a function VAR x",
    "start": "512700",
    "end": "517979"
  },
  {
    "text": "equals ABC and then the function finishes the garbage collector can retrieve that memory and return it back",
    "start": "517979",
    "end": "523560"
  },
  {
    "text": "to the pool but if the garbage collector tries to retrieve or tries to free up a bit of memory in gen 0 and it can't it promotes",
    "start": "523560",
    "end": "531120"
  },
  {
    "text": "that to generation one so generation one is intended to be for longer lived variables a longer lived memory perhaps",
    "start": "531120",
    "end": "537480"
  },
  {
    "text": "it's a it's a it's a variable on a class and the class sits around for a bit longer and does a few other things",
    "start": "537480",
    "end": "544200"
  },
  {
    "text": "if a generation one gobs collection event runs and it can't clear up memory because something still reference in",
    "start": "544200",
    "end": "549420"
  },
  {
    "text": "that object it promotes it to generation two and that's where the problem happens",
    "start": "549420",
    "end": "555000"
  },
  {
    "text": "so generation 2 in.net is a stop the world event where as a generation 2",
    "start": "555000",
    "end": "560399"
  },
  {
    "text": "garbage collection event starts all user threads are paused in your app domain which means only the or except for the",
    "start": "560399",
    "end": "567060"
  },
  {
    "text": "thread doing the garbage collection so all of your your other threads will pause and many years ago stack Overflow",
    "start": "567060",
    "end": "573300"
  },
  {
    "text": "experienced this and Mark grave I wrote a blog post explaining why this happened and what they were trying to do to work around it these three big spikes over",
    "start": "573300",
    "end": "579839"
  },
  {
    "text": "here are increases in response time because the Gen 2 garbage collection event was pausing all user threads in",
    "start": "579839",
    "end": "585959"
  },
  {
    "text": "the application so the performance at these points was very very poor",
    "start": "585959",
    "end": "591360"
  },
  {
    "text": "it's gotten a lot better since then after this came out we got the concurrent garbage collection",
    "start": "591360",
    "end": "596820"
  },
  {
    "text": "configuration and now that's been replaced with the background garbage collection configuration which doesn't",
    "start": "596820",
    "end": "603600"
  },
  {
    "text": "uh at interleave some of the garbage collection for Gen 2 and it more",
    "start": "603600",
    "end": "608700"
  },
  {
    "text": "proactively gets uh gen 1 and gen zero garbage collection done so Gen 2 garbage collection now pauses and then resumes a",
    "start": "608700",
    "end": "615660"
  },
  {
    "text": "little bit and then the garbage collection carries on in a different thread a little bit later so the pause in this sort of split out it's still a",
    "start": "615660",
    "end": "621420"
  },
  {
    "text": "horrible experience when you're dealing with performance",
    "start": "621420",
    "end": "625639"
  },
  {
    "text": "the service it does load as the load increases the throughput will increase the throughput will also",
    "start": "629399",
    "end": "636000"
  },
  {
    "text": "increase at a fairly linear rate but it will increase lower than the monolith because you've introduced a network hop",
    "start": "636000",
    "end": "642180"
  },
  {
    "text": "network operations are expensive which means that these threads that are doing the the processing are probably",
    "start": "642180",
    "end": "648720"
  },
  {
    "text": "going to hang around a little bit longer so there's going to be more contention for resources which means that flattening off is going to come sooner",
    "start": "648720",
    "end": "654959"
  },
  {
    "text": "and because they're hanging around even longer there's more chance that they're going to be promoted to generation 2",
    "start": "654959",
    "end": "660360"
  },
  {
    "text": "which means that drop-off is going to come even sooner so by simply Distributing our system we",
    "start": "660360",
    "end": "666420"
  },
  {
    "text": "could have potentially made the overall throughput of the system worse the first rule of distributed computing is don't",
    "start": "666420",
    "end": "672000"
  },
  {
    "text": "distribute your computing but we've gone ahead and done this and",
    "start": "672000",
    "end": "677940"
  },
  {
    "text": "we've potentially made our the throughput of our system worse this isn't always true for instance if the charge credit card method was on the hot",
    "start": "677940",
    "end": "684240"
  },
  {
    "text": "path and we isolated this and moved this off we could then scale that Hardware up independently but we're not going to do",
    "start": "684240",
    "end": "690600"
  },
  {
    "text": "that we're just going to microservice the way we learned at the conference so we're going to do everything on one machine anyway",
    "start": "690600",
    "end": "697079"
  },
  {
    "text": "so the first Technique we can use to mess your systems up is to put an HTTP call in front of everything",
    "start": "697079",
    "end": "703140"
  },
  {
    "text": "who you are remembers when dotnet 3 came out with WCF right there there were",
    "start": "703140",
    "end": "708180"
  },
  {
    "text": "those people going around everything should be a WCF class operation contract at all",
    "start": "708180",
    "end": "714380"
  },
  {
    "text": "it's a great idea that was a that was a very weird time there was what wcfwpf",
    "start": "714660",
    "end": "719940"
  },
  {
    "text": "wouldn't work for a foundation in Cloud spaces and quad spaces just sort of disappeared very quickly on in the in",
    "start": "719940",
    "end": "725579"
  },
  {
    "text": "the evolution of net there Okay so we've taken our monolith and we've strangled a figged it until it's",
    "start": "725579",
    "end": "732060"
  },
  {
    "start": "728000",
    "end": "775000"
  },
  {
    "text": "no longer monolith and now it's distributed we still have the same coupling between the components we still",
    "start": "732060",
    "end": "737820"
  },
  {
    "text": "have all the same problems we had before we've now just made the performance lower so it's still a monolith that's just",
    "start": "737820",
    "end": "744720"
  },
  {
    "text": "distributed um and it that means instead of a problem that we have with our monolith",
    "start": "744720",
    "end": "750180"
  },
  {
    "text": "we're working with our models we've now got to also introduce Network topology coupling to that so that's another layer",
    "start": "750180",
    "end": "756060"
  },
  {
    "text": "of coupling that we've put in there so it's not just the tire fire it's a burning field of tires",
    "start": "756060",
    "end": "762899"
  },
  {
    "text": "this is a good first step um but this is difficult for us to work on",
    "start": "762899",
    "end": "768540"
  },
  {
    "text": "this isn't a pleasant experience and we don't want to make our lives worse we just want to make the system worse right we want to enjoy our job",
    "start": "768540",
    "end": "775380"
  },
  {
    "start": "775000",
    "end": "1040000"
  },
  {
    "text": "so we go to business and we say um I bet you I can rewrite the system in six months",
    "start": "775380",
    "end": "781440"
  },
  {
    "text": "did anybody find themselves thinking that I've done it many times at that particular I've even tried a few times",
    "start": "781440",
    "end": "788100"
  },
  {
    "text": "you failed miserably the thing with big bang rewrites is that they don't work",
    "start": "788100",
    "end": "793320"
  },
  {
    "text": "little asterisks in the air they work in two specific scenarios which I'll get to later",
    "start": "793320",
    "end": "798360"
  },
  {
    "text": "but why don't they work why do big bang rewrites of large complex systems fail and that's got to do with how software",
    "start": "798360",
    "end": "804480"
  },
  {
    "text": "works for these large systems so as you're developing the system we'll have another graph here we're on the y-axis",
    "start": "804480",
    "end": "810180"
  },
  {
    "text": "we've got the functionality that's available in the system the amount of features that we've got and on the",
    "start": "810180",
    "end": "815220"
  },
  {
    "text": "x-axis we've got the time that we spent developing the system and at the start of the system as you start developing",
    "start": "815220",
    "end": "820380"
  },
  {
    "text": "it's fairly easy to add new functionality because you don't have competing components with each other",
    "start": "820380",
    "end": "825540"
  },
  {
    "text": "you're still getting to know all the business rules that you have to work through you know it's a nice time to",
    "start": "825540",
    "end": "830820"
  },
  {
    "text": "work this is the green fields area we all love greenfields projects right as we carry on working though the rate",
    "start": "830820",
    "end": "837420"
  },
  {
    "text": "at which we can add new features decreases because we have to add features where we didn't really design",
    "start": "837420",
    "end": "842700"
  },
  {
    "text": "the architecture to match that feature set at the beginning so it's a little bit slower to add the features we have",
    "start": "842700",
    "end": "847860"
  },
  {
    "text": "to change a few things and propagate and there's competing business rules that we have to worry about",
    "start": "847860",
    "end": "853860"
  },
  {
    "text": "but that's fine and then eventually it gets to a point where adding any better functionality takes a lot of time and",
    "start": "853860",
    "end": "859620"
  },
  {
    "text": "effort potentially even just changing the name of a field on a form could be a full Sprint process to do sometimes",
    "start": "859620",
    "end": "867480"
  },
  {
    "text": "so let's assume that at this point here this is where we went to business after we've done our distributed monitors and",
    "start": "867480",
    "end": "872579"
  },
  {
    "text": "we said please can we have six months to do a rewrite after we've done the rewrite everything will be wonderful the",
    "start": "872579",
    "end": "878279"
  },
  {
    "text": "UI will be modern it'll the performance will be better and we'll be able to add features before you even know what to",
    "start": "878279",
    "end": "883680"
  },
  {
    "text": "ask for it'll be so good and businesses well okay six months",
    "start": "883680",
    "end": "891060"
  },
  {
    "text": "I'll give you six months to do this and you're ecstatic because now you get to do new work again that's great",
    "start": "891060",
    "end": "897060"
  },
  {
    "text": "so now instead of working on the old system for those six months we work in the new system so we're not adding new functionality over this period so this",
    "start": "897060",
    "end": "903480"
  },
  {
    "text": "little section here that we would have added a little bit of value to our users no longer exists that disappears and",
    "start": "903480",
    "end": "909779"
  },
  {
    "text": "instead we start working on the rewrite of our system and at the start of our system in the rewrite it's really quick to add",
    "start": "909779",
    "end": "915600"
  },
  {
    "text": "features probably even quicker than when the first system started because now we've got better ideas we've been",
    "start": "915600",
    "end": "921720"
  },
  {
    "text": "thinking about how we would improve it for a few months before we did the rewrite we know more about the business domain things are looking great here",
    "start": "921720",
    "end": "929880"
  },
  {
    "text": "but it's not going to take six months how do I know it's not going to take six months well that's because I'm a",
    "start": "929880",
    "end": "935519"
  },
  {
    "text": "developer and developers are really really bad at estimating in fact instead of doing coding",
    "start": "935519",
    "end": "941459"
  },
  {
    "text": "assessments if you try and hire someone they should do estimation assessments and anyone who's really bad at",
    "start": "941459",
    "end": "946800"
  },
  {
    "text": "estimating must be an amazing developer if anyone is really good at developing is probably developing really good at",
    "start": "946800",
    "end": "953639"
  },
  {
    "text": "estimating it's probably a project manager and shouldn't be developing I myself and the world's okay is the estimator",
    "start": "953639",
    "end": "960920"
  },
  {
    "text": "but even if you could estimate correctly you're still not going to take six months even if you your estimation for",
    "start": "961260",
    "end": "966959"
  },
  {
    "text": "what you think the system is it's going to take six months is 100 accurate it's still not going to be correct",
    "start": "966959",
    "end": "973139"
  },
  {
    "text": "because developers are also a bit like that dog from up where you get distracted by a squirrel",
    "start": "973139",
    "end": "978600"
  },
  {
    "text": "and you run off the systems that we work on it's very very unlikely that any large system that we work on will be 100",
    "start": "978600",
    "end": "985639"
  },
  {
    "text": "documented even if it is there's even less chance that we'll have all of that knowledge sitting in our head while",
    "start": "985639",
    "end": "991320"
  },
  {
    "text": "we're trying to thumb suck an estimate it's going to be very difficult to be",
    "start": "991320",
    "end": "996899"
  },
  {
    "text": "able to get those guesses right so we carry on working we do our rewrite",
    "start": "996899",
    "end": "1002120"
  },
  {
    "text": "six months comes and goes and it's now nine months and business comes to us and says listen",
    "start": "1002120",
    "end": "1007399"
  },
  {
    "text": "we we can't go on like this we we need new features we've got a compliance deadline we have to meet gdpr 2.0 or",
    "start": "1007399",
    "end": "1014360"
  },
  {
    "text": "something the return um so you start panicking and your team",
    "start": "1014360",
    "end": "1020240"
  },
  {
    "text": "starts working weekends working nights you order pizzas every evening for the team you've got a masseuse coming in to",
    "start": "1020240",
    "end": "1026418"
  },
  {
    "text": "to massage the team to relieve stress and tension and you're you're just driving a role into the ground",
    "start": "1026419",
    "end": "1032480"
  },
  {
    "text": "and eventually you're still not going to be done and business is going to come to you at a point and say we can't do this",
    "start": "1032480",
    "end": "1038900"
  },
  {
    "text": "we you've got to cut this rewrite and you panic a bit you panic because now you've put a lot of effort into the new system you love it you're emotionally",
    "start": "1038900",
    "end": "1045260"
  },
  {
    "start": "1040000",
    "end": "1148000"
  },
  {
    "text": "attached to this new design that you've got so you compromise and you say Okay business I'll tell you what got an idea",
    "start": "1045260",
    "end": "1052280"
  },
  {
    "text": "we've still got the old system that's running in production right so we'll have that and then we'll also deploy the",
    "start": "1052280",
    "end": "1058520"
  },
  {
    "text": "parts of the functionality that we've currently written or that we've Rewritten and then the users can use the",
    "start": "1058520",
    "end": "1063559"
  },
  {
    "text": "new system for the stuff we've Rewritten and then for the ones we haven't done yet they can use the old system right",
    "start": "1063559",
    "end": "1068660"
  },
  {
    "text": "but now we need to keep them up to date so okay no problem we'll put an integration layer between the two and",
    "start": "1068660",
    "end": "1075020"
  },
  {
    "text": "and then then everything will be fine except we know that the integration layer is going to suck because the",
    "start": "1075020",
    "end": "1080480"
  },
  {
    "text": "original system sucked and the longer that this integration layer sits in production that we have to",
    "start": "1080480",
    "end": "1085820"
  },
  {
    "text": "maintain and fix the more chance there is of some of the bad elements from the old system bleeding over into the new",
    "start": "1085820",
    "end": "1091640"
  },
  {
    "text": "system because it is going to be time pressure you're going to say oh I need to get this field into a report I'm I'm",
    "start": "1091640",
    "end": "1097400"
  },
  {
    "text": "just going to copy it in in the same way that it is in the whole system it happens",
    "start": "1097400",
    "end": "1102799"
  },
  {
    "text": "but anyway we're going to do this so we're going to have three systems that we have to maintain but at least now we can add new functionality for our users",
    "start": "1102799",
    "end": "1109460"
  },
  {
    "text": "so we can meet those compliance deadlines or whatever once we've added that functionality we can go back and carry on with the",
    "start": "1109460",
    "end": "1115640"
  },
  {
    "text": "migration right I'm sure business will give us time then they they will right please someone",
    "start": "1115640",
    "end": "1122360"
  },
  {
    "text": "they won't well they might give you a little bit but you'll have to you'll have to scramble for it and that original system is going to live much",
    "start": "1122360",
    "end": "1128600"
  },
  {
    "text": "longer than you ever thought possible it's a bit like trying to build an airplane while you're flying it I asked",
    "start": "1128600",
    "end": "1135860"
  },
  {
    "text": "a stable diffusion to generate an image of an airplane flying while you're building it and I've got to say this is",
    "start": "1135860",
    "end": "1141559"
  },
  {
    "text": "also a really good description of microservices it's terrifying",
    "start": "1141559",
    "end": "1147640"
  },
  {
    "start": "1148000",
    "end": "1225000"
  },
  {
    "text": "so now that we after we've done our distribute distribution of everything the second thing that we can do to make",
    "start": "1148039",
    "end": "1153380"
  },
  {
    "text": "our system worse is to attempt to do a big bang rewrite I said there were two cases where Big",
    "start": "1153380",
    "end": "1159080"
  },
  {
    "text": "Bang rewrite works the first is if the system is actually small enough to be Rewritten in a reasonable time frame",
    "start": "1159080",
    "end": "1165919"
  },
  {
    "text": "this is tricky though because it developers sucker estimating so how do you know that it's small enough",
    "start": "1165919",
    "end": "1172039"
  },
  {
    "text": "maybe it is maybe it isn't I don't know it's unlikely it's also you",
    "start": "1172039",
    "end": "1177440"
  },
  {
    "text": "kind of have to take into the effect in into a consideration that working on an old system that you want to rewrite is",
    "start": "1177440",
    "end": "1183559"
  },
  {
    "text": "is unpleasant it's emotional so it's hard for you to be objective about how long it will take to actually do a",
    "start": "1183559",
    "end": "1189500"
  },
  {
    "text": "rewrite so the first time it works is if the system is small the second time that all that it will",
    "start": "1189500",
    "end": "1196039"
  },
  {
    "text": "work is for your CV so you start the rewrite and you do the rewrite in the most amazing technology",
    "start": "1196039",
    "end": "1201860"
  },
  {
    "text": "possible and then a month after you've started working on it you go for interviews um and leave",
    "start": "1201860",
    "end": "1208940"
  },
  {
    "text": "it works for you not for the project but that's fine so this is what we've got now we've got",
    "start": "1208940",
    "end": "1214820"
  },
  {
    "text": "three systems we're maintaining and the longer that these systems are in production the longer the more of the",
    "start": "1214820",
    "end": "1220100"
  },
  {
    "text": "suckiness we've got from the first system bleeding over into our new system as well let's make it worse",
    "start": "1220100",
    "end": "1226400"
  },
  {
    "start": "1225000",
    "end": "1417000"
  },
  {
    "text": "we don't want to be malicious about it though so remember this situation where we had the dropper from performance",
    "start": "1226400",
    "end": "1232100"
  },
  {
    "text": "because Long Live calls waiting for responses we don't want to do that in the new system right we we want to",
    "start": "1232100",
    "end": "1237799"
  },
  {
    "text": "accidentally make bad systems not purposefully make them so instead of service a call in the",
    "start": "1237799",
    "end": "1243980"
  },
  {
    "text": "credit card service because it's going to wait around for response and the same problem is going to happen what we'll do is we'll introduce a queue and then",
    "start": "1243980",
    "end": "1251299"
  },
  {
    "text": "server say you can put a message on the Queue to say charge this person's credit card and once that message is on the",
    "start": "1251299",
    "end": "1256400"
  },
  {
    "text": "Queue service a can end its call and terminate and then we're done right that means that service a is less likely",
    "start": "1256400",
    "end": "1263539"
  },
  {
    "text": "to live long enough to get promoted to Gen 2 so we've solved that problem and everything's fine",
    "start": "1263539",
    "end": "1269179"
  },
  {
    "text": "we then go to our credit card service which takes a message of the queue call Swift or whatever payment provider we",
    "start": "1269179",
    "end": "1275780"
  },
  {
    "text": "want to use and everything's fine okay cool cool except now our message",
    "start": "1275780",
    "end": "1281240"
  },
  {
    "text": "gets the front of the queue and this message says charge Williams credit card 50 pounds cool as we do that call though something",
    "start": "1281240",
    "end": "1288559"
  },
  {
    "text": "goes wrong the network fails somewhere along the line uh Swift fails for whatever reason something happens",
    "start": "1288559",
    "end": "1295340"
  },
  {
    "text": "okay but we haven't actually charged William's credit card yet but that's fine the message is gone",
    "start": "1295340",
    "end": "1300620"
  },
  {
    "text": "well that's no good we've lost money for our customers right that's a financial operation that we don't want to lose for",
    "start": "1300620",
    "end": "1307039"
  },
  {
    "text": "them so we certainly think okay um what we'll do is when we take the message off the queue",
    "start": "1307039",
    "end": "1313520"
  },
  {
    "text": "we'll we'll process it in a loop and in that Loop we'll put a try catch so if something goes wrong we'll just keep",
    "start": "1313520",
    "end": "1319580"
  },
  {
    "text": "processing it and that'll be fine and then we call Swift and then something goes wrong and maybe",
    "start": "1319580",
    "end": "1324740"
  },
  {
    "text": "something's wrong on Swift side and they have to reboot some servers internally whatever it is and they come to us and",
    "start": "1324740",
    "end": "1330020"
  },
  {
    "text": "say you you're ddosing those guys uh whenever something goes wrong you're just calling us non-stop you need to",
    "start": "1330020",
    "end": "1335960"
  },
  {
    "text": "back off so you go back and you introduce some sort of timer mechanism and you say well okay this message each message can only",
    "start": "1335960",
    "end": "1342620"
  },
  {
    "text": "be processed five times every minute yes perfect and then that goes into production and and Swift is at least",
    "start": "1342620",
    "end": "1349039"
  },
  {
    "text": "happy with you there but then you get someone like William who puts his credit card details in incorrectly on purpose because he",
    "start": "1349039",
    "end": "1355039"
  },
  {
    "text": "doesn't want to pay 50 pounds and then the message will never actually get processed because that's an invalid credit card number",
    "start": "1355039",
    "end": "1361280"
  },
  {
    "text": "or maybe there's a bug in the code Upstream that generated that message and that failed but now that message is",
    "start": "1361280",
    "end": "1367760"
  },
  {
    "text": "sitting at the front of the queue and everything behind it isn't getting processed and you're like well",
    "start": "1367760",
    "end": "1373340"
  },
  {
    "text": "okay I know what we'll do we'll introduce a dead letter q and then we'll take that message move it to the Daily",
    "start": "1373340",
    "end": "1379039"
  },
  {
    "text": "queue oh don't worry we'll also make software to manage the data queue and this is a really cool bit of architectural kit this is fun to work",
    "start": "1379039",
    "end": "1385640"
  },
  {
    "text": "with and you're you're living for this this framework that you're making but it is a framework that you're making",
    "start": "1385640",
    "end": "1391820"
  },
  {
    "text": "and in this case this type of problem is solved by poly and service Transit Rebus",
    "start": "1391820",
    "end": "1396860"
  },
  {
    "text": "come on there's there's many options in the.net space that will handle this problem for you so but instead of doing that you're",
    "start": "1396860",
    "end": "1403700"
  },
  {
    "text": "getting a lot of joy out of working on this framework you might even open source it one day",
    "start": "1403700",
    "end": "1408919"
  },
  {
    "text": "that moment when you get your first star and your open source GitHub project it's oh",
    "start": "1408919",
    "end": "1415299"
  },
  {
    "text": "so the next technique we're going to use is we're going to make sure that we suffer heavily from not invented here",
    "start": "1416799",
    "end": "1422120"
  },
  {
    "start": "1417000",
    "end": "1471000"
  },
  {
    "text": "syndrome and every framework that we come across we say no we don't want to use that because it doesn't 100 percent",
    "start": "1422120",
    "end": "1427760"
  },
  {
    "text": "meet our requirements we're going to make our own one and that's how we ended up with so many JavaScript front-end",
    "start": "1427760",
    "end": "1432919"
  },
  {
    "text": "Frameworks a few years ago but we're going to keep doing this because honestly when you've got a",
    "start": "1432919",
    "end": "1438980"
  },
  {
    "text": "system like this some of the only joy you can get is working on cool engineering problems and you're not going to get that from business problems",
    "start": "1438980",
    "end": "1445159"
  },
  {
    "text": "usually so we've got our monolith we've got our new system that we're busy maintaining we've got our integration",
    "start": "1445159",
    "end": "1451640"
  },
  {
    "text": "layer between the two and then we've got this really cool framework that we're working on at least one try for many",
    "start": "1451640",
    "end": "1457940"
  },
  {
    "text": "I highly recommend it and at this point we're basically not delivering any business functionality at",
    "start": "1457940",
    "end": "1463880"
  },
  {
    "text": "all anyway it's we're having a lot of fun on our custom stuff but not really doing much for the business",
    "start": "1463880",
    "end": "1470840"
  },
  {
    "text": "so they're going to come to us and say listen we we need the search screen that you've been promising us for months please can you give us a search screen",
    "start": "1470840",
    "end": "1477140"
  },
  {
    "start": "1471000",
    "end": "1711000"
  },
  {
    "text": "and you think fine we'll do it we've got a product service",
    "start": "1477140",
    "end": "1483100"
  },
  {
    "text": "and maybe they're an e-commerce site they're uh they're Amazon no rainforest.com so they're rainforest.com",
    "start": "1483100",
    "end": "1491500"
  },
  {
    "text": "and you can search for product or that you can purchase project Products off of rainforest.com and you've designed your",
    "start": "1491500",
    "end": "1498440"
  },
  {
    "text": "product service to meet to match this requirement so you've got for instance the name of a product you've got the price of the product there's images for",
    "start": "1498440",
    "end": "1505100"
  },
  {
    "text": "it whether it's in stock somewhere description uh the rating of the product",
    "start": "1505100",
    "end": "1510200"
  },
  {
    "text": "you know fairly standard producty things we've all seen these types of things before and you come up with a class and",
    "start": "1510200",
    "end": "1516740"
  },
  {
    "text": "a data structure that sort of represents this which looks a bit like this all those fields except it's got an ID yay",
    "start": "1516740",
    "end": "1523700"
  },
  {
    "text": "computer science and based off of this you can go and implement the customer's search screen",
    "start": "1523700",
    "end": "1528860"
  },
  {
    "text": "that they wanted so you can in your product service have a little search API pass in a text string and we'll we'll",
    "start": "1528860",
    "end": "1534620"
  },
  {
    "text": "search the name in the description and split back all of the products that match and you pat yourself on the back and you",
    "start": "1534620",
    "end": "1540080"
  },
  {
    "text": "go back to work on your framework now the business is satisfied but then they come to you and they say I've got an idea",
    "start": "1540080",
    "end": "1546740"
  },
  {
    "text": "the correct response when business comes to you and says I've got an idea is for you to excuse yourself in the room say",
    "start": "1546740",
    "end": "1551840"
  },
  {
    "text": "you want to get a coffee or something quickly leave the building get in your car and go home and pretend it never happened",
    "start": "1551840",
    "end": "1558380"
  },
  {
    "text": "but you don't do that so business says I've got an idea we have a theory that especially on",
    "start": "1558380",
    "end": "1564260"
  },
  {
    "text": "consumable items if someone has ordered a product before there's a higher likelihood that they'll order the same",
    "start": "1564260",
    "end": "1569419"
  },
  {
    "text": "product again so can we maybe have a little field that shows hey you've ordered this before",
    "start": "1569419",
    "end": "1575120"
  },
  {
    "text": "on the search screen and you you pause what you're doing on your cool framework and you you swing",
    "start": "1575120",
    "end": "1580880"
  },
  {
    "text": "over in your chair and you you kind of just look incredulously at this person has asked you the most obscene question",
    "start": "1580880",
    "end": "1586880"
  },
  {
    "text": "ever because the order status is not in the product service that's in the order service that's a very different thing",
    "start": "1586880",
    "end": "1593659"
  },
  {
    "text": "but you you want to get back to working on the cool stuff as quickly as possible so you make them promise that this is",
    "start": "1593659",
    "end": "1598760"
  },
  {
    "text": "the only time they're going to do this even pinky promise with him and they agree that pinky promise and",
    "start": "1598760",
    "end": "1605480"
  },
  {
    "text": "and promised to name their firstborn child after you as well",
    "start": "1605480",
    "end": "1610520"
  },
  {
    "text": "so you said okay fine so the product service once we get the request we'll also then call off into the order service just this once and and we'll go",
    "start": "1610520",
    "end": "1618140"
  },
  {
    "text": "back to doing the cool stuff again I mean this isn't this isn't pretty you've made your search screen slow",
    "start": "1618140",
    "end": "1623480"
  },
  {
    "text": "because now your product screen product service has to First query its database then query another service then put all",
    "start": "1623480",
    "end": "1629240"
  },
  {
    "text": "the stuff together but it's just once it's fine right then business comes to you and says hey I've",
    "start": "1629240",
    "end": "1634880"
  },
  {
    "text": "got an idea remember the correct response leave the room leave the boat and get in your car go home and denial denial",
    "start": "1634880",
    "end": "1641480"
  },
  {
    "text": "denial we want to reward our gold customers and give them a 10 discount so special",
    "start": "1641480",
    "end": "1648620"
  },
  {
    "text": "pricing per customer please and I mean at this point you may as well",
    "start": "1648620",
    "end": "1654080"
  },
  {
    "text": "give up because they're going to come and ask for every single service in your system anyway so the customer status",
    "start": "1654080",
    "end": "1659240"
  },
  {
    "text": "doesn't sit in the order service it doesn't sit in the product service it sits in the customer service so we're",
    "start": "1659240",
    "end": "1665000"
  },
  {
    "text": "just going to start chaining all of these calls together and eventually we're going to end up with dedicated",
    "start": "1665000",
    "end": "1670039"
  },
  {
    "text": "teams that can manage our API gateways has anybody worked with in an environment where there's a dedicated",
    "start": "1670039",
    "end": "1675799"
  },
  {
    "text": "data Power Team and only they can make changes to your API Gateway",
    "start": "1675799",
    "end": "1681740"
  },
  {
    "text": "it happens these API gateways can solve these problems for you but they can become",
    "start": "1681740",
    "end": "1687380"
  },
  {
    "text": "another not can they are another layer of coupling that you introducing into your system a new sort of Technology you",
    "start": "1687380",
    "end": "1693860"
  },
  {
    "text": "have to worry about has anyone seen this video if you haven't do it it's called",
    "start": "1693860",
    "end": "1698960"
  },
  {
    "text": "microservices on YouTube by a channel called crisam it is the best description of this type of thing ever the the man's",
    "start": "1698960",
    "end": "1705860"
  },
  {
    "text": "face it's like a mirror image of me in business meeting sometimes",
    "start": "1705860",
    "end": "1711200"
  },
  {
    "start": "1711000",
    "end": "1829000"
  },
  {
    "text": "why did we end up like this though I mean we've got a product service it's nice it's concrete it's very neatly",
    "start": "1711200",
    "end": "1717320"
  },
  {
    "text": "encapsulated we've got an order service a customer service look at these classes these are beautiful",
    "start": "1717320",
    "end": "1722720"
  },
  {
    "text": "why is this not working for us and the reason is that people don't",
    "start": "1722720",
    "end": "1728360"
  },
  {
    "text": "interact with products on your servers they don't they don't productize things they don't product key",
    "start": "1728360",
    "end": "1734120"
  },
  {
    "text": "they search for things they perform operations in your system they don't perform things even if you're",
    "start": "1734120",
    "end": "1740299"
  },
  {
    "text": "even if your your user is busy updating your product catalog they're still not",
    "start": "1740299",
    "end": "1745460"
  },
  {
    "text": "producting they are updating a product in your catalog and having having the idea that a",
    "start": "1745460",
    "end": "1752480"
  },
  {
    "text": "product service a thing service is going to neatly encapsulate and not bleed over into other boundaries is a bit weird",
    "start": "1752480",
    "end": "1758659"
  },
  {
    "text": "it's like when you do a search on a screen it's like a puzzle that you're building you take pieces from different places",
    "start": "1758659",
    "end": "1764960"
  },
  {
    "text": "and you put them together to make the whole puzzle although I've actually just realized the",
    "start": "1764960",
    "end": "1770299"
  },
  {
    "text": "person is a really bad metaphor for this because it's always got the same pieces in the same places but think of something like that right",
    "start": "1770299",
    "end": "1777260"
  },
  {
    "text": "you you you're taking information from different places and you you're putting it together in to build one experience",
    "start": "1777260",
    "end": "1783440"
  },
  {
    "text": "for someone the thing is people interact with your system by doing things not by objecting",
    "start": "1783440",
    "end": "1789799"
  },
  {
    "text": "so the next technique that we can use is when we Define our service boundaries we can make sure that they are designed",
    "start": "1789799",
    "end": "1794840"
  },
  {
    "text": "based off of nouns and not verbs anybody working in insurance this is a big one that I see very often in",
    "start": "1794840",
    "end": "1800600"
  },
  {
    "text": "Insurance space you don't have to put your hand up if if you are doing this but if you've got a claimed service or",
    "start": "1800600",
    "end": "1806840"
  },
  {
    "text": "policy service you know usually usually that's a bit of a red flag and something",
    "start": "1806840",
    "end": "1812419"
  },
  {
    "text": "to look at people well I suppose claims might work sometimes because you do submit a claim but people don't policy",
    "start": "1812419",
    "end": "1819919"
  },
  {
    "text": "they they do a quotation they go through the order process their underwriting is a process their",
    "start": "1819919",
    "end": "1826520"
  },
  {
    "text": "own policy Okay so we've got our three systems our",
    "start": "1826520",
    "end": "1832340"
  },
  {
    "start": "1829000",
    "end": "2079000"
  },
  {
    "text": "monolith our integration layer our new system we've got a cool framework that we're working on ezel and we've made",
    "start": "1832340",
    "end": "1837980"
  },
  {
    "text": "sure that when we defined our service boundaries they're all based on nouns so that we can maximize the chance of having cross-communication service calls",
    "start": "1837980",
    "end": "1844580"
  },
  {
    "text": "between everything building another great monolith on that side",
    "start": "1844580",
    "end": "1849880"
  },
  {
    "text": "let's see if we can make this even worse by trying to make it better right so we'll go back to that search screen",
    "start": "1850159",
    "end": "1856700"
  },
  {
    "text": "well we don't want this right this is bad let's see if we can improve it what we'll do is we'll introduce a new",
    "start": "1856700",
    "end": "1863059"
  },
  {
    "text": "service a search service to search as a verb we're doing something right yay we're learning",
    "start": "1863059",
    "end": "1868760"
  },
  {
    "text": "the search service will be a dedicated service only responsible for searching",
    "start": "1868760",
    "end": "1873860"
  },
  {
    "text": "so it won't have a product class it will have a search product class which has a couple new fields on it and if we if we",
    "start": "1873860",
    "end": "1879799"
  },
  {
    "text": "need to change the business rules in the search Cloud search service we can update that right sounds reasonable how do we get the data",
    "start": "1879799",
    "end": "1887360"
  },
  {
    "text": "into the search service well that's easy we'll Pub sub it right",
    "start": "1887360",
    "end": "1892640"
  },
  {
    "text": "so what we'll do is we'll table tell the product service Hey whenever you update your product list publish an event for",
    "start": "1892640",
    "end": "1898820"
  },
  {
    "text": "us please and then I'll maintain a search catalog and I'll update that whenever the product has changes",
    "start": "1898820",
    "end": "1905000"
  },
  {
    "text": "okay and whenever the customer status changes also publish an event and then the search service can update its list",
    "start": "1905000",
    "end": "1911120"
  },
  {
    "text": "and we can do the same for the order service this is an awful lot of data duplication",
    "start": "1911120",
    "end": "1917899"
  },
  {
    "text": "we've got things in different places but we're smart we're Engineers we can explain this away right the source of",
    "start": "1917899",
    "end": "1924799"
  },
  {
    "text": "truth if you use that phrase that's clever the source of truth of the products is in the product service right",
    "start": "1924799",
    "end": "1930620"
  },
  {
    "text": "what we've got in the search service is a it's a different model it's a what can we call it a read model that's right",
    "start": "1930620",
    "end": "1937760"
  },
  {
    "text": "we're doing a projection this is cqrs yay and we're using we're using Pub sub",
    "start": "1937760",
    "end": "1944240"
  },
  {
    "text": "right so there's events so it's a cqrs and event sourcing and and services",
    "start": "1944240",
    "end": "1949460"
  },
  {
    "text": "Services domains domains we're doing dddcqrs event sourcing this is a good system design",
    "start": "1949460",
    "end": "1956120"
  },
  {
    "text": "Go technology we still have the same coupling problems here if the customer service changes the",
    "start": "1956120",
    "end": "1963140"
  },
  {
    "text": "way that it rewards customers that has to flow through into the search Service as well for instance if the customer",
    "start": "1963140",
    "end": "1968960"
  },
  {
    "text": "service says instead of rewarding discounts based on status we want to",
    "start": "1968960",
    "end": "1974000"
  },
  {
    "text": "reward the top 100 customers our 100 customers will get 50 off",
    "start": "1974000",
    "end": "1979640"
  },
  {
    "text": "the next 200 get 10 and then the rest just get an extra 10 added on because we",
    "start": "1979640",
    "end": "1984679"
  },
  {
    "text": "want to help them monetize their way up into the into the stream right we make that change in the customer",
    "start": "1984679",
    "end": "1990020"
  },
  {
    "text": "service we then have to make that same change in the search service because now the search service doesn't have statuses",
    "start": "1990020",
    "end": "1995659"
  },
  {
    "text": "that we have to worry about that coupling still exists we haven't hidden it away",
    "start": "1995659",
    "end": "2002100"
  },
  {
    "text": "and the the thing to remember here is that even though this is it looks like it's separate and it looks",
    "start": "2002380",
    "end": "2008860"
  },
  {
    "text": "like it's decoupled the The View isn't the same so The Logical boundaries and the deployment",
    "start": "2008860",
    "end": "2015460"
  },
  {
    "text": "boundaries the physical boundaries are different and we've cheated at the as if",
    "start": "2015460",
    "end": "2020500"
  },
  {
    "text": "they're the same if we have a search service and it's deployed separately it must be separate from everything else right it must be decoupled",
    "start": "2020500",
    "end": "2026620"
  },
  {
    "text": "but it's not I've always really liked this poster for episode one with Anakin standing there and he showed up rejected",
    "start": "2026620",
    "end": "2032140"
  },
  {
    "text": "as Darth Vader I've always thought this was incredibly clever because we know Anakin is Darth Vader",
    "start": "2032140",
    "end": "2037899"
  },
  {
    "text": "who is going to become Darth Vader but in this particular instance In This Moment he is not",
    "start": "2037899",
    "end": "2043299"
  },
  {
    "text": "The Logical Darth Vader is different from the physical Anakin at this point in time",
    "start": "2043299",
    "end": "2048820"
  },
  {
    "text": "so what I'm going to do now is I'm going to show you a technique that can make this previous situation a little bit",
    "start": "2048820",
    "end": "2054040"
  },
  {
    "text": "better I don't want you to go and apply this because you don't want to make things better",
    "start": "2054040",
    "end": "2059320"
  },
  {
    "text": "uh also because it's not a golden Hammer it doesn't work in every scenario so don't",
    "start": "2059320",
    "end": "2065260"
  },
  {
    "text": "just go and say William said apply this it sometimes makes things better sometimes it's not applicable but it is",
    "start": "2065260",
    "end": "2071679"
  },
  {
    "text": "a technique you can use to get rid of the distributed uh replication of data",
    "start": "2071679",
    "end": "2077679"
  },
  {
    "text": "that you're going to build so what we'll do is we'll replace our search service with a search engine",
    "start": "2077679",
    "end": "2082839"
  },
  {
    "start": "2079000",
    "end": "2366000"
  },
  {
    "text": "right that sounds that sounds more natural doesn't it search engine search service search engine",
    "start": "2082839",
    "end": "2089260"
  },
  {
    "text": "and what we're going to do is we're going to implement what's known as the engine pattern so the engine pattern has some coupling",
    "start": "2089260",
    "end": "2096580"
  },
  {
    "text": "in it but not logical not business coupling what I mean by that so the",
    "start": "2096580",
    "end": "2102160"
  },
  {
    "text": "search engine will expose a contract that the other services must comply to so they'll expose for instance three",
    "start": "2102160",
    "end": "2107920"
  },
  {
    "text": "interfaces maybe and I find product interface which given a text string will filter through a list of products and",
    "start": "2107920",
    "end": "2114099"
  },
  {
    "text": "return them we'll also have an interface for eye price products so for a particular user",
    "start": "2114099",
    "end": "2119260"
  },
  {
    "text": "and a particular product what discount percentage should they get and we'll have a third interface for",
    "start": "2119260",
    "end": "2124780"
  },
  {
    "text": "itrack orders which just tells you returns true or false whether someone has ordered a product previously or not",
    "start": "2124780",
    "end": "2131740"
  },
  {
    "text": "the search engine takes these three interfaces compiles them into a dll and hosts it on the internal nougat feed or",
    "start": "2131740",
    "end": "2137680"
  },
  {
    "text": "something like that the product servers the customer service and the order service can then download that nougat package and Implement",
    "start": "2137680",
    "end": "2143980"
  },
  {
    "text": "whatever interfaces they want so what I mean by that is that the product service can implement the product finder class",
    "start": "2143980",
    "end": "2149320"
  },
  {
    "text": "and the product finder class knows how to query the product service database I hope it's clear that the product finder",
    "start": "2149320",
    "end": "2155619"
  },
  {
    "text": "Clause sits squarely within the logical boundary of the product service the customer service can do the same",
    "start": "2155619",
    "end": "2162339"
  },
  {
    "text": "with a status pricer and then the order service can do the same with a order",
    "start": "2162339",
    "end": "2167380"
  },
  {
    "text": "history class so all of these in classes implement the interface that was exposed by the search engine",
    "start": "2167380",
    "end": "2174160"
  },
  {
    "text": "and they're currently sitting within the service boundaries that they're implemented in and this is great",
    "start": "2174160",
    "end": "2180160"
  },
  {
    "text": "how do we wire this up together though so what we can do is we can take the product finder class",
    "start": "2180160",
    "end": "2186400"
  },
  {
    "text": "compile it into its own assembly and then take that assembly and stick it in the app folder of the search engine",
    "start": "2186400",
    "end": "2192880"
  },
  {
    "text": "and then when the search engine runs and it needs to do a search it can ask.net hey.net give me all of the classes that",
    "start": "2192880",
    "end": "2199300"
  },
  {
    "text": "Implement I find products and don't know will go oh he has one it's the product finder class there you go",
    "start": "2199300",
    "end": "2205900"
  },
  {
    "text": "the search engine can invoke that product finder class which will then go from query the product database because it knows how to talk to its own database",
    "start": "2205900",
    "end": "2213280"
  },
  {
    "text": "and then we can do the same from the customer service you can take the customer status pricer and compile that",
    "start": "2213280",
    "end": "2218740"
  },
  {
    "text": "into a dll copy paste their dll into the search engine folder and then the search engine",
    "start": "2218740",
    "end": "2223960"
  },
  {
    "text": "can apply that to the products that it's got from the search result and we can do the same with the order",
    "start": "2223960",
    "end": "2230140"
  },
  {
    "text": "history one we can track what the person is ordered before how is this different from the previous",
    "start": "2230140",
    "end": "2235960"
  },
  {
    "text": "one we're still doing three sets of queries right well if this if the customer service",
    "start": "2235960",
    "end": "2242200"
  },
  {
    "text": "changes the way that it does discounts and it goes away from status and and changes over to ranking",
    "start": "2242200",
    "end": "2247960"
  },
  {
    "text": "the customer service deletes that status pricer and creates a new class A ranking",
    "start": "2247960",
    "end": "2253480"
  },
  {
    "text": "pricer compiles that ranking pricer into a DLo and paste the dll into the search",
    "start": "2253480",
    "end": "2258760"
  },
  {
    "text": "engine folder now the search engine when it does a query and it tries to find all of the prices the high price product",
    "start": "2258760",
    "end": "2265180"
  },
  {
    "text": "instances it doesn't have the status price anymore it now gets the ranking pricer",
    "start": "2265180",
    "end": "2270640"
  },
  {
    "text": "the changes were constrained logically with Indie customer service physically though we deployed a different assembly",
    "start": "2270640",
    "end": "2277180"
  },
  {
    "text": "into a different runtime but that's not really a big problem",
    "start": "2277180",
    "end": "2282400"
  },
  {
    "text": "the interesting thing with this type of pattern is that you can apply uh you can apply things",
    "start": "2282400",
    "end": "2288940"
  },
  {
    "text": "that seem like they come outside of that domain into different domains so for instance the product service could Implement a daily pricer maybe every",
    "start": "2288940",
    "end": "2296380"
  },
  {
    "text": "Monday these products get a 50 discount that can get put directly alongside the",
    "start": "2296380",
    "end": "2302260"
  },
  {
    "text": "existing pricer the same with the order service it can create its own bulk history",
    "start": "2302260",
    "end": "2307800"
  },
  {
    "text": "pricer where if a customer over the lifetime or the customer's account has ordered 99 of these items on the 100th",
    "start": "2307800",
    "end": "2315099"
  },
  {
    "text": "item they get a 99 discount that can also just be deployed alongside",
    "start": "2315099",
    "end": "2320380"
  },
  {
    "text": "and all of that sits and resides logically within those individual service boundaries physically we've",
    "start": "2320380",
    "end": "2325780"
  },
  {
    "text": "deployed it somewhere else but logically it's separate I always find it interesting that when",
    "start": "2325780",
    "end": "2332020"
  },
  {
    "text": "people consider this type of idea that it kind of it feels weird to them",
    "start": "2332020",
    "end": "2337060"
  },
  {
    "text": "like we're putting these things together we're coupling it right but this type of distinction between",
    "start": "2337060",
    "end": "2342220"
  },
  {
    "text": "logical and physical is fine when you're talking about scaling out instances we'll take the same code and run it in",
    "start": "2342220",
    "end": "2347920"
  },
  {
    "text": "two places that's also physical differences but the logical logically",
    "start": "2347920",
    "end": "2353079"
  },
  {
    "text": "it's still the same thing so don't do this in fact what you need",
    "start": "2353079",
    "end": "2358480"
  },
  {
    "text": "to do is you need to make sure that you conflate your logical and your physical boundaries for everything that you do in",
    "start": "2358480",
    "end": "2363940"
  },
  {
    "text": "your system so a quick recap what we've done is we've put an HTTP calling in front of",
    "start": "2363940",
    "end": "2369880"
  },
  {
    "start": "2366000",
    "end": "2443000"
  },
  {
    "text": "everything we made sure to attempt a big bang rewrite note I didn't say do I did they I shouldn't do that oops",
    "start": "2369880",
    "end": "2376839"
  },
  {
    "text": "we didn't use any official Frameworks we created a whole bunch of cool Frameworks that that we get joy out of we then also",
    "start": "2376839",
    "end": "2383859"
  },
  {
    "text": "made sure that we use nouns instead of verbs when defining our service boundaries so that we can get the maximum chance of having cross-service",
    "start": "2383859",
    "end": "2390040"
  },
  {
    "text": "communication and in the places where we have cross-service communication we made sure that we made we kept the logical",
    "start": "2390040",
    "end": "2396880"
  },
  {
    "text": "and the deployment boundaries the same throughout the entire system and if you follow these five techniques",
    "start": "2396880",
    "end": "2401980"
  },
  {
    "text": "you'll have a great time looking for a new job somewhere I'm sure I did say I would get you out of here a",
    "start": "2401980",
    "end": "2407619"
  },
  {
    "text": "little bit early and I'm pleased to say that I did that if you have any questions you can ask them now otherwise you can also find me around NDC I'll be",
    "start": "2407619",
    "end": "2413740"
  },
  {
    "text": "here tomorrow and maybe a little bit later I'm always excited to talk about right and bad systems so if that's a if",
    "start": "2413740",
    "end": "2420640"
  },
  {
    "text": "that's a common interest we can we can write bad code together",
    "start": "2420640",
    "end": "2425220"
  },
  {
    "text": "any questions",
    "start": "2426280",
    "end": "2429060"
  },
  {
    "text": "no okay great thank you everyone",
    "start": "2431500",
    "end": "2435240"
  },
  {
    "text": "[Applause]",
    "start": "2438850",
    "end": "2443869"
  }
]