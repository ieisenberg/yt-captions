[
  {
    "start": "0",
    "end": "38000"
  },
  {
    "text": "okay good day everyone and welcome to state machine",
    "start": "320",
    "end": "7040"
  },
  {
    "text": "before we get started just a couple of uh logistic notes if you have any question does the q a",
    "start": "7040",
    "end": "14160"
  },
  {
    "text": "panel from webex or you can drop them into the slack channel for the conference room",
    "start": "14160",
    "end": "22400"
  },
  {
    "text": "free or feel free to ping me directly on slack that's not the problem at all i'll make i'll do my best to get back to",
    "start": "22400",
    "end": "29119"
  },
  {
    "text": "you as fast as i can after the talk so",
    "start": "29119",
    "end": "35760"
  },
  {
    "text": "when i was young so it was around 1989. i didn't have a driver license",
    "start": "37920",
    "end": "44559"
  },
  {
    "start": "38000",
    "end": "127000"
  },
  {
    "text": "back then and i was 16 and",
    "start": "44559",
    "end": "49760"
  },
  {
    "text": "with friends we used to go to milan to clubs to attend concerts that night",
    "start": "49760",
    "end": "57199"
  },
  {
    "text": "the concert was uh red hot chili peppers and they weren't that famous yet back",
    "start": "57199",
    "end": "63840"
  },
  {
    "text": "then and we weren't really interested in the the band at all so we were going to this kind of clubs just",
    "start": "63840",
    "end": "70799"
  },
  {
    "text": "because those clubs back then allowed to do stage diving",
    "start": "70799",
    "end": "76000"
  },
  {
    "text": "and even if it i still like to go to concerts i would love to be able to stage dive",
    "start": "76000",
    "end": "81040"
  },
  {
    "text": "again regardless of this security problem that is now my age doesn't really allow that anymore",
    "start": "81040",
    "end": "87360"
  },
  {
    "text": "but anyway so back to the to the topic here so if we were to go to a concert today",
    "start": "87360",
    "end": "98560"
  },
  {
    "text": "what we need to do is basically two things the first one being buying tickets",
    "start": "98560",
    "end": "105439"
  },
  {
    "text": "so and the second one obviously stage dive well go to the consult",
    "start": "105439",
    "end": "111520"
  },
  {
    "text": "from our perspective going to the concert is basically a one single operation just buying the",
    "start": "111680",
    "end": "118399"
  },
  {
    "text": "tickets right and then attend the concert itself but if we try to look at the concert from the",
    "start": "118399",
    "end": "123759"
  },
  {
    "text": "perspective of what they want to do so that the company",
    "start": "123759",
    "end": "129119"
  },
  {
    "text": "or the group of people behind the concert organization what they have to do",
    "start": "129119",
    "end": "134720"
  },
  {
    "text": "is basically keep calm and make money that's their main goal right and in order to do that what they have",
    "start": "134720",
    "end": "141760"
  },
  {
    "text": "to be able to achieve is first of all they have to be able to display available tickets",
    "start": "141760",
    "end": "146879"
  },
  {
    "text": "so some sort of website or a phone you can drop a call to to tell me how",
    "start": "146879",
    "end": "153040"
  },
  {
    "text": "many tickets you have available and then allow me to reserve tickets",
    "start": "153040",
    "end": "158080"
  },
  {
    "text": "and once tickets are reserved charge my credit card obviously and once the credit card has",
    "start": "158080",
    "end": "164800"
  },
  {
    "text": "been charged and i paid ship tickets somewhere and",
    "start": "164800",
    "end": "170160"
  },
  {
    "text": "the interesting things of these operations and many more obviously because if you think to a company selling",
    "start": "170160",
    "end": "177040"
  },
  {
    "text": "tickets online they probably sell gadgets as well and they want to track marketing related information so what",
    "start": "177040",
    "end": "184080"
  },
  {
    "text": "kind of concerts people look on the website but they don't end buying tickets so they want to",
    "start": "184080",
    "end": "189200"
  },
  {
    "text": "track user actions on the website so one important thing to notice about",
    "start": "189200",
    "end": "195599"
  },
  {
    "text": "these kind of operations is that sometimes the order doesn't matter and sometimes",
    "start": "195599",
    "end": "202159"
  },
  {
    "start": "197000",
    "end": "495000"
  },
  {
    "text": "it does so let me tell you a couple of stories so a few years ago",
    "start": "202159",
    "end": "207599"
  },
  {
    "text": "i went online to an e-commerce from a very large and famous device",
    "start": "207599",
    "end": "214400"
  },
  {
    "text": "manufacturer and i bought device and that device i put i put it in the",
    "start": "214400",
    "end": "222159"
  },
  {
    "text": "shopping cart i i did the entire checkout process and finally i submitted my credit card",
    "start": "222159",
    "end": "230319"
  },
  {
    "text": "and hit the checkout button and pay button",
    "start": "230319",
    "end": "235439"
  },
  {
    "text": "right so i received a nice email saying well your order is on the way we'll get back to you as",
    "start": "235439",
    "end": "241680"
  },
  {
    "text": "soon as it's shipped and generally speaking what happens with this large e-commerce webshop for",
    "start": "241680",
    "end": "247040"
  },
  {
    "text": "example like amazon does is that your credit card is generally charged only when the order is shipped not at",
    "start": "247040",
    "end": "254319"
  },
  {
    "text": "the exact moment when you buy it but when they ship the the stuff to you so in that case",
    "start": "254319",
    "end": "261440"
  },
  {
    "text": "what happened is that a few days later i received another email saying your order is on its way enjoy your",
    "start": "261440",
    "end": "267759"
  },
  {
    "text": "device and literally a few seconds later a text message from the credit card company",
    "start": "267759",
    "end": "274080"
  },
  {
    "text": "saying operation denied so i immediately said well",
    "start": "274080",
    "end": "280800"
  },
  {
    "text": "it's eventual consistency right so the email went out but they're not really shipping anything two days later the shipping",
    "start": "280800",
    "end": "288320"
  },
  {
    "text": "couriers showed up at my place saying hey here is your device and meanwhile for two days the credit card company was",
    "start": "288320",
    "end": "295840"
  },
  {
    "text": "texting me saying operation denied operation denied operation denied",
    "start": "295840",
    "end": "300960"
  },
  {
    "text": "so basically what happens is that they were trying to charge my credit card but they were constantly failing while",
    "start": "300960",
    "end": "307280"
  },
  {
    "text": "the device was traveling to my place and i even called them so i called the",
    "start": "307280",
    "end": "313919"
  },
  {
    "text": "customer support saying hey i i got this but i haven't paid for it and the the lady on the phone told me",
    "start": "313919",
    "end": "320800"
  },
  {
    "text": "yeah i know you know i can see that from my crm thing i can see that you've got the device and",
    "start": "320800",
    "end": "327360"
  },
  {
    "text": "you haven't paid for it because we failed in charging your credit card but you know what from the process that",
    "start": "327360",
    "end": "332880"
  },
  {
    "text": "we have if it's shipped it's paid so there's nothing i can do enjoy your device okay thank you very",
    "start": "332880",
    "end": "339199"
  },
  {
    "text": "much and that's an interesting point right so we assume in this case at least that",
    "start": "339199",
    "end": "346160"
  },
  {
    "text": "paying must happen before shipping is that always the case not really let's take",
    "start": "346160",
    "end": "353600"
  },
  {
    "text": "for example highways in italy and i guess the same happens in many countries where you pay for",
    "start": "353600",
    "end": "360319"
  },
  {
    "text": "highways so when you but when you enter a highway in italy there's a gate",
    "start": "360319",
    "end": "365600"
  },
  {
    "text": "and uh you get a ticket right so when you exit the highway there's uh you",
    "start": "365600",
    "end": "371840"
  },
  {
    "text": "you can do that talking to a human or to a machine you insert the ticket and then you put in your credit card and the",
    "start": "371840",
    "end": "378240"
  },
  {
    "text": "the gate opens and you just go your credit card is not charged synchronously",
    "start": "378240",
    "end": "385440"
  },
  {
    "text": "as you exit the gate so basically what they are doing is that they charge your cred they just capture",
    "start": "385440",
    "end": "393120"
  },
  {
    "text": "card information at that time and the ticket information that you just put in and they later on try to charge",
    "start": "393120",
    "end": "398800"
  },
  {
    "text": "your credit card they assume it will work so they're basically saying commands won't fail and",
    "start": "398800",
    "end": "407280"
  },
  {
    "text": "other than assuming that it will work they're basically saying well usually the amount to be paid is",
    "start": "407280",
    "end": "414319"
  },
  {
    "text": "so small that even if we fail in charging the credit card it doesn't really matter",
    "start": "414319",
    "end": "419680"
  },
  {
    "text": "it happens so unfrequently that missing a couple of customers doesn't",
    "start": "419680",
    "end": "426160"
  },
  {
    "text": "really matter it happened me once in probably 25 years so the funny thing",
    "start": "426160",
    "end": "432080"
  },
  {
    "text": "is that uh i was traveling from switzerland back home to italy and my credit card was cloned so it was",
    "start": "432080",
    "end": "439520"
  },
  {
    "text": "invalid and by the time i exited the gate in the highway what happens is that they",
    "start": "439520",
    "end": "445599"
  },
  {
    "text": "captured information and later on they tried to charge a credit card but obviously the credit card company denied the",
    "start": "445599",
    "end": "451680"
  },
  {
    "text": "transaction because the card was cloned in the meantime and they never came back to me",
    "start": "451680",
    "end": "457360"
  },
  {
    "text": "so they're basically the same kind of thing right we're paying in both cases for a service",
    "start": "457360",
    "end": "463280"
  },
  {
    "text": "well in the first case we'll use a device but essentially we're paying for something in the first case the order is truly",
    "start": "463280",
    "end": "469680"
  },
  {
    "text": "important from their process perspective in the second case the order is doesn't really matter so they prefer to prevent",
    "start": "469680",
    "end": "477280"
  },
  {
    "text": "a possible queue at the gate because if something goes badly basically you have cars queuing up at the gate because they",
    "start": "477280",
    "end": "483440"
  },
  {
    "text": "cannot get out and they prefer to optimize for the successful case instead of risking of",
    "start": "483440",
    "end": "490879"
  },
  {
    "text": "cars queuing up so let's go back for a second to our uh ticket",
    "start": "490879",
    "end": "496720"
  },
  {
    "start": "495000",
    "end": "714000"
  },
  {
    "text": "buying system and let's imagine what could be a very naive implementation so the first thing we",
    "start": "496720",
    "end": "503840"
  },
  {
    "text": "said that we need to show tickets so we can call something like display available seats",
    "start": "503840",
    "end": "510160"
  },
  {
    "text": "and we get back a list of seats or tickets whatever they are and then we say well let's take two so",
    "start": "510160",
    "end": "516320"
  },
  {
    "text": "we we cannot reserve a seat so we just grabbed two tickets so we have two selected seats or two selected seats",
    "start": "516320",
    "end": "523120"
  },
  {
    "text": "and then we try to reserve them so we call the reserve seats and what we",
    "start": "523120",
    "end": "528320"
  },
  {
    "text": "get back is a reservation that probably contains a reference to our tickets and finally well finally along",
    "start": "528320",
    "end": "535440"
  },
  {
    "text": "the process we try to authorize the credit card so we authorize the credit card and if",
    "start": "535440",
    "end": "540959"
  },
  {
    "text": "the authorization succeed then what we try what we do is basically we charge the card",
    "start": "540959",
    "end": "546480"
  },
  {
    "text": "and finally ship tickets right that's the process that we described because we want to make sure that before",
    "start": "546480",
    "end": "553279"
  },
  {
    "text": "we ship we actually succeed in charging the credit card the authorization",
    "start": "553279",
    "end": "559200"
  },
  {
    "text": "process is just to make sure that are there money enough on that credit card so",
    "start": "559200",
    "end": "565279"
  },
  {
    "text": "one of the the the interesting thing of this naive implementation can be as much complex as",
    "start": "565279",
    "end": "571120"
  },
  {
    "text": "you want right so but it's essentially this kind of process that you want to design so",
    "start": "571120",
    "end": "576320"
  },
  {
    "text": "one of the problems of this kind of implementation is that these are probably remote requests so",
    "start": "576320",
    "end": "583920"
  },
  {
    "text": "we're talking to sort of payment gateway to authorize the card",
    "start": "583920",
    "end": "589200"
  },
  {
    "text": "and we're talking again to a sort of payment greatly to charge the credit card given the authorization that we",
    "start": "589200",
    "end": "595200"
  },
  {
    "text": "received back before and we're talking to probably the shipping courier website or",
    "start": "595200",
    "end": "603200"
  },
  {
    "text": "web api whatever in order to request the the shipment the pickup of the tickets",
    "start": "603200",
    "end": "609680"
  },
  {
    "text": "that need to be shipped what's the problem with this kind of remote requests well the first one is",
    "start": "609680",
    "end": "616160"
  },
  {
    "text": "not very problematic right so if something goes badly we just abort the operation",
    "start": "616160",
    "end": "621360"
  },
  {
    "text": "what happens with the second one so we have we we basically want to",
    "start": "621360",
    "end": "627040"
  },
  {
    "text": "orchestrate in some way across two operations now if we have only two operations",
    "start": "627040",
    "end": "635360"
  },
  {
    "text": "what can go badly is that the first one fails the charging of the credit card and",
    "start": "635360",
    "end": "640720"
  },
  {
    "text": "we're fine we just roll back in some way everything and tell to the user something went badly",
    "start": "640720",
    "end": "647200"
  },
  {
    "text": "just retry whatever you haven't bought anything your shopping cart is now empty and we're fine but what happens if the",
    "start": "647200",
    "end": "656160"
  },
  {
    "text": "second one times out so the bad scenario is exactly that",
    "start": "656160",
    "end": "663360"
  },
  {
    "text": "the http request succeeds but we don't know because the response",
    "start": "663360",
    "end": "668959"
  },
  {
    "text": "times out the response never come back so basically we're now in a sort of",
    "start": "668959",
    "end": "674720"
  },
  {
    "text": "unmanageable state because we have no idea what the scenario is right so when we when we deal",
    "start": "674720",
    "end": "683040"
  },
  {
    "text": "in such a sequential process with remote requests we're always exposed to this kind of",
    "start": "683040",
    "end": "688720"
  },
  {
    "text": "behavior and the fact that we we really feel the need",
    "start": "688720",
    "end": "693760"
  },
  {
    "text": "of wrapping this into a sort of transaction is a sign that something is",
    "start": "693760",
    "end": "701440"
  },
  {
    "text": "is a smell so usually what happens is that the first approach to solving this problem is to",
    "start": "701440",
    "end": "708000"
  },
  {
    "text": "turn this kind of naive implementation into into into what it's generally",
    "start": "708000",
    "end": "713760"
  },
  {
    "text": "called a process manager so process managers and i'm i'm using",
    "start": "713760",
    "end": "720320"
  },
  {
    "start": "714000",
    "end": "964000"
  },
  {
    "text": "process managers not necessarily from the domain driven design world so so",
    "start": "720320",
    "end": "726160"
  },
  {
    "text": "bear with me and we will see what i mean by process manager in this case so there's a kind of overlap with the",
    "start": "726160",
    "end": "732079"
  },
  {
    "text": "ddd but it's not necessarily the domain driven design kind of concept so we said that we need",
    "start": "732079",
    "end": "739279"
  },
  {
    "text": "to select tickets right so the ticket selection process talks to reservation",
    "start": "739279",
    "end": "744800"
  },
  {
    "text": "in order to select tickets and we have a request response with reservations saying hey how many tickets",
    "start": "744800",
    "end": "750160"
  },
  {
    "text": "do you have please reserve me reserve two for me and then",
    "start": "750160",
    "end": "755440"
  },
  {
    "text": "we have an information that says well the user wants to check out",
    "start": "755440",
    "end": "760800"
  },
  {
    "text": "i spelled that in a event kind of thing so order check it out but it's not an",
    "start": "760800",
    "end": "766880"
  },
  {
    "text": "event yet so we'll get to that later what's the checkout intent kicks out is the",
    "start": "766880",
    "end": "775040"
  },
  {
    "text": "order management process that's the real process manager right so what we do is that we reach out to",
    "start": "775040",
    "end": "781519"
  },
  {
    "text": "the credit card gateway anti-corruption layer can mean heavy because it can have many names but",
    "start": "781519",
    "end": "788079"
  },
  {
    "text": "it's basically a payment gateway that allows us to talk to the credit card provider",
    "start": "788079",
    "end": "794240"
  },
  {
    "text": "and one of the important thing to notice is that it's a still request response but we're doing that using a message",
    "start": "794240",
    "end": "803040"
  },
  {
    "text": "in this case it's exactly a message on a queue so we're moving away from remote",
    "start": "803279",
    "end": "809279"
  },
  {
    "text": "requests as remote procedure calls into a queue so the reservation one",
    "start": "809279",
    "end": "815200"
  },
  {
    "text": "is a steel might be still a remote request that is handled over an lpc kind of approach",
    "start": "815200",
    "end": "821120"
  },
  {
    "text": "but now we're moving to a remote request over a queue and then we talk again",
    "start": "821120",
    "end": "826800"
  },
  {
    "text": "to reservation again this in this kind of rpc kind of style and then again we go",
    "start": "826800",
    "end": "833279"
  },
  {
    "text": "back to the credit card saying okay charge the card now so we authorized it",
    "start": "833279",
    "end": "838320"
  },
  {
    "text": "we confirmed the ticket to reservation and then we charge the card and finally",
    "start": "838320",
    "end": "843360"
  },
  {
    "text": "we talk to shipping so basically what we did is that we isolated remote requests",
    "start": "843360",
    "end": "850480"
  },
  {
    "text": "into its own processes talking to them through a queue we haven't really",
    "start": "850480",
    "end": "857440"
  },
  {
    "text": "solved the original problem so what might go wrong is that let's use the same sample before so we",
    "start": "857440",
    "end": "863760"
  },
  {
    "text": "send out the message to shipping the shipping gateway the shipping gateway talks to the shipping courier",
    "start": "863760",
    "end": "871040"
  },
  {
    "text": "api through http again and the response doesn't come back what happens is that the process manager",
    "start": "871040",
    "end": "878560"
  },
  {
    "text": "the order manager never receives a response message",
    "start": "878560",
    "end": "884320"
  },
  {
    "text": "so now the other manager isn't in doubt anymore shipping didn't happen so i know what to",
    "start": "884320",
    "end": "893040"
  },
  {
    "text": "do now i can roll back whatever it means from this kind of process",
    "start": "893040",
    "end": "898079"
  },
  {
    "text": "the entire process and tell to the user we failed in shipping there is no doubt yet so there is no",
    "start": "898079",
    "end": "903519"
  },
  {
    "text": "doubt anymore well there is doubt but that out is confined into shipping and",
    "start": "903519",
    "end": "908560"
  },
  {
    "text": "shipping could have said to the operations team hey i'm having an issue the opportunity",
    "start": "908560",
    "end": "914000"
  },
  {
    "text": "comes in and try to fix the issue but from the process perspective isolating the doubt into its own",
    "start": "914000",
    "end": "922240"
  },
  {
    "text": "separate process or call it an end point where we can do just one single",
    "start": "922240",
    "end": "928079"
  },
  {
    "text": "operation allows us to solve the problem of the need",
    "start": "928079",
    "end": "933839"
  },
  {
    "text": "of dealing with remote requests that can fail but",
    "start": "933839",
    "end": "940880"
  },
  {
    "text": "we haven't solved all the problems right so we still have some sort of rehearsation is still",
    "start": "940880",
    "end": "946720"
  },
  {
    "text": "required because that if we if we fail in shipping we need to",
    "start": "946720",
    "end": "952560"
  },
  {
    "text": "roll back the the transaction with the credit card so there's this still this chat",
    "start": "952560",
    "end": "959199"
  },
  {
    "text": "happening between credit card and shipping but the fact is that orchestration is",
    "start": "959199",
    "end": "966160"
  },
  {
    "start": "964000",
    "end": "1089000"
  },
  {
    "text": "not the only issue we should get rid of let's try to have a look at the process manager from the",
    "start": "966160",
    "end": "972560"
  },
  {
    "text": "storage perspective so let's imagine a very simple orders manager where we",
    "start": "972560",
    "end": "979279"
  },
  {
    "text": "have an order table that contains an order id a shipping id a shipping status and many",
    "start": "979279",
    "end": "985519"
  },
  {
    "text": "more columns so there will probably be a payment id and the payment status and",
    "start": "985519",
    "end": "990880"
  },
  {
    "text": "the number of tickets and so on and so on and so on so now let's",
    "start": "990880",
    "end": "996320"
  },
  {
    "text": "imagine that someone comes along and says well you know what we during the weekend we were",
    "start": "996320",
    "end": "1003920"
  },
  {
    "text": "at the golf field playing golf and we realized that hi very interesting feature could be",
    "start": "1003920",
    "end": "1011279"
  },
  {
    "text": "allow people to collect tickets at the venue instead of shipping tickets at their",
    "start": "1011279",
    "end": "1017440"
  },
  {
    "text": "place so we have a new requirement now that is collect tickets at the venue",
    "start": "1017440",
    "end": "1022480"
  },
  {
    "text": "and the problem is that if we look at this kind of schema collecting tickets at the venue as an",
    "start": "1022480",
    "end": "1028480"
  },
  {
    "text": "issue there's no shipping right so now it means that shipping id",
    "start": "1028480",
    "end": "1033600"
  },
  {
    "text": "and shipping status doesn't really represent the",
    "start": "1033600",
    "end": "1039600"
  },
  {
    "text": "full reality of the system so one option is that in order to support",
    "start": "1039600",
    "end": "1045360"
  },
  {
    "text": "this kind of new thing we have to make shipping id and shipping status nullable",
    "start": "1045360",
    "end": "1051200"
  },
  {
    "text": "but that could leads with the fact that from the high-level perspective of the code we cannot really deal with that because",
    "start": "1051200",
    "end": "1057919"
  },
  {
    "text": "what does it mean if there's no shipping id so if it is null does it mean that there will be no",
    "start": "1057919",
    "end": "1064640"
  },
  {
    "text": "shipping because it's collected the venue or because there hasn't been shipping yet",
    "start": "1064640",
    "end": "1070720"
  },
  {
    "text": "so we need to change the scheme again adding a third column that represents the fact that kind of",
    "start": "1070720",
    "end": "1077280"
  },
  {
    "text": "shipping so the shipping type other than the shipping status and the shipping id",
    "start": "1077280",
    "end": "1082320"
  },
  {
    "text": "so it's this kind of thing is basically telling us that the process manager",
    "start": "1082320",
    "end": "1088160"
  },
  {
    "text": "it's not that different from a punch card and when the business come along and say",
    "start": "1088160",
    "end": "1093600"
  },
  {
    "start": "1089000",
    "end": "1145000"
  },
  {
    "text": "hey we have a new requirement that new requirement should go should go there so basically if",
    "start": "1093600",
    "end": "1101039"
  },
  {
    "text": "if we picture a process manager like a punch card what happens is that in order to fit a new requirement in a very",
    "start": "1101039",
    "end": "1106960"
  },
  {
    "text": "special place we have to throw away the entire punch card there isn't much that you can do",
    "start": "1106960",
    "end": "1112000"
  },
  {
    "text": "right so we cannot really put ourselves there and fix a hole in",
    "start": "1112000",
    "end": "1117600"
  },
  {
    "text": "the punch card to change some numbers and try to fit the king requirement in so it's",
    "start": "1117600",
    "end": "1122960"
  },
  {
    "text": "going to be a mess not to mention that it's very easy that if we picture a very complex",
    "start": "1122960",
    "end": "1130080"
  },
  {
    "text": "process like buying tickets online could be because what we picked are a very it's a very simple",
    "start": "1130080",
    "end": "1138320"
  },
  {
    "text": "use case so if you picture that real world process it's very easy to view a process manager",
    "start": "1138320",
    "end": "1145679"
  },
  {
    "start": "1145000",
    "end": "1281000"
  },
  {
    "text": "like this so what might happen obviously is that",
    "start": "1145679",
    "end": "1150799"
  },
  {
    "text": "the more featured you add the more the process manager becomes the big ball of mud",
    "start": "1150799",
    "end": "1156320"
  },
  {
    "text": "and it's easy to see what the problem is right so we have tickets sitting there in the middle the big bowl of mud now our tickets",
    "start": "1156320",
    "end": "1163039"
  },
  {
    "text": "and then we have all the services or all the actors trying to do something with tickets like",
    "start": "1163039",
    "end": "1169120"
  },
  {
    "text": "charging the credit card because tickets represent an order and now there's insurance saying i need",
    "start": "1169120",
    "end": "1174400"
  },
  {
    "text": "to make sure that these tickets are delivered and i'm paying an insurance for these tickets because they are for",
    "start": "1174400",
    "end": "1179679"
  },
  {
    "text": "the las cola theater in milan and they are 400 bucks each ticket right and then we have",
    "start": "1179679",
    "end": "1185679"
  },
  {
    "text": "marketing trying to do stuff with tickets and then we have shipping trying to do stuff with tickets and by the way there's customer care down there",
    "start": "1185679",
    "end": "1193280"
  },
  {
    "text": "you can barely see it but well we're italians right so customer care doesn't really matter but anyway so there are all these",
    "start": "1193280",
    "end": "1200559"
  },
  {
    "text": "services trying to do stuff with our tickets and",
    "start": "1200559",
    "end": "1206080"
  },
  {
    "text": "they are fighting with each other that's why we need an orchestrator so there's this guy sitting there",
    "start": "1206080",
    "end": "1212720"
  },
  {
    "text": "looking at all these people fighting for tickets trying to do stuff with the tickets",
    "start": "1212720",
    "end": "1217760"
  },
  {
    "text": "and you can see your code and your processes and your threads doing stuff with the tickets",
    "start": "1217760",
    "end": "1223360"
  },
  {
    "text": "and the orchestrator that acts like a semaphore or acts like the distributed transaction",
    "start": "1223360",
    "end": "1229039"
  },
  {
    "text": "coordinator in an attempt to make order in the entropy so there's a lot of cows",
    "start": "1229039",
    "end": "1236240"
  },
  {
    "text": "going on and the orchestrator is sitting there trying to fix stuff and by the way there are two guys",
    "start": "1236240",
    "end": "1242000"
  },
  {
    "text": "a lady and the guy sitting over there back then back there and who they are a failover",
    "start": "1242000",
    "end": "1248559"
  },
  {
    "text": "because obviously if you have an orchestrator and it fails then you need replacement for",
    "start": "1248559",
    "end": "1254799"
  },
  {
    "text": "the orchestrator right so you need to have someone sitting there doing nothing",
    "start": "1254799",
    "end": "1260080"
  },
  {
    "text": "just for the problem of the orchestrator failing so the both the naive",
    "start": "1260080",
    "end": "1266480"
  },
  {
    "text": "approach and the process manager approach even if the process manager approached by using messages to the couple some of the",
    "start": "1266480",
    "end": "1275280"
  },
  {
    "text": "temporal coupling between actors in the system they can be seen as fragile first of all",
    "start": "1275280",
    "end": "1283200"
  },
  {
    "start": "1281000",
    "end": "1381000"
  },
  {
    "text": "they violate the single responsibility principle so in both cases we're doing too many",
    "start": "1283200",
    "end": "1288880"
  },
  {
    "text": "things we're reserving tickets we're charging the user credit card we're shipping stuff all in a single place",
    "start": "1288880",
    "end": "1297039"
  },
  {
    "text": "they're a single unit of deployment so when someone comes and says i need a new feature we need to deploy",
    "start": "1297039",
    "end": "1304559"
  },
  {
    "text": "the entire stuff so they're in in being monolithic",
    "start": "1304559",
    "end": "1310720"
  },
  {
    "text": "they cause a problem to the operations team because they have to deploy everything",
    "start": "1310720",
    "end": "1316559"
  },
  {
    "text": "every single time something changes even if that something is very tiny",
    "start": "1316559",
    "end": "1322159"
  },
  {
    "text": "if we're dealing with a large code base and we're using this kind of approaches then we'll start having conflicting",
    "start": "1322480",
    "end": "1329840"
  },
  {
    "text": "changes and merge conflicts because that's a given right if they are a single unit of deployment probably",
    "start": "1329840",
    "end": "1336159"
  },
  {
    "text": "they all live in the same repository and we have multiple teams touching the same code base",
    "start": "1336159",
    "end": "1341919"
  },
  {
    "text": "or at least multiple people touching the same code base and start changing stuff they should not",
    "start": "1341919",
    "end": "1347760"
  },
  {
    "text": "really change and causing problems to other people and they might be",
    "start": "1347760",
    "end": "1353120"
  },
  {
    "text": "a contention and performance bottleneck because it's obvious that as soon as we have a performance problem",
    "start": "1353120",
    "end": "1360000"
  },
  {
    "text": "we have to scale up or scale out everything we cannot really focus on",
    "start": "1360000",
    "end": "1365919"
  },
  {
    "text": "what do we need to scale out is the problem the charging of the credit card is the problem that hit the tickets the",
    "start": "1365919",
    "end": "1371440"
  },
  {
    "text": "reservation doesn't really matter right so we have to scale out everything just because it's",
    "start": "1371440",
    "end": "1377120"
  },
  {
    "text": "a single unit of deployment the reality is that there's no spoon well there's no process",
    "start": "1377120",
    "end": "1384159"
  },
  {
    "start": "1381000",
    "end": "1488000"
  },
  {
    "text": "manager sorry so what can be really tricky in this kind of scenarios",
    "start": "1384159",
    "end": "1392720"
  },
  {
    "text": "is talking to domain experts so if we start analyzing this kind of",
    "start": "1392720",
    "end": "1398640"
  },
  {
    "text": "processes blindly trusting a domain expert they'll start talking about the order",
    "start": "1398640",
    "end": "1406480"
  },
  {
    "text": "management system that's natural because that's the way they view things",
    "start": "1406480",
    "end": "1412320"
  },
  {
    "text": "right so and it's super easy super easy for the engineer that is",
    "start": "1412320",
    "end": "1418480"
  },
  {
    "text": "always in the back of our mind that as soon as they say the word",
    "start": "1418480",
    "end": "1423840"
  },
  {
    "text": "we have an order management system we picture that as public class order management system and",
    "start": "1423840",
    "end": "1430000"
  },
  {
    "text": "they say we have we can reserve ticket public are saying task reserve tickets and things like",
    "start": "1430000",
    "end": "1436720"
  },
  {
    "text": "that so we we immediately transition from what they talk about",
    "start": "1436720",
    "end": "1441840"
  },
  {
    "text": "to a sort of design and the thing is that that leads very easily to a monolithic",
    "start": "1441840",
    "end": "1448559"
  },
  {
    "text": "kind of thing because that's the way they describe things but they're describing",
    "start": "1448559",
    "end": "1453679"
  },
  {
    "text": "the user mentor model they're describing the way they picture a user doing their main process that is selling",
    "start": "1453679",
    "end": "1461840"
  },
  {
    "text": "tickets right when we listen to them we should be carefully listening to the",
    "start": "1461840",
    "end": "1467919"
  },
  {
    "text": "words the nouns and the verbs they use and try to",
    "start": "1467919",
    "end": "1473200"
  },
  {
    "text": "chop it up so what we really want to do is try to isolate things that should not",
    "start": "1473200",
    "end": "1479919"
  },
  {
    "text": "stay together because our our final goal our final destination in some way",
    "start": "1479919",
    "end": "1486159"
  },
  {
    "text": "is that we want to have autonomy in collaborative domains",
    "start": "1486159",
    "end": "1491200"
  },
  {
    "start": "1488000",
    "end": "1684000"
  },
  {
    "text": "so we in we we started all this journey by saying",
    "start": "1491200",
    "end": "1497520"
  },
  {
    "text": "we have three actions four actions to do right list tickets reserve tickets deal with payments",
    "start": "1497520",
    "end": "1506080"
  },
  {
    "text": "charge the credit card authorize the credit card ship tickets and finally stage type that's another problem right",
    "start": "1506080",
    "end": "1512840"
  },
  {
    "text": "so think about when you if there's ikea in your country well at least there is in mind right so",
    "start": "1512840",
    "end": "1519039"
  },
  {
    "text": "whenever you go to ikea you can you enter the shop you you walk around you pick up stuff you",
    "start": "1519039",
    "end": "1524799"
  },
  {
    "text": "you you make an auto error in the warehouse stuff that is too big to be picked up while you're walking the",
    "start": "1524799",
    "end": "1530480"
  },
  {
    "text": "shop is and then you reach the cashier you pay",
    "start": "1530480",
    "end": "1536480"
  },
  {
    "text": "and then it's up to you to decide should i try to fit everything in my car oh nice",
    "start": "1537039",
    "end": "1544159"
  },
  {
    "text": "there's the shipment desk over there let me go to the shipment desk with my order",
    "start": "1544159",
    "end": "1549679"
  },
  {
    "text": "and tell them can you ship this stuff at my place that's it ikea doesn't really know",
    "start": "1549679",
    "end": "1556400"
  },
  {
    "text": "anything about that shipping thing they don't care",
    "start": "1556400",
    "end": "1561120"
  },
  {
    "text": "and the shipping thing doesn't really care about what have you",
    "start": "1561679",
    "end": "1567360"
  },
  {
    "text": "done inside the ikea shop they just care about the the the list of things they want",
    "start": "1567360",
    "end": "1572799"
  },
  {
    "text": "they need to ship and if you have the list of things they assume you have paid otherwise you",
    "start": "1572799",
    "end": "1578720"
  },
  {
    "text": "cannot have the list of things so it means that they don't care what happened",
    "start": "1578720",
    "end": "1584080"
  },
  {
    "text": "at the cashier you might have paid with a credit card you might have paid with the cash you might have paid with a check",
    "start": "1584080",
    "end": "1591600"
  },
  {
    "text": "whatever but from their perspective it's not relevant at all so the two the two domains we're talking",
    "start": "1591600",
    "end": "1599279"
  },
  {
    "text": "about the ikea furniture shop and the shipping thing that",
    "start": "1599279",
    "end": "1604799"
  },
  {
    "text": "happens to live inside the same shop they are completely autonomous from each other one is feeding the other so there's a",
    "start": "1604799",
    "end": "1611679"
  },
  {
    "text": "kind of dependency between the two very similar to the device thing we talked before but they are",
    "start": "1611679",
    "end": "1617760"
  },
  {
    "text": "autonomous that there's a very limited amount of information that needs to flow from one domain to the other",
    "start": "1617760",
    "end": "1623840"
  },
  {
    "text": "if any in order to allow the second one in this case the shipment to ship stuff at my place",
    "start": "1623840",
    "end": "1631679"
  },
  {
    "text": "and if we want to transition that concept into architecture we can't really do",
    "start": "1631679",
    "end": "1638880"
  },
  {
    "text": "using a process manager because if you think about there isn't anyone when you're walking inside an",
    "start": "1638880",
    "end": "1644240"
  },
  {
    "text": "ikea shop watching over you like like like a kind of a crawl",
    "start": "1644240",
    "end": "1649919"
  },
  {
    "text": "that flies over your head and say what are you doing oh he picked up this he picked up that let me let me add it",
    "start": "1649919",
    "end": "1656080"
  },
  {
    "text": "to the to the bill and while i'm here let me try to charge their credit card and",
    "start": "1656080",
    "end": "1661360"
  },
  {
    "text": "see if there's money that doesn't really happen there isn't really anyone orchestrating that right",
    "start": "1661360",
    "end": "1667200"
  },
  {
    "text": "so you're walking into the shop you you reach the end you're having the cashier you pay and technically speaking you're even",
    "start": "1667200",
    "end": "1674720"
  },
  {
    "text": "allowed to go away and leave everything there no one cares right so when we want to model that as an",
    "start": "1674720",
    "end": "1682240"
  },
  {
    "text": "architecture concept we can use sagas so",
    "start": "1682240",
    "end": "1687360"
  },
  {
    "start": "1684000",
    "end": "1723000"
  },
  {
    "text": "sagas are designed to achieve autonomy in collaborative",
    "start": "1687360",
    "end": "1692960"
  },
  {
    "text": "domains and let's start by defining what sagas are",
    "start": "1692960",
    "end": "1698240"
  },
  {
    "text": "so the the best definition i've found of sagas is basically sagas are multiple workflows each one",
    "start": "1698240",
    "end": "1705440"
  },
  {
    "text": "providing compensating actions for every step of the workflow where it can fly where it can fail",
    "start": "1705440",
    "end": "1713440"
  },
  {
    "text": "let's try to dissect this definition the first bit is multiple workflows",
    "start": "1713440",
    "end": "1720399"
  },
  {
    "text": "and you probably already envisioned that right so we talked about reserving tickets",
    "start": "1720399",
    "end": "1728240"
  },
  {
    "start": "1723000",
    "end": "1758000"
  },
  {
    "text": "we talked about charging credit cards we talked about shipping tickets so we can transition",
    "start": "1728240",
    "end": "1734880"
  },
  {
    "text": "this to sort of reservation finance and shipping those are the",
    "start": "1734880",
    "end": "1742880"
  },
  {
    "text": "free domains or free subdomains or free services or free microservices call them",
    "start": "1742880",
    "end": "1749039"
  },
  {
    "text": "as you will doesn't really matter in this case that we're dealing with and we if we try to dive in and try to",
    "start": "1749039",
    "end": "1757200"
  },
  {
    "text": "picture out what the process could be here is it could look like so we have available",
    "start": "1757200",
    "end": "1763200"
  },
  {
    "text": "tickets so in some way we displayed available tickets on the website let's say that as a",
    "start": "1763200",
    "end": "1768960"
  },
  {
    "text": "website and then we can select tickets and we select tickets and we do that",
    "start": "1768960",
    "end": "1774720"
  },
  {
    "text": "using reservation selecting tickets means that we're going to put tickets let's say into a shopping",
    "start": "1774720",
    "end": "1780720"
  },
  {
    "text": "cart fine then when we're happy with the ticket selection then we start checking out at this point",
    "start": "1780720",
    "end": "1788480"
  },
  {
    "text": "reservation is not really interested anymore right it's like if we are at the cashier so we reach the",
    "start": "1788480",
    "end": "1794799"
  },
  {
    "text": "cashier and we have some stuff in the shopping cart and maybe some stuff on a list of",
    "start": "1794799",
    "end": "1800080"
  },
  {
    "text": "things that we want to pick up later at warehouse but we have stuff in the shopping cart in some way",
    "start": "1800080",
    "end": "1805200"
  },
  {
    "text": "so what we do is reservation check it out because we are at the cashier at this",
    "start": "1805200",
    "end": "1810799"
  },
  {
    "text": "point the ball or the hot potatoes goes to the cashier that",
    "start": "1810799",
    "end": "1816480"
  },
  {
    "text": "this finance right what finance does is do something with our credit card and",
    "start": "1816480",
    "end": "1821760"
  },
  {
    "text": "tell to reservation you know what the person the payment is being authorized there's money on the credit card",
    "start": "1821760",
    "end": "1827520"
  },
  {
    "text": "and by authorizing the payment we locked that money so that money is available to us that's",
    "start": "1827520",
    "end": "1833120"
  },
  {
    "text": "not necessarily true but we'll get to that later at that point the reservation can say",
    "start": "1833120",
    "end": "1838720"
  },
  {
    "text": "well i'm happy so here is the order for you so here is the the the checkout list",
    "start": "1838720",
    "end": "1844640"
  },
  {
    "text": "that is the thing that you can later on use to go to shipping right so finance says payment succeeded",
    "start": "1844640",
    "end": "1850559"
  },
  {
    "text": "because we already locked the money on the credit card and now that we have these two information so we have the pickup list",
    "start": "1850559",
    "end": "1858559"
  },
  {
    "text": "and we have the payment receipt we can go to shipping or the shipment",
    "start": "1858559",
    "end": "1864640"
  },
  {
    "text": "desk at a in the ikea shop and do our stuff with them",
    "start": "1864640",
    "end": "1869760"
  },
  {
    "text": "so ship stuff at our place or ship tickets in this case if we are still talking",
    "start": "1869760",
    "end": "1875760"
  },
  {
    "text": "about delivering tickets so what do we have here",
    "start": "1875760",
    "end": "1880880"
  },
  {
    "text": "we have free workflows because you can imagine that inside these big boxes there are many",
    "start": "1880880",
    "end": "1887760"
  },
  {
    "text": "things happening so they are workflows in some way so they are state machines the shipping for",
    "start": "1887760",
    "end": "1894799"
  },
  {
    "text": "example it's all the finance it's even easier the payment is being authorized it's the",
    "start": "1894799",
    "end": "1900720"
  },
  {
    "text": "state where the payment is and then when it transitions to another state it's going to be payment",
    "start": "1900720",
    "end": "1906320"
  },
  {
    "text": "successful or payment failed because something might go wrong shipping as well that's the shipment has",
    "start": "1906320",
    "end": "1913679"
  },
  {
    "text": "been prepared the shipping has been delivered the shipment has been",
    "start": "1913679",
    "end": "1918799"
  },
  {
    "text": "sent or has been received by the customer here is the customer signature and so on",
    "start": "1918799",
    "end": "1926880"
  },
  {
    "text": "all these workflows they basically participate into the tickets ordering saga",
    "start": "1926880",
    "end": "1934159"
  },
  {
    "text": "so the saga is the relationship between these workflows right",
    "start": "1934159",
    "end": "1940960"
  },
  {
    "text": "and to be honest we prefer in particular software to call them policies instead of workflows",
    "start": "1940960",
    "end": "1949200"
  },
  {
    "text": "why because they make sense from a businessman perspective",
    "start": "1949200",
    "end": "1955600"
  },
  {
    "text": "so stakeholders they don't understand the word workflow so it's much better to",
    "start": "1955600",
    "end": "1963200"
  },
  {
    "text": "talk about payment policy or shipping policy or the reservation policy right so it's",
    "start": "1963200",
    "end": "1969440"
  },
  {
    "text": "much easier for them to understand what you're talking about so it's sharing this kind of common lingo is a",
    "start": "1969440",
    "end": "1975600"
  },
  {
    "text": "way and is a nice way to enrich and augment collaboration between different groups",
    "start": "1975600",
    "end": "1981679"
  },
  {
    "text": "and for if any one of you have already been to",
    "start": "1981679",
    "end": "1988320"
  },
  {
    "text": "an even in an event storming master class i've done one with alberto",
    "start": "1988320",
    "end": "1993519"
  },
  {
    "text": "a couple of years ago you can probably already see what i'm aiming to that is",
    "start": "1993519",
    "end": "2002080"
  },
  {
    "text": "these four events reservation check it out payment authorized order created payments succeeded are",
    "start": "2002080",
    "end": "2008799"
  },
  {
    "text": "what the invent storming people call pivotal events so",
    "start": "2008799",
    "end": "2013919"
  },
  {
    "text": "a pivotal event is an event that allows the entire system in this case the tickets",
    "start": "2013919",
    "end": "2020240"
  },
  {
    "text": "reservation saga to transition to a different state right so if you you probably can imagine",
    "start": "2020240",
    "end": "2027760"
  },
  {
    "text": "that inside finance or shipping itself there's many things happening so there are many events that are not",
    "start": "2027760",
    "end": "2034159"
  },
  {
    "text": "relevant at all from the outside who cares what's important are these pivotal events",
    "start": "2034159",
    "end": "2039679"
  },
  {
    "text": "or what in the soa world we call pub sub events these are the things that",
    "start": "2039679",
    "end": "2045679"
  },
  {
    "text": "are cross boundary or cross service kind of information that flows around",
    "start": "2045679",
    "end": "2052560"
  },
  {
    "text": "the system to allow the system to transition from state a to state b and state ca maybe back to state b",
    "start": "2052560",
    "end": "2059760"
  },
  {
    "text": "whatever the process it is let's now have a look inside the black box so what's inside these",
    "start": "2059760",
    "end": "2066720"
  },
  {
    "start": "2062000",
    "end": "2189000"
  },
  {
    "text": "sagas or what's inside each workflow let's start again from the available",
    "start": "2066720",
    "end": "2073118"
  },
  {
    "text": "tickets we go to reservation to select tickets we put tickets in the shopping cart and",
    "start": "2073119",
    "end": "2078320"
  },
  {
    "text": "then we proceed to check out and we do that again to reservation reservation publishes the",
    "start": "2078320",
    "end": "2083679"
  },
  {
    "text": "reservation check it out process that goes to finance that initiate the payment process right so",
    "start": "2083679",
    "end": "2090240"
  },
  {
    "text": "here is the payment workflow starting and the first step of the payment workflow is to send out a message to the",
    "start": "2090240",
    "end": "2096800"
  },
  {
    "text": "payment gateway that talks to the credit card provider saying hey can you authorize",
    "start": "2096800",
    "end": "2102079"
  },
  {
    "text": "this credit card with this amount for me and if that succeeds there will be a",
    "start": "2102079",
    "end": "2108000"
  },
  {
    "text": "payment authorized event that goes back to the observation that creates the order that publishes",
    "start": "2108000",
    "end": "2113119"
  },
  {
    "text": "sorry the order created event that again is interesting for finance might be interesting for other people as well",
    "start": "2113119",
    "end": "2119599"
  },
  {
    "text": "like marketing for example that is interesting in knowing how many cards convert into orders",
    "start": "2119599",
    "end": "2126160"
  },
  {
    "text": "and finance goes back to the payment gateway saying hey charge this credit card for me here is the previous",
    "start": "2126160",
    "end": "2132320"
  },
  {
    "text": "authorization id you gave me and finally publishes the payment succeeded that goes to shipping as the order",
    "start": "2132320",
    "end": "2139520"
  },
  {
    "text": "created one and finally shipping talks to the courier gateway saying hey can you send me shipping",
    "start": "2139520",
    "end": "2146640"
  },
  {
    "text": "korea because i need to send tickets to a customer",
    "start": "2146640",
    "end": "2152720"
  },
  {
    "text": "is that more complex even the naive approach sounds it is right but it's not really",
    "start": "2152720",
    "end": "2160480"
  },
  {
    "text": "so what we're doing is simply letting the complexity emerge",
    "start": "2160480",
    "end": "2168320"
  },
  {
    "text": "we haven't changed the process at all so the process is exactly the same process we're trying to design using the",
    "start": "2168320",
    "end": "2174000"
  },
  {
    "text": "naive approach and the process manager as well but now it's clear where the complexity",
    "start": "2174000",
    "end": "2180640"
  },
  {
    "text": "is so we we simply let the complexity emerge",
    "start": "2180640",
    "end": "2186240"
  },
  {
    "text": "and be clear from the process design perspective now let's go back to the requirement",
    "start": "2186240",
    "end": "2192560"
  },
  {
    "text": "that we got previously so collect the tickets at the venue and if we have this nice process where",
    "start": "2192560",
    "end": "2200000"
  },
  {
    "text": "we have multiple workflows collaborating with each other and we we claimed this autonomy in there",
    "start": "2200000",
    "end": "2206400"
  },
  {
    "text": "right so collecting ticket collecting tickets at the venue",
    "start": "2206400",
    "end": "2211839"
  },
  {
    "text": "is something that should affect shipping only so that's the only thing",
    "start": "2211839",
    "end": "2218560"
  },
  {
    "text": "we should be able to change we have to change in order to allow the venue collection",
    "start": "2218560",
    "end": "2224400"
  },
  {
    "text": "let's see if it's possible right so we said that shipping in order to be triggered needs",
    "start": "2224400",
    "end": "2230800"
  },
  {
    "text": "both order created and payment succeeded what we can do is basically change the",
    "start": "2230800",
    "end": "2236240"
  },
  {
    "text": "shipping policy and augment it saying what's the delivery mode is it",
    "start": "2236240",
    "end": "2241359"
  },
  {
    "text": "collection at the venue or ship at home so if it's not collection at the venue",
    "start": "2241359",
    "end": "2246960"
  },
  {
    "text": "so it's ship at home we're doing the same process before so we're sending a message",
    "start": "2246960",
    "end": "2252000"
  },
  {
    "text": "to the river courier they will come pick up the tickets and deliver them we're fine if it is collected the venue",
    "start": "2252000",
    "end": "2259599"
  },
  {
    "text": "then we're sending a message internally to shipping so there's there's another branch",
    "start": "2259599",
    "end": "2265119"
  },
  {
    "text": "happening here that is store for venue delivery and what happens is that",
    "start": "2265119",
    "end": "2270640"
  },
  {
    "text": "there's another policy that starts that act like a kind of a batching a collection",
    "start": "2270640",
    "end": "2276480"
  },
  {
    "text": "policy for every event that there will be so there will be store for the venue",
    "start": "2276480",
    "end": "2283599"
  },
  {
    "text": "contains the ticket ids and the event id and there will be one batch shipping at the",
    "start": "2283599",
    "end": "2290480"
  },
  {
    "text": "venue policy for every future event so that ship that batch shipping policy will collect",
    "start": "2290480",
    "end": "2297680"
  },
  {
    "text": "tickets and when it's time they'll deliver them so",
    "start": "2297680",
    "end": "2302960"
  },
  {
    "text": "once one of these two operations happened what we can do is that",
    "start": "2302960",
    "end": "2309839"
  },
  {
    "text": "we can consider the original shipping policy as complete so from the outside",
    "start": "2309839",
    "end": "2315920"
  },
  {
    "text": "perspective shipping is done right so if we",
    "start": "2315920",
    "end": "2321119"
  },
  {
    "text": "immediately shipped going on the right side so there's no collected the venue but it's cheap at home",
    "start": "2321119",
    "end": "2326640"
  },
  {
    "text": "we're fine we're happy it's done tickets are on their way if we decided to store for venue",
    "start": "2326640",
    "end": "2332880"
  },
  {
    "text": "delivery someone else the big shipping the batch shipping at the venue policy",
    "start": "2332880",
    "end": "2338320"
  },
  {
    "text": "have picked up and collected those tickets well store them in in in the batch that need to be",
    "start": "2338320",
    "end": "2344560"
  },
  {
    "text": "shipped in the future so we don't need any more the original shipping policy that can be considered",
    "start": "2344560",
    "end": "2349839"
  },
  {
    "text": "done we can even publish an event like shipment completed and now we have this",
    "start": "2349839",
    "end": "2356960"
  },
  {
    "text": "long-living policy that sooner or later will decide to ship tickets we call a",
    "start": "2356960",
    "end": "2364240"
  },
  {
    "text": "courier give them a bachelor of tickets and that courier will do they they will do their job and once",
    "start": "2364240",
    "end": "2371280"
  },
  {
    "text": "they're done they'll reply back saying we're done tickets are there and then can kick off for example marketing",
    "start": "2371280",
    "end": "2377280"
  },
  {
    "text": "saying we need to send an email to all the customers that decided to collect tickets at the venue",
    "start": "2377280",
    "end": "2382640"
  },
  {
    "text": "in order to let them know how to collect them when the on the day of the event will be",
    "start": "2382640",
    "end": "2391520"
  },
  {
    "text": "and at that point this sub workflow",
    "start": "2392800",
    "end": "2398079"
  },
  {
    "text": "can be considered completed but from the outside who cares right so no one knows that",
    "start": "2398079",
    "end": "2404960"
  },
  {
    "text": "we changed the entire processing inside shipping to accommodate new this new requirement reservation",
    "start": "2404960",
    "end": "2411760"
  },
  {
    "text": "doesn't care finance doesn't care at all other parts of the system might not care at all",
    "start": "2411760",
    "end": "2418720"
  },
  {
    "text": "right the second bit of the definition was each one providing",
    "start": "2418720",
    "end": "2425440"
  },
  {
    "start": "2419000",
    "end": "2746000"
  },
  {
    "text": "compensating actions for every step of the workflow where it can fail",
    "start": "2425440",
    "end": "2430560"
  },
  {
    "text": "let's see what kind of failures we can have let's say that when payment authorized",
    "start": "2430560",
    "end": "2436160"
  },
  {
    "text": "is raised by finance reservation fails and the reservation phase might be a bug",
    "start": "2436160",
    "end": "2444400"
  },
  {
    "text": "so in processing that message there's a bug that makes a reservation go nuts or",
    "start": "2444400",
    "end": "2451599"
  },
  {
    "text": "reservation is down so it's not available so it's not really a failure but no one processes the message",
    "start": "2451599",
    "end": "2456800"
  },
  {
    "text": "right so what happens is that the order created event is never published and",
    "start": "2456800",
    "end": "2463760"
  },
  {
    "text": "finance never charges the credit card and the payment succeeded event is never published and that means",
    "start": "2463760",
    "end": "2470160"
  },
  {
    "text": "that shipping does nothing so the interesting thing is the of this",
    "start": "2470160",
    "end": "2475200"
  },
  {
    "text": "kind of single responsibility principle application is that now",
    "start": "2475200",
    "end": "2480880"
  },
  {
    "text": "a very simple failure in one part of the system is fixing stuff for us in some way",
    "start": "2480880",
    "end": "2487599"
  },
  {
    "text": "because nothing happens there isn't the need of having an if somewhere saying as the reservation",
    "start": "2487599",
    "end": "2493520"
  },
  {
    "text": "failed oh yes i don't need to ship because the simple fact that events are not published make so that",
    "start": "2493520",
    "end": "2501280"
  },
  {
    "text": "the shipment never happens but we have a problem right so we authorize the card",
    "start": "2501280",
    "end": "2509760"
  },
  {
    "text": "what's the problem with authorizing the card well it's not really a problem right so if you ever been to a note hell",
    "start": "2509760",
    "end": "2515119"
  },
  {
    "text": "especially in the u.s for example what they do is that they authorize your car when you check in",
    "start": "2515119",
    "end": "2520640"
  },
  {
    "text": "for incidentals so they're basically saying you're going to stay here a week here is a thousand bucks charging your",
    "start": "2520640",
    "end": "2527280"
  },
  {
    "text": "card authorized on your card so that money is blocked off you cannot use the card anymore for that",
    "start": "2527280",
    "end": "2532720"
  },
  {
    "text": "amount of money and they do they do nothing when you check out",
    "start": "2532720",
    "end": "2537920"
  },
  {
    "text": "why because at the end of the month automatically the credit card provider will discard authorizations",
    "start": "2537920",
    "end": "2545680"
  },
  {
    "text": "that haven't been converted into a payment right so they don't really care we can",
    "start": "2545680",
    "end": "2552480"
  },
  {
    "text": "basically do the same thing so we could say who cares we authorized the card",
    "start": "2552480",
    "end": "2557839"
  },
  {
    "text": "nothing happened sooner or later the authorization will be released or we can decide to be some sort of a",
    "start": "2557839",
    "end": "2565119"
  },
  {
    "text": "polite with our customers and try to compensate the problem so let's see what we can do the problem",
    "start": "2565119",
    "end": "2572079"
  },
  {
    "text": "obviously lives in reservation in finance sorry because we published the payment authorized but we never",
    "start": "2572079",
    "end": "2579040"
  },
  {
    "text": "received the order created event from reservation that means that we have no way to process the second",
    "start": "2579040",
    "end": "2586480"
  },
  {
    "text": "step that is charging the credit card the first question and that's a very",
    "start": "2586480",
    "end": "2592560"
  },
  {
    "text": "interesting temptation is do we need reservation to publish a sort of a failed event",
    "start": "2592560",
    "end": "2601119"
  },
  {
    "text": "and it's very tempting to say yes i'm very sorry to say that that's coupling",
    "start": "2601119",
    "end": "2607280"
  },
  {
    "text": "so whenever we ask someone else outside of our boundaries to change",
    "start": "2607280",
    "end": "2613599"
  },
  {
    "text": "their processes in order to accommodate one of our needs we're basically causing coupling",
    "start": "2613599",
    "end": "2619599"
  },
  {
    "text": "it's not code coupling it's not binary coupling in this case it's a sort of process or business",
    "start": "2619599",
    "end": "2625839"
  },
  {
    "text": "coupling but it's still coupling it is so and as we said before",
    "start": "2625839",
    "end": "2630880"
  },
  {
    "text": "reservation might be down so if reservation is down it won't process the payment",
    "start": "2630880",
    "end": "2636720"
  },
  {
    "text": "authorized event and it won't be able to even publish a reservation failed event so still we won't receive anything from",
    "start": "2636720",
    "end": "2644960"
  },
  {
    "text": "reservation what can we do well there's an interesting thing that",
    "start": "2644960",
    "end": "2650240"
  },
  {
    "text": "we can do so whenever we authorize the card if that authorization succeeds",
    "start": "2650240",
    "end": "2655359"
  },
  {
    "text": "what we can do is that along with publishing the payment authorized event we can",
    "start": "2655359",
    "end": "2662079"
  },
  {
    "text": "set a timeout in this case i'm saying set 40 hours 48 hours sorry",
    "start": "2662079",
    "end": "2669200"
  },
  {
    "text": "time out to release money what's the timeout it's a message to ourselves we're",
    "start": "2669200",
    "end": "2674400"
  },
  {
    "text": "basically asking the system to hey deliver me back this message",
    "start": "2674400",
    "end": "2679839"
  },
  {
    "text": "in 48 hours can be 48 seconds can be 48 weeks or whatever whatever the process",
    "start": "2679839",
    "end": "2685359"
  },
  {
    "text": "dictates right so 48 hours later what happens is that the message comes",
    "start": "2685359",
    "end": "2690560"
  },
  {
    "text": "back it reappears in the queue and what finance can do is",
    "start": "2690560",
    "end": "2696240"
  },
  {
    "text": "ask itself did i receive the reservation event the reservation the order check it out",
    "start": "2696240",
    "end": "2703119"
  },
  {
    "text": "or the reservation told me something if the answer is no we release money",
    "start": "2703119",
    "end": "2708640"
  },
  {
    "text": "that's it easy peasy if the answer is yes we do nothing we don't need to do",
    "start": "2708640",
    "end": "2714160"
  },
  {
    "text": "anything why because in the meantime it means that reservation came back to us with the",
    "start": "2714160",
    "end": "2720880"
  },
  {
    "text": "order created event so finally already the finance already charged the credit card",
    "start": "2720880",
    "end": "2726000"
  },
  {
    "text": "published the payment succeeded event and marked this process specific to this order as",
    "start": "2726000",
    "end": "2732560"
  },
  {
    "text": "completed so the timeout fires and expires for a process that doesn't exist anymore",
    "start": "2732560",
    "end": "2739680"
  },
  {
    "text": "so we're happy again right there isn't really nothing that we need to do",
    "start": "2739680",
    "end": "2745040"
  },
  {
    "text": "before going ahead let's give a little dive a little bit sorry into what a timeout is let's try to",
    "start": "2745040",
    "end": "2751920"
  },
  {
    "start": "2746000",
    "end": "2931000"
  },
  {
    "text": "picture that in in code so we said there's the reservation checked",
    "start": "2751920",
    "end": "2757520"
  },
  {
    "text": "out event that is handled by finance and on on the left side of the screen you can see the the finance code so what",
    "start": "2757520",
    "end": "2764240"
  },
  {
    "text": "finance does is sends out an authorization request that goes to the payment gateway the payment gateway",
    "start": "2764240",
    "end": "2771280"
  },
  {
    "text": "handle handles the authorization request authorize the card talking to the credit card provider and",
    "start": "2771280",
    "end": "2778319"
  },
  {
    "text": "reply with the new authorization response providing the authorization id assuming that the authorization response",
    "start": "2778319",
    "end": "2785200"
  },
  {
    "text": "means that it's succeeded right and we're back to finance",
    "start": "2785200",
    "end": "2790640"
  },
  {
    "text": "where finance receives the authorization response and says well i'm going to publish the",
    "start": "2790640",
    "end": "2796400"
  },
  {
    "text": "payment authorized event and the same transaction",
    "start": "2796400",
    "end": "2801520"
  },
  {
    "text": "i'll get to that in a second i'm going to request the timeout for 48 hours so that",
    "start": "2801520",
    "end": "2809119"
  },
  {
    "text": "someone will get back to me in 48 hours when the timeout fires then we can",
    "start": "2809119",
    "end": "2815760"
  },
  {
    "text": "simply check a boolean saying was it reserved yes no and do whatever we need to do",
    "start": "2815760",
    "end": "2822400"
  },
  {
    "text": "based on the process there are a couple of things i'd like to highlight here single responsibility",
    "start": "2822400",
    "end": "2828160"
  },
  {
    "text": "principle at its maximum so we're sending out a message to do one single operation",
    "start": "2828160",
    "end": "2836560"
  },
  {
    "text": "and if that operation is not idempotent so we cannot really do let's",
    "start": "2836560",
    "end": "2842240"
  },
  {
    "text": "say let's imagine that we cannot really do authorized card multiple times because the the third",
    "start": "2842240",
    "end": "2847520"
  },
  {
    "text": "party we're talking to is not that important we're going to do this one single operation only once",
    "start": "2847520",
    "end": "2853359"
  },
  {
    "text": "and if it fails we do nothing or we can reply or publish an event authorization failed",
    "start": "2853359",
    "end": "2860400"
  },
  {
    "text": "or whatever and just stop the process and wait for a human to come in and probably pick up the",
    "start": "2860400",
    "end": "2866000"
  },
  {
    "text": "phone and call the credit card provider hey what happened with this transaction and secondly",
    "start": "2866000",
    "end": "2873280"
  },
  {
    "text": "these two operations the publish and the request timeout are transactional",
    "start": "2873280",
    "end": "2878720"
  },
  {
    "text": "most of the transports or the queueing systems provides a way to have a",
    "start": "2878720",
    "end": "2885440"
  },
  {
    "text": "sort of transactional dispatch to the queue because both the publish and the request timeout",
    "start": "2885440",
    "end": "2892240"
  },
  {
    "text": "are messages that will be sent to the queueing system and the publish is going to behave like",
    "start": "2892240",
    "end": "2899280"
  },
  {
    "text": "a regular message that for example on rabbit mq goes to an exchange and then is broadcasting to broadcast it to",
    "start": "2899280",
    "end": "2905839"
  },
  {
    "text": "subscribers and request timeout it's a delayed delivery that goes into the native delayed",
    "start": "2905839",
    "end": "2912079"
  },
  {
    "text": "delivery infrastructure of rabbi and q and is then resurrected into the original queue",
    "start": "2912079",
    "end": "2917280"
  },
  {
    "text": "when the timeout expires but they have to be transactional otherwise with back to",
    "start": "2917280",
    "end": "2922480"
  },
  {
    "text": "the problem of what happens if the publisher succeeds and the request timeout fails that can be a huge",
    "start": "2922480",
    "end": "2930000"
  },
  {
    "text": "problem let's have a look again at the what happens to the",
    "start": "2930000",
    "end": "2936000"
  },
  {
    "start": "2931000",
    "end": "3061000"
  },
  {
    "text": "table schema because we highlighted this as a problem right when we were talking about the process manager",
    "start": "2936000",
    "end": "2942960"
  },
  {
    "text": "the main difference between using a process manager from the storage perspective and using",
    "start": "2942960",
    "end": "2948960"
  },
  {
    "text": "sagas or multiple workflows is that we're basically splitting",
    "start": "2948960",
    "end": "2955880"
  },
  {
    "text": "responsibilities at the storage as well so we can now have",
    "start": "2955880",
    "end": "2961520"
  },
  {
    "text": "each service boundary subdomain microservice whatever you want to call",
    "start": "2961520",
    "end": "2966960"
  },
  {
    "text": "them we can let them have their own storage",
    "start": "2966960",
    "end": "2972559"
  },
  {
    "text": "that can be even different technologies i'm picturing stuff here if they were relational tables but there",
    "start": "2972559",
    "end": "2978400"
  },
  {
    "text": "is nothing preventing finance to use mongodb shipping to use sql and",
    "start": "2978400",
    "end": "2983680"
  },
  {
    "text": "reservation to use whatever cosmos db on azure doesn't really matter the only thing they",
    "start": "2983680",
    "end": "2989359"
  },
  {
    "text": "care about is that they are they are sharing the same conceptual primary key",
    "start": "2989359",
    "end": "2995599"
  },
  {
    "text": "so everyone contains the order id and his order id primary key that",
    "start": "2995599",
    "end": "3001760"
  },
  {
    "text": "represent the order that's coming in from the checkout request process",
    "start": "3001760",
    "end": "3006880"
  },
  {
    "text": "is basically shared across all the services but the important thing is now that",
    "start": "3006880",
    "end": "3012079"
  },
  {
    "text": "everyone can avail can evolve independently so if we try to fit",
    "start": "3012079",
    "end": "3018240"
  },
  {
    "text": "the requirement of shipping tickets at the venue here we still need a schema change in the",
    "start": "3018240",
    "end": "3024960"
  },
  {
    "text": "shipping table but that's not going to be a problem for anyone else",
    "start": "3024960",
    "end": "3031040"
  },
  {
    "text": "so we reach autonomous we reach the autonomy at all the levels we're basically",
    "start": "3031040",
    "end": "3036559"
  },
  {
    "text": "cutting the system instead of only horizontal layers into vertical layers that's why i like",
    "start": "3036559",
    "end": "3042319"
  },
  {
    "text": "to call them vertical slices each slice reservation shipping and finance",
    "start": "3042319",
    "end": "3047599"
  },
  {
    "text": "is completely isolated from all the others and they are just talking to each other",
    "start": "3047599",
    "end": "3053200"
  },
  {
    "text": "using those pivotal events or pub sub events in order to communicate state changes",
    "start": "3053200",
    "end": "3060640"
  },
  {
    "text": "to the other actors in the system so let's recap a little bit uh what",
    "start": "3060640",
    "end": "3066559"
  },
  {
    "start": "3061000",
    "end": "3161000"
  },
  {
    "text": "sagas brings to the table what sagas bring to the table the business process is distributed now",
    "start": "3066559",
    "end": "3073839"
  },
  {
    "text": "so we have many parties participating into the business process as we pictured out we have finance",
    "start": "3073839",
    "end": "3080240"
  },
  {
    "text": "reservation and shipping each one of them respecting the single responsibility principle",
    "start": "3080240",
    "end": "3086000"
  },
  {
    "text": "and if we want to be even more prescriptive we could say that inside",
    "start": "3086000",
    "end": "3094240"
  },
  {
    "text": "each one of them we can have many workflows now do like we talked about when we introduced the the",
    "start": "3094240",
    "end": "3100319"
  },
  {
    "text": "new feature in the in shipping where we had multiple workflows again",
    "start": "3100319",
    "end": "3106160"
  },
  {
    "text": "inside the shipping each one respecting the single responsibility principle doing",
    "start": "3106160",
    "end": "3111599"
  },
  {
    "text": "one single thing the evolution is not conflicting anymore and it's simpler we",
    "start": "3111599",
    "end": "3117680"
  },
  {
    "text": "have independent units of deployment and we have independent",
    "start": "3117680",
    "end": "3122720"
  },
  {
    "text": "scale out units so that's it that's the important bits right what sagas bring to the table",
    "start": "3122720",
    "end": "3130079"
  },
  {
    "text": "obviously in the interest of time i have no time to run a demo but there's a demo available that shows",
    "start": "3130079",
    "end": "3135520"
  },
  {
    "text": "all this running with multiple processes starting up it's built in net core and it's",
    "start": "3135520",
    "end": "3142160"
  },
  {
    "text": "available on github here are the links to the demo and by the way here are the links to the slides they're already available",
    "start": "3142160",
    "end": "3147920"
  },
  {
    "text": "and if you wanna hear woody dahan that is my boss by the way talking about sagas you can go to that link and there",
    "start": "3147920",
    "end": "3155359"
  },
  {
    "text": "are a couple of hours of video woody diving into what sagas are",
    "start": "3155359",
    "end": "3161359"
  },
  {
    "start": "3161000",
    "end": "3248000"
  },
  {
    "text": "so let's do a quick recap pitfalls first because obviously we",
    "start": "3161359",
    "end": "3167920"
  },
  {
    "text": "don't have silver bullets right so we've seen that in transitioning from",
    "start": "3167920",
    "end": "3173119"
  },
  {
    "text": "the naive implementation to the process manager to sagas we gain something at every step",
    "start": "3173119",
    "end": "3180720"
  },
  {
    "text": "and but what's the problem of sagas well the main issue of sagas it's so i don't really define that an",
    "start": "3180720",
    "end": "3186800"
  },
  {
    "text": "issue as an issue but the most important thing we need to think about is that",
    "start": "3186800",
    "end": "3191839"
  },
  {
    "text": "now the state is distributed so we need to monitor the distributed state",
    "start": "3191839",
    "end": "3198079"
  },
  {
    "text": "and that might be problematic right so let's let's try to picture yourself",
    "start": "3198079",
    "end": "3203119"
  },
  {
    "text": "at the on the phone with a customer saying where's my order",
    "start": "3203119",
    "end": "3208160"
  },
  {
    "text": "and you have to look into multiple storages in order to be able to rebuild the order",
    "start": "3208160",
    "end": "3214000"
  },
  {
    "text": "status and understand what's the status of the order whether on the contrary in a process manager with the single table",
    "start": "3214000",
    "end": "3220960"
  },
  {
    "text": "and in the naive approach as well there's probably a single table where everything is stored it's super easy to understand",
    "start": "3220960",
    "end": "3227359"
  },
  {
    "text": "what's the problem right and so as soon as we started distributing and",
    "start": "3227359",
    "end": "3234319"
  },
  {
    "text": "trying to fit in autonomy into the system will obviously get something back that is all the",
    "start": "3234319",
    "end": "3240480"
  },
  {
    "text": "advantages that we listed plus a pitfall in this case that the fact that",
    "start": "3240480",
    "end": "3245760"
  },
  {
    "text": "the state is distributed so but what are the main takeaways",
    "start": "3245760",
    "end": "3252640"
  },
  {
    "start": "3248000",
    "end": "3351000"
  },
  {
    "text": "behaviors define how to design processes not data so",
    "start": "3254160",
    "end": "3260800"
  },
  {
    "text": "follow the coupling and not the data listen to verbs and not to noun",
    "start": "3260800",
    "end": "3267440"
  },
  {
    "text": "listen to events and not to noun data are a kind of side effect we need",
    "start": "3267440",
    "end": "3273200"
  },
  {
    "text": "to store data somewhere but the thing that is important is which kind of",
    "start": "3273200",
    "end": "3278720"
  },
  {
    "text": "processes are touching which kind of data so it's the process boundary that",
    "start": "3278720",
    "end": "3284000"
  },
  {
    "text": "defines which data should be in those boundaries and everything else that is not touched",
    "start": "3284000",
    "end": "3290559"
  },
  {
    "text": "by that process is not needed in there and once we have identified processes we",
    "start": "3290559",
    "end": "3296480"
  },
  {
    "text": "can chop them up and start calling them services microservices and defining boundaries or",
    "start": "3296480",
    "end": "3302319"
  },
  {
    "text": "bounded contacts or whatever kind of architectural approach style you're using and the second one",
    "start": "3302319",
    "end": "3309440"
  },
  {
    "text": "is that use delayed messaging to model time instead of coming up with batch jobs for",
    "start": "3309440",
    "end": "3316480"
  },
  {
    "text": "example to let's let's go let me go through the entire database of millions of orders we've received",
    "start": "3316480",
    "end": "3322559"
  },
  {
    "text": "to see if someone hasn't paid what can possibly go wrong right so what we can do is basically for every",
    "start": "3322559",
    "end": "3329520"
  },
  {
    "text": "transaction like we did for example for the credit card we can send ourselves a delayed message",
    "start": "3329520",
    "end": "3335520"
  },
  {
    "text": "saying hey check this transaction was it paid yes otherwise there is money so we can model",
    "start": "3335520",
    "end": "3341920"
  },
  {
    "text": "every single kind of this kind of interaction using delayed messages to make decisions",
    "start": "3341920",
    "end": "3347760"
  },
  {
    "text": "in a synchronous world in the future and the last beta is probably the most important one there is no such thing as",
    "start": "3347760",
    "end": "3354720"
  },
  {
    "start": "3351000",
    "end": "3421000"
  },
  {
    "text": "orchestration and that's really really important most",
    "start": "3354720",
    "end": "3359760"
  },
  {
    "text": "of the times there's no need for an orchestrator there's no need for someone or something",
    "start": "3359760",
    "end": "3367599"
  },
  {
    "text": "overarching the entire process there's no need for process manager",
    "start": "3367599",
    "end": "3373119"
  },
  {
    "text": "we can always model this kind of relationship between autonomous",
    "start": "3373119",
    "end": "3378799"
  },
  {
    "text": "components in a system to model what a business process is without",
    "start": "3378799",
    "end": "3383920"
  },
  {
    "text": "any need of building any orchestrator i i usually tell people whenever you think",
    "start": "3383920",
    "end": "3389440"
  },
  {
    "text": "to orchestration think to coupling and coupling is bad right not necessarily",
    "start": "3389440",
    "end": "3394720"
  },
  {
    "text": "we can talk about coupling later but that's not the point of the talk but it orchestration is not really",
    "start": "3394720",
    "end": "3401040"
  },
  {
    "text": "needed we can model every single process using autonomous components that can",
    "start": "3401040",
    "end": "3407599"
  },
  {
    "text": "talk to each other using just events or state changes and putting in and setting up compensating actions",
    "start": "3407599",
    "end": "3415520"
  },
  {
    "text": "in order to overcome two problems that they might face while dealing with the process",
    "start": "3415520",
    "end": "3421200"
  },
  {
    "text": "itself so my name is mauro servienti i'm a solution architect at particular software",
    "start": "3421200",
    "end": "3426640"
  },
  {
    "text": "we're the makers of a service bus there's a few content information you can reach me",
    "start": "3426640",
    "end": "3432079"
  },
  {
    "text": "too and thank you very much it was a pleasure",
    "start": "3432079",
    "end": "3437200"
  },
  {
    "text": "if you have any question obviously i'll be available in slack or in the qa",
    "start": "3437200",
    "end": "3444799"
  },
  {
    "text": "window now i guess for the next five minutes because then there's the next speaker coming up",
    "start": "3444799",
    "end": "3452000"
  },
  {
    "text": "or ping me directory i'll be available for the next couple of days i'll be around for the next couple of",
    "start": "3452000",
    "end": "3457599"
  },
  {
    "text": "days and you can reach to me even privately on slack no problems we can even set up a call if you want to",
    "start": "3457599",
    "end": "3463200"
  },
  {
    "text": "discuss face to face that it's much better than text thanks again",
    "start": "3463200",
    "end": "3470720"
  }
]