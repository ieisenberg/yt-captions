[
  {
    "text": "hello everybody thank you all so much for coming I'm I'm so happy to see you all",
    "start": "9120",
    "end": "15519"
  },
  {
    "text": "here uh uh I know you had a lot of choices for places to be so thank you for being here uh just to give you an",
    "start": "15519",
    "end": "23680"
  },
  {
    "text": "upfront uh content warning there's going to be a lot of JavaScript in this talk so just to warn you",
    "start": "23680",
    "end": "30560"
  },
  {
    "text": "uh but yeah hello everybody my name is Joe I am a developer Advocate at Dino",
    "start": "30560",
    "end": "36239"
  },
  {
    "text": "and today I'm going to be talking to you about building an in browser code editor",
    "start": "36239",
    "end": "41399"
  },
  {
    "text": "that not only will uh syntax highlight the code that you're",
    "start": "41399",
    "end": "47480"
  },
  {
    "text": "displaying but also will actually run it in the browser and you'll be able to execute it and see the output uh but",
    "start": "47480",
    "end": "54440"
  },
  {
    "text": "before we get started I'd just like to know a little bit about you lot so uh who here's web",
    "start": "54440",
    "end": "61519"
  },
  {
    "text": "developer okay awesome who has heard of Dino before anybody used Dino",
    "start": "61519",
    "end": "69560"
  },
  {
    "text": "before amazing okay awesome so today we're going to be building with Dino and",
    "start": "69560",
    "end": "75320"
  },
  {
    "text": "I hope for those of you who haven't used it before I can introduce uh some things that you might love uh so let's dive in",
    "start": "75320",
    "end": "82640"
  },
  {
    "text": "and build an editor but first let's talk about why we might want to build a code editor so aside from it being a kind of",
    "start": "82640",
    "end": "89520"
  },
  {
    "text": "cool project there's a couple of reasons why you might want to do this if you've got a company that offers an API or",
    "start": "89520",
    "end": "97880"
  },
  {
    "text": "other developer tools you might want to offer your developers an in browser way to test out the functionality to try out",
    "start": "97880",
    "end": "105479"
  },
  {
    "text": "little code blocks as a way of improving your onboarding experience for",
    "start": "105479",
    "end": "110520"
  },
  {
    "text": "developers or you might want to give them little code Snippets next to the documentation so that they can try",
    "start": "110520",
    "end": "116200"
  },
  {
    "text": "things out without having to like tab between their own uh editor and the",
    "start": "116200",
    "end": "123399"
  },
  {
    "text": "browser or if you're running a low or no code solution having an in browser",
    "start": "123399",
    "end": "128599"
  },
  {
    "text": "editor can be an excellent way to offer your developers a little bit of extra functionality so they can dive in and",
    "start": "128599",
    "end": "134920"
  },
  {
    "text": "actually add some of their own code without needing to swap out of your tool or your",
    "start": "134920",
    "end": "141480"
  },
  {
    "text": "product but running code that is written by other people presents us with a",
    "start": "141480",
    "end": "146720"
  },
  {
    "text": "problem we can't always trust the code that people are writing we can't just",
    "start": "146720",
    "end": "151800"
  },
  {
    "text": "execute any code that we allow people to write on our websites allowing third party code is going to open us up to a",
    "start": "151800",
    "end": "158280"
  },
  {
    "text": "whole load of security vulnerabilities uh malicious scripts might be stealing",
    "start": "158280",
    "end": "163440"
  },
  {
    "text": "data it could be possible to inject harmful code into our tools and it's just going to compromise our users",
    "start": "163440",
    "end": "170000"
  },
  {
    "text": "security so we need a way that we're going to be able to prevent malicious code from wreaking havoc on our own code",
    "start": "170000",
    "end": "177000"
  },
  {
    "text": "basis and not only that but if if you're going to be executing other people's",
    "start": "177000",
    "end": "182840"
  },
  {
    "text": "code you're going to need resources to actually run that code so you're going to need CPU you're going to need memory",
    "start": "182840",
    "end": "189120"
  },
  {
    "text": "and this could possibly if they're running something uh particularly intensive this could potentially impact",
    "start": "189120",
    "end": "196080"
  },
  {
    "text": "the uh page load for your own site so in order to build something that",
    "start": "196080",
    "end": "203200"
  },
  {
    "text": "is going to execute third party code you may end up needing to provision a large",
    "start": "203200",
    "end": "209200"
  },
  {
    "text": "amount of compute you will probably need to install something like kubernetes then you're going to need to",
    "start": "209200",
    "end": "216200"
  },
  {
    "text": "build a sort of management API which is going to make sure that only the correct shape of code is allowed to be deployed",
    "start": "216200",
    "end": "223560"
  },
  {
    "text": "onto your cluster then you're going to need to make sure your container instances are secure then you're going",
    "start": "223560",
    "end": "230239"
  },
  {
    "text": "to need to make sure that you don't run out of storage likely you're going to need an entire Ops Team to do this and the truth",
    "start": "230239",
    "end": "238439"
  },
  {
    "text": "is writing this kind thing can spiral into a potentially you know millions of",
    "start": "238439",
    "end": "244159"
  },
  {
    "text": "dollars worth of problem and that's a pretty significant barrier to entry for folks that just want to allow people to",
    "start": "244159",
    "end": "251400"
  },
  {
    "text": "execute little blocks of code so with all of that in mind how are we actually",
    "start": "251400",
    "end": "256959"
  },
  {
    "text": "going to build this editor and what are we going to need in order to do",
    "start": "256959",
    "end": "262320"
  },
  {
    "text": "so so first of all we are going to need we're going to need to write an app of",
    "start": "264639",
    "end": "270120"
  },
  {
    "text": "some kind where we're actually presenting this in browser editor uh somewhere where they can type",
    "start": "270120",
    "end": "275919"
  },
  {
    "text": "in some code a bit like jsbin or code pen or any of these things that you've seen before and a go button that they",
    "start": "275919",
    "end": "281840"
  },
  {
    "text": "can press to execute the code then we're going to need some hosting which we're going to run this on and uh a place",
    "start": "281840",
    "end": "290440"
  },
  {
    "text": "where you know we're they're going to be presented with a URL they can visit finally we're going to need an",
    "start": "290440",
    "end": "295880"
  },
  {
    "text": "application platform that we can actually run the user's code on uh likely something with serverless",
    "start": "295880",
    "end": "303000"
  },
  {
    "text": "functions and without wanting to sound too much like a sales pitch or a shill I",
    "start": "303000",
    "end": "308440"
  },
  {
    "text": "work at Dino and Dino offers all of these tools for us so I'm going to use these but you can of course use your",
    "start": "308440",
    "end": "316039"
  },
  {
    "text": "favorite tooling uh I think the dino tooling offers a",
    "start": "316039",
    "end": "321800"
  },
  {
    "text": "really great developer experience and I hope you will see that too during this presentation but of course you can use",
    "start": "321800",
    "end": "327280"
  },
  {
    "text": "the tools of your choice so we're going to be building with Dino",
    "start": "327280",
    "end": "332520"
  },
  {
    "text": "but what is Dino I I asked you if you'd heard of it uh dino is an open source",
    "start": "332520",
    "end": "337840"
  },
  {
    "text": "JavaScript runtime built for the modern web uh it natively supports typescript",
    "start": "337840",
    "end": "343759"
  },
  {
    "text": "out the box so we can just write typescript and run it immediately uh we",
    "start": "343759",
    "end": "349360"
  },
  {
    "text": "can write you know the strongly typed code that we know and love without needing to install or configure",
    "start": "349360",
    "end": "354960"
  },
  {
    "text": "TSC uh the runtime also includes built-in tooling for things like linting",
    "start": "354960",
    "end": "360880"
  },
  {
    "text": "and formatting these all just come out the box we don't need to install uh any",
    "start": "360880",
    "end": "365960"
  },
  {
    "text": "third party tools and you might have heard of Dino we've been around for quite a few years Dino was actually",
    "start": "365960",
    "end": "372440"
  },
  {
    "text": "written by Ryan D who was the guy who originally wrote node um and Dino was his kind of apology to the uh JavaScript",
    "start": "372440",
    "end": "381520"
  },
  {
    "text": "developers of the world it was him taking 10 years worth of node experience and saying I can do this better second",
    "start": "381520",
    "end": "387800"
  },
  {
    "text": "time round um you may have recently seen we launched Doo 2.0 we had a really",
    "start": "387800",
    "end": "393400"
  },
  {
    "text": "great launch video uh if you've not seen it do check it out and Dino works out of the box with",
    "start": "393400",
    "end": "399919"
  },
  {
    "text": "all of your favorite tooling all of your modern web tools so we're going to build our solution using react to do our UI",
    "start": "399919",
    "end": "407680"
  },
  {
    "text": "framework we're going to use vit to uh serve our project locally um and then",
    "start": "407680",
    "end": "413720"
  },
  {
    "text": "we're going to write some typescript because we can absolutely just do that out the box without needing any configuration",
    "start": "413720",
    "end": "419800"
  },
  {
    "text": "so that's what our app is going to be we're also going to need to host our app online somewhere um and as I say you can",
    "start": "419800",
    "end": "426960"
  },
  {
    "text": "use any hosting tool that you like I'm going to be using Doo deploy which is the easiest and fastest way to deploy",
    "start": "426960",
    "end": "433599"
  },
  {
    "text": "Dino apps to the cloud uh it's deployed within the dino runtime so it's going to be super fast",
    "start": "433599",
    "end": "441000"
  },
  {
    "text": "for your Dino code uh you can deploy with a single GitHub action which makes it super easy um and deploy has a very",
    "start": "441000",
    "end": "448879"
  },
  {
    "text": "generous great here so do check it out uh and the final piece of our puzzle as I mentioned is we're going to need some",
    "start": "448879",
    "end": "455440"
  },
  {
    "text": "sort of serverless functions so on top of Dino deploy we have a set of",
    "start": "455440",
    "end": "461160"
  },
  {
    "text": "capabilities which are designed for securely running thirdparty code um and the whole idea is it's built",
    "start": "461160",
    "end": "468800"
  },
  {
    "text": "with this idea of building sandboxes in mind and we call it sub hosting what it is is it's a tool that allows developers",
    "start": "468800",
    "end": "475560"
  },
  {
    "text": "like yourselves to offer Cloud Computing Services to your own customers so you",
    "start": "475560",
    "end": "481639"
  },
  {
    "text": "can uh run code written by your own customers without having to worry about",
    "start": "481639",
    "end": "488159"
  },
  {
    "text": "the infrastructure or the scalability we've done all of that for you sub",
    "start": "488159",
    "end": "493400"
  },
  {
    "text": "hosting supports JavaScript and typescript it's optimized to be super fast um so we're going to be able to run",
    "start": "493400",
    "end": "501720"
  },
  {
    "text": "this code execute it within millisecs so with all of this in mind let's actually build out this",
    "start": "501720",
    "end": "508120"
  },
  {
    "text": "app so the first thing that we're going to need to do is we're going to need to set up Dino super easy uh you can",
    "start": "508120",
    "end": "514919"
  },
  {
    "text": "install it with Brew uh with curl with chocy however you like and Dino has a vs",
    "start": "514919",
    "end": "522719"
  },
  {
    "text": "code extension which is going to do all your nice syntax highlighting and code",
    "start": "522719",
    "end": "527880"
  },
  {
    "text": "completions and all of your hinting and type warnings that kind of",
    "start": "527880",
    "end": "533120"
  },
  {
    "text": "thing Dino has a tool that will set up a basic project for you so doo in it and",
    "start": "533120",
    "end": "538839"
  },
  {
    "text": "then the name of your project will set you up with a very basic uh JavaScript",
    "start": "538839",
    "end": "544440"
  },
  {
    "text": "project this is going to contain a main.ts file a test file and a doo Json",
    "start": "544440",
    "end": "551560"
  },
  {
    "text": "file and if you're coming from node uh your Doo Json file is very similar to",
    "start": "551560",
    "end": "558519"
  },
  {
    "text": "your package Json it's where we're going to configure the project the main TS is going to be our entry point and then",
    "start": "558519",
    "end": "564680"
  },
  {
    "text": "Dino really believes in writing tests and writing good tests so Dino has a test Runner built in uh again we don't",
    "start": "564680",
    "end": "572000"
  },
  {
    "text": "need to install anything it just comes with doo so Doo is going to set up a test file for us as well to encourage us",
    "start": "572000",
    "end": "578839"
  },
  {
    "text": "all to be writing tests next up we're going to install the dependencies that we're going to need so",
    "start": "578839",
    "end": "584839"
  },
  {
    "text": "I said we're going to use react we're going to use react routed to do our routing we're going to use vit to serve",
    "start": "584839",
    "end": "591519"
  },
  {
    "text": "this project locally and finally we're going to use prism JS which is going to do our syntax highlighting for us in the",
    "start": "591519",
    "end": "598640"
  },
  {
    "text": "editor and we'll talk about that a bit later on next up we're going to add in a new",
    "start": "598640",
    "end": "605920"
  },
  {
    "text": "script into our Dino Json file and this is what we're going to use to start up vit because vit is written with node in",
    "start": "605920",
    "end": "613720"
  },
  {
    "text": "mind rather than Doo it's going to expect a node modules directory now Doo",
    "start": "613720",
    "end": "619040"
  },
  {
    "text": "doesn't do a local installation of your dependencies it uses a global cache",
    "start": "619040",
    "end": "624800"
  },
  {
    "text": "instead which sort of keeps your project folder a bit neater in my opinion",
    "start": "624800",
    "end": "629880"
  },
  {
    "text": "so by default Dino won't set up a node modules directory but because V expects it we're just going to use this little",
    "start": "629880",
    "end": "637279"
  },
  {
    "text": "extra flag here just to say please set up a node modules directory for me and",
    "start": "637279",
    "end": "642680"
  },
  {
    "text": "then we've got this minus a here so in this line Dino is saying allow",
    "start": "642680",
    "end": "649200"
  },
  {
    "text": "permissions to sensitive apis and Dino comes with this whole permissions model",
    "start": "649200",
    "end": "655200"
  },
  {
    "text": "we're all super used to using third party modules we kind of just allow them to run rampant in our projects we don't",
    "start": "655200",
    "end": "662720"
  },
  {
    "text": "know what they're accessing we don't know uh yeah what permissions we're giving them",
    "start": "662720",
    "end": "669959"
  },
  {
    "text": "so Dino has a whole load of permissions Flags which allow you to specifically",
    "start": "669959",
    "end": "676120"
  },
  {
    "text": "say you can have environment access you can have network access you can have uh",
    "start": "676120",
    "end": "681880"
  },
  {
    "text": "read or write access it just keeps you a little bit safer especially if you're",
    "start": "681880",
    "end": "687200"
  },
  {
    "text": "using a third party dependency that maybe you don't trust or you don't know exactly what it's",
    "start": "687200",
    "end": "693120"
  },
  {
    "text": "doing it's also really nice um if you don't include the minus a doo will",
    "start": "693120",
    "end": "698200"
  },
  {
    "text": "prompt and ask you do you want to allow this thing to have access and it'll",
    "start": "698200",
    "end": "703600"
  },
  {
    "text": "actually show you which dependencies are asking for what access it's just kind of it's a a bit of",
    "start": "703600",
    "end": "711079"
  },
  {
    "text": "a different mindset from node which is more of a sort of wild west of uh",
    "start": "711079",
    "end": "716480"
  },
  {
    "text": "permissions this is more no I'm going to allow this I'm going to deny that uh but",
    "start": "716480",
    "end": "721680"
  },
  {
    "text": "when you're in local development mode you can just use minus a which is just",
    "start": "721680",
    "end": "727240"
  },
  {
    "text": "have access to everything uh we don't recommend using that when you're not in local development mode so absolutely make sure",
    "start": "727240",
    "end": "734560"
  },
  {
    "text": "you're applying the right permissions so our complete Doo Json file is going to look like this and then",
    "start": "734560",
    "end": "741600"
  },
  {
    "text": "you can hopefully see it looks a lot like your um package Json we've got our",
    "start": "741600",
    "end": "747800"
  },
  {
    "text": "Imports which are our dependent and we've got our tasks which are our scripts so next let's look at the",
    "start": "747800",
    "end": "755320"
  },
  {
    "text": "structure of how we're actually going to build this project so the directory structure we're going to need is going to look like this uh and let's assume",
    "start": "755320",
    "end": "763199"
  },
  {
    "text": "that we've created all of these files and folders ready to go the important thing to note here is that we've split",
    "start": "763199",
    "end": "769040"
  },
  {
    "text": "it up so we've got a client directory and we've got a server directory and the client directory is where we're going to",
    "start": "769040",
    "end": "775399"
  },
  {
    "text": "build our react app and the server directory is where we're going to start building out the",
    "start": "775399",
    "end": "781639"
  },
  {
    "text": "apis we're going to build a nice simple HTTP server which is going to also serve",
    "start": "781639",
    "end": "787480"
  },
  {
    "text": "the react app um so let's jump into in fact let's first look at the UI of what",
    "start": "787480",
    "end": "794800"
  },
  {
    "text": "we're going to build um so please excuse my basic UI design skills um but this",
    "start": "794800",
    "end": "802880"
  },
  {
    "text": "should hopefully illustrate what it is that we're going to build so we've got a text area where users are going to be able to type in their code we've got a",
    "start": "802880",
    "end": "810199"
  },
  {
    "text": "button for them to click to run the code and we've got a little iframe here which is going to display the output of their",
    "start": "810199",
    "end": "817079"
  },
  {
    "text": "code once it has been executed so let's talk about the logic that we're going to",
    "start": "817079",
    "end": "822320"
  },
  {
    "text": "need in order to power this UI users are going to type in their code and we're going to then click the button to run my",
    "start": "822320",
    "end": "829880"
  },
  {
    "text": "code when they do that we're going to take that code from the text box and",
    "start": "829880",
    "end": "835759"
  },
  {
    "text": "we're going to create a fork of that code and then we're going to send it off to the sub hosting API the sub hosting",
    "start": "835759",
    "end": "843160"
  },
  {
    "text": "API is going to spin up a new function run the code and return us a URL which",
    "start": "843160",
    "end": "849120"
  },
  {
    "text": "is going to uh contain the output of that code we can then display the",
    "start": "849120",
    "end": "855240"
  },
  {
    "text": "contents of that URL in an if frame in the UI super simple nice and easy so",
    "start": "855240",
    "end": "861480"
  },
  {
    "text": "let's actually build out the UI itself we're going to build out a super basic lowii react app I hope that code is big",
    "start": "861480",
    "end": "869199"
  },
  {
    "text": "enough for you to be able to read uh so this is our entry point this is our main. TSX file in here we're going to",
    "start": "869199",
    "end": "877959"
  },
  {
    "text": "create two logical Pages for this app we've got a view page and an edit page",
    "start": "877959",
    "end": "884759"
  },
  {
    "text": "and the reason why I'm separating out these two is just so that we don't spam our sub hosting uh account every single",
    "start": "884759",
    "end": "892040"
  },
  {
    "text": "time a user lands on the page they have to actually click the I want to write some code button it's just going to save",
    "start": "892040",
    "end": "899440"
  },
  {
    "text": "us all money in the long run if we're paying for processing uh so we'll set up our roots",
    "start": "899440",
    "end": "906839"
  },
  {
    "text": "and we will pass each page as a prop in The Roots so we can see we've got our",
    "start": "906839",
    "end": "912639"
  },
  {
    "text": "view code and we've got our edit code there the app component itself is super",
    "start": "912639",
    "end": "919920"
  },
  {
    "text": "duper simple it just puts each of those page components that we passed onto the",
    "start": "919920",
    "end": "925240"
  },
  {
    "text": "page itself so let's take a look first at the view code so this is what they're going to see when they first land on the",
    "start": "925240",
    "end": "931800"
  },
  {
    "text": "page uh for neatness what I've done is I've folded away the functions that we're going to be using into this API",
    "start": "931800",
    "end": "938720"
  },
  {
    "text": "client. TS file which you can see included at the top we'll take a look at that in a",
    "start": "938720",
    "end": "943959"
  },
  {
    "text": "minute but for now what we're going to do is we're going to present the user with just a block of sample code so if",
    "start": "943959",
    "end": "950319"
  },
  {
    "text": "they want to just test out this functionality they've got some code on the page that they can already run we're",
    "start": "950319",
    "end": "956079"
  },
  {
    "text": "going to take that sample code display it in a pre element and then we've just got a button that they can click and",
    "start": "956079",
    "end": "963079"
  },
  {
    "text": "that's going to Fork the code and set up a new sub hosting uh",
    "start": "963079",
    "end": "969440"
  },
  {
    "text": "instance so next up let's take a look at the edit page now we're getting a little bit more complicated the uh font size is",
    "start": "969440",
    "end": "976399"
  },
  {
    "text": "getting smaller uh on this page we've got a text area instead of a pre and this is going",
    "start": "976399",
    "end": "983079"
  },
  {
    "text": "to be where our users can type in their code uh we're going to take that example code",
    "start": "983079",
    "end": "990480"
  },
  {
    "text": "and put it into the text area for them again just so they have something they can edit if they want to uh and finally",
    "start": "990480",
    "end": "996480"
  },
  {
    "text": "on this page we have our Tech um sorry we have our deployment viewer component",
    "start": "996480",
    "end": "1003279"
  },
  {
    "text": "that is literally just an iframe um I won't bother showing you what that component looks like because yeah it's",
    "start": "1003279",
    "end": "1009199"
  },
  {
    "text": "just an if frame let's instead look at the logic of what this is actually doing",
    "start": "1009199",
    "end": "1015600"
  },
  {
    "text": "so let's give some space for our logic we're going to add a few State variables",
    "start": "1015600",
    "end": "1021639"
  },
  {
    "text": "to make the UI reactive and we're going to pass our basic example code into the",
    "start": "1021639",
    "end": "1027678"
  },
  {
    "text": "text area which is what is happening here then we're going to add a deploy",
    "start": "1027679",
    "end": "1033438"
  },
  {
    "text": "changes function and what this is going to do is when the user clicks on the Run button it's going to deploy their",
    "start": "1033439",
    "end": "1039678"
  },
  {
    "text": "changes to our serice side API it's going to take whatever code it is copy",
    "start": "1039679",
    "end": "1045400"
  },
  {
    "text": "it and uh send it to the sub hosed API which is then going to uh run it in a",
    "start": "1045400",
    "end": "1053160"
  },
  {
    "text": "function each sub hosted function is going to be given its own URL so the deployment viewer can then just display",
    "start": "1053160",
    "end": "1060679"
  },
  {
    "text": "the contents of whatever is at that URL the deployment viewer is just a text area that takes a",
    "start": "1060679",
    "end": "1067640"
  },
  {
    "text": "URL next let's look at the API client that we imported so this is where all",
    "start": "1067640",
    "end": "1073679"
  },
  {
    "text": "the work is being done this is what is responsible for doing our fetch requests",
    "start": "1073679",
    "end": "1079080"
  },
  {
    "text": "there's a few functions in here that are important so first of all we have this one which is going to just get that",
    "start": "1079080",
    "end": "1087320"
  },
  {
    "text": "sample code and put it into the text area uh then we have another one which",
    "start": "1087320",
    "end": "1093320"
  },
  {
    "text": "is going to deploy the code so if they've edited that sample code it'll",
    "start": "1093320",
    "end": "1099880"
  },
  {
    "text": "take whatever is in the text area and uh create a",
    "start": "1099880",
    "end": "1105520"
  },
  {
    "text": "new uh sub hosting API instance and pass that code to that finally we have this",
    "start": "1105520",
    "end": "1114200"
  },
  {
    "text": "waight for deployment function so what that is going to do is it allows us to poll and see if the function is finished",
    "start": "1114200",
    "end": "1121039"
  },
  {
    "text": "running see if we're ready to get that URL back um and we do that by calling",
    "start": "1121039",
    "end": "1127799"
  },
  {
    "text": "this get deployment API um but we",
    "start": "1127799",
    "end": "1133039"
  },
  {
    "text": "haven't actually set up any of these apis yet so uh we can take a look at that next",
    "start": "1133039",
    "end": "1140720"
  },
  {
    "text": "so that was the client side now we're going to jump into the server",
    "start": "1141720",
    "end": "1146799"
  },
  {
    "text": "side when we deploy this application we're going to need to have something to host it at the moment we're using vit to",
    "start": "1147400",
    "end": "1154440"
  },
  {
    "text": "host us locally um so we're going to create a little server side app that is",
    "start": "1154440",
    "end": "1159679"
  },
  {
    "text": "going to host our react app uh when it's deployed so this is the entry point for",
    "start": "1159679",
    "end": "1164720"
  },
  {
    "text": "that uh we're using some middleware called Oak and Oak is a nice little",
    "start": "1164720",
    "end": "1170960"
  },
  {
    "text": "small package that allows you to do server side routing uh here you can see an example",
    "start": "1170960",
    "end": "1177840"
  },
  {
    "text": "actually this is kind of interesting so we looked earlier at the doo Json file where we saw our Imports",
    "start": "1177840",
    "end": "1184520"
  },
  {
    "text": "here you can see another way that you can import dependencies you can import them directly um using uh a URL so here you",
    "start": "1184520",
    "end": "1193640"
  },
  {
    "text": "can see we've imported Oak directly uh we're saying get it from the",
    "start": "1193640",
    "end": "1198720"
  },
  {
    "text": "ASR package manager um and this is super useful because Dino can actually resolve",
    "start": "1198720",
    "end": "1204760"
  },
  {
    "text": "that at runtime when the script executes uh which is going to be super helpful to us later on uh when we're actually",
    "start": "1204760",
    "end": "1213120"
  },
  {
    "text": "allowing our users to deploy code that could potentially have an input in it",
    "start": "1213120",
    "end": "1218960"
  },
  {
    "text": "Doo can just totally deal with that uh so in this file all we're doing",
    "start": "1218960",
    "end": "1224400"
  },
  {
    "text": "here is we're creating a very simple HTTP server and we're using using it to serve our static assets so we've got",
    "start": "1224400",
    "end": "1232440"
  },
  {
    "text": "down at the bottom there uh client disc and client public that is where vit is going to build our project too so we're",
    "start": "1232440",
    "end": "1239679"
  },
  {
    "text": "just saying serve whatever it is that vit has built for us uh and doo. CWD there is just getting",
    "start": "1239679",
    "end": "1247720"
  },
  {
    "text": "the current working directory so look inside the current working directory find our client and then serve the disc",
    "start": "1247720",
    "end": "1253840"
  },
  {
    "text": "in the public then we're going to update this to create those apis that we mentioned",
    "start": "1253840",
    "end": "1260720"
  },
  {
    "text": "earlier so our get sample our deploy project and our get deployment those",
    "start": "1260720",
    "end": "1266159"
  },
  {
    "text": "three functions we made uh each route is mapped using uh its verb and its path uh",
    "start": "1266159",
    "end": "1273279"
  },
  {
    "text": "I think it's kind of nice and neat um and then the function that actually handles that request so let's build out",
    "start": "1273279",
    "end": "1282000"
  },
  {
    "text": "these functions finally so a good example of how Oaker",
    "start": "1282000",
    "end": "1287440"
  },
  {
    "text": "works uh this is a really basic uh piece of code this is just getting our little",
    "start": "1287440",
    "end": "1294400"
  },
  {
    "text": "sample code all this Handler does is it loads a file from the system using Doos",
    "start": "1294400",
    "end": "1299799"
  },
  {
    "text": "file system apis uh Returns the body of that as a",
    "start": "1299799",
    "end": "1305200"
  },
  {
    "text": "Json object and uh we need to assign the response body on the context object and",
    "start": "1305200",
    "end": "1312919"
  },
  {
    "text": "uh yeah that's a nice basic Oak example so let's take a look at something a bit",
    "start": "1312919",
    "end": "1318880"
  },
  {
    "text": "more complicated now so that is our um get sample code let's look at what",
    "start": "1318880",
    "end": "1324600"
  },
  {
    "text": "deploy project is doing this is doing most of the work of this project so when",
    "start": "1324600",
    "end": "1330320"
  },
  {
    "text": "this API is called first we check whether it's got a",
    "start": "1330320",
    "end": "1336440"
  },
  {
    "text": "um a client ID uh so if it does we're",
    "start": "1336440",
    "end": "1341480"
  },
  {
    "text": "going to presume that we're editing an existing project so this user has already deployed something already written some code and we're overwriting",
    "start": "1341480",
    "end": "1348240"
  },
  {
    "text": "that if it doesn't we're going to create them a new project uh this",
    "start": "1348240",
    "end": "1353799"
  },
  {
    "text": "is just uh for us the clients never going to know about this uh then once",
    "start": "1353799",
    "end": "1359080"
  },
  {
    "text": "we've got a valid a valid project ID regardless of it being new or existing",
    "start": "1359080",
    "end": "1364520"
  },
  {
    "text": "we're going to work out what content to update the project with so that's going",
    "start": "1364520",
    "end": "1369919"
  },
  {
    "text": "to happen here we're going to have a look see whether we have any code in the",
    "start": "1369919",
    "end": "1375120"
  },
  {
    "text": "text area um or just give it the sample",
    "start": "1375120",
    "end": "1380200"
  },
  {
    "text": "code and then we are going to presume that the user has posted this",
    "start": "1380200",
    "end": "1387760"
  },
  {
    "text": "code uh and we're going to create a",
    "start": "1387760",
    "end": "1394039"
  },
  {
    "text": "uh an instance with this code once we've got the project and the",
    "start": "1394039",
    "end": "1399480"
  },
  {
    "text": "ID uh from the code we can create this uh files map this is a bit over",
    "start": "1399480",
    "end": "1405480"
  },
  {
    "text": "complicated what we're doing is we're just we're sort of tree in it like a file system so we could",
    "start": "1405480",
    "end": "1411559"
  },
  {
    "text": "potentially um expand this project to allow them to like upload an entire project to this editor with multiple",
    "start": "1411559",
    "end": "1417960"
  },
  {
    "text": "files in it um at the moment we're just going to assume that we've only ever got",
    "start": "1417960",
    "end": "1423640"
  },
  {
    "text": "one single uh entry point which is the main.ts but you know we could make this",
    "start": "1423640",
    "end": "1429039"
  },
  {
    "text": "more complicated in future uh we asked the client to deploy the project passing this code and then",
    "start": "1429039",
    "end": "1436919"
  },
  {
    "text": "we return the project deployment and we get that URL from the sub hosting and",
    "start": "1436919",
    "end": "1444480"
  },
  {
    "text": "we're going to take that URL and we're going to pass it back to our iframe in order to keep our HTTP API",
    "start": "1444480",
    "end": "1452640"
  },
  {
    "text": "head as simple um I've created this Dino sub hosting client file um this is all",
    "start": "1452640",
    "end": "1460240"
  },
  {
    "text": "this is doing is sending requests to the sub hosting apis using fetch uh fetch is supported natively in",
    "start": "1460240",
    "end": "1467600"
  },
  {
    "text": "Dino uh and each of the functions here represent an API call so we've got our",
    "start": "1467600",
    "end": "1474159"
  },
  {
    "text": "create project and our get project there uh we're either creating a new project",
    "start": "1474159",
    "end": "1479880"
  },
  {
    "text": "uh if they don't have an existing client ID or we're getting a new project if h",
    "start": "1479880",
    "end": "1485760"
  },
  {
    "text": "no the other way around we're creating a new project if they don't uh we're getting it if they do uh and we validate",
    "start": "1485760",
    "end": "1491760"
  },
  {
    "text": "some status codes we add some nice typescript definitions and then we return everything",
    "start": "1491760",
    "end": "1499840"
  },
  {
    "text": "so this is beautiful uh this is what our app currently looks like as you can tell",
    "start": "1500120",
    "end": "1506600"
  },
  {
    "text": "graphic design is my passion um we can definitely do better than this you know",
    "start": "1506600",
    "end": "1512840"
  },
  {
    "text": "we're presenting them with this code that doesn't immediately look editable uh the run this code button",
    "start": "1512840",
    "end": "1518919"
  },
  {
    "text": "isn't particularly obvious uh it just it doesn't look",
    "start": "1518919",
    "end": "1524919"
  },
  {
    "text": "great this looks a little bit better we've added some some Styles um the whole project is on GitHub by the way so",
    "start": "1525279",
    "end": "1531760"
  },
  {
    "text": "if you want to see any of this code any of the CSS you absolutely can um but",
    "start": "1531760",
    "end": "1537520"
  },
  {
    "text": "this still isn't great like we're presenting them with a code editor but again the the text doesn't look",
    "start": "1537520",
    "end": "1543679"
  },
  {
    "text": "immediately editable and an editor really isn't an editor without syntax highlighting uh luckily there are plenty",
    "start": "1543679",
    "end": "1550760"
  },
  {
    "text": "of packages out there that allow you to apply syntax highlighting because otherwise this would be an absolutely",
    "start": "1550760",
    "end": "1556640"
  },
  {
    "text": "Monumental task for us to to work through so I'm using prism JS which I'm",
    "start": "1556640",
    "end": "1562640"
  },
  {
    "text": "sure many of you have come across before uh it's a nice easy to use mpm package",
    "start": "1562640",
    "end": "1568080"
  },
  {
    "text": "that we can just import and what it's going to do is it's going to split up our code into different um types",
    "start": "1568080",
    "end": "1575919"
  },
  {
    "text": "different names uh put all of the text into spans and then apply styles to",
    "start": "1575919",
    "end": "1581679"
  },
  {
    "text": "those spans so that we can color the text but we have a problem here we're",
    "start": "1581679",
    "end": "1587720"
  },
  {
    "text": "presenting users with a text area that they can type in you can't put spans in",
    "start": "1587720",
    "end": "1594159"
  },
  {
    "text": "a text area and display them and and render them um so this presents us with",
    "start": "1594159",
    "end": "1601159"
  },
  {
    "text": "a problem um and I spent a lot of time pondering this and then I found that",
    "start": "1601159",
    "end": "1606440"
  },
  {
    "text": "somebody else has had this problem before me so thank you so much to Oliver gear who has solved this problem for me",
    "start": "1606440",
    "end": "1613520"
  },
  {
    "text": "so what we're going to do is we are going to",
    "start": "1613520",
    "end": "1620039"
  },
  {
    "text": "uh we're going to add a code block underneath the text area we are going to make the text area",
    "start": "1620840",
    "end": "1630039"
  },
  {
    "text": "transparent and we're going to make the text that is typed into the text area transparent",
    "start": "1630039",
    "end": "1636039"
  },
  {
    "text": "to we're going to make the text area and the code the exact same height and width",
    "start": "1636039",
    "end": "1641159"
  },
  {
    "text": "and line height and then we're going to position one on top of the other so the text area is going to be on top of the",
    "start": "1641159",
    "end": "1647880"
  },
  {
    "text": "Cod C when the user types into the text area the cursor is going to move as they",
    "start": "1647880",
    "end": "1653480"
  },
  {
    "text": "would expect in the text area but the text is going to be invisible what the typing is",
    "start": "1653480",
    "end": "1659039"
  },
  {
    "text": "invisible then we are going to take what they've typed into that text area and",
    "start": "1659039",
    "end": "1664600"
  },
  {
    "text": "display it in the code block apply prism JS to that code block and allow it to",
    "start": "1664600",
    "end": "1670519"
  },
  {
    "text": "wrap it all in spans um and uh put the",
    "start": "1670519",
    "end": "1675559"
  },
  {
    "text": "updated stuff all wrapped in spans into the code block so that it looks",
    "start": "1675559",
    "end": "1680760"
  },
  {
    "text": "like it is being syntax highlighted as it is being",
    "start": "1680760",
    "end": "1685840"
  },
  {
    "text": "displayed uh yeah so that is our finished app the only",
    "start": "1685840",
    "end": "1693120"
  },
  {
    "text": "thing left to do now is to deploy this app uh as I mentioned earlier Dino",
    "start": "1693120",
    "end": "1699600"
  },
  {
    "text": "deploy is an online tool it works like many of your other favorite giops deploy",
    "start": "1699600",
    "end": "1706559"
  },
  {
    "text": "tools um you you register your GitHub account with it you tell it which",
    "start": "1706559",
    "end": "1712679"
  },
  {
    "text": "project you want to use you set up a few uh little uh bits of config here so you",
    "start": "1712679",
    "end": "1719440"
  },
  {
    "text": "can give it a project name tell it where your um entry point is tell it whether",
    "start": "1719440",
    "end": "1726919"
  },
  {
    "text": "there needs to be a build step anything like that um and then you can literally just click deploy and it will deploy",
    "start": "1726919",
    "end": "1734880"
  },
  {
    "text": "your project for you the important thing to note here is we need to make sure",
    "start": "1734880",
    "end": "1740279"
  },
  {
    "text": "that it runs our Dino build command that we had set up in our uh dino Json file",
    "start": "1740279",
    "end": "1747679"
  },
  {
    "text": "that's going to make sure that vit is going to compile our project into those client disc and public folders that we",
    "start": "1747679",
    "end": "1755600"
  },
  {
    "text": "made earlier so that they're in the correct location so that we can then serve them with that nice little Oak",
    "start": "1755600",
    "end": "1761720"
  },
  {
    "text": "HTTP server that we made earlier so now we pray to the demo Gods because",
    "start": "1761720",
    "end": "1770159"
  },
  {
    "text": "here is one I made earlier so let's have a",
    "start": "1770159",
    "end": "1775600"
  },
  {
    "text": "look oh",
    "start": "1775600",
    "end": "1779960"
  },
  {
    "text": "nope that's oh good Wi-Fi",
    "start": "1783880",
    "end": "1789080"
  },
  {
    "text": "excellent nice okay so this is the page that the user gets presented with",
    "start": "1791799",
    "end": "1798760"
  },
  {
    "text": "um and at the moment this is not uh something I can type into this is that",
    "start": "1798760",
    "end": "1804880"
  },
  {
    "text": "view code page that we talked about first so in order to edit this code the user is going to have to click on the",
    "start": "1804880",
    "end": "1811840"
  },
  {
    "text": "edit this code button and now we are presented with a text area where we can",
    "start": "1811840",
    "end": "1816960"
  },
  {
    "text": "type in and we are given this output here where we can hopefully just about",
    "start": "1816960",
    "end": "1823279"
  },
  {
    "text": "see the output of our code and uh I can update this here so I could say hello",
    "start": "1823279",
    "end": "1831600"
  },
  {
    "text": "NTC and I can run this code and if the Wii isn't too painful here there we go",
    "start": "1831600",
    "end": "1838840"
  },
  {
    "text": "we can see the updated output of that code um and we can do some more",
    "start": "1838840",
    "end": "1845080"
  },
  {
    "text": "complicated examples so I'm just going to here's one I prepared",
    "start": "1845080",
    "end": "1852799"
  },
  {
    "text": "earlier so I've got a really basic Oak routa set up here",
    "start": "1852799",
    "end": "1859919"
  },
  {
    "text": "and this is where it starts to get super cool so uh you can see I am",
    "start": "1864480",
    "end": "1870080"
  },
  {
    "text": "importing uh that dependency that we used earlier directly so uh from jsr uh",
    "start": "1870080",
    "end": "1876720"
  },
  {
    "text": "I'm setting up a nice little HTTP server with Oak and I'm just going to Output F and bar so now if I run this code",
    "start": "1876720",
    "end": "1887039"
  },
  {
    "text": "go on Wi-Fi there we go f and bar so Dino is perfectly able to just import",
    "start": "1890440",
    "end": "1897159"
  },
  {
    "text": "those dependencies uh at runtime and it just means that we can allow our users to do",
    "start": "1897159",
    "end": "1904159"
  },
  {
    "text": "some slightly more exciting and more complicated things uh if you want to have a look at what is actually",
    "start": "1904159",
    "end": "1910720"
  },
  {
    "text": "happening and you can see we got all our nice syntax highlighting when I pasted that code in uh if we want to completely",
    "start": "1910720",
    "end": "1917440"
  },
  {
    "text": "break this situation",
    "start": "1917440",
    "end": "1924480"
  },
  {
    "text": "I there we go so uh my text area is getting smaller and smaller there we go",
    "start": "1924480",
    "end": "1932880"
  },
  {
    "text": "uh now now we see the uh some problems um but",
    "start": "1932880",
    "end": "1939000"
  },
  {
    "text": "hopefully hopefully the user just doesn't do that",
    "start": "1939000",
    "end": "1944799"
  },
  {
    "text": "um and I think it's a nice a what was this a a half an hour",
    "start": "1944799",
    "end": "1951480"
  },
  {
    "text": "creation of a very basic thing that allows your users to do something actually quite complicated quite complex",
    "start": "1951480",
    "end": "1958399"
  },
  {
    "text": "you're offering uh some quite exciting uh capabilities to you users here so you",
    "start": "1958399",
    "end": "1965760"
  },
  {
    "text": "can imagine this embedded in some documentation uh embedded into your low",
    "start": "1965760",
    "end": "1972120"
  },
  {
    "text": "code Solutions it just means that you're able to immediately execute other people's code without having to do any",
    "start": "1972120",
    "end": "1979600"
  },
  {
    "text": "of the heavy loading of you know how much compute am I going to need how do I keep us secure sub hosting is absolutely",
    "start": "1979600",
    "end": "1987200"
  },
  {
    "text": "made for doing this everything is deployed within its own little um you",
    "start": "1987200",
    "end": "1994240"
  },
  {
    "text": "know runtime so uh your code is entirely sandbox is not going to touch anything",
    "start": "1994240",
    "end": "1999880"
  },
  {
    "text": "else on your project so if you do want to uh",
    "start": "1999880",
    "end": "2008519"
  },
  {
    "text": "see this code you absolutely can",
    "start": "2008519",
    "end": "2013600"
  },
  {
    "text": "do uh as I mentioned uh it's all on GitHub so please do check it out um if",
    "start": "2016519",
    "end": "2024960"
  },
  {
    "text": "you want to see any of the code that I wrote you absolutely can so that QR code",
    "start": "2024960",
    "end": "2030600"
  },
  {
    "text": "will give you a copy of these speaker notes which also they have basically everything that I've just said written",
    "start": "2030600",
    "end": "2037279"
  },
  {
    "text": "down for you if you'd rather read than listen that's absolutely fine um yeah if",
    "start": "2037279",
    "end": "2043639"
  },
  {
    "text": "you do end up using this please give us a shout I'd love to know what you use um",
    "start": "2043639",
    "end": "2050040"
  },
  {
    "text": "and if you've not seen the dino2 launch video please check it out because it's hilarious uh I have some cute Dino",
    "start": "2050040",
    "end": "2057320"
  },
  {
    "text": "stickers up the front here thank you so much for listening everybody and uh yeah",
    "start": "2057320",
    "end": "2063480"
  },
  {
    "text": "I've been well if you've enjoyed this talk I've been Joey Franti if you didn't I've been Phil Hawksworth uh thank you",
    "start": "2063480",
    "end": "2070638"
  },
  {
    "text": "so much for listening",
    "start": "2070639",
    "end": "2074118"
  }
]