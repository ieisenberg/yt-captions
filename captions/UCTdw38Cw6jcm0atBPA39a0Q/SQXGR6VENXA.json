[
  {
    "start": "0",
    "end": "85000"
  },
  {
    "text": "yes so we will start now thank you very much for being here",
    "start": "399",
    "end": "7359"
  },
  {
    "text": "i want to talk about egg yesterday or azure kubernetes service and um",
    "start": "7359",
    "end": "13759"
  },
  {
    "text": "you know when you remember maybe back five years ago or ten years ago one year",
    "start": "13759",
    "end": "18800"
  },
  {
    "text": "ago when you upgrade an application on your own machine that might fail",
    "start": "18800",
    "end": "24960"
  },
  {
    "text": "that can happen and then you need to maybe de-install it and provision it again and this is fine",
    "start": "24960",
    "end": "31840"
  },
  {
    "text": "but in a mission-critical system that's a really a problem",
    "start": "31840",
    "end": "38559"
  },
  {
    "text": "and today i want to talk about how we do it at vips but first of all who is vips actually",
    "start": "38559",
    "end": "45520"
  },
  {
    "text": "for those that are coming from norway know it maybe but otherwise you might not know it is a",
    "start": "45520",
    "end": "52480"
  },
  {
    "text": "service payment service provider basically which all the norwegians use so every",
    "start": "52480",
    "end": "60480"
  },
  {
    "text": "norwegian knows fips because everybody literally has whips on its phone",
    "start": "60480",
    "end": "66159"
  },
  {
    "text": "about seven years old right now we are 5.5 million people in norway and",
    "start": "66159",
    "end": "73119"
  },
  {
    "text": "over 4 million have installed vips and use it on a regular basis",
    "start": "73119",
    "end": "78640"
  },
  {
    "text": "but what actually can you do with it basically you know when you transfer money to a",
    "start": "78640",
    "end": "85119"
  },
  {
    "start": "85000",
    "end": "85000"
  },
  {
    "text": "person to a friend or so you would need this bank account number um with vips it's pretty easy you just",
    "start": "85119",
    "end": "91439"
  },
  {
    "text": "need the cell phone or what i like very much paying my bills",
    "start": "91439",
    "end": "97040"
  },
  {
    "text": "invoices every invoice that is coming from any online store or other bank or doesn't",
    "start": "97040",
    "end": "103200"
  },
  {
    "text": "matter it all all of them are in the vips app which makes it super simple across any bank in norway",
    "start": "103200",
    "end": "111600"
  },
  {
    "text": "what's even more cooler what i love love very much and everybody's really using it is when i pay or buy stuff online",
    "start": "111600",
    "end": "120240"
  },
  {
    "text": "then i in a shop that i don't know even yet i haven't been there before and they don't",
    "start": "120240",
    "end": "126640"
  },
  {
    "text": "know me but i just can visit it and i can um log in with vip login because i have the",
    "start": "126640",
    "end": "133280"
  },
  {
    "text": "app and i can pay with it and the online store doesn't need to know anything about me",
    "start": "133280",
    "end": "139840"
  },
  {
    "text": "and so the thing is really that everybody is using this service in",
    "start": "139840",
    "end": "146560"
  },
  {
    "text": "norway and from the financial authorities it's considered a critical or",
    "start": "146560",
    "end": "151760"
  },
  {
    "text": "mission-critical environment so it cannot go down",
    "start": "151760",
    "end": "156800"
  },
  {
    "text": "but when you have all your workload running on one system",
    "start": "156800",
    "end": "162000"
  },
  {
    "text": "and you upgrade it and you know upgrades can fail and so can this fail as well even though it's",
    "start": "162000",
    "end": "169040"
  },
  {
    "text": "managed we'll talk about this um what i like very much but super",
    "start": "169040",
    "end": "174560"
  },
  {
    "start": "173000",
    "end": "173000"
  },
  {
    "text": "unimportant is that it's the most interesting or recommended brand in norway that's maybe also why we",
    "start": "174560",
    "end": "180640"
  },
  {
    "text": "are merging together with more by pay now in after summer it's more interesting to pay stuff than",
    "start": "180640",
    "end": "187200"
  },
  {
    "text": "netflix and spotify which is kind of funny however the most important day in norway",
    "start": "187200",
    "end": "194159"
  },
  {
    "text": "is the 17th of may national independence day two and a half million transactions go",
    "start": "194159",
    "end": "200720"
  },
  {
    "text": "through our aks systems on this day which is uh which is huge",
    "start": "200720",
    "end": "207120"
  },
  {
    "text": "and everybody's paying basically in um at about",
    "start": "207120",
    "end": "213680"
  },
  {
    "text": "between 11 and 12 o'clock so which makes it kind of a denial of service attack",
    "start": "213680",
    "end": "219040"
  },
  {
    "text": "which is uh pretty pretty interesting and that's also a reason why we choose to go into the cloud because",
    "start": "219040",
    "end": "225519"
  },
  {
    "text": "the cloud manages stuff like that you can scale more or less automatically",
    "start": "225519",
    "end": "230720"
  },
  {
    "text": "it's what they say at least so today",
    "start": "230720",
    "end": "238239"
  },
  {
    "text": "we are um it looks pretty much like this you have the api consumer",
    "start": "238239",
    "end": "243760"
  },
  {
    "text": "and um ask for ip address in uh through traffic manager and then it goes to",
    "start": "243760",
    "end": "250080"
  },
  {
    "text": "application gateway where you have all those um valves web application firewall",
    "start": "250080",
    "end": "255599"
  },
  {
    "text": "installed or enabled you have a ddos plan attached to it and then from there",
    "start": "255599",
    "end": "260639"
  },
  {
    "text": "it goes to azure api management so all of our apis what we have about",
    "start": "260639",
    "end": "266880"
  },
  {
    "text": "100 or more applications all those apis are in azure api management and from",
    "start": "266880",
    "end": "272880"
  },
  {
    "text": "there the traffic goes to aks where all the services are",
    "start": "272880",
    "end": "279400"
  },
  {
    "text": "the problem here is that you have aks and aks has a version",
    "start": "282160",
    "end": "288720"
  },
  {
    "text": "so even though it's a managed service it's not really managed it's more like",
    "start": "288720",
    "end": "293919"
  },
  {
    "text": "see me see my manage because you need to ensure that you are always up to date",
    "start": "293919",
    "end": "300560"
  },
  {
    "text": "and you are upgrade frequently so you get all your security patches enabled and do all the get all the new features",
    "start": "300560",
    "end": "307840"
  },
  {
    "text": "that you want it's underlying kubernetes you have to upgrade it yourself",
    "start": "307840",
    "end": "313280"
  },
  {
    "text": "but upgrades can fail and they have failed in vips and that was",
    "start": "313280",
    "end": "319120"
  },
  {
    "text": "really bad because everything was basically down in whips which and the whole nation could not",
    "start": "319120",
    "end": "325759"
  },
  {
    "text": "lock in or pay or whatever so they really had to go into the banks and do all that stuff but if you have",
    "start": "325759",
    "end": "332320"
  },
  {
    "text": "an important date like 17th of may and it's not really working so",
    "start": "332320",
    "end": "338080"
  },
  {
    "text": "everybody's paying their stuff their hotdogs and so on you can't do this",
    "start": "338080",
    "end": "344479"
  },
  {
    "text": "so what with or i'm talking about today is first of all the challenges of upgrading aks what we experienced with",
    "start": "345440",
    "end": "353280"
  },
  {
    "text": "aks in azure then talk about the main upgrade",
    "start": "353280",
    "end": "358400"
  },
  {
    "text": "strategies because when we stand there and realized okay",
    "start": "358400",
    "end": "364400"
  },
  {
    "text": "the simplest way of upgrading aks in azure doesn't work so what alternatives are there we discussed with microsoft",
    "start": "364400",
    "end": "370639"
  },
  {
    "text": "and came up with three strategies there might be money more but those are the three",
    "start": "370639",
    "end": "376160"
  },
  {
    "text": "and then we talked about the solution that we went for which is immutable infrastructure which sounds super cool",
    "start": "376160",
    "end": "384080"
  },
  {
    "text": "but it's really not so cool for us and then we looked into",
    "start": "384080",
    "end": "390520"
  },
  {
    "text": "multi-clustering basically having multiple streams to aks",
    "start": "390520",
    "end": "395680"
  },
  {
    "text": "just to find out okay if this fails doesn't really matter we have this one and how this works",
    "start": "395680",
    "end": "401759"
  },
  {
    "text": "and at the end you know there's this new service azure container apps which might be a solution",
    "start": "401759",
    "end": "408160"
  },
  {
    "text": "to our problem we'll just shortly introduce it",
    "start": "408160",
    "end": "413599"
  },
  {
    "text": "to you so there are",
    "start": "413599",
    "end": "418720"
  },
  {
    "text": "basically three challenges or there are many challenges but i want to discuss three challenges",
    "start": "418720",
    "end": "425599"
  },
  {
    "text": "um today that we experience in wips but first of all",
    "start": "425599",
    "end": "431520"
  },
  {
    "start": "431000",
    "end": "431000"
  },
  {
    "text": "why not shortly discuss um node pools in aks you know you have when you started in a gas four years ago we",
    "start": "431520",
    "end": "438240"
  },
  {
    "text": "had one node pool and notebook is basically a group of vms which share",
    "start": "438240",
    "end": "443680"
  },
  {
    "text": "the same vm type but we had one of them at the beginning",
    "start": "443680",
    "end": "448960"
  },
  {
    "text": "because the concept of notebooks didn't exist but now they exist too you have multiple node ports or else there you",
    "start": "448960",
    "end": "454560"
  },
  {
    "text": "have one node pool and you upgrade it so what happens is the control plane",
    "start": "454560",
    "end": "459759"
  },
  {
    "text": "which is more or less the managed part of azure of aks",
    "start": "459759",
    "end": "464960"
  },
  {
    "text": "that one gets upgraded first always but that means also when this fails you",
    "start": "464960",
    "end": "472800"
  },
  {
    "text": "cannot do anything anymore with aks you are basically screwed you cannot interact anymore",
    "start": "472800",
    "end": "478639"
  },
  {
    "text": "so and there is a security issue or so you can't fix it and you have to create a support ticket and then you have to",
    "start": "478639",
    "end": "484400"
  },
  {
    "text": "wait it out until they fix it for you however when you upgrade notes or a note poolset",
    "start": "484400",
    "end": "492400"
  },
  {
    "text": "then it creates a new buffer node or the workload is switched over to other nodes",
    "start": "492400",
    "end": "498800"
  },
  {
    "text": "distributed and coordinated and drained and then the one node",
    "start": "498800",
    "end": "504639"
  },
  {
    "text": "in this node pool which is upgraded is re-imaged started again",
    "start": "504639",
    "end": "510240"
  },
  {
    "text": "and then workload can switch over to this one this is basically how it works",
    "start": "510240",
    "end": "516959"
  },
  {
    "start": "518000",
    "end": "518000"
  },
  {
    "text": "so the first really issue we faced once",
    "start": "518959",
    "end": "524080"
  },
  {
    "text": "was application dependencies they have nothing to do with aks but they can",
    "start": "524080",
    "end": "529760"
  },
  {
    "text": "happen so we had a spring boot application which is a configuration",
    "start": "529760",
    "end": "535839"
  },
  {
    "text": "service basically where all the applications depend on",
    "start": "536000",
    "end": "541760"
  },
  {
    "text": "that means when this one configuration server fails every alts everybody or all",
    "start": "541760",
    "end": "548399"
  },
  {
    "text": "the other applications will also fail and the thing is that this config server",
    "start": "548399",
    "end": "555600"
  },
  {
    "text": "needed more than 30 seconds to start two minutes or so because it was really poorly configured and",
    "start": "555600",
    "end": "562959"
  },
  {
    "text": "then after 30 seconds with this which is default it gets restarted and restarted",
    "start": "562959",
    "end": "568320"
  },
  {
    "text": "and so it will never come up the thing is that",
    "start": "568320",
    "end": "573519"
  },
  {
    "text": "this one node which was updated and was refreshed and",
    "start": "573519",
    "end": "579600"
  },
  {
    "text": "this config server could start there and all the other applications as well but it really came never up because it was",
    "start": "579600",
    "end": "585440"
  },
  {
    "text": "in a fading state all those applications was a fading state and then the next note",
    "start": "585440",
    "end": "591519"
  },
  {
    "text": "was reimaged and the same happened and the next and the next there's no way you can stop this process",
    "start": "591519",
    "end": "598320"
  },
  {
    "text": "you're just going down and you fail and you can't do anything which",
    "start": "598320",
    "end": "603600"
  },
  {
    "text": "is super bad that happens to us once",
    "start": "603600",
    "end": "609040"
  },
  {
    "start": "611000",
    "end": "611000"
  },
  {
    "text": "then we had once the extending of resource limits",
    "start": "611040",
    "end": "617600"
  },
  {
    "text": "that means that you are in the middle of an upgrade of aks",
    "start": "617600",
    "end": "624880"
  },
  {
    "text": "and a new buffer node is created everything",
    "start": "624880",
    "end": "630079"
  },
  {
    "text": "works really fine but then suddenly a next note or buffer note is",
    "start": "630079",
    "end": "636959"
  },
  {
    "text": "created but it doesn't really work and you are standing there and don't",
    "start": "636959",
    "end": "642399"
  },
  {
    "text": "really know what happens why is not the buffer note created anymore",
    "start": "642399",
    "end": "648320"
  },
  {
    "text": "i mean it should automatically work but it didn't and we found out",
    "start": "648320",
    "end": "655360"
  },
  {
    "text": "after some digging um and we were very new in aks four years ago",
    "start": "655360",
    "end": "661600"
  },
  {
    "text": "but we found out that there are resource limits there are many such",
    "start": "661600",
    "end": "667600"
  },
  {
    "text": "i wouldn't call them details but there's a lot of stuff you have to note and their resource limits on",
    "start": "667600",
    "end": "672640"
  },
  {
    "text": "subscription level which means that you will exceed them at one point",
    "start": "672640",
    "end": "678399"
  },
  {
    "text": "and you have to clean it up or you have to do something about so",
    "start": "678399",
    "end": "684720"
  },
  {
    "text": "in the meantime you are in an inconsistent state and aks is in a",
    "start": "684720",
    "end": "689839"
  },
  {
    "text": "failed state and you can't do anything because despite of",
    "start": "689839",
    "end": "695040"
  },
  {
    "text": "calling microsoft support and ask them for help and",
    "start": "695040",
    "end": "700480"
  },
  {
    "text": "while you're doing this you wait it and let's just imagine you have breaking changes and then you have some notes",
    "start": "700480",
    "end": "706959"
  },
  {
    "text": "which are already upgraded but then you have other notes that are not upgraded yet",
    "start": "706959",
    "end": "712639"
  },
  {
    "text": "and then you have a really a problem so many services then are",
    "start": "712639",
    "end": "720160"
  },
  {
    "text": "are not that might not be running because of this inconsistent state",
    "start": "720160",
    "end": "725839"
  },
  {
    "text": "and then you get random fail-outs and customers starting complaining of",
    "start": "725839",
    "end": "730880"
  },
  {
    "text": "course and then another failure that happens",
    "start": "730880",
    "end": "735920"
  },
  {
    "start": "732000",
    "end": "732000"
  },
  {
    "text": "that were random note failures that means that",
    "start": "735920",
    "end": "742079"
  },
  {
    "text": "for example we had on one note or several notes where the azure provider",
    "start": "742079",
    "end": "747760"
  },
  {
    "text": "couldn't be really it didn't work so it couldn't connect really to azure this node or those nodes",
    "start": "747760",
    "end": "754160"
  },
  {
    "text": "and then you have problems with with identity and applications are not going to start and you're again you really",
    "start": "754160",
    "end": "761839"
  },
  {
    "text": "don't know what you what you should do in this [Music] then",
    "start": "761839",
    "end": "766880"
  },
  {
    "text": "and then you have to create a microsoft ticket ticket again and you are and you have to wait it out you're super",
    "start": "766880",
    "end": "773200"
  },
  {
    "text": "dependent on on microsoft when you do um upgrading aks with",
    "start": "773200",
    "end": "780000"
  },
  {
    "text": "simple or single node pools upgrade in particular and that's",
    "start": "780000",
    "end": "785279"
  },
  {
    "text": "what's what's i guess also the default when you create uh aks azure kubernetes service in azure",
    "start": "785279",
    "end": "793600"
  },
  {
    "text": "and many of you and or especially us we were quite naive and thought okay let's just",
    "start": "793600",
    "end": "800079"
  },
  {
    "text": "try a guess because it's a managed kubernetes super easy and we provisioned it and we",
    "start": "800079",
    "end": "806399"
  },
  {
    "text": "moved or implemented or deployed some new applications to it and were quite fine and we were super happy with it but",
    "start": "806399",
    "end": "814880"
  },
  {
    "text": "as it turns out it is quite some it's quite hard and we struggled a lot",
    "start": "814880",
    "end": "821199"
  },
  {
    "text": "so what we actually in this case did was super simple just deleting the notes and",
    "start": "821839",
    "end": "827199"
  },
  {
    "text": "do it again but again when you do it automatically then you really don't know what you should do and you create",
    "start": "827199",
    "end": "833920"
  },
  {
    "text": "microsoft tickets so but there are three strategies that",
    "start": "833920",
    "end": "841120"
  },
  {
    "text": "we discussed with microsoft and then i want to go through and then discuss what strategy we went for and",
    "start": "841120",
    "end": "848480"
  },
  {
    "text": "and why why this wasn't even a good idea at the end",
    "start": "848480",
    "end": "854079"
  },
  {
    "start": "853000",
    "end": "853000"
  },
  {
    "text": "so the first one is the simplest one that's the one that we did super naively",
    "start": "854320",
    "end": "861920"
  },
  {
    "text": "at that time we went into the portal and we",
    "start": "861920",
    "end": "867360"
  },
  {
    "text": "searched for our aks cluster and to the configuration part",
    "start": "867360",
    "end": "872560"
  },
  {
    "text": "and then we just click upgrade and then select the version that we want that's how it works",
    "start": "872560",
    "end": "878480"
  },
  {
    "text": "it's super simple and you can't do really anything wrong",
    "start": "878480",
    "end": "885120"
  },
  {
    "text": "one note pull one note after the other is just upgraded and you just wait it",
    "start": "885120",
    "end": "890240"
  },
  {
    "text": "out until what happens",
    "start": "890240",
    "end": "894639"
  },
  {
    "start": "896000",
    "end": "896000"
  },
  {
    "text": "the other is with node pools so you have one control plane again this needs to be",
    "start": "896720",
    "end": "903360"
  },
  {
    "text": "upgraded first and then you have all the other nodes so in this example here the system node",
    "start": "903360",
    "end": "910720"
  },
  {
    "text": "pool runs with a very small",
    "start": "910720",
    "end": "916240"
  },
  {
    "text": "on a very small vm type which is fine because when that fails",
    "start": "916240",
    "end": "922800"
  },
  {
    "text": "let's say i have some monitoring services running there with its fades they can just switch over to for example",
    "start": "922800",
    "end": "930160"
  },
  {
    "text": "node pull one where general purpose applications run on and that works quite good",
    "start": "930160",
    "end": "937759"
  },
  {
    "text": "the thing is that when you have not pulled 2 for example when this fails",
    "start": "937759",
    "end": "944800"
  },
  {
    "text": "it's deployed in a h8 vm type if those applications fails",
    "start": "944800",
    "end": "950720"
  },
  {
    "text": "they cannot move to general purpose vm or",
    "start": "950720",
    "end": "956240"
  },
  {
    "text": "or the b1 b8 type because they have other requirements and they of course",
    "start": "956240",
    "end": "962959"
  },
  {
    "text": "they have to run on those high availability vm types so you need to have at least two of those kinds of node",
    "start": "962959",
    "end": "970560"
  },
  {
    "text": "pool types",
    "start": "970560",
    "end": "974639"
  },
  {
    "text": "but again what is critical here is if you have this",
    "start": "975600",
    "end": "980839"
  },
  {
    "text": "control plane and this one needs to be upgraded first so the managed part of microsoft aks",
    "start": "980839",
    "end": "988560"
  },
  {
    "text": "and that fails then nothing works and this is a risk",
    "start": "988560",
    "end": "994399"
  },
  {
    "text": "that we considered to be too high for us because when everybody is using our",
    "start": "994399",
    "end": "1001120"
  },
  {
    "text": "our service our aks and it is considered from the financial authorities to be mission critical this",
    "start": "1001120",
    "end": "1008079"
  },
  {
    "text": "is a risk that we didn't want to take okay",
    "start": "1008079",
    "end": "1014000"
  },
  {
    "text": "and then we thought okay what if we just create a new aks entirely new",
    "start": "1014399",
    "end": "1022959"
  },
  {
    "text": "and then we can just switch over to the to the new one",
    "start": "1022959",
    "end": "1029520"
  },
  {
    "text": "we have application or azure api management in front and it's just a named value just a switch and then we",
    "start": "1029520",
    "end": "1036079"
  },
  {
    "text": "are there in theory that's super easy",
    "start": "1036079",
    "end": "1042000"
  },
  {
    "text": "and i will show you why it's not so easy but to compare them side by side you",
    "start": "1043360",
    "end": "1051039"
  },
  {
    "start": "1048000",
    "end": "1048000"
  },
  {
    "text": "have on the left side you have this one node pool upgrade through the portal",
    "start": "1051039",
    "end": "1056320"
  },
  {
    "text": "super simple there's really no extra cost so very low but the risk",
    "start": "1056320",
    "end": "1063520"
  },
  {
    "text": "is super high and it's not complex because you didn't",
    "start": "1063520",
    "end": "1068720"
  },
  {
    "text": "add anything to it and then you have on the right side on the other extreme",
    "start": "1068720",
    "end": "1074559"
  },
  {
    "text": "um the new aks which is super complex because you have to first create it in",
    "start": "1074559",
    "end": "1080240"
  },
  {
    "text": "the exactly same way which exactly same configuration",
    "start": "1080240",
    "end": "1085840"
  },
  {
    "text": "and then you have to move over all of this and and it's super complex",
    "start": "1085840",
    "end": "1091360"
  },
  {
    "text": "but and the cost is also very high because you have the twice you have a redundant system",
    "start": "1091360",
    "end": "1096640"
  },
  {
    "text": "um and you have to have the manpower to actually do this switch which can also",
    "start": "1096640",
    "end": "1102480"
  },
  {
    "text": "be complicated but the risk is super low because you can test everything",
    "start": "1102480",
    "end": "1109039"
  },
  {
    "text": "beforehand which is very very nice",
    "start": "1109039",
    "end": "1112879"
  },
  {
    "text": "so we went for the third option",
    "start": "1114400",
    "end": "1121520"
  },
  {
    "text": "and we thought okay instead of having",
    "start": "1121520",
    "end": "1128160"
  },
  {
    "start": "1126000",
    "end": "1126000"
  },
  {
    "text": "just one aks or two aks and apm is communicating to both of them",
    "start": "1128160",
    "end": "1135679"
  },
  {
    "text": "we for in order to make this happen we need infrastructure as code i mean we all",
    "start": "1135679",
    "end": "1141679"
  },
  {
    "text": "should have infrastructure as code but at that time we weren't really good at it it was a lot of click ups",
    "start": "1141679",
    "end": "1148080"
  },
  {
    "text": "and okay we thought that's good but why not doing it",
    "start": "1148080",
    "end": "1153360"
  },
  {
    "text": "for the entire infrastructure i mean we are under the financial authorities we need to have uh our code",
    "start": "1153360",
    "end": "1160240"
  },
  {
    "text": "documented our infrastructure so we need to have infrastructure as code anyway",
    "start": "1160240",
    "end": "1166240"
  },
  {
    "text": "and then we said okay let's just do this because then we have the test client which can entirely test the new",
    "start": "1166240",
    "end": "1174080"
  },
  {
    "text": "infrastructure and then we know exactly if it works or not",
    "start": "1174080",
    "end": "1179440"
  },
  {
    "text": "and there are always some breaking changes in in in major versions of kubernetes then we",
    "start": "1179440",
    "end": "1185919"
  },
  {
    "text": "can test them out actually we can test out everything we can test out",
    "start": "1185919",
    "end": "1191039"
  },
  {
    "text": "i don't know new rules and application gateway or changes in azure api management as well and all those nitty",
    "start": "1191039",
    "end": "1196480"
  },
  {
    "text": "gritty infrastructure stuff so we said okay then we will do this let's go for it but",
    "start": "1196480",
    "end": "1202960"
  },
  {
    "text": "the first we had to do was we needed to have the code for the",
    "start": "1202960",
    "end": "1208640"
  },
  {
    "text": "infrastructure and there are several options um the arm there's pulumi there's",
    "start": "1208640",
    "end": "1215360"
  },
  {
    "text": "terraform there's bicep and we did some terraform in some teams but you know they had",
    "start": "1215360",
    "end": "1221120"
  },
  {
    "text": "at that time secret that were quite visible in the state file and wasn't really an option for us at that time it",
    "start": "1221120",
    "end": "1227919"
  },
  {
    "text": "solved i guess now but the third was okay",
    "start": "1227919",
    "end": "1232960"
  },
  {
    "start": "1232000",
    "end": "1232000"
  },
  {
    "text": "arm is that what everybody is is doing it is well documented and so on",
    "start": "1232960",
    "end": "1239039"
  },
  {
    "text": "let's create a tool that creates all those arm templates for us so that you",
    "start": "1239039",
    "end": "1244640"
  },
  {
    "text": "just can have configurations and then it spits out this arm arm templates",
    "start": "1244640",
    "end": "1252400"
  },
  {
    "text": "but i mean this looks quite complicated and nobody really cares about what's in there",
    "start": "1252559",
    "end": "1259120"
  },
  {
    "text": "the thing is that this tool was a c-sharp tool which worked quite fine but you have to have developers that can",
    "start": "1259120",
    "end": "1265760"
  },
  {
    "text": "understand and maintain this code and when you're a platform team you are not really",
    "start": "1265760",
    "end": "1272320"
  },
  {
    "text": "into a development c-sharp application so this was quite a problem we could maintain it but the code base was super",
    "start": "1272320",
    "end": "1278880"
  },
  {
    "text": "bad it was tons of hundreds of lines that really nobody cared so really about",
    "start": "1278880",
    "end": "1286480"
  },
  {
    "text": "and then we went to something else pull me pull me was nice",
    "start": "1286480",
    "end": "1292400"
  },
  {
    "start": "1288000",
    "end": "1288000"
  },
  {
    "text": "because it was more configuration style of coding which",
    "start": "1292400",
    "end": "1298080"
  },
  {
    "text": "everybody understood and you can't even have develop develop pull me in your language",
    "start": "1298080",
    "end": "1304640"
  },
  {
    "text": "a choice that means that the teams not the platform team but other teams",
    "start": "1304640",
    "end": "1311679"
  },
  {
    "text": "can also take this and develop their own infrastructure let's say they need a sql",
    "start": "1311679",
    "end": "1318000"
  },
  {
    "text": "database or so they can do it themselves because they are autonomous and they can also use polumi in their",
    "start": "1318000",
    "end": "1324240"
  },
  {
    "text": "own language for example golang and we do it in another language javascript for",
    "start": "1324240",
    "end": "1329440"
  },
  {
    "text": "example or so it turns out that it works nice but all",
    "start": "1329440",
    "end": "1335280"
  },
  {
    "text": "those dependencies to those modules and so on this is not really a fun way of working it so it didn't really work out",
    "start": "1335280",
    "end": "1341840"
  },
  {
    "text": "for us so well even though it worked it was not fun at all",
    "start": "1341840",
    "end": "1348158"
  },
  {
    "text": "and then we then bicep came out and we said okay let's give it a give it a shot",
    "start": "1349200",
    "end": "1354400"
  },
  {
    "text": "bicep is really native everybody who works in azure should understand bicep so we tried it",
    "start": "1354400",
    "end": "1361280"
  },
  {
    "text": "out and till now we are super happy with it it's it's clean it's easy you can do a lot of stuff i know there are some",
    "start": "1361280",
    "end": "1368880"
  },
  {
    "text": "um constraints yet i'm still and um but they all get fixed",
    "start": "1368880",
    "end": "1374640"
  },
  {
    "text": "over time and so on and you can always get around but that's what we do today",
    "start": "1374640",
    "end": "1381039"
  },
  {
    "text": "but there if you work with this so we had implemented the entire",
    "start": "1383200",
    "end": "1389520"
  },
  {
    "text": "infrastructure um first from arm head to pulumi and then to bicep",
    "start": "1389520",
    "end": "1397039"
  },
  {
    "text": "and then you create the entire infrastructure again this inactive what you want to make active",
    "start": "1397840",
    "end": "1405120"
  },
  {
    "text": "but first of all you have to test it right you are the platform team you don't know anything about the",
    "start": "1405120",
    "end": "1411360"
  },
  {
    "text": "applications how to test them so you need to have pipelines test pipelines in place",
    "start": "1411360",
    "end": "1417360"
  },
  {
    "text": "so you ask all the teams around and ask them have you in pipeline and then you give your pipelines some of them work",
    "start": "1417360",
    "end": "1424720"
  },
  {
    "text": "some of them won't work and",
    "start": "1424720",
    "end": "1430480"
  },
  {
    "text": "then we made the first switch it was two years ago",
    "start": "1430480",
    "end": "1436480"
  },
  {
    "text": "so the entire platform team were about seven eight people or so we were uh together on a sunday night till monday",
    "start": "1436480",
    "end": "1443919"
  },
  {
    "text": "morning two or three hours at midnight and we were on teams",
    "start": "1443919",
    "end": "1449600"
  },
  {
    "text": "going through all those steps that were necessary to do to make this change",
    "start": "1449600",
    "end": "1454880"
  },
  {
    "text": "at that time for example azure apm management wasn't a cross region",
    "start": "1454880",
    "end": "1460960"
  },
  {
    "text": "not this cross region feature so you had to create it your own in the other",
    "start": "1460960",
    "end": "1467039"
  },
  {
    "text": "the other resource group for example or v-net and then have to take a backup and then",
    "start": "1467039",
    "end": "1472799"
  },
  {
    "text": "a restore on the same for aks backup and the restore all those workloads",
    "start": "1472799",
    "end": "1478720"
  },
  {
    "text": "that's a lot of work and sometimes when you do it especially in azure api management this restore or",
    "start": "1478720",
    "end": "1484640"
  },
  {
    "text": "backup procedure fails and then you have to create a support together it's a process that takes a",
    "start": "1484640",
    "end": "1489919"
  },
  {
    "text": "long time so several hours and then you need to test it and to be",
    "start": "1489919",
    "end": "1496640"
  },
  {
    "text": "sure that everything works and well tested you get all the testers from all",
    "start": "1496640",
    "end": "1501840"
  },
  {
    "text": "the teams joining the meeting and help testing this",
    "start": "1501840",
    "end": "1507360"
  },
  {
    "text": "before you make the switch and then you need to consider that there might be failures and there are failures",
    "start": "1507360",
    "end": "1515120"
  },
  {
    "text": "always failures so you have all those expert domain experts with you as well",
    "start": "1515120",
    "end": "1521600"
  },
  {
    "text": "so we were about 20 or 25 people at midnight",
    "start": "1521600",
    "end": "1526640"
  },
  {
    "text": "on a sunday um doing this and it worked",
    "start": "1526640",
    "end": "1532000"
  },
  {
    "text": "this was not easy we had to figure out some some problems and so on",
    "start": "1532000",
    "end": "1537360"
  },
  {
    "text": "um but then we thought okay we cannot do this really every time with",
    "start": "1537360",
    "end": "1544159"
  },
  {
    "text": "25 people and so on we need to get better at this and with less people maybe two or three",
    "start": "1544159",
    "end": "1550880"
  },
  {
    "text": "so we really learned that this is not an option at all we cannot",
    "start": "1550880",
    "end": "1557120"
  },
  {
    "text": "do a switch and then we thought okay",
    "start": "1557120",
    "end": "1562320"
  },
  {
    "text": "what about multi-clustering that means that",
    "start": "1563279",
    "end": "1569679"
  },
  {
    "text": "you have an aks there and then you have another aks",
    "start": "1569679",
    "end": "1575120"
  },
  {
    "text": "there's no active and inactive but they are both active at all the time",
    "start": "1575120",
    "end": "1582320"
  },
  {
    "text": "so you can you could maybe then have",
    "start": "1582320",
    "end": "1587679"
  },
  {
    "text": "ninety percent there and ten percent to the new one and just test it out um that's a way to do it",
    "start": "1587679",
    "end": "1596559"
  },
  {
    "text": "so we thought okay let's investigate how we do this",
    "start": "1596640",
    "end": "1601919"
  },
  {
    "text": "but we thought something more we we learned something very important at that",
    "start": "1603039",
    "end": "1608240"
  },
  {
    "text": "point that immutable infrastructure completely as we have done it",
    "start": "1608240",
    "end": "1615840"
  },
  {
    "text": "is is a really stupid way of working because there are components like",
    "start": "1615840",
    "end": "1622400"
  },
  {
    "text": "application app gateway at the application gateway or azure api management",
    "start": "1622400",
    "end": "1627679"
  },
  {
    "text": "they're really managed especially azure api management so you don't need to re-provision that",
    "start": "1627679",
    "end": "1634159"
  },
  {
    "text": "one at all why should you so why not just let it",
    "start": "1634159",
    "end": "1639200"
  },
  {
    "text": "be there and do nothing why not just having one one app gateway one azure ip",
    "start": "1639200",
    "end": "1645120"
  },
  {
    "text": "measure as we had before and just two uh aks because that's what we want the problem really was to upgrade aks",
    "start": "1645120",
    "end": "1652320"
  },
  {
    "text": "immutable infrastructure was not our problem upgrading nothing more so we went back",
    "start": "1652320",
    "end": "1658480"
  },
  {
    "text": "and then we thought okay this could be something just having azure ip management as i the",
    "start": "1658480",
    "end": "1665360"
  },
  {
    "text": "previous picture and then just make a switch there it's a few lines of code",
    "start": "1665360",
    "end": "1672559"
  },
  {
    "text": "and just implement this and then you can go into azure ip management and",
    "start": "1672559",
    "end": "1678480"
  },
  {
    "text": "those who are familiar with azure api management of named values it's just a simple value that you that you change",
    "start": "1678480",
    "end": "1686159"
  },
  {
    "text": "it's super easy",
    "start": "1686159",
    "end": "1689200"
  },
  {
    "start": "1691000",
    "end": "1691000"
  },
  {
    "text": "so with that said okay let's let's try this out then you can have weights",
    "start": "1691200",
    "end": "1697120"
  },
  {
    "text": "right 10 there and 90 percent there and it worked quite well",
    "start": "1697120",
    "end": "1703600"
  },
  {
    "text": "but the problem really with this one is that is azure api management itself",
    "start": "1703600",
    "end": "1710159"
  },
  {
    "text": "because there you have policies where you may create those this code that which makes",
    "start": "1710159",
    "end": "1716640"
  },
  {
    "text": "this happen and this policy is developed in",
    "start": "1716640",
    "end": "1721840"
  },
  {
    "text": "c sharp within xml which makes it almost impossible to",
    "start": "1721840",
    "end": "1727919"
  },
  {
    "text": "maintain nobody likes that and nobody really likes to learn this we need to have some",
    "start": "1727919",
    "end": "1734880"
  },
  {
    "text": "experts in this who can make this happen so it really depended on on certain",
    "start": "1734880",
    "end": "1740080"
  },
  {
    "text": "persons in in the organization and we didn't really want that but this was one option",
    "start": "1740080",
    "end": "1747919"
  },
  {
    "text": "the other option is to make which is not really an option but we consider it anyway to make this on this",
    "start": "1748880",
    "end": "1756480"
  },
  {
    "start": "1749000",
    "end": "1749000"
  },
  {
    "text": "switch basically based on traffic manager because traffic manager also has weights you can say 10 this way and 90",
    "start": "1756480",
    "end": "1764080"
  },
  {
    "text": "this way but this is not really load balancing because you go one minute this",
    "start": "1764080",
    "end": "1770240"
  },
  {
    "text": "way and the other minute this way doesn't really work this way",
    "start": "1770240",
    "end": "1776880"
  },
  {
    "text": "and then you have caching and azure ap management as well so",
    "start": "1776880",
    "end": "1782000"
  },
  {
    "text": "it's nothing like ground robin or so it's just this way or this way",
    "start": "1782000",
    "end": "1788799"
  },
  {
    "start": "1792000",
    "end": "1792000"
  },
  {
    "text": "and then we considered a third option which was having application gateway",
    "start": "1793039",
    "end": "1800799"
  },
  {
    "text": "there so this is a level level 7",
    "start": "1800799",
    "end": "1808880"
  },
  {
    "text": "kind of proxy which you can have",
    "start": "1808880",
    "end": "1813200"
  },
  {
    "text": "and yeah the problem here was",
    "start": "1814240",
    "end": "1820640"
  },
  {
    "text": "application gateway is a very very quite a complex service i would say so",
    "start": "1820640",
    "end": "1828399"
  },
  {
    "text": "the configuration you need to have there um you have to have it as infrastructure or",
    "start": "1828399",
    "end": "1834960"
  },
  {
    "text": "s-code as well and we learned the hard way that",
    "start": "1834960",
    "end": "1841200"
  },
  {
    "text": "this is not really working for us working with application gateway",
    "start": "1841200",
    "end": "1846799"
  },
  {
    "text": "application gateway is a service that we rather would not like to use at all because of its",
    "start": "1846799",
    "end": "1852960"
  },
  {
    "text": "complexity you have listeners you have back-end pools and you have some other stuff there",
    "start": "1852960",
    "end": "1860240"
  },
  {
    "text": "it works and you can have weighted route robin but that's a really complicated",
    "start": "1861360",
    "end": "1866799"
  },
  {
    "text": "configuration that you have there",
    "start": "1866799",
    "end": "1870320"
  },
  {
    "start": "1872000",
    "end": "1872000"
  },
  {
    "text": "and then we said okay why not a simple load balancer this is also an option",
    "start": "1872480",
    "end": "1878799"
  },
  {
    "text": "but azure load balancers cannot have other load balancers as",
    "start": "1878799",
    "end": "1885679"
  },
  {
    "text": "backends it's not possible so this doesn't work either",
    "start": "1885679",
    "end": "1892240"
  },
  {
    "text": "even though it would be super nice they also have to be in the same v-net which is also required",
    "start": "1892240",
    "end": "1900240"
  },
  {
    "text": "which makes it a bit hard when you have infrastructure as code written and they reside in their own v-net",
    "start": "1900240",
    "end": "1907360"
  },
  {
    "text": "this doesn't really work i mean you can get around it but it's it's hard and you have to",
    "start": "1907360",
    "end": "1913360"
  },
  {
    "text": "rewrite everything and you cannot even have another load balancer as a back-end which you have as part of aks so this",
    "start": "1913360",
    "end": "1920240"
  },
  {
    "text": "doesn't uh work either and then there was a question about cross region load balancers",
    "start": "1920240",
    "end": "1925600"
  },
  {
    "text": "um yes they might solve this with v-netting but again you cannot have a public or another load balancer",
    "start": "1925600",
    "end": "1932880"
  },
  {
    "text": "as a back-end pool",
    "start": "1932880",
    "end": "1936799"
  },
  {
    "text": "so what aks upgrade solution did we did we choose",
    "start": "1938480",
    "end": "1945039"
  },
  {
    "text": "we went completely back again and said okay active active is not really",
    "start": "1946240",
    "end": "1953760"
  },
  {
    "text": "working for us again we want to upgrade the service in a very secure way nothing more",
    "start": "1953760",
    "end": "1961720"
  },
  {
    "text": "and then we thought okay we have all this",
    "start": "1962720",
    "end": "1968320"
  },
  {
    "text": "infrastructure encode in place and we can provision a new infrastructure",
    "start": "1968320",
    "end": "1973519"
  },
  {
    "text": "completely even though we said we didn't want that again um",
    "start": "1973519",
    "end": "1979919"
  },
  {
    "text": "we said okay in case we have really troubles with aks",
    "start": "1979919",
    "end": "1986399"
  },
  {
    "text": "we can just provision it in in another region and this but",
    "start": "1986399",
    "end": "1992640"
  },
  {
    "text": "we probably won't ever need it so let's just go back and say okay let's just have one again and find another way of",
    "start": "1992640",
    "end": "2000960"
  },
  {
    "text": "upgrading it in a secure way but at the same time we can go the west",
    "start": "2000960",
    "end": "2006480"
  },
  {
    "text": "europe route or the north europe route with with an azure application gateway in our",
    "start": "2006480",
    "end": "2012159"
  },
  {
    "text": "application azure api management so that when there are failures on on this route you can go another way",
    "start": "2012159",
    "end": "2019039"
  },
  {
    "text": "and actually we had some some problem uh once not some weeks ago",
    "start": "2019039",
    "end": "2024480"
  },
  {
    "text": "where the one route didn't really worked and we didn't know why so we routed to the other route and",
    "start": "2024480",
    "end": "2030880"
  },
  {
    "text": "that was perfectly for us but still what is the problem with um with aks at this point how can we",
    "start": "2030880",
    "end": "2038159"
  },
  {
    "text": "upgrade it and then suddenly",
    "start": "2038159",
    "end": "2044159"
  },
  {
    "start": "2044000",
    "end": "2044000"
  },
  {
    "text": "there there came something new from um kubernetes yeah we read about it and this is the",
    "start": "2044159",
    "end": "2051760"
  },
  {
    "text": "pot disruption budget and this is really super nice because",
    "start": "2051760",
    "end": "2058158"
  },
  {
    "text": "you have first your node pools where you can have upgrade one node by one or one node pool",
    "start": "2058159",
    "end": "2064480"
  },
  {
    "text": "by node pool which which helps super but they can fail all right so you need",
    "start": "2064480",
    "end": "2070398"
  },
  {
    "text": "to make sure that you have more node pools in place",
    "start": "2070399",
    "end": "2075599"
  },
  {
    "text": "but if also the node pool fails and it's not really fun to do it in",
    "start": "2075599",
    "end": "2081118"
  },
  {
    "text": "this upgrade even though a node pool fails and you feel quite secure but with pot disruption budgets",
    "start": "2081119",
    "end": "2087040"
  },
  {
    "text": "you can say that okay i want to make sure that",
    "start": "2087040",
    "end": "2092720"
  },
  {
    "text": "i always want to run for example two applications of this config server",
    "start": "2092720",
    "end": "2099280"
  },
  {
    "text": "that's your disruption budget and he won't proceed",
    "start": "2099280",
    "end": "2106720"
  },
  {
    "text": "until if if those",
    "start": "2106720",
    "end": "2111760"
  },
  {
    "text": "if those applications fail for example you always make sure",
    "start": "2111760",
    "end": "2117359"
  },
  {
    "text": "that the minimum amount of applications is still running",
    "start": "2117359",
    "end": "2122880"
  },
  {
    "text": "and we experienced this again once that we made an upgrade and it failed but",
    "start": "2122880",
    "end": "2129760"
  },
  {
    "text": "luckily the pot disruption budget saved us at this point so this was not really",
    "start": "2129760",
    "end": "2135920"
  },
  {
    "text": "a problem but then it's the question okay you have also",
    "start": "2135920",
    "end": "2141040"
  },
  {
    "text": "this control plane still which might fail this is something that we have never",
    "start": "2141040",
    "end": "2147839"
  },
  {
    "text": "experienced yet so that's why we said okay this risk we",
    "start": "2147839",
    "end": "2152960"
  },
  {
    "text": "can take and we did however we have always",
    "start": "2152960",
    "end": "2159440"
  },
  {
    "text": "another aks in place the inactive one which we always can",
    "start": "2159440",
    "end": "2165680"
  },
  {
    "text": "deploy and we always do deploy this inactive aks where we test everything",
    "start": "2165680",
    "end": "2171440"
  },
  {
    "text": "and when we test and we know there are no breaking changes then",
    "start": "2171440",
    "end": "2176800"
  },
  {
    "text": "we will make the switch in this one so there's still a limited amount of risk but it's",
    "start": "2176800",
    "end": "2183599"
  },
  {
    "text": "so minimum that it's almost nothing what we considered",
    "start": "2183599",
    "end": "2190078"
  },
  {
    "text": "and then there came a new service",
    "start": "2192160",
    "end": "2198640"
  },
  {
    "text": "azure container apps and we thought okay azure container apps that looks quite nice",
    "start": "2199040",
    "end": "2206160"
  },
  {
    "text": "we like the idea behind it very very much",
    "start": "2206160",
    "end": "2211440"
  },
  {
    "start": "2212000",
    "end": "2212000"
  },
  {
    "text": "first where are we today or before azure container apps we had those virtual",
    "start": "2212640",
    "end": "2219040"
  },
  {
    "text": "machines where you're super flexible and you can do everything yourself literally everything",
    "start": "2219040",
    "end": "2225520"
  },
  {
    "text": "then you have aks where",
    "start": "2225520",
    "end": "2230640"
  },
  {
    "text": "some parts are managed but a lot of the stuff you have to do yourself like",
    "start": "2230640",
    "end": "2235680"
  },
  {
    "text": "upgrading but still you have all those nodes um that you can see and you can take",
    "start": "2235680",
    "end": "2242240"
  },
  {
    "text": "them out manually so it's managed but you can manage everything yourself still",
    "start": "2242240",
    "end": "2248720"
  },
  {
    "text": "and you are super flexible and then you have container instances",
    "start": "2248720",
    "end": "2254160"
  },
  {
    "text": "um that are single hyper-v isolated uh containers",
    "start": "2254160",
    "end": "2259200"
  },
  {
    "text": "but you cannot really scale them and and load balancing is also quite hard i mean you have to",
    "start": "2259200",
    "end": "2265359"
  },
  {
    "text": "provision a new one and so on it's it works but um it's really",
    "start": "2265359",
    "end": "2271119"
  },
  {
    "text": "still kind of very low level and then you have azure functions where",
    "start": "2271119",
    "end": "2276880"
  },
  {
    "text": "you have this functional model there are servers less and there's really everything is taken care of for",
    "start": "2276880",
    "end": "2284480"
  },
  {
    "text": "you it's it's very managed um and it provides a lot of yeah because",
    "start": "2284480",
    "end": "2290800"
  },
  {
    "text": "it's a follows this functional model function app model um provides a lot of benefits and helps you to create",
    "start": "2290800",
    "end": "2298079"
  },
  {
    "text": "services but what's the good stuff what we like like",
    "start": "2298079",
    "end": "2305599"
  },
  {
    "text": "very much with azure container apps that's first of all you have those revisions out of the box",
    "start": "2305599",
    "end": "2312400"
  },
  {
    "start": "2307000",
    "end": "2307000"
  },
  {
    "text": "so you just install an application and put it in this container provision it",
    "start": "2312400",
    "end": "2318160"
  },
  {
    "text": "and then you can say okay now i want to have a new revision um and that's all you do basically and",
    "start": "2318160",
    "end": "2324880"
  },
  {
    "text": "then you can say 2080 or you can you can do a b testing or gradual",
    "start": "2324880",
    "end": "2332320"
  },
  {
    "text": "deployment which is quite nice and you don't get this in kubernetes or in aks you have to",
    "start": "2332320",
    "end": "2338320"
  },
  {
    "text": "do it yourself so you're self responsible for making this happen but here in azure container apps you get",
    "start": "2338320",
    "end": "2345440"
  },
  {
    "text": "this out of the box and that was super nice because we were",
    "start": "2345440",
    "end": "2350640"
  },
  {
    "text": "developing this right now in kubernetes ourselves",
    "start": "2350640",
    "end": "2356240"
  },
  {
    "text": "with the flagger i think the surface is called",
    "start": "2356400",
    "end": "2361119"
  },
  {
    "text": "and what it also has is out of the box you can just use it because it's",
    "start": "2361680",
    "end": "2367119"
  },
  {
    "text": "natively there kubernetes you have to do everything yourself you have dapper",
    "start": "2367119",
    "end": "2373520"
  },
  {
    "text": "for example circuit breaker which you which we really don't have right now",
    "start": "2373520",
    "end": "2380160"
  },
  {
    "text": "which means if a service is failing that the other service is not calling it all the time but it says okay let's make",
    "start": "2380160",
    "end": "2387680"
  },
  {
    "text": "a cut and wait five minutes and try again right now you would basically overload",
    "start": "2387680",
    "end": "2393040"
  },
  {
    "text": "the system now you get this out of the box with azure container apps",
    "start": "2393040",
    "end": "2399440"
  },
  {
    "text": "and then you have also publisher and subscribe so you can send messages on azure a",
    "start": "2400480",
    "end": "2407920"
  },
  {
    "text": "service bus and you can it listens automatically uh to the service bus",
    "start": "2407920",
    "end": "2413119"
  },
  {
    "text": "which everything is automatically there and state management is taken care of for you with for example cosmos db",
    "start": "2413119",
    "end": "2421040"
  },
  {
    "text": "with everything there on the other side you have",
    "start": "2421040",
    "end": "2426319"
  },
  {
    "text": "gila",
    "start": "2426319",
    "end": "2428720"
  },
  {
    "text": "we'll just kubernetes eventualism ultrascaler",
    "start": "2432880",
    "end": "2438480"
  },
  {
    "text": "today you have those pods and they can scale by themselves based on cpu and memory which is quite nice um",
    "start": "2438480",
    "end": "2445200"
  },
  {
    "text": "but this doesn't really help very often may very often you need to scale",
    "start": "2445200",
    "end": "2451040"
  },
  {
    "text": "based on other metrics like for example the the number of requests coming into",
    "start": "2451040",
    "end": "2456319"
  },
  {
    "text": "application gateway in the beginning or stuff like that and you can make this happen you can trigger based on",
    "start": "2456319",
    "end": "2462720"
  },
  {
    "text": "many different things this is also automatically there",
    "start": "2462720",
    "end": "2469760"
  },
  {
    "text": "what came out now some last week when microsoft built was there they announced that i think",
    "start": "2470720",
    "end": "2476960"
  },
  {
    "text": "pepper and keita both you can add as an extension also to create this right now",
    "start": "2476960",
    "end": "2482640"
  },
  {
    "text": "but still you have to do a lot of things manually yourself",
    "start": "2482640",
    "end": "2487680"
  },
  {
    "start": "2489000",
    "end": "2489000"
  },
  {
    "text": "so for example what you can do there um you can have azure ap management in front",
    "start": "2490560",
    "end": "2498400"
  },
  {
    "text": "that calls uh an api an application which has a public",
    "start": "2498400",
    "end": "2504319"
  },
  {
    "text": "ip address also and public inques which is accessible and those applications can",
    "start": "2504319",
    "end": "2511040"
  },
  {
    "text": "talk through dapper to other applications there that have no public endpoint",
    "start": "2511040",
    "end": "2519920"
  },
  {
    "text": "and you get this automatically by azure kubernetes azure container apps",
    "start": "2519920",
    "end": "2525760"
  },
  {
    "text": "you just define this is public or this is not public you can even put azure container apps in",
    "start": "2525760",
    "end": "2532960"
  },
  {
    "text": "your own v-net public v-net or internal v-net",
    "start": "2532960",
    "end": "2538079"
  },
  {
    "text": "public v-net you get an external get a dns as well automatically but you",
    "start": "2538079",
    "end": "2544480"
  },
  {
    "text": "can also come with your custom v-net which is which makes things so much",
    "start": "2544480",
    "end": "2550800"
  },
  {
    "text": "easier but the thing is that you are",
    "start": "2550800",
    "end": "2557839"
  },
  {
    "text": "not really flexible at all i mean for example the the",
    "start": "2557839",
    "end": "2565200"
  },
  {
    "text": "biggest drawback what we think is that you have no access to the",
    "start": "2565200",
    "end": "2571680"
  },
  {
    "text": "kubernetes api and we use for example we develop some",
    "start": "2571680",
    "end": "2578640"
  },
  {
    "text": "kubernetes operators so that you can simplify the whole workflow of your",
    "start": "2578640",
    "end": "2585920"
  },
  {
    "text": "deployments for example you have an application which comes with an api",
    "start": "2585920",
    "end": "2591599"
  },
  {
    "text": "with a swagger file and a policy for api management and you need to",
    "start": "2591599",
    "end": "2597040"
  },
  {
    "text": "first deploy your application to kubernetes i guess and you need to deploy your api",
    "start": "2597040",
    "end": "2604480"
  },
  {
    "text": "so what you previously did you deployed you have two pipelines only one pipeline the one to aks and the one the other one",
    "start": "2604480",
    "end": "2611760"
  },
  {
    "text": "to api management this works fine and your teams are probably responsible for those pipelines",
    "start": "2611760",
    "end": "2618839"
  },
  {
    "text": "um but what you can do with operators and that we do a lot",
    "start": "2618839",
    "end": "2624480"
  },
  {
    "text": "is you deploy those apis from",
    "start": "2624480",
    "end": "2630880"
  },
  {
    "text": "aks that means you deploy your applications",
    "start": "2630880",
    "end": "2636480"
  },
  {
    "text": "and the kubernetes operator that you wrote yourself an apim operator",
    "start": "2636480",
    "end": "2642079"
  },
  {
    "text": "that takes then those api and deploys it to azure ap management automatically",
    "start": "2642079",
    "end": "2648960"
  },
  {
    "text": "and this combined with githubs for example you don't need any",
    "start": "2648960",
    "end": "2654720"
  },
  {
    "text": "pipeline at all so you're totally pipeline free it's just githubs and aks",
    "start": "2654720",
    "end": "2661280"
  },
  {
    "text": "or kubernetes operators and you don't get this flexibility in",
    "start": "2661280",
    "end": "2667520"
  },
  {
    "text": "in azure container apps and if you are larger organization",
    "start": "2667520",
    "end": "2672880"
  },
  {
    "text": "um now you're merging with the mole by pay so we get even larger and",
    "start": "2672880",
    "end": "2678480"
  },
  {
    "text": "then cannot really do azure container apps maybe it works for some team that do some other stuff besides but if you have",
    "start": "2678480",
    "end": "2685760"
  },
  {
    "text": "a main runtime environment um then it doesn't really work because all the tooling around and so on you need to",
    "start": "2685760",
    "end": "2692800"
  },
  {
    "text": "create once again",
    "start": "2692800",
    "end": "2695920"
  },
  {
    "text": "also you have this you have only general purpose applications",
    "start": "2698480",
    "end": "2705520"
  },
  {
    "text": "sorry vms that didn't mention what type of nodes or vm types they use",
    "start": "2705520",
    "end": "2713280"
  },
  {
    "text": "i think when they say general purpose they mean the the d series but if you",
    "start": "2713280",
    "end": "2718880"
  },
  {
    "text": "have applications that have other requirements you can really change this you're really dependent on",
    "start": "2718880",
    "end": "2725680"
  },
  {
    "text": "on this one vm type whatever it is",
    "start": "2725680",
    "end": "2731000"
  },
  {
    "start": "2732000",
    "end": "2732000"
  },
  {
    "text": "yeah and then those operators uh what i wanted to talk about but you you cannot even",
    "start": "2732240",
    "end": "2738560"
  },
  {
    "text": "do kubernetes logs as a cube ctl locks for example all this stuff that you like",
    "start": "2738560",
    "end": "2743920"
  },
  {
    "text": "as a developer you cannot do this you have to go into the portal to azure analytics and and get your locks from",
    "start": "2743920",
    "end": "2750640"
  },
  {
    "text": "there so azure kubernetes or azure container apps",
    "start": "2750640",
    "end": "2758240"
  },
  {
    "text": "are really in between container instances and azure functions they are quite",
    "start": "2758240",
    "end": "2764240"
  },
  {
    "text": "nice to have and simplify everything and you could maybe consider or reconsider",
    "start": "2764240",
    "end": "2770000"
  },
  {
    "text": "to have the api gateway from azure ip management deploy",
    "start": "2770000",
    "end": "2776000"
  },
  {
    "text": "them in azure container apps so that they run outside kubernetes",
    "start": "2776000",
    "end": "2782720"
  },
  {
    "text": "as they do now but as containers because then i in terms of",
    "start": "2782720",
    "end": "2788560"
  },
  {
    "text": "updates or scalability it's much more flexible but",
    "start": "2788560",
    "end": "2794160"
  },
  {
    "text": "it's not really an option for us because you don't have any flexibility there and if you have many teams we have around",
    "start": "2794160",
    "end": "2801440"
  },
  {
    "text": "12 15 teams or so you cannot really help them i mean you can help them but you need to build a",
    "start": "2801440",
    "end": "2807280"
  },
  {
    "text": "lot of tooling around from from sketch again",
    "start": "2807280",
    "end": "2812000"
  },
  {
    "text": "um [Music] i have",
    "start": "2812319",
    "end": "2817839"
  },
  {
    "text": "all all the slides here and uh and a lot of text and so on um is in this ebooks",
    "start": "2817839",
    "end": "2823359"
  },
  {
    "text": "ebook that you can download if you want there's everything in detail described",
    "start": "2823359",
    "end": "2829599"
  },
  {
    "text": "again all those active active and so on and an immutable infrastructure in more detail or infrastructures code how how",
    "start": "2829599",
    "end": "2837599"
  },
  {
    "text": "we did it and why it didn't really work and so on quite detailed about 30 pages or so not",
    "start": "2837599",
    "end": "2844240"
  },
  {
    "text": "so much about azure container apps but ebit",
    "start": "2844240",
    "end": "2849119"
  },
  {
    "text": "and if you want to take or get in touch just",
    "start": "2849520",
    "end": "2854800"
  },
  {
    "text": "get in touch and if you have any questions also just send them to me or",
    "start": "2854800",
    "end": "2861280"
  },
  {
    "text": "or ask now",
    "start": "2861280",
    "end": "2864160"
  },
  {
    "start": "2867000",
    "end": "2867000"
  },
  {
    "text": "so to just summarize we went from really high risk where we",
    "start": "2867040",
    "end": "2873440"
  },
  {
    "text": "just pushed the one button and it was down basically to",
    "start": "2873440",
    "end": "2880000"
  },
  {
    "text": "low risk still risk because we created a completely new infrastructure was super hard work",
    "start": "2880000",
    "end": "2887280"
  },
  {
    "text": "and it's not really scalable when we also merge with more by pay it doesn't didn't doesn't really work",
    "start": "2887280",
    "end": "2894319"
  },
  {
    "text": "um but it's low risk two we consider as no risk i mean",
    "start": "2894319",
    "end": "2900400"
  },
  {
    "text": "there's always a little risk but we considered at least at no risk because we have done it now",
    "start": "2900400",
    "end": "2905760"
  },
  {
    "text": "many many times we have poor environments and we do it regularly in all",
    "start": "2905760",
    "end": "2911280"
  },
  {
    "text": "environments and pretty works pretty well with pot disruption budgets",
    "start": "2911280",
    "end": "2916640"
  },
  {
    "text": "and which is really critical have we learned it use in kubernetes",
    "start": "2916640",
    "end": "2923280"
  },
  {
    "text": "and then azure container apps as an alternative option to aks",
    "start": "2923280",
    "end": "2928880"
  },
  {
    "text": "it really depends for normal teams probably not but if you have some special use cases that are",
    "start": "2928880",
    "end": "2934079"
  },
  {
    "text": "totally outside the main domain which is payment services and so on then it might",
    "start": "2934079",
    "end": "2940880"
  },
  {
    "text": "it might be a good option and with that",
    "start": "2940880",
    "end": "2948000"
  },
  {
    "text": "i'm thank you",
    "start": "2948000",
    "end": "2952520"
  },
  {
    "text": "you",
    "start": "2969119",
    "end": "2971200"
  }
]