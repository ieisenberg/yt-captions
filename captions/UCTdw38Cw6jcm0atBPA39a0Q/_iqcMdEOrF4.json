[
  {
    "text": "all right uh so cool to see lots of people I don't know and I'm honored you want to come",
    "start": "420",
    "end": "6180"
  },
  {
    "text": "hear me talk um so hi my name's Carrie and I'm gonna",
    "start": "6180",
    "end": "11219"
  },
  {
    "text": "talk to you today about Mono repos what they are and how using them had sped up",
    "start": "11219",
    "end": "17160"
  },
  {
    "text": "the pace at which my team and I deliver better and more secure front-end applications",
    "start": "17160",
    "end": "24619"
  },
  {
    "text": "um and before I start talking about that I wanna get an idea of who I'm talking",
    "start": "25080",
    "end": "30359"
  },
  {
    "text": "to here so quick raise of a hand who's heard of a monorepo",
    "start": "30359",
    "end": "36180"
  },
  {
    "text": "oh like all of you cool um who uses monoreepos",
    "start": "36180",
    "end": "43579"
  },
  {
    "text": "half of you cool and like who starts to feel their heart",
    "start": "44460",
    "end": "49980"
  },
  {
    "text": "race hand sweat and a feeling of unease at the pit of your stomach at the idea of putting code from multiple projects",
    "start": "49980",
    "end": "57480"
  },
  {
    "text": "into a single code base about just as many as those who use it",
    "start": "57480",
    "end": "63719"
  },
  {
    "text": "cool um and if that's your reaction um I totally get it because I was really",
    "start": "63719",
    "end": "70979"
  },
  {
    "text": "skeptical when my charismatic Tech enthusiastic team lead came and suggested this approach",
    "start": "70979",
    "end": "77100"
  },
  {
    "text": "I mean it sounds like something that can quickly become a tightly coupled stack",
    "start": "77100",
    "end": "82680"
  },
  {
    "text": "of cards that will come tumbling down if you look at it the wrong way or you know if someone in the neighboring office",
    "start": "82680",
    "end": "88200"
  },
  {
    "text": "sneezes um and behold the type of system I just",
    "start": "88200",
    "end": "93420"
  },
  {
    "text": "described is Infamous in our community it is the feared and dreaded",
    "start": "93420",
    "end": "99780"
  },
  {
    "text": "monolithic right",
    "start": "99780",
    "end": "105299"
  },
  {
    "text": "um but it doesn't have to be like this in a moderito and this is one misconception that I will try to disband",
    "start": "105299",
    "end": "111600"
  },
  {
    "text": "today so what is a monorepo a monorepo is a",
    "start": "111600",
    "end": "119280"
  },
  {
    "text": "software development approach where code for multiple projects or components is stored in a single Repository",
    "start": "119280",
    "end": "127938"
  },
  {
    "text": "um so let's for Simplicity say that the opposite of a monorepo is a poly repo",
    "start": "128220",
    "end": "135420"
  },
  {
    "text": "so with the poly repo strategy um you have an app or a project and you",
    "start": "135420",
    "end": "141540"
  },
  {
    "text": "store it in its own repository so typically a git repository on GitHub or something like that",
    "start": "141540",
    "end": "148560"
  },
  {
    "text": "um and then if you have some shared services that are used by more than one application",
    "start": "148560",
    "end": "153599"
  },
  {
    "text": "um then these each have their own repository as well and typically you'll publish them to",
    "start": "153599",
    "end": "159300"
  },
  {
    "text": "npm so they can be shared across projects",
    "start": "159300",
    "end": "163640"
  },
  {
    "text": "um in comparison in a monorepo they're all stored in the same Repository",
    "start": "167640",
    "end": "174420"
  },
  {
    "text": "so when you clone your repo you're gonna get lots of code and not just the code",
    "start": "174420",
    "end": "180180"
  },
  {
    "text": "for your projects right so as the illustration tries to",
    "start": "180180",
    "end": "187319"
  },
  {
    "text": "show having code organized in a monorepo doesn't automatically mean that you're",
    "start": "187319",
    "end": "192959"
  },
  {
    "text": "gonna have a typically coupled architecture or any other architecture for that matter",
    "start": "192959",
    "end": "198480"
  },
  {
    "text": "you certainly still can and it's probably a good idea to organize your code in small independent and",
    "start": "198480",
    "end": "204540"
  },
  {
    "text": "self-contained components with well-defined boundaries and interfaces but fundamentally the only difference is",
    "start": "204540",
    "end": "212280"
  },
  {
    "text": "where you put your code nonetheless the impact of this decision",
    "start": "212280",
    "end": "217739"
  },
  {
    "text": "can be large um so why would you choose to do this",
    "start": "217739",
    "end": "223860"
  },
  {
    "text": "um instead of splitting it up into multiple repositories um I'll get into the general reasons for",
    "start": "223860",
    "end": "230099"
  },
  {
    "text": "why you want to do this but first I want to give you a quick introduction to our modern repo",
    "start": "230099",
    "end": "237379"
  },
  {
    "text": "um so our monorepo for front-end apps came to be as a proof of concept summer project",
    "start": "237720",
    "end": "244260"
  },
  {
    "text": "in the summer of 2020 four students created our front-end mode repo to host",
    "start": "244260",
    "end": "250019"
  },
  {
    "text": "three applications and some shared libraries to support them",
    "start": "250019",
    "end": "255199"
  },
  {
    "text": "so one of these apps has passed the test of time and if you're curious about the sun conditions on a particular property",
    "start": "255199",
    "end": "262440"
  },
  {
    "text": "then you can go to our web shop and check out our app it's called sulfor",
    "start": "262440",
    "end": "270560"
  },
  {
    "text": "um but anyways today our mono repo has 24 react applications",
    "start": "271139",
    "end": "277259"
  },
  {
    "text": "many of these are demo applications and internal tools but we also have like a",
    "start": "277259",
    "end": "283500"
  },
  {
    "text": "couple of important ones in there like with real customers um and to support this we have 81 shared",
    "start": "283500",
    "end": "291660"
  },
  {
    "text": "libraries so 81 sounds like a lot um but many of these are really small so",
    "start": "291660",
    "end": "297660"
  },
  {
    "text": "we have for example a library for each external API we call and we have a library just",
    "start": "297660",
    "end": "303840"
  },
  {
    "text": "for dealing with canister IDs yes they're complicated but I doubts",
    "start": "303840",
    "end": "310759"
  },
  {
    "text": "so the activity and scale of our monorepo is relatively small to give you an idea last month we had 26",
    "start": "310919",
    "end": "319080"
  },
  {
    "text": "contributors who together merged 151 pull requests to the",
    "start": "319080",
    "end": "324660"
  },
  {
    "text": "main branch and we haven't just put lots of code into a single repository to manage all",
    "start": "324660",
    "end": "331919"
  },
  {
    "text": "these projects we use a mono repo build tool called NX",
    "start": "331919",
    "end": "337638"
  },
  {
    "text": "and in addition to code we have some internal tools developer tools and docs",
    "start": "337860",
    "end": "343139"
  },
  {
    "text": "in our mono repo to help users get going quickly um",
    "start": "343139",
    "end": "348600"
  },
  {
    "text": "and finally our monorepo has one shared CI CD pipeline to get all these great apps",
    "start": "348600",
    "end": "354960"
  },
  {
    "text": "into production and delivering value to our customers",
    "start": "354960",
    "end": "359720"
  },
  {
    "text": "so the question is what does monorepo give us and why do we choose to organize our",
    "start": "360780",
    "end": "366840"
  },
  {
    "text": "code this way did you know that Google meta Microsoft",
    "start": "366840",
    "end": "372180"
  },
  {
    "text": "Uber Airbnb and Twitter all employ very large amount of repos with varying strategies to scale build systems and Version Control software with large",
    "start": "372180",
    "end": "378479"
  },
  {
    "text": "volume of code and daily changes it's true they use one repos",
    "start": "378479",
    "end": "384060"
  },
  {
    "text": "um but the fact that these big successful companies use monorepose",
    "start": "384060",
    "end": "389639"
  },
  {
    "text": "um of course doesn't mean it's a good idea for everybody in fact the chances are high that the",
    "start": "389639",
    "end": "396240"
  },
  {
    "text": "scale and context of your projects are widely different from theirs",
    "start": "396240",
    "end": "401340"
  },
  {
    "text": "um but it does give an indication at least that it's not a totally bad idea I",
    "start": "401340",
    "end": "406919"
  },
  {
    "text": "think so big guys use it bad reason",
    "start": "406919",
    "end": "412620"
  },
  {
    "text": "um but there are some actual benefits of using monorepose and I'm going to go",
    "start": "412620",
    "end": "417840"
  },
  {
    "text": "through and explain each one of them um monorepo benefit number one it's",
    "start": "417840",
    "end": "424620"
  },
  {
    "text": "faster to get new projects up and running so our mono repo helps us here in two",
    "start": "424620",
    "end": "430380"
  },
  {
    "text": "ways first we have custom generators",
    "start": "430380",
    "end": "436680"
  },
  {
    "text": "so custom generators in our monorepo helps us set up new applications with company specific boilerplate code",
    "start": "436680",
    "end": "444500"
  },
  {
    "text": "for example one of our app generators will generate code with authentication",
    "start": "444500",
    "end": "449639"
  },
  {
    "text": "and our design system set up and ready to use so you run the command",
    "start": "449639",
    "end": "456979"
  },
  {
    "text": "serve up your app and you're good to go",
    "start": "458039",
    "end": "462440"
  },
  {
    "text": "so you may argue this is not a monorepo Advantage because there's nothing",
    "start": "465259",
    "end": "471599"
  },
  {
    "text": "stopping you from making templates and custom generators in its own repo",
    "start": "471599",
    "end": "477060"
  },
  {
    "text": "and it's a good point however an advantage of having this in a",
    "start": "477060",
    "end": "482099"
  },
  {
    "text": "monorepo setting is that it's much easier to keep these up to date as your internal dependencies",
    "start": "482099",
    "end": "488220"
  },
  {
    "text": "evolve and I'm going to talk more about this later",
    "start": "488220",
    "end": "494060"
  },
  {
    "text": "so we've got our app created um next thing you typically want to do is",
    "start": "494160",
    "end": "500220"
  },
  {
    "text": "get it into production so when you develop in our mono repo there's no need to set up your own CI CD",
    "start": "500220",
    "end": "508620"
  },
  {
    "text": "pipeline no need to configure yaml files and suffering from the subsequent ppsd you",
    "start": "508620",
    "end": "514919"
  },
  {
    "text": "know post pipeline stress syndrome each time you want to make an app this",
    "start": "514919",
    "end": "520260"
  },
  {
    "text": "stuff it's set up and ready to use in our mono repo",
    "start": "520260",
    "end": "525080"
  },
  {
    "text": "um so a bit about how this works uh RCI CD pipeline looks something like this",
    "start": "526080",
    "end": "531899"
  },
  {
    "text": "each pullover Quest is going to trigger lint test and build stage of the pipeline",
    "start": "531899",
    "end": "537420"
  },
  {
    "text": "NX helps us to make sure that we only run these tasks for projects affected by the change",
    "start": "537420",
    "end": "544260"
  },
  {
    "text": "moreover NX and NX Cloud will help us with caching and distribution so it all",
    "start": "544260",
    "end": "549839"
  },
  {
    "text": "runs quite fast after a merge the pipeline is triggered",
    "start": "549839",
    "end": "555540"
  },
  {
    "text": "again and again the pipeline will lint test and build affected projects",
    "start": "555540",
    "end": "561600"
  },
  {
    "text": "if all goes well here we will proceed and deploy our application to a development environment",
    "start": "561600",
    "end": "567779"
  },
  {
    "text": "or we the pipeline will do it for you and if all goes well here we go ahead",
    "start": "567779",
    "end": "574019"
  },
  {
    "text": "and deploy to production and in addition affected libraries that",
    "start": "574019",
    "end": "580980"
  },
  {
    "text": "are set up to publish to our npm feed are going to do that so that users that are outside our",
    "start": "580980",
    "end": "586680"
  },
  {
    "text": "monore repo also can benefit from the changes",
    "start": "586680",
    "end": "591320"
  },
  {
    "text": "the time it takes to lint test and build really varies depending on the three",
    "start": "591720",
    "end": "597000"
  },
  {
    "text": "things so how many build agents are available how many projects are affected and how",
    "start": "597000",
    "end": "604800"
  },
  {
    "text": "many cache hits do we get so in the best case when just one project is affected or every task can",
    "start": "604800",
    "end": "611820"
  },
  {
    "text": "just pull from the cache it can take three minutes and in the worst case when 81 lives and 24 apps are",
    "start": "611820",
    "end": "619620"
  },
  {
    "text": "affected by the change and it's the first time being run it can take about 35 minutes",
    "start": "619620",
    "end": "626519"
  },
  {
    "text": "but the fun thing though is that because of remote caching which NX gives us out of the box",
    "start": "626519",
    "end": "632519"
  },
  {
    "text": "the total time for the merge pipeline which also includes deployments is in the same Ridge",
    "start": "632519",
    "end": "639899"
  },
  {
    "text": "um and yeah I know 35 minutes is too slow but we're gonna make it faster",
    "start": "639899",
    "end": "646160"
  },
  {
    "text": "all right so that's how it works in our monorepo if you were wondering but the point is that this is already",
    "start": "647820",
    "end": "655200"
  },
  {
    "text": "set up in our monorepo so teams can quickly get new apps and changes deployed without having to configure",
    "start": "655200",
    "end": "661320"
  },
  {
    "text": "yaml Pipelines next monorepa benefits fewer bugs in",
    "start": "661320",
    "end": "668279"
  },
  {
    "text": "production so having code in a monorepo such as ours can help limit bugs that are",
    "start": "668279",
    "end": "674220"
  },
  {
    "text": "allowed to pass into the main branch and as a result into production and this is because when all code is in",
    "start": "674220",
    "end": "681839"
  },
  {
    "text": "one place you're immediately going to get feedback if your changes are breaking some dependent services",
    "start": "681839",
    "end": "688860"
  },
  {
    "text": "so for example in this situation if a new feature is needed in the",
    "start": "688860",
    "end": "694680"
  },
  {
    "text": "authentication Library it's easy to apply the changes locally and immediately test that it works like",
    "start": "694680",
    "end": "701220"
  },
  {
    "text": "it should on whatever app needs a change however if the change happens to break",
    "start": "701220",
    "end": "708060"
  },
  {
    "text": "some other app then this merge will automatically be blocked by the lint test and build stage",
    "start": "708060",
    "end": "714600"
  },
  {
    "text": "of the pull request pipeline and when this happens you can see which command broke the",
    "start": "714600",
    "end": "720839"
  },
  {
    "text": "build and locally run it and reproduce the error",
    "start": "720839",
    "end": "726560"
  },
  {
    "text": "next monorepo benefits so monorepose can improve collaboration",
    "start": "728100",
    "end": "733920"
  },
  {
    "text": "and to understand the benefits of a monorepo for collaboration it can be useful for us to explore how a",
    "start": "733920",
    "end": "741120"
  },
  {
    "text": "poly repo strategy is or can be sorry it doesn't have to be can be harmful to collaboration",
    "start": "741120",
    "end": "748940"
  },
  {
    "text": "so poly repos are really great for autonomy because it allows teams to",
    "start": "748940",
    "end": "754920"
  },
  {
    "text": "choose their own tools and libraries and they can decide who what when and how",
    "start": "754920",
    "end": "760200"
  },
  {
    "text": "changes get pushed to production um it's really super but it comes",
    "start": "760200",
    "end": "766680"
  },
  {
    "text": "because of isolation and isolation can be harmful for collaboration",
    "start": "766680",
    "end": "774199"
  },
  {
    "text": "so when working on a project in its own Repository I think it can be hard to see the big",
    "start": "775740",
    "end": "781980"
  },
  {
    "text": "picture I mean the lines in this graph represent the relationships between the parts of a",
    "start": "781980",
    "end": "788040"
  },
  {
    "text": "system or application and these lines don't go away just because code is split into their own",
    "start": "788040",
    "end": "794339"
  },
  {
    "text": "repositors or maybe sometimes they do",
    "start": "794339",
    "end": "800519"
  },
  {
    "text": "so why why can this happen well for one maybe teams know don't know",
    "start": "800519",
    "end": "807839"
  },
  {
    "text": "about a shared service [Music] um maybe the shared service doesn't have a",
    "start": "807839",
    "end": "814680"
  },
  {
    "text": "necessary feature the team needs um or maybe it's just too much hassle to",
    "start": "814680",
    "end": "821639"
  },
  {
    "text": "integrate with the shared service that what teams end up doing is copy pasting",
    "start": "821639",
    "end": "827459"
  },
  {
    "text": "code and implementing it themselves don't judge you've all done this",
    "start": "827459",
    "end": "833339"
  },
  {
    "text": "so in this case you've got the issue of lots of teams implementing their own ever Divergence version of the same",
    "start": "833339",
    "end": "840720"
  },
  {
    "text": "thing with varying degrees of quality wouldn't it be better to do the thing once and make sure it's done right",
    "start": "840720",
    "end": "849380"
  },
  {
    "text": "in a monorepo it's easy to find shared modules and examples of their use because it's all right there in the same",
    "start": "851700",
    "end": "858660"
  },
  {
    "text": "Repository also it's much easier to see how each",
    "start": "858660",
    "end": "864779"
  },
  {
    "text": "model is connected to each other and NX even has a tool to draw this",
    "start": "864779",
    "end": "871079"
  },
  {
    "text": "graph for you as a result shared services become less",
    "start": "871079",
    "end": "877860"
  },
  {
    "text": "of a black box and it becomes easier to integrate and contribute to these services",
    "start": "877860",
    "end": "884660"
  },
  {
    "text": "ah gotcha right I just said poly repos are more inclined",
    "start": "886199",
    "end": "893100"
  },
  {
    "text": "to have less coupling and monorepose encourage more coupling",
    "start": "893100",
    "end": "898940"
  },
  {
    "text": "monolith goes go away we gotta talk about boundaries",
    "start": "900540",
    "end": "906380"
  },
  {
    "text": "so yes monorepose make it easier to reuse code and inevitably invite",
    "start": "907260",
    "end": "913019"
  },
  {
    "text": "stronger coupling therefore to achieve the kind of collaboration that's sustainable in the",
    "start": "913019",
    "end": "919260"
  },
  {
    "text": "long run it's vital to have well-defined boundaries clear ownership and delegation of responsibilities",
    "start": "919260",
    "end": "927560"
  },
  {
    "text": "so let's talk about boundaries our monorepo management tool again helps",
    "start": "928440",
    "end": "934740"
  },
  {
    "text": "us here so with NX each Library works like an API",
    "start": "934740",
    "end": "940620"
  },
  {
    "text": "it's got a public-facing interface which defines how users are allowed to interact with the library",
    "start": "940620",
    "end": "946980"
  },
  {
    "text": "then importing and using Code that is not made available through the public interface will be prevented by a grumpy",
    "start": "946980",
    "end": "955019"
  },
  {
    "text": "idd IDE and failed linting",
    "start": "955019",
    "end": "959600"
  },
  {
    "text": "and these same mechanisms will also prevent users from adding circular dependencies for instance",
    "start": "960779",
    "end": "969000"
  },
  {
    "text": "and with the next you can even add tags to libraries um to prevent people from using them at",
    "start": "969000",
    "end": "975180"
  },
  {
    "text": "all so if you add a tag to your library then only other projects with this tag",
    "start": "975180",
    "end": "980519"
  },
  {
    "text": "are allowed to use Library",
    "start": "980519",
    "end": "983720"
  },
  {
    "text": "yep so that's boundaries but clear ownership is also really",
    "start": "986519",
    "end": "992220"
  },
  {
    "text": "important so clear ownership is easily achieved when teams are running their own repositories",
    "start": "992220",
    "end": "998279"
  },
  {
    "text": "but in a mono repo the lines can appear more blurred but I believe it's both important and",
    "start": "998279",
    "end": "1005300"
  },
  {
    "text": "possible to keep clear ownership and responsibility for various services in a motor repo",
    "start": "1005300",
    "end": "1011079"
  },
  {
    "text": "and it's simple really if you build it you own it",
    "start": "1011079",
    "end": "1016100"
  },
  {
    "text": "and if you break it you fix it to achieve this in our mono repo we use",
    "start": "1016100",
    "end": "1021860"
  },
  {
    "text": "Branch policies applied to individual subfolders of the Repository",
    "start": "1021860",
    "end": "1027339"
  },
  {
    "text": "so these policies will ensure that all changes made must be approved by the",
    "start": "1027799",
    "end": "1033620"
  },
  {
    "text": "responsible team this way teams have full control of changes that happen to their code",
    "start": "1033620",
    "end": "1040418"
  },
  {
    "text": "I believe this encourages loose coupling and making good abstractions because teams are going to have to pay the price",
    "start": "1040419",
    "end": "1047240"
  },
  {
    "text": "of coordinating changes with others as soon as their change also requires changes across other projects",
    "start": "1047240",
    "end": "1055299"
  },
  {
    "text": "next monorepo benefits better internal dependency management",
    "start": "1058039",
    "end": "1064000"
  },
  {
    "text": "so a major benefits of using a monorepo is that it really simplifies the",
    "start": "1066799",
    "end": "1072320"
  },
  {
    "text": "management of internal dependencies so when I say internal dependencies I",
    "start": "1072320",
    "end": "1077600"
  },
  {
    "text": "mean the libraries that we make ourselves so not the external npm packages we download into our",
    "start": "1077600",
    "end": "1084500"
  },
  {
    "text": "applications there's our separated from our application code but",
    "start": "1084500",
    "end": "1090440"
  },
  {
    "text": "the apps depend on them to rip so for example your authentication libraries and the",
    "start": "1090440",
    "end": "1095900"
  },
  {
    "text": "components of your design system and having all these in the morning repo",
    "start": "1095900",
    "end": "1102799"
  },
  {
    "text": "means that we have a single source of Truth there's only one true version of our",
    "start": "1102799",
    "end": "1108679"
  },
  {
    "text": "internal dependencies and that is the one running in the main branch",
    "start": "1108679",
    "end": "1114039"
  },
  {
    "text": "as a result you don't have to deal with juggling versions",
    "start": "1115220",
    "end": "1121340"
  },
  {
    "text": "and ending up in the dreaded state of dependency hell so you know when you depend on a package",
    "start": "1121340",
    "end": "1129080"
  },
  {
    "text": "that depends on a specific version of another package but then like another package you use depends on the version",
    "start": "1129080",
    "end": "1135620"
  },
  {
    "text": "that's incompatible with that other package that the other package needed and then your like console goes well I",
    "start": "1135620",
    "end": "1143539"
  },
  {
    "text": "can't resolve your dependencies and I'm not going to let you build your app blah blah etc etc dependency Health yeah",
    "start": "1143539",
    "end": "1151160"
  },
  {
    "text": "if all your internal dependencies are in the same repo then at any point in time there's only going to be one version of",
    "start": "1151160",
    "end": "1158539"
  },
  {
    "text": "each dependencies and these will be perfectly compatible",
    "start": "1158539",
    "end": "1164660"
  },
  {
    "text": "yay no dependency hell so the next benefit of monorepose",
    "start": "1164660",
    "end": "1172880"
  },
  {
    "text": "better internal external dependency management um so there's a question mark here",
    "start": "1172880",
    "end": "1179059"
  },
  {
    "text": "because while there are many benefits to external dependency Management in a",
    "start": "1179059",
    "end": "1184160"
  },
  {
    "text": "motor repo this is probably the most challenging thing we deal with",
    "start": "1184160",
    "end": "1189760"
  },
  {
    "text": "so by external dependencies I'm talking about those dependencies that are not",
    "start": "1190100",
    "end": "1195320"
  },
  {
    "text": "made by us in our case the mpm packages we install in our Repository",
    "start": "1195320",
    "end": "1200419"
  },
  {
    "text": "for example react or material UI our monorepo has a single package Json",
    "start": "1200419",
    "end": "1208400"
  },
  {
    "text": "file to manage external dependencies and that means that all projects in the",
    "start": "1208400",
    "end": "1213500"
  },
  {
    "text": "monorepo have the same version of each external dependency",
    "start": "1213500",
    "end": "1218799"
  },
  {
    "text": "oh man this guy just came back again so with external dependencies we don't",
    "start": "1221660",
    "end": "1228679"
  },
  {
    "text": "have the source code in our monore repo which makes sense because we're not maintaining these patchy packages",
    "start": "1228679",
    "end": "1235820"
  },
  {
    "text": "but it does mean that for these dependencies we need to manage versions",
    "start": "1235820",
    "end": "1240980"
  },
  {
    "text": "and managing and updating external dependencies can be a real chore I mean",
    "start": "1240980",
    "end": "1246860"
  },
  {
    "text": "it's something you just have to do right and the effects aren't even visible and working on it will prevent you from",
    "start": "1246860",
    "end": "1253640"
  },
  {
    "text": "making features and developing your apps also dependency health",
    "start": "1253640",
    "end": "1259100"
  },
  {
    "text": "not fun so managing external dependencies in a",
    "start": "1259100",
    "end": "1264620"
  },
  {
    "text": "mono repo is not easier in fact it's probably harder because you got more projects that need to work with",
    "start": "1264620",
    "end": "1270679"
  },
  {
    "text": "the updates and well you probably have more dependencies you have to deal with",
    "start": "1270679",
    "end": "1277419"
  },
  {
    "text": "so since major external dependencies upgrades are possibly the largest pain",
    "start": "1278179",
    "end": "1284179"
  },
  {
    "text": "points in working with the monorepo here's a tip from me that's helped us so",
    "start": "1284179",
    "end": "1290299"
  },
  {
    "text": "try to do the upgrade without upgrading makes sense for it",
    "start": "1290299",
    "end": "1297760"
  },
  {
    "text": "quite scenery right um so what do I mean well when working",
    "start": "1298940",
    "end": "1304340"
  },
  {
    "text": "in a monorepo with lots of activity you really want to avoid having one ginormous pull request",
    "start": "1304340",
    "end": "1311200"
  },
  {
    "text": "because with all the necessary changes Because by the time you get it working and all the teams have approved the",
    "start": "1311200",
    "end": "1317780"
  },
  {
    "text": "change um your main branch is going to have moves on and it's going to be impossible",
    "start": "1317780",
    "end": "1322820"
  },
  {
    "text": "to merge these changes so for example when we upgraded from",
    "start": "1322820",
    "end": "1329480"
  },
  {
    "text": "react 17 to react 18. most of the necessary changes for things to work in react 18 also worked in react 17.",
    "start": "1329480",
    "end": "1338000"
  },
  {
    "text": "even though they weren't mandatory here so what we did was",
    "start": "1338000",
    "end": "1344200"
  },
  {
    "text": "we locally upgraded to react 18 and so that all the apps were breaking",
    "start": "1344440",
    "end": "1352000"
  },
  {
    "text": "um and then we put in the work and got one single App working with react to 18.",
    "start": "1352340",
    "end": "1359679"
  },
  {
    "text": "then since these changes were compatible with react 17 we could merge the code changes",
    "start": "1360679",
    "end": "1367760"
  },
  {
    "text": "while um not yet doing the react 18 upgrade",
    "start": "1367760",
    "end": "1375400"
  },
  {
    "text": "so we repeated this until all apps were compatible with react 18.",
    "start": "1375679",
    "end": "1382120"
  },
  {
    "text": "and that way we could make the upgrades in many small steps and on a per app basis",
    "start": "1385100",
    "end": "1390340"
  },
  {
    "text": "so that when the time came to actually make the job jump it wasn't such a big deal",
    "start": "1390340",
    "end": "1396500"
  },
  {
    "text": "uh and of course every upgrade is different and this is not always going to be possible",
    "start": "1396500",
    "end": "1401659"
  },
  {
    "text": "um so you're gonna have to adapt another example of a larger upgrade was",
    "start": "1401659",
    "end": "1406700"
  },
  {
    "text": "react router so same same a little bit different",
    "start": "1406700",
    "end": "1412039"
  },
  {
    "text": "um react router was actually pretty smooth because they provided a compatibility package which could run",
    "start": "1412039",
    "end": "1418640"
  },
  {
    "text": "alongside the old version so with this upgrade you could gradually",
    "start": "1418640",
    "end": "1424460"
  },
  {
    "text": "migrate apps to the compatibility package um",
    "start": "1424460",
    "end": "1429740"
  },
  {
    "text": "and then again when it came time to make the job actual upgrade it was trivial",
    "start": "1429740",
    "end": "1437860"
  },
  {
    "text": "so yeah external dependency measurements in a large repo is harder than in a",
    "start": "1439760",
    "end": "1444919"
  },
  {
    "text": "small repo with less code that's obvious but nonetheless there are several",
    "start": "1444919",
    "end": "1452000"
  },
  {
    "text": "advantages of having to do this um First Advantage is you really quickly",
    "start": "1452000",
    "end": "1459320"
  },
  {
    "text": "and easily get an overview of your external dependencies and this is great when you want to check",
    "start": "1459320",
    "end": "1465559"
  },
  {
    "text": "for if you're following open source policies or when the security people come asking you questions",
    "start": "1465559",
    "end": "1472658"
  },
  {
    "text": "um if you do have a vulnerable package that you discover well then you only need to patch it one",
    "start": "1473480",
    "end": "1479120"
  },
  {
    "text": "place and there's a single pipeline that's going to roll out this patch to all your apps",
    "start": "1479120",
    "end": "1485740"
  },
  {
    "text": "next advantage of this way of working is We're In It Together right so",
    "start": "1486500",
    "end": "1492200"
  },
  {
    "text": "when working in a motor vehicle like ours you're gonna have lots more people interested in the health of your repo",
    "start": "1492200",
    "end": "1499039"
  },
  {
    "text": "and making sure it stays up to date and during a more significant upgrade",
    "start": "1499039",
    "end": "1504620"
  },
  {
    "text": "you're going to have more projects and more people in a similar situation most likely with similar issues so",
    "start": "1504620",
    "end": "1512740"
  },
  {
    "text": "instead of everyone struggling alone in their own lonely repositories we can",
    "start": "1512740",
    "end": "1518179"
  },
  {
    "text": "face these challenges together and I find it easier to give and receive",
    "start": "1518179",
    "end": "1524179"
  },
  {
    "text": "help when people understand your context and when you have an abundance of examples and you can quickly reproduce",
    "start": "1524179",
    "end": "1531320"
  },
  {
    "text": "issues",
    "start": "1531320",
    "end": "1533799"
  },
  {
    "text": "so next benefits of this method of external dependency management is",
    "start": "1537320",
    "end": "1543260"
  },
  {
    "text": "when you're working on a long large important and heavily used repository",
    "start": "1543260",
    "end": "1548299"
  },
  {
    "text": "then automating your dependency management as much as possible is going to give you",
    "start": "1548299",
    "end": "1553760"
  },
  {
    "text": "much greater gains than if you did it in a smaller repo that only your team cares about",
    "start": "1553760",
    "end": "1559400"
  },
  {
    "text": "and automating stuff is fun so for example um we've made a script that uses nx's",
    "start": "1559400",
    "end": "1566419"
  },
  {
    "text": "dependency graph to list unused dependencies so we can delete them and by applying automation we can make",
    "start": "1566419",
    "end": "1574400"
  },
  {
    "text": "sure that upgrades have been more frequently meaning that we take smaller steps at a time",
    "start": "1574400",
    "end": "1580520"
  },
  {
    "text": "and upgrades become less of a big deal",
    "start": "1580520",
    "end": "1585799"
  },
  {
    "text": "and finally despite individual upgrades being more work in a mono repo than with",
    "start": "1585799",
    "end": "1591679"
  },
  {
    "text": "the polar repo I do believe that the cumulative time that would have been spent",
    "start": "1591679",
    "end": "1597020"
  },
  {
    "text": "and the number of people having to be involved is probably less in a motor repo than with a poly repo strategy",
    "start": "1597020",
    "end": "1606159"
  },
  {
    "text": "so next benefits another nice effect of having all your code in one place is",
    "start": "1607340",
    "end": "1613400"
  },
  {
    "text": "that making changes and Bug fixes to libraries and getting them rolled out to all your apps becomes really easy",
    "start": "1613400",
    "end": "1621278"
  },
  {
    "text": "so for example say we want to do something small like total company Rebrand",
    "start": "1621940",
    "end": "1629000"
  },
  {
    "text": "now I found this old logo which I quite like how will we go about changing this logo",
    "start": "1629000",
    "end": "1636940"
  },
  {
    "text": "Operation new logo so first how would this look in a poly",
    "start": "1637520",
    "end": "1642919"
  },
  {
    "text": "repo strategy well it's not too complicated right you're gonna go find your logo library",
    "start": "1642919",
    "end": "1650120"
  },
  {
    "text": "in its logo repository and make the necessary code changes I don't know change the SVG file or something like",
    "start": "1650120",
    "end": "1656840"
  },
  {
    "text": "that um then you're going to want to publish uh your changes however this works so",
    "start": "1656840",
    "end": "1665059"
  },
  {
    "text": "let's say you have CI CDs set up and you merge the changes and your package",
    "start": "1665059",
    "end": "1670400"
  },
  {
    "text": "gets published next you need to broadcast all the teams",
    "start": "1670400",
    "end": "1675440"
  },
  {
    "text": "about this really cool new feature that they need to integrate into their projects so for each project that uses the logo",
    "start": "1675440",
    "end": "1683179"
  },
  {
    "text": "Library whenever the responsible team has the time",
    "start": "1683179",
    "end": "1689299"
  },
  {
    "text": "they have to go and upgrade the library check everything looks so okay and",
    "start": "1689299",
    "end": "1695480"
  },
  {
    "text": "hopefully you know it fits with the other dependencies they have um and they want to then publish uh",
    "start": "1695480",
    "end": "1702919"
  },
  {
    "text": "their app with the upgrade",
    "start": "1702919",
    "end": "1706120"
  },
  {
    "text": "yep and how long this will take in a poly repo strategy is really hard to say for two reasons so",
    "start": "1708380",
    "end": "1716419"
  },
  {
    "text": "firstly there's a for Loop here of potentially unknown length and we need to know which repository",
    "start": "1716419",
    "end": "1723140"
  },
  {
    "text": "needs to apply the changes and which team is responsible",
    "start": "1723140",
    "end": "1728299"
  },
  {
    "text": "also this whole process is asynchronous so Tim's needs to prioritize making the change and we'll do it when they get the",
    "start": "1728299",
    "end": "1735140"
  },
  {
    "text": "time oh and plot twists what if team X like a",
    "start": "1735140",
    "end": "1744559"
  },
  {
    "text": "week later discovers a bug or breaking change in the upgraded logo Library",
    "start": "1744559",
    "end": "1750320"
  },
  {
    "text": "well we got to start the whole process over again",
    "start": "1750320",
    "end": "1755140"
  },
  {
    "text": "in comparison how would this look in a monorepo well it's easy so Step One is the same",
    "start": "1758179",
    "end": "1766460"
  },
  {
    "text": "except we don't have to go looking for the code and some other Repository and we can immediately see the impact of",
    "start": "1766460",
    "end": "1773179"
  },
  {
    "text": "the change on all dependent projects",
    "start": "1773179",
    "end": "1776980"
  },
  {
    "text": "then when we're happy with the changes we'll make a pull request and merge them",
    "start": "1778580",
    "end": "1784779"
  },
  {
    "text": "this will trigger our CI CD pipeline that will deploy changes to production for all affected applications which is",
    "start": "1785480",
    "end": "1792260"
  },
  {
    "text": "going to be most of them in this case right and that's it",
    "start": "1792260",
    "end": "1798620"
  },
  {
    "text": "in total we can get the change out to all apps in one to two hours",
    "start": "1798620",
    "end": "1803659"
  },
  {
    "text": "and just give me a sec let me clean up here",
    "start": "1803659",
    "end": "1808960"
  },
  {
    "text": "right that's better so",
    "start": "1809179",
    "end": "1814778"
  },
  {
    "text": "the point of this example is to illustrate that money repos make it much easier to make changes to your internal",
    "start": "1815600",
    "end": "1822620"
  },
  {
    "text": "dependencies and why is that well firstly there's a lot fewer steps",
    "start": "1822620",
    "end": "1831220"
  },
  {
    "text": "also when making changes in a mono repo you can immediately see the effects that",
    "start": "1833860",
    "end": "1839779"
  },
  {
    "text": "your change will have on all its dependent projects so tests in your own and other projects",
    "start": "1839779",
    "end": "1846140"
  },
  {
    "text": "will hopefully uncover if you've made some breaking changes and you're able to spin up all these",
    "start": "1846140",
    "end": "1852799"
  },
  {
    "text": "applications and see how the change will look",
    "start": "1852799",
    "end": "1856600"
  },
  {
    "text": "third Advantage is it's much faster so changes get applied to all affected projects immediately no for Loop no",
    "start": "1858620",
    "end": "1865700"
  },
  {
    "text": "async business which brings me to the next advantage of",
    "start": "1865700",
    "end": "1872059"
  },
  {
    "text": "the monorepo strategy so the team responsible for the logo Library didn't",
    "start": "1872059",
    "end": "1877100"
  },
  {
    "text": "need to communicate or coordinate with any other team to get their changes applied",
    "start": "1877100",
    "end": "1882440"
  },
  {
    "text": "team autonomy for the win right yeah",
    "start": "1882440",
    "end": "1888140"
  },
  {
    "text": "so on the other hand the nice thing about a poly repo strategy is that teams have",
    "start": "1888140",
    "end": "1894320"
  },
  {
    "text": "full control of how and when they apply the change and you could argue that for something",
    "start": "1894320",
    "end": "1901340"
  },
  {
    "text": "as impactful as a logo change maybe you want that so",
    "start": "1901340",
    "end": "1908120"
  },
  {
    "text": "okay but you have options in a mono repo here so one thing you could do is versioning and",
    "start": "1908120",
    "end": "1916340"
  },
  {
    "text": "I know it sounds hypocritical given my whole points about Mono repos being single version",
    "start": "1916340",
    "end": "1922340"
  },
  {
    "text": "um but it's an option so in this scenario you'd make a new library",
    "start": "1922340",
    "end": "1927440"
  },
  {
    "text": "call it I don't know new logo OR Logo 2023 and teams can start using this whenever",
    "start": "1927440",
    "end": "1934880"
  },
  {
    "text": "they're ready and since all projects are in your model repo you still have full control of",
    "start": "1934880",
    "end": "1941960"
  },
  {
    "text": "which projects are still using the old one and you can start chasing down people when they haven't migrated yet",
    "start": "1941960",
    "end": "1948140"
  },
  {
    "text": "finally um when everyone's over you can delete the old logo Library",
    "start": "1948140",
    "end": "1954398"
  },
  {
    "text": "another option is to use a feature toggle so lots of ways this can be implemented",
    "start": "1955880",
    "end": "1962179"
  },
  {
    "text": "but one way is that you'll implement the logo library in such a way that the old",
    "start": "1962179",
    "end": "1969020"
  },
  {
    "text": "logo sorry the new logo just shows up in your development and local environments",
    "start": "1969020",
    "end": "1975440"
  },
  {
    "text": "but then the old logo is still showing in production this way teams can opt in to have the",
    "start": "1975440",
    "end": "1981500"
  },
  {
    "text": "new logo shown in production when they're ready",
    "start": "1981500",
    "end": "1986799"
  },
  {
    "text": "um and the final option is you could communicate so simply apply the changes and ask",
    "start": "1987860",
    "end": "1995240"
  },
  {
    "text": "teams to spin up the app and verify that it's okay to merge and if your monorepo small this can also",
    "start": "1995240",
    "end": "2002200"
  },
  {
    "text": "work so logo library and updating logo it's a",
    "start": "2002200",
    "end": "2009700"
  },
  {
    "text": "silly example but now imagine that instead of updating a logo",
    "start": "2009700",
    "end": "2015159"
  },
  {
    "text": "the change you want to make is to patch a known vulnerability in some external dependency",
    "start": "2015159",
    "end": "2020440"
  },
  {
    "text": "so in this scenario being able to move really fast and not involving too many people is a huge advantage",
    "start": "2020440",
    "end": "2028860"
  },
  {
    "text": "another change you might want to make is to move your apps to a new hosting platform",
    "start": "2030399",
    "end": "2036840"
  },
  {
    "text": "so question has anyone here been part of a mess migration to the cloud",
    "start": "2036840",
    "end": "2042519"
  },
  {
    "text": "oh just me a couple okay well we have in fact one",
    "start": "2042519",
    "end": "2047980"
  },
  {
    "text": "of the first things I did in my professional career was to migrate about 30 back-end services",
    "start": "2047980",
    "end": "2054480"
  },
  {
    "text": "manly.net apis from running on-prem to being hosted in the cloud and this meant going into 30 different",
    "start": "2054480",
    "end": "2061480"
  },
  {
    "text": "repositories with 30 slightly different pipelines and versions of dependencies and making the",
    "start": "2061480",
    "end": "2069220"
  },
  {
    "text": "necessary upgrades and changes it took us months and it wasn't just my team doing this",
    "start": "2069220",
    "end": "2076179"
  },
  {
    "text": "so in our mono repo we've got one single Pipeline and a standardized way of",
    "start": "2076179",
    "end": "2081878"
  },
  {
    "text": "deploying and building our apps and as a result we can experiment with different hosting platforms",
    "start": "2081879",
    "end": "2088720"
  },
  {
    "text": "and if we get it working for one chances are high it's gonna work for all of them",
    "start": "2088720",
    "end": "2095320"
  },
  {
    "text": "with minimal to no involvement from other teams",
    "start": "2095320",
    "end": "2100680"
  },
  {
    "text": "mono repo benefits number seven old code gets maintained",
    "start": "2103300",
    "end": "2109500"
  },
  {
    "text": "so just by being in a mono repo old code is gonna get maintained all the projects that aren't actively",
    "start": "2110079",
    "end": "2116980"
  },
  {
    "text": "being worked on will automatically and continuously get updates and changes applied to them so for example your logo",
    "start": "2116980",
    "end": "2123700"
  },
  {
    "text": "updates critical bug fixes and external dependency upgrades",
    "start": "2123700",
    "end": "2129780"
  },
  {
    "text": "um it doesn't come for free though so especially when it comes to updating external dependencies with breaking",
    "start": "2130780",
    "end": "2137380"
  },
  {
    "text": "changes project owners they're gonna need to confront their old code make adjustments",
    "start": "2137380",
    "end": "2143260"
  },
  {
    "text": "and verify changes",
    "start": "2143260",
    "end": "2146579"
  },
  {
    "text": "and this Forces teams to continuously consider if the project is important",
    "start": "2152500",
    "end": "2158079"
  },
  {
    "text": "enough to keep around and if the answer is no well then code",
    "start": "2158079",
    "end": "2163119"
  },
  {
    "text": "will get removed from the main branch and forever live on in git memory and we call this process graveyarding",
    "start": "2163119",
    "end": "2171099"
  },
  {
    "text": "so the continuous maintenance and deletion of unnecessary code I find is really useful for preventing",
    "start": "2171099",
    "end": "2178240"
  },
  {
    "text": "the buildup of technical debt",
    "start": "2178240",
    "end": "2181980"
  },
  {
    "text": "and then another monorepo benefits is standardization",
    "start": "2183339",
    "end": "2189599"
  },
  {
    "text": "so standardization helps to reduce cognitive load and make Services scale better",
    "start": "2191740",
    "end": "2197200"
  },
  {
    "text": "so rcto hey Maurice he's back here uh he recently showed us",
    "start": "2197200",
    "end": "2204700"
  },
  {
    "text": "this analogy relating to standardization and scaling so he said pets don't scale because when",
    "start": "2204700",
    "end": "2211000"
  },
  {
    "text": "you need to treat every case or service individually it's going to consume so much more time and effort if you",
    "start": "2211000",
    "end": "2217000"
  },
  {
    "text": "standardize and treat your services more like cattle",
    "start": "2217000",
    "end": "2222240"
  },
  {
    "text": "um Foursquare and humble and Kim write in their book accelerates that there's a place for standardization",
    "start": "2222520",
    "end": "2228940"
  },
  {
    "text": "particularly around architecture and configuration of infrastructure",
    "start": "2228940",
    "end": "2235079"
  },
  {
    "text": "so this is what we tried to do um we standardize our deployment",
    "start": "2235859",
    "end": "2241780"
  },
  {
    "text": "pipeline which I've already talked about um which means again teams can practice",
    "start": "2241780",
    "end": "2248920"
  },
  {
    "text": "continuous delivery out of the box don't have to configure their own yaml Pipelines",
    "start": "2248920",
    "end": "2254020"
  },
  {
    "text": "and despite the shared pipeline um teams can deploy their things relatively",
    "start": "2254020",
    "end": "2260500"
  },
  {
    "text": "independently or at least independent of unrelated services with the help of NX",
    "start": "2260500",
    "end": "2267359"
  },
  {
    "text": "um so here's another quote of a quote that I also read in accelerate",
    "start": "2268480",
    "end": "2274720"
  },
  {
    "text": "um debugging problems with someone else's code gets a lot harder and is basically impossible unless there is a",
    "start": "2274720",
    "end": "2281859"
  },
  {
    "text": "universal standard way to run every service in a debuggable sandbox",
    "start": "2281859",
    "end": "2288400"
  },
  {
    "text": "so we have this in our motor repo we have a debuggable sound box and it's called localhost",
    "start": "2288400",
    "end": "2295060"
  },
  {
    "text": "so projects in our model repo they all have the same bundler linter and test Runner which makes it really easy for",
    "start": "2295060",
    "end": "2301839"
  },
  {
    "text": "anyone to spin up any project and debug issues through multiple services at the same time",
    "start": "2301839",
    "end": "2309780"
  },
  {
    "text": "yeah so those were the benefits of using a mono repo let's talk about the bad stuff",
    "start": "2311020",
    "end": "2319019"
  },
  {
    "text": "like what can go wrong in a mono repo what could possibly go wrong if you put",
    "start": "2319780",
    "end": "2325420"
  },
  {
    "text": "all your eggs in one basket truth is lots of stuff can go wrong",
    "start": "2325420",
    "end": "2333839"
  },
  {
    "text": "um so one thing is broken main branch a broken main branch is when some bugs",
    "start": "2334060",
    "end": "2341740"
  },
  {
    "text": "some place has been allowed to get merged uh into the main branch and this can",
    "start": "2341740",
    "end": "2347260"
  },
  {
    "text": "cause apps to break or it can block continuous delivery and block people from getting their changes out",
    "start": "2347260",
    "end": "2354700"
  },
  {
    "text": "um it's always a risk and it's bad when it happens in the small repo but worse",
    "start": "2354700",
    "end": "2359920"
  },
  {
    "text": "when it happens in a mono repo because well you can take down all your stuff",
    "start": "2359920",
    "end": "2365020"
  },
  {
    "text": "that sucks right so story time not too long ago I was working on our",
    "start": "2365020",
    "end": "2372760"
  },
  {
    "text": "monorepo Pipeline and migrating it from Windows build agents to running on Ubuntu the legends",
    "start": "2372760",
    "end": "2380560"
  },
  {
    "text": "um I'd gotten it all working and even tested deploying one of the less important apps to the dev environments",
    "start": "2380560",
    "end": "2387099"
  },
  {
    "text": "and saw that everything rendered okay so all seemed to find and I was really",
    "start": "2387099",
    "end": "2392560"
  },
  {
    "text": "excited because everything seemed much quicker on the Ubuntu agents",
    "start": "2392560",
    "end": "2398820"
  },
  {
    "text": "so after review from a teammate with a comment I trust you on this one I mean how is he supposed to verify it",
    "start": "2399339",
    "end": "2406480"
  },
  {
    "text": "anyways uh we merge the changes and apps got deployed",
    "start": "2406480",
    "end": "2413040"
  },
  {
    "text": "so 20 minutes later I hear from another teammates that our apps or one of our",
    "start": "2413619",
    "end": "2420040"
  },
  {
    "text": "apps is not working and we'll scramble and discover that none of the monorepo apps are getting",
    "start": "2420040",
    "end": "2426339"
  },
  {
    "text": "any of their environment variables panic button time",
    "start": "2426339",
    "end": "2433200"
  },
  {
    "text": "um so we need to roll back and how did we do this",
    "start": "2433960",
    "end": "2439780"
  },
  {
    "text": "well first we have to go and look at our pipeline runs and find a pipeline run",
    "start": "2439780",
    "end": "2445240"
  },
  {
    "text": "that rolled out all the applications so that we could rerun this and",
    "start": "2445240",
    "end": "2450579"
  },
  {
    "text": "come back to a working state next we had to monitor our Pipeline and",
    "start": "2450579",
    "end": "2457420"
  },
  {
    "text": "cancel all new pipeline runs to prevent rolling out the bug again",
    "start": "2457420",
    "end": "2463740"
  },
  {
    "text": "simultaneously we wanted to revert the bad commit that caused the bug",
    "start": "2464040",
    "end": "2470160"
  },
  {
    "text": "and when this was done we could turn the pipelag back on and apologize very",
    "start": "2470460",
    "end": "2475780"
  },
  {
    "text": "sincerely to everybody and also learn from what happened",
    "start": "2475780",
    "end": "2482460"
  },
  {
    "text": "so the consequence of this was 50 minutes of a broken main where people",
    "start": "2483160",
    "end": "2488740"
  },
  {
    "text": "can push changes to their apps um and a bunch of broken apps so at this",
    "start": "2488740",
    "end": "2495339"
  },
  {
    "text": "point we're pretty happy that we only have a couple of important apps in our mod repo",
    "start": "2495339",
    "end": "2501180"
  },
  {
    "text": "um but also as a result we applied some measures so after this happened we added",
    "start": "2501460",
    "end": "2507760"
  },
  {
    "text": "end-to-end tests to ensure that we do in fact get environment variables",
    "start": "2507760",
    "end": "2513099"
  },
  {
    "text": "and we made some measures to make it easier to roll back all apps so for",
    "start": "2513099",
    "end": "2518380"
  },
  {
    "text": "example we want to have nightly builds so we have checkpoints where we can",
    "start": "2518380",
    "end": "2523480"
  },
  {
    "text": "easily find a pipeline to roll back to and a bunch more stuff",
    "start": "2523480",
    "end": "2530200"
  },
  {
    "text": "but the point is if you're gonna put all your eggs in one basket it's really worth investing in building",
    "start": "2530200",
    "end": "2536680"
  },
  {
    "text": "a good solid and rugged baskets and to have a repair kit ready for if it does",
    "start": "2536680",
    "end": "2542140"
  },
  {
    "text": "break if you get my analogy so another mono repo risk is slow builds",
    "start": "2542140",
    "end": "2551820"
  },
  {
    "text": "and this can happen but luckily when working locally with an",
    "start": "2551820",
    "end": "2558760"
  },
  {
    "text": "ex or with any with modern repo build tools like an X you will only ever be",
    "start": "2558760",
    "end": "2564820"
  },
  {
    "text": "building projects needed to run your app and when it comes to the pipeline NX",
    "start": "2564820",
    "end": "2570460"
  },
  {
    "text": "also helps us with making sure that only affected projects get built and tested",
    "start": "2570460",
    "end": "2577180"
  },
  {
    "text": "moreover they allow you to distribute these task running to multiple machines and provide remote caching so",
    "start": "2577180",
    "end": "2585460"
  },
  {
    "text": "I think slow builds don't need to be an issue another objection I've heard using",
    "start": "2585460",
    "end": "2592420"
  },
  {
    "text": "monorepose is that when repositories get too large get get operations like",
    "start": "2592420",
    "end": "2598240"
  },
  {
    "text": "cloning and blame can get really slow so Google have even made their own version control system to deal with",
    "start": "2598240",
    "end": "2604300"
  },
  {
    "text": "their enormous Repository honestly at this point I don't have a",
    "start": "2604300",
    "end": "2610720"
  },
  {
    "text": "really good answer to this I'm not sure at exactly what points a repository becomes too big forget to handle",
    "start": "2610720",
    "end": "2618640"
  },
  {
    "text": "um however at our current scale it really hasn't been an issue and from my",
    "start": "2618640",
    "end": "2623980"
  },
  {
    "text": "limited research there are many things we can do to prevent this and I believe we have quite some time to",
    "start": "2623980",
    "end": "2630099"
  },
  {
    "text": "figure it out um next risk",
    "start": "2630099",
    "end": "2635859"
  },
  {
    "text": "bugs can roll out to unknowing app owners so remember with our current monorepo",
    "start": "2635859",
    "end": "2642520"
  },
  {
    "text": "setup if changes are made to core Library this is going to trigger builds and releases of all affected projects",
    "start": "2642520",
    "end": "2648880"
  },
  {
    "text": "and if the change doesn't alter the public interface then this can happen without affected projects being evolved",
    "start": "2648880",
    "end": "2656560"
  },
  {
    "text": "um so yes this means bugs can roll out to apps but the upside is teams can work",
    "start": "2656560",
    "end": "2662440"
  },
  {
    "text": "autonomously and you also get the bug fixes for free",
    "start": "2662440",
    "end": "2667800"
  },
  {
    "text": "and you can reduce the risk of other teams introducing bugs to your app by",
    "start": "2667800",
    "end": "2673060"
  },
  {
    "text": "writing good tests and testing these assumptions you have to other services",
    "start": "2673060",
    "end": "2679500"
  },
  {
    "text": "next monorepo risk is less Freedom so when using a mono repo there will likely",
    "start": "2681040",
    "end": "2688420"
  },
  {
    "text": "be less freedom so using mono repo will force teams to",
    "start": "2688420",
    "end": "2693760"
  },
  {
    "text": "use certain tools for example when using our mono repo you have to use NX",
    "start": "2693760",
    "end": "2698819"
  },
  {
    "text": "typescript and react also you can't deploy your services",
    "start": "2698819",
    "end": "2704940"
  },
  {
    "text": "completely independently so if you change your service all its",
    "start": "2704940",
    "end": "2710140"
  },
  {
    "text": "independent all its dependent services are going to be built tested and deployed",
    "start": "2710140",
    "end": "2715240"
  },
  {
    "text": "uh and this might be annoying if you just want to change a small thing in your app and don't want to be bothered",
    "start": "2715240",
    "end": "2721480"
  },
  {
    "text": "by other people's stupid code um but I would argue that it's a small price to pay because as I mentioned",
    "start": "2721480",
    "end": "2728619"
  },
  {
    "text": "earlier this will prevent bugs from getting deployed to production",
    "start": "2728619",
    "end": "2733500"
  },
  {
    "text": "um also as a code owner in the motor repo you have to update on someone else's",
    "start": "2734680",
    "end": "2740380"
  },
  {
    "text": "schedule so for a motor vehicle strategy to be successful updates they have to be frequent and",
    "start": "2740380",
    "end": "2747099"
  },
  {
    "text": "small which means app owners can't delay upgrades to more suitable time",
    "start": "2747099",
    "end": "2752800"
  },
  {
    "text": "the advantage though is that you do get a lot of supports and some minor",
    "start": "2752800",
    "end": "2757900"
  },
  {
    "text": "upgrades for free um yeah but in the end of the day less",
    "start": "2757900",
    "end": "2763359"
  },
  {
    "text": "freedom is a trade-off for standardization and scale",
    "start": "2763359",
    "end": "2769799"
  },
  {
    "text": "and final monorepo risk is messy unmaintainable code",
    "start": "2771040",
    "end": "2776980"
  },
  {
    "text": "so the monolith ghost is always lurking when you put code in one place and make",
    "start": "2776980",
    "end": "2782859"
  },
  {
    "text": "it really easy to share there's always a risk of things getting complicated",
    "start": "2782859",
    "end": "2788140"
  },
  {
    "text": "so there's a trade-off between not repeating yourself and increased coupling that",
    "start": "2788140",
    "end": "2794560"
  },
  {
    "text": "um you're going to have to monitor and it's going to need constant care to prevent this from happening",
    "start": "2794560",
    "end": "2802260"
  },
  {
    "text": "so let's conclude how has mono repos made us faster better and safer",
    "start": "2803680",
    "end": "2812279"
  },
  {
    "text": "using a monorepo has made it easier to create new apps and shared libraries because of custom generators and that",
    "start": "2812380",
    "end": "2820180"
  },
  {
    "text": "create the necessary boilerplate code for us and because of a shared pipeline for",
    "start": "2820180",
    "end": "2827140"
  },
  {
    "text": "continuous delivery already being set up and ready to use it's also given us a shortened feedback",
    "start": "2827140",
    "end": "2834220"
  },
  {
    "text": "loop for changes so you can easily and quickly get changes deployed to multiple apps",
    "start": "2834220",
    "end": "2841060"
  },
  {
    "text": "remember no for Loop and no async business",
    "start": "2841060",
    "end": "2845400"
  },
  {
    "text": "also mono repo saves its time by eliminating the need to manage versions of our internal dependencies",
    "start": "2846099",
    "end": "2853980"
  },
  {
    "text": "how they made us better well using a mono repo means continuous",
    "start": "2855220",
    "end": "2861579"
  },
  {
    "text": "deployments sorry continuous improvements are being made so in the entire portfolio",
    "start": "2861579",
    "end": "2867579"
  },
  {
    "text": "even the projects that aren't actively being developed",
    "start": "2867579",
    "end": "2872640"
  },
  {
    "text": "using a monorepo improves collaboration by improving visibility of shared services and increasing the ease of",
    "start": "2873760",
    "end": "2880900"
  },
  {
    "text": "integrating with them which means that we can make more shared",
    "start": "2880900",
    "end": "2886359"
  },
  {
    "text": "services and can invest in making high quality services instead of having teams",
    "start": "2886359",
    "end": "2891819"
  },
  {
    "text": "Implement their own versions with vary degrees of quality",
    "start": "2891819",
    "end": "2897420"
  },
  {
    "text": "how has monorepo improved security well by using a monorepo we ensure that",
    "start": "2897940",
    "end": "2904540"
  },
  {
    "text": "all code gets maintained and patched and this prevents services from being forgotten and falling behind on",
    "start": "2904540",
    "end": "2910660"
  },
  {
    "text": "important security updates and patches in addition our mono repo has defined",
    "start": "2910660",
    "end": "2916839"
  },
  {
    "text": "decommissioning process which ensures that unused or unimportant apps",
    "start": "2916839",
    "end": "2921880"
  },
  {
    "text": "and projects will get deleted moreover our monorepo enforces good",
    "start": "2921880",
    "end": "2928480"
  },
  {
    "text": "continuous delivery practices out of the books and this ensures that code must pass automated tests before being",
    "start": "2928480",
    "end": "2935079"
  },
  {
    "text": "allowed into production and gives a standardized way to quickly roll back apps if they should be necessary",
    "start": "2935079",
    "end": "2943560"
  },
  {
    "text": "furthermore by having a shared set of dependencies you really quickly get and easily get an",
    "start": "2943720",
    "end": "2951160"
  },
  {
    "text": "overview in other words we've got all the bad practices in one place",
    "start": "2951160",
    "end": "2957280"
  },
  {
    "text": "which means this really simplifies any review process and makes it easier to enforce policies",
    "start": "2957280",
    "end": "2963880"
  },
  {
    "text": "for example relating to the use of external dependencies",
    "start": "2963880",
    "end": "2969180"
  },
  {
    "text": "so that if a vulnerability is discovered at some point this can quickly be",
    "start": "2969339",
    "end": "2974800"
  },
  {
    "text": "patched in multiple projects with a single commit",
    "start": "2974800",
    "end": "2980279"
  },
  {
    "text": "so should you use a monorepo",
    "start": "2980800",
    "end": "2986099"
  },
  {
    "text": "all right that's cool to hear we have a yes over here so for us in our situation and at our",
    "start": "2988720",
    "end": "2996040"
  },
  {
    "text": "scale we've had lots of benefits of monoreepos of our money repo strategy but our mono",
    "start": "2996040",
    "end": "3003240"
  },
  {
    "text": "repo is Tiny and has a relatively small number of contributors",
    "start": "3003240",
    "end": "3008579"
  },
  {
    "text": "and as I hope I've managed to communicate there are some nuts and significant challenges that you have to",
    "start": "3008579",
    "end": "3015240"
  },
  {
    "text": "deal with if you choose this approach and these just get bigger as your monorepo scales",
    "start": "3015240",
    "end": "3021720"
  },
  {
    "text": "so it's continuous work and requires a strong collaborative culture to keep it",
    "start": "3021720",
    "end": "3027000"
  },
  {
    "text": "working smoothly smoothly and growing dynamically so I would say monorepo can be good but",
    "start": "3027000",
    "end": "3034920"
  },
  {
    "text": "other strategies are not wrong and in the end of the day it's maybe how you choose to collaborate and how you",
    "start": "3034920",
    "end": "3041579"
  },
  {
    "text": "architect your Solutions that's going to be more important than where you store your code",
    "start": "3041579",
    "end": "3049040"
  },
  {
    "text": "so that's all I had for you today um thanks so much for listening",
    "start": "3050339",
    "end": "3056080"
  },
  {
    "text": "[Applause] [Music] [Applause]",
    "start": "3056080",
    "end": "3067980"
  },
  {
    "text": "oh we've got questions cool yes",
    "start": "3067980",
    "end": "3072660"
  },
  {
    "text": "um I don't think I want to do that on the spot um but is there something in particular",
    "start": "3076800",
    "end": "3083160"
  },
  {
    "text": "you're wondering about",
    "start": "3083160",
    "end": "3085700"
  },
  {
    "text": "yeah so we're actually in azure devops um and we have a dedicated team that",
    "start": "3088800",
    "end": "3097760"
  },
  {
    "text": "maintains these build agents for us um so all I know is there are Ubuntu",
    "start": "3097760",
    "end": "3104040"
  },
  {
    "text": "agents and they work for us",
    "start": "3104040",
    "end": "3107540"
  },
  {
    "text": "um yep it works on Windows and we have developers who work on Windows or on Mac",
    "start": "3109200",
    "end": "3115319"
  },
  {
    "text": "or on Linux so it works but it's",
    "start": "3115319",
    "end": "3120740"
  },
  {
    "text": "seems to me that like Annex at least was made for Windows",
    "start": "3120740",
    "end": "3125819"
  },
  {
    "text": "last and it works a bit better on yeah you're Ubuntu and your Mac OS",
    "start": "3125819",
    "end": "3132380"
  },
  {
    "text": "did that answer your question yeah yes",
    "start": "3132380",
    "end": "3137480"
  },
  {
    "text": "26. yeah",
    "start": "3141440",
    "end": "3145460"
  },
  {
    "text": "yeah sure sure so um my team where there's six of us",
    "start": "3150480",
    "end": "3157880"
  },
  {
    "text": "and we probably own like 80 of the code in the mono repo so",
    "start": "3157880",
    "end": "3165960"
  },
  {
    "text": "we've got most of the core tools [Music] um and we've been like playing in there on",
    "start": "3165960",
    "end": "3172920"
  },
  {
    "text": "our own for a couple years and just recently started getting people from the outside inside",
    "start": "3172920",
    "end": "3179040"
  },
  {
    "text": "um and yeah so we people from outside our team now we have a design system",
    "start": "3179040",
    "end": "3186180"
  },
  {
    "text": "which is a separate group of people and then we have some new apps coming in",
    "start": "3186180",
    "end": "3192300"
  },
  {
    "text": "um yep but it really helps that my team have been in there for a while we've",
    "start": "3192300",
    "end": "3198359"
  },
  {
    "text": "been able to experiment and also we can do the grunt work of the upgrades get all the core Services",
    "start": "3198359",
    "end": "3204599"
  },
  {
    "text": "working before we start bothering other people with updating their things",
    "start": "3204599",
    "end": "3211859"
  },
  {
    "text": "um so that's how it is right now but of course this is not going to scale um we can't do all the things",
    "start": "3211859",
    "end": "3220440"
  },
  {
    "text": "and yeah just maintaining and coordinating this monorepo is yep gonna need more and more work as",
    "start": "3220440",
    "end": "3227220"
  },
  {
    "text": "this thing skills um but that's where we are right now yeah and you maybe saw we do publish",
    "start": "3227220",
    "end": "3234059"
  },
  {
    "text": "some stuff to npm so I mean our company has been around for 60 years and we've got lots of apps",
    "start": "3234059",
    "end": "3241319"
  },
  {
    "text": "uh so yeah not all apps are getting into the monorepo at one time and but we want",
    "start": "3241319",
    "end": "3247619"
  },
  {
    "text": "people to be able to use the design system and these things um so that's kind of",
    "start": "3247619",
    "end": "3254040"
  },
  {
    "text": "a compromise I guess um but it works works okay",
    "start": "3254040",
    "end": "3259859"
  },
  {
    "text": "um the only problem is many times we've ended up breaking things for people outside the monorepo and then",
    "start": "3259859",
    "end": "3266640"
  },
  {
    "text": "well you don't really find out before someone comes and tells you so yes",
    "start": "3266640",
    "end": "3274220"
  },
  {
    "text": "oh to have more of your SEC um",
    "start": "3282380",
    "end": "3288380"
  },
  {
    "text": "yeah um so we haven't chosen to do that currently at our company because like",
    "start": "3289319",
    "end": "3295800"
  },
  {
    "text": "anything you want to do things gradually uh I think but in my private monorepo",
    "start": "3295800",
    "end": "3304200"
  },
  {
    "text": "um everyone's got a private one repo right um well then I have also my C sharp so I",
    "start": "3304200",
    "end": "3313260"
  },
  {
    "text": "make my my front end in reacts and then I have some C sharp",
    "start": "3313260",
    "end": "3319020"
  },
  {
    "text": "function function apps that I put in there as well um and then deploy them to Azure static",
    "start": "3319020",
    "end": "3324660"
  },
  {
    "text": "web app um with kind of the same thing so I get Advantage from this because I can",
    "start": "3324660",
    "end": "3330420"
  },
  {
    "text": "update my back end and my front end in the same commit and don't have to do this whole game with making it backwards compatible and",
    "start": "3330420",
    "end": "3337859"
  },
  {
    "text": "you know back and forth so I don't know would I advise jumping",
    "start": "3337859",
    "end": "3344700"
  },
  {
    "text": "right into that in an established company maybe not",
    "start": "3344700",
    "end": "3350339"
  },
  {
    "text": "but if you're small and starting out sure try it and uh",
    "start": "3350339",
    "end": "3356579"
  },
  {
    "text": "I'm in as they say it's never too late to change your mind",
    "start": "3356579",
    "end": "3364460"
  },
  {
    "text": "um um so we deployed to production every",
    "start": "3367140",
    "end": "3374099"
  },
  {
    "text": "time changes emerge to the main branch so with the last month I guess 151 times",
    "start": "3374099",
    "end": "3384300"
  },
  {
    "text": "uh and then well if you multiply it on all the apps then it's much more",
    "start": "3384300",
    "end": "3389640"
  },
  {
    "text": "so we're continuously deploying to production yeah",
    "start": "3389640",
    "end": "3394640"
  },
  {
    "text": "yeah so uh our build monorepo management tool NX takes care of all of this for us",
    "start": "3405119",
    "end": "3412859"
  },
  {
    "text": "um so we can yeah we can for example write",
    "start": "3412859",
    "end": "3418260"
  },
  {
    "text": "a command that says NX affected graph and it will spin up a graph and",
    "start": "3418260",
    "end": "3424380"
  },
  {
    "text": "oh wait and I will list all the affected projects uh and make sure this all works",
    "start": "3424380",
    "end": "3430380"
  },
  {
    "text": "yeah",
    "start": "3430380",
    "end": "3432680"
  },
  {
    "text": "onboarding new people someone's nodding over here so it's a colleague of mine",
    "start": "3441240",
    "end": "3447300"
  },
  {
    "text": "um yeah that's that is the goal right the whole reason we want to have a mono repo",
    "start": "3447300",
    "end": "3453420"
  },
  {
    "text": "is to make the developer experience easier to make it easier to you know do",
    "start": "3453420",
    "end": "3460020"
  },
  {
    "text": "authentication the Northcutt way to yeah do all these",
    "start": "3460020",
    "end": "3466338"
  },
  {
    "text": "true well there's a lot you could know um but really you don't have to know",
    "start": "3468839",
    "end": "3475319"
  },
  {
    "text": "much about NX for example to get going so we have a short readme I think",
    "start": "3475319",
    "end": "3482220"
  },
  {
    "text": "yeah it's maybe an A4 page of how you set up and",
    "start": "3482220",
    "end": "3487319"
  },
  {
    "text": "get your permissions for things and clone the repo and run your first step so",
    "start": "3487319",
    "end": "3493500"
  },
  {
    "text": "no I don't think it's too difficult to get going yeah yes",
    "start": "3493500",
    "end": "3499039"
  },
  {
    "text": "oh yeah all the time um but this is not a problem because",
    "start": "3505880",
    "end": "3511619"
  },
  {
    "text": "well people are working of different parts of the system right so",
    "start": "3511619",
    "end": "3516960"
  },
  {
    "text": "um yeah people are working their apps their Libs um so you're not",
    "start": "3516960",
    "end": "3523380"
  },
  {
    "text": "except for when you do these big refactorings or big upgrades you're not really treading on each other so",
    "start": "3523380",
    "end": "3530040"
  },
  {
    "text": "it works quite well yep",
    "start": "3530040",
    "end": "3533420"
  },
  {
    "text": "um no we don't do that uh but that's something we have in our backlog to look",
    "start": "3543420",
    "end": "3550619"
  },
  {
    "text": "into or at least we want to make it clear to",
    "start": "3550619",
    "end": "3556559"
  },
  {
    "text": "whoever's making this pull request that their change is affecting all of these projects",
    "start": "3556559",
    "end": "3561720"
  },
  {
    "text": "um so no we don't currently do that but something like that or being able to get",
    "start": "3561720",
    "end": "3567839"
  },
  {
    "text": "notified when someone does this is something we want to look into",
    "start": "3567839",
    "end": "3573078"
  },
  {
    "text": "yes",
    "start": "3574500",
    "end": "3577099"
  },
  {
    "text": "um well actually we're in the luxurious situation that my team has like 80 of",
    "start": "3584819",
    "end": "3592140"
  },
  {
    "text": "all the projects so I mean for us it worked great",
    "start": "3592140",
    "end": "3598799"
  },
  {
    "text": "um but what we we really do try to take other teams into account and we know",
    "start": "3598799",
    "end": "3604500"
  },
  {
    "text": "people have you know their deadlines and things they're working on so we want to make it",
    "start": "3604500",
    "end": "3609900"
  },
  {
    "text": "as easy as possible for them to go in and do the changes by and also giving people enough warning",
    "start": "3609900",
    "end": "3617280"
  },
  {
    "text": "and uh so a few people and so far not so much",
    "start": "3617280",
    "end": "3623040"
  },
  {
    "text": "problems uh yes",
    "start": "3623040",
    "end": "3626660"
  },
  {
    "text": "oh absolutely so you know as soon as you get more than two or three teams working",
    "start": "3633200",
    "end": "3639480"
  },
  {
    "text": "this thing becomes its own platform um which means dedicated people to",
    "start": "3639480",
    "end": "3646260"
  },
  {
    "text": "keep it working and yeah prevent it from getting out of control um",
    "start": "3646260",
    "end": "3651480"
  },
  {
    "text": "so that is the direction we're going in that's more questions",
    "start": "3651480",
    "end": "3658880"
  },
  {
    "text": "yeah yeah so no we don't have a smart way of doing this",
    "start": "3672119",
    "end": "3678180"
  },
  {
    "text": "um well one thing we do we have this graveyarding process um",
    "start": "3678180",
    "end": "3683280"
  },
  {
    "text": "so if one project is being extra difficult",
    "start": "3683280",
    "end": "3689780"
  },
  {
    "text": "um we can leave it behind that's kind of like the only way to go your monorepo goes forward and yeah if you're gonna be",
    "start": "3689880",
    "end": "3697559"
  },
  {
    "text": "in there you got to keep up so if we remove you from the main branch",
    "start": "3697559",
    "end": "3703079"
  },
  {
    "text": "we don't have to delete uh your service immediately which means okay you have time to get",
    "start": "3703079",
    "end": "3709380"
  },
  {
    "text": "back in there and get your upgrade so that's yeah we try to avoid it but that is one",
    "start": "3709380",
    "end": "3716220"
  },
  {
    "text": "one way you could do it okay last question I think is my time's up yeah",
    "start": "3716220",
    "end": "3723920"
  },
  {
    "text": "hold you know in the longer run is a bigger teams and still still using one over",
    "start": "3732960",
    "end": "3741299"
  },
  {
    "text": "um I hope so I mean we're gonna try and and you want to always look ahead and",
    "start": "3741299",
    "end": "3747660"
  },
  {
    "text": "see what rates risks are coming um what can happen when your monorepo skills so",
    "start": "3747660",
    "end": "3753660"
  },
  {
    "text": "I have no idea but we're gonna try our best yeah",
    "start": "3753660",
    "end": "3759140"
  },
  {
    "text": "okay uh totally yeah so all of a sudden there's other people in there and then",
    "start": "3764579",
    "end": "3772380"
  },
  {
    "text": "you get really embarrassed because you're still in react 17 for example uh and it kind of",
    "start": "3772380",
    "end": "3779040"
  },
  {
    "text": "no judgments if you're still on react 17 but uh yeah it kind of gives you a push",
    "start": "3779040",
    "end": "3784380"
  },
  {
    "text": "to like yeah to keep your house in order really it's like having guests you want them to",
    "start": "3784380",
    "end": "3790740"
  },
  {
    "text": "feel welcome yeah okay um feel free to come and talk to me",
    "start": "3790740",
    "end": "3796140"
  },
  {
    "text": "after uh that was my time yeah [Applause]",
    "start": "3796140",
    "end": "3801389"
  }
]