[
  {
    "start": "0",
    "end": "80000"
  },
  {
    "text": "well welcome this is the uh the pie and Kafka session for those of you who are confused",
    "start": "659",
    "end": "7859"
  },
  {
    "text": "um my name is Danica fine I am a developer Advocate at confluent and so that means I'm a Kafka person",
    "start": "7859",
    "end": "14759"
  },
  {
    "text": "right I I absolutely love Apache Kafka I've got a long history of it um how many of you are currently using",
    "start": "14759",
    "end": "21480"
  },
  {
    "text": "Kafka how many of you are completely new to it today enough of you great I love having a mix",
    "start": "21480",
    "end": "28619"
  },
  {
    "text": "that makes it way more fun um all right so yeah let's get into it we're gonna do some survey analysis",
    "start": "28619",
    "end": "34440"
  },
  {
    "text": "today um for those of you who have been to one of my talks before",
    "start": "34440",
    "end": "40020"
  },
  {
    "text": "um well okay let's back that up a little bit there is one piece of information that you can extract from everything that I just told you already and that is",
    "start": "40020",
    "end": "46020"
  },
  {
    "text": "I'm obsessed with Kafka I absolutely love using it for fun side projects and serious side projects but mostly the fun",
    "start": "46020",
    "end": "52920"
  },
  {
    "text": "ones and today's gonna be one of those fun ones um if you've seen me speak before or if you've read any of my blog posts you",
    "start": "52920",
    "end": "60000"
  },
  {
    "text": "also know that I like house plants I have I have a problem um so usually I steal a plant from the",
    "start": "60000",
    "end": "65939"
  },
  {
    "text": "conference or a borrow one to bring on stage but my colleague's daughter gave me this one so this is Jimmy",
    "start": "65939",
    "end": "71700"
  },
  {
    "text": "he has to sit here for the duration of the talk I'm sorry so I like house plants um but I'm not so one-dimensional right",
    "start": "71700",
    "end": "78780"
  },
  {
    "text": "I like more things than that we have other hobbies in life I also like baking I like cooking I like making things I",
    "start": "78780",
    "end": "84900"
  },
  {
    "start": "80000",
    "end": "281000"
  },
  {
    "text": "feel like it's kind of like a science experiment uh it's kind of relaxing for me so of course I had to take one of my",
    "start": "84900",
    "end": "91080"
  },
  {
    "text": "few remaining relaxing hobbies and make it uh into a work thing as well so",
    "start": "91080",
    "end": "97200"
  },
  {
    "text": "um how many of you cook or bake enough of you thank thank you so much",
    "start": "97200",
    "end": "103380"
  },
  {
    "text": "um so you probably probably know I feel like there's always that one person in the friend group or the family that you",
    "start": "103380",
    "end": "109140"
  },
  {
    "text": "are relied upon as the baker right that's that's my problem anytime my",
    "start": "109140",
    "end": "114240"
  },
  {
    "text": "friends invite me to dinner or my family invites me for holidays or whatever they're asking what are you baking what",
    "start": "114240",
    "end": "120299"
  },
  {
    "text": "are you bringing and I I love to do it because right it's it's a fun thing to experiment with it's something to play",
    "start": "120299",
    "end": "125579"
  },
  {
    "text": "around with um there's a reason for me to tell you telling you all this so as someone who",
    "start": "125579",
    "end": "130979"
  },
  {
    "text": "loves to cook and bake right holidays right holidays are a big part of that you know you're you spend hours",
    "start": "130979",
    "end": "137819"
  },
  {
    "text": "and hours and hours baking something nice for for all the holidays especially at the end of the year definitely in the U.S",
    "start": "137819",
    "end": "143700"
  },
  {
    "text": "um in the US also we have something called Thanksgiving and at Thanksgiving just basically you're in a food coma for",
    "start": "143700",
    "end": "150780"
  },
  {
    "text": "three days that's that's the whole purpose of it I know the Americans it's what we do but for Thanksgiving we make",
    "start": "150780",
    "end": "156780"
  },
  {
    "text": "pies that's a big part that's like the culmination of the meal not like meat pies or whatever we refer to as and the",
    "start": "156780",
    "end": "164099"
  },
  {
    "text": "rest of the world uh fruit pie right it has to it's more likely than not a sweet thing all right so at the end of the",
    "start": "164099",
    "end": "171599"
  },
  {
    "text": "year Thanksgiving happens and it's usually something that you do with your family but also since I don't live near",
    "start": "171599",
    "end": "177300"
  },
  {
    "text": "my family my friends do this as well and I have many friend groups and so we have things called friends givings and at",
    "start": "177300",
    "end": "183900"
  },
  {
    "text": "friendsgiving you have to bring something and so I am the baker so I'm asked to bring a pie to all of these",
    "start": "183900",
    "end": "190379"
  },
  {
    "text": "many many pies with different friend groups and yeah just the obligation you",
    "start": "190379",
    "end": "196739"
  },
  {
    "text": "know that I have to carry so this is where our Journey Begins okay I promise there's a whole point to this we're going to talk about pie for the",
    "start": "196739",
    "end": "202200"
  },
  {
    "text": "remainder of this purpose this is this presentation so buckle up um you may also be asking yourself why",
    "start": "202200",
    "end": "208019"
  },
  {
    "text": "why specifically why why is this important here well I do cook but you know baking is my favorite thing to do",
    "start": "208019",
    "end": "214440"
  },
  {
    "text": "I think that everything I make is fantastic and delicious and I'm sure you also feel that same way about the things",
    "start": "214440",
    "end": "220440"
  },
  {
    "text": "that you make because you put a lot of time and effort and love or something into it right and but of course all the",
    "start": "220440",
    "end": "225780"
  },
  {
    "text": "people that I'm begging for they have hopes and dreams and opinions and all of those weird opinions that they have on",
    "start": "225780",
    "end": "230819"
  },
  {
    "text": "their own sadly and sometimes they don't like the things that I make or maybe they have preferences and so I figure",
    "start": "230819",
    "end": "237900"
  },
  {
    "text": "out figure even for something like a friend's giving where I am out of the goodness of my heart baking something",
    "start": "237900",
    "end": "244080"
  },
  {
    "text": "for my friends I still want to please them right I want to bring something that the most people at that dinner are",
    "start": "244080",
    "end": "250980"
  },
  {
    "text": "going to enjoy right and so I like to be prepared so ahead of these dinners I will ask my friends okay well what what",
    "start": "250980",
    "end": "258180"
  },
  {
    "text": "would make you the happiest what pie could I bring to this event to make you just you know to really put a cherry on",
    "start": "258180",
    "end": "263820"
  },
  {
    "text": "top of this and make it happen make it great for you but with a lot of dinners going on that is a lot of annoying information for me",
    "start": "263820",
    "end": "269699"
  },
  {
    "text": "to keep track of in probably a Google doc or just write down on little Post-it notes and keep around and then I have to",
    "start": "269699",
    "end": "277139"
  },
  {
    "text": "ask it again and again again for every sort of dinner that happens so what am I going to do that's this is clearly this is the",
    "start": "277139",
    "end": "283020"
  },
  {
    "start": "281000",
    "end": "350000"
  },
  {
    "text": "problem statement here is that I'm annoyed writing down information so I'm going to go out of my way to make this easier for myself so Google forms all",
    "start": "283020",
    "end": "289259"
  },
  {
    "text": "right well I mean when this came out great I was one of those people absolutely who sent a form for absolutely everything just it's",
    "start": "289259",
    "end": "296520"
  },
  {
    "text": "convenient it's kind of annoying it feels very official sending a link to someone yes fill this out tell me what",
    "start": "296520",
    "end": "301560"
  },
  {
    "text": "you want for dinner right um so that would make me look bad so we're gonna do something different right",
    "start": "301560",
    "end": "308400"
  },
  {
    "text": "okay Kafka and telegram based survey issuing application that's a that's",
    "start": "308400",
    "end": "313560"
  },
  {
    "text": "oddly specific in the other direction but I think it actually works for this um so again if you've seen any of my",
    "start": "313560",
    "end": "319800"
  },
  {
    "text": "other content I absolutely love to combine my technical skills my love of Kafka with my other hobbies that I have",
    "start": "319800",
    "end": "326580"
  },
  {
    "text": "in life so I figured maybe creating a message-based application based on top",
    "start": "326580",
    "end": "332400"
  },
  {
    "text": "of a an app that everyone that I talk to has telegram that could issue these",
    "start": "332400",
    "end": "337919"
  },
  {
    "text": "surveys to them capture this information put it into Kafka and help me figure out what pies I",
    "start": "337919",
    "end": "343740"
  },
  {
    "text": "needed to bake for these events that could be worthwhile in the long run I think so so before I get too deep into",
    "start": "343740",
    "end": "350580"
  },
  {
    "start": "350000",
    "end": "479000"
  },
  {
    "text": "it um is this something that needs to be solved with Kafka",
    "start": "350580",
    "end": "355680"
  },
  {
    "text": "because I know that's the question you have right so I'm going to be business Danica for a hot SEC",
    "start": "355680",
    "end": "361380"
  },
  {
    "text": "um surveys are everywhere right and I feel that you know personally",
    "start": "361380",
    "end": "366539"
  },
  {
    "text": "for the amount of information that we can get out of surveys right just as I'm",
    "start": "366539",
    "end": "371759"
  },
  {
    "text": "speaking as a company right for the information that I could be getting from my customers and from my employees using surveys I feel like we don't put enough",
    "start": "371759",
    "end": "378360"
  },
  {
    "text": "weight on them we don't pay enough attention to what we're getting out of them um and I guarantee you know they are",
    "start": "378360",
    "end": "383639"
  },
  {
    "text": "everywhere right I guarantee some of you have been approached by some survey in the past couple of days",
    "start": "383639",
    "end": "389940"
  },
  {
    "text": "um right you know after you purchase something online they ask you how your experience was or you get off a plane you immediately get an email from the",
    "start": "389940",
    "end": "395580"
  },
  {
    "text": "airline asking how the flight attendant treated you you're going to leave this",
    "start": "395580",
    "end": "400800"
  },
  {
    "text": "this room today and put a green sticker in that bin um and yeah those are all variants of",
    "start": "400800",
    "end": "406319"
  },
  {
    "text": "surveys and even internally right even if it's not customer facing at the end of every quarter right your employer",
    "start": "406319",
    "end": "411539"
  },
  {
    "text": "probably asks how did your boss do this quarter right and hopefully it's good you know so for businesses surveys are a",
    "start": "411539",
    "end": "418380"
  },
  {
    "text": "really great way to connect with customers to connect with your employees and just understand how these products are your services how other people in",
    "start": "418380",
    "end": "424919"
  },
  {
    "text": "your company are performing right the only downside I've seen to survey",
    "start": "424919",
    "end": "430259"
  },
  {
    "text": "analytics is that you know they are kind of a second class citizen I feel like we don't really pay attention to them that",
    "start": "430259",
    "end": "435660"
  },
  {
    "text": "much they're an afterthought after these sort of services are issued and even",
    "start": "435660",
    "end": "440940"
  },
  {
    "text": "though this data is collected in near real time in most cases right Commerce continues and these surveys are issued",
    "start": "440940",
    "end": "448259"
  },
  {
    "text": "most times we're not really analyzing them until much later right weeks later or at the end of the quarter when we see",
    "start": "448259",
    "end": "454199"
  },
  {
    "text": "if we've met our okrs or whatnot so it's it's a batch process thing which is completely at odds with how we're",
    "start": "454199",
    "end": "460259"
  },
  {
    "text": "capturing the data right and I think we're all you all I don't know you all look like reasonable people so I'm",
    "start": "460259",
    "end": "466620"
  },
  {
    "text": "assuming we can all agree that data is more valuable the closer to when it's created right so this is",
    "start": "466620",
    "end": "473460"
  },
  {
    "text": "problematic and so this is my that's my business pitch this is a completely legitimate use case Okay",
    "start": "473460",
    "end": "480560"
  },
  {
    "start": "479000",
    "end": "552000"
  },
  {
    "text": "survey analysis in general is something that can benefit from a real-time component a real-time processing",
    "start": "480560",
    "end": "486599"
  },
  {
    "text": "component meaning that my absolutely ridiculous application that I want to build here to capture these survey",
    "start": "486599",
    "end": "492479"
  },
  {
    "text": "responses and help me analyze them is completely valid okay and it can be extended to things Beyond",
    "start": "492479",
    "end": "499560"
  },
  {
    "text": "high but again we're going to focus on Pi here today and so let's take this flow so this is the general sort of",
    "start": "499560",
    "end": "506039"
  },
  {
    "text": "recipe that we would follow to build a survey issuing in analysis bought with Kafka right so",
    "start": "506039",
    "end": "513719"
  },
  {
    "text": "we need some way to actually capture these survey entries right um answer a couple questions write that",
    "start": "513719",
    "end": "519360"
  },
  {
    "text": "into Kafka from there depending on what your actual user base is Right are these customers that are taking the survey is",
    "start": "519360",
    "end": "526380"
  },
  {
    "text": "it an internal thing are we getting this from I know servicenow and your your customer or your internal Personnel",
    "start": "526380",
    "end": "532080"
  },
  {
    "text": "database that should also be in Kafka as well then as these entries flow through we do a bit of stream processing",
    "start": "532080",
    "end": "538440"
  },
  {
    "text": "aggregate these results maybe do a little bit more intense analysis if we need to and then we want results right",
    "start": "538440",
    "end": "544800"
  },
  {
    "text": "we want to know how these things are performing uh in real time okay so this is the basic flow that we",
    "start": "544800",
    "end": "550680"
  },
  {
    "text": "would follow for survey analysis but we're going to make it a little more exciting we're going to spice it up right recipes",
    "start": "550680",
    "end": "556800"
  },
  {
    "start": "552000",
    "end": "622000"
  },
  {
    "text": "yeah they're a science experiment but generally you can take a base recipe and spice it up right make it yours make it",
    "start": "556800",
    "end": "562800"
  },
  {
    "text": "more interesting and that's what we're going to do today we're going to focus on something like this",
    "start": "562800",
    "end": "568980"
  },
  {
    "text": "um so I said I wanted to base this on telegram right so you see a couple",
    "start": "568980",
    "end": "574040"
  },
  {
    "text": "applications in there but first of all I need to maintain these surveys right the collection of surveys that I would like",
    "start": "574040",
    "end": "580320"
  },
  {
    "text": "to issue um I'm going to write this data directly into Kafka from there I will build out",
    "start": "580320",
    "end": "587160"
  },
  {
    "text": "the actual application to issue and then collect the entries from this surveys",
    "start": "587160",
    "end": "592740"
  },
  {
    "text": "and this is going to be built on top of a telegram bot that would then produce that into Kafka as well",
    "start": "592740",
    "end": "598140"
  },
  {
    "text": "and then we do a little bit of stream processing combine those data sets with what you know the other metadata that I",
    "start": "598140",
    "end": "603480"
  },
  {
    "text": "have available and produce these real-time insights at the end I'm a lazy",
    "start": "603480",
    "end": "608580"
  },
  {
    "text": "engineer and I want this information directly on my phone okay I don't want to look at once it's set up I don't want to look at my computer ever again right",
    "start": "608580",
    "end": "615240"
  },
  {
    "text": "and then hopefully at the end I can make an informed decision on what ingredients I need to buy and what pies I need to",
    "start": "615240",
    "end": "621480"
  },
  {
    "text": "make the next day right Okay so at this point I mentioned Kafka more than enough but too bad there's",
    "start": "621480",
    "end": "628620"
  },
  {
    "start": "622000",
    "end": "673000"
  },
  {
    "text": "going to be more of it and at least a third of you raised your hand saying that this is your first time delving",
    "start": "628620",
    "end": "634920"
  },
  {
    "text": "into Kafka so sorry if you've working with it already we're going to do a refresher it's a huge part of the project right",
    "start": "634920",
    "end": "640200"
  },
  {
    "text": "it's in the middle it's the biggest part so I want to make sure that we all understand what koska is and what you're",
    "start": "640200",
    "end": "645779"
  },
  {
    "text": "getting yourselves into I promise this can be the best day of your life okay you won't regret learning about Kafka",
    "start": "645779",
    "end": "652320"
  },
  {
    "text": "all right so what is it it is a distributed event streaming platform um I I love this definition is the most",
    "start": "652320",
    "end": "660540"
  },
  {
    "text": "concise the smallest definition I can come up with that adequately covers the the important bits of Kafka",
    "start": "660540",
    "end": "667860"
  },
  {
    "text": "um but there is a lot to unpack there unfortunately so we're going to spend the next 10 minutes doing that all right",
    "start": "667860",
    "end": "673920"
  },
  {
    "text": "first of all it's a streaming platform and this word means different things in different contexts but in the data",
    "start": "673920",
    "end": "679500"
  },
  {
    "text": "context not the Netflix context okay you may have noticed over the last decade",
    "start": "679500",
    "end": "685320"
  },
  {
    "text": "especially that we're undergoing a paradigm shift and how we work with our data how we process our data how we store our data how we move it",
    "start": "685320",
    "end": "692279"
  },
  {
    "text": "and so we're moving away from slower maybe batch focused systems where we're",
    "start": "692279",
    "end": "697380"
  },
  {
    "text": "grouping data in chunks and then processing over that and we're moving to real-time systems right we're stream processing so again instead of waiting",
    "start": "697380",
    "end": "704760"
  },
  {
    "text": "to fill a batch of data and then group over that and process over that we're all Building Systems that can react to",
    "start": "704760",
    "end": "710160"
  },
  {
    "text": "smaller pieces of data and produce incremental actionable results in real time as that data occurs as it's created",
    "start": "710160",
    "end": "717120"
  },
  {
    "text": "ideally okay and you know real time is a good thing all right it's why we're sort of moving",
    "start": "717120",
    "end": "723120"
  },
  {
    "text": "to this shift we want results in real time it helps us build a better feedback loop in our businesses right and so",
    "start": "723120",
    "end": "729660"
  },
  {
    "text": "Kafka is generally a technology that can help you unlock stream processing okay to move data as close to when it's",
    "start": "729660",
    "end": "736200"
  },
  {
    "text": "created as possible and unlock these insights as that's happening and so stream processing as a whole I",
    "start": "736200",
    "end": "742560"
  },
  {
    "text": "think it's pretty cool I personally um but there was a lot of technologies that you can use to do stream processing",
    "start": "742560",
    "end": "749760"
  },
  {
    "text": "it's not just Kafka kaf is just one of many of them but generally moving to stream processing has a lot of benefits",
    "start": "749760",
    "end": "756300"
  },
  {
    "text": "um you're going to increase the accuracy of your data in your results you're going to build a more reactive system or",
    "start": "756300",
    "end": "761940"
  },
  {
    "text": "an event driven system and in the case of Kafka you can actually build a more resilient system in a Loosely coupled",
    "start": "761940",
    "end": "768240"
  },
  {
    "text": "system as well okay so there are some benefits here so Kafka generally is a system that enables this stream",
    "start": "768240",
    "end": "775260"
  },
  {
    "text": "real-time stream processing for you and but it's not just that on top of this it",
    "start": "775260",
    "end": "780420"
  },
  {
    "text": "serves it could serve as a messaging system if that's all you need it for right persistent storage layer as well",
    "start": "780420",
    "end": "786300"
  },
  {
    "text": "and as we'll see a processing layer and you can use it as sort of the central component of your system and pick and",
    "start": "786300",
    "end": "792660"
  },
  {
    "text": "choose what aspects of that what benefits you want to get for different pipelines and different applications as well it is flexible okay",
    "start": "792660",
    "end": "800279"
  },
  {
    "start": "799000",
    "end": "880000"
  },
  {
    "text": "but it is an event platform as well it's not just for streaming and if for those of you who said this",
    "start": "800279",
    "end": "806940"
  },
  {
    "text": "was your first time learning Kafka this is this is the thing you need to write down or remember okay because if you want to be successful with Kafka it's an",
    "start": "806940",
    "end": "814320"
  },
  {
    "text": "event streaming platform you need to know about events you need to be able to think in events and start reasoning about your data in this way okay and",
    "start": "814320",
    "end": "821880"
  },
  {
    "text": "that might sound like a big ask but I promise it's not because you already do this you already know how to think in",
    "start": "821880",
    "end": "827579"
  },
  {
    "text": "events because we are users we are programmers we are humans and Eventing",
    "start": "827579",
    "end": "833100"
  },
  {
    "text": "um believe it or not it's just kind of how we how we're wired right every time you submit an online form",
    "start": "833100",
    "end": "840300"
  },
  {
    "text": "every time you look at an application log file to debug something every time",
    "start": "840300",
    "end": "845579"
  },
  {
    "text": "you react to a notification on your phone all of those things are events okay and so just be a little more aware",
    "start": "845579",
    "end": "852060"
  },
  {
    "text": "of that fact that's all I'm asking okay okay um so those are examples of events but what is an event actually well it's",
    "start": "852060",
    "end": "858660"
  },
  {
    "text": "something that has happened I know that's pretty profound but that's all it is it's something that has",
    "start": "858660",
    "end": "864120"
  },
  {
    "text": "happened and so what do you actually need to describe something that's happened well you need to know when it happened that's important that's",
    "start": "864120",
    "end": "870180"
  },
  {
    "text": "actually the biggest piece you know what no when you need to know who or what was involved and then any other supporting",
    "start": "870180",
    "end": "876120"
  },
  {
    "text": "details that would actually flesh that out right so if we're looking at this this Pi",
    "start": "876120",
    "end": "882540"
  },
  {
    "start": "880000",
    "end": "1092000"
  },
  {
    "text": "situation that is a pie that I baked by the way it was very good um so we could say if we're taking these",
    "start": "882540",
    "end": "888420"
  },
  {
    "text": "surveys right I'm asking my friends what their favorite pies are well an event would be okay maybe yesterday at you",
    "start": "888420",
    "end": "895500"
  },
  {
    "text": "know 3 30 p.m my friend Alyssa took the survey and she said her favorite pie was apple pie",
    "start": "895500",
    "end": "901920"
  },
  {
    "text": "wonderful okay that happened she took the survey yesterday wonderful um so let's break it down we have the",
    "start": "901920",
    "end": "908220"
  },
  {
    "text": "time stamp that really critical component yesterday at 3 30 PM she took that survey in issued her response she",
    "start": "908220",
    "end": "914880"
  },
  {
    "text": "took it so we have maybe her represented as a user ID she took this particular survey which was a pie survey and the",
    "start": "914880",
    "end": "922199"
  },
  {
    "text": "supporting detail was that she she said that apple pie was her favorite pie right so that's all those critical",
    "start": "922199",
    "end": "928680"
  },
  {
    "text": "details that describe what actually happened in that moment yesterday at 3 30 pm",
    "start": "928680",
    "end": "934380"
  },
  {
    "text": "another key component of events that you will have to just grapple with and come to terms with if you're using Kafka well",
    "start": "934380",
    "end": "941220"
  },
  {
    "text": "is that events are meant to be immutable okay once they're written to Kafka you",
    "start": "941220",
    "end": "946500"
  },
  {
    "text": "shouldn't expect to change them okay and that's not me trying to be",
    "start": "946500",
    "end": "952260"
  },
  {
    "text": "difficult or annoying um immutability I know sometimes doesn't Vibe well with programmers depending on",
    "start": "952260",
    "end": "958320"
  },
  {
    "text": "what Paradigm you like to work within um but here we are events describe things that have already happened",
    "start": "958320",
    "end": "965339"
  },
  {
    "text": "okay in the past have happened right so we just we can't change them right and",
    "start": "965339",
    "end": "971760"
  },
  {
    "text": "we shouldn't really change them because what we could do is we can add new events right we can fundamentally sort",
    "start": "971760",
    "end": "978360"
  },
  {
    "text": "of update and change what has happened in the past by writing a new event saying this is what happened now so in",
    "start": "978360",
    "end": "985620"
  },
  {
    "text": "this context if Alyssa comes back to me today and says well I changed my mind I'm not just being a difficult person",
    "start": "985620",
    "end": "991860"
  },
  {
    "text": "saying well you can't change that entry I just tell her okay retake the survey now",
    "start": "991860",
    "end": "997620"
  },
  {
    "text": "and then we write a new event that says today later on today at 1 1 pm maybe you can",
    "start": "997620",
    "end": "1003440"
  },
  {
    "text": "update your answer and say okay pecan pie that's my favorite I promise done right and she can do that as many times",
    "start": "1003440",
    "end": "1008899"
  },
  {
    "text": "as she wants and what we're going to do is we're just going to append another event to this timeline that describes",
    "start": "1008899",
    "end": "1014360"
  },
  {
    "text": "these you know these survey entries or you know the state of her preferences over time right we're not going to",
    "start": "1014360",
    "end": "1019940"
  },
  {
    "text": "delete any events we're just adding new ones to this stream all right",
    "start": "1019940",
    "end": "1025220"
  },
  {
    "text": "So based on that based on what we just learned right you can probably see how Kafka is kind of cool hopefully so far",
    "start": "1025220",
    "end": "1032480"
  },
  {
    "text": "so first of all it is a streaming platform it facilitates the movement of events across your system for use in",
    "start": "1032480",
    "end": "1039980"
  },
  {
    "text": "real-time processing and it's also dealing with events immutable facts okay and for those of",
    "start": "1039980",
    "end": "1046640"
  },
  {
    "text": "you who are familiar with immutability there's a lot of cool benefits you get from working with immutable data all right namely the way that we are storing",
    "start": "1046640",
    "end": "1053780"
  },
  {
    "text": "this in Kafka as we'll see in a little bit it's really really fast to append this data right it's really fast for us",
    "start": "1053780",
    "end": "1059179"
  },
  {
    "text": "to replicate this data and if we are monitoring for new things being added to",
    "start": "1059179",
    "end": "1064220"
  },
  {
    "text": "Kafka that's pretty efficient for us to do that too and we can have as many you know Downstream systems monitoring this",
    "start": "1064220",
    "end": "1070760"
  },
  {
    "text": "information tapping into it and we can rest assured that the Integrity of this data is being maintained because it's",
    "start": "1070760",
    "end": "1076400"
  },
  {
    "text": "not actually being updated ever all right there's a lot of cool things that you can get out of it and I think I",
    "start": "1076400",
    "end": "1082580"
  },
  {
    "text": "think it's pretty wild once you actually start working within those those cool features but how does Kafka actually",
    "start": "1082580",
    "end": "1088220"
  },
  {
    "text": "help you move this data how do you actually work with it in Kafka well we got to look a little bit at the",
    "start": "1088220",
    "end": "1093320"
  },
  {
    "start": "1092000",
    "end": "1389000"
  },
  {
    "text": "architecture and it's a distributed system for better for worse",
    "start": "1093320",
    "end": "1098419"
  },
  {
    "text": "so the primary unit of storage in Kafka is a Kafka topic it's usually a single",
    "start": "1098419",
    "end": "1103700"
  },
  {
    "text": "data set consisting of these events that we just discussed you write data into a",
    "start": "1103700",
    "end": "1109160"
  },
  {
    "text": "Kafka topic using a client called a producer and you write the data as key value pairs you have some sort of string",
    "start": "1109160",
    "end": "1114620"
  },
  {
    "text": "and the event in question you can have as many producers as you want writing to as many Kafka topics as",
    "start": "1114620",
    "end": "1120260"
  },
  {
    "text": "you want within reason but the limit's very very high it won't really matter from there to get data back out of Kafka",
    "start": "1120260",
    "end": "1126140"
  },
  {
    "text": "we use a separate client called a consumer and again you can have as many consumers",
    "start": "1126140",
    "end": "1131660"
  },
  {
    "text": "as you want reading from as many Kafka topics as you want there are a couple other cool things about consumers right because they're",
    "start": "1131660",
    "end": "1137600"
  },
  {
    "text": "kind of the MVPs right they're the ones that are actually doing stream processing potentially so the first thing is is that as we're",
    "start": "1137600",
    "end": "1144740"
  },
  {
    "text": "building up this you know this topic worth of data right we're building up this timeline of events a consumer",
    "start": "1144740",
    "end": "1150620"
  },
  {
    "text": "that's consuming that data well a very useful thing for them would be able to keep track of where they've left off in",
    "start": "1150620",
    "end": "1156080"
  },
  {
    "text": "processing right because node's role you know and we should probably be able to pick back up where we left off and so",
    "start": "1156080",
    "end": "1162679"
  },
  {
    "text": "consumers have this functionality built in they use something called an offset which is effectively just a bookmark and",
    "start": "1162679",
    "end": "1168980"
  },
  {
    "text": "this offset is tied to a specific event within a you know a portion of the topic",
    "start": "1168980",
    "end": "1174440"
  },
  {
    "text": "so when they start back up they can seek to that offset and continue moving on with their processing all right",
    "start": "1174440",
    "end": "1182600"
  },
  {
    "text": "um consumers also have the ability to work together as something called a consumer group and what this allows them to do is basically from a given from a",
    "start": "1182600",
    "end": "1190880"
  },
  {
    "text": "topic or a set of topics they can potentially parallelize the processing of those data of the data from those",
    "start": "1190880",
    "end": "1196220"
  },
  {
    "text": "topics but on the other hand and this is where I think it gets kind of interesting because you are flexible in which one",
    "start": "1196220",
    "end": "1202400"
  },
  {
    "text": "you choose consumers can also be completely independent that might not sound as interesting but it's actually",
    "start": "1202400",
    "end": "1208760"
  },
  {
    "text": "pretty cool when you think about it they have the ability to just read all of the same data and do whatever they want with",
    "start": "1208760",
    "end": "1214700"
  },
  {
    "text": "it right because we are maintaining the Integrity of those immutable events within the topic and this is really",
    "start": "1214700",
    "end": "1221419"
  },
  {
    "text": "really important for those of you who did say you're a new to Kafka because it's very easy to compare Kafka",
    "start": "1221419",
    "end": "1226640"
  },
  {
    "text": "to some similar Technologies right maybe a messaging queue comes to mind and a Kafka topic is not a messaging queue all",
    "start": "1226640",
    "end": "1233120"
  },
  {
    "text": "right just nip that in the bud right now it is absolutely not the functionality is completely different when the data is",
    "start": "1233120",
    "end": "1240559"
  },
  {
    "text": "consumed it doesn't go anywhere that is the default behavior and I want you to think of a topic as a log because it is",
    "start": "1240559",
    "end": "1246980"
  },
  {
    "text": "it's a commit log under the hood and so it's very similar to application logs",
    "start": "1246980",
    "end": "1252140"
  },
  {
    "text": "application log files right and you write lines to a log file that data is there well until the log file rolls",
    "start": "1252140",
    "end": "1258500"
  },
  {
    "text": "right which is very similar to Kafka and while the data's there if you need to go debug something you can go line by line",
    "start": "1258500",
    "end": "1264140"
  },
  {
    "text": "through that file build up that state of that application in your mind and nothing happens to that information right it doesn't go anywhere",
    "start": "1264140",
    "end": "1271160"
  },
  {
    "text": "and so if a later time your colleague needs to come by and wants to help debug or debug for a different reason they are",
    "start": "1271160",
    "end": "1277580"
  },
  {
    "text": "free to do so okay it's not going to impact any other person reading that file or trying to get that information",
    "start": "1277580",
    "end": "1283299"
  },
  {
    "text": "and as a side note every line in a log file is an event right has a time stamp",
    "start": "1283299",
    "end": "1288440"
  },
  {
    "text": "it describes something that has occurred on some area of that application right",
    "start": "1288440",
    "end": "1293960"
  },
  {
    "text": "all right so a Kafka topic is a log a commit log keep that in mind",
    "start": "1293960",
    "end": "1299240"
  },
  {
    "text": "consumers are completely decoupled from producers this is very beneficial we want to maintain Loosely coupled systems",
    "start": "1299240",
    "end": "1305240"
  },
  {
    "text": "for the most part so what this means is that the producers when they're writing data to Kafka they don't care who's going to be reading it if anybody is",
    "start": "1305240",
    "end": "1311720"
  },
  {
    "text": "reading it or when that's going to happen they don't need to know it's not important consumers don't care where the",
    "start": "1311720",
    "end": "1316760"
  },
  {
    "text": "data is coming from or how often it's being written they're just trying to read from a given topic okay and so if a",
    "start": "1316760",
    "end": "1323480"
  },
  {
    "text": "consumer if we have a full pipeline of produce and then consume if a producer stops for any reason the",
    "start": "1323480",
    "end": "1331460"
  },
  {
    "text": "consumer is still going to maintain its connections right it's going to wait for new messages okay it's not going to",
    "start": "1331460",
    "end": "1336559"
  },
  {
    "text": "crash and burn like the producer may have okay Kafka topics very important are broken",
    "start": "1336559",
    "end": "1342799"
  },
  {
    "text": "down into smaller components called partitions an example of that is on the right over here so we have a topic broken into three partitions",
    "start": "1342799",
    "end": "1350419"
  },
  {
    "text": "um and what this means is if we as we write data to a topic we take the key of that data if that exists hash it and",
    "start": "1350419",
    "end": "1357500"
  },
  {
    "text": "then we know which partition it's going to be written to all right so we're guaranteeing ordering on keys and we're",
    "start": "1357500",
    "end": "1362960"
  },
  {
    "text": "guaranteeing that Keys um you know messages with the same keys are going to be written to the same partition all right and these partitions",
    "start": "1362960",
    "end": "1370460"
  },
  {
    "text": "themselves are actually the append only logs of immutable events where the data",
    "start": "1370460",
    "end": "1375919"
  },
  {
    "text": "is actually stored and since Kafka is a distributed system we're going to take these partitions and we're going to store them across the cluster and there",
    "start": "1375919",
    "end": "1383000"
  },
  {
    "text": "are some benefits of this right we're going to be able to replicate this data better and this is going to provide better resilience okay",
    "start": "1383000",
    "end": "1390200"
  },
  {
    "start": "1389000",
    "end": "1627000"
  },
  {
    "text": "and going into this just a little bit more because I think this is very important to understand this structure so here's an example of a Kafka cluster",
    "start": "1390200",
    "end": "1396679"
  },
  {
    "text": "we have a couple of nodes here the nodes of a cluster are called Brokers you can",
    "start": "1396679",
    "end": "1401720"
  },
  {
    "text": "run them wherever you want right can be VMS bare metal containers in the cloud I don't care where you run it just run it",
    "start": "1401720",
    "end": "1407840"
  },
  {
    "text": "somewhere okay so very simple cluster with three brokers",
    "start": "1407840",
    "end": "1412940"
  },
  {
    "text": "we have three topics spread across them and they have some number of partitions right so results May Vary but this is an",
    "start": "1412940",
    "end": "1420919"
  },
  {
    "text": "example of how they might be distributed um why bother putting them on different nodes",
    "start": "1420919",
    "end": "1426500"
  },
  {
    "text": "well you don't want to bog down the Brokers right if we stored all of the data",
    "start": "1426500",
    "end": "1431960"
  },
  {
    "text": "on a single broker well then that means that for all of our producers that might be writing to that that particular topic",
    "start": "1431960",
    "end": "1438919"
  },
  {
    "text": "they're going to be making those maintaining those connections to that broker and they're constantly going to be bombarding it with requests to write",
    "start": "1438919",
    "end": "1445820"
  },
  {
    "text": "that data okay and similar similarly on the consumer side of things they're going to be making requests and maintaining connections to that broker",
    "start": "1445820",
    "end": "1452120"
  },
  {
    "text": "to get data out so it's just beneficial to spread this data across the cluster as evenly as possible so as to not bog",
    "start": "1452120",
    "end": "1459559"
  },
  {
    "text": "down these these Brokers and it also helps us serve up the data faster later on and else helps us write it faster as",
    "start": "1459559",
    "end": "1466760"
  },
  {
    "text": "well okay so the overall goal here is to just distribute this data as evenly as",
    "start": "1466760",
    "end": "1471980"
  },
  {
    "text": "possible that's the bottom line so this is great but it's a distributed system",
    "start": "1471980",
    "end": "1477200"
  },
  {
    "text": "so nodes are going to go down what do you do well we've lost three partitions that's a",
    "start": "1477200",
    "end": "1484280"
  },
  {
    "text": "shame not ideal thankfully we've only lost a third of our data right we could have",
    "start": "1484280",
    "end": "1489620"
  },
  {
    "text": "lost it all but we didn't we only lost a third um but we're going to take it a step further because that's that's not good",
    "start": "1489620",
    "end": "1494659"
  },
  {
    "text": "enough right and we're going to use something called replication which is a configurable parameter that just defines how many copies of a partition should we",
    "start": "1494659",
    "end": "1501799"
  },
  {
    "text": "have across our cluster so we're going to still look at this three node cluster from the perspective",
    "start": "1501799",
    "end": "1508159"
  },
  {
    "text": "this time of just a single topic and this single topic has three partitions with replication set to three that's",
    "start": "1508159",
    "end": "1514760"
  },
  {
    "text": "sort of the default value so with replication enabled what this means is that we have a set of lead partitions",
    "start": "1514760",
    "end": "1521900"
  },
  {
    "text": "you see them distributed at the top and for every partition we're going to have two additional copies of it somewhere",
    "start": "1521900",
    "end": "1528020"
  },
  {
    "text": "else across the cluster so what happens if I'm writing data to partition zero right I'm going to",
    "start": "1528020",
    "end": "1533900"
  },
  {
    "text": "connect to broker zero write that data there and then synchronously in most cases you can configure it otherwise but",
    "start": "1533900",
    "end": "1540620"
  },
  {
    "text": "synchronously we're going to replicate that data over to the other two Brokers where that data where this replicas",
    "start": "1540620",
    "end": "1545900"
  },
  {
    "text": "exist okay so by the time the producer actually knows that the data has been written we know it's been safely written",
    "start": "1545900",
    "end": "1552200"
  },
  {
    "text": "to three Brokers all right we have exact copies of it somewhere else",
    "start": "1552200",
    "end": "1557679"
  },
  {
    "text": "so now if a broker goes down right we've lost a full copy and a couple other copies of some other",
    "start": "1558140",
    "end": "1564200"
  },
  {
    "text": "partitions and that's a shame right for partition zero that was a lead partition that's the one that we were connecting",
    "start": "1564200",
    "end": "1569659"
  },
  {
    "text": "to that are that our producers were writing to and our consumers were reading from right so that's a shame",
    "start": "1569659",
    "end": "1575179"
  },
  {
    "text": "those applications have stopped right they can't do their jobs anymore at this point the cluster is going to",
    "start": "1575179",
    "end": "1580820"
  },
  {
    "text": "acknowledge that this node has gone down it's going to realize it's going to look at all the partitions that this broker",
    "start": "1580820",
    "end": "1586580"
  },
  {
    "text": "was a leader for and it's going to start looking for where it has copies okay and then it will rebalance it'll do a leader",
    "start": "1586580",
    "end": "1593360"
  },
  {
    "text": "election process and we're going to find one of those copies and promote it to a leader so that now our producers and",
    "start": "1593360",
    "end": "1598640"
  },
  {
    "text": "consumers can start connecting to in this case broker one and doing their jobs all right I know that was bitten aside",
    "start": "1598640",
    "end": "1604640"
  },
  {
    "text": "but again for those of you who said you were new this is a really important part of Kafka and one of the really cool",
    "start": "1604640",
    "end": "1610760"
  },
  {
    "text": "benefits of it as well because Kafka is just pretty good at storing your data right your immutable events in a",
    "start": "1610760",
    "end": "1616940"
  },
  {
    "text": "resilient a persistent a distributed way for fast consumption for moving those events quickly and",
    "start": "1616940",
    "end": "1623539"
  },
  {
    "text": "offering some cool data processing capabilities on top of that all right back to me",
    "start": "1623539",
    "end": "1628700"
  },
  {
    "start": "1627000",
    "end": "1707000"
  },
  {
    "text": "all right so back to this survey application that we want to build this recipe that we're going to follow I already gave you a quick overview of",
    "start": "1628700",
    "end": "1634820"
  },
  {
    "text": "this so where do we start well we need a Kafka cluster right that'd be the first place to start",
    "start": "1634820",
    "end": "1640820"
  },
  {
    "text": "um so where do we get one of those the store okay um I already told you this I'm a lazy",
    "start": "1640820",
    "end": "1647179"
  },
  {
    "text": "person I hate maintaining my own infrastructure I like using things in the cloud if I can um there are a ton of managed Services",
    "start": "1647179",
    "end": "1653240"
  },
  {
    "text": "out there for Kafka so if you want to do something like this similar just have a Kafka cluster running somewhere you can",
    "start": "1653240",
    "end": "1659960"
  },
  {
    "text": "use one in the cloud through confluent if you want or you know feel free to run",
    "start": "1659960",
    "end": "1665240"
  },
  {
    "text": "it in Docker containers or just on your own machine doesn't matter um but Confluence pretty cool I think so",
    "start": "1665240",
    "end": "1670820"
  },
  {
    "text": "um we offer cloud-based Kafka fully in the cloud um I think it's really cool for projects",
    "start": "1670820",
    "end": "1677179"
  },
  {
    "text": "like these where I'm just being exceptionally lazy and on top of that there are some cool tools you get out of",
    "start": "1677179",
    "end": "1683840"
  },
  {
    "text": "this and we also have Kafka connect which is a great way to move data in and out of your Kafka cluster from places",
    "start": "1683840",
    "end": "1689179"
  },
  {
    "text": "like databases or endpoints or whatnot we have K SQL DB for in-browser stream",
    "start": "1689179",
    "end": "1694880"
  },
  {
    "text": "processing that we'll be using a little later on and we also have schema management just to maintain sort of the",
    "start": "1694880",
    "end": "1700580"
  },
  {
    "text": "Integrity of the data that we're putting into our topics okay so have a Kafka cluster running I don't",
    "start": "1700580",
    "end": "1706580"
  },
  {
    "text": "care where you're doing it cool next up let's get the data into Kafka right",
    "start": "1706580",
    "end": "1711799"
  },
  {
    "start": "1707000",
    "end": "1764000"
  },
  {
    "text": "but hold your horses right I want to make sure that we understand what data we're actually working with and I know",
    "start": "1711799",
    "end": "1717020"
  },
  {
    "text": "it's so exciting when you're building just a fun hobby project to just dive in and see what happens throw caution to",
    "start": "1717020",
    "end": "1722179"
  },
  {
    "text": "the wind um but I really really like to take a step back and understand what data I'm working with I find that it saves me a",
    "start": "1722179",
    "end": "1729559"
  },
  {
    "text": "lot of time later on I also am such a nerd and I do maintain like a backlog of things that I want to do for each of my",
    "start": "1729559",
    "end": "1735860"
  },
  {
    "text": "projects so this is a good stage for me to actually determine what my long-term goals are for even a ridiculous project",
    "start": "1735860",
    "end": "1742520"
  },
  {
    "text": "like this and there are many long-term bills um so yeah so it's very beneficial to",
    "start": "1742520",
    "end": "1748100"
  },
  {
    "text": "take a step back and understand what data What fields you think you need and then argue with yourself to you know",
    "start": "1748100",
    "end": "1754460"
  },
  {
    "text": "convince yourself you don't need those fields add it to the backlog and anyway um the result of this stage is really",
    "start": "1754460",
    "end": "1760220"
  },
  {
    "text": "just building a schema okay something that I could adhere to through the rest of the project",
    "start": "1760220",
    "end": "1765980"
  },
  {
    "start": "1764000",
    "end": "1982000"
  },
  {
    "text": "all right so as I mentioned Kafka works really well with schema registries and so what this means is that for a",
    "start": "1765980",
    "end": "1772700"
  },
  {
    "text": "given topic you can assign a schema this schema will reside in schema registry so that when a producer wants to write data",
    "start": "1772700",
    "end": "1779360"
  },
  {
    "text": "to Kafka it first needs to prove that this data actually adheres to that schema then it's written to the topic",
    "start": "1779360",
    "end": "1785360"
  },
  {
    "text": "and then on the other end of things when the consumers want to consume that data they will throw an exception if it",
    "start": "1785360",
    "end": "1790700"
  },
  {
    "text": "doesn't match the schema that they expect right so for schema registry",
    "start": "1790700",
    "end": "1796159"
  },
  {
    "text": "there are with within Kafka there's a lot of different serialization formats that you can use Avro Json Json schema",
    "start": "1796159",
    "end": "1802820"
  },
  {
    "text": "protobuf it's really down to personal preference honestly I like using Avro I",
    "start": "1802820",
    "end": "1808340"
  },
  {
    "text": "don't know if anyone really says that but I like using Avro I like including it in my I feel comfortable concluding",
    "start": "1808340",
    "end": "1813980"
  },
  {
    "text": "it in my python code so that's what we're going to use here so I wrote up a quick schema just to",
    "start": "1813980",
    "end": "1819320"
  },
  {
    "text": "capture the meat of this project right the actual survey responses that I'm",
    "start": "1819320",
    "end": "1824360"
  },
  {
    "text": "capturing from this application okay so pretty basic things you know what survey ID are we working with which user is",
    "start": "1824360",
    "end": "1831500"
  },
  {
    "text": "actually taking this give me some details on them their name their company their location and what is their actual",
    "start": "1831500",
    "end": "1836840"
  },
  {
    "text": "response to this survey all right um since people okay so the first",
    "start": "1836840",
    "end": "1843380"
  },
  {
    "text": "complaint that you might have if you are annoying like me is that this is not",
    "start": "1843380",
    "end": "1849980"
  },
  {
    "text": "normalized this is kind of weird um I am a major proponent for normalizing your data breaking it up into separate data sets where",
    "start": "1849980",
    "end": "1856760"
  },
  {
    "text": "appropriate and so tossing in this user data really kind of frustrates me but",
    "start": "1856760",
    "end": "1861980"
  },
  {
    "text": "rest assured this will be handled later on we can actually extract this data using some easy stream processing once",
    "start": "1861980",
    "end": "1868279"
  },
  {
    "text": "it gets into Kafka the reason that I did include this data in one single schema is just for Simplicity it's being",
    "start": "1868279",
    "end": "1875059"
  },
  {
    "text": "captured as part of the same process right and since",
    "start": "1875059",
    "end": "1881140"
  },
  {
    "text": "if we wanted to write this data to two separate topics as a producer yeah we",
    "start": "1881140",
    "end": "1886279"
  },
  {
    "text": "absolutely could but then you run the risk of what if one message makes it and the other one doesn't right so it's safer in the long run to just include",
    "start": "1886279",
    "end": "1892940"
  },
  {
    "text": "this in one single message and then extract it later on when I need it okay and we'll get a little more into that in",
    "start": "1892940",
    "end": "1899360"
  },
  {
    "text": "a minute so but when I do want to actually extract this data I should probably have",
    "start": "1899360",
    "end": "1905299"
  },
  {
    "text": "schemas for the those extracted data sets as well so the first just extracting the the respondents the users",
    "start": "1905299",
    "end": "1911659"
  },
  {
    "text": "responding to this survey these are my friends this is overkill they're like why are",
    "start": "1911659",
    "end": "1917240"
  },
  {
    "text": "you including company well it's optional okay I don't need to know where you work I know where you work you've been there for 10 years",
    "start": "1917240",
    "end": "1922520"
  },
  {
    "text": "um but anyway if I wanted to extend this for uh um you know to other people that I know",
    "start": "1922520",
    "end": "1929059"
  },
  {
    "text": "or people at conferences and bombard everyone with surveys I could right I included these optional Fields just to",
    "start": "1929059",
    "end": "1935360"
  },
  {
    "text": "make the analysis a little more interesting down the road okay and note that when I create this",
    "start": "1935360",
    "end": "1941419"
  },
  {
    "text": "corresponding Topic in Kafka I'm going to make it a compact topic so what that",
    "start": "1941419",
    "end": "1946520"
  },
  {
    "text": "means is it's basically the cleanup policy for the topic so compacted topics",
    "start": "1946520",
    "end": "1952220"
  },
  {
    "text": "say that we are going to maintain at least one value for every key okay so the key in this case is my user id my",
    "start": "1952220",
    "end": "1959600"
  },
  {
    "text": "individual respondent and so we're always going to maintain one value for them all right we'll clean up all the",
    "start": "1959600",
    "end": "1965480"
  },
  {
    "text": "old ones because they might not be necessary but we're going to keep the latest value okay",
    "start": "1965480",
    "end": "1970880"
  },
  {
    "text": "and next up the survey responses so we can extract this as well just the remaining fields that we need to flesh",
    "start": "1970880",
    "end": "1977720"
  },
  {
    "text": "out this is the survey this is the user and this is the response all right and on that note what about",
    "start": "1977720",
    "end": "1983779"
  },
  {
    "start": "1982000",
    "end": "2064000"
  },
  {
    "text": "the survey IDs the actual survey questions these correspond to so again I",
    "start": "1983779",
    "end": "1988940"
  },
  {
    "text": "have a much wider agenda for this it's not just about Pi believe it or not",
    "start": "1988940",
    "end": "1994039"
  },
  {
    "text": "um I you know I want to be able to issue enable and disable a bunch of different surveys and send them to my friends or",
    "start": "1994039",
    "end": "2000399"
  },
  {
    "text": "my colleagues or again people out in the wild at conferences so I wanted a way to",
    "start": "2000399",
    "end": "2005860"
  },
  {
    "text": "keep track of all these survey questions that would I would potentially be issuing and the best way to do this is",
    "start": "2005860",
    "end": "2011019"
  },
  {
    "text": "not in the Google sheet but in Kafka okay so I created another schema here just to maintain the actual survey",
    "start": "2011019",
    "end": "2017799"
  },
  {
    "text": "questions that I would be issuing and so we have the corresponding survey ID we have the question a summary just to make",
    "start": "2017799",
    "end": "2023200"
  },
  {
    "text": "it a little more human readable when I'm looking at it later on the actual responses the options that",
    "start": "2023200",
    "end": "2029200"
  },
  {
    "text": "people can respond to with and whether or not it's enabled right for a Thanksgiving survey it doesn't make",
    "start": "2029200",
    "end": "2034480"
  },
  {
    "text": "sense that it would be enabled for 11 months out of the year we only need it for one month of the year basically",
    "start": "2034480",
    "end": "2040179"
  },
  {
    "text": "so having that flag means that I can turn these on and off and to choose when they should be issued okay this survey",
    "start": "2040179",
    "end": "2047440"
  },
  {
    "text": "questions topic is going to be compact also and just like that respondents topic again mostly because of that enabled flag because if I want to update",
    "start": "2047440",
    "end": "2054158"
  },
  {
    "text": "it I really only care about the latest value for that field for that survey all",
    "start": "2054159",
    "end": "2059378"
  },
  {
    "text": "right but for now there's only one survey question in mind and so we're going to write that to Kafka directly and that is what pi is your favorite",
    "start": "2059379",
    "end": "2066940"
  },
  {
    "start": "2064000",
    "end": "2192000"
  },
  {
    "text": "okay um I included a couple pre-canned options here mostly because these are",
    "start": "2066940",
    "end": "2072580"
  },
  {
    "text": "the pies that I'm good at making and I didn't want them to get too unreasonable because my friends are unreasonable all",
    "start": "2072580",
    "end": "2078460"
  },
  {
    "text": "right so we are going to write this into Kafka this is an enabled survey and so at this point I know how all the",
    "start": "2078460",
    "end": "2084700"
  },
  {
    "text": "data should look I have at least this survey written to Kafka and now we need to get the rest of it into Kafka right",
    "start": "2084700",
    "end": "2091118"
  },
  {
    "text": "let's start issuing some surveys if you have seen some of my other",
    "start": "2091119",
    "end": "2096158"
  },
  {
    "text": "content you know that I love telegram how many of you use Telegram really",
    "start": "2096159",
    "end": "2102280"
  },
  {
    "text": "okay this is going to change your life so cool yet another messaging application right uh WeChat WhatsApp",
    "start": "2102280",
    "end": "2108880"
  },
  {
    "text": "whatever add telegram to the mix it's really cool um the reason I like telegram so much is that it has a really cool API attached",
    "start": "2108880",
    "end": "2115599"
  },
  {
    "text": "to it so that you can actually Define Bots and you can write your own bot and use",
    "start": "2115599",
    "end": "2121780"
  },
  {
    "text": "that it pretty pretty rich API to then configure how people can interact with that bot and then you can I don't know",
    "start": "2121780",
    "end": "2129099"
  },
  {
    "text": "collect data and write it to Kafka so it's pretty pretty cool um I've used it in the past to receive",
    "start": "2129099",
    "end": "2134859"
  },
  {
    "text": "you know alerts from Kafka and also use it as sort of an admin console from my phone so I can write data to Kafka",
    "start": "2134859",
    "end": "2140680"
  },
  {
    "text": "without actually opening my computer which is kind of nice so I thought it would be kind of fun at this point to",
    "start": "2140680",
    "end": "2146200"
  },
  {
    "text": "take telegram which is an application that most of my friends use anyway and create a bot that would be accessible to",
    "start": "2146200",
    "end": "2151540"
  },
  {
    "text": "all of them so that they can just open a conversation see what surveys are available and take one right write it",
    "start": "2151540",
    "end": "2157900"
  },
  {
    "text": "back to Kafka so that they I don't know most of my friends don't know what Kafka is or care",
    "start": "2157900",
    "end": "2163480"
  },
  {
    "text": "right so it's easier to say hey just chat with the spot okay I don't have to explain the rest of it to you",
    "start": "2163480",
    "end": "2169960"
  },
  {
    "text": "um so again very conveniently there is this very rich API around Telegram and",
    "start": "2169960",
    "end": "2175000"
  },
  {
    "text": "there's a python wrapper for that as well so what this means is that you can just write a python script authenticate",
    "start": "2175000",
    "end": "2181240"
  },
  {
    "text": "using an API key that you're given when you make that bot and then outline the conversation handlers that people will",
    "start": "2181240",
    "end": "2187900"
  },
  {
    "text": "follow to actually have a conversation with your Bot okay and so getting into that a little bit",
    "start": "2187900",
    "end": "2193900"
  },
  {
    "start": "2192000",
    "end": "2234000"
  },
  {
    "text": "more so this is a an example of a conversation Handler that you would Define and again this is sort of the high level flow that someone would go",
    "start": "2193900",
    "end": "2201040"
  },
  {
    "text": "through to actually converse with the spot okay so it outlines the uh how to",
    "start": "2201040",
    "end": "2207099"
  },
  {
    "text": "actually start this survey the different states and stages that you'll go through as you interact with the bot and have",
    "start": "2207099",
    "end": "2213520"
  },
  {
    "text": "that full survey and then importantly the functions or the the message handlers that are associated with each",
    "start": "2213520",
    "end": "2219339"
  },
  {
    "text": "stage of this conversation okay so you're basically creating a finite State machine I don't know if that actually",
    "start": "2219339",
    "end": "2224740"
  },
  {
    "text": "makes it easier for any of you but um yeah it takes a little bit of time to to get used to this format but then it's",
    "start": "2224740",
    "end": "2230800"
  },
  {
    "text": "it's really fun to um to set it up and then looking a little more closely",
    "start": "2230800",
    "end": "2236079"
  },
  {
    "start": "2234000",
    "end": "2294000"
  },
  {
    "text": "into one of these individual message handlers so here I had just prompted the",
    "start": "2236079",
    "end": "2243339"
  },
  {
    "text": "user for their name and so I'm capturing that input and I'm storing it in temporary State for the",
    "start": "2243339",
    "end": "2249820"
  },
  {
    "text": "lifetime of this conversation okay and for this particular conversation Handler the lifetime of",
    "start": "2249820",
    "end": "2256599"
  },
  {
    "text": "that so I'm grabbing that and then I'm prompting them for the next piece of information that I actually want to get",
    "start": "2256599",
    "end": "2262000"
  },
  {
    "text": "from them and that is optionally their company and I'm giving them a way to go around it you know Skip if you don't",
    "start": "2262000",
    "end": "2267099"
  },
  {
    "text": "actually want to give this information which goes hand in hand with that being an optional field right",
    "start": "2267099",
    "end": "2273460"
  },
  {
    "text": "and so this is how all of them work right you grab the information from their input you forward it you store it",
    "start": "2273460",
    "end": "2279280"
  },
  {
    "text": "in state if it was given to you you give them the next question and then you forward them to the next stage which is",
    "start": "2279280",
    "end": "2285280"
  },
  {
    "text": "saying survey State company so whatever response we actually get for this uh",
    "start": "2285280",
    "end": "2290800"
  },
  {
    "text": "this prompt we're going to go handle it in that next message Handler as well and so once all this information is",
    "start": "2290800",
    "end": "2297040"
  },
  {
    "start": "2294000",
    "end": "2434000"
  },
  {
    "text": "actually captured again we're keeping it in temporary State I will ask the user to confirm",
    "start": "2297040",
    "end": "2302619"
  },
  {
    "text": "their responses does this look right do you want to update any of them and then once they say it's wonderful we go to",
    "start": "2302619",
    "end": "2308260"
  },
  {
    "text": "the send function right we're going to take the the state that we have captured we're going to send it to the send entry",
    "start": "2308260",
    "end": "2314700"
  },
  {
    "text": "function and then use a producer right serialize the data according to the",
    "start": "2314700",
    "end": "2320740"
  },
  {
    "text": "schema that we defined earlier and then use a serializing producer to then write that data to the broker",
    "start": "2320740",
    "end": "2326980"
  },
  {
    "text": "right um this is a this is just a vanilla producer a serializing producer",
    "start": "2326980",
    "end": "2333280"
  },
  {
    "text": "um it is this simple it is this easy I did use a couple helper scripts to extract a little bit",
    "start": "2333280",
    "end": "2339579"
  },
  {
    "text": "of the boilerplate code especially for serializing producers because you do have to specify where your schema",
    "start": "2339579",
    "end": "2345220"
  },
  {
    "text": "registry is how to connect to it and whatnot but that's just in one other file it's pretty simple I will have this",
    "start": "2345220",
    "end": "2350859"
  },
  {
    "text": "linked at the end if you want to take a look at it um but yeah the rest of the boilerplate",
    "start": "2350859",
    "end": "2356020"
  },
  {
    "text": "code is handled by Telegram right and so once you actually run this",
    "start": "2356020",
    "end": "2361599"
  },
  {
    "text": "bot script this is what you're going to see when you interact with that bot on telegram right so I'm going to say as a",
    "start": "2361599",
    "end": "2366820"
  },
  {
    "text": "user I want to take this survey and so it's going to prompt for the name give them an out if they really don't",
    "start": "2366820",
    "end": "2373420"
  },
  {
    "text": "want to take this the survey as well then from there I'm going to input a name I can enter the company my location",
    "start": "2373420",
    "end": "2379540"
  },
  {
    "text": "if I want and then I get the survey question presented to me and another cool feature in telegram they have easy",
    "start": "2379540",
    "end": "2387220"
  },
  {
    "text": "ways to present information that you can select respond with so I thought it was",
    "start": "2387220",
    "end": "2392440"
  },
  {
    "text": "cool that we had these buttons available so I don't even have to rely on them mistyping the actual responses here I'm",
    "start": "2392440",
    "end": "2398560"
  },
  {
    "text": "giving them the options and they just click on one and respond okay and then here we've confirmed the",
    "start": "2398560",
    "end": "2405640"
  },
  {
    "text": "information and then from there it's going to send it off to Kafka for me all right so back in November when I",
    "start": "2405640",
    "end": "2411339"
  },
  {
    "text": "actually ran this bot for the first time and annoyed all of my friends um this is the information that I saw",
    "start": "2411339",
    "end": "2417339"
  },
  {
    "text": "this is a screenshot from the confluent cloud console um just showing all of the messages that",
    "start": "2417339",
    "end": "2422800"
  },
  {
    "text": "we're flowing through as they took this very annoying survey okay cool so we have data being written she",
    "start": "2422800",
    "end": "2429640"
  },
  {
    "text": "no longer works for no she don't really no longer lives in Florida so I have to ask her to retake that okay anyway so at",
    "start": "2429640",
    "end": "2436000"
  },
  {
    "text": "this point we have data in our cluster right we've connected our data sources that's arguably the most difficult part",
    "start": "2436000",
    "end": "2442060"
  },
  {
    "text": "right it's like machine learning projects where like 80 of it is just getting the right data and then the rest of it's just whatever",
    "start": "2442060",
    "end": "2449079"
  },
  {
    "text": "um all right so now we can start the actual stream processing the reason we're here for this right the actual survey analysis",
    "start": "2449079",
    "end": "2456460"
  },
  {
    "start": "2455000",
    "end": "2686000"
  },
  {
    "text": "so how do we process data with Kafka well there's a bunch of ways thanks for asking",
    "start": "2456460",
    "end": "2461619"
  },
  {
    "text": "um the OG way to do it is using the consumer and producer API the cool thing about these is that they're available",
    "start": "2461619",
    "end": "2467260"
  },
  {
    "text": "and pretty much all of your favorite languages some of your least favorite I love making that joke but it's true",
    "start": "2467260",
    "end": "2473079"
  },
  {
    "text": "um so they're really flexible and that's one of the major benefits of this and but if you want to use the consumer",
    "start": "2473079",
    "end": "2479140"
  },
  {
    "text": "producer API for stream processing It's Kind it's kind of a lot right you",
    "start": "2479140",
    "end": "2484960"
  },
  {
    "text": "have to set up a consumer to read that data from Kafka and then you start doing your stream processing right what is what are you",
    "start": "2484960",
    "end": "2490780"
  },
  {
    "text": "actually trying to do if it's stateless cool do what you need to do and then write it back to Kafka with the producer awesome but what if it's stateful which",
    "start": "2490780",
    "end": "2498280"
  },
  {
    "text": "it probably is because that's way more interesting um then that opens the door to a lot of other potential issues right what do you",
    "start": "2498280",
    "end": "2505359"
  },
  {
    "text": "do if your application your stream processing application stops what do you do with your state do you",
    "start": "2505359",
    "end": "2510520"
  },
  {
    "text": "need to persist it doesn't matter do you need to actually keep track of like where you left off there's a lot of extra questions that you have to ask",
    "start": "2510520",
    "end": "2516700"
  },
  {
    "text": "yourselves um and so if you want to build more of a fault tolerant stream processing",
    "start": "2516700",
    "end": "2522220"
  },
  {
    "text": "application with the producer and consumer API um that's on you right there's a lot of extra steps you have to go into to make",
    "start": "2522220",
    "end": "2529599"
  },
  {
    "text": "that work okay you know this is a lower level option for stream processing that's great",
    "start": "2529599",
    "end": "2536440"
  },
  {
    "text": "you're more flexible in what you can do but proceed at your own risk all right so if you're a sane person you're going",
    "start": "2536440",
    "end": "2542140"
  },
  {
    "text": "to use one of the next two things um moving up in ease of use as Kafka streams so this is a purpose-built Java",
    "start": "2542140",
    "end": "2548980"
  },
  {
    "text": "and Scala library for stream processing with Kafka all right so uh its biggest win is that",
    "start": "2548980",
    "end": "2555099"
  },
  {
    "text": "it takes that hassle of handling State out of your hair you don't have to think about it",
    "start": "2555099",
    "end": "2560260"
  },
  {
    "text": "um so what it does is it uses an in-memory local state to maintain that information and then that information is",
    "start": "2560260",
    "end": "2566980"
  },
  {
    "text": "also persisted back to a Kafka topic right so if any of your application instances go down you can reboot from",
    "start": "2566980",
    "end": "2573220"
  },
  {
    "text": "that state either locally if it comes back up on that same machine or from the Kafka topic if it comes up somewhere",
    "start": "2573220",
    "end": "2578740"
  },
  {
    "text": "else okay and this is built on top of the consumer and producer API so what that means is that we get that",
    "start": "2578740",
    "end": "2584200"
  },
  {
    "text": "scalability that parallelization of that processing that I talked about from the consumer groups all right so if we have",
    "start": "2584200",
    "end": "2590319"
  },
  {
    "text": "an input topic with 10 partitions and we could we could potentially spin up 10 instances of this same application and",
    "start": "2590319",
    "end": "2597220"
  },
  {
    "text": "each one would have one partition to deal with right and then if one or two of them go down then those partitions",
    "start": "2597220",
    "end": "2603400"
  },
  {
    "text": "that they were managing are going to be rebalanced to some of the remaining running instances all right so that's",
    "start": "2603400",
    "end": "2608619"
  },
  {
    "text": "all handled for you the state will move with those running those input partitions and you don't really have to",
    "start": "2608619",
    "end": "2614260"
  },
  {
    "text": "worry about that so and then you get a lot of cool processing capabilities out of the box filtering aggregations",
    "start": "2614260",
    "end": "2619780"
  },
  {
    "text": "mapping whatnot but you can also do custom processors in there as well so it's pretty awesome way better than the",
    "start": "2619780",
    "end": "2627040"
  },
  {
    "text": "Consumer producer API and then finally then moving up in ease of use is K SQL DB this is a SQL like wrapper on top of",
    "start": "2627040",
    "end": "2635380"
  },
  {
    "text": "Kafka Stream So if Java is not your jam and that's completely fine um also Kafka streams and stream processing you can do there's some",
    "start": "2635380",
    "end": "2642040"
  },
  {
    "text": "python libraries out there so keep that in mind but if that's not really what you want to do then K SQL DB is a great",
    "start": "2642040",
    "end": "2648160"
  },
  {
    "text": "option right so what this means is that you write a couple SQL statements",
    "start": "2648160",
    "end": "2653680"
  },
  {
    "text": "you create streams you create tables and then you have access to many of these aggregations and these stateful",
    "start": "2653680",
    "end": "2659800"
  },
  {
    "text": "Transformations from SQL right so you don't have to actually know really how to program and",
    "start": "2659800",
    "end": "2666819"
  },
  {
    "text": "what this what's really cool about K SQL DB is that I like that it makes stream processing available to more people it's",
    "start": "2666819",
    "end": "2672700"
  },
  {
    "text": "kind of fun all right so this is what I'm going to use uh the real benefit I think of kco DB is that if you're using",
    "start": "2672700",
    "end": "2678700"
  },
  {
    "text": "conflict Cloud it is available within the browser right so I don't actually have to run any applications again lazy",
    "start": "2678700",
    "end": "2686319"
  },
  {
    "start": "2686000",
    "end": "2779000"
  },
  {
    "text": "cool so K SQL DB so the first thing you have to do",
    "start": "2686319",
    "end": "2692560"
  },
  {
    "text": "is Define your inputs okay we need to load this information and give K SQL DB you know tell them",
    "start": "2692560",
    "end": "2699339"
  },
  {
    "text": "what data we're actually working with and so kcloudb has two main constructs there are tables there are streams",
    "start": "2699339",
    "end": "2706599"
  },
  {
    "text": "streams represent ongoing series of events where every event that flows through is potentially relevant right so",
    "start": "2706599",
    "end": "2713319"
  },
  {
    "text": "we want to be able to process that tables on the other hand they're like a compact topic they only maintain the",
    "start": "2713319",
    "end": "2718839"
  },
  {
    "text": "latest value per key which is really valuable for a lot of use cases so we'll get into that but for right now",
    "start": "2718839",
    "end": "2725440"
  },
  {
    "text": "we're going to deal with these survey entries that we're actually getting from this telegram application and we want to bring this in as a stream",
    "start": "2725440",
    "end": "2731920"
  },
  {
    "text": "right because every entry is valuable and we want to be able to process that so that's going to be a stream all right so hence the create stream",
    "start": "2731920",
    "end": "2738880"
  },
  {
    "text": "statement we are giving it a very useful name survey entries and all we have to",
    "start": "2738880",
    "end": "2744280"
  },
  {
    "text": "do is point to the Kafka topic where this data is and specify the value format and so that is Avro right we used",
    "start": "2744280",
    "end": "2750339"
  },
  {
    "text": "an Avro schema and now I don't have to do anything else which is really cool",
    "start": "2750339",
    "end": "2755680"
  },
  {
    "text": "because K SQL DB as a consumer will look at this topic this input",
    "start": "2755680",
    "end": "2760900"
  },
  {
    "text": "topping see the value format it will go take that topic to the schema registry",
    "start": "2760900",
    "end": "2766839"
  },
  {
    "text": "fetch the schema for that topic and then use that schema to parse all the fields and their types so it's going to",
    "start": "2766839",
    "end": "2772540"
  },
  {
    "text": "automatically do that for me I don't have to risk all the ridiculous typos that I'm going to make trying to bring in all of these fields",
    "start": "2772540",
    "end": "2780480"
  },
  {
    "start": "2779000",
    "end": "2933000"
  },
  {
    "text": "so next just for to normalize the data I just wanted to prove that this was happening and there is a reason for this",
    "start": "2780520",
    "end": "2786040"
  },
  {
    "text": "right I think it's a good best practice especially if you're getting into maybe that sort of data mesh sort of approach",
    "start": "2786040",
    "end": "2792520"
  },
  {
    "text": "and having data products right um I am really the only consumer of this data sometimes I guess an intern access",
    "start": "2792520",
    "end": "2799359"
  },
  {
    "text": "my data last year but I'm usually the only person that deals with this data but by normalizing this information I",
    "start": "2799359",
    "end": "2806619"
  },
  {
    "text": "can use it for any other application that I would want to right so if I want to have a really ridiculous I don't know",
    "start": "2806619",
    "end": "2812380"
  },
  {
    "text": "like you know I want to keep track of sort of like a phone book you know where my friends are what companies they work",
    "start": "2812380",
    "end": "2817720"
  },
  {
    "text": "for where they're located whatever I can do that because I'm extracting these respondents and I'm not relying on any",
    "start": "2817720",
    "end": "2823180"
  },
  {
    "text": "of the survey data that's attached to it right and that's one of the main wins of of Kafka right is that this data is",
    "start": "2823180",
    "end": "2829839"
  },
  {
    "text": "persisted so that any number of Downstream applications can access it and make use of it in different ways you",
    "start": "2829839",
    "end": "2835780"
  },
  {
    "text": "know having that data product so we're going to extract these respondents again we're going to create a stream and",
    "start": "2835780",
    "end": "2842619"
  },
  {
    "text": "I'm just going to use a select statement to select the subset of fields that are actually relevant to me it for the",
    "start": "2842619",
    "end": "2848140"
  },
  {
    "text": "respondents topic right and these are the same ones that we um we wrote up in that original schema as well",
    "start": "2848140",
    "end": "2856119"
  },
  {
    "text": "okay um so first thing to note here is that we are creating another stream here",
    "start": "2856119",
    "end": "2863140"
  },
  {
    "text": "um we are giving it a useful name we are going to specify which topic we want to store this data in now right the first",
    "start": "2863140",
    "end": "2869920"
  },
  {
    "text": "time we did this it said this is the topic we're going to get the data out of but this one we're going to store the data back to the survey respondents we",
    "start": "2869920",
    "end": "2876400"
  },
  {
    "text": "specify the Avro format of the value format again and then we're doing that select so if I",
    "start": "2876400",
    "end": "2882520"
  },
  {
    "text": "just took this select statement and executed it in K sqldb it's going to execute this on all the data we have in",
    "start": "2882520",
    "end": "2890319"
  },
  {
    "text": "the topic right now and then it's going to stop that's cool for debugging purposes but",
    "start": "2890319",
    "end": "2896079"
  },
  {
    "text": "that's very not useful in my case because these survey entries are going to continue to flow in right and every time a new one comes in I want this to",
    "start": "2896079",
    "end": "2902859"
  },
  {
    "text": "be executed I want to extract this data okay so what we're going to do is we are going to add emit changes at the end and",
    "start": "2902859",
    "end": "2910180"
  },
  {
    "text": "so what this means is that every time a new piece of information flows in on that incoming topic we're going to",
    "start": "2910180",
    "end": "2915280"
  },
  {
    "text": "execute this and we're going to take the result and it's going to be appended to that create streams right it's going to be appended",
    "start": "2915280",
    "end": "2921760"
  },
  {
    "text": "to that survey respondents stream for us and this is called a push query this is contrasted with a pull query where we're",
    "start": "2921760",
    "end": "2928119"
  },
  {
    "text": "just you know like I said executing that select statement and getting what we currently have",
    "start": "2928119",
    "end": "2933160"
  },
  {
    "start": "2933000",
    "end": "2952000"
  },
  {
    "text": "all right we're going to do the same thing with the survey responses data I'm just selecting a subset of the fields",
    "start": "2933160",
    "end": "2938619"
  },
  {
    "text": "that I need so in this case we have selected the respondents we've selected the responses and now they're available",
    "start": "2938619",
    "end": "2946060"
  },
  {
    "text": "within this K sqldb application what else do we need though well we need the survey questions right",
    "start": "2946060",
    "end": "2953619"
  },
  {
    "start": "2952000",
    "end": "3017000"
  },
  {
    "text": "so this is the last data set that we actually need to bring into the application for the last few data sets",
    "start": "2953619",
    "end": "2958720"
  },
  {
    "text": "we used uh create stream statement because every event was potentially relevant in the case of the survey questions",
    "start": "2958720",
    "end": "2964780"
  },
  {
    "text": "though right it's built on top of a compact topic right so we're already intermittently sort of compacting that",
    "start": "2964780",
    "end": "2970180"
  },
  {
    "text": "data and only keeping the latest value but I really want to ensure that we only have the latest value right in case that",
    "start": "2970180",
    "end": "2975400"
  },
  {
    "text": "enable flag is turned off and I want to include that or maybe I've updated some of the values as part of the survey so",
    "start": "2975400",
    "end": "2981520"
  },
  {
    "text": "we're going to use a table here okay so again because we have this average",
    "start": "2981520",
    "end": "2987640"
  },
  {
    "text": "schema back in this topic I don't have to specify any of the fields aha but I have an ID there right so tables need to",
    "start": "2987640",
    "end": "2994720"
  },
  {
    "text": "know which ID which key is going to be you know used for this table right so",
    "start": "2994720",
    "end": "3000599"
  },
  {
    "text": "you just have to specify one of the fields so it knows which one is going to be overwritten right with the values all",
    "start": "3000599",
    "end": "3007560"
  },
  {
    "text": "right so between the create table and create stream statement not really any",
    "start": "3007560",
    "end": "3012599"
  },
  {
    "text": "differences we've point to the topic where this data is and the value format great cool all right All That Remains to",
    "start": "3012599",
    "end": "3019079"
  },
  {
    "start": "3017000",
    "end": "3065000"
  },
  {
    "text": "be done is actually analyze this right let's do something useful with this data okay um and really only the only thing I was",
    "start": "3019079",
    "end": "3025079"
  },
  {
    "text": "interested in was the aggregate of this information right I want to know how many people are voting for each of these options and K SQL DB makes this pretty",
    "start": "3025079",
    "end": "3031859"
  },
  {
    "text": "easy with the histogram function it's built in so all I'm doing here is I'm selecting the question and grouping by",
    "start": "3031859",
    "end": "3037980"
  },
  {
    "text": "that and then I'm creating a histogram of the responses again we're doing emit changes",
    "start": "3037980",
    "end": "3044339"
  },
  {
    "text": "so that every time a new survey entry comes in we're going to build a new histogram and we're going to Output it",
    "start": "3044339",
    "end": "3050579"
  },
  {
    "text": "to this create table this table survey results live it is a table so it is",
    "start": "3050579",
    "end": "3055800"
  },
  {
    "text": "going to overwrite that key you know for that survey question uh after a little",
    "start": "3055800",
    "end": "3060839"
  },
  {
    "text": "bit of time but we are going to get all of the results here okay",
    "start": "3060839",
    "end": "3066359"
  },
  {
    "start": "3065000",
    "end": "3084000"
  },
  {
    "text": "so this is an example of the output that I would see as these results were flowing in so you see the first one we",
    "start": "3066359",
    "end": "3072660"
  },
  {
    "text": "had one one and three then we had a new one come in a vote for apple pie that's going to be updated then we had someone vote for pumpkin pie and so on and so",
    "start": "3072660",
    "end": "3079079"
  },
  {
    "text": "forth right so I'm going to see all of these partial responses in this way",
    "start": "3079079",
    "end": "3084480"
  },
  {
    "start": "3084000",
    "end": "3113000"
  },
  {
    "text": "but what if I didn't care about that Botanica we spent the whole time talking about real-time results well you know I",
    "start": "3084480",
    "end": "3089579"
  },
  {
    "text": "don't want this alert on my phone every uh every time someone takes a survey um so there's there's being reasonable",
    "start": "3089579",
    "end": "3096119"
  },
  {
    "text": "and capturing all the data and then there's you know saving space on my phone anyway so",
    "start": "3096119",
    "end": "3101339"
  },
  {
    "text": "um so here's again that survey or this the sequel that we executed for this so what if I only want to see these",
    "start": "3101339",
    "end": "3108300"
  },
  {
    "text": "results at the end of a very artificial unreasonable two-day deadline that I give my friends well easy you can add",
    "start": "3108300",
    "end": "3115079"
  },
  {
    "start": "3113000",
    "end": "3176000"
  },
  {
    "text": "two lines to this the first is we're going to define a tumbling window so a non-overlapping window of 48 hours we're",
    "start": "3115079",
    "end": "3120900"
  },
  {
    "text": "going to give them 10 extra minutes just for late events right so now when these",
    "start": "3120900",
    "end": "3125940"
  },
  {
    "text": "events flow in when these surveys flow in the first thing we're going to do is group it within this window based on the",
    "start": "3125940",
    "end": "3131160"
  },
  {
    "text": "time stamp of when that event was taken survey was taken and then we're going to",
    "start": "3131160",
    "end": "3136260"
  },
  {
    "text": "start running executing that histogram within that window so that State's only going to be valid for that 48 hour",
    "start": "3136260",
    "end": "3141839"
  },
  {
    "text": "period okay and then instead of using emit changes right submit changes every time",
    "start": "3141839",
    "end": "3148319"
  },
  {
    "text": "something comes in we're still going to get those partial results I'm going to use a mid final which says wait until",
    "start": "3148319",
    "end": "3153420"
  },
  {
    "text": "the window closes before you give me the final result okay so I can have both of these running",
    "start": "3153420",
    "end": "3159059"
  },
  {
    "text": "both of these SQL statements running I can get that real-time output of that information but for the purposes of",
    "start": "3159059",
    "end": "3165000"
  },
  {
    "text": "sending this information directly to my phone and getting my final shopping list of what I actually need to go get at the",
    "start": "3165000",
    "end": "3170160"
  },
  {
    "text": "store I'm going to use this final statement to know when that survey window has finally closed",
    "start": "3170160",
    "end": "3177420"
  },
  {
    "start": "3176000",
    "end": "3318000"
  },
  {
    "text": "and you might be saying to yourself oh that's great the data's in Kafka but the date is in Kafka and I need it in the real world in my phone",
    "start": "3177420",
    "end": "3183680"
  },
  {
    "text": "so let's migrate it out I mentioned earlier this thing called Costco connect",
    "start": "3183680",
    "end": "3188880"
  },
  {
    "text": "which is a really good way to move data in and out of Kafka to different data",
    "start": "3188880",
    "end": "3194099"
  },
  {
    "text": "sources data syncs so think databases S3 elasticsearch wherever you want to move this data there's probably a Kafka",
    "start": "3194099",
    "end": "3200579"
  },
  {
    "text": "connector that exists already to help you do that and that's the cool thing is that these things are these connectors are pre-made in most cases unless you",
    "start": "3200579",
    "end": "3207960"
  },
  {
    "text": "have a you know an in-house sort of database that you want to use which you totally can write your own but because",
    "start": "3207960",
    "end": "3214140"
  },
  {
    "text": "they've already been written it's a configuration driven technology so you run Kafka connect alongside your Kafka",
    "start": "3214140",
    "end": "3219720"
  },
  {
    "text": "cluster um and then you set up a configuration to Define your Source connector or your sync connector to move data out and then",
    "start": "3219720",
    "end": "3227220"
  },
  {
    "text": "you hit the ground running right you're ready to go it's going to start moving that data for you okay a lot of these",
    "start": "3227220",
    "end": "3233040"
  },
  {
    "text": "connectors there's like 200 of them um and like 70 of them are available within conflict Cloud fully managed",
    "start": "3233040",
    "end": "3239040"
  },
  {
    "text": "meaning that you don't have to run your own Kafka connect cluster you just run it through conflict cloud and one of",
    "start": "3239040",
    "end": "3245400"
  },
  {
    "text": "those connectors is the HTTP sync connector so that one what you need is",
    "start": "3245400",
    "end": "3250740"
  },
  {
    "text": "an endpoint and then you can send data from any Kafka topic to that endpoint well let's get an end point well so with",
    "start": "3250740",
    "end": "3257819"
  },
  {
    "text": "the telegram API right I have that API key to authenticate my bot and I can use that to get the unique conversation ID",
    "start": "3257819",
    "end": "3264720"
  },
  {
    "text": "that I'm holding with my bot and with those two things together then I can build up an endpoint that will",
    "start": "3264720",
    "end": "3271440"
  },
  {
    "text": "send messages directly to that conversation all right so I can use that full endpoint use that in the",
    "start": "3271440",
    "end": "3277020"
  },
  {
    "text": "configuration for the sync connector point to the Kafka topic that I want to move the data from and once I bring this",
    "start": "3277020",
    "end": "3283200"
  },
  {
    "text": "up the data as these results are coming through on that topic they're going to be sent to my phone and this is the",
    "start": "3283200",
    "end": "3289500"
  },
  {
    "text": "message that I see it's just a bunch of emojis I wanted it to be kind of fun I did a little bit of finagling between",
    "start": "3289500",
    "end": "3295559"
  },
  {
    "text": "the um the survey results final topic and and this stage obviously but it's",
    "start": "3295559",
    "end": "3301079"
  },
  {
    "text": "pretty much the same data so as soon as this window closes and that result is emitted to the survey results final",
    "start": "3301079",
    "end": "3307559"
  },
  {
    "text": "topic the connector is going to pick that up and send this directly to my phone all right",
    "start": "3307559",
    "end": "3313680"
  },
  {
    "text": "um yeah and then in this case I made pumpkin pie and apple pie and most people were happy awesome all right so as a summary in",
    "start": "3313680",
    "end": "3320520"
  },
  {
    "start": "3318000",
    "end": "3386000"
  },
  {
    "text": "case you forgot we learned some things today I know it probably was hard to tell but you saw a couple cool things",
    "start": "3320520",
    "end": "3326339"
  },
  {
    "text": "with telegram um only one of you said you can use telegrams so I think the rest of you should play around with it it's kind of",
    "start": "3326339",
    "end": "3332160"
  },
  {
    "text": "fun um but we saw how to use hilogram as a producer right for people who don't care about Kafka or don't want to like leave",
    "start": "3332160",
    "end": "3339119"
  },
  {
    "text": "their phones for things that's a pretty nice way to move data into Kafka we saw a bit about stream processing",
    "start": "3339119",
    "end": "3344700"
  },
  {
    "text": "specifically what you could do with K SQL DB in a quick way you saw a glimpse of Kafka connect again to move that data",
    "start": "3344700",
    "end": "3351180"
  },
  {
    "text": "out of Kafka and back to my phone and just to really drive it home",
    "start": "3351180",
    "end": "3356940"
  },
  {
    "text": "every stream data pipeline that you would want to build with Kafka it's going to use some of these components right you need",
    "start": "3356940",
    "end": "3364020"
  },
  {
    "text": "a way to get data into Kafka you're either going to use Kafka connect as a source connector or you're going to use a producer you need to do stream",
    "start": "3364020",
    "end": "3369359"
  },
  {
    "text": "processing you're either going to use this case with the DB Kafka streams or the consumer producer API and to move",
    "start": "3369359",
    "end": "3374520"
  },
  {
    "text": "data out again you're going to use a connector or you're going to use a consumer API and you're going to do that again and again again and make",
    "start": "3374520",
    "end": "3379980"
  },
  {
    "text": "interesting things okay so really that was my gift to you you had some cool",
    "start": "3379980",
    "end": "3385079"
  },
  {
    "text": "tools at your disposal now and in case I do have a couple minutes left but let's",
    "start": "3385079",
    "end": "3391619"
  },
  {
    "start": "3386000",
    "end": "3526000"
  },
  {
    "text": "not forget the the important part of this why we're here at the end the final stage is actually baking something and",
    "start": "3391619",
    "end": "3397500"
  },
  {
    "text": "making a human happy all right if you want that recipe you will have to follow me on Twitter that's my Shameless plug",
    "start": "3397500",
    "end": "3402660"
  },
  {
    "text": "but the other cool thing let's talk about my backlog right what other cool things could we do with this to make",
    "start": "3402660",
    "end": "3408180"
  },
  {
    "text": "this a little more interesting right I'm so glad you asked so um",
    "start": "3408180",
    "end": "3413339"
  },
  {
    "text": "the first thing we could do is flesh out that telegram application right make it be useful as like I said an admin",
    "start": "3413339",
    "end": "3419520"
  },
  {
    "text": "console right so then I could issue surveys right for my phone and annoy people even more right",
    "start": "3419520",
    "end": "3425940"
  },
  {
    "text": "um an update maybe you know enable and disable these surveys to scan without logging in to do this I'd follow a",
    "start": "3425940",
    "end": "3431640"
  },
  {
    "text": "similar approach as we did with the uh the producer for you know the general conversation flow I would just add",
    "start": "3431640",
    "end": "3438059"
  },
  {
    "text": "another conversation within that I would authenticate that I am the actual user that serves as the admin that has access",
    "start": "3438059",
    "end": "3444180"
  },
  {
    "text": "to it so I'd validate my conversation ID capture the updates send it to Kafka",
    "start": "3444180",
    "end": "3451319"
  },
  {
    "text": "and then there's no stopping me right you know we could add a consumer to the main part of the telegram application",
    "start": "3451319",
    "end": "3457140"
  },
  {
    "text": "and then send these surveys directly back to my friends right um I could have that be you know a push model and just",
    "start": "3457140",
    "end": "3463140"
  },
  {
    "text": "annoy them every time I send a new one or I could have them actually uh decide to take a new survey",
    "start": "3463140",
    "end": "3469020"
  },
  {
    "text": "um and you know request what surveys are actually available before they take them right and so what that means surveys all",
    "start": "3469020",
    "end": "3474839"
  },
  {
    "text": "the time right not just pie but what should we have at the next dinner you know when are you available to hang out please talk to me you know",
    "start": "3474839",
    "end": "3481559"
  },
  {
    "text": "um so yeah just the fun will never end um I could also do something similar on the admin console Side Right add a",
    "start": "3481559",
    "end": "3488040"
  },
  {
    "text": "consumer to this component and so it wouldn't only be you know push analytics",
    "start": "3488040",
    "end": "3493800"
  },
  {
    "text": "right where I'm getting that message from the result of that Kafka connector but I could also request these analytics",
    "start": "3493800",
    "end": "3499260"
  },
  {
    "text": "right show me what the current response like the responses are the results are",
    "start": "3499260",
    "end": "3504839"
  },
  {
    "text": "for this survey and get that printed out as the admin right I could also give anyone access to those things so that",
    "start": "3504839",
    "end": "3511140"
  },
  {
    "text": "they if they're curious they can see the results of the current surveys right anyway just a couple more fun things",
    "start": "3511140",
    "end": "3517319"
  },
  {
    "text": "this is only the beginning truly like I said this is a framework this is a recipe of sorts a way for you to you",
    "start": "3517319",
    "end": "3523619"
  },
  {
    "text": "know use this as inspiration to have a little bit of fun with Kafka and one last final plug speaking of recipes so",
    "start": "3523619",
    "end": "3530400"
  },
  {
    "start": "3526000",
    "end": "3599000"
  },
  {
    "text": "because of the usefulness absolutely usefulness of you know survey",
    "start": "3530400",
    "end": "3535740"
  },
  {
    "text": "analysis in real time with Kafka I did adapt this presentation to something that we call stream processing use case",
    "start": "3535740",
    "end": "3541740"
  },
  {
    "text": "recipes that we have hosted on confluent developer which is our developer portal",
    "start": "3541740",
    "end": "3546960"
  },
  {
    "text": "so this is just one of dozens and dozens of these use cases that we have in they're fully launchable they're written",
    "start": "3546960",
    "end": "3553619"
  },
  {
    "text": "in case you go DB many of them written in Kafka streams as well so if you are",
    "start": "3553619",
    "end": "3558900"
  },
  {
    "text": "you know whatever industry they span so many Industries and use cases it's a cool place to go and just see what you",
    "start": "3558900",
    "end": "3565020"
  },
  {
    "text": "can do with Kafka because you might not even be aware of some of the cool use cases that you can cover with with real-time streaming so I encourage you",
    "start": "3565020",
    "end": "3571859"
  },
  {
    "text": "to take a look at those they're kind of fun if you're a learn by doing person this is exactly the place that you should go to learn more about Kafka and",
    "start": "3571859",
    "end": "3579180"
  },
  {
    "text": "with that here are my links I have a link back to this recipe if you want to take a look at it and The Wider",
    "start": "3579180",
    "end": "3585059"
  },
  {
    "text": "developer portal and then also some of my source code there as well so",
    "start": "3585059",
    "end": "3590400"
  },
  {
    "text": "all right we've got 10 seconds who has questions thank you I appreciate you being here",
    "start": "3590400",
    "end": "3598040"
  },
  {
    "text": "thanks",
    "start": "3598260",
    "end": "3600859"
  }
]