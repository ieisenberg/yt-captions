[
  {
    "start": "0",
    "end": "53000"
  },
  {
    "text": "yes good it's coming through the air awesome all right hello everyone hello",
    "start": "5530",
    "end": "11050"
  },
  {
    "text": "you awake awake coffee you got coffee morning tea something like that",
    "start": "11050",
    "end": "17789"
  },
  {
    "text": "all right so what we're going to be doing is running through the new build system out of curiosity just before I go too",
    "start": "17789",
    "end": "25000"
  },
  {
    "text": "far how many have played with the new build system kind of nun kind of nun excellent i'll",
    "start": "25000",
    "end": "33250"
  },
  {
    "text": "plan at the back well thank you for your support all right so introductions I'm Richard I",
    "start": "33250",
    "end": "40120"
  },
  {
    "text": "tweet there I have a site I do stuff visual studio alm MVP",
    "start": "40120",
    "end": "45300"
  },
  {
    "text": "general pain in the butt all that sort of thing but you don't really care about me what you care about is the content of",
    "start": "45300",
    "end": "51159"
  },
  {
    "text": "the talk so I'm just going to move straight on and here's what we going to run through we're going to go through",
    "start": "51159",
    "end": "56339"
  },
  {
    "start": "53000",
    "end": "58000"
  },
  {
    "text": "the howlin live team build why there's a new thing and I hit the button twice I",
    "start": "56339",
    "end": "61749"
  },
  {
    "start": "58000",
    "end": "62000"
  },
  {
    "text": "didn't mean to do that we're also going to look at custom tasks how we extend the build add new tasks to",
    "start": "61749",
    "end": "67479"
  },
  {
    "start": "62000",
    "end": "92000"
  },
  {
    "text": "the build and then we're going to look at a thing called sonar cube and how we can do integration of our build too so",
    "start": "67479",
    "end": "72579"
  },
  {
    "text": "no cube so it can track technical debt across builds and hopefully keep on top of our technical",
    "start": "72579",
    "end": "77950"
  },
  {
    "text": "debt avoid getting worse and if anything even during pull requests and stuff",
    "start": "77950",
    "end": "83350"
  },
  {
    "text": "monitor that so that we don't go backwards in terms of our code quality and maintainability which is kind of",
    "start": "83350",
    "end": "89259"
  },
  {
    "text": "cool I actually like that a lot so the Y the Y abbr team build",
    "start": "89259",
    "end": "95939"
  },
  {
    "start": "92000",
    "end": "96000"
  },
  {
    "text": "I'm a little bit echoey by the way there were some gaps in the old build",
    "start": "95939",
    "end": "103659"
  },
  {
    "start": "96000",
    "end": "148000"
  },
  {
    "text": "system who you've used the old build system worked I windows workflow based all that sort of thing have you ever",
    "start": "103659",
    "end": "108670"
  },
  {
    "text": "tried customizing that by the way and you're still alive so that's good so",
    "start": "108670",
    "end": "115210"
  },
  {
    "text": "there were some gaps there were some questions you might have had some of these questions anyone any of these seem",
    "start": "115210",
    "end": "120640"
  },
  {
    "text": "familiar to you guys at all cross-platform anyone tried doing cross platform before i actually did believe",
    "start": "120640",
    "end": "127329"
  },
  {
    "text": "it or not tried doing linux builds in the workflow system by using remote power shell and",
    "start": "127329",
    "end": "133019"
  },
  {
    "text": "ssh and other things and to say was painful",
    "start": "133019",
    "end": "138390"
  },
  {
    "text": "probably an understatement or the you know things like why do I need the current version of visual studio just to",
    "start": "138390",
    "end": "144150"
  },
  {
    "text": "build a definite change a build definition like what where'd I set of logs had I coverage in",
    "start": "144150",
    "end": "150300"
  },
  {
    "start": "148000",
    "end": "181000"
  },
  {
    "text": "there she have you seen as Amal definition anyone opened one up and",
    "start": "150300",
    "end": "155420"
  },
  {
    "text": "opened it up and then kept opening it up and kept opening it up and then opening it up add more and open up a bit more",
    "start": "155420",
    "end": "160530"
  },
  {
    "text": "and you get the idea keep your build agents up to date all those things and of course the main question",
    "start": "160530",
    "end": "167540"
  },
  {
    "text": "uh-huh so why is teamcity you so popular lately",
    "start": "168530",
    "end": "174560"
  },
  {
    "text": "exactly it's just a task runner you just kick it in you set the toss-up you do your thing it just works so",
    "start": "174560",
    "end": "183620"
  },
  {
    "start": "181000",
    "end": "239000"
  },
  {
    "text": "Microsoft saw that and they went you know what this really isn't working for us we're",
    "start": "183620",
    "end": "189630"
  },
  {
    "text": "going to go back to the drawing board we're going to take the lessons that we've learned from looking what the competition's doing and we're going to",
    "start": "189630",
    "end": "195330"
  },
  {
    "text": "kill the old bill definitions and the build approach and introduce a new build approach that is effectively like",
    "start": "195330",
    "end": "201720"
  },
  {
    "text": "teamcity in some respects it's not a direct clone of these thing those concepts of how do I just do task",
    "start": "201720",
    "end": "207959"
  },
  {
    "text": "running and go from there the mechanism itself is then what they end up using",
    "start": "207959",
    "end": "213450"
  },
  {
    "text": "for the release management so who's played with the release management as well now anyone so release pipelines",
    "start": "213450",
    "end": "219450"
  },
  {
    "text": "write a CI CD pipeline these days is effectively just a sequence of tasks that get executed",
    "start": "219450",
    "end": "225290"
  },
  {
    "text": "team build is the build part of that the continuous integration part and the release management is the deployment",
    "start": "225290",
    "end": "231600"
  },
  {
    "text": "part they work on the same approach you have some tasks you run them you put them in an order step step step fairly",
    "start": "231600",
    "end": "238680"
  },
  {
    "text": "straightforward so the new build system as you can see now has a whole bunch of these different",
    "start": "238680",
    "end": "243690"
  },
  {
    "start": "239000",
    "end": "274000"
  },
  {
    "text": "tasks we have you know Android builds Xcode build we've got shell scripts and",
    "start": "243690",
    "end": "250380"
  },
  {
    "text": "command scripts and everything else no more zamel yes no dependencies on ms build",
    "start": "250380",
    "end": "258500"
  },
  {
    "text": "genuinely cross-platform these tasks will run either PowerShell jobs or node jobs on the various platforms so windows",
    "start": "258500",
    "end": "266280"
  },
  {
    "text": "you're generally looking at PowerShell and on Linux and Mac OS all that sort of stuff we're looking at",
    "start": "266280",
    "end": "272460"
  },
  {
    "text": "no Jas and we just go from there so quick run through the build system for",
    "start": "272460",
    "end": "278610"
  },
  {
    "start": "274000",
    "end": "280000"
  },
  {
    "text": "those who haven't seen it before I'm just going to jump over here here's our build view so this is a VST s hosted",
    "start": "278610",
    "end": "285330"
  },
  {
    "start": "280000",
    "end": "385000"
  },
  {
    "text": "project you'll see this is slightly different than what you'd be used to you",
    "start": "285330",
    "end": "291410"
  },
  {
    "text": "put my teeth back in you'd be used to probably the build Explorer view which is this view here let's go",
    "start": "291410",
    "end": "299240"
  },
  {
    "text": "don't Wi-Fi there we go come on phone you can do it",
    "start": "299240",
    "end": "306080"
  },
  {
    "text": "with our list of builds and everything else and you go into Visual Studio you see the build Explorer etc etc",
    "start": "306080",
    "end": "313490"
  },
  {
    "text": "what we're seeing now is probably more let's go a",
    "start": "313490",
    "end": "321110"
  },
  {
    "text": "more dashboard based view of things so these are the builds that I personally triggered so they come up under my list",
    "start": "321110",
    "end": "327660"
  },
  {
    "text": "but I could look at all the definitions and I could look at the old zamel builds as well so vsti still supports those old",
    "start": "327660",
    "end": "332910"
  },
  {
    "text": "ones and I can see these builds have happened the continuous integration build an admin project at github build",
    "start": "332910",
    "end": "339140"
  },
  {
    "text": "yes I can build github code Envy sts which is cool",
    "start": "339140",
    "end": "344630"
  },
  {
    "text": "and i can see the success rate of these things how they've been going is this build healthy is it having problems",
    "start": "344630",
    "end": "351890"
  },
  {
    "text": "all that sort of stuff the usual things if i want to trigger",
    "start": "351890",
    "end": "357120"
  },
  {
    "text": "one of these i simply go in queue and you build as you do and i will just hit the magic button hit",
    "start": "357120",
    "end": "366630"
  },
  {
    "text": "okay and we now go into the build view which is going to be executing the various steps that i've set up",
    "start": "366630",
    "end": "374270"
  },
  {
    "text": "and the joys of doing this on slow network i think the fact that we're",
    "start": "374840",
    "end": "380280"
  },
  {
    "text": "inside a big concrete box slide down my 4G connection a little bit so you can see here it's doing the run",
    "start": "380280",
    "end": "386760"
  },
  {
    "start": "385000",
    "end": "411000"
  },
  {
    "text": "and we're going to now see the live console so if you haven't seen this before this is kind of cool I'm actually getting logs straight off the build",
    "start": "386760",
    "end": "393360"
  },
  {
    "text": "server this is the hosted build controller and we're getting a live feed of what it's doing so we're restoring the nuget packages we're doing whatever",
    "start": "393360",
    "end": "400620"
  },
  {
    "text": "else it is that we need to do we've got the build configured to do which is great so I'm going to let that",
    "start": "400620",
    "end": "407689"
  },
  {
    "text": "run that will finish we'll have a look at the build log in a minute if I go back to the build definition itself",
    "start": "407689",
    "end": "414310"
  },
  {
    "text": "and edit it so here I've got a specific",
    "start": "414310",
    "end": "419779"
  },
  {
    "text": "build the summary of what's been happening we can see the various history of this build over",
    "start": "419779",
    "end": "425210"
  },
  {
    "text": "the last nine builds they've all been successful for example so we're getting these dashboarding views of our build health I'm going to go heap edits",
    "start": "425210",
    "end": "433330"
  },
  {
    "text": "and we can see then the steps",
    "start": "433330",
    "end": "438400"
  },
  {
    "text": "any second now to actually click it there we go little spinner spins and",
    "start": "439960",
    "end": "447550"
  },
  {
    "text": "and and and there's my steps okay now i'm not",
    "start": "447550",
    "end": "455779"
  },
  {
    "start": "452000",
    "end": "479000"
  },
  {
    "text": "going to bother clicking a plus because i'm sure you know how to hit it plus to add a step but the key with all these",
    "start": "455779",
    "end": "461539"
  },
  {
    "text": "steps is they have parameters to them these parameters grouped in terms of building custom task",
    "start": "461539",
    "end": "468229"
  },
  {
    "text": "later we'll show you how to do some of that variables as before dollar variable name",
    "start": "468229",
    "end": "476330"
  },
  {
    "text": "in a bracket those variables come from the variables for the build these can be",
    "start": "476330",
    "end": "482960"
  },
  {
    "text": "overridden that cute i'm so i could say i don't want to build the debug and release one I wanted to build just debug",
    "start": "482960",
    "end": "487969"
  },
  {
    "text": "for example I could change that we have the usual things like the repository to connect to so this is a",
    "start": "487969",
    "end": "494089"
  },
  {
    "text": "git repository on the STS but I could quite easily talk to github or an",
    "start": "494089",
    "end": "499099"
  },
  {
    "text": "external get provider like a a bit bucket if I use them or subversion",
    "start": "499099",
    "end": "505460"
  },
  {
    "text": "builds even tfpc as well all that sort of stuff is in there and I can then pick",
    "start": "505460",
    "end": "512089"
  },
  {
    "text": "that up in and compile you'll note here this little flag report build status this is kind of cool what this does this",
    "start": "512089",
    "end": "519649"
  },
  {
    "text": "puts a little icon here in my sort in the code view that says what's the state",
    "start": "519649",
    "end": "524959"
  },
  {
    "text": "of the build for this branch so if I hit f5 while this builds running I should see that it's pending because there's a",
    "start": "524959",
    "end": "531829"
  },
  {
    "text": "build currently in progress and when that succeeds I get the little green tick if it fails like at the big red X",
    "start": "531829",
    "end": "536840"
  },
  {
    "text": "as I suck and as a dev be how to jump in and see",
    "start": "536840",
    "end": "541910"
  },
  {
    "text": "the health of a branch is good if I go to a different branch which doesn't have a build attached to it I won't have a",
    "start": "541910",
    "end": "547370"
  },
  {
    "text": "little indicator sitting over here okay so it's not going to show me the health of code that's not currently under build",
    "start": "547370",
    "end": "554270"
  },
  {
    "text": "which is good so it's still pending I also have",
    "start": "554270",
    "end": "560560"
  },
  {
    "text": "in general as this thing badge enabled which is a similar concept but let's say",
    "start": "560560",
    "end": "565580"
  },
  {
    "text": "I'm doing a github build so I have this same code over here in github and you can see that this build is failed the",
    "start": "565580",
    "end": "572840"
  },
  {
    "text": "little build things you've seen these on github projects i'm sure this is a really easy way to get one of those in",
    "start": "572840",
    "end": "578360"
  },
  {
    "text": "there you simply turn on the flag it gives you a URL you pop that into your markdown file on github and then it just",
    "start": "578360",
    "end": "584480"
  },
  {
    "text": "renders the current state of the build which is like nice nice",
    "start": "584480",
    "end": "589930"
  },
  {
    "text": "or you could put it into your wiki for example as well let's save got an internal wiki or something like that",
    "start": "589930",
    "end": "595130"
  },
  {
    "text": "that renders marked down or just renders images because it's just an image you can put that somewhere and have the",
    "start": "595130",
    "end": "601040"
  },
  {
    "text": "current build status sitting there all the time so you've got these badges that show current state of the bill which is cool",
    "start": "601040",
    "end": "607630"
  },
  {
    "text": "you'll see other things in here so on the general tab there you can see that",
    "start": "607630",
    "end": "612910"
  },
  {
    "text": "we have demands this build has based on the steps that it has has certain",
    "start": "612910",
    "end": "619070"
  },
  {
    "text": "demands on the bill dejan that it's going to run on it says I need to be a machine that has ms build on it Visual",
    "start": "619070",
    "end": "624710"
  },
  {
    "text": "Studio MV sts if I was doing Xcode I'd want something that supports that or if",
    "start": "624710",
    "end": "630140"
  },
  {
    "text": "I have to do NPM or if I have to do you know grade or whatever else these are going to be different demands and these",
    "start": "630140",
    "end": "636740"
  },
  {
    "text": "are picked up by the agents which will look at soon and the other thing just to be aware of is there's history so every",
    "start": "636740",
    "end": "642500"
  },
  {
    "text": "time I change these builds I now have version control bill definitions which you don't have with the sam'l builds so",
    "start": "642500",
    "end": "649730"
  },
  {
    "text": "when you change the build and build suddenly broke you don't know who changed it what you changed and inside of workflow definition if you change one",
    "start": "649730",
    "end": "657020"
  },
  {
    "text": "thing and you get it wrong oh yeah it's not much fun and as you would",
    "start": "657020",
    "end": "664070"
  },
  {
    "text": "expect you know triggers and all those sort of things as before key thing to note that you can do pass",
    "start": "664070",
    "end": "670130"
  },
  {
    "text": "filter so while you can do a trigger on a git branch you can also filter down on",
    "start": "670130",
    "end": "676670"
  },
  {
    "text": "that so if the branches checked in but you're only interested in a follow three levels deep or something like that",
    "start": "676670",
    "end": "682210"
  },
  {
    "text": "because you've got maybe artifacts and you don't care about them or whatever else then you can filter your builds get",
    "start": "682210",
    "end": "688940"
  },
  {
    "text": "a little bit more specific about what's going on all right so that build hopefully is ticking along let's have a",
    "start": "688940",
    "end": "695270"
  },
  {
    "text": "quick look at the summary jump back to the summary view and no builds q that builds succeeded the",
    "start": "695270",
    "end": "702920"
  },
  {
    "text": "one we triggered before so we'll just have a quick look at the summary view which is nice i like this view",
    "start": "702920",
    "end": "709180"
  },
  {
    "start": "709000",
    "end": "855000"
  },
  {
    "text": "so there's my builds there's the steps that occurred the bill was successful and I now have a view as to what's going",
    "start": "709180",
    "end": "717410"
  },
  {
    "text": "on so you can see see that their little animation as well just for fun if it's got an animation",
    "start": "717410",
    "end": "724280"
  },
  {
    "text": "it's got to be good so this build has a hole for test its",
    "start": "724280",
    "end": "730010"
  },
  {
    "text": "massive obviously he's got a huge coverage but at least they pass hey and I could",
    "start": "730010",
    "end": "738980"
  },
  {
    "text": "see code coverage if I had it turned on i can see any information any warnings coming out of the build if i had a",
    "start": "738980",
    "end": "745490"
  },
  {
    "text": "deployment tagged onto this i could create a release of this links through to release management so i can see which",
    "start": "745490",
    "end": "750560"
  },
  {
    "text": "builds have been pushed to which environments which is good so we get that full C icd pipeline going on I'm not going to deal with release today too",
    "start": "750560",
    "end": "757430"
  },
  {
    "text": "much other than the occasional mention work items change sets etc we also have",
    "start": "757430",
    "end": "764780"
  },
  {
    "text": "because I'm running tests we can have these extra view so this is the test hub or the test tab I should say in the",
    "start": "764780",
    "end": "771590"
  },
  {
    "text": "build results and the summary if you write your own custom tasks you might",
    "start": "771590",
    "end": "777080"
  },
  {
    "text": "want a different view in here using information that's been recorded you can",
    "start": "777080",
    "end": "782270"
  },
  {
    "text": "extend these views you can add your own tasks tabs own tabs into the summary",
    "start": "782270",
    "end": "788300"
  },
  {
    "text": "here without a problem through extensions so if you don't know what you might be doing but if you want to do",
    "start": "788300",
    "end": "794420"
  },
  {
    "text": "something around that you could put it in there without a problem so that's how this is actually implemented the test",
    "start": "794420",
    "end": "799460"
  },
  {
    "text": "tab here is actually an extension yes",
    "start": "799460",
    "end": "803900"
  },
  {
    "text": "yep whatever you like in units just another task or running it's the best test run",
    "start": "806269",
    "end": "813389"
  },
  {
    "text": "right so end unit because it's supported by vs test just run it through that where you go if you want to do j unit",
    "start": "813389",
    "end": "819959"
  },
  {
    "text": "test or something like that let's say you had some java code you can push those in as well so that the j unit",
    "start": "819959",
    "end": "825839"
  },
  {
    "text": "tasks will do whatever it needs to to push stuff in and",
    "start": "825839",
    "end": "832220"
  },
  {
    "text": "here at the moment only showing failed ones if i switch this over to past you'll see there's might our tests etc",
    "start": "832220",
    "end": "840750"
  },
  {
    "text": "so i've got those different views of what's going on nice alright so that's the build fairly",
    "start": "840750",
    "end": "848519"
  },
  {
    "text": "straightforward in terms of executing running them adding tasks and so forth",
    "start": "848519",
    "end": "854689"
  },
  {
    "text": "it's nice it's nice to support this the team made some",
    "start": "854689",
    "end": "861029"
  },
  {
    "start": "855000",
    "end": "864000"
  },
  {
    "text": "architectural changes that are important to know if you're coming from the old one through to the new one or just in general so firstly the old build system",
    "start": "861029",
    "end": "868050"
  },
  {
    "start": "864000",
    "end": "966000"
  },
  {
    "text": "required a controller so if you had an on-premise TFS server you'd have to run a controller which then talk to agents",
    "start": "868050",
    "end": "873720"
  },
  {
    "text": "and so bill would trigger it will pass a message to the controller the controller would figure out which agent to run it on and handle all that for you the",
    "start": "873720",
    "end": "881009"
  },
  {
    "text": "control is gone no separate controller process which is great turns out that agents now",
    "start": "881009",
    "end": "888300"
  },
  {
    "text": "registers directly with the deployment level theme which basically means your",
    "start": "888300",
    "end": "893430"
  },
  {
    "text": "on-premise TFS server or VST s at the account level so that's what we're",
    "start": "893430",
    "end": "898829"
  },
  {
    "text": "talking about when we say deployment level and the collections talk to those",
    "start": "898829",
    "end": "904879"
  },
  {
    "text": "agents themselves are pooled so you don't directly address an agent you address an agent pool and agents",
    "start": "904879",
    "end": "910439"
  },
  {
    "text": "register themselves in a pool and then we go from there and the good thing with",
    "start": "910439",
    "end": "915720"
  },
  {
    "text": "those agents is once they're installed they actually update themselves automatically so you don't have to worry about keeping these things up to date as",
    "start": "915720",
    "end": "922110"
  },
  {
    "text": "new versions occur or a release they simply go and grab themselves self update restart themselves",
    "start": "922110",
    "end": "930139"
  },
  {
    "text": "very nice so from a management perspective really easy so if you end up running a large build farm",
    "start": "930139",
    "end": "937310"
  },
  {
    "text": "that's really important and Microsoft dog food at a lot of this themselves",
    "start": "937310",
    "end": "942470"
  },
  {
    "text": "they run a couple of hundred build servers",
    "start": "942470",
    "end": "948320"
  },
  {
    "text": "managing all those was a bit painful for them so they fix the pain I don't know",
    "start": "949100",
    "end": "955080"
  },
  {
    "text": "how many build agents or serve as you run but I don't run a hundred I don't run even ten normally most people will",
    "start": "955080",
    "end": "961980"
  },
  {
    "text": "run one and maybe one agent but architectural e what we see now is",
    "start": "961980",
    "end": "968820"
  },
  {
    "start": "966000",
    "end": "1058000"
  },
  {
    "text": "this that agents are doing the work agents execute tasks those tasks get downloaded to the agents and run from",
    "start": "968820",
    "end": "975660"
  },
  {
    "text": "there as you version or update those tasks they'll come down automatically and",
    "start": "975660",
    "end": "981680"
  },
  {
    "text": "those agents will either do build tasks or release tasks it's not a problem they're just agents they execute things",
    "start": "981680",
    "end": "989060"
  },
  {
    "text": "the agents get pulled as I mentioned and in a team project collection we create",
    "start": "989060",
    "end": "994680"
  },
  {
    "text": "cues that point to those pools so there's a one-to-one mapping of a cue within a team project collection to an",
    "start": "994680",
    "end": "1001010"
  },
  {
    "text": "agent pool and then the jobs that executes whether it's a build job or at least job simply run in those cues they",
    "start": "1001010",
    "end": "1007130"
  },
  {
    "text": "get queued up and executed away we go nice turns out that the agents themselves",
    "start": "1007130",
    "end": "1013460"
  },
  {
    "text": "they're actually two versions at this point in time the original versions were a dotnet",
    "start": "1013460",
    "end": "1021170"
  },
  {
    "text": "version running on windows and a nodejs version running cross platform so",
    "start": "1021170",
    "end": "1026689"
  },
  {
    "text": "running on the mac or the linux boxes they still exist they're still usable no",
    "start": "1026690",
    "end": "1033230"
  },
  {
    "text": "problem at all however we've done that core coming out the team's done the smart thing",
    "start": "1033230",
    "end": "1039040"
  },
  {
    "text": "consolidated the code and now has a dotnet core-based build agent so the one code will run across all you know all",
    "start": "1039040",
    "end": "1046160"
  },
  {
    "text": "the different platforms so it makes it much easier for the team to maintain it also makes it much easier for us",
    "start": "1046160",
    "end": "1051530"
  },
  {
    "text": "deploying things to go well I don't care what version i'm just going to take the agent and push it to the machine where",
    "start": "1051530",
    "end": "1057140"
  },
  {
    "text": "we go so we'll see that in a second as well a few other things to be aware of there were some security gaps in the old",
    "start": "1057140",
    "end": "1063140"
  },
  {
    "start": "1058000",
    "end": "1121000"
  },
  {
    "text": "system the old approach so each build now runs in its own separate process",
    "start": "1063140",
    "end": "1068270"
  },
  {
    "text": "that means if you've ever the situation where a builder's hung and locked files and you've had to log on to the build",
    "start": "1068270",
    "end": "1074360"
  },
  {
    "text": "server and try and release the files and you've done this just me it's just me",
    "start": "1074360",
    "end": "1081309"
  },
  {
    "text": "that's not there anymore if a build hangs in you kill it because it's out of",
    "start": "1081309",
    "end": "1086330"
  },
  {
    "text": "process those that process disappears the locks get released end of story happy days",
    "start": "1086330",
    "end": "1091659"
  },
  {
    "text": "each build is also now given a time and scope limited access token so previously",
    "start": "1091659",
    "end": "1097730"
  },
  {
    "text": "the bill would run under full permissions that doesn't happen anymore so that means a naughty developer",
    "start": "1097730",
    "end": "1103400"
  },
  {
    "text": "doesn't get to write a unit task to execute something and does something evil on the TFS box or the VSP s account",
    "start": "1103400",
    "end": "1110890"
  },
  {
    "text": "and we now have restrictions around that not that that would ever happen right",
    "start": "1110890",
    "end": "1116530"
  },
  {
    "text": "never happens no dad's ever do naughty things where's Troy stalk",
    "start": "1116530",
    "end": "1123400"
  },
  {
    "text": "alright so let's have a look at agents very quickly so the idea with agents if i go into",
    "start": "1123400",
    "end": "1132220"
  },
  {
    "start": "1127000",
    "end": "1490000"
  },
  {
    "text": "admin over here to start off with",
    "start": "1132220",
    "end": "1137590"
  },
  {
    "text": "all right and I go to agent queues you will see that in this particular team",
    "start": "1139150",
    "end": "1144530"
  },
  {
    "text": "project i have AQ 2 q's one of them is pointing to the hosted build controller",
    "start": "1144530",
    "end": "1150500"
  },
  {
    "text": "or the build services hosted agent and the other one is might what I've called the creatively named default queue for",
    "start": "1150500",
    "end": "1158450"
  },
  {
    "text": "my my on-premise build server which is actually my laptop actually not this one this is a V nevermind different setup",
    "start": "1158450",
    "end": "1165559"
  },
  {
    "text": "doesn't matter it's a machine the default queue has two agents in it",
    "start": "1165559",
    "end": "1171010"
  },
  {
    "text": "creatively named RV build now be billed to and you can see what's happened that",
    "start": "1171010",
    "end": "1177590"
  },
  {
    "text": "each agent we can see has run that run has run two builds this one's run three the host of one where I normally run",
    "start": "1177590",
    "end": "1183770"
  },
  {
    "text": "things has run a lot more the hosted agent green it's currently available at",
    "start": "1183770",
    "end": "1189409"
  },
  {
    "text": "the moment my default queue has no available agents they both stopped we will fix that in a second you'll see",
    "start": "1189409",
    "end": "1196880"
  },
  {
    "text": "here if I want to set up a new agent I simply download the software I hit download",
    "start": "1196880",
    "end": "1203300"
  },
  {
    "text": "and you'll see now we have windows OSX and Linux and we have windows legacy",
    "start": "1203300",
    "end": "1208860"
  },
  {
    "text": "this is the old dotnet one that's the bring it down install it this is now the new dotnet core stuff so to download it",
    "start": "1208860",
    "end": "1216120"
  },
  {
    "text": "you can either just download it yourself or you can use a little bit of PowerShell this is simply doing a zip so",
    "start": "1216120",
    "end": "1221790"
  },
  {
    "text": "you can see it's a zip file there extracts it to the current directory PWD current working directory",
    "start": "1221790",
    "end": "1227660"
  },
  {
    "text": "and then we run config and run config simply connects it up to the your",
    "start": "1227660",
    "end": "1234200"
  },
  {
    "text": "deployment so your TFS server or UV STS account connect that up using a personal access",
    "start": "1234200",
    "end": "1241650"
  },
  {
    "text": "token have you seen these by the way personal access tokens nope okay so very quickly let me just go here I'll just",
    "start": "1241650",
    "end": "1250190"
  },
  {
    "text": "under here if you go security under your account you'll see these personal access tokens",
    "start": "1250190",
    "end": "1256590"
  },
  {
    "text": "I've created one for this agent for example this creates a one-time key you've got to copy it down and remember",
    "start": "1256590",
    "end": "1262470"
  },
  {
    "text": "it because after that the UI never shows it and then you can use that token to",
    "start": "1262470",
    "end": "1268560"
  },
  {
    "text": "connect up your agent so if you change your password the token stays the same and your agent doesn't suddenly stop",
    "start": "1268560",
    "end": "1274640"
  },
  {
    "text": "always handy you've never had that problem right someone has an account password someone changes it",
    "start": "1274640",
    "end": "1281300"
  },
  {
    "text": "oops everything broke never happens never",
    "start": "1281300",
    "end": "1286670"
  },
  {
    "text": "these keys themselves have scope restrictions on them the only",
    "start": "1286670",
    "end": "1292920"
  },
  {
    "text": "one you need for an agent is this one here that says agent pools that's it so",
    "start": "1292920",
    "end": "1298080"
  },
  {
    "text": "I don't need to give my agent permissions to do code",
    "start": "1298080",
    "end": "1303320"
  },
  {
    "text": "load tests extension data I don't know whatever else managed projects push",
    "start": "1303320",
    "end": "1309900"
  },
  {
    "text": "stuff to the team room it doesn't need any of that stuff I",
    "start": "1309900",
    "end": "1314930"
  },
  {
    "text": "just need to have a token that says do that and this is valid for a year once it's expired if I want to fix that I",
    "start": "1314930",
    "end": "1321030"
  },
  {
    "text": "jump in here and I hit refresh I change it to expires in a year and whatever",
    "start": "1321030",
    "end": "1327930"
  },
  {
    "text": "else we go from there so that does probably bring up a short question which is should I run my builds",
    "start": "1327930",
    "end": "1334980"
  },
  {
    "text": "under my user account one else's trick question right still create a",
    "start": "1334980",
    "end": "1341460"
  },
  {
    "text": "service account for these things don't run that under your own because it will show up in the builds",
    "start": "1341460",
    "end": "1349320"
  },
  {
    "text": "you'll see it in the logs anyway so we download the agent if I'm running on Linux for example it's exactly the same",
    "start": "1349320",
    "end": "1357119"
  },
  {
    "text": "deal I download it we use tar in this case to unzip it and",
    "start": "1357119",
    "end": "1362989"
  },
  {
    "text": "based on screen res we do config again and we run it so you can see there's you",
    "start": "1362989",
    "end": "1369119"
  },
  {
    "text": "bunt to 16 Red Hat 7 whatever else there are the dotnet call supported platforms at this",
    "start": "1369119",
    "end": "1376139"
  },
  {
    "text": "point in time I would expect as don't knit core improves over time that that will extend I'm sure you can try running",
    "start": "1376139",
    "end": "1381929"
  },
  {
    "text": "it on something else like gen 2 or whatever else I just don't know if it's supported that's all",
    "start": "1381929",
    "end": "1387409"
  },
  {
    "text": "all good so I have one here I've prepared earlier",
    "start": "1387409",
    "end": "1393919"
  },
  {
    "text": "look at that screen res isn't that beautiful that's a 4k display getting mucked up",
    "start": "1393919",
    "end": "1401299"
  },
  {
    "text": "but you should be able to see here this is the agent I've done the config already i won't go through that again",
    "start": "1401299",
    "end": "1407129"
  },
  {
    "text": "I'm just simply going to do run command which is going to start the agent as you can see it's going to say I'm listening",
    "start": "1407129",
    "end": "1412679"
  },
  {
    "text": "for jobs so it's currently doing a scan of the machine to check the capabilities and it",
    "start": "1412679",
    "end": "1418980"
  },
  {
    "text": "will report that in the agent and then that's used by then VST s to figure",
    "start": "1418980",
    "end": "1425399"
  },
  {
    "text": "out what to push so if i go to my agent here and just hit refresh on this page you'll see that our be billed to is now",
    "start": "1425399",
    "end": "1431489"
  },
  {
    "text": "an active agent it should be green there it is because the agent has connected",
    "start": "1431489",
    "end": "1437009"
  },
  {
    "text": "it's got a current status and the capabilities in here are simply a list",
    "start": "1437009",
    "end": "1442590"
  },
  {
    "text": "of key value pairs so this says you know here's my capability i can run ms build",
    "start": "1442590",
    "end": "1449159"
  },
  {
    "text": "for example i can run down the bottom vs test for example so i have that capability if",
    "start": "1449159",
    "end": "1456210"
  },
  {
    "text": "i wanted to query the specific version of vs TS or the path or whatever the value happens to be i can do that in my",
    "start": "1456210",
    "end": "1462539"
  },
  {
    "text": "build as well ok so this is how you configure agents get them up and running it's very straightforward nice and easy",
    "start": "1462539",
    "end": "1469200"
  },
  {
    "text": "to deploy and can then run anyway so if you want to do your Mac builds or you need to do I OS development whatever else you",
    "start": "1469200",
    "end": "1476040"
  },
  {
    "text": "simply take your agent you put it on a local Mac because you have to compile obviously on those things hook it up to",
    "start": "1476040",
    "end": "1482700"
  },
  {
    "text": "your VST s instance and job done you've got yourself a build server ready to go",
    "start": "1482700",
    "end": "1488419"
  },
  {
    "text": "alright so moving through extensibility",
    "start": "1489140",
    "end": "1494660"
  },
  {
    "start": "1490000",
    "end": "1505000"
  },
  {
    "text": "I've never got to build i can run steps I've got agents I can deploy to I now want to do something a little unusual",
    "start": "1494660",
    "end": "1500520"
  },
  {
    "text": "because hey I'm me and I've always got something special I need to do so what's the approach the general",
    "start": "1500520",
    "end": "1508950"
  },
  {
    "start": "1505000",
    "end": "1565000"
  },
  {
    "text": "approach to extending a build and doing things that aren't in the normal step is and he's probably the preferred approach",
    "start": "1508950",
    "end": "1514050"
  },
  {
    "text": "is to run scripts scripts don't require you to build your",
    "start": "1514050",
    "end": "1519360"
  },
  {
    "text": "own custom tasks deploy them or anything like that you simply take a command script or a shell script or whatever",
    "start": "1519360",
    "end": "1525360"
  },
  {
    "text": "else put that in a task in your build step and execute it and a story and nine",
    "start": "1525360",
    "end": "1533700"
  },
  {
    "text": "times out of ten that will be sufficient probably ninety five times out of 100 to be honest where you want to think about custom",
    "start": "1533700",
    "end": "1540270"
  },
  {
    "text": "tasks are where you taking the same script than you're applying it to multiple builds multiple do build",
    "start": "1540270",
    "end": "1546000"
  },
  {
    "text": "definitions all doing exactly the same thing and you can parameterize that whatever else you might think about",
    "start": "1546000",
    "end": "1551100"
  },
  {
    "text": "doing it that way or you've got an overly complex set of things that you're doing and you want to do something",
    "start": "1551100",
    "end": "1557310"
  },
  {
    "text": "around that make a little easier to manage all your doing custom actions or whatever else it is that you want to do",
    "start": "1557310",
    "end": "1565340"
  },
  {
    "start": "1565000",
    "end": "1590000"
  },
  {
    "text": "there are reasons to do that what you should think about yep",
    "start": "1565340",
    "end": "1571280"
  },
  {
    "text": "yeah absolutely yeah it's just a script it's going to be running a script that's from source control so as long as it's",
    "start": "1579740",
    "end": "1586860"
  },
  {
    "text": "in source control you just point to the path away you go the thing to remember with any custom",
    "start": "1586860",
    "end": "1592670"
  },
  {
    "start": "1590000",
    "end": "1624000"
  },
  {
    "text": "task is it simply a tool runner it's going to run some sort of executable on",
    "start": "1592670",
    "end": "1597720"
  },
  {
    "text": "the machine to do a job so we'll look at one in a little bit but it the octopus",
    "start": "1597720",
    "end": "1605040"
  },
  {
    "text": "deploy one will look at that one just for fun it will run octo XE that's all",
    "start": "1605040",
    "end": "1610770"
  },
  {
    "text": "that's going to do it's fairly straightforward and those tasks as I mentioned either PowerShell or nodejs and we use a thing",
    "start": "1610770",
    "end": "1618420"
  },
  {
    "text": "called tfx cell I to do these things to manage those tasks so if i go back here",
    "start": "1618420",
    "end": "1624240"
  },
  {
    "start": "1624000",
    "end": "1730000"
  },
  {
    "text": "for a second very quickly and as you can see",
    "start": "1624240",
    "end": "1629420"
  },
  {
    "text": "screen res come on baby and [Music]",
    "start": "1629750",
    "end": "1635240"
  },
  {
    "text": "it's unju mal ittle bit that's probably too small isn't it",
    "start": "1635240",
    "end": "1641750"
  },
  {
    "text": "that's good how about that alright tf-x is the thing that's been installed to",
    "start": "1641750",
    "end": "1647760"
  },
  {
    "text": "get this in you simply you need to use node this is cross-platform so this is an MPN think so you do npm install dash",
    "start": "1647760",
    "end": "1656160"
  },
  {
    "text": "g for global tfx CLI and will turn up in your path and you can simply run tfx",
    "start": "1656160",
    "end": "1661650"
  },
  {
    "text": "everywhere it's good because as mr. hanselman was saying before it's got",
    "start": "1661650",
    "end": "1667770"
  },
  {
    "text": "ascii art so it's got to be good and i simply go to FX build and I can do",
    "start": "1667770",
    "end": "1674580"
  },
  {
    "text": "dash dash help to see what my options are and I can either queue and you build I can list things I can show tasks I can",
    "start": "1674580",
    "end": "1681210"
  },
  {
    "text": "do whatever it is so I did before task list which shows the existing ones that are there and you could see the octopus",
    "start": "1681210",
    "end": "1687210"
  },
  {
    "text": "ones that had been loaded up then not part of the default install I've actually added those",
    "start": "1687210",
    "end": "1692630"
  },
  {
    "text": "and this is querying so initially I did a tfx logging I use the personal access",
    "start": "1692630",
    "end": "1699150"
  },
  {
    "text": "token to login connect it up and then I can see these things and if I wanted to get rid of one of these I would do tfx",
    "start": "1699150",
    "end": "1705030"
  },
  {
    "text": "tasks delete and then give it the task ID and it's gone so this is how I'm",
    "start": "1705030",
    "end": "1711030"
  },
  {
    "text": "managing custom task on my account okay to put a new on there i do tfx tasks",
    "start": "1711030",
    "end": "1717330"
  },
  {
    "text": "upload build task upload whatever and that will package up for me",
    "start": "1717330",
    "end": "1724350"
  },
  {
    "text": "automatically a folder and send it up there with a manifest file and everything that you would expect",
    "start": "1724350",
    "end": "1732379"
  },
  {
    "start": "1730000",
    "end": "1763000"
  },
  {
    "text": "so custom tasks are different to the summary extension by the way so",
    "start": "1732710",
    "end": "1739879"
  },
  {
    "text": "build summaries extending that with extra tabs or adding extra visualizers is an extension",
    "start": "1739879",
    "end": "1747590"
  },
  {
    "text": "the build tasks themselves are custom task they're separate pieces so if you were putting together a component that",
    "start": "1747590",
    "end": "1753450"
  },
  {
    "text": "show build task and visualizations you'd package that up as a extension overall",
    "start": "1753450",
    "end": "1761129"
  },
  {
    "text": "and deploy that and you'll see that with the octopus one common question that comes",
    "start": "1761129",
    "end": "1767190"
  },
  {
    "start": "1763000",
    "end": "1878000"
  },
  {
    "text": "up how do I say if I've got multiple tasks how do I get one task to create a value that I can pass on to the next",
    "start": "1767190",
    "end": "1773429"
  },
  {
    "text": "task you do that with a thing called logging commands logging commands to be genuinely cross-platform do something",
    "start": "1773429",
    "end": "1781049"
  },
  {
    "text": "really simple and really simple and it's really simple and its",
    "start": "1781049",
    "end": "1787409"
  },
  {
    "text": "really kind of simple you simply take because I said simple enough double hash",
    "start": "1787409",
    "end": "1792629"
  },
  {
    "text": "vso and you log this to the scone the console the log monitor picks that up and goes",
    "start": "1792629",
    "end": "1799889"
  },
  {
    "text": "all I know how to pass that and will read it so if I wanted to set a variable i do a double hash vso task set variable",
    "start": "1799889",
    "end": "1808440"
  },
  {
    "text": "variable name equals test var and then the value after that and that will then",
    "start": "1808440",
    "end": "1813570"
  },
  {
    "text": "become available in subsequent tasks as an environment variable and then I can",
    "start": "1813570",
    "end": "1819809"
  },
  {
    "text": "simply go dollar environment variable name and I can pick that up and read it mmm if I was using PowerShell if I'm",
    "start": "1819809",
    "end": "1825929"
  },
  {
    "text": "using node I'm obviously doing something slightly different to read the environments but same approach one thing to avoid a lot of tasks",
    "start": "1825929",
    "end": "1833460"
  },
  {
    "text": "originally were setting environment variables themselves if you do that it",
    "start": "1833460",
    "end": "1838489"
  },
  {
    "text": "won't get passed through because tasks themselves are executed out of process as well so a builds executed out a",
    "start": "1838489",
    "end": "1844710"
  },
  {
    "text": "process and the tasks we learn to build executed out of process so if you set an environment variable when the task",
    "start": "1844710",
    "end": "1850040"
  },
  {
    "text": "finishes that process goes away the environment you set it's gone so you need to make sure you",
    "start": "1850040",
    "end": "1857510"
  },
  {
    "text": "use it the login commands there are a whole bunch of others as well so you can",
    "start": "1857510",
    "end": "1863030"
  },
  {
    "text": "do things like reporting progress so if you had a long-running job and you want to report you know every ten percent how",
    "start": "1863030",
    "end": "1868040"
  },
  {
    "text": "my house my progress going you can do that with a log in command as well and the build agent picks that up and the",
    "start": "1868040",
    "end": "1874070"
  },
  {
    "text": "build system reports on that makes it available and is it's cool all right so",
    "start": "1874070",
    "end": "1880280"
  },
  {
    "start": "1878000",
    "end": "2280000"
  },
  {
    "text": "let's have a look at a custom task shall we go away you so this is the octopus build",
    "start": "1880280",
    "end": "1886790"
  },
  {
    "text": "and released asks if I want to install those in my account or on my TFS server I can either download and just hit",
    "start": "1886790",
    "end": "1892940"
  },
  {
    "text": "install that's going to create all the various tasks for me nice thing is you can look at this code",
    "start": "1892940",
    "end": "1900020"
  },
  {
    "text": "cause it's online so here's octo TFS this is",
    "start": "1900020",
    "end": "1907000"
  },
  {
    "text": "all the source we need so this has information about deploying",
    "start": "1907000",
    "end": "1912560"
  },
  {
    "text": "it packaging these things up putting in the task if I jump into sauce here",
    "start": "1912560",
    "end": "1917590"
  },
  {
    "text": "we can see extensions and tasks and I can come into",
    "start": "1917590",
    "end": "1924590"
  },
  {
    "text": "tasks and we've got some common things we've got deployment task packed a stock go pack who's used octopus a couple of",
    "start": "1924590",
    "end": "1932570"
  },
  {
    "text": "you so I'm just going to have a look at this create octopus release and you can see this has a task JSON",
    "start": "1932570",
    "end": "1940430"
  },
  {
    "text": "file so this is effectively the manifest this is the definition of what the task is and let me just go full screen oops",
    "start": "1940430",
    "end": "1948470"
  },
  {
    "text": "not github desktop no [Music] all right",
    "start": "1948470",
    "end": "1955000"
  },
  {
    "text": "what have we got here we've got a name it's a well-described JSON document",
    "start": "1955660",
    "end": "1962390"
  },
  {
    "text": "effectively versioning information the category this",
    "start": "1962390",
    "end": "1967430"
  },
  {
    "text": "is set in whatever else in it can be build or deploy what grouping I've got",
    "start": "1967430",
    "end": "1975220"
  },
  {
    "text": "so and then here inputs user inputs remember the",
    "start": "1975220",
    "end": "1980690"
  },
  {
    "text": "parameters on the right hand side of the screen that we were looking at so when you add a task you've got parameters and",
    "start": "1980690",
    "end": "1986269"
  },
  {
    "text": "variables you can set this is where they're described so they come in here they're described",
    "start": "1986269",
    "end": "1992320"
  },
  {
    "text": "with some help files on various things as well so you can put a little mark down and document things so little",
    "start": "1992320",
    "end": "1999080"
  },
  {
    "text": "information icon that's there and that's pretty much it so yeah it's a",
    "start": "1999080",
    "end": "2006039"
  },
  {
    "text": "little bit adjacent it looks a little clunky but it's fairly descriptive and it's fairly easy to read and understand",
    "start": "2006039",
    "end": "2011289"
  },
  {
    "text": "it's just a matter of setting properties ronke",
    "start": "2011289",
    "end": "2017909"
  },
  {
    "text": "alright so if we go have a look at the task itself this is simply launching a PowerShell file",
    "start": "2018389",
    "end": "2024480"
  },
  {
    "text": "remember that's just a task runner and if we look at the PowerShell file you",
    "start": "2024480",
    "end": "2029950"
  },
  {
    "text": "can see it's picking up things like the current repository provider",
    "start": "2029950",
    "end": "2035249"
  },
  {
    "text": "PSS endpoint all these things that have been set and you'll find if I look for",
    "start": "2035249",
    "end": "2040749"
  },
  {
    "text": "octo that it's going to run",
    "start": "2040749",
    "end": "2046950"
  },
  {
    "text": "like to push down here it's going to check the credentials do whatever it",
    "start": "2048329",
    "end": "2053378"
  },
  {
    "text": "needs to do execute a whole bunch of things and essentially calls octo XE after its set up whatever it needs to",
    "start": "2053379",
    "end": "2059440"
  },
  {
    "text": "based on the properties that have been provided and it's the magic button",
    "start": "2059440",
    "end": "2066240"
  },
  {
    "text": "that's as complex as it gets question",
    "start": "2066240",
    "end": "2071128"
  },
  {
    "text": "you can that's the that's the whole thing right if you just do this as a powershell script that's perfectly fine",
    "start": "2075899",
    "end": "2081280"
  },
  {
    "text": "but you might want to make that easier to manage you might want to make it more parameterize so that you don't forget what you were doing because I could just",
    "start": "2081280",
    "end": "2087970"
  },
  {
    "text": "do in my build definition let's just jump back in here and I'll show you I could if I want",
    "start": "2087970",
    "end": "2095158"
  },
  {
    "text": "go edit for example and in my build steps",
    "start": "2095159",
    "end": "2102540"
  },
  {
    "text": "add a build step that simply says execute PowerShell and to do it's going",
    "start": "2102540",
    "end": "2109630"
  },
  {
    "text": "to be utility let's go there powershell yep and I could add that and",
    "start": "2109630",
    "end": "2117630"
  },
  {
    "text": "I could go into here and I could put in the script path like putting all the",
    "start": "2117630",
    "end": "2123040"
  },
  {
    "text": "arguments but that's a long set of arguments and editing all those on this",
    "start": "2123040",
    "end": "2128109"
  },
  {
    "text": "line he gets a little clunky because it's just not that much screen real estate or I could make it a little",
    "start": "2128109",
    "end": "2133690"
  },
  {
    "text": "easier for myself and go and add instead in i'll just do it all wherever it is",
    "start": "2133690",
    "end": "2141910"
  },
  {
    "text": "create octopus release undersea create where's the octopus there it is hello",
    "start": "2141910",
    "end": "2149220"
  },
  {
    "text": "add that you can see here that this is all the extra information so what's my",
    "start": "2149220",
    "end": "2155380"
  },
  {
    "text": "project and we've got you know the help mark down and if i want i can had deployment",
    "start": "2155380",
    "end": "2161170"
  },
  {
    "text": "things i want to deploy this too I've got additional options where's octo Dex he actually lives if it's not in the",
    "start": "2161170",
    "end": "2167230"
  },
  {
    "text": "parser all these things that that I have that it just makes it easier for me to do some of these things so yes scripting",
    "start": "2167230",
    "end": "2173109"
  },
  {
    "text": "is definitely the preferred approach as a basic starting point but when you want to get beyond that",
    "start": "2173109",
    "end": "2178470"
  },
  {
    "text": "it's not too hard to extend from here the good thing with this is this is now",
    "start": "2178470",
    "end": "2185859"
  },
  {
    "text": "bundled with a whole bunch of other tasks as well so you can actually bundle these tasks together as a full extension and deploy that",
    "start": "2185859",
    "end": "2192510"
  },
  {
    "text": "to your installation so octopus",
    "start": "2192510",
    "end": "2198660"
  },
  {
    "text": "it depends who you know now octopus costs money it's a",
    "start": "2198660",
    "end": "2205730"
  },
  {
    "text": "commercial deployment product but the the extension itself to integrate to it",
    "start": "2205730",
    "end": "2211369"
  },
  {
    "text": "from the STS or TFS that's a freebie they're not the only things if you want",
    "start": "2211369",
    "end": "2217430"
  },
  {
    "text": "to look at other tasks all the Microsoft tasks that are in by default are actually provided online the source to",
    "start": "2217430",
    "end": "2224300"
  },
  {
    "text": "them also if you want to have a look at how archiving worked zip files I can jump",
    "start": "2224300",
    "end": "2229790"
  },
  {
    "text": "into the archive files task and I can see that this is got some type",
    "start": "2229790",
    "end": "2235400"
  },
  {
    "text": "scripting here where we're doing some effectively this will run under note so",
    "start": "2235400",
    "end": "2242390"
  },
  {
    "text": "this is typescript get compiled down obviously and then we've got things like where's the tower or the zip location or",
    "start": "2242390",
    "end": "2248780"
  },
  {
    "text": "7-zip or win7 zip and whatever else and this will go through and execute the appropriate zip task on the appropriate",
    "start": "2248780",
    "end": "2256160"
  },
  {
    "text": "platform so if you're after inspiration on how to do something definitely look at the task",
    "start": "2256160",
    "end": "2262280"
  },
  {
    "text": "library here and it's also got all the JSON files and",
    "start": "2262280",
    "end": "2267500"
  },
  {
    "text": "everything else that you can look at on in terms of how do these things work so extending VST s",
    "start": "2267500",
    "end": "2274720"
  },
  {
    "text": "really easy and a lot simpler than it used to be",
    "start": "2274720",
    "end": "2279970"
  },
  {
    "text": "alright so moving back to other things so I want to talk about so no cube",
    "start": "2279970",
    "end": "2286780"
  },
  {
    "text": "so technical debt or if you go to doc Norton session later this week he's going to talk about technical debt",
    "start": "2286780",
    "end": "2292880"
  },
  {
    "text": "versus what we commonly call cruft being just stuff we don't like inhale codebase well worth going to that session by the",
    "start": "2292880",
    "end": "2299690"
  },
  {
    "text": "way if you want to a little bit of a tip I like keeping on top of things I like",
    "start": "2299690",
    "end": "2305630"
  },
  {
    "text": "to keep my code clean because I personally am a pretty crappy programmer I use tools to point out when I'm",
    "start": "2305630",
    "end": "2311119"
  },
  {
    "text": "rubbish they pointed out regularly and I have generally relied in the past",
    "start": "2311119",
    "end": "2318530"
  },
  {
    "text": "on things like you know FX cop and so forth to tell me where things are so no",
    "start": "2318530",
    "end": "2323690"
  },
  {
    "text": "cube if you haven't seen it before is a really nice tool for for tracking these things we don't like all the technical",
    "start": "2323690",
    "end": "2330230"
  },
  {
    "text": "debt you know the questions like here's my code getting better or worse over time because FX cop doesn't tell me that just says at the mome and you suck by",
    "start": "2330230",
    "end": "2337550"
  },
  {
    "text": "this much but am i sucking less or am i sucking more or where the hotspots I need to think",
    "start": "2337550",
    "end": "2345020"
  },
  {
    "text": "about in my code what should I target for refactoring an improvement where's my dead code that I should get rid of",
    "start": "2345020",
    "end": "2350050"
  },
  {
    "text": "what are the problems I haven't spotted for myself such as not disposing objects",
    "start": "2350050",
    "end": "2355460"
  },
  {
    "text": "properly and even better can I get that information during a pull request",
    "start": "2355460",
    "end": "2361420"
  },
  {
    "text": "so that I can see that and fix my pull request so that I keep the you know the",
    "start": "2361420",
    "end": "2366800"
  },
  {
    "text": "campsite cleaner than I found a boy scout approach to code so let's have a look sooner cube MV sts",
    "start": "2366800",
    "end": "2373400"
  },
  {
    "text": "living together so if you point your browser's if you want to play along at",
    "start": "2373400",
    "end": "2378650"
  },
  {
    "text": "home to RB sonarqube cloudapp net I actually have a sonar server running at",
    "start": "2378650",
    "end": "2384320"
  },
  {
    "text": "this point in time it's open I don't really don't care what you do to it I can always just kill the vm and start it",
    "start": "2384320",
    "end": "2391220"
  },
  {
    "text": "again but I have in here two different projects that are showing me what's going on so he's a dashboard",
    "start": "2391220",
    "end": "2397780"
  },
  {
    "text": "show me I currently have no bugs but I have for vulnerabilities why no I don't",
    "start": "2397780",
    "end": "2403270"
  },
  {
    "text": "wait oh yes I do I have four things that",
    "start": "2403270",
    "end": "2408440"
  },
  {
    "text": "are potentially vulnerabilities and I can decide if these are good or not and I can have a look at my code I can",
    "start": "2408440",
    "end": "2416270"
  },
  {
    "text": "see what's going on i can jump into it I can see other things that are going on",
    "start": "2416270",
    "end": "2421460"
  },
  {
    "text": "like aa really program should be static ah doesn't need that",
    "start": "2421460",
    "end": "2428260"
  },
  {
    "text": "or console.writeline look at that there's",
    "start": "2428260",
    "end": "2433310"
  },
  {
    "text": "my logging statement and I'm passing a literal oh really should i do that i",
    "start": "2433310",
    "end": "2438890"
  },
  {
    "text": "don't know and i can decide if this is actually important or not i could decide",
    "start": "2438890",
    "end": "2444260"
  },
  {
    "text": "that i can resolve this as i won't fix it it's a known issue i'm happy with it or",
    "start": "2444260",
    "end": "2449350"
  },
  {
    "text": "yep it's a false positive it's not really true or I'm going to fix it or whatever else so this is a good way of",
    "start": "2449350",
    "end": "2456440"
  },
  {
    "text": "keeping track of stuff who's run across so knock here before no one oh one person that's exciting so welcome to the",
    "start": "2456440",
    "end": "2463340"
  },
  {
    "text": "brave new world of how the rest of the the non dotnet Microsoft universe works",
    "start": "2463340",
    "end": "2468600"
  },
  {
    "text": "a lot of these guys out there will pay attention this stuff especially in Java and",
    "start": "2468600",
    "end": "2473930"
  },
  {
    "text": "things like that in fact the way this whole thing works is there's a bunch of",
    "start": "2473930",
    "end": "2479190"
  },
  {
    "text": "analyzers this particular project that I'm looking at I've only run the dotnet analyzer on it",
    "start": "2479190",
    "end": "2486410"
  },
  {
    "start": "2480000",
    "end": "2595000"
  },
  {
    "text": "if i go to my main dashboard and look at the micro cafe 1 i'm actually running",
    "start": "2486410",
    "end": "2493610"
  },
  {
    "text": "c-sharp javascript and web analyzers on it so i can pick up a bit more stuff and",
    "start": "2493610",
    "end": "2499680"
  },
  {
    "text": "it's also telling me here you know I've got no code smells seven days worth a dead two percent of my code is copy",
    "start": "2499680",
    "end": "2506940"
  },
  {
    "text": "paste if that numbers above fifty percent you're looking at an enterprise system",
    "start": "2506940",
    "end": "2513289"
  },
  {
    "text": "five point two thousand so 5200 lines of code so you can tell this is a huge",
    "start": "2513950",
    "end": "2520080"
  },
  {
    "text": "project this particular one I can also see that I found what's called a quality",
    "start": "2520080",
    "end": "2525630"
  },
  {
    "text": "gate so one of the things I can do with sonar Cuba's i can say i have a certain",
    "start": "2525630",
    "end": "2531240"
  },
  {
    "text": "level of quality that i want to check if I don't meet that I'm going to fail the",
    "start": "2531240",
    "end": "2536610"
  },
  {
    "text": "quality gate that quality gate at the moment if i click on it says I should",
    "start": "2536610",
    "end": "2541980"
  },
  {
    "text": "have no blocker issues so the logic around these flags is kind of backwards but basically says if the blocker issues",
    "start": "2541980",
    "end": "2549180"
  },
  {
    "text": "is greater than zero then I'm failing the quality gate does that",
    "start": "2549180",
    "end": "2554370"
  },
  {
    "text": "make sense okay there's other ones like this one which is says IAM on new code if the",
    "start": "2554370",
    "end": "2562290"
  },
  {
    "text": "coverage is less than eighty percent failed the quality gate so we want to make sure that yeah we don't have good coverage at the moment but if i if i",
    "start": "2562290",
    "end": "2568830"
  },
  {
    "text": "write new code from this point forward I want to do better than I've done in the past",
    "start": "2568830",
    "end": "2574010"
  },
  {
    "text": "or I want to make sure that over what we call the leak period which is the last",
    "start": "2574010",
    "end": "2579050"
  },
  {
    "text": "point in time we're checking to now that I haven't had critical issues greater than zero I",
    "start": "2579050",
    "end": "2586740"
  },
  {
    "text": "could so that means i could have old critical issues that are there and unknown but i'm just making sure that i",
    "start": "2586740",
    "end": "2591810"
  },
  {
    "text": "don't get worse from here makes sense so we can set these things up how do i actually hook that into",
    "start": "2591810",
    "end": "2599900"
  },
  {
    "text": "hook this into vs TS good question i'm glad you guys asked",
    "start": "2599900",
    "end": "2607280"
  },
  {
    "text": "it's kind of like the curiosity show right so i'm going to look at this build the",
    "start": "2607280",
    "end": "2613770"
  },
  {
    "text": "app build it Wow don't you love it when that happens by the way a page refreshes",
    "start": "2613770",
    "end": "2620340"
  },
  {
    "text": "before you're ready one of the fun parts of JavaScript",
    "start": "2620340",
    "end": "2626210"
  },
  {
    "text": "so if i go and edit this definition there are two steps to custom tasks that",
    "start": "2626480",
    "end": "2632880"
  },
  {
    "start": "2630000",
    "end": "2660000"
  },
  {
    "text": "the that have been created by microsoft to do the integration for you and make this",
    "start": "2632880",
    "end": "2639420"
  },
  {
    "text": "really really easy you will see down here sonarqube pre-build and so no cube post-test these",
    "start": "2639420",
    "end": "2648119"
  },
  {
    "text": "two steps or tasks i should say we simply include that so this is the same build as before effectively it's just a",
    "start": "2648119",
    "end": "2655590"
  },
  {
    "text": "CI build and I've simply added this step first which is the pre step what happens",
    "start": "2655590",
    "end": "2662790"
  },
  {
    "start": "2660000",
    "end": "2705000"
  },
  {
    "text": "is I point to sonar cube",
    "start": "2662790",
    "end": "2666830"
  },
  {
    "text": "endpoints by the way I just simply a way of making it easy to reference a URL or a service so github and so no cube so no",
    "start": "2668480",
    "end": "2676109"
  },
  {
    "text": "cube is here and if I update the service configuration you can see I've given it a URL and I have a username and token",
    "start": "2676109",
    "end": "2682530"
  },
  {
    "text": "that or password that I've entered previously we don't see that again obviously",
    "start": "2682530",
    "end": "2688640"
  },
  {
    "text": "so that's how vs TS knows where to talk to so I'm going to talk to my son r cube server and",
    "start": "2688640",
    "end": "2694640"
  },
  {
    "text": "I'm going to say this build is related to micro cafe dash admin which is the",
    "start": "2694640",
    "end": "2700260"
  },
  {
    "text": "project oops the project here that i was looking at",
    "start": "2700260",
    "end": "2706700"
  },
  {
    "start": "2705000",
    "end": "2810000"
  },
  {
    "text": "this one here so that's the name of it so that's how it knows where to put the metrics okay so it needs to know where",
    "start": "2706700",
    "end": "2713790"
  },
  {
    "text": "to publish the metrics if I've got multiple projects and other than that there's my project name",
    "start": "2713790",
    "end": "2719730"
  },
  {
    "text": "version numbers and I've got in here some Advanced Options one of those advanced option advanced options is to",
    "start": "2719730",
    "end": "2727290"
  },
  {
    "text": "fail the build when the quality gate fails that means if I fail the quality gate visibility is going to go red",
    "start": "2727290",
    "end": "2733880"
  },
  {
    "text": "that's a good thing that helps enforce that idea of if the quality gates failed",
    "start": "2733880",
    "end": "2740100"
  },
  {
    "text": "break the bill break the bill because if I fail the",
    "start": "2740100",
    "end": "2745110"
  },
  {
    "text": "quality gate and I just leave it sitting in so no cube guess what the devs do hey just get gone I don't look its own i",
    "start": "2745110",
    "end": "2750660"
  },
  {
    "text": "cube until it's broken and it tells me off we then do our building test and then we",
    "start": "2750660",
    "end": "2756510"
  },
  {
    "text": "simply take at the end our results and we upload them so this is just the aggregation step and it pushes it up and",
    "start": "2756510",
    "end": "2763470"
  },
  {
    "text": "does the final check and waits for the analysis to complete and check the quality gate and so forth all good",
    "start": "2763470",
    "end": "2769580"
  },
  {
    "text": "nice and easy such a simple integration if you tried doing this with teamcity",
    "start": "2769580",
    "end": "2776270"
  },
  {
    "text": "it's a bit painful look at the docs on Team city on how to do it and you're kind of let's go in that's how you get",
    "start": "2776270",
    "end": "2783030"
  },
  {
    "text": "bald like this or you try putting it into Jenkins and maven whatever else these things are a",
    "start": "2783030",
    "end": "2789090"
  },
  {
    "text": "little bit more complex this is the easiest integration of scene for this stuff",
    "start": "2789090",
    "end": "2794480"
  },
  {
    "text": "and if I build one of these let's actually I won't do a build at the moment cuz it takes time but I can queue",
    "start": "2794480",
    "end": "2800250"
  },
  {
    "text": "that build and we can have a look at the results and you can see at times that the build has failed because I've been",
    "start": "2800250",
    "end": "2806190"
  },
  {
    "text": "playing around with my quality gates which is what these ones are now you'll see also possibly if I just zoom that up",
    "start": "2806190",
    "end": "2814380"
  },
  {
    "start": "2810000",
    "end": "2890000"
  },
  {
    "text": "a little bit that I have builds of mass but I also",
    "start": "2814380",
    "end": "2820170"
  },
  {
    "text": "have these other ones seven eight and nine these are pull request builds if you've not come across this before this",
    "start": "2820170",
    "end": "2827670"
  },
  {
    "text": "is a really nice feature of using git and that i can go into",
    "start": "2827670",
    "end": "2833510"
  },
  {
    "text": "my admins part here and if i go to version control i can have policies on my branches so on",
    "start": "2833510",
    "end": "2841590"
  },
  {
    "text": "the master branch because that's going to be my nice good code i have set up",
    "start": "2841590",
    "end": "2846870"
  },
  {
    "text": "what we call a branch policy that says when someone checks creates a an update",
    "start": "2846870",
    "end": "2854600"
  },
  {
    "text": "hmm create or update say pull request that's meant to be going into the master",
    "start": "2854600",
    "end": "2859890"
  },
  {
    "text": "branch make sure I build this project with this particular build definition so I'm going to do it with the sonar build",
    "start": "2859890",
    "end": "2866960"
  },
  {
    "text": "what that's going to do is it triggers the build process but from a sonar perspective it doesn't record the",
    "start": "2866960",
    "end": "2873360"
  },
  {
    "text": "results so that you can you avoid having this incremental logging happening every time",
    "start": "2873360",
    "end": "2878430"
  },
  {
    "text": "there's a pull request it's here's my last known good build how does this compared to it did I go better or worse and fell the gate and I've said block",
    "start": "2878430",
    "end": "2885780"
  },
  {
    "text": "pull request completion unless there's a valid build nice nice so now I can go to code and I",
    "start": "2885780",
    "end": "2894060"
  },
  {
    "start": "2890000",
    "end": "2985000"
  },
  {
    "text": "can go to my pull requests like it is and",
    "start": "2894060",
    "end": "2901430"
  },
  {
    "text": "pick one of these for example and because there's a build attached to",
    "start": "2902240",
    "end": "2908640"
  },
  {
    "text": "this a policy you can see the build failed",
    "start": "2908640",
    "end": "2912980"
  },
  {
    "text": "if I tried completing this pull request sorry build must succeed for you to",
    "start": "2913850",
    "end": "2921240"
  },
  {
    "text": "update master no luck no dice don't go messing up our beautiful master branch",
    "start": "2921240",
    "end": "2926430"
  },
  {
    "text": "with your crappy code Richard like seriously so I'm going to just reevaluate this",
    "start": "2926430",
    "end": "2935150"
  },
  {
    "text": "manual merge are really all right I'm not going to do that that's what happens",
    "start": "2935150",
    "end": "2940170"
  },
  {
    "text": "when you practice things and you put it in the wrong branch so what we're going to do is we're going to be really naughty really naughty and I'm going to go to",
    "start": "2940170",
    "end": "2947370"
  },
  {
    "text": "master here and I'm going to add a new branch on the fly okay whatever complete with typos ignore",
    "start": "2947370",
    "end": "2955350"
  },
  {
    "text": "that they're not really there and in my thing I'm going to jump into some",
    "start": "2955350",
    "end": "2960780"
  },
  {
    "text": "admin code i'm going to go to admin service program CS and i'm going to do what you should",
    "start": "2960780",
    "end": "2968280"
  },
  {
    "text": "never do which is edit directly in source control right",
    "start": "2968280",
    "end": "2972859"
  },
  {
    "text": "maybe either dead or whatever else save that that's created a commit which is",
    "start": "2979329",
    "end": "2986390"
  },
  {
    "start": "2985000",
    "end": "3100000"
  },
  {
    "text": "cool so now if I going to buy pull requests and I can go new pull request here",
    "start": "2986390",
    "end": "2992680"
  },
  {
    "text": "and it'll validate I'm just going to hit the",
    "start": "2992680",
    "end": "2997730"
  },
  {
    "text": "magic button and what will happen is I'll go to the pull request view this is",
    "start": "2997730",
    "end": "3003369"
  },
  {
    "text": "then going to go and start a build automatically because of that policy if",
    "start": "3003369",
    "end": "3009520"
  },
  {
    "text": "I have a look at the build over here you'll see that this is going to go through the normal process as we saw before",
    "start": "3009520",
    "end": "3015119"
  },
  {
    "text": "waits for an agent starts running we're going through the steps",
    "start": "3015119",
    "end": "3021059"
  },
  {
    "text": "it's doing his thing which is cool looking at a previous one here's one I",
    "start": "3025380",
    "end": "3030849"
  },
  {
    "text": "prepared earlier I can also see I think it was this one I",
    "start": "3030849",
    "end": "3038099"
  },
  {
    "text": "can look at some completed ones if I pass the quality gate but I still have some issues",
    "start": "3038099",
    "end": "3044819"
  },
  {
    "text": "what will happen was it this one not this one let's go to a completed one",
    "start": "3044819",
    "end": "3050440"
  },
  {
    "text": "completed",
    "start": "3050440",
    "end": "3053440"
  },
  {
    "text": "so no cube as it runs if it picks up warnings or things like that it can actually log it automatically into my",
    "start": "3058660",
    "end": "3065210"
  },
  {
    "text": "pull request view uh-huh so on my new code hey what works there's",
    "start": "3065210",
    "end": "3072530"
  },
  {
    "text": "this unused variable why why is that in here why why and",
    "start": "3072530",
    "end": "3079150"
  },
  {
    "text": "I can then go through that as a dev look in this pull request ago yeah you know what that's kinda",
    "start": "3079150",
    "end": "3085600"
  },
  {
    "text": "not good and we could have looked through that and made comments and fix things up and",
    "start": "3085600",
    "end": "3091190"
  },
  {
    "text": "and pushed in new code fix up our warning so that all our pull requests come through is clean all the time so",
    "start": "3091190",
    "end": "3098090"
  },
  {
    "text": "really nice so I would encourage you to play around with that in terms of time",
    "start": "3098090",
    "end": "3103790"
  },
  {
    "start": "3100000",
    "end": "3395000"
  },
  {
    "text": "we're almost done so just as a quick recap we've gone through the why and the",
    "start": "3103790",
    "end": "3108800"
  },
  {
    "text": "how of team build why they build a new version other than the obvious how the new bits work together the basics of",
    "start": "3108800",
    "end": "3115940"
  },
  {
    "text": "doing a build what we need to do to customize tasks and how we can do things like putting sonar cube into our build",
    "start": "3115940",
    "end": "3122600"
  },
  {
    "text": "pipeline so we can keep on top of technical debt and keep out quality high and that's pretty much it so I would ask",
    "start": "3122600",
    "end": "3130370"
  },
  {
    "text": "you guys to go and play with this stuff yourself if you haven't yet done it it's really easy to set up it's not too",
    "start": "3130370",
    "end": "3136460"
  },
  {
    "text": "complex probably the hardest players getting a sono cube server running but again if you're using Azure or something",
    "start": "3136460",
    "end": "3141560"
  },
  {
    "text": "like that you can probably find a VM image with it sitting on there already and then just go from there questions",
    "start": "3141560",
    "end": "3150200"
  },
  {
    "text": "yep",
    "start": "3158470",
    "end": "3161340"
  },
  {
    "text": "so you'd be looking at gated builds so you'd have a gated build that runs and get the gated build do the sonar q",
    "start": "3165510",
    "end": "3173550"
  },
  {
    "text": "I haven't checked TFE see in a while in terms of the",
    "start": "3173550",
    "end": "3179710"
  },
  {
    "text": "support in terms of what's there or not that said shouldn't be too hard to find out run to build see what happens",
    "start": "3179710",
    "end": "3188760"
  },
  {
    "text": "obviously for some of this stuff maybe not obviously but for some of these features especially",
    "start": "3188760",
    "end": "3194130"
  },
  {
    "text": "the integration here you will need the latest version of TFS on-prem if that's what you're using so put 2015 update 3",
    "start": "3194130",
    "end": "3201700"
  },
  {
    "text": "on generally we TFS keep it up-to-date anyway it's not a problem unless of",
    "start": "3201700",
    "end": "3208990"
  },
  {
    "text": "course you've got the you know ops department that says it's a production system and the only time you can update it is once a decade when we have an",
    "start": "3208990",
    "end": "3215230"
  },
  {
    "text": "outage window sorry about that other questions",
    "start": "3215230",
    "end": "3221820"
  },
  {
    "text": "yep yes they do yep",
    "start": "3224440",
    "end": "3230380"
  },
  {
    "text": "so the question was for the recording is the build agents update themselves so a",
    "start": "3239110",
    "end": "3244700"
  },
  {
    "text": "build agent that was six months old for example will it automatically update itself to the dotnet core build agent no",
    "start": "3244700",
    "end": "3252160"
  },
  {
    "text": "it will update itself to the latest version of the.net agent or the node agent",
    "start": "3252160",
    "end": "3259060"
  },
  {
    "text": "the.net agent the v2 agent isn't quite at feature parity with the or it wasn't",
    "start": "3259960",
    "end": "3267530"
  },
  {
    "text": "two weeks ago anyway with the the old net agent there was just some gaps that",
    "start": "3267530",
    "end": "3273770"
  },
  {
    "text": "said the UI updated itself on the weekend so I'd say that new agents",
    "start": "3273770",
    "end": "3280220"
  },
  {
    "text": "probably at feature parity now so I'd have to check and I have to find out what happens with",
    "start": "3280220",
    "end": "3285980"
  },
  {
    "text": "the old agents now that the new v2 is the main agent so I'm not quite sure you",
    "start": "3285980",
    "end": "3291470"
  },
  {
    "text": "have to check yeah so really easy to change an agent",
    "start": "3291470",
    "end": "3301630"
  },
  {
    "text": "so I was on remote desktop before this is the build server here if I just kill",
    "start": "3301630",
    "end": "3307550"
  },
  {
    "text": "that for example",
    "start": "3307550",
    "end": "3313240"
  },
  {
    "text": "to remove one simply do config",
    "start": "3315520",
    "end": "3322420"
  },
  {
    "text": "we comfy oh gosh don't be that command",
    "start": "3324940",
    "end": "3331610"
  },
  {
    "text": "remove that removes the old one and i would put in my auth type make",
    "start": "3331610",
    "end": "3339290"
  },
  {
    "text": "sure I've got permissions to remove it obviously and then just it d registers itself then I can just drop a new agent",
    "start": "3339290",
    "end": "3346250"
  },
  {
    "text": "on to the same box the agents themselves are simply small executables or small zip",
    "start": "3346250",
    "end": "3353660"
  },
  {
    "text": "files you unzip them into a folder you run the config command you're done so",
    "start": "3353660",
    "end": "3359240"
  },
  {
    "text": "it's a really simple process it's not this whole uninstall reinstall dance it's just config remove",
    "start": "3359240",
    "end": "3365710"
  },
  {
    "text": "drop it in a new folder whatever you want to do so I've got this one in agent to also have another one in",
    "start": "3365710",
    "end": "3371190"
  },
  {
    "text": "c / agent which is that one there that's the old one where you had to run configure a",
    "start": "3371190",
    "end": "3377380"
  },
  {
    "text": "junt and run so there's slightly different so",
    "start": "3377380",
    "end": "3382890"
  },
  {
    "text": "other questions other than that thank you very much guys",
    "start": "3382890",
    "end": "3387960"
  },
  {
    "text": "go enjoy lunch enjoy the rest of the conference I'll talk to you later",
    "start": "3387960",
    "end": "3394109"
  }
]