[
  {
    "text": "hello chefs how are we good how was lunch",
    "start": "7580",
    "end": "12900"
  },
  {
    "text": "good good good week of lunch offered by NDC",
    "start": "12900",
    "end": "18000"
  },
  {
    "text": "it's so nice that we have a DC back in person and in Melbourne after three years",
    "start": "18000",
    "end": "23460"
  },
  {
    "text": "I'm local I live in Greensboro it took me one hour to come here and she's not real people",
    "start": "23460",
    "end": "30599"
  },
  {
    "text": "um so I still remember like last year I presented at NDC Sydney in a completely",
    "start": "30599",
    "end": "36660"
  },
  {
    "text": "online and I couldn't see the reactions from from audience I I talked into a",
    "start": "36660",
    "end": "41760"
  },
  {
    "text": "camera looking to void I don't know whether my talk was exciting or I talked the audience to",
    "start": "41760",
    "end": "47520"
  },
  {
    "text": "sleep we've just had lunch maybe it's time for a nap hopefully I can help you digest food",
    "start": "47520",
    "end": "54120"
  },
  {
    "text": "instead of talking into snap so today I'm going to talk about deployments how we can make easier",
    "start": "54120",
    "end": "62039"
  },
  {
    "text": "deployments using a green blue deployment strategy let's jump straight",
    "start": "62039",
    "end": "68220"
  },
  {
    "text": "hello I just noticed a means like a problem on the slide",
    "start": "68220",
    "end": "73860"
  },
  {
    "text": "I mean that is anything wrong",
    "start": "73860",
    "end": "77180"
  },
  {
    "text": "yeah I think it's called blue green so what what blue main is the existing",
    "start": "80159",
    "end": "85500"
  },
  {
    "text": "current version and what green bank is a new version you know on the traffic light we have gray means that we have",
    "start": "85500",
    "end": "91860"
  },
  {
    "text": "good wishes of ready to go and we want to slowly move uses from uh the current version Blue version to a newer version",
    "start": "91860",
    "end": "98640"
  },
  {
    "text": "with scoring version so it's a mistake um it's very embarrassed so I'm gonna as a",
    "start": "98640",
    "end": "106200"
  },
  {
    "text": "really really agile person and Archer practitioner I'm gonna fix it now",
    "start": "106200",
    "end": "111899"
  },
  {
    "text": "really I even have a to-do note to remind myself to fix it you know so it's very hard to manage",
    "start": "111899",
    "end": "119820"
  },
  {
    "text": "backlog sometimes to do would become never touch it",
    "start": "119820",
    "end": "124579"
  },
  {
    "text": "all right so I've got it fixed I do apologize",
    "start": "125159",
    "end": "131220"
  },
  {
    "text": "um this issue would have been cut much easier and quicker if I had given this",
    "start": "131220",
    "end": "137879"
  },
  {
    "text": "talk as a test run to a smaller group of audience a couple of days ago obviously I didn't do that",
    "start": "137879",
    "end": "145440"
  },
  {
    "text": "but imagine if you are trying to deploy an Enterprise application to a very very wide group of audience or users like",
    "start": "145440",
    "end": "152760"
  },
  {
    "text": "tens of thousands of millions of users you deploy a change to production and",
    "start": "152760",
    "end": "158040"
  },
  {
    "text": "they're using a system it could be a banking assistant Insurance system whatever and they know your end user",
    "start": "158040",
    "end": "163920"
  },
  {
    "text": "notices a bug where the cat well they are calculating something they're going to divide by zero error",
    "start": "163920",
    "end": "169019"
  },
  {
    "text": "they're going to start compiling that's really bad that's gonna damage Not Just Me My Personal Image in the",
    "start": "169019",
    "end": "176099"
  },
  {
    "text": "community but also the image of The Branding and you're gonna lost in your competition to to other competitors",
    "start": "176099",
    "end": "182459"
  },
  {
    "text": "because they move really quickly so we don't want that to happen in order",
    "start": "182459",
    "end": "187680"
  },
  {
    "text": "to avoid this sort of problem we really want to Advocate and",
    "start": "187680",
    "end": "196319"
  },
  {
    "text": "utilize a great devops exercise to make sure that our changes can be",
    "start": "196319",
    "end": "203879"
  },
  {
    "text": "handed to end user as quick as possible as secure as possible",
    "start": "203879",
    "end": "209819"
  },
  {
    "text": "with less human intervention as possible so that it can be as robust as possible",
    "start": "209819",
    "end": "214980"
  },
  {
    "text": "I really like this small icon which is an infinite symbol what this means is first of all",
    "start": "214980",
    "end": "222540"
  },
  {
    "text": "in a modern size product especially it's web-based we always want to roll out new",
    "start": "222540",
    "end": "228120"
  },
  {
    "text": "changes quickly even it's a small incremental in the existing system we want it to be",
    "start": "228120",
    "end": "234239"
  },
  {
    "text": "accessed by users so they can give us quick feedback we never dictate what users want but users tell us what they",
    "start": "234239",
    "end": "241080"
  },
  {
    "text": "want what they like what they dislike and this is a infinite Loop means that",
    "start": "241080",
    "end": "247680"
  },
  {
    "text": "this process need to be done in iterations and so that devops is a blue which",
    "start": "247680",
    "end": "255540"
  },
  {
    "text": "combines people product and process your operational thing and your development thing gonna collaborate closely to make",
    "start": "255540",
    "end": "263699"
  },
  {
    "text": "sure that this entire process runs smoothly",
    "start": "263699",
    "end": "268400"
  },
  {
    "text": "all right we understand the the principle but how we are gonna",
    "start": "268800",
    "end": "273840"
  },
  {
    "text": "make it happen obviously as I just mentioned before if",
    "start": "273840",
    "end": "279000"
  },
  {
    "text": "I I wish I had done a test run to a small group of audience that's a different setup as compared to",
    "start": "279000",
    "end": "285300"
  },
  {
    "text": "this live presentation so setup is also called environment",
    "start": "285300",
    "end": "291720"
  },
  {
    "text": "first of all I want to talk to you guys about why we need multiple environment",
    "start": "291720",
    "end": "297960"
  },
  {
    "text": "setup in a modern development shock and and devops process and how we're",
    "start": "297960",
    "end": "305520"
  },
  {
    "text": "going to set them up especially on azure once we've got our environment set up we",
    "start": "305520",
    "end": "312479"
  },
  {
    "text": "want to get it moving we want to have some strategy to deliver our software to",
    "start": "312479",
    "end": "318180"
  },
  {
    "text": "this develop this development staging whatever environment so that they can be accessed by different group of audience",
    "start": "318180",
    "end": "324860"
  },
  {
    "text": "AKA stakeholders or users and then we're going to narrow down to",
    "start": "324860",
    "end": "331020"
  },
  {
    "text": "talk about how we do it on Azure I'm an Azure person and then I have a small demo",
    "start": "331020",
    "end": "338100"
  },
  {
    "text": "um to show you guys a proof of concepts of our understanding of this principle",
    "start": "338100",
    "end": "344520"
  },
  {
    "text": "before we get started this is my information about myself my name is Patrick Zhao I am a solution architect",
    "start": "344520",
    "end": "352139"
  },
  {
    "text": "working at ssw Victoria office um these are my social media links you",
    "start": "352139",
    "end": "358020"
  },
  {
    "text": "are most welcome to connect me and drop me a message you have a common interest I'm interested in devops",
    "start": "358020",
    "end": "363780"
  },
  {
    "text": "um data um AI oh one thing I want to highlight",
    "start": "363780",
    "end": "369120"
  },
  {
    "text": "is uh recently just like other developers I like to follow great projects on GitHub and",
    "start": "369120",
    "end": "375840"
  },
  {
    "text": "recently I've been leading I uh sort of like internal but we open source it um",
    "start": "375840",
    "end": "380880"
  },
  {
    "text": "project on ssw's Consulting repository it is about a chatbot that we we",
    "start": "380880",
    "end": "386280"
  },
  {
    "text": "implemented in uh using Microsoft pod framework so it serves as a virtual receptionist that's",
    "start": "386280",
    "end": "393180"
  },
  {
    "text": "when the visitors comes into your office your your front desk it can you can talk to a bot and it helps you to",
    "start": "393180",
    "end": "400680"
  },
  {
    "text": "um find an employee with certain skill sets and availability talks to all those crms and Etc and I",
    "start": "400680",
    "end": "408000"
  },
  {
    "text": "like it I really like it but not just because of the attack I'm into the tech Luis both framework all good but also it",
    "start": "408000",
    "end": "414720"
  },
  {
    "text": "does the job so that's our a real human receptionist can focus on doing the",
    "start": "414720",
    "end": "420000"
  },
  {
    "text": "things that only human can do rather than being like a bridge between the the visitor and the cim systems so come and",
    "start": "420000",
    "end": "427740"
  },
  {
    "text": "check it out if you are interested in into bot all right so as I mentioned before we want to have",
    "start": "427740",
    "end": "434580"
  },
  {
    "text": "different setup so that we can get our products going through different stages and be really",
    "start": "434580",
    "end": "441960"
  },
  {
    "text": "really solidly tested before it roll out to a our end user",
    "start": "441960",
    "end": "448740"
  },
  {
    "text": "um and for team leads this is very important",
    "start": "448740",
    "end": "455160"
  },
  {
    "text": "because this can Advocate innovation so that's your team members won't be",
    "start": "455160",
    "end": "461340"
  },
  {
    "text": "afraid of breaking something because you have always have an environment for them to play around for them to school up and",
    "start": "461340",
    "end": "467580"
  },
  {
    "text": "fix like what I did on my slide um and also it can",
    "start": "467580",
    "end": "473520"
  },
  {
    "text": "um increase the productivity on your team and with different environments set up",
    "start": "473520",
    "end": "480960"
  },
  {
    "text": "we can have a more consistent release management what this means is you we might follow",
    "start": "480960",
    "end": "487440"
  },
  {
    "text": "some naming convention like semantic versioning we have version 1.1.1 and then we make a very minor change or",
    "start": "487440",
    "end": "494280"
  },
  {
    "text": "patch bump up to 1.1.2 and we have these changes queue up and ready to be",
    "start": "494280",
    "end": "499379"
  },
  {
    "text": "released to stigen and be sorry tested to stygen and you can have uit in",
    "start": "499379",
    "end": "504780"
  },
  {
    "text": "regression tests or whole bunch of different um tests running on that environment and we will have these",
    "start": "504780",
    "end": "509940"
  },
  {
    "text": "radiuses ready to be shipped and when I'm a business um make a decision that we want to have",
    "start": "509940",
    "end": "517740"
  },
  {
    "text": "some releases um given to user to play around or to try it out we can uh one one click we",
    "start": "517740",
    "end": "526740"
  },
  {
    "text": "can deploy it to production so that's why from the management perspective this",
    "start": "526740",
    "end": "532080"
  },
  {
    "text": "makes our life easier and obviously it's going to reduce downtime because the the the",
    "start": "532080",
    "end": "539540"
  },
  {
    "text": "release is Thoroughly tested on environment pre-production so we tend to",
    "start": "539540",
    "end": "545580"
  },
  {
    "text": "have codes as many bugs as possible and have got them fixed already and also we've tested not just the binaries or",
    "start": "545580",
    "end": "552899"
  },
  {
    "text": "the docker images but also the configurations obviously we we need to change some of",
    "start": "552899",
    "end": "558839"
  },
  {
    "text": "the configuration when we are actually putting something into the production but the last stage when uh before we",
    "start": "558839",
    "end": "564779"
  },
  {
    "text": "roll out to production is in an environment that has identical to production as possible",
    "start": "564779",
    "end": "570540"
  },
  {
    "text": "and there are running examples which I'll show you in the following slides so that's the downtime on the production",
    "start": "570540",
    "end": "575580"
  },
  {
    "text": "can be minimized and obviously we want to have a a better",
    "start": "575580",
    "end": "580920"
  },
  {
    "text": "security approach because when you have multiple environments set up you can apply your policies and permissions and",
    "start": "580920",
    "end": "587339"
  },
  {
    "text": "controls to those environments so you would then need to expose production",
    "start": "587339",
    "end": "592380"
  },
  {
    "text": "data of course you can obscate it you can hide something blah blah we if you developers are given an environment",
    "start": "592380",
    "end": "598920"
  },
  {
    "text": "without business confidential our actual user data there are less chance um",
    "start": "598920",
    "end": "605220"
  },
  {
    "text": "anything is going to be stolen and of course the end goal or the core",
    "start": "605220",
    "end": "612720"
  },
  {
    "text": "of these approach is to getting the product to the user as quick as possible",
    "start": "612720",
    "end": "618540"
  },
  {
    "text": "an example setup is we have a development environment here the development environment does",
    "start": "618540",
    "end": "624899"
  },
  {
    "text": "not mean or does not only mean the machine developers work on",
    "start": "624899",
    "end": "631860"
  },
  {
    "text": "a lot of people might argue or in a traditional desktop application development practice developers would",
    "start": "631860",
    "end": "638760"
  },
  {
    "text": "have a local machine and then they could do some code change and the F5 make sure",
    "start": "638760",
    "end": "644279"
  },
  {
    "text": "it runs then done actually it's not done because the environment that runs the",
    "start": "644279",
    "end": "650040"
  },
  {
    "text": "software might not be the same one as as you have even with desktop application some",
    "start": "650040",
    "end": "656360"
  },
  {
    "text": "application would relies on some operating system specific functionalities then you need to have at",
    "start": "656360",
    "end": "662579"
  },
  {
    "text": "least a VM running that particular version of operating system up and running and in modern web developments",
    "start": "662579",
    "end": "669560"
  },
  {
    "text": "error we need to have multiple environments and especially for",
    "start": "669560",
    "end": "674700"
  },
  {
    "text": "development environment we need a cloud environment so that we can test Cloud native features when developers are",
    "start": "674700",
    "end": "680399"
  },
  {
    "text": "working on that a good example is signal on our service or service bus or Cosmos there's a local",
    "start": "680399",
    "end": "687420"
  },
  {
    "text": "Cosmos emulator but um it's always good to have a calculation which is quick and easy",
    "start": "687420",
    "end": "693839"
  },
  {
    "text": "and we want to have a staging environment or we can call it a Qi environment or a cup of a Qi environment",
    "start": "693839",
    "end": "700380"
  },
  {
    "text": "that runs different Suite of tests integration test regression tests use acceptance tests UI tests using selenium",
    "start": "700380",
    "end": "708060"
  },
  {
    "text": "playwright so on and so forth and then we have the production environment where we deploy our releases",
    "start": "708060",
    "end": "716519"
  },
  {
    "text": "to as a last step but before we deploy to production environments we are",
    "start": "716519",
    "end": "721560"
  },
  {
    "text": "already relatively confident that the software is going to work in production",
    "start": "721560",
    "end": "727860"
  },
  {
    "text": "and um in order to attribute there are certain strategies we need to follow which we'll touch on later",
    "start": "727860",
    "end": "733980"
  },
  {
    "text": "but before we move on to more deep about the how we build them together I want to",
    "start": "733980",
    "end": "739620"
  },
  {
    "text": "show you how we can set them up so this is a very like like conceptual",
    "start": "739620",
    "end": "744959"
  },
  {
    "text": "so you can see that we have different local development environments on our users machine and then through the CI",
    "start": "744959",
    "end": "751680"
  },
  {
    "text": "continuous integration the code you you committed to your featureman is integrated to the master branch and then",
    "start": "751680",
    "end": "758519"
  },
  {
    "text": "deploy to the development environment and then you have one or multiple test",
    "start": "758519",
    "end": "763560"
  },
  {
    "text": "environment where you can run different Suite of tests and then you have prey",
    "start": "763560",
    "end": "770579"
  },
  {
    "text": "production or maybe another staging and then you're gonna have the production environment",
    "start": "770579",
    "end": "776399"
  },
  {
    "text": "now on Azure how we're gonna set up multiple",
    "start": "776399",
    "end": "781740"
  },
  {
    "text": "environments what are the options out there there are actually a lot of ways to set",
    "start": "781740",
    "end": "787680"
  },
  {
    "text": "up environmental Azure but a more logical why or more reasonable way are",
    "start": "787680",
    "end": "792959"
  },
  {
    "text": "one of these first of all Azure offers something called Azure Management Group Management Group is nothing but just",
    "start": "792959",
    "end": "799740"
  },
  {
    "text": "like a container so you know our active directory Azure active directory so",
    "start": "799740",
    "end": "805019"
  },
  {
    "text": "coming with Azure active directory there's a root tenant Management Group but you can create one or more",
    "start": "805019",
    "end": "810740"
  },
  {
    "text": "management groups underneath it they they are containers that help you to manage users permission your Azure",
    "start": "810740",
    "end": "817860"
  },
  {
    "text": "policy and and compliance with the crop multiple um subscriptions",
    "start": "817860",
    "end": "823800"
  },
  {
    "text": "and of course there's subscription which is a virtual wallet where your resources get built to you can use your credit",
    "start": "823800",
    "end": "830880"
  },
  {
    "text": "card to organize your resources just like how we how we organize our",
    "start": "830880",
    "end": "836820"
  },
  {
    "text": "expenses at home and there's resource groups they are",
    "start": "836820",
    "end": "842399"
  },
  {
    "text": "actually logical grouping of your resources and it's very it's very useful and",
    "start": "842399",
    "end": "848399"
  },
  {
    "text": "flexible you can have a biggest mind you this is like a virtual note or text this",
    "start": "848399",
    "end": "853800"
  },
  {
    "text": "is different from the the text in Azure resource by the way but it's essentially it's it's a virtual like grouping of",
    "start": "853800",
    "end": "860820"
  },
  {
    "text": "your resources whereas if you have a Azure Resource Group spin up in Australia East you can actually have",
    "start": "860820",
    "end": "866820"
  },
  {
    "text": "resources within the resource Group which is in a spin up in um Southeast or Melbourne",
    "start": "866820",
    "end": "874139"
  },
  {
    "text": "dollar Center but it helps you to filter your resources and find the resources easily",
    "start": "874139",
    "end": "880920"
  },
  {
    "text": "so um from this diagram we can see that if we were trying to go with management",
    "start": "880920",
    "end": "886380"
  },
  {
    "text": "group based Resource Group strategy what we can do is we can have multiple",
    "start": "886380",
    "end": "892680"
  },
  {
    "text": "different management groups set up underneath them each of them will have a subscription",
    "start": "892680",
    "end": "898320"
  },
  {
    "text": "and then we have one or more resource groups and then we'll leave the resource",
    "start": "898320",
    "end": "903600"
  },
  {
    "text": "groups to development teams and to make a decision on which resources they want to group together some of them might",
    "start": "903600",
    "end": "910079"
  },
  {
    "text": "want to group some application related resources together sometimes I want to group some data um related resources",
    "start": "910079",
    "end": "916920"
  },
  {
    "text": "together so as I I comparison there is subscription based um",
    "start": "916920",
    "end": "923779"
  },
  {
    "text": "resource environment setup that we skip the Management Group level and we come",
    "start": "923779",
    "end": "930240"
  },
  {
    "text": "to the subscription directly we use um your virtual wallet to organize your",
    "start": "930240",
    "end": "937260"
  },
  {
    "text": "um your environments and then we have a development subscription staging and production",
    "start": "937260",
    "end": "945680"
  },
  {
    "text": "and then last there's a resource Group based environment setup that we have essentially we have different resource",
    "start": "945899",
    "end": "952260"
  },
  {
    "text": "groups and Each of which has a group of resources so this is usually when I",
    "start": "952260",
    "end": "959880"
  },
  {
    "text": "um Greenfield project starts we are uncertain like how many environments we're going to set up so we tend to",
    "start": "959880",
    "end": "966060"
  },
  {
    "text": "start quick and easy then we can use resource groups to organize our resources",
    "start": "966060",
    "end": "971579"
  },
  {
    "text": "uh then we can you know have a sort of like hybrid approach that we're slowly moving into expanding our Azure setup",
    "start": "971579",
    "end": "978600"
  },
  {
    "text": "like for for example we have different departments and you can tell that the marketing department might have some",
    "start": "978600",
    "end": "985139"
  },
  {
    "text": "resources like logic apps power bi uh you only need one subscription really because they they just do some low code",
    "start": "985139",
    "end": "991920"
  },
  {
    "text": "stuff um Pathways and the core engineering department we need to have more resources and more",
    "start": "991920",
    "end": "999240"
  },
  {
    "text": "hierarchies so that we can organize them separately and most of the time we want to separate production and",
    "start": "999240",
    "end": "1005120"
  },
  {
    "text": "non-production subscription because um the we want to monitor the cost generated by this bunch of resources",
    "start": "1005120",
    "end": "1011540"
  },
  {
    "text": "because they are running at different scale as compared to a non-i production environment",
    "start": "1011540",
    "end": "1017480"
  },
  {
    "text": "so that's why it gives us a flexible way to manage and uh monitor our cost",
    "start": "1017480",
    "end": "1024380"
  },
  {
    "text": "so once we've had all the environments set up we surely want to download them",
    "start": "1024380",
    "end": "1030199"
  },
  {
    "text": "what does governance mean it's actually a an analogy to how uh we need and why",
    "start": "1030199",
    "end": "1037579"
  },
  {
    "text": "we need the governments to manage the people so it's about how we manage our resources and make sure that the",
    "start": "1037579",
    "end": "1044178"
  },
  {
    "text": "security uh exercise uh imposed uh throughout the setup",
    "start": "1044179",
    "end": "1050179"
  },
  {
    "text": "there's uh our back which is a robust Access Control and this blueprint which is uh I like a",
    "start": "1050179",
    "end": "1057559"
  },
  {
    "text": "sort of like a stamp that's deployed at a single subscription level it's become possible",
    "start": "1057559",
    "end": "1064520"
  },
  {
    "text": "um artifacts including your um template bicep your role and policy assignment and also",
    "start": "1064520",
    "end": "1072080"
  },
  {
    "text": "uh custom scripts so that you can easily replicate your setup uh spin up another",
    "start": "1072080",
    "end": "1078100"
  },
  {
    "text": "subscription easily and then there's Azure policy that can",
    "start": "1078100",
    "end": "1084020"
  },
  {
    "text": "help us to make sure that we only spin up certain type of results within a resource Group so on and so forth and",
    "start": "1084020",
    "end": "1090380"
  },
  {
    "text": "the grouping inside Azure policies called the initiatives and we can assign policy to a selected",
    "start": "1090380",
    "end": "1096980"
  },
  {
    "text": "amount of resources",
    "start": "1096980",
    "end": "1100000"
  },
  {
    "text": "the environments here comes another topic which is trying to get the",
    "start": "1105919",
    "end": "1112640"
  },
  {
    "text": "environment up and running a lot of us sitting here must have heard about the agile Manifesto it was like",
    "start": "1112640",
    "end": "1120320"
  },
  {
    "text": "released 20 years ago so the uh it has a like 12",
    "start": "1120320",
    "end": "1127580"
  },
  {
    "text": "yeah maybe 12 principles that specify the wall we need to follow in an Agile",
    "start": "1127580",
    "end": "1134120"
  },
  {
    "text": "development and on the top the primary principle is we need to satisfy the customer",
    "start": "1134120",
    "end": "1140840"
  },
  {
    "text": "the way we certify our customer is to have early and continuous delivery of",
    "start": "1140840",
    "end": "1147020"
  },
  {
    "text": "valuable software now the the word the key word here is continuous delivery",
    "start": "1147020",
    "end": "1153700"
  },
  {
    "text": "um a lot of people is confused by continuous delivery and continuous deployments so what is the difference",
    "start": "1153980",
    "end": "1159980"
  },
  {
    "text": "who can tell me who want to give it a go what is the difference between continuous delivery and continuous",
    "start": "1159980",
    "end": "1166100"
  },
  {
    "text": "deployment",
    "start": "1166100",
    "end": "1168460"
  },
  {
    "text": "hmm no bad that that that makes sense to a degree",
    "start": "1174380",
    "end": "1180440"
  },
  {
    "text": "so there are a lot of people different people have different views towards it uh one of the the definition that I like",
    "start": "1180440",
    "end": "1187100"
  },
  {
    "text": "most is from Martin Folia so what he said was continuous delivery",
    "start": "1187100",
    "end": "1192140"
  },
  {
    "text": "is something that you is a discipline the keyboard here is displaying",
    "start": "1192140",
    "end": "1197660"
  },
  {
    "text": "that when we build a software we build it in a way that it is ready and it can",
    "start": "1197660",
    "end": "1203900"
  },
  {
    "text": "be released to end user at any time but it might not have to be deployed to",
    "start": "1203900",
    "end": "1211640"
  },
  {
    "text": "the user straight away in comparison",
    "start": "1211640",
    "end": "1216860"
  },
  {
    "text": "The Continuous deployment has Automation in it that the changes we made are",
    "start": "1216860",
    "end": "1222740"
  },
  {
    "text": "automatically put into production it will result in many",
    "start": "1222740",
    "end": "1228039"
  },
  {
    "text": "deployments or databases so the the really the the difference",
    "start": "1228039",
    "end": "1233299"
  },
  {
    "text": "here is whether it's automated or not so why there's such a difference",
    "start": "1233299",
    "end": "1238760"
  },
  {
    "text": "imagine we have a lot of increments in our software that's the development can come up every day",
    "start": "1238760",
    "end": "1244400"
  },
  {
    "text": "surely we want us to be used by user but we want to give it to the user five times a day",
    "start": "1244400",
    "end": "1250100"
  },
  {
    "text": "probably not because that's a business decision so from engineering teams perspective we",
    "start": "1250100",
    "end": "1256640"
  },
  {
    "text": "want to make sure that we are ready we are always ready to do that but we might not put a trigger we don't do that we",
    "start": "1256640",
    "end": "1262880"
  },
  {
    "text": "don't make the decision we need to listen to business you the business belief that if we amalgamate five",
    "start": "1262880",
    "end": "1268520"
  },
  {
    "text": "releases and deployed it all at once that can give users a better",
    "start": "1268520",
    "end": "1274000"
  },
  {
    "text": "way to try our software we should do that so continuous delivery is the",
    "start": "1274000",
    "end": "1279860"
  },
  {
    "text": "process that we make sure that already our releases are are ready and with minimal",
    "start": "1279860",
    "end": "1285260"
  },
  {
    "text": "um click click click we can get it done whereas continuous deployment is we do",
    "start": "1285260",
    "end": "1291140"
  },
  {
    "text": "that automatically and most of the time we want to have some degree of automation at least to",
    "start": "1291140",
    "end": "1297559"
  },
  {
    "text": "the pre-production environment so it can be a hybrid Approach at the end of the",
    "start": "1297559",
    "end": "1302840"
  },
  {
    "text": "day as we can see the deployment is something that's moving",
    "start": "1302840",
    "end": "1309500"
  },
  {
    "text": "it's automated we want to be able to ship the goods to the user or the to",
    "start": "1309500",
    "end": "1315980"
  },
  {
    "text": "deliver the the things to the user automatically as quick as automatically",
    "start": "1315980",
    "end": "1321740"
  },
  {
    "text": "as we can what are the strategies that can help us to achieve it",
    "start": "1321740",
    "end": "1327440"
  },
  {
    "text": "how many of you have heard about some of the deployment strategy blue green",
    "start": "1327440",
    "end": "1333559"
  },
  {
    "text": "IEP yeah IP testing what else Canary yes exactly so we're gonna we're",
    "start": "1333559",
    "end": "1341840"
  },
  {
    "text": "gonna look into these deployment strategies",
    "start": "1341840",
    "end": "1346840"
  },
  {
    "text": "first of all is Canary deployments or Canary testing",
    "start": "1348740",
    "end": "1354440"
  },
  {
    "text": "regardless of how we call it it's originated from an old mining sort of",
    "start": "1354440",
    "end": "1359980"
  },
  {
    "text": "approach before the miners go down to the mind they usually bring a canary and",
    "start": "1359980",
    "end": "1367039"
  },
  {
    "text": "use it to test whether there was a life-threatening um toxic gas or the",
    "start": "1367039",
    "end": "1373460"
  },
  {
    "text": "degree of the gas emitted down there it was really brutal I don't really",
    "start": "1373460",
    "end": "1379400"
  },
  {
    "text": "agree but the key word here is whether there was life-threatening issues or not so it's",
    "start": "1379400",
    "end": "1386720"
  },
  {
    "text": "Readiness check it doesn't check everything because we",
    "start": "1386720",
    "end": "1392480"
  },
  {
    "text": "only choose a small amount of the feature which we see we believe is most",
    "start": "1392480",
    "end": "1397760"
  },
  {
    "text": "critical or regression related so we can have a quick reverse you we're",
    "start": "1397760",
    "end": "1404720"
  },
  {
    "text": "going to pick like 10 percent of the user so that no matter how evenly distributed or how this person",
    "start": "1404720",
    "end": "1410360"
  },
  {
    "text": "distributed that 10 user is it is it is at the end of the day it's just 10 of the user they're not going to cover all",
    "start": "1410360",
    "end": "1416539"
  },
  {
    "text": "the use cases it can detect problem and regression",
    "start": "1416539",
    "end": "1422120"
  },
  {
    "text": "but we also need to be mindful that there could still be other things going wrong when after when these changes",
    "start": "1422120",
    "end": "1429980"
  },
  {
    "text": "actually release to a group to the whole group of audience",
    "start": "1429980",
    "end": "1435640"
  },
  {
    "text": "now when the canary deployment strategy is running on a rolling uh way then we",
    "start": "1437539",
    "end": "1445520"
  },
  {
    "text": "cut here comes the blue green deployment what this means is starting from a very",
    "start": "1445520",
    "end": "1452419"
  },
  {
    "text": "small amount of user 10 when we slowly ramp it up we are going to move users",
    "start": "1452419",
    "end": "1459799"
  },
  {
    "text": "from the current version to the newer version on slowly but steady Pisces",
    "start": "1459799",
    "end": "1467179"
  },
  {
    "text": "our blue environment and green environment are as identical as possible there has to be some database replica",
    "start": "1467179",
    "end": "1473960"
  },
  {
    "text": "strategies out there to make sure that these two environments talk to the if",
    "start": "1473960",
    "end": "1479659"
  },
  {
    "text": "not the same at least as close as possible on the data schema and data sets",
    "start": "1479659",
    "end": "1484820"
  },
  {
    "text": "and in terms of implementation of blue-green deployment strategy there were some some potential traps and some",
    "start": "1484820",
    "end": "1493400"
  },
  {
    "text": "things we need to look out for such as how we design our database schema to make sure it's Backward Compatible",
    "start": "1493400",
    "end": "1498679"
  },
  {
    "text": "whether we have notable colon so on and so forth but on a high level perspective we want to",
    "start": "1498679",
    "end": "1504440"
  },
  {
    "text": "try to make sure that the configuration between blue environment and green environment are as close as possible",
    "start": "1504440",
    "end": "1511940"
  },
  {
    "text": "and it's commonly route based what that means is we have a route I didn't see",
    "start": "1511940",
    "end": "1517880"
  },
  {
    "text": "that either city has a business level or at a sub-graph level that we can route users to one environment or the other",
    "start": "1517880",
    "end": "1525820"
  },
  {
    "text": "and there's another good reason why we want to Advocate blue green deployment",
    "start": "1526120",
    "end": "1531440"
  },
  {
    "text": "strategy even when we have wrote all the users from the blue environment to the green environment we never",
    "start": "1531440",
    "end": "1538120"
  },
  {
    "text": "decommissioned the blue environment straight away but we leave it standby so if anything goes wrong on the green slot",
    "start": "1538120",
    "end": "1545840"
  },
  {
    "text": "or the green environment we can quickly roll back we still have the old version of the software",
    "start": "1545840",
    "end": "1551179"
  },
  {
    "text": "again data may be something tricky but we're gonna deal with it Case by case",
    "start": "1551179",
    "end": "1558278"
  },
  {
    "text": "so so blue green strategy is really just like a canary strategy or Canary testing",
    "start": "1559460",
    "end": "1564860"
  },
  {
    "text": "or rolling basis there's another one which is called IEP testing so what IP testing is about",
    "start": "1564860",
    "end": "1572720"
  },
  {
    "text": "it's 50 50. but not just 50 50. the idea behind IB testing is you have a",
    "start": "1572720",
    "end": "1579440"
  },
  {
    "text": "theory or you have an argument between your teams like whether this feature is",
    "start": "1579440",
    "end": "1585200"
  },
  {
    "text": "better or that feature is better whether we make the button blue or we make the button red",
    "start": "1585200",
    "end": "1591320"
  },
  {
    "text": "so you can certainly argue from aesthetic perspective or from the you know CIS",
    "start": "1591320",
    "end": "1597620"
  },
  {
    "text": "perspective but most of the time we want to have some statistics to back us up so",
    "start": "1597620",
    "end": "1603740"
  },
  {
    "text": "we run experiment in order to run experiments we need to have a hypothesis to begin with and then",
    "start": "1603740",
    "end": "1611120"
  },
  {
    "text": "we need to work out what are the Matrix that can help us to prove the value that",
    "start": "1611120",
    "end": "1617720"
  },
  {
    "text": "we collect from the experiments which can help us to justify and to",
    "start": "1617720",
    "end": "1623960"
  },
  {
    "text": "prove uh either a is better or B is better so usually we call I the group I",
    "start": "1623960",
    "end": "1630080"
  },
  {
    "text": "code control group and we have treatment group and we even distribute the users to each",
    "start": "1630080",
    "end": "1636980"
  },
  {
    "text": "of these feature and let them play around collect the metric and see whether they like it or not",
    "start": "1636980",
    "end": "1643700"
  },
  {
    "text": "so this is really scientific approach that can help us um however",
    "start": "1643700",
    "end": "1650080"
  },
  {
    "text": "the the hard work here is how we can make a good um hypothesis and what are the Matrix",
    "start": "1650080",
    "end": "1656720"
  },
  {
    "text": "that we are going to collect and observe is quite challenging",
    "start": "1656720",
    "end": "1664900"
  },
  {
    "text": "now in order to implement any of this strategy we need to be able to toggle",
    "start": "1664900",
    "end": "1672559"
  },
  {
    "text": "something on and toggle something off no matter this toggling on and off is on front end",
    "start": "1672559",
    "end": "1678260"
  },
  {
    "text": "like your HTML or is attracting from your devops pipeline before you deploy",
    "start": "1678260",
    "end": "1683900"
  },
  {
    "text": "to environment or on the server side it is essentially some if else statement",
    "start": "1683900",
    "end": "1689480"
  },
  {
    "text": "if the use belongs to 10 of user we route them to this environment if it's the other 90 we run them to that",
    "start": "1689480",
    "end": "1695779"
  },
  {
    "text": "environment or let them click the other button and there are certain tools that can",
    "start": "1695779",
    "end": "1701480"
  },
  {
    "text": "help us to do it there's uh we all from most of us are from Antonio background so in dollar there's a default feature",
    "start": "1701480",
    "end": "1708740"
  },
  {
    "text": "management um and on Azure there's app configuration service um you can filter your app configuration",
    "start": "1708740",
    "end": "1715220"
  },
  {
    "text": "by features and you have a delicate feature management where you can work out the percentage and Etc",
    "start": "1715220",
    "end": "1721580"
  },
  {
    "text": "and there's long struggling they have a boost out there um they have a cool thing on Azure devil",
    "start": "1721580",
    "end": "1726799"
  },
  {
    "text": "which is the feature rollout step uh which which can be easily fund um as a",
    "start": "1726799",
    "end": "1732740"
  },
  {
    "text": "step in the release tab now in order to implement these",
    "start": "1732740",
    "end": "1739940"
  },
  {
    "text": "Progressive deployment strategy on Azure what can we do first of all we need some",
    "start": "1739940",
    "end": "1746059"
  },
  {
    "text": "Network routing services to help us sitting at the front and Route the traffic to different",
    "start": "1746059",
    "end": "1751460"
  },
  {
    "text": "um slots or group of users there are a couple of options there's Azure front door which is sitting at a",
    "start": "1751460",
    "end": "1757640"
  },
  {
    "text": "global level and it's a HTTP has to be as based it has white based routing rule",
    "start": "1757640",
    "end": "1764120"
  },
  {
    "text": "the second kind of application Gateway sitting at Global level is traffic manager it's DNS based so you can have",
    "start": "1764120",
    "end": "1772330"
  },
  {
    "text": "[Music] station.blad.net.com or and and Qi Dot",
    "start": "1772330",
    "end": "1777980"
  },
  {
    "text": "blah.com and you have weighted run robbing routing method uh defined so",
    "start": "1777980",
    "end": "1783559"
  },
  {
    "text": "that the traffic is distributed and on the regional level this uh",
    "start": "1783559",
    "end": "1789799"
  },
  {
    "text": "application Gateway and we have API management I really like",
    "start": "1789799",
    "end": "1795440"
  },
  {
    "text": "it because I work in Microsoft Services a lot so usually with microservice you always need a sort of like a facade",
    "start": "1795440",
    "end": "1801500"
  },
  {
    "text": "especially when you want to migrate services or applications from Legacy to",
    "start": "1801500",
    "end": "1807020"
  },
  {
    "text": "the new you want to have a facade so that you can support your strength graphic pattern which I touched on in my",
    "start": "1807020",
    "end": "1812659"
  },
  {
    "text": "previous talk at NDC but API management is an Azure path service that does the",
    "start": "1812659",
    "end": "1818299"
  },
  {
    "text": "same thing for us however it has a built-in app Gateway that has the policies which I'll show you the code in",
    "start": "1818299",
    "end": "1826159"
  },
  {
    "text": "the next few slides and at last there's deployment slots offered by our other app service",
    "start": "1826159",
    "end": "1834320"
  },
  {
    "text": "which is great especially when we are dealing with web app either native web app or",
    "start": "1834320",
    "end": "1841580"
  },
  {
    "text": "containerized web app",
    "start": "1841580",
    "end": "1844720"
  },
  {
    "text": "the the A-Day work are more or less similar let's take a traffic manager as example",
    "start": "1846860",
    "end": "1852399"
  },
  {
    "text": "if you try and if we're trying to implement a a blue green deployment",
    "start": "1852399",
    "end": "1858559"
  },
  {
    "text": "strategy we start from two environments obviously we have the existing version running as the blue environment and we",
    "start": "1858559",
    "end": "1865580"
  },
  {
    "text": "have a new feature are ready and it's already deployed there",
    "start": "1865580",
    "end": "1871898"
  },
  {
    "text": "but we are routing only zero percent of users today for a minute then what we do is run some",
    "start": "1871940",
    "end": "1878720"
  },
  {
    "text": "configuration change we are going to Route the user we're going to wrap ramp up the number from zero percent to a",
    "start": "1878720",
    "end": "1885679"
  },
  {
    "text": "higher percentage like 20 30 or maybe 50. all right so",
    "start": "1885679",
    "end": "1891919"
  },
  {
    "text": "pay special attention to this replicated DB this is important that's uh it is not",
    "start": "1891919",
    "end": "1898460"
  },
  {
    "text": "just a relational development but also of course most non-relational data store storage account as well you need to make",
    "start": "1898460",
    "end": "1903559"
  },
  {
    "text": "sure that these two environments are talking to a data store which are identical as possible",
    "start": "1903559",
    "end": "1910658"
  },
  {
    "text": "and then at last we're gonna route all the traffic to the green slot",
    "start": "1910760",
    "end": "1918200"
  },
  {
    "text": "but at this moment is it done sort of but not really fully done because you want to swap the slot so",
    "start": "1918200",
    "end": "1926179"
  },
  {
    "text": "that otherwise you have to modify the DNS routing uh in here to make sure that",
    "start": "1926179",
    "end": "1931220"
  },
  {
    "text": "this slot represents um the latest version and based on the DNS or the routing rule",
    "start": "1931220",
    "end": "1939399"
  },
  {
    "text": "and in deployment slot we can see it it offers a handy traffic management",
    "start": "1939679",
    "end": "1945279"
  },
  {
    "text": "routing sort of like percentage feature that we can easily leverage to define",
    "start": "1945279",
    "end": "1951980"
  },
  {
    "text": "the potency the percentage of traffic we want route to a particular slot",
    "start": "1951980",
    "end": "1958299"
  },
  {
    "text": "with API management what we can do is it offers us a policy definition",
    "start": "1958760",
    "end": "1966500"
  },
  {
    "text": "um place where we can write some c-sharp like language how cool it is",
    "start": "1966500",
    "end": "1973159"
  },
  {
    "text": "we can read it and we will understand what it means so if there's a canary percentage let's say 10 then if we",
    "start": "1973159",
    "end": "1979640"
  },
  {
    "text": "generate some random number is lower than 10 we're going to route to this backend URL rather than the default one",
    "start": "1979640",
    "end": "1989260"
  },
  {
    "text": "and since we can express this logic within this policy definition you know",
    "start": "1989419",
    "end": "1996440"
  },
  {
    "text": "like XML sort of style we can surely have it in our code",
    "start": "1996440",
    "end": "2003100"
  },
  {
    "text": "it's not a hard it's not hard to achieve now let's jump to the demo",
    "start": "2003100",
    "end": "2010299"
  },
  {
    "text": "enough talking",
    "start": "2010299",
    "end": "2013080"
  },
  {
    "text": "first of all I've got some code",
    "start": "2015460",
    "end": "2022120"
  },
  {
    "text": "so what I've got is I've got a front end which is really simple I just call a",
    "start": "2022120",
    "end": "2027519"
  },
  {
    "text": "backend URL where I'm demoing the deployment slot by the way so I have a webpad deployed to the backend which",
    "start": "2027519",
    "end": "2033279"
  },
  {
    "text": "I'll show you in a bit but the front what the front end does is very simple whether we are hitting feature IO feature B and we want to see the",
    "start": "2033279",
    "end": "2038500"
  },
  {
    "text": "percentage okay so if we jump to um the app and we refresh it we're gonna",
    "start": "2038500",
    "end": "2045640"
  },
  {
    "text": "see that currently we are only hitting feature I",
    "start": "2045640",
    "end": "2051040"
  },
  {
    "text": "uh because we are routing 100 of the traffic to um the production slot",
    "start": "2051040",
    "end": "2057700"
  },
  {
    "text": "now if we come back to the code and we quickly have a look at the backend backing is very simple it's",
    "start": "2057700",
    "end": "2063280"
  },
  {
    "text": "nothing is just a very normal um done app and uh we want to just make",
    "start": "2063280",
    "end": "2069339"
  },
  {
    "text": "a change on DC um or maybe three and let's commit to",
    "start": "2069339",
    "end": "2076000"
  },
  {
    "text": "the change",
    "start": "2076000",
    "end": "2078240"
  },
  {
    "text": "all right so once I've uh committed change and sync with my",
    "start": "2083020",
    "end": "2088720"
  },
  {
    "text": "remote the CI process keep clean I don't have automatic trigger because I",
    "start": "2088720",
    "end": "2094658"
  },
  {
    "text": "want to show you the demo but what it does is I have a pipeline setup on azure",
    "start": "2094659",
    "end": "2099760"
  },
  {
    "text": "devops what it does is first of all let me run it first",
    "start": "2099760",
    "end": "2106559"
  },
  {
    "text": "but essentially what it does if we look at the previous Run is it has multiple",
    "start": "2108220",
    "end": "2113980"
  },
  {
    "text": "stages first of all there was a there is a build stage where we built we do donate",
    "start": "2113980",
    "end": "2121420"
  },
  {
    "text": "build we built the artifacts we package it up and then we have a deployment",
    "start": "2121420",
    "end": "2126940"
  },
  {
    "text": "stage where we deploy our change to our staging slots and then we slowly ramp up the",
    "start": "2126940",
    "end": "2133420"
  },
  {
    "text": "percentage of the traffic So eventually it gets to 100 and then we put the",
    "start": "2133420",
    "end": "2138880"
  },
  {
    "text": "trigger to",
    "start": "2138880",
    "end": "2142320"
  },
  {
    "text": "swap the slot if you look at the definition of the",
    "start": "2144040",
    "end": "2149079"
  },
  {
    "text": "pipeline",
    "start": "2149079",
    "end": "2151560"
  },
  {
    "text": "we have everything code by the way if you look at the the code",
    "start": "2154960",
    "end": "2161200"
  },
  {
    "text": "you can see that first of all we have the the build stage and we are we archive the artifact and",
    "start": "2161200",
    "end": "2170260"
  },
  {
    "text": "then we have multiple um strategies for deployment the first thing we do is by leveraging the app",
    "start": "2170260",
    "end": "2176500"
  },
  {
    "text": "service management task we can stop the app service and restart it we don't have to do it Azure can manage it for us but",
    "start": "2176500",
    "end": "2184060"
  },
  {
    "text": "it's always good practice to do it so it's um it gives the other developers",
    "start": "2184060",
    "end": "2189880"
  },
  {
    "text": "an understanding of how we control the flow so what we do is now we just upload the",
    "start": "2189880",
    "end": "2196780"
  },
  {
    "text": "um artifacts if it's a containerized web app what we do instead is that we flip",
    "start": "2196780",
    "end": "2202540"
  },
  {
    "text": "the docker image in the in the runtime configuration",
    "start": "2202540",
    "end": "2209320"
  },
  {
    "text": "and then here's the interesting thing we want to make change to the routing",
    "start": "2209320",
    "end": "2217660"
  },
  {
    "text": "configuration I call it Canary deployment but it's essentially which is bumping up the",
    "start": "2217660",
    "end": "2223720"
  },
  {
    "text": "percentage by running an address CI command while Azure CRI task this is really handy it handles all the",
    "start": "2223720",
    "end": "2230079"
  },
  {
    "text": "authentication you know you don't need to do two factors indications Etc it handles it for us",
    "start": "2230079",
    "end": "2236260"
  },
  {
    "text": "now if you really want there's a handy white which is called the light we can",
    "start": "2236260",
    "end": "2241960"
  },
  {
    "text": "track in the delay in minutes so that we can have a great like sliding",
    "start": "2241960",
    "end": "2248079"
  },
  {
    "text": "window for us to collect Matrix from the environments like how many uh percent of traffic is hitting which environment",
    "start": "2248079",
    "end": "2254020"
  },
  {
    "text": "where the users are happy or not as long as we have the experiment ready but this only runs on agentless job what this",
    "start": "2254020",
    "end": "2259839"
  },
  {
    "text": "means is that you need to have a server it doesn't run on the default uh pool which is uh what I Define here",
    "start": "2259839",
    "end": "2267339"
  },
  {
    "text": "Ubuntu yeah and you have Chrome jobs and Etc as well",
    "start": "2267339",
    "end": "2273880"
  },
  {
    "text": "on devops this is these are all really handy all right so before I continue let's",
    "start": "2273880",
    "end": "2281079"
  },
  {
    "text": "look at whether my latest build is running oh great it's ready but before we we do",
    "start": "2281079",
    "end": "2287440"
  },
  {
    "text": "anything oh actually let me let me let me run the deployment stage first because it's going to take time",
    "start": "2287440",
    "end": "2293980"
  },
  {
    "text": "um now at this moment",
    "start": "2293980",
    "end": "2299560"
  },
  {
    "text": "this is azure and this is my sample web app as we can see it has a URL",
    "start": "2299560",
    "end": "2306960"
  },
  {
    "text": "and it has deployment slots",
    "start": "2306960",
    "end": "2312160"
  },
  {
    "text": "agile gives us two uh the way to add slots we can add more slots currently",
    "start": "2312160",
    "end": "2317859"
  },
  {
    "text": "I'm telling Azure to Route the traffic 100 to the my instance and route zero",
    "start": "2317859",
    "end": "2324339"
  },
  {
    "text": "percent to slide your instance what this means is when we are hitting",
    "start": "2324339",
    "end": "2329980"
  },
  {
    "text": "uh the main um instance we're gonna get the response here in",
    "start": "2329980",
    "end": "2336400"
  },
  {
    "text": "feature a we're not going to get you're in feature B hence why you are seeing here we are",
    "start": "2336400",
    "end": "2343119"
  },
  {
    "text": "hitting a hundred percent hitting feature a hundred percent",
    "start": "2343119",
    "end": "2348900"
  },
  {
    "text": "although we have a staging site",
    "start": "2348900",
    "end": "2354400"
  },
  {
    "text": "which are for the URL and if we hit it",
    "start": "2354400",
    "end": "2359039"
  },
  {
    "text": "the last response was B2 I think it's it's actually run the deployment so so it's going to take some time",
    "start": "2362079",
    "end": "2369539"
  },
  {
    "text": "it is done yeah I think so yeah B3 you see that's the latest change",
    "start": "2369940",
    "end": "2377020"
  },
  {
    "text": "I literally just made five minutes ago or three minutes ago so we have a",
    "start": "2377020",
    "end": "2382300"
  },
  {
    "text": "staging site it's sitting on a different URL and we are able to call it separately if we want but if we call it",
    "start": "2382300",
    "end": "2389980"
  },
  {
    "text": "from the main uh URL from the the URL from the main app we're always gonna hit",
    "start": "2389980",
    "end": "2395800"
  },
  {
    "text": "feature a which is the Mind instance now excitement begins let's bump up the",
    "start": "2395800",
    "end": "2403119"
  },
  {
    "text": "percentage approve now",
    "start": "2403119",
    "end": "2408960"
  },
  {
    "text": "usually as a team lead you want to have sort of some control and make sure that um you run the experiment in the time uh",
    "start": "2411700",
    "end": "2418839"
  },
  {
    "text": "you are comfortable to watch the The Matrix so with devops you can have",
    "start": "2418839",
    "end": "2425140"
  },
  {
    "text": "um different environment set up here and within each environment you can have",
    "start": "2425140",
    "end": "2430540"
  },
  {
    "text": "your a bunch of",
    "start": "2430540",
    "end": "2436859"
  },
  {
    "text": "kite or a bunch of triggers here whether we do the we have a policy",
    "start": "2436859",
    "end": "2442660"
  },
  {
    "text": "around business hour that that step attached to environment only runs within uh sorry outside business hour or",
    "start": "2442660",
    "end": "2449440"
  },
  {
    "text": "whether you want to hook to rest API you know as a function so on and so forth",
    "start": "2449440",
    "end": "2454480"
  },
  {
    "text": "this is really handy because if say if a development is say oh we only want to ramp up the traffic uh from 10 to 20",
    "start": "2454480",
    "end": "2462760"
  },
  {
    "text": "outside business hours so that gives users a simplest experience we can do it file the configuration of simple",
    "start": "2462760",
    "end": "2469420"
  },
  {
    "text": "configuration with the environment we don't have to change the yaml code in the pipeline",
    "start": "2469420",
    "end": "2475480"
  },
  {
    "text": "all right let's come back and see how it goes all right the 10 is done now let's go",
    "start": "2475480",
    "end": "2483579"
  },
  {
    "text": "back to Azure and verify it let me click out",
    "start": "2483579",
    "end": "2489040"
  },
  {
    "text": "and click backing great it's ten percent I didn't make any change here manually it's all done via",
    "start": "2489040",
    "end": "2495160"
  },
  {
    "text": "to CI and now let's prove it only two all right let's refresh because",
    "start": "2495160",
    "end": "2501099"
  },
  {
    "text": "it accumulated from the beginning um forgive my CSS it's flickering but um my",
    "start": "2501099",
    "end": "2511480"
  },
  {
    "text": "math teacher tells me we need to run enough amount of experiments so you will stick to the percentage let's see if it",
    "start": "2511480",
    "end": "2517180"
  },
  {
    "text": "will come to 10 so the theory is that we are hitting this URL",
    "start": "2517180",
    "end": "2522880"
  },
  {
    "text": "um or the VR the URL is in the code you've seen it before um we are hitting this URL",
    "start": "2522880",
    "end": "2530380"
  },
  {
    "text": "so the traffic would be distributed to two um slots ninety percent to the main slot",
    "start": "2530380",
    "end": "2537579"
  },
  {
    "text": "and ten percent to the station slot",
    "start": "2537579",
    "end": "2541380"
  },
  {
    "text": "or if it runs long enough it's gonna it's gonna more adhere to 10 percent",
    "start": "2544119",
    "end": "2550060"
  },
  {
    "text": "so over inches of time let's get to the next step let's bump it up to 50 percent",
    "start": "2550060",
    "end": "2558160"
  },
  {
    "text": "all right we're gonna approve again now here we've mentioned about a b testing with",
    "start": "2558160",
    "end": "2563980"
  },
  {
    "text": "IB testing we probably need to flexibly arrange it we want it to be bumped up to",
    "start": "2563980",
    "end": "2569020"
  },
  {
    "text": "50 straight away and usually with IB testing we want a more comprehensive approach we might need to have some um",
    "start": "2569020",
    "end": "2576040"
  },
  {
    "text": "kind of Gateway sitting in front of our our actual back-end services and the backend service doesn't have to be other",
    "start": "2576040",
    "end": "2583000"
  },
  {
    "text": "web app containerized web app or native web app it could also be something like",
    "start": "2583000",
    "end": "2588119"
  },
  {
    "text": "your a port in your kubernetes cluster or anything or other function",
    "start": "2588119",
    "end": "2595960"
  },
  {
    "text": "um now",
    "start": "2595960",
    "end": "2601480"
  },
  {
    "text": "the we've ramped it up to 50 let's have a look",
    "start": "2601480",
    "end": "2607020"
  },
  {
    "text": "you see very close to 10 percent yeah",
    "start": "2607060",
    "end": "2612359"
  },
  {
    "text": "so when when my math teacher told me was correct all right so now it should be 50",
    "start": "2612700",
    "end": "2620200"
  },
  {
    "text": ". let's let's witness the miracle um it should be 50",
    "start": "2620200",
    "end": "2626220"
  },
  {
    "text": "once we are happy with the evenly distributed setup we can",
    "start": "2626920",
    "end": "2633460"
  },
  {
    "text": "bump it up further to a hundred percent I'm going to approve again",
    "start": "2633460",
    "end": "2639460"
  },
  {
    "text": "let it pump up to a hundred percent",
    "start": "2639460",
    "end": "2643619"
  },
  {
    "text": "while we're waiting now just keep this running flickering so as you can see from what I'm doing",
    "start": "2644980",
    "end": "2652839"
  },
  {
    "text": "it's some of it can be automated like for for the Department of State environment Etc but some of the steps",
    "start": "2652839",
    "end": "2659740"
  },
  {
    "text": "has to be menu not because we cannot automated it is because we want it to be",
    "start": "2659740",
    "end": "2666760"
  },
  {
    "text": "manually done so we can manage the process especially for a rolling basis",
    "start": "2666760",
    "end": "2673180"
  },
  {
    "text": "deployment strategy we want to observe the effect and we can take actions if",
    "start": "2673180",
    "end": "2678640"
  },
  {
    "text": "production goes down after we ramp up from 50 to 70 percent we want to quickly roll back and I'll show you how easy it",
    "start": "2678640",
    "end": "2685900"
  },
  {
    "text": "is to roll back just in a minute",
    "start": "2685900",
    "end": "2690240"
  },
  {
    "text": "hmm all right give it some time so now it's a hundred percent fully routing to this",
    "start": "2698800",
    "end": "2704740"
  },
  {
    "text": "staging so an interesting thing here is so this Swagger is the uh Swagger from",
    "start": "2704740",
    "end": "2712300"
  },
  {
    "text": "the mine instance let's hit the feature fresh",
    "start": "2712300",
    "end": "2719700"
  },
  {
    "text": "it's still in feature I but if we refresh this one",
    "start": "2721540",
    "end": "2726838"
  },
  {
    "text": "you can see that we are 100 hidden feature B so that means all our users are now in",
    "start": "2729880",
    "end": "2737980"
  },
  {
    "text": "the green slot so that means we are almost done with it",
    "start": "2737980",
    "end": "2745079"
  },
  {
    "text": "only with the last step which is we want to swap the slot",
    "start": "2745180",
    "end": "2752220"
  },
  {
    "text": "so that the green environments can officially become the blue",
    "start": "2752380",
    "end": "2757780"
  },
  {
    "text": "slot or the blue environment because I'm dampering with the very uh",
    "start": "2757780",
    "end": "2763599"
  },
  {
    "text": "basic setup offered by app service if we want to have a more hybrid or comprehensive solution you might need to",
    "start": "2763599",
    "end": "2770020"
  },
  {
    "text": "tweak your API Gateway you know any of those um routing",
    "start": "2770020",
    "end": "2777400"
  },
  {
    "text": "Solutions but now",
    "start": "2777400",
    "end": "2782460"
  },
  {
    "text": "let's approve the change and let's warp the slot",
    "start": "2783040",
    "end": "2787200"
  },
  {
    "text": "what's going to happen is these two slots are going to be swapped",
    "start": "2793859",
    "end": "2800020"
  },
  {
    "text": "so when we are hitting the live URL we are hitting the staging slow well the",
    "start": "2800020",
    "end": "2806260"
  },
  {
    "text": "previous digest law which becomes the current production slot",
    "start": "2806260",
    "end": "2811559"
  },
  {
    "text": "which means that we will see feature B when we hit the uh the my URL",
    "start": "2813099",
    "end": "2822760"
  },
  {
    "text": "let's see when it's done it's still running",
    "start": "2822760",
    "end": "2828579"
  },
  {
    "text": "so the swoop slots is done by a zure devops command code",
    "start": "2828579",
    "end": "2837000"
  },
  {
    "text": "or still the app service manage manage task and we do swap slots but if we are",
    "start": "2838000",
    "end": "2844480"
  },
  {
    "text": "trying to swap slots we don't need to specify the target slot we just need to specify the source slot",
    "start": "2844480",
    "end": "2851200"
  },
  {
    "text": "this is just some of the fintechs consideration",
    "start": "2851200",
    "end": "2856079"
  },
  {
    "text": "it's going to take some time so if let's let it run",
    "start": "2858640",
    "end": "2864040"
  },
  {
    "text": "and we'll come back in a bit in the meantime what I'll show you",
    "start": "2864040",
    "end": "2869800"
  },
  {
    "text": "is API management",
    "start": "2869800",
    "end": "2876940"
  },
  {
    "text": "in action so what does API management do is first of all it gives you a price for",
    "start": "2876940",
    "end": "2883839"
  },
  {
    "text": "you to manage your open API definitions it has a built-in application Gateway",
    "start": "2883839",
    "end": "2890020"
  },
  {
    "text": "but also you can bring yourself hostile application guide for leverage other Azure services",
    "start": "2890020",
    "end": "2895599"
  },
  {
    "text": "but for the purpose of today's demo I have some API I imported them",
    "start": "2895599",
    "end": "2903220"
  },
  {
    "text": "from the um the mine service and you can see that I give it a web service URL",
    "start": "2903220",
    "end": "2909460"
  },
  {
    "text": "which is from the main app and we can test it but before we go",
    "start": "2909460",
    "end": "2915579"
  },
  {
    "text": "about testing it I want to show you the policy in action which is from the",
    "start": "2915579",
    "end": "2920920"
  },
  {
    "text": "screenshot you saw so as you can see it's very easy",
    "start": "2920920",
    "end": "2927640"
  },
  {
    "text": "to write some code here and whatever written here can easily be uh automatic",
    "start": "2927640",
    "end": "2934599"
  },
  {
    "text": "in code um I haven't I haven't I haven't got a running code version of it but um",
    "start": "2934599",
    "end": "2940780"
  },
  {
    "text": "if we're all from Azure background we know Azure has armed temporary bicep templates which these things can be can",
    "start": "2940780",
    "end": "2946960"
  },
  {
    "text": "be done easily so before I continue because I'm going to",
    "start": "2946960",
    "end": "2952180"
  },
  {
    "text": "potentially screw up the percentage I want to finish this Demo First so we've swapped the slots so what that means is",
    "start": "2952180",
    "end": "2959740"
  },
  {
    "text": "when we are hitting the mine instance what we're going to get is",
    "start": "2959740",
    "end": "2967240"
  },
  {
    "text": "feature B ah we are the the change is actually in",
    "start": "2967240",
    "end": "2972819"
  },
  {
    "text": "production no room to regret anymore but but we've done enough testing",
    "start": "2972819",
    "end": "2978640"
  },
  {
    "text": "ramping up from 10 all the way to 100 we build up our confidence by collecting",
    "start": "2978640",
    "end": "2983740"
  },
  {
    "text": "Matrix so running experiments getting confidence can really help us to",
    "start": "2983740",
    "end": "2990819"
  },
  {
    "text": "satisfy our customers all right so the last thing I want to",
    "start": "2990819",
    "end": "2996640"
  },
  {
    "text": "show you is API management of course but in order to show it I need to have a",
    "start": "2996640",
    "end": "3003599"
  },
  {
    "text": "different distribution to the apps oh no no no no the distribution can be",
    "start": "3003599",
    "end": "3009720"
  },
  {
    "text": "can remind the sign but uh there has to be a percentage here so",
    "start": "3009720",
    "end": "3016280"
  },
  {
    "text": "based on this percentage uh we're gonna get routed to different instances",
    "start": "3016280",
    "end": "3022740"
  },
  {
    "text": "because now the station um I need to get my hair around the staging instance becomes the live",
    "start": "3022740",
    "end": "3029640"
  },
  {
    "text": "instance and the live instance became the the stake instance let's just prove it just make sure that I mean I'm in the",
    "start": "3029640",
    "end": "3035460"
  },
  {
    "text": "right track yeah so when we hit the stage instance we get feature a which was the previous production instance so now",
    "start": "3035460",
    "end": "3043260"
  },
  {
    "text": "let's come back here and do some testing so API management gives you a UI to test",
    "start": "3043260",
    "end": "3049500"
  },
  {
    "text": "to your policy let's hit send and feature B say hey send again",
    "start": "3049500",
    "end": "3057119"
  },
  {
    "text": "future B sound again sound again",
    "start": "3057119",
    "end": "3062059"
  },
  {
    "text": "feature a so you should [Music] um",
    "start": "3062579",
    "end": "3067460"
  },
  {
    "text": "it should be following what we defined in the policy like only 10 traffic is",
    "start": "3071339",
    "end": "3077579"
  },
  {
    "text": "going to be a hit in feature I and the rest 90 should be hitting feature B so",
    "start": "3077579",
    "end": "3083420"
  },
  {
    "text": "by the look of it these API management works very similar to the studies law",
    "start": "3083420",
    "end": "3088920"
  },
  {
    "text": "then why we even want to look at what we border it is because this base URL can",
    "start": "3088920",
    "end": "3095760"
  },
  {
    "text": "be anything as long as it's a URL it can be an IP address can be you know your uh a port",
    "start": "3095760",
    "end": "3102540"
  },
  {
    "text": "in your kubernetes cluster can be other function can be other container app can be anything",
    "start": "3102540",
    "end": "3108420"
  },
  {
    "text": "well in when we are dealing with microservice API management comes in handy",
    "start": "3108420",
    "end": "3113819"
  },
  {
    "text": "you not only manage your API you have your backend for front end but also you",
    "start": "3113819",
    "end": "3118980"
  },
  {
    "text": "have a routing strategy to support us to implement different deployment strategy",
    "start": "3118980",
    "end": "3125819"
  },
  {
    "text": "we don't have to use it but this is an option for you to consider when we're dealing with a large Enterprise",
    "start": "3125819",
    "end": "3132119"
  },
  {
    "text": "applications in microservice architecture oops",
    "start": "3132119",
    "end": "3138440"
  },
  {
    "text": "come on all right it's coming back all right it's the end of the demo let's",
    "start": "3140280",
    "end": "3146880"
  },
  {
    "text": "come back so as I mentioned before in reality the",
    "start": "3146880",
    "end": "3156359"
  },
  {
    "text": "demo is just a demo just a proof of concept but in reality usually we want to use a hybrid approach and one of the",
    "start": "3156359",
    "end": "3163200"
  },
  {
    "text": "why we can implement the hybrid approach is that we can bring in our own application Gateway here it is the um",
    "start": "3163200",
    "end": "3169319"
  },
  {
    "text": "Azure applications in red dealing with regional traffic if you wanted to deal it with a global you have traffic",
    "start": "3169319",
    "end": "3174480"
  },
  {
    "text": "manager you have a front door or you can even spin up your own ninjag controller whatever reverse proceed but what it",
    "start": "3174480",
    "end": "3180960"
  },
  {
    "text": "does is it has it has the routing rule which is very similar to what API management gives but what it does is",
    "start": "3180960",
    "end": "3189059"
  },
  {
    "text": "very simple based on the routing rule we set some headers or some information that we won't hand over to the",
    "start": "3189059",
    "end": "3195660"
  },
  {
    "text": "subsequent API management and in the regional um setup we have iPad management and we",
    "start": "3195660",
    "end": "3201300"
  },
  {
    "text": "only interrogate that particular header rather than defining the rule again so that's why you have a centralized price",
    "start": "3201300",
    "end": "3207660"
  },
  {
    "text": "where you manage your routing rule IPM Management's logic becomes very simple if",
    "start": "3207660",
    "end": "3213720"
  },
  {
    "text": "the header is this route to that if the header is that route to that",
    "start": "3213720",
    "end": "3218880"
  },
  {
    "text": "so that's why each development team can have had or each substring of the business can have their own API",
    "start": "3218880",
    "end": "3225000"
  },
  {
    "text": "management and we have a centralized price to manage um application Gateway",
    "start": "3225000",
    "end": "3230460"
  },
  {
    "text": "that makes the development team working closely with the infrastructure infrastructure team if the organization",
    "start": "3230460",
    "end": "3236880"
  },
  {
    "text": "is designed is structured that way to just",
    "start": "3236880",
    "end": "3242819"
  },
  {
    "text": "um something for you to consider uh when we are dealing with applications at different scale",
    "start": "3242819",
    "end": "3250160"
  },
  {
    "text": "all right uh time is running out so as bit of summary today",
    "start": "3251040",
    "end": "3257160"
  },
  {
    "text": "first of all I corrected my mistake on the slide I was lucky that my talk got",
    "start": "3257160",
    "end": "3262980"
  },
  {
    "text": "Peaks even with a small Miss like that um but um in a real agile world we want to be",
    "start": "3262980",
    "end": "3269579"
  },
  {
    "text": "able to fix our mistakes as quick as we can and we want to satisfy our audience or customer so in order to do so we want",
    "start": "3269579",
    "end": "3277200"
  },
  {
    "text": "to have a way to set up multiple environments and a way to both different environments",
    "start": "3277200",
    "end": "3283500"
  },
  {
    "text": "up to deploy our application to and also run test sufficient amount of tests",
    "start": "3283500",
    "end": "3290520"
  },
  {
    "text": "would help us to build confidence that we wouldn't screw up the production environment",
    "start": "3290520",
    "end": "3297119"
  },
  {
    "text": "and we look at how we do that on Azure with plenty of examples and hopefully",
    "start": "3297119",
    "end": "3302339"
  },
  {
    "text": "you you have followed me and learned something from it and of course we did that demo",
    "start": "3302339",
    "end": "3309059"
  },
  {
    "text": "um I hope you have all enjoyed and as part of the gamification thing we've got a boost there you can we have a Rewards",
    "start": "3309059",
    "end": "3315960"
  },
  {
    "text": "app and you can scan it to get some some good swag um you know me band",
    "start": "3315960",
    "end": "3322440"
  },
  {
    "text": "whatever yeah all right with that thank you very much any questions",
    "start": "3322440",
    "end": "3329900"
  },
  {
    "text": "all right so you can leverage that swap slot yeah",
    "start": "3340920",
    "end": "3346578"
  },
  {
    "text": "you change it to zero percent yeah yeah yeah change to zero percent or you can",
    "start": "3351380",
    "end": "3357059"
  },
  {
    "text": "use like what I show you um you can use that task or you can do it on the UI",
    "start": "3357059",
    "end": "3362460"
  },
  {
    "text": "so how you do it on the UI is from here",
    "start": "3362460",
    "end": "3369859"
  },
  {
    "text": "on the deployment slots you can swap slot from here as well yeah",
    "start": "3378780",
    "end": "3384780"
  },
  {
    "text": "yeah so usually we want to do this manually because we can have some a degree of control yeah",
    "start": "3384780",
    "end": "3393299"
  },
  {
    "text": "foreign",
    "start": "3402900",
    "end": "3405900"
  },
  {
    "text": "that's a very good question just for the sake of streaming um so your question was about how we can uh reflect these",
    "start": "3426119",
    "end": "3433619"
  },
  {
    "text": "two group of user on front end particularly uh rather than just giving a verbi six statistics",
    "start": "3433619",
    "end": "3440099"
  },
  {
    "text": "um I'm not a front-end expert but what it boils down to I believe is some feature toggling functionality we need",
    "start": "3440099",
    "end": "3447300"
  },
  {
    "text": "to leverage some feature management libraries like what I showed before there are some front-end libraries and",
    "start": "3447300",
    "end": "3454140"
  },
  {
    "text": "launch Darkly has a front-end SD card that we hook into and then we can design the flows we we want to have a Central",
    "start": "3454140",
    "end": "3460319"
  },
  {
    "text": "Central switch where we dictate which subpass of the user is not navigated to",
    "start": "3460319",
    "end": "3467280"
  },
  {
    "text": "not just the the API URL but also the components you know slash",
    "start": "3467280",
    "end": "3473339"
  },
  {
    "text": "you know user profile or slash user profile new",
    "start": "3473339",
    "end": "3478280"
  },
  {
    "text": "are any any other questions",
    "start": "3480359",
    "end": "3483799"
  },
  {
    "text": "um to be honest um so the question is uh whether we uh whether I have done this",
    "start": "3490859",
    "end": "3497280"
  },
  {
    "text": "on other type of uh devops engine uh or not uh to be very honest um not for",
    "start": "3497280",
    "end": "3503520"
  },
  {
    "text": "commercial projects but as you probably can see um those key steps one of the most",
    "start": "3503520",
    "end": "3511380"
  },
  {
    "text": "important steps is actually done in Azure CLI command so no matter which uh devops platform",
    "start": "3511380",
    "end": "3519780"
  },
  {
    "text": "you choose to use uh you just need to find out the equivalence of the Azure",
    "start": "3519780",
    "end": "3524819"
  },
  {
    "text": "CRI task and from my experience whether it's GitHub action or Azure devops or",
    "start": "3524819",
    "end": "3530220"
  },
  {
    "text": "Jenkins or bamboo their version of azure CI tasks work more or less very similar",
    "start": "3530220",
    "end": "3536700"
  },
  {
    "text": "to each other they just handle the authentication process and then they gives you the flexibility to work out to",
    "start": "3536700",
    "end": "3542579"
  },
  {
    "text": "your own um command yeah so we follow the the principle",
    "start": "3542579",
    "end": "3547859"
  },
  {
    "text": "um the implementation the syntax of the code may be different",
    "start": "3547859",
    "end": "3552440"
  },
  {
    "text": "another questions again thank you very much",
    "start": "3553619",
    "end": "3559520"
  }
]