[
  {
    "start": "0",
    "end": "810000"
  },
  {
    "text": "okay so my name is Pierre Boulle I run a",
    "start": "1429",
    "end": "6690"
  },
  {
    "text": "small Norwegian startup called include OS so who here has heard about include",
    "start": "6690",
    "end": "12750"
  },
  {
    "text": "OS before Wow sorry",
    "start": "12750",
    "end": "18380"
  },
  {
    "text": "that's Wow that usually doesn't happen I think like for the first time yesterday",
    "start": "18380",
    "end": "25019"
  },
  {
    "text": "in another talk somebody else referred to include OS and I almost peed myself that was so that was really very cool",
    "start": "25019",
    "end": "34230"
  },
  {
    "text": "okay so so we creating we our company what we do is we create this operating",
    "start": "34230",
    "end": "41700"
  },
  {
    "text": "system or this non operating operating system and to sort of give you a sort of",
    "start": "41700",
    "end": "47070"
  },
  {
    "text": "a bit of an understanding of what we do and why we do it we'll start by sort of a short history",
    "start": "47070",
    "end": "53610"
  },
  {
    "text": "of computing as it'll be very short so so roughly the 50s punch cards 50s and",
    "start": "53610",
    "end": "61350"
  },
  {
    "text": "60s punch cards so systems were batcher entered however they were sort of in in",
    "start": "61350",
    "end": "68970"
  },
  {
    "text": "terms of pure efficiency they were very very efficient cause you would you would",
    "start": "68970",
    "end": "74400"
  },
  {
    "text": "write your program onto a stack of cards you would submit that to and then during",
    "start": "74400",
    "end": "79710"
  },
  {
    "text": "the night it would load and you would have the entire computer at your",
    "start": "79710",
    "end": "84840"
  },
  {
    "text": "disposal and there was nothing else running on it like nothing absolutely nothing no there wasn't like operating",
    "start": "84840",
    "end": "91740"
  },
  {
    "text": "systems yeah however the user experience was absolutely horrible you sort of left",
    "start": "91740",
    "end": "98900"
  },
  {
    "text": "missing semicolon on line five you would figure that out the next day because",
    "start": "98900",
    "end": "103979"
  },
  {
    "text": "your data just weren't there and there was a compiler error instead so then",
    "start": "103979",
    "end": "112290"
  },
  {
    "text": "during the 70s so I saw this picture at least once on yesterday this is the the",
    "start": "112290",
    "end": "120840"
  },
  {
    "text": "the dec pdp-11 was the system where a UNIX was born and of course though these",
    "start": "120840",
    "end": "129509"
  },
  {
    "text": "things were computers at that time were quite expensive so I think like the deck was about",
    "start": "129509",
    "end": "137450"
  },
  {
    "text": "$100,000 sort of if you got it with with a reasonable set of peripherals and you",
    "start": "137450",
    "end": "144660"
  },
  {
    "text": "had to share it and in order to share it that there was a sort of a new concept",
    "start": "144660",
    "end": "149850"
  },
  {
    "text": "at the time this sort of first attempt that sort of virtualization accepted sort of virtualization it wasn't what we",
    "start": "149850",
    "end": "156090"
  },
  {
    "text": "think of as virtualization today but we they created a virtual system which was",
    "start": "156090",
    "end": "162210"
  },
  {
    "text": "your sort of shell and your process space and that was yours virtual",
    "start": "162210",
    "end": "168390"
  },
  {
    "text": "computer of course today what we were require for a virtual computer is that",
    "start": "168390",
    "end": "174750"
  },
  {
    "text": "that virtual computer is more or less identical to a physical computer but they sort of this this virtual computer",
    "start": "174750",
    "end": "180930"
  },
  {
    "text": "in in interface so computers weren't from being single process to being",
    "start": "180930",
    "end": "189870"
  },
  {
    "text": "multi-user and to an multi process and",
    "start": "189870",
    "end": "195390"
  },
  {
    "text": "of course the overhead the office was was really horrible I think like up to",
    "start": "195390",
    "end": "200580"
  },
  {
    "text": "20% of the of the cycles were lost we ended up at the end of the empties with",
    "start": "200580",
    "end": "208050"
  },
  {
    "text": "basically this design where we have user space and in kernel space and the kernel",
    "start": "208050",
    "end": "214320"
  },
  {
    "text": "we talked to hardware we police users and processes the applications running in user space so on Intel that's ring",
    "start": "214320",
    "end": "222270"
  },
  {
    "text": "three and ring zero in the middle and then we have that barrier there that's",
    "start": "222270",
    "end": "230880"
  },
  {
    "text": "supposed to sort of secure it it turns out it's a bit porous and it also",
    "start": "230880",
    "end": "237330"
  },
  {
    "text": "completely kills performance so previously I worked on for almost ten",
    "start": "237330",
    "end": "243750"
  },
  {
    "text": "years I worked on a project called varnish cache and and sort of one of the",
    "start": "243750",
    "end": "249870"
  },
  {
    "text": "sort of absolute rules of stuff developers couldn't do is talk to the operating system unless you really really have to because like we were sort",
    "start": "249870",
    "end": "258269"
  },
  {
    "text": "of handling an incoming connections and they were typically coming at speeds of 10 to 20 to 30,000 per second and if you",
    "start": "258270",
    "end": "264720"
  },
  {
    "text": "sort of talk to the operating system to get some memory things might queue up and you'll be dead",
    "start": "264720",
    "end": "270980"
  },
  {
    "text": "so but that design they're like how",
    "start": "270980",
    "end": "276120"
  },
  {
    "text": "relevant is it really because like most",
    "start": "276120",
    "end": "281160"
  },
  {
    "text": "systems aren't multi-user systems anymore like the systems we deploy in Amazon like how many of them have more",
    "start": "281160",
    "end": "287880"
  },
  {
    "text": "than one user like I don't know maybe 1% or something I think it's rather rather",
    "start": "287880",
    "end": "295170"
  },
  {
    "text": "quite few of them because we sort of moved completely that that moved away from using those facilities in the",
    "start": "295170",
    "end": "302790"
  },
  {
    "text": "operating system like most people today they write an application and they",
    "start": "302790",
    "end": "308280"
  },
  {
    "text": "deploy it on a fresh set to virtual machines I can like tonight is where we had the server and I would write a",
    "start": "308280",
    "end": "315150"
  },
  {
    "text": "little silly web app or something and then it would be deployed on the server",
    "start": "315150",
    "end": "320240"
  },
  {
    "text": "yeah of course this thing is likely not multi-user and",
    "start": "320240",
    "end": "328140"
  },
  {
    "text": "multi-process as well yet we still use a multi-user a multi-process operating",
    "start": "328140",
    "end": "333720"
  },
  {
    "text": "system so now let's get to include or so what what exactly is it so basically",
    "start": "333720",
    "end": "342570"
  },
  {
    "text": "it's a library like most of the functionality is in libraries and those are sort of provide different ethernet",
    "start": "342570",
    "end": "349380"
  },
  {
    "text": "drivers there's some firewall called memory management IP stack etc and the idea is that when we build your",
    "start": "349380",
    "end": "357540"
  },
  {
    "text": "application what we do is inject parts",
    "start": "357540",
    "end": "363120"
  },
  {
    "text": "of those libraries into your application so so basically we look for system calls and instead of system calls we inject",
    "start": "363120",
    "end": "369270"
  },
  {
    "text": "library calls and the supporting library so whenever the operating system whenever your application was supposed",
    "start": "369270",
    "end": "375450"
  },
  {
    "text": "to do a system call it will do a we slap a bootloader on it and off we go so so",
    "start": "375450",
    "end": "384360"
  },
  {
    "text": "this is typically what sort of how and your application typically what it looks like when it's linked on Linux it has",
    "start": "384360",
    "end": "391830"
  },
  {
    "text": "some application specific libraries which links against generic libraries which against the kernel and like our",
    "start": "391830",
    "end": "399270"
  },
  {
    "text": "systems where we have bootloader there's some it's all in a single binary single elf binary yeah",
    "start": "399270",
    "end": "409410"
  },
  {
    "text": "yes so there are a few things that are sort of so refer to these systems as Ewing kernels I would say that we are",
    "start": "411449",
    "end": "419320"
  },
  {
    "text": "sort of try to be the pragmatic unicorn so we we sort of from an engineering",
    "start": "419320",
    "end": "426639"
  },
  {
    "text": "background the the code is written in C++ we are happy to support multi-core",
    "start": "426639",
    "end": "434560"
  },
  {
    "text": "systems we sort of we're not really that opinionated about what you do on top and",
    "start": "434560",
    "end": "440949"
  },
  {
    "text": "we are perfectly fine with running on bare metal but I think like most of it",
    "start": "440949",
    "end": "446740"
  },
  {
    "text": "is because includeds was written after sort of para virtualization wasn't that",
    "start": "446740",
    "end": "452199"
  },
  {
    "text": "thing anymore he went to have gone back to sort of full virtualization again which basically means that it wasn't",
    "start": "452199",
    "end": "459070"
  },
  {
    "text": "really that much of an effort to move to booting on physical hardware okay let me",
    "start": "459070",
    "end": "466570"
  },
  {
    "text": "see if I can try to demo this done because like that's like what I really",
    "start": "466570",
    "end": "476380"
  },
  {
    "text": "would like to see happen is that you",
    "start": "476380",
    "end": "482020"
  },
  {
    "text": "sort of go away here without",
    "start": "482020",
    "end": "487259"
  },
  {
    "text": "without being afraid of the system itself so I stay out of the editor wars",
    "start": "495529",
    "end": "507589"
  },
  {
    "text": "so we are Emacs my I use cat",
    "start": "507589",
    "end": "512689"
  },
  {
    "text": "it isn't as quite sophisticated light and editing and it's definitely",
    "start": "512689",
    "end": "518310"
  },
  {
    "text": "underrated as an editor so you see now",
    "start": "518310",
    "end": "524250"
  },
  {
    "text": "where the product has its name this 90",
    "start": "524250",
    "end": "556889"
  },
  {
    "text": "degree angle with the keyboard isn't really ok the current volume is 100%",
    "start": "556889",
    "end": "564559"
  },
  {
    "text": "thank you yeah well I don't need to",
    "start": "564559",
    "end": "570540"
  },
  {
    "text": "explain that I think most of you know enough see to so boot is the command we",
    "start": "570540",
    "end": "580050"
  },
  {
    "text": "grabbed to sort of boot up an instance there's nothing else called boot as far",
    "start": "580050",
    "end": "586740"
  },
  {
    "text": "as we know so it sort of grabbed that it",
    "start": "586740",
    "end": "594660"
  },
  {
    "text": "needs superuser privileges in order to set up networking so if it wasn't that",
    "start": "594660",
    "end": "600149"
  },
  {
    "text": "it wouldn't yeah so basically this it built an operating system sort of perhaps the world's simplest operating",
    "start": "600149",
    "end": "606899"
  },
  {
    "text": "system the hello world operating system and booted it up in a VM and it says",
    "start": "606899",
    "end": "612000"
  },
  {
    "text": "hello world and then sort of halted so like would would stuff we made I",
    "start": "612000",
    "end": "621649"
  },
  {
    "text": "think we succeeded in making the simple stuff simple there's yeah I think that",
    "start": "621649",
    "end": "628519"
  },
  {
    "text": "would be honest said was make the hard stuff possible okay so so I will now",
    "start": "628519",
    "end": "640670"
  },
  {
    "text": "come to the first party trick that we have something called live update so",
    "start": "640670",
    "end": "647209"
  },
  {
    "text": "this came out of the need to sort of continuously develop software and you",
    "start": "647209",
    "end": "652579"
  },
  {
    "text": "sort of deploy and to piñas to do that because you're running a vm need to shut",
    "start": "652579",
    "end": "657949"
  },
  {
    "text": "down the vm replace the binary image and i'm britta to back up again so since basically what's running inside",
    "start": "657949",
    "end": "666139"
  },
  {
    "text": "the VM is basically just a sort of stream of bytes sort of that's a gigabyte of of bytes we can sort of it's",
    "start": "666139",
    "end": "675589"
  },
  {
    "text": "we can basically replace stuff that's that's happening happening there sorry",
    "start": "675589",
    "end": "682000"
  },
  {
    "text": "so this is a virtual machine that's the current sort of application that's running there so there's a map of the",
    "start": "682000",
    "end": "690170"
  },
  {
    "text": "memory whenever it boots up it has the option to connect to a master no the",
    "start": "690170",
    "end": "695839"
  },
  {
    "text": "management node so it we topped it",
    "start": "695839",
    "end": "701750"
  },
  {
    "text": "establishes the node to the to the master the master can then sort of push",
    "start": "701750",
    "end": "706820"
  },
  {
    "text": "down an image and updated image through that connection so now have the",
    "start": "706820",
    "end": "714920"
  },
  {
    "text": "situation where a virtual machine we have to basically copies of the application except one is updated and",
    "start": "714920",
    "end": "720110"
  },
  {
    "text": "one is not basically what we can do then is we can basically just store the state",
    "start": "720110",
    "end": "726829"
  },
  {
    "text": "of the current operation of the current running application and like sterilising state is quite a common thing to do now",
    "start": "726829",
    "end": "733910"
  },
  {
    "text": "just store it at a very sort of specific state",
    "start": "733910",
    "end": "739389"
  },
  {
    "text": "and then what we do is just actually just boot the new kernel and then we",
    "start": "740040",
    "end": "745329"
  },
  {
    "text": "restore the state and then we sort of discard old stuff and and discard this",
    "start": "745329",
    "end": "756069"
  },
  {
    "text": "as well and what has happened now is during a broad 100 milliseconds we have",
    "start": "756069",
    "end": "761370"
  },
  {
    "text": "replaced a hundred percent of the running code with completely new code",
    "start": "761370",
    "end": "766629"
  },
  {
    "text": "and there's nothing left of the old code so it doesn't necessarily just limit",
    "start": "766629",
    "end": "772809"
  },
  {
    "text": "itself to updating we can completely change what's inside of that sort of VM",
    "start": "772809",
    "end": "779759"
  },
  {
    "text": "we actually use this when so we have a sort of commercial product where we do",
    "start": "779759",
    "end": "785110"
  },
  {
    "text": "firewalls and load balancers and what we actually do at the way that that works is that we built up these blank VMs that",
    "start": "785110",
    "end": "791529"
  },
  {
    "text": "have no functionality except this live update functionality and then whenever the sort of customer decides they want",
    "start": "791529",
    "end": "797740"
  },
  {
    "text": "that fire Walter would this specific firewall set they just push it out",
    "start": "797740",
    "end": "803949"
  },
  {
    "text": "through this mechanism",
    "start": "803949",
    "end": "806850"
  },
  {
    "text": "yeah so so this is the let's do another demo I think this will be tricky cuz",
    "start": "809449",
    "end": "820250"
  },
  {
    "start": "810000",
    "end": "1052000"
  },
  {
    "text": "yeah",
    "start": "820250",
    "end": "823250"
  },
  {
    "text": "it's not the brightest application oh no to work it out quite well I think",
    "start": "825290",
    "end": "833990"
  },
  {
    "text": "okay so let's see so what a boot up here",
    "start": "836750",
    "end": "847620"
  },
  {
    "text": "is an IRC server and we can",
    "start": "847620",
    "end": "854540"
  },
  {
    "text": "why did this work let's see oh it's a",
    "start": "878620",
    "end": "896150"
  },
  {
    "text": "robot yeah it is but it was oh he said connection fish that of course there we",
    "start": "896150",
    "end": "903260"
  },
  {
    "text": "are",
    "start": "903260",
    "end": "905290"
  },
  {
    "text": "yeah well it's bit there's this s kid yeah you can perhaps tell that it says",
    "start": "920380",
    "end": "927170"
  },
  {
    "text": "include OS or something here okay excellent it works so that this is now",
    "start": "927170",
    "end": "932270"
  },
  {
    "text": "sort of a running IRC server and on the running our AC connection to it great this thing here the message of the day",
    "start": "932270",
    "end": "940250"
  },
  {
    "text": "is actually sort of hard-coded it's compiled in to the application itself",
    "start": "940250",
    "end": "945550"
  },
  {
    "text": "what we'll do is we'll just know it's",
    "start": "945550",
    "end": "950600"
  },
  {
    "text": "called yeah would you like to cool",
    "start": "950600",
    "end": "958750"
  },
  {
    "text": "okay I'm probably pressing buttons yeah",
    "start": "961550",
    "end": "967250"
  },
  {
    "text": "okay hello check down and then we what I do now as",
    "start": "967250",
    "end": "984540"
  },
  {
    "text": "I rebuild the pract and create a new binary and then I have a completely new",
    "start": "984540",
    "end": "992270"
  },
  {
    "text": "new binary of that system and then we have an update script which is basically",
    "start": "992270",
    "end": "1000740"
  },
  {
    "text": "just yeah it does the build on everything's I didn't have to do that",
    "start": "1000740",
    "end": "1008079"
  },
  {
    "text": "yes the server sends out a servant note this when it's updated and of course",
    "start": "1014490",
    "end": "1023320"
  },
  {
    "text": "I'll use too much time and it idly closed down I closed down the connection but you did perhaps notice that the TCP",
    "start": "1023320",
    "end": "1031510"
  },
  {
    "text": "connection did actually survived the update so we had sort of so we did actually manage them to sort of retain a",
    "start": "1031510",
    "end": "1037808"
  },
  {
    "text": "TCP connection and sort of still replace all of the running code yeah I should",
    "start": "1037809",
    "end": "1044470"
  },
  {
    "text": "have done this a bit faster and would have been a better demo so that's our",
    "start": "1044470",
    "end": "1053710"
  },
  {
    "start": "1052000",
    "end": "1112000"
  },
  {
    "text": "our party trick any questions so far by",
    "start": "1053710",
    "end": "1061929"
  },
  {
    "text": "the way we have quite ample of time so feel free to interrupt me if you have any questions so comment there's also",
    "start": "1061929",
    "end": "1069610"
  },
  {
    "text": "sort of so concurrency is is also sort of sort of topic that's opinionated",
    "start": "1069610",
    "end": "1075940"
  },
  {
    "text": "within this sort of unicron community most people think that the unique kernel should only have like a single core and",
    "start": "1075940",
    "end": "1082059"
  },
  {
    "text": "should only run sort of non-threaded event and then based applications as I",
    "start": "1082059",
    "end": "1090760"
  },
  {
    "text": "said we're not really of that opinion so",
    "start": "1090760",
    "end": "1098590"
  },
  {
    "text": "what will we since also one of our targets is sort of bare metal hardware just being able to just run on one core",
    "start": "1098590",
    "end": "1106929"
  },
  {
    "text": "would be just silly so the way that we",
    "start": "1106929",
    "end": "1113679"
  },
  {
    "start": "1112000",
    "end": "1207000"
  },
  {
    "text": "we used to have multi-core SMP support and then this year we sort of broken it",
    "start": "1113679",
    "end": "1121720"
  },
  {
    "text": "and we decided to sort of leave it out until we fixed some other stuff because it's not really that much demand for it",
    "start": "1121720",
    "end": "1129059"
  },
  {
    "text": "but the idea rough idea is is this that you have life fall for CPU system it'll",
    "start": "1129059",
    "end": "1137080"
  },
  {
    "text": "sort of boot up and just like include us",
    "start": "1137080",
    "end": "1142870"
  },
  {
    "text": "has an event loop so that's what we'll do when booted up is sort of to stay in that event look and basically what happens on",
    "start": "1142870",
    "end": "1151240"
  },
  {
    "text": "sort of SMP systems is that they all basically run this event loop and then you have this ad task function where you",
    "start": "1151240",
    "end": "1158230"
  },
  {
    "text": "can basically just take a function call and direct it at the specific CPU and it",
    "start": "1158230",
    "end": "1163510"
  },
  {
    "text": "will run on that and I'm sure sort of wicking will at some point create abstractions on top of that and I think",
    "start": "1163510",
    "end": "1170950"
  },
  {
    "text": "I offered this sort of been planning to sort of get POSIX likes threads and have",
    "start": "1170950",
    "end": "1176430"
  },
  {
    "text": "being me being able to create POSIX like threads on top of that with of course the limitation that that that we cannot",
    "start": "1176430",
    "end": "1184360"
  },
  {
    "text": "have more threats than we have CPUs like process preemption is currently sort of",
    "start": "1184360",
    "end": "1191650"
  },
  {
    "text": "not on the roadmap it's not that it sort of magic or anything it's just sort of",
    "start": "1191650",
    "end": "1198160"
  },
  {
    "text": "vastly inefficient and I think like Alfred is a bit doesn't like that okay",
    "start": "1198160",
    "end": "1208630"
  },
  {
    "start": "1207000",
    "end": "1465000"
  },
  {
    "text": "about developing would would include us and what is sort of offers to developers",
    "start": "1208630",
    "end": "1213960"
  },
  {
    "text": "so as I mentioned that the native interfaces store all event-driven that",
    "start": "1213960",
    "end": "1220780"
  },
  {
    "text": "also means that that I mean for would we'd see you have the sort of standard",
    "start": "1220780",
    "end": "1228120"
  },
  {
    "text": "POSIX interfaces that you can sort of use if you want to do stuff event-driven",
    "start": "1228120",
    "end": "1233680"
  },
  {
    "text": "in C++ we basically have no standards as far as I know there's the art it's not",
    "start": "1233680",
    "end": "1239290"
  },
  {
    "text": "really standard so so the the networking api's are sort of proprietary to include",
    "start": "1239290",
    "end": "1245140"
  },
  {
    "text": "wise yeah there's no scheduling there",
    "start": "1245140",
    "end": "1250720"
  },
  {
    "text": "are there is multi-core support the big project we've been working on non I",
    "start": "1250720",
    "end": "1257230"
  },
  {
    "text": "would say probably most of the year has been replacing the C library so you used",
    "start": "1257230",
    "end": "1264250"
  },
  {
    "text": "to run a little library called new Lib which i think is very popular in",
    "start": "1264250",
    "end": "1269380"
  },
  {
    "text": "embedded amongst them embedded people it's a very minimalistic",
    "start": "1269380",
    "end": "1274480"
  },
  {
    "text": "minimalistic see library so doesn't really offer much except yeah except",
    "start": "1274480",
    "end": "1282970"
  },
  {
    "text": "what it had it has to muscle is a sort of interesting project because what it",
    "start": "1282970",
    "end": "1288670"
  },
  {
    "text": "does is in addition to offer offering a standard celebrate it also offers POSIX",
    "start": "1288670",
    "end": "1295440"
  },
  {
    "text": "which is quite rich on top of the of the C library",
    "start": "1295440",
    "end": "1301050"
  },
  {
    "text": "we've tried implementing parts of POSIX previously when we had new lib it's a",
    "start": "1301050",
    "end": "1308640"
  },
  {
    "text": "soul-sucking experience to implement I have no idea why the people who did",
    "start": "1308640",
    "end": "1315340"
  },
  {
    "text": "write muscle actually implemented all of POSIX on top of it I'm very impressed that they did but the nice thing is that",
    "start": "1315340",
    "end": "1322630"
  },
  {
    "text": "we can now unlock parts of POSIX as as",
    "start": "1322630",
    "end": "1328300"
  },
  {
    "text": "long as we come can provide the underlying system called like",
    "start": "1328300",
    "end": "1334060"
  },
  {
    "text": "functionality that muscle expects mostly exact is sort of written explicitly with",
    "start": "1334060",
    "end": "1339460"
  },
  {
    "text": "Linux in mind so another operating system coming cheekily along and taking",
    "start": "1339460",
    "end": "1345460"
  },
  {
    "text": "it and using it wasn't probably planned but but what muscle expect is just for",
    "start": "1345460",
    "end": "1353260"
  },
  {
    "text": "there to be sort of linux like system calls beneath it and there's if we can provide those it will sort of unlock the",
    "start": "1353260",
    "end": "1359560"
  },
  {
    "text": "relevant parts of caustics so this means that it's we should at least have enough",
    "start": "1359560",
    "end": "1365980"
  },
  {
    "text": "POSIX that you can run all of the libraries that you like l beasts",
    "start": "1365980",
    "end": "1372850"
  },
  {
    "text": "yet some time before we can say that the same thing about applications applications do things like forking and",
    "start": "1372850",
    "end": "1379920"
  },
  {
    "text": "and stuff like that which doesn't necessarily make sense on on include OS",
    "start": "1379920",
    "end": "1385840"
  },
  {
    "text": "but at least the applications should should be available yes",
    "start": "1385840",
    "end": "1393420"
  },
  {
    "text": "debugging also also sort of slightly different it's more akin to to embed it",
    "start": "1393420",
    "end": "1399270"
  },
  {
    "text": "I mean we do it cross compile when we compile an application so that means",
    "start": "1399270",
    "end": "1408510"
  },
  {
    "text": "that that that you you might want to sort of bring your own divine stuff into",
    "start": "1408510",
    "end": "1413580"
  },
  {
    "text": "your application so I mean there's there's the are the developers that work",
    "start": "1413580",
    "end": "1419090"
  },
  {
    "text": "with us that this sort of printf style debugging that's their favorite thing to do you can actually attach gdb to to",
    "start": "1419090",
    "end": "1429480"
  },
  {
    "text": "sort of running VM that runs include wes and and then you can sort of single-step and set breakpoints another thing that",
    "start": "1429480",
    "end": "1436890"
  },
  {
    "text": "is that we also have a linux compile target where we would basically just run inside a Linux process and instead of",
    "start": "1436890",
    "end": "1444860"
  },
  {
    "text": "PCI device for networking we just get packets in and out of the tap device so",
    "start": "1444860",
    "end": "1451590"
  },
  {
    "text": "I think like that's that's probably likely the the easiest way to sort out",
    "start": "1451590",
    "end": "1456720"
  },
  {
    "text": "because then you have basically very few limitations on on what you can do sort",
    "start": "1456720",
    "end": "1461880"
  },
  {
    "text": "of tools you can use okay so yes yes yes",
    "start": "1461880",
    "end": "1474620"
  },
  {
    "start": "1465000",
    "end": "1590000"
  },
  {
    "text": "yes there's only one address space is",
    "start": "1482390",
    "end": "1489660"
  },
  {
    "text": "virtualized um there's paging yeah but its own bits but it's all that there's",
    "start": "1489660",
    "end": "1495330"
  },
  {
    "text": "only one it's only one one one address",
    "start": "1495330",
    "end": "1500340"
  },
  {
    "text": "space yes - another dereferences yes oh I should",
    "start": "1500340",
    "end": "1508550"
  },
  {
    "text": "have probably repeated the question yeah yeah was like does do all the CPUC all",
    "start": "1508550",
    "end": "1515600"
  },
  {
    "text": "the same stuff can you pause references back and forth and pointers yes you can yeah this is also did you have actually",
    "start": "1515600",
    "end": "1523460"
  },
  {
    "text": "discussed by the way of having like several address spaces so one of the things that that sort of we could",
    "start": "1523460",
    "end": "1529970"
  },
  {
    "text": "potentially do which is actually could be quite cool is so it's running in ring zero cause like and some people find",
    "start": "1529970",
    "end": "1541130"
  },
  {
    "text": "that scary because you can sort of modify the page tables when you run there I don't really think it's scary",
    "start": "1541130",
    "end": "1548270"
  },
  {
    "text": "because like like if that gets compromised everything will become get",
    "start": "1548270",
    "end": "1554060"
  },
  {
    "text": "compromised anyway so it doesn't really matter and you is still trapped inside the VM so I don't but but there is an",
    "start": "1554060",
    "end": "1561260"
  },
  {
    "text": "opportunity to actually built up in ring zero and then do it another unicorn over",
    "start": "1561260",
    "end": "1567650"
  },
  {
    "text": "in ring 3 which then doesn't have that opportunity to modify its own page",
    "start": "1567650",
    "end": "1573110"
  },
  {
    "text": "tables that of course would wreak havoc on sort of live update and we need to rewrite quite a bit but then if that",
    "start": "1573110",
    "end": "1580880"
  },
  {
    "text": "gets compromised it wouldn't even be able to alter the page tables okay",
    "start": "1580880",
    "end": "1588260"
  },
  {
    "text": "so what can this be used for Network functions so these are so back in the",
    "start": "1588260",
    "end": "1595010"
  },
  {
    "text": "day we start physical switches in load balancers and firewalls today datacenters are mostly virtualized they",
    "start": "1595010",
    "end": "1601040"
  },
  {
    "text": "run with fair or yeah something like that OpenStack yeah some sort of thing",
    "start": "1601040",
    "end": "1609350"
  },
  {
    "text": "and of course the networking functions are virtualized as well and so the first thing we actually did as a sort of",
    "start": "1609350",
    "end": "1614750"
  },
  {
    "text": "commercial company was trying to build something was was look at sort of load balancing of firewalls we're gonna try",
    "start": "1614750",
    "end": "1621950"
  },
  {
    "text": "to do that a firewall is after all just a router we already had the router",
    "start": "1621950",
    "end": "1628250"
  },
  {
    "text": "I fire the the firewalls defaults pulse is just not draft packet and the routers",
    "start": "1628250",
    "end": "1634400"
  },
  {
    "text": "policies route packets how hard could that be we started off by",
    "start": "1634400",
    "end": "1641370"
  },
  {
    "start": "1639000",
    "end": "1679000"
  },
  {
    "text": "sort of if you look at sort of the way traditional firewalls are built this is they do have like these firewall rules",
    "start": "1641370",
    "end": "1649470"
  },
  {
    "text": "basically just a linked list of rules and as a packet comes in it gets basically shoved through that",
    "start": "1649470",
    "end": "1655890"
  },
  {
    "text": "list and if it's sort of if it matches something happens we accept it or reject",
    "start": "1655890",
    "end": "1662430"
  },
  {
    "text": "it now when we sort of started working with this how do you this means we have",
    "start": "1662430",
    "end": "1671250"
  },
  {
    "text": "to have some sort of configuration file or something that we have to sort of load and then reload it and there was",
    "start": "1671250",
    "end": "1678470"
  },
  {
    "text": "yeah I didn't really sort of there was",
    "start": "1678470",
    "end": "1684780"
  },
  {
    "start": "1679000",
    "end": "1687000"
  },
  {
    "text": "something wrong with it so what we did and I've proposed this for talks next",
    "start": "1684780",
    "end": "1691920"
  },
  {
    "start": "1687000",
    "end": "1768000"
  },
  {
    "text": "year because I think it's it's really cool use case or cool cool design so we",
    "start": "1691920",
    "end": "1700260"
  },
  {
    "text": "created this super simple domain-specific language where we yeah",
    "start": "1700260",
    "end": "1705510"
  },
  {
    "text": "so allowed ports that's basically a list of these ports this is a list of hosts",
    "start": "1705510",
    "end": "1712500"
  },
  {
    "text": "who can a list of everything and then the first firewall rule if so if feed",
    "start": "1712500",
    "end": "1717930"
  },
  {
    "text": "source address is in nice sauce then and if the TCP destination port is in allow",
    "start": "1717930",
    "end": "1725820"
  },
  {
    "text": "destination port we accept the packet like it's super simple it's actually for",
    "start": "1725820",
    "end": "1731190"
  },
  {
    "text": "those of you that dealt with IP tables rules it's actually a lot more pleasant to read this stuff than to read the IP",
    "start": "1731190",
    "end": "1737310"
  },
  {
    "text": "tables rules so what you actually do is we we compiled a transpile this to C++",
    "start": "1737310",
    "end": "1743580"
  },
  {
    "text": "and then we link it into the binary and and the packets basically run native",
    "start": "1743580",
    "end": "1751290"
  },
  {
    "text": "code this sort of traverse through the rules so for us this is actually simpler",
    "start": "1751290",
    "end": "1758310"
  },
  {
    "text": "to handle then I would say probably a traditional configuration file but one",
    "start": "1758310",
    "end": "1764370"
  },
  {
    "text": "of the things it's it's also a lot more friendly towards the CPU so yes so I was a la Metropolitan",
    "start": "1764370",
    "end": "1774200"
  },
  {
    "text": "University there was a master student error that the comparative analysis so this is this is Linux these are the",
    "start": "1774200",
    "end": "1783080"
  },
  {
    "text": "number of firewall rules and this is the throughput measured in gigabytes so out",
    "start": "1783080",
    "end": "1788480"
  },
  {
    "text": "of the gate we do it like 10 12 percent faster attempt 12 percent faster than",
    "start": "1788480",
    "end": "1794899"
  },
  {
    "text": "the next already but as the number of rules increase Linux has to shove that",
    "start": "1794899",
    "end": "1801620"
  },
  {
    "text": "single packet through that enormous Lea long long list and it sort of slows down",
    "start": "1801620",
    "end": "1806840"
  },
  {
    "text": "and and I think like you can see sort of where that list starts to wreak havoc on",
    "start": "1806840",
    "end": "1812600"
  },
  {
    "text": "the CPU cache it's a I think it's like I like here doesn't the entire list",
    "start": "1812600",
    "end": "1818419"
  },
  {
    "text": "doesn't fit anymore and things go really downhill from there whereas we still at",
    "start": "1818419",
    "end": "1825470"
  },
  {
    "text": "that we basically don't notice that we have to process these 5,000 rules yeah",
    "start": "1825470",
    "end": "1834580"
  },
  {
    "start": "1834000",
    "end": "1872000"
  },
  {
    "text": "yeah there's a quick note on EBP F and n F tables I think IP tables will be",
    "start": "1834580",
    "end": "1840830"
  },
  {
    "text": "dragged behind the barn and shot at some point in the near future",
    "start": "1840830",
    "end": "1846380"
  },
  {
    "text": "and replaced wood wood better stuff enough tables and EBP F are two of the",
    "start": "1846380",
    "end": "1852169"
  },
  {
    "text": "proposed solutions to it but that do you have to say that that I think like the firewall was built in a matter of two",
    "start": "1852169",
    "end": "1858260"
  },
  {
    "text": "three months and these projects are at least 10 or 20 times more complex and we",
    "start": "1858260",
    "end": "1867139"
  },
  {
    "text": "offer the I would say probably a better performance yes",
    "start": "1867139",
    "end": "1874970"
  },
  {
    "start": "1872000",
    "end": "2010000"
  },
  {
    "text": "another yeah so that's what we've been doing today what we'll do in the future",
    "start": "1874970",
    "end": "1880669"
  },
  {
    "text": "is cpu-based IOT so I mean IOT you can roughly divided into microcontrollers",
    "start": "1880669",
    "end": "1887269"
  },
  {
    "text": "and CPU stuff microcontrollers I think like all the people I talk to they seem",
    "start": "1887269",
    "end": "1892519"
  },
  {
    "text": "to be really reasonably happy they have a choice of relevant operating system to",
    "start": "1892519",
    "end": "1897559"
  },
  {
    "text": "choose from and they work reasonably well for CPUs there's basically Linux",
    "start": "1897559",
    "end": "1902720"
  },
  {
    "text": "and qnx and not really not happy about those those choices basically because of",
    "start": "1902720",
    "end": "1909559"
  },
  {
    "text": "the the a core feature of UNIX which is the ability to reconfigure the system so",
    "start": "1909559",
    "end": "1918409"
  },
  {
    "text": "this made a lot of sense for of all UNIX systems that are servers or desktops or",
    "start": "1918409",
    "end": "1924590"
  },
  {
    "text": "mobile phones or even T's but that you can sort of the user can reconfigure the running system however in my opinion",
    "start": "1924590",
    "end": "1932210"
  },
  {
    "text": "does not make any sense at all for four devices so but who might have a",
    "start": "1932210",
    "end": "1937429"
  },
  {
    "text": "Wi-Fi router it runs Linux I can an",
    "start": "1937429",
    "end": "1944749"
  },
  {
    "text": "attacker if he finds a flaw in that piece of software he and which leads to remote code",
    "start": "1944749",
    "end": "1952279"
  },
  {
    "text": "execution you could actually reconfigure that system to do something else so it",
    "start": "1952279",
    "end": "1957590"
  },
  {
    "text": "could like sniff packets or mined bitcoins or do ya spam bots or do",
    "start": "1957590",
    "end": "1963799"
  },
  {
    "text": "something else which I don't really see the need for that I think like 99% of",
    "start": "1963799",
    "end": "1970369"
  },
  {
    "text": "the people buying or Wi-Fi access points they don't want that device to change",
    "start": "1970369",
    "end": "1975769"
  },
  {
    "text": "functionality or or at least they don't want any user to be able to add",
    "start": "1975769",
    "end": "1980869"
  },
  {
    "text": "functionality to that system of QC of course the vendor decides that it should have more functionality and I think",
    "start": "1980869",
    "end": "1987499"
  },
  {
    "text": "that's this there's a similar situation for a lot of sort of cpu-based IOT",
    "start": "1987499",
    "end": "1992899"
  },
  {
    "text": "devices Linux is I would take probably in very few situations to right choice",
    "start": "1992899",
    "end": "2000629"
  },
  {
    "text": "basic because of that reconfigurability yeah that's wrong with the with the",
    "start": "2000629",
    "end": "2009210"
  },
  {
    "text": "migrate for the general purpose operating system so this summer we have",
    "start": "2009210",
    "end": "2015220"
  },
  {
    "start": "2010000",
    "end": "2050000"
  },
  {
    "text": "some awesome news we got a significant chunk of money from the European Union",
    "start": "2015220",
    "end": "2023460"
  },
  {
    "text": "from the horizon 2020 program to actually port include os/2 arm and to at",
    "start": "2023460",
    "end": "2028989"
  },
  {
    "text": "least get a couple of sort of boards open running within with include OS so",
    "start": "2028989",
    "end": "2036790"
  },
  {
    "text": "hopefully or maybe in around a year we might be sort of looking at sort of booting up on arm stuff yeah but like",
    "start": "2036790",
    "end": "2047620"
  },
  {
    "text": "likely 64-bit cortex a ok ultra-low latency so so they're like if there's no",
    "start": "2047620",
    "end": "2057760"
  },
  {
    "start": "2050000",
    "end": "2158000"
  },
  {
    "text": "operating system there's nothing that can get in the way or it's very sort of",
    "start": "2057760",
    "end": "2062950"
  },
  {
    "text": "explicit what could be in the in the way so when an interrupt fires we can",
    "start": "2062950",
    "end": "2070540"
  },
  {
    "text": "actually respond to it quite quickly actually we over over beers yesterday we",
    "start": "2070540",
    "end": "2075970"
  },
  {
    "text": "discussed the situation of maybe you should just turn off interrupts and maybe just busy wait when we have",
    "start": "2075970",
    "end": "2081398"
  },
  {
    "text": "nothing else to do like because why not because there's nothing else on that system so we might as well visit wait",
    "start": "2081399",
    "end": "2088179"
  },
  {
    "text": "which means that the moment there's a packet we can process it right away so I",
    "start": "2088179",
    "end": "2095108"
  },
  {
    "text": "was to on a talk where well high-frequency trading was discussed and",
    "start": "2095109",
    "end": "2101230"
  },
  {
    "text": "it's been interesting to hear how much effort is being put into sort of disabling Linux because that's basically",
    "start": "2101230",
    "end": "2109180"
  },
  {
    "text": "a lot of what these people do they do try to disable Linux they because they don't use the networking stack they",
    "start": "2109180",
    "end": "2115720"
  },
  {
    "text": "bring their own into the application they don't maybe not even using the iOS stack you have user space describers",
    "start": "2115720",
    "end": "2122250"
  },
  {
    "text": "they sort of disable completed or try to disable as much as of scheduling as",
    "start": "2122250",
    "end": "2127570"
  },
  {
    "text": "possible because they don't want anything else the try to disable as much of the CPU",
    "start": "2127570",
    "end": "2133270"
  },
  {
    "text": "cache as possible trying to pin pages in the cache et cetera which is this sort",
    "start": "2133270",
    "end": "2140350"
  },
  {
    "text": "of but if you don't have if the or if you have if you have a non operating system operating system all of that is",
    "start": "2140350",
    "end": "2147100"
  },
  {
    "text": "already done because we never sort of implemented those features anyway yeah",
    "start": "2147100",
    "end": "2152800"
  },
  {
    "text": "so have a really good latency response and it will be interesting functions of",
    "start": "2152800",
    "end": "2160510"
  },
  {
    "start": "2158000",
    "end": "2205000"
  },
  {
    "text": "service has been sort of mentioned as a case I think that's for me it's mostly an academic exercise",
    "start": "2160510",
    "end": "2166750"
  },
  {
    "text": "since I don't own Amazon I I can't really sort of make create a function as",
    "start": "2166750",
    "end": "2173650"
  },
  {
    "text": "a service platform because nobody luckily use it because like just just a",
    "start": "2173650",
    "end": "2178990"
  },
  {
    "text": "function as a service platform doesn't really bring that much value unless you have all the other services around there's a good example of of this",
    "start": "2178990",
    "end": "2186760"
  },
  {
    "text": "current industry problem where unless your your Amazon Google or Microsoft",
    "start": "2186760",
    "end": "2196529"
  },
  {
    "text": "infrastructure innovation doesn't really likely happen a lot of it yeah",
    "start": "2197790",
    "end": "2205050"
  },
  {
    "start": "2205000",
    "end": "2242000"
  },
  {
    "text": "general-purpose api's we can use this for IRC servers or",
    "start": "2205050",
    "end": "2211020"
  },
  {
    "text": "there's a web-based a web toolkit that",
    "start": "2211020",
    "end": "2218170"
  },
  {
    "text": "we also created yeah we'll see if that",
    "start": "2218170",
    "end": "2223900"
  },
  {
    "text": "sort of catches on it sort of for that to be a happen you have to actually want",
    "start": "2223900",
    "end": "2229270"
  },
  {
    "text": "to write your your API is in C++ and people don't seem to do that anyone here",
    "start": "2229270",
    "end": "2235420"
  },
  {
    "text": "does that like Web API in C++ yeah so",
    "start": "2235420",
    "end": "2243310"
  },
  {
    "start": "2242000",
    "end": "2328000"
  },
  {
    "text": "what's happening in the future arm 64 support the reason we say arm 64",
    "start": "2243310",
    "end": "2249550"
  },
  {
    "text": "is just because the muscle library was written first they were likely the",
    "start": "2249550",
    "end": "2254680"
  },
  {
    "text": "32-bit version and he wrote the 64-bit version and the 32-bit version is hard",
    "start": "2254680",
    "end": "2260109"
  },
  {
    "text": "for us to sort of plug in to our build system because it was not as elegantly designed bare metal support will likely",
    "start": "2260109",
    "end": "2269200"
  },
  {
    "text": "improve so there are there's stuff we need to add so currently we have three ethernet drivers one of them is",
    "start": "2269200",
    "end": "2276160"
  },
  {
    "text": "available as a physical card which is the 8,000 driver will likely either look at solar flare or Mellanox and see if we",
    "start": "2276160",
    "end": "2282970"
  },
  {
    "text": "can add support for one of those two cards so we can try to sort of play with ultra-low latency applications",
    "start": "2282970",
    "end": "2290290"
  },
  {
    "text": "yeah we should like that some point add more hyper versus support so currently",
    "start": "2290290",
    "end": "2296060"
  },
  {
    "text": "we run on Linux and VMware so Linux is",
    "start": "2296060",
    "end": "2301550"
  },
  {
    "text": "KVM basically so that is most of the market the new Amazon instances we can",
    "start": "2301550",
    "end": "2308420"
  },
  {
    "text": "run on them what we don't run on is is sin and hyper-v yeah so if anyone really",
    "start": "2308420",
    "end": "2316880"
  },
  {
    "text": "wants to see us on hyper-v come and see me and we can talk about it yeah yeah I",
    "start": "2316880",
    "end": "2326030"
  },
  {
    "text": "think that is it none of us know",
    "start": "2326030",
    "end": "2331190"
  },
  {
    "start": "2328000",
    "end": "2746000"
  },
  {
    "text": "anything about arm and we just got a  ton of money from the support our",
    "start": "2331190",
    "end": "2338390"
  },
  {
    "text": "software to arm so so if anyone here like to spend a couple of years porting",
    "start": "2338390",
    "end": "2345020"
  },
  {
    "text": "a brand-new operating system to arm I'll be very happy if you can come and see me",
    "start": "2345020",
    "end": "2351310"
  },
  {
    "text": "yes yeah I think the recurring theme from Alfred's talk yesterday was we have no idea what we're doing okay any",
    "start": "2351310",
    "end": "2360440"
  },
  {
    "text": "questions no questions really yeah yes",
    "start": "2360440",
    "end": "2367960"
  },
  {
    "text": "yeah so so the question was do you have any figures for ultra-low latency applications and so so there's a yeah",
    "start": "2378700",
    "end": "2389690"
  },
  {
    "text": "because of the interrupt got them interrupt controller on the computer in the office we haven't got networking to",
    "start": "2389690",
    "end": "2395780"
  },
  {
    "text": "work on bare metal yet because there's a MSI X controller which is the fancy way",
    "start": "2395780",
    "end": "2401510"
  },
  {
    "text": "of routing interrupts and we don't support that yet unfortunately but what",
    "start": "2401510",
    "end": "2406550"
  },
  {
    "text": "we have done is run the stream benchmarks which are these these really",
    "start": "2406550",
    "end": "2411760"
  },
  {
    "text": "combination of computation and memory bandwidth benchmarks what we saw was",
    "start": "2411760",
    "end": "2418490"
  },
  {
    "text": "that on average like Linux would would run one benchmark in 33 cycles and",
    "start": "2418490",
    "end": "2426840"
  },
  {
    "text": "not entirely sure why but we would run for me in 32.7 with 0.3 cycles",
    "start": "2426840",
    "end": "2434980"
  },
  {
    "text": "better there's some noise that is typically introduced by sort of various hardware inside the computer we do a run",
    "start": "2434980",
    "end": "2443110"
  },
  {
    "text": "like a percent faster than Linux on pure memory based workloads which i think is",
    "start": "2443110",
    "end": "2448180"
  },
  {
    "text": "quite cool we have to see how the the",
    "start": "2448180",
    "end": "2456220"
  },
  {
    "text": "event model handles external interrupts yes and yes so the question was about",
    "start": "2456220",
    "end": "2468490"
  },
  {
    "text": "user interfaces and graphics on bare metal we do have support for SVG a frame",
    "start": "2468490",
    "end": "2474730"
  },
  {
    "text": "buffer so I think like there was this guy who sort of ported so some retro games to include OS so those work I",
    "start": "2474730",
    "end": "2483460"
  },
  {
    "text": "guess that's not really what you're interested in I know that there have been some people in the cute community",
    "start": "2483460",
    "end": "2491190"
  },
  {
    "text": "that have looked at include Wes for basically embedded devices with screens",
    "start": "2491190",
    "end": "2498660"
  },
  {
    "text": "that could look a look at running running cute that's all I know that there been interest there okay it",
    "start": "2498660",
    "end": "2508930"
  },
  {
    "text": "is cute what you're after yeah I thought so any other questions",
    "start": "2508930",
    "end": "2515640"
  },
  {
    "text": "[Music] yeah so this is an existing application",
    "start": "2520130",
    "end": "2525819"
  },
  {
    "text": "or an existing library yeah Alfred",
    "start": "2525819",
    "end": "2532859"
  },
  {
    "text": "[Music]",
    "start": "2554120",
    "end": "2557290"
  },
  {
    "text": "the question was was compiler yes yeah",
    "start": "2647080",
    "end": "2653030"
  },
  {
    "text": "Clank five or 5:01 nothing like that was it yeah six rate as well okay yeah yeah",
    "start": "2653030",
    "end": "2663160"
  },
  {
    "text": "it's not too painful yeah it creates slow code but it's predictably slow code",
    "start": "2663160",
    "end": "2671530"
  },
  {
    "text": "it's not as fast as GCC six yeah so if",
    "start": "2671530",
    "end": "2682550"
  },
  {
    "text": "we build with GCC it builds nicely just doesn't do it [Laughter]",
    "start": "2682550",
    "end": "2691540"
  },
  {
    "text": "so I think we're at the point in time where we should end so thank you very",
    "start": "2724090",
    "end": "2729380"
  },
  {
    "text": "much if you have any questions please",
    "start": "2729380",
    "end": "2737900"
  },
  {
    "text": "grab me Alfred",
    "start": "2737900",
    "end": "2741010"
  }
]